{"version":3,"sources":["../../../taoQtiItem/views/js/portableLib/jquery_2_1_1.js","../../../taoQtiItem/views/js/portableLib/OAT/util/xml.js","../../../taoQtiItem/views/js/portableLib/OAT/util/math.js","../../../taoQtiItem/views/js/portableLib/jquery.qtip.js","../../../taoQtiItem/views/js/portableLib/OAT/util/tooltip.js","../../../taoQtiItem/views/js/portableLib/OAT/util/html.js","../../../pciWiquid/views/js/pciCreator/dev/snap/runtime/js/lib/snapsrc.js","../../../pciWiquid/views/js/pciCreator/dev/snap/runtime/js/renderer.js","../../../taoQtiItem/views/js/portableLib/lodash.js","../../../taoQtiItem/views/js/portableLib/OAT/util/EventMgr.js","../../../taoQtiItem/views/js/portableLib/OAT/util/event.js","../../../pciWiquid/views/js/pciCreator/dev/snap/runtime/SnapForTao.amd.js"],"names":["define","global","factory","module","exports","document","w","Error","window","this","noGlobal","isArraylike","obj","length","type","jQuery","isWindow","nodeType","winnow","elements","qualifier","not","isFunction","grep","elem","i","call","risSimple","test","filter","indexOf","sibling","cur","dir","createOptions","options","object","optionsCache","each","match","rnotwhite","_","flag","completed","removeEventListener","ready","Data","Object","defineProperty","cache","get","expando","Math","random","dataAttr","key","data","name","undefined","replace","rmultiDash","toLowerCase","getAttribute","rbrace","parseJSON","e","data_user","set","returnTrue","returnFalse","safeActiveElement","activeElement","err","manipulationTarget","content","nodeName","firstChild","getElementsByTagName","appendChild","ownerDocument","createElement","disableScript","restoreScript","rscriptTypeMasked","exec","removeAttribute","setGlobalEval","elems","refElements","l","data_priv","cloneCopyEvent","src","dest","pdataOld","pdataCur","udataOld","udataCur","events","hasData","access","handle","event","add","extend","getAll","context","tag","ret","querySelectorAll","merge","fixInput","rcheckableType","checked","defaultValue","actualDisplay","doc","style","appendTo","body","display","getDefaultComputedStyle","css","detach","defaultDisplay","elemdisplay","iframe","documentElement","contentDocument","write","close","curCSS","computed","width","minWidth","maxWidth","getStyles","getPropertyValue","contains","rnumnonpx","rmargin","addGetHookIf","conditionFn","hookFn","apply","arguments","vendorPropName","capName","toUpperCase","slice","origName","cssPrefixes","setPositiveNumber","value","subtract","matches","rnumsplit","max","augmentWidthOrHeight","extra","isBorderBox","styles","val","cssExpand","getWidthOrHeight","valueIsBorderBox","offsetWidth","offsetHeight","support","boxSizingReliable","parseFloat","showHide","show","hidden","values","index","isHidden","Tween","prop","end","easing","prototype","init","createFxNow","setTimeout","fxNow","now","genFx","includeWidth","which","attrs","height","opacity","createTween","animation","tween","collection","tweeners","concat","defaultPrefilter","props","opts","toggle","hooks","oldfire","anim","orig","dataShow","queue","_queueHooks","unqueued","empty","fire","always","overflow","overflowX","overflowY","rfxtypes","isEmptyObject","done","hide","remove","start","propFilter","specialEasing","camelCase","isArray","cssHooks","expand","Animation","properties","result","stopped","animationPrefilters","deferred","Deferred","tick","currentTime","remaining","startTime","duration","temp","percent","tweens","run","notifyWith","resolveWith","promise","originalProperties","originalOptions","push","stop","gotoEnd","rejectWith","map","fx","timer","progress","complete","fail","addToPrefiltersOrTransports","structure","dataTypeExpression","func","dataType","dataTypes","unshift","inspectPrefiltersOrTransports","jqXHR","inspect","selected","inspected","prefilterOrFactory","dataTypeOrTransport","seekingTransport","transports","ajaxExtend","target","deep","flatOptions","ajaxSettings","ajaxHandleResponses","s","responses","ct","finalDataType","firstDataType","contents","shift","mimeType","getResponseHeader","converters","ajaxConvert","response","isSuccess","conv2","current","conv","tmp","prev","responseFields","dataFilter","split","state","error","buildParams","prefix","traditional","v","rbracket","getWindow","defaultView","arr","class2type","toString","hasOwn","hasOwnProperty","selector","fn","rtrim","rmsPrefix","rdashAlpha","fcamelCase","all","letter","jquery","constructor","toArray","num","pushStack","prevObject","callback","args","first","eq","last","len","j","sort","splice","copy","copyIsArray","clone","isPlainObject","isReady","msg","noop","Array","isNumeric","globalEval","code","script","indirect","eval","trim","text","head","parentNode","removeChild","string","makeArray","results","inArray","second","invert","callbackExpect","arg","guid","proxy","Date","Sizzle","seed","m","groups","old","nid","newContext","newSelector","preferredDoc","setDocument","documentIsHTML","rquickExpr","getElementById","id","getElementsByClassName","qsa","rbuggyQSA","tokenize","rescape","setAttribute","toSelector","rsibling","testContext","join","qsaError","select","createCache","keys","Expr","cacheLength","markFunction","assert","div","addHandle","handler","attrHandle","siblingCheck","a","b","diff","sourceIndex","MAX_NEGATIVE","nextSibling","createPositionalPseudo","argument","matchIndexes","strundefined","setFilters","tokens","addCombinator","matcher","combinator","base","checkNonElements","doneName","xml","oldCache","outerCache","newCache","dirruns","elementMatcher","matchers","multipleContexts","contexts","condense","unmatched","newUnmatched","mapped","setMatcher","preFilter","postFilter","postFinder","postSelector","preMap","postMap","preexisting","matcherIn","matcherOut","matcherFromTokens","checkContext","leadingRelative","relative","implicitRelative","matchContext","matchAnyContext","outermostContext","matcherFromGroupMatchers","elementMatchers","setMatchers","bySet","byElement","superMatcher","outermost","matchedCount","setMatched","contextBackup","find","dirrunsUnique","pop","uniqueSort","getText","isXML","compile","sortInput","hasDuplicate","docElem","rbuggyMatches","classCache","tokenCache","compilerCache","sortOrder","push_native","booleans","whitespace","characterEncoding","identifier","attributes","pseudos","RegExp","rcomma","rcombinators","rattributeQuotes","rpseudo","ridentifier","matchExpr","ID","CLASS","TAG","ATTR","PSEUDO","CHILD","bool","needsContext","rinputs","rheader","rnative","runescape","funescape","escaped","escapedWhitespace","high","String","fromCharCode","childNodes","els","node","hasCompare","parent","top","addEventListener","attachEvent","className","createComment","innerHTML","getById","getElementsByName","attrId","getAttributeNode","input","matchesSelector","webkitMatchesSelector","mozMatchesSelector","oMatchesSelector","msMatchesSelector","disconnectedMatch","compareDocumentPosition","adown","bup","compare","sortDetached","aup","ap","bp","expr","attr","specified","duplicates","detectDuplicates","sortStable","textContent","nodeValue","selectors","createPseudo",">"," ","+","~","excess","unquoted","nodeNameSelector","pattern","operator","check","what","simple","forward","ofType","nodeIndex","useCache","lastChild","pseudo","idx","matched","has","innerText","lang","elemLang","hash","location","root","focus","hasFocus","href","tabIndex","enabled","disabled","selectedIndex","header","button","even","odd","lt","gt","radio","checkbox","file","password","image","submit","reset","filters","parseOnly","soFar","preFilters","cached","token","compiled","div1","unique","isXMLDoc","rneedsContext","rsingleTag","self","is","rootjQuery","parseHTML","rparentsprev","guaranteedUnique","children","next","until","truncate","n","targets","closest","pos","prevAll","addBack","parents","parentsUntil","nextAll","nextUntil","prevUntil","siblings","reverse","Callbacks","memory","fired","firing","firingStart","firingLength","firingIndex","list","stack","once","stopOnFalse","disable","lock","locked","fireWith","tuples","then","fns","newDefer","tuple","returned","resolve","reject","notify","pipe","stateString","when","subordinate","progressValues","progressContexts","resolveContexts","resolveValues","updateFunc","readyList","readyWait","holdReady","hold","wait","triggerHandler","off","readyState","chainable","emptyGet","raw","bulk","acceptData","owner","uid","accepts","descriptor","unlock","defineProperties","stored","camel","discard","removeData","_data","_removeData","camelKey","dequeue","startLength","setter","clearQueue","count","defer","pnum","source","el","fragment","createDocumentFragment","checkClone","cloneNode","noCloneChecked","focusinBubbles","rkeyEvent","rmouseEvent","rfocusMorph","rtypenamespace","types","handleObjIn","eventHandle","t","handleObj","special","handlers","namespaces","origType","elemData","triggered","dispatch","delegateType","bindType","namespace","delegateCount","setup","mappedTypes","origCount","teardown","removeEvent","trigger","onlyHandlers","bubbleType","ontype","eventPath","Event","isTrigger","namespace_re","noBubble","parentWindow","isPropagationStopped","preventDefault","isDefaultPrevented","_default","fix","handlerQueue","delegateTarget","preDispatch","currentTarget","isImmediatePropagationStopped","stopPropagation","postDispatch","sel","fixHooks","keyHooks","original","charCode","keyCode","mouseHooks","eventDoc","pageX","clientX","scrollLeft","clientLeft","pageY","clientY","scrollTop","clientTop","originalEvent","fixHook","load","blur","click","beforeunload","returnValue","simulate","bubble","isSimulated","defaultPrevented","timeStamp","stopImmediatePropagation","mouseenter","mouseleave","pointerenter","pointerleave","related","relatedTarget","attaches","on","one","origFn","rxhtmlTag","rtagName","rhtml","rnoInnerhtml","rchecked","rscriptType","rcleanScript","wrapMap","option","thead","col","tr","td","optgroup","tbody","tfoot","colgroup","caption","th","dataAndEvents","deepDataAndEvents","srcElements","destElements","inPage","buildFragment","scripts","selection","wrap","nodes","createTextNode","cleanData","append","domManip","prepend","insertBefore","before","after","keepData","html","replaceWith","replaceChild","hasScripts","iNoClone","_evalUrl","prependTo","insertAfter","replaceAll","insert","getComputedStyle","computePixelPositionAndBoxSizingReliable","cssText","container","divStyle","pixelPositionVal","boxSizingReliableVal","backgroundClip","clearCloneStyle","pixelPosition","reliableMarginRight","marginDiv","marginRight","swap","rdisplayswap","rrelNum","cssShow","position","visibility","cssNormalTransform","letterSpacing","fontWeight","cssNumber","columnCount","fillOpacity","flexGrow","flexShrink","lineHeight","order","orphans","widows","zIndex","zoom","cssProps","float","margin","padding","border","suffix","expanded","parts","unit","propHooks","eased","step","linear","p","swing","cos","PI","timerId","rfxnum","rrun","*","scale","maxIterations","tweener","prefilter","speed","opt","speeds","fadeTo","to","animate","optall","doAnimation","finish","stopQueue","timers","cssFn","slideDown","slideUp","slideToggle","fadeIn","fadeOut","fadeToggle","interval","setInterval","clearInterval","slow","fast","delay","time","timeout","clearTimeout","checkOn","optSelected","optDisabled","radioValue","boolHook","removeAttr","nType","attrHooks","nodeHook","propName","attrNames","propFix","getter","rfocusable","removeProp","for","class","notxml","hasAttribute","rclass","addClass","classes","clazz","finalValue","proceed","removeClass","toggleClass","stateVal","classNames","hasClass","rreturn","valHooks","optionSet","hover","fnOver","fnOut","bind","unbind","delegate","undelegate","nonce","rquery","JSON","parse","parseXML","DOMParser","parseFromString","ajaxLocParts","ajaxLocation","rhash","rts","rheaders","rlocalProtocol","rnoContent","rprotocol","rurl","prefilters","allTypes","active","lastModified","etag","url","isLocal","processData","async","contentType","json","* text","text html","text json","text xml","ajaxSetup","settings","ajaxPrefilter","ajaxTransport","ajax","status","nativeStatusText","headers","success","modified","statusText","timeoutTimer","transport","responseHeadersString","ifModified","cacheURL","callbackContext","statusCode","fireGlobals","globalEventContext","completeDeferred","responseHeaders","requestHeaders","requestHeadersNames","strAbort","getAllResponseHeaders","setRequestHeader","lname","overrideMimeType","abort","finalText","method","crossDomain","param","hasContent","beforeSend","send","getJSON","getScript","throws","wrapAll","firstElementChild","wrapInner","unwrap","visible","r20","rCRLF","rsubmitterTypes","rsubmittable","encodeURIComponent","serialize","serializeArray","xhr","XMLHttpRequest","xhrId","xhrCallbacks","xhrSuccessStatus","0","1223","xhrSupported","ActiveXObject","cors","open","username","xhrFields","onload","onerror","responseText","text script","charset","scriptCharset","evt","oldCallbacks","rjsonp","jsonp","jsonpCallback","originalSettings","callbackName","overwritten","responseContainer","jsonProp","keepScripts","parsed","_load","params","animated","offset","setOffset","curPosition","curLeft","curCSSTop","curTop","curOffset","curCSSLeft","calculatePosition","curElem","left","using","win","box","getBoundingClientRect","pageYOffset","pageXOffset","offsetParent","parentOffset","scrollTo","Height","Width","","defaultExtra","funcName","size","andSelf","_jQuery","_$","$","noConflict","addNamespace","ns","removeNamespace","markup","MathJax","render","$container","$wrap","$math","Hub","Queue","amd","qtip","QTip","tooltip","NULL","_id","NAMESPACE","img","plugins","FALSE","onTooltip","lastClass","rendered","destroyed","waiting","hiddenDuringWait","positioning","triggering","invalidOpt","invalidContent","c","sanitizeOptions","metadata","api","loading","newContent","title","my","at","TRUE","PLUGINS","sanitize","convertNotation","notation","levels","setCallback","category","rule","checks","createWidgetClass","cls","WIDGET","showMethod","CLASS_DISABLED","hideMethod","ontoTooltip","SELECTOR","ontoTarget","fixed","inactiveMethod","inactive","repositionMethod","reposition","QTIP","ATTR_ID","posOptions","config","docBody","newTarget","metadata5","html5","defaults","solo","viewport","CORNER","overwrite","ATTR_HAS","suppress","oldtitle","charAt","vendorCss","ucProp","intCss","ceil","Tip","_ns","Modal","Ie6","PROTOTYPE","CHECKS","trackingBound","X","Y","WIDTH","TOP","LEFT","RIGHT","CENTER","FLIPINVERT","SHIFT","INACTIVE_EVENTS","CLASS_FIXED","CLASS_DEFAULT","CLASS_FOCUS","CLASS_HOVER","BROWSER","ie","NaN","iOS","navigator","userAgent","_when","deferreds","posClass","_createPosClass","tracking","adjust","mouse","role","aria-live","aria-atomic","aria-describedby","aria-hidden","_createTitle","_updateTitle","_createButton","_updateContent","_setWidget","instance","initialize","_unassignEvents","_assignEvents","_trigger","destroy","immediate","process","builtin","^id$","o","nextid","newId","^prerender","^content.text$","^content.attr$","^content.title$","_removeTitle","^content.button$","_updateButton","^content.title.(text|button)$","^position.(my|at)$","^position.container$","^show.ready$","^style.classes$","^style.(width|height)","^style.widget|content.title","^style.def","^events.(render|show|move|hide|focus|blur)$","^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)","precedance","rmove","rrender","previous","_update","element","_waitForContent","images","imagesLoaded","titlebar","widget","substr","abbrev","effect","pluginCalculations","adjusted","newClass","tooltipWidth","outerWidth","tooltipHeight","outerHeight","targetWidth","targetHeight","isScroll","x","y","distance","origin","innerWidth","clientWidth","scrollX","scrollY","innerHeight","imagemap","svg","ownerSVGElement","adjustable","isNaN","scroll","scrolled","quirks","compatMode","C","Corner","corner","forceY","f","z","center","identicalState","allow","contentOptions","sameTarget","search","_storeMouse","autofocus","qtips","curIndex","parseInt","newIndex","zindex","enable","isString","aria-label","def","_bind","_unbind","_bindEvents","showEvents","hideEvents","showTargets","hideTargets","showCallback","hideCallback","similarTargets","toggleEvents","showIndex","_assignInitialEvents","hoverIntent","hoverEvent","prerender","showTarget","hideTarget","moveEvent","onTarget","containerTarget","viewportTarget","documentTarget","windowTarget","leave","isAncestor","inactiveEvents","limit","abs","resize","newValue","command","ui","version","move","TIP","createVML","SCALE","PIXEL_RATIO","BACKING_STORE_RATIO","MARGIN","BG_COLOR","HASCANVAS","getContext","INVALID","devicePixelRatio","backingStorePixelRatio","webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","tip","lineJoin","miterLimit","save","create","_swapDimensions","_resetDimensions","_useTitle","_parseCorner","_parseWidth","side","use","_parseRadius","_invalidColour","_parseColours","borderSide","colorElem","color","_calculateSize","bigHyp","ratio","isCenter","pow","round","smallHyp","sqrt","hyp","_calculateTip","width2","height2","tips","br","bl","tl","tc","bc","rc","lc","rt","lb","rb","_drawCoords","coords","beginPath","moveTo","lineTo","closePath","update","bigCoords","translate","newSize","inner","curSize","mimic","restore","clearRect","fillStyle","fill","coordsize","antialias","Number","$this","path","fillcolor","filled","stroked","opera","calculate","corners","userOffset","bottom","right","shiftflip","direction","popposite","opposite","newCorner","shiftonly","xy","horizontal","vertical","cornerTop","cornerLeft","user","^position.my|style.tip.(corner|mimic|border)$","^style.tip.(height|width)$","^content.title|style.(classes|widget)$","MODAL","OVERLAY","focusable","mapName","isTabIndexNotNaN","focusInputs","blurElems","focusableElems","stealFocus","targetOnTop","prevState","mousedown","modal","escape","stealfocus","visibleModals","overlay","modal_zindex","oEvent","^show.modal.(on|blur)$","elemWidth","elemHeight","otherSide","adjustment","side1","side2","lengthName","targetLength","elemLength","initialPos","mySide","atSide","isShift","myLength","atLength","sideOffset","viewportScroll","viewportOffset","containerStatic","containerOffset","overflow1","overflow2","viewportWidth","viewportHeight","min","newMy","methodX","methodY","polys","polygon","baseCoords","newWidth","newHeight","compareX","compareY","realX","realY","floor","rect","ax","ay","bx","by","_angles","ellipse","cx","cy","rx","ry","rxc","rys","sin","circle","r","frameOffset","mtx","transformed","points","strokeWidth2","getBBox","baseVal","x1","y1","x2","y2","numberOfItems","getItem","createSVGPoint","getScreenCTM","matrixTransform","frameElement","area","imageOffset","shape","coordsString","coordsArray","IE6","_scroll","bgiframe","adjustBGIFrame","redrawContainer","redraw","tipAdjust","dimensions","plugin","drawing","perc","ie6","^content|style$","$content","contentHtml","$target","contentId","theme","math","panel_Left","stageSaver","worldwatcher","attemptLimit","snapsrc","actionOrder","snap","localize","SnapTranslator","Localizer","language","dict","nop","dicofr","isNil","thing","detect","predicate","sizeOf","isObject","radians","degrees","fontHeight","MorphicPreferences","minimumFontHeight","isWordChar","aCharacter","newCanvas","extentPoint","nonRetina","canvas","ext","isRetinaEnabled","getMinimumFontHeight","ctx","maxX","font","measureText","textBaseline","fillText","getImageData","getBlurredShadowSupport","arc","shadowBlur","shadowColor","drawImage","getDocumentPositionOf","aDOMelement","offsetLeft","offsetTop","property","valueOf","enableRetinaSupport","getPixelRatio","imageSource","originalDevicePixelRatio","canvasProto","HTMLCanvasElement","contextProto","CanvasRenderingContext2D","uber","getOwnPropertyDescriptor","shadowOffsetX","shadowOffsetY","some","any","configurable","_isRetinaEnabled","_bak","prevPixelRatio","prevWidth","prevHeight","pixelRatio","console","log","sx","sy","sWidth","sHeight","dx","dy","dWidth","dHeight","sw","sh","isRetinaSupported","disableRetinaSupport","normalizeCanvas","aCanvas","getCopy","cpy","Point","delta","onComplete","easings","sinusoidal","endTime","destination","isActive","Color","g","Rectangle","Node","childrenArray","Morph","ShadowMorph","HandleMorph","minX","minY","insetX","insetY","PenMorph","ColorPaletteMorph","sizePoint","GrayPaletteMorph","ColorPickerMorph","defaultColor","BlinkerMorph","rate","CursorMorph","aStringOrTextMorph","BoxMorph","edge","borderColor","SpeechBubbleMorph","isThought","CircleBoxMorph","orientation","SliderButtonMorph","SliderMorph","MouseSensorMorph","InspectorMorph","MenuMorph","environment","fontSize","StringMorph","fontStyle","bold","italic","shadowOffset","fontName","TextMorph","alignment","TriggerMorph","action","labelString","hint","labelColor","labelBold","labelItalic","doubleClickAction","MenuItemMorph","shortcut","shortcutString","FrameMorph","aScrollFrame","ScrollFrameMorph","scroller","sliderColor","ListMorph","labelGetter","format","toSource","StringFieldMorph","defaultContents","BouncerMorph","HandMorph","aWorld","WorldMorph","fillPage","PushButtonMorph","template","ToggleButtonMorph","colors","query","hasPreview","isPicture","TabMorph","ToggleMorph","builder","ToggleElementMorph","DialogBoxMorph","AlignmentMorph","InputFieldMorph","choiceDict","isReadOnly","PianoMenuMorph","soundType","PianoKeyMorph","label","feedback","SyntaxElementMorph","BlockMorph","CommandBlockMorph","HatBlockMorph","ReporterBlockMorph","isPredicate","RingMorph","ScriptsMorph","ArgMorph","CommandSlotMorph","RingCommandSlotMorph","CSlotMorph","InputSlotMorph","TemplateSlotMorph","BooleanSlotMorph","initialValue","ArrowMorph","TextSlotMorph","ColorSlotMorph","clr","BlockHighlightMorph","threadCount","MultiArgMorph","slotSpec","labelTxt","eSpec","arrowColor","isTransparent","ArgLabelMorph","argMorph","FunctionSlotMorph","ReporterSlotMorph","RingReporterSlotMorph","CommentMorph","ScriptFocusMorph","editor","initialElement","snapEquals","List","equalTo","specials","invoke","contextArgs","receiver","timeoutErrorMsg","suppressErrors","proc","Process","deadline","Context","reportContextFor","initializeFor","evaluate","topBlock","homeContext","variables","parentFrame","blockSequence","isCatchingErrors","isRunning","runStep","inputs","ThreadManager","processes","wantsToPause","compteur","compteurGo","nbTry","testLimiter","world","projectName","controlBar","updateLabel","morphOnSet","morph","allMorphs","evalParentMorph","ope","grabOrigine","blockSpec","morphRemover","yieldFirst","blockInProcess","blockToScan","scanBlock","BToScan","closure","slotClosure","serBToScan","blockString","serChildren","serialezedBlock","blockChain","Actor","countOpen","Script","blockReporter","blockRunner","instrument","readyToYield","readyToTerminate","isDead","isClicked","isShowingResult","errorFlag","lastYield","isFirstStep","isAtomic","prompter","httpRequest","isPaused","pauseOffset","frameCount","exportResult","procedureCount","flashingContext","isInterrupted","pushContext","parentContext","expression","outerContext","VariableFrame","pc","isContinuation","activeAudio","activeNote","isCustomBlock","emptySlots","isFlashing","Variable","isTransient","vars","isSnapObject","SpriteMorph","StageMorph","globals","SpriteHighlightMorph","SpriteBubbleMorph","stage","isQuestion","Costume","rotationCenter","shrinkToFit","maxExtent","loaded","SVG_Costume","svgImage","CostumeEditorMorph","costume","Sound","audio","Note","pitch","setupContext","oscillator","CellMorph","parentCell","WatcherMorph","StagePrompterMorph","question","IDE_Morph","isAutoFill","ProjectDialogMorph","ide","LibraryImportDialogMorph","librariesData","SpriteIconMorph","aSprite","aTemplate","CostumeIconMorph","aCostume","TurtleIconMorph","aSpriteOrStage","WardrobeMorph","SoundIconMorph","aSound","JukeboxMorph","StageHandleMorph","PaletteHandleMorph","CamSnapshotDialogMorph","sprite","onCancel","onAccept","PaintEditorMorph","PaintColorPickerMorph","extent","PaintCanvasMorph","array","rest","isLinked","lastChanged","ListWatcherMorph","CustomBlockDefinition","spec","isGlobal","declarations","variableNames","comment","codeMapping","codeHeader","translations","editorDimensions","cachedIsRecursive","cachedTranslation","CustomCommandBlockMorph","definition","isProto","CustomReporterBlockMorph","JaggedBlockMorph","BlockDialogMorph","BlockEditorMorph","PrototypeHatBlockMorph","BlockLabelFragment","isDeleted","BlockLabelFragmentMorph","BlockLabelPlaceHolderMorph","BlockInputFragmentMorph","InputSlotDialogMorph","VariableDialogMorph","BlockExportDialogMorph","serializer","blocks","BlockImportDialogMorph","BlockRemovalDialogMorph","Table","cols","rows","colCount","rowCount","colNames","rowNames","TableCellMorph","isLabel","TableMorph","table","scrollBarSize","startRow","startCol","globalColWidth","colWidths","rowHeight","colLabelHeight","TableFrameMorph","tableMorph","noResize","TableDialogMorph","SymbolMorph","ReadStream","arrayOrString","XML_Element","XML_Serializer","media","isCollectingMedia","isExportingBlocksLibrary","SnapSerializer","Cloud","session","limo","route","loop","requestAnimationFrame","doOneCycle","importString","getSnapProjectScript","snapScript","languages","languageName","language_name","credits","txt","myself","forEach","language_translator","last_changed","unload","keep","en","translator_e-mail","file menu import hint","settings menu prefer empty slots hint","costumes tab help","block deletion dialog text","download to disk text","unable to export text","fr","morphicVersion","modules","useBlurredShadows","standardSettings","globalFontFamily","menuFontName","menuFontSize","bubbleHelpFontSize","prompterFontName","prompterFontSize","prompterSliderSize","handleSize","mouseScrollAmount","useSliderForInput","useVirtualKeyboard","isTouchDevice","rasterizeSVGs","isFlat","grabThreshold","touchScreenSettings","untitled","development mode","Motion","Looks","Pen","Control","Sensing","Operators","Variables","Lists","Other","draggable","Scripts","Costumes","Sounds","Sprite","Stage","don't rotate","can rotate","only face left/right","add a new sprite","add a new Turtle sprite","import a sound from your computer\nby dragging it into here","Stage selected:\nno motion primitives","move %n steps","turn %clockwise %n degrees","turn %counterclockwise %n degrees","point in direction %dir","point towards %dst","go to x: %n y: %n","go to %dst","glide %n secs to x: %n y: %n","change x by %n","set x to %n","change y by %n","set y to %n","if on edge, bounce","x position","y position","switch to costume %cst","next costume","costume #","say %s for %n secs","say %s","think %s for %n secs","think %s","Hello!","Hmm...","change %eff effect by %n","set %eff effect to %n","clear graphic effects","change size by %n","set size to %n %","go to front","go back %n layers","development mode \ndebugging primitives:","console log %mult%s","alert %mult%s","play sound %snd","play sound %snd until done","stop all sounds","rest for %n beats","play note %n for %n beats","change tempo by %n","set tempo to %n bpm","tempo","clear","pen down","pen up","set pen color to %clr","change pen color by %n","set pen color to %n","change pen shade by %n","set pen shade to %n","change pen size by %n","set pen size to %n","stamp","when %greenflag clicked","when %keyHat key pressed","when I am clicked","when I am %interaction","when I receive %msgHat","broadcast %msg","broadcast %msg and wait","Message name","wait %n secs","wait until %b","forever %c","repeat %n %c","repeat until %b %c","if %b %c","if %b %c else %c","report %s","stop block","stop script","stop %stopOthersChoices","stop %stopChoices","stop all %stop","run %cmdRing %inputs","launch %cmdRing %inputs","call %repRing %inputs","run %cmdRing w/continuation","call %cmdRing w/continuation","warp %c","when I start as a clone","create a clone of %cln","delete this clone","pause all %pause","all but this script","other scripts in sprite","this script","this block","touching %col ?","touching %clr ?","color %clr is touching %clr ?","ask %s and wait","what's your name?","answer","mouse x","mouse y","mouse down?","key %key pressed?","distance to %dst","reset timer","%att of %spr","my %get","http:// %s","turbo mode?","set turbo mode to %b","filtered for %clr","stack size","frames","%n mod %n","round %n","%fun of %n","pick random %n to %n","%b and %b","%b or %b","not %b","true","false","join %words","split %s by %delim","hello","letter %n of %s","length of %s","unicode of %s","unicode %n as letter","is %s a %typ ?","is %s identical to %s ?","type of %s","Make a variable","Variable name","Delete a variable","set %var to %s","change %var by %n","show variable %var","hide variable %var","script variables %scriptVars","list %exp","%s in front of %l","item %idx of %l","all but first of %l","length of %l","%l contains %s","add %s to %l","delete %ida of %l","insert %s at %idx of %l","replace item %idx of %l with %s","Make a block","About...","Reference manual","Snap! website","Download source","Switch back to user mode","disable deep-Morphic\ncontext menus\nand show user-friendly ones","Switch to dev mode","enable Morphic\ncontext menus\nand inspectors,\nnot user-friendly!","Project notes...","New","Open...","Save","Save As...","Import...","Export project as plain text...","Export project...","save project data as XML\nto your downloads folder","show project data as XML\nin a new browser window","Export blocks...","show global custom block definitions as XML\nin a new browser window","Unused blocks...","find unused global custom blocks\nand remove their definitions","Remove unused blocks","there are currently no unused\nglobal custom blocks in this project","unused block(s) removed","Export summary...","open a new browser browser window\n with a summary of this project","Import tools","load the official library of\npowerful blocks","Libraries...","Import library","Language...","Blurred shadows","uncheck to use solid drop\nshadows and highlights","check to use blurred drop\nshadows and highlights","Zebra coloring","check to enable alternating\ncolors for nested blocks","uncheck to disable alternating\ncolors for nested block","Prefer empty slot drops","uncheck to allow dropped\nreporters to kick out others","Long form input dialog","check to always show slot\ntypes in the input dialog","uncheck to use the input\ndialog in short form","Virtual keyboard","uncheck to disable\nvirtual keyboard support\nfor mobile devices","check to enable\nvirtual keyboard support\nfor mobile devices","Input sliders","uncheck to disable\ninput sliders for\nentry fields","check to enable\ninput sliders for\nentry fields","Clicking sound","uncheck to turn\nblock clicking\nsound off","check to turn\nblock clicking\nsound on","Turbo mode","check to prioritize\nscript execution","uncheck to run scripts\nat normal speed","Flat design","check for alternative\nGUI design","uncheck for default\nGUI design","Keyboard Editing","uncheck to disable\nkeyboard editing support","check to enable\nkeyboard editing support","Thread safe scripts","check to disallow\nscript reentrance","uncheck to allow\nscript reentrance","Prefer smooth animations","uncheck for greater speed\nat variable frame rates","check for smooth, predictable\nanimations across computers","with inputs","input names:","Input Names:","help","hide primitives","show primitives","help...","duplicate","make a copy\nand pick it up","only duplicate this block","delete","script pic...","open a new window\nwith a picture of this script","ringify","unringify","delete block definition...","edit...","edit","detach from","detach all parts","export...","paint a new sprite","clean up","arrange scripts\nvertically","add comment","make a block...","rename","export","rename costume","Paint a new costume","Play sound","Stop sound","Stop","Play","rename sound","OK","Ok","Cancel","Yes","No","Open","Browser","Examples","Help","Untitled","Open Project","(empty)","Saved!","Delete Project","Are you sure you want to delete","rename...","Costume Editor","click or drag crosshairs to move the rotation center","Project Notes","New Project","Replace the current project with a new one?","Open Projekt","Save Project As...","Export blocks","this project doesn't have any\ncustom global blocks yet","none","for all sprites","for this sprite only","Change block","Command","Reporter","Predicate","Block Editor","Apply","Delete Custom Block","Create input name","Edit input name","Edit label fragment","Title text","Input name","Delete","Text","Any type","Boolean (T/F)","Command\n(inline)","Command\n(C-shape)","Any\n(unevaluated)","Boolean\n(unevaluated)","Single input.","Default Value:","Multiple inputs (value is list of inputs)","Upvar - make internal variable visible to caller","line","tab","cr","About Snap","Back...","License...","Modules...","Credits...","Translators...","License","current module versions:","Contributors","Translations","normal","large","slider","slider min...","slider max...","Slider minimum value","Slider maximum value","length: ","add comment here...","(90) right","(-90) left","(0) up","(180) down","mouse-pointer","pen trails","Turtle","Empty","fisheye","whirl","pixelate","mosaic","saturation","brightness","ghost","negative","comic","confetti","space","up arrow","down arrow","right arrow","left arrow","d","h","k","q","u","1","2","3","4","5","6","7","8","9","new...","tan","asin","acos","atan","ln","e^","number","Boolean","reporter","find blocks...","Login...","Signup...","Reset Password...","show all","pic...","open a new window\nwith a picture of the stage","scripts pic...","open a new window\nwith a picture of all scripts","Stage size...","Zoom blocks...","Plain prototype labels","uncheck to always show (+) symbols\nin block prototype labels","check to hide (+) symbols\nin block prototype labels","check for flat ends of lines","uncheck for round ends of lines","Flat line ends","Codification support","uncheck to disable\nblock to text mapping features","check for block\nto text mapping features","Inheritance support","current %dates","year","month","date","hour","minute","time in milliseconds","day of week","transparence","clicked","pressed","dropped","mouse-entered","mouse-departed","when %b","JavaScript function ( %mult%s ) { %code }","Press CTRL+C one more time to effectively copy to clipboard.","Press CTRL+V one more time to effectively paste from clipboard.","Press CTRL+X one more time to effectively cut to clipboard.","undo","Paintbrush tool\n(free draw)","Stroked Rectangle\n(shift: square)","Stroked Ellipse\n(shift: circle)","Eraser tool","Set the rotation center","Line tool\n(shift: vertical/horizontal)","Filled Rectangle\n(shift: square)","Filled Ellipse\n(shift: circle)","Fill a region","Pipette tool\n(pick a color anywhere)","grow","shrink","flip ↔","flip ↕","Brush size","Constrain proportions of shapes?\n(you can also hold shift)","quadratic","cubic","elastic","sine_in","quad_in","cubic_in","elastic_in","sine_out","quad_out","elastic_out","aColor","hsv","rr","gg","bb","set_hsv","mixed","proportion","otherColor","frac1","frac2","darker","fract","lighter","dansDarker","vv","inverted","aPoint","ge","le","neg","mirror","other","multiplyBy","divideBy","floorDivideBy","theta","crossProduct","distanceTo","rotate","flip","distanceAngle","dist","angle","deg","scaleBy","scalePoint","translateBy","deltaPoint","rotateBy","centerPoint","asArray","originPoint","cornerPoint","rectangle","org","crn","setTo","bottomCenter","bottomLeft","bottomRight","boundingBox","topRight","leftCenter","rightCenter","topCenter","topLeft","aRect","newOrigin","insetBy","expandBy","growBy","intersect","mergeWith","spread","amountToTranslateWithin","containsPoint","containsRectangle","intersects","ro","isNearTo","threshold","factor","asArray_xywh","addChild","aNode","addChildFirst","depth","allChildren","child","forAllChildren","aFunction","anyChild","aPredicate","allLeafs","allParents","parentThatIsA","parentThatIsAnyOf","constructors","yup","trackChanges","noDraw","isMorph","bounds","cachedFullImage","cachedFullBounds","texture","cachedTexture","alpha","isVisible","isDraggable","isTemplate","acceptsDrops","noticesTransparentClick","drawNew","fps","customContextMenu","lastTime","onNextStep","fullChanged","stepFrame","elapsed","leftover","nxt","nextSteps","arrayOfFunctions","lst","fullBounds","fullBoundsNoShadow","visibleBounds","moveBy","silentMoveBy","setPosition","silentSetPosition","setLeft","setRight","setTop","setBottom","setCenter","setFullCenter","keepWithin","aMorph","leftOff","rightOff","topOff","bottomOff","scrollIntoView","sf","adjustScrollBars","setExtent","silently","silentSetExtent","changed","setWidth","silentSetWidth","setHeight","silentSetHeight","setColor","drawCachedTexture","drawTexture","Image","bg","lines","drawOn","sl","st","pic","globalAlpha","fullDrawOn","toggleVisibility","fullImageClassic","fb","fullImage","shadowImage","outline","sha","globalCompositeOperation","fillRect","shadowImageBlurred","shadow","addShadow","getShadow","shadows","removeShadow","penTrails","broken","childChanged","topMorphAt","point","isTransparentAt","topMorphSuchThat","overlappedMorphs","morphs","getPixelColor","fullCopy","Map","copyRecordingReferences","updateReferences","reference","rootForGrab","isCorrectingOutsideDrag","wantsDropOf","pickUp","wrrld","hand","grab","isPickedUp","situation","slideBackTo","msecs","onBeforeDrop","glideTo","justDropped","reactToDropOf","endPoint","animations","endAlpha","oldAlpha","perish","activeHandle","moveCenter","popUpCenteredAtHand","inform","addItem","prompt","floorNum","ceilingNum","isRounded","menu","entryField","items","highlightColor","pressColor","addLine","popUpAtHand","pickColor","colorPicker","getChoice","anotherObject","inspector","Function","inspectee","contextMenu","isDevMode","developersMenu","hierarchyMenu","userMenu","addMenu","setAlphaScaled","toDataURL","newAlpha","unscaled","attach","choices","toggleIsDraggable","colorSetters","numericalSetters","allEntryFields","isEditable","nextEntryField","fields","previousEntryField","editField","nextTab","backTab","previousTab","escalateEvent","functionName","evaluateString","isTouching","otherMorph","oImg","overlappingImage","otherFb","oRect","minExtent","inset","normalImage","highlightImage","drawCrosshairsOnCanvas","drawOnCanvas","strokeStyle","lineWidth","stroke","p1","p11","p2","p22","isSquare","lineCap","mouseDownLeft","newPos","newExt","mouseButton","setPivot","mouseEnter","mouseLeave","isWarped","heading","isDown","wantsRedraw","penPoint","penBounds","facing","setHeading","drawLine","from","turn","steps","down","up","startWarp","endWarp","warp","fun","warpOp","argsArray","warpSierpinski","sierpinski","warpTree","level","tree","targetSetter","choice","mouseMove","updateTarget","setTarget","setTargetSetter","gradient","createLinearGradient","addColorStop","buildSubmorphs","cpal","gpal","viewPadding","ls","keyDownEventUsed","originalContents","originalAlignment","slot","setAlignmentToLeft","gotoSlot","initializeClipboardHandler","clipboardHandler","processKeyPress","processKeyDown","shiftKey","currentKey","selectionStartSlot","deleteSelection","ctrlKey","altKey","ctrl","metaKey","cmd","wordNavigation","selecting","goLeft","previousWordFrom","startMark","endMark","clearSelection","goRight","nextWordFrom","goUp","goDown","goHome","goEnd","deleteRight","deleteLeft","accept","cancel","slotPosition","isScrollable","scrollCursorIntoView","howMany","updateSelection","upFrom","downFrom","startOfLine","endOfLine","gotoPos","slotAt","stopEditing","aChar","selectAll","doIt","inspectIt","showIt","substring","destroyClipboardHandler","inspectKeyEvent","outlinePath","radius","setBorderWidth","setBorderColor","setCornerSize","isPointingRight","isClickable","popUp","destroyTemporaries","temporaries","contentsMorph","rad","fixLayout","autoOrient","autoOrientation","center1","center2","toggleOrientation","is3D","hasMiddleDip","colorBak","drawEdges","pressImage","mouseClickLeft","rangeSize","unitSize","bw","bh","posX","posY","updateValue","relPos","setStart","setStop","setSize","showValue","userSetStart","noUpdate","newStart","newStop","mousePos","newX","newY","isTouched","upStep","downStep","touch","unTouch","currentProperty","showing","markOwnProperties","hasUserEditedDetails","detail","work","buttonInspect","buttonClose","buttonSubset","buttonEdit","resizer","buildPanes","updateCurrentSelection","cnts","currentTxt","keyboardReceiver","enableSelecting","setReceiver","setContents","ev","attribs","isBold","hBar","vBar","isTextLineWrapping","listContents","addProperty","renameProperty","propertyName","removeProperty","lbl","activeIndex","activateIndex","isListContents","submenu","aMenu","indicator","addPair","createLabel","backgroundColor","item","isLine","adjustWidths","scrollFrame","isSelected","createBackgrounds","unselectAllItems","popup","activeMenu","popUpCenteredInWorld","closeRootMenu","closeSubmenu","getFocus","selectFirst","leaveSubmenu","selectUp","enterSubmenu","selectDown","processKeyUp","triggers","popUpSubmenu","aMenuItem","isItalic","isPassword","isShowingBlanks","blanksColor","currentlySelecting","markedTextColor","markedBackgoundColor","ans","textAlign","renderWithBlanks","startX","drawBlank","blank","words","isFirst","word","xOffset","charX","aSlot","rawHeight","setFontSize","disableSelecting","toggleShowBlanks","toggleWeight","toggleItalic","toggleIsPassword","setSerif","setSansSerif","setText","cursor","shiftClick","mouseDoubleClick","selectWordAt","selectBetweenWordsAt","crs","already","newMark","lineSlots","maxLineWidth","newline","paragraphs","oldline","shadowHeight","shadowWidth","offx","offy","layoutChanged","columnRow","row","yOffset","colRow","above","below","selectAllAndEdit","setAlignmentToRight","setAlignmentToCenter","evaluationMenu","schedule","triggerDoubleClick","bubbleHelp","popUpbubbleHelp","createLabelPart","cntr","part","icon","createLabelString","createIcon","isShowingSubmenu","isListItem","delaySubmenu","isSelectedListItem","dirty","submorphBounds","keepInScrollFrame","adjustBounds","subBounds","newBounds","growth","reactToGrabOf","keepAllSubmorphsWithin","autoScrollTrigger","enableAutoScrolling","isScrollingByDragging","hasVelocity","toolBar","hWidth","vHeight","adjustToolBar","addContents","cl","cw","ch","oldPos","deltaX","deltaY","grabPosition","startAutoScrolling","autoScroll","ft","mouseScroll","toggleTextLineWrapping","buildListContents","pair","nb","isStopped","moveUp","moveDown","moveRight","moveLeft","mouseOverList","morphToGrab","grabOrigin","touchHoldTimeout","contextMenuEnabled","morphAtPointer","allMorphsAtPointer","dropTargetFor","oldParent","prepareToBeGrabbed","drop","morphToDrop","selectForEdit","processMouseDown","actualClick","processTouchStart","touches","processMouseUp","processMouseMove","processTouchMove","processTouchEnd","expectedClick","processDoubleClick","mouseOverNew","topMorph","posInDocument","worldCanvas","reactToTemplateCopy","mouseLeaveDragging","newMorph","mouseEnterDragging","processMouseScroll","wheelDeltaY","wheelDelta","wheelDeltaX","processDrop","files","FileList","dataTransfer","getData","aFile","frd","FileReader","droppedImage","onloadend","readAsDataURL","snd","Audio","droppedAudio","droppedText","readAsText","droppedBinary","readAsArrayBuffer","droppedSVG","lastIndexOf","request","onreadystatechange","iurl","useFillPage","lastEditedText","virtualKeyboard","initEventListeners","brokenFor","updateBroken","condenseDamages","stepAnimations","again","hit","trgt","clientHeight","reactToWorldResize","getGlobalPixelColor","initVirtualKeyboard","autocapitalize","clipboardData","mouseDownRight","mouseClickRight","userCreateMorph","foo","bar","baz","garply","fred","customMorphs","toggleDevMode","hideAll","showAllHiddens","about","versions","slide","toggleBlurredShadows","togglePreferences","widgets","labelShadowColor","labelShadowOffset","outlineColor","outlineGradient","contrast","labelMinExtent","isDisabled","drawOutline","outlineStyle","drawBackground","topColor","bottomColor","minInset","createRadialGradient","shading","trueStateLabel","refresh","lw","previewPath","bezierCurveTo","eh","captionString","labelAlignment","toggleElement","shadowAlpha","inactiveColor","titleFontSize","titleTextColor","titleBarColor","titlePadding","buttonContrast","buttonFontSize","buttonCorner","buttonEdge","buttonPadding","buttonOutline","buttonOutlineColor","buttonOutlineGradient","instances","buttons","createButtons","textString","setPicture","addBody","addButton","askYesNo","defaultString","sliderMin","sliderMax","sliderAction","sld","reactToChoice","inp","reactToKeystroke","getValue","promptCode","instructions","frame","bdy","getInput","typeInPadding","drawRectBorder","promptVector","deflt","xLabel","yLabel","labelText","vec","xInp","yInp","xCol","yCol","promptCredentials","purpose","tosURL","tosLabel","prvURL","prvLabel","checkBoxLabel","linkButton","btn","age","birthday","today","getFullYear","getMonth","byr","monthName","bmn","validInputs","indicate","checklist","em","eml","usr","pw1","opw","pw2","agree","chk","emlLabel","dof","mCol","lnk","years","currentYear","firstYear","January","February","March","April","May","June","July","August","September","October","November","December","email","oldpassword","withKey","ok","normalizeSpaces","aMorphOrCanvas","addHead","outlinePathTitle","outlinePathBody","respectHiddens","lfb","cfb","arrow","oldContentsExtent","setChoice","aStringOrFloat","setIsNumeric","dropDownMenu","cachedClr","cachedClrBright","cachedClrDark","C (48)","D (50)","C# (49)","E (52)","Eb (51)","F (53)","G (55)","F# (54)","A (57)","G# (56)","B (59)","Bb (58)","C (60)","D (62)","C# (61)","E (64)","Eb (63)","F (65)","G (67)","F# (66)","A (69)","G# (68)","B (71)","Bb (70)","C (72)","blackkey","keycolor","keywidth","keyheight","keyposition","aPianoKeyItem","selectKey","midiNum","note","piano","play","setScale","rounding","hatHeight","hatWidth","rfBorder","dent","bottomPadding","cSlotPadding","labelPadding","labelFontName","labelFontStyle","embossing","labelWidth","labelWordWrap","dynamicInputLabels","feedbackColor","feedbackMinHeight","minSnapDistance","reporterDropFeedbackPadding","labelContrast","activeHighlight","errorHighlight","activeBlur","activeBorder","rfColor","isCachingInputs","cachedNormalColor","isStatic","cachedInputs","nextBlock","debugCachedInputs","realInputs","allInputs","allEmptySlots","isEmptySlot","tagExitBlocks","stopTag","isCommand","partOfCustomCommand","exitTag","replaceInput","oldArg","newArg","replacement","cachedSlotSpec","startLayout","fixBlockColor","fixLabelColor","endLayout","silentReplaceInput","revertToDefaultInput","noValues","labelPart","parseSpec","scriptTarget","getMethod","setChoices","inputOptionsOfIdx","defaultValueOfInputIdx","emptySlot","isLocked","getVarNamesDict","rcvr","block","tempVars","inputFragmentNames","allNamesDict","refactorVarInStack","oldName","newName","isScriptVar","inputNames","definesScriptVariable","setSpec","currentSprite","inheritsAttribute","selectionID","shadowAttribute","grabbedMorph","affected","allComments","align","getHighlight","addHighlight","removeHighlight","bright","dark","setLabelColor","textColor","isProtectedLabel","flash","unflash","nearestBlock","isForced","isObjInputFragment","addInput","stage image","canBeEmpty","blockColor","isBlockLabelBreak","getSpec","isUnevaluated","(1) sine","(2) square","(3) sawtooth","(4) triangle","csv","any key","ceiling","10^","encode URI","decode URI","encode URI component","decode URI component","XML escape","XML unescape","hex sha512 hash","list1","list2","list3","isLambda","delimiter","parameters","names","getSlotSpec","blockHeight","bottomCorrection","blockWidth","isPrototype","ico","methodIconExtent","initialExtent","arrows","fixHighlight","showBubble","exportPic","morphToShow","anchor","thumbnail","booleanMorph","corral","stageIcon","isTemporary","allExemplars","exportPictureWithResult","aBubble","scr","bub","taller","saveCanvasAs","mappedCode","definitions","zebraContrast","snapSound","toggleSnapSound","instantiationSpec","isCorpse","addWord","inputIdx","placeHolder","userSetSpec","tb","buildSpec","rebuild","addOption","onHint","offHint","renameVar","blck","alternatives","field","shiftClicked","activeProcess","vNames","exportResultPic","refactorThisVar","isInheritedVariable","toggleInheritedVariable","exemplar","isTransientVariable","enableInheritance","xPosition","yPosition","getScale","getCostumeIdx","toggleInheritanceForAttribute","enableCodeMapping","blockAlternatives","relabel","dup","blockEditor","palette","scriptPic","saveXMLAs","vn","doShowVar","hidePrimitive","cat","hiddenPrimitives","doWarp","reifyScript","reifyReporter","reifyPredicate","doDeclareVariables","flushBlocksCache","refreshPalette","shadowedOnly","inheritedVariableNames","varFrame","silentFind","toggleTransientVariable","deleteBlock","tobefixed","isindef","ring","embed","alternativeSelectors","oldInputs","blockForSelector","restoreInputs","setSelector","aSelector","surplus","info","setCategory","blk","leftOver","nestedBlock","showHelp","helpSpec","resourceURL","mapToHeader","codeDefinitionHeader","codeHeaders","mapToCode","codeMappingHeader","codeMappings","mapHeader","aString","mapCode","codeLines","headerLines","bodyLines","defKey","defs","headerLine","indent","trimLeft","partLines","codeLine","hat","alternateBlockColor","blockInstance","justTheTemplate","renameVarTo","doRefactorBlockParameter","doRefactorRingParameter","doRefactorScriptVar","hasSpriteVariable","doRefactorSpriteVar","doRefactorGlobalVar","varExistsError","where","fragMorph","definer","updateBlockLabel","oldValue","newWatcher","oldWatcher","findVariableWatcher","globalVariables","getVar","deleteVariable","addVariable","setVar","toggleVariableWatcher","refactorVariableInstances","customBlocks","eachBlock","globalBlocks","eraseHoles","rightX","isRing","holes","isHole","hole","oldHighlight","highlight","addErrorHighlight","toggleHighlight","highlightImageBlurred","hi","out","highlights","cslot","nearest","forceNormalColoring","fixChildrensBlockColor","hasLabels","initializeVariables","cmnt","hasBlockVars","threads","toggleProcess","enableKeyboard","nextCommand","findProcess","clipWidth","stackFullBounds","drawMethodIcon","isNormal","testOrigin","droppedMorph","startFollowing","stopFollowing","justThis","stackHeight","commentsBottom","stackWidth","commentsRight","enableCustomHatBlocks","pauseCustomHatBlocks","stopButton","bottomBlock","topAttachPoint","dentCenter","bottomAttachPoint","wrapAttachPoint","dentLeft","attachTargets","tp","loc","enableNestedAutoWrapping","isStop","allAttachTargets","newParent","topBlocks","rejectsHats","closestAttachTarget","thresh","ref","minDist","eachTarget","eachRef","offsetY","clearDropInfo","lastDroppedBlock","recordDrop","lastDropTarget","lastNextBlock","lastWrapParent","slotAttachPoint","userDestroy","userDestroyJustThis","dropRecord","removeBlock","pb","cs","drawTop","drawBody","drawBottom","drawTopDentEdge","drawBottomDentEdge","drawLeftEdge","drawRightEdge","drawTopLeftEdge","drawBottomRightEdge","drawDent","upperGradient","lowerGradient","leftGradient","lgx","rightGradient","drawFlatBottomDentEdge","sa","sp","closestInput","lastReplacedInput","lastPreservedBlocks","handMorph","determineSlotSpec","elementSpec","stopProcess","startProcess","drawDiamond","drawRounded","h2","aBlock","vanishForSimilar","cleanUpMargin","cleanUpSpacing","isPreferringEmptySlots","feedbackMorph","isAnimating","showCommentDropFeedback","showReporterDropFeedback","showCommandDropFeedback","lists","showCSlotWrapFeedback","closestBlock","titleBar","srcBlock","trgBlock","touchingVariadicArrowsIfAny","handPos","stacks","blackList","hasUndropQueue","lastRecord","nextRecord","flushPaletteCache","cleanUp","exportScriptsPicture","scriptsPicture","addComment","undrop","lastOrigin","recoverLastDrop","updateToolbar","redrop","forRedrop","rec","lastGrabOrigin","record","addToolbar","shade","undoButton","redoButton","keyboardButton","sortedElements","fixMultiArgs","oldFlag","toggleKeyboardEntry","sorted","sortedScripts","executeOnSliderEdit","reactToSliderEdit","isThreadSafe","enableSingleStepping","listIcon","objectIcon","drawFlat","isFilled","ins","rf","reify","nested","drawTopRightEdge","drawTopEdge","drawBottomEdge","constant","dta","isConstant","userSetContents","menuFromDict","noEmptyOption","messagesMenu","allNames","allMessageNames","messagesReceivedMenu","any message","collidablesMenu","distancesMenu","clonablesMenu","objectsMenu","typesMenu","enableFirstClass","sound","gettablesMenu","neighbors","other sprites","clones","other clones","enableNesting","costumes","sounds","attributesMenu","objName","varNames","costume name","costumesMenu","soundsMenu","shadowedVariablesMenu","shadowedAttributes","pianoKeyboardMenu","readonly","arrowWidth","reactToEdit","freshTextEdit","mapStringToCode","mapNumberToCode","drawRoundBorder","objects","isTernary","isBinary","boolOrNull","toggleValue","mapTrueToCode","mapFalseToCode","boolTrue","boolFalse","textLabel","drawLabel","drawKnob","w2","r2","slideStep","pad","getUserColor","mouseMoveBak","mouseDownBak","mouseUpBak","pal","readout","updateReadout","leftArrow","rightArrow","minInputs","noticesTransparentclick","anArray","fixArrowsLayout","dim","newPart","removeInput","oldPart","repetition","mapCodeList","mapCodeItem","mapCodeDelimiter","itemCode","delim","refreshScale","stickyOffset","isCollapsed","toggleExpand","setTextWidth","textWidth","pixels","tw","ignoreLayer","affectedBlocks","rightMost","atEnd","manifestStatement","manifestExpression","newScript","insertVariableGetter","deleteLastElement","lastElement","insertBlock","nextElement","blockTypes","vName","variableBlock","shiftScript","lastCommand","cm","nextScript","lastScript","runScript","processKeyEvent","reactToKeyEvent","keyName","searchBlocks","rightAway","glow","newProc","removeTerminatedProcesses","processesForBlock","stopAll","excpt","stopAllForReceiver","stopAllForBlock","aTopBlock","pauseAll","pause","pauseAllActiveSounds","resumeAll","resume","resumeAllActiveSounds","flashTime","stopTalking","isTable","only","doWhen","stopIt","pred","message","toggleSingleStepping","enableLiveCoding","pauseStep","evaluateContext","popContext","stopMusic","flashPausedContext","exp","expectReport","evaluateSequence","evaluateMultiSlot","evaluateArgLabel","bindingID","evaluateInput","evaluateBlock","argCount","evaluateNextInput","flashContext","returnValueToParentContext","handleError","reportOr","reportAnd","doReport","outer","doStopCustomBlock","doStopWarping","multiSlot","argLabel","doYield","errorObsolete","parameterNames","reportScript","reportJSFunction","parmNames","doRun","blockReceiver","runContinuation","exit","runnable","caller","parms","addVar","fork","ignoreExit","doStopBlock","doCallCC","aContext","isReporter","continuation","reportCallCC","copyForContinuationCall","evaluateCustomBlock","semanticSpec","isDirectlyRecursive","doSetVar","varName","doSet","doChangeVar","changeVar","reportGetVar","watcher","others","doChangePrimitiveVisibility","watchers","doHideVar","doRemoveTemporaries","hideIt","doDeleteAttr","attrName","inheritAttribute","inputOption","doTellTo","reportAttributeOf","reportAskFor","reportNewList","reportCONS","car","cdr","assertType","cons","reportCDR","doAddToList","doDeleteFromList","doInsertInList","reportRandom","doReplaceInList","put","reportListItem","reportListLength","reportListContainsItem","doShowTable","doIf","doIfElse","doStop","doStopAll","keysPressed","stopAllActiveSounds","removeAllClones","pauseButton","doStopThis","doStopOthers","frameRate","reportIsFastTracking","isFastTracked","doSetFastTracking","reportIsA","startFastTracking","stopFastTracking","doPauseAll","doForever","doRepeat","counter","doUntil","goalCondition","doWaitUntil","reportMap","doForEach","upvar","doWait","secs","doGlide","endX","endY","startValue","gotoXY","glide","doSayFor","doThinkFor","doThink","doPlaySoundUntilDone","playSound","ended","terminated","doStopAllSounds","thread","doAsk","isStage","isHiddenSprite","isDone","lastAnswer","inputField","reportLastAnswer","reportURL","protocol","doBroadcast","thisObj","trg","rcvrs","procs","getOtherObject","itemsArray","lastMessage","allHatBlocksFor","doBroadcastAndWait","activeSends","getLastMessage","typeString","reportTypeOf","thingType","assertAlive","reportSum","reportDifference","reportProduct","reportQuotient","reportModulus","reportLessThan","reportNot","reportGreaterThan","reportEquals","reportIsIdentical","isImmutable","reportBoolean","reportRound","reportMonadic","fname","LN10","reportTextFunction","encodeURI","decodeURI","decodeURIComponent","unescape","hex_sha512","reportJoin","reportJoinWords","aList","asText","reportLetter","reportStringSize","reportUnicode","str","charCodeAt","reportUnicodeAsLetter","reportTextSplit","del","strType","delType","parseCSV","re_valid","re_value","m0","m1","m2","m3","alert","stageObj","thatObj","getObjectsNamed","cloneOriginName","those","doFaceTowards","faceToXY","reportMouseX","reportMouseY","doGotoObject","createClone","newClone","reportTouchingObject","objectTouchingObject","penTrailsMorph","reportTouchingColor","colorFiltered","reportColorIsTouchingColor","color1","color2","reportDistanceTo","attribute","reportGet","neighborhood","specimens","rotatesWithAnchor","xCenter","yCenter","reportCostumes","allParts","attachPart","detachFromAnchor","setExemplar","release","perpetuate","setRotationX","setRotationY","otherObj","reportMouseDown","reportKeyPressed","keyString","doResetTimer","resetTimer","reportTimer","getTimer","reportDate","datefn","currDate","inputFn","dateMap","doMapCodeOrHeader","anOption","doMapCode","doMapHeader","doMapValueCode","doMapListCode","kind","key1","key2","reportMappedCode","doRest","beats","reportTempo","getTempo","doChangeTempo","changeTempo","doSetTempo","bpm","setTempo","doPlayNote","doPlayNoteForSecs","doSetInstrument","reportStackSize","stackSize","reportFrameCount","flashable","lastFlashable","doInterrupt","doIdle","cont","copyForContinuation","prepareContinuationForBinding","deepCopy","sender","shadowVar","deleteVar","srcDict","trgtDict","eachKey","categories","motion","looks","pen","control","sensing","operators","paletteColor","paletteTextColor","isCachingPrimitives","useFlatLineEnds","highlightBorder","bubbleColor","bubbleFontSize","bubbleFontIsBold","bubbleCorner","bubbleBorder","bubbleBorderColor","bubbleMaxTextWidth","initBlocks","turnLeft","changeXPosition","setXPosition","changeYPosition","setYPosition","bounceOffEdge","doSwitchToCostume","doWearNextCostume","changeEffect","setEffect","clearEffects","changeScale","comeToFront","goBack","doScreenshot","dev","reportSounds","changeHue","setHue","changeBrightness","setBrightness","changeSize","doStamp","floodFill","reportPenTrailsAsCostume","receiveGo","receiveKey","receiveInteraction","receiveMessage","receiveCondition","receiveOnClone","removeClone","reportThreadCount","getLastAnswer","alias","reportFalse","initBlockMigrations","blockMigrations","receiveClick","reportTrue","doMapStringCode","normalExtent","rotationStyle","inheritedMethodsCache","nestingScale","layers","blocksCache","paletteCache","rotationOffset","wasWarped","graphicsValues","cachedPropagation","inheritedAttributes","forClone","cb","att","addSpecimen","copyAndBindTo","allBlockInstances","cst","dp","appearIn","newSpriteName","addSprite","sprites","setName","currentCenter","isFlipped","isLoadingCostume","stageScale","costumeExtent","flipped","applyGraphicsEffects","wearCostume","silentGotoXY","createImageData","putImageData","setDefaults","migration","blockTemplates","isGhosted","newBlock","inheritedVars","watcherToggle","toggleWatcher","showingWatcher","variableWatcherToggle","showingVariableWatcher","helpMenu","isVariableNameInUse","makeBlockButton","deletableVariableNames","makeBlock","dlg","currentCategory","freshPalette","searchButton","makeButton","hideNextSpace","more","hiddens","templateInstance","inheritedBlocks","blocksMatching","searchString","strictly","labelOf","aBlockSpec","fillDigits","anInt","totalDigits","fillChar","relevance","aBlockLabel","aSearchString","atWord","primitive","blocksDict","reporterized","rel","blocksList","reporterize","scriptFocus","showSelection","searchPane","searchBar","oldSearch","createPalette","logo","expressionString","parseInfix","blockFromAST","ast","monads","inps","reverseDict","-","/","%","=","<","&","|","!","deleteVariableWatcher","addCostume","noShadow","positionTalkBubble","doWearPreviousCostume","addSound","activeSounds","aud","isAppMode","exportSprite","selectSprite","showOnStage","duplicateSprite","instantiate","instantiateSprite","removeSprite","immediately","cloneCount","clonify","hats","initClone","corpsify","perpetuateAndEdit","inst","createCorral","getHue","getBrightness","layer","targetLayer","newLayer","otherSprite","originalAlpha","clearPenTrails","percentage","realScale","xDist","yDist","graphicsChanged","imagedata","newImageData","newPixels","centerX","centerY","srcX","srcY","srcI","atan2","scaleX","scaleY","whirlRadians","radiusSquared","sina","cosa","hueShift","saturationShift","brightnessShift","span","newR","newG","newB","rcom","gcom","bcom","eff","getGhostEffect","talkBubble","middle","recordLayers","refreshInheritedAttribute","restoreLayers","receiveUserInteraction","stagePos","damagedFrom","damagedTo","damaged","read","trailsCanvas","newCostumeName","shrinkWrap","justMe","inheritsX","inheritsY","nestingBounds","isFinite","penSize","penState","startPoint","fraction","rPos","dirX","dirY","absoluteX","setRotationCenter","absoluteY","absoluteCoordinate","moveRotationCenter","worldCoordinate","msgs","allHatBlocksForKey","allHatBlocksForInteraction","interaction","allGenericHatBlocks","watcherFor","deleteAllBlockInstances","allIndependentInvocationsOf","purgeCorpses","allSpecimens","inDefinitions","allLocalBlockInstances","eachScript","aSpec","allInvocationsOf","addAllInvocationsOf","allDependentInvocationsOf","inScripts","inBlockEditors","allEditorBlockInstances","getLocalMethod","inPalette","paletteBlockInstance","usesBlockInstance","forRemoval","skipGlobals","skipBlocks","doubleDefinitionsFor","blockList","replaceDoubleDefinitionsFor","doubles","double","chooseExemplar","eachSprite","another","emancipate","prune","shadowAllAttributes","shadowAllMethods","shadowAllVars","removeSpecimen","aName","updatePropagationCache","inherited","wardrobe","jukebox","createSpriteEditor","spriteEditor","own","locals","allBlocks","ownBlocks","valuesOnly","inheritedMethods","xOut","compositeOperation","fullThumbnail","thumb","sym","detachPart","detachAllParts","allAnchors","layerCache","ignoredCostume","ix","stem","imgSource","enableSublistIDs","timerStart","watcherUpdateFrequency","lastWatcherUpdate","relativePos","ws","hs","trails","excludedSprite","leftPos","keyPressed","stepGenericConditions","hatCount","fireKeyEvent","removePressedKey","fireGreenFlagEvent","editScripts","createNewProject","openProjectsBrowser","fireStopAllEvent","saveProjectsBrowser","hasChangedMedia","spriteBar","tabBar","tabTo","showAll","fimg","dataAsMorph","isText","scaledImg","canvasBoundingBox","getAlpha","anIDE","isnew","oncancel","onsubmit","openIn","editRotationPointOnly","dialog","isTainted","rp","createTexture","grey","audioContext","gainNode","AudioContext","mozAudioContext","msAudioContext","oAudioContext","webkitAudioContext","createGain","createGainNode","gain","createOscillator","noteOn","noteOff","frequency","connect","isBig","big","isCircular","listwatcher","isSameList","isSameTable","drawShadow","listWatcher","textMorph","enableTables","currentValue","readoutColor","labelMorph","sliderMorph","cellMorph","setSliderMin","setSliderMax","isList","monitor","filePicker","txtOnlyMsg","ftype","saveFileAs","setStyle","styleNormal","styleLarge","styleSlider","userSetSliderMin","userSetSliderMax","gui","setDefaultDesign","frameColor","groupColor","buttonLabelColor","tabColors","rotationStyleColors","appModeColor","scriptsPaneTexture","scriptsTexture","setFlatDesign","userLanguage","projectsInURLs","applySavedSettings","cloudMsg","currentTab","projectNotes","logoURL","paletteHandle","stageHandle","corralBar","isSmallStage","paletteWidth","stageRatio","wasSingleStepping","loadNewProject","shield","savingPreferences","getURL","showMessage","applyFlags","editMode","toggleAppMode","noRun","runScripts","hideControls","onbeforeunload","noExitWarning","interpretUrlAnchors","rawOpenProjectString","SnapCloud","parseDict","Username","getPublicProject","encodeDict","projectData","rawOpenCloudDataString","cloudError","ProjectName","urlLanguage","setLanguage","createCloudAccount","hasLocalStorage","localStorage","parseResponse","intervalHandle","createLogo","createControlBar","createCategories","createStage","createSpriteBar","createCorralBar","snapMenu","startButton","projectButton","settingsButton","stageSizeButton","appModeButton","steppingButton","cloudButton","refreshResumeSymbol","steppingSlider","refreshSlider","pauseSymbols","addCategoryButton","buttonWidth","buttonHeight","xPadding","forSearching","createPaletteHandle","createStageHandle","addRotationStyleButton","rotationStyleButtons","symbols","labels","nameField","padlock","thumbSize","tabString","acceptDrops","newbutton","paintbutton","cambutton","enableCamera","notSupportedMessage","spriteIcon","arrangeIcons","maxPaletteWidth","setProjectName","minExt","maxHeight","minRatio","maxRatio","anImage","anAudio","openProjectString","openCloudDataString","openBlocksString","openSpritesString","openMediaString","openScriptString","anArrayBuffer","loadYPR","buffer","reader","sb","Reader","pname","XMLWriter","readYPR","Uint8Array","ypr","shouldIgnorePosition","oldTop","pressStart","toggleFastTracking","toggleVariableFrameRate","toggleCameraSupport","togglePauseResume","stopAllScripts","toggleRetina","refreshIDE","defaultDesign","removeSetting","flatDesign","saveSetting","newProject","design","getSetting","longform","longurls","plainprototype","keyboard","tables","tableLines","autoWrapping","isLaunchingExpanded","highContrast","plainLabel","addNewSprite","rnd","paintNewSprite","newCamSprite","camDialog","ignoredSprite","cloudMenu","exportProjectMedia","exportProjectNoMedia","exportProjectAsCloudData","prj","settingsMenu","addPreference","projectMenu","graphicsName","exportProject","exportGlobalBlocks","removeUnusedBlocks","exportProjectSummary","libraries","parseResourceFile","importMedia","getMediaList","dirname","alphabetically","fileName","description","folderName","popupMediaImportDialog","selectedIcon","turtle","fp","fw","cstTemplate","sndTemplate","isSVG","isSound","prevSelected","onloadeddata","createThumbnail","btoa","aboutSnap","aboutTxt","noticeTxt","creditsTxt","btn1","btn2","btn3","btn4","licenseBtn","translatorsBtn","editProjectNotes","saveProject","saveProjectToCloud","rawSaveProject","setURL","plain","dataPrefix","found","unused","every","trgIdx","app","pics","useDropShadows","addNode","addImage","inline","para","addVariables","ul","listMorph","li","addBlocks","blockImg","meta","notes","toc","globalVars","paragraph","ol","tocEntry","openProject","customSnapContext","rawOpenBlocksString","loadBlocks","rawOpenSpritesString","loadSprites","loadMedia","rawOpenScriptString","loadScript","fileType","fileExt","blobIsSupported","Blob","components","atob","saveAs","switchToUserMode","switchToDevMode","toggleZebraColoring","toggleDynamicInputLabels","toggleLongFormInputDialog","togglePlainPrototypeLabels","togglePreferEmptySlotDrops","toggleVirtualKeyboard","toggleInputSliders","toggleSliderExecute","appMode","toggleStageSize","isSmall","forcedRatio","zoomTo","targetRatio","smallRatio","altClicked","setPaletteWidth","confirm","languageMenu","openDefaultProject","impString","reflectLanguage","urlBar","userSetBlocksScale","scrpt","sample","setBlocksScale","normal (1x)","demo (1.2x)","presentation (1.4x)","big (2x)","huge (4x)","giant (8x)","monstrous (10x)","userSetStageSize","setStageExtent","userSetDragThreshold","initializeCloud","pwh","login","cloudIcon","signup","resetCloudPassword","resetPassword","changeCloudPassword","changePassword","logout","mediaXML","flushMedia","cloudAcknowledge","cloudResponse","setCloudURL","Snap!Cloud","task","projectList","srcBar","filterField","magnifyingGlass","listField","preview","notesText","notesField","deleteButton","shareButton","unshareButton","buildContents","setSource","notification","addSourceButton","buildFilterField","fixListFieldItemColors","thumbnailSize","symbol","lbl1","lbl2","l1","l2","aProject","Notes","clearDetails","getProjectList","installCloudProjectList","getExamplesProjectList","getLocalProjectList","childNamed","projects","pl","proj","Public","Thumbnail","Updated","openCloudProject","project","rawOpenCloudProject","reconnect","callService","disconnect","saveCloudProject","deleteProject","shareProject","entry","projectId","unshareProject","thin","libraryCache","initializePalette","initializeLibraryDescription","installLibrariesList","importLibrary","hasCached","displayBlocks","libraryXML","cacheLibrary","titleHeight","cachedLibrary","selectedLibrary","libraryName","libraryText","libraryKey","blockImage","previousCategory","blockContainer","msgText","rotationButton","createRotationButton","roationButton","releaseSprite","showSpriteOnStage","copyStack","copyCostume","copySound","editCostume","disinherit","renameCostume","duplicateCostume","newcos","updateList","removeCostume","removeCostumeAt","exportCostume","costumesVersion","spriteVersion","paintNew","newFromCam","createInfo","previewAudio","dur","mod","toggleAudioPlaying","audioHasEnded","renameSound","removeSound","soundsVersion","videoElement","videoView","noCameraSupport","mediaDevices","getUserMedia","video","stream","srcObject","catch","clippingWidth","clippingHeight","videoWidth","videoHeight","dispatchEvent","getTracks","paint","paper","controls","edits","buildEdits","toolbox","buildToolbox","scaleBox","buildScaleBox","propertiesControls","colorpicker","penSizeSlider","penSizeField","primaryColorButton","primaryColorViewer","constrain","populatePropertiesMenu","refreshToolButtons","tools","brush","eraser","crosshairs","rectangleSolid","circleSolid","paintbucket","pipette","tool","toolButton","drawcrosshair","pushButton","clearCanvas","oldim","oldrc","automaticCrosshairs","centermerge","updateAutomaticCenter","alpen","ni","primarycolor","linewidth","currentTool","toolChanged","colorselection","can","dragRect","previousDragPoint","mask","erasermask","background","secondarycolor","brushBuffer","undoBuffer","isShiftPressed","calculateCanvasCenter","canvasBounds","cacheUndo","cachecan","floodfill","sourcepoint","currentpoint","sourcecolor","checkpoint","newW","newH","relpos","mctx","pctx","strokeRect","bkctx","drawFrame","becomeArray","colName","rowName","repeat","columnNames","becomeLinked","tail","loopcount","it","cellColor","range","lastUpdated","lastCell","startIndexMenu","plusButton","anyway","cell","starttime","updateLength","notDone","setStartIndex","arrangeCells","fe","showTableView","view","byob","refreshDefaults","prototypeInstance","headerOnly","idProperty","typeOf","inputName","defaultValueOf","dropDownMenuOfInputIdx","dropDownMenuOf","isReadOnlyInputIdx","isReadOnlyInput","inputOptionsOf","parseChoices","quoted","myspec","localizedSpec","isInput","locParts","sem","abstractBlockSpec","translationsAsText","updateTranslations","scriptsModel","proto","oldVars","aDefinition","newSpec","refreshPrototype","protoSpec","newFrag","frags","specFromFragments","blockCategory","refreshPrototypeSlotTypes","defTemplateSpecFragment","upvarFragmentNames","upvarFragmentName","defSpecFragment","blockSpecFromFragments","blockSpecFragment","declarationsFromFragments","openForChange","isInUse","duplicateBlockDefinition","editTranslations","enableBlockVars","exportBlockDefinition","deleteBlockDefinition","allDefs","jag","jags","blockType","scopes","createCategoryButtons","fixCategoriesLayout","createTypeButtons","creatpanel_LefteButtons","preventTypeChange","addBlockTypeButton","setType","addTypeButton","addScopeButton","setScope","varType","scriptsFrame","isLive","updateDefinition","setInitialDimensions","consolidateDoubles","refreshAllBlockInstances","oldSpec","prototypeSpec","prototypeSlots","prototypeHat","stackFrame","mex","prot","pref","suff","isUpvar","isMultipleInput","isSingleInput","setToSingleInput","singleInputType","setToMultipleInput","setToUpvar","setSingleInputType","sO","frag","isPlaceHolder","isOnlyElement","newFragment","symbolColor","isHighlighted","fh","textfield","slots","isExpanded","cachedRadioButton","noDelete","createSlotTypeButtons","fixSlotsLayout","addSlotsMenu","fragmentType","symbolMenu","defaultSwitch","defaultInputField","noDeleteButton","deleteFragment","defLabel","defInput","defSwitch","addSlotTypeButton","radioButtonSingle","addSlotArityButton","setSlotArity","defaultInputLabel","setSlotType","arity","ypadding","ah","editSlotOptions","exportBlocks","checkBox","lastCat","selectNone","importBlocks","removeBlocks","demo","fillWithTestData","setRows","rowsArray","setCols","colsArray","setColNames","setRowNames","setColName","setRowName","addRow","addCol","toList","eachRow","listSymbol","setData","drawData","txtWidth","txtHeight","dataRepresentation","shouldBeList","isOvershooting","foreground","raggedBoxPath","tm","columnAt","textHeight","tableVersion","rowLabelWidth","columns","maxStartRow","maxStartCol","dragAnchor","resizeAnchor","resizeCol","resizeRow","wantsUpdate","initScrollBars","showData","updateScrollBars","rowLabelsWidth","columnsLayout","visibleRows","colWidth","buildCells","noScrollUpdate","cellIdx","xSteps","ySteps","shiftCells","resizeCells","oldCols","oldRows","colNum","possible","globalExtent","relativeX","resetColumns","openInDialog","showListView","tableView","symbolWidth","symbolCanvasColored","drawSymbolStop","drawSymbolPointRight","drawSymbolStepForward","drawSymbolGears","drawSymbolFile","drawSymbolFullScreen","drawSymbolNormalScreen","drawSymbolSmallStage","drawSymbolNormalStage","drawSymbolTurtle","drawSymbolTurtleOutline","drawSymbolPause","drawSymbolFlag","drawSymbolOctagon","drawSymbolCloud","drawSymbolCloudOutline","drawSymbolCloudGradient","drawSymbolTurnRight","drawSymbolTurnLeft","drawSymbolStorage","drawSymbolPoster","drawSymbolFlash","drawSymbolBrush","drawSymbolRectangle","drawSymbolRectangleSolid","drawSymbolCircle","drawSymbolCircleSolid","drawSymbolLine","drawSymbolCross","drawSymbolCrosshairs","drawSymbolPaintbucket","drawSymbolEraser","drawSymbolPipette","drawSymbolSpeechBubble","drawSymbolSpeechBubbleOutline","drawSymbolTurnBack","drawSymbolTurnForward","drawSymbolArrowUp","drawSymbolArrowUpOutline","drawSymbolArrowLeft","drawSymbolArrowLeftOutline","drawSymbolArrowDown","drawSymbolArrowDownOutline","drawSymbolArrowRight","drawSymbolArrowRightOutline","drawSymbolRobot","drawSymbolMagnifyingGlass","drawSymbolMagnifierOutline","drawSymbolNotes","drawSymbolCamera","drawSymbolLocation","drawSymbolFootprints","drawSymbolKeyboard","drawSymbolKeyboardFilled","clip","vert","r1","r3","r4","drawDisk","fillTop","w3","h3","quadraticCurveTo","n2","nonSpace","nonWord","peek","skip","upTo","peekUpTo","skipSpace","lastIndex","indentation","require","tagName","childrenNamed","parentNamed","isFormatted","indentationLevel","ignoreQuotes","warn","parseString","parseStream","store","mediaIdProperty","mediaDetectionProperty","forBlocksLibrary","flush","mediaID","toXML","addMedia","integer","xmlString","watcherLabels","mediaDict","loadProjectModel","xmlNode","appInfo","rawLoadProjectModel","model","nameID","scheduled","pentrails","ternary","threadsafe","codify","inheritance","sublistIDs","loadCustomBlocks","populateCustomBlocks","loadObject","loadValue","inheritanceInfo","delegated","nestingInfo","synch","costumeNumber","loadVariables","extX","extY","loadColor","scope","targetStage","rotation","loadMediaModel","dispatches","loadInheritanceInfo","loadNestingInfo","loadCostumes","loadSounds","loadScripts","transient","isDispatch","trans","loadComment","loadScriptsArray","loadBlock","collapsed","migrationOffset","obsoleteBlock","loadInput","colorString","thumbdata","reduce","noCostumes","noSounds","noScripts","isVar","toScriptXML","savePosition","toBlockXML","decl","mediaContext","cloud","hasProtocol","setRoute","userNum","callBack","errorCall","withCredentials","stringify","__h","__u","parseAPI","pdata","mediaSize","oldPW","newPW","callURL","stickyUrl","responseList","serviceName","postDict","service","parm","services","entries","serviceDescription","CryptoJS","SHA512","str2rstr_utf8","enc","Hex","output","lib","Base","mixIn","$super","WordArray","sigBytes","clamp","Latin1","da","Utf8","BufferedBlockAlgorithm","_nDataBytes","_append","_process","blockSize","_minBufferSize","_doProcessBlock","Hasher","_doReset","finalize","_doFinalize","_hash","_createHelper","_createHmacHelper","ea","HMAC","algo","x64","Word","low","toX32","W","K","L","M","Z","N","O","aa","P","ba","Q","E","F","D","T","G","R","H","S","I","U","J","B","V","A","fa","ga","ca","HmacSHA512","URL","webkitURL","createElementNS","MouseEvent","HTMLElement","safari","setImmediate","revokeObjectURL","INIT","createObjectURL","download","DONE","msSaveOrOpenBlob","WRITING","onwritestart","onprogress","onwrite","onabort","onwriteend","tao","elementCanvas","panelLeft","leftReducer","leftExpand","importator","renderSnap","panelSizer","assetManager","null","qe","we","__chain__","__wrapped__","je","nt","xt","ze","he","Le","nodeClass","Te","Ye","Xe","Se","tt","Ht","__bindData__","funcNames","funcDecomp","be","Mt","et","ht","ot","dt","argsObject","oe","jt","nr","Dt","er","de","Fe","createCallback","pt","Ee","ee","unindexedChars","nonEnumArgs","enumPrototypes","enumErrorProps","nonEnumShadows","ce","kt","pe","$e","se","Ve","zt","vt","ve","yt","argsClass","ownLast","mt","He","bt","We","_t","wt","Ct","Et","Zt","Ot","Be","St","At","It","Nt","Bt","Pt","Rt","Ft","Tt","$t","Lt","Pe","Kt","qt","Wt","Gt","ar","Jt","Vt","leading","maxWait","trailing","ir","Ce","me","Ut","chain","Qt","Xt","Yt","ut","pick","ne","te","re","ue","ae","TypeError","ye","_e","getPrototypeOf","xe","propertyIsEnumerable","ke","Oe","Ae","Ie","De","Ne","Re","toLocaleString","WinRTError","spliceObjects","templateSettings","interpolate","variable","imports","Ke","Ge","Je","Me","\"","'","Ue","Qe","Ze","ur","or","getTime","lr","assign","bindAll","bindKey","compact","compose","countBy","curry","debounce","difference","flatten","forEachRight","forIn","forInRight","forOwn","forOwnRight","functions","groupBy","indexBy","initial","intersection","mapValues","memoize","omit","pairs","partial","partialRight","pluck","pull","shuffle","sortBy","tap","throttle","times","transform","union","uniq","without","xor","zip","zipObject","collect","eachRight","methods","unzip","cloneDeep","findIndex","findKey","findLast","findLastIndex","findLastKey","identity","isArguments","isBoolean","isDate","isElement","isEmpty","isEqual","isNull","isNumber","isRegExp","isUndefined","mixin","reduceRight","runInContext","sortedIndex","uniqueId","findWhere","foldl","foldr","include","inject","take","VERSION","enumerable","writable","boolean","function","\\","\n","\r","\t"," "," ","EventMgr","addEventMgr","eventMgr","qtiCustomInteractionContext","renderer","SnapForTao","getTypeIdentifier","dom","_this","notifyReady","limiter","testlimiter","setResponse","getResponse","cleanblockTracker","cleanProcessus","countingString","dataURL","canvasArrLenght","resetResponse","setSerializedState","getSerializedState","register","PCI"],"mappings":"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AqU,UAEA5rD,KAAA6K,KACA6K,KACA41C,SACAE,UACAC,KACAC,OACAv2C,UACAw2C,aACA/F,YACArO,MACAqU,UAyoBA,QAAAC,WACAn2C,KACA41C,SACAE,UACAC,KACAC,OACAI,UACAlkD,MACAgkD,SACAD,aACA/F;0GAEA5lD,KAAA6K,KAAA6K,KACA41C,SACAE,UACAC,KACAC,OACAI,UACAlkD,MACAgkD,SACAD,aACA/F,aA+gBA,QAAAmG,cACAn7C,OACAo7C,OACAC,YACAX,SACAE,UACAH,YACAa,KACAC,WACAC,UACAC,YACAC,mBAEAtsD,KAAA6K,KACA+F,OACAo7C,OACAC,YACAX,SACAE,UACAH,YACAa,KACAC,WACAC,UACAC,YACAC,mBAmPA,QAAAC,eACA37C,OACAo7C,OACAC,YACAX,SACAE,UACAH,YACAa,KACA3U,MACAkU,KACAC,OACAY,kBACAE,UAGAxsD,KAAAysD,eAAAD,UAAA,KACAxsD,KAAAwsD,SAAA,KAGAxsD,KAAA6K,KACA+F,OACAo7C,OACAC,YACAX,SACAE,UACAH,YACAa,KACA3U,MACAkU,KACAC,OACAY;6GA0NA,QAAAI,YAAAC,cACA3sD,KAAA6K,KAAA8hD,cAuLA,QAAAC,kBAAAC,SAAAhoB,KAAAioB,aACA9sD,KAAA6K,KAAAgiD,SAAAhoB,KAAAioB,aAgYA,QAAAC,WAAArsD,SAAAssD,YAAAC,OAAAX,mBAqBAtsD,KAAA6K,KACAnK,aACAssD,aAAA,SAAAzd,SACA,MAAAyD,UAAAzD,SACAA,QAEAA,QAAA2d,SACA3d,QAAA2d,WAEA3d,QAAAt8B,YAEAg6C,WACAX,mBAqHA,QAAAa,kBACAC,gBACAvlD,SACAyjD,SACAE,UACAC,KACAC,OACAv2C,WAEAnV,KAAA6K,KACAuiD,iBAAA,GACAvlD,UAAA,IACAyjD,UAAA,GACAE,WAAA,aACAC,OAAA,EACAC,SAAA,EACAv2C;gHAsFA,QAAAk4C,gBACArtD,KAAA6K,OAsFA,QAAAyiD,WAAAC,QACAvtD,KAAA6K,KAAA0iD,QA8mBA,QAAAC,YAAAhF,QAAAiF,UAEAztD,KAAA6K,KAAA29C,QAAAiF,UA2/BA,QAAAC,iBACA98C,OACAo7C,OACAC,YACAZ,YACAa,KACAyB,UAEA3tD,KAAA6K,KACA+F,OACAo7C,OACAC,YACAZ,YACAa,KACAyB,UAsXA,QAAAC,mBACAC,OACAj9C,OACAo7C,OACAC,YACA6B,MACAzC,YACAa,KACAyB,SACA9lD,SACAkmD,WACAC,WAEAhuD,KAAA6K,KACAgjD,OACAj9C,OACAo7C,OACAC,YACA6B,MACAzC,YACAa,KACAyB,SACA9lD,SACAkmD,WACAC,WAgZA,QAAAC,UACAJ,OACAj9C,OACAo7C,OACAC,YACA6B,MACAzC,YACAa;2EAEAlsD,KAAA6K,KACAgjD,OACAj9C,OACAo7C,OACAC,YACA6B,MACAzC,YACAa,MA0GA,QAAAgC,aACAtnD,MACAgK,OACAo7C,OACAC,YACA6B,MACAzC,YACAa,KACAyB,SACApe,QACA4e,SAEAnuD,KAAA6K,KACAjE,MACAgK,OACAo7C,OACAC,YACA6B,MACAzC,YACAa,KACAyB,SACApe,QACA4e,SA0OA,QAAAC,oBACAx9C,OACAo7C,OACAzc,QACAue,MACAzC,YACAa,KACAiC,QACAlC,aAEAjsD,KAAA6K,KACA+F,OACAo7C,OACAzc,QACAue,MACAzC,YACAa,KACAiC,QACAlC,aA6KA,QAAAoC,gBAAAz9C,OAAAo7C,OAAAX,aACArrD,KAAA6K,KAAA+F,OAAAo7C,OAAAX,aA03CA,QAAAiD,gBAAAvD,YAAAz0B,SACAt2B,KAAA6K,KAAAkgD,YAAAz0B;+BAiFA,QAAAi4B,iBAAA74C,KAAAP,UAAAq5C,WAAAC,YACAzuD,KAAA6K,KAAA6K,KAAAP,UAAAq5C,WAAAC,YA8VA,QAAAC,gBAAA99C,OAAAy6C,YAAAC,SAAAqD,WACA3uD,KAAA6K,KAAA+F,OAAAy6C,YAAAC,SAAAqD,WA8PA,QAAAC,eACAh+C,OACAo7C,OACAC,YACAX,SACAE,UACAH,YACAa,KACA3U,MACAkU,KACAC,OACAY,kBACAuC,OAEA7uD,KAAA6K,KACA+F,OACAo7C,OACAC,YACAX,SACAE,UACAH,YA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Ai4D,KAAAp9D,YACA6gD,MAAA7gD,SASA0gD,eAAAG,KAAAwc,IAEAT,cACA,UACAK,oBACA,aACAK,oBACA,kBACAJ,aACA,aAGA/Y,IACA,SAGAoZ,wBACA,yEAEAC,wCACA;4GAEAC,oBACA,gGAEAC,6BACA,4EAEAC,wBACA,qGAEAC,wBACA;6PAMAld,eAAAG,KAAAgd,IACAjB,cACA,WACAK,oBACA,oEACAK,oBACA,kBACAJ,aACA,aAUA,IAAAY,gBAAA,oBACAC,WACAC,kBAAArb,0BAEAsb,kBACAvc,kBAAAS,uBACA+b,iBAAA,GACAC,aAAA,aACAC,aAAA;gBACAC,mBAAA,GACAC,iBAAA,aACAC,iBAAA,GACAC,mBAAA,GACAC,WAAA,GACA7D,cAAA,GACA8D,kBAAA,GACAC,mBAAA,EACAC,oBAAA,EACAC,eAAA,EACAC,eAAA,EACAC,QAAA,EACAC,cAAA,GAGAC,qBACAvd,kBAAAuc,iBAAAvc,kBACAwc,iBAAA,GACAC,aAAA,aACAC,aAAA,GACAC,mBAAA,GACAC,iBAAA,aACAC,iBAAA,GACAC,mBAAA,GACAC,WAAA,GACA7D,cAAA,GACA8D,kBAAA,GACAC,mBAAA,EACAC,oBAAA,EACAC,eAAA,EACAC,eAAA,EACAC,QAAA,EACAC,cAAA,GAGAvd,mBAAAwc;qCA4BA3a,sBASA,IAAAvC,SAwBA6b,cACA,WACAK,oBACA,oEACAK,oBACA,kBACAJ,aACA,aAIAgC,SACA,aACAC,mBACA,mBAGAC,OACA,YACAC,MACA,YACA/J,MACA,OACAgK,IACA,QACAC,QACA,YACAC,QACA,WACAC,UACA,aACAC,UACA,YACAC,MACA,SACAC,MACA,SAGAC,UACA,4BAGAC,QACA,UACAC,SACA,WACAC,OACA,OAGAC,OACA,QACAC,MACA,QAGAC,eACA,4BACAC,aACA;kEACAC,uBACA,oFAGAC,mBACA,2BACAC,0BACA,kCAGA9C,oBACA,uHACA+C,8DACA,gGAmCAC,wCACA;6FAEAC,gBACA,oBACAC,6BACA,kCACAC,oCACA,yCACAC,0BACA,yCACAC,qBACA,uBACAC,oBACA,sBACAC,aACA,eACAC,+BACA,mCACAC,iBACA,iBACAC,cACA,0BACAC,iBACA,iBACAC,cACA,0BACAC,qBACA;uDACAC,aACA,aACAC,aACA,aACAvpB,UACA,YAGAwpB,yBACA,+BACAC,eACA,kBACAC,YACA,aACAC,qBACA,0BACAC,SACA,UACAC,uBACA,4BACAC,WACA,YACAC,SACA,UACAC,SACA,UACAC,2BACA,4BACAC,wBACA,2BACAC,wBACA,gCACAC,oBACA,yBACAC,mBACA;wDACAvgC,KACA,SACA16B,KACA,UACAgD,KACA,SACAk4D,cACA,0BACAC,oBACA,8BAEAC,2CACA,6CACAC,sBACA,sBACAC,gBACA,kBAGAC,kBACA,oBACAC,6BACA,kCACAC,kBACA,wBACAC,oBACA,gCACAC,4BACA,iCACAC,qBACA,sBACAC,sBACA;kDACAC,MACA,QAGAC,MACA,eACAC,WACA,+BACAC,SACA,mBACAC,wBACA,uCACAC,yBACA,mCACAC,sBACA,sCACAC,yBACA,qCACAC,sBACA,uCACAC,wBACA,mCACAC,qBACA,qCACAC,MACA,cACA7sB,KACA,UAGA8sB,0BACA;wDACAC,2BACA,2BACAC,oBACA,wBACAC,yBACA,6BACAC,yBACA,0BACAC,iBACA,sBACAC,0BACA,kCACAC,eACA,iBACAC,eACA,mBACAC,gBACA,sBACAC,aACA,0BACAC,eACA,qBACAC,qBACA,wBACAC,WACA,WACAC,mBACA,oBACAC,YACA;0BACAC,aACA,kBACAC,cACA,oBACAC,0BACA,6BACAC,oBACA,uBACAC,iBACA,qBACAC,uBACA,4BACAC,0BACA,yBACAC,wBACA,2BACAC,8BACA,qCACAC,+BACA,qCACAC,UACA,aACAC,0BACA,gCACAC,yBACA,aACA5I,OACA,WACA6I,oBACA;wCACAC,mBACA,yBACAC,sBACA,sBACAC,0BACA,iCACAC,cACA,YACAC,aACA,UAGAC,kBACA,gBACAC,kBACA,yBACAC,gCACA,6BACAC,kBACA,0BACAC,oBACA,qBACAC,OACA,UACAC,UACA,WACAC,UACA,WACAC,cACA,mBACAC,oBACA,wBACAC,mBACA,mBACAC,cACA;6CACAp6D,MACA,cACAq6D,eACA,eACAC,UACA,gBACAC,aACA,aACAC,cACA,sBACAC,uBACA,gCAEAC,oBACA,mBACAC,aACA,oBACAC,OACA,SAGAC,YACA,YACAC,WACA,gBACAC,aACA,qBACAC,uBACA,kCACAC,YACA,WACAC,WACA,WACAC,SACA,SACAC,KACA,OACAC,MACA,OACAC,cACA,kBACAC,qBACA,8BACAC,MACA,UACA3X,MACA;cACA4X,kBACA,kBACAC,eACA,iBACAC,gBACA,uBACAC,uBACA,0BACAC,iBACA,sBACAC,0BACA,0BAEAC,aACA,aAGAC,kBACA,oBACAC,gBACA,qBACAC,oBACA,yBAEAC,iBACA,0BACAC,oBACA,oBACAC,qBACA,4BACAC,qBACA,0BACAC,+BACA,kCAGAC,YACA;yBACAC,oBACA,oBACAC,kBACA,qBACAC,sBACA,6BACAC,eACA,iBACAC,iBACA,iBACAroB,MACA,UACAsoB,eACA,kBACAC,oBACA,iCACAC,0BACA,oCACAC,kCACA,wCAGAC,eACA,eAIAC,WACA,uBACAC,mBACA,sBACAC,gBACA,oBACAC,kBACA,6BACAC,2BACA;yDACAC,mEACA,iCACAC,qBACA,6BACAC,qEACA,8BAGAC,mBACA,qBACAC,IACA,UACAC,UACA,YACAC,KACA,cACAC,aACA,sBACAC,YACA,cACAlN,wBACA,+EAGAmN,kCACA,oCACAC,oBACA;4CACAC,qDACA,2EACAC,oDACA,gFACAC,mBACA,sBACAC,uEACA,8GACAC,mBACA,sBACAC,iEACA;2HACAC,uBACA,iCACAC,sEACA,sCACAC,0BACA,mCACAC,oBACA,wBACAC,qEACA,uEACAC,eACA,sBACAC,gDACA;wGACAC,eACA,mBACAC,iBACA,4BAGAC,cACA,YACAC,kBACA,gBACAC,oDACA,qEACAC,oDACA,oEACAC,iBACA,wBACAC,wDACA,wEACAC,0DACA;uIACAC,0BACA,6BACA1O,wCACA,iFAEA2O,yDACA,0FAEAC,yBACA,kCACAC,uDACA;qKACAC,iDACA,yEACAC,mBACA,kBACAC,mEACA,qGACAC,gEACA,gGACAC,gBACA;kCACAC,sDACA,2EACAC,mDACA,uEACAC,iBACA,YACAC,6CACA,0EAEAC,0CACA,qEAEAC,aACA,aACAC,wCACA,8CACAC,0CACA;gGACAC,cACA,cACAC,oCACA,8CACAC,kCACA,+CACAC,mBACA,qBACAC,+CACA,gDACAC,4CACA,2CACAC,sBACA,qBACAC,uCACA;uHAEAC,sCACA,4FAEAC,2BACA,2BACAC,qDACA,kEACAC,6DACA,kFAGAC,cACA,eACAC,eACA,sBACAC,eACA;qCAGAC,KACA,OAGAC,kBACA,4BACAC,kBACA,6BAGAC,UACA,UACAC,UACA,YACAC,8BACA,mCACAC,4BACA,2BACAC,OACA,YACAC,gBACA,qBACAC,mDACA,iEACAC,QACA,WACAC,UACA,WAGAC,6BACA,oCACAC,UACA,YAGAC,KACA,SACAz8B,KACA,WACA08B,cACA,cACAC,mBACA;iDACAC,YACA,cACAC,qBACA,4BAGAC,WACA,UACAC,8BACA,8BACAC,cACA,yBACAC,kBACA,2BAGAC,OACA,WACAC,OACA,WACAC,iBACA,sBACAC,sBACA,8BAGAC,aACA,eACAC,aACA,iBACAC,KACA,UACAC,KACA,QACAC,eACA,kBAIAC,GACA,KACAC,GACA,KACAC,OACA,UACAC,IACA,MACAC,GACA,MACAC,KACA,SACAC,QACA,aACAC,SACA,WAGAC,KACA,OAGAC,SACA;sBACAC,eACA,mBACAC,UACA,SACAC,SACA,eACAC,iBACA,sBACAC,kCACA,sCACAC,YACA,cAGAC,iBACA,sBACAC,uDACA,4FAGAC,gBACA,kBAGAC,cACA,iBACAC,8CACA,8CAGAC,eACA,mBAGAC,qBACA,gCAGAC,gBACA;qCACAC,0DACA,0DACAt8D,OACA,eACAxE,IACA,OACA+gE,KACA,QAGAC,kBACA,uBACAC,uBACA,2BAGAC,eACA,kBACAC,QACA,WACAC,SACA,WACAC,UACA,WAGAC,eACA,kBACAC,MACA,YAGAC,sBACA,+BACA1U,6BACA,sFAIA2U,oBACA,2BACAC,kBACA;8CACAC,sBACA,8BACAC,aACA,iBACAC,aACA,kBACAC,OACA,YACAlzE,OACA,QACA43C,OACA,SACAu7B,KACA,QACApkB,KACA,QACAqkB,WACA,YACAC,gBACA,gBACAC,oBACA,uBACAC,qBACA,4BACAC,qBACA,2BACAC,yBACA,yBACAC,gBACA,iBACAC,iBACA,sBACAC,4CACA,0DACAC,mDACA;gHAEAz4D,WACA,iBACA04D,KACA,SACAC,IACA,cACAC,GACA,mBACA3iE,OACA,UAGA4iE,aACA,mBACAC,UACA,YACAC,aACA,aACAC,aACA,aACAC,aACA,mBACAC,iBACA,iBACAC,QACA,UACAC,2BACA,+BACAC,aACA,gBACAC,aACA,cAGAC,OACA,SACAC,MACA,QACAC,OACA,UACAC,gBACA,SACAC,gBACA,SACAC,uBACA,6BACAC,uBACA;oDAGAC,WACA,cAGAC,sBACA,4BAIAC,aACA,gBACAC,aACA,iBACAC,SACA,mBACAC,aACA,oBAGAC,gBACA,kBACAptB,KACA,OACAqtB,aACA,kBAGAC,OACA,WACAC,MACA,OAGA1gC,MACA,UACA2gC,QACA,UACAC,MACA,aACAC,SACA,eACAC,OACA,WACAC,WACA,aACAC,WACA,aACAC,MACA,eACAC,SACA,UACAC,MACA,QACAC,SACA,WAGAC,MACA,SACAC,WACA,sBACAC,aACA,qBACAC,cACA;sCACAC,aACA,wBACAlgE,EACA,IACAC,EACA,IACAmuB,EACA,IACA+xC,EACA,IACAz1E,EACA,IACAwuC,EACA,IACAoX,EACA,IACA8vB,EACA,IACAl4E,EACA,IACAwT,EACA,IACA2kE,EACA,IACAn0E,EACA,IACA2R,EACA,IACA0P,EACA,IACAynB,EACA,IACA9W,EACA,IACAoiD,EACA,IACA94B,EACA,IACArvC,EACA,IACAkb,EACA,IACAktD,EACA,IACA1mE,EACA,IACA9S,EACA,IACA6wC,EACA,IACAC,EACA,IACAsB,EACA,IACA1Q,EACA,IACA+3C,EACA,IACAC,EACA,IACAC,EACA,IACAC,EACA,IACAC,EACA,IACAC,EACA,IACAC,EACA,IACAC,EACA,IACAC,EACA,IAGAC,SACA,aAGAhlC,IACA,aACAgD,KACA,SACAqI,IACA,MACAlpB,IACA,MACA8iD,IACA,MACAC,KACA,OACAC,KACA,OACAC,KACA,OACAC,GACA,KACAC,KACA,KAGAC,OACA,SACA5kE,KACA,QACA6kE,QACA,UACA9yD,KACA,QACAytB,QACA,mBACAslC,SACA,gBACAv2B,UACA,WAGA3vC,KACA,UACA2yC,IACA,iBAGAwzB,iBACA,wBACAxJ,kBACA;0CACAC,kBACA,yBACAwJ,WACA,eACAC,YACA,mBACAC,oBACA,mCACAC,WACA,eACAC,SACA,WACAC,iDACA,yDACAC,iBACA,uBACAC,mDACA,iEACAC,gBACA,wBACAC,iBACA,wBAEAC,yBACA,mCACAC,gEACA;gKACAC,uDACA,+EAEAC,+BACA,gDACAC,kCACA,sDACAC,iBACA,uBAEAC,uBACA,iCACAC,qDACA;iIACAC,4CACA,wEAEAC,sBACA,wBAEAC,iBACA,uBACAC,KACA,QACAC,MACA,OACAC,KACA,OACAC,KACA,QACAC,OACA,SACAjmE,OACA,UACAkmE,uBACA,yBACAC,cACA,qBAEA9D,WACA,aACA+D,aACA,eACA7D,SACA,UACAC,MACA,iBAEA6D,QACA,SACAC,QACA,SACAC,QACA,SACAC,gBACA;0BACAC,iBACA,SACAC,UACA,WAEAC,4CACA,4CAIAC,+DACA,sFACAC,kEACA,wFACAC,8DACA,sFAGAC,KACA,UACAC,+BACA;gEACAC,qCACA,2BACAC,mCACA,0BACAC,cACA,QACAC,0BACA,8BACAC,0CACA,sCACAC,oCACA,gCACAC,kCACA,gCACAC,gBACA,qBACAC,wCACA,mDACAC,KACA,WACAC,OACA,UACAC,SACA,WACAC,SACA;oBACAC,aACA,oBACAC,8DACA,sFA0lBArwE,WAAAhD,UAAAk+C,SAKA/xB,OAAA,SAAA5K,GAAA,MAAAA,IACA48B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","file":"SnapForTao.min.js","sourcesContent":["/**\n * JEROME's note:\n * \n * The only change in jQuery source is the comment added from\n * l. 9190 to l. 9192.\n *\n * Wrapped into a define call with no dependency to scope\n * the whole source code and get rid of the window.$ and window.jQuery.\n *\n * The modification is then minimal (close to automation) to get a pure AMD release\n * of jQuery.\n */\n\ndefine('taoQtiItem/portableLib/jquery_2_1_1',[],function() {\n\n// BEGIN JQUERY SOURCE\n\n/*!\n * jQuery JavaScript Library v2.1.1\n * http://jquery.com/\n *\n * Includes Sizzle.js\n * http://sizzlejs.com/\n *\n * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors\n * Released under the MIT license\n * http://jquery.org/license\n *\n * Date: 2014-05-01T17:11Z\n */\n\n(function( global, factory ) {\n\n\tif ( typeof module === \"object\" && typeof module.exports === \"object\" ) {\n\t\t// For CommonJS and CommonJS-like environments where a proper window is present,\n\t\t// execute the factory and get jQuery\n\t\t// For environments that do not inherently posses a window with a document\n\t\t// (such as Node.js), expose a jQuery-making factory as module.exports\n\t\t// This accentuates the need for the creation of a real window\n\t\t// e.g. var jQuery = require(\"jquery\")(window);\n\t\t// See ticket #14549 for more info\n\t\tmodule.exports = global.document ?\n\t\t\tfactory( global, true ) :\n\t\t\tfunction( w ) {\n\t\t\t\tif ( !w.document ) {\n\t\t\t\t\tthrow new Error( \"jQuery requires a window with a document\" );\n\t\t\t\t}\n\t\t\t\treturn factory( w );\n\t\t\t};\n\t} else {\n\t\tfactory( global );\n\t}\n\n// Pass this if window is not defined yet\n}(typeof window !== \"undefined\" ? window : this, function( window, noGlobal ) {\n\n// Can't do this because several apps including ASP.NET trace\n// the stack via arguments.caller.callee and Firefox dies if\n// you try to trace through \"use strict\" call chains. (#13335)\n// Support: Firefox 18+\n//\n\nvar arr = [];\n\nvar slice = arr.slice;\n\nvar concat = arr.concat;\n\nvar push = arr.push;\n\nvar indexOf = arr.indexOf;\n\nvar class2type = {};\n\nvar toString = class2type.toString;\n\nvar hasOwn = class2type.hasOwnProperty;\n\nvar support = {};\n\n\n\nvar\n\t// Use the correct document accordingly with window argument (sandbox)\n\tdocument = window.document,\n\n\tversion = \"2.1.1\",\n\n\t// Define a local copy of jQuery\n\tjQuery = function( selector, context ) {\n\t\t// The jQuery object is actually just the init constructor 'enhanced'\n\t\t// Need init if jQuery is called (just allow error to be thrown if not included)\n\t\treturn new jQuery.fn.init( selector, context );\n\t},\n\n\t// Support: Android<4.1\n\t// Make sure we trim BOM and NBSP\n\trtrim = /^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g,\n\n\t// Matches dashed string for camelizing\n\trmsPrefix = /^-ms-/,\n\trdashAlpha = /-([\\da-z])/gi,\n\n\t// Used by jQuery.camelCase as callback to replace()\n\tfcamelCase = function( all, letter ) {\n\t\treturn letter.toUpperCase();\n\t};\n\njQuery.fn = jQuery.prototype = {\n\t// The current version of jQuery being used\n\tjquery: version,\n\n\tconstructor: jQuery,\n\n\t// Start with an empty selector\n\tselector: \"\",\n\n\t// The default length of a jQuery object is 0\n\tlength: 0,\n\n\ttoArray: function() {\n\t\treturn slice.call( this );\n\t},\n\n\t// Get the Nth element in the matched element set OR\n\t// Get the whole matched element set as a clean array\n\tget: function( num ) {\n\t\treturn num != null ?\n\n\t\t\t// Return just the one element from the set\n\t\t\t( num < 0 ? this[ num + this.length ] : this[ num ] ) :\n\n\t\t\t// Return all the elements in a clean array\n\t\t\tslice.call( this );\n\t},\n\n\t// Take an array of elements and push it onto the stack\n\t// (returning the new matched element set)\n\tpushStack: function( elems ) {\n\n\t\t// Build a new jQuery matched element set\n\t\tvar ret = jQuery.merge( this.constructor(), elems );\n\n\t\t// Add the old object onto the stack (as a reference)\n\t\tret.prevObject = this;\n\t\tret.context = this.context;\n\n\t\t// Return the newly-formed element set\n\t\treturn ret;\n\t},\n\n\t// Execute a callback for every element in the matched set.\n\t// (You can seed the arguments with an array of args, but this is\n\t// only used internally.)\n\teach: function( callback, args ) {\n\t\treturn jQuery.each( this, callback, args );\n\t},\n\n\tmap: function( callback ) {\n\t\treturn this.pushStack( jQuery.map(this, function( elem, i ) {\n\t\t\treturn callback.call( elem, i, elem );\n\t\t}));\n\t},\n\n\tslice: function() {\n\t\treturn this.pushStack( slice.apply( this, arguments ) );\n\t},\n\n\tfirst: function() {\n\t\treturn this.eq( 0 );\n\t},\n\n\tlast: function() {\n\t\treturn this.eq( -1 );\n\t},\n\n\teq: function( i ) {\n\t\tvar len = this.length,\n\t\t\tj = +i + ( i < 0 ? len : 0 );\n\t\treturn this.pushStack( j >= 0 && j < len ? [ this[j] ] : [] );\n\t},\n\n\tend: function() {\n\t\treturn this.prevObject || this.constructor(null);\n\t},\n\n\t// For internal use only.\n\t// Behaves like an Array's method, not like a jQuery method.\n\tpush: push,\n\tsort: arr.sort,\n\tsplice: arr.splice\n};\n\njQuery.extend = jQuery.fn.extend = function() {\n\tvar options, name, src, copy, copyIsArray, clone,\n\t\ttarget = arguments[0] || {},\n\t\ti = 1,\n\t\tlength = arguments.length,\n\t\tdeep = false;\n\n\t// Handle a deep copy situation\n\tif ( typeof target === \"boolean\" ) {\n\t\tdeep = target;\n\n\t\t// skip the boolean and the target\n\t\ttarget = arguments[ i ] || {};\n\t\ti++;\n\t}\n\n\t// Handle case when target is a string or something (possible in deep copy)\n\tif ( typeof target !== \"object\" && !jQuery.isFunction(target) ) {\n\t\ttarget = {};\n\t}\n\n\t// extend jQuery itself if only one argument is passed\n\tif ( i === length ) {\n\t\ttarget = this;\n\t\ti--;\n\t}\n\n\tfor ( ; i < length; i++ ) {\n\t\t// Only deal with non-null/undefined values\n\t\tif ( (options = arguments[ i ]) != null ) {\n\t\t\t// Extend the base object\n\t\t\tfor ( name in options ) {\n\t\t\t\tsrc = target[ name ];\n\t\t\t\tcopy = options[ name ];\n\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif ( target === copy ) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\tif ( deep && copy && ( jQuery.isPlainObject(copy) || (copyIsArray = jQuery.isArray(copy)) ) ) {\n\t\t\t\t\tif ( copyIsArray ) {\n\t\t\t\t\t\tcopyIsArray = false;\n\t\t\t\t\t\tclone = src && jQuery.isArray(src) ? src : [];\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tclone = src && jQuery.isPlainObject(src) ? src : {};\n\t\t\t\t\t}\n\n\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\ttarget[ name ] = jQuery.extend( deep, clone, copy );\n\n\t\t\t\t// Don't bring in undefined values\n\t\t\t\t} else if ( copy !== undefined ) {\n\t\t\t\t\ttarget[ name ] = copy;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n\njQuery.extend({\n\t// Unique for each copy of jQuery on the page\n\texpando: \"jQuery\" + ( version + Math.random() ).replace( /\\D/g, \"\" ),\n\n\t// Assume jQuery is ready without the ready module\n\tisReady: true,\n\n\terror: function( msg ) {\n\t\tthrow new Error( msg );\n\t},\n\n\tnoop: function() {},\n\n\t// See test/unit/core.js for details concerning isFunction.\n\t// Since version 1.3, DOM methods and functions like alert\n\t// aren't supported. They return false on IE (#2968).\n\tisFunction: function( obj ) {\n\t\treturn jQuery.type(obj) === \"function\";\n\t},\n\n\tisArray: Array.isArray,\n\n\tisWindow: function( obj ) {\n\t\treturn obj != null && obj === obj.window;\n\t},\n\n\tisNumeric: function( obj ) {\n\t\t// parseFloat NaNs numeric-cast false positives (null|true|false|\"\")\n\t\t// ...but misinterprets leading-number strings, particularly hex literals (\"0x...\")\n\t\t// subtraction forces infinities to NaN\n\t\treturn !jQuery.isArray( obj ) && obj - parseFloat( obj ) >= 0;\n\t},\n\n\tisPlainObject: function( obj ) {\n\t\t// Not plain objects:\n\t\t// - Any object or value whose internal [[Class]] property is not \"[object Object]\"\n\t\t// - DOM nodes\n\t\t// - window\n\t\tif ( jQuery.type( obj ) !== \"object\" || obj.nodeType || jQuery.isWindow( obj ) ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif ( obj.constructor &&\n\t\t\t\t!hasOwn.call( obj.constructor.prototype, \"isPrototypeOf\" ) ) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// If the function hasn't returned already, we're confident that\n\t\t// |obj| is a plain object, created by {} or constructed with new Object\n\t\treturn true;\n\t},\n\n\tisEmptyObject: function( obj ) {\n\t\tvar name;\n\t\tfor ( name in obj ) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t},\n\n\ttype: function( obj ) {\n\t\tif ( obj == null ) {\n\t\t\treturn obj + \"\";\n\t\t}\n\t\t// Support: Android < 4.0, iOS < 6 (functionish RegExp)\n\t\treturn typeof obj === \"object\" || typeof obj === \"function\" ?\n\t\t\tclass2type[ toString.call(obj) ] || \"object\" :\n\t\t\ttypeof obj;\n\t},\n\n\t// Evaluates a script in a global context\n\tglobalEval: function( code ) {\n\t\tvar script,\n\t\t\tindirect = eval;\n\n\t\tcode = jQuery.trim( code );\n\n\t\tif ( code ) {\n\t\t\t// If the code includes a valid, prologue position\n\t\t\t// strict mode pragma, execute code by injecting a\n\t\t\t// script tag into the document.\n\t\t\tif ( code.indexOf(\"use strict\") === 1 ) {\n\t\t\t\tscript = document.createElement(\"script\");\n\t\t\t\tscript.text = code;\n\t\t\t\tdocument.head.appendChild( script ).parentNode.removeChild( script );\n\t\t\t} else {\n\t\t\t// Otherwise, avoid the DOM node creation, insertion\n\t\t\t// and removal by using an indirect global eval\n\t\t\t\tindirect( code );\n\t\t\t}\n\t\t}\n\t},\n\n\t// Convert dashed to camelCase; used by the css and data modules\n\t// Microsoft forgot to hump their vendor prefix (#9572)\n\tcamelCase: function( string ) {\n\t\treturn string.replace( rmsPrefix, \"ms-\" ).replace( rdashAlpha, fcamelCase );\n\t},\n\n\tnodeName: function( elem, name ) {\n\t\treturn elem.nodeName && elem.nodeName.toLowerCase() === name.toLowerCase();\n\t},\n\n\t// args is for internal usage only\n\teach: function( obj, callback, args ) {\n\t\tvar value,\n\t\t\ti = 0,\n\t\t\tlength = obj.length,\n\t\t\tisArray = isArraylike( obj );\n\n\t\tif ( args ) {\n\t\t\tif ( isArray ) {\n\t\t\t\tfor ( ; i < length; i++ ) {\n\t\t\t\t\tvalue = callback.apply( obj[ i ], args );\n\n\t\t\t\t\tif ( value === false ) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor ( i in obj ) {\n\t\t\t\t\tvalue = callback.apply( obj[ i ], args );\n\n\t\t\t\t\tif ( value === false ) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t// A special, fast, case for the most common use of each\n\t\t} else {\n\t\t\tif ( isArray ) {\n\t\t\t\tfor ( ; i < length; i++ ) {\n\t\t\t\t\tvalue = callback.call( obj[ i ], i, obj[ i ] );\n\n\t\t\t\t\tif ( value === false ) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor ( i in obj ) {\n\t\t\t\t\tvalue = callback.call( obj[ i ], i, obj[ i ] );\n\n\t\t\t\t\tif ( value === false ) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn obj;\n\t},\n\n\t// Support: Android<4.1\n\ttrim: function( text ) {\n\t\treturn text == null ?\n\t\t\t\"\" :\n\t\t\t( text + \"\" ).replace( rtrim, \"\" );\n\t},\n\n\t// results is for internal usage only\n\tmakeArray: function( arr, results ) {\n\t\tvar ret = results || [];\n\n\t\tif ( arr != null ) {\n\t\t\tif ( isArraylike( Object(arr) ) ) {\n\t\t\t\tjQuery.merge( ret,\n\t\t\t\t\ttypeof arr === \"string\" ?\n\t\t\t\t\t[ arr ] : arr\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tpush.call( ret, arr );\n\t\t\t}\n\t\t}\n\n\t\treturn ret;\n\t},\n\n\tinArray: function( elem, arr, i ) {\n\t\treturn arr == null ? -1 : indexOf.call( arr, elem, i );\n\t},\n\n\tmerge: function( first, second ) {\n\t\tvar len = +second.length,\n\t\t\tj = 0,\n\t\t\ti = first.length;\n\n\t\tfor ( ; j < len; j++ ) {\n\t\t\tfirst[ i++ ] = second[ j ];\n\t\t}\n\n\t\tfirst.length = i;\n\n\t\treturn first;\n\t},\n\n\tgrep: function( elems, callback, invert ) {\n\t\tvar callbackInverse,\n\t\t\tmatches = [],\n\t\t\ti = 0,\n\t\t\tlength = elems.length,\n\t\t\tcallbackExpect = !invert;\n\n\t\t// Go through the array, only saving the items\n\t\t// that pass the validator function\n\t\tfor ( ; i < length; i++ ) {\n\t\t\tcallbackInverse = !callback( elems[ i ], i );\n\t\t\tif ( callbackInverse !== callbackExpect ) {\n\t\t\t\tmatches.push( elems[ i ] );\n\t\t\t}\n\t\t}\n\n\t\treturn matches;\n\t},\n\n\t// arg is for internal usage only\n\tmap: function( elems, callback, arg ) {\n\t\tvar value,\n\t\t\ti = 0,\n\t\t\tlength = elems.length,\n\t\t\tisArray = isArraylike( elems ),\n\t\t\tret = [];\n\n\t\t// Go through the array, translating each of the items to their new values\n\t\tif ( isArray ) {\n\t\t\tfor ( ; i < length; i++ ) {\n\t\t\t\tvalue = callback( elems[ i ], i, arg );\n\n\t\t\t\tif ( value != null ) {\n\t\t\t\t\tret.push( value );\n\t\t\t\t}\n\t\t\t}\n\n\t\t// Go through every key on the object,\n\t\t} else {\n\t\t\tfor ( i in elems ) {\n\t\t\t\tvalue = callback( elems[ i ], i, arg );\n\n\t\t\t\tif ( value != null ) {\n\t\t\t\t\tret.push( value );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Flatten any nested arrays\n\t\treturn concat.apply( [], ret );\n\t},\n\n\t// A global GUID counter for objects\n\tguid: 1,\n\n\t// Bind a function to a context, optionally partially applying any\n\t// arguments.\n\tproxy: function( fn, context ) {\n\t\tvar tmp, args, proxy;\n\n\t\tif ( typeof context === \"string\" ) {\n\t\t\ttmp = fn[ context ];\n\t\t\tcontext = fn;\n\t\t\tfn = tmp;\n\t\t}\n\n\t\t// Quick check to determine if target is callable, in the spec\n\t\t// this throws a TypeError, but we will just return undefined.\n\t\tif ( !jQuery.isFunction( fn ) ) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\t// Simulated bind\n\t\targs = slice.call( arguments, 2 );\n\t\tproxy = function() {\n\t\t\treturn fn.apply( context || this, args.concat( slice.call( arguments ) ) );\n\t\t};\n\n\t\t// Set the guid of unique handler to the same of original handler, so it can be removed\n\t\tproxy.guid = fn.guid = fn.guid || jQuery.guid++;\n\n\t\treturn proxy;\n\t},\n\n\tnow: Date.now,\n\n\t// jQuery.support is not used in Core but other projects attach their\n\t// properties to it so it needs to exist.\n\tsupport: support\n});\n\n// Populate the class2type map\njQuery.each(\"Boolean Number String Function Array Date RegExp Object Error\".split(\" \"), function(i, name) {\n\tclass2type[ \"[object \" + name + \"]\" ] = name.toLowerCase();\n});\n\nfunction isArraylike( obj ) {\n\tvar length = obj.length,\n\t\ttype = jQuery.type( obj );\n\n\tif ( type === \"function\" || jQuery.isWindow( obj ) ) {\n\t\treturn false;\n\t}\n\n\tif ( obj.nodeType === 1 && length ) {\n\t\treturn true;\n\t}\n\n\treturn type === \"array\" || length === 0 ||\n\t\ttypeof length === \"number\" && length > 0 && ( length - 1 ) in obj;\n}\nvar Sizzle =\n/*!\n * Sizzle CSS Selector Engine v1.10.19\n * http://sizzlejs.com/\n *\n * Copyright 2013 jQuery Foundation, Inc. and other contributors\n * Released under the MIT license\n * http://jquery.org/license\n *\n * Date: 2014-04-18\n */\n(function( window ) {\n\nvar i,\n\tsupport,\n\tExpr,\n\tgetText,\n\tisXML,\n\ttokenize,\n\tcompile,\n\tselect,\n\toutermostContext,\n\tsortInput,\n\thasDuplicate,\n\n\t// Local document vars\n\tsetDocument,\n\tdocument,\n\tdocElem,\n\tdocumentIsHTML,\n\trbuggyQSA,\n\trbuggyMatches,\n\tmatches,\n\tcontains,\n\n\t// Instance-specific data\n\texpando = \"sizzle\" + -(new Date()),\n\tpreferredDoc = window.document,\n\tdirruns = 0,\n\tdone = 0,\n\tclassCache = createCache(),\n\ttokenCache = createCache(),\n\tcompilerCache = createCache(),\n\tsortOrder = function( a, b ) {\n\t\tif ( a === b ) {\n\t\t\thasDuplicate = true;\n\t\t}\n\t\treturn 0;\n\t},\n\n\t// General-purpose constants\n\tstrundefined = typeof undefined,\n\tMAX_NEGATIVE = 1 << 31,\n\n\t// Instance methods\n\thasOwn = ({}).hasOwnProperty,\n\tarr = [],\n\tpop = arr.pop,\n\tpush_native = arr.push,\n\tpush = arr.push,\n\tslice = arr.slice,\n\t// Use a stripped-down indexOf if we can't use a native one\n\tindexOf = arr.indexOf || function( elem ) {\n\t\tvar i = 0,\n\t\t\tlen = this.length;\n\t\tfor ( ; i < len; i++ ) {\n\t\t\tif ( this[i] === elem ) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\t\treturn -1;\n\t},\n\n\tbooleans = \"checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped\",\n\n\t// Regular expressions\n\n\t// Whitespace characters http://www.w3.org/TR/css3-selectors/#whitespace\n\twhitespace = \"[\\\\x20\\\\t\\\\r\\\\n\\\\f]\",\n\t// http://www.w3.org/TR/css3-syntax/#characters\n\tcharacterEncoding = \"(?:\\\\\\\\.|[\\\\w-]|[^\\\\x00-\\\\xa0])+\",\n\n\t// Loosely modeled on CSS identifier characters\n\t// An unquoted value should be a CSS identifier http://www.w3.org/TR/css3-selectors/#attribute-selectors\n\t// Proper syntax: http://www.w3.org/TR/CSS21/syndata.html#value-def-identifier\n\tidentifier = characterEncoding.replace( \"w\", \"w#\" ),\n\n\t// Attribute selectors: http://www.w3.org/TR/selectors/#attribute-selectors\n\tattributes = \"\\\\[\" + whitespace + \"*(\" + characterEncoding + \")(?:\" + whitespace +\n\t\t// Operator (capture 2)\n\t\t\"*([*^$|!~]?=)\" + whitespace +\n\t\t// \"Attribute values must be CSS identifiers [capture 5] or strings [capture 3 or capture 4]\"\n\t\t\"*(?:'((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\"|(\" + identifier + \"))|)\" + whitespace +\n\t\t\"*\\\\]\",\n\n\tpseudos = \":(\" + characterEncoding + \")(?:\\\\((\" +\n\t\t// To reduce the number of selectors needing tokenize in the preFilter, prefer arguments:\n\t\t// 1. quoted (capture 3; capture 4 or capture 5)\n\t\t\"('((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\")|\" +\n\t\t// 2. simple (capture 6)\n\t\t\"((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|\" + attributes + \")*)|\" +\n\t\t// 3. anything else (capture 2)\n\t\t\".*\" +\n\t\t\")\\\\)|)\",\n\n\t// Leading and non-escaped trailing whitespace, capturing some non-whitespace characters preceding the latter\n\trtrim = new RegExp( \"^\" + whitespace + \"+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)\" + whitespace + \"+$\", \"g\" ),\n\n\trcomma = new RegExp( \"^\" + whitespace + \"*,\" + whitespace + \"*\" ),\n\trcombinators = new RegExp( \"^\" + whitespace + \"*([>+~]|\" + whitespace + \")\" + whitespace + \"*\" ),\n\n\trattributeQuotes = new RegExp( \"=\" + whitespace + \"*([^\\\\]'\\\"]*?)\" + whitespace + \"*\\\\]\", \"g\" ),\n\n\trpseudo = new RegExp( pseudos ),\n\tridentifier = new RegExp( \"^\" + identifier + \"$\" ),\n\n\tmatchExpr = {\n\t\t\"ID\": new RegExp( \"^#(\" + characterEncoding + \")\" ),\n\t\t\"CLASS\": new RegExp( \"^\\\\.(\" + characterEncoding + \")\" ),\n\t\t\"TAG\": new RegExp( \"^(\" + characterEncoding.replace( \"w\", \"w*\" ) + \")\" ),\n\t\t\"ATTR\": new RegExp( \"^\" + attributes ),\n\t\t\"PSEUDO\": new RegExp( \"^\" + pseudos ),\n\t\t\"CHILD\": new RegExp( \"^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\(\" + whitespace +\n\t\t\t\"*(even|odd|(([+-]|)(\\\\d*)n|)\" + whitespace + \"*(?:([+-]|)\" + whitespace +\n\t\t\t\"*(\\\\d+)|))\" + whitespace + \"*\\\\)|)\", \"i\" ),\n\t\t\"bool\": new RegExp( \"^(?:\" + booleans + \")$\", \"i\" ),\n\t\t// For use in libraries implementing .is()\n\t\t// We use this for POS matching in `select`\n\t\t\"needsContext\": new RegExp( \"^\" + whitespace + \"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\(\" +\n\t\t\twhitespace + \"*((?:-\\\\d)?\\\\d*)\" + whitespace + \"*\\\\)|)(?=[^-]|$)\", \"i\" )\n\t},\n\n\trinputs = /^(?:input|select|textarea|button)$/i,\n\trheader = /^h\\d$/i,\n\n\trnative = /^[^{]+\\{\\s*\\[native \\w/,\n\n\t// Easily-parseable/retrievable ID or TAG or CLASS selectors\n\trquickExpr = /^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/,\n\n\trsibling = /[+~]/,\n\trescape = /'|\\\\/g,\n\n\t// CSS escapes http://www.w3.org/TR/CSS21/syndata.html#escaped-characters\n\trunescape = new RegExp( \"\\\\\\\\([\\\\da-f]{1,6}\" + whitespace + \"?|(\" + whitespace + \")|.)\", \"ig\" ),\n\tfunescape = function( _, escaped, escapedWhitespace ) {\n\t\tvar high = \"0x\" + escaped - 0x10000;\n\t\t// NaN means non-codepoint\n\t\t// Support: Firefox<24\n\t\t// Workaround erroneous numeric interpretation of +\"0x\"\n\t\treturn high !== high || escapedWhitespace ?\n\t\t\tescaped :\n\t\t\thigh < 0 ?\n\t\t\t\t// BMP codepoint\n\t\t\t\tString.fromCharCode( high + 0x10000 ) :\n\t\t\t\t// Supplemental Plane codepoint (surrogate pair)\n\t\t\t\tString.fromCharCode( high >> 10 | 0xD800, high & 0x3FF | 0xDC00 );\n\t};\n\n// Optimize for push.apply( _, NodeList )\ntry {\n\tpush.apply(\n\t\t(arr = slice.call( preferredDoc.childNodes )),\n\t\tpreferredDoc.childNodes\n\t);\n\t// Support: Android<4.0\n\t// Detect silently failing push.apply\n\tarr[ preferredDoc.childNodes.length ].nodeType;\n} catch ( e ) {\n\tpush = { apply: arr.length ?\n\n\t\t// Leverage slice if possible\n\t\tfunction( target, els ) {\n\t\t\tpush_native.apply( target, slice.call(els) );\n\t\t} :\n\n\t\t// Support: IE<9\n\t\t// Otherwise append directly\n\t\tfunction( target, els ) {\n\t\t\tvar j = target.length,\n\t\t\t\ti = 0;\n\t\t\t// Can't trust NodeList.length\n\t\t\twhile ( (target[j++] = els[i++]) ) {}\n\t\t\ttarget.length = j - 1;\n\t\t}\n\t};\n}\n\nfunction Sizzle( selector, context, results, seed ) {\n\tvar match, elem, m, nodeType,\n\t\t// QSA vars\n\t\ti, groups, old, nid, newContext, newSelector;\n\n\tif ( ( context ? context.ownerDocument || context : preferredDoc ) !== document ) {\n\t\tsetDocument( context );\n\t}\n\n\tcontext = context || document;\n\tresults = results || [];\n\n\tif ( !selector || typeof selector !== \"string\" ) {\n\t\treturn results;\n\t}\n\n\tif ( (nodeType = context.nodeType) !== 1 && nodeType !== 9 ) {\n\t\treturn [];\n\t}\n\n\tif ( documentIsHTML && !seed ) {\n\n\t\t// Shortcuts\n\t\tif ( (match = rquickExpr.exec( selector )) ) {\n\t\t\t// Speed-up: Sizzle(\"#ID\")\n\t\t\tif ( (m = match[1]) ) {\n\t\t\t\tif ( nodeType === 9 ) {\n\t\t\t\t\telem = context.getElementById( m );\n\t\t\t\t\t// Check parentNode to catch when Blackberry 4.6 returns\n\t\t\t\t\t// nodes that are no longer in the document (jQuery #6963)\n\t\t\t\t\tif ( elem && elem.parentNode ) {\n\t\t\t\t\t\t// Handle the case where IE, Opera, and Webkit return items\n\t\t\t\t\t\t// by name instead of ID\n\t\t\t\t\t\tif ( elem.id === m ) {\n\t\t\t\t\t\t\tresults.push( elem );\n\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn results;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// Context is not a document\n\t\t\t\t\tif ( context.ownerDocument && (elem = context.ownerDocument.getElementById( m )) &&\n\t\t\t\t\t\tcontains( context, elem ) && elem.id === m ) {\n\t\t\t\t\t\tresults.push( elem );\n\t\t\t\t\t\treturn results;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t// Speed-up: Sizzle(\"TAG\")\n\t\t\t} else if ( match[2] ) {\n\t\t\t\tpush.apply( results, context.getElementsByTagName( selector ) );\n\t\t\t\treturn results;\n\n\t\t\t// Speed-up: Sizzle(\".CLASS\")\n\t\t\t} else if ( (m = match[3]) && support.getElementsByClassName && context.getElementsByClassName ) {\n\t\t\t\tpush.apply( results, context.getElementsByClassName( m ) );\n\t\t\t\treturn results;\n\t\t\t}\n\t\t}\n\n\t\t// QSA path\n\t\tif ( support.qsa && (!rbuggyQSA || !rbuggyQSA.test( selector )) ) {\n\t\t\tnid = old = expando;\n\t\t\tnewContext = context;\n\t\t\tnewSelector = nodeType === 9 && selector;\n\n\t\t\t// qSA works strangely on Element-rooted queries\n\t\t\t// We can work around this by specifying an extra ID on the root\n\t\t\t// and working up from there (Thanks to Andrew Dupont for the technique)\n\t\t\t// IE 8 doesn't work on object elements\n\t\t\tif ( nodeType === 1 && context.nodeName.toLowerCase() !== \"object\" ) {\n\t\t\t\tgroups = tokenize( selector );\n\n\t\t\t\tif ( (old = context.getAttribute(\"id\")) ) {\n\t\t\t\t\tnid = old.replace( rescape, \"\\\\$&\" );\n\t\t\t\t} else {\n\t\t\t\t\tcontext.setAttribute( \"id\", nid );\n\t\t\t\t}\n\t\t\t\tnid = \"[id='\" + nid + \"'] \";\n\n\t\t\t\ti = groups.length;\n\t\t\t\twhile ( i-- ) {\n\t\t\t\t\tgroups[i] = nid + toSelector( groups[i] );\n\t\t\t\t}\n\t\t\t\tnewContext = rsibling.test( selector ) && testContext( context.parentNode ) || context;\n\t\t\t\tnewSelector = groups.join(\",\");\n\t\t\t}\n\n\t\t\tif ( newSelector ) {\n\t\t\t\ttry {\n\t\t\t\t\tpush.apply( results,\n\t\t\t\t\t\tnewContext.querySelectorAll( newSelector )\n\t\t\t\t\t);\n\t\t\t\t\treturn results;\n\t\t\t\t} catch(qsaError) {\n\t\t\t\t} finally {\n\t\t\t\t\tif ( !old ) {\n\t\t\t\t\t\tcontext.removeAttribute(\"id\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// All others\n\treturn select( selector.replace( rtrim, \"$1\" ), context, results, seed );\n}\n\n/**\n * Create key-value caches of limited size\n * @returns {Function(string, Object)} Returns the Object data after storing it on itself with\n *\tproperty name the (space-suffixed) string and (if the cache is larger than Expr.cacheLength)\n *\tdeleting the oldest entry\n */\nfunction createCache() {\n\tvar keys = [];\n\n\tfunction cache( key, value ) {\n\t\t// Use (key + \" \") to avoid collision with native prototype properties (see Issue #157)\n\t\tif ( keys.push( key + \" \" ) > Expr.cacheLength ) {\n\t\t\t// Only keep the most recent entries\n\t\t\tdelete cache[ keys.shift() ];\n\t\t}\n\t\treturn (cache[ key + \" \" ] = value);\n\t}\n\treturn cache;\n}\n\n/**\n * Mark a function for special use by Sizzle\n * @param {Function} fn The function to mark\n */\nfunction markFunction( fn ) {\n\tfn[ expando ] = true;\n\treturn fn;\n}\n\n/**\n * Support testing using an element\n * @param {Function} fn Passed the created div and expects a boolean result\n */\nfunction assert( fn ) {\n\tvar div = document.createElement(\"div\");\n\n\ttry {\n\t\treturn !!fn( div );\n\t} catch (e) {\n\t\treturn false;\n\t} finally {\n\t\t// Remove from its parent by default\n\t\tif ( div.parentNode ) {\n\t\t\tdiv.parentNode.removeChild( div );\n\t\t}\n\t\t// release memory in IE\n\t\tdiv = null;\n\t}\n}\n\n/**\n * Adds the same handler for all of the specified attrs\n * @param {String} attrs Pipe-separated list of attributes\n * @param {Function} handler The method that will be applied\n */\nfunction addHandle( attrs, handler ) {\n\tvar arr = attrs.split(\"|\"),\n\t\ti = attrs.length;\n\n\twhile ( i-- ) {\n\t\tExpr.attrHandle[ arr[i] ] = handler;\n\t}\n}\n\n/**\n * Checks document order of two siblings\n * @param {Element} a\n * @param {Element} b\n * @returns {Number} Returns less than 0 if a precedes b, greater than 0 if a follows b\n */\nfunction siblingCheck( a, b ) {\n\tvar cur = b && a,\n\t\tdiff = cur && a.nodeType === 1 && b.nodeType === 1 &&\n\t\t\t( ~b.sourceIndex || MAX_NEGATIVE ) -\n\t\t\t( ~a.sourceIndex || MAX_NEGATIVE );\n\n\t// Use IE sourceIndex if available on both nodes\n\tif ( diff ) {\n\t\treturn diff;\n\t}\n\n\t// Check if b follows a\n\tif ( cur ) {\n\t\twhile ( (cur = cur.nextSibling) ) {\n\t\t\tif ( cur === b ) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn a ? 1 : -1;\n}\n\n/**\n * Returns a function to use in pseudos for input types\n * @param {String} type\n */\nfunction createInputPseudo( type ) {\n\treturn function( elem ) {\n\t\tvar name = elem.nodeName.toLowerCase();\n\t\treturn name === \"input\" && elem.type === type;\n\t};\n}\n\n/**\n * Returns a function to use in pseudos for buttons\n * @param {String} type\n */\nfunction createButtonPseudo( type ) {\n\treturn function( elem ) {\n\t\tvar name = elem.nodeName.toLowerCase();\n\t\treturn (name === \"input\" || name === \"button\") && elem.type === type;\n\t};\n}\n\n/**\n * Returns a function to use in pseudos for positionals\n * @param {Function} fn\n */\nfunction createPositionalPseudo( fn ) {\n\treturn markFunction(function( argument ) {\n\t\targument = +argument;\n\t\treturn markFunction(function( seed, matches ) {\n\t\t\tvar j,\n\t\t\t\tmatchIndexes = fn( [], seed.length, argument ),\n\t\t\t\ti = matchIndexes.length;\n\n\t\t\t// Match elements found at the specified indexes\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( seed[ (j = matchIndexes[i]) ] ) {\n\t\t\t\t\tseed[j] = !(matches[j] = seed[j]);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n}\n\n/**\n * Checks a node for validity as a Sizzle context\n * @param {Element|Object=} context\n * @returns {Element|Object|Boolean} The input node if acceptable, otherwise a falsy value\n */\nfunction testContext( context ) {\n\treturn context && typeof context.getElementsByTagName !== strundefined && context;\n}\n\n// Expose support vars for convenience\nsupport = Sizzle.support = {};\n\n/**\n * Detects XML nodes\n * @param {Element|Object} elem An element or a document\n * @returns {Boolean} True iff elem is a non-HTML XML node\n */\nisXML = Sizzle.isXML = function( elem ) {\n\t// documentElement is verified for cases where it doesn't yet exist\n\t// (such as loading iframes in IE - #4833)\n\tvar documentElement = elem && (elem.ownerDocument || elem).documentElement;\n\treturn documentElement ? documentElement.nodeName !== \"HTML\" : false;\n};\n\n/**\n * Sets document-related variables once based on the current document\n * @param {Element|Object} [doc] An element or document object to use to set the document\n * @returns {Object} Returns the current document\n */\nsetDocument = Sizzle.setDocument = function( node ) {\n\tvar hasCompare,\n\t\tdoc = node ? node.ownerDocument || node : preferredDoc,\n\t\tparent = doc.defaultView;\n\n\t// If no document and documentElement is available, return\n\tif ( doc === document || doc.nodeType !== 9 || !doc.documentElement ) {\n\t\treturn document;\n\t}\n\n\t// Set our document\n\tdocument = doc;\n\tdocElem = doc.documentElement;\n\n\t// Support tests\n\tdocumentIsHTML = !isXML( doc );\n\n\t// Support: IE>8\n\t// If iframe document is assigned to \"document\" variable and if iframe has been reloaded,\n\t// IE will throw \"permission denied\" error when accessing \"document\" variable, see jQuery #13936\n\t// IE6-8 do not support the defaultView property so parent will be undefined\n\tif ( parent && parent !== parent.top ) {\n\t\t// IE11 does not have attachEvent, so all must suffer\n\t\tif ( parent.addEventListener ) {\n\t\t\tparent.addEventListener( \"unload\", function() {\n\t\t\t\tsetDocument();\n\t\t\t}, false );\n\t\t} else if ( parent.attachEvent ) {\n\t\t\tparent.attachEvent( \"onunload\", function() {\n\t\t\t\tsetDocument();\n\t\t\t});\n\t\t}\n\t}\n\n\t/* Attributes\n\t---------------------------------------------------------------------- */\n\n\t// Support: IE<8\n\t// Verify that getAttribute really returns attributes and not properties (excepting IE8 booleans)\n\tsupport.attributes = assert(function( div ) {\n\t\tdiv.className = \"i\";\n\t\treturn !div.getAttribute(\"className\");\n\t});\n\n\t/* getElement(s)By*\n\t---------------------------------------------------------------------- */\n\n\t// Check if getElementsByTagName(\"*\") returns only elements\n\tsupport.getElementsByTagName = assert(function( div ) {\n\t\tdiv.appendChild( doc.createComment(\"\") );\n\t\treturn !div.getElementsByTagName(\"*\").length;\n\t});\n\n\t// Check if getElementsByClassName can be trusted\n\tsupport.getElementsByClassName = rnative.test( doc.getElementsByClassName ) && assert(function( div ) {\n\t\tdiv.innerHTML = \"<div class='a'></div><div class='a i'></div>\";\n\n\t\t// Support: Safari<4\n\t\t// Catch class over-caching\n\t\tdiv.firstChild.className = \"i\";\n\t\t// Support: Opera<10\n\t\t// Catch gEBCN failure to find non-leading classes\n\t\treturn div.getElementsByClassName(\"i\").length === 2;\n\t});\n\n\t// Support: IE<10\n\t// Check if getElementById returns elements by name\n\t// The broken getElementById methods don't pick up programatically-set names,\n\t// so use a roundabout getElementsByName test\n\tsupport.getById = assert(function( div ) {\n\t\tdocElem.appendChild( div ).id = expando;\n\t\treturn !doc.getElementsByName || !doc.getElementsByName( expando ).length;\n\t});\n\n\t// ID find and filter\n\tif ( support.getById ) {\n\t\tExpr.find[\"ID\"] = function( id, context ) {\n\t\t\tif ( typeof context.getElementById !== strundefined && documentIsHTML ) {\n\t\t\t\tvar m = context.getElementById( id );\n\t\t\t\t// Check parentNode to catch when Blackberry 4.6 returns\n\t\t\t\t// nodes that are no longer in the document #6963\n\t\t\t\treturn m && m.parentNode ? [ m ] : [];\n\t\t\t}\n\t\t};\n\t\tExpr.filter[\"ID\"] = function( id ) {\n\t\t\tvar attrId = id.replace( runescape, funescape );\n\t\t\treturn function( elem ) {\n\t\t\t\treturn elem.getAttribute(\"id\") === attrId;\n\t\t\t};\n\t\t};\n\t} else {\n\t\t// Support: IE6/7\n\t\t// getElementById is not reliable as a find shortcut\n\t\tdelete Expr.find[\"ID\"];\n\n\t\tExpr.filter[\"ID\"] =  function( id ) {\n\t\t\tvar attrId = id.replace( runescape, funescape );\n\t\t\treturn function( elem ) {\n\t\t\t\tvar node = typeof elem.getAttributeNode !== strundefined && elem.getAttributeNode(\"id\");\n\t\t\t\treturn node && node.value === attrId;\n\t\t\t};\n\t\t};\n\t}\n\n\t// Tag\n\tExpr.find[\"TAG\"] = support.getElementsByTagName ?\n\t\tfunction( tag, context ) {\n\t\t\tif ( typeof context.getElementsByTagName !== strundefined ) {\n\t\t\t\treturn context.getElementsByTagName( tag );\n\t\t\t}\n\t\t} :\n\t\tfunction( tag, context ) {\n\t\t\tvar elem,\n\t\t\t\ttmp = [],\n\t\t\t\ti = 0,\n\t\t\t\tresults = context.getElementsByTagName( tag );\n\n\t\t\t// Filter out possible comments\n\t\t\tif ( tag === \"*\" ) {\n\t\t\t\twhile ( (elem = results[i++]) ) {\n\t\t\t\t\tif ( elem.nodeType === 1 ) {\n\t\t\t\t\t\ttmp.push( elem );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn tmp;\n\t\t\t}\n\t\t\treturn results;\n\t\t};\n\n\t// Class\n\tExpr.find[\"CLASS\"] = support.getElementsByClassName && function( className, context ) {\n\t\tif ( typeof context.getElementsByClassName !== strundefined && documentIsHTML ) {\n\t\t\treturn context.getElementsByClassName( className );\n\t\t}\n\t};\n\n\t/* QSA/matchesSelector\n\t---------------------------------------------------------------------- */\n\n\t// QSA and matchesSelector support\n\n\t// matchesSelector(:active) reports false when true (IE9/Opera 11.5)\n\trbuggyMatches = [];\n\n\t// qSa(:focus) reports false when true (Chrome 21)\n\t// We allow this because of a bug in IE8/9 that throws an error\n\t// whenever `document.activeElement` is accessed on an iframe\n\t// So, we allow :focus to pass through QSA all the time to avoid the IE error\n\t// See http://bugs.jquery.com/ticket/13378\n\trbuggyQSA = [];\n\n\tif ( (support.qsa = rnative.test( doc.querySelectorAll )) ) {\n\t\t// Build QSA regex\n\t\t// Regex strategy adopted from Diego Perini\n\t\tassert(function( div ) {\n\t\t\t// Select is set to empty string on purpose\n\t\t\t// This is to test IE's treatment of not explicitly\n\t\t\t// setting a boolean content attribute,\n\t\t\t// since its presence should be enough\n\t\t\t// http://bugs.jquery.com/ticket/12359\n\t\t\tdiv.innerHTML = \"<select msallowclip=''><option selected=''></option></select>\";\n\n\t\t\t// Support: IE8, Opera 11-12.16\n\t\t\t// Nothing should be selected when empty strings follow ^= or $= or *=\n\t\t\t// The test attribute must be unknown in Opera but \"safe\" for WinRT\n\t\t\t// http://msdn.microsoft.com/en-us/library/ie/hh465388.aspx#attribute_section\n\t\t\tif ( div.querySelectorAll(\"[msallowclip^='']\").length ) {\n\t\t\t\trbuggyQSA.push( \"[*^$]=\" + whitespace + \"*(?:''|\\\"\\\")\" );\n\t\t\t}\n\n\t\t\t// Support: IE8\n\t\t\t// Boolean attributes and \"value\" are not treated correctly\n\t\t\tif ( !div.querySelectorAll(\"[selected]\").length ) {\n\t\t\t\trbuggyQSA.push( \"\\\\[\" + whitespace + \"*(?:value|\" + booleans + \")\" );\n\t\t\t}\n\n\t\t\t// Webkit/Opera - :checked should return selected option elements\n\t\t\t// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked\n\t\t\t// IE8 throws error here and will not see later tests\n\t\t\tif ( !div.querySelectorAll(\":checked\").length ) {\n\t\t\t\trbuggyQSA.push(\":checked\");\n\t\t\t}\n\t\t});\n\n\t\tassert(function( div ) {\n\t\t\t// Support: Windows 8 Native Apps\n\t\t\t// The type and name attributes are restricted during .innerHTML assignment\n\t\t\tvar input = doc.createElement(\"input\");\n\t\t\tinput.setAttribute( \"type\", \"hidden\" );\n\t\t\tdiv.appendChild( input ).setAttribute( \"name\", \"D\" );\n\n\t\t\t// Support: IE8\n\t\t\t// Enforce case-sensitivity of name attribute\n\t\t\tif ( div.querySelectorAll(\"[name=d]\").length ) {\n\t\t\t\trbuggyQSA.push( \"name\" + whitespace + \"*[*^$|!~]?=\" );\n\t\t\t}\n\n\t\t\t// FF 3.5 - :enabled/:disabled and hidden elements (hidden elements are still enabled)\n\t\t\t// IE8 throws error here and will not see later tests\n\t\t\tif ( !div.querySelectorAll(\":enabled\").length ) {\n\t\t\t\trbuggyQSA.push( \":enabled\", \":disabled\" );\n\t\t\t}\n\n\t\t\t// Opera 10-11 does not throw on post-comma invalid pseudos\n\t\t\tdiv.querySelectorAll(\"*,:x\");\n\t\t\trbuggyQSA.push(\",.*:\");\n\t\t});\n\t}\n\n\tif ( (support.matchesSelector = rnative.test( (matches = docElem.matches ||\n\t\tdocElem.webkitMatchesSelector ||\n\t\tdocElem.mozMatchesSelector ||\n\t\tdocElem.oMatchesSelector ||\n\t\tdocElem.msMatchesSelector) )) ) {\n\n\t\tassert(function( div ) {\n\t\t\t// Check to see if it's possible to do matchesSelector\n\t\t\t// on a disconnected node (IE 9)\n\t\t\tsupport.disconnectedMatch = matches.call( div, \"div\" );\n\n\t\t\t// This should fail with an exception\n\t\t\t// Gecko does not error, returns false instead\n\t\t\tmatches.call( div, \"[s!='']:x\" );\n\t\t\trbuggyMatches.push( \"!=\", pseudos );\n\t\t});\n\t}\n\n\trbuggyQSA = rbuggyQSA.length && new RegExp( rbuggyQSA.join(\"|\") );\n\trbuggyMatches = rbuggyMatches.length && new RegExp( rbuggyMatches.join(\"|\") );\n\n\t/* Contains\n\t---------------------------------------------------------------------- */\n\thasCompare = rnative.test( docElem.compareDocumentPosition );\n\n\t// Element contains another\n\t// Purposefully does not implement inclusive descendent\n\t// As in, an element does not contain itself\n\tcontains = hasCompare || rnative.test( docElem.contains ) ?\n\t\tfunction( a, b ) {\n\t\t\tvar adown = a.nodeType === 9 ? a.documentElement : a,\n\t\t\t\tbup = b && b.parentNode;\n\t\t\treturn a === bup || !!( bup && bup.nodeType === 1 && (\n\t\t\t\tadown.contains ?\n\t\t\t\t\tadown.contains( bup ) :\n\t\t\t\t\ta.compareDocumentPosition && a.compareDocumentPosition( bup ) & 16\n\t\t\t));\n\t\t} :\n\t\tfunction( a, b ) {\n\t\t\tif ( b ) {\n\t\t\t\twhile ( (b = b.parentNode) ) {\n\t\t\t\t\tif ( b === a ) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n\n\t/* Sorting\n\t---------------------------------------------------------------------- */\n\n\t// Document order sorting\n\tsortOrder = hasCompare ?\n\tfunction( a, b ) {\n\n\t\t// Flag for duplicate removal\n\t\tif ( a === b ) {\n\t\t\thasDuplicate = true;\n\t\t\treturn 0;\n\t\t}\n\n\t\t// Sort on method existence if only one input has compareDocumentPosition\n\t\tvar compare = !a.compareDocumentPosition - !b.compareDocumentPosition;\n\t\tif ( compare ) {\n\t\t\treturn compare;\n\t\t}\n\n\t\t// Calculate position if both inputs belong to the same document\n\t\tcompare = ( a.ownerDocument || a ) === ( b.ownerDocument || b ) ?\n\t\t\ta.compareDocumentPosition( b ) :\n\n\t\t\t// Otherwise we know they are disconnected\n\t\t\t1;\n\n\t\t// Disconnected nodes\n\t\tif ( compare & 1 ||\n\t\t\t(!support.sortDetached && b.compareDocumentPosition( a ) === compare) ) {\n\n\t\t\t// Choose the first element that is related to our preferred document\n\t\t\tif ( a === doc || a.ownerDocument === preferredDoc && contains(preferredDoc, a) ) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\tif ( b === doc || b.ownerDocument === preferredDoc && contains(preferredDoc, b) ) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\t// Maintain original order\n\t\t\treturn sortInput ?\n\t\t\t\t( indexOf.call( sortInput, a ) - indexOf.call( sortInput, b ) ) :\n\t\t\t\t0;\n\t\t}\n\n\t\treturn compare & 4 ? -1 : 1;\n\t} :\n\tfunction( a, b ) {\n\t\t// Exit early if the nodes are identical\n\t\tif ( a === b ) {\n\t\t\thasDuplicate = true;\n\t\t\treturn 0;\n\t\t}\n\n\t\tvar cur,\n\t\t\ti = 0,\n\t\t\taup = a.parentNode,\n\t\t\tbup = b.parentNode,\n\t\t\tap = [ a ],\n\t\t\tbp = [ b ];\n\n\t\t// Parentless nodes are either documents or disconnected\n\t\tif ( !aup || !bup ) {\n\t\t\treturn a === doc ? -1 :\n\t\t\t\tb === doc ? 1 :\n\t\t\t\taup ? -1 :\n\t\t\t\tbup ? 1 :\n\t\t\t\tsortInput ?\n\t\t\t\t( indexOf.call( sortInput, a ) - indexOf.call( sortInput, b ) ) :\n\t\t\t\t0;\n\n\t\t// If the nodes are siblings, we can do a quick check\n\t\t} else if ( aup === bup ) {\n\t\t\treturn siblingCheck( a, b );\n\t\t}\n\n\t\t// Otherwise we need full lists of their ancestors for comparison\n\t\tcur = a;\n\t\twhile ( (cur = cur.parentNode) ) {\n\t\t\tap.unshift( cur );\n\t\t}\n\t\tcur = b;\n\t\twhile ( (cur = cur.parentNode) ) {\n\t\t\tbp.unshift( cur );\n\t\t}\n\n\t\t// Walk down the tree looking for a discrepancy\n\t\twhile ( ap[i] === bp[i] ) {\n\t\t\ti++;\n\t\t}\n\n\t\treturn i ?\n\t\t\t// Do a sibling check if the nodes have a common ancestor\n\t\t\tsiblingCheck( ap[i], bp[i] ) :\n\n\t\t\t// Otherwise nodes in our document sort first\n\t\t\tap[i] === preferredDoc ? -1 :\n\t\t\tbp[i] === preferredDoc ? 1 :\n\t\t\t0;\n\t};\n\n\treturn doc;\n};\n\nSizzle.matches = function( expr, elements ) {\n\treturn Sizzle( expr, null, null, elements );\n};\n\nSizzle.matchesSelector = function( elem, expr ) {\n\t// Set document vars if needed\n\tif ( ( elem.ownerDocument || elem ) !== document ) {\n\t\tsetDocument( elem );\n\t}\n\n\t// Make sure that attribute selectors are quoted\n\texpr = expr.replace( rattributeQuotes, \"='$1']\" );\n\n\tif ( support.matchesSelector && documentIsHTML &&\n\t\t( !rbuggyMatches || !rbuggyMatches.test( expr ) ) &&\n\t\t( !rbuggyQSA     || !rbuggyQSA.test( expr ) ) ) {\n\n\t\ttry {\n\t\t\tvar ret = matches.call( elem, expr );\n\n\t\t\t// IE 9's matchesSelector returns false on disconnected nodes\n\t\t\tif ( ret || support.disconnectedMatch ||\n\t\t\t\t\t// As well, disconnected nodes are said to be in a document\n\t\t\t\t\t// fragment in IE 9\n\t\t\t\t\telem.document && elem.document.nodeType !== 11 ) {\n\t\t\t\treturn ret;\n\t\t\t}\n\t\t} catch(e) {}\n\t}\n\n\treturn Sizzle( expr, document, null, [ elem ] ).length > 0;\n};\n\nSizzle.contains = function( context, elem ) {\n\t// Set document vars if needed\n\tif ( ( context.ownerDocument || context ) !== document ) {\n\t\tsetDocument( context );\n\t}\n\treturn contains( context, elem );\n};\n\nSizzle.attr = function( elem, name ) {\n\t// Set document vars if needed\n\tif ( ( elem.ownerDocument || elem ) !== document ) {\n\t\tsetDocument( elem );\n\t}\n\n\tvar fn = Expr.attrHandle[ name.toLowerCase() ],\n\t\t// Don't get fooled by Object.prototype properties (jQuery #13807)\n\t\tval = fn && hasOwn.call( Expr.attrHandle, name.toLowerCase() ) ?\n\t\t\tfn( elem, name, !documentIsHTML ) :\n\t\t\tundefined;\n\n\treturn val !== undefined ?\n\t\tval :\n\t\tsupport.attributes || !documentIsHTML ?\n\t\t\telem.getAttribute( name ) :\n\t\t\t(val = elem.getAttributeNode(name)) && val.specified ?\n\t\t\t\tval.value :\n\t\t\t\tnull;\n};\n\nSizzle.error = function( msg ) {\n\tthrow new Error( \"Syntax error, unrecognized expression: \" + msg );\n};\n\n/**\n * Document sorting and removing duplicates\n * @param {ArrayLike} results\n */\nSizzle.uniqueSort = function( results ) {\n\tvar elem,\n\t\tduplicates = [],\n\t\tj = 0,\n\t\ti = 0;\n\n\t// Unless we *know* we can detect duplicates, assume their presence\n\thasDuplicate = !support.detectDuplicates;\n\tsortInput = !support.sortStable && results.slice( 0 );\n\tresults.sort( sortOrder );\n\n\tif ( hasDuplicate ) {\n\t\twhile ( (elem = results[i++]) ) {\n\t\t\tif ( elem === results[ i ] ) {\n\t\t\t\tj = duplicates.push( i );\n\t\t\t}\n\t\t}\n\t\twhile ( j-- ) {\n\t\t\tresults.splice( duplicates[ j ], 1 );\n\t\t}\n\t}\n\n\t// Clear input after sorting to release objects\n\t// See https://github.com/jquery/sizzle/pull/225\n\tsortInput = null;\n\n\treturn results;\n};\n\n/**\n * Utility function for retrieving the text value of an array of DOM nodes\n * @param {Array|Element} elem\n */\ngetText = Sizzle.getText = function( elem ) {\n\tvar node,\n\t\tret = \"\",\n\t\ti = 0,\n\t\tnodeType = elem.nodeType;\n\n\tif ( !nodeType ) {\n\t\t// If no nodeType, this is expected to be an array\n\t\twhile ( (node = elem[i++]) ) {\n\t\t\t// Do not traverse comment nodes\n\t\t\tret += getText( node );\n\t\t}\n\t} else if ( nodeType === 1 || nodeType === 9 || nodeType === 11 ) {\n\t\t// Use textContent for elements\n\t\t// innerText usage removed for consistency of new lines (jQuery #11153)\n\t\tif ( typeof elem.textContent === \"string\" ) {\n\t\t\treturn elem.textContent;\n\t\t} else {\n\t\t\t// Traverse its children\n\t\t\tfor ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {\n\t\t\t\tret += getText( elem );\n\t\t\t}\n\t\t}\n\t} else if ( nodeType === 3 || nodeType === 4 ) {\n\t\treturn elem.nodeValue;\n\t}\n\t// Do not include comment or processing instruction nodes\n\n\treturn ret;\n};\n\nExpr = Sizzle.selectors = {\n\n\t// Can be adjusted by the user\n\tcacheLength: 50,\n\n\tcreatePseudo: markFunction,\n\n\tmatch: matchExpr,\n\n\tattrHandle: {},\n\n\tfind: {},\n\n\trelative: {\n\t\t\">\": { dir: \"parentNode\", first: true },\n\t\t\" \": { dir: \"parentNode\" },\n\t\t\"+\": { dir: \"previousSibling\", first: true },\n\t\t\"~\": { dir: \"previousSibling\" }\n\t},\n\n\tpreFilter: {\n\t\t\"ATTR\": function( match ) {\n\t\t\tmatch[1] = match[1].replace( runescape, funescape );\n\n\t\t\t// Move the given value to match[3] whether quoted or unquoted\n\t\t\tmatch[3] = ( match[3] || match[4] || match[5] || \"\" ).replace( runescape, funescape );\n\n\t\t\tif ( match[2] === \"~=\" ) {\n\t\t\t\tmatch[3] = \" \" + match[3] + \" \";\n\t\t\t}\n\n\t\t\treturn match.slice( 0, 4 );\n\t\t},\n\n\t\t\"CHILD\": function( match ) {\n\t\t\t/* matches from matchExpr[\"CHILD\"]\n\t\t\t\t1 type (only|nth|...)\n\t\t\t\t2 what (child|of-type)\n\t\t\t\t3 argument (even|odd|\\d*|\\d*n([+-]\\d+)?|...)\n\t\t\t\t4 xn-component of xn+y argument ([+-]?\\d*n|)\n\t\t\t\t5 sign of xn-component\n\t\t\t\t6 x of xn-component\n\t\t\t\t7 sign of y-component\n\t\t\t\t8 y of y-component\n\t\t\t*/\n\t\t\tmatch[1] = match[1].toLowerCase();\n\n\t\t\tif ( match[1].slice( 0, 3 ) === \"nth\" ) {\n\t\t\t\t// nth-* requires argument\n\t\t\t\tif ( !match[3] ) {\n\t\t\t\t\tSizzle.error( match[0] );\n\t\t\t\t}\n\n\t\t\t\t// numeric x and y parameters for Expr.filter.CHILD\n\t\t\t\t// remember that false/true cast respectively to 0/1\n\t\t\t\tmatch[4] = +( match[4] ? match[5] + (match[6] || 1) : 2 * ( match[3] === \"even\" || match[3] === \"odd\" ) );\n\t\t\t\tmatch[5] = +( ( match[7] + match[8] ) || match[3] === \"odd\" );\n\n\t\t\t// other types prohibit arguments\n\t\t\t} else if ( match[3] ) {\n\t\t\t\tSizzle.error( match[0] );\n\t\t\t}\n\n\t\t\treturn match;\n\t\t},\n\n\t\t\"PSEUDO\": function( match ) {\n\t\t\tvar excess,\n\t\t\t\tunquoted = !match[6] && match[2];\n\n\t\t\tif ( matchExpr[\"CHILD\"].test( match[0] ) ) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\t// Accept quoted arguments as-is\n\t\t\tif ( match[3] ) {\n\t\t\t\tmatch[2] = match[4] || match[5] || \"\";\n\n\t\t\t// Strip excess characters from unquoted arguments\n\t\t\t} else if ( unquoted && rpseudo.test( unquoted ) &&\n\t\t\t\t// Get excess from tokenize (recursively)\n\t\t\t\t(excess = tokenize( unquoted, true )) &&\n\t\t\t\t// advance to the next closing parenthesis\n\t\t\t\t(excess = unquoted.indexOf( \")\", unquoted.length - excess ) - unquoted.length) ) {\n\n\t\t\t\t// excess is a negative index\n\t\t\t\tmatch[0] = match[0].slice( 0, excess );\n\t\t\t\tmatch[2] = unquoted.slice( 0, excess );\n\t\t\t}\n\n\t\t\t// Return only captures needed by the pseudo filter method (type and argument)\n\t\t\treturn match.slice( 0, 3 );\n\t\t}\n\t},\n\n\tfilter: {\n\n\t\t\"TAG\": function( nodeNameSelector ) {\n\t\t\tvar nodeName = nodeNameSelector.replace( runescape, funescape ).toLowerCase();\n\t\t\treturn nodeNameSelector === \"*\" ?\n\t\t\t\tfunction() { return true; } :\n\t\t\t\tfunction( elem ) {\n\t\t\t\t\treturn elem.nodeName && elem.nodeName.toLowerCase() === nodeName;\n\t\t\t\t};\n\t\t},\n\n\t\t\"CLASS\": function( className ) {\n\t\t\tvar pattern = classCache[ className + \" \" ];\n\n\t\t\treturn pattern ||\n\t\t\t\t(pattern = new RegExp( \"(^|\" + whitespace + \")\" + className + \"(\" + whitespace + \"|$)\" )) &&\n\t\t\t\tclassCache( className, function( elem ) {\n\t\t\t\t\treturn pattern.test( typeof elem.className === \"string\" && elem.className || typeof elem.getAttribute !== strundefined && elem.getAttribute(\"class\") || \"\" );\n\t\t\t\t});\n\t\t},\n\n\t\t\"ATTR\": function( name, operator, check ) {\n\t\t\treturn function( elem ) {\n\t\t\t\tvar result = Sizzle.attr( elem, name );\n\n\t\t\t\tif ( result == null ) {\n\t\t\t\t\treturn operator === \"!=\";\n\t\t\t\t}\n\t\t\t\tif ( !operator ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\tresult += \"\";\n\n\t\t\t\treturn operator === \"=\" ? result === check :\n\t\t\t\t\toperator === \"!=\" ? result !== check :\n\t\t\t\t\toperator === \"^=\" ? check && result.indexOf( check ) === 0 :\n\t\t\t\t\toperator === \"*=\" ? check && result.indexOf( check ) > -1 :\n\t\t\t\t\toperator === \"$=\" ? check && result.slice( -check.length ) === check :\n\t\t\t\t\toperator === \"~=\" ? ( \" \" + result + \" \" ).indexOf( check ) > -1 :\n\t\t\t\t\toperator === \"|=\" ? result === check || result.slice( 0, check.length + 1 ) === check + \"-\" :\n\t\t\t\t\tfalse;\n\t\t\t};\n\t\t},\n\n\t\t\"CHILD\": function( type, what, argument, first, last ) {\n\t\t\tvar simple = type.slice( 0, 3 ) !== \"nth\",\n\t\t\t\tforward = type.slice( -4 ) !== \"last\",\n\t\t\t\tofType = what === \"of-type\";\n\n\t\t\treturn first === 1 && last === 0 ?\n\n\t\t\t\t// Shortcut for :nth-*(n)\n\t\t\t\tfunction( elem ) {\n\t\t\t\t\treturn !!elem.parentNode;\n\t\t\t\t} :\n\n\t\t\t\tfunction( elem, context, xml ) {\n\t\t\t\t\tvar cache, outerCache, node, diff, nodeIndex, start,\n\t\t\t\t\t\tdir = simple !== forward ? \"nextSibling\" : \"previousSibling\",\n\t\t\t\t\t\tparent = elem.parentNode,\n\t\t\t\t\t\tname = ofType && elem.nodeName.toLowerCase(),\n\t\t\t\t\t\tuseCache = !xml && !ofType;\n\n\t\t\t\t\tif ( parent ) {\n\n\t\t\t\t\t\t// :(first|last|only)-(child|of-type)\n\t\t\t\t\t\tif ( simple ) {\n\t\t\t\t\t\t\twhile ( dir ) {\n\t\t\t\t\t\t\t\tnode = elem;\n\t\t\t\t\t\t\t\twhile ( (node = node[ dir ]) ) {\n\t\t\t\t\t\t\t\t\tif ( ofType ? node.nodeName.toLowerCase() === name : node.nodeType === 1 ) {\n\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t// Reverse direction for :only-* (if we haven't yet done so)\n\t\t\t\t\t\t\t\tstart = dir = type === \"only\" && !start && \"nextSibling\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tstart = [ forward ? parent.firstChild : parent.lastChild ];\n\n\t\t\t\t\t\t// non-xml :nth-child(...) stores cache data on `parent`\n\t\t\t\t\t\tif ( forward && useCache ) {\n\t\t\t\t\t\t\t// Seek `elem` from a previously-cached index\n\t\t\t\t\t\t\touterCache = parent[ expando ] || (parent[ expando ] = {});\n\t\t\t\t\t\t\tcache = outerCache[ type ] || [];\n\t\t\t\t\t\t\tnodeIndex = cache[0] === dirruns && cache[1];\n\t\t\t\t\t\t\tdiff = cache[0] === dirruns && cache[2];\n\t\t\t\t\t\t\tnode = nodeIndex && parent.childNodes[ nodeIndex ];\n\n\t\t\t\t\t\t\twhile ( (node = ++nodeIndex && node && node[ dir ] ||\n\n\t\t\t\t\t\t\t\t// Fallback to seeking `elem` from the start\n\t\t\t\t\t\t\t\t(diff = nodeIndex = 0) || start.pop()) ) {\n\n\t\t\t\t\t\t\t\t// When found, cache indexes on `parent` and break\n\t\t\t\t\t\t\t\tif ( node.nodeType === 1 && ++diff && node === elem ) {\n\t\t\t\t\t\t\t\t\touterCache[ type ] = [ dirruns, nodeIndex, diff ];\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Use previously-cached element index if available\n\t\t\t\t\t\t} else if ( useCache && (cache = (elem[ expando ] || (elem[ expando ] = {}))[ type ]) && cache[0] === dirruns ) {\n\t\t\t\t\t\t\tdiff = cache[1];\n\n\t\t\t\t\t\t// xml :nth-child(...) or :nth-last-child(...) or :nth(-last)?-of-type(...)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Use the same loop as above to seek `elem` from the start\n\t\t\t\t\t\t\twhile ( (node = ++nodeIndex && node && node[ dir ] ||\n\t\t\t\t\t\t\t\t(diff = nodeIndex = 0) || start.pop()) ) {\n\n\t\t\t\t\t\t\t\tif ( ( ofType ? node.nodeName.toLowerCase() === name : node.nodeType === 1 ) && ++diff ) {\n\t\t\t\t\t\t\t\t\t// Cache the index of each encountered element\n\t\t\t\t\t\t\t\t\tif ( useCache ) {\n\t\t\t\t\t\t\t\t\t\t(node[ expando ] || (node[ expando ] = {}))[ type ] = [ dirruns, diff ];\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tif ( node === elem ) {\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Incorporate the offset, then check against cycle size\n\t\t\t\t\t\tdiff -= last;\n\t\t\t\t\t\treturn diff === first || ( diff % first === 0 && diff / first >= 0 );\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t},\n\n\t\t\"PSEUDO\": function( pseudo, argument ) {\n\t\t\t// pseudo-class names are case-insensitive\n\t\t\t// http://www.w3.org/TR/selectors/#pseudo-classes\n\t\t\t// Prioritize by case sensitivity in case custom pseudos are added with uppercase letters\n\t\t\t// Remember that setFilters inherits from pseudos\n\t\t\tvar args,\n\t\t\t\tfn = Expr.pseudos[ pseudo ] || Expr.setFilters[ pseudo.toLowerCase() ] ||\n\t\t\t\t\tSizzle.error( \"unsupported pseudo: \" + pseudo );\n\n\t\t\t// The user may use createPseudo to indicate that\n\t\t\t// arguments are needed to create the filter function\n\t\t\t// just as Sizzle does\n\t\t\tif ( fn[ expando ] ) {\n\t\t\t\treturn fn( argument );\n\t\t\t}\n\n\t\t\t// But maintain support for old signatures\n\t\t\tif ( fn.length > 1 ) {\n\t\t\t\targs = [ pseudo, pseudo, \"\", argument ];\n\t\t\t\treturn Expr.setFilters.hasOwnProperty( pseudo.toLowerCase() ) ?\n\t\t\t\t\tmarkFunction(function( seed, matches ) {\n\t\t\t\t\t\tvar idx,\n\t\t\t\t\t\t\tmatched = fn( seed, argument ),\n\t\t\t\t\t\t\ti = matched.length;\n\t\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\t\tidx = indexOf.call( seed, matched[i] );\n\t\t\t\t\t\t\tseed[ idx ] = !( matches[ idx ] = matched[i] );\n\t\t\t\t\t\t}\n\t\t\t\t\t}) :\n\t\t\t\t\tfunction( elem ) {\n\t\t\t\t\t\treturn fn( elem, 0, args );\n\t\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn fn;\n\t\t}\n\t},\n\n\tpseudos: {\n\t\t// Potentially complex pseudos\n\t\t\"not\": markFunction(function( selector ) {\n\t\t\t// Trim the selector passed to compile\n\t\t\t// to avoid treating leading and trailing\n\t\t\t// spaces as combinators\n\t\t\tvar input = [],\n\t\t\t\tresults = [],\n\t\t\t\tmatcher = compile( selector.replace( rtrim, \"$1\" ) );\n\n\t\t\treturn matcher[ expando ] ?\n\t\t\t\tmarkFunction(function( seed, matches, context, xml ) {\n\t\t\t\t\tvar elem,\n\t\t\t\t\t\tunmatched = matcher( seed, null, xml, [] ),\n\t\t\t\t\t\ti = seed.length;\n\n\t\t\t\t\t// Match elements unmatched by `matcher`\n\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\tif ( (elem = unmatched[i]) ) {\n\t\t\t\t\t\t\tseed[i] = !(matches[i] = elem);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}) :\n\t\t\t\tfunction( elem, context, xml ) {\n\t\t\t\t\tinput[0] = elem;\n\t\t\t\t\tmatcher( input, null, xml, results );\n\t\t\t\t\treturn !results.pop();\n\t\t\t\t};\n\t\t}),\n\n\t\t\"has\": markFunction(function( selector ) {\n\t\t\treturn function( elem ) {\n\t\t\t\treturn Sizzle( selector, elem ).length > 0;\n\t\t\t};\n\t\t}),\n\n\t\t\"contains\": markFunction(function( text ) {\n\t\t\treturn function( elem ) {\n\t\t\t\treturn ( elem.textContent || elem.innerText || getText( elem ) ).indexOf( text ) > -1;\n\t\t\t};\n\t\t}),\n\n\t\t// \"Whether an element is represented by a :lang() selector\n\t\t// is based solely on the element's language value\n\t\t// being equal to the identifier C,\n\t\t// or beginning with the identifier C immediately followed by \"-\".\n\t\t// The matching of C against the element's language value is performed case-insensitively.\n\t\t// The identifier C does not have to be a valid language name.\"\n\t\t// http://www.w3.org/TR/selectors/#lang-pseudo\n\t\t\"lang\": markFunction( function( lang ) {\n\t\t\t// lang value must be a valid identifier\n\t\t\tif ( !ridentifier.test(lang || \"\") ) {\n\t\t\t\tSizzle.error( \"unsupported lang: \" + lang );\n\t\t\t}\n\t\t\tlang = lang.replace( runescape, funescape ).toLowerCase();\n\t\t\treturn function( elem ) {\n\t\t\t\tvar elemLang;\n\t\t\t\tdo {\n\t\t\t\t\tif ( (elemLang = documentIsHTML ?\n\t\t\t\t\t\telem.lang :\n\t\t\t\t\t\telem.getAttribute(\"xml:lang\") || elem.getAttribute(\"lang\")) ) {\n\n\t\t\t\t\t\telemLang = elemLang.toLowerCase();\n\t\t\t\t\t\treturn elemLang === lang || elemLang.indexOf( lang + \"-\" ) === 0;\n\t\t\t\t\t}\n\t\t\t\t} while ( (elem = elem.parentNode) && elem.nodeType === 1 );\n\t\t\t\treturn false;\n\t\t\t};\n\t\t}),\n\n\t\t// Miscellaneous\n\t\t\"target\": function( elem ) {\n\t\t\tvar hash = window.location && window.location.hash;\n\t\t\treturn hash && hash.slice( 1 ) === elem.id;\n\t\t},\n\n\t\t\"root\": function( elem ) {\n\t\t\treturn elem === docElem;\n\t\t},\n\n\t\t\"focus\": function( elem ) {\n\t\t\treturn elem === document.activeElement && (!document.hasFocus || document.hasFocus()) && !!(elem.type || elem.href || ~elem.tabIndex);\n\t\t},\n\n\t\t// Boolean properties\n\t\t\"enabled\": function( elem ) {\n\t\t\treturn elem.disabled === false;\n\t\t},\n\n\t\t\"disabled\": function( elem ) {\n\t\t\treturn elem.disabled === true;\n\t\t},\n\n\t\t\"checked\": function( elem ) {\n\t\t\t// In CSS3, :checked should return both checked and selected elements\n\t\t\t// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked\n\t\t\tvar nodeName = elem.nodeName.toLowerCase();\n\t\t\treturn (nodeName === \"input\" && !!elem.checked) || (nodeName === \"option\" && !!elem.selected);\n\t\t},\n\n\t\t\"selected\": function( elem ) {\n\t\t\t// Accessing this property makes selected-by-default\n\t\t\t// options in Safari work properly\n\t\t\tif ( elem.parentNode ) {\n\t\t\t\telem.parentNode.selectedIndex;\n\t\t\t}\n\n\t\t\treturn elem.selected === true;\n\t\t},\n\n\t\t// Contents\n\t\t\"empty\": function( elem ) {\n\t\t\t// http://www.w3.org/TR/selectors/#empty-pseudo\n\t\t\t// :empty is negated by element (1) or content nodes (text: 3; cdata: 4; entity ref: 5),\n\t\t\t//   but not by others (comment: 8; processing instruction: 7; etc.)\n\t\t\t// nodeType < 6 works because attributes (2) do not appear as children\n\t\t\tfor ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {\n\t\t\t\tif ( elem.nodeType < 6 ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\n\t\t\"parent\": function( elem ) {\n\t\t\treturn !Expr.pseudos[\"empty\"]( elem );\n\t\t},\n\n\t\t// Element/input types\n\t\t\"header\": function( elem ) {\n\t\t\treturn rheader.test( elem.nodeName );\n\t\t},\n\n\t\t\"input\": function( elem ) {\n\t\t\treturn rinputs.test( elem.nodeName );\n\t\t},\n\n\t\t\"button\": function( elem ) {\n\t\t\tvar name = elem.nodeName.toLowerCase();\n\t\t\treturn name === \"input\" && elem.type === \"button\" || name === \"button\";\n\t\t},\n\n\t\t\"text\": function( elem ) {\n\t\t\tvar attr;\n\t\t\treturn elem.nodeName.toLowerCase() === \"input\" &&\n\t\t\t\telem.type === \"text\" &&\n\n\t\t\t\t// Support: IE<8\n\t\t\t\t// New HTML5 attribute values (e.g., \"search\") appear with elem.type === \"text\"\n\t\t\t\t( (attr = elem.getAttribute(\"type\")) == null || attr.toLowerCase() === \"text\" );\n\t\t},\n\n\t\t// Position-in-collection\n\t\t\"first\": createPositionalPseudo(function() {\n\t\t\treturn [ 0 ];\n\t\t}),\n\n\t\t\"last\": createPositionalPseudo(function( matchIndexes, length ) {\n\t\t\treturn [ length - 1 ];\n\t\t}),\n\n\t\t\"eq\": createPositionalPseudo(function( matchIndexes, length, argument ) {\n\t\t\treturn [ argument < 0 ? argument + length : argument ];\n\t\t}),\n\n\t\t\"even\": createPositionalPseudo(function( matchIndexes, length ) {\n\t\t\tvar i = 0;\n\t\t\tfor ( ; i < length; i += 2 ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t}),\n\n\t\t\"odd\": createPositionalPseudo(function( matchIndexes, length ) {\n\t\t\tvar i = 1;\n\t\t\tfor ( ; i < length; i += 2 ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t}),\n\n\t\t\"lt\": createPositionalPseudo(function( matchIndexes, length, argument ) {\n\t\t\tvar i = argument < 0 ? argument + length : argument;\n\t\t\tfor ( ; --i >= 0; ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t}),\n\n\t\t\"gt\": createPositionalPseudo(function( matchIndexes, length, argument ) {\n\t\t\tvar i = argument < 0 ? argument + length : argument;\n\t\t\tfor ( ; ++i < length; ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t})\n\t}\n};\n\nExpr.pseudos[\"nth\"] = Expr.pseudos[\"eq\"];\n\n// Add button/input type pseudos\nfor ( i in { radio: true, checkbox: true, file: true, password: true, image: true } ) {\n\tExpr.pseudos[ i ] = createInputPseudo( i );\n}\nfor ( i in { submit: true, reset: true } ) {\n\tExpr.pseudos[ i ] = createButtonPseudo( i );\n}\n\n// Easy API for creating new setFilters\nfunction setFilters() {}\nsetFilters.prototype = Expr.filters = Expr.pseudos;\nExpr.setFilters = new setFilters();\n\ntokenize = Sizzle.tokenize = function( selector, parseOnly ) {\n\tvar matched, match, tokens, type,\n\t\tsoFar, groups, preFilters,\n\t\tcached = tokenCache[ selector + \" \" ];\n\n\tif ( cached ) {\n\t\treturn parseOnly ? 0 : cached.slice( 0 );\n\t}\n\n\tsoFar = selector;\n\tgroups = [];\n\tpreFilters = Expr.preFilter;\n\n\twhile ( soFar ) {\n\n\t\t// Comma and first run\n\t\tif ( !matched || (match = rcomma.exec( soFar )) ) {\n\t\t\tif ( match ) {\n\t\t\t\t// Don't consume trailing commas as valid\n\t\t\t\tsoFar = soFar.slice( match[0].length ) || soFar;\n\t\t\t}\n\t\t\tgroups.push( (tokens = []) );\n\t\t}\n\n\t\tmatched = false;\n\n\t\t// Combinators\n\t\tif ( (match = rcombinators.exec( soFar )) ) {\n\t\t\tmatched = match.shift();\n\t\t\ttokens.push({\n\t\t\t\tvalue: matched,\n\t\t\t\t// Cast descendant combinators to space\n\t\t\t\ttype: match[0].replace( rtrim, \" \" )\n\t\t\t});\n\t\t\tsoFar = soFar.slice( matched.length );\n\t\t}\n\n\t\t// Filters\n\t\tfor ( type in Expr.filter ) {\n\t\t\tif ( (match = matchExpr[ type ].exec( soFar )) && (!preFilters[ type ] ||\n\t\t\t\t(match = preFilters[ type ]( match ))) ) {\n\t\t\t\tmatched = match.shift();\n\t\t\t\ttokens.push({\n\t\t\t\t\tvalue: matched,\n\t\t\t\t\ttype: type,\n\t\t\t\t\tmatches: match\n\t\t\t\t});\n\t\t\t\tsoFar = soFar.slice( matched.length );\n\t\t\t}\n\t\t}\n\n\t\tif ( !matched ) {\n\t\t\tbreak;\n\t\t}\n\t}\n\n\t// Return the length of the invalid excess\n\t// if we're just parsing\n\t// Otherwise, throw an error or return tokens\n\treturn parseOnly ?\n\t\tsoFar.length :\n\t\tsoFar ?\n\t\t\tSizzle.error( selector ) :\n\t\t\t// Cache the tokens\n\t\t\ttokenCache( selector, groups ).slice( 0 );\n};\n\nfunction toSelector( tokens ) {\n\tvar i = 0,\n\t\tlen = tokens.length,\n\t\tselector = \"\";\n\tfor ( ; i < len; i++ ) {\n\t\tselector += tokens[i].value;\n\t}\n\treturn selector;\n}\n\nfunction addCombinator( matcher, combinator, base ) {\n\tvar dir = combinator.dir,\n\t\tcheckNonElements = base && dir === \"parentNode\",\n\t\tdoneName = done++;\n\n\treturn combinator.first ?\n\t\t// Check against closest ancestor/preceding element\n\t\tfunction( elem, context, xml ) {\n\t\t\twhile ( (elem = elem[ dir ]) ) {\n\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\treturn matcher( elem, context, xml );\n\t\t\t\t}\n\t\t\t}\n\t\t} :\n\n\t\t// Check against all ancestor/preceding elements\n\t\tfunction( elem, context, xml ) {\n\t\t\tvar oldCache, outerCache,\n\t\t\t\tnewCache = [ dirruns, doneName ];\n\n\t\t\t// We can't set arbitrary data on XML nodes, so they don't benefit from dir caching\n\t\t\tif ( xml ) {\n\t\t\t\twhile ( (elem = elem[ dir ]) ) {\n\t\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\t\tif ( matcher( elem, context, xml ) ) {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\twhile ( (elem = elem[ dir ]) ) {\n\t\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\t\touterCache = elem[ expando ] || (elem[ expando ] = {});\n\t\t\t\t\t\tif ( (oldCache = outerCache[ dir ]) &&\n\t\t\t\t\t\t\toldCache[ 0 ] === dirruns && oldCache[ 1 ] === doneName ) {\n\n\t\t\t\t\t\t\t// Assign to newCache so results back-propagate to previous elements\n\t\t\t\t\t\t\treturn (newCache[ 2 ] = oldCache[ 2 ]);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Reuse newcache so results back-propagate to previous elements\n\t\t\t\t\t\t\touterCache[ dir ] = newCache;\n\n\t\t\t\t\t\t\t// A match means we're done; a fail means we have to keep checking\n\t\t\t\t\t\t\tif ( (newCache[ 2 ] = matcher( elem, context, xml )) ) {\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n}\n\nfunction elementMatcher( matchers ) {\n\treturn matchers.length > 1 ?\n\t\tfunction( elem, context, xml ) {\n\t\t\tvar i = matchers.length;\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( !matchers[i]( elem, context, xml ) ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t} :\n\t\tmatchers[0];\n}\n\nfunction multipleContexts( selector, contexts, results ) {\n\tvar i = 0,\n\t\tlen = contexts.length;\n\tfor ( ; i < len; i++ ) {\n\t\tSizzle( selector, contexts[i], results );\n\t}\n\treturn results;\n}\n\nfunction condense( unmatched, map, filter, context, xml ) {\n\tvar elem,\n\t\tnewUnmatched = [],\n\t\ti = 0,\n\t\tlen = unmatched.length,\n\t\tmapped = map != null;\n\n\tfor ( ; i < len; i++ ) {\n\t\tif ( (elem = unmatched[i]) ) {\n\t\t\tif ( !filter || filter( elem, context, xml ) ) {\n\t\t\t\tnewUnmatched.push( elem );\n\t\t\t\tif ( mapped ) {\n\t\t\t\t\tmap.push( i );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn newUnmatched;\n}\n\nfunction setMatcher( preFilter, selector, matcher, postFilter, postFinder, postSelector ) {\n\tif ( postFilter && !postFilter[ expando ] ) {\n\t\tpostFilter = setMatcher( postFilter );\n\t}\n\tif ( postFinder && !postFinder[ expando ] ) {\n\t\tpostFinder = setMatcher( postFinder, postSelector );\n\t}\n\treturn markFunction(function( seed, results, context, xml ) {\n\t\tvar temp, i, elem,\n\t\t\tpreMap = [],\n\t\t\tpostMap = [],\n\t\t\tpreexisting = results.length,\n\n\t\t\t// Get initial elements from seed or context\n\t\t\telems = seed || multipleContexts( selector || \"*\", context.nodeType ? [ context ] : context, [] ),\n\n\t\t\t// Prefilter to get matcher input, preserving a map for seed-results synchronization\n\t\t\tmatcherIn = preFilter && ( seed || !selector ) ?\n\t\t\t\tcondense( elems, preMap, preFilter, context, xml ) :\n\t\t\t\telems,\n\n\t\t\tmatcherOut = matcher ?\n\t\t\t\t// If we have a postFinder, or filtered seed, or non-seed postFilter or preexisting results,\n\t\t\t\tpostFinder || ( seed ? preFilter : preexisting || postFilter ) ?\n\n\t\t\t\t\t// ...intermediate processing is necessary\n\t\t\t\t\t[] :\n\n\t\t\t\t\t// ...otherwise use results directly\n\t\t\t\t\tresults :\n\t\t\t\tmatcherIn;\n\n\t\t// Find primary matches\n\t\tif ( matcher ) {\n\t\t\tmatcher( matcherIn, matcherOut, context, xml );\n\t\t}\n\n\t\t// Apply postFilter\n\t\tif ( postFilter ) {\n\t\t\ttemp = condense( matcherOut, postMap );\n\t\t\tpostFilter( temp, [], context, xml );\n\n\t\t\t// Un-match failing elements by moving them back to matcherIn\n\t\t\ti = temp.length;\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( (elem = temp[i]) ) {\n\t\t\t\t\tmatcherOut[ postMap[i] ] = !(matcherIn[ postMap[i] ] = elem);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ( seed ) {\n\t\t\tif ( postFinder || preFilter ) {\n\t\t\t\tif ( postFinder ) {\n\t\t\t\t\t// Get the final matcherOut by condensing this intermediate into postFinder contexts\n\t\t\t\t\ttemp = [];\n\t\t\t\t\ti = matcherOut.length;\n\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\tif ( (elem = matcherOut[i]) ) {\n\t\t\t\t\t\t\t// Restore matcherIn since elem is not yet a final match\n\t\t\t\t\t\t\ttemp.push( (matcherIn[i] = elem) );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tpostFinder( null, (matcherOut = []), temp, xml );\n\t\t\t\t}\n\n\t\t\t\t// Move matched elements from seed to results to keep them synchronized\n\t\t\t\ti = matcherOut.length;\n\t\t\t\twhile ( i-- ) {\n\t\t\t\t\tif ( (elem = matcherOut[i]) &&\n\t\t\t\t\t\t(temp = postFinder ? indexOf.call( seed, elem ) : preMap[i]) > -1 ) {\n\n\t\t\t\t\t\tseed[temp] = !(results[temp] = elem);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t// Add elements to results, through postFinder if defined\n\t\t} else {\n\t\t\tmatcherOut = condense(\n\t\t\t\tmatcherOut === results ?\n\t\t\t\t\tmatcherOut.splice( preexisting, matcherOut.length ) :\n\t\t\t\t\tmatcherOut\n\t\t\t);\n\t\t\tif ( postFinder ) {\n\t\t\t\tpostFinder( null, results, matcherOut, xml );\n\t\t\t} else {\n\t\t\t\tpush.apply( results, matcherOut );\n\t\t\t}\n\t\t}\n\t});\n}\n\nfunction matcherFromTokens( tokens ) {\n\tvar checkContext, matcher, j,\n\t\tlen = tokens.length,\n\t\tleadingRelative = Expr.relative[ tokens[0].type ],\n\t\timplicitRelative = leadingRelative || Expr.relative[\" \"],\n\t\ti = leadingRelative ? 1 : 0,\n\n\t\t// The foundational matcher ensures that elements are reachable from top-level context(s)\n\t\tmatchContext = addCombinator( function( elem ) {\n\t\t\treturn elem === checkContext;\n\t\t}, implicitRelative, true ),\n\t\tmatchAnyContext = addCombinator( function( elem ) {\n\t\t\treturn indexOf.call( checkContext, elem ) > -1;\n\t\t}, implicitRelative, true ),\n\t\tmatchers = [ function( elem, context, xml ) {\n\t\t\treturn ( !leadingRelative && ( xml || context !== outermostContext ) ) || (\n\t\t\t\t(checkContext = context).nodeType ?\n\t\t\t\t\tmatchContext( elem, context, xml ) :\n\t\t\t\t\tmatchAnyContext( elem, context, xml ) );\n\t\t} ];\n\n\tfor ( ; i < len; i++ ) {\n\t\tif ( (matcher = Expr.relative[ tokens[i].type ]) ) {\n\t\t\tmatchers = [ addCombinator(elementMatcher( matchers ), matcher) ];\n\t\t} else {\n\t\t\tmatcher = Expr.filter[ tokens[i].type ].apply( null, tokens[i].matches );\n\n\t\t\t// Return special upon seeing a positional matcher\n\t\t\tif ( matcher[ expando ] ) {\n\t\t\t\t// Find the next relative operator (if any) for proper handling\n\t\t\t\tj = ++i;\n\t\t\t\tfor ( ; j < len; j++ ) {\n\t\t\t\t\tif ( Expr.relative[ tokens[j].type ] ) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn setMatcher(\n\t\t\t\t\ti > 1 && elementMatcher( matchers ),\n\t\t\t\t\ti > 1 && toSelector(\n\t\t\t\t\t\t// If the preceding token was a descendant combinator, insert an implicit any-element `*`\n\t\t\t\t\t\ttokens.slice( 0, i - 1 ).concat({ value: tokens[ i - 2 ].type === \" \" ? \"*\" : \"\" })\n\t\t\t\t\t).replace( rtrim, \"$1\" ),\n\t\t\t\t\tmatcher,\n\t\t\t\t\ti < j && matcherFromTokens( tokens.slice( i, j ) ),\n\t\t\t\t\tj < len && matcherFromTokens( (tokens = tokens.slice( j )) ),\n\t\t\t\t\tj < len && toSelector( tokens )\n\t\t\t\t);\n\t\t\t}\n\t\t\tmatchers.push( matcher );\n\t\t}\n\t}\n\n\treturn elementMatcher( matchers );\n}\n\nfunction matcherFromGroupMatchers( elementMatchers, setMatchers ) {\n\tvar bySet = setMatchers.length > 0,\n\t\tbyElement = elementMatchers.length > 0,\n\t\tsuperMatcher = function( seed, context, xml, results, outermost ) {\n\t\t\tvar elem, j, matcher,\n\t\t\t\tmatchedCount = 0,\n\t\t\t\ti = \"0\",\n\t\t\t\tunmatched = seed && [],\n\t\t\t\tsetMatched = [],\n\t\t\t\tcontextBackup = outermostContext,\n\t\t\t\t// We must always have either seed elements or outermost context\n\t\t\t\telems = seed || byElement && Expr.find[\"TAG\"]( \"*\", outermost ),\n\t\t\t\t// Use integer dirruns iff this is the outermost matcher\n\t\t\t\tdirrunsUnique = (dirruns += contextBackup == null ? 1 : Math.random() || 0.1),\n\t\t\t\tlen = elems.length;\n\n\t\t\tif ( outermost ) {\n\t\t\t\toutermostContext = context !== document && context;\n\t\t\t}\n\n\t\t\t// Add elements passing elementMatchers directly to results\n\t\t\t// Keep `i` a string if there are no elements so `matchedCount` will be \"00\" below\n\t\t\t// Support: IE<9, Safari\n\t\t\t// Tolerate NodeList properties (IE: \"length\"; Safari: <number>) matching elements by id\n\t\t\tfor ( ; i !== len && (elem = elems[i]) != null; i++ ) {\n\t\t\t\tif ( byElement && elem ) {\n\t\t\t\t\tj = 0;\n\t\t\t\t\twhile ( (matcher = elementMatchers[j++]) ) {\n\t\t\t\t\t\tif ( matcher( elem, context, xml ) ) {\n\t\t\t\t\t\t\tresults.push( elem );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif ( outermost ) {\n\t\t\t\t\t\tdirruns = dirrunsUnique;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Track unmatched elements for set filters\n\t\t\t\tif ( bySet ) {\n\t\t\t\t\t// They will have gone through all possible matchers\n\t\t\t\t\tif ( (elem = !matcher && elem) ) {\n\t\t\t\t\t\tmatchedCount--;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Lengthen the array for every element, matched or not\n\t\t\t\t\tif ( seed ) {\n\t\t\t\t\t\tunmatched.push( elem );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Apply set filters to unmatched elements\n\t\t\tmatchedCount += i;\n\t\t\tif ( bySet && i !== matchedCount ) {\n\t\t\t\tj = 0;\n\t\t\t\twhile ( (matcher = setMatchers[j++]) ) {\n\t\t\t\t\tmatcher( unmatched, setMatched, context, xml );\n\t\t\t\t}\n\n\t\t\t\tif ( seed ) {\n\t\t\t\t\t// Reintegrate element matches to eliminate the need for sorting\n\t\t\t\t\tif ( matchedCount > 0 ) {\n\t\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\t\tif ( !(unmatched[i] || setMatched[i]) ) {\n\t\t\t\t\t\t\t\tsetMatched[i] = pop.call( results );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Discard index placeholder values to get only actual matches\n\t\t\t\t\tsetMatched = condense( setMatched );\n\t\t\t\t}\n\n\t\t\t\t// Add matches to results\n\t\t\t\tpush.apply( results, setMatched );\n\n\t\t\t\t// Seedless set matches succeeding multiple successful matchers stipulate sorting\n\t\t\t\tif ( outermost && !seed && setMatched.length > 0 &&\n\t\t\t\t\t( matchedCount + setMatchers.length ) > 1 ) {\n\n\t\t\t\t\tSizzle.uniqueSort( results );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Override manipulation of globals by nested matchers\n\t\t\tif ( outermost ) {\n\t\t\t\tdirruns = dirrunsUnique;\n\t\t\t\toutermostContext = contextBackup;\n\t\t\t}\n\n\t\t\treturn unmatched;\n\t\t};\n\n\treturn bySet ?\n\t\tmarkFunction( superMatcher ) :\n\t\tsuperMatcher;\n}\n\ncompile = Sizzle.compile = function( selector, match /* Internal Use Only */ ) {\n\tvar i,\n\t\tsetMatchers = [],\n\t\telementMatchers = [],\n\t\tcached = compilerCache[ selector + \" \" ];\n\n\tif ( !cached ) {\n\t\t// Generate a function of recursive functions that can be used to check each element\n\t\tif ( !match ) {\n\t\t\tmatch = tokenize( selector );\n\t\t}\n\t\ti = match.length;\n\t\twhile ( i-- ) {\n\t\t\tcached = matcherFromTokens( match[i] );\n\t\t\tif ( cached[ expando ] ) {\n\t\t\t\tsetMatchers.push( cached );\n\t\t\t} else {\n\t\t\t\telementMatchers.push( cached );\n\t\t\t}\n\t\t}\n\n\t\t// Cache the compiled function\n\t\tcached = compilerCache( selector, matcherFromGroupMatchers( elementMatchers, setMatchers ) );\n\n\t\t// Save selector and tokenization\n\t\tcached.selector = selector;\n\t}\n\treturn cached;\n};\n\n/**\n * A low-level selection function that works with Sizzle's compiled\n *  selector functions\n * @param {String|Function} selector A selector or a pre-compiled\n *  selector function built with Sizzle.compile\n * @param {Element} context\n * @param {Array} [results]\n * @param {Array} [seed] A set of elements to match against\n */\nselect = Sizzle.select = function( selector, context, results, seed ) {\n\tvar i, tokens, token, type, find,\n\t\tcompiled = typeof selector === \"function\" && selector,\n\t\tmatch = !seed && tokenize( (selector = compiled.selector || selector) );\n\n\tresults = results || [];\n\n\t// Try to minimize operations if there is no seed and only one group\n\tif ( match.length === 1 ) {\n\n\t\t// Take a shortcut and set the context if the root selector is an ID\n\t\ttokens = match[0] = match[0].slice( 0 );\n\t\tif ( tokens.length > 2 && (token = tokens[0]).type === \"ID\" &&\n\t\t\t\tsupport.getById && context.nodeType === 9 && documentIsHTML &&\n\t\t\t\tExpr.relative[ tokens[1].type ] ) {\n\n\t\t\tcontext = ( Expr.find[\"ID\"]( token.matches[0].replace(runescape, funescape), context ) || [] )[0];\n\t\t\tif ( !context ) {\n\t\t\t\treturn results;\n\n\t\t\t// Precompiled matchers will still verify ancestry, so step up a level\n\t\t\t} else if ( compiled ) {\n\t\t\t\tcontext = context.parentNode;\n\t\t\t}\n\n\t\t\tselector = selector.slice( tokens.shift().value.length );\n\t\t}\n\n\t\t// Fetch a seed set for right-to-left matching\n\t\ti = matchExpr[\"needsContext\"].test( selector ) ? 0 : tokens.length;\n\t\twhile ( i-- ) {\n\t\t\ttoken = tokens[i];\n\n\t\t\t// Abort if we hit a combinator\n\t\t\tif ( Expr.relative[ (type = token.type) ] ) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif ( (find = Expr.find[ type ]) ) {\n\t\t\t\t// Search, expanding context for leading sibling combinators\n\t\t\t\tif ( (seed = find(\n\t\t\t\t\ttoken.matches[0].replace( runescape, funescape ),\n\t\t\t\t\trsibling.test( tokens[0].type ) && testContext( context.parentNode ) || context\n\t\t\t\t)) ) {\n\n\t\t\t\t\t// If seed is empty or no tokens remain, we can return early\n\t\t\t\t\ttokens.splice( i, 1 );\n\t\t\t\t\tselector = seed.length && toSelector( tokens );\n\t\t\t\t\tif ( !selector ) {\n\t\t\t\t\t\tpush.apply( results, seed );\n\t\t\t\t\t\treturn results;\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Compile and execute a filtering function if one is not provided\n\t// Provide `match` to avoid retokenization if we modified the selector above\n\t( compiled || compile( selector, match ) )(\n\t\tseed,\n\t\tcontext,\n\t\t!documentIsHTML,\n\t\tresults,\n\t\trsibling.test( selector ) && testContext( context.parentNode ) || context\n\t);\n\treturn results;\n};\n\n// One-time assignments\n\n// Sort stability\nsupport.sortStable = expando.split(\"\").sort( sortOrder ).join(\"\") === expando;\n\n// Support: Chrome<14\n// Always assume duplicates if they aren't passed to the comparison function\nsupport.detectDuplicates = !!hasDuplicate;\n\n// Initialize against the default document\nsetDocument();\n\n// Support: Webkit<537.32 - Safari 6.0.3/Chrome 25 (fixed in Chrome 27)\n// Detached nodes confoundingly follow *each other*\nsupport.sortDetached = assert(function( div1 ) {\n\t// Should return 1, but returns 4 (following)\n\treturn div1.compareDocumentPosition( document.createElement(\"div\") ) & 1;\n});\n\n// Support: IE<8\n// Prevent attribute/property \"interpolation\"\n// http://msdn.microsoft.com/en-us/library/ms536429%28VS.85%29.aspx\nif ( !assert(function( div ) {\n\tdiv.innerHTML = \"<a href='#'></a>\";\n\treturn div.firstChild.getAttribute(\"href\") === \"#\" ;\n}) ) {\n\taddHandle( \"type|href|height|width\", function( elem, name, isXML ) {\n\t\tif ( !isXML ) {\n\t\t\treturn elem.getAttribute( name, name.toLowerCase() === \"type\" ? 1 : 2 );\n\t\t}\n\t});\n}\n\n// Support: IE<9\n// Use defaultValue in place of getAttribute(\"value\")\nif ( !support.attributes || !assert(function( div ) {\n\tdiv.innerHTML = \"<input/>\";\n\tdiv.firstChild.setAttribute( \"value\", \"\" );\n\treturn div.firstChild.getAttribute( \"value\" ) === \"\";\n}) ) {\n\taddHandle( \"value\", function( elem, name, isXML ) {\n\t\tif ( !isXML && elem.nodeName.toLowerCase() === \"input\" ) {\n\t\t\treturn elem.defaultValue;\n\t\t}\n\t});\n}\n\n// Support: IE<9\n// Use getAttributeNode to fetch booleans when getAttribute lies\nif ( !assert(function( div ) {\n\treturn div.getAttribute(\"disabled\") == null;\n}) ) {\n\taddHandle( booleans, function( elem, name, isXML ) {\n\t\tvar val;\n\t\tif ( !isXML ) {\n\t\t\treturn elem[ name ] === true ? name.toLowerCase() :\n\t\t\t\t\t(val = elem.getAttributeNode( name )) && val.specified ?\n\t\t\t\t\tval.value :\n\t\t\t\tnull;\n\t\t}\n\t});\n}\n\nreturn Sizzle;\n\n})( window );\n\n\n\njQuery.find = Sizzle;\njQuery.expr = Sizzle.selectors;\njQuery.expr[\":\"] = jQuery.expr.pseudos;\njQuery.unique = Sizzle.uniqueSort;\njQuery.text = Sizzle.getText;\njQuery.isXMLDoc = Sizzle.isXML;\njQuery.contains = Sizzle.contains;\n\n\n\nvar rneedsContext = jQuery.expr.match.needsContext;\n\nvar rsingleTag = (/^<(\\w+)\\s*\\/?>(?:<\\/\\1>|)$/);\n\n\n\nvar risSimple = /^.[^:#\\[\\.,]*$/;\n\n// Implement the identical functionality for filter and not\nfunction winnow( elements, qualifier, not ) {\n\tif ( jQuery.isFunction( qualifier ) ) {\n\t\treturn jQuery.grep( elements, function( elem, i ) {\n\t\t\t/* jshint -W018 */\n\t\t\treturn !!qualifier.call( elem, i, elem ) !== not;\n\t\t});\n\n\t}\n\n\tif ( qualifier.nodeType ) {\n\t\treturn jQuery.grep( elements, function( elem ) {\n\t\t\treturn ( elem === qualifier ) !== not;\n\t\t});\n\n\t}\n\n\tif ( typeof qualifier === \"string\" ) {\n\t\tif ( risSimple.test( qualifier ) ) {\n\t\t\treturn jQuery.filter( qualifier, elements, not );\n\t\t}\n\n\t\tqualifier = jQuery.filter( qualifier, elements );\n\t}\n\n\treturn jQuery.grep( elements, function( elem ) {\n\t\treturn ( indexOf.call( qualifier, elem ) >= 0 ) !== not;\n\t});\n}\n\njQuery.filter = function( expr, elems, not ) {\n\tvar elem = elems[ 0 ];\n\n\tif ( not ) {\n\t\texpr = \":not(\" + expr + \")\";\n\t}\n\n\treturn elems.length === 1 && elem.nodeType === 1 ?\n\t\tjQuery.find.matchesSelector( elem, expr ) ? [ elem ] : [] :\n\t\tjQuery.find.matches( expr, jQuery.grep( elems, function( elem ) {\n\t\t\treturn elem.nodeType === 1;\n\t\t}));\n};\n\njQuery.fn.extend({\n\tfind: function( selector ) {\n\t\tvar i,\n\t\t\tlen = this.length,\n\t\t\tret = [],\n\t\t\tself = this;\n\n\t\tif ( typeof selector !== \"string\" ) {\n\t\t\treturn this.pushStack( jQuery( selector ).filter(function() {\n\t\t\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\t\t\tif ( jQuery.contains( self[ i ], this ) ) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}) );\n\t\t}\n\n\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\tjQuery.find( selector, self[ i ], ret );\n\t\t}\n\n\t\t// Needed because $( selector, context ) becomes $( context ).find( selector )\n\t\tret = this.pushStack( len > 1 ? jQuery.unique( ret ) : ret );\n\t\tret.selector = this.selector ? this.selector + \" \" + selector : selector;\n\t\treturn ret;\n\t},\n\tfilter: function( selector ) {\n\t\treturn this.pushStack( winnow(this, selector || [], false) );\n\t},\n\tnot: function( selector ) {\n\t\treturn this.pushStack( winnow(this, selector || [], true) );\n\t},\n\tis: function( selector ) {\n\t\treturn !!winnow(\n\t\t\tthis,\n\n\t\t\t// If this is a positional/relative selector, check membership in the returned set\n\t\t\t// so $(\"p:first\").is(\"p:last\") won't return true for a doc with two \"p\".\n\t\t\ttypeof selector === \"string\" && rneedsContext.test( selector ) ?\n\t\t\t\tjQuery( selector ) :\n\t\t\t\tselector || [],\n\t\t\tfalse\n\t\t).length;\n\t}\n});\n\n\n// Initialize a jQuery object\n\n\n// A central reference to the root jQuery(document)\nvar rootjQuery,\n\n\t// A simple way to check for HTML strings\n\t// Prioritize #id over <tag> to avoid XSS via location.hash (#9521)\n\t// Strict HTML recognition (#11290: must start with <)\n\trquickExpr = /^(?:\\s*(<[\\w\\W]+>)[^>]*|#([\\w-]*))$/,\n\n\tinit = jQuery.fn.init = function( selector, context ) {\n\t\tvar match, elem;\n\n\t\t// HANDLE: $(\"\"), $(null), $(undefined), $(false)\n\t\tif ( !selector ) {\n\t\t\treturn this;\n\t\t}\n\n\t\t// Handle HTML strings\n\t\tif ( typeof selector === \"string\" ) {\n\t\t\tif ( selector[0] === \"<\" && selector[ selector.length - 1 ] === \">\" && selector.length >= 3 ) {\n\t\t\t\t// Assume that strings that start and end with <> are HTML and skip the regex check\n\t\t\t\tmatch = [ null, selector, null ];\n\n\t\t\t} else {\n\t\t\t\tmatch = rquickExpr.exec( selector );\n\t\t\t}\n\n\t\t\t// Match html or make sure no context is specified for #id\n\t\t\tif ( match && (match[1] || !context) ) {\n\n\t\t\t\t// HANDLE: $(html) -> $(array)\n\t\t\t\tif ( match[1] ) {\n\t\t\t\t\tcontext = context instanceof jQuery ? context[0] : context;\n\n\t\t\t\t\t// scripts is true for back-compat\n\t\t\t\t\t// Intentionally let the error be thrown if parseHTML is not present\n\t\t\t\t\tjQuery.merge( this, jQuery.parseHTML(\n\t\t\t\t\t\tmatch[1],\n\t\t\t\t\t\tcontext && context.nodeType ? context.ownerDocument || context : document,\n\t\t\t\t\t\ttrue\n\t\t\t\t\t) );\n\n\t\t\t\t\t// HANDLE: $(html, props)\n\t\t\t\t\tif ( rsingleTag.test( match[1] ) && jQuery.isPlainObject( context ) ) {\n\t\t\t\t\t\tfor ( match in context ) {\n\t\t\t\t\t\t\t// Properties of context are called as methods if possible\n\t\t\t\t\t\t\tif ( jQuery.isFunction( this[ match ] ) ) {\n\t\t\t\t\t\t\t\tthis[ match ]( context[ match ] );\n\n\t\t\t\t\t\t\t// ...and otherwise set as attributes\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.attr( match, context[ match ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn this;\n\n\t\t\t\t// HANDLE: $(#id)\n\t\t\t\t} else {\n\t\t\t\t\telem = document.getElementById( match[2] );\n\n\t\t\t\t\t// Check parentNode to catch when Blackberry 4.6 returns\n\t\t\t\t\t// nodes that are no longer in the document #6963\n\t\t\t\t\tif ( elem && elem.parentNode ) {\n\t\t\t\t\t\t// Inject the element directly into the jQuery object\n\t\t\t\t\t\tthis.length = 1;\n\t\t\t\t\t\tthis[0] = elem;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.context = document;\n\t\t\t\t\tthis.selector = selector;\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\n\t\t\t// HANDLE: $(expr, $(...))\n\t\t\t} else if ( !context || context.jquery ) {\n\t\t\t\treturn ( context || rootjQuery ).find( selector );\n\n\t\t\t// HANDLE: $(expr, context)\n\t\t\t// (which is just equivalent to: $(context).find(expr)\n\t\t\t} else {\n\t\t\t\treturn this.constructor( context ).find( selector );\n\t\t\t}\n\n\t\t// HANDLE: $(DOMElement)\n\t\t} else if ( selector.nodeType ) {\n\t\t\tthis.context = this[0] = selector;\n\t\t\tthis.length = 1;\n\t\t\treturn this;\n\n\t\t// HANDLE: $(function)\n\t\t// Shortcut for document ready\n\t\t} else if ( jQuery.isFunction( selector ) ) {\n\t\t\treturn typeof rootjQuery.ready !== \"undefined\" ?\n\t\t\t\trootjQuery.ready( selector ) :\n\t\t\t\t// Execute immediately if ready is not present\n\t\t\t\tselector( jQuery );\n\t\t}\n\n\t\tif ( selector.selector !== undefined ) {\n\t\t\tthis.selector = selector.selector;\n\t\t\tthis.context = selector.context;\n\t\t}\n\n\t\treturn jQuery.makeArray( selector, this );\n\t};\n\n// Give the init function the jQuery prototype for later instantiation\ninit.prototype = jQuery.fn;\n\n// Initialize central reference\nrootjQuery = jQuery( document );\n\n\nvar rparentsprev = /^(?:parents|prev(?:Until|All))/,\n\t// methods guaranteed to produce a unique set when starting from a unique set\n\tguaranteedUnique = {\n\t\tchildren: true,\n\t\tcontents: true,\n\t\tnext: true,\n\t\tprev: true\n\t};\n\njQuery.extend({\n\tdir: function( elem, dir, until ) {\n\t\tvar matched = [],\n\t\t\ttruncate = until !== undefined;\n\n\t\twhile ( (elem = elem[ dir ]) && elem.nodeType !== 9 ) {\n\t\t\tif ( elem.nodeType === 1 ) {\n\t\t\t\tif ( truncate && jQuery( elem ).is( until ) ) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tmatched.push( elem );\n\t\t\t}\n\t\t}\n\t\treturn matched;\n\t},\n\n\tsibling: function( n, elem ) {\n\t\tvar matched = [];\n\n\t\tfor ( ; n; n = n.nextSibling ) {\n\t\t\tif ( n.nodeType === 1 && n !== elem ) {\n\t\t\t\tmatched.push( n );\n\t\t\t}\n\t\t}\n\n\t\treturn matched;\n\t}\n});\n\njQuery.fn.extend({\n\thas: function( target ) {\n\t\tvar targets = jQuery( target, this ),\n\t\t\tl = targets.length;\n\n\t\treturn this.filter(function() {\n\t\t\tvar i = 0;\n\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\tif ( jQuery.contains( this, targets[i] ) ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t},\n\n\tclosest: function( selectors, context ) {\n\t\tvar cur,\n\t\t\ti = 0,\n\t\t\tl = this.length,\n\t\t\tmatched = [],\n\t\t\tpos = rneedsContext.test( selectors ) || typeof selectors !== \"string\" ?\n\t\t\t\tjQuery( selectors, context || this.context ) :\n\t\t\t\t0;\n\n\t\tfor ( ; i < l; i++ ) {\n\t\t\tfor ( cur = this[i]; cur && cur !== context; cur = cur.parentNode ) {\n\t\t\t\t// Always skip document fragments\n\t\t\t\tif ( cur.nodeType < 11 && (pos ?\n\t\t\t\t\tpos.index(cur) > -1 :\n\n\t\t\t\t\t// Don't pass non-elements to Sizzle\n\t\t\t\t\tcur.nodeType === 1 &&\n\t\t\t\t\t\tjQuery.find.matchesSelector(cur, selectors)) ) {\n\n\t\t\t\t\tmatched.push( cur );\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this.pushStack( matched.length > 1 ? jQuery.unique( matched ) : matched );\n\t},\n\n\t// Determine the position of an element within\n\t// the matched set of elements\n\tindex: function( elem ) {\n\n\t\t// No argument, return index in parent\n\t\tif ( !elem ) {\n\t\t\treturn ( this[ 0 ] && this[ 0 ].parentNode ) ? this.first().prevAll().length : -1;\n\t\t}\n\n\t\t// index in selector\n\t\tif ( typeof elem === \"string\" ) {\n\t\t\treturn indexOf.call( jQuery( elem ), this[ 0 ] );\n\t\t}\n\n\t\t// Locate the position of the desired element\n\t\treturn indexOf.call( this,\n\n\t\t\t// If it receives a jQuery object, the first element is used\n\t\t\telem.jquery ? elem[ 0 ] : elem\n\t\t);\n\t},\n\n\tadd: function( selector, context ) {\n\t\treturn this.pushStack(\n\t\t\tjQuery.unique(\n\t\t\t\tjQuery.merge( this.get(), jQuery( selector, context ) )\n\t\t\t)\n\t\t);\n\t},\n\n\taddBack: function( selector ) {\n\t\treturn this.add( selector == null ?\n\t\t\tthis.prevObject : this.prevObject.filter(selector)\n\t\t);\n\t}\n});\n\nfunction sibling( cur, dir ) {\n\twhile ( (cur = cur[dir]) && cur.nodeType !== 1 ) {}\n\treturn cur;\n}\n\njQuery.each({\n\tparent: function( elem ) {\n\t\tvar parent = elem.parentNode;\n\t\treturn parent && parent.nodeType !== 11 ? parent : null;\n\t},\n\tparents: function( elem ) {\n\t\treturn jQuery.dir( elem, \"parentNode\" );\n\t},\n\tparentsUntil: function( elem, i, until ) {\n\t\treturn jQuery.dir( elem, \"parentNode\", until );\n\t},\n\tnext: function( elem ) {\n\t\treturn sibling( elem, \"nextSibling\" );\n\t},\n\tprev: function( elem ) {\n\t\treturn sibling( elem, \"previousSibling\" );\n\t},\n\tnextAll: function( elem ) {\n\t\treturn jQuery.dir( elem, \"nextSibling\" );\n\t},\n\tprevAll: function( elem ) {\n\t\treturn jQuery.dir( elem, \"previousSibling\" );\n\t},\n\tnextUntil: function( elem, i, until ) {\n\t\treturn jQuery.dir( elem, \"nextSibling\", until );\n\t},\n\tprevUntil: function( elem, i, until ) {\n\t\treturn jQuery.dir( elem, \"previousSibling\", until );\n\t},\n\tsiblings: function( elem ) {\n\t\treturn jQuery.sibling( ( elem.parentNode || {} ).firstChild, elem );\n\t},\n\tchildren: function( elem ) {\n\t\treturn jQuery.sibling( elem.firstChild );\n\t},\n\tcontents: function( elem ) {\n\t\treturn elem.contentDocument || jQuery.merge( [], elem.childNodes );\n\t}\n}, function( name, fn ) {\n\tjQuery.fn[ name ] = function( until, selector ) {\n\t\tvar matched = jQuery.map( this, fn, until );\n\n\t\tif ( name.slice( -5 ) !== \"Until\" ) {\n\t\t\tselector = until;\n\t\t}\n\n\t\tif ( selector && typeof selector === \"string\" ) {\n\t\t\tmatched = jQuery.filter( selector, matched );\n\t\t}\n\n\t\tif ( this.length > 1 ) {\n\t\t\t// Remove duplicates\n\t\t\tif ( !guaranteedUnique[ name ] ) {\n\t\t\t\tjQuery.unique( matched );\n\t\t\t}\n\n\t\t\t// Reverse order for parents* and prev-derivatives\n\t\t\tif ( rparentsprev.test( name ) ) {\n\t\t\t\tmatched.reverse();\n\t\t\t}\n\t\t}\n\n\t\treturn this.pushStack( matched );\n\t};\n});\nvar rnotwhite = (/\\S+/g);\n\n\n\n// String to Object options format cache\nvar optionsCache = {};\n\n// Convert String-formatted options into Object-formatted ones and store in cache\nfunction createOptions( options ) {\n\tvar object = optionsCache[ options ] = {};\n\tjQuery.each( options.match( rnotwhite ) || [], function( _, flag ) {\n\t\tobject[ flag ] = true;\n\t});\n\treturn object;\n}\n\n/*\n * Create a callback list using the following parameters:\n *\n *\toptions: an optional list of space-separated options that will change how\n *\t\t\tthe callback list behaves or a more traditional option object\n *\n * By default a callback list will act like an event callback list and can be\n * \"fired\" multiple times.\n *\n * Possible options:\n *\n *\tonce:\t\t\twill ensure the callback list can only be fired once (like a Deferred)\n *\n *\tmemory:\t\t\twill keep track of previous values and will call any callback added\n *\t\t\t\t\tafter the list has been fired right away with the latest \"memorized\"\n *\t\t\t\t\tvalues (like a Deferred)\n *\n *\tunique:\t\t\twill ensure a callback can only be added once (no duplicate in the list)\n *\n *\tstopOnFalse:\tinterrupt callings when a callback returns false\n *\n */\njQuery.Callbacks = function( options ) {\n\n\t// Convert options from String-formatted to Object-formatted if needed\n\t// (we check in cache first)\n\toptions = typeof options === \"string\" ?\n\t\t( optionsCache[ options ] || createOptions( options ) ) :\n\t\tjQuery.extend( {}, options );\n\n\tvar // Last fire value (for non-forgettable lists)\n\t\tmemory,\n\t\t// Flag to know if list was already fired\n\t\tfired,\n\t\t// Flag to know if list is currently firing\n\t\tfiring,\n\t\t// First callback to fire (used internally by add and fireWith)\n\t\tfiringStart,\n\t\t// End of the loop when firing\n\t\tfiringLength,\n\t\t// Index of currently firing callback (modified by remove if needed)\n\t\tfiringIndex,\n\t\t// Actual callback list\n\t\tlist = [],\n\t\t// Stack of fire calls for repeatable lists\n\t\tstack = !options.once && [],\n\t\t// Fire callbacks\n\t\tfire = function( data ) {\n\t\t\tmemory = options.memory && data;\n\t\t\tfired = true;\n\t\t\tfiringIndex = firingStart || 0;\n\t\t\tfiringStart = 0;\n\t\t\tfiringLength = list.length;\n\t\t\tfiring = true;\n\t\t\tfor ( ; list && firingIndex < firingLength; firingIndex++ ) {\n\t\t\t\tif ( list[ firingIndex ].apply( data[ 0 ], data[ 1 ] ) === false && options.stopOnFalse ) {\n\t\t\t\t\tmemory = false; // To prevent further calls using add\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tfiring = false;\n\t\t\tif ( list ) {\n\t\t\t\tif ( stack ) {\n\t\t\t\t\tif ( stack.length ) {\n\t\t\t\t\t\tfire( stack.shift() );\n\t\t\t\t\t}\n\t\t\t\t} else if ( memory ) {\n\t\t\t\t\tlist = [];\n\t\t\t\t} else {\n\t\t\t\t\tself.disable();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t// Actual Callbacks object\n\t\tself = {\n\t\t\t// Add a callback or a collection of callbacks to the list\n\t\t\tadd: function() {\n\t\t\t\tif ( list ) {\n\t\t\t\t\t// First, we save the current length\n\t\t\t\t\tvar start = list.length;\n\t\t\t\t\t(function add( args ) {\n\t\t\t\t\t\tjQuery.each( args, function( _, arg ) {\n\t\t\t\t\t\t\tvar type = jQuery.type( arg );\n\t\t\t\t\t\t\tif ( type === \"function\" ) {\n\t\t\t\t\t\t\t\tif ( !options.unique || !self.has( arg ) ) {\n\t\t\t\t\t\t\t\t\tlist.push( arg );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if ( arg && arg.length && type !== \"string\" ) {\n\t\t\t\t\t\t\t\t// Inspect recursively\n\t\t\t\t\t\t\t\tadd( arg );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t})( arguments );\n\t\t\t\t\t// Do we need to add the callbacks to the\n\t\t\t\t\t// current firing batch?\n\t\t\t\t\tif ( firing ) {\n\t\t\t\t\t\tfiringLength = list.length;\n\t\t\t\t\t// With memory, if we're not firing then\n\t\t\t\t\t// we should call right away\n\t\t\t\t\t} else if ( memory ) {\n\t\t\t\t\t\tfiringStart = start;\n\t\t\t\t\t\tfire( memory );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\t// Remove a callback from the list\n\t\t\tremove: function() {\n\t\t\t\tif ( list ) {\n\t\t\t\t\tjQuery.each( arguments, function( _, arg ) {\n\t\t\t\t\t\tvar index;\n\t\t\t\t\t\twhile ( ( index = jQuery.inArray( arg, list, index ) ) > -1 ) {\n\t\t\t\t\t\t\tlist.splice( index, 1 );\n\t\t\t\t\t\t\t// Handle firing indexes\n\t\t\t\t\t\t\tif ( firing ) {\n\t\t\t\t\t\t\t\tif ( index <= firingLength ) {\n\t\t\t\t\t\t\t\t\tfiringLength--;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif ( index <= firingIndex ) {\n\t\t\t\t\t\t\t\t\tfiringIndex--;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\t// Check if a given callback is in the list.\n\t\t\t// If no argument is given, return whether or not list has callbacks attached.\n\t\t\thas: function( fn ) {\n\t\t\t\treturn fn ? jQuery.inArray( fn, list ) > -1 : !!( list && list.length );\n\t\t\t},\n\t\t\t// Remove all callbacks from the list\n\t\t\tempty: function() {\n\t\t\t\tlist = [];\n\t\t\t\tfiringLength = 0;\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\t// Have the list do nothing anymore\n\t\t\tdisable: function() {\n\t\t\t\tlist = stack = memory = undefined;\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\t// Is it disabled?\n\t\t\tdisabled: function() {\n\t\t\t\treturn !list;\n\t\t\t},\n\t\t\t// Lock the list in its current state\n\t\t\tlock: function() {\n\t\t\t\tstack = undefined;\n\t\t\t\tif ( !memory ) {\n\t\t\t\t\tself.disable();\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\t// Is it locked?\n\t\t\tlocked: function() {\n\t\t\t\treturn !stack;\n\t\t\t},\n\t\t\t// Call all callbacks with the given context and arguments\n\t\t\tfireWith: function( context, args ) {\n\t\t\t\tif ( list && ( !fired || stack ) ) {\n\t\t\t\t\targs = args || [];\n\t\t\t\t\targs = [ context, args.slice ? args.slice() : args ];\n\t\t\t\t\tif ( firing ) {\n\t\t\t\t\t\tstack.push( args );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfire( args );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\t// Call all the callbacks with the given arguments\n\t\t\tfire: function() {\n\t\t\t\tself.fireWith( this, arguments );\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\t// To know if the callbacks have already been called at least once\n\t\t\tfired: function() {\n\t\t\t\treturn !!fired;\n\t\t\t}\n\t\t};\n\n\treturn self;\n};\n\n\njQuery.extend({\n\n\tDeferred: function( func ) {\n\t\tvar tuples = [\n\t\t\t\t// action, add listener, listener list, final state\n\t\t\t\t[ \"resolve\", \"done\", jQuery.Callbacks(\"once memory\"), \"resolved\" ],\n\t\t\t\t[ \"reject\", \"fail\", jQuery.Callbacks(\"once memory\"), \"rejected\" ],\n\t\t\t\t[ \"notify\", \"progress\", jQuery.Callbacks(\"memory\") ]\n\t\t\t],\n\t\t\tstate = \"pending\",\n\t\t\tpromise = {\n\t\t\t\tstate: function() {\n\t\t\t\t\treturn state;\n\t\t\t\t},\n\t\t\t\talways: function() {\n\t\t\t\t\tdeferred.done( arguments ).fail( arguments );\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\t\t\t\tthen: function( /* fnDone, fnFail, fnProgress */ ) {\n\t\t\t\t\tvar fns = arguments;\n\t\t\t\t\treturn jQuery.Deferred(function( newDefer ) {\n\t\t\t\t\t\tjQuery.each( tuples, function( i, tuple ) {\n\t\t\t\t\t\t\tvar fn = jQuery.isFunction( fns[ i ] ) && fns[ i ];\n\t\t\t\t\t\t\t// deferred[ done | fail | progress ] for forwarding actions to newDefer\n\t\t\t\t\t\t\tdeferred[ tuple[1] ](function() {\n\t\t\t\t\t\t\t\tvar returned = fn && fn.apply( this, arguments );\n\t\t\t\t\t\t\t\tif ( returned && jQuery.isFunction( returned.promise ) ) {\n\t\t\t\t\t\t\t\t\treturned.promise()\n\t\t\t\t\t\t\t\t\t\t.done( newDefer.resolve )\n\t\t\t\t\t\t\t\t\t\t.fail( newDefer.reject )\n\t\t\t\t\t\t\t\t\t\t.progress( newDefer.notify );\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tnewDefer[ tuple[ 0 ] + \"With\" ]( this === promise ? newDefer.promise() : this, fn ? [ returned ] : arguments );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t\tfns = null;\n\t\t\t\t\t}).promise();\n\t\t\t\t},\n\t\t\t\t// Get a promise for this deferred\n\t\t\t\t// If obj is provided, the promise aspect is added to the object\n\t\t\t\tpromise: function( obj ) {\n\t\t\t\t\treturn obj != null ? jQuery.extend( obj, promise ) : promise;\n\t\t\t\t}\n\t\t\t},\n\t\t\tdeferred = {};\n\n\t\t// Keep pipe for back-compat\n\t\tpromise.pipe = promise.then;\n\n\t\t// Add list-specific methods\n\t\tjQuery.each( tuples, function( i, tuple ) {\n\t\t\tvar list = tuple[ 2 ],\n\t\t\t\tstateString = tuple[ 3 ];\n\n\t\t\t// promise[ done | fail | progress ] = list.add\n\t\t\tpromise[ tuple[1] ] = list.add;\n\n\t\t\t// Handle state\n\t\t\tif ( stateString ) {\n\t\t\t\tlist.add(function() {\n\t\t\t\t\t// state = [ resolved | rejected ]\n\t\t\t\t\tstate = stateString;\n\n\t\t\t\t// [ reject_list | resolve_list ].disable; progress_list.lock\n\t\t\t\t}, tuples[ i ^ 1 ][ 2 ].disable, tuples[ 2 ][ 2 ].lock );\n\t\t\t}\n\n\t\t\t// deferred[ resolve | reject | notify ]\n\t\t\tdeferred[ tuple[0] ] = function() {\n\t\t\t\tdeferred[ tuple[0] + \"With\" ]( this === deferred ? promise : this, arguments );\n\t\t\t\treturn this;\n\t\t\t};\n\t\t\tdeferred[ tuple[0] + \"With\" ] = list.fireWith;\n\t\t});\n\n\t\t// Make the deferred a promise\n\t\tpromise.promise( deferred );\n\n\t\t// Call given func if any\n\t\tif ( func ) {\n\t\t\tfunc.call( deferred, deferred );\n\t\t}\n\n\t\t// All done!\n\t\treturn deferred;\n\t},\n\n\t// Deferred helper\n\twhen: function( subordinate /* , ..., subordinateN */ ) {\n\t\tvar i = 0,\n\t\t\tresolveValues = slice.call( arguments ),\n\t\t\tlength = resolveValues.length,\n\n\t\t\t// the count of uncompleted subordinates\n\t\t\tremaining = length !== 1 || ( subordinate && jQuery.isFunction( subordinate.promise ) ) ? length : 0,\n\n\t\t\t// the master Deferred. If resolveValues consist of only a single Deferred, just use that.\n\t\t\tdeferred = remaining === 1 ? subordinate : jQuery.Deferred(),\n\n\t\t\t// Update function for both resolve and progress values\n\t\t\tupdateFunc = function( i, contexts, values ) {\n\t\t\t\treturn function( value ) {\n\t\t\t\t\tcontexts[ i ] = this;\n\t\t\t\t\tvalues[ i ] = arguments.length > 1 ? slice.call( arguments ) : value;\n\t\t\t\t\tif ( values === progressValues ) {\n\t\t\t\t\t\tdeferred.notifyWith( contexts, values );\n\t\t\t\t\t} else if ( !( --remaining ) ) {\n\t\t\t\t\t\tdeferred.resolveWith( contexts, values );\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t},\n\n\t\t\tprogressValues, progressContexts, resolveContexts;\n\n\t\t// add listeners to Deferred subordinates; treat others as resolved\n\t\tif ( length > 1 ) {\n\t\t\tprogressValues = new Array( length );\n\t\t\tprogressContexts = new Array( length );\n\t\t\tresolveContexts = new Array( length );\n\t\t\tfor ( ; i < length; i++ ) {\n\t\t\t\tif ( resolveValues[ i ] && jQuery.isFunction( resolveValues[ i ].promise ) ) {\n\t\t\t\t\tresolveValues[ i ].promise()\n\t\t\t\t\t\t.done( updateFunc( i, resolveContexts, resolveValues ) )\n\t\t\t\t\t\t.fail( deferred.reject )\n\t\t\t\t\t\t.progress( updateFunc( i, progressContexts, progressValues ) );\n\t\t\t\t} else {\n\t\t\t\t\t--remaining;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// if we're not waiting on anything, resolve the master\n\t\tif ( !remaining ) {\n\t\t\tdeferred.resolveWith( resolveContexts, resolveValues );\n\t\t}\n\n\t\treturn deferred.promise();\n\t}\n});\n\n\n// The deferred used on DOM ready\nvar readyList;\n\njQuery.fn.ready = function( fn ) {\n\t// Add the callback\n\tjQuery.ready.promise().done( fn );\n\n\treturn this;\n};\n\njQuery.extend({\n\t// Is the DOM ready to be used? Set to true once it occurs.\n\tisReady: false,\n\n\t// A counter to track how many items to wait for before\n\t// the ready event fires. See #6781\n\treadyWait: 1,\n\n\t// Hold (or release) the ready event\n\tholdReady: function( hold ) {\n\t\tif ( hold ) {\n\t\t\tjQuery.readyWait++;\n\t\t} else {\n\t\t\tjQuery.ready( true );\n\t\t}\n\t},\n\n\t// Handle when the DOM is ready\n\tready: function( wait ) {\n\n\t\t// Abort if there are pending holds or we're already ready\n\t\tif ( wait === true ? --jQuery.readyWait : jQuery.isReady ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Remember that the DOM is ready\n\t\tjQuery.isReady = true;\n\n\t\t// If a normal DOM Ready event fired, decrement, and wait if need be\n\t\tif ( wait !== true && --jQuery.readyWait > 0 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// If there are functions bound, to execute\n\t\treadyList.resolveWith( document, [ jQuery ] );\n\n\t\t// Trigger any bound ready events\n\t\tif ( jQuery.fn.triggerHandler ) {\n\t\t\tjQuery( document ).triggerHandler( \"ready\" );\n\t\t\tjQuery( document ).off( \"ready\" );\n\t\t}\n\t}\n});\n\n/**\n * The ready event handler and self cleanup method\n */\nfunction completed() {\n\tdocument.removeEventListener( \"DOMContentLoaded\", completed, false );\n\twindow.removeEventListener( \"load\", completed, false );\n\tjQuery.ready();\n}\n\njQuery.ready.promise = function( obj ) {\n\tif ( !readyList ) {\n\n\t\treadyList = jQuery.Deferred();\n\n\t\t// Catch cases where $(document).ready() is called after the browser event has already occurred.\n\t\t// we once tried to use readyState \"interactive\" here, but it caused issues like the one\n\t\t// discovered by ChrisS here: http://bugs.jquery.com/ticket/12282#comment:15\n\t\tif ( document.readyState === \"complete\" ) {\n\t\t\t// Handle it asynchronously to allow scripts the opportunity to delay ready\n\t\t\tsetTimeout( jQuery.ready );\n\n\t\t} else {\n\n\t\t\t// Use the handy event callback\n\t\t\tdocument.addEventListener( \"DOMContentLoaded\", completed, false );\n\n\t\t\t// A fallback to window.onload, that will always work\n\t\t\twindow.addEventListener( \"load\", completed, false );\n\t\t}\n\t}\n\treturn readyList.promise( obj );\n};\n\n// Kick off the DOM ready check even if the user does not\njQuery.ready.promise();\n\n\n\n\n// Multifunctional method to get and set values of a collection\n// The value/s can optionally be executed if it's a function\nvar access = jQuery.access = function( elems, fn, key, value, chainable, emptyGet, raw ) {\n\tvar i = 0,\n\t\tlen = elems.length,\n\t\tbulk = key == null;\n\n\t// Sets many values\n\tif ( jQuery.type( key ) === \"object\" ) {\n\t\tchainable = true;\n\t\tfor ( i in key ) {\n\t\t\tjQuery.access( elems, fn, i, key[i], true, emptyGet, raw );\n\t\t}\n\n\t// Sets one value\n\t} else if ( value !== undefined ) {\n\t\tchainable = true;\n\n\t\tif ( !jQuery.isFunction( value ) ) {\n\t\t\traw = true;\n\t\t}\n\n\t\tif ( bulk ) {\n\t\t\t// Bulk operations run against the entire set\n\t\t\tif ( raw ) {\n\t\t\t\tfn.call( elems, value );\n\t\t\t\tfn = null;\n\n\t\t\t// ...except when executing function values\n\t\t\t} else {\n\t\t\t\tbulk = fn;\n\t\t\t\tfn = function( elem, key, value ) {\n\t\t\t\t\treturn bulk.call( jQuery( elem ), value );\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\tif ( fn ) {\n\t\t\tfor ( ; i < len; i++ ) {\n\t\t\t\tfn( elems[i], key, raw ? value : value.call( elems[i], i, fn( elems[i], key ) ) );\n\t\t\t}\n\t\t}\n\t}\n\n\treturn chainable ?\n\t\telems :\n\n\t\t// Gets\n\t\tbulk ?\n\t\t\tfn.call( elems ) :\n\t\t\tlen ? fn( elems[0], key ) : emptyGet;\n};\n\n\n/**\n * Determines whether an object can have data\n */\njQuery.acceptData = function( owner ) {\n\t// Accepts only:\n\t//  - Node\n\t//    - Node.ELEMENT_NODE\n\t//    - Node.DOCUMENT_NODE\n\t//  - Object\n\t//    - Any\n\t/* jshint -W018 */\n\treturn owner.nodeType === 1 || owner.nodeType === 9 || !( +owner.nodeType );\n};\n\n\nfunction Data() {\n\t// Support: Android < 4,\n\t// Old WebKit does not have Object.preventExtensions/freeze method,\n\t// return new empty object instead with no [[set]] accessor\n\tObject.defineProperty( this.cache = {}, 0, {\n\t\tget: function() {\n\t\t\treturn {};\n\t\t}\n\t});\n\n\tthis.expando = jQuery.expando + Math.random();\n}\n\nData.uid = 1;\nData.accepts = jQuery.acceptData;\n\nData.prototype = {\n\tkey: function( owner ) {\n\t\t// We can accept data for non-element nodes in modern browsers,\n\t\t// but we should not, see #8335.\n\t\t// Always return the key for a frozen object.\n\t\tif ( !Data.accepts( owner ) ) {\n\t\t\treturn 0;\n\t\t}\n\n\t\tvar descriptor = {},\n\t\t\t// Check if the owner object already has a cache key\n\t\t\tunlock = owner[ this.expando ];\n\n\t\t// If not, create one\n\t\tif ( !unlock ) {\n\t\t\tunlock = Data.uid++;\n\n\t\t\t// Secure it in a non-enumerable, non-writable property\n\t\t\ttry {\n\t\t\t\tdescriptor[ this.expando ] = { value: unlock };\n\t\t\t\tObject.defineProperties( owner, descriptor );\n\n\t\t\t// Support: Android < 4\n\t\t\t// Fallback to a less secure definition\n\t\t\t} catch ( e ) {\n\t\t\t\tdescriptor[ this.expando ] = unlock;\n\t\t\t\tjQuery.extend( owner, descriptor );\n\t\t\t}\n\t\t}\n\n\t\t// Ensure the cache object\n\t\tif ( !this.cache[ unlock ] ) {\n\t\t\tthis.cache[ unlock ] = {};\n\t\t}\n\n\t\treturn unlock;\n\t},\n\tset: function( owner, data, value ) {\n\t\tvar prop,\n\t\t\t// There may be an unlock assigned to this node,\n\t\t\t// if there is no entry for this \"owner\", create one inline\n\t\t\t// and set the unlock as though an owner entry had always existed\n\t\t\tunlock = this.key( owner ),\n\t\t\tcache = this.cache[ unlock ];\n\n\t\t// Handle: [ owner, key, value ] args\n\t\tif ( typeof data === \"string\" ) {\n\t\t\tcache[ data ] = value;\n\n\t\t// Handle: [ owner, { properties } ] args\n\t\t} else {\n\t\t\t// Fresh assignments by object are shallow copied\n\t\t\tif ( jQuery.isEmptyObject( cache ) ) {\n\t\t\t\tjQuery.extend( this.cache[ unlock ], data );\n\t\t\t// Otherwise, copy the properties one-by-one to the cache object\n\t\t\t} else {\n\t\t\t\tfor ( prop in data ) {\n\t\t\t\t\tcache[ prop ] = data[ prop ];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn cache;\n\t},\n\tget: function( owner, key ) {\n\t\t// Either a valid cache is found, or will be created.\n\t\t// New caches will be created and the unlock returned,\n\t\t// allowing direct access to the newly created\n\t\t// empty data object. A valid owner object must be provided.\n\t\tvar cache = this.cache[ this.key( owner ) ];\n\n\t\treturn key === undefined ?\n\t\t\tcache : cache[ key ];\n\t},\n\taccess: function( owner, key, value ) {\n\t\tvar stored;\n\t\t// In cases where either:\n\t\t//\n\t\t//   1. No key was specified\n\t\t//   2. A string key was specified, but no value provided\n\t\t//\n\t\t// Take the \"read\" path and allow the get method to determine\n\t\t// which value to return, respectively either:\n\t\t//\n\t\t//   1. The entire cache object\n\t\t//   2. The data stored at the key\n\t\t//\n\t\tif ( key === undefined ||\n\t\t\t\t((key && typeof key === \"string\") && value === undefined) ) {\n\n\t\t\tstored = this.get( owner, key );\n\n\t\t\treturn stored !== undefined ?\n\t\t\t\tstored : this.get( owner, jQuery.camelCase(key) );\n\t\t}\n\n\t\t// [*]When the key is not a string, or both a key and value\n\t\t// are specified, set or extend (existing objects) with either:\n\t\t//\n\t\t//   1. An object of properties\n\t\t//   2. A key and value\n\t\t//\n\t\tthis.set( owner, key, value );\n\n\t\t// Since the \"set\" path can have two possible entry points\n\t\t// return the expected data based on which path was taken[*]\n\t\treturn value !== undefined ? value : key;\n\t},\n\tremove: function( owner, key ) {\n\t\tvar i, name, camel,\n\t\t\tunlock = this.key( owner ),\n\t\t\tcache = this.cache[ unlock ];\n\n\t\tif ( key === undefined ) {\n\t\t\tthis.cache[ unlock ] = {};\n\n\t\t} else {\n\t\t\t// Support array or space separated string of keys\n\t\t\tif ( jQuery.isArray( key ) ) {\n\t\t\t\t// If \"name\" is an array of keys...\n\t\t\t\t// When data is initially created, via (\"key\", \"val\") signature,\n\t\t\t\t// keys will be converted to camelCase.\n\t\t\t\t// Since there is no way to tell _how_ a key was added, remove\n\t\t\t\t// both plain key and camelCase key. #12786\n\t\t\t\t// This will only penalize the array argument path.\n\t\t\t\tname = key.concat( key.map( jQuery.camelCase ) );\n\t\t\t} else {\n\t\t\t\tcamel = jQuery.camelCase( key );\n\t\t\t\t// Try the string as a key before any manipulation\n\t\t\t\tif ( key in cache ) {\n\t\t\t\t\tname = [ key, camel ];\n\t\t\t\t} else {\n\t\t\t\t\t// If a key with the spaces exists, use it.\n\t\t\t\t\t// Otherwise, create an array by matching non-whitespace\n\t\t\t\t\tname = camel;\n\t\t\t\t\tname = name in cache ?\n\t\t\t\t\t\t[ name ] : ( name.match( rnotwhite ) || [] );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ti = name.length;\n\t\t\twhile ( i-- ) {\n\t\t\t\tdelete cache[ name[ i ] ];\n\t\t\t}\n\t\t}\n\t},\n\thasData: function( owner ) {\n\t\treturn !jQuery.isEmptyObject(\n\t\t\tthis.cache[ owner[ this.expando ] ] || {}\n\t\t);\n\t},\n\tdiscard: function( owner ) {\n\t\tif ( owner[ this.expando ] ) {\n\t\t\tdelete this.cache[ owner[ this.expando ] ];\n\t\t}\n\t}\n};\nvar data_priv = new Data();\n\nvar data_user = new Data();\n\n\n\n/*\n\tImplementation Summary\n\n\t1. Enforce API surface and semantic compatibility with 1.9.x branch\n\t2. Improve the module's maintainability by reducing the storage\n\t\tpaths to a single mechanism.\n\t3. Use the same single mechanism to support \"private\" and \"user\" data.\n\t4. _Never_ expose \"private\" data to user code (TODO: Drop _data, _removeData)\n\t5. Avoid exposing implementation details on user objects (eg. expando properties)\n\t6. Provide a clear path for implementation upgrade to WeakMap in 2014\n*/\nvar rbrace = /^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/,\n\trmultiDash = /([A-Z])/g;\n\nfunction dataAttr( elem, key, data ) {\n\tvar name;\n\n\t// If nothing was found internally, try to fetch any\n\t// data from the HTML5 data-* attribute\n\tif ( data === undefined && elem.nodeType === 1 ) {\n\t\tname = \"data-\" + key.replace( rmultiDash, \"-$1\" ).toLowerCase();\n\t\tdata = elem.getAttribute( name );\n\n\t\tif ( typeof data === \"string\" ) {\n\t\t\ttry {\n\t\t\t\tdata = data === \"true\" ? true :\n\t\t\t\t\tdata === \"false\" ? false :\n\t\t\t\t\tdata === \"null\" ? null :\n\t\t\t\t\t// Only convert to a number if it doesn't change the string\n\t\t\t\t\t+data + \"\" === data ? +data :\n\t\t\t\t\trbrace.test( data ) ? jQuery.parseJSON( data ) :\n\t\t\t\t\tdata;\n\t\t\t} catch( e ) {}\n\n\t\t\t// Make sure we set the data so it isn't changed later\n\t\t\tdata_user.set( elem, key, data );\n\t\t} else {\n\t\t\tdata = undefined;\n\t\t}\n\t}\n\treturn data;\n}\n\njQuery.extend({\n\thasData: function( elem ) {\n\t\treturn data_user.hasData( elem ) || data_priv.hasData( elem );\n\t},\n\n\tdata: function( elem, name, data ) {\n\t\treturn data_user.access( elem, name, data );\n\t},\n\n\tremoveData: function( elem, name ) {\n\t\tdata_user.remove( elem, name );\n\t},\n\n\t// TODO: Now that all calls to _data and _removeData have been replaced\n\t// with direct calls to data_priv methods, these can be deprecated.\n\t_data: function( elem, name, data ) {\n\t\treturn data_priv.access( elem, name, data );\n\t},\n\n\t_removeData: function( elem, name ) {\n\t\tdata_priv.remove( elem, name );\n\t}\n});\n\njQuery.fn.extend({\n\tdata: function( key, value ) {\n\t\tvar i, name, data,\n\t\t\telem = this[ 0 ],\n\t\t\tattrs = elem && elem.attributes;\n\n\t\t// Gets all values\n\t\tif ( key === undefined ) {\n\t\t\tif ( this.length ) {\n\t\t\t\tdata = data_user.get( elem );\n\n\t\t\t\tif ( elem.nodeType === 1 && !data_priv.get( elem, \"hasDataAttrs\" ) ) {\n\t\t\t\t\ti = attrs.length;\n\t\t\t\t\twhile ( i-- ) {\n\n\t\t\t\t\t\t// Support: IE11+\n\t\t\t\t\t\t// The attrs elements can be null (#14894)\n\t\t\t\t\t\tif ( attrs[ i ] ) {\n\t\t\t\t\t\t\tname = attrs[ i ].name;\n\t\t\t\t\t\t\tif ( name.indexOf( \"data-\" ) === 0 ) {\n\t\t\t\t\t\t\t\tname = jQuery.camelCase( name.slice(5) );\n\t\t\t\t\t\t\t\tdataAttr( elem, name, data[ name ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tdata_priv.set( elem, \"hasDataAttrs\", true );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn data;\n\t\t}\n\n\t\t// Sets multiple values\n\t\tif ( typeof key === \"object\" ) {\n\t\t\treturn this.each(function() {\n\t\t\t\tdata_user.set( this, key );\n\t\t\t});\n\t\t}\n\n\t\treturn access( this, function( value ) {\n\t\t\tvar data,\n\t\t\t\tcamelKey = jQuery.camelCase( key );\n\n\t\t\t// The calling jQuery object (element matches) is not empty\n\t\t\t// (and therefore has an element appears at this[ 0 ]) and the\n\t\t\t// `value` parameter was not undefined. An empty jQuery object\n\t\t\t// will result in `undefined` for elem = this[ 0 ] which will\n\t\t\t// throw an exception if an attempt to read a data cache is made.\n\t\t\tif ( elem && value === undefined ) {\n\t\t\t\t// Attempt to get data from the cache\n\t\t\t\t// with the key as-is\n\t\t\t\tdata = data_user.get( elem, key );\n\t\t\t\tif ( data !== undefined ) {\n\t\t\t\t\treturn data;\n\t\t\t\t}\n\n\t\t\t\t// Attempt to get data from the cache\n\t\t\t\t// with the key camelized\n\t\t\t\tdata = data_user.get( elem, camelKey );\n\t\t\t\tif ( data !== undefined ) {\n\t\t\t\t\treturn data;\n\t\t\t\t}\n\n\t\t\t\t// Attempt to \"discover\" the data in\n\t\t\t\t// HTML5 custom data-* attrs\n\t\t\t\tdata = dataAttr( elem, camelKey, undefined );\n\t\t\t\tif ( data !== undefined ) {\n\t\t\t\t\treturn data;\n\t\t\t\t}\n\n\t\t\t\t// We tried really hard, but the data doesn't exist.\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Set the data...\n\t\t\tthis.each(function() {\n\t\t\t\t// First, attempt to store a copy or reference of any\n\t\t\t\t// data that might've been store with a camelCased key.\n\t\t\t\tvar data = data_user.get( this, camelKey );\n\n\t\t\t\t// For HTML5 data-* attribute interop, we have to\n\t\t\t\t// store property names with dashes in a camelCase form.\n\t\t\t\t// This might not apply to all properties...*\n\t\t\t\tdata_user.set( this, camelKey, value );\n\n\t\t\t\t// *... In the case of properties that might _actually_\n\t\t\t\t// have dashes, we need to also store a copy of that\n\t\t\t\t// unchanged property.\n\t\t\t\tif ( key.indexOf(\"-\") !== -1 && data !== undefined ) {\n\t\t\t\t\tdata_user.set( this, key, value );\n\t\t\t\t}\n\t\t\t});\n\t\t}, null, value, arguments.length > 1, null, true );\n\t},\n\n\tremoveData: function( key ) {\n\t\treturn this.each(function() {\n\t\t\tdata_user.remove( this, key );\n\t\t});\n\t}\n});\n\n\njQuery.extend({\n\tqueue: function( elem, type, data ) {\n\t\tvar queue;\n\n\t\tif ( elem ) {\n\t\t\ttype = ( type || \"fx\" ) + \"queue\";\n\t\t\tqueue = data_priv.get( elem, type );\n\n\t\t\t// Speed up dequeue by getting out quickly if this is just a lookup\n\t\t\tif ( data ) {\n\t\t\t\tif ( !queue || jQuery.isArray( data ) ) {\n\t\t\t\t\tqueue = data_priv.access( elem, type, jQuery.makeArray(data) );\n\t\t\t\t} else {\n\t\t\t\t\tqueue.push( data );\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn queue || [];\n\t\t}\n\t},\n\n\tdequeue: function( elem, type ) {\n\t\ttype = type || \"fx\";\n\n\t\tvar queue = jQuery.queue( elem, type ),\n\t\t\tstartLength = queue.length,\n\t\t\tfn = queue.shift(),\n\t\t\thooks = jQuery._queueHooks( elem, type ),\n\t\t\tnext = function() {\n\t\t\t\tjQuery.dequeue( elem, type );\n\t\t\t};\n\n\t\t// If the fx queue is dequeued, always remove the progress sentinel\n\t\tif ( fn === \"inprogress\" ) {\n\t\t\tfn = queue.shift();\n\t\t\tstartLength--;\n\t\t}\n\n\t\tif ( fn ) {\n\n\t\t\t// Add a progress sentinel to prevent the fx queue from being\n\t\t\t// automatically dequeued\n\t\t\tif ( type === \"fx\" ) {\n\t\t\t\tqueue.unshift( \"inprogress\" );\n\t\t\t}\n\n\t\t\t// clear up the last queue stop function\n\t\t\tdelete hooks.stop;\n\t\t\tfn.call( elem, next, hooks );\n\t\t}\n\n\t\tif ( !startLength && hooks ) {\n\t\t\thooks.empty.fire();\n\t\t}\n\t},\n\n\t// not intended for public consumption - generates a queueHooks object, or returns the current one\n\t_queueHooks: function( elem, type ) {\n\t\tvar key = type + \"queueHooks\";\n\t\treturn data_priv.get( elem, key ) || data_priv.access( elem, key, {\n\t\t\tempty: jQuery.Callbacks(\"once memory\").add(function() {\n\t\t\t\tdata_priv.remove( elem, [ type + \"queue\", key ] );\n\t\t\t})\n\t\t});\n\t}\n});\n\njQuery.fn.extend({\n\tqueue: function( type, data ) {\n\t\tvar setter = 2;\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tdata = type;\n\t\t\ttype = \"fx\";\n\t\t\tsetter--;\n\t\t}\n\n\t\tif ( arguments.length < setter ) {\n\t\t\treturn jQuery.queue( this[0], type );\n\t\t}\n\n\t\treturn data === undefined ?\n\t\t\tthis :\n\t\t\tthis.each(function() {\n\t\t\t\tvar queue = jQuery.queue( this, type, data );\n\n\t\t\t\t// ensure a hooks for this queue\n\t\t\t\tjQuery._queueHooks( this, type );\n\n\t\t\t\tif ( type === \"fx\" && queue[0] !== \"inprogress\" ) {\n\t\t\t\t\tjQuery.dequeue( this, type );\n\t\t\t\t}\n\t\t\t});\n\t},\n\tdequeue: function( type ) {\n\t\treturn this.each(function() {\n\t\t\tjQuery.dequeue( this, type );\n\t\t});\n\t},\n\tclearQueue: function( type ) {\n\t\treturn this.queue( type || \"fx\", [] );\n\t},\n\t// Get a promise resolved when queues of a certain type\n\t// are emptied (fx is the type by default)\n\tpromise: function( type, obj ) {\n\t\tvar tmp,\n\t\t\tcount = 1,\n\t\t\tdefer = jQuery.Deferred(),\n\t\t\telements = this,\n\t\t\ti = this.length,\n\t\t\tresolve = function() {\n\t\t\t\tif ( !( --count ) ) {\n\t\t\t\t\tdefer.resolveWith( elements, [ elements ] );\n\t\t\t\t}\n\t\t\t};\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tobj = type;\n\t\t\ttype = undefined;\n\t\t}\n\t\ttype = type || \"fx\";\n\n\t\twhile ( i-- ) {\n\t\t\ttmp = data_priv.get( elements[ i ], type + \"queueHooks\" );\n\t\t\tif ( tmp && tmp.empty ) {\n\t\t\t\tcount++;\n\t\t\t\ttmp.empty.add( resolve );\n\t\t\t}\n\t\t}\n\t\tresolve();\n\t\treturn defer.promise( obj );\n\t}\n});\nvar pnum = (/[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/).source;\n\nvar cssExpand = [ \"Top\", \"Right\", \"Bottom\", \"Left\" ];\n\nvar isHidden = function( elem, el ) {\n\t\t// isHidden might be called from jQuery#filter function;\n\t\t// in that case, element will be second argument\n\t\telem = el || elem;\n\t\treturn jQuery.css( elem, \"display\" ) === \"none\" || !jQuery.contains( elem.ownerDocument, elem );\n\t};\n\nvar rcheckableType = (/^(?:checkbox|radio)$/i);\n\n\n\n(function() {\n\tvar fragment = document.createDocumentFragment(),\n\t\tdiv = fragment.appendChild( document.createElement( \"div\" ) ),\n\t\tinput = document.createElement( \"input\" );\n\n\t// #11217 - WebKit loses check when the name is after the checked attribute\n\t// Support: Windows Web Apps (WWA)\n\t// `name` and `type` need .setAttribute for WWA\n\tinput.setAttribute( \"type\", \"radio\" );\n\tinput.setAttribute( \"checked\", \"checked\" );\n\tinput.setAttribute( \"name\", \"t\" );\n\n\tdiv.appendChild( input );\n\n\t// Support: Safari 5.1, iOS 5.1, Android 4.x, Android 2.3\n\t// old WebKit doesn't clone checked state correctly in fragments\n\tsupport.checkClone = div.cloneNode( true ).cloneNode( true ).lastChild.checked;\n\n\t// Make sure textarea (and checkbox) defaultValue is properly cloned\n\t// Support: IE9-IE11+\n\tdiv.innerHTML = \"<textarea>x</textarea>\";\n\tsupport.noCloneChecked = !!div.cloneNode( true ).lastChild.defaultValue;\n})();\nvar strundefined = typeof undefined;\n\n\n\nsupport.focusinBubbles = \"onfocusin\" in window;\n\n\nvar\n\trkeyEvent = /^key/,\n\trmouseEvent = /^(?:mouse|pointer|contextmenu)|click/,\n\trfocusMorph = /^(?:focusinfocus|focusoutblur)$/,\n\trtypenamespace = /^([^.]*)(?:\\.(.+)|)$/;\n\nfunction returnTrue() {\n\treturn true;\n}\n\nfunction returnFalse() {\n\treturn false;\n}\n\nfunction safeActiveElement() {\n\ttry {\n\t\treturn document.activeElement;\n\t} catch ( err ) { }\n}\n\n/*\n * Helper functions for managing events -- not part of the public interface.\n * Props to Dean Edwards' addEvent library for many of the ideas.\n */\njQuery.event = {\n\n\tglobal: {},\n\n\tadd: function( elem, types, handler, data, selector ) {\n\n\t\tvar handleObjIn, eventHandle, tmp,\n\t\t\tevents, t, handleObj,\n\t\t\tspecial, handlers, type, namespaces, origType,\n\t\t\telemData = data_priv.get( elem );\n\n\t\t// Don't attach events to noData or text/comment nodes (but allow plain objects)\n\t\tif ( !elemData ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Caller can pass in an object of custom data in lieu of the handler\n\t\tif ( handler.handler ) {\n\t\t\thandleObjIn = handler;\n\t\t\thandler = handleObjIn.handler;\n\t\t\tselector = handleObjIn.selector;\n\t\t}\n\n\t\t// Make sure that the handler has a unique ID, used to find/remove it later\n\t\tif ( !handler.guid ) {\n\t\t\thandler.guid = jQuery.guid++;\n\t\t}\n\n\t\t// Init the element's event structure and main handler, if this is the first\n\t\tif ( !(events = elemData.events) ) {\n\t\t\tevents = elemData.events = {};\n\t\t}\n\t\tif ( !(eventHandle = elemData.handle) ) {\n\t\t\teventHandle = elemData.handle = function( e ) {\n\t\t\t\t// Discard the second event of a jQuery.event.trigger() and\n\t\t\t\t// when an event is called after a page has unloaded\n\t\t\t\treturn typeof jQuery !== strundefined && jQuery.event.triggered !== e.type ?\n\t\t\t\t\tjQuery.event.dispatch.apply( elem, arguments ) : undefined;\n\t\t\t};\n\t\t}\n\n\t\t// Handle multiple events separated by a space\n\t\ttypes = ( types || \"\" ).match( rnotwhite ) || [ \"\" ];\n\t\tt = types.length;\n\t\twhile ( t-- ) {\n\t\t\ttmp = rtypenamespace.exec( types[t] ) || [];\n\t\t\ttype = origType = tmp[1];\n\t\t\tnamespaces = ( tmp[2] || \"\" ).split( \".\" ).sort();\n\n\t\t\t// There *must* be a type, no attaching namespace-only handlers\n\t\t\tif ( !type ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// If event changes its type, use the special event handlers for the changed type\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\n\t\t\t// If selector defined, determine special event api type, otherwise given type\n\t\t\ttype = ( selector ? special.delegateType : special.bindType ) || type;\n\n\t\t\t// Update special based on newly reset type\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\n\t\t\t// handleObj is passed to all event handlers\n\t\t\thandleObj = jQuery.extend({\n\t\t\t\ttype: type,\n\t\t\t\torigType: origType,\n\t\t\t\tdata: data,\n\t\t\t\thandler: handler,\n\t\t\t\tguid: handler.guid,\n\t\t\t\tselector: selector,\n\t\t\t\tneedsContext: selector && jQuery.expr.match.needsContext.test( selector ),\n\t\t\t\tnamespace: namespaces.join(\".\")\n\t\t\t}, handleObjIn );\n\n\t\t\t// Init the event handler queue if we're the first\n\t\t\tif ( !(handlers = events[ type ]) ) {\n\t\t\t\thandlers = events[ type ] = [];\n\t\t\t\thandlers.delegateCount = 0;\n\n\t\t\t\t// Only use addEventListener if the special events handler returns false\n\t\t\t\tif ( !special.setup || special.setup.call( elem, data, namespaces, eventHandle ) === false ) {\n\t\t\t\t\tif ( elem.addEventListener ) {\n\t\t\t\t\t\telem.addEventListener( type, eventHandle, false );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( special.add ) {\n\t\t\t\tspecial.add.call( elem, handleObj );\n\n\t\t\t\tif ( !handleObj.handler.guid ) {\n\t\t\t\t\thandleObj.handler.guid = handler.guid;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Add to the element's handler list, delegates in front\n\t\t\tif ( selector ) {\n\t\t\t\thandlers.splice( handlers.delegateCount++, 0, handleObj );\n\t\t\t} else {\n\t\t\t\thandlers.push( handleObj );\n\t\t\t}\n\n\t\t\t// Keep track of which events have ever been used, for event optimization\n\t\t\tjQuery.event.global[ type ] = true;\n\t\t}\n\n\t},\n\n\t// Detach an event or set of events from an element\n\tremove: function( elem, types, handler, selector, mappedTypes ) {\n\n\t\tvar j, origCount, tmp,\n\t\t\tevents, t, handleObj,\n\t\t\tspecial, handlers, type, namespaces, origType,\n\t\t\telemData = data_priv.hasData( elem ) && data_priv.get( elem );\n\n\t\tif ( !elemData || !(events = elemData.events) ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Once for each type.namespace in types; type may be omitted\n\t\ttypes = ( types || \"\" ).match( rnotwhite ) || [ \"\" ];\n\t\tt = types.length;\n\t\twhile ( t-- ) {\n\t\t\ttmp = rtypenamespace.exec( types[t] ) || [];\n\t\t\ttype = origType = tmp[1];\n\t\t\tnamespaces = ( tmp[2] || \"\" ).split( \".\" ).sort();\n\n\t\t\t// Unbind all events (on this namespace, if provided) for the element\n\t\t\tif ( !type ) {\n\t\t\t\tfor ( type in events ) {\n\t\t\t\t\tjQuery.event.remove( elem, type + types[ t ], handler, selector, true );\n\t\t\t\t}\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\t\t\ttype = ( selector ? special.delegateType : special.bindType ) || type;\n\t\t\thandlers = events[ type ] || [];\n\t\t\ttmp = tmp[2] && new RegExp( \"(^|\\\\.)\" + namespaces.join(\"\\\\.(?:.*\\\\.|)\") + \"(\\\\.|$)\" );\n\n\t\t\t// Remove matching events\n\t\t\torigCount = j = handlers.length;\n\t\t\twhile ( j-- ) {\n\t\t\t\thandleObj = handlers[ j ];\n\n\t\t\t\tif ( ( mappedTypes || origType === handleObj.origType ) &&\n\t\t\t\t\t( !handler || handler.guid === handleObj.guid ) &&\n\t\t\t\t\t( !tmp || tmp.test( handleObj.namespace ) ) &&\n\t\t\t\t\t( !selector || selector === handleObj.selector || selector === \"**\" && handleObj.selector ) ) {\n\t\t\t\t\thandlers.splice( j, 1 );\n\n\t\t\t\t\tif ( handleObj.selector ) {\n\t\t\t\t\t\thandlers.delegateCount--;\n\t\t\t\t\t}\n\t\t\t\t\tif ( special.remove ) {\n\t\t\t\t\t\tspecial.remove.call( elem, handleObj );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Remove generic event handler if we removed something and no more handlers exist\n\t\t\t// (avoids potential for endless recursion during removal of special event handlers)\n\t\t\tif ( origCount && !handlers.length ) {\n\t\t\t\tif ( !special.teardown || special.teardown.call( elem, namespaces, elemData.handle ) === false ) {\n\t\t\t\t\tjQuery.removeEvent( elem, type, elemData.handle );\n\t\t\t\t}\n\n\t\t\t\tdelete events[ type ];\n\t\t\t}\n\t\t}\n\n\t\t// Remove the expando if it's no longer used\n\t\tif ( jQuery.isEmptyObject( events ) ) {\n\t\t\tdelete elemData.handle;\n\t\t\tdata_priv.remove( elem, \"events\" );\n\t\t}\n\t},\n\n\ttrigger: function( event, data, elem, onlyHandlers ) {\n\n\t\tvar i, cur, tmp, bubbleType, ontype, handle, special,\n\t\t\teventPath = [ elem || document ],\n\t\t\ttype = hasOwn.call( event, \"type\" ) ? event.type : event,\n\t\t\tnamespaces = hasOwn.call( event, \"namespace\" ) ? event.namespace.split(\".\") : [];\n\n\t\tcur = tmp = elem = elem || document;\n\n\t\t// Don't do events on text and comment nodes\n\t\tif ( elem.nodeType === 3 || elem.nodeType === 8 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// focus/blur morphs to focusin/out; ensure we're not firing them right now\n\t\tif ( rfocusMorph.test( type + jQuery.event.triggered ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( type.indexOf(\".\") >= 0 ) {\n\t\t\t// Namespaced trigger; create a regexp to match event type in handle()\n\t\t\tnamespaces = type.split(\".\");\n\t\t\ttype = namespaces.shift();\n\t\t\tnamespaces.sort();\n\t\t}\n\t\tontype = type.indexOf(\":\") < 0 && \"on\" + type;\n\n\t\t// Caller can pass in a jQuery.Event object, Object, or just an event type string\n\t\tevent = event[ jQuery.expando ] ?\n\t\t\tevent :\n\t\t\tnew jQuery.Event( type, typeof event === \"object\" && event );\n\n\t\t// Trigger bitmask: & 1 for native handlers; & 2 for jQuery (always true)\n\t\tevent.isTrigger = onlyHandlers ? 2 : 3;\n\t\tevent.namespace = namespaces.join(\".\");\n\t\tevent.namespace_re = event.namespace ?\n\t\t\tnew RegExp( \"(^|\\\\.)\" + namespaces.join(\"\\\\.(?:.*\\\\.|)\") + \"(\\\\.|$)\" ) :\n\t\t\tnull;\n\n\t\t// Clean up the event in case it is being reused\n\t\tevent.result = undefined;\n\t\tif ( !event.target ) {\n\t\t\tevent.target = elem;\n\t\t}\n\n\t\t// Clone any incoming data and prepend the event, creating the handler arg list\n\t\tdata = data == null ?\n\t\t\t[ event ] :\n\t\t\tjQuery.makeArray( data, [ event ] );\n\n\t\t// Allow special events to draw outside the lines\n\t\tspecial = jQuery.event.special[ type ] || {};\n\t\tif ( !onlyHandlers && special.trigger && special.trigger.apply( elem, data ) === false ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Determine event propagation path in advance, per W3C events spec (#9951)\n\t\t// Bubble up to document, then to window; watch for a global ownerDocument var (#9724)\n\t\tif ( !onlyHandlers && !special.noBubble && !jQuery.isWindow( elem ) ) {\n\n\t\t\tbubbleType = special.delegateType || type;\n\t\t\tif ( !rfocusMorph.test( bubbleType + type ) ) {\n\t\t\t\tcur = cur.parentNode;\n\t\t\t}\n\t\t\tfor ( ; cur; cur = cur.parentNode ) {\n\t\t\t\teventPath.push( cur );\n\t\t\t\ttmp = cur;\n\t\t\t}\n\n\t\t\t// Only add window if we got to document (e.g., not plain obj or detached DOM)\n\t\t\tif ( tmp === (elem.ownerDocument || document) ) {\n\t\t\t\teventPath.push( tmp.defaultView || tmp.parentWindow || window );\n\t\t\t}\n\t\t}\n\n\t\t// Fire handlers on the event path\n\t\ti = 0;\n\t\twhile ( (cur = eventPath[i++]) && !event.isPropagationStopped() ) {\n\n\t\t\tevent.type = i > 1 ?\n\t\t\t\tbubbleType :\n\t\t\t\tspecial.bindType || type;\n\n\t\t\t// jQuery handler\n\t\t\thandle = ( data_priv.get( cur, \"events\" ) || {} )[ event.type ] && data_priv.get( cur, \"handle\" );\n\t\t\tif ( handle ) {\n\t\t\t\thandle.apply( cur, data );\n\t\t\t}\n\n\t\t\t// Native handler\n\t\t\thandle = ontype && cur[ ontype ];\n\t\t\tif ( handle && handle.apply && jQuery.acceptData( cur ) ) {\n\t\t\t\tevent.result = handle.apply( cur, data );\n\t\t\t\tif ( event.result === false ) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tevent.type = type;\n\n\t\t// If nobody prevented the default action, do it now\n\t\tif ( !onlyHandlers && !event.isDefaultPrevented() ) {\n\n\t\t\tif ( (!special._default || special._default.apply( eventPath.pop(), data ) === false) &&\n\t\t\t\tjQuery.acceptData( elem ) ) {\n\n\t\t\t\t// Call a native DOM method on the target with the same name name as the event.\n\t\t\t\t// Don't do default actions on window, that's where global variables be (#6170)\n\t\t\t\tif ( ontype && jQuery.isFunction( elem[ type ] ) && !jQuery.isWindow( elem ) ) {\n\n\t\t\t\t\t// Don't re-trigger an onFOO event when we call its FOO() method\n\t\t\t\t\ttmp = elem[ ontype ];\n\n\t\t\t\t\tif ( tmp ) {\n\t\t\t\t\t\telem[ ontype ] = null;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Prevent re-triggering of the same event, since we already bubbled it above\n\t\t\t\t\tjQuery.event.triggered = type;\n\t\t\t\t\telem[ type ]();\n\t\t\t\t\tjQuery.event.triggered = undefined;\n\n\t\t\t\t\tif ( tmp ) {\n\t\t\t\t\t\telem[ ontype ] = tmp;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn event.result;\n\t},\n\n\tdispatch: function( event ) {\n\n\t\t// Make a writable jQuery.Event from the native event object\n\t\tevent = jQuery.event.fix( event );\n\n\t\tvar i, j, ret, matched, handleObj,\n\t\t\thandlerQueue = [],\n\t\t\targs = slice.call( arguments ),\n\t\t\thandlers = ( data_priv.get( this, \"events\" ) || {} )[ event.type ] || [],\n\t\t\tspecial = jQuery.event.special[ event.type ] || {};\n\n\t\t// Use the fix-ed jQuery.Event rather than the (read-only) native event\n\t\targs[0] = event;\n\t\tevent.delegateTarget = this;\n\n\t\t// Call the preDispatch hook for the mapped type, and let it bail if desired\n\t\tif ( special.preDispatch && special.preDispatch.call( this, event ) === false ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Determine handlers\n\t\thandlerQueue = jQuery.event.handlers.call( this, event, handlers );\n\n\t\t// Run delegates first; they may want to stop propagation beneath us\n\t\ti = 0;\n\t\twhile ( (matched = handlerQueue[ i++ ]) && !event.isPropagationStopped() ) {\n\t\t\tevent.currentTarget = matched.elem;\n\n\t\t\tj = 0;\n\t\t\twhile ( (handleObj = matched.handlers[ j++ ]) && !event.isImmediatePropagationStopped() ) {\n\n\t\t\t\t// Triggered event must either 1) have no namespace, or\n\t\t\t\t// 2) have namespace(s) a subset or equal to those in the bound event (both can have no namespace).\n\t\t\t\tif ( !event.namespace_re || event.namespace_re.test( handleObj.namespace ) ) {\n\n\t\t\t\t\tevent.handleObj = handleObj;\n\t\t\t\t\tevent.data = handleObj.data;\n\n\t\t\t\t\tret = ( (jQuery.event.special[ handleObj.origType ] || {}).handle || handleObj.handler )\n\t\t\t\t\t\t\t.apply( matched.elem, args );\n\n\t\t\t\t\tif ( ret !== undefined ) {\n\t\t\t\t\t\tif ( (event.result = ret) === false ) {\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Call the postDispatch hook for the mapped type\n\t\tif ( special.postDispatch ) {\n\t\t\tspecial.postDispatch.call( this, event );\n\t\t}\n\n\t\treturn event.result;\n\t},\n\n\thandlers: function( event, handlers ) {\n\t\tvar i, matches, sel, handleObj,\n\t\t\thandlerQueue = [],\n\t\t\tdelegateCount = handlers.delegateCount,\n\t\t\tcur = event.target;\n\n\t\t// Find delegate handlers\n\t\t// Black-hole SVG <use> instance trees (#13180)\n\t\t// Avoid non-left-click bubbling in Firefox (#3861)\n\t\tif ( delegateCount && cur.nodeType && (!event.button || event.type !== \"click\") ) {\n\n\t\t\tfor ( ; cur !== this; cur = cur.parentNode || this ) {\n\n\t\t\t\t// Don't process clicks on disabled elements (#6911, #8165, #11382, #11764)\n\t\t\t\tif ( cur.disabled !== true || event.type !== \"click\" ) {\n\t\t\t\t\tmatches = [];\n\t\t\t\t\tfor ( i = 0; i < delegateCount; i++ ) {\n\t\t\t\t\t\thandleObj = handlers[ i ];\n\n\t\t\t\t\t\t// Don't conflict with Object.prototype properties (#13203)\n\t\t\t\t\t\tsel = handleObj.selector + \" \";\n\n\t\t\t\t\t\tif ( matches[ sel ] === undefined ) {\n\t\t\t\t\t\t\tmatches[ sel ] = handleObj.needsContext ?\n\t\t\t\t\t\t\t\tjQuery( sel, this ).index( cur ) >= 0 :\n\t\t\t\t\t\t\t\tjQuery.find( sel, this, null, [ cur ] ).length;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( matches[ sel ] ) {\n\t\t\t\t\t\t\tmatches.push( handleObj );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif ( matches.length ) {\n\t\t\t\t\t\thandlerQueue.push({ elem: cur, handlers: matches });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Add the remaining (directly-bound) handlers\n\t\tif ( delegateCount < handlers.length ) {\n\t\t\thandlerQueue.push({ elem: this, handlers: handlers.slice( delegateCount ) });\n\t\t}\n\n\t\treturn handlerQueue;\n\t},\n\n\t// Includes some event props shared by KeyEvent and MouseEvent\n\tprops: \"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which\".split(\" \"),\n\n\tfixHooks: {},\n\n\tkeyHooks: {\n\t\tprops: \"char charCode key keyCode\".split(\" \"),\n\t\tfilter: function( event, original ) {\n\n\t\t\t// Add which for key events\n\t\t\tif ( event.which == null ) {\n\t\t\t\tevent.which = original.charCode != null ? original.charCode : original.keyCode;\n\t\t\t}\n\n\t\t\treturn event;\n\t\t}\n\t},\n\n\tmouseHooks: {\n\t\tprops: \"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement\".split(\" \"),\n\t\tfilter: function( event, original ) {\n\t\t\tvar eventDoc, doc, body,\n\t\t\t\tbutton = original.button;\n\n\t\t\t// Calculate pageX/Y if missing and clientX/Y available\n\t\t\tif ( event.pageX == null && original.clientX != null ) {\n\t\t\t\teventDoc = event.target.ownerDocument || document;\n\t\t\t\tdoc = eventDoc.documentElement;\n\t\t\t\tbody = eventDoc.body;\n\n\t\t\t\tevent.pageX = original.clientX + ( doc && doc.scrollLeft || body && body.scrollLeft || 0 ) - ( doc && doc.clientLeft || body && body.clientLeft || 0 );\n\t\t\t\tevent.pageY = original.clientY + ( doc && doc.scrollTop  || body && body.scrollTop  || 0 ) - ( doc && doc.clientTop  || body && body.clientTop  || 0 );\n\t\t\t}\n\n\t\t\t// Add which for click: 1 === left; 2 === middle; 3 === right\n\t\t\t// Note: button is not normalized, so don't use it\n\t\t\tif ( !event.which && button !== undefined ) {\n\t\t\t\tevent.which = ( button & 1 ? 1 : ( button & 2 ? 3 : ( button & 4 ? 2 : 0 ) ) );\n\t\t\t}\n\n\t\t\treturn event;\n\t\t}\n\t},\n\n\tfix: function( event ) {\n\t\tif ( event[ jQuery.expando ] ) {\n\t\t\treturn event;\n\t\t}\n\n\t\t// Create a writable copy of the event object and normalize some properties\n\t\tvar i, prop, copy,\n\t\t\ttype = event.type,\n\t\t\toriginalEvent = event,\n\t\t\tfixHook = this.fixHooks[ type ];\n\n\t\tif ( !fixHook ) {\n\t\t\tthis.fixHooks[ type ] = fixHook =\n\t\t\t\trmouseEvent.test( type ) ? this.mouseHooks :\n\t\t\t\trkeyEvent.test( type ) ? this.keyHooks :\n\t\t\t\t{};\n\t\t}\n\t\tcopy = fixHook.props ? this.props.concat( fixHook.props ) : this.props;\n\n\t\tevent = new jQuery.Event( originalEvent );\n\n\t\ti = copy.length;\n\t\twhile ( i-- ) {\n\t\t\tprop = copy[ i ];\n\t\t\tevent[ prop ] = originalEvent[ prop ];\n\t\t}\n\n\t\t// Support: Cordova 2.5 (WebKit) (#13255)\n\t\t// All events should have a target; Cordova deviceready doesn't\n\t\tif ( !event.target ) {\n\t\t\tevent.target = document;\n\t\t}\n\n\t\t// Support: Safari 6.0+, Chrome < 28\n\t\t// Target should not be a text node (#504, #13143)\n\t\tif ( event.target.nodeType === 3 ) {\n\t\t\tevent.target = event.target.parentNode;\n\t\t}\n\n\t\treturn fixHook.filter ? fixHook.filter( event, originalEvent ) : event;\n\t},\n\n\tspecial: {\n\t\tload: {\n\t\t\t// Prevent triggered image.load events from bubbling to window.load\n\t\t\tnoBubble: true\n\t\t},\n\t\tfocus: {\n\t\t\t// Fire native event if possible so blur/focus sequence is correct\n\t\t\ttrigger: function() {\n\t\t\t\tif ( this !== safeActiveElement() && this.focus ) {\n\t\t\t\t\tthis.focus();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t},\n\t\t\tdelegateType: \"focusin\"\n\t\t},\n\t\tblur: {\n\t\t\ttrigger: function() {\n\t\t\t\tif ( this === safeActiveElement() && this.blur ) {\n\t\t\t\t\tthis.blur();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t},\n\t\t\tdelegateType: \"focusout\"\n\t\t},\n\t\tclick: {\n\t\t\t// For checkbox, fire native event so checked state will be right\n\t\t\ttrigger: function() {\n\t\t\t\tif ( this.type === \"checkbox\" && this.click && jQuery.nodeName( this, \"input\" ) ) {\n\t\t\t\t\tthis.click();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// For cross-browser consistency, don't fire native .click() on links\n\t\t\t_default: function( event ) {\n\t\t\t\treturn jQuery.nodeName( event.target, \"a\" );\n\t\t\t}\n\t\t},\n\n\t\tbeforeunload: {\n\t\t\tpostDispatch: function( event ) {\n\n\t\t\t\t// Support: Firefox 20+\n\t\t\t\t// Firefox doesn't alert if the returnValue field is not set.\n\t\t\t\tif ( event.result !== undefined && event.originalEvent ) {\n\t\t\t\t\tevent.originalEvent.returnValue = event.result;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\tsimulate: function( type, elem, event, bubble ) {\n\t\t// Piggyback on a donor event to simulate a different one.\n\t\t// Fake originalEvent to avoid donor's stopPropagation, but if the\n\t\t// simulated event prevents default then we do the same on the donor.\n\t\tvar e = jQuery.extend(\n\t\t\tnew jQuery.Event(),\n\t\t\tevent,\n\t\t\t{\n\t\t\t\ttype: type,\n\t\t\t\tisSimulated: true,\n\t\t\t\toriginalEvent: {}\n\t\t\t}\n\t\t);\n\t\tif ( bubble ) {\n\t\t\tjQuery.event.trigger( e, null, elem );\n\t\t} else {\n\t\t\tjQuery.event.dispatch.call( elem, e );\n\t\t}\n\t\tif ( e.isDefaultPrevented() ) {\n\t\t\tevent.preventDefault();\n\t\t}\n\t}\n};\n\njQuery.removeEvent = function( elem, type, handle ) {\n\tif ( elem.removeEventListener ) {\n\t\telem.removeEventListener( type, handle, false );\n\t}\n};\n\njQuery.Event = function( src, props ) {\n\t// Allow instantiation without the 'new' keyword\n\tif ( !(this instanceof jQuery.Event) ) {\n\t\treturn new jQuery.Event( src, props );\n\t}\n\n\t// Event object\n\tif ( src && src.type ) {\n\t\tthis.originalEvent = src;\n\t\tthis.type = src.type;\n\n\t\t// Events bubbling up the document may have been marked as prevented\n\t\t// by a handler lower down the tree; reflect the correct value.\n\t\tthis.isDefaultPrevented = src.defaultPrevented ||\n\t\t\t\tsrc.defaultPrevented === undefined &&\n\t\t\t\t// Support: Android < 4.0\n\t\t\t\tsrc.returnValue === false ?\n\t\t\treturnTrue :\n\t\t\treturnFalse;\n\n\t// Event type\n\t} else {\n\t\tthis.type = src;\n\t}\n\n\t// Put explicitly provided properties onto the event object\n\tif ( props ) {\n\t\tjQuery.extend( this, props );\n\t}\n\n\t// Create a timestamp if incoming event doesn't have one\n\tthis.timeStamp = src && src.timeStamp || jQuery.now();\n\n\t// Mark it as fixed\n\tthis[ jQuery.expando ] = true;\n};\n\n// jQuery.Event is based on DOM3 Events as specified by the ECMAScript Language Binding\n// http://www.w3.org/TR/2003/WD-DOM-Level-3-Events-20030331/ecma-script-binding.html\njQuery.Event.prototype = {\n\tisDefaultPrevented: returnFalse,\n\tisPropagationStopped: returnFalse,\n\tisImmediatePropagationStopped: returnFalse,\n\n\tpreventDefault: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isDefaultPrevented = returnTrue;\n\n\t\tif ( e && e.preventDefault ) {\n\t\t\te.preventDefault();\n\t\t}\n\t},\n\tstopPropagation: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isPropagationStopped = returnTrue;\n\n\t\tif ( e && e.stopPropagation ) {\n\t\t\te.stopPropagation();\n\t\t}\n\t},\n\tstopImmediatePropagation: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isImmediatePropagationStopped = returnTrue;\n\n\t\tif ( e && e.stopImmediatePropagation ) {\n\t\t\te.stopImmediatePropagation();\n\t\t}\n\n\t\tthis.stopPropagation();\n\t}\n};\n\n// Create mouseenter/leave events using mouseover/out and event-time checks\n// Support: Chrome 15+\njQuery.each({\n\tmouseenter: \"mouseover\",\n\tmouseleave: \"mouseout\",\n\tpointerenter: \"pointerover\",\n\tpointerleave: \"pointerout\"\n}, function( orig, fix ) {\n\tjQuery.event.special[ orig ] = {\n\t\tdelegateType: fix,\n\t\tbindType: fix,\n\n\t\thandle: function( event ) {\n\t\t\tvar ret,\n\t\t\t\ttarget = this,\n\t\t\t\trelated = event.relatedTarget,\n\t\t\t\thandleObj = event.handleObj;\n\n\t\t\t// For mousenter/leave call the handler if related is outside the target.\n\t\t\t// NB: No relatedTarget if the mouse left/entered the browser window\n\t\t\tif ( !related || (related !== target && !jQuery.contains( target, related )) ) {\n\t\t\t\tevent.type = handleObj.origType;\n\t\t\t\tret = handleObj.handler.apply( this, arguments );\n\t\t\t\tevent.type = fix;\n\t\t\t}\n\t\t\treturn ret;\n\t\t}\n\t};\n});\n\n// Create \"bubbling\" focus and blur events\n// Support: Firefox, Chrome, Safari\nif ( !support.focusinBubbles ) {\n\tjQuery.each({ focus: \"focusin\", blur: \"focusout\" }, function( orig, fix ) {\n\n\t\t// Attach a single capturing handler on the document while someone wants focusin/focusout\n\t\tvar handler = function( event ) {\n\t\t\t\tjQuery.event.simulate( fix, event.target, jQuery.event.fix( event ), true );\n\t\t\t};\n\n\t\tjQuery.event.special[ fix ] = {\n\t\t\tsetup: function() {\n\t\t\t\tvar doc = this.ownerDocument || this,\n\t\t\t\t\tattaches = data_priv.access( doc, fix );\n\n\t\t\t\tif ( !attaches ) {\n\t\t\t\t\tdoc.addEventListener( orig, handler, true );\n\t\t\t\t}\n\t\t\t\tdata_priv.access( doc, fix, ( attaches || 0 ) + 1 );\n\t\t\t},\n\t\t\tteardown: function() {\n\t\t\t\tvar doc = this.ownerDocument || this,\n\t\t\t\t\tattaches = data_priv.access( doc, fix ) - 1;\n\n\t\t\t\tif ( !attaches ) {\n\t\t\t\t\tdoc.removeEventListener( orig, handler, true );\n\t\t\t\t\tdata_priv.remove( doc, fix );\n\n\t\t\t\t} else {\n\t\t\t\t\tdata_priv.access( doc, fix, attaches );\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t});\n}\n\njQuery.fn.extend({\n\n\ton: function( types, selector, data, fn, /*INTERNAL*/ one ) {\n\t\tvar origFn, type;\n\n\t\t// Types can be a map of types/handlers\n\t\tif ( typeof types === \"object\" ) {\n\t\t\t// ( types-Object, selector, data )\n\t\t\tif ( typeof selector !== \"string\" ) {\n\t\t\t\t// ( types-Object, data )\n\t\t\t\tdata = data || selector;\n\t\t\t\tselector = undefined;\n\t\t\t}\n\t\t\tfor ( type in types ) {\n\t\t\t\tthis.on( type, selector, data, types[ type ], one );\n\t\t\t}\n\t\t\treturn this;\n\t\t}\n\n\t\tif ( data == null && fn == null ) {\n\t\t\t// ( types, fn )\n\t\t\tfn = selector;\n\t\t\tdata = selector = undefined;\n\t\t} else if ( fn == null ) {\n\t\t\tif ( typeof selector === \"string\" ) {\n\t\t\t\t// ( types, selector, fn )\n\t\t\t\tfn = data;\n\t\t\t\tdata = undefined;\n\t\t\t} else {\n\t\t\t\t// ( types, data, fn )\n\t\t\t\tfn = data;\n\t\t\t\tdata = selector;\n\t\t\t\tselector = undefined;\n\t\t\t}\n\t\t}\n\t\tif ( fn === false ) {\n\t\t\tfn = returnFalse;\n\t\t} else if ( !fn ) {\n\t\t\treturn this;\n\t\t}\n\n\t\tif ( one === 1 ) {\n\t\t\torigFn = fn;\n\t\t\tfn = function( event ) {\n\t\t\t\t// Can use an empty set, since event contains the info\n\t\t\t\tjQuery().off( event );\n\t\t\t\treturn origFn.apply( this, arguments );\n\t\t\t};\n\t\t\t// Use same guid so caller can remove using origFn\n\t\t\tfn.guid = origFn.guid || ( origFn.guid = jQuery.guid++ );\n\t\t}\n\t\treturn this.each( function() {\n\t\t\tjQuery.event.add( this, types, fn, data, selector );\n\t\t});\n\t},\n\tone: function( types, selector, data, fn ) {\n\t\treturn this.on( types, selector, data, fn, 1 );\n\t},\n\toff: function( types, selector, fn ) {\n\t\tvar handleObj, type;\n\t\tif ( types && types.preventDefault && types.handleObj ) {\n\t\t\t// ( event )  dispatched jQuery.Event\n\t\t\thandleObj = types.handleObj;\n\t\t\tjQuery( types.delegateTarget ).off(\n\t\t\t\thandleObj.namespace ? handleObj.origType + \".\" + handleObj.namespace : handleObj.origType,\n\t\t\t\thandleObj.selector,\n\t\t\t\thandleObj.handler\n\t\t\t);\n\t\t\treturn this;\n\t\t}\n\t\tif ( typeof types === \"object\" ) {\n\t\t\t// ( types-object [, selector] )\n\t\t\tfor ( type in types ) {\n\t\t\t\tthis.off( type, selector, types[ type ] );\n\t\t\t}\n\t\t\treturn this;\n\t\t}\n\t\tif ( selector === false || typeof selector === \"function\" ) {\n\t\t\t// ( types [, fn] )\n\t\t\tfn = selector;\n\t\t\tselector = undefined;\n\t\t}\n\t\tif ( fn === false ) {\n\t\t\tfn = returnFalse;\n\t\t}\n\t\treturn this.each(function() {\n\t\t\tjQuery.event.remove( this, types, fn, selector );\n\t\t});\n\t},\n\n\ttrigger: function( type, data ) {\n\t\treturn this.each(function() {\n\t\t\tjQuery.event.trigger( type, data, this );\n\t\t});\n\t},\n\ttriggerHandler: function( type, data ) {\n\t\tvar elem = this[0];\n\t\tif ( elem ) {\n\t\t\treturn jQuery.event.trigger( type, data, elem, true );\n\t\t}\n\t}\n});\n\n\nvar\n\trxhtmlTag = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>/gi,\n\trtagName = /<([\\w:]+)/,\n\trhtml = /<|&#?\\w+;/,\n\trnoInnerhtml = /<(?:script|style|link)/i,\n\t// checked=\"checked\" or checked\n\trchecked = /checked\\s*(?:[^=]|=\\s*.checked.)/i,\n\trscriptType = /^$|\\/(?:java|ecma)script/i,\n\trscriptTypeMasked = /^true\\/(.*)/,\n\trcleanScript = /^\\s*<!(?:\\[CDATA\\[|--)|(?:\\]\\]|--)>\\s*$/g,\n\n\t// We have to close these tags to support XHTML (#13200)\n\twrapMap = {\n\n\t\t// Support: IE 9\n\t\toption: [ 1, \"<select multiple='multiple'>\", \"</select>\" ],\n\n\t\tthead: [ 1, \"<table>\", \"</table>\" ],\n\t\tcol: [ 2, \"<table><colgroup>\", \"</colgroup></table>\" ],\n\t\ttr: [ 2, \"<table><tbody>\", \"</tbody></table>\" ],\n\t\ttd: [ 3, \"<table><tbody><tr>\", \"</tr></tbody></table>\" ],\n\n\t\t_default: [ 0, \"\", \"\" ]\n\t};\n\n// Support: IE 9\nwrapMap.optgroup = wrapMap.option;\n\nwrapMap.tbody = wrapMap.tfoot = wrapMap.colgroup = wrapMap.caption = wrapMap.thead;\nwrapMap.th = wrapMap.td;\n\n// Support: 1.x compatibility\n// Manipulating tables requires a tbody\nfunction manipulationTarget( elem, content ) {\n\treturn jQuery.nodeName( elem, \"table\" ) &&\n\t\tjQuery.nodeName( content.nodeType !== 11 ? content : content.firstChild, \"tr\" ) ?\n\n\t\telem.getElementsByTagName(\"tbody\")[0] ||\n\t\t\telem.appendChild( elem.ownerDocument.createElement(\"tbody\") ) :\n\t\telem;\n}\n\n// Replace/restore the type attribute of script elements for safe DOM manipulation\nfunction disableScript( elem ) {\n\telem.type = (elem.getAttribute(\"type\") !== null) + \"/\" + elem.type;\n\treturn elem;\n}\nfunction restoreScript( elem ) {\n\tvar match = rscriptTypeMasked.exec( elem.type );\n\n\tif ( match ) {\n\t\telem.type = match[ 1 ];\n\t} else {\n\t\telem.removeAttribute(\"type\");\n\t}\n\n\treturn elem;\n}\n\n// Mark scripts as having already been evaluated\nfunction setGlobalEval( elems, refElements ) {\n\tvar i = 0,\n\t\tl = elems.length;\n\n\tfor ( ; i < l; i++ ) {\n\t\tdata_priv.set(\n\t\t\telems[ i ], \"globalEval\", !refElements || data_priv.get( refElements[ i ], \"globalEval\" )\n\t\t);\n\t}\n}\n\nfunction cloneCopyEvent( src, dest ) {\n\tvar i, l, type, pdataOld, pdataCur, udataOld, udataCur, events;\n\n\tif ( dest.nodeType !== 1 ) {\n\t\treturn;\n\t}\n\n\t// 1. Copy private data: events, handlers, etc.\n\tif ( data_priv.hasData( src ) ) {\n\t\tpdataOld = data_priv.access( src );\n\t\tpdataCur = data_priv.set( dest, pdataOld );\n\t\tevents = pdataOld.events;\n\n\t\tif ( events ) {\n\t\t\tdelete pdataCur.handle;\n\t\t\tpdataCur.events = {};\n\n\t\t\tfor ( type in events ) {\n\t\t\t\tfor ( i = 0, l = events[ type ].length; i < l; i++ ) {\n\t\t\t\t\tjQuery.event.add( dest, type, events[ type ][ i ] );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// 2. Copy user data\n\tif ( data_user.hasData( src ) ) {\n\t\tudataOld = data_user.access( src );\n\t\tudataCur = jQuery.extend( {}, udataOld );\n\n\t\tdata_user.set( dest, udataCur );\n\t}\n}\n\nfunction getAll( context, tag ) {\n\tvar ret = context.getElementsByTagName ? context.getElementsByTagName( tag || \"*\" ) :\n\t\t\tcontext.querySelectorAll ? context.querySelectorAll( tag || \"*\" ) :\n\t\t\t[];\n\n\treturn tag === undefined || tag && jQuery.nodeName( context, tag ) ?\n\t\tjQuery.merge( [ context ], ret ) :\n\t\tret;\n}\n\n// Support: IE >= 9\nfunction fixInput( src, dest ) {\n\tvar nodeName = dest.nodeName.toLowerCase();\n\n\t// Fails to persist the checked state of a cloned checkbox or radio button.\n\tif ( nodeName === \"input\" && rcheckableType.test( src.type ) ) {\n\t\tdest.checked = src.checked;\n\n\t// Fails to return the selected option to the default selected state when cloning options\n\t} else if ( nodeName === \"input\" || nodeName === \"textarea\" ) {\n\t\tdest.defaultValue = src.defaultValue;\n\t}\n}\n\njQuery.extend({\n\tclone: function( elem, dataAndEvents, deepDataAndEvents ) {\n\t\tvar i, l, srcElements, destElements,\n\t\t\tclone = elem.cloneNode( true ),\n\t\t\tinPage = jQuery.contains( elem.ownerDocument, elem );\n\n\t\t// Support: IE >= 9\n\t\t// Fix Cloning issues\n\t\tif ( !support.noCloneChecked && ( elem.nodeType === 1 || elem.nodeType === 11 ) &&\n\t\t\t\t!jQuery.isXMLDoc( elem ) ) {\n\n\t\t\t// We eschew Sizzle here for performance reasons: http://jsperf.com/getall-vs-sizzle/2\n\t\t\tdestElements = getAll( clone );\n\t\t\tsrcElements = getAll( elem );\n\n\t\t\tfor ( i = 0, l = srcElements.length; i < l; i++ ) {\n\t\t\t\tfixInput( srcElements[ i ], destElements[ i ] );\n\t\t\t}\n\t\t}\n\n\t\t// Copy the events from the original to the clone\n\t\tif ( dataAndEvents ) {\n\t\t\tif ( deepDataAndEvents ) {\n\t\t\t\tsrcElements = srcElements || getAll( elem );\n\t\t\t\tdestElements = destElements || getAll( clone );\n\n\t\t\t\tfor ( i = 0, l = srcElements.length; i < l; i++ ) {\n\t\t\t\t\tcloneCopyEvent( srcElements[ i ], destElements[ i ] );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tcloneCopyEvent( elem, clone );\n\t\t\t}\n\t\t}\n\n\t\t// Preserve script evaluation history\n\t\tdestElements = getAll( clone, \"script\" );\n\t\tif ( destElements.length > 0 ) {\n\t\t\tsetGlobalEval( destElements, !inPage && getAll( elem, \"script\" ) );\n\t\t}\n\n\t\t// Return the cloned set\n\t\treturn clone;\n\t},\n\n\tbuildFragment: function( elems, context, scripts, selection ) {\n\t\tvar elem, tmp, tag, wrap, contains, j,\n\t\t\tfragment = context.createDocumentFragment(),\n\t\t\tnodes = [],\n\t\t\ti = 0,\n\t\t\tl = elems.length;\n\n\t\tfor ( ; i < l; i++ ) {\n\t\t\telem = elems[ i ];\n\n\t\t\tif ( elem || elem === 0 ) {\n\n\t\t\t\t// Add nodes directly\n\t\t\t\tif ( jQuery.type( elem ) === \"object\" ) {\n\t\t\t\t\t// Support: QtWebKit\n\t\t\t\t\t// jQuery.merge because push.apply(_, arraylike) throws\n\t\t\t\t\tjQuery.merge( nodes, elem.nodeType ? [ elem ] : elem );\n\n\t\t\t\t// Convert non-html into a text node\n\t\t\t\t} else if ( !rhtml.test( elem ) ) {\n\t\t\t\t\tnodes.push( context.createTextNode( elem ) );\n\n\t\t\t\t// Convert html into DOM nodes\n\t\t\t\t} else {\n\t\t\t\t\ttmp = tmp || fragment.appendChild( context.createElement(\"div\") );\n\n\t\t\t\t\t// Deserialize a standard representation\n\t\t\t\t\ttag = ( rtagName.exec( elem ) || [ \"\", \"\" ] )[ 1 ].toLowerCase();\n\t\t\t\t\twrap = wrapMap[ tag ] || wrapMap._default;\n\t\t\t\t\ttmp.innerHTML = wrap[ 1 ] + elem.replace( rxhtmlTag, \"<$1></$2>\" ) + wrap[ 2 ];\n\n\t\t\t\t\t// Descend through wrappers to the right content\n\t\t\t\t\tj = wrap[ 0 ];\n\t\t\t\t\twhile ( j-- ) {\n\t\t\t\t\t\ttmp = tmp.lastChild;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Support: QtWebKit\n\t\t\t\t\t// jQuery.merge because push.apply(_, arraylike) throws\n\t\t\t\t\tjQuery.merge( nodes, tmp.childNodes );\n\n\t\t\t\t\t// Remember the top-level container\n\t\t\t\t\ttmp = fragment.firstChild;\n\n\t\t\t\t\t// Fixes #12346\n\t\t\t\t\t// Support: Webkit, IE\n\t\t\t\t\ttmp.textContent = \"\";\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Remove wrapper from fragment\n\t\tfragment.textContent = \"\";\n\n\t\ti = 0;\n\t\twhile ( (elem = nodes[ i++ ]) ) {\n\n\t\t\t// #4087 - If origin and destination elements are the same, and this is\n\t\t\t// that element, do not do anything\n\t\t\tif ( selection && jQuery.inArray( elem, selection ) !== -1 ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tcontains = jQuery.contains( elem.ownerDocument, elem );\n\n\t\t\t// Append to fragment\n\t\t\ttmp = getAll( fragment.appendChild( elem ), \"script\" );\n\n\t\t\t// Preserve script evaluation history\n\t\t\tif ( contains ) {\n\t\t\t\tsetGlobalEval( tmp );\n\t\t\t}\n\n\t\t\t// Capture executables\n\t\t\tif ( scripts ) {\n\t\t\t\tj = 0;\n\t\t\t\twhile ( (elem = tmp[ j++ ]) ) {\n\t\t\t\t\tif ( rscriptType.test( elem.type || \"\" ) ) {\n\t\t\t\t\t\tscripts.push( elem );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn fragment;\n\t},\n\n\tcleanData: function( elems ) {\n\t\tvar data, elem, type, key,\n\t\t\tspecial = jQuery.event.special,\n\t\t\ti = 0;\n\n\t\tfor ( ; (elem = elems[ i ]) !== undefined; i++ ) {\n\t\t\tif ( jQuery.acceptData( elem ) ) {\n\t\t\t\tkey = elem[ data_priv.expando ];\n\n\t\t\t\tif ( key && (data = data_priv.cache[ key ]) ) {\n\t\t\t\t\tif ( data.events ) {\n\t\t\t\t\t\tfor ( type in data.events ) {\n\t\t\t\t\t\t\tif ( special[ type ] ) {\n\t\t\t\t\t\t\t\tjQuery.event.remove( elem, type );\n\n\t\t\t\t\t\t\t// This is a shortcut to avoid jQuery.event.remove's overhead\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tjQuery.removeEvent( elem, type, data.handle );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif ( data_priv.cache[ key ] ) {\n\t\t\t\t\t\t// Discard any remaining `private` data\n\t\t\t\t\t\tdelete data_priv.cache[ key ];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Discard any remaining `user` data\n\t\t\tdelete data_user.cache[ elem[ data_user.expando ] ];\n\t\t}\n\t}\n});\n\njQuery.fn.extend({\n\ttext: function( value ) {\n\t\treturn access( this, function( value ) {\n\t\t\treturn value === undefined ?\n\t\t\t\tjQuery.text( this ) :\n\t\t\t\tthis.empty().each(function() {\n\t\t\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\n\t\t\t\t\t\tthis.textContent = value;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t}, null, value, arguments.length );\n\t},\n\n\tappend: function() {\n\t\treturn this.domManip( arguments, function( elem ) {\n\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\n\t\t\t\tvar target = manipulationTarget( this, elem );\n\t\t\t\ttarget.appendChild( elem );\n\t\t\t}\n\t\t});\n\t},\n\n\tprepend: function() {\n\t\treturn this.domManip( arguments, function( elem ) {\n\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\n\t\t\t\tvar target = manipulationTarget( this, elem );\n\t\t\t\ttarget.insertBefore( elem, target.firstChild );\n\t\t\t}\n\t\t});\n\t},\n\n\tbefore: function() {\n\t\treturn this.domManip( arguments, function( elem ) {\n\t\t\tif ( this.parentNode ) {\n\t\t\t\tthis.parentNode.insertBefore( elem, this );\n\t\t\t}\n\t\t});\n\t},\n\n\tafter: function() {\n\t\treturn this.domManip( arguments, function( elem ) {\n\t\t\tif ( this.parentNode ) {\n\t\t\t\tthis.parentNode.insertBefore( elem, this.nextSibling );\n\t\t\t}\n\t\t});\n\t},\n\n\tremove: function( selector, keepData /* Internal Use Only */ ) {\n\t\tvar elem,\n\t\t\telems = selector ? jQuery.filter( selector, this ) : this,\n\t\t\ti = 0;\n\n\t\tfor ( ; (elem = elems[i]) != null; i++ ) {\n\t\t\tif ( !keepData && elem.nodeType === 1 ) {\n\t\t\t\tjQuery.cleanData( getAll( elem ) );\n\t\t\t}\n\n\t\t\tif ( elem.parentNode ) {\n\t\t\t\tif ( keepData && jQuery.contains( elem.ownerDocument, elem ) ) {\n\t\t\t\t\tsetGlobalEval( getAll( elem, \"script\" ) );\n\t\t\t\t}\n\t\t\t\telem.parentNode.removeChild( elem );\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tempty: function() {\n\t\tvar elem,\n\t\t\ti = 0;\n\n\t\tfor ( ; (elem = this[i]) != null; i++ ) {\n\t\t\tif ( elem.nodeType === 1 ) {\n\n\t\t\t\t// Prevent memory leaks\n\t\t\t\tjQuery.cleanData( getAll( elem, false ) );\n\n\t\t\t\t// Remove any remaining nodes\n\t\t\t\telem.textContent = \"\";\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tclone: function( dataAndEvents, deepDataAndEvents ) {\n\t\tdataAndEvents = dataAndEvents == null ? false : dataAndEvents;\n\t\tdeepDataAndEvents = deepDataAndEvents == null ? dataAndEvents : deepDataAndEvents;\n\n\t\treturn this.map(function() {\n\t\t\treturn jQuery.clone( this, dataAndEvents, deepDataAndEvents );\n\t\t});\n\t},\n\n\thtml: function( value ) {\n\t\treturn access( this, function( value ) {\n\t\t\tvar elem = this[ 0 ] || {},\n\t\t\t\ti = 0,\n\t\t\t\tl = this.length;\n\n\t\t\tif ( value === undefined && elem.nodeType === 1 ) {\n\t\t\t\treturn elem.innerHTML;\n\t\t\t}\n\n\t\t\t// See if we can take a shortcut and just use innerHTML\n\t\t\tif ( typeof value === \"string\" && !rnoInnerhtml.test( value ) &&\n\t\t\t\t!wrapMap[ ( rtagName.exec( value ) || [ \"\", \"\" ] )[ 1 ].toLowerCase() ] ) {\n\n\t\t\t\tvalue = value.replace( rxhtmlTag, \"<$1></$2>\" );\n\n\t\t\t\ttry {\n\t\t\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\t\t\telem = this[ i ] || {};\n\n\t\t\t\t\t\t// Remove element nodes and prevent memory leaks\n\t\t\t\t\t\tif ( elem.nodeType === 1 ) {\n\t\t\t\t\t\t\tjQuery.cleanData( getAll( elem, false ) );\n\t\t\t\t\t\t\telem.innerHTML = value;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\telem = 0;\n\n\t\t\t\t// If using innerHTML throws an exception, use the fallback method\n\t\t\t\t} catch( e ) {}\n\t\t\t}\n\n\t\t\tif ( elem ) {\n\t\t\t\tthis.empty().append( value );\n\t\t\t}\n\t\t}, null, value, arguments.length );\n\t},\n\n\treplaceWith: function() {\n\t\tvar arg = arguments[ 0 ];\n\n\t\t// Make the changes, replacing each context element with the new content\n\t\tthis.domManip( arguments, function( elem ) {\n\t\t\targ = this.parentNode;\n\n\t\t\tjQuery.cleanData( getAll( this ) );\n\n\t\t\tif ( arg ) {\n\t\t\t\targ.replaceChild( elem, this );\n\t\t\t}\n\t\t});\n\n\t\t// Force removal if there was no new content (e.g., from empty arguments)\n\t\treturn arg && (arg.length || arg.nodeType) ? this : this.remove();\n\t},\n\n\tdetach: function( selector ) {\n\t\treturn this.remove( selector, true );\n\t},\n\n\tdomManip: function( args, callback ) {\n\n\t\t// Flatten any nested arrays\n\t\targs = concat.apply( [], args );\n\n\t\tvar fragment, first, scripts, hasScripts, node, doc,\n\t\t\ti = 0,\n\t\t\tl = this.length,\n\t\t\tset = this,\n\t\t\tiNoClone = l - 1,\n\t\t\tvalue = args[ 0 ],\n\t\t\tisFunction = jQuery.isFunction( value );\n\n\t\t// We can't cloneNode fragments that contain checked, in WebKit\n\t\tif ( isFunction ||\n\t\t\t\t( l > 1 && typeof value === \"string\" &&\n\t\t\t\t\t!support.checkClone && rchecked.test( value ) ) ) {\n\t\t\treturn this.each(function( index ) {\n\t\t\t\tvar self = set.eq( index );\n\t\t\t\tif ( isFunction ) {\n\t\t\t\t\targs[ 0 ] = value.call( this, index, self.html() );\n\t\t\t\t}\n\t\t\t\tself.domManip( args, callback );\n\t\t\t});\n\t\t}\n\n\t\tif ( l ) {\n\t\t\tfragment = jQuery.buildFragment( args, this[ 0 ].ownerDocument, false, this );\n\t\t\tfirst = fragment.firstChild;\n\n\t\t\tif ( fragment.childNodes.length === 1 ) {\n\t\t\t\tfragment = first;\n\t\t\t}\n\n\t\t\tif ( first ) {\n\t\t\t\tscripts = jQuery.map( getAll( fragment, \"script\" ), disableScript );\n\t\t\t\thasScripts = scripts.length;\n\n\t\t\t\t// Use the original fragment for the last item instead of the first because it can end up\n\t\t\t\t// being emptied incorrectly in certain situations (#8070).\n\t\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\t\tnode = fragment;\n\n\t\t\t\t\tif ( i !== iNoClone ) {\n\t\t\t\t\t\tnode = jQuery.clone( node, true, true );\n\n\t\t\t\t\t\t// Keep references to cloned scripts for later restoration\n\t\t\t\t\t\tif ( hasScripts ) {\n\t\t\t\t\t\t\t// Support: QtWebKit\n\t\t\t\t\t\t\t// jQuery.merge because push.apply(_, arraylike) throws\n\t\t\t\t\t\t\tjQuery.merge( scripts, getAll( node, \"script\" ) );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tcallback.call( this[ i ], node, i );\n\t\t\t\t}\n\n\t\t\t\tif ( hasScripts ) {\n\t\t\t\t\tdoc = scripts[ scripts.length - 1 ].ownerDocument;\n\n\t\t\t\t\t// Reenable scripts\n\t\t\t\t\tjQuery.map( scripts, restoreScript );\n\n\t\t\t\t\t// Evaluate executable scripts on first document insertion\n\t\t\t\t\tfor ( i = 0; i < hasScripts; i++ ) {\n\t\t\t\t\t\tnode = scripts[ i ];\n\t\t\t\t\t\tif ( rscriptType.test( node.type || \"\" ) &&\n\t\t\t\t\t\t\t!data_priv.access( node, \"globalEval\" ) && jQuery.contains( doc, node ) ) {\n\n\t\t\t\t\t\t\tif ( node.src ) {\n\t\t\t\t\t\t\t\t// Optional AJAX dependency, but won't run scripts if not present\n\t\t\t\t\t\t\t\tif ( jQuery._evalUrl ) {\n\t\t\t\t\t\t\t\t\tjQuery._evalUrl( node.src );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tjQuery.globalEval( node.textContent.replace( rcleanScript, \"\" ) );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t}\n});\n\njQuery.each({\n\tappendTo: \"append\",\n\tprependTo: \"prepend\",\n\tinsertBefore: \"before\",\n\tinsertAfter: \"after\",\n\treplaceAll: \"replaceWith\"\n}, function( name, original ) {\n\tjQuery.fn[ name ] = function( selector ) {\n\t\tvar elems,\n\t\t\tret = [],\n\t\t\tinsert = jQuery( selector ),\n\t\t\tlast = insert.length - 1,\n\t\t\ti = 0;\n\n\t\tfor ( ; i <= last; i++ ) {\n\t\t\telems = i === last ? this : this.clone( true );\n\t\t\tjQuery( insert[ i ] )[ original ]( elems );\n\n\t\t\t// Support: QtWebKit\n\t\t\t// .get() because push.apply(_, arraylike) throws\n\t\t\tpush.apply( ret, elems.get() );\n\t\t}\n\n\t\treturn this.pushStack( ret );\n\t};\n});\n\n\nvar iframe,\n\telemdisplay = {};\n\n/**\n * Retrieve the actual display of a element\n * @param {String} name nodeName of the element\n * @param {Object} doc Document object\n */\n// Called only from within defaultDisplay\nfunction actualDisplay( name, doc ) {\n\tvar style,\n\t\telem = jQuery( doc.createElement( name ) ).appendTo( doc.body ),\n\n\t\t// getDefaultComputedStyle might be reliably used only on attached element\n\t\tdisplay = window.getDefaultComputedStyle && ( style = window.getDefaultComputedStyle( elem[ 0 ] ) ) ?\n\n\t\t\t// Use of this method is a temporary fix (more like optmization) until something better comes along,\n\t\t\t// since it was removed from specification and supported only in FF\n\t\t\tstyle.display : jQuery.css( elem[ 0 ], \"display\" );\n\n\t// We don't have any data stored on the element,\n\t// so use \"detach\" method as fast way to get rid of the element\n\telem.detach();\n\n\treturn display;\n}\n\n/**\n * Try to determine the default display value of an element\n * @param {String} nodeName\n */\nfunction defaultDisplay( nodeName ) {\n\tvar doc = document,\n\t\tdisplay = elemdisplay[ nodeName ];\n\n\tif ( !display ) {\n\t\tdisplay = actualDisplay( nodeName, doc );\n\n\t\t// If the simple way fails, read from inside an iframe\n\t\tif ( display === \"none\" || !display ) {\n\n\t\t\t// Use the already-created iframe if possible\n\t\t\tiframe = (iframe || jQuery( \"<iframe frameborder='0' width='0' height='0'/>\" )).appendTo( doc.documentElement );\n\n\t\t\t// Always write a new HTML skeleton so Webkit and Firefox don't choke on reuse\n\t\t\tdoc = iframe[ 0 ].contentDocument;\n\n\t\t\t// Support: IE\n\t\t\tdoc.write();\n\t\t\tdoc.close();\n\n\t\t\tdisplay = actualDisplay( nodeName, doc );\n\t\t\tiframe.detach();\n\t\t}\n\n\t\t// Store the correct default display\n\t\telemdisplay[ nodeName ] = display;\n\t}\n\n\treturn display;\n}\nvar rmargin = (/^margin/);\n\nvar rnumnonpx = new RegExp( \"^(\" + pnum + \")(?!px)[a-z%]+$\", \"i\" );\n\nvar getStyles = function( elem ) {\n\t\treturn elem.ownerDocument.defaultView.getComputedStyle( elem, null );\n\t};\n\n\n\nfunction curCSS( elem, name, computed ) {\n\tvar width, minWidth, maxWidth, ret,\n\t\tstyle = elem.style;\n\n\tcomputed = computed || getStyles( elem );\n\n\t// Support: IE9\n\t// getPropertyValue is only needed for .css('filter') in IE9, see #12537\n\tif ( computed ) {\n\t\tret = computed.getPropertyValue( name ) || computed[ name ];\n\t}\n\n\tif ( computed ) {\n\n\t\tif ( ret === \"\" && !jQuery.contains( elem.ownerDocument, elem ) ) {\n\t\t\tret = jQuery.style( elem, name );\n\t\t}\n\n\t\t// Support: iOS < 6\n\t\t// A tribute to the \"awesome hack by Dean Edwards\"\n\t\t// iOS < 6 (at least) returns percentage for a larger set of values, but width seems to be reliably pixels\n\t\t// this is against the CSSOM draft spec: http://dev.w3.org/csswg/cssom/#resolved-values\n\t\tif ( rnumnonpx.test( ret ) && rmargin.test( name ) ) {\n\n\t\t\t// Remember the original values\n\t\t\twidth = style.width;\n\t\t\tminWidth = style.minWidth;\n\t\t\tmaxWidth = style.maxWidth;\n\n\t\t\t// Put in the new values to get a computed value out\n\t\t\tstyle.minWidth = style.maxWidth = style.width = ret;\n\t\t\tret = computed.width;\n\n\t\t\t// Revert the changed values\n\t\t\tstyle.width = width;\n\t\t\tstyle.minWidth = minWidth;\n\t\t\tstyle.maxWidth = maxWidth;\n\t\t}\n\t}\n\n\treturn ret !== undefined ?\n\t\t// Support: IE\n\t\t// IE returns zIndex value as an integer.\n\t\tret + \"\" :\n\t\tret;\n}\n\n\nfunction addGetHookIf( conditionFn, hookFn ) {\n\t// Define the hook, we'll check on the first run if it's really needed.\n\treturn {\n\t\tget: function() {\n\t\t\tif ( conditionFn() ) {\n\t\t\t\t// Hook not needed (or it's not possible to use it due to missing dependency),\n\t\t\t\t// remove it.\n\t\t\t\t// Since there are no other hooks for marginRight, remove the whole object.\n\t\t\t\tdelete this.get;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Hook needed; redefine it so that the support test is not executed again.\n\n\t\t\treturn (this.get = hookFn).apply( this, arguments );\n\t\t}\n\t};\n}\n\n\n(function() {\n\tvar pixelPositionVal, boxSizingReliableVal,\n\t\tdocElem = document.documentElement,\n\t\tcontainer = document.createElement( \"div\" ),\n\t\tdiv = document.createElement( \"div\" );\n\n\tif ( !div.style ) {\n\t\treturn;\n\t}\n\n\tdiv.style.backgroundClip = \"content-box\";\n\tdiv.cloneNode( true ).style.backgroundClip = \"\";\n\tsupport.clearCloneStyle = div.style.backgroundClip === \"content-box\";\n\n\tcontainer.style.cssText = \"border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;\" +\n\t\t\"position:absolute\";\n\tcontainer.appendChild( div );\n\n\t// Executing both pixelPosition & boxSizingReliable tests require only one layout\n\t// so they're executed at the same time to save the second computation.\n\tfunction computePixelPositionAndBoxSizingReliable() {\n\t\tdiv.style.cssText =\n\t\t\t// Support: Firefox<29, Android 2.3\n\t\t\t// Vendor-prefix box-sizing\n\t\t\t\"-webkit-box-sizing:border-box;-moz-box-sizing:border-box;\" +\n\t\t\t\"box-sizing:border-box;display:block;margin-top:1%;top:1%;\" +\n\t\t\t\"border:1px;padding:1px;width:4px;position:absolute\";\n\t\tdiv.innerHTML = \"\";\n\t\tdocElem.appendChild( container );\n\n\t\tvar divStyle = window.getComputedStyle( div, null );\n\t\tpixelPositionVal = divStyle.top !== \"1%\";\n\t\tboxSizingReliableVal = divStyle.width === \"4px\";\n\n\t\tdocElem.removeChild( container );\n\t}\n\n\t// Support: node.js jsdom\n\t// Don't assume that getComputedStyle is a property of the global object\n\tif ( window.getComputedStyle ) {\n\t\tjQuery.extend( support, {\n\t\t\tpixelPosition: function() {\n\t\t\t\t// This test is executed only once but we still do memoizing\n\t\t\t\t// since we can use the boxSizingReliable pre-computing.\n\t\t\t\t// No need to check if the test was already performed, though.\n\t\t\t\tcomputePixelPositionAndBoxSizingReliable();\n\t\t\t\treturn pixelPositionVal;\n\t\t\t},\n\t\t\tboxSizingReliable: function() {\n\t\t\t\tif ( boxSizingReliableVal == null ) {\n\t\t\t\t\tcomputePixelPositionAndBoxSizingReliable();\n\t\t\t\t}\n\t\t\t\treturn boxSizingReliableVal;\n\t\t\t},\n\t\t\treliableMarginRight: function() {\n\t\t\t\t// Support: Android 2.3\n\t\t\t\t// Check if div with explicit width and no margin-right incorrectly\n\t\t\t\t// gets computed margin-right based on width of container. (#3333)\n\t\t\t\t// WebKit Bug 13343 - getComputedStyle returns wrong value for margin-right\n\t\t\t\t// This support function is only executed once so no memoizing is needed.\n\t\t\t\tvar ret,\n\t\t\t\t\tmarginDiv = div.appendChild( document.createElement( \"div\" ) );\n\n\t\t\t\t// Reset CSS: box-sizing; display; margin; border; padding\n\t\t\t\tmarginDiv.style.cssText = div.style.cssText =\n\t\t\t\t\t// Support: Firefox<29, Android 2.3\n\t\t\t\t\t// Vendor-prefix box-sizing\n\t\t\t\t\t\"-webkit-box-sizing:content-box;-moz-box-sizing:content-box;\" +\n\t\t\t\t\t\"box-sizing:content-box;display:block;margin:0;border:0;padding:0\";\n\t\t\t\tmarginDiv.style.marginRight = marginDiv.style.width = \"0\";\n\t\t\t\tdiv.style.width = \"1px\";\n\t\t\t\tdocElem.appendChild( container );\n\n\t\t\t\tret = !parseFloat( window.getComputedStyle( marginDiv, null ).marginRight );\n\n\t\t\t\tdocElem.removeChild( container );\n\n\t\t\t\treturn ret;\n\t\t\t}\n\t\t});\n\t}\n})();\n\n\n// A method for quickly swapping in/out CSS properties to get correct calculations.\njQuery.swap = function( elem, options, callback, args ) {\n\tvar ret, name,\n\t\told = {};\n\n\t// Remember the old values, and insert the new ones\n\tfor ( name in options ) {\n\t\told[ name ] = elem.style[ name ];\n\t\telem.style[ name ] = options[ name ];\n\t}\n\n\tret = callback.apply( elem, args || [] );\n\n\t// Revert the old values\n\tfor ( name in options ) {\n\t\telem.style[ name ] = old[ name ];\n\t}\n\n\treturn ret;\n};\n\n\nvar\n\t// swappable if display is none or starts with table except \"table\", \"table-cell\", or \"table-caption\"\n\t// see here for display values: https://developer.mozilla.org/en-US/docs/CSS/display\n\trdisplayswap = /^(none|table(?!-c[ea]).+)/,\n\trnumsplit = new RegExp( \"^(\" + pnum + \")(.*)$\", \"i\" ),\n\trrelNum = new RegExp( \"^([+-])=(\" + pnum + \")\", \"i\" ),\n\n\tcssShow = { position: \"absolute\", visibility: \"hidden\", display: \"block\" },\n\tcssNormalTransform = {\n\t\tletterSpacing: \"0\",\n\t\tfontWeight: \"400\"\n\t},\n\n\tcssPrefixes = [ \"Webkit\", \"O\", \"Moz\", \"ms\" ];\n\n// return a css property mapped to a potentially vendor prefixed property\nfunction vendorPropName( style, name ) {\n\n\t// shortcut for names that are not vendor prefixed\n\tif ( name in style ) {\n\t\treturn name;\n\t}\n\n\t// check for vendor prefixed names\n\tvar capName = name[0].toUpperCase() + name.slice(1),\n\t\torigName = name,\n\t\ti = cssPrefixes.length;\n\n\twhile ( i-- ) {\n\t\tname = cssPrefixes[ i ] + capName;\n\t\tif ( name in style ) {\n\t\t\treturn name;\n\t\t}\n\t}\n\n\treturn origName;\n}\n\nfunction setPositiveNumber( elem, value, subtract ) {\n\tvar matches = rnumsplit.exec( value );\n\treturn matches ?\n\t\t// Guard against undefined \"subtract\", e.g., when used as in cssHooks\n\t\tMath.max( 0, matches[ 1 ] - ( subtract || 0 ) ) + ( matches[ 2 ] || \"px\" ) :\n\t\tvalue;\n}\n\nfunction augmentWidthOrHeight( elem, name, extra, isBorderBox, styles ) {\n\tvar i = extra === ( isBorderBox ? \"border\" : \"content\" ) ?\n\t\t// If we already have the right measurement, avoid augmentation\n\t\t4 :\n\t\t// Otherwise initialize for horizontal or vertical properties\n\t\tname === \"width\" ? 1 : 0,\n\n\t\tval = 0;\n\n\tfor ( ; i < 4; i += 2 ) {\n\t\t// both box models exclude margin, so add it if we want it\n\t\tif ( extra === \"margin\" ) {\n\t\t\tval += jQuery.css( elem, extra + cssExpand[ i ], true, styles );\n\t\t}\n\n\t\tif ( isBorderBox ) {\n\t\t\t// border-box includes padding, so remove it if we want content\n\t\t\tif ( extra === \"content\" ) {\n\t\t\t\tval -= jQuery.css( elem, \"padding\" + cssExpand[ i ], true, styles );\n\t\t\t}\n\n\t\t\t// at this point, extra isn't border nor margin, so remove border\n\t\t\tif ( extra !== \"margin\" ) {\n\t\t\t\tval -= jQuery.css( elem, \"border\" + cssExpand[ i ] + \"Width\", true, styles );\n\t\t\t}\n\t\t} else {\n\t\t\t// at this point, extra isn't content, so add padding\n\t\t\tval += jQuery.css( elem, \"padding\" + cssExpand[ i ], true, styles );\n\n\t\t\t// at this point, extra isn't content nor padding, so add border\n\t\t\tif ( extra !== \"padding\" ) {\n\t\t\t\tval += jQuery.css( elem, \"border\" + cssExpand[ i ] + \"Width\", true, styles );\n\t\t\t}\n\t\t}\n\t}\n\n\treturn val;\n}\n\nfunction getWidthOrHeight( elem, name, extra ) {\n\n\t// Start with offset property, which is equivalent to the border-box value\n\tvar valueIsBorderBox = true,\n\t\tval = name === \"width\" ? elem.offsetWidth : elem.offsetHeight,\n\t\tstyles = getStyles( elem ),\n\t\tisBorderBox = jQuery.css( elem, \"boxSizing\", false, styles ) === \"border-box\";\n\n\t// some non-html elements return undefined for offsetWidth, so check for null/undefined\n\t// svg - https://bugzilla.mozilla.org/show_bug.cgi?id=649285\n\t// MathML - https://bugzilla.mozilla.org/show_bug.cgi?id=491668\n\tif ( val <= 0 || val == null ) {\n\t\t// Fall back to computed then uncomputed css if necessary\n\t\tval = curCSS( elem, name, styles );\n\t\tif ( val < 0 || val == null ) {\n\t\t\tval = elem.style[ name ];\n\t\t}\n\n\t\t// Computed unit is not pixels. Stop here and return.\n\t\tif ( rnumnonpx.test(val) ) {\n\t\t\treturn val;\n\t\t}\n\n\t\t// we need the check for style in case a browser which returns unreliable values\n\t\t// for getComputedStyle silently falls back to the reliable elem.style\n\t\tvalueIsBorderBox = isBorderBox &&\n\t\t\t( support.boxSizingReliable() || val === elem.style[ name ] );\n\n\t\t// Normalize \"\", auto, and prepare for extra\n\t\tval = parseFloat( val ) || 0;\n\t}\n\n\t// use the active box-sizing model to add/subtract irrelevant styles\n\treturn ( val +\n\t\taugmentWidthOrHeight(\n\t\t\telem,\n\t\t\tname,\n\t\t\textra || ( isBorderBox ? \"border\" : \"content\" ),\n\t\t\tvalueIsBorderBox,\n\t\t\tstyles\n\t\t)\n\t) + \"px\";\n}\n\nfunction showHide( elements, show ) {\n\tvar display, elem, hidden,\n\t\tvalues = [],\n\t\tindex = 0,\n\t\tlength = elements.length;\n\n\tfor ( ; index < length; index++ ) {\n\t\telem = elements[ index ];\n\t\tif ( !elem.style ) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tvalues[ index ] = data_priv.get( elem, \"olddisplay\" );\n\t\tdisplay = elem.style.display;\n\t\tif ( show ) {\n\t\t\t// Reset the inline display of this element to learn if it is\n\t\t\t// being hidden by cascaded rules or not\n\t\t\tif ( !values[ index ] && display === \"none\" ) {\n\t\t\t\telem.style.display = \"\";\n\t\t\t}\n\n\t\t\t// Set elements which have been overridden with display: none\n\t\t\t// in a stylesheet to whatever the default browser style is\n\t\t\t// for such an element\n\t\t\tif ( elem.style.display === \"\" && isHidden( elem ) ) {\n\t\t\t\tvalues[ index ] = data_priv.access( elem, \"olddisplay\", defaultDisplay(elem.nodeName) );\n\t\t\t}\n\t\t} else {\n\t\t\thidden = isHidden( elem );\n\n\t\t\tif ( display !== \"none\" || !hidden ) {\n\t\t\t\tdata_priv.set( elem, \"olddisplay\", hidden ? display : jQuery.css( elem, \"display\" ) );\n\t\t\t}\n\t\t}\n\t}\n\n\t// Set the display of most of the elements in a second loop\n\t// to avoid the constant reflow\n\tfor ( index = 0; index < length; index++ ) {\n\t\telem = elements[ index ];\n\t\tif ( !elem.style ) {\n\t\t\tcontinue;\n\t\t}\n\t\tif ( !show || elem.style.display === \"none\" || elem.style.display === \"\" ) {\n\t\t\telem.style.display = show ? values[ index ] || \"\" : \"none\";\n\t\t}\n\t}\n\n\treturn elements;\n}\n\njQuery.extend({\n\t// Add in style property hooks for overriding the default\n\t// behavior of getting and setting a style property\n\tcssHooks: {\n\t\topacity: {\n\t\t\tget: function( elem, computed ) {\n\t\t\t\tif ( computed ) {\n\t\t\t\t\t// We should always get a number back from opacity\n\t\t\t\t\tvar ret = curCSS( elem, \"opacity\" );\n\t\t\t\t\treturn ret === \"\" ? \"1\" : ret;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t// Don't automatically add \"px\" to these possibly-unitless properties\n\tcssNumber: {\n\t\t\"columnCount\": true,\n\t\t\"fillOpacity\": true,\n\t\t\"flexGrow\": true,\n\t\t\"flexShrink\": true,\n\t\t\"fontWeight\": true,\n\t\t\"lineHeight\": true,\n\t\t\"opacity\": true,\n\t\t\"order\": true,\n\t\t\"orphans\": true,\n\t\t\"widows\": true,\n\t\t\"zIndex\": true,\n\t\t\"zoom\": true\n\t},\n\n\t// Add in properties whose names you wish to fix before\n\t// setting or getting the value\n\tcssProps: {\n\t\t// normalize float css property\n\t\t\"float\": \"cssFloat\"\n\t},\n\n\t// Get and set the style property on a DOM Node\n\tstyle: function( elem, name, value, extra ) {\n\t\t// Don't set styles on text and comment nodes\n\t\tif ( !elem || elem.nodeType === 3 || elem.nodeType === 8 || !elem.style ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Make sure that we're working with the right name\n\t\tvar ret, type, hooks,\n\t\t\torigName = jQuery.camelCase( name ),\n\t\t\tstyle = elem.style;\n\n\t\tname = jQuery.cssProps[ origName ] || ( jQuery.cssProps[ origName ] = vendorPropName( style, origName ) );\n\n\t\t// gets hook for the prefixed version\n\t\t// followed by the unprefixed version\n\t\thooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];\n\n\t\t// Check if we're setting a value\n\t\tif ( value !== undefined ) {\n\t\t\ttype = typeof value;\n\n\t\t\t// convert relative number strings (+= or -=) to relative numbers. #7345\n\t\t\tif ( type === \"string\" && (ret = rrelNum.exec( value )) ) {\n\t\t\t\tvalue = ( ret[1] + 1 ) * ret[2] + parseFloat( jQuery.css( elem, name ) );\n\t\t\t\t// Fixes bug #9237\n\t\t\t\ttype = \"number\";\n\t\t\t}\n\n\t\t\t// Make sure that null and NaN values aren't set. See: #7116\n\t\t\tif ( value == null || value !== value ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// If a number was passed in, add 'px' to the (except for certain CSS properties)\n\t\t\tif ( type === \"number\" && !jQuery.cssNumber[ origName ] ) {\n\t\t\t\tvalue += \"px\";\n\t\t\t}\n\n\t\t\t// Fixes #8908, it can be done more correctly by specifying setters in cssHooks,\n\t\t\t// but it would mean to define eight (for every problematic property) identical functions\n\t\t\tif ( !support.clearCloneStyle && value === \"\" && name.indexOf( \"background\" ) === 0 ) {\n\t\t\t\tstyle[ name ] = \"inherit\";\n\t\t\t}\n\n\t\t\t// If a hook was provided, use that value, otherwise just set the specified value\n\t\t\tif ( !hooks || !(\"set\" in hooks) || (value = hooks.set( elem, value, extra )) !== undefined ) {\n\t\t\t\tstyle[ name ] = value;\n\t\t\t}\n\n\t\t} else {\n\t\t\t// If a hook was provided get the non-computed value from there\n\t\t\tif ( hooks && \"get\" in hooks && (ret = hooks.get( elem, false, extra )) !== undefined ) {\n\t\t\t\treturn ret;\n\t\t\t}\n\n\t\t\t// Otherwise just get the value from the style object\n\t\t\treturn style[ name ];\n\t\t}\n\t},\n\n\tcss: function( elem, name, extra, styles ) {\n\t\tvar val, num, hooks,\n\t\t\torigName = jQuery.camelCase( name );\n\n\t\t// Make sure that we're working with the right name\n\t\tname = jQuery.cssProps[ origName ] || ( jQuery.cssProps[ origName ] = vendorPropName( elem.style, origName ) );\n\n\t\t// gets hook for the prefixed version\n\t\t// followed by the unprefixed version\n\t\thooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];\n\n\t\t// If a hook was provided get the computed value from there\n\t\tif ( hooks && \"get\" in hooks ) {\n\t\t\tval = hooks.get( elem, true, extra );\n\t\t}\n\n\t\t// Otherwise, if a way to get the computed value exists, use that\n\t\tif ( val === undefined ) {\n\t\t\tval = curCSS( elem, name, styles );\n\t\t}\n\n\t\t//convert \"normal\" to computed value\n\t\tif ( val === \"normal\" && name in cssNormalTransform ) {\n\t\t\tval = cssNormalTransform[ name ];\n\t\t}\n\n\t\t// Return, converting to number if forced or a qualifier was provided and val looks numeric\n\t\tif ( extra === \"\" || extra ) {\n\t\t\tnum = parseFloat( val );\n\t\t\treturn extra === true || jQuery.isNumeric( num ) ? num || 0 : val;\n\t\t}\n\t\treturn val;\n\t}\n});\n\njQuery.each([ \"height\", \"width\" ], function( i, name ) {\n\tjQuery.cssHooks[ name ] = {\n\t\tget: function( elem, computed, extra ) {\n\t\t\tif ( computed ) {\n\t\t\t\t// certain elements can have dimension info if we invisibly show them\n\t\t\t\t// however, it must have a current display style that would benefit from this\n\t\t\t\treturn rdisplayswap.test( jQuery.css( elem, \"display\" ) ) && elem.offsetWidth === 0 ?\n\t\t\t\t\tjQuery.swap( elem, cssShow, function() {\n\t\t\t\t\t\treturn getWidthOrHeight( elem, name, extra );\n\t\t\t\t\t}) :\n\t\t\t\t\tgetWidthOrHeight( elem, name, extra );\n\t\t\t}\n\t\t},\n\n\t\tset: function( elem, value, extra ) {\n\t\t\tvar styles = extra && getStyles( elem );\n\t\t\treturn setPositiveNumber( elem, value, extra ?\n\t\t\t\taugmentWidthOrHeight(\n\t\t\t\t\telem,\n\t\t\t\t\tname,\n\t\t\t\t\textra,\n\t\t\t\t\tjQuery.css( elem, \"boxSizing\", false, styles ) === \"border-box\",\n\t\t\t\t\tstyles\n\t\t\t\t) : 0\n\t\t\t);\n\t\t}\n\t};\n});\n\n// Support: Android 2.3\njQuery.cssHooks.marginRight = addGetHookIf( support.reliableMarginRight,\n\tfunction( elem, computed ) {\n\t\tif ( computed ) {\n\t\t\t// WebKit Bug 13343 - getComputedStyle returns wrong value for margin-right\n\t\t\t// Work around by temporarily setting element display to inline-block\n\t\t\treturn jQuery.swap( elem, { \"display\": \"inline-block\" },\n\t\t\t\tcurCSS, [ elem, \"marginRight\" ] );\n\t\t}\n\t}\n);\n\n// These hooks are used by animate to expand properties\njQuery.each({\n\tmargin: \"\",\n\tpadding: \"\",\n\tborder: \"Width\"\n}, function( prefix, suffix ) {\n\tjQuery.cssHooks[ prefix + suffix ] = {\n\t\texpand: function( value ) {\n\t\t\tvar i = 0,\n\t\t\t\texpanded = {},\n\n\t\t\t\t// assumes a single number if not a string\n\t\t\t\tparts = typeof value === \"string\" ? value.split(\" \") : [ value ];\n\n\t\t\tfor ( ; i < 4; i++ ) {\n\t\t\t\texpanded[ prefix + cssExpand[ i ] + suffix ] =\n\t\t\t\t\tparts[ i ] || parts[ i - 2 ] || parts[ 0 ];\n\t\t\t}\n\n\t\t\treturn expanded;\n\t\t}\n\t};\n\n\tif ( !rmargin.test( prefix ) ) {\n\t\tjQuery.cssHooks[ prefix + suffix ].set = setPositiveNumber;\n\t}\n});\n\njQuery.fn.extend({\n\tcss: function( name, value ) {\n\t\treturn access( this, function( elem, name, value ) {\n\t\t\tvar styles, len,\n\t\t\t\tmap = {},\n\t\t\t\ti = 0;\n\n\t\t\tif ( jQuery.isArray( name ) ) {\n\t\t\t\tstyles = getStyles( elem );\n\t\t\t\tlen = name.length;\n\n\t\t\t\tfor ( ; i < len; i++ ) {\n\t\t\t\t\tmap[ name[ i ] ] = jQuery.css( elem, name[ i ], false, styles );\n\t\t\t\t}\n\n\t\t\t\treturn map;\n\t\t\t}\n\n\t\t\treturn value !== undefined ?\n\t\t\t\tjQuery.style( elem, name, value ) :\n\t\t\t\tjQuery.css( elem, name );\n\t\t}, name, value, arguments.length > 1 );\n\t},\n\tshow: function() {\n\t\treturn showHide( this, true );\n\t},\n\thide: function() {\n\t\treturn showHide( this );\n\t},\n\ttoggle: function( state ) {\n\t\tif ( typeof state === \"boolean\" ) {\n\t\t\treturn state ? this.show() : this.hide();\n\t\t}\n\n\t\treturn this.each(function() {\n\t\t\tif ( isHidden( this ) ) {\n\t\t\t\tjQuery( this ).show();\n\t\t\t} else {\n\t\t\t\tjQuery( this ).hide();\n\t\t\t}\n\t\t});\n\t}\n});\n\n\nfunction Tween( elem, options, prop, end, easing ) {\n\treturn new Tween.prototype.init( elem, options, prop, end, easing );\n}\njQuery.Tween = Tween;\n\nTween.prototype = {\n\tconstructor: Tween,\n\tinit: function( elem, options, prop, end, easing, unit ) {\n\t\tthis.elem = elem;\n\t\tthis.prop = prop;\n\t\tthis.easing = easing || \"swing\";\n\t\tthis.options = options;\n\t\tthis.start = this.now = this.cur();\n\t\tthis.end = end;\n\t\tthis.unit = unit || ( jQuery.cssNumber[ prop ] ? \"\" : \"px\" );\n\t},\n\tcur: function() {\n\t\tvar hooks = Tween.propHooks[ this.prop ];\n\n\t\treturn hooks && hooks.get ?\n\t\t\thooks.get( this ) :\n\t\t\tTween.propHooks._default.get( this );\n\t},\n\trun: function( percent ) {\n\t\tvar eased,\n\t\t\thooks = Tween.propHooks[ this.prop ];\n\n\t\tif ( this.options.duration ) {\n\t\t\tthis.pos = eased = jQuery.easing[ this.easing ](\n\t\t\t\tpercent, this.options.duration * percent, 0, 1, this.options.duration\n\t\t\t);\n\t\t} else {\n\t\t\tthis.pos = eased = percent;\n\t\t}\n\t\tthis.now = ( this.end - this.start ) * eased + this.start;\n\n\t\tif ( this.options.step ) {\n\t\t\tthis.options.step.call( this.elem, this.now, this );\n\t\t}\n\n\t\tif ( hooks && hooks.set ) {\n\t\t\thooks.set( this );\n\t\t} else {\n\t\t\tTween.propHooks._default.set( this );\n\t\t}\n\t\treturn this;\n\t}\n};\n\nTween.prototype.init.prototype = Tween.prototype;\n\nTween.propHooks = {\n\t_default: {\n\t\tget: function( tween ) {\n\t\t\tvar result;\n\n\t\t\tif ( tween.elem[ tween.prop ] != null &&\n\t\t\t\t(!tween.elem.style || tween.elem.style[ tween.prop ] == null) ) {\n\t\t\t\treturn tween.elem[ tween.prop ];\n\t\t\t}\n\n\t\t\t// passing an empty string as a 3rd parameter to .css will automatically\n\t\t\t// attempt a parseFloat and fallback to a string if the parse fails\n\t\t\t// so, simple values such as \"10px\" are parsed to Float.\n\t\t\t// complex values such as \"rotate(1rad)\" are returned as is.\n\t\t\tresult = jQuery.css( tween.elem, tween.prop, \"\" );\n\t\t\t// Empty strings, null, undefined and \"auto\" are converted to 0.\n\t\t\treturn !result || result === \"auto\" ? 0 : result;\n\t\t},\n\t\tset: function( tween ) {\n\t\t\t// use step hook for back compat - use cssHook if its there - use .style if its\n\t\t\t// available and use plain properties where available\n\t\t\tif ( jQuery.fx.step[ tween.prop ] ) {\n\t\t\t\tjQuery.fx.step[ tween.prop ]( tween );\n\t\t\t} else if ( tween.elem.style && ( tween.elem.style[ jQuery.cssProps[ tween.prop ] ] != null || jQuery.cssHooks[ tween.prop ] ) ) {\n\t\t\t\tjQuery.style( tween.elem, tween.prop, tween.now + tween.unit );\n\t\t\t} else {\n\t\t\t\ttween.elem[ tween.prop ] = tween.now;\n\t\t\t}\n\t\t}\n\t}\n};\n\n// Support: IE9\n// Panic based approach to setting things on disconnected nodes\n\nTween.propHooks.scrollTop = Tween.propHooks.scrollLeft = {\n\tset: function( tween ) {\n\t\tif ( tween.elem.nodeType && tween.elem.parentNode ) {\n\t\t\ttween.elem[ tween.prop ] = tween.now;\n\t\t}\n\t}\n};\n\njQuery.easing = {\n\tlinear: function( p ) {\n\t\treturn p;\n\t},\n\tswing: function( p ) {\n\t\treturn 0.5 - Math.cos( p * Math.PI ) / 2;\n\t}\n};\n\njQuery.fx = Tween.prototype.init;\n\n// Back Compat <1.8 extension point\njQuery.fx.step = {};\n\n\n\n\nvar\n\tfxNow, timerId,\n\trfxtypes = /^(?:toggle|show|hide)$/,\n\trfxnum = new RegExp( \"^(?:([+-])=|)(\" + pnum + \")([a-z%]*)$\", \"i\" ),\n\trrun = /queueHooks$/,\n\tanimationPrefilters = [ defaultPrefilter ],\n\ttweeners = {\n\t\t\"*\": [ function( prop, value ) {\n\t\t\tvar tween = this.createTween( prop, value ),\n\t\t\t\ttarget = tween.cur(),\n\t\t\t\tparts = rfxnum.exec( value ),\n\t\t\t\tunit = parts && parts[ 3 ] || ( jQuery.cssNumber[ prop ] ? \"\" : \"px\" ),\n\n\t\t\t\t// Starting value computation is required for potential unit mismatches\n\t\t\t\tstart = ( jQuery.cssNumber[ prop ] || unit !== \"px\" && +target ) &&\n\t\t\t\t\trfxnum.exec( jQuery.css( tween.elem, prop ) ),\n\t\t\t\tscale = 1,\n\t\t\t\tmaxIterations = 20;\n\n\t\t\tif ( start && start[ 3 ] !== unit ) {\n\t\t\t\t// Trust units reported by jQuery.css\n\t\t\t\tunit = unit || start[ 3 ];\n\n\t\t\t\t// Make sure we update the tween properties later on\n\t\t\t\tparts = parts || [];\n\n\t\t\t\t// Iteratively approximate from a nonzero starting point\n\t\t\t\tstart = +target || 1;\n\n\t\t\t\tdo {\n\t\t\t\t\t// If previous iteration zeroed out, double until we get *something*\n\t\t\t\t\t// Use a string for doubling factor so we don't accidentally see scale as unchanged below\n\t\t\t\t\tscale = scale || \".5\";\n\n\t\t\t\t\t// Adjust and apply\n\t\t\t\t\tstart = start / scale;\n\t\t\t\t\tjQuery.style( tween.elem, prop, start + unit );\n\n\t\t\t\t// Update scale, tolerating zero or NaN from tween.cur()\n\t\t\t\t// And breaking the loop if scale is unchanged or perfect, or if we've just had enough\n\t\t\t\t} while ( scale !== (scale = tween.cur() / target) && scale !== 1 && --maxIterations );\n\t\t\t}\n\n\t\t\t// Update tween properties\n\t\t\tif ( parts ) {\n\t\t\t\tstart = tween.start = +start || +target || 0;\n\t\t\t\ttween.unit = unit;\n\t\t\t\t// If a +=/-= token was provided, we're doing a relative animation\n\t\t\t\ttween.end = parts[ 1 ] ?\n\t\t\t\t\tstart + ( parts[ 1 ] + 1 ) * parts[ 2 ] :\n\t\t\t\t\t+parts[ 2 ];\n\t\t\t}\n\n\t\t\treturn tween;\n\t\t} ]\n\t};\n\n// Animations created synchronously will run synchronously\nfunction createFxNow() {\n\tsetTimeout(function() {\n\t\tfxNow = undefined;\n\t});\n\treturn ( fxNow = jQuery.now() );\n}\n\n// Generate parameters to create a standard animation\nfunction genFx( type, includeWidth ) {\n\tvar which,\n\t\ti = 0,\n\t\tattrs = { height: type };\n\n\t// if we include width, step value is 1 to do all cssExpand values,\n\t// if we don't include width, step value is 2 to skip over Left and Right\n\tincludeWidth = includeWidth ? 1 : 0;\n\tfor ( ; i < 4 ; i += 2 - includeWidth ) {\n\t\twhich = cssExpand[ i ];\n\t\tattrs[ \"margin\" + which ] = attrs[ \"padding\" + which ] = type;\n\t}\n\n\tif ( includeWidth ) {\n\t\tattrs.opacity = attrs.width = type;\n\t}\n\n\treturn attrs;\n}\n\nfunction createTween( value, prop, animation ) {\n\tvar tween,\n\t\tcollection = ( tweeners[ prop ] || [] ).concat( tweeners[ \"*\" ] ),\n\t\tindex = 0,\n\t\tlength = collection.length;\n\tfor ( ; index < length; index++ ) {\n\t\tif ( (tween = collection[ index ].call( animation, prop, value )) ) {\n\n\t\t\t// we're done with this property\n\t\t\treturn tween;\n\t\t}\n\t}\n}\n\nfunction defaultPrefilter( elem, props, opts ) {\n\t/* jshint validthis: true */\n\tvar prop, value, toggle, tween, hooks, oldfire, display, checkDisplay,\n\t\tanim = this,\n\t\torig = {},\n\t\tstyle = elem.style,\n\t\thidden = elem.nodeType && isHidden( elem ),\n\t\tdataShow = data_priv.get( elem, \"fxshow\" );\n\n\t// handle queue: false promises\n\tif ( !opts.queue ) {\n\t\thooks = jQuery._queueHooks( elem, \"fx\" );\n\t\tif ( hooks.unqueued == null ) {\n\t\t\thooks.unqueued = 0;\n\t\t\toldfire = hooks.empty.fire;\n\t\t\thooks.empty.fire = function() {\n\t\t\t\tif ( !hooks.unqueued ) {\n\t\t\t\t\toldfire();\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\thooks.unqueued++;\n\n\t\tanim.always(function() {\n\t\t\t// doing this makes sure that the complete handler will be called\n\t\t\t// before this completes\n\t\t\tanim.always(function() {\n\t\t\t\thooks.unqueued--;\n\t\t\t\tif ( !jQuery.queue( elem, \"fx\" ).length ) {\n\t\t\t\t\thooks.empty.fire();\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\n\t// height/width overflow pass\n\tif ( elem.nodeType === 1 && ( \"height\" in props || \"width\" in props ) ) {\n\t\t// Make sure that nothing sneaks out\n\t\t// Record all 3 overflow attributes because IE9-10 do not\n\t\t// change the overflow attribute when overflowX and\n\t\t// overflowY are set to the same value\n\t\topts.overflow = [ style.overflow, style.overflowX, style.overflowY ];\n\n\t\t// Set display property to inline-block for height/width\n\t\t// animations on inline elements that are having width/height animated\n\t\tdisplay = jQuery.css( elem, \"display\" );\n\n\t\t// Test default display if display is currently \"none\"\n\t\tcheckDisplay = display === \"none\" ?\n\t\t\tdata_priv.get( elem, \"olddisplay\" ) || defaultDisplay( elem.nodeName ) : display;\n\n\t\tif ( checkDisplay === \"inline\" && jQuery.css( elem, \"float\" ) === \"none\" ) {\n\t\t\tstyle.display = \"inline-block\";\n\t\t}\n\t}\n\n\tif ( opts.overflow ) {\n\t\tstyle.overflow = \"hidden\";\n\t\tanim.always(function() {\n\t\t\tstyle.overflow = opts.overflow[ 0 ];\n\t\t\tstyle.overflowX = opts.overflow[ 1 ];\n\t\t\tstyle.overflowY = opts.overflow[ 2 ];\n\t\t});\n\t}\n\n\t// show/hide pass\n\tfor ( prop in props ) {\n\t\tvalue = props[ prop ];\n\t\tif ( rfxtypes.exec( value ) ) {\n\t\t\tdelete props[ prop ];\n\t\t\ttoggle = toggle || value === \"toggle\";\n\t\t\tif ( value === ( hidden ? \"hide\" : \"show\" ) ) {\n\n\t\t\t\t// If there is dataShow left over from a stopped hide or show and we are going to proceed with show, we should pretend to be hidden\n\t\t\t\tif ( value === \"show\" && dataShow && dataShow[ prop ] !== undefined ) {\n\t\t\t\t\thidden = true;\n\t\t\t\t} else {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t\torig[ prop ] = dataShow && dataShow[ prop ] || jQuery.style( elem, prop );\n\n\t\t// Any non-fx value stops us from restoring the original display value\n\t\t} else {\n\t\t\tdisplay = undefined;\n\t\t}\n\t}\n\n\tif ( !jQuery.isEmptyObject( orig ) ) {\n\t\tif ( dataShow ) {\n\t\t\tif ( \"hidden\" in dataShow ) {\n\t\t\t\thidden = dataShow.hidden;\n\t\t\t}\n\t\t} else {\n\t\t\tdataShow = data_priv.access( elem, \"fxshow\", {} );\n\t\t}\n\n\t\t// store state if its toggle - enables .stop().toggle() to \"reverse\"\n\t\tif ( toggle ) {\n\t\t\tdataShow.hidden = !hidden;\n\t\t}\n\t\tif ( hidden ) {\n\t\t\tjQuery( elem ).show();\n\t\t} else {\n\t\t\tanim.done(function() {\n\t\t\t\tjQuery( elem ).hide();\n\t\t\t});\n\t\t}\n\t\tanim.done(function() {\n\t\t\tvar prop;\n\n\t\t\tdata_priv.remove( elem, \"fxshow\" );\n\t\t\tfor ( prop in orig ) {\n\t\t\t\tjQuery.style( elem, prop, orig[ prop ] );\n\t\t\t}\n\t\t});\n\t\tfor ( prop in orig ) {\n\t\t\ttween = createTween( hidden ? dataShow[ prop ] : 0, prop, anim );\n\n\t\t\tif ( !( prop in dataShow ) ) {\n\t\t\t\tdataShow[ prop ] = tween.start;\n\t\t\t\tif ( hidden ) {\n\t\t\t\t\ttween.end = tween.start;\n\t\t\t\t\ttween.start = prop === \"width\" || prop === \"height\" ? 1 : 0;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t// If this is a noop like .hide().hide(), restore an overwritten display value\n\t} else if ( (display === \"none\" ? defaultDisplay( elem.nodeName ) : display) === \"inline\" ) {\n\t\tstyle.display = display;\n\t}\n}\n\nfunction propFilter( props, specialEasing ) {\n\tvar index, name, easing, value, hooks;\n\n\t// camelCase, specialEasing and expand cssHook pass\n\tfor ( index in props ) {\n\t\tname = jQuery.camelCase( index );\n\t\teasing = specialEasing[ name ];\n\t\tvalue = props[ index ];\n\t\tif ( jQuery.isArray( value ) ) {\n\t\t\teasing = value[ 1 ];\n\t\t\tvalue = props[ index ] = value[ 0 ];\n\t\t}\n\n\t\tif ( index !== name ) {\n\t\t\tprops[ name ] = value;\n\t\t\tdelete props[ index ];\n\t\t}\n\n\t\thooks = jQuery.cssHooks[ name ];\n\t\tif ( hooks && \"expand\" in hooks ) {\n\t\t\tvalue = hooks.expand( value );\n\t\t\tdelete props[ name ];\n\n\t\t\t// not quite $.extend, this wont overwrite keys already present.\n\t\t\t// also - reusing 'index' from above because we have the correct \"name\"\n\t\t\tfor ( index in value ) {\n\t\t\t\tif ( !( index in props ) ) {\n\t\t\t\t\tprops[ index ] = value[ index ];\n\t\t\t\t\tspecialEasing[ index ] = easing;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tspecialEasing[ name ] = easing;\n\t\t}\n\t}\n}\n\nfunction Animation( elem, properties, options ) {\n\tvar result,\n\t\tstopped,\n\t\tindex = 0,\n\t\tlength = animationPrefilters.length,\n\t\tdeferred = jQuery.Deferred().always( function() {\n\t\t\t// don't match elem in the :animated selector\n\t\t\tdelete tick.elem;\n\t\t}),\n\t\ttick = function() {\n\t\t\tif ( stopped ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar currentTime = fxNow || createFxNow(),\n\t\t\t\tremaining = Math.max( 0, animation.startTime + animation.duration - currentTime ),\n\t\t\t\t// archaic crash bug won't allow us to use 1 - ( 0.5 || 0 ) (#12497)\n\t\t\t\ttemp = remaining / animation.duration || 0,\n\t\t\t\tpercent = 1 - temp,\n\t\t\t\tindex = 0,\n\t\t\t\tlength = animation.tweens.length;\n\n\t\t\tfor ( ; index < length ; index++ ) {\n\t\t\t\tanimation.tweens[ index ].run( percent );\n\t\t\t}\n\n\t\t\tdeferred.notifyWith( elem, [ animation, percent, remaining ]);\n\n\t\t\tif ( percent < 1 && length ) {\n\t\t\t\treturn remaining;\n\t\t\t} else {\n\t\t\t\tdeferred.resolveWith( elem, [ animation ] );\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t\tanimation = deferred.promise({\n\t\t\telem: elem,\n\t\t\tprops: jQuery.extend( {}, properties ),\n\t\t\topts: jQuery.extend( true, { specialEasing: {} }, options ),\n\t\t\toriginalProperties: properties,\n\t\t\toriginalOptions: options,\n\t\t\tstartTime: fxNow || createFxNow(),\n\t\t\tduration: options.duration,\n\t\t\ttweens: [],\n\t\t\tcreateTween: function( prop, end ) {\n\t\t\t\tvar tween = jQuery.Tween( elem, animation.opts, prop, end,\n\t\t\t\t\t\tanimation.opts.specialEasing[ prop ] || animation.opts.easing );\n\t\t\t\tanimation.tweens.push( tween );\n\t\t\t\treturn tween;\n\t\t\t},\n\t\t\tstop: function( gotoEnd ) {\n\t\t\t\tvar index = 0,\n\t\t\t\t\t// if we are going to the end, we want to run all the tweens\n\t\t\t\t\t// otherwise we skip this part\n\t\t\t\t\tlength = gotoEnd ? animation.tweens.length : 0;\n\t\t\t\tif ( stopped ) {\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t\tstopped = true;\n\t\t\t\tfor ( ; index < length ; index++ ) {\n\t\t\t\t\tanimation.tweens[ index ].run( 1 );\n\t\t\t\t}\n\n\t\t\t\t// resolve when we played the last frame\n\t\t\t\t// otherwise, reject\n\t\t\t\tif ( gotoEnd ) {\n\t\t\t\t\tdeferred.resolveWith( elem, [ animation, gotoEnd ] );\n\t\t\t\t} else {\n\t\t\t\t\tdeferred.rejectWith( elem, [ animation, gotoEnd ] );\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t}\n\t\t}),\n\t\tprops = animation.props;\n\n\tpropFilter( props, animation.opts.specialEasing );\n\n\tfor ( ; index < length ; index++ ) {\n\t\tresult = animationPrefilters[ index ].call( animation, elem, props, animation.opts );\n\t\tif ( result ) {\n\t\t\treturn result;\n\t\t}\n\t}\n\n\tjQuery.map( props, createTween, animation );\n\n\tif ( jQuery.isFunction( animation.opts.start ) ) {\n\t\tanimation.opts.start.call( elem, animation );\n\t}\n\n\tjQuery.fx.timer(\n\t\tjQuery.extend( tick, {\n\t\t\telem: elem,\n\t\t\tanim: animation,\n\t\t\tqueue: animation.opts.queue\n\t\t})\n\t);\n\n\t// attach callbacks from options\n\treturn animation.progress( animation.opts.progress )\n\t\t.done( animation.opts.done, animation.opts.complete )\n\t\t.fail( animation.opts.fail )\n\t\t.always( animation.opts.always );\n}\n\njQuery.Animation = jQuery.extend( Animation, {\n\n\ttweener: function( props, callback ) {\n\t\tif ( jQuery.isFunction( props ) ) {\n\t\t\tcallback = props;\n\t\t\tprops = [ \"*\" ];\n\t\t} else {\n\t\t\tprops = props.split(\" \");\n\t\t}\n\n\t\tvar prop,\n\t\t\tindex = 0,\n\t\t\tlength = props.length;\n\n\t\tfor ( ; index < length ; index++ ) {\n\t\t\tprop = props[ index ];\n\t\t\ttweeners[ prop ] = tweeners[ prop ] || [];\n\t\t\ttweeners[ prop ].unshift( callback );\n\t\t}\n\t},\n\n\tprefilter: function( callback, prepend ) {\n\t\tif ( prepend ) {\n\t\t\tanimationPrefilters.unshift( callback );\n\t\t} else {\n\t\t\tanimationPrefilters.push( callback );\n\t\t}\n\t}\n});\n\njQuery.speed = function( speed, easing, fn ) {\n\tvar opt = speed && typeof speed === \"object\" ? jQuery.extend( {}, speed ) : {\n\t\tcomplete: fn || !fn && easing ||\n\t\t\tjQuery.isFunction( speed ) && speed,\n\t\tduration: speed,\n\t\teasing: fn && easing || easing && !jQuery.isFunction( easing ) && easing\n\t};\n\n\topt.duration = jQuery.fx.off ? 0 : typeof opt.duration === \"number\" ? opt.duration :\n\t\topt.duration in jQuery.fx.speeds ? jQuery.fx.speeds[ opt.duration ] : jQuery.fx.speeds._default;\n\n\t// normalize opt.queue - true/undefined/null -> \"fx\"\n\tif ( opt.queue == null || opt.queue === true ) {\n\t\topt.queue = \"fx\";\n\t}\n\n\t// Queueing\n\topt.old = opt.complete;\n\n\topt.complete = function() {\n\t\tif ( jQuery.isFunction( opt.old ) ) {\n\t\t\topt.old.call( this );\n\t\t}\n\n\t\tif ( opt.queue ) {\n\t\t\tjQuery.dequeue( this, opt.queue );\n\t\t}\n\t};\n\n\treturn opt;\n};\n\njQuery.fn.extend({\n\tfadeTo: function( speed, to, easing, callback ) {\n\n\t\t// show any hidden elements after setting opacity to 0\n\t\treturn this.filter( isHidden ).css( \"opacity\", 0 ).show()\n\n\t\t\t// animate to the value specified\n\t\t\t.end().animate({ opacity: to }, speed, easing, callback );\n\t},\n\tanimate: function( prop, speed, easing, callback ) {\n\t\tvar empty = jQuery.isEmptyObject( prop ),\n\t\t\toptall = jQuery.speed( speed, easing, callback ),\n\t\t\tdoAnimation = function() {\n\t\t\t\t// Operate on a copy of prop so per-property easing won't be lost\n\t\t\t\tvar anim = Animation( this, jQuery.extend( {}, prop ), optall );\n\n\t\t\t\t// Empty animations, or finishing resolves immediately\n\t\t\t\tif ( empty || data_priv.get( this, \"finish\" ) ) {\n\t\t\t\t\tanim.stop( true );\n\t\t\t\t}\n\t\t\t};\n\t\t\tdoAnimation.finish = doAnimation;\n\n\t\treturn empty || optall.queue === false ?\n\t\t\tthis.each( doAnimation ) :\n\t\t\tthis.queue( optall.queue, doAnimation );\n\t},\n\tstop: function( type, clearQueue, gotoEnd ) {\n\t\tvar stopQueue = function( hooks ) {\n\t\t\tvar stop = hooks.stop;\n\t\t\tdelete hooks.stop;\n\t\t\tstop( gotoEnd );\n\t\t};\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tgotoEnd = clearQueue;\n\t\t\tclearQueue = type;\n\t\t\ttype = undefined;\n\t\t}\n\t\tif ( clearQueue && type !== false ) {\n\t\t\tthis.queue( type || \"fx\", [] );\n\t\t}\n\n\t\treturn this.each(function() {\n\t\t\tvar dequeue = true,\n\t\t\t\tindex = type != null && type + \"queueHooks\",\n\t\t\t\ttimers = jQuery.timers,\n\t\t\t\tdata = data_priv.get( this );\n\n\t\t\tif ( index ) {\n\t\t\t\tif ( data[ index ] && data[ index ].stop ) {\n\t\t\t\t\tstopQueue( data[ index ] );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor ( index in data ) {\n\t\t\t\t\tif ( data[ index ] && data[ index ].stop && rrun.test( index ) ) {\n\t\t\t\t\t\tstopQueue( data[ index ] );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor ( index = timers.length; index--; ) {\n\t\t\t\tif ( timers[ index ].elem === this && (type == null || timers[ index ].queue === type) ) {\n\t\t\t\t\ttimers[ index ].anim.stop( gotoEnd );\n\t\t\t\t\tdequeue = false;\n\t\t\t\t\ttimers.splice( index, 1 );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// start the next in the queue if the last step wasn't forced\n\t\t\t// timers currently will call their complete callbacks, which will dequeue\n\t\t\t// but only if they were gotoEnd\n\t\t\tif ( dequeue || !gotoEnd ) {\n\t\t\t\tjQuery.dequeue( this, type );\n\t\t\t}\n\t\t});\n\t},\n\tfinish: function( type ) {\n\t\tif ( type !== false ) {\n\t\t\ttype = type || \"fx\";\n\t\t}\n\t\treturn this.each(function() {\n\t\t\tvar index,\n\t\t\t\tdata = data_priv.get( this ),\n\t\t\t\tqueue = data[ type + \"queue\" ],\n\t\t\t\thooks = data[ type + \"queueHooks\" ],\n\t\t\t\ttimers = jQuery.timers,\n\t\t\t\tlength = queue ? queue.length : 0;\n\n\t\t\t// enable finishing flag on private data\n\t\t\tdata.finish = true;\n\n\t\t\t// empty the queue first\n\t\t\tjQuery.queue( this, type, [] );\n\n\t\t\tif ( hooks && hooks.stop ) {\n\t\t\t\thooks.stop.call( this, true );\n\t\t\t}\n\n\t\t\t// look for any active animations, and finish them\n\t\t\tfor ( index = timers.length; index--; ) {\n\t\t\t\tif ( timers[ index ].elem === this && timers[ index ].queue === type ) {\n\t\t\t\t\ttimers[ index ].anim.stop( true );\n\t\t\t\t\ttimers.splice( index, 1 );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// look for any animations in the old queue and finish them\n\t\t\tfor ( index = 0; index < length; index++ ) {\n\t\t\t\tif ( queue[ index ] && queue[ index ].finish ) {\n\t\t\t\t\tqueue[ index ].finish.call( this );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// turn off finishing flag\n\t\t\tdelete data.finish;\n\t\t});\n\t}\n});\n\njQuery.each([ \"toggle\", \"show\", \"hide\" ], function( i, name ) {\n\tvar cssFn = jQuery.fn[ name ];\n\tjQuery.fn[ name ] = function( speed, easing, callback ) {\n\t\treturn speed == null || typeof speed === \"boolean\" ?\n\t\t\tcssFn.apply( this, arguments ) :\n\t\t\tthis.animate( genFx( name, true ), speed, easing, callback );\n\t};\n});\n\n// Generate shortcuts for custom animations\njQuery.each({\n\tslideDown: genFx(\"show\"),\n\tslideUp: genFx(\"hide\"),\n\tslideToggle: genFx(\"toggle\"),\n\tfadeIn: { opacity: \"show\" },\n\tfadeOut: { opacity: \"hide\" },\n\tfadeToggle: { opacity: \"toggle\" }\n}, function( name, props ) {\n\tjQuery.fn[ name ] = function( speed, easing, callback ) {\n\t\treturn this.animate( props, speed, easing, callback );\n\t};\n});\n\njQuery.timers = [];\njQuery.fx.tick = function() {\n\tvar timer,\n\t\ti = 0,\n\t\ttimers = jQuery.timers;\n\n\tfxNow = jQuery.now();\n\n\tfor ( ; i < timers.length; i++ ) {\n\t\ttimer = timers[ i ];\n\t\t// Checks the timer has not already been removed\n\t\tif ( !timer() && timers[ i ] === timer ) {\n\t\t\ttimers.splice( i--, 1 );\n\t\t}\n\t}\n\n\tif ( !timers.length ) {\n\t\tjQuery.fx.stop();\n\t}\n\tfxNow = undefined;\n};\n\njQuery.fx.timer = function( timer ) {\n\tjQuery.timers.push( timer );\n\tif ( timer() ) {\n\t\tjQuery.fx.start();\n\t} else {\n\t\tjQuery.timers.pop();\n\t}\n};\n\njQuery.fx.interval = 13;\n\njQuery.fx.start = function() {\n\tif ( !timerId ) {\n\t\ttimerId = setInterval( jQuery.fx.tick, jQuery.fx.interval );\n\t}\n};\n\njQuery.fx.stop = function() {\n\tclearInterval( timerId );\n\ttimerId = null;\n};\n\njQuery.fx.speeds = {\n\tslow: 600,\n\tfast: 200,\n\t// Default speed\n\t_default: 400\n};\n\n\n// Based off of the plugin by Clint Helfers, with permission.\n// http://blindsignals.com/index.php/2009/07/jquery-delay/\njQuery.fn.delay = function( time, type ) {\n\ttime = jQuery.fx ? jQuery.fx.speeds[ time ] || time : time;\n\ttype = type || \"fx\";\n\n\treturn this.queue( type, function( next, hooks ) {\n\t\tvar timeout = setTimeout( next, time );\n\t\thooks.stop = function() {\n\t\t\tclearTimeout( timeout );\n\t\t};\n\t});\n};\n\n\n(function() {\n\tvar input = document.createElement( \"input\" ),\n\t\tselect = document.createElement( \"select\" ),\n\t\topt = select.appendChild( document.createElement( \"option\" ) );\n\n\tinput.type = \"checkbox\";\n\n\t// Support: iOS 5.1, Android 4.x, Android 2.3\n\t// Check the default checkbox/radio value (\"\" on old WebKit; \"on\" elsewhere)\n\tsupport.checkOn = input.value !== \"\";\n\n\t// Must access the parent to make an option select properly\n\t// Support: IE9, IE10\n\tsupport.optSelected = opt.selected;\n\n\t// Make sure that the options inside disabled selects aren't marked as disabled\n\t// (WebKit marks them as disabled)\n\tselect.disabled = true;\n\tsupport.optDisabled = !opt.disabled;\n\n\t// Check if an input maintains its value after becoming a radio\n\t// Support: IE9, IE10\n\tinput = document.createElement( \"input\" );\n\tinput.value = \"t\";\n\tinput.type = \"radio\";\n\tsupport.radioValue = input.value === \"t\";\n})();\n\n\nvar nodeHook, boolHook,\n\tattrHandle = jQuery.expr.attrHandle;\n\njQuery.fn.extend({\n\tattr: function( name, value ) {\n\t\treturn access( this, jQuery.attr, name, value, arguments.length > 1 );\n\t},\n\n\tremoveAttr: function( name ) {\n\t\treturn this.each(function() {\n\t\t\tjQuery.removeAttr( this, name );\n\t\t});\n\t}\n});\n\njQuery.extend({\n\tattr: function( elem, name, value ) {\n\t\tvar hooks, ret,\n\t\t\tnType = elem.nodeType;\n\n\t\t// don't get/set attributes on text, comment and attribute nodes\n\t\tif ( !elem || nType === 3 || nType === 8 || nType === 2 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Fallback to prop when attributes are not supported\n\t\tif ( typeof elem.getAttribute === strundefined ) {\n\t\t\treturn jQuery.prop( elem, name, value );\n\t\t}\n\n\t\t// All attributes are lowercase\n\t\t// Grab necessary hook if one is defined\n\t\tif ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {\n\t\t\tname = name.toLowerCase();\n\t\t\thooks = jQuery.attrHooks[ name ] ||\n\t\t\t\t( jQuery.expr.match.bool.test( name ) ? boolHook : nodeHook );\n\t\t}\n\n\t\tif ( value !== undefined ) {\n\n\t\t\tif ( value === null ) {\n\t\t\t\tjQuery.removeAttr( elem, name );\n\n\t\t\t} else if ( hooks && \"set\" in hooks && (ret = hooks.set( elem, value, name )) !== undefined ) {\n\t\t\t\treturn ret;\n\n\t\t\t} else {\n\t\t\t\telem.setAttribute( name, value + \"\" );\n\t\t\t\treturn value;\n\t\t\t}\n\n\t\t} else if ( hooks && \"get\" in hooks && (ret = hooks.get( elem, name )) !== null ) {\n\t\t\treturn ret;\n\n\t\t} else {\n\t\t\tret = jQuery.find.attr( elem, name );\n\n\t\t\t// Non-existent attributes return null, we normalize to undefined\n\t\t\treturn ret == null ?\n\t\t\t\tundefined :\n\t\t\t\tret;\n\t\t}\n\t},\n\n\tremoveAttr: function( elem, value ) {\n\t\tvar name, propName,\n\t\t\ti = 0,\n\t\t\tattrNames = value && value.match( rnotwhite );\n\n\t\tif ( attrNames && elem.nodeType === 1 ) {\n\t\t\twhile ( (name = attrNames[i++]) ) {\n\t\t\t\tpropName = jQuery.propFix[ name ] || name;\n\n\t\t\t\t// Boolean attributes get special treatment (#10870)\n\t\t\t\tif ( jQuery.expr.match.bool.test( name ) ) {\n\t\t\t\t\t// Set corresponding property to false\n\t\t\t\t\telem[ propName ] = false;\n\t\t\t\t}\n\n\t\t\t\telem.removeAttribute( name );\n\t\t\t}\n\t\t}\n\t},\n\n\tattrHooks: {\n\t\ttype: {\n\t\t\tset: function( elem, value ) {\n\t\t\t\tif ( !support.radioValue && value === \"radio\" &&\n\t\t\t\t\tjQuery.nodeName( elem, \"input\" ) ) {\n\t\t\t\t\t// Setting the type on a radio button after the value resets the value in IE6-9\n\t\t\t\t\t// Reset value to default in case type is set after value during creation\n\t\t\t\t\tvar val = elem.value;\n\t\t\t\t\telem.setAttribute( \"type\", value );\n\t\t\t\t\tif ( val ) {\n\t\t\t\t\t\telem.value = val;\n\t\t\t\t\t}\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n});\n\n// Hooks for boolean attributes\nboolHook = {\n\tset: function( elem, value, name ) {\n\t\tif ( value === false ) {\n\t\t\t// Remove boolean attributes when set to false\n\t\t\tjQuery.removeAttr( elem, name );\n\t\t} else {\n\t\t\telem.setAttribute( name, name );\n\t\t}\n\t\treturn name;\n\t}\n};\njQuery.each( jQuery.expr.match.bool.source.match( /\\w+/g ), function( i, name ) {\n\tvar getter = attrHandle[ name ] || jQuery.find.attr;\n\n\tattrHandle[ name ] = function( elem, name, isXML ) {\n\t\tvar ret, handle;\n\t\tif ( !isXML ) {\n\t\t\t// Avoid an infinite loop by temporarily removing this function from the getter\n\t\t\thandle = attrHandle[ name ];\n\t\t\tattrHandle[ name ] = ret;\n\t\t\tret = getter( elem, name, isXML ) != null ?\n\t\t\t\tname.toLowerCase() :\n\t\t\t\tnull;\n\t\t\tattrHandle[ name ] = handle;\n\t\t}\n\t\treturn ret;\n\t};\n});\n\n\n\n\nvar rfocusable = /^(?:input|select|textarea|button)$/i;\n\njQuery.fn.extend({\n\tprop: function( name, value ) {\n\t\treturn access( this, jQuery.prop, name, value, arguments.length > 1 );\n\t},\n\n\tremoveProp: function( name ) {\n\t\treturn this.each(function() {\n\t\t\tdelete this[ jQuery.propFix[ name ] || name ];\n\t\t});\n\t}\n});\n\njQuery.extend({\n\tpropFix: {\n\t\t\"for\": \"htmlFor\",\n\t\t\"class\": \"className\"\n\t},\n\n\tprop: function( elem, name, value ) {\n\t\tvar ret, hooks, notxml,\n\t\t\tnType = elem.nodeType;\n\n\t\t// don't get/set properties on text, comment and attribute nodes\n\t\tif ( !elem || nType === 3 || nType === 8 || nType === 2 ) {\n\t\t\treturn;\n\t\t}\n\n\t\tnotxml = nType !== 1 || !jQuery.isXMLDoc( elem );\n\n\t\tif ( notxml ) {\n\t\t\t// Fix name and attach hooks\n\t\t\tname = jQuery.propFix[ name ] || name;\n\t\t\thooks = jQuery.propHooks[ name ];\n\t\t}\n\n\t\tif ( value !== undefined ) {\n\t\t\treturn hooks && \"set\" in hooks && (ret = hooks.set( elem, value, name )) !== undefined ?\n\t\t\t\tret :\n\t\t\t\t( elem[ name ] = value );\n\n\t\t} else {\n\t\t\treturn hooks && \"get\" in hooks && (ret = hooks.get( elem, name )) !== null ?\n\t\t\t\tret :\n\t\t\t\telem[ name ];\n\t\t}\n\t},\n\n\tpropHooks: {\n\t\ttabIndex: {\n\t\t\tget: function( elem ) {\n\t\t\t\treturn elem.hasAttribute( \"tabindex\" ) || rfocusable.test( elem.nodeName ) || elem.href ?\n\t\t\t\t\telem.tabIndex :\n\t\t\t\t\t-1;\n\t\t\t}\n\t\t}\n\t}\n});\n\n// Support: IE9+\n// Selectedness for an option in an optgroup can be inaccurate\nif ( !support.optSelected ) {\n\tjQuery.propHooks.selected = {\n\t\tget: function( elem ) {\n\t\t\tvar parent = elem.parentNode;\n\t\t\tif ( parent && parent.parentNode ) {\n\t\t\t\tparent.parentNode.selectedIndex;\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\t};\n}\n\njQuery.each([\n\t\"tabIndex\",\n\t\"readOnly\",\n\t\"maxLength\",\n\t\"cellSpacing\",\n\t\"cellPadding\",\n\t\"rowSpan\",\n\t\"colSpan\",\n\t\"useMap\",\n\t\"frameBorder\",\n\t\"contentEditable\"\n], function() {\n\tjQuery.propFix[ this.toLowerCase() ] = this;\n});\n\n\n\n\nvar rclass = /[\\t\\r\\n\\f]/g;\n\njQuery.fn.extend({\n\taddClass: function( value ) {\n\t\tvar classes, elem, cur, clazz, j, finalValue,\n\t\t\tproceed = typeof value === \"string\" && value,\n\t\t\ti = 0,\n\t\t\tlen = this.length;\n\n\t\tif ( jQuery.isFunction( value ) ) {\n\t\t\treturn this.each(function( j ) {\n\t\t\t\tjQuery( this ).addClass( value.call( this, j, this.className ) );\n\t\t\t});\n\t\t}\n\n\t\tif ( proceed ) {\n\t\t\t// The disjunction here is for better compressibility (see removeClass)\n\t\t\tclasses = ( value || \"\" ).match( rnotwhite ) || [];\n\n\t\t\tfor ( ; i < len; i++ ) {\n\t\t\t\telem = this[ i ];\n\t\t\t\tcur = elem.nodeType === 1 && ( elem.className ?\n\t\t\t\t\t( \" \" + elem.className + \" \" ).replace( rclass, \" \" ) :\n\t\t\t\t\t\" \"\n\t\t\t\t);\n\n\t\t\t\tif ( cur ) {\n\t\t\t\t\tj = 0;\n\t\t\t\t\twhile ( (clazz = classes[j++]) ) {\n\t\t\t\t\t\tif ( cur.indexOf( \" \" + clazz + \" \" ) < 0 ) {\n\t\t\t\t\t\t\tcur += clazz + \" \";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// only assign if different to avoid unneeded rendering.\n\t\t\t\t\tfinalValue = jQuery.trim( cur );\n\t\t\t\t\tif ( elem.className !== finalValue ) {\n\t\t\t\t\t\telem.className = finalValue;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tremoveClass: function( value ) {\n\t\tvar classes, elem, cur, clazz, j, finalValue,\n\t\t\tproceed = arguments.length === 0 || typeof value === \"string\" && value,\n\t\t\ti = 0,\n\t\t\tlen = this.length;\n\n\t\tif ( jQuery.isFunction( value ) ) {\n\t\t\treturn this.each(function( j ) {\n\t\t\t\tjQuery( this ).removeClass( value.call( this, j, this.className ) );\n\t\t\t});\n\t\t}\n\t\tif ( proceed ) {\n\t\t\tclasses = ( value || \"\" ).match( rnotwhite ) || [];\n\n\t\t\tfor ( ; i < len; i++ ) {\n\t\t\t\telem = this[ i ];\n\t\t\t\t// This expression is here for better compressibility (see addClass)\n\t\t\t\tcur = elem.nodeType === 1 && ( elem.className ?\n\t\t\t\t\t( \" \" + elem.className + \" \" ).replace( rclass, \" \" ) :\n\t\t\t\t\t\"\"\n\t\t\t\t);\n\n\t\t\t\tif ( cur ) {\n\t\t\t\t\tj = 0;\n\t\t\t\t\twhile ( (clazz = classes[j++]) ) {\n\t\t\t\t\t\t// Remove *all* instances\n\t\t\t\t\t\twhile ( cur.indexOf( \" \" + clazz + \" \" ) >= 0 ) {\n\t\t\t\t\t\t\tcur = cur.replace( \" \" + clazz + \" \", \" \" );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// only assign if different to avoid unneeded rendering.\n\t\t\t\t\tfinalValue = value ? jQuery.trim( cur ) : \"\";\n\t\t\t\t\tif ( elem.className !== finalValue ) {\n\t\t\t\t\t\telem.className = finalValue;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\ttoggleClass: function( value, stateVal ) {\n\t\tvar type = typeof value;\n\n\t\tif ( typeof stateVal === \"boolean\" && type === \"string\" ) {\n\t\t\treturn stateVal ? this.addClass( value ) : this.removeClass( value );\n\t\t}\n\n\t\tif ( jQuery.isFunction( value ) ) {\n\t\t\treturn this.each(function( i ) {\n\t\t\t\tjQuery( this ).toggleClass( value.call(this, i, this.className, stateVal), stateVal );\n\t\t\t});\n\t\t}\n\n\t\treturn this.each(function() {\n\t\t\tif ( type === \"string\" ) {\n\t\t\t\t// toggle individual class names\n\t\t\t\tvar className,\n\t\t\t\t\ti = 0,\n\t\t\t\t\tself = jQuery( this ),\n\t\t\t\t\tclassNames = value.match( rnotwhite ) || [];\n\n\t\t\t\twhile ( (className = classNames[ i++ ]) ) {\n\t\t\t\t\t// check each className given, space separated list\n\t\t\t\t\tif ( self.hasClass( className ) ) {\n\t\t\t\t\t\tself.removeClass( className );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.addClass( className );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t// Toggle whole class name\n\t\t\t} else if ( type === strundefined || type === \"boolean\" ) {\n\t\t\t\tif ( this.className ) {\n\t\t\t\t\t// store className if set\n\t\t\t\t\tdata_priv.set( this, \"__className__\", this.className );\n\t\t\t\t}\n\n\t\t\t\t// If the element has a class name or if we're passed \"false\",\n\t\t\t\t// then remove the whole classname (if there was one, the above saved it).\n\t\t\t\t// Otherwise bring back whatever was previously saved (if anything),\n\t\t\t\t// falling back to the empty string if nothing was stored.\n\t\t\t\tthis.className = this.className || value === false ? \"\" : data_priv.get( this, \"__className__\" ) || \"\";\n\t\t\t}\n\t\t});\n\t},\n\n\thasClass: function( selector ) {\n\t\tvar className = \" \" + selector + \" \",\n\t\t\ti = 0,\n\t\t\tl = this.length;\n\t\tfor ( ; i < l; i++ ) {\n\t\t\tif ( this[i].nodeType === 1 && (\" \" + this[i].className + \" \").replace(rclass, \" \").indexOf( className ) >= 0 ) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n});\n\n\n\n\nvar rreturn = /\\r/g;\n\njQuery.fn.extend({\n\tval: function( value ) {\n\t\tvar hooks, ret, isFunction,\n\t\t\telem = this[0];\n\n\t\tif ( !arguments.length ) {\n\t\t\tif ( elem ) {\n\t\t\t\thooks = jQuery.valHooks[ elem.type ] || jQuery.valHooks[ elem.nodeName.toLowerCase() ];\n\n\t\t\t\tif ( hooks && \"get\" in hooks && (ret = hooks.get( elem, \"value\" )) !== undefined ) {\n\t\t\t\t\treturn ret;\n\t\t\t\t}\n\n\t\t\t\tret = elem.value;\n\n\t\t\t\treturn typeof ret === \"string\" ?\n\t\t\t\t\t// handle most common string cases\n\t\t\t\t\tret.replace(rreturn, \"\") :\n\t\t\t\t\t// handle cases where value is null/undef or number\n\t\t\t\t\tret == null ? \"\" : ret;\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\tisFunction = jQuery.isFunction( value );\n\n\t\treturn this.each(function( i ) {\n\t\t\tvar val;\n\n\t\t\tif ( this.nodeType !== 1 ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( isFunction ) {\n\t\t\t\tval = value.call( this, i, jQuery( this ).val() );\n\t\t\t} else {\n\t\t\t\tval = value;\n\t\t\t}\n\n\t\t\t// Treat null/undefined as \"\"; convert numbers to string\n\t\t\tif ( val == null ) {\n\t\t\t\tval = \"\";\n\n\t\t\t} else if ( typeof val === \"number\" ) {\n\t\t\t\tval += \"\";\n\n\t\t\t} else if ( jQuery.isArray( val ) ) {\n\t\t\t\tval = jQuery.map( val, function( value ) {\n\t\t\t\t\treturn value == null ? \"\" : value + \"\";\n\t\t\t\t});\n\t\t\t}\n\n\t\t\thooks = jQuery.valHooks[ this.type ] || jQuery.valHooks[ this.nodeName.toLowerCase() ];\n\n\t\t\t// If set returns undefined, fall back to normal setting\n\t\t\tif ( !hooks || !(\"set\" in hooks) || hooks.set( this, val, \"value\" ) === undefined ) {\n\t\t\t\tthis.value = val;\n\t\t\t}\n\t\t});\n\t}\n});\n\njQuery.extend({\n\tvalHooks: {\n\t\toption: {\n\t\t\tget: function( elem ) {\n\t\t\t\tvar val = jQuery.find.attr( elem, \"value\" );\n\t\t\t\treturn val != null ?\n\t\t\t\t\tval :\n\t\t\t\t\t// Support: IE10-11+\n\t\t\t\t\t// option.text throws exceptions (#14686, #14858)\n\t\t\t\t\tjQuery.trim( jQuery.text( elem ) );\n\t\t\t}\n\t\t},\n\t\tselect: {\n\t\t\tget: function( elem ) {\n\t\t\t\tvar value, option,\n\t\t\t\t\toptions = elem.options,\n\t\t\t\t\tindex = elem.selectedIndex,\n\t\t\t\t\tone = elem.type === \"select-one\" || index < 0,\n\t\t\t\t\tvalues = one ? null : [],\n\t\t\t\t\tmax = one ? index + 1 : options.length,\n\t\t\t\t\ti = index < 0 ?\n\t\t\t\t\t\tmax :\n\t\t\t\t\t\tone ? index : 0;\n\n\t\t\t\t// Loop through all the selected options\n\t\t\t\tfor ( ; i < max; i++ ) {\n\t\t\t\t\toption = options[ i ];\n\n\t\t\t\t\t// IE6-9 doesn't update selected after form reset (#2551)\n\t\t\t\t\tif ( ( option.selected || i === index ) &&\n\t\t\t\t\t\t\t// Don't return options that are disabled or in a disabled optgroup\n\t\t\t\t\t\t\t( support.optDisabled ? !option.disabled : option.getAttribute( \"disabled\" ) === null ) &&\n\t\t\t\t\t\t\t( !option.parentNode.disabled || !jQuery.nodeName( option.parentNode, \"optgroup\" ) ) ) {\n\n\t\t\t\t\t\t// Get the specific value for the option\n\t\t\t\t\t\tvalue = jQuery( option ).val();\n\n\t\t\t\t\t\t// We don't need an array for one selects\n\t\t\t\t\t\tif ( one ) {\n\t\t\t\t\t\t\treturn value;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Multi-Selects return an array\n\t\t\t\t\t\tvalues.push( value );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn values;\n\t\t\t},\n\n\t\t\tset: function( elem, value ) {\n\t\t\t\tvar optionSet, option,\n\t\t\t\t\toptions = elem.options,\n\t\t\t\t\tvalues = jQuery.makeArray( value ),\n\t\t\t\t\ti = options.length;\n\n\t\t\t\twhile ( i-- ) {\n\t\t\t\t\toption = options[ i ];\n\t\t\t\t\tif ( (option.selected = jQuery.inArray( option.value, values ) >= 0) ) {\n\t\t\t\t\t\toptionSet = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// force browsers to behave consistently when non-matching value is set\n\t\t\t\tif ( !optionSet ) {\n\t\t\t\t\telem.selectedIndex = -1;\n\t\t\t\t}\n\t\t\t\treturn values;\n\t\t\t}\n\t\t}\n\t}\n});\n\n// Radios and checkboxes getter/setter\njQuery.each([ \"radio\", \"checkbox\" ], function() {\n\tjQuery.valHooks[ this ] = {\n\t\tset: function( elem, value ) {\n\t\t\tif ( jQuery.isArray( value ) ) {\n\t\t\t\treturn ( elem.checked = jQuery.inArray( jQuery(elem).val(), value ) >= 0 );\n\t\t\t}\n\t\t}\n\t};\n\tif ( !support.checkOn ) {\n\t\tjQuery.valHooks[ this ].get = function( elem ) {\n\t\t\t// Support: Webkit\n\t\t\t// \"\" is returned instead of \"on\" if a value isn't specified\n\t\t\treturn elem.getAttribute(\"value\") === null ? \"on\" : elem.value;\n\t\t};\n\t}\n});\n\n\n\n\n// Return jQuery for attributes-only inclusion\n\n\njQuery.each( (\"blur focus focusin focusout load resize scroll unload click dblclick \" +\n\t\"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave \" +\n\t\"change select submit keydown keypress keyup error contextmenu\").split(\" \"), function( i, name ) {\n\n\t// Handle event binding\n\tjQuery.fn[ name ] = function( data, fn ) {\n\t\treturn arguments.length > 0 ?\n\t\t\tthis.on( name, null, data, fn ) :\n\t\t\tthis.trigger( name );\n\t};\n});\n\njQuery.fn.extend({\n\thover: function( fnOver, fnOut ) {\n\t\treturn this.mouseenter( fnOver ).mouseleave( fnOut || fnOver );\n\t},\n\n\tbind: function( types, data, fn ) {\n\t\treturn this.on( types, null, data, fn );\n\t},\n\tunbind: function( types, fn ) {\n\t\treturn this.off( types, null, fn );\n\t},\n\n\tdelegate: function( selector, types, data, fn ) {\n\t\treturn this.on( types, selector, data, fn );\n\t},\n\tundelegate: function( selector, types, fn ) {\n\t\t// ( namespace ) or ( selector, types [, fn] )\n\t\treturn arguments.length === 1 ? this.off( selector, \"**\" ) : this.off( types, selector || \"**\", fn );\n\t}\n});\n\n\nvar nonce = jQuery.now();\n\nvar rquery = (/\\?/);\n\n\n\n// Support: Android 2.3\n// Workaround failure to string-cast null input\njQuery.parseJSON = function( data ) {\n\treturn JSON.parse( data + \"\" );\n};\n\n\n// Cross-browser xml parsing\njQuery.parseXML = function( data ) {\n\tvar xml, tmp;\n\tif ( !data || typeof data !== \"string\" ) {\n\t\treturn null;\n\t}\n\n\t// Support: IE9\n\ttry {\n\t\ttmp = new DOMParser();\n\t\txml = tmp.parseFromString( data, \"text/xml\" );\n\t} catch ( e ) {\n\t\txml = undefined;\n\t}\n\n\tif ( !xml || xml.getElementsByTagName( \"parsererror\" ).length ) {\n\t\tjQuery.error( \"Invalid XML: \" + data );\n\t}\n\treturn xml;\n};\n\n\nvar\n\t// Document location\n\tajaxLocParts,\n\tajaxLocation,\n\n\trhash = /#.*$/,\n\trts = /([?&])_=[^&]*/,\n\trheaders = /^(.*?):[ \\t]*([^\\r\\n]*)$/mg,\n\t// #7653, #8125, #8152: local protocol detection\n\trlocalProtocol = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,\n\trnoContent = /^(?:GET|HEAD)$/,\n\trprotocol = /^\\/\\//,\n\trurl = /^([\\w.+-]+:)(?:\\/\\/(?:[^\\/?#]*@|)([^\\/?#:]*)(?::(\\d+)|)|)/,\n\n\t/* Prefilters\n\t * 1) They are useful to introduce custom dataTypes (see ajax/jsonp.js for an example)\n\t * 2) These are called:\n\t *    - BEFORE asking for a transport\n\t *    - AFTER param serialization (s.data is a string if s.processData is true)\n\t * 3) key is the dataType\n\t * 4) the catchall symbol \"*\" can be used\n\t * 5) execution will start with transport dataType and THEN continue down to \"*\" if needed\n\t */\n\tprefilters = {},\n\n\t/* Transports bindings\n\t * 1) key is the dataType\n\t * 2) the catchall symbol \"*\" can be used\n\t * 3) selection will start with transport dataType and THEN go to \"*\" if needed\n\t */\n\ttransports = {},\n\n\t// Avoid comment-prolog char sequence (#10098); must appease lint and evade compression\n\tallTypes = \"*/\".concat(\"*\");\n\n// #8138, IE may throw an exception when accessing\n// a field from window.location if document.domain has been set\ntry {\n\tajaxLocation = location.href;\n} catch( e ) {\n\t// Use the href attribute of an A element\n\t// since IE will modify it given document.location\n\tajaxLocation = document.createElement( \"a\" );\n\tajaxLocation.href = \"\";\n\tajaxLocation = ajaxLocation.href;\n}\n\n// Segment location into parts\najaxLocParts = rurl.exec( ajaxLocation.toLowerCase() ) || [];\n\n// Base \"constructor\" for jQuery.ajaxPrefilter and jQuery.ajaxTransport\nfunction addToPrefiltersOrTransports( structure ) {\n\n\t// dataTypeExpression is optional and defaults to \"*\"\n\treturn function( dataTypeExpression, func ) {\n\n\t\tif ( typeof dataTypeExpression !== \"string\" ) {\n\t\t\tfunc = dataTypeExpression;\n\t\t\tdataTypeExpression = \"*\";\n\t\t}\n\n\t\tvar dataType,\n\t\t\ti = 0,\n\t\t\tdataTypes = dataTypeExpression.toLowerCase().match( rnotwhite ) || [];\n\n\t\tif ( jQuery.isFunction( func ) ) {\n\t\t\t// For each dataType in the dataTypeExpression\n\t\t\twhile ( (dataType = dataTypes[i++]) ) {\n\t\t\t\t// Prepend if requested\n\t\t\t\tif ( dataType[0] === \"+\" ) {\n\t\t\t\t\tdataType = dataType.slice( 1 ) || \"*\";\n\t\t\t\t\t(structure[ dataType ] = structure[ dataType ] || []).unshift( func );\n\n\t\t\t\t// Otherwise append\n\t\t\t\t} else {\n\t\t\t\t\t(structure[ dataType ] = structure[ dataType ] || []).push( func );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n}\n\n// Base inspection function for prefilters and transports\nfunction inspectPrefiltersOrTransports( structure, options, originalOptions, jqXHR ) {\n\n\tvar inspected = {},\n\t\tseekingTransport = ( structure === transports );\n\n\tfunction inspect( dataType ) {\n\t\tvar selected;\n\t\tinspected[ dataType ] = true;\n\t\tjQuery.each( structure[ dataType ] || [], function( _, prefilterOrFactory ) {\n\t\t\tvar dataTypeOrTransport = prefilterOrFactory( options, originalOptions, jqXHR );\n\t\t\tif ( typeof dataTypeOrTransport === \"string\" && !seekingTransport && !inspected[ dataTypeOrTransport ] ) {\n\t\t\t\toptions.dataTypes.unshift( dataTypeOrTransport );\n\t\t\t\tinspect( dataTypeOrTransport );\n\t\t\t\treturn false;\n\t\t\t} else if ( seekingTransport ) {\n\t\t\t\treturn !( selected = dataTypeOrTransport );\n\t\t\t}\n\t\t});\n\t\treturn selected;\n\t}\n\n\treturn inspect( options.dataTypes[ 0 ] ) || !inspected[ \"*\" ] && inspect( \"*\" );\n}\n\n// A special extend for ajax options\n// that takes \"flat\" options (not to be deep extended)\n// Fixes #9887\nfunction ajaxExtend( target, src ) {\n\tvar key, deep,\n\t\tflatOptions = jQuery.ajaxSettings.flatOptions || {};\n\n\tfor ( key in src ) {\n\t\tif ( src[ key ] !== undefined ) {\n\t\t\t( flatOptions[ key ] ? target : ( deep || (deep = {}) ) )[ key ] = src[ key ];\n\t\t}\n\t}\n\tif ( deep ) {\n\t\tjQuery.extend( true, target, deep );\n\t}\n\n\treturn target;\n}\n\n/* Handles responses to an ajax request:\n * - finds the right dataType (mediates between content-type and expected dataType)\n * - returns the corresponding response\n */\nfunction ajaxHandleResponses( s, jqXHR, responses ) {\n\n\tvar ct, type, finalDataType, firstDataType,\n\t\tcontents = s.contents,\n\t\tdataTypes = s.dataTypes;\n\n\t// Remove auto dataType and get content-type in the process\n\twhile ( dataTypes[ 0 ] === \"*\" ) {\n\t\tdataTypes.shift();\n\t\tif ( ct === undefined ) {\n\t\t\tct = s.mimeType || jqXHR.getResponseHeader(\"Content-Type\");\n\t\t}\n\t}\n\n\t// Check if we're dealing with a known content-type\n\tif ( ct ) {\n\t\tfor ( type in contents ) {\n\t\t\tif ( contents[ type ] && contents[ type ].test( ct ) ) {\n\t\t\t\tdataTypes.unshift( type );\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Check to see if we have a response for the expected dataType\n\tif ( dataTypes[ 0 ] in responses ) {\n\t\tfinalDataType = dataTypes[ 0 ];\n\t} else {\n\t\t// Try convertible dataTypes\n\t\tfor ( type in responses ) {\n\t\t\tif ( !dataTypes[ 0 ] || s.converters[ type + \" \" + dataTypes[0] ] ) {\n\t\t\t\tfinalDataType = type;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif ( !firstDataType ) {\n\t\t\t\tfirstDataType = type;\n\t\t\t}\n\t\t}\n\t\t// Or just use first one\n\t\tfinalDataType = finalDataType || firstDataType;\n\t}\n\n\t// If we found a dataType\n\t// We add the dataType to the list if needed\n\t// and return the corresponding response\n\tif ( finalDataType ) {\n\t\tif ( finalDataType !== dataTypes[ 0 ] ) {\n\t\t\tdataTypes.unshift( finalDataType );\n\t\t}\n\t\treturn responses[ finalDataType ];\n\t}\n}\n\n/* Chain conversions given the request and the original response\n * Also sets the responseXXX fields on the jqXHR instance\n */\nfunction ajaxConvert( s, response, jqXHR, isSuccess ) {\n\tvar conv2, current, conv, tmp, prev,\n\t\tconverters = {},\n\t\t// Work with a copy of dataTypes in case we need to modify it for conversion\n\t\tdataTypes = s.dataTypes.slice();\n\n\t// Create converters map with lowercased keys\n\tif ( dataTypes[ 1 ] ) {\n\t\tfor ( conv in s.converters ) {\n\t\t\tconverters[ conv.toLowerCase() ] = s.converters[ conv ];\n\t\t}\n\t}\n\n\tcurrent = dataTypes.shift();\n\n\t// Convert to each sequential dataType\n\twhile ( current ) {\n\n\t\tif ( s.responseFields[ current ] ) {\n\t\t\tjqXHR[ s.responseFields[ current ] ] = response;\n\t\t}\n\n\t\t// Apply the dataFilter if provided\n\t\tif ( !prev && isSuccess && s.dataFilter ) {\n\t\t\tresponse = s.dataFilter( response, s.dataType );\n\t\t}\n\n\t\tprev = current;\n\t\tcurrent = dataTypes.shift();\n\n\t\tif ( current ) {\n\n\t\t// There's only work to do if current dataType is non-auto\n\t\t\tif ( current === \"*\" ) {\n\n\t\t\t\tcurrent = prev;\n\n\t\t\t// Convert response if prev dataType is non-auto and differs from current\n\t\t\t} else if ( prev !== \"*\" && prev !== current ) {\n\n\t\t\t\t// Seek a direct converter\n\t\t\t\tconv = converters[ prev + \" \" + current ] || converters[ \"* \" + current ];\n\n\t\t\t\t// If none found, seek a pair\n\t\t\t\tif ( !conv ) {\n\t\t\t\t\tfor ( conv2 in converters ) {\n\n\t\t\t\t\t\t// If conv2 outputs current\n\t\t\t\t\t\ttmp = conv2.split( \" \" );\n\t\t\t\t\t\tif ( tmp[ 1 ] === current ) {\n\n\t\t\t\t\t\t\t// If prev can be converted to accepted input\n\t\t\t\t\t\t\tconv = converters[ prev + \" \" + tmp[ 0 ] ] ||\n\t\t\t\t\t\t\t\tconverters[ \"* \" + tmp[ 0 ] ];\n\t\t\t\t\t\t\tif ( conv ) {\n\t\t\t\t\t\t\t\t// Condense equivalence converters\n\t\t\t\t\t\t\t\tif ( conv === true ) {\n\t\t\t\t\t\t\t\t\tconv = converters[ conv2 ];\n\n\t\t\t\t\t\t\t\t// Otherwise, insert the intermediate dataType\n\t\t\t\t\t\t\t\t} else if ( converters[ conv2 ] !== true ) {\n\t\t\t\t\t\t\t\t\tcurrent = tmp[ 0 ];\n\t\t\t\t\t\t\t\t\tdataTypes.unshift( tmp[ 1 ] );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Apply converter (if not an equivalence)\n\t\t\t\tif ( conv !== true ) {\n\n\t\t\t\t\t// Unless errors are allowed to bubble, catch and return them\n\t\t\t\t\tif ( conv && s[ \"throws\" ] ) {\n\t\t\t\t\t\tresponse = conv( response );\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tresponse = conv( response );\n\t\t\t\t\t\t} catch ( e ) {\n\t\t\t\t\t\t\treturn { state: \"parsererror\", error: conv ? e : \"No conversion from \" + prev + \" to \" + current };\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn { state: \"success\", data: response };\n}\n\njQuery.extend({\n\n\t// Counter for holding the number of active queries\n\tactive: 0,\n\n\t// Last-Modified header cache for next request\n\tlastModified: {},\n\tetag: {},\n\n\tajaxSettings: {\n\t\turl: ajaxLocation,\n\t\ttype: \"GET\",\n\t\tisLocal: rlocalProtocol.test( ajaxLocParts[ 1 ] ),\n\t\tglobal: true,\n\t\tprocessData: true,\n\t\tasync: true,\n\t\tcontentType: \"application/x-www-form-urlencoded; charset=UTF-8\",\n\t\t/*\n\t\ttimeout: 0,\n\t\tdata: null,\n\t\tdataType: null,\n\t\tusername: null,\n\t\tpassword: null,\n\t\tcache: null,\n\t\tthrows: false,\n\t\ttraditional: false,\n\t\theaders: {},\n\t\t*/\n\n\t\taccepts: {\n\t\t\t\"*\": allTypes,\n\t\t\ttext: \"text/plain\",\n\t\t\thtml: \"text/html\",\n\t\t\txml: \"application/xml, text/xml\",\n\t\t\tjson: \"application/json, text/javascript\"\n\t\t},\n\n\t\tcontents: {\n\t\t\txml: /xml/,\n\t\t\thtml: /html/,\n\t\t\tjson: /json/\n\t\t},\n\n\t\tresponseFields: {\n\t\t\txml: \"responseXML\",\n\t\t\ttext: \"responseText\",\n\t\t\tjson: \"responseJSON\"\n\t\t},\n\n\t\t// Data converters\n\t\t// Keys separate source (or catchall \"*\") and destination types with a single space\n\t\tconverters: {\n\n\t\t\t// Convert anything to text\n\t\t\t\"* text\": String,\n\n\t\t\t// Text to html (true = no transformation)\n\t\t\t\"text html\": true,\n\n\t\t\t// Evaluate text as a json expression\n\t\t\t\"text json\": jQuery.parseJSON,\n\n\t\t\t// Parse text as xml\n\t\t\t\"text xml\": jQuery.parseXML\n\t\t},\n\n\t\t// For options that shouldn't be deep extended:\n\t\t// you can add your own custom options here if\n\t\t// and when you create one that shouldn't be\n\t\t// deep extended (see ajaxExtend)\n\t\tflatOptions: {\n\t\t\turl: true,\n\t\t\tcontext: true\n\t\t}\n\t},\n\n\t// Creates a full fledged settings object into target\n\t// with both ajaxSettings and settings fields.\n\t// If target is omitted, writes into ajaxSettings.\n\tajaxSetup: function( target, settings ) {\n\t\treturn settings ?\n\n\t\t\t// Building a settings object\n\t\t\tajaxExtend( ajaxExtend( target, jQuery.ajaxSettings ), settings ) :\n\n\t\t\t// Extending ajaxSettings\n\t\t\tajaxExtend( jQuery.ajaxSettings, target );\n\t},\n\n\tajaxPrefilter: addToPrefiltersOrTransports( prefilters ),\n\tajaxTransport: addToPrefiltersOrTransports( transports ),\n\n\t// Main method\n\tajax: function( url, options ) {\n\n\t\t// If url is an object, simulate pre-1.5 signature\n\t\tif ( typeof url === \"object\" ) {\n\t\t\toptions = url;\n\t\t\turl = undefined;\n\t\t}\n\n\t\t// Force options to be an object\n\t\toptions = options || {};\n\n\t\tvar transport,\n\t\t\t// URL without anti-cache param\n\t\t\tcacheURL,\n\t\t\t// Response headers\n\t\t\tresponseHeadersString,\n\t\t\tresponseHeaders,\n\t\t\t// timeout handle\n\t\t\ttimeoutTimer,\n\t\t\t// Cross-domain detection vars\n\t\t\tparts,\n\t\t\t// To know if global events are to be dispatched\n\t\t\tfireGlobals,\n\t\t\t// Loop variable\n\t\t\ti,\n\t\t\t// Create the final options object\n\t\t\ts = jQuery.ajaxSetup( {}, options ),\n\t\t\t// Callbacks context\n\t\t\tcallbackContext = s.context || s,\n\t\t\t// Context for global events is callbackContext if it is a DOM node or jQuery collection\n\t\t\tglobalEventContext = s.context && ( callbackContext.nodeType || callbackContext.jquery ) ?\n\t\t\t\tjQuery( callbackContext ) :\n\t\t\t\tjQuery.event,\n\t\t\t// Deferreds\n\t\t\tdeferred = jQuery.Deferred(),\n\t\t\tcompleteDeferred = jQuery.Callbacks(\"once memory\"),\n\t\t\t// Status-dependent callbacks\n\t\t\tstatusCode = s.statusCode || {},\n\t\t\t// Headers (they are sent all at once)\n\t\t\trequestHeaders = {},\n\t\t\trequestHeadersNames = {},\n\t\t\t// The jqXHR state\n\t\t\tstate = 0,\n\t\t\t// Default abort message\n\t\t\tstrAbort = \"canceled\",\n\t\t\t// Fake xhr\n\t\t\tjqXHR = {\n\t\t\t\treadyState: 0,\n\n\t\t\t\t// Builds headers hashtable if needed\n\t\t\t\tgetResponseHeader: function( key ) {\n\t\t\t\t\tvar match;\n\t\t\t\t\tif ( state === 2 ) {\n\t\t\t\t\t\tif ( !responseHeaders ) {\n\t\t\t\t\t\t\tresponseHeaders = {};\n\t\t\t\t\t\t\twhile ( (match = rheaders.exec( responseHeadersString )) ) {\n\t\t\t\t\t\t\t\tresponseHeaders[ match[1].toLowerCase() ] = match[ 2 ];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tmatch = responseHeaders[ key.toLowerCase() ];\n\t\t\t\t\t}\n\t\t\t\t\treturn match == null ? null : match;\n\t\t\t\t},\n\n\t\t\t\t// Raw string\n\t\t\t\tgetAllResponseHeaders: function() {\n\t\t\t\t\treturn state === 2 ? responseHeadersString : null;\n\t\t\t\t},\n\n\t\t\t\t// Caches the header\n\t\t\t\tsetRequestHeader: function( name, value ) {\n\t\t\t\t\tvar lname = name.toLowerCase();\n\t\t\t\t\tif ( !state ) {\n\t\t\t\t\t\tname = requestHeadersNames[ lname ] = requestHeadersNames[ lname ] || name;\n\t\t\t\t\t\trequestHeaders[ name ] = value;\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Overrides response content-type header\n\t\t\t\toverrideMimeType: function( type ) {\n\t\t\t\t\tif ( !state ) {\n\t\t\t\t\t\ts.mimeType = type;\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Status-dependent callbacks\n\t\t\t\tstatusCode: function( map ) {\n\t\t\t\t\tvar code;\n\t\t\t\t\tif ( map ) {\n\t\t\t\t\t\tif ( state < 2 ) {\n\t\t\t\t\t\t\tfor ( code in map ) {\n\t\t\t\t\t\t\t\t// Lazy-add the new callback in a way that preserves old ones\n\t\t\t\t\t\t\t\tstatusCode[ code ] = [ statusCode[ code ], map[ code ] ];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Execute the appropriate callbacks\n\t\t\t\t\t\t\tjqXHR.always( map[ jqXHR.status ] );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Cancel the request\n\t\t\t\tabort: function( statusText ) {\n\t\t\t\t\tvar finalText = statusText || strAbort;\n\t\t\t\t\tif ( transport ) {\n\t\t\t\t\t\ttransport.abort( finalText );\n\t\t\t\t\t}\n\t\t\t\t\tdone( 0, finalText );\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t};\n\n\t\t// Attach deferreds\n\t\tdeferred.promise( jqXHR ).complete = completeDeferred.add;\n\t\tjqXHR.success = jqXHR.done;\n\t\tjqXHR.error = jqXHR.fail;\n\n\t\t// Remove hash character (#7531: and string promotion)\n\t\t// Add protocol if not provided (prefilters might expect it)\n\t\t// Handle falsy url in the settings object (#10093: consistency with old signature)\n\t\t// We also use the url parameter if available\n\t\ts.url = ( ( url || s.url || ajaxLocation ) + \"\" ).replace( rhash, \"\" )\n\t\t\t.replace( rprotocol, ajaxLocParts[ 1 ] + \"//\" );\n\n\t\t// Alias method option to type as per ticket #12004\n\t\ts.type = options.method || options.type || s.method || s.type;\n\n\t\t// Extract dataTypes list\n\t\ts.dataTypes = jQuery.trim( s.dataType || \"*\" ).toLowerCase().match( rnotwhite ) || [ \"\" ];\n\n\t\t// A cross-domain request is in order when we have a protocol:host:port mismatch\n\t\tif ( s.crossDomain == null ) {\n\t\t\tparts = rurl.exec( s.url.toLowerCase() );\n\t\t\ts.crossDomain = !!( parts &&\n\t\t\t\t( parts[ 1 ] !== ajaxLocParts[ 1 ] || parts[ 2 ] !== ajaxLocParts[ 2 ] ||\n\t\t\t\t\t( parts[ 3 ] || ( parts[ 1 ] === \"http:\" ? \"80\" : \"443\" ) ) !==\n\t\t\t\t\t\t( ajaxLocParts[ 3 ] || ( ajaxLocParts[ 1 ] === \"http:\" ? \"80\" : \"443\" ) ) )\n\t\t\t);\n\t\t}\n\n\t\t// Convert data if not already a string\n\t\tif ( s.data && s.processData && typeof s.data !== \"string\" ) {\n\t\t\ts.data = jQuery.param( s.data, s.traditional );\n\t\t}\n\n\t\t// Apply prefilters\n\t\tinspectPrefiltersOrTransports( prefilters, s, options, jqXHR );\n\n\t\t// If request was aborted inside a prefilter, stop there\n\t\tif ( state === 2 ) {\n\t\t\treturn jqXHR;\n\t\t}\n\n\t\t// We can fire global events as of now if asked to\n\t\tfireGlobals = s.global;\n\n\t\t// Watch for a new set of requests\n\t\tif ( fireGlobals && jQuery.active++ === 0 ) {\n\t\t\tjQuery.event.trigger(\"ajaxStart\");\n\t\t}\n\n\t\t// Uppercase the type\n\t\ts.type = s.type.toUpperCase();\n\n\t\t// Determine if request has content\n\t\ts.hasContent = !rnoContent.test( s.type );\n\n\t\t// Save the URL in case we're toying with the If-Modified-Since\n\t\t// and/or If-None-Match header later on\n\t\tcacheURL = s.url;\n\n\t\t// More options handling for requests with no content\n\t\tif ( !s.hasContent ) {\n\n\t\t\t// If data is available, append data to url\n\t\t\tif ( s.data ) {\n\t\t\t\tcacheURL = ( s.url += ( rquery.test( cacheURL ) ? \"&\" : \"?\" ) + s.data );\n\t\t\t\t// #9682: remove data so that it's not used in an eventual retry\n\t\t\t\tdelete s.data;\n\t\t\t}\n\n\t\t\t// Add anti-cache in url if needed\n\t\t\tif ( s.cache === false ) {\n\t\t\t\ts.url = rts.test( cacheURL ) ?\n\n\t\t\t\t\t// If there is already a '_' parameter, set its value\n\t\t\t\t\tcacheURL.replace( rts, \"$1_=\" + nonce++ ) :\n\n\t\t\t\t\t// Otherwise add one to the end\n\t\t\t\t\tcacheURL + ( rquery.test( cacheURL ) ? \"&\" : \"?\" ) + \"_=\" + nonce++;\n\t\t\t}\n\t\t}\n\n\t\t// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.\n\t\tif ( s.ifModified ) {\n\t\t\tif ( jQuery.lastModified[ cacheURL ] ) {\n\t\t\t\tjqXHR.setRequestHeader( \"If-Modified-Since\", jQuery.lastModified[ cacheURL ] );\n\t\t\t}\n\t\t\tif ( jQuery.etag[ cacheURL ] ) {\n\t\t\t\tjqXHR.setRequestHeader( \"If-None-Match\", jQuery.etag[ cacheURL ] );\n\t\t\t}\n\t\t}\n\n\t\t// Set the correct header, if data is being sent\n\t\tif ( s.data && s.hasContent && s.contentType !== false || options.contentType ) {\n\t\t\tjqXHR.setRequestHeader( \"Content-Type\", s.contentType );\n\t\t}\n\n\t\t// Set the Accepts header for the server, depending on the dataType\n\t\tjqXHR.setRequestHeader(\n\t\t\t\"Accept\",\n\t\t\ts.dataTypes[ 0 ] && s.accepts[ s.dataTypes[0] ] ?\n\t\t\t\ts.accepts[ s.dataTypes[0] ] + ( s.dataTypes[ 0 ] !== \"*\" ? \", \" + allTypes + \"; q=0.01\" : \"\" ) :\n\t\t\t\ts.accepts[ \"*\" ]\n\t\t);\n\n\t\t// Check for headers option\n\t\tfor ( i in s.headers ) {\n\t\t\tjqXHR.setRequestHeader( i, s.headers[ i ] );\n\t\t}\n\n\t\t// Allow custom headers/mimetypes and early abort\n\t\tif ( s.beforeSend && ( s.beforeSend.call( callbackContext, jqXHR, s ) === false || state === 2 ) ) {\n\t\t\t// Abort if not done already and return\n\t\t\treturn jqXHR.abort();\n\t\t}\n\n\t\t// aborting is no longer a cancellation\n\t\tstrAbort = \"abort\";\n\n\t\t// Install callbacks on deferreds\n\t\tfor ( i in { success: 1, error: 1, complete: 1 } ) {\n\t\t\tjqXHR[ i ]( s[ i ] );\n\t\t}\n\n\t\t// Get transport\n\t\ttransport = inspectPrefiltersOrTransports( transports, s, options, jqXHR );\n\n\t\t// If no transport, we auto-abort\n\t\tif ( !transport ) {\n\t\t\tdone( -1, \"No Transport\" );\n\t\t} else {\n\t\t\tjqXHR.readyState = 1;\n\n\t\t\t// Send global event\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( \"ajaxSend\", [ jqXHR, s ] );\n\t\t\t}\n\t\t\t// Timeout\n\t\t\tif ( s.async && s.timeout > 0 ) {\n\t\t\t\ttimeoutTimer = setTimeout(function() {\n\t\t\t\t\tjqXHR.abort(\"timeout\");\n\t\t\t\t}, s.timeout );\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tstate = 1;\n\t\t\t\ttransport.send( requestHeaders, done );\n\t\t\t} catch ( e ) {\n\t\t\t\t// Propagate exception as error if not done\n\t\t\t\tif ( state < 2 ) {\n\t\t\t\t\tdone( -1, e );\n\t\t\t\t// Simply rethrow otherwise\n\t\t\t\t} else {\n\t\t\t\t\tthrow e;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Callback for when everything is done\n\t\tfunction done( status, nativeStatusText, responses, headers ) {\n\t\t\tvar isSuccess, success, error, response, modified,\n\t\t\t\tstatusText = nativeStatusText;\n\n\t\t\t// Called once\n\t\t\tif ( state === 2 ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// State is \"done\" now\n\t\t\tstate = 2;\n\n\t\t\t// Clear timeout if it exists\n\t\t\tif ( timeoutTimer ) {\n\t\t\t\tclearTimeout( timeoutTimer );\n\t\t\t}\n\n\t\t\t// Dereference transport for early garbage collection\n\t\t\t// (no matter how long the jqXHR object will be used)\n\t\t\ttransport = undefined;\n\n\t\t\t// Cache response headers\n\t\t\tresponseHeadersString = headers || \"\";\n\n\t\t\t// Set readyState\n\t\t\tjqXHR.readyState = status > 0 ? 4 : 0;\n\n\t\t\t// Determine if successful\n\t\t\tisSuccess = status >= 200 && status < 300 || status === 304;\n\n\t\t\t// Get response data\n\t\t\tif ( responses ) {\n\t\t\t\tresponse = ajaxHandleResponses( s, jqXHR, responses );\n\t\t\t}\n\n\t\t\t// Convert no matter what (that way responseXXX fields are always set)\n\t\t\tresponse = ajaxConvert( s, response, jqXHR, isSuccess );\n\n\t\t\t// If successful, handle type chaining\n\t\t\tif ( isSuccess ) {\n\n\t\t\t\t// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.\n\t\t\t\tif ( s.ifModified ) {\n\t\t\t\t\tmodified = jqXHR.getResponseHeader(\"Last-Modified\");\n\t\t\t\t\tif ( modified ) {\n\t\t\t\t\t\tjQuery.lastModified[ cacheURL ] = modified;\n\t\t\t\t\t}\n\t\t\t\t\tmodified = jqXHR.getResponseHeader(\"etag\");\n\t\t\t\t\tif ( modified ) {\n\t\t\t\t\t\tjQuery.etag[ cacheURL ] = modified;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// if no content\n\t\t\t\tif ( status === 204 || s.type === \"HEAD\" ) {\n\t\t\t\t\tstatusText = \"nocontent\";\n\n\t\t\t\t// if not modified\n\t\t\t\t} else if ( status === 304 ) {\n\t\t\t\t\tstatusText = \"notmodified\";\n\n\t\t\t\t// If we have data, let's convert it\n\t\t\t\t} else {\n\t\t\t\t\tstatusText = response.state;\n\t\t\t\t\tsuccess = response.data;\n\t\t\t\t\terror = response.error;\n\t\t\t\t\tisSuccess = !error;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// We extract error from statusText\n\t\t\t\t// then normalize statusText and status for non-aborts\n\t\t\t\terror = statusText;\n\t\t\t\tif ( status || !statusText ) {\n\t\t\t\t\tstatusText = \"error\";\n\t\t\t\t\tif ( status < 0 ) {\n\t\t\t\t\t\tstatus = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Set data for the fake xhr object\n\t\t\tjqXHR.status = status;\n\t\t\tjqXHR.statusText = ( nativeStatusText || statusText ) + \"\";\n\n\t\t\t// Success/Error\n\t\t\tif ( isSuccess ) {\n\t\t\t\tdeferred.resolveWith( callbackContext, [ success, statusText, jqXHR ] );\n\t\t\t} else {\n\t\t\t\tdeferred.rejectWith( callbackContext, [ jqXHR, statusText, error ] );\n\t\t\t}\n\n\t\t\t// Status-dependent callbacks\n\t\t\tjqXHR.statusCode( statusCode );\n\t\t\tstatusCode = undefined;\n\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( isSuccess ? \"ajaxSuccess\" : \"ajaxError\",\n\t\t\t\t\t[ jqXHR, s, isSuccess ? success : error ] );\n\t\t\t}\n\n\t\t\t// Complete\n\t\t\tcompleteDeferred.fireWith( callbackContext, [ jqXHR, statusText ] );\n\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( \"ajaxComplete\", [ jqXHR, s ] );\n\t\t\t\t// Handle the global AJAX counter\n\t\t\t\tif ( !( --jQuery.active ) ) {\n\t\t\t\t\tjQuery.event.trigger(\"ajaxStop\");\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn jqXHR;\n\t},\n\n\tgetJSON: function( url, data, callback ) {\n\t\treturn jQuery.get( url, data, callback, \"json\" );\n\t},\n\n\tgetScript: function( url, callback ) {\n\t\treturn jQuery.get( url, undefined, callback, \"script\" );\n\t}\n});\n\njQuery.each( [ \"get\", \"post\" ], function( i, method ) {\n\tjQuery[ method ] = function( url, data, callback, type ) {\n\t\t// shift arguments if data argument was omitted\n\t\tif ( jQuery.isFunction( data ) ) {\n\t\t\ttype = type || callback;\n\t\t\tcallback = data;\n\t\t\tdata = undefined;\n\t\t}\n\n\t\treturn jQuery.ajax({\n\t\t\turl: url,\n\t\t\ttype: method,\n\t\t\tdataType: type,\n\t\t\tdata: data,\n\t\t\tsuccess: callback\n\t\t});\n\t};\n});\n\n// Attach a bunch of functions for handling common AJAX events\njQuery.each( [ \"ajaxStart\", \"ajaxStop\", \"ajaxComplete\", \"ajaxError\", \"ajaxSuccess\", \"ajaxSend\" ], function( i, type ) {\n\tjQuery.fn[ type ] = function( fn ) {\n\t\treturn this.on( type, fn );\n\t};\n});\n\n\njQuery._evalUrl = function( url ) {\n\treturn jQuery.ajax({\n\t\turl: url,\n\t\ttype: \"GET\",\n\t\tdataType: \"script\",\n\t\tasync: false,\n\t\tglobal: false,\n\t\t\"throws\": true\n\t});\n};\n\n\njQuery.fn.extend({\n\twrapAll: function( html ) {\n\t\tvar wrap;\n\n\t\tif ( jQuery.isFunction( html ) ) {\n\t\t\treturn this.each(function( i ) {\n\t\t\t\tjQuery( this ).wrapAll( html.call(this, i) );\n\t\t\t});\n\t\t}\n\n\t\tif ( this[ 0 ] ) {\n\n\t\t\t// The elements to wrap the target around\n\t\t\twrap = jQuery( html, this[ 0 ].ownerDocument ).eq( 0 ).clone( true );\n\n\t\t\tif ( this[ 0 ].parentNode ) {\n\t\t\t\twrap.insertBefore( this[ 0 ] );\n\t\t\t}\n\n\t\t\twrap.map(function() {\n\t\t\t\tvar elem = this;\n\n\t\t\t\twhile ( elem.firstElementChild ) {\n\t\t\t\t\telem = elem.firstElementChild;\n\t\t\t\t}\n\n\t\t\t\treturn elem;\n\t\t\t}).append( this );\n\t\t}\n\n\t\treturn this;\n\t},\n\n\twrapInner: function( html ) {\n\t\tif ( jQuery.isFunction( html ) ) {\n\t\t\treturn this.each(function( i ) {\n\t\t\t\tjQuery( this ).wrapInner( html.call(this, i) );\n\t\t\t});\n\t\t}\n\n\t\treturn this.each(function() {\n\t\t\tvar self = jQuery( this ),\n\t\t\t\tcontents = self.contents();\n\n\t\t\tif ( contents.length ) {\n\t\t\t\tcontents.wrapAll( html );\n\n\t\t\t} else {\n\t\t\t\tself.append( html );\n\t\t\t}\n\t\t});\n\t},\n\n\twrap: function( html ) {\n\t\tvar isFunction = jQuery.isFunction( html );\n\n\t\treturn this.each(function( i ) {\n\t\t\tjQuery( this ).wrapAll( isFunction ? html.call(this, i) : html );\n\t\t});\n\t},\n\n\tunwrap: function() {\n\t\treturn this.parent().each(function() {\n\t\t\tif ( !jQuery.nodeName( this, \"body\" ) ) {\n\t\t\t\tjQuery( this ).replaceWith( this.childNodes );\n\t\t\t}\n\t\t}).end();\n\t}\n});\n\n\njQuery.expr.filters.hidden = function( elem ) {\n\t// Support: Opera <= 12.12\n\t// Opera reports offsetWidths and offsetHeights less than zero on some elements\n\treturn elem.offsetWidth <= 0 && elem.offsetHeight <= 0;\n};\njQuery.expr.filters.visible = function( elem ) {\n\treturn !jQuery.expr.filters.hidden( elem );\n};\n\n\n\n\nvar r20 = /%20/g,\n\trbracket = /\\[\\]$/,\n\trCRLF = /\\r?\\n/g,\n\trsubmitterTypes = /^(?:submit|button|image|reset|file)$/i,\n\trsubmittable = /^(?:input|select|textarea|keygen)/i;\n\nfunction buildParams( prefix, obj, traditional, add ) {\n\tvar name;\n\n\tif ( jQuery.isArray( obj ) ) {\n\t\t// Serialize array item.\n\t\tjQuery.each( obj, function( i, v ) {\n\t\t\tif ( traditional || rbracket.test( prefix ) ) {\n\t\t\t\t// Treat each array item as a scalar.\n\t\t\t\tadd( prefix, v );\n\n\t\t\t} else {\n\t\t\t\t// Item is non-scalar (array or object), encode its numeric index.\n\t\t\t\tbuildParams( prefix + \"[\" + ( typeof v === \"object\" ? i : \"\" ) + \"]\", v, traditional, add );\n\t\t\t}\n\t\t});\n\n\t} else if ( !traditional && jQuery.type( obj ) === \"object\" ) {\n\t\t// Serialize object item.\n\t\tfor ( name in obj ) {\n\t\t\tbuildParams( prefix + \"[\" + name + \"]\", obj[ name ], traditional, add );\n\t\t}\n\n\t} else {\n\t\t// Serialize scalar item.\n\t\tadd( prefix, obj );\n\t}\n}\n\n// Serialize an array of form elements or a set of\n// key/values into a query string\njQuery.param = function( a, traditional ) {\n\tvar prefix,\n\t\ts = [],\n\t\tadd = function( key, value ) {\n\t\t\t// If value is a function, invoke it and return its value\n\t\t\tvalue = jQuery.isFunction( value ) ? value() : ( value == null ? \"\" : value );\n\t\t\ts[ s.length ] = encodeURIComponent( key ) + \"=\" + encodeURIComponent( value );\n\t\t};\n\n\t// Set traditional to true for jQuery <= 1.3.2 behavior.\n\tif ( traditional === undefined ) {\n\t\ttraditional = jQuery.ajaxSettings && jQuery.ajaxSettings.traditional;\n\t}\n\n\t// If an array was passed in, assume that it is an array of form elements.\n\tif ( jQuery.isArray( a ) || ( a.jquery && !jQuery.isPlainObject( a ) ) ) {\n\t\t// Serialize the form elements\n\t\tjQuery.each( a, function() {\n\t\t\tadd( this.name, this.value );\n\t\t});\n\n\t} else {\n\t\t// If traditional, encode the \"old\" way (the way 1.3.2 or older\n\t\t// did it), otherwise encode params recursively.\n\t\tfor ( prefix in a ) {\n\t\t\tbuildParams( prefix, a[ prefix ], traditional, add );\n\t\t}\n\t}\n\n\t// Return the resulting serialization\n\treturn s.join( \"&\" ).replace( r20, \"+\" );\n};\n\njQuery.fn.extend({\n\tserialize: function() {\n\t\treturn jQuery.param( this.serializeArray() );\n\t},\n\tserializeArray: function() {\n\t\treturn this.map(function() {\n\t\t\t// Can add propHook for \"elements\" to filter or add form elements\n\t\t\tvar elements = jQuery.prop( this, \"elements\" );\n\t\t\treturn elements ? jQuery.makeArray( elements ) : this;\n\t\t})\n\t\t.filter(function() {\n\t\t\tvar type = this.type;\n\n\t\t\t// Use .is( \":disabled\" ) so that fieldset[disabled] works\n\t\t\treturn this.name && !jQuery( this ).is( \":disabled\" ) &&\n\t\t\t\trsubmittable.test( this.nodeName ) && !rsubmitterTypes.test( type ) &&\n\t\t\t\t( this.checked || !rcheckableType.test( type ) );\n\t\t})\n\t\t.map(function( i, elem ) {\n\t\t\tvar val = jQuery( this ).val();\n\n\t\t\treturn val == null ?\n\t\t\t\tnull :\n\t\t\t\tjQuery.isArray( val ) ?\n\t\t\t\t\tjQuery.map( val, function( val ) {\n\t\t\t\t\t\treturn { name: elem.name, value: val.replace( rCRLF, \"\\r\\n\" ) };\n\t\t\t\t\t}) :\n\t\t\t\t\t{ name: elem.name, value: val.replace( rCRLF, \"\\r\\n\" ) };\n\t\t}).get();\n\t}\n});\n\n\njQuery.ajaxSettings.xhr = function() {\n\ttry {\n\t\treturn new XMLHttpRequest();\n\t} catch( e ) {}\n};\n\nvar xhrId = 0,\n\txhrCallbacks = {},\n\txhrSuccessStatus = {\n\t\t// file protocol always yields status code 0, assume 200\n\t\t0: 200,\n\t\t// Support: IE9\n\t\t// #1450: sometimes IE returns 1223 when it should be 204\n\t\t1223: 204\n\t},\n\txhrSupported = jQuery.ajaxSettings.xhr();\n\n// Support: IE9\n// Open requests must be manually aborted on unload (#5280)\nif ( window.ActiveXObject ) {\n\tjQuery( window ).on( \"unload\", function() {\n\t\tfor ( var key in xhrCallbacks ) {\n\t\t\txhrCallbacks[ key ]();\n\t\t}\n\t});\n}\n\nsupport.cors = !!xhrSupported && ( \"withCredentials\" in xhrSupported );\nsupport.ajax = xhrSupported = !!xhrSupported;\n\njQuery.ajaxTransport(function( options ) {\n\tvar callback;\n\n\t// Cross domain only allowed if supported through XMLHttpRequest\n\tif ( support.cors || xhrSupported && !options.crossDomain ) {\n\t\treturn {\n\t\t\tsend: function( headers, complete ) {\n\t\t\t\tvar i,\n\t\t\t\t\txhr = options.xhr(),\n\t\t\t\t\tid = ++xhrId;\n\n\t\t\t\txhr.open( options.type, options.url, options.async, options.username, options.password );\n\n\t\t\t\t// Apply custom fields if provided\n\t\t\t\tif ( options.xhrFields ) {\n\t\t\t\t\tfor ( i in options.xhrFields ) {\n\t\t\t\t\t\txhr[ i ] = options.xhrFields[ i ];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Override mime type if needed\n\t\t\t\tif ( options.mimeType && xhr.overrideMimeType ) {\n\t\t\t\t\txhr.overrideMimeType( options.mimeType );\n\t\t\t\t}\n\n\t\t\t\t// X-Requested-With header\n\t\t\t\t// For cross-domain requests, seeing as conditions for a preflight are\n\t\t\t\t// akin to a jigsaw puzzle, we simply never set it to be sure.\n\t\t\t\t// (it can always be set on a per-request basis or even using ajaxSetup)\n\t\t\t\t// For same-domain requests, won't change header if already provided.\n\t\t\t\tif ( !options.crossDomain && !headers[\"X-Requested-With\"] ) {\n\t\t\t\t\theaders[\"X-Requested-With\"] = \"XMLHttpRequest\";\n\t\t\t\t}\n\n\t\t\t\t// Set headers\n\t\t\t\tfor ( i in headers ) {\n\t\t\t\t\txhr.setRequestHeader( i, headers[ i ] );\n\t\t\t\t}\n\n\t\t\t\t// Callback\n\t\t\t\tcallback = function( type ) {\n\t\t\t\t\treturn function() {\n\t\t\t\t\t\tif ( callback ) {\n\t\t\t\t\t\t\tdelete xhrCallbacks[ id ];\n\t\t\t\t\t\t\tcallback = xhr.onload = xhr.onerror = null;\n\n\t\t\t\t\t\t\tif ( type === \"abort\" ) {\n\t\t\t\t\t\t\t\txhr.abort();\n\t\t\t\t\t\t\t} else if ( type === \"error\" ) {\n\t\t\t\t\t\t\t\tcomplete(\n\t\t\t\t\t\t\t\t\t// file: protocol always yields status 0; see #8605, #14207\n\t\t\t\t\t\t\t\t\txhr.status,\n\t\t\t\t\t\t\t\t\txhr.statusText\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tcomplete(\n\t\t\t\t\t\t\t\t\txhrSuccessStatus[ xhr.status ] || xhr.status,\n\t\t\t\t\t\t\t\t\txhr.statusText,\n\t\t\t\t\t\t\t\t\t// Support: IE9\n\t\t\t\t\t\t\t\t\t// Accessing binary-data responseText throws an exception\n\t\t\t\t\t\t\t\t\t// (#11426)\n\t\t\t\t\t\t\t\t\ttypeof xhr.responseText === \"string\" ? {\n\t\t\t\t\t\t\t\t\t\ttext: xhr.responseText\n\t\t\t\t\t\t\t\t\t} : undefined,\n\t\t\t\t\t\t\t\t\txhr.getAllResponseHeaders()\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t};\n\n\t\t\t\t// Listen to events\n\t\t\t\txhr.onload = callback();\n\t\t\t\txhr.onerror = callback(\"error\");\n\n\t\t\t\t// Create the abort callback\n\t\t\t\tcallback = xhrCallbacks[ id ] = callback(\"abort\");\n\n\t\t\t\ttry {\n\t\t\t\t\t// Do send the request (this may raise an exception)\n\t\t\t\t\txhr.send( options.hasContent && options.data || null );\n\t\t\t\t} catch ( e ) {\n\t\t\t\t\t// #14683: Only rethrow if this hasn't been notified as an error yet\n\t\t\t\t\tif ( callback ) {\n\t\t\t\t\t\tthrow e;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tabort: function() {\n\t\t\t\tif ( callback ) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n});\n\n\n\n\n// Install script dataType\njQuery.ajaxSetup({\n\taccepts: {\n\t\tscript: \"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript\"\n\t},\n\tcontents: {\n\t\tscript: /(?:java|ecma)script/\n\t},\n\tconverters: {\n\t\t\"text script\": function( text ) {\n\t\t\tjQuery.globalEval( text );\n\t\t\treturn text;\n\t\t}\n\t}\n});\n\n// Handle cache's special case and crossDomain\njQuery.ajaxPrefilter( \"script\", function( s ) {\n\tif ( s.cache === undefined ) {\n\t\ts.cache = false;\n\t}\n\tif ( s.crossDomain ) {\n\t\ts.type = \"GET\";\n\t}\n});\n\n// Bind script tag hack transport\njQuery.ajaxTransport( \"script\", function( s ) {\n\t// This transport only deals with cross domain requests\n\tif ( s.crossDomain ) {\n\t\tvar script, callback;\n\t\treturn {\n\t\t\tsend: function( _, complete ) {\n\t\t\t\tscript = jQuery(\"<script>\").prop({\n\t\t\t\t\tasync: true,\n\t\t\t\t\tcharset: s.scriptCharset,\n\t\t\t\t\tsrc: s.url\n\t\t\t\t}).on(\n\t\t\t\t\t\"load error\",\n\t\t\t\t\tcallback = function( evt ) {\n\t\t\t\t\t\tscript.remove();\n\t\t\t\t\t\tcallback = null;\n\t\t\t\t\t\tif ( evt ) {\n\t\t\t\t\t\t\tcomplete( evt.type === \"error\" ? 404 : 200, evt.type );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t\tdocument.head.appendChild( script[ 0 ] );\n\t\t\t},\n\t\t\tabort: function() {\n\t\t\t\tif ( callback ) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n});\n\n\n\n\nvar oldCallbacks = [],\n\trjsonp = /(=)\\?(?=&|$)|\\?\\?/;\n\n// Default jsonp settings\njQuery.ajaxSetup({\n\tjsonp: \"callback\",\n\tjsonpCallback: function() {\n\t\tvar callback = oldCallbacks.pop() || ( jQuery.expando + \"_\" + ( nonce++ ) );\n\t\tthis[ callback ] = true;\n\t\treturn callback;\n\t}\n});\n\n// Detect, normalize options and install callbacks for jsonp requests\njQuery.ajaxPrefilter( \"json jsonp\", function( s, originalSettings, jqXHR ) {\n\n\tvar callbackName, overwritten, responseContainer,\n\t\tjsonProp = s.jsonp !== false && ( rjsonp.test( s.url ) ?\n\t\t\t\"url\" :\n\t\t\ttypeof s.data === \"string\" && !( s.contentType || \"\" ).indexOf(\"application/x-www-form-urlencoded\") && rjsonp.test( s.data ) && \"data\"\n\t\t);\n\n\t// Handle iff the expected data type is \"jsonp\" or we have a parameter to set\n\tif ( jsonProp || s.dataTypes[ 0 ] === \"jsonp\" ) {\n\n\t\t// Get callback name, remembering preexisting value associated with it\n\t\tcallbackName = s.jsonpCallback = jQuery.isFunction( s.jsonpCallback ) ?\n\t\t\ts.jsonpCallback() :\n\t\t\ts.jsonpCallback;\n\n\t\t// Insert callback into url or form data\n\t\tif ( jsonProp ) {\n\t\t\ts[ jsonProp ] = s[ jsonProp ].replace( rjsonp, \"$1\" + callbackName );\n\t\t} else if ( s.jsonp !== false ) {\n\t\t\ts.url += ( rquery.test( s.url ) ? \"&\" : \"?\" ) + s.jsonp + \"=\" + callbackName;\n\t\t}\n\n\t\t// Use data converter to retrieve json after script execution\n\t\ts.converters[\"script json\"] = function() {\n\t\t\tif ( !responseContainer ) {\n\t\t\t\tjQuery.error( callbackName + \" was not called\" );\n\t\t\t}\n\t\t\treturn responseContainer[ 0 ];\n\t\t};\n\n\t\t// force json dataType\n\t\ts.dataTypes[ 0 ] = \"json\";\n\n\t\t// Install callback\n\t\toverwritten = window[ callbackName ];\n\t\twindow[ callbackName ] = function() {\n\t\t\tresponseContainer = arguments;\n\t\t};\n\n\t\t// Clean-up function (fires after converters)\n\t\tjqXHR.always(function() {\n\t\t\t// Restore preexisting value\n\t\t\twindow[ callbackName ] = overwritten;\n\n\t\t\t// Save back as free\n\t\t\tif ( s[ callbackName ] ) {\n\t\t\t\t// make sure that re-using the options doesn't screw things around\n\t\t\t\ts.jsonpCallback = originalSettings.jsonpCallback;\n\n\t\t\t\t// save the callback name for future use\n\t\t\t\toldCallbacks.push( callbackName );\n\t\t\t}\n\n\t\t\t// Call if it was a function and we have a response\n\t\t\tif ( responseContainer && jQuery.isFunction( overwritten ) ) {\n\t\t\t\toverwritten( responseContainer[ 0 ] );\n\t\t\t}\n\n\t\t\tresponseContainer = overwritten = undefined;\n\t\t});\n\n\t\t// Delegate to script\n\t\treturn \"script\";\n\t}\n});\n\n\n\n\n// data: string of html\n// context (optional): If specified, the fragment will be created in this context, defaults to document\n// keepScripts (optional): If true, will include scripts passed in the html string\njQuery.parseHTML = function( data, context, keepScripts ) {\n\tif ( !data || typeof data !== \"string\" ) {\n\t\treturn null;\n\t}\n\tif ( typeof context === \"boolean\" ) {\n\t\tkeepScripts = context;\n\t\tcontext = false;\n\t}\n\tcontext = context || document;\n\n\tvar parsed = rsingleTag.exec( data ),\n\t\tscripts = !keepScripts && [];\n\n\t// Single tag\n\tif ( parsed ) {\n\t\treturn [ context.createElement( parsed[1] ) ];\n\t}\n\n\tparsed = jQuery.buildFragment( [ data ], context, scripts );\n\n\tif ( scripts && scripts.length ) {\n\t\tjQuery( scripts ).remove();\n\t}\n\n\treturn jQuery.merge( [], parsed.childNodes );\n};\n\n\n// Keep a copy of the old load method\nvar _load = jQuery.fn.load;\n\n/**\n * Load a url into a page\n */\njQuery.fn.load = function( url, params, callback ) {\n\tif ( typeof url !== \"string\" && _load ) {\n\t\treturn _load.apply( this, arguments );\n\t}\n\n\tvar selector, type, response,\n\t\tself = this,\n\t\toff = url.indexOf(\" \");\n\n\tif ( off >= 0 ) {\n\t\tselector = jQuery.trim( url.slice( off ) );\n\t\turl = url.slice( 0, off );\n\t}\n\n\t// If it's a function\n\tif ( jQuery.isFunction( params ) ) {\n\n\t\t// We assume that it's the callback\n\t\tcallback = params;\n\t\tparams = undefined;\n\n\t// Otherwise, build a param string\n\t} else if ( params && typeof params === \"object\" ) {\n\t\ttype = \"POST\";\n\t}\n\n\t// If we have elements to modify, make the request\n\tif ( self.length > 0 ) {\n\t\tjQuery.ajax({\n\t\t\turl: url,\n\n\t\t\t// if \"type\" variable is undefined, then \"GET\" method will be used\n\t\t\ttype: type,\n\t\t\tdataType: \"html\",\n\t\t\tdata: params\n\t\t}).done(function( responseText ) {\n\n\t\t\t// Save response for use in complete callback\n\t\t\tresponse = arguments;\n\n\t\t\tself.html( selector ?\n\n\t\t\t\t// If a selector was specified, locate the right elements in a dummy div\n\t\t\t\t// Exclude scripts to avoid IE 'Permission Denied' errors\n\t\t\t\tjQuery(\"<div>\").append( jQuery.parseHTML( responseText ) ).find( selector ) :\n\n\t\t\t\t// Otherwise use the full result\n\t\t\t\tresponseText );\n\n\t\t}).complete( callback && function( jqXHR, status ) {\n\t\t\tself.each( callback, response || [ jqXHR.responseText, status, jqXHR ] );\n\t\t});\n\t}\n\n\treturn this;\n};\n\n\n\n\njQuery.expr.filters.animated = function( elem ) {\n\treturn jQuery.grep(jQuery.timers, function( fn ) {\n\t\treturn elem === fn.elem;\n\t}).length;\n};\n\n\n\n\nvar docElem = window.document.documentElement;\n\n/**\n * Gets a window from an element\n */\nfunction getWindow( elem ) {\n\treturn jQuery.isWindow( elem ) ? elem : elem.nodeType === 9 && elem.defaultView;\n}\n\njQuery.offset = {\n\tsetOffset: function( elem, options, i ) {\n\t\tvar curPosition, curLeft, curCSSTop, curTop, curOffset, curCSSLeft, calculatePosition,\n\t\t\tposition = jQuery.css( elem, \"position\" ),\n\t\t\tcurElem = jQuery( elem ),\n\t\t\tprops = {};\n\n\t\t// Set position first, in-case top/left are set even on static elem\n\t\tif ( position === \"static\" ) {\n\t\t\telem.style.position = \"relative\";\n\t\t}\n\n\t\tcurOffset = curElem.offset();\n\t\tcurCSSTop = jQuery.css( elem, \"top\" );\n\t\tcurCSSLeft = jQuery.css( elem, \"left\" );\n\t\tcalculatePosition = ( position === \"absolute\" || position === \"fixed\" ) &&\n\t\t\t( curCSSTop + curCSSLeft ).indexOf(\"auto\") > -1;\n\n\t\t// Need to be able to calculate position if either top or left is auto and position is either absolute or fixed\n\t\tif ( calculatePosition ) {\n\t\t\tcurPosition = curElem.position();\n\t\t\tcurTop = curPosition.top;\n\t\t\tcurLeft = curPosition.left;\n\n\t\t} else {\n\t\t\tcurTop = parseFloat( curCSSTop ) || 0;\n\t\t\tcurLeft = parseFloat( curCSSLeft ) || 0;\n\t\t}\n\n\t\tif ( jQuery.isFunction( options ) ) {\n\t\t\toptions = options.call( elem, i, curOffset );\n\t\t}\n\n\t\tif ( options.top != null ) {\n\t\t\tprops.top = ( options.top - curOffset.top ) + curTop;\n\t\t}\n\t\tif ( options.left != null ) {\n\t\t\tprops.left = ( options.left - curOffset.left ) + curLeft;\n\t\t}\n\n\t\tif ( \"using\" in options ) {\n\t\t\toptions.using.call( elem, props );\n\n\t\t} else {\n\t\t\tcurElem.css( props );\n\t\t}\n\t}\n};\n\njQuery.fn.extend({\n\toffset: function( options ) {\n\t\tif ( arguments.length ) {\n\t\t\treturn options === undefined ?\n\t\t\t\tthis :\n\t\t\t\tthis.each(function( i ) {\n\t\t\t\t\tjQuery.offset.setOffset( this, options, i );\n\t\t\t\t});\n\t\t}\n\n\t\tvar docElem, win,\n\t\t\telem = this[ 0 ],\n\t\t\tbox = { top: 0, left: 0 },\n\t\t\tdoc = elem && elem.ownerDocument;\n\n\t\tif ( !doc ) {\n\t\t\treturn;\n\t\t}\n\n\t\tdocElem = doc.documentElement;\n\n\t\t// Make sure it's not a disconnected DOM node\n\t\tif ( !jQuery.contains( docElem, elem ) ) {\n\t\t\treturn box;\n\t\t}\n\n\t\t// If we don't have gBCR, just use 0,0 rather than error\n\t\t// BlackBerry 5, iOS 3 (original iPhone)\n\t\tif ( typeof elem.getBoundingClientRect !== strundefined ) {\n\t\t\tbox = elem.getBoundingClientRect();\n\t\t}\n\t\twin = getWindow( doc );\n\t\treturn {\n\t\t\ttop: box.top + win.pageYOffset - docElem.clientTop,\n\t\t\tleft: box.left + win.pageXOffset - docElem.clientLeft\n\t\t};\n\t},\n\n\tposition: function() {\n\t\tif ( !this[ 0 ] ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar offsetParent, offset,\n\t\t\telem = this[ 0 ],\n\t\t\tparentOffset = { top: 0, left: 0 };\n\n\t\t// Fixed elements are offset from window (parentOffset = {top:0, left: 0}, because it is its only offset parent\n\t\tif ( jQuery.css( elem, \"position\" ) === \"fixed\" ) {\n\t\t\t// We assume that getBoundingClientRect is available when computed position is fixed\n\t\t\toffset = elem.getBoundingClientRect();\n\n\t\t} else {\n\t\t\t// Get *real* offsetParent\n\t\t\toffsetParent = this.offsetParent();\n\n\t\t\t// Get correct offsets\n\t\t\toffset = this.offset();\n\t\t\tif ( !jQuery.nodeName( offsetParent[ 0 ], \"html\" ) ) {\n\t\t\t\tparentOffset = offsetParent.offset();\n\t\t\t}\n\n\t\t\t// Add offsetParent borders\n\t\t\tparentOffset.top += jQuery.css( offsetParent[ 0 ], \"borderTopWidth\", true );\n\t\t\tparentOffset.left += jQuery.css( offsetParent[ 0 ], \"borderLeftWidth\", true );\n\t\t}\n\n\t\t// Subtract parent offsets and element margins\n\t\treturn {\n\t\t\ttop: offset.top - parentOffset.top - jQuery.css( elem, \"marginTop\", true ),\n\t\t\tleft: offset.left - parentOffset.left - jQuery.css( elem, \"marginLeft\", true )\n\t\t};\n\t},\n\n\toffsetParent: function() {\n\t\treturn this.map(function() {\n\t\t\tvar offsetParent = this.offsetParent || docElem;\n\n\t\t\twhile ( offsetParent && ( !jQuery.nodeName( offsetParent, \"html\" ) && jQuery.css( offsetParent, \"position\" ) === \"static\" ) ) {\n\t\t\t\toffsetParent = offsetParent.offsetParent;\n\t\t\t}\n\n\t\t\treturn offsetParent || docElem;\n\t\t});\n\t}\n});\n\n// Create scrollLeft and scrollTop methods\njQuery.each( { scrollLeft: \"pageXOffset\", scrollTop: \"pageYOffset\" }, function( method, prop ) {\n\tvar top = \"pageYOffset\" === prop;\n\n\tjQuery.fn[ method ] = function( val ) {\n\t\treturn access( this, function( elem, method, val ) {\n\t\t\tvar win = getWindow( elem );\n\n\t\t\tif ( val === undefined ) {\n\t\t\t\treturn win ? win[ prop ] : elem[ method ];\n\t\t\t}\n\n\t\t\tif ( win ) {\n\t\t\t\twin.scrollTo(\n\t\t\t\t\t!top ? val : window.pageXOffset,\n\t\t\t\t\ttop ? val : window.pageYOffset\n\t\t\t\t);\n\n\t\t\t} else {\n\t\t\t\telem[ method ] = val;\n\t\t\t}\n\t\t}, method, val, arguments.length, null );\n\t};\n});\n\n// Add the top/left cssHooks using jQuery.fn.position\n// Webkit bug: https://bugs.webkit.org/show_bug.cgi?id=29084\n// getComputedStyle returns percent when specified for top/left/bottom/right\n// rather than make the css module depend on the offset module, we just check for it here\njQuery.each( [ \"top\", \"left\" ], function( i, prop ) {\n\tjQuery.cssHooks[ prop ] = addGetHookIf( support.pixelPosition,\n\t\tfunction( elem, computed ) {\n\t\t\tif ( computed ) {\n\t\t\t\tcomputed = curCSS( elem, prop );\n\t\t\t\t// if curCSS returns percentage, fallback to offset\n\t\t\t\treturn rnumnonpx.test( computed ) ?\n\t\t\t\t\tjQuery( elem ).position()[ prop ] + \"px\" :\n\t\t\t\t\tcomputed;\n\t\t\t}\n\t\t}\n\t);\n});\n\n\n// Create innerHeight, innerWidth, height, width, outerHeight and outerWidth methods\njQuery.each( { Height: \"height\", Width: \"width\" }, function( name, type ) {\n\tjQuery.each( { padding: \"inner\" + name, content: type, \"\": \"outer\" + name }, function( defaultExtra, funcName ) {\n\t\t// margin is only for outerHeight, outerWidth\n\t\tjQuery.fn[ funcName ] = function( margin, value ) {\n\t\t\tvar chainable = arguments.length && ( defaultExtra || typeof margin !== \"boolean\" ),\n\t\t\t\textra = defaultExtra || ( margin === true || value === true ? \"margin\" : \"border\" );\n\n\t\t\treturn access( this, function( elem, type, value ) {\n\t\t\t\tvar doc;\n\n\t\t\t\tif ( jQuery.isWindow( elem ) ) {\n\t\t\t\t\t// As of 5/8/2012 this will yield incorrect results for Mobile Safari, but there\n\t\t\t\t\t// isn't a whole lot we can do. See pull request at this URL for discussion:\n\t\t\t\t\t// https://github.com/jquery/jquery/pull/764\n\t\t\t\t\treturn elem.document.documentElement[ \"client\" + name ];\n\t\t\t\t}\n\n\t\t\t\t// Get document width or height\n\t\t\t\tif ( elem.nodeType === 9 ) {\n\t\t\t\t\tdoc = elem.documentElement;\n\n\t\t\t\t\t// Either scroll[Width/Height] or offset[Width/Height] or client[Width/Height],\n\t\t\t\t\t// whichever is greatest\n\t\t\t\t\treturn Math.max(\n\t\t\t\t\t\telem.body[ \"scroll\" + name ], doc[ \"scroll\" + name ],\n\t\t\t\t\t\telem.body[ \"offset\" + name ], doc[ \"offset\" + name ],\n\t\t\t\t\t\tdoc[ \"client\" + name ]\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\treturn value === undefined ?\n\t\t\t\t\t// Get width or height on the element, requesting but not forcing parseFloat\n\t\t\t\t\tjQuery.css( elem, type, extra ) :\n\n\t\t\t\t\t// Set width or height on the element\n\t\t\t\t\tjQuery.style( elem, type, value, extra );\n\t\t\t}, type, chainable ? margin : undefined, chainable, null );\n\t\t};\n\t});\n});\n\n\n// The number of elements contained in the matched element set\njQuery.fn.size = function() {\n\treturn this.length;\n};\n\njQuery.fn.andSelf = jQuery.fn.addBack;\n\n\n\n\n// Register as a named AMD module, since jQuery can be concatenated with other\n// files that may use define, but not via a proper concatenation script that\n// understands anonymous AMD modules. A named AMD is safest and most robust\n// way to register. Lowercase jquery is used because AMD module names are\n// derived from file names, and jQuery is normally delivered in a lowercase\n// file name. Do this after creating the global so that if an AMD module wants\n// to call noConflict to hide this version of jQuery, it will work.\n\n// Note that for maximum portability, libraries that are not jQuery should\n// declare themselves as anonymous modules, and avoid setting a global if an\n// AMD loader is present. jQuery is a special case. For more information, see\n// https://github.com/jrburke/requirejs/wiki/Updating-existing-libraries#wiki-anon\n\n//if ( typeof define === \"function\" && define.amd ) {\n//\tdefine( \"jquery\", [], function() {\n//\t\treturn jQuery;\n//\t});\n//}\n\n\n\n\nvar\n\t// Map over jQuery in case of overwrite\n\t_jQuery = window.jQuery,\n\n\t// Map over the $ in case of overwrite\n\t_$ = window.$;\n\njQuery.noConflict = function( deep ) {\n\tif ( window.$ === jQuery ) {\n\t\twindow.$ = _$;\n\t}\n\n\tif ( deep && window.jQuery === jQuery ) {\n\t\twindow.jQuery = _jQuery;\n\t}\n\n\treturn jQuery;\n};\n\n// Expose jQuery and $ identifiers, even in\n// AMD (#7102#comment:10, https://github.com/jquery/jquery/pull/557)\n// and CommonJS for browser emulators (#13566)\nif ( typeof noGlobal === strundefined ) {\n\twindow.jQuery = window.$ = jQuery;\n}\n\n\n\n\nreturn jQuery;\n\n}));\n\n// END JQUERY SOURCE\nreturn jQuery.noConflict(true);\n});\n","define('taoQtiItem/portableLib/OAT/util/xml',[],function(){\n    \n    return {\n        addNamespace : function addMarkupNamespace(xml, ns){\n            return ns ? xml.replace(/<(\\/)?([^!\\/:>]+)(\\/)?>/g, '<$1' + ns + ':$2$3>') : xml;\n        },\n        removeNamespace : function removeNamespace(markup){\n            return markup.replace(/<(\\/)?(\\w*):([^>]*)>/g, '<$1$3>');\n        }\n    };\n});\n","define('taoQtiItem/portableLib/OAT/util/math',['taoQtiItem/portableLib/jquery_2_1_1', 'mathJax'], function($, MathJax){\n    'use strict';\n    return {\n        render : function render($container){\n            if(MathJax){\n                $container.find('math').each(function(){\n                    var $wrap;\n                    var $math = $(this);\n                    $math.wrap($('<span>', {'class' : 'math-renderer'}));\n                    $wrap = $math.parent('.math-renderer');\n                    MathJax.Hub.Queue([\"Typeset\", MathJax.Hub, $wrap[0]]);\n                });\n            }\n        }\n    };\n});\n","/*\n * qTip2 - Pretty powerful tooltips - v3.0.3\n * http://qtip2.com\n *\n * Copyright (c) 2016\n * Released under the MIT licenses\n * http://jquery.org/license\n *\n * Date: Wed May 11 2016 10:31 GMT+0100+0100\n * Plugins: tips modal viewport svg imagemap ie6\n * Styles: core basic css3\n *\n * =====================================================================\n * OAT WARNING : Line 25 has been changed from the original source code.\n * =====================================================================\n */\n/*global window: false, jQuery: false, console: false, define: false */\n/* Cache window, document, undefined */\n(function( window, document, undefined ) {\n\n// Uses AMD or browser globals to create a jQuery plugin.\n\t(function( factory ) {\n\t\t\"use strict\";\n\t\tif(typeof define === 'function' && define.amd) {\n\t\t\tdefine('taoQtiItem/portableLib/jquery.qtip',['taoQtiItem/portableLib/jquery_2_1_1'], factory);\n\t\t}\n\t\telse if(jQuery && !jQuery.fn.qtip) {\n\t\t\tfactory(jQuery);\n\t\t}\n\t}\n\t(function($) {\n\t\t\"use strict\"; // Enable ECMAScript \"strict\" operation for this function. See more: http://ejohn.org/blog/ecmascript-5-strict-mode-json-and-more/\n\t\t;// Munge the primitives - Paul Irish tip\n\t\tvar TRUE = true,\n\t\t\tFALSE = false,\n\t\t\tNULL = null,\n\n// Common variables\n\t\t\tX = 'x', Y = 'y',\n\t\t\tWIDTH = 'width',\n\t\t\tHEIGHT = 'height',\n\n// Positioning sides\n\t\t\tTOP = 'top',\n\t\t\tLEFT = 'left',\n\t\t\tBOTTOM = 'bottom',\n\t\t\tRIGHT = 'right',\n\t\t\tCENTER = 'center',\n\n// Position adjustment types\n\t\t\tFLIP = 'flip',\n\t\t\tFLIPINVERT = 'flipinvert',\n\t\t\tSHIFT = 'shift',\n\n// Shortcut vars\n\t\t\tQTIP, PROTOTYPE, CORNER, CHECKS,\n\t\t\tPLUGINS = {},\n\t\t\tNAMESPACE = 'qtip',\n\t\t\tATTR_HAS = 'data-hasqtip',\n\t\t\tATTR_ID = 'data-qtip-id',\n\t\t\tWIDGET = ['ui-widget', 'ui-tooltip'],\n\t\t\tSELECTOR = '.'+NAMESPACE,\n\t\t\tINACTIVE_EVENTS = 'click dblclick mousedown mouseup mousemove mouseleave mouseenter'.split(' '),\n\n\t\t\tCLASS_FIXED = NAMESPACE+'-fixed',\n\t\t\tCLASS_DEFAULT = NAMESPACE + '-default',\n\t\t\tCLASS_FOCUS = NAMESPACE + '-focus',\n\t\t\tCLASS_HOVER = NAMESPACE + '-hover',\n\t\t\tCLASS_DISABLED = NAMESPACE+'-disabled',\n\n\t\t\treplaceSuffix = '_replacedByqTip',\n\t\t\toldtitle = 'oldtitle',\n\t\t\ttrackingBound,\n\n// Browser detection\n\t\t\tBROWSER = {\n\t\t\t\t/*\n\t\t\t\t * IE version detection\n\t\t\t\t *\n\t\t\t\t * Adapted from: http://ajaxian.com/archives/attack-of-the-ie-conditional-comment\n\t\t\t\t * Credit to James Padolsey for the original implemntation!\n\t\t\t\t */\n\t\t\t\tie: (function() {\n\t\t\t\t\t/* eslint-disable no-empty */\n\t\t\t\t\tvar v, i;\n\t\t\t\t\tfor (\n\t\t\t\t\t\tv = 4, i = document.createElement('div');\n\t\t\t\t\t\t(i.innerHTML = '<!--[if gt IE ' + v + ']><i></i><![endif]-->') && i.getElementsByTagName('i')[0];\n\t\t\t\t\t\tv+=1\n\t\t\t\t\t) {}\n\t\t\t\t\treturn v > 4 ? v : NaN;\n\t\t\t\t\t/* eslint-enable no-empty */\n\t\t\t\t})(),\n\n\t\t\t\t/*\n\t\t\t\t * iOS version detection\n\t\t\t\t */\n\t\t\t\tiOS: parseFloat(\n\t\t\t\t\t('' + (/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent) || [0,''])[1])\n\t\t\t\t\t\t.replace('undefined', '3_2').replace('_', '.').replace('_', '')\n\t\t\t\t) || FALSE\n\t\t\t};\n\t\t;function QTip(target, options, id, attr) {\n\t\t\t// Elements and ID\n\t\t\tthis.id = id;\n\t\t\tthis.target = target;\n\t\t\tthis.tooltip = NULL;\n\t\t\tthis.elements = { target: target };\n\n\t\t\t// Internal constructs\n\t\t\tthis._id = NAMESPACE + '-' + id;\n\t\t\tthis.timers = { img: {} };\n\t\t\tthis.options = options;\n\t\t\tthis.plugins = {};\n\n\t\t\t// Cache object\n\t\t\tthis.cache = {\n\t\t\t\tevent: {},\n\t\t\t\ttarget: $(),\n\t\t\t\tdisabled: FALSE,\n\t\t\t\tattr: attr,\n\t\t\t\tonTooltip: FALSE,\n\t\t\t\tlastClass: ''\n\t\t\t};\n\n\t\t\t// Set the initial flags\n\t\t\tthis.rendered = this.destroyed = this.disabled = this.waiting =\n\t\t\t\tthis.hiddenDuringWait = this.positioning = this.triggering = FALSE;\n\t\t}\n\t\tPROTOTYPE = QTip.prototype;\n\n\t\tPROTOTYPE._when = function(deferreds) {\n\t\t\treturn $.when.apply($, deferreds);\n\t\t};\n\n\t\tPROTOTYPE.render = function(show) {\n\t\t\tif(this.rendered || this.destroyed) { return this; } // If tooltip has already been rendered, exit\n\n\t\t\tvar self = this,\n\t\t\t\toptions = this.options,\n\t\t\t\tcache = this.cache,\n\t\t\t\telements = this.elements,\n\t\t\t\ttext = options.content.text,\n\t\t\t\ttitle = options.content.title,\n\t\t\t\tbutton = options.content.button,\n\t\t\t\tposOptions = options.position,\n\t\t\t\tdeferreds = [];\n\n\t\t\t// Add ARIA attributes to target\n\t\t\t$.attr(this.target[0], 'aria-describedby', this._id);\n\n\t\t\t// Create public position object that tracks current position corners\n\t\t\tcache.posClass = this._createPosClass(\n\t\t\t\t(this.position = { my: posOptions.my, at: posOptions.at }).my\n\t\t\t);\n\n\t\t\t// Create tooltip element\n\t\t\tthis.tooltip = elements.tooltip = $('<div/>', {\n\t\t\t\t'id': this._id,\n\t\t\t\t'class': [ NAMESPACE, CLASS_DEFAULT, options.style.classes, cache.posClass ].join(' '),\n\t\t\t\t'width': options.style.width || '',\n\t\t\t\t'height': options.style.height || '',\n\t\t\t\t'tracking': posOptions.target === 'mouse' && posOptions.adjust.mouse,\n\n\t\t\t\t/* ARIA specific attributes */\n\t\t\t\t'role': 'alert',\n\t\t\t\t'aria-live': 'polite',\n\t\t\t\t'aria-atomic': FALSE,\n\t\t\t\t'aria-describedby': this._id + '-content',\n\t\t\t\t'aria-hidden': TRUE\n\t\t\t})\n\t\t\t\t.toggleClass(CLASS_DISABLED, this.disabled)\n\t\t\t\t.attr(ATTR_ID, this.id)\n\t\t\t\t.data(NAMESPACE, this)\n\t\t\t\t.appendTo(posOptions.container)\n\t\t\t\t.append(\n\t\t\t\t\t// Create content element\n\t\t\t\t\telements.content = $('<div />', {\n\t\t\t\t\t\t'class': NAMESPACE + '-content',\n\t\t\t\t\t\t'id': this._id + '-content',\n\t\t\t\t\t\t'aria-atomic': TRUE\n\t\t\t\t\t})\n\t\t\t\t);\n\n\t\t\t// Set rendered flag and prevent redundant reposition calls for now\n\t\t\tthis.rendered = -1;\n\t\t\tthis.positioning = TRUE;\n\n\t\t\t// Create title...\n\t\t\tif(title) {\n\t\t\t\tthis._createTitle();\n\n\t\t\t\t// Update title only if its not a callback (called in toggle if so)\n\t\t\t\tif(!$.isFunction(title)) {\n\t\t\t\t\tdeferreds.push( this._updateTitle(title, FALSE) );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Create button\n\t\t\tif(button) { this._createButton(); }\n\n\t\t\t// Set proper rendered flag and update content if not a callback function (called in toggle)\n\t\t\tif(!$.isFunction(text)) {\n\t\t\t\tdeferreds.push( this._updateContent(text, FALSE) );\n\t\t\t}\n\t\t\tthis.rendered = TRUE;\n\n\t\t\t// Setup widget classes\n\t\t\tthis._setWidget();\n\n\t\t\t// Initialize 'render' plugins\n\t\t\t$.each(PLUGINS, function(name) {\n\t\t\t\tvar instance;\n\t\t\t\tif(this.initialize === 'render' && (instance = this(self))) {\n\t\t\t\t\tself.plugins[name] = instance;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Unassign initial events and assign proper events\n\t\t\tthis._unassignEvents();\n\t\t\tthis._assignEvents();\n\n\t\t\t// When deferreds have completed\n\t\t\tthis._when(deferreds).then(function() {\n\t\t\t\t// tooltiprender event\n\t\t\t\tself._trigger('render');\n\n\t\t\t\t// Reset flags\n\t\t\t\tself.positioning = FALSE;\n\n\t\t\t\t// Show tooltip if not hidden during wait period\n\t\t\t\tif(!self.hiddenDuringWait && (options.show.ready || show)) {\n\t\t\t\t\tself.toggle(TRUE, cache.event, FALSE);\n\t\t\t\t}\n\t\t\t\tself.hiddenDuringWait = FALSE;\n\t\t\t});\n\n\t\t\t// Expose API\n\t\t\tQTIP.api[this.id] = this;\n\n\t\t\treturn this;\n\t\t};\n\n\t\tPROTOTYPE.destroy = function(immediate) {\n\t\t\t// Set flag the signify destroy is taking place to plugins\n\t\t\t// and ensure it only gets destroyed once!\n\t\t\tif(this.destroyed) { return this.target; }\n\n\t\t\tfunction process() {\n\t\t\t\tif(this.destroyed) { return; }\n\t\t\t\tthis.destroyed = TRUE;\n\n\t\t\t\tvar target = this.target,\n\t\t\t\t\ttitle = target.attr(oldtitle),\n\t\t\t\t\ttimer;\n\n\t\t\t\t// Destroy tooltip if rendered\n\t\t\t\tif(this.rendered) {\n\t\t\t\t\tthis.tooltip.stop(1,0).find('*').remove().end().remove();\n\t\t\t\t}\n\n\t\t\t\t// Destroy all plugins\n\t\t\t\t$.each(this.plugins, function() {\n\t\t\t\t\tthis.destroy && this.destroy();\n\t\t\t\t});\n\n\t\t\t\t// Clear timers\n\t\t\t\tfor (timer in this.timers) {\n\t\t\t\t\tif (this.timers.hasOwnProperty(timer)) {\n\t\t\t\t\t\tclearTimeout(this.timers[timer]);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Remove api object and ARIA attributes\n\t\t\t\ttarget.removeData(NAMESPACE)\n\t\t\t\t\t.removeAttr(ATTR_ID)\n\t\t\t\t\t.removeAttr(ATTR_HAS)\n\t\t\t\t\t.removeAttr('aria-describedby');\n\n\t\t\t\t// Reset old title attribute if removed\n\t\t\t\tif(this.options.suppress && title) {\n\t\t\t\t\ttarget.attr('title', title).removeAttr(oldtitle);\n\t\t\t\t}\n\n\t\t\t\t// Remove qTip events associated with this API\n\t\t\t\tthis._unassignEvents();\n\n\t\t\t\t// Remove ID from used id objects, and delete object references\n\t\t\t\t// for better garbage collection and leak protection\n\t\t\t\tthis.options = this.elements = this.cache = this.timers =\n\t\t\t\t\tthis.plugins = this.mouse = NULL;\n\n\t\t\t\t// Delete epoxsed API object\n\t\t\t\tdelete QTIP.api[this.id];\n\t\t\t}\n\n\t\t\t// If an immediate destroy is needed\n\t\t\tif((immediate !== TRUE || this.triggering === 'hide') && this.rendered) {\n\t\t\t\tthis.tooltip.one('tooltiphidden', $.proxy(process, this));\n\t\t\t\t!this.triggering && this.hide();\n\t\t\t}\n\n\t\t\t// If we're not in the process of hiding... process\n\t\t\telse { process.call(this); }\n\n\t\t\treturn this.target;\n\t\t};\n\t\t;function invalidOpt(a) {\n\t\t\treturn a === NULL || $.type(a) !== 'object';\n\t\t}\n\n\t\tfunction invalidContent(c) {\n\t\t\treturn !($.isFunction(c) ||\n\t\t\tc && c.attr ||\n\t\t\tc.length ||\n\t\t\t$.type(c) === 'object' && (c.jquery || c.then));\n\t\t}\n\n// Option object sanitizer\n\t\tfunction sanitizeOptions(opts) {\n\t\t\tvar content, text, ajax, once;\n\n\t\t\tif(invalidOpt(opts)) { return FALSE; }\n\n\t\t\tif(invalidOpt(opts.metadata)) {\n\t\t\t\topts.metadata = { type: opts.metadata };\n\t\t\t}\n\n\t\t\tif('content' in opts) {\n\t\t\t\tcontent = opts.content;\n\n\t\t\t\tif(invalidOpt(content) || content.jquery || content.done) {\n\t\t\t\t\ttext = invalidContent(content) ? FALSE : content;\n\t\t\t\t\tcontent = opts.content = {\n\t\t\t\t\t\ttext: text\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\telse { text = content.text; }\n\n\t\t\t\t// DEPRECATED - Old content.ajax plugin functionality\n\t\t\t\t// Converts it into the proper Deferred syntax\n\t\t\t\tif('ajax' in content) {\n\t\t\t\t\tajax = content.ajax;\n\t\t\t\t\tonce = ajax && ajax.once !== FALSE;\n\t\t\t\t\tdelete content.ajax;\n\n\t\t\t\t\tcontent.text = function(event, api) {\n\t\t\t\t\t\tvar loading = text || $(this).attr(api.options.content.attr) || 'Loading...',\n\n\t\t\t\t\t\t\tdeferred = $.ajax(\n\t\t\t\t\t\t\t\t$.extend({}, ajax, { context: api })\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t.then(ajax.success, NULL, ajax.error)\n\t\t\t\t\t\t\t\t.then(function(newContent) {\n\t\t\t\t\t\t\t\t\t\tif(newContent && once) { api.set('content.text', newContent); }\n\t\t\t\t\t\t\t\t\t\treturn newContent;\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tfunction(xhr, status, error) {\n\t\t\t\t\t\t\t\t\t\tif(api.destroyed || xhr.status === 0) { return; }\n\t\t\t\t\t\t\t\t\t\tapi.set('content.text', status + ': ' + error);\n\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\treturn !once ? (api.set('content.text', loading), deferred) : loading;\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\tif('title' in content) {\n\t\t\t\t\tif($.isPlainObject(content.title)) {\n\t\t\t\t\t\tcontent.button = content.title.button;\n\t\t\t\t\t\tcontent.title = content.title.text;\n\t\t\t\t\t}\n\n\t\t\t\t\tif(invalidContent(content.title || FALSE)) {\n\t\t\t\t\t\tcontent.title = FALSE;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif('position' in opts && invalidOpt(opts.position)) {\n\t\t\t\topts.position = { my: opts.position, at: opts.position };\n\t\t\t}\n\n\t\t\tif('show' in opts && invalidOpt(opts.show)) {\n\t\t\t\topts.show = opts.show.jquery ? { target: opts.show } :\n\t\t\t\t\topts.show === TRUE ? { ready: TRUE } : { event: opts.show };\n\t\t\t}\n\n\t\t\tif('hide' in opts && invalidOpt(opts.hide)) {\n\t\t\t\topts.hide = opts.hide.jquery ? { target: opts.hide } : { event: opts.hide };\n\t\t\t}\n\n\t\t\tif('style' in opts && invalidOpt(opts.style)) {\n\t\t\t\topts.style = { classes: opts.style };\n\t\t\t}\n\n\t\t\t// Sanitize plugin options\n\t\t\t$.each(PLUGINS, function() {\n\t\t\t\tthis.sanitize && this.sanitize(opts);\n\t\t\t});\n\n\t\t\treturn opts;\n\t\t}\n\n// Setup builtin .set() option checks\n\t\tCHECKS = PROTOTYPE.checks = {\n\t\t\tbuiltin: {\n\t\t\t\t// Core checks\n\t\t\t\t'^id$': function(obj, o, v, prev) {\n\t\t\t\t\tvar id = v === TRUE ? QTIP.nextid : v,\n\t\t\t\t\t\tnewId = NAMESPACE + '-' + id;\n\n\t\t\t\t\tif(id !== FALSE && id.length > 0 && !$('#'+newId).length) {\n\t\t\t\t\t\tthis._id = newId;\n\n\t\t\t\t\t\tif(this.rendered) {\n\t\t\t\t\t\t\tthis.tooltip[0].id = this._id;\n\t\t\t\t\t\t\tthis.elements.content[0].id = this._id + '-content';\n\t\t\t\t\t\t\tthis.elements.title[0].id = this._id + '-title';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse { obj[o] = prev; }\n\t\t\t\t},\n\t\t\t\t'^prerender': function(obj, o, v) {\n\t\t\t\t\tv && !this.rendered && this.render(this.options.show.ready);\n\t\t\t\t},\n\n\t\t\t\t// Content checks\n\t\t\t\t'^content.text$': function(obj, o, v) {\n\t\t\t\t\tthis._updateContent(v);\n\t\t\t\t},\n\t\t\t\t'^content.attr$': function(obj, o, v, prev) {\n\t\t\t\t\tif(this.options.content.text === this.target.attr(prev)) {\n\t\t\t\t\t\tthis._updateContent( this.target.attr(v) );\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t'^content.title$': function(obj, o, v) {\n\t\t\t\t\t// Remove title if content is null\n\t\t\t\t\tif(!v) { return this._removeTitle(); }\n\n\t\t\t\t\t// If title isn't already created, create it now and update\n\t\t\t\t\tv && !this.elements.title && this._createTitle();\n\t\t\t\t\tthis._updateTitle(v);\n\t\t\t\t},\n\t\t\t\t'^content.button$': function(obj, o, v) {\n\t\t\t\t\tthis._updateButton(v);\n\t\t\t\t},\n\t\t\t\t'^content.title.(text|button)$': function(obj, o, v) {\n\t\t\t\t\tthis.set('content.'+o, v); // Backwards title.text/button compat\n\t\t\t\t},\n\n\t\t\t\t// Position checks\n\t\t\t\t'^position.(my|at)$': function(obj, o, v){\n\t\t\t\t\tif('string' === typeof v) {\n\t\t\t\t\t\tthis.position[o] = obj[o] = new CORNER(v, o === 'at');\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t'^position.container$': function(obj, o, v){\n\t\t\t\t\tthis.rendered && this.tooltip.appendTo(v);\n\t\t\t\t},\n\n\t\t\t\t// Show checks\n\t\t\t\t'^show.ready$': function(obj, o, v) {\n\t\t\t\t\tv && (!this.rendered && this.render(TRUE) || this.toggle(TRUE));\n\t\t\t\t},\n\n\t\t\t\t// Style checks\n\t\t\t\t'^style.classes$': function(obj, o, v, p) {\n\t\t\t\t\tthis.rendered && this.tooltip.removeClass(p).addClass(v);\n\t\t\t\t},\n\t\t\t\t'^style.(width|height)': function(obj, o, v) {\n\t\t\t\t\tthis.rendered && this.tooltip.css(o, v);\n\t\t\t\t},\n\t\t\t\t'^style.widget|content.title': function() {\n\t\t\t\t\tthis.rendered && this._setWidget();\n\t\t\t\t},\n\t\t\t\t'^style.def': function(obj, o, v) {\n\t\t\t\t\tthis.rendered && this.tooltip.toggleClass(CLASS_DEFAULT, !!v);\n\t\t\t\t},\n\n\t\t\t\t// Events check\n\t\t\t\t'^events.(render|show|move|hide|focus|blur)$': function(obj, o, v) {\n\t\t\t\t\tthis.rendered && this.tooltip[($.isFunction(v) ? '' : 'un') + 'bind']('tooltip'+o, v);\n\t\t\t\t},\n\n\t\t\t\t// Properties which require event reassignment\n\t\t\t\t'^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)': function() {\n\t\t\t\t\tif(!this.rendered) { return; }\n\n\t\t\t\t\t// Set tracking flag\n\t\t\t\t\tvar posOptions = this.options.position;\n\t\t\t\t\tthis.tooltip.attr('tracking', posOptions.target === 'mouse' && posOptions.adjust.mouse);\n\n\t\t\t\t\t// Reassign events\n\t\t\t\t\tthis._unassignEvents();\n\t\t\t\t\tthis._assignEvents();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n// Dot notation converter\n\t\tfunction convertNotation(options, notation) {\n\t\t\tvar i = 0, obj, option = options,\n\n\t\t\t\t// Split notation into array\n\t\t\t\tlevels = notation.split('.');\n\n\t\t\t// Loop through\n\t\t\twhile(option = option[ levels[i++] ]) {\n\t\t\t\tif(i < levels.length) { obj = option; }\n\t\t\t}\n\n\t\t\treturn [obj || options, levels.pop()];\n\t\t}\n\n\t\tPROTOTYPE.get = function(notation) {\n\t\t\tif(this.destroyed) { return this; }\n\n\t\t\tvar o = convertNotation(this.options, notation.toLowerCase()),\n\t\t\t\tresult = o[0][ o[1] ];\n\n\t\t\treturn result.precedance ? result.string() : result;\n\t\t};\n\n\t\tfunction setCallback(notation, args) {\n\t\t\tvar category, rule, match;\n\n\t\t\tfor(category in this.checks) {\n\t\t\t\tif (!this.checks.hasOwnProperty(category)) { continue; }\n\n\t\t\t\tfor(rule in this.checks[category]) {\n\t\t\t\t\tif (!this.checks[category].hasOwnProperty(rule)) { continue; }\n\n\t\t\t\t\tif(match = (new RegExp(rule, 'i')).exec(notation)) {\n\t\t\t\t\t\targs.push(match);\n\n\t\t\t\t\t\tif(category === 'builtin' || this.plugins[category]) {\n\t\t\t\t\t\t\tthis.checks[category][rule].apply(\n\t\t\t\t\t\t\t\tthis.plugins[category] || this, args\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tvar rmove = /^position\\.(my|at|adjust|target|container|viewport)|style|content|show\\.ready/i,\n\t\t\trrender = /^prerender|show\\.ready/i;\n\n\t\tPROTOTYPE.set = function(option, value) {\n\t\t\tif(this.destroyed) { return this; }\n\n\t\t\tvar rendered = this.rendered,\n\t\t\t\treposition = FALSE,\n\t\t\t\toptions = this.options,\n\t\t\t\tname;\n\n\t\t\t// Convert singular option/value pair into object form\n\t\t\tif('string' === typeof option) {\n\t\t\t\tname = option; option = {}; option[name] = value;\n\t\t\t}\n\t\t\telse { option = $.extend({}, option); }\n\n\t\t\t// Set all of the defined options to their new values\n\t\t\t$.each(option, function(notation, val) {\n\t\t\t\tif(rendered && rrender.test(notation)) {\n\t\t\t\t\tdelete option[notation]; return;\n\t\t\t\t}\n\n\t\t\t\t// Set new obj value\n\t\t\t\tvar obj = convertNotation(options, notation.toLowerCase()), previous;\n\t\t\t\tprevious = obj[0][ obj[1] ];\n\t\t\t\tobj[0][ obj[1] ] = val && val.nodeType ? $(val) : val;\n\n\t\t\t\t// Also check if we need to reposition\n\t\t\t\treposition = rmove.test(notation) || reposition;\n\n\t\t\t\t// Set the new params for the callback\n\t\t\t\toption[notation] = [obj[0], obj[1], val, previous];\n\t\t\t});\n\n\t\t\t// Re-sanitize options\n\t\t\tsanitizeOptions(options);\n\n\t\t\t/*\n\t\t\t * Execute any valid callbacks for the set options\n\t\t\t * Also set positioning flag so we don't get loads of redundant repositioning calls.\n\t\t\t */\n\t\t\tthis.positioning = TRUE;\n\t\t\t$.each(option, $.proxy(setCallback, this));\n\t\t\tthis.positioning = FALSE;\n\n\t\t\t// Update position if needed\n\t\t\tif(this.rendered && this.tooltip[0].offsetWidth > 0 && reposition) {\n\t\t\t\tthis.reposition( options.position.target === 'mouse' ? NULL : this.cache.event );\n\t\t\t}\n\n\t\t\treturn this;\n\t\t};\n\t\t;PROTOTYPE._update = function(content, element) {\n\t\t\tvar self = this,\n\t\t\t\tcache = this.cache;\n\n\t\t\t// Make sure tooltip is rendered and content is defined. If not return\n\t\t\tif(!this.rendered || !content) { return FALSE; }\n\n\t\t\t// Use function to parse content\n\t\t\tif($.isFunction(content)) {\n\t\t\t\tcontent = content.call(this.elements.target, cache.event, this) || '';\n\t\t\t}\n\n\t\t\t// Handle deferred content\n\t\t\tif($.isFunction(content.then)) {\n\t\t\t\tcache.waiting = TRUE;\n\t\t\t\treturn content.then(function(c) {\n\t\t\t\t\tcache.waiting = FALSE;\n\t\t\t\t\treturn self._update(c, element);\n\t\t\t\t}, NULL, function(e) {\n\t\t\t\t\treturn self._update(e, element);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// If content is null... return false\n\t\t\tif(content === FALSE || !content && content !== '') { return FALSE; }\n\n\t\t\t// Append new content if its a DOM array and show it if hidden\n\t\t\tif(content.jquery && content.length > 0) {\n\t\t\t\telement.empty().append(\n\t\t\t\t\tcontent.css({ display: 'block', visibility: 'visible' })\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// Content is a regular string, insert the new content\n\t\t\telse { element.html(content); }\n\n\t\t\t// Wait for content to be loaded, and reposition\n\t\t\treturn this._waitForContent(element).then(function(images) {\n\t\t\t\tif(self.rendered && self.tooltip[0].offsetWidth > 0) {\n\t\t\t\t\tself.reposition(cache.event, !images.length);\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\n\t\tPROTOTYPE._waitForContent = function(element) {\n\t\t\tvar cache = this.cache;\n\n\t\t\t// Set flag\n\t\t\tcache.waiting = TRUE;\n\n\t\t\t// If imagesLoaded is included, ensure images have loaded and return promise\n\t\t\treturn ( $.fn.imagesLoaded ? element.imagesLoaded() : new $.Deferred().resolve([]) )\n\t\t\t\t.done(function() { cache.waiting = FALSE; })\n\t\t\t\t.promise();\n\t\t};\n\n\t\tPROTOTYPE._updateContent = function(content, reposition) {\n\t\t\tthis._update(content, this.elements.content, reposition);\n\t\t};\n\n\t\tPROTOTYPE._updateTitle = function(content, reposition) {\n\t\t\tif(this._update(content, this.elements.title, reposition) === FALSE) {\n\t\t\t\tthis._removeTitle(FALSE);\n\t\t\t}\n\t\t};\n\n\t\tPROTOTYPE._createTitle = function()\n\t\t{\n\t\t\tvar elements = this.elements,\n\t\t\t\tid = this._id+'-title';\n\n\t\t\t// Destroy previous title element, if present\n\t\t\tif(elements.titlebar) { this._removeTitle(); }\n\n\t\t\t// Create title bar and title elements\n\t\t\telements.titlebar = $('<div />', {\n\t\t\t\t'class': NAMESPACE + '-titlebar ' + (this.options.style.widget ? createWidgetClass('header') : '')\n\t\t\t})\n\t\t\t\t.append(\n\t\t\t\t\telements.title = $('<div />', {\n\t\t\t\t\t\t'id': id,\n\t\t\t\t\t\t'class': NAMESPACE + '-title',\n\t\t\t\t\t\t'aria-atomic': TRUE\n\t\t\t\t\t})\n\t\t\t\t)\n\t\t\t\t.insertBefore(elements.content)\n\n\t\t\t\t// Button-specific events\n\t\t\t\t.delegate('.qtip-close', 'mousedown keydown mouseup keyup mouseout', function(event) {\n\t\t\t\t\t$(this).toggleClass('ui-state-active ui-state-focus', event.type.substr(-4) === 'down');\n\t\t\t\t})\n\t\t\t\t.delegate('.qtip-close', 'mouseover mouseout', function(event){\n\t\t\t\t\t$(this).toggleClass('ui-state-hover', event.type === 'mouseover');\n\t\t\t\t});\n\n\t\t\t// Create button if enabled\n\t\t\tif(this.options.content.button) { this._createButton(); }\n\t\t};\n\n\t\tPROTOTYPE._removeTitle = function(reposition)\n\t\t{\n\t\t\tvar elements = this.elements;\n\n\t\t\tif(elements.title) {\n\t\t\t\telements.titlebar.remove();\n\t\t\t\telements.titlebar = elements.title = elements.button = NULL;\n\n\t\t\t\t// Reposition if enabled\n\t\t\t\tif(reposition !== FALSE) { this.reposition(); }\n\t\t\t}\n\t\t};\n\t\t;PROTOTYPE._createPosClass = function(my) {\n\t\t\treturn NAMESPACE + '-pos-' + (my || this.options.position.my).abbrev();\n\t\t};\n\n\t\tPROTOTYPE.reposition = function(event, effect) {\n\t\t\tif(!this.rendered || this.positioning || this.destroyed) { return this; }\n\n\t\t\t// Set positioning flag\n\t\t\tthis.positioning = TRUE;\n\n\t\t\tvar cache = this.cache,\n\t\t\t\ttooltip = this.tooltip,\n\t\t\t\tposOptions = this.options.position,\n\t\t\t\ttarget = posOptions.target,\n\t\t\t\tmy = posOptions.my,\n\t\t\t\tat = posOptions.at,\n\t\t\t\tviewport = posOptions.viewport,\n\t\t\t\tcontainer = posOptions.container,\n\t\t\t\tadjust = posOptions.adjust,\n\t\t\t\tmethod = adjust.method.split(' '),\n\t\t\t\ttooltipWidth = tooltip.outerWidth(FALSE),\n\t\t\t\ttooltipHeight = tooltip.outerHeight(FALSE),\n\t\t\t\ttargetWidth = 0,\n\t\t\t\ttargetHeight = 0,\n\t\t\t\ttype = tooltip.css('position'),\n\t\t\t\tposition = { left: 0, top: 0 },\n\t\t\t\tvisible = tooltip[0].offsetWidth > 0,\n\t\t\t\tisScroll = event && event.type === 'scroll',\n\t\t\t\twin = $(window),\n\t\t\t\tdoc = container[0].ownerDocument,\n\t\t\t\tmouse = this.mouse,\n\t\t\t\tpluginCalculations, offset, adjusted, newClass;\n\n\t\t\t// Check if absolute position was passed\n\t\t\tif($.isArray(target) && target.length === 2) {\n\t\t\t\t// Force left top and set position\n\t\t\t\tat = { x: LEFT, y: TOP };\n\t\t\t\tposition = { left: target[0], top: target[1] };\n\t\t\t}\n\n\t\t\t// Check if mouse was the target\n\t\t\telse if(target === 'mouse') {\n\t\t\t\t// Force left top to allow flipping\n\t\t\t\tat = { x: LEFT, y: TOP };\n\n\t\t\t\t// Use the mouse origin that caused the show event, if distance hiding is enabled\n\t\t\t\tif((!adjust.mouse || this.options.hide.distance) && cache.origin && cache.origin.pageX) {\n\t\t\t\t\tevent =  cache.origin;\n\t\t\t\t}\n\n\t\t\t\t// Use cached event for resize/scroll events\n\t\t\t\telse if(!event || event && (event.type === 'resize' || event.type === 'scroll')) {\n\t\t\t\t\tevent = cache.event;\n\t\t\t\t}\n\n\t\t\t\t// Otherwise, use the cached mouse coordinates if available\n\t\t\t\telse if(mouse && mouse.pageX) {\n\t\t\t\t\tevent = mouse;\n\t\t\t\t}\n\n\t\t\t\t// Calculate body and container offset and take them into account below\n\t\t\t\tif(type !== 'static') { position = container.offset(); }\n\t\t\t\tif(doc.body.offsetWidth !== (window.innerWidth || doc.documentElement.clientWidth)) {\n\t\t\t\t\toffset = $(document.body).offset();\n\t\t\t\t}\n\n\t\t\t\t// Use event coordinates for position\n\t\t\t\tposition = {\n\t\t\t\t\tleft: event.pageX - position.left + (offset && offset.left || 0),\n\t\t\t\t\ttop: event.pageY - position.top + (offset && offset.top || 0)\n\t\t\t\t};\n\n\t\t\t\t// Scroll events are a pain, some browsers\n\t\t\t\tif(adjust.mouse && isScroll && mouse) {\n\t\t\t\t\tposition.left -= (mouse.scrollX || 0) - win.scrollLeft();\n\t\t\t\t\tposition.top -= (mouse.scrollY || 0) - win.scrollTop();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Target wasn't mouse or absolute...\n\t\t\telse {\n\t\t\t\t// Check if event targetting is being used\n\t\t\t\tif(target === 'event') {\n\t\t\t\t\tif(event && event.target && event.type !== 'scroll' && event.type !== 'resize') {\n\t\t\t\t\t\tcache.target = $(event.target);\n\t\t\t\t\t}\n\t\t\t\t\telse if(!event.target) {\n\t\t\t\t\t\tcache.target = this.elements.target;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if(target !== 'event'){\n\t\t\t\t\tcache.target = $(target.jquery ? target : this.elements.target);\n\t\t\t\t}\n\t\t\t\ttarget = cache.target;\n\n\t\t\t\t// Parse the target into a jQuery object and make sure there's an element present\n\t\t\t\ttarget = $(target).eq(0);\n\t\t\t\tif(target.length === 0) { return this; }\n\n\t\t\t\t// Check if window or document is the target\n\t\t\t\telse if(target[0] === document || target[0] === window) {\n\t\t\t\t\ttargetWidth = BROWSER.iOS ? window.innerWidth : target.width();\n\t\t\t\t\ttargetHeight = BROWSER.iOS ? window.innerHeight : target.height();\n\n\t\t\t\t\tif(target[0] === window) {\n\t\t\t\t\t\tposition = {\n\t\t\t\t\t\t\ttop: (viewport || target).scrollTop(),\n\t\t\t\t\t\t\tleft: (viewport || target).scrollLeft()\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Check if the target is an <AREA> element\n\t\t\t\telse if(PLUGINS.imagemap && target.is('area')) {\n\t\t\t\t\tpluginCalculations = PLUGINS.imagemap(this, target, at, PLUGINS.viewport ? method : FALSE);\n\t\t\t\t}\n\n\t\t\t\t// Check if the target is an SVG element\n\t\t\t\telse if(PLUGINS.svg && target && target[0].ownerSVGElement) {\n\t\t\t\t\tpluginCalculations = PLUGINS.svg(this, target, at, PLUGINS.viewport ? method : FALSE);\n\t\t\t\t}\n\n\t\t\t\t// Otherwise use regular jQuery methods\n\t\t\t\telse {\n\t\t\t\t\ttargetWidth = target.outerWidth(FALSE);\n\t\t\t\t\ttargetHeight = target.outerHeight(FALSE);\n\t\t\t\t\tposition = target.offset();\n\t\t\t\t}\n\n\t\t\t\t// Parse returned plugin values into proper variables\n\t\t\t\tif(pluginCalculations) {\n\t\t\t\t\ttargetWidth = pluginCalculations.width;\n\t\t\t\t\ttargetHeight = pluginCalculations.height;\n\t\t\t\t\toffset = pluginCalculations.offset;\n\t\t\t\t\tposition = pluginCalculations.position;\n\t\t\t\t}\n\n\t\t\t\t// Adjust position to take into account offset parents\n\t\t\t\tposition = this.reposition.offset(target, position, container);\n\n\t\t\t\t// Adjust for position.fixed tooltips (and also iOS scroll bug in v3.2-4.0 & v4.3-4.3.2)\n\t\t\t\tif(BROWSER.iOS > 3.1 && BROWSER.iOS < 4.1 ||\n\t\t\t\t\tBROWSER.iOS >= 4.3 && BROWSER.iOS < 4.33 ||\n\t\t\t\t\t!BROWSER.iOS && type === 'fixed'\n\t\t\t\t){\n\t\t\t\t\tposition.left -= win.scrollLeft();\n\t\t\t\t\tposition.top -= win.scrollTop();\n\t\t\t\t}\n\n\t\t\t\t// Adjust position relative to target\n\t\t\t\tif(!pluginCalculations || pluginCalculations && pluginCalculations.adjustable !== FALSE) {\n\t\t\t\t\tposition.left += at.x === RIGHT ? targetWidth : at.x === CENTER ? targetWidth / 2 : 0;\n\t\t\t\t\tposition.top += at.y === BOTTOM ? targetHeight : at.y === CENTER ? targetHeight / 2 : 0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Adjust position relative to tooltip\n\t\t\tposition.left += adjust.x + (my.x === RIGHT ? -tooltipWidth : my.x === CENTER ? -tooltipWidth / 2 : 0);\n\t\t\tposition.top += adjust.y + (my.y === BOTTOM ? -tooltipHeight : my.y === CENTER ? -tooltipHeight / 2 : 0);\n\n\t\t\t// Use viewport adjustment plugin if enabled\n\t\t\tif(PLUGINS.viewport) {\n\t\t\t\tadjusted = position.adjusted = PLUGINS.viewport(\n\t\t\t\t\tthis, position, posOptions, targetWidth, targetHeight, tooltipWidth, tooltipHeight\n\t\t\t\t);\n\n\t\t\t\t// Apply offsets supplied by positioning plugin (if used)\n\t\t\t\tif(offset && adjusted.left) { position.left += offset.left; }\n\t\t\t\tif(offset && adjusted.top) {  position.top += offset.top; }\n\n\t\t\t\t// Apply any new 'my' position\n\t\t\t\tif(adjusted.my) { this.position.my = adjusted.my; }\n\t\t\t}\n\n\t\t\t// Viewport adjustment is disabled, set values to zero\n\t\t\telse { position.adjusted = { left: 0, top: 0 }; }\n\n\t\t\t// Set tooltip position class if it's changed\n\t\t\tif(cache.posClass !== (newClass = this._createPosClass(this.position.my))) {\n\t\t\t\tcache.posClass = newClass;\n\t\t\t\ttooltip.removeClass(cache.posClass).addClass(newClass);\n\t\t\t}\n\n\t\t\t// tooltipmove event\n\t\t\tif(!this._trigger('move', [position, viewport.elem || viewport], event)) { return this; }\n\t\t\tdelete position.adjusted;\n\n\t\t\t// If effect is disabled, target it mouse, no animation is defined or positioning gives NaN out, set CSS directly\n\t\t\tif(effect === FALSE || !visible || isNaN(position.left) || isNaN(position.top) || target === 'mouse' || !$.isFunction(posOptions.effect)) {\n\t\t\t\ttooltip.css(position);\n\t\t\t}\n\n\t\t\t// Use custom function if provided\n\t\t\telse if($.isFunction(posOptions.effect)) {\n\t\t\t\tposOptions.effect.call(tooltip, this, $.extend({}, position));\n\t\t\t\ttooltip.queue(function(next) {\n\t\t\t\t\t// Reset attributes to avoid cross-browser rendering bugs\n\t\t\t\t\t$(this).css({ opacity: '', height: '' });\n\t\t\t\t\tif(BROWSER.ie) { this.style.removeAttribute('filter'); }\n\n\t\t\t\t\tnext();\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Set positioning flag\n\t\t\tthis.positioning = FALSE;\n\n\t\t\treturn this;\n\t\t};\n\n// Custom (more correct for qTip!) offset calculator\n\t\tPROTOTYPE.reposition.offset = function(elem, pos, container) {\n\t\t\tif(!container[0]) { return pos; }\n\n\t\t\tvar ownerDocument = $(elem[0].ownerDocument),\n\t\t\t\tquirks = !!BROWSER.ie && document.compatMode !== 'CSS1Compat',\n\t\t\t\tparent = container[0],\n\t\t\t\tscrolled, position, parentOffset, overflow;\n\n\t\t\tfunction scroll(e, i) {\n\t\t\t\tpos.left += i * e.scrollLeft();\n\t\t\t\tpos.top += i * e.scrollTop();\n\t\t\t}\n\n\t\t\t// Compensate for non-static containers offset\n\t\t\tdo {\n\t\t\t\tif((position = $.css(parent, 'position')) !== 'static') {\n\t\t\t\t\tif(position === 'fixed') {\n\t\t\t\t\t\tparentOffset = parent.getBoundingClientRect();\n\t\t\t\t\t\tscroll(ownerDocument, -1);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tparentOffset = $(parent).position();\n\t\t\t\t\t\tparentOffset.left += parseFloat($.css(parent, 'borderLeftWidth')) || 0;\n\t\t\t\t\t\tparentOffset.top += parseFloat($.css(parent, 'borderTopWidth')) || 0;\n\t\t\t\t\t}\n\n\t\t\t\t\tpos.left -= parentOffset.left + (parseFloat($.css(parent, 'marginLeft')) || 0);\n\t\t\t\t\tpos.top -= parentOffset.top + (parseFloat($.css(parent, 'marginTop')) || 0);\n\n\t\t\t\t\t// If this is the first parent element with an overflow of \"scroll\" or \"auto\", store it\n\t\t\t\t\tif(!scrolled && (overflow = $.css(parent, 'overflow')) !== 'hidden' && overflow !== 'visible') { scrolled = $(parent); }\n\t\t\t\t}\n\t\t\t}\n\t\t\twhile(parent = parent.offsetParent);\n\n\t\t\t// Compensate for containers scroll if it also has an offsetParent (or in IE quirks mode)\n\t\t\tif(scrolled && (scrolled[0] !== ownerDocument[0] || quirks)) {\n\t\t\t\tscroll(scrolled, 1);\n\t\t\t}\n\n\t\t\treturn pos;\n\t\t};\n\n// Corner class\n\t\tvar C = (CORNER = PROTOTYPE.reposition.Corner = function(corner, forceY) {\n\t\t\tcorner = ('' + corner).replace(/([A-Z])/, ' $1').replace(/middle/gi, CENTER).toLowerCase();\n\t\t\tthis.x = (corner.match(/left|right/i) || corner.match(/center/) || ['inherit'])[0].toLowerCase();\n\t\t\tthis.y = (corner.match(/top|bottom|center/i) || ['inherit'])[0].toLowerCase();\n\t\t\tthis.forceY = !!forceY;\n\n\t\t\tvar f = corner.charAt(0);\n\t\t\tthis.precedance = f === 't' || f === 'b' ? Y : X;\n\t\t}).prototype;\n\n\t\tC.invert = function(z, center) {\n\t\t\tthis[z] = this[z] === LEFT ? RIGHT : this[z] === RIGHT ? LEFT : center || this[z];\n\t\t};\n\n\t\tC.string = function(join) {\n\t\t\tvar x = this.x, y = this.y;\n\n\t\t\tvar result = x !== y ?\n\t\t\t\tx === 'center' || y !== 'center' && (this.precedance === Y || this.forceY) ?\n\t\t\t\t\t[y,x] :\n\t\t\t\t\t[x,y] :\n\t\t\t\t[x];\n\n\t\t\treturn join !== false ? result.join(' ') : result;\n\t\t};\n\n\t\tC.abbrev = function() {\n\t\t\tvar result = this.string(false);\n\t\t\treturn result[0].charAt(0) + (result[1] && result[1].charAt(0) || '');\n\t\t};\n\n\t\tC.clone = function() {\n\t\t\treturn new CORNER( this.string(), this.forceY );\n\t\t};\n\n\t\t;\n\t\tPROTOTYPE.toggle = function(state, event) {\n\t\t\tvar cache = this.cache,\n\t\t\t\toptions = this.options,\n\t\t\t\ttooltip = this.tooltip;\n\n\t\t\t// Try to prevent flickering when tooltip overlaps show element\n\t\t\tif(event) {\n\t\t\t\tif((/over|enter/).test(event.type) && cache.event && (/out|leave/).test(cache.event.type) &&\n\t\t\t\t\toptions.show.target.add(event.target).length === options.show.target.length &&\n\t\t\t\t\ttooltip.has(event.relatedTarget).length) {\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\n\t\t\t\t// Cache event\n\t\t\t\tcache.event = $.event.fix(event);\n\t\t\t}\n\n\t\t\t// If we're currently waiting and we've just hidden... stop it\n\t\t\tthis.waiting && !state && (this.hiddenDuringWait = TRUE);\n\n\t\t\t// Render the tooltip if showing and it isn't already\n\t\t\tif(!this.rendered) { return state ? this.render(1) : this; }\n\t\t\telse if(this.destroyed || this.disabled) { return this; }\n\n\t\t\tvar type = state ? 'show' : 'hide',\n\t\t\t\topts = this.options[type],\n\t\t\t\tposOptions = this.options.position,\n\t\t\t\tcontentOptions = this.options.content,\n\t\t\t\twidth = this.tooltip.css('width'),\n\t\t\t\tvisible = this.tooltip.is(':visible'),\n\t\t\t\tanimate = state || opts.target.length === 1,\n\t\t\t\tsameTarget = !event || opts.target.length < 2 || cache.target[0] === event.target,\n\t\t\t\tidenticalState, allow, after;\n\n\t\t\t// Detect state if valid one isn't provided\n\t\t\tif((typeof state).search('boolean|number')) { state = !visible; }\n\n\t\t\t// Check if the tooltip is in an identical state to the new would-be state\n\t\t\tidenticalState = !tooltip.is(':animated') && visible === state && sameTarget;\n\n\t\t\t// Fire tooltip(show/hide) event and check if destroyed\n\t\t\tallow = !identicalState ? !!this._trigger(type, [90]) : NULL;\n\n\t\t\t// Check to make sure the tooltip wasn't destroyed in the callback\n\t\t\tif(this.destroyed) { return this; }\n\n\t\t\t// If the user didn't stop the method prematurely and we're showing the tooltip, focus it\n\t\t\tif(allow !== FALSE && state) { this.focus(event); }\n\n\t\t\t// If the state hasn't changed or the user stopped it, return early\n\t\t\tif(!allow || identicalState) { return this; }\n\n\t\t\t// Set ARIA hidden attribute\n\t\t\t$.attr(tooltip[0], 'aria-hidden', !!!state);\n\n\t\t\t// Execute state specific properties\n\t\t\tif(state) {\n\t\t\t\t// Store show origin coordinates\n\t\t\t\tthis.mouse && (cache.origin = $.event.fix(this.mouse));\n\n\t\t\t\t// Update tooltip content & title if it's a dynamic function\n\t\t\t\tif($.isFunction(contentOptions.text)) { this._updateContent(contentOptions.text, FALSE); }\n\t\t\t\tif($.isFunction(contentOptions.title)) { this._updateTitle(contentOptions.title, FALSE); }\n\n\t\t\t\t// Cache mousemove events for positioning purposes (if not already tracking)\n\t\t\t\tif(!trackingBound && posOptions.target === 'mouse' && posOptions.adjust.mouse) {\n\t\t\t\t\t$(document).bind('mousemove.'+NAMESPACE, this._storeMouse);\n\t\t\t\t\ttrackingBound = TRUE;\n\t\t\t\t}\n\n\t\t\t\t// Update the tooltip position (set width first to prevent viewport/max-width issues)\n\t\t\t\tif(!width) { tooltip.css('width', tooltip.outerWidth(FALSE)); }\n\t\t\t\tthis.reposition(event, arguments[2]);\n\t\t\t\tif(!width) { tooltip.css('width', ''); }\n\n\t\t\t\t// Hide other tooltips if tooltip is solo\n\t\t\t\tif(!!opts.solo) {\n\t\t\t\t\t(typeof opts.solo === 'string' ? $(opts.solo) : $(SELECTOR, opts.solo))\n\t\t\t\t\t\t.not(tooltip).not(opts.target).qtip('hide', new $.Event('tooltipsolo'));\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// Clear show timer if we're hiding\n\t\t\t\tclearTimeout(this.timers.show);\n\n\t\t\t\t// Remove cached origin on hide\n\t\t\t\tdelete cache.origin;\n\n\t\t\t\t// Remove mouse tracking event if not needed (all tracking qTips are hidden)\n\t\t\t\tif(trackingBound && !$(SELECTOR+'[tracking=\"true\"]:visible', opts.solo).not(tooltip).length) {\n\t\t\t\t\t$(document).unbind('mousemove.'+NAMESPACE);\n\t\t\t\t\ttrackingBound = FALSE;\n\t\t\t\t}\n\n\t\t\t\t// Blur the tooltip\n\t\t\t\tthis.blur(event);\n\t\t\t}\n\n\t\t\t// Define post-animation, state specific properties\n\t\t\tafter = $.proxy(function() {\n\t\t\t\tif(state) {\n\t\t\t\t\t// Prevent antialias from disappearing in IE by removing filter\n\t\t\t\t\tif(BROWSER.ie) { tooltip[0].style.removeAttribute('filter'); }\n\n\t\t\t\t\t// Remove overflow setting to prevent tip bugs\n\t\t\t\t\ttooltip.css('overflow', '');\n\n\t\t\t\t\t// Autofocus elements if enabled\n\t\t\t\t\tif('string' === typeof opts.autofocus) {\n\t\t\t\t\t\t$(this.options.show.autofocus, tooltip).focus();\n\t\t\t\t\t}\n\n\t\t\t\t\t// If set, hide tooltip when inactive for delay period\n\t\t\t\t\tthis.options.show.target.trigger('qtip-'+this.id+'-inactive');\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t// Reset CSS states\n\t\t\t\t\ttooltip.css({\n\t\t\t\t\t\tdisplay: '',\n\t\t\t\t\t\tvisibility: '',\n\t\t\t\t\t\topacity: '',\n\t\t\t\t\t\tleft: '',\n\t\t\t\t\t\ttop: ''\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t// tooltipvisible/tooltiphidden events\n\t\t\t\tthis._trigger(state ? 'visible' : 'hidden');\n\t\t\t}, this);\n\n\t\t\t// If no effect type is supplied, use a simple toggle\n\t\t\tif(opts.effect === FALSE || animate === FALSE) {\n\t\t\t\ttooltip[ type ]();\n\t\t\t\tafter();\n\t\t\t}\n\n\t\t\t// Use custom function if provided\n\t\t\telse if($.isFunction(opts.effect)) {\n\t\t\t\ttooltip.stop(1, 1);\n\t\t\t\topts.effect.call(tooltip, this);\n\t\t\t\ttooltip.queue('fx', function(n) {\n\t\t\t\t\tafter(); n();\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Use basic fade function by default\n\t\t\telse { tooltip.fadeTo(90, state ? 1 : 0, after); }\n\n\t\t\t// If inactive hide method is set, active it\n\t\t\tif(state) { opts.target.trigger('qtip-'+this.id+'-inactive'); }\n\n\t\t\treturn this;\n\t\t};\n\n\t\tPROTOTYPE.show = function(event) { return this.toggle(TRUE, event); };\n\n\t\tPROTOTYPE.hide = function(event) { return this.toggle(FALSE, event); };\n\t\t;PROTOTYPE.focus = function(event) {\n\t\t\tif(!this.rendered || this.destroyed) { return this; }\n\n\t\t\tvar qtips = $(SELECTOR),\n\t\t\t\ttooltip = this.tooltip,\n\t\t\t\tcurIndex = parseInt(tooltip[0].style.zIndex, 10),\n\t\t\t\tnewIndex = QTIP.zindex + qtips.length;\n\n\t\t\t// Only update the z-index if it has changed and tooltip is not already focused\n\t\t\tif(!tooltip.hasClass(CLASS_FOCUS)) {\n\t\t\t\t// tooltipfocus event\n\t\t\t\tif(this._trigger('focus', [newIndex], event)) {\n\t\t\t\t\t// Only update z-index's if they've changed\n\t\t\t\t\tif(curIndex !== newIndex) {\n\t\t\t\t\t\t// Reduce our z-index's and keep them properly ordered\n\t\t\t\t\t\tqtips.each(function() {\n\t\t\t\t\t\t\tif(this.style.zIndex > curIndex) {\n\t\t\t\t\t\t\t\tthis.style.zIndex = this.style.zIndex - 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\t// Fire blur event for focused tooltip\n\t\t\t\t\t\tqtips.filter('.' + CLASS_FOCUS).qtip('blur', event);\n\t\t\t\t\t}\n\n\t\t\t\t\t// Set the new z-index\n\t\t\t\t\ttooltip.addClass(CLASS_FOCUS)[0].style.zIndex = newIndex;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn this;\n\t\t};\n\n\t\tPROTOTYPE.blur = function(event) {\n\t\t\tif(!this.rendered || this.destroyed) { return this; }\n\n\t\t\t// Set focused status to FALSE\n\t\t\tthis.tooltip.removeClass(CLASS_FOCUS);\n\n\t\t\t// tooltipblur event\n\t\t\tthis._trigger('blur', [ this.tooltip.css('zIndex') ], event);\n\n\t\t\treturn this;\n\t\t};\n\t\t;PROTOTYPE.disable = function(state) {\n\t\t\tif(this.destroyed) { return this; }\n\n\t\t\t// If 'toggle' is passed, toggle the current state\n\t\t\tif(state === 'toggle') {\n\t\t\t\tstate = !(this.rendered ? this.tooltip.hasClass(CLASS_DISABLED) : this.disabled);\n\t\t\t}\n\n\t\t\t// Disable if no state passed\n\t\t\telse if('boolean' !== typeof state) {\n\t\t\t\tstate = TRUE;\n\t\t\t}\n\n\t\t\tif(this.rendered) {\n\t\t\t\tthis.tooltip.toggleClass(CLASS_DISABLED, state)\n\t\t\t\t\t.attr('aria-disabled', state);\n\t\t\t}\n\n\t\t\tthis.disabled = !!state;\n\n\t\t\treturn this;\n\t\t};\n\n\t\tPROTOTYPE.enable = function() { return this.disable(FALSE); };\n\t\t;PROTOTYPE._createButton = function()\n\t\t{\n\t\t\tvar self = this,\n\t\t\t\telements = this.elements,\n\t\t\t\ttooltip = elements.tooltip,\n\t\t\t\tbutton = this.options.content.button,\n\t\t\t\tisString = typeof button === 'string',\n\t\t\t\tclose = isString ? button : 'Close tooltip';\n\n\t\t\tif(elements.button) { elements.button.remove(); }\n\n\t\t\t// Use custom button if one was supplied by user, else use default\n\t\t\tif(button.jquery) {\n\t\t\t\telements.button = button;\n\t\t\t}\n\t\t\telse {\n\t\t\t\telements.button = $('<a />', {\n\t\t\t\t\t'class': 'qtip-close ' + (this.options.style.widget ? '' : NAMESPACE+'-icon'),\n\t\t\t\t\t'title': close,\n\t\t\t\t\t'aria-label': close\n\t\t\t\t})\n\t\t\t\t\t.prepend(\n\t\t\t\t\t\t$('<span />', {\n\t\t\t\t\t\t\t'class': 'ui-icon ui-icon-close',\n\t\t\t\t\t\t\t'html': '&times;'\n\t\t\t\t\t\t})\n\t\t\t\t\t);\n\t\t\t}\n\n\t\t\t// Create button and setup attributes\n\t\t\telements.button.appendTo(elements.titlebar || tooltip)\n\t\t\t\t.attr('role', 'button')\n\t\t\t\t.click(function(event) {\n\t\t\t\t\tif(!tooltip.hasClass(CLASS_DISABLED)) { self.hide(event); }\n\t\t\t\t\treturn FALSE;\n\t\t\t\t});\n\t\t};\n\n\t\tPROTOTYPE._updateButton = function(button)\n\t\t{\n\t\t\t// Make sure tooltip is rendered and if not, return\n\t\t\tif(!this.rendered) { return FALSE; }\n\n\t\t\tvar elem = this.elements.button;\n\t\t\tif(button) { this._createButton(); }\n\t\t\telse { elem.remove(); }\n\t\t};\n\t\t;// Widget class creator\n\t\tfunction createWidgetClass(cls) {\n\t\t\treturn WIDGET.concat('').join(cls ? '-'+cls+' ' : ' ');\n\t\t}\n\n// Widget class setter method\n\t\tPROTOTYPE._setWidget = function()\n\t\t{\n\t\t\tvar on = this.options.style.widget,\n\t\t\t\telements = this.elements,\n\t\t\t\ttooltip = elements.tooltip,\n\t\t\t\tdisabled = tooltip.hasClass(CLASS_DISABLED);\n\n\t\t\ttooltip.removeClass(CLASS_DISABLED);\n\t\t\tCLASS_DISABLED = on ? 'ui-state-disabled' : 'qtip-disabled';\n\t\t\ttooltip.toggleClass(CLASS_DISABLED, disabled);\n\n\t\t\ttooltip.toggleClass('ui-helper-reset '+createWidgetClass(), on).toggleClass(CLASS_DEFAULT, this.options.style.def && !on);\n\n\t\t\tif(elements.content) {\n\t\t\t\telements.content.toggleClass( createWidgetClass('content'), on);\n\t\t\t}\n\t\t\tif(elements.titlebar) {\n\t\t\t\telements.titlebar.toggleClass( createWidgetClass('header'), on);\n\t\t\t}\n\t\t\tif(elements.button) {\n\t\t\t\telements.button.toggleClass(NAMESPACE+'-icon', !on);\n\t\t\t}\n\t\t};\n\t\t;function delay(callback, duration) {\n\t\t\t// If tooltip has displayed, start hide timer\n\t\t\tif(duration > 0) {\n\t\t\t\treturn setTimeout(\n\t\t\t\t\t$.proxy(callback, this), duration\n\t\t\t\t);\n\t\t\t}\n\t\t\telse{ callback.call(this); }\n\t\t}\n\n\t\tfunction showMethod(event) {\n\t\t\tif(this.tooltip.hasClass(CLASS_DISABLED)) { return; }\n\n\t\t\t// Clear hide timers\n\t\t\tclearTimeout(this.timers.show);\n\t\t\tclearTimeout(this.timers.hide);\n\n\t\t\t// Start show timer\n\t\t\tthis.timers.show = delay.call(this,\n\t\t\t\tfunction() { this.toggle(TRUE, event); },\n\t\t\t\tthis.options.show.delay\n\t\t\t);\n\t\t}\n\n\t\tfunction hideMethod(event) {\n\t\t\tif(this.tooltip.hasClass(CLASS_DISABLED) || this.destroyed) { return; }\n\n\t\t\t// Check if new target was actually the tooltip element\n\t\t\tvar relatedTarget = $(event.relatedTarget),\n\t\t\t\tontoTooltip = relatedTarget.closest(SELECTOR)[0] === this.tooltip[0],\n\t\t\t\tontoTarget = relatedTarget[0] === this.options.show.target[0];\n\n\t\t\t// Clear timers and stop animation queue\n\t\t\tclearTimeout(this.timers.show);\n\t\t\tclearTimeout(this.timers.hide);\n\n\t\t\t// Prevent hiding if tooltip is fixed and event target is the tooltip.\n\t\t\t// Or if mouse positioning is enabled and cursor momentarily overlaps\n\t\t\tif(this !== relatedTarget[0] &&\n\t\t\t\t(this.options.position.target === 'mouse' && ontoTooltip) ||\n\t\t\t\tthis.options.hide.fixed && (\n\t\t\t\t(/mouse(out|leave|move)/).test(event.type) && (ontoTooltip || ontoTarget))\n\t\t\t)\n\t\t\t{\n\t\t\t\t/* eslint-disable no-empty */\n\t\t\t\ttry {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tevent.stopImmediatePropagation();\n\t\t\t\t} catch(e) {}\n\t\t\t\t/* eslint-enable no-empty */\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// If tooltip has displayed, start hide timer\n\t\t\tthis.timers.hide = delay.call(this,\n\t\t\t\tfunction() { this.toggle(FALSE, event); },\n\t\t\t\tthis.options.hide.delay,\n\t\t\t\tthis\n\t\t\t);\n\t\t}\n\n\t\tfunction inactiveMethod(event) {\n\t\t\tif(this.tooltip.hasClass(CLASS_DISABLED) || !this.options.hide.inactive) { return; }\n\n\t\t\t// Clear timer\n\t\t\tclearTimeout(this.timers.inactive);\n\n\t\t\tthis.timers.inactive = delay.call(this,\n\t\t\t\tfunction(){ this.hide(event); },\n\t\t\t\tthis.options.hide.inactive\n\t\t\t);\n\t\t}\n\n\t\tfunction repositionMethod(event) {\n\t\t\tif(this.rendered && this.tooltip[0].offsetWidth > 0) { this.reposition(event); }\n\t\t}\n\n// Store mouse coordinates\n\t\tPROTOTYPE._storeMouse = function(event) {\n\t\t\t(this.mouse = $.event.fix(event)).type = 'mousemove';\n\t\t\treturn this;\n\t\t};\n\n// Bind events\n\t\tPROTOTYPE._bind = function(targets, events, method, suffix, context) {\n\t\t\tif(!targets || !method || !events.length) { return; }\n\t\t\tvar ns = '.' + this._id + (suffix ? '-'+suffix : '');\n\t\t\t$(targets).bind(\n\t\t\t\t(events.split ? events : events.join(ns + ' ')) + ns,\n\t\t\t\t$.proxy(method, context || this)\n\t\t\t);\n\t\t\treturn this;\n\t\t};\n\t\tPROTOTYPE._unbind = function(targets, suffix) {\n\t\t\ttargets && $(targets).unbind('.' + this._id + (suffix ? '-'+suffix : ''));\n\t\t\treturn this;\n\t\t};\n\n// Global delegation helper\n\t\tfunction delegate(selector, events, method) {\n\t\t\t$(document.body).delegate(selector,\n\t\t\t\t(events.split ? events : events.join('.'+NAMESPACE + ' ')) + '.'+NAMESPACE,\n\t\t\t\tfunction() {\n\t\t\t\t\tvar api = QTIP.api[ $.attr(this, ATTR_ID) ];\n\t\t\t\t\tapi && !api.disabled && method.apply(api, arguments);\n\t\t\t\t}\n\t\t\t);\n\t\t}\n// Event trigger\n\t\tPROTOTYPE._trigger = function(type, args, event) {\n\t\t\tvar callback = new $.Event('tooltip'+type);\n\t\t\tcallback.originalEvent = event && $.extend({}, event) || this.cache.event || NULL;\n\n\t\t\tthis.triggering = type;\n\t\t\tthis.tooltip.trigger(callback, [this].concat(args || []));\n\t\t\tthis.triggering = FALSE;\n\n\t\t\treturn !callback.isDefaultPrevented();\n\t\t};\n\n\t\tPROTOTYPE._bindEvents = function(showEvents, hideEvents, showTargets, hideTargets, showCallback, hideCallback) {\n\t\t\t// Get tasrgets that lye within both\n\t\t\tvar similarTargets = showTargets.filter( hideTargets ).add( hideTargets.filter(showTargets) ),\n\t\t\t\ttoggleEvents = [];\n\n\t\t\t// If hide and show targets are the same...\n\t\t\tif(similarTargets.length) {\n\n\t\t\t\t// Filter identical show/hide events\n\t\t\t\t$.each(hideEvents, function(i, type) {\n\t\t\t\t\tvar showIndex = $.inArray(type, showEvents);\n\n\t\t\t\t\t// Both events are identical, remove from both hide and show events\n\t\t\t\t\t// and append to toggleEvents\n\t\t\t\t\tshowIndex > -1 && toggleEvents.push( showEvents.splice( showIndex, 1 )[0] );\n\t\t\t\t});\n\n\t\t\t\t// Toggle events are special case of identical show/hide events, which happen in sequence\n\t\t\t\tif(toggleEvents.length) {\n\t\t\t\t\t// Bind toggle events to the similar targets\n\t\t\t\t\tthis._bind(similarTargets, toggleEvents, function(event) {\n\t\t\t\t\t\tvar state = this.rendered ? this.tooltip[0].offsetWidth > 0 : false;\n\t\t\t\t\t\t(state ? hideCallback : showCallback).call(this, event);\n\t\t\t\t\t});\n\n\t\t\t\t\t// Remove the similar targets from the regular show/hide bindings\n\t\t\t\t\tshowTargets = showTargets.not(similarTargets);\n\t\t\t\t\thideTargets = hideTargets.not(similarTargets);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Apply show/hide/toggle events\n\t\t\tthis._bind(showTargets, showEvents, showCallback);\n\t\t\tthis._bind(hideTargets, hideEvents, hideCallback);\n\t\t};\n\n\t\tPROTOTYPE._assignInitialEvents = function(event) {\n\t\t\tvar options = this.options,\n\t\t\t\tshowTarget = options.show.target,\n\t\t\t\thideTarget = options.hide.target,\n\t\t\t\tshowEvents = options.show.event ? $.trim('' + options.show.event).split(' ') : [],\n\t\t\t\thideEvents = options.hide.event ? $.trim('' + options.hide.event).split(' ') : [];\n\n\t\t\t// Catch remove/removeqtip events on target element to destroy redundant tooltips\n\t\t\tthis._bind(this.elements.target, ['remove', 'removeqtip'], function() {\n\t\t\t\tthis.destroy(true);\n\t\t\t}, 'destroy');\n\n\t\t\t/*\n\t\t\t * Make sure hoverIntent functions properly by using mouseleave as a hide event if\n\t\t\t * mouseenter/mouseout is used for show.event, even if it isn't in the users options.\n\t\t\t */\n\t\t\tif(/mouse(over|enter)/i.test(options.show.event) && !/mouse(out|leave)/i.test(options.hide.event)) {\n\t\t\t\thideEvents.push('mouseleave');\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * Also make sure initial mouse targetting works correctly by caching mousemove coords\n\t\t\t * on show targets before the tooltip has rendered. Also set onTarget when triggered to\n\t\t\t * keep mouse tracking working.\n\t\t\t */\n\t\t\tthis._bind(showTarget, 'mousemove', function(moveEvent) {\n\t\t\t\tthis._storeMouse(moveEvent);\n\t\t\t\tthis.cache.onTarget = TRUE;\n\t\t\t});\n\n\t\t\t// Define hoverIntent function\n\t\t\tfunction hoverIntent(hoverEvent) {\n\t\t\t\t// Only continue if tooltip isn't disabled\n\t\t\t\tif(this.disabled || this.destroyed) { return FALSE; }\n\n\t\t\t\t// Cache the event data\n\t\t\t\tthis.cache.event = hoverEvent && $.event.fix(hoverEvent);\n\t\t\t\tthis.cache.target = hoverEvent && $(hoverEvent.target);\n\n\t\t\t\t// Start the event sequence\n\t\t\t\tclearTimeout(this.timers.show);\n\t\t\t\tthis.timers.show = delay.call(this,\n\t\t\t\t\tfunction() { this.render(typeof hoverEvent === 'object' || options.show.ready); },\n\t\t\t\t\toptions.prerender ? 0 : options.show.delay\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// Filter and bind events\n\t\t\tthis._bindEvents(showEvents, hideEvents, showTarget, hideTarget, hoverIntent, function() {\n\t\t\t\tif(!this.timers) { return FALSE; }\n\t\t\t\tclearTimeout(this.timers.show);\n\t\t\t});\n\n\t\t\t// Prerendering is enabled, create tooltip now\n\t\t\tif(options.show.ready || options.prerender) { hoverIntent.call(this, event); }\n\t\t};\n\n// Event assignment method\n\t\tPROTOTYPE._assignEvents = function() {\n\t\t\tvar self = this,\n\t\t\t\toptions = this.options,\n\t\t\t\tposOptions = options.position,\n\n\t\t\t\ttooltip = this.tooltip,\n\t\t\t\tshowTarget = options.show.target,\n\t\t\t\thideTarget = options.hide.target,\n\t\t\t\tcontainerTarget = posOptions.container,\n\t\t\t\tviewportTarget = posOptions.viewport,\n\t\t\t\tdocumentTarget = $(document),\n\t\t\t\twindowTarget = $(window),\n\n\t\t\t\tshowEvents = options.show.event ? $.trim('' + options.show.event).split(' ') : [],\n\t\t\t\thideEvents = options.hide.event ? $.trim('' + options.hide.event).split(' ') : [];\n\n\n\t\t\t// Assign passed event callbacks\n\t\t\t$.each(options.events, function(name, callback) {\n\t\t\t\tself._bind(tooltip, name === 'toggle' ? ['tooltipshow','tooltiphide'] : ['tooltip'+name], callback, null, tooltip);\n\t\t\t});\n\n\t\t\t// Hide tooltips when leaving current window/frame (but not select/option elements)\n\t\t\tif(/mouse(out|leave)/i.test(options.hide.event) && options.hide.leave === 'window') {\n\t\t\t\tthis._bind(documentTarget, ['mouseout', 'blur'], function(event) {\n\t\t\t\t\tif(!/select|option/.test(event.target.nodeName) && !event.relatedTarget) {\n\t\t\t\t\t\tthis.hide(event);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Enable hide.fixed by adding appropriate class\n\t\t\tif(options.hide.fixed) {\n\t\t\t\thideTarget = hideTarget.add( tooltip.addClass(CLASS_FIXED) );\n\t\t\t}\n\n\t\t\t/*\n\t\t\t * Make sure hoverIntent functions properly by using mouseleave to clear show timer if\n\t\t\t * mouseenter/mouseout is used for show.event, even if it isn't in the users options.\n\t\t\t */\n\t\t\telse if(/mouse(over|enter)/i.test(options.show.event)) {\n\t\t\t\tthis._bind(hideTarget, 'mouseleave', function() {\n\t\t\t\t\tclearTimeout(this.timers.show);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Hide tooltip on document mousedown if unfocus events are enabled\n\t\t\tif(('' + options.hide.event).indexOf('unfocus') > -1) {\n\t\t\t\tthis._bind(containerTarget.closest('html'), ['mousedown', 'touchstart'], function(event) {\n\t\t\t\t\tvar elem = $(event.target),\n\t\t\t\t\t\tenabled = this.rendered && !this.tooltip.hasClass(CLASS_DISABLED) && this.tooltip[0].offsetWidth > 0,\n\t\t\t\t\t\tisAncestor = elem.parents(SELECTOR).filter(this.tooltip[0]).length > 0;\n\n\t\t\t\t\tif(elem[0] !== this.target[0] && elem[0] !== this.tooltip[0] && !isAncestor &&\n\t\t\t\t\t\t!this.target.has(elem[0]).length && enabled\n\t\t\t\t\t) {\n\t\t\t\t\t\tthis.hide(event);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Check if the tooltip hides when inactive\n\t\t\tif('number' === typeof options.hide.inactive) {\n\t\t\t\t// Bind inactive method to show target(s) as a custom event\n\t\t\t\tthis._bind(showTarget, 'qtip-'+this.id+'-inactive', inactiveMethod, 'inactive');\n\n\t\t\t\t// Define events which reset the 'inactive' event handler\n\t\t\t\tthis._bind(hideTarget.add(tooltip), QTIP.inactiveEvents, inactiveMethod);\n\t\t\t}\n\n\t\t\t// Filter and bind events\n\t\t\tthis._bindEvents(showEvents, hideEvents, showTarget, hideTarget, showMethod, hideMethod);\n\n\t\t\t// Mouse movement bindings\n\t\t\tthis._bind(showTarget.add(tooltip), 'mousemove', function(event) {\n\t\t\t\t// Check if the tooltip hides when mouse is moved a certain distance\n\t\t\t\tif('number' === typeof options.hide.distance) {\n\t\t\t\t\tvar origin = this.cache.origin || {},\n\t\t\t\t\t\tlimit = this.options.hide.distance,\n\t\t\t\t\t\tabs = Math.abs;\n\n\t\t\t\t\t// Check if the movement has gone beyond the limit, and hide it if so\n\t\t\t\t\tif(abs(event.pageX - origin.pageX) >= limit || abs(event.pageY - origin.pageY) >= limit) {\n\t\t\t\t\t\tthis.hide(event);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Cache mousemove coords on show targets\n\t\t\t\tthis._storeMouse(event);\n\t\t\t});\n\n\t\t\t// Mouse positioning events\n\t\t\tif(posOptions.target === 'mouse') {\n\t\t\t\t// If mouse adjustment is on...\n\t\t\t\tif(posOptions.adjust.mouse) {\n\t\t\t\t\t// Apply a mouseleave event so we don't get problems with overlapping\n\t\t\t\t\tif(options.hide.event) {\n\t\t\t\t\t\t// Track if we're on the target or not\n\t\t\t\t\t\tthis._bind(showTarget, ['mouseenter', 'mouseleave'], function(event) {\n\t\t\t\t\t\t\tif(!this.cache) {return FALSE; }\n\t\t\t\t\t\t\tthis.cache.onTarget = event.type === 'mouseenter';\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\t// Update tooltip position on mousemove\n\t\t\t\t\tthis._bind(documentTarget, 'mousemove', function(event) {\n\t\t\t\t\t\t// Update the tooltip position only if the tooltip is visible and adjustment is enabled\n\t\t\t\t\t\tif(this.rendered && this.cache.onTarget && !this.tooltip.hasClass(CLASS_DISABLED) && this.tooltip[0].offsetWidth > 0) {\n\t\t\t\t\t\t\tthis.reposition(event);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Adjust positions of the tooltip on window resize if enabled\n\t\t\tif(posOptions.adjust.resize || viewportTarget.length) {\n\t\t\t\tthis._bind( $.event.special.resize ? viewportTarget : windowTarget, 'resize', repositionMethod );\n\t\t\t}\n\n\t\t\t// Adjust tooltip position on scroll of the window or viewport element if present\n\t\t\tif(posOptions.adjust.scroll) {\n\t\t\t\tthis._bind( windowTarget.add(posOptions.container), 'scroll', repositionMethod );\n\t\t\t}\n\t\t};\n\n// Un-assignment method\n\t\tPROTOTYPE._unassignEvents = function() {\n\t\t\tvar options = this.options,\n\t\t\t\tshowTargets = options.show.target,\n\t\t\t\thideTargets = options.hide.target,\n\t\t\t\ttargets = $.grep([\n\t\t\t\t\tthis.elements.target[0],\n\t\t\t\t\tthis.rendered && this.tooltip[0],\n\t\t\t\t\toptions.position.container[0],\n\t\t\t\t\toptions.position.viewport[0],\n\t\t\t\t\toptions.position.container.closest('html')[0], // unfocus\n\t\t\t\t\twindow,\n\t\t\t\t\tdocument\n\t\t\t\t], function(i) {\n\t\t\t\t\treturn typeof i === 'object';\n\t\t\t\t});\n\n\t\t\t// Add show and hide targets if they're valid\n\t\t\tif(showTargets && showTargets.toArray) {\n\t\t\t\ttargets = targets.concat(showTargets.toArray());\n\t\t\t}\n\t\t\tif(hideTargets && hideTargets.toArray) {\n\t\t\t\ttargets = targets.concat(hideTargets.toArray());\n\t\t\t}\n\n\t\t\t// Unbind the events\n\t\t\tthis._unbind(targets)\n\t\t\t\t._unbind(targets, 'destroy')\n\t\t\t\t._unbind(targets, 'inactive');\n\t\t};\n\n// Apply common event handlers using delegate (avoids excessive .bind calls!)\n\t\t$(function() {\n\t\t\tdelegate(SELECTOR, ['mouseenter', 'mouseleave'], function(event) {\n\t\t\t\tvar state = event.type === 'mouseenter',\n\t\t\t\t\ttooltip = $(event.currentTarget),\n\t\t\t\t\ttarget = $(event.relatedTarget || event.target),\n\t\t\t\t\toptions = this.options;\n\n\t\t\t\t// On mouseenter...\n\t\t\t\tif(state) {\n\t\t\t\t\t// Focus the tooltip on mouseenter (z-index stacking)\n\t\t\t\t\tthis.focus(event);\n\n\t\t\t\t\t// Clear hide timer on tooltip hover to prevent it from closing\n\t\t\t\t\ttooltip.hasClass(CLASS_FIXED) && !tooltip.hasClass(CLASS_DISABLED) && clearTimeout(this.timers.hide);\n\t\t\t\t}\n\n\t\t\t\t// On mouseleave...\n\t\t\t\telse {\n\t\t\t\t\t// When mouse tracking is enabled, hide when we leave the tooltip and not onto the show target (if a hide event is set)\n\t\t\t\t\tif(options.position.target === 'mouse' && options.position.adjust.mouse &&\n\t\t\t\t\t\toptions.hide.event && options.show.target && !target.closest(options.show.target[0]).length) {\n\t\t\t\t\t\tthis.hide(event);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Add hover class\n\t\t\t\ttooltip.toggleClass(CLASS_HOVER, state);\n\t\t\t});\n\n\t\t\t// Define events which reset the 'inactive' event handler\n\t\t\tdelegate('['+ATTR_ID+']', INACTIVE_EVENTS, inactiveMethod);\n\t\t});\n\t\t;// Initialization method\n\t\tfunction init(elem, id, opts) {\n\t\t\tvar obj, posOptions, attr, config, title,\n\n\t\t\t\t// Setup element references\n\t\t\t\tdocBody = $(document.body),\n\n\t\t\t\t// Use document body instead of document element if needed\n\t\t\t\tnewTarget = elem[0] === document ? docBody : elem,\n\n\t\t\t\t// Grab metadata from element if plugin is present\n\t\t\t\tmetadata = elem.metadata ? elem.metadata(opts.metadata) : NULL,\n\n\t\t\t\t// If metadata type if HTML5, grab 'name' from the object instead, or use the regular data object otherwise\n\t\t\t\tmetadata5 = opts.metadata.type === 'html5' && metadata ? metadata[opts.metadata.name] : NULL,\n\n\t\t\t\t// Grab data from metadata.name (or data-qtipopts as fallback) using .data() method,\n\t\t\t\thtml5 = elem.data(opts.metadata.name || 'qtipopts');\n\n\t\t\t// If we don't get an object returned attempt to parse it manualyl without parseJSON\n\t\t\t/* eslint-disable no-empty */\n\t\t\ttry { html5 = typeof html5 === 'string' ? $.parseJSON(html5) : html5; }\n\t\t\tcatch(e) {}\n\t\t\t/* eslint-enable no-empty */\n\n\t\t\t// Merge in and sanitize metadata\n\t\t\tconfig = $.extend(TRUE, {}, QTIP.defaults, opts,\n\t\t\t\ttypeof html5 === 'object' ? sanitizeOptions(html5) : NULL,\n\t\t\t\tsanitizeOptions(metadata5 || metadata));\n\n\t\t\t// Re-grab our positioning options now we've merged our metadata and set id to passed value\n\t\t\tposOptions = config.position;\n\t\t\tconfig.id = id;\n\n\t\t\t// Setup missing content if none is detected\n\t\t\tif('boolean' === typeof config.content.text) {\n\t\t\t\tattr = elem.attr(config.content.attr);\n\n\t\t\t\t// Grab from supplied attribute if available\n\t\t\t\tif(config.content.attr !== FALSE && attr) { config.content.text = attr; }\n\n\t\t\t\t// No valid content was found, abort render\n\t\t\t\telse { return FALSE; }\n\t\t\t}\n\n\t\t\t// Setup target options\n\t\t\tif(!posOptions.container.length) { posOptions.container = docBody; }\n\t\t\tif(posOptions.target === FALSE) { posOptions.target = newTarget; }\n\t\t\tif(config.show.target === FALSE) { config.show.target = newTarget; }\n\t\t\tif(config.show.solo === TRUE) { config.show.solo = posOptions.container.closest('body'); }\n\t\t\tif(config.hide.target === FALSE) { config.hide.target = newTarget; }\n\t\t\tif(config.position.viewport === TRUE) { config.position.viewport = posOptions.container; }\n\n\t\t\t// Ensure we only use a single container\n\t\t\tposOptions.container = posOptions.container.eq(0);\n\n\t\t\t// Convert position corner values into x and y strings\n\t\t\tposOptions.at = new CORNER(posOptions.at, TRUE);\n\t\t\tposOptions.my = new CORNER(posOptions.my);\n\n\t\t\t// Destroy previous tooltip if overwrite is enabled, or skip element if not\n\t\t\tif(elem.data(NAMESPACE)) {\n\t\t\t\tif(config.overwrite) {\n\t\t\t\t\telem.qtip('destroy', true);\n\t\t\t\t}\n\t\t\t\telse if(config.overwrite === FALSE) {\n\t\t\t\t\treturn FALSE;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Add has-qtip attribute\n\t\t\telem.attr(ATTR_HAS, id);\n\n\t\t\t// Remove title attribute and store it if present\n\t\t\tif(config.suppress && (title = elem.attr('title'))) {\n\t\t\t\t// Final attr call fixes event delegatiom and IE default tooltip showing problem\n\t\t\t\telem.removeAttr('title').attr(oldtitle, title).attr('title', '');\n\t\t\t}\n\n\t\t\t// Initialize the tooltip and add API reference\n\t\t\tobj = new QTip(elem, config, id, !!attr);\n\t\t\telem.data(NAMESPACE, obj);\n\n\t\t\treturn obj;\n\t\t}\n\n// jQuery $.fn extension method\n\t\tQTIP = $.fn.qtip = function(options, notation, newValue)\n\t\t{\n\t\t\tvar command = ('' + options).toLowerCase(), // Parse command\n\t\t\t\treturned = NULL,\n\t\t\t\targs = $.makeArray(arguments).slice(1),\n\t\t\t\tevent = args[args.length - 1],\n\t\t\t\topts = this[0] ? $.data(this[0], NAMESPACE) : NULL;\n\n\t\t\t// Check for API request\n\t\t\tif(!arguments.length && opts || command === 'api') {\n\t\t\t\treturn opts;\n\t\t\t}\n\n\t\t\t// Execute API command if present\n\t\t\telse if('string' === typeof options) {\n\t\t\t\tthis.each(function() {\n\t\t\t\t\tvar api = $.data(this, NAMESPACE);\n\t\t\t\t\tif(!api) { return TRUE; }\n\n\t\t\t\t\t// Cache the event if possible\n\t\t\t\t\tif(event && event.timeStamp) { api.cache.event = event; }\n\n\t\t\t\t\t// Check for specific API commands\n\t\t\t\t\tif(notation && (command === 'option' || command === 'options')) {\n\t\t\t\t\t\tif(newValue !== undefined || $.isPlainObject(notation)) {\n\t\t\t\t\t\t\tapi.set(notation, newValue);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\treturned = api.get(notation);\n\t\t\t\t\t\t\treturn FALSE;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Execute API command\n\t\t\t\t\telse if(api[command]) {\n\t\t\t\t\t\tapi[command].apply(api, args);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\treturn returned !== NULL ? returned : this;\n\t\t\t}\n\n\t\t\t// No API commands. validate provided options and setup qTips\n\t\t\telse if('object' === typeof options || !arguments.length) {\n\t\t\t\t// Sanitize options first\n\t\t\t\topts = sanitizeOptions($.extend(TRUE, {}, options));\n\n\t\t\t\treturn this.each(function(i) {\n\t\t\t\t\tvar api, id;\n\n\t\t\t\t\t// Find next available ID, or use custom ID if provided\n\t\t\t\t\tid = $.isArray(opts.id) ? opts.id[i] : opts.id;\n\t\t\t\t\tid = !id || id === FALSE || id.length < 1 || QTIP.api[id] ? QTIP.nextid++ : id;\n\n\t\t\t\t\t// Initialize the qTip and re-grab newly sanitized options\n\t\t\t\t\tapi = init($(this), id, opts);\n\t\t\t\t\tif(api === FALSE) { return TRUE; }\n\t\t\t\t\telse { QTIP.api[id] = api; }\n\n\t\t\t\t\t// Initialize plugins\n\t\t\t\t\t$.each(PLUGINS, function() {\n\t\t\t\t\t\tif(this.initialize === 'initialize') { this(api); }\n\t\t\t\t\t});\n\n\t\t\t\t\t// Assign initial pre-render events\n\t\t\t\t\tapi._assignInitialEvents(event);\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\n// Expose class\n\t\t$.qtip = QTip;\n\n// Populated in render method\n\t\tQTIP.api = {};\n\t\t;$.each({\n\t\t\t/* Allow other plugins to successfully retrieve the title of an element with a qTip applied */\n\t\t\tattr: function(attr, val) {\n\t\t\t\tif(this.length) {\n\t\t\t\t\tvar self = this[0],\n\t\t\t\t\t\ttitle = 'title',\n\t\t\t\t\t\tapi = $.data(self, 'qtip');\n\n\t\t\t\t\tif(attr === title && api && api.options && 'object' === typeof api && 'object' === typeof api.options && api.options.suppress) {\n\t\t\t\t\t\tif(arguments.length < 2) {\n\t\t\t\t\t\t\treturn $.attr(self, oldtitle);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// If qTip is rendered and title was originally used as content, update it\n\t\t\t\t\t\tif(api && api.options.content.attr === title && api.cache.attr) {\n\t\t\t\t\t\t\tapi.set('content.text', val);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Use the regular attr method to set, then cache the result\n\t\t\t\t\t\treturn this.attr(oldtitle, val);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn $.fn['attr'+replaceSuffix].apply(this, arguments);\n\t\t\t},\n\n\t\t\t/* Allow clone to correctly retrieve cached title attributes */\n\t\t\tclone: function(keepData) {\n\t\t\t\t// Clone our element using the real clone method\n\t\t\t\tvar elems = $.fn['clone'+replaceSuffix].apply(this, arguments);\n\n\t\t\t\t// Grab all elements with an oldtitle set, and change it to regular title attribute, if keepData is false\n\t\t\t\tif(!keepData) {\n\t\t\t\t\telems.filter('['+oldtitle+']').attr('title', function() {\n\t\t\t\t\t\treturn $.attr(this, oldtitle);\n\t\t\t\t\t})\n\t\t\t\t\t\t.removeAttr(oldtitle);\n\t\t\t\t}\n\n\t\t\t\treturn elems;\n\t\t\t}\n\t\t}, function(name, func) {\n\t\t\tif(!func || $.fn[name+replaceSuffix]) { return TRUE; }\n\n\t\t\tvar old = $.fn[name+replaceSuffix] = $.fn[name];\n\t\t\t$.fn[name] = function() {\n\t\t\t\treturn func.apply(this, arguments) || old.apply(this, arguments);\n\t\t\t};\n\t\t});\n\n\t\t/* Fire off 'removeqtip' handler in $.cleanData if jQuery UI not present (it already does similar).\n\t\t * This snippet is taken directly from jQuery UI source code found here:\n\t\t *     http://code.jquery.com/ui/jquery-ui-git.js\n\t\t */\n\t\tif(!$.ui) {\n\t\t\t$['cleanData'+replaceSuffix] = $.cleanData;\n\t\t\t$.cleanData = function( elems ) {\n\t\t\t\tfor(var i = 0, elem; (elem = $( elems[i] )).length; i++) {\n\t\t\t\t\tif(elem.attr(ATTR_HAS)) {\n\t\t\t\t\t\t/* eslint-disable no-empty */\n\t\t\t\t\t\ttry { elem.triggerHandler('removeqtip'); }\n\t\t\t\t\t\tcatch( e ) {}\n\t\t\t\t\t\t/* eslint-enable no-empty */\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t$['cleanData'+replaceSuffix].apply(this, arguments);\n\t\t\t};\n\t\t}\n\t\t;// qTip version\n\t\tQTIP.version = '3.0.3';\n\n// Base ID for all qTips\n\t\tQTIP.nextid = 0;\n\n// Inactive events array\n\t\tQTIP.inactiveEvents = INACTIVE_EVENTS;\n\n// Base z-index for all qTips\n\t\tQTIP.zindex = 15000;\n\n// Define configuration defaults\n\t\tQTIP.defaults = {\n\t\t\tprerender: FALSE,\n\t\t\tid: FALSE,\n\t\t\toverwrite: TRUE,\n\t\t\tsuppress: TRUE,\n\t\t\tcontent: {\n\t\t\t\ttext: TRUE,\n\t\t\t\tattr: 'title',\n\t\t\t\ttitle: FALSE,\n\t\t\t\tbutton: FALSE\n\t\t\t},\n\t\t\tposition: {\n\t\t\t\tmy: 'top left',\n\t\t\t\tat: 'bottom right',\n\t\t\t\ttarget: FALSE,\n\t\t\t\tcontainer: FALSE,\n\t\t\t\tviewport: FALSE,\n\t\t\t\tadjust: {\n\t\t\t\t\tx: 0, y: 0,\n\t\t\t\t\tmouse: TRUE,\n\t\t\t\t\tscroll: TRUE,\n\t\t\t\t\tresize: TRUE,\n\t\t\t\t\tmethod: 'flipinvert flipinvert'\n\t\t\t\t},\n\t\t\t\teffect: function(api, pos) {\n\t\t\t\t\t$(this).animate(pos, {\n\t\t\t\t\t\tduration: 200,\n\t\t\t\t\t\tqueue: FALSE\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t\tshow: {\n\t\t\t\ttarget: FALSE,\n\t\t\t\tevent: 'mouseenter',\n\t\t\t\teffect: TRUE,\n\t\t\t\tdelay: 90,\n\t\t\t\tsolo: FALSE,\n\t\t\t\tready: FALSE,\n\t\t\t\tautofocus: FALSE\n\t\t\t},\n\t\t\thide: {\n\t\t\t\ttarget: FALSE,\n\t\t\t\tevent: 'mouseleave',\n\t\t\t\teffect: TRUE,\n\t\t\t\tdelay: 0,\n\t\t\t\tfixed: FALSE,\n\t\t\t\tinactive: FALSE,\n\t\t\t\tleave: 'window',\n\t\t\t\tdistance: FALSE\n\t\t\t},\n\t\t\tstyle: {\n\t\t\t\tclasses: '',\n\t\t\t\twidget: FALSE,\n\t\t\t\twidth: FALSE,\n\t\t\t\theight: FALSE,\n\t\t\t\tdef: TRUE\n\t\t\t},\n\t\t\tevents: {\n\t\t\t\trender: NULL,\n\t\t\t\tmove: NULL,\n\t\t\t\tshow: NULL,\n\t\t\t\thide: NULL,\n\t\t\t\ttoggle: NULL,\n\t\t\t\tvisible: NULL,\n\t\t\t\thidden: NULL,\n\t\t\t\tfocus: NULL,\n\t\t\t\tblur: NULL\n\t\t\t}\n\t\t};\n\t\t;var TIP,\n\t\t\tcreateVML,\n\t\t\tSCALE,\n\t\t\tPIXEL_RATIO,\n\t\t\tBACKING_STORE_RATIO,\n\n// Common CSS strings\n\t\t\tMARGIN = 'margin',\n\t\t\tBORDER = 'border',\n\t\t\tCOLOR = 'color',\n\t\t\tBG_COLOR = 'background-color',\n\t\t\tTRANSPARENT = 'transparent',\n\t\t\tIMPORTANT = ' !important',\n\n// Check if the browser supports <canvas/> elements\n\t\t\tHASCANVAS = !!document.createElement('canvas').getContext,\n\n// Invalid colour values used in parseColours()\n\t\t\tINVALID = /rgba?\\(0, 0, 0(, 0)?\\)|transparent|#123456/i;\n\n// Camel-case method, taken from jQuery source\n// http://code.jquery.com/jquery-1.8.0.js\n\t\tfunction camel(s) { return s.charAt(0).toUpperCase() + s.slice(1); }\n\n\t\t/*\n\t\t * Modified from Modernizr's testPropsAll()\n\t\t * http://modernizr.com/downloads/modernizr-latest.js\n\t\t */\n\t\tvar cssProps = {}, cssPrefixes = ['Webkit', 'O', 'Moz', 'ms'];\n\t\tfunction vendorCss(elem, prop) {\n\t\t\tvar ucProp = prop.charAt(0).toUpperCase() + prop.slice(1),\n\t\t\t\tprops = (prop + ' ' + cssPrefixes.join(ucProp + ' ') + ucProp).split(' '),\n\t\t\t\tcur, val, i = 0;\n\n\t\t\t// If the property has already been mapped...\n\t\t\tif(cssProps[prop]) { return elem.css(cssProps[prop]); }\n\n\t\t\twhile(cur = props[i++]) {\n\t\t\t\tif((val = elem.css(cur)) !== undefined) {\n\t\t\t\t\tcssProps[prop] = cur;\n\t\t\t\t\treturn val;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n// Parse a given elements CSS property into an int\n\t\tfunction intCss(elem, prop) {\n\t\t\treturn Math.ceil(parseFloat(vendorCss(elem, prop)));\n\t\t}\n\n\n// VML creation (for IE only)\n\t\tif(!HASCANVAS) {\n\t\t\tcreateVML = function(tag, props, style) {\n\t\t\t\treturn '<qtipvml:'+tag+' xmlns=\"urn:schemas-microsoft.com:vml\" class=\"qtip-vml\" '+(props||'')+\n\t\t\t\t\t' style=\"behavior: url(#default#VML); '+(style||'')+ '\" />';\n\t\t\t};\n\t\t}\n\n// Canvas only definitions\n\t\telse {\n\t\t\tPIXEL_RATIO = window.devicePixelRatio || 1;\n\t\t\tBACKING_STORE_RATIO = (function() {\n\t\t\t\tvar context = document.createElement('canvas').getContext('2d');\n\t\t\t\treturn context.backingStorePixelRatio || context.webkitBackingStorePixelRatio || context.mozBackingStorePixelRatio ||\n\t\t\t\t\tcontext.msBackingStorePixelRatio || context.oBackingStorePixelRatio || 1;\n\t\t\t})();\n\t\t\tSCALE = PIXEL_RATIO / BACKING_STORE_RATIO;\n\t\t}\n\n\n\t\tfunction Tip(qtip, options) {\n\t\t\tthis._ns = 'tip';\n\t\t\tthis.options = options;\n\t\t\tthis.offset = options.offset;\n\t\t\tthis.size = [ options.width, options.height ];\n\n\t\t\t// Initialize\n\t\t\tthis.qtip = qtip;\n\t\t\tthis.init(qtip);\n\t\t}\n\n\t\t$.extend(Tip.prototype, {\n\t\t\tinit: function(qtip) {\n\t\t\t\tvar context, tip;\n\n\t\t\t\t// Create tip element and prepend to the tooltip\n\t\t\t\ttip = this.element = qtip.elements.tip = $('<div />', { 'class': NAMESPACE+'-tip' }).prependTo(qtip.tooltip);\n\n\t\t\t\t// Create tip drawing element(s)\n\t\t\t\tif(HASCANVAS) {\n\t\t\t\t\t// save() as soon as we create the canvas element so FF2 doesn't bork on our first restore()!\n\t\t\t\t\tcontext = $('<canvas />').appendTo(this.element)[0].getContext('2d');\n\n\t\t\t\t\t// Setup constant parameters\n\t\t\t\t\tcontext.lineJoin = 'miter';\n\t\t\t\t\tcontext.miterLimit = 100000;\n\t\t\t\t\tcontext.save();\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tcontext = createVML('shape', 'coordorigin=\"0,0\"', 'position:absolute;');\n\t\t\t\t\tthis.element.html(context + context);\n\n\t\t\t\t\t// Prevent mousing down on the tip since it causes problems with .live() handling in IE due to VML\n\t\t\t\t\tqtip._bind( $('*', tip).add(tip), ['click', 'mousedown'], function(event) { event.stopPropagation(); }, this._ns);\n\t\t\t\t}\n\n\t\t\t\t// Bind update events\n\t\t\t\tqtip._bind(qtip.tooltip, 'tooltipmove', this.reposition, this._ns, this);\n\n\t\t\t\t// Create it\n\t\t\t\tthis.create();\n\t\t\t},\n\n\t\t\t_swapDimensions: function() {\n\t\t\t\tthis.size[0] = this.options.height;\n\t\t\t\tthis.size[1] = this.options.width;\n\t\t\t},\n\t\t\t_resetDimensions: function() {\n\t\t\t\tthis.size[0] = this.options.width;\n\t\t\t\tthis.size[1] = this.options.height;\n\t\t\t},\n\n\t\t\t_useTitle: function(corner) {\n\t\t\t\tvar titlebar = this.qtip.elements.titlebar;\n\t\t\t\treturn titlebar && (\n\t\t\t\t\t\tcorner.y === TOP || corner.y === CENTER && this.element.position().top + this.size[1] / 2 + this.options.offset < titlebar.outerHeight(TRUE)\n\t\t\t\t\t);\n\t\t\t},\n\n\t\t\t_parseCorner: function(corner) {\n\t\t\t\tvar my = this.qtip.options.position.my;\n\n\t\t\t\t// Detect corner and mimic properties\n\t\t\t\tif(corner === FALSE || my === FALSE) {\n\t\t\t\t\tcorner = FALSE;\n\t\t\t\t}\n\t\t\t\telse if(corner === TRUE) {\n\t\t\t\t\tcorner = new CORNER( my.string() );\n\t\t\t\t}\n\t\t\t\telse if(!corner.string) {\n\t\t\t\t\tcorner = new CORNER(corner);\n\t\t\t\t\tcorner.fixed = TRUE;\n\t\t\t\t}\n\n\t\t\t\treturn corner;\n\t\t\t},\n\n\t\t\t_parseWidth: function(corner, side, use) {\n\t\t\t\tvar elements = this.qtip.elements,\n\t\t\t\t\tprop = BORDER + camel(side) + 'Width';\n\n\t\t\t\treturn (use ? intCss(use, prop) :\n\t\t\t\t\t\tintCss(elements.content, prop) ||\n\t\t\t\t\t\tintCss(this._useTitle(corner) && elements.titlebar || elements.content, prop) ||\n\t\t\t\t\t\tintCss(elements.tooltip, prop)\n\t\t\t\t\t) || 0;\n\t\t\t},\n\n\t\t\t_parseRadius: function(corner) {\n\t\t\t\tvar elements = this.qtip.elements,\n\t\t\t\t\tprop = BORDER + camel(corner.y) + camel(corner.x) + 'Radius';\n\n\t\t\t\treturn BROWSER.ie < 9 ? 0 :\n\t\t\t\tintCss(this._useTitle(corner) && elements.titlebar || elements.content, prop) ||\n\t\t\t\tintCss(elements.tooltip, prop) || 0;\n\t\t\t},\n\n\t\t\t_invalidColour: function(elem, prop, compare) {\n\t\t\t\tvar val = elem.css(prop);\n\t\t\t\treturn !val || compare && val === elem.css(compare) || INVALID.test(val) ? FALSE : val;\n\t\t\t},\n\n\t\t\t_parseColours: function(corner) {\n\t\t\t\tvar elements = this.qtip.elements,\n\t\t\t\t\ttip = this.element.css('cssText', ''),\n\t\t\t\t\tborderSide = BORDER + camel(corner[ corner.precedance ]) + camel(COLOR),\n\t\t\t\t\tcolorElem = this._useTitle(corner) && elements.titlebar || elements.content,\n\t\t\t\t\tcss = this._invalidColour, color = [];\n\n\t\t\t\t// Attempt to detect the background colour from various elements, left-to-right precedance\n\t\t\t\tcolor[0] = css(tip, BG_COLOR) || css(colorElem, BG_COLOR) || css(elements.content, BG_COLOR) ||\n\t\t\t\t\tcss(elements.tooltip, BG_COLOR) || tip.css(BG_COLOR);\n\n\t\t\t\t// Attempt to detect the correct border side colour from various elements, left-to-right precedance\n\t\t\t\tcolor[1] = css(tip, borderSide, COLOR) || css(colorElem, borderSide, COLOR) ||\n\t\t\t\t\tcss(elements.content, borderSide, COLOR) || css(elements.tooltip, borderSide, COLOR) || elements.tooltip.css(borderSide);\n\n\t\t\t\t// Reset background and border colours\n\t\t\t\t$('*', tip).add(tip).css('cssText', BG_COLOR+':'+TRANSPARENT+IMPORTANT+';'+BORDER+':0'+IMPORTANT+';');\n\n\t\t\t\treturn color;\n\t\t\t},\n\n\t\t\t_calculateSize: function(corner) {\n\t\t\t\tvar y = corner.precedance === Y,\n\t\t\t\t\twidth = this.options.width,\n\t\t\t\t\theight = this.options.height,\n\t\t\t\t\tisCenter = corner.abbrev() === 'c',\n\t\t\t\t\tbase = (y ? width: height) * (isCenter ? 0.5 : 1),\n\t\t\t\t\tpow = Math.pow,\n\t\t\t\t\tround = Math.round,\n\t\t\t\t\tbigHyp, ratio, result,\n\n\t\t\t\t\tsmallHyp = Math.sqrt( pow(base, 2) + pow(height, 2) ),\n\t\t\t\t\thyp = [\n\t\t\t\t\t\tthis.border / base * smallHyp,\n\t\t\t\t\t\tthis.border / height * smallHyp\n\t\t\t\t\t];\n\n\t\t\t\thyp[2] = Math.sqrt( pow(hyp[0], 2) - pow(this.border, 2) );\n\t\t\t\thyp[3] = Math.sqrt( pow(hyp[1], 2) - pow(this.border, 2) );\n\n\t\t\t\tbigHyp = smallHyp + hyp[2] + hyp[3] + (isCenter ? 0 : hyp[0]);\n\t\t\t\tratio = bigHyp / smallHyp;\n\n\t\t\t\tresult = [ round(ratio * width), round(ratio * height) ];\n\t\t\t\treturn y ? result : result.reverse();\n\t\t\t},\n\n\t\t\t// Tip coordinates calculator\n\t\t\t_calculateTip: function(corner, size, scale) {\n\t\t\t\tscale = scale || 1;\n\t\t\t\tsize = size || this.size;\n\n\t\t\t\tvar width = size[0] * scale,\n\t\t\t\t\theight = size[1] * scale,\n\t\t\t\t\twidth2 = Math.ceil(width / 2), height2 = Math.ceil(height / 2),\n\n\t\t\t\t\t// Define tip coordinates in terms of height and width values\n\t\t\t\t\ttips = {\n\t\t\t\t\t\tbr:\t[0,0,\t\twidth,height,\twidth,0],\n\t\t\t\t\t\tbl:\t[0,0,\t\twidth,0,\t\t0,height],\n\t\t\t\t\t\ttr:\t[0,height,\twidth,0,\t\twidth,height],\n\t\t\t\t\t\ttl:\t[0,0,\t\t0,height,\t\twidth,height],\n\t\t\t\t\t\ttc:\t[0,height,\twidth2,0,\t\twidth,height],\n\t\t\t\t\t\tbc:\t[0,0,\t\twidth,0,\t\twidth2,height],\n\t\t\t\t\t\trc:\t[0,0,\t\twidth,height2,\t0,height],\n\t\t\t\t\t\tlc:\t[width,0,\twidth,height,\t0,height2]\n\t\t\t\t\t};\n\n\t\t\t\t// Set common side shapes\n\t\t\t\ttips.lt = tips.br; tips.rt = tips.bl;\n\t\t\t\ttips.lb = tips.tr; tips.rb = tips.tl;\n\n\t\t\t\treturn tips[ corner.abbrev() ];\n\t\t\t},\n\n\t\t\t// Tip coordinates drawer (canvas)\n\t\t\t_drawCoords: function(context, coords) {\n\t\t\t\tcontext.beginPath();\n\t\t\t\tcontext.moveTo(coords[0], coords[1]);\n\t\t\t\tcontext.lineTo(coords[2], coords[3]);\n\t\t\t\tcontext.lineTo(coords[4], coords[5]);\n\t\t\t\tcontext.closePath();\n\t\t\t},\n\n\t\t\tcreate: function() {\n\t\t\t\t// Determine tip corner\n\t\t\t\tvar c = this.corner = (HASCANVAS || BROWSER.ie) && this._parseCorner(this.options.corner);\n\n\t\t\t\t// If we have a tip corner...\n\t\t\t\tthis.enabled = !!this.corner && this.corner.abbrev() !== 'c';\n\t\t\t\tif(this.enabled) {\n\t\t\t\t\t// Cache it\n\t\t\t\t\tthis.qtip.cache.corner = c.clone();\n\n\t\t\t\t\t// Create it\n\t\t\t\t\tthis.update();\n\t\t\t\t}\n\n\t\t\t\t// Toggle tip element\n\t\t\t\tthis.element.toggle(this.enabled);\n\n\t\t\t\treturn this.corner;\n\t\t\t},\n\n\t\t\tupdate: function(corner, position) {\n\t\t\t\tif(!this.enabled) { return this; }\n\n\t\t\t\tvar elements = this.qtip.elements,\n\t\t\t\t\ttip = this.element,\n\t\t\t\t\tinner = tip.children(),\n\t\t\t\t\toptions = this.options,\n\t\t\t\t\tcurSize = this.size,\n\t\t\t\t\tmimic = options.mimic,\n\t\t\t\t\tround = Math.round,\n\t\t\t\t\tcolor, precedance, context,\n\t\t\t\t\tcoords, bigCoords, translate, newSize, border;\n\n\t\t\t\t// Re-determine tip if not already set\n\t\t\t\tif(!corner) { corner = this.qtip.cache.corner || this.corner; }\n\n\t\t\t\t// Use corner property if we detect an invalid mimic value\n\t\t\t\tif(mimic === FALSE) { mimic = corner; }\n\n\t\t\t\t// Otherwise inherit mimic properties from the corner object as necessary\n\t\t\t\telse {\n\t\t\t\t\tmimic = new CORNER(mimic);\n\t\t\t\t\tmimic.precedance = corner.precedance;\n\n\t\t\t\t\tif(mimic.x === 'inherit') { mimic.x = corner.x; }\n\t\t\t\t\telse if(mimic.y === 'inherit') { mimic.y = corner.y; }\n\t\t\t\t\telse if(mimic.x === mimic.y) {\n\t\t\t\t\t\tmimic[ corner.precedance ] = corner[ corner.precedance ];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tprecedance = mimic.precedance;\n\n\t\t\t\t// Ensure the tip width.height are relative to the tip position\n\t\t\t\tif(corner.precedance === X) { this._swapDimensions(); }\n\t\t\t\telse { this._resetDimensions(); }\n\n\t\t\t\t// Update our colours\n\t\t\t\tcolor = this.color = this._parseColours(corner);\n\n\t\t\t\t// Detect border width, taking into account colours\n\t\t\t\tif(color[1] !== TRANSPARENT) {\n\t\t\t\t\t// Grab border width\n\t\t\t\t\tborder = this.border = this._parseWidth(corner, corner[corner.precedance]);\n\n\t\t\t\t\t// If border width isn't zero, use border color as fill if it's not invalid (1.0 style tips)\n\t\t\t\t\tif(options.border && border < 1 && !INVALID.test(color[1])) { color[0] = color[1]; }\n\n\t\t\t\t\t// Set border width (use detected border width if options.border is true)\n\t\t\t\t\tthis.border = border = options.border !== TRUE ? options.border : border;\n\t\t\t\t}\n\n\t\t\t\t// Border colour was invalid, set border to zero\n\t\t\t\telse { this.border = border = 0; }\n\n\t\t\t\t// Determine tip size\n\t\t\t\tnewSize = this.size = this._calculateSize(corner);\n\t\t\t\ttip.css({\n\t\t\t\t\twidth: newSize[0],\n\t\t\t\t\theight: newSize[1],\n\t\t\t\t\tlineHeight: newSize[1]+'px'\n\t\t\t\t});\n\n\t\t\t\t// Calculate tip translation\n\t\t\t\tif(corner.precedance === Y) {\n\t\t\t\t\ttranslate = [\n\t\t\t\t\t\tround(mimic.x === LEFT ? border : mimic.x === RIGHT ? newSize[0] - curSize[0] - border : (newSize[0] - curSize[0]) / 2),\n\t\t\t\t\t\tround(mimic.y === TOP ? newSize[1] - curSize[1] : 0)\n\t\t\t\t\t];\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\ttranslate = [\n\t\t\t\t\t\tround(mimic.x === LEFT ? newSize[0] - curSize[0] : 0),\n\t\t\t\t\t\tround(mimic.y === TOP ? border : mimic.y === BOTTOM ? newSize[1] - curSize[1] - border : (newSize[1] - curSize[1]) / 2)\n\t\t\t\t\t];\n\t\t\t\t}\n\n\t\t\t\t// Canvas drawing implementation\n\t\t\t\tif(HASCANVAS) {\n\t\t\t\t\t// Grab canvas context and clear/save it\n\t\t\t\t\tcontext = inner[0].getContext('2d');\n\t\t\t\t\tcontext.restore(); context.save();\n\t\t\t\t\tcontext.clearRect(0,0,6000,6000);\n\n\t\t\t\t\t// Calculate coordinates\n\t\t\t\t\tcoords = this._calculateTip(mimic, curSize, SCALE);\n\t\t\t\t\tbigCoords = this._calculateTip(mimic, this.size, SCALE);\n\n\t\t\t\t\t// Set the canvas size using calculated size\n\t\t\t\t\tinner.attr(WIDTH, newSize[0] * SCALE).attr(HEIGHT, newSize[1] * SCALE);\n\t\t\t\t\tinner.css(WIDTH, newSize[0]).css(HEIGHT, newSize[1]);\n\n\t\t\t\t\t// Draw the outer-stroke tip\n\t\t\t\t\tthis._drawCoords(context, bigCoords);\n\t\t\t\t\tcontext.fillStyle = color[1];\n\t\t\t\t\tcontext.fill();\n\n\t\t\t\t\t// Draw the actual tip\n\t\t\t\t\tcontext.translate(translate[0] * SCALE, translate[1] * SCALE);\n\t\t\t\t\tthis._drawCoords(context, coords);\n\t\t\t\t\tcontext.fillStyle = color[0];\n\t\t\t\t\tcontext.fill();\n\t\t\t\t}\n\n\t\t\t\t// VML (IE Proprietary implementation)\n\t\t\t\telse {\n\t\t\t\t\t// Calculate coordinates\n\t\t\t\t\tcoords = this._calculateTip(mimic);\n\n\t\t\t\t\t// Setup coordinates string\n\t\t\t\t\tcoords = 'm' + coords[0] + ',' + coords[1] + ' l' + coords[2] +\n\t\t\t\t\t\t',' + coords[3] + ' ' + coords[4] + ',' + coords[5] + ' xe';\n\n\t\t\t\t\t// Setup VML-specific offset for pixel-perfection\n\t\t\t\t\ttranslate[2] = border && /^(r|b)/i.test(corner.string()) ?\n\t\t\t\t\t\tBROWSER.ie === 8 ? 2 : 1 : 0;\n\n\t\t\t\t\t// Set initial CSS\n\t\t\t\t\tinner.css({\n\t\t\t\t\t\tcoordsize: newSize[0]+border + ' ' + newSize[1]+border,\n\t\t\t\t\t\tantialias: ''+(mimic.string().indexOf(CENTER) > -1),\n\t\t\t\t\t\tleft: translate[0] - translate[2] * Number(precedance === X),\n\t\t\t\t\t\ttop: translate[1] - translate[2] * Number(precedance === Y),\n\t\t\t\t\t\twidth: newSize[0] + border,\n\t\t\t\t\t\theight: newSize[1] + border\n\t\t\t\t\t})\n\t\t\t\t\t\t.each(function(i) {\n\t\t\t\t\t\t\tvar $this = $(this);\n\n\t\t\t\t\t\t\t// Set shape specific attributes\n\t\t\t\t\t\t\t$this[ $this.prop ? 'prop' : 'attr' ]({\n\t\t\t\t\t\t\t\tcoordsize: newSize[0]+border + ' ' + newSize[1]+border,\n\t\t\t\t\t\t\t\tpath: coords,\n\t\t\t\t\t\t\t\tfillcolor: color[0],\n\t\t\t\t\t\t\t\tfilled: !!i,\n\t\t\t\t\t\t\t\tstroked: !i\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.toggle(!!(border || i));\n\n\t\t\t\t\t\t\t// Check if border is enabled and add stroke element\n\t\t\t\t\t\t\t!i && $this.html( createVML(\n\t\t\t\t\t\t\t\t'stroke', 'weight=\"'+border*2+'px\" color=\"'+color[1]+'\" miterlimit=\"1000\" joinstyle=\"miter\"'\n\t\t\t\t\t\t\t) );\n\t\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t// Opera bug #357 - Incorrect tip position\n\t\t\t\t// https://github.com/Craga89/qTip2/issues/367\n\t\t\t\twindow.opera && setTimeout(function() {\n\t\t\t\t\telements.tip.css({\n\t\t\t\t\t\tdisplay: 'inline-block',\n\t\t\t\t\t\tvisibility: 'visible'\n\t\t\t\t\t});\n\t\t\t\t}, 1);\n\n\t\t\t\t// Position if needed\n\t\t\t\tif(position !== FALSE) { this.calculate(corner, newSize); }\n\t\t\t},\n\n\t\t\tcalculate: function(corner, size) {\n\t\t\t\tif(!this.enabled) { return FALSE; }\n\n\t\t\t\tvar self = this,\n\t\t\t\t\telements = this.qtip.elements,\n\t\t\t\t\ttip = this.element,\n\t\t\t\t\tuserOffset = this.options.offset,\n\t\t\t\t\tposition = {},\n\t\t\t\t\tprecedance, corners;\n\n\t\t\t\t// Inherit corner if not provided\n\t\t\t\tcorner = corner || this.corner;\n\t\t\t\tprecedance = corner.precedance;\n\n\t\t\t\t// Determine which tip dimension to use for adjustment\n\t\t\t\tsize = size || this._calculateSize(corner);\n\n\t\t\t\t// Setup corners and offset array\n\t\t\t\tcorners = [ corner.x, corner.y ];\n\t\t\t\tif(precedance === X) { corners.reverse(); }\n\n\t\t\t\t// Calculate tip position\n\t\t\t\t$.each(corners, function(i, side) {\n\t\t\t\t\tvar b, bc, br;\n\n\t\t\t\t\tif(side === CENTER) {\n\t\t\t\t\t\tb = precedance === Y ? LEFT : TOP;\n\t\t\t\t\t\tposition[ b ] = '50%';\n\t\t\t\t\t\tposition[MARGIN+'-' + b] = -Math.round(size[ precedance === Y ? 0 : 1 ] / 2) + userOffset;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tb = self._parseWidth(corner, side, elements.tooltip);\n\t\t\t\t\t\tbc = self._parseWidth(corner, side, elements.content);\n\t\t\t\t\t\tbr = self._parseRadius(corner);\n\n\t\t\t\t\t\tposition[ side ] = Math.max(-self.border, i ? bc : userOffset + (br > b ? br : -b));\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t// Adjust for tip size\n\t\t\t\tposition[ corner[precedance] ] -= size[ precedance === X ? 0 : 1 ];\n\n\t\t\t\t// Set and return new position\n\t\t\t\ttip.css({ margin: '', top: '', bottom: '', left: '', right: '' }).css(position);\n\t\t\t\treturn position;\n\t\t\t},\n\n\t\t\treposition: function(event, api, pos) {\n\t\t\t\tif(!this.enabled) { return; }\n\n\t\t\t\tvar cache = api.cache,\n\t\t\t\t\tnewCorner = this.corner.clone(),\n\t\t\t\t\tadjust = pos.adjusted,\n\t\t\t\t\tmethod = api.options.position.adjust.method.split(' '),\n\t\t\t\t\thorizontal = method[0],\n\t\t\t\t\tvertical = method[1] || method[0],\n\t\t\t\t\tshift = { left: FALSE, top: FALSE, x: 0, y: 0 },\n\t\t\t\t\toffset, css = {}, props;\n\n\t\t\t\tfunction shiftflip(direction, precedance, popposite, side, opposite) {\n\t\t\t\t\t// Horizontal - Shift or flip method\n\t\t\t\t\tif(direction === SHIFT && newCorner.precedance === precedance && adjust[side] && newCorner[popposite] !== CENTER) {\n\t\t\t\t\t\tnewCorner.precedance = newCorner.precedance === X ? Y : X;\n\t\t\t\t\t}\n\t\t\t\t\telse if(direction !== SHIFT && adjust[side]){\n\t\t\t\t\t\tnewCorner[precedance] = newCorner[precedance] === CENTER ?\n\t\t\t\t\t\t\tadjust[side] > 0 ? side : opposite :\n\t\t\t\t\t\t\tnewCorner[precedance] === side ? opposite : side;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfunction shiftonly(xy, side, opposite) {\n\t\t\t\t\tif(newCorner[xy] === CENTER) {\n\t\t\t\t\t\tcss[MARGIN+'-'+side] = shift[xy] = offset[MARGIN+'-'+side] - adjust[side];\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tprops = offset[opposite] !== undefined ?\n\t\t\t\t\t\t\t[ adjust[side], -offset[side] ] : [ -adjust[side], offset[side] ];\n\n\t\t\t\t\t\tif( (shift[xy] = Math.max(props[0], props[1])) > props[0] ) {\n\t\t\t\t\t\t\tpos[side] -= adjust[side];\n\t\t\t\t\t\t\tshift[side] = FALSE;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tcss[ offset[opposite] !== undefined ? opposite : side ] = shift[xy];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// If our tip position isn't fixed e.g. doesn't adjust with viewport...\n\t\t\t\tif(this.corner.fixed !== TRUE) {\n\t\t\t\t\t// Perform shift/flip adjustments\n\t\t\t\t\tshiftflip(horizontal, X, Y, LEFT, RIGHT);\n\t\t\t\t\tshiftflip(vertical, Y, X, TOP, BOTTOM);\n\n\t\t\t\t\t// Update and redraw the tip if needed (check cached details of last drawn tip)\n\t\t\t\t\tif(newCorner.string() !== cache.corner.string() || cache.cornerTop !== adjust.top || cache.cornerLeft !== adjust.left) {\n\t\t\t\t\t\tthis.update(newCorner, FALSE);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Setup tip offset properties\n\t\t\t\toffset = this.calculate(newCorner);\n\n\t\t\t\t// Readjust offset object to make it left/top\n\t\t\t\tif(offset.right !== undefined) { offset.left = -offset.right; }\n\t\t\t\tif(offset.bottom !== undefined) { offset.top = -offset.bottom; }\n\t\t\t\toffset.user = this.offset;\n\n\t\t\t\t// Perform shift adjustments\n\t\t\t\tshift.left = horizontal === SHIFT && !!adjust.left;\n\t\t\t\tif(shift.left) {\n\t\t\t\t\tshiftonly(X, LEFT, RIGHT);\n\t\t\t\t}\n\t\t\t\tshift.top = vertical === SHIFT && !!adjust.top;\n\t\t\t\tif(shift.top) {\n\t\t\t\t\tshiftonly(Y, TOP, BOTTOM);\n\t\t\t\t}\n\n\t\t\t\t/*\n\t\t\t\t * If the tip is adjusted in both dimensions, or in a\n\t\t\t\t * direction that would cause it to be anywhere but the\n\t\t\t\t * outer border, hide it!\n\t\t\t\t */\n\t\t\t\tthis.element.css(css).toggle(\n\t\t\t\t\t!(shift.x && shift.y || newCorner.x === CENTER && shift.y || newCorner.y === CENTER && shift.x)\n\t\t\t\t);\n\n\t\t\t\t// Adjust position to accomodate tip dimensions\n\t\t\t\tpos.left -= offset.left.charAt ? offset.user :\n\t\t\t\t\thorizontal !== SHIFT || shift.top || !shift.left && !shift.top ? offset.left + this.border : 0;\n\t\t\t\tpos.top -= offset.top.charAt ? offset.user :\n\t\t\t\t\tvertical !== SHIFT || shift.left || !shift.left && !shift.top ? offset.top + this.border : 0;\n\n\t\t\t\t// Cache details\n\t\t\t\tcache.cornerLeft = adjust.left; cache.cornerTop = adjust.top;\n\t\t\t\tcache.corner = newCorner.clone();\n\t\t\t},\n\n\t\t\tdestroy: function() {\n\t\t\t\t// Unbind events\n\t\t\t\tthis.qtip._unbind(this.qtip.tooltip, this._ns);\n\n\t\t\t\t// Remove the tip element(s)\n\t\t\t\tif(this.qtip.elements.tip) {\n\t\t\t\t\tthis.qtip.elements.tip.find('*')\n\t\t\t\t\t\t.remove().end().remove();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tTIP = PLUGINS.tip = function(api) {\n\t\t\treturn new Tip(api, api.options.style.tip);\n\t\t};\n\n// Initialize tip on render\n\t\tTIP.initialize = 'render';\n\n// Setup plugin sanitization options\n\t\tTIP.sanitize = function(options) {\n\t\t\tif(options.style && 'tip' in options.style) {\n\t\t\t\tvar opts = options.style.tip;\n\t\t\t\tif(typeof opts !== 'object') { opts = options.style.tip = { corner: opts }; }\n\t\t\t\tif(!(/string|boolean/i).test(typeof opts.corner)) { opts.corner = TRUE; }\n\t\t\t}\n\t\t};\n\n// Add new option checks for the plugin\n\t\tCHECKS.tip = {\n\t\t\t'^position.my|style.tip.(corner|mimic|border)$': function() {\n\t\t\t\t// Make sure a tip can be drawn\n\t\t\t\tthis.create();\n\n\t\t\t\t// Reposition the tooltip\n\t\t\t\tthis.qtip.reposition();\n\t\t\t},\n\t\t\t'^style.tip.(height|width)$': function(obj) {\n\t\t\t\t// Re-set dimensions and redraw the tip\n\t\t\t\tthis.size = [ obj.width, obj.height ];\n\t\t\t\tthis.update();\n\n\t\t\t\t// Reposition the tooltip\n\t\t\t\tthis.qtip.reposition();\n\t\t\t},\n\t\t\t'^content.title|style.(classes|widget)$': function() {\n\t\t\t\tthis.update();\n\t\t\t}\n\t\t};\n\n// Extend original qTip defaults\n\t\t$.extend(TRUE, QTIP.defaults, {\n\t\t\tstyle: {\n\t\t\t\ttip: {\n\t\t\t\t\tcorner: TRUE,\n\t\t\t\t\tmimic: FALSE,\n\t\t\t\t\twidth: 6,\n\t\t\t\t\theight: 6,\n\t\t\t\t\tborder: TRUE,\n\t\t\t\t\toffset: 0\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\t;var MODAL, OVERLAY,\n\t\t\tMODALCLASS = 'qtip-modal',\n\t\t\tMODALSELECTOR = '.'+MODALCLASS;\n\n\t\tOVERLAY = function()\n\t\t{\n\t\t\tvar self = this,\n\t\t\t\tfocusableElems = {},\n\t\t\t\tcurrent,\n\t\t\t\tprevState,\n\t\t\t\telem;\n\n\t\t\t// Modified code from jQuery UI 1.10.0 source\n\t\t\t// http://code.jquery.com/ui/1.10.0/jquery-ui.js\n\t\t\tfunction focusable(element) {\n\t\t\t\t// Use the defined focusable checker when possible\n\t\t\t\tif($.expr[':'].focusable) { return $.expr[':'].focusable; }\n\n\t\t\t\tvar isTabIndexNotNaN = !isNaN($.attr(element, 'tabindex')),\n\t\t\t\t\tnodeName = element.nodeName && element.nodeName.toLowerCase(),\n\t\t\t\t\tmap, mapName, img;\n\n\t\t\t\tif('area' === nodeName) {\n\t\t\t\t\tmap = element.parentNode;\n\t\t\t\t\tmapName = map.name;\n\t\t\t\t\tif(!element.href || !mapName || map.nodeName.toLowerCase() !== 'map') {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\timg = $('img[usemap=#' + mapName + ']')[0];\n\t\t\t\t\treturn !!img && img.is(':visible');\n\t\t\t\t}\n\n\t\t\t\treturn /input|select|textarea|button|object/.test( nodeName ) ?\n\t\t\t\t\t!element.disabled :\n\t\t\t\t\t'a' === nodeName ?\n\t\t\t\t\telement.href || isTabIndexNotNaN :\n\t\t\t\t\t\tisTabIndexNotNaN\n\t\t\t\t\t;\n\t\t\t}\n\n\t\t\t// Focus inputs using cached focusable elements (see update())\n\t\t\tfunction focusInputs(blurElems) {\n\t\t\t\t// Blurring body element in IE causes window.open windows to unfocus!\n\t\t\t\tif(focusableElems.length < 1 && blurElems.length) { blurElems.not('body').blur(); }\n\n\t\t\t\t// Focus the inputs\n\t\t\t\telse { focusableElems.first().focus(); }\n\t\t\t}\n\n\t\t\t// Steal focus from elements outside tooltip\n\t\t\tfunction stealFocus(event) {\n\t\t\t\tif(!elem.is(':visible')) { return; }\n\n\t\t\t\tvar target = $(event.target),\n\t\t\t\t\ttooltip = current.tooltip,\n\t\t\t\t\tcontainer = target.closest(SELECTOR),\n\t\t\t\t\ttargetOnTop;\n\n\t\t\t\t// Determine if input container target is above this\n\t\t\t\ttargetOnTop = container.length < 1 ? FALSE :\n\t\t\t\tparseInt(container[0].style.zIndex, 10) > parseInt(tooltip[0].style.zIndex, 10);\n\n\t\t\t\t// If we're showing a modal, but focus has landed on an input below\n\t\t\t\t// this modal, divert focus to the first visible input in this modal\n\t\t\t\t// or if we can't find one... the tooltip itself\n\t\t\t\tif(!targetOnTop && target.closest(SELECTOR)[0] !== tooltip[0]) {\n\t\t\t\t\tfocusInputs(target);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t$.extend(self, {\n\t\t\t\tinit: function() {\n\t\t\t\t\t// Create document overlay\n\t\t\t\t\telem = self.elem = $('<div />', {\n\t\t\t\t\t\tid: 'qtip-overlay',\n\t\t\t\t\t\thtml: '<div></div>',\n\t\t\t\t\t\tmousedown: function() { return FALSE; }\n\t\t\t\t\t})\n\t\t\t\t\t\t.hide();\n\n\t\t\t\t\t// Make sure we can't focus anything outside the tooltip\n\t\t\t\t\t$(document.body).bind('focusin'+MODALSELECTOR, stealFocus);\n\n\t\t\t\t\t// Apply keyboard \"Escape key\" close handler\n\t\t\t\t\t$(document).bind('keydown'+MODALSELECTOR, function(event) {\n\t\t\t\t\t\tif(current && current.options.show.modal.escape && event.keyCode === 27) {\n\t\t\t\t\t\t\tcurrent.hide(event);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\t// Apply click handler for blur option\n\t\t\t\t\telem.bind('click'+MODALSELECTOR, function(event) {\n\t\t\t\t\t\tif(current && current.options.show.modal.blur) {\n\t\t\t\t\t\t\tcurrent.hide(event);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\treturn self;\n\t\t\t\t},\n\n\t\t\t\tupdate: function(api) {\n\t\t\t\t\t// Update current API reference\n\t\t\t\t\tcurrent = api;\n\n\t\t\t\t\t// Update focusable elements if enabled\n\t\t\t\t\tif(api.options.show.modal.stealfocus !== FALSE) {\n\t\t\t\t\t\tfocusableElems = api.tooltip.find('*').filter(function() {\n\t\t\t\t\t\t\treturn focusable(this);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\telse { focusableElems = []; }\n\t\t\t\t},\n\n\t\t\t\ttoggle: function(api, state, duration) {\n\t\t\t\t\tvar tooltip = api.tooltip,\n\t\t\t\t\t\toptions = api.options.show.modal,\n\t\t\t\t\t\teffect = options.effect,\n\t\t\t\t\t\ttype = state ? 'show': 'hide',\n\t\t\t\t\t\tvisible = elem.is(':visible'),\n\t\t\t\t\t\tvisibleModals = $(MODALSELECTOR).filter(':visible:not(:animated)').not(tooltip);\n\n\t\t\t\t\t// Set active tooltip API reference\n\t\t\t\t\tself.update(api);\n\n\t\t\t\t\t// If the modal can steal the focus...\n\t\t\t\t\t// Blur the current item and focus anything in the modal we an\n\t\t\t\t\tif(state && options.stealfocus !== FALSE) {\n\t\t\t\t\t\tfocusInputs( $(':focus') );\n\t\t\t\t\t}\n\n\t\t\t\t\t// Toggle backdrop cursor style on show\n\t\t\t\t\telem.toggleClass('blurs', options.blur);\n\n\t\t\t\t\t// Append to body on show\n\t\t\t\t\tif(state) {\n\t\t\t\t\t\telem.appendTo(document.body);\n\t\t\t\t\t}\n\n\t\t\t\t\t// Prevent modal from conflicting with show.solo, and don't hide backdrop is other modals are visible\n\t\t\t\t\tif(elem.is(':animated') && visible === state && prevState !== FALSE || !state && visibleModals.length) {\n\t\t\t\t\t\treturn self;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Stop all animations\n\t\t\t\t\telem.stop(TRUE, FALSE);\n\n\t\t\t\t\t// Use custom function if provided\n\t\t\t\t\tif($.isFunction(effect)) {\n\t\t\t\t\t\teffect.call(elem, state);\n\t\t\t\t\t}\n\n\t\t\t\t\t// If no effect type is supplied, use a simple toggle\n\t\t\t\t\telse if(effect === FALSE) {\n\t\t\t\t\t\telem[ type ]();\n\t\t\t\t\t}\n\n\t\t\t\t\t// Use basic fade function\n\t\t\t\t\telse {\n\t\t\t\t\t\telem.fadeTo( parseInt(duration, 10) || 90, state ? 1 : 0, function() {\n\t\t\t\t\t\t\tif(!state) { elem.hide(); }\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\t// Reset position and detach from body on hide\n\t\t\t\t\tif(!state) {\n\t\t\t\t\t\telem.queue(function(next) {\n\t\t\t\t\t\t\telem.css({ left: '', top: '' });\n\t\t\t\t\t\t\tif(!$(MODALSELECTOR).length) { elem.detach(); }\n\t\t\t\t\t\t\tnext();\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\t// Cache the state\n\t\t\t\t\tprevState = state;\n\n\t\t\t\t\t// If the tooltip is destroyed, set reference to null\n\t\t\t\t\tif(current.destroyed) { current = NULL; }\n\n\t\t\t\t\treturn self;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tself.init();\n\t\t};\n\t\tOVERLAY = new OVERLAY();\n\n\t\tfunction Modal(api, options) {\n\t\t\tthis.options = options;\n\t\t\tthis._ns = '-modal';\n\n\t\t\tthis.qtip = api;\n\t\t\tthis.init(api);\n\t\t}\n\n\t\t$.extend(Modal.prototype, {\n\t\t\tinit: function(qtip) {\n\t\t\t\tvar tooltip = qtip.tooltip;\n\n\t\t\t\t// If modal is disabled... return\n\t\t\t\tif(!this.options.on) { return this; }\n\n\t\t\t\t// Set overlay reference\n\t\t\t\tqtip.elements.overlay = OVERLAY.elem;\n\n\t\t\t\t// Add unique attribute so we can grab modal tooltips easily via a SELECTOR, and set z-index\n\t\t\t\ttooltip.addClass(MODALCLASS).css('z-index', QTIP.modal_zindex + $(MODALSELECTOR).length);\n\n\t\t\t\t// Apply our show/hide/focus modal events\n\t\t\t\tqtip._bind(tooltip, ['tooltipshow', 'tooltiphide'], function(event, api, duration) {\n\t\t\t\t\tvar oEvent = event.originalEvent;\n\n\t\t\t\t\t// Make sure mouseout doesn't trigger a hide when showing the modal and mousing onto backdrop\n\t\t\t\t\tif(event.target === tooltip[0]) {\n\t\t\t\t\t\tif(oEvent && event.type === 'tooltiphide' && /mouse(leave|enter)/.test(oEvent.type) && $(oEvent.relatedTarget).closest(OVERLAY.elem[0]).length) {\n\t\t\t\t\t\t\t/* eslint-disable no-empty */\n\t\t\t\t\t\t\ttry { event.preventDefault(); }\n\t\t\t\t\t\t\tcatch(e) {}\n\t\t\t\t\t\t\t/* eslint-enable no-empty */\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if(!oEvent || oEvent && oEvent.type !== 'tooltipsolo') {\n\t\t\t\t\t\t\tthis.toggle(event, event.type === 'tooltipshow', duration);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, this._ns, this);\n\n\t\t\t\t// Adjust modal z-index on tooltip focus\n\t\t\t\tqtip._bind(tooltip, 'tooltipfocus', function(event, api) {\n\t\t\t\t\t// If focus was cancelled before it reached us, don't do anything\n\t\t\t\t\tif(event.isDefaultPrevented() || event.target !== tooltip[0]) { return; }\n\n\t\t\t\t\tvar qtips = $(MODALSELECTOR),\n\n\t\t\t\t\t\t// Keep the modal's lower than other, regular qtips\n\t\t\t\t\t\tnewIndex = QTIP.modal_zindex + qtips.length,\n\t\t\t\t\t\tcurIndex = parseInt(tooltip[0].style.zIndex, 10);\n\n\t\t\t\t\t// Set overlay z-index\n\t\t\t\t\tOVERLAY.elem[0].style.zIndex = newIndex - 1;\n\n\t\t\t\t\t// Reduce modal z-index's and keep them properly ordered\n\t\t\t\t\tqtips.each(function() {\n\t\t\t\t\t\tif(this.style.zIndex > curIndex) {\n\t\t\t\t\t\t\tthis.style.zIndex -= 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\t// Fire blur event for focused tooltip\n\t\t\t\t\tqtips.filter('.' + CLASS_FOCUS).qtip('blur', event.originalEvent);\n\n\t\t\t\t\t// Set the new z-index\n\t\t\t\t\ttooltip.addClass(CLASS_FOCUS)[0].style.zIndex = newIndex;\n\n\t\t\t\t\t// Set current\n\t\t\t\t\tOVERLAY.update(api);\n\n\t\t\t\t\t// Prevent default handling\n\t\t\t\t\t/* eslint-disable no-empty */\n\t\t\t\t\ttry { event.preventDefault(); }\n\t\t\t\t\tcatch(e) {}\n\t\t\t\t\t/* eslint-enable no-empty */\n\t\t\t\t}, this._ns, this);\n\n\t\t\t\t// Focus any other visible modals when this one hides\n\t\t\t\tqtip._bind(tooltip, 'tooltiphide', function(event) {\n\t\t\t\t\tif(event.target === tooltip[0]) {\n\t\t\t\t\t\t$(MODALSELECTOR).filter(':visible').not(tooltip).last().qtip('focus', event);\n\t\t\t\t\t}\n\t\t\t\t}, this._ns, this);\n\t\t\t},\n\n\t\t\ttoggle: function(event, state, duration) {\n\t\t\t\t// Make sure default event hasn't been prevented\n\t\t\t\tif(event && event.isDefaultPrevented()) { return this; }\n\n\t\t\t\t// Toggle it\n\t\t\t\tOVERLAY.toggle(this.qtip, !!state, duration);\n\t\t\t},\n\n\t\t\tdestroy: function() {\n\t\t\t\t// Remove modal class\n\t\t\t\tthis.qtip.tooltip.removeClass(MODALCLASS);\n\n\t\t\t\t// Remove bound events\n\t\t\t\tthis.qtip._unbind(this.qtip.tooltip, this._ns);\n\n\t\t\t\t// Delete element reference\n\t\t\t\tOVERLAY.toggle(this.qtip, FALSE);\n\t\t\t\tdelete this.qtip.elements.overlay;\n\t\t\t}\n\t\t});\n\n\n\t\tMODAL = PLUGINS.modal = function(api) {\n\t\t\treturn new Modal(api, api.options.show.modal);\n\t\t};\n\n// Setup sanitiztion rules\n\t\tMODAL.sanitize = function(opts) {\n\t\t\tif(opts.show) {\n\t\t\t\tif(typeof opts.show.modal !== 'object') { opts.show.modal = { on: !!opts.show.modal }; }\n\t\t\t\telse if(typeof opts.show.modal.on === 'undefined') { opts.show.modal.on = TRUE; }\n\t\t\t}\n\t\t};\n\n// Base z-index for all modal tooltips (use qTip core z-index as a base)\n\t\t/* eslint-disable camelcase */\n\t\tQTIP.modal_zindex = QTIP.zindex - 200;\n\t\t/* eslint-enable camelcase */\n\n// Plugin needs to be initialized on render\n\t\tMODAL.initialize = 'render';\n\n// Setup option set checks\n\t\tCHECKS.modal = {\n\t\t\t'^show.modal.(on|blur)$': function() {\n\t\t\t\t// Initialise\n\t\t\t\tthis.destroy();\n\t\t\t\tthis.init();\n\n\t\t\t\t// Show the modal if not visible already and tooltip is visible\n\t\t\t\tthis.qtip.elems.overlay.toggle(\n\t\t\t\t\tthis.qtip.tooltip[0].offsetWidth > 0\n\t\t\t\t);\n\t\t\t}\n\t\t};\n\n// Extend original api defaults\n\t\t$.extend(TRUE, QTIP.defaults, {\n\t\t\tshow: {\n\t\t\t\tmodal: {\n\t\t\t\t\ton: FALSE,\n\t\t\t\t\teffect: TRUE,\n\t\t\t\t\tblur: TRUE,\n\t\t\t\t\tstealfocus: TRUE,\n\t\t\t\t\tescape: TRUE\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\t;PLUGINS.viewport = function(api, position, posOptions, targetWidth, targetHeight, elemWidth, elemHeight)\n\t\t{\n\t\t\tvar target = posOptions.target,\n\t\t\t\ttooltip = api.elements.tooltip,\n\t\t\t\tmy = posOptions.my,\n\t\t\t\tat = posOptions.at,\n\t\t\t\tadjust = posOptions.adjust,\n\t\t\t\tmethod = adjust.method.split(' '),\n\t\t\t\tmethodX = method[0],\n\t\t\t\tmethodY = method[1] || method[0],\n\t\t\t\tviewport = posOptions.viewport,\n\t\t\t\tcontainer = posOptions.container,\n\t\t\t\tadjusted = { left: 0, top: 0 },\n\t\t\t\tfixed, newMy, containerOffset, containerStatic,\n\t\t\t\tviewportWidth, viewportHeight, viewportScroll, viewportOffset;\n\n\t\t\t// If viewport is not a jQuery element, or it's the window/document, or no adjustment method is used... return\n\t\t\tif(!viewport.jquery || target[0] === window || target[0] === document.body || adjust.method === 'none') {\n\t\t\t\treturn adjusted;\n\t\t\t}\n\n\t\t\t// Cach container details\n\t\t\tcontainerOffset = container.offset() || adjusted;\n\t\t\tcontainerStatic = container.css('position') === 'static';\n\n\t\t\t// Cache our viewport details\n\t\t\tfixed = tooltip.css('position') === 'fixed';\n\t\t\tviewportWidth = viewport[0] === window ? viewport.width() : viewport.outerWidth(FALSE);\n\t\t\tviewportHeight = viewport[0] === window ? viewport.height() : viewport.outerHeight(FALSE);\n\t\t\tviewportScroll = { left: fixed ? 0 : viewport.scrollLeft(), top: fixed ? 0 : viewport.scrollTop() };\n\t\t\tviewportOffset = viewport.offset() || adjusted;\n\n\t\t\t// Generic calculation method\n\t\t\tfunction calculate(side, otherSide, type, adjustment, side1, side2, lengthName, targetLength, elemLength) {\n\t\t\t\tvar initialPos = position[side1],\n\t\t\t\t\tmySide = my[side],\n\t\t\t\t\tatSide = at[side],\n\t\t\t\t\tisShift = type === SHIFT,\n\t\t\t\t\tmyLength = mySide === side1 ? elemLength : mySide === side2 ? -elemLength : -elemLength / 2,\n\t\t\t\t\tatLength = atSide === side1 ? targetLength : atSide === side2 ? -targetLength : -targetLength / 2,\n\t\t\t\t\tsideOffset = viewportScroll[side1] + viewportOffset[side1] - (containerStatic ? 0 : containerOffset[side1]),\n\t\t\t\t\toverflow1 = sideOffset - initialPos,\n\t\t\t\t\toverflow2 = initialPos + elemLength - (lengthName === WIDTH ? viewportWidth : viewportHeight) - sideOffset,\n\t\t\t\t\toffset = myLength - (my.precedance === side || mySide === my[otherSide] ? atLength : 0) - (atSide === CENTER ? targetLength / 2 : 0);\n\n\t\t\t\t// shift\n\t\t\t\tif(isShift) {\n\t\t\t\t\toffset = (mySide === side1 ? 1 : -1) * myLength;\n\n\t\t\t\t\t// Adjust position but keep it within viewport dimensions\n\t\t\t\t\tposition[side1] += overflow1 > 0 ? overflow1 : overflow2 > 0 ? -overflow2 : 0;\n\t\t\t\t\tposition[side1] = Math.max(\n\t\t\t\t\t\t-containerOffset[side1] + viewportOffset[side1],\n\t\t\t\t\t\tinitialPos - offset,\n\t\t\t\t\t\tMath.min(\n\t\t\t\t\t\t\tMath.max(\n\t\t\t\t\t\t\t\t-containerOffset[side1] + viewportOffset[side1] + (lengthName === WIDTH ? viewportWidth : viewportHeight),\n\t\t\t\t\t\t\t\tinitialPos + offset\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\tposition[side1],\n\n\t\t\t\t\t\t\t// Make sure we don't adjust complete off the element when using 'center'\n\t\t\t\t\t\t\tmySide === 'center' ? initialPos - myLength : 1E9\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\n\t\t\t\t}\n\n\t\t\t\t// flip/flipinvert\n\t\t\t\telse {\n\t\t\t\t\t// Update adjustment amount depending on if using flipinvert or flip\n\t\t\t\t\tadjustment *= type === FLIPINVERT ? 2 : 0;\n\n\t\t\t\t\t// Check for overflow on the left/top\n\t\t\t\t\tif(overflow1 > 0 && (mySide !== side1 || overflow2 > 0)) {\n\t\t\t\t\t\tposition[side1] -= offset + adjustment;\n\t\t\t\t\t\tnewMy.invert(side, side1);\n\t\t\t\t\t}\n\n\t\t\t\t\t// Check for overflow on the bottom/right\n\t\t\t\t\telse if(overflow2 > 0 && (mySide !== side2 || overflow1 > 0)  ) {\n\t\t\t\t\t\tposition[side1] -= (mySide === CENTER ? -offset : offset) + adjustment;\n\t\t\t\t\t\tnewMy.invert(side, side2);\n\t\t\t\t\t}\n\n\t\t\t\t\t// Make sure we haven't made things worse with the adjustment and reset if so\n\t\t\t\t\tif(position[side1] < viewportScroll[side1] && -position[side1] > overflow2) {\n\t\t\t\t\t\tposition[side1] = initialPos; newMy = my.clone();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn position[side1] - initialPos;\n\t\t\t}\n\n\t\t\t// Set newMy if using flip or flipinvert methods\n\t\t\tif(methodX !== 'shift' || methodY !== 'shift') { newMy = my.clone(); }\n\n\t\t\t// Adjust position based onviewport and adjustment options\n\t\t\tadjusted = {\n\t\t\t\tleft: methodX !== 'none' ? calculate( X, Y, methodX, adjust.x, LEFT, RIGHT, WIDTH, targetWidth, elemWidth ) : 0,\n\t\t\t\ttop: methodY !== 'none' ? calculate( Y, X, methodY, adjust.y, TOP, BOTTOM, HEIGHT, targetHeight, elemHeight ) : 0,\n\t\t\t\tmy: newMy\n\t\t\t};\n\n\t\t\treturn adjusted;\n\t\t};\n\t\t;PLUGINS.polys = {\n\t\t\t// POLY area coordinate calculator\n\t\t\t//\tSpecial thanks to Ed Cradock for helping out with this.\n\t\t\t//\tUses a binary search algorithm to find suitable coordinates.\n\t\t\tpolygon: function(baseCoords, corner) {\n\t\t\t\tvar result = {\n\t\t\t\t\t\twidth: 0, height: 0,\n\t\t\t\t\t\tposition: {\n\t\t\t\t\t\t\ttop: 1e10, right: 0,\n\t\t\t\t\t\t\tbottom: 0, left: 1e10\n\t\t\t\t\t\t},\n\t\t\t\t\t\tadjustable: FALSE\n\t\t\t\t\t},\n\t\t\t\t\ti = 0, next,\n\t\t\t\t\tcoords = [],\n\t\t\t\t\tcompareX = 1, compareY = 1,\n\t\t\t\t\trealX = 0, realY = 0,\n\t\t\t\t\tnewWidth, newHeight;\n\n\t\t\t\t// First pass, sanitize coords and determine outer edges\n\t\t\t\ti = baseCoords.length;\n\t\t\t\twhile(i--) {\n\t\t\t\t\tnext = [ parseInt(baseCoords[--i], 10), parseInt(baseCoords[i+1], 10) ];\n\n\t\t\t\t\tif(next[0] > result.position.right){ result.position.right = next[0]; }\n\t\t\t\t\tif(next[0] < result.position.left){ result.position.left = next[0]; }\n\t\t\t\t\tif(next[1] > result.position.bottom){ result.position.bottom = next[1]; }\n\t\t\t\t\tif(next[1] < result.position.top){ result.position.top = next[1]; }\n\n\t\t\t\t\tcoords.push(next);\n\t\t\t\t}\n\n\t\t\t\t// Calculate height and width from outer edges\n\t\t\t\tnewWidth = result.width = Math.abs(result.position.right - result.position.left);\n\t\t\t\tnewHeight = result.height = Math.abs(result.position.bottom - result.position.top);\n\n\t\t\t\t// If it's the center corner...\n\t\t\t\tif(corner.abbrev() === 'c') {\n\t\t\t\t\tresult.position = {\n\t\t\t\t\t\tleft: result.position.left + result.width / 2,\n\t\t\t\t\t\ttop: result.position.top + result.height / 2\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t// Second pass, use a binary search algorithm to locate most suitable coordinate\n\t\t\t\t\twhile(newWidth > 0 && newHeight > 0 && compareX > 0 && compareY > 0)\n\t\t\t\t\t{\n\t\t\t\t\t\tnewWidth = Math.floor(newWidth / 2);\n\t\t\t\t\t\tnewHeight = Math.floor(newHeight / 2);\n\n\t\t\t\t\t\tif(corner.x === LEFT){ compareX = newWidth; }\n\t\t\t\t\t\telse if(corner.x === RIGHT){ compareX = result.width - newWidth; }\n\t\t\t\t\t\telse{ compareX += Math.floor(newWidth / 2); }\n\n\t\t\t\t\t\tif(corner.y === TOP){ compareY = newHeight; }\n\t\t\t\t\t\telse if(corner.y === BOTTOM){ compareY = result.height - newHeight; }\n\t\t\t\t\t\telse{ compareY += Math.floor(newHeight / 2); }\n\n\t\t\t\t\t\ti = coords.length;\n\t\t\t\t\t\twhile(i--)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif(coords.length < 2){ break; }\n\n\t\t\t\t\t\t\trealX = coords[i][0] - result.position.left;\n\t\t\t\t\t\t\trealY = coords[i][1] - result.position.top;\n\n\t\t\t\t\t\t\tif(\n\t\t\t\t\t\t\t\tcorner.x === LEFT && realX >= compareX ||\n\t\t\t\t\t\t\t\tcorner.x === RIGHT && realX <= compareX ||\n\t\t\t\t\t\t\t\tcorner.x === CENTER && (realX < compareX || realX > result.width - compareX) ||\n\t\t\t\t\t\t\t\tcorner.y === TOP && realY >= compareY ||\n\t\t\t\t\t\t\t\tcorner.y === BOTTOM && realY <= compareY ||\n\t\t\t\t\t\t\t\tcorner.y === CENTER && (realY < compareY || realY > result.height - compareY)) {\n\t\t\t\t\t\t\t\tcoords.splice(i, 1);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tresult.position = { left: coords[0][0], top: coords[0][1] };\n\t\t\t\t}\n\n\t\t\t\treturn result;\n\t\t\t},\n\n\t\t\trect: function(ax, ay, bx, by) {\n\t\t\t\treturn {\n\t\t\t\t\twidth: Math.abs(bx - ax),\n\t\t\t\t\theight: Math.abs(by - ay),\n\t\t\t\t\tposition: {\n\t\t\t\t\t\tleft: Math.min(ax, bx),\n\t\t\t\t\t\ttop: Math.min(ay, by)\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t},\n\n\t\t\t_angles: {\n\t\t\t\ttc: 3 / 2, tr: 7 / 4, tl: 5 / 4,\n\t\t\t\tbc: 1 / 2, br: 1 / 4, bl: 3 / 4,\n\t\t\t\trc: 2, lc: 1, c: 0\n\t\t\t},\n\t\t\tellipse: function(cx, cy, rx, ry, corner) {\n\t\t\t\tvar c = PLUGINS.polys._angles[ corner.abbrev() ],\n\t\t\t\t\trxc = c === 0 ? 0 : rx * Math.cos( c * Math.PI ),\n\t\t\t\t\trys = ry * Math.sin( c * Math.PI );\n\n\t\t\t\treturn {\n\t\t\t\t\twidth: rx * 2 - Math.abs(rxc),\n\t\t\t\t\theight: ry * 2 - Math.abs(rys),\n\t\t\t\t\tposition: {\n\t\t\t\t\t\tleft: cx + rxc,\n\t\t\t\t\t\ttop: cy + rys\n\t\t\t\t\t},\n\t\t\t\t\tadjustable: FALSE\n\t\t\t\t};\n\t\t\t},\n\t\t\tcircle: function(cx, cy, r, corner) {\n\t\t\t\treturn PLUGINS.polys.ellipse(cx, cy, r, r, corner);\n\t\t\t}\n\t\t};\n\t\t;PLUGINS.svg = function(api, svg, corner)\n\t\t{\n\t\t\tvar elem = svg[0],\n\t\t\t\troot = $(elem.ownerSVGElement),\n\t\t\t\townerDocument = elem.ownerDocument,\n\t\t\t\tstrokeWidth2 = (parseInt(svg.css('stroke-width'), 10) || 0) / 2,\n\t\t\t\tframeOffset, mtx, transformed,\n\t\t\t\tlen, next, i, points,\n\t\t\t\tresult, position;\n\n\t\t\t// Ascend the parentNode chain until we find an element with getBBox()\n\t\t\twhile(!elem.getBBox) { elem = elem.parentNode; }\n\t\t\tif(!elem.getBBox || !elem.parentNode) { return FALSE; }\n\n\t\t\t// Determine which shape calculation to use\n\t\t\tswitch(elem.nodeName) {\n\t\t\t\tcase 'ellipse':\n\t\t\t\tcase 'circle':\n\t\t\t\t\tresult = PLUGINS.polys.ellipse(\n\t\t\t\t\t\telem.cx.baseVal.value,\n\t\t\t\t\t\telem.cy.baseVal.value,\n\t\t\t\t\t\t(elem.rx || elem.r).baseVal.value + strokeWidth2,\n\t\t\t\t\t\t(elem.ry || elem.r).baseVal.value + strokeWidth2,\n\t\t\t\t\t\tcorner\n\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'line':\n\t\t\t\tcase 'polygon':\n\t\t\t\tcase 'polyline':\n\t\t\t\t\t// Determine points object (line has none, so mimic using array)\n\t\t\t\t\tpoints = elem.points || [\n\t\t\t\t\t\t\t{ x: elem.x1.baseVal.value, y: elem.y1.baseVal.value },\n\t\t\t\t\t\t\t{ x: elem.x2.baseVal.value, y: elem.y2.baseVal.value }\n\t\t\t\t\t\t];\n\n\t\t\t\t\tfor(result = [], i = -1, len = points.numberOfItems || points.length; ++i < len;) {\n\t\t\t\t\t\tnext = points.getItem ? points.getItem(i) : points[i];\n\t\t\t\t\t\tresult.push.apply(result, [next.x, next.y]);\n\t\t\t\t\t}\n\n\t\t\t\t\tresult = PLUGINS.polys.polygon(result, corner);\n\t\t\t\t\tbreak;\n\n\t\t\t\t// Unknown shape or rectangle? Use bounding box\n\t\t\t\tdefault:\n\t\t\t\t\tresult = elem.getBBox();\n\t\t\t\t\tresult = {\n\t\t\t\t\t\twidth: result.width,\n\t\t\t\t\t\theight: result.height,\n\t\t\t\t\t\tposition: {\n\t\t\t\t\t\t\tleft: result.x,\n\t\t\t\t\t\t\ttop: result.y\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\t// Shortcut assignments\n\t\t\tposition = result.position;\n\t\t\troot = root[0];\n\n\t\t\t// Convert position into a pixel value\n\t\t\tif(root.createSVGPoint) {\n\t\t\t\tmtx = elem.getScreenCTM();\n\t\t\t\tpoints = root.createSVGPoint();\n\n\t\t\t\tpoints.x = position.left;\n\t\t\t\tpoints.y = position.top;\n\t\t\t\ttransformed = points.matrixTransform( mtx );\n\t\t\t\tposition.left = transformed.x;\n\t\t\t\tposition.top = transformed.y;\n\t\t\t}\n\n\t\t\t// Check the element is not in a child document, and if so, adjust for frame elements offset\n\t\t\tif(ownerDocument !== document && api.position.target !== 'mouse') {\n\t\t\t\tframeOffset = $((ownerDocument.defaultView || ownerDocument.parentWindow).frameElement).offset();\n\t\t\t\tif(frameOffset) {\n\t\t\t\t\tposition.left += frameOffset.left;\n\t\t\t\t\tposition.top += frameOffset.top;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Adjust by scroll offset of owner document\n\t\t\townerDocument = $(ownerDocument);\n\t\t\tposition.left += ownerDocument.scrollLeft();\n\t\t\tposition.top += ownerDocument.scrollTop();\n\n\t\t\treturn result;\n\t\t};\n\t\t;PLUGINS.imagemap = function(api, area, corner)\n\t\t{\n\t\t\tif(!area.jquery) { area = $(area); }\n\n\t\t\tvar shape = (area.attr('shape') || 'rect').toLowerCase().replace('poly', 'polygon'),\n\t\t\t\timage = $('img[usemap=\"#'+area.parent('map').attr('name')+'\"]'),\n\t\t\t\tcoordsString = $.trim(area.attr('coords')),\n\t\t\t\tcoordsArray = coordsString.replace(/,$/, '').split(','),\n\t\t\t\timageOffset, coords, i, result, len;\n\n\t\t\t// If we can't find the image using the map...\n\t\t\tif(!image.length) { return FALSE; }\n\n\t\t\t// Pass coordinates string if polygon\n\t\t\tif(shape === 'polygon') {\n\t\t\t\tresult = PLUGINS.polys.polygon(coordsArray, corner);\n\t\t\t}\n\n\t\t\t// Otherwise parse the coordinates and pass them as arguments\n\t\t\telse if(PLUGINS.polys[shape]) {\n\t\t\t\tfor(i = -1, len = coordsArray.length, coords = []; ++i < len;) {\n\t\t\t\t\tcoords.push( parseInt(coordsArray[i], 10) );\n\t\t\t\t}\n\n\t\t\t\tresult = PLUGINS.polys[shape].apply(\n\t\t\t\t\tthis, coords.concat(corner)\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// If no shapre calculation method was found, return false\n\t\t\telse { return FALSE; }\n\n\t\t\t// Make sure we account for padding and borders on the image\n\t\t\timageOffset = image.offset();\n\t\t\timageOffset.left += Math.ceil((image.outerWidth(FALSE) - image.width()) / 2);\n\t\t\timageOffset.top += Math.ceil((image.outerHeight(FALSE) - image.height()) / 2);\n\n\t\t\t// Add image position to offset coordinates\n\t\t\tresult.position.left += imageOffset.left;\n\t\t\tresult.position.top += imageOffset.top;\n\n\t\t\treturn result;\n\t\t};\n\t\t;var IE6,\n\n\t\t\t/*\n\t\t\t * BGIFrame adaption (http://plugins.jquery.com/project/bgiframe)\n\t\t\t * Special thanks to Brandon Aaron\n\t\t\t */\n\t\t\tBGIFRAME = '<iframe class=\"qtip-bgiframe\" frameborder=\"0\" tabindex=\"-1\" src=\"javascript:\\'\\';\" ' +\n\t\t\t\t' style=\"display:block; position:absolute; z-index:-1; filter:alpha(opacity=0); ' +\n\t\t\t\t'-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";\"></iframe>';\n\n\t\tfunction Ie6(api) {\n\t\t\tthis._ns = 'ie6';\n\n\t\t\tthis.qtip = api;\n\t\t\tthis.init(api);\n\t\t}\n\n\t\t$.extend(Ie6.prototype, {\n\t\t\t_scroll : function() {\n\t\t\t\tvar overlay = this.qtip.elements.overlay;\n\t\t\t\toverlay && (overlay[0].style.top = $(window).scrollTop() + 'px');\n\t\t\t},\n\n\t\t\tinit: function(qtip) {\n\t\t\t\tvar tooltip = qtip.tooltip;\n\n\t\t\t\t// Create the BGIFrame element if needed\n\t\t\t\tif($('select, object').length < 1) {\n\t\t\t\t\tthis.bgiframe = qtip.elements.bgiframe = $(BGIFRAME).appendTo(tooltip);\n\n\t\t\t\t\t// Update BGIFrame on tooltip move\n\t\t\t\t\tqtip._bind(tooltip, 'tooltipmove', this.adjustBGIFrame, this._ns, this);\n\t\t\t\t}\n\n\t\t\t\t// redraw() container for width/height calculations\n\t\t\t\tthis.redrawContainer = $('<div/>', { id: NAMESPACE+'-rcontainer' })\n\t\t\t\t\t.appendTo(document.body);\n\n\t\t\t\t// Fixup modal plugin if present too\n\t\t\t\tif( qtip.elements.overlay && qtip.elements.overlay.addClass('qtipmodal-ie6fix') ) {\n\t\t\t\t\tqtip._bind(window, ['scroll', 'resize'], this._scroll, this._ns, this);\n\t\t\t\t\tqtip._bind(tooltip, ['tooltipshow'], this._scroll, this._ns, this);\n\t\t\t\t}\n\n\t\t\t\t// Set dimensions\n\t\t\t\tthis.redraw();\n\t\t\t},\n\n\t\t\tadjustBGIFrame: function() {\n\t\t\t\tvar tooltip = this.qtip.tooltip,\n\t\t\t\t\tdimensions = {\n\t\t\t\t\t\theight: tooltip.outerHeight(FALSE),\n\t\t\t\t\t\twidth: tooltip.outerWidth(FALSE)\n\t\t\t\t\t},\n\t\t\t\t\tplugin = this.qtip.plugins.tip,\n\t\t\t\t\ttip = this.qtip.elements.tip,\n\t\t\t\t\ttipAdjust, offset;\n\n\t\t\t\t// Adjust border offset\n\t\t\t\toffset = parseInt(tooltip.css('borderLeftWidth'), 10) || 0;\n\t\t\t\toffset = { left: -offset, top: -offset };\n\n\t\t\t\t// Adjust for tips plugin\n\t\t\t\tif(plugin && tip) {\n\t\t\t\t\ttipAdjust = plugin.corner.precedance === 'x' ? [WIDTH, LEFT] : [HEIGHT, TOP];\n\t\t\t\t\toffset[ tipAdjust[1] ] -= tip[ tipAdjust[0] ]();\n\t\t\t\t}\n\n\t\t\t\t// Update bgiframe\n\t\t\t\tthis.bgiframe.css(offset).css(dimensions);\n\t\t\t},\n\n\t\t\t// Max/min width simulator function\n\t\t\tredraw: function() {\n\t\t\t\tif(this.qtip.rendered < 1 || this.drawing) { return this; }\n\n\t\t\t\tvar tooltip = this.qtip.tooltip,\n\t\t\t\t\tstyle = this.qtip.options.style,\n\t\t\t\t\tcontainer = this.qtip.options.position.container,\n\t\t\t\t\tperc, width, max, min;\n\n\t\t\t\t// Set drawing flag\n\t\t\t\tthis.qtip.drawing = 1;\n\n\t\t\t\t// If tooltip has a set height/width, just set it... like a boss!\n\t\t\t\tif(style.height) { tooltip.css(HEIGHT, style.height); }\n\t\t\t\tif(style.width) { tooltip.css(WIDTH, style.width); }\n\n\t\t\t\t// Simulate max/min width if not set width present...\n\t\t\t\telse {\n\t\t\t\t\t// Reset width and add fluid class\n\t\t\t\t\ttooltip.css(WIDTH, '').appendTo(this.redrawContainer);\n\n\t\t\t\t\t// Grab our tooltip width (add 1 if odd so we don't get wrapping problems.. huzzah!)\n\t\t\t\t\twidth = tooltip.width();\n\t\t\t\t\tif(width % 2 < 1) { width += 1; }\n\n\t\t\t\t\t// Grab our max/min properties\n\t\t\t\t\tmax = tooltip.css('maxWidth') || '';\n\t\t\t\t\tmin = tooltip.css('minWidth') || '';\n\n\t\t\t\t\t// Parse into proper pixel values\n\t\t\t\t\tperc = (max + min).indexOf('%') > -1 ? container.width() / 100 : 0;\n\t\t\t\t\tmax = (max.indexOf('%') > -1 ? perc : 1 * parseInt(max, 10)) || width;\n\t\t\t\t\tmin = (min.indexOf('%') > -1 ? perc : 1 * parseInt(min, 10)) || 0;\n\n\t\t\t\t\t// Determine new dimension size based on max/min/current values\n\t\t\t\t\twidth = max + min ? Math.min(Math.max(width, min), max) : width;\n\n\t\t\t\t\t// Set the newly calculated width and remvoe fluid class\n\t\t\t\t\ttooltip.css(WIDTH, Math.round(width)).appendTo(container);\n\t\t\t\t}\n\n\t\t\t\t// Set drawing flag\n\t\t\t\tthis.drawing = 0;\n\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\tdestroy: function() {\n\t\t\t\t// Remove iframe\n\t\t\t\tthis.bgiframe && this.bgiframe.remove();\n\n\t\t\t\t// Remove bound events\n\t\t\t\tthis.qtip._unbind([window, this.qtip.tooltip], this._ns);\n\t\t\t}\n\t\t});\n\n\t\tIE6 = PLUGINS.ie6 = function(api) {\n\t\t\t// Proceed only if the browser is IE6\n\t\t\treturn BROWSER.ie === 6 ? new Ie6(api) : FALSE;\n\t\t};\n\n\t\tIE6.initialize = 'render';\n\n\t\tCHECKS.ie6 = {\n\t\t\t'^content|style$': function() {\n\t\t\t\tthis.redraw();\n\t\t\t}\n\t\t};\n\t\t;}));\n}( window, document ));\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2017 (original work) Open Assessment Technologies SA;\n */\n/**\n * @author Christophe Noël <christophe@taotesting.com>\n */\ndefine('taoQtiItem/portableLib/OAT/util/tooltip',[\n    'taoQtiItem/portableLib/jquery_2_1_1',\n    'taoQtiItem/portableLib/jquery.qtip'\n], function($) {\n    'use strict';\n\n    return {\n        render: function render($container) {\n            $container.find('[data-role=\"tooltip-target\"]').each(function(){\n                var $target = $(this),\n                    $content,\n                    contentId = $target.attr('aria-describedBy'),\n                    contentHtml;\n\n                if (contentId) {\n                    $content = $container.find('#' + contentId);\n                    if ($content.length) {\n                        contentHtml = $content.html();\n\n                        $target.qtip({\n                            overwrite: true,\n                            theme: 'default',\n                            content: {\n                                text: contentHtml\n                            },\n                            position: {\n                                target: 'event',\n                                my: 'bottom center',\n                                at: 'top center'\n                            }\n                        });\n                    }\n                }\n            });\n        }\n    };\n});\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2017 (original work) Open Assessment Technologies SA;\n */\ndefine('taoQtiItem/portableLib/OAT/util/html',[\n    'taoQtiItem/portableLib/OAT/util/xml',\n    'taoQtiItem/portableLib/OAT/util/math',\n    'taoQtiItem/portableLib/OAT/util/tooltip'\n], function(xml, math, tooltip){\n    'use strict';\n\n    return {\n        render : function render($container){\n            var markup = $container.html();\n\n            //remove xml ns (would break jquery selector otherwise)\n            markup = xml.removeNamespace(markup);\n            $container.html(markup);\n\n            //render math\n            math.render($container);\n\n            //render tooltip\n            tooltip.render($container);\n        }\n    };\n});\n","/*  Snap a programming environment\r\n    based on morphic.js, blocks.js, threads.js and objects.js\r\n    inspired by Scratch\r\n\r\n    written by Jens Mönig\r\n    jens@moenig.org\r\n\r\n    Copyright (C) 2017 by Jens Mönig\r\n\r\n    This file is bundel version of Snap build as a part of a PCI for TAO plateform.\r\n\r\n    Snap! is free software: you can redistribute it and/or modify\r\n    it under the terms of the GNU Affero General Public License as\r\n    published by the Free Software Foundation, either version 3 of\r\n    the License, or (at your option) any later version.\r\n\r\n    This program is distributed in the hope that it will be useful,\r\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n    GNU Affero General Public License for more details.\r\n\r\n    You should have received a copy of the GNU Affero General Public License\r\n    along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n     \r\n    modified by Jean-Philippe Rivière - Wiquid for TAO - 2018\r\n\r\n    */\r\n\r\ndefine('SnapForTao/runtime/js/lib/snapsrc',[], function(){\r\n    'use strict';\r\n\r\n    //************ Wiquid ************************\r\n\r\n    var panel_Left, stageSaver, worldwatcher;\r\n    var attemptLimit =0; // for try counter\r\n    var snapsrc = {}; // snapsrc global object\r\n    snapsrc.actionOrder = 0; // Order block manip. for Tao answering system\r\n   \r\n\r\n   \r\n\r\n    snapsrc.snap = function(id, $container, config){\r\n    //*****************************************\r\n    \t// Global stuff\r\n\t\tvar Localizer;\r\n        var SnapTranslator = new Localizer();\r\n        var importString = \"\";\r\n        var getSnapProjectScript =\"scriptPlaceHolder\";        \r\n        if(config.snapScript==\"shield\"){importString=\"\";}\r\n        else{ importString = config.snapScript; \r\n        }\r\n        var allMorphs = []; //xdone\r\n        var grabOrigine; //xdone\r\n\r\n\t\tfunction localize(string) {\r\n\t\t    return SnapTranslator.translate(string);\r\n\r\n\t\t}\r\n\r\n\t\tfunction Localizer(language, dict) {\r\n\t\t this.language = language || 'en';\r\n    \t this.dict = dict || {};\r\n        }\r\n\r\nLocalizer.prototype.translate = function (string) {\r\n    return Object.prototype.hasOwnProperty.call(\r\n        this.dict[this.language],\r\n        string\r\n    ) ? this.dict[this.language][string] : string;\r\n};\r\n\r\nLocalizer.prototype.languages = function () {\r\n    var property, arr = [];\r\n    for (property in this.dict) {\r\n        if (Object.prototype.hasOwnProperty.call(this.dict, property)) {\r\n            arr.push(property);\r\n        }\r\n    }\r\n    return arr.sort();\r\n};\r\n\r\nLocalizer.prototype.languageName = function (lang) {\r\n    return this.dict[lang].language_name || lang;\r\n};\r\n\r\nLocalizer.prototype.credits = function () {\r\n    var txt = '',\r\n        myself = this;\r\n    this.languages().forEach(function (lang) {\r\n        txt = txt + '\\n'\r\n            + myself.languageName(lang)\r\n            + ' (' + lang + ') - '\r\n            + myself.dict[lang].language_translator\r\n            + ' - ' + myself.dict[lang].last_changed;\r\n    });\r\n    return txt;\r\n};\r\n\r\nLocalizer.prototype.unload = function () {\r\n    var dict,\r\n        keep = ['language_name', 'language_translator', 'last_changed'],\r\n        myself = this;\r\n    this.languages().forEach(function (lang) {\r\n        var key;\r\n        if (lang !== 'en') {\r\n            dict = myself.dict[lang];\r\n            for (key in dict) {\r\n                if (Object.prototype.hasOwnProperty.call(dict, key)\r\n                        && !contains(keep, key)) {\r\n                    delete dict[key];\r\n                }\r\n            }\r\n        }\r\n    });\r\n};\r\n\r\n// SnapTranslator initialization\r\n\r\nSnapTranslator.dict.en = {\r\n    // meta information\r\n    'language_name':\r\n        'English',\r\n    'language_translator':\r\n        'Jens M\\u00F6nig',\r\n    'translator_e-mail':\r\n        'jens@moenig.org',\r\n    'last_changed':\r\n        '2015-12-22',\r\n\r\n    // rewordings in English avoiding having to adjust all other translations\r\n    'any':\r\n        'random',\r\n\r\n    // long strings look-up only\r\n    'file menu import hint':\r\n        'load an exported project file\\nor block library, a costume\\n'\r\n            + 'or a sound',\r\n    'settings menu prefer empty slots hint':\r\n        'check to focus on empty slots\\nwhen dragging & '\r\n                + 'dropping reporters',\r\n    'costumes tab help':\r\n        'import a picture from another web page or from\\n'\r\n            + 'a file on your computer by dropping it here\\n',\r\n    'block deletion dialog text':\r\n        'Are you sure you want to delete this\\n'\r\n            + 'custom block and all its instances?',\r\n    'download to disk text':\r\n        'This item could not be opened in a new tab.\\n' +\r\n        'It has been saved to your browser\\'s downloads folder.',\r\n    'unable to export text':\r\n        'This item could not be exported from Snap!.\\n' +\r\n        'It\\'s likely that your project may contain a lot of media ' +\r\n        '(sounds and images) or that you are using an older browser.' +\r\n        'Please try using a recent version of Chrome, Firefox, or Safari.'\r\n};\r\n\r\nSnapTranslator.dict.fr = {\r\n    'language_name':\r\n        'Fran\\u00E7ais',\r\n    'language_translator':\r\n        'Jean-Jacques Valliet, Mark Rafter, Martin Quinson, Damien Caselli',\r\n    'translator_e-mail':\r\n        'i.scool@mac.com',\r\n    'last_changed':\r\n        '2016-10-27'\r\n};\r\n\r\n//DEBUT DE MORPHIC\r\n/*\r\n\r\n// Global settings /////////////////////////////////////////////////////\r\n\r\n/*global window, HTMLCanvasElement, FileReader, Audio, FileList*/\r\n\r\nvar morphicVersion = '2017-September-26';\r\nvar modules = {}; // keep track of additional loaded modules\r\nvar useBlurredShadows = getBlurredShadowSupport(); // check for Chrome-bug\r\n\r\nvar standardSettings = {\r\n    minimumFontHeight: getMinimumFontHeight(), // browser settings\r\n    globalFontFamily: '',\r\n    menuFontName: 'sans-serif',\r\n    menuFontSize: 12,\r\n    bubbleHelpFontSize: 10,\r\n    prompterFontName: 'sans-serif',\r\n    prompterFontSize: 12,\r\n    prompterSliderSize: 10,\r\n    handleSize: 15,\r\n    scrollBarSize: 12,\r\n    mouseScrollAmount: 40,\r\n    useSliderForInput: false,\r\n    useVirtualKeyboard: true,\r\n    isTouchDevice: false, // turned on by touch events, don't set\r\n    rasterizeSVGs: false,\r\n    isFlat: false,\r\n    grabThreshold: 5\r\n};\r\n\r\nvar touchScreenSettings = {\r\n    minimumFontHeight: standardSettings.minimumFontHeight,\r\n    globalFontFamily: '',\r\n    menuFontName: 'sans-serif',\r\n    menuFontSize: 24,\r\n    bubbleHelpFontSize: 18,\r\n    prompterFontName: 'sans-serif',\r\n    prompterFontSize: 24,\r\n    prompterSliderSize: 20,\r\n    handleSize: 26,\r\n    scrollBarSize: 24,\r\n    mouseScrollAmount: 40,\r\n    useSliderForInput: true,\r\n    useVirtualKeyboard: true,\r\n    isTouchDevice: false,\r\n    rasterizeSVGs: false,\r\n    isFlat: false,\r\n    grabThreshold: 5\r\n};\r\n\r\nvar MorphicPreferences = standardSettings;\r\n\r\n// first, try enabling support for retina displays - can be turned off later\r\n\r\n/*\r\n    Support for retina displays has been pioneered and contributed by\r\n    Bartosz Leper.\r\n\r\n    NOTE: this will make changes to the HTMLCanvasElement that - mostly -\r\n    make Morphic usable on retina displays in very high resolution mode\r\n    with crisp fonts and clear fine lines without you (the programmer)\r\n    needing to know any specifics, provided both the display and the browser\r\n    support these (Safari currently doesn't), otherwise these utilities will\r\n    not be installed.\r\n    If you don't want your Morphic application to support retina resolutions\r\n    you don't have to edit this morphic.js file to comment out the next line\r\n    of code, instead you can simply call\r\n\r\n        disableRetinaSupport();\r\n\r\n    before you create your World(s) in the html page. Disabling retina\r\n    support also will simply do nothing if retina support is not possible\r\n    or already disabled, so it's equally safe to call.\r\n\r\n    For an example how to make retina support user-specifiable refer to\r\n    Snap! >> guis.js >> toggleRetina()\r\n*/\r\n\r\nenableRetinaSupport();\r\n\r\n// Global Functions ////////////////////////////////////////////////////\r\n\r\nfunction nop() {\r\n    // do explicitly nothing\r\n    return null;\r\n}\r\n\r\nvar dicofr =  {\r\n\r\n/*\r\n    Special characters: (see <http://0xcc.net/jsescape/>)\r\n\r\n    À      \\u00C0\r\n    à      \\u00E0\r\n    É      \\u00C9\r\n    è      \\u00E8\r\n    é      \\u00E9\r\n    ê      \\u00EA\r\n    ç      \\u00E7\r\n    ï      \\u00EF\r\n    ô      \\u00F4\r\n    ù      \\u00F9\r\n    °      \\u00B0\r\n    '      \\u0027\r\n    «      \\u00AB\r\n    »      \\u00BB\r\n    ↔      \\u2194\r\n    ↕      \\u2195\r\n*/\r\n\r\n    // translations meta information\r\n    'language_name':\r\n        'Fran\\u00E7ais', // the name as it should appear in the language menu\r\n    'language_translator':\r\n        'Jean-Jacques Valliet, Mark Rafter, Martin Quinson, Damien Caselli', // your name for the Translators tab\r\n    'translator_e-mail':\r\n        'i.scool@mac.com', // optional\r\n    'last_changed':\r\n        '2016-10-27', // this, too, will appear in the Translators tab\r\n\r\n    // GUI\r\n    // control bar:\r\n    'untitled':\r\n        'Sans Titre',\r\n    'development mode':\r\n        'mode d\\u00E9veloppeur',\r\n\r\n    // categories:\r\n    'Motion':\r\n        'Mouvement',\r\n    'Looks':\r\n        'Apparence',\r\n    'Sound':\r\n        'Sons',\r\n    'Pen':\r\n        'Stylo',\r\n    'Control':\r\n        'Contr\\u00F4les',\r\n    'Sensing':\r\n        'Capteurs',\r\n    'Operators':\r\n        'Op\\u00E9rateurs',\r\n    'Variables':\r\n        'Variables',\r\n    'Lists':\r\n        'Listes',\r\n    'Other':\r\n        'Autres',\r\n\r\n    // editor:\r\n    'draggable':\r\n        'd\\u00E9pla\\u00E7able avec la souris',\r\n\r\n    // tabs:\r\n    'Scripts':\r\n        'Scripts',\r\n    'Costumes':\r\n        'Costumes',\r\n    'Sounds':\r\n        'Sons',\r\n\r\n   // names:\r\n    'Sprite':\r\n        'Lutin',\r\n    'Stage':\r\n        'Sc\\u00E8ne',\r\n\r\n    // rotation styles:\r\n    'don\\'t rotate':\r\n        'le lutin ne pivote jamais',\r\n    'can rotate':\r\n        'le lutin pivote \\nautour de son centre de rotation',\r\n    'only face left/right':\r\n        'le lutin reste en position horizontale \\nsoit vers la gauche soit vers la droite ',\r\n\r\n    // new sprite button:\r\n    'add a new sprite':\r\n        'ajouter un nouveau lutin',\r\n    'add a new Turtle sprite':\r\n        'ajouter un nouveau lutin Tortue',\r\n\r\n    // tab help\r\n    'costumes tab help':\r\n        'Importer une image depuis votre ordinateur ou une page web \\npar un presser-glisser-d\\u00E9poser dans l\\u0027aire des costumes',\r\n    'import a sound from your computer\\nby dragging it into here':\r\n        'Importer un son depuis votre ordinateur \\npar un presser-glisser-d\\u00E9poser dans l\\u0027aire des sons',\r\n\r\n    // primitive blocks:\r\n\r\n    /*\r\n        Attention Translators:\r\n        ----------------------\r\n        At this time your translation of block specs will only work\r\n        correctly, if the order of formal parameters and their types\r\n        are unchanged. Placeholders for inputs (formal parameters) are\r\n        indicated by a preceding % prefix and followed by a type\r\n        abbreviation.\r\n\r\n        For example:\r\n\r\n            'say %s for %n secs'\r\n\r\n        can currently not be changed into\r\n\r\n            'say %n secs long %s'\r\n\r\n        and still work as intended.\r\n\r\n        Similarly\r\n\r\n            'point towards %dst'\r\n\r\n        cannot be changed into\r\n\r\n            'point towards %cst'\r\n\r\n        without breaking its functionality.\r\n    */\r\n\r\n     // motion:\r\n    'Stage selected:\\nno motion primitives':\r\n        'Sc\\u00E8ne s\\u00E9lectionn\\u00E9e :\\naucune brique de d\\u00E9pla\\u00E7ement',\r\n\r\n    'move %n steps':\r\n        'avancer de %n pas',\r\n    'turn %clockwise %n degrees':\r\n        'tourner de %n degr\\u00E9s %clockwise',\r\n    'turn %counterclockwise %n degrees':\r\n        'tourner de %n degr\\u00E9s %counterclockwise',\r\n    'point in direction %dir':\r\n        'se diriger en faisant un angle de %dir',\r\n    'point towards %dst':\r\n        'se diriger vers %dst',\r\n    'go to x: %n y: %n':\r\n        'aller \\u00E0 x: %n y: %n',\r\n    'go to %dst':\r\n        'aller \\u00E0 %dst',\r\n    'glide %n secs to x: %n y: %n':\r\n        'glisser en %n sec. \\u00E0 x: %n y: %n',\r\n    'change x by %n':\r\n        'ajouter %n \\u00E0 x',\r\n    'set x to %n':\r\n        'donner la valeur %n \\u00E0 x',\r\n    'change y by %n':\r\n        'ajouter %n \\u00E0 y',\r\n    'set y to %n':\r\n        'donner la valeur %n \\u00E0 y',\r\n    'if on edge, bounce':\r\n        'rebondir si le bord est atteint',\r\n    'x position':\r\n        'position x',\r\n    'y position':\r\n        'position y',\r\n    'direction':\r\n        'direction',\r\n\r\n    // looks:\r\n    'switch to costume %cst':\r\n        'basculer sur le costume %cst',\r\n    'next costume':\r\n        'costume suivant',\r\n    'costume #':\r\n        'costume n\\u00B0',\r\n    'say %s for %n secs':\r\n        'dire %s pendant %n sec.',\r\n    'say %s':\r\n        'dire %s',\r\n    'think %s for %n secs':\r\n        'penser %s pendant %n sec.',\r\n    'think %s':\r\n        'penser %s',\r\n    'Hello!':\r\n        'Salut !',\r\n    'Hmm...':\r\n        'Mmmh...',\r\n    'change %eff effect by %n':\r\n        'ajouter \\u00E0 l\\u0027effet %eff %n',\r\n    'set %eff effect to %n':\r\n        'mettre l\\u0027effet %eff \\u00E0 %n',\r\n    'clear graphic effects':\r\n        'annuler les effets graphiques',\r\n    'change size by %n':\r\n        'ajouter %n \\u00E0 la taille',\r\n    'set size to %n %':\r\n        'choisir %n % de la taille initiale',\r\n    'size':\r\n        'taille',\r\n    'show':\r\n        'montrer',\r\n    'hide':\r\n        'cacher',\r\n    'go to front':\r\n        'envoyer au premier plan',\r\n    'go back %n layers':\r\n        'd\\u00E9placer de %n plan arri\\u00E8re',\r\n\r\n    'development mode \\ndebugging primitives:':\r\n        'mode d\\u00E9veloppement \\ndebugging primitives:',\r\n    'console log %mult%s':\r\n        'console log %mult%s',\r\n    'alert %mult%s':\r\n        'Pop-up: %mult%s',\r\n\r\n    // sound:\r\n    'play sound %snd':\r\n        'jouer le son %snd',\r\n    'play sound %snd until done':\r\n        'jouer le son %snd jusqu\\u0027au bout',\r\n    'stop all sounds':\r\n        'arr\\u00EAter tous les sons',\r\n    'rest for %n beats':\r\n        'faire une pause pour %n temps',\r\n    'play note %n for %n beats':\r\n        'jouer la note %n pour %n temps',\r\n    'change tempo by %n':\r\n        'ajouter %n au tempo',\r\n    'set tempo to %n bpm':\r\n        'choisir le tempo \\u00E0 %n bpm',\r\n    'tempo':\r\n        'tempo',\r\n\r\n    // pen:\r\n    'clear':\r\n        'effacer tout',\r\n    'pen down':\r\n        'stylo en position d\\u0027\\u00E9criture',\r\n    'pen up':\r\n        'relever le stylo',\r\n    'set pen color to %clr':\r\n        'mettre la couleur %clr pour le stylo',\r\n    'change pen color by %n':\r\n        'ajouter %n \\u00E0 la couleur du stylo',\r\n    'set pen color to %n':\r\n        'choisir la couleur %n pour le stylo',\r\n    'change pen shade by %n':\r\n        'ajouter %n \\u00E0 l\\u0027intensit\\u00E9 du stylo ',\r\n    'set pen shade to %n':\r\n        'choisir l\\u0027intensit\\u00E9 %n pour le stylo',\r\n    'change pen size by %n':\r\n        'ajouter %n \\u00E0 la taille du stylo ',\r\n    'set pen size to %n':\r\n        'choisir la taille %n pour le stylo',\r\n    'stamp':\r\n        'estampiller',\r\n    'fill':\r\n        'remplir',\r\n\r\n      // control:\r\n    'when %greenflag clicked':\r\n        'Quand %greenflag est press\\u00E9',\r\n    'when %keyHat key pressed':\r\n        'Quand %keyHat est press\\u00E9',\r\n    'when I am clicked':\r\n        'Quand je suis press\\u00E9 ',\r\n  'when I am %interaction':\r\n    'Quand je suis %interaction',\r\n    'when I receive %msgHat':\r\n        'Quand je re\\u00E7ois %msgHat',\r\n    'broadcast %msg':\r\n        'envoyer \\u00E0 tous %msg',\r\n    'broadcast %msg and wait':\r\n        'envoyer \\u00E0 tous %msg et attendre',\r\n    'Message name':\r\n        'Nom du message',\r\n    'wait %n secs':\r\n        'attendre %n sec.',\r\n    'wait until %b':\r\n        'attendre jusqu\\u0027\\u00E0 %b',\r\n    'forever %c':\r\n        'r\\u00E9p\\u00E9ter ind\\u00E9finiment %c',\r\n    'repeat %n %c':\r\n        'r\\u00E9p\\u00E9ter %n fois %c',\r\n    'repeat until %b %c':\r\n        'r\\u00E9p\\u00E9ter jusqu\\u0027\\u00E0 %b %c',\r\n    'if %b %c':\r\n        'si %b %c',\r\n    'if %b %c else %c':\r\n        'si %b %c sinon %c',\r\n    'report %s':\r\n        'rapporte %s',\r\n    'stop block':\r\n        'arr\\u00EAter le bloc',\r\n    'stop script':\r\n        'arr\\u00EAter le script',\r\n  'stop %stopOthersChoices':\r\n    'arr\\u00EAter %stopOthersChoices',\r\n  'stop %stopChoices':\r\n    'arr\\u00EAter %stopChoices',\r\n    'stop all %stop':\r\n        'arr\\u00EAter tout %stop',\r\n    'run %cmdRing %inputs':\r\n        'ex\\u00E9cute %cmdRing  %inputs',\r\n    'launch %cmdRing %inputs':\r\n        'lance %cmdRing %inputs',\r\n    'call %repRing %inputs':\r\n        'appelle %repRing %inputs',\r\n    'run %cmdRing w/continuation':\r\n        'ex\\u00E9cute %cmdRing avec continuation',\r\n    'call %cmdRing w/continuation':\r\n        'appelle %cmdRing avec continuation',\r\n    'warp %c':\r\n        'Englobe %c',\r\n    'when I start as a clone':\r\n        'Quand je commence comme clone',\r\n    'create a clone of %cln':\r\n        'Clone %cln',\r\n    'myself':\r\n        'moi-m\\u00EAme',\r\n    'delete this clone':\r\n        'supprime ce clone',\r\n    'pause all %pause':\r\n        'mettre en pause %pause',\r\n  'all but this script':\r\n    'tout sauf ce script',\r\n  'other scripts in sprite':\r\n    'les autres scripts de ce lutin',\r\n  'this script':\r\n    'ce script',\r\n  'this block':\r\n    'ce bloc',\r\n\r\n     // sensing:\r\n    'touching %col ?':\r\n        '%col touch\\u00E9 ?',\r\n    'touching %clr ?':\r\n        'couleur %clr touch\\u00E9e ?',\r\n    'color %clr is touching %clr ?':\r\n        'couleur %clr touche %clr ?',\r\n    'ask %s and wait':\r\n        'demander %s et attendre',\r\n    'what\\'s your name?':\r\n        'Quel est ton nom ?',\r\n    'answer':\r\n        'r\\u00E9ponse',\r\n    'mouse x':\r\n        'souris x',\r\n    'mouse y':\r\n        'souris y',\r\n    'mouse down?':\r\n        'souris press\\u00E9e ?',\r\n    'key %key pressed?':\r\n        'touche %key press\\u00E9e ?',\r\n    'distance to %dst':\r\n        'distance de %dst',\r\n    'reset timer':\r\n        'r\\u00E9initialiser le chronom\\u00E8tre',\r\n    'timer':\r\n        'chronom\\u00E8tre',\r\n    '%att of %spr':\r\n        '%att de %spr',\r\n    'my %get':\r\n        'attribut %get',\r\n    'http:// %s':\r\n        'http:// %s',\r\n    'turbo mode?':\r\n        'turbo mode activ\\u00E9 ?',\r\n    'set turbo mode to %b':\r\n        'turbo mode prend la valeur %b',\r\n\r\n    'filtered for %clr':\r\n        'filtr\\u00E9 pour %clr',\r\n    'stack size':\r\n        'taille de la pile',\r\n    'frames':\r\n        'cadres',\r\n\r\n    // operators:\r\n    '%n mod %n':\r\n        '%n mod %n',\r\n    'round %n':\r\n        'arrondi de %n',\r\n    '%fun of %n':\r\n        '%fun appliqu\\u00E9 \\u00E0 %n',\r\n    'pick random %n to %n':\r\n        'nombre al\\u00E9atoire entre %n et %n',\r\n    '%b and %b':\r\n        '%b et %b',\r\n    '%b or %b':\r\n        '%b ou %b',\r\n    'not %b':\r\n        'non %b',\r\n    'true':\r\n        'vrai',\r\n    'false':\r\n        'faux',\r\n    'join %words':\r\n        'regroupe %words',\r\n    'split %s by %delim':\r\n        'd\\u00E9coupe %s entre les %delim',\r\n    'hello':\r\n        'Bonjour',\r\n    'world':\r\n        'Monde',\r\n    'letter %n of %s':\r\n        'lettre %n de %s',\r\n    'length of %s':\r\n        'longueur de %s',\r\n    'unicode of %s':\r\n        'valeur unicode de %s',\r\n    'unicode %n as letter':\r\n        'unicode %n comme lettre',\r\n    'is %s a %typ ?':\r\n        '%s est un(e) %typ ?',\r\n    'is %s identical to %s ?':\r\n        '%s est identique \\u00E0 %s ?',\r\n\r\n    'type of %s':\r\n        'type de %s',\r\n\r\n     // variables:\r\n    'Make a variable':\r\n        'Nouvelle variable',\r\n    'Variable name':\r\n        'Nom de la variable',\r\n    'Delete a variable':\r\n        'Supprimer une variable',\r\n\r\n    'set %var to %s':\r\n        '%var prend la valeur %s',\r\n    'change %var by %n':\r\n        'ajouter \\u00E0 %var %n',\r\n    'show variable %var':\r\n        'afficher la variable %var',\r\n    'hide variable %var':\r\n        'cacher la variable %var',\r\n    'script variables %scriptVars':\r\n        'variables du script %scriptVars',\r\n\r\n    // lists:\r\n    'list %exp':\r\n        'liste %exp',\r\n    '%s in front of %l':\r\n        '%s au d\\u00E9but de %l',\r\n    'item %idx of %l':\r\n        '\\u00E9l\\u00E9ment %idx de %l',\r\n    'all but first of %l':\r\n        'tous sauf le premier de %l',\r\n    'length of %l':\r\n        'longueur de %l',\r\n    '%l contains %s':\r\n        '%l contient %s',\r\n    'thing':\r\n        'qqchose',\r\n    'add %s to %l':\r\n        'ajouter %s \\u00E0 %l',\r\n    'delete %ida of %l':\r\n        'supprimer l\\u0027\\u00E9l\\u00E9ment %ida de %l',\r\n    'insert %s at %idx of %l':\r\n        'ins\\u00E9rer %s en position %idx de %l',\r\n    'replace item %idx of %l with %s':\r\n        'remplacer l\\u0027\\u00E9l\\u00E9ment %idx de %l par %s',\r\n\r\n    // other\r\n    'Make a block':\r\n        'Nouveau bloc',\r\n\r\n   // menus\r\n    // snap menu\r\n    'About...':\r\n        '\\u00C0 propos de Snap!...',\r\n    'Reference manual':\r\n        'Manuel de r\\u00E9f\\u00E9rence',\r\n    'Snap! website':\r\n        'Snap! le site web',\r\n    'Download source':\r\n        'T\\u00E9l\\u00E9charger le code source',\r\n    'Switch back to user mode':\r\n        'Revenir en mode utilisateur',\r\n    'disable deep-Morphic\\ncontext menus\\nand show user-friendly ones':\r\n        'd\\u00E9sactiver la fonction morphic',\r\n    'Switch to dev mode':\r\n        'Passer en mode d\\u00E9veloppeur',\r\n    'enable Morphic\\ncontext menus\\nand inspectors,\\nnot user-friendly!':\r\n        'activer la fonction morphic',\r\n\r\n    // project menu\r\n    'Project notes...':\r\n        'Notes du projet...',\r\n    'New':\r\n        'Nouveau',\r\n    'Open...':\r\n        'Ouvrir...',\r\n    'Save':\r\n        'Sauvegarder',\r\n    'Save As...':\r\n        'Sauvegarder sous...',\r\n    'Import...':\r\n        'Importer...',\r\n    'file menu import hint':\r\n        'importer un projet export\\u00E9,\\nune biblioth\\u00E8que de '\r\n            + 'blocs\\n'\r\n            + 'un costume ou un son',\r\n    'Export project as plain text...':\r\n        'Exporter le projet comme texte...',\r\n    'Export project...':\r\n        'Exporter le projet...',\r\n    'save project data as XML\\nto your downloads folder':\r\n        'sauvegarder le projet au\\nformat XML dans votre\\ndossier T\\u00E9l\\u00E9chargements',\r\n    'show project data as XML\\nin a new browser window':\r\n        'ouvrir le projet au format XML\\ndans une nouvelle fen\\u00EAtre de votre navigateur',\r\n    'Export blocks...':\r\n        'Exporter les blocs ',\r\n    'show global custom block definitions as XML\\nin a new browser window':\r\n        'montrer les d\\u00E9finitions de bloc global personnalis\\u00E9 au format XML \\ndans une nouvelle fen\\u00EAtre de navigateur',\r\n    'Unused blocks...':\r\n        'Blocs inutilis\\u00E9s...',\r\n    'find unused global custom blocks\\nand remove their definitions':\r\n        'trouver et supprimer les blocs personnalis\\u00E9s inutilis\\u00E9s',\r\n    'Remove unused blocks':\r\n        'Supprimer les blocs inutilis\\u00E9s',\r\n    'there are currently no unused\\nglobal custom blocks in this project':\r\n        'Aucun bloc inutilis\\u00E9 dans ce projet',\r\n    'unused block(s) removed':\r\n        'bloc(s) inutilis\\u00E9(s) supprim\\u00E9(s)',\r\n    'Export summary...':\r\n        'Exporter un r\\u00E9sum\\u00E9...',\r\n    'open a new browser browser window\\n with a summary of this project':\r\n        'voir un résumé de ce projet dans\\nune nouvelle fenêtre du navigateur',\r\n    'Import tools':\r\n        'Importer les outils',\r\n    'load the official library of\\npowerful blocks':\r\n        'Importer la biblioth\\u00E8que officielle\\nd\\'outils avanc\\u00E9s',\r\n    'Libraries...':\r\n        'Biblioth\\u00E8ques...',\r\n    'Import library':\r\n        'Importer une biblioth\\u00E8que',\r\n\r\n    // settings menu\r\n    'Language...':\r\n        'Langue...',\r\n    'Blurred shadows':\r\n        'Ombres floues',\r\n    'uncheck to use solid drop\\nshadows and highlights':\r\n        'D\\u00E9cocher pour utiliser des rehauts et des ombres \\n port\\u00E9es floues',\r\n    'check to use blurred drop\\nshadows and highlights':\r\n        'cocher pour utiliser des rehauts et des ombres \\n port\\u00E9es pleines',\r\n    'Zebra coloring':\r\n        'Colorations altern\\u00E9es',\r\n    'check to enable alternating\\ncolors for nested blocks':\r\n        'cocher pour activer des couleurs altern\\u00E9es \\n pour les blocs embo\\u00EEt\\u00E9s',\r\n    'uncheck to disable alternating\\ncolors for nested block':\r\n        'd\\u00E9cocher pour d\\u00E9sactiver des couleurs altern\\u00E9es \\n pour les blocs embo\\u00EEt\\u00E9s',\r\n    'Prefer empty slot drops':\r\n        'Pr\\u00E9f\\u00E9rer des entr\\u00E9es vides',\r\n    'settings menu prefer empty slots hint':\r\n        'cocher pour pr\\u00E9f\\u00E9rer des entr\\u00E9es vides \\n'\r\n        + 'lors du glisser-d\\u00E9poser d\\u0027un reporter',\r\n    'uncheck to allow dropped\\nreporters to kick out others':\r\n        'd\\u00E9cocher pour ne pas pr\\u00E9f\\u00E9rer des entr\\u00E9es vides \\n'\r\n    + 'lors du glisser-d\\u00E9poser d\\u0027un reporter',\r\n    'Long form input dialog':\r\n        'Bo\\u00EEte d\\u0027entr\\u00E9e en mode d\\u00E9taill\\u00E9',\r\n    'check to always show slot\\ntypes in the input dialog':\r\n        'cocher pour toujours ouvrir la bo\\u00EEte de dialogue \\nd\\u0027entr\\u00E9e en mode d\\u00E9taill\\u00E9 : avec tous les types de blocs',\r\n    'uncheck to use the input\\ndialog in short form':\r\n        'd\\u00E9cocher pour utiliser la bo\\u00EEte de dialogue \\nd\\u0027entr\\u00E9e en mode simple ',\r\n    'Virtual keyboard':\r\n        'Clavier virtuel',\r\n    'uncheck to disable\\nvirtual keyboard support\\nfor mobile devices':\r\n        'd\\u00E9cocher pour d\\u00E9sactiver le clavier virtuel pour \\nles tablettes et smartphones : mobile devices  ',\r\n    'check to enable\\nvirtual keyboard support\\nfor mobile devices':\r\n        'cocher pour activer le clavier virtuel pour \\nles tablettes et smartphones : mobile devices  ',\r\n    'Input sliders':\r\n        'Entr\\u00E9e curseurs',\r\n    'uncheck to disable\\ninput sliders for\\nentry fields':\r\n        'd\\u00E9cocher pour d\\u00E9sactiver le curseur coulissant \\ndans le champ de saisie',\r\n    'check to enable\\ninput sliders for\\nentry fields':\r\n        'cocher pour activer un curseur coulissant \\ndans le champ de saisie ',\r\n    'Clicking sound':\r\n        'Cliquetis',\r\n    'uncheck to turn\\nblock clicking\\nsound off':\r\n        'd\\u00E9cocher pour d\\u00E9sactiver le cliquetis \\n'\r\n    +'lors de l\\u0027embo\\u00EEtement des blocs' ,\r\n    'check to turn\\nblock clicking\\nsound on':\r\n        'cocher pour activer le cliquetis \\n'\r\n    +'lors de l\\u0027embo\\u00EEtement des blocs',\r\n    'Turbo mode':\r\n        'Mode turbo',\r\n    'check to prioritize\\nscript execution':\r\n        'cocher pour favoriser l\\'ex\\u00E9cution du script',\r\n    'uncheck to run scripts\\nat normal speed':\r\n        'd\\u00E9cocher pour ex\\u00E9cuter le script en vitesse normale',\r\n    'Flat design':\r\n        'Style al\\u00E9g\\u00E9',\r\n    'check for alternative\\nGUI design':\r\n        'cocher pour un style d\\'interface alternatif',\r\n    'uncheck for default\\nGUI design':\r\n     'd\\u00E9cocher pour le style classique d\\'interface',\r\n    'Keyboard Editing':\r\n        '\\u00C9dition au clavier',\r\n    'uncheck to disable\\nkeyboard editing support':\r\n        'd\\u00E9cocher pour d\\u00E9sactiver l\\'\\u00E9dition au clavier',\r\n    'check to enable\\nkeyboard editing support':\r\n        'cocher pour activer l\\'\\u00E9dition au clavier',\r\n    'Thread safe scripts':\r\n        'Scripts réentrants',\r\n    'check to disallow\\nscript reentrance':\r\n        'cocher pour interdire\\n la r\\u00E9entrance des scripts\\n'\r\n      + 'et les ex\\u00E9cuter s\\u00E9par\\u00E9ment',\r\n    'uncheck to allow\\nscript reentrance':\r\n        'd\\u00E9cocher pour permettre\\n la r\\u00E9entrance des scripts\\n'\r\n      + 'o\\u00F9 certains s\\'ex\\u00E9cutent en paral\\u00E8lle',\r\n    'Prefer smooth animations':\r\n        'Vitesse d\\'animation fixe',\r\n    'uncheck for greater speed\\nat variable frame rates':\r\n        'd\\u00E9cocher pour une vitesse\\nd\\'animation maximale (mais variable)',\r\n    'check for smooth, predictable\\nanimations across computers':\r\n        'cocher pour une vitesse d\\'animation\\nfixe et identique sur tous les ordinateurs',\r\n\r\n    // inputs\r\n    'with inputs':\r\n        'avec entr\\u00E9es',\r\n    'input names:':\r\n        'renseigner un nom :',\r\n    'Input Names:':\r\n        'Renseigner un nom :',\r\n\r\n    // context menus:\r\n    'help':\r\n        'Aide',\r\n\r\n    // palette:\r\n    'hide primitives':\r\n        'Masquer les blocs de base',\r\n    'show primitives':\r\n        'Afficher les blocs de base',\r\n\r\n    // blocks:\r\n    'help...':\r\n        'Aide...',\r\n    'duplicate':\r\n        'dupliquer',\r\n    'make a copy\\nand pick it up':\r\n        'faire une copie\\n et le d\\u00E9placer',\r\n    'only duplicate this block':\r\n        'ne dupliquer que ce bloc',\r\n    'delete':\r\n        'supprimer',\r\n    'script pic...':\r\n        'image du script...',\r\n    'open a new window\\nwith a picture of this script':\r\n        'ouvrir une nouvelle fen\\u00EAtre avec une \\nimage .png de ce script',\r\n    'ringify':\r\n        'entourer',\r\n    'unringify':\r\n        'd\\u00E9tourer',\r\n\r\n    // custom blocks:\r\n    'delete block definition...':\r\n        'supprimer les d\\u00E9finitions de bloc',\r\n    'edit...':\r\n        '\\u00E9diter...',\r\n\r\n    // sprites:\r\n    'edit':\r\n        '\\u00E9diter',\r\n    'move':\r\n        'd\\u00E9placer',\r\n    'detach from':\r\n        'D\\u00E9tacher de',\r\n    'detach all parts':\r\n        'D\\u00E9tacher toutes les parties',\r\n    'export...':\r\n        'Exporter...',\r\n    'paint a new sprite':\r\n        'dessiner un nouveau lutin',\r\n\r\n    // scripting area\r\n    'clean up':\r\n        'effacer',\r\n    'arrange scripts\\nvertically':\r\n        'arrange scripts\\nvertically',\r\n    'add comment':\r\n        'ajouter un commentaire',\r\n    'make a block...':\r\n        'cr\\u00E9er un nouveau bloc...',\r\n\r\n    // costumes\r\n    'rename':\r\n        'renommer',\r\n    'export':\r\n        'exporter',\r\n    'rename costume':\r\n        'renommer un costume',\r\n    'Paint a new costume':\r\n        'Dessiner un nouveau costume',\r\n\r\n    // sounds\r\n    'Play sound':\r\n        'jouer un son',\r\n    'Stop sound':\r\n        'arr\\u00EAter un son',\r\n    'Stop':\r\n        'arr\\u00EAter',\r\n    'Play':\r\n        'jouer',\r\n    'rename sound':\r\n        'renommer un son',\r\n\r\n    // dialogs\r\n    // buttons\r\n    'OK':\r\n        'OK',\r\n    'Ok':\r\n        'Ok',\r\n    'Cancel':\r\n        'Annuler',\r\n    'Yes':\r\n        'Oui',\r\n    'No':\r\n        'Non',\r\n    'Open':\r\n        'Ouvrir',\r\n    'Browser':\r\n        'Navigateur',\r\n    'Examples':\r\n        'Exemples',\r\n\r\n    // help\r\n    'Help':\r\n        'Aide',\r\n\r\n    // Project Manager\r\n    'Untitled':\r\n        'Sans titre',\r\n    'Open Project':\r\n        'Ouvrir un projet',\r\n    '(empty)':\r\n        '(vide)',\r\n    'Saved!':\r\n        'Enregistr\\u00EA !',\r\n    'Delete Project':\r\n        'Supprimer un projet',\r\n    'Are you sure you want to delete':\r\n        'Souhaitez-vous vraiment supprimer ?',\r\n    'rename...':\r\n        'Renommer...',\r\n\r\n     // costume editor\r\n    'Costume Editor':\r\n        '\\u00EAditeur de costumes',\r\n    'click or drag crosshairs to move the rotation center':\r\n        'cliquez ou faites d\\u00EAfiler la ligne de mire  pour d\\u00EAfinir le centre de rotation du costume',\r\n\r\n    // project notes\r\n    'Project Notes':\r\n        'Notes du projet',\r\n\r\n    // new project\r\n    'New Project':\r\n        'Nouveau projet',\r\n    'Replace the current project with a new one?':\r\n        'Remplacer le projet actuel par un nouveau ?',\r\n\r\n    // open project\r\n    'Open Projekt':\r\n        'Ouvrir un projet',\r\n\r\n    // save project\r\n    'Save Project As...':\r\n        'Sauvegarder le projet sous...',\r\n\r\n    // export blocks\r\n    'Export blocks':\r\n        'exporter des blocs',\r\n    'this project doesn\\'t have any\\ncustom global blocks yet':\r\n        'ce projet ne contient pas \\nde bloc global personnalis\\u00E9',\r\n    'select':\r\n        's\\u00E9lectionner',\r\n    'all':\r\n        'tout',\r\n    'none':\r\n        'aucun',\r\n\r\n    // variable dialog\r\n    'for all sprites':\r\n        'pour tous les lutins',\r\n    'for this sprite only':\r\n        'pour ce lutin uniquement',\r\n\r\n    // block dialog\r\n    'Change block':\r\n        'Changer le bloc',\r\n    'Command':\r\n        'Commande',\r\n    'Reporter':\r\n        'Reporter',\r\n    'Predicate':\r\n        'Pr\\u00E9dicat',\r\n\r\n    // block editor\r\n    'Block Editor':\r\n        '\\u00C9diteur de bloc',\r\n    'Apply':\r\n        'Appliquer',\r\n\r\n    // block deletion dialog\r\n    'Delete Custom Block':\r\n        'Effacer le bloc personnalis\\u00E9',\r\n    'block deletion dialog text':\r\n        '\\u00CAtes-vous s\\u00FBr de vouloir supprimer ce bloc personnalis\\u00E9 \\net ' +\r\n            'toutes ses instances ?',\r\n\r\n    // input dialog\r\n    'Create input name':\r\n        'Cr\\u00E9er le nom de l\\u0027entr\\u00E9e',\r\n    'Edit input name':\r\n        '\\u00C9diter le nom de l\\u0027entr\\u00E9e',\r\n    'Edit label fragment':\r\n        '\\u00C9diter le fragment du label',\r\n    'Title text':\r\n        'Texte du titre',\r\n    'Input name':\r\n        'Nom de l\\u0027entr\\u00E9e',\r\n    'Delete':\r\n        'Supprimer',\r\n    'Object':\r\n        'Objet',\r\n    'Number':\r\n        'Nombre',\r\n    'Text':\r\n        'Texte',\r\n    'List':\r\n        'Liste',\r\n    'Any type':\r\n        'Tout type',\r\n    'Boolean (T/F)':\r\n        'Bool\\u00E9en (V/F)',\r\n    'Command\\n(inline)':\r\n        'Commande\\n(en ligne)',\r\n    'Command\\n(C-shape)':\r\n        'Commande\\n(en forme de C)',\r\n    'Any\\n(unevaluated)':\r\n        'Tout type\\n(non \\u00E9valu\\u00E9e)',\r\n    'Boolean\\n(unevaluated)':\r\n        'Bool\\u00E9en\\n(non \\u00E9valu\\u00E9e)',\r\n    'Single input.':\r\n        'Entr\\u00E9e unique.',\r\n    'Default Value:':\r\n        'Valeur par d\\u00E9faut :',\r\n    'Multiple inputs (value is list of inputs)':\r\n        'Entr\\u00E9es multiples (la valeur est une liste des entr\\u00E9es)',\r\n    'Upvar - make internal variable visible to caller':\r\n        'Upvar - Rendre la variable interne visible pour l\\u0027appelant',\r\n    // delimiters\r\n    'whitespace':\r\n        'espaces blancs',\r\n    'line':\r\n        'lignes',\r\n    'tab':\r\n        'tabulations',\r\n    'cr':\r\n        'retours de ligne',\r\n  'letter':\r\n    'lettres',\r\n\r\n    // About Snap\r\n    'About Snap':\r\n        '\\u00C0 propos de Snap',\r\n    'Back...':\r\n        'Retour...',\r\n    'License...':\r\n        'Licence...',\r\n    'Modules...':\r\n        'Modules...',\r\n    'Credits...':\r\n        'Contributeurs...',\r\n    'Translators...':\r\n        'Traducteurs...',\r\n    'License':\r\n        'License',\r\n    'current module versions:':\r\n        'Versions du module courant :',\r\n    'Contributors':\r\n        'Contributeurs',\r\n    'Translations':\r\n        'Traductions',\r\n\r\n    // variable watchers\r\n    'normal':\r\n        'normal',\r\n    'large':\r\n        'grand',\r\n    'slider':\r\n        'curseur',\r\n    'slider min...':\r\n        'min...',\r\n    'slider max...':\r\n        'max...',\r\n    'Slider minimum value':\r\n        'Valeur minimale du curseur',\r\n    'Slider maximum value':\r\n        'Valeur maximale du curseur',\r\n\r\n    // list watchers\r\n    'length: ':\r\n        'Longueur : ',\r\n\r\n    // coments\r\n    'add comment here...':\r\n        'ajoute un commentaire ici',\r\n\r\n    // drow downs\r\n    // directions\r\n    '(90) right':\r\n        '(90) \\u00E0 droite',\r\n    '(-90) left':\r\n        '(-90) \\u00E0 gauche',\r\n    '(0) up':\r\n        '(0) vers le haut',\r\n    '(180) down':\r\n        '(180) vers le bas',\r\n\r\n    // collision detection\r\n    'mouse-pointer':\r\n        'pointeur souris',\r\n    'edge':\r\n        'bord',\r\n    'pen trails':\r\n        'traces de stylo',\r\n\r\n    // costumes\r\n    'Turtle':\r\n        'Pointeur',\r\n    'Empty':\r\n        'Vide',\r\n\r\n    // graphical effects\r\n    'color':\r\n        'couleur',\r\n    'fisheye':\r\n        'fisheye',\r\n    'whirl':\r\n        'tourbillon',\r\n    'pixelate':\r\n        'pixelisation',\r\n    'mosaic':\r\n        'mosa\\u00EFque',\r\n    'saturation':\r\n        'saturation',\r\n    'brightness':\r\n        'luminosit\\u00E9',\r\n    'ghost':\r\n        'transparence',\r\n    'negative':\r\n        'n\\u00E9gatif',\r\n    'comic':\r\n        'moir\\u00E9',\r\n    'confetti':\r\n        'confetti',\r\n\r\n    // keys\r\n    'space':\r\n        'espace',\r\n    'up arrow':\r\n        'fl\\u00E8che vers le haut',\r\n    'down arrow':\r\n        'fl\\u00E8che vers le bas',\r\n    'right arrow':\r\n        'fl\\u00E8che vers la droite',\r\n    'left arrow':\r\n        'fl\\u00E8che vers la gauche',\r\n    'a':\r\n        'a',\r\n    'b':\r\n        'b',\r\n    'c':\r\n        'c',\r\n    'd':\r\n        'd',\r\n    'e':\r\n        'e',\r\n    'f':\r\n        'f',\r\n    'g':\r\n        'g',\r\n    'h':\r\n        'h',\r\n    'i':\r\n        'i',\r\n    'j':\r\n        'j',\r\n    'k':\r\n        'k',\r\n    'l':\r\n        'l',\r\n    'm':\r\n        'm',\r\n    'n':\r\n        'n',\r\n    'o':\r\n        'o',\r\n    'p':\r\n        'p',\r\n    'q':\r\n        'q',\r\n    'r':\r\n        'r',\r\n    's':\r\n        's',\r\n    't':\r\n        't',\r\n    'u':\r\n        'u',\r\n    'v':\r\n        'v',\r\n    'w':\r\n        'w',\r\n    'x':\r\n        'x',\r\n    'y':\r\n        'y',\r\n    'z':\r\n        'z',\r\n    '0':\r\n        '0',\r\n    '1':\r\n        '1',\r\n    '2':\r\n        '2',\r\n    '3':\r\n        '3',\r\n    '4':\r\n        '4',\r\n    '5':\r\n        '5',\r\n    '6':\r\n        '6',\r\n    '7':\r\n        '7',\r\n    '8':\r\n        '8',\r\n    '9':\r\n        '9',\r\n\r\n     // messages\r\n    'new...':\r\n        'nouveau...',\r\n\r\n    // math functions\r\n    'abs':\r\n        'v. absolue',\r\n    'sqrt':\r\n        'racine',\r\n    'sin':\r\n        'sin',\r\n    'cos':\r\n        'cos',\r\n    'tan':\r\n        'tan',\r\n    'asin':\r\n        'asin',\r\n    'acos':\r\n        'acos',\r\n    'atan':\r\n        'atan',\r\n    'ln':\r\n        'ln',\r\n    'e^':\r\n        'e^',\r\n\r\n    // data types\r\n    'number':\r\n        'nombre',\r\n    'text':\r\n        'texte',\r\n    'Boolean':\r\n        'bool\\u00E9en',\r\n    'list':\r\n        'liste',\r\n    'command':\r\n        'bloc de commande',\r\n    'reporter':\r\n        'bloc reporter',\r\n    'predicate':\r\n        'pr\\u00E9dicat',\r\n\r\n    // list indices\r\n    'last':\r\n        'dernier',\r\n    'any':\r\n        'n\\u0027importe quel',\r\n\r\n    // miscellaneous\r\n    'find blocks...':\r\n        'chercher des blocs...',\r\n    'hide primitives':\r\n        'cacher les primitives',\r\n    'show primitives':\r\n        'montrer les primitives',\r\n    'Login...':\r\n        'Connexion...',\r\n    'Signup...':\r\n        'S\\u0027enregistrer...',\r\n    'Reset Password...':\r\n        'Remise \\u00E0 z\\u00E9ro du mot de passe...',\r\n    'show all':\r\n        'tout montrer',\r\n    'pic...':\r\n        'image...',\r\n    'open a new window\\nwith a picture of the stage':\r\n        'ouvre une nouvelle fen\\u00EAtre\\navec une image de la sc\\u00E8ne',\r\n    'scripts pic...':\r\n        'image des scripts...',\r\n    'open a new window\\nwith a picture of all scripts':\r\n        'ouvre une nouvelle fen\\u00EAtre\\navec une image de tous les scripts',\r\n    'Stage size...':\r\n        'Taille de la sc\\u00E8ne...',\r\n    'Zoom blocks...':\r\n        'Agrandir les blocs...',\r\n\r\n    'Plain prototype labels':\r\n        '\\u00C9tiquettes simples de d\\u00E9finition',\r\n    'uncheck to always show (+) symbols\\nin block prototype labels':\r\n        'd\\u00E9cocher pour montrer en permanance le symbole (+)\\ndans les \\u00e9tiquettes de d\\u00E9finition de bloc',\r\n    'check to hide (+) symbols\\nin block prototype labels':\r\n        'cocher pour cacher le symbole (+)\\ndans les \\u00e9tiquettes de d\\u00E9finition de bloc',\r\n\r\n    'check for flat ends of lines':\r\n        'cocher pour dessiner des fins de ligne plates',\r\n    'uncheck for round ends of lines':\r\n        'd\\u00E9cocher pour dessiner des fins de lignes arrondies',\r\n    'Flat line ends':\r\n        'Fins de ligne plates',\r\n\r\n    'Codification support':\r\n        'Support de la \\u00AB codification \\u00BB',\r\n    'uncheck to disable\\nblock to text mapping features':\r\n        'd\\u00E9cocher pour d\\u00E9activer\\nla fonction de transformation :\\nbloc vers texte',\r\n    'check for block\\nto text mapping features':\r\n        'cocher pour activer\\nla fonction de transformation :\\nbloc vers texte',\r\n\r\n    'Inheritance support':\r\n        'Support de l\\'h\\u00E9ritage',\r\n\r\n    'current %dates':\r\n        'date courante %dates',\r\n    'year':\r\n        'ann\\u00E9e',\r\n    'month':\r\n        'mois',\r\n    'date':\r\n        'jour',\r\n    'hour':\r\n        'heure',\r\n    'minute':\r\n        'minute',\r\n    'second':\r\n        'seconde',\r\n    'time in milliseconds':\r\n        'heure en millisecondes',\r\n    'day of week':\r\n        'jour de la semaine',\r\n\r\n    'brightness':\r\n        'luminosit\\u00E9',\r\n    'transparence':\r\n        'transparence',\r\n    'negative':\r\n        'n\\u00E9gatif',\r\n    'comic':\r\n        'bande dessin\\u00E9e',\r\n\r\n    'clicked':\r\n        'cliqu\\u00E9',\r\n    'pressed':\r\n        'press\\u00E9',\r\n    'dropped':\r\n        'd\\u00E9pos\\u00E9',\r\n    'mouse-entered':\r\n        'survol\\u00E9',\r\n    'mouse-departed':\r\n        'quitt\\u00E9',\r\n    'when %b':\r\n        'Quand %b',\r\n\r\n    'JavaScript function ( %mult%s ) { %code }':\r\n        'fonction JavaScript ( %mult%s ) { %code }',\r\n\r\n\r\n    // Copy / Paste\r\n    'Press CTRL+C one more time to effectively copy to clipboard.':\r\n        'Taper une nouvelle fois sur CTRL+C pour copier effectivement vers le presse-papier.',\r\n    'Press CTRL+V one more time to effectively paste from clipboard.':\r\n        'Taper une nouvelle fois sur CTRL+V pour coller effectivement depuis le presse-papier.',\r\n    'Press CTRL+X one more time to effectively cut to clipboard.':\r\n        'Taper une nouvelle fois sur CTRL+X pour couper effectivement vers le presse-papier.',\r\n\r\n    // Paint.js\r\n    'undo':\r\n        'd\\u00E9faire',\r\n    'Paintbrush tool\\n(free draw)':\r\n        'Pinceau\\n(dessin \\u00E0 main lev\\u00E9e)',\r\n    'Stroked Rectangle\\n(shift: square)':\r\n        'Rectangle\\n(Maj : carr\\u00E9)',\r\n    'Stroked Ellipse\\n(shift: circle)':\r\n        'Ellipse\\n(Maj : cercle)',\r\n    'Eraser tool':\r\n        'Gomme',\r\n    'Set the rotation center':\r\n        'Fixer le centre de rotation',\r\n    'Line tool\\n(shift: vertical/horizontal)':\r\n        'Ligne\\n(Maj: verticale/horizontale)',\r\n    'Filled Rectangle\\n(shift: square)':\r\n        'Rectangle plein\\n(Maj: carr\\u00E9)',\r\n    'Filled Ellipse\\n(shift: circle)':\r\n        'Ellipse pleine\\n(Maj: cercle)',\r\n    'Fill a region':\r\n        'Remplir une r\\u00E9gion',\r\n    'Pipette tool\\n(pick a color anywhere)':\r\n        'Pipette\\n(s\\u00E9lectionnez une couleur n\\u0027importe o\\u00F9)',\r\n    'grow':\r\n        'agrandir',\r\n    'shrink':\r\n        'r\\u00E9duire',\r\n    'flip \\u2194':\r\n        'miroir \\u2194',\r\n    'flip \\u2195':\r\n        'miroir \\u2195',\r\n    'Brush size':\r\n        'Taille de pinceau',\r\n    'Constrain proportions of shapes?\\n(you can also hold shift)':\r\n        'Contraindre les proportions de la forme ?\\n(vous pouvez aussi maintenir appuy\\u00E9 Maj)'\r\n\r\n};\r\n\r\n\r\nfunction localize(string) {\r\n    var strong;\r\n    if(dicofr[string]){strong = dicofr[string];}\r\n        else {strong = string;}\r\n    // override this function with custom localizations\r\n    return strong;\r\n}\r\n\r\nfunction isNil(thing) {\r\n    return thing === undefined || thing === null;\r\n}\r\n\r\nfunction contains(list, element) {\r\n    // answer true if element is a member of list\r\n    return list.indexOf(element) !== -1;\r\n}\r\n\r\nfunction detect(list, predicate) {\r\n    // answer the first element of list for which predicate evaluates\r\n    // true, otherwise answer null\r\n    var i, size = list.length;\r\n    for (i = 0; i < size; i += 1) {\r\n        if (predicate.call(null, list[i])) {\r\n            return list[i];\r\n        }\r\n    }\r\n    return null;\r\n}\r\n\r\nfunction sizeOf(object) {\r\n    // answer the number of own properties\r\n    var size = 0, key;\r\n    for (key in object) {\r\n        if (Object.prototype.hasOwnProperty.call(object, key)) {\r\n            size += 1;\r\n        }\r\n    }\r\n    return size;\r\n}\r\n\r\nfunction isString(target) {\r\n    return typeof target === 'string' || target instanceof String;\r\n}\r\n\r\nfunction isObject(target) {\r\n    return target !== null &&\r\n        (typeof target === 'object' || target instanceof Object);\r\n}\r\n\r\nfunction radians(degrees) {\r\n    return degrees * Math.PI / 180;\r\n}\r\n\r\nfunction degrees(radians) {\r\n    return radians * 180 / Math.PI;\r\n}\r\n\r\nfunction fontHeight(height) {\r\n    var minHeight = Math.max(height, MorphicPreferences.minimumFontHeight);\r\n    return minHeight * 1.2; // assuming 1/5 font size for ascenders\r\n}\r\n\r\nfunction isWordChar(aCharacter) {\r\n    // can't use \\b or \\w because they ignore diacritics\r\n    return aCharacter.match(/[A-zÀ-ÿ0-9]/);\r\n}\r\n\r\nfunction newCanvas(extentPoint, nonRetina) {\r\n    // answer a new empty instance of Canvas, don't display anywhere\r\n    // nonRetina - optional Boolean \"false\"\r\n    // by default retina support is automatic\r\n    var canvas, ext;\r\n    ext = extentPoint || {x: 0, y: 0};\r\n    canvas = document.createElement('canvas');\r\n    canvas.width = ext.x;\r\n    canvas.height = ext.y;\r\n    if (nonRetina && canvas.isRetinaEnabled) {\r\n        canvas.isRetinaEnabled = true;\r\n    }\r\n    return canvas;\r\n}\r\n\r\nfunction getMinimumFontHeight() {\r\n    // answer the height of the smallest font renderable in pixels\r\n    var str = 'I',\r\n        size = 50,\r\n        canvas = document.createElement('canvas'),\r\n        ctx,\r\n        maxX,\r\n        data,\r\n        x,\r\n        y;\r\n    canvas.width = size;\r\n    canvas.height = size;\r\n    ctx = canvas.getContext('2d');\r\n    ctx.font = '1px serif';\r\n    maxX = ctx.measureText(str).width;\r\n    ctx.fillStyle = 'black';\r\n    ctx.textBaseline = 'bottom';\r\n    ctx.fillText(str, 0, size);\r\n    for (y = 0; y < size; y += 1) {\r\n        for (x = 0; x < maxX; x += 1) {\r\n            data = ctx.getImageData(x, y, 1, 1);\r\n            if (data.data[3] !== 0) {\r\n                return size - y + 1;\r\n            }\r\n        }\r\n    }\r\n    return 0;\r\n}\r\n\r\nfunction getBlurredShadowSupport() {\r\n    // check for Chrome issue 90001\r\n    // http://code.google.com/p/chromium/issues/detail?id=90001\r\n    var source, target, ctx;\r\n    source = document.createElement('canvas');\r\n    source.width = 10;\r\n    source.height = 10;\r\n    ctx = source.getContext('2d');\r\n    ctx.fillStyle = 'rgb(255, 0, 0)';\r\n    ctx.beginPath();\r\n    ctx.arc(5, 5, 5, 0, Math.PI * 2, true);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n    target = document.createElement('canvas');\r\n    target.width = 10;\r\n    target.height = 10;\r\n    ctx = target.getContext('2d');\r\n    ctx.shadowBlur = 10;\r\n    ctx.shadowColor = 'rgba(0, 0, 255, 1)';\r\n    ctx.drawImage(source, 0, 0);\r\n    return ctx.getImageData(0, 0, 1, 1).data[3] ? true : false;\r\n}\r\n\r\nfunction getDocumentPositionOf(aDOMelement) {\r\n    // answer the absolute coordinates of a DOM element in the document\r\n    var pos, offsetParent;\r\n    if (aDOMelement === null) {\r\n        return {x: 0, y: 0};\r\n    }\r\n    pos = {x: aDOMelement.offsetLeft, y: aDOMelement.offsetTop};\r\n    offsetParent = aDOMelement.offsetParent;\r\n    while (offsetParent !== null) {\r\n        pos.x += offsetParent.offsetLeft;\r\n        pos.y += offsetParent.offsetTop;\r\n        if (offsetParent !== document.body &&\r\n                offsetParent !== document.documentElement) {\r\n            pos.x -= offsetParent.scrollLeft;\r\n            pos.y -= offsetParent.scrollTop;\r\n        }\r\n        offsetParent = offsetParent.offsetParent;\r\n    }\r\n    return pos;\r\n}\r\n\r\nfunction copy(target) {\r\n    // answer a shallow copy of target\r\n    var value, c, property, keys, l, i;\r\n\r\n    if (typeof target !== 'object') {\r\n        return target;\r\n    }\r\n    value = target.valueOf();\r\n    if (target !== value) {\r\n        return new target.constructor(value);\r\n    }\r\n    if (target instanceof target.constructor &&\r\n            target.constructor !== Object) {\r\n        c = Object.create(target.constructor.prototype);\r\n        keys = Object.keys(target);\r\n        for (l = keys.length, i = 0; i < l; i += 1) {\r\n            property = keys[i];\r\n            c[property] = target[property];\r\n        }\r\n    } else {\r\n        c = {};\r\n        for (property in target) {\r\n            c[property] = target[property];\r\n        }\r\n    }\r\n    return c;\r\n}\r\n\r\n// Retina Display Support //////////////////////////////////////////////\r\n\r\n/*\r\n    By default retina support gets installed when Morphic.js loads. There\r\n    are two global functions that let you test for retina availability:\r\n\r\n        isRetinaSupported() - Boolean, whether retina support is available\r\n        isRetinaEnabled()   - Boolean, whether currently in retina mode\r\n\r\n    and two more functions that let you control retina support if it is\r\n    available:\r\n\r\n        enableRetinaSupport()\r\n        disableRetinaSupport()\r\n\r\n    Both of these internally test whether retina is available, so they are\r\n    safe to call directly.\r\n\r\n    Even when in retina mode it often makes sense to use non-high-resolution\r\n    canvasses for simple shapes in order to save system resources and\r\n    optimize performance. Examples are costumes and backgrounds in Snap.\r\n    In Morphic you can create new canvas elements using\r\n    \r\n        newCanvas(extentPoint [, nonRetinaFlag])\r\n\r\n    If retina support is enabled such new canvasses will automatically be\r\n    high-resolution canvasses, unless the newCanvas() function is given an\r\n    otherwise optional second Boolean <true> argument that explicitly makes\r\n    it a non-retina canvas.\r\n\r\n    Not the whole canvas API is supported by Morphic's retina utilities.\r\n    Especially if your code uses putImageData() you will want to \"downgrade\"\r\n    a target high-resolution canvas to a normal-resolution (\"non-retina\")\r\n    one before using\r\n\r\n        normalizeCanvas(aCanvas [, copyFlag])\r\n\r\n    This will change the target canvas' resolution in place (!). If you\r\n    pass in the optional second Boolean <true> flag the function returns\r\n    a non-retina copy and leaves the target canvas unchanged. An example\r\n    of this normalize mechanism is converting the penTrails layer of Snap's\r\n    stage (high-resolution) into a sprite-costume (normal resolution).\r\n*/\r\n\r\nfunction enableRetinaSupport() {\r\n/*\r\n    === contributed by Bartosz Leper ===\r\n\r\n    This installs a series of utilities that allow using Canvas the same way\r\n    on retina and non-retina displays. If the display is a retina one, the\r\n    underlying dimensions of the Canvas elements are doubled, but this will\r\n    be transparent to the code that uses Canvas. All dimensions read or\r\n    written to the Canvas element will be scaled appropriately.\r\n\r\n    NOTE: This implementation is not exhaustive; it only implements what is\r\n    needed by the Snap! UI.\r\n    \r\n    [Jens]: like all other retina screen support implementations I've seen\r\n    Bartosz's patch also does not address putImageData() compatibility when\r\n    mixing retina-enabled and non-retina canvasses. If you need to manipulate\r\n    pixels in such mixed canvasses, make sure to \"downgrade\" them all using\r\n    normalizeCanvas() below.\r\n*/\r\n\r\n    // Get the window's pixel ratio for canvas elements.\r\n    // See: http://www.html5rocks.com/en/tutorials/canvas/hidpi/\r\n    var ctx = document.createElement(\"canvas\").getContext(\"2d\"),\r\n        backingStorePixelRatio = ctx.webkitBackingStorePixelRatio ||\r\n            ctx.mozBackingStorePixelRatio ||\r\n            ctx.msBackingStorePixelRatio ||\r\n            ctx.oBackingStorePixelRatio ||\r\n            ctx.backingStorePixelRatio || 1,\r\n\r\n    // Unfortunately, it's really hard to make this work well when changing\r\n    // zoom level, so let's leave it like this right now, and stick to\r\n    // whatever the ratio was in the beginning.\r\n\r\n        // originalDevicePixelRatio = window.devicePixelRatio,\r\n\r\n    // [Jens]: As of summer 2016 non-integer devicePixelRatios lead to\r\n    // artifacts when blitting images onto canvas elements in all browsers\r\n    // except Chrome, especially Firefox, Edge, IE (Safari doesn't even\r\n    // support retina mode as implemented here).\r\n    // therefore - to ensure crisp fonts - use the ceiling of whatever\r\n    // the devicePixelRatio is. This needs more memory, but looks nicer.\r\n\r\n        originalDevicePixelRatio = Math.ceil(window.devicePixelRatio),\r\n\r\n        canvasProto = HTMLCanvasElement.prototype,\r\n        contextProto = CanvasRenderingContext2D.prototype,\r\n\r\n    // [Jens]: keep track of original properties in a dictionary\r\n    // so they can be iterated over and restored\r\n        uber = {\r\n            drawImage: contextProto.drawImage,\r\n            getImageData: contextProto.getImageData,\r\n\r\n            width: Object.getOwnPropertyDescriptor(\r\n                canvasProto,\r\n                'width'\r\n            ),\r\n            height: Object.getOwnPropertyDescriptor(\r\n                canvasProto,\r\n                'height'\r\n            ),\r\n            shadowOffsetX: Object.getOwnPropertyDescriptor(\r\n                contextProto,\r\n                'shadowOffsetX'\r\n            ),\r\n            shadowOffsetY: Object.getOwnPropertyDescriptor(\r\n                contextProto,\r\n                'shadowOffsetY'\r\n            ),\r\n            shadowBlur: Object.getOwnPropertyDescriptor(\r\n                contextProto,\r\n                'shadowBlur'\r\n            )\r\n        };\r\n\r\n    // [Jens]: only install retina utilities if the display supports them\r\n    if (backingStorePixelRatio === originalDevicePixelRatio) {return; }\r\n    // [Jens]: check whether properties can be overridden, needed for Safari\r\n    if (Object.keys(uber).some(function (any) {\r\n        var prop = uber[any];\r\n        return prop.hasOwnProperty('configurable') && (!prop.configurable);\r\n    })) {return; }\r\n\r\n    function getPixelRatio(imageSource) {\r\n        return imageSource.isRetinaEnabled ?\r\n            (originalDevicePixelRatio || 1) / backingStorePixelRatio : 1;\r\n    }\r\n\r\n    canvasProto._isRetinaEnabled = true;\r\n    // [Jens]: remember the original non-retina properties,\r\n    // so they can be restored again\r\n    canvasProto._bak = uber;\r\n\r\n    Object.defineProperty(canvasProto, 'isRetinaEnabled', {\r\n        get: function() {\r\n            return this._isRetinaEnabled;\r\n        },\r\n        set: function(enabled) {\r\n            var prevPixelRatio = getPixelRatio(this),\r\n                prevWidth = this.width,\r\n                prevHeight = this.height;\r\n\r\n            this._isRetinaEnabled = enabled;\r\n            if (getPixelRatio(this) != prevPixelRatio) {\r\n                this.width = prevWidth;\r\n                this.height = prevHeight;\r\n            }\r\n        },\r\n        configurable: true // [Jens]: allow to be deleted an reconfigured\r\n    });\r\n\r\n    Object.defineProperty(canvasProto, 'width', {\r\n        get: function() {\r\n            return uber.width.get.call(this) / getPixelRatio(this);\r\n        },\r\n        set: function(width) {\r\n            try { // workaround one of FF's dreaded NS_ERROR_FAILURE bugs\r\n                // this should be taken out as soon as FF gets fixed again\r\n                var pixelRatio = getPixelRatio(this),\r\n                    context;\r\n                uber.width.set.call(this, width * pixelRatio);\r\n                context = this.getContext('2d');\r\n                context.restore();\r\n                context.save();\r\n                context.scale(pixelRatio, pixelRatio);\r\n            } catch (err) {\r\n                console.log('Retina Display Support Problem', err);\r\n                uber.width.set.call(this, width);\r\n            }\r\n        }\r\n    });\r\n\r\n    Object.defineProperty(canvasProto, 'height', {\r\n        get: function() {\r\n            return uber.height.get.call(this) / getPixelRatio(this);\r\n        },\r\n        set: function(height) {\r\n            var pixelRatio = getPixelRatio(this),\r\n                context;\r\n            uber.height.set.call(this, height * pixelRatio);\r\n            context = this.getContext('2d');\r\n            context.restore();\r\n            context.save();\r\n            context.scale(pixelRatio, pixelRatio);\r\n        }\r\n    });\r\n\r\n    contextProto.drawImage = function(image) {\r\n        var pixelRatio = getPixelRatio(image),\r\n            sx, sy, sWidth, sHeight, dx, dy, dWidth, dHeight;\r\n        \r\n        // Different signatures of drawImage() method have different\r\n        // parameter assignments.\r\n        switch (arguments.length) {\r\n            case 9:\r\n                sx = arguments[1];\r\n                sy = arguments[2];\r\n                sWidth = arguments[3];\r\n                sHeight = arguments[4];\r\n                dx = arguments[5];\r\n                dy = arguments[6];\r\n                dWidth = arguments[7];\r\n                dHeight = arguments[8];\r\n                break;\r\n\r\n            case 5:\r\n                sx = 0;\r\n                sy = 0;\r\n                sWidth = image.width;\r\n                sHeight = image.height;\r\n                dx = arguments[1];\r\n                dy = arguments[2];\r\n                dWidth = arguments[3];\r\n                dHeight = arguments[4];\r\n                break;\r\n\r\n            case 3:\r\n                sx = 0;\r\n                sy = 0;\r\n                sWidth = image.width;\r\n                sHeight = image.height;\r\n                dx = arguments[1];\r\n                dy = arguments[2];\r\n                dWidth = image.width;\r\n                dHeight = image.height;\r\n                break;\r\n\r\n            default:\r\n                throw Error('Called drawImage() with ' + arguments.length +\r\n                        ' arguments');\r\n        }\r\n        uber.drawImage.call(\r\n                this, image,\r\n                sx * pixelRatio, sy * pixelRatio,\r\n                sWidth * pixelRatio, sHeight * pixelRatio,\r\n                dx, dy,\r\n                dWidth, dHeight);\r\n    };\r\n\r\n    contextProto.getImageData = function(sx, sy, sw, sh) {\r\n        var pixelRatio = getPixelRatio(this.canvas);\r\n        return uber.getImageData.call(\r\n                this,\r\n                sx * pixelRatio, sy * pixelRatio,\r\n                sw * pixelRatio, sh * pixelRatio);\r\n    };\r\n\r\n    Object.defineProperty(contextProto, 'shadowOffsetX', {\r\n        get: function() {\r\n            return uber.shadowOffsetX.get.call(this) /\r\n                getPixelRatio(this.canvas);\r\n        },\r\n        set: function(offset) {\r\n            var pixelRatio = getPixelRatio(this.canvas);\r\n            uber.shadowOffsetX.set.call(this, offset * pixelRatio);\r\n        }\r\n    });\r\n\r\n    Object.defineProperty(contextProto, 'shadowOffsetY', {\r\n        get: function() {\r\n            return uber.shadowOffsetY.get.call(this) /\r\n                getPixelRatio(this.canvas);\r\n        },\r\n        set: function(offset) {\r\n            var pixelRatio = getPixelRatio(this.canvas);\r\n            uber.shadowOffsetY.set.call(this, offset * pixelRatio);\r\n        }\r\n    });\r\n\r\n    Object.defineProperty(contextProto, 'shadowBlur', {\r\n        get: function() {\r\n            return uber.shadowBlur.get.call(this) /\r\n                getPixelRatio(this.canvas);\r\n        },\r\n        set: function(blur) {\r\n            var pixelRatio = getPixelRatio(this.canvas);\r\n            uber.shadowBlur.set.call(this, blur * pixelRatio);\r\n        }\r\n    });\r\n}\r\n\r\nfunction isRetinaSupported () {\r\n    var ctx = document.createElement(\"canvas\").getContext(\"2d\"),\r\n        backingStorePixelRatio = ctx.webkitBackingStorePixelRatio ||\r\n            ctx.mozBackingStorePixelRatio ||\r\n            ctx.msBackingStorePixelRatio ||\r\n            ctx.oBackingStorePixelRatio ||\r\n            ctx.backingStorePixelRatio || 1,\r\n        canvasProto = HTMLCanvasElement.prototype,\r\n        contextProto = CanvasRenderingContext2D.prototype,\r\n        uber = {\r\n            drawImage: contextProto.drawImage,\r\n            getImageData: contextProto.getImageData,\r\n\r\n            width: Object.getOwnPropertyDescriptor(\r\n                canvasProto,\r\n                'width'\r\n            ),\r\n            height: Object.getOwnPropertyDescriptor(\r\n                canvasProto,\r\n                'height'\r\n            ),\r\n            shadowOffsetX: Object.getOwnPropertyDescriptor(\r\n                contextProto,\r\n                'shadowOffsetX'\r\n            ),\r\n            shadowOffsetY: Object.getOwnPropertyDescriptor(\r\n                contextProto,\r\n                'shadowOffsetY'\r\n            ),\r\n            shadowBlur: Object.getOwnPropertyDescriptor(\r\n                contextProto,\r\n                'shadowBlur'\r\n            )\r\n        };\r\n    return backingStorePixelRatio !== window.devicePixelRatio &&\r\n        !(Object.keys(uber).some(function (any) {\r\n            var prop = uber[any];\r\n            return prop.hasOwnProperty('configurable') && (!prop.configurable);\r\n        })\r\n    );\r\n}\r\n\r\nfunction isRetinaEnabled () {\r\n    return HTMLCanvasElement.prototype.hasOwnProperty('_isRetinaEnabled');\r\n}\r\n\r\nfunction disableRetinaSupport() {\r\n    // uninstalls Retina utilities. Make sure to re-create every Canvas\r\n    // element afterwards\r\n    var canvasProto, contextProto, uber;\r\n    if (!isRetinaEnabled()) {return; }\r\n    canvasProto = HTMLCanvasElement.prototype;\r\n    contextProto = CanvasRenderingContext2D.prototype;\r\n    uber = canvasProto._bak;\r\n    Object.defineProperty(canvasProto, 'width', uber.width);\r\n    Object.defineProperty(canvasProto, 'height', uber.height);\r\n    contextProto.drawImage = uber.drawImage;\r\n    contextProto.getImageData = uber.getImageData;\r\n    Object.defineProperty(contextProto, 'shadowOffsetX', uber.shadowOffsetX);\r\n    Object.defineProperty(contextProto, 'shadowOffsetY', uber.shadowOffsetY);\r\n    Object.defineProperty(contextProto, 'shadowBlur', uber.shadowBlur);\r\n    delete canvasProto._isRetinaEnabled;\r\n    delete canvasProto.isRetinaEnabled;\r\n    delete canvasProto._bak;\r\n}\r\n\r\nfunction normalizeCanvas(aCanvas, getCopy) {\r\n    // make sure aCanvas is non-retina, otherwise convert it in place (!)\r\n    // or answer a normalized copy if the \"getCopy\" flag is <true>\r\n    var cpy;\r\n    if (!aCanvas.isRetinaEnabled) {return aCanvas; }\r\n    cpy = newCanvas(new Point(aCanvas.width, aCanvas.height), true);\r\n    cpy.getContext('2d').drawImage(aCanvas, 0, 0);\r\n    if (getCopy) {return cpy; }\r\n    aCanvas.isRetinaEnabled = false;\r\n    aCanvas.width = cpy.width;\r\n    aCanvas.height = cpy.height;\r\n    aCanvas.getContext('2d').drawImage(cpy, 0, 0);\r\n    return aCanvas;\r\n}\r\n\r\n// Animations //////////////////////////////////////////////////////////////\r\n\r\n/*\r\n    Animations handle gradual transitions between one state and another over a\r\n    period of time. Transition effects can be specified using easing functions.\r\n    An easing function maps a fraction of the transition time to a fraction of\r\n    the state delta. This way accelerating / decelerating and bouncing sliding\r\n    effects can be accomplished.\r\n\r\n    Animations are generic and not limited to motion, i.e. they can also handle\r\n    other transitions such as color changes, transparency fadings, growing,\r\n    shrinking, turning etc.\r\n\r\n    Animations need to be stepped by a scheduler, e. g. an interval function.\r\n    In Morphic the preferred way to run an animation is to register it with\r\n    the World by adding it to the World's animation queue. The World steps each\r\n    registered animation once per display cycle independently of the Morphic\r\n    stepping mechanism.\r\n\r\n    For an example how to use animations look at how the Morph's methods\r\n    \r\n        glideTo()\r\n        fadeTo()\r\n\r\n    and\r\n    \r\n        slideBackTo()\r\n\r\n    are implemented.\r\n*/\r\n\r\n// Animation instance creation:\r\n\r\nfunction Animation(setter, getter, delta, duration, easing, onComplete) {\r\n    this.setter = setter; // function\r\n    this.getter = getter; // function\r\n    this.delta = delta || 0; // number\r\n    this.duration = duration || 0; // milliseconds\r\n    this.easing = isString(easing) ? // string or function\r\n            this.easings[easing] || this.easings.sinusoidal\r\n                : easing || this.easings.sinusoidal;\r\n    this.onComplete = onComplete || null; // optional callback\r\n    this.endTime = null;\r\n    this.destination = null;\r\n    this.isActive = false;\r\n    this.start();\r\n}\r\n\r\nAnimation.prototype.easings = {\r\n    // dictionary of a few pre-defined easing functions used to transition\r\n    // two states\r\n\r\n    // ease both in and out:\r\n    linear: function (t) {return t; },\r\n    sinusoidal: function (t) {return 1 - Math.cos(radians(t * 90)); },\r\n    quadratic: function (t) {\r\n        return t < 0.5 ?\r\n                2 * t * t\r\n                    : ((4 - (2 * t)) * t) - 1;\r\n    },\r\n    cubic: function (t) {\r\n        return t < 0.5 ?\r\n                4 * t * t * t\r\n                    : ((t - 1) * ((2 * t) - 2) * ((2 * t) - 2)) + 1;\r\n    },\r\n    elastic: function (t) {\r\n        return (t -= 0.5) < 0 ?\r\n            (0.01 + 0.01 / t) * Math.sin(50 * t)\r\n                : (0.02 - 0.01 / t) * Math.sin(50 * t) + 1;\r\n    },\r\n\r\n    // ease in only:\r\n    sine_in: function (t) {return 1 - Math.sin(radians(90 + (t * 90))); },\r\n    quad_in: function (t) {return t * t; },\r\n    cubic_in: function (t) {return t * t * t; },\r\n    elastic_in: function (t) {\r\n        return (0.04 - 0.04 / t) * Math.sin(25 * t) + 1;\r\n    },\r\n\r\n    // ease out only:\r\n    sine_out: function (t) {return Math.sin(radians(t * 90)); },\r\n    quad_out: function (t) {return t * (2 - t); },\r\n    elastic_out: function (t) {return 0.04 * t / (--t) * Math.sin(25 * t); }\r\n};\r\n\r\nAnimation.prototype.start = function () {\r\n    // (re-) activate the animation, e.g. if is has previously completed,\r\n    // make sure to plug it into something that repeatedly triggers step(),\r\n    // e.g. the World's animations queue\r\n    this.endTime = Date.now() + this.duration;\r\n    this.destination = this.getter.call(this) + this.delta;\r\n    this.isActive = true;\r\n};\r\n\r\nAnimation.prototype.step = function () {\r\n    if (!this.isActive) {return; }\r\n    var now = Date.now();\r\n    if (now > this.endTime) {\r\n        this.setter(this.destination);\r\n        this.isActive = false;\r\n        if (this.onComplete) {this.onComplete(); }\r\n    } else {\r\n        this.setter(\r\n            this.destination -\r\n                (this.delta * this.easing((this.endTime - now) / this.duration))\r\n        );\r\n    }\r\n};\r\n\r\n// Colors //////////////////////////////////////////////////////////////\r\n\r\n// Color instance creation:\r\n\r\nfunction Color(r, g, b, a) {\r\n    // all values are optional, just (r, g, b) is fine\r\n    this.r = r || 0;\r\n    this.g = g || 0;\r\n    this.b = b || 0;\r\n    this.a = a || ((a === 0) ? 0 : 1);\r\n}\r\n\r\n// Color string representation: e.g. 'rgba(255,165,0,1)'\r\n\r\nColor.prototype.toString = function () {\r\n    return 'rgba(' +\r\n        Math.round(this.r) + ',' +\r\n        Math.round(this.g) + ',' +\r\n        Math.round(this.b) + ',' +\r\n        this.a + ')';\r\n};\r\n\r\n// Color copying:\r\n\r\nColor.prototype.copy = function () {\r\n    return new Color(\r\n        this.r,\r\n        this.g,\r\n        this.b,\r\n        this.a\r\n    );\r\n};\r\n\r\n// Color comparison:\r\n\r\nColor.prototype.eq = function (aColor) {\r\n    // ==\r\n    return aColor &&\r\n        this.r === aColor.r &&\r\n        this.g === aColor.g &&\r\n        this.b === aColor.b;\r\n};\r\n\r\n// Color conversion (hsv):\r\n\r\nColor.prototype.hsv = function () {\r\n    // ignore alpha\r\n    var max, min, h, s, v, d,\r\n        rr = this.r / 255,\r\n        gg = this.g / 255,\r\n        bb = this.b / 255;\r\n    max = Math.max(rr, gg, bb);\r\n    min = Math.min(rr, gg, bb);\r\n    h = max;\r\n    s = max;\r\n    v = max;\r\n    d = max - min;\r\n    s = max === 0 ? 0 : d / max;\r\n    if (max === min) {\r\n        h = 0;\r\n    } else {\r\n        switch (max) {\r\n        case rr:\r\n            h = (gg - bb) / d + (gg < bb ? 6 : 0);\r\n            break;\r\n        case gg:\r\n            h = (bb - rr) / d + 2;\r\n            break;\r\n        case bb:\r\n            h = (rr - gg) / d + 4;\r\n            break;\r\n        }\r\n        h /= 6;\r\n    }\r\n    return [h, s, v];\r\n};\r\n\r\nColor.prototype.set_hsv = function (h, s, v) {\r\n    // ignore alpha, h, s and v are to be within [0, 1]\r\n    var i, f, p, q, t;\r\n    i = Math.floor(h * 6);\r\n    f = h * 6 - i;\r\n    p = v * (1 - s);\r\n    q = v * (1 - f * s);\r\n    t = v * (1 - (1 - f) * s);\r\n    switch (i % 6) {\r\n    case 0:\r\n        this.r = v;\r\n        this.g = t;\r\n        this.b = p;\r\n        break;\r\n    case 1:\r\n        this.r = q;\r\n        this.g = v;\r\n        this.b = p;\r\n        break;\r\n    case 2:\r\n        this.r = p;\r\n        this.g = v;\r\n        this.b = t;\r\n        break;\r\n    case 3:\r\n        this.r = p;\r\n        this.g = q;\r\n        this.b = v;\r\n        break;\r\n    case 4:\r\n        this.r = t;\r\n        this.g = p;\r\n        this.b = v;\r\n        break;\r\n    case 5:\r\n        this.r = v;\r\n        this.g = p;\r\n        this.b = q;\r\n        break;\r\n    }\r\n\r\n    this.r *= 255;\r\n    this.g *= 255;\r\n    this.b *= 255;\r\n\r\n};\r\n\r\n// Color mixing:\r\n\r\nColor.prototype.mixed = function (proportion, otherColor) {\r\n    // answer a copy of this color mixed with another color, ignore alpha\r\n    var frac1 = Math.min(Math.max(proportion, 0), 1),\r\n        frac2 = 1 - frac1;\r\n    return new Color(\r\n        this.r * frac1 + otherColor.r * frac2,\r\n        this.g * frac1 + otherColor.g * frac2,\r\n        this.b * frac1 + otherColor.b * frac2\r\n    );\r\n};\r\n\r\nColor.prototype.darker = function (percent) {\r\n    // return an rgb-interpolated darker copy of me, ignore alpha\r\n    var fract = 0.8333;\r\n    if (percent) {\r\n        fract = (100 - percent) / 100;\r\n    }\r\n    return this.mixed(fract, new Color(0, 0, 0));\r\n};\r\n\r\nColor.prototype.lighter = function (percent) {\r\n    // return an rgb-interpolated lighter copy of me, ignore alpha\r\n    var fract = 0.8333;\r\n    if (percent) {\r\n        fract = (100 - percent) / 100;\r\n    }\r\n    return this.mixed(fract, new Color(255, 255, 255));\r\n};\r\n\r\nColor.prototype.dansDarker = function () {\r\n    // return an hsv-interpolated darker copy of me, ignore alpha\r\n    var hsv = this.hsv(),\r\n        result = new Color(),\r\n        vv = Math.max(hsv[2] - 0.16, 0);\r\n    result.set_hsv(hsv[0], hsv[1], vv);\r\n    return result;\r\n};\r\n\r\nColor.prototype.inverted = function () {\r\n    return new Color(\r\n        255 - this.r,\r\n        255 - this.g,\r\n        255 - this.b\r\n    );\r\n};\r\n\r\n// Points //////////////////////////////////////////////////////////////\r\n\r\n// Point instance creation:\r\n\r\nfunction Point(x, y) {\r\n    this.x = x || 0;\r\n    this.y = y || 0;\r\n}\r\n\r\n// Point string representation: e.g. '12@68'\r\n\r\nPoint.prototype.toString = function () {\r\n    return Math.round(this.x.toString()) +\r\n        '@' + Math.round(this.y.toString());\r\n};\r\n\r\n// Point copying:\r\n\r\nPoint.prototype.copy = function () {\r\n    return new Point(this.x, this.y);\r\n};\r\n\r\n// Point comparison:\r\n\r\nPoint.prototype.eq = function (aPoint) {\r\n    // ==\r\n    return this.x === aPoint.x && this.y === aPoint.y;\r\n};\r\n\r\nPoint.prototype.lt = function (aPoint) {\r\n    // <\r\n    return this.x < aPoint.x && this.y < aPoint.y;\r\n};\r\n\r\nPoint.prototype.gt = function (aPoint) {\r\n    // >\r\n    return this.x > aPoint.x && this.y > aPoint.y;\r\n};\r\n\r\nPoint.prototype.ge = function (aPoint) {\r\n    // >=\r\n    return this.x >= aPoint.x && this.y >= aPoint.y;\r\n};\r\n\r\nPoint.prototype.le = function (aPoint) {\r\n    // <=\r\n    return this.x <= aPoint.x && this.y <= aPoint.y;\r\n};\r\n\r\nPoint.prototype.max = function (aPoint) {\r\n    return new Point(Math.max(this.x, aPoint.x),\r\n        Math.max(this.y, aPoint.y));\r\n};\r\n\r\nPoint.prototype.min = function (aPoint) {\r\n    return new Point(Math.min(this.x, aPoint.x),\r\n        Math.min(this.y, aPoint.y));\r\n};\r\n\r\n// Point conversion:\r\n\r\nPoint.prototype.round = function () {\r\n    return new Point(Math.round(this.x), Math.round(this.y));\r\n};\r\n\r\nPoint.prototype.abs = function () {\r\n    return new Point(Math.abs(this.x), Math.abs(this.y));\r\n};\r\n\r\nPoint.prototype.neg = function () {\r\n    return new Point(-this.x, -this.y);\r\n};\r\n\r\nPoint.prototype.mirror = function () {\r\n    return new Point(this.y, this.x);\r\n};\r\n\r\nPoint.prototype.floor = function () {\r\n    return new Point(\r\n        Math.max(Math.floor(this.x), 0),\r\n        Math.max(Math.floor(this.y), 0)\r\n    );\r\n};\r\n\r\nPoint.prototype.ceil = function () {\r\n    return new Point(Math.ceil(this.x), Math.ceil(this.y));\r\n};\r\n\r\n// Point arithmetic:\r\n\r\nPoint.prototype.add = function (other) {\r\n    if (other instanceof Point) {\r\n        return new Point(this.x + other.x, this.y + other.y);\r\n    }\r\n    return new Point(this.x + other, this.y + other);\r\n};\r\n\r\nPoint.prototype.subtract = function (other) {\r\n    if (other instanceof Point) {\r\n        return new Point(this.x - other.x, this.y - other.y);\r\n    }\r\n    return new Point(this.x - other, this.y - other);\r\n};\r\n\r\nPoint.prototype.multiplyBy = function (other) {\r\n    if (other instanceof Point) {\r\n        return new Point(this.x * other.x, this.y * other.y);\r\n    }\r\n    return new Point(this.x * other, this.y * other);\r\n};\r\n\r\nPoint.prototype.divideBy = function (other) {\r\n    if (other instanceof Point) {\r\n        return new Point(this.x / other.x, this.y / other.y);\r\n    }\r\n    return new Point(this.x / other, this.y / other);\r\n};\r\n\r\nPoint.prototype.floorDivideBy = function (other) {\r\n    if (other instanceof Point) {\r\n        return new Point(Math.floor(this.x / other.x),\r\n            Math.floor(this.y / other.y));\r\n    }\r\n    return new Point(Math.floor(this.x / other),\r\n        Math.floor(this.y / other));\r\n};\r\n\r\n// Point polar coordinates:\r\n\r\nPoint.prototype.r = function () {\r\n    var t = (this.multiplyBy(this));\r\n    return Math.sqrt(t.x + t.y);\r\n};\r\n\r\nPoint.prototype.degrees = function () {\r\n/*\r\n    answer the angle I make with origin in degrees.\r\n    Right is 0, down is 90\r\n*/\r\n    var tan, theta;\r\n\r\n    if (this.x === 0) {\r\n        if (this.y >= 0) {\r\n            return 90;\r\n        }\r\n        return 270;\r\n    }\r\n    tan = this.y / this.x;\r\n    theta = Math.atan(tan);\r\n    if (this.x >= 0) {\r\n        if (this.y >= 0) {\r\n            return degrees(theta);\r\n        }\r\n        return 360 + (degrees(theta));\r\n    }\r\n    return 180 + degrees(theta);\r\n};\r\n\r\nPoint.prototype.theta = function () {\r\n/*\r\n    answer the angle I make with origin in radians.\r\n    Right is 0, down is 90\r\n*/\r\n    var tan, theta;\r\n\r\n    if (this.x === 0) {\r\n        if (this.y >= 0) {\r\n            return radians(90);\r\n        }\r\n        return radians(270);\r\n    }\r\n    tan = this.y / this.x;\r\n    theta = Math.atan(tan);\r\n    if (this.x >= 0) {\r\n        if (this.y >= 0) {\r\n            return theta;\r\n        }\r\n        return radians(360) + theta;\r\n    }\r\n    return radians(180) + theta;\r\n};\r\n\r\n// Point functions:\r\n\r\nPoint.prototype.crossProduct = function (aPoint) {\r\n    return this.multiplyBy(aPoint.mirror());\r\n};\r\n\r\nPoint.prototype.distanceTo = function (aPoint) {\r\n    return (aPoint.subtract(this)).r();\r\n};\r\n\r\nPoint.prototype.rotate = function (direction, center) {\r\n    // direction must be 'right', 'left' or 'pi'\r\n    var offset = this.subtract(center);\r\n    if (direction === 'right') {\r\n        return new Point(-offset.y, offset.y).add(center);\r\n    }\r\n    if (direction === 'left') {\r\n        return new Point(offset.y, -offset.y).add(center);\r\n    }\r\n    // direction === 'pi'\r\n    return center.subtract(offset);\r\n};\r\n\r\nPoint.prototype.flip = function (direction, center) {\r\n    // direction must be 'vertical' or 'horizontal'\r\n    if (direction === 'vertical') {\r\n        return new Point(this.x, center.y * 2 - this.y);\r\n    }\r\n    // direction === 'horizontal'\r\n    return new Point(center.x * 2 - this.x, this.y);\r\n};\r\n\r\nPoint.prototype.distanceAngle = function (dist, angle) {\r\n    var deg = angle, x, y;\r\n    if (deg > 270) {\r\n        deg = deg - 360;\r\n    } else if (deg < -270) {\r\n        deg = deg + 360;\r\n    }\r\n    if (-90 <= deg && deg <= 90) {\r\n        x = Math.sin(radians(deg)) * dist;\r\n        y = Math.sqrt((dist * dist) - (x * x));\r\n        return new Point(x + this.x, this.y - y);\r\n    }\r\n    x = Math.sin(radians(180 - deg)) * dist;\r\n    y = Math.sqrt((dist * dist) - (x * x));\r\n    return new Point(x + this.x, this.y + y);\r\n};\r\n\r\n// Point transforming:\r\n\r\nPoint.prototype.scaleBy = function (scalePoint) {\r\n    return this.multiplyBy(scalePoint);\r\n};\r\n\r\nPoint.prototype.translateBy = function (deltaPoint) {\r\n    return this.add(deltaPoint);\r\n};\r\n\r\nPoint.prototype.rotateBy = function (angle, centerPoint) {\r\n    var center = centerPoint || new Point(0, 0),\r\n        p = this.subtract(center),\r\n        r = p.r(),\r\n        theta = angle - p.theta();\r\n    return new Point(\r\n        center.x + (r * Math.cos(theta)),\r\n        center.y - (r * Math.sin(theta))\r\n    );\r\n};\r\n\r\n// Point conversion:\r\n\r\nPoint.prototype.asArray = function () {\r\n    return [this.x, this.y];\r\n};\r\n\r\n// Rectangles //////////////////////////////////////////////////////////\r\n\r\n// Rectangle instance creation:\r\n\r\nfunction Rectangle(left, top, right, bottom) {\r\n    this.init(new Point((left || 0), (top || 0)),\r\n            new Point((right || 0), (bottom || 0)));\r\n}\r\n\r\nRectangle.prototype.init = function (originPoint, cornerPoint) {\r\n    this.origin = originPoint;\r\n    this.corner = cornerPoint;\r\n};\r\n\r\n// Rectangle string representation: e.g. '[0@0 | 160@80]'\r\n\r\nRectangle.prototype.toString = function () {\r\n    return '[' + this.origin.toString() + ' | ' +\r\n        this.extent().toString() + ']';\r\n};\r\n\r\n// Rectangle copying:\r\n\r\nRectangle.prototype.copy = function () {\r\n    return new Rectangle(\r\n        this.left(),\r\n        this.top(),\r\n        this.right(),\r\n        this.bottom()\r\n    );\r\n};\r\n\r\n// creating Rectangle instances from Points:\r\n\r\nPoint.prototype.corner = function (cornerPoint) {\r\n    // answer a new Rectangle\r\n    return new Rectangle(\r\n        this.x,\r\n        this.y,\r\n        cornerPoint.x,\r\n        cornerPoint.y\r\n    );\r\n};\r\n\r\nPoint.prototype.rectangle = function (aPoint) {\r\n    // answer a new Rectangle\r\n    var org, crn;\r\n    org = this.min(aPoint);\r\n    crn = this.max(aPoint);\r\n    return new Rectangle(org.x, org.y, crn.x, crn.y);\r\n};\r\n\r\nPoint.prototype.extent = function (aPoint) {\r\n    //answer a new Rectangle\r\n    var crn = this.add(aPoint);\r\n    return new Rectangle(this.x, this.y, crn.x, crn.y);\r\n};\r\n\r\n// Rectangle accessing - setting:\r\n\r\nRectangle.prototype.setTo = function (left, top, right, bottom) {\r\n    // note: all inputs are optional and can be omitted\r\n\r\n    this.origin = new Point(\r\n        left || ((left === 0) ? 0 : this.left()),\r\n        top || ((top === 0) ? 0 : this.top())\r\n    );\r\n\r\n    this.corner = new Point(\r\n        right || ((right === 0) ? 0 : this.right()),\r\n        bottom || ((bottom === 0) ? 0 : this.bottom())\r\n    );\r\n};\r\n\r\n// Rectangle accessing - getting:\r\n\r\nRectangle.prototype.area = function () {\r\n    //requires width() and height() to be defined\r\n    var w = this.width();\r\n    if (w < 0) {\r\n        return 0;\r\n    }\r\n    return Math.max(w * this.height(), 0);\r\n};\r\n\r\nRectangle.prototype.bottom = function () {\r\n    return this.corner.y;\r\n};\r\n\r\nRectangle.prototype.bottomCenter = function () {\r\n    return new Point(this.center().x, this.bottom());\r\n};\r\n\r\nRectangle.prototype.bottomLeft = function () {\r\n    return new Point(this.origin.x, this.corner.y);\r\n};\r\n\r\nRectangle.prototype.bottomRight = function () {\r\n    return this.corner.copy();\r\n};\r\n\r\nRectangle.prototype.boundingBox = function () {\r\n    return this;\r\n};\r\n\r\nRectangle.prototype.center = function () {\r\n    return this.origin.add(\r\n        this.corner.subtract(this.origin).floorDivideBy(2)\r\n    );\r\n};\r\n\r\nRectangle.prototype.corners = function () {\r\n    return [this.origin,\r\n        this.bottomLeft(),\r\n        this.corner,\r\n        this.topRight()];\r\n};\r\n\r\nRectangle.prototype.extent = function () {\r\n    return this.corner.subtract(this.origin);\r\n};\r\n\r\nRectangle.prototype.height = function () {\r\n    return this.corner.y - this.origin.y;\r\n};\r\n\r\nRectangle.prototype.left = function () {\r\n    return this.origin.x;\r\n};\r\n\r\nRectangle.prototype.leftCenter = function () {\r\n    return new Point(this.left(), this.center().y);\r\n};\r\n\r\nRectangle.prototype.right = function () {\r\n    return this.corner.x;\r\n};\r\n\r\nRectangle.prototype.rightCenter = function () {\r\n    return new Point(this.right(), this.center().y);\r\n};\r\n\r\nRectangle.prototype.top = function () {\r\n    return this.origin.y;\r\n};\r\n\r\nRectangle.prototype.topCenter = function () {\r\n    return new Point(this.center().x, this.top());\r\n};\r\n\r\nRectangle.prototype.topLeft = function () {\r\n    return this.origin;\r\n};\r\n\r\nRectangle.prototype.topRight = function () {\r\n    return new Point(this.corner.x, this.origin.y);\r\n};\r\n\r\nRectangle.prototype.width = function () {\r\n    return this.corner.x - this.origin.x;\r\n};\r\n\r\nRectangle.prototype.position = function () {\r\n    return this.origin;\r\n};\r\n\r\n// Rectangle comparison:\r\n\r\nRectangle.prototype.eq = function (aRect) {\r\n    return this.origin.eq(aRect.origin) &&\r\n        this.corner.eq(aRect.corner);\r\n};\r\n\r\nRectangle.prototype.abs = function () {\r\n    var newOrigin, newCorner;\r\n\r\n    newOrigin = this.origin.abs();\r\n    newCorner = this.corner.max(newOrigin);\r\n    return newOrigin.corner(newCorner);\r\n};\r\n\r\n// Rectangle functions:\r\n\r\nRectangle.prototype.insetBy = function (delta) {\r\n    // delta can be either a Point or a Number\r\n    var result = new Rectangle();\r\n    result.origin = this.origin.add(delta);\r\n    result.corner = this.corner.subtract(delta);\r\n    return result;\r\n};\r\n\r\nRectangle.prototype.expandBy = function (delta) {\r\n    // delta can be either a Point or a Number\r\n    var result = new Rectangle();\r\n    result.origin = this.origin.subtract(delta);\r\n    result.corner = this.corner.add(delta);\r\n    return result;\r\n};\r\n\r\nRectangle.prototype.growBy = function (delta) {\r\n    // delta can be either a Point or a Number\r\n    var result = new Rectangle();\r\n    result.origin = this.origin.copy();\r\n    result.corner = this.corner.add(delta);\r\n    return result;\r\n};\r\n\r\nRectangle.prototype.intersect = function (aRect) {\r\n    var result = new Rectangle();\r\n    result.origin = this.origin.max(aRect.origin);\r\n    result.corner = this.corner.min(aRect.corner);\r\n    return result;\r\n};\r\n\r\nRectangle.prototype.merge = function (aRect) {\r\n    var result = new Rectangle();\r\n    result.origin = this.origin.min(aRect.origin);\r\n    result.corner = this.corner.max(aRect.corner);\r\n    return result;\r\n};\r\n\r\nRectangle.prototype.mergeWith = function (aRect) {\r\n    // mutates myself\r\n    this.origin = this.origin.min(aRect.origin);\r\n    this.corner = this.corner.max(aRect.corner);\r\n};\r\n\r\nRectangle.prototype.round = function () {\r\n    return this.origin.round().corner(this.corner.round());\r\n};\r\n\r\nRectangle.prototype.spread = function () {\r\n    // round me by applying floor() to my origin and ceil() to my corner\r\n    // expand by 1 to be on the safe side, this eliminates rounding\r\n    // artifacts caused by Safari's auto-scaling on retina displays\r\n    return this.origin.floor().corner(this.corner.ceil()).expandBy(1);\r\n};\r\n\r\nRectangle.prototype.amountToTranslateWithin = function (aRect) {\r\n/*\r\n    Answer a Point, delta, such that self + delta is forced within\r\n    aRectangle. when all of me cannot be made to fit, prefer to keep\r\n    my topLeft inside. Taken from Squeak.\r\n*/\r\n    var dx = 0, dy = 0;\r\n\r\n    if (this.right() > aRect.right()) {\r\n        dx = aRect.right() - this.right();\r\n    }\r\n    if (this.bottom() > aRect.bottom()) {\r\n        dy = aRect.bottom() - this.bottom();\r\n    }\r\n    if ((this.left() + dx) < aRect.left()) {\r\n        dx = aRect.left() - this.left();\r\n    }\r\n    if ((this.top() + dy) < aRect.top()) {\r\n        dy = aRect.top() - this.top();\r\n    }\r\n    return new Point(dx, dy);\r\n};\r\n\r\n// Rectangle testing:\r\n\r\nRectangle.prototype.containsPoint = function (aPoint) {\r\n    return this.origin.le(aPoint) && aPoint.lt(this.corner);\r\n};\r\n\r\nRectangle.prototype.containsRectangle = function (aRect) {\r\n    return aRect.origin.gt(this.origin) &&\r\n        aRect.corner.lt(this.corner);\r\n};\r\n\r\nRectangle.prototype.intersects = function (aRect) {\r\n    var ro = aRect.origin, rc = aRect.corner;\r\n    return (rc.x >= this.origin.x) &&\r\n        (rc.y >= this.origin.y) &&\r\n        (ro.x <= this.corner.x) &&\r\n        (ro.y <= this.corner.y);\r\n};\r\n\r\nRectangle.prototype.isNearTo = function (aRect, threshold) {\r\n    var ro = aRect.origin, rc = aRect.corner, border = threshold || 0;\r\n    return (rc.x + border >= this.origin.x) &&\r\n        (rc.y  + border >= this.origin.y) &&\r\n        (ro.x - border <= this.corner.x) &&\r\n        (ro.y - border <= this.corner.y);\r\n};\r\n\r\n// Rectangle transforming:\r\n\r\nRectangle.prototype.scaleBy = function (scale) {\r\n    // scale can be either a Point or a scalar\r\n    var o = this.origin.multiplyBy(scale),\r\n        c = this.corner.multiplyBy(scale);\r\n    return new Rectangle(o.x, o.y, c.x, c.y);\r\n};\r\n\r\nRectangle.prototype.translateBy = function (factor) {\r\n    // factor can be either a Point or a scalar\r\n    var o = this.origin.add(factor),\r\n        c = this.corner.add(factor);\r\n    return new Rectangle(o.x, o.y, c.x, c.y);\r\n};\r\n\r\n// Rectangle converting:\r\n\r\nRectangle.prototype.asArray = function () {\r\n    return [this.left(), this.top(), this.right(), this.bottom()];\r\n};\r\n\r\nRectangle.prototype.asArray_xywh = function () {\r\n    return [this.left(), this.top(), this.width(), this.height()];\r\n};\r\n\r\n// Nodes ///////////////////////////////////////////////////////////////\r\n\r\n// Node instance creation:\r\n\r\nfunction Node(parent, childrenArray) {\r\n    this.init(parent || null, childrenArray || []);\r\n}\r\n\r\nNode.prototype.init = function (parent, childrenArray) {\r\n    this.parent = parent || null;\r\n    this.children = childrenArray || [];\r\n};\r\n\r\n// Node string representation: e.g. 'a Node[3]'\r\n\r\nNode.prototype.toString = function () {\r\n    return 'a Node' + '[' + this.children.length.toString() + ']';\r\n};\r\n\r\n// Node accessing:\r\n\r\nNode.prototype.addChild = function (aNode) {\r\n    this.children.push(aNode);\r\n    aNode.parent = this;\r\n};\r\n\r\nNode.prototype.addChildFirst = function (aNode) {\r\n    this.children.splice(0, null, aNode);\r\n    aNode.parent = this;\r\n};\r\n\r\nNode.prototype.removeChild = function (aNode) {\r\n    var idx = this.children.indexOf(aNode);\r\n    if (idx !== -1) {\r\n        this.children.splice(idx, 1);\r\n    }\r\n};\r\n\r\n// Node functions:\r\n\r\nNode.prototype.root = function () {\r\n    if (this.parent === null) {\r\n        return this;\r\n    }\r\n    return this.parent.root();\r\n};\r\n\r\nNode.prototype.depth = function () {\r\n    if (this.parent === null) {\r\n        return 0;\r\n    }\r\n    return this.parent.depth() + 1;\r\n};\r\n\r\nNode.prototype.allChildren = function () {\r\n    // includes myself\r\n    var result = [this];\r\n    this.children.forEach(function (child) {\r\n        result = result.concat(child.allChildren());\r\n    });\r\n    return result;\r\n};\r\n\r\nNode.prototype.forAllChildren = function (aFunction) {\r\n    if (this.children.length > 0) {\r\n        this.children.forEach(function (child) {\r\n            child.forAllChildren(aFunction);\r\n        });\r\n    }\r\n    aFunction.call(null, this);\r\n};\r\n\r\nNode.prototype.anyChild = function (aPredicate) {\r\n    // includes myself\r\n    var i;\r\n    if (aPredicate.call(null, this)) {\r\n        return true;\r\n    }\r\n    for (i = 0; i < this.children.length; i += 1) {\r\n        if (this.children[i].anyChild(aPredicate)) {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n};\r\n\r\nNode.prototype.allLeafs = function () {\r\n    var result = [];\r\n    this.allChildren().forEach(function (element) {\r\n        if (element.children.length === 0) {\r\n            result.push(element);\r\n        }\r\n    });\r\n    return result;\r\n};\r\n\r\nNode.prototype.allParents = function () {\r\n    // includes myself\r\n    var result = [this];\r\n    if (this.parent !== null) {\r\n        result = result.concat(this.parent.allParents());\r\n    }\r\n    return result;\r\n};\r\n\r\nNode.prototype.siblings = function () {\r\n    var myself = this;\r\n    if (this.parent === null) {\r\n        return [];\r\n    }\r\n    return this.parent.children.filter(function (child) {\r\n        return child !== myself;\r\n    });\r\n};\r\n\r\nNode.prototype.parentThatIsA = function (constructor) {\r\n    // including myself\r\n    if (this instanceof constructor) {\r\n        return this;\r\n    }\r\n    if (!this.parent) {\r\n        return null;\r\n    }\r\n    return this.parent.parentThatIsA(constructor);\r\n};\r\n\r\nNode.prototype.parentThatIsAnyOf = function (constructors) {\r\n    // including myself\r\n    var yup = false,\r\n        myself = this;\r\n    constructors.forEach(function (each) {\r\n        if (myself.constructor === each) {\r\n            yup = true;\r\n            return;\r\n        }\r\n    });\r\n    if (yup) {\r\n        return this;\r\n    }\r\n    if (!this.parent) {\r\n        return null;\r\n    }\r\n    return this.parent.parentThatIsAnyOf(constructors);\r\n};\r\n\r\n// Morphs //////////////////////////////////////////////////////////////\r\n\r\n// Morph: referenced constructors\r\n\r\nvar Morph;\r\nvar WorldMorph;\r\nvar HandMorph;\r\nvar ShadowMorph;\r\nvar FrameMorph;\r\nvar MenuMorph;\r\nvar HandleMorph;\r\nvar StringFieldMorph;\r\nvar ColorPickerMorph;\r\nvar SliderMorph;\r\nvar ScrollFrameMorph;\r\nvar InspectorMorph;\r\nvar StringMorph;\r\nvar TextMorph;\r\n\r\n// Morph inherits from Node:\r\n\r\nMorph.prototype = new Node();\r\nMorph.prototype.constructor = Morph;\r\nMorph.uber = Node.prototype;\r\n\r\n// Morph settings:\r\n\r\n/*\r\n    damage list housekeeping\r\n\r\n    the trackChanges property of the Morph prototype is a Boolean switch\r\n    that determines whether the World's damage list ('broken' rectangles)\r\n    tracks changes. By default the switch is always on. If set to false\r\n    changes are not stored. This can be very useful for housekeeping of\r\n    the damage list in situations where a large number of (sub-) morphs\r\n    are changed more or less at once. Instead of keeping track of every\r\n    single submorph's changes tremendous performance improvements can be\r\n    achieved by setting the trackChanges flag to false before propagating\r\n    the layout changes, setting it to true again and then storing the full\r\n    bounds of the surrounding morph. As an example refer to the\r\n\r\n        fixLayout()\r\n\r\n    method of InspectorMorph, or the\r\n\r\n        startLayout()\r\n        endLayout()\r\n\r\n    methods of SyntaxElementMorph in the Snap application.\r\n*/\r\n\r\nMorph.prototype.trackChanges = true;\r\nMorph.prototype.shadowBlur = 4;\r\n\r\n// Morph instance creation:\r\n\r\nfunction Morph() {\r\n    this.init();\r\n}\r\n\r\n// Morph initialization:\r\n\r\nMorph.prototype.init = function (noDraw) {\r\n    Morph.uber.init.call(this);\r\n    this.isMorph = true;\r\n    this.image = null;\r\n    this.bounds = new Rectangle(0, 0, 50, 40);\r\n    this.cachedFullImage = null;\r\n    this.cachedFullBounds = null;\r\n    this.color = new Color(80, 80, 80);\r\n    this.texture = null; // optional url of a fill-image\r\n    this.cachedTexture = null; // internal cache of actual bg image\r\n    this.alpha = 1;\r\n    this.isVisible = true;\r\n    this.isDraggable = false;\r\n    this.isTemplate = false;\r\n    this.acceptsDrops = false;\r\n    this.noticesTransparentClick = false;\r\n    if (!noDraw) {this.drawNew(); }\r\n    this.fps = 0;\r\n    this.customContextMenu = null;\r\n    this.lastTime = Date.now();\r\n    this.onNextStep = null; // optional function to be run once\r\n};\r\n\r\n// Morph string representation: e.g. 'a Morph 2 [20@45 | 130@250]'\r\n\r\nMorph.prototype.toString = function () {\r\n    return 'a ' +\r\n        (this.constructor.name ||\r\n            this.constructor.toString().split(' ')[1].split('(')[0]) +\r\n        ' ' +\r\n        this.children.length.toString() + ' ' +\r\n        this.bounds;\r\n};\r\n\r\n// Morph deleting:\r\n\r\nMorph.prototype.destroy = function () {\r\n    if (this.parent !== null) {\r\n        this.fullChanged();\r\n        this.parent.removeChild(this);\r\n    }\r\n};\r\n\r\n// Morph stepping:\r\n\r\nMorph.prototype.stepFrame = function () {\r\n    if (!this.step) {\r\n        return null;\r\n    }\r\n    var current, elapsed, leftover, nxt;\r\n    current = Date.now();\r\n    elapsed = current - this.lastTime;\r\n    if (this.fps > 0) {\r\n        leftover = (1000 / this.fps) - elapsed;\r\n    } else {\r\n        leftover = 0;\r\n    }\r\n    if (leftover < 1) {\r\n        this.lastTime = current;\r\n        if (this.onNextStep) {\r\n            nxt = this.onNextStep;\r\n            this.onNextStep = null;\r\n            nxt.call(this);\r\n        }\r\n        this.step();\r\n        this.children.forEach(function (child) {\r\n            child.stepFrame();\r\n        });\r\n    }\r\n};\r\n\r\nMorph.prototype.nextSteps = function (arrayOfFunctions) {\r\n    var lst = arrayOfFunctions || [],\r\n        nxt = lst.shift(),\r\n        myself = this;\r\n    if (nxt) {\r\n        this.onNextStep = function () {\r\n            nxt.call(myself);\r\n            myself.nextSteps(lst);\r\n        };\r\n    }\r\n};\r\n\r\nMorph.prototype.step = nop;\r\n\r\n// Morph accessing - geometry getting:\r\n\r\nMorph.prototype.left = function () {\r\n    return this.bounds.left();\r\n};\r\n\r\nMorph.prototype.right = function () {\r\n    return this.bounds.right();\r\n};\r\n\r\nMorph.prototype.top = function () {\r\n    return this.bounds.top();\r\n};\r\n\r\nMorph.prototype.bottom = function () {\r\n    return this.bounds.bottom();\r\n};\r\n\r\nMorph.prototype.center = function () {\r\n    return this.bounds.center();\r\n};\r\n\r\nMorph.prototype.bottomCenter = function () {\r\n    return this.bounds.bottomCenter();\r\n};\r\n\r\nMorph.prototype.bottomLeft = function () {\r\n    return this.bounds.bottomLeft();\r\n};\r\n\r\nMorph.prototype.bottomRight = function () {\r\n    return this.bounds.bottomRight();\r\n};\r\n\r\nMorph.prototype.boundingBox = function () {\r\n    return this.bounds;\r\n};\r\n\r\nMorph.prototype.corners = function () {\r\n    return this.bounds.corners();\r\n};\r\n\r\nMorph.prototype.leftCenter = function () {\r\n    return this.bounds.leftCenter();\r\n};\r\n\r\nMorph.prototype.rightCenter = function () {\r\n    return this.bounds.rightCenter();\r\n};\r\n\r\nMorph.prototype.topCenter = function () {\r\n    return this.bounds.topCenter();\r\n};\r\n\r\nMorph.prototype.topLeft = function () {\r\n    return this.bounds.topLeft();\r\n};\r\n\r\nMorph.prototype.topRight = function () {\r\n    return this.bounds.topRight();\r\n};\r\nMorph.prototype.position = function () {\r\n    return this.bounds.origin;\r\n};\r\n\r\nMorph.prototype.extent = function () {\r\n    return this.bounds.extent();\r\n};\r\n\r\nMorph.prototype.width = function () {\r\n    return this.bounds.width();\r\n};\r\n\r\nMorph.prototype.height = function () {\r\n    return this.bounds.height();\r\n};\r\n\r\nMorph.prototype.fullBounds = function () {\r\n    var result;\r\n    result = this.bounds;\r\n    this.children.forEach(function (child) {\r\n        if (child.isVisible) {\r\n            result = result.merge(child.fullBounds());\r\n        }\r\n    });\r\n    return result;\r\n};\r\n\r\nMorph.prototype.fullBoundsNoShadow = function () {\r\n    // answer my full bounds but ignore any shadow\r\n    var result;\r\n    result = this.bounds;\r\n    this.children.forEach(function (child) {\r\n        if (!(child instanceof ShadowMorph) && (child.isVisible)) {\r\n            result = result.merge(child.fullBounds());\r\n        }\r\n    });\r\n    return result;\r\n};\r\n\r\nMorph.prototype.visibleBounds = function () {\r\n    // answer which part of me is not clipped by a Frame\r\n    var visible = this.bounds,\r\n        frames = this.allParents().filter(function (p) {\r\n            return p instanceof FrameMorph;\r\n        });\r\n    frames.forEach(function (f) {\r\n        visible = visible.intersect(f.bounds);\r\n    });\r\n    return visible;\r\n};\r\n\r\n// Morph accessing - simple changes:\r\n\r\nMorph.prototype.moveBy = function (delta) {\r\n    this.fullChanged();\r\n    this.silentMoveBy(delta);\r\n    this.fullChanged();\r\n};\r\n\r\nMorph.prototype.silentMoveBy = function (delta) {\r\n    var children = this.children,\r\n        i = children.length;\r\n    this.bounds = this.bounds.translateBy(delta);\r\n    if (this.cachedFullBounds) {\r\n        this.cachedFullBounds = this.cachedFullBounds.translateBy(delta);\r\n    }\r\n    // ugly optimization avoiding forEach()\r\n    for (i; i > 0; i -= 1) {\r\n        children[i - 1].silentMoveBy(delta);\r\n    }\r\n};\r\n\r\nMorph.prototype.setPosition = function (aPoint) {\r\n    var delta = aPoint.subtract(this.topLeft());\r\n    if ((delta.x !== 0) || (delta.y !== 0)) {\r\n        this.moveBy(delta);\r\n    }\r\n};\r\n\r\nMorph.prototype.silentSetPosition = function (aPoint) {\r\n    var delta = aPoint.subtract(this.topLeft());\r\n    if ((delta.x !== 0) || (delta.y !== 0)) {\r\n        this.silentMoveBy(delta);\r\n    }\r\n};\r\n\r\nMorph.prototype.setLeft = function (x) {\r\n    this.setPosition(\r\n        new Point(\r\n            x,\r\n            this.top()\r\n        )\r\n    );\r\n};\r\n\r\nMorph.prototype.setRight = function (x) {\r\n    this.setPosition(\r\n        new Point(\r\n            x - this.width(),\r\n            this.top()\r\n        )\r\n    );\r\n};\r\n\r\nMorph.prototype.setTop = function (y) {\r\n    this.setPosition(\r\n        new Point(\r\n            this.left(),\r\n            y\r\n        )\r\n    );\r\n};\r\n\r\nMorph.prototype.setBottom = function (y) {\r\n    this.setPosition(\r\n        new Point(\r\n            this.left(),\r\n            y - this.height()\r\n        )\r\n    );\r\n};\r\n\r\nMorph.prototype.setCenter = function (aPoint) {\r\n    this.setPosition(\r\n        aPoint.subtract(\r\n            this.extent().floorDivideBy(2)\r\n        )\r\n    );\r\n};\r\n\r\nMorph.prototype.setFullCenter = function (aPoint) {\r\n    this.setPosition(\r\n        aPoint.subtract(\r\n            this.fullBounds().extent().floorDivideBy(2)\r\n        )\r\n    );\r\n};\r\n\r\nMorph.prototype.keepWithin = function (aMorph) {\r\n    // make sure I am completely within another Morph's bounds\r\n    var leftOff, rightOff, topOff, bottomOff;\r\n    leftOff = this.fullBounds().left() - aMorph.left();\r\n    if (leftOff < 0) {\r\n        this.moveBy(new Point(-leftOff, 0));\r\n    }\r\n    rightOff = this.fullBounds().right() - aMorph.right();\r\n    if (rightOff > 0) {\r\n        this.moveBy(new Point(-rightOff, 0));\r\n    }\r\n    topOff = this.fullBounds().top() - aMorph.top();\r\n    if (topOff < 0) {\r\n        this.moveBy(new Point(0, -topOff));\r\n    }\r\n    bottomOff = this.fullBounds().bottom() - aMorph.bottom();\r\n    if (bottomOff > 0) {\r\n        this.moveBy(new Point(0, -bottomOff));\r\n    }\r\n};\r\n\r\nMorph.prototype.scrollIntoView = function () {\r\n    var leftOff, rightOff, topOff, bottomOff,\r\n        sf = this.parentThatIsA(ScrollFrameMorph);\r\n    if (!sf) {return; }\r\n    rightOff = Math.min(\r\n        this.fullBounds().right() - sf.right(),\r\n        sf.contents.right() - sf.right()\r\n    );\r\n    if (rightOff > 0) {\r\n        sf.contents.moveBy(new Point(-rightOff, 0));\r\n    }\r\n    leftOff = this.fullBounds().left() - sf.left();\r\n    if (leftOff < 0) {\r\n        sf.contents.moveBy(new Point(-leftOff, 0));\r\n    }\r\n    topOff = this.fullBounds().top() - sf.top();\r\n    if (topOff < 0) {\r\n        sf.contents.moveBy(new Point(0, -topOff));\r\n    }\r\n    bottomOff = this.fullBounds().bottom() - sf.bottom();\r\n    if (bottomOff > 0) {\r\n        sf.contents.moveBy(new Point(0, -bottomOff));\r\n    }\r\n    sf.adjustScrollBars();\r\n};\r\n\r\n// Morph accessing - dimensional changes requiring a complete redraw\r\n\r\nMorph.prototype.setExtent = function (aPoint, silently) {\r\n    // silently avoids redrawing the receiver\r\n    if (silently) {\r\n        this.silentSetExtent(aPoint);\r\n        return;\r\n    }\r\n    if (!aPoint.eq(this.extent())) {\r\n        this.changed();\r\n        this.silentSetExtent(aPoint);\r\n        this.changed();\r\n        this.drawNew();\r\n    }\r\n};\r\n\r\nMorph.prototype.silentSetExtent = function (aPoint) {\r\n    var ext, newWidth, newHeight;\r\n    ext = aPoint.round();\r\n    newWidth = Math.max(ext.x, 0);\r\n    newHeight = Math.max(ext.y, 0);\r\n    this.bounds.corner = new Point(\r\n        this.bounds.origin.x + newWidth,\r\n        this.bounds.origin.y + newHeight\r\n    );\r\n};\r\n\r\nMorph.prototype.setWidth = function (width) {\r\n    try {\r\n        this.setExtent(new Point(width || 0, this.height()));\r\n    }\r\n    catch (err) {\r\n        // watch error jp\r\n    }\r\n    \r\n};\r\n\r\nMorph.prototype.silentSetWidth = function (width) {\r\n    // do not drawNew() just yet\r\n    var w = Math.max(Math.round(width || 0), 0);\r\n    this.bounds.corner = new Point(\r\n        this.bounds.origin.x + w,\r\n        this.bounds.corner.y\r\n    );\r\n};\r\n\r\nMorph.prototype.setHeight = function (height) {\r\n  \r\n\r\n    // TRACKJP\r\n    try {\r\n        this.setExtent(new Point(this.width(), height || 0));\r\n    }\r\n    catch (err) {\r\n       // watch error jp\r\n    }\r\n};\r\n\r\nMorph.prototype.silentSetHeight = function (height) {\r\n    // do not drawNew() just yet\r\n    var h = Math.max(Math.round(height || 0), 0);\r\n    this.bounds.corner = new Point(\r\n        this.bounds.corner.x,\r\n        this.bounds.origin.y + h\r\n    );\r\n};\r\n\r\nMorph.prototype.setColor = function (aColor) {\r\n    if (aColor) {\r\n        if (!this.color.eq(aColor)) {\r\n            this.color = aColor;\r\n            this.changed();\r\n            this.drawNew();\r\n        }\r\n    }\r\n};\r\n\r\n// Morph displaying:\r\n\r\nMorph.prototype.drawNew = function () {\r\n    // initialize my surface property\r\n    this.image = newCanvas(this.extent());\r\n    var context = this.image.getContext('2d');\r\n    context.fillStyle = this.color.toString();\r\n\r\n    /*\r\n        Chrome issue:\r\n\r\n            when filling a rectangular area, versions of Chrome beginning with\r\n            57.0.2987.133 start introducing vertical transparent stripes\r\n            to the right of the rectangle.\r\n            The following code replaces the original fillRect() call with\r\n            an explicit almost-rectangular path that miraculously  makes\r\n            sure the whole rectangle gets filled correctly.\r\n\r\n        Important: This needs to be monitored in the future so we can\r\n        revert to sane code once this Chrome issue has been resolved again.\r\n    */\r\n\r\n    // context.fillRect(0, 0, this.width(), this.height()); // taken out\r\n\r\n    context.beginPath();\r\n    context.moveTo(0, 0);\r\n    context.lineTo(this.image.width, 0);\r\n    context.lineTo(this.image.width, this.image.height);\r\n    context.lineTo(0, this.image.height + 0.0001); // yeah, I luv Chrome!\r\n    context.closePath();\r\n    context.fill();\r\n\r\n    if (this.cachedTexture) {\r\n        this.drawCachedTexture();\r\n    } else if (this.texture) {\r\n        this.drawTexture(this.texture);\r\n    }\r\n};\r\n\r\nMorph.prototype.drawTexture = function (url) {\r\n    var myself = this;\r\n    this.cachedTexture = new Image();\r\n    this.cachedTexture.onload = function () {\r\n        myself.drawCachedTexture();\r\n    };\r\n    this.cachedTexture.src = this.texture = url; // make absolute\r\n};\r\n\r\nMorph.prototype.drawCachedTexture = function () {\r\n    var bg = this.cachedTexture,\r\n        cols = Math.floor(this.image.width / bg.width),\r\n        lines = Math.floor(this.image.height / bg.height),\r\n        x,\r\n        y,\r\n        context = this.image.getContext('2d');\r\n\r\n    for (y = 0; y <= lines; y += 1) {\r\n        for (x = 0; x <= cols; x += 1) {\r\n            context.drawImage(bg, x * bg.width, y * bg.height);\r\n        }\r\n    }\r\n    this.changed();\r\n};\r\n\r\nMorph.prototype.drawOn = function (aCanvas, aRect) {\r\n    var rectangle, area, delta, src, context, w, h, sl, st,\r\n        pic = this.cachedFullImage || this.image,\r\n        bounds = this.cachedFullBounds || this.bounds;\r\n    if (!this.isVisible) {\r\n        return null;\r\n    }\r\n    rectangle = aRect || bounds;\r\n    area = rectangle.intersect(bounds);\r\n    if (area.extent().gt(new Point(0, 0))) {\r\n        delta = bounds.position().neg();\r\n        src = area.copy().translateBy(delta);\r\n        context = aCanvas.getContext('2d');\r\n        context.globalAlpha = this.alpha;\r\n\r\n        sl = src.left();\r\n        st = src.top();\r\n        w = Math.min(src.width(), pic.width - sl);\r\n        h = Math.min(src.height(), pic.height - st);\r\n\r\n        if (w < 1 || h < 1) {\r\n            return null;\r\n        }\r\n\r\n        context.drawImage(\r\n            pic,\r\n            sl,\r\n            st,\r\n            w,\r\n            h,\r\n            area.left(),\r\n            area.top(),\r\n            w,\r\n            h\r\n        );\r\n    }\r\n};\r\n\r\nMorph.prototype.fullDrawOn = function (aCanvas, aRect) {\r\n    var rectangle;\r\n    if (!this.isVisible) {\r\n        return null;\r\n    }\r\n    rectangle = aRect || this.cachedFullBounds || this.fullBounds();\r\n    this.drawOn(aCanvas, rectangle);\r\n    if (this.cachedFullImage) {return; }\r\n    this.children.forEach(function (child) {\r\n        child.fullDrawOn(aCanvas, rectangle);\r\n    });\r\n};\r\n\r\nMorph.prototype.hide = function () {\r\n    this.isVisible = false;\r\n    this.changed();\r\n    this.children.forEach(function (child) {\r\n        child.hide();\r\n    });\r\n};\r\n\r\nMorph.prototype.show = function () {\r\n    this.isVisible = true;\r\n    this.changed();\r\n    this.children.forEach(function (child) {\r\n        child.show();\r\n    });\r\n};\r\n\r\nMorph.prototype.toggleVisibility = function () {\r\n    this.isVisible = (!this.isVisible);\r\n    this.changed();\r\n    this.children.forEach(function (child) {\r\n        child.toggleVisibility();\r\n    });\r\n};\r\n\r\n// Morph full image:\r\n\r\nMorph.prototype.fullImageClassic = function () {\r\n    // use the cache since fullDrawOn() will\r\n    var fb = this.cachedFullBounds || this.fullBounds(),\r\n        img = newCanvas(fb.extent()),\r\n        ctx = img.getContext('2d');\r\n    ctx.translate(-fb.origin.x, -fb.origin.y);\r\n    this.fullDrawOn(img, fb);\r\n    img.globalAlpha = this.alpha;\r\n    return img;\r\n};\r\n\r\nMorph.prototype.fullImage = function () {\r\n    var img, ctx, fb;\r\n    img = newCanvas(this.fullBounds().extent());\r\n    ctx = img.getContext('2d');\r\n    fb = this.fullBounds();\r\n    this.allChildren().forEach(function (morph) {\r\n        if (morph.isVisible) {\r\n            ctx.globalAlpha = morph.alpha;\r\n            if (morph.image.width && morph.image.height) {\r\n                ctx.drawImage(\r\n                    morph.image,\r\n                    morph.bounds.origin.x - fb.origin.x,\r\n                    morph.bounds.origin.y - fb.origin.y\r\n                );\r\n            }\r\n        }\r\n    });\r\n    return img;\r\n};\r\n\r\n// Morph shadow:\r\n\r\nMorph.prototype.shadowImage = function (off, color) {\r\n    // fallback for Windows Chrome-Shadow bug\r\n    var fb, img, outline, sha, ctx,\r\n        offset = off || new Point(7, 7),\r\n        clr = color || new Color(0, 0, 0);\r\n    fb = this.fullBounds().extent();\r\n    img = this.fullImage();\r\n    outline = newCanvas(fb);\r\n    ctx = outline.getContext('2d');\r\n    ctx.drawImage(img, 0, 0);\r\n    ctx.globalCompositeOperation = 'destination-out';\r\n    ctx.drawImage(\r\n        img,\r\n        -offset.x,\r\n        -offset.y\r\n    );\r\n    sha = newCanvas(fb);\r\n    ctx = sha.getContext('2d');\r\n    ctx.drawImage(outline, 0, 0);\r\n    ctx.globalCompositeOperation = 'source-atop';\r\n    ctx.fillStyle = clr.toString();\r\n    ctx.fillRect(0, 0, fb.x, fb.y);\r\n    return sha;\r\n};\r\n\r\nMorph.prototype.shadowImageBlurred = function (off, color) {\r\n    var fb, img, sha, ctx,\r\n        offset = off || new Point(7, 7),\r\n        blur = this.shadowBlur,\r\n        clr = color || new Color(0, 0, 0);\r\n    fb = this.fullBounds().extent().add(blur * 2);\r\n    img = this.fullImage();\r\n    sha = newCanvas(fb);\r\n    ctx = sha.getContext('2d');\r\n    ctx.shadowOffsetX = offset.x;\r\n    ctx.shadowOffsetY = offset.y;\r\n    ctx.shadowBlur = blur;\r\n    ctx.shadowColor = clr.toString();\r\n    ctx.drawImage(\r\n        img,\r\n        blur - offset.x,\r\n        blur - offset.y\r\n    );\r\n    ctx.shadowOffsetX = 0;\r\n    ctx.shadowOffsetY = 0;\r\n    ctx.shadowBlur = 0;\r\n    ctx.globalCompositeOperation = 'destination-out';\r\n    ctx.drawImage(\r\n        img,\r\n        blur - offset.x,\r\n        blur - offset.y\r\n    );\r\n    return sha;\r\n};\r\n\r\nMorph.prototype.shadow = function (off, a, color) {\r\n    var shadow = new ShadowMorph(),\r\n        offset = off || new Point(7, 7),\r\n        alpha = a || ((a === 0) ? 0 : 0.2),\r\n        fb = this.fullBounds();\r\n    shadow.setExtent(fb.extent().add(this.shadowBlur * 2));\r\n    if (useBlurredShadows && !MorphicPreferences.isFlat) {\r\n        shadow.image = this.shadowImageBlurred(offset, color);\r\n        shadow.alpha = alpha;\r\n        shadow.setPosition(fb.origin.add(offset).subtract(this.shadowBlur));\r\n    } else {\r\n        shadow.image = this.shadowImage(offset, color);\r\n        shadow.alpha = alpha;\r\n        shadow.setPosition(fb.origin.add(offset));\r\n    }\r\n    return shadow;\r\n};\r\n\r\nMorph.prototype.addShadow = function (off, a, color) {\r\n    var shadow,\r\n        offset = off || new Point(7, 7),\r\n        alpha = a || ((a === 0) ? 0 : 0.2);\r\n    shadow = this.shadow(offset, alpha, color);\r\n    this.addBack(shadow);\r\n    this.fullChanged();\r\n    return shadow;\r\n};\r\n\r\nMorph.prototype.getShadow = function () {\r\n    var shadows;\r\n    shadows = this.children.slice(0).reverse().filter(\r\n        function (child) {\r\n            return child instanceof ShadowMorph;\r\n        }\r\n    );\r\n    if (shadows.length !== 0) {\r\n        return shadows[0];\r\n    }\r\n    return null;\r\n};\r\n\r\nMorph.prototype.removeShadow = function () {\r\n    var shadow = this.getShadow();\r\n    if (shadow !== null) {\r\n        this.fullChanged();\r\n        this.removeChild(shadow);\r\n    }\r\n};\r\n\r\n// Morph pen trails:\r\n\r\nMorph.prototype.penTrails = function () {\r\n    // answer my pen trails canvas. default is to answer my image\r\n    return this.image;\r\n};\r\n\r\nMorph.prototype.changed = function () {\r\n    if (this.trackChanges) {\r\n        var w = this.root();\r\n        if (w instanceof WorldMorph) {\r\n            w.broken.push(this.visibleBounds().spread());\r\n        }\r\n    }\r\n    if (this.parent) {\r\n        this.parent.childChanged(this);\r\n    }\r\n\r\n};\r\n\r\nMorph.prototype.fullChanged = function () {\r\n    if (this.trackChanges) {\r\n        var w = this.root();\r\n        if (w instanceof WorldMorph) {\r\n            w.broken.push(\r\n                (this.cachedFullBounds || this.fullBounds()).spread()\r\n            );\r\n           // Wiquid : user activity tracker here if needed  \r\n\r\n        }\r\n    }\r\n};\r\n\r\nMorph.prototype.childChanged = function () {\r\n    // react to a change in one of my children,\r\n    // default is to just pass this message on upwards\r\n    // override this method for Morphs that need to adjust accordingly\r\n    if (this.parent) {\r\n        this.parent.childChanged(this);\r\n\r\n    }\r\n};\r\n\r\n// Morph accessing - structure:\r\n\r\nMorph.prototype.world = function () {\r\n    var root = this.root();\r\n    if (root instanceof WorldMorph) {\r\n        return root;\r\n    }\r\n    if (root instanceof HandMorph) {\r\n        return root.world;\r\n    }\r\n    return null;\r\n};\r\n\r\nMorph.prototype.add = function (aMorph) {\r\n    var owner = aMorph.parent;\r\n    if (owner !== null) {\r\n        owner.removeChild(aMorph);\r\n    }\r\n    this.addChild(aMorph);\r\n\r\n};\r\n\r\nMorph.prototype.addBack = function (aMorph) {\r\n    var owner = aMorph.parent;\r\n    if (owner !== null) {\r\n        owner.removeChild(aMorph);\r\n    }\r\n    this.addChildFirst(aMorph);\r\n};\r\n\r\nMorph.prototype.topMorphAt = function (point) {\r\n    var i, result;\r\n    if (!this.isVisible) {return null; }\r\n    for (i = this.children.length - 1; i >= 0; i -= 1) {\r\n        result = this.children[i].topMorphAt(point);\r\n        if (result) {return result; }\r\n    }\r\n    return this.bounds.containsPoint(point) &&\r\n        (this.noticesTransparentClick || !this.isTransparentAt(point)) ? this\r\n              : null;\r\n};\r\n\r\nMorph.prototype.topMorphSuchThat = function (predicate) {\r\n    var next;\r\n    if (predicate.call(null, this)) {\r\n        next = detect(\r\n            this.children.slice(0).reverse(),\r\n            predicate\r\n        );\r\n        if (next) {\r\n            return next.topMorphSuchThat(predicate);\r\n        }\r\n        return this;\r\n    }\r\n    return null;\r\n};\r\n\r\nMorph.prototype.overlappedMorphs = function () {\r\n    //exclude the World\r\n    var world = this.world(),\r\n        fb = this.fullBounds(),\r\n        myself = this,\r\n        allParents = this.allParents(),\r\n        allChildren = this.allChildren(),\r\n        morphs;\r\n\r\n    morphs = world.allChildren();\r\n    return morphs.filter(function (m) {\r\n        return m.isVisible &&\r\n            m !== myself &&\r\n            m !== world &&\r\n            !contains(allParents, m) &&\r\n            !contains(allChildren, m) &&\r\n            m.fullBounds().intersects(fb);\r\n    });\r\n};\r\n\r\n// Morph pixel access:\r\n\r\nMorph.prototype.getPixelColor = function (aPoint) {\r\n    var point, context, data;\r\n    point = aPoint.subtract(this.bounds.origin);\r\n    context = this.image.getContext('2d');\r\n    data = context.getImageData(point.x, point.y, 1, 1);\r\n    return new Color(\r\n        data.data[0],\r\n        data.data[1],\r\n        data.data[2],\r\n        data.data[3] / 255\r\n    );\r\n};\r\n\r\nMorph.prototype.isTransparentAt = function (aPoint) {\r\n    var point, context, data;\r\n    if (this.bounds.containsPoint(aPoint)) {\r\n        if (this.texture) {\r\n            return false;\r\n        }\r\n        point = aPoint.subtract(this.bounds.origin);\r\n        context = this.image.getContext('2d');\r\n        data = context.getImageData(\r\n            Math.floor(point.x),\r\n            Math.floor(point.y),\r\n            1,\r\n            1\r\n        );\r\n        return data.data[3] === 0;\r\n    }\r\n    return false;\r\n};\r\n\r\n// Morph duplicating:\r\n\r\nMorph.prototype.copy = function () {\r\n    var c = copy(this);\r\n    c.parent = null;\r\n    c.children = [];\r\n    c.bounds = this.bounds.copy();\r\n    return c;\r\n};\r\n\r\nMorph.prototype.fullCopy = function () {\r\n    /*\r\n    Produce a copy of me with my entire tree of submorphs. Morphs\r\n    mentioned more than once are all directed to a single new copy.\r\n    Other properties are also *shallow* copied, so you must override\r\n    to deep copy Arrays and (complex) Objects\r\n    */\r\n    var map = new Map(), c;\r\n    c = this.copyRecordingReferences(map);\r\n    c.forAllChildren(function (m) {\r\n        m.updateReferences(map);\r\n    });\r\n    return c;\r\n};\r\n\r\nMorph.prototype.copyRecordingReferences = function (map) {\r\n    /*\r\n    Recursively copy this entire composite morph, recording the\r\n    correspondence between old and new morphs in the given dictionary.\r\n    This dictionary will be used to update intra-composite references\r\n    in the copy. See updateReferences().\r\n\r\n    Note: This default implementation copies ONLY morphs. If a morph\r\n    stores morphs in other properties that it wants to copy, then it\r\n    should override this method to do so. The same goes for morphs that\r\n    contain other complex data that should be copied when the morph is\r\n    duplicated.\r\n    */\r\n    var c = this.copy();\r\n    map.set(this, c);\r\n    this.children.forEach(function (m) {\r\n        c.add(m.copyRecordingReferences(map));\r\n    });\r\n    return c;\r\n};\r\n\r\nMorph.prototype.updateReferences = function (map) {\r\n    /*\r\n    Update intra-morph references within a composite morph that has\r\n    been copied. For example, if a button refers to morph X in the\r\n    orginal composite then the copy of that button in the new composite\r\n    should refer to the copy of X in new composite, not the original X.\r\n    */\r\n    var properties = Object.keys(this),\r\n        l = properties.length,\r\n        property,\r\n        value,\r\n        reference,\r\n        i;\r\n    for (i = 0; i < l; i += 1) {\r\n        property = properties[i];\r\n        value = this[property];\r\n        if (value && value.isMorph) {\r\n            reference = map.get(value);\r\n            if (reference) { this[property] = reference; }\r\n        }\r\n    }\r\n};\r\n\r\n// Morph dragging and dropping:\r\n\r\nMorph.prototype.rootForGrab = function () {\r\n    if (this instanceof ShadowMorph) {\r\n        return this.parent.rootForGrab();\r\n    }\r\n    if (this.parent instanceof ScrollFrameMorph) {\r\n        return this.parent;\r\n    }\r\n    if (this.parent === null ||\r\n            this.parent instanceof WorldMorph ||\r\n            this.parent instanceof FrameMorph ||\r\n            this.isDraggable === true) {\r\n        return this;\r\n    }\r\n    return this.parent.rootForGrab();\r\n};\r\n\r\nMorph.prototype.isCorrectingOutsideDrag = function () {\r\n    // make sure I don't \"trail behind\" the hand when dragged\r\n    // override for morphs that you want to be dragged outside\r\n    // their full bounds\r\n    return true;\r\n};\r\n\r\nMorph.prototype.wantsDropOf = function (aMorph) {\r\n    // default is to answer the general flag - change for my heirs\r\n    if ((aMorph instanceof HandleMorph) ||\r\n            (aMorph instanceof MenuMorph) ||\r\n            (aMorph instanceof InspectorMorph)) {\r\n        return false;\r\n    }\r\n    return this.acceptsDrops;\r\n};\r\n\r\nMorph.prototype.pickUp = function (wrrld) {\r\n    var world = wrrld || this.world();\r\n    this.setPosition(\r\n        world.hand.position().subtract(\r\n            this.extent().floorDivideBy(2)\r\n        )\r\n    );\r\n    world.hand.grab(this);\r\n};\r\n\r\nMorph.prototype.isPickedUp = function () {\r\n    return this.parentThatIsA(HandMorph) !== null;\r\n};\r\n\r\nMorph.prototype.situation = function () {\r\n    // answer a dictionary specifying where I am right now, so\r\n    // I can slide back to it if I'm dropped somewhere else\r\n    if (this.parent) {\r\n        return {\r\n            origin: this.parent,\r\n            position: this.position().subtract(this.parent.position())\r\n        };\r\n    }\r\n    return null;\r\n};\r\n\r\nMorph.prototype.slideBackTo = function (\r\n    situation,\r\n    msecs,\r\n    onBeforeDrop,\r\n    onComplete\r\n) {\r\n    var pos = situation.origin.position().add(situation.position),\r\n        myself = this;\r\n    this.glideTo(\r\n        pos,\r\n        msecs,\r\n        null, // easing\r\n        function () {\r\n            situation.origin.add(myself);\r\n            if (onBeforeDrop) {onBeforeDrop(); }\r\n            if (myself.justDropped) {myself.justDropped(); }\r\n            if (situation.origin.reactToDropOf) {\r\n                situation.origin.reactToDropOf(myself);\r\n            }\r\n            if (onComplete) {onComplete(); }\r\n        }\r\n    );\r\n};\r\n\r\n// Morph animating:\r\n\r\nMorph.prototype.glideTo = function (endPoint, msecs, easing, onComplete) {\r\n    var world = this.world(),\r\n        myself = this;\r\n    world.animations.push(new Animation(\r\n        function (x) {myself.setLeft(x); },\r\n        function () {return myself.left(); },\r\n        -(this.left() - endPoint.x),\r\n        msecs || 100,\r\n        easing,\r\n        onComplete\r\n    ));\r\n    world.animations.push(new Animation(\r\n        function (y) {myself.setTop(y); },\r\n        function () {return myself.top(); },\r\n        -(this.top() - endPoint.y),\r\n        msecs || 100,\r\n        easing\r\n    ));\r\n};\r\n\r\nMorph.prototype.fadeTo = function (endAlpha, msecs, easing, onComplete) {\r\n    // include all my children, restore all original transparencies\r\n    // on completion, so I can be recovered\r\n    var world = this.world(),\r\n        myself = this,\r\n        oldAlpha = this.alpha;\r\n    this.children.forEach(function (child) {\r\n        child.fadeTo(endAlpha, msecs, easing);\r\n    });\r\n    world.animations.push(new Animation(\r\n        function (n) {\r\n            myself.alpha = n;\r\n            myself.changed();\r\n        },\r\n        function () {return myself.alpha; },\r\n        endAlpha - this.alpha,\r\n        msecs || 200,\r\n        easing,\r\n        function () {\r\n            myself.alpha = oldAlpha;\r\n            if (onComplete) {onComplete(); }\r\n        }\r\n    ));\r\n};\r\n\r\nMorph.prototype.perish = function (msecs, onComplete) {\r\n    var myself = this;\r\n    this.fadeTo(\r\n        0,\r\n        msecs || 100,\r\n        null,\r\n        function () {\r\n            myself.destroy();\r\n            if (onComplete) {onComplete(); }\r\n        }\r\n    );\r\n};\r\n\r\n// Morph utilities:\r\n\r\nMorph.prototype.nop = nop;\r\n\r\nMorph.prototype.resize = function () {\r\n    this.world().activeHandle = new HandleMorph(this);\r\n};\r\n\r\nMorph.prototype.move = function () {\r\n    this.world().activeHandle = new HandleMorph(\r\n        this,\r\n        null,\r\n        null,\r\n        null,\r\n        null,\r\n        'move'\r\n    );\r\n};\r\n\r\nMorph.prototype.moveCenter = function () {\r\n    this.world().activeHandle = new HandleMorph(\r\n        this,\r\n        null,\r\n        null,\r\n        null,\r\n        null,\r\n        'moveCenter'\r\n    );\r\n};\r\n\r\nMorph.prototype.hint = function (msg) {\r\n    var m, text;\r\n    text = msg;\r\n    if (msg) {\r\n        if (msg.toString) {\r\n            text = msg.toString();\r\n        }\r\n    } else {\r\n        text = 'NULL';\r\n    }\r\n    m = new MenuMorph(this, text);\r\n    m.isDraggable = true;\r\n    m.popUpCenteredAtHand(this.world());\r\n};\r\n\r\nMorph.prototype.inform = function (msg) {\r\n    var m, text;\r\n    text = msg;\r\n    if (msg) {\r\n        if (msg.toString) {\r\n            text = msg.toString();\r\n        }\r\n    } else {\r\n        text = 'NULL';\r\n    }\r\n    m = new MenuMorph(this, text);\r\n    m.addItem(\"Ok\");\r\n    m.isDraggable = true;\r\n    m.popUpCenteredAtHand(this.world());\r\n};\r\n\r\nMorph.prototype.prompt = function (\r\n    msg,\r\n    callback,\r\n    environment,\r\n    defaultContents,\r\n    width,\r\n    floorNum,\r\n    ceilingNum,\r\n    isRounded\r\n) {\r\n    var menu, entryField, slider, isNumeric;\r\n    if (ceilingNum) {\r\n        isNumeric = true;\r\n    }\r\n    menu = new MenuMorph(\r\n        callback || null,\r\n        msg || '',\r\n        environment || null\r\n    );\r\n    entryField = new StringFieldMorph(\r\n        defaultContents || '',\r\n        width || 100,\r\n        MorphicPreferences.prompterFontSize,\r\n        MorphicPreferences.prompterFontName,\r\n        false,\r\n        false,\r\n        isNumeric\r\n    );\r\n    menu.items.push(entryField);\r\n    if (ceilingNum || MorphicPreferences.useSliderForInput) {\r\n        slider = new SliderMorph(\r\n            floorNum || 0,\r\n            ceilingNum,\r\n            parseFloat(defaultContents),\r\n            Math.floor((ceilingNum - floorNum) / 4),\r\n            'horizontal'\r\n        );\r\n        slider.alpha = 1;\r\n        slider.color = new Color(225, 225, 225);\r\n        slider.button.color = menu.borderColor;\r\n        slider.button.highlightColor = slider.button.color.copy();\r\n        slider.button.highlightColor.b += 100;\r\n        slider.button.pressColor = slider.button.color.copy();\r\n        slider.button.pressColor.b += 150;\r\n        slider.setHeight(MorphicPreferences.prompterSliderSize);\r\n        if (isRounded) {\r\n            slider.action = function (num) {\r\n                entryField.changed();\r\n                entryField.text.text = Math.round(num).toString();\r\n                entryField.text.drawNew();\r\n                entryField.text.changed();\r\n                entryField.text.edit();\r\n            };\r\n        } else {\r\n            slider.action = function (num) {\r\n                entryField.changed();\r\n                entryField.text.text = num.toString();\r\n                entryField.text.drawNew();\r\n                entryField.text.changed();\r\n            };\r\n        }\r\n        menu.items.push(slider);\r\n    }\r\n\r\n    menu.addLine(2);\r\n    menu.addItem('Ok', function () {\r\n        return entryField.string();\r\n    });\r\n    menu.addItem('Cancel', function () {\r\n        return null;\r\n    });\r\n    menu.isDraggable = true;\r\n    menu.popUpAtHand(this.world());\r\n    entryField.text.edit();\r\n};\r\n\r\nMorph.prototype.pickColor = function (\r\n    msg,\r\n    callback,\r\n    environment,\r\n    defaultContents\r\n) {\r\n    var menu, colorPicker;\r\n    menu = new MenuMorph(\r\n        callback || null,\r\n        msg || '',\r\n        environment || null\r\n    );\r\n    colorPicker = new ColorPickerMorph(defaultContents);\r\n    menu.items.push(colorPicker);\r\n    menu.addLine(2);\r\n    menu.addItem('Ok', function () {\r\n        return colorPicker.getChoice();\r\n    });\r\n    menu.addItem('Cancel', function () {\r\n        return null;\r\n    });\r\n    menu.isDraggable = true;\r\n    menu.popUpAtHand(this.world());\r\n};\r\n\r\nMorph.prototype.inspect = function (anotherObject) {\r\n    var world = this.world instanceof Function ?\r\n            this.world() : this.root() || this.world,\r\n        inspector,\r\n        inspectee = this;\r\n\r\n    if (anotherObject) {\r\n        inspectee = anotherObject;\r\n    }\r\n    inspector = new InspectorMorph(inspectee);\r\n    inspector.setPosition(world.hand.position());\r\n    inspector.keepWithin(world);\r\n    world.add(inspector);\r\n    inspector.changed();\r\n};\r\n\r\n// Morph menus:\r\n\r\nMorph.prototype.contextMenu = function () {\r\n    var world;\r\n\r\n    if (this.customContextMenu) {\r\n        return this.customContextMenu;\r\n    }\r\n    world = this.world instanceof Function ? this.world() : this.world;\r\n    if (world && world.isDevMode) {\r\n        if (this.parent === world) {\r\n            return this.developersMenu();\r\n        }\r\n        return this.hierarchyMenu();\r\n    }\r\n    return this.userMenu() ||\r\n        (this.parent && this.parent.userMenu());\r\n};\r\n\r\nMorph.prototype.hierarchyMenu = function () {\r\n    var parents = this.allParents(),\r\n        world = this.world instanceof Function ? this.world() : this.world,\r\n        menu = new MenuMorph(this, null);\r\n\r\n    parents.forEach(function (each) {\r\n        if (each.developersMenu && (each !== world)) {\r\n            menu.addMenu(\r\n                each.toString().slice(0, 50),\r\n                each.developersMenu()\r\n            );\r\n        }\r\n    });\r\n    return menu;\r\n};\r\n\r\nMorph.prototype.developersMenu = function () {\r\n    // 'name' is not an official property of a function, hence:\r\n    var world = this.world instanceof Function ? this.world() : this.world,\r\n        userMenu = this.userMenu() ||\r\n            (this.parent && this.parent.userMenu()),\r\n        menu = new MenuMorph(this, this.constructor.name ||\r\n            this.constructor.toString().split(' ')[1].split('(')[0]);\r\n    if (userMenu) {\r\n        menu.addMenu('user features', userMenu);\r\n        menu.addLine();\r\n    }\r\n    menu.addItem(\r\n        \"color...\",\r\n        function () {\r\n            this.pickColor(\r\n                menu.title + localize('\\ncolor:'),\r\n                this.setColor,\r\n                this,\r\n                this.color\r\n            );\r\n        },\r\n        'choose another color \\nfor this morph'\r\n    );\r\n    menu.addItem(\r\n        \"transparency...\",\r\n        function () {\r\n            this.prompt(\r\n                menu.title + localize('\\nalpha\\nvalue:'),\r\n                this.setAlphaScaled,\r\n                this,\r\n                (this.alpha * 100).toString(),\r\n                null,\r\n                1,\r\n                100,\r\n                true\r\n            );\r\n        },\r\n        'set this morph\\'s\\nalpha value'\r\n    );\r\n    menu.addItem(\r\n        \"resize...\",\r\n        'resize',\r\n        'show a handle\\nwhich can be dragged\\nto change this morph\\'s' +\r\n            ' extent'\r\n    );\r\n    menu.addLine();\r\n    menu.addItem(\r\n        \"duplicate\",\r\n        function () {\r\n            this.fullCopy().pickUp(this.world());\r\n        },\r\n        'make a copy\\nand pick it up'\r\n    );\r\n    menu.addItem(\r\n        \"pick up\",\r\n        'pickUp',\r\n        'detach and put \\ninto the hand'\r\n    );\r\n    menu.addItem(\r\n        \"attach...\",\r\n        'attach',\r\n        'stick this morph\\nto another one'\r\n    );\r\n    menu.addItem(\r\n        \"move...\",\r\n        'move',\r\n        'show a handle\\nwhich can be dragged\\nto move this morph'\r\n    );\r\n    menu.addItem(\r\n        \"inspect...\",\r\n        'inspect',\r\n        'open a window\\non all properties'\r\n    );\r\n    menu.addItem(\r\n        \"pic...\",\r\n        function () {\r\n            window.open(this.fullImageClassic().toDataURL());\r\n        },\r\n        'open a new window\\nwith a picture of this morph'\r\n    );\r\n    menu.addLine();\r\n    if (this.isDraggable) {\r\n        menu.addItem(\r\n            \"lock\",\r\n            'toggleIsDraggable',\r\n            'make this morph\\nunmovable'\r\n        );\r\n    } else {\r\n        menu.addItem(\r\n            \"unlock\",\r\n            'toggleIsDraggable',\r\n            'make this morph\\nmovable'\r\n        );\r\n    }\r\n    menu.addItem(\"hide\", 'hide');\r\n    menu.addItem(\"delete\", 'destroy');\r\n    if (!(this instanceof WorldMorph)) {\r\n        menu.addLine();\r\n        menu.addItem(\r\n            \"World...\",\r\n            function () {\r\n                world.contextMenu().popUpAtHand(world);\r\n            },\r\n            'show the\\nWorld\\'s menu'\r\n        );\r\n    }\r\n    return menu;\r\n};\r\n\r\nMorph.prototype.userMenu = function () {\r\n    return null;\r\n};\r\n\r\n// Morph menu actions\r\n\r\nMorph.prototype.setAlphaScaled = function (alpha) {\r\n    // for context menu demo purposes\r\n    var newAlpha, unscaled;\r\n    if (typeof alpha === 'number') {\r\n        unscaled = alpha / 100;\r\n        this.alpha = Math.min(Math.max(unscaled, 0.1), 1);\r\n    } else {\r\n        newAlpha = parseFloat(alpha);\r\n        if (!isNaN(newAlpha)) {\r\n            unscaled = newAlpha / 100;\r\n            this.alpha = Math.min(Math.max(unscaled, 0.1), 1);\r\n        }\r\n    }\r\n    this.changed();\r\n};\r\n\r\nMorph.prototype.attach = function () {\r\n    var choices = this.overlappedMorphs(),\r\n        menu = new MenuMorph(this, 'choose new parent:'),\r\n        myself = this;\r\n\r\n    choices.forEach(function (each) {\r\n        menu.addItem(each.toString().slice(0, 50), function () {\r\n            each.add(myself);\r\n            myself.isDraggable = false;\r\n        });\r\n    });\r\n    if (choices.length > 0) {\r\n        menu.popUpAtHand(this.world());\r\n    }\r\n};\r\n\r\nMorph.prototype.toggleIsDraggable = function () {\r\n    // for context menu demo purposes\r\n    this.isDraggable = !this.isDraggable;\r\n};\r\n\r\nMorph.prototype.colorSetters = function () {\r\n    // for context menu demo purposes\r\n    return ['color'];\r\n};\r\n\r\nMorph.prototype.numericalSetters = function () {\r\n    // for context menu demo purposes\r\n    return [\r\n        'setLeft',\r\n        'setTop',\r\n        'setWidth',\r\n        'setHeight',\r\n        'setAlphaScaled'\r\n    ];\r\n};\r\n\r\n// Morph entry field tabbing:\r\n\r\nMorph.prototype.allEntryFields = function () {\r\n    return this.allChildren().filter(function (each) {\r\n        return each.isEditable &&\r\n            (each instanceof StringMorph ||\r\n                each instanceof TextMorph);\r\n    });\r\n};\r\n\r\nMorph.prototype.nextEntryField = function (current) {\r\n    var fields = this.allEntryFields(),\r\n        idx = fields.indexOf(current);\r\n    if (idx !== -1) {\r\n        if (fields.length > idx + 1) {\r\n            return fields[idx + 1];\r\n        }\r\n    }\r\n    return fields[0];\r\n};\r\n\r\nMorph.prototype.previousEntryField = function (current) {\r\n    var fields = this.allEntryFields(),\r\n        idx = fields.indexOf(current);\r\n    if (idx !== -1) {\r\n        if (idx > 0) {\r\n            return fields[idx - 1];\r\n        }\r\n        return fields[fields.length - 1];\r\n    }\r\n    return fields[0];\r\n};\r\n\r\nMorph.prototype.tab = function (editField) {\r\n/*\r\n    the <tab> key was pressed in one of my edit fields.\r\n    invoke my \"nextTab()\" function if it exists, else\r\n    propagate it up my owner chain.\r\n*/\r\n    if (this.nextTab) {\r\n        this.nextTab(editField);\r\n    } else if (this.parent) {\r\n        this.parent.tab(editField);\r\n    }\r\n};\r\n\r\nMorph.prototype.backTab = function (editField) {\r\n/*\r\n    the <back tab> key was pressed in one of my edit fields.\r\n    invoke my \"previousTab()\" function if it exists, else\r\n    propagate it up my owner chain.\r\n*/\r\n    if (this.previousTab) {\r\n        this.previousTab(editField);\r\n    } else if (this.parent) {\r\n        this.parent.backTab(editField);\r\n    }\r\n};\r\n\r\n/*\r\n    the following are examples of what the navigation methods should\r\n    look like. Insert these at the World level for fallback, and at lower\r\n    levels in the Morphic tree (e.g. dialog boxes) for a more fine-grained\r\n    control over the tabbing cycle.\r\n*/\r\n\r\n// Morph events:\r\n\r\nMorph.prototype.escalateEvent = function (functionName, arg) {\r\n    var handler = this.parent;\r\n    while (!handler[functionName] && handler.parent !== null) {\r\n        handler = handler.parent;\r\n    }\r\n    if (handler[functionName]) {\r\n        handler[functionName](arg);\r\n    }\r\n};\r\n\r\n// Morph eval:\r\n\r\nMorph.prototype.evaluateString = function (code) {\r\n    var result;\r\n\r\n    try {\r\n        result = eval(code);\r\n        this.drawNew();\r\n        this.changed();\r\n    } catch (err) {\r\n        this.inform(err);\r\n    }\r\n    return result;\r\n};\r\n\r\n// Morph collision detection:\r\n\r\nMorph.prototype.isTouching = function (otherMorph) {\r\n    var oImg = this.overlappingImage(otherMorph),\r\n        data;\r\n    if (!oImg.width || !oImg.height) {\r\n        return false;\r\n    }\r\n    data = oImg.getContext('2d')\r\n        .getImageData(1, 1, oImg.width, oImg.height)\r\n        .data;\r\n    return detect(\r\n        data,\r\n        function (each) {\r\n            return each !== 0;\r\n        }\r\n    ) !== null;\r\n};\r\n\r\nMorph.prototype.overlappingImage = function (otherMorph) {\r\n    var fb = this.fullBounds(),\r\n        otherFb = otherMorph.fullBounds(),\r\n        oRect = fb.intersect(otherFb),\r\n        oImg = newCanvas(oRect.extent()),\r\n        ctx = oImg.getContext('2d');\r\n    if (oRect.width() < 1 || oRect.height() < 1) {\r\n        return newCanvas(new Point(1, 1));\r\n    }\r\n    ctx.drawImage(\r\n        this.fullImage(),\r\n        oRect.origin.x - fb.origin.x,\r\n        oRect.origin.y - fb.origin.y\r\n    );\r\n    ctx.globalCompositeOperation = 'source-in';\r\n    ctx.drawImage(\r\n        otherMorph.fullImage(),\r\n        otherFb.origin.x - oRect.origin.x,\r\n        otherFb.origin.y - oRect.origin.y\r\n    );\r\n    return oImg;\r\n};\r\n\r\n// ShadowMorph /////////////////////////////////////////////////////////\r\n\r\n// ShadowMorph inherits from Morph:\r\n\r\nShadowMorph.prototype = new Morph();\r\nShadowMorph.prototype.constructor = ShadowMorph;\r\nShadowMorph.uber = Morph.prototype;\r\n\r\n// ShadowMorph instance creation:\r\n\r\nfunction ShadowMorph() {\r\n    this.init();\r\n}\r\n\r\nShadowMorph.prototype.topMorphAt = function () {\r\n    return null;\r\n};\r\n\r\n// HandleMorph ////////////////////////////////////////////////////////\r\n\r\n// I am a resize / move handle that can be attached to any Morph\r\n\r\n// HandleMorph inherits from Morph:\r\n\r\nHandleMorph.prototype = new Morph();\r\nHandleMorph.prototype.constructor = HandleMorph;\r\nHandleMorph.uber = Morph.prototype;\r\n\r\n// HandleMorph instance creation:\r\n\r\nfunction HandleMorph(target, minX, minY, insetX, insetY, type) {\r\n    // if insetY is missing, it will be the same as insetX\r\n    this.init(target, minX, minY, insetX, insetY, type);\r\n}\r\n\r\nHandleMorph.prototype.init = function (\r\n    target,\r\n    minX,\r\n    minY,\r\n    insetX,\r\n    insetY,\r\n    type\r\n) {\r\n    var size = MorphicPreferences.handleSize;\r\n    this.target = target || null;\r\n    this.minExtent = new Point(minX || 0, minY || 0);\r\n    this.inset = new Point(insetX || 0, insetY || insetX || 0);\r\n    this.type =  type || 'resize'; // also: 'move', 'moveCenter', 'movePivot'\r\n    HandleMorph.uber.init.call(this);\r\n    this.color = new Color(255, 255, 255);\r\n    this.isDraggable = false;\r\n    this.noticesTransparentClick = true;\r\n    if (this.type === 'movePivot') {\r\n        size *= 2;\r\n    }\r\n    this.setExtent(new Point(size, size));\r\n};\r\n\r\n// HandleMorph drawing:\r\n\r\nHandleMorph.prototype.drawNew = function () {\r\n    this.normalImage = newCanvas(this.extent());\r\n    this.highlightImage = newCanvas(this.extent());\r\n    if (this.type === 'movePivot') {\r\n        this.drawCrosshairsOnCanvas(this.normalImage, 0.6);\r\n        this.drawCrosshairsOnCanvas(this.highlightImage, 0.5);\r\n    } else {\r\n        this.drawOnCanvas(\r\n            this.normalImage,\r\n            this.color,\r\n            new Color(100, 100, 100)\r\n        );\r\n        this.drawOnCanvas(\r\n            this.highlightImage,\r\n            new Color(100, 100, 255),\r\n            new Color(255, 255, 255)\r\n        );\r\n    }\r\n    this.image = this.normalImage;\r\n    if (this.target) {\r\n        if (this.type === 'moveCenter') {\r\n            this.setCenter(this.target.center());\r\n        } else if (this.type === 'movePivot') {\r\n            this.setCenter(this.target.rotationCenter());\r\n        } else { // 'resize', 'move'\r\n            this.setPosition(\r\n                this.target.bottomRight().subtract(\r\n                    this.extent().add(this.inset)\r\n                )\r\n            );\r\n        }\r\n        this.target.add(this);\r\n        this.target.changed();\r\n    }\r\n};\r\n\r\nHandleMorph.prototype.drawCrosshairsOnCanvas = function (aCanvas, fract) {\r\n    var ctx = aCanvas.getContext('2d'),\r\n        r = aCanvas.width / 2;\r\n    ctx.fillStyle = 'rgba(255, 255, 255, 0.5)';\r\n    ctx.arc(r, r, r * 0.9, radians(0), radians(360), false);\r\n    ctx.fill();\r\n    ctx.strokeStyle = 'black';\r\n    ctx.lineWidth = 1;\r\n    ctx.beginPath();\r\n    ctx.arc(r, r, r * fract, radians(0), radians(360), false);\r\n    ctx.stroke();\r\n    ctx.moveTo(0, r);\r\n    ctx.lineTo(aCanvas.width, r);\r\n    ctx.stroke();\r\n    ctx.moveTo(r, 0);\r\n    ctx.lineTo(r, aCanvas.height);\r\n    ctx.stroke();\r\n};\r\n\r\nHandleMorph.prototype.drawOnCanvas = function (\r\n    aCanvas,\r\n    color,\r\n    shadowColor\r\n) {\r\n    var context = aCanvas.getContext('2d'),\r\n        isSquare = (this.type.indexOf('move') === 0),\r\n        p1,\r\n        p11,\r\n        p2,\r\n        p22,\r\n        i;\r\n\r\n    context.lineWidth = 1;\r\n    context.lineCap = 'round';\r\n\r\n    context.strokeStyle = color.toString();\r\n\r\n    if (isSquare) {\r\n\r\n        p1 = this.bottomLeft().subtract(this.position());\r\n        p11 = p1.copy();\r\n        p2 = this.topRight().subtract(this.position());\r\n        p22 = p2.copy();\r\n\r\n        for (i = 0; i <= this.height(); i = i + 6) {\r\n            p11.y = p1.y - i;\r\n            p22.y = p2.y - i;\r\n\r\n            context.beginPath();\r\n            context.moveTo(p11.x, p11.y);\r\n            context.lineTo(p22.x, p22.y);\r\n            context.closePath();\r\n            context.stroke();\r\n        }\r\n    }\r\n\r\n    p1 = this.bottomLeft().subtract(this.position());\r\n    p11 = p1.copy();\r\n    p2 = this.topRight().subtract(this.position());\r\n    p22 = p2.copy();\r\n\r\n    for (i = 0; i <= this.width(); i = i + 6) {\r\n        p11.x = p1.x + i;\r\n        p22.x = p2.x + i;\r\n\r\n        context.beginPath();\r\n        context.moveTo(p11.x, p11.y);\r\n        context.lineTo(p22.x, p22.y);\r\n        context.closePath();\r\n        context.stroke();\r\n    }\r\n\r\n    context.strokeStyle = shadowColor.toString();\r\n\r\n    if (isSquare) {\r\n\r\n        p1 = this.bottomLeft().subtract(this.position());\r\n        p11 = p1.copy();\r\n        p2 = this.topRight().subtract(this.position());\r\n        p22 = p2.copy();\r\n\r\n        for (i = -2; i <= this.height(); i = i + 6) {\r\n            p11.y = p1.y - i;\r\n            p22.y = p2.y - i;\r\n\r\n            context.beginPath();\r\n            context.moveTo(p11.x, p11.y);\r\n            context.lineTo(p22.x, p22.y);\r\n            context.closePath();\r\n            context.stroke();\r\n        }\r\n    }\r\n\r\n    p1 = this.bottomLeft().subtract(this.position());\r\n    p11 = p1.copy();\r\n    p2 = this.topRight().subtract(this.position());\r\n    p22 = p2.copy();\r\n\r\n    for (i = 2; i <= this.width(); i = i + 6) {\r\n        p11.x = p1.x + i;\r\n        p22.x = p2.x + i;\r\n\r\n        context.beginPath();\r\n        context.moveTo(p11.x, p11.y);\r\n        context.lineTo(p22.x, p22.y);\r\n        context.closePath();\r\n        context.stroke();\r\n    }\r\n};\r\n\r\n// HandleMorph stepping:\r\n\r\nHandleMorph.prototype.step = null;\r\n\r\nHandleMorph.prototype.mouseDownLeft = function (pos) {\r\n    var world = this.root(),\r\n        offset,\r\n        myself = this;\r\n\r\n    if (!this.target) {\r\n        return null;\r\n    }\r\n    if (this.type.indexOf('move') === 0) {\r\n        offset = pos.subtract(this.center());\r\n    } else {\r\n        offset = pos.subtract(this.bounds.origin);\r\n    }\r\n    this.step = function () {\r\n        var newPos, newExt;\r\n        if (world.hand.mouseButton) {\r\n            newPos = world.hand.bounds.origin.copy().subtract(offset);\r\n            if (this.type === 'resize') {\r\n                newExt = newPos.add(\r\n                    myself.extent().add(myself.inset)\r\n                ).subtract(myself.target.bounds.origin);\r\n                newExt = newExt.max(myself.minExtent);\r\n                myself.target.setExtent(newExt);\r\n\r\n                myself.setPosition(\r\n                    myself.target.bottomRight().subtract(\r\n                        myself.extent().add(myself.inset)\r\n                    )\r\n                );\r\n            } else if (this.type === 'moveCenter') {\r\n                myself.target.setCenter(newPos);\r\n            } else if (this.type === 'movePivot') {\r\n                myself.target.setPivot(newPos);\r\n                myself.setCenter(this.target.rotationCenter());\r\n            } else { // type === 'move'\r\n                myself.target.setPosition(\r\n                    newPos.subtract(this.target.extent())\r\n                        .add(this.extent())\r\n                );\r\n            }\r\n        } else {\r\n            this.step = null;\r\n        }\r\n    };\r\n    if (!this.target.step) {\r\n        this.target.step = function () {\r\n            nop();\r\n        };\r\n    }\r\n};\r\n\r\n// HandleMorph dragging and dropping:\r\n\r\nHandleMorph.prototype.rootForGrab = function () {\r\n    return this;\r\n};\r\n\r\n// HandleMorph events:\r\n\r\nHandleMorph.prototype.mouseEnter = function () {\r\n    this.image = this.highlightImage;\r\n    this.changed();\r\n};\r\n\r\nHandleMorph.prototype.mouseLeave = function () {\r\n    this.image = this.normalImage;\r\n    this.changed();\r\n};\r\n\r\n// HandleMorph menu:\r\n\r\nHandleMorph.prototype.attach = function () {\r\n    var choices = this.overlappedMorphs(),\r\n        menu = new MenuMorph(this, 'choose target:'),\r\n        myself = this;\r\n\r\n    choices.forEach(function (each) {\r\n        menu.addItem(each.toString().slice(0, 50), function () {\r\n            myself.isDraggable = false;\r\n            myself.target = each;\r\n            myself.drawNew();\r\n            myself.noticesTransparentClick = true;\r\n        });\r\n    });\r\n    if (choices.length > 0) {\r\n        menu.popUpAtHand(this.world());\r\n    }\r\n};\r\n\r\n// PenMorph ////////////////////////////////////////////////////////////\r\n\r\n// I am a simple LOGO-wise turtle.\r\n\r\n// PenMorph: referenced constructors\r\n\r\nvar PenMorph;\r\n\r\n// PenMorph inherits from Morph:\r\n\r\nPenMorph.prototype = new Morph();\r\nPenMorph.prototype.constructor = PenMorph;\r\nPenMorph.uber = Morph.prototype;\r\n\r\n// PenMorph instance creation:\r\n\r\nfunction PenMorph() {\r\n    this.init();\r\n}\r\n\r\nPenMorph.prototype.init = function () {\r\n    var size = MorphicPreferences.handleSize * 4;\r\n\r\n    // additional properties:\r\n    this.isWarped = false; // internal optimization\r\n    this.heading = 0;\r\n    this.isDown = true;\r\n    this.size = 1;\r\n    this.wantsRedraw = false;\r\n    this.penPoint = 'tip'; // or 'center\"\r\n    this.penBounds = null; // rect around the visible arrow shape\r\n\r\n    HandleMorph.uber.init.call(this);\r\n    this.setExtent(new Point(size, size));\r\n};\r\n\r\n// PenMorph updating - optimized for warping, i.e atomic recursion\r\n\r\nPenMorph.prototype.changed = function () {\r\n    if (this.isWarped === false) {\r\n        var w = this.root();\r\n        if (w instanceof WorldMorph) {\r\n            w.broken.push(this.visibleBounds().spread());\r\n        }\r\n        if (this.parent) {\r\n            this.parent.childChanged(this);\r\n        }\r\n    }\r\n};\r\n\r\n// PenMorph display:\r\n\r\nPenMorph.prototype.drawNew = function (facing) {\r\n    // my orientation can be overridden with the \"facing\" parameter to\r\n    // implement Scratch-style rotation styles\r\n\r\n    var context, start, dest, left, right, len,\r\n        direction = facing || this.heading;\r\n\r\n    if (this.isWarped) {\r\n        this.wantsRedraw = true;\r\n        return;\r\n    }\r\n    this.image = newCanvas(this.extent());\r\n    context = this.image.getContext('2d');\r\n    len = this.width() / 2;\r\n    start = this.center().subtract(this.bounds.origin);\r\n\r\n    if (this.penPoint === 'tip') {\r\n        dest = start.distanceAngle(len * 0.75, direction - 180);\r\n        left = start.distanceAngle(len, direction + 195);\r\n        right = start.distanceAngle(len, direction - 195);\r\n    } else { // 'middle'\r\n        dest = start.distanceAngle(len * 0.75, direction);\r\n        left = start.distanceAngle(len * 0.33, direction + 230);\r\n        right = start.distanceAngle(len * 0.33, direction - 230);\r\n    }\r\n\r\n    // cache penBounds\r\n    this.penBounds = new Rectangle(\r\n        Math.min(start.x, dest.x, left.x, right.x),\r\n        Math.min(start.y, dest.y, left.y, right.y),\r\n        Math.max(start.x, dest.x, left.x, right.x),\r\n        Math.max(start.y, dest.y, left.y, right.y)\r\n    );\r\n\r\n    // draw arrow shape\r\n    context.fillStyle = this.color.toString();\r\n    context.beginPath();\r\n\r\n    context.moveTo(start.x, start.y);\r\n    context.lineTo(left.x, left.y);\r\n    context.lineTo(dest.x, dest.y);\r\n    context.lineTo(right.x, right.y);\r\n\r\n    context.closePath();\r\n    context.strokeStyle = 'white';\r\n    context.lineWidth = 3;\r\n    context.stroke();\r\n    context.strokeStyle = 'black';\r\n    context.lineWidth = 1;\r\n    context.stroke();\r\n    context.fill();\r\n};\r\n\r\n// PenMorph access:\r\n\r\nPenMorph.prototype.setHeading = function (degrees) {\r\n    this.heading = ((+degrees % 360) + 360) % 360;\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\n// PenMorph drawing:\r\n\r\nPenMorph.prototype.drawLine = function (start, dest) {\r\n    var context = this.parent.penTrails().getContext('2d'),\r\n        from = start.subtract(this.parent.bounds.origin),\r\n        to = dest.subtract(this.parent.bounds.origin);\r\n    if (this.isDown) {\r\n        context.lineWidth = this.size;\r\n        context.strokeStyle = this.color.toString();\r\n        context.lineCap = 'round';\r\n        context.lineJoin = 'round';\r\n        context.beginPath();\r\n        context.moveTo(from.x, from.y);\r\n        context.lineTo(to.x, to.y);\r\n        context.stroke();\r\n        if (this.isWarped === false) {\r\n            this.world().broken.push(\r\n                start.rectangle(dest).expandBy(\r\n                    Math.max(this.size / 2, 1)\r\n                ).intersect(this.parent.visibleBounds()).spread()\r\n            );\r\n        }\r\n    }\r\n};\r\n\r\n// PenMorph turtle ops:\r\n\r\nPenMorph.prototype.turn = function (degrees) {\r\n    this.setHeading(this.heading + parseFloat(degrees));\r\n};\r\n\r\nPenMorph.prototype.forward = function (steps) {\r\n    var start = this.center(),\r\n        dest,\r\n        dist = parseFloat(steps);\r\n    if (dist >= 0) {\r\n        dest = this.position().distanceAngle(dist, this.heading);\r\n    } else {\r\n        dest = this.position().distanceAngle(\r\n            Math.abs(dist),\r\n            (this.heading - 180)\r\n        );\r\n    }\r\n    this.setPosition(dest);\r\n    this.drawLine(start, this.center());\r\n};\r\n\r\nPenMorph.prototype.down = function () {\r\n    this.isDown = true;\r\n};\r\n\r\nPenMorph.prototype.up = function () {\r\n    this.isDown = false;\r\n};\r\n\r\nPenMorph.prototype.clear = function () {\r\n    this.parent.drawNew();\r\n    this.parent.changed();\r\n};\r\n\r\n// PenMorph optimization for atomic recursion:\r\n\r\nPenMorph.prototype.startWarp = function () {\r\n    this.wantsRedraw = false;\r\n    this.isWarped = true;\r\n};\r\n\r\nPenMorph.prototype.endWarp = function () {\r\n    this.isWarped = false;\r\n    if (this.wantsRedraw) {\r\n        this.drawNew();\r\n        this.wantsRedraw = false;\r\n    }\r\n    this.parent.changed();\r\n};\r\n\r\nPenMorph.prototype.warp = function (fun) {\r\n    this.startWarp();\r\n    fun.call(this);\r\n    this.endWarp();\r\n};\r\n\r\nPenMorph.prototype.warpOp = function (selector, argsArray) {\r\n    this.startWarp();\r\n    this[selector].apply(this, argsArray);\r\n    this.endWarp();\r\n};\r\n\r\n// PenMorph demo ops:\r\n// try these with WARP eg.: this.warp(function () {tree(12, 120, 20)})\r\n\r\nPenMorph.prototype.warpSierpinski = function (length, min) {\r\n    this.warpOp('sierpinski', [length, min]);\r\n};\r\n\r\nPenMorph.prototype.sierpinski = function (length, min) {\r\n    var i;\r\n    if (length > min) {\r\n        for (i = 0; i < 3; i += 1) {\r\n            this.sierpinski(length * 0.5, min);\r\n            this.turn(120);\r\n            this.forward(length);\r\n        }\r\n    }\r\n};\r\n\r\nPenMorph.prototype.warpTree = function (level, length, angle) {\r\n    this.warpOp('tree', [level, length, angle]);\r\n};\r\n\r\nPenMorph.prototype.tree = function (level, length, angle) {\r\n    if (level > 0) {\r\n        this.size = level;\r\n        this.forward(length);\r\n        this.turn(angle);\r\n        this.tree(level - 1, length * 0.75, angle);\r\n        this.turn(angle * -2);\r\n        this.tree(level - 1, length * 0.75, angle);\r\n        this.turn(angle);\r\n        this.forward(-length);\r\n    }\r\n};\r\n\r\n// ColorPaletteMorph ///////////////////////////////////////////////////\r\n\r\nvar ColorPaletteMorph;\r\n\r\n// ColorPaletteMorph inherits from Morph:\r\n\r\nColorPaletteMorph.prototype = new Morph();\r\nColorPaletteMorph.prototype.constructor = ColorPaletteMorph;\r\nColorPaletteMorph.uber = Morph.prototype;\r\n\r\n// ColorPaletteMorph instance creation:\r\n\r\nfunction ColorPaletteMorph(target, sizePoint) {\r\n    this.init(\r\n        target || null,\r\n        sizePoint || new Point(80, 50)\r\n    );\r\n}\r\n\r\nColorPaletteMorph.prototype.init = function (target, size) {\r\n    ColorPaletteMorph.uber.init.call(this);\r\n    this.target = target;\r\n    this.targetSetter = 'color';\r\n    this.silentSetExtent(size);\r\n    this.choice = null;\r\n    this.drawNew();\r\n};\r\n\r\nColorPaletteMorph.prototype.drawNew = function () {\r\n    var context, ext, x, y, h, l;\r\n\r\n    ext = this.extent();\r\n    this.image = newCanvas(this.extent());\r\n    context = this.image.getContext('2d');\r\n    this.choice = new Color();\r\n    for (x = 0; x <= ext.x; x += 1) {\r\n        h = 360 * x / ext.x;\r\n        for (y = 0; y <= ext.y; y += 1) {\r\n            l = 100 - (y / ext.y * 100);\r\n            context.fillStyle = 'hsl(' + h + ',100%,' + l + '%)';\r\n            context.fillRect(x, y, 1, 1);\r\n        }\r\n    }\r\n};\r\n\r\nColorPaletteMorph.prototype.mouseMove = function (pos) {\r\n    this.choice = this.getPixelColor(pos);\r\n    this.updateTarget();\r\n};\r\n\r\nColorPaletteMorph.prototype.mouseDownLeft = function (pos) {\r\n    this.choice = this.getPixelColor(pos);\r\n    this.updateTarget();\r\n};\r\n\r\nColorPaletteMorph.prototype.updateTarget = function () {\r\n    if (this.target instanceof Morph && this.choice !== null) {\r\n        if (this.target[this.targetSetter] instanceof Function) {\r\n            this.target[this.targetSetter](this.choice);\r\n        } else {\r\n            this.target[this.targetSetter] = this.choice;\r\n            this.target.drawNew();\r\n            this.target.changed();\r\n        }\r\n    }\r\n};\r\n\r\n// ColorPaletteMorph menu:\r\n\r\nColorPaletteMorph.prototype.developersMenu = function () {\r\n    var menu = ColorPaletteMorph.uber.developersMenu.call(this);\r\n    menu.addLine();\r\n    menu.addItem(\r\n        'set target',\r\n        \"setTarget\",\r\n        'choose another morph\\nwhose color property\\n will be' +\r\n            ' controlled by this one'\r\n    );\r\n    return menu;\r\n};\r\n\r\nColorPaletteMorph.prototype.setTarget = function () {\r\n    var choices = this.overlappedMorphs(),\r\n        menu = new MenuMorph(this, 'choose target:'),\r\n        myself = this;\r\n\r\n    choices.push(this.world());\r\n    choices.forEach(function (each) {\r\n        menu.addItem(each.toString().slice(0, 50), function () {\r\n            myself.target = each;\r\n            myself.setTargetSetter();\r\n        });\r\n    });\r\n    if (choices.length === 1) {\r\n        this.target = choices[0];\r\n        this.setTargetSetter();\r\n    } else if (choices.length > 0) {\r\n        menu.popUpAtHand(this.world());\r\n    }\r\n};\r\n\r\nColorPaletteMorph.prototype.setTargetSetter = function () {\r\n    var choices = this.target.colorSetters(),\r\n        menu = new MenuMorph(this, 'choose target property:'),\r\n        myself = this;\r\n\r\n    choices.forEach(function (each) {\r\n        menu.addItem(each, function () {\r\n            myself.targetSetter = each;\r\n        });\r\n    });\r\n    if (choices.length === 1) {\r\n        this.targetSetter = choices[0];\r\n    } else if (choices.length > 0) {\r\n        menu.popUpAtHand(this.world());\r\n    }\r\n};\r\n\r\n// GrayPaletteMorph ///////////////////////////////////////////////////\r\n\r\nvar GrayPaletteMorph;\r\n\r\n// GrayPaletteMorph inherits from ColorPaletteMorph:\r\n\r\nGrayPaletteMorph.prototype = new ColorPaletteMorph();\r\nGrayPaletteMorph.prototype.constructor = GrayPaletteMorph;\r\nGrayPaletteMorph.uber = ColorPaletteMorph.prototype;\r\n\r\n// GrayPaletteMorph instance creation:\r\n\r\nfunction GrayPaletteMorph(target, sizePoint) {\r\n    this.init(\r\n        target || null,\r\n        sizePoint || new Point(80, 10)\r\n    );\r\n}\r\n\r\nGrayPaletteMorph.prototype.drawNew = function () {\r\n    var context, ext, gradient;\r\n\r\n    ext = this.extent();\r\n    this.image = newCanvas(this.extent());\r\n    context = this.image.getContext('2d');\r\n    this.choice = new Color();\r\n    gradient = context.createLinearGradient(0, 0, ext.x, ext.y);\r\n    gradient.addColorStop(0, 'black');\r\n    gradient.addColorStop(1, 'white');\r\n    context.fillStyle = gradient;\r\n    context.fillRect(0, 0, ext.x, ext.y);\r\n};\r\n\r\n// ColorPickerMorph ///////////////////////////////////////////////////\r\n\r\n// ColorPickerMorph inherits from Morph:\r\n\r\nColorPickerMorph.prototype = new Morph();\r\nColorPickerMorph.prototype.constructor = ColorPickerMorph;\r\nColorPickerMorph.uber = Morph.prototype;\r\n\r\n// ColorPickerMorph instance creation:\r\n\r\nfunction ColorPickerMorph(defaultColor) {\r\n    this.init(defaultColor || new Color(255, 255, 255));\r\n}\r\n\r\nColorPickerMorph.prototype.init = function (defaultColor) {\r\n    this.choice = defaultColor;\r\n    ColorPickerMorph.uber.init.call(this);\r\n    this.color = new Color(255, 255, 255);\r\n    this.silentSetExtent(new Point(80, 80));\r\n    this.drawNew();\r\n};\r\n\r\nColorPickerMorph.prototype.drawNew = function () {\r\n    ColorPickerMorph.uber.drawNew.call(this);\r\n    this.buildSubmorphs();\r\n};\r\n\r\nColorPickerMorph.prototype.buildSubmorphs = function () {\r\n    var cpal, gpal, x, y;\r\n\r\n    this.children.forEach(function (child) {\r\n        child.destroy();\r\n    });\r\n    this.children = [];\r\n    this.feedback = new Morph();\r\n    this.feedback.color = this.choice;\r\n    this.feedback.setExtent(new Point(20, 20));\r\n    cpal = new ColorPaletteMorph(\r\n        this.feedback,\r\n        new Point(this.width(), 50)\r\n    );\r\n    gpal = new GrayPaletteMorph(\r\n        this.feedback,\r\n        new Point(this.width(), 5)\r\n    );\r\n    cpal.setPosition(this.bounds.origin);\r\n    this.add(cpal);\r\n    gpal.setPosition(cpal.bottomLeft());\r\n    this.add(gpal);\r\n    x = (gpal.left() +\r\n        Math.floor((gpal.width() - this.feedback.width()) / 2));\r\n    y = gpal.bottom() + Math.floor((this.bottom() -\r\n        gpal.bottom() - this.feedback.height()) / 2);\r\n    this.feedback.setPosition(new Point(x, y));\r\n    this.add(this.feedback);\r\n};\r\n\r\nColorPickerMorph.prototype.getChoice = function () {\r\n    return this.feedback.color;\r\n};\r\n\r\nColorPickerMorph.prototype.rootForGrab = function () {\r\n    return this;\r\n};\r\n\r\n// BlinkerMorph ////////////////////////////////////////////////////////\r\n\r\n// can be used for text cursors\r\n\r\nvar BlinkerMorph;\r\n\r\n// BlinkerMorph inherits from Morph:\r\n\r\nBlinkerMorph.prototype = new Morph();\r\nBlinkerMorph.prototype.constructor = BlinkerMorph;\r\nBlinkerMorph.uber = Morph.prototype;\r\n\r\n// BlinkerMorph instance creation:\r\n\r\nfunction BlinkerMorph(rate) {\r\n    this.init(rate);\r\n}\r\n\r\nBlinkerMorph.prototype.init = function (rate) {\r\n    BlinkerMorph.uber.init.call(this);\r\n    this.color = new Color(0, 0, 0);\r\n    this.fps = rate || 2;\r\n    this.drawNew();\r\n};\r\n\r\n// BlinkerMorph stepping:\r\n\r\nBlinkerMorph.prototype.step = function () {\r\n    this.toggleVisibility();\r\n};\r\n\r\n// CursorMorph /////////////////////////////////////////////////////////\r\n\r\n// I am a String/Text editing widget\r\n\r\n// CursorMorph: referenced constructors\r\n\r\nvar CursorMorph;\r\n\r\n// CursorMorph inherits from BlinkerMorph:\r\n\r\nCursorMorph.prototype = new BlinkerMorph();\r\nCursorMorph.prototype.constructor = CursorMorph;\r\nCursorMorph.uber = BlinkerMorph.prototype;\r\n\r\n// CursorMorph preferences settings:\r\n\r\nCursorMorph.prototype.viewPadding = 1;\r\n\r\n// CursorMorph instance creation:\r\n\r\nfunction CursorMorph(aStringOrTextMorph) {\r\n    this.init(aStringOrTextMorph);\r\n}\r\n\r\nCursorMorph.prototype.init = function (aStringOrTextMorph) {\r\n    var ls;\r\n\r\n    // additional properties:\r\n    this.keyDownEventUsed = false;\r\n    this.target = aStringOrTextMorph;\r\n    this.originalContents = this.target.text;\r\n    this.originalAlignment = this.target.alignment;\r\n    this.slot = this.target.text.length;\r\n    CursorMorph.uber.init.call(this);\r\n    ls = fontHeight(this.target.fontSize);\r\n    this.setExtent(new Point(Math.max(Math.floor(ls / 20), 1), ls));\r\n    this.drawNew();\r\n    this.image.getContext('2d').font = this.target.font();\r\n    if (this.target instanceof TextMorph &&\r\n            (this.target.alignment !== 'left')) {\r\n        this.target.setAlignmentToLeft();\r\n    }\r\n    this.gotoSlot(this.slot);\r\n    this.initializeClipboardHandler();\r\n};\r\n\r\nCursorMorph.prototype.initializeClipboardHandler = function () {\r\n    // Add hidden text box for copying and pasting\r\n    var myself = this,\r\n        wrrld = this.target.world();\r\n\r\n    this.clipboardHandler = document.createElement('textarea');\r\n    this.clipboardHandler.style.position = 'absolute';\r\n    this.clipboardHandler.style.top = window.outerHeight;\r\n    this.clipboardHandler.style.right = '101%'; // placed just out of view\r\n\r\n    document.body.appendChild(this.clipboardHandler);\r\n\r\n    this.clipboardHandler.value = this.target.selection();\r\n    this.clipboardHandler.focus();\r\n    this.clipboardHandler.select();\r\n\r\n    this.clipboardHandler.addEventListener(\r\n        'keypress',\r\n        function (event) {\r\n            myself.processKeyPress(event);\r\n            this.value = myself.target.selection();\r\n            this.select();\r\n        },\r\n        false\r\n    );\r\n\r\n    this.clipboardHandler.addEventListener(\r\n        'keydown',\r\n        function (event) {\r\n            myself.processKeyDown(event);\r\n            if (event.shiftKey) {\r\n                wrrld.currentKey = 16;\r\n            }\r\n            this.value = myself.target.selection();\r\n            this.select();\r\n\r\n            // Make sure tab prevents default\r\n            if (event.key === 'U+0009' ||\r\n                    event.key === 'Tab') {\r\n                myself.processKeyPress(event);\r\n                event.preventDefault();\r\n            }\r\n        },\r\n        false\r\n    );\r\n\r\n    this.clipboardHandler.addEventListener(\r\n        'keyup',\r\n        function (event) {\r\n            wrrld.currentKey = null;\r\n        },\r\n        false\r\n    );\r\n\r\n    this.clipboardHandler.addEventListener(\r\n        'input',\r\n        function (event) {\r\n            if (this.value === '') {\r\n                myself.gotoSlot(myself.target.selectionStartSlot());\r\n                myself.target.deleteSelection();\r\n            }\r\n        },\r\n        false\r\n    );\r\n};\r\n\r\n// CursorMorph event processing:\r\n\r\nCursorMorph.prototype.processKeyPress = function (event) {\r\n    // this.inspectKeyEvent(event);\r\n    if (this.keyDownEventUsed) {\r\n        this.keyDownEventUsed = false;\r\n        return null;\r\n    }\r\n    if ((event.keyCode === 40) || event.charCode === 40) {\r\n        this.insert('(');\r\n        return null;\r\n    }\r\n    if ((event.keyCode === 37) || event.charCode === 37) {\r\n        this.insert('%');\r\n        return null;\r\n    }\r\n    if (event.keyCode) { // Opera doesn't support charCode\r\n        if (event.ctrlKey && (!event.altKey)) {\r\n            this.ctrl(event.keyCode, event.shiftKey);\r\n        } else if (event.metaKey) {\r\n            this.cmd(event.keyCode, event.shiftKey);\r\n        } else {\r\n            this.insert(\r\n                String.fromCharCode(event.keyCode),\r\n                event.shiftKey\r\n            );\r\n        }\r\n    } else if (event.charCode) { // all other browsers\r\n        if (event.ctrlKey && (!event.altKey)) {\r\n            this.ctrl(event.charCode, event.shiftKey);\r\n        } else if (event.metaKey) {\r\n            this.cmd(event.charCode, event.shiftKey);\r\n        } else {\r\n            this.insert(\r\n                String.fromCharCode(event.charCode),\r\n                event.shiftKey\r\n            );\r\n        }\r\n    }\r\n    // notify target's parent of key event\r\n    this.target.escalateEvent('reactToKeystroke', event);\r\n};\r\n\r\nCursorMorph.prototype.processKeyDown = function (event) {\r\n    // this.inspectKeyEvent(event);\r\n    var shift = event.shiftKey,\r\n        wordNavigation = event.ctrlKey || event.altKey,\r\n        selecting = this.target.selection().length > 0;\r\n\r\n    this.keyDownEventUsed = false;\r\n    if (event.ctrlKey && (!event.altKey)) {\r\n        this.ctrl(event.keyCode, event.shiftKey);\r\n        // notify target's parent of key event\r\n        this.target.escalateEvent('reactToKeystroke', event);\r\n    }\r\n    if (event.metaKey) {\r\n        this.cmd(event.keyCode, event.shiftKey);\r\n        // notify target's parent of key event\r\n        this.target.escalateEvent('reactToKeystroke', event);\r\n    }\r\n\r\n    switch (event.keyCode) {\r\n    case 37:\r\n        if (selecting && !shift && !wordNavigation) {\r\n            this.gotoSlot(Math.min(this.target.startMark, this.target.endMark));\r\n            this.target.clearSelection();\r\n        } else {\r\n            this.goLeft(\r\n                    shift,\r\n                    wordNavigation ?\r\n                        this.slot - this.target.previousWordFrom(this.slot)\r\n                        : 1);\r\n        }\r\n        this.keyDownEventUsed = true;\r\n        break;\r\n    case 39:\r\n        if (selecting && !shift && !wordNavigation) {\r\n            this.gotoSlot(Math.max(this.target.startMark, this.target.endMark));\r\n            this.target.clearSelection();\r\n        } else {\r\n            this.goRight(\r\n                    shift,\r\n                    wordNavigation ?\r\n                        this.target.nextWordFrom(this.slot) - this.slot\r\n                        : 1);\r\n        }\r\n        this.keyDownEventUsed = true;\r\n        break;\r\n    case 38:\r\n        this.goUp(shift);\r\n        this.keyDownEventUsed = true;\r\n        break;\r\n    case 40:\r\n        this.goDown(shift);\r\n        this.keyDownEventUsed = true;\r\n        break;\r\n    case 36:\r\n        this.goHome(shift);\r\n        this.keyDownEventUsed = true;\r\n        break;\r\n    case 35:\r\n        this.goEnd(shift);\r\n        this.keyDownEventUsed = true;\r\n        break;\r\n    case 46:\r\n        this.deleteRight();\r\n        this.keyDownEventUsed = true;\r\n        break;\r\n    case 8:\r\n        this.deleteLeft();\r\n        this.keyDownEventUsed = true;\r\n        break;\r\n    case 13:\r\n        if ((this.target instanceof StringMorph) || shift) {\r\n            this.accept();\r\n        } else {\r\n            this.insert('\\n');\r\n        }\r\n        this.keyDownEventUsed = true;\r\n        break;\r\n    case 27:\r\n        this.cancel();\r\n        this.keyDownEventUsed = true;\r\n        break;\r\n    default:\r\n        nop();\r\n        // this.inspectKeyEvent(event);\r\n    }\r\n    // notify target's parent of key event\r\n    this.target.escalateEvent('reactToKeystroke', event);\r\n};\r\n\r\n// CursorMorph navigation:\r\n\r\n/*\r\n// original non-scrolling code, commented out in case we need to fall back:\r\n\r\nCursorMorph.prototype.gotoSlot = function (newSlot) {\r\n    this.setPosition(this.target.slotPosition(newSlot));\r\n    this.slot = Math.max(newSlot, 0);\r\n};\r\n*/\r\n\r\nCursorMorph.prototype.gotoSlot = function (slot) {\r\n    var length = this.target.text.length,\r\n        pos = this.target.slotPosition(slot),\r\n        right,\r\n        left;\r\n    this.slot = slot < 0 ? 0 : slot > length ? length : slot;\r\n    if (this.parent && this.target.isScrollable) {\r\n        right = this.parent.right() - this.viewPadding;\r\n        left = this.parent.left() + this.viewPadding;\r\n        if (pos.x > right) {\r\n            this.target.setLeft(this.target.left() + right - pos.x);\r\n            pos.x = right;\r\n        }\r\n        if (pos.x < left) {\r\n            left = Math.min(this.parent.left(), left);\r\n            this.target.setLeft(this.target.left() + left - pos.x);\r\n            pos.x = left;\r\n        }\r\n        if (this.target.right() < right &&\r\n                right - this.target.width() < left) {\r\n            pos.x += right - this.target.right();\r\n            this.target.setRight(right);\r\n        }\r\n    }\r\n    this.show();\r\n    this.setPosition(pos);\r\n    if (this.parent\r\n            && this.parent.parent instanceof ScrollFrameMorph\r\n            && this.target.isScrollable) {\r\n        this.parent.parent.scrollCursorIntoView(this);\r\n    }\r\n};\r\n\r\nCursorMorph.prototype.goLeft = function (shift, howMany) {\r\n    this.updateSelection(shift);\r\n    this.gotoSlot(this.slot - (howMany || 1));\r\n    this.updateSelection(shift);\r\n};\r\n\r\nCursorMorph.prototype.goRight = function (shift, howMany) {\r\n    this.updateSelection(shift);\r\n    this.gotoSlot(this.slot + (howMany || 1));\r\n    this.updateSelection(shift);\r\n};\r\n\r\nCursorMorph.prototype.goUp = function (shift) {\r\n    this.updateSelection(shift);\r\n    this.gotoSlot(this.target.upFrom(this.slot));\r\n    this.updateSelection(shift);\r\n};\r\n\r\nCursorMorph.prototype.goDown = function (shift) {\r\n    this.updateSelection(shift);\r\n    this.gotoSlot(this.target.downFrom(this.slot));\r\n    this.updateSelection(shift);\r\n};\r\n\r\nCursorMorph.prototype.goHome = function (shift) {\r\n    this.updateSelection(shift);\r\n    this.gotoSlot(this.target.startOfLine(this.slot));\r\n    this.updateSelection(shift);\r\n};\r\n\r\nCursorMorph.prototype.goEnd = function (shift) {\r\n    this.updateSelection(shift);\r\n    this.gotoSlot(this.target.endOfLine(this.slot));\r\n    this.updateSelection(shift);\r\n};\r\n\r\nCursorMorph.prototype.gotoPos = function (aPoint) {\r\n    this.gotoSlot(this.target.slotAt(aPoint));\r\n    this.show();\r\n};\r\n\r\n// CursorMorph selecting:\r\n\r\nCursorMorph.prototype.updateSelection = function (shift) {\r\n    if (shift) {\r\n        if (isNil(this.target.endMark) && isNil(this.target.startMark)) {\r\n            this.target.startMark = this.slot;\r\n            this.target.endMark = this.slot;\r\n        } else if (this.target.endMark !== this.slot) {\r\n            this.target.endMark = this.slot;\r\n            this.target.drawNew();\r\n            this.target.changed();\r\n        }\r\n    } else {\r\n        this.target.clearSelection();\r\n    }\r\n};\r\n\r\n// CursorMorph editing:\r\n\r\nCursorMorph.prototype.accept = function () {\r\n    var world = this.root();\r\n    if (world) {\r\n        world.stopEditing();\r\n    }\r\n    this.escalateEvent('accept', this);\r\n};\r\n\r\nCursorMorph.prototype.cancel = function () {\r\n    var world = this.root();\r\n    this.undo();\r\n    if (world) {\r\n        world.stopEditing();\r\n    }\r\n    this.escalateEvent('cancel', this);\r\n};\r\n\r\nCursorMorph.prototype.undo = function () {\r\n    this.target.text = this.originalContents;\r\n    this.target.changed();\r\n    this.target.drawNew();\r\n    this.target.changed();\r\n    this.gotoSlot(0);\r\n};\r\n\r\nCursorMorph.prototype.insert = function (aChar, shiftKey) {\r\n    var text;\r\n    if (aChar === '\\u0009') {\r\n        this.target.escalateEvent('reactToEdit', this.target);\r\n        if (shiftKey) {\r\n            return this.target.backTab(this.target);\r\n        }\r\n        return this.target.tab(this.target);\r\n    }\r\n    if (!this.target.isNumeric ||\r\n            !isNaN(parseFloat(aChar)) ||\r\n            contains(['-', '.'], aChar)) {\r\n        if (this.target.selection() !== '') {\r\n            this.gotoSlot(this.target.selectionStartSlot());\r\n            this.target.deleteSelection();\r\n        }\r\n        text = this.target.text;\r\n        text = text.slice(0, this.slot) +\r\n            aChar +\r\n            text.slice(this.slot);\r\n        this.target.text = text;\r\n        this.target.drawNew();\r\n        this.target.changed();\r\n        this.goRight(false, aChar.length);\r\n    }\r\n};\r\n\r\nCursorMorph.prototype.ctrl = function (aChar, shiftKey) {\r\n    if (aChar === 64 || (aChar === 65 && shiftKey)) {\r\n        this.insert('@');\r\n    } else if (aChar === 65) {\r\n        this.target.selectAll();\r\n    } else if (aChar === 90) {\r\n        this.undo();\r\n    } else if (aChar === 123) {\r\n        this.insert('{');\r\n    } else if (aChar === 125) {\r\n        this.insert('}');\r\n    } else if (aChar === 91) {\r\n        this.insert('[');\r\n    } else if (aChar === 93) {\r\n        this.insert(']');\r\n    } else if (!isNil(this.target.receiver)) {\r\n        if (aChar === 68) {\r\n            this.target.doIt();\r\n        } else if (aChar === 73) {\r\n            this.target.inspectIt();\r\n        } else if (aChar === 80) {\r\n            this.target.showIt();\r\n        }\r\n    }\r\n\r\n\r\n};\r\n\r\nCursorMorph.prototype.cmd = function (aChar, shiftKey) {\r\n    if (aChar === 64 || (aChar === 65 && shiftKey)) {\r\n        this.insert('@');\r\n    } else if (aChar === 65) {\r\n        this.target.selectAll();\r\n    } else if (aChar === 90) {\r\n        this.undo();\r\n    } else if (!isNil(this.target.receiver)) {\r\n        if (aChar === 68) {\r\n            this.target.doIt();\r\n        } else if (aChar === 73) {\r\n            this.target.inspectIt();\r\n        } else if (aChar === 80) {\r\n            this.target.showIt();\r\n        }\r\n    }\r\n};\r\n\r\nCursorMorph.prototype.deleteRight = function () {\r\n    var text;\r\n    if (this.target.selection() !== '') {\r\n        this.gotoSlot(this.target.selectionStartSlot());\r\n        this.target.deleteSelection();\r\n    } else {\r\n        text = this.target.text;\r\n        this.target.changed();\r\n        text = text.slice(0, this.slot) + text.slice(this.slot + 1);\r\n        this.target.text = text;\r\n        this.target.drawNew();\r\n    }\r\n};\r\n\r\nCursorMorph.prototype.deleteLeft = function () {\r\n    var text;\r\n    if (this.target.selection()) {\r\n        this.gotoSlot(this.target.selectionStartSlot());\r\n        return this.target.deleteSelection();\r\n    }\r\n    text = this.target.text;\r\n    this.target.changed();\r\n    this.target.text = text.substring(0, this.slot - 1) +\r\n        text.substr(this.slot);\r\n    this.target.drawNew();\r\n    this.goLeft();\r\n};\r\n\r\n// CursorMorph destroying:\r\n\r\nCursorMorph.prototype.destroy = function () {\r\n    if (this.target.alignment !== this.originalAlignment) {\r\n        this.target.alignment = this.originalAlignment;\r\n        this.target.drawNew();\r\n        this.target.changed();\r\n    }\r\n    this.destroyClipboardHandler();\r\n    CursorMorph.uber.destroy.call(this);\r\n};\r\n\r\nCursorMorph.prototype.destroyClipboardHandler = function () {\r\n    var nodes = document.body.children,\r\n        each,\r\n        i;\r\n    if (this.clipboardHandler) {\r\n        for (i = 0; i < nodes.length; i += 1) {\r\n            each = nodes[i];\r\n            if (each === this.clipboardHandler) {\r\n                document.body.removeChild(this.clipboardHandler);\r\n                this.clipboardHandler = null;\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\n// CursorMorph utilities:\r\n\r\nCursorMorph.prototype.inspectKeyEvent = function (event) {\r\n    // private\r\n    this.inform(\r\n        'Key pressed: ' +\r\n            String.fromCharCode(event.charCode) +\r\n            '\\n------------------------' +\r\n            '\\ncharCode: ' +\r\n            event.charCode.toString() +\r\n            '\\nkeyCode: ' +\r\n            event.keyCode.toString() +\r\n            '\\nshiftKey: ' +\r\n            event.shiftKey.toString() +\r\n            '\\naltKey: ' +\r\n            event.altKey.toString() +\r\n            '\\nctrlKey: ' +\r\n            event.ctrlKey.toString() +\r\n            '\\ncmdKey: ' +\r\n            event.metaKey.toString()\r\n    );\r\n};\r\n\r\n// BoxMorph ////////////////////////////////////////////////////////////\r\n\r\n// I can have an optionally rounded border\r\n\r\nvar BoxMorph;\r\n\r\n// BoxMorph inherits from Morph:\r\n\r\nBoxMorph.prototype = new Morph();\r\nBoxMorph.prototype.constructor = BoxMorph;\r\nBoxMorph.uber = Morph.prototype;\r\n\r\n// BoxMorph instance creation:\r\n\r\nfunction BoxMorph(edge, border, borderColor) {\r\n    this.init(edge, border, borderColor);\r\n}\r\n\r\nBoxMorph.prototype.init = function (edge, border, borderColor) {\r\n    this.edge = edge || 4;\r\n    this.border = border || ((border === 0) ? 0 : 2);\r\n    this.borderColor = borderColor || new Color();\r\n    BoxMorph.uber.init.call(this);\r\n};\r\n\r\n// BoxMorph drawing:\r\n\r\nBoxMorph.prototype.drawNew = function () {\r\n    var context;\r\n\r\n    this.image = newCanvas(this.extent());\r\n    context = this.image.getContext('2d');\r\n    if ((this.edge === 0) && (this.border === 0)) {\r\n        BoxMorph.uber.drawNew.call(this);\r\n        return null;\r\n    }\r\n    context.fillStyle = this.color.toString();\r\n    context.beginPath();\r\n    this.outlinePath(\r\n        context,\r\n        Math.max(this.edge - this.border, 0),\r\n        this.border\r\n    );\r\n    context.closePath();\r\n    context.fill();\r\n    if (this.border > 0) {\r\n        context.lineWidth = this.border;\r\n        context.strokeStyle = this.borderColor.toString();\r\n        context.beginPath();\r\n        this.outlinePath(context, this.edge, this.border / 2);\r\n        context.closePath();\r\n        context.stroke();\r\n    }\r\n};\r\n\r\nBoxMorph.prototype.outlinePath = function (context, radius, inset) {\r\n    var offset = radius + inset,\r\n        w = this.width(),\r\n        h = this.height();\r\n\r\n    // top left:\r\n    context.arc(\r\n        offset,\r\n        offset,\r\n        radius,\r\n        radians(-180),\r\n        radians(-90),\r\n        false\r\n    );\r\n    // top right:\r\n    context.arc(\r\n        w - offset,\r\n        offset,\r\n        radius,\r\n        radians(-90),\r\n        radians(-0),\r\n        false\r\n    );\r\n    // bottom right:\r\n    context.arc(\r\n        w - offset,\r\n        h - offset,\r\n        radius,\r\n        radians(0),\r\n        radians(90),\r\n        false\r\n    );\r\n    // bottom left:\r\n    context.arc(\r\n        offset,\r\n        h - offset,\r\n        radius,\r\n        radians(90),\r\n        radians(180),\r\n        false\r\n    );\r\n};\r\n\r\n\r\n// BoxMorph menus:\r\n\r\nBoxMorph.prototype.developersMenu = function () {\r\n    var menu = BoxMorph.uber.developersMenu.call(this);\r\n    menu.addLine();\r\n    menu.addItem(\r\n        \"border width...\",\r\n        function () {\r\n            this.prompt(\r\n                menu.title + '\\nborder\\nwidth:',\r\n                this.setBorderWidth,\r\n                this,\r\n                this.border.toString(),\r\n                null,\r\n                0,\r\n                100,\r\n                true\r\n            );\r\n        },\r\n        'set the border\\'s\\nline size'\r\n    );\r\n    menu.addItem(\r\n        \"border color...\",\r\n        function () {\r\n            this.pickColor(\r\n                menu.title + '\\nborder color:',\r\n                this.setBorderColor,\r\n                this,\r\n                this.borderColor\r\n            );\r\n        },\r\n        'set the border\\'s\\nline color'\r\n    );\r\n    menu.addItem(\r\n        \"corner size...\",\r\n        function () {\r\n            this.prompt(\r\n                menu.title + '\\ncorner\\nsize:',\r\n                this.setCornerSize,\r\n                this,\r\n                this.edge.toString(),\r\n                null,\r\n                0,\r\n                100,\r\n                true\r\n            );\r\n        },\r\n        'set the corner\\'s\\nradius'\r\n    );\r\n    return menu;\r\n};\r\n\r\nBoxMorph.prototype.setBorderWidth = function (size) {\r\n    // for context menu demo purposes\r\n    var newSize;\r\n    if (typeof size === 'number') {\r\n        this.border = Math.max(size, 0);\r\n    } else {\r\n        newSize = parseFloat(size);\r\n        if (!isNaN(newSize)) {\r\n            this.border = Math.max(newSize, 0);\r\n        }\r\n    }\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nBoxMorph.prototype.setBorderColor = function (color) {\r\n    // for context menu demo purposes\r\n    if (color) {\r\n        this.borderColor = color;\r\n        this.drawNew();\r\n        this.changed();\r\n    }\r\n};\r\n\r\nBoxMorph.prototype.setCornerSize = function (size) {\r\n    // for context menu demo purposes\r\n    var newSize;\r\n    if (typeof size === 'number') {\r\n        this.edge = Math.max(size, 0);\r\n    } else {\r\n        newSize = parseFloat(size);\r\n        if (!isNaN(newSize)) {\r\n            this.edge = Math.max(newSize, 0);\r\n        }\r\n    }\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nBoxMorph.prototype.colorSetters = function () {\r\n    // for context menu demo purposes\r\n    return ['color', 'borderColor'];\r\n};\r\n\r\nBoxMorph.prototype.numericalSetters = function () {\r\n    // for context menu demo purposes\r\n    var list = BoxMorph.uber.numericalSetters.call(this);\r\n    list.push('setBorderWidth', 'setCornerSize');\r\n    return list;\r\n};\r\n\r\n// SpeechBubbleMorph ///////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a comic-style speech bubble that can display either a string,\r\n    a Morph, a Canvas or a toString() representation of anything else.\r\n    If I am invoked using popUp() I behave like a tool tip.\r\n*/\r\n\r\n// SpeechBubbleMorph: referenced constructors\r\n\r\nvar SpeechBubbleMorph;\r\n\r\n// SpeechBubbleMorph inherits from BoxMorph:\r\n\r\nSpeechBubbleMorph.prototype = new BoxMorph();\r\nSpeechBubbleMorph.prototype.constructor = SpeechBubbleMorph;\r\nSpeechBubbleMorph.uber = BoxMorph.prototype;\r\n\r\n// SpeechBubbleMorph instance creation:\r\n\r\nfunction SpeechBubbleMorph(\r\n    contents,\r\n    color,\r\n    edge,\r\n    border,\r\n    borderColor,\r\n    padding,\r\n    isThought\r\n) {\r\n    this.init(contents, color, edge, border, borderColor, padding, isThought);\r\n}\r\n\r\nSpeechBubbleMorph.prototype.init = function (\r\n    contents,\r\n    color,\r\n    edge,\r\n    border,\r\n    borderColor,\r\n    padding,\r\n    isThought // bool or anything but \"true\" to draw no hook at all\r\n) {\r\n    this.isPointingRight = true; // orientation of text\r\n    this.contents = contents || '';\r\n    this.padding = padding || 0; // additional vertical pixels\r\n    this.isThought = isThought || false; // draw \"think\" bubble\r\n    this.isClickable = false;\r\n    SpeechBubbleMorph.uber.init.call(\r\n        this,\r\n        edge || 6,\r\n        border || ((border === 0) ? 0 : 1),\r\n        borderColor || new Color(140, 140, 140)\r\n    );\r\n    this.color = color || new Color(230, 230, 230);\r\n    this.drawNew();\r\n};\r\n\r\n// SpeechBubbleMorph invoking:\r\n\r\nSpeechBubbleMorph.prototype.popUp = function (world, pos, isClickable) {\r\n    this.drawNew();\r\n    this.setPosition(pos.subtract(new Point(0, this.height())));\r\n    this.addShadow(new Point(2, 2), 80);\r\n    this.keepWithin(world);\r\n    world.add(this);\r\n    this.fullChanged();\r\n    world.hand.destroyTemporaries();\r\n    world.hand.temporaries.push(this);\r\n\r\n    if (!isClickable) {\r\n        this.mouseEnter = function () {\r\n            this.destroy();\r\n        };\r\n    } else {\r\n        this.isClickable = true;\r\n    }\r\n};\r\n\r\n// SpeechBubbleMorph drawing:\r\n\r\nSpeechBubbleMorph.prototype.drawNew = function () {\r\n    // re-build my contents\r\n    if (this.contentsMorph) {\r\n        this.contentsMorph.destroy();\r\n    }\r\n    if (this.contents instanceof Morph) {\r\n        this.contentsMorph = this.contents;\r\n    } else if (isString(this.contents)) {\r\n        this.contentsMorph = new TextMorph(\r\n            this.contents,\r\n            MorphicPreferences.bubbleHelpFontSize,\r\n            null,\r\n            false,\r\n            true,\r\n            'center'\r\n        );\r\n    } else if (this.contents instanceof HTMLCanvasElement) {\r\n        this.contentsMorph = new Morph();\r\n        this.contentsMorph.silentSetWidth(this.contents.width);\r\n        this.contentsMorph.silentSetHeight(this.contents.height);\r\n        this.contentsMorph.image = this.contents;\r\n    } else {\r\n        this.contentsMorph = new TextMorph(\r\n            this.contents.toString(),\r\n            MorphicPreferences.bubbleHelpFontSize,\r\n            null,\r\n            false,\r\n            true,\r\n            'center'\r\n        );\r\n    }\r\n    this.add(this.contentsMorph);\r\n\r\n    // adjust my layout\r\n    this.silentSetWidth(this.contentsMorph.width() +\r\n        (this.padding ? this.padding * 2 : this.edge * 2));\r\n    this.silentSetHeight(this.contentsMorph.height() +\r\n        this.edge +\r\n        this.border * 2 +\r\n        this.padding * 2 +\r\n        2);\r\n\r\n    // draw my outline\r\n    SpeechBubbleMorph.uber.drawNew.call(this);\r\n\r\n    // position my contents\r\n    this.contentsMorph.setPosition(this.position().add(\r\n        new Point(\r\n            this.padding || this.edge,\r\n            this.border + this.padding + 1\r\n        )\r\n    ));\r\n};\r\n\r\nSpeechBubbleMorph.prototype.outlinePath = function (\r\n    context,\r\n    radius,\r\n    inset\r\n) {\r\n    var offset = radius + inset,\r\n        w = this.width(),\r\n        h = this.height(),\r\n        rad;\r\n\r\n    function circle(x, y, r) {\r\n        context.moveTo(x + r, y);\r\n        context.arc(x, y, r, radians(0), radians(360));\r\n    }\r\n\r\n    // top left:\r\n    context.arc(\r\n        offset,\r\n        offset,\r\n        radius,\r\n        radians(-180),\r\n        radians(-90),\r\n        false\r\n    );\r\n    // top right:\r\n    context.arc(\r\n        w - offset,\r\n        offset,\r\n        radius,\r\n        radians(-90),\r\n        radians(-0),\r\n        false\r\n    );\r\n    // bottom right:\r\n    context.arc(\r\n        w - offset,\r\n        h - offset - radius,\r\n        radius,\r\n        radians(0),\r\n        radians(90),\r\n        false\r\n    );\r\n    if (!this.isThought) { // draw speech bubble hook\r\n        if (this.isPointingRight) {\r\n            context.lineTo(\r\n                offset + radius,\r\n                h - offset\r\n            );\r\n            context.lineTo(\r\n                radius / 2 + inset,\r\n                h - inset\r\n            );\r\n        } else { // pointing left\r\n            context.lineTo(\r\n                w - (radius / 2 + inset),\r\n                h - inset\r\n            );\r\n            context.lineTo(\r\n                w - (offset + radius),\r\n                h - offset\r\n            );\r\n        }\r\n    }\r\n    // bottom left:\r\n    context.arc(\r\n        offset,\r\n        h - offset - radius,\r\n        radius,\r\n        radians(90),\r\n        radians(180),\r\n        false\r\n    );\r\n    if (this.isThought === true) { // use anything but \"true\" to draw nothing\r\n        // close large bubble:\r\n        context.lineTo(\r\n            inset,\r\n            offset\r\n        );\r\n        // draw thought bubbles:\r\n        if (this.isPointingRight) {\r\n            // tip bubble:\r\n            rad = radius / 4;\r\n            circle(rad + inset, h - rad - inset, rad);\r\n            // middle bubble:\r\n            rad = radius / 3.2;\r\n            circle(rad * 2 + inset, h - rad - inset * 2, rad);\r\n            // top bubble:\r\n            rad = radius / 2.8;\r\n            circle(rad * 3 + inset * 2, h - rad - inset * 4, rad);\r\n        } else { // pointing left\r\n            // tip bubble:\r\n            rad = radius / 4;\r\n            circle(w - (rad + inset), h - rad - inset, rad);\r\n            // middle bubble:\r\n            rad = radius / 3.2;\r\n            circle(w - (rad * 2 + inset), h - rad - inset * 2, rad);\r\n            // top bubble:\r\n            rad = radius / 2.8;\r\n            circle(w - (rad * 3 + inset * 2), h - rad - inset * 4, rad);\r\n        }\r\n    }\r\n};\r\n\r\n// SpeechBubbleMorph shadow\r\n\r\n/*\r\n    only take the 'plain' image, so the box rounding and the\r\n    shadow doesn't become conflicted by embedded scrolling panes\r\n*/\r\n\r\nSpeechBubbleMorph.prototype.shadowImage = function (off, color) {\r\n    // fallback for Windows Chrome-Shadow bug\r\n    var fb, img, outline, sha, ctx,\r\n        offset = off || new Point(7, 7),\r\n        clr = color || new Color(0, 0, 0);\r\n    fb = this.extent();\r\n    img = this.image;\r\n    outline = newCanvas(fb);\r\n    ctx = outline.getContext('2d');\r\n    ctx.drawImage(img, 0, 0);\r\n    ctx.globalCompositeOperation = 'destination-out';\r\n    ctx.drawImage(\r\n        img,\r\n        -offset.x,\r\n        -offset.y\r\n    );\r\n    sha = newCanvas(fb);\r\n    ctx = sha.getContext('2d');\r\n    ctx.drawImage(outline, 0, 0);\r\n    ctx.globalCompositeOperation = 'source-atop';\r\n    ctx.fillStyle = clr.toString();\r\n    ctx.fillRect(0, 0, fb.x, fb.y);\r\n    return sha;\r\n};\r\n\r\nSpeechBubbleMorph.prototype.shadowImageBlurred = function (off, color) {\r\n    var fb, img, sha, ctx,\r\n        offset = off || new Point(7, 7),\r\n        blur = this.shadowBlur,\r\n        clr = color || new Color(0, 0, 0);\r\n    fb = this.extent().add(blur * 2);\r\n    img = this.image;\r\n    sha = newCanvas(fb);\r\n    ctx = sha.getContext('2d');\r\n    ctx.shadowOffsetX = offset.x;\r\n    ctx.shadowOffsetY = offset.y;\r\n    ctx.shadowBlur = blur;\r\n    ctx.shadowColor = clr.toString();\r\n    ctx.drawImage(\r\n        img,\r\n        blur - offset.x,\r\n        blur - offset.y\r\n    );\r\n    ctx.shadowOffsetX = 0;\r\n    ctx.shadowOffsetY = 0;\r\n    ctx.shadowBlur = 0;\r\n    ctx.globalCompositeOperation = 'destination-out';\r\n    ctx.drawImage(\r\n        img,\r\n        blur - offset.x,\r\n        blur - offset.y\r\n    );\r\n    return sha;\r\n};\r\n\r\n// SpeechBubbleMorph resizing\r\n\r\nSpeechBubbleMorph.prototype.fixLayout = function () {\r\n    this.removeShadow();\r\n    this.drawNew();\r\n    this.addShadow(new Point(2, 2), 80);\r\n};\r\n\r\n// CircleBoxMorph //////////////////////////////////////////////////////\r\n\r\n// I can be used for sliders\r\n\r\nvar CircleBoxMorph;\r\n\r\n// CircleBoxMorph inherits from Morph:\r\n\r\nCircleBoxMorph.prototype = new Morph();\r\nCircleBoxMorph.prototype.constructor = CircleBoxMorph;\r\nCircleBoxMorph.uber = Morph.prototype;\r\n\r\nfunction CircleBoxMorph(orientation) {\r\n    this.init(orientation || 'vertical');\r\n}\r\n\r\nCircleBoxMorph.prototype.init = function (orientation) {\r\n    CircleBoxMorph.uber.init.call(this);\r\n    this.orientation = orientation;\r\n    this.autoOrient = true;\r\n    this.setExtent(new Point(20, 100));\r\n};\r\n\r\nCircleBoxMorph.prototype.autoOrientation = function () {\r\n    if (this.height() > this.width()) {\r\n        this.orientation = 'vertical';\r\n    } else {\r\n        this.orientation = 'horizontal';\r\n    }\r\n};\r\n\r\nCircleBoxMorph.prototype.drawNew = function () {\r\n    var radius, center1, center2, rect, points, x, y,\r\n        context, ext,\r\n        myself = this;\r\n\r\n    if (this.autoOrient) {\r\n        this.autoOrientation();\r\n    }\r\n    this.image = newCanvas(this.extent());\r\n    context = this.image.getContext('2d');\r\n\r\n    if (this.orientation === 'vertical') {\r\n        radius = this.width() / 2;\r\n        x = this.center().x;\r\n        center1 = new Point(x, this.top() + radius);\r\n        center2 = new Point(x, this.bottom() - radius);\r\n        rect = this.bounds.origin.add(new Point(0, radius)).corner(\r\n            this.bounds.corner.subtract(new Point(0, radius))\r\n        );\r\n    } else {\r\n        radius = this.height() / 2;\r\n        y = this.center().y;\r\n        center1 = new Point(this.left() + radius, y);\r\n        center2 = new Point(this.right() - radius, y);\r\n        rect = this.bounds.origin.add(new Point(radius, 0)).corner(\r\n            this.bounds.corner.subtract(new Point(radius, 0))\r\n        );\r\n    }\r\n    points = [ center1.subtract(this.bounds.origin),\r\n        center2.subtract(this.bounds.origin)];\r\n    points.forEach(function (center) {\r\n        context.fillStyle = myself.color.toString();\r\n        context.beginPath();\r\n        context.arc(\r\n            center.x,\r\n            center.y,\r\n            radius,\r\n            0,\r\n            2 * Math.PI,\r\n            false\r\n        );\r\n        context.closePath();\r\n        context.fill();\r\n    });\r\n    rect = rect.translateBy(this.bounds.origin.neg());\r\n    ext = rect.extent();\r\n    if (ext.x > 0 && ext.y > 0) {\r\n        context.fillRect(\r\n            rect.origin.x,\r\n            rect.origin.y,\r\n            rect.width(),\r\n            rect.height()\r\n        );\r\n    }\r\n};\r\n\r\n// CircleBoxMorph menu:\r\n\r\nCircleBoxMorph.prototype.developersMenu = function () {\r\n    var menu = CircleBoxMorph.uber.developersMenu.call(this);\r\n    menu.addLine();\r\n    if (this.orientation === 'vertical') {\r\n        menu.addItem(\r\n            \"horizontal...\",\r\n            'toggleOrientation',\r\n            'toggle the\\norientation'\r\n        );\r\n    } else {\r\n        menu.addItem(\r\n            \"vertical...\",\r\n            'toggleOrientation',\r\n            'toggle the\\norientation'\r\n        );\r\n    }\r\n    return menu;\r\n};\r\n\r\nCircleBoxMorph.prototype.toggleOrientation = function () {\r\n    var center = this.center();\r\n    this.changed();\r\n    if (this.orientation === 'vertical') {\r\n        this.orientation = 'horizontal';\r\n    } else {\r\n        this.orientation = 'vertical';\r\n    }\r\n    this.silentSetExtent(new Point(this.height(), this.width()));\r\n    this.setCenter(center);\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\n// SliderButtonMorph ///////////////////////////////////////////////////\r\n\r\nvar SliderButtonMorph;\r\n\r\n// SliderButtonMorph inherits from CircleBoxMorph:\r\n\r\nSliderButtonMorph.prototype = new CircleBoxMorph();\r\nSliderButtonMorph.prototype.constructor = SliderButtonMorph;\r\nSliderButtonMorph.uber = CircleBoxMorph.prototype;\r\n\r\nfunction SliderButtonMorph(orientation) {\r\n    this.init(orientation);\r\n}\r\n\r\nSliderButtonMorph.prototype.init = function (orientation) {\r\n    this.color = new Color(80, 80, 80);\r\n    this.highlightColor = new Color(90, 90, 140);\r\n    this.pressColor = new Color(80, 80, 160);\r\n    this.is3D = false;\r\n    this.hasMiddleDip = true;\r\n    SliderButtonMorph.uber.init.call(this, orientation);\r\n};\r\n\r\nSliderButtonMorph.prototype.autoOrientation = nop;\r\n\r\nSliderButtonMorph.prototype.drawNew = function () {\r\n    var colorBak = this.color.copy();\r\n\r\n    SliderButtonMorph.uber.drawNew.call(this);\r\n    if (this.is3D || !MorphicPreferences.isFlat) {\r\n        this.drawEdges();\r\n    }\r\n    this.normalImage = this.image;\r\n\r\n    this.color = this.highlightColor.copy();\r\n    SliderButtonMorph.uber.drawNew.call(this);\r\n    if (this.is3D || !MorphicPreferences.isFlat) {\r\n        this.drawEdges();\r\n    }\r\n    this.highlightImage = this.image;\r\n\r\n    this.color = this.pressColor.copy();\r\n    SliderButtonMorph.uber.drawNew.call(this);\r\n    if (this.is3D || !MorphicPreferences.isFlat) {\r\n        this.drawEdges();\r\n    }\r\n    this.pressImage = this.image;\r\n\r\n    this.color = colorBak;\r\n    this.image = this.normalImage;\r\n\r\n};\r\n\r\nSliderButtonMorph.prototype.drawEdges = function () {\r\n    var context = this.image.getContext('2d'),\r\n        gradient,\r\n        radius,\r\n        w = this.width(),\r\n        h = this.height();\r\n\r\n    context.lineJoin = 'round';\r\n    context.lineCap = 'round';\r\n\r\n    if (this.orientation === 'vertical') {\r\n        context.lineWidth = w / 3;\r\n        gradient = context.createLinearGradient(\r\n            0,\r\n            0,\r\n            context.lineWidth,\r\n            0\r\n        );\r\n        gradient.addColorStop(0, 'white');\r\n        gradient.addColorStop(1, this.color.toString());\r\n\r\n        context.strokeStyle = gradient;\r\n        context.beginPath();\r\n        context.moveTo(context.lineWidth * 0.5, w / 2);\r\n        context.lineTo(context.lineWidth * 0.5, h - w / 2);\r\n        context.stroke();\r\n\r\n        gradient = context.createLinearGradient(\r\n            w - context.lineWidth,\r\n            0,\r\n            w,\r\n            0\r\n        );\r\n        gradient.addColorStop(0, this.color.toString());\r\n        gradient.addColorStop(1, 'black');\r\n\r\n        context.strokeStyle = gradient;\r\n        context.beginPath();\r\n        context.moveTo(w - context.lineWidth * 0.5, w / 2);\r\n        context.lineTo(w - context.lineWidth * 0.5, h - w / 2);\r\n        context.stroke();\r\n\r\n        if (this.hasMiddleDip) {\r\n            gradient = context.createLinearGradient(\r\n                context.lineWidth,\r\n                0,\r\n                w - context.lineWidth,\r\n                0\r\n            );\r\n\r\n            radius = w / 4;\r\n            gradient.addColorStop(0, 'black');\r\n            gradient.addColorStop(0.35, this.color.toString());\r\n            gradient.addColorStop(0.65, this.color.toString());\r\n            gradient.addColorStop(1, 'white');\r\n\r\n            context.fillStyle = gradient;\r\n            context.beginPath();\r\n            context.arc(\r\n                w / 2,\r\n                h / 2,\r\n                radius,\r\n                radians(0),\r\n                radians(360),\r\n                false\r\n            );\r\n            context.closePath();\r\n            context.fill();\r\n        }\r\n    } else if (this.orientation === 'horizontal') {\r\n        context.lineWidth = h / 3;\r\n        gradient = context.createLinearGradient(\r\n            0,\r\n            0,\r\n            0,\r\n            context.lineWidth\r\n        );\r\n        gradient.addColorStop(0, 'white');\r\n        gradient.addColorStop(1, this.color.toString());\r\n\r\n        context.strokeStyle = gradient;\r\n        context.beginPath();\r\n        context.moveTo(h / 2, context.lineWidth * 0.5);\r\n        context.lineTo(w - h / 2, context.lineWidth * 0.5);\r\n        context.stroke();\r\n\r\n        gradient = context.createLinearGradient(\r\n            0,\r\n            h - context.lineWidth,\r\n            0,\r\n            h\r\n        );\r\n        gradient.addColorStop(0, this.color.toString());\r\n        gradient.addColorStop(1, 'black');\r\n\r\n        context.strokeStyle = gradient;\r\n        context.beginPath();\r\n        context.moveTo(h / 2, h - context.lineWidth * 0.5);\r\n        context.lineTo(w - h / 2, h - context.lineWidth * 0.5);\r\n        context.stroke();\r\n\r\n        if (this.hasMiddleDip) {\r\n            gradient = context.createLinearGradient(\r\n                0,\r\n                context.lineWidth,\r\n                0,\r\n                h - context.lineWidth\r\n            );\r\n\r\n            radius = h / 4;\r\n            gradient.addColorStop(0, 'black');\r\n            gradient.addColorStop(0.35, this.color.toString());\r\n            gradient.addColorStop(0.65, this.color.toString());\r\n            gradient.addColorStop(1, 'white');\r\n\r\n            context.fillStyle = gradient;\r\n            context.beginPath();\r\n            context.arc(\r\n                this.width() / 2,\r\n                this.height() / 2,\r\n                radius,\r\n                radians(0),\r\n                radians(360),\r\n                false\r\n            );\r\n            context.closePath();\r\n            context.fill();\r\n        }\r\n    }\r\n};\r\n\r\n//SliderButtonMorph events:\r\n\r\nSliderButtonMorph.prototype.mouseEnter = function () {\r\n    this.image = this.highlightImage;\r\n    this.changed();\r\n};\r\n\r\nSliderButtonMorph.prototype.mouseLeave = function () {\r\n    this.image = this.normalImage;\r\n    this.changed();\r\n};\r\n\r\nSliderButtonMorph.prototype.mouseDownLeft = function (pos) {\r\n    this.image = this.pressImage;\r\n    this.changed();\r\n    this.escalateEvent('mouseDownLeft', pos);\r\n};\r\n\r\nSliderButtonMorph.prototype.mouseClickLeft = function () {\r\n    this.image = this.highlightImage;\r\n    this.changed();\r\n};\r\n\r\nSliderButtonMorph.prototype.mouseMove = function () {\r\n    // prevent my parent from getting picked up\r\n    nop();\r\n};\r\n\r\n// SliderMorph ///////////////////////////////////////////////////\r\n\r\n// SliderMorph inherits from CircleBoxMorph:\r\n\r\nSliderMorph.prototype = new CircleBoxMorph();\r\nSliderMorph.prototype.constructor = SliderMorph;\r\nSliderMorph.uber = CircleBoxMorph.prototype;\r\n\r\nfunction SliderMorph(start, stop, value, size, orientation, color) {\r\n    this.init(\r\n        start || 1,\r\n        stop || 100,\r\n        value || 50,\r\n        size || 10,\r\n        orientation || 'vertical',\r\n        color\r\n    );\r\n}\r\n\r\nSliderMorph.prototype.init = function (\r\n    start,\r\n    stop,\r\n    value,\r\n    size,\r\n    orientation,\r\n    color\r\n) {\r\n    this.target = null;\r\n    this.action = null;\r\n    this.start = start;\r\n    this.stop = stop;\r\n    this.value = value;\r\n    this.size = size;\r\n    this.offset = null;\r\n    this.button = new SliderButtonMorph();\r\n    this.button.isDraggable = false;\r\n    this.button.color = new Color(200, 200, 200);\r\n    this.button.highlightColor = new Color(210, 210, 255);\r\n    this.button.pressColor = new Color(180, 180, 255);\r\n    SliderMorph.uber.init.call(this, orientation);\r\n    this.add(this.button);\r\n    this.alpha = 0.3;\r\n    this.color = color || new Color(0, 0, 0);\r\n    this.setExtent(new Point(20, 100));\r\n    // this.drawNew();\r\n};\r\n\r\nSliderMorph.prototype.autoOrientation = nop;\r\n\r\nSliderMorph.prototype.rangeSize = function () {\r\n    return this.stop - this.start;\r\n};\r\n\r\nSliderMorph.prototype.ratio = function () {\r\n    return this.size / (this.rangeSize() + 1);\r\n};\r\n\r\nSliderMorph.prototype.unitSize = function () {\r\n    if (this.orientation === 'vertical') {\r\n        return (this.height() - this.button.height()) /\r\n            this.rangeSize();\r\n    }\r\n    return (this.width() - this.button.width()) /\r\n        this.rangeSize();\r\n};\r\n\r\nSliderMorph.prototype.drawNew = function () {\r\n    var bw, bh, posX, posY;\r\n\r\n    SliderMorph.uber.drawNew.call(this);\r\n    this.button.orientation = this.orientation;\r\n    if (this.orientation === 'vertical') {\r\n        bw  = this.width() - 2;\r\n        bh = Math.max(bw, Math.round(this.height() * this.ratio()));\r\n        this.button.silentSetExtent(new Point(bw, bh));\r\n        posX = 1;\r\n        posY = Math.min(\r\n            Math.round((this.value - this.start) * this.unitSize()),\r\n            this.height() - this.button.height()\r\n        );\r\n    } else {\r\n        bh = this.height() - 2;\r\n        bw  = Math.max(bh, Math.round(this.width() * this.ratio()));\r\n        this.button.silentSetExtent(new Point(bw, bh));\r\n        posY = 1;\r\n        posX = Math.min(\r\n            Math.round((this.value - this.start) * this.unitSize()),\r\n            this.width() - this.button.width()\r\n        );\r\n    }\r\n    this.button.setPosition(\r\n        new Point(posX, posY).add(this.bounds.origin)\r\n    );\r\n    this.button.drawNew();\r\n    this.button.changed();\r\n};\r\n\r\nSliderMorph.prototype.updateValue = function () {\r\n    var relPos;\r\n    if (this.orientation === 'vertical') {\r\n        relPos = this.button.top() - this.top();\r\n    } else {\r\n        relPos = this.button.left() - this.left();\r\n    }\r\n    this.value = Math.round(relPos / this.unitSize() + this.start);\r\n    this.updateTarget();\r\n};\r\n\r\nSliderMorph.prototype.updateTarget = function () {\r\n    if (this.action) {\r\n        if (typeof this.action === 'function') {\r\n            this.action.call(this.target, this.value);\r\n        } else { // assume it's a String\r\n            this.target[this.action](this.value);\r\n        }\r\n    }\r\n};\r\n\r\n// SliderMorph menu:\r\n\r\nSliderMorph.prototype.developersMenu = function () {\r\n    var menu = SliderMorph.uber.developersMenu.call(this);\r\n    menu.addItem(\r\n        \"show value...\",\r\n        'showValue',\r\n        'display a dialog box\\nshowing the selected number'\r\n    );\r\n    menu.addItem(\r\n        \"floor...\",\r\n        function () {\r\n            this.prompt(\r\n                menu.title + '\\nfloor:',\r\n                this.setStart,\r\n                this,\r\n                this.start.toString(),\r\n                null,\r\n                0,\r\n                this.stop - this.size,\r\n                true\r\n            );\r\n        },\r\n        'set the minimum value\\nwhich can be selected'\r\n    );\r\n    menu.addItem(\r\n        \"ceiling...\",\r\n        function () {\r\n            this.prompt(\r\n                menu.title + '\\nceiling:',\r\n                this.setStop,\r\n                this,\r\n                this.stop.toString(),\r\n                null,\r\n                this.start + this.size,\r\n                this.size * 100,\r\n                true\r\n            );\r\n        },\r\n        'set the maximum value\\nwhich can be selected'\r\n    );\r\n    menu.addItem(\r\n        \"button size...\",\r\n        function () {\r\n            this.prompt(\r\n                menu.title + '\\nbutton size:',\r\n                this.setSize,\r\n                this,\r\n                this.size.toString(),\r\n                null,\r\n                1,\r\n                this.stop - this.start,\r\n                true\r\n            );\r\n        },\r\n        'set the range\\ncovered by\\nthe slider button'\r\n    );\r\n    menu.addLine();\r\n    menu.addItem(\r\n        'set target',\r\n        \"setTarget\",\r\n        'select another morph\\nwhose numerical property\\nwill be ' +\r\n            'controlled by this one'\r\n    );\r\n    return menu;\r\n};\r\n\r\nSliderMorph.prototype.showValue = function () {\r\n    this.inform(this.value);\r\n};\r\n\r\nSliderMorph.prototype.userSetStart = function (num) {\r\n    // for context menu demo purposes\r\n    this.start = Math.max(num, this.stop);\r\n};\r\n\r\nSliderMorph.prototype.setStart = function (num, noUpdate) {\r\n    // for context menu demo purposes\r\n    var newStart;\r\n    if (typeof num === 'number') {\r\n        this.start = Math.min(\r\n            num,\r\n            this.stop - this.size\r\n        );\r\n    } else {\r\n        newStart = parseFloat(num);\r\n        if (!isNaN(newStart)) {\r\n            this.start = Math.min(\r\n                newStart,\r\n                this.stop - this.size\r\n            );\r\n        }\r\n    }\r\n    this.value = Math.max(this.value, this.start);\r\n    if (!noUpdate) {this.updateTarget(); }\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nSliderMorph.prototype.setStop = function (num, noUpdate) {\r\n    // for context menu demo purposes\r\n    var newStop;\r\n    if (typeof num === 'number') {\r\n        this.stop = Math.max(num, this.start + this.size);\r\n    } else {\r\n        newStop = parseFloat(num);\r\n        if (!isNaN(newStop)) {\r\n            this.stop = Math.max(newStop, this.start + this.size);\r\n        }\r\n    }\r\n    this.value = Math.min(this.value, this.stop);\r\n    if (!noUpdate) {this.updateTarget(); }\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nSliderMorph.prototype.setSize = function (num, noUpdate) {\r\n    // for context menu demo purposes\r\n    var newSize;\r\n    if (typeof num === 'number') {\r\n        this.size = Math.min(\r\n            Math.max(num, 1),\r\n            this.stop - this.start\r\n        );\r\n    } else {\r\n        newSize = parseFloat(num);\r\n        if (!isNaN(newSize)) {\r\n            this.size = Math.min(\r\n                Math.max(newSize, 1),\r\n                this.stop - this.start\r\n            );\r\n        }\r\n    }\r\n    this.value = Math.min(this.value, this.stop - this.size);\r\n    if (!noUpdate) {this.updateTarget(); }\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nSliderMorph.prototype.setTarget = function () {\r\n    var choices = this.overlappedMorphs(),\r\n        menu = new MenuMorph(this, 'choose target:'),\r\n        myself = this;\r\n\r\n    choices.push(this.world());\r\n    choices.forEach(function (each) {\r\n        menu.addItem(each.toString().slice(0, 50), function () {\r\n            myself.target = each;\r\n            myself.setTargetSetter();\r\n        });\r\n    });\r\n    if (choices.length === 1) {\r\n        this.target = choices[0];\r\n        this.setTargetSetter();\r\n    } else if (choices.length > 0) {\r\n        menu.popUpAtHand(this.world());\r\n    }\r\n};\r\n\r\nSliderMorph.prototype.setTargetSetter = function () {\r\n    var choices = this.target.numericalSetters(),\r\n        menu = new MenuMorph(this, 'choose target property:'),\r\n        myself = this;\r\n\r\n    choices.forEach(function (each) {\r\n        menu.addItem(each, function () {\r\n            myself.action = each;\r\n        });\r\n    });\r\n    if (choices.length === 1) {\r\n        this.action = choices[0];\r\n    } else if (choices.length > 0) {\r\n        menu.popUpAtHand(this.world());\r\n    }\r\n};\r\n\r\nSliderMorph.prototype.numericalSetters = function () {\r\n    // for context menu demo purposes\r\n    var list = SliderMorph.uber.numericalSetters.call(this);\r\n    list.push('setStart', 'setStop', 'setSize');\r\n    return list;\r\n};\r\n\r\n// SliderMorph stepping:\r\n\r\nSliderMorph.prototype.step = null;\r\n\r\nSliderMorph.prototype.mouseDownLeft = function (pos) {\r\n    var world, myself = this;\r\n\r\n    if (!this.button.bounds.containsPoint(pos)) {\r\n        this.offset = new Point(); // return null;\r\n    } else {\r\n        this.offset = pos.subtract(this.button.bounds.origin);\r\n    }\r\n    world = this.root();\r\n    this.step = function () {\r\n        var mousePos, newX, newY;\r\n        if (world.hand.mouseButton) {\r\n            mousePos = world.hand.bounds.origin;\r\n            if (myself.orientation === 'vertical') {\r\n                newX = myself.button.bounds.origin.x;\r\n                newY = Math.max(\r\n                    Math.min(\r\n                        mousePos.y - myself.offset.y,\r\n                        myself.bottom() - myself.button.height()\r\n                    ),\r\n                    myself.top()\r\n                );\r\n            } else {\r\n                newY = myself.button.bounds.origin.y;\r\n                newX = Math.max(\r\n                    Math.min(\r\n                        mousePos.x - myself.offset.x,\r\n                        myself.right() - myself.button.width()\r\n                    ),\r\n                    myself.left()\r\n                );\r\n            }\r\n            myself.button.setPosition(new Point(newX, newY));\r\n            myself.updateValue();\r\n        } else {\r\n            this.step = null;\r\n        }\r\n    };\r\n};\r\n\r\n// MouseSensorMorph ////////////////////////////////////////////////////\r\n\r\n// for demo and debuggin purposes only, to be removed later\r\n\r\nvar MouseSensorMorph;\r\n\r\n// MouseSensorMorph inherits from BoxMorph:\r\n\r\nMouseSensorMorph.prototype = new BoxMorph();\r\nMouseSensorMorph.prototype.constructor = MouseSensorMorph;\r\nMouseSensorMorph.uber = BoxMorph.prototype;\r\n\r\n// MouseSensorMorph instance creation:\r\n\r\nfunction MouseSensorMorph(edge, border, borderColor) {\r\n    this.init(edge, border, borderColor);\r\n}\r\n\r\nMouseSensorMorph.prototype.init = function (edge, border, borderColor) {\r\n    MouseSensorMorph.uber.init.call(this);\r\n    this.edge = edge || 4;\r\n    this.border = border || 2;\r\n    this.color = new Color(255, 255, 255);\r\n    this.borderColor = borderColor || new Color();\r\n    this.isTouched = false;\r\n    this.upStep = 0.05;\r\n    this.downStep = 0.02;\r\n    this.noticesTransparentClick = false;\r\n    this.drawNew();\r\n};\r\n\r\nMouseSensorMorph.prototype.touch = function () {\r\n    var myself = this;\r\n    if (!this.isTouched) {\r\n        this.isTouched = true;\r\n        this.alpha = 0.6;\r\n\r\n        this.step = function () {\r\n            if (myself.isTouched) {\r\n                if (myself.alpha < 1) {\r\n                    myself.alpha = myself.alpha + myself.upStep;\r\n                }\r\n            } else if (myself.alpha > (myself.downStep)) {\r\n                myself.alpha = myself.alpha - myself.downStep;\r\n            } else {\r\n                myself.alpha = 0;\r\n                myself.step = null;\r\n            }\r\n            myself.changed();\r\n        };\r\n    }\r\n};\r\n\r\nMouseSensorMorph.prototype.unTouch = function () {\r\n    this.isTouched = false;\r\n};\r\n\r\nMouseSensorMorph.prototype.mouseEnter = function () {\r\n    this.touch();\r\n};\r\n\r\nMouseSensorMorph.prototype.mouseLeave = function () {\r\n    this.unTouch();\r\n};\r\n\r\nMouseSensorMorph.prototype.mouseDownLeft = function () {\r\n    this.touch();\r\n};\r\n\r\nMouseSensorMorph.prototype.mouseClickLeft = function () {\r\n    this.unTouch();\r\n};\r\n\r\n// InspectorMorph //////////////////////////////////////////////////////\r\n\r\n// InspectorMorph: referenced constructors\r\n\r\nvar ListMorph;\r\nvar TriggerMorph;\r\n\r\n// InspectorMorph inherits from BoxMorph:\r\n\r\nInspectorMorph.prototype = new BoxMorph();\r\nInspectorMorph.prototype.constructor = InspectorMorph;\r\nInspectorMorph.uber = BoxMorph.prototype;\r\n\r\n// InspectorMorph instance creation:\r\n\r\nfunction InspectorMorph(target) {\r\n    this.init(target);\r\n}\r\n\r\nInspectorMorph.prototype.init = function (target) {\r\n    // additional properties:\r\n    this.target = target;\r\n    this.currentProperty = null;\r\n    this.showing = 'attributes';\r\n    this.markOwnProperties = false;\r\n    this.hasUserEditedDetails = false;\r\n\r\n    // initialize inherited properties:\r\n    InspectorMorph.uber.init.call(this);\r\n\r\n    // override inherited properties:\r\n    this.silentSetExtent(\r\n        new Point(\r\n            MorphicPreferences.handleSize * 20,\r\n            MorphicPreferences.handleSize * 20 * 2 / 3\r\n        )\r\n    );\r\n    this.isDraggable = true;\r\n    this.border = 1;\r\n    this.edge = MorphicPreferences.isFlat ? 1 : 5;\r\n    this.color = new Color(60, 60, 60);\r\n    this.borderColor = new Color(95, 95, 95);\r\n    this.fps = 25;\r\n    this.drawNew();\r\n\r\n    // panes:\r\n    this.label = null;\r\n    this.list = null;\r\n    this.detail = null;\r\n    this.work = null;\r\n    this.buttonInspect = null;\r\n    this.buttonClose = null;\r\n    this.buttonSubset = null;\r\n    this.buttonEdit = null;\r\n    this.resizer = null;\r\n\r\n    if (this.target) {\r\n        this.buildPanes();\r\n    }\r\n};\r\n\r\nInspectorMorph.prototype.setTarget = function (target) {\r\n    this.target = target;\r\n    this.currentProperty = null;\r\n    this.buildPanes();\r\n};\r\n\r\nInspectorMorph.prototype.updateCurrentSelection = function () {\r\n    var val, txt, cnts,\r\n        sel = this.list.selected,\r\n        currentTxt = this.detail.contents.children[0],\r\n        root = this.root();\r\n\r\n    if (root &&\r\n            (root.keyboardReceiver instanceof CursorMorph) &&\r\n            (root.keyboardReceiver.target === currentTxt)) {\r\n        this.hasUserEditedDetails = true;\r\n        return;\r\n    }\r\n    if (isNil(sel) || this.hasUserEditedDetails) {return; }\r\n    val = this.target[sel];\r\n    this.currentProperty = val;\r\n    if (isNil(val)) {\r\n        txt = 'NULL';\r\n    } else if (isString(val)) {\r\n        txt = val;\r\n    } else {\r\n        txt = val.toString();\r\n    }\r\n    if (currentTxt.text === txt) {return; }\r\n    cnts = new TextMorph(txt);\r\n    cnts.isEditable = true;\r\n    cnts.enableSelecting();\r\n    cnts.setReceiver(this.target);\r\n    this.detail.setContents(cnts);\r\n};\r\n\r\nInspectorMorph.prototype.buildPanes = function () {\r\n    var attribs = [], property, myself = this, ctrl, ev, doubleClickAction;\r\n\r\n    // remove existing panes\r\n    this.children.forEach(function (m) {\r\n        if (m !== this.work) { // keep work pane around\r\n            m.destroy();\r\n        }\r\n    });\r\n    this.children = [];\r\n\r\n    // label\r\n    this.label = new TextMorph(this.target.toString());\r\n    this.label.fontSize = MorphicPreferences.menuFontSize;\r\n    this.label.isBold = true;\r\n    this.label.color = new Color(255, 255, 255);\r\n    this.label.drawNew();\r\n    this.add(this.label);\r\n\r\n    // properties list\r\n    for (property in this.target) {\r\n        if (property) { // dummy condition, to be refined\r\n            attribs.push(property);\r\n        }\r\n    }\r\n    if (this.showing === 'attributes') {\r\n        attribs = attribs.filter(function (prop) {\r\n            return typeof myself.target[prop] !== 'function';\r\n        });\r\n    } else if (this.showing === 'methods') {\r\n        attribs = attribs.filter(function (prop) {\r\n            return typeof myself.target[prop] === 'function';\r\n        });\r\n    } // otherwise show all properties\r\n\r\n    doubleClickAction = function () {\r\n        var world, inspector;\r\n        if (!isObject(myself.currentProperty)) {return; }\r\n        world = myself.world();\r\n        inspector = new InspectorMorph(\r\n            myself.currentProperty\r\n        );\r\n        inspector.setPosition(world.hand.position());\r\n        inspector.keepWithin(world);\r\n        world.add(inspector);\r\n        inspector.changed();\r\n    };\r\n\r\n    this.list = new ListMorph(\r\n        this.target instanceof Array ? attribs : attribs.sort(),\r\n        null, // label getter\r\n        this.markOwnProperties ?\r\n                [ // format list\r\n                    [ // format element: [color, predicate(element]\r\n                        new Color(0, 0, 180),\r\n                        function (element) {\r\n                            return Object.prototype.hasOwnProperty.call(\r\n                                myself.target,\r\n                                element\r\n                            );\r\n                        }\r\n                    ]\r\n                ]\r\n                : null,\r\n        doubleClickAction\r\n    );\r\n\r\n    this.list.action = function () {\r\n        myself.hasUserEditedDetails = false;\r\n        myself.updateCurrentSelection();\r\n    };\r\n\r\n    this.list.hBar.alpha = 0.6;\r\n    this.list.vBar.alpha = 0.6;\r\n    this.list.contents.step = null;\r\n    this.add(this.list);\r\n\r\n    // details pane\r\n    this.detail = new ScrollFrameMorph();\r\n    this.detail.acceptsDrops = false;\r\n    this.detail.contents.acceptsDrops = false;\r\n    this.detail.isTextLineWrapping = true;\r\n    this.detail.color = new Color(255, 255, 255);\r\n    this.detail.hBar.alpha = 0.6;\r\n    this.detail.vBar.alpha = 0.6;\r\n    ctrl = new TextMorph('');\r\n    ctrl.isEditable = true;\r\n    ctrl.enableSelecting();\r\n    ctrl.setReceiver(this.target);\r\n    this.detail.setContents(ctrl);\r\n    this.add(this.detail);\r\n\r\n    // work ('evaluation') pane\r\n    // don't refresh the work pane if it already exists\r\n    if (this.work === null) {\r\n        this.work = new ScrollFrameMorph();\r\n        this.work.acceptsDrops = false;\r\n        this.work.contents.acceptsDrops = false;\r\n        this.work.isTextLineWrapping = true;\r\n        this.work.color = new Color(255, 255, 255);\r\n        this.work.hBar.alpha = 0.6;\r\n        this.work.vBar.alpha = 0.6;\r\n        ev = new TextMorph('');\r\n        ev.isEditable = true;\r\n        ev.enableSelecting();\r\n        ev.setReceiver(this.target);\r\n        this.work.setContents(ev);\r\n    }\r\n    this.add(this.work);\r\n\r\n    // properties button\r\n    this.buttonSubset = new TriggerMorph();\r\n    this.buttonSubset.labelString = 'show...';\r\n    this.buttonSubset.action = function () {\r\n        var menu;\r\n        menu = new MenuMorph();\r\n        menu.addItem(\r\n            'attributes',\r\n            function () {\r\n                myself.showing = 'attributes';\r\n                myself.buildPanes();\r\n            }\r\n        );\r\n        menu.addItem(\r\n            'methods',\r\n            function () {\r\n                myself.showing = 'methods';\r\n                myself.buildPanes();\r\n            }\r\n        );\r\n        menu.addItem(\r\n            'all',\r\n            function () {\r\n                myself.showing = 'all';\r\n                myself.buildPanes();\r\n            }\r\n        );\r\n        menu.addLine();\r\n        menu.addItem(\r\n            (myself.markOwnProperties ?\r\n                    'un-mark own' : 'mark own'),\r\n            function () {\r\n                myself.markOwnProperties = !myself.markOwnProperties;\r\n                myself.buildPanes();\r\n            },\r\n            'highlight\\n\\'own\\' properties'\r\n        );\r\n        menu.popUpAtHand(myself.world());\r\n    };\r\n    this.add(this.buttonSubset);\r\n\r\n    // inspect button\r\n    this.buttonInspect = new TriggerMorph();\r\n    this.buttonInspect.labelString = 'inspect...';\r\n    this.buttonInspect.action = function () {\r\n        var menu, world, inspector;\r\n        if (isObject(myself.currentProperty)) {\r\n            menu = new MenuMorph();\r\n            menu.addItem(\r\n                'in new inspector...',\r\n                function () {\r\n                    world = myself.world();\r\n                    inspector = new InspectorMorph(\r\n                        myself.currentProperty\r\n                    );\r\n                    inspector.setPosition(world.hand.position());\r\n                    inspector.keepWithin(world);\r\n                    world.add(inspector);\r\n                    inspector.changed();\r\n                }\r\n            );\r\n            menu.addItem(\r\n                'here...',\r\n                function () {\r\n                    myself.setTarget(myself.currentProperty);\r\n                }\r\n            );\r\n            menu.popUpAtHand(myself.world());\r\n        } else {\r\n            myself.inform(\r\n                (myself.currentProperty === null ?\r\n                        'null' : typeof myself.currentProperty) +\r\n                            '\\nis not inspectable'\r\n            );\r\n        }\r\n    };\r\n    this.add(this.buttonInspect);\r\n\r\n    // edit button\r\n\r\n    this.buttonEdit = new TriggerMorph();\r\n    this.buttonEdit.labelString = 'edit...';\r\n    this.buttonEdit.action = function () {\r\n        var menu;\r\n        menu = new MenuMorph(myself);\r\n        menu.addItem(\"save\", 'save', 'accept changes');\r\n        menu.addLine();\r\n        menu.addItem(\"add property...\", 'addProperty');\r\n        menu.addItem(\"rename...\", 'renameProperty');\r\n        menu.addItem(\"remove...\", 'removeProperty');\r\n        menu.popUpAtHand(myself.world());\r\n    };\r\n    this.add(this.buttonEdit);\r\n\r\n    // close button\r\n    this.buttonClose = new TriggerMorph();\r\n    this.buttonClose.labelString = 'close';\r\n    this.buttonClose.action = function () {\r\n        myself.destroy();\r\n    };\r\n    this.add(this.buttonClose);\r\n\r\n    // resizer\r\n    this.resizer = new HandleMorph(\r\n        this,\r\n        150,\r\n        100,\r\n        this.edge,\r\n        this.edge\r\n    );\r\n\r\n    // update layout\r\n    this.fixLayout();\r\n};\r\n\r\nInspectorMorph.prototype.fixLayout = function () {\r\n    var x, y, r, b, w, h;\r\n\r\n    Morph.prototype.trackChanges = false;\r\n\r\n    // label\r\n    x = this.left() + this.edge;\r\n    y = this.top() + this.edge;\r\n    r = this.right() - this.edge;\r\n    w = r - x;\r\n    this.label.setPosition(new Point(x, y));\r\n    this.label.setWidth(w);\r\n    if (this.label.height() > (this.height() - 50)) {\r\n        this.silentSetHeight(this.label.height() + 50);\r\n        this.drawNew();\r\n        this.changed();\r\n        this.resizer.drawNew();\r\n    }\r\n\r\n    // list\r\n    y = this.label.bottom() + 2;\r\n    w = Math.min(\r\n        Math.floor(this.width() / 3),\r\n        this.list.listContents.width()\r\n    );\r\n\r\n    w -= this.edge;\r\n    b = this.bottom() - (2 * this.edge) -\r\n        MorphicPreferences.handleSize;\r\n    h = b - y;\r\n    this.list.setPosition(new Point(x, y));\r\n    this.list.setExtent(new Point(w, h));\r\n\r\n    // detail\r\n    x = this.list.right() + this.edge;\r\n    r = this.right() - this.edge;\r\n    w = r - x;\r\n    this.detail.setPosition(new Point(x, y));\r\n    this.detail.setExtent(new Point(w, (h * 2 / 3) - this.edge));\r\n\r\n    // work\r\n    y = this.detail.bottom() + this.edge;\r\n    this.work.setPosition(new Point(x, y));\r\n    this.work.setExtent(new Point(w, h / 3));\r\n\r\n    // properties button\r\n    x = this.list.left();\r\n    y = this.list.bottom() + this.edge;\r\n    w = this.list.width();\r\n    h = MorphicPreferences.handleSize;\r\n    this.buttonSubset.setPosition(new Point(x, y));\r\n    this.buttonSubset.setExtent(new Point(w, h));\r\n\r\n    // inspect button\r\n    x = this.detail.left();\r\n    w = this.detail.width() - this.edge -\r\n        MorphicPreferences.handleSize;\r\n    w = w / 3 - this.edge / 3;\r\n    this.buttonInspect.setPosition(new Point(x, y));\r\n    this.buttonInspect.setExtent(new Point(w, h));\r\n\r\n    // edit button\r\n    x = this.buttonInspect.right() + this.edge;\r\n    this.buttonEdit.setPosition(new Point(x, y));\r\n    this.buttonEdit.setExtent(new Point(w, h));\r\n\r\n    // close button\r\n    x = this.buttonEdit.right() + this.edge;\r\n    r = this.detail.right() - this.edge -\r\n        MorphicPreferences.handleSize;\r\n    w = r - x;\r\n    this.buttonClose.setPosition(new Point(x, y));\r\n    this.buttonClose.setExtent(new Point(w, h));\r\n\r\n    Morph.prototype.trackChanges = true;\r\n    this.changed();\r\n\r\n};\r\n\r\nInspectorMorph.prototype.setExtent = function (aPoint) {\r\n    InspectorMorph.uber.setExtent.call(this, aPoint);\r\n    this.fixLayout();\r\n};\r\n\r\n// InspectorMorph editing ops:\r\n\r\nInspectorMorph.prototype.save = function () {\r\n    var txt = this.detail.contents.children[0].text.toString(),\r\n        prop = this.list.selected;\r\n    try {\r\n        // this.target[prop] = evaluate(txt);\r\n        this.target.evaluateString('this.' + prop + ' = ' + txt);\r\n        this.hasUserEditedDetails = false;\r\n        if (this.target.drawNew) {\r\n            this.target.changed();\r\n            this.target.drawNew();\r\n            this.target.changed();\r\n        }\r\n    } catch (err) {\r\n        this.inform(err);\r\n    }\r\n};\r\n\r\nInspectorMorph.prototype.addProperty = function () {\r\n    var myself = this;\r\n    this.prompt(\r\n        'new property name:',\r\n        function (prop) {\r\n            if (prop) {\r\n                myself.target[prop] = null;\r\n                myself.buildPanes();\r\n                if (myself.target.drawNew) {\r\n                    myself.target.changed();\r\n                    myself.target.drawNew();\r\n                    myself.target.changed();\r\n                }\r\n            }\r\n        },\r\n        this,\r\n        'property' // Chrome cannot handle empty strings (others do)\r\n    );\r\n};\r\n\r\nInspectorMorph.prototype.renameProperty = function () {\r\n    var myself = this,\r\n        propertyName = this.list.selected;\r\n    this.prompt(\r\n        'property name:',\r\n        function (prop) {\r\n            try {\r\n                delete (myself.target[propertyName]);\r\n                myself.target[prop] = myself.currentProperty;\r\n            } catch (err) {\r\n                myself.inform(err);\r\n            }\r\n            myself.buildPanes();\r\n            if (myself.target.drawNew) {\r\n                myself.target.changed();\r\n                myself.target.drawNew();\r\n                myself.target.changed();\r\n            }\r\n        },\r\n        this,\r\n        propertyName\r\n    );\r\n};\r\n\r\nInspectorMorph.prototype.removeProperty = function () {\r\n    var prop = this.list.selected;\r\n    try {\r\n        delete (this.target[prop]);\r\n        this.currentProperty = null;\r\n        this.buildPanes();\r\n        if (this.target.drawNew) {\r\n            this.target.changed();\r\n            this.target.drawNew();\r\n            this.target.changed();\r\n        }\r\n    } catch (err) {\r\n        this.inform(err);\r\n    }\r\n};\r\n\r\n// InspectorMorph stepping\r\n\r\nInspectorMorph.prototype.step = function () {\r\n    this.updateCurrentSelection();\r\n    var lbl = this.target.toString();\r\n    if (this.label.text === lbl) {return; }\r\n    this.label.text = lbl;\r\n    this.label.drawNew();\r\n    this.fixLayout();\r\n};\r\n\r\n// InspectorMorph duplicating:\r\n\r\nInspectorMorph.prototype.updateReferences = function (map) {\r\n    var active = this.list.activeIndex();\r\n    InspectorMorph.uber.updateReferences.call(this, map);\r\n    this.buildPanes();\r\n    this.list.activateIndex(active);\r\n};\r\n\r\n// MenuMorph ///////////////////////////////////////////////////////////\r\n\r\n// MenuMorph: referenced constructors\r\n\r\nvar MenuItemMorph;\r\n\r\n// MenuMorph inherits from BoxMorph:\r\n\r\nMenuMorph.prototype = new BoxMorph();\r\nMenuMorph.prototype.constructor = MenuMorph;\r\nMenuMorph.uber = BoxMorph.prototype;\r\n\r\n// MenuMorph instance creation:\r\n\r\nfunction MenuMorph(target, title, environment, fontSize) {\r\n    this.init(target, title, environment, fontSize);\r\n\r\n    /*\r\n    if target is a function, use it as callback:\r\n    execute target as callback function with the action property\r\n    of the triggered MenuItem as argument.\r\n    Use the environment, if it is specified.\r\n    Note: if action is also a function, instead of becoming\r\n    the argument itself it will be called to answer the argument.\r\n    For selections, Yes/No Choices etc.\r\n\r\n    else (if target is not a function):\r\n\r\n        if action is a function:\r\n        execute the action with target as environment (can be null)\r\n        for lambdafied (inline) actions\r\n\r\n        else if action is a String:\r\n        treat it as function property of target and execute it\r\n        for selector-like actions\r\n    */\r\n}\r\n\r\nMenuMorph.prototype.init = function (target, title, environment, fontSize) {\r\n    // additional properties:\r\n    this.target = target;\r\n    this.title = title || null;\r\n    this.environment = environment || null;\r\n    this.fontSize = fontSize || null;\r\n    this.items = [];\r\n    this.label = null;\r\n    this.world = null;\r\n    this.isListContents = false;\r\n    this.hasFocus = false;\r\n    this.selection = null;\r\n    this.submenu = null;\r\n\r\n    // initialize inherited properties:\r\n    MenuMorph.uber.init.call(this);\r\n\r\n    // override inherited properties:\r\n    this.isDraggable = false;\r\n\r\n    // immutable properties:\r\n    this.border = null;\r\n    this.edge = null;\r\n};\r\n\r\nMenuMorph.prototype.addItem = function (\r\n    labelString,\r\n    action,\r\n    hint,\r\n    color,\r\n    bold, // bool\r\n    italic, // bool\r\n    doubleClickAction, // optional, when used as list contents\r\n    shortcut // optional string, icon (Morph or Canvas) or tuple [icon, string]\r\n) {\r\n    /*\r\n    labelString is normally a single-line string. But it can also be one\r\n    of the following:\r\n\r\n        * a multi-line string (containing line breaks)\r\n        * an icon (either a Morph or a Canvas)\r\n        * a tuple of format: [icon, string]\r\n    */\r\n    this.items.push([\r\n        localize(labelString || 'close'),\r\n        action || nop,\r\n        hint,\r\n        color,\r\n        bold || false,\r\n        italic || false,\r\n        doubleClickAction,\r\n        shortcut]);\r\n};\r\n\r\nMenuMorph.prototype.addMenu = function (label, aMenu, indicator) {\r\n    this.addPair(label, aMenu, isNil(indicator) ? '\\u25ba' : indicator);\r\n};\r\n\r\nMenuMorph.prototype.addPair = function (label, action, shortcut, hint) {\r\n    this.addItem(label, action, hint, null, null, null, null, shortcut);\r\n};\r\n\r\nMenuMorph.prototype.addLine = function (width) {\r\n    this.items.push([0, width || 1]);\r\n};\r\n\r\nMenuMorph.prototype.createLabel = function () {\r\n    var text;\r\n    if (this.label !== null) {\r\n        this.label.destroy();\r\n    }\r\n    text = new TextMorph(\r\n        localize(this.title),\r\n        this.fontSize || MorphicPreferences.menuFontSize,\r\n        MorphicPreferences.menuFontName,\r\n        true,\r\n        false,\r\n        'center'\r\n    );\r\n    text.alignment = 'center';\r\n    text.color = new Color(255, 255, 255);\r\n    text.backgroundColor = this.borderColor;\r\n    text.drawNew();\r\n    this.label = new BoxMorph(3, 0);\r\n    if (MorphicPreferences.isFlat) {\r\n        this.label.edge = 0;\r\n    }\r\n    this.label.color = this.borderColor;\r\n    this.label.borderColor = this.borderColor;\r\n    this.label.setExtent(text.extent().add(4));\r\n    this.label.drawNew();\r\n    this.label.add(text);\r\n    this.label.text = text;\r\n};\r\n\r\nMenuMorph.prototype.drawNew = function () {\r\n    var myself = this,\r\n        item,\r\n        fb,\r\n        x,\r\n        y,\r\n        isLine = false;\r\n\r\n    this.children.forEach(function (m) {\r\n        m.destroy();\r\n    });\r\n    this.children = [];\r\n    if (!this.isListContents) {\r\n        this.edge = MorphicPreferences.isFlat ? 0 : 5;\r\n        this.border = MorphicPreferences.isFlat ? 1 : 2;\r\n    }\r\n    this.color = new Color(255, 255, 255);\r\n    this.borderColor = new Color(60, 60, 60);\r\n    this.silentSetExtent(new Point(0, 0));\r\n\r\n    y = 2;\r\n    x = this.left() + 4;\r\n    if (!this.isListContents) {\r\n        if (this.title) {\r\n            this.createLabel();\r\n            this.label.setPosition(this.bounds.origin.add(4));\r\n            this.add(this.label);\r\n            y = this.label.bottom();\r\n        } else {\r\n            y = this.top() + 4;\r\n        }\r\n    }\r\n    y += 1;\r\n    this.items.forEach(function (tuple) {\r\n        isLine = false;\r\n        if (tuple instanceof StringFieldMorph ||\r\n                tuple instanceof ColorPickerMorph ||\r\n                tuple instanceof SliderMorph) {\r\n            item = tuple;\r\n        } else if (tuple[0] === 0) {\r\n            isLine = true;\r\n            item = new Morph();\r\n            item.color = myself.borderColor;\r\n            item.setHeight(tuple[1]);\r\n        } else {\r\n            item = new MenuItemMorph(\r\n                myself.target,\r\n                tuple[1],\r\n                tuple[0],\r\n                myself.fontSize || MorphicPreferences.menuFontSize,\r\n                MorphicPreferences.menuFontName,\r\n                myself.environment,\r\n                tuple[2], // bubble help hint\r\n                tuple[3], // color\r\n                tuple[4], // bold\r\n                tuple[5], // italic\r\n                tuple[6], // doubleclick action\r\n                tuple[7] // shortcut\r\n            );\r\n        }\r\n        if (isLine) {\r\n            y += 1;\r\n        }\r\n        item.setPosition(new Point(x, y));\r\n        myself.add(item);\r\n        y = y + item.height();\r\n        if (isLine) {\r\n            y += 1;\r\n        }\r\n    });\r\n\r\n    fb = this.fullBounds();\r\n    this.silentSetExtent(fb.extent().add(4));\r\n    this.adjustWidths();\r\n    MenuMorph.uber.drawNew.call(this);\r\n};\r\n\r\nMenuMorph.prototype.maxWidth = function () {\r\n    var w = 0;\r\n\r\n    if (this.parent instanceof FrameMorph) {\r\n        if (this.parent.scrollFrame instanceof ScrollFrameMorph) {\r\n            w = this.parent.scrollFrame.width();\r\n        }\r\n    }\r\n    this.children.forEach(function (item) {\r\n        if (item instanceof MenuItemMorph) {\r\n            w = Math.max(\r\n                w,\r\n                item.label.width() + 8 +\r\n                    (item.shortcut ? item.shortcut.width() + 4 : 0)\r\n            );\r\n        } else if ((item instanceof StringFieldMorph) ||\r\n                (item instanceof ColorPickerMorph) ||\r\n                (item instanceof SliderMorph)) {\r\n            w = Math.max(w, item.width());\r\n        }\r\n    });\r\n    if (this.label) {\r\n        w = Math.max(w, this.label.width());\r\n    }\r\n    return w;\r\n};\r\n\r\nMenuMorph.prototype.adjustWidths = function () {\r\n    var w = this.maxWidth(),\r\n        isSelected,\r\n        myself = this;\r\n    this.children.forEach(function (item) {\r\n        item.silentSetWidth(w);\r\n        if (item instanceof MenuItemMorph) {\r\n            item.fixLayout();\r\n            isSelected = (item.image === item.pressImage);\r\n            item.createBackgrounds();\r\n            if (isSelected) {\r\n                item.image = item.pressImage;\r\n            }\r\n        } else {\r\n            item.drawNew();\r\n            if (item === myself.label) {\r\n                item.text.setPosition(\r\n                    item.center().subtract(\r\n                        item.text.extent().floorDivideBy(2)\r\n                    )\r\n                );\r\n            }\r\n        }\r\n    });\r\n};\r\n\r\nMenuMorph.prototype.unselectAllItems = function () {\r\n    this.children.forEach(function (item) {\r\n        if (item instanceof MenuItemMorph) {\r\n            item.image = item.normalImage;\r\n        }\r\n    });\r\n    this.changed();\r\n};\r\n\r\nMenuMorph.prototype.popup = function (world, pos) {\r\n    this.drawNew();\r\n    this.setPosition(pos);\r\n    this.addShadow(new Point(2, 2), 80);\r\n    this.keepWithin(world);\r\n    if (world.activeMenu) {\r\n        world.activeMenu.destroy();\r\n    }\r\n    if (this.items.length < 1 && !this.title) { // don't show empty menus\r\n        return;\r\n    }\r\n    world.add(this);\r\n    world.activeMenu = this;\r\n    this.world = world; // optionally enable keyboard support\r\n    this.fullChanged();\r\n};\r\n\r\nMenuMorph.prototype.popUpAtHand = function (world) {\r\n    var wrrld = world || this.world;\r\n    this.popup(wrrld, wrrld.hand.position());\r\n};\r\n\r\nMenuMorph.prototype.popUpCenteredAtHand = function (world) {\r\n    var wrrld = world || this.world;\r\n    this.drawNew();\r\n    this.popup(\r\n        wrrld,\r\n        wrrld.hand.position().subtract(\r\n            this.extent().floorDivideBy(2)\r\n        )\r\n    );\r\n};\r\n\r\nMenuMorph.prototype.popUpCenteredInWorld = function (world) {\r\n    var wrrld = world || this.world;\r\n    this.drawNew();\r\n    this.popup(\r\n        wrrld,\r\n        wrrld.center().subtract(\r\n            this.extent().floorDivideBy(2)\r\n        )\r\n    );\r\n};\r\n\r\n// MenuMorph submenus\r\n\r\nMenuMorph.prototype.closeRootMenu = function () {\r\n    if (this.parent instanceof MenuMorph) {\r\n        this.parent.closeRootMenu();\r\n    } else {\r\n        this.destroy();\r\n    }\r\n};\r\n\r\nMenuMorph.prototype.closeSubmenu = function () {\r\n    if (this.submenu) {\r\n        this.submenu.destroy();\r\n        this.submenu = null;\r\n        this.unselectAllItems();\r\n    }\r\n};\r\n\r\n// MenuMorph keyboard accessibility\r\n\r\nMenuMorph.prototype.getFocus = function () {\r\n    this.world.keyboardReceiver = this;\r\n    this.selection = null;\r\n    this.selectFirst();\r\n    this.hasFocus = true;\r\n};\r\n\r\nMenuMorph.prototype.processKeyDown = function (event) {\r\n    switch (event.keyCode) {\r\n    case 13: // 'enter'\r\n    case 32: // 'space'\r\n        if (this.selection) {\r\n            this.selection.mouseClickLeft();\r\n            if (this.submenu) {\r\n                this.submenu.getFocus();\r\n            }\r\n        }\r\n        return;\r\n    case 27: // 'esc'\r\n        return this.destroy();\r\n    case 37: // 'left arrow'\r\n        return this.leaveSubmenu();\r\n    case 38: // 'up arrow'\r\n        return this.selectUp();\r\n    case 39: // 'right arrow'\r\n        return this.enterSubmenu();\r\n    case 40: // 'down arrow'\r\n        return this.selectDown();\r\n    default:\r\n        nop();\r\n    }\r\n};\r\n\r\nMenuMorph.prototype.processKeyUp = function (event) {\r\n    nop(event);\r\n};\r\n\r\nMenuMorph.prototype.processKeyPress = function (event) {\r\n    nop(event);\r\n};\r\n\r\nMenuMorph.prototype.selectFirst = function () {\r\n    var i;\r\n    for (i = 0; i < this.children.length; i += 1) {\r\n        if (this.children[i] instanceof MenuItemMorph) {\r\n            this.select(this.children[i]);\r\n            return;\r\n        }\r\n    }\r\n};\r\n\r\nMenuMorph.prototype.selectUp = function () {\r\n    var triggers, idx;\r\n\r\n    triggers = this.children.filter(function (each) {\r\n        return each instanceof MenuItemMorph;\r\n    });\r\n    if (!this.selection) {\r\n        if (triggers.length) {\r\n            this.select(triggers[0]);\r\n        }\r\n        return;\r\n    }\r\n    idx = triggers.indexOf(this.selection) - 1;\r\n    if (idx < 0) {\r\n        idx = triggers.length - 1;\r\n    }\r\n    this.select(triggers[idx]);\r\n};\r\n\r\nMenuMorph.prototype.selectDown = function () {\r\n    var triggers, idx;\r\n\r\n    triggers = this.children.filter(function (each) {\r\n        return each instanceof MenuItemMorph;\r\n    });\r\n    if (!this.selection) {\r\n        if (triggers.length) {\r\n            this.select(triggers[0]);\r\n        }\r\n        return;\r\n    }\r\n    idx = triggers.indexOf(this.selection) + 1;\r\n    if (idx >= triggers.length) {\r\n        idx = 0;\r\n    }\r\n    this.select(triggers[idx]);\r\n};\r\n\r\nMenuMorph.prototype.enterSubmenu = function () {\r\n    if (this.selection && this.selection.action instanceof MenuMorph) {\r\n        this.selection.popUpSubmenu();\r\n        if (this.submenu) {\r\n            this.submenu.getFocus();\r\n        }\r\n    }\r\n};\r\n\r\nMenuMorph.prototype.leaveSubmenu = function () {\r\n    var menu = this.parent;\r\n    if (this.parent instanceof MenuMorph) {\r\n        menu.submenu = null;\r\n        menu.hasFocus = true;\r\n        this.destroy();\r\n        menu.world.keyboardReceiver = menu;\r\n    }\r\n};\r\n\r\nMenuMorph.prototype.select = function (aMenuItem) {\r\n    this.unselectAllItems();\r\n    aMenuItem.image = aMenuItem.highlightImage;\r\n    aMenuItem.changed();\r\n    this.selection = aMenuItem;\r\n};\r\n\r\nMenuMorph.prototype.destroy = function () {\r\n    if (this.hasFocus) {\r\n        this.world.keyboardReceiver = null;\r\n    }\r\n    MenuMorph.uber.destroy.call(this);\r\n};\r\n\r\n// StringMorph /////////////////////////////////////////////////////////\r\n\r\n// I am a single line of text\r\n\r\n// StringMorph inherits from Morph:\r\n\r\nStringMorph.prototype = new Morph();\r\nStringMorph.prototype.constructor = StringMorph;\r\nStringMorph.uber = Morph.prototype;\r\n\r\n// StringMorph instance creation:\r\n\r\nfunction StringMorph(\r\n    text,\r\n    fontSize,\r\n    fontStyle,\r\n    bold,\r\n    italic,\r\n    isNumeric,\r\n    shadowOffset,\r\n    shadowColor,\r\n    color,\r\n    fontName\r\n) {\r\n    this.init(\r\n        text,\r\n        fontSize,\r\n        fontStyle,\r\n        bold,\r\n        italic,\r\n        isNumeric,\r\n        shadowOffset,\r\n        shadowColor,\r\n        color,\r\n        fontName\r\n    );\r\n}\r\n\r\nStringMorph.prototype.init = function (\r\n    text,\r\n    fontSize,\r\n    fontStyle,\r\n    bold,\r\n    italic,\r\n    isNumeric,\r\n    shadowOffset,\r\n    shadowColor,\r\n    color,\r\n    fontName\r\n) {\r\n    // additional properties:\r\n    this.text = text || ((text === '') ? '' : 'StringMorph');\r\n    this.fontSize = fontSize || 12;\r\n    this.fontName = fontName || MorphicPreferences.globalFontFamily;\r\n    this.fontStyle = fontStyle || 'sans-serif';\r\n    this.isBold = bold || false;\r\n    this.isItalic = italic || false;\r\n    this.isEditable = false;\r\n    this.isNumeric = isNumeric || false;\r\n    this.isPassword = false;\r\n    this.shadowOffset = shadowOffset || new Point(0, 0);\r\n    this.shadowColor = shadowColor || null;\r\n    this.isShowingBlanks = false;\r\n    this.blanksColor = new Color(180, 140, 140);\r\n\r\n    // additional properties for text-editing:\r\n    this.isScrollable = true; // scrolls into view when edited\r\n    this.currentlySelecting = false;\r\n    this.startMark = 0;\r\n    this.endMark = 0;\r\n    this.markedTextColor = new Color(255, 255, 255);\r\n    this.markedBackgoundColor = new Color(60, 60, 120);\r\n\r\n    // initialize inherited properties:\r\n    StringMorph.uber.init.call(this, true);\r\n\r\n    // override inherited properites:\r\n    this.color = color || new Color(0, 0, 0);\r\n    this.noticesTransparentClick = true;\r\n    this.drawNew();\r\n};\r\n\r\nStringMorph.prototype.toString = function () {\r\n    // e.g. 'a StringMorph(\"Hello World\")'\r\n    return 'a ' +\r\n        (this.constructor.name ||\r\n            this.constructor.toString().split(' ')[1].split('(')[0]) +\r\n        '(\"' + this.text.slice(0, 30) + '...\")';\r\n};\r\n\r\nStringMorph.prototype.password = function (letter, length) {\r\n    var ans = '',\r\n        i;\r\n    for (i = 0; i < length; i += 1) {\r\n        ans += letter;\r\n    }\r\n    return ans;\r\n};\r\n\r\nStringMorph.prototype.font = function () {\r\n    // answer a font string, e.g. 'bold italic 12px sans-serif'\r\n    var font = '';\r\n    if (this.isBold) {\r\n        font = font + 'bold ';\r\n    }\r\n    if (this.isItalic) {\r\n        font = font + 'italic ';\r\n    }\r\n    return font +\r\n        this.fontSize + 'px ' +\r\n        (this.fontName ? this.fontName + ', ' : '') +\r\n        this.fontStyle;\r\n};\r\n\r\nStringMorph.prototype.drawNew = function () {\r\n    var context, width, start, stop, i, p, c, x, y,\r\n        shadowOffset = this.shadowOffset || new Point(),\r\n        txt = this.isPassword ?\r\n                this.password('*', this.text.length) : this.text;\r\n\r\n    // initialize my surface property\r\n    this.image = newCanvas();\r\n    context = this.image.getContext('2d');\r\n    context.font = this.font();\r\n\r\n    // set my extent\r\n    width = Math.max(\r\n        context.measureText(txt).width + Math.abs(shadowOffset.x),\r\n        1\r\n    );\r\n    this.bounds.corner = this.bounds.origin.add(\r\n        new Point(\r\n            width,\r\n            fontHeight(this.fontSize) + Math.abs(shadowOffset.y)\r\n        )\r\n    );\r\n    this.image.width = width;\r\n    this.image.height = this.height();\r\n\r\n    // prepare context for drawing text\r\n    context.font = this.font();\r\n    context.textAlign = 'left';\r\n    context.textBaseline = 'bottom';\r\n\r\n    // first draw the shadow, if any\r\n    if (this.shadowColor) {\r\n        x = Math.max(shadowOffset.x, 0);\r\n        y = Math.max(shadowOffset.y, 0);\r\n        context.fillStyle = this.shadowColor.toString();\r\n        context.fillText(txt, x, fontHeight(this.fontSize) + y);\r\n    }\r\n\r\n    // now draw the actual text\r\n    x = Math.abs(Math.min(shadowOffset.x, 0));\r\n    y = Math.abs(Math.min(shadowOffset.y, 0));\r\n    context.fillStyle = this.color.toString();\r\n\r\n    if (this.isShowingBlanks) {\r\n        this.renderWithBlanks(context, x, fontHeight(this.fontSize) + y);\r\n    } else {\r\n        context.fillText(txt, x, fontHeight(this.fontSize) + y);\r\n    }\r\n\r\n    // draw the selection\r\n    start = Math.min(this.startMark, this.endMark);\r\n    stop = Math.max(this.startMark, this.endMark);\r\n    for (i = start; i < stop; i += 1) {\r\n        p = this.slotPosition(i).subtract(this.position());\r\n        c = txt.charAt(i);\r\n        context.fillStyle = this.markedBackgoundColor.toString();\r\n        context.fillRect(p.x, p.y, context.measureText(c).width + 1 + x,\r\n            fontHeight(this.fontSize) + y);\r\n        context.fillStyle = this.markedTextColor.toString();\r\n        context.fillText(c, p.x + x, fontHeight(this.fontSize) + y);\r\n    }\r\n\r\n    // notify my parent of layout change\r\n    if (this.parent) {\r\n        if (this.parent.fixLayout) {\r\n            this.parent.fixLayout();\r\n        }\r\n    }\r\n};\r\n\r\nStringMorph.prototype.renderWithBlanks = function (context, startX, y) {\r\n    var space = context.measureText(' ').width,\r\n        blank = newCanvas(new Point(space, this.height())),\r\n        ctx = blank.getContext('2d'),\r\n        words = this.text.split(' '),\r\n        x = startX || 0,\r\n        isFirst = true;\r\n\r\n    // create the blank form\r\n    ctx.fillStyle = this.blanksColor.toString();\r\n    ctx.arc(\r\n        space / 2,\r\n        blank.height / 2,\r\n        space / 2,\r\n        radians(0),\r\n        radians(360)\r\n    );\r\n    ctx.fill();\r\n\r\n    function drawBlank() {\r\n        context.drawImage(blank, x, 0);\r\n        x += space;\r\n    }\r\n\r\n    // render my text inserting blanks\r\n    words.forEach(function (word) {\r\n        if (!isFirst) {\r\n            drawBlank();\r\n        }\r\n        isFirst = false;\r\n        if (word !== '') {\r\n            context.fillText(word, x, y);\r\n            x += context.measureText(word).width;\r\n        }\r\n    });\r\n};\r\n\r\n// StringMorph measuring:\r\n\r\nStringMorph.prototype.slotPosition = function (slot) {\r\n    // answer the position point of the given index (\"slot\")\r\n    // where the cursor should be placed\r\n    var txt = this.isPassword ?\r\n                this.password('*', this.text.length) : this.text,\r\n        dest = Math.min(Math.max(slot, 0), txt.length),\r\n        context = this.image.getContext('2d'),\r\n        xOffset,\r\n        x,\r\n        y,\r\n        idx;\r\n\r\n    xOffset = 0;\r\n    for (idx = 0; idx < dest; idx += 1) {\r\n        xOffset += context.measureText(txt[idx]).width;\r\n    }\r\n    this.pos = dest;\r\n    x = this.left() + xOffset;\r\n    y = this.top();\r\n    return new Point(x, y);\r\n};\r\n\r\nStringMorph.prototype.slotAt = function (aPoint) {\r\n    // answer the slot (index) closest to the given point taking\r\n    // in account how far from the middle of the character it is,\r\n    // so the cursor can be moved accordingly\r\n\r\n    var txt = this.isPassword ?\r\n                this.password('*', this.text.length) : this.text,\r\n        idx = 0,\r\n        charX = 0,\r\n        context = this.image.getContext('2d');\r\n\r\n    while (aPoint.x - this.left() > charX) {\r\n        charX += context.measureText(txt[idx]).width;\r\n        idx += 1;\r\n        if (idx === txt.length) {\r\n            if ((context.measureText(txt).width -\r\n                    (context.measureText(txt[idx - 1]).width / 2)) <\r\n                    (aPoint.x - this.left())) {\r\n                return idx;\r\n            }\r\n        }\r\n    }\r\n\r\n    // see where our click fell with respect to the middle of the char\r\n    if (aPoint.x - this.left() >\r\n            charX - context.measureText(txt[idx - 1]).width / 2) {\r\n        return idx;\r\n    } else {\r\n        return idx - 1;\r\n    }\r\n};\r\n\r\nStringMorph.prototype.upFrom = function (slot) {\r\n    // answer the slot above the given one\r\n    return slot;\r\n};\r\n\r\nStringMorph.prototype.downFrom = function (slot) {\r\n    // answer the slot below the given one\r\n    return slot;\r\n};\r\n\r\nStringMorph.prototype.startOfLine = function () {\r\n    // answer the first slot (index) of the line for the given slot\r\n    return 0;\r\n};\r\n\r\nStringMorph.prototype.endOfLine = function () {\r\n    // answer the slot (index) indicating the EOL for the given slot\r\n    return this.text.length;\r\n};\r\n\r\nStringMorph.prototype.previousWordFrom = function (aSlot) {\r\n    // answer the slot (index) slots indicating the position of the\r\n    // previous word to the left of aSlot\r\n    var index = aSlot - 1;\r\n    \r\n    // while the current character is non-word one, we skip it, so that\r\n    // if we are in the middle of a non-alphanumeric sequence, we'll get\r\n    // right to the beginning of the previous word\r\n    while (index > 0 && !isWordChar(this.text[index])) {\r\n        index -= 1;\r\n    }\r\n\r\n    // while the current character is a word one, we skip it until we\r\n    // find the beginning of the current word\r\n    while (index > 0 && isWordChar(this.text[index - 1])) {\r\n        index -= 1;\r\n    }\r\n\r\n    return index;\r\n};\r\n\r\nStringMorph.prototype.nextWordFrom = function (aSlot) {\r\n    var index = aSlot;\r\n    \r\n    while (index < this.endOfLine() && !isWordChar(this.text[index])) {\r\n        index += 1;\r\n    }\r\n\r\n    while (index < this.endOfLine() && isWordChar(this.text[index])) {\r\n        index += 1;\r\n    }\r\n\r\n    return index;\r\n};\r\n\r\nStringMorph.prototype.rawHeight = function () {\r\n    // answer my corrected fontSize\r\n    return this.height() / 1.2;\r\n};\r\n\r\n// StringMorph menus:\r\n\r\nStringMorph.prototype.developersMenu = function () {\r\n    var menu = StringMorph.uber.developersMenu.call(this);\r\n\r\n    menu.addLine();\r\n    menu.addItem(\"edit\", 'edit');\r\n    menu.addItem(\r\n        \"font size...\",\r\n        function () {\r\n            this.prompt(\r\n                menu.title + '\\nfont\\nsize:',\r\n                this.setFontSize,\r\n                this,\r\n                this.fontSize.toString(),\r\n                null,\r\n                6,\r\n                500,\r\n                true\r\n            );\r\n        },\r\n        'set this String\\'s\\nfont point size'\r\n    );\r\n    if (this.fontStyle !== 'serif') {\r\n        menu.addItem(\"serif\", 'setSerif');\r\n    }\r\n    if (this.fontStyle !== 'sans-serif') {\r\n        menu.addItem(\"sans-serif\", 'setSansSerif');\r\n    }\r\n    if (this.isBold) {\r\n        menu.addItem(\"normal weight\", 'toggleWeight');\r\n    } else {\r\n        menu.addItem(\"bold\", 'toggleWeight');\r\n    }\r\n    if (this.isItalic) {\r\n        menu.addItem(\"normal style\", 'toggleItalic');\r\n    } else {\r\n        menu.addItem(\"italic\", 'toggleItalic');\r\n    }\r\n    if (this.isShowingBlanks) {\r\n        menu.addItem(\"hide blanks\", 'toggleShowBlanks');\r\n    } else {\r\n        menu.addItem(\"show blanks\", 'toggleShowBlanks');\r\n    }\r\n    if (this.isPassword) {\r\n        menu.addItem(\"show characters\", 'toggleIsPassword');\r\n    } else {\r\n        menu.addItem(\"hide characters\", 'toggleIsPassword');\r\n    }\r\n    return menu;\r\n};\r\n\r\nStringMorph.prototype.toggleIsDraggable = function () {\r\n    // for context menu demo purposes\r\n    this.isDraggable = !this.isDraggable;\r\n    if (this.isDraggable) {\r\n        this.disableSelecting();\r\n    } else {\r\n        this.enableSelecting();\r\n    }\r\n};\r\n\r\nStringMorph.prototype.toggleShowBlanks = function () {\r\n    this.isShowingBlanks = !this.isShowingBlanks;\r\n    this.changed();\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nStringMorph.prototype.toggleWeight = function () {\r\n    this.isBold = !this.isBold;\r\n    this.changed();\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nStringMorph.prototype.toggleItalic = function () {\r\n    this.isItalic = !this.isItalic;\r\n    this.changed();\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nStringMorph.prototype.toggleIsPassword = function () {\r\n    this.isPassword = !this.isPassword;\r\n    this.changed();\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nStringMorph.prototype.setSerif = function () {\r\n    this.fontStyle = 'serif';\r\n    this.changed();\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nStringMorph.prototype.setSansSerif = function () {\r\n    this.fontStyle = 'sans-serif';\r\n    this.changed();\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nStringMorph.prototype.setFontSize = function (size) {\r\n    // for context menu demo purposes\r\n    var newSize;\r\n    if (typeof size === 'number') {\r\n        this.fontSize = Math.round(Math.min(Math.max(size, 4), 500));\r\n    } else {\r\n        newSize = parseFloat(size);\r\n        if (!isNaN(newSize)) {\r\n            this.fontSize = Math.round(\r\n                Math.min(Math.max(newSize, 4), 500)\r\n            );\r\n        }\r\n    }\r\n    this.changed();\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nStringMorph.prototype.setText = function (size) {\r\n    // for context menu demo purposes\r\n    this.text = Math.round(size).toString();\r\n    this.changed();\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nStringMorph.prototype.numericalSetters = function () {\r\n    // for context menu demo purposes\r\n    return [\r\n        'setLeft',\r\n        'setTop',\r\n        'setAlphaScaled',\r\n        'setFontSize',\r\n        'setText'\r\n    ];\r\n};\r\n\r\n// StringMorph editing:\r\n\r\nStringMorph.prototype.edit = function () {\r\n    this.root().edit(this);\r\n};\r\n\r\nStringMorph.prototype.selection = function () {\r\n    var start, stop;\r\n    start = Math.min(this.startMark, this.endMark);\r\n    stop = Math.max(this.startMark, this.endMark);\r\n    return this.text.slice(start, stop);\r\n};\r\n\r\nStringMorph.prototype.selectionStartSlot = function () {\r\n    return Math.min(this.startMark, this.endMark);\r\n};\r\n\r\nStringMorph.prototype.clearSelection = function () {\r\n    if (!this.currentlySelecting &&\r\n            isNil(this.startMark) &&\r\n            isNil(this.endMark)) {\r\n        return;\r\n    }\r\n    this.currentlySelecting = false;\r\n    this.startMark = null;\r\n    this.endMark = null;\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nStringMorph.prototype.deleteSelection = function () {\r\n    var start, stop, text;\r\n    text = this.text;\r\n    start = Math.min(this.startMark, this.endMark);\r\n    stop = Math.max(this.startMark, this.endMark);\r\n    this.text = text.slice(0, start) + text.slice(stop);\r\n    this.changed();\r\n    this.clearSelection();\r\n};\r\n\r\nStringMorph.prototype.selectAll = function () {\r\n    var cursor;\r\n    if (this.isEditable) {\r\n        this.startMark = 0;\r\n        cursor = this.root().cursor;\r\n        if (cursor) {\r\n            cursor.gotoSlot(this.text.length);\r\n        }\r\n        this.endMark = this.text.length;\r\n        this.drawNew();\r\n        this.changed();\r\n    }\r\n};\r\n\r\nStringMorph.prototype.mouseDownLeft = function (pos) {\r\n    if (this.world().currentKey === 16) {\r\n        this.shiftClick(pos);\r\n    } else if (this.isEditable) {\r\n        this.clearSelection();\r\n    } else {\r\n        this.escalateEvent('mouseDownLeft', pos);\r\n    }\r\n};\r\n\r\nStringMorph.prototype.shiftClick = function (pos) {\r\n    var cursor = this.root().cursor;\r\n\r\n    if (cursor) {\r\n        if (!this.startMark) {\r\n            this.startMark = cursor.slot;\r\n        }\r\n        cursor.gotoPos(pos);\r\n        this.endMark = cursor.slot;\r\n        this.drawNew();\r\n        this.changed();\r\n    }\r\n    this.currentlySelecting = false;\r\n    this.escalateEvent('mouseDownLeft', pos);\r\n};\r\n\r\nStringMorph.prototype.mouseClickLeft = function (pos) {\r\n    var cursor;\r\n    if (this.isEditable) {\r\n        if (!this.currentlySelecting) {\r\n            this.edit(); // creates a new cursor\r\n        }\r\n        cursor = this.root().cursor;\r\n        if (cursor) {\r\n            cursor.gotoPos(pos);\r\n        }\r\n        this.currentlySelecting = true;\r\n    } else {\r\n        this.escalateEvent('mouseClickLeft', pos);\r\n    }\r\n};\r\n\r\nStringMorph.prototype.mouseDoubleClick = function (pos) {\r\n    // selects the word at pos\r\n    // if there is no word, we select whatever is between\r\n    // the previous and next words\r\n    var slot = this.slotAt(pos);\r\n\r\n    if (this.isEditable) {\r\n        this.edit();\r\n\r\n        if (slot === this.text.length) {\r\n            slot -= 1;\r\n        }\r\n\r\n        if (this.text[slot] && isWordChar(this.text[slot])) {\r\n            this.selectWordAt(slot);\r\n        } else if (this.text[slot]) {\r\n            this.selectBetweenWordsAt(slot);\r\n        } else {\r\n            // special case for when we click right after the\r\n            // last slot in multi line TextMorphs\r\n            this.selectAll();\r\n        }\r\n    } else {\r\n        this.escalateEvent('mouseDoubleClick', pos);\r\n    }\r\n};\r\n\r\nStringMorph.prototype.selectWordAt = function (slot) {\r\n    var cursor = this.root().cursor;\r\n\r\n    if (slot === 0 || isWordChar(this.text[slot - 1])) {\r\n        cursor.gotoSlot(this.previousWordFrom(slot));\r\n        this.startMark = cursor.slot;\r\n        this.endMark = this.nextWordFrom(cursor.slot);\r\n    } else {\r\n        cursor.gotoSlot(slot);\r\n        this.startMark = slot;\r\n        this.endMark = this.nextWordFrom(slot);\r\n    }\r\n\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nStringMorph.prototype.selectBetweenWordsAt = function (slot) {\r\n    var cursor = this.root().cursor;\r\n\r\n    cursor.gotoSlot(this.nextWordFrom(this.previousWordFrom(slot)));\r\n    this.startMark = cursor.slot;\r\n    this.endMark = cursor.slot;\r\n\r\n    while (this.endMark < this.text.length\r\n            && !isWordChar(this.text[this.endMark])) {\r\n        this.endMark += 1;\r\n    }\r\n\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nStringMorph.prototype.enableSelecting = function () {\r\n    this.mouseDownLeft = function (pos) {\r\n        var crs = this.root().cursor,\r\n            already = crs ? crs.target === this : false;\r\n        if (this.world().currentKey === 16) {\r\n            this.shiftClick(pos);\r\n        } else {\r\n            this.clearSelection();\r\n            if (this.isEditable && (!this.isDraggable)) {\r\n                this.edit();\r\n                this.root().cursor.gotoPos(pos);\r\n                this.startMark = this.slotAt(pos);\r\n                this.endMark = this.startMark;\r\n                this.currentlySelecting = true;\r\n                if (!already) {this.escalateEvent('mouseDownLeft', pos); }\r\n            }\r\n        }\r\n    };\r\n    this.mouseMove = function (pos) {\r\n        if (this.isEditable &&\r\n                this.currentlySelecting &&\r\n                (!this.isDraggable)) {\r\n            var newMark = this.slotAt(pos);\r\n            if (newMark !== this.endMark) {\r\n                this.endMark = newMark;\r\n                this.drawNew();\r\n                this.changed();\r\n            }\r\n        }\r\n    };\r\n};\r\n\r\nStringMorph.prototype.disableSelecting = function () {\r\n    this.mouseDownLeft = StringMorph.prototype.mouseDownLeft;\r\n    delete this.mouseMove;\r\n};\r\n\r\n// TextMorph ////////////////////////////////////////////////////////////////\r\n\r\n// I am a multi-line, word-wrapping String, quasi-inheriting from StringMorph\r\n\r\n// TextMorph inherits from Morph:\r\n\r\nTextMorph.prototype = new Morph();\r\nTextMorph.prototype.constructor = TextMorph;\r\nTextMorph.uber = Morph.prototype;\r\n\r\n// TextMorph instance creation:\r\n\r\nfunction TextMorph(\r\n    text,\r\n    fontSize,\r\n    fontStyle,\r\n    bold,\r\n    italic,\r\n    alignment,\r\n    width,\r\n    fontName,\r\n    shadowOffset,\r\n    shadowColor\r\n) {\r\n    this.init(text,\r\n        fontSize,\r\n        fontStyle,\r\n        bold,\r\n        italic,\r\n        alignment,\r\n        width,\r\n        fontName,\r\n        shadowOffset,\r\n        shadowColor);\r\n}\r\n\r\nTextMorph.prototype.init = function (\r\n    text,\r\n    fontSize,\r\n    fontStyle,\r\n    bold,\r\n    italic,\r\n    alignment,\r\n    width,\r\n    fontName,\r\n    shadowOffset,\r\n    shadowColor\r\n) {\r\n    // additional properties:\r\n    this.text = text || (text === '' ? text : 'TextMorph');\r\n    this.words = [];\r\n    this.lines = [];\r\n    this.lineSlots = [];\r\n    this.fontSize = fontSize || 12;\r\n    this.fontName = fontName || MorphicPreferences.globalFontFamily;\r\n    this.fontStyle = fontStyle || 'sans-serif';\r\n    this.isBold = bold || false;\r\n    this.isItalic = italic || false;\r\n    this.alignment = alignment || 'left';\r\n    this.shadowOffset = shadowOffset || new Point(0, 0);\r\n    this.shadowColor = shadowColor || null;\r\n    this.maxWidth = width || 0;\r\n    this.maxLineWidth = 0;\r\n    this.backgroundColor = null;\r\n    this.isEditable = false;\r\n\r\n    //additional properties for ad-hoc evaluation:\r\n    this.receiver = null;\r\n\r\n    // additional properties for text-editing:\r\n    this.isScrollable = true; // scrolls into view when edited\r\n    this.currentlySelecting = false;\r\n    this.startMark = 0;\r\n    this.endMark = 0;\r\n    this.markedTextColor = new Color(255, 255, 255);\r\n    this.markedBackgoundColor = new Color(60, 60, 120);\r\n\r\n    // initialize inherited properties:\r\n    TextMorph.uber.init.call(this);\r\n\r\n    // override inherited properites:\r\n    this.color = new Color(0, 0, 0);\r\n    this.noticesTransparentClick = true;\r\n    this.drawNew();\r\n};\r\n\r\nTextMorph.prototype.toString = function () {\r\n    // e.g. 'a TextMorph(\"Hello World\")'\r\n    return 'a TextMorph' + '(\"' + this.text.slice(0, 30) + '...\")';\r\n};\r\n\r\nTextMorph.prototype.font = StringMorph.prototype.font;\r\n\r\nTextMorph.prototype.parse = function () {\r\n    var myself = this,\r\n        paragraphs = this.text.split('\\n'),\r\n        canvas = newCanvas(),\r\n        context = canvas.getContext('2d'),\r\n        oldline = '',\r\n        newline,\r\n        w,\r\n        slot = 0;\r\n\r\n    context.font = this.font();\r\n    this.maxLineWidth = 0;\r\n    this.lines = [];\r\n    this.lineSlots = [0];\r\n    this.words = [];\r\n\r\n    paragraphs.forEach(function (p) {\r\n        myself.words = myself.words.concat(p.split(' '));\r\n        myself.words.push('\\n');\r\n    });\r\n\r\n    this.words.forEach(function (word) {\r\n        if (word === '\\n') {\r\n            myself.lines.push(oldline);\r\n            myself.lineSlots.push(slot);\r\n            myself.maxLineWidth = Math.max(\r\n                myself.maxLineWidth,\r\n                context.measureText(oldline).width\r\n            );\r\n            oldline = '';\r\n        } else {\r\n            if (myself.maxWidth > 0) {\r\n                newline = oldline + word + ' ';\r\n                w = context.measureText(newline).width;\r\n                if (w > myself.maxWidth) {\r\n                    myself.lines.push(oldline);\r\n                    myself.lineSlots.push(slot);\r\n                    myself.maxLineWidth = Math.max(\r\n                        myself.maxLineWidth,\r\n                        context.measureText(oldline).width\r\n                    );\r\n                    oldline = word + ' ';\r\n                } else {\r\n                    oldline = newline;\r\n                }\r\n            } else {\r\n                oldline = oldline + word + ' ';\r\n            }\r\n            slot += word.length + 1;\r\n        }\r\n    });\r\n};\r\n\r\nTextMorph.prototype.drawNew = function () {\r\n    var context, height, i, line, width, shadowHeight, shadowWidth,\r\n        offx, offy, x, y, start, stop, p, c;\r\n\r\n    this.image = newCanvas();\r\n    context = this.image.getContext('2d');\r\n    context.font = this.font();\r\n    this.parse();\r\n\r\n    // set my extent\r\n    shadowWidth = Math.abs(this.shadowOffset.x);\r\n    shadowHeight = Math.abs(this.shadowOffset.y);\r\n    height = this.lines.length * (fontHeight(this.fontSize) + shadowHeight);\r\n    if (this.maxWidth === 0) {\r\n        this.bounds = this.bounds.origin.extent(\r\n            new Point(this.maxLineWidth + shadowWidth, height)\r\n        );\r\n    } else {\r\n        this.bounds = this.bounds.origin.extent(\r\n            new Point(this.maxWidth + shadowWidth, height)\r\n        );\r\n    }\r\n    this.image.width = this.width();\r\n    this.image.height = this.height();\r\n\r\n    // prepare context for drawing text\r\n    context = this.image.getContext('2d');\r\n    context.font = this.font();\r\n    context.textAlign = 'left';\r\n    context.textBaseline = 'bottom';\r\n\r\n    // fill the background, if desired\r\n    if (this.backgroundColor) {\r\n        context.fillStyle = this.backgroundColor.toString();\r\n        context.fillRect(0, 0, this.width(), this.height());\r\n    }\r\n\r\n    // draw the shadow, if any\r\n    if (this.shadowColor) {\r\n        offx = Math.max(this.shadowOffset.x, 0);\r\n        offy = Math.max(this.shadowOffset.y, 0);\r\n        context.fillStyle = this.shadowColor.toString();\r\n\r\n        for (i = 0; i < this.lines.length; i = i + 1) {\r\n            line = this.lines[i];\r\n            width = context.measureText(line).width + shadowWidth;\r\n            if (this.alignment === 'right') {\r\n                x = this.width() - width;\r\n            } else if (this.alignment === 'center') {\r\n                x = (this.width() - width) / 2;\r\n            } else { // 'left'\r\n                x = 0;\r\n            }\r\n            y = (i + 1) * (fontHeight(this.fontSize) + shadowHeight)\r\n                - shadowHeight;\r\n            context.fillText(line, x + offx, y + offy);\r\n        }\r\n    }\r\n\r\n    // now draw the actual text\r\n    offx = Math.abs(Math.min(this.shadowOffset.x, 0));\r\n    offy = Math.abs(Math.min(this.shadowOffset.y, 0));\r\n    context.fillStyle = this.color.toString();\r\n\r\n    for (i = 0; i < this.lines.length; i = i + 1) {\r\n        line = this.lines[i];\r\n        width = context.measureText(line).width + shadowWidth;\r\n        if (this.alignment === 'right') {\r\n            x = this.width() - width;\r\n        } else if (this.alignment === 'center') {\r\n            x = (this.width() - width) / 2;\r\n        } else { // 'left'\r\n            x = 0;\r\n        }\r\n        y = (i + 1) * (fontHeight(this.fontSize) + shadowHeight)\r\n            - shadowHeight;\r\n        context.fillText(line, x + offx, y + offy);\r\n    }\r\n\r\n    // draw the selection\r\n    start = Math.min(this.startMark, this.endMark);\r\n    stop = Math.max(this.startMark, this.endMark);\r\n    for (i = start; i < stop; i += 1) {\r\n        p = this.slotPosition(i).subtract(this.position());\r\n        c = this.text.charAt(i);\r\n        context.fillStyle = this.markedBackgoundColor.toString();\r\n        context.fillRect(p.x, p.y, context.measureText(c).width + 1,\r\n            fontHeight(this.fontSize));\r\n        context.fillStyle = this.markedTextColor.toString();\r\n        context.fillText(c, p.x, p.y + fontHeight(this.fontSize));\r\n    }\r\n\r\n    // notify my parent of layout change\r\n    if (this.parent) {\r\n        if (this.parent.layoutChanged) {\r\n            this.parent.layoutChanged();\r\n        }\r\n    }\r\n};\r\n\r\nTextMorph.prototype.setExtent = function (aPoint) {\r\n    this.maxWidth = Math.max(aPoint.x, 0);\r\n    this.changed();\r\n    this.drawNew();\r\n};\r\n\r\n// TextMorph mesuring:\r\n\r\nTextMorph.prototype.columnRow = function (slot) {\r\n    // answer the logical position point of the given index (\"slot\")\r\n    var row,\r\n        col,\r\n        idx = 0;\r\n\r\n    for (row = 0; row < this.lines.length; row += 1) {\r\n        idx = this.lineSlots[row];\r\n        for (col = 0; col < this.lines[row].length; col += 1) {\r\n            if (idx === slot) {\r\n                return new Point(col, row);\r\n            }\r\n            idx += 1;\r\n        }\r\n    }\r\n    // return new Point(0, 0);\r\n    return new Point(\r\n        this.lines[this.lines.length - 1].length - 1,\r\n        this.lines.length - 1\r\n    );\r\n};\r\n\r\nTextMorph.prototype.slotPosition = function (slot) {\r\n    // answer the physical position point of the given index (\"slot\")\r\n    // where the cursor should be placed\r\n    var colRow = this.columnRow(slot),\r\n        context = this.image.getContext('2d'),\r\n        shadowHeight = Math.abs(this.shadowOffset.y),\r\n        xOffset = 0,\r\n        yOffset,\r\n        x,\r\n        y,\r\n        idx;\r\n\r\n    yOffset = colRow.y * (fontHeight(this.fontSize) + shadowHeight);\r\n    for (idx = 0; idx < colRow.x; idx += 1) {\r\n        xOffset += context.measureText(this.lines[colRow.y][idx]).width;\r\n    }\r\n    x = this.left() + xOffset;\r\n    y = this.top() + yOffset;\r\n    return new Point(x, y);\r\n};\r\n\r\nTextMorph.prototype.slotAt = function (aPoint) {\r\n    // answer the slot (index) closest to the given point taking\r\n    // in account how far from the middle of the character it is,\r\n    // so the cursor can be moved accordingly\r\n\r\n    var charX = 0,\r\n        row = 0,\r\n        col = 0,\r\n        shadowHeight = Math.abs(this.shadowOffset.y),\r\n        context = this.image.getContext('2d');\r\n\r\n    while (aPoint.y - this.top() >\r\n            ((fontHeight(this.fontSize) + shadowHeight) * row)) {\r\n        row += 1;\r\n    }\r\n    row = Math.max(row, 1);\r\n\r\n    while (aPoint.x - this.left() > charX) {\r\n        charX += context.measureText(this.lines[row - 1][col]).width;\r\n        col += 1;\r\n    }\r\n\r\n    // see where our click fell with respect to the middle of the char\r\n    if (aPoint.x - this.left() >\r\n            charX - context.measureText(this.lines[row - 1][col]).width / 2) {\r\n        return this.lineSlots[Math.max(row - 1, 0)] + col;\r\n    } else {\r\n        return this.lineSlots[Math.max(row - 1, 0)] + col - 1;\r\n    }\r\n};\r\n\r\nTextMorph.prototype.upFrom = function (slot) {\r\n    // answer the slot above the given one\r\n    var above,\r\n        colRow = this.columnRow(slot);\r\n    if (colRow.y < 1) {\r\n        return slot;\r\n    }\r\n    above = this.lines[colRow.y - 1];\r\n    if (above.length < colRow.x - 1) {\r\n        return this.lineSlots[colRow.y - 1] + above.length;\r\n    }\r\n    return this.lineSlots[colRow.y - 1] + colRow.x;\r\n};\r\n\r\nTextMorph.prototype.downFrom = function (slot) {\r\n    // answer the slot below the given one\r\n    var below,\r\n        colRow = this.columnRow(slot);\r\n    if (colRow.y > this.lines.length - 2) {\r\n        return slot;\r\n    }\r\n    below = this.lines[colRow.y + 1];\r\n    if (below.length < colRow.x - 1) {\r\n        return this.lineSlots[colRow.y + 1] + below.length;\r\n    }\r\n    return this.lineSlots[colRow.y + 1] + colRow.x;\r\n};\r\n\r\nTextMorph.prototype.startOfLine = function (slot) {\r\n    // answer the first slot (index) of the line for the given slot\r\n    return this.lineSlots[this.columnRow(slot).y];\r\n};\r\n\r\nTextMorph.prototype.endOfLine = function (slot) {\r\n    // answer the slot (index) indicating the EOL for the given slot\r\n    return this.startOfLine(slot) +\r\n        this.lines[this.columnRow(slot).y].length - 1;\r\n};\r\n\r\nTextMorph.prototype.previousWordFrom = StringMorph.prototype.previousWordFrom;\r\n\r\nTextMorph.prototype.nextWordFrom = StringMorph.prototype.nextWordFrom;\r\n\r\n// TextMorph editing:\r\n\r\nTextMorph.prototype.edit = StringMorph.prototype.edit;\r\n\r\nTextMorph.prototype.selection = StringMorph.prototype.selection;\r\n\r\nTextMorph.prototype.selectionStartSlot\r\n    = StringMorph.prototype.selectionStartSlot;\r\n\r\nTextMorph.prototype.clearSelection = StringMorph.prototype.clearSelection;\r\n\r\nTextMorph.prototype.deleteSelection = StringMorph.prototype.deleteSelection;\r\n\r\nTextMorph.prototype.selectAll = StringMorph.prototype.selectAll;\r\n\r\nTextMorph.prototype.mouseDownLeft = StringMorph.prototype.mouseDownLeft;\r\n\r\nTextMorph.prototype.shiftClick = StringMorph.prototype.shiftClick;\r\n\r\nTextMorph.prototype.mouseClickLeft = StringMorph.prototype.mouseClickLeft;\r\n\r\nTextMorph.prototype.mouseDoubleClick = StringMorph.prototype.mouseDoubleClick;\r\n\r\nTextMorph.prototype.selectWordAt = StringMorph.prototype.selectWordAt;\r\n\r\nTextMorph.prototype.selectBetweenWordsAt\r\n    = StringMorph.prototype.selectBetweenWordsAt;\r\n\r\nTextMorph.prototype.enableSelecting = StringMorph.prototype.enableSelecting;\r\n\r\nTextMorph.prototype.disableSelecting = StringMorph.prototype.disableSelecting;\r\n\r\nTextMorph.prototype.selectAllAndEdit = function () {\r\n    this.edit();\r\n    this.selectAll();\r\n};\r\n\r\n// TextMorph menus:\r\n\r\nTextMorph.prototype.developersMenu = function () {\r\n    var menu = TextMorph.uber.developersMenu.call(this);\r\n    menu.addLine();\r\n    menu.addItem(\"edit\", 'edit');\r\n    menu.addItem(\r\n        \"font size...\",\r\n        function () {\r\n            this.prompt(\r\n                menu.title + '\\nfont\\nsize:',\r\n                this.setFontSize,\r\n                this,\r\n                this.fontSize.toString(),\r\n                null,\r\n                6,\r\n                100,\r\n                true\r\n            );\r\n        },\r\n        'set this Text\\'s\\nfont point size'\r\n    );\r\n    if (this.alignment !== 'left') {\r\n        menu.addItem(\"align left\", 'setAlignmentToLeft');\r\n    }\r\n    if (this.alignment !== 'right') {\r\n        menu.addItem(\"align right\", 'setAlignmentToRight');\r\n    }\r\n    if (this.alignment !== 'center') {\r\n        menu.addItem(\"align center\", 'setAlignmentToCenter');\r\n    }\r\n    menu.addLine();\r\n    if (this.fontStyle !== 'serif') {\r\n        menu.addItem(\"serif\", 'setSerif');\r\n    }\r\n    if (this.fontStyle !== 'sans-serif') {\r\n        menu.addItem(\"sans-serif\", 'setSansSerif');\r\n    }\r\n    if (this.isBold) {\r\n        menu.addItem(\"normal weight\", 'toggleWeight');\r\n    } else {\r\n        menu.addItem(\"bold\", 'toggleWeight');\r\n    }\r\n    if (this.isItalic) {\r\n        menu.addItem(\"normal style\", 'toggleItalic');\r\n    } else {\r\n        menu.addItem(\"italic\", 'toggleItalic');\r\n    }\r\n    return menu;\r\n};\r\n\r\nTextMorph.prototype.setAlignmentToLeft = function () {\r\n    this.alignment = 'left';\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nTextMorph.prototype.setAlignmentToRight = function () {\r\n    this.alignment = 'right';\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nTextMorph.prototype.setAlignmentToCenter = function () {\r\n    this.alignment = 'center';\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nTextMorph.prototype.toggleIsDraggable\r\n    = StringMorph.prototype.toggleIsDraggable;\r\n\r\nTextMorph.prototype.toggleWeight = StringMorph.prototype.toggleWeight;\r\n\r\nTextMorph.prototype.toggleItalic = StringMorph.prototype.toggleItalic;\r\n\r\nTextMorph.prototype.setSerif = StringMorph.prototype.setSerif;\r\n\r\nTextMorph.prototype.setSansSerif = StringMorph.prototype.setSansSerif;\r\n\r\nTextMorph.prototype.setText = StringMorph.prototype.setText;\r\n\r\nTextMorph.prototype.setFontSize = StringMorph.prototype.setFontSize;\r\n\r\nTextMorph.prototype.numericalSetters = StringMorph.prototype.numericalSetters;\r\n\r\n// TextMorph evaluation:\r\n\r\nTextMorph.prototype.evaluationMenu = function () {\r\n    var menu = new MenuMorph(this, null);\r\n    menu.addItem(\r\n        \"do it\",\r\n        'doIt',\r\n        'evaluate the\\nselected expression'\r\n    );\r\n    menu.addItem(\r\n        \"show it\",\r\n        'showIt',\r\n        'evaluate the\\nselected expression\\nand show the result'\r\n    );\r\n    menu.addItem(\r\n        \"inspect it\",\r\n        'inspectIt',\r\n        'evaluate the\\nselected expression\\nand inspect the result'\r\n    );\r\n    menu.addLine();\r\n    menu.addItem(\"select all\", 'selectAllAndEdit');\r\n    return menu;\r\n};\r\n\r\nTextMorph.prototype.setReceiver = function (obj) {\r\n    this.receiver = obj;\r\n    this.customContextMenu = this.evaluationMenu();\r\n};\r\n\r\nTextMorph.prototype.doIt = function () {\r\n    this.receiver.evaluateString(this.selection());\r\n    this.edit();\r\n};\r\n\r\nTextMorph.prototype.showIt = function () {\r\n    var result = this.receiver.evaluateString(this.selection());\r\n    if (result !== null) {\r\n        this.inform(result);\r\n    }\r\n};\r\n\r\nTextMorph.prototype.inspectIt = function () {\r\n    var result = this.receiver.evaluateString(this.selection()),\r\n        world = this.world(),\r\n        inspector;\r\n    if (isObject(result)) {\r\n        inspector = new InspectorMorph(result);\r\n        inspector.setPosition(world.hand.position());\r\n        inspector.keepWithin(world);\r\n        world.add(inspector);\r\n        inspector.changed();\r\n    }\r\n};\r\n\r\n// TriggerMorph ////////////////////////////////////////////////////////\r\n\r\n// I provide basic button functionality\r\n\r\n// TriggerMorph inherits from Morph:\r\n\r\nTriggerMorph.prototype = new Morph();\r\nTriggerMorph.prototype.constructor = TriggerMorph;\r\nTriggerMorph.uber = Morph.prototype;\r\n\r\n// TriggerMorph instance creation:\r\n\r\nfunction TriggerMorph(\r\n    target,\r\n    action,\r\n    labelString,\r\n    fontSize,\r\n    fontStyle,\r\n    environment,\r\n    hint,\r\n    labelColor,\r\n    labelBold,\r\n    labelItalic,\r\n    doubleClickAction\r\n) {\r\n    this.init(\r\n        target,\r\n        action,\r\n        labelString,\r\n        fontSize,\r\n        fontStyle,\r\n        environment,\r\n        hint,\r\n        labelColor,\r\n        labelBold,\r\n        labelItalic,\r\n        doubleClickAction\r\n    );\r\n}\r\n\r\nTriggerMorph.prototype.init = function (\r\n    target,\r\n    action,\r\n    labelString,\r\n    fontSize,\r\n    fontStyle,\r\n    environment,\r\n    hint,\r\n    labelColor,\r\n    labelBold,\r\n    labelItalic,\r\n    doubleClickAction\r\n) {\r\n    // additional properties:\r\n    this.target = target || null;\r\n    this.action = action || null;\r\n    this.doubleClickAction = doubleClickAction || null;\r\n    this.environment = environment || null;\r\n    this.labelString = labelString || null;\r\n    this.label = null;\r\n    this.hint = hint || null; // null, String, or Function\r\n    this.schedule = null; // animation slot for displaying hints\r\n    this.fontSize = fontSize || MorphicPreferences.menuFontSize;\r\n    this.fontStyle = fontStyle || 'sans-serif';\r\n    this.highlightColor = new Color(192, 192, 192);\r\n    this.pressColor = new Color(128, 128, 128);\r\n    this.labelColor = labelColor || new Color(0, 0, 0);\r\n    this.labelBold = labelBold || false;\r\n    this.labelItalic = labelItalic || false;\r\n\r\n    // initialize inherited properties:\r\n    TriggerMorph.uber.init.call(this);\r\n\r\n    // override inherited properites:\r\n    this.color = new Color(255, 255, 255);\r\n    this.drawNew();\r\n};\r\n\r\n// TriggerMorph drawing:\r\n\r\nTriggerMorph.prototype.drawNew = function () {\r\n    this.createBackgrounds();\r\n    if (this.labelString !== null) {\r\n        this.createLabel();\r\n    }\r\n};\r\n\r\nTriggerMorph.prototype.createBackgrounds = function () {\r\n    var context,\r\n        ext = this.extent();\r\n\r\n    this.normalImage = newCanvas(ext);\r\n    context = this.normalImage.getContext('2d');\r\n    context.fillStyle = this.color.toString();\r\n    context.fillRect(0, 0, ext.x, ext.y);\r\n\r\n    this.highlightImage = newCanvas(ext);\r\n    context = this.highlightImage.getContext('2d');\r\n    context.fillStyle = this.highlightColor.toString();\r\n    context.fillRect(0, 0, ext.x, ext.y);\r\n\r\n    this.pressImage = newCanvas(ext);\r\n    context = this.pressImage.getContext('2d');\r\n    context.fillStyle = this.pressColor.toString();\r\n    context.fillRect(0, 0, ext.x, ext.y);\r\n\r\n    this.image = this.normalImage;\r\n};\r\n\r\nTriggerMorph.prototype.createLabel = function () {\r\n    if (this.label !== null) {\r\n        this.label.destroy();\r\n    }\r\n    this.label = new StringMorph(\r\n        this.labelString,\r\n        this.fontSize,\r\n        this.fontStyle,\r\n        this.labelBold,\r\n        this.labelItalic,\r\n        false, // numeric\r\n        null, // shadow offset\r\n        null, // shadow color\r\n        this.labelColor\r\n    );\r\n    this.label.setPosition(\r\n        this.center().subtract(\r\n            this.label.extent().floorDivideBy(2)\r\n        )\r\n    );\r\n    this.add(this.label);\r\n};\r\n\r\n// TriggerMorph action:\r\n\r\nTriggerMorph.prototype.trigger = function () {\r\n    /*\r\n    if target is a function, use it as callback:\r\n    execute target as callback function with action as argument\r\n    in the environment as optionally specified.\r\n    Note: if action is also a function, instead of becoming\r\n    the argument itself it will be called to answer the argument.\r\n    for selections, Yes/No Choices etc. As second argument pass\r\n    myself, so I can be modified to reflect status changes, e.g.\r\n    inside a list box:\r\n\r\n    else (if target is not a function):\r\n\r\n        if action is a function:\r\n        execute the action with target as environment (can be null)\r\n        for lambdafied (inline) actions\r\n\r\n        else if action is a String:\r\n        treat it as function property of target and execute it\r\n        for selector-like actions\r\n    */\r\n    if (this.schedule) {\r\n        this.schedule.isActive = false;\r\n    }\r\n    if (typeof this.target === 'function') {\r\n        if (typeof this.action === 'function') {\r\n            this.target.call(this.environment, this.action.call(), this);\r\n        } else {\r\n            this.target.call(this.environment, this.action, this);\r\n        }\r\n    } else {\r\n        if (typeof this.action === 'function') {\r\n            this.action.call(this.target);\r\n        } else { // assume it's a String\r\n            this.target[this.action]();\r\n        }\r\n    }\r\n};\r\n\r\nTriggerMorph.prototype.triggerDoubleClick = function () {\r\n    // same as trigger() but use doubleClickAction instead of action property\r\n    // note that specifying a doubleClickAction is optional\r\n    if (!this.doubleClickAction) {return; }\r\n    if (this.schedule) {\r\n        this.schedule.isActive = false;\r\n    }\r\n    if (typeof this.target === 'function') {\r\n        if (typeof this.doubleClickAction === 'function') {\r\n            this.target.call(\r\n                this.environment,\r\n                this.doubleClickAction.call(),\r\n                this\r\n            );\r\n        } else {\r\n            this.target.call(this.environment, this.doubleClickAction, this);\r\n        }\r\n    } else {\r\n        if (typeof this.doubleClickAction === 'function') {\r\n            this.doubleClickAction.call(this.target);\r\n        } else { // assume it's a String\r\n            this.target[this.doubleClickAction]();\r\n        }\r\n    }\r\n};\r\n\r\n// TriggerMorph events:\r\n\r\nTriggerMorph.prototype.mouseEnter = function () {\r\n    var contents = this.hint instanceof Function ? this.hint() : this.hint;\r\n    this.image = this.highlightImage;\r\n    this.changed();\r\n    if (contents) {\r\n        this.bubbleHelp(contents);\r\n    }\r\n};\r\n\r\nTriggerMorph.prototype.mouseLeave = function () {\r\n    this.image = this.normalImage;\r\n    this.changed();\r\n    if (this.schedule) {\r\n        this.schedule.isActive = false;\r\n    }\r\n    if (this.hint) {\r\n        this.world().hand.destroyTemporaries();\r\n    }\r\n};\r\n\r\nTriggerMorph.prototype.mouseDownLeft = function () {\r\n    this.image = this.pressImage;\r\n    this.changed();\r\n};\r\n\r\nTriggerMorph.prototype.mouseClickLeft = function () {\r\n    this.image = this.highlightImage;\r\n    this.changed();\r\n    this.trigger();\r\n};\r\n\r\nTriggerMorph.prototype.mouseDoubleClick = function () {\r\n    this.triggerDoubleClick();\r\n};\r\n\r\nTriggerMorph.prototype.rootForGrab = function () {\r\n    return this.isDraggable ? TriggerMorph.uber.rootForGrab.call(this) : null;\r\n};\r\n\r\n// TriggerMorph bubble help:\r\n\r\nTriggerMorph.prototype.bubbleHelp = function (contents) {\r\n    var world = this.world(),\r\n        myself = this;\r\n    this.schedule = new Animation(\r\n        nop,\r\n        nop,\r\n        0,\r\n        500,\r\n        nop,\r\n        function () {myself.popUpbubbleHelp(contents); }\r\n    );\r\n    world.animations.push(this.schedule);\r\n};\r\n\r\nTriggerMorph.prototype.popUpbubbleHelp = function (contents) {\r\n    new SpeechBubbleMorph(\r\n        localize(contents),\r\n        null,\r\n        null,\r\n        1\r\n    ).popUp(this.world(), this.rightCenter().add(new Point(-8, 0)));\r\n};\r\n\r\n// MenuItemMorph ///////////////////////////////////////////////////////\r\n\r\n// I automatically determine my bounds\r\n\r\nvar MenuItemMorph;\r\n\r\n// MenuItemMorph inherits from TriggerMorph:\r\n\r\nMenuItemMorph.prototype = new TriggerMorph();\r\nMenuItemMorph.prototype.constructor = MenuItemMorph;\r\nMenuItemMorph.uber = TriggerMorph.prototype;\r\n\r\n// MenuItemMorph instance creation:\r\n\r\nfunction MenuItemMorph(\r\n    target,\r\n    action,\r\n    labelString, // can also be a Morph or a Canvas or a tuple: [icon, string]\r\n    fontSize,\r\n    fontStyle,\r\n    environment,\r\n    hint,\r\n    color,\r\n    bold,\r\n    italic,\r\n    doubleClickAction, // optional when used as list morph item\r\n    shortcut // optional string, Morph, Canvas or tuple: [icon, string]\r\n) {\r\n    // additional properties:\r\n    this.shortcutString = shortcut || null;\r\n    this.shortcut = null;\r\n\r\n    // initialize inherited properties:\r\n    this.init(\r\n        target,\r\n        action,\r\n        labelString,\r\n        fontSize,\r\n        fontStyle,\r\n        environment,\r\n        hint,\r\n        color,\r\n        bold,\r\n        italic,\r\n        doubleClickAction\r\n    );\r\n}\r\n\r\nMenuItemMorph.prototype.createLabel = function () {\r\n    var w, h;\r\n    if (this.label) {\r\n        this.label.destroy();\r\n    }\r\n    this.label = this.createLabelPart(this.labelString);\r\n    this.add(this.label);\r\n    w = this.label.width();\r\n    h = this.label.height();\r\n    if (this.shortcut) {\r\n        this.shortcut.destroy();\r\n    }\r\n    if (this.shortcutString) {\r\n        this.shortcut = this.createLabelPart(this.shortcutString);\r\n        w += this.shortcut.width() + 4;\r\n        h = Math.max(h, this.shortcut.height());\r\n        this.add(this.shortcut);\r\n    }\r\n    this.silentSetExtent(new Point(w + 8, h));\r\n    this.fixLayout();\r\n};\r\n\r\nMenuItemMorph.prototype.fixLayout = function () {\r\n    var cntr = this.center();\r\n    this.label.setCenter(cntr);\r\n    this.label.setLeft(this.left() + 4);\r\n    if (this.shortcut) {\r\n        this.shortcut.setCenter(cntr);\r\n        this.shortcut.setRight(this.right() - 4);\r\n    }\r\n};\r\n\r\nMenuItemMorph.prototype.createLabelPart = function (source) {\r\n    var part, icon, lbl;\r\n    if (isString(source)) {\r\n        return this.createLabelString(source);\r\n    }\r\n    if (source instanceof Array) {\r\n        // assume its pattern is: [icon, string]\r\n        part = new Morph();\r\n        part.alpha = 0; // transparent\r\n        icon = this.createIcon(source[0]);\r\n        part.add(icon);\r\n        lbl = this.createLabelString(source[1]);\r\n        part.add(lbl);\r\n        lbl.setCenter(icon.center());\r\n        lbl.setLeft(icon.right() + 4);\r\n        part.bounds = (icon.bounds.merge(lbl.bounds));\r\n        part.drawNew();\r\n        return part;\r\n    }\r\n    // assume it's either a Morph or a Canvas\r\n    return this.createIcon(source);\r\n};\r\n\r\nMenuItemMorph.prototype.createIcon = function (source) {\r\n    // source can be either a Morph or an HTMLCanvasElement\r\n    var icon = new Morph(),\r\n        src;\r\n    icon.image = source instanceof Morph ? source.fullImage() : source;\r\n    // adjust shadow dimensions\r\n    if (source instanceof Morph && source.getShadow()) {\r\n        src = icon.image;\r\n        icon.image = newCanvas(\r\n            source.fullBounds().extent().subtract(\r\n                this.shadowBlur * (useBlurredShadows ? 1 : 2)\r\n            )\r\n        );\r\n        icon.image.getContext('2d').drawImage(src, 0, 0);\r\n    }\r\n    icon.silentSetWidth(icon.image.width);\r\n    icon.silentSetHeight(icon.image.height);\r\n    return icon;\r\n};\r\n\r\nMenuItemMorph.prototype.createLabelString = function (string) {\r\n    var lbl = new TextMorph(\r\n        string,\r\n        this.fontSize,\r\n        this.fontStyle,\r\n        this.labelBold,\r\n        this.labelItalic\r\n    );\r\n    lbl.setColor(this.labelColor);\r\n    return lbl;\r\n};\r\n\r\n// MenuItemMorph events:\r\n\r\nMenuItemMorph.prototype.mouseEnter = function () {\r\n    var menu = this.parentThatIsA(MenuMorph);\r\n    if (this.isShowingSubmenu()) {\r\n        return;\r\n    }\r\n    if (menu) {\r\n        menu.closeSubmenu();\r\n    }\r\n    if (!this.isListItem()) {\r\n        this.image = this.highlightImage;\r\n        this.changed();\r\n    }\r\n    if (this.action instanceof MenuMorph) {\r\n        this.delaySubmenu();\r\n    } else if (this.hint) {\r\n        this.bubbleHelp(this.hint);\r\n    }\r\n};\r\n\r\nMenuItemMorph.prototype.mouseLeave = function () {\r\n    if (!this.isListItem()) {\r\n        if (this.isShowingSubmenu()) {\r\n            this.image = this.highlightImage;\r\n        } else {\r\n            this.image = this.normalImage;\r\n        }\r\n        this.changed();\r\n    }\r\n    if (this.schedule) {\r\n        this.schedule.isActive = false;\r\n    }\r\n    if (this.hint) {\r\n        this.world().hand.destroyTemporaries();\r\n    }\r\n};\r\n\r\nMenuItemMorph.prototype.mouseDownLeft = function (pos) {\r\n    if (this.isListItem()) {\r\n        this.parent.unselectAllItems();\r\n        this.escalateEvent('mouseDownLeft', pos);\r\n    }\r\n    this.image = this.pressImage;\r\n    this.changed();\r\n};\r\n\r\nMenuItemMorph.prototype.mouseMove = function () {\r\n    if (this.isListItem()) {\r\n        this.escalateEvent('mouseMove');\r\n    }\r\n};\r\n\r\nMenuItemMorph.prototype.mouseClickLeft = function () {\r\n    if (this.action instanceof MenuMorph) {\r\n        this.popUpSubmenu();\r\n    } else {\r\n        if (!this.isListItem()) {\r\n            this.parent.closeRootMenu();\r\n            this.world().activeMenu = null;\r\n        }\r\n        this.trigger();\r\n    }\r\n};\r\n\r\nMenuItemMorph.prototype.isListItem = function () {\r\n    if (this.parent) {\r\n        return this.parent.isListContents;\r\n    }\r\n    return false;\r\n};\r\n\r\nMenuItemMorph.prototype.isSelectedListItem = function () {\r\n    if (this.isListItem()) {\r\n        return this.image === this.pressImage;\r\n    }\r\n    return false;\r\n};\r\n\r\nMenuItemMorph.prototype.isShowingSubmenu = function () {\r\n    var menu = this.parentThatIsA(MenuMorph);\r\n    if (menu && (this.action instanceof MenuMorph)) {\r\n        return menu.submenu === this.action;\r\n    }\r\n    return false;\r\n};\r\n\r\n// MenuItemMorph submenus:\r\n\r\nMenuItemMorph.prototype.delaySubmenu = function () {\r\n    var world = this.world(),\r\n        myself = this;\r\n    this.schedule = new Animation(\r\n        nop,\r\n        nop,\r\n        0,\r\n        500,\r\n        nop,\r\n        function () {myself.popUpSubmenu(); }\r\n    );\r\n    world.animations.push(this.schedule);\r\n};\r\n\r\nMenuItemMorph.prototype.popUpSubmenu = function () {\r\n    var menu = this.parentThatIsA(MenuMorph);\r\n    if (!(this.action instanceof MenuMorph)) {return; }\r\n    this.action.drawNew();\r\n    this.action.setPosition(this.topRight().subtract(new Point(0, 5)));\r\n    this.action.addShadow(new Point(2, 2), 80);\r\n    this.action.keepWithin(this.world());\r\n    if (this.action.items.length < 1 && !this.action.title) {return; }\r\n    menu.add(this.action);\r\n    menu.submenu = this.action;\r\n    menu.submenu.world = menu.world; // keyboard control\r\n    this.action.fullChanged();\r\n};\r\n\r\n// FrameMorph //////////////////////////////////////////////////////////\r\n\r\n// I clip my submorphs at my bounds\r\n\r\n// Frames inherit from Morph:\r\n\r\nFrameMorph.prototype = new Morph();\r\nFrameMorph.prototype.constructor = FrameMorph;\r\nFrameMorph.uber = Morph.prototype;\r\n\r\nfunction FrameMorph(aScrollFrame) {\r\n    this.init(aScrollFrame);\r\n}\r\n\r\nFrameMorph.prototype.init = function (aScrollFrame) {\r\n    this.scrollFrame = aScrollFrame || null;\r\n\r\n    FrameMorph.uber.init.call(this);\r\n    this.color = new Color(255, 250, 245);\r\n    this.drawNew();\r\n    this.acceptsDrops = true;\r\n\r\n    if (this.scrollFrame) {\r\n        this.isDraggable = false;\r\n        this.noticesTransparentClick = false;\r\n        this.alpha = 0;\r\n    }\r\n};\r\n\r\nFrameMorph.prototype.fullBounds = function () {\r\n    var shadow = this.getShadow();\r\n    if (shadow !== null) {\r\n        return this.bounds.merge(shadow.bounds);\r\n    }\r\n    return this.bounds;\r\n};\r\n\r\nFrameMorph.prototype.fullImage = function () {\r\n    // use only for shadows\r\n    return this.image;\r\n};\r\n\r\nFrameMorph.prototype.fullDrawOn = function (aCanvas, aRect) {\r\n    var rectangle, dirty;\r\n    if (!this.isVisible) {\r\n        return null;\r\n    }\r\n    rectangle = aRect || this.fullBounds();\r\n    dirty = this.bounds.intersect(rectangle);\r\n    if (!dirty.extent().gt(new Point(0, 0))) {\r\n        return null;\r\n    }\r\n    this.drawOn(aCanvas, dirty);\r\n    this.children.forEach(function (child) {\r\n        if (child instanceof ShadowMorph) {\r\n            child.fullDrawOn(aCanvas, rectangle);\r\n        } else {\r\n            child.fullDrawOn(aCanvas, dirty);\r\n        }\r\n    });\r\n};\r\n\r\n// FrameMorph navigation:\r\n\r\nFrameMorph.prototype.topMorphAt = function (point) {\r\n    var i, result;\r\n    if (!(this.isVisible && this.bounds.containsPoint(point))) {\r\n        return null;\r\n    }\r\n    for (i = this.children.length - 1; i >= 0; i -= 1) {\r\n        result = this.children[i].topMorphAt(point);\r\n        if (result) {return result; }\r\n    }\r\n    return this.noticesTransparentClick ||\r\n        !this.isTransparentAt(point) ? this : null;\r\n};\r\n\r\n// FrameMorph scrolling support:\r\n\r\nFrameMorph.prototype.submorphBounds = function () {\r\n    var result = null;\r\n\r\n    if (this.children.length > 0) {\r\n        result = this.children[0].bounds;\r\n        this.children.forEach(function (child) {\r\n            result = result.merge(child.fullBounds());\r\n        });\r\n    }\r\n    return result;\r\n};\r\n\r\nFrameMorph.prototype.keepInScrollFrame = function () {\r\n    if (this.scrollFrame === null) {\r\n        return null;\r\n    }\r\n    if (this.left() > this.scrollFrame.left()) {\r\n        this.moveBy(\r\n            new Point(this.scrollFrame.left() - this.left(), 0)\r\n        );\r\n    }\r\n    if (this.right() < this.scrollFrame.right()) {\r\n        this.moveBy(\r\n            new Point(this.scrollFrame.right() - this.right(), 0)\r\n        );\r\n    }\r\n    if (this.top() > this.scrollFrame.top()) {\r\n        this.moveBy(\r\n            new Point(0, this.scrollFrame.top() - this.top())\r\n        );\r\n    }\r\n    if (this.bottom() < this.scrollFrame.bottom()) {\r\n        this.moveBy(\r\n            0,\r\n            new Point(this.scrollFrame.bottom() - this.bottom(), 0)\r\n        );\r\n    }\r\n};\r\n\r\nFrameMorph.prototype.adjustBounds = function () {\r\n    var subBounds,\r\n        newBounds,\r\n        myself = this;\r\n\r\n    if (this.scrollFrame === null) {\r\n        return null;\r\n    }\r\n\r\n    subBounds = this.submorphBounds();\r\n    if (subBounds && (!this.scrollFrame.isTextLineWrapping)) {\r\n        newBounds = subBounds\r\n            .expandBy(this.scrollFrame.padding)\r\n            .growBy(this.scrollFrame.growth)\r\n            .merge(this.scrollFrame.bounds);\r\n    } else {\r\n        newBounds = this.scrollFrame.bounds.copy();\r\n    }\r\n    if (!this.bounds.eq(newBounds)) {\r\n        this.bounds = newBounds;\r\n        this.drawNew();\r\n        this.keepInScrollFrame();\r\n    }\r\n\r\n    if (this.scrollFrame.isTextLineWrapping) {\r\n        this.children.forEach(function (morph) {\r\n            if (morph instanceof TextMorph) {\r\n                morph.setWidth(myself.width());\r\n                myself.setHeight(\r\n                    Math.max(morph.height(), myself.scrollFrame.height())\r\n                );\r\n            }\r\n        });\r\n    }\r\n\r\n    this.scrollFrame.adjustScrollBars();\r\n};\r\n\r\n// FrameMorph dragging & dropping of contents:\r\n\r\nFrameMorph.prototype.reactToDropOf = function () {\r\n    this.adjustBounds();\r\n};\r\n\r\nFrameMorph.prototype.reactToGrabOf = function () {\r\n    this.adjustBounds();\r\n};\r\n\r\n// FrameMorph menus:\r\n\r\nFrameMorph.prototype.developersMenu = function () {\r\n    var menu = FrameMorph.uber.developersMenu.call(this);\r\n    if (this.children.length > 0) {\r\n        menu.addLine();\r\n        menu.addItem(\r\n            \"move all inside...\",\r\n            'keepAllSubmorphsWithin',\r\n            'keep all submorphs\\nwithin and visible'\r\n        );\r\n    }\r\n    return menu;\r\n};\r\n\r\nFrameMorph.prototype.keepAllSubmorphsWithin = function () {\r\n    var myself = this;\r\n    this.children.forEach(function (m) {\r\n        m.keepWithin(myself);\r\n    });\r\n};\r\n\r\n// ScrollFrameMorph ////////////////////////////////////////////////////\r\n\r\nScrollFrameMorph.prototype = new FrameMorph();\r\nScrollFrameMorph.prototype.constructor = ScrollFrameMorph;\r\nScrollFrameMorph.uber = FrameMorph.prototype;\r\n\r\nfunction ScrollFrameMorph(scroller, size, sliderColor) {\r\n    this.init(scroller, size, sliderColor);\r\n}\r\n\r\nScrollFrameMorph.prototype.init = function (scroller, size, sliderColor) {\r\n    var myself = this;\r\n\r\n    ScrollFrameMorph.uber.init.call(this);\r\n    this.scrollBarSize = size || MorphicPreferences.scrollBarSize;\r\n    this.autoScrollTrigger = null;\r\n    this.enableAutoScrolling = true; // change to suppress\r\n    this.isScrollingByDragging = true; // change to suppress\r\n    this.hasVelocity = true; // dto.\r\n    this.padding = 0; // around the scrollable area\r\n    this.growth = 0; // pixels or Point to grow right/left when near edge\r\n    this.isTextLineWrapping = false;\r\n    this.contents = scroller || new FrameMorph(this);\r\n    this.add(this.contents);\r\n    this.hBar = new SliderMorph(\r\n        null, // start\r\n        null, // stop\r\n        null, // value\r\n        null, // size\r\n        'horizontal',\r\n        sliderColor\r\n    );\r\n    this.hBar.setHeight(this.scrollBarSize);\r\n    this.hBar.action = function (num) {\r\n        myself.contents.setPosition(\r\n            new Point(\r\n                myself.left() - num,\r\n                myself.contents.position().y\r\n            )\r\n        );\r\n    };\r\n    this.hBar.isDraggable = false;\r\n    this.add(this.hBar);\r\n    this.vBar = new SliderMorph(\r\n        null, // start\r\n        null, // stop\r\n        null, // value\r\n        null, // size\r\n        'vertical',\r\n        sliderColor\r\n    );\r\n    this.vBar.setWidth(this.scrollBarSize);\r\n    this.vBar.action = function (num) {\r\n        myself.contents.setPosition(\r\n            new Point(\r\n                myself.contents.position().x,\r\n                myself.top() - num\r\n            )\r\n        );\r\n    };\r\n    this.vBar.isDraggable = false;\r\n    this.add(this.vBar);\r\n    this.toolBar = null; // optional slot\r\n};\r\n\r\nScrollFrameMorph.prototype.adjustScrollBars = function () {\r\n    var hWidth = this.width() - this.scrollBarSize,\r\n        vHeight = this.height() - this.scrollBarSize;\r\n\r\n    this.changed();\r\n    if (this.contents.width() > this.width() +\r\n            MorphicPreferences.scrollBarSize) {\r\n        this.hBar.show();\r\n        if (this.hBar.width() !== hWidth) {\r\n            this.hBar.setWidth(hWidth);\r\n        }\r\n\r\n        this.hBar.setPosition(\r\n            new Point(\r\n                this.left(),\r\n                this.bottom() - this.hBar.height()\r\n            )\r\n        );\r\n        this.hBar.start = 0;\r\n        this.hBar.stop = this.contents.width() - this.width();\r\n        this.hBar.size =\r\n            this.width() / this.contents.width() * this.hBar.stop;\r\n        this.hBar.value = this.left() - this.contents.left();\r\n        this.hBar.drawNew();\r\n    } else {\r\n        this.hBar.hide();\r\n    }\r\n\r\n    if (this.contents.height() > this.height() +\r\n            this.scrollBarSize) {\r\n        this.vBar.show();\r\n        if (this.vBar.height() !== vHeight) {\r\n            this.vBar.setHeight(vHeight);\r\n        }\r\n\r\n        this.vBar.setPosition(\r\n            new Point(\r\n                this.right() - this.vBar.width(),\r\n                this.top()\r\n            )\r\n        );\r\n        this.vBar.start = 0;\r\n        this.vBar.stop = this.contents.height() - this.height();\r\n        this.vBar.size =\r\n            this.height() / this.contents.height() * this.vBar.stop;\r\n        this.vBar.value = this.top() - this.contents.top();\r\n        this.vBar.drawNew();\r\n    } else {\r\n        this.vBar.hide();\r\n    }\r\n    this.adjustToolBar();\r\n};\r\n\r\nScrollFrameMorph.prototype.adjustToolBar = function () {\r\n    var padding = 3;\r\n    if (this.toolBar) {\r\n        this.toolBar.setTop(this.top() + padding);\r\n        this.toolBar.setRight(\r\n            (this.vBar.isVisible ? this.vBar.left() : this.right()) - padding\r\n        );\r\n    }\r\n};\r\n\r\nScrollFrameMorph.prototype.addContents = function (aMorph) {\r\n    this.contents.add(aMorph);\r\n    this.contents.adjustBounds();\r\n};\r\n\r\nScrollFrameMorph.prototype.setContents = function (aMorph) {\r\n    this.contents.children.forEach(function (m) {\r\n        m.destroy();\r\n    });\r\n    this.contents.children = [];\r\n    aMorph.setPosition(this.position().add(this.padding + 2));\r\n    this.addContents(aMorph);\r\n};\r\n\r\nScrollFrameMorph.prototype.setExtent = function (aPoint) {\r\n    if (this.isTextLineWrapping) {\r\n        this.contents.setPosition(this.position().copy());\r\n    }\r\n    ScrollFrameMorph.uber.setExtent.call(this, aPoint);\r\n    this.contents.adjustBounds();\r\n};\r\n\r\n// ScrollFrameMorph scrolling by dragging:\r\n\r\nScrollFrameMorph.prototype.scrollX = function (steps) {\r\n    var cl = this.contents.left(),\r\n        l = this.left(),\r\n        cw = this.contents.width(),\r\n        r = this.right(),\r\n        newX;\r\n\r\n    newX = cl + steps;\r\n    if (newX + cw < r) {\r\n        newX = r - cw;\r\n    }\r\n    if (newX > l) {\r\n        newX = l;\r\n    }\r\n    if (newX !== cl) {\r\n        this.contents.setLeft(newX);\r\n    }\r\n};\r\n\r\nScrollFrameMorph.prototype.scrollY = function (steps) {\r\n    var ct = this.contents.top(),\r\n        t = this.top(),\r\n        ch = this.contents.height(),\r\n        b = this.bottom(),\r\n        newY;\r\n\r\n    newY = ct + steps;\r\n    if (newY + ch < b) {\r\n        newY = b - ch;\r\n    }\r\n    if (newY > t) {\r\n        newY = t;\r\n    }\r\n    if (newY !== ct) {\r\n        this.contents.setTop(newY);\r\n    }\r\n};\r\n\r\nScrollFrameMorph.prototype.step = nop;\r\n\r\nScrollFrameMorph.prototype.mouseDownLeft = function (pos) {\r\n    if (!this.isScrollingByDragging) {\r\n        return null;\r\n    }\r\n    var world = this.root(),\r\n        hand = world.hand,\r\n        oldPos = pos,\r\n        myself = this,\r\n        deltaX = 0,\r\n        deltaY = 0,\r\n        friction = 0.8;\r\n\r\n    this.step = function () {\r\n        var newPos;\r\n        if (hand.mouseButton &&\r\n                (hand.children.length === 0) &&\r\n                (myself.bounds.containsPoint(hand.bounds.origin))) {\r\n\r\n            if (hand.grabPosition &&\r\n                (hand.grabPosition.distanceTo(hand.position()) <=\r\n                    MorphicPreferences.grabThreshold)) {\r\n                // still within the grab threshold\r\n                return null;\r\n            }\r\n\r\n            newPos = hand.bounds.origin;\r\n            deltaX = newPos.x - oldPos.x;\r\n            if (deltaX !== 0) {\r\n                myself.scrollX(deltaX);\r\n            }\r\n            deltaY = newPos.y - oldPos.y;\r\n            if (deltaY !== 0) {\r\n                myself.scrollY(deltaY);\r\n            }\r\n            oldPos = newPos;\r\n        } else {\r\n            if (!myself.hasVelocity) {\r\n                myself.step = function () {\r\n                    nop();\r\n                };\r\n            } else {\r\n                if ((Math.abs(deltaX) < 0.5) &&\r\n                        (Math.abs(deltaY) < 0.5)) {\r\n                    myself.step = function () {\r\n                        nop();\r\n                    };\r\n                } else {\r\n                    deltaX = deltaX * friction;\r\n                    myself.scrollX(Math.round(deltaX));\r\n                    deltaY = deltaY * friction;\r\n                    myself.scrollY(Math.round(deltaY));\r\n                }\r\n            }\r\n        }\r\n        this.adjustScrollBars();\r\n    };\r\n};\r\n\r\nScrollFrameMorph.prototype.startAutoScrolling = function () {\r\n    var myself = this,\r\n        inset = MorphicPreferences.scrollBarSize * 3,\r\n        world = this.world(),\r\n        hand,\r\n        inner,\r\n        pos;\r\n\r\n    if (!world) {\r\n        return null;\r\n    }\r\n    hand = world.hand;\r\n    if (!this.autoScrollTrigger) {\r\n        this.autoScrollTrigger = Date.now();\r\n    }\r\n    this.step = function () {\r\n        pos = hand.bounds.origin;\r\n        inner = myself.bounds.insetBy(inset);\r\n        if ((myself.bounds.containsPoint(pos)) &&\r\n                (!(inner.containsPoint(pos))) &&\r\n                (hand.children.length > 0)) {\r\n            myself.autoScroll(pos);\r\n        } else {\r\n            myself.step = function () {\r\n                nop();\r\n            };\r\n            myself.autoScrollTrigger = null;\r\n        }\r\n    };\r\n};\r\n\r\nScrollFrameMorph.prototype.autoScroll = function (pos) {\r\n    var inset, area;\r\n\r\n    if (Date.now() - this.autoScrollTrigger < 500) {\r\n        return null;\r\n    }\r\n\r\n    inset = MorphicPreferences.scrollBarSize * 3;\r\n    area = this.topLeft().extent(new Point(this.width(), inset));\r\n    if (area.containsPoint(pos)) {\r\n        this.scrollY(inset - (pos.y - this.top()));\r\n    }\r\n    area = this.topLeft().extent(new Point(inset, this.height()));\r\n    if (area.containsPoint(pos)) {\r\n        this.scrollX(inset - (pos.x - this.left()));\r\n    }\r\n    area = (new Point(this.right() - inset, this.top()))\r\n        .extent(new Point(inset, this.height()));\r\n    if (area.containsPoint(pos)) {\r\n        this.scrollX(-(inset - (this.right() - pos.x)));\r\n    }\r\n    area = (new Point(this.left(), this.bottom() - inset))\r\n        .extent(new Point(this.width(), inset));\r\n    if (area.containsPoint(pos)) {\r\n        this.scrollY(-(inset - (this.bottom() - pos.y)));\r\n    }\r\n    this.adjustScrollBars();\r\n};\r\n\r\n// ScrollFrameMorph scrolling by editing text:\r\n\r\nScrollFrameMorph.prototype.scrollCursorIntoView = function (morph) {\r\n    var txt = morph.target,\r\n        offset = txt.position().subtract(this.contents.position()),\r\n        ft = this.top() + this.padding,\r\n        fb = this.bottom() - this.padding;\r\n    this.contents.setExtent(txt.extent().add(offset).add(this.padding));\r\n    if (morph.top() < ft) {\r\n        this.contents.setTop(this.contents.top() + ft - morph.top());\r\n        morph.setTop(ft);\r\n    } else if (morph.bottom() > fb) {\r\n        this.contents.setBottom(this.contents.bottom() + fb - morph.bottom());\r\n        morph.setBottom(fb);\r\n    }\r\n    this.adjustScrollBars();\r\n};\r\n\r\n// ScrollFrameMorph events:\r\n\r\nScrollFrameMorph.prototype.mouseScroll = function (y, x) {\r\n    if (y) {\r\n        this.scrollY(y * MorphicPreferences.mouseScrollAmount);\r\n    }\r\n    if (x) {\r\n        this.scrollX(x * MorphicPreferences.mouseScrollAmount);\r\n    }\r\n    this.adjustScrollBars();\r\n};\r\n\r\n// ScrollFrameMorph duplicating:\r\n\r\nScrollFrameMorph.prototype.updateReferences = function (map) {\r\n    var myself = this;\r\n    ScrollFrameMorph.uber.updateReferences.call(this, map);\r\n    if (this.hBar) {\r\n        this.hBar.action = function (num) {\r\n            myself.contents.setPosition(\r\n                new Point(myself.left() - num, myself.contents.position().y)\r\n            );\r\n        };\r\n    }\r\n    if (this.vBar) {\r\n        this.vBar.action = function (num) {\r\n            myself.contents.setPosition(\r\n                new Point(myself.contents.position().x, myself.top() - num)\r\n            );\r\n        };\r\n    }\r\n};\r\n\r\n// ScrollFrameMorph menu:\r\n\r\nScrollFrameMorph.prototype.developersMenu = function () {\r\n    var menu = ScrollFrameMorph.uber.developersMenu.call(this);\r\n    if (this.isTextLineWrapping) {\r\n        menu.addItem(\r\n            \"auto line wrap off...\",\r\n            'toggleTextLineWrapping',\r\n            'turn automatic\\nline wrapping\\noff'\r\n        );\r\n    } else {\r\n        menu.addItem(\r\n            \"auto line wrap on...\",\r\n            'toggleTextLineWrapping',\r\n            'enable automatic\\nline wrapping'\r\n        );\r\n    }\r\n    return menu;\r\n};\r\n\r\nScrollFrameMorph.prototype.toggleTextLineWrapping = function () {\r\n    this.isTextLineWrapping = !this.isTextLineWrapping;\r\n};\r\n\r\n// ListMorph ///////////////////////////////////////////////////////////\r\n\r\nListMorph.prototype = new ScrollFrameMorph();\r\nListMorph.prototype.constructor = ListMorph;\r\nListMorph.uber = ScrollFrameMorph.prototype;\r\n\r\nfunction ListMorph(elements, labelGetter, format, doubleClickAction) {\r\n/*\r\n    passing a format is optional. If the format parameter is specified\r\n    it has to be of the following pattern:\r\n\r\n        [\r\n            [<color>, <single-argument predicate>],\r\n            ['bold', <single-argument predicate>],\r\n            ['italic', <single-argument predicate>],\r\n            ...\r\n        ]\r\n\r\n    multiple conditions can be passed in such a format list, the\r\n    last predicate to evaluate true when given the list element sets\r\n    the given format category (color, bold, italic).\r\n    If no condition is met, the default format (color black, non-bold,\r\n    non-italic) will be assigned.\r\n\r\n    An example of how to use fomats can be found in the InspectorMorph's\r\n    \"markOwnProperties\" mechanism.\r\n*/\r\n    this.init(\r\n        elements || [],\r\n        labelGetter || function (element) {\r\n            if (isString(element)) {\r\n                return element;\r\n            }\r\n            if (element.toSource) {\r\n                return element.toSource();\r\n            }\r\n            return element.toString();\r\n        },\r\n        format || [],\r\n        doubleClickAction // optional callback\r\n    );\r\n}\r\n\r\nListMorph.prototype.init = function (\r\n    elements,\r\n    labelGetter,\r\n    format,\r\n    doubleClickAction\r\n) {\r\n    ListMorph.uber.init.call(this);\r\n\r\n    this.contents.acceptsDrops = false;\r\n    this.color = new Color(255, 255, 255);\r\n    this.hBar.alpha = 0.6;\r\n    this.vBar.alpha = 0.6;\r\n    this.elements = elements || [];\r\n    this.labelGetter = labelGetter;\r\n    this.format = format;\r\n    this.listContents = null;\r\n    this.selected = null; // actual element currently selected\r\n    this.active = null; // menu item representing the selected element\r\n    this.action = null;\r\n    this.doubleClickAction = doubleClickAction || null;\r\n    this.acceptsDrops = false;\r\n    this.buildListContents();\r\n};\r\n\r\nListMorph.prototype.buildListContents = function () {\r\n    var myself = this;\r\n    if (this.listContents) {\r\n        this.listContents.destroy();\r\n    }\r\n    this.listContents = new MenuMorph(\r\n        this.select,\r\n        null,\r\n        this\r\n    );\r\n    if (this.elements.length === 0) {\r\n        this.elements = ['(empty)'];\r\n    }\r\n    this.elements.forEach(function (element) {\r\n        var color = null,\r\n            bold = false,\r\n            italic = false;\r\n\r\n        myself.format.forEach(function (pair) {\r\n            if (pair[1].call(null, element)) {\r\n                if (pair[0] === 'bold') {\r\n                    bold = true;\r\n                } else if (pair[0] === 'italic') {\r\n                    italic = true;\r\n                } else { // assume it's a color\r\n                    color = pair[0];\r\n                }\r\n            }\r\n        });\r\n        myself.listContents.addItem(\r\n            myself.labelGetter(element), // label string\r\n            element, // action\r\n            null, // hint\r\n            color,\r\n            bold,\r\n            italic,\r\n            myself.doubleClickAction\r\n        );\r\n    });\r\n    this.listContents.isListContents = true;\r\n    this.listContents.drawNew();\r\n    this.listContents.setPosition(this.contents.position());\r\n    this.addContents(this.listContents);\r\n};\r\n\r\nListMorph.prototype.select = function (item, trigger) {\r\n    if (isNil(item)) {return; }\r\n    this.selected = item;\r\n    this.active = trigger;\r\n    if (this.action) {\r\n        this.action.call(null, item);\r\n    }\r\n};\r\n\r\nListMorph.prototype.setExtent = function (aPoint) {\r\n    var lb = this.listContents.bounds,\r\n        nb = this.bounds.origin.copy().corner(\r\n            this.bounds.origin.add(aPoint)\r\n        );\r\n\r\n    if (nb.right() > lb.right() && nb.width() <= lb.width()) {\r\n        this.listContents.setRight(nb.right());\r\n    }\r\n    if (nb.bottom() > lb.bottom() && nb.height() <= lb.height()) {\r\n        this.listContents.setBottom(nb.bottom());\r\n    }\r\n    ListMorph.uber.setExtent.call(this, aPoint);\r\n};\r\n\r\nListMorph.prototype.activeIndex = function () {\r\n    return this.listContents.children.indexOf(this.active);\r\n};\r\n\r\nListMorph.prototype.activateIndex = function (idx) {\r\n    var item = this.listContents.children[idx];\r\n    if (!item) {return; }\r\n    item.image = item.pressImage;\r\n    item.changed();\r\n    item.trigger();\r\n};\r\n\r\n// StringFieldMorph ////////////////////////////////////////////////////\r\n\r\n// StringFieldMorph inherit from FrameMorph:\r\n\r\nStringFieldMorph.prototype = new FrameMorph();\r\nStringFieldMorph.prototype.constructor = StringFieldMorph;\r\nStringFieldMorph.uber = FrameMorph.prototype;\r\n\r\nfunction StringFieldMorph(\r\n    defaultContents,\r\n    minWidth,\r\n    fontSize,\r\n    fontStyle,\r\n    bold,\r\n    italic,\r\n    isNumeric\r\n) {\r\n    this.init(\r\n        defaultContents || '',\r\n        minWidth || 100,\r\n        fontSize || 12,\r\n        fontStyle || 'sans-serif',\r\n        bold || false,\r\n        italic || false,\r\n        isNumeric\r\n    );\r\n}\r\n\r\nStringFieldMorph.prototype.init = function (\r\n    defaultContents,\r\n    minWidth,\r\n    fontSize,\r\n    fontStyle,\r\n    bold,\r\n    italic,\r\n    isNumeric\r\n) {\r\n    this.defaultContents = defaultContents;\r\n    this.minWidth = minWidth;\r\n    this.fontSize = fontSize;\r\n    this.fontStyle = fontStyle;\r\n    this.isBold = bold;\r\n    this.isItalic = italic;\r\n    this.isNumeric = isNumeric || false;\r\n    this.text = null;\r\n    StringFieldMorph.uber.init.call(this);\r\n    this.color = new Color(255, 255, 255);\r\n    this.isEditable = true;\r\n    this.acceptsDrops = false;\r\n    this.drawNew();\r\n};\r\n\r\nStringFieldMorph.prototype.drawNew = function () {\r\n    var txt;\r\n    txt = this.text ? this.string() : this.defaultContents;\r\n    this.text = null;\r\n    this.children.forEach(function (child) {\r\n        child.destroy();\r\n    });\r\n    this.children = [];\r\n    this.text = new StringMorph(\r\n        txt,\r\n        this.fontSize,\r\n        this.fontStyle,\r\n        this.isBold,\r\n        this.isItalic,\r\n        this.isNumeric\r\n    );\r\n\r\n    this.text.isNumeric = this.isNumeric; // for whichever reason...\r\n    this.text.setPosition(this.bounds.origin.copy());\r\n    this.text.isEditable = this.isEditable;\r\n    this.text.isDraggable = false;\r\n    this.text.enableSelecting();\r\n    this.silentSetExtent(\r\n        new Point(\r\n            Math.max(this.width(), this.minWidth),\r\n            this.text.height()\r\n        )\r\n    );\r\n    StringFieldMorph.uber.drawNew.call(this);\r\n    this.add(this.text);\r\n};\r\n\r\nStringFieldMorph.prototype.string = function () {\r\n    return this.text.text;\r\n};\r\n\r\nStringFieldMorph.prototype.mouseClickLeft = function (pos) {\r\n    if (this.isEditable) {\r\n        this.text.edit();\r\n    } else {\r\n        this.escalateEvent('mouseClickLeft', pos);\r\n    }\r\n};\r\n\r\n// BouncerMorph ////////////////////////////////////////////////////////\r\n\r\n// I am a Demo of a stepping custom Morph\r\n\r\nvar BouncerMorph;\r\n\r\n// Bouncers inherit from Morph:\r\n\r\nBouncerMorph.prototype = new Morph();\r\nBouncerMorph.prototype.constructor = BouncerMorph;\r\nBouncerMorph.uber = Morph.prototype;\r\n\r\n// BouncerMorph instance creation:\r\n\r\nfunction BouncerMorph() {\r\n    this.init();\r\n}\r\n\r\n// BouncerMorph initialization:\r\n\r\nBouncerMorph.prototype.init = function (type, speed) {\r\n    BouncerMorph.uber.init.call(this);\r\n    this.fps = 50;\r\n\r\n    // additional properties:\r\n    this.isStopped = false;\r\n    this.type = type || 'vertical';\r\n    if (this.type === 'vertical') {\r\n        this.direction = 'down';\r\n    } else {\r\n        this.direction = 'right';\r\n    }\r\n    this.speed = speed || 1;\r\n};\r\n\r\n// BouncerMorph moving:\r\n\r\nBouncerMorph.prototype.moveUp = function () {\r\n    this.moveBy(new Point(0, -this.speed));\r\n};\r\n\r\nBouncerMorph.prototype.moveDown = function () {\r\n    this.moveBy(new Point(0, this.speed));\r\n};\r\n\r\nBouncerMorph.prototype.moveRight = function () {\r\n    this.moveBy(new Point(this.speed, 0));\r\n};\r\n\r\nBouncerMorph.prototype.moveLeft = function () {\r\n    this.moveBy(new Point(-this.speed, 0));\r\n};\r\n\r\n// BouncerMorph stepping:\r\n\r\nBouncerMorph.prototype.step = function () {\r\n    if (!this.isStopped) {\r\n        if (this.type === 'vertical') {\r\n            if (this.direction === 'down') {\r\n                this.moveDown();\r\n            } else {\r\n                this.moveUp();\r\n            }\r\n            if (this.fullBounds().top() < this.parent.top() &&\r\n                    this.direction === 'up') {\r\n                this.direction = 'down';\r\n            }\r\n            if (this.fullBounds().bottom() > this.parent.bottom() &&\r\n                    this.direction === 'down') {\r\n                this.direction = 'up';\r\n            }\r\n        } else if (this.type === 'horizontal') {\r\n            if (this.direction === 'right') {\r\n                this.moveRight();\r\n            } else {\r\n                this.moveLeft();\r\n            }\r\n            if (this.fullBounds().left() < this.parent.left() &&\r\n                    this.direction === 'left') {\r\n                this.direction = 'right';\r\n            }\r\n            if (this.fullBounds().right() > this.parent.right() &&\r\n                    this.direction === 'right') {\r\n                this.direction = 'left';\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\n// HandMorph ///////////////////////////////////////////////////////////\r\n\r\n// I represent the Mouse cursor\r\n\r\n// HandMorph inherits from Morph:\r\n\r\nHandMorph.prototype = new Morph();\r\nHandMorph.prototype.constructor = HandMorph;\r\nHandMorph.uber = Morph.prototype;\r\n\r\n// HandMorph instance creation:\r\n\r\nfunction HandMorph(aWorld) {\r\n    this.init(aWorld);\r\n}\r\n\r\n// HandMorph initialization:\r\n\r\nHandMorph.prototype.init = function (aWorld) {\r\n    HandMorph.uber.init.call(this, true);\r\n    this.bounds = new Rectangle();\r\n\r\n    // additional properties:\r\n    this.world = aWorld;\r\n    this.mouseButton = null;\r\n    this.mouseOverList = [];\r\n    this.morphToGrab = null;\r\n    this.grabPosition = null;\r\n    this.grabOrigin = null;\r\n    this.temporaries = [];\r\n    this.touchHoldTimeout = null;\r\n    this.contextMenuEnabled = false;\r\n};\r\n\r\nHandMorph.prototype.changed = function () {\r\n    var b;\r\n    if (this.world !== null) {\r\n        b = this.fullBounds();\r\n        if (!b.extent().eq(new Point())) {\r\n            this.world.broken.push(b.spread());\r\n        }\r\n    }\r\n};\r\n\r\nHandMorph.prototype.fullChanged = HandMorph.prototype.changed;\r\n\r\n// HandMorph navigation:\r\n\r\nHandMorph.prototype.morphAtPointer = function () {\r\n    return this.world.topMorphAt(this.bounds.origin) || this.world;\r\n};\r\n\r\nHandMorph.prototype.allMorphsAtPointer = function () {\r\n    var morphs = this.world.allChildren(),\r\n        myself = this;\r\n    return morphs.filter(function (m) {\r\n        return m.isVisible &&\r\n            m.visibleBounds().containsPoint(myself.bounds.origin);\r\n    });\r\n};\r\n\r\n// HandMorph dragging and dropping:\r\n/*\r\n    drag 'n' drop events, method(arg) -> receiver:\r\n\r\n        prepareToBeGrabbed(handMorph) -> grabTarget\r\n        reactToGrabOf(grabbedMorph) -> oldParent\r\n        wantsDropOf(morphToDrop) ->  newParent\r\n        justDropped(handMorph) -> droppedMorph\r\n        reactToDropOf(droppedMorph, handMorph) -> newParent\r\n*/\r\n\r\nHandMorph.prototype.dropTargetFor = function (aMorph) {\r\n    var target = this.morphAtPointer();\r\n    while (!target.wantsDropOf(aMorph)) {\r\n        target = target.parent;\r\n    }\r\n    return target;\r\n};\r\n\r\nHandMorph.prototype.grab = function (aMorph) {\r\n    var oldParent = aMorph.parent;\r\n    if (aMorph instanceof WorldMorph) {\r\n        return null;\r\n    }\r\n    if (this.children.length === 0) {\r\n        this.world.stopEditing();\r\n        this.grabOrigin = aMorph.situation();\r\n        aMorph.addShadow();\r\n        if (aMorph.prepareToBeGrabbed) {\r\n            aMorph.prepareToBeGrabbed(this);\r\n        }\r\n        aMorph.cachedFullImage = aMorph.fullImageClassic();\r\n        aMorph.cachedFullBounds = aMorph.fullBounds();\r\n        this.add(aMorph);\r\n        this.changed();\r\n        if (oldParent && oldParent.reactToGrabOf) {\r\n            oldParent.reactToGrabOf(aMorph);\r\n        }\r\n    }\r\n};\r\n\r\nHandMorph.prototype.drop = function () {\r\n    var target, morphToDrop;\r\n    if (this.children.length !== 0) {\r\n        morphToDrop = this.children[0];\r\n        target = this.dropTargetFor(morphToDrop);\r\n        target = target.selectForEdit ? target.selectForEdit() : target;\r\n        this.changed();\r\n        target.add(morphToDrop);\r\n        morphToDrop.cachedFullImage = null;\r\n        morphToDrop.cachedFullBounds = null;\r\n        morphToDrop.changed();\r\n        morphToDrop.removeShadow();\r\n        this.children = [];\r\n        this.setExtent(new Point());\r\n        if (morphToDrop.justDropped) {\r\n            morphToDrop.justDropped(this);\r\n        }\r\n        if (target.reactToDropOf) {\r\n            target.reactToDropOf(morphToDrop, this);\r\n        }\r\n    }\r\n};\r\n\r\n// HandMorph event dispatching:\r\n/*\r\n    mouse events:\r\n\r\n        mouseDownLeft\r\n        mouseDownRight\r\n        mouseClickLeft\r\n        mouseClickRight\r\n        mouseDoubleClick\r\n        mouseEnter\r\n        mouseLeave\r\n        mouseEnterDragging\r\n        mouseLeaveDragging\r\n        mouseMove\r\n        mouseScroll\r\n*/\r\n\r\nHandMorph.prototype.processMouseDown = function (event) {\r\n    var morph, actualClick;\r\n\r\n    this.destroyTemporaries();\r\n    this.contextMenuEnabled = true;\r\n    this.morphToGrab = null;\r\n    this.grabPosition = null;\r\n    if (this.children.length !== 0) {\r\n        this.drop();\r\n        this.mouseButton = null;\r\n    } else {\r\n        morph = this.morphAtPointer();\r\n        if (this.world.activeMenu) {\r\n            if (!contains(\r\n                    morph.allParents(),\r\n                    this.world.activeMenu\r\n                )) {\r\n                this.world.activeMenu.destroy();\r\n            } else {\r\n                clearInterval(this.touchHoldTimeout);\r\n            }\r\n        }\r\n        if (this.world.activeHandle) {\r\n            if (morph !== this.world.activeHandle) {\r\n                this.world.activeHandle.destroy();\r\n            }\r\n        }\r\n        if (this.world.cursor) {\r\n            if (morph !== this.world.cursor.target) {\r\n                this.world.stopEditing();\r\n            }\r\n        }\r\n        if (!morph.mouseMove) {\r\n            this.morphToGrab = morph.rootForGrab();\r\n            this.grabPosition = this.bounds.origin.copy();\r\n        }\r\n        if (event.button === 2 || event.ctrlKey) {\r\n            this.mouseButton = 'right';\r\n            actualClick = 'mouseDownRight';\r\n        } else {\r\n            this.mouseButton = 'left';\r\n            actualClick = 'mouseDownLeft';\r\n        }\r\n        while (!morph[actualClick]) {\r\n            morph = morph.parent;\r\n        }\r\n        morph[actualClick](this.bounds.origin);\r\n    }\r\n};\r\n\r\nHandMorph.prototype.processTouchStart = function (event) {\r\n    var myself = this;\r\n    MorphicPreferences.isTouchDevice = true;\r\n    clearInterval(this.touchHoldTimeout);\r\n    if (event.touches.length === 1) {\r\n        this.touchHoldTimeout = setInterval( // simulate mouseRightClick\r\n            function () {\r\n                myself.processMouseDown({button: 2});\r\n                myself.processMouseUp({button: 2});\r\n                event.preventDefault();\r\n                clearInterval(myself.touchHoldTimeout);\r\n            },\r\n            400\r\n        );\r\n        this.processMouseMove(event.touches[0]); // update my position\r\n        this.processMouseDown({button: 0});\r\n        event.preventDefault();\r\n    }\r\n};\r\n\r\nHandMorph.prototype.processTouchMove = function (event) {\r\n    MorphicPreferences.isTouchDevice = true;\r\n    if (event.touches.length === 1) {\r\n        var touch = event.touches[0];\r\n        this.processMouseMove(touch);\r\n        clearInterval(this.touchHoldTimeout);\r\n    }\r\n};\r\n\r\nHandMorph.prototype.processTouchEnd = function (event) {\r\n    MorphicPreferences.isTouchDevice = true;\r\n    clearInterval(this.touchHoldTimeout);\r\n    nop(event);\r\n    this.processMouseUp({button: 0});\r\n};\r\n\r\nHandMorph.prototype.processMouseUp = function () {\r\n    var morph = this.morphAtPointer(),\r\n        context,\r\n        contextMenu,\r\n        expectedClick;\r\n\r\n    this.destroyTemporaries();\r\n    if (this.children.length !== 0) {\r\n        this.drop();\r\n    } else {\r\n        if (this.mouseButton === 'left') {\r\n            expectedClick = 'mouseClickLeft';\r\n        } else {\r\n            expectedClick = 'mouseClickRight';\r\n            if (this.mouseButton && this.contextMenuEnabled) {\r\n                context = morph;\r\n                contextMenu = context.contextMenu();\r\n                while ((!contextMenu) &&\r\n                        context.parent) {\r\n                    context = context.parent;\r\n                    contextMenu = context.contextMenu();\r\n                }\r\n                if (contextMenu) {\r\n                    contextMenu.popUpAtHand(this.world);\r\n                }\r\n            }\r\n        }\r\n        while (!morph[expectedClick]) {\r\n            morph = morph.parent;\r\n        }\r\n        morph[expectedClick](this.bounds.origin);\r\n    }\r\n    this.mouseButton = null;\r\n};\r\n\r\nHandMorph.prototype.processDoubleClick = function () {\r\n    var morph = this.morphAtPointer();\r\n\r\n    this.destroyTemporaries();\r\n    if (this.children.length !== 0) {\r\n        this.drop();\r\n    } else {\r\n        while (morph && !morph.mouseDoubleClick) {\r\n            morph = morph.parent;\r\n        }\r\n        if (morph) {\r\n            morph.mouseDoubleClick(this.bounds.origin);\r\n        }\r\n    }\r\n    this.mouseButton = null;\r\n};\r\n\r\nHandMorph.prototype.processMouseMove = function (event) {\r\n    var pos,\r\n        posInDocument = getDocumentPositionOf(this.world.worldCanvas),\r\n        mouseOverNew,\r\n        myself = this,\r\n        morph,\r\n        topMorph;\r\n\r\n    pos = new Point(\r\n        event.pageX - posInDocument.x,\r\n        event.pageY - posInDocument.y\r\n    );\r\n\r\n    this.setPosition(pos);\r\n\r\n    // determine the new mouse-over-list:\r\n    // mouseOverNew = this.allMorphsAtPointer();\r\n    mouseOverNew = this.morphAtPointer().allParents();\r\n\r\n    if (!this.children.length && this.mouseButton) {\r\n        topMorph = this.morphAtPointer();\r\n        morph = topMorph.rootForGrab();\r\n        if (topMorph.mouseMove) {\r\n            topMorph.mouseMove(pos, this.mouseButton);\r\n            if (this.mouseButton === 'right') {\r\n                this.contextMenuEnabled = false;\r\n            }\r\n        }\r\n\r\n        // if a morph is marked for grabbing, just grab it\r\n        if (this.mouseButton === 'left' &&\r\n                this.morphToGrab &&\r\n                (this.grabPosition.distanceTo(this.bounds.origin) >\r\n                    MorphicPreferences.grabThreshold)) {\r\n            this.setPosition(this.grabPosition);\r\n            if (this.morphToGrab.isDraggable) {\r\n                morph = this.morphToGrab.selectForEdit ?\r\n                        this.morphToGrab.selectForEdit() : this.morphToGrab;\r\n                this.grab(morph);\r\n            } else if (this.morphToGrab.isTemplate) {\r\n                morph = this.morphToGrab.fullCopy();\r\n                morph.isTemplate = false;\r\n                morph.isDraggable = true;\r\n                if (morph.reactToTemplateCopy) {\r\n                    morph.reactToTemplateCopy();\r\n                }\r\n                this.grab(morph);\r\n                this.grabOrigin = this.morphToGrab.situation();\r\n            }\r\n            this.setPosition(pos);\r\n        }\r\n    }\r\n\r\n    this.mouseOverList.forEach(function (old) {\r\n        if (!contains(mouseOverNew, old)) {\r\n            if (old.mouseLeave) {\r\n                old.mouseLeave();\r\n            }\r\n            if (old.mouseLeaveDragging && myself.mouseButton) {\r\n                old.mouseLeaveDragging();\r\n            }\r\n        }\r\n    });\r\n    mouseOverNew.forEach(function (newMorph) {\r\n        if (!contains(myself.mouseOverList, newMorph)) {\r\n            if (newMorph.mouseEnter) {\r\n                newMorph.mouseEnter();\r\n            }\r\n            if (newMorph.mouseEnterDragging && myself.mouseButton) {\r\n                newMorph.mouseEnterDragging();\r\n            }\r\n        }\r\n\r\n        // autoScrolling support:\r\n        if (myself.children.length > 0) {\r\n            if (newMorph instanceof ScrollFrameMorph &&\r\n                    newMorph.enableAutoScrolling &&\r\n                    newMorph.contents.allChildren().some(function (any) {\r\n                        return any.wantsDropOf(myself.children[0]);\r\n                    })\r\n            ) {\r\n                if (!newMorph.bounds.insetBy(\r\n                        MorphicPreferences.scrollBarSize * 3\r\n                    ).containsPoint(myself.bounds.origin)) {\r\n                    newMorph.startAutoScrolling();\r\n                }\r\n            }\r\n        }\r\n    });\r\n    this.mouseOverList = mouseOverNew;\r\n};\r\n\r\nHandMorph.prototype.processMouseScroll = function (event) {\r\n    var morph = this.morphAtPointer();\r\n    while (morph && !morph.mouseScroll) {\r\n        morph = morph.parent;\r\n    }\r\n    if (morph) {\r\n        morph.mouseScroll(\r\n            (event.detail / -3) || (\r\n                Object.prototype.hasOwnProperty.call(\r\n                    event,\r\n                    'wheelDeltaY'\r\n                ) ?\r\n                        event.wheelDeltaY / 120 :\r\n                        event.wheelDelta / 120\r\n            ),\r\n            event.wheelDeltaX / 120 || 0\r\n        );\r\n    }\r\n};\r\n\r\n/*\r\n    drop event:\r\n\r\n        droppedImage\r\n        droppedSVG\r\n        droppedAudio\r\n        droppedText\r\n*/\r\n\r\nHandMorph.prototype.processDrop = function (event) {\r\n/*\r\n    find out whether an external image or audio file was dropped\r\n    onto the world canvas, turn it into an offscreen canvas or audio\r\n    element and dispatch the\r\n\r\n        droppedImage(canvas, name)\r\n        droppedSVG(image, name)\r\n        droppedAudio(audio, name)\r\n\r\n    events to interested Morphs at the mouse pointer\r\n*/\r\n    var files = event instanceof FileList ? event\r\n                : event.target.files || event.dataTransfer.files,\r\n        file,\r\n        url = event.dataTransfer ?\r\n                event.dataTransfer.getData('URL') : null,\r\n        txt = event.dataTransfer ?\r\n                event.dataTransfer.getData('Text/HTML') : null,\r\n        suffix,\r\n        src,\r\n        target = this.morphAtPointer(),\r\n        img = new Image(),\r\n        canvas,\r\n        i;\r\n\r\n    function readSVG(aFile) {\r\n        var pic = new Image(),\r\n            frd = new FileReader();\r\n        while (!target.droppedSVG) {\r\n            target = target.parent;\r\n        }\r\n        pic.onload = function () {\r\n            target.droppedSVG(pic, aFile.name);\r\n        };\r\n        frd = new FileReader();\r\n        frd.onloadend = function (e) {\r\n            pic.src = e.target.result;\r\n        };\r\n        frd.readAsDataURL(aFile);\r\n    }\r\n\r\n    function readImage(aFile) {\r\n        var pic = new Image(),\r\n            frd = new FileReader();\r\n        while (!target.droppedImage) {\r\n            target = target.parent;\r\n        }\r\n        pic.onload = function () {\r\n            canvas = newCanvas(new Point(pic.width, pic.height), true);\r\n            canvas.getContext('2d').drawImage(pic, 0, 0);\r\n            target.droppedImage(canvas, aFile.name);\r\n        };\r\n        frd = new FileReader();\r\n        frd.onloadend = function (e) {\r\n            pic.src = e.target.result;\r\n        };\r\n        frd.readAsDataURL(aFile);\r\n    }\r\n\r\n    function readAudio(aFile) {\r\n        var snd = new Audio(),\r\n            frd = new FileReader();\r\n        while (!target.droppedAudio) {\r\n            target = target.parent;\r\n        }\r\n        frd.onloadend = function (e) {\r\n            snd.src = e.target.result;\r\n            target.droppedAudio(snd, aFile.name);\r\n        };\r\n        frd.readAsDataURL(aFile);\r\n    }\r\n\r\n    function readText(aFile) {\r\n        var frd = new FileReader();\r\n        while (!target.droppedText) {\r\n            target = target.parent;\r\n        }\r\n        frd.onloadend = function (e) {\r\n            target.droppedText(e.target.result, aFile.name);\r\n            \r\n        };\r\n        frd.readAsText(aFile);\r\n        \r\n    }\r\n\r\n    function readBinary(aFile) {\r\n        var frd = new FileReader();\r\n        while (!target.droppedBinary) {\r\n            target = target.parent;\r\n        }\r\n        frd.onloadend = function (e) {\r\n            target.droppedBinary(e.target.result, aFile.name);\r\n        };\r\n        frd.readAsArrayBuffer(aFile);\r\n    }\r\n\r\n    function readURL(url, callback) {\r\n        var request = new XMLHttpRequest();\r\n        request.open('GET', url);\r\n        request.onreadystatechange = function () {\r\n            if (request.readyState === 4) {\r\n                if (request.responseText) {\r\n                    callback(request.responseText);\r\n                } else {\r\n                    throw new Error('unable to retrieve ' + url);\r\n                }\r\n            }\r\n        };\r\n        request.send();\r\n    }\r\n\r\n    function parseImgURL(html) {\r\n        var iurl = '',\r\n            idx,\r\n            c,\r\n            start = html.indexOf('<img src=\"');\r\n        if (start === -1) {return null; }\r\n        start += 10;\r\n        for (idx = start; idx < html.length; idx += 1) {\r\n            c = html[idx];\r\n            if (c === '\"') {\r\n                return iurl;\r\n            }\r\n            iurl = iurl.concat(c);\r\n        }\r\n        return null;\r\n    }\r\n\r\n    if (files.length > 0) {\r\n        for (i = 0; i < files.length; i += 1) {\r\n            file = files[i];\r\n            if (file.type.indexOf(\"svg\") !== -1\r\n                    && !MorphicPreferences.rasterizeSVGs) {\r\n                readSVG(file);\r\n            } else if (file.type.indexOf(\"image\") === 0) {\r\n                readImage(file);\r\n            } else if (file.type.indexOf(\"audio\") === 0) {\r\n                readAudio(file);\r\n            } else if (file.type.indexOf(\"text\") === 0) {\r\n                readText(file);\r\n            } else { // assume it's meant to be binary\r\n                readBinary(file);\r\n            }\r\n        }\r\n    } else if (url) {\r\n        suffix = url.slice(url.lastIndexOf('.') + 1).toLowerCase();\r\n        if (\r\n            contains(\r\n                ['gif', 'png', 'jpg', 'jpeg', 'bmp'],\r\n                suffix\r\n            )\r\n        ) {\r\n            while (!target.droppedImage) {\r\n                target = target.parent;\r\n            }\r\n            img = new Image();\r\n            img.onload = function () {\r\n                canvas = newCanvas(new Point(img.width, img.height), true);\r\n                canvas.getContext('2d').drawImage(img, 0, 0);\r\n                target.droppedImage(canvas);\r\n            };\r\n            img.src = url;\r\n        } else if (suffix === 'svg' && !MorphicPreferences.rasterizeSVGs) {\r\n            while (!target.droppedSVG) {\r\n                target = target.parent;\r\n            }\r\n            readURL(\r\n                url,\r\n                function (txt) {\r\n                    var pic = new Image();\r\n                    pic.onload = function () {\r\n                        target.droppedSVG(\r\n                            pic,\r\n                            url.slice(\r\n                                url.lastIndexOf('/') + 1,\r\n                                url.lastIndexOf('.')\r\n                            )\r\n                        );\r\n                    };\r\n                    pic.src = 'data:image/svg+xml;utf8,' +\r\n                        encodeURIComponent(txt);\r\n                }\r\n            );\r\n        }\r\n    } else if (txt) {\r\n        while (!target.droppedImage) {\r\n            target = target.parent;\r\n        }\r\n        img = new Image();\r\n        img.onload = function () {\r\n            canvas = newCanvas(new Point(img.width, img.height), true);\r\n            canvas.getContext('2d').drawImage(img, 0, 0);\r\n            target.droppedImage(canvas);\r\n        };\r\n        src = parseImgURL(txt);\r\n        if (src) {img.src = src; }\r\n    }\r\n};\r\n\r\n// HandMorph tools\r\n\r\nHandMorph.prototype.destroyTemporaries = function () {\r\n\r\n\r\n/*\r\n    temporaries are just an array of morphs which will be deleted upon\r\n    the next mouse click, or whenever another temporary Morph decides\r\n    that it needs to remove them. The primary purpose of temporaries is\r\n    to display tools tips of speech bubble help.\r\n*/\r\n    var myself = this;\r\n    this.temporaries.forEach(function (morph) {\r\n        if (!(morph.isClickable\r\n                && morph.bounds.containsPoint(myself.position()))) {\r\n            morph.destroy();\r\n            myself.temporaries.splice(myself.temporaries.indexOf(morph), 1);\r\n        }\r\n    });\r\n};\r\n\r\n\r\n\r\n// WorldMorph //////////////////////////////////////////////////////////\r\n\r\n// I represent the <canvas> element\r\n\r\n// WorldMorph inherits from FrameMorph:\r\nWorldMorph.prototype = new FrameMorph();\r\nWorldMorph.prototype.constructor = WorldMorph;\r\nWorldMorph.uber = FrameMorph.prototype;\r\n\r\n// WorldMorph instance creation:\r\n\r\nfunction WorldMorph(aCanvas, fillPage) {\r\n\r\n    this.init(aCanvas, fillPage);\r\n}\r\n\r\n// WorldMorph initialization:\r\n\r\nWorldMorph.prototype.init = function (aCanvas, fillPage) {\r\n\r\n    WorldMorph.uber.init.call(this);\r\n    this.color = new Color(205, 205, 205); // (130, 130, 130)\r\n    this.alpha = 1;\r\n    this.bounds = new Rectangle(0, 0, aCanvas.width, aCanvas.height);\r\n    this.drawNew();\r\n    this.isVisible = true;\r\n    this.isDraggable = false;\r\n    this.currentKey = null; // currently pressed key code\r\n    this.worldCanvas = aCanvas;\r\n    this.noticesTransparentClick = true;\r\n\r\n    // additional properties:\r\n    this.stamp = Date.now(); // reference in multi-world setups\r\n    while (this.stamp === Date.now()) {nop(); }\r\n    this.stamp = Date.now();\r\n\r\n    this.useFillPage = fillPage;\r\n    if (this.useFillPage === undefined) {\r\n        this.useFillPage = true;\r\n    }\r\n    this.isDevMode = false;\r\n    this.broken = [];\r\n    this.animations = [];\r\n    this.hand = new HandMorph(this);\r\n    this.keyboardReceiver = null;\r\n    this.cursor = null;\r\n    this.lastEditedText = null;\r\n    this.activeMenu = null;\r\n    this.activeHandle = null;\r\n    this.virtualKeyboard = null;\r\n\r\n    this.initEventListeners();\r\n};\r\n\r\n// World Morph display:\r\n\r\nWorldMorph.prototype.brokenFor = function (aMorph) {\r\n    // private\r\n    var fb = aMorph.fullBounds();\r\n    return this.broken.filter(function (rect) {\r\n        return rect.intersects(fb);\r\n    });\r\n};\r\n\r\nWorldMorph.prototype.fullDrawOn = function (aCanvas, aRect) {\r\n    WorldMorph.uber.fullDrawOn.call(this, aCanvas, aRect);\r\n    this.hand.fullDrawOn(aCanvas, aRect);\r\n};\r\n\r\nWorldMorph.prototype.updateBroken = function () {\r\n    var myself = this;\r\n    this.condenseDamages();\r\n    this.broken.forEach(function (rect) {\r\n        if (rect.extent().gt(new Point(0, 0))) {\r\n            myself.fullDrawOn(myself.worldCanvas, rect);\r\n        }\r\n    });\r\n    this.broken = [];\r\n};\r\n\r\nWorldMorph.prototype.stepAnimations = function () {\r\n    this.animations.forEach(function (anim) {anim.step(); });\r\n    this.animations = this.animations.filter(function (anim) {\r\n        return anim.isActive;\r\n    });\r\n};\r\n\r\nWorldMorph.prototype.condenseDamages = function () {\r\n    // collapse clustered damaged rectangles into their unions,\r\n    // thereby reducing the array of brokens to a manageable size\r\n\r\n    function condense(src) {\r\n        var trgt = [], hit;\r\n        src.forEach(function (rect) {\r\n            hit = detect(\r\n                trgt,\r\n                function (each) {return each.isNearTo(rect, 20); }\r\n            );\r\n            if (hit) {\r\n                hit.mergeWith(rect);\r\n            } else {\r\n                trgt.push(rect);\r\n            }\r\n        });\r\n        return trgt;\r\n    }\r\n\r\n    var again = true, size = this.broken.length;\r\n    while (again) {\r\n        this.broken = condense(this.broken);\r\n        again = (this.broken.length < size);\r\n        size = this.broken.length;\r\n    }\r\n};\r\n\r\nWorldMorph.prototype.doOneCycle = function () {\r\n    this.stepFrame();\r\n    this.stepAnimations();\r\n    this.updateBroken();\r\n};\r\n\r\n// Wiquid : Resize Canvas respecting proportionality\r\n// Adaptativ solution\r\n// Change clientHeight and Width but keep same proportion for this.worldCanvas.style.width / height\r\n\r\nWorldMorph.prototype.fillPage = function () {\r\n    var clientHeight = window.innerHeight, //Wiquid : Here example /2\r\n        clientWidth = window.innerWidth,   //Wiquid : Here\r\n        myself = this;\r\n\r\n    var rect = document.getElementsByClassName(\"SnapForTao\")[0].getBoundingClientRect();\r\n    clientHeight = clientHeight * 0.9; //Define height of Snap\r\n    clientWidth = clientWidth * 1 - rect.left - 100; //Define width of Snap but in adaptativ mode \r\n\r\n    this.worldCanvas.style.position = \"relative\";\r\n    this.worldCanvas.style.left = \"0px\";\r\n    this.worldCanvas.style.right = \"0px\";\r\n   // this.worldCanvas.style.width = \"100%\";  //Wiquid : Here example : 50%\r\n   // this.worldCanvas.style.height = \"100%\"; //Wiquid : Here\r\n\r\n    if (document.documentElement.scrollTop) {\r\n        // scrolled down b/c of viewport scaling\r\n        clientHeight = document.documentElement.clientHeight;\r\n    }\r\n    if (document.documentElement.scrollLeft) {\r\n        // scrolled left b/c of viewport scaling\r\n        clientWidth = document.documentElement.clientWidth;\r\n    }\r\n    if (this.worldCanvas.width !== clientWidth) {\r\n        this.worldCanvas.width = clientWidth;\r\n        this.setWidth(clientWidth);\r\n    }\r\n    if (this.worldCanvas.height !== clientHeight) {\r\n        this.worldCanvas.height = clientHeight;\r\n        this.setHeight(clientHeight);\r\n    }\r\n    this.children.forEach(function (child) {\r\n        if (child.reactToWorldResize) {\r\n            child.reactToWorldResize(myself.bounds.copy());\r\n        }\r\n    });\r\n};\r\n\r\n// WorldMorph global pixel access:\r\n\r\nWorldMorph.prototype.getGlobalPixelColor = function (point) {\r\n    // answer the color at the given point.\r\n\r\n/*\r\n    // original method, now deprecated as of 4/4/2017 because Chrome\r\n    // \"taints\" the on-screen canvas as soon as its image data is\r\n    // requested, significantly slowing down subsequent blittings\r\n\r\n    var dta = this.worldCanvas.getContext('2d').getImageData(\r\n        point.x,\r\n        point.y,\r\n        1,\r\n        1\r\n    ).data;\r\n    return new Color(dta[0], dta[1], dta[2]);\r\n*/\r\n\r\n    var clr = this.hand.morphAtPointer().getPixelColor(this.hand.position());\r\n    // IMPORTANT:\r\n    // all callers of getGlobalPixelColor should make provisions for retina\r\n    // display support, which gets null-pixels interlaced with non-null ones:\r\n    // if (!clr.a) {/* ignore */ }\r\n    return clr;\r\n};\r\n\r\n// WorldMorph events:\r\n\r\nWorldMorph.prototype.initVirtualKeyboard = function () {\r\n    var myself = this;\r\n\r\n    if (this.virtualKeyboard) {\r\n        document.body.removeChild(this.virtualKeyboard);\r\n        this.virtualKeyboard = null;\r\n    }\r\n    if (!MorphicPreferences.isTouchDevice\r\n            || !MorphicPreferences.useVirtualKeyboard) {\r\n        return;\r\n    }\r\n    this.virtualKeyboard = document.createElement(\"input\");\r\n    this.virtualKeyboard.type = \"text\";\r\n    this.virtualKeyboard.style.color = \"transparent\";\r\n    this.virtualKeyboard.style.backgroundColor = \"transparent\";\r\n    this.virtualKeyboard.style.border = \"none\";\r\n    this.virtualKeyboard.style.outline = \"none\";\r\n    this.virtualKeyboard.style.position = \"absolute\";\r\n    this.virtualKeyboard.style.top = \"0px\";\r\n    this.virtualKeyboard.style.left = \"0px\";\r\n    this.virtualKeyboard.style.width = \"0px\";\r\n    this.virtualKeyboard.style.height = \"0px\";\r\n    this.virtualKeyboard.autocapitalize = \"none\"; // iOS specific\r\n    document.body.appendChild(this.virtualKeyboard);\r\n\r\n    this.virtualKeyboard.addEventListener(\r\n        \"keydown\",\r\n        function (event) {\r\n            // remember the keyCode in the world's currentKey property\r\n            myself.currentKey = event.keyCode;\r\n            if (myself.keyboardReceiver) {\r\n                myself.keyboardReceiver.processKeyDown(event);\r\n            }\r\n            // supress backspace override\r\n            if (event.keyCode === 8) {\r\n                event.preventDefault();\r\n            }\r\n            // supress tab override and make sure tab gets\r\n            // received by all browsers\r\n            if (event.keyCode === 9) {\r\n                if (myself.keyboardReceiver) {\r\n                    myself.keyboardReceiver.processKeyPress(event);\r\n                }\r\n                event.preventDefault();\r\n            }\r\n        },\r\n        false\r\n    );\r\n\r\n    this.virtualKeyboard.addEventListener(\r\n        \"keyup\",\r\n        function (event) {\r\n            // flush the world's currentKey property\r\n            myself.currentKey = null;\r\n            // dispatch to keyboard receiver\r\n            if (myself.keyboardReceiver) {\r\n                if (myself.keyboardReceiver.processKeyUp) {\r\n                    myself.keyboardReceiver.processKeyUp(event);\r\n                }\r\n            }\r\n            event.preventDefault();\r\n        },\r\n        false\r\n    );\r\n\r\n    this.virtualKeyboard.addEventListener(\r\n        \"keypress\",\r\n        function (event) {\r\n            if (myself.keyboardReceiver) {\r\n                myself.keyboardReceiver.processKeyPress(event);\r\n            }\r\n            event.preventDefault();\r\n        },\r\n        false\r\n    );\r\n};\r\n\r\nWorldMorph.prototype.initEventListeners = function () {\r\n    var canvas = this.worldCanvas, myself = this;\r\n\r\n    if (myself.useFillPage) {\r\n        myself.fillPage();\r\n    } else {\r\n        this.changed();\r\n    }\r\n\r\n    canvas.addEventListener(\r\n        \"mousedown\",\r\n        function (event) {\r\n            event.preventDefault();\r\n            canvas.focus();\r\n            myself.hand.processMouseDown(event);\r\n        },\r\n        false\r\n    );\r\n\r\n    canvas.addEventListener(\r\n        \"touchstart\",\r\n        function (event) {\r\n            myself.hand.processTouchStart(event);\r\n        },\r\n        false\r\n    );\r\n\r\n    canvas.addEventListener(\r\n        \"mouseup\",\r\n        function (event) {\r\n            event.preventDefault();\r\n            myself.hand.processMouseUp(event);\r\n        },\r\n        false\r\n    );\r\n\r\n    canvas.addEventListener(\r\n        \"dblclick\",\r\n        function (event) {\r\n            event.preventDefault();\r\n            myself.hand.processDoubleClick(event);\r\n        },\r\n        false\r\n    );\r\n\r\n    canvas.addEventListener(\r\n        \"touchend\",\r\n        function (event) {\r\n            myself.hand.processTouchEnd(event);\r\n        },\r\n        false\r\n    );\r\n\r\n    canvas.addEventListener(\r\n        \"mousemove\",\r\n        function (event) {\r\n            myself.hand.processMouseMove(event);\r\n        },\r\n        false\r\n    );\r\n\r\n    canvas.addEventListener(\r\n        \"touchmove\",\r\n        function (event) {\r\n            myself.hand.processTouchMove(event);\r\n        },\r\n        false\r\n    );\r\n\r\n    canvas.addEventListener(\r\n        \"contextmenu\",\r\n        function (event) {\r\n            // suppress context menu for Mac-Firefox\r\n            event.preventDefault();\r\n        },\r\n        false\r\n    );\r\n\r\n    canvas.addEventListener(\r\n        \"keydown\",\r\n        function (event) {\r\n            // remember the keyCode in the world's currentKey property\r\n            myself.currentKey = event.keyCode;\r\n            if (myself.keyboardReceiver) {\r\n                myself.keyboardReceiver.processKeyDown(event);\r\n            }\r\n            // supress backspace override\r\n            if (event.keyCode === 8) {\r\n                event.preventDefault();\r\n            }\r\n            // supress tab override and make sure tab gets\r\n            // received by all browsers\r\n            if (event.keyCode === 9) {\r\n                if (myself.keyboardReceiver) {\r\n                    myself.keyboardReceiver.processKeyPress(event);\r\n                }\r\n                event.preventDefault();\r\n            }\r\n            if ((event.ctrlKey && (!event.altKey) || event.metaKey) &&\r\n                    (event.keyCode !== 86)) { // allow pasting-in\r\n                event.preventDefault();\r\n            }\r\n        },\r\n        false\r\n    );\r\n\r\n    canvas.addEventListener(\r\n        \"keyup\",\r\n        function (event) {\r\n            // flush the world's currentKey property\r\n            myself.currentKey = null;\r\n            // dispatch to keyboard receiver\r\n            if (myself.keyboardReceiver) {\r\n                if (myself.keyboardReceiver.processKeyUp) {\r\n                    myself.keyboardReceiver.processKeyUp(event);\r\n                }\r\n            }\r\n            event.preventDefault();\r\n        },\r\n        false\r\n    );\r\n\r\n    canvas.addEventListener(\r\n        \"keypress\",\r\n        function (event) {\r\n            if (myself.keyboardReceiver) {\r\n                myself.keyboardReceiver.processKeyPress(event);\r\n            }\r\n            event.preventDefault();\r\n        },\r\n        false\r\n    );\r\n\r\n    canvas.addEventListener( // Safari, Chrome\r\n        \"mousewheel\",\r\n        function (event) {\r\n            myself.hand.processMouseScroll(event);\r\n            event.preventDefault();\r\n        },\r\n        false\r\n    );\r\n    canvas.addEventListener( // Firefox\r\n        \"DOMMouseScroll\",\r\n        function (event) {\r\n            myself.hand.processMouseScroll(event);\r\n            event.preventDefault();\r\n        },\r\n        false\r\n    );\r\n\r\n    document.body.addEventListener(\r\n        \"paste\",\r\n        function (event) {\r\n            var txt = event.clipboardData.getData(\"Text\");\r\n            if (txt && myself.cursor) {\r\n                myself.cursor.insert(txt);\r\n            }\r\n        },\r\n        false\r\n    );\r\n\r\n    window.addEventListener(\r\n        \"dragover\",\r\n        function (event) {\r\n            event.preventDefault();\r\n        },\r\n        false\r\n    );\r\n    window.addEventListener(\r\n        \"drop\",\r\n        function (event) {\r\n            myself.hand.processDrop(event);\r\n            event.preventDefault();\r\n        },\r\n        false\r\n    );\r\n\r\n    window.addEventListener(\r\n        \"resize\",\r\n        function () {\r\n            if (myself.useFillPage) {\r\n                myself.fillPage();\r\n            }\r\n        },\r\n        false\r\n    );\r\n};\r\n\r\nWorldMorph.prototype.mouseDownLeft = nop;\r\n\r\nWorldMorph.prototype.mouseClickLeft = nop;\r\n\r\nWorldMorph.prototype.mouseDownRight = nop;\r\n\r\nWorldMorph.prototype.mouseClickRight = nop;\r\n\r\nWorldMorph.prototype.wantsDropOf = function () {\r\n    // allow handle drops if any drops are allowed\r\n    return this.acceptsDrops;\r\n};\r\n\r\nWorldMorph.prototype.droppedImage = function () {\r\n    return null;\r\n};\r\n\r\nWorldMorph.prototype.droppedSVG = function () {\r\n    return null;\r\n};\r\n\r\n// WorldMorph text field tabbing:\r\n\r\nWorldMorph.prototype.nextTab = function (editField) {\r\n    var next = this.nextEntryField(editField);\r\n    if (next) {\r\n        editField.clearSelection();\r\n        next.selectAll();\r\n        next.edit();\r\n    }\r\n};\r\n\r\nWorldMorph.prototype.previousTab = function (editField) {\r\n    var prev = this.previousEntryField(editField);\r\n    if (prev) {\r\n        editField.clearSelection();\r\n        prev.selectAll();\r\n        prev.edit();\r\n    }\r\n};\r\n\r\n// WorldMorph menu:\r\n\r\nWorldMorph.prototype.contextMenu = function () {\r\n    var menu;\r\n\r\n    if (this.isDevMode) {\r\n        menu = new MenuMorph(this, this.constructor.name ||\r\n            this.constructor.toString().split(' ')[1].split('(')[0]);\r\n    } else {\r\n        menu = new MenuMorph(this, 'Morphic');\r\n    }\r\n    if (this.isDevMode) {\r\n        menu.addItem(\"demo...\", 'userCreateMorph', 'sample morphs');\r\n        menu.addLine();\r\n        menu.addItem(\"hide all...\", 'hideAll');\r\n        menu.addItem(\"show all...\", 'showAllHiddens');\r\n        menu.addItem(\r\n            \"move all inside...\",\r\n            'keepAllSubmorphsWithin',\r\n            'keep all submorphs\\nwithin and visible'\r\n        );\r\n        menu.addItem(\r\n            \"inspect...\",\r\n            'inspect',\r\n            'open a window on\\nall properties'\r\n        );\r\n        menu.addItem(\r\n            \"screenshot...\",\r\n            function () {\r\n                window.open(this.fullImageClassic().toDataURL());\r\n            },\r\n            'open a new window\\nwith a picture of this morph'\r\n        );\r\n        menu.addLine();\r\n        menu.addItem(\r\n            \"restore display\",\r\n            'changed',\r\n            'redraw the\\nscreen once'\r\n        );\r\n        menu.addItem(\r\n            \"fill page...\",\r\n            'fillPage',\r\n            'let the World automatically\\nadjust to browser resizing'\r\n        );\r\n        if (useBlurredShadows) {\r\n            menu.addItem(\r\n                \"sharp shadows...\",\r\n                'toggleBlurredShadows',\r\n                'sharp drop shadows\\nuse for old browsers'\r\n            );\r\n        } else {\r\n            menu.addItem(\r\n                \"blurred shadows...\",\r\n                'toggleBlurredShadows',\r\n                'blurry shades,\\n use for new browsers'\r\n            );\r\n        }\r\n        menu.addItem(\r\n            \"color...\",\r\n            function () {\r\n                this.pickColor(\r\n                    menu.title + localize('\\ncolor:'),\r\n                    this.setColor,\r\n                    this,\r\n                    this.color\r\n                );\r\n            },\r\n            'choose the World\\'s\\nbackground color'\r\n        );\r\n        if (MorphicPreferences === standardSettings) {\r\n            menu.addItem(\r\n                \"touch screen settings\",\r\n                'togglePreferences',\r\n                'bigger menu fonts\\nand sliders'\r\n            );\r\n        } else {\r\n            menu.addItem(\r\n                \"standard settings\",\r\n                'togglePreferences',\r\n                'smaller menu fonts\\nand sliders'\r\n            );\r\n        }\r\n        menu.addLine();\r\n    }\r\n    if (this.isDevMode) {\r\n        menu.addItem(\r\n            \"user mode...\",\r\n            'toggleDevMode',\r\n            'disable developers\\'\\ncontext menus'\r\n        );\r\n    } else {\r\n        menu.addItem(\"development mode...\", 'toggleDevMode');\r\n    }\r\n    menu.addItem(\"about morphic.js...\", 'about');\r\n    return menu;\r\n};\r\n\r\nWorldMorph.prototype.userCreateMorph = function () {\r\n    var myself = this, menu, newMorph;\r\n\r\n    function create(aMorph) {\r\n        aMorph.isDraggable = true;\r\n        aMorph.pickUp(myself);\r\n    }\r\n\r\n    menu = new MenuMorph(this, 'make a morph');\r\n    menu.addItem('rectangle', function () {\r\n        create(new Morph());\r\n    });\r\n    menu.addItem('box', function () {\r\n        create(new BoxMorph());\r\n    });\r\n    menu.addItem('circle box', function () {\r\n        create(new CircleBoxMorph());\r\n    });\r\n    menu.addLine();\r\n    menu.addItem('slider', function () {\r\n        create(new SliderMorph());\r\n    });\r\n    menu.addItem('frame', function () {\r\n        newMorph = new FrameMorph();\r\n        newMorph.setExtent(new Point(350, 250));\r\n        create(newMorph);\r\n    });\r\n    menu.addItem('scroll frame', function () {\r\n        newMorph = new ScrollFrameMorph();\r\n        newMorph.contents.acceptsDrops = true;\r\n        newMorph.contents.adjustBounds();\r\n        newMorph.setExtent(new Point(350, 250));\r\n        create(newMorph);\r\n    });\r\n    menu.addItem('handle', function () {\r\n        create(new HandleMorph());\r\n    });\r\n    menu.addLine();\r\n    menu.addItem('string', function () {\r\n        newMorph = new StringMorph('Hello, World!');\r\n        newMorph.isEditable = true;\r\n        create(newMorph);\r\n    });\r\n    menu.addItem('text', function () {\r\n        newMorph = new TextMorph(\r\n            \"Ich wei\\u00DF nicht, was soll es bedeuten, dass ich so \" +\r\n                \"traurig bin, ein M\\u00E4rchen aus uralten Zeiten, das \" +\r\n                \"kommt mir nicht aus dem Sinn. Die Luft ist k\\u00FChl \" +\r\n                \"und es dunkelt, und ruhig flie\\u00DFt der Rhein; der \" +\r\n                \"Gipfel des Berges funkelt im Abendsonnenschein. \" +\r\n                \"Die sch\\u00F6nste Jungfrau sitzet dort oben wunderbar, \" +\r\n                \"ihr gold'nes Geschmeide blitzet, sie k\\u00E4mmt ihr \" +\r\n                \"goldenes Haar, sie k\\u00E4mmt es mit goldenem Kamme, \" +\r\n                \"und singt ein Lied dabei; das hat eine wundersame, \" +\r\n                \"gewalt'ge Melodei. Den Schiffer im kleinen \" +\r\n                \"Schiffe, ergreift es mit wildem Weh; er schaut \" +\r\n                \"nicht die Felsenriffe, er schaut nur hinauf in \" +\r\n                \"die H\\u00F6h'. Ich glaube, die Wellen verschlingen \" +\r\n                \"am Ende Schiffer und Kahn, und das hat mit ihrem \" +\r\n                \"Singen, die Loreley getan.\"\r\n        );\r\n        newMorph.isEditable = true;\r\n        newMorph.maxWidth = 300;\r\n        newMorph.drawNew();\r\n        create(newMorph);\r\n    });\r\n    menu.addItem('speech bubble', function () {\r\n        newMorph = new SpeechBubbleMorph('Hello, World!');\r\n        create(newMorph);\r\n    });\r\n    menu.addLine();\r\n    menu.addItem('gray scale palette', function () {\r\n        create(new GrayPaletteMorph());\r\n    });\r\n    menu.addItem('color palette', function () {\r\n        create(new ColorPaletteMorph());\r\n    });\r\n    menu.addItem('color picker', function () {\r\n        create(new ColorPickerMorph());\r\n    });\r\n    menu.addLine();\r\n    menu.addItem('sensor demo', function () {\r\n        newMorph = new MouseSensorMorph();\r\n        newMorph.setColor(new Color(230, 200, 100));\r\n        newMorph.edge = 35;\r\n        newMorph.border = 15;\r\n        newMorph.borderColor = new Color(200, 100, 50);\r\n        newMorph.alpha = 0.2;\r\n        newMorph.setExtent(new Point(100, 100));\r\n        create(newMorph);\r\n    });\r\n    menu.addItem('animation demo', function () {\r\n        var foo, bar, baz, garply, fred;\r\n\r\n        foo = new BouncerMorph();\r\n        foo.setPosition(new Point(50, 20));\r\n        foo.setExtent(new Point(300, 200));\r\n        foo.alpha = 0.9;\r\n        foo.speed = 3;\r\n\r\n        bar = new BouncerMorph();\r\n        bar.setColor(new Color(50, 50, 50));\r\n        bar.setPosition(new Point(80, 80));\r\n        bar.setExtent(new Point(80, 250));\r\n        bar.type = 'horizontal';\r\n        bar.direction = 'right';\r\n        bar.alpha = 0.9;\r\n        bar.speed = 5;\r\n\r\n        baz = new BouncerMorph();\r\n        baz.setColor(new Color(20, 20, 20));\r\n        baz.setPosition(new Point(90, 140));\r\n        baz.setExtent(new Point(40, 30));\r\n        baz.type = 'horizontal';\r\n        baz.direction = 'right';\r\n        baz.speed = 3;\r\n\r\n        garply = new BouncerMorph();\r\n        garply.setColor(new Color(200, 20, 20));\r\n        garply.setPosition(new Point(90, 140));\r\n        garply.setExtent(new Point(20, 20));\r\n        garply.type = 'vertical';\r\n        garply.direction = 'up';\r\n        garply.speed = 8;\r\n\r\n        fred = new BouncerMorph();\r\n        fred.setColor(new Color(20, 200, 20));\r\n        fred.setPosition(new Point(120, 140));\r\n        fred.setExtent(new Point(20, 20));\r\n        fred.type = 'vertical';\r\n        fred.direction = 'down';\r\n        fred.speed = 4;\r\n\r\n        bar.add(garply);\r\n        bar.add(baz);\r\n        foo.add(fred);\r\n        foo.add(bar);\r\n\r\n        create(foo);\r\n    });\r\n    menu.addItem('pen', function () {\r\n        create(new PenMorph());\r\n    });\r\n    if (myself.customMorphs) {\r\n        menu.addLine();\r\n        myself.customMorphs().forEach(function (morph) {\r\n            menu.addItem(morph.toString(), function () {\r\n                create(morph);\r\n            });\r\n        });\r\n    }\r\n    menu.popUpAtHand(this);\r\n};\r\n\r\nWorldMorph.prototype.toggleDevMode = function () {\r\n    this.isDevMode = !this.isDevMode;\r\n};\r\n\r\nWorldMorph.prototype.hideAll = function () {\r\n    this.children.forEach(function (child) {\r\n        child.hide();\r\n    });\r\n};\r\n\r\nWorldMorph.prototype.showAllHiddens = function () {\r\n    this.forAllChildren(function (child) {\r\n        if (!child.isVisible) {\r\n            child.show();\r\n        }\r\n    });\r\n};\r\n\r\nWorldMorph.prototype.about = function () {\r\n    var versions = '', module;\r\n\r\n    for (module in modules) {\r\n        if (Object.prototype.hasOwnProperty.call(modules, module)) {\r\n            versions += ('\\n' + module + ' (' + modules[module] + ')');\r\n        }\r\n    }\r\n    if (versions !== '') {\r\n        versions = '\\n\\nmodules:\\n\\n' +\r\n            'morphic (' + morphicVersion + ')' +\r\n            versions;\r\n    }\r\n\r\n    this.inform(\r\n        'morphic.js\\n\\n' +\r\n            'a lively Web GUI\\ninspired by Squeak\\n' +\r\n            morphicVersion +\r\n            '\\n\\nwritten by Jens M\\u00F6nig\\njens@moenig.org' +\r\n            versions\r\n    );\r\n};\r\n\r\nWorldMorph.prototype.edit = function (aStringOrTextMorph) {\r\n    var pos = getDocumentPositionOf(this.worldCanvas);\r\n\r\n    if (!aStringOrTextMorph.isEditable) {\r\n        return null;\r\n    }\r\n    if (this.cursor) {\r\n        this.cursor.destroy();\r\n    }\r\n    this.cursor = new CursorMorph(aStringOrTextMorph);\r\n    aStringOrTextMorph.parent.add(this.cursor);\r\n    this.keyboardReceiver = this.cursor;\r\n\r\n    this.initVirtualKeyboard();\r\n    if (MorphicPreferences.isTouchDevice\r\n            && MorphicPreferences.useVirtualKeyboard) {\r\n        this.virtualKeyboard.style.top = this.cursor.top() + pos.y + \"px\";\r\n        this.virtualKeyboard.style.left = this.cursor.left() + pos.x + \"px\";\r\n        this.virtualKeyboard.focus();\r\n    }\r\n\r\n    if (MorphicPreferences.useSliderForInput) {\r\n        if (!aStringOrTextMorph.parentThatIsA(MenuMorph)) {\r\n            this.slide(aStringOrTextMorph);\r\n        }\r\n    }\r\n\r\n    if (this.lastEditedText !== aStringOrTextMorph) {\r\n        aStringOrTextMorph.escalateEvent('freshTextEdit', aStringOrTextMorph);\r\n    }\r\n    this.lastEditedText = aStringOrTextMorph;\r\n};\r\n\r\nWorldMorph.prototype.slide = function (aStringOrTextMorph) {\r\n    // display a slider for numeric text entries\r\n    var val = parseFloat(aStringOrTextMorph.text),\r\n        menu,\r\n        slider;\r\n\r\n    if (isNaN(val)) {\r\n        val = 0;\r\n    }\r\n    menu = new MenuMorph();\r\n    slider = new SliderMorph(\r\n        val - 25,\r\n        val + 25,\r\n        val,\r\n        10,\r\n        'horizontal'\r\n    );\r\n    slider.alpha = 1;\r\n    slider.color = new Color(225, 225, 225);\r\n    slider.button.color = menu.borderColor;\r\n    slider.button.highlightColor = slider.button.color.copy();\r\n    slider.button.highlightColor.b += 100;\r\n    slider.button.pressColor = slider.button.color.copy();\r\n    slider.button.pressColor.b += 150;\r\n    slider.silentSetHeight(MorphicPreferences.scrollBarSize);\r\n    slider.silentSetWidth(MorphicPreferences.menuFontSize * 10);\r\n    slider.drawNew();\r\n    slider.action = function (num) {\r\n        aStringOrTextMorph.changed();\r\n        aStringOrTextMorph.text = Math.round(num).toString();\r\n        aStringOrTextMorph.drawNew();\r\n        aStringOrTextMorph.changed();\r\n        aStringOrTextMorph.escalateEvent(\r\n            'reactToSliderEdit',\r\n            aStringOrTextMorph\r\n        );\r\n    };\r\n    menu.items.push(slider);\r\n    menu.popup(this, aStringOrTextMorph.bottomLeft().add(new Point(0, 5)));\r\n};\r\n\r\nWorldMorph.prototype.stopEditing = function () {\r\n    if (this.cursor) {\r\n        this.cursor.target.escalateEvent('reactToEdit', this.cursor.target);\r\n        this.cursor.target.clearSelection();\r\n        this.cursor.destroy();\r\n        this.cursor = null;\r\n    }\r\n    if (this.keyboardReceiver && this.keyboardReceiver.stopEditing) {\r\n    \tthis.keyboardReceiver.stopEditing();\r\n    }\r\n    this.keyboardReceiver = null;\r\n    if (this.virtualKeyboard) {\r\n        this.virtualKeyboard.blur();\r\n        document.body.removeChild(this.virtualKeyboard);\r\n        this.virtualKeyboard = null;\r\n    }\r\n    this.lastEditedText = null;\r\n    this.worldCanvas.focus();\r\n};\r\n\r\nWorldMorph.prototype.toggleBlurredShadows = function () {\r\n    useBlurredShadows = !useBlurredShadows;\r\n};\r\n\r\nWorldMorph.prototype.togglePreferences = function () {\r\n    if (MorphicPreferences === standardSettings) {\r\n        MorphicPreferences = touchScreenSettings;\r\n    } else {\r\n        MorphicPreferences = standardSettings;\r\n    }\r\n};\r\n\r\n\r\n//fin de MORPHIC\r\n\r\n/*\r\n\r\n    widgets.js\r\n\r\n    additional GUI elements for morphic.js\r\n\r\n    written by Jens Mönig\r\n    jens@moenig.org\r\n\r\n    Copyright (C) 2017 by Jens Mönig\r\n\r\n    This file is part of Snap!.\r\n\r\n    Snap! is free software: you can redistribute it and/or modify\r\n    it under the terms of the GNU Affero General Public License as\r\n    published by the Free Software Foundation, either version 3 of\r\n    the License, or (at your option) any later version.\r\n\r\n    This program is distributed in the hope that it will be useful,\r\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n    GNU Affero General Public License for more details.\r\n\r\n    You should have received a copy of the GNU Affero General Public License\r\n    along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n\r\n\r\n    prerequisites:\r\n    --------------\r\n    needs blocks.js and objects.js\r\n\r\n\r\n    credits\r\n    -------\r\n    Lucas Karahadian contributed a first prototype of the piano keyboard\r\n\r\n\r\n    I. hierarchy\r\n    -------------\r\n    the following tree lists all constructors hierarchically,\r\n    indentation indicating inheritance. Refer to this list to get a\r\n    contextual overview:\r\n\r\n    Morph*\r\n        AlignmentMorph\r\n        DialogBoxMorph\r\n        InputFieldMorph\r\n    TriggerMorph*\r\n        MenuItemMorph*\r\n            PianoKeyMorph\r\n        PushButtonMorph\r\n            ToggleButtonMorph\r\n                TabMorph\r\n            ToggleMorph\r\n        ToggleElementMorph\r\n    MenuMorph*\r\n        PianoMenuMorph\r\n\r\n    * from Morphic.js\r\n\r\n\r\n    II. toc\r\n    -------\r\n    the following list shows the order in which all constructors are\r\n    defined. Use this list to locate code in this document:\r\n\r\n    PushButtonMorph\r\n    ToggleButtonMorph\r\n    TabMorph\r\n    ToggleMorph\r\n    ToggleElementMorph\r\n    DialogBoxMorph\r\n    AlignmentMorph\r\n    InputFieldMorph\r\n    PianoMenuMorph\r\n    PianoKeyMorph\r\n\r\n*/\r\n\r\n// Global settings /////////////////////////////////////////////////////\r\n\r\n/*global TriggerMorph, modules, Color, Point, BoxMorph, radians,\r\nnewCanvas, StringMorph, Morph, TextMorph, nop, detect, StringFieldMorph,\r\nHTMLCanvasElement, fontHeight, SymbolMorph, localize, SpeechBubbleMorph,\r\nArrowMorph, MenuMorph, isString, isNil, SliderMorph, MorphicPreferences,\r\nScrollFrameMorph, MenuItemMorph, Note*/\r\n\r\nmodules.widgets = '2017-September-25';\r\n\r\nvar PushButtonMorph;\r\nvar ToggleButtonMorph;\r\nvar TabMorph;\r\nvar ToggleMorph;\r\nvar ToggleElementMorph;\r\nvar DialogBoxMorph;\r\nvar AlignmentMorph;\r\nvar InputFieldMorph;\r\nvar PianoMenuMorph;\r\nvar PianoKeyMorph;\r\n\r\n// PushButtonMorph /////////////////////////////////////////////////////\r\n\r\n// I am a Button with rounded corners and 3D-ish graphical effects\r\n\r\n// PushButtonMorph inherits from TriggerMorph:\r\n\r\nPushButtonMorph.prototype = new TriggerMorph();\r\nPushButtonMorph.prototype.constructor = PushButtonMorph;\r\nPushButtonMorph.uber = TriggerMorph.prototype;\r\n\r\n// PushButtonMorph preferences settings:\r\n\r\nPushButtonMorph.prototype.fontSize = 10;\r\nPushButtonMorph.prototype.fontStyle = 'sans-serif';\r\nPushButtonMorph.prototype.labelColor = new Color(0, 0, 0);\r\nPushButtonMorph.prototype.labelShadowColor = new Color(255, 255, 255);\r\nPushButtonMorph.prototype.labelShadowOffset = new Point(1, 1);\r\n\r\nPushButtonMorph.prototype.color = new Color(220, 220, 220);\r\nPushButtonMorph.prototype.pressColor = new Color(115, 180, 240);\r\nPushButtonMorph.prototype.highlightColor\r\n    = PushButtonMorph.prototype.pressColor.lighter(50);\r\nPushButtonMorph.prototype.outlineColor = new Color(30, 30, 30);\r\nPushButtonMorph.prototype.outlineGradient = false;\r\nPushButtonMorph.prototype.contrast = 60;\r\n\r\nPushButtonMorph.prototype.edge = 2;\r\nPushButtonMorph.prototype.corner = 5;\r\nPushButtonMorph.prototype.outline = 1.00001;\r\nPushButtonMorph.prototype.padding = 3;\r\n\r\n// PushButtonMorph instance creation:\r\n\r\nfunction PushButtonMorph(\r\n    target,\r\n    action,\r\n    labelString,\r\n    environment,\r\n    hint,\r\n    template\r\n) {\r\n    this.init(\r\n        target,\r\n        action,\r\n        labelString,\r\n        environment,\r\n        hint,\r\n        template\r\n    );\r\n}\r\n\r\nPushButtonMorph.prototype.init = function (\r\n    target,\r\n    action,\r\n    labelString,\r\n    environment,\r\n    hint,\r\n    template\r\n) {\r\n    // additional properties:\r\n    this.is3D = false; // for \"flat\" design exceptions\r\n    this.target = target || null;\r\n    this.action = action || null;\r\n    this.environment = environment || null;\r\n    this.labelString = labelString || null;\r\n    this.label = null;\r\n    this.labelMinExtent = new Point(0, 0);\r\n    this.hint = hint || null;\r\n    this.template = template || null; // for pre-computed backbrounds\r\n    // if a template is specified, its background images are used as cache\r\n    this.isDisabled = false;\r\n\r\n    // initialize inherited properties:\r\n    TriggerMorph.uber.init.call(this);\r\n\r\n    // override inherited properites:\r\n    this.color = PushButtonMorph.prototype.color;\r\n    this.drawNew();\r\n    this.fixLayout();\r\n};\r\n\r\n// PushButtonMorph layout:\r\n\r\nPushButtonMorph.prototype.fixLayout = function () {\r\n    // make sure I at least encompass my label\r\n    if (this.label !== null) {\r\n        var padding = this.padding * 2 + this.outline * 2 + this.edge * 2;\r\n        this.setExtent(new Point(\r\n            Math.max(this.label.width(), this.labelMinExtent.x) + padding,\r\n            Math.max(this.label instanceof StringMorph ?\r\n                    this.label.rawHeight() :\r\n                        this.label.height(), this.labelMinExtent.y) + padding\r\n        ));\r\n        this.label.setCenter(this.center());\r\n    }\r\n};\r\n\r\n// PushButtonMorph events\r\n\r\nPushButtonMorph.prototype.mouseDownLeft = function () {\r\n    PushButtonMorph.uber.mouseDownLeft.call(this);\r\n    if (this.label) {\r\n        this.label.setCenter(this.center().add(1));\r\n    }\r\n};\r\n\r\nPushButtonMorph.prototype.mouseClickLeft = function () {\r\n    if (this.isDisabled) {return; }\r\n    PushButtonMorph.uber.mouseClickLeft.call(this);\r\n    if (this.label) {\r\n        this.label.setCenter(this.center());\r\n    }\r\n};\r\n\r\nPushButtonMorph.prototype.mouseLeave = function () {\r\n    PushButtonMorph.uber.mouseLeave.call(this);\r\n    if (this.label) {\r\n        this.label.setCenter(this.center());\r\n    }\r\n};\r\n\r\n// PushButtonMorph drawing:\r\n\r\nPushButtonMorph.prototype.outlinePath = BoxMorph.prototype.outlinePath;\r\n\r\nPushButtonMorph.prototype.drawOutline = function (context) {\r\n    var outlineStyle,\r\n        isFlat = MorphicPreferences.isFlat && !this.is3D;\r\n\r\n    if (!this.outline || isFlat) {return null; }\r\n    if (this.outlineGradient) {\r\n        outlineStyle = context.createLinearGradient(\r\n            0,\r\n            0,\r\n            0,\r\n            this.height()\r\n        );\r\n        outlineStyle.addColorStop(0, this.outlineColor.darker().toString());\r\n        outlineStyle.addColorStop(1, 'white');\r\n    } else {\r\n        outlineStyle = this.outlineColor.toString();\r\n    }\r\n    context.fillStyle = outlineStyle;\r\n    context.beginPath();\r\n    this.outlinePath(\r\n        context,\r\n        isFlat ? 0 : this.corner,\r\n        0\r\n    );\r\n    context.closePath();\r\n    context.fill();\r\n};\r\n\r\nPushButtonMorph.prototype.drawBackground = function (context, color) {\r\n    var isFlat = MorphicPreferences.isFlat && !this.is3D;\r\n\r\n    context.fillStyle = color.toString();\r\n    context.beginPath();\r\n    this.outlinePath(\r\n        context,\r\n        isFlat ? 0 : Math.max(this.corner - this.outline, 0),\r\n        this.outline\r\n    );\r\n    context.closePath();\r\n    context.fill();\r\n    context.lineWidth = this.outline;\r\n};\r\n\r\nPushButtonMorph.prototype.drawEdges = function (\r\n    context,\r\n    color,\r\n    topColor,\r\n    bottomColor\r\n) {\r\n    if (MorphicPreferences.isFlat && !this.is3D) {return; }\r\n    var minInset = Math.max(this.corner, this.outline + this.edge),\r\n        w = this.width(),\r\n        h = this.height(),\r\n        gradient;\r\n\r\n    // top:\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        this.outline,\r\n        0,\r\n        this.outline + this.edge\r\n    );\r\n    gradient.addColorStop(0, topColor.toString());\r\n    gradient.addColorStop(1, color.toString());\r\n\r\n    context.strokeStyle = gradient;\r\n    context.lineCap = 'round';\r\n    context.lineWidth = this.edge;\r\n    context.beginPath();\r\n    context.moveTo(minInset, this.outline + this.edge / 2);\r\n    context.lineTo(w - minInset, this.outline + this.edge / 2);\r\n    context.stroke();\r\n\r\n    // top-left corner:\r\n    gradient = context.createRadialGradient(\r\n        this.corner,\r\n        this.corner,\r\n        Math.max(this.corner - this.outline - this.edge, 0),\r\n        this.corner,\r\n        this.corner,\r\n        Math.max(this.corner - this.outline, 0)\r\n    );\r\n    gradient.addColorStop(0, color.toString());\r\n    gradient.addColorStop(1, topColor.toString());\r\n\r\n    context.strokeStyle = gradient;\r\n    context.lineCap = 'round';\r\n    context.lineWidth = this.edge;\r\n    context.beginPath();\r\n    context.arc(\r\n        this.corner,\r\n        this.corner,\r\n        Math.max(this.corner - this.outline - this.edge / 2, 0),\r\n        radians(180),\r\n        radians(270),\r\n        false\r\n    );\r\n    context.stroke();\r\n\r\n    // left:\r\n    gradient = context.createLinearGradient(\r\n        this.outline,\r\n        0,\r\n        this.outline + this.edge,\r\n        0\r\n    );\r\n    gradient.addColorStop(0, topColor.toString());\r\n    gradient.addColorStop(1, color.toString());\r\n\r\n    context.strokeStyle = gradient;\r\n    context.lineCap = 'round';\r\n    context.lineWidth = this.edge;\r\n    context.beginPath();\r\n    context.moveTo(this.outline + this.edge / 2, minInset);\r\n    context.lineTo(this.outline + this.edge / 2, h - minInset);\r\n    context.stroke();\r\n\r\n    // bottom:\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        h - this.outline,\r\n        0,\r\n        h - this.outline - this.edge\r\n    );\r\n    gradient.addColorStop(0, bottomColor.toString());\r\n    gradient.addColorStop(1, color.toString());\r\n\r\n    context.strokeStyle = gradient;\r\n    context.lineCap = 'round';\r\n    context.lineWidth = this.edge;\r\n    context.beginPath();\r\n    context.moveTo(minInset, h - this.outline - this.edge / 2);\r\n    context.lineTo(w - minInset, h - this.outline - this.edge / 2);\r\n    context.stroke();\r\n\r\n    // bottom-right corner:\r\n    gradient = context.createRadialGradient(\r\n        w - this.corner,\r\n        h - this.corner,\r\n        Math.max(this.corner - this.outline - this.edge, 0),\r\n        w - this.corner,\r\n        h - this.corner,\r\n        Math.max(this.corner - this.outline, 0)\r\n    );\r\n    gradient.addColorStop(0, color.toString());\r\n    gradient.addColorStop(1, bottomColor.toString());\r\n\r\n    context.strokeStyle = gradient;\r\n    context.lineCap = 'round';\r\n    context.lineWidth = this.edge;\r\n    context.beginPath();\r\n    context.arc(\r\n        w - this.corner,\r\n        h - this.corner,\r\n        Math.max(this.corner - this.outline - this.edge / 2, 0),\r\n        radians(0),\r\n        radians(90),\r\n        false\r\n    );\r\n    context.stroke();\r\n\r\n    // right:\r\n    gradient = context.createLinearGradient(\r\n        w - this.outline,\r\n        0,\r\n        w - this.outline - this.edge,\r\n        0\r\n    );\r\n    gradient.addColorStop(0, bottomColor.toString());\r\n    gradient.addColorStop(1, color.toString());\r\n\r\n    context.strokeStyle = gradient;\r\n    context.lineCap = 'round';\r\n    context.lineWidth = this.edge;\r\n    context.beginPath();\r\n    context.moveTo(w - this.outline - this.edge / 2, minInset);\r\n    context.lineTo(w - this.outline - this.edge / 2, h - minInset);\r\n    context.stroke();\r\n};\r\n\r\nPushButtonMorph.prototype.createBackgrounds = function () {\r\n    var context,\r\n        ext = this.extent();\r\n\r\n    if (this.template) { // take the backgrounds images from the template\r\n        this.image = this.template.image;\r\n        this.normalImage = this.template.normalImage;\r\n        this.highlightImage = this.template.highlightImage;\r\n        this.pressImage = this.template.pressImage;\r\n        return null;\r\n    }\r\n\r\n    this.normalImage = newCanvas(ext);\r\n    context = this.normalImage.getContext('2d');\r\n    this.drawOutline(context);\r\n    this.drawBackground(context, this.color);\r\n    this.drawEdges(\r\n        context,\r\n        this.color,\r\n        this.color.lighter(this.contrast),\r\n        this.color.darker(this.contrast)\r\n    );\r\n\r\n    this.highlightImage = newCanvas(ext);\r\n    context = this.highlightImage.getContext('2d');\r\n    this.drawOutline(context);\r\n    this.drawBackground(context, this.highlightColor);\r\n    this.drawEdges(\r\n        context,\r\n        this.highlightColor,\r\n        this.highlightColor.lighter(this.contrast),\r\n        this.highlightColor.darker(this.contrast)\r\n    );\r\n\r\n    this.pressImage = newCanvas(ext);\r\n    context = this.pressImage.getContext('2d');\r\n    this.drawOutline(context);\r\n    this.drawBackground(context, this.pressColor);\r\n    this.drawEdges(\r\n        context,\r\n        this.pressColor,\r\n        this.pressColor.darker(this.contrast),\r\n        this.pressColor.lighter(this.contrast)\r\n    );\r\n\r\n    this.image = this.normalImage;\r\n};\r\n\r\nPushButtonMorph.prototype.createLabel = function () {\r\n    var shading = !MorphicPreferences.isFlat || this.is3D;\r\n\r\n    if (this.label !== null) {\r\n        this.label.destroy();\r\n    }\r\n    if (this.labelString instanceof SymbolMorph) {\r\n        this.label = this.labelString.fullCopy();\r\n        if (shading) {\r\n            this.label.shadowOffset = this.labelShadowOffset;\r\n            this.label.shadowColor = this.labelShadowColor;\r\n        }\r\n        this.label.color = this.labelColor;\r\n        this.label.drawNew();\r\n    } else {\r\n        this.label = new StringMorph(\r\n            localize(this.labelString),\r\n            this.fontSize,\r\n            this.fontStyle,\r\n            true,\r\n            false,\r\n            false,\r\n            shading ? this.labelShadowOffset : null,\r\n            this.labelShadowColor,\r\n            this.labelColor\r\n        );\r\n    }\r\n    this.add(this.label);\r\n};\r\n\r\n// PushButtonMorph states\r\n\r\nPushButtonMorph.prototype.disable = function () {\r\n    this.isDisabled = true;\r\n    this.forAllChildren(function (child) {\r\n        child.alpha = 0.3;\r\n    });\r\n    this.changed();\r\n};\r\n\r\nPushButtonMorph.prototype.enable = function () {\r\n    this.isDisabled = false;\r\n    this.forAllChildren(function (child) {\r\n        child.alpha = 1;\r\n    });\r\n    this.changed();\r\n};\r\n\r\n// ToggleButtonMorph ///////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a two-state PushButton. When my state is \"true\" I keep my \"pressed\"\r\n    background color. I can also be set to not auto-layout my bounds, in\r\n    which case my label will left-align.\r\n*/\r\n\r\n// ToggleButtonMorph inherits from PushButtonMorph:\r\n\r\nToggleButtonMorph.prototype = new PushButtonMorph();\r\nToggleButtonMorph.prototype.constructor = ToggleButtonMorph;\r\nToggleButtonMorph.uber = PushButtonMorph.prototype;\r\n\r\n// ToggleButton settings\r\n\r\nToggleButtonMorph.prototype.contrast = 30;\r\n\r\n// ToggleButtonMorph instance creation:\r\n\r\nfunction ToggleButtonMorph(\r\n    colors, // color overrides, <array>: [normal, highlight, pressed]\r\n    target,\r\n    action, // a toggle function\r\n    labelString,\r\n    query, // predicate/selector\r\n    environment,\r\n    hint,\r\n    template, // optional, for cached background images\r\n    minWidth, // <num> optional, if specified label will left-align\r\n    hasPreview, // <bool> show press color on left edge (e.g. category)\r\n    isPicture // treat label as picture, i.e. don't apply typography\r\n) {\r\n    this.init(\r\n        colors,\r\n        target,\r\n        action,\r\n        labelString,\r\n        query,\r\n        environment,\r\n        hint,\r\n        template,\r\n        minWidth,\r\n        hasPreview,\r\n        isPicture\r\n    );\r\n}\r\n\r\nToggleButtonMorph.prototype.init = function (\r\n    colors,\r\n    target,\r\n    action,\r\n    labelString,\r\n    query,\r\n    environment,\r\n    hint,\r\n    template,\r\n    minWidth,\r\n    hasPreview,\r\n    isPicture\r\n) {\r\n    // additional properties:\r\n    this.state = false;\r\n    this.query = query || function () {return true; };\r\n    this.minWidth = minWidth || null;\r\n    this.hasPreview = hasPreview || false;\r\n    this.isPicture = isPicture || false;\r\n    this.trueStateLabel = null;\r\n\r\n    // initialize inherited properties:\r\n    ToggleButtonMorph.uber.init.call(\r\n        this,\r\n        target,\r\n        action,\r\n        labelString,\r\n        environment,\r\n        hint,\r\n        template\r\n    );\r\n\r\n    // override default colors if others are specified\r\n    if (colors) {\r\n        this.color = colors[0];\r\n        this.highlightColor = colors[1];\r\n        this.pressColor = colors[2];\r\n    }\r\n\r\n    this.refresh();\r\n    this.drawNew();\r\n};\r\n\r\n// ToggleButtonMorph events\r\n\r\nToggleButtonMorph.prototype.mouseEnter = function () {\r\n    var contents = this.hint instanceof Function ? this.hint() : this.hint;\r\n    if (!this.state) {\r\n        this.image = this.highlightImage;\r\n        this.changed();\r\n    }\r\n    if (contents) {\r\n        this.bubbleHelp(contents);\r\n    }\r\n};\r\n\r\nToggleButtonMorph.prototype.mouseLeave = function () {\r\n    if (!this.state) {\r\n        this.image = this.normalImage;\r\n        this.changed();\r\n    }\r\n    if (this.schedule) {\r\n        this.schedule.isActive = false;\r\n    }\r\n    if (this.hint) {\r\n        this.world().hand.destroyTemporaries();\r\n    }\r\n};\r\n\r\nToggleButtonMorph.prototype.mouseDownLeft = function () {\r\n    if (!this.state) {\r\n        this.image = this.pressImage;\r\n        this.changed();\r\n    }\r\n};\r\n\r\nToggleButtonMorph.prototype.mouseClickLeft = function () {\r\n    if (!this.state) {\r\n        this.image = this.highlightImage;\r\n        this.changed();\r\n    }\r\n    this.trigger(); // allow me to be triggered again to force-update others\r\n};\r\n\r\n// ToggleButtonMorph action\r\n\r\nToggleButtonMorph.prototype.trigger = function () {\r\n    ToggleButtonMorph.uber.trigger.call(this);\r\n    this.refresh();\r\n};\r\n\r\nToggleButtonMorph.prototype.refresh = function () {\r\n/*\r\n    if query is a function:\r\n    execute the query with target as environment (can be null)\r\n    for lambdafied (inline) actions\r\n\r\n    else if query is a String:\r\n    treat it as function property of target and execute it\r\n    for selector-like queries\r\n*/\r\n    if (typeof this.query === 'function') {\r\n        this.state = this.query.call(this.target);\r\n    } else { // assume it's a String\r\n        this.state = this.target[this.query]();\r\n    }\r\n    if (this.state) {\r\n        this.image = this.pressImage;\r\n        if (this.trueStateLabel) {\r\n            this.label.hide();\r\n            this.trueStateLabel.show();\r\n        }\r\n    } else {\r\n        this.image = this.normalImage;\r\n        if (this.trueStateLabel) {\r\n            this.label.show();\r\n            this.trueStateLabel.hide();\r\n        }\r\n    }\r\n    this.changed();\r\n};\r\n\r\n// ToggleButtonMorph layout:\r\n\r\nToggleButtonMorph.prototype.fixLayout = function () {\r\n    if (this.label !== null) {\r\n        var lw = Math.max(this.label.width(), this.labelMinExtent.x),\r\n            padding = this.padding * 2 + this.outline * 2 + this.edge * 2;\r\n        this.setExtent(new Point(\r\n            (this.minWidth ?\r\n                    Math.max(this.minWidth, lw) + padding\r\n                    : lw + padding),\r\n            Math.max(this.label instanceof StringMorph ?\r\n                    this.label.rawHeight() :\r\n                        this.label.height(), this.labelMinExtent.y) + padding\r\n        ));\r\n        this.label.setCenter(this.center());\r\n        if (this.trueStateLabel) {\r\n            this.trueStateLabel.setCenter(this.center());\r\n        }\r\n        if (this.minWidth) { // left-align along my corner\r\n            this.label.setLeft(\r\n                this.left()\r\n                    + this.outline\r\n                    + this.edge\r\n                    + this.corner\r\n                    + this.padding\r\n            );\r\n        }\r\n    }\r\n};\r\n\r\n// ToggleButtonMorph drawing\r\n\r\nToggleButtonMorph.prototype.createBackgrounds = function () {\r\n/*\r\n    basically the same as inherited from PushButtonMorph, except for\r\n    not inverting the pressImage 3D-ish border (because it stays that way),\r\n    and optionally coloring the left edge in the press-color, previewing\r\n    the selection color (e.g. in the case of Scratch palette-category\r\n    selector. the latter is done in the drawEdges() method.\r\n*/\r\n    var context,\r\n        ext = this.extent();\r\n\r\n    if (this.template) { // take the backgrounds images from the template\r\n        this.image = this.template.image;\r\n        this.normalImage = this.template.normalImage;\r\n        this.highlightImage = this.template.highlightImage;\r\n        this.pressImage = this.template.pressImage;\r\n        return null;\r\n    }\r\n\r\n    this.normalImage = newCanvas(ext);\r\n    context = this.normalImage.getContext('2d');\r\n    this.drawOutline(context);\r\n    this.drawBackground(context, this.color);\r\n    this.drawEdges(\r\n        context,\r\n        this.color,\r\n        this.color.lighter(this.contrast),\r\n        this.color.darker(this.contrast)\r\n    );\r\n\r\n    this.highlightImage = newCanvas(ext);\r\n    context = this.highlightImage.getContext('2d');\r\n    this.drawOutline(context);\r\n    this.drawBackground(context, this.highlightColor);\r\n    this.drawEdges(\r\n        context,\r\n        this.highlightColor,\r\n        this.highlightColor.lighter(this.contrast),\r\n        this.highlightColor.darker(this.contrast)\r\n    );\r\n\r\n    // note: don't invert the 3D-ish edges for pressedImage, because\r\n    // it will stay that way, and should not look inverted (or should it?)\r\n    this.pressImage = newCanvas(ext);\r\n    context = this.pressImage.getContext('2d');\r\n    this.drawOutline(context);\r\n    this.drawBackground(context, this.pressColor);\r\n    this.drawEdges(\r\n        context,\r\n        this.pressColor,\r\n        this.pressColor.lighter(40),\r\n        this.pressColor.darker(40)\r\n    );\r\n\r\n    this.image = this.normalImage;\r\n};\r\n\r\nToggleButtonMorph.prototype.drawEdges = function (\r\n    context,\r\n    color,\r\n    topColor,\r\n    bottomColor\r\n) {\r\n    var gradient;\r\n\r\n    ToggleButtonMorph.uber.drawEdges.call(\r\n        this,\r\n        context,\r\n        color,\r\n        topColor,\r\n        bottomColor\r\n    );\r\n\r\n    if (this.hasPreview) { // indicate the possible selection color\r\n        if (MorphicPreferences.isFlat && !this.is3D) {\r\n            context.fillStyle = this.pressColor.toString();\r\n            context.fillRect(\r\n                this.outline,\r\n                this.outline,\r\n                this.corner,\r\n                this.height() - this.outline * 2\r\n            );\r\n            return;\r\n        }\r\n        gradient = context.createLinearGradient(\r\n            0,\r\n            0,\r\n            this.corner,\r\n            0\r\n        );\r\n        gradient.addColorStop(0, this.pressColor.lighter(40).toString());\r\n        gradient.addColorStop(1, this.pressColor.darker(40).toString());\r\n        context.fillStyle = gradient; // this.pressColor.toString();\r\n        context.beginPath();\r\n        this.previewPath(\r\n            context,\r\n            Math.max(this.corner - this.outline, 0),\r\n            this.outline\r\n        );\r\n        context.closePath();\r\n        context.fill();\r\n    }\r\n};\r\n\r\nToggleButtonMorph.prototype.previewPath = function (context, radius, inset) {\r\n    var offset = radius + inset,\r\n        h = this.height();\r\n\r\n    // top left:\r\n    context.arc(\r\n        offset,\r\n        offset,\r\n        radius,\r\n        radians(-180),\r\n        radians(-90),\r\n        false\r\n    );\r\n    // bottom left:\r\n    context.arc(\r\n        offset,\r\n        h - offset,\r\n        radius,\r\n        radians(90),\r\n        radians(180),\r\n        false\r\n    );\r\n};\r\n\r\nToggleButtonMorph.prototype.createLabel = function () {\r\n    var shading = !MorphicPreferences.isFlat || this.is3D,\r\n        none = new Point();\r\n\r\n    if (this.label !== null) {\r\n        this.label.destroy();\r\n    }\r\n    if (this.trueStateLabel !== null) {\r\n        this.trueStateLabel.destroy();\r\n    }\r\n    if (this.labelString instanceof Array && this.labelString.length === 2) {\r\n        if (this.labelString[0] instanceof SymbolMorph) {\r\n            this.label = this.labelString[0].fullCopy();\r\n            this.trueStateLabel = this.labelString[1].fullCopy();\r\n            if (!this.isPicture) {\r\n                this.label.shadowOffset = shading ?\r\n                        this.labelShadowOffset : none;\r\n                this.label.shadowColor = this.labelShadowColor;\r\n                this.label.color = this.labelColor;\r\n                this.label.drawNew();\r\n\r\n                this.trueStateLabel.shadowOffset = shading ?\r\n                        this.labelShadowOffset : none;\r\n                this.trueStateLabel.shadowColor = this.labelShadowColor;\r\n                this.trueStateLabel.color = this.labelColor;\r\n                this.trueStateLabel.drawNew();\r\n            }\r\n        } else if (this.labelString[0] instanceof Morph) {\r\n            this.label = this.labelString[0].fullCopy();\r\n            this.trueStateLabel = this.labelString[1].fullCopy();\r\n        } else {\r\n            this.label = new StringMorph(\r\n                localize(this.labelString[0]),\r\n                this.fontSize,\r\n                this.fontStyle,\r\n                true,\r\n                false,\r\n                false,\r\n                shading ? this.labelShadowOffset : null,\r\n                this.labelShadowColor,\r\n                this.labelColor\r\n            );\r\n            this.trueStateLabel = new StringMorph(\r\n                localize(this.labelString[1]),\r\n                this.fontSize,\r\n                this.fontStyle,\r\n                true,\r\n                false,\r\n                false,\r\n                shading ? this.labelShadowOffset : null,\r\n                this.labelShadowColor,\r\n                this.labelColor\r\n            );\r\n        }\r\n    } else {\r\n        if (this.labelString instanceof SymbolMorph) {\r\n            this.label = this.labelString.fullCopy();\r\n            if (!this.isPicture) {\r\n                this.label.shadowOffset = shading ?\r\n                        this.labelShadowOffset : none;\r\n                this.label.shadowColor = this.labelShadowColor;\r\n                this.label.color = this.labelColor;\r\n                this.label.drawNew();\r\n            }\r\n        } else if (this.labelString instanceof Morph) {\r\n            this.label = this.labelString.fullCopy();\r\n        } else {\r\n            this.label = new StringMorph(\r\n                localize(this.labelString),\r\n                this.fontSize,\r\n                this.fontStyle,\r\n                true,\r\n                false,\r\n                false,\r\n                shading ? this.labelShadowOffset : none,\r\n                this.labelShadowColor,\r\n                this.labelColor\r\n            );\r\n        }\r\n    }\r\n    this.add(this.label);\r\n    if (this.trueStateLabel) {\r\n        this.add(this.trueStateLabel);\r\n    }\r\n};\r\n\r\n// ToggleButtonMorph hiding and showing:\r\n\r\n/*\r\n    override the inherited behavior to recursively hide/show all\r\n    children, so that my instances get restored correctly when\r\n    hiding/showing my parent.\r\n*/\r\n\r\nToggleButtonMorph.prototype.hide = function () {\r\n    this.isVisible = false;\r\n    this.changed();\r\n};\r\n\r\nToggleButtonMorph.prototype.show = function () {\r\n    this.isVisible = true;\r\n    this.changed();\r\n};\r\n\r\n// TabMorph ///////////////////////////////////////////////////////\r\n\r\n// TabMorph inherits from ToggleButtonMorph:\r\n\r\nTabMorph.prototype = new ToggleButtonMorph();\r\nTabMorph.prototype.constructor = TabMorph;\r\nTabMorph.uber = ToggleButtonMorph.prototype;\r\n\r\n// TabMorph instance creation:\r\n\r\nfunction TabMorph(\r\n    colors, // color overrides, <array>: [normal, highlight, pressed]\r\n    target,\r\n    action, // a toggle function\r\n    labelString,\r\n    query, // predicate/selector\r\n    environment,\r\n    hint\r\n) {\r\n    this.init(\r\n        colors,\r\n        target,\r\n        action,\r\n        labelString,\r\n        query,\r\n        environment,\r\n        hint\r\n    );\r\n}\r\n\r\n// TabMorph layout:\r\n\r\nTabMorph.prototype.fixLayout = function () {\r\n    if (this.label !== null) {\r\n        this.setExtent(new Point(\r\n            this.label.width()\r\n                + this.padding * 2\r\n                + this.corner * 3\r\n                + this.edge * 2,\r\n            (this.label instanceof StringMorph ?\r\n                        this.label.rawHeight() : this.label.height())\r\n                + this.padding * 2\r\n                + this.edge\r\n        ));\r\n        this.label.setCenter(this.center());\r\n    }\r\n};\r\n\r\n// TabMorph action:\r\n\r\nTabMorph.prototype.refresh = function () {\r\n    if (this.state) { // bring to front\r\n        if (this.parent) {\r\n            this.parent.add(this);\r\n        }\r\n    }\r\n    TabMorph.uber.refresh.call(this);\r\n};\r\n\r\n// TabMorph drawing:\r\n\r\nTabMorph.prototype.drawBackground = function (context, color) {\r\n    var w = this.width(),\r\n        h = this.height(),\r\n        c = this.corner;\r\n\r\n    context.fillStyle = color.toString();\r\n    context.beginPath();\r\n    context.moveTo(0, h);\r\n    context.bezierCurveTo(c, h, c, 0, c * 2, 0);\r\n    context.lineTo(w - c * 2, 0);\r\n    context.bezierCurveTo(w - c, 0, w - c, h, w, h);\r\n    context.closePath();\r\n    context.fill();\r\n};\r\n\r\nTabMorph.prototype.drawOutline = function () {\r\n    nop();\r\n};\r\n\r\nTabMorph.prototype.drawEdges = function (\r\n    context,\r\n    color,\r\n    topColor,\r\n    bottomColor\r\n) {\r\n    if (MorphicPreferences.isFlat && !this.is3D) {return; }\r\n\r\n    var w = this.width(),\r\n        h = this.height(),\r\n        c = this.corner,\r\n        e = this.edge,\r\n        eh = e / 2,\r\n        gradient;\r\n\r\n    nop(color); // argument not needed here\r\n\r\n    gradient = context.createLinearGradient(0, 0, w, 0);\r\n    gradient.addColorStop(0, topColor.toString());\r\n    gradient.addColorStop(1, bottomColor.toString());\r\n\r\n    context.strokeStyle = gradient;\r\n    context.lineCap = 'round';\r\n    context.lineWidth = e;\r\n\r\n    context.beginPath();\r\n    context.moveTo(0, h + eh);\r\n    context.bezierCurveTo(c, h, c, 0, c * 2, eh);\r\n    context.lineTo(w - c * 2, eh);\r\n    context.bezierCurveTo(w - c, 0, w - c, h, w, h + eh);\r\n    context.stroke();\r\n};\r\n\r\n// ToggleMorph ///////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a PushButton which toggles a check mark ( becoming check box)\r\n    or a bullet (becoming a radio button). I can have both or either an\r\n    additional label and an additional pictogram, whereas the pictogram\r\n    can be either an instance of (any) Morph, in which case the pictogram\r\n    will be an interactive toggle itself or a Canvas, in which case it\r\n    is just going to be a picture.\r\n*/\r\n\r\n// ToggleMorph inherits from PushButtonMorph:\r\n\r\nToggleMorph.prototype = new PushButtonMorph();\r\nToggleMorph.prototype.constructor = ToggleMorph;\r\nToggleMorph.uber = PushButtonMorph.prototype;\r\n\r\n// ToggleMorph instance creation:\r\n\r\nfunction ToggleMorph(\r\n    style, // 'checkbox' or 'radiobutton'\r\n    target,\r\n    action, // a toggle function\r\n    labelString,\r\n    query, // predicate/selector\r\n    environment,\r\n    hint,\r\n    template,\r\n    element, // optional Morph or Canvas to display\r\n    builder // method which constructs the element (only for Morphs)\r\n) {\r\n    this.init(\r\n        style,\r\n        target,\r\n        action,\r\n        labelString,\r\n        query,\r\n        environment,\r\n        hint,\r\n        template,\r\n        element,\r\n        builder\r\n    );\r\n}\r\n\r\nToggleMorph.prototype.init = function (\r\n    style,\r\n    target,\r\n    action,\r\n    labelString,\r\n    query,\r\n    environment,\r\n    hint,\r\n    template,\r\n    element,\r\n    builder\r\n) {\r\n    // additional properties:\r\n    this.padding = 1;\r\n    style = style || 'checkbox';\r\n    this.corner = (style === 'checkbox' ?\r\n            0 : fontHeight(this.fontSize) / 2 + this.outline + this.padding);\r\n    this.state = false;\r\n    this.query = query || function () {return true; };\r\n    this.tick = null;\r\n    this.captionString = labelString || null;\r\n    this.labelAlignment = 'right';\r\n    this.element = element || null;\r\n    this.builder = builder || null;\r\n    this.toggleElement = null;\r\n\r\n    // initialize inherited properties:\r\n    ToggleMorph.uber.init.call(\r\n        this,\r\n        target,\r\n        action,\r\n        (style === 'checkbox' ? '\\u2713' : '\\u25CF'),\r\n        environment,\r\n        hint,\r\n        template\r\n    );\r\n    this.refresh();\r\n    this.drawNew();\r\n};\r\n\r\n// ToggleMorph layout:\r\n\r\nToggleMorph.prototype.fixLayout = function () {\r\n    var padding = this.padding * 2 + this.outline * 2,\r\n        y;\r\n    if (this.tick !== null) {\r\n        this.silentSetHeight(this.tick.rawHeight() + padding);\r\n        this.silentSetWidth(this.tick.width() + padding);\r\n\r\n        this.setExtent(new Point(\r\n            Math.max(this.width(), this.height()),\r\n            Math.max(this.width(), this.height())\r\n        ));\r\n        this.tick.setCenter(this.center());\r\n    }\r\n    if (this.state) {\r\n        this.tick.show();\r\n    } else {\r\n        this.tick.hide();\r\n    }\r\n    if (this.toggleElement && (this.labelAlignment === 'right')) {\r\n        y = this.top() + (this.height() - this.toggleElement.height()) / 2;\r\n        this.toggleElement.setPosition(new Point(\r\n            this.right() + padding,\r\n            y\r\n        ));\r\n    }\r\n    if (this.label !== null) {\r\n        y = this.top() + (this.height() - this.label.height()) / 2;\r\n        if (this.labelAlignment === 'right') {\r\n            this.label.setPosition(new Point(\r\n                this.toggleElement ?\r\n                        this.toggleElement instanceof ToggleElementMorph ?\r\n                                this.toggleElement.right()\r\n                                : this.toggleElement.right() + padding\r\n                        : this.right() + padding,\r\n                y\r\n            ));\r\n        } else {\r\n            this.label.setPosition(new Point(\r\n                this.left() - this.label.width() - padding,\r\n                y\r\n            ));\r\n        }\r\n    }\r\n};\r\n\r\nToggleMorph.prototype.createLabel = function () {\r\n    var shading = !MorphicPreferences.isFlat || this.is3D;\r\n\r\n    if (this.label === null) {\r\n        if (this.captionString) {\r\n            this.label = new TextMorph(\r\n                localize(this.captionString),\r\n                this.fontSize,\r\n                this.fontStyle,\r\n                true\r\n            );\r\n            this.add(this.label);\r\n        }\r\n    }\r\n    if (this.tick === null) {\r\n        this.tick = new StringMorph(\r\n            localize(this.labelString),\r\n            this.fontSize,\r\n            this.fontStyle,\r\n            true,\r\n            false,\r\n            false,\r\n            shading ? new Point(1, 1) : null,\r\n            new Color(240, 240, 240)\r\n        );\r\n        this.add(this.tick);\r\n    }\r\n    if (this.toggleElement === null) {\r\n        if (this.element) {\r\n            if (this.element instanceof Morph) {\r\n                this.toggleElement = new ToggleElementMorph(\r\n                    this.target,\r\n                    this.action,\r\n                    this.element,\r\n                    this.query,\r\n                    this.environment,\r\n                    this.hint,\r\n                    this.builder\r\n                );\r\n            } else if (this.element instanceof HTMLCanvasElement) {\r\n                this.toggleElement = new Morph();\r\n                this.toggleElement.silentSetExtent(new Point(\r\n                    this.element.width,\r\n                    this.element.height\r\n                ));\r\n                this.toggleElement.image = this.element;\r\n            }\r\n            this.add(this.toggleElement);\r\n        }\r\n    }\r\n};\r\n\r\n// ToggleMorph action:\r\n\r\nToggleMorph.prototype.trigger = function () {\r\n    ToggleMorph.uber.trigger.call(this);\r\n    this.refresh();\r\n};\r\n\r\nToggleMorph.prototype.refresh = function () {\r\n    /*\r\n    if query is a function:\r\n    execute the query with target as environment (can be null)\r\n    for lambdafied (inline) actions\r\n\r\n    else if query is a String:\r\n    treat it as function property of target and execute it\r\n    for selector-like queries\r\n    */\r\n    if (typeof this.query === 'function') {\r\n        this.state = this.query.call(this.target);\r\n    } else { // assume it's a String\r\n        this.state = this.target[this.query]();\r\n    }\r\n    if (this.state) {\r\n        this.tick.show();\r\n    } else {\r\n        this.tick.hide();\r\n    }\r\n    if (this.toggleElement && this.toggleElement.refresh) {\r\n        this.toggleElement.refresh();\r\n    }\r\n};\r\n\r\n// ToggleMorph events\r\n\r\nToggleMorph.prototype.mouseDownLeft = function () {\r\n    PushButtonMorph.uber.mouseDownLeft.call(this);\r\n    if (this.tick) {\r\n        this.tick.setCenter(this.center().add(1));\r\n    }\r\n};\r\n\r\nToggleMorph.prototype.mouseClickLeft = function () {\r\n    PushButtonMorph.uber.mouseClickLeft.call(this);\r\n    if (this.tick) {\r\n        this.tick.setCenter(this.center());\r\n    }\r\n};\r\n\r\nToggleMorph.prototype.mouseLeave = function () {\r\n    PushButtonMorph.uber.mouseLeave.call(this);\r\n    if (this.tick) {\r\n        this.tick.setCenter(this.center());\r\n    }\r\n};\r\n\r\n// ToggleMorph hiding and showing:\r\n\r\n/*\r\n    override the inherited behavior to recursively hide/show all\r\n    children, so that my instances get restored correctly when\r\n    hiding/showing my parent.\r\n*/\r\n\r\nToggleMorph.prototype.hide = ToggleButtonMorph.prototype.hide;\r\n\r\nToggleMorph.prototype.show = ToggleButtonMorph.prototype.show;\r\n\r\n// ToggleElementMorph /////////////////////////////////////////////////////\r\n/*\r\n    I am a picture of a Morph (\"element\") which acts as a toggle button.\r\n    I am different from ToggleButton in that I neither create a label nor\r\n    draw button outlines. Instead I display my element morph in specified\r\n    contrasts of a given color, symbolizing whether it is selected or not\r\n*/\r\n\r\n// ToggleElementMorph inherits from TriggerMorph:\r\n\r\nToggleElementMorph.prototype = new TriggerMorph();\r\nToggleElementMorph.prototype.constructor = ToggleElementMorph;\r\nToggleElementMorph.uber = TriggerMorph.prototype;\r\n\r\n// ToggleElementMorph preferences settings\r\n\r\nToggleElementMorph.prototype.contrast = 50;\r\nToggleElementMorph.prototype.shadowOffset = new Point(2, 2);\r\nToggleElementMorph.prototype.shadowAlpha = 0.6;\r\nToggleElementMorph.prototype.fontSize = 10; // only for (optional) labels\r\nToggleElementMorph.prototype.inactiveColor = new Color(180, 180, 180);\r\n\r\n// ToggleElementMorph instance creation:\r\n\r\nfunction ToggleElementMorph(\r\n    target,\r\n    action,\r\n    element,\r\n    query,\r\n    environment,\r\n    hint,\r\n    builder,\r\n    labelString\r\n) {\r\n    this.init(\r\n        target,\r\n        action,\r\n        element,\r\n        query,\r\n        environment,\r\n        hint,\r\n        builder,\r\n        labelString\r\n    );\r\n}\r\n\r\nToggleElementMorph.prototype.init = function (\r\n    target,\r\n    action,\r\n    element, // mandatory\r\n    query,\r\n    environment,\r\n    hint,\r\n    builder, // optional function name that rebuilds the element\r\n    labelString\r\n) {\r\n    // additional properties:\r\n    this.target = target || null;\r\n    this.action = action || null;\r\n    this.element = element;\r\n    this.query = query || function () {return true; };\r\n    this.environment = environment || null;\r\n    this.hint = hint || null;\r\n    this.builder = builder || 'nop';\r\n    this.captionString = labelString || null;\r\n    this.labelAlignment = 'right';\r\n    this.state = false;\r\n\r\n    // initialize inherited properties:\r\n    TriggerMorph.uber.init.call(this);\r\n\r\n    // override inherited properties:\r\n    this.color = element.color;\r\n    this.createLabel();\r\n};\r\n\r\n// ToggleElementMorph drawing:\r\n\r\nToggleElementMorph.prototype.createBackgrounds = function () {\r\n    var shading = !MorphicPreferences.isFlat || this.is3D;\r\n\r\n    this.color = this.element.color;\r\n    this.element.removeShadow();\r\n    this.element[this.builder]();\r\n    if (shading) {\r\n        this.element.addShadow(this.shadowOffset, this.shadowAlpha);\r\n    }\r\n    this.silentSetExtent(this.element.fullBounds().extent()); // w/ shadow\r\n    this.pressImage = this.element.fullImage();\r\n\r\n    this.element.removeShadow();\r\n    this.element.setColor(this.inactiveColor);\r\n    this.element[this.builder](this.contrast);\r\n    if (shading) {\r\n        this.element.addShadow(this.shadowOffset, 0);\r\n    }\r\n    this.normalImage = this.element.fullImage();\r\n\r\n    this.element.removeShadow();\r\n    this.element.setColor(this.color.lighter(this.contrast));\r\n    this.element[this.builder](this.contrast);\r\n    if (shading) {\r\n        this.element.addShadow(this.shadowOffset, this.shadowAlpha);\r\n    }\r\n    this.highlightImage = this.element.fullImage();\r\n\r\n    this.element.removeShadow();\r\n    this.element.setColor(this.color);\r\n    this.element[this.builder]();\r\n    this.image = this.normalImage;\r\n};\r\n\r\nToggleElementMorph.prototype.setColor = function (aColor) {\r\n    this.element.setColor(aColor);\r\n    this.createBackgrounds();\r\n    this.refresh();\r\n};\r\n\r\n// ToggleElementMorph layout:\r\n\r\nToggleElementMorph.prototype.createLabel = function () {\r\n    var y;\r\n    if (this.captionString) {\r\n        this.label = new StringMorph(\r\n            this.captionString,\r\n            this.fontSize,\r\n            this.fontStyle,\r\n            true\r\n        );\r\n        this.add(this.label);\r\n        y = this.top() + (this.height() - this.label.height()) / 2;\r\n        if (this.labelAlignment === 'right') {\r\n            this.label.setPosition(new Point(\r\n                this.right(),\r\n                y\r\n            ));\r\n        } else {\r\n            this.label.setPosition(new Point(\r\n                this.left() - this.label.width(),\r\n                y\r\n            ));\r\n        }\r\n    }\r\n};\r\n\r\n// ToggleElementMorph action\r\n\r\nToggleElementMorph.prototype.trigger\r\n    = ToggleButtonMorph.prototype.trigger;\r\n\r\nToggleElementMorph.prototype.refresh\r\n    = ToggleButtonMorph.prototype.refresh;\r\n\r\n// ToggleElementMorph events\r\n\r\nToggleElementMorph.prototype.mouseEnter\r\n    = ToggleButtonMorph.prototype.mouseEnter;\r\n\r\nToggleElementMorph.prototype.mouseLeave\r\n    = ToggleButtonMorph.prototype.mouseLeave;\r\n\r\nToggleElementMorph.prototype.mouseDownLeft\r\n    = ToggleButtonMorph.prototype.mouseDownLeft;\r\n\r\nToggleElementMorph.prototype.mouseClickLeft\r\n    = ToggleButtonMorph.prototype.mouseClickLeft;\r\n\r\n// DialogBoxMorph /////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a DialogBox frame.\r\n\r\n    Note:\r\n    -----\r\n    my key property keeps track of my purpose to prevent multiple instances\r\n    on the same or similar objects\r\n*/\r\n\r\n// DialogBoxMorph inherits from Morph:\r\n\r\nDialogBoxMorph.prototype = new Morph();\r\nDialogBoxMorph.prototype.constructor = DialogBoxMorph;\r\nDialogBoxMorph.uber = Morph.prototype;\r\n\r\n// DialogBoxMorph preferences settings:\r\n\r\nDialogBoxMorph.prototype.fontSize = 12;\r\nDialogBoxMorph.prototype.titleFontSize = 14;\r\nDialogBoxMorph.prototype.fontStyle = 'sans-serif';\r\n\r\nDialogBoxMorph.prototype.color = PushButtonMorph.prototype.color;\r\nDialogBoxMorph.prototype.titleTextColor = new Color(255, 255, 255);\r\nDialogBoxMorph.prototype.titleBarColor\r\n    = PushButtonMorph.prototype.pressColor;\r\n\r\nDialogBoxMorph.prototype.contrast = 40;\r\n\r\nDialogBoxMorph.prototype.corner = 12;\r\nDialogBoxMorph.prototype.padding = 14;\r\nDialogBoxMorph.prototype.titlePadding = 6;\r\n\r\nDialogBoxMorph.prototype.buttonContrast = 50;\r\nDialogBoxMorph.prototype.buttonFontSize = 12;\r\nDialogBoxMorph.prototype.buttonCorner = 12;\r\nDialogBoxMorph.prototype.buttonEdge = 6;\r\nDialogBoxMorph.prototype.buttonPadding = 0;\r\nDialogBoxMorph.prototype.buttonOutline = 3;\r\nDialogBoxMorph.prototype.buttonOutlineColor\r\n    = PushButtonMorph.prototype.color;\r\nDialogBoxMorph.prototype.buttonOutlineGradient = true;\r\n\r\nDialogBoxMorph.prototype.instances = {}; // prevent multiple instances\r\n\r\n// DialogBoxMorph instance creation:\r\n\r\nfunction DialogBoxMorph(target, action, environment) {\r\n    this.init(target, action, environment);\r\n}\r\n\r\nDialogBoxMorph.prototype.init = function (target, action, environment) {\r\n    // additional properties:\r\n    this.is3D = false; // for \"flat\" design exceptions\r\n    this.target = target || null;\r\n    this.action = action || null;\r\n    this.environment = environment || null;\r\n    this.key = null; // keep track of my purpose to prevent mulitple instances\r\n\r\n    this.labelString = null;\r\n    this.label = null;\r\n    this.head = null;\r\n    this.body = null;\r\n    this.buttons = null;\r\n\r\n    // initialize inherited properties:\r\n    DialogBoxMorph.uber.init.call(this);\r\n\r\n    // override inherited properites:\r\n    this.isDraggable = true;\r\n    this.color = PushButtonMorph.prototype.color;\r\n    this.createLabel();\r\n    this.createButtons();\r\n    this.setExtent(new Point(300, 150));\r\n};\r\n\r\n// DialogBoxMorph ops\r\nDialogBoxMorph.prototype.inform = function (\r\n    title,\r\n    textString,\r\n    world,\r\n    pic\r\n) {\r\n    var txt = new TextMorph(\r\n        textString,\r\n        this.fontSize,\r\n        this.fontStyle,\r\n        true,\r\n        false,\r\n        'center',\r\n        null,\r\n        null,\r\n        MorphicPreferences.isFlat ? null : new Point(1, 1),\r\n        new Color(255, 255, 255)\r\n    );\r\n\r\n    if (!this.key) {\r\n        this.key = 'inform' + title + textString;\r\n    }\r\n\r\n    this.labelString = title;\r\n    this.createLabel();\r\n    if (pic) {this.setPicture(pic); }\r\n    if (textString) {\r\n        this.addBody(txt);\r\n    }\r\n    this.addButton('ok', 'OK');\r\n    this.drawNew();\r\n    this.fixLayout();\r\n    this.popUp(world);\r\n};\r\n\r\nDialogBoxMorph.prototype.askYesNo = function (\r\n    title,\r\n    textString,\r\n    world,\r\n    pic\r\n) {\r\n    var txt = new TextMorph(\r\n        textString,\r\n        this.fontSize,\r\n        this.fontStyle,\r\n        true,\r\n        false,\r\n        'center',\r\n        null,\r\n        null,\r\n        MorphicPreferences.isFlat ? null : new Point(1, 1),\r\n        new Color(255, 255, 255)\r\n    );\r\n\r\n    if (!this.key) {\r\n        this.key = 'decide' + title + textString;\r\n    }\r\n\r\n    this.labelString = title;\r\n    this.createLabel();\r\n    if (pic) {this.setPicture(pic); }\r\n    this.addBody(txt);\r\n    this.addButton('ok', 'Yes');\r\n    this.addButton('cancel', 'No');\r\n    this.fixLayout();\r\n    this.drawNew();\r\n    this.fixLayout();\r\n    this.popUp(world);\r\n};\r\n\r\nDialogBoxMorph.prototype.prompt = function (\r\n    title,\r\n    defaultString,\r\n    world,\r\n    pic,\r\n    choices, // optional dictionary for drop-down of choices\r\n    isReadOnly, // optional when using choices\r\n    isNumeric, // optional\r\n    sliderMin, // optional for numeric sliders\r\n    sliderMax, // optional for numeric sliders\r\n    sliderAction // optional single-arg function for numeric slider\r\n) {\r\n    var sld,\r\n        head,\r\n        txt = new InputFieldMorph(\r\n            defaultString,\r\n            isNumeric || false, // numeric?\r\n            choices || null, // drop-down dict, optional\r\n            choices ? isReadOnly || false : false\r\n        );\r\n    txt.setWidth(250);\r\n    if (isNumeric) {\r\n        if (pic) {\r\n            head = new AlignmentMorph('column', this.padding);\r\n            pic.setPosition(head.position());\r\n            head.add(pic);\r\n        }\r\n        if (!isNil(sliderMin) && !isNil(sliderMax)) {\r\n            sld = new SliderMorph(\r\n                sliderMin * 100,\r\n                sliderMax * 100,\r\n                parseFloat(defaultString) * 100,\r\n                (sliderMax - sliderMin) / 10 * 100,\r\n                'horizontal'\r\n            );\r\n            sld.alpha = 1;\r\n            sld.color = this.color.lighter(50);\r\n            sld.setHeight(txt.height() * 0.7);\r\n            sld.setWidth(txt.width());\r\n            sld.action = function (num) {\r\n                if (sliderAction) {\r\n                    sliderAction(num / 100);\r\n                }\r\n                txt.setContents(num / 100);\r\n                txt.edit();\r\n            };\r\n            if (!head) {\r\n                head = new AlignmentMorph('column', this.padding);\r\n            }\r\n            head.add(sld);\r\n        }\r\n        if (head) {\r\n            head.fixLayout();\r\n            this.setPicture(head);\r\n            head.fixLayout();\r\n        }\r\n    } else {\r\n        if (pic) {this.setPicture(pic); }\r\n    }\r\n\r\n    this.reactToChoice = function (inp) {\r\n        if (sld) {\r\n            sld.value = inp * 100;\r\n            sld.drawNew();\r\n            sld.changed();\r\n        }\r\n        if (sliderAction) {\r\n            sliderAction(inp);\r\n        }\r\n    };\r\n\r\n    txt.reactToKeystroke = function () {\r\n        var inp = txt.getValue();\r\n        if (sld) {\r\n            inp = Math.max(inp, sliderMin);\r\n            sld.value = inp * 100;\r\n            sld.drawNew();\r\n            sld.changed();\r\n        }\r\n        if (sliderAction) {\r\n            sliderAction(inp);\r\n        }\r\n    };\r\n\r\n    this.labelString = title;\r\n    this.createLabel();\r\n\r\n    if (!this.key) {\r\n        this.key = 'prompt' + title + defaultString;\r\n    }\r\n\r\n    this.addBody(txt);\r\n    txt.drawNew();\r\n    this.addButton('ok', 'OK');\r\n    this.addButton('cancel', 'Cancel');\r\n    this.fixLayout();\r\n    this.drawNew();\r\n    this.fixLayout();\r\n    this.popUp(world);\r\n};\r\n\r\nDialogBoxMorph.prototype.promptCode = function (\r\n    title,\r\n    defaultString,\r\n    world,\r\n    pic,\r\n    instructions\r\n) {\r\n    var frame = new ScrollFrameMorph(),\r\n        text = new TextMorph(defaultString || ''),\r\n        bdy = new AlignmentMorph('column', this.padding),\r\n        size = pic ? Math.max(pic.width, 400) : 400;\r\n\r\n    this.getInput = function () {\r\n        return text.text;\r\n    };\r\n\r\n    function remarkText(string) {\r\n        return new TextMorph(\r\n            localize(string),\r\n            10,\r\n            null, // style\r\n            false, // bold\r\n            null, // italic\r\n            null, // alignment\r\n            null, // width\r\n            null, // font name\r\n            MorphicPreferences.isFlat ? null : new Point(1, 1),\r\n            new Color(255, 255, 255) // shadowColor\r\n        );\r\n    }\r\n\r\n    frame.padding = 6;\r\n    frame.setWidth(size);\r\n    frame.acceptsDrops = false;\r\n    frame.contents.acceptsDrops = false;\r\n\r\n    text.fontName = 'monospace';\r\n    text.fontStyle = 'monospace';\r\n    text.fontSize = 11;\r\n    text.setPosition(frame.topLeft().add(frame.padding));\r\n    text.enableSelecting();\r\n    text.isEditable = true;\r\n\r\n    frame.setHeight(size / 4);\r\n    frame.fixLayout = nop;\r\n    frame.edge = InputFieldMorph.prototype.edge;\r\n    frame.fontSize = InputFieldMorph.prototype.fontSize;\r\n    frame.typeInPadding = InputFieldMorph.prototype.typeInPadding;\r\n    frame.contrast = InputFieldMorph.prototype.contrast;\r\n    frame.drawNew = InputFieldMorph.prototype.drawNew;\r\n    frame.drawRectBorder = InputFieldMorph.prototype.drawRectBorder;\r\n\r\n    frame.addContents(text);\r\n    text.drawNew();\r\n\r\n    if (pic) {this.setPicture(pic); }\r\n\r\n    this.labelString = title;\r\n    this.createLabel();\r\n\r\n    if (!this.key) {\r\n        this.key = 'promptCode' + title + defaultString;\r\n    }\r\n\r\n    bdy.setColor(this.color);\r\n    bdy.add(frame);\r\n    if (instructions) {\r\n        bdy.add(remarkText(instructions));\r\n    }\r\n    bdy.fixLayout();\r\n\r\n    this.addBody(bdy);\r\n    frame.drawNew();\r\n    bdy.drawNew();\r\n\r\n    this.addButton('ok', 'OK');\r\n    this.addButton('cancel', 'Cancel');\r\n    this.fixLayout();\r\n    this.drawNew();\r\n    this.fixLayout();\r\n    this.popUp(world);\r\n    text.edit();\r\n};\r\n\r\nDialogBoxMorph.prototype.promptVector = function (\r\n    title,\r\n    point,\r\n    deflt,\r\n    xLabel,\r\n    yLabel,\r\n    world,\r\n    pic,\r\n    msg\r\n) {\r\n    var vec = new AlignmentMorph('row', 4),\r\n        xInp = new InputFieldMorph(point.x.toString(), true),\r\n        yInp = new InputFieldMorph(point.y.toString(), true),\r\n        xCol = new AlignmentMorph('column', 2),\r\n        yCol = new AlignmentMorph('column', 2),\r\n        inp = new AlignmentMorph('column', 2),\r\n        bdy = new AlignmentMorph('column', this.padding);\r\n\r\n    function labelText(string) {\r\n        return new TextMorph(\r\n            localize(string),\r\n            10,\r\n            null, // style\r\n            false, // bold\r\n            null, // italic\r\n            null, // alignment\r\n            null, // width\r\n            null, // font name\r\n            MorphicPreferences.isFlat ? null : new Point(1, 1),\r\n            new Color(255, 255, 255) // shadowColor\r\n        );\r\n    }\r\n\r\n    inp.alignment = 'left';\r\n    inp.setColor(this.color);\r\n    bdy.setColor(this.color);\r\n    xCol.alignment = 'left';\r\n    xCol.setColor(this.color);\r\n    yCol.alignment = 'left';\r\n    yCol.setColor(this.color);\r\n\r\n    xCol.add(labelText(xLabel));\r\n    xCol.add(xInp);\r\n    yCol.add(labelText(yLabel));\r\n    yCol.add(yInp);\r\n    vec.add(xCol);\r\n    vec.add(yCol);\r\n    inp.add(vec);\r\n\r\n    if (msg) {\r\n        bdy.add(labelText(msg));\r\n    }\r\n\r\n    bdy.add(inp);\r\n\r\n    vec.fixLayout();\r\n    xCol.fixLayout();\r\n    yCol.fixLayout();\r\n    inp.fixLayout();\r\n    bdy.fixLayout();\r\n\r\n    this.labelString = title;\r\n    this.createLabel();\r\n    if (pic) {this.setPicture(pic); }\r\n\r\n    this.addBody(bdy);\r\n\r\n    vec.drawNew();\r\n    xCol.drawNew();\r\n    xInp.drawNew();\r\n    yCol.drawNew();\r\n    yInp.drawNew();\r\n    bdy.fixLayout();\r\n\r\n    this.addButton('ok', 'OK');\r\n\r\n    if (deflt instanceof Point) {\r\n        this.addButton(\r\n            function () {\r\n                xInp.setContents(deflt.x.toString());\r\n                yInp.setContents(deflt.y.toString());\r\n            },\r\n            'Default'\r\n\r\n        );\r\n    }\r\n\r\n    this.addButton('cancel', 'Cancel');\r\n    this.fixLayout();\r\n    this.drawNew();\r\n    this.fixLayout();\r\n\r\n    this.edit = function () {\r\n        xInp.edit();\r\n    };\r\n\r\n    this.getInput = function () {\r\n        return new Point(xInp.getValue(), yInp.getValue());\r\n    };\r\n\r\n    if (!this.key) {\r\n        this.key = 'vector' + title;\r\n    }\r\n\r\n    this.popUp(world);\r\n};\r\n\r\nDialogBoxMorph.prototype.promptCredentials = function (\r\n    title,\r\n    purpose,\r\n    tosURL,\r\n    tosLabel,\r\n    prvURL,\r\n    prvLabel,\r\n    checkBoxLabel,\r\n    world,\r\n    pic,\r\n    msg\r\n) {\r\n    var usr = new InputFieldMorph(),\r\n        bmn,\r\n        byr,\r\n        emlLabel,\r\n        eml = new InputFieldMorph(),\r\n        pw1 = new InputFieldMorph(),\r\n        pw2 = new InputFieldMorph(),\r\n        opw = new InputFieldMorph(),\r\n        agree = false,\r\n        chk,\r\n        dof = new AlignmentMorph('row', 4),\r\n        mCol = new AlignmentMorph('column', 2),\r\n        yCol = new AlignmentMorph('column', 2),\r\n        inp = new AlignmentMorph('column', 2),\r\n        lnk = new AlignmentMorph('row', 4),\r\n        bdy = new AlignmentMorph('column', this.padding),\r\n        years = {},\r\n        currentYear = new Date().getFullYear(),\r\n        firstYear = currentYear - 20,\r\n        myself = this;\r\n\r\n    function labelText(string) {\r\n        return new TextMorph(\r\n            localize(string),\r\n            10,\r\n            null, // style\r\n            false, // bold\r\n            null, // italic\r\n            null, // alignment\r\n            null, // width\r\n            null, // font name\r\n            MorphicPreferences.isFlat ? null : new Point(1, 1),\r\n            new Color(255, 255, 255) // shadowColor\r\n        );\r\n    }\r\n\r\n    function linkButton(label, url) {\r\n        var btn = new PushButtonMorph(\r\n            myself,\r\n            function () {\r\n                window.open(url);\r\n            },\r\n            '  ' + localize(label) + '  '\r\n        );\r\n        btn.fontSize = 10;\r\n        btn.corner = myself.buttonCorner;\r\n        btn.edge = myself.buttonEdge;\r\n        btn.outline = myself.buttonOutline;\r\n        btn.outlineColor = myself.buttonOutlineColor;\r\n        btn.outlineGradient = myself.buttonOutlineGradient;\r\n        btn.padding = myself.buttonPadding;\r\n        btn.contrast = myself.buttonContrast;\r\n        btn.drawNew();\r\n        btn.fixLayout();\r\n        return btn;\r\n    }\r\n\r\n    function age() {\r\n        var today = new Date().getFullYear() + new Date().getMonth() / 12,\r\n            year = +byr.getValue() || 0,\r\n            monthName = bmn.getValue(),\r\n            month,\r\n            birthday;\r\n        if (monthName instanceof Array) { // translatable\r\n            monthName = monthName[0];\r\n        }\r\n        if (isNaN(year)) {\r\n            year = 0;\r\n        }\r\n        month = [\r\n            'January',\r\n            'February',\r\n            'March',\r\n            'April',\r\n            'May',\r\n            'June',\r\n            'July',\r\n            'August',\r\n            'September',\r\n            'October',\r\n            'November',\r\n            'December'\r\n        ].indexOf(monthName);\r\n        if (isNaN(month)) {\r\n            month = 0;\r\n        }\r\n        birthday = year + month / 12;\r\n        return today - birthday;\r\n    }\r\n\r\n    bmn = new InputFieldMorph(\r\n        null, // text\r\n        false, // numeric?\r\n        {\r\n            'January' : ['January'],\r\n            'February' : ['February'],\r\n            'March' : ['March'],\r\n            'April' : ['April'],\r\n            'May' : ['May'],\r\n            'June' : ['June'],\r\n            'July' : ['July'],\r\n            'August' : ['August'],\r\n            'September' : ['September'],\r\n            'October' : ['October'],\r\n            'November' : ['November'],\r\n            'December' : ['December']\r\n        },\r\n        true // read-only\r\n    );\r\n    for (currentYear; currentYear > firstYear; currentYear -= 1) {\r\n        years[currentYear.toString() + ' '] = currentYear;\r\n    }\r\n    years[firstYear + ' ' + localize('or before')] = '< ' + currentYear;\r\n    byr = new InputFieldMorph(\r\n        null, // text\r\n        false, // numeric?\r\n        years,\r\n        true // read-only\r\n    );\r\n\r\n    inp.alignment = 'left';\r\n    inp.setColor(this.color);\r\n    bdy.setColor(this.color);\r\n\r\n    mCol.alignment = 'left';\r\n    mCol.setColor(this.color);\r\n    yCol.alignment = 'left';\r\n    yCol.setColor(this.color);\r\n\r\n    usr.setWidth(200);\r\n    bmn.setWidth(100);\r\n    byr.contents().minWidth = 80;\r\n    byr.setWidth(80);\r\n    eml.setWidth(200);\r\n    pw1.setWidth(200);\r\n    pw2.setWidth(200);\r\n    opw.setWidth(200);\r\n    pw1.contents().text.toggleIsPassword();\r\n    pw2.contents().text.toggleIsPassword();\r\n    opw.contents().text.toggleIsPassword();\r\n\r\n    if (purpose === 'login') {\r\n        inp.add(labelText('User name:'));\r\n        inp.add(usr);\r\n    }\r\n\r\n    if (purpose === 'signup') {\r\n        inp.add(labelText('User name:'));\r\n        inp.add(usr);\r\n        mCol.add(labelText('Birth date:'));\r\n        mCol.add(bmn);\r\n        yCol.add(labelText('year:'));\r\n        yCol.add(byr);\r\n        dof.add(mCol);\r\n        dof.add(yCol);\r\n        inp.add(dof);\r\n        emlLabel = labelText('foo');\r\n        inp.add(emlLabel);\r\n        inp.add(eml);\r\n    }\r\n\r\n    if (purpose === 'login') {\r\n        inp.add(labelText('Password:'));\r\n        inp.add(pw1);\r\n    }\r\n\r\n    if (purpose === 'changePassword') {\r\n        inp.add(labelText('Old password:'));\r\n        inp.add(opw);\r\n        inp.add(labelText('New password:'));\r\n        inp.add(pw1);\r\n        inp.add(labelText('Repeat new password:'));\r\n        inp.add(pw2);\r\n    }\r\n\r\n    if (purpose === 'resetPassword') {\r\n        inp.add(labelText('User name:'));\r\n        inp.add(usr);\r\n    }\r\n\r\n    if (msg) {\r\n        bdy.add(labelText(msg));\r\n    }\r\n\r\n    bdy.add(inp);\r\n\r\n    if (tosURL || prvURL) {\r\n        bdy.add(lnk);\r\n    }\r\n    if (tosURL) {\r\n        lnk.add(linkButton(tosLabel, tosURL));\r\n    }\r\n    if (prvURL) {\r\n        lnk.add(linkButton(prvLabel, prvURL));\r\n    }\r\n\r\n    if (checkBoxLabel) {\r\n        chk = new ToggleMorph(\r\n            'checkbox',\r\n            this,\r\n            function () {agree = !agree; }, // action,\r\n            checkBoxLabel,\r\n            function () {return agree; } //query\r\n        );\r\n        chk.edge = this.buttonEdge / 2;\r\n        chk.outline = this.buttonOutline / 2;\r\n        chk.outlineColor = this.buttonOutlineColor;\r\n        chk.outlineGradient = this.buttonOutlineGradient;\r\n        chk.contrast = this.buttonContrast;\r\n        chk.drawNew();\r\n        chk.fixLayout();\r\n        bdy.add(chk);\r\n    }\r\n\r\n    dof.fixLayout();\r\n    mCol.fixLayout();\r\n    yCol.fixLayout();\r\n    inp.fixLayout();\r\n    lnk.fixLayout();\r\n    bdy.fixLayout();\r\n\r\n    this.labelString = title;\r\n    this.createLabel();\r\n    if (pic) {this.setPicture(pic); }\r\n\r\n    this.addBody(bdy);\r\n\r\n    usr.drawNew();\r\n    dof.drawNew();\r\n    mCol.drawNew();\r\n    bmn.drawNew();\r\n    yCol.drawNew();\r\n    byr.drawNew();\r\n    pw1.drawNew();\r\n    pw2.drawNew();\r\n    opw.drawNew();\r\n    eml.drawNew();\r\n    bdy.fixLayout();\r\n\r\n    this.addButton('ok', 'OK');\r\n    this.addButton('cancel', 'Cancel');\r\n    this.fixLayout();\r\n    this.drawNew();\r\n    this.fixLayout();\r\n\r\n    function validInputs() {\r\n        var checklist,\r\n            empty,\r\n            em = eml.getValue();\r\n\r\n        function indicate(morph, string) {\r\n            var bubble = new SpeechBubbleMorph(localize(string));\r\n            bubble.isPointingRight = false;\r\n            bubble.drawNew();\r\n            bubble.popUp(\r\n                world,\r\n                morph.leftCenter().subtract(new Point(bubble.width() + 2, 0))\r\n            );\r\n            if (morph.edit) {\r\n                morph.edit();\r\n            }\r\n        }\r\n\r\n        if (purpose === 'login') {\r\n            checklist = [usr, pw1];\r\n        } else if (purpose === 'signup') {\r\n            checklist = [usr, bmn, byr, eml];\r\n        } else if (purpose === 'changePassword') {\r\n            checklist = [opw, pw1, pw2];\r\n        } else if (purpose === 'resetPassword') {\r\n            checklist = [usr];\r\n        }\r\n\r\n        empty = detect(\r\n            checklist,\r\n            function (inp) {\r\n                return !inp.getValue();\r\n            }\r\n        );\r\n        if (empty) {\r\n            indicate(empty, 'please fill out\\nthis field');\r\n            return false;\r\n        }\r\n        if (purpose === 'signup') {\r\n            if (usr.getValue().length < 4) {\r\n                indicate(usr, 'User name must be four\\ncharacters or longer');\r\n                return false;\r\n            }\r\n            if (em.indexOf(' ') > -1 || em.indexOf('@') === -1\r\n                    || em.indexOf('.') === -1) {\r\n                indicate(eml, 'please provide a valid\\nemail address');\r\n                return false;\r\n            }\r\n        }\r\n        if (purpose === 'changePassword') {\r\n            if (pw1.getValue().length < 6) {\r\n                indicate(pw1, 'password must be six\\ncharacters or longer');\r\n                return false;\r\n            }\r\n            if (pw1.getValue() !== pw2.getValue()) {\r\n                indicate(pw2, 'passwords do\\nnot match');\r\n                return false;\r\n            }\r\n        }\r\n        if (purpose === 'signup') {\r\n            if (!agree) {\r\n                indicate(chk, 'please agree to\\nthe TOS');\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    this.accept = function () {\r\n        if (validInputs()) {\r\n            DialogBoxMorph.prototype.accept.call(myself);\r\n        }\r\n    };\r\n\r\n    this.edit = function () {\r\n        if (purpose === 'changePassword') {\r\n            opw.edit();\r\n        } else { // 'signup', 'login', 'resetPassword'\r\n            usr.edit();\r\n        }\r\n    };\r\n\r\n    this.getInput = function () {\r\n        return {\r\n            username: usr.getValue(),\r\n            email: eml.getValue(),\r\n            oldpassword: opw.getValue(),\r\n            password: pw1.getValue(),\r\n            choice: agree\r\n        };\r\n    };\r\n\r\n    this.reactToChoice = function () {\r\n        if (purpose === 'signup') {\r\n            emlLabel.changed();\r\n            emlLabel.text = age() <= 13 ?\r\n                    'E-mail address of parent or guardian:'\r\n                        : 'E-mail address:';\r\n            emlLabel.text = localize(emlLabel.text);\r\n            emlLabel.drawNew();\r\n            emlLabel.changed();\r\n        }\r\n    };\r\n\r\n    this.reactToChoice(); // initialize e-mail label\r\n\r\n    if (!this.key) {\r\n        this.key = 'credentials' + title + purpose;\r\n    }\r\n\r\n    this.popUp(world);\r\n};\r\n\r\nDialogBoxMorph.prototype.accept = function () {\r\n    /*\r\n    if target is a function, use it as callback:\r\n    execute target as callback function with action as argument\r\n    in the environment as optionally specified.\r\n    Note: if action is also a function, instead of becoming\r\n    the argument itself it will be called to answer the argument.\r\n    for selections, Yes/No Choices etc:\r\n\r\n    else (if target is not a function):\r\n\r\n        if action is a function:\r\n        execute the action with target as environment (can be null)\r\n        for lambdafied (inline) actions\r\n\r\n        else if action is a String:\r\n        treat it as function property of target and execute it\r\n        for selector-like actions\r\n    */\r\n    if (this.action) {\r\n        if (typeof this.target === 'function') {\r\n            if (typeof this.action === 'function') {\r\n                this.target.call(this.environment, this.action.call());\r\n            } else {\r\n                this.target.call(this.environment, this.action);\r\n            }\r\n        } else {\r\n            if (typeof this.action === 'function') {\r\n                this.action.call(this.target, this.getInput());\r\n            } else { // assume it's a String\r\n                this.target[this.action](this.getInput());\r\n            }\r\n        }\r\n    }\r\n    this.destroy();\r\n};\r\n\r\nDialogBoxMorph.prototype.withKey = function (key) {\r\n    this.key = key;\r\n    return this;\r\n};\r\n\r\nDialogBoxMorph.prototype.popUp = function (world) {\r\n    if (world) {\r\n        if (this.key) {\r\n            if (this.instances[world.stamp]) {\r\n                if (this.instances[world.stamp][this.key]) {\r\n                    this.instances[world.stamp][this.key].destroy();\r\n                }\r\n                this.instances[world.stamp][this.key] = this;\r\n            } else {\r\n                this.instances[world.stamp] = {};\r\n                this.instances[world.stamp][this.key] = this;\r\n            }\r\n        }\r\n        world.add(this);\r\n        world.keyboardReceiver = this;\r\n        this.setCenter(world.center());\r\n        this.edit();\r\n    }\r\n};\r\n\r\nDialogBoxMorph.prototype.destroy = function () {\r\n    DialogBoxMorph.uber.destroy.call(this);\r\n    if (this.key) {\r\n        delete this.instances[this.key];\r\n    }\r\n};\r\n\r\nDialogBoxMorph.prototype.ok = function () {\r\n    this.accept();\r\n};\r\n\r\nDialogBoxMorph.prototype.cancel = function () {\r\n    this.destroy();\r\n};\r\n\r\nDialogBoxMorph.prototype.edit = function () {\r\n    this.children.forEach(function (c) {\r\n        if (c.edit) {\r\n            return c.edit();\r\n        }\r\n    });\r\n};\r\n\r\nDialogBoxMorph.prototype.getInput = function () {\r\n    if (this.body instanceof InputFieldMorph) {\r\n        return this.body.getValue();\r\n    }\r\n    return null;\r\n};\r\n\r\nDialogBoxMorph.prototype.justDropped = function (hand) {\r\n    hand.world.keyboardReceiver = this;\r\n    this.edit();\r\n};\r\n\r\nDialogBoxMorph.prototype.destroy = function () {\r\n    var world = this.world();\r\n    world.keyboardReceiver = null;\r\n    world.hand.destroyTemporaries();\r\n    DialogBoxMorph.uber.destroy.call(this);\r\n};\r\n\r\nDialogBoxMorph.prototype.normalizeSpaces = function (string) {\r\n    var ans = '', i, c, flag = false;\r\n\r\n    for (i = 0; i < string.length; i += 1) {\r\n        c = string[i];\r\n        if (c === ' ') {\r\n            if (flag) {\r\n                ans += c;\r\n                flag = false;\r\n            }\r\n        } else {\r\n            ans += c;\r\n            flag = true;\r\n        }\r\n    }\r\n    return ans.trim();\r\n};\r\n\r\n// DialogBoxMorph submorph construction\r\n\r\nDialogBoxMorph.prototype.createLabel = function () {\r\n    var shading = !MorphicPreferences.isFlat || this.is3D;\r\n\r\n    if (this.label) {\r\n        this.label.destroy();\r\n    }\r\n    if (this.labelString) {\r\n        this.label = new StringMorph(\r\n            localize(this.labelString),\r\n            this.titleFontSize,\r\n            this.fontStyle,\r\n            true,\r\n            false,\r\n            false,\r\n            shading ? new Point(2, 1) : null,\r\n            this.titleBarColor.darker(this.contrast)\r\n        );\r\n        this.label.color = this.titleTextColor;\r\n        this.label.drawNew();\r\n        this.add(this.label);\r\n    }\r\n};\r\n\r\nDialogBoxMorph.prototype.createButtons = function () {\r\n    if (this.buttons) {\r\n        this.buttons.destroy();\r\n    }\r\n    this.buttons = new AlignmentMorph('row', this.padding);\r\n    this.add(this.buttons);\r\n};\r\n\r\nDialogBoxMorph.prototype.addButton = function (action, label) {\r\n    var button = new PushButtonMorph(\r\n        this,\r\n        action || 'ok',\r\n        '  ' + localize((label || 'OK')) + '  '\r\n    );\r\n    button.fontSize = this.buttonFontSize;\r\n    button.corner = this.buttonCorner;\r\n    button.edge = this.buttonEdge;\r\n    button.outline = this.buttonOutline;\r\n    button.outlineColor = this.buttonOutlineColor;\r\n    button.outlineGradient = this.buttonOutlineGradient;\r\n    button.padding = this.buttonPadding;\r\n    button.contrast = this.buttonContrast;\r\n    button.drawNew();\r\n    button.fixLayout();\r\n    this.buttons.add(button);\r\n    return button;\r\n};\r\n\r\nDialogBoxMorph.prototype.setPicture = function (aMorphOrCanvas) {\r\n    var morph;\r\n    if (aMorphOrCanvas instanceof Morph) {\r\n        morph = aMorphOrCanvas;\r\n    } else {\r\n        morph = new Morph();\r\n        morph.image = aMorphOrCanvas;\r\n        morph.silentSetWidth(aMorphOrCanvas.width);\r\n        morph.silentSetHeight(aMorphOrCanvas.height);\r\n    }\r\n    this.addHead(morph);\r\n};\r\n\r\nDialogBoxMorph.prototype.addHead = function (aMorph) {\r\n    if (this.head) {\r\n        this.head.destroy();\r\n    }\r\n    this.head = aMorph;\r\n    this.add(this.head);\r\n};\r\n\r\nDialogBoxMorph.prototype.addBody = function (aMorph) {\r\n    if (this.body) {\r\n        this.body.destroy();\r\n    }\r\n    this.body = aMorph;\r\n    this.add(this.body);\r\n};\r\n\r\n// DialogBoxMorph layout\r\n\r\nDialogBoxMorph.prototype.addShadow = function () {nop(); };\r\nDialogBoxMorph.prototype.removeShadow = function () {nop(); };\r\n\r\nDialogBoxMorph.prototype.fixLayout = function () {\r\n    var th = fontHeight(this.titleFontSize) + this.titlePadding * 2, w;\r\n\r\n    if (this.head) {\r\n        this.head.setPosition(this.position().add(new Point(\r\n            this.padding,\r\n            th + this.padding\r\n        )));\r\n        this.silentSetWidth(this.head.width() + this.padding * 2);\r\n        this.silentSetHeight(\r\n            this.head.height()\r\n                + this.padding * 2\r\n                + th\r\n        );\r\n    }\r\n\r\n    if (this.body) {\r\n        if (this.head) {\r\n            this.body.setPosition(this.head.bottomLeft().add(new Point(\r\n                0,\r\n                this.padding\r\n            )));\r\n            this.silentSetWidth(Math.max(\r\n                this.width(),\r\n                this.body.width() + this.padding * 2\r\n            ));\r\n            this.silentSetHeight(\r\n                this.height()\r\n                    + this.body.height()\r\n                    + this.padding\r\n            );\r\n            w = this.width();\r\n            this.head.setLeft(\r\n                this.left()\r\n                    + Math.round((w - this.head.width()) / 2)\r\n            );\r\n            this.body.setLeft(\r\n                this.left()\r\n                    + Math.round((w - this.body.width()) / 2)\r\n            );\r\n        } else {\r\n            this.body.setPosition(this.position().add(new Point(\r\n                this.padding,\r\n                th + this.padding\r\n            )));\r\n            this.silentSetWidth(this.body.width() + this.padding * 2);\r\n            this.silentSetHeight(\r\n                this.body.height()\r\n                    + this.padding * 2\r\n                    + th\r\n            );\r\n        }\r\n    }\r\n\r\n    if (this.label) {\r\n        this.label.setCenter(this.center());\r\n        this.label.setTop(this.top() + (th - this.label.height()) / 2);\r\n    }\r\n\r\n    if (this.buttons && (this.buttons.children.length > 0)) {\r\n        this.buttons.fixLayout();\r\n        this.silentSetHeight(\r\n            this.height()\r\n                    + this.buttons.height()\r\n                    + this.padding\r\n        );\r\n        this.silentSetWidth(Math.max(\r\n                this.width(),\r\n                this.buttons.width()\r\n                        + (2 * this.padding)\r\n            )\r\n        );\r\n        this.buttons.setCenter(this.center());\r\n        this.buttons.setBottom(this.bottom() - this.padding);\r\n    }\r\n};\r\n\r\n// DialogBoxMorph shadow\r\n\r\n/*\r\n    only take the 'plain' image, so the box rounding doesn't become\r\n    conflicted by the scrolling scripts pane\r\n*/\r\n\r\nDialogBoxMorph.prototype.shadowImage = function (off, color) {\r\n    // fallback for Windows Chrome-Shadow bug\r\n    var fb, img, outline, sha, ctx,\r\n        offset = off || new Point(7, 7),\r\n        clr = color || new Color(0, 0, 0);\r\n    fb = this.extent();\r\n    img = this.image;\r\n    outline = newCanvas(fb);\r\n    ctx = outline.getContext('2d');\r\n    ctx.drawImage(img, 0, 0);\r\n    ctx.globalCompositeOperation = 'destination-out';\r\n    ctx.drawImage(\r\n        img,\r\n        -offset.x,\r\n        -offset.y\r\n    );\r\n    sha = newCanvas(fb);\r\n    ctx = sha.getContext('2d');\r\n    ctx.drawImage(outline, 0, 0);\r\n    ctx.globalCompositeOperation = 'source-atop';\r\n    ctx.fillStyle = clr.toString();\r\n    ctx.fillRect(0, 0, fb.x, fb.y);\r\n    return sha;\r\n};\r\n\r\nDialogBoxMorph.prototype.shadowImageBlurred = function (off, color) {\r\n    var fb, img, sha, ctx,\r\n        offset = off || new Point(7, 7),\r\n        blur = this.shadowBlur,\r\n        clr = color || new Color(0, 0, 0);\r\n    fb = this.extent().add(blur * 2);\r\n    img = this.image;\r\n    sha = newCanvas(fb);\r\n    ctx = sha.getContext('2d');\r\n    ctx.shadowOffsetX = offset.x;\r\n    ctx.shadowOffsetY = offset.y;\r\n    ctx.shadowBlur = blur;\r\n    ctx.shadowColor = clr.toString();\r\n    ctx.drawImage(\r\n        img,\r\n        blur - offset.x,\r\n        blur - offset.y\r\n    );\r\n    ctx.shadowOffsetX = 0;\r\n    ctx.shadowOffsetY = 0;\r\n    ctx.shadowBlur = 0;\r\n    ctx.globalCompositeOperation = 'destination-out';\r\n    ctx.drawImage(\r\n        img,\r\n        blur - offset.x,\r\n        blur - offset.y\r\n    );\r\n    return sha;\r\n};\r\n\r\n// DialogBoxMorph keyboard events\r\n\r\nDialogBoxMorph.prototype.processKeyPress = function () {nop(); };\r\n\r\nDialogBoxMorph.prototype.processKeyDown = function (event) {\r\n    // this.inspectKeyEvent(event);\r\n    switch (event.keyCode) {\r\n    case 13:\r\n        this.ok();\r\n        break;\r\n    case 27:\r\n        this.cancel();\r\n        break;\r\n    default:\r\n        nop();\r\n        // this.inspectKeyEvent(event);\r\n    }\r\n};\r\n\r\n// DialogBoxMorph drawing\r\n\r\nDialogBoxMorph.prototype.drawNew = function () {\r\n    this.fullChanged();\r\n    Morph.prototype.trackChanges = false;\r\n    DialogBoxMorph.uber.removeShadow.call(this);\r\n    this.fixLayout();\r\n\r\n    var context,\r\n        gradient,\r\n        w = this.width(),\r\n        h = this.height(),\r\n        th = Math.floor(\r\n            fontHeight(this.titleFontSize) + this.titlePadding * 2\r\n        ),\r\n        shift = this.corner / 2,\r\n        x,\r\n        y,\r\n        isFlat = MorphicPreferences.isFlat && !this.is3D;\r\n\r\n    // this.alpha = isFlat ? 0.9 : 1;\r\n\r\n    this.image = newCanvas(this.extent());\r\n    context = this.image.getContext('2d');\r\n\r\n    // title bar\r\n    if (isFlat) {\r\n        context.fillStyle = this.titleBarColor.toString();\r\n    } else {\r\n        gradient = context.createLinearGradient(0, 0, 0, th);\r\n        gradient.addColorStop(\r\n            0,\r\n            this.titleBarColor.lighter(this.contrast / 2).toString()\r\n        );\r\n        gradient.addColorStop(\r\n            1,\r\n            this.titleBarColor.darker(this.contrast).toString()\r\n        );\r\n        context.fillStyle = gradient;\r\n    }\r\n    context.beginPath();\r\n    this.outlinePathTitle(\r\n        context,\r\n        isFlat ? 0 : this.corner\r\n    );\r\n    context.closePath();\r\n    context.fill();\r\n\r\n    // flat shape\r\n    // body\r\n    context.fillStyle = this.color.toString();\r\n    context.beginPath();\r\n    this.outlinePathBody(\r\n        context,\r\n        isFlat ? 0 : this.corner\r\n    );\r\n    context.closePath();\r\n    context.fill();\r\n\r\n    if (isFlat) {\r\n        DialogBoxMorph.uber.addShadow.call(this);\r\n        Morph.prototype.trackChanges = true;\r\n        this.fullChanged();\r\n        return;\r\n    }\r\n\r\n    // 3D-effect\r\n    // bottom left corner\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        h - this.corner,\r\n        0,\r\n        h\r\n    );\r\n    gradient.addColorStop(0, this.color.toString());\r\n    gradient.addColorStop(1, this.color.darker(this.contrast.toString()));\r\n\r\n    context.lineWidth = this.corner;\r\n    context.lineCap = 'round';\r\n    context.strokeStyle = gradient;\r\n\r\n    context.beginPath();\r\n    context.moveTo(this.corner, h - shift);\r\n    context.lineTo(this.corner + 1, h - shift);\r\n    context.stroke();\r\n\r\n    // bottom edge\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        h - this.corner,\r\n        0,\r\n        h\r\n    );\r\n    gradient.addColorStop(0, this.color.toString());\r\n    gradient.addColorStop(1, this.color.darker(this.contrast.toString()));\r\n\r\n    context.lineWidth = this.corner;\r\n    context.lineCap = 'butt';\r\n    context.strokeStyle = gradient;\r\n\r\n    context.beginPath();\r\n    context.moveTo(this.corner, h - shift);\r\n    context.lineTo(w - this.corner, h - shift);\r\n    context.stroke();\r\n\r\n    // right body edge\r\n    gradient = context.createLinearGradient(\r\n        w - this.corner,\r\n        0,\r\n        w,\r\n        0\r\n    );\r\n    gradient.addColorStop(0, this.color.toString());\r\n    gradient.addColorStop(1, this.color.darker(this.contrast).toString());\r\n\r\n    context.lineWidth = this.corner;\r\n    context.lineCap = 'butt';\r\n    context.strokeStyle = gradient;\r\n\r\n    context.beginPath();\r\n    context.moveTo(w - shift, th);\r\n    context.lineTo(w - shift, h - this.corner);\r\n    context.stroke();\r\n\r\n    // bottom right corner\r\n    x = w - this.corner;\r\n    y = h - this.corner;\r\n\r\n    gradient = context.createRadialGradient(\r\n        x,\r\n        y,\r\n        0,\r\n        x,\r\n        y,\r\n        this.corner\r\n    );\r\n    gradient.addColorStop(0, this.color.toString());\r\n    gradient.addColorStop(1, this.color.darker(this.contrast.toString()));\r\n\r\n    context.lineCap = 'butt';\r\n\r\n    context.strokeStyle = gradient;\r\n\r\n    context.beginPath();\r\n    context.arc(\r\n        x,\r\n        y,\r\n        shift,\r\n        radians(90),\r\n        radians(0),\r\n        true\r\n    );\r\n    context.stroke();\r\n\r\n    // left body edge\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        0,\r\n        this.corner,\r\n        0\r\n    );\r\n    gradient.addColorStop(\r\n        0,\r\n        this.color.lighter(this.contrast).toString()\r\n    );\r\n    gradient.addColorStop(1, this.color.toString());\r\n\r\n    context.lineCap = 'butt';\r\n    context.strokeStyle = gradient;\r\n\r\n    context.beginPath();\r\n    context.moveTo(shift, th);\r\n    context.lineTo(shift, h - this.corner * 2);\r\n    context.stroke();\r\n\r\n    // left vertical bottom corner\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        0,\r\n        this.corner,\r\n        0\r\n    );\r\n    gradient.addColorStop(\r\n        0,\r\n        this.color.lighter(this.contrast).toString()\r\n    );\r\n    gradient.addColorStop(1, this.color.toString());\r\n\r\n    context.lineCap = 'round';\r\n    context.strokeStyle = gradient;\r\n\r\n    context.beginPath();\r\n    context.moveTo(shift, h - this.corner * 2);\r\n    context.lineTo(shift, h - this.corner - shift);\r\n    context.stroke();\r\n\r\n    DialogBoxMorph.uber.addShadow.call(this);\r\n    Morph.prototype.trackChanges = true;\r\n    this.fullChanged();\r\n};\r\n\r\nDialogBoxMorph.prototype.outlinePathTitle = function (context, radius) {\r\n    var w = this.width(),\r\n        h = Math.ceil(fontHeight(this.titleFontSize)) + this.titlePadding * 2;\r\n\r\n    // top left:\r\n    context.arc(\r\n        radius,\r\n        radius,\r\n        radius,\r\n        radians(-180),\r\n        radians(-90),\r\n        false\r\n    );\r\n    // top right:\r\n    context.arc(\r\n        w - radius,\r\n        radius,\r\n        radius,\r\n        radians(-90),\r\n        radians(-0),\r\n        false\r\n    );\r\n    // bottom right:\r\n    context.lineTo(w, h);\r\n\r\n    // bottom left:\r\n    context.lineTo(0, h);\r\n};\r\n\r\nDialogBoxMorph.prototype.outlinePathBody = function (context, radius) {\r\n    var w = this.width(),\r\n        h = this.height(),\r\n        th = Math.floor(fontHeight(this.titleFontSize)) +\r\n            this.titlePadding * 2;\r\n\r\n    // top left:\r\n    context.moveTo(0, th);\r\n\r\n    // top right:\r\n    context.lineTo(w, th);\r\n\r\n    // bottom right:\r\n    context.arc(\r\n        w - radius,\r\n        h - radius,\r\n        radius,\r\n        radians(0),\r\n        radians(90),\r\n        false\r\n    );\r\n    // bottom left:\r\n    context.arc(\r\n        radius,\r\n        h - radius,\r\n        radius,\r\n        radians(90),\r\n        radians(180),\r\n        false\r\n    );\r\n};\r\n\r\n// AlignmentMorph /////////////////////////////////////////////////////\r\n\r\n// I am a reified layout, either a row or a column of submorphs\r\n\r\n// AlignmentMorph inherits from Morph:\r\n\r\nAlignmentMorph.prototype = new Morph();\r\nAlignmentMorph.prototype.constructor = AlignmentMorph;\r\nAlignmentMorph.uber = Morph.prototype;\r\n\r\n// AlignmentMorph instance creation:\r\n\r\nfunction AlignmentMorph(orientation, padding) {\r\n    this.init(orientation, padding);\r\n}\r\n\r\nAlignmentMorph.prototype.init = function (orientation, padding) {\r\n    // additional properties:\r\n    this.orientation = orientation || 'row'; // or 'column'\r\n    this.alignment = 'center'; // or 'left' in a column\r\n    this.padding = padding || 0;\r\n    this.respectHiddens = false;\r\n\r\n    // initialize inherited properties:\r\n    AlignmentMorph.uber.init.call(this);\r\n\r\n    // override inherited properites:\r\n};\r\n\r\n// AlignmentMorph displaying and layout\r\n\r\nAlignmentMorph.prototype.drawNew = function () {\r\n    this.image = newCanvas(new Point(1, 1));\r\n    this.fixLayout();\r\n};\r\n\r\nAlignmentMorph.prototype.fixLayout = function () {\r\n    var myself = this,\r\n        last = null,\r\n        newBounds;\r\n    if (this.children.length === 0) {\r\n        return null;\r\n    }\r\n    this.children.forEach(function (c) {\r\n        var cfb = c.fullBounds(),\r\n            lfb;\r\n        if (c.isVisible || myself.respectHiddens) {\r\n            if (last) {\r\n                lfb = last.fullBounds();\r\n                if (myself.orientation === 'row') {\r\n                    c.setPosition(\r\n                        lfb.topRight().add(new Point(\r\n                            myself.padding,\r\n                            (lfb.height() - cfb.height()) / 2\r\n                        ))\r\n                    );\r\n                } else { // orientation === 'column'\r\n                    c.setPosition(\r\n                        lfb.bottomLeft().add(new Point(\r\n                            myself.alignment === 'center' ?\r\n                                    (lfb.width() - cfb.width()) / 2\r\n                                            : 0,\r\n                            myself.padding\r\n                        ))\r\n                    );\r\n                }\r\n                cfb = c.fullBounds();\r\n                newBounds = newBounds.merge(cfb);\r\n            } else {\r\n                newBounds = cfb;\r\n            }\r\n            last = c;\r\n        }\r\n    });\r\n    this.bounds = newBounds;\r\n};\r\n\r\n// InputFieldMorph //////////////////////////////////////////////////////\r\n\r\n// InputFieldMorph inherits from Morph:\r\n\r\nInputFieldMorph.prototype = new Morph();\r\nInputFieldMorph.prototype.constructor = InputFieldMorph;\r\nInputFieldMorph.uber = Morph.prototype;\r\n\r\n// InputFieldMorph settings\r\n\r\nInputFieldMorph.prototype.edge = 2;\r\nInputFieldMorph.prototype.fontSize = 12;\r\nInputFieldMorph.prototype.typeInPadding = 2;\r\nInputFieldMorph.prototype.contrast = 65;\r\n\r\n// InputFieldMorph instance creation:\r\n\r\nfunction InputFieldMorph(text, isNumeric, choiceDict, isReadOnly) {\r\n    this.init(text, isNumeric, choiceDict, isReadOnly);\r\n}\r\n\r\nInputFieldMorph.prototype.init = function (\r\n    text,\r\n    isNumeric,\r\n    choiceDict,\r\n    isReadOnly\r\n) {\r\n    var contents = new StringFieldMorph(text || ''),\r\n        arrow = new ArrowMorph(\r\n            'down',\r\n            0,\r\n            Math.max(Math.floor(this.fontSize / 6), 1)\r\n        );\r\n\r\n    this.choices = choiceDict || null; // object, function or selector\r\n    this.isReadOnly = isReadOnly || false;\r\n    this.isNumeric = isNumeric || false;\r\n\r\n    contents.alpha = 0;\r\n    contents.fontSize = this.fontSize;\r\n    contents.drawNew();\r\n\r\n    this.oldContentsExtent = contents.extent();\r\n    this.isNumeric = isNumeric || false;\r\n\r\n    InputFieldMorph.uber.init.call(this);\r\n    this.color = new Color(255, 255, 255);\r\n    this.add(contents);\r\n    this.add(arrow);\r\n    contents.isDraggable = false;\r\n    this.drawNew();\r\n};\r\n\r\n// InputFieldMorph accessing:\r\n\r\nInputFieldMorph.prototype.contents = function () {\r\n    return detect(\r\n        this.children,\r\n        function (child) {\r\n            return (child instanceof StringFieldMorph);\r\n        }\r\n    );\r\n};\r\n\r\nInputFieldMorph.prototype.arrow = function () {\r\n    return detect(\r\n        this.children,\r\n        function (child) {\r\n            return (child instanceof ArrowMorph);\r\n        }\r\n    );\r\n};\r\n\r\nInputFieldMorph.prototype.setChoice = function (aStringOrFloat) {\r\n    this.setContents(aStringOrFloat);\r\n    this.escalateEvent('reactToChoice', aStringOrFloat);\r\n};\r\n\r\nInputFieldMorph.prototype.setContents = function (aStringOrFloat) {\r\n    var cnts = this.contents();\r\n    cnts.text.text = aStringOrFloat;\r\n    if (aStringOrFloat === undefined) {\r\n        return null;\r\n    }\r\n    if (aStringOrFloat === null) {\r\n        cnts.text.text = '';\r\n    } else if (aStringOrFloat.toString) {\r\n        cnts.text.text = aStringOrFloat.toString();\r\n    }\r\n    cnts.drawNew();\r\n    cnts.changed();\r\n};\r\n\r\nInputFieldMorph.prototype.edit = function () {\r\n    var c = this.contents();\r\n    c.text.edit();\r\n    c.text.selectAll();\r\n};\r\n\r\nInputFieldMorph.prototype.setIsNumeric = function (bool) {\r\n    var value;\r\n\r\n    this.isNumeric = bool;\r\n    this.contents().isNumeric = bool;\r\n    this.contents().text.isNumeric = bool;\r\n\r\n    // adjust my shown value to conform with the numeric flag\r\n    value = this.getValue();\r\n    if (this.isNumeric) {\r\n        value = parseFloat(value);\r\n        if (isNaN(value)) {\r\n            value = null;\r\n        }\r\n    }\r\n    this.setContents(value);\r\n};\r\n\r\n// InputFieldMorph drop-down menu:\r\n\r\nInputFieldMorph.prototype.dropDownMenu = function () {\r\n    var choices = this.choices,\r\n        key,\r\n        menu = new MenuMorph(\r\n            this.setChoice,\r\n            null,\r\n            this,\r\n            this.fontSize\r\n        );\r\n\r\n    if (choices instanceof Function) {\r\n        choices = choices.call(this);\r\n    } else if (isString(choices)) {\r\n        choices = this[choices]();\r\n    }\r\n    if (!choices) {\r\n        return null;\r\n    }\r\n    menu.addItem(' ', null);\r\n    if (choices instanceof Array) {\r\n        choices.forEach(function (choice) {\r\n            menu.addItem(choice[0], choice[1]);\r\n        });\r\n    } else { // assuming a dictionary\r\n        for (key in choices) {\r\n            if (Object.prototype.hasOwnProperty.call(choices, key)) {\r\n                if (key[0] === '~') {\r\n                    menu.addLine();\r\n                } else {\r\n                    menu.addItem(key, choices[key]);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    if (menu.items.length > 0) {\r\n        menu.popUpAtHand(this.world());\r\n    } else {\r\n        return null;\r\n    }\r\n};\r\n\r\n// InputFieldMorph layout:\r\n\r\nInputFieldMorph.prototype.fixLayout = function () {\r\n    var contents = this.contents(),\r\n        arrow = this.arrow();\r\n\r\n    if (!contents) {return null; }\r\n    contents.isNumeric = this.isNumeric;\r\n    contents.isEditable = (!this.isReadOnly);\r\n    if (this.choices) {\r\n        arrow.setSize(this.fontSize);\r\n        arrow.show();\r\n    } else {\r\n        arrow.setSize(0);\r\n        arrow.hide();\r\n    }\r\n    this.silentSetHeight(\r\n        contents.height()\r\n            + this.edge * 2\r\n            + this.typeInPadding * 2\r\n    );\r\n    this.silentSetWidth(Math.max(\r\n        contents.minWidth\r\n            + this.edge * 2\r\n            + this.typeInPadding * 2,\r\n        this.width()\r\n    ));\r\n\r\n    contents.setWidth(\r\n        this.width() - this.edge - this.typeInPadding -\r\n            (this.choices ? arrow.width() + this.typeInPadding : 0)\r\n    );\r\n\r\n    contents.silentSetPosition(new Point(\r\n        this.edge,\r\n        this.edge\r\n    ).add(this.typeInPadding).add(this.position()));\r\n\r\n    arrow.silentSetPosition(new Point(\r\n        this.right() - arrow.width() - this.edge,\r\n        contents.top()\r\n    ));\r\n\r\n};\r\n\r\n// InputFieldMorph events:\r\n\r\nInputFieldMorph.prototype.mouseClickLeft = function (pos) {\r\n    if (this.arrow().bounds.containsPoint(pos)) {\r\n        this.dropDownMenu();\r\n    } else if (this.isReadOnly) {\r\n        this.dropDownMenu();\r\n    } else {\r\n        this.escalateEvent('mouseClickLeft', pos);\r\n    }\r\n};\r\n\r\n// InputFieldMorph retrieving:\r\n\r\nInputFieldMorph.prototype.getValue = function () {\r\n/*\r\n    answer my content's text string. If I am numerical convert that\r\n    string to a number. If the conversion fails answer the string\r\n    otherwise the numerical value.\r\n*/\r\n    var num,\r\n        contents = this.contents();\r\n    if (this.isNumeric) {\r\n        num = parseFloat(contents.text);\r\n        if (!isNaN(num)) {\r\n            return num;\r\n        }\r\n    }\r\n    return this.normalizeSpaces(contents.string());\r\n};\r\n\r\nInputFieldMorph.prototype.normalizeSpaces\r\n    = DialogBoxMorph.prototype.normalizeSpaces;\r\n\r\n// InputFieldMorph drawing:\r\n\r\nInputFieldMorph.prototype.drawNew = function () {\r\n    var context, borderColor;\r\n\r\n    this.fixLayout();\r\n\r\n    // initialize my surface property\r\n    this.image = newCanvas(this.extent());\r\n    context = this.image.getContext('2d');\r\n    if (this.parent) {\r\n        if (this.parent.color.eq(new Color(255, 255, 255))) {\r\n            this.color = this.parent.color.darker(this.contrast * 0.1);\r\n        } else {\r\n            this.color = this.parent.color.lighter(this.contrast * 0.75);\r\n        }\r\n        borderColor = this.parent.color;\r\n    } else {\r\n        borderColor = new Color(120, 120, 120);\r\n    }\r\n    context.fillStyle = this.color.toString();\r\n\r\n    // cache my border colors\r\n    this.cachedClr = borderColor.toString();\r\n    this.cachedClrBright = borderColor.lighter(this.contrast)\r\n        .toString();\r\n    this.cachedClrDark = borderColor.darker(this.contrast).toString();\r\n\r\n    context.fillRect(\r\n        this.edge,\r\n        this.edge,\r\n        this.width() - this.edge * 2,\r\n        this.height() - this.edge * 2\r\n    );\r\n\r\n    this.drawRectBorder(context);\r\n};\r\n\r\nInputFieldMorph.prototype.drawRectBorder = function (context) {\r\n    var shift = this.edge * 0.5,\r\n        gradient;\r\n\r\n    if (MorphicPreferences.isFlat && !this.is3D) {return; }\r\n\r\n    context.lineWidth = this.edge;\r\n    context.lineJoin = 'round';\r\n    context.lineCap = 'round';\r\n\r\n    context.shadowOffsetY = shift;\r\n    context.shadowBlur = this.edge * 4;\r\n    context.shadowColor = this.cachedClrDark;\r\n\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        0,\r\n        0,\r\n        this.edge\r\n    );\r\n\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    gradient.addColorStop(1, this.cachedClrDark);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(this.edge, shift);\r\n    context.lineTo(this.width() - this.edge - shift, shift);\r\n    context.stroke();\r\n\r\n    context.shadowOffsetY = 0;\r\n\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        0,\r\n        this.edge,\r\n        0\r\n    );\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    gradient.addColorStop(1, this.cachedClrDark);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(shift, this.edge);\r\n    context.lineTo(shift, this.height() - this.edge - shift);\r\n    context.stroke();\r\n\r\n    context.shadowOffsetX = 0;\r\n    context.shadowOffsetY = 0;\r\n    context.shadowBlur = 0;\r\n\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        this.height() - this.edge,\r\n        0,\r\n        this.height()\r\n    );\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    gradient.addColorStop(1, this.cachedClr);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(this.edge, this.height() - shift);\r\n    context.lineTo(this.width() - this.edge, this.height() - shift);\r\n    context.stroke();\r\n\r\n    gradient = context.createLinearGradient(\r\n        this.width() - this.edge,\r\n        0,\r\n        this.width(),\r\n        0\r\n    );\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    gradient.addColorStop(1, this.cachedClr);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(this.width() - shift, this.edge);\r\n    context.lineTo(this.width() - shift, this.height() - this.edge);\r\n    context.stroke();\r\n};\r\n\r\n// PianoMenuMorph //////////////////////////////////////////////////////\r\n/* \r\n    I am a menu that looks like a piano keyboard.\r\n*/\r\n\r\n// PianoMenuMorph inherits from MenuMorph\r\n\r\nPianoMenuMorph.prototype = new MenuMorph();\r\nPianoMenuMorph.prototype.constructor = PianoMenuMorph;\r\nPianoMenuMorph.uber = MenuMorph.prototype;\r\n\r\n// PianoMenuMorph instance creation:\r\n\r\nfunction PianoMenuMorph(target, environment, fontSize, soundType) {\r\n    this.init(target, environment, fontSize, soundType);\r\n}\r\n\r\nPianoMenuMorph.prototype.init = function (\r\n    target,\r\n    environment,\r\n    fontSize,\r\n    soundType // number 1 - 4: 'sine', 'square', 'sawtooth' or 'triangle'\r\n) {\r\n    var choices, key;\r\n    this.soundType = soundType;\r\n    PianoMenuMorph.uber.init.call(this, target, null, environment, fontSize);\r\n    choices = {\r\n        'C (48)' : 48,\r\n        'D (50)' : 50,\r\n        'C# (49)' : 49,\r\n        'E (52)' : 52,\r\n        'Eb (51)' : 51,\r\n        'F (53)' : 53,\r\n        'G (55)' : 55,\r\n        'F# (54)' : 54,\r\n        'A (57)' : 57,\r\n        'G# (56)' : 56,\r\n        'B (59)' : 59,\r\n        'Bb (58)' : 58,\r\n        'C (60)' : 60,\r\n        'D (62)' : 62,\r\n        'C# (61)' : 61,\r\n        'E (64)' : 64,\r\n        'Eb (63)' : 63,\r\n        'F (65)' : 65,\r\n        'G (67)' : 67,\r\n        'F# (66)' : 66,\r\n        'A (69)' : 69,\r\n        'G# (68)' : 68,\r\n        'B (71)' : 71,\r\n        'Bb (70)' : 70,\r\n        'C (72)' : 72\r\n    };\r\n    for (key in choices) {\r\n        if (Object.prototype.hasOwnProperty.call(choices, key)) {\r\n            this.addItem(key, choices[key]);\r\n        }\r\n    }\r\n    this.drawNew();\r\n};\r\n\r\nPianoMenuMorph.prototype.drawNew = function () {\r\n    var myself = this,\r\n        item,\r\n        fb,\r\n        x,\r\n        y,\r\n        label,\r\n        blackkey,\r\n        key,\r\n        keycolor,\r\n        keywidth,\r\n        keyheight,\r\n        keyposition;\r\n\r\n    this.children.forEach(function (m) {\r\n        m.destroy();\r\n    });\r\n    this.children = [];\r\n    if (!this.isListContents) {\r\n        this.edge = MorphicPreferences.isFlat ? 0 : 5;\r\n        this.border = MorphicPreferences.isFlat ? 1 : 2;\r\n    }\r\n    this.color = new Color(255, 255, 255);\r\n    this.borderColor = new Color(60, 60, 60);\r\n    this.silentSetExtent(new Point(0, 0));\r\n\r\n    x = this.left() + 1;\r\n    y = this.top() + (this.fontSize * 1.5) + 2;\r\n    label = new StringMorph('', this.fontSize);\r\n    this.items.forEach(function (tuple) {\r\n        blackkey = tuple[0][1] !== \" \";\r\n        key = new BoxMorph(1, 1);\r\n        if (blackkey) {\r\n            keycolor = new Color(0, 0, 0);\r\n            keywidth = myself.fontSize; // 9;\r\n            keyheight = myself.fontSize * 2.5;\r\n            keyposition = new Point(x + 2 - (myself.fontSize * 2), y);\r\n        } else {\r\n            keycolor = new Color(255, 255, 255);\r\n            keywidth = myself.fontSize * 1.5;\r\n            keyheight = myself.fontSize * 4;\r\n            keyposition = new Point(x + 1, y);\r\n            x += keywidth - 1;\r\n        }\r\n        key.setColor(keycolor);\r\n        key.setWidth(keywidth);\r\n        key.setHeight(keyheight);\r\n        item = new PianoKeyMorph(\r\n            myself.target,\r\n            tuple[1],\r\n            [key, tuple[0]],\r\n            myself.fontSize || MorphicPreferences.menuFontSize,\r\n            MorphicPreferences.menuFontName,\r\n            myself.environment,\r\n            tuple[2], // bubble help hint\r\n            tuple[3], // color\r\n            tuple[4], // bold\r\n            tuple[5], // italic\r\n            tuple[6], // doubleclick action\r\n            label     // String to change\r\n        );\r\n        item.setPosition(keyposition);\r\n        myself.add(item);\r\n    });\r\n    fb = this.fullBounds();\r\n    label.setPosition(new Point((fb.width() / 2) - this.fontSize, 2));\r\n    this.add(label);\r\n    fb = this.fullBounds();\r\n    this.silentSetExtent(fb.extent().add(2));\r\n    MenuMorph.uber.drawNew.call(this);\r\n};\r\n\r\n// PianoMenuMorph keyboard selecting a key:\r\n\r\nPianoMenuMorph.prototype.select = function(aPianoKeyItem) {\r\n    this.unselectAllItems();\r\n    aPianoKeyItem.mouseEnter();\r\n    this.selection = aPianoKeyItem;\r\n    this.world.keyboardReceiver = this;\r\n    this.hasFocus = true;\r\n};\r\n\r\nPianoMenuMorph.prototype.unselectAllItems = function () {\r\n    this.children.forEach(function (item) {\r\n        if (item instanceof MenuItemMorph) {\r\n            item.mouseLeave();\r\n        }\r\n    });\r\n    this.changed();\r\n};\r\n\r\nPianoMenuMorph.prototype.selectKey = function (midiNum) {\r\n    var key;\r\n    if (isNil(midiNum)) {\r\n        return;\r\n    }\r\n    key = detect(\r\n        this.children,\r\n        function (each) {\r\n            return each.action === midiNum;\r\n        }\r\n    );\r\n    if (key) {\r\n        this.select(key);\r\n    } else {\r\n        this.selectKey(48);\r\n    }\r\n};\r\n\r\n// PianoMenuMorph keyboard navigation & entry:\r\n\r\nPianoMenuMorph.prototype.processKeyDown = function (event) {\r\n    \r\n    switch (event.keyCode) {\r\n    case 13: // 'enter'\r\n    case 32: // 'space'\r\n        if (this.selection) {\r\n            this.selection.mouseClickLeft();\r\n        }\r\n        return;\r\n    case 27: // 'esc'\r\n        return this.destroy();\r\n    case 37: // 'left arrow'\r\n    case 40: // 'down arrow'\r\n    case 189: // -\r\n        return this.selectDown();\r\n    case 38: // 'up arrow'\r\n    case 39: // 'right arrow'\r\n    case 187: // +\r\n    case 220: // #\r\n        return this.selectUp();\r\n    default:\r\n        switch(event.key) {\r\n        case 'C':\r\n            return this.selectKey(48);\r\n        case 'c':\r\n            return this.selectKey(60);\r\n        case 'D':\r\n            return this.selectKey(50);\r\n        case 'd':\r\n            return this.selectKey(62);\r\n        case 'E':\r\n            return this.selectKey(52);\r\n        case 'e':\r\n            return this.selectKey(64);\r\n        case 'F':\r\n            return this.selectKey(53);\r\n        case 'f':\r\n            return this.selectKey(65);\r\n        case 'G':\r\n            return this.selectKey(55);\r\n        case 'g':\r\n            return this.selectKey(67);\r\n        case 'A':\r\n            return this.selectKey(57);\r\n        case 'a':\r\n            return this.selectKey(69);\r\n        case 'B':\r\n        case 'H':\r\n            return this.selectKey(59);\r\n        case 'b':\r\n        case 'h':\r\n            return this.selectKey(71);\r\n        default:\r\n            nop();\r\n        }\r\n    }\r\n};\r\n\r\nPianoMenuMorph.prototype.selectUp = function () {\r\n    var next = 48;\r\n    if (this.selection) {\r\n        next = this.selection.action + 1;\r\n        if (next > 72) {\r\n            next = 48;\r\n        }\r\n    }\r\n    this.selectKey(next);\r\n};\r\n\r\nPianoMenuMorph.prototype.selectDown = function () {\r\n    var next = 48;\r\n    if (this.selection) {\r\n        next = this.selection.action - 1;\r\n        if (next < 48) {\r\n            next = 72;\r\n        }\r\n    }\r\n    this.selectKey(next);\r\n};\r\n\r\nPianoMenuMorph.prototype.destroy = function () {\r\n    this.children.forEach(function (key) {\r\n        if (key.note) {\r\n            key.note.stop();\r\n        }\r\n    });\r\n    PianoMenuMorph.uber.destroy.call(this);\r\n};\r\n\r\n\r\n// PianoKeyMorph ///////////////////////////////////////////////////////\r\n\r\nPianoKeyMorph.prototype = new MenuItemMorph();\r\nPianoKeyMorph.prototype.constructor = PianoKeyMorph;\r\nPianoKeyMorph.uber = MenuItemMorph.prototype;\r\n\r\nfunction PianoKeyMorph(\r\n    target,\r\n    action,\r\n    labelString, // can also be a Morph or a Canvas or a tuple: [icon, string]\r\n    fontSize,\r\n    fontStyle,\r\n    environment,\r\n    hint,\r\n    color,\r\n    bold,\r\n    italic,\r\n    doubleClickAction, // optional when used as list morph item\r\n    label\r\n) {\r\n    this.init(\r\n        target,\r\n        action,\r\n        labelString,\r\n        fontSize,\r\n        fontStyle,\r\n        environment,\r\n        hint,\r\n        color,\r\n        bold,\r\n        italic,\r\n        doubleClickAction,\r\n        label\r\n    );\r\n    this.feedback = label;\r\n}\r\n\r\nPianoKeyMorph.prototype.init = function (\r\n    target,\r\n    action,\r\n    labelString,\r\n    fontSize,\r\n    fontStyle,\r\n    environment,\r\n    hint,\r\n    color,\r\n    bold,\r\n    italic,\r\n    doubleClickAction,\r\n    label\r\n) {\r\n    // additional \"note\" property for sound output:\r\n    this.note = new Note(action);\r\n    PianoKeyMorph.uber.init.call(\r\n        this,\r\n        target,\r\n        action,\r\n        labelString,\r\n        fontSize,\r\n        fontStyle,\r\n        environment,\r\n        hint,\r\n        color,\r\n        bold,\r\n        italic,\r\n        doubleClickAction,\r\n        label\r\n    );\r\n};\r\n\r\nPianoKeyMorph.prototype.createLabel = function () {\r\n    var icon;\r\n    if (this.label !== null) {\r\n        this.label.destroy();\r\n    }\r\n    // assume its pattern is: [icon, string]\r\n    this.label = new Morph();\r\n    icon = this.createIcon(this.labelString[0]);\r\n    this.label.add(icon);\r\n    this.label.drawNew();\r\n    this.silentSetExtent(icon.extent());\r\n    this.label.bounds = this.position().extent(this.label.extent());\r\n    this.label.silentSetExtent(new Point(0, 0));\r\n    this.add(this.label);\r\n};\r\n\r\nPianoKeyMorph.prototype.mouseEnter = function () {\r\n    var piano = this.parentThatIsA(PianoMenuMorph),\r\n        soundType = piano ? piano.soundType : 1,\r\n        myself = this;\r\n    if (piano) {\r\n        piano.unselectAllItems();\r\n        piano.selection = this;\r\n        piano.world.keyboardReceiver = piano;\r\n        piano.hasFocus = true;\r\n    }\r\n    this.label.children[0].hide();\r\n    this.image = this.highlightImage;\r\n    this.changed();\r\n    this.feedback.text = this.labelString[1];\r\n    this.feedback.changed();\r\n    this.feedback.drawNew();\r\n    this.feedback.changed();\r\n    this.note.play(soundType);\r\n    setTimeout(\r\n        function () {\r\n            myself.note.stop();\r\n        },\r\n        400\r\n    );\r\n};\r\n\r\nPianoKeyMorph.prototype.mouseLeave = function () {\r\n    this.note.stop();\r\n    this.label.children[0].show();\r\n    this.image = this.normalImage;\r\n    this.changed();\r\n};\r\n// fin de Widgets\r\n/*\r\n\r\n    blocks.js\r\n\r\n    a programming construction kit\r\n    based on morphic.js\r\n    inspired by Scratch\r\n\r\n    written by Jens Mönig\r\n    jens@moenig.org\r\n\r\n    Copyright (C) 2017 by Jens Mönig\r\n\r\n    This file is part of Snap!.\r\n\r\n    Snap! is free software: you can redistribute it and/or modify\r\n    it under the terms of the GNU Affero General Public License as\r\n    published by the Free Software Foundation, either version 3 of\r\n    the License, or (at your option) any later version.\r\n\r\n    This program is distributed in the hope that it will be useful,\r\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n    GNU Affero General Public License for more details.\r\n\r\n    You should have received a copy of the GNU Affero General Public License\r\n    along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n\r\n\r\n    prerequisites:\r\n    --------------\r\n    needs morphic.js and symbols.js\r\n\r\n\r\n    hierarchy\r\n    ---------\r\n    the following tree lists all constructors hierarchically,\r\n    indentation indicating inheritance. Refer to this list to get a\r\n    contextual overview:\r\n\r\n        Morph*\r\n            ArrowMorph\r\n            BlockHighlightMorph\r\n            ScriptsMorph\r\n            SyntaxElementMorph\r\n                ArgMorph\r\n                    ArgLabelMorph\r\n                    BooleanSlotMorph\r\n                    ColorSlotMorph\r\n                    CommandSlotMorph\r\n                        CSlotMorph\r\n                        RingCommandSlotMorph\r\n                    FunctionSlotMorph\r\n                        ReporterSlotMorph\r\n                            RingReporterSlotMorph\r\n                    InputSlotMorph\r\n                        TextSlotMorph\r\n                    MultiArgMorph\r\n                    TemplateSlotMorph\r\n                BlockMorph\r\n                    CommandBlockMorph\r\n                        HatBlockMorph\r\n                    ReporterBlockMorph\r\n                        RingMorph\r\n        BoxMorph*\r\n            CommentMorph\r\n            ScriptFocusMorph\r\n\r\n    * from morphic.js\r\n\r\n\r\n    toc\r\n    ---\r\n    the following list shows the order in which all constructors are\r\n    defined. Use this list to locate code in this document:\r\n\r\n        SyntaxElementMorph\r\n        BlockMorph\r\n        CommandBlockMorph\r\n        HatBlockMorph\r\n        ReporterBlockMorph\r\n        RingMorph\r\n        ScriptsMorph\r\n        ArgMorph\r\n        CommandSlotMorph\r\n        RingCommandSlotMorph\r\n        CSlotMorph\r\n        InputSlotMorph\r\n        BooleanSlotMorph\r\n        ArrowMorph\r\n        TextSlotMorph\r\n        ColorSlotMorph\r\n        TemplateSlotMorph\r\n        BlockHighlightMorph\r\n        MultiArgMorph\r\n        ArgLabelMorph\r\n        FunctionSlotMorph\r\n        ReporterSlotMorph\r\n        RingReporterSlotMorph\r\n        CommentMorph\r\n\r\n\r\n    structure of syntax elements\r\n    ----------------------------\r\n    the structure of syntax elements is identical with their morphic\r\n    tree. There are, however, accessor methods to get (only) the\r\n    parts which are relevant for evaluation wherever appropriate.\r\n\r\n    In Scratch/BYOB every sprite and the stage has its own \"blocks bin\",\r\n    an instance of ScriptsMorph (we're going to name it differently in\r\n    Snap, probably just \"scripts\").\r\n\r\n    At the top most level blocks are assembled into stacks in ScriptsMorph\r\n    instances. A ScriptsMorph contains nothing but blocks, therefore\r\n    every child of a ScriptsMorph is expected to be a block.\r\n\r\n    Each block contains:\r\n\r\n        selector    - indicating the name of the function it triggers,\r\n\r\n    Its arguments are first evaluated and then passed along    as the\r\n    selector is called. Arguments can be either instances of ArgMorph\r\n    or ReporterBlockMorph. The getter method for a block's arguments is\r\n\r\n        inputs()    - gets an array of arg morphs and/or reporter blocks\r\n\r\n    in addition to inputs, command blocks also know their\r\n\r\n        nextBlock()    - gets the block attached to the receiver's bottom\r\n\r\n    and the block they're attached to - if any: Their parent.\r\n\r\n    please also refer to the high-level comment at the beginning of each\r\n    constructor for further details.\r\n*/\r\n\r\n/*global Array, BoxMorph,\r\nColor, ColorPaletteMorph, FrameMorph, Function, HandleMorph, Math, MenuMorph,\r\nMorph, MorphicPreferences, Object, Point, ScrollFrameMorph, ShadowMorph,\r\nString, StringMorph, TextMorph, contains, degrees, detect, PianoMenuMorph,\r\ndocument, getDocumentPositionOf, isNaN, isString, newCanvas, nop, parseFloat,\r\nradians, useBlurredShadows, SpeechBubbleMorph, modules, StageMorph, Sound,\r\nfontHeight, TableFrameMorph, SpriteMorph, Context, ListWatcherMorph,\r\nCellMorph, DialogBoxMorph, BlockInputFragmentMorph, PrototypeHatBlockMorph,\r\nCostume, IDE_Morph, BlockDialogMorph, BlockEditorMorph, localize, isNil,\r\nisSnapObject, PushButtonMorph, SpriteIconMorph, Process, AlignmentMorph,\r\nCustomCommandBlockMorph, SymbolMorph, ToggleButtonMorph*/\r\n\r\n// Global stuff ////////////////////////////////////////////////////////\r\n\r\nmodules.blocks = '2017-November-16';\r\n\r\nvar SyntaxElementMorph;\r\nvar BlockMorph;\r\nvar CommandBlockMorph;\r\nvar ReporterBlockMorph;\r\nvar ScriptsMorph;\r\nvar ArgMorph;\r\nvar CommandSlotMorph;\r\nvar CSlotMorph;\r\nvar InputSlotMorph;\r\nvar BooleanSlotMorph;\r\nvar ArrowMorph;\r\nvar ColorSlotMorph;\r\nvar HatBlockMorph;\r\nvar BlockHighlightMorph;\r\nvar MultiArgMorph;\r\nvar TemplateSlotMorph;\r\nvar FunctionSlotMorph;\r\nvar ReporterSlotMorph;\r\nvar RingMorph;\r\nvar RingCommandSlotMorph;\r\nvar RingReporterSlotMorph;\r\nvar CommentMorph;\r\nvar ArgLabelMorph;\r\nvar TextSlotMorph;\r\nvar ScriptFocusMorph;\r\n\r\n// SyntaxElementMorph //////////////////////////////////////////////////\r\n\r\n// I am the ancestor of all blocks and input slots\r\n\r\n// SyntaxElementMorph inherits from Morph:\r\n\r\nSyntaxElementMorph.prototype = new Morph();\r\nSyntaxElementMorph.prototype.constructor = SyntaxElementMorph;\r\nSyntaxElementMorph.uber = Morph.prototype;\r\n\r\n// SyntaxElementMorph preferences settings:\r\n\r\n/*\r\n    the following settings govern the appearance of all syntax elements\r\n    (blocks and slots) where applicable:\r\n\r\n    outline:\r\n\r\n        corner      - radius of command block rounding\r\n        rounding    - radius of reporter block rounding\r\n        edge        - width of 3D-ish shading box\r\n        hatHeight   - additional top space for hat blocks\r\n        hatWidth    - minimum width for hat blocks\r\n        rfBorder    - pixel width of reification border (grey outline)\r\n        minWidth    - minimum width for any syntax element's contents\r\n\r\n    jigsaw shape:\r\n\r\n        inset       - distance from indentation to left edge\r\n        dent        - width of indentation bottom\r\n\r\n    paddings:\r\n\r\n        bottomPadding   - adds to the width of the bottom most c-slot\r\n        cSlotPadding    - adds to the width of the open \"C\" in c-slots\r\n        typeInPadding   - adds pixels between text and edge in input slots\r\n        labelPadding    - adds left/right pixels to block labels\r\n\r\n    label:\r\n\r\n        labelFontName       - <string> specific font family name\r\n        labelFontStyle      - <string> generic font family name, cascaded\r\n        fontSize            - duh\r\n        embossing           - <Point> offset for embossing effect\r\n        labelWidth          - column width, used for word wrapping\r\n        labelWordWrap       - <bool> if true labels can break after each word\r\n        dynamicInputLabels  - <bool> if true inputs can have dynamic labels\r\n\r\n    snapping:\r\n\r\n        feedbackColor       - <Color> for displaying drop feedbacks\r\n        feedbackMinHeight   - height of white line for command block snaps\r\n        minSnapDistance     - threshold when commands start snapping\r\n        reporterDropFeedbackPadding  - increases reporter drop feedback\r\n\r\n    color gradients:\r\n\r\n        contrast        - <percent int> 3D-ish shading gradient contrast\r\n        labelContrast   - <percent int> 3D-ish label shading contrast\r\n        activeHighlight - <Color> for stack highlighting when active\r\n        errorHighlight  - <Color> for error highlighting\r\n        activeBlur      - <pixels int> shadow for blurred activeHighlight\r\n        activeBorder    - <pixels int> unblurred activeHighlight\r\n        rfColor         - <Color> for reified outlines and slot backgrounds\r\n*/\r\n\r\nSyntaxElementMorph.prototype.setScale = function (num) {\r\n    var scale = Math.min(Math.max(num, 1), 25);\r\n    this.scale = scale;\r\n    this.corner = 3 * scale;\r\n    this.rounding = 9 * scale;\r\n    this.edge = 1.000001 * scale;\r\n    this.inset = 6 * scale;\r\n    this.hatHeight = 12 * scale;\r\n    this.hatWidth = 70 * scale;\r\n    this.rfBorder = 3 * scale;\r\n    this.minWidth = 0;\r\n    this.dent = 8 * scale;\r\n    this.bottomPadding = 3 * scale;\r\n    this.cSlotPadding = 4 * scale;\r\n    this.typeInPadding = scale;\r\n    this.labelPadding = 4 * scale;\r\n    this.labelFontName = 'Verdana';\r\n    this.labelFontStyle = 'sans-serif';\r\n    this.fontSize = 10 * scale;\r\n    this.embossing = new Point(\r\n        -1 * Math.max(scale / 2, 1),\r\n        -1 * Math.max(scale / 2, 1)\r\n    );\r\n    this.labelWidth = 450 * scale;\r\n    this.labelWordWrap = true;\r\n    this.dynamicInputLabels = true;\r\n    this.feedbackColor = new Color(255, 255, 255);\r\n    this.feedbackMinHeight = 5;\r\n    this.minSnapDistance = 20;\r\n    this.reporterDropFeedbackPadding = 10 * scale;\r\n    this.contrast = 65;\r\n    this.labelContrast = 25;\r\n    this.activeHighlight = new Color(153, 255, 213);\r\n    this.errorHighlight = new Color(173, 15, 0);\r\n    this.activeBlur = 20;\r\n    this.activeBorder = 4;\r\n    this.rfColor = new Color(120, 120, 120);\r\n};\r\n\r\nSyntaxElementMorph.prototype.setScale(1);\r\nSyntaxElementMorph.prototype.isCachingInputs = false;\r\n\r\n// SyntaxElementMorph instance creation:\r\n\r\nfunction SyntaxElementMorph() {\r\n    this.init();\r\n}\r\n\r\nSyntaxElementMorph.prototype.init = function (silently) {\r\n    this.cachedClr = null;\r\n    this.cachedClrBright = null;\r\n    this.cachedClrDark = null;\r\n    this.cachedNormalColor = null; // for single-stepping\r\n    this.isStatic = false; // if true, I cannot be exchanged\r\n\r\n    SyntaxElementMorph.uber.init.call(this, silently);\r\n\r\n    this.defaults = [];\r\n    this.cachedInputs = null;\r\n};\r\n\r\n// SyntaxElementMorph accessing:\r\n\r\nSyntaxElementMorph.prototype.parts = function () {\r\n    // answer my non-crontrol submorphs\r\n    var nb = null;\r\n    if (this.nextBlock) { // if I am a CommandBlock or a HatBlock\r\n        nb = this.nextBlock();\r\n    }\r\n    return this.children.filter(function (child) {\r\n        return (child !== nb)\r\n            && !(child instanceof ShadowMorph)\r\n            && !(child instanceof BlockHighlightMorph);\r\n    });\r\n};\r\n\r\nSyntaxElementMorph.prototype.inputs = function () {\r\n    // answer my arguments and nested reporters\r\n    if (isNil(this.cachedInputs) || !this.isCachingInputs) {\r\n        this.cachedInputs = this.parts().filter(function (part) {\r\n            return part instanceof SyntaxElementMorph;\r\n        });\r\n    }\r\n    // this.debugCachedInputs();\r\n    return this.cachedInputs;\r\n};\r\n\r\nSyntaxElementMorph.prototype.debugCachedInputs = function () {\r\n    // private - only used for manually debugging inputs caching\r\n    var realInputs, i;\r\n    if (!isNil(this.cachedInputs)) {\r\n        realInputs = this.parts().filter(function (part) {\r\n            return part instanceof SyntaxElementMorph;\r\n        });\r\n    }\r\n    if (this.cachedInputs.length !== realInputs.length) {\r\n        throw new Error('cached inputs size do not match: ' +\r\n            this.constructor.name);\r\n    }\r\n    for (i = 0; i < realInputs.length; i += 1) {\r\n        if (this.cachedInputs[i] !== realInputs[i]) {\r\n            throw new Error('cached input does not match: ' +\r\n                this.constructor.name +\r\n                ' #' +\r\n                i +\r\n                ' ' +\r\n                this.cachedInputs[i].constructor.name +\r\n                ' != ' +\r\n                realInputs[i].constructor.name);\r\n        }\r\n    }\r\n};\r\n\r\nSyntaxElementMorph.prototype.allInputs = function () {\r\n    // answer arguments and nested reporters of all children\r\n    var myself = this;\r\n    return this.allChildren().slice(0).reverse().filter(\r\n        function (child) {\r\n            return (child instanceof ArgMorph) ||\r\n                (child instanceof ReporterBlockMorph &&\r\n                child !== myself);\r\n        }\r\n    );\r\n};\r\n\r\nSyntaxElementMorph.prototype.allEmptySlots = function () {\r\n    // answer empty input slots of all children excluding myself,\r\n    // but omit those in nested rings (lambdas) and JS-Function primitives.\r\n    // Used by the evaluator when binding implicit formal parameters\r\n    // to empty input slots\r\n    var empty = [];\r\n    if (!(this instanceof RingMorph) &&\r\n            (this.selector !== 'reportJSFunction')) {\r\n        this.children.forEach(function (morph) {\r\n            if (morph.isEmptySlot && morph.isEmptySlot()) {\r\n                empty.push(morph);\r\n            } else if (morph.allEmptySlots) {\r\n                empty = empty.concat(morph.allEmptySlots());\r\n            }\r\n        });\r\n    }\r\n    return empty;\r\n};\r\n\r\nSyntaxElementMorph.prototype.tagExitBlocks = function (stopTag, isCommand) {\r\n    // tag 'report' and 'stop this block' blocks of all children including\r\n    // myself, with either a stopTag (for \"stop\" blocks) or an indicator of\r\n    // being inside a command block definition, but omit those in nested\r\n    // rings (lambdas. Used by the evaluator when entering a procedure\r\n    if (this.selector === 'doReport') {\r\n        this.partOfCustomCommand = isCommand;\r\n    } else if (this.selector === 'doStopThis') {\r\n        this.exitTag = stopTag;\r\n    } else {\r\n        if (!(this instanceof RingMorph)) {\r\n            this.children.forEach(function (morph) {\r\n                if (morph.tagExitBlocks) {\r\n                    morph.tagExitBlocks(stopTag, isCommand);\r\n                }\r\n            });\r\n        }\r\n    }\r\n};\r\n\r\nSyntaxElementMorph.prototype.replaceInput = function (oldArg, newArg) {\r\n    var scripts = this.parentThatIsA(ScriptsMorph),\r\n        replacement = newArg,\r\n        idx = this.children.indexOf(oldArg),\r\n        i = 0;\r\n\r\n    // try to find the ArgLabel embedding the newArg,\r\n    // used for the undrop() feature\r\n    if (idx === -1 && newArg instanceof MultiArgMorph) {\r\n        this.children.forEach(function (morph) {\r\n            if (morph instanceof ArgLabelMorph &&\r\n                    morph.argMorph() === oldArg) {\r\n                idx = i;\r\n            }\r\n            i += 1;\r\n        });\r\n    }\r\n\r\n    if ((idx === -1) || (scripts === null)) {\r\n        return null;\r\n    }\r\n\r\n    if (oldArg.cachedSlotSpec) {oldArg.cachedSlotSpec = null; }\r\n    if (newArg.cachedSlotSpec) {newArg.cachedSlotSpec = null; }\r\n\r\n    this.startLayout();\r\n    if (newArg.parent) {\r\n        newArg.parent.removeChild(newArg);\r\n    }\r\n    if (oldArg instanceof MultiArgMorph) {\r\n        oldArg.inputs().forEach(function (inp) { // preserve nested reporters\r\n            oldArg.replaceInput(inp, new InputSlotMorph());\r\n        });\r\n        if (this.dynamicInputLabels) {\r\n            replacement = new ArgLabelMorph(newArg);\r\n        }\r\n    }\r\n    replacement.parent = this;\r\n    this.children[idx] = replacement;\r\n    if (oldArg instanceof ReporterBlockMorph) {\r\n        if (!(oldArg instanceof RingMorph)\r\n                || (oldArg instanceof RingMorph && oldArg.contents())) {\r\n            scripts.add(oldArg);\r\n            oldArg.moveBy(replacement.extent());\r\n            oldArg.fixBlockColor();\r\n        }\r\n    }\r\n    if (replacement instanceof MultiArgMorph\r\n            || replacement instanceof ArgLabelMorph\r\n            || replacement.constructor === CommandSlotMorph) {\r\n        replacement.fixLayout();\r\n        if (this.fixLabelColor) { // special case for variadic continuations\r\n            this.fixLabelColor();\r\n        }\r\n    } else {\r\n        replacement.drawNew();\r\n        this.fixLayout();\r\n    }\r\n    this.cachedInputs = null;\r\n    this.endLayout();\r\n};\r\n\r\nSyntaxElementMorph.prototype.silentReplaceInput = function (oldArg, newArg) {\r\n    // used by the Serializer or when programatically\r\n    // changing blocks\r\n    var i = this.children.indexOf(oldArg),\r\n        replacement;\r\n\r\n    if (i === -1) {\r\n        return;\r\n    }\r\n\r\n    if (oldArg.cachedSlotSpec) {oldArg.cachedSlotSpec = null; }\r\n    if (newArg.cachedSlotSpec) {newArg.cachedSlotSpec = null; }\r\n\r\n    if (newArg.parent) {\r\n        newArg.parent.removeChild(newArg);\r\n    }\r\n    if (oldArg instanceof MultiArgMorph && this.dynamicInputLabels) {\r\n        replacement = new ArgLabelMorph(newArg);\r\n    } else {\r\n        replacement = newArg;\r\n    }\r\n    replacement.parent = this;\r\n    this.children[i] = replacement;\r\n\r\n    if (replacement instanceof MultiArgMorph\r\n            || replacement instanceof ArgLabelMorph\r\n            || replacement.constructor === CommandSlotMorph) {\r\n        replacement.fixLayout();\r\n        if (this.fixLabelColor) { // special case for variadic continuations\r\n            this.fixLabelColor();\r\n        }\r\n    } else {\r\n        replacement.drawNew();\r\n        this.fixLayout();\r\n    }\r\n    this.cachedInputs = null;\r\n};\r\n\r\nSyntaxElementMorph.prototype.revertToDefaultInput = function (arg, noValues) {\r\n    var idx = this.parts().indexOf(arg),\r\n        inp = this.inputs().indexOf(arg),\r\n        deflt = new InputSlotMorph(),\r\n        def;\r\n\r\n    if (idx !== -1) {\r\n        if (this instanceof BlockMorph) {\r\n            deflt = this.labelPart(this.parseSpec(this.blockSpec)[idx]);\r\n            if (this.isCustomBlock) {\r\n                def = this.isGlobal ? this.definition\r\n                        : this.scriptTarget().getMethod(this.blockSpec);\r\n                if (deflt instanceof InputSlotMorph) {\r\n                    deflt.setChoices.apply(\r\n                        deflt,\r\n                        def.inputOptionsOfIdx(inp)\r\n                    );\r\n                }\r\n                if (deflt instanceof InputSlotMorph ||\r\n                    (deflt instanceof BooleanSlotMorph)\r\n                ) {\r\n                    deflt.setContents(\r\n                        def.defaultValueOfInputIdx(inp)\r\n                    );\r\n                }\r\n            }\r\n        } else if (this instanceof MultiArgMorph) {\r\n            deflt = this.labelPart(this.slotSpec);\r\n        } else if (this instanceof ReporterSlotMorph) {\r\n            deflt = this.emptySlot();\r\n        }\r\n    }\r\n    // set default value\r\n    if (!noValues) {\r\n        if (inp !== -1) {\r\n            if (deflt instanceof MultiArgMorph) {\r\n                deflt.setContents(this.defaults);\r\n                deflt.defaults = this.defaults;\r\n            } else if (!isNil(this.defaults[inp])) {\r\n                deflt.setContents(this.defaults[inp]);\r\n            }\r\n        }\r\n    }\r\n    this.silentReplaceInput(arg, deflt);\r\n    if (deflt instanceof MultiArgMorph) {\r\n        deflt.refresh();\r\n    } else if (deflt instanceof RingMorph) {\r\n        deflt.fixBlockColor();\r\n    }\r\n    this.cachedInputs = null;\r\n};\r\n\r\nSyntaxElementMorph.prototype.isLocked = function () {\r\n    // answer true if I can be exchanged by a dropped reporter\r\n    return this.isStatic;\r\n};\r\n\r\n// SyntaxElementMorph enumerating:\r\n\r\nSyntaxElementMorph.prototype.topBlock = function () {\r\n    if (this.parent && this.parent.topBlock) {\r\n        return this.parent.topBlock();\r\n    }\r\n    return this;\r\n};\r\n\r\n// SyntaxElementMorph reachable variables\r\n\r\nSyntaxElementMorph.prototype.getVarNamesDict = function () {\r\n    var block = this.parentThatIsA(BlockMorph),\r\n        rcvr,\r\n        tempVars = [],\r\n        dict;\r\n\r\n    if (!block) {\r\n        return {};\r\n    }\r\n    rcvr = block.scriptTarget();\r\n    block.allParents().forEach(function (morph) {\r\n        if (morph instanceof PrototypeHatBlockMorph) {\r\n            tempVars.push.apply(\r\n                tempVars,\r\n                morph.variableNames()\r\n            );\r\n            tempVars.push.apply(\r\n                tempVars,\r\n                morph.inputs()[0].inputFragmentNames()\r\n            );\r\n        } else if (morph instanceof BlockMorph) {\r\n            morph.inputs().forEach(function (inp) {\r\n                if (inp instanceof TemplateSlotMorph) {\r\n                    tempVars.push(inp.contents());\r\n                } else if (inp instanceof MultiArgMorph) {\r\n                    inp.children.forEach(function (m) {\r\n                        if (m instanceof TemplateSlotMorph) {\r\n                            tempVars.push(m.contents());\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    });\r\n    if (rcvr) {\r\n        dict = rcvr.variables.allNamesDict();\r\n        tempVars.forEach(function (name) {\r\n            dict[name] = name;\r\n        });\r\n        return dict;\r\n    }\r\n    return {};\r\n};\r\n\r\n// Variable refactoring\r\n\r\nSyntaxElementMorph.prototype.refactorVarInStack = function (\r\n    oldName,\r\n    newName,\r\n    isScriptVar\r\n) {\r\n    // Rename all oldName var occurrences found in this block stack into newName\r\n    // taking care of not being too greedy\r\n\r\n    if ((this instanceof RingMorph && contains(this.inputNames(), oldName))\r\n            || (!isScriptVar && this.definesScriptVariable(oldName))) {\r\n        return;\r\n    }\r\n\r\n    if (this.selector === 'reportGetVar'\r\n            && this.blockSpec === oldName) {\r\n        this.setSpec(newName);\r\n        this.fullChanged();\r\n        this.fixLabelColor();\r\n    }\r\n\r\n    if (this.choices === 'getVarNamesDict'\r\n            && this.contents().text === oldName) {\r\n        this.setContents(newName);\r\n    }\r\n\r\n    if (this instanceof CustomCommandBlockMorph\r\n            && this.definition.body\r\n            && isNil(this.definition.declarations[oldName])\r\n            && !contains(this.definition.variableNames, oldName)) {\r\n        this.definition.body.expression.refactorVarInStack(oldName, newName);\r\n    }\r\n\r\n    this.inputs().forEach(function (input) {\r\n        input.refactorVarInStack(oldName, newName);\r\n    });\r\n\r\n    if (this.nextBlock) {\r\n        var nb = this.nextBlock();\r\n        if (nb) {\r\n            nb.refactorVarInStack(oldName, newName);\r\n        }\r\n    }\r\n};\r\n\r\nSyntaxElementMorph.prototype.definesScriptVariable = function (name) {\r\n    // Returns true if this block is defining either a script local var or\r\n    // an upVar called `name`\r\n    return ((this.selector === 'doDeclareVariables'\r\n                || (this.blockSpec && this.blockSpec.match('%upvar')))\r\n            && (detect(this.inputs()[0].allInputs(), function (input) {\r\n                return (input.selector === 'reportGetVar'\r\n                        && input.blockSpec === name);\r\n            })));\r\n};\r\n\r\n// SyntaxElementMorph copy-on-write support:\r\n\r\nSyntaxElementMorph.prototype.selectForEdit = function () {\r\n    var scripts = this.parentThatIsA(ScriptsMorph),\r\n        ide = this.parentThatIsA(IDE_Morph),\r\n        rcvr = ide ? ide.currentSprite : null,\r\n        selected;\r\n    if (scripts && rcvr && rcvr.inheritsAttribute('scripts')) {\r\n        // copy on write:\r\n        this.selectionID = true;\r\n        rcvr.shadowAttribute('scripts');\r\n        selected = detect(rcvr.scripts.allChildren(), function (m) {\r\n            return m.selectionID;\r\n        });\r\n        delete this.selectionID;\r\n        delete selected.selectionID;\r\n        return selected;\r\n    }\r\n    return this;\r\n};\r\n\r\n// SyntaxElementMorph drag & drop:\r\n\r\nSyntaxElementMorph.prototype.reactToGrabOf = function (grabbedMorph) {\r\n    var topBlock = this.topBlock(),\r\n        affected;\r\n    if (grabbedMorph instanceof CommandBlockMorph) {\r\n        affected = this.parentThatIsA(CommandSlotMorph);\r\n        if (affected) {\r\n            this.startLayout();\r\n            affected.fixLayout();\r\n            this.endLayout();\r\n        }\r\n    }\r\n    if (topBlock) {\r\n        topBlock.allComments().forEach(function (comment) {\r\n            comment.align(topBlock);\r\n        });\r\n        if (topBlock.getHighlight()) {\r\n            topBlock.addHighlight(topBlock.removeHighlight());\r\n        }\r\n    }\r\n};\r\n\r\n// SyntaxElementMorph 3D - border color rendering:\r\n\r\nSyntaxElementMorph.prototype.bright = function () {\r\n    return this.color.lighter(this.contrast).toString();\r\n};\r\n\r\nSyntaxElementMorph.prototype.dark = function () {\r\n    return this.color.darker(this.contrast).toString();\r\n};\r\n\r\n// SyntaxElementMorph color changing:\r\n\r\nSyntaxElementMorph.prototype.setColor = function (aColor, silently) {\r\n    if (aColor) {\r\n        if (!this.color.eq(aColor)) {\r\n            this.color = aColor;\r\n            if (!silently) {this.drawNew(); }\r\n            this.children.forEach(function (child) {\r\n                if ((!silently || child instanceof TemplateSlotMorph) &&\r\n                \t\t!(child instanceof BlockHighlightMorph)) {\r\n                    child.drawNew();\r\n                    child.changed();\r\n                }\r\n            });\r\n            this.changed();\r\n        }\r\n    }\r\n};\r\n\r\nSyntaxElementMorph.prototype.setLabelColor = function (\r\n    textColor,\r\n    shadowColor,\r\n    shadowOffset\r\n) {\r\n    this.children.forEach(function (morph) {\r\n        if (morph instanceof StringMorph && !morph.isProtectedLabel) {\r\n            morph.shadowOffset = shadowOffset || morph.shadowOffset;\r\n            morph.shadowColor = shadowColor || morph.shadowColor;\r\n            morph.setColor(textColor);\r\n        } else if (morph instanceof MultiArgMorph\r\n                || morph instanceof ArgLabelMorph\r\n                || (morph instanceof SymbolMorph && !morph.isProtectedLabel)\r\n                || (morph instanceof InputSlotMorph\r\n                    && morph.isReadOnly)) {\r\n            morph.setLabelColor(textColor, shadowColor, shadowOffset);\r\n        }\r\n    });\r\n};\r\n\r\nSyntaxElementMorph.prototype.flash = function () {\r\n    if (!this.cachedNormalColor) {\r\n        this.cachedNormalColor = this.color;\r\n        this.setColor(this.activeHighlight);\r\n    }\r\n};\r\n\r\nSyntaxElementMorph.prototype.unflash = function () {\r\n    if (this.cachedNormalColor) {\r\n        var clr = this.cachedNormalColor;\r\n        this.cachedNormalColor = null;\r\n        this.setColor(clr);\r\n    }\r\n};\r\n\r\n// SyntaxElementMorph zebra coloring\r\n\r\nSyntaxElementMorph.prototype.fixBlockColor = function (\r\n    nearestBlock,\r\n    isForced\r\n) {\r\n    this.children.forEach(function (morph) {\r\n        if (morph instanceof SyntaxElementMorph) {\r\n            morph.fixBlockColor(nearestBlock, isForced);\r\n        }\r\n    });\r\n};\r\n\r\n// SyntaxElementMorph label parts:\r\n\r\nSyntaxElementMorph.prototype.labelPart = function (spec) {\r\n    var part, tokens;\r\n    if (spec[0] === '%' &&\r\n            spec.length > 1 &&\r\n            (this.selector !== 'reportGetVar' ||\r\n                (spec === '%turtleOutline' && this.isObjInputFragment()))) {\r\n\r\n        // check for variable multi-arg-slot:\r\n        if ((spec.length > 5) && (spec.slice(0, 5) === '%mult')) {\r\n            part = new MultiArgMorph(spec.slice(5));\r\n            part.addInput();\r\n            return part;\r\n        }\r\n\r\n        // single-arg and specialized multi-arg slots:\r\n        switch (spec) {\r\n        case '%imgsource':\r\n            part = new InputSlotMorph(\r\n                null, // text\r\n                false, // non-numeric\r\n                {\r\n                    'pen trails': ['pen trails'],\r\n                    'stage image': ['stage image']\r\n                },\r\n                true\r\n            );\r\n            part.setContents(['pen trails']);\r\n            break;\r\n        case '%inputs':\r\n            part = new MultiArgMorph('%s', 'with inputs');\r\n            part.isStatic = false;\r\n            part.canBeEmpty = false;\r\n            break;\r\n        case '%scriptVars':\r\n            part = new MultiArgMorph('%t', null, 1, spec);\r\n            part.canBeEmpty = false;\r\n            break;\r\n        case '%blockVars':\r\n            part = new MultiArgMorph('%t', 'block variables', 0, spec);\r\n            part.canBeEmpty = false;\r\n            break;\r\n        case '%parms':\r\n            part = new MultiArgMorph('%t', 'Input Names:', 0, spec);\r\n            part.canBeEmpty = false;\r\n            break;\r\n        case '%ringparms':\r\n            part = new MultiArgMorph(\r\n                '%t',\r\n                'input names:',\r\n                0,\r\n                spec\r\n            );\r\n            break;\r\n        case '%cmdRing':\r\n            part = new RingMorph();\r\n            part.color = SpriteMorph.prototype.blockColor.other;\r\n            part.selector = 'reifyScript';\r\n            part.setSpec('%rc %ringparms');\r\n            part.isDraggable = true;\r\n            break;\r\n        case '%repRing':\r\n            part = new RingMorph();\r\n            part.color = SpriteMorph.prototype.blockColor.other;\r\n            part.selector = 'reifyReporter';\r\n            part.setSpec('%rr %ringparms');\r\n            part.isDraggable = true;\r\n            part.isStatic = true;\r\n            break;\r\n        case '%predRing':\r\n            part = new RingMorph(true);\r\n            part.color = SpriteMorph.prototype.blockColor.other;\r\n            part.selector = 'reifyPredicate';\r\n            part.setSpec('%rp %ringparms');\r\n            part.isDraggable = true;\r\n            part.isStatic = true;\r\n            break;\r\n        case '%words':\r\n            part = new MultiArgMorph('%s', null, 0);\r\n            part.addInput(); // allow for default value setting\r\n            part.addInput(); // allow for default value setting\r\n            part.isStatic = false;\r\n            break;\r\n        case '%exp':\r\n            part = new MultiArgMorph('%s', null, 0);\r\n            part.addInput();\r\n            part.isStatic = true;\r\n            part.canBeEmpty = false;\r\n            break;\r\n        case '%br':\r\n            part = new Morph();\r\n            part.setExtent(new Point(0, 0));\r\n            part.isBlockLabelBreak = true;\r\n            part.getSpec = function () {\r\n                return '%br';\r\n            };\r\n            break;\r\n        case '%inputName':\r\n            part = new ReporterBlockMorph();\r\n            part.category = 'variables';\r\n            part.color = SpriteMorph.prototype.blockColor.variables;\r\n            part.setSpec(localize('Input name'));\r\n            break;\r\n        case '%s':\r\n            part = new InputSlotMorph();\r\n            break;\r\n        case '%anyUE':\r\n            part = new InputSlotMorph();\r\n            part.isUnevaluated = true;\r\n            break;\r\n        case '%txt':\r\n            part = new InputSlotMorph(); // supports whitespace dots\r\n            // part = new TextSlotMorph(); // multi-line, no whitespace dots\r\n            part.minWidth = part.height() * 1.7; // \"landscape\"\r\n            part.fixLayout();\r\n            break;\r\n        case '%mlt':\r\n            part = new TextSlotMorph();\r\n            part.fixLayout();\r\n            break;\r\n        case '%code':\r\n            part = new TextSlotMorph();\r\n            part.contents().fontName = 'monospace';\r\n            part.contents().fontStyle = 'monospace';\r\n            part.fixLayout();\r\n            break;\r\n        case '%obj':\r\n            part = new ArgMorph('object');\r\n            break;\r\n        case '%n':\r\n            part = new InputSlotMorph(null, true);\r\n            break;\r\n        case '%dir':\r\n            part = new InputSlotMorph(\r\n                null,\r\n                true,\r\n                {\r\n                    '(90) right' : 90,\r\n                    '(-90) left' : -90,\r\n                    '(0) up' : '0',\r\n                    '(180) down' : 180\r\n                }\r\n            );\r\n            part.setContents(90);\r\n            break;\r\n        case '%note':\r\n            part = new InputSlotMorph(\r\n                null, // test\r\n                true, // numeric\r\n                'pianoKeyboardMenu',\r\n                false // read-only\r\n            );\r\n            break;\r\n        case '%inst':\r\n            part = new InputSlotMorph(\r\n                null,\r\n                true,\r\n                {\r\n                    '(1) sine' : 1,\r\n                    '(2) square' : 2,\r\n                    '(3) sawtooth' : 3,\r\n                    '(4) triangle' : 4\r\n                }\r\n            );\r\n            part.setContents(1);\r\n            break;\r\n        case '%month':\r\n            part = new InputSlotMorph(\r\n                null, // text\r\n                false, // numeric?\r\n                {\r\n                    'January' : ['January'],\r\n                    'February' : ['February'],\r\n                    'March' : ['March'],\r\n                    'April' : ['April'],\r\n                    'May' : ['May'],\r\n                    'June' : ['June'],\r\n                    'July' : ['July'],\r\n                    'August' : ['August'],\r\n                    'September' : ['September'],\r\n                    'October' : ['October'],\r\n                    'November' : ['November'],\r\n                    'December' : ['December']\r\n                },\r\n                true // read-only\r\n            );\r\n            break;\r\n        case '%interaction':\r\n            part = new InputSlotMorph(\r\n                null, // text\r\n                false, // numeric?\r\n                {\r\n                    'clicked' : ['clicked'],\r\n                    'pressed' : ['pressed'],\r\n                    'dropped' : ['dropped'],\r\n                    'mouse-entered' : ['mouse-entered'],\r\n                    'mouse-departed' : ['mouse-departed']\r\n                },\r\n                true // read-only\r\n            );\r\n            part.isStatic = true;\r\n            break;\r\n        case '%dates':\r\n            part = new InputSlotMorph(\r\n                null, // text\r\n                false, // non-numeric\r\n                {\r\n                    'year' : ['year'],\r\n                    'month' : ['month'],\r\n                    'date' : ['date'],\r\n                    'day of week' : ['day of week'],\r\n                    'hour' : ['hour'],\r\n                    'minute' : ['minute'],\r\n                    'second' : ['second'],\r\n                    'time in milliseconds' : ['time in milliseconds']\r\n                },\r\n                true // read-only\r\n            );\r\n            part.setContents(['date']);\r\n            break;\r\n        case '%delim':\r\n            part = new InputSlotMorph(\r\n                null, // text\r\n                false, // numeric?\r\n                {\r\n                    'letter' : ['letter'],\r\n                    'whitespace' : ['whitespace'],\r\n                    'line' : ['line'],\r\n                    'tab' : ['tab'],\r\n                    'cr' : ['cr'],\r\n                    'csv' : ['csv']\r\n                },\r\n                false // read-only\r\n            );\r\n            break;\r\n        case '%ida':\r\n            part = new InputSlotMorph(\r\n                null,\r\n                true,\r\n                {\r\n                    '1' : 1,\r\n                    last : ['last'],\r\n                    '~' : null,\r\n                    all : ['all']\r\n                }\r\n            );\r\n            part.setContents(1);\r\n            break;\r\n        case '%idx':\r\n            part = new InputSlotMorph(\r\n                null,\r\n                true,\r\n                {\r\n                    '1' : 1,\r\n                    last : ['last'],\r\n                    any : ['any']\r\n                }\r\n            );\r\n            part.setContents(1);\r\n            break;\r\n        case '%spr':\r\n            part = new InputSlotMorph(\r\n                null,\r\n                false,\r\n                'objectsMenu',\r\n                true\r\n            );\r\n            break;\r\n        case '%col': // collision detection\r\n            part = new InputSlotMorph(\r\n                null,\r\n                false,\r\n                'collidablesMenu',\r\n                true\r\n            );\r\n            break;\r\n        case '%dst': // distance measuring\r\n            part = new InputSlotMorph(\r\n                null,\r\n                false,\r\n                'distancesMenu',\r\n                true\r\n            );\r\n            break;\r\n        case '%cln': // clones\r\n            part = new InputSlotMorph(\r\n                null,\r\n                false,\r\n                'clonablesMenu',\r\n                true\r\n            );\r\n            break;\r\n        case '%get': // sprites, parts, speciment, clones\r\n            part = new InputSlotMorph(\r\n                null,\r\n                false,\r\n                'gettablesMenu',\r\n                true\r\n            );\r\n            part.isStatic = true;\r\n            break;\r\n        case '%cst':\r\n            part = new InputSlotMorph(\r\n                null,\r\n                false,\r\n                'costumesMenu',\r\n                true\r\n            );\r\n            break;\r\n        case '%eff':\r\n            part = new InputSlotMorph(\r\n                null,\r\n                false,\r\n                {\r\n                    color: ['color'],\r\n                    fisheye: ['fisheye'],\r\n                    whirl: ['whirl'],\r\n                    pixelate: ['pixelate'],\r\n                    mosaic: ['mosaic'],\r\n                    duplicate: ['duplicate'],\r\n                    negative : ['negative'],\r\n                    comic: ['comic'],\r\n                    confetti: ['confetti'],\r\n                    saturation: ['saturation'],\r\n                    brightness : ['brightness'],\r\n                    ghost: ['ghost']\r\n                },\r\n                true\r\n            );\r\n            part.setContents(['ghost']);\r\n            break;\r\n        case '%snd':\r\n            part = new InputSlotMorph(\r\n                null,\r\n                false,\r\n                'soundsMenu',\r\n                true\r\n            );\r\n            break;\r\n        case '%key':\r\n            part = new InputSlotMorph(\r\n                null,\r\n                false,\r\n                {\r\n                    'any key' : ['any key'],\r\n                    'up arrow': ['up arrow'],\r\n                    'down arrow': ['down arrow'],\r\n                    'right arrow': ['right arrow'],\r\n                    'left arrow': ['left arrow'],\r\n                    space : ['space'],\r\n                    a : ['a'],\r\n                    b : ['b'],\r\n                    c : ['c'],\r\n                    d : ['d'],\r\n                    e : ['e'],\r\n                    f : ['f'],\r\n                    g : ['g'],\r\n                    h : ['h'],\r\n                    i : ['i'],\r\n                    j : ['j'],\r\n                    k : ['k'],\r\n                    l : ['l'],\r\n                    m : ['m'],\r\n                    n : ['n'],\r\n                    o : ['o'],\r\n                    p : ['p'],\r\n                    q : ['q'],\r\n                    r : ['r'],\r\n                    s : ['s'],\r\n                    t : ['t'],\r\n                    u : ['u'],\r\n                    v : ['v'],\r\n                    w : ['w'],\r\n                    x : ['x'],\r\n                    y : ['y'],\r\n                    z : ['z'],\r\n                    '0' : ['0'],\r\n                    '1' : ['1'],\r\n                    '2' : ['2'],\r\n                    '3' : ['3'],\r\n                    '4' : ['4'],\r\n                    '5' : ['5'],\r\n                    '6' : ['6'],\r\n                    '7' : ['7'],\r\n                    '8' : ['8'],\r\n                    '9' : ['9']\r\n                },\r\n                true\r\n            );\r\n            part.setContents(['space']);\r\n            break;\r\n        case '%keyHat':\r\n            part = this.labelPart('%key');\r\n            part.isStatic = true;\r\n            break;\r\n        case '%msg':\r\n            part = new InputSlotMorph(\r\n                null,\r\n                false,\r\n                'messagesMenu',\r\n                true\r\n            );\r\n            break;\r\n        case '%msgHat':\r\n            part = new InputSlotMorph(\r\n                null,\r\n                false,\r\n                'messagesReceivedMenu',\r\n                true\r\n            );\r\n            part.isStatic = true;\r\n            break;\r\n        case '%att':\r\n            part = new InputSlotMorph(\r\n                null,\r\n                false,\r\n                'attributesMenu',\r\n                true\r\n            );\r\n            break;\r\n        case '%fun':\r\n            part = new InputSlotMorph(\r\n                null,\r\n                false,\r\n                {\r\n                    abs : ['abs'],\r\n                    ceiling : ['ceiling'],\r\n                    floor : ['floor'],\r\n                    sqrt : ['sqrt'],\r\n                    sin : ['sin'],\r\n                    cos : ['cos'],\r\n                    tan : ['tan'],\r\n                    asin : ['asin'],\r\n                    acos : ['acos'],\r\n                    atan : ['atan'],\r\n                    ln : ['ln'],\r\n                    log : ['log'],\r\n                    'e^' : ['e^'],\r\n                    '10^' : ['10^']\r\n                },\r\n                true\r\n            );\r\n            part.setContents(['sqrt']);\r\n            break;\r\n        case '%txtfun':\r\n            part = new InputSlotMorph(\r\n                null,\r\n                false,\r\n                {\r\n                    'encode URI' : ['encode URI'],\r\n                    'decode URI' : ['decode URI'],\r\n                    'encode URI component' : ['encode URI component'],\r\n                    'decode URI component' : ['decode URI component'],\r\n                    'XML escape' : ['XML escape'],\r\n                    'XML unescape' : ['XML unescape'],\r\n                    'hex sha512 hash' : ['hex sha512 hash']\r\n                },\r\n                true\r\n            );\r\n            part.setContents(['encode URI']);\r\n            break;\r\n        case '%stopChoices':\r\n            part = new InputSlotMorph(\r\n                null,\r\n                false,\r\n                {\r\n                    'all' : ['all'],\r\n                    'this script' : ['this script'],\r\n                    'this block' : ['this block'],\r\n                    'all but this script' : ['all but this script'],\r\n                    'other scripts in sprite' : ['other scripts in sprite']\r\n                },\r\n                true\r\n            );\r\n            part.setContents(['all']);\r\n            part.isStatic = true;\r\n            break;\r\n        case '%typ':\r\n            part = new InputSlotMorph(\r\n                null,\r\n                false,\r\n                'typesMenu',\r\n                true\r\n            );\r\n            part.setContents(['number']);\r\n            break;\r\n        case '%mapValue':\r\n            part = new InputSlotMorph(\r\n                null,\r\n                false,\r\n                {\r\n                    String : ['String'],\r\n                    Number : ['Number'],\r\n                    'true' : ['true'],\r\n                    'false' : ['false']\r\n                },\r\n                true\r\n            );\r\n            part.setContents(['String']);\r\n            part.isStatic = true;\r\n            break;\r\n        case '%var':\r\n            part = new InputSlotMorph(\r\n                null,\r\n                false,\r\n                'getVarNamesDict',\r\n                true\r\n            );\r\n            part.isStatic = true;\r\n            break;\r\n        case '%shd':\r\n            part = new InputSlotMorph(\r\n                null,\r\n                false,\r\n                'shadowedVariablesMenu',\r\n                true\r\n            );\r\n            // part.isStatic = true;\r\n            break;\r\n        case '%lst':\r\n            part = new InputSlotMorph(\r\n                null,\r\n                false,\r\n                {\r\n                    list1 : 'list1',\r\n                    list2 : 'list2',\r\n                    list3 : 'list3'\r\n                },\r\n                true\r\n            );\r\n            break;\r\n        case '%codeKind':\r\n            part = new InputSlotMorph(\r\n                null,\r\n                false,\r\n                {\r\n                    code : ['code'],\r\n                    header : ['header']\r\n                },\r\n                true\r\n            );\r\n            part.setContents(['code']);\r\n            break;\r\n        case '%l':\r\n            part = new ArgMorph('list');\r\n            break;\r\n        case '%b':\r\n            part = new BooleanSlotMorph();\r\n            break;\r\n        case '%boolUE':\r\n            part = new BooleanSlotMorph();\r\n            part.isUnevaluated = true;\r\n            break;\r\n        case '%bool':\r\n            part = new BooleanSlotMorph(true);\r\n            part.isStatic = true;\r\n            break;\r\n        case '%cmd':\r\n            part = new CommandSlotMorph();\r\n            break;\r\n        case '%rc':\r\n            part = new RingCommandSlotMorph();\r\n            part.isStatic = true;\r\n            break;\r\n        case '%rr':\r\n            part = new RingReporterSlotMorph();\r\n            part.isStatic = true;\r\n            break;\r\n        case '%rp':\r\n            part = new RingReporterSlotMorph(true);\r\n            part.isStatic = true;\r\n            break;\r\n        case '%c':\r\n            part = new CSlotMorph();\r\n            part.isStatic = true;\r\n            break;\r\n        case '%cs':\r\n            part = new CSlotMorph(); // non-static\r\n            break;\r\n        case '%cl':\r\n            part = new CSlotMorph();\r\n            part.isStatic = true; // rejects reporter drops\r\n            part.isLambda = true; // auto-reifies nested script\r\n            break;\r\n        case '%clr':\r\n            part = new ColorSlotMorph();\r\n            part.isStatic = true;\r\n            break;\r\n        case '%t':\r\n            part = new TemplateSlotMorph('a');\r\n            break;\r\n        case '%upvar':\r\n            part = new TemplateSlotMorph('\\u2191'); // up-arrow\r\n            break;\r\n        case '%f':\r\n            part = new FunctionSlotMorph();\r\n            break;\r\n        case '%r':\r\n            part = new ReporterSlotMorph();\r\n            break;\r\n        case '%p':\r\n            part = new ReporterSlotMorph(true);\r\n            break;\r\n\r\n    // code mapping (experimental)\r\n\r\n        case '%codeListPart':\r\n            part = new InputSlotMorph(\r\n                null, // text\r\n                false, // numeric?\r\n                {\r\n                    'list' : ['list'],\r\n                    'item' : ['item'],\r\n                    'delimiter' : ['delimiter']\r\n                },\r\n                true // read-only\r\n            );\r\n            break;\r\n        case '%codeListKind':\r\n            part = new InputSlotMorph(\r\n                null, // text\r\n                false, // numeric?\r\n                {\r\n                    'collection' : ['collection'],\r\n                    'variables' : ['variables'],\r\n                    'parameters' : ['parameters']\r\n                },\r\n                true // read-only\r\n            );\r\n            break;\r\n\r\n    // symbols:\r\n\r\n        case '%turtle':\r\n            part = new SymbolMorph('turtle');\r\n            part.size = this.fontSize * 1.2;\r\n            part.color = new Color(255, 255, 255);\r\n            part.shadowColor = this.color.darker(this.labelContrast);\r\n            part.shadowOffset = MorphicPreferences.isFlat ?\r\n                    new Point() : this.embossing;\r\n            part.drawNew();\r\n            break;\r\n        case '%turtleOutline':\r\n            part = new SymbolMorph('turtleOutline');\r\n            part.size = this.fontSize;\r\n            part.color = new Color(255, 255, 255);\r\n            part.isProtectedLabel = true; // doesn't participate in zebraing\r\n            part.shadowColor = this.color.darker(this.labelContrast);\r\n            part.shadowOffset = MorphicPreferences.isFlat ?\r\n                    new Point() : this.embossing;\r\n            part.drawNew();\r\n            break;\r\n        case '%clockwise':\r\n            part = new SymbolMorph('turnRight');\r\n            part.size = this.fontSize * 1.5;\r\n            part.color = new Color(255, 255, 255);\r\n            part.isProtectedLabel = false; // zebra colors\r\n            part.shadowColor = this.color.darker(this.labelContrast);\r\n            part.shadowOffset = MorphicPreferences.isFlat ?\r\n                    new Point() : this.embossing;\r\n            part.drawNew();\r\n            break;\r\n        case '%counterclockwise':\r\n            part = new SymbolMorph('turnLeft');\r\n            part.size = this.fontSize * 1.5;\r\n            part.color = new Color(255, 255, 255);\r\n            part.isProtectedLabel = false; // zebra colors\r\n            part.shadowColor = this.color.darker(this.labelContrast);\r\n            part.shadowOffset = MorphicPreferences.isFlat ?\r\n                    new Point() : this.embossing;\r\n            part.drawNew();\r\n            break;\r\n        case '%greenflag':\r\n            part = new SymbolMorph('flag');\r\n            part.size = this.fontSize * 1.5;\r\n            part.color = new Color(0, 200, 0);\r\n            part.isProtectedLabel = true; // doesn't participate in zebraing\r\n            part.shadowColor = this.color.darker(this.labelContrast);\r\n            part.shadowOffset = MorphicPreferences.isFlat ?\r\n                    new Point() : this.embossing;\r\n            part.drawNew();\r\n            break;\r\n        case '%stop':\r\n            part = new SymbolMorph('octagon');\r\n            part.size = this.fontSize * 1.5;\r\n            part.color = new Color(200, 0, 0);\r\n            part.isProtectedLabel = true; // doesn't participate in zebraing\r\n            part.shadowColor = this.color.darker(this.labelContrast);\r\n            part.shadowOffset = MorphicPreferences.isFlat ?\r\n                    new Point() : this.embossing;\r\n            part.drawNew();\r\n            break;\r\n        case '%pause':\r\n            part = new SymbolMorph('pause');\r\n            part.size = this.fontSize;\r\n            part.color = new Color(255, 220, 0);\r\n            part.isProtectedLabel = true; // doesn't participate in zebraing\r\n            part.shadowColor = this.color.darker(this.labelContrast);\r\n            part.shadowOffset = MorphicPreferences.isFlat ?\r\n                    new Point() : this.embossing;\r\n            part.drawNew();\r\n            break;\r\n        default:\r\n            nop();\r\n        }\r\n    } else if (spec[0] === '$' &&\r\n            spec.length > 1 &&\r\n            this.selector !== 'reportGetVar') {\r\n/*\r\n        // allow costumes as label symbols\r\n        // has issues when loading costumes (asynchronously)\r\n        // commented out for now\r\n*/\r\n\r\n        // allow GUI symbols as label icons\r\n        // usage: $symbolName[-size-r-g-b], size and color values are optional\r\n        // If there isn't a symbol under that name, it just styles whatever is\r\n        // after \"$\", so you can add unicode icons to your blocks, for example\r\n        // ☺️\r\n        tokens = spec.slice(1).split('-');\r\n        if (!contains(SymbolMorph.prototype.names, tokens[0])) {\r\n            part = new StringMorph(tokens[0]);\r\n            part.fontName = this.labelFontName;\r\n            part.fontStyle = this.labelFontStyle;\r\n            part.fontSize = this.fontSize * (+tokens[1] || 1);\r\n        } else {\r\n            part = new SymbolMorph(tokens[0]);\r\n            part.size = this.fontSize * (+tokens[1] || 1.2);\r\n        }\r\n        part.color = new Color(\r\n            +tokens[2] === 0 ? 0 : +tokens[2] || 255,\r\n            +tokens[3] === 0 ? 0 : +tokens[3] || 255,\r\n            +tokens[4] === 0 ? 0 : +tokens[4] || 255\r\n        );\r\n        part.isProtectedLabel = tokens.length > 2; // zebra colors\r\n        part.shadowColor = this.color.darker(this.labelContrast);\r\n        part.shadowOffset = MorphicPreferences.isFlat ?\r\n                new Point() : this.embossing;\r\n        part.drawNew();\r\n    } else {\r\n        part = new StringMorph(\r\n            spec, // text\r\n            this.fontSize, // fontSize\r\n            this.labelFontStyle, // fontStyle\r\n            true, // bold\r\n            false, // italic\r\n            false, // isNumeric\r\n            MorphicPreferences.isFlat ?\r\n                    new Point() : this.embossing, // shadowOffset\r\n            this.color.darker(this.labelContrast), // shadowColor\r\n            new Color(255, 255, 255), // color\r\n            this.labelFontName // fontName\r\n        );\r\n    }\r\n    return part;\r\n};\r\n\r\nSyntaxElementMorph.prototype.isObjInputFragment = function () {\r\n    // private - for displaying a symbol in a variable block template\r\n    return (this.selector === 'reportGetVar') &&\r\n        (this.getSlotSpec() === '%t') &&\r\n        (this.parent.fragment.type === '%obj');\r\n};\r\n\r\n// SyntaxElementMorph layout:\r\n\r\nSyntaxElementMorph.prototype.fixLayout = function (silently) {\r\n    var nb,\r\n        parts = this.parts(),\r\n        myself = this,\r\n        x = 0,\r\n        y,\r\n        lineHeight = 0,\r\n        maxX = 0,\r\n        blockWidth = this.minWidth,\r\n        blockHeight,\r\n        affected,\r\n        l = [],\r\n        lines = [],\r\n        space = this.isPrototype ?\r\n                1 : Math.floor(fontHeight(this.fontSize) / 3),\r\n        ico = this.isCustomBlock && !this.isGlobal ?\r\n                this.methodIconExtent().x + space : 0,\r\n        bottomCorrection,\r\n        initialExtent = this.extent();\r\n\r\n    if ((this instanceof MultiArgMorph) && (this.slotSpec !== '%c')) {\r\n        blockWidth += this.arrows().width();\r\n    } else if (this instanceof ReporterBlockMorph) {\r\n        blockWidth += (this.rounding * 2) + (this.edge * 2);\r\n    } else {\r\n        blockWidth += (this.corner * 4)\r\n            + (this.edge * 2)\r\n            + (this.inset * 3)\r\n            + this.dent;\r\n    }\r\n\r\n    if (this.nextBlock) {\r\n        nb = this.nextBlock();\r\n    }\r\n\r\n    // determine lines\r\n    parts.forEach(function (part) {\r\n        if ((part instanceof CSlotMorph)\r\n                || (part.slotSpec === '%c')) {\r\n            if (l.length > 0) {\r\n                lines.push(l);\r\n                lines.push([part]);\r\n                l = [];\r\n                x = 0;\r\n            } else {\r\n                lines.push([part]);\r\n            }\r\n        } else if (part instanceof BlockHighlightMorph) {\r\n            nop(); // should be redundant now\r\n            // myself.fullChanged();\r\n            // myself.removeChild(part);\r\n        } else {\r\n            if (part.isVisible) {\r\n                x += part.fullBounds().width() + space;\r\n            }\r\n            if ((x > myself.labelWidth) || part.isBlockLabelBreak) {\r\n                if (l.length > 0) {\r\n                    lines.push(l);\r\n                    l = [];\r\n                    x = part.fullBounds().width() + space;\r\n                }\r\n            }\r\n            l.push(part);\r\n            if (part.isBlockLabelBreak) {\r\n                x = 0;\r\n            }\r\n        }\r\n    });\r\n    if (l.length > 0) {\r\n        lines.push(l);\r\n    }\r\n\r\n    // distribute parts on lines\r\n    if (this instanceof CommandBlockMorph) {\r\n        y = this.top() + this.corner + this.edge;\r\n        if (this instanceof HatBlockMorph) {\r\n            y += this.hatHeight;\r\n        }\r\n    } else if (this instanceof ReporterBlockMorph) {\r\n        y = this.top() + (this.edge * 2);\r\n    } else if (this instanceof MultiArgMorph\r\n            || this instanceof ArgLabelMorph) {\r\n        y = this.top();\r\n    }\r\n    lines.forEach(function (line) {\r\n        x = myself.left() + ico + myself.edge + myself.labelPadding;\r\n        if (myself instanceof RingMorph) {\r\n            x = myself.left() + space; //myself.labelPadding;\r\n        } else if (myself.isPredicate) {\r\n            x = myself.left() + ico + myself.rounding;\r\n        } else if (myself instanceof MultiArgMorph\r\n                || myself instanceof ArgLabelMorph) {\r\n            x = myself.left();\r\n        }\r\n        y += lineHeight;\r\n        lineHeight = 0;\r\n        line.forEach(function (part) {\r\n            if (part instanceof CSlotMorph) {\r\n                x -= myself.labelPadding;\r\n                if (myself.isPredicate) {\r\n                    x = myself.left() + ico + myself.rounding;\r\n                }\r\n                part.setColor(myself.color);\r\n                part.setPosition(new Point(x, y));\r\n                lineHeight = part.height();\r\n            } else {\r\n                part.setPosition(new Point(x, y));\r\n                if (!part.isBlockLabelBreak) {\r\n                    if (part.slotSpec === '%c') {\r\n                        x += part.width();\r\n                    } else if (part.isVisible) {\r\n                        x += part.fullBounds().width() + space;\r\n                    }\r\n                }\r\n                maxX = Math.max(maxX, x);\r\n                lineHeight = Math.max(\r\n                    lineHeight,\r\n                    part instanceof StringMorph ?\r\n                            part.rawHeight() : part.height()\r\n                );\r\n            }\r\n        });\r\n\r\n    // center parts vertically on each line:\r\n        line.forEach(function (part) {\r\n            part.moveBy(new Point(\r\n                0,\r\n                Math.floor((lineHeight - part.height()) / 2)\r\n            ));\r\n        });\r\n    });\r\n\r\n    // determine my height:\r\n    y += lineHeight;\r\n    if (this.children.some(function (any) {\r\n            return any instanceof CSlotMorph;\r\n        })) {\r\n        bottomCorrection = this.bottomPadding;\r\n        if (this instanceof ReporterBlockMorph && !this.isPredicate) {\r\n            bottomCorrection = Math.max(\r\n                this.bottomPadding,\r\n                this.rounding - this.bottomPadding\r\n            );\r\n        }\r\n        y += bottomCorrection;\r\n    }\r\n    if (this instanceof CommandBlockMorph) {\r\n        blockHeight = y - this.top() + (this.corner * 2);\r\n    } else if (this instanceof ReporterBlockMorph) {\r\n        blockHeight = y - this.top() + (this.edge * 2);\r\n    } else if (this instanceof MultiArgMorph\r\n            || this instanceof ArgLabelMorph) {\r\n        blockHeight = y - this.top();\r\n    }\r\n\r\n    // determine my width:\r\n    if (this.isPredicate) {\r\n        blockWidth = Math.max(\r\n            blockWidth,\r\n            maxX - this.left() + this.rounding\r\n        );\r\n    } else if (this instanceof MultiArgMorph\r\n            || this instanceof ArgLabelMorph) {\r\n        blockWidth = Math.max(\r\n            blockWidth,\r\n            maxX - this.left() - space\r\n        );\r\n    } else {\r\n        blockWidth = Math.max(\r\n            blockWidth,\r\n            maxX - this.left() + this.labelPadding - this.edge\r\n        );\r\n        // adjust right padding if rightmost input has arrows\r\n        if (parts[parts.length - 1] instanceof MultiArgMorph\r\n                && (lines.length === 1)) {\r\n            blockWidth -= space;\r\n        }\r\n        // adjust width to hat width\r\n        if (this instanceof HatBlockMorph) {\r\n            blockWidth = Math.max(blockWidth, this.hatWidth * 1.5);\r\n        }\r\n    }\r\n\r\n    // set my extent (silently, because we'll redraw later anyway):\r\n    this.silentSetExtent(new Point(blockWidth, blockHeight));\r\n\r\n    // adjust CSlots\r\n    parts.forEach(function (part) {\r\n        if (part instanceof CSlotMorph) {\r\n            if (myself.isPredicate) {\r\n                part.setWidth(blockWidth - ico - myself.rounding * 2);\r\n            } else {\r\n                part.setWidth(blockWidth - myself.edge - ico);\r\n            }\r\n        }\r\n    });\r\n\r\n    // redraw in order to erase CSlot backgrounds\r\n    if (!silently) {this.drawNew(); }\r\n\r\n    // position next block:\r\n    if (nb) {\r\n        nb.setPosition(\r\n            new Point(\r\n                this.left(),\r\n                this.bottom() - (this.corner)\r\n            )\r\n        );\r\n    }\r\n\r\n    // find out if one of my parents needs to be fixed\r\n    if (this instanceof CommandBlockMorph) {\r\n        if (this.height() !== initialExtent.y) {\r\n            affected = this.parentThatIsA(CommandSlotMorph);\r\n            if (affected) {\r\n                affected.fixLayout();\r\n            }\r\n        }\r\n        if (this.width() !== initialExtent.x) {\r\n            affected = this.parentThatIsAnyOf(\r\n                [ReporterBlockMorph, CommandSlotMorph, RingCommandSlotMorph]\r\n            );\r\n            if (affected) {\r\n                affected.fixLayout();\r\n            }\r\n        }\r\n        if (affected) {\r\n            return;\r\n        }\r\n    } else if (this instanceof ReporterBlockMorph) {\r\n        if (this.parent) {\r\n            if (this.parent.fixLayout) {\r\n                return this.parent.fixLayout();\r\n            }\r\n        }\r\n    }\r\n\r\n    this.fixHighlight();\r\n};\r\n\r\nSyntaxElementMorph.prototype.fixHighlight = function () {\r\n    var top = this.topBlock();\r\n    if (top.getHighlight && top.getHighlight()) {\r\n        top.addHighlight(top.removeHighlight());\r\n    }\r\n};\r\n\r\nSyntaxElementMorph.prototype.methodIconExtent = function () {\r\n    // answer the span of the icon for the \"local method\" indicator\r\n    var ico = this.fontSize * 1.2;\r\n    return this.isCustomBlock && !this.isGlobal ?\r\n            new Point(ico * 0.66, ico) : new Point(0, 0);\r\n};\r\n\r\n// SyntaxElementMorph evaluating:\r\n\r\nSyntaxElementMorph.prototype.evaluate = function () {\r\n    // responsibility of my children, default is to answer null\r\n    return null;\r\n};\r\n\r\nSyntaxElementMorph.prototype.isEmptySlot = function () {\r\n    // responsibility of my children, default is to answer false\r\n    return false;\r\n};\r\n\r\n// SyntaxElementMorph speech bubble feedback:\r\n\r\nSyntaxElementMorph.prototype.showBubble = function (value, exportPic, target) {\r\n    var bubble,\r\n        txt,\r\n        img,\r\n        morphToShow,\r\n        isClickable = false,\r\n        ide = this.parentThatIsA(IDE_Morph),\r\n        anchor = this,\r\n        pos = this.rightCenter().add(new Point(2, 0)),\r\n        sf = this.parentThatIsA(ScrollFrameMorph),\r\n        wrrld = this.world();\r\n\r\n    if ((value === undefined) || !wrrld) {\r\n        return null;\r\n    }\r\n    if (value instanceof ListWatcherMorph) {\r\n        morphToShow = value;\r\n        morphToShow.update(true);\r\n        morphToShow.step = value.update;\r\n        morphToShow.isDraggable = false;\r\n        morphToShow.expand(this.parentThatIsA(ScrollFrameMorph).extent());\r\n        isClickable = true;\r\n    } else if (value instanceof TableFrameMorph) {\r\n        morphToShow = value;\r\n        morphToShow.isDraggable = false;\r\n        morphToShow.expand(this.parentThatIsA(ScrollFrameMorph).extent());\r\n        isClickable = true;\r\n    } else if (value instanceof Morph) {\r\n        if (isSnapObject(value)) {\r\n            img = value.thumbnail(new Point(40, 40));\r\n            morphToShow = new Morph();\r\n            morphToShow.silentSetWidth(img.width);\r\n            morphToShow.silentSetHeight(img.height);\r\n            morphToShow.image = img;\r\n            morphToShow.version = value.version;\r\n            morphToShow.step = function () {\r\n                if (this.version !== value.version) {\r\n                    img = value.thumbnail(new Point(40, 40));\r\n                    this.image = img;\r\n                    this.version = value.version;\r\n                    this.changed();\r\n                }\r\n            };\r\n        } else {\r\n            img = value.fullImage();\r\n            morphToShow = new Morph();\r\n            morphToShow.silentSetWidth(img.width);\r\n            morphToShow.silentSetHeight(img.height);\r\n            morphToShow.image = img;\r\n        }\r\n    } else if (value instanceof Costume) {\r\n        img = value.thumbnail(new Point(40, 40));\r\n        morphToShow = new Morph();\r\n        morphToShow.silentSetWidth(img.width);\r\n        morphToShow.silentSetHeight(img.height);\r\n        morphToShow.image = img;\r\n    } else if (value instanceof Sound) {\r\n        morphToShow = new SymbolMorph('notes', 30);\r\n    } else if (value instanceof Context) {\r\n        img = value.image();\r\n        morphToShow = new Morph();\r\n        morphToShow.silentSetWidth(img.width);\r\n        morphToShow.silentSetHeight(img.height);\r\n        morphToShow.image = img;\r\n    } else if (typeof value === 'boolean') {\r\n        morphToShow = SpriteMorph.prototype.booleanMorph.call(\r\n            null,\r\n            value\r\n        );\r\n    } else if (isString(value)) {\r\n        txt  = value.length > 500 ? value.slice(0, 500) + '...' : value;\r\n        morphToShow = new TextMorph(\r\n            txt,\r\n            this.fontSize\r\n        );\r\n    } else if (value === null) {\r\n        morphToShow = new TextMorph(\r\n            '',\r\n            this.fontSize\r\n        );\r\n    } else if (value === 0) {\r\n        morphToShow = new TextMorph(\r\n            '0',\r\n            this.fontSize\r\n        );\r\n    } else if (value.toString) {\r\n        morphToShow = new TextMorph(\r\n            value.toString(),\r\n            this.fontSize\r\n        );\r\n    }\r\n    if (ide && (ide.currentSprite !== target)) {\r\n        if (target instanceof StageMorph) {\r\n            anchor = ide.corral.stageIcon;\r\n        } else {\r\n        \tif (target.isTemporary) {\r\n         \t\ttarget = detect(\r\n\t\t\t\t\ttarget.allExemplars(),\r\n     \t\t\t\tfunction (each) {return !each.isTemporary; }\r\n         \t\t);\r\n     \t\t}\r\n            anchor = detect(\r\n                ide.corral.frame.contents.children,\r\n                function (icon) {return icon.object === target; }\r\n            );\r\n        }\r\n        pos = anchor.center();\r\n    }\r\n    bubble = new SpeechBubbleMorph(\r\n        morphToShow,\r\n        null,\r\n        Math.max(this.rounding - 2, 6),\r\n        0\r\n    );\r\n    bubble.popUp(\r\n        wrrld,\r\n        pos,\r\n        isClickable\r\n    );\r\n    if (exportPic) {\r\n        this.exportPictureWithResult(bubble);\r\n    }\r\n    if (anchor instanceof SpriteIconMorph) {\r\n        bubble.keepWithin(ide.corral);\r\n    } else if (sf) {\r\n        bubble.keepWithin(sf);\r\n    }\r\n};\r\n\r\nSyntaxElementMorph.prototype.exportPictureWithResult = function (aBubble) {\r\n    var ide = this.parentThatIsA(IDE_Morph),\r\n        scr = this.fullImage(),\r\n        bub = aBubble.fullImageClassic(),\r\n        taller = Math.max(0, bub.height - scr.height),\r\n        pic = newCanvas(new Point(\r\n            scr.width + bub.width + 2,\r\n            scr.height + taller\r\n        )),\r\n        ctx = pic.getContext('2d');\r\n    ctx.drawImage(scr, 0, pic.height - scr.height);\r\n    ctx.drawImage(bub, scr.width + 2, 0);\r\n    // request to open pic in new window.\r\n    ide.saveCanvasAs(\r\n        pic,\r\n        (ide.projectName || localize('untitled')) + ' ' + localize('script pic')\r\n    );\r\n};\r\n\r\n// SyntaxElementMorph code mapping\r\n\r\n/*\r\n    code mapping lets you use blocks to generate arbitrary text-based\r\n    source code that can be exported and compiled / embedded elsewhere,\r\n    it's not part of Snap's evaluator and not needed for Snap itself\r\n*/\r\n\r\nSyntaxElementMorph.prototype.mappedCode = function (definitions) {\r\n    var result = this.evaluate();\r\n    if (result instanceof BlockMorph) {\r\n        return result.mappedCode(definitions);\r\n    }\r\n    return result;\r\n};\r\n\r\n// SyntaxElementMorph layout update optimization\r\n\r\nSyntaxElementMorph.prototype.startLayout = function () {\r\n    this.topBlock().fullChanged();\r\n    Morph.prototype.trackChanges = false;\r\n};\r\n\r\nSyntaxElementMorph.prototype.endLayout = function () {\r\n    Morph.prototype.trackChanges = true;\r\n    this.topBlock().fullChanged();\r\n};\r\n\r\n// BlockMorph //////////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am an abstraction of all blocks (commands, reporters, hats).\r\n\r\n    Aside from the visual settings inherited from Morph and\r\n    SyntaxElementMorph my most important attributes and public\r\n    accessors are:\r\n\r\n    selector        - (string) name of method to be triggered\r\n    scriptTarget()  - answer the object (sprite) to which I apply\r\n    inputs()        - answer an array with my arg slots and nested reporters\r\n    defaults        - an optional Array containing default input values\r\n    topBlock()      - answer the top block of the stack I'm attached to\r\n    blockSpec       - a formalized description of my label parts\r\n    setSpec()       - force me to change my label structure\r\n    evaluate()      - answer the result of my evaluation\r\n    isUnevaluated() - answer whether I am part of a special form\r\n\r\n    Zebra coloring provides a mechanism to alternate brightness of nested,\r\n    same colored blocks (of the same category). The deviation of alternating\r\n    brightness is set in the preferences setting:\r\n\r\n    zebraContrast - <number> percentage of brightness deviation\r\n\r\n    attribute. If the attribute is set to zero, zebra coloring is turned\r\n    off. If it is a positive number, nested blocks will be colored in\r\n    a brighter shade of the same hue and the label color (for texts)\r\n    alternates between white and black. If the attribute is set to a negative\r\n    number, nested blocks are colored in a darker shade of the same hue\r\n    with no alternating label colors.\r\n\r\n    Note: Some of these methods are inherited from SyntaxElementMorph\r\n    for technical reasons, because they are shared among Block and\r\n    MultiArgMorph (e.g. topBlock()).\r\n\r\n    blockSpec is a formatted string consisting of plain words and\r\n    reserved words starting with the percent character (%), which\r\n    represent the following pre-defined input slots and/or label\r\n    features:\r\n\r\n    arity: single\r\n\r\n    %br     - user-forced line break\r\n    %s      - white rectangular type-in slot (\"string-type\")\r\n    %txt    - white rectangular type-in slot (\"text-type\")\r\n    %mlt    - white rectangular type-in slot (\"multi-line-text-type\")\r\n    %code   - white rectangular type-in slot, monospaced font\r\n    %n      - white roundish type-in slot (\"numerical\")\r\n    %dir    - white roundish type-in slot with drop-down for directions\r\n    %inst   - white roundish type-in slot with drop-down for instruments\r\n    %ida    - white roundish type-in slot with drop-down for list indices\r\n    %idx    - white roundish type-in slot for indices incl. \"any\"\r\n    %obj    - specially drawn slot for object reporters\r\n    %spr    - chameleon colored rectangular drop-down for object-names\r\n    %col    - chameleon colored rectangular drop-down for collidables\r\n    %dst    - chameleon colored rectangular drop-down for distances\r\n    %cst    - chameleon colored rectangular drop-down for costume-names\r\n    %eff    - chameleon colored rectangular drop-down for graphic effects\r\n    %snd    - chameleon colored rectangular drop-down for sound names\r\n    %key    - chameleon colored rectangular drop-down for keyboard keys\r\n    %msg    - chameleon colored rectangular drop-down for messages\r\n    %att    - chameleon colored rectangular drop-down for attributes\r\n    %fun    - chameleon colored rectangular drop-down for math functions\r\n    %typ    - chameleon colored rectangular drop-down for data types\r\n    %var    - chameleon colored rectangular drop-down for variable names\r\n    %shd    - Chameleon colored rectuangular drop-down for shadowed var names\r\n    %lst    - chameleon colored rectangular drop-down for list names\r\n    %b      - chameleon colored hexagonal slot (for predicates)\r\n    %bool   - chameleon colored hexagonal slot (for predicates), static\r\n    %l      - list icon\r\n    %c      - C-shaped command slot, special form for primitives\r\n    %cs     - C-shaped, auto-reifying, accepts reporter drops\r\n    %cl     - C-shaped, auto-reifying, rejects reporters\r\n    %clr    - interactive color slot\r\n    %t      - inline variable reporter template\r\n    %anyUE  - white rectangular type-in slot, unevaluated if replaced\r\n    %boolUE - chameleon colored hexagonal slot, unevaluated if replaced\r\n    %f      - round function slot, unevaluated if replaced,\r\n    %r      - round reporter slot\r\n    %p      - hexagonal predicate slot\r\n\r\n    rings:\r\n\r\n    %cmdRing    - command slotted ring with %ringparms\r\n    %repRing    - round slotted ringn with %ringparms\r\n    %predRing   - diamond slotted ring with %ringparms\r\n\r\n    arity: multiple\r\n\r\n    %mult%x      - where %x stands for any of the above single inputs\r\n    %inputs      - for an additional text label 'with inputs'\r\n    %words       - for an expandable list of default 2 (used in JOIN)\r\n    %exp         - for a static expandable list of minimum 0 (used in LIST)\r\n    %scriptVars  - for an expandable list of variable reporter templates\r\n    %parms       - for an expandable list of formal parameters\r\n    %ringparms   - the same for use inside Rings\r\n\r\n    special form: upvar\r\n\r\n    %upvar       - same as %t (inline variable reporter template)\r\n\r\n    special form: input name\r\n\r\n    %inputName   - variable blob (used in input type dialog)\r\n\r\n    examples:\r\n\r\n        'if %b %c else %c'        - creates Scratch's If/Else block\r\n        'set pen color to %clr'   - creates Scratch's Pen color block\r\n        'list %mult%s'            - creates BYOB's list reporter block\r\n        'call %n %inputs'         - creates BYOB's Call block\r\n        'the script %parms %c'    - creates BYOB's THE SCRIPT block\r\n*/\r\n\r\n// BlockMorph inherits from SyntaxElementMorph:\r\n\r\nBlockMorph.prototype = new SyntaxElementMorph();\r\nBlockMorph.prototype.constructor = BlockMorph;\r\nBlockMorph.uber = SyntaxElementMorph.prototype;\r\n\r\n// BlockMorph preferences settings:\r\n\r\nBlockMorph.prototype.isCachingInputs = true;\r\nBlockMorph.prototype.zebraContrast = 40; // alternating color brightness\r\n\r\n// BlockMorph sound feedback:\r\n\r\nBlockMorph.prototype.snapSound = null;\r\n\r\nBlockMorph.prototype.toggleSnapSound = function () {\r\n    if (this.snapSound !== null) {\r\n        this.snapSound = null;\r\n    } else {\r\n        BlockMorph.prototype.snapSound = document.createElement('audio');\r\n        BlockMorph.prototype.snapSound.src = 'click.wav';\r\n    }\r\n    CommentMorph.prototype.snapSound = BlockMorph.prototype.snapSound;\r\n};\r\n\r\n// BlockMorph instance creation:\r\n\r\nfunction BlockMorph() {\r\n    this.init();\r\n}\r\n\r\nBlockMorph.prototype.init = function (silently) {\r\n    this.selector = null; // name of method to be triggered\r\n    this.blockSpec = ''; // formal description of label and arguments\r\n    this.comment = null; // optional \"sticky\" comment morph\r\n\r\n    // not to be persisted:\r\n    this.instantiationSpec = null; // spec to set upon fullCopy() of template\r\n    this.category = null; // for zebra coloring (non persistent)\r\n    this.isCorpse = false; // marked for deletion fom a custom block definition\r\n\r\n    BlockMorph.uber.init.call(this, silently);\r\n    this.color = new Color(0, 17, 173);\r\n    this.cachedInputs = null;\r\n};\r\n\r\nBlockMorph.prototype.scriptTarget = function () {\r\n    // answer the sprite or stage that this block acts on,\r\n    // if the user clicks on it.\r\n    // NOTE: since scripts can be shared by more than a single sprite\r\n    // this method only gives the desired result within the context of\r\n    // the user actively clicking on a block inside the IDE\r\n    // there is no direct relationship between a block and a sprite.\r\n    var scripts = this.parentThatIsA(ScriptsMorph),\r\n        ide;\r\n    if (scripts) {\r\n        return scripts.scriptTarget();\r\n    }\r\n    ide = this.parentThatIsA(IDE_Morph);\r\n    if (ide) {\r\n        return ide.currentSprite;\r\n    }\r\n    throw new Error('script target cannot be found for orphaned block');\r\n};\r\n\r\nBlockMorph.prototype.toString = function () {\r\n    return 'a ' +\r\n        (this.constructor.name ||\r\n            this.constructor.toString().split(' ')[1].split('(')[0]) +\r\n        ' (\"' +\r\n        this.blockSpec.slice(0, 30) + '...\")';\r\n};\r\n\r\n// BlockMorph spec:\r\n\r\nBlockMorph.prototype.parseSpec = function (spec) {\r\n    var result = [],\r\n        words,\r\n        word = '';\r\n\r\n    words = isString(spec) ? spec.split(' ') : [];\r\n    if (words.length === 0) {\r\n        words = [spec];\r\n    }\r\n    if (this.labelWordWrap) {\r\n        return words;\r\n    }\r\n\r\n    function addWord(w) {\r\n        if ((w[0] === '%') && (w.length > 1)) {\r\n            if (word !== '') {\r\n                result.push(word);\r\n                word = '';\r\n            }\r\n            result.push(w);\r\n        } else {\r\n            if (word !== '') {\r\n                word += ' ' + w;\r\n            } else {\r\n                word = w;\r\n            }\r\n        }\r\n    }\r\n\r\n    words.forEach(function (each) {\r\n        addWord(each);\r\n    });\r\n    if (word !== '') {\r\n        result.push(word);\r\n    }\r\n    return result;\r\n};\r\n\r\nBlockMorph.prototype.setSpec = function (spec, silently, definition) {\r\n    var myself = this,\r\n        part,\r\n        inputIdx = -1;\r\n\r\n    if (!spec) {return; }\r\n    this.parts().forEach(function (part) {\r\n        part.destroy();\r\n    });\r\n    if (this.isPrototype) {\r\n        this.add(this.placeHolder());\r\n    }\r\n    this.parseSpec(spec).forEach(function (word) {\r\n        if (word[0] === '%') {\r\n            inputIdx += 1;\r\n        }\r\n        part = myself.labelPart(word);\r\n        if (isNil(part)) {\r\n            return;\r\n        }\r\n        myself.add(part);\r\n        if (!(part instanceof CommandSlotMorph ||\r\n                part instanceof StringMorph)) {\r\n            part.drawNew();\r\n        }\r\n        if (part instanceof RingMorph) {\r\n            part.fixBlockColor();\r\n        }\r\n        if (part instanceof MultiArgMorph ||\r\n                part.constructor === CommandSlotMorph ||\r\n                part.constructor === RingCommandSlotMorph) {\r\n            part.fixLayout();\r\n        }\r\n        if (myself.isPrototype) {\r\n            myself.add(myself.placeHolder());\r\n        }\r\n        if (part instanceof InputSlotMorph && myself.isCustomBlock) {\r\n            part.setChoices.apply(\r\n                part,\r\n                (definition || myself.definition).inputOptionsOfIdx(inputIdx)\r\n            );\r\n        }\r\n    });\r\n    this.blockSpec = spec;\r\n    this.fixLayout(silently);\r\n    this.cachedInputs = null;\r\n};\r\n\r\nBlockMorph.prototype.userSetSpec = function (spec) {\r\n    var tb = this.topBlock();\r\n    tb.fullChanged();\r\n    this.setSpec(spec);\r\n    tb.fullChanged();\r\n};\r\n\r\nBlockMorph.prototype.buildSpec = function () {\r\n    // create my blockSpec from my parts - for demo purposes only\r\n    var myself = this;\r\n    this.blockSpec = '';\r\n    this.parts().forEach(function (part) {\r\n        if (part instanceof StringMorph) {\r\n            myself.blockSpec += part.text;\r\n        } else if (part instanceof ArgMorph) {\r\n            myself.blockSpec += part.getSpec();\r\n        } else if (part.isBlockLabelBreak) {\r\n            myself.blockSpec += part.getSpec();\r\n        } else {\r\n            myself.blockSpec += '[undefined]';\r\n        }\r\n        myself.blockSpec += ' ';\r\n    });\r\n    this.blockSpec = this.blockSpec.trim();\r\n};\r\n\r\nBlockMorph.prototype.rebuild = function (contrast) {\r\n    // rebuild my label fragments, for use in ToggleElementMorphs\r\n    this.setSpec(this.blockSpec);\r\n    if (contrast) {\r\n        this.inputs().forEach(function (input) {\r\n            if (input instanceof ReporterBlockMorph) {\r\n                input.setColor(input.color.lighter(contrast));\r\n                input.setSpec(input.blockSpec);\r\n            }\r\n        });\r\n    }\r\n};\r\n\r\n// BlockMorph menu:\r\n\r\nBlockMorph.prototype.userMenu = function () {\r\n    var menu = new MenuMorph(this),\r\n        world = this.world(),\r\n        myself = this,\r\n        shiftClicked = world.currentKey === 16,\r\n        proc = this.activeProcess(),\r\n        vNames = proc && proc.context && proc.context.outerContext ?\r\n                proc.context.outerContext.variables.names() : [],\r\n        alternatives,\r\n        field,\r\n        rcvr,\r\n        top;\r\n\r\n    function addOption(label, toggle, test, onHint, offHint) {\r\n        var on = '\\u2611 ',\r\n            off = '\\u2610 ';\r\n        menu.addItem(\r\n            (test ? on : off) + localize(label),\r\n            toggle,\r\n            test ? onHint : offHint\r\n        );\r\n    }\r\n\r\n    function renameVar() {\r\n        var blck = myself.fullCopy();\r\n        blck.addShadow();\r\n        new DialogBoxMorph(\r\n            myself,\r\n            myself.userSetSpec,\r\n            myself\r\n        ).prompt(\r\n            \"Variable name\",\r\n            myself.blockSpec,\r\n            world,\r\n            blck.fullImage(), // pic\r\n            InputSlotMorph.prototype.getVarNamesDict.call(myself)\r\n        );\r\n    }\r\n\r\n    menu.addItem(\r\n        \"help...\",\r\n        'showHelp'\r\n    );\r\n    if (shiftClicked) {\r\n        top = this.topBlock();\r\n        if (top instanceof ReporterBlockMorph) {\r\n            menu.addItem(\r\n                \"script pic with result...\",\r\n                function () {\r\n                    top.exportResultPic();\r\n                },\r\n                'open a new window\\n' +\r\n                    'with a picture of both\\nthis script and its result',\r\n                new Color(100, 0, 0)\r\n            );\r\n        }\r\n    }\r\n    if (this.isTemplate) {\r\n        if (this.parent instanceof SyntaxElementMorph) { // in-line\r\n            if (this.selector === 'reportGetVar') { // script var definition\r\n                menu.addLine();\r\n                menu.addItem(\r\n                    'rename...',\r\n                    function () {\r\n                        myself.refactorThisVar(true); // just the template\r\n                    },\r\n                    'rename only\\nthis reporter'\r\n                );\r\n                menu.addItem(\r\n                    'rename all...',\r\n                    'refactorThisVar',\r\n                    'rename all blocks that\\naccess this variable'\r\n                );\r\n            }\r\n        } else { // in palette\r\n            if (this.selector === 'reportGetVar') {\r\n                rcvr = this.scriptTarget();\r\n                if (this.isInheritedVariable(false)) { // fully inherited\r\n                    addOption(\r\n                        'inherited',\r\n                        function () {\r\n                            rcvr.toggleInheritedVariable(myself.blockSpec);\r\n                        },\r\n                        true,\r\n                        'uncheck to\\ndisinherit',\r\n                        null\r\n                    );\r\n                } else { // not inherited\r\n                    if (this.isInheritedVariable(true)) { // shadowed\r\n                        addOption(\r\n                            'inherited',\r\n                            function () {\r\n                                rcvr.toggleInheritedVariable(myself.blockSpec);\r\n                            },\r\n                            false,\r\n                            null,\r\n                            localize('check to inherit\\nfrom')\r\n                                + ' ' + rcvr.exemplar.name\r\n                        );\r\n                    }\r\n                    addOption(\r\n                        'transient',\r\n                        'toggleTransientVariable',\r\n                        myself.isTransientVariable(),\r\n                        'uncheck to save contents\\nin the project',\r\n                        'check to prevent contents\\nfrom being saved'\r\n                    );\r\n                    menu.addLine();\r\n                    menu.addItem(\r\n                        'rename...',\r\n                        function () {\r\n                            myself.refactorThisVar(true); // just the template\r\n                        },\r\n                        'rename only\\nthis reporter'\r\n                    );\r\n                    menu.addItem(\r\n                        'rename all...',\r\n                        'refactorThisVar',\r\n                        'rename all blocks that\\naccess this variable'\r\n                    );\r\n                }\r\n            } else if (this.selector !== 'evaluateCustomBlock') {\r\n                menu.addItem(\r\n                    \"hide\",\r\n                    'hidePrimitive'\r\n                );\r\n            }\r\n\r\n            // allow toggling inheritable attributes\r\n            if (StageMorph.prototype.enableInheritance) {\r\n                rcvr = this.scriptTarget();\r\n                field = {\r\n                    xPosition: 'x position',\r\n                    yPosition: 'y position',\r\n                    direction: 'direction',\r\n                    getScale: 'size',\r\n                    getCostumeIdx: 'costume #'\r\n                }[this.selector];\r\n                if (field && rcvr && rcvr.exemplar) {\r\n                    menu.addLine();\r\n                    addOption(\r\n                        'inherited',\r\n                        function () {\r\n                            rcvr.toggleInheritanceForAttribute(field);\r\n                        },\r\n                        rcvr.inheritsAttribute(field),\r\n                        'uncheck to\\ndisinherit',\r\n                        localize('check to inherit\\nfrom')\r\n                            + ' ' + rcvr.exemplar.name\r\n                    );\r\n                }\r\n            }\r\n\r\n            if (StageMorph.prototype.enableCodeMapping) {\r\n                menu.addLine();\r\n                menu.addItem(\r\n                    'header mapping...',\r\n                    'mapToHeader'\r\n                );\r\n                menu.addItem(\r\n                    'code mapping...',\r\n                    'mapToCode'\r\n                );\r\n            }\r\n        }\r\n        return menu;\r\n    }\r\n    menu.addLine();\r\n    if (this.selector === 'reportGetVar') {\r\n        menu.addItem(\r\n            'rename...',\r\n            renameVar,\r\n            'rename only\\nthis reporter'\r\n        );\r\n    } else if (SpriteMorph.prototype.blockAlternatives[this.selector]) {\r\n        menu.addItem(\r\n            'relabel...',\r\n            function () {\r\n                myself.relabel(\r\n                    SpriteMorph.prototype.blockAlternatives[myself.selector]\r\n                );\r\n            }\r\n        );\r\n    } else if (this.isCustomBlock && this.alternatives) {\r\n        alternatives = this.alternatives();\r\n        if (alternatives.length > 0) {\r\n            menu.addItem(\r\n                'relabel...',\r\n                function () {myself.relabel(alternatives); }\r\n            );\r\n        }\r\n    }\r\n\r\n    menu.addItem(\r\n        \"duplicate\",\r\n        function () {\r\n            var dup = myself.fullCopy(),\r\n                ide = myself.parentThatIsA(IDE_Morph),\r\n                blockEditor = myself.parentThatIsA(BlockEditorMorph);\r\n            dup.pickUp(world);\r\n            // register the drop-origin, so the block can\r\n            // slide back to its former situation if dropped\r\n            // somewhere where it gets rejected\r\n            if (!ide && blockEditor) {\r\n                ide = blockEditor.target.parentThatIsA(IDE_Morph);\r\n            }\r\n            if (ide) {\r\n                world.hand.grabOrigin = {\r\n                    origin: ide.palette,\r\n                    position: ide.palette.center()\r\n                };\r\n            }\r\n        },\r\n        'make a copy\\nand pick it up'\r\n    );\r\n    if (this instanceof CommandBlockMorph && this.nextBlock()) {\r\n        menu.addItem(\r\n            (proc ? this.fullCopy() : this).thumbnail(0.5, 60),\r\n            function () {\r\n                var cpy = myself.fullCopy(),\r\n                    nb = cpy.nextBlock(),\r\n                    ide = myself.parentThatIsA(IDE_Morph),\r\n                    blockEditor = myself.parentThatIsA(BlockEditorMorph);\r\n                if (nb) {nb.destroy(); }\r\n                cpy.pickUp(world);\r\n                if (!ide && blockEditor) {\r\n                    ide = blockEditor.target.parentThatIsA(IDE_Morph);\r\n                }\r\n                if (ide) {\r\n                    world.hand.grabOrigin = {\r\n                        origin: ide.palette,\r\n                        position: ide.palette.center()\r\n                    };\r\n                }\r\n            },\r\n            'only duplicate this block'\r\n        );\r\n    }\r\n    menu.addItem(\r\n        \"delete\",\r\n        'userDestroy'\r\n    );\r\n    menu.addItem(\r\n        \"script pic...\",\r\n        function () {\r\n            var ide = myself.parentThatIsA(IDE_Morph) ||\r\n                myself.parentThatIsA(BlockEditorMorph).target.parentThatIsA(\r\n                    IDE_Morph\r\n            );\r\n            ide.saveCanvasAs(\r\n                myself.topBlock().scriptPic(),\r\n                (ide.projectName || localize('untitled')) + ' ' +\r\n                    localize('script pic')\r\n            );\r\n        },\r\n        'open a new window\\nwith a picture of this script'\r\n    );\r\n    if (shiftClicked) {\r\n        menu.addItem(\r\n            'download script',\r\n            function () {\r\n                var ide = myself.parentThatIsA(IDE_Morph),\r\n                    blockEditor = myself.parentThatIsA(BlockEditorMorph);\r\n                if (!ide && blockEditor) {\r\n                    ide = blockEditor.target.parentThatIsA(IDE_Morph);\r\n                }\r\n                if (ide) {\r\n                    ide.saveXMLAs(\r\n                        ide.serializer.serialize(myself),\r\n                        myself.selector + ' script',\r\n                        false);\r\n                }\r\n            },\r\n            'download this script\\nas an XML file',\r\n            new Color(100, 0, 0)\r\n            );\r\n    }\r\n    if (proc) {\r\n        if (vNames.length) {\r\n            menu.addLine();\r\n            vNames.forEach(function (vn) {\r\n                menu.addItem(\r\n                    vn + '...',\r\n                    function () {\r\n                        proc.doShowVar(vn);\r\n                    }\r\n                );\r\n            });\r\n        }\r\n        proc.homeContext.variables.names().forEach(function (vn) {\r\n            if (!contains(vNames, vn)) {\r\n                menu.addItem(\r\n                    vn + '...',\r\n                    function () {\r\n                        proc.doShowVar(vn);\r\n                    }\r\n                );\r\n            }\r\n        });\r\n        return menu;\r\n    }\r\n    if (this.parent.parentThatIsA(RingMorph)) {\r\n        menu.addLine();\r\n        menu.addItem(\"unringify\", 'unringify');\r\n        top = this.topBlock();\r\n        if (this instanceof ReporterBlockMorph ||\r\n                (!(top instanceof HatBlockMorph))) {\r\n            menu.addItem(\"ringify\", 'ringify');\r\n        }\r\n        return menu;\r\n    }\r\n    if (this.parent instanceof ReporterSlotMorph\r\n            || (this.parent instanceof CommandSlotMorph)\r\n            || (this instanceof HatBlockMorph)\r\n            || (this instanceof CommandBlockMorph\r\n                && (this.topBlock() instanceof HatBlockMorph))) {\r\n        return menu;\r\n    }\r\n    menu.addLine();\r\n    menu.addItem(\"ringify\", 'ringify');\r\n    if (StageMorph.prototype.enableCodeMapping) {\r\n        menu.addLine();\r\n        menu.addItem(\r\n            'header mapping...',\r\n            'mapToHeader'\r\n        );\r\n        menu.addItem(\r\n            'code mapping...',\r\n            'mapToCode'\r\n        );\r\n    }\r\n    return menu;\r\n};\r\n\r\nBlockMorph.prototype.developersMenu = function () {\r\n    var menu = BlockMorph.uber.developersMenu.call(this);\r\n    menu.addLine();\r\n    menu.addItem(\"delete block\", 'deleteBlock');\r\n    menu.addItem(\"spec...\", function () {\r\n\r\n        new DialogBoxMorph(\r\n            this,\r\n            this.userSetSpec,\r\n            this\r\n        ).prompt(\r\n            menu.title + '\\nspec',\r\n            this.blockSpec,\r\n            this.world()\r\n        );\r\n    });\r\n    return menu;\r\n};\r\n\r\nBlockMorph.prototype.hidePrimitive = function () {\r\n    var ide = this.parentThatIsA(IDE_Morph),\r\n        dict,\r\n        cat;\r\n    if (!ide) {return; }\r\n    StageMorph.prototype.hiddenPrimitives[this.selector] = true;\r\n    dict = {\r\n        doWarp: 'control',\r\n        reifyScript: 'operators',\r\n        reifyReporter: 'operators',\r\n        reifyPredicate: 'operators',\r\n        doDeclareVariables: 'variables'\r\n    };\r\n    cat = dict[this.selector] || this.category;\r\n    if (cat === 'lists') {cat = 'variables'; }\r\n    ide.flushBlocksCache(cat);\r\n    ide.refreshPalette();\r\n};\r\n\r\nBlockMorph.prototype.isInheritedVariable = function (shadowedOnly) {\r\n    // private - only for variable getter template inside the palette\r\n    if (this.isTemplate &&\r\n            (this.selector === 'reportGetVar') &&\r\n            (this.parent instanceof FrameMorph)) {\r\n        return contains(\r\n            this.scriptTarget().inheritedVariableNames(shadowedOnly),\r\n            this.blockSpec\r\n        );\r\n    }\r\n    return false;\r\n};\r\n\r\nBlockMorph.prototype.isTransientVariable = function () {\r\n    // private - only for variable getter template inside the palette\r\n    var varFrame = this.scriptTarget().variables.silentFind(this.blockSpec);\r\n    return varFrame ? varFrame.vars[this.blockSpec].isTransient : false;\r\n};\r\n\r\nBlockMorph.prototype.toggleTransientVariable = function () {\r\n    // private - only for variable getter template inside the palette\r\n    var varFrame = this.scriptTarget().variables.silentFind(this.blockSpec);\r\n    if (!varFrame) {return; }\r\n    varFrame.vars[this.blockSpec].isTransient =\r\n        !(varFrame.vars[this.blockSpec].isTransient);\r\n};\r\n\r\nBlockMorph.prototype.deleteBlock = function () {\r\n    // delete just this one block, keep inputs and next block around\r\n    var scripts = this.parentThatIsA(ScriptsMorph),\r\n        nb = this.nextBlock ? this.nextBlock() : null,\r\n        tobefixed,\r\n        isindef;\r\n    if (scripts) {\r\n        if (nb) {\r\n            scripts.add(nb);\r\n        }\r\n        this.inputs().forEach(function (inp) {\r\n            if (inp instanceof BlockMorph) {\r\n                scripts.add(inp);\r\n            }\r\n        });\r\n    }\r\n    if (this instanceof ReporterBlockMorph &&\r\n\t\t\t((this.parent instanceof BlockMorph)\r\n            \t|| (this.parent instanceof MultiArgMorph)\r\n            \t|| (this.parent instanceof ReporterSlotMorph))) {\r\n        this.parent.revertToDefaultInput(this);\r\n    } else { // CommandBlockMorph\r\n        if (this.parent && this.parent.fixLayout) {\r\n            tobefixed = this.parentThatIsA(ArgMorph);\r\n        } else { // must be in a custom block definition\r\n            isindef = true;\r\n        }\r\n    }\r\n    this.destroy();\r\n    if (isindef) {\r\n        /*\r\n            since the definition's body still points to this block\r\n            even after it has been destroyed, mark it to be deleted\r\n            later.\r\n        */\r\n        this.isCorpse = true;\r\n    }\r\n    if (tobefixed) {\r\n        tobefixed.fixLayout();\r\n    }\r\n};\r\n\r\nBlockMorph.prototype.ringify = function () {\r\n    // wrap a Ring around me\r\n    var ring, top, center,\r\n        target = this.selectForEdit(); // copy-on-edit\r\n    if (target !== this) {\r\n        return this.ringify.call(target);\r\n    }\r\n    ring = new RingMorph();\r\n    top = this.topBlock();\r\n    center = top.fullBounds().center();\r\n    if (this.parent === null) {return null; }\r\n    top.fullChanged();\r\n    if (this.parent instanceof SyntaxElementMorph) {\r\n        if (this instanceof ReporterBlockMorph) {\r\n            this.parent.silentReplaceInput(this, ring);\r\n            ring.embed(this);\r\n        } else if (top) { // command\r\n            if (top instanceof HatBlockMorph) {\r\n                return;\r\n            }\r\n            top.parent.add(ring);\r\n            ring.embed(top);\r\n            ring.setCenter(center);\r\n        }\r\n    } else {\r\n        this.parent.add(ring);\r\n        ring.embed(this);\r\n        ring.setCenter(center);\r\n    }\r\n    this.fixBlockColor(null, true);\r\n    top.fullChanged();\r\n};\r\n\r\nBlockMorph.prototype.unringify = function () {\r\n    // remove a Ring around me, if any\r\n    var ring, top, center, scripts, block,\r\n        target = this.selectForEdit(); // copy-on-edit\r\n    if (target !== this) {\r\n        return this.unringify.call(target);\r\n    }\r\n    ring = this.parent.parentThatIsA(RingMorph);\r\n    top = this.topBlock();\r\n    scripts = this.parentThatIsA(ScriptsMorph);\r\n    if (ring === null) {return null; }\r\n    block = ring.contents();\r\n    center = ring.center();\r\n\r\n    top.fullChanged();\r\n    if (ring.parent instanceof SyntaxElementMorph) {\r\n        if (block instanceof ReporterBlockMorph) {\r\n            ring.parent.silentReplaceInput(ring, block);\r\n        } else if (scripts) {\r\n            scripts.add(block);\r\n            block.setFullCenter(center);\r\n            block.moveBy(20);\r\n            ring.parent.revertToDefaultInput(ring);\r\n        }\r\n    } else {\r\n        ring.parent.add(block);\r\n        block.setFullCenter(center);\r\n        ring.destroy();\r\n    }\r\n    this.fixBlockColor(null, true);\r\n    top.fullChanged();\r\n};\r\n\r\nBlockMorph.prototype.relabel = function (alternativeSelectors) {\r\n    var menu, oldInputs, myself,\r\n        target = this.selectForEdit(); // copy-on-edit\r\n    if (target !== this) {\r\n        return this.relabel.call(target, alternativeSelectors);\r\n    }\r\n    menu = new MenuMorph(this);\r\n    oldInputs = this.inputs();\r\n    myself = this;\r\n    alternativeSelectors.forEach(function (sel) {\r\n        var block = SpriteMorph.prototype.blockForSelector(sel);\r\n        block.restoreInputs(oldInputs);\r\n        block.fixBlockColor(null, true);\r\n        block.addShadow(new Point(3, 3));\r\n        menu.addItem(\r\n            block,\r\n            function () {\r\n                myself.setSelector(sel);\r\n            }\r\n        );\r\n    });\r\n    menu.popup(this.world(), this.bottomLeft().subtract(new Point(\r\n        8,\r\n        this instanceof CommandBlockMorph ? this.corner : 0\r\n    )));\r\n};\r\n\r\nBlockMorph.prototype.setSelector = function (aSelector) {\r\n    // private - used only for relabel()\r\n    var oldInputs = this.inputs(),\r\n        scripts = this.parentThatIsA(ScriptsMorph),\r\n        surplus,\r\n        info;\r\n    info = SpriteMorph.prototype.blocks[aSelector];\r\n    this.setCategory(info.category);\r\n    this.selector = aSelector;\r\n    this.setSpec(localize(info.spec));\r\n    surplus = this.restoreInputs(oldInputs);\r\n    this.fixLabelColor();\r\n\r\n    // place surplus blocks on scipts\r\n    if (scripts && surplus.length) {\r\n        surplus.forEach(function (blk) {\r\n            blk.moveBy(10);\r\n            scripts.add(blk);\r\n        });\r\n    }\r\n};\r\n\r\nBlockMorph.prototype.restoreInputs = function (oldInputs) {\r\n    // private - used only for relabel()\r\n    // try to restore my previous inputs when my spec has been changed\r\n    // return an Array of left-over blocks, if any\r\n    var i = 0,\r\n        old,\r\n        nb,\r\n        leftOver = [],\r\n        myself = this;\r\n\r\n    this.inputs().forEach(function (inp) {\r\n        old = oldInputs[i];\r\n        if (old instanceof ReporterBlockMorph) {\r\n            myself.silentReplaceInput(inp, old.fullCopy());\r\n        } else if (old && inp instanceof InputSlotMorph) {\r\n            // original - turns empty numberslots to 0:\r\n            // inp.setContents(old.evaluate());\r\n            // \"fix\" may be wrong b/c constants\r\n            if (old.contents) {\r\n                inp.setContents(old.contents().text);\r\n            }\r\n        } else if (old instanceof CSlotMorph && inp instanceof CSlotMorph) {\r\n            nb = old.nestedBlock();\r\n            if (nb) {\r\n                inp.nestedBlock(nb.fullCopy());\r\n            }\r\n        }\r\n        i += 1;\r\n    });\r\n\r\n    // gather surplus blocks\r\n    for (i; i < oldInputs.length; i += 1) {\r\n        old = oldInputs[i];\r\n        if (old instanceof ReporterBlockMorph) {\r\n            leftOver.push(old);\r\n        } else if (old instanceof CommandSlotMorph) {\r\n            nb = old.nestedBlock();\r\n            if (nb) {\r\n                leftOver.push(nb);\r\n            }\r\n        }\r\n    }\r\n    this.cachedInputs = null;\r\n    return leftOver;\r\n};\r\n\r\nBlockMorph.prototype.showHelp = function () {\r\n    var myself = this,\r\n        ide = this.parentThatIsA(IDE_Morph),\r\n        blockEditor,\r\n        pic = new Image(),\r\n        help,\r\n        comment,\r\n        block,\r\n        spec = this.isCustomBlock ?\r\n                this.definition.helpSpec() : this.selector,\r\n        ctx;\r\n\r\n    if (!ide) {\r\n        blockEditor = this.parentThatIsA(BlockEditorMorph);\r\n        if (blockEditor) {\r\n            ide = blockEditor.target.parentThatIsA(IDE_Morph);\r\n        }\r\n    }\r\n\r\n    pic.onload = function () {\r\n        help = newCanvas(new Point(pic.width, pic.height), true); // nonRetina\r\n        ctx = help.getContext('2d');\r\n        ctx.drawImage(pic, 0, 0);\r\n        new DialogBoxMorph().inform(\r\n            'Help',\r\n            null,\r\n            myself.world(),\r\n            help\r\n        );\r\n    };\r\n\r\n    if (this.isCustomBlock && this.definition.comment) {\r\n        block = this.fullCopy();\r\n        block.addShadow();\r\n        comment = this.definition.comment.fullCopy();\r\n        comment.contents.parse();\r\n        help = '';\r\n        comment.contents.lines.forEach(function (line) {\r\n            help = help + '\\n' + line;\r\n        });\r\n        new DialogBoxMorph().inform(\r\n            'Help',\r\n            help.substr(1),\r\n            myself.world(),\r\n            block.fullImage()\r\n        );\r\n    } else {\r\n        pic.src = ide.resourceURL('help', spec + '.png');\r\n    }\r\n};\r\n\r\n// BlockMorph code mapping\r\n\r\n/*\r\n    code mapping lets you use blocks to generate arbitrary text-based\r\n    source code that can be exported and compiled / embedded elsewhere,\r\n    it's not part of Snap's evaluator and not needed for Snap itself\r\n*/\r\n\r\nBlockMorph.prototype.mapToHeader = function () {\r\n    // open a dialog box letting the user map header code via the GUI\r\n    var key = this.selector.substr(0, 5) === 'reify' ?\r\n            'reify' : this.selector,\r\n        block = this.codeDefinitionHeader(),\r\n        myself = this,\r\n        help,\r\n        pic;\r\n    block.addShadow(new Point(3, 3));\r\n    pic = block.fullImageClassic();\r\n    if (this.isCustomBlock) {\r\n        help = 'Enter code that corresponds to the block\\'s definition. ' +\r\n            'Use the formal parameter\\nnames as shown and <body> to ' +\r\n            'reference the definition body\\'s generated text code.';\r\n    } else {\r\n        help = 'Enter code that corresponds to the block\\'s definition. ' +\r\n            'Choose your own\\nformal parameter names (ignoring the ones ' +\r\n            'shown).';\r\n    }\r\n    new DialogBoxMorph(\r\n        this,\r\n        function (code) {\r\n            if (key === 'evaluateCustomBlock') {\r\n                myself.definition.codeHeader = code;\r\n            } else {\r\n                StageMorph.prototype.codeHeaders[key] = code;\r\n            }\r\n        },\r\n        this\r\n    ).promptCode(\r\n        'Header mapping',\r\n        key === 'evaluateCustomBlock' ? this.definition.codeHeader || ''\r\n                 : StageMorph.prototype.codeHeaders[key] || '',\r\n        this.world(),\r\n        pic,\r\n        help\r\n    );\r\n};\r\n\r\nBlockMorph.prototype.mapToCode = function () {\r\n    // open a dialog box letting the user map code via the GUI\r\n    var key = this.selector.substr(0, 5) === 'reify' ?\r\n            'reify' : this.selector,\r\n        block = this.codeMappingHeader(),\r\n        myself = this,\r\n        pic;\r\n    block.addShadow(new Point(3, 3));\r\n    pic = block.fullImageClassic();\r\n    new DialogBoxMorph(\r\n        this,\r\n        function (code) {\r\n            if (key === 'evaluateCustomBlock') {\r\n                myself.definition.codeMapping = code;\r\n            } else {\r\n                StageMorph.prototype.codeMappings[key] = code;\r\n            }\r\n        },\r\n        this\r\n    ).promptCode(\r\n        'Code mapping',\r\n        key === 'evaluateCustomBlock' ? this.definition.codeMapping || ''\r\n                 : StageMorph.prototype.codeMappings[key] || '',\r\n        this.world(),\r\n        pic,\r\n        'Enter code that corresponds to the block\\'s operation ' +\r\n            '(usually a single\\nfunction invocation). Use <#n> to ' +\r\n            'reference actual arguments as shown.'\r\n    );\r\n};\r\n\r\nBlockMorph.prototype.mapHeader = function (aString, key) {\r\n    // primitive for programatically mapping header code\r\n    var sel = key || this.selector.substr(0, 5) === 'reify' ?\r\n            'reify' : this.selector;\r\n    if (aString) {\r\n        if (this.isCustomBlock) {\r\n            this.definition.codeHeader = aString;\r\n        } else {\r\n            StageMorph.prototype.codeHeaders[sel] = aString;\r\n        }\r\n    }\r\n};\r\n\r\nBlockMorph.prototype.mapCode = function (aString, key) {\r\n    // primitive for programatically mapping code\r\n    var sel = key || this.selector.substr(0, 5) === 'reify' ?\r\n            'reify' : this.selector;\r\n    if (aString) {\r\n        if (this.isCustomBlock) {\r\n            this.definition.codeMapping = aString;\r\n        } else {\r\n            StageMorph.prototype.codeMappings[sel] = aString;\r\n        }\r\n    }\r\n};\r\n\r\nBlockMorph.prototype.mappedCode = function (definitions) {\r\n    var key = this.selector.substr(0, 5) === 'reify' ?\r\n            'reify' : this.selector,\r\n        code,\r\n        codeLines,\r\n        count = 1,\r\n        header,\r\n        headers,\r\n        headerLines,\r\n        body,\r\n        bodyLines,\r\n        defKey = this.isCustomBlock ? this.definition.spec : key,\r\n        defs = definitions || {},\r\n        parts = [];\r\n    code = key === 'reportGetVar' ? this.blockSpec\r\n            : this.isCustomBlock ? this.definition.codeMapping || ''\r\n                    : StageMorph.prototype.codeMappings[key] || '';\r\n\r\n    // map header\r\n    if (key !== 'reportGetVar' && !defs.hasOwnProperty(defKey)) {\r\n        defs[defKey] = null; // create the property for recursive definitions\r\n        if (this.isCustomBlock) {\r\n            header = this.definition.codeHeader || '';\r\n            if (header.indexOf('<body') !== -1) { // replace with def mapping\r\n                body = '';\r\n                if (this.definition.body) {\r\n                    body = this.definition.body.expression.mappedCode(defs);\r\n                }\r\n                bodyLines = body.split('\\n');\r\n                headerLines = header.split('\\n');\r\n                headerLines.forEach(function (headerLine, idx) {\r\n                    var prefix = '',\r\n                        indent;\r\n                    if (headerLine.trimLeft().indexOf('<body') === 0) {\r\n                        indent = headerLine.indexOf('<body');\r\n                        prefix = headerLine.slice(0, indent);\r\n                    }\r\n                    headerLines[idx] = headerLine.replace(\r\n                        new RegExp('<body>'),\r\n                        bodyLines.join('\\n' + prefix)\r\n                    );\r\n                    headerLines[idx] = headerLines[idx].replace(\r\n                        new RegExp('<body>', 'g'),\r\n                        bodyLines.join('\\n')\r\n                    );\r\n                });\r\n                header = headerLines.join('\\n');\r\n            }\r\n            defs[defKey] = header;\r\n        } else {\r\n            defs[defKey] = StageMorph.prototype.codeHeaders[defKey];\r\n        }\r\n    }\r\n\r\n    codeLines = code.split('\\n');\r\n    this.inputs().forEach(function (input) {\r\n        parts.push(input.mappedCode(defs).toString());\r\n    });\r\n    parts.forEach(function (part) {\r\n        var partLines = part.split('\\n'),\r\n            placeHolder = '<#' + count + '>',\r\n            rx = new RegExp(placeHolder, 'g');\r\n        codeLines.forEach(function (codeLine, idx) {\r\n            var prefix = '',\r\n                indent;\r\n            if (codeLine.trimLeft().indexOf(placeHolder) === 0) {\r\n                indent = codeLine.indexOf(placeHolder);\r\n                prefix = codeLine.slice(0, indent);\r\n            }\r\n            codeLines[idx] = codeLine.replace(\r\n                new RegExp(placeHolder),\r\n                partLines.join('\\n' + prefix)\r\n            );\r\n            codeLines[idx] = codeLines[idx].replace(rx, partLines.join('\\n'));\r\n        });\r\n        count += 1;\r\n    });\r\n    code = codeLines.join('\\n');\r\n    if (this.nextBlock && this.nextBlock()) { // Command\r\n        code += ('\\n' + this.nextBlock().mappedCode(defs));\r\n    }\r\n    if (!definitions) { // top-level, add headers\r\n        headers = [];\r\n        Object.keys(defs).forEach(function (each) {\r\n            if (defs[each]) {\r\n                headers.push(defs[each]);\r\n            }\r\n        });\r\n        if (headers.length) {\r\n            return headers.join('\\n\\n')\r\n                + '\\n\\n'\r\n                + code;\r\n        }\r\n    }\r\n    return code;\r\n};\r\n\r\nBlockMorph.prototype.codeDefinitionHeader = function () {\r\n    var block = this.isCustomBlock ? new PrototypeHatBlockMorph(this.definition)\r\n            : SpriteMorph.prototype.blockForSelector(this.selector),\r\n        hat = new HatBlockMorph(),\r\n        count = 1;\r\n\r\n    if (this.isCustomBlock) {return block; }\r\n    block.inputs().forEach(function (input) {\r\n        var part = new TemplateSlotMorph('#' + count);\r\n        block.silentReplaceInput(input, part);\r\n        count += 1;\r\n    });\r\n    block.isPrototype = true;\r\n    hat.setCategory(\"control\");\r\n    hat.setSpec('%s');\r\n    hat.silentReplaceInput(hat.inputs()[0], block);\r\n    if (this.category === 'control') {\r\n        hat.alternateBlockColor();\r\n    }\r\n    return hat;\r\n};\r\n\r\nBlockMorph.prototype.codeMappingHeader = function () {\r\n    var block = this.isCustomBlock ? this.definition.blockInstance()\r\n            : SpriteMorph.prototype.blockForSelector(this.selector),\r\n        hat = new HatBlockMorph(),\r\n        count = 1;\r\n\r\n    block.inputs().forEach(function (input) {\r\n        var part = new TemplateSlotMorph('<#' + count + '>');\r\n        block.silentReplaceInput(input, part);\r\n        count += 1;\r\n    });\r\n    block.isPrototype = true;\r\n    hat.setCategory(\"control\");\r\n    hat.setSpec('%s');\r\n    hat.silentReplaceInput(hat.inputs()[0], block);\r\n    if (this.category === 'control') {\r\n        hat.alternateBlockColor();\r\n    }\r\n    return hat;\r\n};\r\n\r\n// Variable refactoring\r\n\r\nBlockMorph.prototype.refactorThisVar = function (justTheTemplate) {\r\n    // Rename all occurrences of the variable this block is holding,\r\n    // taking care of its lexical scope\r\n\r\n    var receiver = this.scriptTarget(),\r\n        oldName = this.instantiationSpec || this.blockSpec,\r\n        cpy = this.fullCopy();\r\n\r\n    cpy.addShadow();\r\n\r\n    new DialogBoxMorph(this, renameVarTo, this).prompt(\r\n        'Variable name',\r\n        oldName,\r\n        this.world(),\r\n        cpy.fullImage(), // pic\r\n        InputSlotMorph.prototype.getVarNamesDict.call(this)\r\n    );\r\n\r\n    function renameVarTo (newName) {\r\n        if (this.parent instanceof SyntaxElementMorph) {\r\n            if (this.parentThatIsA(BlockEditorMorph)) {\r\n                this.doRefactorBlockParameter(\r\n                    oldName,\r\n                    newName,\r\n                    justTheTemplate\r\n                );\r\n            } else if (this.parentThatIsA(RingMorph)) {\r\n                this.doRefactorRingParameter(oldName, newName, justTheTemplate);\r\n            } else {\r\n                this.doRefactorScriptVar(oldName, newName, justTheTemplate);\r\n            }\r\n        } else if (receiver.hasSpriteVariable(oldName)) {\r\n            this.doRefactorSpriteVar(oldName, newName, justTheTemplate);\r\n        } else {\r\n            this.doRefactorGlobalVar(oldName, newName, justTheTemplate);\r\n        }\r\n    }\r\n};\r\n\r\nBlockMorph.prototype.varExistsError = function (ide, where) {\r\n    ide.inform(\r\n        'Variable exists',\r\n        'A variable with this name already exists ' +\r\n        (where || 'in this context') + '.'\r\n    );\r\n};\r\n\r\nBlockMorph.prototype.doRefactorBlockParameter = function (\r\n    oldName,\r\n    newName,\r\n    justTheTemplate\r\n) {\r\n    var fragMorph = this.parentThatIsA(BlockInputFragmentMorph),\r\n        fragment = fragMorph.fragment.copy(),\r\n        definer = fragMorph.parent,\r\n        editor = this.parentThatIsA(BlockEditorMorph),\r\n        scripts = editor.body.contents;\r\n\r\n    if (definer.anyChild(function (any) {\r\n        return (any.blockSpec === newName);\r\n    })) {\r\n        this.varExistsError(editor.target.parentThatIsA(IDE_Morph));\r\n        return;\r\n    }\r\n\r\n    fragment.labelString = newName;\r\n    fragMorph.updateBlockLabel(fragment);\r\n\r\n    if (justTheTemplate) {\r\n        return;\r\n    }\r\n\r\n    scripts.children.forEach(function (script) {\r\n        script.refactorVarInStack(oldName, newName);\r\n    });\r\n};\r\n\r\nBlockMorph.prototype.doRefactorRingParameter = function (\r\n    oldName,\r\n    newName,\r\n    justTheTemplate\r\n) {\r\n    var ring = this.parentThatIsA(RingMorph),\r\n        script = ring.contents(),\r\n        tb = this.topBlock();\r\n\r\n    if (contains(ring.inputNames(), newName)) {\r\n        this.varExistsError(this.parentThatIsA(IDE_Morph));\r\n        return;\r\n    }\r\n\r\n    tb.fullChanged();\r\n    this.setSpec(newName);\r\n\r\n    if (justTheTemplate) {\r\n        tb.fullChanged();\r\n        return;\r\n    }\r\n\r\n    if (script) {\r\n        script.refactorVarInStack(oldName, newName);\r\n    }\r\n\r\n    tb.fullChanged();\r\n};\r\n\r\nBlockMorph.prototype.doRefactorScriptVar = function (\r\n    oldName,\r\n    newName,\r\n    justTheTemplate\r\n) {\r\n    var definer = this.parentThatIsA(CommandBlockMorph),\r\n        receiver, ide;\r\n\r\n    if (definer.definesScriptVariable(newName)) {\r\n        receiver = this.scriptTarget();\r\n        ide = receiver.parentThatIsA(IDE_Morph);\r\n        this.varExistsError(ide);\r\n        return;\r\n    }\r\n\r\n    this.userSetSpec(newName);\r\n\r\n    if (justTheTemplate) {\r\n        return;\r\n    }\r\n\r\n    definer.refactorVarInStack(oldName, newName, true);\r\n};\r\n\r\nBlockMorph.prototype.doRefactorSpriteVar = function (\r\n    oldName,\r\n    newName,\r\n    justTheTemplate\r\n) {\r\n    var receiver = this.scriptTarget(),\r\n        ide = receiver.parentThatIsA(IDE_Morph),\r\n        oldWatcher = receiver.findVariableWatcher(oldName),\r\n        oldValue, newWatcher;\r\n\r\n    if (receiver.hasSpriteVariable(newName)) {\r\n        this.varExistsError(ide);\r\n        return;\r\n    } else if (!isNil(ide.globalVariables.vars[newName])) {\r\n        this.varExistsError(ide, 'as a global variable');\r\n        return;\r\n    } else {\r\n        oldValue = receiver.variables.getVar(oldName);\r\n        receiver.deleteVariable(oldName);\r\n        receiver.addVariable(newName, false);\r\n        receiver.variables.setVar(newName, oldValue);\r\n\r\n        if (oldWatcher && oldWatcher.isVisible) {\r\n            newWatcher = receiver.toggleVariableWatcher(\r\n                newName,\r\n                false\r\n            );\r\n            newWatcher.setPosition(oldWatcher.position());\r\n        }\r\n\r\n        if (!justTheTemplate) {\r\n            receiver.refactorVariableInstances(\r\n                oldName,\r\n                newName,\r\n                false\r\n            );\r\n            receiver.customBlocks.forEach(function (eachBlock) {\r\n                eachBlock.body.expression.refactorVarInStack(\r\n                    oldName,\r\n                    newName\r\n                );\r\n            });\r\n        }\r\n    }\r\n\r\n    ide.flushBlocksCache('variables');\r\n    ide.refreshPalette();\r\n};\r\n\r\nBlockMorph.prototype.doRefactorGlobalVar = function (\r\n    oldName,\r\n    newName,\r\n    justTheTemplate\r\n) {\r\n    var receiver = this.scriptTarget(),\r\n        ide = receiver.parentThatIsA(IDE_Morph),\r\n        stage = ide ? ide.stage : null,\r\n        oldWatcher = receiver.findVariableWatcher(oldName),\r\n        oldValue, newWatcher;\r\n\r\n    if (!isNil(ide.globalVariables.vars[newName])) {\r\n        this.varExistsError(ide);\r\n        return;\r\n    } else if (\r\n            detect(\r\n                stage.children,\r\n                function (any) {\r\n                    return any instanceof SpriteMorph &&\r\n                        any.hasSpriteVariable(newName);\r\n                })\r\n            ) {\r\n        this.varExistsError(ide, 'as a sprite local variable');\r\n        return;\r\n    } else {\r\n        oldValue = ide.globalVariables.getVar(oldName);\r\n        stage.deleteVariable(oldName);\r\n        stage.addVariable(newName, true);\r\n        ide.globalVariables.setVar(newName, oldValue);\r\n\r\n        if (oldWatcher && oldWatcher.isVisible) {\r\n            newWatcher = receiver.toggleVariableWatcher(\r\n                    newName,\r\n                    true\r\n                    );\r\n            newWatcher.setPosition(oldWatcher.position());\r\n        }\r\n\r\n        if (!justTheTemplate) {\r\n            stage.refactorVariableInstances(\r\n                oldName,\r\n                newName,\r\n                true\r\n            );\r\n            stage.globalBlocks.forEach(function (eachBlock) {\r\n                eachBlock.body.expression.refactorVarInStack(\r\n                    oldName,\r\n                    newName\r\n                );\r\n            });\r\n            stage.forAllChildren(function (child) {\r\n                if (child instanceof SpriteMorph) {\r\n                    child.refactorVariableInstances(\r\n                        oldName,\r\n                        newName,\r\n                        true\r\n                    );\r\n                    child.customBlocks.forEach(\r\n                        function (eachBlock) {\r\n                            eachBlock.body.expression\r\n                                .refactorVarInStack(\r\n                                    oldName,\r\n                                    newName\r\n                                );\r\n                        }\r\n                    );\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    ide.flushBlocksCache('variables');\r\n    ide.refreshPalette();\r\n};\r\n\r\n// BlockMorph drawing\r\n\r\nBlockMorph.prototype.eraseHoles = function (context) {\r\n    var myself = this,\r\n        isRing = this instanceof RingMorph,\r\n        shift = this.edge * 0.5,\r\n        gradient,\r\n        rightX,\r\n        holes = this.parts().filter(function (part) {\r\n            return part.isHole;\r\n        });\r\n\r\n    if (this.isPredicate && (holes.length > 0)) {\r\n        rightX = this.width() - this.rounding;\r\n        context.clearRect(\r\n            rightX,\r\n            0,\r\n            this.width(),\r\n            this.height()\r\n        );\r\n\r\n        // draw a 3D-ish vertical right edge\r\n        gradient = context.createLinearGradient(\r\n            rightX - this.edge,\r\n            0,\r\n            this.width(),\r\n            0\r\n        );\r\n        gradient.addColorStop(0, this.color.toString());\r\n        gradient.addColorStop(1, this.dark());\r\n        context.lineWidth = this.edge;\r\n        context.lineJoin = 'round';\r\n        context.lineCap = 'round';\r\n        context.strokeStyle = gradient;\r\n        context.beginPath();\r\n        context.moveTo(rightX - shift, this.edge + shift);\r\n        context.lineTo(rightX - shift, this.height() - this.edge - shift);\r\n        context.stroke();\r\n    }\r\n    holes.forEach(function (hole) {\r\n        var w = hole.width(),\r\n            h = Math.floor(hole.height()) - 2; // Opera needs this\r\n        context.clearRect(\r\n            hole.bounds.origin.x - myself.bounds.origin.x + 1,\r\n            hole.bounds.origin.y - myself.bounds.origin.y + 1,\r\n            isRing ? w - 2 : w + 1,\r\n            h\r\n        );\r\n    });\r\n\r\n};\r\n\r\n// BlockMorph highlighting\r\n\r\nBlockMorph.prototype.addHighlight = function (oldHighlight) {\r\n    var isHidden = !this.isVisible,\r\n        highlight;\r\n\r\n    if (isHidden) {this.show(); }\r\n    highlight = this.highlight(\r\n        oldHighlight ? oldHighlight.color : this.activeHighlight,\r\n        this.activeBlur,\r\n        this.activeBorder\r\n    );\r\n    this.addBack(highlight);\r\n    this.fullChanged();\r\n    if (isHidden) {this.hide(); }\r\n    return highlight;\r\n};\r\n\r\nBlockMorph.prototype.addErrorHighlight = function () {\r\n    var isHidden = !this.isVisible,\r\n        highlight;\r\n\r\n    if (isHidden) {this.show(); }\r\n    this.removeHighlight();\r\n    highlight = this.highlight(\r\n        this.errorHighlight,\r\n        this.activeBlur,\r\n        this.activeBorder\r\n    );\r\n    this.addBack(highlight);\r\n    this.fullChanged();\r\n    if (isHidden) {this.hide(); }\r\n    return highlight;\r\n};\r\n\r\nBlockMorph.prototype.removeHighlight = function () {\r\n    var highlight = this.getHighlight();\r\n    if (highlight !== null) {\r\n        this.fullChanged();\r\n        this.removeChild(highlight);\r\n    }\r\n    return highlight;\r\n};\r\n\r\nBlockMorph.prototype.toggleHighlight = function () {\r\n    if (this.getHighlight()) {\r\n        this.removeHighlight();\r\n    } else {\r\n        this.addHighlight();\r\n    }\r\n};\r\n\r\nBlockMorph.prototype.highlight = function (color, blur, border) {\r\n    var highlight = new BlockHighlightMorph(),\r\n        fb = this.fullBounds(),\r\n        edge = useBlurredShadows && !MorphicPreferences.isFlat ?\r\n                blur : border;\r\n    highlight.setExtent(fb.extent().add(edge * 2));\r\n    highlight.color = color;\r\n    highlight.image = useBlurredShadows && !MorphicPreferences.isFlat ?\r\n            this.highlightImageBlurred(color, blur)\r\n                : this.highlightImage(color, border);\r\n    highlight.setPosition(fb.origin.subtract(new Point(edge, edge)));\r\n    return highlight;\r\n};\r\n\r\nBlockMorph.prototype.highlightImage = function (color, border) {\r\n    var fb, img, hi, ctx, out;\r\n    fb = this.fullBounds().extent();\r\n    img = this.fullImage();\r\n\r\n    hi = newCanvas(fb.add(border * 2));\r\n    ctx = hi.getContext('2d');\r\n\r\n    ctx.drawImage(img, 0, 0);\r\n    ctx.drawImage(img, border, 0);\r\n    ctx.drawImage(img, border * 2, 0);\r\n    ctx.drawImage(img, border * 2, border);\r\n    ctx.drawImage(img, border * 2, border * 2);\r\n    ctx.drawImage(img, border, border * 2);\r\n    ctx.drawImage(img, 0, border * 2);\r\n    ctx.drawImage(img, 0, border);\r\n\r\n    ctx.globalCompositeOperation = 'destination-out';\r\n    ctx.drawImage(img, border, border);\r\n\r\n    out = newCanvas(fb.add(border * 2));\r\n    ctx = out.getContext('2d');\r\n    ctx.drawImage(hi, 0, 0);\r\n    ctx.globalCompositeOperation = 'source-atop';\r\n    ctx.fillStyle = color.toString();\r\n    ctx.fillRect(0, 0, out.width, out.height);\r\n\r\n    return out;\r\n};\r\n\r\nBlockMorph.prototype.highlightImageBlurred = function (color, blur) {\r\n    var fb, img, hi, ctx;\r\n    fb = this.fullBounds().extent();\r\n    img = this.fullImage();\r\n\r\n    hi = newCanvas(fb.add(blur * 2));\r\n    ctx = hi.getContext('2d');\r\n    ctx.shadowBlur = blur;\r\n    ctx.shadowColor = color.toString();\r\n    ctx.drawImage(img, blur, blur);\r\n\r\n    ctx.shadowBlur = 0;\r\n    ctx.globalCompositeOperation = 'destination-out';\r\n    ctx.drawImage(img, blur, blur);\r\n    return hi;\r\n};\r\n\r\nBlockMorph.prototype.getHighlight = function () {\r\n    var highlights;\r\n    highlights = this.children.slice(0).reverse().filter(\r\n        function (child) {\r\n            return child instanceof BlockHighlightMorph;\r\n        }\r\n    );\r\n    if (highlights.length !== 0) {\r\n        return highlights[0];\r\n    }\r\n    return null;\r\n};\r\n\r\nBlockMorph.prototype.outline = function (color, border) {\r\n    var highlight = new BlockHighlightMorph(),\r\n        fb = this.fullBounds(),\r\n        edge = border;\r\n    highlight.setExtent(fb.extent().add(edge * 2));\r\n    highlight.color = color;\r\n    highlight.image = this.highlightImage(color, border);\r\n    highlight.setPosition(fb.origin.subtract(new Point(edge, edge)));\r\n    return highlight;\r\n};\r\n\r\n// BlockMorph zebra coloring\r\n\r\nBlockMorph.prototype.fixBlockColor = function (nearestBlock, isForced) {\r\n    var nearest = nearestBlock,\r\n        clr,\r\n        cslot;\r\n\r\n    if (!this.zebraContrast && !isForced) {\r\n        return;\r\n    }\r\n    if (!this.zebraContrast && isForced) {\r\n        return this.forceNormalColoring(true);\r\n    }\r\n\r\n    if (!nearest) {\r\n        if (this.parent) {\r\n            if (this.isPrototype) {\r\n                nearest = null; // this.parent; // the PrototypeHatBlockMorph\r\n            } else if (this instanceof ReporterBlockMorph) {\r\n                nearest = this.parent.parentThatIsA(BlockMorph);\r\n            } else { // command\r\n                cslot = this.parentThatIsA(CommandSlotMorph);\r\n                if (cslot) {\r\n                    nearest = cslot.parentThatIsA(BlockMorph);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    if (!nearest) { // top block\r\n        clr = SpriteMorph.prototype.blockColor[this.category];\r\n        if (!this.color.eq(clr)) {\r\n            this.alternateBlockColor();\r\n        }\r\n    } else if (nearest.category === this.category) {\r\n        if (nearest.color.eq(this.color)) {\r\n            this.alternateBlockColor();\r\n        }\r\n    } else if (this.category && !this.color.eq(\r\n            SpriteMorph.prototype.blockColor[this.category]\r\n        )) {\r\n        this.alternateBlockColor();\r\n    }\r\n    if (isForced) {\r\n        this.fixChildrensBlockColor(true);\r\n    }\r\n};\r\n\r\nBlockMorph.prototype.forceNormalColoring = function (silently) {\r\n    var clr = SpriteMorph.prototype.blockColor[this.category];\r\n    this.setColor(clr, silently);\r\n    this.setLabelColor(\r\n        new Color(255, 255, 255),\r\n        clr.darker(this.labelContrast),\r\n        new Point(-1, -1)\r\n    );\r\n    this.fixChildrensBlockColor(true);\r\n};\r\n\r\nBlockMorph.prototype.alternateBlockColor = function () {\r\n    var clr = SpriteMorph.prototype.blockColor[this.category];\r\n\r\n    if (this.color.eq(clr)) {\r\n        this.setColor(\r\n            this.zebraContrast < 0 ? clr.darker(Math.abs(this.zebraContrast))\r\n                : clr.lighter(this.zebraContrast),\r\n            this.hasLabels() // silently\r\n        );\r\n    } else {\r\n        this.setColor(clr, this.hasLabels()); // silently\r\n    }\r\n    this.fixLabelColor();\r\n    this.fixChildrensBlockColor(true); // has issues if not forced\r\n};\r\n\r\nBlockMorph.prototype.ghost = function () {\r\n    this.setColor(\r\n        SpriteMorph.prototype.blockColor[this.category].lighter(35)\r\n    );\r\n};\r\n\r\nBlockMorph.prototype.fixLabelColor = function () {\r\n    if (this.zebraContrast > 0 && this.category) {\r\n        var clr = SpriteMorph.prototype.blockColor[this.category];\r\n        if (this.color.eq(clr)) {\r\n            this.setLabelColor(\r\n                new Color(255, 255, 255),\r\n                clr.darker(this.labelContrast),\r\n                MorphicPreferences.isFlat ? null : new Point(-1, -1)\r\n            );\r\n        } else {\r\n            this.setLabelColor(\r\n                new Color(0, 0, 0),\r\n                clr.lighter(this.zebraContrast)\r\n                    .lighter(this.labelContrast * 2),\r\n                MorphicPreferences.isFlat ? null : new Point(1, 1)\r\n            );\r\n        }\r\n    }\r\n};\r\n\r\nBlockMorph.prototype.fixChildrensBlockColor = function (isForced) {\r\n    var myself = this;\r\n    this.children.forEach(function (morph) {\r\n        if (morph instanceof CommandBlockMorph) {\r\n            morph.fixBlockColor(null, isForced);\r\n        } else if (morph instanceof SyntaxElementMorph) {\r\n            morph.fixBlockColor(myself, isForced);\r\n            if (morph instanceof BooleanSlotMorph) {\r\n                morph.drawNew();\r\n            }\r\n        }\r\n    });\r\n};\r\n\r\nBlockMorph.prototype.setCategory = function (aString) {\r\n    this.category = aString;\r\n    this.startLayout();\r\n    this.fixBlockColor();\r\n    this.endLayout();\r\n};\r\n\r\nBlockMorph.prototype.hasLabels = function () {\r\n    return this.children.some(function (any) {\r\n        return any instanceof StringMorph;\r\n    });\r\n};\r\n\r\n// BlockMorph copying\r\n\r\nBlockMorph.prototype.fullCopy = function () {\r\n    var ans = BlockMorph.uber.fullCopy.call(this);\r\n    ans.removeHighlight();\r\n    ans.isDraggable = true;\r\n    if (this.instantiationSpec) {\r\n        ans.setSpec(this.instantiationSpec);\r\n    }\r\n    ans.allChildren().filter(function (block) {\r\n        if (block instanceof SyntaxElementMorph) {\r\n            block.cachedInputs = null;\r\n            if (block.isCustomBlock) {\r\n                block.initializeVariables();\r\n            }\r\n        }\r\n        return !isNil(block.comment);\r\n    }).forEach(function (block) {\r\n        var cmnt = block.comment.fullCopy();\r\n        block.comment = cmnt;\r\n        cmnt.block = block;\r\n    });\r\n    ans.cachedInputs = null;\r\n    return ans;\r\n};\r\n\r\nBlockMorph.prototype.reactToTemplateCopy = function () {\r\n    this.forceNormalColoring();\r\n};\r\n\r\nBlockMorph.prototype.hasBlockVars = function () {\r\n    return this.anyChild(function (any) {\r\n        return any.isCustomBlock &&\r\n            any.isGlobal &&\r\n            any.definition.variableNames.length;\r\n    });\r\n};\r\n\r\n// BlockMorph events\r\n\r\nBlockMorph.prototype.mouseClickLeft = function () {\r\n    var top = this.topBlock(),\r\n        receiver = top.scriptTarget(),\r\n        shiftClicked = this.world().currentKey === 16,\r\n        stage;\r\n    if (shiftClicked && !this.isTemplate) {\r\n        return this.selectForEdit().focus(); // enable coopy-on-edit\r\n    }\r\n    if (top instanceof PrototypeHatBlockMorph) {\r\n        return top.mouseClickLeft();\r\n    }\r\n    if (receiver) {\r\n        stage = receiver.parentThatIsA(StageMorph);\r\n        if (stage) {\r\n            stage.threads.toggleProcess(top, receiver);\r\n        }\r\n    }\r\n};\r\n\r\nBlockMorph.prototype.focus = function () {\r\n    var scripts = this.parentThatIsA(ScriptsMorph),\r\n        world = this.world(),\r\n        focus;\r\n    if (!scripts || !ScriptsMorph.prototype.enableKeyboard) {return; }\r\n    if (scripts.focus) {scripts.focus.stopEditing(); }\r\n    world.stopEditing();\r\n    focus = new ScriptFocusMorph(scripts, this);\r\n    scripts.focus = focus;\r\n    focus.getFocus(world);\r\n    if (this instanceof HatBlockMorph) {\r\n        focus.nextCommand();\r\n    }\r\n};\r\n\r\nBlockMorph.prototype.activeProcess = function () {\r\n    var top = this.topBlock(),\r\n        receiver = top.scriptTarget(),\r\n        stage;\r\n    if (top instanceof PrototypeHatBlockMorph) {\r\n        return null;\r\n    }\r\n    if (receiver) {\r\n        stage = receiver.parentThatIsA(StageMorph);\r\n        if (stage) {\r\n            return stage.threads.findProcess(top, receiver);\r\n        }\r\n    }\r\n    return null;\r\n};\r\n\r\n// BlockMorph thumbnail and script pic\r\n\r\nBlockMorph.prototype.thumbnail = function (scale, clipWidth) {\r\n    var nb = this.nextBlock(),\r\n        fadeout = 12,\r\n        ext,\r\n        trgt,\r\n        ctx,\r\n        gradient;\r\n\r\n    if (nb) {nb.isVisible = false; }\r\n    ext = this.fullBounds().extent();\r\n    trgt = newCanvas(new Point(\r\n        clipWidth ? Math.min(ext.x * scale, clipWidth) : ext.x * scale,\r\n        ext.y * scale\r\n    ));\r\n    ctx = trgt.getContext('2d');\r\n    ctx.scale(scale, scale);\r\n    ctx.drawImage(this.fullImage(), 0, 0);\r\n    // draw fade-out\r\n    if (clipWidth && ext.x * scale > clipWidth) {\r\n        gradient = ctx.createLinearGradient(\r\n            trgt.width / scale - fadeout,\r\n            0,\r\n            trgt.width / scale,\r\n            0\r\n        );\r\n        gradient.addColorStop(0, 'transparent');\r\n        gradient.addColorStop(1, 'black');\r\n        ctx.globalCompositeOperation = 'destination-out';\r\n        ctx.fillStyle = gradient;\r\n        ctx.fillRect(\r\n            trgt.width / scale - fadeout,\r\n            0,\r\n            trgt.width / scale,\r\n            trgt.height / scale\r\n        );\r\n    }\r\n    if (nb) {nb.isVisible = true; }\r\n    return trgt;\r\n};\r\n\r\nBlockMorph.prototype.scriptPic = function () {\r\n    // answer a canvas image that also includes comments\r\n    var scr = this.fullImage(),\r\n        fb = this.stackFullBounds(),\r\n        pic = newCanvas(fb.extent()),\r\n        ctx = pic.getContext('2d');\r\n    this.allComments().forEach(function (comment) {\r\n        ctx.drawImage(\r\n            comment.fullImageClassic(),\r\n            comment.fullBounds().left() - fb.left(),\r\n            comment.top() - fb.top()\r\n        );\r\n    });\r\n    ctx.drawImage(scr, 0, 0);\r\n    return pic;\r\n};\r\n\r\n// BlockMorph local method indicator drawing\r\n\r\nBlockMorph.prototype.drawMethodIcon = function (context) {\r\n    var ext = this.methodIconExtent(),\r\n        w = ext.x,\r\n        h = ext.y,\r\n        r = w / 2,\r\n        x = this.edge + this.labelPadding,\r\n        y = this.edge,\r\n        isNormal =\r\n            this.color === SpriteMorph.prototype.blockColor[this.category];\r\n\r\n    if (this.isPredicate) {\r\n        x = this.rounding;\r\n    }\r\n    if (this instanceof CommandBlockMorph) {\r\n        y += this.corner;\r\n    }\r\n    context.fillStyle = isNormal ? this.cachedClrBright : this.cachedClrDark;\r\n\r\n    // pin\r\n    context.beginPath();\r\n    context.arc(x + r, y + r, r, radians(-210), radians(30), false);\r\n    context.lineTo(x + r, y + h);\r\n    context.closePath();\r\n    context.fill();\r\n\r\n    // hole\r\n    context.fillStyle = this.cachedClr;\r\n    context.beginPath();\r\n    context.arc(x + r, y + r, r * 0.4, radians(0), radians(360), false);\r\n    context.closePath();\r\n    context.fill();\r\n};\r\n\r\n// BlockMorph dragging and dropping\r\n\r\nBlockMorph.prototype.rootForGrab = function () {\r\n    var testOrigin = String(this.parent).search(\"FrameMorph\");\r\n    if (testOrigin > 0) {\r\n        grabOrigine = \"palette\"\r\n    } else {\r\n        grabOrigine = \"stage\"\r\n    }\r\n    return this;\r\n};\r\n\r\n/*\r\n    for demo purposes, allows you to drop arg morphs onto\r\n    blocks and forces a layout update. This section has\r\n    no relevance in end user mode.\r\n*/\r\n\r\nBlockMorph.prototype.wantsDropOf = function (aMorph) {\r\n    // override the inherited method\r\n    return (aMorph instanceof ArgMorph\r\n        || aMorph instanceof StringMorph\r\n        || aMorph instanceof TextMorph\r\n    ) && !this.isTemplate;\r\n};\r\n\r\nBlockMorph.prototype.reactToDropOf = function (droppedMorph) {\r\n    droppedMorph.isDraggable = false;\r\n    if (droppedMorph instanceof InputSlotMorph) {\r\n        droppedMorph.drawNew();\r\n    } else if (droppedMorph instanceof MultiArgMorph) {\r\n        droppedMorph.fixLayout();\r\n    }\r\n    this.fixLayout();\r\n    this.buildSpec();\r\n};\r\n\r\nBlockMorph.prototype.situation = function () {\r\n    // answer a dictionary specifying where I am right now, so\r\n    // I can slide back to it if I'm dropped somewhere else\r\n    if (!(this.parent instanceof TemplateSlotMorph)) {\r\n        var scripts = this.parentThatIsA(ScriptsMorph);\r\n        if (scripts) {\r\n            return {\r\n                origin: scripts,\r\n                position: this.position().subtract(scripts.position())\r\n            };\r\n        }\r\n    }\r\n    return BlockMorph.uber.situation.call(this);\r\n};\r\n\r\n// BlockMorph sticky comments\r\n\r\nBlockMorph.prototype.prepareToBeGrabbed = function (hand) {\r\n    var myself = this;\r\n    this.allComments().forEach(function (comment) {\r\n        comment.startFollowing(myself, hand.world);\r\n    });\r\n};\r\n\r\nBlockMorph.prototype.justDropped = function () {\r\n   \r\n    this.alpha = 1;\r\n    this.allComments().forEach(function (comment) {\r\n        comment.stopFollowing();\r\n    });\r\n};\r\n\r\nBlockMorph.prototype.allComments = function () {\r\n    return this.allChildren().filter(function (block) {\r\n        return !isNil(block.comment);\r\n    }).map(function (block) {\r\n        return block.comment;\r\n    });\r\n};\r\n\r\nBlockMorph.prototype.destroy = function (justThis) {\r\n    // private - use IDE_Morph.removeBlock() to first stop all my processes\r\n    morphRemover(this); // Remove Block jp \r\n    if (justThis) {\r\n        if (!isNil(this.comment)) {\r\n            this.comment.destroy();\r\n        }\r\n    } else {\r\n        this.allComments().forEach(function (comment) {\r\n            comment.destroy();\r\n        });\r\n    }\r\n    BlockMorph.uber.destroy.call(this);\r\n};\r\n\r\nBlockMorph.prototype.stackHeight = function () {\r\n    var fb = this.fullBounds(),\r\n        commentsBottom = Math.max(this.allComments().map(\r\n            function (comment) {return comment.bottom(); }\r\n        )) || this.bottom();\r\n    return Math.max(fb.bottom(), commentsBottom) - fb.top();\r\n};\r\n\r\nBlockMorph.prototype.stackFullBounds = function () {\r\n    var fb = this.fullBounds();\r\n    this.allComments().forEach(function (comment) {\r\n        fb.mergeWith(comment.bounds);\r\n    });\r\n    return fb;\r\n};\r\n\r\nBlockMorph.prototype.stackWidth = function () {\r\n    var fb = this.fullBounds(),\r\n        commentsRight = Math.max(this.allComments().map(\r\n            function (comment) {return comment.right(); }\r\n        )) || this.right();\r\n    return Math.max(fb.right(), commentsRight) - fb.left();\r\n};\r\n\r\nBlockMorph.prototype.snap = function () {\r\n    var top = this.topBlock(),\r\n        receiver,\r\n        stage,\r\n        ide;\r\n    morphOnSet(this);\r\n    top.allComments().forEach(function (comment) {\r\n        comment.align(top);\r\n    });\r\n    // fix highlights, if any\r\n    if (this.getHighlight() && (this !== top)) {\r\n        this.removeHighlight();\r\n    }\r\n    if (top.getHighlight()) {\r\n        top.addHighlight(top.removeHighlight());\r\n    }\r\n    // register generic hat blocks\r\n    if (this.selector === 'receiveCondition') {\r\n        receiver = top.scriptTarget();\r\n        if (receiver) {\r\n            stage = receiver.parentThatIsA(StageMorph);\r\n            if (stage) {\r\n                stage.enableCustomHatBlocks = true;\r\n                stage.threads.pauseCustomHatBlocks = false;\r\n                ide = stage.parentThatIsA(IDE_Morph);\r\n                if (ide) {\r\n                    ide.controlBar.stopButton.refresh();\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\n// CommandBlockMorph ///////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a stackable jigsaw-shaped block.\r\n\r\n    I inherit from BlockMorph adding the following most important\r\n    public accessors:\r\n\r\n        nextBlock()       - set / get the block attached to my bottom\r\n        bottomBlock()     - answer the bottom block of my stack\r\n        blockSequence()   - answer an array of blocks starting with myself\r\n\r\n    and the following \"lexical awareness\" indicators:\r\n\r\n        partOfCustomCommand - temporary bool set by the evaluator\r\n        exitTag           - temporary string or number set by the evaluator\r\n*/\r\n\r\n// CommandBlockMorph inherits from BlockMorph:\r\n\r\nCommandBlockMorph.prototype = new BlockMorph();\r\nCommandBlockMorph.prototype.constructor = CommandBlockMorph;\r\nCommandBlockMorph.uber = BlockMorph.prototype;\r\n\r\n// CommandBlockMorph instance creation:\r\n\r\nfunction CommandBlockMorph() {\r\n    this.init();\r\n}\r\n\r\nCommandBlockMorph.prototype.init = function (silently) {\r\n    CommandBlockMorph.uber.init.call(this, silently);\r\n    this.setExtent(new Point(200, 100), silently);\r\n    this.partOfCustomCommand = false;\r\n    this.exitTag = null;\r\n    // this.cachedNextBlock = null; // don't serialize\r\n};\r\n\r\n// CommandBlockMorph enumerating:\r\n\r\nCommandBlockMorph.prototype.blockSequence = function () {\r\n    var nb = this.nextBlock(),\r\n        result = [this];\r\n    if (nb) {\r\n        result = result.concat(nb.blockSequence());\r\n    }\r\n    return result;\r\n};\r\n\r\nCommandBlockMorph.prototype.bottomBlock = function () {\r\n    // topBlock() also exists - inherited from SyntaxElementMorph\r\n    if (this.nextBlock()) {\r\n        return this.nextBlock().bottomBlock();\r\n    }\r\n    return this;\r\n};\r\n\r\nCommandBlockMorph.prototype.nextBlock = function (block) {\r\n    // set / get the block attached to my bottom\r\n    if (block) {\r\n        var nb = this.nextBlock(),\r\n            affected = this.parentThatIsA(CommandSlotMorph);\r\n        this.add(block);\r\n        // this.cachedNextBlock = block;\r\n        if (nb) {\r\n            block.bottomBlock().nextBlock(nb);\r\n        }\r\n        block.setPosition(\r\n            new Point(\r\n                this.left(),\r\n                this.bottom() - (this.corner)\r\n            )\r\n        );\r\n        if (affected) {\r\n            affected.fixLayout();\r\n        }\r\n    } else {\r\n        /* cachedNextBlock - has issues, disabled for now\r\n        if (!this.cachedNextBlock) {\r\n            this.cachedNextBlock = detect(\r\n                this.children,\r\n                function (child) {\r\n                    return child instanceof CommandBlockMorph\r\n                        && !child.isPrototype;\r\n                }\r\n            );\r\n        }\r\n        return this.cachedNextBlock;\r\n        */\r\n        return detect(\r\n            this.children,\r\n            function (child) {\r\n                return child instanceof CommandBlockMorph\r\n                    && !child.isPrototype;\r\n            }\r\n        );\r\n    }\r\n};\r\n\r\n// CommandBlockMorph attach targets:\r\n\r\nCommandBlockMorph.prototype.topAttachPoint = function () {\r\n    return new Point(\r\n        this.dentCenter(),\r\n        this.top()\r\n    );\r\n};\r\n\r\nCommandBlockMorph.prototype.bottomAttachPoint = function () {\r\n    return new Point(\r\n        this.dentCenter(),\r\n        this.bottom()\r\n    );\r\n};\r\n\r\nCommandBlockMorph.prototype.wrapAttachPoint = function () {\r\n    var cslot = detect( // could be a method making uses of caching...\r\n        this.inputs(), // ... although these already are cached\r\n        function (each) {return each instanceof CSlotMorph; }\r\n    );\r\n    if (cslot && !cslot.nestedBlock()) {\r\n        return new Point(\r\n            cslot.left() + (cslot.inset * 2) + cslot.corner,\r\n            cslot.top() + (cslot.corner * 2)\r\n        );\r\n    }\r\n    return null;\r\n};\r\n\r\nCommandBlockMorph.prototype.dentLeft = function () {\r\n    return this.left()\r\n        + this.corner\r\n        + this.inset;\r\n};\r\n\r\nCommandBlockMorph.prototype.dentCenter = function () {\r\n    return this.dentLeft()\r\n        + this.corner\r\n        + (this.dent * 0.5);\r\n};\r\n\r\nCommandBlockMorph.prototype.attachTargets = function () {\r\n    var answer = [],\r\n        tp;\r\n    if (!(this instanceof HatBlockMorph)) {\r\n        tp = this.topAttachPoint();\r\n        if (!(this.parent instanceof SyntaxElementMorph)) {\r\n            answer.push({\r\n                point: tp,\r\n                element: this,\r\n                loc: 'top',\r\n                type: 'block'\r\n            });\r\n        }\r\n        if (ScriptsMorph.prototype.enableNestedAutoWrapping ||\r\n                !this.parentThatIsA(CommandSlotMorph)) {\r\n            answer.push({\r\n                point: tp,\r\n                element: this,\r\n                loc: 'wrap',\r\n                type: 'block'\r\n            });\r\n        }\r\n    }\r\n    if (!this.isStop()) {\r\n        answer.push({\r\n            point: this.bottomAttachPoint(),\r\n            element: this,\r\n            loc: 'bottom',\r\n            type: 'block'\r\n        });\r\n    }\r\n    return answer;\r\n};\r\n\r\nCommandBlockMorph.prototype.allAttachTargets = function (newParent) {\r\n    var myself = this,\r\n        target = newParent || this.parent,\r\n        answer = [],\r\n        topBlocks;\r\n\r\n    if (this instanceof HatBlockMorph && newParent.rejectsHats) {\r\n        return answer;\r\n    }\r\n    topBlocks = target.children.filter(function (child) {\r\n        return (child !== myself) &&\r\n            child instanceof SyntaxElementMorph &&\r\n            !child.isTemplate;\r\n    });\r\n    topBlocks.forEach(function (block) {\r\n        block.forAllChildren(function (child) {\r\n            if (child.attachTargets) {\r\n                child.attachTargets().forEach(function (at) {\r\n                    answer.push(at);\r\n                });\r\n            }\r\n        });\r\n    });\r\n    return answer;\r\n};\r\n\r\nCommandBlockMorph.prototype.closestAttachTarget = function (newParent) {\r\n    var target = newParent || this.parent,\r\n        bottomBlock = this.bottomBlock(),\r\n        answer = null,\r\n        thresh = Math.max(\r\n            this.corner * 2 + this.dent,\r\n            this.minSnapDistance\r\n        ),\r\n        dist,\r\n        ref = [],\r\n        minDist = 1000,\r\n        wrap;\r\n\r\n    if (!(this instanceof HatBlockMorph)) {\r\n        ref.push(\r\n            {\r\n                point: this.topAttachPoint(),\r\n                loc: 'top'\r\n            }\r\n        );\r\n        wrap = this.wrapAttachPoint();\r\n        if (wrap) {\r\n            ref.push(\r\n                {\r\n                    point: wrap,\r\n                    loc: 'wrap'\r\n                }\r\n            );\r\n        }\r\n    }\r\n    if (!bottomBlock.isStop()) {\r\n        ref.push(\r\n            {\r\n                point: bottomBlock.bottomAttachPoint(),\r\n                loc: 'bottom'\r\n            }\r\n        );\r\n    }\r\n    this.allAttachTargets(target).forEach(function (eachTarget) {\r\n        ref.forEach(function (eachRef) {\r\n            // match: either both locs are 'wrap' or both are different,\r\n            // none being 'wrap' (can this be expressed any better?)\r\n            if ((eachRef.loc === 'wrap' && (eachTarget.loc === 'wrap')) ||\r\n                ((eachRef.loc !== eachTarget.loc) &&\r\n                    (eachRef.loc !== 'wrap') && (eachTarget.loc !== 'wrap'))\r\n            ) {\r\n                dist = eachRef.point.distanceTo(eachTarget.point);\r\n                if ((dist < thresh) && (dist < minDist)) {\r\n                    minDist = dist;\r\n                    answer = eachTarget;\r\n                }\r\n            }\r\n        });\r\n    });\r\n    return answer;\r\n};\r\n\r\nCommandBlockMorph.prototype.snap = function (hand) {\r\n    var target = this.closestAttachTarget(),\r\n        scripts = this.parentThatIsA(ScriptsMorph),\r\n        before,\r\n        next,\r\n        offsetY,\r\n        cslot,\r\n        affected;\r\n\r\n    scripts.clearDropInfo();\r\n    scripts.lastDroppedBlock = this;\r\n    if (target === null) {\r\n        this.startLayout();\r\n        this.fixBlockColor();\r\n        this.endLayout();\r\n        CommandBlockMorph.uber.snap.call(this); // align stuck comments\r\n        if (hand) {\r\n            scripts.recordDrop(hand.grabOrigin);\r\n        }\r\n        return;\r\n    }\r\n\r\n    scripts.lastDropTarget = target;\r\n\r\n    this.startLayout();\r\n    if (target.loc === 'bottom') {\r\n        if (target.type === 'slot') {\r\n            this.removeHighlight();\r\n            scripts.lastNextBlock = target.element.nestedBlock();\r\n            target.element.nestedBlock(this);\r\n        } else {\r\n            scripts.lastNextBlock = target.element.nextBlock();\r\n            target.element.nextBlock(this);\r\n        }\r\n        if (this.isStop()) {\r\n            next = this.nextBlock();\r\n            if (next) {\r\n                scripts.add(next);\r\n                next.moveBy(this.extent().floorDivideBy(2));\r\n                affected = this.parentThatIsA(CommandSlotMorph);\r\n                if (affected) {\r\n                    affected.fixLayout();\r\n                }\r\n            }\r\n        }\r\n    } else if (target.loc === 'top') {\r\n        target.element.removeHighlight();\r\n        offsetY = this.bottomBlock().bottom() - this.bottom();\r\n        this.setBottom(target.element.top() + this.corner - offsetY);\r\n        this.setLeft(target.element.left());\r\n        this.bottomBlock().nextBlock(target.element);\r\n    } else if (target.loc === 'wrap') {\r\n        cslot = detect( // this should be a method making use of caching\r\n            this.inputs(), // these are already cached, so maybe it's okay\r\n            function (each) {return each instanceof CSlotMorph; }\r\n        );\r\n        // assume the cslot is (still) empty, was checked determining the target\r\n        before = (target.element.parent);\r\n        scripts.lastWrapParent = before;\r\n\r\n        // adjust position of wrapping block\r\n        this.moveBy(target.point.subtract(cslot.slotAttachPoint()));\r\n\r\n        // wrap c-slot around target\r\n        cslot.nestedBlock(target.element);\r\n        if (before instanceof CommandBlockMorph) {\r\n            before.nextBlock(this);\r\n        } else if (before instanceof CommandSlotMorph) {\r\n            before.nestedBlock(this);\r\n        }\r\n\r\n        // fix zebra coloring.\r\n        // this could probably be generalized into the fixBlockColor mechanism\r\n        target.element.blockSequence().forEach(\r\n            function (cmd) {cmd.fixBlockColor(); }\r\n        );\r\n    }\r\n    this.fixBlockColor();\r\n    this.endLayout();\r\n    CommandBlockMorph.uber.snap.call(this); // align stuck comments\r\n    if (hand) {\r\n        scripts.recordDrop(hand.grabOrigin);\r\n    }\r\n    if (this.snapSound) {\r\n        this.snapSound.play();\r\n    }\r\n};\r\n\r\nCommandBlockMorph.prototype.isStop = function () {\r\n    return ([\r\n        'doStopThis',\r\n        'doStop',\r\n        'doStopBlock',\r\n        'doStopAll',\r\n        'doForever',\r\n        'doReport',\r\n        'removeClone'\r\n    ].indexOf(this.selector) > -1);\r\n};\r\n\r\n// CommandBlockMorph deleting\r\n\r\nCommandBlockMorph.prototype.userDestroy = function () {\r\n    var target = this.selectForEdit(); // enable copy-on-edit\r\n    if (target !== this) {\r\n        return this.userDestroy.call(target);\r\n    }\r\n    if (this.nextBlock()) {\r\n        this.userDestroyJustThis();\r\n        return;\r\n    }\r\n\r\n    var scripts = this.parentThatIsA(ScriptsMorph),\r\n        ide = this.parentThatIsA(IDE_Morph),\r\n        parent = this.parentThatIsA(SyntaxElementMorph),\r\n        cslot = this.parentThatIsA(CSlotMorph);\r\n\r\n    // for undrop / redrop\r\n    if (scripts) {\r\n        scripts.clearDropInfo();\r\n        scripts.lastDroppedBlock = this;\r\n        scripts.recordDrop(this.situation());\r\n        scripts.dropRecord.action = 'delete';\r\n    }\r\n\r\n    if (ide) {\r\n        // also stop all active processes hatted by this block\r\n        ide.removeBlock(this);\r\n    } else {\r\n        this.destroy();\r\n    }\r\n    if (cslot) {\r\n        cslot.fixLayout();\r\n    }\r\n    if (parent) {\r\n        parent.reactToGrabOf(this); // fix highlight\r\n    }\r\n};\r\n\r\nCommandBlockMorph.prototype.userDestroyJustThis = function () {\r\n    // delete just this one block, reattach next block to the previous one,\r\n    var scripts = this.parentThatIsA(ScriptsMorph),\r\n        ide = this.parentThatIsA(IDE_Morph),\r\n        cs = this.parentThatIsA(CommandSlotMorph),\r\n        pb,\r\n        nb = this.nextBlock(),\r\n        above,\r\n        parent = this.parentThatIsA(SyntaxElementMorph),\r\n        cslot = this.parentThatIsA(CSlotMorph);\r\n\r\n    // for undrop / redrop\r\n    if (scripts) {\r\n        scripts.clearDropInfo();\r\n        scripts.lastDroppedBlock = this;\r\n        scripts.recordDrop(this.situation());\r\n        scripts.dropRecord.lastNextBlock = nb;\r\n        scripts.dropRecord.action = 'delete';\r\n    }\r\n\r\n    this.topBlock().fullChanged();\r\n    if (this.parent) {\r\n        pb = this.parent.parentThatIsA(CommandBlockMorph);\r\n    }\r\n    if (pb && (pb.nextBlock() === this)) {\r\n        above = pb;\r\n    } else if (cs && (cs.nestedBlock() === this)) {\r\n        above = cs;\r\n    }\r\n    if (ide) {\r\n        // also stop all active processes hatted by this block\r\n        ide.removeBlock(this, true); // just this block\r\n    } else {\r\n        this.destroy(true); // just this block\r\n    }\r\n    if (nb) {\r\n        if (above instanceof CommandSlotMorph) {\r\n            above.nestedBlock(nb);\r\n        } else if (above instanceof CommandBlockMorph) {\r\n            above.nextBlock(nb);\r\n        } else {\r\n            scripts.add(nb);\r\n        }\r\n    } else if (cslot) {\r\n        cslot.fixLayout();\r\n    }\r\n    if (parent) {\r\n        parent.reactToGrabOf(this); // fix highlight\r\n    }\r\n};\r\n\r\n// CommandBlockMorph drawing:\r\n\r\nCommandBlockMorph.prototype.drawNew = function () {\r\n    var context;\r\n    this.cachedClr = this.color.toString();\r\n    this.cachedClrBright = this.bright();\r\n    this.cachedClrDark = this.dark();\r\n    this.image = newCanvas(this.extent());\r\n    context = this.image.getContext('2d');\r\n    context.fillStyle = this.cachedClr;\r\n\r\n    // draw the 'flat' shape:\r\n    this.drawTop(context);\r\n    this.drawBody(context);\r\n    this.drawBottom(context);\r\n\r\n    // add 3D-Effect:\r\n    if (!MorphicPreferences.isFlat) {\r\n        this.drawTopDentEdge(context, 0, 0);\r\n        this.drawBottomDentEdge(context, 0, this.height() - this.corner);\r\n        this.drawLeftEdge(context);\r\n        this.drawRightEdge(context);\r\n        this.drawTopLeftEdge(context);\r\n        this.drawBottomRightEdge(context);\r\n    } else {\r\n        nop();\r\n       \r\n    }\r\n\r\n    // draw method icon if applicable\r\n    if (this.isCustomBlock && !this.isGlobal) {\r\n        this.drawMethodIcon(context);\r\n    }\r\n\r\n    // erase CommandSlots\r\n    this.eraseHoles(context);\r\n};\r\n\r\nCommandBlockMorph.prototype.drawBody = function (context) {\r\n    context.fillRect(\r\n        0,\r\n        Math.floor(this.corner),\r\n        this.width(),\r\n        this.height() - Math.floor(this.corner * 3) + 1\r\n    );\r\n};\r\n\r\nCommandBlockMorph.prototype.drawTop = function (context) {\r\n    context.beginPath();\r\n\r\n    // top left:\r\n    context.arc(\r\n        this.corner,\r\n        this.corner,\r\n        this.corner,\r\n        radians(-180),\r\n        radians(-90),\r\n        false\r\n    );\r\n\r\n    // dent:\r\n    this.drawDent(context, 0, 0);\r\n\r\n    // top right:\r\n    context.arc(\r\n        this.width() - this.corner,\r\n        this.corner,\r\n        this.corner,\r\n        radians(-90),\r\n        radians(-0),\r\n        false\r\n    );\r\n\r\n    context.closePath();\r\n    context.fill();\r\n};\r\n\r\nCommandBlockMorph.prototype.drawBottom = function (context) {\r\n    var y = this.height() - (this.corner * 2);\r\n\r\n    context.beginPath();\r\n\r\n    // bottom left:\r\n    context.arc(\r\n        this.corner,\r\n        y,\r\n        this.corner,\r\n        radians(180),\r\n        radians(90),\r\n        true\r\n    );\r\n\r\n    if (!this.isStop()) {\r\n        this.drawDent(context, 0, this.height() - this.corner);\r\n    }\r\n\r\n    // bottom right:\r\n    context.arc(\r\n        this.width() - this.corner,\r\n        y,\r\n        this.corner,\r\n        radians(90),\r\n        radians(0),\r\n        true\r\n    );\r\n\r\n    context.closePath();\r\n    context.fill();\r\n};\r\n\r\nCommandBlockMorph.prototype.drawDent = function (context, x, y) {\r\n    var indent = x + this.corner * 2 + this.inset;\r\n\r\n    context.lineTo(x + this.corner + this.inset, y);\r\n    context.lineTo(indent, y + this.corner);\r\n    context.lineTo(indent + this.dent, y + this.corner);\r\n    context.lineTo(x + this.corner * 3 + this.inset + this.dent, y);\r\n    context.lineTo(this.width() - this.corner, y);\r\n};\r\n\r\nCommandBlockMorph.prototype.drawTopDentEdge = function (context, x, y) {\r\n    var shift = this.edge * 0.5,\r\n        indent = x + this.corner * 2 + this.inset,\r\n        upperGradient,\r\n        lowerGradient,\r\n        leftGradient,\r\n        lgx;\r\n\r\n    context.lineWidth = this.edge;\r\n    context.lineJoin = 'round';\r\n    context.lineCap = 'round';\r\n\r\n    upperGradient = context.createLinearGradient(\r\n        0,\r\n        y,\r\n        0,\r\n        y + this.edge\r\n    );\r\n    upperGradient.addColorStop(0, this.cachedClrBright);\r\n    upperGradient.addColorStop(1, this.cachedClr);\r\n\r\n    context.strokeStyle = upperGradient;\r\n    context.beginPath();\r\n    context.moveTo(this.corner, y + shift);\r\n    context.lineTo(x + this.corner + this.inset, y + shift);\r\n    context.stroke();\r\n\r\n    context.strokeStyle = upperGradient;\r\n    context.beginPath();\r\n    context.moveTo(\r\n        x + this.corner * 3 + this.inset + this.dent + shift,\r\n        y + shift\r\n    );\r\n    context.lineTo(this.width() - this.corner, y + shift);\r\n    context.stroke();\r\n\r\n    lgx = x + this.corner + this.inset;\r\n    leftGradient = context.createLinearGradient(\r\n        lgx - this.edge,\r\n        y + this.edge,\r\n        lgx,\r\n        y\r\n    );\r\n    leftGradient.addColorStop(0, this.cachedClr);\r\n    leftGradient.addColorStop(1, this.cachedClrBright);\r\n\r\n    context.strokeStyle = leftGradient;\r\n    context.beginPath();\r\n    context.moveTo(x + this.corner + this.inset, y + shift);\r\n    context.lineTo(indent, y + this.corner + shift);\r\n    context.stroke();\r\n\r\n    lowerGradient = context.createLinearGradient(\r\n        0,\r\n        y + this.corner,\r\n        0,\r\n        y + this.corner + this.edge\r\n    );\r\n    lowerGradient.addColorStop(0, this.cachedClrBright);\r\n    lowerGradient.addColorStop(1, this.cachedClr);\r\n\r\n    context.strokeStyle = lowerGradient;\r\n    context.beginPath();\r\n    context.moveTo(indent, y + this.corner + shift);\r\n    context.lineTo(indent + this.dent, y + this.corner + shift);\r\n    context.stroke();\r\n};\r\n\r\nCommandBlockMorph.prototype.drawBottomDentEdge = function (context, x, y) {\r\n    var shift = this.edge * 0.5,\r\n        indent = x + this.corner * 2 + this.inset,\r\n        upperGradient,\r\n        lowerGradient,\r\n        rightGradient;\r\n\r\n    context.lineWidth = this.edge;\r\n    context.lineJoin = 'round';\r\n    context.lineCap = 'round';\r\n\r\n    upperGradient = context.createLinearGradient(\r\n        0,\r\n        y - this.edge,\r\n        0,\r\n        y\r\n    );\r\n    upperGradient.addColorStop(0, this.cachedClr);\r\n    upperGradient.addColorStop(1, this.cachedClrDark);\r\n\r\n    context.strokeStyle = upperGradient;\r\n    context.beginPath();\r\n    context.moveTo(this.corner, y - shift);\r\n    if (this.isStop()) {\r\n        context.lineTo(this.width() - this.corner, y - shift);\r\n    } else {\r\n        context.lineTo(x + this.corner + this.inset - shift, y - shift);\r\n    }\r\n    context.stroke();\r\n\r\n    if (this.isStop()) {    // draw straight bottom edge\r\n        return null;\r\n    }\r\n\r\n    lowerGradient = context.createLinearGradient(\r\n        0,\r\n        y + this.corner - this.edge,\r\n        0,\r\n        y + this.corner\r\n    );\r\n    lowerGradient.addColorStop(0, this.cachedClr);\r\n    lowerGradient.addColorStop(1, this.cachedClrDark);\r\n\r\n    context.strokeStyle = lowerGradient;\r\n    context.beginPath();\r\n    context.moveTo(indent + shift, y + this.corner - shift);\r\n    context.lineTo(indent + this.dent, y + this.corner - shift);\r\n    context.stroke();\r\n\r\n    rightGradient = context.createLinearGradient(\r\n        x + indent + this.dent - this.edge,\r\n        y + this.corner - this.edge,\r\n        x + indent + this.dent,\r\n        y + this.corner\r\n    );\r\n    rightGradient.addColorStop(0, this.cachedClr);\r\n    rightGradient.addColorStop(1, this.cachedClrDark);\r\n\r\n    context.strokeStyle = rightGradient;\r\n    context.beginPath();\r\n    context.moveTo(x + indent + this.dent, y + this.corner - shift);\r\n    context.lineTo(\r\n        x + this.corner * 3 + this.inset + this.dent,\r\n        y - shift\r\n    );\r\n    context.stroke();\r\n\r\n    context.strokeStyle = upperGradient;\r\n    context.beginPath();\r\n    context.moveTo(\r\n        x + this.corner * 3 + this.inset + this.dent,\r\n        y - shift\r\n    );\r\n    context.lineTo(this.width() - this.corner, y - shift);\r\n    context.stroke();\r\n};\r\n\r\nCommandBlockMorph.prototype.drawFlatBottomDentEdge = function (context) {\r\n    if (!this.isStop()) {\r\n        context.fillStyle = this.color.darker(this.contrast / 2).toString();\r\n        context.beginPath();\r\n        this.drawDent(context, 0, this.height() - this.corner);\r\n        context.closePath();\r\n        context.fill();\r\n    }\r\n};\r\n\r\nCommandBlockMorph.prototype.drawLeftEdge = function (context) {\r\n    var shift = this.edge * 0.5,\r\n        gradient = context.createLinearGradient(0, 0, this.edge, 0);\r\n\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    gradient.addColorStop(1, this.cachedClr);\r\n\r\n    context.lineWidth = this.edge;\r\n    context.lineJoin = 'round';\r\n    context.lineCap = 'round';\r\n\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(shift, this.corner);\r\n    context.lineTo(shift, this.height() - this.corner * 2 - shift);\r\n    context.stroke();\r\n};\r\n\r\nCommandBlockMorph.prototype.drawRightEdge = function (context) {\r\n    var shift = this.edge * 0.5,\r\n        x = this.width(),\r\n        gradient;\r\n\r\n    gradient = context.createLinearGradient(x - this.edge, 0, x, 0);\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    gradient.addColorStop(1, this.cachedClrDark);\r\n\r\n    context.lineWidth = this.edge;\r\n    context.lineJoin = 'round';\r\n    context.lineCap = 'round';\r\n\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(x - shift, this.corner + shift);\r\n    context.lineTo(x - shift, this.height() - this.corner * 2);\r\n    context.stroke();\r\n};\r\n\r\nCommandBlockMorph.prototype.drawTopLeftEdge = function (context) {\r\n    var shift = this.edge * 0.5,\r\n        gradient;\r\n\r\n    gradient = context.createRadialGradient(\r\n        this.corner,\r\n        this.corner,\r\n        this.corner,\r\n        this.corner,\r\n        this.corner,\r\n        this.corner - this.edge\r\n    );\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    gradient.addColorStop(1, this.cachedClr);\r\n\r\n    context.lineWidth = this.edge;\r\n    context.lineJoin = 'round';\r\n    context.lineCap = 'round';\r\n\r\n    context.strokeStyle = gradient;\r\n\r\n    context.beginPath();\r\n    context.arc(\r\n        this.corner,\r\n        this.corner,\r\n        this.corner - shift,\r\n        radians(-180),\r\n        radians(-90),\r\n        false\r\n    );\r\n    context.stroke();\r\n};\r\n\r\nCommandBlockMorph.prototype.drawBottomRightEdge = function (context) {\r\n    var shift = this.edge * 0.5,\r\n        x = this.width() - this.corner,\r\n        y = this.height() - this.corner * 2,\r\n        gradient;\r\n\r\n    gradient = context.createRadialGradient(\r\n        x,\r\n        y,\r\n        this.corner,\r\n        x,\r\n        y,\r\n        this.corner - this.edge\r\n    );\r\n    gradient.addColorStop(0, this.cachedClrDark);\r\n    gradient.addColorStop(1, this.cachedClr);\r\n\r\n    context.lineWidth = this.edge;\r\n    context.lineJoin = 'round';\r\n    context.lineCap = 'round';\r\n\r\n    context.strokeStyle = gradient;\r\n\r\n    context.beginPath();\r\n    context.arc(\r\n        x,\r\n        y,\r\n        this.corner - shift,\r\n        radians(90),\r\n        radians(0),\r\n        true\r\n    );\r\n    context.stroke();\r\n};\r\n\r\n// HatBlockMorph ///////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a script's top most block. I can attach command blocks at my\r\n    bottom, but not on top.\r\n\r\n*/\r\n\r\n// HatBlockMorph inherits from CommandBlockMorph:\r\n\r\nHatBlockMorph.prototype = new CommandBlockMorph();\r\nHatBlockMorph.prototype.constructor = HatBlockMorph;\r\nHatBlockMorph.uber = CommandBlockMorph.prototype;\r\n\r\n// HatBlockMorph instance creation:\r\n\r\nfunction HatBlockMorph() {\r\n    this.init();\r\n}\r\n\r\nHatBlockMorph.prototype.init = function () {\r\n    HatBlockMorph.uber.init.call(this, true); // silently\r\n    this.setExtent(new Point(300, 150));\r\n};\r\n\r\n// HatBlockMorph enumerating:\r\n\r\nHatBlockMorph.prototype.blockSequence = function () {\r\n    // override my inherited method so that I am not part of my sequence\r\n    var result = HatBlockMorph.uber.blockSequence.call(this);\r\n    result.shift();\r\n    return result;\r\n};\r\n\r\n// HatBlockMorph drawing:\r\n\r\nHatBlockMorph.prototype.drawTop = function (context) {\r\n    var s = this.hatWidth,\r\n        h = this.hatHeight,\r\n        r = ((4 * h * h) + (s * s)) / (8 * h),\r\n        a = degrees(4 * Math.atan(2 * h / s)),\r\n        sa = a / 2,\r\n        sp = Math.min(s * 1.7, this.width() - this.corner);\r\n\r\n    context.beginPath();\r\n\r\n    context.moveTo(0, h + this.corner);\r\n\r\n    // top arc:\r\n    context.arc(\r\n        s / 2,\r\n        r,\r\n        r,\r\n        radians(-sa - 90),\r\n        radians(-90),\r\n        false\r\n    );\r\n    context.bezierCurveTo(\r\n        s,\r\n        0,\r\n        s,\r\n        h,\r\n        sp,\r\n        h\r\n    );\r\n\r\n    // top right:\r\n    context.arc(\r\n        this.width() - this.corner,\r\n        h + this.corner,\r\n        this.corner,\r\n        radians(-90),\r\n        radians(-0),\r\n        false\r\n    );\r\n\r\n    context.closePath();\r\n    context.fill();\r\n};\r\n\r\nHatBlockMorph.prototype.drawBody = function (context) {\r\n    context.fillRect(\r\n        0,\r\n        this.hatHeight + Math.floor(this.corner) - 1,\r\n        this.width(),\r\n        this.height() - Math.floor(this.corner * 3) - this.hatHeight + 2\r\n    );\r\n};\r\n\r\nHatBlockMorph.prototype.drawLeftEdge = function (context) {\r\n    var shift = this.edge * 0.5,\r\n        gradient = context.createLinearGradient(0, 0, this.edge, 0);\r\n\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    gradient.addColorStop(1, this.cachedClr);\r\n\r\n    context.lineWidth = this.edge;\r\n    context.lineJoin = 'round';\r\n    context.lineCap = 'round';\r\n\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(shift, this.hatHeight + shift);\r\n    context.lineTo(shift, this.height() - this.corner * 2 - shift);\r\n    context.stroke();\r\n};\r\n\r\nHatBlockMorph.prototype.drawRightEdge = function (context) {\r\n    var shift = this.edge * 0.5,\r\n        x = this.width(),\r\n        gradient;\r\n\r\n    gradient = context.createLinearGradient(x - this.edge, 0, x, 0);\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    gradient.addColorStop(1, this.cachedClrDark);\r\n\r\n    context.lineWidth = this.edge;\r\n    context.lineJoin = 'round';\r\n    context.lineCap = 'round';\r\n\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(x - shift, this.corner + this.hatHeight + shift);\r\n    context.lineTo(x - shift, this.height() - this.corner * 2);\r\n    context.stroke();\r\n};\r\n\r\nHatBlockMorph.prototype.drawTopDentEdge = function () {\r\n    return null;\r\n};\r\n\r\nHatBlockMorph.prototype.drawTopLeftEdge = function (context) {\r\n    var shift = this.edge * 0.5,\r\n        s = this.hatWidth,\r\n        h = this.hatHeight,\r\n        r = ((4 * h * h) + (s * s)) / (8 * h),\r\n        a = degrees(4 * Math.atan(2 * h / s)),\r\n        sa = a / 2,\r\n        sp = Math.min(s * 1.7, this.width() - this.corner),\r\n        gradient;\r\n\r\n    gradient = context.createRadialGradient(\r\n        s / 2,\r\n        r,\r\n        r - this.edge,\r\n        s / 2,\r\n        r,\r\n        r\r\n    );\r\n    gradient.addColorStop(1, this.cachedClrBright);\r\n    gradient.addColorStop(0, this.cachedClr);\r\n\r\n    context.lineWidth = this.edge;\r\n    context.lineJoin = 'round';\r\n    context.lineCap = 'round';\r\n\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.arc(\r\n        Math.round(s / 2),\r\n        r,\r\n        r - shift,\r\n        radians(-sa - 90),\r\n        radians(-90),\r\n        false\r\n    );\r\n    context.moveTo(s / 2, shift);\r\n    context.bezierCurveTo(\r\n        s,\r\n        shift,\r\n        s,\r\n        h + shift,\r\n        sp,\r\n        h + shift\r\n    );\r\n    context.lineTo(this.width() - this.corner, h + shift);\r\n    context.stroke();\r\n};\r\n\r\n// ReporterBlockMorph //////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a block with a return value, either round-ish or diamond shaped\r\n    I inherit all my important accessors from BlockMorph\r\n*/\r\n\r\n// ReporterBlockMorph inherits from BlockMorph:\r\n\r\nReporterBlockMorph.prototype = new BlockMorph();\r\nReporterBlockMorph.prototype.constructor = ReporterBlockMorph;\r\nReporterBlockMorph.uber = BlockMorph.prototype;\r\n\r\n// ReporterBlockMorph instance creation:\r\n\r\nfunction ReporterBlockMorph(isPredicate) {\r\n    this.init(isPredicate);\r\n}\r\n\r\nReporterBlockMorph.prototype.init = function (isPredicate, silently) {\r\n    ReporterBlockMorph.uber.init.call(this, silently);\r\n    this.isPredicate = isPredicate || false;\r\n    this.setExtent(new Point(200, 80), silently);\r\n    this.cachedSlotSpec = null; // don't serialize\r\n};\r\n\r\n// ReporterBlockMorph drag & drop:\r\n\r\nReporterBlockMorph.prototype.snap = function (hand) {\r\n    // passing the hand is optional (for when blocks are dragged & dropped)\r\n    var scripts = this.parent,\r\n        nb,\r\n        target;\r\n\r\n    this.cachedSlotSpec = null;\r\n    if (!(scripts instanceof ScriptsMorph)) {\r\n        return null;\r\n    }\r\n\r\n    scripts.clearDropInfo();\r\n    scripts.lastDroppedBlock = this;\r\n\r\n    target = scripts.closestInput(this, hand);\r\n    if (target !== null) {\r\n        scripts.lastReplacedInput = target;\r\n        scripts.lastDropTarget = target.parent;\r\n        if (target instanceof MultiArgMorph) {\r\n            scripts.lastPreservedBlocks = target.inputs();\r\n            scripts.lastReplacedInput = target.fullCopy();\r\n        } else if (target instanceof CommandSlotMorph) {\r\n            scripts.lastReplacedInput = target;\r\n            nb = target.nestedBlock();\r\n            if (nb) {\r\n                nb = nb.fullCopy();\r\n                scripts.add(nb);\r\n                nb.moveBy(nb.extent());\r\n                nb.fixBlockColor();\r\n                scripts.lastPreservedBlocks = [nb];\r\n            }\r\n        }\r\n        target.parent.replaceInput(target, this);\r\n        if (this.snapSound) {\r\n            this.snapSound.play();\r\n        }\r\n    }\r\n    this.startLayout();\r\n    this.fixBlockColor();\r\n    this.endLayout();\r\n    ReporterBlockMorph.uber.snap.call(this);\r\n    if (hand) {\r\n        scripts.recordDrop(hand.grabOrigin);\r\n    }\r\n};\r\n\r\nReporterBlockMorph.prototype.prepareToBeGrabbed = function (handMorph) {\r\n    var oldPos = this.position();\r\n\r\n    nop(handMorph);\r\n    if ((this.parent instanceof BlockMorph)\r\n            || (this.parent instanceof MultiArgMorph)\r\n            || (this.parent instanceof ReporterSlotMorph)) {\r\n        this.parent.revertToDefaultInput(this);\r\n        this.setPosition(oldPos);\r\n    }\r\n    ReporterBlockMorph.uber.prepareToBeGrabbed.call(this, handMorph);\r\n    this.alpha = 0.85;\r\n    this.cachedSlotSpec = null;\r\n};\r\n\r\n// ReporterBlockMorph enumerating\r\n\r\nReporterBlockMorph.prototype.blockSequence = function () {\r\n    // reporters don't have a sequence, answer myself\r\n    return this;\r\n};\r\n\r\n// ReporterBlockMorph evaluating\r\n\r\nReporterBlockMorph.prototype.isUnevaluated = function () {\r\n    // answer whether my parent block's slot is designated to be of an\r\n    // 'unevaluated' kind, denoting a spedial form\r\n    var spec = this.getSlotSpec();\r\n    return spec === '%anyUE' ||\r\n        spec === '%boolUE' ||\r\n        spec === '%f';\r\n};\r\n\r\nReporterBlockMorph.prototype.isLocked = function () {\r\n    // answer true if I can be exchanged by a dropped reporter\r\n    return this.isStatic || (this.getSlotSpec() === '%t');\r\n};\r\n\r\nReporterBlockMorph.prototype.getSlotSpec = function () {\r\n    // answer the spec of the slot I'm in, if any\r\n    // cached for performance\r\n    if (!this.cachedSlotSpec) {\r\n        this.cachedSlotSpec = this.determineSlotSpec();\r\n    }\r\n    return this.cachedSlotSpec;\r\n};\r\n\r\nReporterBlockMorph.prototype.determineSlotSpec = function () {\r\n    // private - answer the spec of the slot I'm in, if any\r\n    var parts, idx;\r\n    if (this.parent instanceof BlockMorph) {\r\n        parts = this.parent.parts().filter(\r\n            function (part) {\r\n                return !(part instanceof BlockHighlightMorph);\r\n            }\r\n        );\r\n        idx = parts.indexOf(this);\r\n        if (idx !== -1) {\r\n            if (this.parent.blockSpec) {\r\n                return this.parseSpec(this.parent.blockSpec)[idx];\r\n            }\r\n        }\r\n    }\r\n    if (this.parent instanceof MultiArgMorph) {\r\n        return this.parent.slotSpec;\r\n    }\r\n    if (this.parent instanceof TemplateSlotMorph) {\r\n        return this.parent.getSpec();\r\n    }\r\n    return null;\r\n};\r\n\r\n// ReporterBlockMorph events\r\n\r\nReporterBlockMorph.prototype.mouseClickLeft = function (pos) {\r\n    var label;\r\n    if (this.parent instanceof BlockInputFragmentMorph) {\r\n        return this.parent.mouseClickLeft();\r\n    }\r\n    if (this.parent instanceof TemplateSlotMorph) {\r\n        if (this.parent.parent && this.parent.parent.parent &&\r\n                this.parent.parent.parent instanceof RingMorph) {\r\n            label = \"Input name\";\r\n        } else if (this.parent.parent.elementSpec === '%blockVars') {\r\n            label = \"Block variable name\";\r\n        } else {\r\n            label = \"Script variable name\";\r\n        }\r\n        new DialogBoxMorph(\r\n            this,\r\n            this.userSetSpec,\r\n            this\r\n        ).prompt(\r\n            label,\r\n            this.blockSpec,\r\n            this.world()\r\n        );\r\n    } else {\r\n        ReporterBlockMorph.uber.mouseClickLeft.call(this, pos);\r\n    }\r\n};\r\n\r\n// ReporterBlock exporting picture with result bubble\r\n\r\nReporterBlockMorph.prototype.exportResultPic = function () {\r\n    var top = this.topBlock(),\r\n        receiver = top.scriptTarget(),\r\n        stage;\r\n    if (top !== this) {return; }\r\n    if (receiver) {\r\n        stage = receiver.parentThatIsA(StageMorph);\r\n        if (stage) {\r\n            stage.threads.stopProcess(top);\r\n            stage.threads.startProcess(top, receiver, false, true);\r\n        }\r\n    }\r\n};\r\n\r\n// ReporterBlockMorph deleting\r\n\r\nReporterBlockMorph.prototype.userDestroy = function () {\r\n    // make sure to restore default slot of parent block\r\n    var target = this.selectForEdit(); // enable copy-on-edit\r\n    if (target !== this) {\r\n        return this.userDestroy.call(target);\r\n    }\r\n\r\n    // for undrop / redrop\r\n    var scripts = this.parentThatIsA(ScriptsMorph);\r\n    if (scripts) {\r\n        scripts.clearDropInfo();\r\n        scripts.lastDroppedBlock = this;\r\n        scripts.recordDrop(this.situation());\r\n        scripts.dropRecord.action = 'delete';\r\n    }\r\n\r\n    this.topBlock().fullChanged();\r\n    this.prepareToBeGrabbed(this.world().hand);\r\n    this.destroy();\r\n};\r\n\r\n// ReporterBlockMorph drawing:\r\n\r\nReporterBlockMorph.prototype.drawNew = function () {\r\n    var context;\r\n    this.cachedClr = this.color.toString();\r\n    this.cachedClrBright = this.bright();\r\n    this.cachedClrDark = this.dark();\r\n    this.image = newCanvas(this.extent());\r\n    context = this.image.getContext('2d');\r\n    context.fillStyle = this.cachedClr;\r\n\r\n    if (this.isPredicate) {\r\n        this.drawDiamond(context);\r\n    } else {\r\n        this.drawRounded(context);\r\n    }\r\n\r\n    // draw method icon if applicable\r\n    if (this.isCustomBlock && !this.isGlobal) {\r\n        this.drawMethodIcon(context);\r\n    }\r\n    // erase CommandSlots\r\n    this.eraseHoles(context);\r\n};\r\n\r\nReporterBlockMorph.prototype.drawRounded = function (context) {\r\n    var h = this.height(),\r\n        r = Math.min(this.rounding, h / 2),\r\n        w = this.width(),\r\n        shift = this.edge / 2,\r\n        gradient;\r\n\r\n    // draw the 'flat' shape:\r\n    context.fillStyle = this.cachedClr;\r\n    context.beginPath();\r\n\r\n    // top left:\r\n    context.arc(\r\n        r,\r\n        r,\r\n        r,\r\n        radians(-180),\r\n        radians(-90),\r\n        false\r\n    );\r\n\r\n    // top right:\r\n    context.arc(\r\n        w - r,\r\n        r,\r\n        r,\r\n        radians(-90),\r\n        radians(-0),\r\n        false\r\n    );\r\n\r\n    // bottom right:\r\n    context.arc(\r\n        w - r,\r\n        h - r,\r\n        r,\r\n        radians(0),\r\n        radians(90),\r\n        false\r\n    );\r\n\r\n    // bottom left:\r\n    context.arc(\r\n        r,\r\n        h - r,\r\n        r,\r\n        radians(90),\r\n        radians(180),\r\n        false\r\n    );\r\n\r\n    context.closePath();\r\n    context.fill();\r\n\r\n    if (MorphicPreferences.isFlat) {return; }\r\n\r\n    // add 3D-Effect:\r\n    context.lineWidth = this.edge;\r\n    context.lineJoin = 'round';\r\n    context.lineCap = 'round';\r\n\r\n    // half-tone edges\r\n    // bottem left corner\r\n    gradient = context.createRadialGradient(\r\n        r,\r\n        h - r,\r\n        r - this.edge,\r\n        r,\r\n        h - r,\r\n        r + this.edge\r\n    );\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    gradient.addColorStop(1, this.cachedClrBright);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.arc(\r\n        r,\r\n        h - r,\r\n        r - shift,\r\n        radians(90),\r\n        radians(180),\r\n        false\r\n    );\r\n    context.stroke();\r\n\r\n    // top right corner\r\n    gradient = context.createRadialGradient(\r\n        w - r,\r\n        r,\r\n        r - this.edge,\r\n        w - r,\r\n        r,\r\n        r + this.edge\r\n    );\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    gradient.addColorStop(1, this.cachedClrDark);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.arc(\r\n        w - r,\r\n        r,\r\n        r - shift,\r\n        radians(-90),\r\n        radians(0),\r\n        false\r\n    );\r\n    context.stroke();\r\n\r\n    // normal gradient edges\r\n\r\n    // top edge: straight line\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        0,\r\n        0,\r\n        this.edge\r\n    );\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    gradient.addColorStop(1, this.cachedClr);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(r - shift, shift);\r\n    context.lineTo(w - r + shift, shift);\r\n    context.stroke();\r\n\r\n    // top edge: left corner\r\n    gradient = context.createRadialGradient(\r\n        r,\r\n        r,\r\n        r - this.edge,\r\n        r,\r\n        r,\r\n        r\r\n    );\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    gradient.addColorStop(1, this.cachedClrBright);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.arc(\r\n        r,\r\n        r,\r\n        r - shift,\r\n        radians(180),\r\n        radians(270),\r\n        false\r\n    );\r\n    context.stroke();\r\n\r\n    // bottom edge: right corner\r\n    gradient = context.createRadialGradient(\r\n        w - r,\r\n        h - r,\r\n        r - this.edge,\r\n        w - r,\r\n        h - r,\r\n        r\r\n    );\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    gradient.addColorStop(1, this.cachedClrDark);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.arc(\r\n        w - r,\r\n        h - r,\r\n        r - shift,\r\n        radians(0),\r\n        radians(90),\r\n        false\r\n    );\r\n    context.stroke();\r\n\r\n    // bottom edge: straight line\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        h - this.edge,\r\n        0,\r\n        h\r\n    );\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    gradient.addColorStop(1, this.cachedClrDark);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(r - shift, h - shift);\r\n    context.lineTo(w - r + shift, h - shift);\r\n    context.stroke();\r\n\r\n    // left edge: straight vertical line\r\n    gradient = context.createLinearGradient(0, 0, this.edge, 0);\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    gradient.addColorStop(1, this.cachedClr);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(shift, r);\r\n    context.lineTo(shift, h - r);\r\n    context.stroke();\r\n\r\n    // right edge: straight vertical line\r\n    gradient = context.createLinearGradient(w - this.edge, 0, w, 0);\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    gradient.addColorStop(1, this.cachedClrDark);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(w - shift, r + shift);\r\n    context.lineTo(w - shift, h - r);\r\n    context.stroke();\r\n\r\n};\r\n\r\nReporterBlockMorph.prototype.drawDiamond = function (context) {\r\n    var w = this.width(),\r\n        h = this.height(),\r\n        h2 = Math.floor(h / 2),\r\n        r = this.rounding,\r\n        shift = this.edge / 2,\r\n        gradient;\r\n\r\n    // draw the 'flat' shape:\r\n    context.fillStyle = this.cachedClr;\r\n    context.beginPath();\r\n\r\n    context.moveTo(0, h2);\r\n    context.lineTo(r, 0);\r\n    context.lineTo(w - r, 0);\r\n    context.lineTo(w, h2);\r\n    context.lineTo(w - r, h);\r\n    context.lineTo(r, h);\r\n\r\n    context.closePath();\r\n    context.fill();\r\n\r\n    if (MorphicPreferences.isFlat) {return; }\r\n\r\n    // add 3D-Effect:\r\n    context.lineWidth = this.edge;\r\n    context.lineJoin = 'round';\r\n    context.lineCap = 'round';\r\n\r\n    // half-tone edges\r\n    // bottom left corner\r\n    gradient = context.createLinearGradient(\r\n        -r,\r\n        0,\r\n        r,\r\n        0\r\n    );\r\n    gradient.addColorStop(1, this.cachedClr);\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(shift, h2);\r\n    context.lineTo(r, h - shift);\r\n    context.closePath();\r\n    context.stroke();\r\n\r\n    // top right corner\r\n    gradient = context.createLinearGradient(\r\n        w - r,\r\n        0,\r\n        w + r,\r\n        0\r\n    );\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    gradient.addColorStop(1, this.cachedClrDark);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(w - shift, h2);\r\n    context.lineTo(w - r, shift);\r\n    context.closePath();\r\n    context.stroke();\r\n\r\n    // normal gradient edges\r\n    // top edge: left corner\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        0,\r\n        r,\r\n        0\r\n    );\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    gradient.addColorStop(1, this.cachedClr);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(shift, h2);\r\n    context.lineTo(r, shift);\r\n    context.closePath();\r\n    context.stroke();\r\n\r\n    // top edge: straight line\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        0,\r\n        0,\r\n        this.edge\r\n    );\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    gradient.addColorStop(1, this.cachedClr);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(r, shift);\r\n    context.lineTo(w - r, shift);\r\n    context.closePath();\r\n    context.stroke();\r\n\r\n    // bottom edge: right corner\r\n    gradient = context.createLinearGradient(\r\n        w - r,\r\n        0,\r\n        w,\r\n        0\r\n    );\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    gradient.addColorStop(1, this.cachedClrDark);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(w - r, h - shift);\r\n    context.lineTo(w - shift, h2);\r\n    context.closePath();\r\n    context.stroke();\r\n\r\n    // bottom edge: straight line\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        h - this.edge,\r\n        0,\r\n        h\r\n    );\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    gradient.addColorStop(1, this.cachedClrDark);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(r + shift, h - shift);\r\n    context.lineTo(w - r - shift, h - shift);\r\n    context.closePath();\r\n    context.stroke();\r\n};\r\n\r\n// RingMorph /////////////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a reporter block which reifies its contents, my outer shape is\r\n    always roundish (never diamond)\r\n*/\r\n\r\n// RingMorph inherits from ReporterBlockMorph:\r\n\r\nRingMorph.prototype = new ReporterBlockMorph();\r\nRingMorph.prototype.constructor = RingMorph;\r\nRingMorph.uber = ReporterBlockMorph.prototype;\r\n\r\n// RingMorph preferences settings:\r\n\r\nRingMorph.prototype.isCachingInputs = false;\r\n// RingMorph.prototype.edge = 2;\r\n// RingMorph.prototype.rounding = 9;\r\n// RingMorph.prototype.alpha = 0.8;\r\n// RingMorph.prototype.contrast = 85;\r\n\r\n// RingMorph instance creation:\r\n\r\nfunction RingMorph() {\r\n    this.init();\r\n}\r\n\r\nRingMorph.prototype.init = function () {\r\n    RingMorph.uber.init.call(this);\r\n    this.category = 'other';\r\n    this.alpha = RingMorph.prototype.alpha;\r\n    this.contrast = RingMorph.prototype.contrast;\r\n    this.setExtent(new Point(200, 80));\r\n};\r\n\r\n// RingMorph dragging and dropping\r\n\r\nRingMorph.prototype.rootForGrab = function () {\r\n    if (this.isDraggable) {\r\n        return this;\r\n    }\r\n    return BlockMorph.uber.rootForGrab.call(this);\r\n};\r\n\r\n// RingMorph ops - Note: these assume certain layouts defined elsewhere -\r\n\r\nRingMorph.prototype.embed = function (aBlock, inputNames) {\r\n    var slot;\r\n\r\n    // set my color\r\n    this.color = SpriteMorph.prototype.blockColor.other;\r\n    this.isDraggable = true;\r\n\r\n    // set my type, selector, and nested block:\r\n    if (aBlock instanceof CommandBlockMorph) {\r\n        this.isStatic = false;\r\n        this.setSpec('%rc %ringparms');\r\n        this.selector = 'reifyScript';\r\n        slot = this.parts()[0];\r\n        slot.nestedBlock(aBlock);\r\n    } else if (aBlock.isPredicate) {\r\n        this.isStatic = true;\r\n        this.setSpec('%rp %ringparms');\r\n        this.selector = 'reifyPredicate';\r\n        slot = this.parts()[0];\r\n        slot.silentReplaceInput(slot.contents(), aBlock);\r\n    } else if (aBlock instanceof BooleanSlotMorph) {\r\n        this.isStatic = false;\r\n        this.setSpec('%rp %ringparms');\r\n        this.selector = 'reifyPredicate';\r\n        slot = this.parts()[0];\r\n        slot.silentReplaceInput(slot.contents(), aBlock);\r\n    } else { // reporter or input slot)\r\n        this.isStatic = false;\r\n        this.setSpec('%rr %ringparms');\r\n        this.selector = 'reifyReporter';\r\n        slot = this.parts()[0];\r\n        slot.silentReplaceInput(slot.contents(), aBlock);\r\n    }\r\n\r\n    // set my inputs, if any\r\n    slot = this.parts()[1];\r\n    if (inputNames) {\r\n        inputNames.forEach(function (name) {\r\n            slot.addInput(name);\r\n        });\r\n    }\r\n\r\n    // ensure zebra coloring\r\n    this.fixBlockColor(null, true);\r\n};\r\n\r\nRingMorph.prototype.vanishForSimilar = function () {\r\n    // let me disappear if I am nesting a variable getter or Ring\r\n    // but only if I'm not already inside another ring\r\n    var slot = this.parts()[0],\r\n        block = slot.nestedBlock();\r\n\r\n    if (!block) {return null; }\r\n    if (!(this.parent instanceof SyntaxElementMorph)) {return null; }\r\n    if (this.parent instanceof RingReporterSlotMorph\r\n            || (this.parent instanceof RingCommandSlotMorph)) {\r\n        return null;\r\n    }\r\n    if (block.selector === 'reportGetVar' ||\r\n        block.selector === 'reportJSFunction' ||\r\n        (block instanceof RingMorph)\r\n    ) {\r\n        this.parent.silentReplaceInput(this, block);\r\n    }\r\n};\r\n\r\nRingMorph.prototype.contents = function () {\r\n    return this.parts()[0].nestedBlock();\r\n};\r\n\r\nRingMorph.prototype.inputNames = function () {\r\n    return this.parts()[1].evaluate();\r\n};\r\n\r\nRingMorph.prototype.dataType = function () {\r\n    switch (this.selector) {\r\n    case 'reifyScript':\r\n        return 'command';\r\n    case 'reifyPredicate':\r\n        return 'predicate';\r\n    default:\r\n        return 'reporter';\r\n    }\r\n};\r\n\r\n// RingMorph zebra coloring\r\n\r\nRingMorph.prototype.fixBlockColor = function (nearest, isForced) {\r\n    var slot = this.parts()[0];\r\n    RingMorph.uber.fixBlockColor.call(this, nearest, isForced);\r\n    slot.fixLayout();\r\n};\r\n\r\n// ScriptsMorph ////////////////////////////////////////////////////////\r\n\r\n/*\r\n    I give feedback about possible drop targets and am in charge\r\n    of actually snapping blocks together.\r\n\r\n    My children are the top blocks of scripts.\r\n\r\n    I store a back-pointer to my owner, i.e. the object (sprite)\r\n    to whom my scripts apply.\r\n*/\r\n\r\n// ScriptsMorph inherits from FrameMorph:\r\n\r\nScriptsMorph.prototype = new FrameMorph();\r\nScriptsMorph.prototype.constructor = ScriptsMorph;\r\nScriptsMorph.uber = FrameMorph.prototype;\r\n\r\n// ScriptsMorph preference settings\r\n\r\nScriptsMorph.prototype.cleanUpMargin = 20;\r\nScriptsMorph.prototype.cleanUpSpacing = 15;\r\nScriptsMorph.prototype.isPreferringEmptySlots = true;\r\nScriptsMorph.prototype.enableKeyboard = true;\r\nScriptsMorph.prototype.enableNestedAutoWrapping = true;\r\n\r\n// ScriptsMorph instance creation:\r\n\r\nfunction ScriptsMorph() {\r\n    this.init();\r\n}\r\n\r\nScriptsMorph.prototype.init = function () {\r\n    this.feedbackColor = SyntaxElementMorph.prototype.feedbackColor;\r\n    this.feedbackMorph = new BoxMorph();\r\n    this.rejectsHats = false;\r\n\r\n    // \"undrop\" attributes:\r\n    this.lastDroppedBlock = null;\r\n    this.lastReplacedInput = null;\r\n    this.lastDropTarget = null;\r\n    this.lastPreservedBlocks = null;\r\n    this.lastNextBlock = null;\r\n    this.lastWrapParent = null;\r\n\r\n    // keyboard editing support:\r\n    this.focus = null;\r\n\r\n    ScriptsMorph.uber.init.call(this);\r\n    this.setColor(new Color(70, 70, 70));\r\n    this.noticesTransparentClick = true;\r\n\r\n    // initialize \"undrop\" queue\r\n    this.isAnimating = false;\r\n    this.dropRecord = null;\r\n    this.recordDrop();\r\n};\r\n\r\n// ScriptsMorph deep copying:\r\n\r\nScriptsMorph.prototype.fullCopy = function () {\r\n    var cpy = new ScriptsMorph(),\r\n        pos = this.position(),\r\n        child;\r\n    if (this.focus) {\r\n        this.focus.stopEditing();\r\n    }\r\n    this.children.forEach(function (morph) {\r\n        if (!morph.block) { // omit anchored comments\r\n            child = morph.fullCopy();\r\n            cpy.add(child);\r\n            child.setPosition(morph.position().subtract(pos));\r\n            if (child instanceof BlockMorph) {\r\n                child.allComments().forEach(function (comment) {\r\n                    comment.align(child);\r\n                });\r\n            }\r\n        }\r\n    });\r\n    cpy.adjustBounds();\r\n    return cpy;\r\n};\r\n\r\n// ScriptsMorph stepping:\r\n\r\nScriptsMorph.prototype.step = function () {\r\n    var world = this.world(),\r\n        hand = world.hand,\r\n        block;\r\n\r\n    if (this.feedbackMorph.parent) {\r\n        this.feedbackMorph.destroy();\r\n        this.feedbackMorph.parent = null;\r\n    }\r\n    if (this.focus && (!world.keyboardReceiver ||\r\n            world.keyboardReceiver instanceof StageMorph)) {\r\n        this.focus.getFocus(world);\r\n    }\r\n    if (hand.children.length === 0) {\r\n        return null;\r\n    }\r\n    if (!this.bounds.containsPoint(hand.bounds.origin)) {\r\n        return null;\r\n    }\r\n    block = hand.children[0];\r\n    if (!(block instanceof BlockMorph) && !(block instanceof CommentMorph)) {\r\n        return null;\r\n    }\r\n    if (!contains(hand.morphAtPointer().allParents(), this)) {\r\n        return null;\r\n    }\r\n    if (block instanceof CommentMorph) {\r\n        this.showCommentDropFeedback(block, hand);\r\n    } else if (block instanceof ReporterBlockMorph) {\r\n        this.showReporterDropFeedback(block, hand);\r\n    } else {\r\n        this.showCommandDropFeedback(block);\r\n    }\r\n};\r\n\r\nScriptsMorph.prototype.showReporterDropFeedback = function (block, hand) {\r\n    var target = this.closestInput(block, hand);\r\n\r\n    if (target === null) {\r\n        return null;\r\n    }\r\n    this.feedbackMorph.bounds = target.fullBounds()\r\n        .expandBy(Math.max(\r\n            block.edge * 2,\r\n            block.reporterDropFeedbackPadding\r\n        ));\r\n    this.feedbackMorph.edge = SyntaxElementMorph.prototype.rounding;\r\n    this.feedbackMorph.border = Math.max(\r\n        SyntaxElementMorph.prototype.edge,\r\n        3\r\n    );\r\n    this.add(this.feedbackMorph);\r\n    if (target instanceof MultiArgMorph) {\r\n        this.feedbackMorph.color =\r\n            SpriteMorph.prototype.blockColor.lists.copy();\r\n        this.feedbackMorph.borderColor =\r\n            SpriteMorph.prototype.blockColor.lists;\r\n    } else {\r\n        this.feedbackMorph.color = this.feedbackColor.copy();\r\n        this.feedbackMorph.borderColor = this.feedbackColor;\r\n    }\r\n    this.feedbackMorph.color.a = 0.5;\r\n    this.feedbackMorph.drawNew();\r\n    this.feedbackMorph.changed();\r\n};\r\n\r\nScriptsMorph.prototype.showCommandDropFeedback = function (block) {\r\n    var y, target;\r\n\r\n    target = block.closestAttachTarget(this);\r\n    if (!target) {\r\n        return null;\r\n    }\r\n    if (target.loc === 'wrap') {\r\n        this.showCSlotWrapFeedback(block, target.element);\r\n        return;\r\n    }\r\n    this.add(this.feedbackMorph);\r\n    this.feedbackMorph.border = 0;\r\n    this.feedbackMorph.edge = 0;\r\n    this.feedbackMorph.alpha = 1;\r\n    this.feedbackMorph.setExtent(new Point(\r\n        target.element.width(),\r\n        Math.max(\r\n            SyntaxElementMorph.prototype.corner,\r\n            SyntaxElementMorph.prototype.feedbackMinHeight\r\n        )\r\n    ));\r\n    this.feedbackMorph.color = this.feedbackColor;\r\n    this.feedbackMorph.drawNew();\r\n    this.feedbackMorph.changed();\r\n    y = target.point.y;\r\n    if (target.loc === 'bottom') {\r\n        if (target.type === 'block') {\r\n            if (target.element.nextBlock()) {\r\n                y -= SyntaxElementMorph.prototype.corner;\r\n            }\r\n        } else if (target.type === 'slot') {\r\n            if (target.element.nestedBlock()) {\r\n                y -= SyntaxElementMorph.prototype.corner;\r\n            }\r\n        }\r\n    }\r\n    this.feedbackMorph.setPosition(new Point(\r\n        target.element.left(),\r\n        y\r\n    ));\r\n};\r\n\r\nScriptsMorph.prototype.showCommentDropFeedback = function (comment, hand) {\r\n    var target = this.closestBlock(comment, hand);\r\n    if (!target) {\r\n        return null;\r\n    }\r\n\r\n    this.feedbackMorph.bounds = target.bounds\r\n        .expandBy(Math.max(\r\n            BlockMorph.prototype.edge * 2,\r\n            BlockMorph.prototype.reporterDropFeedbackPadding\r\n        ));\r\n    this.feedbackMorph.edge = SyntaxElementMorph.prototype.rounding;\r\n    this.feedbackMorph.border = Math.max(\r\n        SyntaxElementMorph.prototype.edge,\r\n        3\r\n    );\r\n    this.add(this.feedbackMorph);\r\n    this.feedbackMorph.color = comment.color.copy();\r\n    this.feedbackMorph.color.a = 0.25;\r\n    this.feedbackMorph.borderColor = comment.titleBar.color;\r\n    this.feedbackMorph.drawNew();\r\n    this.feedbackMorph.changed();\r\n};\r\n\r\nScriptsMorph.prototype.showCSlotWrapFeedback = function (srcBlock, trgBlock) {\r\n    var clr;\r\n    this.feedbackMorph.bounds = trgBlock.fullBounds()\r\n        .expandBy(BlockMorph.prototype.corner);\r\n    this.feedbackMorph.edge = SyntaxElementMorph.prototype.corner;\r\n    this.feedbackMorph.border = Math.max(\r\n        SyntaxElementMorph.prototype.edge,\r\n        3\r\n    );\r\n    this.add(this.feedbackMorph);\r\n    clr = srcBlock.color.lighter(40);\r\n    this.feedbackMorph.color = clr.copy();\r\n    this.feedbackMorph.color.a = 0.1;\r\n    this.feedbackMorph.borderColor = clr;\r\n    this.feedbackMorph.drawNew();\r\n    this.feedbackMorph.changed();\r\n};\r\n\r\nScriptsMorph.prototype.closestInput = function (reporter, hand) {\r\n    // passing the hand is optional (when dragging reporters)\r\n    var fb = reporter.fullBoundsNoShadow(),\r\n        stacks = this.children.filter(function (child) {\r\n            return (child instanceof BlockMorph) &&\r\n                (child.fullBounds().intersects(fb));\r\n        }),\r\n        blackList = reporter.allInputs(),\r\n        handPos,\r\n        target,\r\n        all;\r\n\r\n    all = [];\r\n    stacks.forEach(function (stack) {\r\n        all = all.concat(stack.allInputs());\r\n    });\r\n    if (all.length === 0) {return null; }\r\n\r\n    function touchingVariadicArrowsIfAny(inp, point) {\r\n        if (inp instanceof MultiArgMorph) {\r\n            if (point) {\r\n                return inp.arrows().bounds.containsPoint(point);\r\n            }\r\n            return inp.arrows().bounds.intersects(fb);\r\n        }\r\n        return true;\r\n    }\r\n\r\n    if (this.isPreferringEmptySlots) {\r\n        if (hand) {\r\n            handPos = hand.position();\r\n            target = detect(\r\n                all,\r\n                function (input) {\r\n                    return (input instanceof InputSlotMorph\r\n                            || (input instanceof ArgMorph\r\n                                && !(input instanceof CommandSlotMorph)\r\n                                && !(input instanceof MultiArgMorph))\r\n                            || (input instanceof RingMorph\r\n                                && !input.contents())\r\n                            || input.isEmptySlot())\r\n                        && !input.isLocked()\r\n                        && input.bounds.containsPoint(handPos)\r\n                        && !contains(blackList, input);\r\n                }\r\n            );\r\n            if (target) {\r\n                return target;\r\n            }\r\n        }\r\n        target = detect(\r\n            all,\r\n            function (input) {\r\n                return (input instanceof InputSlotMorph\r\n                        || input instanceof ArgMorph\r\n                        || (input instanceof RingMorph\r\n                            && !input.contents())\r\n                        || input.isEmptySlot())\r\n                    && !input.isLocked()\r\n                    && input.bounds.intersects(fb)\r\n                    && !contains(blackList, input)\r\n                    && touchingVariadicArrowsIfAny(input);\r\n            }\r\n        );\r\n        if (target) {\r\n            return target;\r\n        }\r\n    }\r\n\r\n    if (hand) {\r\n        handPos = hand.position();\r\n        target = detect(\r\n            all,\r\n            function (input) {\r\n                return (input !== reporter)\r\n                    && !input.isLocked()\r\n                    && input.bounds.containsPoint(handPos)\r\n                    && !(input.parent instanceof PrototypeHatBlockMorph)\r\n                    && !contains(blackList, input);\r\n            }\r\n        );\r\n        if (target) {\r\n            return target;\r\n        }\r\n    }\r\n    return detect(\r\n        all,\r\n        function (input) {\r\n            return (input !== reporter)\r\n                && !input.isLocked()\r\n                && input.fullBounds().intersects(fb)\r\n                && !(input.parent instanceof PrototypeHatBlockMorph)\r\n                && !contains(blackList, input);\r\n        }\r\n    );\r\n};\r\n\r\nScriptsMorph.prototype.closestBlock = function (comment, hand) {\r\n    // passing the hand is optional (when dragging comments)\r\n    var fb = comment.bounds,\r\n        stacks = this.children.filter(function (child) {\r\n            return (child instanceof BlockMorph) &&\r\n                (child.fullBounds().intersects(fb));\r\n        }),\r\n        handPos,\r\n        target,\r\n        all;\r\n\r\n    all = [];\r\n    stacks.forEach(function (stack) {\r\n        all = all.concat(stack.allChildren().slice(0).reverse().filter(\r\n            function (child) {return child instanceof BlockMorph &&\r\n                !child.isTemplate; }\r\n        ));\r\n    });\r\n    if (all.length === 0) {return null; }\r\n\r\n    if (hand) {\r\n        handPos = hand.position();\r\n        target = detect(\r\n            all,\r\n            function (block) {\r\n                return !block.comment\r\n                    && !block.isPrototype\r\n                    && block.bounds.containsPoint(handPos);\r\n            }\r\n        );\r\n        if (target) {\r\n            return target;\r\n        }\r\n    }\r\n    return detect(\r\n        all,\r\n        function (block) {\r\n            return !block.comment\r\n                && !block.isPrototype\r\n                && block.bounds.intersects(fb);\r\n        }\r\n    );\r\n};\r\n\r\n// ScriptsMorph user menu\r\n\r\nScriptsMorph.prototype.userMenu = function () {\r\n    var menu = new MenuMorph(this),\r\n        ide = this.parentThatIsA(IDE_Morph),\r\n        shiftClicked = this.world().currentKey === 16,\r\n        blockEditor,\r\n        myself = this,\r\n        obj = this.scriptTarget(),\r\n        hasUndropQueue,\r\n        stage = obj.parentThatIsA(StageMorph);\r\n\r\n    function addOption(label, toggle, test, onHint, offHint) {\r\n        var on = '\\u2611 ',\r\n            off = '\\u2610 ';\r\n        menu.addItem(\r\n            (test ? on : off) + localize(label),\r\n            toggle,\r\n            test ? onHint : offHint\r\n        );\r\n    }\r\n\r\n    if (!ide) {\r\n        blockEditor = this.parentThatIsA(BlockEditorMorph);\r\n        if (blockEditor) {\r\n            ide = blockEditor.target.parentThatIsA(IDE_Morph);\r\n        }\r\n    }\r\n    if (this.dropRecord) {\r\n        if (this.dropRecord.lastRecord) {\r\n            hasUndropQueue = true;\r\n            menu.addPair(\r\n                [\r\n                    new SymbolMorph(\r\n                        'turnBack',\r\n                        MorphicPreferences.menuFontSize\r\n                    ),\r\n                    localize('undrop')\r\n                ],\r\n                'undrop',\r\n                '^Z',\r\n                'undo the last\\nblock drop\\nin this pane'\r\n            );\r\n        }\r\n        if (this.dropRecord.nextRecord) {\r\n            hasUndropQueue = true;\r\n            menu.addPair(\r\n                [\r\n                    new SymbolMorph(\r\n                        'turnForward',\r\n                        MorphicPreferences.menuFontSize\r\n                    ),\r\n                    localize('redrop')\r\n                ],\r\n                'redrop',\r\n                '^Y',\r\n                'redo the last undone\\nblock drop\\nin this pane'\r\n            );\r\n        }\r\n        if (hasUndropQueue) {\r\n            if (shiftClicked) {\r\n                menu.addItem(\r\n                    \"clear undrop queue\",\r\n                    function () {\r\n                        myself.dropRecord = null;\r\n                        myself.clearDropInfo();\r\n                        myself.recordDrop();\r\n                    },\r\n                    'forget recorded block drops\\non this pane',\r\n                    new Color(100, 0, 0)\r\n                );\r\n            }\r\n            menu.addLine();\r\n        }\r\n    }\r\n\r\n    menu.addItem('clean up', 'cleanUp', 'arrange scripts\\nvertically');\r\n    menu.addItem('add comment', 'addComment');\r\n    menu.addItem(\r\n        'scripts pic...',\r\n        'exportScriptsPicture',\r\n        'open a new window\\nwith a picture of all scripts'\r\n    );\r\n    if (ide) {\r\n        menu.addLine();\r\n        if (!blockEditor && obj.exemplar) {\r\n                addOption(\r\n                    'inherited',\r\n                    function () {\r\n                        obj.toggleInheritanceForAttribute('scripts');\r\n                    },\r\n                    obj.inheritsAttribute('scripts'),\r\n                    'uncheck to\\ndisinherit',\r\n                    localize('check to inherit\\nfrom')\r\n                        + ' ' + obj.exemplar.name\r\n                );\r\n        }\r\n        menu.addItem(\r\n            'make a block...',\r\n            function () {\r\n                new BlockDialogMorph(\r\n                    null,\r\n                    function (definition) {\r\n                        if (definition.spec !== '') {\r\n                            if (definition.isGlobal) {\r\n                                stage.globalBlocks.push(definition);\r\n                            } else {\r\n                                obj.customBlocks.push(definition);\r\n                            }\r\n                            ide.flushPaletteCache();\r\n                            ide.refreshPalette();\r\n                            new BlockEditorMorph(definition, obj).popUp();\r\n                        }\r\n                    },\r\n                    myself\r\n                ).prompt(\r\n                    'Make a block',\r\n                    null,\r\n                    myself.world()\r\n                );\r\n            }\r\n        );\r\n    }\r\n    return menu;\r\n};\r\n\r\n// ScriptsMorph user menu features:\r\n\r\nScriptsMorph.prototype.cleanUp = function () {\r\n    var target = this.selectForEdit(), // enable copy-on-edit\r\n        origin = target.topLeft(),\r\n        y = target.cleanUpMargin;\r\n    target.children.sort(function (a, b) {\r\n        // make sure the prototype hat block always stays on top\r\n        return a instanceof PrototypeHatBlockMorph ? 0 : a.top() - b.top();\r\n    }).forEach(function (child) {\r\n        if (child instanceof CommentMorph && child.block) {\r\n            return; // skip anchored comments\r\n        }\r\n        child.setPosition(origin.add(new Point(target.cleanUpMargin, y)));\r\n        if (child instanceof BlockMorph) {\r\n            child.allComments().forEach(function (comment) {\r\n                comment.align(child, true); // ignore layer\r\n            });\r\n        }\r\n        y += child.stackHeight() + target.cleanUpSpacing;\r\n    });\r\n    if (target.parent) {\r\n        target.setPosition(target.parent.topLeft());\r\n    }\r\n    target.adjustBounds();\r\n};\r\n\r\nScriptsMorph.prototype.exportScriptsPicture = function () {\r\n    var pic = this.scriptsPicture(),\r\n        ide = this.world().children[0];\r\n    if (pic) {\r\n        ide.saveCanvasAs(\r\n            pic,\r\n            (ide.projectName || localize('untitled')) + ' ' +\r\n                localize('script pic')\r\n        );\r\n    }\r\n};\r\n\r\nScriptsMorph.prototype.scriptsPicture = function () {\r\n    // private - answer a canvas containing the pictures of all scripts\r\n    var boundingBox, pic, ctx;\r\n    if (this.children.length === 0) {return; }\r\n    boundingBox = this.children[0].fullBounds();\r\n    this.children.forEach(function (child) {\r\n        if (child.isVisible) {\r\n            boundingBox = boundingBox.merge(child.fullBounds());\r\n        }\r\n    });\r\n    pic = newCanvas(boundingBox.extent());\r\n    ctx = pic.getContext('2d');\r\n    this.children.forEach(function (child) {\r\n        var pos = child.fullBounds().origin;\r\n        if (child.isVisible) {\r\n            ctx.drawImage(\r\n                child.fullImageClassic(),\r\n                pos.x - boundingBox.origin.x,\r\n                pos.y - boundingBox.origin.y\r\n            );\r\n        }\r\n    });\r\n    return pic;\r\n};\r\n\r\nScriptsMorph.prototype.addComment = function () {\r\n    var ide = this.parentThatIsA(IDE_Morph),\r\n        blockEditor = this.parentThatIsA(BlockEditorMorph),\r\n        world = this.world();\r\n    new CommentMorph().pickUp(world);\r\n    // register the drop-origin, so the element can\r\n    // slide back to its former situation if dropped\r\n    // somewhere where it gets rejected\r\n    if (!ide && blockEditor) {\r\n        ide = blockEditor.target.parentThatIsA(IDE_Morph);\r\n    }\r\n    if (ide) {\r\n        world.hand.grabOrigin = {\r\n            origin: ide.palette,\r\n            position: ide.palette.center()\r\n        };\r\n    }\r\n};\r\n\r\n// ScriptsMorph undrop / redrop\r\n\r\nScriptsMorph.prototype.undrop = function () {\r\n    var myself = this;\r\n    if (this.isAnimating) {return; }\r\n    if (!this.dropRecord || !this.dropRecord.lastRecord) {return; }\r\n    if (!this.dropRecord.situation) {\r\n        this.dropRecord.situation =\r\n            this.dropRecord.lastDroppedBlock.situation();\r\n    }\r\n    this.isAnimating = true;\r\n    this.dropRecord.lastDroppedBlock.slideBackTo(\r\n        this.dropRecord.lastOrigin,\r\n        null,\r\n        this.recoverLastDrop(),\r\n        function () {\r\n            myself.updateToolbar();\r\n            myself.isAnimating = false;\r\n        }\r\n    );\r\n    this.dropRecord = this.dropRecord.lastRecord;\r\n};\r\n\r\nScriptsMorph.prototype.redrop = function () {\r\n    var myself = this;\r\n    if (this.isAnimating) {return; }\r\n    if (!this.dropRecord || !this.dropRecord.nextRecord) {return; }\r\n    this.dropRecord = this.dropRecord.nextRecord;\r\n    if (this.dropRecord.action === 'delete') {\r\n        this.recoverLastDrop(true);\r\n        this.dropRecord.lastDroppedBlock.destroy();\r\n        this.updateToolbar();\r\n    } else {\r\n        this.isAnimating = true;\r\n        this.dropRecord.lastDroppedBlock.slideBackTo(\r\n            this.dropRecord.situation,\r\n            null,\r\n            this.recoverLastDrop(true),\r\n            function () {\r\n                myself.updateToolbar();\r\n                myself.isAnimating = false;\r\n            }\r\n        );\r\n    }\r\n};\r\n\r\nScriptsMorph.prototype.recoverLastDrop = function (forRedrop) {\r\n    // retrieve the block last touched by the user and answer a function\r\n    // to be called after the animation that moves it back right before\r\n    // dropping it into its former situation\r\n    var rec = this.dropRecord,\r\n        dropped,\r\n        onBeforeDrop,\r\n        parent;\r\n\r\n    if (!rec || !rec.lastDroppedBlock) {\r\n        throw new Error('nothing to undrop');\r\n    }\r\n    dropped = rec.lastDroppedBlock;\r\n    parent = dropped.parent;\r\n    if (dropped instanceof CommandBlockMorph) {\r\n        if (rec.lastNextBlock) {\r\n            if (rec.action === 'delete') {\r\n                if (forRedrop) {\r\n                    this.add(rec.lastNextBlock);\r\n                }\r\n            } else {\r\n                this.add(rec.lastNextBlock);\r\n            }\r\n        }\r\n        if (rec.lastDropTarget) {\r\n            if (rec.lastDropTarget.loc === 'bottom') {\r\n                if (rec.lastDropTarget.type === 'slot') {\r\n                    if (rec.lastNextBlock) {\r\n                        rec.lastDropTarget.element.nestedBlock(\r\n                            rec.lastNextBlock\r\n                        );\r\n                    }\r\n                } else { // 'block'\r\n                    if (rec.lastNextBlock) {\r\n                        rec.lastDropTarget.element.nextBlock(\r\n                            rec.lastNextBlock\r\n                        );\r\n                    }\r\n                }\r\n            } else if (rec.lastDropTarget.loc === 'top') {\r\n                this.add(rec.lastDropTarget.element);\r\n            } else if (rec.lastDropTarget.loc === 'wrap') {\r\n                var cslot = detect( // could be cached...\r\n                    rec.lastDroppedBlock.inputs(), // ...although these are\r\n                    function (each) {return each instanceof CSlotMorph; }\r\n                );\r\n                if (rec.lastWrapParent instanceof CommandBlockMorph) {\r\n                    if (forRedrop) {\r\n                        onBeforeDrop = function () {\r\n                            cslot.nestedBlock(rec.lastDropTarget.element);\r\n                        };\r\n                    } else {\r\n                        rec.lastWrapParent.nextBlock(\r\n                            rec.lastDropTarget.element\r\n                        );\r\n                    }\r\n                } else if (rec.lastWrapParent instanceof CommandSlotMorph) {\r\n                    if (forRedrop) {\r\n                        onBeforeDrop = function () {\r\n                            cslot.nestedBlock(rec.lastDropTarget.element);\r\n                        };\r\n                    } else {\r\n                        rec.lastWrapParent.nestedBlock(\r\n                            rec.lastDropTarget.element\r\n                        );\r\n                    }\r\n                } else {\r\n                    this.add(rec.lastDropTarget.element);\r\n                }\r\n\r\n                // fix zebra coloring.\r\n                // this could be generalized into the fixBlockColor mechanism\r\n                rec.lastDropTarget.element.blockSequence().forEach(\r\n                    function (cmd) {cmd.fixBlockColor(); }\r\n                );\r\n                cslot.fixLayout();\r\n            }\r\n        }\r\n    } else if (dropped instanceof ReporterBlockMorph) {\r\n        if (rec.lastDropTarget) {\r\n            rec.lastDropTarget.replaceInput(\r\n                rec.lastDroppedBlock,\r\n                rec.lastReplacedInput\r\n            );\r\n            rec.lastDropTarget.fixBlockColor(null, true);\r\n            if (rec.lastPreservedBlocks) {\r\n                rec.lastPreservedBlocks.forEach(function (morph) {\r\n                    morph.destroy();\r\n                });\r\n            }\r\n        }\r\n    } else if (dropped instanceof CommentMorph) {\r\n        if (forRedrop && rec.lastDropTarget) {\r\n            onBeforeDrop = function () {\r\n                rec.lastDropTarget.element.comment = dropped;\r\n                dropped.block = rec.lastDropTarget.element;\r\n                dropped.align();\r\n            };\r\n        }\r\n    } else {\r\n        throw new Error('unsupported action for ' + dropped);\r\n    }\r\n    this.clearDropInfo();\r\n    dropped.prepareToBeGrabbed(this.world().hand);\r\n    if (dropped instanceof CommentMorph) {\r\n        dropped.removeShadow();\r\n    }\r\n    this.add(dropped);\r\n    parent.reactToGrabOf(dropped);\r\n    if (dropped instanceof ReporterBlockMorph && parent instanceof BlockMorph) {\r\n        parent.changed();\r\n    }\r\n    if (rec.action === 'delete') {\r\n        if (forRedrop && rec.lastNextBlock) {\r\n            if (parent instanceof CommandBlockMorph) {\r\n                parent.nextBlock(rec.lastNextBlock);\r\n            } else if (parent instanceof CommandSlotMorph) {\r\n                parent.nestedBlock(rec.lastNextBlock);\r\n            }\r\n        }\r\n\r\n        // animate \"undelete\"\r\n        if (!forRedrop) {\r\n            dropped.moveBy(new Point(-100, -20));\r\n        }\r\n    }\r\n    return onBeforeDrop;\r\n};\r\n\r\nScriptsMorph.prototype.clearDropInfo = function () {\r\n    this.lastDroppedBlock = null;\r\n    this.lastReplacedInput = null;\r\n    this.lastDropTarget = null;\r\n    this.lastPreservedBlocks = null;\r\n    this.lastNextBlock = null;\r\n    this.lastWrapParent = null;\r\n};\r\n\r\nScriptsMorph.prototype.recordDrop = function (lastGrabOrigin) {\r\n    // support for \"undrop\" / \"redrop\"\r\n     var record = {\r\n        lastDroppedBlock: this.lastDroppedBlock,\r\n        lastReplacedInput: this.lastReplacedInput,\r\n        lastDropTarget: this.lastDropTarget,\r\n        lastPreservedBlocks: this.lastPreservedBlocks,\r\n        lastNextBlock: this.lastNextBlock,\r\n        lastWrapParent: this.lastWrapParent,\r\n        lastOrigin: lastGrabOrigin,\r\n        action: null,\r\n        situation: null,\r\n        lastRecord: this.dropRecord,\r\n        nextRecord: null\r\n    };\r\n    if (this.dropRecord) {\r\n        this.dropRecord.nextRecord = record;\r\n    }\r\n    this.dropRecord = record;\r\n    this.updateToolbar();\r\n};\r\n\r\nScriptsMorph.prototype.addToolbar = function () {\r\n    var toolBar = new AlignmentMorph(),\r\n    \tmyself = this,\r\n        shade = new Color(140, 140, 140);\r\n\r\n    toolBar.respectHiddens = true;\r\n    toolBar.undoButton = new PushButtonMorph(\r\n        this,\r\n        \"undrop\",\r\n        new SymbolMorph(\"turnBack\", 12)\r\n    );\r\n    toolBar.undoButton.alpha = 0.2;\r\n    toolBar.undoButton.padding = 2;\r\n    // toolBar.undoButton.hint = 'undo the last\\nblock drop\\nin this pane';\r\n    toolBar.undoButton.labelShadowColor = shade;\r\n    toolBar.undoButton.drawNew();\r\n    toolBar.undoButton.fixLayout();\r\n    toolBar.add(toolBar.undoButton);\r\n\r\n    toolBar.redoButton = new PushButtonMorph(\r\n        this,\r\n        \"redrop\",\r\n        new SymbolMorph(\"turnForward\", 12)\r\n    );\r\n    toolBar.redoButton.alpha = 0.2;\r\n    toolBar.redoButton.padding = 2;\r\n    // toolBar.redoButton.hint = 'redo the last undone\\nblock drop\\nin this pane';\r\n    toolBar.redoButton.labelShadowColor = shade;\r\n    toolBar.redoButton.drawNew();\r\n    toolBar.redoButton.fixLayout();\r\n    toolBar.add(toolBar.redoButton);\r\n\r\n    toolBar.keyboardButton = new ToggleButtonMorph(\r\n    \tnull, // colors\r\n        this, // target\r\n        \"toggleKeyboardEntry\",\r\n        [\r\n            new SymbolMorph('keyboard', 12),\r\n            new SymbolMorph('keyboardFilled', 12)\r\n        ],\r\n\t\tfunction () { // query\r\n\t\t\treturn !isNil(myself.focus);\r\n\t\t}\r\n    );\r\n    toolBar.keyboardButton.alpha = 0.2;\r\n    toolBar.keyboardButton.padding = 2;\r\n    toolBar.keyboardButton.hint = 'use the keyboard\\nto enter blocks';\r\n    //toolBar.keyboardButton.pressColor = new Color(40, 40, 40);\r\n    toolBar.keyboardButton.labelShadowColor = shade;\r\n    toolBar.keyboardButton.drawNew();\r\n    toolBar.keyboardButton.fixLayout();\r\n    toolBar.add(toolBar.keyboardButton);\r\n\r\n    return toolBar;\r\n};\r\n\r\nScriptsMorph.prototype.updateToolbar = function () {\r\n    var sf = this.parentThatIsA(ScrollFrameMorph);\r\n    if (!sf) {return; }\r\n    if (!sf.toolBar) {\r\n        sf.toolBar = this.addToolbar();\r\n        sf.add(sf.toolBar);\r\n    }\r\n    if (this.enableKeyboard) {\r\n    \tsf.toolBar.keyboardButton.show();\r\n    \tsf.toolBar.keyboardButton.refresh();\r\n    } else {\r\n        sf.toolBar.keyboardButton.hide();\r\n    }\r\n    if (this.dropRecord) {\r\n        if (this.dropRecord.lastRecord) {\r\n            if (!sf.toolBar.undoButton.isVisible) {\r\n                sf.toolBar.undoButton.show();\r\n            }\r\n        } else {\r\n            if (sf.toolBar.undoButton.isVisible) {\r\n                sf.toolBar.undoButton.hide();\r\n            }\r\n        }\r\n        if (this.dropRecord.nextRecord) {\r\n            if (!sf.toolBar.redoButton.isVisible) {\r\n                sf.toolBar.redoButton.show();\r\n                sf.toolBar.undoButton.mouseLeave();\r\n            }\r\n        } else {\r\n            if (sf.toolBar.redoButton.isVisible) {\r\n                sf.toolBar.redoButton.hide();\r\n            }\r\n        }\r\n    }\r\n\tif (detect(\r\n\t\t\tsf.toolBar.children,\r\n            function (each) {return each.isVisible; }\r\n    )) {\r\n\t    sf.toolBar.fixLayout();\r\n\t    sf.adjustToolBar();\r\n\t}\r\n};\r\n\r\n// ScriptsMorph sorting blocks and comments\r\n\r\nScriptsMorph.prototype.sortedElements = function () {\r\n    // return all scripts and unattached comments\r\n    var scripts = this.children.filter(function (each) {\r\n        return each instanceof CommentMorph ? !each.block : true;\r\n    });\r\n    scripts.sort(function (a, b) {\r\n        // make sure the prototype hat block always stays on top\r\n        return a instanceof PrototypeHatBlockMorph ? 0 : a.top() - b.top();\r\n    });\r\n    return scripts;\r\n};\r\n\r\n// ScriptsMorph blocks layout fix\r\n\r\nScriptsMorph.prototype.fixMultiArgs = function () {\r\n    var oldFlag = Morph.prototype.trackChanges;\r\n\r\n    Morph.prototype.trackChanges = false;\r\n    this.forAllChildren(function (morph) {\r\n        if (morph instanceof MultiArgMorph) {\r\n            morph.fixLayout();\r\n        }\r\n    });\r\n    Morph.prototype.trackChanges = oldFlag;\r\n};\r\n\r\n// ScriptsMorph drag & drop:\r\n\r\nScriptsMorph.prototype.wantsDropOf = function (aMorph) {\r\n    // override the inherited method\r\n    if (aMorph instanceof HatBlockMorph) {\r\n        return !this.rejectsHats;\r\n    }\r\n    return aMorph instanceof SyntaxElementMorph ||\r\n        aMorph instanceof CommentMorph;\r\n};\r\n\r\nScriptsMorph.prototype.reactToDropOf = function (droppedMorph, hand) {\r\n    if (droppedMorph instanceof BlockMorph ||\r\n            droppedMorph instanceof CommentMorph) {\r\n        droppedMorph.snap(hand);\r\n    }\r\n    this.adjustBounds();\r\n};\r\n\r\n// ScriptsMorph events\r\n\r\nScriptsMorph.prototype.mouseClickLeft = function (pos) {\r\n    var shiftClicked = this.world().currentKey === 16;\r\n    if (shiftClicked) {\r\n        return this.edit(pos);\r\n    }\r\n    if (this.focus) {this.focus.stopEditing(); }\r\n};\r\n\r\nScriptsMorph.prototype.selectForEdit = function () {\r\n    var ide = this.parentThatIsA(IDE_Morph),\r\n        rcvr = ide ? ide.currentSprite : null;\r\n    if (rcvr && rcvr.inheritsAttribute('scripts')) {\r\n        // copy on write:\r\n        this.feedbackMorph.destroy();\r\n        rcvr.shadowAttribute('scripts');\r\n        return rcvr.scripts;\r\n    }\r\n    return this;\r\n};\r\n\r\n// ScriptsMorph keyboard support\r\n\r\nScriptsMorph.prototype.edit = function (pos) {\r\n    var target,\r\n\t\tworld = this.world();\r\n    if (this.focus) {this.focus.stopEditing(); }\r\n    world.stopEditing();\r\n    if (!ScriptsMorph.prototype.enableKeyboard) {return; }\r\n    target = this.selectForEdit(); // enable copy-on-edit\r\n    target.focus = new ScriptFocusMorph(target, target, pos);\r\n    target.focus.getFocus(world);\r\n};\r\n\r\nScriptsMorph.prototype.toggleKeyboardEntry = function () {\r\n\t// when the user clicks the keyboard button in the toolbar\r\n    var target, sorted,\r\n        world = this.world();\r\n    if (this.focus) {\r\n    \tthis.focus.stopEditing();\r\n        return;\r\n    }\r\n    world.stopEditing();\r\n    if (!ScriptsMorph.prototype.enableKeyboard) {return; }\r\n    target = this.selectForEdit(); // enable copy-on-edit\r\n    target.focus = new ScriptFocusMorph(target, target, target.position());\r\n    target.focus.getFocus(world);\r\n    sorted = target.focus.sortedScripts();\r\n    if (sorted.length) {\r\n        target.focus.element = sorted[0];\r\n        if (target.focus.element instanceof HatBlockMorph) {\r\n            target.focus.nextCommand();\r\n        }\r\n    } else {\r\n        target.focus.moveBy(new Point(50, 50));\r\n    }\r\n    target.focus.fixLayout();\r\n};\r\n\r\n// ScriptsMorph context - scripts target\r\n\r\nScriptsMorph.prototype.scriptTarget = function () {\r\n    // answer the sprite or stage that this script editor acts on,\r\n    // if the user clicks on a block.\r\n    // NOTE: since scripts can be shared by more than a single sprite\r\n    // this method only gives the desired result within the context of\r\n    // the user actively clicking on a block inside the IDE\r\n    // there is no direct relationship between a block or a scripts editor\r\n    //  and a sprite.\r\n    var editor = this.parentThatIsA(IDE_Morph);\r\n    if (editor) {\r\n        return editor.currentSprite;\r\n    }\r\n    editor = this.parentThatIsA(BlockEditorMorph);\r\n    if (editor) {\r\n        return editor.target;\r\n    }\r\n    throw new Error('script target bannot be found for orphaned scripts');\r\n};\r\n\r\n\r\n// ArgMorph //////////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a syntax element and the ancestor of all block inputs.\r\n    I am present in block labels.\r\n    Usually I am just a receptacle for inherited methods and attributes,\r\n    however, if my 'type' attribute is set to one of the following\r\n    values, I act as an iconic slot myself:\r\n\r\n        'list'    - a list symbol\r\n*/\r\n\r\n// ArgMorph inherits from SyntaxElementMorph:\r\n\r\nArgMorph.prototype = new SyntaxElementMorph();\r\nArgMorph.prototype.constructor = ArgMorph;\r\nArgMorph.uber = SyntaxElementMorph.prototype;\r\n\r\n// ArgMorph instance creation:\r\n\r\nfunction ArgMorph(type) {\r\n    this.init(type);\r\n}\r\n\r\nArgMorph.prototype.init = function (type, silently) {\r\n    this.type = type || null;\r\n    this.isHole = false;\r\n    ArgMorph.uber.init.call(this, silently);\r\n    this.color = new Color(0, 17, 173);\r\n    this.setExtent(new Point(50, 50), silently);\r\n};\r\n\r\n// ArgMorph preferences settings:\r\n\r\nArgMorph.prototype.executeOnSliderEdit = false;\r\n\r\n// ArgMorph events:\r\n\r\nArgMorph.prototype.reactToSliderEdit = function () {\r\n/*\r\n    directly execute the stack of blocks I'm part of if my\r\n    \"executeOnSliderEdit\" setting is turned on, obeying the stage's\r\n    thread safety setting. This feature allows for \"Bret Victor\" style\r\n    interactive coding.\r\n*/\r\n    var block, top, receiver, stage;\r\n    if (!this.executeOnSliderEdit) {return; }\r\n    block = this.parentThatIsA(BlockMorph);\r\n    if (block) {\r\n        top = block.topBlock();\r\n        receiver = top.scriptTarget();\r\n        if (top instanceof PrototypeHatBlockMorph) {\r\n            return;\r\n        }\r\n        if (receiver) {\r\n            stage = receiver.parentThatIsA(StageMorph);\r\n            if (stage && (stage.isThreadSafe ||\r\n                    Process.prototype.enableSingleStepping)) {\r\n                stage.threads.startProcess(top, receiver, stage.isThreadSafe);\r\n            } else {\r\n                top.mouseClickLeft();\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\n// ArgMorph drag & drop: for demo puposes only\r\n\r\nArgMorph.prototype.justDropped = function () {\r\n    if (!(this instanceof CommandSlotMorph)) {\r\n        this.drawNew();\r\n        this.changed();\r\n    }\r\n};\r\n\r\n// ArgMorph spec extrapolation (for demo purposes)\r\n\r\nArgMorph.prototype.getSpec = function () {\r\n    return '%s'; // default\r\n};\r\n\r\n// ArgMorph drawing\r\n\r\nArgMorph.prototype.drawNew = function () {\r\n    if (this.type === 'list') {\r\n        this.image = this.listIcon();\r\n        this.silentSetExtent(new Point(\r\n            this.image.width,\r\n            this.image.height\r\n        ));\r\n    } else if (this.type === 'object') {\r\n        this.image = this.objectIcon();\r\n        this.silentSetExtent(new Point(\r\n            this.image.width,\r\n            this.image.height\r\n        ));\r\n    } else {\r\n        ArgMorph.uber.drawNew.call(this);\r\n    }\r\n};\r\n\r\nArgMorph.prototype.listIcon = function () {\r\n    var frame = new Morph(),\r\n        first = new CellMorph(),\r\n        second = new CellMorph(),\r\n        source,\r\n        icon,\r\n        context,\r\n        ratio;\r\n\r\n    frame.color = new Color(255, 255, 255);\r\n    second.setPosition(first.bottomLeft().add(new Point(\r\n        0,\r\n        this.fontSize / 3\r\n    )));\r\n    first.add(second);\r\n    first.setPosition(frame.position().add(this.fontSize));\r\n    frame.add(first);\r\n    frame.bounds.corner = second.bounds.corner.add(this.fontSize);\r\n    frame.drawNew();\r\n    source = frame.fullImage();\r\n    ratio = (this.fontSize + this.edge) / source.height;\r\n    icon = newCanvas(new Point(\r\n        Math.ceil(source.width * ratio) + 1,\r\n        Math.ceil(source.height * ratio) + 1\r\n    ));\r\n    context = icon.getContext('2d');\r\n    context.fillStyle = 'black';\r\n    context.fillRect(0, 0, icon.width, icon.height);\r\n    context.scale(ratio, ratio);\r\n    context.drawImage(source, 1 / ratio, 1 / ratio);\r\n    return icon;\r\n};\r\n\r\nArgMorph.prototype.objectIcon = function () {\r\n    return this.labelPart('%turtle').image;\r\n};\r\n\r\n// ArgMorph evaluation\r\n\r\nArgMorph.prototype.isEmptySlot = function () {\r\n    return this.type !== null;\r\n};\r\n\r\n// CommandSlotMorph ////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a CommandBlock-shaped input slot. I can nest command blocks\r\n    and also accept    reporters (containing reified scripts).\r\n\r\n    my most important accessor is\r\n\r\n    nestedBlock()    - answer the command block I encompass, if any\r\n\r\n    My command spec is %cmd\r\n\r\n    evaluate() returns my nested block or null\r\n*/\r\n\r\n// CommandSlotMorph inherits from ArgMorph:\r\n\r\nCommandSlotMorph.prototype = new ArgMorph();\r\nCommandSlotMorph.prototype.constructor = CommandSlotMorph;\r\nCommandSlotMorph.uber = ArgMorph.prototype;\r\n\r\n// CommandSlotMorph instance creation:\r\n\r\nfunction CommandSlotMorph() {\r\n    this.init();\r\n}\r\n\r\nCommandSlotMorph.prototype.init = function (silently) {\r\n    CommandSlotMorph.uber.init.call(this, null, true); // silently\r\n    this.color = new Color(0, 17, 173);\r\n    this.setExtent(\r\n        new Point(230, this.corner * 4 + this.cSlotPadding),\r\n        silently\r\n    );\r\n};\r\n\r\nCommandSlotMorph.prototype.getSpec = function () {\r\n    return '%cmd';\r\n};\r\n\r\n// CommandSlotMorph enumerating:\r\n\r\nCommandSlotMorph.prototype.topBlock = function () {\r\n    if (this.parent.topBlock) {\r\n        return this.parent.topBlock();\r\n    }\r\n    return this.nestedBlock();\r\n};\r\n\r\n// CommandSlotMorph nesting:\r\n\r\nCommandSlotMorph.prototype.nestedBlock = function (block) {\r\n    if (block) {\r\n        var nb = this.nestedBlock();\r\n        this.add(block);\r\n        if (nb) {\r\n            block.bottomBlock().nextBlock(nb);\r\n        }\r\n        this.fixLayout();\r\n    } else {\r\n        return detect(\r\n            this.children,\r\n            function (child) {\r\n                return child instanceof CommandBlockMorph;\r\n            }\r\n        );\r\n    }\r\n};\r\n\r\n// CommandSlotMorph attach targets:\r\n\r\nCommandSlotMorph.prototype.slotAttachPoint = function () {\r\n    return new Point(\r\n        this.dentCenter(),\r\n        this.top() + this.corner * 2\r\n    );\r\n};\r\n\r\nCommandSlotMorph.prototype.dentLeft = function () {\r\n    return this.left()\r\n        + this.corner\r\n        + this.inset * 2;\r\n};\r\n\r\nCommandSlotMorph.prototype.dentCenter = function () {\r\n    return this.dentLeft()\r\n        + this.corner\r\n        + (this.dent * 0.5);\r\n};\r\n\r\nCommandSlotMorph.prototype.attachTargets = function () {\r\n    var answer = [];\r\n    answer.push({\r\n        point: this.slotAttachPoint(),\r\n        element: this,\r\n        loc: 'bottom',\r\n        type: 'slot'\r\n    });\r\n    return answer;\r\n};\r\n\r\n// CommandSlotMorph layout:\r\n\r\nCommandSlotMorph.prototype.fixLayout = function () {\r\n    var nb = this.nestedBlock();\r\n    if (this.parent) {\r\n        if (!this.color.eq(this.parent.color)) {\r\n            this.setColor(this.parent.color);\r\n        }\r\n    }\r\n    if (nb) {\r\n        nb.setPosition(\r\n            new Point(\r\n                this.left() + this.edge + this.rfBorder,\r\n                this.top() + this.edge + this.rfBorder\r\n            )\r\n        );\r\n        this.setWidth(nb.fullBounds().width()\r\n            + (this.edge + this.rfBorder) * 2\r\n            );\r\n        this.setHeight(nb.fullBounds().height()\r\n            + this.edge + (this.rfBorder * 2) - (this.corner - this.edge)\r\n            );\r\n    } else {\r\n        this.setHeight(this.corner * 4);\r\n        this.setWidth(\r\n            this.corner * 4\r\n                + this.inset\r\n                + this.dent\r\n        );\r\n    }\r\n    if (this.parent.fixLayout) {\r\n        this.parent.fixLayout();\r\n    }\r\n};\r\n\r\n// CommandSlotMorph evaluating:\r\n\r\nCommandSlotMorph.prototype.evaluate = function () {\r\n    return this.nestedBlock();\r\n};\r\n\r\nCommandSlotMorph.prototype.isEmptySlot = function () {\r\n    return !this.isStatic && (this.nestedBlock() === null);\r\n};\r\n\r\n// CommandSlotMorph context menu ops\r\n\r\nCommandSlotMorph.prototype.attach = function () {\r\n    // for context menu demo and testing purposes\r\n    // override inherited version to adjust new owner's layout\r\n    var choices = this.overlappedMorphs(),\r\n        menu = new MenuMorph(this, 'choose new parent:'),\r\n        myself = this;\r\n\r\n    choices.forEach(function (each) {\r\n        menu.addItem(each.toString().slice(0, 50), function () {\r\n            each.add(myself);\r\n            myself.isDraggable = false;\r\n            if (each.fixLayout) {\r\n                each.fixLayout();\r\n            }\r\n        });\r\n    });\r\n    if (choices.length > 0) {\r\n        menu.popUpAtHand(this.world());\r\n    }\r\n};\r\n\r\n// CommandSlotMorph drawing:\r\n\r\nCommandSlotMorph.prototype.drawNew = function () {\r\n    var context;\r\n    this.cachedClr = this.color.toString();\r\n    this.cachedClrBright = this.bright();\r\n    this.cachedClrDark = this.dark();\r\n    this.image = newCanvas(this.extent());\r\n    context = this.image.getContext('2d');\r\n    context.fillStyle = this.cachedClr;\r\n    context.fillRect(0, 0, this.width(), this.height());\r\n\r\n    // draw the 'flat' shape:\r\n    context.fillStyle = this.rfColor.toString();\r\n    this.drawFlat(context);\r\n\r\n    if (MorphicPreferences.isFlat) {return; }\r\n\r\n    // add 3D-Effect:\r\n    this.drawEdges(context);\r\n};\r\n\r\nCommandSlotMorph.prototype.drawFlat = function (context) {\r\n    var isFilled = this.nestedBlock() !== null,\r\n        ins = (isFilled ? this.inset : this.inset / 2),\r\n        dent = (isFilled ? this.dent : this.dent / 2),\r\n        indent = this.corner * 2 + ins,\r\n        edge = this.edge,\r\n        rf = (isFilled ? this.rfBorder : 0),\r\n        y = this.height() - this.corner - edge;\r\n\r\n    context.beginPath();\r\n\r\n    // top left:\r\n    context.arc(\r\n        this.corner + edge,\r\n        this.corner + edge,\r\n        this.corner,\r\n        radians(-180),\r\n        radians(-90),\r\n        false\r\n    );\r\n\r\n    // dent:\r\n    context.lineTo(this.corner + ins + edge + rf * 2, edge);\r\n    context.lineTo(indent + edge + rf * 2, this.corner + edge);\r\n    context.lineTo(\r\n        indent + edge  + rf * 2 + (dent - rf * 2),\r\n        this.corner + edge\r\n    );\r\n    context.lineTo(\r\n        indent + edge  + rf * 2 + (dent - rf * 2) + this.corner,\r\n        edge\r\n    );\r\n    context.lineTo(this.width() - this.corner - edge, edge);\r\n\r\n    // top right:\r\n    context.arc(\r\n        this.width() - this.corner - edge,\r\n        this.corner + edge,\r\n        this.corner,\r\n        radians(-90),\r\n        radians(-0),\r\n        false\r\n    );\r\n\r\n    // bottom right:\r\n    context.arc(\r\n        this.width() - this.corner - edge,\r\n        y,\r\n        this.corner,\r\n        radians(0),\r\n        radians(90),\r\n        false\r\n    );\r\n\r\n    // bottom left:\r\n    context.arc(\r\n        this.corner + edge,\r\n        y,\r\n        this.corner,\r\n        radians(90),\r\n        radians(180),\r\n        false\r\n    );\r\n\r\n    context.closePath();\r\n    context.fill();\r\n\r\n};\r\n\r\nCommandSlotMorph.prototype.drawEdges = function (context) {\r\n    var isFilled = this.nestedBlock() !== null,\r\n        ins = (isFilled ? this.inset : this.inset / 2),\r\n        dent = (isFilled ? this.dent : this.dent / 2),\r\n        indent = this.corner * 2 + ins,\r\n        edge = this.edge,\r\n        rf = (isFilled ? this.rfBorder : 0),\r\n        shift = this.edge * 0.5,\r\n        gradient,\r\n        upperGradient,\r\n        lowerGradient,\r\n        rightGradient;\r\n\r\n    context.lineWidth = this.edge;\r\n    context.lineJoin = 'round';\r\n    context.lineCap = 'round';\r\n\r\n\r\n    // bright:\r\n    // bottom horizontal line\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        this.height(),\r\n        0,\r\n        this.height() - this.edge\r\n    );\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    gradient.addColorStop(1, this.cachedClrBright);\r\n\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(this.corner + edge, this.height() - shift);\r\n    context.lineTo(\r\n        this.width() - this.corner - edge,\r\n        this.height() - shift\r\n    );\r\n    context.stroke();\r\n\r\n    // bottom right corner\r\n    gradient = context.createRadialGradient(\r\n        this.width() - (this.corner + edge),\r\n        this.height() - (this.corner + edge),\r\n        this.corner,\r\n        this.width() - (this.corner + edge),\r\n        this.height() - (this.corner + edge),\r\n        this.corner + edge\r\n    );\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    gradient.addColorStop(1, this.cachedClr);\r\n\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.arc(\r\n        this.width() - (this.corner + edge),\r\n        this.height() - (this.corner + edge),\r\n        this.corner + shift,\r\n        radians(0),\r\n        radians(90),\r\n        false\r\n    );\r\n    context.stroke();\r\n\r\n    // right vertical line\r\n    gradient = context.createLinearGradient(\r\n        this.width(),\r\n        0,\r\n        this.width() - this.edge,\r\n        0\r\n    );\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    gradient.addColorStop(1, this.cachedClrBright);\r\n\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(\r\n        this.width() - shift,\r\n        this.height() - this.corner - this.edge\r\n    );\r\n    context.lineTo(this.width() - shift, edge + this.corner);\r\n    context.stroke();\r\n\r\n    context.shadowOffsetY = shift;\r\n    context.shadowBlur = this.edge;\r\n    context.shadowColor = this.rfColor.darker(80).toString();\r\n\r\n    // left vertical side\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        0,\r\n        edge,\r\n        0\r\n    );\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    gradient.addColorStop(1, this.cachedClrDark);\r\n\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(shift, edge + this.corner);\r\n    context.lineTo(shift, this.height() - edge - this.corner);\r\n    context.stroke();\r\n\r\n    // upper left corner\r\n    gradient = context.createRadialGradient(\r\n        this.corner + edge,\r\n        this.corner + edge,\r\n        this.corner,\r\n        this.corner + edge,\r\n        this.corner + edge,\r\n        this.corner + edge\r\n    );\r\n    gradient.addColorStop(0, this.cachedClrDark);\r\n    gradient.addColorStop(1, this.cachedClr);\r\n\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.arc(\r\n        this.corner + edge,\r\n        this.corner + edge,\r\n        this.corner + shift,\r\n        radians(-180),\r\n        radians(-90),\r\n        false\r\n    );\r\n    context.stroke();\r\n\r\n    // upper edge (left side)\r\n    upperGradient = context.createLinearGradient(\r\n        0,\r\n        0,\r\n        0,\r\n        this.edge\r\n    );\r\n    upperGradient.addColorStop(0, this.cachedClr);\r\n    upperGradient.addColorStop(1, this.cachedClrDark);\r\n\r\n    context.strokeStyle = upperGradient;\r\n    context.beginPath();\r\n    context.moveTo(this.corner + edge, shift);\r\n    context.lineTo(\r\n        this.corner + ins + edge + rf * 2 - shift,\r\n        shift\r\n    );\r\n    context.stroke();\r\n\r\n    // dent bottom\r\n    lowerGradient = context.createLinearGradient(\r\n        0,\r\n        this.corner,\r\n        0,\r\n        this.corner + edge\r\n    );\r\n    lowerGradient.addColorStop(0, this.cachedClr);\r\n    lowerGradient.addColorStop(1, this.cachedClrDark);\r\n\r\n    context.strokeStyle = lowerGradient;\r\n    context.beginPath();\r\n    context.moveTo(indent + edge + rf * 2 + shift, this.corner + shift);\r\n    context.lineTo(\r\n        indent + edge  + rf * 2 + (dent - rf * 2),\r\n        this.corner + shift\r\n    );\r\n    context.stroke();\r\n\r\n    // dent right edge\r\n    rightGradient = context.createLinearGradient(\r\n        indent + edge  + rf * 2 + (dent - rf * 2) - shift,\r\n        this.corner,\r\n        indent + edge  + rf * 2 + (dent - rf * 2) + shift * 0.7,\r\n        this.corner + shift + shift * 0.7\r\n    );\r\n    rightGradient.addColorStop(0, this.cachedClr);\r\n    rightGradient.addColorStop(1, this.cachedClrDark);\r\n\r\n    context.strokeStyle = rightGradient;\r\n    context.beginPath();\r\n    context.moveTo(\r\n        indent + edge  + rf * 2 + (dent - rf * 2),\r\n        this.corner + shift\r\n    );\r\n    context.lineTo(\r\n        indent + edge  + rf * 2 + (dent - rf * 2) + this.corner,\r\n        shift\r\n    );\r\n    context.stroke();\r\n\r\n    // upper edge (right side)\r\n    context.strokeStyle = upperGradient;\r\n    context.beginPath();\r\n    context.moveTo(\r\n        indent + edge  + rf * 2 + (dent - rf * 2) + this.corner,\r\n        shift\r\n    );\r\n    context.lineTo(this.width() - this.corner - edge, shift);\r\n    context.stroke();\r\n};\r\n\r\n// RingCommandSlotMorph ///////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a CommandBlock-shaped input slot for use in RingMorphs.\r\n    I can only nest command blocks, not reporters.\r\n\r\n    My command spec is %rc\r\n\r\n    evaluate() returns my nested block or null\r\n    (inherited from CommandSlotMorph)\r\n*/\r\n\r\n// RingCommandSlotMorph inherits from CommandSlotMorph:\r\n\r\nRingCommandSlotMorph.prototype = new CommandSlotMorph();\r\nRingCommandSlotMorph.prototype.constructor = RingCommandSlotMorph;\r\nRingCommandSlotMorph.uber = CommandSlotMorph.prototype;\r\n\r\n// RingCommandSlotMorph preferences settings\r\n\r\nRingCommandSlotMorph.prototype.rfBorder = 0;\r\nRingCommandSlotMorph.prototype.edge = RingMorph.prototype.edge;\r\n\r\n// RingCommandSlotMorph instance creation:\r\n\r\nfunction RingCommandSlotMorph() {\r\n    this.init();\r\n}\r\n\r\nRingCommandSlotMorph.prototype.init = function (silently) {\r\n    RingCommandSlotMorph.uber.init.call(this, silently);\r\n    this.isHole = true;\r\n    this.noticesTransparentClick = true;\r\n    this.color = new Color(0, 17, 173);\r\n    this.alpha = RingMorph.prototype.alpha;\r\n    this.contrast = RingMorph.prototype.contrast;\r\n};\r\n\r\nRingCommandSlotMorph.prototype.getSpec = function () {\r\n    return '%rc';\r\n};\r\n\r\n// RingCommandSlotMorph drawing:\r\n\r\nRingCommandSlotMorph.prototype.drawNew = function () {\r\n    var context;\r\n    this.cachedClr = this.color.toString();\r\n    this.cachedClrBright = this.bright();\r\n    this.cachedClrDark = this.dark();\r\n    this.image = newCanvas(this.extent());\r\n    context = this.image.getContext('2d');\r\n    context.fillStyle = this.cachedClr;\r\n\r\n    // draw the 'flat' shape:\r\n    this.drawFlat(context);\r\n\r\n    if (MorphicPreferences.isFlat) {return; }\r\n\r\n    // add 3D-Effect:\r\n    this.drawEdges(context);\r\n};\r\n\r\nRingCommandSlotMorph.prototype.drawFlat = function (context) {\r\n    var isFilled = this.nestedBlock() !== null,\r\n        ins = (isFilled ? this.inset : this.inset / 2),\r\n        dent = (isFilled ? this.dent : this.dent / 2),\r\n        indent = this.corner * 2 + ins,\r\n        edge = this.edge,\r\n        w = this.width(),\r\n        h = this.height(),\r\n        rf = (isFilled ? this.rfBorder : 0),\r\n        y = h - this.corner - edge;\r\n\r\n    // top half:\r\n\r\n    context.beginPath();\r\n    context.moveTo(0, h / 2);\r\n    context.lineTo(edge, h / 2);\r\n\r\n    // top left:\r\n    context.arc(\r\n        this.corner + edge,\r\n        this.corner + edge,\r\n        this.corner,\r\n        radians(-180),\r\n        radians(-90),\r\n        false\r\n    );\r\n\r\n    // dent:\r\n    context.lineTo(this.corner + ins + edge + rf * 2, edge);\r\n    context.lineTo(indent + edge + rf * 2, this.corner + edge);\r\n    context.lineTo(\r\n        indent + edge  + rf * 2 + (dent - rf * 2),\r\n        this.corner + edge\r\n    );\r\n    context.lineTo(\r\n        indent + edge  + rf * 2 + (dent - rf * 2) + this.corner,\r\n        edge\r\n    );\r\n    context.lineTo(this.width() - this.corner - edge, edge);\r\n\r\n    // top right:\r\n    context.arc(\r\n        w - this.corner - edge,\r\n        this.corner + edge,\r\n        this.corner,\r\n        radians(-90),\r\n        radians(-0),\r\n        false\r\n    );\r\n\r\n    context.lineTo(w - this.edge, h / 2);\r\n    context.lineTo(w, h / 2);\r\n    context.lineTo(w, 0);\r\n    context.lineTo(0, 0);\r\n    context.closePath();\r\n    context.fill();\r\n\r\n    // bottom half:\r\n    context.beginPath();\r\n    context.moveTo(w, h / 2);\r\n    context.lineTo(w - edge, h / 2);\r\n\r\n    // bottom right:\r\n    context.arc(\r\n        this.width() - this.corner - edge,\r\n        y,\r\n        this.corner,\r\n        radians(0),\r\n        radians(90),\r\n        false\r\n    );\r\n\r\n    // bottom left:\r\n    context.arc(\r\n        this.corner + edge,\r\n        y,\r\n        this.corner,\r\n        radians(90),\r\n        radians(180),\r\n        false\r\n    );\r\n\r\n    context.lineTo(edge, h / 2);\r\n    context.lineTo(0, h / 2);\r\n    context.lineTo(0, h);\r\n    context.lineTo(w, h);\r\n    context.closePath();\r\n    context.fill();\r\n\r\n};\r\n\r\n// CSlotMorph ////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a C-shaped input slot. I can nest command blocks and also accept\r\n    reporters (containing reified scripts).\r\n\r\n    my most important accessor is\r\n\r\n    nestedBlock()    - the command block I encompass, if any (inherited)\r\n\r\n    My command spec is %c\r\n\r\n    evaluate() returns my nested block or null\r\n*/\r\n\r\n// CSlotMorph inherits from CommandSlotMorph:\r\n\r\nCSlotMorph.prototype = new CommandSlotMorph();\r\nCSlotMorph.prototype.constructor = CSlotMorph;\r\nCSlotMorph.uber = CommandSlotMorph.prototype;\r\n\r\n// CSlotMorph instance creation:\r\n\r\nfunction CSlotMorph() {\r\n    this.init();\r\n}\r\n\r\nCSlotMorph.prototype.init = function (silently) {\r\n    CommandSlotMorph.uber.init.call(this, null, true); // silently\r\n    this.isHole = true;\r\n    this.isLambda = false; // see Process.prototype.evaluateInput\r\n    this.color = new Color(0, 17, 173);\r\n    this.setExtent(\r\n        new Point(230, this.corner * 4 + this.cSlotPadding),\r\n        silently\r\n    );\r\n};\r\n\r\nCSlotMorph.prototype.getSpec = function () {\r\n    return '%c';\r\n};\r\n\r\nCSlotMorph.prototype.mappedCode = function (definitions) {\r\n    var code = StageMorph.prototype.codeMappings.reify || '<#1>',\r\n        codeLines = code.split('\\n'),\r\n        nested = this.nestedBlock(),\r\n        part = nested ? nested.mappedCode(definitions) : '',\r\n        partLines = (part.toString()).split('\\n'),\r\n        rx = new RegExp('<#1>', 'g');\r\n\r\n    codeLines.forEach(function (codeLine, idx) {\r\n        var prefix = '',\r\n            indent;\r\n        if (codeLine.trimLeft().indexOf('<#1>') === 0) {\r\n            indent = codeLine.indexOf('<#1>');\r\n            prefix = codeLine.slice(0, indent);\r\n        }\r\n        codeLines[idx] = codeLine.replace(\r\n            new RegExp('<#1>'),\r\n            partLines.join('\\n' + prefix)\r\n        );\r\n        codeLines[idx] = codeLines[idx].replace(rx, partLines.join('\\n'));\r\n    });\r\n\r\n    return codeLines.join('\\n');\r\n};\r\n\r\n\r\n// CSlotMorph layout:\r\n\r\nCSlotMorph.prototype.fixLayout = function () {\r\n    var nb = this.nestedBlock();\r\n    if (nb) {\r\n        nb.setPosition(\r\n            new Point(\r\n                this.left() + this.inset,\r\n                this.top() + this.corner\r\n            )\r\n        );\r\n        this.setHeight(nb.fullBounds().height() + this.corner);\r\n        this.setWidth(nb.fullBounds().width() + (this.cSlotPadding * 2));\r\n    } else {\r\n        this.setHeight(this.corner * 4  + this.cSlotPadding); // default\r\n        this.setWidth(\r\n            this.corner * 4\r\n                + (this.inset * 2)\r\n                + this.dent\r\n                + (this.cSlotPadding * 2)\r\n        ); // default\r\n    }\r\n    if (this.parent.fixLayout) {\r\n        this.parent.fixLayout();\r\n    }\r\n};\r\n\r\n// CSlotMorph drawing:\r\n\r\nCSlotMorph.prototype.drawNew = function () {\r\n    var context;\r\n    this.cachedClr = this.color.toString();\r\n    this.cachedClrBright = this.bright();\r\n    this.cachedClrDark = this.dark();\r\n    this.image = newCanvas(this.extent());\r\n    context = this.image.getContext('2d');\r\n    context.fillStyle = this.cachedClr;\r\n\r\n    // draw the 'flat' shape:\r\n    this.drawFlat(context);\r\n\r\n    if (MorphicPreferences.isFlat) {return; }\r\n\r\n    // add 3D-Effect:\r\n    this.drawTopRightEdge(context);\r\n    this.drawTopEdge(context, this.inset, this.corner);\r\n    this.drawTopLeftEdge(context);\r\n    this.drawBottomEdge(context);\r\n    this.drawRightEdge(context);\r\n};\r\n\r\nCSlotMorph.prototype.drawFlat = function (context) {\r\n    context.beginPath();\r\n\r\n    // top line:\r\n    context.moveTo(0, 0);\r\n    context.lineTo(this.width(), 0);\r\n\r\n    // top right:\r\n    context.arc(\r\n        this.width() - this.corner,\r\n        0,\r\n        this.corner,\r\n        radians(90),\r\n        radians(0),\r\n        true\r\n    );\r\n\r\n    // jigsaw shape:\r\n    context.lineTo(this.width() - this.corner, this.corner);\r\n    context.lineTo(\r\n        (this.inset * 2) + (this.corner * 3) + this.dent,\r\n        this.corner\r\n    );\r\n    context.lineTo(\r\n        (this.inset * 2) + (this.corner * 2) + this.dent,\r\n        this.corner * 2\r\n    );\r\n    context.lineTo(\r\n        (this.inset * 2) + (this.corner * 2),\r\n        this.corner * 2\r\n    );\r\n    context.lineTo(\r\n        (this.inset * 2) + this.corner,\r\n        this.corner\r\n    );\r\n    context.lineTo(\r\n        this.inset + this.corner,\r\n        this.corner\r\n    );\r\n    context.arc(\r\n        this.inset + this.corner,\r\n        this.corner * 2,\r\n        this.corner,\r\n        radians(270),\r\n        radians(180),\r\n        true\r\n    );\r\n\r\n    // bottom:\r\n    context.lineTo(\r\n        this.inset,\r\n        this.height() - (this.corner * 2)\r\n    );\r\n    context.arc(\r\n        this.inset + this.corner,\r\n        this.height() - (this.corner * 2),\r\n        this.corner,\r\n        radians(180),\r\n        radians(90),\r\n        true\r\n    );\r\n    context.lineTo(\r\n        this.width() - this.corner,\r\n        this.height() - this.corner\r\n    );\r\n    context.arc(\r\n        this.width() - this.corner,\r\n        this.height(),\r\n        this.corner,\r\n        radians(-90),\r\n        radians(-0),\r\n        false\r\n    );\r\n    context.lineTo(0, this.height());\r\n\r\n    // fill:\r\n    context.closePath();\r\n    context.fill();\r\n};\r\n\r\nCSlotMorph.prototype.drawTopRightEdge = function (context) {\r\n    var shift = this.edge * 0.5,\r\n        x = this.width() - this.corner,\r\n        y = 0,\r\n        gradient;\r\n\r\n    gradient = context.createRadialGradient(\r\n        x,\r\n        y,\r\n        this.corner,\r\n        x,\r\n        y,\r\n        this.corner - this.edge\r\n    );\r\n    gradient.addColorStop(0, this.cachedClrDark);\r\n    gradient.addColorStop(1, this.cachedClr);\r\n\r\n    context.lineWidth = this.edge;\r\n    context.lineJoin = 'round';\r\n    context.lineCap = 'round';\r\n\r\n    context.strokeStyle = gradient;\r\n\r\n    context.beginPath();\r\n    context.arc(\r\n        x,\r\n        y,\r\n        this.corner - shift,\r\n        radians(90),\r\n        radians(0),\r\n        true\r\n    );\r\n    context.stroke();\r\n};\r\n\r\nCSlotMorph.prototype.drawTopEdge = function (context, x, y) {\r\n    var shift = this.edge * 0.5,\r\n        indent = x + this.corner * 2 + this.inset,\r\n        upperGradient,\r\n        lowerGradient,\r\n        rightGradient;\r\n\r\n    context.lineWidth = this.edge;\r\n    context.lineJoin = 'round';\r\n    context.lineCap = 'round';\r\n\r\n    upperGradient = context.createLinearGradient(\r\n        0,\r\n        y - this.edge,\r\n        0,\r\n        y\r\n    );\r\n    upperGradient.addColorStop(0, this.cachedClr);\r\n    upperGradient.addColorStop(1, this.cachedClrDark);\r\n\r\n    context.strokeStyle = upperGradient;\r\n    context.beginPath();\r\n    context.moveTo(x + this.corner, y - shift);\r\n    context.lineTo(x + this.corner + this.inset - shift, y - shift);\r\n    context.stroke();\r\n\r\n    lowerGradient = context.createLinearGradient(\r\n        0,\r\n        y + this.corner - this.edge,\r\n        0,\r\n        y + this.corner\r\n    );\r\n    lowerGradient.addColorStop(0, this.cachedClr);\r\n    lowerGradient.addColorStop(1, this.cachedClrDark);\r\n\r\n    context.strokeStyle = lowerGradient;\r\n    context.beginPath();\r\n    context.moveTo(indent + shift, y + this.corner - shift);\r\n    context.lineTo(indent + this.dent, y + this.corner - shift);\r\n    context.stroke();\r\n\r\n    rightGradient = context.createLinearGradient(\r\n        (x + this.inset + (this.corner * 2) + this.dent) - shift,\r\n        (y + this.corner - shift) - shift,\r\n        (x + this.inset + (this.corner * 2) + this.dent) + (shift * 0.7),\r\n        (y + this.corner - shift) + (shift * 0.7)\r\n    );\r\n    rightGradient.addColorStop(0, this.cachedClr);\r\n    rightGradient.addColorStop(1, this.cachedClrDark);\r\n\r\n\r\n    context.strokeStyle = rightGradient;\r\n    context.beginPath();\r\n    context.moveTo(\r\n        x + this.inset + (this.corner * 2) + this.dent,\r\n        y + this.corner - shift\r\n    );\r\n    context.lineTo(\r\n        x + this.corner * 3 + this.inset + this.dent,\r\n        y - shift\r\n    );\r\n    context.stroke();\r\n\r\n    context.strokeStyle = upperGradient;\r\n    context.beginPath();\r\n    context.moveTo(\r\n        x + this.corner * 3 + this.inset + this.dent,\r\n        y - shift\r\n    );\r\n    context.lineTo(this.width() - this.corner, y - shift);\r\n    context.stroke();\r\n};\r\n\r\nCSlotMorph.prototype.drawTopLeftEdge = function (context) {\r\n    var shift = this.edge * 0.5,\r\n        gradient;\r\n\r\n    gradient = context.createRadialGradient(\r\n        this.corner + this.inset,\r\n        this.corner * 2,\r\n        this.corner,\r\n        this.corner + this.inset,\r\n        this.corner * 2,\r\n        this.corner + this.edge\r\n    );\r\n    gradient.addColorStop(0, this.cachedClrDark);\r\n    gradient.addColorStop(1, this.cachedClr);\r\n\r\n    context.lineWidth = this.edge;\r\n    context.lineJoin = 'round';\r\n    context.lineCap = 'round';\r\n\r\n    context.strokeStyle = gradient;\r\n\r\n    context.beginPath();\r\n    context.arc(\r\n        this.corner + this.inset,\r\n        this.corner * 2,\r\n        this.corner + shift,\r\n        radians(-180),\r\n        radians(-90),\r\n        false\r\n    );\r\n    context.stroke();\r\n};\r\n\r\nCSlotMorph.prototype.drawRightEdge = function (context) {\r\n    var shift = this.edge * 0.5,\r\n        x = this.inset,\r\n        gradient;\r\n\r\n    gradient = context.createLinearGradient(x - this.edge, 0, x, 0);\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    gradient.addColorStop(1, this.cachedClrDark);\r\n\r\n    context.lineWidth = this.edge;\r\n    context.lineJoin = 'round';\r\n    context.lineCap = 'round';\r\n\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(x - shift, this.corner * 2);\r\n    context.lineTo(x - shift, this.height() - this.corner * 2);\r\n    context.stroke();\r\n};\r\n\r\nCSlotMorph.prototype.drawBottomEdge = function (context) {\r\n    var shift = this.edge * 0.5,\r\n        gradient,\r\n        upperGradient;\r\n\r\n    context.lineWidth = this.edge;\r\n    context.lineJoin = 'round';\r\n    context.lineCap = 'round';\r\n\r\n    upperGradient = context.createRadialGradient(\r\n        this.corner + this.inset,\r\n        this.height() - (this.corner * 2),\r\n        this.corner, /*- this.edge*/ // uncomment for half-tone\r\n        this.corner + this.inset,\r\n        this.height() - (this.corner * 2),\r\n        this.corner + this.edge\r\n    );\r\n    upperGradient.addColorStop(0, this.cachedClrBright);\r\n    upperGradient.addColorStop(1, this.cachedClr);\r\n    context.strokeStyle = upperGradient;\r\n    context.beginPath();\r\n    context.arc(\r\n        this.corner + this.inset,\r\n        this.height() - (this.corner * 2),\r\n        this.corner + shift,\r\n        radians(180),\r\n        radians(90),\r\n        true\r\n    );\r\n    context.stroke();\r\n\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        this.height() - this.corner,\r\n        0,\r\n        this.height() - this.corner + this.edge\r\n    );\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    gradient.addColorStop(1, this.cachedClr);\r\n\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(\r\n        this.inset + this.corner,\r\n        this.height() - this.corner + shift\r\n    );\r\n    context.lineTo(\r\n        this.width() - this.corner,\r\n        this.height() - this.corner + shift\r\n    );\r\n\r\n    context.stroke();\r\n};\r\n\r\n// InputSlotMorph //////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am an editable text input slot. I can be either rectangular or\r\n    rounded, and can have an optional drop-down menu. If I'm set to\r\n    read-only I must have a drop-down menu and will assume a darker\r\n    shade of my parent's color.\r\n\r\n    my most important public attributes and accessors are:\r\n\r\n    setContents(str/float)    - display the argument (string or float)\r\n    contents().text            - get the displayed string\r\n    choices                    - a key/value list for my optional drop-down\r\n    isReadOnly                - governs whether I am editable or not\r\n    isNumeric                - governs my outer shape (round or rect)\r\n\r\n    my block specs are:\r\n\r\n    %s        - string input, rectangular\r\n    %n        - numerical input, semi-circular vertical edges\r\n    %anyUE    - any unevaluated\r\n\r\n    evaluate() returns my displayed string, cast to float if I'm numerical\r\n\r\n    there are also a number of specialized drop-down menu presets, refer\r\n    to BlockMorph for details.\r\n*/\r\n\r\n// InputSlotMorph inherits from ArgMorph:\r\n\r\nInputSlotMorph.prototype = new ArgMorph();\r\nInputSlotMorph.prototype.constructor = InputSlotMorph;\r\nInputSlotMorph.uber = ArgMorph.prototype;\r\n\r\n// InputSlotMorph instance creation:\r\n\r\nfunction InputSlotMorph(text, isNumeric, choiceDict, isReadOnly) {\r\n    this.init(text, isNumeric, choiceDict, isReadOnly);\r\n}\r\n\r\nInputSlotMorph.prototype.init = function (\r\n    text,\r\n    isNumeric,\r\n    choiceDict,\r\n    isReadOnly\r\n) {\r\n    var contents = new StringMorph(''),\r\n        arrow = new ArrowMorph(\r\n            'down',\r\n            0,\r\n            Math.max(Math.floor(this.fontSize / 6), 1)\r\n        );\r\n\r\n    contents.fontSize = this.fontSize;\r\n    contents.isShowingBlanks = true;\r\n    contents.drawNew();\r\n\r\n    this.isUnevaluated = false;\r\n    this.choices = choiceDict || null; // object, function or selector\r\n    this.oldContentsExtent = contents.extent();\r\n    this.isNumeric = isNumeric || false;\r\n    this.isReadOnly = isReadOnly || false;\r\n    this.minWidth = 0; // can be chaged for text-type inputs (\"landscape\")\r\n    this.constant = null;\r\n\r\n    InputSlotMorph.uber.init.call(this, null, true);\r\n    this.color = new Color(255, 255, 255);\r\n    this.add(contents);\r\n    this.add(arrow);\r\n    contents.isEditable = true;\r\n    contents.isDraggable = false;\r\n    contents.enableSelecting();\r\n    this.setContents(text);\r\n};\r\n\r\n// InputSlotMorph accessing:\r\n\r\nInputSlotMorph.prototype.getSpec = function () {\r\n    if (this.isNumeric) {\r\n        return '%n';\r\n    }\r\n    return '%s'; // default\r\n};\r\n\r\nInputSlotMorph.prototype.contents = function () {\r\n    return detect(\r\n        this.children,\r\n        function (child) {\r\n            return (child instanceof StringMorph);\r\n        }\r\n    );\r\n};\r\n\r\nInputSlotMorph.prototype.arrow = function () {\r\n    return detect(\r\n        this.children,\r\n        function (child) {\r\n            return (child instanceof ArrowMorph);\r\n        }\r\n    );\r\n};\r\n\r\nInputSlotMorph.prototype.setContents = function (aStringOrFloat) {\r\n    var cnts = this.contents(),\r\n        dta = aStringOrFloat,\r\n        isConstant = dta instanceof Array;\r\n    if (isConstant) {\r\n        dta = localize(dta[0]);\r\n        cnts.isItalic = !this.isReadOnly;\r\n    } else { // assume dta is a localizable choice if it's a key in my choices\r\n        cnts.isItalic = false;\r\n        if (!isNil(this.choices) && this.choices[dta] instanceof Array) {\r\n            return this.setContents(this.choices[dta]);\r\n        }\r\n    }\r\n    cnts.text = dta;\r\n    if (isNil(dta)) {\r\n        cnts.text = '';\r\n    } else if (dta.toString) {\r\n        cnts.text = dta.toString();\r\n    }\r\n    cnts.drawNew();\r\n\r\n    // adjust to zebra coloring:\r\n    if (this.isReadOnly && (this.parent instanceof BlockMorph)) {\r\n        this.parent.fixLabelColor();\r\n    }\r\n\r\n    // remember the constant, if any\r\n    this.constant = isConstant ? aStringOrFloat : null;\r\n};\r\n\r\nInputSlotMorph.prototype.userSetContents = function (aStringOrFloat) {\r\n    // enable copy-on-edit for inherited scripts\r\n    this.selectForEdit().setContents(aStringOrFloat);\r\n};\r\n\r\n// InputSlotMorph drop-down menu:\r\n\r\nInputSlotMorph.prototype.dropDownMenu = function (enableKeyboard) {\r\n    var menu = this.menuFromDict(this.choices, null, enableKeyboard);\r\n    if (!menu) { // has already happened\r\n        return;\r\n    }\r\n    if (menu.items.length > 0) {\r\n        if (enableKeyboard) {\r\n            menu.popup(this.world(), this.bottomLeft());\r\n            menu.getFocus();\r\n        } else {\r\n            menu.popUpAtHand(this.world());\r\n        }\r\n    }\r\n};\r\n\r\nInputSlotMorph.prototype.menuFromDict = function (\r\n    choices,\r\n    noEmptyOption,\r\n    enableKeyboard)\r\n{\r\n    var key,\r\n        menu = new MenuMorph(\r\n            this.userSetContents,\r\n            null,\r\n            this,\r\n            this.fontSize\r\n        );\r\n\r\n    if (choices instanceof Function) {\r\n        choices = choices.call(this);\r\n    } else if (isString(choices)) {\r\n        choices = this[choices](enableKeyboard);\r\n        if (!choices) { // menu has already happened\r\n            return;\r\n        }\r\n    }\r\n    if (!noEmptyOption) {\r\n        menu.addItem(' ', null);\r\n    }\r\n    for (key in choices) {\r\n        if (Object.prototype.hasOwnProperty.call(choices, key)) {\r\n            if (key[0] === '~') {\r\n                menu.addLine();\r\n            // } else if (key.indexOf('§_def') === 0) {\r\n            //     menu.addItem(choices[key].blockInstance(), choices[key]);\r\n            } else if (choices[key] instanceof Object &&\r\n                    !(choices[key] instanceof Array) &&\r\n                    (typeof choices[key] !== 'function')) {\r\n                menu.addMenu(key, this.menuFromDict(choices[key], true));\r\n            } else {\r\n                menu.addItem(key, choices[key]);\r\n            }\r\n        }\r\n    }\r\n    return menu;\r\n};\r\n\r\nInputSlotMorph.prototype.messagesMenu = function () {\r\n    var dict = {},\r\n        rcvr = this.parentThatIsA(BlockMorph).scriptTarget(),\r\n        stage = rcvr.parentThatIsA(StageMorph),\r\n        myself = this,\r\n        allNames = [];\r\n\r\n    stage.children.concat(stage).forEach(function (morph) {\r\n        if (isSnapObject(morph)) {\r\n            allNames = allNames.concat(morph.allMessageNames());\r\n        }\r\n    });\r\n    allNames.forEach(function (name) {\r\n        dict[name] = name;\r\n    });\r\n    if (allNames.length > 0) {\r\n        dict['~'] = null;\r\n    }\r\n    dict['new...'] = function () {\r\n\r\n        new DialogBoxMorph(\r\n            myself,\r\n            myself.setContents,\r\n            myself\r\n        ).prompt(\r\n            'Message name',\r\n            null,\r\n            myself.world()\r\n        );\r\n    };\r\n    return dict;\r\n};\r\n\r\nInputSlotMorph.prototype.messagesReceivedMenu = function () {\r\n    var dict = {'any message': ['any message']},\r\n        rcvr = this.parentThatIsA(BlockMorph).scriptTarget(),\r\n        stage = rcvr.parentThatIsA(StageMorph),\r\n        myself = this,\r\n        allNames = [];\r\n\r\n    stage.children.concat(stage).forEach(function (morph) {\r\n        if (isSnapObject(morph)) {\r\n            allNames = allNames.concat(morph.allMessageNames());\r\n        }\r\n    });\r\n    allNames.forEach(function (name) {\r\n        dict[name] = name;\r\n    });\r\n    dict['~'] = null;\r\n    dict['new...'] = function () {\r\n\r\n        new DialogBoxMorph(\r\n            myself,\r\n            myself.setContents,\r\n            myself\r\n        ).prompt(\r\n            'Message name',\r\n            null,\r\n            myself.world()\r\n        );\r\n    };\r\n    return dict;\r\n};\r\n\r\nInputSlotMorph.prototype.collidablesMenu = function () {\r\n    var dict = {\r\n            'mouse-pointer' : ['mouse-pointer'],\r\n            edge : ['edge'],\r\n            'pen trails' : ['pen trails']\r\n        },\r\n        rcvr = this.parentThatIsA(BlockMorph).scriptTarget(),\r\n        stage = rcvr.parentThatIsA(StageMorph),\r\n        allNames = [];\r\n\r\n    stage.children.forEach(function (morph) {\r\n        if (morph instanceof SpriteMorph && !morph.isTemporary) {\r\n            if (morph.name !== rcvr.name) {\r\n                allNames = allNames.concat(morph.name);\r\n            }\r\n        }\r\n    });\r\n    if (allNames.length > 0) {\r\n        dict['~'] = null;\r\n        allNames.forEach(function (name) {\r\n            dict[name] = name;\r\n        });\r\n    }\r\n    return dict;\r\n};\r\n\r\nInputSlotMorph.prototype.distancesMenu = function () {\r\n    var dict = {\r\n            'mouse-pointer' : ['mouse-pointer']\r\n        },\r\n        rcvr = this.parentThatIsA(BlockMorph).scriptTarget(),\r\n        stage = rcvr.parentThatIsA(StageMorph),\r\n        allNames = [];\r\n\r\n    stage.children.forEach(function (morph) {\r\n        if (morph instanceof SpriteMorph && !morph.isTemporary) {\r\n            if (morph.name !== rcvr.name) {\r\n                allNames = allNames.concat(morph.name);\r\n            }\r\n        }\r\n    });\r\n    if (allNames.length > 0) {\r\n        dict['~'] = null;\r\n        allNames.forEach(function (name) {\r\n            dict[name] = name;\r\n        });\r\n    }\r\n    return dict;\r\n};\r\n\r\nInputSlotMorph.prototype.clonablesMenu = function () {\r\n    var dict = {},\r\n        rcvr = this.parentThatIsA(BlockMorph).scriptTarget(),\r\n        stage = rcvr.parentThatIsA(StageMorph),\r\n        allNames = [];\r\n\r\n    if (rcvr instanceof SpriteMorph) {\r\n        dict.myself = ['myself'];\r\n    }\r\n    stage.children.forEach(function (morph) {\r\n        if (morph instanceof SpriteMorph && !morph.isTemporary) {\r\n            allNames = allNames.concat(morph.name);\r\n        }\r\n    });\r\n    if (allNames.length > 0) {\r\n        dict['~'] = null;\r\n        allNames.forEach(function (name) {\r\n            dict[name] = name;\r\n        });\r\n    }\r\n    return dict;\r\n};\r\n\r\nInputSlotMorph.prototype.objectsMenu = function () {\r\n    var rcvr = this.parentThatIsA(BlockMorph).scriptTarget(),\r\n        stage = rcvr.parentThatIsA(StageMorph),\r\n        dict = {},\r\n        allNames = [];\r\n\r\n    dict[stage.name] = stage.name;\r\n    stage.children.forEach(function (morph) {\r\n        if (morph instanceof SpriteMorph && !morph.isTemporary) {\r\n            allNames.push(morph.name);\r\n        }\r\n    });\r\n    if (allNames.length > 0) {\r\n        dict['~'] = null;\r\n        allNames.forEach(function (name) {\r\n            dict[name] = name;\r\n        });\r\n    }\r\n    return dict;\r\n};\r\n\r\nInputSlotMorph.prototype.typesMenu = function () {\r\n    var dict = {\r\n        number : ['number'],\r\n        text : ['text'],\r\n        Boolean : ['Boolean'],\r\n        list : ['list']\r\n    };\r\n    if (SpriteMorph.prototype.enableFirstClass) {\r\n        dict.sprite = ['sprite'];\r\n    }\r\n    dict.costume = ['costume'];\r\n    dict.sound = ['sound'];\r\n    dict.command = ['command'];\r\n    dict.reporter = ['reporter'];\r\n    dict.predicate = ['predicate'];\r\n    return dict;\r\n};\r\n\r\nInputSlotMorph.prototype.gettablesMenu = function () {\r\n    var dict = {\r\n        neighbors : ['neighbors'],\r\n        self : ['self'],\r\n        'other sprites' : ['other sprites'],\r\n        clones : ['clones'],\r\n        'other clones' : ['other clones']\r\n    };\r\n    if (SpriteMorph.prototype.enableNesting) {\r\n        dict.parts = ['parts'];\r\n        dict.anchor = ['anchor'];\r\n    }\r\n    dict.stage = ['stage'];\r\n    if (StageMorph.prototype.enableInheritance) {\r\n        dict.children = ['children'];\r\n        dict.parent = ['parent'];\r\n        if (this.world().isDevMode) {\r\n            dict['temporary?'] = ['temporary?'];\r\n        }\r\n    }\r\n    dict.name = ['name'];\r\n    dict.costumes = ['costumes'];\r\n    dict.sounds = ['sounds'];\r\n    dict['dangling?'] = ['dangling?'];\r\n    dict['rotation x'] = ['rotation x'];\r\n    dict['rotation y'] = ['rotation y'];\r\n    dict['center x'] = ['center x'];\r\n    dict['center y'] = ['center y'];\r\n    return dict;\r\n};\r\n\r\nInputSlotMorph.prototype.attributesMenu = function () {\r\n    var block = this.parentThatIsA(BlockMorph),\r\n        objName = block.inputs()[1].evaluate(),\r\n        rcvr = block.scriptTarget(),\r\n        stage = rcvr.parentThatIsA(StageMorph),\r\n        obj,\r\n        dict = {},\r\n        varNames = [];\r\n\r\n    if (objName === stage.name) {\r\n        obj = stage;\r\n    } else {\r\n        obj = detect(\r\n            stage.children,\r\n            function (morph) {\r\n                return morph.name === objName;\r\n            }\r\n        );\r\n    }\r\n    if (!obj) {\r\n        return dict;\r\n    }\r\n    if (obj instanceof SpriteMorph) {\r\n        dict = {\r\n            'x position' : ['x position'],\r\n            'y position' : ['y position'],\r\n            'direction' : ['direction'],\r\n            'costume #' : ['costume #'],\r\n            'costume name' : ['costume name'],\r\n            'size' : ['size']\r\n        };\r\n    } else { // the stage\r\n        dict = {\r\n            'costume #' : ['costume #'],\r\n            'costume name' : ['costume name']\r\n        };\r\n    }\r\n    varNames = obj.variables.names();\r\n    if (varNames.length > 0) {\r\n        dict['~'] = null;\r\n        varNames.forEach(function (name) {\r\n            dict[name] = name;\r\n        });\r\n    }\r\n    /*\r\n    obj.customBlocks.forEach(function (def, i) {\r\n        dict['§_def' + i] = def\r\n    });\r\n    */\r\n    return dict;\r\n};\r\n\r\nInputSlotMorph.prototype.costumesMenu = function () {\r\n    var rcvr = this.parentThatIsA(BlockMorph).scriptTarget(),\r\n        dict,\r\n        allNames = [];\r\n    if (rcvr instanceof SpriteMorph) {\r\n        dict = {Turtle : ['Turtle']};\r\n    } else { // stage\r\n        dict = {Empty : ['Empty']};\r\n    }\r\n    rcvr.costumes.asArray().forEach(function (costume) {\r\n        allNames = allNames.concat(costume.name);\r\n    });\r\n    if (allNames.length > 0) {\r\n        dict['~'] = null;\r\n        allNames.forEach(function (name) {\r\n            dict[name] = name;\r\n        });\r\n    }\r\n    return dict;\r\n};\r\n\r\nInputSlotMorph.prototype.soundsMenu = function () {\r\n    var rcvr = this.parentThatIsA(BlockMorph).scriptTarget(),\r\n        allNames = [],\r\n        dict = {};\r\n\r\n    rcvr.sounds.asArray().forEach(function (sound) {\r\n        allNames = allNames.concat(sound.name);\r\n    });\r\n    if (allNames.length > 0) {\r\n        allNames.forEach(function (name) {\r\n            dict[name] = name;\r\n        });\r\n    }\r\n    return dict;\r\n};\r\n\r\nInputSlotMorph.prototype.shadowedVariablesMenu = function () {\r\n    var block = this.parentThatIsA(BlockMorph),\r\n        vars,\r\n        attribs,\r\n        rcvr,\r\n        dict = {};\r\n\r\n    if (!block) {return dict; }\r\n    rcvr = block.scriptTarget();\r\n    if (this.parentThatIsA(RingMorph)) {\r\n    \t// show own local vars and attributes, because this is likely to be\r\n     \t// inside TELL, ASK or OF\r\n        vars = rcvr.variables.names();\r\n        vars.forEach(function (name) {\r\n            dict[name] = name;\r\n        });\r\n        attribs = rcvr.attributes;\r\n        /*\r\n        if (vars.length && attribs.length) {\r\n            dict['~'] = null; // add line\r\n        }\r\n        */\r\n        attribs.forEach(function (name) {\r\n            dict[name] = [name];\r\n        });\r\n    } else if (rcvr && rcvr.exemplar) {\r\n    \t// only show shadowed vars and attributes\r\n        vars = rcvr.inheritedVariableNames(true);\r\n        vars.forEach(function (name) {\r\n            dict[name] = name;\r\n        });\r\n        attribs = rcvr.shadowedAttributes();\r\n        /*\r\n        if (vars.length && attribs.length) {\r\n            dict['~'] = null; // add line\r\n        }\r\n        */\r\n        attribs.forEach(function (name) {\r\n            dict[name] = [name];\r\n        });\r\n    }\r\n    return dict;\r\n};\r\n\r\nInputSlotMorph.prototype.pianoKeyboardMenu = function () {\r\n    var menu, block, instrument;\r\n    block = this.parentThatIsA(BlockMorph);\r\n    if (block) {\r\n        instrument = block.scriptTarget().instrument;\r\n    }\r\n    menu = new PianoMenuMorph(\r\n        this.setContents,\r\n        this,\r\n        this.fontSize,\r\n        instrument\r\n    );\r\n    menu.popup(this.world(), new Point(\r\n        this.right() - (menu.width() / 2),\r\n        this.bottom()\r\n    ));\r\n    menu.selectKey(this.evaluate());\r\n};\r\n\r\nInputSlotMorph.prototype.setChoices = function (dict, readonly) {\r\n    // externally specify choices and read-only status,\r\n    // used for custom blocks\r\n    var cnts = this.contents();\r\n    this.choices = dict;\r\n    this.isReadOnly = readonly || false;\r\n    if (this.parent instanceof BlockMorph) {\r\n        this.parent.fixLabelColor();\r\n        if (!readonly) {\r\n            cnts.shadowOffset = new Point();\r\n            cnts.shadowColor = null;\r\n            cnts.setColor(new Color(0, 0, 0));\r\n        }\r\n    }\r\n    this.fixLayout();\r\n};\r\n\r\n// InputSlotMorph layout:\r\n\r\nInputSlotMorph.prototype.fixLayout = function () {\r\n    var width, height, arrowWidth,\r\n        contents = this.contents(),\r\n        arrow = this.arrow();\r\n\r\n    contents.isNumeric = this.isNumeric;\r\n    contents.isEditable = (!this.isReadOnly);\r\n    if (this.isReadOnly) {\r\n        contents.disableSelecting();\r\n        contents.color = new Color(254, 254, 254);\r\n    } else {\r\n        contents.enableSelecting();\r\n        contents.color = new Color(0, 0, 0);\r\n    }\r\n\r\n    if (this.choices) {\r\n        arrow.setSize(this.fontSize);\r\n        arrow.show();\r\n    } else {\r\n        arrow.hide();\r\n    }\r\n    arrowWidth = arrow.isVisible ? arrow.width() : 0;\r\n\r\n    height = contents.height() + this.edge * 2; // + this.typeInPadding * 2\r\n    if (this.isNumeric) {\r\n        width = contents.width()\r\n            + Math.floor(arrowWidth * 0.5)\r\n            + height\r\n            + this.typeInPadding * 2;\r\n    } else {\r\n        width = Math.max(\r\n            contents.width()\r\n                + arrowWidth\r\n                + this.edge * 2\r\n                + this.typeInPadding * 2,\r\n            contents.rawHeight ? // single vs. multi-line contents\r\n                        contents.rawHeight() + arrowWidth\r\n                                : fontHeight(contents.fontSize) / 1.3\r\n                                    + arrowWidth,\r\n            this.minWidth // for text-type slots\r\n        );\r\n    }\r\n    this.setExtent(new Point(width, height));\r\n    if (this.isNumeric) {\r\n        contents.setPosition(new Point(\r\n            Math.floor(height / 2),\r\n            this.edge\r\n        ).add(new Point(this.typeInPadding, 0)).add(this.position()));\r\n    } else {\r\n        contents.setPosition(new Point(\r\n            this.edge,\r\n            this.edge\r\n        ).add(new Point(this.typeInPadding, 0)).add(this.position()));\r\n    }\r\n\r\n    if (arrow.isVisible) {\r\n        arrow.setPosition(new Point(\r\n            this.right() - arrowWidth - this.edge,\r\n            contents.top()\r\n        ));\r\n    }\r\n\r\n    if (this.parent) {\r\n        if (this.parent.fixLayout) {\r\n            if (this.world()) {\r\n                this.startLayout();\r\n                this.parent.fixLayout();\r\n                this.endLayout();\r\n            } else {\r\n                this.parent.fixLayout();\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\n// InputSlotMorph events:\r\n\r\nInputSlotMorph.prototype.mouseDownLeft = function (pos) {\r\n    var world;\r\n    if (this.isReadOnly || this.arrow().bounds.containsPoint(pos)) {\r\n        this.escalateEvent('mouseDownLeft', pos);\r\n    } else {\r\n        world = this.world();\r\n        if (world) {\r\n            world.stopEditing();\r\n        }\r\n        this.selectForEdit().contents().edit();\r\n    }\r\n};\r\n\r\nInputSlotMorph.prototype.mouseClickLeft = function (pos) {\r\n    if (this.arrow().bounds.containsPoint(pos)) {\r\n        this.dropDownMenu();\r\n    } else if (this.isReadOnly) {\r\n        this.dropDownMenu();\r\n    } else {\r\n        this.contents().edit();\r\n    }\r\n};\r\n\r\nInputSlotMorph.prototype.reactToKeystroke = function () {\r\n    var cnts;\r\n    if (this.constant) {\r\n        cnts = this.contents();\r\n        this.constant = null;\r\n        cnts.isItalic = false;\r\n        cnts.drawNew();\r\n    }\r\n};\r\n\r\nInputSlotMorph.prototype.reactToEdit = function () {\r\n    this.contents().clearSelection();\r\n};\r\n\r\nInputSlotMorph.prototype.freshTextEdit = function (aStringOrTextMorph) {\r\n    this.onNextStep = function () {\r\n        aStringOrTextMorph.selectAll();\r\n    };\r\n};\r\n\r\n// InputSlotMorph menu:\r\n\r\nInputSlotMorph.prototype.userMenu = function () {\r\n    var menu = new MenuMorph(this);\r\n    if (!StageMorph.prototype.enableCodeMapping) {\r\n        return this.parent.userMenu();\r\n    }\r\n    if (this.isNumeric) {\r\n        menu.addItem(\r\n            'code number mapping...',\r\n            'mapNumberToCode'\r\n        );\r\n    } else {\r\n        menu.addItem(\r\n            'code string mapping...',\r\n            'mapStringToCode'\r\n        );\r\n    }\r\n    return menu;\r\n};\r\n\r\n// InputSlotMorph code mapping\r\n\r\n/*\r\n    code mapping lets you use blocks to generate arbitrary text-based\r\n    source code that can be exported and compiled / embedded elsewhere,\r\n    it's not part of Snap's evaluator and not needed for Snap itself\r\n*/\r\n\r\nInputSlotMorph.prototype.mapStringToCode = function () {\r\n    // private - open a dialog box letting the user map code via the GUI\r\n    new DialogBoxMorph(\r\n        this,\r\n        function (code) {\r\n            StageMorph.prototype.codeMappings.string = code;\r\n        },\r\n        this\r\n    ).promptCode(\r\n        'Code mapping - String <#1>',\r\n        StageMorph.prototype.codeMappings.string || '',\r\n        this.world()\r\n    );\r\n};\r\n\r\nInputSlotMorph.prototype.mapNumberToCode = function () {\r\n    // private - open a dialog box letting the user map code via the GUI\r\n    new DialogBoxMorph(\r\n        this,\r\n        function (code) {\r\n            StageMorph.prototype.codeMappings.number = code;\r\n        },\r\n        this\r\n    ).promptCode(\r\n        'Code mapping - Number <#1>',\r\n        StageMorph.prototype.codeMappings.number || '',\r\n        this.world()\r\n    );\r\n};\r\n\r\nInputSlotMorph.prototype.mappedCode = function () {\r\n    var block = this.parentThatIsA(BlockMorph),\r\n        val = this.evaluate(),\r\n        code;\r\n\r\n    if (this.isNumeric) {\r\n        code = StageMorph.prototype.codeMappings.number || '<#1>';\r\n        return code.replace(/<#1>/g, val);\r\n    }\r\n    if (!isNaN(parseFloat(val))) {return val; }\r\n    if (!isString(val)) {return val; }\r\n    if (block && contains(\r\n            ['doSetVar', 'doChangeVar', 'doShowVar', 'doHideVar'],\r\n            block.selector\r\n        )) {\r\n        return val;\r\n    }\r\n    code = StageMorph.prototype.codeMappings.string || '<#1>';\r\n    return code.replace(/<#1>/g, val);\r\n};\r\n\r\n// InputSlotMorph evaluating:\r\n\r\nInputSlotMorph.prototype.evaluate = function () {\r\n/*\r\n    answer my content's text string. If I am numerical convert that\r\n    string to a number. If the conversion fails answer the string\r\n    (e.g. for special choices like 'any', 'all' or 'last') otherwise\r\n    the numerical value.\r\n*/\r\n    var num,\r\n        contents = this.contents();\r\n    if (this.constant) {\r\n        return this.constant;\r\n    }\r\n    if (this.isNumeric) {\r\n        num = parseFloat(contents.text || '0');\r\n        if (!isNaN(num)) {\r\n            return num;\r\n        }\r\n    }\r\n    return contents.text;\r\n};\r\n\r\nInputSlotMorph.prototype.isEmptySlot = function () {\r\n    return this.contents().text === '';\r\n};\r\n\r\n// InputSlotMorph single-stepping:\r\n\r\nInputSlotMorph.prototype.flash = function () {\r\n    // don't redraw the label b/c zebra coloring\r\n    if (!this.cachedNormalColor) {\r\n        this.cachedNormalColor = this.color;\r\n        this.color = this.activeHighlight;\r\n        this.drawNew();\r\n        this.changed();\r\n    }\r\n};\r\n\r\nInputSlotMorph.prototype.unflash = function () {\r\n    // don't redraw the label b/c zebra coloring\r\n    if (this.cachedNormalColor) {\r\n        var clr = this.cachedNormalColor;\r\n        this.cachedNormalColor = null;\r\n        this.color = clr;\r\n        this.drawNew();\r\n        this.changed();\r\n    }\r\n};\r\n\r\n// InputSlotMorph drawing:\r\n\r\nInputSlotMorph.prototype.drawNew = function () {\r\n    var context, borderColor, r;\r\n\r\n    // initialize my surface property\r\n    this.image = newCanvas(this.extent());\r\n    context = this.image.getContext('2d');\r\n    if (this.cachedNormalColor) { // if flashing\r\n        borderColor = this.color;\r\n    } else if (this.parent) {\r\n        borderColor = this.parent.color;\r\n    } else {\r\n        borderColor = new Color(120, 120, 120);\r\n    }\r\n    context.fillStyle = this.color.toString();\r\n    if (this.isReadOnly && !this.cachedNormalColor) { // unless flashing\r\n        context.fillStyle = borderColor.darker().toString();\r\n    }\r\n\r\n    // cache my border colors\r\n    this.cachedClr = borderColor.toString();\r\n    this.cachedClrBright = borderColor.lighter(this.contrast)\r\n        .toString();\r\n    this.cachedClrDark = borderColor.darker(this.contrast).toString();\r\n\r\n    if (!this.isNumeric) {\r\n        context.fillRect(\r\n            this.edge,\r\n            this.edge,\r\n            this.width() - this.edge * 2,\r\n            this.height() - this.edge * 2\r\n        );\r\n        if (!MorphicPreferences.isFlat) {\r\n            this.drawRectBorder(context);\r\n        }\r\n    } else {\r\n        r = (this.height() - (this.edge * 2)) / 2;\r\n        context.beginPath();\r\n        context.arc(\r\n            r + this.edge,\r\n            r + this.edge,\r\n            r,\r\n            radians(90),\r\n            radians(-90),\r\n            false\r\n        );\r\n        context.arc(\r\n            this.width() - r - this.edge,\r\n            r + this.edge,\r\n            r,\r\n            radians(-90),\r\n            radians(90),\r\n            false\r\n        );\r\n        context.closePath();\r\n        context.fill();\r\n        if (!MorphicPreferences.isFlat) {\r\n            this.drawRoundBorder(context);\r\n        }\r\n    }\r\n};\r\n\r\nInputSlotMorph.prototype.drawRectBorder = function (context) {\r\n    var shift = this.edge * 0.5,\r\n        gradient;\r\n\r\n    context.lineWidth = this.edge;\r\n    context.lineJoin = 'round';\r\n    context.lineCap = 'round';\r\n\r\n    context.shadowOffsetY = shift;\r\n    context.shadowBlur = this.edge;\r\n    context.shadowColor = this.color.darker(80).toString();\r\n\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        0,\r\n        0,\r\n        this.edge\r\n    );\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    gradient.addColorStop(1, this.cachedClrDark);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(this.edge, shift);\r\n    context.lineTo(this.width() - this.edge - shift, shift);\r\n    context.stroke();\r\n\r\n    context.shadowOffsetY = 0;\r\n\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        0,\r\n        this.edge,\r\n        0\r\n    );\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    gradient.addColorStop(1, this.cachedClrDark);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(shift, this.edge);\r\n    context.lineTo(shift, this.height() - this.edge - shift);\r\n    context.stroke();\r\n\r\n    context.shadowOffsetX = 0;\r\n    context.shadowOffsetY = 0;\r\n    context.shadowBlur = 0;\r\n\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        this.height() - this.edge,\r\n        0,\r\n        this.height()\r\n    );\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    gradient.addColorStop(1, this.cachedClr);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(this.edge, this.height() - shift);\r\n    context.lineTo(this.width() - this.edge, this.height() - shift);\r\n    context.stroke();\r\n\r\n    gradient = context.createLinearGradient(\r\n        this.width() - this.edge,\r\n        0,\r\n        this.width(),\r\n        0\r\n    );\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    gradient.addColorStop(1, this.cachedClr);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(this.width() - shift, this.edge);\r\n    context.lineTo(this.width() - shift, this.height() - this.edge);\r\n    context.stroke();\r\n\r\n};\r\n\r\nInputSlotMorph.prototype.drawRoundBorder = function (context) {\r\n    var shift = this.edge * 0.5,\r\n        r = (this.height() - (this.edge * 2)) / 2,\r\n        start,\r\n        end,\r\n        gradient;\r\n\r\n    context.lineWidth = this.edge;\r\n    context.lineJoin = 'round';\r\n    context.lineCap = 'round';\r\n\r\n    // straight top edge:\r\n    start = r + this.edge;\r\n    end = this.width() - r - this.edge;\r\n    if (end > start) {\r\n\r\n        context.shadowOffsetX = shift;\r\n        context.shadowOffsetY = shift;\r\n        context.shadowBlur = this.edge;\r\n        context.shadowColor = this.color.darker(80).toString();\r\n\r\n        gradient = context.createLinearGradient(\r\n            0,\r\n            0,\r\n            0,\r\n            this.edge\r\n        );\r\n        gradient.addColorStop(0, this.cachedClr);\r\n        gradient.addColorStop(1, this.cachedClrDark);\r\n        context.strokeStyle = gradient;\r\n        context.beginPath();\r\n\r\n        context.moveTo(start, shift);\r\n        context.lineTo(end, shift);\r\n        context.stroke();\r\n\r\n        context.shadowOffsetX = 0;\r\n        context.shadowOffsetY = 0;\r\n        context.shadowBlur = 0;\r\n    }\r\n\r\n    // straight bottom edge:\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        this.height() - this.edge,\r\n        0,\r\n        this.height()\r\n    );\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    gradient.addColorStop(1, this.cachedClr);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(r + this.edge, this.height() - shift);\r\n    context.lineTo(this.width() - r - this.edge, this.height() - shift);\r\n    context.stroke();\r\n\r\n    r = this.height() / 2;\r\n\r\n    context.shadowOffsetX = shift;\r\n    context.shadowOffsetY = shift;\r\n    context.shadowBlur = this.edge;\r\n    context.shadowColor = this.color.darker(80).toString();\r\n\r\n    // top edge: left corner\r\n    gradient = context.createRadialGradient(\r\n        r,\r\n        r,\r\n        r - this.edge,\r\n        r,\r\n        r,\r\n        r\r\n    );\r\n    gradient.addColorStop(1, this.cachedClr);\r\n    gradient.addColorStop(0, this.cachedClrDark);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.arc(\r\n        r,\r\n        r,\r\n        r - shift,\r\n        radians(180),\r\n        radians(270),\r\n        false\r\n    );\r\n\r\n    context.stroke();\r\n\r\n    context.shadowOffsetX = 0;\r\n    context.shadowOffsetY = 0;\r\n    context.shadowBlur = 0;\r\n\r\n    // bottom edge: right corner\r\n    gradient = context.createRadialGradient(\r\n        this.width() - r,\r\n        r,\r\n        r - this.edge,\r\n        this.width() - r,\r\n        r,\r\n        r\r\n    );\r\n    gradient.addColorStop(1, this.cachedClr);\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.arc(\r\n        this.width() - r,\r\n        r,\r\n        r - shift,\r\n        radians(0),\r\n        radians(90),\r\n        false\r\n    );\r\n    context.stroke();\r\n};\r\n\r\n\r\n\r\n\r\n\r\n// TemplateSlotMorph ///////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a reporter block template sitting on a pedestal.\r\n    My block spec is\r\n\r\n    %t        - template\r\n\r\n    evaluate returns the embedded reporter template's label string\r\n*/\r\n\r\n// TemplateSlotMorph inherits from ArgMorph:\r\n\r\nTemplateSlotMorph.prototype = new ArgMorph();\r\nTemplateSlotMorph.prototype.constructor = TemplateSlotMorph;\r\nTemplateSlotMorph.uber = ArgMorph.prototype;\r\n\r\n// TemplateSlotMorph instance creation:\r\n\r\nfunction TemplateSlotMorph(name) {\r\n    this.init(name);\r\n}\r\n\r\nTemplateSlotMorph.prototype.init = function (name) {\r\n    var template = new ReporterBlockMorph();\r\n    this.labelString = name || '';\r\n    template.isDraggable = false;\r\n    template.isTemplate = true;\r\n    if (modules.objects !== undefined) {\r\n        template.color = SpriteMorph.prototype.blockColor.variables;\r\n        template.category = 'variables';\r\n    } else {\r\n        template.color = new Color(243, 118, 29);\r\n        template.category = null;\r\n    }\r\n    template.setSpec(this.labelString);\r\n    template.selector = 'reportGetVar';\r\n    TemplateSlotMorph.uber.init.call(this);\r\n    this.add(template);\r\n    this.fixLayout();\r\n    this.isDraggable = false;\r\n    this.isStatic = true; // I cannot be exchanged\r\n};\r\n\r\n// TemplateSlotMorph accessing:\r\n\r\nTemplateSlotMorph.prototype.getSpec = function () {\r\n    return '%t';\r\n};\r\n\r\nTemplateSlotMorph.prototype.template = function () {\r\n    return this.children[0];\r\n};\r\n\r\nTemplateSlotMorph.prototype.contents = function () {\r\n    return this.template().blockSpec;\r\n};\r\n\r\nTemplateSlotMorph.prototype.setContents = function (aString) {\r\n    var tmp = this.template();\r\n    tmp.setSpec(aString);\r\n    tmp.fixBlockColor(); // fix zebra coloring\r\n    tmp.fixLabelColor();\r\n};\r\n\r\n// TemplateSlotMorph evaluating:\r\n\r\nTemplateSlotMorph.prototype.evaluate = function () {\r\n    return this.contents();\r\n};\r\n\r\n// TemplateSlotMorph layout:\r\n\r\nTemplateSlotMorph.prototype.fixLayout = function () {\r\n    var template = this.template();\r\n    this.setExtent(template.extent().add(this.edge * 2 + 2));\r\n    template.setPosition(this.position().add(this.edge + 1));\r\n    if (this.parent) {\r\n        if (this.parent.fixLayout) {\r\n            this.parent.fixLayout();\r\n        }\r\n    }\r\n};\r\n\r\n// TemplateSlotMorph drop behavior:\r\n\r\nTemplateSlotMorph.prototype.wantsDropOf = function (aMorph) {\r\n    return aMorph.selector === 'reportGetVar';\r\n};\r\n\r\nTemplateSlotMorph.prototype.reactToDropOf = function (droppedMorph) {\r\n    if (droppedMorph.selector === 'reportGetVar') {\r\n        droppedMorph.destroy();\r\n    }\r\n};\r\n\r\n// TemplateSlotMorph drawing:\r\n\r\nTemplateSlotMorph.prototype.drawNew = function () {\r\n    var context;\r\n    if (this.parent instanceof Morph) {\r\n        this.color = this.parent.color.copy();\r\n    }\r\n    this.cachedClr = this.color.toString();\r\n    this.cachedClrBright = this.bright();\r\n    this.cachedClrDark = this.dark();\r\n    this.image = newCanvas(this.extent());\r\n    context = this.image.getContext('2d');\r\n    context.fillStyle = this.cachedClr;\r\n    this.drawRounded(context);\r\n};\r\n\r\nTemplateSlotMorph.prototype.drawRounded = ReporterBlockMorph\r\n    .prototype.drawRounded;\r\n\r\n// TemplateSlotMorph single-stepping\r\n\r\nTemplateSlotMorph.prototype.flash = function () {\r\n    this.template().flash();\r\n};\r\n\r\nTemplateSlotMorph.prototype.unflash = function () {\r\n    this.template().unflash();\r\n};\r\n\r\n// BooleanSlotMorph ////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a diamond-shaped argument slot.\r\n    My block spec is\r\n\r\n    %b         - Boolean\r\n    %boolUE    - Boolean unevaluated\r\n\r\n    I can be directly edited. When the user clicks on me I toggle\r\n    between <true>, <false> and <null> values.\r\n\r\n    evaluate() returns my value.\r\n\r\n    my most important public attributes and accessors are:\r\n\r\n    value                      - user editable contents (Boolean or null)\r\n    setContents(Boolean/null)  - display the argument (Boolean or null)\r\n*/\r\n\r\n// BooleanSlotMorph inherits from ArgMorph:\r\n\r\nBooleanSlotMorph.prototype = new ArgMorph();\r\nBooleanSlotMorph.prototype.constructor = BooleanSlotMorph;\r\nBooleanSlotMorph.uber = ArgMorph.prototype;\r\n\r\n// BooleanSlotMorph preferences settings\r\n\r\nBooleanSlotMorph.prototype.isTernary = true;\r\n\r\n// BooleanSlotMorph instance creation:\r\n\r\nfunction BooleanSlotMorph(initialValue) {\r\n    this.init(initialValue);\r\n}\r\n\r\nBooleanSlotMorph.prototype.init = function (initialValue) {\r\n    this.value = (typeof initialValue === 'boolean') ? initialValue : null;\r\n    this.isUnevaluated = false;\r\n    BooleanSlotMorph.uber.init.call(this);\r\n};\r\n\r\nBooleanSlotMorph.prototype.getSpec = function () {\r\n    return this.isUnevaluated ? '%boolUE' : '%b';\r\n};\r\n\r\n// BooleanSlotMorph accessing:\r\n\r\nBooleanSlotMorph.prototype.evaluate = function () {\r\n    return this.value;\r\n};\r\n\r\nBooleanSlotMorph.prototype.isEmptySlot = function () {\r\n    return this.value === null;\r\n};\r\n\r\nBooleanSlotMorph.prototype.isBinary = function () {\r\n    return !this.isTernary &&\r\n        isNil(this.parentThatIsA(RingMorph)) &&\r\n        !isNil(this.parentThatIsA(ScriptsMorph));\r\n};\r\n\r\nBooleanSlotMorph.prototype.setContents = function (boolOrNull, silently) {\r\n    this.value = (typeof boolOrNull === 'boolean') ? boolOrNull : null;\r\n    if (silently) {return; }\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nBooleanSlotMorph.prototype.toggleValue = function () {\r\n    var target = this.selectForEdit(),\r\n        ide;\r\n    if (target !== this) {\r\n        return this.toggleValue.call(target);\r\n    }\r\n    ide = this.parentThatIsA(IDE_Morph);\r\n    if (this.isStatic || this.isBinary()) {\r\n        this.setContents(!this.value, true);\r\n    } else {\r\n        switch (this.value) {\r\n        case true:\r\n            this.value = false;\r\n            break;\r\n        case false:\r\n            this.value = null;\r\n            break;\r\n        default:\r\n            this.value = true;\r\n        }\r\n    }\r\n    if (ide && !ide.isAnimating) {\r\n        this.drawNew();\r\n        this.changed();\r\n        return;\r\n    }\r\n    this.drawNew(3);\r\n    this.changed();\r\n    this.nextSteps ([\r\n        function () {\r\n            this.drawNew(2);\r\n            this.changed();\r\n        },\r\n        function () {\r\n            this.drawNew(1);\r\n            this.changed();\r\n        },\r\n        function () {\r\n            this.drawNew();\r\n            this.changed();\r\n        },\r\n    ]);\r\n};\r\n\r\n// BooleanSlotMorph events:\r\n\r\nBooleanSlotMorph.prototype.mouseClickLeft = function () {\r\n    this.toggleValue();\r\n    if (isNil(this.value)) {return; }\r\n    this.reactToSliderEdit();\r\n};\r\n\r\nBooleanSlotMorph.prototype.mouseEnter = function () {\r\n    if (this.isStatic) {return; }\r\n    if (this.value === false && !this.isBinary()) {\r\n        var oldValue = this.value;\r\n        this.value = null;\r\n        this.drawNew(3);\r\n        this.changed();\r\n        this.value = oldValue;\r\n        return;\r\n    }\r\n    this.drawNew(1);\r\n    this.changed();\r\n};\r\n\r\nBooleanSlotMorph.prototype.mouseLeave = function () {\r\n    if (this.isStatic) {return; }\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\n// BooleanSlotMorph menu:\r\n\r\nBooleanSlotMorph.prototype.userMenu = function () {\r\n    var menu = new MenuMorph(this);\r\n    if (!StageMorph.prototype.enableCodeMapping) {\r\n        return this.parent.userMenu();\r\n    }\r\n    if (this.evaluate() === true) {\r\n        menu.addItem(\r\n            'code true mapping...',\r\n            'mapTrueToCode'\r\n        );\r\n    } else {\r\n        menu.addItem(\r\n            'code false mapping...',\r\n            'mapFalseToCode'\r\n        );\r\n    }\r\n    return menu;\r\n};\r\n\r\n// BooleanSlotMorph code mapping\r\n\r\n/*\r\n    code mapping lets you use blocks to generate arbitrary text-based\r\n    source code that can be exported and compiled / embedded elsewhere,\r\n    it's not part of Snap's evaluator and not needed for Snap itself\r\n*/\r\n\r\nBooleanSlotMorph.prototype.mapTrueToCode = function () {\r\n    // private - open a dialog box letting the user map code via the GUI\r\n    new DialogBoxMorph(\r\n        this,\r\n        function (code) {\r\n            StageMorph.prototype.codeMappings['true'] = code;\r\n        },\r\n        this\r\n    ).promptCode(\r\n        'Code mapping - true',\r\n        StageMorph.prototype.codeMappings['true'] || 'true',\r\n        this.world()\r\n    );\r\n};\r\n\r\nBooleanSlotMorph.prototype.mapFalseToCode = function () {\r\n    // private - open a dialog box letting the user map code via the GUI\r\n    new DialogBoxMorph(\r\n        this,\r\n        function (code) {\r\n            StageMorph.prototype.codeMappings['false'] = code;\r\n        },\r\n        this\r\n    ).promptCode(\r\n        'Code mapping - false',\r\n        StageMorph.prototype.codeMappings['false'] || 'false',\r\n        this.world()\r\n    );\r\n};\r\n\r\nBooleanSlotMorph.prototype.mappedCode = function () {\r\n    if (this.evaluate() === true) {\r\n        return StageMorph.prototype.codeMappings.boolTrue || 'true';\r\n    }\r\n    return StageMorph.prototype.codeMappings.boolFalse || 'false';\r\n};\r\n\r\n// BooleanSlotMorph drawing:\r\n\r\nBooleanSlotMorph.prototype.drawNew = function (progress) {\r\n    // \"progress\" is an optional number sliding the knob\r\n    // on a range between 0 and 4\r\n    var context,\r\n        textLabel = this.isStatic ? this.textLabel() : null,\r\n        h;\r\n\r\n    if (textLabel) {\r\n        h = textLabel.height + (this.edge * 3);\r\n        this.silentSetExtent(new Point(\r\n            textLabel.width + (h * 1.5) + (this.edge * 2),\r\n            h\r\n        ));\r\n    } else {\r\n        this.silentSetExtent(new Point(\r\n            (this.fontSize + this.edge * 2) * 2,\r\n            this.fontSize + this.edge * 2\r\n        ));\r\n    }\r\n    if (!(this.cachedNormalColor)) { // unless flashing\r\n        this.color = this.parent ?\r\n                this.parent.color : new Color(200, 200, 200);\r\n    }\r\n    this.cachedClr = this.color.toString();\r\n    this.cachedClrBright = this.bright();\r\n    this.cachedClrDark = this.dark();\r\n    this.image = newCanvas(this.extent());\r\n    context = this.image.getContext('2d');\r\n    this.drawDiamond(context, progress);\r\n    this.drawLabel(context, textLabel);\r\n    this.drawKnob(context, progress);\r\n};\r\n\r\nBooleanSlotMorph.prototype.drawDiamond = function (context, progress) {\r\n    var w = this.width(),\r\n        h = this.height(),\r\n        r = h / 2,\r\n        w2 = w / 2,\r\n        shift = this.edge / 2,\r\n        gradient;\r\n\r\n    // draw the 'flat' shape:\r\n    if (this.cachedNormalColor) { // if flashing\r\n        context.fillStyle = this.color.toString();\r\n    } else {\r\n        switch (this.value) {\r\n        case true:\r\n            context.fillStyle = 'rgb(0, 200, 0)';\r\n            break;\r\n        case false:\r\n            context.fillStyle = 'rgb(200, 0, 0)';\r\n            break;\r\n        default:\r\n            context.fillStyle = this.color.darker(25).toString();\r\n        }\r\n    }\r\n\r\n    if (progress && !this.isEmptySlot()) {\r\n        // left half:\r\n        context.fillStyle = 'rgb(0, 200, 0)';\r\n        context.beginPath();\r\n        context.moveTo(0, r);\r\n        context.lineTo(r, 0);\r\n        context.lineTo(w2, 0);\r\n        context.lineTo(w2, h);\r\n        context.lineTo(r, h);\r\n        context.closePath();\r\n        context.fill();\r\n\r\n        // right half:\r\n        context.fillStyle = 'rgb(200, 0, 0)';\r\n        context.beginPath();\r\n        context.moveTo(w2, 0);\r\n        context.lineTo(w - r, 0);\r\n        context.lineTo(w, r);\r\n        context.lineTo(w - r, h);\r\n        context.lineTo(w2, h);\r\n        context.closePath();\r\n        context.fill();\r\n    } else {\r\n        context.beginPath();\r\n        context.moveTo(0, r);\r\n        context.lineTo(r, 0);\r\n        context.lineTo(w - r, 0);\r\n        context.lineTo(w, r);\r\n        context.lineTo(w - r, h);\r\n        context.lineTo(r, h);\r\n        context.closePath();\r\n        context.fill();\r\n    }\r\n\r\n    if (MorphicPreferences.isFlat) {return; }\r\n\r\n    // add 3D-Effect:\r\n    context.lineWidth = this.edge;\r\n    context.lineJoin = 'round';\r\n    context.lineCap = 'round';\r\n\r\n    context.shadowOffsetX = shift;\r\n    context.shadowBlur = shift;\r\n    context.shadowColor = 'black';\r\n\r\n    // top edge: left corner\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        r,\r\n        this.edge * 0.6,\r\n        r + (this.edge * 0.6)\r\n    );\r\n    gradient.addColorStop(1, this.cachedClrDark);\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(shift, r);\r\n    context.lineTo(r, shift);\r\n    context.closePath();\r\n    context.stroke();\r\n\r\n    // top edge: straight line\r\n    context.shadowOffsetX = 0;\r\n    context.shadowOffsetY = shift;\r\n    context.shadowBlur = this.edge;\r\n\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        0,\r\n        0,\r\n        this.edge\r\n    );\r\n    gradient.addColorStop(1, this.cachedClrDark);\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(r, shift);\r\n    context.lineTo(w - r, shift);\r\n    context.closePath();\r\n    context.stroke();\r\n\r\n    context.shadowOffsetY = 0;\r\n    context.shadowBlur = 0;\r\n\r\n    // bottom edge: right corner\r\n    gradient = context.createLinearGradient(\r\n        w - r - (this.edge * 0.6),\r\n        h - (this.edge * 0.6),\r\n        w - r,\r\n        h\r\n    );\r\n    gradient.addColorStop(1, this.cachedClr);\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(w - r, h - shift);\r\n    context.lineTo(w - shift, r);\r\n    context.closePath();\r\n    context.stroke();\r\n\r\n    // bottom edge: straight line\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        h - this.edge,\r\n        0,\r\n        h\r\n    );\r\n    gradient.addColorStop(1, this.cachedClr);\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(r, h - shift);\r\n    context.lineTo(w - r - shift, h - shift);\r\n    context.closePath();\r\n    context.stroke();\r\n};\r\n\r\nBooleanSlotMorph.prototype.drawLabel = function (context, textLabel) {\r\n    var w = this.width(),\r\n        r = this.height() / 2 - this.edge,\r\n        r2 = r / 2,\r\n        shift = this.edge / 2,\r\n        x,\r\n        y = this.height() / 2;\r\n\r\n    if (this.isEmptySlot()) {\r\n        return;\r\n    }\r\n    if (textLabel) {\r\n        y = (this.height() - textLabel.height) / 2;\r\n        if (this.value) {\r\n            x = this.height() / 2;\r\n        } else {\r\n            x = this.width() - (this.height() / 2) - textLabel.width;\r\n        }\r\n    if (!MorphicPreferences.isFlat) {\r\n        context.shadowOffsetX = -shift;\r\n        context.shadowOffsetY = -shift;\r\n        context.shadowBlur = shift;\r\n        context.shadowColor = this.value ? 'rgb(0, 100, 0)' : 'rgb(100, 0, 0)';\r\n    }\r\n        context.drawImage(textLabel, x, y);\r\n        return;\r\n    }\r\n    // \"tick:\"\r\n    x = r + (this.edge * 2) + shift;\r\n    if (!MorphicPreferences.isFlat) {\r\n        context.shadowOffsetX = -shift;\r\n        context.shadowOffsetY = -shift;\r\n        context.shadowBlur = shift;\r\n        context.shadowColor = 'rgb(0, 100, 0)';\r\n    }\r\n    context.strokeStyle = 'white';\r\n    context.lineWidth = this.edge + shift;\r\n    context.lineCap = 'round';\r\n    context.lineJoin = 'miter';\r\n    context.beginPath();\r\n    context.moveTo(x - r2, y);\r\n    context.lineTo(x, y + r2);\r\n    context.lineTo(x + r2, r2 + this.edge);\r\n    context.stroke();\r\n\r\n    // \"cross:\"\r\n    x = w - y - (this.edge * 2);\r\n    if (!MorphicPreferences.isFlat) {\r\n        context.shadowOffsetX = -shift;\r\n        context.shadowOffsetY = -shift;\r\n        context.shadowBlur = shift;\r\n        context.shadowColor = 'rgb(100, 0, 0)';\r\n    }\r\n    context.strokeStyle = 'white';\r\n    context.lineWidth = this.edge;\r\n    context.lineCap = 'butt';\r\n    context.beginPath();\r\n    context.moveTo(x - r2, y - r2);\r\n    context.lineTo(x + r2, y + r2);\r\n    context.moveTo(x - r2, y + r2);\r\n    context.lineTo(x + r2, y - r2);\r\n    context.stroke();\r\n};\r\n\r\nBooleanSlotMorph.prototype.drawKnob = function (context, progress) {\r\n    var w = this.width(),\r\n        r = this.height() / 2,\r\n        shift = this.edge / 2,\r\n        slideStep = (this.width() - this.height()) / 4 * (progress || 0),\r\n        gradient,\r\n        x,\r\n        y = r,\r\n        outline = PushButtonMorph.prototype.outline / 2,\r\n        outlineColor = PushButtonMorph.prototype.outlineColor,\r\n        color = PushButtonMorph.prototype.color,\r\n        contrast = PushButtonMorph.prototype.contrast,\r\n        topColor = color.lighter(contrast),\r\n        bottomColor = color.darker(contrast);\r\n\r\n    // draw the 'flat' shape:\r\n    switch (this.value) {\r\n    case false:\r\n        x = r + slideStep;\r\n        if (!MorphicPreferences.isFlat) {\r\n            context.shadowOffsetX = shift;\r\n            context.shadowOffsetY = 0;\r\n            context.shadowBlur = shift;\r\n            context.shadowColor = 'black';\r\n        }\r\n        break;\r\n    case true:\r\n        x = w - r - slideStep;\r\n        if (!MorphicPreferences.isFlat) {\r\n            context.shadowOffsetX = 0;\r\n            context.shadowOffsetY = 0;\r\n            context.shadowBlur = 0;\r\n        }\r\n        break;\r\n    default:\r\n        if (!progress) {return; }\r\n        x = r;\r\n        if (!MorphicPreferences.isFlat) {\r\n            context.shadowOffsetX = shift;\r\n            context.shadowOffsetY = 0;\r\n            context.shadowBlur = shift;\r\n            context.shadowColor = 'black';\r\n        }\r\n        context.globalAlpha = 0.2 * ((progress || 0) + 1);\r\n    }\r\n\r\n    context.fillStyle = color.toString();\r\n    context.beginPath();\r\n    context.arc(x, y, r, radians(0), radians(360));\r\n    context.closePath();\r\n    context.fill();\r\n\r\n    if (MorphicPreferences.isFlat) {return; }\r\n\r\n    // add 3D-Effect\r\n    // outline:\r\n    context.shadowOffsetX = 0;\r\n    context.shadowBlur = 0;\r\n    context.shadowColor = 'black';\r\n    context.lineWidth = outline;\r\n    context.strokeStyle = outlineColor.toString();\r\n    context.beginPath();\r\n    context.arc(x, y, r - (outline / 2), radians(0), radians(360));\r\n    context.stroke();\r\n\r\n    // top-left:\r\n    gradient = context.createRadialGradient(\r\n        x,\r\n        y,\r\n        r - outline - this.edge,\r\n        x,\r\n        y,\r\n        r - outline\r\n    );\r\n    gradient.addColorStop(1, topColor.toString());\r\n    gradient.addColorStop(0, color.toString());\r\n\r\n    context.strokeStyle = gradient;\r\n    context.lineCap = 'round';\r\n    context.lineWidth = this.edge;\r\n    context.beginPath();\r\n    context.arc(\r\n        x,\r\n        y,\r\n        r - outline - this.edge / 2,\r\n        radians(180),\r\n        radians(270),\r\n        false\r\n    );\r\n    context.stroke();\r\n\r\n    // bottom-right:\r\n    gradient = context.createRadialGradient(\r\n        x,\r\n        y,\r\n        r - outline - this.edge,\r\n        x,\r\n        y,\r\n        r - outline\r\n    );\r\n    gradient.addColorStop(1, bottomColor.toString());\r\n    gradient.addColorStop(0, color.toString());\r\n\r\n    context.strokeStyle = gradient;\r\n    context.lineCap = 'round';\r\n    context.lineWidth = this.edge;\r\n    context.beginPath();\r\n    context.arc(\r\n        x,\r\n        y,\r\n        r - outline - this.edge / 2,\r\n        radians(0),\r\n        radians(90),\r\n        false\r\n    );\r\n    context.stroke();\r\n};\r\n\r\nBooleanSlotMorph.prototype.textLabel = function () {\r\n    if (this.isEmptySlot()) {return null; }\r\n    var t, f, img, lbl, x, y;\r\n    t = new StringMorph(\r\n        localize('true'),\r\n        this.fontSize,\r\n        null,\r\n        true, // bold\r\n        null,\r\n        null,\r\n        null,\r\n        null,\r\n        new Color(255, 255, 255)\r\n    ).image;\r\n    f = new StringMorph(\r\n        localize('false'),\r\n        this.fontSize,\r\n        null,\r\n        true, // bold\r\n        null,\r\n        null,\r\n        null,\r\n        null,\r\n        new Color(255, 255, 255)\r\n    ).image;\r\n    img = newCanvas(new Point(\r\n        Math.max(t.width, f.width),\r\n        Math.max(t.height, f.height)\r\n    ));\r\n    lbl = this.value ? t : f;\r\n    x = (img.width - lbl.width) / 2;\r\n    y = (img.height - lbl.height) / 2;\r\n    img.getContext('2d').drawImage(lbl, x, y);\r\n    return img;\r\n};\r\n\r\n// ArrowMorph //////////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a triangular arrow shape, for use in drop-down menus etc.\r\n    My orientation is governed by my 'direction' property, which can be\r\n    'down', 'up', 'left' or 'right'.\r\n*/\r\n\r\n// ArrowMorph inherits from Morph:\r\n\r\nArrowMorph.prototype = new Morph();\r\nArrowMorph.prototype.constructor = ArrowMorph;\r\nArrowMorph.uber = Morph.prototype;\r\n\r\n// ArrowMorph instance creation:\r\n\r\nfunction ArrowMorph(direction, size, padding, color) {\r\n    this.init(direction, size, padding, color);\r\n}\r\n\r\nArrowMorph.prototype.init = function (direction, size, padding, color) {\r\n    this.direction = direction || 'down';\r\n    this.size = size || ((size === 0) ? 0 : 50);\r\n    this.padding = padding || 0;\r\n\r\n    ArrowMorph.uber.init.call(this, true); // silently\r\n    this.color = color || new Color(0, 0, 0);\r\n    this.setExtent(new Point(this.size, this.size));\r\n};\r\n\r\nArrowMorph.prototype.setSize = function (size) {\r\n    var min = Math.max(size, 1);\r\n    this.size = size;\r\n    this.setExtent(new Point(min, min));\r\n};\r\n\r\n// ArrowMorph displaying:\r\n\r\nArrowMorph.prototype.drawNew = function () {\r\n    // initialize my surface property\r\n    this.image = newCanvas(this.extent());\r\n    var context = this.image.getContext('2d'),\r\n        pad = this.padding,\r\n        h = this.height(),\r\n        h2 = Math.floor(h / 2),\r\n        w = this.width(),\r\n        w2 = Math.floor(w / 2);\r\n\r\n    context.fillStyle = this.color.toString();\r\n    context.beginPath();\r\n    if (this.direction === 'down') {\r\n        context.moveTo(pad, h2);\r\n        context.lineTo(w - pad, h2);\r\n        context.lineTo(w2, h - pad);\r\n    } else if (this.direction === 'up') {\r\n        context.moveTo(pad, h2);\r\n        context.lineTo(w - pad, h2);\r\n        context.lineTo(w2, pad);\r\n    } else if (this.direction === 'left') {\r\n        context.moveTo(pad, h2);\r\n        context.lineTo(w2, pad);\r\n        context.lineTo(w2, h - pad);\r\n    } else { // 'right'\r\n        context.moveTo(w2, pad);\r\n        context.lineTo(w - pad, h2);\r\n        context.lineTo(w2, h - pad);\r\n    }\r\n    context.closePath();\r\n    context.fill();\r\n};\r\n\r\n// TextSlotMorph //////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a multi-line input slot, primarily used in Snap's code-mapping\r\n    blocks.\r\n*/\r\n\r\n// TextSlotMorph inherits from InputSlotMorph:\r\n\r\nTextSlotMorph.prototype = new InputSlotMorph();\r\nTextSlotMorph.prototype.constructor = TextSlotMorph;\r\nTextSlotMorph.uber = InputSlotMorph.prototype;\r\n\r\n// TextSlotMorph instance creation:\r\n\r\nfunction TextSlotMorph(text, isNumeric, choiceDict, isReadOnly) {\r\n    this.init(text, isNumeric, choiceDict, isReadOnly);\r\n}\r\n\r\nTextSlotMorph.prototype.init = function (\r\n    text,\r\n    isNumeric,\r\n    choiceDict,\r\n    isReadOnly\r\n) {\r\n    var contents = new TextMorph(''),\r\n        arrow = new ArrowMorph(\r\n            'down',\r\n            0,\r\n            Math.max(Math.floor(this.fontSize / 6), 1)\r\n        );\r\n\r\n    contents.fontSize = this.fontSize;\r\n    contents.drawNew();\r\n\r\n    this.isUnevaluated = false;\r\n    this.choices = choiceDict || null; // object, function or selector\r\n    this.oldContentsExtent = contents.extent();\r\n    this.isNumeric = isNumeric || false;\r\n    this.isReadOnly = isReadOnly || false;\r\n    this.minWidth = 0; // can be chaged for text-type inputs (\"landscape\")\r\n    this.constant = null;\r\n\r\n    InputSlotMorph.uber.init.call(this, null, null, null, null, true); // sil.\r\n    this.color = new Color(255, 255, 255);\r\n    this.add(contents);\r\n    this.add(arrow);\r\n    contents.isEditable = true;\r\n    contents.isDraggable = false;\r\n    contents.enableSelecting();\r\n    this.setContents(text);\r\n\r\n};\r\n\r\n// TextSlotMorph accessing:\r\n\r\nTextSlotMorph.prototype.getSpec = function () {\r\n    if (this.isNumeric) {\r\n        return '%mln';\r\n    }\r\n    return '%mlt'; // default\r\n};\r\n\r\nTextSlotMorph.prototype.contents = function () {\r\n    return detect(\r\n        this.children,\r\n        function (child) {\r\n            return (child instanceof TextMorph);\r\n        }\r\n    );\r\n};\r\n\r\n// TextSlotMorph events:\r\n\r\nTextSlotMorph.prototype.layoutChanged = function () {\r\n    this.fixLayout();\r\n};\r\n\r\n// ColorSlotMorph //////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am an editable input slot for a color. Users can edit my color by\r\n    clicking on me, in which case a display a color gradient palette\r\n    and let the user select another color. Note that the user isn't\r\n    restricted to selecting a color from the palette, any color from\r\n    anywhere within the World can be chosen.\r\n\r\n    my block spec is %clr\r\n\r\n    evaluate() returns my color\r\n*/\r\n\r\n// ColorSlotMorph  inherits from ArgMorph:\r\n\r\nColorSlotMorph.prototype = new ArgMorph();\r\nColorSlotMorph.prototype.constructor = ColorSlotMorph;\r\nColorSlotMorph.uber = ArgMorph.prototype;\r\n\r\n// ColorSlotMorph  instance creation:\r\n\r\nfunction ColorSlotMorph(clr) {\r\n    this.init(clr);\r\n}\r\n\r\nColorSlotMorph.prototype.init = function (clr) {\r\n    ColorSlotMorph.uber.init.call(this, null, true); // silently\r\n    this.setColor(clr || new Color(145, 26, 68));\r\n};\r\n\r\nColorSlotMorph.prototype.getSpec = function () {\r\n    return '%clr';\r\n};\r\n\r\n// ColorSlotMorph  color sensing:\r\n\r\nColorSlotMorph.prototype.getUserColor = function () {\r\n    var myself = this,\r\n        world = this.world(),\r\n        hand = world.hand,\r\n        posInDocument = getDocumentPositionOf(world.worldCanvas),\r\n        mouseMoveBak = hand.processMouseMove,\r\n        mouseDownBak = hand.processMouseDown,\r\n        mouseUpBak = hand.processMouseUp,\r\n        pal = new ColorPaletteMorph(null, new Point(\r\n            this.fontSize * 16,\r\n            this.fontSize * 10\r\n        ));\r\n    world.add(pal);\r\n    pal.setPosition(this.bottomLeft().add(new Point(0, this.edge)));\r\n\r\n    hand.processMouseMove = function (event) {\r\n        var clr = world.getGlobalPixelColor(hand.position());\r\n        hand.setPosition(new Point(\r\n            event.pageX - posInDocument.x,\r\n            event.pageY - posInDocument.y\r\n        ));\r\n        if (!clr.a) {\r\n            // ignore transparent,\r\n            // needed for retina-display support\r\n            return;\r\n        }\r\n        myself.setColor(clr);\r\n    };\r\n\r\n    hand.processMouseDown = nop;\r\n\r\n    hand.processMouseUp = function () {\r\n        pal.destroy();\r\n        hand.processMouseMove = mouseMoveBak;\r\n        hand.processMouseDown = mouseDownBak;\r\n        hand.processMouseUp = mouseUpBak;\r\n    };\r\n};\r\n\r\n// ColorSlotMorph events:\r\n\r\nColorSlotMorph.prototype.mouseClickLeft = function () {\r\n    this.selectForEdit().getUserColor();\r\n};\r\n\r\n// ColorSlotMorph evaluating:\r\n\r\nColorSlotMorph.prototype.evaluate = function () {\r\n    return this.color;\r\n};\r\n\r\n// ColorSlotMorph drawing:\r\n\r\nColorSlotMorph.prototype.drawNew = function () {\r\n    var context, borderColor, side;\r\n\r\n    side = this.fontSize + this.edge * 2 + this.typeInPadding * 2;\r\n    this.silentSetExtent(new Point(side, side));\r\n\r\n    // initialize my surface property\r\n    this.image = newCanvas(this.extent());\r\n    context = this.image.getContext('2d');\r\n    if (this.parent) {\r\n        borderColor = this.parent.color;\r\n    } else {\r\n        borderColor = new Color(120, 120, 120);\r\n    }\r\n    context.fillStyle = this.color.toString();\r\n\r\n    // cache my border colors\r\n    this.cachedClr = borderColor.toString();\r\n    this.cachedClrBright = borderColor.lighter(this.contrast)\r\n        .toString();\r\n    this.cachedClrDark = borderColor.darker(this.contrast).toString();\r\n\r\n    context.fillRect(\r\n        this.edge,\r\n        this.edge,\r\n        this.width() - this.edge * 2,\r\n        this.height() - this.edge * 2\r\n    );\r\n    if (!MorphicPreferences.isFlat) {\r\n        this.drawRectBorder(context);\r\n    }\r\n};\r\n\r\nColorSlotMorph.prototype.drawRectBorder =\r\n    InputSlotMorph.prototype.drawRectBorder;\r\n\r\n// BlockHighlightMorph /////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a glowing halo around a block or stack of blocks indicating that\r\n    a script is currently active or has encountered an error.\r\n    I halso have an optional readout that can display a thread count\r\n    if more than one process shares the same script\r\n*/\r\n\r\n// BlockHighlightMorph inherits from Morph:\r\n\r\nBlockHighlightMorph.prototype = new Morph();\r\nBlockHighlightMorph.prototype.constructor = BlockHighlightMorph;\r\nBlockHighlightMorph.uber = Morph.prototype;\r\n\r\n// BlockHighlightMorph instance creation:\r\n\r\nfunction BlockHighlightMorph() {\r\n    this.threadCount = 0;\r\n    this.init();\r\n}\r\n\r\n// BlockHighlightMorph thread count readout\r\n\r\nBlockHighlightMorph.prototype.readout = function () {\r\n    return this.children.length ? this.children[0] : null;\r\n};\r\n\r\nBlockHighlightMorph.prototype.updateReadout = function () {\r\n    var readout = this.readout(),\r\n        inset = useBlurredShadows && !MorphicPreferences.isFlat ?\r\n            SyntaxElementMorph.prototype.activeBlur * 0.4\r\n                : SyntaxElementMorph.prototype.activeBorder * -2;\r\n    if (this.threadCount < 2) {\r\n        if (readout) {\r\n            readout.destroy();\r\n        }\r\n        return;\r\n    }\r\n    if (readout) {\r\n        readout.contents = this.threadCount.toString();\r\n        readout.fullChanged();\r\n        readout.drawNew();\r\n        readout.fullChanged();\r\n    } else {\r\n        readout = new SpeechBubbleMorph(\r\n            this.threadCount.toString(),\r\n            this.color, // color,\r\n            null, // edge,\r\n            null, // border,\r\n            this.color.darker(), // borderColor,\r\n            null, // padding,\r\n            1 // isThought - don't draw a hook\r\n        );\r\n        this.add(readout);\r\n    }\r\n    readout.setPosition(this.position().add(inset));\r\n};\r\n\r\n// MultiArgMorph ///////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am an arity controlled list of input slots\r\n\r\n    my block specs are\r\n\r\n        %mult%x - where x is any single input slot\r\n        %inputs - for an additional text label 'with inputs'\r\n\r\n    evaluation is handles by the interpreter\r\n*/\r\n\r\n// MultiArgMorph inherits from ArgMorph:\r\n\r\nMultiArgMorph.prototype = new ArgMorph();\r\nMultiArgMorph.prototype.constructor = MultiArgMorph;\r\nMultiArgMorph.uber = ArgMorph.prototype;\r\n\r\n// MultiArgMorph instance creation:\r\n\r\nfunction MultiArgMorph(\r\n    slotSpec,\r\n    labelTxt,\r\n    min,\r\n    eSpec,\r\n    arrowColor,\r\n    labelColor,\r\n    shadowColor,\r\n    shadowOffset,\r\n    isTransparent\r\n) {\r\n    this.init(\r\n        slotSpec,\r\n        labelTxt,\r\n        min,\r\n        eSpec,\r\n        arrowColor,\r\n        labelColor,\r\n        shadowColor,\r\n        shadowOffset,\r\n        isTransparent\r\n    );\r\n}\r\n\r\nMultiArgMorph.prototype.init = function (\r\n    slotSpec,\r\n    labelTxt,\r\n    min,\r\n    eSpec,\r\n    arrowColor,\r\n    labelColor,\r\n    shadowColor,\r\n    shadowOffset,\r\n    isTransparent\r\n) {\r\n    var label,\r\n        arrows = new FrameMorph(),\r\n        leftArrow,\r\n        rightArrow,\r\n        i;\r\n\r\n    this.slotSpec = slotSpec || '%s';\r\n    this.labelText = localize(labelTxt || '');\r\n    this.minInputs = min || 0;\r\n    this.elementSpec = eSpec || null;\r\n    this.labelColor = labelColor || null;\r\n    this.shadowColor = shadowColor || null;\r\n    this.shadowOffset = shadowOffset || null;\r\n\r\n    this.canBeEmpty = true;\r\n    MultiArgMorph.uber.init.call(this, null, true); // silently\r\n\r\n    // MultiArgMorphs are transparent by default b/c of zebra coloring\r\n    this.alpha = isTransparent === false ? 1 : 0;\r\n    arrows.alpha = isTransparent === false ? 1 : 0;\r\n    arrows.noticesTransparentClick = true;\r\n    this.noticesTransparentclick = true;\r\n\r\n    // label text:\r\n    label = this.labelPart(this.labelText);\r\n    this.add(label);\r\n    label.hide();\r\n\r\n    // left arrow:\r\n    leftArrow = new ArrowMorph(\r\n        'left',\r\n        this.fontSize,\r\n        Math.max(Math.floor(this.fontSize / 6), 1),\r\n        arrowColor\r\n    );\r\n\r\n    // right arrow:\r\n    rightArrow = new ArrowMorph(\r\n        'right',\r\n        this.fontSize,\r\n        Math.max(Math.floor(this.fontSize / 6), 1),\r\n        arrowColor\r\n    );\r\n\r\n    // control panel:\r\n    arrows.add(leftArrow);\r\n    arrows.add(rightArrow);\r\n    arrows.drawNew();\r\n    arrows.acceptsDrops = false;\r\n\r\n    this.add(arrows);\r\n\r\n    // create the minimum number of inputs\r\n    for (i = 0; i < this.minInputs; i += 1) {\r\n        this.addInput();\r\n    }\r\n};\r\n\r\nMultiArgMorph.prototype.label = function () {\r\n    return this.children[0];\r\n};\r\n\r\nMultiArgMorph.prototype.arrows = function () {\r\n    return this.children[this.children.length - 1];\r\n};\r\n\r\nMultiArgMorph.prototype.getSpec = function () {\r\n    return '%mult' + this.slotSpec;\r\n};\r\n\r\n// MultiArgMorph defaults:\r\n\r\nMultiArgMorph.prototype.setContents = function (anArray) {\r\n    var inputs = this.inputs(), i;\r\n    for (i = 0; i < anArray.length; i += 1) {\r\n        if (anArray[i] !== null && (inputs[i])) {\r\n            inputs[i].setContents(anArray[i]);\r\n        }\r\n    }\r\n};\r\n\r\n// MultiArgMorph hiding and showing:\r\n\r\n/*\r\n    override the inherited behavior to recursively hide/show all\r\n    children, so that my instances get restored correctly when\r\n    switching back out of app mode.\r\n*/\r\n\r\nMultiArgMorph.prototype.hide = function () {\r\n    this.isVisible = false;\r\n    this.changed();\r\n};\r\n\r\nMultiArgMorph.prototype.show = function () {\r\n    this.isVisible = true;\r\n    this.changed();\r\n};\r\n\r\n// MultiArgMorph coloring:\r\n\r\nMultiArgMorph.prototype.setLabelColor = function (\r\n    textColor,\r\n    shadowColor,\r\n    shadowOffset\r\n) {\r\n    this.textColor = textColor;\r\n    this.shadowColor = shadowColor;\r\n    this.shadowOffset = shadowOffset;\r\n    MultiArgMorph.uber.setLabelColor.call(\r\n        this,\r\n        textColor,\r\n        shadowColor,\r\n        shadowOffset\r\n    );\r\n};\r\n\r\n// MultiArgMorph layout:\r\n\r\nMultiArgMorph.prototype.fixLayout = function () {\r\n    if (this.slotSpec === '%t') {\r\n        this.isStatic = true; // in this case I cannot be exchanged\r\n    }\r\n    if (this.parent) {\r\n        var label = this.label(), shadowColor, shadowOffset;\r\n        this.color = this.parent.color;\r\n        shadowColor = this.shadowColor ||\r\n            this.parent.color.darker(this.labelContrast);\r\n        shadowOffset = this.shadowOffset || label.shadowOffset;\r\n        this.arrows().color = this.color;\r\n\r\n        if (this.labelText !== '') {\r\n            if (!label.shadowColor.eq(shadowColor)) {\r\n                label.shadowColor = shadowColor;\r\n                label.shadowOffset = shadowOffset;\r\n                label.drawNew();\r\n            }\r\n        }\r\n\r\n    }\r\n    this.fixArrowsLayout();\r\n    MultiArgMorph.uber.fixLayout.call(this);\r\n    if (this.parent) {\r\n        this.parent.fixLayout();\r\n    }\r\n};\r\n\r\nMultiArgMorph.prototype.fixArrowsLayout = function () {\r\n    var label = this.label(),\r\n        arrows = this.arrows(),\r\n        leftArrow = arrows.children[0],\r\n        rightArrow = arrows.children[1],\r\n        dim = new Point(rightArrow.width() / 2, rightArrow.height());\r\n    if (this.inputs().length < (this.minInputs + 1)) {\r\n        label.hide();\r\n        leftArrow.hide();\r\n        rightArrow.setPosition(\r\n            arrows.position().subtract(new Point(dim.x, 0))\r\n        );\r\n        arrows.setExtent(dim);\r\n    } else {\r\n        if (this.labelText !== '') {\r\n            label.show();\r\n        }\r\n        leftArrow.show();\r\n        rightArrow.setPosition(leftArrow.topCenter());\r\n        arrows.bounds.corner = rightArrow.bottomRight().copy();\r\n    }\r\n    arrows.drawNew();\r\n};\r\n\r\nMultiArgMorph.prototype.refresh = function () {\r\n    this.inputs().forEach(function (input) {\r\n        input.drawNew();\r\n    });\r\n};\r\n\r\nMultiArgMorph.prototype.drawNew = function () {\r\n    MultiArgMorph.uber.drawNew.call(this);\r\n    this.refresh();\r\n};\r\n\r\n// MultiArgMorph arity control:\r\n\r\nMultiArgMorph.prototype.addInput = function (contents) {\r\n    var i, name,\r\n        newPart = this.labelPart(this.slotSpec),\r\n        idx = this.children.length - 1;\r\n    // newPart.alpha = this.alpha ? 1 : (1 - this.alpha) / 2;\r\n    if (contents) {\r\n        newPart.setContents(contents);\r\n    } else if (this.elementSpec === '%scriptVars' ||\r\n            this.elementSpec === '%blockVars') {\r\n        name = '';\r\n        i = idx;\r\n        while (i > 0) {\r\n            name = String.fromCharCode(97 + (i - 1) % 26) + name;\r\n            i = Math.floor((i - 1) / 26);\r\n        }\r\n        newPart.setContents(name);\r\n    } else if (contains(['%parms', '%ringparms'], this.elementSpec)) {\r\n        newPart.setContents('#' + idx);\r\n    }\r\n    newPart.parent = this;\r\n    this.children.splice(idx, 0, newPart);\r\n    newPart.drawNew();\r\n    this.fixLayout();\r\n};\r\n\r\nMultiArgMorph.prototype.removeInput = function () {\r\n    var oldPart, scripts;\r\n    if (this.children.length > 1) {\r\n        oldPart = this.children[this.children.length - 2];\r\n        this.removeChild(oldPart);\r\n        if (oldPart instanceof BlockMorph) {\r\n            scripts = this.parentThatIsA(ScriptsMorph);\r\n            if (scripts) {\r\n                scripts.add(oldPart);\r\n            }\r\n        }\r\n    }\r\n    this.fixLayout();\r\n};\r\n\r\n// MultiArgMorph events:\r\n\r\nMultiArgMorph.prototype.mouseClickLeft = function (pos) {\r\n    // prevent expansion in the palette\r\n    // (because it can be hard or impossible to collapse again)\r\n    if (!this.parentThatIsA(ScriptsMorph)) {\r\n        this.escalateEvent('mouseClickLeft', pos);\r\n        return;\r\n    }\r\n    // if the <shift> key is pressed, repeat action 3 times\r\n    var target = this.selectForEdit(),\r\n        arrows = target.arrows(),\r\n        leftArrow = arrows.children[0],\r\n        rightArrow = arrows.children[1],\r\n        repetition = target.world().currentKey === 16 ? 3 : 1,\r\n        i;\r\n\r\n    target.startLayout();\r\n    if (rightArrow.bounds.containsPoint(pos)) {\r\n        for (i = 0; i < repetition; i += 1) {\r\n            if (rightArrow.isVisible) {\r\n                target.addInput();\r\n            }\r\n        }\r\n    } else if (leftArrow.bounds.containsPoint(pos)) {\r\n        for (i = 0; i < repetition; i += 1) {\r\n            if (leftArrow.isVisible) {\r\n                target.removeInput();\r\n            }\r\n        }\r\n    } else {\r\n        target.escalateEvent('mouseClickLeft', pos);\r\n    }\r\n    target.endLayout();\r\n};\r\n\r\n// MultiArgMorph menu:\r\n\r\nMultiArgMorph.prototype.userMenu = function () {\r\n    var menu = new MenuMorph(this),\r\n        block = this.parentThatIsA(BlockMorph),\r\n        key = '',\r\n        myself = this;\r\n    if (!StageMorph.prototype.enableCodeMapping) {\r\n        return this.parent.userMenu();\r\n    }\r\n    if (block) {\r\n        if (block instanceof RingMorph) {\r\n            key = 'parms_';\r\n        } else if (block.selector === 'doDeclareVariables') {\r\n            key = 'tempvars_';\r\n        }\r\n    }\r\n    menu.addItem(\r\n        'code list mapping...',\r\n        function () {myself.mapCodeList(key); }\r\n    );\r\n    menu.addItem(\r\n        'code item mapping...',\r\n        function () {myself.mapCodeItem(key); }\r\n    );\r\n    menu.addItem(\r\n        'code delimiter mapping...',\r\n        function () {myself.mapCodeDelimiter(key); }\r\n    );\r\n    return menu;\r\n};\r\n\r\n// MultiArgMorph code mapping\r\n\r\n/*\r\n    code mapping lets you use blocks to generate arbitrary text-based\r\n    source code that can be exported and compiled / embedded elsewhere,\r\n    it's not part of Snap's evaluator and not needed for Snap itself\r\n*/\r\n\r\nMultiArgMorph.prototype.mapCodeDelimiter = function (key) {\r\n    this.mapToCode(key + 'delim', 'list item delimiter');\r\n};\r\n\r\nMultiArgMorph.prototype.mapCodeList = function (key) {\r\n    this.mapToCode(key + 'list', 'list contents <#1>');\r\n};\r\n\r\nMultiArgMorph.prototype.mapCodeItem = function (key) {\r\n    this.mapToCode(key + 'item', 'list item <#1>');\r\n};\r\n\r\nMultiArgMorph.prototype.mapToCode = function (key, label) {\r\n    // private - open a dialog box letting the user map code via the GUI\r\n    new DialogBoxMorph(\r\n        this,\r\n        function (code) {\r\n            StageMorph.prototype.codeMappings[key] = code;\r\n        },\r\n        this\r\n    ).promptCode(\r\n        'Code mapping - ' + label,\r\n        StageMorph.prototype.codeMappings[key] || '',\r\n        this.world()\r\n    );\r\n};\r\n\r\nMultiArgMorph.prototype.mappedCode = function (definitions) {\r\n    var block = this.parentThatIsA(BlockMorph),\r\n        key = '',\r\n        code,\r\n        items = '',\r\n        itemCode,\r\n        delim,\r\n        count = 0,\r\n        parts = [];\r\n\r\n    if (block) {\r\n        if (block instanceof RingMorph) {\r\n            key = 'parms_';\r\n        } else if (block.selector === 'doDeclareVariables') {\r\n            key = 'tempvars_';\r\n        }\r\n    }\r\n\r\n    code = StageMorph.prototype.codeMappings[key + 'list'] || '<#1>';\r\n    itemCode = StageMorph.prototype.codeMappings[key + 'item'] || '<#1>';\r\n    delim = StageMorph.prototype.codeMappings[key + 'delim'] || ' ';\r\n\r\n    this.inputs().forEach(function (input) {\r\n        parts.push(itemCode.replace(/<#1>/g, input.mappedCode(definitions)));\r\n    });\r\n    parts.forEach(function (part) {\r\n        if (count) {\r\n            items += delim;\r\n        }\r\n        items += part;\r\n        count += 1;\r\n    });\r\n    code = code.replace(/<#1>/g, items);\r\n    return code;\r\n};\r\n\r\n// MultiArgMorph arity evaluating:\r\n\r\nMultiArgMorph.prototype.evaluate = function () {\r\n    // this is usually overridden by the interpreter. This method is only\r\n    // called (and needed) for the variables menu.\r\n\r\n    var result = [];\r\n    this.inputs().forEach(function (slot) {\r\n        result.push(slot.evaluate());\r\n    });\r\n    return result;\r\n};\r\n\r\nMultiArgMorph.prototype.isEmptySlot = function () {\r\n    return this.canBeEmpty ? this.inputs().length === 0 : false;\r\n};\r\n\r\n// ArgLabelMorph ///////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a label string that is wrapped around an ArgMorph, usually\r\n    a MultiArgMorph, so to indicate that it has been replaced entirely\r\n    for an embedded reporter block\r\n\r\n    I don't have a block spec, I get embedded automatically by the parent\r\n    block's argument replacement mechanism\r\n\r\n    My evaluation method is the identity function, i.e. I simply pass my\r\n    input's value along.\r\n*/\r\n\r\n// ArgLabelMorph inherits from ArgMorph:\r\n\r\nArgLabelMorph.prototype = new ArgMorph();\r\nArgLabelMorph.prototype.constructor = ArgLabelMorph;\r\nArgLabelMorph.uber = ArgMorph.prototype;\r\n\r\n// MultiArgMorph instance creation:\r\n\r\nfunction ArgLabelMorph(argMorph, labelTxt) {\r\n    this.init(argMorph, labelTxt);\r\n}\r\n\r\nArgLabelMorph.prototype.init = function (argMorph, labelTxt) {\r\n    var label;\r\n\r\n    this.labelText = localize(labelTxt || 'input list:');\r\n    ArgLabelMorph.uber.init.call(this, null, true); // silently\r\n\r\n    this.isStatic = true; // I cannot be exchanged\r\n\r\n    // ArgLabelMorphs are transparent\r\n    this.alpha = 0;\r\n    this.noticesTransparentclick = true;\r\n\r\n    // label text:\r\n    label = this.labelPart(this.labelText);\r\n    this.add(label);\r\n\r\n    // argMorph\r\n    this.add(argMorph);\r\n};\r\n\r\nArgLabelMorph.prototype.label = function () {\r\n    return this.children[0];\r\n};\r\n\r\nArgLabelMorph.prototype.argMorph = function () {\r\n    return this.children[1];\r\n};\r\n\r\n// ArgLabelMorph layout:\r\n\r\nArgLabelMorph.prototype.fixLayout = function () {\r\n    var label = this.label(),\r\n        shadowColor,\r\n        shadowOffset;\r\n\r\n    if (this.parent) {\r\n        this.color = this.parent.color;\r\n        shadowOffset = label.shadowOffset || new Point();\r\n\r\n        // determine the shadow color for zebra coloring:\r\n        if (shadowOffset.x < 0) {\r\n            shadowColor = this.parent.color.darker(this.labelContrast);\r\n        } else {\r\n            shadowColor = this.parent.color.lighter(this.labelContrast);\r\n        }\r\n\r\n        if (this.labelText !== '') {\r\n            if (!label.shadowColor.eq(shadowColor)) {\r\n                label.shadowColor = shadowColor;\r\n                label.shadowOffset = shadowOffset;\r\n                label.drawNew();\r\n            }\r\n        }\r\n    }\r\n    ArgLabelMorph.uber.fixLayout.call(this);\r\n    if (this.parent) {\r\n        this.parent.fixLayout();\r\n    }\r\n};\r\n\r\nArgLabelMorph.prototype.refresh = function () {\r\n    this.inputs().forEach(function (input) {\r\n        input.drawNew();\r\n    });\r\n};\r\n\r\nArgLabelMorph.prototype.drawNew = function () {\r\n    ArgLabelMorph.uber.drawNew.call(this);\r\n    this.refresh();\r\n};\r\n\r\n// ArgLabelMorph label color:\r\n\r\nArgLabelMorph.prototype.setLabelColor = function (\r\n    textColor,\r\n    shadowColor,\r\n    shadowOffset\r\n) {\r\n    if (this.labelText !== '') {\r\n        var label = this.label();\r\n        label.color = textColor;\r\n        label.shadowColor = shadowColor;\r\n        label.shadowOffset = shadowOffset;\r\n        label.drawNew();\r\n    }\r\n};\r\n\r\n// ArgLabelMorph events:\r\n\r\nArgLabelMorph.prototype.reactToGrabOf = function () {\r\n    if (this.parent instanceof SyntaxElementMorph) {\r\n        this.parent.revertToDefaultInput(this);\r\n    }\r\n};\r\n\r\n// ArgLabelMorph evaluating:\r\n\r\nArgLabelMorph.prototype.evaluate = function () {\r\n    // this is usually overridden by the interpreter. This method is only\r\n    // called (and needed) for the variables menu.\r\n\r\n    return this.argMorph().evaluate();\r\n};\r\n\r\nArgLabelMorph.prototype.isEmptySlot = function () {\r\n    return false;\r\n};\r\n\r\n// FunctionSlotMorph ///////////////////////////////////////////////////\r\n\r\n/*\r\n    I am an unevaluated, non-editable, rf-colored, rounded or diamond\r\n    input slot. My current (only) use is in the THE BLOCK block.\r\n\r\n    My command spec is %f\r\n*/\r\n\r\n// FunctionSlotMorph inherits from ArgMorph:\r\n\r\nFunctionSlotMorph.prototype = new ArgMorph();\r\nFunctionSlotMorph.prototype.constructor = FunctionSlotMorph;\r\nFunctionSlotMorph.uber = ArgMorph.prototype;\r\n\r\n// FunctionSlotMorph instance creation:\r\n\r\nfunction FunctionSlotMorph(isPredicate) {\r\n    this.init(isPredicate);\r\n}\r\n\r\nFunctionSlotMorph.prototype.init = function (isPredicate, silently) {\r\n    FunctionSlotMorph.uber.init.call(this, null, true); // silently\r\n    this.isPredicate = isPredicate || false;\r\n    this.color = this.rfColor;\r\n    this.setExtent(\r\n        new Point(\r\n            (this.fontSize + this.edge * 2) * 2,\r\n            this.fontSize + this.edge * 2\r\n        ),\r\n        silently\r\n    );\r\n};\r\n\r\nFunctionSlotMorph.prototype.getSpec = function () {\r\n    return '%f';\r\n};\r\n\r\n// FunctionSlotMorph drawing:\r\n\r\nFunctionSlotMorph.prototype.drawNew = function () {\r\n    var context, borderColor;\r\n\r\n    // initialize my surface property\r\n    this.image = newCanvas(this.extent());\r\n    context = this.image.getContext('2d');\r\n    if (this.parent) {\r\n        borderColor = this.parent.color;\r\n    } else {\r\n        borderColor = new Color(120, 120, 120);\r\n    }\r\n\r\n    // cache my border colors\r\n    this.cachedClr = borderColor.toString();\r\n    this.cachedClrBright = borderColor.lighter(this.contrast)\r\n        .toString();\r\n    this.cachedClrDark = borderColor.darker(this.contrast).toString();\r\n\r\n    if (this.isPredicate) {\r\n        this.drawDiamond(context);\r\n    } else {\r\n        this.drawRounded(context);\r\n    }\r\n};\r\n\r\nFunctionSlotMorph.prototype.drawRounded = function (context) {\r\n    var h = this.height(),\r\n        r = Math.min(this.rounding, h / 2),\r\n        w = this.width(),\r\n        shift = this.edge / 2,\r\n        gradient;\r\n\r\n    // draw the 'flat' shape:\r\n    context.fillStyle = this.color.toString();\r\n    context.beginPath();\r\n\r\n    // top left:\r\n    context.arc(\r\n        r,\r\n        r,\r\n        r,\r\n        radians(-180),\r\n        radians(-90),\r\n        false\r\n    );\r\n\r\n    // top right:\r\n    context.arc(\r\n        w - r,\r\n        r,\r\n        r,\r\n        radians(-90),\r\n        radians(-0),\r\n        false\r\n    );\r\n\r\n    // bottom right:\r\n    context.arc(\r\n        w - r,\r\n        h - r,\r\n        r,\r\n        radians(0),\r\n        radians(90),\r\n        false\r\n    );\r\n\r\n    // bottom left:\r\n    context.arc(\r\n        r,\r\n        h - r,\r\n        r,\r\n        radians(90),\r\n        radians(180),\r\n        false\r\n    );\r\n\r\n    context.closePath();\r\n    context.fill();\r\n\r\n    if (MorphicPreferences.isFlat) {return; }\r\n\r\n    // add 3D-Effect:\r\n    context.lineWidth = this.edge;\r\n    context.lineJoin = 'round';\r\n    context.lineCap = 'round';\r\n\r\n    // bottom left corner\r\n    context.strokeStyle = this.cachedClr; //gradient;\r\n    context.beginPath();\r\n    context.arc(\r\n        r,\r\n        h - r,\r\n        r - shift,\r\n        radians(90),\r\n        radians(180),\r\n        false\r\n    );\r\n    context.stroke();\r\n\r\n    // top right corner\r\n    context.strokeStyle = this.cachedClr; //gradient;\r\n    context.beginPath();\r\n    context.arc(\r\n        w - r,\r\n        r,\r\n        r - shift,\r\n        radians(-90),\r\n        radians(0),\r\n        false\r\n    );\r\n    context.stroke();\r\n\r\n    // normal gradient edges\r\n\r\n    context.shadowOffsetX = shift;\r\n    context.shadowOffsetY = shift;\r\n    context.shadowBlur = this.edge;\r\n    context.shadowColor = this.color.darker(80).toString();\r\n\r\n    // top edge: straight line\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        0,\r\n        0,\r\n        this.edge\r\n    );\r\n    gradient.addColorStop(1, this.cachedClrDark);\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(r - shift, shift);\r\n    context.lineTo(w - r + shift, shift);\r\n    context.stroke();\r\n\r\n    // top edge: left corner\r\n    gradient = context.createRadialGradient(\r\n        r,\r\n        r,\r\n        r - this.edge,\r\n        r,\r\n        r,\r\n        r\r\n    );\r\n    gradient.addColorStop(1, this.cachedClr);\r\n    gradient.addColorStop(0, this.cachedClrDark);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.arc(\r\n        r,\r\n        r,\r\n        r - shift,\r\n        radians(180),\r\n        radians(270),\r\n        false\r\n    );\r\n    context.stroke();\r\n\r\n    // left edge: straight vertical line\r\n    gradient = context.createLinearGradient(0, 0, this.edge, 0);\r\n    gradient.addColorStop(1, this.cachedClrDark);\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(shift, r);\r\n    context.lineTo(shift, h - r);\r\n    context.stroke();\r\n\r\n    context.shadowOffsetX = 0;\r\n    context.shadowOffsetY = 0;\r\n    context.shadowBlur = 0;\r\n\r\n    // bottom edge: right corner\r\n    gradient = context.createRadialGradient(\r\n        w - r,\r\n        h - r,\r\n        r - this.edge,\r\n        w - r,\r\n        h - r,\r\n        r\r\n    );\r\n    gradient.addColorStop(1, this.cachedClr);\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.arc(\r\n        w - r,\r\n        h - r,\r\n        r - shift,\r\n        radians(0),\r\n        radians(90),\r\n        false\r\n    );\r\n    context.stroke();\r\n\r\n    // bottom edge: straight line\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        h - this.edge,\r\n        0,\r\n        h\r\n    );\r\n    gradient.addColorStop(1, this.cachedClr);\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(r - shift, h - shift);\r\n    context.lineTo(w - r + shift, h - shift);\r\n    context.stroke();\r\n\r\n    // right edge: straight vertical line\r\n    gradient = context.createLinearGradient(w - this.edge, 0, w, 0);\r\n    gradient.addColorStop(1, this.cachedClr);\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(w - shift, r + shift);\r\n    context.lineTo(w - shift, h - r);\r\n    context.stroke();\r\n\r\n};\r\n\r\nFunctionSlotMorph.prototype.drawDiamond = function (context) {\r\n    var w = this.width(),\r\n        h = this.height(),\r\n        h2 = Math.floor(h / 2),\r\n        r = Math.min(this.rounding, h2),\r\n        shift = this.edge / 2,\r\n        gradient;\r\n\r\n    // draw the 'flat' shape:\r\n    context.fillStyle = this.color.toString();\r\n    context.beginPath();\r\n\r\n    context.moveTo(0, h2);\r\n    context.lineTo(r, 0);\r\n    context.lineTo(w - r, 0);\r\n    context.lineTo(w, h2);\r\n    context.lineTo(w - r, h);\r\n    context.lineTo(r, h);\r\n\r\n    context.closePath();\r\n    context.fill();\r\n\r\n    if (MorphicPreferences.isFlat) {return; }\r\n\r\n    // add 3D-Effect:\r\n    context.lineWidth = this.edge;\r\n    context.lineJoin = 'round';\r\n    context.lineCap = 'round';\r\n\r\n    // half-tone edges\r\n    // bottom left corner\r\n    context.strokeStyle = this.cachedClr;\r\n    context.beginPath();\r\n    context.moveTo(shift, h2);\r\n    context.lineTo(r, h - shift);\r\n    context.stroke();\r\n\r\n    // top right corner\r\n    context.strokeStyle = this.cachedClr;\r\n    context.beginPath();\r\n    context.moveTo(w - shift, h2);\r\n    context.lineTo(w - r, shift);\r\n    context.stroke();\r\n\r\n    // normal gradient edges\r\n    // top edge: left corner\r\n\r\n    context.shadowOffsetX = shift;\r\n    context.shadowOffsetY = shift;\r\n    context.shadowBlur = this.edge;\r\n    context.shadowColor = this.color.darker(80).toString();\r\n\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        0,\r\n        r,\r\n        0\r\n    );\r\n    gradient.addColorStop(1, this.cachedClrDark);\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(shift, h2);\r\n    context.lineTo(r, shift);\r\n    context.stroke();\r\n\r\n    // top edge: straight line\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        0,\r\n        0,\r\n        this.edge\r\n    );\r\n    gradient.addColorStop(1, this.cachedClrDark);\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(r, shift);\r\n    context.lineTo(w - r, shift);\r\n    context.stroke();\r\n\r\n    context.shadowOffsetX = 0;\r\n    context.shadowOffsetY = 0;\r\n    context.shadowBlur = 0;\r\n\r\n    // bottom edge: right corner\r\n    gradient = context.createLinearGradient(\r\n        w - r,\r\n        0,\r\n        w,\r\n        0\r\n    );\r\n    gradient.addColorStop(1, this.cachedClr);\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(w - r, h - shift);\r\n    context.lineTo(w - shift, h2);\r\n    context.stroke();\r\n\r\n    // bottom edge: straight line\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        h - this.edge,\r\n        0,\r\n        h\r\n    );\r\n    gradient.addColorStop(1, this.cachedClr);\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(r + shift, h - shift);\r\n    context.lineTo(w - r - shift, h - shift);\r\n    context.stroke();\r\n};\r\n\r\n// ReporterSlotMorph ///////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a ReporterBlock-shaped input slot. I can nest as well as\r\n    accept reporter blocks (containing reified scripts).\r\n\r\n    my most important accessor is\r\n\r\n    nestedBlock()    - answer the reporter block I encompass, if any\r\n\r\n    My command spec is %r for reporters (round) and %p for\r\n    predicates (diamond)\r\n\r\n    evaluate() returns my nested block or null\r\n*/\r\n\r\n// ReporterSlotMorph inherits from FunctionSlotMorph:\r\n\r\nReporterSlotMorph.prototype = new FunctionSlotMorph();\r\nReporterSlotMorph.prototype.constructor = ReporterSlotMorph;\r\nReporterSlotMorph.uber = FunctionSlotMorph.prototype;\r\n\r\n// ReporterSlotMorph instance creation:\r\n\r\nfunction ReporterSlotMorph(isPredicate) {\r\n    this.init(isPredicate);\r\n}\r\n\r\nReporterSlotMorph.prototype.init = function (isPredicate) {\r\n    ReporterSlotMorph.uber.init.call(this, isPredicate, true);\r\n    this.add(this.emptySlot());\r\n    this.fixLayout();\r\n};\r\n\r\nReporterSlotMorph.prototype.emptySlot = function () {\r\n    var empty = new ArgMorph(),\r\n        shrink = this.rfBorder * 2 + this.edge * 2;\r\n    empty.color = this.rfColor;\r\n    empty.alpha = 0;\r\n    empty.setExtent(new Point(\r\n        (this.fontSize + this.edge * 2) * 2 - shrink,\r\n        this.fontSize + this.edge * 2 - shrink\r\n    ));\r\n    return empty;\r\n};\r\n\r\n// ReporterSlotMorph accessing:\r\n\r\nReporterSlotMorph.prototype.getSpec = function () {\r\n    return '%r';\r\n};\r\n\r\nReporterSlotMorph.prototype.contents = function () {\r\n    return this.children[0];\r\n};\r\n\r\nReporterSlotMorph.prototype.nestedBlock = function () {\r\n    var contents = this.contents();\r\n    return contents instanceof ReporterBlockMorph ? contents : null;\r\n};\r\n\r\n// ReporterSlotMorph evaluating:\r\n\r\nReporterSlotMorph.prototype.evaluate = function () {\r\n    return this.nestedBlock();\r\n};\r\n\r\nReporterSlotMorph.prototype.isEmptySlot = function () {\r\n    return this.nestedBlock() === null;\r\n};\r\n\r\n// ReporterSlotMorph layout:\r\n\r\nReporterSlotMorph.prototype.fixLayout = function () {\r\n    var contents = this.contents();\r\n    this.setExtent(contents.extent().add(\r\n        this.edge * 2 + this.rfBorder * 2\r\n    ));\r\n    contents.setCenter(this.center());\r\n    if (this.parent) {\r\n        if (this.parent.fixLayout) {\r\n            this.parent.fixLayout();\r\n        }\r\n    }\r\n};\r\n\r\n// RingReporterSlotMorph ///////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a ReporterBlock-shaped input slot for use in RingMorphs.\r\n    I can only nest reporter blocks (both round and diamond).\r\n\r\n    My command spec is %rr for reporters (round) and %rp for\r\n    predicates (diamond)\r\n\r\n    evaluate() returns my nested block or null\r\n    (inherited from ReporterSlotMorph\r\n*/\r\n\r\n// ReporterSlotMorph inherits from FunctionSlotMorph:\r\n\r\nRingReporterSlotMorph.prototype = new ReporterSlotMorph();\r\nRingReporterSlotMorph.prototype.constructor = RingReporterSlotMorph;\r\nRingReporterSlotMorph.uber = ReporterSlotMorph.prototype;\r\n\r\n// ReporterSlotMorph preferences settings:\r\n\r\nRingReporterSlotMorph.prototype.rfBorder\r\n    = RingCommandSlotMorph.prototype.rfBorder;\r\n\r\nRingReporterSlotMorph.prototype.edge\r\n    = RingCommandSlotMorph.prototype.edge;\r\n\r\n// RingReporterSlotMorph instance creation:\r\n\r\nfunction RingReporterSlotMorph(isPredicate) {\r\n    this.init(isPredicate);\r\n}\r\n\r\nRingReporterSlotMorph.prototype.init = function (isPredicate) {\r\n    RingReporterSlotMorph.uber.init.call(this, isPredicate, true);\r\n    this.alpha = RingMorph.prototype.alpha;\r\n    this.contrast = RingMorph.prototype.contrast;\r\n    this.isHole = true;\r\n};\r\n\r\n// RingReporterSlotMorph accessing:\r\n\r\nRingReporterSlotMorph.prototype.getSpec = function () {\r\n    return '%rr';\r\n};\r\n\r\nRingReporterSlotMorph.prototype.replaceInput = function (source, target) {\r\n    RingReporterSlotMorph.uber.replaceInput.call(this, source, target);\r\n    if (this.parent instanceof RingMorph) {\r\n        this.parent.vanishForSimilar();\r\n    }\r\n};\r\n\r\n// RingReporterSlotMorph drawing:\r\n\r\nRingReporterSlotMorph.prototype.drawRounded = function (context) {\r\n    var h = this.height(),\r\n        r = Math.min(this.rounding, h / 2),\r\n        w = this.width(),\r\n        shift = this.edge / 2,\r\n        gradient;\r\n\r\n    // draw the 'flat' shape:\r\n    context.fillStyle = this.cachedClr; //this.color.toString();\r\n\r\n    // top half:\r\n    context.beginPath();\r\n    context.moveTo(0, h / 2);\r\n\r\n    // top left:\r\n    context.arc(\r\n        r,\r\n        r,\r\n        r,\r\n        radians(-180),\r\n        radians(-90),\r\n        false\r\n    );\r\n\r\n    // top right:\r\n    context.arc(\r\n        w - r,\r\n        r,\r\n        r,\r\n        radians(-90),\r\n        radians(-0),\r\n        false\r\n    );\r\n\r\n    context.lineTo(w, h / 2);\r\n    context.lineTo(w, 0);\r\n    context.lineTo(0, 0);\r\n    context.closePath();\r\n    context.fill();\r\n\r\n    // bottom half:\r\n    context.beginPath();\r\n    context.moveTo(w, h / 2);\r\n\r\n    // bottom right:\r\n    context.arc(\r\n        w - r,\r\n        h - r,\r\n        r,\r\n        radians(0),\r\n        radians(90),\r\n        false\r\n    );\r\n\r\n    // bottom left:\r\n    context.arc(\r\n        r,\r\n        h - r,\r\n        r,\r\n        radians(90),\r\n        radians(180),\r\n        false\r\n    );\r\n\r\n    context.lineTo(0, h / 2);\r\n    context.lineTo(0, h);\r\n    context.lineTo(w, h);\r\n    context.closePath();\r\n    context.fill();\r\n\r\n    if (MorphicPreferences.isFlat) {return; }\r\n\r\n    // add 3D-Effect:\r\n    context.lineWidth = this.edge;\r\n    context.lineJoin = 'round';\r\n    context.lineCap = 'round';\r\n\r\n    // bottom left corner\r\n    context.strokeStyle = this.cachedClr; //gradient;\r\n    context.beginPath();\r\n    context.arc(\r\n        r,\r\n        h - r,\r\n        r - shift,\r\n        radians(90),\r\n        radians(180),\r\n        false\r\n    );\r\n    context.stroke();\r\n\r\n    // top right corner\r\n    context.strokeStyle = this.cachedClr; //gradient;\r\n    context.beginPath();\r\n    context.arc(\r\n        w - r,\r\n        r,\r\n        r - shift,\r\n        radians(-90),\r\n        radians(0),\r\n        false\r\n    );\r\n    context.stroke();\r\n\r\n    // normal gradient edges\r\n\r\n    context.shadowOffsetX = shift;\r\n    context.shadowOffsetY = shift;\r\n    context.shadowBlur = this.edge;\r\n    context.shadowColor = this.color.darker(80).toString();\r\n\r\n    // top edge: straight line\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        0,\r\n        0,\r\n        this.edge\r\n    );\r\n    gradient.addColorStop(1, this.cachedClrDark);\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(r - shift, shift);\r\n    context.lineTo(w - r + shift, shift);\r\n    context.stroke();\r\n\r\n    // top edge: left corner\r\n    gradient = context.createRadialGradient(\r\n        r,\r\n        r,\r\n        r - this.edge,\r\n        r,\r\n        r,\r\n        r\r\n    );\r\n    gradient.addColorStop(1, this.cachedClr);\r\n    gradient.addColorStop(0, this.cachedClrDark);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.arc(\r\n        r,\r\n        r,\r\n        r - shift,\r\n        radians(180),\r\n        radians(270),\r\n        false\r\n    );\r\n    context.stroke();\r\n\r\n    // left edge: straight vertical line\r\n    gradient = context.createLinearGradient(0, 0, this.edge, 0);\r\n    gradient.addColorStop(1, this.cachedClrDark);\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(shift, r);\r\n    context.lineTo(shift, h - r);\r\n    context.stroke();\r\n\r\n    context.shadowOffsetX = 0;\r\n    context.shadowOffsetY = 0;\r\n    context.shadowBlur = 0;\r\n\r\n    // bottom edge: right corner\r\n    gradient = context.createRadialGradient(\r\n        w - r,\r\n        h - r,\r\n        r - this.edge,\r\n        w - r,\r\n        h - r,\r\n        r\r\n    );\r\n    gradient.addColorStop(1, this.cachedClr);\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.arc(\r\n        w - r,\r\n        h - r,\r\n        r - shift,\r\n        radians(0),\r\n        radians(90),\r\n        false\r\n    );\r\n    context.stroke();\r\n\r\n    // bottom edge: straight line\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        h - this.edge,\r\n        0,\r\n        h\r\n    );\r\n    gradient.addColorStop(1, this.cachedClr);\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(r - shift, h - shift);\r\n    context.lineTo(w - r + shift, h - shift);\r\n    context.stroke();\r\n\r\n    // right edge: straight vertical line\r\n    gradient = context.createLinearGradient(w - this.edge, 0, w, 0);\r\n    gradient.addColorStop(1, this.cachedClr);\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(w - shift, r + shift);\r\n    context.lineTo(w - shift, h - r);\r\n    context.stroke();\r\n};\r\n\r\nRingReporterSlotMorph.prototype.drawDiamond = function (context) {\r\n    var w = this.width(),\r\n        h = this.height(),\r\n        h2 = Math.floor(h / 2),\r\n        r = Math.min(this.rounding, h2),\r\n        shift = this.edge / 2,\r\n        gradient;\r\n\r\n    // draw the 'flat' shape:\r\n    context.fillStyle = this.cachedClr;\r\n    context.beginPath();\r\n\r\n    context.moveTo(0, 0);\r\n    context.lineTo(0, h2);\r\n    context.lineTo(r, 0);\r\n    context.lineTo(w - r, 0);\r\n    context.lineTo(w, h2);\r\n    context.lineTo(w, 0);\r\n\r\n    context.closePath();\r\n    context.fill();\r\n\r\n    context.moveTo(w, h2);\r\n    context.lineTo(w - r, h);\r\n    context.lineTo(r, h);\r\n    context.lineTo(0, h2);\r\n    context.lineTo(0, h);\r\n    context.lineTo(w, h);\r\n\r\n    context.closePath();\r\n    context.fill();\r\n\r\n    if (MorphicPreferences.isFlat) {return; }\r\n\r\n    // add 3D-Effect:\r\n    context.lineWidth = this.edge;\r\n    context.lineJoin = 'round';\r\n    context.lineCap = 'round';\r\n\r\n    // half-tone edges\r\n    // bottom left corner\r\n    context.strokeStyle = this.cachedClr;\r\n    context.beginPath();\r\n    context.moveTo(shift, h2);\r\n    context.lineTo(r, h - shift);\r\n    context.stroke();\r\n\r\n    // top right corner\r\n    context.strokeStyle = this.cachedClr;\r\n    context.beginPath();\r\n    context.moveTo(w - shift, h2);\r\n    context.lineTo(w - r, shift);\r\n    context.stroke();\r\n\r\n    // normal gradient edges\r\n    // top edge: left corner\r\n\r\n    context.shadowOffsetX = shift;\r\n    context.shadowOffsetY = shift;\r\n    context.shadowBlur = this.edge;\r\n    context.shadowColor = this.color.darker(80).toString();\r\n\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        0,\r\n        r,\r\n        0\r\n    );\r\n    gradient.addColorStop(1, this.cachedClrDark);\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(shift, h2);\r\n    context.lineTo(r, shift);\r\n    context.stroke();\r\n\r\n    // top edge: straight line\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        0,\r\n        0,\r\n        this.edge\r\n    );\r\n    gradient.addColorStop(1, this.cachedClrDark);\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(r, shift);\r\n    context.lineTo(w - r, shift);\r\n    context.stroke();\r\n\r\n    context.shadowOffsetX = 0;\r\n    context.shadowOffsetY = 0;\r\n    context.shadowBlur = 0;\r\n\r\n    // bottom edge: right corner\r\n    gradient = context.createLinearGradient(\r\n        w - r,\r\n        0,\r\n        w,\r\n        0\r\n    );\r\n    gradient.addColorStop(1, this.cachedClr);\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(w - r, h - shift);\r\n    context.lineTo(w - shift, h2);\r\n    context.stroke();\r\n\r\n    // bottom edge: straight line\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        h - this.edge,\r\n        0,\r\n        h\r\n    );\r\n    gradient.addColorStop(1, this.cachedClr);\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(r + shift, h - shift);\r\n    context.lineTo(w - r - shift, h - shift);\r\n    context.stroke();\r\n};\r\n\r\n// CommentMorph //////////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am an editable, multi-line non-scrolling text window. I can be collapsed\r\n    to a single abbreviated line or expanded to full. My width can be adjusted\r\n    by the user, by height is determined by the size of my text body. I can be\r\n    either placed in a scripting area or \"stuck\" to a block.\r\n*/\r\n\r\n// CommentMorph inherits from BoxMorph:\r\n\r\nCommentMorph.prototype = new BoxMorph();\r\nCommentMorph.prototype.constructor = CommentMorph;\r\nCommentMorph.uber = BoxMorph.prototype;\r\n\r\n// CommentMorph preferences settings (pseudo-inherited from SyntaxElement):\r\n\r\nCommentMorph.prototype.refreshScale = function () {\r\n    CommentMorph.prototype.fontSize = SyntaxElementMorph.prototype.fontSize;\r\n    CommentMorph.prototype.padding = 5 * SyntaxElementMorph.prototype.scale;\r\n    CommentMorph.prototype.rounding = 8 * SyntaxElementMorph.prototype.scale;\r\n};\r\n\r\nCommentMorph.prototype.refreshScale();\r\n\r\n// CommentMorph instance creation:\r\n\r\nfunction CommentMorph(contents) {\r\n    this.init(contents);\r\n}\r\n\r\nCommentMorph.prototype.init = function (contents) {\r\n    var myself = this,\r\n        scale = SyntaxElementMorph.prototype.scale;\r\n    this.block = null; // optional anchor block\r\n    this.stickyOffset = null; // not to be persisted\r\n    this.isCollapsed = false;\r\n    this.titleBar = new BoxMorph(\r\n        this.rounding,\r\n        1.000001 * scale, // shadow bug in Chrome,\r\n        new Color(255, 255, 180)\r\n    );\r\n    this.titleBar.color = new Color(255, 255, 180);\r\n    this.titleBar.setHeight(fontHeight(this.fontSize) + this.padding);\r\n    this.title = null;\r\n    this.arrow = new ArrowMorph(\r\n        'down',\r\n        this.fontSize\r\n    );\r\n    this.arrow.noticesTransparentClick = true;\r\n    this.arrow.mouseClickLeft = function () {myself.toggleExpand(); };\r\n    this.contents = new TextMorph(\r\n        contents || localize('add comment here...'),\r\n        this.fontSize\r\n    );\r\n    this.contents.isEditable = true;\r\n    this.contents.enableSelecting();\r\n    this.contents.maxWidth = 90 * scale;\r\n    this.contents.drawNew();\r\n    this.handle = new HandleMorph(\r\n        this.contents,\r\n        80,\r\n        this.fontSize * 2,\r\n        -2,\r\n        -2\r\n    );\r\n    this.handle.setExtent(new Point(11 * scale, 11 * scale));\r\n    this.anchor = null;\r\n\r\n    CommentMorph.uber.init.call(\r\n        this,\r\n        this.rounding,\r\n        1.000001 * scale, // shadow bug in Chrome,\r\n        new Color(255, 255, 180)\r\n    );\r\n    this.color = new Color(255, 255, 220);\r\n    this.isDraggable = true;\r\n    this.add(this.titleBar);\r\n    this.add(this.arrow);\r\n    this.add(this.contents);\r\n    this.add(this.handle);\r\n\r\n    this.fixLayout();\r\n};\r\n\r\n// CommentMorph ops:\r\n\r\nCommentMorph.prototype.fullCopy = function () {\r\n    var cpy = new CommentMorph(this.contents.text);\r\n    cpy.isCollapsed = this.isCollapsed;\r\n    cpy.setTextWidth(this.textWidth());\r\n    if (this.selectionID) { // for copy on write\r\n        cpy.selectionID = true;\r\n    }\r\n    return cpy;\r\n};\r\n\r\nCommentMorph.prototype.setTextWidth = function (pixels) {\r\n    this.contents.maxWidth = pixels;\r\n    this.contents.drawNew();\r\n    this.fixLayout();\r\n};\r\n\r\nCommentMorph.prototype.textWidth = function () {\r\n    return this.contents.maxWidth;\r\n};\r\n\r\nCommentMorph.prototype.text = function () {\r\n    return this.contents.text;\r\n};\r\n\r\nCommentMorph.prototype.toggleExpand = function () {\r\n    this.isCollapsed = !this.isCollapsed;\r\n    this.fixLayout();\r\n    this.align();\r\n};\r\n\r\n// CommentMorph layout:\r\n\r\nCommentMorph.prototype.layoutChanged = function () {\r\n    // react to a change of the contents area\r\n    this.fixLayout();\r\n    this.align();\r\n};\r\n\r\nCommentMorph.prototype.fixLayout = function () {\r\n    var label,\r\n        tw = this.contents.width() + 2 * this.padding,\r\n        myself = this,\r\n        oldFlag = Morph.prototype.trackChanges;\r\n\r\n    Morph.prototype.trackChanges = false;\r\n\r\n    if (this.title) {\r\n        this.title.destroy();\r\n        this.title = null;\r\n    }\r\n    if (this.isCollapsed) {\r\n        this.contents.hide();\r\n        this.title = new FrameMorph();\r\n        this.title.alpha = 0;\r\n        this.title.acceptsDrops = false;\r\n        label = new StringMorph(\r\n            this.contents.text,\r\n            this.fontSize,\r\n            null, // style (sans-serif)\r\n            true // bold\r\n        );\r\n        label.rootForGrab = function () {\r\n            return myself;\r\n        };\r\n        this.title.add(label);\r\n        this.title.setHeight(label.height());\r\n        this.title.setWidth(\r\n            tw - this.arrow.width() - this.padding * 2 - this.rounding\r\n        );\r\n        this.add(this.title);\r\n    } else {\r\n        this.contents.show();\r\n    }\r\n    this.titleBar.setWidth(tw);\r\n    this.contents.setLeft(this.titleBar.left() + this.padding);\r\n    this.contents.setTop(this.titleBar.bottom() + this.padding);\r\n    this.arrow.direction = this.isCollapsed ? 'right' : 'down';\r\n    this.arrow.drawNew();\r\n    this.arrow.setCenter(this.titleBar.center());\r\n    this.arrow.setLeft(this.titleBar.left() + this.padding);\r\n    if (this.title) {\r\n        this.title.setPosition(\r\n            this.arrow.topRight().add(new Point(this.padding, 0))\r\n        );\r\n    }\r\n    Morph.prototype.trackChanges = oldFlag;\r\n    this.changed();\r\n    this.silentSetHeight(\r\n        this.titleBar.height()\r\n            + (this.isCollapsed ? 0 :\r\n                    this.padding\r\n                        + this.contents.height()\r\n                        + this.padding)\r\n    );\r\n    this.silentSetWidth(this.titleBar.width());\r\n    this.drawNew();\r\n    this.handle.drawNew();\r\n    this.changed();\r\n};\r\n\r\n// CommentMorph menu:\r\n\r\nCommentMorph.prototype.userMenu = function () {\r\n    var menu = new MenuMorph(this),\r\n        myself = this;\r\n\r\n    menu.addItem(\r\n        \"duplicate\",\r\n        function () {\r\n            myself.fullCopy().pickUp(myself.world());\r\n        },\r\n        'make a copy\\nand pick it up'\r\n    );\r\n    menu.addItem(\"delete\", 'userDestroy');\r\n    menu.addItem(\r\n        \"comment pic...\",\r\n        function () {\r\n            var ide = myself.parentThatIsA(IDE_Morph);\r\n            ide.saveCanvasAs(\r\n                myself.fullImageClassic(),\r\n                (ide.projectName || localize('untitled')) + ' ' +\r\n                    localize('comment pic')\r\n            );\r\n        },\r\n        'open a new window\\nwith a picture of this comment'\r\n    );\r\n    return menu;\r\n};\r\n\r\nCommentMorph.prototype.userDestroy = function () {\r\n    this.selectForEdit().destroy(); // enable copy-on-edit\r\n};\r\n\r\n// CommentMorph hiding and showing:\r\n\r\n/*\r\n    override the inherited behavior to recursively hide/show all\r\n    children, so that my instances get restored correctly when\r\n    switching back out of app mode.\r\n*/\r\n\r\nCommentMorph.prototype.hide = function () {\r\n    this.isVisible = false;\r\n    this.changed();\r\n};\r\n\r\nCommentMorph.prototype.show = function () {\r\n    this.isVisible = true;\r\n    this.changed();\r\n};\r\n\r\n// CommentMorph dragging & dropping\r\n\r\nCommentMorph.prototype.prepareToBeGrabbed = function (hand) {\r\n\r\n    // disassociate from the block I'm posted to\r\n    if (this.block) {\r\n        this.block.comment = null;\r\n        this.block = null;\r\n    }\r\n    if (this.anchor) {\r\n        this.anchor.destroy();\r\n        this.anchor = null;\r\n        // fix shadow, because it was added earlier\r\n        this.removeShadow();\r\n        this.addShadow();\r\n    }\r\n};\r\n\r\nCommentMorph.prototype.selectForEdit =\r\n    SyntaxElementMorph.prototype.selectForEdit;\r\n\r\nCommentMorph.prototype.snap = function (hand) {\r\n\r\n    // passing the hand is optional (for when blocks are dragged & dropped)\r\n    var scripts = this.parent,\r\n        target;\r\n\r\n    if (!(scripts instanceof ScriptsMorph)) {\r\n        return null;\r\n    }\r\n    scripts.clearDropInfo();\r\n    target = scripts.closestBlock(this, hand);\r\n    if (target !== null) {\r\n        target.comment = this;\r\n        this.block = target;\r\n        if (this.snapSound) {\r\n            this.snapSound.play();\r\n        }\r\n        scripts.lastDropTarget = {element: target};\r\n    }\r\n    this.align();\r\n    scripts.lastDroppedBlock = this;\r\n    if (hand) {\r\n        scripts.recordDrop(hand.grabOrigin);\r\n    }\r\n\r\n};\r\n\r\n// CommentMorph sticking to blocks\r\n\r\nCommentMorph.prototype.align = function (topBlock, ignoreLayer) {\r\n    if (this.block) {\r\n        var top = topBlock || this.block.topBlock(),\r\n            affectedBlocks,\r\n            tp,\r\n            bottom,\r\n            rightMost,\r\n            scripts = top.parentThatIsA(ScriptsMorph);\r\n        this.setTop(this.block.top() + this.block.corner);\r\n        tp = this.top();\r\n        bottom = this.bottom();\r\n        affectedBlocks = top.allChildren().filter(function (child) {\r\n            return child instanceof BlockMorph &&\r\n                child.bottom() > tp &&\r\n                child.top() < bottom;\r\n        });\r\n        rightMost = Math.max.apply(\r\n            null,\r\n            affectedBlocks.map(function (block) {return block.right(); })\r\n        );\r\n\r\n        this.setLeft(rightMost + 5);\r\n        if (!ignoreLayer && scripts) {\r\n            scripts.addBack(this); // push to back and show\r\n        }\r\n\r\n        if (!this.anchor) {\r\n            this.anchor = new Morph();\r\n            this.anchor.color = this.titleBar.color;\r\n        }\r\n        this.anchor.silentSetPosition(new Point(\r\n            this.block.right(),\r\n            this.top() + this.edge\r\n        ));\r\n        this.anchor.bounds.corner = new Point(\r\n            this.left(),\r\n            this.top() + this.edge + 1\r\n        );\r\n        this.anchor.drawNew();\r\n        this.addBack(this.anchor);\r\n        this.anchor.changed();\r\n    }\r\n};\r\n\r\nCommentMorph.prototype.startFollowing = function (topBlock, world) {\r\n    this.align(topBlock);\r\n    world.add(this);\r\n    this.addShadow();\r\n    this.stickyOffset = this.position().subtract(this.block.position());\r\n    this.step = function () {\r\n        if (!this.block) { // kludge - only needed for \"redo\"\r\n            this.stopFollowing();\r\n            return;\r\n        }\r\n        this.setPosition(this.block.position().add(this.stickyOffset));\r\n    };\r\n};\r\n\r\nCommentMorph.prototype.stopFollowing = function () {\r\n    this.removeShadow();\r\n    delete this.step;\r\n};\r\n\r\nCommentMorph.prototype.destroy = function () {\r\n    if (this.block) {\r\n        this.block.comment = null;\r\n    }\r\n    CommentMorph.uber.destroy.call(this);\r\n};\r\n\r\nCommentMorph.prototype.stackHeight = function () {\r\n    return this.height();\r\n};\r\n\r\n// ScriptFocusMorph //////////////////////////////////////////////////////////\r\n\r\n/*\r\n    I offer keyboard navigation for syntax elements, blocks and scripts:\r\n\r\n    activate:\r\n      - shift + click on a scripting pane's background\r\n      - shift + click on any block\r\n      - shift + enter in the IDE's edit mode\r\n\r\n    stop editing:\r\n      - left-click on scripting pane's background\r\n      - esc\r\n\r\n    navigate among scripts:\r\n      - tab: next script\r\n      - backtab (shift + tab): last script\r\n\r\n    start editing a new script:\r\n      - shift + enter\r\n\r\n    navigate among commands within a script:\r\n      - down arrow: next command\r\n      - up arrow: last command\r\n\r\n    navigate among all elements within a script:\r\n      - right arrow: next element (block or input)\r\n      - left arrow: last element\r\n\r\n    move the currently edited script (stack of blocks):\r\n      - shift + arrow keys (left, right, up, down)\r\n\r\n    editing scripts:\r\n\r\n      - backspace:\r\n        * delete currently focused reporter\r\n        * delete command above current insertion mark (blinking)\r\n        * collapse currently focused variadic input by one element\r\n\r\n      - enter:\r\n        * edit currently focused input slot\r\n        * expand currently focused variadic input by one element\r\n\r\n      - space:\r\n        * activate currently focused input slot's pull-down menu, if any\r\n        * show a menu of reachable variables for the focused input or reporter\r\n\r\n      - any other key:\r\n        start searching for insertable matching blocks\r\n\r\n      - in menus triggered by this feature:\r\n        * navigate with up / down arrow keys\r\n        * trigger selection with enter\r\n        * cancel menu with esc\r\n\r\n      - in the search bar triggered b this feature:\r\n        * keep typing / deleting to narrow and update matches\r\n        * navigate among shown matches with up / down arrow keys\r\n        * insert selected match at the focus' position with enter\r\n        * cancel searching and inserting with esc\r\n\r\n    running the currently edited script:\r\n        * shift+ctrl+enter simulates clicking the edited script with the mouse\r\n*/\r\n\r\n// ScriptFocusMorph inherits from BoxMorph:\r\n\r\nScriptFocusMorph.prototype = new BoxMorph();\r\nScriptFocusMorph.prototype.constructor = ScriptFocusMorph;\r\nScriptFocusMorph.uber = BoxMorph.prototype;\r\n\r\n// ScriptFocusMorph instance creation:\r\n\r\nfunction ScriptFocusMorph(editor, initialElement, position) {\r\n    this.init(editor, initialElement, position);\r\n}\r\n\r\nScriptFocusMorph.prototype.init = function (\r\n    editor,\r\n    initialElement,\r\n    position\r\n) {\r\n    this.editor = editor; // a ScriptsMorph\r\n    this.element = initialElement;\r\n    this.atEnd = false;\r\n    ScriptFocusMorph.uber.init.call(this);\r\n    if (this.element instanceof ScriptsMorph) {\r\n        this.setPosition(position);\r\n    }\r\n};\r\n\r\n// ScriptFocusMorph keyboard focus:\r\n\r\nScriptFocusMorph.prototype.getFocus = function (world) {\r\n    if (!world) {world = this.world(); }\r\n    if (world && world.keyboardReceiver !== this) {\r\n        world.stopEditing();\r\n    }\r\n    world.keyboardReceiver = this;\r\n    this.fixLayout();\r\n    this.editor.updateToolbar();\r\n};\r\n\r\n// ScriptFocusMorph layout:\r\n\r\nScriptFocusMorph.prototype.fixLayout = function () {\r\n    this.changed();\r\n    if (this.element instanceof CommandBlockMorph ||\r\n            this.element instanceof CommandSlotMorph ||\r\n            this.element instanceof ScriptsMorph) {\r\n        this.manifestStatement();\r\n    } else {\r\n        this.manifestExpression();\r\n    }\r\n    this.editor.add(this); // come to front\r\n    this.scrollIntoView();\r\n    this.changed();\r\n};\r\n\r\nScriptFocusMorph.prototype.manifestStatement = function () {\r\n    var newScript = this.element instanceof ScriptsMorph,\r\n        y = this.element.top();\r\n    this.border = 0;\r\n    this.edge = 0;\r\n    this.alpha = 1;\r\n    this.color = this.editor.feedbackColor;\r\n    this.setExtent(new Point(\r\n        newScript ?\r\n                SyntaxElementMorph.prototype.hatWidth : this.element.width(),\r\n        Math.max(\r\n            SyntaxElementMorph.prototype.corner,\r\n            SyntaxElementMorph.prototype.feedbackMinHeight\r\n        )\r\n    ));\r\n    if (this.element instanceof CommandSlotMorph) {\r\n        y += SyntaxElementMorph.prototype.corner;\r\n    } else if (this.atEnd) {\r\n        y = this.element.bottom();\r\n    }\r\n    if (!newScript) {\r\n        this.setPosition(new Point(\r\n            this.element.left(),\r\n            y\r\n        ));\r\n    }\r\n    this.fps = 2;\r\n    this.show();\r\n    this.step = function () {\r\n        this.toggleVisibility();\r\n    };\r\n};\r\n\r\nScriptFocusMorph.prototype.manifestExpression = function () {\r\n    this.edge = SyntaxElementMorph.prototype.rounding;\r\n    this.border = Math.max(\r\n        SyntaxElementMorph.prototype.edge,\r\n        3\r\n    );\r\n    this.color = this.editor.feedbackColor.copy();\r\n    this.color.a = 0.5;\r\n    this.borderColor = this.editor.feedbackColor;\r\n\r\n    this.bounds = this.element.fullBounds()\r\n        .expandBy(Math.max(\r\n            SyntaxElementMorph.prototype.edge * 2,\r\n            SyntaxElementMorph.prototype.reporterDropFeedbackPadding\r\n        ));\r\n    this.drawNew();\r\n    delete this.fps;\r\n    delete this.step;\r\n    this.show();\r\n};\r\n\r\n// ScriptFocusMorph editing\r\n\r\nScriptFocusMorph.prototype.trigger = function () {\r\n    var current = this.element;\r\n    if (current instanceof MultiArgMorph) {\r\n        if (current.arrows().children[1].isVisible) {\r\n            current.addInput();\r\n            this.fixLayout();\r\n        }\r\n        return;\r\n    }\r\n    if (current.parent instanceof TemplateSlotMorph) {\r\n        current.mouseClickLeft();\r\n        return;\r\n    }\r\n    if (current instanceof BooleanSlotMorph) {\r\n        current.toggleValue();\r\n        return;\r\n    }\r\n    if (current instanceof InputSlotMorph) {\r\n        if (!current.isReadOnly) {\r\n            delete this.fps;\r\n            delete this.step;\r\n            this.hide();\r\n            this.world().onNextStep = function () {\r\n                current.contents().edit();\r\n                current.contents().selectAll();\r\n            };\r\n        } else if (current.choices) {\r\n            current.dropDownMenu(true);\r\n            delete this.fps;\r\n            delete this.step;\r\n            this.hide();\r\n        }\r\n    }\r\n};\r\n\r\nScriptFocusMorph.prototype.menu = function () {\r\n    var current = this.element;\r\n    if (current instanceof InputSlotMorph && current.choices) {\r\n        current.dropDownMenu(true);\r\n        delete this.fps;\r\n        delete this.step;\r\n        this.hide();\r\n    } else {\r\n        this.insertVariableGetter();\r\n    }\r\n};\r\n\r\nScriptFocusMorph.prototype.deleteLastElement = function () {\r\n    var current = this.element;\r\n    if (current.parent instanceof ScriptsMorph) {\r\n        if (this.atEnd || current instanceof ReporterBlockMorph) {\r\n            current.destroy();\r\n            this.element = this.editor;\r\n            this.atEnd = false;\r\n        }\r\n    } else if (current instanceof MultiArgMorph) {\r\n        if (current.arrows().children[0].isVisible) {\r\n            current.removeInput();\r\n        }\r\n    } else if (current instanceof BooleanSlotMorph) {\r\n        if (!current.isStatic) {\r\n            current.setContents(null);\r\n        }\r\n    } else if (current instanceof ReporterBlockMorph) {\r\n        if (!current.isTemplate) {\r\n            this.lastElement();\r\n            current.prepareToBeGrabbed();\r\n            current.destroy();\r\n        }\r\n    } else if (current instanceof CommandBlockMorph) {\r\n        if (this.atEnd) {\r\n            this.element = current.parent;\r\n            current.userDestroy();\r\n        } else {\r\n            if (current.parent instanceof CommandBlockMorph) {\r\n                current.parent.userDestroy();\r\n            }\r\n        }\r\n    }\r\n    this.editor.adjustBounds();\r\n    this.fixLayout();\r\n};\r\n\r\nScriptFocusMorph.prototype.insertBlock = function (block) {\r\n    var pb, stage, ide, rcvr;\r\n    block.isTemplate = false;\r\n    block.isDraggable = true;\r\n\r\n\r\n\r\n    if (block.snapSound) {\r\n        block.snapSound.play();\r\n    }\r\n\r\n    if (this.element instanceof ScriptsMorph) {\r\n        this.editor.add(block);\r\n        this.element = block;\r\n        if (block instanceof CommandBlockMorph) {\r\n            block.setLeft(this.left());\r\n            if (block.isStop()) {\r\n                block.setTop(this.top());\r\n            } else {\r\n                block.setBottom(this.top());\r\n                this.atEnd = true;\r\n            }\r\n        } else {\r\n            block.setCenter(this.center());\r\n            block.setLeft(this.left());\r\n        }\r\n    } else if (this.element instanceof CommandBlockMorph) {\r\n        if (this.atEnd) {\r\n            this.element.nextBlock(block);\r\n            this.element = block;\r\n            this.fixLayout();\r\n        } else {\r\n            // to be done: special case if block.isStop()\r\n            pb = this.element.parent;\r\n            if (pb instanceof ScriptsMorph) { // top block\r\n                block.setLeft(this.element.left());\r\n                block.setBottom(this.element.top() + this.element.corner);\r\n                this.editor.add(block);\r\n                block.nextBlock(this.element);\r\n                this.fixLayout();\r\n            } else if (pb instanceof CommandSlotMorph) {\r\n                pb.nestedBlock(block);\r\n            } else if (pb instanceof CommandBlockMorph) {\r\n                pb.nextBlock(block);\r\n            }\r\n        }\r\n    } else if (this.element instanceof CommandSlotMorph) {\r\n        // to be done: special case if block.isStop()\r\n        this.element.nestedBlock(block);\r\n        this.element = block;\r\n        this.atEnd = true;\r\n    } else {\r\n        pb = this.element.parent;\r\n        if (pb instanceof ScriptsMorph) {\r\n            this.editor.add(block);\r\n            block.setPosition(this.element.position());\r\n            this.element.destroy();\r\n        } else {\r\n            pb.replaceInput(this.element, block);\r\n        }\r\n        this.element = block;\r\n    }\r\n    block.fixBlockColor();\r\n    this.editor.adjustBounds();\r\n    // block.scrollIntoView();\r\n    this.fixLayout();\r\n\r\n    // register generic hat blocks\r\n    if (block.selector === 'receiveCondition') {\r\n        rcvr = this.editor.scriptTarget();\r\n        if (rcvr) {\r\n            stage = rcvr.parentThatIsA(StageMorph);\r\n            if (stage) {\r\n                stage.enableCustomHatBlocks = true;\r\n                stage.threads.pauseCustomHatBlocks = false;\r\n                ide = stage.parentThatIsA(IDE_Morph);\r\n                if (ide) {\r\n                    ide.controlBar.stopButton.refresh();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    // experimental: if the inserted block has inputs, go to the first one\r\n    if (block.inputs && block.inputs().length) {\r\n        this.element = block;\r\n        this.atEnd = false;\r\n        this.nextElement();\r\n    }\r\n};\r\n\r\nScriptFocusMorph.prototype.insertVariableGetter = function () {\r\n    var types = this.blockTypes(),\r\n        vars,\r\n        myself = this,\r\n        menu = new MenuMorph();\r\n    if (!types || !contains(types, 'reporter')) {\r\n        return;\r\n    }\r\n    vars = InputSlotMorph.prototype.getVarNamesDict.call(this.element);\r\n    Object.keys(vars).forEach(function (vName) {\r\n        var block = SpriteMorph.prototype.variableBlock(vName);\r\n        block.addShadow(new Point(3, 3));\r\n        menu.addItem(\r\n            block,\r\n            function () {\r\n                block.removeShadow();\r\n                myself.insertBlock(block);\r\n            }\r\n        );\r\n    });\r\n    if (menu.items.length > 0) {\r\n        menu.popup(this.world(), this.element.bottomLeft());\r\n        menu.getFocus();\r\n    }\r\n};\r\n\r\nScriptFocusMorph.prototype.stopEditing = function () {\r\n    this.editor.focus = null;\r\n    this.editor.updateToolbar();\r\n    this.world().keyboardReceiver = null;\r\n    this.destroy();\r\n};\r\n\r\n// ScriptFocusMorph navigation\r\n\r\nScriptFocusMorph.prototype.lastElement = function () {\r\n    var items = this.items(),\r\n        idx;\r\n    if (!items.length) {\r\n        this.shiftScript(new Point(-50, 0));\r\n        return;\r\n    }\r\n    if (this.atEnd) {\r\n        this.element = items[items.length - 1];\r\n        this.atEnd = false;\r\n    } else {\r\n        idx = items.indexOf(this.element) - 1;\r\n        if (idx < 0) {idx = items.length - 1; }\r\n        this.element = items[idx];\r\n    }\r\n    if (this.element instanceof CommandSlotMorph &&\r\n            this.element.nestedBlock()) {\r\n        this.lastElement();\r\n    } else if (this.element instanceof HatBlockMorph) {\r\n        if (items.length > 1) {\r\n            this.lastElement();\r\n        } else {\r\n            this.atEnd = true;\r\n        }\r\n    }\r\n    this.fixLayout();\r\n};\r\n\r\nScriptFocusMorph.prototype.nextElement = function () {\r\n    var items = this.items(), idx, nb;\r\n    if (!items.length) {\r\n        this.shiftScript(new Point(50, 0));\r\n        return;\r\n    }\r\n    idx = items.indexOf(this.element) + 1;\r\n    if (idx >= items.length) {\r\n        idx = 0;\r\n    }\r\n    this.atEnd = false;\r\n    this.element = items[idx];\r\n    if (this.element instanceof CommandSlotMorph) {\r\n        nb = this.element.nestedBlock();\r\n        if (nb) {this.element = nb; }\r\n    } else if (this.element instanceof HatBlockMorph) {\r\n        if (items.length === 1) {\r\n            this.atEnd = true;\r\n        } else {\r\n            this.nextElement();\r\n        }\r\n    }\r\n    this.fixLayout();\r\n};\r\n\r\nScriptFocusMorph.prototype.lastCommand = function () {\r\n    var cm = this.element.parentThatIsA(CommandBlockMorph),\r\n        pb;\r\n    if (!cm) {\r\n        if (this.element instanceof ScriptsMorph) {\r\n            this.shiftScript(new Point(0, -50));\r\n        }\r\n        return;\r\n    }\r\n    if (this.element instanceof CommandBlockMorph) {\r\n        if (this.atEnd) {\r\n            this.atEnd = false;\r\n        } else {\r\n            pb = cm.parent.parentThatIsA(CommandBlockMorph);\r\n            if (pb) {\r\n                this.element = pb;\r\n            } else {\r\n                pb = cm.topBlock().bottomBlock();\r\n                if (pb) {\r\n                    this.element = pb;\r\n                    this.atEnd = true;\r\n                }\r\n            }\r\n        }\r\n    } else {\r\n        this.element = cm;\r\n        this.atEnd = false;\r\n    }\r\n    if (this.element instanceof HatBlockMorph && !this.atEnd) {\r\n        this.lastCommand();\r\n    }\r\n    this.fixLayout();\r\n};\r\n\r\nScriptFocusMorph.prototype.nextCommand = function () {\r\n    var cm = this.element,\r\n        tb,\r\n        nb,\r\n        cs;\r\n    if (cm instanceof ScriptsMorph) {\r\n        this.shiftScript(new Point(0, 50));\r\n        return;\r\n    }\r\n    while (!(cm instanceof CommandBlockMorph)) {\r\n        cm = cm.parent;\r\n        if (cm instanceof ScriptsMorph) {\r\n            return;\r\n        }\r\n    }\r\n    if (this.atEnd) {\r\n        cs = cm.parentThatIsA(CommandSlotMorph);\r\n        if (cs) {\r\n            this.element = cs.parentThatIsA(CommandBlockMorph);\r\n            this.atEnd = false;\r\n            this.nextCommand();\r\n        } else {\r\n            tb = cm.topBlock().parentThatIsA(CommandBlockMorph);\r\n            if (tb) {\r\n                this.element = tb;\r\n                this.atEnd = false;\r\n                if (this.element instanceof HatBlockMorph) {\r\n                    this.nextCommand();\r\n                }\r\n            }\r\n        }\r\n    } else {\r\n        nb = cm.nextBlock();\r\n        if (nb) {\r\n            this.element = nb;\r\n        } else {\r\n            this.element = cm;\r\n            this.atEnd = true;\r\n        }\r\n    }\r\n    this.fixLayout();\r\n};\r\n\r\nScriptFocusMorph.prototype.nextScript = function () {\r\n    var scripts = this.sortedScripts(),\r\n        idx;\r\n    if (scripts.length < 1) {return; }\r\n    if (this.element instanceof ScriptsMorph) {\r\n        this.element = scripts[0];\r\n    }\r\n    idx = scripts.indexOf(this.element.topBlock()) + 1;\r\n    if (idx >= scripts.length) {idx = 0; }\r\n    this.element = scripts[idx];\r\n    this.element.scrollIntoView();\r\n    this.atEnd = false;\r\n    if (this.element instanceof HatBlockMorph) {\r\n        return this.nextElement();\r\n    }\r\n    this.fixLayout();\r\n};\r\n\r\nScriptFocusMorph.prototype.lastScript = function () {\r\n    var scripts = this.sortedScripts(),\r\n        idx;\r\n    if (scripts.length < 1) {return; }\r\n    if (this.element instanceof ScriptsMorph) {\r\n        this.element = scripts[0];\r\n    }\r\n    idx = scripts.indexOf(this.element.topBlock()) - 1;\r\n    if (idx < 0) {idx = scripts.length - 1; }\r\n    this.element = scripts[idx];\r\n    this.element.scrollIntoView();\r\n    this.atEnd = false;\r\n    if (this.element instanceof HatBlockMorph) {\r\n        return this.nextElement();\r\n    }\r\n    this.fixLayout();\r\n};\r\n\r\nScriptFocusMorph.prototype.shiftScript = function (deltaPoint) {\r\n    var tb;\r\n    if (this.element instanceof ScriptsMorph) {\r\n        this.moveBy(deltaPoint);\r\n    } else {\r\n        tb = this.element.topBlock();\r\n        if (tb && !(tb instanceof PrototypeHatBlockMorph)) {\r\n            tb.moveBy(deltaPoint);\r\n        }\r\n    }\r\n    this.editor.adjustBounds();\r\n    this.fixLayout();\r\n};\r\n\r\nScriptFocusMorph.prototype.newScript = function () {\r\n    var pos = this.position();\r\n    if (!(this.element instanceof ScriptsMorph)) {\r\n        pos = this.element.topBlock().fullBounds().bottomLeft().add(\r\n            new Point(0, 50)\r\n        );\r\n    }\r\n    this.setPosition(pos);\r\n    this.element = this.editor;\r\n    this.editor.adjustBounds();\r\n    this.fixLayout();\r\n};\r\n\r\n\r\nScriptFocusMorph.prototype.runScript = function () {\r\n    if (this.element instanceof ScriptsMorph) {return; }\r\n    this.element.topBlock().mouseClickLeft();\r\n};\r\n\r\nScriptFocusMorph.prototype.items = function () {\r\n    if (this.element instanceof ScriptsMorph) {return []; }\r\n    var script = this.element.topBlock();\r\n    return script.allChildren().filter(function (each) {\r\n        return each instanceof SyntaxElementMorph &&\r\n            !(each instanceof TemplateSlotMorph) &&\r\n            (!each.isStatic ||\r\n                each.choices ||\r\n                each instanceof BooleanSlotMorph ||\r\n                each instanceof RingMorph ||\r\n                each instanceof MultiArgMorph ||\r\n                each instanceof CommandSlotMorph);\r\n    });\r\n};\r\n\r\nScriptFocusMorph.prototype.sortedScripts = function () {\r\n    var scripts = this.editor.children.filter(function (each) {\r\n        return each instanceof BlockMorph;\r\n    });\r\n    scripts.sort(function (a, b) {\r\n        // make sure the prototype hat block always stays on top\r\n        return a instanceof PrototypeHatBlockMorph ? 0 : a.top() - b.top();\r\n    });\r\n    return scripts;\r\n};\r\n\r\n// ScriptFocusMorph undo / redo\r\n\r\nScriptFocusMorph.prototype.undrop = function () {\r\n    this.editor.undrop();\r\n};\r\n\r\nScriptFocusMorph.prototype.redrop = function () {\r\n    this.editor.redrop();\r\n};\r\n\r\n// ScriptFocusMorph block types\r\n\r\nScriptFocusMorph.prototype.blockTypes = function () {\r\n    // answer an array of possible block types that fit into\r\n    // the current situation, NULL if no block can be inserted\r\n\r\n    if (this.element.isTemplate) {return null; }\r\n    if (this.element instanceof ScriptsMorph) {\r\n        return ['hat', 'command', 'reporter', 'predicate', 'ring'];\r\n    }\r\n    if (this.element instanceof HatBlockMorph ||\r\n            this.element instanceof CommandSlotMorph) {\r\n        return ['command'];\r\n    }\r\n    if (this.element instanceof CommandBlockMorph) {\r\n        if (this.atEnd && this.element.isStop()) {\r\n            return null;\r\n        }\r\n        if (this.element.parent instanceof ScriptsMorph) {\r\n            return ['hat', 'command'];\r\n        }\r\n        return ['command'];\r\n    }\r\n    if (this.element instanceof ReporterBlockMorph) {\r\n        if (this.element.getSlotSpec() === '%n') {\r\n            return ['reporter'];\r\n        }\r\n        return ['reporter', 'predicate', 'ring'];\r\n    }\r\n    if (this.element.getSpec() === '%n') {\r\n        return ['reporter'];\r\n    }\r\n    if (this.element.isStatic) {\r\n        return null;\r\n    }\r\n    return ['reporter', 'predicate', 'ring'];\r\n};\r\n\r\n\r\n// ScriptFocusMorph keyboard events\r\n\r\nScriptFocusMorph.prototype.processKeyDown = function (event) {\r\n    this.processKeyEvent(\r\n        event,\r\n        this.reactToKeyEvent\r\n    );\r\n};\r\n\r\nScriptFocusMorph.prototype.processKeyUp = function (event) {\r\n    nop(event);\r\n};\r\n\r\nScriptFocusMorph.prototype.processKeyPress = function (event) {\r\n    nop(event);\r\n};\r\n\r\n\r\nScriptFocusMorph.prototype.processKeyEvent = function (event, action) {\r\n    var keyName, ctrl, shift;\r\n\r\n    this.world().hand.destroyTemporaries(); // remove result bubbles, if any\r\n    switch (event.keyCode) {\r\n    case 8:\r\n        keyName = 'backspace';\r\n        break;\r\n    case 9:\r\n        keyName = 'tab';\r\n        break;\r\n    case 13:\r\n        keyName = 'enter';\r\n        break;\r\n    case 16:\r\n    case 17:\r\n    case 18:\r\n        return;\r\n    case 27:\r\n        keyName = 'esc';\r\n        break;\r\n    case 32:\r\n        keyName = 'space';\r\n        break;\r\n    case 37:\r\n        keyName = 'left arrow';\r\n        break;\r\n    case 39:\r\n        keyName = 'right arrow';\r\n        break;\r\n    case 38:\r\n        keyName = 'up arrow';\r\n        break;\r\n    case 40:\r\n        keyName = 'down arrow';\r\n        break;\r\n    default:\r\n        keyName = String.fromCharCode(event.keyCode || event.charCode);\r\n    }\r\n    ctrl = (event.ctrlKey || event.metaKey) ? 'ctrl ' : '';\r\n    shift = event.shiftKey ? 'shift ' : '';\r\n    keyName = ctrl + shift + keyName;\r\n    action.call(this, keyName);\r\n};\r\n\r\nScriptFocusMorph.prototype.reactToKeyEvent = function (key) {\r\n    var evt = key.toLowerCase(),\r\n        shift = 50,\r\n        types,\r\n        vNames;\r\n\r\n    \r\n    switch (evt) {\r\n    case 'esc':\r\n        return this.stopEditing();\r\n    case 'enter':\r\n        return this.trigger();\r\n    case 'shift enter':\r\n        return this.newScript();\r\n    case 'ctrl shift enter':\r\n        return this.runScript();\r\n    case 'space':\r\n        return this.menu();\r\n    case 'left arrow':\r\n        return this.lastElement();\r\n    case 'shift left arrow':\r\n        return this.shiftScript(new Point(-shift, 0));\r\n    case 'right arrow':\r\n        return this.nextElement();\r\n    case 'shift right arrow':\r\n        return this.shiftScript(new Point(shift, 0));\r\n    case 'up arrow':\r\n        return this.lastCommand();\r\n    case 'shift up arrow':\r\n        return this.shiftScript(new Point(0, -shift));\r\n    case 'down arrow':\r\n        return this.nextCommand();\r\n    case 'shift down arrow':\r\n        return this.shiftScript(new Point(0, shift));\r\n    case 'tab':\r\n        return this.nextScript();\r\n    case 'shift tab':\r\n        return this.lastScript();\r\n    case 'backspace':\r\n        return this.deleteLastElement();\r\n    case 'ctrl z':\r\n        return this.undrop();\r\n    case 'ctrl y':\r\n    case 'ctrl shift z':\r\n        return this.redrop();\r\n    case 'ctrl [': // ignore the first press of the Mac cmd key\r\n        return;\r\n    default:\r\n        types = this.blockTypes();\r\n        if (!(this.element instanceof ScriptsMorph) &&\r\n                types && contains(types, 'reporter')) {\r\n            vNames = Object.keys(this.element.getVarNamesDict());\r\n        }\r\n        if (types) {\r\n            delete this.fps;\r\n            delete this.step;\r\n            this.show();\r\n            this.editor.scriptTarget().searchBlocks(\r\n                key,\r\n                types,\r\n                vNames,\r\n                this\r\n            );\r\n        }\r\n    }\r\n};\r\n//fin de blocks\r\n\r\n/*\r\n\r\n    threads.js\r\n\r\n    a tail call optimized blocks-based programming language interpreter\r\n    based on morphic.js and blocks.js\r\n    inspired by Scratch, Scheme and Squeak\r\n\r\n    written by Jens Mönig\r\n    jens@moenig.org\r\n\r\n    Copyright (C) 2017 by Jens Mönig\r\n\r\n    This file is part of Snap!.\r\n\r\n    Snap! is free software: you can redistribute it and/or modify\r\n    it under the terms of the GNU Affero General Public License as\r\n    published by the Free Software Foundation, either version 3 of\r\n    the License, or (at your option) any later version.\r\n\r\n    This program is distributed in the hope that it will be useful,\r\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n    GNU Affero General Public License for more details.\r\n\r\n    You should have received a copy of the GNU Affero General Public License\r\n    along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n\r\n\r\n    prerequisites:\r\n    --------------\r\n    needs blocks.js and objects.js\r\n\r\n\r\n    toc\r\n    ---\r\n    the following list shows the order in which all constructors are\r\n    defined. Use this list to locate code in this document:\r\n\r\n        ThreadManager\r\n        Process\r\n        Context\r\n        Variable\r\n        VariableFrame\r\n\r\n\r\n    credits\r\n    -------\r\n    John Maloney and Dave Feinberg designed the original Scratch evaluator\r\n    Ivan Motyashov contributed initial porting from Squeak\r\n\r\n*/\r\n\r\n// Global stuff ////////////////////////////////////////////////////////\r\n\r\n/*global ArgMorph, BlockMorph, CommandBlockMorph, CommandSlotMorph, Morph,\r\nMultiArgMorph, Point, ReporterBlockMorph, SyntaxElementMorph, contains, Costume,\r\ndegrees, detect, nop, radians, ReporterSlotMorph, CSlotMorph, RingMorph, Sound,\r\nIDE_Morph, ArgLabelMorph, localize, XML_Element, hex_sha512, TableDialogMorph,\r\nStageMorph, SpriteMorph, StagePrompterMorph, Note, modules, isString, copy,\r\nisNil, WatcherMorph, List, ListWatcherMorph, alert, console, TableMorph,\r\nTableFrameMorph, ColorSlotMorph, isSnapObject*/\r\n\r\nmodules.threads = '2017-December-01';\r\n\r\nvar ThreadManager;\r\nvar Process;\r\nvar Context;\r\nvar VariableFrame;\r\n\r\nfunction snapEquals(a, b) {\r\n    if (a instanceof List || (b instanceof List)) {\r\n        if (a instanceof List && (b instanceof List)) {\r\n            return a.equalTo(b);\r\n        }\r\n        return false;\r\n    }\r\n\r\n    var x = +a,\r\n        y = +b,\r\n        i,\r\n        specials = [true, false, ''];\r\n\r\n    // \"zum Schneckengang verdorben, was Adlerflug geworden wäre\"\r\n    // collecting edge-cases that somebody complained about\r\n    // on Github. Folks, take it easy and keep it fun, okay?\r\n    // Shit like this is patently ugly and slows Snap down. Tnx!\r\n    for (i = 9; i <= 13; i += 1) {\r\n        specials.push(String.fromCharCode(i));\r\n    }\r\n    specials.push(String.fromCharCode(160));\r\n\r\n    // check for special values before coercing to numbers\r\n    if (isNaN(x) || isNaN(y) ||\r\n            [a, b].some(function (any) {return contains(specials, any) ||\r\n                  (isString(any) && (any.indexOf(' ') > -1)); })) {\r\n        x = a;\r\n        y = b;\r\n    }\r\n\r\n    // handle text comparison case-insensitive.\r\n    if (isString(x) && isString(y)) {\r\n        return x.toLowerCase() === y.toLowerCase();\r\n    }\r\n\r\n    return x === y;\r\n}\r\n\r\nfunction invoke(\r\n    action, // a BlockMorph or a Context, a reified (\"ringified\") block\r\n    contextArgs, // optional List of arguments for the context, or null\r\n    receiver, // sprite or environment, optional for contexts\r\n    timeout, // msecs\r\n    timeoutErrorMsg, // string\r\n    suppressErrors // bool\r\n) {\r\n    // execute the given block or context synchronously without yielding.\r\n    // Apply context (not a block) to a list of optional arguments.\r\n    // Receiver (sprite, stage or  environment), timeout etc. are optional.\r\n    // If a timeout (in milliseconds) is specified, abort execution\r\n    // after the timeout has been reached and throw an error.\r\n    // SuppressErrors (bool) if non-timeout errors occurring in the\r\n    // block are handled elsewhere.\r\n    // This is highly experimental.\r\n    // Caution: Kids, do not try this at home!\r\n    // Use ThreadManager::startProcess with a callback instead\r\n\r\n    var proc = new Process(),\r\n        deadline = (timeout ? Date.now() + timeout : null);\r\n\r\n    if (action instanceof Context) {\r\n        if (receiver) { // optional\r\n            action = proc.reportContextFor(receiver);\r\n        }\r\n        proc.initializeFor(action, contextArgs || new List());\r\n    } else if (action instanceof BlockMorph) {\r\n        proc.topBlock = action;\r\n        if (receiver) {\r\n            proc.homeContext = new Context();\r\n            proc.homeContext.receiver = receiver;\r\n            if (receiver.variables) {\r\n                proc.homeContext.variables.parentFrame = receiver.variables;\r\n            }\r\n        } else {\r\n            throw new Error('expecting a receiver but getting ' + receiver);\r\n        }\r\n        proc.context = new Context(\r\n            null,\r\n            action.blockSequence(),\r\n            proc.homeContext\r\n        );\r\n    } else if (action.evaluate) {\r\n        return action.evaluate();\r\n    } else {\r\n        throw new Error('expecting a block or ring but getting ' + action);\r\n    }\r\n    if (suppressErrors) {\r\n        proc.isCatchingErrors = false;\r\n    }\r\n    while (proc.isRunning()) {\r\n        if (deadline && (Date.now() > deadline)) {\r\n            throw (new Error(\r\n                localize(\r\n                    timeoutErrorMsg ||\r\n                        \"a synchronous Snap! script has timed out\")\r\n                )\r\n            );\r\n        }\r\n        proc.runStep(deadline);\r\n    }\r\n    return proc.homeContext.inputs[0];\r\n}\r\n\r\n// ThreadManager ///////////////////////////////////////////////////////\r\n\r\nfunction ThreadManager() {\r\n    this.processes = [];\r\n    this.wantsToPause = false; // single stepping support\r\n}\r\n\r\nThreadManager.prototype.pauseCustomHatBlocks = false;\r\n\r\nvar compteurGo = 0; // Wiquid Counting user try\r\n\r\nThreadManager.prototype.toggleProcess = function (block, receiver) {\r\n    var active = this.findProcess(block, receiver);\r\n    \r\n    compteur();//Wiquid : Block green flag and other trigger blocks\r\n\r\n    if (active) {\r\n\r\n        active.stop();\r\n    \r\n    } else {\r\n\r\n        return this.startProcess(block, receiver, null, null, null, true);\r\n    \r\n    }\r\n};\r\n\r\n//******************************* Wiquid ***********************************************\r\n\r\nfunction compteur(){\r\n    compteurGo++;\r\n    $container.find(\".compteur\").html(\"\\\"tentatives\\\" : \\\"\" + compteurGo + \"\\\"\");\r\n     var nbTry = config.testLimiter - compteurGo ;\r\n    \r\n    if(nbTry > 1){world.children[0].projectName = ' ATTENTION : Il vous reste '+ (nbTry) +' tentatives !';}\r\n    if(nbTry == 1){world.children[0].projectName = ' ATTENTION DERNIERE TENTATIVE !';}\r\n    world.children[0].controlBar.updateLabel();\r\n    \r\n    if( compteurGo >= config.testLimiter && config.testLimiter !=0 ){\r\n\r\n        $container.find(\".snapy\").append(\"<div class='bg_try_stop'></div\");\r\n        $container.find(\".snapy\").append(\"<div class='txt_try_stop'>Nombre d\\'essais maximum atteint. Soumettez votre réponse pour continuer.</div>\");\r\n        $container.find(\".world\").hide();\r\n    }\r\n}\r\n\r\n function morphOnSet(morph) {\r\n     if (morph) {\r\n         allMorphs.push(morph)\r\n     }\r\n     var evalParentMorph;\r\n\r\n     function correctParentMorph() {\r\n         if (!morph.parent.blockSpec) {\r\n             evalParentMorph = \"desktop\"\r\n         } else {\r\n             evalParentMorph = morph.parent.blockSpec\r\n         }\r\n         return evalParentMorph;\r\n     }\r\n     var  ope;\r\n     if (grabOrigine == \"palette\") {\r\n         ope = \"ADD\"\r\n     } else {\r\n         ope = \"MOVE\"\r\n     }\r\n     snapsrc.actionOrder++;\r\n     $container.find(\".blockTracker\").append(\"\\\"\" + snapsrc.actionOrder + \"\\\" : \\\"\" + ope + \" - \" + morph.blockSpec + \" @ \" + correctParentMorph() + \"\\\",\");\r\n     return allMorphs\r\n }\r\n\r\n function morphRemover(morph) {\r\n     if (morph) {\r\n         allMorphs.push(morph)\r\n     }\r\n     var evalParentMorph;\r\n\r\n     function correctParentMorph() {\r\n         if (!morph.parent.blockSpec) {\r\n             evalParentMorph = \"desktop\"\r\n         } else {\r\n             evalParentMorph = morph.parent.blockSpec\r\n         }\r\n         return evalParentMorph;\r\n     }\r\n      snapsrc.actionOrder++;\r\n      $container.find(\".blockTracker\").append(\"\\\"\" + snapsrc.actionOrder + \"\\\" : \\\" DEL - \" + morph.blockSpec + \" @ \" + correctParentMorph() + \"\\\",\");\r\n     return allMorphs\r\n }\r\n\r\n var blockRunner = true; // Allow to write once for receiveCondition -> Block When\r\n snapsrc.blockReporter = [];\r\n\r\n\r\n//******************************* Wiquid ********************************************\r\n\r\nThreadManager.prototype.startProcess = function (\r\n    block,\r\n    receiver,\r\n    isThreadSafe,\r\n    exportResult, // bool\r\n    callback,\r\n    isClicked,\r\n    rightAway\r\n) {\r\n    var top = block.topBlock(),\r\n        active = this.findProcess(top, receiver),\r\n        glow,\r\n        newProc;\r\n    if (active) {\r\n        if (isThreadSafe) {\r\n            return active;\r\n        }\r\n        active.stop();\r\n        this.removeTerminatedProcesses();\r\n    }\r\n    newProc = new Process(top, receiver, callback, isClicked);\r\n    newProc.exportResult = exportResult;\r\n    newProc.isClicked = isClicked || false;\r\n\r\n    // show a highlight around the running stack\r\n    // if there are more than one active processes\r\n    // for a block, display the thread count\r\n    // next to it\r\n    glow = top.getHighlight();\r\n    if (glow) {\r\n        glow.threadCount = this.processesForBlock(top).length + 1;\r\n        glow.updateReadout();\r\n    } else {\r\n        top.addHighlight();\r\n    }\r\n\r\n    this.processes.push(newProc);\r\n    if (rightAway) {\r\n        newProc.runStep();\r\n    }\r\n    return newProc;\r\n};\r\n\r\nThreadManager.prototype.stopAll = function (excpt) {\r\n    // excpt is optional\r\n    this.processes.forEach(function (proc) {\r\n        if (proc !== excpt) {\r\n            proc.stop();\r\n        }\r\n    });\r\n};\r\n\r\nThreadManager.prototype.stopAllForReceiver = function (rcvr, excpt) {\r\n    // excpt is optional\r\n    this.processes.forEach(function (proc) {\r\n        if (proc.homeContext.receiver === rcvr && proc !== excpt) {\r\n            proc.stop();\r\n            if (rcvr.isTemporary) {\r\n                proc.isDead = true;\r\n            }\r\n        }\r\n    });\r\n};\r\n\r\nThreadManager.prototype.stopAllForBlock = function (aTopBlock) {\r\n    this.processesForBlock(aTopBlock, true).forEach(function (proc) {\r\n        proc.stop();\r\n    });\r\n};\r\n\r\nThreadManager.prototype.stopProcess = function (block, receiver) {\r\n    var active = this.findProcess(block, receiver);\r\n    if (active) {\r\n        active.stop();\r\n    }\r\n};\r\n\r\nThreadManager.prototype.pauseAll = function (stage) {\r\n    this.processes.forEach(function (proc) {\r\n        proc.pause();\r\n    });\r\n    if (stage) {\r\n        stage.pauseAllActiveSounds();\r\n    }\r\n};\r\n\r\nThreadManager.prototype.isPaused = function () {\r\n    return detect(this.processes, function (proc) {return proc.isPaused; })\r\n        !== null;\r\n};\r\n\r\nThreadManager.prototype.resumeAll = function (stage) {\r\n    this.processes.forEach(function (proc) {\r\n        proc.resume();\r\n    });\r\n    if (stage) {\r\n        stage.resumeAllActiveSounds();\r\n    }\r\n};\r\n\r\nThreadManager.prototype.step = function () {\r\n    // run each process until it gives up control, skipping processes\r\n    // for sprites that are currently picked up, then filter out any\r\n    // processes that have been terminated\r\n\r\n    var isInterrupted;\r\n    if (Process.prototype.enableSingleStepping) {\r\n        this.processes.forEach(function (proc) {\r\n            if (proc.isInterrupted) {\r\n                proc.runStep();\r\n                isInterrupted = true;\r\n            } else {\r\n                proc.lastYield = Date.now();\r\n            }\r\n        });\r\n        this.wantsToPause = (Process.prototype.flashTime > 0.5);\r\n        if (isInterrupted) {\r\n            if (this.wantsToPause) {\r\n                this.pauseAll();\r\n            }\r\n            return;\r\n        }\r\n    }\r\n\r\n    this.processes.forEach(function (proc) {\r\n        if (!proc.homeContext.receiver.isPickedUp() && !proc.isDead) {\r\n            proc.runStep();\r\n        }\r\n    });\r\n    this.removeTerminatedProcesses();\r\n};\r\n\r\nThreadManager.prototype.removeTerminatedProcesses = function () {\r\n    // and un-highlight their scripts\r\n    var remaining = [],\r\n        count,\r\n        myself = this;\r\n    this.processes.forEach(function (proc) {\r\n        var result,\r\n            glow;\r\n        if ((!proc.isRunning() && !proc.errorFlag) || proc.isDead) {\r\n            if (proc.topBlock instanceof BlockMorph) {\r\n                proc.unflash();\r\n                // adjust the thread count indicator, if any\r\n                count = myself.processesForBlock(proc.topBlock).length;\r\n                if (count) {\r\n                    glow = proc.topBlock.getHighlight() ||\r\n                        proc.topBlock.addHighlight();\r\n                    glow.threadCount = count;\r\n                    glow.updateReadout();\r\n                } else {\r\n                    proc.topBlock.removeHighlight();\r\n                }\r\n            }\r\n            if (proc.prompter) {\r\n                proc.prompter.destroy();\r\n                if (proc.homeContext.receiver.stopTalking) {\r\n                    proc.homeContext.receiver.stopTalking();\r\n                }\r\n            }\r\n            if (proc.topBlock instanceof ReporterBlockMorph ||\r\n                    proc.isShowingResult) {\r\n                result = proc.homeContext.inputs[0];\r\n                if (proc.onComplete instanceof Function) {\r\n                    proc.onComplete(result);\r\n                } else {\r\n                    if (result instanceof List) {\r\n                        proc.topBlock.showBubble(\r\n                            result.isTable() ?\r\n                                    new TableFrameMorph(\r\n                                        new TableMorph(result, 10)\r\n                                    )\r\n                                    : new ListWatcherMorph(result),\r\n                            proc.exportResult,\r\n                            proc.receiver\r\n                        );\r\n                    } else {\r\n                        proc.topBlock.showBubble(\r\n                            result,\r\n                            proc.exportResult,\r\n                            proc.receiver\r\n                        );\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            remaining.push(proc);\r\n        }\r\n    });\r\n    this.processes = remaining;\r\n};\r\n\r\nThreadManager.prototype.findProcess = function (block, receiver) {\r\n    var top = block.topBlock();\r\n    return detect(\r\n        this.processes,\r\n        function (each) {\r\n            return each.topBlock === top && (each.receiver === receiver);\r\n        }\r\n    );\r\n};\r\n\r\nThreadManager.prototype.processesForBlock = function (block, only) {\r\n    var top = only ? block : block.topBlock();\r\n    return this.processes.filter(function (each) {\r\n            return each.topBlock === top &&\r\n                each.isRunning() &&\r\n                !each.isDead;\r\n    });\r\n};\r\n\r\nThreadManager.prototype.doWhen = function (block, receiver, stopIt) {\r\n    if (this.pauseCustomHatBlocks) {return; }\r\n    if ((!block) || this.findProcess(block, receiver)) {\r\n        return;\r\n    }\r\n    var pred = block.inputs()[0], world;\r\n    if (block.removeHighlight()) {\r\n        world = block.world();\r\n        if (world) {\r\n            world.hand.destroyTemporaries();\r\n        }\r\n    }\r\n    if (stopIt) {return; }\r\n    try {\r\n        if (invoke(\r\n            pred,\r\n            null,\r\n            receiver,\r\n            50,\r\n            'the predicate takes\\ntoo long for a\\ncustom hat block',\r\n            true // suppress errors => handle them right here instead\r\n        ) === true) {\r\n            this.startProcess(\r\n                block,\r\n                receiver,\r\n                null,\r\n                null,\r\n                null,\r\n                null,\r\n                true // atomic\r\n            );\r\n        }\r\n    } catch (error) {\r\n        block.addErrorHighlight();\r\n        block.showBubble(\r\n            error.name\r\n            + '\\n'\r\n            + error.message\r\n        );\r\n    }\r\n};\r\n\r\nThreadManager.prototype.toggleSingleStepping = function () {\r\n    Process.prototype.enableSingleStepping =\r\n        !Process.prototype.enableSingleStepping;\r\n    if (!Process.prototype.enableSingleStepping) {\r\n        this.processes.forEach(function (proc) {\r\n            if (!proc.isPaused) {\r\n                proc.unflash();\r\n            }\r\n        });\r\n    }\r\n};\r\n\r\n// Process /////////////////////////////////////////////////////////////\r\n\r\n/*\r\n    A Process is what brings a stack of blocks to life. The process\r\n    keeps track of which block to run next, evaluates block arguments,\r\n    handles control structures, and so forth.\r\n\r\n    The ThreadManager is the (passive) scheduler, telling each process\r\n    when to run by calling its runStep() method. The runStep() method\r\n    will execute some number of blocks, then voluntarily yield control\r\n    so that the ThreadManager can run another process.\r\n\r\n    The Scratch etiquette is that a process should yield control at the\r\n    end of every loop iteration, and while it is running a timed command\r\n    (e.g. \"wait 5 secs\") or a synchronous command (e.g. \"broadcast xxx\r\n    and wait\"). Since Snap also has lambda and custom blocks Snap adds\r\n    yields at the beginning of each non-atomic custom command block\r\n    execution, and - to let users escape infinite loops and recursion -\r\n    whenever the process runs into a timeout.\r\n\r\n    a Process runs for a receiver, i.e. a sprite or the stage or any\r\n    blocks-scriptable object that we'll introduce.\r\n\r\n    structure:\r\n\r\n    topBlock            the stack's first block, of which all others\r\n                        are children\r\n    receiver            object (sprite) to which the process applies,\r\n                        cached from the top block\r\n    instrument          musical instrument type, cached from the receiver,\r\n                        so a single sprite can play several instruments\r\n                        at once\r\n    context             the Context describing the current state\r\n                        of this process\r\n    homeContext         stores information relevant to the whole process,\r\n                        i.e. its receiver, result etc.\r\n    isPaused            boolean indicating whether to pause\r\n    readyToYield        boolean indicating whether to yield control to\r\n                        another process\r\n    readyToTerminate    boolean indicating whether the stop method has\r\n                        been called\r\n    isDead              boolean indicating a terminated clone process\r\n    timeout             msecs after which to force yield\r\n    lastYield           msecs when the process last yielded\r\n    isFirstStep         boolean indicating whether on first step - for clones\r\n    errorFlag           boolean indicating whether an error was encountered\r\n    prompter            active instance of StagePrompterMorph\r\n    httpRequest         active instance of an HttpRequest or null\r\n    pauseOffset         msecs between the start of an interpolated operation\r\n                        and when the process was paused\r\n    isClicked           boolean flag indicating whether the process was\r\n                        initiated by a user-click on a block\r\n    isShowingResult     boolean flag indicating whether a \"report\" command\r\n                        has been executed in a user-clicked process\r\n    exportResult        boolean flag indicating whether a picture of the top\r\n                        block along with the result bubble shoud be exported\r\n    onComplete          an optional callback function to be executed when\r\n                        the process is done\r\n    procedureCount      number counting procedure call entries,\r\n                        used to tag custom block calls, so \"stop block\"\r\n                        invocations can catch them\r\n    flashingContext     for single stepping\r\n    isInterrupted       boolean, indicates intra-step flashing of blocks\r\n*/\r\n\r\nProcess.prototype = {};\r\nProcess.prototype.constructor = Process;\r\nProcess.prototype.timeout = 500; // msecs after which to force yield\r\nProcess.prototype.isCatchingErrors = true;\r\nProcess.prototype.enableLiveCoding = false; // experimental\r\nProcess.prototype.enableSingleStepping = false; // experimental\r\nProcess.prototype.flashTime = 0; // experimental\r\n// Process.prototype.enableJS = false;\r\n\r\n// Variables to track process\r\nvar blockRunner = true; // Allow to write once for receiveCondition -> Block When\r\nsnapsrc.blockReporter = [];\r\n\r\n/** The function Process starts the chaining of blocks depending on the receiver(usually the sprite) - Spying the process (to put them in text string) is here possible  **/\r\nfunction Process(topBlock, receiver, onComplete, yieldFirst) {\r\n    try {\r\n        if (typeof topBlock != \"undefined\") {\r\n            var blockInProcess = [];\r\n            scanChildren(topBlock);\r\n        }\r\n    } catch (error) {\r\n        runerCatcher();\r\n    }\r\n\r\n    function runerCatcher() {\r\n        if (blockRunner) {\r\n           //Error watcher jp\r\n            blockInProcess.push(\"Quand /b\");\r\n            blockRunner = false;\r\n        }\r\n    }\r\n\r\n    function scanChildren(blockToScan) {\r\n        if (blockToScan.children) {\r\n            var lastChild = blockToScan.children.length - 1;\r\n        }\r\n        var serialezedBlock = blockToScan.children[lastChild].toString();\r\n        var blockChain = {};\r\n        blockChain.Actor = receiver.name;\r\n        var blockString = \"\";\r\n\r\n        /*scanBlock check the nature of each block in process and organize the information to translate it in a readable string  */\r\n        function scanBlock(BToScan) {\r\n    \r\n            function slotClosure() {\r\n                var slotClosure = false;\r\n                if (BToScan.parent.selector == \"doWarp\" ||\r\n                    BToScan.parent.selector == \"doForever\" ||\r\n                    BToScan.parent.selector == \"doRepeat\" ||\r\n                    BToScan.parent.selector == \"doUntil\" ||\r\n                    BToScan.parent.selector == \"doIf\" ||\r\n                    BToScan.parent.selector == \"doIfElse\"\r\n                ) {\r\n                    slotClosure = true\r\n                }\r\n                return slotClosure\r\n            }\r\n\r\n            //Slot closure\r\n            var closure = slotClosure();\r\n            var serBToScan = BToScan.toString();\r\n            if (closure && serBToScan.search(\"CSlotMorph\") < 0) {\r\n                blockString = blockString + \"];\";\r\n            }\r\n            for (var z = 0; z < BToScan.children.length; z++) {\r\n                var serChildren = BToScan.children[z].toString();\r\n                if (serChildren.search(\"StringMorph\") > 0) {\r\n                    if (typeof BToScan.children[z].text != \"undefined\") {\r\n                        blockString = blockString + \" \" + BToScan.children[z].text;\r\n                    }\r\n                } else if (serChildren.search(\"SymbolMorph\") > 0) {\r\n                    blockString = blockString + \" \" + BToScan.children[z].name;\r\n                } else if (serChildren.search(\"ColorSlotMorph\") > 0) {\r\n                    blockString = blockString + \" \" + BToScan.children[z].color.toString();\r\n                } else if (serChildren.search(\"RingMorph\") > 0) {\r\n                    //blockString = blockString + \";\"  \r\n                    scanBlock(BToScan.children[z]);\r\n                } else if (serChildren.search(\"RingReporterSlotMorph\") > 0) {\r\n                    //blockString = blockString + \";\"\r\n                    scanBlock(BToScan.children[z]);\r\n                } else if (serChildren.search(\"RingCommandSlotMorph\") > 0) {\r\n                    //blockString = blockString + \";\"\r\n                    scanBlock(BToScan.children[z]);\r\n                    blockString = blockString + \"]\";\r\n                } else if (serChildren.search(\"TemplateSlotMorph\") > 0) {\r\n                    blockString = blockString + \";\"\r\n                    scanBlock(BToScan.children[z]);\r\n                } else if (serChildren.search(\"MultiArgMorph\") > 0) {\r\n                    blockString = blockString + \";\"\r\n                    scanBlock(BToScan.children[z]);\r\n                    blockString = blockString + \"-\"\r\n                } else if (serChildren.search(\"InputSlotMorph\") > 0) {\r\n                    blockString = blockString + \"[\";\r\n                    scanBlock(BToScan.children[z]);\r\n                    blockString = blockString + \"]\";\r\n                } else if (serChildren.search(\"CSlotMorph\") > 0) {\r\n                    blockString = blockString + \":[\"\r\n                    scanBlock(BToScan.children[z]);\r\n                } else if (serChildren.search(\"CommandBlockMorph\") > 0) {\r\n                    if (BToScan.parent.selector == \"doWarp\" ||\r\n                        BToScan.parent.selector == \"doForever\" ||\r\n                        BToScan.parent.selector == \"doRepeat\" ||\r\n                        BToScan.parent.selector == \"doUntil\" ||\r\n                        BToScan.parent.selector == \"doIf\" ||\r\n                        BToScan.parent.selector == \"doIfElse\") {\r\n                        scanBlock(BToScan.children[z]);\r\n                    } else {\r\n                        blockString = blockString + \";\"\r\n                        scanBlock(BToScan.children[z]);\r\n                    }\r\n\r\n                } else if (serChildren.search(\"ReporterBlockMorph\") > 0) {\r\n                    blockString = blockString + \";\"\r\n                    scanBlock(BToScan.children[z]);\r\n                }\r\n\r\n            }\r\n            if (BToScan.selector == \"doForever\") {\r\n                blockString = blockString + \"];\";\r\n            }\r\n        }\r\n\r\n        //------------Caller--------------------\r\n        if (serialezedBlock.search(\"CommandBlockMorph\") > 0) {\r\n            scanBlock(blockToScan);\r\n        } else {\r\n            blockChain.push(\"{block Isolé:\");\r\n            scanBlock(blockToScan);\r\n            blockChain.push(\"}\");\r\n            // Verify no process with hatBlockMorph\r\n            for (var i = 0; i < receiver.scripts.children.length; i++) {\r\n                var serNeighbour = receiver.scripts.children[i].toString();\r\n                if (serNeighbour.search(\"HatBlockMorph\") > 0) {\r\n                    scanBlock(receiver.scripts.children[i]);\r\n                }\r\n\r\n            }\r\n        }\r\n        //String Correction \r\n        blockString = blockString.replace(\"appelle;\", \"appelle:\");\r\n        blockString = blockString.replace(\"to;\", \"to[\");\r\n        blockString = blockString.replace(\"lance;\", \"lance[\");\r\n        blockString = blockString.replace(\"exécute;\", \"exécute[\");\r\n        blockString = blockString.replace(\"sinon\", \"]sinon\");\r\n        blockString = blockString.replace(\";]\", \"]\");\r\n        blockString = blockString.replace(\"jusqu'à];\", \"jusqu'à\");\r\n        blockString = blockString.replace(\"si;\", \"si\");\r\n        blockString = blockString.replace(\"si];\", \"si\");\r\n        blockString = blockString.replace(\"répéter[];\", \"répéter[\");\r\n        blockString = blockString.replace(\"répéter];\", \"répéter\");\r\n        blockString = blockString.replace(\"] répéter[];\", \"];répéter[\");\r\n        blockString = blockString.replace(\"; répéter[]; \", \"; répéter[\");\r\n\r\n        var countOpen = blockString.split(\"[\").length;\r\n        var countClose = blockString.split(\"]\").length;\r\n        if (countClose < countOpen) {\r\n            blockString = blockString + \"]\"; //Close slot if no block behind.\r\n        }\r\n        blockChain.Script = blockString;\r\n        snapsrc.blockReporter.push(blockChain);\r\n    }\r\n    this.topBlock = topBlock || null;\r\n    this.receiver = receiver;\r\n    this.instrument = receiver ? receiver.instrument : null;\r\n    this.readyToYield = false;\r\n    this.readyToTerminate = false;\r\n    this.isDead = false;\r\n    this.isClicked = false;\r\n    this.isShowingResult = false;\r\n    this.errorFlag = false;\r\n    this.context = null;\r\n    this.homeContext = new Context(null, null, null, receiver);\r\n    this.lastYield = Date.now();\r\n    this.isFirstStep = true;\r\n    this.isAtomic = false;\r\n    this.prompter = null;\r\n    this.httpRequest = null;\r\n    this.isPaused = false;\r\n    this.pauseOffset = null;\r\n    this.frameCount = 0;\r\n    this.exportResult = false;\r\n    this.onComplete = onComplete || null;\r\n    this.procedureCount = 0;\r\n    this.flashingContext = null; // experimental, for single-stepping\r\n    this.isInterrupted = false; // experimental, for single-stepping\r\n\r\n    if (topBlock) {\r\n        this.homeContext.variables.parentFrame =\r\n            this.homeContext.receiver.variables;\r\n        this.context = new Context(\r\n            null,\r\n            topBlock.blockSequence(),\r\n            this.homeContext\r\n        );\r\n        if (yieldFirst) {\r\n            this.pushContext('doYield'); // highlight top block\r\n        }\r\n    }\r\n}\r\n\r\n// Process accessing\r\n\r\nProcess.prototype.isRunning = function () {\r\n    return (this.context !== null) && (!this.readyToTerminate);\r\n};\r\n\r\n// Process entry points\r\n\r\nProcess.prototype.runStep = function (deadline) {\r\n    // a step is an an uninterruptable 'atom', it can consist\r\n    // of several contexts, even of several blocks\r\n\r\n    if (this.isPaused) { // allow pausing in between atomic steps:\r\n        return this.pauseStep();\r\n    }\r\n    this.readyToYield = false;\r\n    this.isInterrupted = false;\r\n\r\n    while (!this.readyToYield && !this.isInterrupted\r\n            && this.context\r\n            && (Date.now() - this.lastYield < this.timeout)\r\n    ) {\r\n        // also allow pausing inside atomic steps - for PAUSE block primitive:\r\n        if (this.isPaused) {\r\n            return this.pauseStep();\r\n        }\r\n        if (deadline && (Date.now() > deadline)) {\r\n            if (this.isAtomic &&\r\n                    this.homeContext.receiver &&\r\n                    this.homeContext.receiver.endWarp) {\r\n                this.homeContext.receiver.endWarp();\r\n            }\r\n            return;\r\n        }\r\n        this.evaluateContext();\r\n    }\r\n\r\n    this.lastYield = Date.now();\r\n    this.isFirstStep = false;\r\n\r\n    // make sure to redraw atomic things\r\n    if (this.isAtomic &&\r\n            this.homeContext.receiver &&\r\n            this.homeContext.receiver.endWarp) {\r\n        this.homeContext.receiver.endWarp();\r\n        this.homeContext.receiver.startWarp();\r\n    }\r\n\r\n    if (this.readyToTerminate) {\r\n        while (this.context) {\r\n            this.popContext();\r\n        }\r\n        if (this.homeContext.receiver) {\r\n            if (this.homeContext.receiver.endWarp) {\r\n                // pen optimization\r\n                this.homeContext.receiver.endWarp();\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nProcess.prototype.stop = function () {\r\n    this.readyToYield = true;\r\n    this.readyToTerminate = true;\r\n    this.errorFlag = false;\r\n    if (this.context) {\r\n        this.context.stopMusic();\r\n    }\r\n};\r\n\r\nProcess.prototype.pause = function () {\r\n    if (this.readyToTerminate) {\r\n        return;\r\n    }\r\n    this.isPaused = true;\r\n    this.flashPausedContext();\r\n    if (this.context && this.context.startTime) {\r\n        this.pauseOffset = Date.now() - this.context.startTime;\r\n    }\r\n};\r\n\r\nProcess.prototype.resume = function () {\r\n    if (!this.enableSingleStepping) {\r\n        this.unflash();\r\n    }\r\n    this.isPaused = false;\r\n    this.pauseOffset = null;\r\n};\r\n\r\nProcess.prototype.pauseStep = function () {\r\n    this.lastYield = Date.now();\r\n    if (this.context && this.context.startTime) {\r\n        this.context.startTime = this.lastYield - this.pauseOffset;\r\n    }\r\n};\r\n\r\n// Process evaluation\r\n\r\nProcess.prototype.evaluateContext = function () {\r\n    var exp = this.context.expression;\r\n    this.frameCount += 1;\r\n    if (this.context.tag === 'exit') {\r\n        this.expectReport();\r\n    }\r\n    if (exp instanceof Array) {\r\n        return this.evaluateSequence(exp);\r\n    }\r\n    if (exp instanceof MultiArgMorph) {\r\n        return this.evaluateMultiSlot(exp, exp.inputs().length);\r\n    }\r\n    if (exp instanceof ArgLabelMorph) {\r\n        return this.evaluateArgLabel(exp);\r\n    }\r\n    if (exp instanceof ArgMorph || exp.bindingID) {\r\n        return this.evaluateInput(exp);\r\n    }\r\n    if (exp instanceof BlockMorph) {\r\n        return this.evaluateBlock(exp, exp.inputs().length);\r\n    }\r\n    if (isString(exp)) {\r\n        return this[exp].apply(this, this.context.inputs);\r\n    }\r\n    this.popContext(); // default: just ignore it\r\n};\r\n\r\nProcess.prototype.evaluateBlock = function (block, argCount) {\r\n    var selector = block.selector;\r\n    // check for special forms\r\n    if (selector === 'reportOr' ||\r\n            selector ===  'reportAnd' ||\r\n            selector === 'doReport') {\r\n        return this[selector](block);\r\n    }\r\n\r\n    // first evaluate all inputs, then apply the primitive\r\n    var rcvr = this.context.receiver || this.receiver,\r\n        inputs = this.context.inputs;\r\n\r\n    if (argCount > inputs.length) {\r\n        this.evaluateNextInput(block);\r\n    } else {\r\n        if (this.flashContext()) {return; } // yield to flash the block\r\n        if (this[selector]) {\r\n            rcvr = this;\r\n        }\r\n        if (this.isCatchingErrors) {\r\n            try {\r\n                this.returnValueToParentContext(\r\n                    rcvr[selector].apply(rcvr, inputs)\r\n                );\r\n                this.popContext();\r\n            } catch (error) {\r\n                this.handleError(error, block);\r\n            }\r\n        } else {\r\n            this.returnValueToParentContext(\r\n                rcvr[selector].apply(rcvr, inputs)\r\n            );\r\n            this.popContext();\r\n        }\r\n    }\r\n};\r\n\r\n// Process: Special Forms Blocks Primitives\r\n\r\nProcess.prototype.reportOr = function (block) {\r\n    var inputs = this.context.inputs;\r\n\r\n    if (inputs.length < 1) {\r\n        this.evaluateNextInput(block);\r\n    } else if (inputs[0]) {\r\n        if (this.flashContext()) {return; }\r\n        this.returnValueToParentContext(true);\r\n        this.popContext();\r\n    } else if (inputs.length < 2) {\r\n        this.evaluateNextInput(block);\r\n    } else {\r\n        if (this.flashContext()) {return; }\r\n        this.returnValueToParentContext(inputs[1] === true);\r\n        this.popContext();\r\n    }\r\n};\r\n\r\nProcess.prototype.reportAnd = function (block) {\r\n    var inputs = this.context.inputs;\r\n\r\n    if (inputs.length < 1) {\r\n        this.evaluateNextInput(block);\r\n    } else if (!inputs[0]) {\r\n        if (this.flashContext()) {return; }\r\n        this.returnValueToParentContext(false);\r\n        this.popContext();\r\n    } else if (inputs.length < 2) {\r\n        this.evaluateNextInput(block);\r\n    } else {\r\n        if (this.flashContext()) {return; }\r\n        this.returnValueToParentContext(inputs[1] === true);\r\n        this.popContext();\r\n    }\r\n};\r\n\r\nProcess.prototype.doReport = function (block) {\r\n    var outer = this.context.outerContext;\r\n    if (this.flashContext()) {return; } // flash the block here, special form\r\n    if (this.isClicked && (block.topBlock() === this.topBlock)) {\r\n        this.isShowingResult = true;\r\n    }\r\n    if (this.context.expression.partOfCustomCommand) {\r\n        this.doStopCustomBlock();\r\n        this.popContext();\r\n    } else {\r\n        while (this.context && this.context.tag !== 'exit') {\r\n            if (this.context.expression === 'doStopWarping') {\r\n                this.doStopWarping();\r\n            } else {\r\n                this.popContext();\r\n            }\r\n        }\r\n        if (this.context) {\r\n            if (this.context.expression === 'expectReport') {\r\n                // pop off inserted top-level exit context\r\n                this.popContext();\r\n            } else {\r\n                // un-tag and preserve original caller\r\n                this.context.tag = null;\r\n            }\r\n        }\r\n    }\r\n    // in any case evaluate (and ignore)\r\n    // the input, because it could be\r\n    // and HTTP Request for a hardware extension\r\n    this.pushContext(block.inputs()[0], outer);\r\n};\r\n\r\n// Process: Non-Block evaluation\r\n\r\nProcess.prototype.evaluateMultiSlot = function (multiSlot, argCount) {\r\n    // first evaluate all subslots, then return a list of their values\r\n    var inputs = this.context.inputs,\r\n        ans;\r\n    if (multiSlot.bindingID) {\r\n        if (this.isCatchingErrors) {\r\n            try {\r\n                ans = this.context.variables.getVar(multiSlot.bindingID);\r\n            } catch (error) {\r\n                this.handleError(error, multiSlot);\r\n            }\r\n        } else {\r\n            ans = this.context.variables.getVar(multiSlot.bindingID);\r\n        }\r\n        this.returnValueToParentContext(ans);\r\n        this.popContext();\r\n    } else {\r\n        if (argCount > inputs.length) {\r\n            this.evaluateNextInput(multiSlot);\r\n        } else {\r\n            this.returnValueToParentContext(new List(inputs));\r\n            this.popContext();\r\n        }\r\n    }\r\n};\r\n\r\nProcess.prototype.evaluateArgLabel = function (argLabel) {\r\n    // perform the ID function on an ArgLabelMorph element\r\n    var inputs = this.context.inputs;\r\n    if (inputs.length < 1) {\r\n        this.evaluateNextInput(argLabel);\r\n    } else {\r\n        this.returnValueToParentContext(inputs[0]);\r\n        this.popContext();\r\n    }\r\n};\r\n\r\nProcess.prototype.evaluateInput = function (input) {\r\n    // evaluate the input unless it is bound to an implicit parameter\r\n    var ans;\r\n    if (this.flashContext()) {return; } // yield to flash the current argMorph\r\n    if (input.bindingID) {\r\n        if (this.isCatchingErrors) {\r\n            try {\r\n                ans = this.context.variables.getVar(input.bindingID);\r\n            } catch (error) {\r\n                this.handleError(error, input);\r\n            }\r\n        } else {\r\n            ans = this.context.variables.getVar(input.bindingID);\r\n        }\r\n    } else {\r\n        ans = input.evaluate();\r\n        if (ans) {\r\n            if (input.constructor === CommandSlotMorph ||\r\n                    input.constructor === ReporterSlotMorph ||\r\n                    (input instanceof CSlotMorph &&\r\n                        (!input.isStatic || input.isLambda))) {\r\n                // I know, this still needs yet to be done right....\r\n                ans = this.reify(ans, new List());\r\n            }\r\n        }\r\n    }\r\n    this.returnValueToParentContext(ans);\r\n    this.popContext();\r\n};\r\n\r\nProcess.prototype.evaluateSequence = function (arr) {\r\n    var pc = this.context.pc,\r\n        outer = this.context.outerContext,\r\n        isCustomBlock = this.context.isCustomBlock;\r\n    if (pc === (arr.length - 1)) { // tail call elimination\r\n        this.context = new Context(\r\n            this.context.parentContext,\r\n            arr[pc],\r\n            this.context.outerContext,\r\n            this.context.receiver\r\n        );\r\n        this.context.isCustomBlock = isCustomBlock;\r\n    } else {\r\n        if (pc >= arr.length) {\r\n            this.popContext();\r\n        } else {\r\n            this.context.pc += 1;\r\n            this.pushContext(arr[pc], outer);\r\n        }\r\n    }\r\n};\r\n\r\n/*\r\n// version w/o tail call optimization:\r\n--------------------------------------\r\nCaution: we cannot just revert to this version of the method, because to make\r\ntail call elimination work many tweaks had to be done to various primitives.\r\nFor the most part these tweaks are about schlepping the outer context (for\r\nthe variable bindings) and the isCustomBlock flag along, and are indicated\r\nby a short comment in the code. But to really revert would take a good measure\r\nof trial and error as well as debugging. In the developers file archive there\r\nis a version of threads.js dated 120119(2) which basically resembles the\r\nlast version before introducing tail call optimization on 120123.\r\n*/\r\n\r\nProcess.prototype.evaluateNextInput = function (element) {\r\n    var nxt = this.context.inputs.length,\r\n        args = element.inputs(),\r\n        exp = args[nxt],\r\n        sel = this.context.expression.selector,\r\n        outer = this.context.outerContext; // for tail call elimination\r\n\r\n    if (exp.isUnevaluated) {\r\n        if (exp.isUnevaluated === true || exp.isUnevaluated()) {\r\n            // just return the input as-is\r\n            /*\r\n                Note: we only reify the input here, if it's not an\r\n                input to a reification primitive itself (THE BLOCK,\r\n                THE SCRIPT), because those allow for additional\r\n                explicit parameter bindings.\r\n            */\r\n            if (sel === 'reify' || sel === 'reportScript') {\r\n                this.context.addInput(exp);\r\n            } else {\r\n                this.context.addInput(this.reify(exp, new List()));\r\n            }\r\n        } else {\r\n            this.pushContext(exp, outer);\r\n        }\r\n    } else {\r\n        this.pushContext(exp, outer);\r\n    }\r\n};\r\n\r\nProcess.prototype.doYield = function () {\r\n    this.popContext();\r\n    if (!this.isAtomic) {\r\n        this.readyToYield = true;\r\n    }\r\n};\r\n\r\nProcess.prototype.expectReport = function () {\r\n    this.handleError(new Error(\"reporter didn't report\"));\r\n};\r\n\r\n// Process Exception Handling\r\n\r\nProcess.prototype.handleError = function (error, element) {\r\n    var m = element;\r\n    this.stop();\r\n    this.errorFlag = true;\r\n    this.topBlock.addErrorHighlight();\r\n    if (isNil(m) || isNil(m.world())) {m = this.topBlock; }\r\n    m.showBubble(\r\n        (m === element ? '' : 'Inside: ')\r\n            + error.name\r\n            + '\\n'\r\n            + error.message,\r\n        this.exportResult,\r\n        this.receiver\r\n    );\r\n};\r\n\r\nProcess.prototype.errorObsolete = function () {\r\n    throw new Error('a custom block definition is missing');\r\n};\r\n\r\n// Process Lambda primitives\r\n\r\nProcess.prototype.reify = function (topBlock, parameterNames, isCustomBlock) {\r\n    var context = new Context(\r\n            null,\r\n            null,\r\n            this.context ? this.context.outerContext : null\r\n        ),\r\n        i = 0;\r\n\r\n    if (topBlock) {\r\n        context.expression = this.enableLiveCoding ||\r\n            this.enableSingleStepping ?\r\n                topBlock : topBlock.fullCopy();\r\n        context.expression.show(); // be sure to make visible if in app mode\r\n\r\n        if (!isCustomBlock && !parameterNames.length()) {\r\n            // mark all empty slots with an identifier\r\n            context.expression.allEmptySlots().forEach(function (slot) {\r\n                i += 1;\r\n                if (slot instanceof MultiArgMorph) {\r\n                    slot.bindingID = ['arguments'];\r\n                } else {\r\n                    slot.bindingID = i;\r\n                }\r\n            });\r\n            // and remember the number of detected empty slots\r\n            context.emptySlots = i;\r\n        }\r\n\r\n    } else {\r\n        context.expression = this.enableLiveCoding ||\r\n            this.enableSingleStepping ? [this.context.expression]\r\n                : [this.context.expression.fullCopy()];\r\n    }\r\n\r\n    context.inputs = parameterNames.asArray();\r\n    context.receiver\r\n        = this.context ? this.context.receiver : this.receiver;\r\n    context.origin = context.receiver; // for serialization\r\n\r\n    return context;\r\n};\r\n\r\nProcess.prototype.reportScript = function (parameterNames, topBlock) {\r\n    return this.reify(topBlock, parameterNames);\r\n};\r\n\r\nProcess.prototype.reifyScript = function (topBlock, parameterNames) {\r\n    return this.reify(topBlock, parameterNames);\r\n};\r\n\r\nProcess.prototype.reifyReporter = function (topBlock, parameterNames) {\r\n    return this.reify(topBlock, parameterNames);\r\n};\r\n\r\nProcess.prototype.reifyPredicate = function (topBlock, parameterNames) {\r\n    return this.reify(topBlock, parameterNames);\r\n};\r\n\r\nProcess.prototype.reportJSFunction = function (parmNames, body) {\r\n    return Function.apply(\r\n        null,\r\n        parmNames.asArray().concat([body])\r\n    );\r\n};\r\n\r\nProcess.prototype.doRun = function (context, args) {\r\n    return this.evaluate(context, args, true);\r\n};\r\n\r\nProcess.prototype.evaluate = function (\r\n    context,\r\n    args,\r\n    isCommand\r\n) {\r\n    if (!context) {return null; }\r\n    if (context instanceof Function) {\r\n        \r\n        return context.apply(\r\n            this.blockReceiver(),\r\n            args.asArray().concat([this])\r\n        );\r\n    }\r\n    if (context.isContinuation) {\r\n        return this.runContinuation(context, args);\r\n    }\r\n    if (!(context instanceof Context)) {\r\n        throw new Error('expecting a ring but getting ' + context);\r\n    }\r\n\r\n    var outer = new Context(null, null, context.outerContext),\r\n        caller = this.context.parentContext,\r\n        exit,\r\n        runnable,\r\n        parms = args.asArray(),\r\n        i,\r\n        value;\r\n\r\n    if (!outer.receiver) {\r\n        outer.receiver = context.receiver; // for custom blocks\r\n    }\r\n    runnable = new Context(\r\n        this.context.parentContext,\r\n        context.expression,\r\n        outer,\r\n        context.receiver\r\n    );\r\n    this.context.parentContext = runnable;\r\n\r\n    if (context.expression instanceof ReporterBlockMorph) {\r\n        // auto-\"warp\" nested reporters\r\n        this.readyToYield = (Date.now() - this.lastYield > this.timeout);\r\n    }\r\n\r\n    // assign parameters if any were passed\r\n    if (parms.length > 0) {\r\n\r\n        // assign formal parameters\r\n        for (i = 0; i < context.inputs.length; i += 1) {\r\n            value = 0;\r\n            if (!isNil(parms[i])) {\r\n                value = parms[i];\r\n            }\r\n            outer.variables.addVar(context.inputs[i], value);\r\n        }\r\n\r\n        // assign implicit parameters if there are no formal ones\r\n        if (context.inputs.length === 0) {\r\n            // assign the actual arguments list to the special\r\n            // parameter ID ['arguments'], to be used for variadic inputs\r\n            outer.variables.addVar(['arguments'], args);\r\n\r\n            // in case there is only one input\r\n            // assign it to all empty slots\r\n            if (parms.length === 1) {\r\n                for (i = 1; i <= context.emptySlots; i += 1) {\r\n                    outer.variables.addVar(i, parms[0]);\r\n                }\r\n\r\n            // if the number of inputs matches the number\r\n            // of empty slots distribute them sequentially\r\n            } else if (parms.length === context.emptySlots) {\r\n                for (i = 1; i <= parms.length; i += 1) {\r\n                    outer.variables.addVar(i, parms[i - 1]);\r\n                }\r\n\r\n            } else if (context.emptySlots !== 1) {\r\n                throw new Error(\r\n                    localize('expecting') + ' ' + context.emptySlots + ' '\r\n                        + localize('input(s), but getting') + ' '\r\n                        + parms.length\r\n                );\r\n            }\r\n        }\r\n    }\r\n\r\n    if (runnable.expression instanceof CommandBlockMorph) {\r\n        runnable.expression = runnable.expression.blockSequence();\r\n        if (!isCommand) {\r\n            if (caller) {\r\n                // tag caller, so \"report\" can catch it later\r\n                caller.tag = 'exit';\r\n            } else {\r\n                // top-level context, insert a tagged exit context\r\n                // which \"report\" can catch later\r\n                exit = new Context(\r\n                    runnable.parentContext,\r\n                    'expectReport',\r\n                    outer,\r\n                    outer.receiver\r\n                );\r\n                exit.tag = 'exit';\r\n                runnable.parentContext = exit;\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nProcess.prototype.fork = function (context, args) {\r\n    var proc = new Process(),\r\n        stage = this.homeContext.receiver.parentThatIsA(StageMorph);\r\n    proc.instrument = this.instrument;\r\n    proc.receiver = this.receiver;\r\n    proc.initializeFor(context, args, this.enableSingleStepping);\r\n    // proc.pushContext('doYield');\r\n    stage.threads.processes.push(proc);\r\n};\r\n\r\nProcess.prototype.initializeFor = function (context, args, ignoreExit) {\r\n    // used by Process.fork() and global invoke()\r\n    if (context.isContinuation) {\r\n        throw new Error(\r\n            'continuations cannot be forked'\r\n        );\r\n    }\r\n    if (!(context instanceof Context)) {\r\n        throw new Error('expecting a ring but getting ' + context);\r\n    }\r\n\r\n    var outer = new Context(null, null, context.outerContext),\r\n        runnable = new Context(null,\r\n            context.expression,\r\n            outer\r\n            ),\r\n        parms = args.asArray(),\r\n        i,\r\n        value,\r\n        exit;\r\n\r\n    // remember the receiver\r\n    this.context = context.receiver;\r\n\r\n    // assign parameters if any were passed\r\n    if (parms.length > 0) {\r\n\r\n        // assign formal parameters\r\n        for (i = 0; i < context.inputs.length; i += 1) {\r\n            value = 0;\r\n            if (!isNil(parms[i])) {\r\n                value = parms[i];\r\n            }\r\n            outer.variables.addVar(context.inputs[i], value);\r\n        }\r\n\r\n        // assign implicit parameters if there are no formal ones\r\n        if (context.inputs.length === 0) {\r\n            // assign the actual arguments list to the special\r\n            // parameter ID ['arguments'], to be used for variadic inputs\r\n            outer.variables.addVar(['arguments'], args);\r\n\r\n            // in case there is only one input\r\n            // assign it to all empty slots\r\n            if (parms.length === 1) {\r\n                for (i = 1; i <= context.emptySlots; i += 1) {\r\n                    outer.variables.addVar(i, parms[0]);\r\n                }\r\n\r\n            // if the number of inputs matches the number\r\n            // of empty slots distribute them sequentially\r\n            } else if (parms.length === context.emptySlots) {\r\n                for (i = 1; i <= parms.length; i += 1) {\r\n                    outer.variables.addVar(i, parms[i - 1]);\r\n                }\r\n\r\n            } else if (context.emptySlots !== 1) {\r\n                throw new Error(\r\n                    localize('expecting') + ' ' + context.emptySlots + ' '\r\n                        + localize('input(s), but getting') + ' '\r\n                        + parms.length\r\n                );\r\n            }\r\n        }\r\n    }\r\n\r\n    if (runnable.expression instanceof CommandBlockMorph) {\r\n        runnable.expression = runnable.expression.blockSequence();\r\n\r\n        // insert a tagged exit context\r\n        // which \"report\" can catch later\r\n        // needed for invoke() situations\r\n        if (!ignoreExit) { // when single stepping LAUNCH\r\n\t        exit = new Context(\r\n    \t        runnable.parentContext,\r\n        \t    'expectReport',\r\n            \touter,\r\n            \touter.receiver\r\n        \t);\r\n        \texit.tag = 'exit';\r\n        \trunnable.parentContext = exit;\r\n    \t}\r\n    }\r\n\r\n    this.homeContext = new Context(); // context.outerContext;\r\n    this.homeContext.receiver = context.outerContext.receiver;\r\n    this.topBlock = context.expression;\r\n    this.context = runnable;\r\n};\r\n\r\n// Process stopping blocks primitives\r\n\r\nProcess.prototype.doStopBlock = function () {\r\n    var target = this.context.expression.exitTag;\r\n    if (isNil(target)) {\r\n        return this.doStopCustomBlock();\r\n    }\r\n    while (this.context &&\r\n            (isNil(this.context.tag) || (this.context.tag > target))) {\r\n        if (this.context.expression === 'doStopWarping') {\r\n            this.doStopWarping();\r\n        } else {\r\n            this.popContext();\r\n        }\r\n    }\r\n    this.pushContext();\r\n};\r\n\r\nProcess.prototype.doStopCustomBlock = function () {\r\n    // fallback solution for \"report\" blocks inside\r\n    // custom command definitions and untagged \"stop\" blocks\r\n    while (this.context && !this.context.isCustomBlock) {\r\n        if (this.context.expression === 'doStopWarping') {\r\n            this.doStopWarping();\r\n        } else {\r\n            this.popContext();\r\n        }\r\n    }\r\n};\r\n\r\n// Process continuations primitives\r\n\r\nProcess.prototype.doCallCC = function (aContext, isReporter) {\r\n    this.evaluate(\r\n        aContext,\r\n        new List([this.context.continuation()]),\r\n        !isReporter\r\n    );\r\n};\r\n\r\nProcess.prototype.reportCallCC = function (aContext) {\r\n    this.doCallCC(aContext, true);\r\n};\r\n\r\nProcess.prototype.runContinuation = function (aContext, args) {\r\n    var parms = args.asArray();\r\n\r\n    // determine whether the continuations is to show the result\r\n    // in a value-balloon becuse the user has directly clicked on a reporter\r\n    if (aContext.expression === 'expectReport' && parms.length) {\r\n        this.stop();\r\n        this.homeContext.inputs[0] = parms[0];\r\n        return;\r\n    }\r\n\r\n    this.context.parentContext = aContext.copyForContinuationCall();\r\n    // passing parameter if any was passed\r\n    if (parms.length === 1) {\r\n        this.context.parentContext.outerContext.variables.addVar(\r\n            1,\r\n            parms[0]\r\n        );\r\n    }\r\n};\r\n\r\n// Process custom block primitives\r\n\r\nProcess.prototype.evaluateCustomBlock = function () {\r\n    var caller = this.context.parentContext,\r\n        block = this.context.expression,\r\n        method = block.isGlobal ? block.definition\r\n                : this.blockReceiver().getMethod(block.semanticSpec),\r\n        context = method.body,\r\n        declarations = method.declarations,\r\n        args = new List(this.context.inputs),\r\n        parms = args.asArray(),\r\n        runnable,\r\n        exit,\r\n        i,\r\n        value,\r\n        outer;\r\n\r\n    if (!context) {return null; }\r\n    this.procedureCount += 1;\r\n    outer = new Context();\r\n    outer.receiver = this.context.receiver;\r\n\r\n    outer.variables.parentFrame = block.variables;\r\n\r\n    // block (instance) var support, experimental:\r\n    // only splice in block vars if any are defined, because block vars\r\n    // can cause race conditions in global block definitions that\r\n    // access sprite-local variables at the same time.\r\n    if (method.variableNames.length) {\r\n        block.variables.parentFrame = outer.receiver ?\r\n                outer.receiver.variables : null;\r\n    } else {\r\n        // original code without block variables:\r\n        outer.variables.parentFrame = outer.receiver ?\r\n                outer.receiver.variables : null;\r\n    }\r\n\r\n    runnable = new Context(\r\n        this.context.parentContext,\r\n        context.expression,\r\n        outer,\r\n        outer.receiver\r\n    );\r\n    runnable.isCustomBlock = true;\r\n    this.context.parentContext = runnable;\r\n\r\n    // passing parameters if any were passed\r\n    if (parms.length > 0) {\r\n\r\n        // assign formal parameters\r\n        for (i = 0; i < context.inputs.length; i += 1) {\r\n            value = 0;\r\n            if (!isNil(parms[i])) {\r\n                value = parms[i];\r\n            }\r\n            outer.variables.addVar(context.inputs[i], value);\r\n\r\n            // if the parameter is an upvar,\r\n            // create a reference to the variable it points to\r\n            if (declarations[context.inputs[i]][0] === '%upvar') {\r\n                this.context.outerContext.variables.vars[value] =\r\n                    outer.variables.vars[context.inputs[i]];\r\n            }\r\n        }\r\n    }\r\n\r\n    // tag return target\r\n    if (method.type !== 'command') {\r\n        if (caller) {\r\n            // tag caller, so \"report\" can catch it later\r\n            caller.tag = 'exit';\r\n        } else {\r\n            // top-level context, insert a tagged exit context\r\n            // which \"report\" can catch later\r\n            exit = new Context(\r\n                runnable.parentContext,\r\n                'expectReport',\r\n                outer,\r\n                outer.receiver\r\n            );\r\n            exit.tag = 'exit';\r\n            runnable.parentContext = exit;\r\n        }\r\n        // auto-\"warp\" nested reporters\r\n        this.readyToYield = (Date.now() - this.lastYield > this.timeout);\r\n    } else {\r\n        // tag all \"stop this block\" blocks with the current\r\n        // procedureCount as exitTag, and mark all \"report\" blocks\r\n        // as being inside a custom command definition\r\n        runnable.expression.tagExitBlocks(this.procedureCount, true);\r\n\r\n        // tag the caller with the current procedure count, so\r\n        // \"stop this block\" blocks can catch it, but only\r\n        // if the caller hasn't been tagged already\r\n        if (caller && !caller.tag) {\r\n            caller.tag = this.procedureCount;\r\n        }\r\n        // yield commands unless explicitly \"warped\" or directly recursive\r\n        if (!this.isAtomic && method.isDirectlyRecursive()) {\r\n            this.readyToYield = true;\r\n        }\r\n    }\r\n    runnable.expression = runnable.expression.blockSequence();\r\n};\r\n\r\n// Process variables primitives\r\n\r\nProcess.prototype.doDeclareVariables = function (varNames) {\r\n    var varFrame = this.context.outerContext.variables;\r\n    varNames.asArray().forEach(function (name) {\r\n        varFrame.addVar(name);\r\n    });\r\n};\r\n\r\nProcess.prototype.doSetVar = function (varName, value) {\r\n    var varFrame = this.context.variables,\r\n        name = varName,\r\n        rcvr;\r\n    if (name instanceof Context) {\r\n        rcvr = this.blockReceiver();\r\n        if (name.expression.selector === 'reportGetVar') {\r\n            name.variables.setVar(\r\n                name.expression.blockSpec,\r\n                value,\r\n                rcvr\r\n            );\r\n            return;\r\n        }\r\n        this.doSet(name, value);\r\n        return;\r\n    }\r\n    varFrame.setVar(name, value, this.blockReceiver());\r\n};\r\n\r\nProcess.prototype.doChangeVar = function (varName, value) {\r\n    var varFrame = this.context.variables,\r\n        name = varName;\r\n\r\n    if (name instanceof Context) {\r\n        if (name.expression.selector === 'reportGetVar') {\r\n            name.variables.changeVar(\r\n                name.expression.blockSpec,\r\n                value,\r\n                this.blockReceiver()\r\n            );\r\n            return;\r\n        }\r\n    }\r\n    varFrame.changeVar(name, value, this.blockReceiver());\r\n};\r\n\r\nProcess.prototype.reportGetVar = function () {\r\n    // assumes a getter block whose blockSpec is a variable name\r\n    return this.context.variables.getVar(\r\n        this.context.expression.blockSpec\r\n    );\r\n};\r\n\r\nProcess.prototype.doShowVar = function (varName) {\r\n    var varFrame = this.context.variables,\r\n        stage,\r\n        watcher,\r\n        target,\r\n        label,\r\n        others,\r\n        isGlobal,\r\n        name = varName;\r\n\r\n    if (name instanceof Context) {\r\n        if (name.expression.selector === 'reportGetVar') {\r\n            name = name.expression.blockSpec;\r\n        } else {\r\n            this.doChangePrimitiveVisibility(name.expression, false);\r\n            return;\r\n        }\r\n    }\r\n    if (this.homeContext.receiver) {\r\n        stage = this.homeContext.receiver.parentThatIsA(StageMorph);\r\n        if (stage) {\r\n            target = varFrame.silentFind(name);\r\n            if (!target) {return; }\r\n            // first try to find an existing (hidden) watcher\r\n            watcher = detect(\r\n                stage.children,\r\n                function (morph) {\r\n                    return morph instanceof WatcherMorph\r\n                        && morph.target === target\r\n                        && morph.getter === name;\r\n                }\r\n            );\r\n            if (watcher !== null) {\r\n                watcher.show();\r\n                watcher.fixLayout(); // re-hide hidden parts\r\n                return;\r\n            }\r\n            // if no watcher exists, create a new one\r\n            isGlobal = contains(\r\n                this.homeContext.receiver.globalVariables().names(),\r\n                varName\r\n            );\r\n            if (isGlobal || target.owner) {\r\n                label = name;\r\n            } else {\r\n                label = name + ' ' + localize('(temporary)');\r\n            }\r\n            watcher = new WatcherMorph(\r\n                label,\r\n                SpriteMorph.prototype.blockColor.variables,\r\n                target,\r\n                name\r\n            );\r\n            watcher.setPosition(stage.position().add(10));\r\n            others = stage.watchers(watcher.left());\r\n            if (others.length > 0) {\r\n                watcher.setTop(others[others.length - 1].bottom());\r\n            }\r\n            stage.add(watcher);\r\n            watcher.fixLayout();\r\n        }\r\n    }\r\n};\r\n\r\nProcess.prototype.doHideVar = function (varName) {\r\n    // if no varName is specified delete all watchers on temporaries\r\n    var varFrame = this.context.variables,\r\n        stage,\r\n        watcher,\r\n        target,\r\n        name = varName;\r\n\r\n    if (name instanceof Context) {\r\n        if (name.expression.selector === 'reportGetVar') {\r\n            name = name.expression.blockSpec;\r\n        } else {\r\n            this.doChangePrimitiveVisibility(name.expression, true);\r\n            return;\r\n        }\r\n    }\r\n    if (!name) {\r\n        this.doRemoveTemporaries();\r\n        return;\r\n    }\r\n    if (this.homeContext.receiver) {\r\n        stage = this.homeContext.receiver.parentThatIsA(StageMorph);\r\n        if (stage) {\r\n            target = varFrame.find(name);\r\n            watcher = detect(\r\n                stage.children,\r\n                function (morph) {\r\n                    return morph instanceof WatcherMorph\r\n                        && morph.target === target\r\n                        && morph.getter === name;\r\n                }\r\n            );\r\n            if (watcher !== null) {\r\n                if (watcher.isTemporary()) {\r\n                    watcher.destroy();\r\n                } else {\r\n                    watcher.hide();\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nProcess.prototype.doRemoveTemporaries = function () {\r\n    var stage;\r\n    if (this.homeContext.receiver) {\r\n        stage = this.homeContext.receiver.parentThatIsA(StageMorph);\r\n        if (stage) {\r\n            stage.watchers().forEach(function (watcher) {\r\n                if (watcher.isTemporary()) {\r\n                    watcher.destroy();\r\n                }\r\n            });\r\n        }\r\n    }\r\n};\r\n\r\n// Process hiding and showing primitives primitives :-)\r\n\r\nProcess.prototype.doChangePrimitiveVisibility = function (aBlock, hideIt) {\r\n    var ide = this.homeContext.receiver.parentThatIsA(IDE_Morph),\r\n        dict,\r\n        cat;\r\n    if (!ide || (aBlock.selector === 'evaluateCustomBlock')) {\r\n        return;\r\n    }\r\n    if (hideIt) {\r\n        StageMorph.prototype.hiddenPrimitives[aBlock.selector] = true;\r\n    } else {\r\n        delete StageMorph.prototype.hiddenPrimitives[aBlock.selector];\r\n    }\r\n    dict = {\r\n        doWarp: 'control',\r\n        reifyScript: 'operators',\r\n        reifyReporter: 'operators',\r\n        reifyPredicate: 'operators',\r\n        doDeclareVariables: 'variables'\r\n    };\r\n    cat = dict[this.selector] || this.category;\r\n    if (cat === 'lists') {cat = 'variables'; }\r\n    ide.flushBlocksCache(cat);\r\n    ide.refreshPalette();\r\n};\r\n\r\n// Process sprite inheritance primitives\r\n\r\nProcess.prototype.doDeleteAttr = function (attrName) {\r\n    var name = attrName,\r\n        rcvr = this.blockReceiver();\r\n    if (name instanceof Context) {\r\n        if (name.expression.selector === 'reportGetVar') {\r\n            name = name.expression.blockSpec;\r\n        } else { // attribute\r\n            name = {\r\n                xPosition: 'x position',\r\n                yPosition: 'y position',\r\n                direction: 'direction',\r\n                getCostumeIdx: 'costume #',\r\n                size: 'size'\r\n            }[name.expression.selector];\r\n            if (!isNil(name)) {\r\n                rcvr.inheritAttribute(name);\r\n            }\r\n            return; // error: cannot delete attribute...\r\n        }\r\n    }\r\n    if (name instanceof Array) {\r\n        return rcvr.inheritAttribute(this.inputOption(name));\r\n    }\r\n    if (contains(rcvr.inheritedVariableNames(true), name)) {\r\n        rcvr.deleteVariable(name);\r\n    }\r\n};\r\n\r\n// experimental message passing primitives\r\n\r\nProcess.prototype.doTellTo = function (sprite, context, args) {\r\n    this.doRun(\r\n        this.reportAttributeOf(context, sprite),\r\n        args\r\n    );\r\n};\r\n\r\nProcess.prototype.reportAskFor = function (sprite, context, args) {\r\n    this.evaluate(\r\n        this.reportAttributeOf(context, sprite),\r\n        args\r\n    );\r\n};\r\n\r\n// Process lists primitives\r\n\r\nProcess.prototype.reportNewList = function (elements) {\r\n    return elements;\r\n};\r\n\r\nProcess.prototype.reportCONS = function (car, cdr) {\r\n    this.assertType(cdr, 'list');\r\n    return new List().cons(car, cdr);\r\n};\r\n\r\nProcess.prototype.reportCDR = function (list) {\r\n    this.assertType(list, 'list');\r\n    return list.cdr();\r\n};\r\n\r\nProcess.prototype.doAddToList = function (element, list) {\r\n    this.assertType(list, 'list');\r\n    if (list.type) {\r\n        this.assertType(element, list.type);\r\n    }\r\n    list.add(element);\r\n};\r\n\r\nProcess.prototype.doDeleteFromList = function (index, list) {\r\n    var idx = index;\r\n    this.assertType(list, 'list');\r\n    if (this.inputOption(index) === 'all') {\r\n        return list.clear();\r\n    }\r\n    if (index === '') {\r\n        return null;\r\n    }\r\n    if (this.inputOption(index) === 'last') {\r\n        idx = list.length();\r\n    } else if (isNaN(+this.inputOption(index))) {\r\n        return null;\r\n    }\r\n    list.remove(idx);\r\n};\r\n\r\nProcess.prototype.doInsertInList = function (element, index, list) {\r\n    var idx = index;\r\n    this.assertType(list, 'list');\r\n    if (list.type) {\r\n        this.assertType(element, list.type);\r\n    }\r\n    if (index === '') {\r\n        return null;\r\n    }\r\n    if (this.inputOption(index) === 'any') {\r\n        idx = this.reportRandom(1, list.length() + 1);\r\n    }\r\n    if (this.inputOption(index) === 'last') {\r\n        idx = list.length() + 1;\r\n    }\r\n    list.add(element, idx);\r\n};\r\n\r\nProcess.prototype.doReplaceInList = function (index, list, element) {\r\n    var idx = index;\r\n    this.assertType(list, 'list');\r\n    if (list.type) {\r\n        this.assertType(element, list.type);\r\n    }\r\n    if (index === '') {\r\n        return null;\r\n    }\r\n    if (this.inputOption(index) === 'any') {\r\n        idx = this.reportRandom(1, list.length());\r\n    }\r\n    if (this.inputOption(index) === 'last') {\r\n        idx = list.length();\r\n    }\r\n    list.put(element, idx);\r\n};\r\n\r\nProcess.prototype.reportListItem = function (index, list) {\r\n    var idx = index;\r\n    this.assertType(list, 'list');\r\n    if (index === '') {\r\n        return '';\r\n    }\r\n    if (this.inputOption(index) === 'any') {\r\n        idx = this.reportRandom(1, list.length());\r\n    }\r\n    if (this.inputOption(index) === 'last') {\r\n        idx = list.length();\r\n    }\r\n    return list.at(idx);\r\n};\r\n\r\nProcess.prototype.reportListLength = function (list) {\r\n    this.assertType(list, 'list');\r\n    return list.length();\r\n};\r\n\r\nProcess.prototype.reportListContainsItem = function (list, element) {\r\n    this.assertType(list, 'list');\r\n    return list.contains(element);\r\n};\r\n\r\nProcess.prototype.doShowTable = function (list) {\r\n    // experimental\r\n    this.assertType(list, 'list');\r\n    new TableDialogMorph(list).popUp(this.blockReceiver().world());\r\n};\r\n\r\n// Process conditionals primitives\r\n\r\nProcess.prototype.doIf = function () {\r\n    var args = this.context.inputs,\r\n        outer = this.context.outerContext, // for tail call elimination\r\n        isCustomBlock = this.context.isCustomBlock;\r\n\r\n    this.popContext();\r\n    if (args[0]) {\r\n        if (args[1]) {\r\n            this.pushContext(args[1].blockSequence(), outer);\r\n            this.context.isCustomBlock = isCustomBlock;\r\n        }\r\n    }\r\n    this.pushContext();\r\n};\r\n\r\nProcess.prototype.doIfElse = function () {\r\n    var args = this.context.inputs,\r\n        outer = this.context.outerContext, // for tail call elimination\r\n        isCustomBlock = this.context.isCustomBlock;\r\n\r\n    this.popContext();\r\n    if (args[0]) {\r\n        if (args[1]) {\r\n            this.pushContext(args[1].blockSequence(), outer);\r\n        }\r\n    } else {\r\n        if (args[2]) {\r\n            this.pushContext(args[2].blockSequence(), outer);\r\n        } else {\r\n            this.pushContext('doYield');\r\n        }\r\n    }\r\n    if (this.context) {\r\n        this.context.isCustomBlock = isCustomBlock;\r\n    }\r\n\r\n    this.pushContext();\r\n};\r\n\r\n// Process process related primitives\r\n\r\nProcess.prototype.doStop = function () {\r\n    this.stop();\r\n};\r\n\r\nProcess.prototype.doStopAll = function () {\r\n    var stage, ide;\r\n   \r\n    if (this.homeContext.receiver) {\r\n        stage = this.homeContext.receiver.parentThatIsA(StageMorph);\r\n        if (stage) {\r\n            stage.threads.resumeAll(stage);\r\n            stage.keysPressed = {};\r\n            stage.threads.stopAll();\r\n            stage.stopAllActiveSounds();\r\n            stage.children.forEach(function (morph) {\r\n                if (morph.stopTalking) {\r\n                    morph.stopTalking();\r\n                }\r\n            });\r\n            stage.removeAllClones();\r\n        }\r\n        ide = stage.parentThatIsA(IDE_Morph);\r\n        if (ide) {ide.controlBar.pauseButton.refresh(); }\r\n    }\r\n};\r\n\r\nProcess.prototype.doStopThis = function (choice) {\r\n    switch (this.inputOption(choice)) {\r\n    case 'all':\r\n        this.doStopAll();\r\n        break;\r\n    case 'this script':\r\n        this.doStop();\r\n        break;\r\n    case 'this block':\r\n        this.doStopBlock();\r\n        break;\r\n    default:\r\n        this.doStopOthers(choice);\r\n    }\r\n};\r\n\r\nProcess.prototype.doStopOthers = function (choice) {\r\n    var stage;\r\n    if (this.homeContext.receiver) {\r\n        stage = this.homeContext.receiver.parentThatIsA(StageMorph);\r\n        if (stage) {\r\n            switch (this.inputOption(choice)) {\r\n            case 'all but this script':\r\n                stage.threads.stopAll(this);\r\n                break;\r\n            case 'other scripts in sprite':\r\n                stage.threads.stopAllForReceiver(\r\n                    this.homeContext.receiver,\r\n                    this\r\n                );\r\n                break;\r\n            default:\r\n                nop();\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nProcess.prototype.doWarp = function (body) {\r\n    // execute my contents block atomically (more or less)\r\n    var outer = this.context.outerContext, // for tail call elimination\r\n        isCustomBlock = this.context.isCustomBlock,\r\n        stage;\r\n\r\n    this.popContext();\r\n\r\n    if (body) {\r\n        if (this.homeContext.receiver) {\r\n            if (this.homeContext.receiver.startWarp) {\r\n                // pen optimization\r\n                this.homeContext.receiver.startWarp();\r\n            }\r\n            stage = this.homeContext.receiver.parentThatIsA(StageMorph);\r\n            if (stage) {\r\n                stage.fps = 0; // variable frame rate\r\n            }\r\n        }\r\n        this.pushContext('doYield');\r\n        this.context.isCustomBlock = isCustomBlock;\r\n        if (!this.isAtomic) {\r\n            this.pushContext('doStopWarping');\r\n        }\r\n        this.pushContext(body.blockSequence(), outer);\r\n        this.isAtomic = true;\r\n    }\r\n    this.pushContext();\r\n};\r\n\r\nProcess.prototype.doStopWarping = function () {\r\n    var stage;\r\n    this.popContext();\r\n    this.isAtomic = false;\r\n    if (this.homeContext.receiver) {\r\n        if (this.homeContext.receiver.endWarp) {\r\n            // pen optimization\r\n            this.homeContext.receiver.endWarp();\r\n        }\r\n        stage = this.homeContext.receiver.parentThatIsA(StageMorph);\r\n        if (stage) {\r\n            stage.fps = stage.frameRate; //  back to fixed frame rate\r\n        }\r\n    }\r\n};\r\n\r\nProcess.prototype.reportIsFastTracking = function () {\r\n    var ide;\r\n    if (this.homeContext.receiver) {\r\n        ide = this.homeContext.receiver.parentThatIsA(IDE_Morph);\r\n        if (ide) {\r\n            return ide.stage.isFastTracked;\r\n        }\r\n    }\r\n    return false;\r\n};\r\n\r\nProcess.prototype.doSetFastTracking = function (bool) {\r\n    var ide;\r\n    if (!this.reportIsA(bool, 'Boolean')) {\r\n        return;\r\n    }\r\n    if (this.homeContext.receiver) {\r\n        ide = this.homeContext.receiver.parentThatIsA(IDE_Morph);\r\n        if (ide) {\r\n            if (bool) {\r\n                ide.startFastTracking();\r\n            } else {\r\n                ide.stopFastTracking();\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nProcess.prototype.doPauseAll = function () {\r\n    var stage, ide;\r\n    if (this.homeContext.receiver) {\r\n        stage = this.homeContext.receiver.parentThatIsA(StageMorph);\r\n        if (stage) {\r\n            stage.threads.pauseAll(stage);\r\n        }\r\n        ide = stage.parentThatIsA(IDE_Morph);\r\n        if (ide) {ide.controlBar.pauseButton.refresh(); }\r\n    }\r\n};\r\n\r\n// Process loop primitives\r\n\r\nProcess.prototype.doForever = function (body) {\r\n    this.context.inputs = []; // force re-evaluation of C-slot\r\n    this.pushContext('doYield');\r\n    if (body) {\r\n        this.pushContext(body.blockSequence());\r\n    }\r\n    this.pushContext();\r\n};\r\n\r\nProcess.prototype.doRepeat = function (counter, body) {\r\n    var block = this.context.expression,\r\n        outer = this.context.outerContext, // for tail call elimination\r\n        isCustomBlock = this.context.isCustomBlock;\r\n\r\n    if (counter < 1) { // was '=== 0', which caused infinite loops on non-ints\r\n        return null;\r\n    }\r\n    this.popContext();\r\n    this.pushContext(block, outer);\r\n    this.context.isCustomBlock = isCustomBlock;\r\n    this.context.addInput(counter - 1);\r\n    this.pushContext('doYield');\r\n    if (body) {\r\n        this.pushContext(body.blockSequence());\r\n    }\r\n    this.pushContext();\r\n};\r\n\r\nProcess.prototype.doUntil = function (goalCondition, body) {\r\n    if (goalCondition) {\r\n        this.popContext();\r\n        this.pushContext('doYield');\r\n        return null;\r\n    }\r\n    this.context.inputs = [];\r\n    this.pushContext('doYield');\r\n    if (body) {\r\n        this.pushContext(body.blockSequence());\r\n    }\r\n    this.pushContext();\r\n};\r\n\r\nProcess.prototype.doWaitUntil = function (goalCondition) {\r\n    if (goalCondition) {\r\n        this.popContext();\r\n        this.pushContext('doYield');\r\n        return null;\r\n    }\r\n    this.context.inputs = [];\r\n    this.pushContext('doYield');\r\n    this.pushContext();\r\n};\r\n\r\nProcess.prototype.reportMap = function (reporter, list) {\r\n    // answer a new list containing the results of the reporter applied\r\n    // to each value of the given list. Distinguish between linked and\r\n    // arrayed lists.\r\n    // Note: This method utilizes the current context's inputs array to\r\n    // manage temporary variables, whose allocation to which slot are\r\n    // documented in each of the variants' code (linked or arrayed) below\r\n\r\n    var next;\r\n    if (list.isLinked) {\r\n        // this.context.inputs:\r\n        // [0] - reporter\r\n        // [1] - list (original source)\r\n        // -----------------------------\r\n        // [2] - result list (target)\r\n        // [3] - currently last element of result list\r\n        // [4] - current source list (what's left to map)\r\n        // [5] - current value of last function call\r\n\r\n        if (this.context.inputs.length < 3) {\r\n            this.context.addInput(new List());\r\n            this.context.inputs[2].isLinked = true;\r\n            this.context.addInput(this.context.inputs[2]);\r\n            this.context.addInput(list);\r\n        }\r\n        if (this.context.inputs[4].length() === 0) {\r\n            this.context.inputs[3].rest = list.cons(this.context.inputs[5]);\r\n            this.returnValueToParentContext(this.context.inputs[2].cdr());\r\n            return;\r\n        }\r\n        if (this.context.inputs.length > 5) {\r\n            this.context.inputs[3].rest = list.cons(this.context.inputs[5]);\r\n            this.context.inputs[3] = this.context.inputs[3].rest;\r\n            this.context.inputs.splice(5);\r\n        }\r\n        next = this.context.inputs[4].at(1);\r\n        this.context.inputs[4] = this.context.inputs[4].cdr();\r\n        this.pushContext();\r\n        this.evaluate(reporter, new List([next]));\r\n    } else { // arrayed\r\n        // this.context.inputs:\r\n        // [0] - reporter\r\n        // [1] - list (original source)\r\n        // -----------------------------\r\n        // [2..n] - result values (target)\r\n\r\n        if (this.context.inputs.length - 2 === list.length()) {\r\n            this.returnValueToParentContext(\r\n                new List(this.context.inputs.slice(2))\r\n            );\r\n            return;\r\n        }\r\n        next = list.at(this.context.inputs.length - 1);\r\n        this.pushContext();\r\n        this.evaluate(reporter, new List([next]));\r\n    }\r\n};\r\n\r\nProcess.prototype.doForEach = function (upvar, list, script) {\r\n    // perform a script for each element of a list, assigning the\r\n    // current iteration's element to a variable with the name\r\n    // specified in the \"upvar\" parameter, so it can be referenced\r\n    // within the script. Uses the context's - unused - fourth\r\n    // element as temporary storage for the current list index\r\n\r\n    if (isNil(this.context.inputs[3])) {this.context.inputs[3] = 1; }\r\n    var index = this.context.inputs[3];\r\n    this.context.outerContext.variables.addVar(upvar);\r\n    this.context.outerContext.variables.setVar(\r\n        upvar,\r\n        list.at(index)\r\n    );\r\n    if (index > list.length()) {return; }\r\n    this.context.inputs[3] += 1;\r\n    this.pushContext('doYield');\r\n    this.pushContext();\r\n    this.evaluate(script, new List(), true);\r\n};\r\n\r\n// Process interpolated primitives\r\n\r\nProcess.prototype.doWait = function (secs) {\r\n    if (!this.context.startTime) {\r\n        this.context.startTime = Date.now();\r\n    }\r\n    if ((Date.now() - this.context.startTime) >= (secs * 1000)) {\r\n        if (!this.isAtomic && (secs === 0)) {\r\n            // \"wait 0 secs\" is a plain \"yield\"\r\n            // that can be overridden by \"warp\"\r\n            this.readyToYield = true;\r\n        }\r\n        return null;\r\n    }\r\n    this.pushContext('doYield');\r\n    this.pushContext();\r\n};\r\n\r\nProcess.prototype.doGlide = function (secs, endX, endY) {\r\n    if (!this.context.startTime) {\r\n        this.context.startTime = Date.now();\r\n        this.context.startValue = new Point(\r\n            this.blockReceiver().xPosition(),\r\n            this.blockReceiver().yPosition()\r\n        );\r\n    }\r\n    if ((Date.now() - this.context.startTime) >= (secs * 1000)) {\r\n        this.blockReceiver().gotoXY(endX, endY);\r\n        return null;\r\n    }\r\n    this.blockReceiver().glide(\r\n        secs * 1000,\r\n        endX,\r\n        endY,\r\n        Date.now() - this.context.startTime,\r\n        this.context.startValue\r\n    );\r\n\r\n    this.pushContext('doYield');\r\n    this.pushContext();\r\n};\r\n\r\nProcess.prototype.doSayFor = function (data, secs) {\r\n    if (!this.context.startTime) {\r\n        this.context.startTime = Date.now();\r\n        this.blockReceiver().bubble(data);\r\n    }\r\n    if ((Date.now() - this.context.startTime) >= (secs * 1000)) {\r\n        this.blockReceiver().stopTalking();\r\n        return null;\r\n    }\r\n    this.pushContext('doYield');\r\n    this.pushContext();\r\n};\r\n\r\nProcess.prototype.doThinkFor = function (data, secs) {\r\n    if (!this.context.startTime) {\r\n        this.context.startTime = Date.now();\r\n        this.blockReceiver().doThink(data);\r\n    }\r\n    if ((Date.now() - this.context.startTime) >= (secs * 1000)) {\r\n        this.blockReceiver().stopTalking();\r\n        return null;\r\n    }\r\n    this.pushContext('doYield');\r\n    this.pushContext();\r\n};\r\n\r\nProcess.prototype.blockReceiver = function () {\r\n    return this.context ? this.context.receiver || this.homeContext.receiver\r\n            : this.homeContext.receiver || this.receiver;\r\n};\r\n\r\n// Process sound primitives (interpolated)\r\n\r\nProcess.prototype.doPlaySoundUntilDone = function (name) {\r\n    var sprite = this.blockReceiver();\r\n    if (this.context.activeAudio === null) {\r\n        this.context.activeAudio = sprite.playSound(name);\r\n    }\r\n    if (this.context.activeAudio.ended\r\n            || this.context.activeAudio.terminated) {\r\n        return null;\r\n    }\r\n    this.pushContext('doYield');\r\n    this.pushContext();\r\n};\r\n\r\nProcess.prototype.doStopAllSounds = function () {\r\n    var stage = this.homeContext.receiver.parentThatIsA(StageMorph);\r\n    if (stage) {\r\n        stage.threads.processes.forEach(function (thread) {\r\n            if (thread.context) {\r\n                thread.context.stopMusic();\r\n                if (thread.context.activeAudio) {\r\n                    thread.popContext();\r\n                }\r\n            }\r\n        });\r\n        stage.stopAllActiveSounds();\r\n    }\r\n};\r\n\r\n// Process user prompting primitives (interpolated)\r\n\r\nProcess.prototype.doAsk = function (data) {\r\n    var stage = this.homeContext.receiver.parentThatIsA(StageMorph),\r\n        rcvr = this.blockReceiver(),\r\n        isStage = rcvr instanceof StageMorph,\r\n        isHiddenSprite = rcvr instanceof SpriteMorph && !rcvr.isVisible,\r\n        activePrompter;\r\n\r\n    stage.keysPressed = {};\r\n    if (!this.prompter) {\r\n        activePrompter = detect(\r\n            stage.children,\r\n            function (morph) {return morph instanceof StagePrompterMorph; }\r\n        );\r\n        if (!activePrompter) {\r\n            if (!isStage && !isHiddenSprite) {\r\n                rcvr.bubble(data, false, true);\r\n            }\r\n            this.prompter = new StagePrompterMorph(\r\n                isStage || isHiddenSprite ? data : null\r\n            );\r\n            if (stage.scale < 1) {\r\n                this.prompter.setWidth(stage.width() - 10);\r\n            } else {\r\n                this.prompter.setWidth(stage.dimensions.x - 20);\r\n            }\r\n            this.prompter.fixLayout();\r\n            this.prompter.setCenter(stage.center());\r\n            this.prompter.setBottom(stage.bottom() - this.prompter.border);\r\n            stage.add(this.prompter);\r\n            this.prompter.inputField.edit();\r\n            stage.changed();\r\n        }\r\n    } else {\r\n        if (this.prompter.isDone) {\r\n            stage.lastAnswer = this.prompter.inputField.getValue();\r\n            this.prompter.destroy();\r\n            this.prompter = null;\r\n            if (!isStage) {rcvr.stopTalking(); }\r\n            return null;\r\n        }\r\n    }\r\n    this.pushContext('doYield');\r\n    this.pushContext();\r\n};\r\n\r\nProcess.prototype.reportLastAnswer = function () {\r\n    return this.homeContext.receiver.parentThatIsA(StageMorph).lastAnswer;\r\n};\r\n\r\n// Process URI retrieval (interpolated)\r\n\r\nProcess.prototype.reportURL = function (url) {\r\n    var response;\r\n    if (!this.httpRequest) {\r\n        // use the location protocol unless the user specifies otherwise\r\n        if (url.indexOf('//') < 0 || url.indexOf('//') > 8) {\r\n            if (location.protocol === 'file:') {\r\n                // allow requests from locally loaded sources\r\n                url = 'https://' + url;\r\n            } else {\r\n                url = location.protocol + '//' + url;\r\n            }\r\n        }\r\n        this.httpRequest = new XMLHttpRequest();\r\n        this.httpRequest.open(\"GET\", url, true);\r\n        this.httpRequest.send(null);\r\n    } else if (this.httpRequest.readyState === 4) {\r\n        response = this.httpRequest.responseText;\r\n        this.httpRequest = null;\r\n        return response;\r\n    }\r\n    this.pushContext('doYield');\r\n    this.pushContext();\r\n};\r\n\r\n// Process event messages primitives\r\n\r\nProcess.prototype.doBroadcast = function (message) {\r\n    // messages are user-defined events, and by default global, same as in\r\n    // Scratch. An experimental feature, messages can be sent to a single\r\n    // sprite or to a list of sprites by using a 2-item list in the message\r\n    // slot, where the first slot is a message text, and the second slot\r\n    // its recipient(s), identified either by a single name or sprite, or by\r\n    // a list of names or sprites (can be a heterogeneous list).\r\n\r\n    var stage = this.homeContext.receiver.parentThatIsA(StageMorph),\r\n        thisObj,\r\n        msg = message,\r\n        trg,\r\n        rcvrs,\r\n        myself = this,\r\n        procs = [];\r\n\r\n    if (message instanceof List && (message.length() === 2)) {\r\n        thisObj = this.blockReceiver();\r\n        msg = message.at(1);\r\n        trg = message.at(2);\r\n        if (isSnapObject(trg)) {\r\n            rcvrs = [trg];\r\n        } else if (isString(trg)) {\r\n            // assume the string to be the name of a sprite or the stage\r\n            if (trg === stage.name) {\r\n                rcvrs = [stage];\r\n            } else {\r\n                rcvrs = [this.getOtherObject(trg, thisObj, stage)];\r\n            }\r\n        } else if (trg instanceof List) {\r\n            // assume all elements to be sprites or sprite names\r\n            rcvrs = trg.itemsArray().map(function (each) {\r\n                return myself.getOtherObject(each, thisObj, stage);\r\n            });\r\n        } else {\r\n            return; // abort\r\n        }\r\n    } else { // global\r\n        rcvrs = stage.children.concat(stage);\r\n    }\r\n    if (msg !== '') {\r\n        stage.lastMessage = message; // the actual data structure\r\n        rcvrs.forEach(function (morph) {\r\n            if (isSnapObject(morph)) {\r\n                morph.allHatBlocksFor(msg).forEach(function (block) {\r\n                    procs.push(stage.threads.startProcess(\r\n                        block,\r\n                        morph,\r\n                        stage.isThreadSafe\r\n                    ));\r\n                });\r\n            }\r\n        });\r\n    }\r\n    return procs;\r\n};\r\n\r\nProcess.prototype.doBroadcastAndWait = function (message) {\r\n    if (!this.context.activeSends) {\r\n        this.context.activeSends = this.doBroadcast(message);\r\n    }\r\n    this.context.activeSends = this.context.activeSends.filter(\r\n        function (proc) {\r\n            return proc.isRunning();\r\n        }\r\n    );\r\n    if (this.context.activeSends.length === 0) {\r\n        return null;\r\n    }\r\n    this.pushContext('doYield');\r\n    this.pushContext();\r\n};\r\n\r\nProcess.prototype.getLastMessage = function () {\r\n    var stage;\r\n    if (this.homeContext.receiver) {\r\n        stage = this.homeContext.receiver.parentThatIsA(StageMorph);\r\n        if (stage) {\r\n            return stage.getLastMessage();\r\n        }\r\n    }\r\n    return '';\r\n};\r\n\r\n// Process type inference\r\n\r\nProcess.prototype.reportIsA = function (thing, typeString) {\r\n    return this.reportTypeOf(thing) === this.inputOption(typeString);\r\n};\r\n\r\nProcess.prototype.assertType = function (thing, typeString) {\r\n    // make sure \"thing\" is a particular type or any of a number of types\r\n    // and raise an error if not\r\n    // use responsibly wrt performance implications\r\n    var thingType = this.reportTypeOf(thing);\r\n    if (thingType === typeString) {return true; }\r\n    if (typeString instanceof Array && contains(typeString, thingType)) {\r\n        return true;\r\n    }\r\n    throw new Error('expecting ' + typeString + ' but getting ' + thingType);\r\n};\r\n\r\nProcess.prototype.assertAlive = function (thing) {\r\n    if (thing && thing.isCorpse) {\r\n        throw new Error('cannot operate on a deleted sprite');\r\n    }\r\n};\r\n\r\nProcess.prototype.reportTypeOf = function (thing) {\r\n    // answer a string denoting the argument's type\r\n    var exp;\r\n    if (thing === null || (thing === undefined)) {\r\n        return 'nothing';\r\n    }\r\n    if (thing === true || (thing === false)) {\r\n        return 'Boolean';\r\n    }\r\n    if (!isNaN(+thing)) {\r\n        return 'number';\r\n    }\r\n    if (isString(thing)) {\r\n        return 'text';\r\n    }\r\n    if (thing instanceof List) {\r\n        return 'list';\r\n    }\r\n    if (thing instanceof SpriteMorph) {\r\n        return 'sprite';\r\n    }\r\n    if (thing instanceof StageMorph) {\r\n        return 'stage';\r\n    }\r\n    if (thing instanceof Costume) {\r\n        return 'costume';\r\n    }\r\n    if (thing instanceof Sound) {\r\n        return 'sound';\r\n    }\r\n    if (thing instanceof Context) {\r\n        if (thing.expression instanceof RingMorph) {\r\n            return thing.expression.dataType();\r\n        }\r\n        if (thing.expression instanceof ReporterBlockMorph) {\r\n            if (thing.expression.isPredicate) {\r\n                return 'predicate';\r\n            }\r\n            return 'reporter';\r\n        }\r\n\r\n        if (thing.expression instanceof Array) {\r\n            exp = thing.expression[thing.pc || 0];\r\n            if (exp.isPredicate) {\r\n                return 'predicate';\r\n            }\r\n            if (exp instanceof RingMorph) {\r\n                return exp.dataType();\r\n            }\r\n            if (exp instanceof ReporterBlockMorph) {\r\n                return 'reporter';\r\n            }\r\n            if (exp instanceof CommandBlockMorph) {\r\n                return 'command';\r\n            }\r\n            return 'reporter'; // 'ring';\r\n        }\r\n\r\n        if (thing.expression instanceof CommandBlockMorph) {\r\n            return 'command';\r\n        }\r\n        return 'reporter'; // 'ring';\r\n    }\r\n    return 'undefined';\r\n};\r\n\r\n// Process math primtives\r\n\r\nProcess.prototype.reportSum = function (a, b) {\r\n    return +a + (+b);\r\n};\r\n\r\nProcess.prototype.reportDifference = function (a, b) {\r\n    return +a - +b;\r\n};\r\n\r\nProcess.prototype.reportProduct = function (a, b) {\r\n    return +a * +b;\r\n};\r\n\r\nProcess.prototype.reportQuotient = function (a, b) {\r\n    return +a / +b;\r\n};\r\n\r\nProcess.prototype.reportModulus = function (a, b) {\r\n    var x = +a,\r\n        y = +b;\r\n    return ((x % y) + y) % y;\r\n};\r\n\r\nProcess.prototype.reportRandom = function (min, max) {\r\n    var floor = +min,\r\n        ceil = +max;\r\n    if ((floor % 1 !== 0) || (ceil % 1 !== 0)) {\r\n        return Math.random() * (ceil - floor) + floor;\r\n    }\r\n    return Math.floor(Math.random() * (ceil - floor + 1)) + floor;\r\n};\r\n\r\nProcess.prototype.reportLessThan = function (a, b) {\r\n    var x = +a,\r\n        y = +b;\r\n    if (isNaN(x) || isNaN(y)) {\r\n        x = a;\r\n        y = b;\r\n    }\r\n    return x < y;\r\n};\r\n\r\nProcess.prototype.reportNot = function (bool) {\r\n    return !bool;\r\n};\r\n\r\nProcess.prototype.reportGreaterThan = function (a, b) {\r\n    var x = +a,\r\n        y = +b;\r\n    if (isNaN(x) || isNaN(y)) {\r\n        x = a;\r\n        y = b;\r\n    }\r\n    return x > y;\r\n};\r\n\r\nProcess.prototype.reportEquals = function (a, b) {\r\n    return snapEquals(a, b);\r\n};\r\n\r\nProcess.prototype.reportIsIdentical = function (a, b) {\r\n    var tag = 'idTag';\r\n    if (this.isImmutable(a) || this.isImmutable(b)) {\r\n        return snapEquals(a, b);\r\n    }\r\n\r\n    function clear() {\r\n        if (Object.prototype.hasOwnProperty.call(a, tag)) {\r\n            delete a[tag];\r\n        }\r\n        if (Object.prototype.hasOwnProperty.call(b, tag)) {\r\n            delete b[tag];\r\n        }\r\n    }\r\n\r\n    clear();\r\n    a[tag] = Date.now();\r\n    if (b[tag] === a[tag]) {\r\n        clear();\r\n        return true;\r\n    }\r\n    clear();\r\n    return false;\r\n};\r\n\r\nProcess.prototype.isImmutable = function (obj) {\r\n    // private\r\n    var type = this.reportTypeOf(obj);\r\n    return type === 'nothing' ||\r\n        type === 'Boolean' ||\r\n        type === 'text' ||\r\n        type === 'number' ||\r\n        type === 'undefined';\r\n};\r\n\r\nProcess.prototype.reportBoolean = function (bool) {\r\n    return bool;\r\n};\r\n\r\nProcess.prototype.reportRound = function (n) {\r\n    return Math.round(+n);\r\n};\r\n\r\nProcess.prototype.reportMonadic = function (fname, n) {\r\n    var x = +n,\r\n        result = 0;\r\n\r\n    switch (this.inputOption(fname)) {\r\n    case 'abs':\r\n        result = Math.abs(x);\r\n        break;\r\n    case 'ceiling':\r\n        result = Math.ceil(x);\r\n        break;\r\n    case 'floor':\r\n        result = Math.floor(x);\r\n        break;\r\n    case 'sqrt':\r\n        result = Math.sqrt(x);\r\n        break;\r\n    case 'sin':\r\n        result = Math.sin(radians(x));\r\n        break;\r\n    case 'cos':\r\n        result = Math.cos(radians(x));\r\n        break;\r\n    case 'tan':\r\n        result = Math.tan(radians(x));\r\n        break;\r\n    case 'asin':\r\n        result = degrees(Math.asin(x));\r\n        break;\r\n    case 'acos':\r\n        result = degrees(Math.acos(x));\r\n        break;\r\n    case 'atan':\r\n        result = degrees(Math.atan(x));\r\n        break;\r\n    case 'ln':\r\n        result = Math.log(x);\r\n        break;\r\n    case 'log': // base 10\r\n        result =  Math.log(x) / Math.LN10;\r\n        break;\r\n    case 'e^':\r\n        result = Math.exp(x);\r\n        break;\r\n    case '10^':\r\n        result = Math.pow(10, x);\r\n        break;\r\n    default:\r\n        nop();\r\n    }\r\n    return result;\r\n};\r\n\r\nProcess.prototype.reportTextFunction = function (fname, string) {\r\n    var x = (isNil(string) ? '' : string).toString(),\r\n        result = '';\r\n\r\n    switch (this.inputOption(fname)) {\r\n    case 'encode URI':\r\n        result = encodeURI(x);\r\n        break;\r\n    case 'decode URI':\r\n        result = decodeURI(x);\r\n        break;\r\n    case 'encode URI component':\r\n        result = encodeURIComponent(x);\r\n        break;\r\n    case 'decode URI component':\r\n        result = decodeURIComponent(x);\r\n        break;\r\n    case 'XML escape':\r\n        result = new XML_Element().escape(x);\r\n        break;\r\n    case 'XML unescape':\r\n        result = new XML_Element().unescape(x);\r\n        break;\r\n    case 'hex sha512 hash':\r\n        result = hex_sha512(x);\r\n        break;\r\n    default:\r\n        nop();\r\n    }\r\n    return result;\r\n};\r\n\r\nProcess.prototype.reportJoin = function (a, b) {\r\n    var x = (isNil(a) ? '' : a).toString(),\r\n        y = (isNil(b) ? '' : b).toString();\r\n    return x.concat(y);\r\n};\r\n\r\nProcess.prototype.reportJoinWords = function (aList) {\r\n    if (aList instanceof List) {\r\n        return aList.asText();\r\n    }\r\n    return (aList || '').toString();\r\n};\r\n\r\n// Process string ops\r\n\r\nProcess.prototype.reportLetter = function (idx, string) {\r\n    if (string instanceof List) { // catch a common user error\r\n        return '';\r\n    }\r\n    var i = +(idx || 0),\r\n        str = isNil(string) ? '' : string.toString();\r\n    return str[i - 1] || '';\r\n};\r\n\r\nProcess.prototype.reportStringSize = function (data) {\r\n    if (data instanceof List) { // catch a common user error\r\n        return data.length();\r\n    }\r\n\r\n    return isNil(data) ? 0 : data.toString().length;\r\n};\r\n\r\nProcess.prototype.reportUnicode = function (string) {\r\n    var str = (string || '').toString()[0];\r\n    return str ? str.charCodeAt(0) : 0;\r\n};\r\n\r\nProcess.prototype.reportUnicodeAsLetter = function (num) {\r\n    var code = +(num || 0);\r\n    return String.fromCharCode(code);\r\n};\r\n\r\nProcess.prototype.reportTextSplit = function (string, delimiter) {\r\n    var types = ['text', 'number'],\r\n        strType = this.reportTypeOf(string),\r\n        delType = this.reportTypeOf(this.inputOption(delimiter)),\r\n        str,\r\n        del;\r\n    if (!contains(types, strType)) {\r\n        throw new Error('expecting text instead of a ' + strType);\r\n    }\r\n    if (!contains(types, delType)) {\r\n        throw new Error('expecting a text delimiter instead of a ' + delType);\r\n    }\r\n    str = isNil(string) ? '' : string.toString();\r\n    switch (this.inputOption(delimiter)) {\r\n    case 'line':\r\n        // Unicode compliant line splitting (platform independent)\r\n        // http://www.unicode.org/reports/tr18/#Line_Boundaries\r\n        del = /\\r\\n|[\\n\\v\\f\\r\\x85\\u2028\\u2029]/;\r\n        break;\r\n    case 'tab':\r\n        del = '\\t';\r\n        break;\r\n    case 'cr':\r\n        del = '\\r';\r\n        break;\r\n    case 'whitespace':\r\n        str = str.trim();\r\n        del = /\\s+/;\r\n        break;\r\n    case 'letter':\r\n        del = '';\r\n        break;\r\n    case 'csv':\r\n        return this.parseCSV(string);\r\n    default:\r\n        del = isNil(delimiter) ? '' : delimiter.toString();\r\n    }\r\n    return new List(str.split(del));\r\n};\r\n\r\nProcess.prototype.parseCSV = function (string) {\r\n    // parse a single row of CSV data into a one-dimensional list\r\n    // this assumes that the whole csv data has already been split\r\n    // by lines.\r\n    // taken from:\r\n    // https://stackoverflow.com/questions/8493195/how-can-i-parse-a-csv-string-with-javascript-which-contains-comma-in-data\r\n\r\n    var re_valid = /^\\s*(?:'[^'\\\\]*(?:\\\\[\\S\\s][^'\\\\]*)*'|\"[^\"\\\\]*(?:\\\\[\\S\\s][^\"\\\\]*)*\"|[^,'\"\\s\\\\]*(?:\\s+[^,'\"\\s\\\\]+)*)\\s*(?:,\\s*(?:'[^'\\\\]*(?:\\\\[\\S\\s][^'\\\\]*)*'|\"[^\"\\\\]*(?:\\\\[\\S\\s][^\"\\\\]*)*\"|[^,'\"\\s\\\\]*(?:\\s+[^,'\"\\s\\\\]+)*)\\s*)*$/,\r\n        re_value = /(?!\\s*$)\\s*(?:'([^'\\\\]*(?:\\\\[\\S\\s][^'\\\\]*)*)'|\"([^\"\\\\]*(?:\\\\[\\S\\s][^\"\\\\]*)*)\"|([^,'\"\\s\\\\]*(?:\\s+[^,'\"\\s\\\\]+)*))\\s*(?:,|$)/g,\r\n        a = [];\r\n\r\n    if (!re_valid.test(string)) {\r\n        return new List();\r\n    }\r\n    string.replace(\r\n        re_value,\r\n        function(m0, m1, m2, m3) {\r\n            if (m1 !== undefined) {\r\n                // remove backslash from \\' in single quoted values.\r\n                a.push(m1.replace(/\\\\'/g, \"'\"));\r\n            } else if (m2 !== undefined) {\r\n                // remove backslash from \\\" in double quoted values.\r\n                a.push(m2.replace(/\\\\\"/g, '\"'));\r\n            } else if (m3 !== undefined) {\r\n                a.push(m3);\r\n            }\r\n            return '';\r\n        }\r\n    );\r\n    // special case: empty last value.\r\n    if (/,\\s*$/.test(string)) {\r\n        a.push('');\r\n    }\r\n    return new List(a);\r\n};\r\n\r\n// Process debugging\r\n\r\nProcess.prototype.alert = function (data) {\r\n    // debugging primitives only work in dev mode, otherwise they're nop\r\n    var world;\r\n    if (this.homeContext.receiver) {\r\n        world = this.homeContext.receiver.world();\r\n        if (world.isDevMode) {\r\n            alert('Snap! ' + data.asArray());\r\n        }\r\n    }\r\n};\r\n\r\nProcess.prototype.log = function (data) {\r\n    // debugging primitives only work in dev mode, otherwise they're nop\r\n    var world;\r\n    if (this.homeContext.receiver) {\r\n        world = this.homeContext.receiver.world();\r\n        if (world.isDevMode) {\r\n        }\r\n    }\r\n};\r\n\r\n// Process motion primitives\r\n\r\nProcess.prototype.getOtherObject = function (name, thisObj, stageObj) {\r\n    // private, find the sprite indicated by the given name\r\n    // either onstage or in the World's hand\r\n\r\n    // experimental: deal with first-class sprites\r\n    if (isSnapObject(name)) {\r\n        return name;\r\n    }\r\n\r\n    var stage = isNil(stageObj) ?\r\n                thisObj.parentThatIsA(StageMorph) : stageObj,\r\n        thatObj = null;\r\n\r\n    if (stage) {\r\n        // find the corresponding sprite on the stage\r\n        thatObj = detect(\r\n            stage.children,\r\n            function (morph) {return morph.name === name; }\r\n        );\r\n        if (!thatObj) {\r\n            // check if the sprite in question is currently being\r\n            // dragged around\r\n            thatObj = detect(\r\n                stage.world().hand.children,\r\n                function (morph) {\r\n                    return morph instanceof SpriteMorph\r\n                        && morph.name === name;\r\n                }\r\n            );\r\n        }\r\n    }\r\n    return thatObj;\r\n};\r\n\r\nProcess.prototype.getObjectsNamed = function (name, thisObj, stageObj) {\r\n    // private, find all sprites and their clones indicated\r\n    // by the given name either onstage or in the World's hand\r\n\r\n    var stage = isNil(stageObj) ?\r\n                thisObj.parentThatIsA(StageMorph) : stageObj,\r\n        those = [];\r\n\r\n    function check(obj) {\r\n        return obj instanceof SpriteMorph && obj.isTemporary ?\r\n                obj.cloneOriginName === name : obj.name === name;\r\n    }\r\n\r\n    if (stage) {\r\n        // find the corresponding sprite on the stage\r\n        those = stage.children.filter(check);\r\n        if (!those.length) {\r\n            // check if a sprite in question is currently being\r\n            // dragged around\r\n            those = stage.world().hand.children.filter(check);\r\n        }\r\n    }\r\n    return those;\r\n};\r\n\r\nProcess.prototype.doFaceTowards = function (name) {\r\n    var thisObj = this.blockReceiver(),\r\n        thatObj;\r\n\r\n    if (thisObj) {\r\n        if (this.inputOption(name) === 'mouse-pointer') {\r\n            thisObj.faceToXY(this.reportMouseX(), this.reportMouseY());\r\n        } else {\r\n            if (name instanceof List) {\r\n                thisObj.faceToXY(\r\n                    name.at(1),\r\n                    name.at(2)\r\n                );\r\n                return;\r\n            }\r\n            thatObj = this.getOtherObject(name, this.homeContext.receiver);\r\n            if (thatObj) {\r\n                thisObj.faceToXY(\r\n                    thatObj.xPosition(),\r\n                    thatObj.yPosition()\r\n                );\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nProcess.prototype.doGotoObject = function (name) {\r\n    var thisObj = this.blockReceiver(),\r\n        thatObj;\r\n\r\n    if (thisObj) {\r\n        if (this.inputOption(name) === 'mouse-pointer') {\r\n            thisObj.gotoXY(this.reportMouseX(), this.reportMouseY());\r\n        } else {\r\n            if (name instanceof List) {\r\n                thisObj.gotoXY(\r\n                    name.at(1),\r\n                    name.at(2)\r\n                );\r\n                return;\r\n            }\r\n            thatObj = this.getOtherObject(name, this.homeContext.receiver);\r\n            if (thatObj) {\r\n                thisObj.gotoXY(\r\n                    thatObj.xPosition(),\r\n                    thatObj.yPosition()\r\n                );\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\n// Process temporary cloning (Scratch-style)\r\n\r\nProcess.prototype.createClone = function (name) {\r\n    var thisObj = this.blockReceiver(),\r\n        thatObj;\r\n\r\n    if (!name) {return; }\r\n    if (thisObj) {\r\n        if (this.inputOption(name) === 'myself') {\r\n            thisObj.createClone(!this.isFirstStep);\r\n        } else {\r\n            thatObj = this.getOtherObject(name, thisObj);\r\n            if (thatObj) {\r\n                thatObj.createClone(!this.isFirstStep);\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nProcess.prototype.newClone = function (name) {\r\n    var thisObj = this.blockReceiver(),\r\n        thatObj;\r\n\r\n    if (!name) {return; }\r\n    if (thisObj) {\r\n        if (this.inputOption(name) === 'myself') {\r\n            return thisObj.newClone(!this.isFirstStep);\r\n        }\r\n        thatObj = this.getOtherObject(name, thisObj);\r\n        if (thatObj) {\r\n            return thatObj.newClone(!this.isFirstStep);\r\n        }\r\n    }\r\n};\r\n\r\n// Process sensing primitives\r\n\r\nProcess.prototype.reportTouchingObject = function (name) {\r\n    var thisObj = this.blockReceiver();\r\n\r\n    if (thisObj) {\r\n        return this.objectTouchingObject(thisObj, name);\r\n    }\r\n    return false;\r\n};\r\n\r\nProcess.prototype.objectTouchingObject = function (thisObj, name) {\r\n    // helper function for reportTouchingObject()\r\n    // also check for temparary clones, as in Scratch 2.0,\r\n    // and for any parts (subsprites)\r\n    var myself = this,\r\n        those,\r\n        stage,\r\n        box,\r\n        mouse;\r\n\r\n    if (this.inputOption(name) === 'mouse-pointer') {\r\n        mouse = thisObj.world().hand.position();\r\n        if (thisObj.bounds.containsPoint(mouse) &&\r\n                !thisObj.isTransparentAt(mouse)) {\r\n            return true;\r\n        }\r\n    } else {\r\n        stage = thisObj.parentThatIsA(StageMorph);\r\n\r\n        if (stage) {\r\n            if (this.inputOption(name) === 'edge') {\r\n                box = thisObj.bounds;\r\n                if (!thisObj.costume && thisObj.penBounds) {\r\n                    box = thisObj.penBounds.translateBy(thisObj.position());\r\n                }\r\n                if (!stage.bounds.containsRectangle(box)) {\r\n                    return true;\r\n                }\r\n            }\r\n            if (this.inputOption(name) === 'pen trails' &&\r\n                    thisObj.isTouching(stage.penTrailsMorph())) {\r\n                return true;\r\n            }\r\n            if (isSnapObject(name)) {\r\n                return thisObj.isTouching(name);\r\n            }\r\n            if (name instanceof List) { // assume all elements to be sprites\r\n                those = name.itemsArray();\r\n            } else {\r\n                those = this.getObjectsNamed(name, thisObj, stage); // clones\r\n            }\r\n            if (those.some(function (any) {\r\n                    return thisObj.isTouching(any);\r\n                })) {\r\n                return true;\r\n            }\r\n        }\r\n    }\r\n    return thisObj.parts.some(\r\n        function (any) {\r\n            return myself.objectTouchingObject(any, name);\r\n        }\r\n    );\r\n};\r\n\r\nProcess.prototype.reportTouchingColor = function (aColor) {\r\n    // also check for any parts (subsprites)\r\n    var thisObj = this.blockReceiver(),\r\n        stage;\r\n\r\n    if (thisObj) {\r\n        stage = thisObj.parentThatIsA(StageMorph);\r\n        if (stage) {\r\n            if (thisObj.isTouching(stage.colorFiltered(aColor, thisObj))) {\r\n                return true;\r\n            }\r\n            return thisObj.parts.some(\r\n                function (any) {\r\n                    return any.isTouching(stage.colorFiltered(aColor, any));\r\n                }\r\n            );\r\n        }\r\n    }\r\n    return false;\r\n};\r\n\r\nProcess.prototype.reportColorIsTouchingColor = function (color1, color2) {\r\n    // also check for any parts (subsprites)\r\n    var thisObj = this.blockReceiver(),\r\n        stage;\r\n\r\n    if (thisObj) {\r\n        stage = thisObj.parentThatIsA(StageMorph);\r\n        if (stage) {\r\n            if (thisObj.colorFiltered(color1).isTouching(\r\n                    stage.colorFiltered(color2, thisObj)\r\n                )) {\r\n                return true;\r\n            }\r\n            return thisObj.parts.some(\r\n                function (any) {\r\n                    return any.colorFiltered(color1).isTouching(\r\n                        stage.colorFiltered(color2, any)\r\n                    );\r\n                }\r\n            );\r\n        }\r\n    }\r\n    return false;\r\n};\r\n\r\nProcess.prototype.reportDistanceTo = function (name) {\r\n    var thisObj = this.blockReceiver(),\r\n        thatObj,\r\n        stage,\r\n        rc,\r\n        point;\r\n\r\n    if (thisObj) {\r\n        rc = thisObj.rotationCenter();\r\n        point = rc;\r\n        if (this.inputOption(name) === 'mouse-pointer') {\r\n            point = thisObj.world().hand.position();\r\n        } else if (name instanceof List) {\r\n            return new Point(thisObj.xPosition(), thisObj.yPosition())\r\n                .distanceTo(new Point(name.at(1), name.at(2)));\r\n        }\r\n        stage = thisObj.parentThatIsA(StageMorph);\r\n        thatObj = this.getOtherObject(name, thisObj, stage);\r\n        if (thatObj) {\r\n            point = thatObj.rotationCenter();\r\n        }\r\n        return rc.distanceTo(point) / stage.scale;\r\n    }\r\n    return 0;\r\n};\r\n\r\nProcess.prototype.reportAttributeOf = function (attribute, name) {\r\n    var thisObj = this.blockReceiver(),\r\n        thatObj,\r\n        stage;\r\n\r\n    if (thisObj) {\r\n        this.assertAlive(thisObj);\r\n        stage = thisObj.parentThatIsA(StageMorph);\r\n        if (stage.name === name) {\r\n            thatObj = stage;\r\n        } else {\r\n            thatObj = this.getOtherObject(name, thisObj, stage);\r\n        }\r\n        if (thatObj) {\r\n            this.assertAlive(thatObj);\r\n            if (attribute instanceof Context) {\r\n                return this.reportContextFor(attribute, thatObj);\r\n            }\r\n            if (isString(attribute)) {\r\n                return thatObj.variables.getVar(attribute);\r\n            }\r\n            switch (this.inputOption(attribute)) {\r\n            case 'x position':\r\n                return thatObj.xPosition ? thatObj.xPosition() : '';\r\n            case 'y position':\r\n                return thatObj.yPosition ? thatObj.yPosition() : '';\r\n            case 'direction':\r\n                return thatObj.direction ? thatObj.direction() : '';\r\n            case 'costume #':\r\n                return thatObj.getCostumeIdx();\r\n            case 'costume name':\r\n                return thatObj.costume ? thatObj.costume.name\r\n                        : thatObj instanceof SpriteMorph ? localize('Turtle')\r\n                                : localize('Empty');\r\n            case 'size':\r\n                return thatObj.getScale ? thatObj.getScale() : '';\r\n            }\r\n        }\r\n    }\r\n    return '';\r\n};\r\n\r\nProcess.prototype.reportGet = function (query) {\r\n    // experimental, answer a reference to a first-class member\r\n    // or a list of first-class members\r\n    var thisObj = this.blockReceiver(),\r\n        neighborhood,\r\n        stage,\r\n        objName;\r\n\r\n    if (thisObj) {\r\n        switch (this.inputOption(query)) {\r\n        case 'self' :\r\n            return thisObj;\r\n        case 'other sprites':\r\n            stage = thisObj.parentThatIsA(StageMorph);\r\n            return new List(\r\n                stage.children.filter(function (each) {\r\n                    return each instanceof SpriteMorph &&\r\n                        each !== thisObj;\r\n                })\r\n            );\r\n        case 'parts':\r\n            return new List(thisObj.parts || []);\r\n        case 'anchor':\r\n            return thisObj.anchor || '';\r\n        case 'parent':\r\n            return thisObj.exemplar || '';\r\n        case 'children':\r\n            return new List(thisObj.specimens ? thisObj.specimens() : []);\r\n        case 'temporary?':\r\n            return thisObj.isTemporary || false;\r\n        case 'clones':\r\n            stage = thisObj.parentThatIsA(StageMorph);\r\n            objName = thisObj.name || thisObj.cloneOriginName;\r\n            return new List(\r\n                stage.children.filter(function (each) {\r\n                    return each.isTemporary &&\r\n                        (each !== thisObj) &&\r\n                        (each.cloneOriginName === objName);\r\n                })\r\n            );\r\n        case 'other clones':\r\n            return thisObj.isTemporary ?\r\n                    this.reportGet(['clones']) : new List();\r\n        case 'neighbors':\r\n            stage = thisObj.parentThatIsA(StageMorph);\r\n            neighborhood = thisObj.bounds.expandBy(new Point(\r\n                thisObj.width(),\r\n                thisObj.height()\r\n            ));\r\n            return new List(\r\n                stage.children.filter(function (each) {\r\n                    return each instanceof SpriteMorph &&\r\n                        (each !== thisObj) &&\r\n                        each.bounds.intersects(neighborhood);\r\n                })\r\n            );\r\n        case 'dangling?':\r\n            return !thisObj.rotatesWithAnchor;\r\n        case 'rotation x':\r\n            return thisObj.xPosition();\r\n        case 'rotation y':\r\n            return thisObj.yPosition();\r\n        case 'center x':\r\n            return thisObj.xCenter();\r\n        case 'center y':\r\n            return thisObj.yCenter();\r\n        case 'name':\r\n            return thisObj.name;\r\n        case 'stage':\r\n            return thisObj.parentThatIsA(StageMorph);\r\n        case 'costumes':\r\n            return thisObj.reportCostumes();\r\n        case 'sounds':\r\n            return thisObj.sounds;\r\n        }\r\n    }\r\n    return '';\r\n};\r\n\r\nProcess.prototype.doSet = function (attribute, value) {\r\n    // experimental, manipulate sprites' attributes\r\n    var name, rcvr;\r\n    if (!(attribute instanceof Context)) {\r\n        return;\r\n    }\r\n    rcvr = this.blockReceiver();\r\n    this.assertAlive(rcvr);\r\n    if (!(attribute instanceof Context) ||\r\n            attribute.expression.selector !== 'reportGet') {\r\n        throw new Error(localize('unsupported attribute'));\r\n    }\r\n    name = attribute.expression.inputs()[0].evaluate();\r\n    if (name instanceof Array) {\r\n        name = name[0];\r\n    }\r\n    switch (name) {\r\n    case 'anchor':\r\n        this.assertType(rcvr, 'sprite');\r\n        if (value instanceof SpriteMorph) {\r\n            // avoid circularity here, because the GUI already checks for\r\n            // conflicts while the user drags parts over prospective targets\r\n            if (!rcvr.enableNesting || contains(rcvr.allParts(), value)) {\r\n                throw new Error(\r\n                    localize('unable to nest\\n(disabled or circular?)')\r\n                );\r\n            }\r\n            value.attachPart(rcvr);\r\n        } else {\r\n            rcvr.detachFromAnchor();\r\n        }\r\n        break;\r\n    case 'parent':\r\n        this.assertType(rcvr, 'sprite');\r\n        value = value instanceof SpriteMorph ? value : null;\r\n        // needed: circularity avoidance\r\n        rcvr.setExemplar(value);\r\n        break;\r\n    case 'temporary?':\r\n        this.assertType(rcvr, 'sprite');\r\n        this.assertType(value, 'Boolean');\r\n        if (rcvr.world().isDevMode) {\r\n            if (value) {\r\n                rcvr.release();\r\n            } else {\r\n                rcvr.perpetuate();\r\n            }\r\n        }\r\n        break;\r\n    case 'dangling?':\r\n        this.assertType(rcvr, 'sprite');\r\n        this.assertType(value, 'Boolean');\r\n        rcvr.rotatesWithAnchor = !value;\r\n        rcvr.version = Date.now();\r\n        break;\r\n    case 'rotation x':\r\n        this.assertType(rcvr, 'sprite');\r\n        this.assertType(value, 'number');\r\n        rcvr.setRotationX(value);\r\n        break;\r\n    case 'rotation y':\r\n        this.assertType(rcvr, 'sprite');\r\n        this.assertType(value, 'number');\r\n        rcvr.setRotationY(value);\r\n        break;\r\n    default:\r\n        throw new Error(\r\n            '\"' + localize(name) + '\" ' + localize('is read-only')\r\n        );\r\n    }\r\n};\r\n\r\nProcess.prototype.reportContextFor = function (context, otherObj) {\r\n    // Private - return a copy of the context\r\n    // and bind it to another receiver\r\n    var result = copy(context);\r\n    result.receiver = otherObj;\r\n    if (result.outerContext) {\r\n        result.outerContext = copy(result.outerContext);\r\n        result.outerContext.variables = copy(result.outerContext.variables);\r\n        result.outerContext.receiver = otherObj;\r\n        result.outerContext.variables.parentFrame = otherObj.variables;\r\n    }\r\n    return result;\r\n};\r\n\r\nProcess.prototype.reportMouseX = function () {\r\n    var stage, world;\r\n    if (this.homeContext.receiver) {\r\n        stage = this.homeContext.receiver.parentThatIsA(StageMorph);\r\n        if (stage) {\r\n            world = stage.world();\r\n            if (world) {\r\n                return (world.hand.position().x - stage.center().x)\r\n                    / stage.scale;\r\n            }\r\n        }\r\n    }\r\n    return 0;\r\n};\r\n\r\nProcess.prototype.reportMouseY = function () {\r\n    var stage, world;\r\n    if (this.homeContext.receiver) {\r\n        stage = this.homeContext.receiver.parentThatIsA(StageMorph);\r\n        if (stage) {\r\n            world = stage.world();\r\n            if (world) {\r\n                return (stage.center().y - world.hand.position().y)\r\n                    / stage.scale;\r\n            }\r\n        }\r\n    }\r\n    return 0;\r\n};\r\n\r\nProcess.prototype.reportMouseDown = function () {\r\n    var world;\r\n    if (this.homeContext.receiver) {\r\n        world = this.homeContext.receiver.world();\r\n        if (world) {\r\n            return world.hand.mouseButton === 'left';\r\n        }\r\n    }\r\n    return false;\r\n};\r\n\r\nProcess.prototype.reportKeyPressed = function (keyString) {\r\n    var stage;\r\n    if (this.homeContext.receiver) {\r\n        stage = this.homeContext.receiver.parentThatIsA(StageMorph);\r\n        if (stage) {\r\n            if (this.inputOption(keyString) === 'any key') {\r\n                return Object.keys(stage.keysPressed).length > 0;\r\n            }\r\n            return stage.keysPressed[keyString] !== undefined;\r\n        }\r\n    }\r\n    return false;\r\n};\r\n\r\nProcess.prototype.doResetTimer = function () {\r\n    var stage;\r\n    if (this.homeContext.receiver) {\r\n        stage = this.homeContext.receiver.parentThatIsA(StageMorph);\r\n        if (stage) {\r\n            stage.resetTimer();\r\n        }\r\n    }\r\n};\r\n\r\nProcess.prototype.reportTimer = function () {\r\n    var stage;\r\n    if (this.homeContext.receiver) {\r\n        stage = this.homeContext.receiver.parentThatIsA(StageMorph);\r\n        if (stage) {\r\n            return stage.getTimer();\r\n        }\r\n    }\r\n    return 0;\r\n};\r\n\r\n// Process Dates and times in Snap\r\nProcess.prototype.reportDate = function (datefn) {\r\n    var currDate, func, result,\r\n        inputFn = this.inputOption(datefn),\r\n        // Map block options to built-in functions\r\n        dateMap = {\r\n            'year' : 'getFullYear',\r\n            'month' : 'getMonth',\r\n            'date': 'getDate',\r\n            'day of week' : 'getDay',\r\n            'hour' : 'getHours',\r\n            'minute' : 'getMinutes',\r\n            'second' : 'getSeconds',\r\n            'time in milliseconds' : 'getTime'\r\n        };\r\n\r\n    if (!dateMap[inputFn]) { return ''; }\r\n    currDate = new Date();\r\n    func = dateMap[inputFn];\r\n    result = currDate[func]();\r\n\r\n    // Show months as 1-12 and days as 1-7\r\n    if (inputFn === 'month' || inputFn === 'day of week') {\r\n        result += 1;\r\n    }\r\n    return result;\r\n};\r\n\r\n// Process code mapping\r\n\r\n/*\r\n    for generating textual source code using\r\n    blocks - not needed to run or debug Snap\r\n*/\r\n\r\nProcess.prototype.doMapCodeOrHeader = function (aContext, anOption, aString) {\r\n    if (this.inputOption(anOption) === 'code') {\r\n        return this.doMapCode(aContext, aString);\r\n    }\r\n    if (this.inputOption(anOption) === 'header') {\r\n        return this.doMapHeader(aContext, aString);\r\n    }\r\n    throw new Error(\r\n        ' \\'' + anOption + '\\'\\nis not a valid option'\r\n    );\r\n};\r\n\r\nProcess.prototype.doMapHeader = function (aContext, aString) {\r\n    if (aContext instanceof Context) {\r\n        if (aContext.expression instanceof SyntaxElementMorph) {\r\n            return aContext.expression.mapHeader(aString || '');\r\n        }\r\n    }\r\n};\r\n\r\nProcess.prototype.doMapCode = function (aContext, aString) {\r\n    if (aContext instanceof Context) {\r\n        if (aContext.expression instanceof SyntaxElementMorph) {\r\n            return aContext.expression.mapCode(aString || '');\r\n        }\r\n    }\r\n};\r\n\r\nProcess.prototype.doMapValueCode = function (type, aString) {\r\n    var tp = this.inputOption(type);\r\n    switch (tp) {\r\n    case 'String':\r\n        StageMorph.prototype.codeMappings.string = aString || '<#1>';\r\n        break;\r\n    case 'Number':\r\n        StageMorph.prototype.codeMappings.number = aString || '<#1>';\r\n        break;\r\n    case 'true':\r\n        StageMorph.prototype.codeMappings.boolTrue = aString || 'true';\r\n        break;\r\n    case 'false':\r\n        StageMorph.prototype.codeMappings.boolFalse = aString || 'true';\r\n        break;\r\n    default:\r\n        throw new Error(\r\n            localize('unsupported data type') + ' ' + tp\r\n        );\r\n    }\r\n\r\n};\r\n\r\nProcess.prototype.doMapListCode = function (part, kind, aString) {\r\n    var key1 = '',\r\n        key2 = 'delim';\r\n\r\n    if (this.inputOption(kind) === 'parameters') {\r\n        key1 = 'parms_';\r\n    } else if (this.inputOption(kind) === 'variables') {\r\n        key1 = 'tempvars_';\r\n    }\r\n\r\n    if (this.inputOption(part) === 'list') {\r\n        key2 = 'list';\r\n    } else if (this.inputOption(part) === 'item') {\r\n        key2 = 'item';\r\n    }\r\n\r\n    StageMorph.prototype.codeMappings[key1 + key2] = aString || '';\r\n};\r\n\r\nProcess.prototype.reportMappedCode = function (aContext) {\r\n    if (aContext instanceof Context) {\r\n        if (aContext.expression instanceof SyntaxElementMorph) {\r\n            return aContext.expression.mappedCode();\r\n        }\r\n    }\r\n    return '';\r\n};\r\n\r\n// Process music primitives\r\n\r\nProcess.prototype.doRest = function (beats) {\r\n    var tempo = this.reportTempo();\r\n    this.doWait(60 / tempo * beats);\r\n};\r\n\r\nProcess.prototype.reportTempo = function () {\r\n    var stage;\r\n    if (this.homeContext.receiver) {\r\n        stage = this.homeContext.receiver.parentThatIsA(StageMorph);\r\n        if (stage) {\r\n            return stage.getTempo();\r\n        }\r\n    }\r\n    return 0;\r\n};\r\n\r\nProcess.prototype.doChangeTempo = function (delta) {\r\n    var stage;\r\n    if (this.homeContext.receiver) {\r\n        stage = this.homeContext.receiver.parentThatIsA(StageMorph);\r\n        if (stage) {\r\n            stage.changeTempo(delta);\r\n        }\r\n    }\r\n};\r\n\r\nProcess.prototype.doSetTempo = function (bpm) {\r\n    var stage;\r\n    if (this.homeContext.receiver) {\r\n        stage = this.homeContext.receiver.parentThatIsA(StageMorph);\r\n        if (stage) {\r\n            stage.setTempo(bpm);\r\n        }\r\n    }\r\n};\r\n\r\nProcess.prototype.doPlayNote = function (pitch, beats) {\r\n    var tempo = this.reportTempo();\r\n    this.doPlayNoteForSecs(\r\n        parseFloat(pitch || '0'),\r\n        60 / tempo * parseFloat(beats || '0')\r\n    );\r\n};\r\n\r\nProcess.prototype.doPlayNoteForSecs = function (pitch, secs) {\r\n    // interpolated\r\n    if (!this.context.startTime) {\r\n        this.context.startTime = Date.now();\r\n        this.context.activeNote = new Note(pitch);\r\n        this.context.activeNote.play(this.instrument);\r\n    }\r\n    if ((Date.now() - this.context.startTime) >= (secs * 1000)) {\r\n        if (this.context.activeNote) {\r\n            this.context.activeNote.stop();\r\n            this.context.activeNote = null;\r\n        }\r\n        return null;\r\n    }\r\n    this.pushContext('doYield');\r\n    this.pushContext();\r\n};\r\n\r\nProcess.prototype.doSetInstrument = function (num) {\r\n    this.instrument = +num;\r\n    this.receiver.instrument = +num;\r\n};\r\n\r\n// Process constant input options\r\n\r\nProcess.prototype.inputOption = function (dta) {\r\n    // private - for localization\r\n    return dta instanceof Array ? dta[0] : dta;\r\n};\r\n\r\n// Process stack\r\n\r\nProcess.prototype.pushContext = function (expression, outerContext) {\r\n    this.context = new Context(\r\n        this.context,\r\n        expression,\r\n        outerContext || (this.context ? this.context.outerContext : null),\r\n            // for tail call elimination\r\n        this.context ? // check needed due to tail call elimination\r\n                this.context.receiver : this.homeContext.receiver\r\n    );\r\n};\r\n\r\nProcess.prototype.popContext = function () {\r\n    if (this.context) {\r\n        this.context.stopMusic();\r\n    }\r\n    this.context = this.context ? this.context.parentContext : null;\r\n};\r\n\r\nProcess.prototype.returnValueToParentContext = function (value) {\r\n    // if no parent context exists treat value as result\r\n    if (value !== undefined) {\r\n        var target = this.context ? // in case of tail call elimination\r\n                this.context.parentContext || this.homeContext\r\n            : this.homeContext;\r\n        target.addInput(value);\r\n    }\r\n};\r\n\r\nProcess.prototype.reportStackSize = function () {\r\n    return this.context ? this.context.stackSize() : 0;\r\n};\r\n\r\nProcess.prototype.reportFrameCount = function () {\r\n    return this.frameCount;\r\n};\r\n\r\n// Process single-stepping\r\n\r\nProcess.prototype.flashContext = function () {\r\n    var expr = this.context.expression;\r\n    if (this.enableSingleStepping &&\r\n            !this.isAtomic &&\r\n            expr instanceof SyntaxElementMorph &&\r\n            !(expr instanceof CommandSlotMorph) &&\r\n            !this.context.isFlashing &&\r\n            expr.world() &&\r\n            !(expr instanceof ColorSlotMorph)) {\r\n        this.unflash();\r\n        expr.flash();\r\n        this.context.isFlashing = true;\r\n        this.flashingContext = this.context;\r\n        if (this.flashTime > 0 && (this.flashTime <= 0.5)) {\r\n            this.pushContext('doIdle');\r\n            this.context.addInput(this.flashTime);\r\n        } else {\r\n            this.pushContext('doInterrupt');\r\n        }\r\n        return true;\r\n    }\r\n    return false;\r\n};\r\n\r\nProcess.prototype.flashPausedContext = function () {\r\n    var flashable = this.context ? this.context.lastFlashable() : null;\r\n    if (flashable) {\r\n        this.unflash();\r\n        flashable.expression.flash();\r\n        flashable.isFlashing = true;\r\n        this.flashingContext = flashable;\r\n    }\r\n};\r\n\r\nProcess.prototype.doInterrupt = function () {\r\n    this.popContext();\r\n    if (!this.isAtomic) {\r\n        this.isInterrupted = true;\r\n    }\r\n};\r\n\r\nProcess.prototype.doIdle = function (secs) {\r\n    if (!this.context.startTime) {\r\n        this.context.startTime = Date.now();\r\n    }\r\n    if ((Date.now() - this.context.startTime) < (secs * 1000)) {\r\n        this.pushContext('doInterrupt');\r\n        return;\r\n    }\r\n    this.popContext();\r\n};\r\n\r\nProcess.prototype.unflash = function () {\r\n    if (this.flashingContext) {\r\n        this.flashingContext.expression.unflash();\r\n        this.flashingContext.isFlashing = false;\r\n        this.flashingContext = null;\r\n    }\r\n};\r\n\r\n// Context /////////////////////////////////////////////////////////////\r\n\r\n/*\r\n    A Context describes the state of a Process.\r\n\r\n    Each Process has a pointer to a Context containing its\r\n    state. Whenever the Process yields control, its Context\r\n    tells it exactly where it left off.\r\n\r\n    structure:\r\n\r\n    parentContext   the Context to return to when this one has\r\n                    been evaluated.\r\n    outerContext    the Context holding my lexical scope\r\n    expression      SyntaxElementMorph, an array of blocks to evaluate,\r\n                    null or a String denoting a selector, e.g. 'doYield'\r\n    origin          the object of origin, only used for serialization\r\n    receiver        the object to which the expression applies, if any\r\n    variables       the current VariableFrame, if any\r\n    inputs          an array of input values computed so far\r\n                    (if expression is a    BlockMorph)\r\n    pc              the index of the next block to evaluate\r\n                    (if expression is an array)\r\n    isContinuation  flag for marking a transient continuation context\r\n    startTime       time when the context was first evaluated\r\n    startValue      initial value for interpolated operations\r\n    activeAudio     audio buffer for interpolated operations, don't persist\r\n    activeNote      audio oscillator for interpolated ops, don't persist\r\n    isCustomBlock   marker for return ops\r\n    emptySlots      caches the number of empty slots for reification\r\n    tag             string or number to optionally identify the Context,\r\n                    as a \"return\" target (for the \"stop block\" primitive)\r\n    isFlashing      flag for single-stepping\r\n*/\r\n\r\nfunction Context(\r\n    parentContext,\r\n    expression,\r\n    outerContext,\r\n    receiver\r\n) {\r\n    this.outerContext = outerContext || null;\r\n    this.parentContext = parentContext || null;\r\n    this.expression = expression || null;\r\n    this.receiver = receiver || null;\r\n    this.origin = receiver || null; // only for serialization\r\n    this.variables = new VariableFrame();\r\n    if (this.outerContext) {\r\n        this.variables.parentFrame = this.outerContext.variables;\r\n        this.receiver = this.outerContext.receiver;\r\n    }\r\n    this.inputs = [];\r\n    this.pc = 0;\r\n    this.isContinuation = false;\r\n    this.startTime = null;\r\n    this.activeAudio = null;\r\n    this.activeNote = null;\r\n    this.isCustomBlock = false; // marks the end of a custom block's stack\r\n    this.emptySlots = 0; // used for block reification\r\n    this.tag = null;  // lexical catch-tag for custom blocks\r\n    this.isFlashing = false; // for single-stepping\r\n}\r\n\r\nContext.prototype.toString = function () {\r\n    var expr = this.expression;\r\n    if (expr instanceof Array) {\r\n        if (expr.length > 0) {\r\n            expr = '[' + expr[0] + ']';\r\n        }\r\n    }\r\n    return 'Context >> ' + expr + ' ' + this.variables;\r\n};\r\n\r\nContext.prototype.image = function () {\r\n    var ring = new RingMorph(),\r\n        block,\r\n        cont;\r\n\r\n    if (this.expression instanceof Morph) {\r\n        block = this.expression.fullCopy();\r\n\r\n        // replace marked call/cc block with empty slot\r\n        if (this.isContinuation) {\r\n            cont = detect(block.allInputs(), function (inp) {\r\n                return inp.bindingID === 1;\r\n            });\r\n            if (cont) {\r\n                block.revertToDefaultInput(cont, true);\r\n            }\r\n        }\r\n        ring.embed(block, this.inputs);\r\n        return ring.fullImage();\r\n    }\r\n    if (this.expression instanceof Array) {\r\n        block = this.expression[this.pc].fullCopy();\r\n        if (block instanceof RingMorph && !block.contents()) { // empty ring\r\n            return block.fullImage();\r\n        }\r\n        ring.embed(block, this.isContinuation ? [] : this.inputs);\r\n        return ring.fullImage();\r\n    }\r\n\r\n    // otherwise show an empty ring\r\n    ring.color = SpriteMorph.prototype.blockColor.other;\r\n    ring.setSpec('%rc %ringparms');\r\n\r\n    // also show my inputs, unless I'm a continuation\r\n    if (!this.isContinuation) {\r\n        this.inputs.forEach(function (inp) {\r\n            ring.parts()[1].addInput(inp);\r\n        });\r\n    }\r\n    return ring.fullImage();\r\n};\r\n\r\n// Context continuations:\r\n\r\nContext.prototype.continuation = function () {\r\n    var cont;\r\n    if (this.expression instanceof Array) {\r\n        cont = this;\r\n    } else if (this.parentContext) {\r\n        cont = this.parentContext;\r\n    } else {\r\n        cont = new Context(null, 'expectReport');\r\n        cont.isContinuation = true;\r\n        return cont;\r\n    }\r\n    cont = cont.copyForContinuation();\r\n    cont.tag = null;\r\n    cont.isContinuation = true;\r\n    return cont;\r\n};\r\n\r\nContext.prototype.copyForContinuation = function () {\r\n    var cpy = copy(this),\r\n        cur = cpy,\r\n        isReporter = !(this.expression instanceof Array ||\r\n            isString(this.expression));\r\n    if (isReporter) {\r\n        cur.prepareContinuationForBinding();\r\n        while (cur.parentContext) {\r\n            cur.parentContext = copy(cur.parentContext);\r\n            cur = cur.parentContext;\r\n            cur.inputs = [];\r\n        }\r\n    }\r\n    return cpy;\r\n};\r\n\r\nContext.prototype.copyForContinuationCall = function () {\r\n    var cpy = copy(this),\r\n        cur = cpy,\r\n        isReporter = !(this.expression instanceof Array ||\r\n            isString(this.expression));\r\n    if (isReporter) {\r\n        this.expression = this.expression.fullCopy();\r\n        this.inputs = [];\r\n        while (cur.parentContext) {\r\n            cur.parentContext = copy(cur.parentContext);\r\n            cur = cur.parentContext;\r\n            cur.inputs = [];\r\n        }\r\n    }\r\n    return cpy;\r\n};\r\n\r\nContext.prototype.prepareContinuationForBinding = function () {\r\n    var pos = this.inputs.length,\r\n        slot;\r\n    this.expression = this.expression.fullCopy();\r\n    slot = this.expression.inputs()[pos];\r\n    if (slot) {\r\n        this.inputs = [];\r\n        // mark slot containing the call/cc reporter with an identifier\r\n        slot.bindingID = 1;\r\n        // and remember the number of detected empty slots\r\n        this.emptySlots = 1;\r\n    }\r\n};\r\n\r\n// Context accessing:\r\n\r\nContext.prototype.addInput = function (input) {\r\n    this.inputs.push(input);\r\n};\r\n\r\n// Context music\r\n\r\nContext.prototype.stopMusic = function () {\r\n    if (this.activeNote) {\r\n        this.activeNote.stop();\r\n        this.activeNote = null;\r\n    }\r\n};\r\n\r\n// Context single-stepping:\r\n\r\nContext.prototype.lastFlashable = function () {\r\n    // for experimental single-stepping when pausing\r\n    if (this.expression instanceof SyntaxElementMorph &&\r\n            !(this.expression instanceof CommandSlotMorph)) {\r\n        return this;\r\n    } else if (this.parentContext) {\r\n        return this.parentContext.lastFlashable();\r\n    }\r\n    return null;\r\n};\r\n\r\n// Context debugging\r\n\r\nContext.prototype.stackSize = function () {\r\n    if (!this.parentContext) {\r\n        return 1;\r\n    }\r\n    return 1 + this.parentContext.stackSize();\r\n};\r\n\r\n// Variable /////////////////////////////////////////////////////////////////\r\n\r\nfunction Variable(value, isTransient) {\r\n    this.value = value;\r\n    this.isTransient = isTransient || false; // prevent value serialization\r\n}\r\n\r\nVariable.prototype.toString = function () {\r\n    return 'a ' + (this.isTransient ? 'transient ' : '') + 'Variable [' +\r\n        this.value + ']';\r\n};\r\n\r\nVariable.prototype.copy = function () {\r\n    return new Variable(this.value, this.isTransient);\r\n};\r\n\r\n// VariableFrame ///////////////////////////////////////////////////////\r\n\r\nfunction VariableFrame(parentFrame, owner) {\r\n    this.vars = {};\r\n    this.parentFrame = parentFrame || null;\r\n    this.owner = owner || null;\r\n}\r\n\r\nVariableFrame.prototype.toString = function () {\r\n    return 'a VariableFrame {' + this.names() + '}';\r\n};\r\n\r\nVariableFrame.prototype.copy = function () {\r\n    var frame = new VariableFrame(this.parentFrame),\r\n        myself = this;\r\n    this.names().forEach(function (vName) {\r\n        frame.addVar(vName, myself.getVar(vName));\r\n    });\r\n    return frame;\r\n};\r\n\r\nVariableFrame.prototype.deepCopy = function () {\r\n    // currently unused\r\n    var frame;\r\n    if (this.parentFrame) {\r\n        frame = new VariableFrame(this.parentFrame.deepCopy());\r\n    } else {\r\n        frame = new VariableFrame(this.parentFrame);\r\n    }\r\n    frame.vars = copy(this.vars);\r\n    return frame;\r\n};\r\n\r\nVariableFrame.prototype.find = function (name) {\r\n/*\r\n    answer the closest variable frame containing\r\n    the specified variable. otherwise throw an exception.\r\n*/\r\n    var frame = this.silentFind(name);\r\n    if (frame) {return frame; }\r\n    throw new Error(\r\n        localize('a variable of name \\'')\r\n            + name\r\n            + localize('\\'\\ndoes not exist in this context')\r\n    );\r\n};\r\n\r\nVariableFrame.prototype.silentFind = function (name) {\r\n/*\r\n    answer the closest variable frame containing\r\n    the specified variable. Otherwise return null.\r\n*/\r\n    if (this.vars[name] !== undefined) {\r\n        return this;\r\n    }\r\n    if (this.parentFrame) {\r\n        return this.parentFrame.silentFind(name);\r\n    }\r\n    return null;\r\n};\r\n\r\nVariableFrame.prototype.setVar = function (name, value, sender) {\r\n    // change the specified variable if it exists\r\n    // else throw an error, because variables need to be\r\n    // declared explicitly (e.g. through a \"script variables\" block),\r\n    // before they can be accessed.\r\n    // if the found frame is inherited by the sender sprite\r\n    // shadow it (create an explicit one for the sender)\r\n    // before setting the value (\"create-on-write\")\r\n\r\n    var frame = this.find(name);\r\n    if (frame) {\r\n        if (sender instanceof SpriteMorph &&\r\n                (frame.owner instanceof SpriteMorph) &&\r\n                (sender !== frame.owner)) {\r\n            sender.shadowVar(name, value);\r\n        } else {\r\n            frame.vars[name].value = value;\r\n        }\r\n    }\r\n};\r\n\r\nVariableFrame.prototype.changeVar = function (name, delta, sender) {\r\n    // change the specified variable if it exists\r\n    // else throw an error, because variables need to be\r\n    // declared explicitly (e.g. through a \"script variables\" block,\r\n    // before they can be accessed.\r\n    // if the found frame is inherited by the sender sprite\r\n    // shadow it (create an explicit one for the sender)\r\n    // before changing the value (\"create-on-write\")\r\n\r\n    var frame = this.find(name),\r\n        value,\r\n        newValue;\r\n    if (frame) {\r\n        value = parseFloat(frame.vars[name].value);\r\n        newValue = isNaN(value) ? delta : value + parseFloat(delta);\r\n        if (sender instanceof SpriteMorph &&\r\n                (frame.owner instanceof SpriteMorph) &&\r\n                (sender !== frame.owner)) {\r\n            sender.shadowVar(name, newValue);\r\n        } else {\r\n            frame.vars[name].value = newValue;\r\n        }\r\n\r\n    }\r\n};\r\n\r\nVariableFrame.prototype.getVar = function (name) {\r\n    var frame = this.silentFind(name),\r\n        value;\r\n    if (frame) {\r\n        value = frame.vars[name].value;\r\n        return (value === 0 ? 0\r\n                : value === false ? false\r\n                        : value === '' ? ''\r\n                            : value || 0); // don't return null\r\n    }\r\n    if (typeof name === 'number') {\r\n        // empty input with a Binding-ID called without an argument\r\n        return '';\r\n    }\r\n    throw new Error(\r\n        localize('a variable of name \\'')\r\n            + name\r\n            + localize('\\'\\ndoes not exist in this context')\r\n    );\r\n};\r\n\r\nVariableFrame.prototype.addVar = function (name, value) {\r\n    this.vars[name] = new Variable(value === 0 ? 0\r\n              : value === false ? false\r\n                       : value === '' ? '' : value || 0);\r\n};\r\n\r\nVariableFrame.prototype.deleteVar = function (name) {\r\n    var frame = this.find(name);\r\n    if (frame) {\r\n        delete frame.vars[name];\r\n    }\r\n};\r\n\r\n// VariableFrame tools\r\n\r\nVariableFrame.prototype.names = function () {\r\n    var each, names = [];\r\n    for (each in this.vars) {\r\n        if (Object.prototype.hasOwnProperty.call(this.vars, each)) {\r\n            names.push(each);\r\n        }\r\n    }\r\n    return names;\r\n};\r\n\r\nVariableFrame.prototype.allNamesDict = function () {\r\n    var dict = {}, current = this;\r\n\r\n    function addKeysToDict(srcDict, trgtDict) {\r\n        var eachKey;\r\n        for (eachKey in srcDict) {\r\n            if (Object.prototype.hasOwnProperty.call(srcDict, eachKey)) {\r\n                trgtDict[eachKey] = eachKey;\r\n            }\r\n        }\r\n    }\r\n\r\n    while (current) {\r\n        addKeysToDict(current.vars, dict);\r\n        current = current.parentFrame;\r\n    }\r\n    return dict;\r\n};\r\n\r\nVariableFrame.prototype.allNames = function () {\r\n/*\r\n    only show the names of the lexical scope, hybrid scoping is\r\n    reserved to the daring ;-)\r\n*/\r\n    var answer = [], each, dict = this.allNamesDict();\r\n\r\n    for (each in dict) {\r\n        if (Object.prototype.hasOwnProperty.call(dict, each)) {\r\n            answer.push(each);\r\n        }\r\n    }\r\n    return answer;\r\n};\r\n//fin de threads\r\n/*\r\n\r\n    objects.js\r\n\r\n    a scriptable microworld\r\n    based on morphic.js, blocks.js and threads.js\r\n    inspired by Scratch\r\n\r\n    written by Jens Mönig\r\n    jens@moenig.org\r\n\r\n    Copyright (C) 2017 by Jens Mönig\r\n\r\n    This file is part of Snap!.\r\n\r\n    Snap! is free software: you can redistribute it and/or modify\r\n    it under the terms of the GNU Affero General Public License as\r\n    published by the Free Software Foundation, either version 3 of\r\n    the License, or (at your option) any later version.\r\n\r\n    This program is distributed in the hope that it will be useful,\r\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n    GNU Affero General Public License for more details.\r\n\r\n    You should have received a copy of the GNU Affero General Public License\r\n    along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n\r\n\r\n    prerequisites:\r\n    --------------\r\n    needs blocks.js, threads.js, morphic.js and widgets.js\r\n\r\n\r\n    toc\r\n    ---\r\n    the following list shows the order in which all constructors are\r\n    defined. Use this list to locate code in this document:\r\n\r\n        SpriteMorph\r\n        SpriteHighlightMorph\r\n        StageMorph\r\n        Costume\r\n            SVG_Costume\r\n        CostumeEditorMorph\r\n        Sound\r\n        Note\r\n        CellMorph\r\n        WatcherMorph\r\n        StagePrompterMorph\r\n\r\n        SpeechBubbleMorph*\r\n            SpriteBubbleMorph\r\n\r\n    * defined in Morphic.js\r\n\r\n\r\n    credits\r\n    -------\r\n    Ian Reynolds contributed initial porting of primitives from Squeak and\r\n    sound handling\r\n    Achal Dave contributed research and prototyping for creating music\r\n    using the Web Audio API\r\n    Yuan Yuan and Dylan Servilla contributed graphic effects for costumes\r\n\r\n*/\r\n\r\n// Global stuff ////////////////////////////////////////////////////////\r\n\r\n/*global PaintEditorMorph, ListWatcherMorph, PushButtonMorph, ToggleMorph,\r\nDialogBoxMorph, InputFieldMorph, SpriteIconMorph, BlockMorph, SymbolMorph,\r\nThreadManager, VariableFrame, detect, BlockMorph, BoxMorph, Color, Animation,\r\nCommandBlockMorph, FrameMorph, HatBlockMorph, MenuMorph, Morph, MultiArgMorph,\r\nPoint, ReporterBlockMorph, ScriptsMorph, StringMorph, SyntaxElementMorph,\r\nTextMorph, contains, degrees, detect, newCanvas, nop, radians, Array,\r\nCursorMorph, Date, FrameMorph, HandMorph, Math, MenuMorph, Morph,\r\nMorphicPreferences, Object, PenMorph, Point, Rectangle, ScrollFrameMorph,\r\nSliderMorph, String, StringMorph, TextMorph, contains, copy, degrees, detect,\r\ndocument, isNaN, isString, newCanvas, nop, parseFloat, radians, window,\r\nmodules, IDE_Morph, VariableDialogMorph, HTMLCanvasElement, Context, List,\r\nSpeechBubbleMorph, RingMorph, isNil, FileReader, TableDialogMorph,\r\nBlockEditorMorph, BlockDialogMorph, PrototypeHatBlockMorph, localize,\r\nTableMorph, TableFrameMorph, normalizeCanvas, BooleanSlotMorph, HandleMorph,\r\nAlignmentMorph*/\r\n\r\nmodules.objects = '2017-December-12';\r\n\r\nvar SpriteMorph;\r\nvar StageMorph;\r\nvar SpriteBubbleMorph;\r\nvar Costume;\r\nvar SVG_Costume;\r\nvar CostumeEditorMorph;\r\nvar Sound;\r\nvar Note;\r\nvar CellMorph;\r\nvar WatcherMorph;\r\nvar StagePrompterMorph;\r\nvar Note;\r\nvar SpriteHighlightMorph;\r\n\r\nfunction isSnapObject(thing) {\r\n    return thing instanceof SpriteMorph || (thing instanceof StageMorph);\r\n}\r\n\r\n// SpriteMorph /////////////////////////////////////////////////////////\r\n\r\n// I am a scriptable object\r\n\r\n// SpriteMorph inherits from PenMorph:\r\n\r\nSpriteMorph.prototype = new PenMorph();\r\nSpriteMorph.prototype.constructor = SpriteMorph;\r\nSpriteMorph.uber = PenMorph.prototype;\r\n\r\n// SpriteMorph settings\r\n\r\nSpriteMorph.prototype.attributes =\r\n    [\r\n        'x position',\r\n        'y position',\r\n        'direction',\r\n        'size',\r\n        'costumes',\r\n        'costume #',\r\n        'sounds',\r\n        'scripts'\r\n    ];\r\n\r\nSpriteMorph.prototype.categories =\r\n    [\r\n        'motion',\r\n        'control',\r\n        'looks',\r\n        'sensing',\r\n        'sound',\r\n        'operators',\r\n        'pen',\r\n        'variables',\r\n        'lists',\r\n        'other'\r\n    ];\r\n\r\nSpriteMorph.prototype.blockColor = {\r\n    motion : new Color(74, 108, 212),\r\n    looks : new Color(143, 86, 227),\r\n    sound : new Color(207, 74, 217),\r\n    pen : new Color(0, 161, 120),\r\n    control : new Color(230, 168, 34),\r\n    sensing : new Color(4, 148, 220),\r\n    operators : new Color(98, 194, 19),\r\n    variables : new Color(243, 118, 29),\r\n    lists : new Color(217, 77, 17),\r\n    other: new Color(150, 150, 150)\r\n};\r\n\r\nSpriteMorph.prototype.paletteColor = new Color(55, 55, 55);\r\nSpriteMorph.prototype.paletteTextColor = new Color(230, 230, 230);\r\nSpriteMorph.prototype.sliderColor\r\n    = SpriteMorph.prototype.paletteColor.lighter(30);\r\nSpriteMorph.prototype.isCachingPrimitives = true;\r\n\r\nSpriteMorph.prototype.enableNesting = true;\r\nSpriteMorph.prototype.enableFirstClass = true;\r\nSpriteMorph.prototype.useFlatLineEnds = false;\r\nSpriteMorph.prototype.highlightColor = new Color(250, 200, 130);\r\nSpriteMorph.prototype.highlightBorder = 8;\r\n\r\nSpriteMorph.prototype.bubbleColor = new Color(255, 255, 255);\r\nSpriteMorph.prototype.bubbleFontSize = 14;\r\nSpriteMorph.prototype.bubbleFontIsBold = true;\r\nSpriteMorph.prototype.bubbleCorner = 10;\r\nSpriteMorph.prototype.bubbleBorder = 3;\r\nSpriteMorph.prototype.bubbleBorderColor = new Color(190, 190, 190);\r\nSpriteMorph.prototype.bubbleMaxTextWidth = 130;\r\n\r\nSpriteMorph.prototype.initBlocks = function () {\r\n    SpriteMorph.prototype.blocks = {\r\n\r\n        // Motion\r\n        forward: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'motion',\r\n            spec: 'move %n steps',\r\n            defaults: [10]\r\n        },\r\n        turn: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'motion',\r\n            spec: 'turn %clockwise %n degrees',\r\n            defaults: [15]\r\n        },\r\n        turnLeft: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'motion',\r\n            spec: 'turn %counterclockwise %n degrees',\r\n            defaults: [15]\r\n        },\r\n        setHeading: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'motion',\r\n            spec: 'point in direction %dir'\r\n        },\r\n        doFaceTowards: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'motion',\r\n            spec: 'point towards %dst'\r\n        },\r\n        gotoXY: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'motion',\r\n            spec: 'go to x: %n y: %n',\r\n            defaults: [0, 0]\r\n        },\r\n        doGotoObject: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'motion',\r\n            spec: 'go to %dst'\r\n        },\r\n        doGlide: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'motion',\r\n            spec: 'glide %n secs to x: %n y: %n',\r\n            defaults: [1, 0, 0]\r\n        },\r\n        changeXPosition: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'motion',\r\n            spec: 'change x by %n',\r\n            defaults: [10]\r\n        },\r\n        setXPosition: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'motion',\r\n            spec: 'set x to %n',\r\n            defaults: [0]\r\n        },\r\n        changeYPosition: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'motion',\r\n            spec: 'change y by %n',\r\n            defaults: [10]\r\n        },\r\n        setYPosition: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'motion',\r\n            spec: 'set y to %n',\r\n            defaults: [0]\r\n        },\r\n        bounceOffEdge: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'motion',\r\n            spec: 'if on edge, bounce'\r\n        },\r\n        xPosition: {\r\n            only: SpriteMorph,\r\n            type: 'reporter',\r\n            category: 'motion',\r\n            spec: 'x position'\r\n        },\r\n        yPosition: {\r\n            only: SpriteMorph,\r\n            type: 'reporter',\r\n            category: 'motion',\r\n            spec: 'y position'\r\n        },\r\n        direction: {\r\n            only: SpriteMorph,\r\n            type: 'reporter',\r\n            category: 'motion',\r\n            spec: 'direction'\r\n        },\r\n\r\n        // Looks\r\n        doSwitchToCostume: {\r\n            type: 'command',\r\n            category: 'looks',\r\n            spec: 'switch to costume %cst'\r\n        },\r\n        doWearNextCostume: {\r\n            type: 'command',\r\n            category: 'looks',\r\n            spec: 'next costume'\r\n        },\r\n        getCostumeIdx: {\r\n            type: 'reporter',\r\n            category: 'looks',\r\n            spec: 'costume #'\r\n        },\r\n        doSayFor: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'looks',\r\n            spec: 'say %s for %n secs',\r\n            defaults: [localize('Hello!'), 2]\r\n        },\r\n        bubble: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'looks',\r\n            spec: 'say %s',\r\n            defaults: [localize('Hello!')]\r\n        },\r\n        doThinkFor: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'looks',\r\n            spec: 'think %s for %n secs',\r\n            defaults: [localize('Hmm...'), 2]\r\n        },\r\n        doThink: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'looks',\r\n            spec: 'think %s',\r\n            defaults: [localize('Hmm...')]\r\n        },\r\n        changeEffect: {\r\n            type: 'command',\r\n            category: 'looks',\r\n            spec: 'change %eff effect by %n',\r\n            defaults: [null, 25]\r\n        },\r\n        setEffect: {\r\n            type: 'command',\r\n            category: 'looks',\r\n            spec: 'set %eff effect to %n',\r\n            defaults: [null, 0]\r\n        },\r\n        clearEffects: {\r\n            type: 'command',\r\n            category: 'looks',\r\n            spec: 'clear graphic effects'\r\n        },\r\n        changeScale: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'looks',\r\n            spec: 'change size by %n',\r\n            defaults: [10]\r\n        },\r\n        setScale: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'looks',\r\n            spec: 'set size to %n %',\r\n            defaults: [100]\r\n        },\r\n        getScale: {\r\n            only: SpriteMorph,\r\n            type: 'reporter',\r\n            category: 'looks',\r\n            spec: 'size'\r\n        },\r\n        show: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'looks',\r\n            spec: 'show'\r\n        },\r\n        hide: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'looks',\r\n            spec: 'hide'\r\n        },\r\n        comeToFront: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'looks',\r\n            spec: 'go to front'\r\n        },\r\n        goBack: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'looks',\r\n            spec: 'go back %n layers',\r\n            defaults: [1]\r\n        },\r\n        doScreenshot: {\r\n            type: 'command',\r\n            category: 'looks',\r\n            spec: 'save %imgsource as costume named %s',\r\n            defaults: [['pen trails'], localize('screenshot')]\r\n        },\r\n\r\n        // Looks - Debugging primitives for development mode\r\n        reportCostumes: {\r\n            dev: true,\r\n            type: 'reporter',\r\n            category: 'looks',\r\n            spec: 'wardrobe'\r\n        },\r\n\r\n        alert: {\r\n            dev: true,\r\n            type: 'command',\r\n            category: 'looks',\r\n            spec: 'alert %mult%s'\r\n        },\r\n        log: {\r\n            dev: true,\r\n            type: 'command',\r\n            category: 'looks',\r\n            spec: 'console log %mult%s'\r\n        },\r\n\r\n        // Sound\r\n        playSound: {\r\n            type: 'command',\r\n            category: 'sound',\r\n            spec: 'play sound %snd'\r\n        },\r\n        doPlaySoundUntilDone: {\r\n            type: 'command',\r\n            category: 'sound',\r\n            spec: 'play sound %snd until done'\r\n        },\r\n        doStopAllSounds: {\r\n            type: 'command',\r\n            category: 'sound',\r\n            spec: 'stop all sounds'\r\n        },\r\n        doRest: {\r\n            type: 'command',\r\n            category: 'sound',\r\n            spec: 'rest for %n beats',\r\n            defaults: [0.2]\r\n        },\r\n        doPlayNote: {\r\n            type: 'command',\r\n            category: 'sound',\r\n            spec: 'play note %note for %n beats',\r\n            defaults: [60, 0.5]\r\n        },\r\n        doSetInstrument: {\r\n            type: 'command',\r\n            category: 'sound',\r\n            spec: 'set instrument to %inst',\r\n            defaults: [1]\r\n        },\r\n        doChangeTempo: {\r\n            type: 'command',\r\n            category: 'sound',\r\n            spec: 'change tempo by %n',\r\n            defaults: [20]\r\n        },\r\n        doSetTempo: {\r\n            type: 'command',\r\n            category: 'sound',\r\n            spec: 'set tempo to %n bpm',\r\n            defaults: [60]\r\n        },\r\n        getTempo: {\r\n            type: 'reporter',\r\n            category: 'sound',\r\n            spec: 'tempo'\r\n        },\r\n\r\n        // Sound - Debugging primitives for development mode\r\n        reportSounds: {\r\n            dev: true,\r\n            type: 'reporter',\r\n            category: 'sound',\r\n            spec: 'jukebox'\r\n        },\r\n\r\n        // Pen\r\n        clear: {\r\n            type: 'command',\r\n            category: 'pen',\r\n            spec: 'clear'\r\n        },\r\n        down: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'pen',\r\n            spec: 'pen down'\r\n        },\r\n        up: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'pen',\r\n            spec: 'pen up'\r\n        },\r\n        setColor: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'pen',\r\n            spec: 'set pen color to %clr'\r\n        },\r\n        changeHue: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'pen',\r\n            spec: 'change pen color by %n',\r\n            defaults: [10]\r\n        },\r\n        setHue: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'pen',\r\n            spec: 'set pen color to %n',\r\n            defaults: [0]\r\n        },\r\n        changeBrightness: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'pen',\r\n            spec: 'change pen shade by %n',\r\n            defaults: [10]\r\n        },\r\n        setBrightness: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'pen',\r\n            spec: 'set pen shade to %n',\r\n            defaults: [100]\r\n        },\r\n        changeSize: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'pen',\r\n            spec: 'change pen size by %n',\r\n            defaults: [1]\r\n        },\r\n        setSize: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'pen',\r\n            spec: 'set pen size to %n',\r\n            defaults: [1]\r\n        },\r\n        doStamp: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'pen',\r\n            spec: 'stamp'\r\n        },\r\n        floodFill: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'pen',\r\n            spec: 'fill'\r\n        },\r\n        reportPenTrailsAsCostume: {\r\n            type: 'reporter',\r\n            category: 'pen',\r\n            spec: 'pen trails'\r\n        },\r\n\r\n        // Control\r\n        receiveGo: {\r\n            type: 'hat',\r\n            category: 'control',\r\n            spec: 'when %greenflag clicked'\r\n        },\r\n        receiveKey: {\r\n            type: 'hat',\r\n            category: 'control',\r\n            spec: 'when %keyHat key pressed'\r\n        },\r\n\r\n    /* migrated to a newer block version:\r\n\r\n        receiveClick: {\r\n            type: 'hat',\r\n            category: 'control',\r\n            spec: 'when I am clicked'\r\n        },\r\n    */\r\n\r\n        receiveInteraction: {\r\n            type: 'hat',\r\n            category: 'control',\r\n            spec: 'when I am %interaction',\r\n            defaults: ['clicked']\r\n        },\r\n        receiveMessage: {\r\n            type: 'hat',\r\n            category: 'control',\r\n            spec: 'when I receive %msgHat'\r\n        },\r\n        receiveCondition: {\r\n            type: 'hat',\r\n            category: 'control',\r\n            spec: 'when %b'\r\n        },\r\n        doBroadcast: {\r\n            type: 'command',\r\n            category: 'control',\r\n            spec: 'broadcast %msg'\r\n        },\r\n        doBroadcastAndWait: {\r\n            type: 'command',\r\n            category: 'control',\r\n            spec: 'broadcast %msg and wait'\r\n        },\r\n        getLastMessage: {\r\n            type: 'reporter',\r\n            category: 'control',\r\n            spec: 'message'\r\n        },\r\n        doWait: {\r\n            type: 'command',\r\n            category: 'control',\r\n            spec: 'wait %n secs',\r\n            defaults: [1]\r\n        },\r\n        doWaitUntil: {\r\n            type: 'command',\r\n            category: 'control',\r\n            spec: 'wait until %b'\r\n        },\r\n        doForever: {\r\n            type: 'command',\r\n            category: 'control',\r\n            spec: 'forever %c'\r\n        },\r\n        doRepeat: {\r\n            type: 'command',\r\n            category: 'control',\r\n            spec: 'repeat %n %c',\r\n            defaults: [10]\r\n        },\r\n        doUntil: {\r\n            type: 'command',\r\n            category: 'control',\r\n            spec: 'repeat until %b %c'\r\n        },\r\n        doIf: {\r\n            type: 'command',\r\n            category: 'control',\r\n            spec: 'if %b %c'\r\n        },\r\n        doIfElse: {\r\n            type: 'command',\r\n            category: 'control',\r\n            spec: 'if %b %c else %c'\r\n        },\r\n\r\n    /* migrated to a newer block version:\r\n\r\n        doStop: {\r\n            type: 'command',\r\n            category: 'control',\r\n            spec: 'stop script'\r\n        },\r\n        doStopAll: {\r\n            type: 'command',\r\n            category: 'control',\r\n            spec: 'stop all %stop'\r\n        },\r\n    */\r\n\r\n        doStopThis: {\r\n            type: 'command',\r\n            category: 'control',\r\n            spec: 'stop %stopChoices'\r\n        },\r\n\r\n    /* migrated to doStopThis:\r\n\r\n        doStopOthers: {\r\n            type: 'command',\r\n            category: 'control',\r\n            spec: 'stop %stopOthersChoices'\r\n        },\r\n    */\r\n\r\n        doRun: {\r\n            type: 'command',\r\n            category: 'control',\r\n            spec: 'run %cmdRing %inputs'\r\n        },\r\n        fork: {\r\n            type: 'command',\r\n            category: 'control',\r\n            spec: 'launch %cmdRing %inputs'\r\n        },\r\n        evaluate: {\r\n            type: 'reporter',\r\n            category: 'control',\r\n            spec: 'call %repRing %inputs'\r\n        },\r\n    /*\r\n        doRunWithInputList: {\r\n            type: 'command',\r\n            category: 'control',\r\n            spec: 'run %cmd with input list %l'\r\n        },\r\n\r\n        forkWithInputList: {\r\n            type: 'command',\r\n            category: 'control',\r\n            spec: 'launch %cmd with input list %l'\r\n        },\r\n\r\n        evaluateWithInputList: {\r\n            type: 'reporter',\r\n            category: 'control',\r\n            spec: 'call %r with input list %l'\r\n        },\r\n    */\r\n        doReport: {\r\n            type: 'command',\r\n            category: 'control',\r\n            spec: 'report %s'\r\n        },\r\n    /*\r\n        doStopBlock: { // migrated to a newer block version\r\n            type: 'command',\r\n            category: 'control',\r\n            spec: 'stop block'\r\n        },\r\n    */\r\n        doCallCC: {\r\n            type: 'command',\r\n            category: 'control',\r\n            spec: 'run %cmdRing w/continuation'\r\n        },\r\n        reportCallCC: {\r\n            type: 'reporter',\r\n            category: 'control',\r\n            spec: 'call %cmdRing w/continuation'\r\n        },\r\n        doWarp: {\r\n            type: 'command',\r\n            category: 'other',\r\n            spec: 'warp %c'\r\n        },\r\n\r\n        // Message passing - very experimental\r\n\r\n        doTellTo: { // under construction +++\r\n            dev: true,\r\n            type: 'command',\r\n            category: 'control',\r\n            // spec: 'tell %spr to %cl' // I liked this version much better, -Jens\r\n            spec: 'tell %spr to %cmdRing %inputs'\r\n        },\r\n        reportAskFor: {\r\n            dev: true,\r\n            type: 'reporter',\r\n            category: 'control',\r\n            spec: 'ask %spr for %repRing %inputs'\r\n        },\r\n\r\n        // Cloning\r\n\r\n        receiveOnClone: {\r\n            type: 'hat',\r\n            category: 'control',\r\n            spec: 'when I start as a clone'\r\n        },\r\n        createClone: {\r\n            type: 'command',\r\n            category: 'control',\r\n            spec: 'create a clone of %cln'\r\n        },\r\n        newClone: {\r\n            type: 'reporter',\r\n            category: 'control',\r\n            spec: 'a new clone of %cln',\r\n            defaults: [['myself']]\r\n        },\r\n        removeClone: {\r\n            type: 'command',\r\n            category: 'control',\r\n            spec: 'delete this clone'\r\n        },\r\n\r\n        // Debugging - pausing\r\n\r\n        doPauseAll: {\r\n            type: 'command',\r\n            category: 'control',\r\n            spec: 'pause all %pause'\r\n        },\r\n\r\n        // Sensing\r\n\r\n        reportTouchingObject: {\r\n            only: SpriteMorph,\r\n            type: 'predicate',\r\n            category: 'sensing',\r\n            spec: 'touching %col ?'\r\n        },\r\n        reportTouchingColor: {\r\n            only: SpriteMorph,\r\n            type: 'predicate',\r\n            category: 'sensing',\r\n            spec: 'touching %clr ?'\r\n        },\r\n        reportColorIsTouchingColor: {\r\n            only: SpriteMorph,\r\n            type: 'predicate',\r\n            category: 'sensing',\r\n            spec: 'color %clr is touching %clr ?'\r\n        },\r\n        colorFiltered: {\r\n            dev: true,\r\n            type: 'reporter',\r\n            category: 'sensing',\r\n            spec: 'filtered for %clr'\r\n        },\r\n        reportStackSize: {\r\n            dev: true,\r\n            type: 'reporter',\r\n            category: 'sensing',\r\n            spec: 'stack size'\r\n        },\r\n        reportFrameCount: {\r\n            dev: true,\r\n            type: 'reporter',\r\n            category: 'sensing',\r\n            spec: 'frames'\r\n        },\r\n        reportThreadCount: {\r\n            dev: true,\r\n            type: 'reporter',\r\n            category: 'sensing',\r\n            spec: 'processes'\r\n        },\r\n        doAsk: {\r\n            type: 'command',\r\n            category: 'sensing',\r\n            spec: 'ask %s and wait',\r\n            defaults: [localize('what\\'s your name?')]\r\n        },\r\n        reportLastAnswer: { // retained for legacy compatibility\r\n            dev: true,\r\n            type: 'reporter',\r\n            category: 'sensing',\r\n            spec: 'answer'\r\n        },\r\n        getLastAnswer: {\r\n            type: 'reporter',\r\n            category: 'sensing',\r\n            spec: 'answer'\r\n        },\r\n        reportMouseX: {\r\n            type: 'reporter',\r\n            category: 'sensing',\r\n            spec: 'mouse x'\r\n        },\r\n        reportMouseY: {\r\n            type: 'reporter',\r\n            category: 'sensing',\r\n            spec: 'mouse y'\r\n        },\r\n        reportMouseDown: {\r\n            type: 'predicate',\r\n            category: 'sensing',\r\n            spec: 'mouse down?'\r\n        },\r\n        reportKeyPressed: {\r\n            type: 'predicate',\r\n            category: 'sensing',\r\n            spec: 'key %key pressed?'\r\n        },\r\n        reportDistanceTo: {\r\n            type: 'reporter',\r\n            category: 'sensing',\r\n            spec: 'distance to %dst'\r\n        },\r\n        doResetTimer: {\r\n            type: 'command',\r\n            category: 'sensing',\r\n            spec: 'reset timer'\r\n        },\r\n        reportTimer: { // retained for legacy compatibility\r\n            dev: true,\r\n            type: 'reporter',\r\n            category: 'sensing',\r\n            spec: 'timer'\r\n        },\r\n        getTimer: {\r\n            type: 'reporter',\r\n            category: 'sensing',\r\n            spec: 'timer'\r\n        },\r\n        reportAttributeOf: {\r\n            type: 'reporter',\r\n            category: 'sensing',\r\n            spec: '%att of %spr',\r\n            defaults: [['costume #']]\r\n        },\r\n        reportURL: {\r\n            type: 'reporter',\r\n            category: 'sensing',\r\n            spec: 'url %s',\r\n            defaults: ['snap.berkeley.edu']\r\n        },\r\n        reportIsFastTracking: {\r\n            type: 'predicate',\r\n            category: 'sensing',\r\n            spec: 'turbo mode?'\r\n        },\r\n        doSetFastTracking: {\r\n            type: 'command',\r\n            category: 'sensing',\r\n            spec: 'set turbo mode to %b'\r\n        },\r\n        reportDate: {\r\n            type: 'reporter',\r\n            category: 'sensing',\r\n            spec: 'current %dates'\r\n        },\r\n        reportGet: {\r\n            type: 'reporter',\r\n            category: 'sensing',\r\n            spec: 'my %get',\r\n            defaults: [['neighbors']]\r\n        },\r\n\r\n        // Operators\r\n        reifyScript: {\r\n            type: 'ring',\r\n            category: 'other',\r\n            spec: '%rc %ringparms',\r\n            alias: 'command ring lambda'\r\n        },\r\n        reifyReporter: {\r\n            type: 'ring',\r\n            category: 'other',\r\n            spec: '%rr %ringparms',\r\n            alias: 'reporter ring lambda'\r\n        },\r\n        reifyPredicate: {\r\n            type: 'ring',\r\n            category: 'other',\r\n            spec: '%rp %ringparms',\r\n            alias: 'predicate ring lambda'\r\n        },\r\n        reportSum: {\r\n            type: 'reporter',\r\n            category: 'operators',\r\n            spec: '%n + %n'\r\n        },\r\n        reportDifference: {\r\n            type: 'reporter',\r\n            category: 'operators',\r\n            spec: '%n \\u2212 %n',\r\n            alias: '-'\r\n        },\r\n        reportProduct: {\r\n            type: 'reporter',\r\n            category: 'operators',\r\n            spec: '%n \\u00D7 %n',\r\n            alias: '*'\r\n        },\r\n        reportQuotient: {\r\n            type: 'reporter',\r\n            category: 'operators',\r\n            spec: '%n / %n' // '%n \\u00F7 %n'\r\n        },\r\n        reportRound: {\r\n            type: 'reporter',\r\n            category: 'operators',\r\n            spec: 'round %n'\r\n        },\r\n        reportMonadic: {\r\n            type: 'reporter',\r\n            category: 'operators',\r\n            spec: '%fun of %n',\r\n            defaults: [null, 10]\r\n        },\r\n        reportModulus: {\r\n            type: 'reporter',\r\n            category: 'operators',\r\n            spec: '%n mod %n'\r\n        },\r\n        reportRandom: {\r\n            type: 'reporter',\r\n            category: 'operators',\r\n            spec: 'pick random %n to %n',\r\n            defaults: [1, 10]\r\n        },\r\n        reportLessThan: {\r\n            type: 'predicate',\r\n            category: 'operators',\r\n            spec: '%s < %s'\r\n        },\r\n        reportEquals: {\r\n            type: 'predicate',\r\n            category: 'operators',\r\n            spec: '%s = %s'\r\n        },\r\n        reportGreaterThan: {\r\n            type: 'predicate',\r\n            category: 'operators',\r\n            spec: '%s > %s'\r\n        },\r\n        reportAnd: {\r\n            type: 'predicate',\r\n            category: 'operators',\r\n            spec: '%b and %b'\r\n        },\r\n        reportOr: {\r\n            type: 'predicate',\r\n            category: 'operators',\r\n            spec: '%b or %b'\r\n        },\r\n        reportNot: {\r\n            type: 'predicate',\r\n            category: 'operators',\r\n            spec: 'not %b'\r\n        },\r\n        reportBoolean: {\r\n            type: 'predicate',\r\n            category: 'operators',\r\n            spec: '%bool',\r\n            alias: 'true boolean'\r\n        },\r\n        reportFalse: { // special case for keyboard entry and search\r\n            type: 'predicate',\r\n            category: 'operators',\r\n            spec: '%bool',\r\n            defaults: [false],\r\n            alias: 'false boolean'\r\n        },\r\n        reportJoinWords: {\r\n            type: 'reporter',\r\n            category: 'operators',\r\n            spec: 'join %words',\r\n            defaults: [localize('hello') + ' ', localize('world')]\r\n        },\r\n        reportLetter: {\r\n            type: 'reporter',\r\n            category: 'operators',\r\n            spec: 'letter %n of %s',\r\n            defaults: [1, localize('world')]\r\n        },\r\n        reportStringSize: {\r\n            type: 'reporter',\r\n            category: 'operators',\r\n            spec: 'length of %s',\r\n            defaults: [localize('world')]\r\n        },\r\n        reportUnicode: {\r\n            type: 'reporter',\r\n            category: 'operators',\r\n            spec: 'unicode of %s',\r\n            defaults: ['a']\r\n        },\r\n        reportUnicodeAsLetter: {\r\n            type: 'reporter',\r\n            category: 'operators',\r\n            spec: 'unicode %n as letter',\r\n            defaults: [65]\r\n        },\r\n        reportIsA: {\r\n            type: 'predicate',\r\n            category: 'operators',\r\n            spec: 'is %s a %typ ?',\r\n            defaults: [5]\r\n        },\r\n        reportIsIdentical: {\r\n            type: 'predicate',\r\n            category: 'operators',\r\n            spec: 'is %s identical to %s ?'\r\n        },\r\n        reportTextSplit: {\r\n            type: 'reporter',\r\n            category: 'operators',\r\n            spec: 'split %s by %delim',\r\n            defaults: [localize('hello') + ' ' + localize('world'), \" \"]\r\n        },\r\n        reportJSFunction: { // experimental\r\n            type: 'reporter',\r\n            category: 'operators',\r\n            spec: 'JavaScript function ( %mult%s ) { %code }'\r\n        },\r\n        reportTypeOf: { // only in dev mode for debugging\r\n            dev: true,\r\n            type: 'reporter',\r\n            category: 'operators',\r\n            spec: 'type of %s',\r\n            defaults: [5]\r\n        },\r\n        reportTextFunction: { // only in dev mode - experimental\r\n            dev: true,\r\n            type: 'reporter',\r\n            category: 'operators',\r\n            spec: '%txtfun of %s',\r\n            defaults: [null, \"Abelson & Sussman\"]\r\n        },\r\n\r\n    /*\r\n        reportScript: {\r\n            type: 'reporter',\r\n            category: 'operators',\r\n            spec: 'the script %parms %c'\r\n        },\r\n        reify: {\r\n            type: 'reporter',\r\n            category: 'operators',\r\n            spec: 'the %f block %parms'\r\n        },\r\n    */\r\n\r\n        // Variables\r\n        doSetVar: {\r\n            type: 'command',\r\n            category: 'variables',\r\n            spec: 'set %var to %s',\r\n            defaults: [null, 0]\r\n        },\r\n        doChangeVar: {\r\n            type: 'command',\r\n            category: 'variables',\r\n            spec: 'change %var by %n',\r\n            defaults: [null, 1]\r\n        },\r\n        doShowVar: {\r\n            type: 'command',\r\n            category: 'variables',\r\n            spec: 'show variable %var'\r\n        },\r\n        doHideVar: {\r\n            type: 'command',\r\n            category: 'variables',\r\n            spec: 'hide variable %var'\r\n        },\r\n        doDeclareVariables: {\r\n            type: 'command',\r\n            category: 'other',\r\n            spec: 'script variables %scriptVars'\r\n        },\r\n\r\n        // inheritance - experimental\r\n        doDeleteAttr: {\r\n            type: 'command',\r\n            category: 'variables',\r\n            spec: 'inherit %shd'\r\n        },\r\n\r\n        // Lists\r\n        reportNewList: {\r\n            type: 'reporter',\r\n            category: 'lists',\r\n            spec: 'list %exp'\r\n        },\r\n        reportCONS: {\r\n            type: 'reporter',\r\n            category: 'lists',\r\n            spec: '%s in front of %l'\r\n        },\r\n        reportListItem: {\r\n            type: 'reporter',\r\n            category: 'lists',\r\n            spec: 'item %idx of %l',\r\n            defaults: [1]\r\n        },\r\n        reportCDR: {\r\n            type: 'reporter',\r\n            category: 'lists',\r\n            spec: 'all but first of %l'\r\n        },\r\n        reportListLength: {\r\n            type: 'reporter',\r\n            category: 'lists',\r\n            spec: 'length of %l'\r\n        },\r\n        reportListContainsItem: {\r\n            type: 'predicate',\r\n            category: 'lists',\r\n            spec: '%l contains %s',\r\n            defaults: [null, localize('thing')]\r\n        },\r\n        doAddToList: {\r\n            type: 'command',\r\n            category: 'lists',\r\n            spec: 'add %s to %l',\r\n            defaults: [localize('thing')]\r\n        },\r\n        doDeleteFromList: {\r\n            type: 'command',\r\n            category: 'lists',\r\n            spec: 'delete %ida of %l',\r\n            defaults: [1]\r\n        },\r\n        doInsertInList: {\r\n            type: 'command',\r\n            category: 'lists',\r\n            spec: 'insert %s at %idx of %l',\r\n            defaults: [localize('thing'), 1]\r\n        },\r\n        doReplaceInList: {\r\n            type: 'command',\r\n            category: 'lists',\r\n            spec: 'replace item %idx of %l with %s',\r\n            defaults: [1, null, localize('thing')]\r\n        },\r\n\r\n        // MAP - experimental\r\n        reportMap: {\r\n            dev: true,\r\n            type: 'reporter',\r\n            category: 'lists',\r\n            spec: 'map %repRing over %l'\r\n        },\r\n        doForEach: {\r\n            dev: true,\r\n            type: 'command',\r\n            category: 'lists',\r\n            spec: 'for %upvar in %l %cl',\r\n            defaults: [localize('each item')]\r\n        },\r\n\r\n        // Tables - experimental\r\n\r\n        doShowTable: {\r\n            dev: true,\r\n            type: 'command',\r\n            category: 'lists',\r\n            spec: 'show table %l'\r\n        },\r\n\r\n        // Code mapping - experimental\r\n        doMapCodeOrHeader: { // experimental\r\n            type: 'command',\r\n            category: 'other',\r\n            spec: 'map %cmdRing to %codeKind %code'\r\n        },\r\n        doMapValueCode: { // experimental\r\n            type: 'command',\r\n            category: 'other',\r\n            spec: 'map %mapValue to code %code',\r\n            defaults: [['String'], '<#1>']\r\n        },\r\n    /* obsolete - superseded by 'doMapValue'\r\n        doMapStringCode: { // experimental\r\n            type: 'command',\r\n            category: 'other',\r\n            spec: 'map String to code %code',\r\n            defaults: ['<#1>']\r\n        },\r\n    */\r\n        doMapListCode: { // experimental\r\n            type: 'command',\r\n            category: 'other',\r\n            spec: 'map %codeListPart of %codeListKind to code %code'\r\n        },\r\n        reportMappedCode: { // experimental\r\n            type: 'reporter',\r\n            category: 'other',\r\n            spec: 'code of %cmdRing'\r\n        }\r\n    };\r\n};\r\n\r\nSpriteMorph.prototype.initBlocks();\r\n\r\nSpriteMorph.prototype.initBlockMigrations = function () {\r\n    // change blocks in existing projects to their updated version\r\n    SpriteMorph.prototype.blockMigrations = {\r\n        doStopAll: {\r\n            selector: 'doStopThis',\r\n            inputs: [['all']]\r\n        },\r\n        doStop: {\r\n            selector: 'doStopThis',\r\n            inputs: [['this script']]\r\n        },\r\n        doStopBlock: {\r\n            selector: 'doStopThis',\r\n            inputs: [['this block']]\r\n        },\r\n        doStopOthers: {\r\n            selector: 'doStopThis',\r\n            inputs: [['all']],\r\n            offset: 0\r\n        },\r\n        receiveClick: {\r\n            selector: 'receiveInteraction',\r\n            inputs: [['clicked']]\r\n        },\r\n        reportTrue: {\r\n            selector: 'reportBoolean',\r\n            inputs: [true]\r\n        },\r\n        reportFalse: {\r\n            selector: 'reportBoolean',\r\n            inputs: [false]\r\n        },\r\n        reportCostumes: {\r\n            selector: 'reportGet',\r\n            inputs: [['costumes']]\r\n        },\r\n        reportSounds: {\r\n            selector: 'reportGet',\r\n            inputs: [['sounds']]\r\n        },\r\n        doMapStringCode: {\r\n            selector: 'doMapValueCode',\r\n            inputs: [['String'], '<#1>'],\r\n            offset: 1\r\n        }\r\n    };\r\n};\r\n\r\nSpriteMorph.prototype.initBlockMigrations();\r\n\r\nSpriteMorph.prototype.blockAlternatives = {\r\n    // motion:\r\n    turn: ['turnLeft'],\r\n    turnLeft: ['turn'],\r\n    changeXPosition: ['changeYPosition', 'setXPosition', 'setYPosition'],\r\n    setXPosition: ['setYPosition', 'changeXPosition', 'changeYPosition'],\r\n    changeYPosition: ['changeXPosition', 'setYPosition', 'setXPosition'],\r\n    setYPosition: ['setXPosition', 'changeYPosition', 'changeXPosition'],\r\n    xPosition: ['yPosition'],\r\n    yPosition: ['xPosition'],\r\n\r\n    // looks:\r\n    doSayFor: ['doThinkFor', 'bubble', 'doThink', 'doAsk'],\r\n    doThinkFor: ['doSayFor', 'doThink', 'bubble', 'doAsk'],\r\n    bubble: ['doThink', 'doAsk', 'doSayFor', 'doThinkFor'],\r\n    doThink: ['bubble', 'doAsk', 'doSayFor', 'doThinkFor'],\r\n    show: ['hide'],\r\n    hide: ['show'],\r\n    changeEffect: ['setEffect'],\r\n    setEffect: ['changeEffect'],\r\n    changeScale: ['setScale'],\r\n    setScale: ['changeScale'],\r\n\r\n    // sound:\r\n    playSound: ['doPlaySoundUntilDone'],\r\n    doPlaySoundUntilDone: ['playSound'],\r\n    doChangeTempo: ['doSetTempo'],\r\n    doSetTempo: ['doChangeTempo'],\r\n\r\n    // pen:\r\n    clear: ['down', 'up', 'doStamp'],\r\n    down: ['up', 'clear', 'doStamp'],\r\n    up: ['down', 'clear', 'doStamp'],\r\n    doStamp: ['clear', 'down', 'up'],\r\n    changeHue: ['setHue', 'changeBrightness', 'setBrightness'],\r\n    setHue: ['changeHue', 'changeBrightness', 'setBrightness'],\r\n    changeBrightness: ['setBrightness', 'setHue', 'changeHue'],\r\n    setBrightness: ['changeBrightness', 'setHue', 'changeHue'],\r\n    changeSize: ['setSize'],\r\n    setSize: ['changeSize'],\r\n\r\n    // control:\r\n    doBroadcast: ['doBroadcastAndWait'],\r\n    doBroadcastAndWait: ['doBroadcast'],\r\n    doIf: ['doIfElse', 'doUntil'],\r\n    doIfElse: ['doIf', 'doUntil'],\r\n    doRepeat: ['doUntil'],\r\n    doUntil: ['doRepeat', 'doIf'],\r\n\r\n    // sensing:\r\n    doAsk: ['bubble', 'doThink', 'doSayFor', 'doThinkFor'],\r\n    getLastAnswer: ['getTimer'],\r\n    getTimer: ['getLastAnswer'],\r\n    reportMouseX: ['reportMouseY'],\r\n    reportMouseY: ['reportMouseX'],\r\n\r\n    // operators:\r\n    reportSum: ['reportDifference', 'reportProduct', 'reportQuotient'],\r\n    reportDifference: ['reportSum', 'reportProduct', 'reportQuotient'],\r\n    reportProduct: ['reportDifference', 'reportSum', 'reportQuotient'],\r\n    reportQuotient: ['reportDifference', 'reportProduct', 'reportSum'],\r\n    reportLessThan: ['reportEquals', 'reportGreaterThan'],\r\n    reportEquals: ['reportLessThan', 'reportGreaterThan'],\r\n    reportGreaterThan: ['reportEquals', 'reportLessThan'],\r\n    reportAnd: ['reportOr'],\r\n    reportOr: ['reportAnd'],\r\n\r\n    // variables\r\n    doSetVar: ['doChangeVar'],\r\n    doChangeVar: ['doSetVar'],\r\n    doShowVar: ['doHideVar'],\r\n    doHideVar: ['doShowVar']\r\n};\r\n\r\n// SpriteMorph instance creation\r\n\r\nfunction SpriteMorph(globals) {\r\n    this.init(globals);\r\n}\r\n\r\nSpriteMorph.prototype.init = function (globals) {\r\n    this.name = localize('Sprite');\r\n    this.instrument = null;\r\n    this.variables = new VariableFrame(globals || null, this);\r\n    this.scripts = new ScriptsMorph();\r\n    this.customBlocks = [];\r\n    this.costumes = new List();\r\n    this.costumes.type = 'costume';\r\n    this.costume = null;\r\n    this.sounds = new List();\r\n    this.sounds.type = 'sound';\r\n    this.normalExtent = new Point(60, 60); // only for costume-less situation\r\n    this.scale = 1;\r\n    this.rotationStyle = 1; // 1 = full, 2 = left/right, 0 = off\r\n    this.version = Date.now(); // for observer optimization\r\n    this.isTemporary = false; // indicate a temporary Scratch-style clone\r\n    this.isCorpse = false; // indicate whether a sprite/clone has been deleted\r\n    this.cloneOriginName = '';\r\n\r\n    // only temporarily for serialization\r\n    this.inheritedMethodsCache = [];\r\n\r\n    // sprite nesting properties\r\n    this.parts = []; // not serialized, only anchor (name)\r\n    this.anchor = null;\r\n    this.nestingScale = 1;\r\n    this.rotatesWithAnchor = true;\r\n    this.layers = null; // cache for dragging nested sprites, don't serialize\r\n\r\n    this.blocksCache = {}; // not to be serialized (!)\r\n    this.paletteCache = {}; // not to be serialized (!)\r\n    this.rotationOffset = new Point(); // not to be serialized (!)\r\n    this.idx = 0; // not to be serialized (!) - used for de-serialization\r\n    this.wasWarped = false; // not to be serialized, used for fast-tracking\r\n\r\n    this.graphicsValues = {\r\n        'color': 0,\r\n        'fisheye': 0,\r\n        'whirl': 0,\r\n        'pixelate': 0,\r\n        'mosaic': 0,\r\n        'duplicate': 0,\r\n        'negative': 0,\r\n        'comic': 0,\r\n        'confetti': 0,\r\n        'saturation': 0,\r\n        'brightness': 0\r\n    };\r\n\r\n    // sprite inheritance\r\n    this.exemplar = null;\r\n    this.instances = [];\r\n    this.cachedPropagation = false; // not to be persisted\r\n    this.inheritedAttributes = []; // 'x position', 'direction', 'size' etc...\r\n\r\n    SpriteMorph.uber.init.call(this);\r\n\r\n    this.isDraggable = true;\r\n    this.isDown = false;\r\n    this.heading = 90;\r\n    this.changed();\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\n// SpriteMorph duplicating (fullCopy)\r\n\r\nSpriteMorph.prototype.fullCopy = function (forClone) {\r\n    var c = SpriteMorph.uber.fullCopy.call(this),\r\n        myself = this,\r\n        arr = [],\r\n        cb, effect;\r\n\r\n    c.instances = [];\r\n    c.stopTalking();\r\n    c.color = this.color.copy();\r\n    c.blocksCache = {};\r\n    c.paletteCache = {};\r\n    arr = [];\r\n    this.inheritedAttributes.forEach(function (att) {\r\n        arr.push(att);\r\n    });\r\n    c.inheritedAttributes = arr;\r\n    if (forClone) {\r\n        c.exemplar = this;\r\n        c.customBlocks = [];\r\n        c.variables = new VariableFrame(null, c);\r\n        c.variables.parentFrame = this.variables;\r\n        c.inheritedVariableNames().forEach(function (name) {\r\n            c.shadowVar(name, c.variables.getVar(name));\r\n        });\r\n        this.addSpecimen(c);\r\n        this.cachedPropagation = false;\r\n        ['scripts', 'costumes', 'sounds'].forEach(function (att) {\r\n            if (!contains(c.inheritedAttributes, att)) {\r\n                c.inheritedAttributes.push(att);\r\n            }\r\n        });\r\n    } else {\r\n        c.variables = this.variables.copy();\r\n        c.variables.owner = c;\r\n        c.scripts = this.scripts.fullCopy();\r\n        c.customBlocks = [];\r\n        this.customBlocks.forEach(function (def) {\r\n            cb = def.copyAndBindTo(c);\r\n            c.customBlocks.push(cb);\r\n            c.allBlockInstances(def).forEach(function (block) {\r\n                block.definition = cb;\r\n            });\r\n        });\r\n        arr = [];\r\n        this.costumes.asArray().forEach(function (costume) {\r\n            var cst = forClone ? costume : costume.copy();\r\n            arr.push(cst);\r\n            if (costume === myself.costume) {\r\n                c.costume = cst;\r\n            }\r\n        });\r\n        c.costumes = new List(arr);\r\n        arr = [];\r\n        this.sounds.asArray().forEach(function (sound) {\r\n            var snd = forClone ? sound : sound.copy();\r\n            arr.push(snd);\r\n        });\r\n        c.sounds = new List(arr);\r\n        arr = [];\r\n    }\r\n    c.nestingScale = 1;\r\n    c.rotatesWithAnchor = true;\r\n    c.anchor = null;\r\n    c.parts = [];\r\n    this.parts.forEach(function (part) {\r\n        var dp = part.fullCopy(forClone);\r\n        dp.nestingScale = part.nestingScale;\r\n        dp.rotatesWithAnchor = part.rotatesWithAnchor;\r\n        c.attachPart(dp);\r\n    });\r\n    c.graphicsValues = {};\r\n    for (effect in this.graphicsValues) {\r\n        if (this.graphicsValues.hasOwnProperty(effect)) {\r\n            c.graphicsValues[effect] = this.graphicsValues[effect];\r\n        }\r\n    }\r\n    return c;\r\n};\r\n\r\nSpriteMorph.prototype.appearIn = function (ide) {\r\n    // private - used in IDE_Morph.duplicateSprite()\r\n    if (!this.isTemporary) {\r\n        this.name = ide.newSpriteName(this.name);\r\n        ide.corral.addSprite(this);\r\n        ide.sprites.add(this);\r\n    }\r\n    ide.stage.add(this);\r\n    this.parts.forEach(function (part) {\r\n        part.appearIn(ide);\r\n    });\r\n};\r\n\r\n// SpriteMorph versioning\r\n\r\nSpriteMorph.prototype.setName = function (string) {\r\n    this.name = string || this.name;\r\n    this.version = Date.now();\r\n};\r\n\r\n// SpriteMorph rendering\r\n\r\nSpriteMorph.prototype.drawNew = function () {\r\n    var myself = this,\r\n        currentCenter,\r\n        facing, // actual costume heading based on my rotation style\r\n        isFlipped,\r\n        isLoadingCostume,\r\n        cst,\r\n        pic, // (flipped copy of) actual costume based on my rotation style\r\n        stageScale,\r\n        newX,\r\n        corners = [],\r\n        origin,\r\n        shift,\r\n        corner,\r\n        costumeExtent,\r\n        ctx,\r\n        handle;\r\n\r\n    if (this.isWarped) {\r\n        this.wantsRedraw = true;\r\n        return;\r\n    }\r\n    currentCenter = this.center();\r\n    isLoadingCostume = this.costume &&\r\n        typeof this.costume.loaded === 'function';\r\n    stageScale = this.parent instanceof StageMorph ?\r\n            this.parent.scale : 1;\r\n    facing = this.rotationStyle ? this.heading : 90;\r\n    if (this.rotationStyle === 2) {\r\n        facing = 90;\r\n        if ((this.heading > 180 && (this.heading < 360))\r\n                || (this.heading < 0 && (this.heading > -180))) {\r\n            isFlipped = true;\r\n        }\r\n    }\r\n    if (this.costume && !isLoadingCostume) {\r\n        pic = isFlipped ? this.costume.flipped() : this.costume;\r\n\r\n        // determine the rotated costume's bounding box\r\n        corners = pic.bounds().corners().map(function (point) {\r\n            return point.rotateBy(\r\n                radians(facing - 90),\r\n                myself.costume.center()\r\n            );\r\n        });\r\n        origin = corners[0];\r\n        corner = corners[0];\r\n        corners.forEach(function (point) {\r\n            origin = origin.min(point);\r\n            corner = corner.max(point);\r\n        });\r\n        costumeExtent = origin.corner(corner)\r\n            .extent().multiplyBy(this.scale * stageScale);\r\n\r\n        // determine the new relative origin of the rotated shape\r\n        shift = new Point(0, 0).rotateBy(\r\n            radians(-(facing - 90)),\r\n            pic.center()\r\n        ).subtract(origin);\r\n\r\n        // create a new, adequately dimensioned canvas\r\n        // and draw the costume on it\r\n        this.image = newCanvas(costumeExtent, true);\r\n        this.silentSetExtent(costumeExtent);\r\n        ctx = this.image.getContext('2d');\r\n        ctx.scale(this.scale * stageScale, this.scale * stageScale);\r\n        ctx.translate(shift.x, shift.y);\r\n        ctx.rotate(radians(facing - 90));\r\n        ctx.drawImage(pic.contents, 0, 0);\r\n\r\n        // apply graphics effects to image\r\n        this.image = this.applyGraphicsEffects(this.image);\r\n\r\n        // adjust my position to the rotation\r\n        this.setCenter(currentCenter, true); // just me\r\n\r\n        // determine my rotation offset\r\n        this.rotationOffset = shift\r\n            .translateBy(pic.rotationCenter)\r\n            .rotateBy(radians(-(facing - 90)), shift)\r\n            .scaleBy(this.scale * stageScale);\r\n    } else {\r\n        facing = isFlipped ? -90 : facing;\r\n        newX = Math.min(\r\n            Math.max(\r\n                this.normalExtent.x * this.scale * stageScale,\r\n                5\r\n            ),\r\n            1000\r\n        );\r\n        this.silentSetExtent(new Point(newX, newX));\r\n        this.image = newCanvas(this.extent(), true);\r\n        this.setCenter(currentCenter, true); // just me\r\n        SpriteMorph.uber.drawNew.call(this, facing);\r\n        this.rotationOffset = this.extent().divideBy(2);\r\n        this.image = this.applyGraphicsEffects(this.image);\r\n        if (isLoadingCostume) { // retry until costume is done loading\r\n            cst = this.costume;\r\n            handle = setInterval(\r\n                function () {\r\n                    myself.wearCostume(cst);\r\n                    clearInterval(handle);\r\n                },\r\n                100\r\n            );\r\n            return myself.wearCostume(null);\r\n\r\n        }\r\n    }\r\n    this.version = Date.now(); // for observer optimization\r\n};\r\n\r\nSpriteMorph.prototype.endWarp = function () {\r\n    this.isWarped = false;\r\n    if (this.wantsRedraw) {\r\n        var x = this.xPosition(),\r\n            y = this.yPosition();\r\n        this.drawNew();\r\n        this.silentGotoXY(x, y, true); // just me\r\n        this.wantsRedraw = false;\r\n    }\r\n    this.parent.changed();\r\n};\r\n\r\nSpriteMorph.prototype.rotationCenter = function () {\r\n    return this.position().add(this.rotationOffset);\r\n};\r\n\r\nSpriteMorph.prototype.colorFiltered = function (aColor) {\r\n    // answer a new Morph containing my image filtered by aColor\r\n    // ignore transparency (alpha)\r\n    var morph = new Morph(),\r\n        ext = this.extent(),\r\n        ctx,\r\n        src,\r\n        clr,\r\n        i,\r\n        dta;\r\n\r\n    src = normalizeCanvas(this.image, true).getContext('2d').getImageData(\r\n        0,\r\n        0,\r\n        ext.x,\r\n        ext.y\r\n    );\r\n    morph.image = newCanvas(ext, true);\r\n    morph.bounds = this.bounds.copy();\r\n    ctx = morph.image.getContext('2d');\r\n    dta = ctx.createImageData(ext.x, ext.y);\r\n    for (i = 0; i < ext.x * ext.y * 4; i += 4) {\r\n        clr = new Color(\r\n            src.data[i],\r\n            src.data[i + 1],\r\n            src.data[i + 2]\r\n        );\r\n        if (clr.eq(aColor)) {\r\n            dta.data[i] = src.data[i];\r\n            dta.data[i + 1] = src.data[i + 1];\r\n            dta.data[i + 2] = src.data[i + 2];\r\n            dta.data[i + 3] = 255;\r\n        }\r\n    }\r\n    ctx.putImageData(dta, 0, 0);\r\n    return morph;\r\n};\r\n\r\n// SpriteMorph block instantiation\r\n\r\nSpriteMorph.prototype.blockForSelector = function (selector, setDefaults) {\r\n    var migration, info, block, defaults, inputs, i;\r\n    migration = this.blockMigrations[selector];\r\n    info = this.blocks[migration ? migration.selector : selector];\r\n    if (!info) {return null; }\r\n    block = info.type === 'command' ? new CommandBlockMorph()\r\n        : info.type === 'hat' ? new HatBlockMorph()\r\n            : info.type === 'ring' ? new RingMorph()\r\n                : new ReporterBlockMorph(info.type === 'predicate');\r\n    block.color = this.blockColor[info.category];\r\n    block.category = info.category;\r\n    block.selector = migration ? migration.selector : selector;\r\n    if (contains(['reifyReporter', 'reifyPredicate'], block.selector)) {\r\n        block.isStatic = true;\r\n    }\r\n    block.setSpec(localize(info.spec));\r\n    if ((setDefaults && info.defaults) || (migration && migration.inputs)) {\r\n        defaults = migration ? migration.inputs : info.defaults;\r\n        block.defaults = defaults;\r\n        inputs = block.inputs();\r\n        if (inputs[0] instanceof MultiArgMorph) {\r\n            inputs[0].setContents(defaults);\r\n            inputs[0].defaults = defaults;\r\n        } else {\r\n            for (i = 0; i < defaults.length; i += 1) {\r\n                if (defaults[i] !== null) {\r\n                    inputs[i].setContents(defaults[i]);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return block;\r\n};\r\n\r\nSpriteMorph.prototype.variableBlock = function (varName) {\r\n    var block = new ReporterBlockMorph(false);\r\n    block.selector = 'reportGetVar';\r\n    block.color = this.blockColor.variables;\r\n    block.category = 'variables';\r\n    block.setSpec(varName);\r\n    block.isDraggable = true;\r\n    return block;\r\n};\r\n\r\n// SpriteMorph block templates\r\n\r\nSpriteMorph.prototype.blockTemplates = function (category) {\r\n    var blocks = [], myself = this, varNames, button,\r\n        cat = category || 'motion', txt,\r\n        inheritedVars = this.inheritedVariableNames();\r\n\r\n    function block(selector, isGhosted) {\r\n        if (StageMorph.prototype.hiddenPrimitives[selector]) {\r\n            return null;\r\n        }\r\n        var newBlock = SpriteMorph.prototype.blockForSelector(selector, true);\r\n        newBlock.isTemplate = true;\r\n        if (isGhosted) {newBlock.ghost(); }\r\n        return newBlock;\r\n    }\r\n\r\n    function variableBlock(varName) {\r\n        var newBlock = SpriteMorph.prototype.variableBlock(varName);\r\n        newBlock.isDraggable = false;\r\n        newBlock.isTemplate = true;\r\n        if (contains(inheritedVars, varName)) {\r\n            newBlock.ghost();\r\n        }\r\n        return newBlock;\r\n    }\r\n\r\n    function watcherToggle(selector) {\r\n        if (StageMorph.prototype.hiddenPrimitives[selector]) {\r\n            return null;\r\n        }\r\n        var info = SpriteMorph.prototype.blocks[selector];\r\n        return new ToggleMorph(\r\n            'checkbox',\r\n            this,\r\n            function () {\r\n                myself.toggleWatcher(\r\n                    selector,\r\n                    localize(info.spec),\r\n                    myself.blockColor[info.category]\r\n                );\r\n            },\r\n            null,\r\n            function () {\r\n                return myself.showingWatcher(selector);\r\n            },\r\n            null\r\n        );\r\n    }\r\n\r\n    function variableWatcherToggle(varName) {\r\n        return new ToggleMorph(\r\n            'checkbox',\r\n            this,\r\n            function () {\r\n                myself.toggleVariableWatcher(varName);\r\n            },\r\n            null,\r\n            function () {\r\n                return myself.showingVariableWatcher(varName);\r\n            },\r\n            null\r\n        );\r\n    }\r\n\r\n    function helpMenu() {\r\n        var menu = new MenuMorph(this);\r\n        menu.addItem('help...', 'showHelp');\r\n        return menu;\r\n    }\r\n\r\n    function addVar(pair) {\r\n        var ide;\r\n        if (pair) {\r\n            if (myself.isVariableNameInUse(pair[0], pair[1])) {\r\n                myself.inform('that name is already in use');\r\n            } else {\r\n                ide = myself.parentThatIsA(IDE_Morph);\r\n                myself.addVariable(pair[0], pair[1]);\r\n                if (!myself.showingVariableWatcher(pair[0])) {\r\n                    myself.toggleVariableWatcher(pair[0], pair[1]);\r\n                }\r\n                ide.flushBlocksCache('variables'); // b/c of inheritance\r\n                ide.refreshPalette();\r\n            }\r\n        }\r\n    }\r\n\r\n    if (cat === 'motion') {\r\n\r\n        blocks.push(block('forward'));\r\n        blocks.push(block('turn'));\r\n        blocks.push(block('turnLeft'));\r\n        blocks.push('-');\r\n        blocks.push(block('setHeading'));\r\n        blocks.push(block('doFaceTowards'));\r\n        blocks.push('-');\r\n        blocks.push(block('gotoXY'));\r\n        blocks.push(block('doGotoObject'));\r\n        blocks.push(block('doGlide'));\r\n        blocks.push('-');\r\n        blocks.push(block('changeXPosition'));\r\n        blocks.push(block('setXPosition'));\r\n        blocks.push(block('changeYPosition'));\r\n        blocks.push(block('setYPosition'));\r\n        blocks.push('-');\r\n        blocks.push(block('bounceOffEdge'));\r\n        blocks.push('-');\r\n        blocks.push(watcherToggle('xPosition'));\r\n        blocks.push(block('xPosition', this.inheritsAttribute('x position')));\r\n        blocks.push(watcherToggle('yPosition'));\r\n        blocks.push(block('yPosition', this.inheritsAttribute('y position')));\r\n        blocks.push(watcherToggle('direction'));\r\n        blocks.push(block('direction', this.inheritsAttribute('direction')));\r\n        blocks.push('=');\r\n        blocks.push(this.makeBlockButton(cat));\r\n\r\n    } else if (cat === 'looks') {\r\n\r\n        blocks.push(block('doSwitchToCostume'));\r\n        blocks.push(block('doWearNextCostume'));\r\n        blocks.push(watcherToggle('getCostumeIdx'));\r\n        blocks.push(block('getCostumeIdx', this.inheritsAttribute('costume #')));\r\n        blocks.push('-');\r\n        blocks.push(block('doSayFor'));\r\n        blocks.push(block('bubble'));\r\n        blocks.push(block('doThinkFor'));\r\n        blocks.push(block('doThink'));\r\n        blocks.push('-');\r\n        blocks.push(block('changeEffect'));\r\n        blocks.push(block('setEffect'));\r\n        blocks.push(block('clearEffects'));\r\n        blocks.push('-');\r\n        blocks.push(block('changeScale'));\r\n        blocks.push(block('setScale'));\r\n        blocks.push(watcherToggle('getScale'));\r\n        blocks.push(block('getScale', this.inheritsAttribute('size')));\r\n        blocks.push('-');\r\n        blocks.push(block('show'));\r\n        blocks.push(block('hide'));\r\n        blocks.push('-');\r\n        blocks.push(block('comeToFront'));\r\n        blocks.push(block('goBack'));\r\n\r\n    // for debugging: ///////////////\r\n\r\n        if (this.world().isDevMode) {\r\n            blocks.push('-');\r\n            txt = new TextMorph(localize(\r\n                'development mode \\ndebugging primitives:'\r\n            ));\r\n            txt.fontSize = 9;\r\n            txt.setColor(this.paletteTextColor);\r\n            blocks.push(txt);\r\n            blocks.push('-');\r\n            blocks.push(block('log'));\r\n            blocks.push(block('alert'));\r\n            blocks.push('-');\r\n            blocks.push(block('doScreenshot'));\r\n        }\r\n\r\n    /////////////////////////////////\r\n\r\n        blocks.push('=');\r\n        blocks.push(this.makeBlockButton(cat));\r\n\r\n    } else if (cat === 'sound') {\r\n\r\n        blocks.push(block('playSound'));\r\n        blocks.push(block('doPlaySoundUntilDone'));\r\n        blocks.push(block('doStopAllSounds'));\r\n        blocks.push('-');\r\n        blocks.push(block('doRest'));\r\n        blocks.push(block('doPlayNote'));\r\n        blocks.push(block('doSetInstrument'));\r\n        blocks.push('-');\r\n        blocks.push(block('doChangeTempo'));\r\n        blocks.push(block('doSetTempo'));\r\n        blocks.push(watcherToggle('getTempo'));\r\n        blocks.push(block('getTempo'));\r\n        blocks.push('=');\r\n        blocks.push(this.makeBlockButton(cat));\r\n\r\n    } else if (cat === 'pen') {\r\n\r\n        blocks.push(block('clear'));\r\n        blocks.push('-');\r\n        blocks.push(block('down'));\r\n        blocks.push(block('up'));\r\n        blocks.push('-');\r\n        blocks.push(block('setColor'));\r\n        blocks.push(block('changeHue'));\r\n        blocks.push(block('setHue'));\r\n        blocks.push('-');\r\n        blocks.push(block('changeBrightness'));\r\n        blocks.push(block('setBrightness'));\r\n        blocks.push('-');\r\n        blocks.push(block('changeSize'));\r\n        blocks.push(block('setSize'));\r\n        blocks.push('-');\r\n        blocks.push(block('doStamp'));\r\n        blocks.push(block('floodFill'));\r\n        blocks.push('-');\r\n        blocks.push(block('reportPenTrailsAsCostume'));\r\n        blocks.push('=');\r\n        blocks.push(this.makeBlockButton(cat));\r\n\r\n    } else if (cat === 'control') {\r\n\r\n        blocks.push(block('receiveGo'));\r\n        blocks.push(block('receiveKey'));\r\n        blocks.push(block('receiveInteraction'));\r\n        blocks.push(block('receiveCondition'));\r\n        blocks.push(block('receiveMessage'));\r\n        blocks.push('-');\r\n        blocks.push(block('doBroadcast'));\r\n        blocks.push(block('doBroadcastAndWait'));\r\n        blocks.push(watcherToggle('getLastMessage'));\r\n        blocks.push(block('getLastMessage'));\r\n        blocks.push('-');\r\n        blocks.push(block('doWarp'));\r\n        blocks.push('-');\r\n        blocks.push(block('doWait'));\r\n        blocks.push(block('doWaitUntil'));\r\n        blocks.push('-');\r\n        blocks.push(block('doForever'));\r\n        blocks.push(block('doRepeat'));\r\n        blocks.push(block('doUntil'));\r\n        blocks.push('-');\r\n        blocks.push(block('doIf'));\r\n        blocks.push(block('doIfElse'));\r\n        blocks.push('-');\r\n        blocks.push(block('doReport'));\r\n    /*\r\n    // old STOP variants, migrated to a newer version, now redundant\r\n        blocks.push(block('doStopBlock'));\r\n        blocks.push(block('doStop'));\r\n        blocks.push(block('doStopAll'));\r\n    */\r\n        blocks.push(block('doStopThis'));\r\n    /*\r\n        // migrated to doStopThis, now redundant\r\n        blocks.push(block('doStopOthers'));\r\n    */\r\n        blocks.push('-');\r\n        blocks.push(block('doRun'));\r\n        blocks.push(block('fork'));\r\n        blocks.push(block('evaluate'));\r\n        blocks.push('-');\r\n        blocks.push(block('doTellTo'));\r\n        blocks.push(block('reportAskFor'));\r\n        blocks.push('-');\r\n        blocks.push(block('doCallCC'));\r\n        blocks.push(block('reportCallCC'));\r\n        blocks.push('-');\r\n        blocks.push(block('receiveOnClone'));\r\n        blocks.push(block('createClone'));\r\n        blocks.push(block('newClone'));\r\n        blocks.push(block('removeClone'));\r\n        blocks.push('-');\r\n        blocks.push(block('doPauseAll'));\r\n        blocks.push('=');\r\n        blocks.push(this.makeBlockButton(cat));\r\n\r\n    } else if (cat === 'sensing') {\r\n\r\n        blocks.push(block('reportTouchingObject'));\r\n        blocks.push(block('reportTouchingColor'));\r\n        blocks.push(block('reportColorIsTouchingColor'));\r\n        blocks.push('-');\r\n        blocks.push(block('doAsk'));\r\n        blocks.push(watcherToggle('getLastAnswer'));\r\n        blocks.push(block('getLastAnswer'));\r\n        blocks.push('-');\r\n        blocks.push(watcherToggle('reportMouseX'));\r\n        blocks.push(block('reportMouseX'));\r\n        blocks.push(watcherToggle('reportMouseY'));\r\n        blocks.push(block('reportMouseY'));\r\n        blocks.push(block('reportMouseDown'));\r\n        blocks.push('-');\r\n        blocks.push(block('reportKeyPressed'));\r\n        blocks.push('-');\r\n        blocks.push(block('reportDistanceTo'));\r\n        blocks.push('-');\r\n        blocks.push(block('doResetTimer'));\r\n        blocks.push(watcherToggle('getTimer'));\r\n        blocks.push(block('getTimer'));\r\n        blocks.push('-');\r\n        blocks.push(block('reportAttributeOf'));\r\n\r\n        if (SpriteMorph.prototype.enableFirstClass) {\r\n            blocks.push(block('reportGet'));\r\n        }\r\n        blocks.push('-');\r\n\r\n        blocks.push(block('reportURL'));\r\n        blocks.push('-');\r\n        blocks.push(block('reportIsFastTracking'));\r\n        blocks.push(block('doSetFastTracking'));\r\n        blocks.push('-');\r\n        blocks.push(block('reportDate'));\r\n\r\n    // for debugging: ///////////////\r\n\r\n        if (this.world().isDevMode) {\r\n\r\n            blocks.push('-');\r\n            txt = new TextMorph(localize(\r\n                'development mode \\ndebugging primitives:'\r\n            ));\r\n            txt.fontSize = 9;\r\n            txt.setColor(this.paletteTextColor);\r\n            blocks.push(txt);\r\n            blocks.push('-');\r\n            blocks.push(watcherToggle('reportThreadCount'));\r\n            blocks.push(block('reportThreadCount'));\r\n            blocks.push(block('colorFiltered'));\r\n            blocks.push(block('reportStackSize'));\r\n            blocks.push(block('reportFrameCount'));\r\n        }\r\n\r\n\t/////////////////////////////////\r\n\r\n\t\tblocks.push('=');\r\n        blocks.push(this.makeBlockButton(cat));\r\n\r\n    } else if (cat === 'operators') {\r\n\r\n        blocks.push(block('reifyScript'));\r\n        blocks.push(block('reifyReporter'));\r\n        blocks.push(block('reifyPredicate'));\r\n        blocks.push('#');\r\n        blocks.push('-');\r\n        blocks.push(block('reportSum'));\r\n        blocks.push(block('reportDifference'));\r\n        blocks.push(block('reportProduct'));\r\n        blocks.push(block('reportQuotient'));\r\n        blocks.push('-');\r\n        blocks.push(block('reportModulus'));\r\n        blocks.push(block('reportRound'));\r\n        blocks.push(block('reportMonadic'));\r\n        blocks.push(block('reportRandom'));\r\n        blocks.push('-');\r\n        blocks.push(block('reportLessThan'));\r\n        blocks.push(block('reportEquals'));\r\n        blocks.push(block('reportGreaterThan'));\r\n        blocks.push('-');\r\n        blocks.push(block('reportAnd'));\r\n        blocks.push(block('reportOr'));\r\n        blocks.push(block('reportNot'));\r\n        blocks.push(block('reportBoolean'));\r\n        blocks.push('-');\r\n        blocks.push(block('reportJoinWords'));\r\n        blocks.push(block('reportTextSplit'));\r\n        blocks.push(block('reportLetter'));\r\n        blocks.push(block('reportStringSize'));\r\n        blocks.push('-');\r\n        blocks.push(block('reportUnicode'));\r\n        blocks.push(block('reportUnicodeAsLetter'));\r\n        blocks.push('-');\r\n        blocks.push(block('reportIsA'));\r\n        blocks.push(block('reportIsIdentical'));\r\n\r\n        if (true) { // (Process.prototype.enableJS) {\r\n            blocks.push('-');\r\n            blocks.push(block('reportJSFunction'));\r\n        }\r\n\r\n    // for debugging: ///////////////\r\n\r\n        if (this.world().isDevMode) {\r\n            blocks.push('-');\r\n            txt = new TextMorph(localize(\r\n                'development mode \\ndebugging primitives:'\r\n            ));\r\n            txt.fontSize = 9;\r\n            txt.setColor(this.paletteTextColor);\r\n            blocks.push(txt);\r\n            blocks.push('-');\r\n            blocks.push(block('reportTypeOf'));\r\n            blocks.push(block('reportTextFunction'));\r\n        }\r\n\r\n    /////////////////////////////////\r\n\r\n        blocks.push('=');\r\n        blocks.push(this.makeBlockButton(cat));\r\n\r\n    } else if (cat === 'variables') {\r\n\r\n        button = new PushButtonMorph(\r\n            null,\r\n            function () {\r\n                new VariableDialogMorph(\r\n                    null,\r\n                    addVar,\r\n                    myself\r\n                ).prompt(\r\n                    'Variable name',\r\n                    null,\r\n                    myself.world()\r\n                );\r\n            },\r\n            'Make a variable'\r\n        );\r\n        button.userMenu = helpMenu;\r\n        button.selector = 'addVariable';\r\n        button.showHelp = BlockMorph.prototype.showHelp;\r\n        blocks.push(button);\r\n\r\n        if (this.deletableVariableNames().length > 0) {\r\n            button = new PushButtonMorph(\r\n                null,\r\n                function () {\r\n                    var menu = new MenuMorph(\r\n                        myself.deleteVariable,\r\n                        null,\r\n                        myself\r\n                    );\r\n                    myself.deletableVariableNames().forEach(function (name) {\r\n                        menu.addItem(name, name);\r\n                    });\r\n                    menu.popUpAtHand(myself.world());\r\n                },\r\n                'Delete a variable'\r\n            );\r\n            button.userMenu = helpMenu;\r\n            button.selector = 'deleteVariable';\r\n            button.showHelp = BlockMorph.prototype.showHelp;\r\n            blocks.push(button);\r\n        }\r\n\r\n        blocks.push('-');\r\n\r\n        varNames = this.variables.allNames();\r\n        if (varNames.length > 0) {\r\n            varNames.forEach(function (name) {\r\n                blocks.push(variableWatcherToggle(name));\r\n                blocks.push(variableBlock(name));\r\n            });\r\n            blocks.push('-');\r\n        }\r\n\r\n        blocks.push(block('doSetVar'));\r\n        blocks.push(block('doChangeVar'));\r\n        blocks.push(block('doShowVar'));\r\n        blocks.push(block('doHideVar'));\r\n        blocks.push(block('doDeclareVariables'));\r\n\r\n    // inheritance:\r\n\r\n        if (StageMorph.prototype.enableInheritance) {\r\n            blocks.push('-');\r\n            blocks.push(block('doDeleteAttr'));\r\n        }\r\n\r\n    ///////////////////////////////\r\n\r\n        blocks.push('=');\r\n\r\n        blocks.push(block('reportNewList'));\r\n        blocks.push('-');\r\n        blocks.push(block('reportCONS'));\r\n        blocks.push(block('reportListItem'));\r\n        blocks.push(block('reportCDR'));\r\n        blocks.push('-');\r\n        blocks.push(block('reportListLength'));\r\n        blocks.push(block('reportListContainsItem'));\r\n        blocks.push('-');\r\n        blocks.push(block('doAddToList'));\r\n        blocks.push(block('doDeleteFromList'));\r\n        blocks.push(block('doInsertInList'));\r\n        blocks.push(block('doReplaceInList'));\r\n\r\n    // for debugging: ///////////////\r\n\r\n        if (this.world().isDevMode) {\r\n            blocks.push('-');\r\n            txt = new TextMorph(localize(\r\n                'development mode \\ndebugging primitives:'\r\n            ));\r\n            txt.fontSize = 9;\r\n            txt.setColor(this.paletteTextColor);\r\n            blocks.push(txt);\r\n            blocks.push('-');\r\n            blocks.push(block('reportMap'));\r\n            blocks.push('-');\r\n            blocks.push(block('doForEach'));\r\n            blocks.push(block('doShowTable'));\r\n        }\r\n\r\n    /////////////////////////////////\r\n\r\n        blocks.push('=');\r\n\r\n        if (StageMorph.prototype.enableCodeMapping) {\r\n            blocks.push(block('doMapCodeOrHeader'));\r\n            blocks.push(block('doMapValueCode'));\r\n            blocks.push(block('doMapListCode'));\r\n            blocks.push('-');\r\n            blocks.push(block('reportMappedCode'));\r\n            blocks.push('=');\r\n        }\r\n\r\n        blocks.push(this.makeBlockButton());\r\n\r\n \t}\r\n    return blocks;\r\n};\r\n\r\nSpriteMorph.prototype.makeBlockButton = function (category) {\r\n\t// answer a button that prompts the user to make a new block\r\n    var button = new PushButtonMorph(\r\n        this,\r\n\t\t'makeBlock',\r\n        'Make a block'\r\n    );\r\n\r\n    button.userMenu = function () {\r\n        var menu = new MenuMorph(this);\r\n        menu.addItem('help...', 'showHelp');\r\n        return menu;\r\n    };\r\n\r\n    button.selector = 'addCustomBlock';\r\n    button.showHelp = BlockMorph.prototype.showHelp;\r\n    return button;\r\n};\r\n\r\nSpriteMorph.prototype.makeBlock = function () {\r\n    // prompt the user to make a new block\r\n    var ide = this.parentThatIsA(IDE_Morph),\r\n        stage = this.parentThatIsA(StageMorph),\r\n        category = ide.currentCategory,\r\n        clr = SpriteMorph.prototype.blockColor[category],\r\n        myself = this,\r\n        dlg;\r\n    dlg = new BlockDialogMorph(\r\n        null,\r\n        function (definition) {\r\n            if (definition.spec !== '') {\r\n                if (definition.isGlobal) {\r\n                    stage.globalBlocks.push(definition);\r\n                } else {\r\n                    myself.customBlocks.push(definition);\r\n                }\r\n                ide.flushPaletteCache();\r\n                ide.refreshPalette();\r\n                new BlockEditorMorph(definition, myself).popUp();\r\n            }\r\n        },\r\n        myself\r\n    );\r\n    if (category !== 'variables') {\r\n        dlg.category = category;\r\n        dlg.categories.children.forEach(function (each) {\r\n            each.refresh();\r\n        });\r\n        dlg.types.children.forEach(function (each) {\r\n            each.setColor(clr);\r\n        each.refresh();\r\n        });\r\n    }\r\n    dlg.prompt(\r\n        'Make a block',\r\n        null,\r\n        myself.world()\r\n    );\r\n};\r\n\r\nSpriteMorph.prototype.palette = function (category) {\r\n    if (!this.paletteCache[category]) {\r\n        this.paletteCache[category] = this.freshPalette(category);\r\n    }\r\n    return this.paletteCache[category];\r\n};\r\n\r\nSpriteMorph.prototype.freshPalette = function (category) {\r\n    var palette = new ScrollFrameMorph(null, null, this.sliderColor),\r\n        unit = SyntaxElementMorph.prototype.fontSize,\r\n        x = 0,\r\n        y = 5,\r\n        ry = 0,\r\n        blocks,\r\n        hideNextSpace = false,\r\n        myself = this,\r\n        stage = this.parentThatIsA(StageMorph),\r\n        oldFlag = Morph.prototype.trackChanges,\r\n        shade = new Color(140, 140, 140),\r\n        searchButton,\r\n        makeButton;\r\n\r\n    Morph.prototype.trackChanges = false;\r\n\r\n    palette.owner = this;\r\n    palette.padding = unit / 2;\r\n    palette.color = this.paletteColor;\r\n    palette.growth = new Point(0, MorphicPreferences.scrollBarSize);\r\n\r\n    // toolbar:\r\n    \r\n    palette.toolBar = new AlignmentMorph('column');\r\n\r\n    searchButton = new PushButtonMorph(\r\n        this,\r\n        \"searchBlocks\",\r\n        new SymbolMorph(\"magnifierOutline\", 16)\r\n    );\r\n    searchButton.alpha = 0.2;\r\n    searchButton.padding = 1;\r\n    searchButton.hint = localize('find blocks') + '...';\r\n    searchButton.labelShadowColor = shade;\r\n    searchButton.drawNew();\r\n    searchButton.fixLayout();\r\n\tpalette.toolBar.add(searchButton); // Wiquid control the magnify icon for blocks research\r\n\r\n    makeButton = new PushButtonMorph(\r\n        this,\r\n        \"makeBlock\",\r\n        new SymbolMorph(\"cross\", 16)\r\n    );\r\n    makeButton.alpha = 0.2;\r\n    makeButton.padding = 1;\r\n    makeButton.hint = localize('Make a block') + '...';\r\n    makeButton.labelShadowColor = shade;\r\n    makeButton.drawNew();\r\n    makeButton.fixLayout();\r\n    palette.toolBar.add(makeButton);// Wiquid control the plus icon to add blocks\r\n\r\n\tpalette.toolBar.fixLayout();\r\n    palette.add(palette.toolBar); // Wiquid control the whole toolbar\r\n\r\n    // menu:\r\n    palette.userMenu = function () {\r\n        var menu = new MenuMorph(),\r\n            ide = this.parentThatIsA(IDE_Morph),\r\n            more = {\r\n                operators:\r\n                    ['reifyScript', 'reifyReporter', 'reifyPredicate'],\r\n                control:\r\n                    ['doWarp'],\r\n                variables:\r\n                    [\r\n                        'doDeclareVariables',\r\n                        'reportNewList',\r\n                        'reportCONS',\r\n                        'reportListItem',\r\n                        'reportCDR',\r\n                        'reportListLength',\r\n                        'reportListContainsItem',\r\n                        'doAddToList',\r\n                        'doDeleteFromList',\r\n                        'doInsertInList',\r\n                        'doReplaceInList'\r\n                    ]\r\n            };\r\n\r\n        function hasHiddenPrimitives() {\r\n            var defs = SpriteMorph.prototype.blocks,\r\n                hiddens = StageMorph.prototype.hiddenPrimitives;\r\n            return Object.keys(hiddens).some(function (any) {\r\n                return !isNil(defs[any]) && (defs[any].category === category\r\n                    || contains((more[category] || []), any));\r\n            });\r\n        }\r\n\r\n        function canHidePrimitives() {\r\n            return palette.contents.children.some(function (any) {\r\n                return contains(\r\n                    Object.keys(SpriteMorph.prototype.blocks),\r\n                    any.selector\r\n                );\r\n            });\r\n        }\r\n\r\n        menu.addPair(\r\n            [\r\n                new SymbolMorph(\r\n                    'magnifyingGlass',\r\n                    MorphicPreferences.menuFontSize\r\n                ),\r\n                localize('find blocks') + '...'\r\n            ],\r\n            function () {myself.searchBlocks(); },\r\n            '^F'\r\n        );\r\n        if (canHidePrimitives()) {\r\n            menu.addItem(\r\n                'hide primitives',\r\n                function () {\r\n                    var defs = SpriteMorph.prototype.blocks;\r\n                    Object.keys(defs).forEach(function (sel) {\r\n                        if (defs[sel].category === category) {\r\n                            StageMorph.prototype.hiddenPrimitives[sel] = true;\r\n                        }\r\n                    });\r\n                    (more[category] || []).forEach(function (sel) {\r\n                        StageMorph.prototype.hiddenPrimitives[sel] = true;\r\n                    });\r\n                    ide.flushBlocksCache(category);\r\n                    ide.refreshPalette();\r\n                }\r\n            );\r\n        }\r\n        if (hasHiddenPrimitives()) {\r\n            menu.addItem(\r\n                'show primitives',\r\n                function () {\r\n                    var hiddens = StageMorph.prototype.hiddenPrimitives,\r\n                        defs = SpriteMorph.prototype.blocks;\r\n                    Object.keys(hiddens).forEach(function (sel) {\r\n                        if (defs[sel] && (defs[sel].category === category)) {\r\n                            delete StageMorph.prototype.hiddenPrimitives[sel];\r\n                        }\r\n                    });\r\n                    (more[category] || []).forEach(function (sel) {\r\n                        delete StageMorph.prototype.hiddenPrimitives[sel];\r\n                    });\r\n                    ide.flushBlocksCache(category);\r\n                    ide.refreshPalette();\r\n                }\r\n            );\r\n        }\r\n        return menu;\r\n    };\r\n\r\n    // primitives:\r\n\r\n    blocks = this.blocksCache[category];\r\n    if (!blocks) {\r\n        blocks = this.blockTemplates(category);\r\n        if (this.isCachingPrimitives) {\r\n            this.blocksCache[category] = blocks;\r\n        }\r\n    }\r\n\r\n    blocks.forEach(function (block) {\r\n        if (block === null) {\r\n            return;\r\n        }\r\n        if (block === '-') {\r\n            if (hideNextSpace) {return; }\r\n            y += unit * 0.8;\r\n            hideNextSpace = true;\r\n        } else if (block === '=') {\r\n            if (hideNextSpace) {return; }\r\n            y += unit * 1.6;\r\n            hideNextSpace = true;\r\n        } else if (block === '#') {\r\n            x = 0;\r\n            y = ry;\r\n        } else {\r\n            hideNextSpace = false;\r\n            if (x === 0) {\r\n                y += unit * 0.3;\r\n            }\r\n            block.setPosition(new Point(x, y));\r\n            palette.addContents(block);\r\n            if (block instanceof ToggleMorph\r\n                    || (block instanceof RingMorph)) {\r\n                x = block.right() + unit / 2;\r\n                ry = block.bottom();\r\n            } else {\r\n                // if (block.fixLayout) {block.fixLayout(); }\r\n                x = 0;\r\n                y += block.height();\r\n            }\r\n        }\r\n    });\r\n\r\n    // global custom blocks:\r\n\r\n    if (stage) {\r\n        y += unit * 1.6;\r\n\r\n        stage.globalBlocks.forEach(function (definition) {\r\n            var block;\r\n            if (definition.category === category ||\r\n                    (category === 'variables'\r\n                        && contains(\r\n                            ['lists', 'other'],\r\n                            definition.category\r\n                        ))) {\r\n                block = definition.templateInstance();\r\n                y += unit * 0.3;\r\n                block.setPosition(new Point(x, y));\r\n                palette.addContents(block);\r\n                x = 0;\r\n                y += block.height();\r\n            }\r\n        });\r\n    }\r\n\r\n    // local custom blocks:\r\n\r\n    y += unit * 1.6;\r\n    this.customBlocks.forEach(function (definition) {\r\n        var block;\r\n        if (definition.category === category ||\r\n                (category === 'variables'\r\n                    && contains(\r\n                        ['lists', 'other'],\r\n                        definition.category\r\n                    ))) {\r\n            block = definition.templateInstance();\r\n            y += unit * 0.3;\r\n            block.setPosition(new Point(x, y));\r\n            palette.addContents(block);\r\n            x = 0;\r\n            y += block.height();\r\n        }\r\n    });\r\n\r\n    // inherited custom blocks:\r\n\r\n    // y += unit * 1.6;\r\n    if (this.exemplar) {\r\n        this.inheritedBlocks(true).forEach(function (definition) {\r\n            var block;\r\n            if (definition.category === category ||\r\n                    (category === 'variables'\r\n                        && contains(\r\n                            ['lists', 'other'],\r\n                            definition.category\r\n                        ))) {\r\n                block = definition.templateInstance();\r\n                y += unit * 0.3;\r\n                block.setPosition(new Point(x, y));\r\n                palette.addContents(block);\r\n                block.ghost();\r\n                x = 0;\r\n                y += block.height();\r\n            }\r\n        });\r\n    }\r\n\r\n    //layout\r\n\r\n    palette.scrollX(palette.padding);\r\n    palette.scrollY(palette.padding);\r\n\r\n    Morph.prototype.trackChanges = oldFlag;\r\n    return palette;\r\n};\r\n\r\n// SpriteMorph blocks searching\r\n\r\nSpriteMorph.prototype.blocksMatching = function (\r\n    searchString,\r\n    strictly,\r\n    types, // optional, ['hat', 'command', 'reporter', 'predicate']\r\n    varNames // optional, list of reachable unique variable names\r\n) {\r\n    // answer an array of block templates whose spec contains\r\n    // the given search string, ordered by descending relevance\r\n    // types is an optional array containing block types the search\r\n    // is limited to, e.g. \"command\", \"hat\", \"reporter\", \"predicate\".\r\n    // Note that \"predicate\" is not subsumed by \"reporter\" and has\r\n    // to be specified explicitly.\r\n    // if no types are specified all blocks are searched\r\n    var blocks = [],\r\n        blocksDict,\r\n        myself = this,\r\n        search = searchString.toLowerCase(),\r\n        stage = this.parentThatIsA(StageMorph),\r\n        reporterized;\r\n\r\n    if (!types || !types.length) {\r\n        types = ['hat', 'command', 'reporter', 'predicate', 'ring'];\r\n    }\r\n    if (!varNames) {varNames = []; }\r\n\r\n    function labelOf(aBlockSpec) {\r\n        var words = (BlockMorph.prototype.parseSpec(aBlockSpec)),\r\n            filtered = words.filter(\r\n                function (each) {return (each.indexOf('%') !== 0); }\r\n            );\r\n        return filtered.join(' ');\r\n    }\r\n\r\n    function fillDigits(anInt, totalDigits, fillChar) {\r\n        var ans = String(anInt);\r\n        while (ans.length < totalDigits) {ans = fillChar + ans; }\r\n        return ans;\r\n    }\r\n\r\n    function relevance(aBlockLabel, aSearchString) {\r\n        var lbl = ' ' + aBlockLabel,\r\n            idx = lbl.indexOf(aSearchString),\r\n            atWord;\r\n        if (idx === -1) {return -1; }\r\n        atWord = (lbl.charAt(idx - 1) === ' ');\r\n        if (strictly && !atWord) {return -1; }\r\n        return (atWord ? '1' : '2') + fillDigits(idx, 4, '0');\r\n    }\r\n\r\n    function primitive(selector) {\r\n        var newBlock = SpriteMorph.prototype.blockForSelector(selector, true);\r\n        newBlock.isTemplate = true;\r\n        return newBlock;\r\n    }\r\n\r\n    // variable getters\r\n    varNames.forEach(function (vName) {\r\n        var rel = relevance(labelOf(vName.toLowerCase()), search);\r\n        if (rel !== -1) {\r\n            blocks.push([myself.variableBlock(vName), rel + '1']);\r\n        }\r\n    });\r\n    // custom blocks\r\n    [this.customBlocks, stage.globalBlocks].forEach(function (blocksList) {\r\n        blocksList.forEach(function (definition) {\r\n            if (contains(types, definition.type)) {\r\n                var spec = localize(definition.blockSpec()).toLowerCase(),\r\n                    rel = relevance(labelOf(spec), search);\r\n                if (rel !== -1) {\r\n                    blocks.push([definition.templateInstance(), rel + '2']);\r\n                }\r\n            }\r\n        });\r\n    });\r\n    // primitives\r\n    blocksDict = SpriteMorph.prototype.blocks;\r\n    Object.keys(blocksDict).forEach(function (selector) {\r\n        if (!StageMorph.prototype.hiddenPrimitives[selector] &&\r\n                contains(types, blocksDict[selector].type)) {\r\n            var block = blocksDict[selector],\r\n                spec = localize(block.alias || block.spec).toLowerCase(),\r\n                rel = relevance(labelOf(spec), search);\r\n            if (\r\n                (rel !== -1) &&\r\n                    (!block.dev) &&\r\n                    (!block.only || (block.only === myself.constructor))\r\n            ) {\r\n                blocks.push([primitive(selector), rel + '3']);\r\n            }\r\n        }\r\n    });\r\n    // infix arithmetic expression\r\n    if (contains(types, 'reporter')) {\r\n        reporterized = this.reporterize(searchString);\r\n        if (reporterized) {\r\n            // reporterized.isTemplate = true;\r\n            // reporterized.isDraggable = false;\r\n            blocks.push([reporterized, '']);\r\n        }\r\n    }\r\n    blocks.sort(function (x, y) {return x[1] < y[1] ? -1 : 1; });\r\n    return blocks.map(function (each) {return each[0]; });\r\n};\r\n\r\nSpriteMorph.prototype.searchBlocks = function (\r\n    searchString,\r\n    types,\r\n    varNames,\r\n    scriptFocus\r\n) {\r\n    var myself = this,\r\n        unit = SyntaxElementMorph.prototype.fontSize,\r\n        ide = this.parentThatIsA(IDE_Morph),\r\n        oldSearch = '',\r\n        searchBar = new InputFieldMorph(searchString || ''),\r\n        searchPane = ide.createPalette('forSearch'),\r\n        blocksList = [],\r\n        selection,\r\n        focus;\r\n\r\n    function showSelection() {\r\n        if (focus) {focus.destroy(); }\r\n        if (!selection || !scriptFocus) {return; }\r\n        focus = selection.outline(\r\n            MorphicPreferences.isFlat ? new Color(150, 200, 255)\r\n                    : new Color(255, 255, 255),\r\n            2\r\n        );\r\n        searchPane.contents.add(focus);\r\n        focus.scrollIntoView();\r\n    }\r\n\r\n    function show(blocks) {\r\n        var oldFlag = Morph.prototype.trackChanges,\r\n            x = searchPane.contents.left() + 5,\r\n            y = (searchBar.bottom() + unit);\r\n        blocksList = blocks;\r\n        selection = null;\r\n        if (blocks.length && scriptFocus) {\r\n            selection = blocks[0];\r\n        }\r\n        Morph.prototype.trackChanges = false;\r\n        searchPane.contents.children = [searchPane.contents.children[0]];\r\n        blocks.forEach(function (block) {\r\n            block.setPosition(new Point(x, y));\r\n            searchPane.addContents(block);\r\n            y += block.height();\r\n            y += unit * 0.3;\r\n        });\r\n        Morph.prototype.trackChanges = oldFlag;\r\n        showSelection();\r\n        searchPane.changed();\r\n    }\r\n\r\n    searchPane.owner = this;\r\n    searchPane.color = myself.paletteColor;\r\n    searchPane.contents.color = myself.paletteColor;\r\n    searchPane.addContents(searchBar);\r\n    searchBar.drawNew();\r\n    searchBar.setWidth(ide.logo.width() - 30);\r\n    searchBar.contrast = 90;\r\n    searchBar.setPosition(\r\n        searchPane.contents.topLeft().add(new Point(10, 10))\r\n    );\r\n    searchBar.drawNew();\r\n\r\n    searchPane.accept = function () {\r\n        var search;\r\n        if (scriptFocus) {\r\n            searchBar.cancel();\r\n            if (selection) {\r\n                scriptFocus.insertBlock(selection);\r\n            }\r\n        } else {\r\n            search = searchBar.getValue();\r\n            if (search.length > 0) {\r\n                show(myself.blocksMatching(search));\r\n            }\r\n        }\r\n    };\r\n\r\n    searchPane.reactToKeystroke = function (evt) {\r\n        var search, idx, code = evt ? evt.keyCode : 0;\r\n        switch (code) {\r\n        case 38: // up arrow\r\n            if (!scriptFocus || !selection) {return; }\r\n            idx = blocksList.indexOf(selection) - 1;\r\n            if (idx < 0) {\r\n                idx = blocksList.length - 1;\r\n            }\r\n            selection = blocksList[idx];\r\n            showSelection();\r\n            return;\r\n        case 40: // down arrow\r\n            if (!scriptFocus || !selection) {return; }\r\n            idx = blocksList.indexOf(selection) + 1;\r\n            if (idx >= blocksList.length) {\r\n                idx = 0;\r\n            }\r\n            selection = blocksList[idx];\r\n            showSelection();\r\n            return;\r\n        default:\r\n            search = searchBar.getValue();\r\n            if (search !== oldSearch) {\r\n                oldSearch = search;\r\n                show(myself.blocksMatching(\r\n                    search,\r\n                    search.length < 2,\r\n                    types,\r\n                    varNames\r\n                ));\r\n            }\r\n        }\r\n    };\r\n\r\n    searchBar.cancel = function () {\r\n        ide.refreshPalette();\r\n        ide.palette.adjustScrollBars();\r\n    };\r\n\r\n    ide.fixLayout('refreshPalette');\r\n    searchBar.edit();\r\n    if (searchString) {searchPane.reactToKeystroke(); }\r\n};\r\n\r\n// SpritMorph parsing simple arithmetic expressions to reporter blocks\r\n\r\nSpriteMorph.prototype.reporterize = function (expressionString) {\r\n    // highly experimental Christmas Easter Egg 2016 :-)\r\n    var ast;\r\n\r\n    function parseInfix(expression, operator, already) {\r\n        // very basic diadic infix parser for arithmetic expressions\r\n        // with strict left-to-right operator precedence (as in Smalltalk)\r\n        // which can be overriden by - nested - parentheses.\r\n        // assumes well-formed expressions, no graceful error handling yet.\r\n\r\n        var inputs = ['', ''],\r\n            idx = 0,\r\n            ch;\r\n\r\n        function format(value) {\r\n            return value instanceof Array || isNaN(+value) ? value : +value;\r\n        }\r\n\r\n        function nested() {\r\n            var level = 1,\r\n                expr = '';\r\n            while (idx < expression.length) {\r\n                ch = expression[idx];\r\n                idx += 1;\r\n                switch (ch) {\r\n                case '(':\r\n                    level += 1;\r\n                    break;\r\n                case ')':\r\n                    level -= 1;\r\n                    if (!level) {\r\n                        return expr;\r\n                    }\r\n                    break;\r\n                }\r\n                expr += ch;\r\n            }\r\n        }\r\n\r\n        while (idx < expression.length) {\r\n            ch = expression[idx];\r\n            idx += 1;\r\n            switch (ch) {\r\n            case ' ':\r\n                break;\r\n            case '(':\r\n                if (inputs[operator ? 1 : 0].length) {\r\n                    inputs[operator ? 1 : 0] = [\r\n                        inputs[operator ? 1 : 0],\r\n                        parseInfix(nested())\r\n                    ];\r\n                } else {\r\n                    inputs[operator ? 1 : 0] = parseInfix(nested());\r\n                }\r\n                break;\r\n            case '-':\r\n            case '+':\r\n            case '*':\r\n            case '/':\r\n            case '%':\r\n            case '=':\r\n            case '<':\r\n            case '>':\r\n            case '&':\r\n            case '|':\r\n                if (!operator && !inputs[0].length) {\r\n                    inputs[0] = ch;\r\n                } else if (operator) {\r\n                    if (!inputs[1].length) {\r\n                        inputs[1] = ch;\r\n                    } else {\r\n                        return parseInfix(\r\n                            expression.slice(idx),\r\n                            ch,\r\n                            [operator, already, format(inputs[1])]\r\n                        );\r\n                    }\r\n                } else {\r\n                    operator = ch;\r\n                    already = format(inputs[0]);\r\n                }\r\n                break;\r\n            default:\r\n                inputs[operator ? 1 : 0] += ch;\r\n            }\r\n        }\r\n        if (operator) {\r\n            return [operator, already, format(inputs[1])];\r\n        }\r\n        return format(inputs[0]);\r\n    }\r\n\r\n    function blockFromAST(ast) {\r\n        var block, selectors, monads, alias, key, sel, i, inps,\r\n            off = 1,\r\n            reverseDict = {};\r\n        selectors = {\r\n            '+': 'reportSum',\r\n            '-': 'reportDifference',\r\n            '*': 'reportProduct',\r\n            '/': 'reportQuotient',\r\n            '%': 'reportModulus',\r\n            '=': 'reportEquals',\r\n            '<': 'reportLessThan',\r\n            '>': 'reportGreaterThan',\r\n            '&': 'reportAnd',\r\n            '|': 'reportOr',\r\n            round: 'reportRound',\r\n            not: 'reportNot'\r\n        };\r\n        monads = ['abs', 'ceiling', 'floor', 'sqrt', 'sin', 'cos', 'tan',\r\n            'asin', 'acos', 'atan', 'ln', 'log', 'round', 'not'];\r\n        alias = {\r\n            ceil: 'ceiling',\r\n            '!' : 'not'\r\n        };\r\n        monads.concat(['true', 'false']).forEach(function (word) {\r\n            reverseDict[localize(word).toLowerCase()] = word;\r\n        });\r\n        key = alias[ast[0]] || reverseDict[ast[0].toLowerCase()] || ast[0];\r\n        if (contains(monads, key)) { // monadic\r\n            sel = selectors[key];\r\n            if (sel) { // single input\r\n                block = SpriteMorph.prototype.blockForSelector(sel);\r\n                inps = block.inputs();\r\n            } else { // two inputs, first is function name\r\n                block = SpriteMorph.prototype.blockForSelector('reportMonadic');\r\n                inps = block.inputs();\r\n                inps[0].setContents([key]);\r\n                off = 0;\r\n            }\r\n        } else { // diadic\r\n            block = SpriteMorph.prototype.blockForSelector(selectors[key]);\r\n            inps = block.inputs();\r\n        }\r\n        for (i = 1; i < ast.length; i += 1) {\r\n            if (ast[i] instanceof Array) {\r\n                block.silentReplaceInput(inps[i - off], blockFromAST(ast[i]));\r\n            } else if (isString(ast[i])) {\r\n                if (contains(\r\n                    ['true', 'false'], reverseDict[ast[i]] || ast[i])\r\n                ) {\r\n                    block.silentReplaceInput(\r\n                        inps[i - off],\r\n                        SpriteMorph.prototype.blockForSelector(\r\n                            (reverseDict[ast[i]] || ast[i]) === 'true' ?\r\n                                    'reportTrue' : 'reportFalse'\r\n                        )\r\n                    );\r\n                } else if (ast[i] !== '_') {\r\n                    block.silentReplaceInput(\r\n                        inps[i - off],\r\n                        SpriteMorph.prototype.variableBlock(ast[i])\r\n                    );\r\n                }\r\n            } else { // number\r\n                inps[i - off].setContents(ast[i]);\r\n            }\r\n        }\r\n        block.isDraggable = true;\r\n        block.fixLayout();\r\n        block.fixBlockColor(null, true);\r\n        return block;\r\n    }\r\n\r\n    if (expressionString.length > 100) {return null; }\r\n    try {\r\n        ast = parseInfix(expressionString);\r\n        return ast instanceof Array ? blockFromAST(ast) : null;\r\n    } catch (error) {\r\n        return null;\r\n    }\r\n};\r\n\r\n// SpriteMorph variable management\r\n\r\nSpriteMorph.prototype.addVariable = function (name, isGlobal) {\r\n    var ide = this.parentThatIsA(IDE_Morph);\r\n    if (isGlobal) {\r\n        this.globalVariables().addVar(name);\r\n        if (ide) {\r\n            ide.flushBlocksCache('variables');\r\n        }\r\n    } else {\r\n        this.variables.addVar(name);\r\n        this.blocksCache.variables = null;\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.deleteVariable = function (varName) {\r\n    var ide = this.parentThatIsA(IDE_Morph);\r\n    if (!contains(this.inheritedVariableNames(true), varName)) {\r\n        // check only shadowed variables\r\n        this.deleteVariableWatcher(varName);\r\n    }\r\n    this.variables.deleteVar(varName);\r\n    if (ide) {\r\n        ide.flushBlocksCache('variables'); // b/c the var could be global\r\n        ide.refreshPalette();\r\n    }\r\n};\r\n\r\n// SpriteMorph costume management\r\n\r\nSpriteMorph.prototype.addCostume = function (costume) {\r\n    if (!costume.name) {\r\n        costume.name = 'costume' + (this.costumes.length() + 1);\r\n    }\r\n    this.shadowAttribute('costumes');\r\n    this.costumes.add(costume);\r\n};\r\n\r\nSpriteMorph.prototype.wearCostume = function (costume, noShadow) {\r\n    var x = this.xPosition ? this.xPosition() : null,\r\n        y = this.yPosition ? this.yPosition() : null,\r\n        idx = isNil(costume) ? null : this.costumes.asArray().indexOf(costume),\r\n        isWarped = this.isWarped;\r\n    if (isWarped) {\r\n        this.endWarp();\r\n    }\r\n    this.changed();\r\n    this.costume = costume;\r\n    this.drawNew();\r\n    this.changed();\r\n    if (isWarped) {\r\n        this.startWarp();\r\n    }\r\n    if (x !== null) {\r\n        this.silentGotoXY(x, y, true); // just me\r\n    }\r\n    if (this.positionTalkBubble) { // the stage doesn't talk\r\n        this.positionTalkBubble();\r\n    }\r\n    this.version = Date.now();\r\n\r\n    // propagate to children that inherit my costume #\r\n    if (!noShadow) {\r\n        this.shadowAttribute('costume #');\r\n    }\r\n    this.specimens().forEach(function (instance) {\r\n        if (instance.cachedPropagation) {\r\n            if (instance.inheritsAttribute('costume #')) {\r\n                if (idx === null) {\r\n                    instance.wearCostume(null, true);\r\n                } else if (idx === -1) {\r\n                    instance.wearCostume(costume, true);\r\n                } else {\r\n                    instance.doSwitchToCostume(idx + 1, true);\r\n                }\r\n            }\r\n        }\r\n    });\r\n\r\n};\r\n\r\nSpriteMorph.prototype.getCostumeIdx = function () {\r\n    if (this.inheritsAttribute('costume #')) {\r\n        return this.exemplar.getCostumeIdx();\r\n    }\r\n    return this.costumes.asArray().indexOf(this.costume) + 1;\r\n};\r\n\r\nSpriteMorph.prototype.doWearNextCostume = function () {\r\n    var arr = this.costumes.asArray(),\r\n        idx;\r\n    if (arr.length > 1) {\r\n        idx = arr.indexOf(this.costume);\r\n        if (idx > -1) {\r\n            idx += 1;\r\n            if (idx > (arr.length - 1)) {\r\n                idx = 0;\r\n            }\r\n            this.wearCostume(arr[idx]);\r\n        }\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.doWearPreviousCostume = function () {\r\n    var arr = this.costumes.asArray(),\r\n        idx;\r\n    if (arr.length > 1) {\r\n        idx = arr.indexOf(this.costume);\r\n        if (idx > -1) {\r\n            idx -= 1;\r\n            if (idx < 0) {\r\n                idx = arr.length - 1;\r\n            }\r\n            this.wearCostume(arr[idx]);\r\n        }\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.doSwitchToCostume = function (id, noShadow) {\r\n    if (id instanceof Costume) { // allow first-class costumes\r\n        this.wearCostume(id, noShadow);\r\n        return;\r\n    }\r\n\r\n    var num,\r\n        arr = this.costumes.asArray(),\r\n        costume;\r\n    if (\r\n        contains(\r\n            [localize('Turtle'), localize('Empty')],\r\n            (id instanceof Array ? id[0] : null)\r\n        )\r\n    ) {\r\n        costume = null;\r\n    } else {\r\n        if (id === -1) {\r\n            this.doWearPreviousCostume();\r\n            return;\r\n        }\r\n        costume = detect(arr, function (cst) {\r\n            return cst.name === id;\r\n        });\r\n        if (costume === null) {\r\n            num = parseFloat(id);\r\n            if (num === 0) {\r\n                costume = null;\r\n            } else {\r\n                costume = arr[num - 1] || null;\r\n            }\r\n        }\r\n    }\r\n    this.wearCostume(costume, noShadow);\r\n};\r\n\r\nSpriteMorph.prototype.reportCostumes = function () {\r\n    return this.costumes;\r\n};\r\n\r\n// SpriteMorph sound management\r\n\r\nSpriteMorph.prototype.addSound = function (audio, name) {\r\n    this.shadowAttribute('sounds');\r\n    this.sounds.add(new Sound(audio, name));\r\n};\r\n\r\nSpriteMorph.prototype.playSound = function (name) {\r\n    var stage = this.parentThatIsA(StageMorph),\r\n        sound = name instanceof Sound ? name : detect(\r\n            this.sounds.asArray(),\r\n            function (s) {return s.name === name; }\r\n        ),\r\n        active;\r\n    if (sound) {\r\n        active = sound.play();\r\n        if (stage) {\r\n            stage.activeSounds.push(active);\r\n            stage.activeSounds = stage.activeSounds.filter(function (aud) {\r\n                return !aud.ended && !aud.terminated;\r\n            });\r\n        }\r\n        return active;\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.reportSounds = function () {\r\n    return this.sounds;\r\n};\r\n\r\n// SpriteMorph user menu\r\n\r\nSpriteMorph.prototype.userMenu = function () {\r\n    var ide = this.parentThatIsA(IDE_Morph),\r\n        menu = new MenuMorph(this);\r\n\r\n    if (ide && ide.isAppMode) {\r\n        // menu.addItem('help', 'nop');\r\n        return menu;\r\n    }\r\n    if (!this.isTemporary) {\r\n        menu.addItem(\"duplicate\", 'duplicate');\r\n        if (StageMorph.prototype.enableInheritance) {\r\n            menu.addItem(\"clone\", 'instantiate');\r\n            menu.addLine();\r\n        }\r\n    }\r\n    menu.addItem(\"delete\", 'remove');\r\n    menu.addItem(\"move\", 'moveCenter');\r\n    if (this.costume) {\r\n        menu.addItem(\r\n            \"pivot\",\r\n            'moveRotationCenter',\r\n            'edit the costume\\'s\\nrotation center'\r\n        );\r\n    }\r\n    if (this.isTemporary) {\r\n        if (StageMorph.prototype.enableInheritance) {\r\n            menu.addItem(\r\n                \"edit\",\r\n                'perpetuateAndEdit',\r\n                'make permanent and\\nshow in the sprite corral'\r\n            );\r\n        }\r\n    } else {\r\n        menu.addItem(\"edit\", 'edit');\r\n    }\r\n    menu.addLine();\r\n    if (this.anchor) {\r\n        menu.addItem(\r\n            localize('detach from') + ' ' + this.anchor.name,\r\n            'detachFromAnchor'\r\n        );\r\n    }\r\n    if (this.parts.length) {\r\n        menu.addItem('detach all parts', 'detachAllParts');\r\n    }\r\n    menu.addItem(\"export...\", 'exportSprite');\r\n    return menu;\r\n};\r\n\r\nSpriteMorph.prototype.exportSprite = function () {\r\n    if (this.isTemporary) {return; }\r\n    var ide = this.parentThatIsA(IDE_Morph);\r\n    if (ide) {\r\n        ide.exportSprite(this);\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.edit = function () {\r\n    var ide = this.parentThatIsA(IDE_Morph);\r\n    if (ide && !ide.isAppMode) {\r\n        ide.selectSprite(this);\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.showOnStage = function () {\r\n    var stage = this.parentThatIsA(StageMorph);\r\n    if (stage) {\r\n        this.keepWithin(stage);\r\n        stage.add(this);\r\n    }\r\n    this.show();\r\n};\r\n\r\nSpriteMorph.prototype.duplicate = function () {\r\n    var ide = this.parentThatIsA(IDE_Morph);\r\n    if (ide) {\r\n        ide.duplicateSprite(this);\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.instantiate = function () {\r\n    var ide = this.parentThatIsA(IDE_Morph);\r\n    if (ide) {\r\n        ide.instantiateSprite(this);\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.remove = function () {\r\n    var ide = this.parentThatIsA(IDE_Morph);\r\n    if (ide) {\r\n        ide.removeSprite(this);\r\n    }\r\n};\r\n\r\n// SpriteMorph cloning\r\n\r\n/*\r\n    clones are temporary, partially shallow copies of sprites that don't\r\n    appear as icons in the corral. Clones get deleted when the red stop button\r\n    is pressed. Shallow-copying clones' scripts and costumes makes spawning\r\n    very fast, so they can be used for particle system simulations.\r\n    This speed-up, however, comes at the cost of some detrimental side\r\n    effects: Changes to a costume or a script of the original sprite are\r\n    in some cases shared with all of its clones, however such shared changes\r\n    are hard to predict for users and not actively propagated, so they don't\r\n    offer any reliable feature, and will not be supported as such.\r\n    Changes to the original sprite's scripts affect all of its clones, unless\r\n    the script contains any custom block whose definition contains one or more\r\n    block variables (in which case the script does get deep-copied).\r\n    The original sprite's scripting area, costumes wardrobe or sounds jukebox\r\n    are also not shared. therefore adding or deleting a script, sound or\r\n    costume in the original sprite has no effect on any of its clones.\r\n*/\r\n\r\nSpriteMorph.prototype.createClone = function (immediately) {\r\n    var stage = this.parentThatIsA(StageMorph),\r\n        clone;\r\n    if (stage && stage.cloneCount <= 5000) {\r\n        clone = this.fullCopy(true);\r\n        clone.clonify(stage, immediately);\r\n    }\r\n    return clone;\r\n};\r\n\r\nSpriteMorph.prototype.newClone = function (immediately) {\r\n    var clone = this.createClone(immediately);\r\n    if (isNil(clone)) {\r\n        throw new Error('exceeding maximum number of clones');\r\n    }\r\n    return clone;\r\n};\r\n\r\nSpriteMorph.prototype.clonify = function (stage, immediately) {\r\n    var hats,\r\n        myself = this;\r\n    this.parts.forEach(function (part) {\r\n        part.clonify(stage);\r\n    });\r\n    stage.cloneCount += 1;\r\n    this.cloneOriginName = this.isTemporary ?\r\n            this.cloneOriginName : this.name;\r\n    this.isTemporary = true;\r\n    this.name = '';\r\n    stage.add(this);\r\n    hats = this.allHatBlocksFor('__clone__init__');\r\n    hats.forEach(function (block) {\r\n        stage.threads.startProcess(\r\n            block,\r\n            myself,\r\n            stage.isThreadSafe,\r\n            null, // export result\r\n            null, // callback\r\n            null, // is clicked\r\n            immediately // without yielding\r\n        );\r\n    });\r\n    this.endWarp();\r\n};\r\n\r\nSpriteMorph.prototype.initClone = function (hats) {\r\n    // used when manually instantiating a sprite in the IDE\r\n    var stage = this.parentThatIsA(StageMorph),\r\n        myself = this;\r\n    if (stage) {\r\n        hats.forEach(function (block) {\r\n            stage.threads.startProcess(block, myself, stage.isThreadSafe);\r\n        });\r\n        this.endWarp();\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.removeClone = function () {\r\n    var exemplar = this.exemplar;\r\n    if (this.isTemporary) {\r\n        // this.stopTalking();\r\n        this.parent.threads.stopAllForReceiver(this);\r\n        this.corpsify();\r\n        this.instances.forEach(function (child) {\r\n            if (child.isTemporary) {\r\n                child.setExemplar(exemplar);\r\n            }\r\n        });\r\n        this.destroy();\r\n        this.parent.cloneCount -= 1;\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.perpetuate = function () {\r\n    // make a temporary sprite (clone) permanent\r\n    var stage = this.parentThatIsA(StageMorph),\r\n        ide = this.parentThatIsA(IDE_Morph);\r\n\r\n\t// make sure my exemplar-chain is fully perpetuated\r\n    if (this.exemplar) {\r\n        this.exemplar.perpetuate();\r\n    }\r\n    if (!this.isTemporary || !stage || !ide) {\r\n        return;\r\n    }\r\n    this.isTemporary = false;\r\n    this.name = ide.newSpriteName(this.cloneOriginName);\r\n    this.cloneOriginName = '';\r\n    stage.cloneCount -= 1;\r\n    ide.corral.addSprite(this);\r\n    ide.sprites.add(this);\r\n    this.parts.forEach(function (part) {\r\n        part.perpetuate();\r\n    });\r\n};\r\n\r\nSpriteMorph.prototype.perpetuateAndEdit = function () {\r\n    var ide = this.parentThatIsA(IDE_Morph);\r\n    if (ide) {\r\n        this.perpetuate();\r\n        ide.selectSprite(this);\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.release = function () {\r\n    // turn a permenent sprite that's an instance of another one\r\n    // into a temporary one (clone), that will vanish either when\r\n    // the \"delete this clone\" operation is executed or when the user\r\n    // hits the red stop sign button in the IDE\r\n    var stage = this.parentThatIsA(StageMorph),\r\n        ide = this.parentThatIsA(IDE_Morph),\r\n        idx;\r\n\r\n    if (this.isTemporary || !this.exemplar || !stage || !ide) {\r\n        return;\r\n    }\r\n\r\n\t// make sure all parts and instances are also released\r\n    this.parts.forEach(function (part) {\r\n        part.release();\r\n    });\r\n    this.instances.forEach(function (inst) {\r\n    \tinst.release();\r\n    });\r\n    this.isTemporary = true;\r\n    this.name = '';\r\n    this.cloneOriginName = this.exemplar.name;\r\n    stage.cloneCount += 1;\r\n    idx = ide.sprites.asArray().indexOf(this) + 1;\r\n    stage.watchers().forEach(function (watcher) {\r\n        if (watcher.object() === this) {\r\n            watcher.destroy();\r\n        }\r\n    });\r\n    if (idx > 0) {\r\n        ide.sprites.remove(idx);\r\n    }\r\n    ide.createCorral();\r\n    ide.fixLayout();\r\n    if (ide.currentSprite === this) {\r\n        ide.currentSprite = detect(\r\n            stage.children,\r\n            function (morph) {\r\n                return morph instanceof SpriteMorph && !morph.isTemporary;\r\n            }\r\n        ) || this.stage;\r\n    }\r\n    ide.selectSprite(ide.currentSprite);\r\n};\r\n\r\n// SpriteMorph deleting\r\n\r\nSpriteMorph.prototype.corpsify = function () {\r\n    this.isCorpse = true;\r\n    this.version = Date.now();\r\n};\r\n\r\n// SpriteMorph primitives\r\n\r\n// SpriteMorph hiding and showing:\r\n\r\n/*\r\n    override the inherited behavior to also hide/show all\r\n    nested parts.\r\n*/\r\n\r\nSpriteMorph.prototype.hide = function () {\r\n    SpriteMorph.uber.hide.call(this);\r\n    this.parts.forEach(function (part) {part.hide(); });\r\n};\r\n\r\nSpriteMorph.prototype.show = function () {\r\n    SpriteMorph.uber.show.call(this);\r\n    this.parts.forEach(function (part) {part.show(); });\r\n};\r\n\r\n// SpriteMorph pen color\r\n\r\nSpriteMorph.prototype.setColor = function (aColor) {\r\n    var x = this.xPosition(),\r\n        y = this.yPosition();\r\n    if (!this.color.eq(aColor)) {\r\n        this.color = aColor.copy();\r\n        if (!this.costume) {\r\n            this.drawNew();\r\n            this.silentGotoXY(x, y);\r\n        }\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.getHue = function () {\r\n    return this.color.hsv()[0] * 100;\r\n};\r\n\r\nSpriteMorph.prototype.setHue = function (num) {\r\n    var hsv = this.color.hsv(),\r\n        x = this.xPosition(),\r\n        y = this.yPosition();\r\n\r\n    hsv[0] = Math.max(Math.min(+num || 0, 100), 0) / 100;\r\n    hsv[1] = 1; // we gotta fix this at some time\r\n    this.color.set_hsv.apply(this.color, hsv);\r\n    if (!this.costume) {\r\n        this.drawNew();\r\n        this.changed();\r\n    }\r\n    this.gotoXY(x, y);\r\n};\r\n\r\nSpriteMorph.prototype.changeHue = function (delta) {\r\n    this.setHue(this.getHue() + (+delta || 0));\r\n};\r\n\r\nSpriteMorph.prototype.getBrightness = function () {\r\n    return this.color.hsv()[2] * 100;\r\n};\r\n\r\nSpriteMorph.prototype.setBrightness = function (num) {\r\n    var hsv = this.color.hsv(),\r\n        x = this.xPosition(),\r\n        y = this.yPosition();\r\n\r\n    hsv[1] = 1; // we gotta fix this at some time\r\n    hsv[2] = Math.max(Math.min(+num || 0, 100), 0) / 100;\r\n    this.color.set_hsv.apply(this.color, hsv);\r\n    if (!this.costume) {\r\n        this.drawNew();\r\n        this.changed();\r\n    }\r\n    this.gotoXY(x, y);\r\n};\r\n\r\nSpriteMorph.prototype.changeBrightness = function (delta) {\r\n    this.setBrightness(this.getBrightness() + (+delta || 0));\r\n};\r\n\r\n// SpriteMorph layers\r\n\r\nSpriteMorph.prototype.comeToFront = function () {\r\n    if (this.parent) {\r\n        this.parent.add(this);\r\n        this.changed();\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.goBack = function (layers) {\r\n    var layer,\r\n        newLayer = +layers,\r\n        targetLayer;\r\n\r\n    if (!this.parent) {return null; }\r\n    layer = this.parent.children.indexOf(this);\r\n    this.parent.removeChild(this);\r\n    targetLayer = Math.max(layer - newLayer, 0);\r\n    this.parent.children.splice(targetLayer, null, this);\r\n    this.parent.changed();\r\n};\r\n\r\n// SpriteMorph collision detection optimization\r\n\r\nSpriteMorph.prototype.overlappingImage = function (otherSprite) {\r\n    // overrides method from Morph because Sprites aren't nested Morphs\r\n    var oRect = this.bounds.intersect(otherSprite.bounds),\r\n        oImg = newCanvas(oRect.extent(), true),\r\n        ctx = oImg.getContext('2d');\r\n\r\n    if (oRect.width() < 1 || oRect.height() < 1) {\r\n        return newCanvas(new Point(1, 1), true);\r\n    }\r\n    ctx.drawImage(\r\n        this.image,\r\n        this.left() - oRect.left(),\r\n        this.top() - oRect.top()\r\n    );\r\n    ctx.globalCompositeOperation = 'source-in';\r\n    ctx.drawImage(\r\n        otherSprite.image,\r\n        otherSprite.left() - oRect.left(),\r\n        otherSprite.top() - oRect.top()\r\n    );\r\n    return oImg;\r\n};\r\n\r\n// SpriteMorph stamping\r\n\r\nSpriteMorph.prototype.doStamp = function () {\r\n    var stage = this.parent,\r\n        context = stage.penTrails().getContext('2d'),\r\n        isWarped = this.isWarped,\r\n        originalAlpha = context.globalAlpha;\r\n\r\n    if (isWarped) {\r\n        this.endWarp();\r\n    }\r\n    context.save();\r\n    context.scale(1 / stage.scale, 1 / stage.scale);\r\n    context.globalAlpha = this.alpha;\r\n    context.drawImage(\r\n        this.image,\r\n        (this.left() - stage.left()),\r\n        (this.top() - stage.top())\r\n    );\r\n    context.globalAlpha = originalAlpha;\r\n    context.restore();\r\n    this.changed();\r\n    if (isWarped) {\r\n        this.startWarp();\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.clear = function () {\r\n    this.parent.clearPenTrails();\r\n};\r\n\r\n// SpriteMorph pen size\r\n\r\nSpriteMorph.prototype.setSize = function (size) {\r\n    // pen size\r\n    if (!isNaN(size)) {\r\n        this.size = Math.min(Math.max(+size, 0.0001), 1000);\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.changeSize = function (delta) {\r\n    this.setSize(this.size + (+delta || 0));\r\n};\r\n\r\n// SpriteMorph scale\r\n\r\nSpriteMorph.prototype.getScale = function () {\r\n    // answer my scale in percent\r\n    if (this.inheritsAttribute('size')) {\r\n        return this.exemplar.getScale();\r\n    }\r\n    return this.scale * 100;\r\n};\r\n\r\nSpriteMorph.prototype.setScale = function (percentage, noShadow) {\r\n    // set my (absolute) scale in percent\r\n    var x = this.xPosition(),\r\n        y = this.yPosition(),\r\n        isWarped = this.isWarped,\r\n        realScale,\r\n        growth;\r\n\r\n    if (isWarped) {\r\n        this.endWarp();\r\n    }\r\n    realScale = (+percentage || 0) / 100;\r\n    growth = realScale / this.nestingScale;\r\n    this.nestingScale = realScale;\r\n    this.scale = Math.max(realScale, 0.01);\r\n\r\n    // apply to myself\r\n    this.changed();\r\n    this.drawNew();\r\n    this.changed();\r\n    if (isWarped) {\r\n        this.startWarp();\r\n    }\r\n    this.silentGotoXY(x, y, true); // just me\r\n    this.positionTalkBubble();\r\n\r\n    // propagate to nested parts\r\n    this.parts.forEach(function (part) {\r\n        var xDist = part.xPosition() - x,\r\n            yDist = part.yPosition() - y;\r\n        part.setScale(part.scale * 100 * growth);\r\n        part.silentGotoXY(\r\n            x + (xDist * growth),\r\n            y + (yDist * growth)\r\n        );\r\n    });\r\n\r\n    // propagate to children that inherit my scale\r\n    if (!noShadow) {\r\n        this.shadowAttribute('size');\r\n    }\r\n    this.instances.forEach(function (instance) {\r\n        if (instance.cachedPropagation) {\r\n            if (instance.inheritsAttribute('size')) {\r\n                instance.setScale(percentage, true);\r\n            }\r\n        }\r\n    });\r\n};\r\n\r\nSpriteMorph.prototype.changeScale = function (delta) {\r\n    this.setScale(this.getScale() + (+delta || 0));\r\n};\r\n\r\n// Spritemorph graphic effects\r\n\r\nSpriteMorph.prototype.graphicsChanged = function () {\r\n    var myself = this;\r\n    return Object.keys(this.graphicsValues).some(\r\n        function (any) {\r\n            return myself.graphicsValues[any] < 0 ||\r\n                    myself.graphicsValues[any] > 0;\r\n        }\r\n    );\r\n};\r\n\r\nSpriteMorph.prototype.applyGraphicsEffects = function (canvas) {\r\n  // For every effect: apply transform of that effect(canvas, stored value)\r\n  // Graphic effects from Scratch are heavily based on ScratchPlugin.c\r\n\r\n    var ctx, imagedata;\r\n\r\n    function transform_fisheye(imagedata, value) {\r\n        var pixels, newImageData, newPixels, centerX, centerY,\r\n            w, h, x, y, dx, dy, r, angle, srcX, srcY, i, srcI;\r\n\r\n        w = imagedata.width;\r\n        h = imagedata.height;\r\n        pixels = imagedata.data;\r\n        newImageData = ctx.createImageData(w, h);\r\n        newPixels = newImageData.data;\r\n\r\n        centerX = w / 2;\r\n        centerY = h / 2;\r\n        value = Math.max(0, (value + 100) / 100);\r\n        for (y = 0; y < h; y++) {\r\n            for (x = 0; x < w; x++) {\r\n                dx = (x - centerX) / centerX;\r\n                dy = (y - centerY) / centerY;\r\n                r = Math.pow(Math.sqrt(dx * dx + dy * dy), value);\r\n                if (r <= 1) {\r\n                    angle = Math.atan2(dy, dx);\r\n                    srcX = Math.floor(\r\n                        centerX + (r * Math.cos(angle) * centerX)\r\n                    );\r\n                    srcY = Math.floor(\r\n                        centerY + (r * Math.sin(angle) * centerY)\r\n                    );\r\n                } else {\r\n                    srcX = x;\r\n                    srcY = y;\r\n                }\r\n                i = (y * w + x) * 4;\r\n                srcI = (srcY * w + srcX) * 4;\r\n                newPixels[i] = pixels[srcI];\r\n                newPixels[i + 1] = pixels[srcI + 1];\r\n                newPixels[i + 2] = pixels[srcI + 2];\r\n                newPixels[i + 3] = pixels[srcI + 3];\r\n            }\r\n        }\r\n        return newImageData;\r\n    }\r\n\r\n    function transform_whirl(imagedata, value) {\r\n        var pixels, newImageData, newPixels, w, h, centerX, centerY,\r\n            x, y, radius, scaleX, scaleY, whirlRadians, radiusSquared,\r\n            dx, dy, d, factor, angle, srcX, srcY, i, srcI, sina, cosa;\r\n\r\n        w = imagedata.width;\r\n        h = imagedata.height;\r\n        pixels = imagedata.data;\r\n        newImageData = ctx.createImageData(w, h);\r\n        newPixels = newImageData.data;\r\n\r\n        centerX = w / 2;\r\n        centerY = h / 2;\r\n        radius = Math.min(centerX, centerY);\r\n        if (w < h) {\r\n            scaleX = h / w;\r\n            scaleY = 1;\r\n        } else {\r\n            scaleX = 1;\r\n            scaleY = w / h;\r\n        }\r\n        whirlRadians = -radians(value);\r\n        radiusSquared = radius * radius;\r\n        for (y = 0; y < h; y++) {\r\n            for (x = 0; x < w; x++) {\r\n                dx = scaleX * (x - centerX);\r\n                dy = scaleY * (y - centerY);\r\n                d = dx * dx + dy * dy;\r\n                if (d < radiusSquared) {\r\n                    factor = 1 - (Math.sqrt(d) / radius);\r\n                    angle = whirlRadians * (factor * factor);\r\n                    sina = Math.sin(angle);\r\n                    cosa = Math.cos(angle);\r\n                    srcX = Math.floor(\r\n                        (cosa * dx - sina * dy) / scaleX + centerX\r\n                    );\r\n                    srcY = Math.floor(\r\n                        (sina * dx + cosa * dy) / scaleY + centerY\r\n                    );\r\n                } else {\r\n                    srcX = x;\r\n                    srcY = y;\r\n                }\r\n                i = (y * w + x) * 4;\r\n                srcI = (srcY * w + srcX) * 4;\r\n                newPixels[i] = pixels[srcI];\r\n                newPixels[i + 1] = pixels[srcI + 1];\r\n                newPixels[i + 2] = pixels[srcI + 2];\r\n                newPixels[i + 3] = pixels[srcI + 3];\r\n            }\r\n        }\r\n        return newImageData;\r\n    }\r\n\r\n    function transform_pixelate(imagedata, value) {\r\n        var pixels, newImageData, newPixels, w, h,\r\n            x, y, srcX, srcY, i, srcI;\r\n\r\n        w = imagedata.width;\r\n        h = imagedata.height;\r\n        pixels = imagedata.data;\r\n        newImageData = ctx.createImageData(w, h);\r\n        newPixels = newImageData.data;\r\n\r\n        value = Math.floor(Math.abs(value / 10) + 1);\r\n        for (y = 0; y < h; y++) {\r\n            for (x = 0; x < w; x++) {\r\n                srcX = Math.floor(x / value) * value;\r\n                srcY = Math.floor(y / value) * value;\r\n                i = (y * w + x) * 4;\r\n                srcI = (srcY * w + srcX) * 4;\r\n                newPixels[i] = pixels[srcI];\r\n                newPixels[i + 1] = pixels[srcI + 1];\r\n                newPixels[i + 2] = pixels[srcI + 2];\r\n                newPixels[i + 3] = pixels[srcI + 3];\r\n            }\r\n        }\r\n        return newImageData;\r\n    }\r\n\r\n    function transform_mosaic(imagedata, value) {\r\n        var pixels, i, l, newImageData, newPixels, srcI;\r\n        pixels = imagedata.data;\r\n        newImageData = ctx.createImageData(imagedata.width, imagedata.height);\r\n        newPixels = newImageData.data;\r\n\r\n        value = Math.round((Math.abs(value) + 10) / 10);\r\n        value = Math.max(\r\n            0,\r\n            Math.min(value, Math.min(imagedata.width, imagedata.height))\r\n        );\r\n        for (i = 0, l = pixels.length; i < l; i += 4) {\r\n            srcI = i * value % l;\r\n            newPixels[i] = pixels[srcI];\r\n            newPixels[i + 1] = pixels[srcI + 1];\r\n            newPixels[i + 2] = pixels[srcI + 2];\r\n            newPixels[i + 3] = pixels[srcI + 3];\r\n        }\r\n        return newImageData;\r\n    }\r\n\r\n    function transform_duplicate(imagedata, value) {\r\n        var pixels, i;\r\n        pixels = imagedata.data;\r\n        for (i = 0; i < pixels.length; i += 4) {\r\n            pixels[i] = pixels[i * value];\r\n            pixels[i + 1] = pixels[i * value + 1];\r\n            pixels[i + 2] = pixels[i * value + 2];\r\n            pixels[i + 3] = pixels[i * value + 3];\r\n        }\r\n        return imagedata;\r\n    }\r\n\r\n    function transform_HSV(\r\n            imagedata,\r\n            hueShift,\r\n            saturationShift,\r\n            brightnessShift\r\n    ) {\r\n        var pixels, index, l, r, g, b, max, min, span,\r\n            h, s, v, i, f, p, q, t, newR, newG, newB;\r\n        pixels = imagedata.data;\r\n        for (index = 0, l = pixels.length; index < l; index += 4) {\r\n            r = pixels[index];\r\n            g = pixels[index + 1];\r\n            b = pixels[index + 2];\r\n\r\n            max = Math.max(r, g, b);\r\n            min = Math.min(r, g, b);\r\n            span = max - min;\r\n            if (span === 0) {\r\n                h = s = 0;\r\n            } else {\r\n                if (max === r) {\r\n                    h = (60 * (g - b)) / span;\r\n                } else if (max === g) {\r\n                    h = 120 + ((60 * (b - r)) / span);\r\n                } else if (max === b) {\r\n                    h = 240 + ((60 * (r - g)) / span);\r\n                }\r\n                s = (max - min) / max;\r\n            }\r\n            if (h < 0) {\r\n                h += 360;\r\n            }\r\n            v = max / 255;\r\n\r\n            h = (h + hueShift * 360 / 200) % 360;\r\n            s = Math.max(0, Math.min(s + saturationShift / 100, 1));\r\n            v = Math.max(0, Math.min(v + brightnessShift / 100, 1));\r\n\r\n            i = Math.floor(h / 60);\r\n            f = (h / 60) - i;\r\n            p = v * (1 - s);\r\n            q = v * (1 - (s * f));\r\n            t = v * (1 - (s * (1 - f)));\r\n\r\n            if (i === 0 || i === 6) {\r\n                newR = v;\r\n                newG = t;\r\n                newB = p;\r\n            } else if (i === 1) {\r\n                newR = q;\r\n                newG = v;\r\n                newB = p;\r\n            } else if (i === 2) {\r\n                newR = p;\r\n                newG = v;\r\n                newB = t;\r\n            } else if (i === 3) {\r\n                newR = p;\r\n                newG = q;\r\n                newB = v;\r\n            } else if (i === 4) {\r\n                newR = t;\r\n                newG = p;\r\n                newB = v;\r\n            } else if (i === 5) {\r\n                newR = v;\r\n                newG = p;\r\n                newB = q;\r\n            }\r\n\r\n            pixels[index] = newR * 255;\r\n            pixels[index + 1] = newG * 255;\r\n            pixels[index + 2] = newB * 255;\r\n        }\r\n        return imagedata;\r\n    }\r\n\r\n    function transform_negative (imagedata, value) {\r\n        var pixels, i, l, rcom, gcom, bcom;\r\n        pixels = imagedata.data;\r\n        for (i = 0, l = pixels.length; i < l; i += 4) {\r\n            rcom = 255 - pixels[i];\r\n            gcom = 255 - pixels[i + 1];\r\n            bcom = 255 - pixels[i + 2];\r\n\r\n            if (pixels[i] < rcom) { //compare to the complement\r\n                pixels[i] += value;\r\n            } else if (pixels[i] > rcom) {\r\n                pixels[i] -= value;\r\n            }\r\n            if (pixels[i + 1] < gcom) {\r\n                pixels[i + 1] += value;\r\n            } else if (pixels[i + 1] > gcom) {\r\n                pixels[i + 1] -= value;\r\n            }\r\n            if (pixels[i + 2] < bcom) {\r\n                pixels[i + 2] += value;\r\n            } else if (pixels[i + 2] > bcom) {\r\n                pixels[i + 2] -= value;\r\n            }\r\n        }\r\n        return imagedata;\r\n    }\r\n\r\n    function transform_comic (imagedata, value) {\r\n        var pixels, i, l;\r\n        pixels = imagedata.data;\r\n        for (i = 0, l = pixels.length; i < l; i += 4) {\r\n            pixels[i] += Math.sin(i * value) * 127 + 128;\r\n            pixels[i + 1] += Math.sin(i * value) * 127 + 128;\r\n            pixels[i + 2] += Math.sin(i * value) * 127 + 128;\r\n        }\r\n        return imagedata;\r\n    }\r\n\r\n    function transform_confetti (imagedata, value) {\r\n        var pixels, i, l;\r\n        pixels = imagedata.data;\r\n        for (i = 0, l = pixels.length; i < l; i += 1) {\r\n            pixels[i] = Math.sin(value * pixels[i]) * 127 + pixels[i];\r\n        }\r\n        return imagedata;\r\n    }\r\n\r\n    if (this.graphicsChanged()) {\r\n        ctx = canvas.getContext(\"2d\");\r\n        imagedata = ctx.getImageData(0, 0, canvas.width, canvas.height);\r\n\r\n        if (this.graphicsValues.fisheye) {\r\n            imagedata = transform_fisheye(\r\n                imagedata,\r\n                this.graphicsValues.fisheye\r\n            );\r\n        }\r\n        if (this.graphicsValues.whirl) {\r\n            imagedata = transform_whirl(\r\n                imagedata,\r\n                this.graphicsValues.whirl\r\n            );\r\n        }\r\n        if (this.graphicsValues.pixelate) {\r\n            imagedata = transform_pixelate(\r\n                imagedata,\r\n                this.graphicsValues.pixelate\r\n            );\r\n        }\r\n        if (this.graphicsValues.mosaic) {\r\n            imagedata = transform_mosaic(\r\n                imagedata,\r\n                this.graphicsValues.mosaic\r\n            );\r\n        }\r\n        if (this.graphicsValues.duplicate) {\r\n            imagedata = transform_duplicate(\r\n                imagedata,\r\n                this.graphicsValues.duplicate\r\n            );\r\n        }\r\n        if (this.graphicsValues.color ||\r\n                this.graphicsValues.saturation ||\r\n                this.graphicsValues.brightness) {\r\n            imagedata = transform_HSV(\r\n                imagedata,\r\n                this.graphicsValues.color,\r\n                this.graphicsValues.saturation,\r\n                this.graphicsValues.brightness\r\n            );\r\n        }\r\n        if (this.graphicsValues.negative) {\r\n            imagedata = transform_negative(\r\n                imagedata,\r\n                this.graphicsValues.negative\r\n            );\r\n        }\r\n        if (this.graphicsValues.comic) {\r\n            imagedata = transform_comic(\r\n                imagedata,\r\n                this.graphicsValues.comic\r\n            );\r\n        }\r\n        if (this.graphicsValues.confetti) {\r\n            imagedata = transform_confetti(\r\n                imagedata,\r\n                this.graphicsValues.confetti\r\n            );\r\n        }\r\n\r\n        ctx.putImageData(imagedata, 0, 0);\r\n    }\r\n\r\n    return canvas;\r\n};\r\n\r\nSpriteMorph.prototype.setEffect = function (effect, value) {\r\n    var eff = effect instanceof Array ? effect[0] : null;\r\n    if (eff === 'ghost') {\r\n        this.alpha = 1 - Math.min(Math.max(+value || 0, 0), 100) / 100;\r\n    } else {\r\n        this.graphicsValues[eff] = +value;\r\n    }\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nSpriteMorph.prototype.getGhostEffect = function () {\r\n    return (1 - this.alpha) * 100;\r\n};\r\n\r\nSpriteMorph.prototype.changeEffect = function (effect, value) {\r\n    var eff = effect instanceof Array ? effect[0] : null;\r\n    if (eff === 'ghost') {\r\n        this.setEffect(effect, this.getGhostEffect() + (+value || 0));\r\n    } else {\r\n        this.setEffect(effect, +this.graphicsValues[eff] + (+value));\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.clearEffects = function () {\r\n    var effect;\r\n    for (effect in this.graphicsValues) {\r\n        if (this.graphicsValues.hasOwnProperty(effect)) {\r\n            this.setEffect([effect], 0);\r\n        }\r\n    }\r\n    this.setEffect(['ghost'], 0);\r\n};\r\n\r\n// SpriteMorph talk bubble\r\n\r\nSpriteMorph.prototype.stopTalking = function () {\r\n    var bubble = this.talkBubble();\r\n    if (bubble) {bubble.destroy(); }\r\n};\r\n\r\nSpriteMorph.prototype.doThink = function (data) {\r\n    this.bubble(data, true);\r\n};\r\n\r\nSpriteMorph.prototype.bubble = function (data, isThought, isQuestion) {\r\n    var bubble,\r\n        stage = this.parentThatIsA(StageMorph);\r\n\r\n    this.stopTalking();\r\n    if (data === '' || isNil(data)) {return; }\r\n    bubble = new SpriteBubbleMorph(\r\n        data,\r\n        stage,\r\n        isThought,\r\n        isQuestion\r\n    );\r\n    this.add(bubble);\r\n    this.positionTalkBubble();\r\n};\r\n\r\nSpriteMorph.prototype.talkBubble = function () {\r\n    return detect(\r\n        this.children,\r\n        function (morph) {return morph instanceof SpeechBubbleMorph; }\r\n    );\r\n};\r\n\r\nSpriteMorph.prototype.positionTalkBubble = function () {\r\n    var stage = this.parentThatIsA(StageMorph),\r\n        stageScale = stage ? stage.scale : 1,\r\n        bubble = this.talkBubble(),\r\n        middle = this.center().y;\r\n    if (!bubble) {return null; }\r\n    bubble.show();\r\n    if (!bubble.isPointingRight) {\r\n        bubble.isPointingRight = true;\r\n        bubble.drawNew();\r\n        bubble.changed();\r\n    }\r\n    bubble.setLeft(this.right());\r\n    bubble.setBottom(this.top());\r\n    while (!this.isTouching(bubble) && bubble.bottom() < middle) {\r\n        bubble.silentMoveBy(new Point(-1, 1).scaleBy(stageScale));\r\n    }\r\n    if (!stage) {return null; }\r\n    if (bubble.right() > stage.right()) {\r\n        bubble.isPointingRight = false;\r\n        bubble.drawNew();\r\n        bubble.setRight(this.center().x);\r\n    }\r\n    bubble.keepWithin(stage);\r\n    bubble.changed();\r\n};\r\n\r\n// dragging and dropping adjustments b/c of talk bubbles and parts\r\n\r\nSpriteMorph.prototype.prepareToBeGrabbed = function (hand) {\r\n    this.removeShadow();\r\n    this.recordLayers();\r\n    this.shadowAttribute('x position');\r\n    this.shadowAttribute('y position');\r\n    if (!this.bounds.containsPoint(hand.position()) &&\r\n            this.isCorrectingOutsideDrag()) {\r\n        this.setCenter(hand.position());\r\n    }\r\n    this.addShadow();\r\n};\r\n\r\nSpriteMorph.prototype.isCorrectingOutsideDrag = function () {\r\n    // make sure I don't \"trail behind\" the hand when dragged\r\n    // override for morphs that you want to be dragged outside\r\n    // their full bounds\r\n    return !this.parts.length;\r\n};\r\n\r\nSpriteMorph.prototype.justDropped = function () {\r\n    var stage = this.parentThatIsA(StageMorph),\r\n        myself = this;\r\n    if (stage) {\r\n        stage.enableCustomHatBlocks = true;\r\n    }\r\n    if (this.exemplar) {\r\n        this.inheritedAttributes.forEach(function (att) {\r\n            if (contains(['direction', 'size', 'costume #'], att)) {\r\n                // only refresh certain propagated attributes\r\n                myself.refreshInheritedAttribute(att);\r\n            }\r\n        });\r\n    }\r\n    this.restoreLayers();\r\n    this.positionTalkBubble();\r\n    this.receiveUserInteraction('dropped');\r\n   \r\n};\r\n\r\n// SpriteMorph drawing:\r\n\r\nSpriteMorph.prototype.drawLine = function (start, dest) {\r\n    var stagePos = this.parent.bounds.origin,\r\n        stageScale = this.parent.scale,\r\n        context = this.parent.penTrails().getContext('2d'),\r\n        from = start.subtract(stagePos).divideBy(stageScale),\r\n        to = dest.subtract(stagePos).divideBy(stageScale),\r\n        damagedFrom = from.multiplyBy(stageScale).add(stagePos),\r\n        damagedTo = to.multiplyBy(stageScale).add(stagePos),\r\n        damaged = damagedFrom.rectangle(damagedTo).expandBy(\r\n            Math.max(this.size * stageScale / 2, 1)\r\n        ).intersect(this.parent.visibleBounds()).spread();\r\n\r\n    if (this.isDown) {\r\n        context.lineWidth = this.size;\r\n        context.strokeStyle = this.color.toString();\r\n        if (this.useFlatLineEnds) {\r\n            context.lineCap = 'butt';\r\n            context.lineJoin = 'miter';\r\n        } else {\r\n            context.lineCap = 'round';\r\n            context.lineJoin = 'round';\r\n        }\r\n        context.beginPath();\r\n        context.moveTo(from.x, from.y);\r\n        context.lineTo(to.x, to.y);\r\n        context.stroke();\r\n        if (this.isWarped === false) {\r\n            this.world().broken.push(damaged);\r\n        }\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.floodFill = function () {\r\n    if (!this.parent.bounds.containsPoint(this.rotationCenter())) {\r\n        return;\r\n    }\r\n    if (this.color.a > 1) {\r\n        // fix a legacy bug in Morphic color detection\r\n        this.color.a = this.color.a / 255;\r\n    }\r\n    var layer = normalizeCanvas(this.parent.penTrails()),\r\n        width = layer.width,\r\n        height = layer.height,\r\n        ctx = layer.getContext('2d'),\r\n        img = ctx.getImageData(0, 0, width, height),\r\n        dta = img.data,\r\n        stack = [\r\n            Math.round((height / 2) - this.yPosition()) * width +\r\n            Math.round(this.xPosition() + (width / 2))\r\n        ],\r\n        current,\r\n        src;\r\n\r\n    function read(p) {\r\n        var d = p * 4;\r\n        return [dta[d], dta[d + 1], dta[d + 2], dta[d + 3]];\r\n    }\r\n\r\n    function check(p) {\r\n        return p[0] === src[0] &&\r\n            p[1] === src[1] &&\r\n            p[2] === src[2] &&\r\n            p[3] === src[3];\r\n    }\r\n\r\n    src = read(stack[0]);\r\n    if (src[0] === Math.round(this.color.r) &&\r\n            src[1] === Math.round(this.color.g) &&\r\n            src[2] === Math.round(this.color.b) &&\r\n            src[3] === Math.round(this.color.a * 255)) {\r\n        return;\r\n    }\r\n    while (stack.length > 0) {\r\n        current = stack.pop();\r\n        if (check(read(current))) {\r\n            if (current % width > 1) {\r\n                stack.push(current + 1);\r\n                stack.push(current - 1);\r\n            }\r\n            if (current > 0 && current < height * width) {\r\n                stack.push(current + width);\r\n                stack.push(current - width);\r\n            }\r\n        }\r\n        dta[current * 4] = Math.round(this.color.r);\r\n        dta[current * 4 + 1] = Math.round(this.color.g);\r\n        dta[current * 4 + 2] = Math.round(this.color.b);\r\n        dta[current * 4 + 3] = Math.round(this.color.a * 255);\r\n    }\r\n    ctx.putImageData(img, 0, 0);\r\n    this.parent.changed();\r\n};\r\n\r\n// SpriteMorph pen trails as costume\r\n\r\nSpriteMorph.prototype.reportPenTrailsAsCostume = function () {\r\n    var cst = new Costume(\r\n        this.parentThatIsA(StageMorph).trailsCanvas,\r\n        this.newCostumeName(localize('Costume'))\r\n    );\r\n    cst.shrinkWrap();\r\n    return cst;\r\n};\r\n\r\n// SpriteMorph motion - adjustments due to nesting\r\n\r\nSpriteMorph.prototype.moveBy = function (delta, justMe) {\r\n    // override the inherited default to make sure my parts follow\r\n    // unless it's justMe (a correction)\r\n    var start = this.isDown && !justMe && this.parent ?\r\n            this.rotationCenter() : null;\r\n    SpriteMorph.uber.moveBy.call(this, delta);\r\n    if (start) {\r\n        this.drawLine(start, this.rotationCenter());\r\n    }\r\n    if (!justMe) {\r\n        this.parts.forEach(function (part) {\r\n            part.moveBy(delta);\r\n        });\r\n        this.instances.forEach(function (instance) {\r\n            if (instance.cachedPropagation) {\r\n                var inheritsX = instance.inheritsAttribute('x position'),\r\n                    inheritsY = instance.inheritsAttribute('y position');\r\n                if (inheritsX && inheritsY) {\r\n                    instance.moveBy(delta);\r\n                } else if (inheritsX) {\r\n                    instance.moveBy(new Point(delta.x, 0));\r\n                } else if (inheritsY) {\r\n                    instance.moveBy(new Point(0, delta.y));\r\n                }\r\n            }\r\n        });\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.silentMoveBy = function (delta, justMe) {\r\n    SpriteMorph.uber.silentMoveBy.call(this, delta);\r\n    if (!justMe && this.parent instanceof HandMorph) {\r\n        this.parts.forEach(function (part) {\r\n            part.moveBy(delta);\r\n        });\r\n        this.instances.forEach(function (instance) {\r\n            if (instance.cachedPropagation) {\r\n                var inheritsX = instance.inheritsAttribute('x position'),\r\n                    inheritsY = instance.inheritsAttribute('y position');\r\n                if (inheritsX && inheritsY) {\r\n                    instance.moveBy(delta);\r\n                } else if (inheritsX) {\r\n                    instance.moveBy(new Point(delta.x, 0));\r\n                } else if (inheritsY) {\r\n                    instance.moveBy(new Point(0, delta.y));\r\n                }\r\n            }\r\n        });\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.rootForGrab = function () {\r\n    if (this.anchor) {\r\n        return this.anchor.rootForGrab();\r\n    }\r\n    return SpriteMorph.uber.rootForGrab.call(this);\r\n};\r\n\r\nSpriteMorph.prototype.setCenter = function (aPoint, justMe) {\r\n    // override the inherited default to make sure my parts follow\r\n    // unless it's justMe\r\n    var delta = aPoint.subtract(this.center());\r\n    this.moveBy(delta, justMe);\r\n};\r\n\r\nSpriteMorph.prototype.nestingBounds = function () {\r\n    // same as fullBounds(), except that it uses \"parts\" instead of children\r\n    // and special cases the costume-less \"arrow\" shape's bounding box\r\n    var result = this.bounds;\r\n    if (!this.costume && this.penBounds) {\r\n        result = this.penBounds.translateBy(this.position());\r\n    }\r\n    this.parts.forEach(function (part) {\r\n        if (part.isVisible) {\r\n            result = result.merge(part.nestingBounds());\r\n        }\r\n    });\r\n    return result;\r\n};\r\n\r\n// SpriteMorph motion primitives\r\n\r\nSpriteMorph.prototype.setPosition = function (aPoint, justMe) {\r\n    // override the inherited default to make sure my parts follow\r\n    // unless it's justMe\r\n    var delta = aPoint.subtract(this.topLeft());\r\n    if ((delta.x !== 0) || (delta.y !== 0)) {\r\n        this.moveBy(delta, justMe);\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.forward = function (steps) {\r\n    var dest,\r\n        dist = steps * this.parent.scale || 0;\r\n\r\n    if (dist >= 0) {\r\n        dest = this.position().distanceAngle(dist, this.heading);\r\n    } else {\r\n        dest = this.position().distanceAngle(\r\n            Math.abs(dist),\r\n            (this.heading - 180)\r\n        );\r\n    }\r\n\r\n    this.shadowAttribute('x position');\r\n    this.shadowAttribute('y position');\r\n\r\n    this.setPosition(dest);\r\n    this.positionTalkBubble();\r\n};\r\n\r\nSpriteMorph.prototype.setHeading = function (degrees, noShadow) {\r\n    var x = this.xPosition(),\r\n        y = this.yPosition(),\r\n        dir = !isFinite(degrees) ? 0 : +degrees,\r\n        turn = dir - this.heading;\r\n\r\n    // apply to myself\r\n    if (this.rotationStyle) { // optimization, only redraw if rotatable\r\n        this.changed();\r\n        SpriteMorph.uber.setHeading.call(this, dir);\r\n        this.silentGotoXY(x, y, true); // just me\r\n        this.positionTalkBubble();\r\n    } else {\r\n        this.heading = ((+degrees % 360) + 360) % 360;\r\n    }\r\n\r\n    // propagate to my parts\r\n    this.parts.forEach(function (part) {\r\n        var pos = new Point(part.xPosition(), part.yPosition()),\r\n            trg = pos.rotateBy(radians(turn), new Point(x, y));\r\n        if (part.rotatesWithAnchor) {\r\n            part.turn(turn);\r\n        }\r\n        part.gotoXY(trg.x, trg.y);\r\n    });\r\n\r\n    // propagate to children that inherit my direction\r\n    if (!noShadow) {\r\n        this.shadowAttribute('direction');\r\n    }\r\n    this.instances.forEach(function (instance) {\r\n        if (instance.cachedPropagation) {\r\n            if (instance.inheritsAttribute('direction')) {\r\n                instance.setHeading(degrees, true);\r\n            }\r\n        }\r\n    });\r\n};\r\n\r\nSpriteMorph.prototype.faceToXY = function (x, y) {\r\n    var deltaX = (x - this.xPosition()) * this.parent.scale,\r\n        deltaY = (y - this.yPosition()) * this.parent.scale,\r\n        angle = Math.abs(deltaX) < 0.001 ? (deltaY < 0 ? 90 : 270)\r\n                : Math.round(\r\n                (deltaX >= 0 ? 0 : 180)\r\n                    - (Math.atan(deltaY / deltaX) * 57.2957795131)\r\n            );\r\n    this.setHeading(angle + 90);\r\n};\r\n\r\nSpriteMorph.prototype.turn = function (degrees) {\r\n    this.setHeading(this.heading + (+degrees || 0));\r\n};\r\n\r\nSpriteMorph.prototype.turnLeft = function (degrees) {\r\n    this.setHeading(this.heading - (+degrees || 0));\r\n};\r\n\r\nSpriteMorph.prototype.xPosition = function () {\r\n    if (this.inheritsAttribute('x position')) {\r\n        return this.exemplar.xPosition();\r\n    }\r\n\r\n    var stage = this.parentThatIsA(StageMorph);\r\n\r\n    if (!stage && this.parent.grabOrigin) { // I'm currently being dragged\r\n        stage = this.parent.grabOrigin.origin;\r\n    }\r\n    if (stage) {\r\n        return (this.rotationCenter().x - stage.center().x) / stage.scale;\r\n    }\r\n    return this.rotationCenter().x;\r\n};\r\n\r\nSpriteMorph.prototype.yPosition = function () {\r\n    if (this.inheritsAttribute('y position')) {\r\n        return this.exemplar.yPosition();\r\n    }\r\n\r\n    var stage = this.parentThatIsA(StageMorph);\r\n\r\n    if (!stage && this.parent.grabOrigin) { // I'm currently being dragged\r\n        stage = this.parent.grabOrigin.origin;\r\n    }\r\n    if (stage) {\r\n        return (stage.center().y - this.rotationCenter().y) / stage.scale;\r\n    }\r\n    return this.rotationCenter().y;\r\n};\r\n\r\nSpriteMorph.prototype.direction = function () {\r\n    if (this.inheritsAttribute('direction')) {\r\n        return this.exemplar.direction();\r\n    }\r\n    return this.heading;\r\n};\r\n\r\nSpriteMorph.prototype.penSize = function () {\r\n    return this.size;\r\n};\r\n\r\nSpriteMorph.prototype.gotoXY = function (x, y, justMe, noShadow) {\r\n    var stage = this.parentThatIsA(StageMorph),\r\n        newX,\r\n        newY,\r\n        dest;\r\n\r\n    if (!stage) {return; }\r\n    if (!noShadow) {\r\n        this.shadowAttribute('x position');\r\n        this.shadowAttribute('y position');\r\n    }\r\n    x = !isFinite(+x) ? 0 : +x;\r\n    y = !isFinite(+y) ? 0 : +y;\r\n    newX = stage.center().x + x * stage.scale;\r\n    newY = stage.center().y - y * stage.scale;\r\n    if (this.costume) {\r\n        dest = new Point(newX, newY).subtract(this.rotationOffset);\r\n    } else {\r\n        dest = new Point(newX, newY).subtract(this.extent().divideBy(2));\r\n    }\r\n    this.setPosition(dest, justMe);\r\n    this.positionTalkBubble();\r\n};\r\n\r\nSpriteMorph.prototype.silentGotoXY = function (x, y, justMe) {\r\n    // move without drawing\r\n    // don't shadow coordinate attributes\r\n    var penState = this.isDown;\r\n    this.isDown = false;\r\n    this.gotoXY(x, y, justMe, true); // don't shadow coordinates\r\n    this.isDown = penState;\r\n};\r\n\r\nSpriteMorph.prototype.setXPosition = function (num) {\r\n    this.shadowAttribute('x position');\r\n    this.gotoXY(+num || 0, this.yPosition(), false, true);\r\n};\r\n\r\nSpriteMorph.prototype.changeXPosition = function (delta) {\r\n    this.setXPosition(this.xPosition() + (+delta || 0));\r\n};\r\n\r\nSpriteMorph.prototype.setYPosition = function (num) {\r\n    this.shadowAttribute('y position');\r\n    this.gotoXY(this.xPosition(), +num || 0, false, true);\r\n};\r\n\r\nSpriteMorph.prototype.changeYPosition = function (delta) {\r\n    this.setYPosition(this.yPosition() + (+delta || 0));\r\n};\r\n\r\nSpriteMorph.prototype.glide = function (\r\n    duration,\r\n    endX,\r\n    endY,\r\n    elapsed,\r\n    startPoint\r\n) {\r\n    var fraction, endPoint, rPos;\r\n    endPoint = new Point(endX, endY);\r\n    fraction = Math.max(Math.min(elapsed / duration, 1), 0);\r\n    rPos = startPoint.add(\r\n        endPoint.subtract(startPoint).multiplyBy(fraction)\r\n    );\r\n    this.gotoXY(rPos.x, rPos.y);\r\n};\r\n\r\nSpriteMorph.prototype.bounceOffEdge = function () {\r\n    // taking nested parts into account\r\n    var stage = this.parentThatIsA(StageMorph),\r\n        fb = this.nestingBounds(),\r\n        dirX,\r\n        dirY;\r\n\r\n    if (!stage) {return null; }\r\n    if (stage.bounds.containsRectangle(fb)) {return null; }\r\n\r\n    dirX = Math.cos(radians(this.heading - 90));\r\n    dirY = -(Math.sin(radians(this.heading - 90)));\r\n\r\n    if (fb.left() < stage.left()) {\r\n        dirX = Math.abs(dirX);\r\n    }\r\n    if (fb.right() > stage.right()) {\r\n        dirX = -(Math.abs(dirX));\r\n    }\r\n    if (fb.top() < stage.top()) {\r\n        dirY = -(Math.abs(dirY));\r\n    }\r\n    if (fb.bottom() > stage.bottom()) {\r\n        dirY = Math.abs(dirY);\r\n    }\r\n\r\n    this.shadowAttribute('x position');\r\n    this.shadowAttribute('y position');\r\n    this.shadowAttribute('direction');\r\n\r\n    this.setHeading(degrees(Math.atan2(-dirY, dirX)) + 90);\r\n    this.setPosition(this.position().add(\r\n        fb.amountToTranslateWithin(stage.bounds)\r\n    ));\r\n    this.positionTalkBubble();\r\n};\r\n\r\n// SpriteMorph rotation center / fixation point manipulation\r\n\r\nSpriteMorph.prototype.setRotationX = function (absoluteX) {\r\n  this.setRotationCenter(new Point(absoluteX, this.yPosition()));\r\n};\r\n\r\nSpriteMorph.prototype.setRotationY = function (absoluteY) {\r\n  this.setRotationCenter(new Point(this.xPosition(), absoluteY));\r\n};\r\n\r\nSpriteMorph.prototype.setRotationCenter = function (absoluteCoordinate) {\r\n    var delta, normal;\r\n    if (!this.costume) {\r\n        throw new Error('setting the rotation center requires a costume');\r\n    }\r\n    delta = absoluteCoordinate.subtract(\r\n        new Point(this.xPosition(), this.yPosition())\r\n    ).divideBy(this.scale).rotateBy(radians(90 - this.heading));\r\n    normal = this.costume.rotationCenter.add(new Point(delta.x, -delta.y));\r\n    this.costume.rotationCenter = normal;\r\n    this.drawNew();\r\n};\r\n\r\nSpriteMorph.prototype.moveRotationCenter = function () {\r\n    // make this a method of Snap >> SpriteMorph\r\n    this.world().activeHandle = new HandleMorph(\r\n        this,\r\n        null,\r\n        null,\r\n        null,\r\n        null,\r\n        'movePivot'\r\n    );\r\n};\r\n\r\nSpriteMorph.prototype.setPivot = function (worldCoordinate) {\r\n    var stage = this.parentThatIsA(StageMorph),\r\n        cntr;\r\n    if (stage) {\r\n        cntr = stage.center();\r\n        this.setRotationCenter(\r\n            new Point(\r\n                (worldCoordinate.x - cntr.x) / stage.scale,\r\n                (cntr.y - worldCoordinate.y) / stage.scale\r\n            )\r\n        );\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.xCenter = function () {\r\n    var stage = this.parentThatIsA(StageMorph);\r\n\r\n    if (!stage && this.parent.grabOrigin) { // I'm currently being dragged\r\n        stage = this.parent.grabOrigin.origin;\r\n    }\r\n    if (stage) {\r\n        return (this.center().x - stage.center().x) / stage.scale;\r\n    }\r\n    return this.center().x;\r\n};\r\n\r\nSpriteMorph.prototype.yCenter = function () {\r\n    var stage = this.parentThatIsA(StageMorph);\r\n\r\n    if (!stage && this.parent.grabOrigin) { // I'm currently being dragged\r\n        stage = this.parent.grabOrigin.origin;\r\n    }\r\n    if (stage) {\r\n        return (stage.center().y - this.center().y) / stage.scale;\r\n    }\r\n    return this.center().y;\r\n};\r\n\r\n// SpriteMorph message broadcasting\r\n\r\nSpriteMorph.prototype.allMessageNames = function () {\r\n    var msgs = [],\r\n        all = this.scripts.children.slice();\r\n    this.customBlocks.forEach(function (def) {\r\n        if (def.body) {\r\n            all.push(def.body.expression);\r\n        }\r\n        def.scripts.forEach(function (scr) {\r\n            all.push(scr);\r\n        });\r\n    });\r\n    if (this.globalBlocks) {\r\n        this.globalBlocks.forEach(function (def) {\r\n            if (def.body) {\r\n                all.push(def.body.expression);\r\n            }\r\n            def.scripts.forEach(function (scr) {\r\n                all.push(scr);\r\n            });\r\n        });\r\n    }\r\n    all.forEach(function (script) {\r\n        script.allChildren().forEach(function (morph) {\r\n            var txt;\r\n            if (morph.selector && contains(\r\n                ['receiveMessage', 'doBroadcast', 'doBroadcastAndWait'],\r\n                morph.selector\r\n            )) {\r\n                txt = morph.inputs()[0].evaluate();\r\n                if (isString(txt) && txt !== '') {\r\n                    if (!contains(msgs, txt)) {\r\n                        msgs.push(txt);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    });\r\n    return msgs;\r\n};\r\n\r\nSpriteMorph.prototype.allHatBlocksFor = function (message) {\r\n    if (typeof message === 'number') {message = message.toString(); }\r\n    return this.scripts.children.filter(function (morph) {\r\n        var event;\r\n        if (morph.selector) {\r\n            if (morph.selector === 'receiveMessage') {\r\n                event = morph.inputs()[0].evaluate();\r\n                return event === message\r\n                    || (event instanceof Array\r\n                        && message !== '__shout__go__'\r\n                        && message !== '__clone__init__');\r\n            }\r\n            if (morph.selector === 'receiveGo') {\r\n                return message === '__shout__go__';\r\n            }\r\n            if (morph.selector === 'receiveOnClone') {\r\n                return message === '__clone__init__';\r\n            }\r\n        }\r\n        return false;\r\n    });\r\n};\r\n\r\nSpriteMorph.prototype.allHatBlocksForKey = function (key) {\r\n    return this.scripts.children.filter(function (morph) {\r\n        if (morph.selector) {\r\n            if (morph.selector === 'receiveKey') {\r\n                var evt = morph.inputs()[0].evaluate()[0];\r\n                return evt === key || evt === 'any key';\r\n            }\r\n        }\r\n        return false;\r\n    });\r\n};\r\n\r\nSpriteMorph.prototype.allHatBlocksForInteraction = function (interaction) {\r\n    return this.scripts.children.filter(function (morph) {\r\n        if (morph.selector) {\r\n            if (morph.selector === 'receiveInteraction') {\r\n                return morph.inputs()[0].evaluate()[0] === interaction;\r\n            }\r\n        }\r\n        return false;\r\n    });\r\n};\r\n\r\nSpriteMorph.prototype.allGenericHatBlocks = function () {\r\n    return this.scripts.children.filter(function (morph) {\r\n        if (morph.selector) {\r\n            return morph.selector === 'receiveCondition';\r\n        }\r\n        return false;\r\n    });\r\n};\r\n\r\n// SpriteMorph events\r\n\r\nSpriteMorph.prototype.mouseClickLeft = function () {\r\n    return this.receiveUserInteraction('clicked');\r\n};\r\n\r\nSpriteMorph.prototype.mouseEnter = function () {\r\n    return this.receiveUserInteraction('mouse-entered');\r\n};\r\n\r\nSpriteMorph.prototype.mouseDownLeft = function () {\r\n    return this.receiveUserInteraction('pressed');\r\n};\r\n\r\nSpriteMorph.prototype.receiveUserInteraction = function (interaction) {\r\n    var stage = this.parentThatIsA(StageMorph),\r\n        procs = [],\r\n        myself = this,\r\n        hats;\r\n\r\n    if (!stage) {return; } // currently dragged\r\n    hats = this.allHatBlocksForInteraction(interaction);\r\n    hats.forEach(function (block) {\r\n        procs.push(stage.threads.startProcess(\r\n            block,\r\n            myself,\r\n            stage.isThreadSafe\r\n        ));\r\n    });\r\n    return procs;\r\n};\r\n\r\nSpriteMorph.prototype.mouseDoubleClick = function () {\r\n    if (this.isTemporary) {return; }\r\n    this.edit();\r\n};\r\n\r\n// SpriteMorph timer\r\n\r\nSpriteMorph.prototype.getTimer = function () {\r\n    var stage = this.parentThatIsA(StageMorph);\r\n    if (stage) {\r\n        return stage.getTimer();\r\n    }\r\n    return 0;\r\n};\r\n\r\n// SpriteMorph tempo\r\n\r\nSpriteMorph.prototype.getTempo = function () {\r\n    var stage = this.parentThatIsA(StageMorph);\r\n    if (stage) {\r\n        return stage.getTempo();\r\n    }\r\n    return 0;\r\n};\r\n\r\n// SpriteMorph last message\r\n\r\nSpriteMorph.prototype.getLastMessage = function () {\r\n    var stage = this.parentThatIsA(StageMorph);\r\n    if (stage) {\r\n        return stage.getLastMessage();\r\n    }\r\n    return '';\r\n};\r\n\r\n// SpriteMorph user prompting\r\n\r\nSpriteMorph.prototype.getLastAnswer = function () {\r\n    return this.parentThatIsA(StageMorph).lastAnswer;\r\n};\r\n\r\n// SpriteMorph mouse coordinates\r\n\r\nSpriteMorph.prototype.reportMouseX = function () {\r\n    var stage = this.parentThatIsA(StageMorph);\r\n    if (stage) {\r\n        return stage.reportMouseX();\r\n    }\r\n    return 0;\r\n};\r\n\r\nSpriteMorph.prototype.reportMouseY = function () {\r\n    var stage = this.parentThatIsA(StageMorph);\r\n    if (stage) {\r\n        return stage.reportMouseY();\r\n    }\r\n    return 0;\r\n};\r\n\r\n// SpriteMorph thread count (for debugging)\r\n\r\nSpriteMorph.prototype.reportThreadCount = function () {\r\n    var stage = this.parentThatIsA(StageMorph);\r\n    if (stage) {\r\n        return stage.threads.processes.length;\r\n    }\r\n    return 0;\r\n};\r\n\r\n// SpriteMorph variable refactoring\r\n\r\nSpriteMorph.prototype.refactorVariableInstances = function (\r\n    oldName,\r\n    newName,\r\n    isGlobal\r\n) {\r\n    if (isGlobal && this.hasSpriteVariable(oldName)) {\r\n        return;\r\n    }\r\n\r\n    this.scripts.children.forEach(function (child) {\r\n        if (child instanceof BlockMorph) {\r\n            child.refactorVarInStack(oldName, newName);\r\n        }\r\n    });\r\n\r\n};\r\n\r\n// SpriteMorph variable watchers (for palette checkbox toggling)\r\n\r\nSpriteMorph.prototype.findVariableWatcher = function (varName) {\r\n    var stage = this.parentThatIsA(StageMorph),\r\n        globals = this.globalVariables(),\r\n        myself = this;\r\n    if (stage === null) {\r\n        return null;\r\n    }\r\n    return detect(\r\n        stage.children,\r\n        function (morph) {\r\n            return morph instanceof WatcherMorph\r\n                    && (morph.target === myself.variables\r\n                            || morph.target === globals)\r\n                    && morph.getter === varName;\r\n        }\r\n    );\r\n};\r\n\r\nSpriteMorph.prototype.toggleVariableWatcher = function (varName, isGlobal) {\r\n    var stage = this.parentThatIsA(StageMorph),\r\n        globals = this.globalVariables(),\r\n        watcher,\r\n        others;\r\n    if (stage === null) {\r\n        return null;\r\n    }\r\n    watcher = this.findVariableWatcher(varName);\r\n    if (watcher !== null) {\r\n        if (watcher.isVisible) {\r\n            watcher.hide();\r\n        } else {\r\n            watcher.show();\r\n            watcher.fixLayout(); // re-hide hidden parts\r\n            watcher.keepWithin(stage);\r\n        }\r\n        return;\r\n    }\r\n\r\n    // if no watcher exists, create a new one\r\n    if (isNil(isGlobal)) {\r\n        isGlobal = contains(globals.names(), varName);\r\n    }\r\n    watcher = new WatcherMorph(\r\n        varName,\r\n        this.blockColor.variables,\r\n        isGlobal ? globals : this.variables,\r\n        varName\r\n    );\r\n    watcher.setPosition(stage.position().add(10));\r\n    others = stage.watchers(watcher.left());\r\n    if (others.length > 0) {\r\n        watcher.setTop(others[others.length - 1].bottom());\r\n    }\r\n    stage.add(watcher);\r\n    watcher.fixLayout();\r\n    watcher.keepWithin(stage);\r\n    return watcher;\r\n};\r\n\r\nSpriteMorph.prototype.showingVariableWatcher = function (varName) {\r\n    var stage = this.parentThatIsA(StageMorph),\r\n        watcher;\r\n    if (stage === null) {\r\n        return false;\r\n    }\r\n    watcher = this.findVariableWatcher(varName);\r\n    if (watcher) {\r\n        return watcher.isVisible;\r\n    }\r\n    return false;\r\n};\r\n\r\nSpriteMorph.prototype.deleteVariableWatcher = function (varName) {\r\n    var stage = this.parentThatIsA(StageMorph),\r\n        watcher;\r\n    if (stage === null) {\r\n        return null;\r\n    }\r\n    watcher = this.findVariableWatcher(varName);\r\n    if (watcher !== null) {\r\n        watcher.destroy();\r\n    }\r\n};\r\n\r\n// SpriteMorph non-variable watchers\r\n\r\nSpriteMorph.prototype.toggleWatcher = function (selector, label, color) {\r\n    var stage = this.parentThatIsA(StageMorph),\r\n        watcher,\r\n        others;\r\n    if (!stage) { return; }\r\n    watcher = this.watcherFor(stage, selector);\r\n    if (watcher) {\r\n        if (watcher.isVisible) {\r\n            watcher.hide();\r\n        } else {\r\n            watcher.show();\r\n            watcher.fixLayout(); // re-hide hidden parts\r\n            watcher.keepWithin(stage);\r\n        }\r\n        return;\r\n    }\r\n\r\n    // if no watcher exists, create a new one\r\n    watcher = new WatcherMorph(\r\n        label,\r\n        color,\r\n        WatcherMorph.prototype.isGlobal(selector) ? stage : this,\r\n        selector\r\n    );\r\n    watcher.setPosition(stage.position().add(10));\r\n    others = stage.watchers(watcher.left());\r\n    if (others.length > 0) {\r\n        watcher.setTop(others[others.length - 1].bottom());\r\n    }\r\n    stage.add(watcher);\r\n    watcher.fixLayout();\r\n    watcher.keepWithin(stage);\r\n};\r\n\r\nSpriteMorph.prototype.showingWatcher = function (selector) {\r\n    var stage = this.parentThatIsA(StageMorph),\r\n        watcher;\r\n    if (stage === null) {\r\n        return false;\r\n    }\r\n    watcher = this.watcherFor(stage, selector);\r\n    if (watcher) {\r\n        return watcher.isVisible;\r\n    }\r\n    return false;\r\n};\r\n\r\nSpriteMorph.prototype.watcherFor = function (stage, selector) {\r\n    var myself = this;\r\n    return detect(stage.children, function (morph) {\r\n        return morph instanceof WatcherMorph &&\r\n            morph.getter === selector &&\r\n             morph.target === (morph.isGlobal(selector) ? stage : myself);\r\n    });\r\n};\r\n\r\n// SpriteMorph custom blocks\r\n\r\nSpriteMorph.prototype.deleteAllBlockInstances = function (definition) {\r\n    var stage,\r\n        blocks = definition.isGlobal ? this.allBlockInstances(definition)\r\n            : this.allIndependentInvocationsOf(definition.blockSpec());\r\n    blocks.forEach(function (each) {\r\n        each.deleteBlock();\r\n    });\r\n\r\n    // purge custom block definitions of \"corpses\"\r\n    // i.e. blocks that have been marked for deletion\r\n    if (definition.isGlobal) {\r\n        stage = this.parentThatIsA(StageMorph);\r\n        if (stage) {\r\n            stage.globalBlocks.forEach(function (def) {\r\n                def.purgeCorpses();\r\n            });\r\n            stage.children.concat(stage).forEach(function (sprite) {\r\n                if (sprite.isSnapObject) {\r\n                    sprite.customBlocks.forEach(function (def) {\r\n                        def.purgeCorpses();\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    } else {\r\n        this.allSpecimens().concat(this).forEach(function (sprite) {\r\n            sprite.customBlocks.forEach(function (def) {\r\n                def.purgeCorpses();\r\n            });\r\n        });\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.allBlockInstances = function (definition) {\r\n    var stage, objects, blocks = [], inDefinitions;\r\n    if (definition.isGlobal) {\r\n        stage = this.parentThatIsA(StageMorph);\r\n        objects = stage.children.filter(function (morph) {\r\n            return morph instanceof SpriteMorph;\r\n        });\r\n        objects.push(stage);\r\n        objects.forEach(function (sprite) {\r\n            blocks = blocks.concat(sprite.allLocalBlockInstances(definition));\r\n        });\r\n        inDefinitions = [];\r\n        stage.globalBlocks.forEach(function (def) {\r\n            def.scripts.forEach(function (eachScript) {\r\n                eachScript.allChildren().forEach(function (c) {\r\n                    if (c.isCustomBlock && (c.definition === definition)) {\r\n                        inDefinitions.push(c);\r\n                    }\r\n                });\r\n            });\r\n            if (def.body) {\r\n                def.body.expression.allChildren().forEach(function (c) {\r\n                    if (c.isCustomBlock && (c.definition === definition)) {\r\n                        inDefinitions.push(c);\r\n                    }\r\n                });\r\n            }\r\n        });\r\n        return blocks.concat(inDefinitions);\r\n    }\r\n    return this.allLocalBlockInstances(definition);\r\n};\r\n\r\nSpriteMorph.prototype.allIndependentInvocationsOf = function (aSpec) {\r\n    var blocks;\r\n    if (this.exemplar && this.exemplar.getMethod(aSpec)) {\r\n        // shadows an inherited method, don't delete\r\n        return [];\r\n    }\r\n    blocks = this.allInvocationsOf(aSpec);\r\n    this.instances.forEach(function (sprite) {\r\n        sprite.addAllInvocationsOf(aSpec, blocks);\r\n    });\r\n    return blocks;\r\n};\r\n\r\nSpriteMorph.prototype.allDependentInvocationsOf = function (aSpec) {\r\n    var blocks;\r\n    blocks = this.allInvocationsOf(aSpec);\r\n    this.instances.forEach(function (sprite) {\r\n        sprite.addAllInvocationsOf(aSpec, blocks);\r\n    });\r\n    return blocks;\r\n};\r\n\r\nSpriteMorph.prototype.allInvocationsOf = function (aSpec) {\r\n    // only inside the receiver, without the inheritance branches\r\n    var inScripts, inDefinitions, inBlockEditors, blocks;\r\n\r\n    inScripts = this.scripts.allChildren().filter(function (c) {\r\n        return c.isCustomBlock && !c.isGlobal && (c.blockSpec === aSpec);\r\n    });\r\n\r\n    inDefinitions = [];\r\n    this.customBlocks.forEach(function (def) {\r\n        def.scripts.forEach(function (eachScript) {\r\n            eachScript.allChildren().forEach(function (c) {\r\n                if (c.isCustomBlock && !c.isGlobal &&\r\n                    (c.blockSpec === aSpec)\r\n                ) {\r\n                    inDefinitions.push(c);\r\n                }\r\n            });\r\n        });\r\n        if (def.body) {\r\n            def.body.expression.allChildren().forEach(function (c) {\r\n                if (c.isCustomBlock && !c.isGlobal &&\r\n                    (c.blockSpec === aSpec)\r\n                ) {\r\n                    inDefinitions.push(c);\r\n                }\r\n            });\r\n        }\r\n    });\r\n\r\n    inBlockEditors = this.allEditorBlockInstances(null, aSpec);\r\n    blocks = inScripts.concat(inDefinitions).concat(inBlockEditors);\r\n    return blocks;\r\n};\r\n\r\nSpriteMorph.prototype.addAllInvocationsOf = function (aSpec, anArray) {\r\n    if (!this.getLocalMethod(aSpec)) {\r\n        this.allInvocationsOf(aSpec).forEach(function (block) {\r\n            anArray.push(block);\r\n        });\r\n        this.instances.forEach(function (sprite) {\r\n            sprite.addAllInvocationsOf(aSpec, anArray);\r\n        });\r\n    }\r\n};\r\n\r\n\r\nSpriteMorph.prototype.allLocalBlockInstances = function (definition) {\r\n    var inScripts, inDefinitions, inBlockEditors, inPalette, result;\r\n\r\n    inScripts = this.scripts.allChildren().filter(function (c) {\r\n        return c.isCustomBlock && (c.definition === definition);\r\n    });\r\n\r\n    inDefinitions = [];\r\n    this.customBlocks.forEach(function (def) {\r\n        if (def.body) {\r\n            def.body.expression.allChildren().forEach(function (c) {\r\n                if (c.isCustomBlock && (c.definition === definition)) {\r\n                    inDefinitions.push(c);\r\n                }\r\n            });\r\n        }\r\n    });\r\n\r\n    inBlockEditors = this.allEditorBlockInstances(definition);\r\n    inPalette = this.paletteBlockInstance(definition);\r\n\r\n    result = inScripts.concat(inDefinitions).concat(inBlockEditors);\r\n    if (inPalette) {\r\n        result.push(inPalette);\r\n    }\r\n    return result;\r\n};\r\n\r\nSpriteMorph.prototype.allEditorBlockInstances = function (definition, spec) {\r\n    // either pass a definition for global custom blocks\r\n    // or a spec for local ones\r\n    var inBlockEditors = [],\r\n        world = this.world();\r\n\r\n    if (!world) {return []; } // when copying a sprite\r\n\r\n    this.world().children.forEach(function (morph) {\r\n        if (morph instanceof BlockEditorMorph) {\r\n            morph.body.contents.allChildren().forEach(function (block) {\r\n                if (definition) { // global\r\n                    if (!block.isPrototype\r\n                            && !(block instanceof PrototypeHatBlockMorph)\r\n                            && (block.definition === definition)) {\r\n                        inBlockEditors.push(block);\r\n                    }\r\n                } else { // local\r\n                    if (block.isCustomBlock\r\n                            && !block.isGlobal\r\n                            && !block.isPrototype\r\n                            && !(block instanceof PrototypeHatBlockMorph)\r\n                            && (block.blockSpec === spec)) {\r\n                        inBlockEditors.push(block);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    });\r\n    return inBlockEditors;\r\n};\r\n\r\nSpriteMorph.prototype.paletteBlockInstance = function (definition) {\r\n    var ide = this.parentThatIsA(IDE_Morph);\r\n    if (!ide) {return null; }\r\n    return detect(\r\n        ide.palette.contents.children,\r\n        function (block) {\r\n            return block.isCustomBlock &&\r\n                (block.definition === definition);\r\n        }\r\n    );\r\n};\r\n\r\nSpriteMorph.prototype.usesBlockInstance = function (\r\n    definition,\r\n    forRemoval, // optional bool\r\n    skipGlobals, // optional bool\r\n    skipBlocks // optional array with ignorable definitions\r\n) {\r\n    var inDefinitions,\r\n        inScripts = detect(\r\n            this.scripts.allChildren(),\r\n            function (c) {\r\n                return c.isCustomBlock && (c.definition === definition);\r\n            }\r\n        );\r\n\r\n    if (inScripts) {return true; }\r\n\r\n    if (definition.isGlobal && !skipGlobals) {\r\n        inDefinitions = [];\r\n        this.parentThatIsA(StageMorph).globalBlocks.forEach(\r\n            function (def) {\r\n                if (forRemoval && (definition === def)) {return; }\r\n                if (skipBlocks && contains(skipBlocks, def)) {return; }\r\n                if (def.body) {\r\n                    def.body.expression.allChildren().forEach(function (c) {\r\n                        if (c.isCustomBlock && (c.definition === definition)) {\r\n                            inDefinitions.push(c);\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n        );\r\n        if (inDefinitions.length > 0) {return true; }\r\n    }\r\n\r\n    inDefinitions = [];\r\n    this.customBlocks.forEach(function (def) {\r\n        if (def.body) {\r\n            def.body.expression.allChildren().forEach(function (c) {\r\n                if (c.isCustomBlock && (c.definition === definition)) {\r\n                    inDefinitions.push(c);\r\n                }\r\n            });\r\n        }\r\n    });\r\n    return (inDefinitions.length > 0);\r\n};\r\n\r\nSpriteMorph.prototype.doubleDefinitionsFor = function (definition) {\r\n    var spec = definition.blockSpec(),\r\n        blockList,\r\n        idx,\r\n        stage;\r\n\r\n    if (definition.isGlobal) {\r\n        stage = this.parentThatIsA(StageMorph);\r\n        if (!stage) {return []; }\r\n        blockList = stage.globalBlocks;\r\n    } else {\r\n        blockList = this.customBlocks;\r\n    }\r\n    idx = blockList.indexOf(definition);\r\n    if (idx === -1) {return []; }\r\n    return blockList.filter(function (def, i) {\r\n        return def.blockSpec() === spec && (i !== idx);\r\n    });\r\n};\r\n\r\nSpriteMorph.prototype.replaceDoubleDefinitionsFor = function (definition) {\r\n    var doubles = this.doubleDefinitionsFor(definition),\r\n        myself = this,\r\n        stage,\r\n        ide;\r\n    doubles.forEach(function (double) {\r\n        myself.allBlockInstances(double).forEach(function (block) {\r\n            block.definition = definition;\r\n            block.refresh();\r\n        });\r\n    });\r\n    if (definition.isGlobal) {\r\n        stage = this.parentThatIsA(StageMorph);\r\n        stage.globalBlocks = stage.globalBlocks.filter(function (def) {\r\n            return !contains(doubles, def);\r\n        });\r\n    } else {\r\n        this.customBlocks = this.customBlocks.filter(function (def) {\r\n            return !contains(doubles, def);\r\n        });\r\n    }\r\n    ide = this.parentThatIsA(IDE_Morph);\r\n    if (ide) {\r\n        ide.flushPaletteCache();\r\n        ide.refreshPalette();\r\n    }\r\n};\r\n\r\n// SpriteMorph inheritance - general\r\n\r\nSpriteMorph.prototype.chooseExemplar = function () {\r\n    var stage = this.parentThatIsA(StageMorph),\r\n        myself = this,\r\n        other = stage.children.filter(function (m) {\r\n            return m instanceof SpriteMorph &&\r\n                !m.isTemporary &&\r\n                (!contains(m.allExemplars(), myself));\r\n        }),\r\n        menu;\r\n    menu = new MenuMorph(\r\n        function (aSprite) {myself.setExemplar(aSprite); },\r\n        localize('current parent') +\r\n            ':\\n' +\r\n            (this.exemplar ? this.exemplar.name : localize('none'))\r\n    );\r\n    other.forEach(function (eachSprite) {\r\n        menu.addItem(eachSprite.name, eachSprite);\r\n    });\r\n    menu.addLine();\r\n    menu.addItem(localize('none'), null);\r\n    menu.popUpAtHand(this.world());\r\n};\r\n\r\nSpriteMorph.prototype.setExemplar = function (another) {\r\n    var ide;\r\n    this.emancipate();\r\n    this.exemplar = another;\r\n    if (another) {\r\n        this.variables.parentFrame = another.variables;\r\n        another.addSpecimen(this);\r\n    } else {\r\n        this.variables.parentFrame = this.globalVariables();\r\n    }\r\n    if (!this.isTemporary) {\r\n        ide = this.parentThatIsA(IDE_Morph);\r\n        if (ide) {\r\n            ide.flushBlocksCache('variables');\r\n            ide.refreshPalette();\r\n        }\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.prune = function () {\r\n    // sever ties with all my specimen, if any,\r\n    this.instances.forEach(function (child) {\r\n        child.shadowAllAttributes();\r\n        child.shadowAllMethods();\r\n        child.shadowAllVars();\r\n        child.exemplar = null;\r\n    });\r\n    this.instances = [];\r\n};\r\n\r\nSpriteMorph.prototype.emancipate = function () {\r\n    // sever all relations with my exemplar, if any,\r\n    // and make sure I am the root of my specimen\r\n    if (this.exemplar) {\r\n        if (!this.isTemporary) {\r\n            this.shadowAllAttributes();\r\n            this.shadowAllMethods();\r\n            this.shadowAllVars();\r\n        }\r\n        this.exemplar.removeSpecimen(this); // optimization\r\n        this.exemplar = null;\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.allExemplars = function () {\r\n    // including myself\r\n    var all = [],\r\n        current = this;\r\n    while (!isNil(current)) {\r\n        all.push(current);\r\n        current = current.exemplar;\r\n    }\r\n    return all;\r\n};\r\n\r\nSpriteMorph.prototype.specimens = function () {\r\n    // without myself\r\n    return this.instances;\r\n};\r\n\r\nSpriteMorph.prototype.allSpecimens = function () {\r\n    // without myself\r\n    var all = this.instances.slice();\r\n    this.instances.forEach(function (child) {\r\n        all.push.apply(all, child.allSpecimens());\r\n    });\r\n    return all;\r\n};\r\n\r\nSpriteMorph.prototype.addSpecimen = function (another) {\r\n    // private - use setExemplar() to establish an inheritance relationship\r\n    this.instances.push(another);\r\n};\r\n\r\nSpriteMorph.prototype.removeSpecimen = function(another) {\r\n    // private - use setExemplar(null) to cancel an inheritance relationship\r\n    var idx = this.instances.indexOf(another);\r\n    if (idx !== -1) {\r\n        this.instances.splice(idx, 1);\r\n    }\r\n};\r\n\r\n// SpriteMorph inheritance - attributes\r\n\r\nSpriteMorph.prototype.inheritsAttribute = function (aName) {\r\n    return !isNil(this.exemplar) && contains(this.inheritedAttributes, aName);\r\n};\r\n\r\nSpriteMorph.prototype.updatePropagationCache = function () {\r\n    // private - indicate whether one of my inherited attributes is technically\r\n    // propagated down from my exemplar, instead of truly shared.\r\n    // (only) needed for internal optimization caching\r\n    var myself = this;\r\n    this.cachedPropagation = !isNil(this.exemplar) && detect(\r\n        ['x position', 'y position', 'direction', 'size', 'costume #'],\r\n        function (att) {\r\n            return contains(myself.inheritedAttributes, att);\r\n        }\r\n    );\r\n};\r\n\r\nSpriteMorph.prototype.shadowedAttributes = function () {\r\n    // answer an array of attribute names that can be deleted/shared\r\n    var inherited = this.inheritedAttributes;\r\n    return this.attributes.filter(function (each) {\r\n        return !contains(inherited, each);\r\n    });\r\n};\r\n\r\nSpriteMorph.prototype.shadowAllAttributes = function () {\r\n    var myself = this;\r\n    this.attributes.forEach(function (att) {\r\n        myself.shadowAttribute(att);\r\n    });\r\n};\r\n\r\nSpriteMorph.prototype.shadowAttribute = function (aName) {\r\n    var ide, wardrobe, jukebox,\r\n        myself = this,\r\n        pos;\r\n    if (!this.inheritsAttribute(aName)) {\r\n        return;\r\n    }\r\n    ide = this.parentThatIsA(IDE_Morph);\r\n    this.inheritedAttributes = this.inheritedAttributes.filter(\r\n        function (each) {return each !== aName; }\r\n    );\r\n    if (aName === 'costumes') {\r\n        wardrobe = new List();\r\n        this.costumes.asArray().forEach(function (costume) {\r\n            var cst = costume.copy();\r\n            wardrobe.add(cst);\r\n            if (costume === myself.costume) {\r\n                myself.wearCostume(cst);\r\n            }\r\n        });\r\n        this.costumes = wardrobe;\r\n        this.instances.forEach(function (obj) {\r\n            if (obj.inheritsAttribute('costumes')) {\r\n                obj.refreshInheritedAttribute('costumes');\r\n            }\r\n        });\r\n    } else if (aName === 'sounds') {\r\n        jukebox = new List();\r\n        this.sounds.asArray().forEach(function (sound) {\r\n            jukebox.add(sound.copy());\r\n        });\r\n        this.sounds = jukebox;\r\n        this.instances.forEach(function (obj) {\r\n            if (obj.inheritsAttribute('sounds')) {\r\n                obj.refreshInheritedAttribute('sounds');\r\n            }\r\n        });\r\n    } else if (aName === 'scripts') {\r\n        ide.stage.threads.stopAllForReceiver(this);\r\n        pos = this.scripts.position();\r\n        this.scripts = this.exemplar.scripts.fullCopy();\r\n        if (ide && (contains(ide.currentSprite.allExemplars(), this))) {\r\n            ide.createSpriteEditor();\r\n            ide.fixLayout('selectSprite');\r\n            this.scripts.fixMultiArgs();\r\n            this.scripts.setPosition(pos);\r\n            ide.spriteEditor.adjustScrollBars();\r\n        }\r\n        this.instances.forEach(function (obj) {\r\n            if (obj.inheritsAttribute('scripts')) {\r\n                obj.refreshInheritedAttribute('scripts');\r\n            }\r\n        });\r\n    } else {\r\n        this.updatePropagationCache();\r\n        if (ide && !this.isTemporary) {\r\n            ide.flushBlocksCache(); // optimization: specify category if known\r\n            ide.refreshPalette();\r\n        }\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.inheritAttribute = function (aName) {\r\n    var ide = this.parentThatIsA(IDE_Morph);\r\n    if (!this.exemplar || !contains(this.attributes, aName)) {\r\n        return;\r\n    }\r\n    if (!this.inheritsAttribute(aName)) {\r\n        this.inheritedAttributes.push(aName);\r\n        this.refreshInheritedAttribute(aName);\r\n        if (ide) {\r\n            ide.flushBlocksCache(); // optimization: specify category\r\n            ide.refreshPalette();\r\n        }\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.refreshInheritedAttribute = function (aName) {\r\n    var ide, idx;\r\n    switch (aName) {\r\n    case 'x position':\r\n    case 'y position':\r\n        this.cachedPropagation = true;\r\n        this.gotoXY(this.xPosition(), this.yPosition(), false, true);\r\n        break;\r\n    case 'direction':\r\n        this.cachedPropagation = true;\r\n        this.setHeading(this.direction(), true);\r\n        break;\r\n    case 'size':\r\n        this.cachedPropagation = true;\r\n        this.setScale(this.getScale(), true);\r\n        break;\r\n    case 'costume #':\r\n        this.cachedPropagation = true;\r\n        this.doSwitchToCostume(this.getCostumeIdx(), true);\r\n        break;\r\n    case 'costumes':\r\n        idx = this.getCostumeIdx();\r\n        this.costumes = this.exemplar.costumes;\r\n        this.doSwitchToCostume(idx, true);\r\n        this.instances.forEach(function (sprite) {\r\n            if (sprite.inheritsAttribute('costumes')) {\r\n                sprite.refreshInheritedAttribute('costumes');\r\n            }\r\n        });\r\n        break;\r\n    case 'sounds':\r\n        this.sounds = this.exemplar.sounds;\r\n        this.instances.forEach(function (sprite) {\r\n            if (sprite.inheritsAttribute('sounds')) {\r\n                sprite.refreshInheritedAttribute('sounds');\r\n            }\r\n        });\r\n        break;\r\n    case 'scripts':\r\n        this.scripts = this.exemplar.scripts;\r\n        ide = this.parentThatIsA(IDE_Morph);\r\n        if (ide) {\r\n            ide.stage.threads.stopAllForReceiver(this);\r\n            if (contains(ide.currentSprite.allExemplars(), this)) {\r\n                ide.createSpriteEditor();\r\n                ide.fixLayout('selectSprite');\r\n            }\r\n        }\r\n        this.instances.forEach(function (sprite) {\r\n            if (sprite.inheritsAttribute('scripts')) {\r\n                sprite.refreshInheritedAttribute('scripts');\r\n            }\r\n        });\r\n        break;\r\n    default:\r\n        nop();\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.toggleInheritanceForAttribute = function (aName) {\r\n    if (this.inheritsAttribute(aName)) {\r\n        this.shadowAttribute(aName);\r\n    } else {\r\n        this.inheritAttribute(aName);\r\n    }\r\n};\r\n\r\n// SpriteMorph inheritance - variables\r\n\r\nSpriteMorph.prototype.isVariableNameInUse = function (vName, isGlobal) {\r\n    if (isGlobal) {\r\n        return contains(this.variables.allNames(), vName);\r\n    }\r\n    if (contains(this.variables.names(), vName)) {return true; }\r\n    return contains(this.globalVariables().names(), vName);\r\n};\r\n\r\nSpriteMorph.prototype.globalVariables = function () {\r\n    var current = this.variables.parentFrame;\r\n    while (current.owner) {\r\n        current = current.parentFrame;\r\n    }\r\n    return current;\r\n};\r\n\r\nSpriteMorph.prototype.shadowAllVars = function () {\r\n    var myself = this;\r\n    this.inheritedVariableNames().forEach(function (name) {\r\n        myself.shadowVar(name, myself.variables.getVar(name));\r\n    });\r\n};\r\n\r\nSpriteMorph.prototype.shadowVar = function (name, value) {\r\n    var ide;\r\n    this.variables.addVar(name, value);\r\n    if (!this.isTemporary) {\r\n        ide = this.parentThatIsA(IDE_Morph);\r\n        if (ide) {\r\n            ide.flushBlocksCache('variables');\r\n            ide.refreshPalette();\r\n        }\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.toggleInheritedVariable = function (vName) {\r\n    if (contains(this.inheritedVariableNames(true), vName)) { // is shadowed\r\n        this.deleteVariable(vName);\r\n    } else if (contains(this.inheritedVariableNames(), vName)) { // inherited\r\n        this.shadowVar(vName, this.variables.getVar(vName));\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.inheritedVariableNames = function (shadowedOnly) {\r\n    var names = [],\r\n        own = this.variables.names(),\r\n        current = this.variables.parentFrame;\r\n\r\n    function test(each) {\r\n        return shadowedOnly ? contains(own, each) : !contains(own, each);\r\n    }\r\n\r\n    while (current.owner instanceof SpriteMorph) {\r\n        names.push.apply(\r\n            names,\r\n            current.names().filter(test)\r\n        );\r\n        current = current.parentFrame;\r\n    }\r\n    return names;\r\n};\r\n\r\nSpriteMorph.prototype.deletableVariableNames = function () {\r\n    var locals = this.variables.names(),\r\n        inherited = this.inheritedVariableNames();\r\n    return locals.concat(\r\n        this.globalVariables().names().filter(\r\n            function (each) {\r\n                return !contains(locals, each) && !contains(inherited, each);\r\n            }\r\n        )\r\n    );\r\n};\r\n\r\nSpriteMorph.prototype.hasSpriteVariable = function (varName) {\r\n    return contains(this.variables.names(), varName);\r\n};\r\n\r\n// SpriteMorph inheritance - custom blocks\r\n\r\nSpriteMorph.prototype.getMethod = function (spec) {\r\n    return this.allBlocks()[spec];\r\n};\r\n\r\nSpriteMorph.prototype.getLocalMethod = function (spec) {\r\n    return this.ownBlocks()[spec];\r\n};\r\n\r\nSpriteMorph.prototype.ownBlocks = function () {\r\n    var dict = {};\r\n    this.customBlocks.forEach(function (def) {\r\n        dict[def.blockSpec()] = def;\r\n    });\r\n    return dict;\r\n};\r\n\r\nSpriteMorph.prototype.allBlocks = function (valuesOnly) {\r\n    var dict = {};\r\n    this.allExemplars().reverse().forEach(function (sprite) {\r\n        sprite.customBlocks.forEach(function (def) {\r\n            dict[def.blockSpec()] = def;\r\n        });\r\n    });\r\n    if (valuesOnly) {\r\n        return Object.keys(dict).map(function (key) {return dict[key]; });\r\n    }\r\n    return dict;\r\n};\r\n\r\nSpriteMorph.prototype.inheritedBlocks = function (valuesOnly) {\r\n    var dict = {},\r\n        own = Object.keys(this.ownBlocks()),\r\n        others = this.allExemplars().reverse();\r\n    others.pop();\r\n    others.forEach(function (sprite) {\r\n        sprite.customBlocks.forEach(function (def) {\r\n            var spec = def.blockSpec();\r\n            if (!contains(own, spec)) {\r\n                dict[spec] = def;\r\n            }\r\n        });\r\n    });\r\n    if (valuesOnly) {\r\n        return Object.keys(dict).map(function (key) {return dict[key]; });\r\n    }\r\n    return dict;\r\n};\r\n\r\nSpriteMorph.prototype.shadowAllMethods = function () {\r\n    var ide,\r\n        myself = this;\r\n    this.inheritedMethods().forEach(function (dup) {\r\n        myself.customBlocks.push(dup);\r\n    });\r\n    if (!this.isTemporary) {\r\n        ide = this.parentThatIsA(IDE_Morph);\r\n        if (ide) {\r\n            ide.flushPaletteCache();\r\n            ide.refreshPalette();\r\n        }\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.inheritedMethods = function () {\r\n    // private - pre-serialization preparation\r\n    var myself = this;\r\n    return this.inheritedBlocks(true).map(function (def) {\r\n        return def.copyAndBindTo(myself, true); // header only\r\n    });\r\n};\r\n\r\n// SpriteMorph thumbnail\r\n\r\nSpriteMorph.prototype.thumbnail = function (extentPoint) {\r\n/*\r\n    answer a new Canvas of extentPoint dimensions containing\r\n    my thumbnail representation keeping the originial aspect ratio\r\n*/\r\n    var src = this.image, // at this time sprites aren't composite morphs\r\n        scale = Math.min(\r\n            (extentPoint.x / src.width),\r\n            (extentPoint.y / src.height)\r\n        ),\r\n        xOffset = (extentPoint.x - (src.width * scale)) / 2,\r\n        yOffset = (extentPoint.y - (src.height * scale)) / 2,\r\n        trg = newCanvas(extentPoint),\r\n        ctx = trg.getContext('2d');\r\n\r\n    function xOut(style, alpha, width) {\r\n        var inset = Math.min(extentPoint.x, extentPoint.y) / 10;\r\n        ctx.strokeStyle = style;\r\n        ctx.globalAlpha = alpha;\r\n        ctx.compositeOperation = 'lighter';\r\n        ctx.lineWidth = width || 1;\r\n        ctx.moveTo(inset, inset);\r\n        ctx.lineTo(trg.width - inset, trg.height - inset);\r\n        ctx.moveTo(inset, trg.height - inset);\r\n        ctx.lineTo(trg.width - inset, inset);\r\n        ctx.stroke();\r\n    }\r\n\r\n    ctx.save();\r\n    if (this.isCorpse) {\r\n        ctx.globalAlpha = 0.3;\r\n    }\r\n    if (src.width && src.height) {\r\n        ctx.scale(scale, scale);\r\n        ctx.drawImage(\r\n            src,\r\n            Math.floor(xOffset / scale),\r\n            Math.floor(yOffset / scale)\r\n        );\r\n    }\r\n    if (this.isCorpse) {\r\n        ctx.restore();\r\n        xOut('white', 0.8, 6);\r\n        xOut('black', 0.8, 1);\r\n    }\r\n    return trg;\r\n};\r\n\r\nSpriteMorph.prototype.fullThumbnail = function (extentPoint) {\r\n    // containing parts and anchor symbols, if any\r\n    var thumb = this.thumbnail(extentPoint),\r\n        ctx = thumb.getContext('2d'),\r\n        ext = extentPoint.divideBy(3),\r\n        i = 0;\r\n\r\n    ctx.restore();\r\n    if (this.anchor) {\r\n        ctx.drawImage(\r\n            this.anchor.thumbnail(ext),\r\n            0,\r\n            0\r\n        );\r\n    }\r\n    for (i = 0; i < 3; i += 1) {\r\n        if (this.parts[i]) {\r\n            ctx.drawImage(\r\n                this.parts[i].thumbnail(ext),\r\n                i * ext.x,\r\n                extentPoint.y - ext.y\r\n            );\r\n        }\r\n    }\r\n    return thumb;\r\n};\r\n\r\n// SpriteMorph Boolean visual representation\r\n\r\nSpriteMorph.prototype.booleanMorph = function (bool) {\r\n    var sym = new BooleanSlotMorph(bool);\r\n    sym.isStatic = true;\r\n    sym.drawNew();\r\n    return sym;\r\n};\r\n\r\n// SpriteMorph nesting\r\n/*\r\n    simulate Morphic trees\r\n*/\r\n\r\nSpriteMorph.prototype.attachPart = function (aSprite) {\r\n    var v = Date.now();\r\n    if (aSprite.anchor) {\r\n        aSprite.anchor.detachPart(aSprite);\r\n    }\r\n    this.parts.push(aSprite);\r\n    this.version = v;\r\n    aSprite.anchor = this;\r\n    this.allParts().forEach(function (part) {\r\n        part.nestingScale = part.scale;\r\n    });\r\n    aSprite.version = v;\r\n};\r\n\r\nSpriteMorph.prototype.detachPart = function (aSprite) {\r\n    var idx = this.parts.indexOf(aSprite),\r\n        v;\r\n    if (idx !== -1) {\r\n        v = Date.now();\r\n        this.parts.splice(idx, 1);\r\n        this.version = v;\r\n        aSprite.anchor = null;\r\n        aSprite.version = v;\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.detachAllParts = function () {\r\n    var v = Date.now();\r\n\r\n    this.parts.forEach(function (part) {\r\n        part.anchor = null;\r\n        part.version = v;\r\n    });\r\n    this.parts = [];\r\n    this.version = v;\r\n};\r\n\r\nSpriteMorph.prototype.detachFromAnchor = function () {\r\n    if (this.anchor) {\r\n        this.anchor.detachPart(this);\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.allParts = function () {\r\n    // includes myself\r\n    var result = [this];\r\n    this.parts.forEach(function (part) {\r\n        result = result.concat(part.allParts());\r\n    });\r\n    return result;\r\n};\r\n\r\nSpriteMorph.prototype.allAnchors = function () {\r\n    // includes myself\r\n    var result = [this];\r\n    if (this.anchor !== null) {\r\n        result = result.concat(this.anchor.allAnchors());\r\n    }\r\n    return result;\r\n};\r\n\r\nSpriteMorph.prototype.recordLayers = function () {\r\n    var stage = this.parentThatIsA(StageMorph);\r\n    if (!stage) {\r\n        this.layerCache = null;\r\n        return;\r\n    }\r\n    this.layers = this.allParts();\r\n    this.layers.forEach(function (part) {\r\n        var bubble = part.talkBubble();\r\n        if (bubble) {bubble.hide(); }\r\n    });\r\n    this.layers.sort(function (x, y) {\r\n        return stage.children.indexOf(x) < stage.children.indexOf(y) ?\r\n                -1 : 1;\r\n    });\r\n};\r\n\r\nSpriteMorph.prototype.restoreLayers = function () {\r\n    if (this.layers && this.layers.length > 1) {\r\n        this.layers.forEach(function (sprite) {\r\n            sprite.comeToFront();\r\n            sprite.positionTalkBubble();\r\n        });\r\n    }\r\n    this.layers = null;\r\n};\r\n\r\n// SpriteMorph destroying\r\n\r\nSpriteMorph.prototype.destroy = function () {\r\n    // make sure to sever all inheritance ties to other sprites\r\n    if (this.anchor) {\r\n        this.anchor.detachPart(this);\r\n    }\r\n    this.emancipate();\r\n    if (!this.isTemporary) {\r\n        this.prune();\r\n    }\r\n    SpriteMorph.uber.destroy.call(this);\r\n};\r\n\r\n// SpriteMorph highlighting\r\n\r\nSpriteMorph.prototype.flash = function () {\r\n\tvar world = this.world(),\r\n\t\tmyself = this;\r\n    this.addHighlight();\r\n\tworld.animations.push(new Animation(\r\n\t\tnop,\r\n  \t\tnop,\r\n    \t0,\r\n     \t800,\r\n      \tnop,\r\n      \tfunction () {myself.removeHighlight(); }\r\n\t));\r\n};\r\n\r\nSpriteMorph.prototype.addHighlight = function (oldHighlight) {\r\n    var isHidden = !this.isVisible,\r\n        highlight;\r\n\r\n    if (isHidden) {this.show(); }\r\n    highlight = this.highlight(\r\n        oldHighlight ? oldHighlight.color : this.highlightColor,\r\n        this.highlightBorder\r\n    );\r\n    this.addBack(highlight);\r\n    this.fullChanged();\r\n    if (isHidden) {this.hide(); }\r\n    return highlight;\r\n};\r\n\r\nSpriteMorph.prototype.removeHighlight = function () {\r\n    var highlight = this.getHighlight();\r\n    if (highlight !== null) {\r\n        this.fullChanged();\r\n        this.removeChild(highlight);\r\n    }\r\n    return highlight;\r\n};\r\n\r\nSpriteMorph.prototype.toggleHighlight = function () {\r\n    if (this.getHighlight()) {\r\n        this.removeHighlight();\r\n    } else {\r\n        this.addHighlight();\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.highlight = function (color, border) {\r\n    var highlight = new SpriteHighlightMorph(),\r\n        fb = this.bounds, // sprites are not nested in a Morphic way\r\n        edge = border,\r\n        ctx;\r\n\r\n    highlight.setExtent(fb.extent().add(edge * 2));\r\n    highlight.color = color;\r\n    highlight.image = this.highlightImage(color, border);\r\n    ctx = highlight.image.getContext('2d');\r\n    ctx.drawImage(\r\n        this.highlightImage(new Color(255, 255, 255), 4),\r\n        border - 4,\r\n        border - 4\r\n    );\r\n    ctx.drawImage(\r\n        this.highlightImage(new Color(50, 50, 50), 2),\r\n        border - 2,\r\n        border - 2\r\n    );\r\n    ctx.drawImage(\r\n        this.highlightImage(new Color(255, 255, 255), 1),\r\n        border - 1,\r\n        border - 1\r\n    );\r\n    highlight.setPosition(fb.origin.subtract(new Point(edge, edge)));\r\n    return highlight;\r\n};\r\n\r\nSpriteMorph.prototype.highlightImage = function (color, border) {\r\n    var fb, img, hi, ctx, out;\r\n    fb = this.extent();\r\n    img = this.image;\r\n\r\n    hi = newCanvas(fb.add(border * 2));\r\n    ctx = hi.getContext('2d');\r\n\r\n    ctx.drawImage(img, 0, 0);\r\n    ctx.drawImage(img, border, 0);\r\n    ctx.drawImage(img, border * 2, 0);\r\n    ctx.drawImage(img, border * 2, border);\r\n    ctx.drawImage(img, border * 2, border * 2);\r\n    ctx.drawImage(img, border, border * 2);\r\n    ctx.drawImage(img, 0, border * 2);\r\n    ctx.drawImage(img, 0, border);\r\n\r\n    ctx.globalCompositeOperation = 'destination-out';\r\n    ctx.drawImage(img, border, border);\r\n\r\n    out = newCanvas(fb.add(border * 2));\r\n    ctx = out.getContext('2d');\r\n    ctx.drawImage(hi, 0, 0);\r\n    ctx.globalCompositeOperation = 'source-atop';\r\n    ctx.fillStyle = color.toString();\r\n    ctx.fillRect(0, 0, out.width, out.height);\r\n\r\n    return out;\r\n};\r\n\r\nSpriteMorph.prototype.getHighlight = function () {\r\n    var highlights;\r\n    highlights = this.children.slice(0).reverse().filter(\r\n        function (child) {\r\n            return child instanceof SpriteHighlightMorph;\r\n        }\r\n    );\r\n    if (highlights.length !== 0) {\r\n        return highlights[0];\r\n    }\r\n    return null;\r\n};\r\n\r\n// SpriteMorph nesting events\r\n\r\nSpriteMorph.prototype.mouseEnterDragging = function () {\r\n    var obj;\r\n    if (!this.enableNesting) {return; }\r\n    obj = this.world().hand.children[0];\r\n    if (this.wantsDropOf(obj)) {\r\n        this.addHighlight();\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.mouseLeave = function () {\r\n    this.receiveUserInteraction('mouse-departed');\r\n    if (!this.enableNesting) {return; }\r\n    this.removeHighlight();\r\n};\r\n\r\nSpriteMorph.prototype.wantsDropOf = function (morph) {\r\n    // allow myself to be the anchor of another sprite\r\n    // by drag & drop\r\n    return this.enableNesting\r\n        && morph instanceof SpriteIconMorph\r\n        && !contains(morph.object.allParts(), this);\r\n};\r\n\r\nSpriteMorph.prototype.reactToDropOf = function (morph, hand) {\r\n    this.removeHighlight();\r\n    this.attachPart(morph.object);\r\n    this.world().add(morph);\r\n    morph.slideBackTo(hand.grabOrigin);\r\n};\r\n\r\n// SpriteMorph screenshots\r\n\r\nSpriteMorph.prototype.newCostumeName = function (name, ignoredCostume) {\r\n    var ix = name.indexOf('('),\r\n        stem = (ix < 0) ? name : name.substring(0, ix),\r\n        count = 1,\r\n        newName = stem,\r\n        all = this.costumes.asArray().filter(\r\n            function (each) {return each !== ignoredCostume; }\r\n        ).map(\r\n            function (each) {return each.name; }\r\n        );\r\n    while (contains(all, newName)) {\r\n        count += 1;\r\n        newName = stem + '(' + count + ')';\r\n    }\r\n    return newName;\r\n};\r\n\r\nSpriteMorph.prototype.doScreenshot = function (imgSource, data) {\r\n    var canvas,\r\n        stage = this.parentThatIsA(StageMorph),\r\n        costume;\r\n    data = this.newCostumeName(data);\r\n    if (imgSource[0] === undefined) {\r\n        return;\r\n    }\r\n    if (imgSource[0] === \"pen trails\") {\r\n        canvas = stage.trailsCanvas;\r\n        costume = new Costume(canvas, data).copy(); // prevent mutation\r\n    } else if (imgSource[0] === \"stage image\") {\r\n        canvas = stage.fullImageClassic();\r\n        costume = new Costume(canvas, data);\r\n    }\r\n    this.addCostume(costume);\r\n};\r\n\r\n// SpriteHighlightMorph /////////////////////////////////////////////////\r\n\r\n// SpriteHighlightMorph inherits from Morph:\r\n\r\nSpriteHighlightMorph.prototype = new Morph();\r\nSpriteHighlightMorph.prototype.constructor = SpriteHighlightMorph;\r\nSpriteHighlightMorph.uber = Morph.prototype;\r\n\r\n// SpriteHighlightMorph instance creation:\r\n\r\nfunction SpriteHighlightMorph() {\r\n    this.init();\r\n}\r\n\r\n// StageMorph /////////////////////////////////////////////////////////\r\n\r\n/*\r\n    I inherit from FrameMorph and copy from SpriteMorph.\r\n*/\r\n\r\n// StageMorph inherits from FrameMorph:\r\n\r\nStageMorph.prototype = new FrameMorph();\r\nStageMorph.prototype.constructor = StageMorph;\r\nStageMorph.uber = FrameMorph.prototype;\r\n\r\n// StageMorph preferences settings\r\n\r\nStageMorph.prototype.dimensions = new Point(480, 360); // unscaled extent\r\nStageMorph.prototype.frameRate = 0; // unscheduled per default\r\n\r\nStageMorph.prototype.isCachingPrimitives\r\n    = SpriteMorph.prototype.isCachingPrimitives;\r\n\r\nStageMorph.prototype.sliderColor\r\n    = SpriteMorph.prototype.sliderColor;\r\n\r\nStageMorph.prototype.paletteTextColor\r\n    = SpriteMorph.prototype.paletteTextColor;\r\n\r\nStageMorph.prototype.hiddenPrimitives = {};\r\nStageMorph.prototype.codeMappings = {};\r\nStageMorph.prototype.codeHeaders = {};\r\nStageMorph.prototype.enableCodeMapping = false;\r\nStageMorph.prototype.enableInheritance = true;\r\nStageMorph.prototype.enableSublistIDs = false;\r\n\r\n// StageMorph instance creation\r\n\r\nfunction StageMorph(globals) {\r\n    this.init(globals);\r\n}\r\n\r\nStageMorph.prototype.init = function (globals) {\r\n    this.name = localize('Stage');\r\n    this.instrument = null;\r\n    this.threads = new ThreadManager();\r\n    this.variables = new VariableFrame(globals || null, this);\r\n    this.scripts = new ScriptsMorph();\r\n    this.customBlocks = [];\r\n    this.globalBlocks = [];\r\n    this.costumes = new List();\r\n    this.costume = null;\r\n    this.sounds = new List();\r\n    this.version = Date.now(); // for observers\r\n    this.isFastTracked = false;\r\n    this.enableCustomHatBlocks = true;\r\n    this.cloneCount = 0;\r\n\r\n    this.timerStart = Date.now();\r\n    this.tempo = 60; // bpm\r\n    this.lastMessage = '';\r\n\r\n    this.watcherUpdateFrequency = 2;\r\n    this.lastWatcherUpdate = Date.now();\r\n\r\n    this.scale = 1; // for display modes, do not persist\r\n\r\n    this.keysPressed = {}; // for handling keyboard events, do not persist\r\n    this.blocksCache = {}; // not to be serialized (!)\r\n    this.paletteCache = {}; // not to be serialized (!)\r\n    this.lastAnswer = ''; // last user input, do not persist\r\n    this.activeSounds = []; // do not persist\r\n\r\n    this.trailsCanvas = null;\r\n    this.isThreadSafe = false;\r\n\r\n    this.graphicsValues = {\r\n        'color': 0,\r\n        'fisheye': 0,\r\n        'whirl': 0,\r\n        'pixelate': 0,\r\n        'mosaic': 0,\r\n        'duplicate': 0,\r\n        'negative': 0,\r\n        'comic': 0,\r\n        'confetti': 0,\r\n        'saturation': 0,\r\n        'brightness': 0\r\n    };\r\n\r\n    StageMorph.uber.init.call(this);\r\n\r\n    this.acceptsDrops = false;\r\n    this.setColor(new Color(255, 255, 255));\r\n    this.fps = this.frameRate;\r\n};\r\n\r\n// StageMorph scaling\r\n\r\nStageMorph.prototype.setScale = function (number) {\r\n    var delta = number / this.scale,\r\n        pos = this.position(),\r\n        relativePos,\r\n        bubble,\r\n        oldFlag = Morph.prototype.trackChanges,\r\n        myself = this;\r\n\r\n    if (delta === 1) {return; }\r\n    Morph.prototype.trackChanges = false;\r\n    this.scale = number;\r\n    this.setExtent(this.dimensions.multiplyBy(number));\r\n\r\n    // now move and resize all children - sprites, bubbles, watchers etc..\r\n    this.children.forEach(function (morph) {\r\n        relativePos = morph.position().subtract(pos);\r\n        morph.drawNew();\r\n        morph.setPosition(\r\n            relativePos.multiplyBy(delta).add(pos),\r\n            true // just me (for nested sprites)\r\n        );\r\n        if (morph instanceof SpriteMorph) {\r\n            bubble = morph.talkBubble();\r\n            if (bubble) {\r\n                bubble.setScale(number);\r\n                morph.positionTalkBubble();\r\n            }\r\n        } else if (morph instanceof StagePrompterMorph) {\r\n            if (myself.scale < 1) {\r\n                morph.setWidth(myself.width() - 10);\r\n            } else {\r\n                morph.setWidth(myself.dimensions.x - 20);\r\n            }\r\n            morph.fixLayout();\r\n            morph.setCenter(myself.center());\r\n            morph.setBottom(myself.bottom());\r\n        }\r\n    });\r\n    Morph.prototype.trackChanges = oldFlag;\r\n    this.changed();\r\n};\r\n\r\n// StageMorph rendering\r\n\r\nStageMorph.prototype.drawNew = function () {\r\n    var ctx;\r\n    StageMorph.uber.drawNew.call(this);\r\n    if (this.costume) {\r\n        ctx = this.image.getContext('2d');\r\n        ctx.scale(this.scale, this.scale);\r\n        ctx.drawImage(\r\n            this.costume.contents,\r\n            (this.width() / this.scale - this.costume.width()) / 2,\r\n            (this.height() / this.scale - this.costume.height()) / 2\r\n        );\r\n        this.image = this.applyGraphicsEffects(this.image);\r\n    }\r\n    this.version = Date.now(); // for observer optimization\r\n};\r\n\r\nStageMorph.prototype.drawOn = function (aCanvas, aRect) {\r\n    // make sure to draw the pen trails canvas as well\r\n    var rectangle, area, delta, src, context, w, h, sl, st, ws, hs;\r\n    if (!this.isVisible) {\r\n        return null;\r\n    }\r\n    rectangle = aRect || this.bounds;\r\n    area = rectangle.intersect(this.bounds);\r\n    if (area.extent().gt(new Point(0, 0))) {\r\n        delta = this.position().neg();\r\n        src = area.copy().translateBy(delta);\r\n        context = aCanvas.getContext('2d');\r\n        context.globalAlpha = this.alpha;\r\n\r\n        sl = src.left();\r\n        st = src.top();\r\n        w = Math.min(src.width(), this.image.width - sl);\r\n        h = Math.min(src.height(), this.image.height - st);\r\n\r\n        if (w < 1 || h < 1) {\r\n            return null;\r\n        }\r\n        context.drawImage(\r\n            this.image,\r\n            sl,\r\n            st,\r\n            w,\r\n            h,\r\n            area.left(),\r\n            area.top(),\r\n            w,\r\n            h\r\n        );\r\n\r\n        // pen trails\r\n        ws = w / this.scale;\r\n        hs = h / this.scale;\r\n        context.save();\r\n        context.scale(this.scale, this.scale);\r\n        try {\r\n            context.drawImage(\r\n                this.penTrails(),\r\n                sl / this.scale,\r\n                st / this.scale,\r\n                ws,\r\n                hs,\r\n                area.left() / this.scale,\r\n                area.top() / this.scale,\r\n                ws,\r\n                hs\r\n            );\r\n        } catch (err) { // sometimes triggered only by Firefox\r\n            context.restore();\r\n            context.drawImage(\r\n                this.penTrails(),\r\n                0,\r\n                0,\r\n                this.dimensions.x,\r\n                this.dimensions.y,\r\n                this.left(),\r\n                this.top(),\r\n                this.dimensions.x * this.scale,\r\n                this.dimensions.y * this.scale\r\n            );\r\n        }\r\n        context.restore();\r\n    }\r\n};\r\n\r\nStageMorph.prototype.clearPenTrails = function () {\r\n    this.trailsCanvas = newCanvas(this.dimensions);\r\n    this.changed();\r\n};\r\n\r\nStageMorph.prototype.penTrails = function () {\r\n    if (!this.trailsCanvas) {\r\n        this.trailsCanvas = newCanvas(this.dimensions);\r\n    }\r\n    return this.trailsCanvas;\r\n};\r\n\r\nStageMorph.prototype.penTrailsMorph = function () {\r\n    // for collision detection purposes\r\n    var morph = new Morph(),\r\n        trails = this.penTrails(),\r\n        ctx;\r\n    morph.bounds = this.bounds.copy();\r\n    morph.image = newCanvas(this.extent());\r\n    ctx = morph.image.getContext('2d');\r\n    ctx.drawImage(\r\n        trails,\r\n        0,\r\n        0,\r\n        trails.width,\r\n        trails.height,\r\n        0,\r\n        0,\r\n        this.image.width,\r\n        this.image.height\r\n    );\r\n    return morph;\r\n};\r\n\r\nStageMorph.prototype.colorFiltered = function (aColor, excludedSprite) {\r\n    // answer a new Morph containing my image filtered by aColor\r\n    // ignore the excludedSprite, because its collision is checked\r\n    // ignore transparency (alpha)\r\n    var morph = new Morph(),\r\n        ext = this.extent(),\r\n        img = this.thumbnail(ext, excludedSprite),\r\n        ctx,\r\n        src,\r\n        clr,\r\n        i,\r\n        dta;\r\n\r\n    src = normalizeCanvas(img, true).getContext('2d').getImageData(\r\n        0,\r\n        0,\r\n        ext.x,\r\n        ext.y\r\n    );\r\n    morph.bounds = this.bounds.copy();\r\n    morph.image = newCanvas(ext, true);\r\n    ctx = morph.image.getContext('2d');\r\n    dta = ctx.createImageData(ext.x, ext.y);\r\n    for (i = 0; i < ext.x * ext.y * 4; i += 4) {\r\n        clr = new Color(\r\n            src.data[i],\r\n            src.data[i + 1],\r\n            src.data[i + 2]\r\n        );\r\n        if (clr.eq(aColor)) {\r\n            dta.data[i] = src.data[i];\r\n            dta.data[i + 1] = src.data[i + 1];\r\n            dta.data[i + 2] = src.data[i + 2];\r\n            dta.data[i + 3] = 255;\r\n        }\r\n    }\r\n    ctx.putImageData(dta, 0, 0);\r\n    return morph;\r\n};\r\n\r\n// StageMorph pixel access:\r\n\r\nStageMorph.prototype.getPixelColor = function (aPoint) {\r\n    var point, context, data;\r\n\tif (this.trailsCanvas) {\r\n        point = aPoint.subtract(this.bounds.origin);\r\n        context = this.trailsCanvas.getContext('2d');\r\n        data = context.getImageData(point.x, point.y, 1, 1);\r\n        if (data.data[3] === 0) {\r\n        \treturn StageMorph.uber.getPixelColor.call(this, aPoint);\r\n        }\r\n        return new Color(\r\n            data.data[0],\r\n            data.data[1],\r\n            data.data[2],\r\n            data.data[3] / 255\r\n        );\r\n \t}\r\n};\r\n\r\n// StageMorph accessing\r\n\r\nStageMorph.prototype.watchers = function (leftPos) {\r\n/*\r\n    answer an array of all currently visible watchers.\r\n    If leftPos is specified, filter the list for all\r\n    shown or hidden watchers whose left side equals\r\n    the given border (for automatic positioning)\r\n*/\r\n    return this.children.filter(function (morph) {\r\n        if (morph instanceof WatcherMorph) {\r\n            if (leftPos) {\r\n                return morph.left() === leftPos;\r\n            }\r\n            return morph.isVisible;\r\n        }\r\n        return false;\r\n    });\r\n};\r\n\r\n// StageMorph timer\r\n\r\nStageMorph.prototype.resetTimer = function () {\r\n    this.timerStart = Date.now();\r\n};\r\n\r\nStageMorph.prototype.getTimer = function () {\r\n    var elapsed = Math.floor((Date.now() - this.timerStart) / 100);\r\n    return elapsed / 10;\r\n};\r\n\r\n// StageMorph tempo\r\n\r\nStageMorph.prototype.setTempo = function (bpm) {\r\n    this.tempo = Math.max(20, (+bpm || 0));\r\n};\r\n\r\nStageMorph.prototype.changeTempo = function (delta) {\r\n    this.setTempo(this.getTempo() + (+delta || 0));\r\n};\r\n\r\nStageMorph.prototype.getTempo = function () {\r\n    return +this.tempo;\r\n};\r\n\r\n// StageMorph messages\r\n\r\nStageMorph.prototype.getLastMessage = function () {\r\n    return this.lastMessage || '';\r\n};\r\n\r\n// StageMorph Mouse Coordinates\r\n\r\nStageMorph.prototype.reportMouseX = function () {\r\n    var world = this.world();\r\n    if (world) {\r\n        return (world.hand.position().x - this.center().x) / this.scale;\r\n    }\r\n    return 0;\r\n};\r\n\r\nStageMorph.prototype.reportMouseY = function () {\r\n    var world = this.world();\r\n    if (world) {\r\n        return (this.center().y - world.hand.position().y) / this.scale;\r\n    }\r\n    return 0;\r\n};\r\n\r\n// StageMorph drag & drop\r\n\r\nStageMorph.prototype.wantsDropOf = function (aMorph) {\r\n    return aMorph instanceof SpriteMorph ||\r\n        aMorph instanceof WatcherMorph ||\r\n        aMorph instanceof ListWatcherMorph ||\r\n        aMorph instanceof SpriteIconMorph;\r\n};\r\n\r\nStageMorph.prototype.reactToDropOf = function (morph, hand) {\r\n    if (morph instanceof SpriteIconMorph) { // detach sprite from anchor\r\n        if (morph.object.anchor) {\r\n            morph.object.anchor.detachPart(morph.object);\r\n        }\r\n        this.world().add(morph);\r\n        morph.slideBackTo(hand.grabOrigin);\r\n    }\r\n};\r\n\r\n// StageMorph stepping\r\n\r\nStageMorph.prototype.step = function () {\r\n    var current, elapsed, leftover, ide, world = this.world();\r\n\r\n    // handle keyboard events\r\n    if (world.keyboardReceiver === null) {\r\n        world.keyboardReceiver = this;\r\n    }\r\n    if (world.currentKey === null) {\r\n        this.keyPressed = null;\r\n    }\r\n\r\n    // manage threads\r\n    if (this.enableCustomHatBlocks) {\r\n        this.stepGenericConditions();\r\n    }\r\n    if (this.isFastTracked && this.threads.processes.length) {\r\n        this.children.forEach(function (morph) {\r\n            if (morph instanceof SpriteMorph) {\r\n                morph.wasWarped = morph.isWarped;\r\n                if (!morph.isWarped) {\r\n                    morph.startWarp();\r\n                }\r\n            }\r\n        });\r\n        while ((Date.now() - this.lastTime) < 17) { // approx. 60 fps\r\n            this.threads.step();\r\n        }\r\n        this.children.forEach(function (morph) {\r\n            if (morph instanceof SpriteMorph) {\r\n                if (!morph.wasWarped) {\r\n                    morph.endWarp();\r\n                }\r\n            }\r\n        });\r\n        this.changed();\r\n    } else {\r\n        this.threads.step();\r\n\r\n        // single-stepping hook:\r\n        if (this.threads.wantsToPause) {\r\n            ide = this.parentThatIsA(IDE_Morph);\r\n            if (ide) {\r\n                ide.controlBar.pauseButton.refresh();\r\n            }\r\n        }\r\n    }\r\n\r\n    // update watchers\r\n    current = Date.now();\r\n    elapsed = current - this.lastWatcherUpdate;\r\n    leftover = (1000 / this.watcherUpdateFrequency) - elapsed;\r\n    if (leftover < 1) {\r\n        this.watchers().forEach(function (w) {\r\n            w.update();\r\n        });\r\n        this.lastWatcherUpdate = Date.now();\r\n    }\r\n};\r\n\r\nStageMorph.prototype.stepGenericConditions = function (stopAll) {\r\n    var hatCount = 0,\r\n        myself = this,\r\n        ide;\r\n    this.children.concat(this).forEach(function (morph) {\r\n        if (isSnapObject(morph)) {\r\n            morph.allGenericHatBlocks().forEach(function (block) {\r\n                hatCount += 1;\r\n                myself.threads.doWhen(block, morph, stopAll);\r\n            });\r\n        }\r\n    });\r\n    if (!hatCount) {\r\n        this.enableCustomHatBlocks = false;\r\n        ide = this.parentThatIsA(IDE_Morph);\r\n        if (ide) {\r\n            ide.controlBar.stopButton.refresh();\r\n        }\r\n    }\r\n};\r\n\r\nStageMorph.prototype.developersMenu = function () {\r\n    var myself = this,\r\n        menu = StageMorph.uber.developersMenu.call(this);\r\n    menu.addItem(\r\n        \"stop\",\r\n        function () {\r\n            myself.threads.stopAll();\r\n        },\r\n        'terminate all running threads'\r\n    );\r\n    return menu;\r\n};\r\n\r\n// StageMorph keyboard events\r\n\r\nStageMorph.prototype.processKeyDown = function (event) {\r\n    this.processKeyEvent(\r\n        event,\r\n        this.fireKeyEvent\r\n    );\r\n};\r\n\r\nStageMorph.prototype.processKeyUp = function (event) {\r\n    this.processKeyEvent(\r\n        event,\r\n        this.removePressedKey\r\n    );\r\n};\r\n\r\nStageMorph.prototype.processKeyEvent = function (event, action) {\r\n    var keyName;\r\n\r\n    // this.inspectKeyEvent(event);\r\n    switch (event.keyCode) {\r\n    case 13:\r\n        keyName = 'enter';\r\n        if (event.ctrlKey || event.metaKey) {\r\n            keyName = 'ctrl enter';\r\n        } else if (event.shiftKey) {\r\n            keyName = 'shift enter';\r\n        }\r\n        break;\r\n    case 27:\r\n        keyName = 'esc';\r\n        break;\r\n    case 32:\r\n        keyName = 'space';\r\n        break;\r\n    case 37:\r\n        keyName = 'left arrow';\r\n        break;\r\n    case 39:\r\n        keyName = 'right arrow';\r\n        break;\r\n    case 38:\r\n        keyName = 'up arrow';\r\n        break;\r\n    case 40:\r\n        keyName = 'down arrow';\r\n        break;\r\n    default:\r\n        keyName = String.fromCharCode(event.keyCode || event.charCode);\r\n        if (event.ctrlKey || event.metaKey) {\r\n            keyName = 'ctrl ' + (event.shiftKey ? 'shift ' : '') + keyName;\r\n        }\r\n    }\r\n    action.call(this, keyName);\r\n};\r\n\r\nStageMorph.prototype.fireKeyEvent = function (key) {\r\n    var evt = key.toLowerCase(),\r\n        procs = [],\r\n        ide = this.parentThatIsA(IDE_Morph),\r\n        myself = this;\r\n\r\n    this.keysPressed[evt] = true;\r\n    if (evt === 'ctrl enter') {\r\n        return this.fireGreenFlagEvent();\r\n    }\r\n    if (evt === 'shift enter') {\r\n        return this.editScripts();\r\n    }\r\n    if (evt === 'ctrl f') {\r\n        if (!ide.isAppMode) {ide.currentSprite.searchBlocks(); }\r\n        return;\r\n    }\r\n    if (evt === 'ctrl z') {\r\n        if (!ide.isAppMode) {ide.currentSprite.scripts.undrop(); }\r\n         return;\r\n    }\r\n    if (evt === 'ctrl shift z' || (evt === 'ctrl y')) {\r\n        if (!ide.isAppMode) {ide.currentSprite.scripts.redrop(); }\r\n         return;\r\n    }\r\n    if (evt === 'ctrl n') {\r\n        if (!ide.isAppMode) {ide.createNewProject(); }\r\n        return;\r\n    }\r\n    if (evt === 'ctrl o') {\r\n        if (!ide.isAppMode) {ide.openProjectsBrowser(); }\r\n        return;\r\n    }\r\n    if (evt === 'ctrl s') {\r\n        if (!ide.isAppMode) {ide.save(); }\r\n        return;\r\n    }\r\n    if (evt === 'ctrl shift s') {\r\n        if (!ide.isAppMode) {return ide.saveProjectsBrowser(); }\r\n        return;\r\n    }\r\n    if (evt === 'esc') {\r\n        return this.fireStopAllEvent();\r\n    }\r\n    this.children.concat(this).forEach(function (morph) {\r\n        if (isSnapObject(morph)) {\r\n            morph.allHatBlocksForKey(evt).forEach(function (block) {\r\n                procs.push(myself.threads.startProcess(\r\n                    block,\r\n                    morph,\r\n                    myself.isThreadSafe\r\n                ));\r\n            });\r\n        }\r\n    });\r\n    return procs;\r\n};\r\n\r\nStageMorph.prototype.removePressedKey = function (key) {\r\n    delete this.keysPressed[key.toLowerCase()];\r\n};\r\n\r\nStageMorph.prototype.processKeyPress = function (event) {\r\n    nop(event);\r\n};\r\n\r\nStageMorph.prototype.inspectKeyEvent\r\n    = CursorMorph.prototype.inspectKeyEvent;\r\n\r\nStageMorph.prototype.fireGreenFlagEvent = function () {\r\n    compteur();//Wiquid green flag trigger counter 1.\r\n    var procs = [],\r\n        ide = this.parentThatIsA(IDE_Morph),\r\n        myself = this;\r\n\r\n    this.children.concat(this).forEach(function (morph) {\r\n        if (isSnapObject(morph)) {\r\n            morph.allHatBlocksFor('__shout__go__').forEach(function (block) {\r\n                procs.push(myself.threads.startProcess(\r\n                    block,\r\n                    morph,\r\n                    myself.isThreadSafe\r\n                ));\r\n            });\r\n        }\r\n    });\r\n    if (ide) {\r\n        ide.controlBar.pauseButton.refresh();\r\n    }\r\n    return procs;\r\n};\r\n\r\nStageMorph.prototype.fireStopAllEvent = function () {\r\n    var ide = this.parentThatIsA(IDE_Morph);\r\n    this.threads.resumeAll(this.stage);\r\n    this.keysPressed = {};\r\n    this.threads.stopAll();\r\n    this.stopAllActiveSounds();\r\n    this.children.forEach(function (morph) {\r\n        if (morph.stopTalking) {\r\n            morph.stopTalking();\r\n        }\r\n    });\r\n    this.removeAllClones();\r\n    if (ide) {\r\n        ide.nextSteps([\r\n            nop,\r\n            function () {ide.controlBar.pauseButton.refresh(); }\r\n        ]);\r\n    }\r\n};\r\n\r\nStageMorph.prototype.removeAllClones = function () {\r\n    var myself = this,\r\n        clones = this.children.filter(\r\n            function (morph) {\r\n                return morph instanceof SpriteMorph && morph.isTemporary;\r\n            }\r\n        );\r\n    clones.forEach(function (clone) {\r\n        myself.threads.stopAllForReceiver(clone);\r\n        clone.detachFromAnchor();\r\n        clone.corpsify();\r\n        clone.destroy();\r\n    });\r\n    this.cloneCount = 0;\r\n};\r\n\r\nStageMorph.prototype.editScripts = function () {\r\n    var ide = this.parentThatIsA(IDE_Morph),\r\n        scripts,\r\n        sorted;\r\n    if (ide.isAppMode || !ScriptsMorph.prototype.enableKeyboard) {return; }\r\n    scripts = this.parentThatIsA(\r\n        IDE_Morph\r\n    ).currentSprite.scripts.selectForEdit(); // shadow on edit, if inherited\r\n    scripts.edit(scripts.position());\r\n    sorted = scripts.focus.sortedScripts();\r\n    if (sorted.length) {\r\n        scripts.focus.element = sorted[0];\r\n        if (scripts.focus.element instanceof HatBlockMorph) {\r\n            scripts.focus.nextCommand();\r\n        }\r\n    } else {\r\n        scripts.focus.moveBy(new Point(50, 50));\r\n    }\r\n    scripts.focus.fixLayout();\r\n};\r\n\r\n// StageMorph block templates\r\n\r\nStageMorph.prototype.blockTemplates = function (category) {\r\n    var blocks = [], myself = this, varNames, button,\r\n        cat = category || 'motion', txt;\r\n\r\n    function block(selector) {\r\n        if (myself.hiddenPrimitives[selector]) {\r\n            return null;\r\n        }\r\n        var newBlock = SpriteMorph.prototype.blockForSelector(selector, true);\r\n        newBlock.isTemplate = true;\r\n        return newBlock;\r\n    }\r\n\r\n    function variableBlock(varName) {\r\n        var newBlock = SpriteMorph.prototype.variableBlock(varName);\r\n        newBlock.isDraggable = false;\r\n        newBlock.isTemplate = true;\r\n        return newBlock;\r\n    }\r\n\r\n    function watcherToggle(selector) {\r\n        if (myself.hiddenPrimitives[selector]) {\r\n            return null;\r\n        }\r\n        var info = SpriteMorph.prototype.blocks[selector];\r\n        return new ToggleMorph(\r\n            'checkbox',\r\n            this,\r\n            function () {\r\n                myself.toggleWatcher(\r\n                    selector,\r\n                    localize(info.spec),\r\n                    myself.blockColor[info.category]\r\n                );\r\n            },\r\n            null,\r\n            function () {\r\n                return myself.showingWatcher(selector);\r\n            },\r\n            null\r\n        );\r\n    }\r\n\r\n    function variableWatcherToggle(varName) {\r\n        return new ToggleMorph(\r\n            'checkbox',\r\n            this,\r\n            function () {\r\n                myself.toggleVariableWatcher(varName);\r\n            },\r\n            null,\r\n            function () {\r\n                return myself.showingVariableWatcher(varName);\r\n            },\r\n            null\r\n        );\r\n    }\r\n\r\n    function addVar(pair) {\r\n        if (pair) {\r\n            if (myself.isVariableNameInUse(pair[0])) {\r\n                myself.inform('that name is already in use');\r\n            } else {\r\n                myself.addVariable(pair[0], pair[1]);\r\n                myself.toggleVariableWatcher(pair[0], pair[1]);\r\n                myself.blocksCache[cat] = null;\r\n                myself.paletteCache[cat] = null;\r\n                myself.parentThatIsA(IDE_Morph).refreshPalette();\r\n            }\r\n        }\r\n    }\r\n\r\n    if (cat === 'motion') {\r\n\r\n        txt = new TextMorph(localize(\r\n            'Stage selected:\\nno motion primitives'\r\n        ));\r\n        txt.fontSize = 9;\r\n        txt.setColor(this.paletteTextColor);\r\n        blocks.push(txt);\r\n        blocks.push('=');\r\n        blocks.push(this.makeBlockButton(cat));\r\n\r\n    } else if (cat === 'looks') {\r\n\r\n        blocks.push(block('doSwitchToCostume'));\r\n        blocks.push(block('doWearNextCostume'));\r\n        blocks.push(watcherToggle('getCostumeIdx'));\r\n        blocks.push(block('getCostumeIdx'));\r\n        blocks.push('-');\r\n        blocks.push(block('changeEffect'));\r\n        blocks.push(block('setEffect'));\r\n        blocks.push(block('clearEffects'));\r\n        blocks.push('-');\r\n        blocks.push(block('show'));\r\n        blocks.push(block('hide'));\r\n\r\n    // for debugging: ///////////////\r\n\r\n        if (this.world().isDevMode) {\r\n            blocks.push('-');\r\n            txt = new TextMorph(localize(\r\n                'development mode \\ndebugging primitives:'\r\n            ));\r\n            txt.fontSize = 9;\r\n            txt.setColor(this.paletteTextColor);\r\n            blocks.push(txt);\r\n            blocks.push('-');\r\n            blocks.push(block('log'));\r\n            blocks.push(block('alert'));\r\n            blocks.push('-');\r\n            blocks.push(block('doScreenshot'));\r\n        }\r\n\r\n    /////////////////////////////////\r\n\r\n        blocks.push('=');\r\n        blocks.push(this.makeBlockButton(cat));\r\n\r\n    } else if (cat === 'sound') {\r\n\r\n        blocks.push(block('playSound'));\r\n        blocks.push(block('doPlaySoundUntilDone'));\r\n        blocks.push(block('doStopAllSounds'));\r\n        blocks.push('-');\r\n        blocks.push(block('doRest'));\r\n        blocks.push(block('doPlayNote'));\r\n        blocks.push(block('doSetInstrument'));\r\n        blocks.push('-');\r\n        blocks.push(block('doChangeTempo'));\r\n        blocks.push(block('doSetTempo'));\r\n        blocks.push(watcherToggle('getTempo'));\r\n        blocks.push(block('getTempo'));\r\n        blocks.push('=');\r\n        blocks.push(this.makeBlockButton(cat));\r\n\r\n    } else if (cat === 'pen') {\r\n\r\n        blocks.push(block('clear'));\r\n        blocks.push(block('reportPenTrailsAsCostume'));\r\n        blocks.push('=');\r\n        blocks.push(this.makeBlockButton(cat));\r\n\r\n    } else if (cat === 'control') {\r\n\r\n        blocks.push(block('receiveGo'));\r\n        blocks.push(block('receiveKey'));\r\n        blocks.push(block('receiveInteraction'));\r\n        blocks.push(block('receiveCondition'));\r\n        blocks.push(block('receiveMessage'));\r\n        blocks.push('-');\r\n        blocks.push(block('doBroadcast'));\r\n        blocks.push(block('doBroadcastAndWait'));\r\n        blocks.push(watcherToggle('getLastMessage'));\r\n        blocks.push(block('getLastMessage'));\r\n        blocks.push('-');\r\n        blocks.push(block('doWarp'));\r\n        blocks.push('-');\r\n        blocks.push(block('doWait'));\r\n        blocks.push(block('doWaitUntil'));\r\n        blocks.push('-');\r\n        blocks.push(block('doForever'));\r\n        blocks.push(block('doRepeat'));\r\n        blocks.push(block('doUntil'));\r\n        blocks.push('-');\r\n        blocks.push(block('doIf'));\r\n        blocks.push(block('doIfElse'));\r\n        blocks.push('-');\r\n        blocks.push(block('doReport'));\r\n    \r\n        blocks.push(block('doStopThis'));\r\n        blocks.push(block('doStopOthers'));\r\n        blocks.push('-');\r\n        blocks.push(block('doRun'));\r\n        blocks.push(block('fork'));\r\n        blocks.push(block('evaluate'));\r\n        blocks.push('-');\r\n        blocks.push(block('doTellTo'));\r\n        blocks.push(block('reportAskFor'));\r\n        blocks.push('-');\r\n        blocks.push(block('doCallCC'));\r\n        blocks.push(block('reportCallCC'));\r\n        blocks.push('-');\r\n        blocks.push(block('createClone'));\r\n        blocks.push(block('newClone'));\r\n        blocks.push('-');\r\n        blocks.push(block('doPauseAll'));\r\n        blocks.push('=');\r\n        blocks.push(this.makeBlockButton(cat));\r\n\r\n    } else if (cat === 'sensing') {\r\n\r\n        blocks.push(block('doAsk'));\r\n        blocks.push(watcherToggle('getLastAnswer'));\r\n        blocks.push(block('getLastAnswer'));\r\n        blocks.push('-');\r\n        blocks.push(watcherToggle('reportMouseX'));\r\n        blocks.push(block('reportMouseX'));\r\n        blocks.push(watcherToggle('reportMouseY'));\r\n        blocks.push(block('reportMouseY'));\r\n        blocks.push(block('reportMouseDown'));\r\n        blocks.push('-');\r\n        blocks.push(block('reportKeyPressed'));\r\n        blocks.push('-');\r\n        blocks.push(block('doResetTimer'));\r\n        blocks.push(watcherToggle('getTimer'));\r\n        blocks.push(block('getTimer'));\r\n        blocks.push('-');\r\n        blocks.push(block('reportAttributeOf'));\r\n\r\n        if (SpriteMorph.prototype.enableFirstClass) {\r\n            blocks.push(block('reportGet'));\r\n        }\r\n        blocks.push('-');\r\n\r\n        blocks.push(block('reportURL'));\r\n        blocks.push('-');\r\n        blocks.push(block('reportIsFastTracking'));\r\n        blocks.push(block('doSetFastTracking'));\r\n        blocks.push('-');\r\n        blocks.push(block('reportDate'));\r\n\r\n    // for debugging: ///////////////\r\n\r\n        if (this.world().isDevMode) {\r\n\r\n            blocks.push('-');\r\n            txt = new TextMorph(localize(\r\n                'development mode \\ndebugging primitives:'\r\n            ));\r\n            txt.fontSize = 9;\r\n            txt.setColor(this.paletteTextColor);\r\n            blocks.push(txt);\r\n            blocks.push('-');\r\n            blocks.push(watcherToggle('reportThreadCount'));\r\n            blocks.push(block('reportThreadCount'));\r\n            blocks.push(block('colorFiltered'));\r\n            blocks.push(block('reportStackSize'));\r\n            blocks.push(block('reportFrameCount'));\r\n        }\r\n\r\n    /////////////////////////////////\r\n\r\n        blocks.push('=');\r\n        blocks.push(this.makeBlockButton(cat));\r\n\r\n    } else if (cat === 'operators') {\r\n\r\n        blocks.push(block('reifyScript'));\r\n        blocks.push(block('reifyReporter'));\r\n        blocks.push(block('reifyPredicate'));\r\n        blocks.push('#');\r\n        blocks.push('-');\r\n        blocks.push(block('reportSum'));\r\n        blocks.push(block('reportDifference'));\r\n        blocks.push(block('reportProduct'));\r\n        blocks.push(block('reportQuotient'));\r\n        blocks.push('-');\r\n        blocks.push(block('reportModulus'));\r\n        blocks.push(block('reportRound'));\r\n        blocks.push(block('reportMonadic'));\r\n        blocks.push(block('reportRandom'));\r\n        blocks.push('-');\r\n        blocks.push(block('reportLessThan'));\r\n        blocks.push(block('reportEquals'));\r\n        blocks.push(block('reportGreaterThan'));\r\n        blocks.push('-');\r\n        blocks.push(block('reportAnd'));\r\n        blocks.push(block('reportOr'));\r\n        blocks.push(block('reportNot'));\r\n        blocks.push(block('reportBoolean'));\r\n        blocks.push('-');\r\n        blocks.push(block('reportJoinWords'));\r\n        blocks.push(block('reportTextSplit'));\r\n        blocks.push(block('reportLetter'));\r\n        blocks.push(block('reportStringSize'));\r\n        blocks.push('-');\r\n        blocks.push(block('reportUnicode'));\r\n        blocks.push(block('reportUnicodeAsLetter'));\r\n        blocks.push('-');\r\n        blocks.push(block('reportIsA'));\r\n        blocks.push(block('reportIsIdentical'));\r\n\r\n        if (true) { // (Process.prototype.enableJS) {\r\n            blocks.push('-');\r\n            blocks.push(block('reportJSFunction'));\r\n        }\r\n\r\n    // for debugging: ///////////////\r\n\r\n        if (this.world().isDevMode) {\r\n            blocks.push('-');\r\n            txt = new TextMorph(\r\n                'development mode \\ndebugging primitives:'\r\n            );\r\n            txt.fontSize = 9;\r\n            txt.setColor(this.paletteTextColor);\r\n            blocks.push(txt);\r\n            blocks.push('-');\r\n            blocks.push(block('reportTypeOf'));\r\n            blocks.push(block('reportTextFunction'));\r\n        }\r\n\r\n    //////////////////////////////////\r\n\r\n        blocks.push('=');\r\n        blocks.push(this.makeBlockButton(cat));\r\n\r\n    } else if (cat === 'variables') {\r\n\r\n        button = new PushButtonMorph(\r\n            null,\r\n            function () {\r\n                new VariableDialogMorph(\r\n                    null,\r\n                    addVar,\r\n                    myself\r\n                ).prompt(\r\n                    'Variable name',\r\n                    null,\r\n                    myself.world()\r\n                );\r\n            },\r\n            'Make a variable'\r\n        );\r\n        blocks.push(button);\r\n\r\n        if (this.variables.allNames().length > 0) {\r\n            button = new PushButtonMorph(\r\n                null,\r\n                function () {\r\n                    var menu = new MenuMorph(\r\n                        myself.deleteVariable,\r\n                        null,\r\n                        myself\r\n                    );\r\n                    myself.variables.allNames().forEach(function (name) {\r\n                        menu.addItem(name, name);\r\n                    });\r\n                    menu.popUpAtHand(myself.world());\r\n                },\r\n                'Delete a variable'\r\n            );\r\n            blocks.push(button);\r\n        }\r\n\r\n        blocks.push('-');\r\n\r\n        varNames = this.variables.allNames();\r\n        if (varNames.length > 0) {\r\n            varNames.forEach(function (name) {\r\n                blocks.push(variableWatcherToggle(name));\r\n                blocks.push(variableBlock(name));\r\n            });\r\n            blocks.push('-');\r\n        }\r\n\r\n        blocks.push(block('doSetVar'));\r\n        blocks.push(block('doChangeVar'));\r\n        blocks.push(block('doShowVar'));\r\n        blocks.push(block('doHideVar'));\r\n        blocks.push(block('doDeclareVariables'));\r\n        blocks.push('=');\r\n        blocks.push(block('reportNewList'));\r\n        blocks.push('-');\r\n        blocks.push(block('reportCONS'));\r\n        blocks.push(block('reportListItem'));\r\n        blocks.push(block('reportCDR'));\r\n        blocks.push('-');\r\n        blocks.push(block('reportListLength'));\r\n        blocks.push(block('reportListContainsItem'));\r\n        blocks.push('-');\r\n        blocks.push(block('doAddToList'));\r\n        blocks.push(block('doDeleteFromList'));\r\n        blocks.push(block('doInsertInList'));\r\n        blocks.push(block('doReplaceInList'));\r\n\r\n    // for debugging: ///////////////\r\n\r\n        if (this.world().isDevMode) {\r\n            blocks.push('-');\r\n            txt = new TextMorph(localize(\r\n                'development mode \\ndebugging primitives:'\r\n            ));\r\n            txt.fontSize = 9;\r\n            txt.setColor(this.paletteTextColor);\r\n            blocks.push(txt);\r\n            blocks.push('-');\r\n            blocks.push(block('reportMap'));\r\n            blocks.push('-');\r\n            blocks.push(block('doForEach'));\r\n            blocks.push(block('doShowTable'));\r\n        }\r\n\r\n    /////////////////////////////////\r\n\r\n        blocks.push('=');\r\n\r\n        if (StageMorph.prototype.enableCodeMapping) {\r\n            blocks.push(block('doMapCodeOrHeader'));\r\n            blocks.push(block('doMapValueCode'));\r\n            blocks.push(block('doMapListCode'));\r\n            blocks.push('-');\r\n            blocks.push(block('reportMappedCode'));\r\n            blocks.push('=');\r\n        }\r\n\r\n        blocks.push(this.makeBlockButton());\r\n    }\r\n    return blocks;\r\n};\r\n\r\n// StageMorph primitives\r\n\r\nStageMorph.prototype.clear = function () {\r\n    this.clearPenTrails();\r\n};\r\n\r\n// StageMorph user menu\r\n\r\nStageMorph.prototype.userMenu = function () {\r\n    var ide = this.parentThatIsA(IDE_Morph),\r\n        menu = new MenuMorph(this),\r\n        myself = this;\r\n\r\n    if (ide && ide.isAppMode) {\r\n        // menu.addItem('help', 'nop');\r\n        return menu;\r\n    }\r\n    menu.addItem(\"edit\", 'edit');\r\n    menu.addItem(\"show all\", 'showAll');\r\n    menu.addItem(\r\n        \"pic...\",\r\n        function () {\r\n            ide.saveCanvasAs(\r\n                myself.fullImageClassic(),\r\n                myself.name\r\n            );\r\n        },\r\n        'open a new window\\nwith a picture of the stage'\r\n    );\r\n    menu.addLine();\r\n    menu.addItem(\r\n        'pen trails',\r\n        function () {\r\n            var costume = ide.currentSprite.reportPenTrailsAsCostume().copy();\r\n            ide.currentSprite.addCostume(costume);\r\n            ide.currentSprite.wearCostume(costume);\r\n            ide.hasChangedMedia = true;\r\n            ide.spriteBar.tabBar.tabTo('costumes');\r\n        },\r\n        ide.currentSprite instanceof SpriteMorph ?\r\n            'turn all pen trails and stamps\\n' +\r\n                'into a new costume for the\\ncurrently selected sprite'\r\n                    : 'turn all pen trails and stamps\\n' +\r\n                        'into a new background for the stage'\r\n    );\r\n    return menu;\r\n};\r\n\r\nStageMorph.prototype.showAll = function () {\r\n    var myself = this;\r\n    this.children.forEach(function (m) {\r\n        if (m instanceof SpriteMorph) {\r\n            if (!m.anchor) {\r\n                m.show();\r\n                m.keepWithin(myself);\r\n            }\r\n        } else {\r\n            m.show();\r\n            m.keepWithin(myself);\r\n            if (m.fixLayout) {m.fixLayout(); }\r\n        }\r\n    });\r\n};\r\n\r\nStageMorph.prototype.edit = SpriteMorph.prototype.edit;\r\n\r\n// StageMorph thumbnail\r\n\r\nStageMorph.prototype.thumbnail = function (extentPoint, excludedSprite) {\r\n/*\r\n    answer a new Canvas of extentPoint dimensions containing\r\n    my thumbnail representation keeping the originial aspect ratio\r\n*/\r\n    var myself = this,\r\n        src = this.image,\r\n        scale = Math.min(\r\n            (extentPoint.x / src.width),\r\n            (extentPoint.y / src.height)\r\n        ),\r\n        trg = newCanvas(extentPoint),\r\n        ctx = trg.getContext('2d'),\r\n        fb,\r\n        fimg;\r\n\r\n    ctx.scale(scale, scale);\r\n    ctx.drawImage(\r\n        src,\r\n        0,\r\n        0\r\n    );\r\n    ctx.drawImage(\r\n        this.penTrails(),\r\n        0,\r\n        0,\r\n        this.dimensions.x * this.scale,\r\n        this.dimensions.y * this.scale\r\n    );\r\n    this.children.forEach(function (morph) {\r\n        if (morph.isVisible && (morph !== excludedSprite)) {\r\n            fb = morph.fullBounds();\r\n            fimg = morph.fullImage();\r\n            if (fimg.width && fimg.height) {\r\n                ctx.drawImage(\r\n                    morph.fullImage(),\r\n                    fb.origin.x - myself.bounds.origin.x,\r\n                    fb.origin.y - myself.bounds.origin.y\r\n                );\r\n            }\r\n        }\r\n    });\r\n    return trg;\r\n};\r\n\r\n// StageMorph hiding and showing:\r\n\r\n/*\r\n    override the inherited behavior to recursively hide/show all\r\n    children.\r\n*/\r\n\r\nStageMorph.prototype.hide = function () {\r\n    this.isVisible = false;\r\n    this.changed();\r\n};\r\n\r\nStageMorph.prototype.show = function () {\r\n    this.isVisible = true;\r\n    this.changed();\r\n};\r\n\r\n// StageMorph cloning override\r\n\r\nStageMorph.prototype.createClone = nop;\r\nStageMorph.prototype.newClone = nop;\r\n\r\n// StageMorph pseudo-inherited behavior\r\n\r\nStageMorph.prototype.categories = SpriteMorph.prototype.categories;\r\nStageMorph.prototype.blockColor = SpriteMorph.prototype.blockColor;\r\nStageMorph.prototype.paletteColor = SpriteMorph.prototype.paletteColor;\r\nStageMorph.prototype.setName = SpriteMorph.prototype.setName;\r\nStageMorph.prototype.makeBlockButton = SpriteMorph.prototype.makeBlockButton;\r\nStageMorph.prototype.makeBlock = SpriteMorph.prototype.makeBlock;\r\nStageMorph.prototype.palette = SpriteMorph.prototype.palette;\r\nStageMorph.prototype.freshPalette = SpriteMorph.prototype.freshPalette;\r\nStageMorph.prototype.blocksMatching = SpriteMorph.prototype.blocksMatching;\r\nStageMorph.prototype.searchBlocks = SpriteMorph.prototype.searchBlocks;\r\nStageMorph.prototype.reporterize = SpriteMorph.prototype.reporterize;\r\nStageMorph.prototype.showingWatcher = SpriteMorph.prototype.showingWatcher;\r\nStageMorph.prototype.addVariable = SpriteMorph.prototype.addVariable;\r\nStageMorph.prototype.deleteVariable = SpriteMorph.prototype.deleteVariable;\r\n\r\n// StageMorph block rendering\r\n\r\nStageMorph.prototype.doScreenshot\r\n    = SpriteMorph.prototype.doScreenshot;\r\n\r\nStageMorph.prototype.newCostumeName\r\n    = SpriteMorph.prototype.newCostumeName;\r\n\r\nStageMorph.prototype.blockForSelector\r\n    = SpriteMorph.prototype.blockForSelector;\r\n\r\n// StageMorph variable watchers (for palette checkbox toggling)\r\n\r\nStageMorph.prototype.findVariableWatcher\r\n    = SpriteMorph.prototype.findVariableWatcher;\r\n\r\nStageMorph.prototype.toggleVariableWatcher\r\n    = SpriteMorph.prototype.toggleVariableWatcher;\r\n\r\nStageMorph.prototype.showingVariableWatcher\r\n    = SpriteMorph.prototype.showingVariableWatcher;\r\n\r\nStageMorph.prototype.deleteVariableWatcher\r\n    = SpriteMorph.prototype.deleteVariableWatcher;\r\n\r\n// StageMorph background management\r\n\r\nStageMorph.prototype.addCostume\r\n    = SpriteMorph.prototype.addCostume;\r\n\r\nStageMorph.prototype.wearCostume\r\n    = SpriteMorph.prototype.wearCostume;\r\n\r\nStageMorph.prototype.getCostumeIdx\r\n    = SpriteMorph.prototype.getCostumeIdx;\r\n\r\nStageMorph.prototype.doWearNextCostume\r\n    = SpriteMorph.prototype.doWearNextCostume;\r\n\r\nStageMorph.prototype.doWearPreviousCostume\r\n    = SpriteMorph.prototype.doWearPreviousCostume;\r\n\r\nStageMorph.prototype.doSwitchToCostume\r\n    = SpriteMorph.prototype.doSwitchToCostume;\r\n\r\nStageMorph.prototype.reportCostumes\r\n    = SpriteMorph.prototype.reportCostumes;\r\n\r\n// StageMorph graphic effects\r\n\r\nStageMorph.prototype.graphicsChanged\r\n    = SpriteMorph.prototype.graphicsChanged;\r\n\r\nStageMorph.prototype.applyGraphicsEffects\r\n    = SpriteMorph.prototype.applyGraphicsEffects;\r\n\r\nStageMorph.prototype.setEffect\r\n    = SpriteMorph.prototype.setEffect;\r\n\r\nStageMorph.prototype.getGhostEffect\r\n    = SpriteMorph.prototype.getGhostEffect;\r\n\r\nStageMorph.prototype.changeEffect\r\n    = SpriteMorph.prototype.changeEffect;\r\n\r\nStageMorph.prototype.clearEffects\r\n    = SpriteMorph.prototype.clearEffects;\r\n\r\n// StageMorph sound management\r\n\r\nStageMorph.prototype.addSound\r\n    = SpriteMorph.prototype.addSound;\r\n\r\nStageMorph.prototype.playSound\r\n    = SpriteMorph.prototype.playSound;\r\n\r\nStageMorph.prototype.stopAllActiveSounds = function () {\r\n    this.activeSounds.forEach(function (audio) {\r\n        audio.pause();\r\n    });\r\n    this.activeSounds = [];\r\n};\r\n\r\nStageMorph.prototype.pauseAllActiveSounds = function () {\r\n    this.activeSounds.forEach(function (audio) {\r\n        audio.pause();\r\n    });\r\n};\r\n\r\nStageMorph.prototype.resumeAllActiveSounds = function () {\r\n    this.activeSounds.forEach(function (audio) {\r\n        audio.play();\r\n    });\r\n};\r\n\r\nStageMorph.prototype.reportSounds\r\n    = SpriteMorph.prototype.reportSounds;\r\n\r\n// StageMorph non-variable watchers\r\n\r\nStageMorph.prototype.toggleWatcher\r\n    = SpriteMorph.prototype.toggleWatcher;\r\n\r\nStageMorph.prototype.showingWatcher\r\n    = SpriteMorph.prototype.showingWatcher;\r\n\r\nStageMorph.prototype.watcherFor =\r\n    SpriteMorph.prototype.watcherFor;\r\n\r\nStageMorph.prototype.getLastAnswer\r\n    = SpriteMorph.prototype.getLastAnswer;\r\n\r\nStageMorph.prototype.reportThreadCount\r\n    = SpriteMorph.prototype.reportThreadCount;\r\n\r\n// StageMorph message broadcasting\r\n\r\nStageMorph.prototype.allMessageNames\r\n    = SpriteMorph.prototype.allMessageNames;\r\n\r\nStageMorph.prototype.allHatBlocksFor\r\n    = SpriteMorph.prototype.allHatBlocksFor;\r\n\r\nStageMorph.prototype.allHatBlocksForKey\r\n    = SpriteMorph.prototype.allHatBlocksForKey;\r\n\r\nStageMorph.prototype.allHatBlocksForInteraction\r\n    = SpriteMorph.prototype.allHatBlocksForInteraction;\r\n\r\nStageMorph.prototype.allGenericHatBlocks\r\n    = SpriteMorph.prototype.allGenericHatBlocks;\r\n\r\n// StageMorph events\r\n\r\nStageMorph.prototype.mouseClickLeft\r\n    = SpriteMorph.prototype.mouseClickLeft;\r\n\r\nStageMorph.prototype.mouseEnter\r\n    = SpriteMorph.prototype.mouseEnter;\r\n\r\nStageMorph.prototype.mouseLeave = function () {\r\n    this.receiveUserInteraction('mouse-departed');\r\n};\r\n\r\nStageMorph.prototype.mouseDownLeft\r\n    = SpriteMorph.prototype.mouseDownLeft;\r\n\r\nStageMorph.prototype.receiveUserInteraction\r\n    = SpriteMorph.prototype.receiveUserInteraction;\r\n\r\n// StageMorph custom blocks\r\n\r\nStageMorph.prototype.deleteAllBlockInstances\r\n    = SpriteMorph.prototype.deleteAllBlockInstances;\r\n\r\nStageMorph.prototype.allBlockInstances\r\n    = SpriteMorph.prototype.allBlockInstances;\r\n\r\nStageMorph.prototype.allLocalBlockInstances\r\n    = SpriteMorph.prototype.allLocalBlockInstances;\r\n\r\nStageMorph.prototype.allEditorBlockInstances\r\n    = SpriteMorph.prototype.allEditorBlockInstances;\r\n\r\nStageMorph.prototype.paletteBlockInstance\r\n    = SpriteMorph.prototype.paletteBlockInstance;\r\n\r\nStageMorph.prototype.usesBlockInstance\r\n    = SpriteMorph.prototype.usesBlockInstance;\r\n\r\nStageMorph.prototype.doubleDefinitionsFor\r\n    = SpriteMorph.prototype.doubleDefinitionsFor;\r\n\r\nStageMorph.prototype.replaceDoubleDefinitionsFor\r\n    = SpriteMorph.prototype.replaceDoubleDefinitionsFor;\r\n\r\nStageMorph.prototype.allInvocationsOf\r\n    = SpriteMorph.prototype.allInvocationsOf;\r\n\r\nStageMorph.prototype.allIndependentInvocationsOf\r\n    = SpriteMorph.prototype.allInvocationsOf;\r\n\r\nStageMorph.prototype.allDependentInvocationsOf\r\n    = SpriteMorph.prototype.allInvocationsOf;\r\n\r\n// StageMorph inheritance support - general\r\n\r\nStageMorph.prototype.specimens = function () {\r\n    return [];\r\n};\r\n\r\nStageMorph.prototype.allSpecimens = function () {\r\n    return [];\r\n};\r\n\r\nStageMorph.prototype.shadowAttribute = nop;\r\n\r\n// StageMorph inheritance support - attributes\r\n\r\nStageMorph.prototype.inheritsAttribute = function () {\r\n    return false;\r\n};\r\n\r\n// StageMorph inheritance support - variables\r\n\r\nStageMorph.prototype.isVariableNameInUse\r\n    = SpriteMorph.prototype.isVariableNameInUse;\r\n\r\nStageMorph.prototype.globalVariables\r\n    = SpriteMorph.prototype.globalVariables;\r\n\r\nStageMorph.prototype.inheritedVariableNames = function () {\r\n    return [];\r\n};\r\n\r\n// StageMorph inheritance - custom blocks\r\n\r\nStageMorph.prototype.getMethod\r\n    = SpriteMorph.prototype.getMethod;\r\n\r\nStageMorph.prototype.getLocalMethod\r\n    = SpriteMorph.prototype.getLocalMethod;\r\n\r\nStageMorph.prototype.ownBlocks\r\n    = SpriteMorph.prototype.ownBlocks;\r\n\r\nStageMorph.prototype.allBlocks = function (valuesOnly) {\r\n    var dict = this.ownBlocks();\r\n    if (valuesOnly) {\r\n        return Object.keys(dict).map(function (key) {return dict[key]; });\r\n    }\r\n    return dict;\r\n};\r\n\r\nStageMorph.prototype.inheritedBlocks = function () {\r\n    return [];\r\n};\r\n\r\n// StageMorph variable refactoring\r\n\r\nStageMorph.prototype.hasSpriteVariable\r\n    = SpriteMorph.prototype.hasSpriteVariable;\r\n\r\nStageMorph.prototype.refactorVariableInstances\r\n    = SpriteMorph.prototype.refactorVariableInstances;\r\n\r\n// StageMorph pen trails as costume\r\n\r\nStageMorph.prototype.reportPenTrailsAsCostume = function () {\r\n    return new Costume(\r\n        this.trailsCanvas,\r\n        this.newCostumeName(localize('Background'))\r\n    );\r\n};\r\n\r\n// SpriteBubbleMorph ////////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a sprite's scaleable speech bubble. I rely on SpriteMorph\r\n    for my preferences settings\r\n*/\r\n\r\n// SpriteBubbleMorph inherits from SpeechBubbleMorph:\r\n\r\nSpriteBubbleMorph.prototype = new SpeechBubbleMorph();\r\nSpriteBubbleMorph.prototype.constructor = SpriteBubbleMorph;\r\nSpriteBubbleMorph.uber = SpeechBubbleMorph.prototype;\r\n\r\n// SpriteBubbleMorph instance creation:\r\n\r\nfunction SpriteBubbleMorph(data, stage, isThought, isQuestion) {\r\n    this.init(data, stage, isThought, isQuestion);\r\n}\r\n\r\nSpriteBubbleMorph.prototype.init = function (\r\n    data,\r\n    stage,\r\n    isThought,\r\n    isQuestion\r\n) {\r\n    var sprite = SpriteMorph.prototype;\r\n    this.stage = stage;\r\n    this.scale = stage ? stage.scale : 1;\r\n    this.data = data;\r\n    this.isQuestion = isQuestion;\r\n\r\n    SpriteBubbleMorph.uber.init.call(\r\n        this,\r\n        this.dataAsMorph(data),\r\n        sprite.bubbleColor,\r\n        null,\r\n        null,\r\n        isQuestion ? sprite.blockColor.sensing : sprite.bubbleBorderColor,\r\n        null,\r\n        isThought\r\n    );\r\n};\r\n\r\n// SpriteBubbleMorph contents formatting\r\n\r\nSpriteBubbleMorph.prototype.dataAsMorph = function (data, toggle) {\r\n    var contents,\r\n        isTable,\r\n        sprite = SpriteMorph.prototype,\r\n        isText,\r\n        img,\r\n        scaledImg,\r\n        width;\r\n    if (data instanceof Morph) {\r\n        if (isSnapObject(data)) {\r\n            img = data.thumbnail(new Point(40, 40));\r\n            contents = new Morph();\r\n            contents.silentSetWidth(img.width);\r\n            contents.silentSetHeight(img.height);\r\n            contents.image = img;\r\n            contents.version = data.version;\r\n            contents.step = function () {\r\n                if (this.version !== data.version) {\r\n                    img = data.thumbnail(new Point(40, 40));\r\n                    this.image = img;\r\n                    this.version = data.version;\r\n                    this.changed();\r\n                }\r\n            };\r\n        } else {\r\n            contents = data;\r\n        }\r\n    } else if (isString(data)) {\r\n        isText = true;\r\n        contents = new TextMorph(\r\n            data,\r\n            sprite.bubbleFontSize * this.scale,\r\n            null, // fontStyle\r\n            sprite.bubbleFontIsBold,\r\n            false, // italic\r\n            'center'\r\n        );\r\n    } else if (typeof data === 'boolean') {\r\n        img = sprite.booleanMorph(data).fullImage();\r\n        contents = new Morph();\r\n        contents.silentSetWidth(img.width);\r\n        contents.silentSetHeight(img.height);\r\n        contents.image = img;\r\n    } else if (data instanceof Costume) {\r\n        img = data.thumbnail(new Point(40, 40));\r\n        contents = new Morph();\r\n        contents.silentSetWidth(img.width);\r\n        contents.silentSetHeight(img.height);\r\n        contents.image = img;\r\n    } else if (data instanceof Sound) {\r\n        contents = new SymbolMorph('notes', 30);\r\n    } else if (data instanceof HTMLCanvasElement) {\r\n        contents = new Morph();\r\n        contents.silentSetWidth(data.width);\r\n        contents.silentSetHeight(data.height);\r\n        contents.image = data;\r\n    } else if (data instanceof List) {\r\n        if (toggle && this.contentsMorph) {\r\n            isTable = (this.contentsMorph instanceof ListWatcherMorph);\r\n        } else {\r\n            isTable = data.isTable();\r\n        }\r\n\r\n        if (isTable) { // (!toggle && data.isTable()) {\r\n            contents = new TableFrameMorph(new TableMorph(data, 10));\r\n            if (this.stage) {\r\n                contents.expand(this.stage.extent().translateBy(\r\n                    -2 * (this.edge + this.border + this.padding)\r\n                ));\r\n            }\r\n        } else {\r\n            contents = new ListWatcherMorph(data);\r\n            contents.update(true);\r\n            contents.step = contents.update;\r\n            if (this.stage) {\r\n                contents.expand(this.stage.extent().translateBy(\r\n                    -2 * (this.edge + this.border + this.padding)\r\n                ));\r\n            }\r\n        }\r\n        contents.isDraggable = false;\r\n    } else if (data instanceof Context) {\r\n        img = data.image();\r\n        contents = new Morph();\r\n        contents.silentSetWidth(img.width);\r\n        contents.silentSetHeight(img.height);\r\n        contents.image = img;\r\n    } else {\r\n        contents = new TextMorph(\r\n            data.toString(),\r\n            sprite.bubbleFontSize * this.scale,\r\n            null, // fontStyle\r\n            sprite.bubbleFontIsBold,\r\n            false, // italic\r\n            'center'\r\n        );\r\n    }\r\n    if (contents instanceof TextMorph) {\r\n        // reflow text boundaries\r\n        width = Math.max(\r\n            contents.width(),\r\n            sprite.bubbleCorner * 2 * this.scale\r\n        );\r\n        if (isText) {\r\n            width = Math.min(width, sprite.bubbleMaxTextWidth * this.scale);\r\n        }\r\n        contents.setWidth(width);\r\n    } else if (!(data instanceof List)) {\r\n        // scale contents image\r\n        scaledImg = newCanvas(contents.extent().multiplyBy(this.scale));\r\n        scaledImg.getContext('2d').drawImage(\r\n            contents.image,\r\n            0,\r\n            0,\r\n            scaledImg.width,\r\n            scaledImg.height\r\n        );\r\n        contents.image = scaledImg;\r\n        contents.bounds = contents.bounds.scaleBy(this.scale);\r\n    }\r\n    return contents;\r\n};\r\n\r\n// SpriteBubbleMorph scaling\r\n\r\nSpriteBubbleMorph.prototype.setScale = function (scale) {\r\n    this.scale = scale;\r\n    this.changed();\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\n// SpriteBubbleMorph drawing:\r\n\r\nSpriteBubbleMorph.prototype.drawNew = function (toggle) {\r\n    var sprite = SpriteMorph.prototype;\r\n\r\n    // scale my settings\r\n    this.edge = sprite.bubbleCorner * this.scale;\r\n    this.border = sprite.bubbleBorder * this.scale;\r\n    this.padding = sprite.bubbleCorner / 2 * this.scale;\r\n\r\n    // re-build my contents\r\n    if (this.contentsMorph) {\r\n        this.contentsMorph.destroy();\r\n    }\r\n    this.contentsMorph = this.dataAsMorph(this.data, toggle);\r\n    this.add(this.contentsMorph);\r\n\r\n    // adjust my layout\r\n    this.silentSetWidth(this.contentsMorph.width()\r\n        + (this.padding ? this.padding * 2 : this.edge * 2));\r\n    this.silentSetHeight(this.contentsMorph.height()\r\n        + this.edge\r\n        + this.border * 2\r\n        + this.padding * 2\r\n        + 2);\r\n\r\n    // draw my outline\r\n    SpeechBubbleMorph.uber.drawNew.call(this);\r\n\r\n    // position my contents\r\n    this.contentsMorph.setPosition(this.position().add(\r\n        new Point(\r\n            this.padding || this.edge,\r\n            this.border + this.padding + 1\r\n        )\r\n    ));\r\n};\r\n\r\n// SpriteBubbleMorph resizing:\r\n\r\nSpriteBubbleMorph.prototype.fixLayout = function () {\r\n    // to be used when resizing list watchers\r\n    // otherwise use drawNew() to force re-layout\r\n\r\n    var sprite = SpriteMorph.prototype;\r\n\r\n    this.changed();\r\n    // scale my settings\r\n    this.edge = sprite.bubbleCorner * this.scale;\r\n    this.border = sprite.bubbleBorder * this.scale;\r\n    this.padding = sprite.bubbleCorner / 2 * this.scale;\r\n\r\n    // adjust my layout\r\n    this.silentSetWidth(this.contentsMorph.width()\r\n        + (this.padding ? this.padding * 2 : this.edge * 2));\r\n    this.silentSetHeight(this.contentsMorph.height()\r\n        + this.edge\r\n        + this.border * 2\r\n        + this.padding * 2\r\n        + 2);\r\n\r\n    // draw my outline\r\n    SpeechBubbleMorph.uber.drawNew.call(this);\r\n\r\n    // position my contents\r\n    this.contentsMorph.setPosition(this.position().add(\r\n        new Point(\r\n            this.padding || this.edge,\r\n            this.border + this.padding + 1\r\n        )\r\n    ));\r\n    this.changed();\r\n};\r\n\r\n// Costume /////////////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a picture that's \"wearable\" by a sprite. My rotationCenter is\r\n    relative to my contents position.\r\n*/\r\n\r\n// Costume instance creation\r\n\r\nfunction Costume(canvas, name, rotationCenter) {\r\n    this.contents = canvas ? normalizeCanvas(canvas, true)\r\n            : newCanvas(null, true);\r\n    this.shrinkToFit(this.maxExtent());\r\n    this.name = name || null;\r\n    this.rotationCenter = rotationCenter || this.center();\r\n    this.version = Date.now(); // for observer optimization\r\n    this.loaded = null; // for de-serialization only\r\n}\r\n\r\nCostume.prototype.maxExtent = function () {\r\n    return StageMorph.prototype.dimensions;\r\n};\r\n\r\nCostume.prototype.toString = function () {\r\n    return 'a Costume(' + this.name + ')';\r\n};\r\n\r\n// Costume dimensions - all relative\r\n\r\nCostume.prototype.extent = function () {\r\n    return new Point(this.contents.width, this.contents.height);\r\n};\r\n\r\nCostume.prototype.center = function () {\r\n    return this.extent().divideBy(2);\r\n};\r\n\r\nCostume.prototype.width = function () {\r\n    return this.contents.width;\r\n};\r\n\r\nCostume.prototype.height = function () {\r\n    return this.contents.height;\r\n};\r\n\r\nCostume.prototype.bounds = function () {\r\n    return new Rectangle(0, 0, this.width(), this.height());\r\n};\r\n\r\n// Costume shrink-wrapping\r\n\r\nCostume.prototype.shrinkWrap = function () {\r\n    // adjust my contents'  bounds to my visible bounding box\r\n    var bb = this.boundingBox(),\r\n        ext = bb.extent(),\r\n        pic = newCanvas(ext, true),\r\n        ctx = pic.getContext('2d');\r\n\r\n    ctx.drawImage(\r\n        this.contents,\r\n        bb.origin.x,\r\n        bb.origin.y,\r\n        ext.x,\r\n        ext.y,\r\n        0,\r\n        0,\r\n        ext.x,\r\n        ext.y\r\n    );\r\n    this.rotationCenter = this.rotationCenter.subtract(bb.origin);\r\n    this.contents = pic;\r\n    this.version = Date.now();\r\n};\r\n\r\nCostume.prototype.canvasBoundingBox = function (pic) {\r\n    // answer the rectangle surrounding my contents' non-transparent pixels\r\n    var row,\r\n        col,\r\n        w = pic.width,\r\n        h = pic.height,\r\n        ctx = pic.getContext('2d'),\r\n        dta = ctx.getImageData(0, 0, w, h);\r\n\r\n    function getAlpha(x, y) {\r\n        return dta.data[((y * w * 4) + (x * 4)) + 3];\r\n    }\r\n\r\n    function getLeft() {\r\n        for (col = 0; col <= w; col += 1) {\r\n            for (row = 0; row <= h; row += 1) {\r\n                if (getAlpha(col, row)) {\r\n                    return col;\r\n                }\r\n            }\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    function getTop() {\r\n        for (row = 0; row <= h; row += 1) {\r\n            for (col = 0; col <= w; col += 1) {\r\n                if (getAlpha(col, row)) {\r\n                    return row;\r\n                }\r\n            }\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    function getRight() {\r\n        for (col = w; col >= 0; col -= 1) {\r\n            for (row = h; row >= 0; row -= 1) {\r\n                if (getAlpha(col, row)) {\r\n                    return Math.min(col + 1, w);\r\n                }\r\n            }\r\n        }\r\n        return w;\r\n    }\r\n\r\n    function getBottom() {\r\n        for (row = h; row >= 0; row -= 1) {\r\n            for (col = w; col >= 0; col -= 1) {\r\n                if (getAlpha(col, row)) {\r\n                    return Math.min(row + 1, h);\r\n                }\r\n            }\r\n        }\r\n        return h;\r\n    }\r\n\r\n    return new Rectangle(getLeft(), getTop(), getRight(), getBottom());\r\n};\r\n\r\nCostume.prototype.boundingBox = function () {\r\n    return this.canvasBoundingBox(this.contents);\r\n};\r\n\r\n// Costume duplication\r\n\r\nCostume.prototype.copy = function () {\r\n    var canvas = newCanvas(this.extent(), true),\r\n        cpy,\r\n        ctx;\r\n    ctx = canvas.getContext('2d');\r\n    ctx.drawImage(this.contents, 0, 0);\r\n    cpy = new Costume(canvas, this.name ? copy(this.name) : null);\r\n    cpy.rotationCenter = this.rotationCenter.copy();\r\n    return cpy;\r\n};\r\n\r\n// Costume flipping\r\n\r\nCostume.prototype.flipped = function () {\r\n/*\r\n    answer a copy of myself flipped horizontally\r\n    (mirrored along a vertical axis), used for\r\n    SpriteMorph's rotation style type 2\r\n*/\r\n    var canvas = newCanvas(this.extent(), true),\r\n        ctx = canvas.getContext('2d'),\r\n        flipped;\r\n\r\n    ctx.translate(this.width(), 0);\r\n    ctx.scale(-1, 1);\r\n    ctx.drawImage(this.contents, 0, 0);\r\n    flipped = new Costume(\r\n        canvas,\r\n        this.name,\r\n        new Point(\r\n            this.width() - this.rotationCenter.x,\r\n            this.rotationCenter.y\r\n        )\r\n    );\r\n    return flipped;\r\n};\r\n\r\n// Costume actions\r\n\r\nCostume.prototype.edit = function (aWorld, anIDE, isnew, oncancel, onsubmit) {\r\n    var myself = this,\r\n        editor = new PaintEditorMorph();\r\n    editor.oncancel = oncancel || nop;\r\n    editor.openIn(\r\n        aWorld,\r\n        isnew ?\r\n                newCanvas(StageMorph.prototype.dimensions, true) :\r\n                this.contents,\r\n        isnew ?\r\n                null :\r\n                this.rotationCenter,\r\n        function (img, rc) {\r\n            myself.contents = img;\r\n            myself.rotationCenter = rc;\r\n            myself.version = Date.now();\r\n            aWorld.changed();\r\n            if (anIDE) {\r\n                if (anIDE.currentSprite instanceof SpriteMorph) {\r\n                    // don't shrinkwrap stage costumes\r\n                    myself.shrinkWrap();\r\n                }\r\n                anIDE.currentSprite.wearCostume(myself, true); // don't shadow\r\n                anIDE.hasChangedMedia = true;\r\n            }\r\n            (onsubmit || nop)();\r\n        }\r\n    );\r\n};\r\n\r\nCostume.prototype.editRotationPointOnly = function (aWorld) {\r\n    var editor = new CostumeEditorMorph(this),\r\n        action,\r\n        dialog,\r\n        txt;\r\n\r\n    action = function () {editor.accept(); };\r\n    dialog = new DialogBoxMorph(this, action);\r\n    txt = new TextMorph(\r\n        localize('click or drag crosshairs to move the rotation center'),\r\n        dialog.fontSize,\r\n        dialog.fontStyle,\r\n        true,\r\n        false,\r\n        'center',\r\n        null,\r\n        null,\r\n        new Point(1, 1),\r\n        new Color(255, 255, 255)\r\n    );\r\n\r\n    dialog.labelString = 'Costume Editor';\r\n    dialog.createLabel();\r\n    dialog.setPicture(editor);\r\n    dialog.addBody(txt);\r\n    dialog.addButton('ok', 'Ok');\r\n    dialog.addButton('cancel', 'Cancel');\r\n    dialog.fixLayout();\r\n    dialog.drawNew();\r\n    dialog.fixLayout();\r\n    dialog.popUp(aWorld);\r\n};\r\n\r\n// Costume thumbnail\r\n\r\nCostume.prototype.shrinkToFit = function (extentPoint) {\r\n    if (extentPoint.x < this.width() || (extentPoint.y < this.height())) {\r\n        this.contents = this.thumbnail(extentPoint);\r\n    }\r\n};\r\n\r\nCostume.prototype.thumbnail = function (extentPoint) {\r\n/*\r\n    answer a new Canvas of extentPoint dimensions containing\r\n    my thumbnail representation keeping the originial aspect ratio\r\n*/\r\n    var src = this.contents, // at this time sprites aren't composite morphs\r\n        scale = Math.min(\r\n            (extentPoint.x / src.width),\r\n            (extentPoint.y / src.height)\r\n        ),\r\n        xOffset = (extentPoint.x - (src.width * scale)) / 2,\r\n        yOffset = (extentPoint.y - (src.height * scale)) / 2,\r\n        trg = newCanvas(extentPoint),\r\n        ctx = trg.getContext('2d');\r\n\r\n    if (!src || src.width + src.height === 0) {return trg; }\r\n    ctx.scale(scale, scale);\r\n    ctx.drawImage(\r\n        src,\r\n        Math.floor(xOffset / scale),\r\n        Math.floor(yOffset / scale)\r\n    );\r\n    return trg;\r\n};\r\n\r\n// Costume catching \"tainted\" canvases\r\n\r\nCostume.prototype.isTainted = function () {\r\n    // find out whether the canvas has been tainted by cross-origin data\r\n    // assumes that if reading image data throws an error it is tainted\r\n    try {\r\n        this.contents.getContext('2d').getImageData(\r\n            0,\r\n            0,\r\n            this.contents.width,\r\n            this.contents.height\r\n        );\r\n    } catch (err) {\r\n        return true;\r\n    }\r\n    return false;\r\n};\r\n\r\n// SVG_Costume /////////////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a costume containing an SVG image.\r\n*/\r\n\r\n// SVG_Costume inherits from Costume:\r\n\r\nSVG_Costume.prototype = new Costume();\r\nSVG_Costume.prototype.constructor = SVG_Costume;\r\nSVG_Costume.uber = Costume.prototype;\r\n\r\n// SVG_Costume instance creation\r\n\r\nfunction SVG_Costume(svgImage, name, rotationCenter) {\r\n    this.contents = svgImage;\r\n    this.shrinkToFit(this.maxExtent());\r\n    this.name = name || null;\r\n    this.rotationCenter = rotationCenter || this.center();\r\n    this.version = Date.now(); // for observer optimization\r\n    this.loaded = null; // for de-serialization only\r\n}\r\n\r\nSVG_Costume.prototype.toString = function () {\r\n    return 'an SVG_Costume(' + this.name + ')';\r\n};\r\n\r\n// SVG_Costume duplication\r\n\r\nSVG_Costume.prototype.copy = function () {\r\n    var img = new Image(),\r\n        cpy;\r\n    img.src = this.contents.src;\r\n    cpy = new SVG_Costume(img, this.name ? copy(this.name) : null);\r\n    cpy.rotationCenter = this.rotationCenter.copy();\r\n    return cpy;\r\n};\r\n\r\n// SVG_Costume flipping\r\n\r\n/*\r\n    flipping is currently inherited from Costume, which rasterizes it.\r\n    Therefore flipped SVG costumes may appear pixelated until we add\r\n    a method to either truly flip SVGs or change the Sprite's drawNew()\r\n    method to scale the costume before flipping it\r\n*/\r\n\r\n// SVG_Costume thumbnail\r\n\r\nSVG_Costume.prototype.shrinkToFit = function (extentPoint) {\r\n    // overridden for unrasterized SVGs\r\n    nop(extentPoint);\r\n    return;\r\n};\r\n\r\n// CostumeEditorMorph ////////////////////////////////////////////////////////\r\n\r\n// CostumeEditorMorph inherits from Morph:\r\n\r\nCostumeEditorMorph.prototype = new Morph();\r\nCostumeEditorMorph.prototype.constructor = CostumeEditorMorph;\r\nCostumeEditorMorph.uber = Morph.prototype;\r\n\r\n// CostumeEditorMorph preferences settings:\r\nCostumeEditorMorph.prototype.size = Costume.prototype.maxExtent();\r\n\r\n// CostumeEditorMorph instance creation\r\n\r\nfunction CostumeEditorMorph(costume) {\r\n    this.init(costume);\r\n}\r\n\r\nCostumeEditorMorph.prototype.init = function (costume) {\r\n    this.costume = costume || new Costume();\r\n    this.rotationCenter = this.costume.rotationCenter.copy();\r\n    this.margin = new Point(0, 0);\r\n    CostumeEditorMorph.uber.init.call(this);\r\n    this.noticesTransparentClick = true;\r\n};\r\n\r\n// CostumeEditorMorph edit ops\r\n\r\nCostumeEditorMorph.prototype.accept = function () {\r\n    this.costume.rotationCenter = this.rotationCenter.copy();\r\n    this.costume.version = Date.now();\r\n};\r\n\r\n// CostumeEditorMorph displaying\r\n\r\nCostumeEditorMorph.prototype.drawNew = function () {\r\n    var rp, ctx;\r\n\r\n    this.margin = this.size.subtract(this.costume.extent()).divideBy(2);\r\n    rp = this.rotationCenter.add(this.margin);\r\n\r\n    this.silentSetExtent(this.size);\r\n\r\n    this.image = newCanvas(this.extent());\r\n\r\n    // draw the background\r\n    if (!this.cachedTexture) {\r\n        this.cachedTexture = this.createTexture();\r\n\r\n    }\r\n    this.drawCachedTexture();\r\n\r\n    ctx = this.image.getContext('2d');\r\n\r\n    // draw the costume\r\n    ctx.drawImage(this.costume.contents, this.margin.x, this.margin.y);\r\n\r\n    // draw crosshairs:\r\n    ctx.globalAlpha = 0.5;\r\n\r\n    // circle around center:\r\n    ctx.fillStyle = 'white';\r\n    ctx.beginPath();\r\n    ctx.arc(\r\n        rp.x,\r\n        rp.y,\r\n        20,\r\n        radians(0),\r\n        radians(360),\r\n        false\r\n    );\r\n    ctx.closePath();\r\n    ctx.fill();\r\n    ctx.stroke();\r\n\r\n    ctx.beginPath();\r\n    ctx.arc(\r\n        rp.x,\r\n        rp.y,\r\n        10,\r\n        radians(0),\r\n        radians(360),\r\n        false\r\n    );\r\n    ctx.stroke();\r\n\r\n    // horizontal line:\r\n    ctx.beginPath();\r\n    ctx.moveTo(0, rp.y);\r\n    ctx.lineTo(this.costume.width() + this.margin.x * 2, rp.y);\r\n    ctx.stroke();\r\n\r\n    // vertical line:\r\n    ctx.beginPath();\r\n    ctx.moveTo(rp.x, 0);\r\n    ctx.lineTo(rp.x, this.costume.height() + this.margin.y * 2);\r\n    ctx.stroke();\r\n};\r\n\r\nCostumeEditorMorph.prototype.createTexture = function () {\r\n    var size = 5,\r\n        texture = newCanvas(new Point(size * 2, size * 2)),\r\n        ctx = texture.getContext('2d'),\r\n        grey = new Color(230, 230, 230);\r\n\r\n    ctx.fillStyle = 'white';\r\n    ctx.fillRect(0, 0, size * 2, size * 2);\r\n    ctx.fillStyle = grey.toString();\r\n    ctx.fillRect(0, 0, size, size);\r\n    ctx.fillRect(size, size, size, size);\r\n    return texture;\r\n};\r\n\r\n\r\n// CostumeEditorMorph events\r\n\r\nCostumeEditorMorph.prototype.mouseDownLeft = function (pos) {\r\n    this.rotationCenter = pos.subtract(\r\n        this.position().add(this.margin)\r\n    );\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nCostumeEditorMorph.prototype.mouseMove\r\n    = CostumeEditorMorph.prototype.mouseDownLeft;\r\n\r\n// Sound /////////////////////////////////////////////////////////////\r\n\r\n// Sound instance creation\r\n\r\nfunction Sound(audio, name) {\r\n    this.audio = audio; // mandatory\r\n    this.name = name || \"Sound\";\r\n}\r\n\r\nSound.prototype.play = function () {\r\n    // return an instance of an audio element which can be terminated\r\n    // externally (i.e. by the stage)\r\n    var aud = document.createElement('audio');\r\n    aud.src = this.audio.src;\r\n    aud.play();\r\n    return aud;\r\n};\r\n\r\nSound.prototype.copy = function () {\r\n    var snd = document.createElement('audio'),\r\n        cpy;\r\n\r\n    snd.src = this.audio.src;\r\n    cpy = new Sound(snd, this.name ? copy(this.name) : null);\r\n    return cpy;\r\n};\r\n\r\nSound.prototype.toDataURL = function () {\r\n    return this.audio.src;\r\n};\r\n\r\n// Note /////////////////////////////////////////////////////////\r\n\r\n// I am a single musical note\r\n\r\n// Note instance creation\r\n\r\nfunction Note(pitch) {\r\n    this.pitch = pitch === 0 ? 0 : pitch || 69;\r\n    this.setupContext();\r\n    this.oscillator = null;\r\n}\r\n\r\n// Note shared properties\r\n\r\nNote.prototype.audioContext = null;\r\nNote.prototype.gainNode = null;\r\n\r\n// Note audio context\r\n\r\nNote.prototype.setupContext = function () {\r\n    if (this.audioContext) { return; }\r\n    var AudioContext = (function () {\r\n        // cross browser some day?\r\n        var ctx = window.AudioContext ||\r\n            window.mozAudioContext ||\r\n            window.msAudioContext ||\r\n            window.oAudioContext ||\r\n            window.webkitAudioContext;\r\n        if (!ctx.prototype.createGain) {\r\n            ctx.prototype.createGain = ctx.prototype.createGainNode;\r\n        }\r\n        return ctx;\r\n    }());\r\n    if (!AudioContext) {\r\n        throw new Error('Web Audio API is not supported\\nin this browser');\r\n    }\r\n    Note.prototype.audioContext = new AudioContext();\r\n    Note.prototype.gainNode = Note.prototype.audioContext.createGain();\r\n    Note.prototype.gainNode.gain.value = 0.25; // reduce volume by 1/4\r\n};\r\n\r\n// Note playing\r\n\r\nNote.prototype.play = function (type) {\r\n    this.oscillator = this.audioContext.createOscillator();\r\n    if (!this.oscillator.start) {\r\n        this.oscillator.start = this.oscillator.noteOn;\r\n    }\r\n    if (!this.oscillator.stop) {\r\n        this.oscillator.stop = this.oscillator.noteOff;\r\n    }\r\n    this.oscillator.type = [\r\n        'sine',\r\n        'square',\r\n        'sawtooth',\r\n        'triangle'\r\n    ][(type || 1) - 1];\r\n    this.oscillator.frequency.value =\r\n        Math.pow(2, (this.pitch - 69) / 12) * 440;\r\n    this.oscillator.connect(this.gainNode);\r\n    this.gainNode.connect(this.audioContext.destination);\r\n    this.oscillator.start(0);\r\n};\r\n\r\nNote.prototype.stop = function () {\r\n    if (this.oscillator) {\r\n        this.oscillator.stop(0);\r\n        this.oscillator = null;\r\n    }\r\n};\r\n\r\n// CellMorph //////////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a spreadsheet style cell that can display either a string,\r\n    a Morph, a Canvas or a toString() representation of anything else.\r\n    I can be used in variable watchers or list view element cells.\r\n*/\r\n\r\n// CellMorph inherits from BoxMorph:\r\n\r\nCellMorph.prototype = new BoxMorph();\r\nCellMorph.prototype.constructor = CellMorph;\r\nCellMorph.uber = BoxMorph.prototype;\r\n\r\n// CellMorph instance creation:\r\n\r\nfunction CellMorph(contents, color, idx, parentCell) {\r\n    this.init(contents, color, idx, parentCell);\r\n}\r\n\r\nCellMorph.prototype.init = function (contents, color, idx, parentCell) {\r\n    this.contents = (contents === 0 ? 0\r\n            : contents === false ? false\r\n                    : contents || '');\r\n    this.isEditable = isNil(idx) ? false : true;\r\n    this.idx = idx || null; // for list watchers\r\n    this.parentCell = parentCell || null; // for list circularity detection\r\n    CellMorph.uber.init.call(\r\n        this,\r\n        SyntaxElementMorph.prototype.corner,\r\n        1.000001, // shadow bug in Chrome,\r\n        new Color(255, 255, 255)\r\n    );\r\n    this.color = color || new Color(255, 140, 0);\r\n    this.isBig = false;\r\n    this.version = null; // only for observing sprites\r\n    this.drawNew();\r\n};\r\n\r\n// CellMorph accessing:\r\n\r\nCellMorph.prototype.big = function () {\r\n    this.isBig = true;\r\n    this.changed();\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nCellMorph.prototype.normal = function () {\r\n    this.isBig = false;\r\n    this.changed();\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\n// CellMorph circularity testing:\r\n\r\n\r\nCellMorph.prototype.isCircular = function (list) {\r\n    if (!this.parentCell) {return false; }\r\n    if (list instanceof List) {\r\n        return this.contents === list || this.parentCell.isCircular(list);\r\n    }\r\n    return this.parentCell.isCircular(this.contents);\r\n};\r\n\r\n// CellMorph layout:\r\n\r\nCellMorph.prototype.fixLayout = function () {\r\n    var listwatcher;\r\n    this.changed();\r\n    this.drawNew();\r\n    this.changed();\r\n    if (this.parent && this.parent.fixLayout) { // variable watcher\r\n        this.parent.fixLayout();\r\n    } else {\r\n        listwatcher = this.parentThatIsA(ListWatcherMorph);\r\n        if (listwatcher) {\r\n            listwatcher.fixLayout();\r\n        }\r\n    }\r\n};\r\n\r\n// CellMorph drawing:\r\n\r\nCellMorph.prototype.update = function () {\r\n    // special case for observing sprites\r\n    if (!isSnapObject(this.contents)) {\r\n        return;\r\n    }\r\n    if (this.version !== this.contents.version) {\r\n        this.drawNew();\r\n    }\r\n};\r\n\r\nCellMorph.prototype.drawNew = function (toggle, type) {\r\n    var context,\r\n        txt,\r\n        img,\r\n        fontSize = SyntaxElementMorph.prototype.fontSize,\r\n        isSameList = this.contentsMorph instanceof ListWatcherMorph\r\n                && (this.contentsMorph.list === this.contents),\r\n        isSameTable = this.contentsMorph instanceof TableFrameMorph\r\n                && (this.contentsMorph.tableMorph.table === this.contents);\r\n\r\n    if (this.isBig) {\r\n        fontSize = fontSize * 1.5;\r\n    }\r\n\r\n    // re-build my contents\r\n    if (toggle || (this.contentsMorph && !isSameList && !isSameTable)) {\r\n        this.contentsMorph.destroy();\r\n        this.version = null;\r\n    }\r\n\r\n    if (toggle || (!isSameList && !isSameTable)) {\r\n        if (this.contents instanceof Morph) {\r\n            if (isSnapObject(this.contents)) {\r\n                img = this.contents.thumbnail(new Point(40, 40));\r\n                this.contentsMorph = new Morph();\r\n                this.contentsMorph.silentSetWidth(img.width);\r\n                this.contentsMorph.silentSetHeight(img.height);\r\n                this.contentsMorph.image = img;\r\n                this.version = this.contents.version;\r\n            } else {\r\n                this.contentsMorph = this.contents;\r\n            }\r\n        } else if (isString(this.contents)) {\r\n            txt  = this.contents.length > 500 ?\r\n                    this.contents.slice(0, 500) + '...' : this.contents;\r\n            this.contentsMorph = new TextMorph(\r\n                txt,\r\n                fontSize,\r\n                null,\r\n                true,\r\n                false,\r\n                'left' // was formerly 'center', reverted b/c of code-mapping\r\n            );\r\n            if (this.isEditable) {\r\n                this.contentsMorph.isEditable = true;\r\n                this.contentsMorph.enableSelecting();\r\n            }\r\n            this.contentsMorph.setColor(new Color(255, 255, 255));\r\n        } else if (typeof this.contents === 'boolean') {\r\n            img = SpriteMorph.prototype.booleanMorph.call(\r\n                null,\r\n                this.contents\r\n            ).fullImage();\r\n            this.contentsMorph = new Morph();\r\n            this.contentsMorph.silentSetWidth(img.width);\r\n            this.contentsMorph.silentSetHeight(img.height);\r\n            this.contentsMorph.image = img;\r\n        } else if (this.contents instanceof HTMLCanvasElement) {\r\n            this.contentsMorph = new Morph();\r\n            this.contentsMorph.silentSetWidth(this.contents.width);\r\n            this.contentsMorph.silentSetHeight(this.contents.height);\r\n            this.contentsMorph.image = this.contents;\r\n        } else if (this.contents instanceof Context) {\r\n            img = this.contents.image();\r\n            this.contentsMorph = new Morph();\r\n            this.contentsMorph.silentSetWidth(img.width);\r\n            this.contentsMorph.silentSetHeight(img.height);\r\n            this.contentsMorph.image = img;\r\n        } else if (this.contents instanceof Costume) {\r\n            img = this.contents.thumbnail(new Point(40, 40));\r\n            this.contentsMorph = new Morph();\r\n            this.contentsMorph.silentSetWidth(img.width);\r\n            this.contentsMorph.silentSetHeight(img.height);\r\n            this.contentsMorph.image = img;\r\n        } else if (this.contents instanceof Sound) {\r\n            this.contentsMorph = new SymbolMorph('notes', 30);\r\n        } else if (this.contents instanceof List) {\r\n            if ('table' === type || (!toggle && this.contents.isTable())) {\r\n                this.contentsMorph = new TableFrameMorph(new TableMorph(\r\n                    this.contents,\r\n                    10\r\n                ));\r\n                this.contentsMorph.expand(new Point(200, 150));\r\n            } else {\r\n                if (this.isCircular()) {\r\n                    this.contentsMorph = new TextMorph(\r\n                        '(...)',\r\n                        fontSize,\r\n                        null,\r\n                        false, // bold\r\n                        true, // italic\r\n                        'center'\r\n                    );\r\n                    this.contentsMorph.setColor(new Color(255, 255, 255));\r\n                } else {\r\n                    this.contentsMorph = new ListWatcherMorph(\r\n                        this.contents,\r\n                        this\r\n                    );\r\n                }\r\n            }\r\n            this.contentsMorph.isDraggable = false;\r\n        } else {\r\n            this.contentsMorph = new TextMorph(\r\n                !isNil(this.contents) ? this.contents.toString() : '',\r\n                fontSize,\r\n                null,\r\n                true,\r\n                false,\r\n                'center'\r\n            );\r\n            if (this.isEditable) {\r\n                this.contentsMorph.isEditable = true;\r\n                this.contentsMorph.enableSelecting();\r\n            }\r\n            this.contentsMorph.setColor(new Color(255, 255, 255));\r\n        }\r\n        this.add(this.contentsMorph);\r\n    }\r\n\r\n    // adjust my layout\r\n    this.silentSetHeight(this.contentsMorph.height()\r\n        + this.edge\r\n        + this.border * 2);\r\n    this.silentSetWidth(Math.max(\r\n        this.contentsMorph.width() + this.edge * 2,\r\n        (this.contents instanceof Context ||\r\n            this.contents instanceof List ? 0 :\r\n                    SyntaxElementMorph.prototype.fontSize * 3.5)\r\n    ));\r\n\r\n    // draw my outline\r\n    this.image = newCanvas(this.extent());\r\n    context = this.image.getContext('2d');\r\n    if ((this.edge === 0) && (this.border === 0)) {\r\n        BoxMorph.uber.drawNew.call(this);\r\n        return null;\r\n    }\r\n    context.fillStyle = this.color.toString();\r\n    context.beginPath();\r\n    this.outlinePath(\r\n        context,\r\n        Math.max(this.edge - this.border, 0),\r\n        this.border\r\n    );\r\n    context.closePath();\r\n    context.fill();\r\n    if (this.border > 0 && !MorphicPreferences.isFlat) {\r\n        context.lineWidth = this.border;\r\n        context.strokeStyle = this.borderColor.toString();\r\n        context.beginPath();\r\n        this.outlinePath(context, this.edge, this.border / 2);\r\n        context.closePath();\r\n        context.stroke();\r\n\r\n        context.shadowOffsetX = this.border;\r\n        context.shadowOffsetY = this.border;\r\n        context.shadowBlur = this.border;\r\n        context.shadowColor = this.color.darker(80).toString();\r\n        this.drawShadow(context, this.edge, this.border / 2);\r\n    }\r\n\r\n    // position my contents\r\n    if (toggle || (!isSameList && !isSameTable)) {\r\n        this.contentsMorph.setCenter(this.center());\r\n    }\r\n};\r\n\r\nCellMorph.prototype.drawShadow = function (context, radius, inset) {\r\n    var offset = radius + inset,\r\n        w = this.width(),\r\n        h = this.height();\r\n\r\n    // bottom left:\r\n    context.beginPath();\r\n    context.moveTo(0, h - offset);\r\n    context.lineTo(0, offset);\r\n    context.stroke();\r\n\r\n    // top left:\r\n    context.beginPath();\r\n    context.arc(\r\n        offset,\r\n        offset,\r\n        radius,\r\n        radians(-180),\r\n        radians(-90),\r\n        false\r\n    );\r\n    context.stroke();\r\n\r\n    // top right:\r\n    context.beginPath();\r\n    context.moveTo(offset, 0);\r\n    context.lineTo(w - offset, 0);\r\n    context.stroke();\r\n};\r\n\r\n// CellMorph editing (inside list watchers):\r\n\r\nCellMorph.prototype.layoutChanged = function () {\r\n    var context,\r\n        fontSize = SyntaxElementMorph.prototype.fontSize,\r\n        listWatcher = this.parentThatIsA(ListWatcherMorph);\r\n\r\n    if (this.isBig) {\r\n        fontSize = fontSize * 1.5;\r\n    }\r\n\r\n    // adjust my layout\r\n    this.silentSetHeight(this.contentsMorph.height()\r\n        + this.edge\r\n        + this.border * 2);\r\n    this.silentSetWidth(Math.max(\r\n        this.contentsMorph.width() + this.edge * 2,\r\n        (this.contents instanceof Context ||\r\n            this.contents instanceof List ? 0 : this.height() * 2)\r\n    ));\r\n\r\n\r\n    // draw my outline\r\n    this.image = newCanvas(this.extent());\r\n    context = this.image.getContext('2d');\r\n    if ((this.edge === 0) && (this.border === 0)) {\r\n        BoxMorph.uber.drawNew.call(this);\r\n        return null;\r\n    }\r\n    context.fillStyle = this.color.toString();\r\n    context.beginPath();\r\n    this.outlinePath(\r\n        context,\r\n        Math.max(this.edge - this.border, 0),\r\n        this.border\r\n    );\r\n    context.closePath();\r\n    context.fill();\r\n    if (this.border > 0 && !MorphicPreferences.isFlat) {\r\n        context.lineWidth = this.border;\r\n        context.strokeStyle = this.borderColor.toString();\r\n        context.beginPath();\r\n        this.outlinePath(context, this.edge, this.border / 2);\r\n        context.closePath();\r\n        context.stroke();\r\n\r\n        context.shadowOffsetX = this.border;\r\n        context.shadowOffsetY = this.border;\r\n        context.shadowBlur = this.border;\r\n        context.shadowColor = this.color.darker(80).toString();\r\n        this.drawShadow(context, this.edge, this.border / 2);\r\n    }\r\n\r\n    // position my contents\r\n    this.contentsMorph.setCenter(this.center());\r\n\r\n    if (listWatcher) {\r\n        listWatcher.fixLayout();\r\n    }\r\n};\r\n\r\nCellMorph.prototype.reactToEdit = function (textMorph) {\r\n    var listWatcher;\r\n    if (!isNil(this.idx)) {\r\n        listWatcher = this.parentThatIsA(ListWatcherMorph);\r\n        if (listWatcher) {\r\n            listWatcher.list.put(textMorph.text, this.idx);\r\n        }\r\n    }\r\n};\r\n\r\nCellMorph.prototype.mouseClickLeft = function (pos) {\r\n    if (this.isEditable && this.contentsMorph instanceof TextMorph) {\r\n        this.contentsMorph.selectAllAndEdit();\r\n    } else {\r\n        this.escalateEvent('mouseClickLeft', pos);\r\n    }\r\n};\r\n\r\nCellMorph.prototype.mouseDoubleClick = function (pos) {\r\n    if (List.prototype.enableTables &&\r\n            this.currentValue instanceof List) {\r\n        new TableDialogMorph(this.contents).popUp(this.world());\r\n    } else {\r\n        this.escalateEvent('mouseDoubleClick', pos);\r\n    }\r\n};\r\n\r\n// WatcherMorph //////////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a little window which observes some value and continuously\r\n    updates itself accordingly.\r\n\r\n    My target can be either a SpriteMorph or a VariableFrame.\r\n*/\r\n\r\n// WatcherMorph inherits from BoxMorph:\r\n\r\nWatcherMorph.prototype = new BoxMorph();\r\nWatcherMorph.prototype.constructor = WatcherMorph;\r\nWatcherMorph.uber = BoxMorph.prototype;\r\n\r\n// WatcherMorph instance creation:\r\n\r\nfunction WatcherMorph(label, color, target, getter, isHidden) {\r\n    this.init(label, color, target, getter, isHidden);\r\n}\r\n\r\nWatcherMorph.prototype.init = function (\r\n    label,\r\n    color,\r\n    target,\r\n    getter,\r\n    isHidden\r\n) {\r\n    // additional properties\r\n    this.labelText = label || '';\r\n    this.version = null;\r\n    this.objName = '';\r\n\r\n    // initialize inherited properties\r\n    WatcherMorph.uber.init.call(\r\n        this,\r\n        SyntaxElementMorph.prototype.rounding,\r\n        1.000001, // shadow bug in Chrome,\r\n        new Color(120, 120, 120)\r\n    );\r\n\r\n    // override inherited behavior\r\n    this.color = new Color(220, 220, 220);\r\n    this.readoutColor = color;\r\n    this.style = 'normal';\r\n    this.target = target || null; // target obj (Sprite) or VariableFrame\r\n    this.getter = getter || null; // callback or variable name (string)\r\n    this.currentValue = null;\r\n    this.labelMorph = null;\r\n    this.sliderMorph = null;\r\n    this.cellMorph = null;\r\n    this.isDraggable = true;\r\n    this.fixLayout();\r\n    this.update();\r\n    if (isHidden) { // for de-serializing\r\n        this.hide();\r\n    }\r\n};\r\n\r\n// WatcherMorph accessing:\r\n\r\nWatcherMorph.prototype.isTemporary = function () {\r\n    var stage = this.parentThatIsA(StageMorph);\r\n    if (this.target instanceof VariableFrame) {\r\n        if (stage) {\r\n            if (this.target === stage.variables.parentFrame) {\r\n                return false; // global\r\n            }\r\n        }\r\n        return this.target.owner === null;\r\n    }\r\n    return false;\r\n};\r\n\r\nWatcherMorph.prototype.object = function () {\r\n    // answer the actual sprite I refer to\r\n    return this.target instanceof VariableFrame ?\r\n            this.target.owner : this.target;\r\n};\r\n\r\nWatcherMorph.prototype.isGlobal = function (selector) {\r\n    return contains(\r\n        ['getLastAnswer', 'getLastMessage', 'getTempo', 'getTimer',\r\n             'reportMouseX', 'reportMouseY', 'reportThreadCount'],\r\n        selector\r\n    );\r\n};\r\n\r\n// WatcherMorph slider accessing:\r\n\r\nWatcherMorph.prototype.setSliderMin = function (num, noUpdate) {\r\n    if (this.target instanceof VariableFrame) {\r\n        this.sliderMorph.setSize(1, noUpdate);\r\n        this.sliderMorph.setStart(num, noUpdate);\r\n        this.sliderMorph.setSize(this.sliderMorph.rangeSize() / 5, noUpdate);\r\n    }\r\n};\r\n\r\nWatcherMorph.prototype.setSliderMax = function (num, noUpdate) {\r\n    if (this.target instanceof VariableFrame) {\r\n        this.sliderMorph.setSize(1, noUpdate);\r\n        this.sliderMorph.setStop(num, noUpdate);\r\n        this.sliderMorph.setSize(this.sliderMorph.rangeSize() / 5, noUpdate);\r\n    }\r\n};\r\n\r\n// WatcherMorph updating:\r\n\r\nWatcherMorph.prototype.update = function () {\r\n    var newValue, sprite, num, att,\r\n        isGhosted = false;\r\n\r\n    if (this.target && this.getter) {\r\n        this.updateLabel();\r\n        if (this.target instanceof VariableFrame) {\r\n            newValue = this.target.vars[this.getter] ?\r\n                    this.target.vars[this.getter].value : undefined;\r\n            if (newValue === undefined && this.target.owner) {\r\n                sprite = this.target.owner;\r\n                if (contains(sprite.inheritedVariableNames(), this.getter)) {\r\n                    newValue = this.target.getVar(this.getter);\r\n                    // ghost cell color\r\n                    this.cellMorph.setColor(\r\n                        SpriteMorph.prototype.blockColor.variables\r\n                            .lighter(35)\r\n                    );\r\n                } else {\r\n                    this.destroy();\r\n                    return;\r\n                }\r\n            } else {\r\n                // un-ghost the cell color\r\n                this.cellMorph.setColor(\r\n                    SpriteMorph.prototype.blockColor.variables\r\n                );\r\n            }\r\n        } else {\r\n            newValue = this.target[this.getter]();\r\n\r\n            // determine whether my getter is an inherited attribute\r\n            att = {\r\n                xPosition: 'x position',\r\n                yPosition: 'y position',\r\n                direction: 'direction',\r\n                getCostumeIdx: 'costume #',\r\n                getScale: 'size'} [this.getter];\r\n            isGhosted = att ? this.target.inheritsAttribute(att) : false;\r\n        }\r\n        if (newValue !== '' && !isNil(newValue)) {\r\n            num = +newValue;\r\n            if (typeof newValue !== 'boolean' && !isNaN(num)) {\r\n                newValue = Math.round(newValue * 1000000000) / 1000000000;\r\n            }\r\n        }\r\n        if (newValue !== this.currentValue) {\r\n            this.changed();\r\n            this.cellMorph.contents = newValue;\r\n            if (isSnapObject(this.target)) {\r\n                if (isGhosted) {\r\n                    this.cellMorph.setColor(this.readoutColor.lighter(35));\r\n                } else {\r\n                    this.cellMorph.setColor(this.readoutColor);\r\n                }\r\n            }\r\n            this.cellMorph.drawNew();\r\n            if (!isNaN(newValue)) {\r\n                this.sliderMorph.value = newValue;\r\n                this.sliderMorph.drawNew();\r\n            }\r\n            this.fixLayout();\r\n            this.currentValue = newValue;\r\n        }\r\n    }\r\n    if (this.cellMorph.contentsMorph instanceof ListWatcherMorph) {\r\n        this.cellMorph.contentsMorph.update();\r\n    } else if (isSnapObject(this.cellMorph.contents)) {\r\n        this.cellMorph.update();\r\n    }\r\n};\r\n\r\nWatcherMorph.prototype.updateLabel = function () {\r\n    // check whether the target object's name has been changed\r\n    var obj = this.object();\r\n\r\n    if (!obj || this.isGlobal(this.getter)) { return; }\r\n    if (obj.version !== this.version) {\r\n        this.objName = obj.name ? obj.name + ' ' : ' ';\r\n        if (this.labelMorph) {\r\n            this.labelMorph.destroy();\r\n            this.labelMorph = null;\r\n            this.fixLayout();\r\n        }\r\n    }\r\n};\r\n\r\n// WatcherMorph layout:\r\n\r\nWatcherMorph.prototype.fixLayout = function () {\r\n    var fontSize = SyntaxElementMorph.prototype.fontSize, isList,\r\n        myself = this;\r\n\r\n    this.changed();\r\n\r\n    // create my parts\r\n    if (this.labelMorph === null) {\r\n        this.labelMorph = new StringMorph(\r\n            this.objName + this.labelText,\r\n            fontSize,\r\n            null,\r\n            true,\r\n            false,\r\n            false,\r\n            MorphicPreferences.isFlat ? new Point() : new Point(1, 1),\r\n            new Color(255, 255, 255)\r\n        );\r\n        this.add(this.labelMorph);\r\n    }\r\n    if (this.cellMorph === null) {\r\n        this.cellMorph = new CellMorph('', this.readoutColor);\r\n        this.add(this.cellMorph);\r\n    }\r\n    if (this.sliderMorph === null) {\r\n        this.sliderMorph = new SliderMorph(\r\n            0,\r\n            100,\r\n            0,\r\n            20,\r\n            'horizontal'\r\n        );\r\n        this.sliderMorph.alpha = 1;\r\n        this.sliderMorph.button.color = this.color.darker();\r\n        this.sliderMorph.color = this.color.lighter(60);\r\n        this.sliderMorph.button.highlightColor = this.color.darker();\r\n        this.sliderMorph.button.highlightColor.b += 50;\r\n        this.sliderMorph.button.pressColor = this.color.darker();\r\n        this.sliderMorph.button.pressColor.b += 100;\r\n        this.sliderMorph.setHeight(fontSize);\r\n        this.sliderMorph.action = function (num) {\r\n            myself.target.setVar(\r\n                myself.getter,\r\n                Math.round(num),\r\n                myself.target.owner\r\n            );\r\n        };\r\n        this.add(this.sliderMorph);\r\n    }\r\n\r\n    // adjust my layout\r\n    isList = this.cellMorph.contents instanceof List;\r\n    if (isList) { this.style = 'normal'; }\r\n\r\n    if (this.style === 'large') {\r\n        this.labelMorph.hide();\r\n        this.sliderMorph.hide();\r\n        this.cellMorph.big();\r\n        this.cellMorph.setPosition(this.position());\r\n        this.setExtent(this.cellMorph.extent().subtract(1));\r\n        return;\r\n    }\r\n\r\n    this.labelMorph.show();\r\n    this.sliderMorph.show();\r\n    this.cellMorph.normal();\r\n    this.labelMorph.setPosition(this.position().add(new Point(\r\n        this.edge,\r\n        this.border + SyntaxElementMorph.prototype.typeInPadding\r\n    )));\r\n\r\n    if (isList) {\r\n        this.cellMorph.setPosition(this.labelMorph.bottomLeft().add(\r\n            new Point(0, SyntaxElementMorph.prototype.typeInPadding)\r\n        ));\r\n    } else {\r\n        this.cellMorph.setPosition(this.labelMorph.topRight().add(new Point(\r\n            fontSize / 3,\r\n            0\r\n        )));\r\n        this.labelMorph.setTop(\r\n            this.cellMorph.top()\r\n                + (this.cellMorph.height() - this.labelMorph.height()) / 2\r\n        );\r\n    }\r\n\r\n    if (this.style === 'slider') {\r\n        this.sliderMorph.silentSetPosition(new Point(\r\n            this.labelMorph.left(),\r\n            this.cellMorph.bottom()\r\n                + SyntaxElementMorph.prototype.typeInPadding\r\n        ));\r\n        this.sliderMorph.setWidth(this.cellMorph.right()\r\n            - this.labelMorph.left());\r\n        this.silentSetHeight(\r\n            this.cellMorph.height()\r\n                + this.sliderMorph.height()\r\n                + this.border * 2\r\n                + SyntaxElementMorph.prototype.typeInPadding * 3\r\n        );\r\n    } else {\r\n        this.sliderMorph.hide();\r\n        this.bounds.corner.y = this.cellMorph.bottom()\r\n            + this.border\r\n            + SyntaxElementMorph.prototype.typeInPadding;\r\n    }\r\n    this.bounds.corner.x = Math.max(\r\n        this.cellMorph.right(),\r\n        this.labelMorph.right()\r\n    ) + this.edge\r\n        + SyntaxElementMorph.prototype.typeInPadding;\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\n// WatcherMorph events:\r\n\r\nWatcherMorph.prototype.mouseDoubleClick = function (pos) {\r\n    if (List.prototype.enableTables &&\r\n            this.currentValue instanceof List) {\r\n        new TableDialogMorph(this.currentValue).popUp(this.world());\r\n    } else {\r\n        this.escalateEvent('mouseDoubleClick', pos);\r\n    }\r\n};\r\n\r\n// WatcherMorph dragging and dropping:\r\n\r\nWatcherMorph.prototype.rootForGrab = function () {\r\n    // prevent watchers to be dragged in presentation mode\r\n    var ide = this.parentThatIsA(IDE_Morph);\r\n    if (ide && ide.isAppMode) {\r\n        return ide;\r\n    }\r\n    return this;\r\n};\r\n\r\n\r\n// WatcherMorph user menu:\r\n\r\nWatcherMorph.prototype.userMenu = function () {\r\n    var myself = this,\r\n        ide = this.parentThatIsA(IDE_Morph),\r\n        menu = new MenuMorph(this),\r\n        on = '\\u25CF',\r\n        off = '\\u25CB',\r\n        vNames;\r\n\r\n    function monitor(vName) {\r\n        var stage = myself.parentThatIsA(StageMorph),\r\n            varFrame = myself.currentValue.outerContext.variables;\r\n        menu.addItem(\r\n            vName + '...',\r\n            function () {\r\n                var watcher = detect(\r\n                    stage.children,\r\n                    function (morph) {\r\n                        return morph instanceof WatcherMorph\r\n                            && morph.target === varFrame\r\n                            && morph.getter === vName;\r\n                    }\r\n                ),\r\n                    others;\r\n                if (watcher !== null) {\r\n                    watcher.show();\r\n                    watcher.fixLayout(); // re-hide hidden parts\r\n                    return;\r\n                }\r\n                watcher = new WatcherMorph(\r\n                    vName + ' ' + localize('(temporary)'),\r\n                    SpriteMorph.prototype.blockColor.variables,\r\n                    varFrame,\r\n                    vName\r\n                );\r\n                watcher.setPosition(stage.position().add(10));\r\n                others = stage.watchers(watcher.left());\r\n                if (others.length > 0) {\r\n                    watcher.setTop(others[others.length - 1].bottom());\r\n                }\r\n                stage.add(watcher);\r\n                watcher.fixLayout();\r\n            }\r\n        );\r\n    }\r\n\r\n    if (ide && ide.isAppMode) { // prevent context menu in app mode\r\n        return;\r\n    }\r\n\r\n    menu.addItem(\r\n        (this.style === 'normal' ? on : off) + ' ' + localize('normal'),\r\n        'styleNormal'\r\n    );\r\n    menu.addItem(\r\n        (this.style === 'large' ? on : off) + ' ' + localize('large'),\r\n        'styleLarge'\r\n    );\r\n    if (this.target instanceof VariableFrame) {\r\n        menu.addItem(\r\n            (this.style === 'slider' ? on : off) + ' ' + localize('slider'),\r\n            'styleSlider'\r\n        );\r\n        menu.addLine();\r\n        menu.addItem(\r\n            'slider min...',\r\n            'userSetSliderMin'\r\n        );\r\n        menu.addItem(\r\n            'slider max...',\r\n            'userSetSliderMax'\r\n        );\r\n        menu.addLine();\r\n        menu.addItem(\r\n            'import...',\r\n            function () {\r\n                var inp = document.createElement('input'),\r\n                    ide = myself.parentThatIsA(IDE_Morph);\r\n                if (ide.filePicker) {\r\n                    document.body.removeChild(ide.filePicker);\r\n                    ide.filePicker = null;\r\n                }\r\n                inp.type = 'file';\r\n                inp.style.color = \"transparent\";\r\n                inp.style.backgroundColor = \"transparent\";\r\n                inp.style.border = \"none\";\r\n                inp.style.outline = \"none\";\r\n                inp.style.position = \"absolute\";\r\n                inp.style.top = \"0px\";\r\n                inp.style.left = \"0px\";\r\n                inp.style.width = \"0px\";\r\n                inp.style.height = \"0px\";\r\n                inp.style.display = \"none\";\r\n                inp.addEventListener(\r\n                    \"change\",\r\n                    function () {\r\n                        var file;\r\n                        function txtOnlyMsg(ftype) {\r\n                            ide.inform(\r\n                                'Unable to import',\r\n                                'Snap! can only import \"text\" files.\\n' +\r\n                                    'You selected a file of type \"' +\r\n                                    ftype +\r\n                                    '\".'\r\n                            );\r\n                        }\r\n\r\n                        function readText(aFile) {\r\n                            var frd = new FileReader();\r\n                            frd.onloadend = function (e) {\r\n                                myself.target.setVar(\r\n                                    myself.getter,\r\n                                    e.target.result\r\n                                );\r\n                            };\r\n\r\n                            if (aFile.type.indexOf(\"text\") === 0) {\r\n                                frd.readAsText(aFile);\r\n                            } else {\r\n                                txtOnlyMsg(aFile.type);\r\n                            }\r\n                        }\r\n\r\n                        document.body.removeChild(inp);\r\n                        ide.filePicker = null;\r\n                        if (inp.files.length > 0) {\r\n                            file = inp.files[inp.files.length - 1];\r\n                            readText(file);\r\n                        }\r\n                    },\r\n                    false\r\n                );\r\n                document.body.appendChild(inp);\r\n                ide.filePicker = inp;\r\n                inp.click();\r\n            }\r\n        );\r\n        if (isString(this.currentValue) || !isNaN(+this.currentValue)) {\r\n            menu.addItem(\r\n                'export...',\r\n                function () {\r\n                    var ide = myself.parentThatIsA(IDE_Morph);\r\n                    ide.saveFileAs(\r\n                        myself.currentValue.toString(),\r\n                        'text/plain;charset=utf-8',\r\n                        myself.getter // variable name\r\n                    );\r\n                }\r\n            );\r\n        } else if (this.currentValue instanceof Context) {\r\n            vNames = this.currentValue.outerContext.variables.names();\r\n            if (vNames.length) {\r\n                menu.addLine();\r\n                vNames.forEach(function (vName) {\r\n                    monitor(vName);\r\n                });\r\n            }\r\n        }\r\n    }\r\n    return menu;\r\n};\r\n\r\nWatcherMorph.prototype.setStyle = function (style) {\r\n    this.style = style;\r\n    this.fixLayout();\r\n};\r\n\r\nWatcherMorph.prototype.styleNormal = function () {\r\n    this.setStyle('normal');\r\n};\r\n\r\nWatcherMorph.prototype.styleLarge = function () {\r\n    this.setStyle('large');\r\n};\r\n\r\nWatcherMorph.prototype.styleSlider = function () {\r\n    this.setStyle('slider');\r\n};\r\n\r\nWatcherMorph.prototype.userSetSliderMin = function () {\r\n    new DialogBoxMorph(\r\n        this,\r\n        this.setSliderMin,\r\n        this\r\n    ).prompt(\r\n        \"Slider minimum value\",\r\n        this.sliderMorph.start.toString(),\r\n        this.world(),\r\n        null, // pic\r\n        null, // choices\r\n        null, // read only\r\n        true // numeric\r\n    );\r\n};\r\n\r\nWatcherMorph.prototype.userSetSliderMax = function () {\r\n    new DialogBoxMorph(\r\n        this,\r\n        this.setSliderMax,\r\n        this\r\n    ).prompt(\r\n        \"Slider maximum value\",\r\n        this.sliderMorph.stop.toString(),\r\n        this.world(),\r\n        null, // pic\r\n        null, // choices\r\n        null, // read only\r\n        true // numeric\r\n    );\r\n};\r\n\r\n// WatcherMorph drawing:\r\n\r\nWatcherMorph.prototype.drawNew = function () {\r\n    var context,\r\n        gradient;\r\n    this.image = newCanvas(this.extent());\r\n    context = this.image.getContext('2d');\r\n    if (MorphicPreferences.isFlat || (this.edge === 0 && this.border === 0)) {\r\n        BoxMorph.uber.drawNew.call(this);\r\n        return;\r\n    }\r\n    gradient = context.createLinearGradient(0, 0, 0, this.height());\r\n    gradient.addColorStop(0, this.color.lighter().toString());\r\n    gradient.addColorStop(1, this.color.darker().toString());\r\n    context.fillStyle = gradient;\r\n    context.beginPath();\r\n    this.outlinePath(\r\n        context,\r\n        Math.max(this.edge - this.border, 0),\r\n        this.border\r\n    );\r\n    context.closePath();\r\n    context.fill();\r\n    if (this.border > 0) {\r\n        gradient = context.createLinearGradient(0, 0, 0, this.height());\r\n        gradient.addColorStop(0, this.borderColor.lighter().toString());\r\n        gradient.addColorStop(1, this.borderColor.darker().toString());\r\n        context.lineWidth = this.border;\r\n        context.strokeStyle = gradient;\r\n        context.beginPath();\r\n        this.outlinePath(context, this.edge, this.border / 2);\r\n        context.closePath();\r\n        context.stroke();\r\n    }\r\n};\r\n\r\n// StagePrompterMorph ////////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a sensor-category-colored input box at the bottom of the stage\r\n    which lets the user answer to a question. If I am opened from within\r\n    the context of a sprite, my question can be anything that is displayable\r\n    in a SpeechBubble and will be, if I am opened from within the stage\r\n    my question will be shown as a single line of text within my label morph.\r\n*/\r\n\r\n// StagePrompterMorph inherits from BoxMorph:\r\n\r\nStagePrompterMorph.prototype = new BoxMorph();\r\nStagePrompterMorph.prototype.constructor = StagePrompterMorph;\r\nStagePrompterMorph.uber = BoxMorph.prototype;\r\n\r\n// StagePrompterMorph instance creation:\r\n\r\nfunction StagePrompterMorph(question) {\r\n    this.init(question);\r\n}\r\n\r\nStagePrompterMorph.prototype.init = function (question) {\r\n    // question is optional in case the Stage is asking\r\n    var myself = this;\r\n\r\n    // additional properties\r\n    this.isDone = false;\r\n    if (question) {\r\n        this.label = new StringMorph(\r\n            question,\r\n            SpriteMorph.prototype.bubbleFontSize,\r\n            null, // fontStyle\r\n            SpriteMorph.prototype.bubbleFontIsBold,\r\n            false, // italic\r\n            'left'\r\n        );\r\n    } else {\r\n        this.label = null;\r\n    }\r\n    this.inputField = new InputFieldMorph();\r\n    this.button = new PushButtonMorph(\r\n        null,\r\n        function () {myself.accept(); },\r\n        '\\u2713'\r\n    );\r\n\r\n    // initialize inherited properties\r\n    StagePrompterMorph.uber.init.call(\r\n        this,\r\n        SyntaxElementMorph.prototype.rounding,\r\n        SpriteMorph.prototype.bubbleBorder,\r\n        SpriteMorph.prototype.blockColor.sensing\r\n    );\r\n\r\n    // override inherited behavior\r\n    this.color = new Color(255, 255, 255);\r\n    if (this.label) {this.add(this.label); }\r\n    this.add(this.inputField);\r\n    this.add(this.button);\r\n    this.setWidth(StageMorph.prototype.dimensions.x - 20);\r\n    this.fixLayout();\r\n};\r\n\r\n// StagePrompterMorph layout:\r\n\r\nStagePrompterMorph.prototype.fixLayout = function () {\r\n    var y = 0;\r\n    if (this.label) {\r\n        this.label.setPosition(new Point(\r\n            this.left() + this.edge,\r\n            this.top() + this.edge\r\n        ));\r\n        y = this.label.bottom() - this.top();\r\n    }\r\n    this.inputField.setPosition(new Point(\r\n        this.left() + this.edge,\r\n        this.top() + y + this.edge\r\n    ));\r\n    this.inputField.setWidth(\r\n        this.width()\r\n            - this.edge * 2\r\n            - this.button.width()\r\n            - this.border\r\n    );\r\n    this.button.setCenter(this.inputField.center());\r\n    this.button.setLeft(this.inputField.right() + this.border);\r\n    this.setHeight(\r\n        this.inputField.bottom()\r\n            - this.top()\r\n            + this.edge\r\n    );\r\n};\r\n\r\n// StagePrompterMorph events:\r\n\r\nStagePrompterMorph.prototype.mouseClickLeft = function () {\r\n    this.inputField.edit();\r\n};\r\n\r\nStagePrompterMorph.prototype.accept = function () {\r\n    this.isDone = true;\r\n};\r\n//fin de objects.js\r\n/*\r\n\r\n    gui.js\r\n\r\n    a programming environment\r\n    based on morphic.js, blocks.js, threads.js and objects.js\r\n    inspired by Scratch\r\n\r\n    written by Jens Mönig\r\n    jens@moenig.org\r\n\r\n    Copyright (C) 2017 by Jens Mönig\r\n\r\n    This file is part of Snap!.\r\n\r\n    Snap! is free software: you can redistribute it and/or modify\r\n    it under the terms of the GNU Affero General Public License as\r\n    published by the Free Software Foundation, either version 3 of\r\n    the License, or (at your option) any later version.\r\n\r\n    This program is distributed in the hope that it will be useful,\r\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n    GNU Affero General Public License for more details.\r\n\r\n    You should have received a copy of the GNU Affero General Public License\r\n    along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n\r\n\r\n    prerequisites:\r\n    --------------\r\n    needs blocks.js, threads.js, objects.js and morphic.js\r\n\r\n\r\n    toc\r\n    ---\r\n    the following list shows the order in which all constructors are\r\n    defined. Use this list to locate code in this document:\r\n\r\n        IDE_Morph\r\n        ProjectDialogMorph\r\n        SpriteIconMorph\r\n        TurtleIconMorph\r\n        CostumeIconMorph\r\n        WardrobeMorph\r\n        StageHandleMorph\r\n        PaletteHandleMorph\r\n        CamSnapshotDialogMorph\r\n\r\n\r\n    credits\r\n    -------\r\n    Nathan Dinsmore contributed saving and loading of projects,\r\n    ypr-Snap! project conversion and countless bugfixes\r\n    Ian Reynolds contributed handling and visualization of sounds\r\n    Michael Ball contributed the LibraryImportDialogMorph and countless\r\n    utilities to load libraries from relative urls\r\n\r\n*/\r\n\r\n/*global modules, Morph, SpriteMorph, SyntaxElementMorph, Color,\r\nListWatcherMorph, TextMorph, newCanvas, useBlurredShadows, VariableFrame,\r\nStringMorph, Point, MenuMorph, morphicVersion, DialogBoxMorph,\r\nToggleButtonMorph, contains, ScrollFrameMorph, StageMorph, PushButtonMorph,\r\nInputFieldMorph, FrameMorph, Process, nop, SnapSerializer, ListMorph, detect,\r\nAlignmentMorph, TabMorph, Costume, MorphicPreferences, Sound, BlockMorph,\r\nToggleMorph, InputSlotDialogMorph, ScriptsMorph, isNil, SymbolMorph,\r\nBlockExportDialogMorph, BlockImportDialogMorph, SnapTranslator, localize,\r\nList, ArgMorph, SnapCloud, Uint8Array, HandleMorph, SVG_Costume,\r\nfontHeight, hex_sha512, sb, CommentMorph, CommandBlockMorph, BooleanSlotMorph,\r\nBlockLabelPlaceHolderMorph, Audio, SpeechBubbleMorph, ScriptFocusMorph,\r\nXML_Element, WatcherMorph, BlockRemovalDialogMorph, saveAs, TableMorph,\r\nisSnapObject, isRetinaEnabled, disableRetinaSupport, enableRetinaSupport,\r\nisRetinaSupported, SliderMorph, Animation*/\r\n\r\n// Global stuff ////////////////////////////////////////////////////////\r\n\r\nmodules.gui = '2017-December-01';\r\n\r\n// Declarations\r\n\r\nvar IDE_Morph;\r\nvar ProjectDialogMorph;\r\nvar LibraryImportDialogMorph;\r\nvar SpriteIconMorph;\r\nvar CostumeIconMorph;\r\nvar TurtleIconMorph;\r\nvar WardrobeMorph;\r\nvar SoundIconMorph;\r\nvar JukeboxMorph;\r\nvar StageHandleMorph;\r\nvar PaletteHandleMorph;\r\nvar CamSnapshotDialogMorph;\r\n\r\n// IDE_Morph ///////////////////////////////////////////////////////////\r\n\r\n// I am SNAP's top-level frame, the Editor window\r\n\r\n// IDE_Morph inherits from Morph:\r\n\r\nIDE_Morph.prototype = new Morph();\r\nIDE_Morph.prototype.constructor = IDE_Morph;\r\nIDE_Morph.uber = Morph.prototype;\r\n\r\n// IDE_Morph preferences settings and skins\r\n\r\nIDE_Morph.prototype.setDefaultDesign = function () {\r\n    MorphicPreferences.isFlat = false;\r\n    SpriteMorph.prototype.paletteColor = new Color(55, 55, 55);\r\n    SpriteMorph.prototype.paletteTextColor = new Color(230, 230, 230);\r\n    StageMorph.prototype.paletteTextColor\r\n        = SpriteMorph.prototype.paletteTextColor;\r\n    StageMorph.prototype.paletteColor = SpriteMorph.prototype.paletteColor;\r\n    SpriteMorph.prototype.sliderColor\r\n        = SpriteMorph.prototype.paletteColor.lighter(30);\r\n\r\n    IDE_Morph.prototype.buttonContrast = 30;\r\n    IDE_Morph.prototype.backgroundColor = new Color(40, 40, 40);\r\n    IDE_Morph.prototype.frameColor = SpriteMorph.prototype.paletteColor;\r\n\r\n    IDE_Morph.prototype.groupColor\r\n        = SpriteMorph.prototype.paletteColor.lighter(8);\r\n    IDE_Morph.prototype.sliderColor = SpriteMorph.prototype.sliderColor;\r\n    IDE_Morph.prototype.buttonLabelColor = new Color(255, 255, 255);\r\n    IDE_Morph.prototype.tabColors = [\r\n        IDE_Morph.prototype.groupColor.darker(40),\r\n        IDE_Morph.prototype.groupColor.darker(60),\r\n        IDE_Morph.prototype.groupColor\r\n    ];\r\n    IDE_Morph.prototype.rotationStyleColors = IDE_Morph.prototype.tabColors;\r\n    IDE_Morph.prototype.appModeColor = new Color();\r\n    IDE_Morph.prototype.scriptsPaneTexture = this.scriptsTexture();\r\n    IDE_Morph.prototype.padding = 5;\r\n\r\n    SpriteIconMorph.prototype.labelColor\r\n        = IDE_Morph.prototype.buttonLabelColor;\r\n    CostumeIconMorph.prototype.labelColor\r\n        = IDE_Morph.prototype.buttonLabelColor;\r\n    SoundIconMorph.prototype.labelColor\r\n        = IDE_Morph.prototype.buttonLabelColor;\r\n    TurtleIconMorph.prototype.labelColor\r\n        = IDE_Morph.prototype.buttonLabelColor;\r\n};\r\n\r\nIDE_Morph.prototype.setFlatDesign = function () {\r\n    MorphicPreferences.isFlat = true;\r\n    SpriteMorph.prototype.paletteColor = new Color(255, 255, 255);\r\n    SpriteMorph.prototype.paletteTextColor = new Color(70, 70, 70);\r\n    StageMorph.prototype.paletteTextColor\r\n        = SpriteMorph.prototype.paletteTextColor;\r\n    StageMorph.prototype.paletteColor = SpriteMorph.prototype.paletteColor;\r\n    SpriteMorph.prototype.sliderColor = SpriteMorph.prototype.paletteColor;\r\n\r\n    IDE_Morph.prototype.buttonContrast = 30;\r\n    IDE_Morph.prototype.backgroundColor = new Color(200, 200, 200);\r\n    IDE_Morph.prototype.frameColor = new Color(255, 255, 255);\r\n\r\n    IDE_Morph.prototype.groupColor = new Color(230, 230, 230);\r\n    IDE_Morph.prototype.sliderColor = SpriteMorph.prototype.sliderColor;\r\n    IDE_Morph.prototype.buttonLabelColor = new Color(70, 70, 70);\r\n    IDE_Morph.prototype.tabColors = [\r\n        IDE_Morph.prototype.groupColor.lighter(60),\r\n        IDE_Morph.prototype.groupColor.darker(10),\r\n        IDE_Morph.prototype.groupColor\r\n    ];\r\n    IDE_Morph.prototype.rotationStyleColors = [\r\n        IDE_Morph.prototype.groupColor,\r\n        IDE_Morph.prototype.groupColor.darker(10),\r\n        IDE_Morph.prototype.groupColor.darker(30)\r\n    ];\r\n    IDE_Morph.prototype.appModeColor = IDE_Morph.prototype.frameColor;\r\n    IDE_Morph.prototype.scriptsPaneTexture = null;\r\n    IDE_Morph.prototype.padding = 1;\r\n\r\n    SpriteIconMorph.prototype.labelColor\r\n        = IDE_Morph.prototype.buttonLabelColor;\r\n    CostumeIconMorph.prototype.labelColor\r\n        = IDE_Morph.prototype.buttonLabelColor;\r\n    SoundIconMorph.prototype.labelColor\r\n        = IDE_Morph.prototype.buttonLabelColor;\r\n    TurtleIconMorph.prototype.labelColor\r\n        = IDE_Morph.prototype.buttonLabelColor;\r\n};\r\n\r\nIDE_Morph.prototype.scriptsTexture = function () {\r\n    var pic = newCanvas(new Point(100, 100)), // bigger scales faster\r\n        ctx = pic.getContext('2d'),\r\n        i;\r\n    for (i = 0; i < 100; i += 4) {\r\n        ctx.fillStyle = this.frameColor.toString();\r\n        ctx.fillRect(i, 0, 1, 100);\r\n        ctx.fillStyle = this.groupColor.lighter(6).toString();\r\n        ctx.fillRect(i + 1, 0, 1, 100);\r\n        ctx.fillRect(i + 3, 0, 1, 100);\r\n        ctx.fillStyle = this.groupColor.toString();\r\n        ctx.fillRect(i + 2, 0, 1, 100);\r\n    }\r\n    return pic;\r\n};\r\n\r\nIDE_Morph.prototype.setDefaultDesign();\r\n\r\n// IDE_Morph instance creation:\r\n\r\nfunction IDE_Morph(isAutoFill) {\r\n    this.init(isAutoFill);\r\n}\r\n\r\nIDE_Morph.prototype.init = function (isAutoFill) {\r\n    // global font setting\r\n    MorphicPreferences.globalFontFamily = 'Helvetica, Arial';\r\n\r\n    // restore saved user preferences\r\n    this.userLanguage = null; // user language preference for startup\r\n    this.projectsInURLs = false;\r\n    this.applySavedSettings();\r\n\r\n    // additional properties:\r\n    this.cloudMsg = null;\r\n    this.source = 'local';\r\n    this.serializer = new SnapSerializer();\r\n\r\n    this.globalVariables = new VariableFrame();\r\n    this.currentSprite = new SpriteMorph(this.globalVariables);\r\n    this.sprites = new List([this.currentSprite]);\r\n    this.currentCategory = 'motion';\r\n    this.currentTab = 'scripts';\r\n    this.projectName = 'Education nationale';//Wiquid Snap for Tao project name \r\n    this.projectNotes = '';\r\n\r\n    //***************** Wiquid *********************\r\n    \r\n    // Insert Snap logo\r\n    this.logoURL =\"data:image/png;base64,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\";\r\n    //this.logoURL = \"http://wiquid.fr/depp/snaplogo.png\";\r\n    //this.resourceURL('snap_logo_sm.png');\r\n\r\n    //***********************************************\r\n    \r\n    this.logo = null;\r\n    this.controlBar = null;\r\n    this.categories = null;\r\n    this.palette = null;\r\n    this.paletteHandle = null;\r\n    this.spriteBar = null;\r\n    this.spriteEditor = null;\r\n    this.stage = null;\r\n    this.stageHandle = null;\r\n    this.corralBar = null;\r\n    this.corral = null;\r\n\r\n    this.isAutoFill = isAutoFill === undefined ? true : isAutoFill;\r\n    this.isAppMode = false;\r\n    this.isSmallStage = false;\r\n    this.filePicker = null;\r\n    this.hasChangedMedia = false;\r\n\r\n    this.isAnimating = true;\r\n\r\n    this.paletteWidth = 200; // initially same as logo width\r\n    this.stageRatio = 1; // for IDE animations, e.g. when zooming\r\n\r\n\tthis.wasSingleStepping = false; // for toggling to and from app mode\r\n\r\n    this.loadNewProject = false; // flag when starting up translated\r\n    this.shield = null;\r\n\r\n    this.savingPreferences = true; // for bh's infamous \"Eisenbergification\"\r\n\r\n    // initialize inherited properties:\r\n    IDE_Morph.uber.init.call(this);\r\n\r\n    // override inherited properites:\r\n    this.color = this.backgroundColor;\r\n    \r\n};\r\n\r\nIDE_Morph.prototype.openIn = function (world) {\r\n    var hash, usr, myself = this, urlLanguage = null;\r\n\r\n    // get persistent user data, if any\r\n    if (this.hasLocalStorage()) {\r\n        usr = localStorage['-snap-user'];\r\n        if (usr) {\r\n            usr = SnapCloud.parseResponse(usr)[0];\r\n            if (usr) {\r\n                SnapCloud.username = usr.username || null;\r\n                SnapCloud.password = usr.password || null;\r\n                if (SnapCloud.username) {\r\n                    this.source = 'cloud';\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    this.buildPanes();\r\n    world.add(this);\r\n    world.userMenu = this.userMenu;\r\n\r\n    // override SnapCloud's user message with Morphic\r\n    SnapCloud.message = function (string) {\r\n        var m = new MenuMorph(null, string),\r\n            intervalHandle;\r\n        m.popUpCenteredInWorld(world);\r\n        intervalHandle = setInterval(function () {\r\n            m.destroy();\r\n            clearInterval(intervalHandle);\r\n        }, 2000);\r\n    };\r\n\r\n    // prevent non-DialogBoxMorphs from being dropped\r\n    // onto the World in user-mode\r\n    world.reactToDropOf = function (morph) {\r\n        if (!(morph instanceof DialogBoxMorph)) {\r\n            if (world.hand.grabOrigin) {\r\n                morph.slideBackTo(world.hand.grabOrigin);\r\n            } else {\r\n                world.hand.grab(morph);\r\n            }\r\n        }\r\n    };\r\n\r\n    this.reactToWorldResize(world.bounds);\r\n\r\n    function getURL(url) {\r\n        try {\r\n            var request = new XMLHttpRequest();\r\n            request.open('GET', url, false);\r\n            request.send();\r\n            if (request.status === 200) {\r\n                return request.responseText;\r\n            }\r\n            throw new Error('unable to retrieve ' + url);\r\n        } catch (err) {\r\n            myself.showMessage('unable to retrieve project');\r\n            return '';\r\n        }\r\n    }\r\n\r\n\tfunction applyFlags(dict) {\r\n        if (dict.editMode) {\r\n            myself.toggleAppMode(false);\r\n        } else {\r\n            myself.toggleAppMode(true);\r\n        }\r\n        if (!dict.noRun) {\r\n            myself.runScripts();\r\n        }\r\n        if (dict.hideControls) {\r\n            myself.controlBar.hide();\r\n            window.onbeforeunload = nop;\r\n        }\r\n        if (dict.noExitWarning) {\r\n            window.onbeforeunload = nop;\r\n        }\r\n\t}\r\n\r\n    function interpretUrlAnchors() {\r\n        var dict, idx;\r\n\r\n        if (location.hash.substr(0, 6) === '#open:') {\r\n            hash = location.hash.substr(6);\r\n            if (hash.charAt(0) === '%'\r\n                    || hash.search(/\\%(?:[0-9a-f]{2})/i) > -1) {\r\n                hash = decodeURIComponent(hash);\r\n            }\r\n            if (contains(\r\n                    ['project', 'blocks', 'sprites', 'snapdata'].map(\r\n                        function (each) {\r\n                            return hash.substr(0, 8).indexOf(each);\r\n                        }\r\n                    ),\r\n                    1\r\n                )) {\r\n                this.droppedText(hash);\r\n            } else {\r\n                this.droppedText(getURL(hash));\r\n            }\r\n        } else if (location.hash.substr(0, 5) === '#run:') {\r\n            hash = location.hash.substr(5);\r\n            idx = hash.indexOf(\"&\");\r\n            if (idx > 0) {\r\n                hash = hash.slice(0, idx);\r\n            }\r\n            if (hash.charAt(0) === '%'\r\n                    || hash.search(/\\%(?:[0-9a-f]{2})/i) > -1) {\r\n                hash = decodeURIComponent(hash);\r\n            }\r\n            if (hash.substr(0, 8) === '<project>') {\r\n                this.rawOpenProjectString(hash);\r\n            } else {\r\n                this.rawOpenProjectString(getURL(hash));\r\n            }\r\n            applyFlags(SnapCloud.parseDict(location.hash.substr(5)));\r\n        } else if (location.hash.substr(0, 9) === '#present:') {\r\n            this.shield = new Morph();\r\n            this.shield.color = this.color;\r\n            this.shield.setExtent(this.parent.extent());\r\n            this.parent.add(this.shield);\r\n            myself.showMessage('Fetching project\\nfrom the cloud...');\r\n\r\n            // make sure to lowercase the username\r\n            dict = SnapCloud.parseDict(location.hash.substr(9));\r\n            dict.Username = dict.Username.toLowerCase();\r\n\r\n            SnapCloud.getPublicProject(\r\n                SnapCloud.encodeDict(dict),\r\n                function (projectData) {\r\n                    var msg;\r\n                    myself.nextSteps([\r\n                        function () {\r\n                            msg = myself.showMessage('Opening project...');\r\n                        },\r\n                        function () {nop(); }, // yield (bug in Chrome)\r\n                        function () {\r\n                            if (projectData.indexOf('<snapdata') === 0) {\r\n                                myself.rawOpenCloudDataString(projectData);\r\n                            } else if (\r\n                                projectData.indexOf('<project') === 0\r\n                            ) {\r\n                                myself.rawOpenProjectString(projectData);\r\n                            }\r\n                            myself.hasChangedMedia = true;\r\n                        },\r\n                        function () {\r\n                            myself.shield.destroy();\r\n                            myself.shield = null;\r\n                            msg.destroy();\r\n                            applyFlags(dict);\r\n                        }\r\n                    ]);\r\n                },\r\n                this.cloudError()\r\n            );\r\n        } else if (location.hash.substr(0, 7) === '#cloud:') {\r\n            this.shield = new Morph();\r\n            this.shield.alpha = 0;\r\n            this.shield.setExtent(this.parent.extent());\r\n            this.parent.add(this.shield);\r\n            myself.showMessage('Fetching project\\nfrom the cloud...');\r\n\r\n            // make sure to lowercase the username\r\n            dict = SnapCloud.parseDict(location.hash.substr(7));\r\n            dict.Username = dict.Username.toLowerCase();\r\n\r\n            SnapCloud.getPublicProject(\r\n                SnapCloud.encodeDict(dict),\r\n                function (projectData) {\r\n                    var msg;\r\n                    myself.nextSteps([\r\n                        function () {\r\n                            msg = myself.showMessage('Opening project...');\r\n                        },\r\n                        function () {nop(); }, // yield (bug in Chrome)\r\n                        function () {\r\n                            if (projectData.indexOf('<snapdata') === 0) {\r\n                                myself.rawOpenCloudDataString(projectData);\r\n                            } else if (\r\n                                projectData.indexOf('<project') === 0\r\n                            ) {\r\n                                myself.rawOpenProjectString(projectData);\r\n                            }\r\n                            myself.hasChangedMedia = true;\r\n                        },\r\n                        function () {\r\n                            myself.shield.destroy();\r\n                            myself.shield = null;\r\n                            msg.destroy();\r\n                            myself.toggleAppMode(false);\r\n                        }\r\n                    ]);\r\n                },\r\n                this.cloudError()\r\n            );\r\n        } else if (location.hash.substr(0, 4) === '#dl:') {\r\n            myself.showMessage('Fetching project\\nfrom the cloud...');\r\n\r\n            // make sure to lowercase the username\r\n            dict = SnapCloud.parseDict(location.hash.substr(4));\r\n            dict.Username = dict.Username.toLowerCase();\r\n\r\n            SnapCloud.getPublicProject(\r\n                SnapCloud.encodeDict(dict),\r\n                function (projectData) {\r\n                \tmyself.saveXMLAs(projectData, dict.ProjectName);\r\n                 \tmyself.showMessage(\r\n                  \t   'Saved project\\n' + dict.ProjectName,\r\n                      \t2\r\n                 \t);\r\n                },\r\n                this.cloudError()\r\n            );\r\n        } else if (location.hash.substr(0, 6) === '#lang:') {\r\n            urlLanguage = location.hash.substr(6);\r\n            this.setLanguage(urlLanguage);\r\n            this.loadNewProject = true;\r\n        } else if (location.hash.substr(0, 7) === '#signup') {\r\n            this.createCloudAccount();\r\n        }\r\n    this.loadNewProject = false;\r\n\r\n    }\r\n\r\n    if (this.userLanguage) {\r\n        this.loadNewProject = true;\r\n        this.setLanguage(this.userLanguage, interpretUrlAnchors);\r\n    } else {\r\n        interpretUrlAnchors.call(this);\r\n    }\r\n\r\n    \r\n};\r\n\r\n// IDE_Morph construction\r\n\r\nIDE_Morph.prototype.buildPanes = function () {\r\n    this.createLogo();\r\n    this.createControlBar();\r\n    this.createCategories();\r\n    this.createPalette();\r\n    this.createStage();\r\n    this.createSpriteBar();\r\n    this.createSpriteEditor();\r\n    this.createCorralBar();\r\n    this.createCorral();\r\n};\r\n\r\nIDE_Morph.prototype.createLogo = function () {\r\n    var myself = this;\r\n\r\n    if (this.logo) {\r\n        this.logo.destroy();\r\n    }\r\n\r\n    this.logo = new Morph();\r\n    this.logo.texture = this.logoURL;\r\n    this.logo.drawNew = function () {\r\n        this.image = newCanvas(this.extent());\r\n        var context = this.image.getContext('2d'),\r\n            gradient = context.createLinearGradient(\r\n                0,\r\n                0,\r\n                this.width(),\r\n                0\r\n            );\r\n        gradient.addColorStop(0, 'black');\r\n        gradient.addColorStop(0.5, myself.frameColor.toString());\r\n        context.fillStyle = MorphicPreferences.isFlat ?\r\n                myself.frameColor.toString() : gradient;\r\n        context.fillRect(0, 0, this.width(), this.height());\r\n        if (this.texture) {\r\n            this.drawTexture(this.texture);\r\n        }\r\n    };\r\n\r\n    this.logo.drawCachedTexture = function () {\r\n        var context = this.image.getContext('2d');\r\n        context.drawImage(\r\n            this.cachedTexture,\r\n            5,\r\n            Math.round((this.height() - this.cachedTexture.height) / 2)\r\n        );\r\n        this.changed();\r\n    };\r\n\r\n    this.logo.mouseClickLeft = function () {\r\n        myself.snapMenu();\r\n    };\r\n\r\n    this.logo.color = new Color();\r\n    this.logo.setExtent(new Point(200, 28)); // dimensions are fixed\r\n    this.add(this.logo);\r\n};\r\n\r\nIDE_Morph.prototype.createControlBar = function () {\r\n    // assumes the logo has already been created\r\n    var padding = 5,\r\n        button,\r\n        slider,\r\n        stopButton,\r\n        pauseButton,\r\n        startButton,\r\n        projectButton,\r\n        settingsButton,\r\n        stageSizeButton,\r\n        appModeButton,\r\n        steppingButton,\r\n        cloudButton,\r\n        x,\r\n        colors = [\r\n            this.groupColor,\r\n            this.frameColor.darker(50),\r\n            this.frameColor.darker(50)\r\n        ],\r\n        myself = this;\r\n\r\n    if (this.controlBar) {\r\n        this.controlBar.destroy();\r\n    }\r\n\r\n    this.controlBar = new Morph();\r\n    this.controlBar.color = this.frameColor;\r\n    this.controlBar.setHeight(this.logo.height()); // height is fixed\r\n    this.controlBar.mouseClickLeft = function () {\r\n        this.world().fillPage();\r\n    };\r\n    this.add(this.controlBar);\r\n\r\n    //smallStageButton\r\n    button = new ToggleButtonMorph(\r\n        null, //colors,\r\n        myself, // the IDE is the target\r\n        'toggleStageSize',\r\n        [\r\n            new SymbolMorph('smallStage', 14),\r\n            new SymbolMorph('normalStage', 14)\r\n        ],\r\n        function () {  // query\r\n            return myself.isSmallStage;\r\n        }\r\n    );\r\n\r\n    button.corner = 12;\r\n    button.color = colors[0];\r\n    button.highlightColor = colors[1];\r\n    button.pressColor = colors[2];\r\n    button.labelMinExtent = new Point(36, 18);\r\n    button.padding = 0;\r\n    button.labelShadowOffset = new Point(-1, -1);\r\n    button.labelShadowColor = colors[1];\r\n    button.labelColor = this.buttonLabelColor;\r\n    button.contrast = this.buttonContrast;\r\n    button.drawNew();\r\n    // button.hint = 'stage size\\nsmall & normal';\r\n    button.fixLayout();\r\n    button.refresh();\r\n    stageSizeButton = button;\r\n    this.controlBar.add(stageSizeButton);\r\n    this.controlBar.stageSizeButton = button; // for refreshing\r\n\r\n    //appModeButton\r\n    button = new ToggleButtonMorph(\r\n        null, //colors,\r\n        myself, // the IDE is the target\r\n        'toggleAppMode',\r\n        [\r\n            new SymbolMorph('fullScreen', 14),\r\n            new SymbolMorph('normalScreen', 14)\r\n        ],\r\n        function () {  // query\r\n            return myself.isAppMode;\r\n        }\r\n    );\r\n\r\n    button.corner = 12;\r\n    button.color = colors[0];\r\n    button.highlightColor = colors[1];\r\n    button.pressColor = colors[2];\r\n    button.labelMinExtent = new Point(36, 18);\r\n    button.padding = 0;\r\n    button.labelShadowOffset = new Point(-1, -1);\r\n    button.labelShadowColor = colors[1];\r\n    button.labelColor = this.buttonLabelColor;\r\n    button.contrast = this.buttonContrast;\r\n    button.drawNew();\r\n    // button.hint = 'app & edit\\nmodes';\r\n    button.fixLayout();\r\n    button.refresh();\r\n    appModeButton = button;\r\n    this.controlBar.add(appModeButton);\r\n    this.controlBar.appModeButton = appModeButton; // for refreshing\r\n\r\n    //steppingButton\r\n    button = new ToggleButtonMorph(\r\n        null, //colors,\r\n        myself, // the IDE is the target\r\n        'toggleSingleStepping',\r\n        [\r\n            new SymbolMorph('footprints', 16),\r\n            new SymbolMorph('footprints', 16)\r\n        ],\r\n        function () {  // query\r\n            return Process.prototype.enableSingleStepping;\r\n        }\r\n    );\r\n\r\n    button.corner = 12;\r\n    button.color = colors[0];\r\n    button.highlightColor = colors[1];\r\n    button.pressColor = new Color(153, 255, 213);\r\n//    button.pressColor = colors[2];\r\n    button.labelMinExtent = new Point(36, 18);\r\n    button.padding = 0;\r\n    button.labelShadowOffset = new Point(-1, -1);\r\n    button.labelShadowColor = colors[1];\r\n    button.labelColor = this.buttonLabelColor;\r\n    button.contrast = this.buttonContrast;\r\n    button.drawNew();\r\n    button.hint = 'Visible stepping';\r\n    button.fixLayout();\r\n    button.refresh();\r\n    steppingButton = button;\r\n    this.controlBar.add(steppingButton);\r\n    this.controlBar.steppingButton = steppingButton; // for refreshing\r\n\r\n    // stopButton\r\n    button = new ToggleButtonMorph(\r\n        null, // colors\r\n        this, // the IDE is the target\r\n        'stopAllScripts',\r\n        [\r\n            new SymbolMorph('octagon', 14),\r\n            new SymbolMorph('square', 14)\r\n        ],\r\n        function () {  // query\r\n            return myself.stage ?\r\n                    myself.stage.enableCustomHatBlocks &&\r\n                        myself.stage.threads.pauseCustomHatBlocks\r\n                        : true;\r\n        }\r\n    );\r\n\r\n    button.corner = 12;\r\n    button.color = colors[0];\r\n    button.highlightColor = colors[1];\r\n    button.pressColor = colors[2];\r\n    button.labelMinExtent = new Point(36, 18);\r\n    button.padding = 0;\r\n    button.labelShadowOffset = new Point(-1, -1);\r\n    button.labelShadowColor = colors[1];\r\n    button.labelColor = new Color(200, 0, 0);\r\n    button.contrast = this.buttonContrast;\r\n    button.drawNew();\r\n    // button.hint = 'stop\\nevery-\\nthing';\r\n    button.fixLayout();\r\n    button.refresh();\r\n    stopButton = button;\r\n    this.controlBar.add(stopButton);\r\n    this.controlBar.stopButton = stopButton; // for refreshing\r\n\r\n    //pauseButton\r\n    button = new ToggleButtonMorph(\r\n        null, //colors,\r\n        this, // the IDE is the target\r\n        'togglePauseResume',\r\n        [\r\n            new SymbolMorph('pause', 12),\r\n            new SymbolMorph('pointRight', 14)\r\n        ],\r\n        function () {  // query\r\n            return myself.isPaused();\r\n        }\r\n    );\r\n\r\n    button.corner = 12;\r\n    button.color = colors[0];\r\n    button.highlightColor = colors[1];\r\n    button.pressColor = colors[2];\r\n    button.labelMinExtent = new Point(36, 18);\r\n    button.padding = 0;\r\n    button.labelShadowOffset = new Point(-1, -1);\r\n    button.labelShadowColor = colors[1];\r\n    button.labelColor = new Color(255, 220, 0);\r\n    button.contrast = this.buttonContrast;\r\n    button.drawNew();\r\n    // button.hint = 'pause/resume\\nall scripts';\r\n    button.fixLayout();\r\n    button.refresh();\r\n    pauseButton = button;\r\n    this.controlBar.add(pauseButton);\r\n    this.controlBar.pauseButton = pauseButton; // for refreshing\r\n\r\n    // startButton\r\n    button = new PushButtonMorph(\r\n        this,\r\n        'pressStart',\r\n        new SymbolMorph('flag', 14)\r\n    );\r\n    button.corner = 12;\r\n    button.color = colors[0];\r\n    button.highlightColor = colors[1];\r\n    button.pressColor = colors[2];\r\n    button.labelMinExtent = new Point(36, 18);\r\n    button.padding = 0;\r\n    button.labelShadowOffset = new Point(-1, -1);\r\n    button.labelShadowColor = colors[1];\r\n    button.labelColor = new Color(0, 200, 0);\r\n    button.contrast = this.buttonContrast;\r\n    button.drawNew();\r\n    // button.hint = 'start green\\nflag scripts';\r\n    button.fixLayout();\r\n    startButton = button;\r\n    this.controlBar.add(startButton);\r\n    this.controlBar.startButton = startButton;\r\n\r\n    // steppingSlider\r\n    slider = new SliderMorph(\r\n        61,\r\n        1,\r\n        Process.prototype.flashTime * 100 + 1,\r\n        6,\r\n        'horizontal'\r\n    );\r\n    slider.action = function (num) {\r\n        Process.prototype.flashTime = (num - 1) / 100;\r\n        myself.controlBar.refreshResumeSymbol();\r\n    };\r\n    // slider.alpha = MorphicPreferences.isFlat ? 0.1 : 0.3;\r\n    slider.color = new Color(153, 255, 213);\r\n    slider.alpha = 0.3;\r\n    slider.setExtent(new Point(50, 14));\r\n    this.controlBar.add(slider);\r\n    this.controlBar.steppingSlider = slider;\r\n\r\n    // projectButton\r\n    button = new PushButtonMorph(\r\n        this,\r\n        'projectMenu',\r\n        new SymbolMorph('file', 14)\r\n        //'\\u270E'\r\n    );\r\n    button.corner = 12;\r\n    button.color = colors[0];\r\n    button.highlightColor = colors[1];\r\n    button.pressColor = colors[2];\r\n    button.labelMinExtent = new Point(36, 18);\r\n    button.padding = 0;\r\n    button.labelShadowOffset = new Point(-1, -1);\r\n    button.labelShadowColor = colors[1];\r\n    button.labelColor = this.buttonLabelColor;\r\n    button.contrast = this.buttonContrast;\r\n    button.drawNew();\r\n    // button.hint = 'open, save, & annotate project';\r\n    button.fixLayout();\r\n    projectButton = button;\r\n    //this.controlBar.add(projectButton); // Wiquid : Control button menu create save file\r\n    this.controlBar.projectButton = projectButton; // for menu positioning\r\n\r\n    // settingsButton\r\n    button = new PushButtonMorph(\r\n        this,\r\n        'settingsMenu',\r\n        new SymbolMorph('gears', 14)\r\n        //'\\u2699'\r\n    );\r\n    button.corner = 12;\r\n    button.color = colors[0];\r\n    button.highlightColor = colors[1];\r\n    button.pressColor = colors[2];\r\n    button.labelMinExtent = new Point(36, 18);\r\n    button.padding = 0;\r\n    button.labelShadowOffset = new Point(-1, -1);\r\n    button.labelShadowColor = colors[1];\r\n    button.labelColor = this.buttonLabelColor;\r\n    button.contrast = this.buttonContrast;\r\n    button.drawNew();\r\n    // button.hint = 'edit settings';\r\n    button.fixLayout();\r\n    settingsButton = button;\r\n    //this.controlBar.add(settingsButton);\r\n    this.controlBar.settingsButton = settingsButton; // for menu positioning\r\n\r\n    // cloudButton\r\n    button = new PushButtonMorph(\r\n        this,\r\n        'cloudMenu',\r\n        new SymbolMorph('cloud', 11)\r\n    );\r\n    button.corner = 12;\r\n    button.color = colors[0];\r\n    button.highlightColor = colors[1];\r\n    button.pressColor = colors[2];\r\n    button.labelMinExtent = new Point(36, 18);\r\n    button.padding = 0;\r\n    button.labelShadowOffset = new Point(-1, -1);\r\n    button.labelShadowColor = colors[1];\r\n    button.labelColor = this.buttonLabelColor;\r\n    button.contrast = this.buttonContrast;\r\n    button.drawNew();\r\n    // button.hint = 'cloud operations';\r\n    button.fixLayout();\r\n    cloudButton = button;\r\n    //this.controlBar.add(cloudButton);\r\n    this.controlBar.cloudButton = cloudButton; // for menu positioning\r\n\r\n    this.controlBar.fixLayout = function () {\r\n        x = this.right() - padding;\r\n        [stopButton, pauseButton, startButton].forEach(\r\n            function (button) {\r\n                button.setCenter(myself.controlBar.center());\r\n                button.setRight(x);\r\n                x -= button.width();\r\n                x -= padding;\r\n            }\r\n        );\r\n\r\n        x = Math.min(\r\n            startButton.left() - (3 * padding + 2 * stageSizeButton.width()),\r\n            myself.right() - StageMorph.prototype.dimensions.x *\r\n                (myself.isSmallStage ? myself.stageRatio : 1)\r\n        );\r\n        [stageSizeButton, appModeButton].forEach(\r\n            function (button) {\r\n                x += padding;\r\n                button.setCenter(myself.controlBar.center());\r\n                button.setLeft(x);\r\n                x += button.width();\r\n            }\r\n        );\r\n\r\n        slider.setCenter(myself.controlBar.center());\r\n        slider.setRight(stageSizeButton.left() - padding);\r\n\r\n        steppingButton.setCenter(myself.controlBar.center());\r\n        steppingButton.setRight(slider.left() - padding);\r\n\r\n        settingsButton.setCenter(myself.controlBar.center());\r\n        settingsButton.setLeft(this.left());\r\n\r\n        cloudButton.setCenter(myself.controlBar.center());\r\n        cloudButton.setRight(settingsButton.left() - padding);\r\n\r\n        projectButton.setCenter(myself.controlBar.center());\r\n        projectButton.setRight(cloudButton.left() - padding);\r\n\r\n        this.refreshSlider();\r\n        this.updateLabel();\r\n    };\r\n\r\n    this.controlBar.refreshSlider = function () {\r\n        if (Process.prototype.enableSingleStepping && !myself.isAppMode) {\r\n            slider.drawNew();\r\n            slider.show();\r\n        } else {\r\n            slider.hide();\r\n        }\r\n        this.refreshResumeSymbol();\r\n    };\r\n\r\n    this.controlBar.refreshResumeSymbol = function () {\r\n        var pauseSymbols;\r\n        if (Process.prototype.enableSingleStepping &&\r\n                Process.prototype.flashTime > 0.5) {\r\n            myself.stage.threads.pauseAll(myself.stage);\r\n            pauseSymbols = [\r\n                new SymbolMorph('pause', 12),\r\n                new SymbolMorph('stepForward', 14)\r\n            ];\r\n        } else {\r\n            pauseSymbols = [\r\n                new SymbolMorph('pause', 12),\r\n                new SymbolMorph('pointRight', 14)\r\n            ];\r\n        }\r\n        pauseButton.labelString = pauseSymbols;\r\n        pauseButton.createLabel();\r\n        pauseButton.fixLayout();\r\n        pauseButton.refresh();\r\n    };\r\n\r\n    this.controlBar.updateLabel = function () {\r\n        var suffix = myself.world().isDevMode ?\r\n                ' - ' + localize('development mode') : '';\r\n\r\n        if (this.label) {\r\n            this.label.destroy();\r\n        }\r\n        if (myself.isAppMode) {\r\n            return;\r\n        }\r\n\r\n        this.label = new StringMorph(\r\n            (myself.projectName || localize('untitled')) + suffix,\r\n            14,\r\n            'sans-serif',\r\n            true,\r\n            false,\r\n            false,\r\n            MorphicPreferences.isFlat ? null : new Point(2, 1),\r\n            myself.frameColor.darker(myself.buttonContrast)\r\n        );\r\n        this.label.color = myself.buttonLabelColor;\r\n        this.label.drawNew();\r\n        this.add(this.label);\r\n        this.label.setCenter(this.center());\r\n        this.label.setLeft(this.settingsButton.right() + padding);\r\n    };\r\n};\r\n\r\nIDE_Morph.prototype.createCategories = function () {\r\n    var myself = this;\r\n\r\n    if (this.categories) {\r\n        this.categories.destroy();\r\n    }\r\n    this.categories = new Morph();\r\n    this.categories.color = this.groupColor;\r\n    this.categories.silentSetWidth(this.paletteWidth);\r\n\r\n    function addCategoryButton(category) {\r\n        var labelWidth = 75,\r\n            colors = [\r\n                myself.frameColor,\r\n                myself.frameColor.darker(50),\r\n                SpriteMorph.prototype.blockColor[category]\r\n            ],\r\n            button;\r\n\r\n        button = new ToggleButtonMorph(\r\n            colors,\r\n            myself, // the IDE is the target\r\n            function () {\r\n                myself.currentCategory = category;\r\n                myself.categories.children.forEach(function (each) {\r\n                    each.refresh();\r\n                });\r\n                myself.refreshPalette(true);\r\n            },\r\n            category[0].toUpperCase().concat(category.slice(1)), // label\r\n            function () {  // query\r\n                return myself.currentCategory === category;\r\n            },\r\n            null, // env\r\n            null, // hint\r\n            null, // template cache\r\n            labelWidth, // minWidth\r\n            true // has preview\r\n        );\r\n\r\n        button.corner = 8;\r\n        button.padding = 0;\r\n        button.labelShadowOffset = new Point(-1, -1);\r\n        button.labelShadowColor = colors[1];\r\n        button.labelColor = myself.buttonLabelColor;\r\n        button.fixLayout();\r\n        button.refresh();\r\n        myself.categories.add(button);\r\n        return button;\r\n    }\r\n\r\n    function fixCategoriesLayout() {\r\n        var buttonWidth = myself.categories.children[0].width(),\r\n            buttonHeight = myself.categories.children[0].height(),\r\n            border = 3,\r\n            rows =  Math.ceil((myself.categories.children.length) / 2),\r\n            xPadding = (200 // myself.logo.width()\r\n                - border\r\n                - buttonWidth * 2) / 3,\r\n            yPadding = 2,\r\n            l = myself.categories.left(),\r\n            t = myself.categories.top(),\r\n            i = 0,\r\n            row,\r\n            col;\r\n\r\n        myself.categories.children.forEach(function (button) {\r\n            i += 1;\r\n            row = Math.ceil(i / 2);\r\n            col = 2 - (i % 2);\r\n            button.setPosition(new Point(\r\n                l + (col * xPadding + ((col - 1) * buttonWidth)),\r\n                t + (row * yPadding + ((row - 1) * buttonHeight) + border)\r\n            ));\r\n        });\r\n\r\n        myself.categories.setHeight(\r\n            (rows + 1) * yPadding\r\n                + rows * buttonHeight\r\n                + 2 * border\r\n        );\r\n    }\r\n\r\n    SpriteMorph.prototype.categories.forEach(function (cat) {\r\n        if (!contains(['lists', 'other'], cat)) {\r\n           addCategoryButton(cat);\r\n        }\r\n    });\r\n    fixCategoriesLayout();\r\n    this.add(this.categories); // Wiquid : Control display button node categories\r\n};\r\n\r\nIDE_Morph.prototype.createPalette = function (forSearching) {\r\n    // assumes that the logo pane has already been created\r\n    // needs the categories pane for layout\r\n    var myself = this;\r\n\r\n    if (this.palette) {\r\n        this.palette.destroy();\r\n    }\r\n\r\n    if (forSearching) {\r\n        this.palette = new ScrollFrameMorph(\r\n            null,\r\n            null,\r\n            this.currentSprite.sliderColor\r\n        );\r\n\r\n    } else {\r\n        this.palette = this.currentSprite.palette(this.currentCategory);\r\n    }\r\n    this.palette.isDraggable = false;\r\n    this.palette.acceptsDrops = true;\r\n    this.palette.enableAutoScrolling = false;\r\n    this.palette.contents.acceptsDrops = false;\r\n\r\n    this.palette.reactToDropOf = function (droppedMorph, hand) {\r\n\r\n        if (droppedMorph instanceof DialogBoxMorph) {\r\n            myself.world().add(droppedMorph);\r\n        } else if (droppedMorph instanceof SpriteMorph) {\r\n            myself.removeSprite(droppedMorph);\r\n        } else if (droppedMorph instanceof SpriteIconMorph) {\r\n            droppedMorph.destroy();\r\n            myself.removeSprite(droppedMorph.object);\r\n        } else if (droppedMorph instanceof CostumeIconMorph) {\r\n            myself.currentSprite.wearCostume(null);\r\n            droppedMorph.perish();\r\n        } else if (droppedMorph instanceof BlockMorph) {\r\n            myself.stage.threads.stopAllForBlock(droppedMorph);\r\n            if (hand && hand.grabOrigin.origin instanceof ScriptsMorph) {\r\n                hand.grabOrigin.origin.clearDropInfo();\r\n                hand.grabOrigin.origin.lastDroppedBlock = droppedMorph;\r\n                hand.grabOrigin.origin.recordDrop(hand.grabOrigin);\r\n            }\r\n            droppedMorph.perish();\r\n        } else {\r\n            droppedMorph.perish();\r\n        }\r\n    };\r\n\r\n    this.palette.contents.reactToDropOf = function (droppedMorph) {\r\n        // for \"undrop\" operation\r\n        if (droppedMorph instanceof BlockMorph) {\r\n            droppedMorph.destroy();\r\n        }\r\n    };\r\n\r\n    this.palette.setWidth(this.logo.width());\r\n    this.add(this.palette); // Wiquid :  control node palette.\r\n    return this.palette;\r\n};\r\n\r\nIDE_Morph.prototype.createPaletteHandle = function () {\r\n    // assumes that the palette has already been created\r\n    if (this.paletteHandle) {this.paletteHandle.destroy(); }\r\n    this.paletteHandle = new PaletteHandleMorph(this.categories);\r\n    panel_Left = this;\r\n    this.add(this.paletteHandle);\r\n};\r\n\r\nIDE_Morph.prototype.createStage = function () {\r\n    // assumes that the logo pane has already been created\r\n    if (this.stage) {this.stage.destroy(); }\r\n    StageMorph.prototype.frameRate = 0;\r\n    this.stage = new StageMorph(this.globalVariables);\r\n    this.stage.setExtent(this.stage.dimensions); // dimensions are fixed\r\n    if (this.currentSprite instanceof SpriteMorph) {\r\n        this.currentSprite.setPosition(\r\n            this.stage.center().subtract(\r\n                this.currentSprite.extent().divideBy(2)\r\n            )\r\n        );\r\n        this.stage.add(this.currentSprite);\r\n    }\r\n    this.add(this.stage);\r\n};\r\n\r\nIDE_Morph.prototype.createStageHandle = function () {\r\n    // assumes that the stage has already been created\r\n    if (this.stageHandle) {this.stageHandle.destroy(); }\r\n    this.stageHandle = new StageHandleMorph(this.stage);\r\n    this.add(this.stageHandle);\r\n};\r\n\r\nIDE_Morph.prototype.createSpriteBar = function () {\r\n    // assumes that the categories pane has already been created\r\n    var rotationStyleButtons = [],\r\n        thumbSize = new Point(45, 45),\r\n        nameField,\r\n        padlock,\r\n        thumbnail,\r\n        tabCorner = 15,\r\n        tabColors = this.tabColors,\r\n        tabBar = new AlignmentMorph('row', -tabCorner * 2),\r\n        tab,\r\n        symbols = ['\\u2192', '\\u21BB', '\\u2194'],\r\n        labels = ['don\\'t rotate', 'can rotate', 'only face left/right'],\r\n        myself = this;\r\n\r\n    if (this.spriteBar) {\r\n        this.spriteBar.destroy();\r\n    }\r\n\r\n    this.spriteBar = new Morph();\r\n    this.spriteBar.color = this.frameColor;\r\n    this.add(this.spriteBar);\r\n\r\n    function addRotationStyleButton(rotationStyle) {\r\n        var colors = myself.rotationStyleColors,\r\n            button;\r\n\r\n        button = new ToggleButtonMorph(\r\n            colors,\r\n            myself, // the IDE is the target\r\n            function () {\r\n                if (myself.currentSprite instanceof SpriteMorph) {\r\n                    myself.currentSprite.rotationStyle = rotationStyle;\r\n                    myself.currentSprite.changed();\r\n                    myself.currentSprite.drawNew();\r\n                    myself.currentSprite.changed();\r\n                }\r\n                rotationStyleButtons.forEach(function (each) {\r\n                    each.refresh();\r\n                });\r\n            },\r\n            symbols[rotationStyle], // label\r\n            function () {  // query\r\n                return myself.currentSprite instanceof SpriteMorph\r\n                    && myself.currentSprite.rotationStyle === rotationStyle;\r\n            },\r\n            null, // environment\r\n            localize(labels[rotationStyle])\r\n        );\r\n\r\n        button.corner = 8;\r\n        button.labelMinExtent = new Point(11, 11);\r\n        button.padding = 0;\r\n        button.labelShadowOffset = new Point(-1, -1);\r\n        button.labelShadowColor = colors[1];\r\n        button.labelColor = myself.buttonLabelColor;\r\n        button.fixLayout();\r\n        button.refresh();\r\n        rotationStyleButtons.push(button);\r\n        button.setPosition(myself.spriteBar.position().add(2));\r\n        button.setTop(button.top()\r\n            + ((rotationStyleButtons.length - 1) * (button.height() + 2))\r\n            );\r\n        myself.spriteBar.add(button);\r\n        if (myself.currentSprite instanceof StageMorph) {\r\n            button.hide();\r\n        }\r\n        return button;\r\n    }\r\n\r\n    addRotationStyleButton(1);\r\n    addRotationStyleButton(2);\r\n    addRotationStyleButton(0);\r\n    this.rotationStyleButtons = rotationStyleButtons;\r\n\r\n    thumbnail = new Morph();\r\n    thumbnail.setExtent(thumbSize);\r\n    thumbnail.image = this.currentSprite.thumbnail(thumbSize);\r\n    thumbnail.setPosition(\r\n        rotationStyleButtons[0].topRight().add(new Point(5, 3))\r\n    );\r\n    this.spriteBar.add(thumbnail);\r\n\r\n    thumbnail.fps = 3;\r\n\r\n    thumbnail.step = function () {\r\n        if (thumbnail.version !== myself.currentSprite.version) {\r\n            thumbnail.image = myself.currentSprite.thumbnail(thumbSize);\r\n            thumbnail.changed();\r\n            thumbnail.version = myself.currentSprite.version;\r\n        }\r\n    };\r\n\r\n    nameField = new InputFieldMorph(this.currentSprite.name);\r\n    nameField.setWidth(100); // fixed dimensions\r\n    nameField.contrast = 90;\r\n    nameField.setPosition(thumbnail.topRight().add(new Point(10, 3)));\r\n    this.spriteBar.add(nameField);\r\n    nameField.drawNew();\r\n    nameField.accept = function () {\r\n        var newName = nameField.getValue();\r\n        myself.currentSprite.setName(\r\n            myself.newSpriteName(newName, myself.currentSprite)\r\n        );\r\n        nameField.setContents(myself.currentSprite.name);\r\n    };\r\n    this.spriteBar.reactToEdit = nameField.accept;\r\n\r\n    // padlock\r\n    padlock = new ToggleMorph(\r\n        'checkbox',\r\n        null,\r\n        function () {\r\n            myself.currentSprite.isDraggable =\r\n                !myself.currentSprite.isDraggable;\r\n        },\r\n        localize('draggable'),\r\n        function () {\r\n            return myself.currentSprite.isDraggable;\r\n        }\r\n    );\r\n    padlock.label.isBold = false;\r\n    padlock.label.setColor(this.buttonLabelColor);\r\n    padlock.color = tabColors[2];\r\n    padlock.highlightColor = tabColors[0];\r\n    padlock.pressColor = tabColors[1];\r\n\r\n    padlock.tick.shadowOffset = MorphicPreferences.isFlat ?\r\n            new Point() : new Point(-1, -1);\r\n    padlock.tick.shadowColor = new Color(); // black\r\n    padlock.tick.color = this.buttonLabelColor;\r\n    padlock.tick.isBold = false;\r\n    padlock.tick.drawNew();\r\n\r\n    padlock.setPosition(nameField.bottomLeft().add(2));\r\n    padlock.drawNew();\r\n    this.spriteBar.add(padlock);\r\n    if (this.currentSprite instanceof StageMorph) {\r\n        padlock.hide();\r\n    }\r\n\r\n    // tab bar\r\n    tabBar.tabTo = function (tabString) {\r\n        var active;\r\n        myself.currentTab = tabString;\r\n        this.children.forEach(function (each) {\r\n            each.refresh();\r\n            if (each.state) {active = each; }\r\n        });\r\n        active.refresh(); // needed when programmatically tabbing\r\n        myself.createSpriteEditor();\r\n        myself.fixLayout('tabEditor');\r\n    };\r\n\r\n    tab = new TabMorph(\r\n        tabColors,\r\n        null, // target\r\n        function () {tabBar.tabTo('scripts'); },\r\n        localize('Scripts'), // label\r\n        function () {  // query\r\n            return myself.currentTab === 'scripts';\r\n        }\r\n    );\r\n    tab.padding = 3;\r\n    tab.corner = tabCorner;\r\n    tab.edge = 1;\r\n    tab.labelShadowOffset = new Point(-1, -1);\r\n    tab.labelShadowColor = tabColors[1];\r\n    tab.labelColor = this.buttonLabelColor;\r\n    tab.drawNew();\r\n    tab.fixLayout();\r\n    tabBar.add(tab);\r\n\r\n    tab = new TabMorph(\r\n        tabColors,\r\n        null, // target\r\n        function () {tabBar.tabTo('costumes'); },\r\n        localize(this.currentSprite instanceof SpriteMorph ?\r\n            'Costumes' : 'Backgrounds'\r\n        ),\r\n        function () {  // query\r\n            return myself.currentTab === 'costumes';\r\n        }\r\n    );\r\n    tab.padding = 3;\r\n    tab.corner = tabCorner;\r\n    tab.edge = 1;\r\n    tab.labelShadowOffset = new Point(-1, -1);\r\n    tab.labelShadowColor = tabColors[1];\r\n    tab.labelColor = this.buttonLabelColor;\r\n    tab.drawNew();\r\n    tab.fixLayout();\r\n    tabBar.add(tab);\r\n\r\n    tab = new TabMorph(\r\n        tabColors,\r\n        null, // target\r\n        function () {tabBar.tabTo('sounds'); },\r\n        localize('Sounds'), // label\r\n        function () {  // query\r\n            return myself.currentTab === 'sounds';\r\n        }\r\n    );\r\n    tab.padding = 3;\r\n    tab.corner = tabCorner;\r\n    tab.edge = 1;\r\n    tab.labelShadowOffset = new Point(-1, -1);\r\n    tab.labelShadowColor = tabColors[1];\r\n    tab.labelColor = this.buttonLabelColor;\r\n    tab.drawNew();\r\n    tab.fixLayout();\r\n    tabBar.add(tab);\r\n\r\n    tabBar.fixLayout();\r\n    tabBar.children.forEach(function (each) {\r\n        each.refresh();\r\n    });\r\n    this.spriteBar.tabBar = tabBar;\r\n    this.spriteBar.add(this.spriteBar.tabBar);\r\n\r\n    this.spriteBar.fixLayout = function () {\r\n        this.tabBar.setLeft(this.left());\r\n        this.tabBar.setBottom(this.bottom());\r\n    };\r\n};\r\n\r\nIDE_Morph.prototype.createSpriteEditor = function () {\r\n    // assumes that the logo pane and the stage have already been created\r\n    var scripts = this.currentSprite.scripts,\r\n        myself = this;\r\n\r\n    if (this.spriteEditor) {\r\n        this.spriteEditor.destroy();\r\n    }\r\n\r\n    if (this.currentTab === 'scripts') {\r\n        scripts.isDraggable = false;\r\n        scripts.color = this.groupColor;\r\n        scripts.cachedTexture = this.scriptsPaneTexture;\r\n\r\n        this.spriteEditor = new ScrollFrameMorph(\r\n            scripts,\r\n            null,\r\n            this.sliderColor\r\n        );\r\n        this.spriteEditor.padding = 10;\r\n        this.spriteEditor.growth = 50;\r\n        this.spriteEditor.isDraggable = false;\r\n        this.spriteEditor.acceptsDrops = false;\r\n        this.spriteEditor.contents.acceptsDrops = true;\r\n\r\n        scripts.scrollFrame = this.spriteEditor;\r\n        scripts.updateToolbar();\r\n        this.add(this.spriteEditor);\r\n        this.spriteEditor.scrollX(this.spriteEditor.padding);\r\n        this.spriteEditor.scrollY(this.spriteEditor.padding);\r\n    } else if (this.currentTab === 'costumes') {\r\n        this.spriteEditor = new WardrobeMorph(\r\n            this.currentSprite,\r\n            this.sliderColor\r\n        );\r\n        this.spriteEditor.color = this.groupColor;\r\n        this.add(this.spriteEditor);\r\n        this.spriteEditor.updateSelection();\r\n\r\n        this.spriteEditor.acceptsDrops = false;\r\n        this.spriteEditor.contents.acceptsDrops = false;\r\n    } else if (this.currentTab === 'sounds') {\r\n        this.spriteEditor = new JukeboxMorph(\r\n            this.currentSprite,\r\n            this.sliderColor\r\n        );\r\n        this.spriteEditor.color = this.groupColor;\r\n        this.add(this.spriteEditor);\r\n        this.spriteEditor.updateSelection();\r\n        this.spriteEditor.acceptDrops = false;\r\n        this.spriteEditor.contents.acceptsDrops = false;\r\n    } else {\r\n        this.spriteEditor = new Morph();\r\n        this.spriteEditor.color = this.groupColor;\r\n        this.spriteEditor.acceptsDrops = true;\r\n        this.spriteEditor.reactToDropOf = function (droppedMorph) {\r\n            if (droppedMorph instanceof DialogBoxMorph) {\r\n                myself.world().add(droppedMorph);\r\n            } else if (droppedMorph instanceof SpriteMorph) {\r\n                myself.removeSprite(droppedMorph);\r\n            } else {\r\n                droppedMorph.destroy();\r\n            }\r\n        };\r\n        this.add(this.spriteEditor);\r\n    }\r\n};\r\n\r\nIDE_Morph.prototype.createCorralBar = function () {\r\n    // assumes the stage has already been created\r\n    var padding = 5,\r\n        newbutton,\r\n        paintbutton,\r\n        cambutton,\r\n        colors = [\r\n            this.groupColor,\r\n            this.frameColor.darker(50),\r\n            this.frameColor.darker(50)\r\n        ];\r\n\r\n    if (this.corralBar) {\r\n        this.corralBar.destroy();\r\n    }\r\n\r\n    this.corralBar = new Morph();\r\n    this.corralBar.color = this.frameColor;\r\n    this.corralBar.setHeight(this.logo.height()); // height is fixed\r\n    this.add(this.corralBar);\r\n\r\n    // new sprite button\r\n    newbutton = new PushButtonMorph(\r\n        this,\r\n        \"addNewSprite\",\r\n        new SymbolMorph(\"turtle\", 14)\r\n    );\r\n    newbutton.corner = 12;\r\n    newbutton.color = colors[0];\r\n    newbutton.highlightColor = colors[1];\r\n    newbutton.pressColor = colors[2];\r\n    newbutton.labelMinExtent = new Point(36, 18);\r\n    newbutton.padding = 0;\r\n    newbutton.labelShadowOffset = new Point(-1, -1);\r\n    newbutton.labelShadowColor = colors[1];\r\n    newbutton.labelColor = this.buttonLabelColor;\r\n    newbutton.contrast = this.buttonContrast;\r\n    newbutton.drawNew();\r\n    newbutton.hint = \"add a new Turtle sprite\";\r\n    newbutton.fixLayout();\r\n    newbutton.setCenter(this.corralBar.center());\r\n    newbutton.setLeft(this.corralBar.left() + padding);\r\n    this.corralBar.add(newbutton);\r\n\r\n    paintbutton = new PushButtonMorph(\r\n        this,\r\n        \"paintNewSprite\",\r\n        new SymbolMorph(\"brush\", 15)\r\n    );\r\n    paintbutton.corner = 12;\r\n    paintbutton.color = colors[0];\r\n    paintbutton.highlightColor = colors[1];\r\n    paintbutton.pressColor = colors[2];\r\n    paintbutton.labelMinExtent = new Point(36, 18);\r\n    paintbutton.padding = 0;\r\n    paintbutton.labelShadowOffset = new Point(-1, -1);\r\n    paintbutton.labelShadowColor = colors[1];\r\n    paintbutton.labelColor = this.buttonLabelColor;\r\n    paintbutton.contrast = this.buttonContrast;\r\n    paintbutton.drawNew();\r\n    paintbutton.hint = \"paint a new sprite\";\r\n    paintbutton.fixLayout();\r\n    paintbutton.setCenter(this.corralBar.center());\r\n    paintbutton.setLeft(\r\n        this.corralBar.left() + padding + newbutton.width() + padding\r\n    );\r\n    this.corralBar.add(paintbutton);\r\n\r\n    if (CamSnapshotDialogMorph.prototype.enableCamera) {\r\n        cambutton = new PushButtonMorph(\r\n                this,\r\n                \"newCamSprite\",\r\n                new SymbolMorph(\"camera\", 15)\r\n                );\r\n        cambutton.corner = 12;\r\n        cambutton.color = colors[0];\r\n        cambutton.highlightColor = colors[1];\r\n        cambutton.pressColor = colors[2];\r\n        cambutton.labelMinExtent = new Point(36, 18);\r\n        cambutton.padding = 0;\r\n        cambutton.labelShadowOffset = new Point(-1, -1);\r\n        cambutton.labelShadowColor = colors[1];\r\n        cambutton.labelColor = this.buttonLabelColor;\r\n        cambutton.contrast = this.buttonContrast;\r\n        cambutton.drawNew();\r\n        cambutton.hint = \"take a camera snapshot and\\nimport it as a new sprite\";\r\n        cambutton.fixLayout();\r\n        cambutton.setCenter(this.corralBar.center());\r\n        cambutton.setLeft(\r\n            this.corralBar.left() +\r\n            padding +\r\n            newbutton.width() +\r\n            padding +\r\n            paintbutton.width() +\r\n            padding\r\n        );\r\n        this.corralBar.add(cambutton);\r\n        document.addEventListener(\r\n            'cameraDisabled',\r\n            function (event) {\r\n                cambutton.disable();\r\n                cambutton.hint =\r\n                    CamSnapshotDialogMorph.prototype.notSupportedMessage;\r\n            }\r\n        );\r\n    }\r\n};\r\n\r\nIDE_Morph.prototype.createCorral = function () {\r\n    // assumes the corral bar has already been created\r\n    var frame, template, padding = 5, myself = this;\r\n\r\n    this.createStageHandle();\r\n    this.createPaletteHandle();\r\n\r\n    if (this.corral) {\r\n        this.corral.destroy();\r\n    }\r\n\r\n    this.corral = new Morph();\r\n    this.corral.color = this.groupColor;\r\n    this.add(this.corral);\r\n\r\n    this.corral.stageIcon = new SpriteIconMorph(this.stage);\r\n    this.corral.stageIcon.isDraggable = false;\r\n    this.corral.add(this.corral.stageIcon);\r\n\r\n    frame = new ScrollFrameMorph(null, null, this.sliderColor);\r\n    frame.acceptsDrops = false;\r\n    frame.contents.acceptsDrops = false;\r\n\r\n    frame.contents.wantsDropOf = function (morph) {\r\n        return morph instanceof SpriteIconMorph;\r\n    };\r\n\r\n    frame.contents.reactToDropOf = function (spriteIcon) {\r\n        myself.corral.reactToDropOf(spriteIcon);\r\n    };\r\n\r\n    frame.alpha = 0;\r\n\r\n    this.sprites.asArray().forEach(function (morph) {\r\n        if (!morph.isTemporary) {\r\n            template = new SpriteIconMorph(morph, template);\r\n            frame.contents.add(template);\r\n        }\r\n    });\r\n\r\n    this.corral.frame = frame;\r\n    this.corral.add(frame);\r\n\r\n    this.corral.fixLayout = function () {\r\n        this.stageIcon.setCenter(this.center());\r\n        this.stageIcon.setLeft(this.left() + padding);\r\n        this.frame.setLeft(this.stageIcon.right() + padding);\r\n        this.frame.setExtent(new Point(\r\n            this.right() - this.frame.left(),\r\n            this.height()\r\n        ));\r\n        this.arrangeIcons();\r\n        this.refresh();\r\n    };\r\n\r\n    this.corral.arrangeIcons = function () {\r\n        var x = this.frame.left(),\r\n            y = this.frame.top(),\r\n            max = this.frame.right(),\r\n            start = this.frame.left();\r\n\r\n        this.frame.contents.children.forEach(function (icon) {\r\n            var w = icon.width();\r\n\r\n            if (x + w > max) {\r\n                x = start;\r\n                y += icon.height(); // they're all the same\r\n            }\r\n            icon.setPosition(new Point(x, y));\r\n            x += w;\r\n        });\r\n        this.frame.contents.adjustBounds();\r\n    };\r\n\r\n    this.corral.addSprite = function (sprite) {\r\n        this.frame.contents.add(new SpriteIconMorph(sprite));\r\n        this.fixLayout();\r\n    };\r\n\r\n    this.corral.refresh = function () {\r\n        this.stageIcon.refresh();\r\n        this.frame.contents.children.forEach(function (icon) {\r\n            icon.refresh();\r\n        });\r\n    };\r\n\r\n    this.corral.wantsDropOf = function (morph) {\r\n        return morph instanceof SpriteIconMorph;\r\n    };\r\n\r\n    this.corral.reactToDropOf = function (spriteIcon) {\r\n        var idx = 1,\r\n            pos = spriteIcon.position();\r\n        spriteIcon.destroy();\r\n        this.frame.contents.children.forEach(function (icon) {\r\n            if (pos.gt(icon.position()) || pos.y > icon.bottom()) {\r\n                idx += 1;\r\n            }\r\n        });\r\n        myself.sprites.add(spriteIcon.object, idx);\r\n        myself.createCorral();\r\n        myself.fixLayout();\r\n    };\r\n};\r\n\r\n// IDE_Morph layout\r\n\r\nIDE_Morph.prototype.fixLayout = function (situation) {\r\n    // situation is a string, i.e.\r\n    // 'selectSprite' or 'refreshPalette' or 'tabEditor'\r\n    var padding = this.padding,\r\n        maxPaletteWidth;\r\n\r\n    Morph.prototype.trackChanges = false;\r\n\r\n    if (situation !== 'refreshPalette') {\r\n        // controlBar\r\n        this.controlBar.setPosition(this.logo.topRight());\r\n        this.controlBar.setWidth(this.right() - this.controlBar.left());\r\n        this.controlBar.fixLayout();\r\n\r\n        // categories\r\n        this.categories.setLeft(this.logo.left());\r\n        this.categories.setTop(this.logo.bottom());\r\n        this.categories.setWidth(this.paletteWidth);\r\n    }\r\n\r\n    // palette\r\n    this.palette.setLeft(this.logo.left());\r\n    this.palette.setTop(this.categories.bottom());\r\n    this.palette.setHeight(this.bottom() - this.palette.top());\r\n    this.palette.setWidth(this.paletteWidth);\r\n\r\n    if (situation !== 'refreshPalette') {\r\n        // stage\r\n        if (this.isAppMode) {\r\n            this.stage.setScale(Math.floor(Math.min(\r\n                (this.width() - padding * 2) / this.stage.dimensions.x,\r\n                (this.height() - this.controlBar.height() * 2 - padding * 2)\r\n                    / this.stage.dimensions.y\r\n            ) * 10) / 10);\r\n            this.stage.setCenter(this.center());\r\n        } else {\r\n            this.stage.setScale(this.isSmallStage ? this.stageRatio : 1);\r\n            this.stage.setTop(this.logo.bottom() + padding);\r\n            this.stage.setRight(this.right());\r\n            maxPaletteWidth = Math.max(\r\n                200,\r\n                this.width() -\r\n                    this.stage.width() -\r\n                    this.spriteBar.tabBar.width() -\r\n                    (this.padding * 2)\r\n            );\r\n            if (this.paletteWidth > maxPaletteWidth) {\r\n                this.paletteWidth = maxPaletteWidth;\r\n                this.fixLayout();\r\n            }\r\n            this.stageHandle.fixLayout();\r\n            this.paletteHandle.fixLayout();\r\n        }\r\n\r\n        // spriteBar\r\n        this.spriteBar.setLeft(this.paletteWidth + padding);\r\n        this.spriteBar.setTop(this.logo.bottom() + padding);\r\n        this.spriteBar.setExtent(new Point(\r\n            Math.max(0, this.stage.left() - padding - this.spriteBar.left()),\r\n            this.categories.bottom() - this.spriteBar.top() - padding\r\n        ));\r\n        this.spriteBar.fixLayout();\r\n\r\n        // spriteEditor\r\n        if (this.spriteEditor.isVisible) {\r\n            this.spriteEditor.setPosition(this.spriteBar.bottomLeft());\r\n            this.spriteEditor.setExtent(new Point(\r\n                this.spriteBar.width(),\r\n                this.bottom() - this.spriteEditor.top()\r\n            ));\r\n        }\r\n\r\n        // corralBar\r\n        this.corralBar.setLeft(this.stage.left());\r\n        this.corralBar.setTop(this.stage.bottom() + padding);\r\n        this.corralBar.setWidth(this.stage.width());\r\n\r\n        // corral\r\n        if (!contains(['selectSprite', 'tabEditor'], situation)) {\r\n            this.corral.setPosition(this.corralBar.bottomLeft());\r\n            this.corral.setWidth(this.stage.width());\r\n            this.corral.setHeight(this.bottom() - this.corral.top());\r\n            this.corral.fixLayout();\r\n        }\r\n    }\r\n\r\n    Morph.prototype.trackChanges = true;\r\n    this.changed();\r\n};\r\n\r\nIDE_Morph.prototype.setProjectName = function (string) {\r\n    this.projectName = string.replace(/['\"]/g, ''); // filter quotation marks\r\n    this.hasChangedMedia = true;\r\n    this.controlBar.updateLabel();\r\n};\r\n\r\n// IDE_Morph resizing\r\n\r\nIDE_Morph.prototype.setExtent = function (point) {\r\n    var padding = new Point(430, 110),\r\n        minExt,\r\n        ext,\r\n        maxWidth,\r\n        minWidth,\r\n        maxHeight,\r\n        minRatio,\r\n        maxRatio;\r\n\r\n    // determine the minimum dimensions making sense for the current mode\r\n    if (this.isAppMode) {\r\n        minExt = StageMorph.prototype.dimensions.add(\r\n            this.controlBar.height() + 10\r\n        );\r\n    } else {\r\n        if (this.stageRatio > 1) {\r\n            minExt = padding.add(StageMorph.prototype.dimensions);\r\n        } else {\r\n            minExt = padding.add(\r\n                StageMorph.prototype.dimensions.multiplyBy(this.stageRatio)\r\n            );\r\n        }\r\n    }\r\n    ext = point.max(minExt);\r\n\r\n    // adjust stage ratio if necessary\r\n    maxWidth = ext.x -\r\n        (200 + this.spriteBar.tabBar.width() + (this.padding * 2));\r\n    minWidth = SpriteIconMorph.prototype.thumbSize.x * 3;\r\n    maxHeight = (ext.y - SpriteIconMorph.prototype.thumbSize.y * 3.5);\r\n    minRatio = minWidth / this.stage.dimensions.x;\r\n    maxRatio = Math.min(\r\n        (maxWidth / this.stage.dimensions.x),\r\n        (maxHeight / this.stage.dimensions.y)\r\n    );\r\n    this.stageRatio = Math.min(maxRatio, Math.max(minRatio, this.stageRatio));\r\n\r\n    // apply\r\n    IDE_Morph.uber.setExtent.call(this, ext);\r\n    this.fixLayout();\r\n};\r\n\r\n// IDE_Morph events\r\n\r\nIDE_Morph.prototype.reactToWorldResize = function (rect) {\r\n    if (this.isAutoFill) {\r\n        this.setPosition(rect.origin);\r\n        this.setExtent(rect.extent());\r\n    }\r\n    if (this.filePicker) {\r\n        document.body.removeChild(this.filePicker);\r\n        this.filePicker = null;\r\n    }\r\n};\r\n\r\nIDE_Morph.prototype.droppedImage = function (aCanvas, name) {\r\n    var costume = new Costume(\r\n        aCanvas,\r\n        this.currentSprite.newCostumeName(\r\n            name ? name.split('.')[0] : '' // up to period\r\n        )\r\n    );\r\n\r\n    if (costume.isTainted()) {\r\n        this.inform(\r\n            'Unable to import this image',\r\n            'The picture you wish to import has been\\n' +\r\n                'tainted by a restrictive cross-origin policy\\n' +\r\n                'making it unusable for costumes in Snap!. \\n\\n' +\r\n                'Try downloading this picture first to your\\n' +\r\n                'computer, and import it from there.'\r\n        );\r\n        return;\r\n    }\r\n\r\n    this.currentSprite.addCostume(costume);\r\n    this.currentSprite.wearCostume(costume);\r\n    this.spriteBar.tabBar.tabTo('costumes');\r\n    this.hasChangedMedia = true;\r\n};\r\n\r\nIDE_Morph.prototype.droppedSVG = function (anImage, name) {\r\n    var costume = new SVG_Costume(anImage, name.split('.')[0]);\r\n    this.currentSprite.addCostume(costume);\r\n    this.currentSprite.wearCostume(costume);\r\n    this.spriteBar.tabBar.tabTo('costumes');\r\n    this.hasChangedMedia = true;\r\n};\r\n\r\nIDE_Morph.prototype.droppedAudio = function (anAudio, name) {\r\n    this.currentSprite.addSound(anAudio, name.split('.')[0]); // up to period\r\n    this.spriteBar.tabBar.tabTo('sounds');\r\n    this.hasChangedMedia = true;\r\n};\r\n\r\nIDE_Morph.prototype.droppedText = function (aString, name) {\r\n    var lbl = name ? name.split('.')[0] : '';\r\n    if (aString.indexOf('<project') === 0) {\r\n        \r\n        location.hash = '';\r\n        return this.openProjectString(aString);\r\n    }\r\n    if (aString.indexOf('<snapdata') === 0) {\r\n        location.hash = '';\r\n        return this.openCloudDataString(aString);\r\n    }\r\n    if (aString.indexOf('<blocks') === 0) {\r\n        return this.openBlocksString(aString, lbl, true);\r\n    }\r\n    if (aString.indexOf('<sprites') === 0) {\r\n        return this.openSpritesString(aString);\r\n    }\r\n    if (aString.indexOf('<media') === 0) {\r\n        return this.openMediaString(aString);\r\n    }\r\n    if (aString.indexOf('<script') === 0) {\r\n        return this.openScriptString(aString);\r\n    }\r\n};\r\n\r\nIDE_Morph.prototype.droppedBinary = function (anArrayBuffer, name) {\r\n    // dynamically load ypr->Snap!\r\n    var ypr = document.getElementById('ypr'),\r\n        myself = this,\r\n        suffix = name.substring(name.length - 3);\r\n\r\n    if (suffix.toLowerCase() !== 'ypr') {return; }\r\n\r\n    function loadYPR(buffer, lbl) {\r\n        var reader = new sb.Reader(),\r\n            pname = lbl.split('.')[0]; // up to period\r\n        reader.onload = function (info) {\r\n            myself.droppedText(new sb.XMLWriter().write(pname, info));\r\n        };\r\n        reader.readYPR(new Uint8Array(buffer));\r\n    }\r\n\r\n    if (!ypr) {\r\n        ypr = document.createElement('script');\r\n        ypr.id = 'ypr';\r\n        ypr.onload = function () {loadYPR(anArrayBuffer, name); };\r\n        document.head.appendChild(ypr);\r\n        ypr.src = 'ypr.js';\r\n    } else {\r\n        loadYPR(anArrayBuffer, name);\r\n    }\r\n};\r\n\r\n// IDE_Morph button actions\r\n\r\nIDE_Morph.prototype.refreshPalette = function (shouldIgnorePosition) {\r\n    var oldTop = this.palette.contents.top();\r\n\r\n    this.createPalette();\r\n    this.fixLayout('refreshPalette');\r\n    if (!shouldIgnorePosition) {\r\n        this.palette.contents.setTop(oldTop);\r\n    }\r\n};\r\n\r\nIDE_Morph.prototype.pressStart = function () {\r\n    if (this.world().currentKey === 16) { // shiftClicked\r\n        this.toggleFastTracking();\r\n    } else {\r\n        this.stage.threads.pauseCustomHatBlocks = false;\r\n        this.controlBar.stopButton.refresh();\r\n        this.runScripts();\r\n    }\r\n};\r\n\r\nIDE_Morph.prototype.toggleFastTracking = function () {\r\n    if (this.stage.isFastTracked) {\r\n        this.stopFastTracking();\r\n    } else {\r\n        this.startFastTracking();\r\n    }\r\n};\r\n\r\nIDE_Morph.prototype.toggleVariableFrameRate = function () {\r\n    if (StageMorph.prototype.frameRate) {\r\n        StageMorph.prototype.frameRate = 0;\r\n        this.stage.fps = 0;\r\n    } else {\r\n        StageMorph.prototype.frameRate = 30;\r\n        this.stage.fps = 30;\r\n    }\r\n};\r\n\r\nIDE_Morph.prototype.toggleSingleStepping = function () {\r\n    this.stage.threads.toggleSingleStepping();\r\n    this.controlBar.steppingButton.refresh();\r\n    this.controlBar.refreshSlider();\r\n};\r\n\r\nIDE_Morph.prototype.toggleCameraSupport = function () {\r\n    CamSnapshotDialogMorph.prototype.enableCamera =\r\n        !CamSnapshotDialogMorph.prototype.enableCamera;\r\n    this.spriteBar.tabBar.tabTo(this.currentTab);\r\n    this.createCorralBar();\r\n    this.fixLayout();\r\n};\r\n\r\nIDE_Morph.prototype.startFastTracking = function () {\r\n    this.stage.isFastTracked = true;\r\n    this.stage.fps = 0;\r\n    this.controlBar.startButton.labelString = new SymbolMorph('flash', 14);\r\n    this.controlBar.startButton.drawNew();\r\n    this.controlBar.startButton.fixLayout();\r\n};\r\n\r\nIDE_Morph.prototype.stopFastTracking = function () {\r\n    this.stage.isFastTracked = false;\r\n    this.stage.fps = this.stage.frameRate;\r\n    this.controlBar.startButton.labelString = new SymbolMorph('flag', 14);\r\n    this.controlBar.startButton.drawNew();\r\n    this.controlBar.startButton.fixLayout();\r\n};\r\n\r\nIDE_Morph.prototype.runScripts = function () {\r\n    this.stage.fireGreenFlagEvent();\r\n};\r\n\r\nIDE_Morph.prototype.togglePauseResume = function () {\r\n    if (this.stage.threads.isPaused()) {\r\n        this.stage.threads.resumeAll(this.stage);\r\n    } else {\r\n        this.stage.threads.pauseAll(this.stage);\r\n    }\r\n    this.controlBar.pauseButton.refresh();\r\n};\r\n\r\nIDE_Morph.prototype.isPaused = function () {\r\n    if (!this.stage) {return false; }\r\n    return this.stage.threads.isPaused();\r\n};\r\n\r\nIDE_Morph.prototype.stopAllScripts = function () {\r\n    if (this.stage.enableCustomHatBlocks) {\r\n        this.stage.threads.pauseCustomHatBlocks =\r\n            !this.stage.threads.pauseCustomHatBlocks;\r\n    } else {\r\n        this.stage.threads.pauseCustomHatBlocks = false;\r\n    }\r\n    this.controlBar.stopButton.refresh();\r\n    this.stage.fireStopAllEvent();\r\n};\r\n\r\nIDE_Morph.prototype.selectSprite = function (sprite) {\r\n    if (this.currentSprite && this.currentSprite.scripts.focus) {\r\n        this.currentSprite.scripts.focus.stopEditing();\r\n    }\r\n    this.currentSprite = sprite;\r\n    this.createPalette();\r\n    this.createSpriteBar();\r\n    this.createSpriteEditor();\r\n    this.corral.refresh();\r\n    this.fixLayout('selectSprite');\r\n    this.currentSprite.scripts.fixMultiArgs();\r\n};\r\n\r\n// IDE_Morph retina display support\r\n\r\nIDE_Morph.prototype.toggleRetina = function () {\r\n    if (isRetinaEnabled()) {\r\n        disableRetinaSupport();\r\n    } else {\r\n        enableRetinaSupport();\r\n    }\r\n    this.world().fillPage();\r\n    IDE_Morph.prototype.scriptsPaneTexture = this.scriptsTexture();\r\n    this.stage.clearPenTrails();\r\n    this.drawNew();\r\n    this.refreshIDE();\r\n};\r\n\r\n// IDE_Morph skins\r\n\r\nIDE_Morph.prototype.defaultDesign = function () {\r\n    this.setDefaultDesign();\r\n    this.refreshIDE();\r\n    this.removeSetting('design');\r\n};\r\n\r\nIDE_Morph.prototype.flatDesign = function () {\r\n    this.setFlatDesign();\r\n    this.refreshIDE();\r\n    this.saveSetting('design', 'flat');\r\n};\r\n\r\nIDE_Morph.prototype.refreshIDE = function () {\r\n    var projectData ;\r\n\r\n    if (Process.prototype.isCatchingErrors) {\r\n        try {\r\n            projectData = this.serializer.serialize(this.stage);\r\n        } catch (err) {\r\n            this.showMessage('Serialization failed: ' + err);\r\n        }\r\n    } else {\r\n        projectData = this.serializer.serialize(this.stage);\r\n    }\r\n    SpriteMorph.prototype.initBlocks();\r\n    this.buildPanes();\r\n    this.fixLayout();\r\n    if (this.loadNewProject) {\r\n        this.newProject();\r\n    } else {\r\n        this.openProjectString(projectData);\r\n    }\r\n};\r\n\r\n// IDE_Morph settings persistance\r\n\r\nIDE_Morph.prototype.applySavedSettings = function () {\r\n    var design = this.getSetting('design'),\r\n        zoom = this.getSetting('zoom'),\r\n        /*language = this.getSetting('language'),*/\r\n        language = 'fr',\r\n        click = this.getSetting('click'),\r\n        longform = this.getSetting('longform'),\r\n        longurls = this.getSetting('longurls'),\r\n        plainprototype = this.getSetting('plainprototype'),\r\n        keyboard = this.getSetting('keyboard'),\r\n        tables = this.getSetting('tables'),\r\n        tableLines = this.getSetting('tableLines'),\r\n        autoWrapping = this.getSetting('autowrapping');\r\n\r\n    // design\r\n    if (design === 'flat') {\r\n        this.setFlatDesign();\r\n    } else {\r\n        this.setDefaultDesign();\r\n    }\r\n\r\n    // blocks zoom\r\n    if (zoom) {\r\n        SyntaxElementMorph.prototype.setScale(Math.min(zoom, 12));\r\n        CommentMorph.prototype.refreshScale();\r\n        SpriteMorph.prototype.initBlocks();\r\n    }\r\n\r\n    // language\r\n    if (language && language !== 'en') {\r\n        this.userLanguage = language;\r\n    } else {\r\n        this.userLanguage = null;\r\n    }\r\n\r\n    //  click\r\n    if (click && !BlockMorph.prototype.snapSound) {\r\n        BlockMorph.prototype.toggleSnapSound();\r\n    }\r\n\r\n    // long form\r\n    if (longform) {\r\n        InputSlotDialogMorph.prototype.isLaunchingExpanded = true;\r\n    }\r\n\r\n    // project data in URLs\r\n    if (longurls) {\r\n        this.projectsInURLs = true;\r\n    } else {\r\n        this.projectsInURLs = false;\r\n    }\r\n\r\n    // keyboard editing\r\n    if (keyboard === 'false') {\r\n        ScriptsMorph.prototype.enableKeyboard = false;\r\n    } else {\r\n        ScriptsMorph.prototype.enableKeyboard = true;\r\n    }\r\n\r\n    // tables\r\n    if (tables === 'false') {\r\n        List.prototype.enableTables = false;\r\n    } else {\r\n        List.prototype.enableTables = true;\r\n    }\r\n\r\n    // tableLines\r\n    if (tableLines) {\r\n        TableMorph.prototype.highContrast = true;\r\n    } else {\r\n        TableMorph.prototype.highContrast = false;\r\n    }\r\n\r\n    // nested auto-wrapping\r\n    if (autoWrapping === 'false') {\r\n        ScriptsMorph.prototype.enableNestedAutoWrapping = false;\r\n    } else {\r\n        ScriptsMorph.prototype.enableNestedAutoWrapping = true;\r\n    }\r\n\r\n    // plain prototype labels\r\n    if (plainprototype) {\r\n        BlockLabelPlaceHolderMorph.prototype.plainLabel = true;\r\n    }\r\n};\r\n\r\nIDE_Morph.prototype.saveSetting = function (key, value) {\r\n    if (!this.savingPreferences) {\r\n        return;\r\n    }\r\n    if (this.hasLocalStorage()) {\r\n        localStorage['-snap-setting-' + key] = value;\r\n    }\r\n};\r\n\r\nIDE_Morph.prototype.getSetting = function (key) {\r\n    if (this.hasLocalStorage()) {\r\n        return localStorage['-snap-setting-' + key];\r\n    }\r\n    return null;\r\n};\r\n\r\nIDE_Morph.prototype.removeSetting = function (key) {\r\n    if (this.hasLocalStorage()) {\r\n        delete localStorage['-snap-setting-' + key];\r\n    }\r\n};\r\n\r\nIDE_Morph.prototype.hasLocalStorage = function () {\r\n\t// checks whether localStorage is available,\r\n    // this kludgy try/catch mechanism is needed\r\n    // because Safari 11 is paranoid about accessing\r\n    // localstorage from the file:// protocol\r\n\ttry {\r\n\t\treturn !isNil(localStorage);\r\n\t} catch (err) {\r\n    \treturn false;\r\n\t}\r\n};\r\n\r\n// IDE_Morph sprite list access\r\n\r\nIDE_Morph.prototype.addNewSprite = function () {\r\n    var sprite = new SpriteMorph(this.globalVariables),\r\n        rnd = Process.prototype.reportRandom;\r\n    sprite.name = this.newSpriteName(sprite.name);\r\n    sprite.setCenter(this.stage.center());\r\n    this.stage.add(sprite);\r\n\r\n    // randomize sprite properties\r\n    sprite.setHue(rnd.call(this, 0, 100));\r\n    sprite.setBrightness(rnd.call(this, 50, 100));\r\n    sprite.turn(rnd.call(this, 1, 360));\r\n    sprite.setXPosition(rnd.call(this, -220, 220));\r\n    sprite.setYPosition(rnd.call(this, -160, 160));\r\n\r\n    this.sprites.add(sprite);\r\n    this.corral.addSprite(sprite);\r\n    this.selectSprite(sprite);\r\n};\r\n\r\nIDE_Morph.prototype.paintNewSprite = function () {\r\n    var sprite = new SpriteMorph(this.globalVariables),\r\n        cos = new Costume(),\r\n        myself = this;\r\n\r\n    sprite.name = this.newSpriteName(sprite.name);\r\n    sprite.setCenter(this.stage.center());\r\n    this.stage.add(sprite);\r\n    this.sprites.add(sprite);\r\n    this.corral.addSprite(sprite);\r\n    this.selectSprite(sprite);\r\n    cos.edit(\r\n        this.world(),\r\n        this,\r\n        true,\r\n        function () {myself.removeSprite(sprite); },\r\n        function () {\r\n            sprite.addCostume(cos);\r\n            sprite.wearCostume(cos);\r\n        }\r\n    );\r\n};\r\n\r\nIDE_Morph.prototype.newCamSprite = function () {\r\n    var sprite = new SpriteMorph(this.globalVariables),\r\n        camDialog,\r\n        myself = this;\r\n\r\n    sprite.name = this.newSpriteName(sprite.name);\r\n    sprite.setCenter(this.stage.center());\r\n    this.stage.add(sprite);\r\n    this.sprites.add(sprite);\r\n    this.corral.addSprite(sprite);\r\n    this.selectSprite(sprite);\r\n\r\n    camDialog = new CamSnapshotDialogMorph(\r\n        this,\r\n        sprite,\r\n        function () { myself.removeSprite(sprite); },\r\n        function (costume) {\r\n            sprite.addCostume(costume);\r\n            sprite.wearCostume(costume);\r\n            this.close();\r\n        });\r\n\r\n    camDialog.popUp(this.world());\r\n};\r\n\r\nIDE_Morph.prototype.duplicateSprite = function (sprite) {\r\n    var duplicate = sprite.fullCopy();\r\n    duplicate.setPosition(this.world().hand.position());\r\n    duplicate.appearIn(this);\r\n    duplicate.keepWithin(this.stage);\r\n    this.selectSprite(duplicate);\r\n};\r\n\r\nIDE_Morph.prototype.instantiateSprite = function (sprite) {\r\n    var instance = sprite.fullCopy(true),\r\n        hats = instance.allHatBlocksFor('__clone__init__');\r\n    instance.appearIn(this);\r\n    if (hats.length) {\r\n        instance.initClone(hats);\r\n    } else {\r\n        instance.setPosition(this.world().hand.position());\r\n        instance.keepWithin(this.stage);\r\n    }\r\n    this.selectSprite(instance);\r\n};\r\n\r\nIDE_Morph.prototype.removeSprite = function (sprite) {\r\n    var idx, myself = this;\r\n    sprite.parts.forEach(function (part) {myself.removeSprite(part); });\r\n    idx = this.sprites.asArray().indexOf(sprite) + 1;\r\n    this.stage.threads.stopAllForReceiver(sprite);\r\n    sprite.corpsify();\r\n    sprite.destroy();\r\n    this.stage.watchers().forEach(function (watcher) {\r\n        if (watcher.object() === sprite) {\r\n            watcher.destroy();\r\n        }\r\n    });\r\n    if (idx > 0) {\r\n        this.sprites.remove(idx);\r\n    }\r\n    this.createCorral();\r\n    this.fixLayout();\r\n    this.currentSprite = detect(\r\n        this.stage.children,\r\n        function (morph) {\r\n            return morph instanceof SpriteMorph && !morph.isTemporary;\r\n        }\r\n    ) || this.stage;\r\n\r\n    this.selectSprite(this.currentSprite);\r\n};\r\n\r\nIDE_Morph.prototype.newSpriteName = function (name, ignoredSprite) {\r\n    var ix = name.indexOf('('),\r\n        stem = (ix < 0) ? name : name.substring(0, ix),\r\n        count = 1,\r\n        newName = stem,\r\n        all = this.sprites.asArray().concat(this.stage).filter(\r\n            function (each) {return each !== ignoredSprite; }\r\n        ).map(\r\n            function (each) {return each.name; }\r\n        );\r\n    while (contains(all, newName)) {\r\n        count += 1;\r\n        newName = stem + '(' + count + ')';\r\n    }\r\n    return newName;\r\n};\r\n\r\n// IDE_Morph deleting scripts\r\n\r\nIDE_Morph.prototype.removeBlock = function (aBlock, justThis) {\r\n    this.stage.threads.stopAllForBlock(aBlock);\r\n    aBlock.destroy(justThis);\r\n};\r\n\r\n// IDE_Morph menus\r\n\r\nIDE_Morph.prototype.userMenu = function () {\r\n    var menu = new MenuMorph(this);\r\n    // menu.addItem('help', 'nop');\r\n    return menu;\r\n};\r\n\r\nIDE_Morph.prototype.snapMenu = function () {\r\n    var menu,\r\n        myself = this,\r\n        world = this.world();\r\n\r\n    menu = new MenuMorph(this);\r\n    menu.addItem('About...', 'aboutSnap');\r\n    menu.addLine();\r\n    menu.addItem(\r\n        'Reference manual',\r\n        function () {\r\n            var url = myself.resourceURL('help', 'SnapManual.pdf');\r\n            window.open(url, 'SnapReferenceManual');\r\n        }\r\n    );\r\n    menu.addItem(\r\n        'Snap! website',\r\n        function () {\r\n            window.open('http://snap.berkeley.edu/', 'SnapWebsite');\r\n        }\r\n    );\r\n    menu.addItem(\r\n        'Download source',\r\n        function () {\r\n            window.open(\r\n                'http://snap.berkeley.edu/snapsource/snap.zip',\r\n                'SnapSource'\r\n            );\r\n        }\r\n    );\r\n    if (world.isDevMode) {\r\n        menu.addLine();\r\n        menu.addItem(\r\n            'Switch back to user mode',\r\n            'switchToUserMode',\r\n            'disable deep-Morphic\\ncontext menus'\r\n                + '\\nand show user-friendly ones',\r\n            new Color(0, 100, 0)\r\n        );\r\n    } else if (world.currentKey === 16) { // shift-click\r\n        menu.addLine();\r\n        menu.addItem(\r\n            'Switch to dev mode',\r\n            'switchToDevMode',\r\n            'enable Morphic\\ncontext menus\\nand inspectors,'\r\n                + '\\nnot user-friendly!',\r\n            new Color(100, 0, 0)\r\n        );\r\n    }\r\n    menu.popup(world, this.logo.bottomLeft());\r\n};\r\n\r\nIDE_Morph.prototype.cloudMenu = function () {\r\n    var menu,\r\n        myself = this,\r\n        world = this.world(),\r\n        pos = this.controlBar.cloudButton.bottomLeft(),\r\n        shiftClicked = (world.currentKey === 16);\r\n\r\n    menu = new MenuMorph(this);\r\n    if (shiftClicked) {\r\n        menu.addItem(\r\n            'url...',\r\n            'setCloudURL',\r\n            null,\r\n            new Color(100, 0, 0)\r\n        );\r\n        menu.addLine();\r\n    }\r\n    if (!SnapCloud.username) {\r\n        menu.addItem(\r\n            'Login...',\r\n            'initializeCloud'\r\n        );\r\n        menu.addItem(\r\n            'Signup...',\r\n            'createCloudAccount'\r\n        );\r\n        menu.addItem(\r\n            'Reset Password...',\r\n            'resetCloudPassword'\r\n        );\r\n    } else {\r\n        menu.addItem(\r\n            localize('Logout') + ' ' + SnapCloud.username,\r\n            'logout'\r\n        );\r\n        menu.addItem(\r\n            'Change Password...',\r\n            'changeCloudPassword'\r\n        );\r\n    }\r\n    if (shiftClicked) {\r\n        menu.addLine();\r\n        menu.addItem(\r\n            'export project media only...',\r\n            function () {\r\n                if (myself.projectName) {\r\n                    myself.exportProjectMedia(myself.projectName);\r\n                } else {\r\n                    myself.prompt('Export Project As...', function (name) {\r\n                        myself.exportProjectMedia(name);\r\n                    }, null, 'exportProject');\r\n                }\r\n            },\r\n            null,\r\n            this.hasChangedMedia ? new Color(100, 0, 0) : new Color(0, 100, 0)\r\n        );\r\n        menu.addItem(\r\n            'export project without media...',\r\n            function () {\r\n                if (myself.projectName) {\r\n                    myself.exportProjectNoMedia(myself.projectName);\r\n                } else {\r\n                    myself.prompt('Export Project As...', function (name) {\r\n                        myself.exportProjectNoMedia(name);\r\n                    }, null, 'exportProject');\r\n                }\r\n            },\r\n            null,\r\n            new Color(100, 0, 0)\r\n        );\r\n        menu.addItem(\r\n            'export project as cloud data...',\r\n            function () {\r\n                if (myself.projectName) {\r\n                    myself.exportProjectAsCloudData(myself.projectName);\r\n                } else {\r\n                    myself.prompt('Export Project As...', function (name) {\r\n                        myself.exportProjectAsCloudData(name);\r\n                    }, null, 'exportProject');\r\n                }\r\n            },\r\n            null,\r\n            new Color(100, 0, 0)\r\n        );\r\n        menu.addLine();\r\n        menu.addItem(\r\n            'open shared project from cloud...',\r\n            function () {\r\n                myself.prompt('Author name…', function (usr) {\r\n                    myself.prompt('Project name...', function (prj) {\r\n                        var id = 'Username=' +\r\n                            encodeURIComponent(usr.toLowerCase()) +\r\n                            '&ProjectName=' +\r\n                            encodeURIComponent(prj);\r\n                        myself.showMessage(\r\n                            'Fetching project\\nfrom the cloud...'\r\n                        );\r\n                        SnapCloud.getPublicProject(\r\n                            id,\r\n                            function (projectData) {\r\n                                var msg;\r\n                                if (!Process.prototype.isCatchingErrors) {\r\n                                    window.open(\r\n                                        'data:text/xml,' + projectData\r\n                                    );\r\n                                }\r\n                                myself.nextSteps([\r\n                                    function () {\r\n                                        msg = myself.showMessage(\r\n                                            'Opening project...'\r\n                                        );\r\n                                    },\r\n                                    function () {nop(); }, // yield (Chrome)\r\n                                    function () {\r\n                                        myself.rawOpenCloudDataString(\r\n                                            projectData\r\n                                        );\r\n                                    },\r\n                                    function () {\r\n                                        msg.destroy();\r\n                                    }\r\n                                ]);\r\n                            },\r\n                            myself.cloudError()\r\n                        );\r\n\r\n                    }, null, 'project');\r\n                }, null, 'project');\r\n            },\r\n            null,\r\n            new Color(100, 0, 0)\r\n        );\r\n    }\r\n    menu.popup(world, pos);\r\n};\r\n\r\nIDE_Morph.prototype.settingsMenu = function () {\r\n    var menu,\r\n        stage = this.stage,\r\n        world = this.world(),\r\n        myself = this,\r\n        pos = this.controlBar.settingsButton.bottomLeft(),\r\n        shiftClicked = (world.currentKey === 16);\r\n\r\n    function addPreference(label, toggle, test, onHint, offHint, hide) {\r\n        var on = '\\u2611 ',\r\n            off = '\\u2610 ';\r\n        if (!hide || shiftClicked) {\r\n            menu.addItem(\r\n                (test ? on : off) + localize(label),\r\n                toggle,\r\n                test ? onHint : offHint,\r\n                hide ? new Color(100, 0, 0) : null\r\n            );\r\n        }\r\n    }\r\n\r\n    menu = new MenuMorph(this);\r\n    menu.addItem('Language...', 'languageMenu');\r\n    menu.addItem(\r\n        'Zoom blocks...',\r\n        'userSetBlocksScale'\r\n    );\r\n    menu.addItem(\r\n        'Stage size...',\r\n        'userSetStageSize'\r\n    );\r\n    if (shiftClicked) {\r\n        menu.addItem(\r\n            'Dragging threshold...',\r\n            'userSetDragThreshold',\r\n            'specify the distance the hand has to move\\n' +\r\n                'before it picks up an object',\r\n            new Color(100, 0, 0)\r\n        );\r\n    }\r\n    menu.addLine();\r\n    \r\n    if (isRetinaSupported()) {\r\n        addPreference(\r\n            'Retina display support',\r\n            'toggleRetina',\r\n            isRetinaEnabled(),\r\n            'uncheck for lower resolution,\\nsaves computing resources',\r\n            'check for higher resolution,\\nuses more computing resources'\r\n        );\r\n    }\r\n    addPreference(\r\n        'Input sliders',\r\n        'toggleInputSliders',\r\n        MorphicPreferences.useSliderForInput,\r\n        'uncheck to disable\\ninput sliders for\\nentry fields',\r\n        'check to enable\\ninput sliders for\\nentry fields'\r\n    );\r\n    if (MorphicPreferences.useSliderForInput) {\r\n        addPreference(\r\n            'Execute on slider change',\r\n            'toggleSliderExecute',\r\n            ArgMorph.prototype.executeOnSliderEdit,\r\n            'uncheck to suppress\\nrunning scripts\\nwhen moving the slider',\r\n            'check to run\\nthe edited script\\nwhen moving the slider'\r\n        );\r\n    }\r\n    addPreference(\r\n        'Turbo mode',\r\n        'toggleFastTracking',\r\n        this.stage.isFastTracked,\r\n        'uncheck to run scripts\\nat normal speed',\r\n        'check to prioritize\\nscript execution'\r\n    );\r\n    addPreference(\r\n        'Visible stepping',\r\n        'toggleSingleStepping',\r\n        Process.prototype.enableSingleStepping,\r\n        'uncheck to turn off\\nvisible stepping',\r\n        'check to turn on\\n visible stepping (slow)',\r\n        false\r\n    );\r\n    addPreference(\r\n        'Ternary Boolean slots',\r\n        function () {\r\n        \tBooleanSlotMorph.prototype.isTernary =\r\n        \t\t!BooleanSlotMorph.prototype.isTernary;\r\n      \t},\r\n        BooleanSlotMorph.prototype.isTernary,\r\n        'uncheck to limit\\nBoolean slots to true / false',\r\n        'check to allow\\nempty Boolean slots',\r\n        true\r\n    );\r\n    addPreference(\r\n        'Camera support',\r\n        'toggleCameraSupport',\r\n        CamSnapshotDialogMorph.prototype.enableCamera,\r\n        'uncheck to disable\\ncamera support',\r\n        'check to enable\\ncamera support',\r\n        true\r\n    );\r\n    menu.addLine(); // everything visible below is persistent\r\n    addPreference(\r\n        'Blurred shadows',\r\n        'toggleBlurredShadows',\r\n        useBlurredShadows,\r\n        'uncheck to use solid drop\\nshadows and highlights',\r\n        'check to use blurred drop\\nshadows and highlights',\r\n        true\r\n    );\r\n    addPreference(\r\n        'Zebra coloring',\r\n        'toggleZebraColoring',\r\n        BlockMorph.prototype.zebraContrast,\r\n        'uncheck to disable alternating\\ncolors for nested block',\r\n        'check to enable alternating\\ncolors for nested blocks',\r\n        true\r\n    );\r\n    addPreference(\r\n        'Dynamic input labels',\r\n        'toggleDynamicInputLabels',\r\n        SyntaxElementMorph.prototype.dynamicInputLabels,\r\n        'uncheck to disable dynamic\\nlabels for variadic inputs',\r\n        'check to enable dynamic\\nlabels for variadic inputs',\r\n        true\r\n    );\r\n    addPreference(\r\n        'Prefer empty slot drops',\r\n        'togglePreferEmptySlotDrops',\r\n        ScriptsMorph.prototype.isPreferringEmptySlots,\r\n        'uncheck to allow dropped\\nreporters to kick out others',\r\n        'settings menu prefer empty slots hint',\r\n        true\r\n    );\r\n    addPreference(\r\n        'Long form input dialog',\r\n        'toggleLongFormInputDialog',\r\n        InputSlotDialogMorph.prototype.isLaunchingExpanded,\r\n        'uncheck to use the input\\ndialog in short form',\r\n        'check to always show slot\\ntypes in the input dialog'\r\n    );\r\n    addPreference(\r\n        'Plain prototype labels',\r\n        'togglePlainPrototypeLabels',\r\n        BlockLabelPlaceHolderMorph.prototype.plainLabel,\r\n        'uncheck to always show (+) symbols\\nin block prototype labels',\r\n        'check to hide (+) symbols\\nin block prototype labels'\r\n    );\r\n    addPreference(\r\n        'Virtual keyboard',\r\n        'toggleVirtualKeyboard',\r\n        MorphicPreferences.useVirtualKeyboard,\r\n        'uncheck to disable\\nvirtual keyboard support\\nfor mobile devices',\r\n        'check to enable\\nvirtual keyboard support\\nfor mobile devices',\r\n        true\r\n    );\r\n    addPreference(\r\n        'Clicking sound',\r\n        function () {\r\n            BlockMorph.prototype.toggleSnapSound();\r\n            if (BlockMorph.prototype.snapSound) {\r\n                myself.saveSetting('click', true);\r\n            } else {\r\n                myself.removeSetting('click');\r\n            }\r\n        },\r\n        BlockMorph.prototype.snapSound,\r\n        'uncheck to turn\\nblock clicking\\nsound off',\r\n        'check to turn\\nblock clicking\\nsound on'\r\n    );\r\n    addPreference(\r\n        'Animations',\r\n        function () {myself.isAnimating = !myself.isAnimating; },\r\n        myself.isAnimating,\r\n        'uncheck to disable\\nIDE animations',\r\n        'check to enable\\nIDE animations',\r\n        true\r\n    );\r\n    addPreference(\r\n        'Cache Inputs',\r\n        function () {\r\n            BlockMorph.prototype.isCachingInputs =\r\n                !BlockMorph.prototype.isCachingInputs;\r\n        },\r\n        BlockMorph.prototype.isCachingInputs,\r\n        'uncheck to stop caching\\ninputs (for debugging the evaluator)',\r\n        'check to cache inputs\\nboosts recursion',\r\n        true\r\n    );\r\n    addPreference(\r\n        'Rasterize SVGs',\r\n        function () {\r\n            MorphicPreferences.rasterizeSVGs =\r\n                !MorphicPreferences.rasterizeSVGs;\r\n        },\r\n        MorphicPreferences.rasterizeSVGs,\r\n        'uncheck for smooth\\nscaling of vector costumes',\r\n        'check to rasterize\\nSVGs on import',\r\n        true\r\n    );\r\n    addPreference(\r\n        'Flat design',\r\n        function () {\r\n            if (MorphicPreferences.isFlat) {\r\n                return myself.defaultDesign();\r\n            }\r\n            myself.flatDesign();\r\n        },\r\n        MorphicPreferences.isFlat,\r\n        'uncheck for default\\nGUI design',\r\n        'check for alternative\\nGUI design',\r\n        false\r\n    );\r\n    addPreference(\r\n        'Nested auto-wrapping',\r\n        function () {\r\n            ScriptsMorph.prototype.enableNestedAutoWrapping =\r\n                !ScriptsMorph.prototype.enableNestedAutoWrapping;\r\n            if (ScriptsMorph.prototype.enableNestedAutoWrapping) {\r\n                myself.removeSetting('autowrapping');\r\n            } else {\r\n                myself.saveSetting('autowrapping', false);\r\n            }\r\n        },\r\n        ScriptsMorph.prototype.enableNestedAutoWrapping,\r\n        'uncheck to confine auto-wrapping\\nto top-level block stacks',\r\n        'check to enable auto-wrapping\\ninside nested block stacks',\r\n        true\r\n    );\r\n    addPreference(\r\n        'Project URLs',\r\n        function () {\r\n            myself.projectsInURLs = !myself.projectsInURLs;\r\n            if (myself.projectsInURLs) {\r\n                myself.saveSetting('longurls', true);\r\n            } else {\r\n                myself.removeSetting('longurls');\r\n            }\r\n        },\r\n        myself.projectsInURLs,\r\n        'uncheck to disable\\nproject data in URLs',\r\n        'check to enable\\nproject data in URLs',\r\n        true\r\n    );\r\n    addPreference(\r\n        'Sprite Nesting',\r\n        function () {\r\n            SpriteMorph.prototype.enableNesting =\r\n                !SpriteMorph.prototype.enableNesting;\r\n        },\r\n        SpriteMorph.prototype.enableNesting,\r\n        'uncheck to disable\\nsprite composition',\r\n        'check to enable\\nsprite composition',\r\n        true\r\n    );\r\n    addPreference(\r\n        'First-Class Sprites',\r\n        function () {\r\n            SpriteMorph.prototype.enableFirstClass =\r\n                !SpriteMorph.prototype.enableFirstClass;\r\n            myself.currentSprite.blocksCache.sensing = null;\r\n            myself.currentSprite.paletteCache.sensing = null;\r\n            myself.refreshPalette();\r\n        },\r\n        SpriteMorph.prototype.enableFirstClass,\r\n        'uncheck to disable support\\nfor first-class sprites',\r\n        'check to enable support\\n for first-class sprite',\r\n        true\r\n    );\r\n    addPreference(\r\n        'Keyboard Editing',\r\n        function () {\r\n            ScriptsMorph.prototype.enableKeyboard =\r\n                !ScriptsMorph.prototype.enableKeyboard;\r\n            myself.currentSprite.scripts.updateToolbar();\r\n            if (ScriptsMorph.prototype.enableKeyboard) {\r\n                myself.removeSetting('keyboard');\r\n            } else {\r\n                myself.saveSetting('keyboard', false);\r\n            }\r\n        },\r\n        ScriptsMorph.prototype.enableKeyboard,\r\n        'uncheck to disable\\nkeyboard editing support',\r\n        'check to enable\\nkeyboard editing support',\r\n        true\r\n    );\r\n    addPreference(\r\n        'Table support',\r\n        function () {\r\n            List.prototype.enableTables =\r\n                !List.prototype.enableTables;\r\n            if (List.prototype.enableTables) {\r\n                myself.removeSetting('tables');\r\n            } else {\r\n                myself.saveSetting('tables', false);\r\n            }\r\n        },\r\n        List.prototype.enableTables,\r\n        'uncheck to disable\\nmulti-column list views',\r\n        'check for multi-column\\nlist view support',\r\n        true\r\n    );\r\n    if (List.prototype.enableTables) {\r\n        addPreference(\r\n            'Table lines',\r\n            function () {\r\n                TableMorph.prototype.highContrast =\r\n                    !TableMorph.prototype.highContrast;\r\n                if (TableMorph.prototype.highContrast) {\r\n                    myself.saveSetting('tableLines', true);\r\n                } else {\r\n                    myself.removeSetting('tableLines');\r\n                }\r\n            },\r\n            TableMorph.prototype.highContrast,\r\n            'uncheck for less contrast\\nmulti-column list views',\r\n            'check for higher contrast\\ntable views',\r\n            true\r\n        );\r\n    }\r\n    addPreference(\r\n        'Live coding support',\r\n        function () {\r\n            Process.prototype.enableLiveCoding =\r\n                !Process.prototype.enableLiveCoding;\r\n        },\r\n        Process.prototype.enableLiveCoding,\r\n        'EXPERIMENTAL! uncheck to disable live\\ncustom control structures',\r\n        'EXPERIMENTAL! check to enable\\n live custom control structures',\r\n        true\r\n    );\r\n    menu.addLine(); // everything below this line is stored in the project\r\n    addPreference(\r\n        'Thread safe scripts',\r\n        function () {stage.isThreadSafe = !stage.isThreadSafe; },\r\n        this.stage.isThreadSafe,\r\n        'uncheck to allow\\nscript reentrance',\r\n        'check to disallow\\nscript reentrance'\r\n    );\r\n    addPreference(\r\n        'Prefer smooth animations',\r\n        'toggleVariableFrameRate',\r\n        StageMorph.prototype.frameRate,\r\n        'uncheck for greater speed\\nat variable frame rates',\r\n        'check for smooth, predictable\\nanimations across computers',\r\n        true\r\n    );\r\n    addPreference(\r\n        'Flat line ends',\r\n        function () {\r\n            SpriteMorph.prototype.useFlatLineEnds =\r\n                !SpriteMorph.prototype.useFlatLineEnds;\r\n        },\r\n        SpriteMorph.prototype.useFlatLineEnds,\r\n        'uncheck for round ends of lines',\r\n        'check for flat ends of lines'\r\n    );\r\n    addPreference(\r\n        'Codification support',\r\n        function () {\r\n            StageMorph.prototype.enableCodeMapping =\r\n                !StageMorph.prototype.enableCodeMapping;\r\n            myself.currentSprite.blocksCache.variables = null;\r\n            myself.currentSprite.paletteCache.variables = null;\r\n            myself.refreshPalette();\r\n        },\r\n        StageMorph.prototype.enableCodeMapping,\r\n        'uncheck to disable\\nblock to text mapping features',\r\n        'check for block\\nto text mapping features',\r\n        false\r\n    );\r\n    addPreference(\r\n        'Inheritance support',\r\n        function () {\r\n            StageMorph.prototype.enableInheritance =\r\n                !StageMorph.prototype.enableInheritance;\r\n            myself.currentSprite.blocksCache.variables = null;\r\n            myself.currentSprite.paletteCache.variables = null;\r\n            myself.refreshPalette();\r\n        },\r\n        StageMorph.prototype.enableInheritance,\r\n        'uncheck to disable\\nsprite inheritance features',\r\n        'check for sprite\\ninheritance features',\r\n        false\r\n    );\r\n    addPreference(\r\n        'Persist linked sublist IDs',\r\n        function () {\r\n            StageMorph.prototype.enableSublistIDs =\r\n                !StageMorph.prototype.enableSublistIDs;\r\n        },\r\n        StageMorph.prototype.enableSublistIDs,\r\n        'uncheck to disable\\nsaving linked sublist identities',\r\n        'check to enable\\nsaving linked sublist identities',\r\n        true\r\n    );\r\n    menu.popup(world, pos);\r\n};\r\n\r\nIDE_Morph.prototype.projectMenu = function () {\r\n    var menu,\r\n        myself = this,\r\n        world = this.world(),\r\n        pos = this.controlBar.projectButton.bottomLeft(),\r\n        graphicsName = this.currentSprite instanceof SpriteMorph ?\r\n                'Costumes' : 'Backgrounds',\r\n        shiftClicked = (world.currentKey === 16);\r\n\r\n    menu = new MenuMorph(this);\r\n    menu.addItem('Project notes...', 'editProjectNotes');\r\n    menu.addLine();\r\n    menu.addPair('New', 'createNewProject', '^N');\r\n    menu.addPair('Open...', 'openProjectsBrowser', '^O');\r\n    menu.addPair('Save', \"save\", '^S');\r\n    menu.addItem('Save As...', 'saveProjectsBrowser');\r\n    menu.addLine();\r\n    menu.addItem(\r\n        'Import...',\r\n        function () {\r\n            var inp = document.createElement('input');\r\n            if (myself.filePicker) {\r\n                document.body.removeChild(myself.filePicker);\r\n                myself.filePicker = null;\r\n            }\r\n            inp.type = 'file';\r\n            inp.style.color = \"transparent\";\r\n            inp.style.backgroundColor = \"transparent\";\r\n            inp.style.border = \"none\";\r\n            inp.style.outline = \"none\";\r\n            inp.style.position = \"absolute\";\r\n            inp.style.top = \"0px\";\r\n            inp.style.left = \"0px\";\r\n            inp.style.width = \"0px\";\r\n            inp.style.height = \"0px\";\r\n            inp.style.display = \"none\";\r\n            inp.addEventListener(\r\n                \"change\",\r\n                function () {\r\n                    document.body.removeChild(inp);\r\n                    myself.filePicker = null;\r\n                    world.hand.processDrop(inp.files);\r\n                },\r\n                false\r\n            );\r\n            document.body.appendChild(inp);\r\n            myself.filePicker = inp;\r\n            inp.click();     \r\n        },\r\n        'file menu import hint' // looks up the actual text in the translator\r\n    );\r\n\r\n    if (shiftClicked) {\r\n        menu.addItem(\r\n            localize(\r\n                'Export project...') + ' ' + localize('(in a new window)'\r\n            ),\r\n            function () {\r\n                if (myself.projectName) {\r\n                    myself.exportProject(myself.projectName, shiftClicked);\r\n                } else {\r\n                    myself.prompt('Export Project As...', function (name) {\r\n                        // false - override the shiftClick setting to use XML\r\n                        myself.exportProject(name, false);\r\n                    }, null, 'exportProject');\r\n                }\r\n            },\r\n            'show project data as XML\\nin a new browser window',\r\n            new Color(100, 0, 0)\r\n        );\r\n    }\r\n    menu.addItem(\r\n        shiftClicked ?\r\n                'Export project as plain text...' : 'Export project...',\r\n        function () {\r\n            if (myself.projectName) {\r\n                myself.exportProject(myself.projectName, shiftClicked);\r\n            } else {\r\n                myself.prompt('Export Project As...', function (name) {\r\n                    myself.exportProject(name, shiftClicked);\r\n                }, null, 'exportProject');\r\n            }\r\n        },\r\n        'save project data as XML\\nto your downloads folder',\r\n        shiftClicked ? new Color(100, 0, 0) : null\r\n    );\r\n\r\n    if (this.stage.globalBlocks.length) {\r\n        menu.addItem(\r\n            'Export blocks...',\r\n            function () {myself.exportGlobalBlocks(); },\r\n            'show global custom block definitions as XML' +\r\n                '\\nin a new browser window'\r\n        );\r\n        menu.addItem(\r\n            'Unused blocks...',\r\n            function () {myself.removeUnusedBlocks(); },\r\n            'find unused global custom blocks' +\r\n                '\\nand remove their definitions'\r\n        );\r\n    }\r\n\r\n    menu.addItem(\r\n        'Export summary...',\r\n        function () {myself.exportProjectSummary(); },\r\n        'open a new browser browser window\\n with a summary of this project'\r\n    );\r\n\r\n    if (shiftClicked) {\r\n        menu.addItem(\r\n            'Export summary with drop-shadows...',\r\n            function () {myself.exportProjectSummary(true); },\r\n            'open a new browser browser window' +\r\n                '\\nwith a summary of this project' +\r\n                '\\nwith drop-shadows on all pictures.' +\r\n                '\\nnot supported by all browsers',\r\n            new Color(100, 0, 0)\r\n        );\r\n        menu.addItem(\r\n            'Export all scripts as pic...',\r\n            function () {myself.exportScriptsPicture(); },\r\n            'show a picture of all scripts\\nand block definitions',\r\n            new Color(100, 0, 0)\r\n        );\r\n    }\r\n\r\n    menu.addLine();\r\n    menu.addItem(\r\n        'Import tools',\r\n        function () {\r\n            myself.getURL(\r\n                myself.resourceURL('tools.xml'),\r\n                function (txt) {\r\n                    myself.droppedText(txt, 'tools');\r\n                }\r\n            );\r\n        },\r\n        'load the official library of\\npowerful blocks'\r\n    );\r\n    menu.addItem(\r\n        'Libraries...',\r\n        function() {\r\n            myself.getURL(\r\n                myself.resourceURL('libraries', 'LIBRARIES'),\r\n                function (txt) {\r\n                    var libraries = myself.parseResourceFile(txt);\r\n                    new LibraryImportDialogMorph(myself, libraries).popUp();\r\n                }\r\n            );\r\n        },\r\n        'Select categories of additional blocks to add to this project.'\r\n    );\r\n\r\n    menu.addItem(\r\n        localize(graphicsName) + '...',\r\n        function () {\r\n            myself.importMedia(graphicsName);\r\n        },\r\n        'Select a costume from the media library'\r\n    );\r\n    menu.addItem(\r\n        localize('Sounds') + '...',\r\n        function () {\r\n            myself.importMedia('Sounds');\r\n        },\r\n        'Select a sound from the media library'\r\n    );\r\n\r\n    menu.popup(world, pos);\r\n};\r\n\r\nIDE_Morph.prototype.resourceURL = function () {\r\n    // Take in variadic inputs that represent an a nested folder structure.\r\n    // Method can be easily overridden if running in a custom location.\r\n    // Default Snap! simply returns a path (relative to snap.html)\r\n    var args = Array.prototype.slice.call(arguments, 0);\r\n    return args.join('/');\r\n};\r\n\r\nIDE_Morph.prototype.getMediaList = function (dirname, callback) {\r\n    // Invoke the given callback with a list of files in a directory\r\n    // based on the contents file.\r\n    // If no callback is specified, synchronously return the list of files\r\n    // Note: Synchronous fetching has been deprecated and should be switched\r\n    var url = this.resourceURL(dirname, dirname.toUpperCase()),\r\n        async = callback instanceof Function,\r\n        myself = this,\r\n        data;\r\n\r\n    function alphabetically(x, y) {\r\n        return x.name.toLowerCase() < y.name.toLowerCase() ? -1 : 1;\r\n    }\r\n\r\n    if (async) {\r\n        this.getURL(\r\n            url,\r\n            function (txt) {\r\n                var data = myself.parseResourceFile(txt);\r\n                data.sort(alphabetically);\r\n                callback.call(this, data);\r\n            }\r\n        );\r\n    } else {\r\n        data = this.parseResourceFile(this.getURL(url));\r\n        data.sort(alphabetically);\r\n        return data;\r\n    }\r\n};\r\n\r\nIDE_Morph.prototype.parseResourceFile = function (text) {\r\n    // A Resource File lists all the files that could be loaded in a submenu\r\n    // Examples are libraries/LIBRARIES, Costumes/COSTUMES, etc\r\n    // The file format is tab-delimited, with unix newlines:\r\n    // file-name, Display Name, Help Text (optional)\r\n    var parts,\r\n        items = [];\r\n\r\n    text.split('\\n').map(function (line) {\r\n        return line.trim();\r\n    }).filter(function (line) {\r\n        return line.length > 0;\r\n    }).forEach(function (line) {\r\n        parts = line.split('\\t').map(function (str) { return str.trim(); });\r\n\r\n        if (parts.length < 2) {return; }\r\n\r\n        items.push({\r\n            fileName: parts[0],\r\n            name: parts[1],\r\n            description: parts.length > 2 ? parts[2] : ''\r\n        });\r\n    });\r\n\r\n    return items;\r\n};\r\n\r\nIDE_Morph.prototype.importMedia = function (folderName) {\r\n    // open a dialog box letting the user browse available \"built-in\"\r\n    // costumes, backgrounds or sounds\r\n    var myself = this,\r\n        msg = this.showMessage('Opening ' + folderName + '...');\r\n    this.getMediaList(\r\n        folderName,\r\n        function (items) {\r\n            msg.destroy();\r\n            myself.popupMediaImportDialog(folderName, items);\r\n        }\r\n    );\r\n\r\n};\r\n\r\nIDE_Morph.prototype.popupMediaImportDialog = function (folderName, items) {\r\n    // private - this gets called by importMedia() and creates\r\n    // the actual dialog\r\n    var dialog = new DialogBoxMorph().withKey('import' + folderName),\r\n        frame = new ScrollFrameMorph(),\r\n        selectedIcon = null,\r\n        turtle = new SymbolMorph('turtle', 60),\r\n        myself = this,\r\n        world = this.world(),\r\n        handle;\r\n\r\n    frame.acceptsDrops = false;\r\n    frame.contents.acceptsDrops = false;\r\n    frame.color = myself.groupColor;\r\n    frame.fixLayout = nop;\r\n    dialog.labelString = folderName;\r\n    dialog.createLabel();\r\n    dialog.addBody(frame);\r\n    dialog.addButton('ok', 'Import');\r\n    dialog.addButton('cancel', 'Cancel');\r\n\r\n    dialog.ok = function () {\r\n        if (selectedIcon) {\r\n            if (selectedIcon.object instanceof Sound) {\r\n                myself.droppedAudio(\r\n                    selectedIcon.object.copy().audio,\r\n                    selectedIcon.labelString\r\n                );\r\n            } else if (selectedIcon.object instanceof SVG_Costume) {\r\n                myself.droppedSVG(\r\n                    selectedIcon.object.contents,\r\n                    selectedIcon.labelString\r\n                );\r\n            } else {\r\n                myself.droppedImage(\r\n                    selectedIcon.object.contents,\r\n                    selectedIcon.labelString\r\n                );\r\n            }\r\n        }\r\n    };\r\n\r\n    dialog.fixLayout = function () {\r\n        var th = fontHeight(this.titleFontSize) + this.titlePadding * 2,\r\n            x = 0,\r\n            y = 0,\r\n            fp, fw;\r\n        this.buttons.fixLayout();\r\n        this.body.setPosition(this.position().add(new Point(\r\n            this.padding,\r\n            th + this.padding\r\n        )));\r\n        this.body.setExtent(new Point(\r\n            this.width() - this.padding * 2,\r\n            this.height() - this.padding * 3 - th - this.buttons.height()\r\n        ));\r\n        fp = this.body.position();\r\n        fw = this.body.width();\r\n        frame.contents.children.forEach(function (icon) {\r\n              icon.setPosition(fp.add(new Point(x, y)));\r\n            x += icon.width();\r\n            if (x + icon.width() > fw) {\r\n                x = 0;\r\n                y += icon.height();\r\n            }\r\n        });\r\n        frame.contents.adjustBounds();\r\n        this.label.setCenter(this.center());\r\n        this.label.setTop(this.top() + (th - this.label.height()) / 2);\r\n        this.buttons.setCenter(this.center());\r\n        this.buttons.setBottom(this.bottom() - this.padding);\r\n    };\r\n\r\n    items.forEach(function (item) {\r\n        // Caution: creating very many thumbnails can take a long time!\r\n        var url = myself.resourceURL(folderName, item.fileName),\r\n            img = new Image(),\r\n            suffix = url.slice(url.lastIndexOf('.') + 1).toLowerCase(),\r\n            isSVG = suffix === 'svg' && !MorphicPreferences.rasterizeSVGs,\r\n            isSound = contains(['wav', 'mp3'], suffix),\r\n            cstTemplate,\r\n            sndTemplate,\r\n            icon;\r\n\r\n        if (isSound) {\r\n            sndTemplate = icon = new SoundIconMorph(\r\n                new Sound(new Audio(), item.name),\r\n                sndTemplate\r\n            );\r\n        } else {\r\n            cstTemplate = icon = new CostumeIconMorph(\r\n                new Costume(turtle.image, item.name),\r\n                cstTemplate\r\n            );\r\n        }\r\n        icon.isDraggable = false;\r\n        icon.userMenu = nop;\r\n        icon.action = function () {\r\n            if (selectedIcon === icon) {return; }\r\n            var prevSelected = selectedIcon;\r\n            selectedIcon = icon;\r\n            if (prevSelected) {prevSelected.refresh(); }\r\n        };\r\n        icon.doubleClickAction = dialog.ok;\r\n        icon.query = function () {\r\n            return icon === selectedIcon;\r\n        };\r\n        frame.addContents(icon);\r\n        if (isSound) {\r\n            icon.object.audio.onloadeddata = function () {\r\n                icon.createThumbnail();\r\n                icon.fixLayout();\r\n                icon.refresh();\r\n            };\r\n\r\n            icon.object.audio.src = url;\r\n            icon.object.audio.load();\r\n        } else if (isSVG) {\r\n            img.onload = function () {\r\n                icon.object = new SVG_Costume(img, item.name);\r\n                icon.refresh();\r\n            };\r\n            myself.getURL(\r\n                url,\r\n                function (txt) {\r\n                    img.src = 'data:image/svg+xml;base64,' +\r\n                         window.btoa(txt);\r\n                }\r\n            );\r\n        } else {\r\n            img.onload = function () {\r\n                var canvas = newCanvas(new Point(img.width, img.height), true);\r\n                canvas.getContext('2d').drawImage(img, 0, 0);\r\n                icon.object = new Costume(canvas, item.name);\r\n                icon.refresh();\r\n            };\r\n            img.src = url;\r\n        }\r\n    });\r\n    dialog.popUp(world);\r\n    dialog.setExtent(new Point(400, 300));\r\n    dialog.setCenter(world.center());\r\n    dialog.drawNew();\r\n\r\n    handle = new HandleMorph(\r\n        dialog,\r\n        300,\r\n        280,\r\n        dialog.corner,\r\n        dialog.corner\r\n    );\r\n};\r\n\r\n// IDE_Morph menu actions\r\n\r\nIDE_Morph.prototype.aboutSnap = function () {\r\n    var dlg, aboutTxt, noticeTxt, creditsTxt, versions = '', translations,\r\n        module, btn1, btn2, btn3, btn4, licenseBtn, translatorsBtn,\r\n        world = this.world();\r\n\r\n    aboutTxt = 'Snap! 4.1.1 - dev -\\nBuild Your Own Blocks\\n\\n'\r\n        + 'Copyright \\u24B8 2017 Jens M\\u00F6nig and '\r\n        + 'Brian Harvey\\n'\r\n        + 'jens@moenig.org, bh@cs.berkeley.edu\\n\\n'\r\n\r\n        + 'Snap! is developed by the University of California, Berkeley\\n'\r\n        + '          with support from the National Science Foundation (NSF), '\r\n        + 'MioSoft,          \\n'\r\n        + 'the Communications Design Group (CDG) at SAP Labs, and the\\n'\r\n        + 'Human Advancement Research Community (HARC) at YC Research.\\n'\r\n\r\n        + 'The design of Snap! is influenced and inspired by Scratch,\\n'\r\n        + 'from the Lifelong Kindergarten group at the MIT Media Lab\\n\\n'\r\n\r\n        + 'for more information see http://snap.berkeley.edu\\n'\r\n        + 'and http://scratch.mit.edu';\r\n\r\n    noticeTxt = localize('License')\r\n        + '\\n\\n'\r\n        + 'Snap! is free software: you can redistribute it and/or modify\\n'\r\n        + 'it under the terms of the GNU Affero General Public License as\\n'\r\n        + 'published by the Free Software Foundation, either version 3 of\\n'\r\n        + 'the License, or (at your option) any later version.\\n\\n'\r\n\r\n        + 'This program is distributed in the hope that it will be useful,\\n'\r\n        + 'but WITHOUT ANY WARRANTY; without even the implied warranty of\\n'\r\n        + 'MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\\n'\r\n        + 'GNU Affero General Public License for more details.\\n\\n'\r\n\r\n        + 'You should have received a copy of the\\n'\r\n        + 'GNU Affero General Public License along with this program.\\n'\r\n        + 'If not, see http://www.gnu.org/licenses/\\n\\n'\r\n\r\n        + 'Want to use Snap! but scared by the open-source license?\\n'\r\n        + 'Get in touch with us, we\\'ll make it work.';\r\n\r\n    creditsTxt = localize('Contributors')\r\n        + '\\n\\nNathan Dinsmore: Saving/Loading, Snap-Logo Design, '\r\n        + '\\ncountless bugfixes and optimizations'\r\n        + '\\nKartik Chandra: Paint Editor'\r\n        + '\\nMichael Ball: Time/Date UI, Library Import Dialog,'\r\n        + '\\ncountless bugfixes and optimizations'\r\n        + '\\nBartosz Leper: Retina Display Support'\r\n        + '\\nBernat Romagosa: Countless contributions'\r\n        + '\\n\"Ava\" Yuan Yuan, Dylan Servilla: Graphic Effects'\r\n        + '\\nKyle Hotchkiss: Block search design'\r\n        + '\\nBrian Broll: Many bugfixes and optimizations'\r\n        + '\\nIan Reynolds: UI Design, Event Bindings, '\r\n        + 'Sound primitives'\r\n        + '\\nIvan Motyashov: Initial Squeak Porting'\r\n        + '\\nLucas Karahadian: Piano Keyboard Design'\r\n        + '\\nDavide Della Casa: Morphic Optimizations'\r\n        + '\\nAchal Dave: Web Audio'\r\n        + '\\nJoe Otto: Morphic Testing and Debugging';\r\n\r\n    for (module in modules) {\r\n        if (Object.prototype.hasOwnProperty.call(modules, module)) {\r\n            versions += ('\\n' + module + ' (' +\r\n                            modules[module] + ')');\r\n        }\r\n    }\r\n    if (versions !== '') {\r\n        versions = localize('current module versions:') + ' \\n\\n' +\r\n            'morphic (' + morphicVersion + ')' +\r\n            versions;\r\n    }\r\n    translations = localize('Translations') + '\\n' + SnapTranslator.credits();\r\n\r\n    dlg = new DialogBoxMorph();\r\n    dlg.inform('About Snap', aboutTxt, world);\r\n    btn1 = dlg.buttons.children[0];\r\n    translatorsBtn = dlg.addButton(\r\n        function () {\r\n            dlg.body.text = translations;\r\n            dlg.body.drawNew();\r\n            btn1.show();\r\n            btn2.show();\r\n            btn3.hide();\r\n            btn4.hide();\r\n            licenseBtn.hide();\r\n            translatorsBtn.hide();\r\n            dlg.fixLayout();\r\n            dlg.drawNew();\r\n            dlg.setCenter(world.center());\r\n        },\r\n        'Translators...'\r\n    );\r\n    btn2 = dlg.addButton(\r\n        function () {\r\n            dlg.body.text = aboutTxt;\r\n            dlg.body.drawNew();\r\n            btn1.show();\r\n            btn2.hide();\r\n            btn3.show();\r\n            btn4.show();\r\n            licenseBtn.show();\r\n            translatorsBtn.hide();\r\n            dlg.fixLayout();\r\n            dlg.drawNew();\r\n            dlg.setCenter(world.center());\r\n        },\r\n        'Back...'\r\n    );\r\n    btn2.hide();\r\n    licenseBtn = dlg.addButton(\r\n        function () {\r\n            dlg.body.text = noticeTxt;\r\n            dlg.body.drawNew();\r\n            btn1.show();\r\n            btn2.show();\r\n            btn3.hide();\r\n            btn4.hide();\r\n            licenseBtn.hide();\r\n            translatorsBtn.hide();\r\n            dlg.fixLayout();\r\n            dlg.drawNew();\r\n            dlg.setCenter(world.center());\r\n        },\r\n        'License...'\r\n    );\r\n    btn3 = dlg.addButton(\r\n        function () {\r\n            dlg.body.text = versions;\r\n            dlg.body.drawNew();\r\n            btn1.show();\r\n            btn2.show();\r\n            btn3.hide();\r\n            btn4.hide();\r\n            licenseBtn.hide();\r\n            translatorsBtn.hide();\r\n            dlg.fixLayout();\r\n            dlg.drawNew();\r\n            dlg.setCenter(world.center());\r\n        },\r\n        'Modules...'\r\n    );\r\n    btn4 = dlg.addButton(\r\n        function () {\r\n            dlg.body.text = creditsTxt;\r\n            dlg.body.drawNew();\r\n            btn1.show();\r\n            btn2.show();\r\n            translatorsBtn.show();\r\n            btn3.hide();\r\n            btn4.hide();\r\n            licenseBtn.hide();\r\n            dlg.fixLayout();\r\n            dlg.drawNew();\r\n            dlg.setCenter(world.center());\r\n        },\r\n        'Credits...'\r\n    );\r\n    translatorsBtn.hide();\r\n    dlg.fixLayout();\r\n    dlg.drawNew();\r\n};\r\n\r\nIDE_Morph.prototype.editProjectNotes = function () {\r\n    var dialog = new DialogBoxMorph().withKey('projectNotes'),\r\n        frame = new ScrollFrameMorph(),\r\n        text = new TextMorph(this.projectNotes || ''),\r\n        ok = dialog.ok,\r\n        myself = this,\r\n        size = 250,\r\n        world = this.world();\r\n\r\n    frame.padding = 6;\r\n    frame.setWidth(size);\r\n    frame.acceptsDrops = false;\r\n    frame.contents.acceptsDrops = false;\r\n\r\n    text.setWidth(size - frame.padding * 2);\r\n    text.setPosition(frame.topLeft().add(frame.padding));\r\n    text.enableSelecting();\r\n    text.isEditable = true;\r\n\r\n    frame.setHeight(size);\r\n    frame.fixLayout = nop;\r\n    frame.edge = InputFieldMorph.prototype.edge;\r\n    frame.fontSize = InputFieldMorph.prototype.fontSize;\r\n    frame.typeInPadding = InputFieldMorph.prototype.typeInPadding;\r\n    frame.contrast = InputFieldMorph.prototype.contrast;\r\n    frame.drawNew = InputFieldMorph.prototype.drawNew;\r\n    frame.drawRectBorder = InputFieldMorph.prototype.drawRectBorder;\r\n\r\n    frame.addContents(text);\r\n    text.drawNew();\r\n\r\n    dialog.ok = function () {\r\n        myself.projectNotes = text.text;\r\n        ok.call(this);\r\n    };\r\n\r\n    dialog.justDropped = function () {\r\n        text.edit();\r\n    };\r\n\r\n    dialog.labelString = 'Project Notes';\r\n    dialog.createLabel();\r\n    dialog.addBody(frame);\r\n    frame.drawNew();\r\n    dialog.addButton('ok', 'OK');\r\n    dialog.addButton('cancel', 'Cancel');\r\n    dialog.fixLayout();\r\n    dialog.drawNew();\r\n    dialog.popUp(world);\r\n    dialog.setCenter(world.center());\r\n    text.edit();\r\n};\r\n\r\nIDE_Morph.prototype.newProject = function () {\r\n    this.source = SnapCloud.username ? 'cloud' : 'local';\r\n    if (this.stage) {\r\n        this.stage.destroy();\r\n    }\r\n    if (location.hash.substr(0, 6) !== '#lang:') {\r\n        location.hash = '';\r\n    }\r\n    this.globalVariables = new VariableFrame();\r\n    this.currentSprite = new SpriteMorph(this.globalVariables);\r\n    this.sprites = new List([this.currentSprite]);\r\n    StageMorph.prototype.dimensions = new Point(480, 360);\r\n    StageMorph.prototype.hiddenPrimitives = {};\r\n    StageMorph.prototype.codeMappings = {};\r\n    StageMorph.prototype.codeHeaders = {};\r\n    StageMorph.prototype.enableCodeMapping = false;\r\n    StageMorph.prototype.enableInheritance = true;\r\n    StageMorph.prototype.enableSublistIDs = false;\r\n    SpriteMorph.prototype.useFlatLineEnds = false;\r\n    Process.prototype.enableLiveCoding = false;\r\n    this.setProjectName('');\r\n    this.projectNotes = '';\r\n    this.createStage();\r\n    this.add(this.stage);\r\n    this.createCorral();\r\n    this.selectSprite(this.stage.children[0]);\r\n    this.fixLayout();\r\n};\r\n\r\nIDE_Morph.prototype.save = function () {\r\n  \r\n    if (this.source === 'examples') {\r\n        this.source = 'local'; // cannot save to examples\r\n    }\r\n    if (this.projectName) {\r\n        if (this.source === 'local') { // as well as 'examples'\r\n            this.saveProject(this.projectName);\r\n        } else { // 'cloud'\r\n            this.saveProjectToCloud(this.projectName);\r\n        }\r\n    } else {\r\n        this.saveProjectsBrowser();\r\n    }\r\n};\r\n\r\nIDE_Morph.prototype.saveProject = function (name) {\r\n  \r\n    var myself = this;\r\n    this.nextSteps([\r\n        function () {\r\n            myself.showMessage('Saving...');\r\n        },\r\n        function () {\r\n            myself.rawSaveProject(name);\r\n        }\r\n    ]);\r\n};\r\n\r\n// Serialize a project and save to the browser.\r\nIDE_Morph.prototype.rawSaveProject = function (name) {\r\n    var str; \r\n    if (name) {\r\n        this.setProjectName(name);\r\n        if (Process.prototype.isCatchingErrors) {\r\n            try {\r\n                localStorage['-snap-project-' + name]\r\n                    = str = this.serializer.serialize(this.stage); // Wiquid : Solution to save project \r\n                this.setURL('#open:' + str);\r\n                this.showMessage('Saved!', 1);\r\n                //stageSaver = this.serializer.serialize(this.stage);\r\n            } catch (err) {\r\n                this.showMessage('Save failed: ' + err);\r\n            }\r\n        } else {\r\n            localStorage['-snap-project-' + name]\r\n                = str = this.serializer.serialize(this.stage);\r\n            this.setURL('#open:' + str);\r\n            this.showMessage('Saved!', 1);\r\n            //stageSaver = this.serializer.serialize(this.stage);\r\n        }\r\n    }\r\n};\r\n\r\n\r\nIDE_Morph.prototype.exportProject = function (name, plain) {\r\n    // Export project XML, saving a file to disk\r\n    // newWindow requests displaying the project in a new tab.\r\n    var menu, str, dataPrefix;\r\n\r\n    if (name) {\r\n        this.setProjectName(name);\r\n        dataPrefix = 'data:text/' + plain ? 'plain,' : 'xml,';\r\n        try {\r\n            menu = this.showMessage('Exporting');\r\n            str = this.serializer.serialize(this.stage);\r\n            this.setURL('#open:' + dataPrefix + encodeURIComponent(str));\r\n            this.saveXMLAs(str, name);\r\n            menu.destroy();\r\n            this.showMessage('Exported!', 1);\r\n        } catch (err) {\r\n            if (Process.prototype.isCatchingErrors) {\r\n                this.showMessage('Export failed: ' + err);\r\n            } else {\r\n                throw err;\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nIDE_Morph.prototype.exportGlobalBlocks = function () {\r\n    if (this.stage.globalBlocks.length > 0) {\r\n        new BlockExportDialogMorph(\r\n            this.serializer,\r\n            this.stage.globalBlocks\r\n        ).popUp(this.world());\r\n    } else {\r\n        this.inform(\r\n            'Export blocks',\r\n            'this project doesn\\'t have any\\n'\r\n                + 'custom global blocks yet'\r\n        );\r\n    }\r\n};\r\n\r\nIDE_Morph.prototype.removeUnusedBlocks = function () {\r\n    var targets = this.sprites.asArray().concat([this.stage]),\r\n        globalBlocks = this.stage.globalBlocks,\r\n        unused = [],\r\n        isDone = false,\r\n        found;\r\n\r\n    function scan() {\r\n        return globalBlocks.filter(function (def) {\r\n            if (contains(unused, def)) {return false; }\r\n            return targets.every(function (each, trgIdx) {\r\n                return !(each.usesBlockInstance(def, true, trgIdx, unused));\r\n            });\r\n        });\r\n    }\r\n\r\n    while (!isDone) {\r\n        found = scan();\r\n        if (found.length) {\r\n            unused = unused.concat(found);\r\n        } else {\r\n            isDone = true;\r\n        }\r\n    }\r\n    if (unused.length > 0) {\r\n        new BlockRemovalDialogMorph(\r\n            unused,\r\n            this.stage\r\n        ).popUp(this.world());\r\n    } else {\r\n        this.inform(\r\n            'Remove unused blocks',\r\n            'there are currently no unused\\n'\r\n                + 'global custom blocks in this project'\r\n        );\r\n    }\r\n};\r\n\r\nIDE_Morph.prototype.exportSprite = function (sprite) {\r\n    var str = this.serializer.serialize(sprite.allParts());\r\n    str = '<sprites app=\"'\r\n        + this.serializer.app\r\n        + '\" version=\"'\r\n        + this.serializer.version\r\n        + '\">'\r\n        + str\r\n        + '</sprites>';\r\n    this.saveXMLAs(str, sprite.name);\r\n};\r\n\r\nIDE_Morph.prototype.exportScriptsPicture = function () {\r\n    var pics = [],\r\n        pic,\r\n        padding = 20,\r\n        w = 0,\r\n        h = 0,\r\n        y = 0,\r\n        ctx;\r\n\r\n    // collect all script pics\r\n    this.sprites.asArray().forEach(function (sprite) {\r\n        pics.push(sprite.image);\r\n        pics.push(sprite.scripts.scriptsPicture());\r\n        sprite.customBlocks.forEach(function (def) {\r\n            pics.push(def.scriptsPicture());\r\n        });\r\n    });\r\n    pics.push(this.stage.image);\r\n    pics.push(this.stage.scripts.scriptsPicture());\r\n    this.stage.customBlocks.forEach(function (def) {\r\n        pics.push(def.scriptsPicture());\r\n    });\r\n\r\n    // collect global block pics\r\n    this.stage.globalBlocks.forEach(function (def) {\r\n        pics.push(def.scriptsPicture());\r\n    });\r\n\r\n    pics = pics.filter(function (each) {return !isNil(each); });\r\n\r\n    // determine dimensions of composite\r\n    pics.forEach(function (each) {\r\n        w = Math.max(w, each.width);\r\n        h += (each.height);\r\n        h += padding;\r\n    });\r\n    h -= padding;\r\n    pic = newCanvas(new Point(w, h));\r\n    ctx = pic.getContext('2d');\r\n\r\n    // draw all parts\r\n    pics.forEach(function (each) {\r\n        ctx.drawImage(each, 0, y);\r\n        y += padding;\r\n        y += each.height;\r\n    });\r\n    this.saveCanvasAs(pic, this.projectName || localize('Untitled'));\r\n};\r\n\r\nIDE_Morph.prototype.exportProjectSummary = function (useDropShadows) {\r\n    var html, head, meta, css, body, pname, notes, toc, globalVars,\r\n        stage = this.stage;\r\n\r\n    function addNode(tag, node, contents) {\r\n        if (!node) {node = body; }\r\n        return new XML_Element(tag, contents, node);\r\n    }\r\n\r\n    function add(contents, tag, node) {\r\n        if (!tag) {tag = 'p'; }\r\n        if (!node) {node = body; }\r\n        return new XML_Element(tag, contents, node);\r\n    }\r\n\r\n    function addImage(canvas, node, inline) {\r\n        if (!node) {node = body; }\r\n        var para = !inline ? addNode('p', node) : null,\r\n            pic = addNode('img', para || node);\r\n        pic.attributes.src = canvas.toDataURL();\r\n        return pic;\r\n    }\r\n\r\n    function addVariables(varFrame) {\r\n        var names = varFrame.names().sort(),\r\n            isFirst = true,\r\n            ul;\r\n        if (names.length) {\r\n            add(localize('Variables'), 'h3');\r\n            names.forEach(function (name) {\r\n               \r\n                var watcher, listMorph, li, img;\r\n\r\n                if (isFirst) {\r\n                    ul = addNode('ul');\r\n                    isFirst = false;\r\n                }\r\n                li = addNode('li', ul);\r\n                watcher = new WatcherMorph(\r\n                    name,\r\n                    SpriteMorph.prototype.blockColor.variables,\r\n                    varFrame,\r\n                    name\r\n                );\r\n                listMorph = watcher.cellMorph.contentsMorph;\r\n                if (listMorph instanceof ListWatcherMorph) {\r\n                    listMorph.expand();\r\n                }\r\n                img = addImage(watcher.fullImageClassic(), li);\r\n                img.attributes.class = 'script';\r\n            });\r\n        }\r\n    }\r\n\r\n    function addBlocks(definitions) {\r\n        if (definitions.length) {\r\n            add(localize('Blocks'), 'h3');\r\n            SpriteMorph.prototype.categories.forEach(function (category) {\r\n                var isFirst = true,\r\n                    ul;\r\n                definitions.forEach(function (def) {\r\n                    var li, blockImg;\r\n                    if (def.category === category) {\r\n                        if (isFirst) {\r\n                            add(\r\n                                localize(\r\n                                    category[0].toUpperCase().concat(\r\n                                        category.slice(1)\r\n                                    )\r\n                                ),\r\n                                'h4'\r\n                            );\r\n                            ul = addNode('ul');\r\n                            isFirst = false;\r\n                        }\r\n                        li = addNode('li', ul);\r\n                        blockImg = addImage(\r\n                            def.templateInstance().scriptPic(),\r\n                            li\r\n                        );\r\n                        blockImg.attributes.class = 'script';\r\n                        def.sortedElements().forEach(function (script) {\r\n                            var defImg = addImage(\r\n                                script instanceof BlockMorph ?\r\n                                        script.scriptPic()\r\n                                                : script.fullImageClassic(),\r\n                                li\r\n                            );\r\n                            defImg.attributes.class = 'script';\r\n                        });\r\n                    }\r\n                });\r\n            });\r\n        }\r\n    }\r\n\r\n    pname = this.projectName || localize('untitled');\r\n\r\n    html = new XML_Element('html');\r\n    html.attributes.lang = SnapTranslator.language;\r\n    // html.attributes.contenteditable = 'true';\r\n\r\n    head = addNode('head', html);\r\n\r\n    meta = addNode('meta', head);\r\n    meta.attributes.charset = 'UTF-8';\r\n\r\n    if (useDropShadows) {\r\n        css = 'img {' +\r\n            'vertical-align: top;' +\r\n            'filter: drop-shadow(2px 2px 4px rgba(0,0,0,0.5));' +\r\n            '-webkit-filter: drop-shadow(2px 2px 4px rgba(0,0,0,0.5));' +\r\n            '-ms-filter: drop-shadow(2px 2px 4px rgba(0,0,0,0.5));' +\r\n            '}' +\r\n            '.toc {' +\r\n            'vertical-align: middle;' +\r\n            'padding: 2px 1em 2px 1em;' +\r\n            '}';\r\n    } else {\r\n        css = 'img {' +\r\n            'vertical-align: top;' +\r\n            '}' +\r\n            '.toc {' +\r\n            'vertical-align: middle;' +\r\n            'padding: 2px 1em 2px 1em;' +\r\n            '}' +\r\n            '.sprite {' +\r\n            'border: 1px solid lightgray;' +\r\n            '}';\r\n    }\r\n    addNode('style', head, css);\r\n\r\n    add(pname, 'title', head);\r\n\r\n\r\n    body = addNode('body', html);\r\n    add(pname, 'h1');\r\n\r\n    if (location.hash.indexOf('#present:') === 0) {\r\n        add(location.toString(), 'a', body).attributes.href =\r\n            location.toString();\r\n        addImage(\r\n            stage.thumbnail(stage.dimensions)\r\n        ).attributes.class = 'sprite';\r\n        add(this.serializer.app, 'h4');\r\n    } else {\r\n        add(this.serializer.app, 'h4');\r\n        addImage(\r\n            stage.thumbnail(stage.dimensions)\r\n        ).attributes.class = 'sprite';\r\n    }\r\n\r\n    // project notes\r\n    notes = Process.prototype.reportTextSplit(this.projectNotes, 'line');\r\n    notes.asArray().forEach(\r\n        function (paragraph) {add(paragraph); }\r\n    );\r\n\r\n    // table of contents\r\n    add(localize('Contents'), 'h4');\r\n    toc = addNode('ul');\r\n\r\n    // sprites & stage\r\n    this.sprites.asArray().concat([stage]).forEach(function (sprite) {\r\n        var tocEntry = addNode('li', toc),\r\n            scripts = sprite.scripts.sortedElements(),\r\n            cl = sprite.costumes.length(),\r\n            pic,\r\n            ol;\r\n\r\n        addNode('hr');\r\n        addImage(\r\n            sprite.thumbnail(new Point(40, 40)),\r\n            tocEntry,\r\n            true\r\n        ).attributes.class = 'toc';\r\n        add(sprite.name, 'a', tocEntry).attributes.href = '#' + sprite.name;\r\n\r\n        add(sprite.name, 'h2').attributes.id = sprite.name;\r\n        // if (sprite instanceof SpriteMorph || sprite.costume) {\r\n        pic = addImage(\r\n            sprite.thumbnail(sprite.extent().divideBy(stage.scale))\r\n        );\r\n        pic.attributes.class = 'sprite';\r\n        if (sprite instanceof SpriteMorph) {\r\n            if (sprite.exemplar) {\r\n                addImage(\r\n                    sprite.exemplar.thumbnail(new Point(40, 40)),\r\n                    add(localize('Kind of') + ' ' + sprite.exemplar.name),\r\n                    true\r\n                ).attributes.class = 'toc';\r\n            }\r\n            if (sprite.anchor) {\r\n                addImage(\r\n                    sprite.anchor.thumbnail(new Point(40, 40)),\r\n                    add(localize('Part of') + ' ' + sprite.anchor.name),\r\n                    true\r\n                ).attributes.class = 'toc';\r\n            }\r\n            if (sprite.parts.length) {\r\n                add(localize('Parts'), 'h3');\r\n                ol = addNode('ul');\r\n                sprite.parts.forEach(function (part) {\r\n                    var li = addNode('li', ol, part.name);\r\n                    addImage(part.thumbnail(new Point(40, 40)), li, true)\r\n                        .attributes.class = 'toc';\r\n                });\r\n            }\r\n        }\r\n\r\n        // costumes\r\n        if (cl > 1 || (sprite.getCostumeIdx() !== cl)) {\r\n            add(localize('Costumes'), 'h3');\r\n            ol = addNode('ol');\r\n            sprite.costumes.asArray().forEach(function (costume) {\r\n                var li = addNode('li', ol, costume.name);\r\n                addImage(costume.thumbnail(new Point(40, 40)), li, true)\r\n                    .attributes.class = 'toc';\r\n            });\r\n        }\r\n\r\n        // sounds\r\n        if (sprite.sounds.length()) {\r\n            add(localize('Sounds'), 'h3');\r\n            ol = addNode('ol');\r\n            sprite.sounds.asArray().forEach(function (sound) {\r\n                add(sound.name, 'li', ol);\r\n            });\r\n        }\r\n\r\n        // variables\r\n        addVariables(sprite.variables);\r\n\r\n        // scripts\r\n        if (scripts.length) {\r\n            add(localize('Scripts'), 'h3');\r\n            scripts.forEach(function (script) {\r\n                var img = addImage(script instanceof BlockMorph ?\r\n                        script.scriptPic()\r\n                                : script.fullImageClassic());\r\n                img.attributes.class = 'script';\r\n            });\r\n        }\r\n\r\n        // custom blocks\r\n        addBlocks(sprite.customBlocks);\r\n    });\r\n\r\n    // globals\r\n    globalVars = stage.globalVariables();\r\n    if (Object.keys(globalVars.vars).length || stage.globalBlocks.length) {\r\n        addNode('hr');\r\n        add(\r\n            localize('For all Sprites'),\r\n            'a',\r\n            addNode('li', toc)\r\n        ).attributes.href = '#global';\r\n        add(localize('For all Sprites'), 'h2').attributes.id = 'global';\r\n\r\n        // variables\r\n        addVariables(globalVars);\r\n\r\n        // custom blocks\r\n        addBlocks(stage.globalBlocks);\r\n    }\r\n\r\n    this.saveFileAs(\r\n        '<!DOCTYPE html>' + html.toString(),\r\n        'text/html;charset=utf-8',\r\n        pname\r\n    );\r\n};\r\n\r\nIDE_Morph.prototype.openProjectString = function (str) {\r\n    var msg,\r\n        myself = this;\r\n    this.nextSteps([\r\n        function () {\r\n            msg = myself.showMessage('Opening project...');\r\n        },\r\n        function () {nop(); }, // yield (bug in Chrome)\r\n        function () {\r\n            myself.rawOpenProjectString(str);\r\n        },\r\n        function () {\r\n            msg.destroy();\r\n        }\r\n    ]);\r\n};\r\n\r\nIDE_Morph.prototype.rawOpenProjectString = function (str) {\r\n    \r\n    this.toggleAppMode(false);\r\n    this.spriteBar.tabBar.tabTo('scripts');\r\n    StageMorph.prototype.hiddenPrimitives = {};\r\n    StageMorph.prototype.codeMappings = {};\r\n    StageMorph.prototype.codeHeaders = {};\r\n    StageMorph.prototype.enableCodeMapping = false;\r\n    StageMorph.prototype.enableInheritance = true;\r\n    StageMorph.prototype.enableSublistIDs = false;\r\n    Process.prototype.enableLiveCoding = false;\r\n    if (Process.prototype.isCatchingErrors) {\r\n        try {\r\n            this.serializer.openProject(\r\n                this.serializer.load(str, this),\r\n                this\r\n            ); \r\n        } catch (err) {\r\n            this.showMessage('Load failed: ' + err);\r\n        }\r\n    } else {\r\n        this.serializer.openProject(\r\n            this.serializer.load(str, this),\r\n            this\r\n        );\r\n    }\r\n    this.stopFastTracking();\r\n\r\n     getSnapProjectScript = str; \r\n     config.customSnapContext.trigger('rawDefinitionChange',[str]);\r\n     importString = str;// Needed for persistance in authoring\r\n     config.snapScript = str; // needed because in local scope it keeps init value\r\n};\r\n\r\n\r\nIDE_Morph.prototype.openBlocksString = function (str, name, silently) {\r\n    var msg,\r\n        myself = this;\r\n    this.nextSteps([\r\n        function () {\r\n            msg = myself.showMessage('Opening blocks...');\r\n        },\r\n        function () {nop(); }, // yield (bug in Chrome)\r\n        function () {\r\n            myself.rawOpenBlocksString(str, name, silently);\r\n        },\r\n        function () {\r\n            msg.destroy();\r\n        }\r\n    ]);\r\n};\r\n\r\nIDE_Morph.prototype.rawOpenBlocksString = function (str, name, silently) {\r\n    // name is optional (string), so is silently (bool)\r\n    var blocks,\r\n        myself = this;\r\n    if (Process.prototype.isCatchingErrors) {\r\n        try {\r\n            blocks = this.serializer.loadBlocks(str, myself.stage);\r\n            \r\n        } catch (err) {\r\n            this.showMessage('Load failed: ' + err);\r\n        }\r\n    } else {\r\n        blocks = this.serializer.loadBlocks(str, myself.stage);\r\n    }\r\n    if (silently) {\r\n        blocks.forEach(function (def) {\r\n            def.receiver = myself.stage;\r\n            myself.stage.globalBlocks.push(def);\r\n            myself.stage.replaceDoubleDefinitionsFor(def);\r\n        });\r\n        this.flushPaletteCache();\r\n        this.refreshPalette();\r\n        this.showMessage(\r\n            'Imported Blocks Module' + (name ? ': ' + name : '') + '.',\r\n            2\r\n        );\r\n    } else {\r\n        new BlockImportDialogMorph(blocks, this.stage, name).popUp();\r\n    }\r\n};\r\n\r\nIDE_Morph.prototype.openSpritesString = function (str) {\r\n    var msg,\r\n        myself = this;\r\n    this.nextSteps([\r\n        function () {\r\n            msg = myself.showMessage('Opening sprite...');\r\n        },\r\n        function () {nop(); }, // yield (bug in Chrome)\r\n        function () {\r\n            myself.rawOpenSpritesString(str);\r\n        },\r\n        function () {\r\n            msg.destroy();\r\n        }\r\n    ]);\r\n};\r\n\r\nIDE_Morph.prototype.rawOpenSpritesString = function (str) {\r\n    if (Process.prototype.isCatchingErrors) {\r\n        try {\r\n            this.serializer.loadSprites(str, this);\r\n        } catch (err) {\r\n            this.showMessage('Load failed: ' + err);\r\n        }\r\n    } else {\r\n        this.serializer.loadSprites(str, this);\r\n    }\r\n};\r\n\r\nIDE_Morph.prototype.openMediaString = function (str) {\r\n    if (Process.prototype.isCatchingErrors) {\r\n        try {\r\n            this.serializer.loadMedia(str);\r\n        } catch (err) {\r\n            this.showMessage('Load failed: ' + err);\r\n        }\r\n    } else {\r\n        this.serializer.loadMedia(str);\r\n    }\r\n    this.showMessage('Imported Media Module.', 2);\r\n};\r\n\r\nIDE_Morph.prototype.openScriptString = function (str) {\r\n    var msg,\r\n        myself = this;\r\n    this.nextSteps([\r\n        function () {\r\n            msg = myself.showMessage('Opening script...');\r\n        },\r\n        function () {nop(); }, // yield (bug in Chrome)\r\n        function () {\r\n            myself.rawOpenScriptString(str);\r\n        },\r\n        function () {\r\n            msg.destroy();\r\n        }\r\n    ]);\r\n};\r\n\r\nIDE_Morph.prototype.rawOpenScriptString = function (str) {\r\n    var xml,\r\n        script,\r\n        scripts = this.currentSprite.scripts;\r\n\r\n    if (Process.prototype.isCatchingErrors) {\r\n        try {\r\n            xml = this.serializer.parse(str, this.currentSprite);\r\n            script = this.serializer.loadScript(xml, this.currentSprite);\r\n        } catch (err) {\r\n            this.showMessage('Load failed: ' + err);\r\n        }\r\n    } else {\r\n        xml = this.serializer.loadScript(str, this.currentSprite);\r\n        script = this.serializer.loadScript(xml, this.currentSprite);\r\n    }\r\n    script.setPosition(this.world().hand.position());\r\n    scripts.add(script);\r\n    scripts.adjustBounds();\r\n    scripts.lastDroppedBlock = script;\r\n    scripts.recordDrop(\r\n\t\t{\r\n            origin: this.palette,\r\n            position: this.palette.center()\r\n        }\r\n    );\r\n    this.showMessage(\r\n        'Imported Script.',\r\n        2\r\n    );\r\n};\r\n\r\nIDE_Morph.prototype.openProject = function (name) {\r\n    var str;\r\n    if (name) {\r\n        this.showMessage('opening project\\n' + name);\r\n        this.setProjectName(name);\r\n        str = localStorage['-snap-project-' + name];\r\n        this.openProjectString(str);\r\n        this.setURL('#open:' + str);\r\n    }\r\n};\r\n\r\nIDE_Morph.prototype.setURL = function (str) {\r\n    // Set the URL to a project's XML contents\r\n    if (this.projectsInURLs) {\r\n        location.hash = str;\r\n    }\r\n};\r\n\r\nIDE_Morph.prototype.saveFileAs = function (\r\n    contents,\r\n    fileType,\r\n    fileName\r\n) {\r\n    /** Allow for downloading a file to a disk.\r\n        This relies the FileSaver.js library which exports saveAs()\r\n        Two utility methods saveImageAs and saveXMLAs should be used first.\r\n    */\r\n    var blobIsSupported = false,\r\n        world = this.world(),\r\n        fileExt,\r\n        dialog;\r\n\r\n    // fileType is a <kind>/<ext>;<charset> format.\r\n    fileExt = fileType.split('/')[1].split(';')[0];\r\n    // handle text/plain as a .txt file\r\n    fileExt = '.' + (fileExt === 'plain' ? 'txt' : fileExt);\r\n\r\n    function dataURItoBlob(text, mimeType) {\r\n        var i,\r\n            data = text,\r\n            components = text.split(','),\r\n            hasTypeStr = text.indexOf('data:') === 0;\r\n        // Convert to binary data, in format Blob() can use.\r\n        if (hasTypeStr && components[0].indexOf('base64') > -1) {\r\n            text = atob(components[1]);\r\n            data = new Uint8Array(text.length);\r\n            i = text.length;\r\n            while (i--) {\r\n                data[i] = text.charCodeAt(i);\r\n            }\r\n        }\r\n        return new Blob([data], {type: mimeType });\r\n    }\r\n\r\n    try {\r\n        blobIsSupported = !!new Blob();\r\n    } catch (e) {}\r\n\r\n    if (blobIsSupported) {\r\n        if (!(contents instanceof Blob)) {\r\n            contents = dataURItoBlob(contents, fileType);\r\n        }\r\n        // download a file and delegate to FileSaver\r\n        // false: Do not preprend a BOM to the file.\r\n        saveAs(contents, fileName + fileExt, false);\r\n    } else {\r\n        dialog = new DialogBoxMorph();\r\n        dialog.inform(\r\n            localize('Could not export') + ' ' + fileName,\r\n            'unable to export text',\r\n            world\r\n        );\r\n        dialog.fixLayout();\r\n        dialog.drawNew();\r\n    }\r\n};\r\n\r\nIDE_Morph.prototype.saveCanvasAs = function (canvas, fileName) {\r\n    // Export a Canvas object as a PNG image\r\n    // Note: This commented out due to poor browser support.\r\n    // cavas.toBlob() is currently supported in Firefox, IE, Chrome but\r\n    // browsers prevent easily saving the generated files.\r\n    // Do not re-enable without revisiting issue #1191\r\n    // if (canvas.toBlob) {\r\n    //     var myself = this;\r\n    //     canvas.toBlob(function (blob) {\r\n    //         myself.saveFileAs(blob, 'image/png', fileName);\r\n    //     });\r\n    //     return;\r\n    // }\r\n\r\n    this.saveFileAs(canvas.toDataURL(), 'image/png', fileName);\r\n};\r\n\r\nIDE_Morph.prototype.saveXMLAs = function(xml, fileName) {\r\n    // wrapper to saving XML files with a proper type tag.\r\n    this.saveFileAs(xml, 'text/xml;chartset=utf-8', fileName);\r\n};\r\n\r\nIDE_Morph.prototype.switchToUserMode = function () {\r\n    var world = this.world();\r\n\r\n    world.isDevMode = false;\r\n    Process.prototype.isCatchingErrors = true;\r\n    this.controlBar.updateLabel();\r\n    this.isAutoFill = true;\r\n    this.isDraggable = false;\r\n    this.reactToWorldResize(world.bounds.copy());\r\n    this.siblings().forEach(function (morph) {\r\n        if (morph instanceof DialogBoxMorph) {\r\n            world.add(morph); // bring to front\r\n        } else {\r\n            morph.destroy();\r\n        }\r\n    });\r\n    this.flushBlocksCache();\r\n    this.refreshPalette();\r\n    // prevent non-DialogBoxMorphs from being dropped\r\n    // onto the World in user-mode\r\n    world.reactToDropOf = function (morph) {\r\n        if (!(morph instanceof DialogBoxMorph)) {\r\n            if (world.hand.grabOrigin) {\r\n                morph.slideBackTo(world.hand.grabOrigin);\r\n            } else {\r\n                world.hand.grab(morph);\r\n            }\r\n        }\r\n    };\r\n    this.showMessage('entering user mode', 1);\r\n\r\n};\r\n\r\nIDE_Morph.prototype.switchToDevMode = function () {\r\n    var world = this.world();\r\n\r\n    world.isDevMode = true;\r\n    Process.prototype.isCatchingErrors = false;\r\n    this.controlBar.updateLabel();\r\n    this.isAutoFill = false;\r\n    this.isDraggable = true;\r\n    this.setExtent(world.extent().subtract(100));\r\n    this.setPosition(world.position().add(20));\r\n    this.flushBlocksCache();\r\n    this.refreshPalette();\r\n    // enable non-DialogBoxMorphs to be dropped\r\n    // onto the World in dev-mode\r\n    delete world.reactToDropOf;\r\n    this.showMessage(\r\n        'entering development mode.\\n\\n'\r\n            + 'error catching is turned off,\\n'\r\n            + 'use the browser\\'s web console\\n'\r\n            + 'to see error messages.'\r\n    );\r\n};\r\n\r\nIDE_Morph.prototype.flushBlocksCache = function (category) {\r\n    // if no category is specified, the whole cache gets flushed\r\n    if (category) {\r\n        this.stage.blocksCache[category] = null;\r\n        this.stage.children.forEach(function (m) {\r\n            if (m instanceof SpriteMorph) {\r\n                m.blocksCache[category] = null;\r\n            }\r\n        });\r\n    } else {\r\n        this.stage.blocksCache = {};\r\n        this.stage.children.forEach(function (m) {\r\n            if (m instanceof SpriteMorph) {\r\n                m.blocksCache = {};\r\n            }\r\n        });\r\n    }\r\n    this.flushPaletteCache(category);\r\n};\r\n\r\nIDE_Morph.prototype.flushPaletteCache = function (category) {\r\n    // if no category is specified, the whole cache gets flushed\r\n    if (category) {\r\n        this.stage.paletteCache[category] = null;\r\n        this.stage.children.forEach(function (m) {\r\n            if (m instanceof SpriteMorph) {\r\n                m.paletteCache[category] = null;\r\n            }\r\n        });\r\n    } else {\r\n        this.stage.paletteCache = {};\r\n        this.stage.children.forEach(function (m) {\r\n            if (m instanceof SpriteMorph) {\r\n                m.paletteCache = {};\r\n            }\r\n        });\r\n    }\r\n};\r\n\r\nIDE_Morph.prototype.toggleZebraColoring = function () {\r\n    var scripts = [];\r\n\r\n    if (!BlockMorph.prototype.zebraContrast) {\r\n        BlockMorph.prototype.zebraContrast = 40;\r\n    } else {\r\n        BlockMorph.prototype.zebraContrast = 0;\r\n    }\r\n\r\n    // select all scripts:\r\n    this.stage.children.concat(this.stage).forEach(function (morph) {\r\n        if (isSnapObject(morph)) {\r\n            scripts = scripts.concat(\r\n                morph.scripts.children.filter(function (morph) {\r\n                    return morph instanceof BlockMorph;\r\n                })\r\n            );\r\n        }\r\n    });\r\n\r\n    // force-update all scripts:\r\n    scripts.forEach(function (topBlock) {\r\n        topBlock.fixBlockColor(null, true);\r\n    });\r\n};\r\n\r\nIDE_Morph.prototype.toggleDynamicInputLabels = function () {\r\n    var projectData;\r\n    SyntaxElementMorph.prototype.dynamicInputLabels =\r\n        !SyntaxElementMorph.prototype.dynamicInputLabels;\r\n    if (Process.prototype.isCatchingErrors) {\r\n        try {\r\n            projectData = this.serializer.serialize(this.stage);\r\n        } catch (err) {\r\n            this.showMessage('Serialization failed: ' + err);\r\n        }\r\n    } else {\r\n        projectData = this.serializer.serialize(this.stage);\r\n    }\r\n    SpriteMorph.prototype.initBlocks();\r\n    this.spriteBar.tabBar.tabTo('scripts');\r\n    this.createCategories();\r\n    this.createCorralBar();\r\n    this.openProjectString(projectData);\r\n};\r\n\r\nIDE_Morph.prototype.toggleBlurredShadows = function () {\r\n    window.useBlurredShadows = !useBlurredShadows;\r\n};\r\n\r\nIDE_Morph.prototype.toggleLongFormInputDialog = function () {\r\n    InputSlotDialogMorph.prototype.isLaunchingExpanded =\r\n        !InputSlotDialogMorph.prototype.isLaunchingExpanded;\r\n    if (InputSlotDialogMorph.prototype.isLaunchingExpanded) {\r\n        this.saveSetting('longform', true);\r\n    } else {\r\n        this.removeSetting('longform');\r\n    }\r\n};\r\n\r\nIDE_Morph.prototype.togglePlainPrototypeLabels = function () {\r\n    BlockLabelPlaceHolderMorph.prototype.plainLabel =\r\n        !BlockLabelPlaceHolderMorph.prototype.plainLabel;\r\n    if (BlockLabelPlaceHolderMorph.prototype.plainLabel) {\r\n        this.saveSetting('plainprototype', true);\r\n    } else {\r\n        this.removeSetting('plainprototype');\r\n    }\r\n};\r\n\r\nIDE_Morph.prototype.togglePreferEmptySlotDrops = function () {\r\n    ScriptsMorph.prototype.isPreferringEmptySlots =\r\n        !ScriptsMorph.prototype.isPreferringEmptySlots;\r\n};\r\n\r\nIDE_Morph.prototype.toggleVirtualKeyboard = function () {\r\n    MorphicPreferences.useVirtualKeyboard =\r\n        !MorphicPreferences.useVirtualKeyboard;\r\n};\r\n\r\nIDE_Morph.prototype.toggleInputSliders = function () {\r\n    MorphicPreferences.useSliderForInput =\r\n        !MorphicPreferences.useSliderForInput;\r\n};\r\n\r\nIDE_Morph.prototype.toggleSliderExecute = function () {\r\n    ArgMorph.prototype.executeOnSliderEdit =\r\n        !ArgMorph.prototype.executeOnSliderEdit;\r\n};\r\n\r\nIDE_Morph.prototype.toggleAppMode = function (appMode) {\r\n    var world = this.world(),\r\n        elements = [\r\n            this.logo,\r\n            this.controlBar.cloudButton,\r\n            this.controlBar.projectButton,\r\n            this.controlBar.settingsButton,\r\n            this.controlBar.steppingButton,\r\n            this.controlBar.stageSizeButton,\r\n            this.paletteHandle,\r\n            this.stageHandle,\r\n            this.corral,\r\n            this.corralBar,\r\n            this.spriteEditor,\r\n            this.spriteBar,\r\n            this.palette,\r\n            this.categories\r\n        ];\r\n\r\n    this.isAppMode = isNil(appMode) ? !this.isAppMode : appMode;\r\n\r\n    Morph.prototype.trackChanges = false;\r\n    if (this.isAppMode) {\r\n\t\tthis.wasSingleStepping = Process.prototype.enableSingleStepping;\r\n\t\tif (this.wasSingleStepping) {\r\n     \t\tthis.toggleSingleStepping();\r\n    \t}\r\n        this.setColor(this.appModeColor);\r\n        this.controlBar.setColor(this.color);\r\n        this.controlBar.appModeButton.refresh();\r\n        elements.forEach(function (e) {\r\n            e.hide();\r\n        });\r\n        world.children.forEach(function (morph) {\r\n            if (morph instanceof DialogBoxMorph) {\r\n                morph.hide();\r\n            }\r\n        });\r\n        if (world.keyboardReceiver instanceof ScriptFocusMorph) {\r\n            world.keyboardReceiver.stopEditing();\r\n        }\r\n    } else {\r\n        if (this.wasSingleStepping && !Process.prototype.enableSingleStepping) {\r\n             this.toggleSingleStepping();\r\n        }\r\n        this.setColor(this.backgroundColor);\r\n        this.controlBar.setColor(this.frameColor);\r\n        elements.forEach(function (e) {\r\n            e.show();\r\n        });\r\n        this.stage.setScale(1);\r\n        // show all hidden dialogs\r\n        world.children.forEach(function (morph) {\r\n            if (morph instanceof DialogBoxMorph) {\r\n                morph.show();\r\n            }\r\n        });\r\n        // prevent scrollbars from showing when morph appears\r\n        world.allChildren().filter(function (c) {\r\n            return c instanceof ScrollFrameMorph;\r\n        }).forEach(function (s) {\r\n            s.adjustScrollBars();\r\n        });\r\n        // prevent rotation and draggability controls from\r\n        // showing for the stage\r\n        if (this.currentSprite === this.stage) {\r\n            this.spriteBar.children.forEach(function (child) {\r\n                if (child instanceof PushButtonMorph) {\r\n                    child.hide();\r\n                }\r\n            });\r\n        }\r\n        // update undrop controls\r\n        this.currentSprite.scripts.updateToolbar();\r\n    }\r\n    this.setExtent(this.world().extent()); // resume trackChanges\r\n};\r\n\r\nIDE_Morph.prototype.toggleStageSize = function (isSmall, forcedRatio) {\r\n    var myself = this,\r\n        smallRatio = forcedRatio || 0.5,\r\n        msecs = this.isAnimating ? 100 : 0,\r\n        world = this.world(),\r\n        shiftClicked = (world.currentKey === 16),\r\n        altClicked = (world.currentKey === 18);\r\n\r\n    function toggle() {\r\n        myself.isSmallStage = isNil(isSmall) ? !myself.isSmallStage : isSmall;\r\n    }\r\n\r\n    function zoomTo(targetRatio) {\r\n        myself.isSmallStage = true;\r\n        world.animations.push(new Animation(\r\n            function (ratio) {\r\n                myself.stageRatio = ratio;\r\n                myself.setExtent(world.extent());\r\n            },\r\n            function () {\r\n                return myself.stageRatio;\r\n            },\r\n            targetRatio - myself.stageRatio,\r\n            msecs,\r\n            null, // easing\r\n            function () {\r\n                myself.isSmallStage = (targetRatio !== 1);\r\n                myself.controlBar.stageSizeButton.refresh();\r\n            }\r\n        ));\r\n    }\r\n\r\n    if (shiftClicked) {\r\n        smallRatio = SpriteIconMorph.prototype.thumbSize.x * 3 /\r\n            this.stage.dimensions.x;\r\n        if (!this.isSmallStage || (smallRatio === this.stageRatio)) {\r\n            toggle();\r\n        }\r\n    } else if (altClicked) {\r\n        smallRatio = this.width() / 2 /\r\n            this.stage.dimensions.x;\r\n        if (!this.isSmallStage || (smallRatio === this.stageRatio)) {\r\n            toggle();\r\n        }\r\n    } else {\r\n        toggle();\r\n    }\r\n    if (this.isSmallStage) {\r\n        zoomTo(smallRatio);\r\n    } else {\r\n        zoomTo(1);\r\n    }\r\n};\r\n\r\nIDE_Morph.prototype.setPaletteWidth = function (newWidth) {\r\n    var msecs = this.isAnimating ? 100 : 0,\r\n        world = this.world(),\r\n        myself = this;\r\n\r\n    world.animations.push(new Animation(\r\n        function (newWidth) {\r\n            myself.paletteWidth = newWidth;\r\n            myself.setExtent(world.extent());\r\n        },\r\n        function () {\r\n            return myself.paletteWidth;\r\n        },\r\n        newWidth - myself.paletteWidth,\r\n        msecs\r\n    ));\r\n};\r\n\r\nIDE_Morph.prototype.createNewProject = function () {\r\n    var myself = this;\r\n    this.confirm(\r\n        'Replace the current project with a new one?',\r\n        'New Project',\r\n        function () {myself.newProject(); }\r\n    );\r\n};\r\n\r\nIDE_Morph.prototype.openProjectsBrowser = function () {\r\n    new ProjectDialogMorph(this, 'open').popUp();\r\n};\r\n\r\nIDE_Morph.prototype.saveProjectsBrowser = function () {\r\n    if (this.source === 'examples') {\r\n        this.source = 'local'; // cannot save to examples\r\n    }\r\n    new ProjectDialogMorph(this, 'save').popUp();\r\n};\r\n\r\n// IDE_Morph localization\r\n\r\nIDE_Morph.prototype.languageMenu = function () {\r\n    var menu = new MenuMorph(this),\r\n        world = this.world(),\r\n        pos = this.controlBar.settingsButton.bottomLeft(),\r\n        myself = this;\r\n    SnapTranslator.languages().forEach(function (lang) {\r\n        menu.addItem(\r\n            (SnapTranslator.language === lang ? '\\u2713 ' : '    ') +\r\n                SnapTranslator.languageName(lang),\r\n            function () {\r\n                myself.loadNewProject = false;\r\n                myself.setLanguage(lang);\r\n            }\r\n        );\r\n    });\r\n    menu.popup(world, pos);\r\n};\r\n\r\n//********************Wiquid************************\r\n\r\nIDE_Morph.prototype.setLanguage = function (lang, callback) {\r\n    \r\n    if(getSnapProjectScript != \"scriptPlaceHolder\"){importString = getSnapProjectScript;}\r\n      this.openDefaultProject(importString); //Wiquid SOLUTION.\r\n     \r\n       //Both importString and getsnapprojectScript are needed to keep the project chosen in authoring even if options are changing.  \r\n    \r\n       \r\n};\r\n\r\nIDE_Morph.prototype.openDefaultProject = function (impString){\r\n\r\n    var str = impString; //Wiquid Solution \r\n           if(impString != \"\"){this.openProjectString(str);\r\n        }\r\n               \r\n} \r\n\r\n//***************************************************\r\n\r\nIDE_Morph.prototype.reflectLanguage = function (lang, callback) {\r\n    var projectData,\r\n        urlBar = location.hash;\r\n    SnapTranslator.language = lang;\r\n    if (!this.loadNewProject) {\r\n        if (Process.prototype.isCatchingErrors) {\r\n            try {\r\n                projectData = this.serializer.serialize(this.stage);\r\n            } catch (err) {\r\n                this.showMessage('Serialization failed: ' + err);\r\n            }\r\n        } else {\r\n            projectData = this.serializer.serialize(this.stage);\r\n        }\r\n    }\r\n    SpriteMorph.prototype.initBlocks();\r\n    this.spriteBar.tabBar.tabTo('scripts');\r\n    this.createCategories();\r\n    this.createCorralBar();\r\n    this.fixLayout();\r\n    if (this.loadNewProject) {\r\n        this.newProject();\r\n        location.hash = urlBar;\r\n    } else {\r\n        this.openProjectString(projectData);\r\n    }\r\n    this.saveSetting('language', lang);\r\n    if (callback) {callback.call(this); }\r\n};\r\n\r\n// IDE_Morph blocks scaling\r\n\r\nIDE_Morph.prototype.userSetBlocksScale = function () {\r\n    var myself = this,\r\n        scrpt,\r\n        blck,\r\n        shield,\r\n        sample,\r\n        action;\r\n\r\n    scrpt = new CommandBlockMorph();\r\n    scrpt.color = SpriteMorph.prototype.blockColor.motion;\r\n    scrpt.setSpec(localize('build'));\r\n    blck = new CommandBlockMorph();\r\n    blck.color = SpriteMorph.prototype.blockColor.sound;\r\n    blck.setSpec(localize('your own'));\r\n    scrpt.nextBlock(blck);\r\n    blck = new CommandBlockMorph();\r\n    blck.color = SpriteMorph.prototype.blockColor.operators;\r\n    blck.setSpec(localize('blocks'));\r\n    scrpt.bottomBlock().nextBlock(blck);\r\n   \r\n\r\n    sample = new FrameMorph();\r\n    sample.acceptsDrops = false;\r\n    sample.color = IDE_Morph.prototype.groupColor;\r\n    sample.cachedTexture = this.scriptsPaneTexture;\r\n    sample.setExtent(new Point(250, 180));\r\n    scrpt.setPosition(sample.position().add(10));\r\n    sample.add(scrpt);\r\n\r\n    shield = new Morph();\r\n    shield.alpha = 0;\r\n    shield.setExtent(sample.extent());\r\n    shield.setPosition(sample.position());\r\n    sample.add(shield);\r\n\r\n    action = function (num) {\r\n    \r\n        scrpt.blockSequence().forEach(function (block) {\r\n            block.setScale(num);\r\n            block.drawNew();\r\n            block.setSpec(block.blockSpec);\r\n        });\r\n        scrpt.changed();\r\n    };\r\n\r\n    new DialogBoxMorph(\r\n        null,\r\n        function (num) {\r\n            myself.setBlocksScale(Math.min(num, 12));\r\n        }\r\n    ).withKey('zoomBlocks').prompt(\r\n        'Zoom blocks',\r\n        SyntaxElementMorph.prototype.scale.toString(),\r\n        this.world(),\r\n        sample, // pic\r\n        {\r\n            'normal (1x)' : 1,\r\n            'demo (1.2x)' : 1.2,\r\n            'presentation (1.4x)' : 1.4,\r\n            'big (2x)' : 2,\r\n            'huge (4x)' : 4,\r\n            'giant (8x)' : 8,\r\n            'monstrous (10x)' : 10\r\n        },\r\n        false, // read only?\r\n        true, // numeric\r\n        1, // slider min\r\n        12, // slider max\r\n        action // slider action\r\n    );\r\n};\r\n\r\nIDE_Morph.prototype.setBlocksScale = function (num) {\r\n    var projectData;\r\n    if (Process.prototype.isCatchingErrors) {\r\n        try {\r\n            projectData = this.serializer.serialize(this.stage);\r\n        } catch (err) {\r\n            this.showMessage('Serialization failed: ' + err);\r\n        }\r\n    } else {\r\n        projectData = this.serializer.serialize(this.stage);\r\n    }\r\n    SyntaxElementMorph.prototype.setScale(num);\r\n    CommentMorph.prototype.refreshScale();\r\n    SpriteMorph.prototype.initBlocks();\r\n    this.spriteBar.tabBar.tabTo('scripts');\r\n    this.createCategories();\r\n    this.createCorralBar();\r\n    this.fixLayout();\r\n    this.openProjectString(projectData);\r\n    this.saveSetting('zoom', num);\r\n};\r\n\r\n// IDE_Morph stage size manipulation\r\n\r\nIDE_Morph.prototype.userSetStageSize = function () {\r\n    new DialogBoxMorph(\r\n        this,\r\n        this.setStageExtent,\r\n        this\r\n    ).promptVector(\r\n        \"Stage size\",\r\n        StageMorph.prototype.dimensions,\r\n        new Point(480, 360),\r\n        'Stage width',\r\n        'Stage height',\r\n        this.world(),\r\n        null, // pic\r\n        null // msg\r\n    );\r\n};\r\n\r\nIDE_Morph.prototype.setStageExtent = function (aPoint) {\r\n    var myself = this,\r\n        world = this.world(),\r\n        ext = aPoint.max(new Point(240, 180));\r\n\r\n    function zoom() {\r\n        myself.step = function () {\r\n            var delta = ext.subtract(\r\n                StageMorph.prototype.dimensions\r\n            ).divideBy(2);\r\n            if (delta.abs().lt(new Point(5, 5))) {\r\n                StageMorph.prototype.dimensions = ext;\r\n                delete myself.step;\r\n            } else {\r\n                StageMorph.prototype.dimensions =\r\n                    StageMorph.prototype.dimensions.add(delta);\r\n            }\r\n            myself.stage.setExtent(StageMorph.prototype.dimensions);\r\n            myself.stage.clearPenTrails();\r\n            myself.fixLayout();\r\n            this.setExtent(world.extent());\r\n        };\r\n    }\r\n\r\n    this.stageRatio = 1;\r\n    this.isSmallStage = false;\r\n    this.controlBar.stageSizeButton.refresh();\r\n    this.setExtent(world.extent());\r\n    if (this.isAnimating) {\r\n        zoom();\r\n    } else {\r\n        StageMorph.prototype.dimensions = ext;\r\n        this.stage.setExtent(StageMorph.prototype.dimensions);\r\n        this.stage.clearPenTrails();\r\n        this.fixLayout();\r\n        this.setExtent(world.extent());\r\n    }\r\n};\r\n\r\n// IDE_Morph dragging threshold (internal feature)\r\n\r\nIDE_Morph.prototype.userSetDragThreshold = function () {\r\n    new DialogBoxMorph(\r\n        this,\r\n        function (num) {\r\n            MorphicPreferences.grabThreshold = Math.min(\r\n                Math.max(+num, 0),\r\n                200\r\n            );\r\n        },\r\n        this\r\n    ).prompt(\r\n        \"Dragging threshold\",\r\n        MorphicPreferences.grabThreshold.toString(),\r\n        this.world(),\r\n        null, // pic\r\n        null, // choices\r\n        null, // read only\r\n        true // numeric\r\n    );\r\n};\r\n\r\n// IDE_Morph cloud interface\r\n\r\nIDE_Morph.prototype.initializeCloud = function () {\r\n    var myself = this,\r\n        world = this.world();\r\n    new DialogBoxMorph(\r\n        null,\r\n        function (user) {\r\n            var pwh = hex_sha512(user.password),\r\n                str;\r\n            SnapCloud.login(\r\n                user.username,\r\n                pwh,\r\n                function () {\r\n                    if (user.choice) {\r\n                        str = SnapCloud.encodeDict(\r\n                            {\r\n                                username: user.username,\r\n                                password: pwh\r\n                            }\r\n                        );\r\n                        localStorage['-snap-user'] = str;\r\n                    }\r\n                    myself.source = 'cloud';\r\n                    myself.showMessage('now connected.', 2);\r\n                },\r\n                myself.cloudError()\r\n            );\r\n        }\r\n    ).withKey('cloudlogin').promptCredentials(\r\n        'Sign in',\r\n        'login',\r\n        null,\r\n        null,\r\n        null,\r\n        null,\r\n        'stay signed in on this computer\\nuntil logging out',\r\n        world,\r\n        myself.cloudIcon(),\r\n        myself.cloudMsg\r\n    );\r\n};\r\n\r\nIDE_Morph.prototype.createCloudAccount = function () {\r\n    var myself = this,\r\n        world = this.world();\r\n/*\r\n    // force-logout, commented out for now:\r\n    delete localStorage['-snap-user'];\r\n    SnapCloud.clear();\r\n*/\r\n    new DialogBoxMorph(\r\n        null,\r\n        function (user) {\r\n            SnapCloud.signup(\r\n                user.username,\r\n                user.email,\r\n                function (txt, title) {\r\n                    new DialogBoxMorph().inform(\r\n                        title,\r\n                        txt +\r\n                            '.\\n\\nAn e-mail with your password\\n' +\r\n                            'has been sent to the address provided',\r\n                        world,\r\n                        myself.cloudIcon(null, new Color(0, 180, 0))\r\n                    );\r\n                },\r\n                myself.cloudError()\r\n            );\r\n        }\r\n    ).withKey('cloudsignup').promptCredentials(\r\n        'Sign up',\r\n        'signup',\r\n        'http://snap.berkeley.edu/tos.html',\r\n        'Terms of Service...',\r\n        'http://snap.berkeley.edu/privacy.html',\r\n        'Privacy...',\r\n        'I have read and agree\\nto the Terms of Service',\r\n        world,\r\n        myself.cloudIcon(),\r\n        myself.cloudMsg\r\n    );\r\n};\r\n\r\nIDE_Morph.prototype.resetCloudPassword = function () {\r\n    var myself = this,\r\n        world = this.world();\r\n/*\r\n    // force-logout, commented out for now:\r\n    delete localStorage['-snap-user'];\r\n    SnapCloud.clear();\r\n*/\r\n    new DialogBoxMorph(\r\n        null,\r\n        function (user) {\r\n            SnapCloud.resetPassword(\r\n                user.username,\r\n                function (txt, title) {\r\n                    new DialogBoxMorph().inform(\r\n                        title,\r\n                        txt +\r\n                            '.\\n\\nAn e-mail with a link to\\n' +\r\n                            'reset your password\\n' +\r\n                            'has been sent to the address provided',\r\n                        world,\r\n                        myself.cloudIcon(null, new Color(0, 180, 0))\r\n                    );\r\n                },\r\n                myself.cloudError()\r\n            );\r\n        }\r\n    ).withKey('cloudresetpassword').promptCredentials(\r\n        'Reset password',\r\n        'resetPassword',\r\n        null,\r\n        null,\r\n        null,\r\n        null,\r\n        null,\r\n        world,\r\n        myself.cloudIcon(),\r\n        myself.cloudMsg\r\n    );\r\n};\r\n\r\nIDE_Morph.prototype.changeCloudPassword = function () {\r\n    var myself = this,\r\n        world = this.world();\r\n    new DialogBoxMorph(\r\n        null,\r\n        function (user) {\r\n            SnapCloud.changePassword(\r\n                user.oldpassword,\r\n                user.password,\r\n                function () {\r\n                    myself.logout();\r\n                    myself.showMessage('password has been changed.', 2);\r\n                },\r\n                myself.cloudError()\r\n            );\r\n        }\r\n    ).withKey('cloudpassword').promptCredentials(\r\n        'Change Password',\r\n        'changePassword',\r\n        null,\r\n        null,\r\n        null,\r\n        null,\r\n        null,\r\n        world,\r\n        myself.cloudIcon(),\r\n        myself.cloudMsg\r\n    );\r\n};\r\n\r\nIDE_Morph.prototype.logout = function () {\r\n    var myself = this;\r\n    delete localStorage['-snap-user'];\r\n    SnapCloud.logout(\r\n        function () {\r\n            SnapCloud.clear();\r\n            myself.showMessage('disconnected.', 2);\r\n        },\r\n        function () {\r\n            SnapCloud.clear();\r\n            myself.showMessage('disconnected.', 2);\r\n        }\r\n    );\r\n};\r\n\r\nIDE_Morph.prototype.saveProjectToCloud = function (name) {\r\n    var myself = this;\r\n    if (name) {\r\n        this.showMessage('Saving project\\nto the cloud...');\r\n        this.setProjectName(name);\r\n        SnapCloud.saveProject(\r\n            this,\r\n            function () {myself.showMessage('saved.', 2); },\r\n            this.cloudError()\r\n        );\r\n    }\r\n};\r\n\r\nIDE_Morph.prototype.exportProjectMedia = function (name) {\r\n    var menu, media;\r\n    this.serializer.isCollectingMedia = true;\r\n    if (name) {\r\n        this.setProjectName(name);\r\n        try {\r\n            menu = this.showMessage('Exporting');\r\n            media = this.serializer.mediaXML(name);\r\n            this.saveXMLAs(media, this.projectName + ' media');\r\n            menu.destroy();\r\n            this.showMessage('Exported!', 1);\r\n        } catch (err) {\r\n            if (Process.prototype.isCatchingErrors) {\r\n                this.serializer.isCollectingMedia = false;\r\n                this.showMessage('Export failed: ' + err);\r\n            } else {\r\n                throw err;\r\n            }\r\n        }\r\n    }\r\n    this.serializer.isCollectingMedia = false;\r\n    this.serializer.flushMedia();\r\n    // this.hasChangedMedia = false;\r\n};\r\n\r\nIDE_Morph.prototype.exportProjectNoMedia = function (name) {\r\n    var menu, str;\r\n    this.serializer.isCollectingMedia = true;\r\n    if (name) {\r\n        this.setProjectName(name);\r\n        if (Process.prototype.isCatchingErrors) {\r\n            try {\r\n                menu = this.showMessage('Exporting');\r\n                str = this.serializer.serialize(this.stage);\r\n                this.saveXMLAs(str, this.projectName);\r\n                menu.destroy();\r\n                this.showMessage('Exported!', 1);\r\n            } catch (err) {\r\n                this.serializer.isCollectingMedia = false;\r\n                this.showMessage('Export failed: ' + err);\r\n            }\r\n        } else {\r\n            menu = this.showMessage('Exporting');\r\n            str = this.serializer.serialize(this.stage);\r\n            this.saveXMLAs(str, this.projectName);\r\n            menu.destroy();\r\n            this.showMessage('Exported!', 1);\r\n        }\r\n    }\r\n    this.serializer.isCollectingMedia = false;\r\n    this.serializer.flushMedia();\r\n};\r\n\r\nIDE_Morph.prototype.exportProjectAsCloudData = function (name) {\r\n    var menu, str, media, dta;\r\n    this.serializer.isCollectingMedia = true;\r\n    if (name) {\r\n        this.setProjectName(name);\r\n        if (Process.prototype.isCatchingErrors) {\r\n            try {\r\n                menu = this.showMessage('Exporting');\r\n                str = this.serializer.serialize(this.stage);\r\n                media = this.serializer.mediaXML(name);\r\n                dta = '<snapdata>' + str + media + '</snapdata>';\r\n                this.saveXMLAs(str, this.projectName);\r\n                menu.destroy();\r\n                this.showMessage('Exported!', 1);\r\n            } catch (err) {\r\n                this.serializer.isCollectingMedia = false;\r\n                this.showMessage('Export failed: ' + err);\r\n            }\r\n        } else {\r\n            menu = this.showMessage('Exporting');\r\n            str = this.serializer.serialize(this.stage);\r\n            media = this.serializer.mediaXML(name);\r\n            dta = '<snapdata>' + str + media + '</snapdata>';\r\n            this.saveXMLAs(str, this.projectName);\r\n            menu.destroy();\r\n            this.showMessage('Exported!', 1);\r\n        }\r\n    }\r\n    this.serializer.isCollectingMedia = false;\r\n    this.serializer.flushMedia();\r\n    // this.hasChangedMedia = false;\r\n};\r\n\r\nIDE_Morph.prototype.cloudAcknowledge = function () {\r\n    var myself = this;\r\n    return function (responseText, url) {\r\n        nop(responseText);\r\n        new DialogBoxMorph().inform(\r\n            'Cloud Connection',\r\n            'Successfully connected to:\\n'\r\n                + 'http://'\r\n                + url,\r\n            myself.world(),\r\n            myself.cloudIcon(null, new Color(0, 180, 0))\r\n        );\r\n    };\r\n};\r\n\r\nIDE_Morph.prototype.cloudResponse = function () {\r\n    var myself = this;\r\n    return function (responseText, url) {\r\n        var response = responseText;\r\n        if (response.length > 50) {\r\n            response = response.substring(0, 50) + '...';\r\n        }\r\n        new DialogBoxMorph().inform(\r\n            'Snap!Cloud',\r\n            'http://'\r\n                + url + ':\\n\\n'\r\n                + 'responds:\\n'\r\n                + response,\r\n            myself.world(),\r\n            myself.cloudIcon(null, new Color(0, 180, 0))\r\n        );\r\n    };\r\n};\r\n\r\nIDE_Morph.prototype.cloudError = function () {\r\n    var myself = this;\r\n\r\n    return function (responseText, url) {\r\n        // first, try to find out an explanation for the error\r\n        // and notify the user about it,\r\n        // if none is found, show an error dialog box\r\n        var response = responseText,\r\n            // explanation = getURL('http://snap.berkeley.edu/cloudmsg.txt'),\r\n            explanation = null;\r\n        if (myself.shield) {\r\n            myself.shield.destroy();\r\n            myself.shield = null;\r\n        }\r\n        if (explanation) {\r\n            myself.showMessage(explanation);\r\n            return;\r\n        }\r\n        if (response.length > 50) {\r\n            response = response.substring(0, 50) + '...';\r\n        }\r\n        new DialogBoxMorph().inform(\r\n            'Snap!Cloud',\r\n            (url ? url + '\\n' : '')\r\n                + response,\r\n            myself.world(),\r\n            myself.cloudIcon(null, new Color(180, 0, 0))\r\n        );\r\n    };\r\n};\r\n\r\nIDE_Morph.prototype.cloudIcon = function (height, color) {\r\n    var clr = color || DialogBoxMorph.prototype.titleBarColor,\r\n        isFlat = MorphicPreferences.isFlat,\r\n        icon = new SymbolMorph(\r\n            isFlat ? 'cloud' : 'cloudGradient',\r\n            height || 50,\r\n            clr,\r\n            isFlat ? null : new Point(-1, -1),\r\n            clr.darker(50)\r\n        );\r\n    if (!isFlat) {\r\n        icon.addShadow(new Point(1, 1), 1, clr.lighter(95));\r\n    }\r\n    return icon;\r\n};\r\n\r\nIDE_Morph.prototype.setCloudURL = function () {\r\n    new DialogBoxMorph(\r\n        null,\r\n        function (url) {\r\n            SnapCloud.url = url;\r\n        }\r\n    ).withKey('cloudURL').prompt(\r\n        'Cloud URL',\r\n        SnapCloud.url,\r\n        this.world(),\r\n        null,\r\n        {\r\n            'Snap!Cloud' :\r\n                'https://snap.apps.miosoft.com/SnapCloud'\r\n        }\r\n    );\r\n};\r\n\r\n// IDE_Morph HTTP data fetching\r\n\r\nIDE_Morph.prototype.getURL = function (url, callback) {\r\n    // fetch the contents of a url and pass it into the specified callback.\r\n    // If no callback is specified synchronously fetch and return it\r\n    // Note: Synchronous fetching has been deprecated and should be switched\r\n    var request = new XMLHttpRequest(),\r\n        async = callback instanceof Function,\r\n        myself = this;\r\n    try {\r\n        request.open('GET', url, async);\r\n        if (async) {\r\n            request.onreadystatechange = function () {\r\n                if (request.readyState === 4) {\r\n                    if (request.responseText) {\r\n                        callback.call(\r\n                            myself,\r\n                            request.responseText\r\n                        );\r\n                    } else {\r\n                        throw new Error('unable to retrieve ' + url);\r\n                    }\r\n                }\r\n            };\r\n        }\r\n        request.send();\r\n        if (!async) {\r\n            if (request.status === 200) {\r\n                return request.responseText;\r\n            }\r\n            throw new Error('unable to retrieve ' + url);\r\n        }\r\n    } catch (err) {\r\n        myself.showMessage(err.toString());\r\n        if (async) {\r\n            callback.call(this);\r\n        } else {\r\n            return request.responseText;\r\n        }\r\n    }\r\n};\r\n\r\n// IDE_Morph user dialog shortcuts\r\n\r\nIDE_Morph.prototype.showMessage = function (message, secs) {\r\n    var m = new MenuMorph(null, message),\r\n        intervalHandle;\r\n    m.popUpCenteredInWorld(this.world());\r\n    if (secs) {\r\n        intervalHandle = setInterval(function () {\r\n            m.destroy();\r\n            clearInterval(intervalHandle);\r\n        }, secs * 1000);\r\n    }\r\n    return m;\r\n};\r\n\r\nIDE_Morph.prototype.inform = function (title, message) {\r\n    new DialogBoxMorph().inform(\r\n        title,\r\n        localize(message),\r\n        this.world()\r\n    );\r\n};\r\n\r\nIDE_Morph.prototype.confirm = function (message, title, action) {\r\n    new DialogBoxMorph(null, action).askYesNo(\r\n        title,\r\n        localize(message),\r\n        this.world()\r\n    );\r\n};\r\n\r\nIDE_Morph.prototype.prompt = function (message, callback, choices, key) {\r\n    (new DialogBoxMorph(null, callback)).withKey(key).prompt(\r\n        message,\r\n        '',\r\n        this.world(),\r\n        null,\r\n        choices\r\n    );\r\n};\r\n\r\n// ProjectDialogMorph ////////////////////////////////////////////////////\r\n\r\n// ProjectDialogMorph inherits from DialogBoxMorph:\r\n\r\nProjectDialogMorph.prototype = new DialogBoxMorph();\r\nProjectDialogMorph.prototype.constructor = ProjectDialogMorph;\r\nProjectDialogMorph.uber = DialogBoxMorph.prototype;\r\n\r\n// ProjectDialogMorph instance creation:\r\n\r\nfunction ProjectDialogMorph(ide, label) {\r\n    this.init(ide, label);\r\n}\r\n\r\nProjectDialogMorph.prototype.init = function (ide, task) {\r\n    var myself = this;\r\n\r\n    // additional properties:\r\n    this.ide = ide;\r\n    this.task = task || 'open'; // String describing what do do (open, save)\r\n    this.source = ide.source || 'local'; // or 'cloud' or 'examples'\r\n    this.projectList = []; // [{name: , thumb: , notes:}]\r\n\r\n    this.handle = null;\r\n    this.srcBar = null;\r\n    this.nameField = null;\r\n    this.filterField = null;\r\n    this.magnifyingGlass = null;\r\n    this.listField = null;\r\n    this.preview = null;\r\n    this.notesText = null;\r\n    this.notesField = null;\r\n    this.deleteButton = null;\r\n    this.shareButton = null;\r\n    this.unshareButton = null;\r\n\r\n    // initialize inherited properties:\r\n    ProjectDialogMorph.uber.init.call(\r\n        this,\r\n        this, // target\r\n        null, // function\r\n        null // environment\r\n    );\r\n\r\n    // override inherited properites:\r\n    this.labelString = this.task === 'save' ? 'Save Project' : 'Open Project';\r\n    this.createLabel();\r\n    this.key = 'project' + task;\r\n\r\n    // build contents\r\n    this.buildContents();\r\n    this.onNextStep = function () { // yield to show \"updating\" message\r\n        myself.setSource(myself.source);\r\n    };\r\n};\r\n\r\nProjectDialogMorph.prototype.buildContents = function () {\r\n    var thumbnail, notification;\r\n\r\n    this.addBody(new Morph());\r\n    this.body.color = this.color;\r\n\r\n    this.srcBar = new AlignmentMorph('column', this.padding / 2);\r\n\r\n    if (this.ide.cloudMsg) {\r\n        notification = new TextMorph(\r\n            this.ide.cloudMsg,\r\n            10,\r\n            null, // style\r\n            false, // bold\r\n            null, // italic\r\n            null, // alignment\r\n            null, // width\r\n            null, // font name\r\n            new Point(1, 1), // shadow offset\r\n            new Color(255, 255, 255) // shadowColor\r\n        );\r\n        notification.refresh = nop;\r\n        this.srcBar.add(notification);\r\n    }\r\n\r\n    this.addSourceButton('cloud', localize('Cloud'), 'cloud');\r\n    this.addSourceButton('local', localize('Browser'), 'storage');\r\n    if (this.task === 'open') {\r\n        this.buildFilterField();\r\n        this.addSourceButton('examples', localize('Examples'), 'poster');\r\n    }\r\n    this.srcBar.fixLayout();\r\n    this.body.add(this.srcBar);\r\n\r\n    if (this.task === 'save') {\r\n        this.nameField = new InputFieldMorph(this.ide.projectName);\r\n        this.body.add(this.nameField);\r\n    }\r\n\r\n    this.listField = new ListMorph([]);\r\n    this.fixListFieldItemColors();\r\n    this.listField.fixLayout = nop;\r\n    this.listField.edge = InputFieldMorph.prototype.edge;\r\n    this.listField.fontSize = InputFieldMorph.prototype.fontSize;\r\n    this.listField.typeInPadding = InputFieldMorph.prototype.typeInPadding;\r\n    this.listField.contrast = InputFieldMorph.prototype.contrast;\r\n    this.listField.drawNew = InputFieldMorph.prototype.drawNew;\r\n    this.listField.drawRectBorder = InputFieldMorph.prototype.drawRectBorder;\r\n\r\n    this.body.add(this.listField);\r\n\r\n    this.preview = new Morph();\r\n    this.preview.fixLayout = nop;\r\n    this.preview.edge = InputFieldMorph.prototype.edge;\r\n    this.preview.fontSize = InputFieldMorph.prototype.fontSize;\r\n    this.preview.typeInPadding = InputFieldMorph.prototype.typeInPadding;\r\n    this.preview.contrast = InputFieldMorph.prototype.contrast;\r\n    this.preview.drawNew = function () {\r\n        InputFieldMorph.prototype.drawNew.call(this);\r\n        if (this.texture) {\r\n            this.drawTexture(this.texture);\r\n        }\r\n    };\r\n    this.preview.drawCachedTexture = function () {\r\n        var context = this.image.getContext('2d');\r\n        context.drawImage(this.cachedTexture, this.edge, this.edge);\r\n        this.changed();\r\n    };\r\n    this.preview.drawRectBorder = InputFieldMorph.prototype.drawRectBorder;\r\n    this.preview.setExtent(\r\n        this.ide.serializer.thumbnailSize.add(this.preview.edge * 2)\r\n    );\r\n\r\n    this.body.add(this.preview);\r\n    this.preview.drawNew();\r\n    if (this.task === 'save') {\r\n        thumbnail = this.ide.stage.thumbnail(\r\n            SnapSerializer.prototype.thumbnailSize\r\n        );\r\n        this.preview.texture = null;\r\n        this.preview.cachedTexture = thumbnail;\r\n        this.preview.drawCachedTexture();\r\n    }\r\n\r\n    this.notesField = new ScrollFrameMorph();\r\n    this.notesField.fixLayout = nop;\r\n\r\n    this.notesField.edge = InputFieldMorph.prototype.edge;\r\n    this.notesField.fontSize = InputFieldMorph.prototype.fontSize;\r\n    this.notesField.typeInPadding = InputFieldMorph.prototype.typeInPadding;\r\n    this.notesField.contrast = InputFieldMorph.prototype.contrast;\r\n    this.notesField.drawNew = InputFieldMorph.prototype.drawNew;\r\n    this.notesField.drawRectBorder = InputFieldMorph.prototype.drawRectBorder;\r\n\r\n    this.notesField.acceptsDrops = false;\r\n    this.notesField.contents.acceptsDrops = false;\r\n\r\n    if (this.task === 'open') {\r\n        this.notesText = new TextMorph('');\r\n    } else { // 'save'\r\n        this.notesText = new TextMorph(this.ide.projectNotes);\r\n        this.notesText.isEditable = true;\r\n        this.notesText.enableSelecting();\r\n    }\r\n\r\n    this.notesField.isTextLineWrapping = true;\r\n    this.notesField.padding = 3;\r\n    this.notesField.setContents(this.notesText);\r\n    this.notesField.setWidth(this.preview.width());\r\n\r\n    this.body.add(this.notesField);\r\n\r\n    if (this.task === 'open') {\r\n        this.addButton('openProject', 'Open');\r\n        this.action = 'openProject';\r\n    } else { // 'save'\r\n        this.addButton('saveProject', 'Save');\r\n        this.action = 'saveProject';\r\n    }\r\n    this.shareButton = this.addButton('shareProject', 'Share');\r\n    this.unshareButton = this.addButton('unshareProject', 'Unshare');\r\n    this.shareButton.hide();\r\n    this.unshareButton.hide();\r\n    this.deleteButton = this.addButton('deleteProject', 'Delete');\r\n    this.addButton('cancel', 'Cancel');\r\n\r\n    if (notification) {\r\n        this.setExtent(new Point(455, 335).add(notification.extent()));\r\n    } else {\r\n        this.setExtent(new Point(455, 335));\r\n    }\r\n    this.fixLayout();\r\n\r\n};\r\n\r\nProjectDialogMorph.prototype.popUp = function (wrrld) {\r\n    var world = wrrld || this.ide.world();\r\n    if (world) {\r\n        ProjectDialogMorph.uber.popUp.call(this, world);\r\n        this.handle = new HandleMorph(\r\n            this,\r\n            350,\r\n            300,\r\n            this.corner,\r\n            this.corner\r\n        );\r\n    }\r\n};\r\n\r\n// ProjectDialogMorph source buttons\r\n\r\nProjectDialogMorph.prototype.addSourceButton = function (\r\n    source,\r\n    label,\r\n    symbol\r\n) {\r\n    var myself = this,\r\n        lbl1 = new StringMorph(\r\n            label,\r\n            10,\r\n            null,\r\n            true,\r\n            null,\r\n            null,\r\n            new Point(1, 1),\r\n            new Color(255, 255, 255)\r\n        ),\r\n        lbl2 = new StringMorph(\r\n            label,\r\n            10,\r\n            null,\r\n            true,\r\n            null,\r\n            null,\r\n            new Point(-1, -1),\r\n            this.titleBarColor.darker(50),\r\n            new Color(255, 255, 255)\r\n        ),\r\n        l1 = new Morph(),\r\n        l2 = new Morph(),\r\n        button;\r\n\r\n    lbl1.add(new SymbolMorph(\r\n        symbol,\r\n        24,\r\n        this.titleBarColor.darker(20),\r\n        new Point(1, 1),\r\n        this.titleBarColor.darker(50)\r\n    ));\r\n    lbl1.children[0].setCenter(lbl1.center());\r\n    lbl1.children[0].setBottom(lbl1.top() - this.padding / 2);\r\n\r\n    l1.image = lbl1.fullImage();\r\n    l1.bounds = lbl1.fullBounds();\r\n\r\n    lbl2.add(new SymbolMorph(\r\n        symbol,\r\n        24,\r\n        new Color(255, 255, 255),\r\n        new Point(-1, -1),\r\n        this.titleBarColor.darker(50)\r\n    ));\r\n    lbl2.children[0].setCenter(lbl2.center());\r\n    lbl2.children[0].setBottom(lbl2.top() - this.padding / 2);\r\n\r\n    l2.image = lbl2.fullImage();\r\n    l2.bounds = lbl2.fullBounds();\r\n\r\n    button = new ToggleButtonMorph(\r\n        null, //colors,\r\n        myself, // the ProjectDialog is the target\r\n        function () { // action\r\n            myself.setSource(source);\r\n        },\r\n        [l1, l2],\r\n        function () {  // query\r\n            return myself.source === source;\r\n        }\r\n    );\r\n\r\n    button.corner = this.buttonCorner;\r\n    button.edge = this.buttonEdge;\r\n    button.outline = this.buttonOutline;\r\n    button.outlineColor = this.buttonOutlineColor;\r\n    button.outlineGradient = this.buttonOutlineGradient;\r\n    button.labelMinExtent = new Point(60, 0);\r\n    button.padding = this.buttonPadding;\r\n    button.contrast = this.buttonContrast;\r\n    button.pressColor = this.titleBarColor.darker(20);\r\n\r\n    button.drawNew();\r\n    button.fixLayout();\r\n    button.refresh();\r\n    this.srcBar.add(button);\r\n};\r\n\r\n// ProjectDialogMorph list field control\r\n\r\nProjectDialogMorph.prototype.fixListFieldItemColors = function () {\r\n    // remember to always fixLayout() afterwards for the changes\r\n    // to take effect\r\n    var myself = this;\r\n    this.listField.contents.children[0].alpha = 0;\r\n    this.listField.contents.children[0].children.forEach(function (item) {\r\n        item.pressColor = myself.titleBarColor.darker(20);\r\n        item.color = new Color(0, 0, 0, 0);\r\n        item.noticesTransparentClick = true;\r\n    });\r\n};\r\n\r\n// ProjectDialogMorph filter field\r\n\r\nProjectDialogMorph.prototype.buildFilterField = function () {\r\n    var myself = this;\r\n\r\n    this.filterField = new InputFieldMorph('');\r\n    this.magnifyingGlass =\r\n        new SymbolMorph(\r\n            'magnifyingGlass',\r\n            this.filterField.height(),\r\n            this.titleBarColor.darker(50));\r\n\r\n    this.body.add(this.magnifyingGlass);\r\n    this.body.add(this.filterField);\r\n\r\n    this.filterField.reactToKeystroke = function (evt) {\r\n        var text = this.getValue();\r\n\r\n        myself.listField.elements =\r\n            myself.projectList.filter(function (aProject) {\r\n                var name,\r\n                    notes;\r\n\r\n                if (aProject.ProjectName) { // cloud\r\n                    name = aProject.ProjectName;\r\n                    notes = aProject.Notes;\r\n                } else { // local or examples\r\n                    name = aProject.name;\r\n                    notes = aProject.notes || '';\r\n                }\r\n\r\n                return name.toLowerCase().indexOf(text.toLowerCase()) > -1 ||\r\n                    notes.toLowerCase().indexOf(text.toLowerCase()) > -1;\r\n            });\r\n\r\n        if (myself.listField.elements.length === 0) {\r\n            myself.listField.elements.push('(no matches)');\r\n        }\r\n\r\n        myself.clearDetails();\r\n        myself.listField.buildListContents();\r\n        myself.fixListFieldItemColors();\r\n        myself.listField.adjustScrollBars();\r\n        myself.listField.scrollY(myself.listField.top());\r\n        myself.fixLayout();\r\n    };\r\n};\r\n\r\n// ProjectDialogMorph ops\r\n\r\nProjectDialogMorph.prototype.setSource = function (source) {\r\n    var myself = this,\r\n        msg;\r\n\r\n    this.source = source; //this.task === 'save' ? 'local' : source;\r\n    this.srcBar.children.forEach(function (button) {\r\n        button.refresh();\r\n    });\r\n    switch (this.source) {\r\n    case 'cloud':\r\n        msg = myself.ide.showMessage('Updating\\nproject list...');\r\n        this.projectList = [];\r\n        SnapCloud.getProjectList(\r\n            function (projectList) {\r\n                // Don't show cloud projects if user has since switch panes.\r\n                if (myself.source === 'cloud') {\r\n                    myself.installCloudProjectList(projectList);\r\n                }\r\n                msg.destroy();\r\n            },\r\n            function (err, lbl) {\r\n                msg.destroy();\r\n                myself.ide.cloudError().call(null, err, lbl);\r\n            }\r\n        );\r\n        return;\r\n    case 'examples':\r\n        this.projectList = this.getExamplesProjectList();\r\n        break;\r\n    case 'local':\r\n        this.projectList = this.getLocalProjectList();\r\n        break;\r\n    }\r\n\r\n    this.listField.destroy();\r\n    this.listField = new ListMorph(\r\n        this.projectList,\r\n        this.projectList.length > 0 ?\r\n                function (element) {\r\n                    return element.name || element;\r\n                } : null,\r\n        null,\r\n        function () {myself.ok(); }\r\n    );\r\n\r\n    this.fixListFieldItemColors();\r\n    this.listField.fixLayout = nop;\r\n    this.listField.edge = InputFieldMorph.prototype.edge;\r\n    this.listField.fontSize = InputFieldMorph.prototype.fontSize;\r\n    this.listField.typeInPadding = InputFieldMorph.prototype.typeInPadding;\r\n    this.listField.contrast = InputFieldMorph.prototype.contrast;\r\n    this.listField.drawNew = InputFieldMorph.prototype.drawNew;\r\n    this.listField.drawRectBorder = InputFieldMorph.prototype.drawRectBorder;\r\n\r\n    if (this.source === 'local') {\r\n        this.listField.action = function (item) {\r\n            var src, xml;\r\n\r\n            if (item === undefined) {return; }\r\n            if (myself.nameField) {\r\n                myself.nameField.setContents(item.name || '');\r\n            }\r\n            if (myself.task === 'open') {\r\n\r\n                src = localStorage['-snap-project-' + item.name];\r\n\r\n                if (src) {\r\n                    xml = myself.ide.serializer.parse(src);\r\n\r\n                    myself.notesText.text = xml.childNamed('notes').contents\r\n                        || '';\r\n                    myself.notesText.drawNew();\r\n                    myself.notesField.contents.adjustBounds();\r\n                    myself.preview.texture =\r\n                        xml.childNamed('thumbnail').contents || null;\r\n                    myself.preview.cachedTexture = null;\r\n                    myself.preview.drawNew();\r\n                }\r\n            }\r\n            myself.edit();\r\n        };\r\n    } else { // 'examples'; 'cloud' is initialized elsewhere\r\n        this.listField.action = function (item) {\r\n            var src, xml;\r\n            if (item === undefined) {return; }\r\n            if (myself.nameField) {\r\n                myself.nameField.setContents(item.name || '');\r\n            }\r\n            src = myself.ide.getURL(\r\n                myself.ide.resourceURL('Examples', item.fileName)\r\n            );\r\n\r\n            xml = myself.ide.serializer.parse(src);\r\n            myself.notesText.text = xml.childNamed('notes').contents\r\n                || '';\r\n            myself.notesText.drawNew();\r\n            myself.notesField.contents.adjustBounds();\r\n            myself.preview.texture = xml.childNamed('thumbnail').contents\r\n                || null;\r\n            myself.preview.cachedTexture = null;\r\n            myself.preview.drawNew();\r\n            myself.edit();\r\n        };\r\n    }\r\n    this.body.add(this.listField);\r\n    this.shareButton.hide();\r\n    this.unshareButton.hide();\r\n    if (this.source === 'local') {\r\n        this.deleteButton.show();\r\n    } else { // examples\r\n        this.deleteButton.hide();\r\n    }\r\n    this.buttons.fixLayout();\r\n    this.fixLayout();\r\n    if (this.task === 'open') {\r\n        this.clearDetails();\r\n    }\r\n};\r\n\r\nProjectDialogMorph.prototype.getLocalProjectList = function () {\r\n    var stored, name, dta,\r\n        projects = [];\r\n    for (stored in localStorage) {\r\n        if (Object.prototype.hasOwnProperty.call(localStorage, stored)\r\n                && stored.substr(0, 14) === '-snap-project-') {\r\n            name = stored.substr(14);\r\n            dta = {\r\n                name: name,\r\n                thumb: null,\r\n                notes: null\r\n            };\r\n            projects.push(dta);\r\n        }\r\n    }\r\n    projects.sort(function (x, y) {\r\n        return x.name.toLowerCase() < y.name.toLowerCase() ? -1 : 1;\r\n    });\r\n    return projects;\r\n};\r\n\r\nProjectDialogMorph.prototype.getExamplesProjectList = function () {\r\n    return this.ide.getMediaList('Examples');\r\n};\r\n\r\nProjectDialogMorph.prototype.installCloudProjectList = function (pl) {\r\n    var myself = this;\r\n    this.projectList = pl || [];\r\n    this.projectList.sort(function (x, y) {\r\n        return x.ProjectName.toLowerCase() < y.ProjectName.toLowerCase() ?\r\n                 -1 : 1;\r\n    });\r\n\r\n    this.listField.destroy();\r\n    this.listField = new ListMorph(\r\n        this.projectList,\r\n        this.projectList.length > 0 ?\r\n                function (element) {\r\n                    return element.ProjectName || element;\r\n                } : null,\r\n        [ // format: display shared project names bold\r\n            [\r\n                'bold',\r\n                function (proj) {return proj.Public === 'true'; }\r\n            ]\r\n        ],\r\n        function () {myself.ok(); }\r\n    );\r\n    this.fixListFieldItemColors();\r\n    this.listField.fixLayout = nop;\r\n    this.listField.edge = InputFieldMorph.prototype.edge;\r\n    this.listField.fontSize = InputFieldMorph.prototype.fontSize;\r\n    this.listField.typeInPadding = InputFieldMorph.prototype.typeInPadding;\r\n    this.listField.contrast = InputFieldMorph.prototype.contrast;\r\n    this.listField.drawNew = InputFieldMorph.prototype.drawNew;\r\n    this.listField.drawRectBorder = InputFieldMorph.prototype.drawRectBorder;\r\n\r\n    this.listField.action = function (item) {\r\n        if (item === undefined) {return; }\r\n        if (myself.nameField) {\r\n            myself.nameField.setContents(item.ProjectName || '');\r\n        }\r\n        if (myself.task === 'open') {\r\n            myself.notesText.text = item.Notes || '';\r\n            myself.notesText.drawNew();\r\n            myself.notesField.contents.adjustBounds();\r\n            myself.preview.texture = item.Thumbnail || null;\r\n            myself.preview.cachedTexture = null;\r\n            myself.preview.drawNew();\r\n            (new SpeechBubbleMorph(new TextMorph(\r\n                localize('last changed') + '\\n' + item.Updated,\r\n                null,\r\n                null,\r\n                null,\r\n                null,\r\n                'center'\r\n            ))).popUp(\r\n                myself.world(),\r\n                myself.preview.rightCenter().add(new Point(2, 0))\r\n            );\r\n        }\r\n        if (item.Public === 'true') {\r\n            myself.shareButton.hide();\r\n            myself.unshareButton.show();\r\n        } else {\r\n            myself.unshareButton.hide();\r\n            myself.shareButton.show();\r\n        }\r\n        myself.buttons.fixLayout();\r\n        myself.fixLayout();\r\n        myself.edit();\r\n    };\r\n    this.body.add(this.listField);\r\n    this.shareButton.show();\r\n    this.unshareButton.hide();\r\n    this.deleteButton.show();\r\n    this.buttons.fixLayout();\r\n    this.fixLayout();\r\n    if (this.task === 'open') {\r\n        this.clearDetails();\r\n    }\r\n};\r\n\r\nProjectDialogMorph.prototype.clearDetails = function () {\r\n    this.notesText.text = '';\r\n    this.notesText.drawNew();\r\n    this.notesField.contents.adjustBounds();\r\n    this.preview.texture = null;\r\n    this.preview.cachedTexture = null;\r\n    this.preview.drawNew();\r\n};\r\n\r\nProjectDialogMorph.prototype.openProject = function () {\r\n    var proj = this.listField.selected,\r\n        src;\r\n    if (!proj) {return; }\r\n    this.ide.source = this.source;\r\n    if (this.source === 'cloud') {\r\n        this.openCloudProject(proj);\r\n    } else if (this.source === 'examples') {\r\n        // Note \"file\" is a property of the parseResourceFile function.\r\n        src = this.ide.getURL(this.ide.resourceURL('Examples', proj.fileName));\r\n        this.ide.openProjectString(src);\r\n        this.destroy();\r\n    } else { // 'local'\r\n        this.ide.openProject(proj.name);\r\n        this.destroy();\r\n    }\r\n\r\n};\r\n\r\nProjectDialogMorph.prototype.openCloudProject = function (project) {\r\n    var myself = this;\r\n    myself.ide.nextSteps([\r\n        function () {\r\n            myself.ide.showMessage('Fetching project\\nfrom the cloud...');\r\n        },\r\n        function () {\r\n            myself.rawOpenCloudProject(project);\r\n        }\r\n    ]);\r\n};\r\n\r\nProjectDialogMorph.prototype.rawOpenCloudProject = function (proj) {\r\n    var myself = this;\r\n    SnapCloud.reconnect(\r\n        function () {\r\n            SnapCloud.callService(\r\n                'getRawProject',\r\n                function (response) {\r\n                    SnapCloud.disconnect();\r\n                    \r\n                    myself.ide.source = 'cloud';\r\n                    myself.ide.droppedText(response);\r\n                    if (proj.Public === 'true') {\r\n                        location.hash = '#present:Username=' +\r\n                            encodeURIComponent(SnapCloud.username) +\r\n                            '&ProjectName=' +\r\n                            encodeURIComponent(proj.ProjectName);\r\n                    }\r\n                },\r\n                myself.ide.cloudError(),\r\n                [proj.ProjectName]\r\n            );\r\n        },\r\n        myself.ide.cloudError()\r\n    );\r\n    this.destroy();\r\n};\r\n\r\nProjectDialogMorph.prototype.saveProject = function () {\r\n\r\n    var name = this.nameField.contents().text.text,\r\n        notes = this.notesText.text,\r\n        myself = this;\r\n\r\n    this.ide.projectNotes = notes || this.ide.projectNotes;\r\n    if (name) {\r\n        if (this.source === 'cloud') {\r\n            if (detect(\r\n                    this.projectList,\r\n                    function (item) {return item.ProjectName === name; }\r\n                )) {\r\n                this.ide.confirm(\r\n                    localize(\r\n                        'Are you sure you want to replace'\r\n                    ) + '\\n\"' + name + '\"?',\r\n                    'Replace Project',\r\n                    function () {\r\n                        myself.ide.setProjectName(name);\r\n                        myself.saveCloudProject();\r\n                    }\r\n                );\r\n            } else {\r\n                this.ide.setProjectName(name);\r\n                myself.saveCloudProject();\r\n            }\r\n        } else { // 'local'\r\n            if (detect(\r\n                    this.projectList,\r\n                    function (item) {return item.name === name; }\r\n                )) {\r\n                this.ide.confirm(\r\n                    localize(\r\n                        'Are you sure you want to replace'\r\n                    ) + '\\n\"' + name + '\"?',\r\n                    'Replace Project',\r\n                    function () {\r\n                        myself.ide.setProjectName(name);\r\n                        myself.ide.source = 'local';\r\n                        myself.ide.saveProject(name);\r\n                        myself.destroy();\r\n                    }\r\n                );\r\n            } else {\r\n                this.ide.setProjectName(name);\r\n                myself.ide.source = 'local';\r\n                this.ide.saveProject(name);\r\n                this.destroy();\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nProjectDialogMorph.prototype.saveCloudProject = function () {\r\n    var myself = this;\r\n    this.ide.showMessage('Saving project\\nto the cloud...');\r\n    SnapCloud.saveProject(\r\n        this.ide,\r\n        function () {\r\n            myself.ide.source = 'cloud';\r\n            myself.ide.showMessage('saved.', 2);\r\n        },\r\n        this.ide.cloudError()\r\n    );\r\n    this.destroy();\r\n};\r\n\r\nProjectDialogMorph.prototype.deleteProject = function () {\r\n    var myself = this,\r\n        proj,\r\n        idx,\r\n        name;\r\n\r\n    if (this.source === 'cloud') {\r\n        proj = this.listField.selected;\r\n        if (proj) {\r\n            this.ide.confirm(\r\n                localize(\r\n                    'Are you sure you want to delete'\r\n                ) + '\\n\"' + proj.ProjectName + '\"?',\r\n                'Delete Project',\r\n                function () {\r\n                    SnapCloud.reconnect(\r\n                        function () {\r\n                            SnapCloud.callService(\r\n                                'deleteProject',\r\n                                function () {\r\n                                    SnapCloud.disconnect();\r\n                                    myself.ide.hasChangedMedia = true;\r\n                                    idx = myself.projectList.indexOf(proj);\r\n                                    myself.projectList.splice(idx, 1);\r\n                                    myself.installCloudProjectList(\r\n                                        myself.projectList\r\n                                    ); // refresh list\r\n                                },\r\n                                myself.ide.cloudError(),\r\n                                [proj.ProjectName]\r\n                            );\r\n                        },\r\n                        myself.ide.cloudError()\r\n                    );\r\n                }\r\n            );\r\n        }\r\n    } else { // 'local, examples'\r\n        if (this.listField.selected) {\r\n            name = this.listField.selected.name;\r\n            this.ide.confirm(\r\n                localize(\r\n                    'Are you sure you want to delete'\r\n                ) + '\\n\"' + name + '\"?',\r\n                'Delete Project',\r\n                function () {\r\n                    delete localStorage['-snap-project-' + name];\r\n                    myself.setSource(myself.source); // refresh list\r\n                }\r\n            );\r\n        }\r\n    }\r\n};\r\n\r\nProjectDialogMorph.prototype.shareProject = function () {\r\n    var myself = this,\r\n        ide = this.ide,\r\n        proj = this.listField.selected,\r\n        entry = this.listField.active;\r\n\r\n    if (proj) {\r\n        this.ide.confirm(\r\n            localize(\r\n                'Are you sure you want to publish'\r\n            ) + '\\n\"' + proj.ProjectName + '\"?',\r\n            'Share Project',\r\n            function () {\r\n                myself.ide.showMessage('sharing\\nproject...');\r\n                SnapCloud.reconnect(\r\n                    function () {\r\n                        SnapCloud.callService(\r\n                            'publishProject',\r\n                            function () {\r\n                                SnapCloud.disconnect();\r\n                                proj.Public = 'true';\r\n                                myself.unshareButton.show();\r\n                                myself.shareButton.hide();\r\n                                entry.label.isBold = true;\r\n                                entry.label.drawNew();\r\n                                entry.label.changed();\r\n                                myself.buttons.fixLayout();\r\n                                myself.drawNew();\r\n                                myself.ide.showMessage('shared.', 2);\r\n                            },\r\n                            myself.ide.cloudError(),\r\n                            [proj.ProjectName]\r\n                        );\r\n                        // Set the Shared URL if the project is currently open\r\n                        if (proj.ProjectName === ide.projectName) {\r\n                            var usr = SnapCloud.username,\r\n                                projectId = 'Username=' +\r\n                                    encodeURIComponent(usr.toLowerCase()) +\r\n                                    '&ProjectName=' +\r\n                                    encodeURIComponent(proj.ProjectName);\r\n                            location.hash = 'present:' + projectId;\r\n                        }\r\n                    },\r\n                    myself.ide.cloudError()\r\n                );\r\n            }\r\n        );\r\n    }\r\n};\r\n\r\nProjectDialogMorph.prototype.unshareProject = function () {\r\n    var myself = this,\r\n        ide = this.ide,\r\n        proj = this.listField.selected,\r\n        entry = this.listField.active;\r\n\r\n\r\n    if (proj) {\r\n        this.ide.confirm(\r\n            localize(\r\n                'Are you sure you want to unpublish'\r\n            ) + '\\n\"' + proj.ProjectName + '\"?',\r\n            'Unshare Project',\r\n            function () {\r\n                myself.ide.showMessage('unsharing\\nproject...');\r\n                SnapCloud.reconnect(\r\n                    function () {\r\n                        SnapCloud.callService(\r\n                            'unpublishProject',\r\n                            function () {\r\n                                SnapCloud.disconnect();\r\n                                proj.Public = 'false';\r\n                                myself.shareButton.show();\r\n                                myself.unshareButton.hide();\r\n                                entry.label.isBold = false;\r\n                                entry.label.drawNew();\r\n                                entry.label.changed();\r\n                                myself.buttons.fixLayout();\r\n                                myself.drawNew();\r\n                                myself.ide.showMessage('unshared.', 2);\r\n                            },\r\n                            myself.ide.cloudError(),\r\n                            [proj.ProjectName]\r\n                        );\r\n                        // Remove the shared URL if the project is open.\r\n                        if (proj.ProjectName === ide.projectName) {\r\n                            location.hash = '';\r\n                        }\r\n                    },\r\n                    myself.ide.cloudError()\r\n                );\r\n            }\r\n        );\r\n    }\r\n};\r\n\r\nProjectDialogMorph.prototype.edit = function () {\r\n    if (this.nameField) {\r\n        this.nameField.edit();\r\n    } else if (this.filterField) {\r\n        this.filterField.edit();\r\n    }\r\n};\r\n\r\n// ProjectDialogMorph layout\r\n\r\nProjectDialogMorph.prototype.fixLayout = function () {\r\n    var th = fontHeight(this.titleFontSize) + this.titlePadding * 2,\r\n        thin = this.padding / 2,\r\n        inputField = this.nameField || this.filterField,\r\n        oldFlag = Morph.prototype.trackChanges;\r\n\r\n    Morph.prototype.trackChanges = false;\r\n\r\n    if (this.buttons && (this.buttons.children.length > 0)) {\r\n        this.buttons.fixLayout();\r\n    }\r\n\r\n    if (this.body) {\r\n        this.body.setPosition(this.position().add(new Point(\r\n            this.padding,\r\n            th + this.padding\r\n        )));\r\n        this.body.setExtent(new Point(\r\n            this.width() - this.padding * 2,\r\n            this.height() - this.padding * 3 - th - this.buttons.height()\r\n        ));\r\n        this.srcBar.setPosition(this.body.position());\r\n\r\n        inputField.setWidth(\r\n                this.body.width() - this.srcBar.width() - this.padding * 6\r\n            );\r\n        inputField.setLeft(this.srcBar.right() + this.padding * 3);\r\n        inputField.setTop(this.srcBar.top());\r\n        inputField.drawNew();\r\n\r\n        this.listField.setLeft(this.srcBar.right() + this.padding);\r\n        this.listField.setWidth(\r\n            this.body.width()\r\n                - this.srcBar.width()\r\n                - this.preview.width()\r\n                - this.padding\r\n                - thin\r\n        );\r\n        this.listField.contents.children[0].adjustWidths();\r\n\r\n        this.listField.setTop(inputField.bottom() + this.padding);\r\n        this.listField.setHeight(\r\n            this.body.height() - inputField.height() - this.padding\r\n        );\r\n\r\n        if (this.magnifyingGlass) {\r\n            this.magnifyingGlass.setTop(inputField.top());\r\n            this.magnifyingGlass.setLeft(this.listField.left());\r\n        }\r\n\r\n        this.preview.setRight(this.body.right());\r\n        this.preview.setTop(inputField.bottom() + this.padding);\r\n\r\n        this.notesField.setTop(this.preview.bottom() + thin);\r\n        this.notesField.setLeft(this.preview.left());\r\n        this.notesField.setHeight(\r\n            this.body.bottom() - this.preview.bottom() - thin\r\n        );\r\n    }\r\n\r\n    if (this.label) {\r\n        this.label.setCenter(this.center());\r\n        this.label.setTop(this.top() + (th - this.label.height()) / 2);\r\n    }\r\n\r\n    if (this.buttons && (this.buttons.children.length > 0)) {\r\n        this.buttons.setCenter(this.center());\r\n        this.buttons.setBottom(this.bottom() - this.padding);\r\n    }\r\n\r\n    Morph.prototype.trackChanges = oldFlag;\r\n    this.changed();\r\n};\r\n\r\n// LibraryImportDialogMorph ///////////////////////////////////////////\r\n// I am preview dialog shown before importing a library.\r\n// I inherit from a DialogMorph but look similar to\r\n// ProjectDialogMorph, and BlockImportDialogMorph\r\n\r\nLibraryImportDialogMorph.prototype = new DialogBoxMorph();\r\nLibraryImportDialogMorph.prototype.constructor = LibraryImportDialogMorph;\r\nLibraryImportDialogMorph.uber = DialogBoxMorph.prototype;\r\n\r\n// LibraryImportDialogMorph instance creation:\r\n\r\nfunction LibraryImportDialogMorph(ide, librariesData) {\r\n    this.init(ide, librariesData);\r\n}\r\n\r\nLibraryImportDialogMorph.prototype.init = function (ide, librariesData) {\r\n    // initialize inherited properties:\r\n    LibraryImportDialogMorph.uber.init.call(\r\n        this,\r\n        this, // target\r\n        null, // function\r\n        null  // environment\r\n    );\r\n\r\n    this.ide = ide;\r\n    this.key = 'importLibrary';\r\n    this.librariesData = librariesData; // [{name: , fileName: , description:}]\r\n\r\n    // I contain a cached version of the libaries I have displayed,\r\n    // because users may choose to explore a library many times before\r\n    // importing.\r\n    this.libraryCache = {}; // {fileName: [blocks-array] }\r\n\r\n    this.handle = null;\r\n    this.listField = null;\r\n    this.palette = null;\r\n    this.notesText = null;\r\n    this.notesField = null;\r\n\r\n    this.labelString = 'Import library';\r\n    this.createLabel();\r\n\r\n    this.buildContents();\r\n};\r\n\r\nLibraryImportDialogMorph.prototype.buildContents = function () {\r\n    this.addBody(new Morph());\r\n    this.body.color = this.color;\r\n\r\n    this.initializePalette();\r\n    this.initializeLibraryDescription();\r\n    this.installLibrariesList();\r\n\r\n    this.addButton('importLibrary', 'Import');\r\n    this.addButton('cancel', 'Cancel');\r\n\r\n    this.setExtent(new Point(460, 455));\r\n    this.fixLayout();\r\n};\r\n\r\nLibraryImportDialogMorph.prototype.initializePalette = function () {\r\n    // I will display a scrolling list of blocks.\r\n    if (this.palette) {this.palette.destroy(); }\r\n\r\n    this.palette = new ScrollFrameMorph(\r\n        null,\r\n        null,\r\n        SpriteMorph.prototype.sliderColor\r\n    );\r\n    this.palette.color = SpriteMorph.prototype.paletteColor;\r\n    this.palette.padding = 4;\r\n    this.palette.isDraggable = false;\r\n    this.palette.acceptsDrops = false;\r\n    this.palette.contents.acceptsDrops = false;\r\n\r\n    this.body.add(this.palette);\r\n};\r\n\r\nLibraryImportDialogMorph.prototype.initializeLibraryDescription = function () {\r\n    if (this.notesField) {this.notesField.destroy(); }\r\n\r\n    this.notesField = new ScrollFrameMorph();\r\n    this.notesField.fixLayout = nop;\r\n\r\n    this.notesField.edge = InputFieldMorph.prototype.edge;\r\n    this.notesField.fontSize = InputFieldMorph.prototype.fontSize;\r\n    this.notesField.typeInPadding = InputFieldMorph.prototype.typeInPadding;\r\n    this.notesField.contrast = InputFieldMorph.prototype.contrast;\r\n    this.notesField.drawNew = InputFieldMorph.prototype.drawNew;\r\n    this.notesField.drawRectBorder = InputFieldMorph.prototype.drawRectBorder;\r\n\r\n    this.notesField.acceptsDrops = false;\r\n    this.notesField.contents.acceptsDrops = false;\r\n\r\n    this.notesText = new TextMorph('');\r\n\r\n    this.notesField.isTextLineWrapping = true;\r\n    this.notesField.padding = 3;\r\n    this.notesField.setContents(this.notesText);\r\n    this.notesField.setHeight(100);\r\n\r\n    this.body.add(this.notesField);\r\n};\r\n\r\nLibraryImportDialogMorph.prototype.installLibrariesList = function () {\r\n    var myself = this;\r\n\r\n    if (this.listField) {this.listField.destroy(); }\r\n\r\n    this.listField = new ListMorph(\r\n        this.librariesData,\r\n        function (element) {return element.name; },\r\n        null,\r\n        function () {myself.importLibrary(); }\r\n    );\r\n\r\n    this.fixListFieldItemColors();\r\n\r\n    this.listField.fixLayout = nop;\r\n    this.listField.edge = InputFieldMorph.prototype.edge;\r\n    this.listField.fontSize = InputFieldMorph.prototype.fontSize;\r\n    this.listField.typeInPadding = InputFieldMorph.prototype.typeInPadding;\r\n    this.listField.contrast = InputFieldMorph.prototype.contrast;\r\n    this.listField.drawNew = InputFieldMorph.prototype.drawNew;\r\n    this.listField.drawRectBorder = InputFieldMorph.prototype.drawRectBorder;\r\n\r\n    this.listField.action = function (item) {\r\n        if (isNil(item)) {return; }\r\n\r\n        myself.notesText.text = item.description || '';\r\n        myself.notesText.drawNew();\r\n        myself.notesField.contents.adjustBounds();\r\n\r\n        if (myself.hasCached(item.fileName)) {\r\n            myself.displayBlocks(item.fileName);\r\n        } else {\r\n            myself.showMessage(\r\n                localize('Loading') + '\\n' + localize(item.name)\r\n            );\r\n            myself.ide.getURL(\r\n                myself.ide.resourceURL('libraries', item.fileName),\r\n                function(libraryXML) {\r\n                    myself.cacheLibrary(\r\n                        item.fileName,\r\n                        myself.ide.serializer.loadBlocks(libraryXML)\r\n                    );\r\n                    myself.displayBlocks(item.fileName);\r\n                }\r\n            );\r\n        }\r\n    };\r\n\r\n    this.listField.setWidth(200);\r\n    this.body.add(this.listField);\r\n\r\n    this.fixLayout();\r\n};\r\n\r\nLibraryImportDialogMorph.prototype.popUp = function () {\r\n    var world = this.ide.world();\r\n    if (world) {\r\n        LibraryImportDialogMorph.uber.popUp.call(this, world);\r\n        this.handle = new HandleMorph(\r\n            this,\r\n            300,\r\n            300,\r\n            this.corner,\r\n            this.corner\r\n        );\r\n    }\r\n};\r\n\r\nLibraryImportDialogMorph.prototype.fixListFieldItemColors =\r\n    ProjectDialogMorph.prototype.fixListFieldItemColors;\r\n\r\nLibraryImportDialogMorph.prototype.clearDetails =\r\n    ProjectDialogMorph.prototype.clearDetails;\r\n\r\nLibraryImportDialogMorph.prototype.fixLayout = function () {\r\n    var titleHeight = fontHeight(this.titleFontSize) + this.titlePadding * 2,\r\n        thin = this.padding / 2,\r\n        oldFlag = Morph.prototype.trackChanges;\r\n\r\n    Morph.prototype.trackChanges = false;\r\n\r\n    if (this.body) {\r\n        this.body.setPosition(this.position().add(new Point(\r\n            this.padding,\r\n            titleHeight + this.padding\r\n        )));\r\n        this.body.setExtent(new Point(\r\n            this.width() - this.padding * 2,\r\n            this.height()\r\n                - this.padding * 3 // top, bottom and button padding.\r\n                - titleHeight\r\n                - this.buttons.height()\r\n        ));\r\n\r\n        this.listField.setExtent(new Point(\r\n            200,\r\n            this.body.height()\r\n        ));\r\n        this.notesField.setExtent(new Point(\r\n            this.body.width() - this.listField.width() - thin,\r\n            100\r\n        ));\r\n        this.palette.setExtent(new Point(\r\n            this.notesField.width(),\r\n            this.body.height() - this.notesField.height() - thin\r\n        ));\r\n        this.listField.contents.children[0].adjustWidths();\r\n\r\n        this.listField.setPosition(this.body.position());\r\n        this.palette.setPosition(this.listField.topRight().add(\r\n            new Point(thin, 0)\r\n        ));\r\n        this.notesField.setPosition(this.palette.bottomLeft().add(\r\n            new Point(0, thin)\r\n        ));\r\n    }\r\n\r\n    if (this.label) {\r\n        this.label.setCenter(this.center());\r\n        this.label.setTop(\r\n            this.top() + (titleHeight - this.label.height()) / 2\r\n        );\r\n    }\r\n\r\n    if (this.buttons) {\r\n        this.buttons.fixLayout();\r\n        this.buttons.setCenter(this.center());\r\n        this.buttons.setBottom(this.bottom() - this.padding);\r\n    }\r\n\r\n    Morph.prototype.trackChanges = oldFlag;\r\n    this.changed();\r\n};\r\n\r\n// Library Cache Utilities.\r\nLibraryImportDialogMorph.prototype.hasCached = function (key) {\r\n    return this.libraryCache.hasOwnProperty(key);\r\n};\r\n\r\nLibraryImportDialogMorph.prototype.cacheLibrary = function (key, blocks) {\r\n    this.libraryCache[key] = blocks ;\r\n};\r\n\r\nLibraryImportDialogMorph.prototype.cachedLibrary = function (key) {\r\n    return this.libraryCache[key];\r\n};\r\n\r\nLibraryImportDialogMorph.prototype.importLibrary = function () {\r\n    var blocks,\r\n        ide = this.ide,\r\n        selectedLibrary = this.listField.selected.fileName,\r\n        libraryName = this.listField.selected.name;\r\n\r\n    if (this.hasCached(selectedLibrary)) {\r\n        blocks = this.cachedLibrary(selectedLibrary);\r\n        blocks.forEach(function (def) {\r\n            def.receiver = ide.stage;\r\n            ide.stage.globalBlocks.push(def);\r\n            ide.stage.replaceDoubleDefinitionsFor(def);\r\n        });\r\n        ide.showMessage(localize('Imported') + ' ' + localize(libraryName), 2);\r\n    } else {\r\n        ide.showMessage(localize('Loading') + ' ' + localize(libraryName));\r\n        ide.getURL(\r\n            ide.resourceURL('libraries', selectedLibrary),\r\n            function(libraryText) {\r\n                ide.droppedText(libraryText, libraryName);\r\n            }\r\n        );\r\n    }\r\n\r\n    this.destroy();\r\n};\r\n\r\nLibraryImportDialogMorph.prototype.displayBlocks = function (libraryKey) {\r\n    var x, y, blockImage, previousCategory, blockContainer,\r\n        myself = this,\r\n        padding = 4,\r\n        blocksList = this.cachedLibrary(libraryKey);\r\n\r\n    if (!blocksList.length) {return; }\r\n    // populate palette, grouped by categories.\r\n    this.initializePalette();\r\n    x = this.palette.left() + padding;\r\n    y = this.palette.top();\r\n\r\n    SpriteMorph.prototype.categories.forEach(function (category) {\r\n        blocksList.forEach(function (definition) {\r\n            if (definition.category !== category) {return; }\r\n            if (category !== previousCategory) {\r\n                y += padding;\r\n            }\r\n            previousCategory = category;\r\n\r\n            blockImage = definition.templateInstance().fullImage();\r\n            blockContainer = new Morph();\r\n            blockContainer.setExtent(\r\n                new Point(blockImage.width, blockImage.height)\r\n            );\r\n            blockContainer.image = blockImage;\r\n            blockContainer.setPosition(new Point(x, y));\r\n            myself.palette.addContents(blockContainer);\r\n\r\n            y += blockContainer.fullBounds().height() + padding;\r\n        });\r\n    });\r\n\r\n    this.palette.scrollX(padding);\r\n    this.palette.scrollY(padding);\r\n    this.fixLayout();\r\n};\r\n\r\nLibraryImportDialogMorph.prototype.showMessage = function (msgText) {\r\n    var msg = new MenuMorph(null, msgText);\r\n    this.initializePalette();\r\n    this.fixLayout();\r\n    msg.popUpCenteredInWorld(this.palette.contents);\r\n};\r\n\r\n// SpriteIconMorph ////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a selectable element in the Sprite corral, keeping a self-updating\r\n    thumbnail of the sprite I'm respresenting, and a self-updating label\r\n    of the sprite's name (in case it is changed elsewhere)\r\n*/\r\n\r\n// SpriteIconMorph inherits from ToggleButtonMorph (Widgets)\r\n\r\nSpriteIconMorph.prototype = new ToggleButtonMorph();\r\nSpriteIconMorph.prototype.constructor = SpriteIconMorph;\r\nSpriteIconMorph.uber = ToggleButtonMorph.prototype;\r\n\r\n// SpriteIconMorph settings\r\n\r\nSpriteIconMorph.prototype.thumbSize = new Point(40, 40);\r\nSpriteIconMorph.prototype.labelShadowOffset = null;\r\nSpriteIconMorph.prototype.labelShadowColor = null;\r\nSpriteIconMorph.prototype.labelColor = new Color(255, 255, 255);\r\nSpriteIconMorph.prototype.fontSize = 9;\r\n\r\n// SpriteIconMorph instance creation:\r\n\r\nfunction SpriteIconMorph(aSprite, aTemplate) {\r\n    this.init(aSprite, aTemplate);\r\n}\r\n\r\nSpriteIconMorph.prototype.init = function (aSprite, aTemplate) {\r\n    var colors, action, query, hover, myself = this;\r\n\r\n    if (!aTemplate) {\r\n        colors = [\r\n            IDE_Morph.prototype.groupColor,\r\n            IDE_Morph.prototype.frameColor,\r\n            IDE_Morph.prototype.frameColor\r\n        ];\r\n\r\n    }\r\n\r\n    action = function () {\r\n        // make my sprite the current one\r\n        var ide = myself.parentThatIsA(IDE_Morph);\r\n\r\n        if (ide) {\r\n            ide.selectSprite(myself.object);\r\n        }\r\n    };\r\n\r\n    query = function () {\r\n        // answer true if my sprite is the current one\r\n        var ide = myself.parentThatIsA(IDE_Morph);\r\n\r\n        if (ide) {\r\n            return ide.currentSprite === myself.object;\r\n        }\r\n        return false;\r\n    };\r\n\r\n    hover = function () {\r\n        if (!aSprite.exemplar) {return null; }\r\n        return (localize('parent') + ':\\n' + aSprite.exemplar.name);\r\n    };\r\n\r\n    // additional properties:\r\n    this.object = aSprite || new SpriteMorph(); // mandatory, actually\r\n    this.version = this.object.version;\r\n    this.thumbnail = null;\r\n    this.rotationButton = null; // synchronous rotation of nested sprites\r\n\r\n    // initialize inherited properties:\r\n    SpriteIconMorph.uber.init.call(\r\n        this,\r\n        colors, // color overrides, <array>: [normal, highlight, pressed]\r\n        null, // target - not needed here\r\n        action, // a toggle function\r\n        this.object.name, // label string\r\n        query, // predicate/selector\r\n        null, // environment\r\n        hover, // hint\r\n        aTemplate // optional, for cached background images\r\n    );\r\n\r\n    // override defaults and build additional components\r\n    this.isDraggable = true;\r\n    this.createThumbnail();\r\n    this.padding = 2;\r\n    this.corner = 8;\r\n    this.fixLayout();\r\n    this.fps = 1;\r\n};\r\n\r\nSpriteIconMorph.prototype.createThumbnail = function () {\r\n    if (this.thumbnail) {\r\n        this.thumbnail.destroy();\r\n    }\r\n\r\n    this.thumbnail = new Morph();\r\n    this.thumbnail.setExtent(this.thumbSize);\r\n    if (this.object instanceof SpriteMorph) { // support nested sprites\r\n        this.thumbnail.image = this.object.fullThumbnail(this.thumbSize);\r\n        this.createRotationButton();\r\n    } else {\r\n        this.thumbnail.image = this.object.thumbnail(this.thumbSize);\r\n    }\r\n    this.add(this.thumbnail);\r\n};\r\n\r\nSpriteIconMorph.prototype.createLabel = function () {\r\n    var txt;\r\n\r\n    if (this.label) {\r\n        this.label.destroy();\r\n    }\r\n    txt = new StringMorph(\r\n        this.object.name,\r\n        this.fontSize,\r\n        this.fontStyle,\r\n        true,\r\n        false,\r\n        false,\r\n        this.labelShadowOffset,\r\n        this.labelShadowColor,\r\n        this.labelColor\r\n    );\r\n\r\n    this.label = new FrameMorph();\r\n    this.label.acceptsDrops = false;\r\n    this.label.alpha = 0;\r\n    this.label.setExtent(txt.extent());\r\n    txt.setPosition(this.label.position());\r\n    this.label.add(txt);\r\n    this.add(this.label);\r\n};\r\n\r\nSpriteIconMorph.prototype.createRotationButton = function () {\r\n    var button, myself = this;\r\n\r\n    if (this.rotationButton) {\r\n        this.rotationButton.destroy();\r\n        this.roationButton = null;\r\n    }\r\n    if (!this.object.anchor) {\r\n        return;\r\n    }\r\n\r\n    button = new ToggleButtonMorph(\r\n        null, // colors,\r\n        null, // target\r\n        function () {\r\n            myself.object.rotatesWithAnchor =\r\n                !myself.object.rotatesWithAnchor;\r\n        },\r\n        [\r\n            '\\u2192',\r\n            '\\u21BB'\r\n        ],\r\n        function () {  // query\r\n            return myself.object.rotatesWithAnchor;\r\n        }\r\n    );\r\n\r\n    button.corner = 8;\r\n    button.labelMinExtent = new Point(11, 11);\r\n    button.padding = 0;\r\n    button.pressColor = button.color;\r\n    button.drawNew();\r\n    // button.hint = 'rotate synchronously\\nwith anchor';\r\n    button.fixLayout();\r\n    button.refresh();\r\n    button.changed();\r\n    this.rotationButton = button;\r\n    this.add(this.rotationButton);\r\n};\r\n\r\n// SpriteIconMorph stepping\r\n\r\nSpriteIconMorph.prototype.step = function () {\r\n    if (this.version !== this.object.version) {\r\n        this.createThumbnail();\r\n        this.createLabel();\r\n        this.fixLayout();\r\n        this.version = this.object.version;\r\n        this.refresh();\r\n    }\r\n};\r\n\r\n// SpriteIconMorph layout\r\n\r\nSpriteIconMorph.prototype.fixLayout = function () {\r\n    if (!this.thumbnail || !this.label) {return null; }\r\n\r\n    this.setWidth(\r\n        this.thumbnail.width()\r\n            + this.outline * 2\r\n            + this.edge * 2\r\n            + this.padding * 2\r\n    );\r\n\r\n    this.setHeight(\r\n        this.thumbnail.height()\r\n            + this.outline * 2\r\n            + this.edge * 2\r\n            + this.padding * 3\r\n            + this.label.height()\r\n    );\r\n\r\n    this.thumbnail.setCenter(this.center());\r\n    this.thumbnail.setTop(\r\n        this.top() + this.outline + this.edge + this.padding\r\n    );\r\n\r\n    if (this.rotationButton) {\r\n        this.rotationButton.setTop(this.top());\r\n        this.rotationButton.setRight(this.right());\r\n    }\r\n\r\n    this.label.setWidth(\r\n        Math.min(\r\n            this.label.children[0].width(), // the actual text\r\n            this.thumbnail.width()\r\n        )\r\n    );\r\n    this.label.setCenter(this.center());\r\n    this.label.setTop(\r\n        this.thumbnail.bottom() + this.padding\r\n    );\r\n};\r\n\r\n// SpriteIconMorph menu\r\n\r\nSpriteIconMorph.prototype.userMenu = function () {\r\n    var menu = new MenuMorph(this),\r\n        myself = this;\r\n    if (this.object instanceof StageMorph) {\r\n        menu.addItem(\r\n            'pic...',\r\n            function () {\r\n                var ide = myself.parentThatIsA(IDE_Morph);\r\n                ide.saveCanvasAs(\r\n                    myself.object.fullImageClassic(),\r\n                    this.object.name\r\n                );\r\n            },\r\n            'open a new window\\nwith a picture of the stage'\r\n        );\r\n        return menu;\r\n    }\r\n    if (!(this.object instanceof SpriteMorph)) {return null; }\r\n    menu.addItem(\"show\", 'showSpriteOnStage');\r\n    menu.addLine();\r\n    menu.addItem(\"duplicate\", 'duplicateSprite');\r\n    if (StageMorph.prototype.enableInheritance) {\r\n        menu.addItem(\"clone\", 'instantiateSprite');\r\n    }\r\n    menu.addItem(\"delete\", 'removeSprite');\r\n    menu.addLine();\r\n    if (StageMorph.prototype.enableInheritance) {\r\n        \r\n        menu.addItem(\"parent...\", 'chooseExemplar');\r\n        if (this.object.exemplar) {\r\n            menu.addItem(\r\n                \"release\",\r\n                'releaseSprite',\r\n                'make temporary and\\nhide in the sprite corral'\r\n            );\r\n        }\r\n    }\r\n    if (this.object.anchor) {\r\n        menu.addItem(\r\n            localize('detach from') + ' ' + this.object.anchor.name,\r\n            function () {myself.object.detachFromAnchor(); }\r\n        );\r\n    }\r\n    if (this.object.parts.length) {\r\n        menu.addItem(\r\n            'detach all parts',\r\n            function () {myself.object.detachAllParts(); }\r\n        );\r\n    }\r\n    menu.addItem(\"export...\", 'exportSprite');\r\n    return menu;\r\n};\r\n\r\nSpriteIconMorph.prototype.duplicateSprite = function () {\r\n    var ide = this.parentThatIsA(IDE_Morph);\r\n    if (ide) {\r\n        ide.duplicateSprite(this.object);\r\n    }\r\n};\r\n\r\nSpriteIconMorph.prototype.instantiateSprite = function () {\r\n    var ide = this.parentThatIsA(IDE_Morph);\r\n    if (ide) {\r\n        ide.instantiateSprite(this.object);\r\n    }\r\n};\r\n\r\nSpriteIconMorph.prototype.removeSprite = function () {\r\n    var ide = this.parentThatIsA(IDE_Morph);\r\n    if (ide) {\r\n        ide.removeSprite(this.object);\r\n    }\r\n};\r\n\r\nSpriteIconMorph.prototype.exportSprite = function () {\r\n    this.object.exportSprite();\r\n};\r\n\r\nSpriteIconMorph.prototype.chooseExemplar = function () {\r\n    this.object.chooseExemplar();\r\n};\r\n\r\nSpriteIconMorph.prototype.releaseSprite = function () {\r\n    this.object.release();\r\n};\r\n\r\nSpriteIconMorph.prototype.showSpriteOnStage = function () {\r\n    this.object.showOnStage();\r\n};\r\n\r\n// SpriteIconMorph events\r\n\r\nSpriteIconMorph.prototype.mouseDoubleClick = function () {\r\n\tif (this.object instanceof SpriteMorph) {\r\n    \tthis.object.flash();\r\n    }\r\n};\r\n\r\n// SpriteIconMorph drawing\r\n\r\nSpriteIconMorph.prototype.createBackgrounds = function () {\r\n//    only draw the edges if I am selected\r\n    var context,\r\n        ext = this.extent();\r\n\r\n    if (this.template) { // take the backgrounds images from the template\r\n        this.image = this.template.image;\r\n        this.normalImage = this.template.normalImage;\r\n        this.highlightImage = this.template.highlightImage;\r\n        this.pressImage = this.template.pressImage;\r\n        return null;\r\n    }\r\n\r\n    this.normalImage = newCanvas(ext);\r\n    context = this.normalImage.getContext('2d');\r\n    this.drawBackground(context, this.color);\r\n\r\n    this.highlightImage = newCanvas(ext);\r\n    context = this.highlightImage.getContext('2d');\r\n    this.drawBackground(context, this.highlightColor);\r\n\r\n    this.pressImage = newCanvas(ext);\r\n    context = this.pressImage.getContext('2d');\r\n    this.drawOutline(context);\r\n    this.drawBackground(context, this.pressColor);\r\n    this.drawEdges(\r\n        context,\r\n        this.pressColor,\r\n        this.pressColor.lighter(this.contrast),\r\n        this.pressColor.darker(this.contrast)\r\n    );\r\n\r\n    this.image = this.normalImage;\r\n};\r\n\r\n// SpriteIconMorph drag & drop\r\n\r\nSpriteIconMorph.prototype.prepareToBeGrabbed = function () {\r\n    var ide = this.parentThatIsA(IDE_Morph),\r\n        idx;\r\n    this.mouseClickLeft(); // select me\r\n    this.alpha = 0.85;\r\n    if (ide) {\r\n        idx = ide.sprites.asArray().indexOf(this.object);\r\n        ide.sprites.remove(idx + 1);\r\n        ide.createCorral();\r\n        ide.fixLayout();\r\n    }\r\n};\r\n\r\nSpriteIconMorph.prototype.justDropped = function () {\r\n    this.alpha = 1;\r\n};\r\n\r\nSpriteIconMorph.prototype.wantsDropOf = function (morph) {\r\n    // allow scripts & media to be copied from one sprite to another\r\n    // by drag & drop\r\n    return morph instanceof BlockMorph\r\n        || (morph instanceof CostumeIconMorph)\r\n        || (morph instanceof SoundIconMorph);\r\n};\r\n\r\nSpriteIconMorph.prototype.reactToDropOf = function (morph, hand) {\r\n    if (morph instanceof BlockMorph) {\r\n        this.copyStack(morph);\r\n    } else if (morph instanceof CostumeIconMorph) {\r\n        this.copyCostume(morph.object);\r\n    } else if (morph instanceof SoundIconMorph) {\r\n        this.copySound(morph.object);\r\n    }\r\n    this.world().add(morph);\r\n    morph.slideBackTo(hand.grabOrigin);\r\n};\r\n\r\nSpriteIconMorph.prototype.copyStack = function (block) {\r\n    var sprite = this.object,\r\n    \tdup = block.fullCopy(),\r\n        y = Math.max(sprite.scripts.children.map(function (stack) {\r\n            return stack.fullBounds().bottom();\r\n        }).concat([sprite.scripts.top()]));\r\n\r\n    dup.setPosition(new Point(sprite.scripts.left() + 20, y + 20));\r\n    sprite.scripts.add(dup);\r\n    dup.allComments().forEach(function (comment) {\r\n        comment.align(dup);\r\n    });\r\n    sprite.scripts.adjustBounds();\r\n\r\n    // delete all local custom blocks (methods) that the receiver\r\n    // doesn't understand\r\n    dup.allChildren().forEach(function (morph) {\r\n\t    if (morph.isCustomBlock &&\r\n        \t\t!morph.isGlobal &&\r\n        \t\t!sprite.getMethod(morph.blockSpec)\r\n        ) {\r\n            morph.deleteBlock();\r\n        }\r\n    });\r\n};\r\n\r\nSpriteIconMorph.prototype.copyCostume = function (costume) {\r\n    var dup = costume.copy();\r\n    dup.name = this.object.newCostumeName(dup.name);\r\n    this.object.addCostume(dup);\r\n    this.object.wearCostume(dup);\r\n};\r\n\r\nSpriteIconMorph.prototype.copySound = function (sound) {\r\n    var dup = sound.copy();\r\n    this.object.addSound(dup.audio, dup.name);\r\n};\r\n\r\n// CostumeIconMorph ////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a selectable element in the SpriteEditor's \"Costumes\" tab, keeping\r\n    a self-updating thumbnail of the costume I'm respresenting, and a\r\n    self-updating label of the costume's name (in case it is changed\r\n    elsewhere)\r\n*/\r\n\r\n// CostumeIconMorph inherits from ToggleButtonMorph (Widgets)\r\n// ... and copies methods from SpriteIconMorph\r\n\r\nCostumeIconMorph.prototype = new ToggleButtonMorph();\r\nCostumeIconMorph.prototype.constructor = CostumeIconMorph;\r\nCostumeIconMorph.uber = ToggleButtonMorph.prototype;\r\n\r\n// CostumeIconMorph settings\r\n\r\nCostumeIconMorph.prototype.thumbSize = new Point(80, 60);\r\nCostumeIconMorph.prototype.labelShadowOffset = null;\r\nCostumeIconMorph.prototype.labelShadowColor = null;\r\nCostumeIconMorph.prototype.labelColor = new Color(255, 255, 255);\r\nCostumeIconMorph.prototype.fontSize = 9;\r\n\r\n// CostumeIconMorph instance creation:\r\n\r\nfunction CostumeIconMorph(aCostume, aTemplate) {\r\n    this.init(aCostume, aTemplate);\r\n}\r\n\r\nCostumeIconMorph.prototype.init = function (aCostume, aTemplate) {\r\n    var colors, action, query, myself = this;\r\n\r\n    if (!aTemplate) {\r\n        colors = [\r\n            IDE_Morph.prototype.groupColor,\r\n            IDE_Morph.prototype.frameColor,\r\n            IDE_Morph.prototype.frameColor\r\n        ];\r\n\r\n    }\r\n\r\n    action = function () {\r\n        // make my costume the current one\r\n        var ide = myself.parentThatIsA(IDE_Morph),\r\n            wardrobe = myself.parentThatIsA(WardrobeMorph);\r\n\r\n        if (ide) {\r\n            ide.currentSprite.wearCostume(myself.object);\r\n        }\r\n        if (wardrobe) {\r\n            wardrobe.updateSelection();\r\n        }\r\n    };\r\n\r\n    query = function () {\r\n        // answer true if my costume is the current one\r\n        var ide = myself.parentThatIsA(IDE_Morph);\r\n\r\n        if (ide) {\r\n            return ide.currentSprite.costume === myself.object;\r\n        }\r\n        return false;\r\n    };\r\n\r\n    // additional properties:\r\n    this.object = aCostume || new Costume(); // mandatory, actually\r\n    this.version = this.object.version;\r\n    this.thumbnail = null;\r\n\r\n    // initialize inherited properties:\r\n    CostumeIconMorph.uber.init.call(\r\n        this,\r\n        colors, // color overrides, <array>: [normal, highlight, pressed]\r\n        null, // target - not needed here\r\n        action, // a toggle function\r\n        this.object.name, // label string\r\n        query, // predicate/selector\r\n        null, // environment\r\n        null, // hint\r\n        aTemplate // optional, for cached background images\r\n    );\r\n\r\n    // override defaults and build additional components\r\n    this.isDraggable = true;\r\n    this.createThumbnail();\r\n    this.padding = 2;\r\n    this.corner = 8;\r\n    this.fixLayout();\r\n    this.fps = 1;\r\n};\r\n\r\nCostumeIconMorph.prototype.createThumbnail = function () {\r\n    var txt;\r\n    SpriteIconMorph.prototype.createThumbnail.call(this);\r\n    if (this.object instanceof SVG_Costume) {\r\n        txt = new StringMorph(\r\n            'svg',\r\n            this.fontSize * 0.8,\r\n            this.fontStyle,\r\n            false,\r\n            false,\r\n            false,\r\n            this.labelShadowOffset,\r\n            this.labelShadowColor,\r\n            this.labelColor\r\n        );\r\n        txt.setBottom(this.thumbnail.bottom());\r\n        this.thumbnail.add(txt);\r\n    }\r\n};\r\n\r\nCostumeIconMorph.prototype.createLabel\r\n    = SpriteIconMorph.prototype.createLabel;\r\n\r\n// CostumeIconMorph stepping\r\n\r\nCostumeIconMorph.prototype.step\r\n    = SpriteIconMorph.prototype.step;\r\n\r\n// CostumeIconMorph layout\r\n\r\nCostumeIconMorph.prototype.fixLayout\r\n    = SpriteIconMorph.prototype.fixLayout;\r\n\r\n// CostumeIconMorph menu\r\n\r\nCostumeIconMorph.prototype.userMenu = function () {\r\n    var menu = new MenuMorph(this);\r\n    if (!(this.object instanceof Costume)) {return null; }\r\n    menu.addItem(\"edit\", \"editCostume\");\r\n    if (this.world().currentKey === 16) { // shift clicked\r\n        menu.addItem(\r\n            'edit rotation point only...',\r\n            'editRotationPointOnly',\r\n            null,\r\n            new Color(100, 0, 0)\r\n        );\r\n    }\r\n    menu.addItem(\"rename\", \"renameCostume\");\r\n    menu.addLine();\r\n    menu.addItem(\"duplicate\", \"duplicateCostume\");\r\n    menu.addItem(\"delete\", \"removeCostume\");\r\n    menu.addLine();\r\n    menu.addItem(\"export\", \"exportCostume\");\r\n    return menu;\r\n};\r\n\r\nCostumeIconMorph.prototype.editCostume = function () {\r\n    this.disinherit();\r\n    if (this.object instanceof SVG_Costume) {\r\n        this.object.editRotationPointOnly(this.world());\r\n    } else {\r\n        this.object.edit(\r\n            this.world(),\r\n            this.parentThatIsA(IDE_Morph),\r\n            false // not a new costume, retain existing rotation center\r\n        );\r\n    }\r\n};\r\n\r\nCostumeIconMorph.prototype.editRotationPointOnly = function () {\r\n    var ide = this.parentThatIsA(IDE_Morph);\r\n    this.object.editRotationPointOnly(this.world());\r\n    ide.hasChangedMedia = true;\r\n};\r\n\r\nCostumeIconMorph.prototype.renameCostume = function () {\r\n    this.disinherit();\r\n    var costume = this.object,\r\n        wardrobe = this.parentThatIsA(WardrobeMorph),\r\n        ide = this.parentThatIsA(IDE_Morph);\r\n    new DialogBoxMorph(\r\n        null,\r\n        function (answer) {\r\n            if (answer && (answer !== costume.name)) {\r\n                costume.name = wardrobe.sprite.newCostumeName(\r\n                    answer,\r\n                    costume\r\n                );\r\n                costume.version = Date.now();\r\n                ide.hasChangedMedia = true;\r\n            }\r\n        }\r\n    ).prompt(\r\n        this.currentSprite instanceof SpriteMorph ?\r\n            'rename costume' : 'rename background',\r\n        costume.name,\r\n        this.world()\r\n    );\r\n};\r\n\r\nCostumeIconMorph.prototype.duplicateCostume = function () {\r\n    var wardrobe = this.parentThatIsA(WardrobeMorph),\r\n        ide = this.parentThatIsA(IDE_Morph),\r\n        newcos = this.object.copy();\r\n    newcos.name = wardrobe.sprite.newCostumeName(newcos.name);\r\n    wardrobe.sprite.addCostume(newcos);\r\n    wardrobe.updateList();\r\n    if (ide) {\r\n        ide.currentSprite.wearCostume(newcos);\r\n    }\r\n};\r\n\r\nCostumeIconMorph.prototype.removeCostume = function () {\r\n    var wardrobe = this.parentThatIsA(WardrobeMorph),\r\n        idx = this.parent.children.indexOf(this),\r\n        off = CamSnapshotDialogMorph.prototype.enableCamera ? 3 : 2,\r\n        ide = this.parentThatIsA(IDE_Morph);\r\n    wardrobe.removeCostumeAt(idx - off); // ignore paintbrush and camera buttons\r\n    if (ide.currentSprite.costume === this.object) {\r\n        ide.currentSprite.wearCostume(null);\r\n    }\r\n};\r\n\r\nCostumeIconMorph.prototype.exportCostume = function () {\r\n    var ide = this.parentThatIsA(IDE_Morph);\r\n    if (this.object instanceof SVG_Costume) {\r\n        // don't show SVG costumes in a new tab (shows text)\r\n        ide.saveFileAs(this.object.contents.src, 'text/svg', this.object.name);\r\n    } else { // rasterized Costume\r\n        ide.saveCanvasAs(this.object.contents, this.object.name);\r\n    }\r\n};\r\n\r\n// CostumeIconMorph drawing\r\n\r\nCostumeIconMorph.prototype.createBackgrounds\r\n    = SpriteIconMorph.prototype.createBackgrounds;\r\n\r\n// CostumeIconMorph inheritance\r\n\r\nCostumeIconMorph.prototype.disinherit = function () {\r\n    var wardrobe = this.parentThatIsA(WardrobeMorph),\r\n        idx = this.parent.children.indexOf(this);\r\n    if (wardrobe.sprite.inheritsAttribute('costumes')) {\r\n        wardrobe.sprite.shadowAttribute('costumes');\r\n        this.object = wardrobe.sprite.costumes.at(idx - 2);\r\n    }\r\n};\r\n\r\n// CostumeIconMorph drag & drop\r\n\r\nCostumeIconMorph.prototype.prepareToBeGrabbed = function () {\r\n    this.disinherit();\r\n    this.mouseClickLeft(); // select me\r\n    this.removeCostume();\r\n};\r\n\r\n// TurtleIconMorph ////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a selectable element in the SpriteEditor's \"Costumes\" tab, keeping\r\n    a thumbnail of the sprite's or stage's default \"Turtle\" costume.\r\n*/\r\n\r\n// TurtleIconMorph inherits from ToggleButtonMorph (Widgets)\r\n// ... and copies methods from SpriteIconMorph\r\n\r\nTurtleIconMorph.prototype = new ToggleButtonMorph();\r\nTurtleIconMorph.prototype.constructor = TurtleIconMorph;\r\nTurtleIconMorph.uber = ToggleButtonMorph.prototype;\r\n\r\n// TurtleIconMorph settings\r\n\r\nTurtleIconMorph.prototype.thumbSize = new Point(80, 60);\r\nTurtleIconMorph.prototype.labelShadowOffset = null;\r\nTurtleIconMorph.prototype.labelShadowColor = null;\r\nTurtleIconMorph.prototype.labelColor = new Color(255, 255, 255);\r\nTurtleIconMorph.prototype.fontSize = 9;\r\n\r\n// TurtleIconMorph instance creation:\r\n\r\nfunction TurtleIconMorph(aSpriteOrStage, aTemplate) {\r\n    this.init(aSpriteOrStage, aTemplate);\r\n}\r\n\r\nTurtleIconMorph.prototype.init = function (aSpriteOrStage, aTemplate) {\r\n    var colors, action, query, myself = this;\r\n\r\n    if (!aTemplate) {\r\n        colors = [\r\n            IDE_Morph.prototype.groupColor,\r\n            IDE_Morph.prototype.frameColor,\r\n            IDE_Morph.prototype.frameColor\r\n        ];\r\n\r\n    }\r\n\r\n    action = function () {\r\n        // make my costume the current one\r\n        var ide = myself.parentThatIsA(IDE_Morph),\r\n            wardrobe = myself.parentThatIsA(WardrobeMorph);\r\n\r\n        if (ide) {\r\n            ide.currentSprite.wearCostume(null);\r\n        }\r\n        if (wardrobe) {\r\n            wardrobe.updateSelection();\r\n        }\r\n    };\r\n\r\n    query = function () {\r\n        // answer true if my costume is the current one\r\n        var ide = myself.parentThatIsA(IDE_Morph);\r\n\r\n        if (ide) {\r\n            return ide.currentSprite.costume === null;\r\n        }\r\n        return false;\r\n    };\r\n\r\n    // additional properties:\r\n    this.object = aSpriteOrStage; // mandatory, actually\r\n    this.version = this.object.version;\r\n    this.thumbnail = null;\r\n\r\n    // initialize inherited properties:\r\n    TurtleIconMorph.uber.init.call(\r\n        this,\r\n        colors, // color overrides, <array>: [normal, highlight, pressed]\r\n        null, // target - not needed here\r\n        action, // a toggle function\r\n        'default', // label string\r\n        query, // predicate/selector\r\n        null, // environment\r\n        null, // hint\r\n        aTemplate // optional, for cached background images\r\n    );\r\n\r\n    // override defaults and build additional components\r\n    this.isDraggable = false;\r\n    this.createThumbnail();\r\n    this.padding = 2;\r\n    this.corner = 8;\r\n    this.fixLayout();\r\n};\r\n\r\nTurtleIconMorph.prototype.createThumbnail = function () {\r\n    var isFlat = MorphicPreferences.isFlat;\r\n\r\n    if (this.thumbnail) {\r\n        this.thumbnail.destroy();\r\n    }\r\n    if (this.object instanceof SpriteMorph) {\r\n        this.thumbnail = new SymbolMorph(\r\n            'turtle',\r\n            this.thumbSize.y,\r\n            this.labelColor,\r\n            isFlat ? null : new Point(-1, -1),\r\n            new Color(0, 0, 0)\r\n        );\r\n    } else {\r\n        this.thumbnail = new SymbolMorph(\r\n            'stage',\r\n            this.thumbSize.y,\r\n            this.labelColor,\r\n            isFlat ? null : new Point(-1, -1),\r\n            new Color(0, 0, 0)\r\n        );\r\n    }\r\n    this.add(this.thumbnail);\r\n};\r\n\r\nTurtleIconMorph.prototype.createLabel = function () {\r\n    var txt;\r\n\r\n    if (this.label) {\r\n        this.label.destroy();\r\n    }\r\n    txt = new StringMorph(\r\n        localize(\r\n            this.object instanceof SpriteMorph ? 'Turtle' : 'Empty'\r\n        ),\r\n        this.fontSize,\r\n        this.fontStyle,\r\n        true,\r\n        false,\r\n        false,\r\n        this.labelShadowOffset,\r\n        this.labelShadowColor,\r\n        this.labelColor\r\n    );\r\n\r\n    this.label = new FrameMorph();\r\n    this.label.acceptsDrops = false;\r\n    this.label.alpha = 0;\r\n    this.label.setExtent(txt.extent());\r\n    txt.setPosition(this.label.position());\r\n    this.label.add(txt);\r\n    this.add(this.label);\r\n};\r\n\r\n// TurtleIconMorph layout\r\n\r\nTurtleIconMorph.prototype.fixLayout\r\n    = SpriteIconMorph.prototype.fixLayout;\r\n\r\n// TurtleIconMorph drawing\r\n\r\nTurtleIconMorph.prototype.createBackgrounds\r\n    = SpriteIconMorph.prototype.createBackgrounds;\r\n\r\n// TurtleIconMorph user menu\r\n\r\nTurtleIconMorph.prototype.userMenu = function () {\r\n    var myself = this,\r\n        menu = new MenuMorph(this, 'pen'),\r\n        on = '\\u25CF',\r\n        off = '\\u25CB';\r\n    if (this.object instanceof StageMorph) {\r\n        return null;\r\n    }\r\n    menu.addItem(\r\n        (this.object.penPoint === 'tip' ? on : off) + ' ' + localize('tip'),\r\n        function () {\r\n            myself.object.penPoint = 'tip';\r\n            myself.object.changed();\r\n            myself.object.drawNew();\r\n            myself.object.changed();\r\n        }\r\n    );\r\n    menu.addItem(\r\n        (this.object.penPoint === 'middle' ? on : off) + ' ' + localize(\r\n            'middle'\r\n        ),\r\n        function () {\r\n            myself.object.penPoint = 'middle';\r\n            myself.object.changed();\r\n            myself.object.drawNew();\r\n            myself.object.changed();\r\n        }\r\n    );\r\n    return menu;\r\n};\r\n\r\n// WardrobeMorph ///////////////////////////////////////////////////////\r\n\r\n// I am a watcher on a sprite's costume list\r\n\r\n// WardrobeMorph inherits from ScrollFrameMorph\r\n\r\nWardrobeMorph.prototype = new ScrollFrameMorph();\r\nWardrobeMorph.prototype.constructor = WardrobeMorph;\r\nWardrobeMorph.uber = ScrollFrameMorph.prototype;\r\n\r\n// WardrobeMorph settings\r\n\r\n// ... to follow ...\r\n\r\n// WardrobeMorph instance creation:\r\n\r\nfunction WardrobeMorph(aSprite, sliderColor) {\r\n    this.init(aSprite, sliderColor);\r\n}\r\n\r\nWardrobeMorph.prototype.init = function (aSprite, sliderColor) {\r\n    // additional properties\r\n    this.sprite = aSprite || new SpriteMorph();\r\n    this.costumesVersion = null;\r\n    this.spriteVersion = null;\r\n\r\n    // initialize inherited properties\r\n    WardrobeMorph.uber.init.call(this, null, null, sliderColor);\r\n\r\n    // configure inherited properties\r\n    this.fps = 2;\r\n    this.updateList();\r\n};\r\n\r\n// Wardrobe updating\r\n\r\nWardrobeMorph.prototype.updateList = function () {\r\n    var myself = this,\r\n        x = this.left() + 5,\r\n        y = this.top() + 5,\r\n        padding = 4,\r\n        toolsPadding = 5,\r\n        oldFlag = Morph.prototype.trackChanges,\r\n        oldPos = this.contents.position(),\r\n        icon,\r\n        template,\r\n        txt,\r\n        paintbutton,\r\n        cambutton;\r\n\r\n    this.changed();\r\n    oldFlag = Morph.prototype.trackChanges;\r\n    Morph.prototype.trackChanges = false;\r\n\r\n    this.contents.destroy();\r\n    this.contents = new FrameMorph(this);\r\n    this.contents.acceptsDrops = false;\r\n    this.contents.reactToDropOf = function (icon) {\r\n        myself.reactToDropOf(icon);\r\n    };\r\n    this.addBack(this.contents);\r\n\r\n    icon = new TurtleIconMorph(this.sprite);\r\n    icon.setPosition(new Point(x, y));\r\n    myself.addContents(icon);\r\n    y = icon.bottom() + padding;\r\n\r\n    paintbutton = new PushButtonMorph(\r\n        this,\r\n        \"paintNew\",\r\n        new SymbolMorph(\"brush\", 15)\r\n    );\r\n    paintbutton.padding = 0;\r\n    paintbutton.corner = 12;\r\n    paintbutton.color = IDE_Morph.prototype.groupColor;\r\n    paintbutton.highlightColor = IDE_Morph.prototype.frameColor.darker(50);\r\n    paintbutton.pressColor = paintbutton.highlightColor;\r\n    paintbutton.labelMinExtent = new Point(36, 18);\r\n    paintbutton.labelShadowOffset = new Point(-1, -1);\r\n    paintbutton.labelShadowColor = paintbutton.highlightColor;\r\n    paintbutton.labelColor = TurtleIconMorph.prototype.labelColor;\r\n    paintbutton.contrast = this.buttonContrast;\r\n    paintbutton.drawNew();\r\n    paintbutton.hint = \"Paint a new costume\";\r\n    paintbutton.setPosition(new Point(x, y));\r\n    paintbutton.fixLayout();\r\n    paintbutton.setCenter(icon.center());\r\n    paintbutton.setLeft(icon.right() + padding * 4);\r\n\r\n    this.addContents(paintbutton);\r\n\r\n    if (CamSnapshotDialogMorph.prototype.enableCamera) {\r\n        cambutton = new PushButtonMorph(\r\n            this,\r\n            \"newFromCam\",\r\n            new SymbolMorph(\"camera\", 15)\r\n            );\r\n        cambutton.padding = 0;\r\n        cambutton.corner = 12;\r\n        cambutton.color = IDE_Morph.prototype.groupColor;\r\n        cambutton.highlightColor = IDE_Morph.prototype.frameColor.darker(50);\r\n        cambutton.pressColor = paintbutton.highlightColor;\r\n        cambutton.labelMinExtent = new Point(36, 18);\r\n        cambutton.labelShadowOffset = new Point(-1, -1);\r\n        cambutton.labelShadowColor = paintbutton.highlightColor;\r\n        cambutton.labelColor = TurtleIconMorph.prototype.labelColor;\r\n        cambutton.contrast = this.buttonContrast;\r\n        cambutton.drawNew();\r\n        cambutton.hint = \"Import a new costume from your webcam\";\r\n        cambutton.setPosition(new Point(x, y));\r\n        cambutton.fixLayout();\r\n        cambutton.setCenter(paintbutton.center());\r\n        cambutton.setLeft(paintbutton.right() + toolsPadding);\r\n\r\n        this.addContents(cambutton);\r\n\r\n        if (!CamSnapshotDialogMorph.prototype.enabled) {\r\n            cambutton.disable();\r\n            cambutton.hint = CamSnapshotDialogMorph.prototype.notSupportedMessage;\r\n        }\r\n\r\n        document.addEventListener(\r\n            'cameraDisabled',\r\n            function () {\r\n                cambutton.disable();\r\n                cambutton.hint =\r\n                    CamSnapshotDialogMorph.prototype.notSupportedMessage;\r\n            }\r\n        );\r\n    }\r\n\r\n    txt = new TextMorph(localize(\r\n        \"costumes tab help\" // look up long string in translator\r\n    ));\r\n    txt.fontSize = 9;\r\n    txt.setColor(SpriteMorph.prototype.paletteTextColor);\r\n\r\n    txt.setPosition(new Point(x, y));\r\n    this.addContents(txt);\r\n    y = txt.bottom() + padding;\r\n\r\n    this.sprite.costumes.asArray().forEach(function (costume) {\r\n        template = icon = new CostumeIconMorph(costume, template);\r\n        icon.setPosition(new Point(x, y));\r\n        myself.addContents(icon);\r\n        y = icon.bottom() + padding;\r\n    });\r\n    this.costumesVersion = this.sprite.costumes.lastChanged;\r\n\r\n    this.contents.setPosition(oldPos);\r\n    this.adjustScrollBars();\r\n    Morph.prototype.trackChanges = oldFlag;\r\n    this.changed();\r\n\r\n    this.updateSelection();\r\n};\r\n\r\nWardrobeMorph.prototype.updateSelection = function () {\r\n    this.contents.children.forEach(function (morph) {\r\n        if (morph.refresh) {morph.refresh(); }\r\n    });\r\n    this.spriteVersion = this.sprite.version;\r\n};\r\n\r\n// Wardrobe stepping\r\n\r\nWardrobeMorph.prototype.step = function () {\r\n    if (this.costumesVersion !== this.sprite.costumes.lastChanged) {\r\n        this.updateList();\r\n    }\r\n    if (this.spriteVersion !== this.sprite.version) {\r\n        this.updateSelection();\r\n    }\r\n};\r\n\r\n// Wardrobe ops\r\n\r\nWardrobeMorph.prototype.removeCostumeAt = function (idx) {\r\n    this.sprite.shadowAttribute('costumes');\r\n    this.sprite.costumes.remove(idx);\r\n    this.updateList();\r\n};\r\n\r\nWardrobeMorph.prototype.paintNew = function () {\r\n    var cos = new Costume(\r\n            newCanvas(null, true),\r\n            this.sprite.newCostumeName(localize('Untitled'))\r\n        ),\r\n        ide = this.parentThatIsA(IDE_Morph),\r\n        myself = this;\r\n    cos.edit(this.world(), ide, true, null, function () {\r\n        myself.sprite.shadowAttribute('costumes');\r\n        myself.sprite.addCostume(cos);\r\n        myself.updateList();\r\n        if (ide) {\r\n            ide.currentSprite.wearCostume(cos);\r\n        }\r\n    });\r\n};\r\n\r\nWardrobeMorph.prototype.newFromCam = function () {\r\n    var camDialog,\r\n        ide = this.parentThatIsA(IDE_Morph),\r\n        myself = this,\r\n        sprite = this.sprite;\r\n\r\n    camDialog = new CamSnapshotDialogMorph(\r\n        ide,\r\n        sprite,\r\n        nop,\r\n        function (costume) {\r\n            sprite.addCostume(costume);\r\n            sprite.wearCostume(costume);\r\n            myself.updateList();\r\n        });\r\n\r\n    camDialog.popUp(this.world());\r\n};\r\n\r\n// Wardrobe drag & drop\r\n\r\nWardrobeMorph.prototype.wantsDropOf = function (morph) {\r\n    return morph instanceof CostumeIconMorph;\r\n};\r\n\r\nWardrobeMorph.prototype.reactToDropOf = function (icon) {\r\n    var idx = 0,\r\n        costume = icon.object,\r\n        top = icon.top();\r\n\r\n    icon.destroy();\r\n    this.contents.children.forEach(function (item) {\r\n        if (item instanceof CostumeIconMorph && item.top() < top - 4) {\r\n            idx += 1;\r\n        }\r\n    });\r\n    this.sprite.shadowAttribute('costumes');\r\n    this.sprite.costumes.add(costume, idx + 1);\r\n    this.updateList();\r\n    icon.mouseClickLeft(); // select\r\n};\r\n\r\n// SoundIconMorph ///////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am an element in the SpriteEditor's \"Sounds\" tab.\r\n*/\r\n\r\n// SoundIconMorph inherits from ToggleButtonMorph (Widgets)\r\n// ... and copies methods from SpriteIconMorph\r\n\r\nSoundIconMorph.prototype = new ToggleButtonMorph();\r\nSoundIconMorph.prototype.constructor = SoundIconMorph;\r\nSoundIconMorph.uber = ToggleButtonMorph.prototype;\r\n\r\n// SoundIconMorph settings\r\n\r\nSoundIconMorph.prototype.thumbSize = new Point(80, 60);\r\nSoundIconMorph.prototype.labelShadowOffset = null;\r\nSoundIconMorph.prototype.labelShadowColor = null;\r\nSoundIconMorph.prototype.labelColor = new Color(255, 255, 255);\r\nSoundIconMorph.prototype.fontSize = 9;\r\n\r\n// SoundIconMorph instance creation:\r\n\r\nfunction SoundIconMorph(aSound, aTemplate) {\r\n    this.init(aSound, aTemplate);\r\n}\r\n\r\nSoundIconMorph.prototype.init = function (aSound, aTemplate) {\r\n    var colors, action, query;\r\n\r\n    if (!aTemplate) {\r\n        colors = [\r\n            IDE_Morph.prototype.groupColor,\r\n            IDE_Morph.prototype.frameColor,\r\n            IDE_Morph.prototype.frameColor\r\n        ];\r\n\r\n    }\r\n\r\n    action = function () {\r\n        nop(); // When I am selected (which is never the case for sounds)\r\n    };\r\n\r\n    query = function () {\r\n        return false;\r\n    };\r\n\r\n    // additional properties:\r\n    this.object = aSound; // mandatory, actually\r\n    this.version = this.object.version;\r\n    this.thumbnail = null;\r\n\r\n    // initialize inherited properties:\r\n    SoundIconMorph.uber.init.call(\r\n        this,\r\n        colors, // color overrides, <array>: [normal, highlight, pressed]\r\n        null, // target - not needed here\r\n        action, // a toggle function\r\n        this.object.name, // label string\r\n        query, // predicate/selector\r\n        null, // environment\r\n        null, // hint\r\n        aTemplate // optional, for cached background images\r\n    );\r\n\r\n    // override defaults and build additional components\r\n    this.isDraggable = true;\r\n    this.createThumbnail();\r\n    this.padding = 2;\r\n    this.corner = 8;\r\n    this.fixLayout();\r\n    this.fps = 1;\r\n};\r\n\r\nSoundIconMorph.prototype.createThumbnail = function () {\r\n    var label;\r\n    if (this.thumbnail) {\r\n        this.thumbnail.destroy();\r\n    }\r\n    this.thumbnail = new Morph();\r\n    this.thumbnail.setExtent(this.thumbSize);\r\n    this.add(this.thumbnail);\r\n    label = new StringMorph(\r\n        this.createInfo(),\r\n        '16',\r\n        '',\r\n        true,\r\n        false,\r\n        false,\r\n        this.labelShadowOffset,\r\n        this.labelShadowColor,\r\n        new Color(200, 200, 200)\r\n    );\r\n    this.thumbnail.add(label);\r\n    label.setCenter(new Point(40, 15));\r\n\r\n    this.button = new PushButtonMorph(\r\n        this,\r\n        'toggleAudioPlaying',\r\n        (this.object.previewAudio ? 'Stop' : 'Play')\r\n    );\r\n    this.button.drawNew();\r\n    this.button.hint = 'Play sound';\r\n    this.button.fixLayout();\r\n    this.thumbnail.add(this.button);\r\n    this.button.setCenter(new Point(40, 40));\r\n};\r\n\r\nSoundIconMorph.prototype.createInfo = function () {\r\n    var dur = Math.round(this.object.audio.duration || 0),\r\n        mod = dur % 60;\r\n    return Math.floor(dur / 60).toString()\r\n            + \":\"\r\n            + (mod < 10 ? \"0\" : \"\")\r\n            + mod.toString();\r\n};\r\n\r\nSoundIconMorph.prototype.toggleAudioPlaying = function () {\r\n    var myself = this;\r\n    if (!this.object.previewAudio) {\r\n        //Audio is not playing\r\n        this.button.labelString = 'Stop';\r\n        this.button.hint = 'Stop sound';\r\n        this.object.previewAudio = this.object.play();\r\n        this.object.previewAudio.addEventListener('ended', function () {\r\n            myself.audioHasEnded();\r\n        }, false);\r\n    } else {\r\n        //Audio is currently playing\r\n        this.button.labelString = 'Play';\r\n        this.button.hint = 'Play sound';\r\n        this.object.previewAudio.pause();\r\n        this.object.previewAudio.terminated = true;\r\n        this.object.previewAudio = null;\r\n    }\r\n    this.button.createLabel();\r\n};\r\n\r\nSoundIconMorph.prototype.audioHasEnded = function () {\r\n    this.button.trigger();\r\n    this.button.mouseLeave();\r\n};\r\n\r\nSoundIconMorph.prototype.createLabel\r\n    = SpriteIconMorph.prototype.createLabel;\r\n\r\n// SoundIconMorph layout\r\n\r\nSoundIconMorph.prototype.fixLayout\r\n    = SpriteIconMorph.prototype.fixLayout;\r\n\r\n// SoundIconMorph menu\r\n\r\nSoundIconMorph.prototype.userMenu = function () {\r\n    var menu = new MenuMorph(this);\r\n    if (!(this.object instanceof Sound)) { return null; }\r\n    menu.addItem('rename', 'renameSound');\r\n    menu.addItem('delete', 'removeSound');\r\n    return menu;\r\n};\r\n\r\n\r\nSoundIconMorph.prototype.renameSound = function () {\r\n    var sound = this.object,\r\n        ide = this.parentThatIsA(IDE_Morph),\r\n        myself = this;\r\n    this.disinherit();\r\n    (new DialogBoxMorph(\r\n        null,\r\n        function (answer) {\r\n            if (answer && (answer !== sound.name)) {\r\n                sound.name = answer;\r\n                sound.version = Date.now();\r\n                myself.createLabel(); // can be omitted once I'm stepping\r\n                myself.fixLayout(); // can be omitted once I'm stepping\r\n                ide.hasChangedMedia = true;\r\n            }\r\n        }\r\n    )).prompt(\r\n        'rename sound',\r\n        sound.name,\r\n        this.world()\r\n    );\r\n};\r\n\r\nSoundIconMorph.prototype.removeSound = function () {\r\n    var jukebox = this.parentThatIsA(JukeboxMorph),\r\n        idx = this.parent.children.indexOf(this);\r\n    jukebox.removeSound(idx);\r\n};\r\n\r\nSoundIconMorph.prototype.createBackgrounds\r\n    = SpriteIconMorph.prototype.createBackgrounds;\r\n\r\nSoundIconMorph.prototype.createLabel\r\n    = SpriteIconMorph.prototype.createLabel;\r\n\r\n// SoundIconMorph inheritance\r\n\r\nSoundIconMorph.prototype.disinherit = function () {\r\n    var jukebox = this.parentThatIsA(JukeboxMorph),\r\n        idx = this.parent.children.indexOf(this);\r\n    if (jukebox.sprite.inheritsAttribute('sounds')) {\r\n        jukebox.sprite.shadowAttribute('sounds');\r\n        this.object = jukebox.sprite.sounds.at(idx);\r\n    }\r\n};\r\n\r\n// SoundIconMorph drag & drop\r\n\r\nSoundIconMorph.prototype.prepareToBeGrabbed = function () {\r\n    this.disinherit();\r\n    this.removeSound();\r\n};\r\n\r\n// JukeboxMorph /////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am JukeboxMorph, like WardrobeMorph, but for sounds\r\n*/\r\n\r\n// JukeboxMorph instance creation\r\n\r\nJukeboxMorph.prototype = new ScrollFrameMorph();\r\nJukeboxMorph.prototype.constructor = JukeboxMorph;\r\nJukeboxMorph.uber = ScrollFrameMorph.prototype;\r\n\r\nfunction JukeboxMorph(aSprite, sliderColor) {\r\n    this.init(aSprite, sliderColor);\r\n}\r\n\r\nJukeboxMorph.prototype.init = function (aSprite, sliderColor) {\r\n    // additional properties\r\n    this.sprite = aSprite || new SpriteMorph();\r\n    this.soundsVersion = null;\r\n    this.spriteVersion = null;\r\n\r\n    // initialize inherited properties\r\n    JukeboxMorph.uber.init.call(this, null, null, sliderColor);\r\n\r\n    // configure inherited properties\r\n    this.acceptsDrops = false;\r\n    this.fps = 2;\r\n    this.updateList();\r\n};\r\n\r\n// Jukebox updating\r\n\r\nJukeboxMorph.prototype.updateList = function () {\r\n    var myself = this,\r\n        x = this.left() + 5,\r\n        y = this.top() + 5,\r\n        padding = 4,\r\n        oldFlag = Morph.prototype.trackChanges,\r\n        icon,\r\n        template,\r\n        txt;\r\n\r\n    this.changed();\r\n    oldFlag = Morph.prototype.trackChanges;\r\n    Morph.prototype.trackChanges = false;\r\n\r\n    this.contents.destroy();\r\n    this.contents = new FrameMorph(this);\r\n    this.contents.acceptsDrops = false;\r\n    this.contents.reactToDropOf = function (icon) {\r\n        myself.reactToDropOf(icon);\r\n    };\r\n    this.addBack(this.contents);\r\n\r\n    txt = new TextMorph(localize(\r\n        'import a sound from your computer\\nby dragging it into here'\r\n    ));\r\n    txt.fontSize = 9;\r\n    txt.setColor(SpriteMorph.prototype.paletteTextColor);\r\n    txt.setPosition(new Point(x, y));\r\n    this.addContents(txt);\r\n    y = txt.bottom() + padding;\r\n\r\n    this.sprite.sounds.asArray().forEach(function (sound) {\r\n        template = icon = new SoundIconMorph(sound, template);\r\n        icon.setPosition(new Point(x, y));\r\n        myself.addContents(icon);\r\n        y = icon.bottom() + padding;\r\n    });\r\n    this.soundsVersion = this.sprite.costumes.lastChanged;\r\n\r\n    Morph.prototype.trackChanges = oldFlag;\r\n    this.changed();\r\n\r\n    this.updateSelection();\r\n};\r\n\r\nJukeboxMorph.prototype.updateSelection = function () {\r\n    this.contents.children.forEach(function (morph) {\r\n        if (morph.refresh) {morph.refresh(); }\r\n    });\r\n    this.spriteVersion = this.sprite.version;\r\n};\r\n\r\n// Jukebox stepping\r\n\r\nJukeboxMorph.prototype.step = function () {\r\n    if (this.soundsVersion !== this.sprite.sounds.lastChanged) {\r\n        this.updateList();\r\n    }\r\n    if (this.spriteVersion !== this.sprite.version) {\r\n        this.updateSelection();\r\n    }\r\n};\r\n\r\n// Jukebox ops\r\n\r\nJukeboxMorph.prototype.removeSound = function (idx) {\r\n    this.sprite.sounds.remove(idx);\r\n    this.updateList();\r\n};\r\n\r\n// Jukebox drag & drop\r\n\r\nJukeboxMorph.prototype.wantsDropOf = function (morph) {\r\n    return morph instanceof SoundIconMorph;\r\n};\r\n\r\nJukeboxMorph.prototype.reactToDropOf = function (icon) {\r\n    var idx = 0,\r\n        costume = icon.object,\r\n        top = icon.top();\r\n\r\n    icon.destroy();\r\n    this.contents.children.forEach(function (item) {\r\n        if (item.top() < top - 4) {\r\n            idx += 1;\r\n        }\r\n    });\r\n\r\n    this.sprite.shadowAttribute('sounds');\r\n    this.sprite.sounds.add(costume, idx);\r\n    this.updateList();\r\n};\r\n\r\n// StageHandleMorph ////////////////////////////////////////////////////////\r\n\r\n// I am a horizontal resizing handle for a StageMorph\r\n\r\n// StageHandleMorph inherits from Morph:\r\n\r\nStageHandleMorph.prototype = new Morph();\r\nStageHandleMorph.prototype.constructor = StageHandleMorph;\r\nStageHandleMorph.uber = Morph.prototype;\r\n\r\n// StageHandleMorph instance creation:\r\n\r\nfunction StageHandleMorph(target) {\r\n    this.init(target);\r\n}\r\n\r\nStageHandleMorph.prototype.init = function (target) {\r\n    this.target = target || null;\r\n    HandleMorph.uber.init.call(this);\r\n    this.color = MorphicPreferences.isFlat ?\r\n            IDE_Morph.prototype.groupColor : new Color(190, 190, 190);\r\n    this.isDraggable = false;\r\n    this.noticesTransparentClick = true;\r\n    this.setExtent(new Point(12, 50));\r\n};\r\n\r\n// StageHandleMorph drawing:\r\n\r\nStageHandleMorph.prototype.drawNew = function () {\r\n    this.normalImage = newCanvas(this.extent());\r\n    this.highlightImage = newCanvas(this.extent());\r\n    this.drawOnCanvas(\r\n        this.normalImage,\r\n        this.color\r\n    );\r\n    this.drawOnCanvas(\r\n        this.highlightImage,\r\n        MorphicPreferences.isFlat ?\r\n                new Color(245, 245, 255) : new Color(100, 100, 255),\r\n        this.color\r\n    );\r\n    this.image = this.normalImage;\r\n    this.fixLayout();\r\n};\r\n\r\nStageHandleMorph.prototype.drawOnCanvas = function (\r\n    aCanvas,\r\n    color,\r\n    shadowColor\r\n) {\r\n    var context = aCanvas.getContext('2d'),\r\n        l = aCanvas.height / 8,\r\n        w = aCanvas.width / 6,\r\n        r = w / 2,\r\n        x,\r\n        y,\r\n        i;\r\n\r\n    context.lineWidth = w;\r\n    context.lineCap = 'round';\r\n    y = aCanvas.height / 2;\r\n\r\n    context.strokeStyle = color.toString();\r\n    x = aCanvas.width / 12;\r\n    for (i = 0; i < 3; i += 1) {\r\n        if (i > 0) {\r\n            context.beginPath();\r\n            context.moveTo(x, y - (l - r));\r\n            context.lineTo(x, y + (l - r));\r\n            context.stroke();\r\n        }\r\n        x += (w * 2);\r\n        l *= 2;\r\n    }\r\n    if (shadowColor) {\r\n        context.strokeStyle = shadowColor.toString();\r\n        x = aCanvas.width / 12 + w;\r\n        l = aCanvas.height / 8;\r\n        for (i = 0; i < 3; i += 1) {\r\n            if (i > 0) {\r\n                context.beginPath();\r\n                context.moveTo(x, y - (l - r));\r\n                context.lineTo(x, y + (l - r));\r\n                context.stroke();\r\n            }\r\n            x += (w * 2);\r\n            l *= 2;\r\n        }\r\n    }\r\n};\r\n\r\n// StageHandleMorph layout:\r\n\r\nStageHandleMorph.prototype.fixLayout = function () {\r\n    if (!this.target) {return; }\r\n    var ide = this.target.parentThatIsA(IDE_Morph);\r\n    this.setTop(this.target.top() + 10);\r\n    this.setRight(this.target.left());\r\n    if (ide) {ide.add(this); } // come to front\r\n};\r\n\r\n// StageHandleMorph stepping:\r\n\r\nStageHandleMorph.prototype.step = null;\r\n\r\nStageHandleMorph.prototype.mouseDownLeft = function (pos) {\r\n    var world = this.world(),\r\n        offset = this.right() - pos.x,\r\n        myself = this,\r\n        ide = this.target.parentThatIsA(IDE_Morph);\r\n\r\n    if (!this.target) {\r\n        return null;\r\n    }\r\n    ide.isSmallStage = true;\r\n    ide.controlBar.stageSizeButton.refresh();\r\n    this.step = function () {\r\n        var newPos, newWidth;\r\n        if (world.hand.mouseButton) {\r\n            newPos = world.hand.bounds.origin.x + offset;\r\n            newWidth = myself.target.right() - newPos;\r\n            ide.stageRatio = newWidth / myself.target.dimensions.x;\r\n            ide.setExtent(world.extent());\r\n\r\n        } else {\r\n            this.step = null;\r\n            ide.isSmallStage = (ide.stageRatio !== 1);\r\n            ide.controlBar.stageSizeButton.refresh();\r\n        }\r\n    };\r\n};\r\n\r\n// StageHandleMorph events:\r\n\r\nStageHandleMorph.prototype.mouseEnter = function () {\r\n    this.image = this.highlightImage;\r\n    this.changed();\r\n};\r\n\r\nStageHandleMorph.prototype.mouseLeave = function () {\r\n    this.image = this.normalImage;\r\n    this.changed();\r\n};\r\n\r\nStageHandleMorph.prototype.mouseDoubleClick = function () {\r\n    this.target.parentThatIsA(IDE_Morph).toggleStageSize(true, 1);\r\n};\r\n\r\n// PaletteHandleMorph ////////////////////////////////////////////////////////\r\n\r\n// I am a horizontal resizing handle for a blocks palette\r\n// I pseudo-inherit many things from StageHandleMorph\r\n\r\n// PaletteHandleMorph inherits from Morph:\r\n\r\nPaletteHandleMorph.prototype = new Morph();\r\nPaletteHandleMorph.prototype.constructor = PaletteHandleMorph;\r\nPaletteHandleMorph.uber = Morph.prototype;\r\n\r\n// PaletteHandleMorph instance creation:\r\n\r\nfunction PaletteHandleMorph(target) {\r\n    this.init(target);\r\n}\r\n\r\nPaletteHandleMorph.prototype.init = function (target) {\r\n    this.target = target || null;\r\n    HandleMorph.uber.init.call(this);\r\n    this.color = MorphicPreferences.isFlat ?\r\n            new Color(255, 255, 255) : new Color(190, 190, 190);\r\n    this.isDraggable = false;\r\n    this.noticesTransparentClick = true;\r\n    this.setExtent(new Point(12, 50));\r\n};\r\n\r\n// PaletteHandleMorph drawing:\r\n\r\nPaletteHandleMorph.prototype.drawNew =\r\n    StageHandleMorph.prototype.drawNew;\r\n\r\nPaletteHandleMorph.prototype.drawOnCanvas =\r\n    StageHandleMorph.prototype.drawOnCanvas;\r\n\r\n// PaletteHandleMorph layout:\r\n\r\nPaletteHandleMorph.prototype.fixLayout = function () {\r\n    if (!this.target) {return; }\r\n    var ide = this.target.parentThatIsA(IDE_Morph);\r\n    this.setTop(this.target.top() + 10);\r\n    this.setRight(this.target.right());\r\n    if (ide) {ide.add(this); } // come to front\r\n};\r\n\r\n// PaletteHandleMorph stepping:\r\n\r\nPaletteHandleMorph.prototype.step = null;\r\n\r\nPaletteHandleMorph.prototype.mouseDownLeft = function (pos) {\r\n    var world = this.world(),\r\n        offset = this.right() - pos.x,\r\n        ide = this.target.parentThatIsA(IDE_Morph);\r\n\r\n    if (!this.target) {\r\n        return null;\r\n    }\r\n    this.step = function () {\r\n        var newPos;\r\n        if (world.hand.mouseButton) {\r\n            newPos = world.hand.bounds.origin.x + offset;\r\n            ide.paletteWidth = Math.min(\r\n                Math.max(200, newPos),\r\n                ide.stageHandle.left() - ide.spriteBar.tabBar.width()\r\n            );\r\n            ide.setExtent(world.extent());\r\n\r\n        } else {\r\n            this.step = null;\r\n        }\r\n    };\r\n};\r\n\r\n// PaletteHandleMorph events:\r\n\r\nPaletteHandleMorph.prototype.mouseEnter\r\n    = StageHandleMorph.prototype.mouseEnter;\r\n\r\nPaletteHandleMorph.prototype.mouseLeave\r\n    = StageHandleMorph.prototype.mouseLeave;\r\n\r\n//******************* Wiquid *********************************\r\n\r\nPaletteHandleMorph.prototype.mouseDoubleClick = function () {\r\n    \r\n    this.target.parentThatIsA(IDE_Morph).setPaletteWidth(200); //Wiquid Solution\r\n\r\n};\r\n\r\n//************************************************************\r\n\r\n// CamSnapshotDialogMorph inherits from DialogBoxMorph:\r\n\r\nCamSnapshotDialogMorph.prototype = new DialogBoxMorph();\r\nCamSnapshotDialogMorph.prototype.constructor = CamSnapshotDialogMorph;\r\nCamSnapshotDialogMorph.uber = DialogBoxMorph.prototype;\r\n\r\n// CamSnapshotDialogMorph settings\r\n\r\nCamSnapshotDialogMorph.prototype.enableCamera = true; // off while experimental\r\nCamSnapshotDialogMorph.prototype.enabled = true;\r\n\r\nCamSnapshotDialogMorph.prototype.notSupportedMessage =\r\n\t'Please make sure your web browser is up to date\\n' +\r\n\t'and your camera is properly configured. \\n\\n' +\r\n\t'Some browsers also require you to access Snap!\\n' +\r\n\t'through HTTPS to use the camera.\\n\\n' +\r\n    'Plase replace the \"http://\" part of the address\\n' +\r\n    'in your browser by \"https://\" and try again.';\r\n\r\n// CamSnapshotDialogMorph instance creation\r\n\r\nfunction CamSnapshotDialogMorph(ide, sprite, onCancel, onAccept) {\r\n    this.init(ide, sprite, onCancel, onAccept);\r\n}\r\n\r\nCamSnapshotDialogMorph.prototype.init = function (\r\n    ide,\r\n    sprite,\r\n    onCancel,\r\n\tonAccept\r\n) {\r\n    this.ide = ide;\r\n    this.sprite = sprite;\r\n    this.padding = 10;\r\n    this.oncancel = onCancel;\r\n    this.accept = onAccept;\r\n    this.videoElement = null; // an HTML5 video element\r\n    this.videoView = new Morph(); // a morph where we'll copy the video contents\r\n\r\n    CamSnapshotDialogMorph.uber.init.call(this);\r\n    this.labelString = 'Camera';\r\n    this.createLabel();\r\n    this.buildContents();\r\n};\r\n\r\nCamSnapshotDialogMorph.prototype.buildContents = function () {\r\n    var myself = this,\r\n        stage = this.sprite.parentThatIsA(StageMorph);\r\n\r\n\tfunction noCameraSupport() {\r\n        myself.disable();\r\n        myself.ide.inform(\r\n            'Camera not supported',\r\n            CamSnapshotDialogMorph.prototype.notSupportedMessage\r\n        );\r\n        if (myself.videoElement) {\r\n        \tmyself.videoElement.remove();\r\n        }\r\n        myself.cancel();\r\n\t}\r\n\r\n    this.videoElement = document.createElement('video');\r\n    this.videoElement.hidden = true;\r\n    this.videoElement.width = stage.dimensions.x;\r\n    this.videoElement.height = stage.dimensions.y;\r\n\r\n    document.body.appendChild(this.videoElement);\r\n\r\n    if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {\r\n        navigator.mediaDevices.getUserMedia({ video: true })\r\n            .then(function (stream) {\r\n                myself.videoElement.srcObject = stream;\r\n                myself.videoElement.play().catch(noCameraSupport);\r\n                myself.videoElement.stream = stream;\r\n            })\r\n            .catch(noCameraSupport);\r\n    }\r\n\r\n    this.videoView.setExtent(stage.dimensions);\r\n    this.videoView.image = newCanvas(stage.dimensions);\r\n\r\n    this.videoView.drawOn = function (aCanvas) {\r\n        var context = aCanvas.getContext('2d'),\r\n            videoWidth = myself.videoElement.videoWidth,\r\n            videoHeight = myself.videoElement.videoHeight,\r\n            w = stage.dimensions.x,\r\n            h = stage.dimensions.y,\r\n            clippingWidth, clippingHeight;\r\n\r\n        if (!videoWidth) { return; }\r\n\r\n        context.save();\r\n\r\n        // Flip the image so it looks like a mirror\r\n        context.translate(w, 0);\r\n        context.scale(-1, 1);\r\n\r\n        if (videoWidth / w > videoHeight / h) {\r\n            // preserve height, crop width\r\n            clippingWidth = w * (videoHeight / h);\r\n            clippingHeight = videoHeight;\r\n        } else {\r\n            // preserve width, crop height\r\n            clippingWidth = videoWidth;\r\n            clippingHeight = h * (videoWidth / w);\r\n        }\r\n\r\n        context.drawImage(\r\n            myself.videoElement,\r\n            0,\r\n            0,\r\n            clippingWidth,\r\n            clippingHeight,\r\n            this.left() * -1,\r\n            this.top(),\r\n            w,\r\n            h\r\n            );\r\n\r\n        context.restore();\r\n    };\r\n\r\n    this.videoView.step = function () {\r\n        this.changed();\r\n    };\r\n\r\n    this.addBody(new AlignmentMorph('column', this.padding / 2));\r\n    this.body.add(this.videoView);\r\n    this.body.fixLayout();\r\n\r\n    this.addButton('ok', 'Save');\r\n    this.addButton('cancel', 'Cancel');\r\n\r\n    this.fixLayout();\r\n    this.drawNew();\r\n};\r\n\r\nCamSnapshotDialogMorph.prototype.ok = function () {\r\n    this.accept(\r\n        new Costume(\r\n            this.videoView.fullImageClassic(),\r\n            this.sprite.newCostumeName('camera')\r\n        ).flipped()\r\n    );\r\n};\r\n\r\nCamSnapshotDialogMorph.prototype.disable = function () {\r\n    CamSnapshotDialogMorph.prototype.enabled = false;\r\n    document.dispatchEvent(new Event('cameraDisabled'));\r\n};\r\n\r\nCamSnapshotDialogMorph.prototype.destroy = function () {\r\n    this.oncancel.call(this);\r\n    this.close();\r\n};\r\n\r\nCamSnapshotDialogMorph.prototype.close = function () {\r\n    if (this.videoElement && this.videoElement.stream) {\r\n        this.videoElement.stream.getTracks()[0].stop();\r\n        this.videoElement.remove();\r\n    }\r\n    CamSnapshotDialogMorph.uber.destroy.call(this);\r\n};\r\n//fin de GUI.js\r\n/*\r\n    paint.js\r\n\r\n    a paint editor for Snap!\r\n    inspired by the Scratch paint editor.\r\n\r\n    written by Kartik Chandra\r\n    Copyright (C) 2016 by Kartik Chandra\r\n\r\n    This file is part of Snap!.\r\n\r\n    Snap! is free software: you can redistribute it and/or modify\r\n    it under the terms of the GNU Affero General Public License as\r\n    published by the Free Software Foundation, either version 3 of\r\n    the License, or (at your option) any later version.\r\n\r\n    This program is distributed in the hope that it will be useful,\r\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n    GNU Affero General Public License for more details.\r\n\r\n    You should have received a copy of the GNU Affero General Public License\r\n    along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n\r\n\r\n    toc\r\n    ---\r\n    the following list shows the order in which all constructors are\r\n    defined. Use this list to locate code in this document:\r\n\r\n        PaintEditorMorph\r\n        PaintColorPickerMorph\r\n        PaintCanvasMorph\r\n\r\n\r\n    credits\r\n    -------\r\n    Nathan Dinsmore contributed a fully working prototype,\r\n    Nathan's brilliant flood-fill tool has been more or less\r\n    directly imported into this paint implementation.\r\n\r\n    Jens Mönig has contributed icons and bugfixes and says he has probably\r\n    introduced many other bugs in that process. :-)\r\n\r\n\r\n    revision history\r\n    ----------------\r\n    May 10 - first full release (Kartik)\r\n    May 14 - bugfixes, Snap integration (Jens)\r\n    May 16 - flat design adjustments (Jens)\r\n    July 12 - pipette tool, code formatting adjustments (Jens)\r\n    Sept 16 - flood fill freeze fix (Kartik)\r\n    Jan 08 - mouse leave dragging fix (Kartik)\r\n    Feb 11 - dynamically adjust to stage dimensions (Jens)\r\n    Apr 30 - localizations (Manuel)\r\n    June 3 - transformations (Kartik)\r\n    June 4 - tweaks (Jens)\r\n    Aug 24 - floodfill alpha-integer issue (Kartik)\r\n    Sep 29 - tweaks (Jens)\r\n    Sep 28 [of the following year :)] - Try to prevent antialiasing (Kartik)\r\n    Oct 02 - revert disable smoothing (Jens)\r\n    Dec 15 - center rotation point on costume creating (Craxic)\r\n    Jan 18 - avoid pixel collision detection in PaintCanvas (Jens)\r\n    Mar 22 - fixed automatic rotation center point mechanism (Jens)\r\n    May 10 - retina display support adjustments (Jens)\r\n    2017\r\n    April 10 - getGlobalPixelColor adjustment for Chrome & retina (Jens)\r\n*/\r\n\r\n/*global Point, Rectangle, DialogBoxMorph, AlignmentMorph, PushButtonMorph,\r\nColor, SymbolMorph, newCanvas, Morph, TextMorph, Costume, SpriteMorph, nop,\r\nlocalize, InputFieldMorph, SliderMorph, ToggleMorph, ToggleButtonMorph,\r\nBoxMorph, modules, radians, MorphicPreferences, getDocumentPositionOf,\r\nStageMorph, isNil*/\r\n\r\n// Global stuff ////////////////////////////////////////////////////////\r\n\r\nmodules.paint = '2017-April-10';\r\n\r\n// Declarations\r\n\r\nvar PaintEditorMorph;\r\nvar PaintCanvasMorph;\r\nvar PaintColorPickerMorph;\r\n\r\n// PaintEditorMorph //////////////////////////\r\n\r\n// A complete paint editor\r\n\r\nPaintEditorMorph.prototype = new DialogBoxMorph();\r\nPaintEditorMorph.prototype.constructor = PaintEditorMorph;\r\nPaintEditorMorph.uber = DialogBoxMorph.prototype;\r\n\r\nPaintEditorMorph.prototype.padding = 10;\r\n\r\nfunction PaintEditorMorph() {\r\n    this.init();\r\n}\r\n\r\nPaintEditorMorph.prototype.init = function () {\r\n    // additional properties:\r\n    this.paper = null; // paint canvas\r\n    this.oncancel = null;\r\n\r\n    // initialize inherited properties:\r\n    PaintEditorMorph.uber.init.call(this);\r\n\r\n    // override inherited properties:\r\n    this.labelString = \"Paint Editor\";\r\n    this.createLabel();\r\n\r\n    // build contents:\r\n    this.buildContents();\r\n};\r\n\r\nPaintEditorMorph.prototype.buildContents = function () {\r\n    var myself = this;\r\n\r\n    this.paper = new PaintCanvasMorph(function () {return myself.shift; });\r\n    this.paper.setExtent(StageMorph.prototype.dimensions);\r\n\r\n    this.addBody(new AlignmentMorph('row', this.padding));\r\n    this.controls = new AlignmentMorph('column', this.padding / 2);\r\n    this.controls.alignment = 'left';\r\n\r\n    this.edits = new AlignmentMorph('row', this.padding / 2);\r\n    this.buildEdits();\r\n    this.controls.add(this.edits);\r\n\r\n    this.body.color = this.color;\r\n\r\n    this.body.add(this.controls);\r\n    this.body.add(this.paper);\r\n\r\n    this.toolbox = new BoxMorph();\r\n    this.toolbox.color = SpriteMorph.prototype.paletteColor.lighter(8);\r\n    this.toolbox.borderColor = this.toolbox.color.lighter(40);\r\n    if (MorphicPreferences.isFlat) {\r\n        this.toolbox.edge = 0;\r\n    }\r\n\r\n    this.buildToolbox();\r\n    this.controls.add(this.toolbox);\r\n\r\n    this.scaleBox = new AlignmentMorph('row', this.padding / 2);\r\n    this.buildScaleBox();\r\n    this.controls.add(this.scaleBox);\r\n\r\n    this.propertiesControls = {\r\n        colorpicker: null,\r\n        penSizeSlider: null,\r\n        penSizeField: null,\r\n        primaryColorButton: null,\r\n        primaryColorViewer: null,\r\n        constrain: null\r\n    };\r\n    this.populatePropertiesMenu();\r\n\r\n    this.addButton(\"ok\", \"OK\");\r\n    this.addButton(\"cancel\", \"Cancel\");\r\n\r\n    this.refreshToolButtons();\r\n    this.fixLayout();\r\n    this.drawNew();\r\n};\r\n\r\nPaintEditorMorph.prototype.buildToolbox = function () {\r\n    var tools = {\r\n            brush:\r\n                \"Paintbrush tool\\n(free draw)\",\r\n            rectangle:\r\n                \"Stroked Rectangle\\n(shift: square)\",\r\n            circle:\r\n                \"Stroked Ellipse\\n(shift: circle)\",\r\n            eraser:\r\n                \"Eraser tool\",\r\n            crosshairs:\r\n                \"Set the rotation center\",\r\n\r\n            line:\r\n                \"Line tool\\n(shift: vertical/horizontal)\",\r\n            rectangleSolid:\r\n                \"Filled Rectangle\\n(shift: square)\",\r\n            circleSolid:\r\n                \"Filled Ellipse\\n(shift: circle)\",\r\n            paintbucket:\r\n                \"Fill a region\",\r\n            pipette:\r\n                \"Pipette tool\\n(pick a color anywhere)\"\r\n        },\r\n        myself = this,\r\n        left = this.toolbox.left(),\r\n        top = this.toolbox.top(),\r\n        padding = 2,\r\n        inset = 5,\r\n        x = 0,\r\n        y = 0;\r\n\r\n    Object.keys(tools).forEach(function (tool) {\r\n        var btn = myself.toolButton(tool, tools[tool]);\r\n        btn.setPosition(new Point(\r\n            left + x,\r\n            top + y\r\n        ));\r\n        x += btn.width() + padding;\r\n        if (tool === \"crosshairs\") {\r\n            x = 0;\r\n            y += btn.height() + padding;\r\n            myself.paper.drawcrosshair();\r\n        }\r\n        myself.toolbox[tool] = btn;\r\n        myself.toolbox.add(btn);\r\n    });\r\n\r\n    this.toolbox.bounds = this.toolbox.fullBounds().expandBy(inset * 2);\r\n    this.toolbox.drawNew();\r\n};\r\n\r\nPaintEditorMorph.prototype.buildEdits = function () {\r\n    var paper = this.paper;\r\n\r\n    this.edits.add(this.pushButton(\r\n        \"undo\",\r\n        function () {paper.undo(); }\r\n    ));\r\n\r\n    this.edits.add(this.pushButton(\r\n        \"clear\",\r\n        function () {paper.clearCanvas(); }\r\n    ));\r\n    this.edits.fixLayout();\r\n};\r\n\r\nPaintEditorMorph.prototype.buildScaleBox = function () {\r\n    var paper = this.paper;\r\n    this.scaleBox.add(this.pushButton(\r\n        \"grow\",\r\n        function () {paper.scale(0.05, 0.05); }\r\n    ));\r\n    this.scaleBox.add(this.pushButton(\r\n        \"shrink\",\r\n        function () {paper.scale(-0.05, -0.05); }\r\n    ));\r\n    this.scaleBox.add(this.pushButton(\r\n        \"flip ↔\",\r\n        function () {paper.scale(-2, 0); }\r\n    ));\r\n    this.scaleBox.add(this.pushButton(\r\n        \"flip ↕\",\r\n        function () {paper.scale(0, -2); }\r\n    ));\r\n    this.scaleBox.fixLayout();\r\n};\r\n\r\nPaintEditorMorph.prototype.openIn = function (world, oldim, oldrc, callback) {\r\n    // Open the editor in a world with an optional image to edit\r\n    this.oldim = oldim;\r\n    this.callback = callback || nop;\r\n\r\n    this.processKeyUp = function () {\r\n        this.shift = false;\r\n        this.propertiesControls.constrain.refresh();\r\n    };\r\n\r\n    this.processKeyDown = function () {\r\n        this.shift = this.world().currentKey === 16;\r\n        this.propertiesControls.constrain.refresh();\r\n    };\r\n\r\n    //merge oldim:\r\n    if (this.oldim) {\r\n        this.paper.automaticCrosshairs = isNil(oldrc);\r\n        this.paper.centermerge(this.oldim, this.paper.paper);\r\n        this.paper.rotationCenter =\r\n            (oldrc || new Point(0, 0)).add(\r\n                new Point(\r\n                    (this.paper.paper.width - this.oldim.width) / 2,\r\n                    (this.paper.paper.height - this.oldim.height) / 2\r\n                )\r\n            );\r\n        this.paper.drawNew();\r\n    }\r\n\r\n    this.key = 'paint';\r\n    this.popUp(world);\r\n};\r\n\r\nPaintEditorMorph.prototype.fixLayout = function () {\r\n    var oldFlag = Morph.prototype.trackChanges;\r\n\r\n    this.changed();\r\n    oldFlag = Morph.prototype.trackChanges;\r\n    Morph.prototype.trackChanges = false;\r\n\r\n    if (this.paper) {\r\n        this.paper.buildContents();\r\n        this.paper.drawNew();\r\n    }\r\n    if (this.controls) {this.controls.fixLayout(); }\r\n    if (this.body) {this.body.fixLayout(); }\r\n    PaintEditorMorph.uber.fixLayout.call(this);\r\n\r\n    Morph.prototype.trackChanges = oldFlag;\r\n    this.changed();\r\n};\r\n\r\nPaintEditorMorph.prototype.refreshToolButtons = function () {\r\n    this.toolbox.children.forEach(function (toggle) {\r\n        toggle.refresh();\r\n    });\r\n};\r\n\r\nPaintEditorMorph.prototype.ok = function () {\r\n    this.paper.updateAutomaticCenter();\r\n    this.callback(\r\n        this.paper.paper,\r\n        this.paper.rotationCenter\r\n    );\r\n    this.destroy();\r\n};\r\n\r\nPaintEditorMorph.prototype.cancel = function () {\r\n    if (this.oncancel) {this.oncancel(); }\r\n    this.destroy();\r\n};\r\n\r\nPaintEditorMorph.prototype.populatePropertiesMenu = function () {\r\n    var c = this.controls,\r\n        myself = this,\r\n        pc = this.propertiesControls,\r\n        alpen = new AlignmentMorph(\"row\", this.padding);\r\n\r\n    pc.primaryColorViewer = new Morph();\r\n    pc.primaryColorViewer.setExtent(new Point(180, 50));\r\n    pc.primaryColorViewer.color = new Color(0, 0, 0);\r\n    pc.colorpicker = new PaintColorPickerMorph(\r\n        new Point(180, 100),\r\n        function (color) {\r\n            var ni = newCanvas(pc.primaryColorViewer.extent()),\r\n                ctx = ni.getContext(\"2d\"),\r\n                i,\r\n                j;\r\n            myself.paper.settings.primarycolor = color;\r\n            if (color === \"transparent\") {\r\n                for (i = 0; i < 180; i += 5) {\r\n                    for (j = 0; j < 15; j += 5) {\r\n                        ctx.fillStyle =\r\n                            ((j + i) / 5) % 2 === 0 ?\r\n                                            \"rgba(0, 0, 0, 0.2)\" :\r\n                                            \"rgba(0, 0, 0, 0.5)\";\r\n                        ctx.fillRect(i, j, 5, 5);\r\n\r\n                    }\r\n                }\r\n            } else {\r\n                ctx.fillStyle = color.toString();\r\n                ctx.fillRect(0, 0, 180, 15);\r\n            }\r\n            ctx.strokeStyle = \"black\";\r\n            ctx.lineWidth = Math.min(myself.paper.settings.linewidth, 20);\r\n            ctx.beginPath();\r\n            ctx.lineCap = \"round\";\r\n            ctx.moveTo(20, 30);\r\n            ctx.lineTo(160, 30);\r\n            ctx.stroke();\r\n            pc.primaryColorViewer.image = ni;\r\n            pc.primaryColorViewer.changed();\r\n        }\r\n    );\r\n    pc.colorpicker.action(new Color(0, 0, 0));\r\n\r\n    pc.penSizeSlider = new SliderMorph(0, 20, 5, 5);\r\n    pc.penSizeSlider.orientation = \"horizontal\";\r\n    pc.penSizeSlider.setHeight(15);\r\n    pc.penSizeSlider.setWidth(150);\r\n    pc.penSizeSlider.action = function (num) {\r\n        if (pc.penSizeField) {\r\n            pc.penSizeField.setContents(num);\r\n        }\r\n        myself.paper.settings.linewidth = num;\r\n        pc.colorpicker.action(myself.paper.settings.primarycolor);\r\n    };\r\n    pc.penSizeField = new InputFieldMorph(\"5\", true, null, false);\r\n    pc.penSizeField.contents().minWidth = 20;\r\n    pc.penSizeField.setWidth(25);\r\n    pc.penSizeField.accept = function () {\r\n        var val = parseFloat(pc.penSizeField.getValue());\r\n        pc.penSizeSlider.value = val;\r\n        pc.penSizeSlider.drawNew();\r\n        pc.penSizeSlider.updateValue();\r\n        this.setContents(val);\r\n        myself.paper.settings.linewidth = val;\r\n        this.world().keyboardReceiver = myself;\r\n        pc.colorpicker.action(myself.paper.settings.primarycolor);\r\n    };\r\n    alpen.add(pc.penSizeSlider);\r\n    alpen.add(pc.penSizeField);\r\n    alpen.color = myself.color;\r\n    alpen.fixLayout();\r\n    pc.penSizeField.drawNew();\r\n    pc.constrain = new ToggleMorph(\r\n        \"checkbox\",\r\n        this,\r\n        function () {myself.shift = !myself.shift; },\r\n        \"Constrain proportions of shapes?\\n(you can also hold shift)\",\r\n        function () {return myself.shift; }\r\n    );\r\n    c.add(pc.colorpicker);\r\n    //c.add(pc.primaryColorButton);\r\n    c.add(pc.primaryColorViewer);\r\n    c.add(new TextMorph(localize(\"Brush size\")));\r\n    c.add(alpen);\r\n    c.add(pc.constrain);\r\n};\r\n\r\nPaintEditorMorph.prototype.toolButton = function (icon, hint) {\r\n    var button, myself = this;\r\n\r\n    button = new ToggleButtonMorph(\r\n        null,\r\n        this,\r\n        function () { // action\r\n            myself.paper.currentTool = icon;\r\n            myself.paper.toolChanged(icon);\r\n            myself.refreshToolButtons();\r\n            if (icon === 'pipette') {\r\n                myself.getUserColor();\r\n            }\r\n        },\r\n        new SymbolMorph(icon, 18),\r\n        function () {return myself.paper.currentTool === icon; }\r\n    );\r\n\r\n    button.hint = hint;\r\n    button.drawNew();\r\n    button.fixLayout();\r\n    return button;\r\n};\r\n\r\nPaintEditorMorph.prototype.pushButton = function (title, action, hint) {\r\n    return new PushButtonMorph(\r\n        this,\r\n        action,\r\n        title,\r\n        null,\r\n        hint\r\n    );\r\n};\r\n\r\nPaintEditorMorph.prototype.getUserColor = function () {\r\n    var myself = this,\r\n        world = this.world(),\r\n        hand = world.hand,\r\n        posInDocument = getDocumentPositionOf(world.worldCanvas),\r\n        mouseMoveBak = hand.processMouseMove,\r\n        mouseDownBak = hand.processMouseDown,\r\n        mouseUpBak = hand.processMouseUp;\r\n\r\n    hand.processMouseMove = function (event) {\r\n        var color;\r\n        hand.setPosition(new Point(\r\n            event.pageX - posInDocument.x,\r\n            event.pageY - posInDocument.y\r\n        ));\r\n        color = world.getGlobalPixelColor(hand.position());\r\n        if (!color.a) {\r\n            // ignore transparent,\r\n            // needed for retina-display support\r\n            return;\r\n        }\r\n        color.a = 255;\r\n        myself.propertiesControls.colorpicker.action(color);\r\n    };\r\n\r\n    hand.processMouseDown = nop;\r\n\r\n    hand.processMouseUp = function () {\r\n        myself.paper.currentTool = 'brush';\r\n        myself.paper.toolChanged('brush');\r\n        myself.refreshToolButtons();\r\n        hand.processMouseMove = mouseMoveBak;\r\n        hand.processMouseDown = mouseDownBak;\r\n        hand.processMouseUp = mouseUpBak;\r\n    };\r\n};\r\n\r\n// AdvancedColorPickerMorph //////////////////\r\n\r\n// A large hsl color picker\r\n\r\nPaintColorPickerMorph.prototype = new Morph();\r\nPaintColorPickerMorph.prototype.constructor = PaintColorPickerMorph;\r\nPaintColorPickerMorph.uber = Morph.prototype;\r\n\r\nfunction PaintColorPickerMorph(extent, action) {\r\n    this.init(extent, action);\r\n}\r\n\r\nPaintColorPickerMorph.prototype.init = function (extent, action) {\r\n    this.setExtent(extent || new Point(200, 100));\r\n    this.action = action || nop;\r\n    this.drawNew();\r\n};\r\n\r\nPaintColorPickerMorph.prototype.drawNew = function () {\r\n    var x = 0,\r\n        y = 0,\r\n        can = newCanvas(this.extent()),\r\n        ctx = can.getContext(\"2d\"),\r\n        colorselection,\r\n        r;\r\n    for (x = 0; x < this.width(); x += 1) {\r\n        for (y = 0; y < this.height() - 20; y += 1) {\r\n            ctx.fillStyle = \"hsl(\" +\r\n                (360 * x / this.width()) +\r\n                \",\" +\r\n                \"100%,\" +\r\n                (y * 100 / (this.height() - 20)) +\r\n                \"%)\";\r\n            ctx.fillRect(x, y, 1, 1);\r\n        }\r\n    }\r\n    for (x = 0; x < this.width(); x += 1) {\r\n        r = Math.floor(255 * x / this.width());\r\n        ctx.fillStyle = \"rgb(\" + r + \", \" + r + \", \" + r + \")\";\r\n        ctx.fillRect(x, this.height() - 20, 1, 10);\r\n    }\r\n    colorselection = [\"black\", \"white\", \"gray\"];\r\n    for (x = 0; x < colorselection.length; x += 1) {\r\n        ctx.fillStyle = colorselection[x];\r\n        ctx.fillRect(\r\n            x * this.width() / colorselection.length,\r\n            this.height() - 10,\r\n            this.width() / colorselection.length,\r\n            10\r\n        );\r\n    }\r\n    for (x = this.width() * 2 / 3; x < this.width(); x += 2) {\r\n        for (y = this.height() - 10; y < this.height(); y += 2) {\r\n            if ((x + y) / 2 % 2 === 0) {\r\n                ctx.fillStyle = \"#DDD\";\r\n                ctx.fillRect(x, y, 2, 2);\r\n            }\r\n        }\r\n    }\r\n    this.image = can;\r\n};\r\n\r\nPaintColorPickerMorph.prototype.mouseDownLeft = function (pos) {\r\n    if ((pos.subtract(this.position()).x > this.width() * 2 / 3) &&\r\n            (pos.subtract(this.position()).y > this.height() - 10)) {\r\n        this.action(\"transparent\");\r\n    } else {\r\n        this.action(this.getPixelColor(pos));\r\n    }\r\n};\r\n\r\nPaintColorPickerMorph.prototype.mouseMove =\r\n    PaintColorPickerMorph.prototype.mouseDownLeft;\r\n\r\n// PaintCanvasMorph ///////////////////////////\r\n/*\r\n    A canvas which reacts to drag events to\r\n    modify its image, based on a 'tool' property.\r\n*/\r\n\r\nPaintCanvasMorph.prototype = new Morph();\r\nPaintCanvasMorph.prototype.constructor = PaintCanvasMorph;\r\nPaintCanvasMorph.uber = Morph.prototype;\r\n\r\nfunction PaintCanvasMorph(shift) {\r\n    this.init(shift);\r\n}\r\n\r\nPaintCanvasMorph.prototype.init = function (shift) {\r\n    this.rotationCenter = new Point(240, 180);\r\n    this.dragRect = null;\r\n    this.previousDragPoint = null;\r\n    this.currentTool = \"brush\";\r\n    this.dragRect = new Rectangle();\r\n    // rectangle with origin being the starting drag position and\r\n    // corner being the current drag position\r\n    this.mask = newCanvas(this.extent(), true); // Temporary canvas\r\n    this.paper = newCanvas(this.extent(), true); // Actual canvas\r\n    this.erasermask = newCanvas(this.extent(), true); // eraser memory\r\n    this.background = newCanvas(this.extent()); // checkers\r\n    this.settings = {\r\n        \"primarycolor\": new Color(0, 0, 0, 255), // usually fill color\r\n        \"secondarycolor\": new Color(0, 0, 0, 255), // (unused)\r\n        \"linewidth\": 3 // stroke width\r\n    };\r\n    this.brushBuffer = [];\r\n    this.undoBuffer = [];\r\n    this.isShiftPressed = shift || function () {\r\n        var key = this.world().currentKey;\r\n        return (key === 16);\r\n    };\r\n    // should we calculate the center of the image ourselves,\r\n    // or use the user position\r\n    this.automaticCrosshairs = true;\r\n    this.noticesTransparentClick = true; // optimization\r\n    this.buildContents();\r\n};\r\n\r\n// Calculate the center of all the non-transparent pixels on the canvas.\r\nPaintCanvasMorph.prototype.calculateCanvasCenter = function(canvas) {\r\n    var canvasBounds = Costume.prototype.canvasBoundingBox(canvas);\r\n    if (canvasBounds === null) {\r\n        return null;\r\n    }\r\n    // Can't use canvasBounds.center(), it rounds down.\r\n    return new Point((canvasBounds.origin.x + canvasBounds.corner.x) / 2, (canvasBounds.origin.y + canvasBounds.corner.y) / 2);\r\n};\r\n\r\n// If we are in automaticCrosshairs mode, recalculate the rotationCenter.\r\nPaintCanvasMorph.prototype.updateAutomaticCenter = function () {\r\n    if (this.automaticCrosshairs) {\r\n        // Calculate this.rotationCenter from this.paper\r\n        var rotationCenter = this.calculateCanvasCenter(this.paper);\r\n        if (rotationCenter !== null) {\r\n            this.rotationCenter = rotationCenter;\r\n        }\r\n    }\r\n};\r\n\r\nPaintCanvasMorph.prototype.scale = function (x, y) {\r\n    this.updateAutomaticCenter();\r\n    this.mask = newCanvas(this.extent(), true);\r\n    var c = newCanvas(this.extent(), true);\r\n    c.getContext(\"2d\").save();\r\n    c.getContext(\"2d\").translate(\r\n        this.rotationCenter.x,\r\n        this.rotationCenter.y\r\n    );\r\n    c.getContext(\"2d\").scale(1 + x, 1 + y);\r\n    c.getContext(\"2d\").drawImage(\r\n        this.paper,\r\n        -this.rotationCenter.x,\r\n        -this.rotationCenter.y\r\n    );\r\n    c.getContext(\"2d\").restore();\r\n    this.paper = c;\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nPaintCanvasMorph.prototype.cacheUndo = function () {\r\n    var cachecan = newCanvas(this.extent(), true);\r\n    this.merge(this.paper, cachecan);\r\n    this.undoBuffer.push(cachecan);\r\n};\r\n\r\nPaintCanvasMorph.prototype.undo = function () {\r\n    if (this.undoBuffer.length > 0) {\r\n        this.paper = newCanvas(this.extent(), true);\r\n        this.mask.width = this.mask.width + 1 - 1;\r\n        this.merge(this.undoBuffer.pop(), this.paper);\r\n        this.drawNew();\r\n        this.changed();\r\n    }\r\n};\r\n\r\nPaintCanvasMorph.prototype.merge = function (a, b) {\r\n    b.getContext(\"2d\").drawImage(a, 0, 0);\r\n};\r\n\r\nPaintCanvasMorph.prototype.centermerge = function (a, b) {\r\n    b.getContext(\"2d\").drawImage(\r\n        a,\r\n        (b.width - a.width) / 2,\r\n        (b.height - a.height) / 2\r\n    );\r\n};\r\n\r\nPaintCanvasMorph.prototype.clearCanvas = function () {\r\n    this.buildContents();\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nPaintCanvasMorph.prototype.toolChanged = function (tool) {\r\n    this.mask = newCanvas(this.extent(), true);\r\n    if (tool === \"crosshairs\") {\r\n        this.updateAutomaticCenter();\r\n        this.drawcrosshair();\r\n    }\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nPaintCanvasMorph.prototype.drawcrosshair = function (context) {\r\n    var ctx = context || this.mask.getContext(\"2d\"),\r\n        rp = this.rotationCenter;\r\n\r\n    ctx.lineWidth = 1;\r\n    ctx.strokeStyle = 'black';\r\n    ctx.clearRect(0, 0, this.mask.width, this.mask.height);\r\n\r\n    // draw crosshairs:\r\n    ctx.globalAlpha = 0.5;\r\n\r\n    // circle around center:\r\n    ctx.fillStyle = 'white';\r\n    ctx.beginPath();\r\n    ctx.arc(\r\n        rp.x,\r\n        rp.y,\r\n        20,\r\n        radians(0),\r\n        radians(360),\r\n        false\r\n    );\r\n    ctx.closePath();\r\n    ctx.fill();\r\n    ctx.stroke();\r\n\r\n    ctx.beginPath();\r\n    ctx.arc(\r\n        rp.x,\r\n        rp.y,\r\n        10,\r\n        radians(0),\r\n        radians(360),\r\n        false\r\n    );\r\n    ctx.stroke();\r\n\r\n    // horizontal line:\r\n    ctx.beginPath();\r\n    ctx.moveTo(0, rp.y);\r\n    ctx.lineTo(this.mask.width, rp.y);\r\n    ctx.stroke();\r\n\r\n    // vertical line:\r\n    ctx.beginPath();\r\n    ctx.moveTo(rp.x, 0);\r\n    ctx.lineTo(rp.x, this.mask.height);\r\n    ctx.stroke();\r\n\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nPaintCanvasMorph.prototype.floodfill = function (sourcepoint) {\r\n    var width = this.paper.width,\r\n        height = this.paper.height,\r\n        ctx = this.paper.getContext(\"2d\"),\r\n        img = ctx.getImageData(0, 0, width, height),\r\n        data = img.data,\r\n        stack = [Math.round(Math.round(sourcepoint.y) * width + sourcepoint.x)],\r\n        currentpoint,\r\n        read,\r\n        sourcecolor,\r\n        checkpoint;\r\n    read = function (p) {\r\n        var d = p * 4;\r\n        return [data[d], data[d + 1], data[d + 2], data[d + 3]];\r\n    };\r\n    sourcecolor = read(stack[0]);\r\n    checkpoint = function (p) {\r\n        return p[0] === sourcecolor[0] &&\r\n            p[1] === sourcecolor[1] &&\r\n            p[2] === sourcecolor[2] &&\r\n            p[3] === sourcecolor[3];\r\n    };\r\n\r\n    // if already filled, abort\r\n    if (sourcecolor[3] === 0 &&\r\n            this.settings.primarycolor === \"transparent\") {\r\n        return;\r\n    }\r\n    if (sourcecolor[0] === this.settings.primarycolor.r &&\r\n            sourcecolor[1] === this.settings.primarycolor.g &&\r\n            sourcecolor[2] === this.settings.primarycolor.b &&\r\n            sourcecolor[3] === this.settings.primarycolor.a) {\r\n        return;\r\n    }\r\n    if (sourcecolor[3] === 0 && this.settings.primarycolor.a === 0) {\r\n        return;\r\n    }\r\n\r\n    while (stack.length > 0) {\r\n        currentpoint = stack.pop();\r\n        if (checkpoint(read(currentpoint))) {\r\n            if (currentpoint % width > 1) {\r\n                stack.push(currentpoint + 1);\r\n                stack.push(currentpoint - 1);\r\n            }\r\n            if (currentpoint > 0 && currentpoint < height * width) {\r\n                stack.push(currentpoint + width);\r\n                stack.push(currentpoint - width);\r\n            }\r\n        }\r\n        if (this.settings.primarycolor === \"transparent\") {\r\n            data[currentpoint * 4 + 3] = 0;\r\n        } else {\r\n            data[currentpoint * 4] = this.settings.primarycolor.r;\r\n            data[currentpoint * 4 + 1] = this.settings.primarycolor.g;\r\n            data[currentpoint * 4 + 2] = this.settings.primarycolor.b;\r\n            data[currentpoint * 4 + 3] = this.settings.primarycolor.a * 255;\r\n        }\r\n    }\r\n    ctx.putImageData(img, 0, 0);\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nPaintCanvasMorph.prototype.mouseDownLeft = function (pos) {\r\n    this.cacheUndo();\r\n    this.dragRect.origin = pos.subtract(this.bounds.origin);\r\n    this.dragRect.corner = pos.subtract(this.bounds.origin);\r\n    this.previousDragPoint = this.dragRect.corner.copy();\r\n    if (this.currentTool === 'crosshairs') {\r\n        this.rotationCenter = pos.subtract(this.bounds.origin);\r\n        this.drawcrosshair();\r\n        return;\r\n    }\r\n    if (this.currentTool === \"paintbucket\") {\r\n        return this.floodfill(pos.subtract(this.bounds.origin));\r\n    }\r\n    if (this.settings.primarycolor === \"transparent\" &&\r\n            this.currentTool !== \"crosshairs\") {\r\n        this.erasermask = newCanvas(this.extent(), true);\r\n        this.merge(this.paper, this.erasermask);\r\n    }\r\n};\r\n\r\nPaintCanvasMorph.prototype.mouseMove = function (pos) {\r\n    if (this.currentTool === \"paintbucket\") {\r\n        return;\r\n    }\r\n\r\n    var relpos = pos.subtract(this.bounds.origin),\r\n        mctx = this.mask.getContext(\"2d\"),\r\n        pctx = this.paper.getContext(\"2d\"),\r\n        x = this.dragRect.origin.x, // original drag X\r\n        y = this.dragRect.origin.y, // original drag y\r\n        p = relpos.x,               // current drag x\r\n        q = relpos.y,               // current drag y\r\n        w = (p - x) / 2,            // half the rect width\r\n        h = (q - y) / 2,            // half the rect height\r\n        i,                          // iterator number\r\n        width = this.paper.width;\r\n\r\n    mctx.save();\r\n    function newW() {\r\n        return Math.max(Math.abs(w), Math.abs(h)) * (w / Math.abs(w));\r\n    }\r\n    function newH() {\r\n        return Math.max(Math.abs(w), Math.abs(h)) * (h / Math.abs(h));\r\n    }\r\n    this.brushBuffer.push([p, q]);\r\n    mctx.lineWidth = this.settings.linewidth;\r\n    mctx.clearRect(0, 0, this.bounds.width(), this.bounds.height()); // mask\r\n\r\n    this.dragRect.corner = relpos.subtract(this.dragRect.origin); // reset crn\r\n\r\n    if (this.settings.primarycolor === \"transparent\" &&\r\n            this.currentTool !== \"crosshairs\") {\r\n        this.merge(this.erasermask, this.mask);\r\n        pctx.clearRect(0, 0, this.bounds.width(), this.bounds.height());\r\n        mctx.globalCompositeOperation = \"destination-out\";\r\n    } else {\r\n        mctx.fillStyle = this.settings.primarycolor.toString();\r\n        mctx.strokeStyle = this.settings.primarycolor.toString();\r\n    }\r\n    switch (this.currentTool) {\r\n    case \"rectangle\":\r\n        if (this.isShiftPressed()) {\r\n            mctx.strokeRect(x, y, newW() * 2, newH() * 2);\r\n        } else {\r\n            mctx.strokeRect(x, y, w * 2, h * 2);\r\n        }\r\n        break;\r\n    case \"rectangleSolid\":\r\n        if (this.isShiftPressed()) {\r\n            mctx.fillRect(x, y, newW() * 2, newH() * 2);\r\n        } else {\r\n            mctx.fillRect(x, y, w * 2, h * 2);\r\n        }\r\n        break;\r\n    case \"brush\":\r\n        mctx.lineCap = \"round\";\r\n        mctx.lineJoin = \"round\";\r\n        mctx.beginPath();\r\n        mctx.moveTo(this.brushBuffer[0][0], this.brushBuffer[0][1]);\r\n        for (i = 0; i < this.brushBuffer.length; i += 1) {\r\n            mctx.lineTo(this.brushBuffer[i][0], this.brushBuffer[i][1]);\r\n        }\r\n        mctx.stroke();\r\n        break;\r\n    case \"line\":\r\n        mctx.beginPath();\r\n        mctx.moveTo(x, y);\r\n        if (this.isShiftPressed()) {\r\n            if (Math.abs(h) > Math.abs(w)) {\r\n                mctx.lineTo(x, q);\r\n            } else {\r\n                mctx.lineTo(p, y);\r\n            }\r\n        } else {\r\n            mctx.lineTo(p, q);\r\n        }\r\n        mctx.stroke();\r\n        break;\r\n    case \"circle\":\r\n    case \"circleSolid\":\r\n        mctx.beginPath();\r\n        if (this.isShiftPressed()) {\r\n            mctx.arc(\r\n                x,\r\n                y,\r\n                new Point(x, y).distanceTo(new Point(p, q)),\r\n                0,\r\n                Math.PI * 2,\r\n                false\r\n            );\r\n        } else {\r\n            for (i = 0; i < width; i += 1) {\r\n                mctx.lineTo(\r\n                    i,\r\n                    (2 * h) * Math.sqrt(2 - Math.pow(\r\n                        (i - x) / (2 * w),\r\n                        2\r\n                    )) + y\r\n                );\r\n            }\r\n            for (i = width; i > 0; i -= 1) {\r\n                mctx.lineTo(\r\n                    i,\r\n                    -1 * (2 * h) * Math.sqrt(2 - Math.pow(\r\n                        (i - x) / (2 * w),\r\n                        2\r\n                    )) + y\r\n                );\r\n            }\r\n        }\r\n        mctx.closePath();\r\n        if (this.currentTool === \"circleSolid\") {\r\n            mctx.fill();\r\n        } else {\r\n            if (this.currentTool === \"circle\") {\r\n                mctx.stroke();\r\n            }\r\n        }\r\n        break;\r\n    case \"crosshairs\":\r\n        // Disable automatic crosshairs: user has now chosen where they should be.\r\n        this.automaticCrosshairs = false;\r\n        this.rotationCenter = relpos.copy();\r\n        this.drawcrosshair(mctx);\r\n        break;\r\n    case \"eraser\":\r\n        this.merge(this.paper, this.mask);\r\n        mctx.save();\r\n        mctx.globalCompositeOperation = \"destination-out\";\r\n        mctx.beginPath();\r\n        mctx.moveTo(this.brushBuffer[0][0], this.brushBuffer[0][1]);\r\n        for (i = 0; i < this.brushBuffer.length; i += 1) {\r\n            mctx.lineTo(this.brushBuffer[i][0], this.brushBuffer[i][1]);\r\n        }\r\n        mctx.stroke();\r\n        mctx.restore();\r\n        this.paper = newCanvas(this.extent(), true);\r\n        this.merge(this.mask, this.paper);\r\n        break;\r\n    default:\r\n        nop();\r\n    }\r\n    this.previousDragPoint = relpos;\r\n    this.drawNew();\r\n    this.changed();\r\n    mctx.restore();\r\n};\r\n\r\nPaintCanvasMorph.prototype.mouseClickLeft = function () {\r\n    if (this.currentTool !== \"crosshairs\") {\r\n        this.merge(this.mask, this.paper);\r\n    }\r\n    this.brushBuffer = [];\r\n};\r\n\r\nPaintCanvasMorph.prototype.mouseLeaveDragging\r\n    = PaintCanvasMorph.prototype.mouseClickLeft;\r\n\r\nPaintCanvasMorph.prototype.buildContents = function () {\r\n    this.background = newCanvas(this.extent());\r\n    this.paper = newCanvas(this.extent(), true);\r\n    this.mask = newCanvas(this.extent(), true);\r\n    this.erasermask = newCanvas(this.extent(), true);\r\n    var i, j, bkctx = this.background.getContext(\"2d\");\r\n    for (i = 0; i < this.background.width; i += 5) {\r\n        for (j = 0; j < this.background.height; j += 5) {\r\n            if ((i + j) / 5 % 2 === 1) {\r\n                bkctx.fillStyle = \"rgba(255, 255, 255, 1)\";\r\n            } else {\r\n                bkctx.fillStyle = \"rgba(255, 255, 255, 0.3)\";\r\n            }\r\n            bkctx.fillRect(i, j, 5, 5);\r\n        }\r\n    }\r\n};\r\n\r\nPaintCanvasMorph.prototype.drawNew = function () {\r\n    var can = newCanvas(this.extent(), true);\r\n    this.merge(this.background, can);\r\n    this.merge(this.paper, can);\r\n    this.merge(this.mask, can);\r\n    this.image = can;\r\n    this.drawFrame();\r\n};\r\n\r\nPaintCanvasMorph.prototype.drawFrame = function () {\r\n    var context, borderColor;\r\n\r\n    context = this.image.getContext('2d');\r\n    if (this.parent) {\r\n        this.color = this.parent.color.lighter(this.contrast * 0.75);\r\n        borderColor = this.parent.color;\r\n    } else {\r\n        borderColor = new Color(120, 120, 120);\r\n    }\r\n    context.fillStyle = this.color.toString();\r\n\r\n    // cache my border colors\r\n    this.cachedClr = borderColor.toString();\r\n    this.cachedClrBright = borderColor.lighter(this.contrast)\r\n        .toString();\r\n    this.cachedClrDark = borderColor.darker(this.contrast).toString();\r\n    this.drawRectBorder(context);\r\n};\r\n\r\nPaintCanvasMorph.prototype.drawRectBorder\r\n    = InputFieldMorph.prototype.drawRectBorder;\r\n\r\nPaintCanvasMorph.prototype.edge\r\n    = InputFieldMorph.prototype.edge;\r\n\r\nPaintCanvasMorph.prototype.fontSize\r\n    = InputFieldMorph.prototype.fontSize;\r\n\r\nPaintCanvasMorph.prototype.typeInPadding\r\n    = InputFieldMorph.prototype.typeInPadding;\r\n\r\nPaintCanvasMorph.prototype.contrast\r\n    = InputFieldMorph.prototype.contrast;\r\n//fin de paint.js\r\n/*\r\n\r\n    lists.js\r\n\r\n    list data structure and GUI for SNAP!\r\n\r\n    written by Jens Mönig and Brian Harvey\r\n    jens@moenig.org, bh@cs.berkeley.edu\r\n\r\n    Copyright (C) 2017 by Jens Mönig and Brian Harvey\r\n\r\n    This file is part of Snap!.\r\n\r\n    Snap! is free software: you can redistribute it and/or modify\r\n    it under the terms of the GNU Affero General Public License as\r\n    published by the Free Software Foundation, either version 3 of\r\n    the License, or (at your option) any later version.\r\n\r\n    This program is distributed in the hope that it will be useful,\r\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n    GNU Affero General Public License for more details.\r\n\r\n    You should have received a copy of the GNU Affero General Public License\r\n    along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n\r\n\r\n    prerequisites:\r\n    --------------\r\n    needs morphic.js, widgets.js and gui.js\r\n\r\n\r\n    I. hierarchy\r\n    -------------\r\n    the following tree lists all constructors hierarchically,\r\n    indentation indicating inheritance. Refer to this list to get a\r\n    contextual overview:\r\n\r\n    List\r\n\r\n    BoxMorph*\r\n        ListWatcherMorph\r\n\r\n    * from Morphic.js\r\n\r\n\r\n    II. toc\r\n    -------\r\n    the following list shows the order in which all constructors are\r\n    defined. Use this list to locate code in this document:\r\n\r\n    List\r\n    ListWatcherMorph\r\n\r\n*/\r\n\r\n// Global settings /////////////////////////////////////////////////////\r\n\r\n/*global modules, BoxMorph, HandleMorph, PushButtonMorph, SyntaxElementMorph,\r\nColor, Point, WatcherMorph, StringMorph, SpriteMorph, ScrollFrameMorph,\r\nCellMorph, ArrowMorph, MenuMorph, snapEquals, Morph, isNil, localize,\r\nMorphicPreferences, TableDialogMorph, SpriteBubbleMorph, SpeechBubbleMorph,\r\nTableFrameMorph, TableMorph, Variable, isSnapObject*/\r\n\r\nmodules.lists = '2017-September-01';\r\n\r\nvar List;\r\nvar ListWatcherMorph;\r\n\r\n// List ////////////////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a dynamic array data structure for SNAP!\r\n    My index starts with 1\r\n\r\n    I am a \"smart\" hybrid list, because I can be used as both a linked\r\n    list and as a dynamic array\r\n\r\n    public interface:\r\n\r\n    setters (linked):\r\n    -----------------\r\n    cons                - answer a new list with the given item in front\r\n    cdr                    - answer all but the first element\r\n\r\n    setters (arrayed):\r\n    ------------------\r\n    add(element, index)    - insert the element before the given slot,\r\n    put(element, index)    - overwrite the element at the given slot\r\n    remove(index)        - remove the given slot, shortening the list\r\n    clear()                - remove all elements\r\n\r\n    getters (all hybrid):\r\n    ---------------------\r\n    length()            - number of slots\r\n    at(index)            - element present in specified slot\r\n    contains(element)    - <bool>\r\n\r\n    conversion:\r\n    -----------\r\n    asArray()            - answer me as JavaScript array\r\n    asText()            - answer my elements (recursively) concatenated\r\n*/\r\n\r\n// List instance creation:\r\n\r\nfunction List(array) {\r\n    this.type = null; // for UI lists, such as costumes, sounds, sprites\r\n    this.contents = array || [];\r\n    this.first = null;\r\n    this.rest = null;\r\n    this.isLinked = false;\r\n    this.lastChanged = Date.now();\r\n}\r\n\r\n// List global preferences\r\n\r\nList.prototype.enableTables = false; // default, to not confuse NYC teachers\r\n\r\n// List printing\r\n\r\nList.prototype.toString = function () {\r\n    return 'a List [' + this.length + ' elements]';\r\n};\r\n\r\n// List updating:\r\n\r\nList.prototype.changed = function () {\r\n    this.lastChanged = Date.now();\r\n};\r\n\r\n// Linked List ops:\r\n\r\nList.prototype.cons = function (car, cdr) {\r\n    var answer = new List();\r\n    if (!(cdr instanceof List || isNil(cdr))) {\r\n        throw new Error(\"cdr isn't a list: \" + cdr);\r\n    }\r\n    answer.first = isNil(car) ? null : car;\r\n    answer.rest = cdr || null;\r\n    answer.isLinked = true;\r\n    return answer;\r\n};\r\n\r\nList.prototype.cdr = function () {\r\n    var result, i;\r\n    if (this.isLinked) {\r\n        return this.rest || new List();\r\n    }\r\n    if (this.contents.length < 2) {\r\n        return new List();\r\n    }\r\n\r\n    result = new List();\r\n    for (i = this.contents.length; i > 1; i -= 1) {\r\n        result = this.cons(this.at(i), result);\r\n    }\r\n    return result;\r\n};\r\n\r\n// List array setters:\r\n\r\nList.prototype.add = function (element, index) {\r\n/*\r\n    insert the element before the given slot index,\r\n    if no index is specifed, append the element\r\n*/\r\n    var idx = index || this.length() + 1,\r\n        obj = isNil(element) ? null : element;\r\n\r\n    this.becomeArray();\r\n    this.contents.splice(idx - 1, 0, obj);\r\n    this.changed();\r\n};\r\n\r\nList.prototype.put = function (element, index) {\r\n    // exchange the element at the given slot for another\r\n    var data = element === 0 ? 0\r\n            : element === false ? false\r\n                    : element || null;\r\n\r\n    this.becomeArray();\r\n    this.contents[index - 1] = data;\r\n    this.changed();\r\n};\r\n\r\nList.prototype.remove = function (index) {\r\n    // remove the given slot, shortening the list\r\n    this.becomeArray();\r\n    this.contents.splice(index - 1, 1);\r\n    this.changed();\r\n};\r\n\r\nList.prototype.clear = function () {\r\n    this.contents = [];\r\n    this.first = null;\r\n    this.rest = null;\r\n    this.isLinked = false;\r\n    this.changed();\r\n};\r\n\r\n// List getters (all hybrid):\r\n\r\nList.prototype.length = function () {\r\n    if (this.isLinked) {\r\n        var pair = this,\r\n            result = 0;\r\n        while (pair && pair.isLinked) {\r\n            result += 1;\r\n            pair = pair.rest;\r\n        }\r\n        return result + (pair ? pair.contents.length : 0);\r\n    }\r\n    return this.contents.length;\r\n};\r\n\r\nList.prototype.at = function (index) {\r\n    var value, idx = +index, pair = this;\r\n    while (pair.isLinked) {\r\n        if (idx > 1) {\r\n            pair = pair.rest;\r\n            idx -= 1;\r\n        } else {\r\n            return pair.first;\r\n        }\r\n    }\r\n    value = pair.contents[idx - 1];\r\n    return isNil(value) ? '' : value;\r\n};\r\n\r\nList.prototype.contains = function (element) {\r\n    var pair = this;\r\n    while (pair.isLinked) {\r\n        if (snapEquals(pair.first, element)) {\r\n            return true;\r\n        }\r\n        pair = pair.rest;\r\n    }\r\n    // in case I'm arrayed\r\n    return pair.contents.some(function (any) {\r\n        return snapEquals(any, element);\r\n    });\r\n};\r\n\r\n// List table (2D) accessing (for table morph widget):\r\n\r\nList.prototype.isTable = function () {\r\n    return this.enableTables && (this.length() > 100 || this.cols() > 1);\r\n};\r\n\r\nList.prototype.get = function (col, row) {\r\n    var r, len, cols;\r\n    if (!col) {\r\n        if (!row) {return [this.length()]; }\r\n        if (row > this.rows()) {return null; }\r\n        return this.rowName(row);\r\n    } else if (!row) {\r\n        if (this.cols() === 1) {return localize('items'); }\r\n        return this.colName(col);\r\n    }\r\n    r = this.at(row);\r\n\r\n    // encode \"orphaned\" as arrays and overshooting ones as Variables\r\n    if (r instanceof List) {\r\n        len = r.length();\r\n        cols = this.cols();\r\n        if (col > len) {\r\n            return null;\r\n        } else if (cols === 1 && len > 1) {\r\n            return [r];\r\n        } else if (col >= cols && len > cols) { // overshooting\r\n            return new Variable(r.at(col));\r\n        }\r\n        return r.at(col);\r\n    }\r\n    if (col === 1 && row <= this.rows()) {\r\n        return [r];\r\n    }\r\n    return null;\r\n};\r\n\r\nList.prototype.rows = function () {\r\n    return this.length();\r\n};\r\n\r\nList.prototype.cols = function () {\r\n    var r = (this.at(1));\r\n    return r instanceof List ? r.length() : 1;\r\n};\r\n\r\nList.prototype.colName = function (col) {\r\n    if (col > this.cols()) {return null; }\r\n    return String.fromCharCode(64 + ((col % 26) || 26)).repeat(\r\n        Math.floor((col - 1) / 26) + 1\r\n    );\r\n};\r\n\r\nList.prototype.rowName = function (row) {\r\n    return row;\r\n};\r\n\r\nList.prototype.columnNames = function () {\r\n    return [];\r\n};\r\n\r\nList.prototype.version = function (startRow, rows) {\r\n    var l = Math.min(startRow + rows, this.length()),\r\n        v = this.lastChanged,\r\n        r,\r\n        i;\r\n    for (i = startRow; i <= l; i += 1) {\r\n        r = this.at(i);\r\n        v = Math.max(v, r.lastChanged ? r.lastChanged : 0);\r\n    }\r\n    return v;\r\n};\r\n\r\n// List conversion:\r\n\r\nList.prototype.asArray = function () {\r\n    // for use in the evaluator\r\n    this.becomeArray();\r\n    return this.contents;\r\n};\r\n\r\nList.prototype.itemsArray = function () {\r\n    // answer an array containing my elements\r\n    // don't convert linked lists to arrays\r\n    if (this.isLinked) {\r\n        var next = this,\r\n            result = [],\r\n            i;\r\n        while (next && next.isLinked) {\r\n            result.push(next.first);\r\n            next = next.rest;\r\n        }\r\n        if (next) {\r\n            for (i = 1; i <= next.contents.length; i += 1) {\r\n                result.push(next.at(i));\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n    return this.contents;\r\n};\r\n\r\nList.prototype.asText = function () {\r\n    var result = '',\r\n        length,\r\n        element,\r\n        pair = this,\r\n        i;\r\n    while (pair.isLinked) {\r\n        element = pair.first;\r\n        if (element instanceof List) {\r\n            result = result.concat(element.asText());\r\n        } else {\r\n            element = isNil(element) ? '' : element.toString();\r\n            result = result.concat(element);\r\n        }\r\n        pair = pair.rest;\r\n    }\r\n    length = pair.length();\r\n    for (i = 1; i <= length; i += 1) {\r\n        element = pair.at(i);\r\n        if (element instanceof List) {\r\n            result = result.concat(element.asText());\r\n        } else {\r\n            element = isNil(element) ? '' : element.toString();\r\n            result = result.concat(element);\r\n        }\r\n    }\r\n    return result;\r\n};\r\n\r\nList.prototype.becomeArray = function () {\r\n    if (this.isLinked) {\r\n        this.contents = this.itemsArray();\r\n        this.isLinked = false;\r\n        this.first = null;\r\n        this.rest = null;\r\n    }\r\n};\r\n\r\nList.prototype.becomeLinked = function () {\r\n    var i, stop, tail = this;\r\n    if (!this.isLinked) {\r\n        stop = this.length();\r\n        for (i = 0; i < stop; i += 1) {\r\n            tail.first = this.contents[i];\r\n            if (i < (stop - 1)) {\r\n                tail.rest = new List();\r\n                tail.isLinked = true;\r\n                tail = tail.rest;\r\n            }\r\n        }\r\n        this.contents = [];\r\n        this.isLinked = true;\r\n    }\r\n};\r\n\r\n// List testing\r\n\r\nList.prototype.equalTo = function (other) {\r\n    var myself = this, it = other, i, j, loopcount;\r\n    if (!(other instanceof List)) {\r\n        return false;\r\n    }\r\n\r\n    while (myself.isLinked && it.isLinked) {\r\n        if (!snapEquals(myself.first, it.first)) {\r\n            return false;\r\n        }\r\n        myself = myself.rest;\r\n        it = it.rest;\r\n    }\r\n\r\n    if (it.isLinked) {\r\n        i = it;\r\n        it = myself;\r\n        myself = i;\r\n    }\r\n\r\n    j = 0;\r\n    while (myself.isLinked) {\r\n        if (!snapEquals(myself.first, it.contents[j])) {\r\n            return false;\r\n        }\r\n        myself = myself.rest;\r\n        j += 1;\r\n    }\r\n\r\n    i = 0;\r\n    if (myself.contents.length !== (it.contents.length - j)) {\r\n        return false;\r\n    }\r\n\r\n    loopcount = myself.contents.length;\r\n    while (loopcount > 0) {\r\n        loopcount -= 1;\r\n        if (!snapEquals(myself.contents[i], it.contents[j])) {\r\n            return false;\r\n        }\r\n        i += 1;\r\n        j += 1;\r\n    }\r\n    return true;\r\n};\r\n\r\n// ListWatcherMorph ////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a little window which observes a list and continuously\r\n    updates itself accordingly\r\n*/\r\n\r\n// ListWatcherMorph inherits from BoxMorph:\r\n\r\nListWatcherMorph.prototype = new BoxMorph();\r\nListWatcherMorph.prototype.constructor = ListWatcherMorph;\r\nListWatcherMorph.uber = BoxMorph.prototype;\r\n\r\n// ListWatcherMorph default settings\r\n\r\nListWatcherMorph.prototype.cellColor =\r\n    SpriteMorph.prototype.blockColor.lists;\r\n\r\n// ListWatcherMorph instance creation:\r\n\r\nfunction ListWatcherMorph(list, parentCell) {\r\n    this.init(list, parentCell);\r\n}\r\n\r\nListWatcherMorph.prototype.init = function (list, parentCell) {\r\n    var myself = this;\r\n\r\n    this.list = list || new List();\r\n    this.start = 1;\r\n    this.range = 100;\r\n    this.lastUpdated = Date.now();\r\n    this.lastCell = null;\r\n    this.parentCell = parentCell || null; // for circularity detection\r\n\r\n    // elements declarations\r\n    this.label = new StringMorph(\r\n        localize('length: ') + this.list.length(),\r\n        SyntaxElementMorph.prototype.fontSize,\r\n        null,\r\n        false,\r\n        false,\r\n        false,\r\n        MorphicPreferences.isFlat ? new Point() : new Point(1, 1),\r\n        new Color(255, 255, 255)\r\n    );\r\n    this.label.mouseClickLeft = function () {myself.startIndexMenu(); };\r\n\r\n\r\n    this.frame = new ScrollFrameMorph(null, 10);\r\n    this.frame.alpha = 0;\r\n    this.frame.acceptsDrops = false;\r\n    this.frame.contents.acceptsDrops = false;\r\n\r\n    this.handle = new HandleMorph(\r\n        this,\r\n        80,\r\n        70,\r\n        3,\r\n        3\r\n    );\r\n    this.handle.setExtent(new Point(13, 13));\r\n\r\n    this.arrow = new ArrowMorph(\r\n        'down',\r\n        SyntaxElementMorph.prototype.fontSize\r\n    );\r\n    this.arrow.mouseClickLeft = function () {myself.startIndexMenu(); };\r\n    this.arrow.setRight(this.handle.right());\r\n    this.arrow.setBottom(this.handle.top());\r\n    this.handle.add(this.arrow);\r\n\r\n    this.plusButton = new PushButtonMorph(\r\n        this.list,\r\n        'add',\r\n        '+'\r\n    );\r\n    this.plusButton.padding = 0;\r\n    this.plusButton.edge = 0;\r\n    this.plusButton.outlineColor = this.color;\r\n    this.plusButton.drawNew();\r\n    this.plusButton.fixLayout();\r\n\r\n    ListWatcherMorph.uber.init.call(\r\n        this,\r\n        SyntaxElementMorph.prototype.rounding,\r\n        1.000001, // shadow bug in Chrome,\r\n        new Color(120, 120, 120)\r\n    );\r\n\r\n    this.color = new Color(220, 220, 220);\r\n    this.isDraggable = false;\r\n    this.setExtent(new Point(80, 70).multiplyBy(\r\n        SyntaxElementMorph.prototype.scale\r\n    ));\r\n    this.add(this.label);\r\n    this.add(this.frame);\r\n    this.add(this.plusButton);\r\n    this.add(this.handle);\r\n    this.handle.drawNew();\r\n    this.update();\r\n    this.fixLayout();\r\n};\r\n\r\n// ListWatcherMorph updating:\r\n\r\nListWatcherMorph.prototype.update = function (anyway) {\r\n    var i, idx, ceil, morphs, cell, cnts, label, button, max,\r\n        starttime, maxtime = 1000;\r\n\r\n    this.frame.contents.children.forEach(function (m) {\r\n        if (m instanceof CellMorph) {\r\n            if (m.contentsMorph instanceof ListWatcherMorph) {\r\n                m.contentsMorph.update();\r\n            } else if (isSnapObject(m.contents)) {\r\n                m.update();\r\n            }\r\n        }\r\n    });\r\n\r\n    if (this.lastUpdated === this.list.lastChanged && !anyway) {\r\n        return null;\r\n    }\r\n\r\n    this.updateLength(true);\r\n\r\n    // adjust start index to current list length\r\n    this.start = Math.max(\r\n        Math.min(\r\n            this.start,\r\n            Math.floor((this.list.length() - 1) / this.range)\r\n                * this.range + 1\r\n        ),\r\n        1\r\n    );\r\n\r\n    // refresh existing cells\r\n    // highest index shown:\r\n    max = Math.min(\r\n        this.start + this.range - 1,\r\n        this.list.length()\r\n    );\r\n\r\n    // number of morphs available for refreshing\r\n    ceil = Math.min(\r\n        (max - this.start + 1) * 3,\r\n        this.frame.contents.children.length\r\n    );\r\n\r\n    for (i = 0; i < ceil; i += 3) {\r\n        idx = this.start + (i / 3);\r\n\r\n        cell = this.frame.contents.children[i];\r\n        label = this.frame.contents.children[i + 1];\r\n        button = this.frame.contents.children[i + 2];\r\n        cnts = this.list.at(idx);\r\n\r\n        if (cell.contents !== cnts) {\r\n            cell.contents = cnts;\r\n            cell.drawNew();\r\n            if (this.lastCell) {\r\n                cell.setLeft(this.lastCell.left());\r\n            }\r\n        }\r\n        this.lastCell = cell;\r\n\r\n        if (label.text !== idx.toString()) {\r\n            label.text = idx.toString();\r\n            label.drawNew();\r\n        }\r\n\r\n        button.action = idx;\r\n    }\r\n\r\n    // remove excess cells\r\n    // number of morphs to be shown\r\n    morphs = (max - this.start + 1) * 3;\r\n\r\n    while (this.frame.contents.children.length > morphs) {\r\n        this.frame.contents.children[morphs].destroy();\r\n    }\r\n\r\n    // add additional cells\r\n    ceil = morphs; //max * 3;\r\n    i = this.frame.contents.children.length;\r\n\r\n    starttime = Date.now();\r\n    if (ceil > i + 1) {\r\n        for (i; i < ceil; i += 3) {\r\n            if (Date.now() - starttime > maxtime) {\r\n                this.fixLayout();\r\n                this.frame.contents.adjustBounds();\r\n                this.frame.contents.setLeft(this.frame.left());\r\n                return null;\r\n            }\r\n            idx = this.start + (i / 3);\r\n            label = new StringMorph(\r\n                idx.toString(),\r\n                SyntaxElementMorph.prototype.fontSize,\r\n                null,\r\n                false,\r\n                false,\r\n                false,\r\n                MorphicPreferences.isFlat ? new Point() : new Point(1, 1),\r\n                new Color(255, 255, 255)\r\n            );\r\n            cell = new CellMorph(\r\n                this.list.at(idx),\r\n                this.cellColor,\r\n                idx,\r\n                this.parentCell\r\n            );\r\n            button = new PushButtonMorph(\r\n                this.list.remove,\r\n                idx,\r\n                '-',\r\n                this.list\r\n            );\r\n            button.padding = 1;\r\n            button.edge = 0;\r\n            button.corner = 1;\r\n            button.outlineColor = this.color.darker();\r\n            button.drawNew();\r\n            button.fixLayout();\r\n\r\n            this.frame.contents.add(cell);\r\n            if (this.lastCell) {\r\n                cell.setPosition(this.lastCell.bottomLeft());\r\n            } else {\r\n                cell.setTop(this.frame.contents.top());\r\n            }\r\n            this.lastCell = cell;\r\n            label.setCenter(cell.center());\r\n            label.setRight(cell.left() - 2);\r\n            this.frame.contents.add(label);\r\n            this.frame.contents.add(button);\r\n        }\r\n    }\r\n    this.lastCell = null;\r\n\r\n    this.fixLayout();\r\n    this.frame.contents.adjustBounds();\r\n    this.frame.contents.setLeft(this.frame.left());\r\n    this.updateLength();\r\n    this.lastUpdated = this.list.lastChanged;\r\n};\r\n\r\nListWatcherMorph.prototype.updateLength = function (notDone) {\r\n    this.label.text = localize('length: ') + this.list.length();\r\n    if (notDone) {\r\n        this.label.color = new Color(0, 0, 100);\r\n    } else {\r\n        this.label.color = new Color(0, 0, 0);\r\n    }\r\n    this.label.drawNew();\r\n    this.label.setCenter(this.center());\r\n    this.label.setBottom(this.bottom() - 3);\r\n};\r\n\r\nListWatcherMorph.prototype.startIndexMenu = function () {\r\n    var i,\r\n        range,\r\n        myself = this,\r\n        items = Math.ceil(this.list.length() / this.range),\r\n        menu = new MenuMorph(\r\n            function (idx) {myself.setStartIndex(idx); },\r\n            null,\r\n            myself\r\n        );\r\n    menu.addItem('1...', 1);\r\n    for (i = 1; i < items; i += 1) {\r\n        range = i * 100 + 1;\r\n        menu.addItem(range + '...', range);\r\n    }\r\n    menu.popUpAtHand(this.world());\r\n};\r\n\r\nListWatcherMorph.prototype.setStartIndex = function (index) {\r\n    this.start = index;\r\n    this.list.changed();\r\n};\r\n\r\nListWatcherMorph.prototype.fixLayout = function () {\r\n    if (!this.label) {return; }\r\n    Morph.prototype.trackChanges = false;\r\n    if (this.frame) {\r\n        this.arrangeCells();\r\n        this.frame.silentSetPosition(this.position().add(3));\r\n        this.frame.bounds.corner = this.bounds.corner.subtract(new Point(\r\n            3,\r\n            17\r\n        ));\r\n        this.frame.drawNew();\r\n        this.frame.contents.adjustBounds();\r\n    }\r\n\r\n    this.label.setCenter(this.center());\r\n    this.label.setBottom(this.bottom() - 3);\r\n    this.plusButton.setLeft(this.left() + 3);\r\n    this.plusButton.setBottom(this.bottom() - 3);\r\n\r\n    Morph.prototype.trackChanges = true;\r\n    this.changed();\r\n\r\n    if (this.parent && this.parent.fixLayout) {\r\n        this.parent.fixLayout();\r\n    }\r\n};\r\n\r\nListWatcherMorph.prototype.arrangeCells = function () {\r\n    var i, cell, label, button, lastCell,\r\n        end = this.frame.contents.children.length;\r\n    for (i = 0; i < end; i += 3) {\r\n        cell = this.frame.contents.children[i];\r\n        label = this.frame.contents.children[i + 1];\r\n        button = this.frame.contents.children[i + 2];\r\n        if (lastCell) {\r\n            cell.setTop(lastCell.bottom());\r\n        }\r\n        if (label) {\r\n            label.setTop(cell.center().y - label.height() / 2);\r\n            label.setRight(cell.left() - 2);\r\n        }\r\n        if (button) {\r\n            button.setCenter(cell.center());\r\n            button.setLeft(cell.right() + 2);\r\n        }\r\n        lastCell = cell;\r\n    }\r\n    this.frame.contents.adjustBounds();\r\n};\r\n\r\nListWatcherMorph.prototype.expand = function (maxExtent) {\r\n    // make sure to show all (first 100) cells\r\n    var fe = this.frame.contents.extent(),\r\n        ext = new Point(fe.x + 6, fe.y + this.label.height() + 6);\r\n    if (maxExtent) {\r\n        ext = ext.min(maxExtent);\r\n    }\r\n    this.setExtent(ext);\r\n    this.handle.setRight(this.right() - 3);\r\n    this.handle.setBottom(this.bottom() - 3);\r\n};\r\n\r\n// ListWatcherMorph context menu\r\n\r\nListWatcherMorph.prototype.userMenu = function () {\r\n    if (!List.prototype.enableTables) {\r\n        return this.escalateEvent('userMenu');\r\n    }\r\n    var menu = new MenuMorph(this),\r\n        myself = this;\r\n    menu.addItem('table view...', 'showTableView');\r\n    menu.addLine();\r\n    menu.addItem(\r\n        'open in dialog...',\r\n        function () {\r\n            new TableDialogMorph(myself.list).popUp(myself.world());\r\n        }\r\n    );\r\n    return menu;\r\n};\r\n\r\nListWatcherMorph.prototype.showTableView = function () {\r\n    var view = this.parentThatIsAnyOf([\r\n        SpriteBubbleMorph,\r\n        SpeechBubbleMorph,\r\n        CellMorph\r\n    ]);\r\n    if (!view) {return; }\r\n    if (view instanceof SpriteBubbleMorph) {\r\n        view.changed();\r\n        view.drawNew(true);\r\n    } else if (view instanceof SpeechBubbleMorph) {\r\n        view.contents = new TableFrameMorph(new TableMorph(this.list, 10));\r\n        view.contents.expand(this.extent());\r\n        view.drawNew(true);\r\n    } else { // watcher cell\r\n        view.drawNew(true, 'table');\r\n        view.contentsMorph.expand(this.extent());\r\n    }\r\n    view.fixLayout();\r\n};\r\n\r\n// ListWatcherMorph events:\r\n\r\nListWatcherMorph.prototype.mouseDoubleClick = function (pos) {\r\n    if (List.prototype.enableTables) {\r\n        new TableDialogMorph(this.list).popUp(this.world());\r\n    } else {\r\n        this.escalateEvent('mouseDoubleClick', pos);\r\n    }\r\n};\r\n\r\n// ListWatcherMorph hiding/showing:\r\n\r\nListWatcherMorph.prototype.show = function () {\r\n    ListWatcherMorph.uber.show.call(this);\r\n    this.frame.contents.adjustBounds();\r\n};\r\n\r\n// ListWatcherMorph drawing:\r\n\r\nListWatcherMorph.prototype.drawNew = function () {\r\n    WatcherMorph.prototype.drawNew.call(this);\r\n    this.fixLayout();\r\n};\r\n//fin de Lists.js\r\n/*\r\n\r\n    byob.js\r\n\r\n    \"build your own blocks\" for Snap!\r\n    based on morphic.js, widgets.js blocks.js, threads.js and objects.js\r\n    inspired by Scratch\r\n\r\n    written by Jens Mönig\r\n    jens@moenig.org\r\n\r\n    Copyright (C) 2017 by Jens Mönig\r\n\r\n    This file is part of Snap!.\r\n\r\n    Snap! is free software: you can redistribute it and/or modify\r\n    it under the terms of the GNU Affero General Public License as\r\n    published by the Free Software Foundation, either version 3 of\r\n    the License, or (at your option) any later version.\r\n\r\n    This program is distributed in the hope that it will be useful,\r\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n    GNU Affero General Public License for more details.\r\n\r\n    You should have received a copy of the GNU Affero General Public License\r\n    along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n\r\n\r\n    prerequisites:\r\n    --------------\r\n    needs blocks.js, threads.js, objects.js, widgets.js and morphic.js\r\n\r\n\r\n    hierarchy\r\n    ---------\r\n    the following tree lists all constructors hierarchically,\r\n    indentation indicating inheritance. Refer to this list to get a\r\n    contextual overview:\r\n\r\n    BlockLabelFragment\r\n    CustomBlockDefinition\r\n\r\n    CommandBlockMorph***\r\n        CustomCommandBlockMorph\r\n        HatBlockMorph***\r\n            PrototypeHatBlockMorph\r\n\r\n    DialogBoxMorph**\r\n        BlockDialogMorph\r\n        BlockEditorMorph\r\n        BlockExportDialogMorph\r\n        BlockImportDialogMorph\r\n        BlockRemovalDialogMorph\r\n        InputSlotDialogMorph\r\n        VariableDialogMorph\r\n\r\n    ReporterBlockMorph***\r\n        CustomReporterBlockMorph\r\n        JaggedBlockMorph\r\n\r\n\r\n    StringMorph*\r\n        BlockLabelFragmentMorph\r\n        BlockLabelPlaceHolderMorph\r\n\r\n    TemplateSlotMorph***\r\n        BlockInputFragmentMorph\r\n\r\n    * from morphic.js\r\n    ** from widgets.js\r\n    *** from blocks.js\r\n\r\n\r\n    toc\r\n    ---\r\n    the following list shows the order in which all constructors are\r\n    defined. Use this list to locate code in this document:\r\n\r\n    CustomBlockDefinition\r\n    CustomCommandBlockMorph\r\n    CustomReporterBlockMorph\r\n    JaggedBlockMorph\r\n    BlockDialogMorph\r\n    BlockEditorMorph\r\n    PrototypeHatBlockMorph\r\n    BlockLabelFragmentMorph\r\n    BlockLabelPlaceHolderMorph\r\n    BlockInputFragmentMorph\r\n    InputSlotDialogMorph\r\n    VariableDialogMorph\r\n    BlockExportDialogMorph\r\n    BlockImportDialogMorph\r\n    BlockRemovalDialogMorph\r\n\r\n*/\r\n\r\n/*global modules, CommandBlockMorph, SpriteMorph, TemplateSlotMorph,\r\nStringMorph, Color, DialogBoxMorph, ScriptsMorph, ScrollFrameMorph,\r\nPoint, HandleMorph, HatBlockMorph, BlockMorph, detect, List, Process,\r\nAlignmentMorph, ToggleMorph, InputFieldMorph, ReporterBlockMorph,\r\nStringMorph, nop, newCanvas, radians, BoxMorph, ArrowMorph, PushButtonMorph,\r\ncontains, InputSlotMorph, ToggleButtonMorph, IDE_Morph, MenuMorph, copy,\r\nToggleElementMorph, Morph, fontHeight, StageMorph, SyntaxElementMorph,\r\nSnapSerializer, CommentMorph, localize, CSlotMorph, MorphicPreferences,\r\nSymbolMorph, isNil, CursorMorph, VariableFrame, WatcherMorph, Variable,\r\nBooleanSlotMorph, XML_Serializer, SnapTranslator*/\r\n\r\n// Global stuff ////////////////////////////////////////////////////////\r\n\r\nmodules.byob = '2017-December-01';\r\n\r\n// Declarations\r\n\r\nvar CustomBlockDefinition;\r\nvar CustomCommandBlockMorph;\r\nvar CustomReporterBlockMorph;\r\nvar BlockDialogMorph;\r\nvar BlockEditorMorph;\r\nvar PrototypeHatBlockMorph;\r\nvar BlockLabelFragment;\r\nvar BlockLabelFragmentMorph;\r\nvar BlockInputFragmentMorph;\r\nvar BlockLabelPlaceHolderMorph;\r\nvar InputSlotDialogMorph;\r\nvar VariableDialogMorph;\r\nvar JaggedBlockMorph;\r\nvar BlockExportDialogMorph;\r\nvar BlockImportDialogMorph;\r\nvar BlockRemovalDialogMorph;\r\n\r\n// CustomBlockDefinition ///////////////////////////////////////////////\r\n\r\n// CustomBlockDefinition instance creation:\r\n\r\nfunction CustomBlockDefinition(spec, receiver) {\r\n    this.body = null; // a Context (i.e. a reified top block)\r\n    this.scripts = [];\r\n    this.category = null;\r\n    this.isGlobal = false;\r\n    this.type = 'command';\r\n    this.spec = spec || '';\r\n    // format: {'inputName' : [type, default, options, readonly]}\r\n    this.declarations = {};\r\n    this.variableNames = [];\r\n    this.comment = null;\r\n    this.codeMapping = null; // experimental, generate text code\r\n    this.codeHeader = null; // experimental, generate text code\r\n    this.translations = {}; // experimental, format: {lang : spec}\r\n\r\n    // don't serialize (not needed for functionality):\r\n    this.receiver = receiver || null; // for serialization only (pointer)\r\n    this.editorDimensions = null; // a rectangle, last bounds of the editor\r\n    this.cachedIsRecursive = null; // for automatic yielding\r\n    this.cachedTranslation = null; // for localized block specs\r\n}\r\n\r\n// CustomBlockDefinition instantiating blocks\r\n\r\nCustomBlockDefinition.prototype.blockInstance = function () {\r\n    var block;\r\n    if (this.type === 'command') {\r\n        block = new CustomCommandBlockMorph(this);\r\n    } else {\r\n        block = new CustomReporterBlockMorph(\r\n            this,\r\n            this.type === 'predicate'\r\n        );\r\n    }\r\n    block.isDraggable = true;\r\n    return block;\r\n};\r\n\r\nCustomBlockDefinition.prototype.templateInstance = function () {\r\n    var block;\r\n    block = this.blockInstance();\r\n    block.refreshDefaults(this);\r\n    block.isDraggable = false;\r\n    block.isTemplate = true;\r\n    return block;\r\n};\r\n\r\nCustomBlockDefinition.prototype.prototypeInstance = function () {\r\n    var block, slot, myself = this;\r\n\r\n    // make a new block instance and mark it as prototype\r\n    if (this.type === 'command') {\r\n        block = new CustomCommandBlockMorph(this, true);\r\n    } else {\r\n        block = new CustomReporterBlockMorph(\r\n            this,\r\n            this.type === 'predicate',\r\n            true\r\n        );\r\n    }\r\n\r\n    // assign slot declarations to prototype inputs\r\n    block.parts().forEach(function (part) {\r\n        if (part instanceof BlockInputFragmentMorph) {\r\n            slot = myself.declarations[part.fragment.labelString];\r\n            if (slot) {\r\n                part.fragment.type = slot[0];\r\n                part.fragment.defaultValue = slot[1];\r\n                part.fragment.options = slot[2];\r\n                part.fragment.isReadOnly = slot[3] || false;\r\n            }\r\n        }\r\n    });\r\n\r\n    return block;\r\n};\r\n\r\n// CustomBlockDefinition duplicating\r\n\r\nCustomBlockDefinition.prototype.copyAndBindTo = function (sprite, headerOnly) {\r\n    var c = copy(this);\r\n\r\n    delete c[XML_Serializer.prototype.idProperty];\r\n    c.receiver = sprite; // only for (kludgy) serialization\r\n    c.declarations = copy(this.declarations); // might have to go deeper\r\n    if (headerOnly) { // for serializing inherited method signatures\r\n        c.body = null;\r\n        return c;\r\n    }\r\n    if (c.body) {\r\n        c.body = Process.prototype.reify.call(\r\n            null,\r\n            this.body.expression,\r\n            new List(this.inputNames())\r\n        );\r\n        c.body.outerContext = null;\r\n    }\r\n    return c;\r\n};\r\n\r\n// CustomBlockDefinition accessing\r\n\r\nCustomBlockDefinition.prototype.blockSpec = function () {\r\n    var myself = this,\r\n        ans = [],\r\n        parts = this.parseSpec(this.spec),\r\n        spec;\r\n    parts.forEach(function (part) {\r\n        if (part[0] === '%' && part.length > 1) {\r\n            spec = myself.typeOf(part.slice(1));\r\n        } else if (part === '$nl') {\r\n            spec = '%br';\r\n        } else {\r\n            spec = part;\r\n        }\r\n        ans.push(spec);\r\n        ans.push(' ');\r\n    });\r\n    return ''.concat.apply('', ans).trim();\r\n};\r\n\r\nCustomBlockDefinition.prototype.helpSpec = function () {\r\n    var ans = [],\r\n        parts = this.parseSpec(this.spec);\r\n    parts.forEach(function (part) {\r\n        if (part[0] !== '%') {\r\n            ans.push(part);\r\n        }\r\n    });\r\n    return ''.concat.apply('', ans).replace(/\\?/g, '');\r\n};\r\n\r\nCustomBlockDefinition.prototype.typeOf = function (inputName) {\r\n    if (this.declarations[inputName]) {\r\n        return this.declarations[inputName][0];\r\n    }\r\n    return '%s';\r\n};\r\n\r\nCustomBlockDefinition.prototype.defaultValueOf = function (inputName) {\r\n    if (this.declarations[inputName]) {\r\n        return this.declarations[inputName][1];\r\n    }\r\n    return '';\r\n};\r\n\r\nCustomBlockDefinition.prototype.defaultValueOfInputIdx = function (idx) {\r\n    var inputName = this.inputNames()[idx];\r\n    return this.defaultValueOf(inputName);\r\n};\r\n\r\nCustomBlockDefinition.prototype.dropDownMenuOfInputIdx = function (idx) {\r\n    var inputName = this.inputNames()[idx];\r\n    return this.dropDownMenuOf(inputName);\r\n};\r\n\r\nCustomBlockDefinition.prototype.isReadOnlyInputIdx = function (idx) {\r\n    var inputName = this.inputNames()[idx];\r\n    return this.isReadOnlyInput(inputName);\r\n};\r\n\r\nCustomBlockDefinition.prototype.inputOptionsOfIdx = function (idx) {\r\n    var inputName = this.inputNames()[idx];\r\n    return this.inputOptionsOf(inputName);\r\n};\r\n\r\nCustomBlockDefinition.prototype.dropDownMenuOf = function (inputName) {\r\n    if (this.declarations[inputName] && this.declarations[inputName][2]) {\r\n        return this.parseChoices(this.declarations[inputName][2]);\r\n    }\r\n    return null;\r\n};\r\n\r\nCustomBlockDefinition.prototype.parseChoices = function (string) {\r\n    var dict = {},\r\n        stack = [dict];\r\n    string.split('\\n').forEach(function (line) {\r\n        var pair = line.split('=');\r\n        if (pair[0] === '}') {\r\n            stack.pop();\r\n            dict = stack[stack.length - 1];\r\n        } else if (pair[1] === '{') {\r\n            dict = {};\r\n            stack[stack.length - 1][pair[0]] = dict;\r\n            stack.push(dict);\r\n        } else {\r\n            dict[pair[0]] = isNil(pair[1]) ? pair[0] : pair[1];\r\n        }\r\n    });\r\n    return dict;\r\n};\r\n\r\nCustomBlockDefinition.prototype.isReadOnlyInput = function (inputName) {\r\n    return this.declarations[inputName] &&\r\n        this.declarations[inputName][3] === true;\r\n};\r\n\r\nCustomBlockDefinition.prototype.inputOptionsOf = function (inputName) {\r\n    return [\r\n        this.dropDownMenuOf(inputName),\r\n        this.isReadOnlyInput(inputName)\r\n    ];\r\n};\r\n\r\nCustomBlockDefinition.prototype.inputNames = function () {\r\n    var vNames = [],\r\n        parts = this.parseSpec(this.spec);\r\n    parts.forEach(function (part) {\r\n        if (part[0] === '%' && part.length > 1) {\r\n            vNames.push(part.slice(1));\r\n        }\r\n    });\r\n    return vNames;\r\n};\r\n\r\nCustomBlockDefinition.prototype.parseSpec = function (spec) {\r\n    // private\r\n    var parts = [], word = '', i, quoted = false, c;\r\n    for (i = 0; i < spec.length; i += 1) {\r\n        c = spec[i];\r\n        if (c === \"'\") {\r\n            quoted = !quoted;\r\n        } else if (c === ' ' && !quoted) {\r\n            parts.push(word);\r\n            word = '';\r\n        } else {\r\n            word = word.concat(c);\r\n        }\r\n    }\r\n    parts.push(word);\r\n    return parts;\r\n};\r\n\r\nCustomBlockDefinition.prototype.isDirectlyRecursive = function () {\r\n    var myspec;\r\n    if (this.cachedIsRecursive !== null) {\r\n        return this.cachedIsRecursive;\r\n    }\r\n    if (!this.body) {\r\n        this.cachedIsRecursive = false;\r\n    } else {\r\n        myspec = this.blockSpec();\r\n        this.cachedIsRecursive = this.body.expression.anyChild(\r\n            function (morph) {\r\n                return morph.isCustomBlock &&\r\n                    morph.blockSpec === myspec;\r\n            }\r\n        );\r\n    }\r\n    return this.cachedIsRecursive;\r\n};\r\n\r\n// CustomBlockDefinition localizing, highly experimental\r\n\r\nCustomBlockDefinition.prototype.localizedSpec = function () {\r\n\tif (this.cachedTranslation) {return this.cachedTranslation; }\r\n\r\n\tvar loc = this.translations[SnapTranslator.language],\r\n\t\tsem = this.blockSpec(),\r\n        locParts,\r\n  \t\tinputs,\r\n    \ti = -1;\r\n\r\n\tfunction isInput(str) {\r\n    \treturn (str.length > 1) && (str[0] === '%');\r\n \t}\r\n\r\n    if (isNil(loc)) {return sem; }\r\n    inputs = BlockMorph.prototype.parseSpec(sem).filter(function (str) {\r\n        return (isInput(str));\r\n    });\r\n\tlocParts = BlockMorph.prototype.parseSpec(loc);\r\n\r\n\t// perform a bunch of sanity checks on the localized spec\r\n\tif (locParts.some(function (str) {return isInput(str); }) ||\r\n \t\t\t(locParts.filter(function (str) {return str === '_'; }).length !==\r\n            \tinputs.length)\r\n    ) {\r\n \t\tthis.cachedTranslation = sem;\r\n    } else {\r\n\t\t// substitute each input place holder with its semantic spec part\r\n\t\tlocParts = locParts.map(function (str) {\r\n\t\t\tif (str === '_') {\r\n  \t\t\t\ti += 1;\r\n  \t\t\t\treturn inputs[i];\r\n  \t\t\t}\r\n    \t\treturn str;\r\n\t\t});\r\n \t\tthis.cachedTranslation = locParts.join(' ');\r\n   \t}\r\n  \treturn this.cachedTranslation;\r\n};\r\n\r\nCustomBlockDefinition.prototype.abstractBlockSpec = function () {\r\n\t// answer the semantic block spec substituting each input\r\n \t// with an underscore\r\n    return BlockMorph.prototype.parseSpec(this.blockSpec()).map(\r\n    \tfunction (str) {\r\n    \t\treturn (str.length > 1 && (str[0]) === '%') ? '_' : str;\r\n    \t}\r\n    ).join(' ');\r\n};\r\n\r\nCustomBlockDefinition.prototype.translationsAsText = function () {\r\n\tvar myself = this,\r\n \t\ttxt = '';\r\n\tObject.keys(this.translations).forEach(function (lang) {\r\n \t\ttxt += (lang + ':' + myself.translations[lang] + '\\n');\r\n    });\r\n    return txt;\r\n};\r\n\r\nCustomBlockDefinition.prototype.updateTranslations = function (text) {\r\n\tvar myself = this,\r\n    \tlines = text.split('\\n').filter(function (txt) {\r\n     \t   return txt.length;\r\n    \t});\r\n\tthis.translations = {};\r\n \tlines.forEach(function (txt) {\r\n  \t\tvar idx = txt.indexOf(':'),\r\n    \t\tkey = txt.slice(0, idx).trim(),\r\n      \t\tval = txt.slice(idx + 1).trim();\r\n    \tif (idx) {\r\n     \t\tmyself.translations[key] = val;\r\n     \t}\r\n    });\r\n};\r\n\r\n// CustomBlockDefinition picturing\r\n\r\nCustomBlockDefinition.prototype.scriptsPicture = function () {\r\n    return this.scriptsModel().scriptsPicture();\r\n};\r\n\r\nCustomBlockDefinition.prototype.sortedElements = function () {\r\n    return this.scriptsModel().sortedElements();\r\n};\r\n\r\nCustomBlockDefinition.prototype.scriptsModel = function () {\r\n    // answer a restored scripting area for the sake\r\n    // of creating script pictures\r\n    var scripts, proto, block, comment, template;\r\n\r\n    scripts = new ScriptsMorph();\r\n    scripts.cleanUpMargin = 10;\r\n    proto = new PrototypeHatBlockMorph(this);\r\n    proto.setPosition(scripts.position().add(10));\r\n    if (this.comment !== null) {\r\n        comment = this.comment.fullCopy();\r\n        proto.comment = comment;\r\n        comment.block = proto;\r\n    }\r\n    if (this.body !== null) {\r\n        proto.nextBlock(this.body.expression.fullCopy());\r\n    }\r\n    scripts.add(proto);\r\n    proto.fixBlockColor(null, true);\r\n    this.scripts.forEach(function (element) {\r\n        block = element.fullCopy();\r\n        block.setPosition(scripts.position().add(element.position()));\r\n        scripts.add(block);\r\n        if (block instanceof BlockMorph) {\r\n            block.allComments().forEach(function (comment) {\r\n                comment.align(block);\r\n            });\r\n        }\r\n    });\r\n    proto.allComments().forEach(function (comment) {\r\n        comment.align(proto);\r\n    });\r\n    template = proto.parts()[0];\r\n    template.fixLayout();\r\n    template.forceNormalColoring();\r\n    template.fixBlockColor(proto, true);\r\n    scripts.fixMultiArgs();\r\n    return scripts;\r\n};\r\n\r\n// CustomBlockDefinition purging deleted blocks\r\n\r\nCustomBlockDefinition.prototype.purgeCorpses = function () {\r\n    // remove blocks that have been marked for deletion\r\n    if (this.body && this.body.expression.isCorpse) {\r\n        this.body = null;\r\n    }\r\n    this.scripts = this.scripts.filter(function (topBlock) {\r\n        return !topBlock.isCorpse;\r\n    });\r\n};\r\n\r\n// CustomCommandBlockMorph /////////////////////////////////////////////\r\n\r\n// CustomCommandBlockMorph inherits from CommandBlockMorph:\r\n\r\nCustomCommandBlockMorph.prototype = new CommandBlockMorph();\r\nCustomCommandBlockMorph.prototype.constructor = CustomCommandBlockMorph;\r\nCustomCommandBlockMorph.uber = CommandBlockMorph.prototype;\r\n\r\n// CustomCommandBlockMorph shared settings:\r\n\r\nCustomCommandBlockMorph.prototype.isCustomBlock = true;\r\n\r\n// CustomCommandBlockMorph instance creation:\r\n\r\nfunction CustomCommandBlockMorph(definition, isProto) {\r\n    this.init(definition, isProto);\r\n}\r\n\r\nCustomCommandBlockMorph.prototype.init = function (definition, isProto) {\r\n    this.definition = definition; // mandatory\r\n    this.semanticSpec = '';\r\n    this.isGlobal = definition ? definition.isGlobal : false;\r\n    this.isPrototype = isProto || false; // optional\r\n    CustomCommandBlockMorph.uber.init.call(this, true); // silently\r\n    this.category = definition.category;\r\n    this.selector = 'evaluateCustomBlock';\r\n    this.variables = null;\r\n    this.initializeVariables();\r\n    if (definition) { // needed for de-serializing\r\n        this.refresh();\r\n    }\r\n};\r\n\r\nCustomCommandBlockMorph.prototype.initializeVariables = function (oldVars) {\r\n    var myself = this;\r\n    this.variables = new VariableFrame();\r\n    if (!this.isGlobal) {\r\n        return;\r\n    }\r\n    this.definition.variableNames.forEach(function (name) {\r\n        var v = oldVars ? oldVars[name] : null;\r\n        myself.variables.addVar(\r\n            name,\r\n            v instanceof Variable ? v.value : null\r\n        );\r\n    });\r\n};\r\n\r\nCustomCommandBlockMorph.prototype.refresh = function (aDefinition, silently) {\r\n    var def = aDefinition || this.definition,\r\n        newSpec = this.isPrototype ?\r\n                def.spec : def.localizedSpec(),\r\n        oldInputs;\r\n\r\n\tthis.semanticSpec = def.blockSpec();\r\n\r\n    // make sure local custom blocks don't hold on to a method.\r\n    // future performance optimization plan:\r\n    // null out the definition for local blocks here,\r\n    // and then cache them again when invoking them\r\n    if (!this.isGlobal && !this.isPrototype) {\r\n        this.definition = null;\r\n    }\r\n\r\n    this.setCategory(def.category);\r\n    if (this.blockSpec !== newSpec) {\r\n        oldInputs = this.inputs();\r\n        if (!this.zebraContrast) {\r\n            this.forceNormalColoring();\r\n        } else {\r\n            this.fixBlockColor();\r\n        }\r\n        this.setSpec(newSpec, silently, def);\r\n        this.fixLabelColor();\r\n        this.restoreInputs(oldInputs);\r\n    } else { // update all input slots' drop-downs\r\n        this.inputs().forEach(function (inp, i) {\r\n            if (inp instanceof InputSlotMorph) {\r\n                inp.setChoices.apply(inp, def.inputOptionsOfIdx(i));\r\n            }\r\n        });\r\n    }\r\n\r\n    // find unnamed upvars and label them\r\n    // to their internal definition (default)\r\n    this.cachedInputs = null;\r\n    this.inputs().forEach(function (inp, idx) {\r\n        if (inp instanceof TemplateSlotMorph && inp.contents() === '\\u2191') {\r\n            inp.setContents(def.inputNames()[idx]);\r\n        }\r\n    });\r\n\r\n    // initialize block vars\r\n    // preserve values of unchanged variable names\r\n    if (this.isGlobal) {\r\n        this.initializeVariables(this.variables.vars);\r\n    }\r\n\r\n    // make (double) sure I'm colored correctly\r\n    this.forceNormalColoring();\r\n    this.drawNew();\r\n    this.fixBlockColor(null, true);\r\n};\r\n\r\nCustomCommandBlockMorph.prototype.restoreInputs = function (oldInputs) {\r\n    // try to restore my previous inputs when my spec has been changed\r\n    var i = 0,\r\n        old,\r\n        myself = this;\r\n\r\n    if (this.isPrototype) {return; }\r\n    this.cachedInputs = null;\r\n    this.inputs().forEach(function (inp) {\r\n        old = oldInputs[i];\r\n        if (old instanceof ReporterBlockMorph &&\r\n                (!(inp instanceof TemplateSlotMorph))) {\r\n            myself.silentReplaceInput(inp, old.fullCopy());\r\n        } else if (old instanceof InputSlotMorph\r\n                && inp instanceof InputSlotMorph) {\r\n            inp.setContents(old.evaluate());\r\n        } else if (old instanceof TemplateSlotMorph\r\n                && inp instanceof TemplateSlotMorph) {\r\n            inp.setContents(old.evaluate());\r\n        } else if (old instanceof CSlotMorph\r\n                && inp instanceof CSlotMorph) {\r\n            inp.nestedBlock(old.evaluate());\r\n        }\r\n        i += 1;\r\n    });\r\n    this.cachedInputs = null;\r\n};\r\n\r\nCustomCommandBlockMorph.prototype.refreshDefaults = function (definition) {\r\n    // fill my editable slots with the defaults specified in my definition\r\n    var inputs = this.inputs(), idx = 0, myself = this;\r\n\r\n    inputs.forEach(function (inp) {\r\n        if (inp instanceof InputSlotMorph || inp instanceof BooleanSlotMorph) {\r\n            inp.setContents(\r\n                (definition || myself.definition).defaultValueOfInputIdx(idx)\r\n            );\r\n        }\r\n        idx += 1;\r\n    });\r\n    this.cachedInputs = null;\r\n};\r\n\r\nCustomCommandBlockMorph.prototype.refreshPrototype = function () {\r\n    // create my label parts from my (edited) fragments only\r\n    var hat,\r\n        protoSpec,\r\n        frags = [],\r\n        myself = this,\r\n        words,\r\n        newFrag,\r\n        i = 0;\r\n\r\n    if (!this.isPrototype) {return null; }\r\n\r\n    hat = this.parentThatIsA(PrototypeHatBlockMorph);\r\n\r\n    // remember the edited fragments\r\n    this.parts().forEach(function (part) {\r\n        if (!part.fragment.isDeleted) {\r\n            // take into consideration that a fragment may spawn others\r\n            // if it isn't an input label consisting of several words\r\n            if (part.fragment.type) { // marked as input, take label as is\r\n                frags.push(part.fragment);\r\n            } else { // not an input, devide into several non-input fragments\r\n                words = myself.definition.parseSpec(\r\n                    part.fragment.labelString\r\n                );\r\n                words.forEach(function (word) {\r\n                    newFrag = part.fragment.copy();\r\n                    newFrag.labelString = word;\r\n                    frags.push(newFrag);\r\n                });\r\n            }\r\n        }\r\n    });\r\n\r\n    // remember the edited prototype spec\r\n    protoSpec = this.specFromFragments();\r\n\r\n\r\n    // update the prototype's type\r\n    // and possibly exchange 'this' for 'myself'\r\n    if (this instanceof CustomCommandBlockMorph\r\n            && ((hat.type === 'reporter') || (hat.type === 'predicate'))) {\r\n        myself = new CustomReporterBlockMorph(\r\n            this.definition,\r\n            hat.type === 'predicate',\r\n            true\r\n        );\r\n        hat.silentReplaceInput(this, myself);\r\n    } else if (this instanceof CustomReporterBlockMorph) {\r\n        if (hat.type === 'command') {\r\n            myself = new CustomCommandBlockMorph(\r\n                this.definition,\r\n                true\r\n            );\r\n            hat.silentReplaceInput(this, myself);\r\n        } else {\r\n            this.isPredicate = (hat.type === 'predicate');\r\n            this.drawNew();\r\n        }\r\n    }\r\n    myself.setCategory(hat.blockCategory || 'other');\r\n    hat.fixBlockColor();\r\n\r\n    // update the (new) prototype's appearance\r\n    myself.setSpec(protoSpec);\r\n\r\n    // update the (new) prototype's (new) fragments\r\n    // with the previously edited ones\r\n\r\n    myself.parts().forEach(function (part) {\r\n        if (!(part instanceof BlockLabelPlaceHolderMorph)) {\r\n            if (frags[i]) { // don't delete the default fragment\r\n                part.fragment = frags[i];\r\n            }\r\n            i += 1;\r\n        }\r\n    });\r\n\r\n    // refresh slot type indicators\r\n    this.refreshPrototypeSlotTypes();\r\n\r\n    hat.fixLayout();\r\n};\r\n\r\nCustomCommandBlockMorph.prototype.refreshPrototypeSlotTypes = function () {\r\n    this.parts().forEach(function (part) {\r\n        if (part instanceof BlockInputFragmentMorph) {\r\n            part.template().instantiationSpec = part.contents();\r\n            part.setContents(part.fragment.defTemplateSpecFragment());\r\n        }\r\n    });\r\n    this.fixBlockColor(null, true); // enforce zebra coloring of templates\r\n};\r\n\r\n\r\nCustomCommandBlockMorph.prototype.inputFragmentNames = function () {\r\n    // for the variable name slot drop-down menu (in the block editor)\r\n    var ans = [];\r\n\r\n    this.parts().forEach(function (part) {\r\n        if (!part.fragment.isDeleted && (part.fragment.type)) {\r\n            ans.push(part.fragment.labelString);\r\n        }\r\n    });\r\n    return ans;\r\n};\r\n\r\nCustomCommandBlockMorph.prototype.upvarFragmentNames = function () {\r\n    // for the variable name slot drop-down menu (in the block editor)\r\n    var ans = [];\r\n\r\n    this.parts().forEach(function (part) {\r\n        if (!part.fragment.isDeleted && (part.fragment.type === '%upvar')) {\r\n            ans.push(part.fragment.labelString);\r\n        }\r\n    });\r\n    return ans;\r\n};\r\n\r\nCustomCommandBlockMorph.prototype.upvarFragmentName = function (idx) {\r\n    // for block prototypes while they are being edited\r\n    return this.upvarFragmentNames()[idx] || '\\u2191';\r\n};\r\n\r\nCustomCommandBlockMorph.prototype.specFromFragments = function () {\r\n    // for block prototypes while they are being edited\r\n    var ans = '';\r\n\r\n    this.parts().forEach(function (part) {\r\n        if (!part.fragment.isDeleted) {\r\n            ans = ans + part.fragment.defSpecFragment() + ' ';\r\n        }\r\n    });\r\n    return ans.trim();\r\n};\r\n\r\nCustomCommandBlockMorph.prototype.blockSpecFromFragments = function () {\r\n    // for block instances while their prototype is being edited\r\n    var ans = '';\r\n\r\n    this.parts().forEach(function (part) {\r\n        if (!part.fragment.isDeleted) {\r\n            ans = ans + part.fragment.blockSpecFragment() + ' ';\r\n        }\r\n    });\r\n    return ans.trim();\r\n};\r\n\r\nCustomCommandBlockMorph.prototype.declarationsFromFragments = function () {\r\n    // format for type declarations: {inputName : [type, default]}\r\n    var ans = {};\r\n\r\n    this.parts().forEach(function (part) {\r\n        if (part instanceof BlockInputFragmentMorph) {\r\n            ans[part.fragment.labelString] = [\r\n                part.fragment.type,\r\n                part.fragment.defaultValue,\r\n                part.fragment.options,\r\n                part.fragment.isReadOnly\r\n            ];\r\n        }\r\n    });\r\n    return ans;\r\n};\r\n\r\nCustomCommandBlockMorph.prototype.parseSpec = function (spec) {\r\n    if (!this.isPrototype) {\r\n        return CustomCommandBlockMorph.uber.parseSpec.call(this, spec);\r\n    }\r\n    return CustomBlockDefinition.prototype.parseSpec(spec);\r\n};\r\n\r\nCustomCommandBlockMorph.prototype.mouseClickLeft = function () {\r\n    if (!this.isPrototype) {\r\n        return CustomCommandBlockMorph.uber.mouseClickLeft.call(this);\r\n    }\r\n    this.edit();\r\n};\r\n\r\nCustomCommandBlockMorph.prototype.edit = function () {\r\n    var myself = this,\r\n        def = this.definition,\r\n        editor, block,\r\n        hat,\r\n        rcvr;\r\n\r\n    if (this.isPrototype) {\r\n        block = this.definition.blockInstance();\r\n        block.addShadow();\r\n        hat = this.parentThatIsA(PrototypeHatBlockMorph);\r\n        new BlockDialogMorph(\r\n            null,\r\n            function (definition) {\r\n                if (definition) { // temporarily update everything\r\n                    hat.blockCategory = definition.category;\r\n                    hat.type = definition.type;\r\n                    myself.refreshPrototype();\r\n                }\r\n            },\r\n            myself\r\n        ).openForChange(\r\n            'Change block',\r\n            hat.blockCategory,\r\n            hat.type,\r\n            myself.world(),\r\n            block.fullImage(),\r\n            myself.isInUse()\r\n        );\r\n    } else {\r\n        // check for local custom block inheritance\r\n        rcvr = this.scriptTarget();\r\n        if (!this.isGlobal) {\r\n            if (contains(\r\n                    Object.keys(rcvr.inheritedBlocks()),\r\n                    this.blockSpec\r\n                )\r\n            ) {\r\n                this.duplicateBlockDefinition();\r\n                return;\r\n            }\r\n            def = rcvr.getMethod(this.semanticSpec);\r\n        }\r\n        Morph.prototype.trackChanges = false;\r\n        editor = new BlockEditorMorph(def, rcvr);\r\n        editor.popUp();\r\n        Morph.prototype.trackChanges = true;\r\n        editor.changed();\r\n    }\r\n};\r\n\r\nCustomCommandBlockMorph.prototype.labelPart = function (spec) {\r\n    var part;\r\n\r\n    if (!this.isPrototype) {\r\n        return CustomCommandBlockMorph.uber.labelPart.call(this, spec);\r\n    }\r\n    if ((spec[0] === '%') && (spec.length > 1)) {\r\n        // part = new BlockInputFragmentMorph(spec.slice(1));\r\n        part = new BlockInputFragmentMorph(spec.replace(/%/g, ''));\r\n    } else {\r\n        part = new BlockLabelFragmentMorph(spec);\r\n        part.fontSize = this.fontSize;\r\n        part.color = new Color(255, 255, 255);\r\n        part.isBold = true;\r\n        part.shadowColor = this.color.darker(this.labelContrast);\r\n        part.shadowOffset = this.embossing;\r\n        part.drawNew();\r\n    }\r\n    return part;\r\n};\r\n\r\nCustomCommandBlockMorph.prototype.placeHolder = function () {\r\n    var part;\r\n\r\n    part = new BlockLabelPlaceHolderMorph();\r\n    part.fontSize = this.fontSize * 1.4;\r\n    part.color = new Color(45, 45, 45);\r\n    part.drawNew();\r\n    return part;\r\n};\r\n\r\nCustomCommandBlockMorph.prototype.attachTargets = function () {\r\n    if (this.isPrototype) {\r\n        return [];\r\n    }\r\n    return CustomCommandBlockMorph.uber.attachTargets.call(this);\r\n};\r\n\r\nCustomCommandBlockMorph.prototype.isInUse = function () {\r\n    // answer true if an instance of my definition is found\r\n    // in any of my receiver's scripts or block definitions\r\n    // NOTE: for sprite-local blocks only to be used in a situation\r\n    // where the user actively clicks on a block in the IDE,\r\n    // e.g. to edit it (and change its type)\r\n    var def = this.definition,\r\n        rcvr = this.scriptTarget(),\r\n        ide = rcvr.parentThatIsA(IDE_Morph);\r\n    if (def.isGlobal && ide) {\r\n        return ide.sprites.asArray().concat([ide.stage]).some(\r\n            function (any, idx) {\r\n                return any.usesBlockInstance(def, false, idx);\r\n            }\r\n        );\r\n    }\r\n    return rcvr.allDependentInvocationsOf(this.blockSpec).length > 0;\r\n};\r\n\r\n// CustomCommandBlockMorph menu:\r\n\r\nCustomCommandBlockMorph.prototype.userMenu = function () {\r\n    var hat = this.parentThatIsA(PrototypeHatBlockMorph),\r\n        rcvr = this.scriptTarget(),\r\n        myself = this,\r\n        shiftClicked = this.world().currentKey === 16,\r\n        menu;\r\n\r\n    function addOption(label, toggle, test, onHint, offHint) {\r\n        var on = '\\u2611 ',\r\n            off = '\\u2610 ';\r\n        menu.addItem(\r\n            (test ? on : off) + localize(label),\r\n            toggle,\r\n            test ? onHint : offHint\r\n        );\r\n    }\r\n\r\n   function monitor(vName) {\r\n        var stage = rcvr.parentThatIsA(StageMorph),\r\n            varFrame = myself.variables;\r\n        menu.addItem(\r\n            vName + '...',\r\n            function () {\r\n                var watcher = detect(\r\n                    stage.children,\r\n                    function (morph) {\r\n                        return morph instanceof WatcherMorph\r\n                            && morph.target === varFrame\r\n                            && morph.getter === vName;\r\n                    }\r\n                ),\r\n                    others;\r\n                if (watcher !== null) {\r\n                    watcher.show();\r\n                    watcher.fixLayout(); // re-hide hidden parts\r\n                    return;\r\n                }\r\n                watcher = new WatcherMorph(\r\n                    vName + ' ' + localize('(temporary)'),\r\n                    SpriteMorph.prototype.blockColor.variables,\r\n                    varFrame,\r\n                    vName\r\n                );\r\n                watcher.setPosition(stage.position().add(10));\r\n                others = stage.watchers(watcher.left());\r\n                if (others.length > 0) {\r\n                    watcher.setTop(others[others.length - 1].bottom());\r\n                }\r\n                stage.add(watcher);\r\n                watcher.fixLayout();\r\n            }\r\n        );\r\n    }\r\n\r\n    if (this.isPrototype) {\r\n        menu = new MenuMorph(this);\r\n        menu.addItem(\r\n            \"script pic...\",\r\n            function () {\r\n                var ide = this.world().children[0];\r\n                ide.saveCanvasAs(\r\n                    this.topBlock().scriptPic(),\r\n                    (ide.projectName || localize('untitled')) + ' ' +\r\n                        localize('script pic')\r\n                );\r\n            },\r\n            'open a new window\\nwith a picture of this script'\r\n        );\r\n        menu.addItem(\r\n            \"translations...\",\r\n            function () {\r\n                hat.parentThatIsA(BlockEditorMorph).editTranslations();\r\n            },\r\n            'experimental -\\nunder construction'\r\n        );\r\n        if (this.isGlobal) {\r\n            if (hat.inputs().length < 2) {\r\n                menu.addItem(\r\n                    \"block variables...\",\r\n                    function () {\r\n                        hat.enableBlockVars();\r\n                    },\r\n                    'experimental -\\nunder construction'\r\n                );\r\n            } else {\r\n                menu.addItem(\r\n                    \"remove block variables...\",\r\n                    function () {\r\n                        hat.enableBlockVars(false);\r\n                    },\r\n                    'experimental -\\nunder construction'\r\n                );\r\n            }\r\n        }\r\n    } else {\r\n        menu = this.constructor.uber.userMenu.call(this);\r\n        if (!menu) {\r\n            menu = new MenuMorph(this);\r\n        } else {\r\n            menu.addLine();\r\n        }\r\n        if (shiftClicked) {\r\n            // menu.addItem(\"export definition...\", 'exportBlockDefinition');\r\n            menu.addItem(\r\n                \"duplicate block definition...\",\r\n                'duplicateBlockDefinition',\r\n                null,\r\n                new Color(100, 0, 0)\r\n            );\r\n        }\r\n\r\n        if (this.isTemplate) { // inside the palette\r\n            if (this.isGlobal) {\r\n                menu.addItem(\r\n                    \"delete block definition...\",\r\n                    'deleteBlockDefinition'\r\n                );\r\n            } else { // local method\r\n                if (contains(\r\n                        Object.keys(rcvr.inheritedBlocks()),\r\n                        this.blockSpec\r\n                )) {\r\n                    // inherited\r\n                    addOption(\r\n                        'inherited',\r\n                        function () {\r\n                            var ide = myself.parentThatIsA(IDE_Morph);\r\n                            rcvr.customBlocks.push(\r\n                                rcvr.getMethod(\r\n                                    myself.blockSpec\r\n                                ).copyAndBindTo(rcvr)\r\n                            );\r\n                            if (ide) {\r\n                                ide.flushPaletteCache();\r\n                                ide.refreshPalette();\r\n                            }\r\n                        },\r\n                        true,\r\n                        'uncheck to\\ndisinherit',\r\n                        null\r\n                    );\r\n                } else if (rcvr.exemplar &&\r\n                    rcvr.exemplar.getMethod(this.blockSpec\r\n                )) {\r\n                    // shadowed\r\n                    addOption(\r\n                        'inherited',\r\n                        'deleteBlockDefinition',\r\n                        false,\r\n                        null,\r\n                        localize('check to inherit\\nfrom')\r\n                            + ' ' + rcvr.exemplar.name\r\n                    );\r\n                } else {\r\n                    // own block\r\n                    menu.addItem(\r\n                        \"delete block definition...\",\r\n                        'deleteBlockDefinition'\r\n                    );\r\n                }\r\n            }\r\n        } else { // inside a script\r\n            // if global or own method - let the user delete the definition\r\n            if (this.isGlobal ||\r\n                contains(\r\n                    Object.keys(rcvr.ownBlocks()),\r\n                    this.blockSpec\r\n                )\r\n            ) {\r\n                menu.addItem(\r\n                    \"delete block definition...\",\r\n                    'deleteBlockDefinition'\r\n                );\r\n            }\r\n        }\r\n\r\n        this.variables.names().forEach(function (vName) {\r\n            monitor(vName);\r\n        });\r\n    }\r\n    menu.addItem(\"edit...\", 'edit'); // works also for prototypes\r\n    return menu;\r\n};\r\n\r\nCustomCommandBlockMorph.prototype.exportBlockDefinition = function () {\r\n    var xml = new SnapSerializer().serialize(this.definition),\r\n        ide = this.parentThatIsA(IDE_Morph);\r\n\r\n    ide.saveXMLAs(xml, this.spec);\r\n};\r\n\r\nCustomCommandBlockMorph.prototype.duplicateBlockDefinition = function () {\r\n    var rcvr = this.scriptTarget(),\r\n        ide = this.parentThatIsA(IDE_Morph),\r\n        def = this.isGlobal ? this.definition : rcvr.getMethod(this.blockSpec),\r\n        dup = def.copyAndBindTo(rcvr);\r\n    if (this.isGlobal) {\r\n        ide.stage.globalBlocks.push(dup);\r\n    } else {\r\n        rcvr.customBlocks.push(dup);\r\n    }\r\n    ide.flushPaletteCache();\r\n    ide.refreshPalette();\r\n    new BlockEditorMorph(dup, rcvr).popUp();\r\n};\r\n\r\nCustomCommandBlockMorph.prototype.deleteBlockDefinition = function () {\r\n    var idx, stage, ide, method, block,\r\n        rcvr = this.scriptTarget(),\r\n        myself = this;\r\n    if (this.isPrototype) {\r\n        return null; // under construction...\r\n    }\r\n    method = this.isGlobal? this.definition\r\n            : rcvr.getLocalMethod(this.blockSpec);\r\n    block = method.blockInstance();\r\n    block.addShadow();\r\n    new DialogBoxMorph(\r\n        this,\r\n        function () {\r\n            rcvr.deleteAllBlockInstances(method);\r\n            if (method.isGlobal) {\r\n                stage = rcvr.parentThatIsA(StageMorph);\r\n                idx = stage.globalBlocks.indexOf(method);\r\n                if (idx !== -1) {\r\n                    stage.globalBlocks.splice(idx, 1);\r\n                }\r\n            } else {\r\n                // delete local definition\r\n                idx = rcvr.customBlocks.indexOf(method);\r\n                if (idx !== -1) {\r\n                    rcvr.customBlocks.splice(idx, 1);\r\n                }\r\n                // refresh instances of inherited method, if any\r\n                method = rcvr.getMethod(myself.blockSpec);\r\n                if (method) {\r\n                    rcvr.allDependentInvocationsOf(myself.blockSpec).forEach(\r\n                        function (block) {\r\n                            block.refresh(method);\r\n                        }\r\n                    );\r\n                }\r\n            }\r\n            ide = rcvr.parentThatIsA(IDE_Morph);\r\n            if (ide) {\r\n                ide.flushPaletteCache();\r\n                ide.refreshPalette();\r\n            }\r\n        },\r\n        this\r\n    ).askYesNo(\r\n        'Delete Custom Block',\r\n        localize('block deletion dialog text'), // long string lookup\r\n        myself.world(),\r\n        block.fullImage()\r\n    );\r\n};\r\n\r\n// CustomCommandBlockMorph relabelling\r\n\r\nCustomCommandBlockMorph.prototype.relabel = function (alternatives) {\r\n    var menu = new MenuMorph(this),\r\n        oldInputs = this.inputs().map(\r\n            function (each) {return each.fullCopy(); }\r\n        ),\r\n        myself = this;\r\n    alternatives.forEach(function (def) {\r\n        var block = def.blockInstance();\r\n        block.restoreInputs(oldInputs);\r\n        block.fixBlockColor(null, true);\r\n        block.addShadow(new Point(3, 3));\r\n        menu.addItem(\r\n            block,\r\n            function () {\r\n                myself.definition = def;\r\n                myself.refresh();\r\n            }\r\n        );\r\n    });\r\n    menu.popup(this.world(), this.bottomLeft().subtract(new Point(\r\n        8,\r\n        this instanceof CommandBlockMorph ? this.corner : 0\r\n    )));\r\n};\r\n\r\nCustomCommandBlockMorph.prototype.alternatives = function () {\r\n    var rcvr = this.scriptTarget(),\r\n        stage = rcvr.parentThatIsA(StageMorph),\r\n        allDefs = rcvr.customBlocks.concat(stage.globalBlocks),\r\n        type = this instanceof CommandBlockMorph ? 'command'\r\n            : (this.isPredicate ? 'predicate' : 'reporter'),\r\n        myself = this;\r\n    return allDefs.filter(function (each) {\r\n        return each !== myself.definition &&\r\n            each.type === type;\r\n    });\r\n};\r\n\r\n// CustomReporterBlockMorph ////////////////////////////////////////////\r\n\r\n// CustomReporterBlockMorph inherits from ReporterBlockMorph:\r\n\r\nCustomReporterBlockMorph.prototype = new ReporterBlockMorph();\r\nCustomReporterBlockMorph.prototype.constructor = CustomReporterBlockMorph;\r\nCustomReporterBlockMorph.uber = ReporterBlockMorph.prototype;\r\n\r\n// CustomReporterBlockMorph shared settings:\r\n\r\nCustomReporterBlockMorph.prototype.isCustomBlock = true;\r\n\r\n// CustomReporterBlockMorph instance creation:\r\n\r\nfunction CustomReporterBlockMorph(definition, isPredicate, isProto) {\r\n    this.init(definition, isPredicate, isProto);\r\n}\r\n\r\nCustomReporterBlockMorph.prototype.init = function (\r\n    definition,\r\n    isPredicate,\r\n    isProto\r\n) {\r\n    this.definition = definition; // mandatory\r\n    this.semanticSpec = ''; // used for translations\r\n    this.isGlobal = definition ? definition.isGlobal : false;\r\n    this.isPrototype = isProto || false; // optional\r\n    CustomReporterBlockMorph.uber.init.call(this, isPredicate, true); // sil.\r\n    this.category = definition.category;\r\n    this.variables = new VariableFrame();\r\n    this.initializeVariables();\r\n    this.selector = 'evaluateCustomBlock';\r\n    if (definition) { // needed for de-serializing\r\n        this.refresh();\r\n    }\r\n};\r\n\r\nCustomReporterBlockMorph.prototype.initializeVariables =\r\n    CustomCommandBlockMorph.prototype.initializeVariables;\r\n\r\nCustomReporterBlockMorph.prototype.refresh = function (aDefinition) {\r\n    var def = aDefinition || this.definition;\r\n    CustomCommandBlockMorph.prototype.refresh.call(this, aDefinition, true);\r\n    if (!this.isPrototype) {\r\n        this.isPredicate = (def.type === 'predicate');\r\n    }\r\n    if (this.parent instanceof SyntaxElementMorph) {\r\n        this.parent.cachedInputs = null;\r\n    }\r\n    this.drawNew();\r\n};\r\n\r\nCustomReporterBlockMorph.prototype.mouseClickLeft = function () {\r\n    if (!this.isPrototype) {\r\n        return CustomReporterBlockMorph.uber.mouseClickLeft.call(this);\r\n    }\r\n    this.edit();\r\n};\r\n\r\nCustomReporterBlockMorph.prototype.placeHolder\r\n    = CustomCommandBlockMorph.prototype.placeHolder;\r\n\r\nCustomReporterBlockMorph.prototype.parseSpec\r\n    = CustomCommandBlockMorph.prototype.parseSpec;\r\n\r\nCustomReporterBlockMorph.prototype.edit\r\n    = CustomCommandBlockMorph.prototype.edit;\r\n\r\nCustomReporterBlockMorph.prototype.labelPart\r\n    = CustomCommandBlockMorph.prototype.labelPart;\r\n\r\nCustomReporterBlockMorph.prototype.upvarFragmentNames\r\n    = CustomCommandBlockMorph.prototype.upvarFragmentNames;\r\n\r\nCustomReporterBlockMorph.prototype.upvarFragmentName\r\n    = CustomCommandBlockMorph.prototype.upvarFragmentName;\r\n\r\nCustomReporterBlockMorph.prototype.inputFragmentNames\r\n    = CustomCommandBlockMorph.prototype.inputFragmentNames;\r\n\r\nCustomReporterBlockMorph.prototype.specFromFragments\r\n    = CustomCommandBlockMorph.prototype.specFromFragments;\r\n\r\nCustomReporterBlockMorph.prototype.blockSpecFromFragments\r\n    = CustomCommandBlockMorph.prototype.blockSpecFromFragments;\r\n\r\nCustomReporterBlockMorph.prototype.declarationsFromFragments\r\n    = CustomCommandBlockMorph.prototype.declarationsFromFragments;\r\n\r\nCustomReporterBlockMorph.prototype.refreshPrototype\r\n    = CustomCommandBlockMorph.prototype.refreshPrototype;\r\n\r\nCustomReporterBlockMorph.prototype.refreshPrototypeSlotTypes\r\n    = CustomCommandBlockMorph.prototype.refreshPrototypeSlotTypes;\r\n\r\nCustomReporterBlockMorph.prototype.restoreInputs\r\n    = CustomCommandBlockMorph.prototype.restoreInputs;\r\n\r\nCustomReporterBlockMorph.prototype.refreshDefaults\r\n    = CustomCommandBlockMorph.prototype.refreshDefaults;\r\n\r\nCustomReporterBlockMorph.prototype.isInUse\r\n    = CustomCommandBlockMorph.prototype.isInUse;\r\n\r\n// CustomReporterBlockMorph menu:\r\n\r\nCustomReporterBlockMorph.prototype.userMenu\r\n    = CustomCommandBlockMorph.prototype.userMenu;\r\n\r\nCustomReporterBlockMorph.prototype.duplicateBlockDefinition\r\n    = CustomCommandBlockMorph.prototype.duplicateBlockDefinition;\r\n\r\nCustomReporterBlockMorph.prototype.deleteBlockDefinition\r\n    = CustomCommandBlockMorph.prototype.deleteBlockDefinition;\r\n\r\n// CustomReporterBlockMorph events:\r\n\r\n// hover help - commented out for now\r\n/*\r\nCustomReporterBlockMorph.prototype.mouseEnter\r\n    = CustomCommandBlockMorph.prototype.mouseEnter;\r\n\r\nCustomReporterBlockMorph.prototype.mouseLeave\r\n    = CustomCommandBlockMorph.prototype.mouseLeave;\r\n*/\r\n\r\n// CustomReporterBlockMorph bubble help:\r\n\r\nCustomReporterBlockMorph.prototype.bubbleHelp\r\n    = CustomCommandBlockMorph.prototype.bubbleHelp;\r\n\r\nCustomReporterBlockMorph.prototype.popUpbubbleHelp\r\n    = CustomCommandBlockMorph.prototype.popUpbubbleHelp;\r\n\r\n// CustomReporterBlockMorph relabelling\r\n\r\nCustomReporterBlockMorph.prototype.relabel\r\n    = CustomCommandBlockMorph.prototype.relabel;\r\n\r\nCustomReporterBlockMorph.prototype.alternatives\r\n    = CustomCommandBlockMorph.prototype.alternatives;\r\n\r\n// JaggedBlockMorph ////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a reporter block with jagged left and right edges conveying the\r\n    appearance of having the broken out of a bigger block. I am used to\r\n    display input types in the long form input dialog.\r\n*/\r\n\r\n// JaggedBlockMorph inherits from ReporterBlockMorph:\r\n\r\nJaggedBlockMorph.prototype = new ReporterBlockMorph();\r\nJaggedBlockMorph.prototype.constructor = JaggedBlockMorph;\r\nJaggedBlockMorph.uber = ReporterBlockMorph.prototype;\r\n\r\n// JaggedBlockMorph preferences settings:\r\n\r\nJaggedBlockMorph.prototype.jag = 5;\r\n\r\n// JaggedBlockMorph instance creation:\r\n\r\nfunction JaggedBlockMorph(spec) {\r\n    this.init(spec);\r\n}\r\n\r\nJaggedBlockMorph.prototype.init = function (spec) {\r\n    JaggedBlockMorph.uber.init.call(this);\r\n    if (spec) {this.setSpec(spec); }\r\n    if (spec === '%cs') {\r\n        this.minWidth = 25;\r\n        this.fixLayout();\r\n    }\r\n};\r\n\r\n// JaggedBlockMorph drawing:\r\n\r\nJaggedBlockMorph.prototype.drawNew = function () {\r\n    var context;\r\n\r\n    this.cachedClr = this.color.toString();\r\n    this.cachedClrBright = this.bright();\r\n    this.cachedClrDark = this.dark();\r\n    this.image = newCanvas(this.extent());\r\n    context = this.image.getContext('2d');\r\n    context.fillStyle = this.cachedClr;\r\n\r\n    this.drawBackground(context);\r\n    if (!MorphicPreferences.isFlat) {\r\n        this.drawEdges(context);\r\n    }\r\n\r\n    // erase holes\r\n    this.eraseHoles(context);\r\n};\r\n\r\nJaggedBlockMorph.prototype.drawBackground = function (context) {\r\n    var w = this.width(),\r\n        h = this.height(),\r\n        jags = Math.round(h / this.jag),\r\n        delta = h / jags,\r\n        i,\r\n        y;\r\n\r\n    context.fillStyle = this.cachedClr;\r\n    context.beginPath();\r\n\r\n    context.moveTo(0, 0);\r\n    context.lineTo(w, 0);\r\n\r\n    y = 0;\r\n    for (i = 0; i < jags; i += 1) {\r\n        y += delta / 2;\r\n        context.lineTo(w - this.jag / 2, y);\r\n        y += delta / 2;\r\n        context.lineTo(w, y);\r\n    }\r\n\r\n    context.lineTo(0, h);\r\n    y = h;\r\n    for (i = 0; i < jags; i += 1) {\r\n        y -= delta / 2;\r\n        context.lineTo(this.jag / 2, y);\r\n        y -= delta / 2;\r\n        context.lineTo(0, y);\r\n    }\r\n\r\n    context.closePath();\r\n    context.fill();\r\n};\r\n\r\nJaggedBlockMorph.prototype.drawEdges = function (context) {\r\n    var w = this.width(),\r\n        h = this.height(),\r\n        jags = Math.round(h / this.jag),\r\n        delta = h / jags,\r\n        shift = this.edge / 2,\r\n        gradient,\r\n        i,\r\n        y;\r\n\r\n    context.lineWidth = this.edge;\r\n    context.lineJoin = 'round';\r\n    context.lineCap = 'round';\r\n\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        0,\r\n        0,\r\n        this.edge\r\n    );\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    gradient.addColorStop(1, this.cachedClr);\r\n    context.strokeStyle = gradient;\r\n\r\n    context.beginPath();\r\n    context.moveTo(shift, shift);\r\n    context.lineTo(w - shift, shift);\r\n    context.stroke();\r\n\r\n    y = 0;\r\n    for (i = 0; i < jags; i += 1) {\r\n        context.strokeStyle = this.cachedClrDark;\r\n        context.beginPath();\r\n        context.moveTo(w - shift, y);\r\n        y += delta / 2;\r\n        context.lineTo(w - this.jag / 2 - shift, y);\r\n        context.stroke();\r\n        y += delta / 2;\r\n    }\r\n\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        h - this.edge,\r\n        0,\r\n        h\r\n    );\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    gradient.addColorStop(1, this.cachedClrDark);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(w - shift, h - shift);\r\n    context.lineTo(shift, h - shift);\r\n    context.stroke();\r\n\r\n    y = h;\r\n    for (i = 0; i < jags; i += 1) {\r\n        context.strokeStyle = this.cachedClrBright;\r\n        context.beginPath();\r\n        context.moveTo(shift, y);\r\n        y -= delta / 2;\r\n        context.lineTo(this.jag / 2 + shift, y);\r\n        context.stroke();\r\n        y -= delta / 2;\r\n    }\r\n};\r\n\r\n// BlockDialogMorph ////////////////////////////////////////////////////\r\n\r\n// BlockDialogMorph inherits from DialogBoxMorph:\r\n\r\nBlockDialogMorph.prototype = new DialogBoxMorph();\r\nBlockDialogMorph.prototype.constructor = BlockDialogMorph;\r\nBlockDialogMorph.uber = DialogBoxMorph.prototype;\r\n\r\n// BlockDialogMorph instance creation:\r\n\r\nfunction BlockDialogMorph(target, action, environment) {\r\n    this.init(target, action, environment);\r\n}\r\n\r\nBlockDialogMorph.prototype.init = function (target, action, environment) {\r\n    // additional properties:\r\n    this.blockType = 'command';\r\n    this.category = 'other';\r\n    this.isGlobal = true;\r\n    this.types = null;\r\n    this.categories = null;\r\n\r\n    // initialize inherited properties:\r\n    BlockDialogMorph.uber.init.call(\r\n        this,\r\n        target,\r\n        action,\r\n        environment\r\n    );\r\n\r\n    // override inherited properites:\r\n    this.key = 'makeABlock';\r\n\r\n    this.types = new AlignmentMorph('row', this.padding);\r\n    this.add(this.types);\r\n    this.scopes = new AlignmentMorph('row', this.padding);\r\n    this.add(this.scopes);\r\n\r\n    this.categories = new BoxMorph();\r\n    this.categories.color = SpriteMorph.prototype.paletteColor.lighter(8);\r\n    this.categories.borderColor = this.categories.color.lighter(40);\r\n    this.createCategoryButtons();\r\n    this.fixCategoriesLayout();\r\n    this.add(this.categories);\r\n\r\n    this.createTypeButtons();\r\n    this.creatpanel_LefteButtons();\r\n    this.fixLayout();\r\n};\r\n\r\nBlockDialogMorph.prototype.openForChange = function (\r\n    title,\r\n    category,\r\n    type,\r\n    world,\r\n    pic,\r\n    preventTypeChange // <bool>\r\n) {\r\n    var clr = SpriteMorph.prototype.blockColor[category];\r\n    this.key = 'changeABlock';\r\n    this.category = category;\r\n    this.blockType = type;\r\n\r\n    this.categories.children.forEach(function (each) {\r\n        each.refresh();\r\n    });\r\n    this.types.children.forEach(function (each) {\r\n        each.setColor(clr);\r\n        each.refresh();\r\n    });\r\n\r\n    this.labelString = title;\r\n    this.createLabel();\r\n    if (pic) {this.setPicture(pic); }\r\n    this.addButton('ok', 'OK');\r\n    this.addButton('cancel', 'Cancel');\r\n    if (preventTypeChange) {\r\n        this.types.destroy();\r\n        this.types = null;\r\n    }\r\n    this.scopes.destroy();\r\n    this.scopes = null;\r\n    this.fixLayout();\r\n    this.drawNew();\r\n    this.popUp(world);\r\n};\r\n\r\n// category buttons\r\n\r\nBlockDialogMorph.prototype.createCategoryButtons = function () {\r\n    var myself = this,\r\n        oldFlag = Morph.prototype.trackChanges;\r\n\r\n    Morph.prototype.trackChanges = false;\r\n    SpriteMorph.prototype.categories.forEach(function (cat) {\r\n        myself.addCategoryButton(cat);\r\n    });\r\n    Morph.prototype.trackChanges = oldFlag;\r\n};\r\n\r\nBlockDialogMorph.prototype.addCategoryButton = function (category) {\r\n    var labelWidth = 75,\r\n        myself = this,\r\n        colors = [\r\n            SpriteMorph.prototype.paletteColor,\r\n            SpriteMorph.prototype.paletteColor.darker(50),\r\n            SpriteMorph.prototype.blockColor[category]\r\n        ],\r\n        button;\r\n\r\n    button = new ToggleButtonMorph(\r\n        colors,\r\n        this, // this block dialog box is the target\r\n        function () {\r\n            myself.category = category;\r\n            myself.categories.children.forEach(function (each) {\r\n                each.refresh();\r\n            });\r\n            if (myself.types) {\r\n                myself.types.children.forEach(function (each) {\r\n                    each.setColor(colors[2]);\r\n                });\r\n            }\r\n            myself.edit();\r\n        },\r\n        category[0].toUpperCase().concat(category.slice(1)), // UCase label\r\n        function () {return myself.category === category; }, // query\r\n        null, // env\r\n        null, // hint\r\n        null, // template cache\r\n        labelWidth, // minWidth\r\n        true // has preview\r\n    );\r\n\r\n    button.corner = 8;\r\n    button.padding = 0;\r\n    button.labelShadowOffset = new Point(-1, -1);\r\n    button.labelShadowColor = colors[1];\r\n    button.labelColor = IDE_Morph.prototype.buttonLabelColor;\r\n    button.contrast = this.buttonContrast;\r\n    button.fixLayout();\r\n    button.refresh();\r\n    this.categories.add(button);\r\n    return button;\r\n};\r\n\r\nBlockDialogMorph.prototype.fixCategoriesLayout = function () {\r\n    var buttonWidth = this.categories.children[0].width(), // all the same\r\n        buttonHeight = this.categories.children[0].height(), // all the same\r\n        xPadding = 15,\r\n        yPadding = 2,\r\n        border = 10, // this.categories.border,\r\n        rows =  Math.ceil((this.categories.children.length) / 2),\r\n        l = this.categories.left(),\r\n        t = this.categories.top(),\r\n        i = 0,\r\n        row,\r\n        col,\r\n        oldFlag = Morph.prototype.trackChanges;\r\n\r\n    Morph.prototype.trackChanges = false;\r\n\r\n    this.categories.children.forEach(function (button) {\r\n        i += 1;\r\n        row = Math.ceil(i / 2);\r\n        col = 2 - (i % 2);\r\n        button.setPosition(new Point(\r\n            l + (col * xPadding + ((col - 1) * buttonWidth)),\r\n            t + (row * yPadding + ((row - 1) * buttonHeight) + border)\r\n        ));\r\n    });\r\n\r\n    if (MorphicPreferences.isFlat) {\r\n        this.categories.corner = 0;\r\n        this.categories.border = 0;\r\n        this.categories.edge = 0;\r\n    }\r\n    this.categories.setExtent(new Point(\r\n        3 * xPadding + 2 * buttonWidth,\r\n        (rows + 1) * yPadding + rows * buttonHeight + 2 * border\r\n    ));\r\n\r\n    Morph.prototype.trackChanges = oldFlag;\r\n    this.categories.changed();\r\n};\r\n\r\n// type radio buttons\r\n\r\nBlockDialogMorph.prototype.createTypeButtons = function () {\r\n    var block,\r\n        myself = this,\r\n        clr = SpriteMorph.prototype.blockColor[this.category];\r\n\r\n\r\n    block = new CommandBlockMorph();\r\n    block.setColor(clr);\r\n    block.setSpec(localize('Command'));\r\n    this.addBlockTypeButton(\r\n        function () {myself.setType('command'); },\r\n        block,\r\n        function () {return myself.blockType === 'command'; }\r\n    );\r\n\r\n    block = new ReporterBlockMorph();\r\n    block.setColor(clr);\r\n    block.setSpec(localize('Reporter'));\r\n    this.addBlockTypeButton(\r\n        function () {myself.setType('reporter'); },\r\n        block,\r\n        function () {return myself.blockType === 'reporter'; }\r\n    );\r\n\r\n    block = new ReporterBlockMorph(true);\r\n    block.setColor(clr);\r\n    block.setSpec(localize('Predicate'));\r\n    this.addBlockTypeButton(\r\n        function () {myself.setType('predicate'); },\r\n        block,\r\n        function () {return myself.blockType === 'predicate'; }\r\n    );\r\n};\r\n\r\nBlockDialogMorph.prototype.addBlockTypeButton = function (\r\n    action,\r\n    element,\r\n    query\r\n) {\r\n    var button = new ToggleElementMorph(\r\n        this,\r\n        action,\r\n        element,\r\n        query,\r\n        null,\r\n        null,\r\n        'rebuild'\r\n    );\r\n    button.refresh();\r\n    this.types.add(button);\r\n    return button;\r\n};\r\n\r\nBlockDialogMorph.prototype.addTypeButton = function (action, label, query) {\r\n    var button = new ToggleMorph(\r\n        'radiobutton',\r\n        this,\r\n        action,\r\n        label,\r\n        query\r\n    );\r\n    button.edge = this.buttonEdge / 2;\r\n    button.outline = this.buttonOutline / 2;\r\n    button.outlineColor = this.buttonOutlineColor;\r\n    button.outlineGradient = this.buttonOutlineGradient;\r\n    button.contrast = this.buttonContrast;\r\n\r\n    button.drawNew();\r\n    button.fixLayout();\r\n    this.types.add(button);\r\n    return button;\r\n};\r\n\r\nBlockDialogMorph.prototype.setType = function (blockType) {\r\n    this.blockType = blockType || this.blockType;\r\n    this.types.children.forEach(function (c) {\r\n        c.refresh();\r\n    });\r\n    this.edit();\r\n};\r\n\r\n// scope radio buttons\r\n\r\nBlockDialogMorph.prototype.creatpanel_LefteButtons = function () {\r\n    var myself = this;\r\n\r\n    this.addScopeButton(\r\n        function () {myself.setScope('global'); },\r\n        \"for all sprites\",\r\n        function () {return myself.isGlobal; }\r\n    );\r\n    this.addScopeButton(\r\n        function () {myself.setScope('local'); },\r\n        \"for this sprite only\",\r\n        function () {return !myself.isGlobal; }\r\n    );\r\n};\r\n\r\nBlockDialogMorph.prototype.addScopeButton = function (action, label, query) {\r\n    var button = new ToggleMorph(\r\n        'radiobutton',\r\n        this,\r\n        action,\r\n        label,\r\n        query\r\n    );\r\n    button.edge = this.buttonEdge / 2;\r\n    button.outline = this.buttonOutline / 2;\r\n    button.outlineColor = this.buttonOutlineColor;\r\n    button.outlineGradient = this.buttonOutlineGradient;\r\n    button.contrast = this.buttonContrast;\r\n\r\n    button.drawNew();\r\n    button.fixLayout();\r\n    this.scopes.add(button);\r\n    return button;\r\n};\r\n\r\n\r\nBlockDialogMorph.prototype.setScope = function (varType) {\r\n    this.isGlobal = (varType === 'global');\r\n    this.scopes.children.forEach(function (c) {\r\n        c.refresh();\r\n    });\r\n    this.edit();\r\n};\r\n\r\n// other ops\r\n\r\nBlockDialogMorph.prototype.getInput = function () {\r\n    var spec, def, body;\r\n    if (this.body instanceof InputFieldMorph) {\r\n        spec = this.normalizeSpaces(this.body.getValue());\r\n    }\r\n    def = new CustomBlockDefinition(spec);\r\n    def.type = this.blockType;\r\n    def.category = this.category;\r\n    def.isGlobal = this.isGlobal;\r\n    if (def.type === 'reporter' || def.type === 'predicate') {\r\n        body = Process.prototype.reify.call(\r\n            null,\r\n            SpriteMorph.prototype.blockForSelector('doReport'),\r\n            new List(),\r\n            true // ignore empty slots for custom block reification\r\n        );\r\n        body.outerContext = null;\r\n        def.body = body;\r\n    }\r\n    return def;\r\n};\r\n\r\nBlockDialogMorph.prototype.fixLayout = function () {\r\n    var th = fontHeight(this.titleFontSize) + this.titlePadding * 2;\r\n\r\n    if (this.body) {\r\n        this.body.setPosition(this.position().add(new Point(\r\n            this.padding,\r\n            th + this.padding\r\n        )));\r\n        this.silentSetWidth(this.body.width() + this.padding * 2);\r\n        this.silentSetHeight(\r\n            this.body.height()\r\n                + this.padding * 2\r\n                + th\r\n        );\r\n        if (this.categories) {\r\n            this.categories.setCenter(this.body.center());\r\n            this.categories.setTop(this.body.top());\r\n            this.body.setTop(this.categories.bottom() + this.padding);\r\n            this.silentSetHeight(\r\n                this.height()\r\n                    + this.categories.height()\r\n                    + this.padding\r\n            );\r\n        }\r\n    } else if (this.head) { // when changing an existing prototype\r\n        if (this.types) {\r\n            this.types.fixLayout();\r\n            this.silentSetWidth(\r\n                Math.max(this.types.width(), this.head.width())\r\n                    + this.padding * 2\r\n            );\r\n        } else {\r\n            this.silentSetWidth(\r\n                Math.max(this.categories.width(), this.head.width())\r\n                    + this.padding * 2\r\n            );\r\n        }\r\n        this.head.setCenter(this.center());\r\n        this.head.setTop(th + this.padding);\r\n        this.silentSetHeight(\r\n            this.head.height()\r\n                + this.padding * 2\r\n                + th\r\n        );\r\n        if (this.categories) {\r\n            this.categories.setCenter(this.center());\r\n            this.categories.setTop(this.head.bottom() + this.padding);\r\n            this.silentSetHeight(\r\n                this.height()\r\n                    + this.categories.height()\r\n                    + this.padding\r\n            );\r\n        }\r\n    }\r\n\r\n    if (this.label) {\r\n        this.label.setCenter(this.center());\r\n        this.label.setTop(this.top() + (th - this.label.height()) / 2);\r\n    }\r\n\r\n    if (this.types) {\r\n        this.types.fixLayout();\r\n        this.silentSetHeight(\r\n            this.height()\r\n                    + this.types.height()\r\n                    + this.padding\r\n        );\r\n        this.silentSetWidth(Math.max(\r\n            this.width(),\r\n            this.types.width() + this.padding * 2\r\n        ));\r\n        this.types.setCenter(this.center());\r\n        if (this.body) {\r\n            this.types.setTop(this.body.bottom() + this.padding);\r\n        } else if (this.categories) {\r\n            this.types.setTop(this.categories.bottom() + this.padding);\r\n        }\r\n    }\r\n\r\n    if (this.scopes) {\r\n        this.scopes.fixLayout();\r\n        this.silentSetHeight(\r\n            this.height()\r\n                    + this.scopes.height()\r\n                    + (this.padding / 3)\r\n        );\r\n        this.silentSetWidth(Math.max(\r\n            this.width(),\r\n            this.scopes.width() + this.padding * 2\r\n        ));\r\n        this.scopes.setCenter(this.center());\r\n        if (this.types) {\r\n            this.scopes.setTop(this.types.bottom() + (this.padding / 3));\r\n        }\r\n    }\r\n\r\n    if (this.buttons && (this.buttons.children.length > 0)) {\r\n        this.buttons.fixLayout();\r\n        this.silentSetHeight(\r\n            this.height()\r\n                    + this.buttons.height()\r\n                    + this.padding\r\n        );\r\n        this.buttons.setCenter(this.center());\r\n        this.buttons.setBottom(this.bottom() - this.padding);\r\n    }\r\n};\r\n\r\nBlockDialogMorph.prototype.accept = function () {\r\n    if ((this.body instanceof InputFieldMorph) &&\r\n            (this.normalizeSpaces(this.body.getValue()) === '')) {\r\n        this.edit();\r\n    } else {\r\n        BlockDialogMorph.uber.accept.call(this);\r\n    }\r\n};\r\n\r\n// BlockEditorMorph ////////////////////////////////////////////////////\r\n\r\n// BlockEditorMorph inherits from DialogBoxMorph:\r\n\r\nBlockEditorMorph.prototype = new DialogBoxMorph();\r\nBlockEditorMorph.prototype.constructor = BlockEditorMorph;\r\nBlockEditorMorph.uber = DialogBoxMorph.prototype;\r\n\r\n// BlockEditorMorph instance creation:\r\n\r\nfunction BlockEditorMorph(definition, target) {\r\n    this.init(definition, target);\r\n}\r\n\r\nBlockEditorMorph.prototype.init = function (definition, target) {\r\n    var scripts, proto, scriptsFrame, block, comment, myself = this,\r\n        isLive = Process.prototype.enableLiveCoding ||\r\n            Process.prototype.enableSingleStepping;\r\n\r\n    // additional properties:\r\n    this.definition = definition;\r\n    this.translations = definition.translationsAsText();\r\n    this.handle = null;\r\n\r\n    // initialize inherited properties:\r\n    BlockEditorMorph.uber.init.call(\r\n        this,\r\n        target,\r\n        function () {myself.updateDefinition(); },\r\n        target\r\n    );\r\n\r\n    // override inherited properites:\r\n    this.key = 'editBlock' + definition.spec;\r\n    this.labelString = this.definition.isGlobal ? 'Block Editor'\r\n    \t\t: 'Method Editor';\r\n    this.createLabel();\r\n\r\n    // create scripting area\r\n    scripts = new ScriptsMorph();\r\n    scripts.rejectsHats = true;\r\n    scripts.isDraggable = false;\r\n    scripts.color = IDE_Morph.prototype.groupColor;\r\n    scripts.cachedTexture = IDE_Morph.prototype.scriptsPaneTexture;\r\n    scripts.cleanUpMargin = 10;\r\n\r\n    proto = new PrototypeHatBlockMorph(this.definition);\r\n    proto.setPosition(scripts.position().add(10));\r\n    if (definition.comment !== null) {\r\n        comment = definition.comment.fullCopy();\r\n        proto.comment = comment;\r\n        comment.block = proto;\r\n    }\r\n    if (definition.body !== null) {\r\n        proto.nextBlock(isLive ? definition.body.expression\r\n                : definition.body.expression.fullCopy()\r\n        );\r\n    }\r\n\r\n    scripts.add(proto);\r\n    proto.fixBlockColor(null, true);\r\n    proto.drawNew();\r\n\r\n    this.definition.scripts.forEach(function (element) {\r\n        block = element.fullCopy();\r\n        block.setPosition(scripts.position().add(element.position()));\r\n        scripts.add(block);\r\n        if (block instanceof BlockMorph) {\r\n            block.allComments().forEach(function (comment) {\r\n                comment.align(block);\r\n            });\r\n        }\r\n    });\r\n    proto.allComments().forEach(function (comment) {\r\n        comment.align(proto);\r\n    });\r\n\r\n    scriptsFrame = new ScrollFrameMorph(scripts);\r\n    scriptsFrame.padding = 10;\r\n    scriptsFrame.growth = 50;\r\n    scriptsFrame.isDraggable = false;\r\n    scriptsFrame.acceptsDrops = false;\r\n    scriptsFrame.contents.acceptsDrops = true;\r\n    scripts.scrollFrame = scriptsFrame;\r\n    scripts.updateToolbar();\r\n\r\n    this.addBody(scriptsFrame);\r\n    this.addButton('ok', 'OK');\r\n    if (!isLive) {\r\n        this.addButton('updateDefinition', 'Apply');\r\n        this.addButton('cancel', 'Cancel');\r\n    }\r\n\r\n    this.setExtent(new Point(375, 300)); // normal initial extent\r\n    this.fixLayout();\r\n    scripts.fixMultiArgs();\r\n\r\n    block = proto.parts()[0];\r\n    block.forceNormalColoring();\r\n    block.fixBlockColor(proto, true);\r\n};\r\n\r\nBlockEditorMorph.prototype.popUp = function () {\r\n    var world = this.target.world();\r\n\r\n    if (world) {\r\n        BlockEditorMorph.uber.popUp.call(this, world);\r\n        this.setInitialDimensions();\r\n        this.handle = new HandleMorph(\r\n            this,\r\n            280,\r\n            220,\r\n            this.corner,\r\n            this.corner\r\n        );\r\n        world.keyboardReceiver = null;\r\n    }\r\n};\r\n\r\nBlockEditorMorph.prototype.justDropped = function () {\r\n    // override the inherited default behavior, which is to\r\n    // give keyboard focus to dialog boxes, as in this case\r\n    // we want Snap-global keyboard-shortcuts like ctrl-f\r\n    // to still work\r\n    nop();\r\n\r\n};\r\n\r\n// BlockEditorMorph ops\r\n\r\nBlockEditorMorph.prototype.accept = function (origin) {\r\n    // check DialogBoxMorph comment for accept()\r\n    if (origin instanceof CursorMorph) {return; }\r\n    if (this.action) {\r\n        if (typeof this.target === 'function') {\r\n            if (typeof this.action === 'function') {\r\n                this.target.call(this.environment, this.action.call());\r\n            } else {\r\n                this.target.call(this.environment, this.action);\r\n            }\r\n        } else {\r\n            if (typeof this.action === 'function') {\r\n                this.action.call(this.target, this.getInput());\r\n            } else { // assume it's a String\r\n                this.target[this.action](this.getInput());\r\n            }\r\n        }\r\n    }\r\n    this.close();\r\n};\r\n\r\nBlockEditorMorph.prototype.cancel = function (origin) {\r\n    if (origin instanceof CursorMorph) {return; }\r\n    //this.refreshAllBlockInstances();\r\n    this.close();\r\n};\r\n\r\nBlockEditorMorph.prototype.close = function () {\r\n    var doubles, block,\r\n        myself = this;\r\n\r\n    // assert that no scope conflicts exists, i.e. that a global\r\n    // definition doesn't contain any local custom blocks, as they\r\n    // will be rendered \"Obsolete!\" when reloading the project\r\n    if (this.definition.isGlobal) {\r\n        block = detect(\r\n            this.body.contents.allChildren(),\r\n            function (morph) {\r\n                return morph.definition && !morph.definition.isGlobal;\r\n            }\r\n        );\r\n        if (block) {\r\n            block = block.definition.blockInstance();\r\n            block.addShadow();\r\n            new DialogBoxMorph().inform(\r\n                'Local Block(s) in Global Definition',\r\n                'This global block definition contains one or more\\n'\r\n                    + 'local custom blocks which must be removed first.',\r\n                myself.world(),\r\n                block.fullImage()\r\n            );\r\n            return;\r\n        }\r\n    }\r\n\r\n    // allow me to disappear only when name collisions\r\n    // have been resolved\r\n    doubles = this.target.doubleDefinitionsFor(this.definition);\r\n    if (doubles.length > 0) {\r\n        block = doubles[0].blockInstance();\r\n        block.addShadow();\r\n        new DialogBoxMorph(this, 'consolidateDoubles', this).askYesNo(\r\n            'Same Named Blocks',\r\n            'Another custom block with this name exists.\\n'\r\n                + 'Would you like to replace it?',\r\n            myself.world(),\r\n            block.fullImage()\r\n        );\r\n        return;\r\n    }\r\n\r\n    this.destroy();\r\n};\r\n\r\nBlockEditorMorph.prototype.consolidateDoubles = function () {\r\n    this.target.replaceDoubleDefinitionsFor(this.definition);\r\n    this.destroy();\r\n};\r\n\r\nBlockEditorMorph.prototype.refreshAllBlockInstances = function (oldSpec) {\r\n    var def = this.definition,\r\n        template = this.target.paletteBlockInstance(def);\r\n\r\n    if (this.definition.isGlobal) {\r\n        this.target.allBlockInstances(this.definition).forEach(\r\n            function (block) {\r\n                block.refresh();\r\n            }\r\n        );\r\n    } else {\r\n        this.target.allDependentInvocationsOf(oldSpec).forEach(\r\n            function (block) {\r\n                block.refresh(def);\r\n            }\r\n        );\r\n    }\r\n    if (template) {\r\n        template.refreshDefaults();\r\n    }\r\n};\r\n\r\nBlockEditorMorph.prototype.updateDefinition = function () {\r\n    var head, ide,\r\n        oldSpec = this.definition.blockSpec(),\r\n        pos = this.body.contents.position(),\r\n        element,\r\n        myself = this;\r\n\r\n    this.definition.receiver = this.target; // only for serialization\r\n    this.definition.spec = this.prototypeSpec();\r\n    this.definition.declarations = this.prototypeSlots();\r\n    this.definition.variableNames = this.variableNames();\r\n    this.definition.scripts = [];\r\n    this.definition.updateTranslations(this.translations);\r\n    this.definition.cachedTranslation = null;\r\n    this.definition.editorDimensions = this.bounds.copy();\r\n    this.definition.cachedIsRecursive = null; // flush the cache, don't update\r\n\r\n    this.body.contents.children.forEach(function (morph) {\r\n        if (morph instanceof PrototypeHatBlockMorph) {\r\n            head = morph;\r\n        } else if (morph instanceof BlockMorph ||\r\n                (morph instanceof CommentMorph && !morph.block)) {\r\n            element = morph.fullCopy();\r\n            element.parent = null;\r\n            element.setPosition(morph.position().subtract(pos));\r\n            myself.definition.scripts.push(element);\r\n        }\r\n    });\r\n\r\n    if (head) {\r\n        if (this.definition.category !== head.blockCategory) {\r\n            this.target.shadowAttribute('scripts');\r\n        }\r\n        this.definition.category = head.blockCategory;\r\n        this.definition.type = head.type;\r\n        if (head.comment) {\r\n            this.definition.comment = head.comment.fullCopy();\r\n            this.definition.comment.block = true; // serialize in short form\r\n        } else {\r\n            this.definition.comment = null;\r\n        }\r\n    }\r\n\r\n    this.definition.body = this.context(head);\r\n    this.refreshAllBlockInstances(oldSpec);\r\n    ide = this.target.parentThatIsA(IDE_Morph);\r\n    ide.flushPaletteCache();\r\n    ide.refreshPalette();\r\n};\r\n\r\nBlockEditorMorph.prototype.context = function (prototypeHat) {\r\n    // answer my script reified for deferred execution\r\n    // if no prototypeHat is given, my body is scanned\r\n    var head, topBlock, stackFrame;\r\n\r\n    head = prototypeHat || detect(\r\n        this.body.contents.children,\r\n        function (c) {return c instanceof PrototypeHatBlockMorph; }\r\n    );\r\n    topBlock = head.nextBlock();\r\n    if (topBlock === null) {\r\n        return null;\r\n    }\r\n    topBlock.allChildren().forEach(function (c) {\r\n        if (c instanceof BlockMorph) {c.cachedInputs = null; }\r\n    });\r\n    stackFrame = Process.prototype.reify.call(\r\n        null,\r\n        topBlock,\r\n        new List(this.definition.inputNames()),\r\n        true // ignore empty slots for custom block reification\r\n    );\r\n    stackFrame.outerContext = null;\r\n    return stackFrame;\r\n};\r\n\r\nBlockEditorMorph.prototype.prototypeSpec = function () {\r\n    // answer the spec represented by my (edited) block prototype\r\n    return detect(\r\n        this.body.contents.children,\r\n        function (c) {return c instanceof PrototypeHatBlockMorph; }\r\n    ).parts()[0].specFromFragments();\r\n};\r\n\r\nBlockEditorMorph.prototype.prototypeSlots = function () {\r\n    // answer the slot declarations from my (edited) block prototype\r\n    return detect(\r\n        this.body.contents.children,\r\n        function (c) {return c instanceof PrototypeHatBlockMorph; }\r\n    ).parts()[0].declarationsFromFragments();\r\n};\r\n\r\nBlockEditorMorph.prototype.variableNames = function () {\r\n    // answer the variable declarations from my prototype hat\r\n    return detect(\r\n        this.body.contents.children,\r\n        function (c) {return c instanceof PrototypeHatBlockMorph; }\r\n    ).variableNames();\r\n};\r\n\r\n// BlockEditorMorph translation\r\n\r\nBlockEditorMorph.prototype.editTranslations = function () {\r\n    var myself = this,\r\n    \tblock = this.definition.blockInstance();\r\n    block.addShadow(new Point(3, 3));\r\n    new DialogBoxMorph(\r\n        myself,\r\n        function (text) {\r\n            myself.translations = text;\r\n        },\r\n        myself\r\n    ).promptCode(\r\n        'Custom Block Translations',\r\n        myself.translations,\r\n        myself.world(),\r\n        block.fullImage(),\r\n        myself.definition.abstractBlockSpec() +\r\n            '\\n\\n' +\r\n            localize('Enter one translation per line. ' +\r\n                'use colon (\":\") as lang/spec delimiter\\n' +\r\n                'and underscore (\"_\") as placeholder for an input, ' +\r\n                'e.g.:\\n\\nen:say _ for _ secs')\r\n    );\r\n};\r\n\r\n// BlockEditorMorph layout\r\n\r\nBlockEditorMorph.prototype.setInitialDimensions = function () {\r\n    var world = this.world(),\r\n        mex = world.extent().subtract(new Point(this.padding, this.padding)),\r\n        th = fontHeight(this.titleFontSize) + this.titlePadding * 2,\r\n        bh = this.buttons.height();\r\n\r\n    if (this.definition.editorDimensions) {\r\n        this.setPosition(this.definition.editorDimensions.origin);\r\n        this.setExtent(this.definition.editorDimensions.extent().min(mex));\r\n        this.keepWithin(world);\r\n        return;\r\n    }\r\n    this.setExtent(\r\n        this.body.contents.extent().add(\r\n            new Point(this.padding, this.padding + th + bh)\r\n        ).min(mex)\r\n    );\r\n    this.setCenter(this.world().center());\r\n};\r\n\r\nBlockEditorMorph.prototype.fixLayout = function () {\r\n    var th = fontHeight(this.titleFontSize) + this.titlePadding * 2;\r\n\r\n    if (this.buttons && (this.buttons.children.length > 0)) {\r\n        this.buttons.fixLayout();\r\n    }\r\n\r\n    if (this.body) {\r\n        this.body.setPosition(this.position().add(new Point(\r\n            this.padding,\r\n            th + this.padding\r\n        )));\r\n        this.body.setExtent(new Point(\r\n            this.width() - this.padding * 2,\r\n            this.height() - this.padding * 3 - th - this.buttons.height()\r\n        ));\r\n    }\r\n\r\n    if (this.label) {\r\n        this.label.setCenter(this.center());\r\n        this.label.setTop(this.top() + (th - this.label.height()) / 2);\r\n    }\r\n\r\n    if (this.buttons && (this.buttons.children.length > 0)) {\r\n        this.buttons.setCenter(this.center());\r\n        this.buttons.setBottom(this.bottom() - this.padding);\r\n    }\r\n};\r\n\r\n// PrototypeHatBlockMorph /////////////////////////////////////////////\r\n\r\n// PrototypeHatBlockMorph inherits from HatBlockMorph:\r\n\r\nPrototypeHatBlockMorph.prototype = new HatBlockMorph();\r\nPrototypeHatBlockMorph.prototype.constructor = PrototypeHatBlockMorph;\r\nPrototypeHatBlockMorph.uber = HatBlockMorph.prototype;\r\n\r\n// PrototypeHatBlockMorph instance creation:\r\n\r\nfunction PrototypeHatBlockMorph(definition) {\r\n    this.init(definition);\r\n}\r\n\r\nPrototypeHatBlockMorph.prototype.init = function (definition) {\r\n    var proto = definition.prototypeInstance(),\r\n        vars;\r\n\r\n    this.definition = definition;\r\n\r\n    // additional attributes to store edited data\r\n    this.blockCategory = definition ? definition.category : null;\r\n    this.type = definition ? definition.type : null;\r\n\r\n    // init inherited stuff\r\n    HatBlockMorph.uber.init.call(this);\r\n    this.color = SpriteMorph.prototype.blockColor.control;\r\n    this.category = 'control';\r\n    this.add(proto);\r\n    if (definition.variableNames.length) {\r\n        vars = this.labelPart('%blockVars');\r\n        this.add(this.labelPart('%br'));\r\n        this.add(vars);\r\n        definition.variableNames.forEach(function (name) {\r\n            vars.addInput(name);\r\n        });\r\n    }\r\n    proto.refreshPrototypeSlotTypes(); // show slot type indicators\r\n    this.fixLayout();\r\n    proto.fixBlockColor(this, true);\r\n};\r\n\r\nPrototypeHatBlockMorph.prototype.mouseClickLeft = function () {\r\n    // relay the mouse click to my prototype block to\r\n    // pop-up a Block Dialog, unless the shift key\r\n    // is pressed, in which case initiate keyboard\r\n    // editing support\r\n\r\n    if (this.world().currentKey === 16) { // shift-clicked\r\n        return this.focus();\r\n    }\r\n    this.parts()[0].mouseClickLeft();\r\n};\r\n\r\nPrototypeHatBlockMorph.prototype.userMenu = function () {\r\n    return this.parts()[0].userMenu();\r\n};\r\n\r\n// PrototypeHatBlockMorph zebra coloring\r\n\r\nPrototypeHatBlockMorph.prototype.fixBlockColor = function (\r\n    nearestBlock,\r\n    isForced\r\n) {\r\n    var nearest = this.parts()[0] || nearestBlock;\r\n\r\n    if (!this.zebraContrast && !isForced) {\r\n        return;\r\n    }\r\n    if (!this.zebraContrast && isForced) {\r\n        return this.forceNormalColoring();\r\n    }\r\n\r\n    if (nearest.category === this.category) {\r\n        if (nearest.color.eq(this.color)) {\r\n            this.alternateBlockColor();\r\n        }\r\n    } else if (this.category && !this.color.eq(\r\n            SpriteMorph.prototype.blockColor[this.category]\r\n        )) {\r\n        this.alternateBlockColor();\r\n    }\r\n    if (isForced) {\r\n        this.fixChildrensBlockColor(true);\r\n    }\r\n};\r\n\r\n// PrototypeHatBlockMorph block instance variables\r\n\r\nPrototypeHatBlockMorph.prototype.variableNames = function (choice) {\r\n    var parts = this.parts();\r\n    if (parts.length < 3) {return []; }\r\n    return parts[2].evaluate();\r\n};\r\n\r\nPrototypeHatBlockMorph.prototype.enableBlockVars = function (choice) {\r\n    var prot = this.parts()[0];\r\n    if (choice === false) {\r\n        this.setSpec('%s', true);\r\n    } else {\r\n        this.setSpec('%s %br %blockVars', true);\r\n    }\r\n    this.replaceInput(this.parts()[0], prot);\r\n    this.spec = null;\r\n};\r\n\r\n// BlockLabelFragment //////////////////////////////////////////////////\r\n\r\n// BlockLabelFragment instance creation:\r\n\r\nfunction BlockLabelFragment(labelString) {\r\n    this.labelString = labelString || '';\r\n    this.type = '%s';    // null for label, a spec for an input\r\n    this.defaultValue = '';\r\n    this.options = '';\r\n    this.isReadOnly = false; // for input slots\r\n    this.isDeleted = false;\r\n}\r\n\r\n// accessing\r\n\r\nBlockLabelFragment.prototype.defSpecFragment = function () {\r\n    // answer a string representing my prototype's spec\r\n    var pref = this.type ? '%\\'' : '';\r\n    return this.isDeleted ?\r\n            '' : pref + this.labelString + (this.type ? '\\'' : '');\r\n};\r\n\r\nBlockLabelFragment.prototype.defTemplateSpecFragment = function () {\r\n    // answer a string representing my prototype's spec\r\n    // which also indicates my type, default value or arity\r\n    var suff = '';\r\n    if (!this.type) {return this.defSpecFragment(); }\r\n    if (this.isUpvar()) {\r\n        suff = ' \\u2191';\r\n    } else if (this.isMultipleInput()) {\r\n        suff = '...';\r\n    } else if (this.type === '%cs') {\r\n        suff = ' \\u03BB'; // ' [\\u03BB'\r\n    } else if (this.type === '%b') {\r\n        suff = ' ?';\r\n    } else if (this.type === '%l') {\r\n        suff = ' \\uFE19';\r\n    } else if (this.type === '%obj') {\r\n        suff = ' %turtleOutline';\r\n    } else if (contains(\r\n            ['%cmdRing', '%repRing', '%predRing', '%anyUE', '%boolUE'],\r\n            this.type\r\n        )) {\r\n        suff = ' \\u03BB';\r\n    } else if (this.defaultValue) {\r\n        if (this.type === '%n') {\r\n            suff = ' # = ' + this.defaultValue.toString();\r\n        } else { // 'any' or 'text'\r\n            suff = ' = ' + this.defaultValue.toString();\r\n        }\r\n    } else if (this.type === '%n') {\r\n        suff = ' #';\r\n    }\r\n    return this.labelString + suff;\r\n};\r\n\r\nBlockLabelFragment.prototype.blockSpecFragment = function () {\r\n    // answer a string representing my block spec\r\n    return this.isDeleted ? '' : this.type || this.labelString;\r\n};\r\n\r\nBlockLabelFragment.prototype.copy = function () {\r\n    var ans = new BlockLabelFragment(this.labelString);\r\n    ans.type = this.type;\r\n    ans.defaultValue = this.defaultValue;\r\n    ans.options = this.options;\r\n    ans.isReadOnly = this.isReadOnly;\r\n    return ans;\r\n};\r\n\r\n// arity\r\n\r\nBlockLabelFragment.prototype.isSingleInput = function () {\r\n    return !this.isMultipleInput() &&\r\n        (this.type !== '%upvar');\r\n};\r\n\r\nBlockLabelFragment.prototype.isMultipleInput = function () {\r\n    // answer true if the type begins with '%mult'\r\n    if (!this.type) {\r\n        return false; // not an input at all\r\n    }\r\n    return this.type.indexOf('%mult') > -1;\r\n};\r\n\r\nBlockLabelFragment.prototype.isUpvar = function () {\r\n    if (!this.type) {\r\n        return false; // not an input at all\r\n    }\r\n    return this.type === '%upvar';\r\n};\r\n\r\nBlockLabelFragment.prototype.setToSingleInput = function () {\r\n    if (!this.type) {return null; } // not an input at all\r\n    if (this.type === '%upvar') {\r\n        this.type = '%s';\r\n    } else {\r\n        this.type = this.singleInputType();\r\n    }\r\n};\r\n\r\nBlockLabelFragment.prototype.setToMultipleInput = function () {\r\n    if (!this.type) {return null; } // not an input at all\r\n    if (this.type === '%upvar') {\r\n        this.type = '%s';\r\n    }\r\n    this.type = '%mult'.concat(this.singleInputType());\r\n};\r\n\r\nBlockLabelFragment.prototype.setToUpvar = function () {\r\n    if (!this.type) {return null; } // not an input at all\r\n    this.type = '%upvar';\r\n};\r\n\r\nBlockLabelFragment.prototype.singleInputType = function () {\r\n    // answer the type of my input withtou any preceding '%mult'\r\n    if (!this.type) {\r\n        return null; // not an input at all\r\n    }\r\n    if (this.isMultipleInput()) {\r\n        return this.type.substr(5); // everything following '%mult'\r\n    }\r\n    return this.type;\r\n};\r\n\r\nBlockLabelFragment.prototype.setSingleInputType = function (type) {\r\n    if (!this.type || !this.isMultipleInput()) {\r\n        this.type = type;\r\n    } else {\r\n        this.type = '%mult'.concat(type);\r\n    }\r\n};\r\n\r\n// BlockLabelFragmentMorph ///////////////////////////////////////////////\r\n\r\n/*\r\n    I am a single word in a custom block prototype's label. I can be clicked\r\n    to edit my contents and to turn me into an input placeholder.\r\n*/\r\n\r\n// BlockLabelFragmentMorph inherits from StringMorph:\r\n\r\nBlockLabelFragmentMorph.prototype = new StringMorph();\r\nBlockLabelFragmentMorph.prototype.constructor = BlockLabelFragmentMorph;\r\nBlockLabelFragmentMorph.uber = StringMorph.prototype;\r\n\r\n// BlockLabelFragmentMorph instance creation:\r\n\r\nfunction BlockLabelFragmentMorph(text) {\r\n    this.init(text);\r\n}\r\n\r\nBlockLabelFragmentMorph.prototype.init = function (text) {\r\n    this.fragment = new BlockLabelFragment(text);\r\n    this.fragment.type = null;\r\n    this.sO = null; // temporary backup for shadowOffset\r\n    BlockLabelFragmentMorph.uber.init.call(\r\n        this,\r\n        text,\r\n        null, // font size\r\n        SyntaxElementMorph.prototype.labelFontStyle,\r\n        null, // bold\r\n        null, // italic\r\n        null, // numeric\r\n        null, // shadow offset\r\n        null, // shadow color\r\n        null, // color\r\n        SyntaxElementMorph.prototype.labelFontName\r\n    );\r\n};\r\n\r\n// BlockLabelFragmentMorph events:\r\n\r\nBlockLabelFragmentMorph.prototype.mouseEnter = function () {\r\n    this.sO = this.shadowOffset;\r\n    this.shadowOffset = this.sO.neg();\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nBlockLabelFragmentMorph.prototype.mouseLeave = function () {\r\n    this.shadowOffset = this.sO;\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nBlockLabelFragmentMorph.prototype.mouseClickLeft = function () {\r\n/*\r\n    make a copy of my fragment object and open an InputSlotDialog on it.\r\n    If the user acknowledges the DialogBox, assign the - edited - copy\r\n    of the fragment object to be my new fragment object and update the\r\n    custom block'label (the prototype in the block editor). Do not yet update\r\n    the definition and every block instance, as this happens only after\r\n    the user acknowledges and closes the block editor\r\n*/\r\n    var frag = this.fragment.copy(),\r\n        myself = this,\r\n        isPlaceHolder = this instanceof BlockLabelPlaceHolderMorph,\r\n        isOnlyElement = this.parent.parseSpec(this.parent.blockSpec).length\r\n            < 2;\r\n\r\n    new InputSlotDialogMorph(\r\n        frag,\r\n        null,\r\n        function () {myself.updateBlockLabel(frag); },\r\n        this,\r\n        this.parent.definition.category\r\n    ).open(\r\n        this instanceof BlockLabelFragmentMorph ?\r\n                'Edit label fragment' :\r\n                isPlaceHolder ? 'Create input name' : 'Edit input name',\r\n        frag.labelString,\r\n        this.world(),\r\n        null,\r\n        isPlaceHolder || isOnlyElement\r\n    );\r\n};\r\n\r\nBlockLabelFragmentMorph.prototype.updateBlockLabel = function (newFragment) {\r\n    var prot = this.parentThatIsA(BlockMorph);\r\n\r\n    this.fragment = newFragment;\r\n    if (prot) {\r\n        prot.refreshPrototype();\r\n    }\r\n};\r\n\r\nBlockLabelFragmentMorph.prototype.userMenu = function () {\r\n    // show a menu of built-in special symbols\r\n    var myself = this,\r\n        symbolColor = new Color(100, 100, 130),\r\n        menu = new MenuMorph(\r\n            function (string) {\r\n                var tuple = myself.text.split('-');\r\n                myself.changed();\r\n                tuple[0] = '$' + string;\r\n                myself.text = tuple.join('-');\r\n                myself.fragment.labelString = myself.text;\r\n                myself.parent.parent.changed();\r\n                myself.drawNew();\r\n                myself.changed();\r\n                myself.parent.parent.fixLayout();\r\n                myself.parent.parent.changed();\r\n            },\r\n            null,\r\n            this,\r\n            this.fontSize\r\n        );\r\n    SymbolMorph.prototype.names.forEach(function (name) {\r\n        menu.addItem(\r\n            [new SymbolMorph(name, menu.fontSize, symbolColor), name],\r\n            name\r\n        );\r\n    });\r\n    menu.addLine();\r\n    menu.addItem('\\u23CE ' + localize('new line'), 'nl');\r\n    return menu;\r\n};\r\n\r\n// BlockLabelPlaceHolderMorph ///////////////////////////////////////////////\r\n\r\n/*\r\n    I am a space between words or inputs in a custom block prototype's label.\r\n    When I am moused over I display a plus sign on a colored background\r\n    circle. I can be clicked to add a new word or input to the prototype.\r\n*/\r\n\r\n// BlockLabelPlaceHolderMorph inherits from StringMorph:\r\n\r\nBlockLabelPlaceHolderMorph.prototype = new StringMorph();\r\nBlockLabelPlaceHolderMorph.prototype.constructor = BlockLabelPlaceHolderMorph;\r\nBlockLabelPlaceHolderMorph.uber = StringMorph.prototype;\r\n\r\n// BlockLabelPlaceHolderMorph preferences settings\r\n\r\nBlockLabelPlaceHolderMorph.prototype.plainLabel = false; // always show (+)\r\n\r\n// BlockLabelPlaceHolderMorph instance creation:\r\n\r\nfunction BlockLabelPlaceHolderMorph() {\r\n    this.init();\r\n}\r\n\r\nBlockLabelPlaceHolderMorph.prototype.init = function () {\r\n    this.fragment = new BlockLabelFragment('');\r\n    this.fragment.type = '%s';\r\n    this.fragment.isDeleted = true;\r\n    this.isHighlighted = false;\r\n    this.isProtectedLabel = true; // doesn't participate in zebra coloring\r\n    BlockLabelFragmentMorph.uber.init.call(this, '+');\r\n};\r\n\r\n// BlockLabelPlaceHolderMorph drawing\r\n\r\nBlockLabelPlaceHolderMorph.prototype.drawNew = function () {\r\n    var context, width, x, y, cx, cy;\r\n\r\n    // set my text contents depending on the \"plainLabel\" flag\r\n    if (this.plainLabel) {\r\n        this.text = this.isHighlighted ? ' + ' : '';\r\n    }\r\n\r\n    // initialize my surface property\r\n    this.image = newCanvas();\r\n    context = this.image.getContext('2d');\r\n    context.font = this.font();\r\n\r\n    // set my extent\r\n    width = Math.max(\r\n        context.measureText(this.text).width\r\n            + Math.abs(this.shadowOffset.x),\r\n        1\r\n    );\r\n    this.bounds.corner = this.bounds.origin.add(\r\n        new Point(\r\n            width,\r\n            fontHeight(this.fontSize) + Math.abs(this.shadowOffset.y)\r\n        )\r\n    );\r\n    this.image.width = width;\r\n    this.image.height = this.height();\r\n\r\n    // draw background, if any\r\n    if (this.isHighlighted) {\r\n        cx = Math.floor(width / 2);\r\n        cy = Math.floor(this.height() / 2);\r\n        context.fillStyle = this.color.toString();\r\n        context.beginPath();\r\n        context.arc(\r\n            cx,\r\n            cy * 1.2,\r\n            Math.min(cx, cy),\r\n            radians(0),\r\n            radians(360),\r\n            false\r\n        );\r\n        context.closePath();\r\n        context.fill();\r\n    }\r\n\r\n    // prepare context for drawing text\r\n    context.font = this.font();\r\n    context.textAlign = 'left';\r\n    context.textBaseline = 'bottom';\r\n\r\n    // first draw the shadow, if any\r\n    if (this.shadowColor) {\r\n        x = Math.max(this.shadowOffset.x, 0);\r\n        y = Math.max(this.shadowOffset.y, 0);\r\n        context.fillStyle = this.shadowColor.toString();\r\n        context.fillText(this.text, x, fontHeight(this.fontSize) + y);\r\n    }\r\n\r\n    // now draw the actual text\r\n    x = Math.abs(Math.min(this.shadowOffset.x, 0));\r\n    y = Math.abs(Math.min(this.shadowOffset.y, 0));\r\n    context.fillStyle = this.isHighlighted ?\r\n            'white' : this.color.toString();\r\n    context.fillText(this.text, x, fontHeight(this.fontSize) + y);\r\n\r\n    // notify my parent of layout change\r\n    if (this.parent) {\r\n        if (this.parent.fixLayout) {\r\n            this.parent.fixLayout();\r\n        }\r\n        if (this.parent.parent instanceof PrototypeHatBlockMorph) {\r\n            this.parent.parent.fixLayout();\r\n        }\r\n    }\r\n};\r\n\r\n// BlockLabelPlaceHolderMorph events:\r\n\r\nBlockLabelPlaceHolderMorph.prototype.mouseEnter = function () {\r\n    var hat = this.parentThatIsA(PrototypeHatBlockMorph);\r\n    this.isHighlighted = true;\r\n    if (this.plainLabel && hat) {\r\n        hat.changed();\r\n        this.drawNew();\r\n        hat.changed();\r\n    } else {\r\n        this.drawNew();\r\n        this.changed();\r\n    }\r\n};\r\n\r\nBlockLabelPlaceHolderMorph.prototype.mouseLeave = function () {\r\n    var hat = this.parentThatIsA(PrototypeHatBlockMorph);\r\n    this.isHighlighted = false;\r\n    if (this.plainLabel && hat) {\r\n        hat.changed();\r\n        this.drawNew();\r\n        hat.changed();\r\n    } else {\r\n        this.drawNew();\r\n        this.changed();\r\n    }\r\n};\r\n\r\nBlockLabelPlaceHolderMorph.prototype.mouseClickLeft\r\n    = BlockLabelFragmentMorph.prototype.mouseClickLeft;\r\n\r\nBlockLabelPlaceHolderMorph.prototype.updateBlockLabel\r\n    = BlockLabelFragmentMorph.prototype.updateBlockLabel;\r\n\r\n// BlockInputFragmentMorph ///////////////////////////////////////////////\r\n\r\n/*\r\n    I am a variable blob in a custom block prototype's label. I can be clicked\r\n    to edit my contents and to turn me into an part of the block's label text.\r\n*/\r\n\r\n// BlockInputFragmentMorph inherits from TemplateSlotMorph:\r\n\r\nBlockInputFragmentMorph.prototype = new TemplateSlotMorph();\r\nBlockInputFragmentMorph.prototype.constructor = BlockInputFragmentMorph;\r\nBlockInputFragmentMorph.uber = TemplateSlotMorph.prototype;\r\n\r\n// BlockInputFragmentMorph instance creation:\r\n\r\nfunction BlockInputFragmentMorph(text) {\r\n    this.init(text);\r\n}\r\n\r\nBlockInputFragmentMorph.prototype.init = function (text) {\r\n    this.fragment = new BlockLabelFragment(text);\r\n    this.fragment.type = '%s';\r\n    BlockInputFragmentMorph.uber.init.call(this, text);\r\n};\r\n\r\n// BlockInputFragmentMorph events:\r\n\r\nBlockInputFragmentMorph.prototype.mouseClickLeft\r\n    = BlockLabelFragmentMorph.prototype.mouseClickLeft;\r\n\r\nBlockInputFragmentMorph.prototype.updateBlockLabel\r\n    = BlockLabelFragmentMorph.prototype.updateBlockLabel;\r\n\r\n// InputSlotDialogMorph ////////////////////////////////////////////////\r\n\r\n// ... \"inherits\" some methods from BlockDialogMorph\r\n\r\n// InputSlotDialogMorph inherits from DialogBoxMorph:\r\n\r\nInputSlotDialogMorph.prototype = new DialogBoxMorph();\r\nInputSlotDialogMorph.prototype.constructor = InputSlotDialogMorph;\r\nInputSlotDialogMorph.uber = DialogBoxMorph.prototype;\r\n\r\n// InputSlotDialogMorph preferences settings:\r\n\r\n// if \"isLaunchingExpanded\" is true I always open in the long form\r\nInputSlotDialogMorph.prototype.isLaunchingExpanded = false;\r\n\r\n// InputSlotDialogMorph instance creation:\r\n\r\nfunction InputSlotDialogMorph(\r\n    fragment,\r\n    target,\r\n    action,\r\n    environment,\r\n    category\r\n) {\r\n    this.init(fragment, target, action, environment, category);\r\n}\r\n\r\nInputSlotDialogMorph.prototype.init = function (\r\n    fragment,\r\n    target,\r\n    action,\r\n    environment,\r\n    category\r\n) {\r\n    var scale = SyntaxElementMorph.prototype.scale,\r\n        fh = fontHeight(10) / 1.2 * scale; // \"raw height\"\r\n\r\n    // additional properties:\r\n    this.fragment = fragment || new BlockLabelFragment();\r\n    this.textfield = null;\r\n    this.types = null;\r\n    this.slots = null;\r\n    this.isExpanded = false;\r\n    this.category = category || 'other';\r\n    this.cachedRadioButton = null; // \"template\" for radio button backgrounds\r\n    this.noDelete = false;\r\n\r\n    // initialize inherited properties:\r\n    BlockDialogMorph.uber.init.call(\r\n        this,\r\n        target,\r\n        action,\r\n        environment\r\n    );\r\n\r\n    // override inherited properites:\r\n    this.types = new AlignmentMorph('row', this.padding);\r\n    this.types.respectHiddens = true; // prevent the arrow from flipping\r\n    this.add(this.types);\r\n    this.slots = new BoxMorph();\r\n    this.slots.color = new Color(55, 55, 55); // same as palette\r\n    this.slots.borderColor = this.slots.color.lighter(50);\r\n    this.slots.setExtent(new Point((fh + 10) * 24, (fh + 10 * scale) * 10.4));\r\n    this.add(this.slots);\r\n    this.createSlotTypeButtons();\r\n    this.fixSlotsLayout();\r\n    this.addSlotsMenu();\r\n    this.createTypeButtons();\r\n    this.fixLayout();\r\n};\r\n\r\nInputSlotDialogMorph.prototype.createTypeButtons = function () {\r\n    var block,\r\n        arrow,\r\n        myself = this,\r\n        clr = SpriteMorph.prototype.blockColor[this.category];\r\n\r\n\r\n    block = new JaggedBlockMorph(localize('Title text'));\r\n    block.setColor(clr);\r\n    this.addBlockTypeButton(\r\n        function () {myself.setType(null); },\r\n        block,\r\n        function () {return myself.fragment.type === null; }\r\n    );\r\n\r\n    block = new JaggedBlockMorph('%inputName');\r\n    block.setColor(clr);\r\n    this.addBlockTypeButton(\r\n        function () {myself.setType('%s'); },\r\n        block,\r\n        function () {return myself.fragment.type !== null; }\r\n    );\r\n\r\n    // add an arrow button for long form/short form toggling\r\n    arrow = new ArrowMorph(\r\n        'right',\r\n        PushButtonMorph.prototype.fontSize + 4,\r\n        2\r\n    );\r\n    arrow.noticesTransparentClick = true;\r\n    this.types.add(arrow);\r\n    this.types.fixLayout();\r\n\r\n    // configure arrow button\r\n    arrow.refresh = function () {\r\n        if (myself.fragment.type === null) {\r\n            myself.isExpanded = false;\r\n            arrow.hide();\r\n            myself.drawNew();\r\n        } else {\r\n            arrow.show();\r\n            if (myself.isExpanded) {\r\n                arrow.direction = 'down';\r\n            } else {\r\n                arrow.direction = 'right';\r\n            }\r\n            arrow.drawNew();\r\n            arrow.changed();\r\n        }\r\n    };\r\n\r\n    arrow.mouseClickLeft = function () {\r\n        if (arrow.isVisible) {\r\n            myself.isExpanded = !myself.isExpanded;\r\n            myself.types.children.forEach(function (c) {\r\n                c.refresh();\r\n            });\r\n            myself.drawNew();\r\n            myself.edit();\r\n        }\r\n    };\r\n\r\n    arrow.refresh();\r\n};\r\n\r\nInputSlotDialogMorph.prototype.addTypeButton\r\n    = BlockDialogMorph.prototype.addTypeButton;\r\n\r\nInputSlotDialogMorph.prototype.addBlockTypeButton\r\n    = BlockDialogMorph.prototype.addBlockTypeButton;\r\n\r\nInputSlotDialogMorph.prototype.setType = function (fragmentType) {\r\n    this.textfield.choices = fragmentType ? null : this.symbolMenu;\r\n    this.textfield.drawNew();\r\n    this.fragment.type = fragmentType || null;\r\n    this.types.children.forEach(function (c) {\r\n        c.refresh();\r\n    });\r\n    this.slots.children.forEach(function (c) {\r\n        c.refresh();\r\n    });\r\n    this.edit();\r\n};\r\n\r\nInputSlotDialogMorph.prototype.getInput = function () {\r\n    var lbl;\r\n    if (this.body instanceof InputFieldMorph) {\r\n        lbl = this.normalizeSpaces(this.body.getValue());\r\n    }\r\n    if (lbl) {\r\n        this.fragment.labelString = lbl;\r\n        if (contains(['%b', '%boolUE'], this.fragment.type)) {\r\n            this.fragment.defaultValue =\r\n                this.slots.defaultSwitch.evaluate();\r\n        } else {\r\n            this.fragment.defaultValue =\r\n                this.slots.defaultInputField.getValue();\r\n        }\r\n        return lbl;\r\n    } else if (!this.noDelete) {\r\n        this.fragment.isDeleted = true;\r\n    }\r\n    return null;\r\n};\r\n\r\nInputSlotDialogMorph.prototype.fixLayout = function () {\r\n    var maxWidth,\r\n        left = this.left(),\r\n        th = fontHeight(this.titleFontSize) + this.titlePadding * 2;\r\n\r\n    if (!this.isExpanded) {\r\n        if (this.slots) {\r\n            this.slots.hide();\r\n        }\r\n        return BlockDialogMorph.prototype.fixLayout.call(this);\r\n    }\r\n\r\n    this.slots.show();\r\n    maxWidth = this.slots.width();\r\n\r\n    // arrange panes :\r\n    // body (input field)\r\n    this.body.setPosition(this.position().add(new Point(\r\n        this.padding + (maxWidth - this.body.width()) / 2,\r\n        th + this.padding\r\n    )));\r\n\r\n    // label\r\n    this.label.setLeft(\r\n        left + this.padding + (maxWidth - this.label.width()) / 2\r\n    );\r\n    this.label.setTop(this.top() + (th - this.label.height()) / 2);\r\n\r\n    // types\r\n    this.types.fixLayout();\r\n    this.types.setTop(this.body.bottom() + this.padding);\r\n    this.types.setLeft(\r\n        left + this.padding + (maxWidth - this.types.width()) / 2\r\n    );\r\n\r\n    // slots\r\n    this.slots.setPosition(new Point(\r\n        this.left() + this.padding,\r\n        this.types.bottom() + this.padding\r\n    ));\r\n    this.slots.children.forEach(function (c) {\r\n        c.refresh();\r\n    });\r\n\r\n    // buttons\r\n    this.buttons.fixLayout();\r\n    this.buttons.setTop(this.slots.bottom() + this.padding);\r\n    this.buttons.setLeft(\r\n        left + this.padding + (maxWidth - this.buttons.width()) / 2\r\n    );\r\n\r\n    // set dialog box dimensions:\r\n    this.silentSetHeight(this.buttons.bottom() - this.top() + this.padding);\r\n    this.silentSetWidth(this.slots.right() - this.left() + this.padding);\r\n};\r\n\r\nInputSlotDialogMorph.prototype.open = function (\r\n    title,\r\n    defaultString,\r\n    world,\r\n    pic,\r\n    noDeleteButton\r\n) {\r\n    var txt = new InputFieldMorph(defaultString),\r\n        oldFlag = Morph.prototype.trackChanges;\r\n\r\n    if (!this.fragment.type) {\r\n        txt.choices = this.symbolMenu;\r\n    }\r\n    Morph.prototype.trackChanges = false;\r\n    this.isExpanded = this.isLaunchingExpanded;\r\n    txt.setWidth(250);\r\n    this.labelString = title;\r\n    this.createLabel();\r\n    if (pic) {this.setPicture(pic); }\r\n    this.addBody(txt);\r\n    txt.drawNew();\r\n    this.textfield = txt;\r\n    this.addButton('ok', 'OK');\r\n    if (!noDeleteButton) {\r\n        this.addButton('deleteFragment', 'Delete');\r\n    } else {\r\n        this.noDelete = true;\r\n    }\r\n    this.addButton('cancel', 'Cancel');\r\n    this.fixLayout();\r\n    this.drawNew();\r\n    this.fixLayout();\r\n    this.popUp(world);\r\n    this.add(this.types); // make the types come to front\r\n    Morph.prototype.trackChanges = oldFlag;\r\n    this.changed();\r\n};\r\n\r\nInputSlotDialogMorph.prototype.symbolMenu = function () {\r\n    var symbols = [],\r\n        symbolColor = new Color(100, 100, 130),\r\n        myself = this;\r\n    SymbolMorph.prototype.names.forEach(function (symbol) {\r\n        symbols.push([\r\n            [\r\n                new SymbolMorph(symbol, myself.fontSize, symbolColor),\r\n                localize(symbol)\r\n            ],\r\n            '$' + symbol\r\n        ]);\r\n    });\r\n    symbols.push(['\\u23CE ' + localize('new line'), '$nl']);\r\n    return symbols;\r\n};\r\n\r\nInputSlotDialogMorph.prototype.deleteFragment = function () {\r\n    this.fragment.isDeleted = true;\r\n    this.accept();\r\n};\r\n\r\nInputSlotDialogMorph.prototype.createSlotTypeButtons = function () {\r\n    // populate my 'slots' area with radio buttons, labels and input fields\r\n    var myself = this, defLabel, defInput, defSwitch,\r\n        oldFlag = Morph.prototype.trackChanges;\r\n\r\n    Morph.prototype.trackChanges = false;\r\n\r\n    // slot types\r\n    this.addSlotTypeButton('Object', '%obj');\r\n    this.addSlotTypeButton('Text', '%txt');\r\n    this.addSlotTypeButton('List', '%l');\r\n    this.addSlotTypeButton('Number', '%n');\r\n    this.addSlotTypeButton('Any type', '%s');\r\n    this.addSlotTypeButton('Boolean (T/F)', '%b');\r\n    this.addSlotTypeButton('Command\\n(inline)', '%cmdRing'); //'%cmd');\r\n    this.addSlotTypeButton('Reporter', '%repRing'); //'%r');\r\n    this.addSlotTypeButton('Predicate', '%predRing'); //'%p');\r\n    this.addSlotTypeButton('Command\\n(C-shape)', '%cs');\r\n    this.addSlotTypeButton('Any\\n(unevaluated)', '%anyUE');\r\n    this.addSlotTypeButton('Boolean\\n(unevaluated)', '%boolUE');\r\n\r\n    // arity and upvars\r\n    this.slots.radioButtonSingle = this.addSlotArityButton(\r\n        function () {myself.setSlotArity('single'); },\r\n        \"Single input.\",\r\n        function () {return myself.fragment.isSingleInput(); }\r\n    );\r\n    this.addSlotArityButton(\r\n        function () {myself.setSlotArity('multiple'); },\r\n        \"Multiple inputs (value is list of inputs)\",\r\n        function () {return myself.fragment.isMultipleInput(); }\r\n    );\r\n    this.addSlotArityButton(\r\n        function () {myself.setSlotArity('upvar'); },\r\n        \"Upvar - make internal variable visible to caller\",\r\n        function () {return myself.fragment.isUpvar(); }\r\n    );\r\n\r\n    // default values\r\n    defLabel = new StringMorph(localize('Default Value:'));\r\n    defLabel.fontSize = this.slots.radioButtonSingle.fontSize;\r\n    defLabel.setColor(new Color(255, 255, 255));\r\n    defLabel.refresh = function () {\r\n        if (myself.isExpanded && contains(\r\n                ['%s', '%n', '%txt', '%anyUE', '%b', '%boolUE'],\r\n                myself.fragment.type\r\n            )) {\r\n            defLabel.show();\r\n        } else {\r\n            defLabel.hide();\r\n        }\r\n    };\r\n    this.slots.defaultInputLabel = defLabel;\r\n    this.slots.add(defLabel);\r\n\r\n    defInput = new InputFieldMorph(this.fragment.defaultValue);\r\n    defInput.contents().fontSize = defLabel.fontSize;\r\n    defInput.contrast = 90;\r\n    defInput.contents().drawNew();\r\n    defInput.setWidth(50);\r\n    defInput.refresh = function () {\r\n        if (myself.isExpanded && contains(\r\n            ['%s', '%n', '%txt', '%anyUE'],\r\n            myself.fragment.type\r\n        )) {\r\n            defInput.show();\r\n            if (myself.fragment.type === '%n') {\r\n                defInput.setIsNumeric(true);\r\n            } else {\r\n                defInput.setIsNumeric(false);\r\n            }\r\n        } else {\r\n            defInput.hide();\r\n        }\r\n    };\r\n    this.slots.defaultInputField = defInput;\r\n    this.slots.add(defInput);\r\n    defInput.drawNew();\r\n\r\n    defSwitch = new BooleanSlotMorph(this.fragment.defaultValue);\r\n    defSwitch.refresh = function () {\r\n        if (myself.isExpanded && contains(\r\n            ['%b', '%boolUE'],\r\n            myself.fragment.type\r\n        )) {\r\n            defSwitch.show();\r\n        } else {\r\n            defSwitch.hide();\r\n        }\r\n    };\r\n    this.slots.defaultSwitch = defSwitch;\r\n    this.slots.add(defSwitch);\r\n    defSwitch.drawNew();\r\n\r\n    Morph.prototype.trackChanges = oldFlag;\r\n};\r\n\r\nInputSlotDialogMorph.prototype.setSlotType = function (type) {\r\n    this.fragment.setSingleInputType(type);\r\n    this.slots.children.forEach(function (c) {\r\n        c.refresh();\r\n    });\r\n    this.edit();\r\n};\r\n\r\nInputSlotDialogMorph.prototype.setSlotArity = function (arity) {\r\n    if (arity === 'single') {\r\n        this.fragment.setToSingleInput();\r\n    } else if (arity === 'multiple') {\r\n        this.fragment.setToMultipleInput();\r\n    } else if (arity === 'upvar') {\r\n        this.fragment.setToUpvar();\r\n        // hide other options - under construction\r\n    }\r\n    this.slots.children.forEach(function (c) {\r\n        c.refresh();\r\n    });\r\n    this.edit();\r\n};\r\n\r\nInputSlotDialogMorph.prototype.addSlotTypeButton = function (\r\n    label,\r\n    spec\r\n) {\r\n/*\r\n    this method produces a radio button with a picture of the\r\n    slot type indicated by \"spec\" and the \"label\" text to\r\n    its right.\r\n    Note that you can make the slot picture interactive (turn\r\n    it into a ToggleElementMorph by changing the\r\n\r\n        element.fullImage()\r\n\r\n    line to just\r\n\r\n        element\r\n\r\n    I've opted for the simpler representation because it reduces\r\n    the duration of time it takes for the InputSlotDialog to load\r\n    and show. But in the future computers and browsers may be\r\n    faster.\r\n*/\r\n    var myself = this,\r\n        action = function () {myself.setSlotType(spec); },\r\n        query,\r\n        element = new JaggedBlockMorph(spec),\r\n        button;\r\n\r\n    query = function () {\r\n        return myself.fragment.singleInputType() === spec;\r\n    };\r\n    element.setCategory(this.category);\r\n    element.rebuild();\r\n    button = new ToggleMorph(\r\n        'radiobutton',\r\n        this,\r\n        action,\r\n        label,\r\n        query,\r\n        null,\r\n        null,\r\n        this.cachedRadioButton,\r\n        element.fullImage(), // delete the \"fullImage()\" part for interactive\r\n        'rebuild'\r\n    );\r\n    button.edge = this.buttonEdge / 2;\r\n    button.outline = this.buttonOutline / 2;\r\n    button.outlineColor = this.buttonOutlineColor;\r\n    button.outlineGradient = this.buttonOutlineGradient;\r\n    button.drawNew();\r\n    button.fixLayout();\r\n    button.label.isBold = false;\r\n    button.label.setColor(new Color(255, 255, 255));\r\n    if (!this.cachedRadioButton) {\r\n        this.cachedRadioButton = button;\r\n    }\r\n    this.slots.add(button);\r\n    return button;\r\n};\r\n\r\nInputSlotDialogMorph.prototype.addSlotArityButton = function (\r\n    action,\r\n    label,\r\n    query\r\n) {\r\n    var button = new ToggleMorph(\r\n        'radiobutton',\r\n        this,\r\n        action,\r\n        label,\r\n        query,\r\n        null,\r\n        null,\r\n        this.cachedRadioButton\r\n    );\r\n    button.edge = this.buttonEdge / 2;\r\n    button.outline = this.buttonOutline / 2;\r\n    button.outlineColor = this.buttonOutlineColor;\r\n    button.outlineGradient = this.buttonOutlineGradient;\r\n\r\n    button.drawNew();\r\n    button.fixLayout();\r\n    // button.label.isBold = false;\r\n    button.label.setColor(new Color(255, 255, 255));\r\n    this.slots.add(button);\r\n    if (!this.cachedRadioButton) {\r\n        this.cachedRadioButton = button;\r\n    }\r\n    return button;\r\n};\r\n\r\nInputSlotDialogMorph.prototype.fixSlotsLayout = function () {\r\n    var slots = this.slots,\r\n        scale = SyntaxElementMorph.prototype.scale,\r\n        xPadding = 10 * scale,\r\n        ypadding = 14 * scale,\r\n        bh = (fontHeight(10) / 1.2 + 15) * scale, // slot type button height\r\n        ah = (fontHeight(10) / 1.2 + 10) * scale, // arity button height\r\n        size = 12, // number slot type radio buttons\r\n        cols = [\r\n            slots.left() + xPadding,\r\n            slots.left() + slots.width() / 3,\r\n            slots.left() + slots.width() * 2 / 3\r\n        ],\r\n        rows = [\r\n            slots.top() + ypadding,\r\n            slots.top() + ypadding + bh,\r\n            slots.top() + ypadding + bh * 2,\r\n            slots.top() + ypadding + bh * 3,\r\n            slots.top() + ypadding + bh * 4,\r\n            slots.top() + ypadding + bh * 5,\r\n\r\n            slots.top() + ypadding + bh * 5 + ah,\r\n            slots.top() + ypadding + bh * 5 + ah * 2\r\n        ],\r\n        idx,\r\n        row = -1,\r\n        col,\r\n        oldFlag = Morph.prototype.trackChanges;\r\n\r\n    Morph.prototype.trackChanges = false;\r\n\r\n    // slot types:\r\n\r\n    for (idx = 0; idx < size; idx += 1) {\r\n        col = idx % 3;\r\n        if (idx % 3 === 0) {row += 1; }\r\n        slots.children[idx].setPosition(new Point(\r\n            cols[col],\r\n            rows[row]\r\n        ));\r\n    }\r\n\r\n    // arity:\r\n\r\n    col = 0;\r\n    row = 5;\r\n    for (idx = size; idx < size + 3; idx += 1) {\r\n        slots.children[idx].setPosition(new Point(\r\n            cols[col],\r\n            rows[row + idx - size]\r\n        ));\r\n    }\r\n\r\n    // default input\r\n\r\n    this.slots.defaultInputLabel.setPosition(\r\n        this.slots.radioButtonSingle.label.topRight().add(new Point(5, 0))\r\n    );\r\n    this.slots.defaultInputField.setCenter(\r\n        this.slots.defaultInputLabel.center().add(new Point(\r\n            this.slots.defaultInputField.width() / 2\r\n                + this.slots.defaultInputLabel.width() / 2 + 5,\r\n            0\r\n        ))\r\n    );\r\n    this.slots.defaultSwitch.setCenter(\r\n        this.slots.defaultInputLabel.center().add(new Point(\r\n            this.slots.defaultSwitch.width() / 2\r\n                + this.slots.defaultInputLabel.width() / 2 + 5,\r\n            0\r\n        ))\r\n    );\r\n    Morph.prototype.trackChanges = oldFlag;\r\n    this.slots.changed();\r\n};\r\n\r\nInputSlotDialogMorph.prototype.addSlotsMenu = function () {\r\n    var myself = this;\r\n\r\n    this.slots.userMenu = function () {\r\n        if (contains(['%s', '%n', '%txt', '%anyUE'], myself.fragment.type)) {\r\n            var menu = new MenuMorph(myself),\r\n                on = '\\u2611 ',\r\n                off = '\\u2610 ';\r\n            menu.addItem('options...', 'editSlotOptions');\r\n            menu.addItem(\r\n                (myself.fragment.isReadOnly ? on : off) +\r\n                    localize('read-only'),\r\n                function () {myself.fragment.isReadOnly =\r\n                         !myself.fragment.isReadOnly;\r\n                         }\r\n            );\r\n            return menu;\r\n        }\r\n        return Morph.prototype.userMenu.call(myself);\r\n    };\r\n};\r\n\r\nInputSlotDialogMorph.prototype.editSlotOptions = function () {\r\n    var myself = this;\r\n    new DialogBoxMorph(\r\n        myself,\r\n        function (options) {\r\n            myself.fragment.options = options.trim();\r\n        },\r\n        myself\r\n    ).promptCode(\r\n        'Input Slot Options',\r\n        myself.fragment.options,\r\n        myself.world(),\r\n        null,\r\n        localize('Enter one option per line.\\n' +\r\n            'Optionally use \"=\" as key/value delimiter ' +\r\n            'and {} for submenus. ' +\r\n            'e.g.\\n   the answer=42')\r\n    );\r\n};\r\n\r\n// InputSlotDialogMorph hiding and showing:\r\n\r\n/*\r\n    override the inherited behavior to recursively hide/show all\r\n    children, so that my instances get restored correctly when\r\n    hiding/showing my parent.\r\n*/\r\n\r\nInputSlotDialogMorph.prototype.hide = function () {\r\n    this.isVisible = false;\r\n    this.changed();\r\n};\r\n\r\nInputSlotDialogMorph.prototype.show = function () {\r\n    this.isVisible = true;\r\n    this.changed();\r\n};\r\n\r\n// VariableDialogMorph ////////////////////////////////////////////////////\r\n\r\n// VariableDialogMorph inherits from DialogBoxMorph:\r\n\r\nVariableDialogMorph.prototype = new DialogBoxMorph();\r\nVariableDialogMorph.prototype.constructor = VariableDialogMorph;\r\nVariableDialogMorph.uber = DialogBoxMorph.prototype;\r\n\r\n// ... and some behavior from BlockDialogMorph\r\n\r\n// VariableDialogMorph instance creation:\r\n\r\nfunction VariableDialogMorph(target, action, environment) {\r\n    this.init(target, action, environment);\r\n}\r\n\r\nVariableDialogMorph.prototype.init = function (target, action, environment) {\r\n    // additional properties:\r\n    this.types = null;\r\n    this.isGlobal = true;\r\n\r\n    // initialize inherited properties:\r\n    BlockDialogMorph.uber.init.call(\r\n        this,\r\n        target,\r\n        action,\r\n        environment\r\n    );\r\n\r\n    // override inherited properites:\r\n    this.types = new AlignmentMorph('row', this.padding);\r\n    this.add(this.types);\r\n    this.createTypeButtons();\r\n};\r\n\r\nVariableDialogMorph.prototype.createTypeButtons = function () {\r\n    var myself = this;\r\n\r\n    this.addTypeButton(\r\n        function () {myself.setType('global'); },\r\n        \"for all sprites\",\r\n        function () {return myself.isGlobal; }\r\n    );\r\n    this.addTypeButton(\r\n        function () {myself.setType('local'); },\r\n        \"for this sprite only\",\r\n        function () {return !myself.isGlobal; }\r\n    );\r\n};\r\n\r\nVariableDialogMorph.prototype.addTypeButton\r\n    = BlockDialogMorph.prototype.addTypeButton;\r\n\r\nVariableDialogMorph.prototype.setType = function (varType) {\r\n    this.isGlobal = (varType === 'global');\r\n    this.types.children.forEach(function (c) {\r\n        c.refresh();\r\n    });\r\n    this.edit();\r\n};\r\n\r\nVariableDialogMorph.prototype.getInput = function () {\r\n    // answer a tuple: [varName, isGlobal]\r\n    var name = this.normalizeSpaces(this.body.getValue());\r\n    return name ? [name, this.isGlobal] : null;\r\n};\r\n\r\nVariableDialogMorph.prototype.fixLayout = function () {\r\n    var th = fontHeight(this.titleFontSize) + this.titlePadding * 2;\r\n\r\n    if (this.body) {\r\n        this.body.setPosition(this.position().add(new Point(\r\n            this.padding,\r\n            th + this.padding\r\n        )));\r\n        this.silentSetWidth(this.body.width() + this.padding * 2);\r\n        this.silentSetHeight(\r\n            this.body.height()\r\n                + this.padding * 2\r\n                + th\r\n        );\r\n    }\r\n\r\n    if (this.label) {\r\n        this.label.setCenter(this.center());\r\n        this.label.setTop(this.top() + (th - this.label.height()) / 2);\r\n    }\r\n\r\n    if (this.types) {\r\n        this.types.fixLayout();\r\n        this.silentSetHeight(\r\n            this.height()\r\n                    + this.types.height()\r\n                    + this.padding\r\n        );\r\n        this.silentSetWidth(Math.max(\r\n            this.width(),\r\n            this.types.width() + this.padding * 2\r\n        ));\r\n        this.types.setCenter(this.center());\r\n        if (this.body) {\r\n            this.types.setTop(this.body.bottom() + this.padding);\r\n        } else if (this.categories) {\r\n            this.types.setTop(this.categories.bottom() + this.padding);\r\n        }\r\n    }\r\n\r\n    if (this.buttons && (this.buttons.children.length > 0)) {\r\n        this.buttons.fixLayout();\r\n        this.silentSetHeight(\r\n            this.height()\r\n                    + this.buttons.height()\r\n                    + this.padding\r\n        );\r\n        this.buttons.setCenter(this.center());\r\n        this.buttons.setBottom(this.bottom() - this.padding);\r\n    }\r\n};\r\n\r\n// BlockExportDialogMorph ////////////////////////////////////////////////////\r\n\r\n// BlockExportDialogMorph inherits from DialogBoxMorph:\r\n\r\nBlockExportDialogMorph.prototype = new DialogBoxMorph();\r\nBlockExportDialogMorph.prototype.constructor = BlockExportDialogMorph;\r\nBlockExportDialogMorph.uber = DialogBoxMorph.prototype;\r\n\r\n// BlockExportDialogMorph constants:\r\n\r\nBlockExportDialogMorph.prototype.key = 'blockExport';\r\n\r\n// BlockExportDialogMorph instance creation:\r\n\r\nfunction BlockExportDialogMorph(serializer, blocks) {\r\n    this.init(serializer, blocks);\r\n}\r\n\r\nBlockExportDialogMorph.prototype.init = function (serializer, blocks) {\r\n    var myself = this;\r\n\r\n    // additional properties:\r\n    this.serializer = serializer;\r\n    this.blocks = blocks.slice(0);\r\n    this.handle = null;\r\n\r\n    // initialize inherited properties:\r\n    BlockExportDialogMorph.uber.init.call(\r\n        this,\r\n        null, // target\r\n        function () {myself.exportBlocks(); },\r\n        null // environment\r\n    );\r\n\r\n    // override inherited properites:\r\n    this.labelString = 'Export blocks';\r\n    this.createLabel();\r\n\r\n    // build contents\r\n    this.buildContents();\r\n};\r\n\r\nBlockExportDialogMorph.prototype.buildContents = function () {\r\n    var palette, x, y, block, checkBox, lastCat,\r\n        myself = this,\r\n        padding = 4;\r\n\r\n    // create plaette\r\n    palette = new ScrollFrameMorph(\r\n        null,\r\n        null,\r\n        SpriteMorph.prototype.sliderColor\r\n    );\r\n    palette.color = SpriteMorph.prototype.paletteColor;\r\n    palette.padding = padding;\r\n    palette.isDraggable = false;\r\n    palette.acceptsDrops = false;\r\n    palette.contents.acceptsDrops = false;\r\n\r\n    // populate palette\r\n    x = palette.left() + padding;\r\n    y = palette.top() + padding;\r\n    SpriteMorph.prototype.categories.forEach(function (category) {\r\n        myself.blocks.forEach(function (definition) {\r\n            if (definition.category === category) {\r\n                if (lastCat && (category !== lastCat)) {\r\n                    y += padding;\r\n                }\r\n                lastCat = category;\r\n                block = definition.templateInstance();\r\n                checkBox = new ToggleMorph(\r\n                    'checkbox',\r\n                    myself,\r\n                    function () {\r\n                        var idx = myself.blocks.indexOf(definition);\r\n                        if (idx > -1) {\r\n                            myself.blocks.splice(idx, 1);\r\n                        } else {\r\n                            myself.blocks.push(definition);\r\n                        }\r\n                    },\r\n                    null,\r\n                    function () {\r\n                        return contains(\r\n                            myself.blocks,\r\n                            definition\r\n                        );\r\n                    },\r\n                    null,\r\n                    null,\r\n                    null,\r\n                    block.fullImage()\r\n                );\r\n                checkBox.setPosition(new Point(\r\n                    x,\r\n                    y + (checkBox.top() - checkBox.toggleElement.top())\r\n                ));\r\n                palette.addContents(checkBox);\r\n                y += checkBox.fullBounds().height() + padding;\r\n            }\r\n        });\r\n    });\r\n\r\n    palette.scrollX(padding);\r\n    palette.scrollY(padding);\r\n    this.addBody(palette);\r\n\r\n    this.addButton('ok', 'OK');\r\n    this.addButton('cancel', 'Cancel');\r\n\r\n    this.setExtent(new Point(220, 300));\r\n    this.fixLayout();\r\n\r\n};\r\n\r\nBlockExportDialogMorph.prototype.popUp = function (wrrld) {\r\n    var world = wrrld || this.target.world();\r\n    if (world) {\r\n        BlockExportDialogMorph.uber.popUp.call(this, world);\r\n        this.handle = new HandleMorph(\r\n            this,\r\n            200,\r\n            220,\r\n            this.corner,\r\n            this.corner\r\n        );\r\n    }\r\n};\r\n\r\n// BlockExportDialogMorph menu\r\n\r\nBlockExportDialogMorph.prototype.userMenu = function () {\r\n    var menu = new MenuMorph(this, 'select');\r\n    menu.addItem('all', 'selectAll');\r\n    menu.addItem('none', 'selectNone');\r\n    return menu;\r\n};\r\n\r\nBlockExportDialogMorph.prototype.selectAll = function () {\r\n    this.body.contents.children.forEach(function (checkBox) {\r\n        if (!checkBox.state) {\r\n            checkBox.trigger();\r\n        }\r\n    });\r\n};\r\n\r\nBlockExportDialogMorph.prototype.selectNone = function () {\r\n    this.blocks = [];\r\n    this.body.contents.children.forEach(function (checkBox) {\r\n        checkBox.refresh();\r\n    });\r\n};\r\n\r\n// BlockExportDialogMorph ops\r\n\r\nBlockExportDialogMorph.prototype.exportBlocks = function () {\r\n    var str = this.serializer.serialize(this.blocks, true), // for library\r\n        ide = this.world().children[0];\r\n\r\n    if (this.blocks.length > 0) {\r\n        str = '<blocks app=\"'\r\n            + this.serializer.app\r\n            + '\" version=\"'\r\n            + this.serializer.version\r\n            + '\">'\r\n            + str\r\n            + '</blocks>';\r\n        ide.saveXMLAs(\r\n            str,\r\n            (ide.projectName || localize('untitled')) + ' ' + localize('blocks')\r\n        );\r\n    } else {\r\n        new DialogBoxMorph().inform(\r\n            'Export blocks',\r\n            'no blocks were selected',\r\n            this.world()\r\n        );\r\n    }\r\n};\r\n\r\n// BlockExportDialogMorph layout\r\n\r\nBlockExportDialogMorph.prototype.fixLayout\r\n    = BlockEditorMorph.prototype.fixLayout;\r\n\r\n// BlockImportDialogMorph ////////////////////////////////////////////////////\r\n\r\n// BlockImportDialogMorph inherits from DialogBoxMorph\r\n// and pseudo-inherits from BlockExportDialogMorph:\r\n\r\nBlockImportDialogMorph.prototype = new DialogBoxMorph();\r\nBlockImportDialogMorph.prototype.constructor = BlockImportDialogMorph;\r\nBlockImportDialogMorph.uber = DialogBoxMorph.prototype;\r\n\r\n// BlockImportDialogMorph constants:\r\n\r\nBlockImportDialogMorph.prototype.key = 'blockImport';\r\n\r\n// BlockImportDialogMorph instance creation:\r\n\r\nfunction BlockImportDialogMorph(blocks, target, name) {\r\n    this.init(blocks, target, name);\r\n}\r\n\r\nBlockImportDialogMorph.prototype.init = function (blocks, target, name) {\r\n    var myself = this;\r\n\r\n    // additional properties:\r\n    this.blocks = blocks.slice(0);\r\n    this.handle = null;\r\n\r\n    // initialize inherited properties:\r\n    BlockExportDialogMorph.uber.init.call(\r\n        this,\r\n        target,\r\n        function () {myself.importBlocks(name); },\r\n        null // environment\r\n    );\r\n\r\n    // override inherited properites:\r\n    this.labelString = localize('Import blocks')\r\n        + (name ? ': ' : '')\r\n        + name || '';\r\n    this.createLabel();\r\n\r\n    // build contents\r\n    this.buildContents();\r\n};\r\n\r\nBlockImportDialogMorph.prototype.buildContents\r\n    = BlockExportDialogMorph.prototype.buildContents;\r\n\r\nBlockImportDialogMorph.prototype.popUp\r\n    = BlockExportDialogMorph.prototype.popUp;\r\n\r\n// BlockImportDialogMorph menu\r\n\r\nBlockImportDialogMorph.prototype.userMenu\r\n    = BlockExportDialogMorph.prototype.userMenu;\r\n\r\nBlockImportDialogMorph.prototype.selectAll\r\n    = BlockExportDialogMorph.prototype.selectAll;\r\n\r\nBlockImportDialogMorph.prototype.selectNone\r\n    = BlockExportDialogMorph.prototype.selectNone;\r\n\r\n// BlockImportDialogMorph ops\r\n\r\nBlockImportDialogMorph.prototype.importBlocks = function (name) {\r\n    var ide = this.target.parentThatIsA(IDE_Morph);\r\n    if (!ide) {return; }\r\n    if (this.blocks.length > 0) {\r\n        this.blocks.forEach(function (def) {\r\n            def.receiver = ide.stage;\r\n            ide.stage.globalBlocks.push(def);\r\n            ide.stage.replaceDoubleDefinitionsFor(def);\r\n        });\r\n        ide.flushPaletteCache();\r\n        ide.refreshPalette();\r\n        ide.showMessage(\r\n            'Imported Blocks Module' + (name ? ': ' + name : '') + '.',\r\n            2\r\n        );\r\n    } else {\r\n        new DialogBoxMorph().inform(\r\n            'Import blocks',\r\n            'no blocks were selected',\r\n            this.world()\r\n        );\r\n    }\r\n};\r\n\r\n// BlockImportDialogMorph layout\r\n\r\nBlockImportDialogMorph.prototype.fixLayout\r\n    = BlockEditorMorph.prototype.fixLayout;\r\n\r\n// BlockRemovalDialogMorph ///////////////////////////////////////////////////\r\n\r\n// BlockRemovalDialogMorph inherits from DialogBoxMorph\r\n// and pseudo-inherits from BlockExportDialogMorph:\r\n\r\nBlockRemovalDialogMorph.prototype = new DialogBoxMorph();\r\nBlockRemovalDialogMorph.prototype.constructor = BlockImportDialogMorph;\r\nBlockRemovalDialogMorph.uber = DialogBoxMorph.prototype;\r\n\r\n// BlockRemovalDialogMorph constants:\r\n\r\nBlockRemovalDialogMorph.prototype.key = 'blockRemove';\r\n\r\n// BlockRemovalDialogMorph instance creation:\r\n\r\nfunction BlockRemovalDialogMorph(blocks, target) {\r\n    this.init(blocks, target);\r\n}\r\n\r\nBlockRemovalDialogMorph.prototype.init = function (blocks, target) {\r\n    var myself = this;\r\n\r\n    // additional properties:\r\n    this.blocks = blocks.slice(0);\r\n    this.handle = null;\r\n\r\n    // initialize inherited properties:\r\n    BlockExportDialogMorph.uber.init.call(\r\n        this,\r\n        target,\r\n        function () {myself.removeBlocks(); },\r\n        null // environment\r\n    );\r\n\r\n    // override inherited properites:\r\n    this.labelString = localize('Remove unused blocks')\r\n        + (name ? ': ' : '')\r\n        + name || '';\r\n    this.createLabel();\r\n\r\n    // build contents\r\n    this.buildContents();\r\n};\r\n\r\nBlockRemovalDialogMorph.prototype.buildContents\r\n    = BlockExportDialogMorph.prototype.buildContents;\r\n\r\nBlockRemovalDialogMorph.prototype.popUp\r\n    = BlockExportDialogMorph.prototype.popUp;\r\n\r\n// BlockRemovalDialogMorph menu\r\n\r\nBlockRemovalDialogMorph.prototype.userMenu\r\n    = BlockExportDialogMorph.prototype.userMenu;\r\n\r\nBlockRemovalDialogMorph.prototype.selectAll\r\n    = BlockExportDialogMorph.prototype.selectAll;\r\n\r\nBlockRemovalDialogMorph.prototype.selectNone\r\n    = BlockExportDialogMorph.prototype.selectNone;\r\n\r\n// BlockRemovalDialogMorph ops\r\n\r\nBlockRemovalDialogMorph.prototype.removeBlocks = function () {\r\n    var ide = this.target.parentThatIsA(IDE_Morph);\r\n    if (!ide) {return; }\r\n    if (this.blocks.length > 0) {\r\n        this.blocks.forEach(function (def) {\r\n            var idx = ide.stage.globalBlocks.indexOf(def);\r\n            if (idx !== -1) {\r\n                ide.stage.globalBlocks.splice(idx, 1);\r\n            }\r\n        });\r\n        ide.flushPaletteCache();\r\n        ide.refreshPalette();\r\n        ide.showMessage(\r\n            this.blocks.length + ' ' + localize('unused block(s) removed'),\r\n            2\r\n        );\r\n    } else {\r\n        new DialogBoxMorph().inform(\r\n            'Remove unused blocks',\r\n            'no blocks were selected',\r\n            this.world()\r\n        );\r\n    }\r\n};\r\n\r\n// BlockRemovalDialogMorph layout\r\n\r\nBlockRemovalDialogMorph.prototype.fixLayout\r\n    = BlockEditorMorph.prototype.fixLayout;\r\n//fin de byob.\r\n/*\r\n\r\n    tables.js\r\n\r\n    basic spreadsheet elements for Snap!\r\n\r\n    written by Jens Mönig\r\n    jens@moenig.org\r\n\r\n    Copyright (C) 2016 by Jens Mönig\r\n\r\n    This file is part of Snap!.\r\n\r\n    Snap! is free software: you can redistribute it and/or modify\r\n    it under the terms of the GNU Affero General Public License as\r\n    published by the Free Software Foundation, either version 3 of\r\n    the License, or (at your option) any later version.\r\n\r\n    This program is distributed in the hope that it will be useful,\r\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n    GNU Affero General Public License for more details.\r\n\r\n    You should have received a copy of the GNU Affero General Public License\r\n    along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n\r\n\r\n    prerequisites:\r\n    --------------\r\n    needs morphic.js, list.js, widgets.js, byob.js, threads\r\n\r\n\r\n    I. hierarchy\r\n    -------------\r\n    the following tree lists all constructors hierarchically,\r\n    indentation indicating inheritance. Refer to this list to get a\r\n    contextual overview:\r\n\r\n    DialogBoxMorph**\r\n        TableDialogMorph\r\n    Morph*\r\n        FrameMorph*\r\n            TableMorph\r\n        TableCellMorph\r\n        TableFrameMorph\r\n    Table\r\n\r\n    * from morphic.js\r\n    ** from widgets.js\r\n\r\n\r\n    II. toc\r\n    -------\r\n    the following list shows the order in which all constructors are\r\n    defined. Use this list to locate code in this document:\r\n\r\n    Table\r\n    TableCellMorph\r\n    TableMorph\r\n    TableFrameMorph\r\n    TableDialogMorph\r\n\r\n*/\r\n\r\n// Global settings /////////////////////////////////////////////////////\r\n\r\n/*global modules, Point, newCanvas, Morph, fontHeight, SliderMorph, List,\r\nMorphicPreferences, FrameMorph, HandleMorph, DialogBoxMorph, isString,\r\nSpriteMorph, Context, Costume, ArgMorph, BlockEditorMorph, SymbolMorph,\r\nSyntaxElementMorph, MenuMorph, SpriteBubbleMorph, SpeechBubbleMorph, Sound,\r\nCellMorph, ListWatcherMorph, isNil, BoxMorph, Variable, isSnapObject*/\r\n\r\nmodules.tables = '2017-September-01';\r\n\r\nvar Table;\r\nvar TableCellMorph;\r\nvar TableMorph;\r\nvar TableFrameMorph;\r\n\r\n// Table /////////////////////////////////////////////////////////////\r\n\r\n/*\r\n    Observable 2D data collections accessible by rows, columns and cells\r\n    with indices starting at 1.\r\n    currently only used for testing TableViews in Snap, because Snap\r\n    automatically displays 2D lists as tables.\r\n*/\r\n\r\nfunction Table(cols, rows) {\r\n    this.colCount = +cols;\r\n    this.rowCount = +rows;\r\n    this.colNames = [];\r\n    this.rowNames = [];\r\n    this.contents = new Array(+rows);\r\n    for (var i = 0; i < rows; i += 1) {\r\n        this.contents[i] = new Array(+cols);\r\n    }\r\n    this.lastChanged = Date.now();\r\n}\r\n\r\n// Table testing:\r\n\r\nTable.prototype.demo = function(aWorld) {\r\n    // new Table(50, 10000).demo(world)\r\n    var dlg;\r\n    this.fillWithTestData();\r\n    dlg = new TableDialogMorph(this);\r\n    dlg.popUp (aWorld);\r\n};\r\n\r\n// Table updating:\r\n\r\nTable.prototype.changed = function () {\r\n    this.lastChanged = Date.now();\r\n};\r\n\r\n// Table querying:\r\n\r\nTable.prototype.get = function (col, row) {\r\n    if (!col) {\r\n        if (!row) {return [this.rowCount]; }\r\n        return this.rowName(row);\r\n    } else if (!row) {\r\n        return this.colName(col);\r\n    }\r\n    if (col > this.colCount || row > this.rowCount) {return null; }\r\n    return (this.contents[row - 1] || [])[col - 1];\r\n};\r\n\r\nTable.prototype.row = function(row) {\r\n    return this.contents[row - 1];\r\n};\r\n\r\nTable.prototype.col = function(col) {\r\n    var dta = [],\r\n        c = col - 1,\r\n        i;\r\n    for (i = 0; i < this.rowCount; i += 1) {\r\n        dta.push(this.contents[i][c]);\r\n    }\r\n    return dta;\r\n};\r\n\r\nTable.prototype.colName = function (col) {\r\n    // answer the specified name or a capital letter A-Z\r\n    // repeated accordingly\r\n    if (col > this.colCount) {return null; }\r\n    var name = this.colNames[col - 1];\r\n    if (name !== undefined) {return name; }\r\n    return String.fromCharCode(64 + ((col % 26) || 26)).repeat(\r\n        Math.floor((col - 1) / 26) + 1\r\n    );\r\n};\r\n\r\nTable.prototype.rowName = function (row) {\r\n    // answer the specified name or row number\r\n    if (row > this.rowCount) {return null; }\r\n    return this.rowNames[row - 1] || row;\r\n};\r\n\r\nTable.prototype.rows = function () {\r\n    return this.rowCount;\r\n};\r\n\r\nTable.prototype.cols = function () {\r\n    return this.colCount;\r\n};\r\n\r\nTable.prototype.columnNames = function () {\r\n    return this.colNames;\r\n};\r\n\r\n// Table setting:\r\n\r\nTable.prototype.set = function (data, col, row) {\r\n    this.contents[row - 1][col - 1] = data;\r\n    this.changed();\r\n};\r\n\r\nTable.prototype.setRows = function (rowsArray, colNames, rowNames) {\r\n    this.contents = rowsArray;\r\n    if (colNames) {this.colNames = colNames; }\r\n    if (rowNames) {this.rowNames = rowNames; }\r\n    this.changed();\r\n};\r\n\r\nTable.prototype.setCols = function (colsArray, colNames, rowNames) {\r\n    var r, c;\r\n    for (c = 0; c < this.colCount; c += 1) {\r\n        for (r = 0; r < this.rowCount; r += 1) {\r\n            this.contents[r][c] = colsArray[c][r];\r\n        }\r\n    }\r\n    if (colNames) {this.colNames = colNames; }\r\n    if (rowNames) {this.rowNames = rowNames; }\r\n    this.changed();\r\n};\r\n\r\nTable.prototype.setColNames = function (array) {\r\n    this.colNames = array || [];\r\n    this.changed();\r\n};\r\n\r\nTable.prototype.setRowNames = function (array) {\r\n    this.rowNames = array || [];\r\n    this.changed();\r\n};\r\n\r\nTable.prototype.setColName = function (col, name) {\r\n    this.colNames[col + 1] = name;\r\n    this.changed();\r\n};\r\n\r\nTable.prototype.setRowName = function (row, name) {\r\n    this.rowNames[row + 1] = name;\r\n    this.changed();\r\n};\r\n\r\n// Table growing:\r\n\r\nTable.prototype.addRow = function (array, name) {\r\n    if (array) {\r\n        this.contents[this.rowCount] = array;\r\n    } else {\r\n        this.contents[this.rowCount] = new Array(this.rowCount);\r\n    }\r\n    this.rowNames[this.rowCount] = name;\r\n    this.rowCount += 1;\r\n    this.changed();\r\n};\r\n\r\nTable.prototype.addCol = function (array, name) {\r\n    var i;\r\n    if (array) {\r\n        for (i = 0; i < this.col; i += 1) {\r\n            this.contents[i][this.colCount] = array[i];\r\n        }\r\n    }\r\n    this.colNames[this.colCount] = name;\r\n    this.colCount += 1;\r\n    this.changed();\r\n};\r\n\r\n// Table converting:\r\n\r\nTable.prototype.toList = function () {\r\n    return new List(\r\n        this.contents.map(function (eachRow) {\r\n            return new List(eachRow);\r\n        })\r\n    );\r\n};\r\n\r\n// Table testing\r\n\r\nTable.prototype.fillWithTestData = function () {\r\n    var c, r;\r\n    for (c = 1; c <= this.colCount; c += 1) {\r\n        for (r = 1; r <= this.rowCount; r += 1) {\r\n            this.set (this.colName(c) + this.rowName(r), c, r);\r\n        }\r\n    }\r\n};\r\n\r\n// TableCellMorph /////////////////////////////////////////////////////////\r\n\r\n// basic fast data view, currently constrained to a single line of text\r\n\r\n// TableCellMorph inherits from Morph:\r\n\r\nTableCellMorph.prototype = new Morph();\r\nTableCellMorph.prototype.constructor = TableCellMorph;\r\nTableCellMorph.uber = Morph.prototype;\r\n\r\n// TableCellMorph global setting:\r\n\r\nTableCellMorph.prototype.listSymbol = ArgMorph.prototype.listIcon();\r\n\r\n// TableCellMorph instance creation:\r\n\r\nfunction TableCellMorph(data, extent, isLabel) {\r\n    this.init(data, extent, isLabel);\r\n}\r\n\r\nTableCellMorph.prototype.init = function (data, extent, isLabel) {\r\n    // additional properties:\r\n    this.data = data;\r\n    this.isLabel = isLabel || false;\r\n\r\n    // initialize inherited properties:\r\n    TableCellMorph.uber.init.call(this, true);\r\n\r\n    // override inherited properites:\r\n    this.noticesTransparentClick = true;\r\n    if (extent) {this.silentSetExtent(extent); }\r\n    this.drawNew();\r\n};\r\n\r\nTableCellMorph.prototype.setData = function (data, extent) {\r\n    this.data = data;\r\n    if (extent && (!extent.eq(this.extent()))) {\r\n        this.silentSetExtent(extent);\r\n        this.drawNew();\r\n    } else {\r\n        this.drawData();\r\n    }\r\n    // note: don't call changed(), let the TableMorph handle it instead\r\n};\r\n\r\nTableCellMorph.prototype.getData = function () {\r\n    return this.data instanceof Array ? this.data[0] : this.data;\r\n};\r\n\r\nTableCellMorph.prototype.drawNew = function () {\r\n    this.image = newCanvas(this.extent());\r\n    this.drawData();\r\n};\r\n\r\nTableCellMorph.prototype.drawData = function (lbl, bg) {\r\n    var dta = lbl || this.dataRepresentation(this.data),\r\n        context = this.image.getContext('2d'),\r\n        fontSize = SyntaxElementMorph.prototype.fontSize,\r\n        empty = TableMorph.prototype.highContrast ? 'rgb(220, 220, 220)'\r\n                : 'transparent',\r\n        orphaned = 'rgb(217, 77, 17)',\r\n        fontStyle = this.isLabel ?\r\n                (this.data instanceof Array ? 'italic'  : '')\r\n                        : this.shouldBeList() ? 'bold' : '',\r\n        font = fontStyle + ' ' + fontSize + 'px Helvetica, Arial, sans-serif',\r\n        background = bg || (this.isLabel ? empty\r\n                : (this.shouldBeList() ? orphaned\r\n                        : (this.isOvershooting() ? 'white'\r\n                                : (isNil(this.data) ? empty : 'white')))),\r\n        foreground = !this.isLabel && this.shouldBeList()? 'white' : 'black',\r\n        width = this.width(),\r\n        height = this.height(),\r\n        txtWidth,\r\n        txtHeight,\r\n        x,\r\n        y;\r\n\r\n    context.clearRect(0, 0, width, height);\r\n    context.fillStyle = background;\r\n    if (this.shouldBeList()) {\r\n        BoxMorph.prototype.outlinePath.call(\r\n            this, context, SyntaxElementMorph.prototype.corner + 1, 0\r\n        );\r\n        context.fill();\r\n    } else if (this.isOvershooting()) {\r\n        this.raggedBoxPath(context);\r\n        context.fill();\r\n    } else {\r\n        context.fillRect(0, 0, width, height);\r\n    }\r\n\r\n    if (!dta) {return; }\r\n    if (dta instanceof HTMLCanvasElement) {\r\n        x = Math.max((width - dta.width) / 2, 0);\r\n        y = Math.max((height - dta.height) / 2, 0);\r\n        context.shadowOffsetX = 4;\r\n        context.shadowOffsetY = 4;\r\n        context.shadowBlur = 4;\r\n        context.shadowColor = 'lightgray';\r\n        context.drawImage(dta, x, y);\r\n    } else { // text\r\n        context.font = font;\r\n        context.textAlign = 'left';\r\n        context.textBaseline = 'bottom';\r\n        txtWidth = context.measureText(dta).width;\r\n        txtHeight = fontHeight(fontSize);\r\n        context.fillStyle = foreground;\r\n        x = Math.max((width - txtWidth) / 2, 0);\r\n        y = Math.max((height - txtHeight) / 2, 0);\r\n        context.fillText(dta, x, txtHeight + y);\r\n    }\r\n};\r\n\r\nTableCellMorph.prototype.dataRepresentation = function (dta) {\r\n    if (dta instanceof Morph) {\r\n        if (isSnapObject(dta)) {\r\n            return dta.thumbnail(new Point(40, 40));\r\n        } else {\r\n            return dta.fullImageClassic();\r\n        }\r\n    } else if (isString(dta)) {\r\n        return dta.length > 100 ? dta.slice(0, 100) + '...' : dta;\r\n    } else if (typeof dta === 'number') {\r\n        return dta.toString();\r\n    } else if (typeof dta === 'boolean') {\r\n        return SpriteMorph.prototype.booleanMorph.call(\r\n            null,\r\n            dta\r\n        ).fullImage();\r\n    } else if (dta instanceof Array) {\r\n        return this.dataRepresentation(dta[0]);\r\n    } else if (dta instanceof Variable) {\r\n        return this.dataRepresentation(dta.value);\r\n    } else if (dta instanceof HTMLCanvasElement) {\r\n        return dta;\r\n    } else if (dta instanceof Context) {\r\n        return dta.image();\r\n    } else if (dta instanceof Costume) {\r\n        return dta.thumbnail(new Point(40, 40));\r\n    } else if (dta instanceof Sound) {\r\n        return new SymbolMorph('notes', 30).image;\r\n    } else if (dta instanceof List) {\r\n        return this.listSymbol;\r\n        // return new ListWatcherMorph(dta).fullImageClassic();\r\n    } else {\r\n        return dta ? dta.toString() : (dta === 0 ? '0' : null);\r\n    }\r\n};\r\n\r\nTableCellMorph.prototype.raggedBoxPath = function (context) {\r\n    var width = this.width(),\r\n        height = this.height(),\r\n        x = width * 0.75,\r\n        step = height / 6,\r\n        y = 0;\r\n    context.beginPath();\r\n    context.moveTo(0, 0);\r\n    context.lineTo(width, 0);\r\n    for (y = 0; y < height; y += (step * 2)) {\r\n        context.lineTo(x, y + step);\r\n        context.lineTo(width, y + (step * 2));\r\n    }\r\n    context.lineTo(width, height);\r\n    context.lineTo(0, height);\r\n    context.closePath();\r\n};\r\n\r\nTableCellMorph.prototype.shouldBeList = function () {\r\n    return this.data instanceof Array;\r\n};\r\n\r\nTableCellMorph.prototype.isOvershooting = function () {\r\n    return this.data instanceof Variable;\r\n};\r\n\r\n// TableCellMorph events:\r\n\r\nTableCellMorph.prototype.mouseDoubleClick = function (pos) {\r\n    if (this.data instanceof Table || this.data instanceof List) {\r\n        new TableDialogMorph(this.data).popUp(this.world());\r\n    } else if (this.data instanceof Array && this.data[0] instanceof List) {\r\n        new TableDialogMorph(this.data[0]).popUp(this.world());\r\n    } else {\r\n        this.escalateEvent('mouseDoubleClick', pos);\r\n    }\r\n};\r\n\r\nTableCellMorph.prototype.mouseEnter = function () {\r\n    var tm, x, c;\r\n    if (this.isLabel) {\r\n        tm = this.parentThatIsA(TableMorph);\r\n        x = tm.world().hand.left() - tm.left();\r\n        c = tm.columnAt(x);\r\n        if (c > 0) {\r\n            this.drawData(c, 'rgb(220, 220, 250)');\r\n            this.changed();\r\n        }\r\n    }\r\n};\r\n\r\nTableCellMorph.prototype.mouseLeave = function () {\r\n    if (this.isLabel) {\r\n        this.drawData();\r\n        this.changed();\r\n    }\r\n};\r\n\r\n// TableMorph //////////////////////////////////////////////////////////\r\n\r\n// TableMorph inherits from FrameMorph:\r\n\r\nTableMorph.prototype = new FrameMorph();\r\nTableMorph.prototype.constructor = TableMorph;\r\nTableMorph.uber = FrameMorph.prototype;\r\n\r\n// TableMorph preferences settings:\r\n\r\nTableMorph.prototype.highContrast = false;\r\n\r\n// TableMorph instance creation:\r\n\r\nfunction TableMorph(\r\n    table,\r\n    // optional parameters below this line\r\n    scrollBarSize,\r\n    extent,\r\n    startRow,\r\n    startCol,\r\n    globalColWidth,\r\n    colWidths,\r\n    rowHeight,\r\n    colLabelHeight,\r\n    padding\r\n) {\r\n    this.init(\r\n        table,\r\n        scrollBarSize,\r\n        extent,\r\n        startRow,\r\n        startCol,\r\n        globalColWidth,\r\n        colWidths,\r\n        rowHeight,\r\n        colLabelHeight,\r\n        padding\r\n    );\r\n}\r\n\r\nTableMorph.prototype.init = function (\r\n    table,\r\n    scrollBarSize,\r\n    extent,\r\n    startRow,\r\n    startCol,\r\n    globalColWidth,\r\n    colWidths,\r\n    rowHeight,\r\n    colLabelHeight,\r\n    padding\r\n) {\r\n    // additional properties:\r\n    this.table = table;\r\n    this.scrollBarSize = scrollBarSize || MorphicPreferences.scrollBarSize;\r\n    this.startRow = startRow || 1;\r\n    this.startCol = startCol || 1;\r\n    this.textHeight = Math.ceil(\r\n        fontHeight(SyntaxElementMorph.prototype.fontSize) * 1.3\r\n    );\r\n    this.rowHeight = rowHeight || this.textHeight;\r\n    this.colWidths = colWidths || [];\r\n    this.globalColWidth = globalColWidth || Math.ceil(this.textHeight * 3.5);\r\n    this.colLabelHeight = colLabelHeight || this.textHeight;\r\n    this.padding = padding || SyntaxElementMorph.prototype.scale; //1;\r\n    this.tableVersion = this.table.lastChanged;\r\n\r\n    // scroll bars:\r\n    this.hBar = null;\r\n    this.vBar = null;\r\n\r\n    // cached properties (do not persist):\r\n    this.rowLabelWidth = 0;\r\n    this.columns = []; // relative left positions\r\n    this.rows = 0;\r\n\r\n    // cached properties for scrolling and resizing (do not persist):\r\n    this.maxStartRow = null;\r\n    this.maxStartCol = null;\r\n    this.dragAnchor = null;\r\n    this.resizeAnchor = null;\r\n    this.resizeCol = null;\r\n    this.resizeRow = null;\r\n\r\n    // cached property for updating (don not persist):\r\n    this.wantsUpdate = false;\r\n\r\n    // initialize inherited properties:\r\n    // make sure not to draw anything just yet\r\n    // therefore omit FrameMorph's properties (not needed here)\r\n    // and only initialize properties inherited from Morph:\r\n    Morph.prototype.init.call(this, true);\r\n\r\n    // override inherited properites:\r\n    // this.fps = 3; // this will slow down the sliders (!)\r\n    if (extent) {this.silentSetExtent(extent); }\r\n    this.initScrollBars();\r\n    this.drawNew();\r\n};\r\n\r\nTableMorph.prototype.initScrollBars = function () {\r\n    var myself = this;\r\n\r\n    // horizontal scroll bar - scrolls columns\r\n    this.hBar = new SliderMorph(\r\n        1, // start\r\n        null, // stop\r\n        null, // value\r\n        null, // size\r\n        'horizontal'\r\n    );\r\n    this.hBar.setHeight(this.scrollBarSize);\r\n    this.hBar.action = function (num) {\r\n        myself.showData(num, null, true);\r\n    };\r\n    this.hBar.isDraggable = false;\r\n    this.add(this.hBar);\r\n\r\n    // vertical scroll bar - scrolls rows\r\n    this.vBar = new SliderMorph(\r\n        1, // start\r\n        null, // stop\r\n        null, // value\r\n        null, // size\r\n        'vertical'\r\n    );\r\n    this.vBar.setWidth(this.scrollBarSize);\r\n    this.vBar.action = function (num) {\r\n        myself.showData(null, num, true);\r\n    };\r\n    this.vBar.isDraggable = false;\r\n    this.add(this.vBar);\r\n};\r\n\r\nTableMorph.prototype.updateScrollBars = function () {\r\n    if (this.maxStartCol === 1) {\r\n        this.hBar.hide();\r\n    } else {\r\n        this.hBar.show();\r\n        this.hBar.stop = this.maxStartCol;\r\n        this.hBar.value = this.startCol;\r\n        this.hBar.size = Math.max(\r\n            this.hBar.rangeSize() * this.columns.length / this.table.cols(),\r\n            this.hBar.rangeSize() / 10\r\n        );\r\n        this.hBar.drawNew();\r\n    }\r\n\r\n    this.vBar.stop = this.maxStartRow;\r\n    this.vBar.value = this.startRow;\r\n    if (this.maxStartRow === 1) {\r\n        this.vBar.hide();\r\n    } else {\r\n        this.vBar.show();\r\n        this.vBar.size = Math.max(\r\n            this.vBar.rangeSize() * this.rows / this.table.rows(),\r\n            this.vBar.rangeSize() / 10\r\n        );\r\n        this.vBar.drawNew();\r\n    }\r\n};\r\n\r\nTableMorph.prototype.drawNew = function () {\r\n    var context, w, i;\r\n    this.image = newCanvas(this.extent());\r\n    context = this.image.getContext('2d');\r\n    context.fillStyle = 'rgb(220, 220, 220)';\r\n    BoxMorph.prototype.outlinePath.call(\r\n        this, context, SyntaxElementMorph.prototype.corner + 1, 0\r\n    );\r\n    context.fill();\r\n\r\n    // determine and cache layout information\r\n    this.rowLabelWidth = this.rowLabelsWidth();\r\n    this.columns = this.columnsLayout();\r\n    this.rows = this.visibleRows();\r\n\r\n    // optionally draw grid\r\n    if (this.highContrast && this.table.cols() > 1) {\r\n        w = this.padding;\r\n        for (i = this.startCol; i <= this.table.cols(); i += 1) {\r\n            w += (this.colWidth(i) + this.padding);\r\n        }\r\n        context.fillStyle = 'darkGray';\r\n        context.fillRect(\r\n            this.padding + this.rowLabelWidth,\r\n            this.padding + this.colLabelHeight,\r\n            w,\r\n            (this.rowHeight + this.padding) *\r\n                (this.table.rows() + 1 - this.startRow) +\r\n                this.padding\r\n        );\r\n    }\r\n\r\n    this.buildCells();\r\n\r\n    // fix scroll bars layout\r\n    this.hBar.setWidth(this.width() - this.vBar.width());\r\n    this.hBar.setLeft(this.left());\r\n    this.hBar.setBottom(this.bottom());\r\n    this.vBar.setHeight(this.height() - this.hBar.height());\r\n    this.vBar.setRight(this.right());\r\n    this.vBar.setTop(this.top());\r\n};\r\n\r\nTableMorph.prototype.buildCells = function () {\r\n    // also populate cells with the correct data and\r\n    // arrange the layout of cells all in one pass\r\n    var cell, r, c,\r\n        pos = this.position();\r\n\r\n    // delete all existing cells\r\n    this.children = [];\r\n\r\n    // create cells\r\n    for (c = 0; c <= this.columns.length; c += 1) {\r\n        for (r = 0; r <= this.rows; r += 1) {\r\n            cell = new TableCellMorph(\r\n                this.table.get(\r\n                    !c ? c : c + this.startCol - 1,\r\n                    !r ? r : r + this.startRow - 1\r\n                ),\r\n                new Point(\r\n                    !c ? this.rowLabelWidth\r\n                            : this.colWidth(c + this.startCol - 1),\r\n                    !r ? this.colLabelHeight : this.rowHeight\r\n                ),\r\n                !(r && c), // isLabel\r\n                false // should be list\r\n            );\r\n            cell.setPosition(\r\n                new Point(\r\n                    !c ? this.padding\r\n                            : this.columns[c - 1],\r\n                    !r ? this.padding :\r\n                            this.padding * 2 + this.colLabelHeight +\r\n                                ((r - 1) * (this.rowHeight + this.padding))\r\n                ).add(pos)\r\n            );\r\n            this.add(cell);\r\n            if (isSnapObject(cell.getData())) {\r\n                this.wantsUpdate = true;\r\n            }\r\n        }\r\n    }\r\n    this.add(this.hBar);\r\n    this.add(this.vBar);\r\n    this.updateScrollBars();\r\n    this.changed();\r\n};\r\n\r\nTableMorph.prototype.drawData = function (noScrollUpdate) {\r\n    // redraw all cells with their current data or label\r\n    var cell, cellIdx = 0, r, c;\r\n    for (c = 0; c <= this.columns.length; c += 1) {\r\n        for (r = 0; r <= this.rows; r += 1) {\r\n            cell = this.children[cellIdx];\r\n            cellIdx += 1;\r\n            cell.setData(\r\n                this.table.get(\r\n                    !c ? c : c + this.startCol - 1,\r\n                    !r ? r : r + this.startRow - 1\r\n                )\r\n            );\r\n            if (isSnapObject(cell.getData())) {\r\n                this.wantsUpdate = true;\r\n            }\r\n        }\r\n    }\r\n    if (!noScrollUpdate) {this.updateScrollBars(); }\r\n    this.changed();\r\n};\r\n\r\n// TableMorph scrolling\r\n\r\nTableMorph.prototype.scroll = function (xSteps, ySteps) {\r\n    this.showData(\r\n        Math.min(\r\n            this.maxStartCol,\r\n            Math.max(1, this.startCol + Math.round(xSteps))\r\n        ),\r\n        Math.min(\r\n            this.maxStartRow,\r\n            Math.max(1, this.startRow + Math.round(ySteps))\r\n        )\r\n    );\r\n    this.updateScrollBars();\r\n};\r\n\r\nTableMorph.prototype.showData = function (startCol, startRow, noScrollUpdate) {\r\n    var c = startCol || this.startCol,\r\n        r = startRow || this.startRow;\r\n    if (c === this.startCol) {\r\n        if (r === this.startRow) {return; } // no change\r\n        this.startRow = r;\r\n        this.rows = this.visibleRows();\r\n        this.drawData(noScrollUpdate);\r\n    } else {\r\n        this.startCol = c;\r\n        this.startRow = r;\r\n        this.rows = this.visibleRows();\r\n        if (this.colWidths.length) {\r\n            this.columns = this.columnsLayout();\r\n            this.buildCells();\r\n        } else {\r\n            this.drawData(noScrollUpdate);\r\n        }\r\n    }\r\n};\r\n\r\n// TableMorph stepping\r\n\r\nTableMorph.prototype.step = function () {\r\n    if (this.dragAnchor) {\r\n        this.shiftCells(this.world().hand.position());\r\n    } else if (this.resizeAnchor) {\r\n        this.resizeCells(this.world().hand.position());\r\n    }\r\n    this.update();\r\n};\r\n\r\nTableMorph.prototype.update = function () {\r\n    var oldCols, oldRows,\r\n        version = this.table instanceof List ?\r\n            this.table.version(this.startRow, this.rows)\r\n                    : this.table.lastChanged;\r\n    if (this.tableVersion === version && !this.wantsUpdate) {\r\n        return;\r\n    }\r\n    this.wantsUpdate = false;\r\n    if (this.table instanceof List) {\r\n        oldCols = this.columns.length;\r\n        oldRows = this.rows;\r\n        this.rowLabelWidth = this.rowLabelsWidth();\r\n        this.columns = this.columnsLayout();\r\n        this.rows = this.visibleRows();\r\n        if (this.columns.length !== oldCols || (this.rows !== oldRows)) {\r\n            this.buildCells();\r\n        } else {\r\n            this.drawData();\r\n        }\r\n    } else { // Table\r\n        this.drawData();\r\n    }\r\n    this.tableVersion = version;\r\n};\r\n\r\n// TableMorph layout helpers (all private):\r\n\r\nTableMorph.prototype.rowLabelsWidth = function () {\r\n    var ctx = newCanvas().getContext('2d');\r\n    ctx.font = 'italic ' + SyntaxElementMorph.prototype.fontSize +\r\n        'px Helvetica, Arial, sans-serif';\r\n    return Math.max(\r\n        0,\r\n        Math.max.apply(\r\n            null,\r\n            this.table.columnNames().map(function (name) {\r\n                return name ? ctx.measureText(name).width : 0;\r\n            })\r\n        )\r\n    ) || ctx.measureText(this.table.rows().toString()).width +\r\n            (6 * SyntaxElementMorph.prototype.scale);\r\n};\r\n\r\nTableMorph.prototype.columnsLayout = function () {\r\n    // determines and maxStartCol and\r\n    // modifies startCol if needed\r\n    var c = [],\r\n        x = this.padding * 2 + this.rowLabelWidth,\r\n        colNum,\r\n        w;\r\n\r\n    // determine maxStartCol\r\n    colNum = this.table.cols();\r\n    w = x;\r\n    while (w < this.width() && colNum > 0) {\r\n        w += this.colWidth(colNum);\r\n        colNum -= 1;\r\n    }\r\n    if (colNum === 0 && (w < this.width())) {\r\n        this.maxStartCol = 1;\r\n    } else {\r\n        this.maxStartCol = Math.min(colNum + 2, this.table.cols());\r\n    }\r\n\r\n    // determine the left position of every shown column\r\n    this.startCol = Math.min(this.startCol, this.maxStartCol);\r\n    colNum = this.startCol;\r\n    while (x < this.width() &&\r\n        (colNum < (this.table.cols() + this.startCol))\r\n    ) {\r\n        w = this.colWidth(colNum);\r\n        c.push(x);\r\n        x += w;\r\n        x += this.padding;\r\n        colNum += 1;\r\n    }\r\n    return c;\r\n};\r\n\r\nTableMorph.prototype.colWidth = function (col) {\r\n    return this.colWidths[col - 1] || this.globalColWidth;\r\n};\r\n\r\nTableMorph.prototype.visibleRows = function () {\r\n    // determines maxStartRow and\r\n    // modifies startRow if needed\r\n    var rest = this.height() - this.colLabelHeight - this.padding,\r\n        possible;\r\n    if (rest < 0) {return 0; }\r\n    possible = Math.ceil(rest / (this.rowHeight + this.padding));\r\n    this.maxStartRow = Math.max(1, this.table.rows() - possible + 2);\r\n    this.startRow = Math.min(this.startRow, this.maxStartRow);\r\n    return Math.min(this.table.rows(), possible);\r\n};\r\n\r\nTableMorph.prototype.globalExtent = function () {\r\n    var i,\r\n        w = this.rowLabelsWidth() + 2,\r\n        cols = this.table.cols();\r\n    for (i = 0; i < cols; i += 1) {\r\n        w += this.colWidth(i + 1);\r\n        w += this.padding;\r\n    }\r\n    if (cols === 1) {\r\n        w += this.scrollBarSize;\r\n        w += this.padding * 2;\r\n    }\r\n    return new Point(\r\n        w + this.padding,\r\n        this.colLabelHeight + (this.padding * 2) +\r\n            ((this.rowHeight + this.padding) * this.table.rows())\r\n    );\r\n};\r\n\r\n// TableMorph events:\r\n\r\nTableMorph.prototype.mouseScroll = function (y, x) {\r\n    this.scroll(\r\n        -(+x * MorphicPreferences.mouseScrollAmount / 4),\r\n        -(+y * MorphicPreferences.mouseScrollAmount)\r\n    );\r\n};\r\n\r\nTableMorph.prototype.mouseDownLeft = function (pos) {\r\n    var rel = pos.subtract(this.position());\r\n    if (rel.x <= this.rowLabelWidth || (rel.y <= this.colLabelHeight)) {\r\n        // resize cells\r\n        if (this.world().currentKey === 16) { // shiftClicked\r\n            this.resizeCol = 0;\r\n        } else {\r\n            this.resizeCol = this.columnAt(rel.x);\r\n        }\r\n        this.resizeRow = (rel.y > (this.colLabelHeight));\r\n        this.resizeAnchor = pos;\r\n    } else {\r\n        // shift the viewed portion\r\n        this.resizeRow = null;\r\n        this.dragAnchor = pos;\r\n    }\r\n};\r\n\r\nTableMorph.prototype.mouseClickLeft = function (pos) {\r\n    this.dragAnchor = null;\r\n    this.resizeAnchor = null;\r\n        this.resizeRow = null;\r\n};\r\n\r\nTableMorph.prototype.mouseLeaveDragging = function (pos) {\r\n    this.dragAnchor = null;\r\n    this.resizeAnchor = null;\r\n        this.resizeRow = null;\r\n};\r\n\r\nTableMorph.prototype.mouseDoubleClick = function (pos) {\r\n    if (this.parentThatIsA(TableDialogMorph)) {\r\n        this.escalateEvent('mouseDoubleClick', pos);\r\n    } else {\r\n        new TableDialogMorph(\r\n            this.table,\r\n            this.globalColWidth,\r\n            this.colWidths,\r\n            this.rowHeight\r\n        ).popUp(this.world());\r\n    }\r\n};\r\n\r\n// TableMorph scrolling and resizing cells by \"hand\"\r\n\r\nTableMorph.prototype.shiftCells = function (pos) {\r\n    var delta = this.dragAnchor.subtract(pos),\r\n        scrollX = Math.round(delta.x / this.globalColWidth),\r\n        scrollY = Math.round(delta.y / this.rowHeight);\r\n    if (scrollX || scrollY) {\r\n        this.scroll(scrollX, scrollY);\r\n        this.dragAnchor = pos;\r\n    }\r\n};\r\n\r\nTableMorph.prototype.resizeCells = function (pos) {\r\n    var delta = pos.subtract(this.resizeAnchor),\r\n        i;\r\n\r\n    if (this.resizeCol) {\r\n        this.colWidths[this.resizeCol - 1] = Math.max(\r\n            16,\r\n            (this.colWidths[this.resizeCol - 1] || this.globalColWidth) +\r\n                delta.x\r\n        );\r\n    } else if (this.resizeRow) {\r\n        this.rowHeight = Math.max(16, this.rowHeight + delta.y);\r\n    } else {\r\n        this.globalColWidth = Math.max(16, this.globalColWidth + delta.x);\r\n        for (i = 0; i < this.colWidths.length; i += 1) {\r\n            if (this.colWidths[i]) {\r\n                this.colWidths[i] = Math.max(\r\n                    16,\r\n                    this.colWidths[i] + delta.x\r\n                );\r\n            }\r\n        }\r\n    }\r\n    if (this.highContrast) {\r\n        this.drawNew();\r\n    } else {\r\n        this.rowLabelWidth = this.rowLabelsWidth();\r\n        this.columns = this.columnsLayout();\r\n        this.rows = this.visibleRows();\r\n        this.buildCells();\r\n    }\r\n    this.resizeAnchor = pos;\r\n};\r\n\r\nTableMorph.prototype.columnAt = function (relativeX) {\r\n    var c = 0;\r\n    if (relativeX < (this.columns[0])) {\r\n        return 0;\r\n    }\r\n    while (relativeX > this.columns[c]) {\r\n        c += 1;\r\n    }\r\n    return c + this.startCol - 1;\r\n};\r\n\r\n// TableMorph context menu\r\n\r\nTableMorph.prototype.userMenu = function () {\r\n    var menu = new MenuMorph(this);\r\n    if (this.parentThatIsA(TableDialogMorph)) {\r\n        if (this.colWidths.length) {\r\n            menu.addItem('reset columns', 'resetColumns');\r\n            menu.addLine();\r\n        }\r\n        menu.addItem('open in another dialog...', 'openInDialog');\r\n        return menu;\r\n    }\r\n\r\n    if (this.colWidths.length) {\r\n        menu.addItem('reset columns', 'resetColumns');\r\n    }\r\n    menu.addItem('list view...', 'showListView');\r\n    menu.addLine();\r\n    menu.addItem('open in dialog...', 'openInDialog');\r\n    return menu;\r\n};\r\n\r\nTableMorph.prototype.resetColumns = function () {\r\n    this.colWidths = [];\r\n    if (this.highContrast) {\r\n        this.drawNew();\r\n    } else {\r\n        this.rowLabelWidth = this.rowLabelsWidth();\r\n        this.columns = this.columnsLayout();\r\n        this.rows = this.visibleRows();\r\n        this.buildCells();\r\n    }\r\n};\r\n\r\nTableMorph.prototype.openInDialog = function () {\r\n    new TableDialogMorph(\r\n        this.table,\r\n        this.globalColWidth,\r\n        this.colWidths,\r\n        this.rowHeight\r\n    ).popUp(this.world());\r\n};\r\n\r\nTableMorph.prototype.showListView = function () {\r\n    var view = this.parentThatIsAnyOf([\r\n        SpriteBubbleMorph,\r\n        SpeechBubbleMorph,\r\n        CellMorph\r\n    ]);\r\n    if (!view) {return; }\r\n    if (view instanceof SpriteBubbleMorph) {\r\n        view.changed();\r\n        view.drawNew(true);\r\n    } else if (view instanceof SpeechBubbleMorph) {\r\n        view.contents = new ListWatcherMorph(this.table);\r\n        view.contents.step = view.contents.update;\r\n        view.contents.expand(this.extent());\r\n        view.drawNew(true);\r\n    } else { // watcher cell\r\n        view.drawNew(true);\r\n        view.contentsMorph.expand(this.extent());\r\n    }\r\n    view.fixLayout();\r\n};\r\n\r\n// TableMorph updating:\r\n\r\nTableMorph.prototype.show = function () {\r\n    TableMorph.uber.show.call(this);\r\n    this.updateScrollBars();\r\n};\r\n\r\n// TableFrameMorph /////////////////////////////////////////////////////////\r\n\r\n// a UI for table morphs, for re-sizing tables and their columns\r\n\r\n// TableFrameMorph inherits from Morph:\r\n\r\nTableFrameMorph.prototype = new Morph();\r\nTableFrameMorph.prototype.constructor = TableFrameMorph;\r\nTableFrameMorph.uber = Morph.prototype;\r\n\r\n// TableFrameMorph instance creation:\r\n\r\nfunction TableFrameMorph(tableMorph, noResize) {\r\n    this.init(tableMorph, noResize);\r\n}\r\n\r\nTableFrameMorph.prototype.init = function (tableMorph, noResize) {\r\n    // additional properties:\r\n    this.tableMorph = tableMorph;\r\n    this.handle = null;\r\n\r\n    // initialize inherited properties:\r\n    TableFrameMorph.uber.init.call(this, true);\r\n\r\n    // override inherited properites:\r\n    this.color = 'transparent';\r\n    this.noticesTransparentClick = false;\r\n    this.bounds = this.tableMorph.bounds.copy();\r\n    this.add(this.tableMorph);\r\n\r\n    if (!noResize) {\r\n        this.handle = new HandleMorph(\r\n            this, // target\r\n            80, // minX\r\n            25, // minY\r\n            null, // insetX\r\n            null // insetY\r\n        );\r\n    }\r\n\r\n    this.drawNew();\r\n};\r\n\r\nTableFrameMorph.prototype.fixLayout = function () {\r\n    var ext = this.extent();\r\n    if (this.tableMorph.extent().eq(ext)) {return; }\r\n    this.tableMorph.setExtent(this.extent());\r\n    if (this.parent && this.parent.fixLayout) {\r\n        this.parent.fixLayout();\r\n    }\r\n};\r\n\r\nTableFrameMorph.prototype.setExtent = function (aPoint, silently) {\r\n    TableFrameMorph.uber.setExtent.call(this, aPoint, silently);\r\n    this.fixLayout();\r\n};\r\n\r\n// TableFrameMorph result / speech balloon support:\r\n\r\nTableFrameMorph.prototype.expand = function (maxExtent) {\r\n    var ext = this.tableMorph.globalExtent();\r\n    if (maxExtent) {\r\n        ext = ext.min(maxExtent);\r\n    }\r\n    this.setExtent(ext);\r\n    this.handle.setRight(this.right());\r\n    this.handle.setBottom(this.bottom());\r\n};\r\n\r\n// TableDialogMorph inherits from DialogBoxMorph:\r\n\r\nTableDialogMorph.prototype = new DialogBoxMorph();\r\nTableDialogMorph.prototype.constructor = TableDialogMorph;\r\nTableDialogMorph.uber = DialogBoxMorph.prototype;\r\n\r\n// TableDialogMorph instance creation:\r\n\r\nfunction TableDialogMorph(data, globalColWidth, colWidths, rowHeight) {\r\n    this.init(data, globalColWidth, colWidths, rowHeight);\r\n}\r\n\r\nTableDialogMorph.prototype.init = function (\r\n    data,\r\n    globalColWidth,\r\n    colWidths,\r\n    rowHeight\r\n) {\r\n    // additional properties:\r\n    this.handle = null;\r\n    this.data = data;\r\n    this.tableView = null;\r\n\r\n    // initialize inherited properties:\r\n    TableDialogMorph.uber.init.call(this);\r\n\r\n    // override inherited properites:\r\n    this.labelString = 'Table view';\r\n    this.createLabel();\r\n\r\n    // build contents\r\n    this.buildContents(data, globalColWidth, colWidths, rowHeight);\r\n};\r\n\r\nTableDialogMorph.prototype.buildContents = function (\r\n    data,\r\n    globalColWidth,\r\n    colWidths,\r\n    rowHeight\r\n) {\r\n    this.tableView = new TableMorph(\r\n        data,\r\n        null, // scrollBarSize\r\n        null, // extent\r\n        null, // startRow\r\n        null, // startCol\r\n        globalColWidth,\r\n        colWidths,\r\n        rowHeight,\r\n        null, // colLabelHeight\r\n        null // padding\r\n    );\r\n    this.addBody(new TableFrameMorph(this.tableView, true));\r\n    this.addButton('ok', 'OK');\r\n};\r\n\r\nTableDialogMorph.prototype.setInitialDimensions = function () {\r\n    var world = this.world(),\r\n        mex = world.extent().subtract(new Point(this.padding, this.padding)),\r\n        th = fontHeight(this.titleFontSize) + this.titlePadding * 3, // hm...\r\n        bh = this.buttons.height();\r\n    this.setExtent(\r\n        this.tableView.globalExtent().add(\r\n            new Point(this.padding * 2, this.padding * 2 + th + bh)\r\n        ).min(mex).max(new Point(100, 100))\r\n    );\r\n    this.setCenter(this.world().center());\r\n};\r\n\r\nTableDialogMorph.prototype.popUp = function (world) {\r\n    if (world) {\r\n        TableDialogMorph.uber.popUp.call(this, world);\r\n        this.setInitialDimensions();\r\n        this.handle = new HandleMorph(\r\n            this,\r\n            100,\r\n            100,\r\n            this.corner,\r\n            this.corner\r\n        );\r\n    }\r\n};\r\n\r\nTableDialogMorph.prototype.fixLayout =\r\n    BlockEditorMorph.prototype.fixLayout;\r\n//fin de Tables.js\r\n/*\r\n\r\n    symbols.js\r\n\r\n    graphical GUI-symbols for for morphic.js and Snap!\r\n\r\n    written by Jens Mönig\r\n    jens@moenig.org\r\n\r\n    Copyright (C) 2017 by Jens Mönig\r\n\r\n    This file is part of Snap!.\r\n\r\n    Snap! is free software: you can redistribute it and/or modify\r\n    it under the terms of the GNU Affero General Public License as\r\n    published by the Free Software Foundation, either version 3 of\r\n    the License, or (at your option) any later version.\r\n\r\n    This program is distributed in the hope that it will be useful,\r\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n    GNU Affero General Public License for more details.\r\n\r\n    You should have received a copy of the GNU Affero General Public License\r\n    along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n\r\n\r\n    prerequisites:\r\n    --------------\r\n    needs morphic.js\r\n\r\n\r\n    prerequisites:\r\n    --------------\r\n    additional symbols have been contributed by members of the Snap!\r\n    open-source community, especially by Bernat Romagosa\r\n\r\n*/\r\n\r\n/*global modules, Morph, Point, newCanvas, Costume, radians, Color*/\r\n\r\n// Global stuff ////////////////////////////////////////////////////////\r\n\r\nmodules.symbols = '2017-September-26';\r\n\r\nvar SymbolMorph;\r\n\r\n// SymbolMorph //////////////////////////////////////////////////////////\r\n\r\n/*\r\n    I display graphical symbols, such as special letters. I have been\r\n    called into existence out of frustration about not being able to\r\n    consistently use Unicode characters to the same ends.\r\n\r\n    Symbols can also display costumes, if one is specified in lieu\r\n    of a name property, although this feature is currently not being\r\n    used because of asynchronous image loading issues.\r\n */\r\n\r\n// SymbolMorph inherits from Morph:\r\n\r\nSymbolMorph.prototype = new Morph();\r\nSymbolMorph.prototype.constructor = SymbolMorph;\r\nSymbolMorph.uber = Morph.prototype;\r\n\r\n// SymbolMorph available symbols:\r\n\r\nSymbolMorph.prototype.names = [\r\n    'square',\r\n    'pointRight',\r\n    'stepForward',\r\n    'gears',\r\n    'file',\r\n    'fullScreen',\r\n    'normalScreen',\r\n    'smallStage',\r\n    'normalStage',\r\n    'turtle',\r\n    'stage',\r\n    'turtleOutline',\r\n    'pause',\r\n    'flag',\r\n    'octagon',\r\n    'cloud',\r\n    'cloudOutline',\r\n    'cloudGradient',\r\n    'turnRight',\r\n    'turnLeft',\r\n    'storage',\r\n    'poster',\r\n    'flash',\r\n    'brush',\r\n    'rectangle',\r\n    'rectangleSolid',\r\n    'circle',\r\n    'circleSolid',\r\n    'line',\r\n    'cross',\r\n    'crosshairs',\r\n    'paintbucket',\r\n    'eraser',\r\n    'pipette',\r\n    'speechBubble',\r\n    'speechBubbleOutline',\r\n    'turnBack',\r\n    'turnForward',\r\n    'arrowUp',\r\n    'arrowUpOutline',\r\n    'arrowLeft',\r\n    'arrowLeftOutline',\r\n    'arrowDown',\r\n    'arrowDownOutline',\r\n    'arrowRight',\r\n    'arrowRightOutline',\r\n    'robot',\r\n    'magnifyingGlass',\r\n    'magnifierOutline',\r\n    'notes',\r\n    'camera',\r\n    'location',\r\n    'footprints',\r\n    'keyboard',\r\n    'keyboardFilled'\r\n];\r\n\r\n// SymbolMorph instance creation:\r\n\r\nfunction SymbolMorph(name, size, color, shadowOffset, shadowColor) {\r\n    this.init(name, size, color, shadowOffset, shadowColor);\r\n}\r\n\r\nSymbolMorph.prototype.init = function (\r\n    name, // or costume\r\n    size,\r\n    color,\r\n    shadowOffset,\r\n    shadowColor\r\n) {\r\n    this.isProtectedLabel = false; // participate in zebraing\r\n    this.isReadOnly = true;\r\n    this.name = name || 'square'; // can also be a costume\r\n    this.size = size || ((size === 0) ? 0 : 50);\r\n    this.shadowOffset = shadowOffset || new Point(0, 0);\r\n    this.shadowColor = shadowColor || null;\r\n\r\n    SymbolMorph.uber.init.call(this, true); // silently\r\n    this.color = color || new Color(0, 0, 0);\r\n    this.drawNew();\r\n};\r\n\r\n// SymbolMorph zebra coloring:\r\n\r\nSymbolMorph.prototype.setLabelColor = function (\r\n    textColor,\r\n    shadowColor,\r\n    shadowOffset\r\n) {\r\n    this.shadowOffset = shadowOffset || new Point();\r\n    this.shadowColor = shadowColor;\r\n    this.setColor(textColor);\r\n};\r\n\r\n// SymbolMorph displaying:\r\n\r\nSymbolMorph.prototype.drawNew = function () {\r\n    var ctx, x, y, sx, sy;\r\n    this.image = newCanvas(new Point(\r\n        this.symbolWidth() + Math.abs(this.shadowOffset.x),\r\n        this.size + Math.abs(this.shadowOffset.y)\r\n    ));\r\n    this.silentSetWidth(this.image.width);\r\n    this.silentSetHeight(this.image.height);\r\n    ctx = this.image.getContext('2d');\r\n    sx = this.shadowOffset.x < 0 ? 0 : this.shadowOffset.x;\r\n    sy = this.shadowOffset.y < 0 ? 0 : this.shadowOffset.y;\r\n    x = this.shadowOffset.x < 0 ? Math.abs(this.shadowOffset.x) : 0;\r\n    y = this.shadowOffset.y < 0 ? Math.abs(this.shadowOffset.y) : 0;\r\n    if (this.shadowColor) {\r\n        ctx.drawImage(\r\n            this.symbolCanvasColored(this.shadowColor),\r\n            sx,\r\n            sy\r\n        );\r\n    }\r\n    ctx.drawImage(\r\n        this.symbolCanvasColored(this.color),\r\n        x,\r\n        y\r\n    );\r\n};\r\n\r\nSymbolMorph.prototype.symbolCanvasColored = function (aColor) {\r\n    // private\r\n    if (this.name instanceof Costume) {\r\n        return this.name.thumbnail(new Point(this.symbolWidth(), this.size));\r\n    }\r\n\r\n    var canvas = newCanvas(new Point(this.symbolWidth(), this.size));\r\n\r\n    switch (this.name) {\r\n    case 'square':\r\n        return this.drawSymbolStop(canvas, aColor);\r\n    case 'pointRight':\r\n        return this.drawSymbolPointRight(canvas, aColor);\r\n    case 'stepForward':\r\n        return this.drawSymbolStepForward(canvas, aColor);\r\n    case 'gears':\r\n        return this.drawSymbolGears(canvas, aColor);\r\n    case 'file':\r\n        return this.drawSymbolFile(canvas, aColor);\r\n    case 'fullScreen':\r\n        return this.drawSymbolFullScreen(canvas, aColor);\r\n    case 'normalScreen':\r\n        return this.drawSymbolNormalScreen(canvas, aColor);\r\n    case 'smallStage':\r\n        return this.drawSymbolSmallStage(canvas, aColor);\r\n    case 'normalStage':\r\n        return this.drawSymbolNormalStage(canvas, aColor);\r\n    case 'turtle':\r\n        return this.drawSymbolTurtle(canvas, aColor);\r\n    case 'stage':\r\n        return this.drawSymbolStop(canvas, aColor);\r\n    case 'turtleOutline':\r\n        return this.drawSymbolTurtleOutline(canvas, aColor);\r\n    case 'pause':\r\n        return this.drawSymbolPause(canvas, aColor);\r\n    case 'flag':\r\n        return this.drawSymbolFlag(canvas, aColor);\r\n    case 'octagon':\r\n        return this.drawSymbolOctagon(canvas, aColor);\r\n    case 'cloud':\r\n        return this.drawSymbolCloud(canvas, aColor);\r\n    case 'cloudOutline':\r\n        return this.drawSymbolCloudOutline(canvas, aColor);\r\n    case 'cloudGradient':\r\n        return this.drawSymbolCloudGradient(canvas, aColor);\r\n    case 'turnRight':\r\n        return this.drawSymbolTurnRight(canvas, aColor);\r\n    case 'turnLeft':\r\n        return this.drawSymbolTurnLeft(canvas, aColor);\r\n    case 'storage':\r\n        return this.drawSymbolStorage(canvas, aColor);\r\n    case 'poster':\r\n        return this.drawSymbolPoster(canvas, aColor);\r\n    case 'flash':\r\n        return this.drawSymbolFlash(canvas, aColor);\r\n    case 'brush':\r\n        return this.drawSymbolBrush(canvas, aColor);\r\n    case 'rectangle':\r\n        return this.drawSymbolRectangle(canvas, aColor);\r\n    case 'rectangleSolid':\r\n        return this.drawSymbolRectangleSolid(canvas, aColor);\r\n    case 'circle':\r\n        return this.drawSymbolCircle(canvas, aColor);\r\n    case 'circleSolid':\r\n        return this.drawSymbolCircleSolid(canvas, aColor);\r\n    case 'line':\r\n        return this.drawSymbolLine(canvas, aColor);\r\n    case 'cross':\r\n        return this.drawSymbolCross(canvas, aColor);\r\n    case 'crosshairs':\r\n        return this.drawSymbolCrosshairs(canvas, aColor);\r\n    case 'paintbucket':\r\n        return this.drawSymbolPaintbucket(canvas, aColor);\r\n    case 'eraser':\r\n        return this.drawSymbolEraser(canvas, aColor);\r\n    case 'pipette':\r\n        return this.drawSymbolPipette(canvas, aColor);\r\n    case 'speechBubble':\r\n        return this.drawSymbolSpeechBubble(canvas, aColor);\r\n    case 'speechBubbleOutline':\r\n        return this.drawSymbolSpeechBubbleOutline(canvas, aColor);\r\n    case 'turnBack':\r\n        return this.drawSymbolTurnBack(canvas, aColor);\r\n    case 'turnForward':\r\n        return this.drawSymbolTurnForward(canvas, aColor);\r\n    case 'arrowUp':\r\n        return this.drawSymbolArrowUp(canvas, aColor);\r\n    case 'arrowUpOutline':\r\n        return this.drawSymbolArrowUpOutline(canvas, aColor);\r\n    case 'arrowLeft':\r\n        return this.drawSymbolArrowLeft(canvas, aColor);\r\n    case 'arrowLeftOutline':\r\n        return this.drawSymbolArrowLeftOutline(canvas, aColor);\r\n    case 'arrowDown':\r\n        return this.drawSymbolArrowDown(canvas, aColor);\r\n    case 'arrowDownOutline':\r\n        return this.drawSymbolArrowDownOutline(canvas, aColor);\r\n    case 'arrowRight':\r\n        return this.drawSymbolArrowRight(canvas, aColor);\r\n    case 'arrowRightOutline':\r\n        return this.drawSymbolArrowRightOutline(canvas, aColor);\r\n    case 'robot':\r\n        return this.drawSymbolRobot(canvas, aColor);\r\n    case 'magnifyingGlass':\r\n        return this.drawSymbolMagnifyingGlass(canvas, aColor);\r\n    case 'magnifierOutline':\r\n        return this.drawSymbolMagnifierOutline(canvas, aColor);\r\n    case 'notes':\r\n        return this.drawSymbolNotes(canvas, aColor);\r\n    case 'camera':\r\n        return this.drawSymbolCamera(canvas, aColor);\r\n    case 'location':\r\n        return this.drawSymbolLocation(canvas, aColor);\r\n    case 'footprints':\r\n        return this.drawSymbolFootprints(canvas, aColor);\r\n    case 'keyboard':\r\n        return this.drawSymbolKeyboard(canvas, aColor);\r\n    case 'keyboardFilled':\r\n        return this.drawSymbolKeyboardFilled(canvas, aColor);\r\n    default:\r\n        return canvas;\r\n    }\r\n};\r\n\r\nSymbolMorph.prototype.symbolWidth = function () {\r\n    // private\r\n    var size = this.size;\r\n\r\n    if (this.name instanceof Costume) {\r\n        return (size / this.name.height()) * this.name.width();\r\n    }\r\n    switch (this.name) {\r\n    case 'pointRight':\r\n        return Math.sqrt(size * size - Math.pow(size / 2, 2));\r\n    case 'location':\r\n        return size * 0.6;\r\n    case 'flash':\r\n    case 'file':\r\n        return size * 0.8;\r\n    case 'smallStage':\r\n    case 'normalStage':\r\n        return size * 1.2;\r\n    case 'turtle':\r\n    case 'turtleOutline':\r\n    case 'stage':\r\n        return size * 1.3;\r\n    case 'cloud':\r\n    case 'cloudGradient':\r\n    case 'cloudOutline':\r\n    case 'turnBack':\r\n    case 'turnForward':\r\n    case 'keyboard':\r\n    case 'keyboardFilled':\r\n        return size * 1.6;\r\n    case 'turnRight':\r\n    case 'turnLeft':\r\n        return size / 3 * 2;\r\n    default:\r\n        return size;\r\n    }\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolStop = function (canvas, color) {\r\n    // answer a canvas showing a vertically centered square\r\n    var ctx = canvas.getContext('2d');\r\n\r\n    ctx.fillStyle = color.toString();\r\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolPointRight = function (canvas, color) {\r\n    // answer a canvas showing a right-pointing, equilateral triangle\r\n    var ctx = canvas.getContext('2d');\r\n\r\n    ctx.fillStyle = color.toString();\r\n    ctx.beginPath();\r\n    ctx.moveTo(0, 0);\r\n    ctx.lineTo(canvas.width, Math.round(canvas.height / 2));\r\n    ctx.lineTo(0, canvas.height);\r\n    ctx.lineTo(0, 0);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolStepForward = function (canvas, color) {\r\n    // answer a canvas showing a right-pointing triangle\r\n    // followed by a vertical bar\r\n    var ctx = canvas.getContext('2d');\r\n\r\n    ctx.fillStyle = color.toString();\r\n    ctx.beginPath();\r\n    ctx.moveTo(0, 0);\r\n    ctx.lineTo(canvas.width * 0.75, Math.round(canvas.height / 2));\r\n    ctx.lineTo(0, canvas.height);\r\n    ctx.lineTo(0, 0);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n    ctx.fillRect(\r\n        canvas.width * 0.75,\r\n        0,\r\n        canvas.width * 0.25,\r\n        canvas.height\r\n    );\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolGears = function (canvas, color) {\r\n    // answer a canvas showing gears\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        r = w / 2,\r\n        e = w / 6;\r\n\r\n    ctx.strokeStyle = color.toString();\r\n    ctx.lineWidth = canvas.width / 7;\r\n\r\n    ctx.beginPath();\r\n    ctx.arc(r, r, w, radians(0), radians(360), true);\r\n    ctx.arc(r, r, e * 1.5, radians(0), radians(360), false);\r\n    ctx.closePath();\r\n    ctx.clip();\r\n\r\n    ctx.moveTo(0, r);\r\n    ctx.lineTo(w, r);\r\n    ctx.stroke();\r\n\r\n    ctx.moveTo(r, 0);\r\n    ctx.lineTo(r, w);\r\n    ctx.stroke();\r\n\r\n    ctx.moveTo(e, e);\r\n    ctx.lineTo(w - e, w - e);\r\n    ctx.stroke();\r\n\r\n    ctx.moveTo(w - e, e);\r\n    ctx.lineTo(e, w - e);\r\n    ctx.stroke();\r\n\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolFile = function (canvas, color) {\r\n    // answer a canvas showing a page symbol\r\n    var ctx = canvas.getContext('2d'),\r\n        w = Math.min(canvas.width, canvas.height) / 2;\r\n\r\n    ctx.fillStyle = color.toString();\r\n    ctx.beginPath();\r\n    ctx.moveTo(0, 0);\r\n    ctx.lineTo(w, 0);\r\n    ctx.lineTo(w, w);\r\n    ctx.lineTo(canvas.width, w);\r\n    ctx.lineTo(canvas.width, canvas.height);\r\n    ctx.lineTo(0, canvas.height);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    ctx.fillStyle = color.darker(25).toString();\r\n    ctx.beginPath();\r\n    ctx.moveTo(w, 0);\r\n    ctx.lineTo(canvas.width, w);\r\n    ctx.lineTo(w, w);\r\n    ctx.lineTo(w, 0);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolFullScreen = function (canvas, color) {\r\n    // answer a canvas showing two arrows pointing diagonally outwards\r\n    var ctx = canvas.getContext('2d'),\r\n        h = canvas.height,\r\n        c = canvas.width / 2,\r\n        off = canvas.width / 20,\r\n        w = canvas.width / 2;\r\n\r\n    ctx.strokeStyle = color.toString();\r\n    ctx.lineWidth = canvas.width / 5;\r\n    ctx.moveTo(c - off, c + off);\r\n    ctx.lineTo(0, h);\r\n    ctx.stroke();\r\n\r\n    ctx.strokeStyle = color.toString();\r\n    ctx.lineWidth = canvas.width / 5;\r\n    ctx.moveTo(c + off, c - off);\r\n    ctx.lineTo(h, 0);\r\n    ctx.stroke();\r\n\r\n    ctx.fillStyle = color.toString();\r\n    ctx.beginPath();\r\n    ctx.moveTo(0, h);\r\n    ctx.lineTo(0, h - w);\r\n    ctx.lineTo(w, h);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    ctx.fillStyle = color.toString();\r\n    ctx.beginPath();\r\n    ctx.moveTo(h, 0);\r\n    ctx.lineTo(h - w, 0);\r\n    ctx.lineTo(h, w);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolNormalScreen = function (canvas, color) {\r\n    // answer a canvas showing two arrows pointing diagonally inwards\r\n    var ctx = canvas.getContext('2d'),\r\n        h = canvas.height,\r\n        c = canvas.width / 2,\r\n        off = canvas.width / 20,\r\n        w = canvas.width;\r\n\r\n    ctx.strokeStyle = color.toString();\r\n    ctx.lineWidth = canvas.width / 5;\r\n    ctx.moveTo(c - off * 3, c + off * 3);\r\n    ctx.lineTo(0, h);\r\n    ctx.stroke();\r\n\r\n    ctx.strokeStyle = color.toString();\r\n    ctx.lineWidth = canvas.width / 5;\r\n    ctx.moveTo(c + off * 3, c - off * 3);\r\n    ctx.lineTo(h, 0);\r\n    ctx.stroke();\r\n\r\n    ctx.fillStyle = color.toString();\r\n    ctx.beginPath();\r\n    ctx.moveTo(c + off, c - off);\r\n    ctx.lineTo(w, c - off);\r\n    ctx.lineTo(c + off, 0);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    ctx.fillStyle = color.toString();\r\n    ctx.beginPath();\r\n    ctx.moveTo(c - off, c + off);\r\n    ctx.lineTo(0, c + off);\r\n    ctx.lineTo(c - off, w);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolSmallStage = function (canvas, color) {\r\n    // answer a canvas showing a stage toggling symbol\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        h = canvas.height,\r\n        w2 = w / 2,\r\n        h2 = h / 2;\r\n\r\n    ctx.fillStyle = color.darker(40).toString();\r\n    ctx.fillRect(0, 0, w, h);\r\n\r\n    ctx.fillStyle = color.toString();\r\n    ctx.fillRect(w2, 0, w2, h2);\r\n\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolNormalStage = function (canvas, color) {\r\n    // answer a canvas showing a stage toggling symbol\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        h = canvas.height,\r\n        w2 = w / 2,\r\n        h2 = h / 2;\r\n\r\n    ctx.fillStyle = color.toString();\r\n    ctx.fillRect(0, 0, w, h);\r\n\r\n    ctx.fillStyle = color.darker(25).toString();\r\n    ctx.fillRect(w2, 0, w2, h2);\r\n\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolTurtle = function (canvas, color) {\r\n    // answer a canvas showing a turtle\r\n    var ctx = canvas.getContext('2d');\r\n\r\n    ctx.fillStyle = color.toString();\r\n    ctx.beginPath();\r\n    ctx.moveTo(0, 0);\r\n    ctx.lineTo(canvas.width, canvas.height / 2);\r\n    ctx.lineTo(0, canvas.height);\r\n    ctx.lineTo(canvas.height / 2, canvas.height / 2);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolTurtleOutline = function (canvas, color) {\r\n    // answer a canvas showing a turtle\r\n    var ctx = canvas.getContext('2d');\r\n\r\n    ctx.strokeStyle = color.toString();\r\n    ctx.beginPath();\r\n    ctx.moveTo(0, 0);\r\n    ctx.lineTo(canvas.width, canvas.height / 2);\r\n    ctx.lineTo(0, canvas.height);\r\n    ctx.lineTo(canvas.height / 2, canvas.height / 2);\r\n    ctx.closePath();\r\n    ctx.stroke();\r\n\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolPause = function (canvas, color) {\r\n    // answer a canvas showing two parallel rectangles\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width / 5;\r\n\r\n    ctx.fillStyle = color.toString();\r\n    ctx.fillRect(0, 0, w * 2, canvas.height);\r\n    ctx.fillRect(w * 3, 0, w * 2, canvas.height);\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolFlag = function (canvas, color) {\r\n    // answer a canvas showing a flag\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        l = Math.max(w / 12, 1),\r\n        h = canvas.height;\r\n\r\n    ctx.lineWidth = l;\r\n    ctx.strokeStyle = color.toString();\r\n    ctx.beginPath();\r\n    ctx.moveTo(l / 2, 0);\r\n    ctx.lineTo(l / 2, canvas.height);\r\n    ctx.stroke();\r\n\r\n    ctx.lineWidth = h / 2;\r\n    ctx.beginPath();\r\n    ctx.moveTo(0, h / 4);\r\n    ctx.bezierCurveTo(\r\n        w * 0.8,\r\n        h / 4,\r\n        w * 0.1,\r\n        h * 0.5,\r\n        w,\r\n        h * 0.5\r\n    );\r\n    ctx.stroke();\r\n\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolOctagon = function (canvas, color) {\r\n    // answer a canvas showing an octagon\r\n    var ctx = canvas.getContext('2d'),\r\n        side = canvas.width,\r\n        vert = (side - (side * 0.383)) / 2;\r\n\r\n    ctx.fillStyle = color.toString();\r\n    ctx.beginPath();\r\n    ctx.moveTo(vert, 0);\r\n    ctx.lineTo(side - vert, 0);\r\n    ctx.lineTo(side, vert);\r\n    ctx.lineTo(side, side - vert);\r\n    ctx.lineTo(side - vert, side);\r\n    ctx.lineTo(vert, side);\r\n    ctx.lineTo(0, side - vert);\r\n    ctx.lineTo(0, vert);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolCloud = function (canvas, color) {\r\n    // answer a canvas showing an cloud\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        h = canvas.height,\r\n        r1 = h * 2 / 5,\r\n        r2 = h / 4,\r\n        r3 = h * 3 / 10,\r\n        r4 = h / 5;\r\n\r\n    ctx.fillStyle = color.toString();\r\n    ctx.beginPath();\r\n    ctx.arc(r2, h - r2, r2, radians(90), radians(259), false);\r\n    ctx.arc(w / 20 * 5, h / 9 * 4, r4, radians(165), radians(300), false);\r\n    ctx.arc(w / 20 * 11, r1, r1, radians(200), radians(357), false);\r\n    ctx.arc(w - r3, h - r3, r3, radians(269), radians(90), false);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolCloudGradient = function (canvas, color) {\r\n    // answer a canvas showing an cloud\r\n    var ctx = canvas.getContext('2d'),\r\n        gradient,\r\n        w = canvas.width,\r\n        h = canvas.height,\r\n        r1 = h * 2 / 5,\r\n        r2 = h / 4,\r\n        r3 = h * 3 / 10,\r\n        r4 = h / 5;\r\n\r\n    gradient = ctx.createRadialGradient(\r\n        0,\r\n        0,\r\n        0,\r\n        0,\r\n        0,\r\n        w\r\n    );\r\n    gradient.addColorStop(0, color.lighter(25).toString());\r\n    gradient.addColorStop(1, color.darker(25).toString());\r\n    ctx.fillStyle = gradient;\r\n    ctx.beginPath();\r\n    ctx.arc(r2, h - r2, r2, radians(90), radians(259), false);\r\n    ctx.arc(w / 20 * 5, h / 9 * 4, r4, radians(165), radians(300), false);\r\n    ctx.arc(w / 20 * 11, r1, r1, radians(200), radians(357), false);\r\n    ctx.arc(w - r3, h - r3, r3, radians(269), radians(90), false);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolCloudOutline = function (canvas, color) {\r\n    // answer a canvas showing an cloud\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        h = canvas.height,\r\n        r1 = h * 2 / 5,\r\n        r2 = h / 4,\r\n        r3 = h * 3 / 10,\r\n        r4 = h / 5;\r\n\r\n    ctx.strokeStyle = color.toString();\r\n    ctx.beginPath();\r\n    ctx.arc(r2 + 1, h - r2 - 1, r2, radians(90), radians(259), false);\r\n    ctx.arc(w / 20 * 5, h / 9 * 4, r4, radians(165), radians(300), false);\r\n    ctx.arc(w / 20 * 11, r1 + 1, r1, radians(200), radians(357), false);\r\n    ctx.arc(w - r3 - 1, h - r3 - 1, r3, radians(269), radians(90), false);\r\n    ctx.closePath();\r\n    ctx.stroke();\r\n\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolTurnRight = function (canvas, color) {\r\n    // answer a canvas showing a right-turning arrow\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        l = Math.max(w / 10, 1),\r\n        r = w / 2;\r\n\r\n    ctx.lineWidth = l;\r\n    ctx.strokeStyle = color.toString();\r\n    ctx.beginPath();\r\n    ctx.arc(r, r * 2, r - l / 2, radians(0), radians(-90), false);\r\n    ctx.stroke();\r\n\r\n    ctx.fillStyle = color.toString();\r\n    ctx.beginPath();\r\n    ctx.moveTo(w, r);\r\n    ctx.lineTo(r, 0);\r\n    ctx.lineTo(r, r * 2);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolTurnLeft = function (canvas, color) {\r\n    // answer a canvas showing a left-turning arrow\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        l = Math.max(w / 10, 1),\r\n        r = w / 2;\r\n\r\n    ctx.lineWidth = l;\r\n    ctx.strokeStyle = color.toString();\r\n    ctx.beginPath();\r\n    ctx.arc(r, r * 2, r - l / 2, radians(180), radians(-90), true);\r\n    ctx.stroke();\r\n\r\n    ctx.fillStyle = color.toString();\r\n    ctx.beginPath();\r\n    ctx.moveTo(0, r);\r\n    ctx.lineTo(r, 0);\r\n    ctx.lineTo(r, r * 2);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolStorage = function (canvas, color) {\r\n    // answer a canvas showing a stack of three disks\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        h = canvas.height,\r\n        r = canvas.height,\r\n        unit = canvas.height / 11;\r\n\r\n    function drawDisk(bottom, fillTop) {\r\n        ctx.fillStyle = color.toString();\r\n        ctx.beginPath();\r\n        ctx.arc(w / 2, bottom - h, r, radians(60), radians(120), false);\r\n        ctx.lineTo(0, bottom - unit * 2);\r\n        ctx.arc(\r\n            w / 2,\r\n            bottom - h - unit * 2,\r\n            r,\r\n            radians(120),\r\n            radians(60),\r\n            true\r\n        );\r\n        ctx.closePath();\r\n        ctx.fill();\r\n\r\n        ctx.fillStyle = color.darker(25).toString();\r\n        ctx.beginPath();\r\n\r\n        if (fillTop) {\r\n            ctx.arc(\r\n                w / 2,\r\n                bottom - h - unit * 2,\r\n                r,\r\n                radians(120),\r\n                radians(60),\r\n                true\r\n            );\r\n        }\r\n\r\n        ctx.arc(\r\n            w / 2,\r\n            bottom + unit * 6 + 1,\r\n            r,\r\n            radians(60),\r\n            radians(120),\r\n            true\r\n        );\r\n        ctx.closePath();\r\n\r\n        if (fillTop) {\r\n            ctx.fill();\r\n        } else {\r\n            ctx.stroke();\r\n        }\r\n    }\r\n\r\n    ctx.strokeStyle = color.toString();\r\n    drawDisk(h);\r\n    drawDisk(h - unit * 3);\r\n    drawDisk(h - unit * 6, false);\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolPoster = function (canvas, color) {\r\n    // answer a canvas showing a poster stand\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        h = canvas.height,\r\n        bottom = h * 0.75,\r\n        edge = canvas.height / 5;\r\n\r\n    ctx.fillStyle = color.toString();\r\n    ctx.strokeStyle = color.toString();\r\n\r\n    ctx.lineWidth = w / 15;\r\n    ctx.moveTo(w / 2, h / 3);\r\n    ctx.lineTo(w / 6, h);\r\n    ctx.stroke();\r\n\r\n    ctx.moveTo(w / 2, h / 3);\r\n    ctx.lineTo(w / 2, h);\r\n    ctx.stroke();\r\n\r\n    ctx.moveTo(w / 2, h / 3);\r\n    ctx.lineTo(w * 5 / 6, h);\r\n    ctx.stroke();\r\n\r\n    ctx.fillRect(0, 0, w, bottom);\r\n    ctx.clearRect(0, bottom, w, w / 20);\r\n\r\n    ctx.clearRect(w - edge, bottom - edge, edge + 1, edge + 1);\r\n\r\n    ctx.fillStyle = color.darker(25).toString();\r\n    ctx.beginPath();\r\n    ctx.moveTo(w, bottom - edge);\r\n    ctx.lineTo(w - edge, bottom - edge);\r\n    ctx.lineTo(w - edge, bottom);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolFlash = function (canvas, color) {\r\n    // answer a canvas showing a flash\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        w3 = w / 3,\r\n        h = canvas.height,\r\n        h3 = h / 3,\r\n        off = h3 / 3;\r\n\r\n    ctx.fillStyle = color.toString();\r\n    ctx.beginPath();\r\n    ctx.moveTo(w3, 0);\r\n    ctx.lineTo(0, h3);\r\n    ctx.lineTo(w3, h3);\r\n    ctx.lineTo(0, h3 * 2);\r\n    ctx.lineTo(w3, h3 * 2);\r\n    ctx.lineTo(0, h);\r\n    ctx.lineTo(w, h3 * 2 - off);\r\n    ctx.lineTo(w3 * 2, h3 * 2 - off);\r\n    ctx.lineTo(w, h3 - off);\r\n    ctx.lineTo(w3 * 2, h3 - off);\r\n    ctx.lineTo(w, 0);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolBrush = function (canvas, color) {\r\n    // answer a canvas showing a paintbrush\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        h = canvas.height,\r\n        l = Math.max(w / 30, 0.5);\r\n\r\n    ctx.fillStyle = color.toString();\r\n    ctx.lineWidth = l * 2;\r\n    ctx.beginPath();\r\n    ctx.moveTo(w / 8 * 3, h / 2);\r\n    ctx.quadraticCurveTo(0, h / 2, l, h - l);\r\n    ctx.quadraticCurveTo(w / 2, h, w / 2, h / 8 * 5);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    ctx.lineJoin = 'round';\r\n    ctx.lineCap = 'round';\r\n    ctx.strokeStyle = color.toString();\r\n\r\n    ctx.moveTo(w / 8 * 3, h / 2);\r\n    ctx.lineTo(w * 0.75, l);\r\n    ctx.quadraticCurveTo(w, 0, w - l, h * 0.25);\r\n    ctx.stroke();\r\n\r\n    ctx.moveTo(w / 2, h / 8 * 5);\r\n    ctx.lineTo(w - l, h * 0.25);\r\n    ctx.stroke();\r\n\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolRectangle = function (canvas, color) {\r\n    // answer a canvas showing a rectangle\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        h = canvas.width,\r\n        l = Math.max(w / 20, 0.5);\r\n\r\n    ctx.strokeStyle = color.toString();\r\n    ctx.lineWidth = l * 2;\r\n    ctx.beginPath();\r\n    ctx.moveTo(l, l);\r\n    ctx.lineTo(w - l, l);\r\n    ctx.lineTo(w - l, h - l);\r\n    ctx.lineTo(l, h - l);\r\n    ctx.closePath();\r\n    ctx.stroke();\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolRectangleSolid = function (canvas, color) {\r\n    // answer a canvas showing a solid rectangle\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        h = canvas.width;\r\n\r\n    ctx.fillStyle = color.toString();\r\n    ctx.beginPath();\r\n    ctx.moveTo(0, 0);\r\n    ctx.lineTo(w, 0);\r\n    ctx.lineTo(w, h);\r\n    ctx.lineTo(0, h);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolCircle = function (canvas, color) {\r\n    // answer a canvas showing a circle\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        l = Math.max(w / 20, 0.5);\r\n\r\n    ctx.strokeStyle = color.toString();\r\n    ctx.lineWidth = l * 2;\r\n    ctx.arc(w / 2, w / 2, w / 2 - l, radians(0), radians(360), false);\r\n    ctx.stroke();\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolCircleSolid = function (canvas, color) {\r\n    // answer a canvas showing a solid circle\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width;\r\n\r\n    ctx.fillStyle = color.toString();\r\n    ctx.arc(w / 2, w / 2, w / 2, radians(0), radians(360), false);\r\n    ctx.fill();\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolLine = function (canvas, color) {\r\n    // answer a canvas showing a plus sign cross\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        h = canvas.height,\r\n        l = Math.max(w / 20, 0.5);\r\n\r\n    ctx.strokeStyle = color.toString();\r\n    ctx.lineWidth = l * 2;\r\n    ctx.lineCap = 'round';\r\n    ctx.moveTo(l, l);\r\n    ctx.lineTo(w - l, h - l);\r\n    ctx.stroke();\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolCross = function (canvas, color) {\r\n    // answer a canvas showing a diagonal line\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        l = Math.max(w / 20, 0.5);\r\n\r\n    ctx.strokeStyle = color.toString();\r\n    ctx.lineWidth = l * 2;\r\n    ctx.lineCap = 'round';\r\n    ctx.moveTo(l, w / 2);\r\n    ctx.lineTo(w - l, w / 2);\r\n    ctx.stroke();\r\n    ctx.moveTo(w / 2, l);\r\n    ctx.lineTo(w / 2, w - l);\r\n    ctx.stroke();\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolCrosshairs = function (canvas, color) {\r\n    // answer a canvas showing a crosshairs\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        h = canvas.height,\r\n        l = 0.5;\r\n\r\n    ctx.strokeStyle = color.toString();\r\n    ctx.lineWidth = l * 2;\r\n    ctx.moveTo(l, h / 2);\r\n    ctx.lineTo(w - l, h / 2);\r\n    ctx.stroke();\r\n    ctx.moveTo(w / 2, l);\r\n    ctx.lineTo(w / 2, h - l);\r\n    ctx.stroke();\r\n    ctx.moveTo(w / 2, h / 2);\r\n    ctx.arc(w / 2, w / 2, w / 3 - l, radians(0), radians(360), false);\r\n    ctx.stroke();\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolPaintbucket = function (canvas, color) {\r\n    // answer a canvas showing a paint bucket\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        h = canvas.height,\r\n        n = canvas.width / 5,\r\n        l = Math.max(w / 30, 0.5);\r\n\r\n    ctx.strokeStyle = color.toString();\r\n    ctx.lineWidth = l * 2;\r\n    ctx.beginPath();\r\n    ctx.moveTo(n * 2, n);\r\n    ctx.lineTo(n * 4, n * 3);\r\n    ctx.lineTo(n * 3, n * 4);\r\n    ctx.quadraticCurveTo(n * 2, h, n, n * 4);\r\n    ctx.quadraticCurveTo(0, n * 3, n, n * 2);\r\n    ctx.closePath();\r\n    ctx.stroke();\r\n\r\n    ctx.lineWidth = l;\r\n    ctx.moveTo(n * 2, n * 2.5);\r\n    ctx.arc(n * 2, n * 2.5, l, radians(0), radians(360), false);\r\n    ctx.stroke();\r\n\r\n    ctx.moveTo(n * 2, n * 2.5);\r\n    ctx.lineTo(n * 2, n / 2 + l);\r\n    ctx.stroke();\r\n\r\n    ctx.arc(n * 1.5, n / 2 + l, n / 2, radians(0), radians(180), true);\r\n    ctx.stroke();\r\n\r\n    ctx.moveTo(n, n / 2 + l);\r\n    ctx.lineTo(n, n * 2);\r\n    ctx.stroke();\r\n\r\n    ctx.fillStyle = color.toString();\r\n    ctx.beginPath();\r\n    ctx.moveTo(n * 3.5, n * 3.5);\r\n    ctx.quadraticCurveTo(w, n * 3.5, w - l, h);\r\n    ctx.lineTo(w, h);\r\n    ctx.quadraticCurveTo(w, n * 2, n * 2.5, n * 1.5);\r\n    ctx.lineTo(n * 4, n * 3);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolEraser = function (canvas, color) {\r\n    // answer a canvas showing an eraser\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        h = canvas.height,\r\n        n = canvas.width / 4,\r\n        l = Math.max(w / 20, 0.5);\r\n\r\n    ctx.strokeStyle = color.toString();\r\n    ctx.lineWidth = l * 2;\r\n    ctx.beginPath();\r\n    ctx.moveTo(n * 3, l);\r\n    ctx.lineTo(l, n * 3);\r\n    ctx.quadraticCurveTo(n, h, n * 2, n * 3);\r\n    ctx.lineTo(w - l, n);\r\n    ctx.closePath();\r\n    ctx.stroke();\r\n\r\n    ctx.fillStyle = color.toString();\r\n    ctx.beginPath();\r\n    ctx.moveTo(n * 3, 0);\r\n    ctx.lineTo(n * 1.5, n * 1.5);\r\n    ctx.lineTo(n * 2.5, n * 2.5);\r\n    ctx.lineTo(w, n);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolPipette = function (canvas, color) {\r\n    // answer a canvas showing an eyedropper\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        h = canvas.height,\r\n        n = canvas.width / 4,\r\n        n2 = n / 2,\r\n        l = Math.max(w / 20, 0.5);\r\n\r\n    ctx.strokeStyle = color.toString();\r\n    ctx.lineWidth = l * 2;\r\n    ctx.beginPath();\r\n    ctx.moveTo(l, h - l);\r\n    ctx.quadraticCurveTo(n2, h - n2, n2, h - n);\r\n    ctx.lineTo(n * 2, n * 1.5);\r\n    ctx.stroke();\r\n\r\n    ctx.beginPath();\r\n    ctx.moveTo(l, h - l);\r\n    ctx.quadraticCurveTo(n2, h - n2, n, h - n2);\r\n    ctx.lineTo(n * 2.5, n * 2);\r\n    ctx.stroke();\r\n\r\n    ctx.fillStyle = color.toString();\r\n    ctx.arc(n * 3, n, n - l, radians(0), radians(360), false);\r\n    ctx.fill();\r\n\r\n    ctx.beginPath();\r\n    ctx.moveTo(n * 2, n);\r\n    ctx.lineTo(n * 3, n * 2);\r\n    ctx.stroke();\r\n\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolSpeechBubble = function (canvas, color) {\r\n    // answer a canvas showing a speech bubble\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        h = canvas.height,\r\n        n = canvas.width / 3,\r\n        l = Math.max(w / 20, 0.5);\r\n\r\n    ctx.fillStyle = color.toString();\r\n    ctx.lineWidth = l * 2;\r\n    ctx.beginPath();\r\n    ctx.moveTo(n, n * 2);\r\n    ctx.quadraticCurveTo(l, n * 2, l, n);\r\n    ctx.quadraticCurveTo(l, l, n, l);\r\n    ctx.lineTo(n * 2, l);\r\n    ctx.quadraticCurveTo(w - l, l, w - l, n);\r\n    ctx.quadraticCurveTo(w - l, n * 2, n * 2, n * 2);\r\n    ctx.lineTo(n / 2, h - l);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolSpeechBubbleOutline = function (\r\n    canvas,\r\n    color\r\n) {\r\n    // answer a canvas showing a speech bubble\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        h = canvas.height,\r\n        n = canvas.width / 3,\r\n        l = Math.max(w / 20, 0.5);\r\n\r\n    ctx.strokeStyle = color.toString();\r\n    ctx.lineWidth = l * 2;\r\n    ctx.beginPath();\r\n    ctx.moveTo(n, n * 2);\r\n    ctx.quadraticCurveTo(l, n * 2, l, n);\r\n    ctx.quadraticCurveTo(l, l, n, l);\r\n    ctx.lineTo(n * 2, l);\r\n    ctx.quadraticCurveTo(w - l, l, w - l, n);\r\n    ctx.quadraticCurveTo(w - l, n * 2, n * 2, n * 2);\r\n    ctx.lineTo(n / 2, h - l);\r\n    ctx.closePath();\r\n    ctx.stroke();\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolTurnBack = function (canvas, aColor) {\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        h = canvas.height,\r\n        w2 = canvas.width / 2,\r\n        h2 = canvas.height / 2,\r\n        l = Math.max(w / 20, 0.5);\r\n\r\n    ctx.fillStyle = aColor.toString();\r\n    ctx.lineWidth = l * 2;\r\n    ctx.beginPath();\r\n    ctx.moveTo(0, h2);\r\n    ctx.lineTo(w2, 0);\r\n    ctx.lineTo(w2, h);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n    ctx.lineWidth = l * 3;\r\n    ctx.strokeStyle = aColor.toString();\r\n    ctx.beginPath();\r\n    ctx.arc(w2, h, h2, radians(0), radians(-90), true);\r\n    ctx.stroke();\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolTurnForward = function (canvas, aColor) {\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        h = canvas.height,\r\n        w2 = canvas.width / 2,\r\n        h2 = canvas.height / 2,\r\n        l = Math.max(w / 20, 0.5);\r\n\r\n    ctx.fillStyle = aColor.toString();\r\n    ctx.lineWidth = l * 2;\r\n    ctx.beginPath();\r\n    ctx.moveTo(w, h2);\r\n    ctx.lineTo(w2, 0);\r\n    ctx.lineTo(w2, h);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n    ctx.lineWidth = l * 3;\r\n    ctx.strokeStyle = aColor.toString();\r\n    ctx.beginPath();\r\n    ctx.arc(w2, h, h2, radians(-180), radians(-90), false);\r\n    ctx.stroke();\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolArrowUp = function (canvas, color) {\r\n    // answer a canvas showing an up arrow\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        h = canvas.height,\r\n        n = canvas.width / 2,\r\n        l = Math.max(w / 20, 0.5);\r\n\r\n    ctx.fillStyle = color.toString();\r\n    ctx.lineWidth = l * 2;\r\n    ctx.beginPath();\r\n    ctx.moveTo(l, n);\r\n    ctx.lineTo(n, l);\r\n    ctx.lineTo(w - l, n);\r\n    ctx.lineTo(w * 0.65, n);\r\n    ctx.lineTo(w * 0.65, h - l);\r\n    ctx.lineTo(w * 0.35, h - l);\r\n    ctx.lineTo(w * 0.35, n);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolArrowUpOutline = function (canvas, color) {\r\n    // answer a canvas showing an up arrow\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        h = canvas.height,\r\n        n = canvas.width / 2,\r\n        l = Math.max(w / 20, 0.5);\r\n\r\n    ctx.strokeStyle = color.toString();\r\n    ctx.lineWidth = l * 2;\r\n    ctx.beginPath();\r\n    ctx.moveTo(l, n);\r\n    ctx.lineTo(n, l);\r\n    ctx.lineTo(w - l, n);\r\n    ctx.lineTo(w * 0.65, n);\r\n    ctx.lineTo(w * 0.65, h - l);\r\n    ctx.lineTo(w * 0.35, h - l);\r\n    ctx.lineTo(w * 0.35, n);\r\n    ctx.closePath();\r\n    ctx.stroke();\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolArrowDown = function (canvas, color) {\r\n    // answer a canvas showing a down arrow\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width;\r\n    ctx.save();\r\n    ctx.translate(w, w);\r\n    ctx.rotate(radians(180));\r\n    this.drawSymbolArrowUp(canvas, color);\r\n    ctx.restore();\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolArrowDownOutline = function (canvas, color) {\r\n    // answer a canvas showing a down arrow\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width;\r\n    ctx.save();\r\n    ctx.translate(w, w);\r\n    ctx.rotate(radians(180));\r\n    this.drawSymbolArrowUpOutline(canvas, color);\r\n    ctx.restore();\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolArrowLeft = function (canvas, color) {\r\n    // answer a canvas showing a left arrow\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width;\r\n    ctx.save();\r\n    ctx.translate(0, w);\r\n    ctx.rotate(radians(-90));\r\n    this.drawSymbolArrowUp(canvas, color);\r\n    ctx.restore();\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolArrowLeftOutline = function (canvas, color) {\r\n    // answer a canvas showing a left arrow\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width;\r\n    ctx.save();\r\n    ctx.translate(0, w);\r\n    ctx.rotate(radians(-90));\r\n    this.drawSymbolArrowUpOutline(canvas, color);\r\n    ctx.restore();\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolArrowRight = function (canvas, color) {\r\n    // answer a canvas showing a right arrow\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width;\r\n    ctx.save();\r\n    ctx.translate(w, 0);\r\n    ctx.rotate(radians(90));\r\n    this.drawSymbolArrowUp(canvas, color);\r\n    ctx.restore();\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolArrowRightOutline = function (canvas, color) {\r\n    // answer a canvas showing a right arrow\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width;\r\n    ctx.save();\r\n    ctx.translate(w, 0);\r\n    ctx.rotate(radians(90));\r\n    this.drawSymbolArrowUpOutline(canvas, color);\r\n    ctx.restore();\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolRobot = function (canvas, color) {\r\n    // answer a canvas showing a humanoid robot\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        h = canvas.height,\r\n        n = canvas.width / 6,\r\n        n2 = n / 2,\r\n        l = Math.max(w / 20, 0.5);\r\n\r\n    ctx.fillStyle = color.toString();\r\n    //ctx.lineWidth = l * 2;\r\n\r\n    ctx.beginPath();\r\n    ctx.moveTo(n + l, n);\r\n    ctx.lineTo(n * 2, n);\r\n    ctx.lineTo(n * 2.5, n * 1.5);\r\n    ctx.lineTo(n * 3.5, n * 1.5);\r\n    ctx.lineTo(n * 4, n);\r\n    ctx.lineTo(n * 5 - l, n);\r\n    ctx.lineTo(n * 4, n * 3);\r\n    ctx.lineTo(n * 4, n * 4 - l);\r\n    ctx.lineTo(n * 2, n * 4 - l);\r\n    ctx.lineTo(n * 2, n * 3);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    ctx.beginPath();\r\n    ctx.moveTo(n * 2.75, n + l);\r\n    ctx.lineTo(n * 2.4, n);\r\n    ctx.lineTo(n * 2.2, 0);\r\n    ctx.lineTo(n * 3.8, 0);\r\n    ctx.lineTo(n * 3.6, n);\r\n    ctx.lineTo(n * 3.25, n + l);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    ctx.beginPath();\r\n    ctx.moveTo(n * 2.5, n * 4);\r\n    ctx.lineTo(n, n * 4);\r\n    ctx.lineTo(n2 + l, h);\r\n    ctx.lineTo(n * 2, h);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    ctx.beginPath();\r\n    ctx.moveTo(n * 3.5, n * 4);\r\n    ctx.lineTo(n * 5, n * 4);\r\n    ctx.lineTo(w - (n2 + l), h);\r\n    ctx.lineTo(n * 4, h);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    ctx.beginPath();\r\n    ctx.moveTo(n, n);\r\n    ctx.lineTo(l, n * 1.5);\r\n    ctx.lineTo(l, n * 3.25);\r\n    ctx.lineTo(n * 1.5, n * 3.5);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    ctx.beginPath();\r\n    ctx.moveTo(n * 5, n);\r\n    ctx.lineTo(w - l, n * 1.5);\r\n    ctx.lineTo(w - l, n * 3.25);\r\n    ctx.lineTo(n * 4.5, n * 3.5);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolMagnifyingGlass = function (canvas, color) {\r\n    // answer a canvas showing a magnifying glass\r\n    var ctx = canvas.getContext('2d'),\r\n        gradient,\r\n        w = canvas.width,\r\n        h = canvas.height,\r\n        r = w * 0.3,\r\n        x = w * 2 / 3 - Math.sqrt(r),\r\n        y = h / 3 + Math.sqrt(r),\r\n        l = Math.max(w / 5, 0.5);\r\n\r\n    ctx.strokeStyle = color.toString();\r\n\r\n    gradient = ctx.createRadialGradient(\r\n        x,\r\n        y,\r\n        0,\r\n        x + r,\r\n        y + r,\r\n        w\r\n    );\r\n\r\n    gradient.addColorStop(0, color.inverted().lighter(50).toString());\r\n    gradient.addColorStop(1, color.inverted().darker(25).toString());\r\n    ctx.fillStyle = gradient;\r\n    ctx.arc(x, y, r, radians(0), radians(360), false);\r\n    ctx.fill();\r\n\r\n    ctx.lineWidth = l / 2;\r\n    ctx.arc(x, y, r, radians(0), radians(360), false);\r\n    ctx.stroke();\r\n\r\n    ctx.lineWidth = l;\r\n    ctx.beginPath();\r\n    ctx.moveTo(l / 2, h - l / 2);\r\n    ctx.lineTo(x - Math.sqrt(r + l), y + Math.sqrt(r + l));\r\n    ctx.closePath();\r\n    ctx.stroke();\r\n\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolMagnifierOutline = function (canvas, color) {\r\n    // answer a canvas showing a magnifying glass\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        h = canvas.height,\r\n        r = w * 0.3,\r\n        x = w * 2 / 3 - Math.sqrt(r),\r\n        y = h / 3 + Math.sqrt(r),\r\n        l = Math.max(w / 5, 0.5);\r\n\r\n    ctx.strokeStyle = color.toString();\r\n\r\n    ctx.lineWidth = l * 0.5;\r\n    ctx.arc(x, y, r, radians(0), radians(360), false);\r\n    ctx.stroke();\r\n\r\n    ctx.lineWidth = l;\r\n    ctx.beginPath();\r\n    ctx.moveTo(l / 2, h - l / 2);\r\n    ctx.lineTo(x - Math.sqrt(r + l), y + Math.sqrt(r + l));\r\n    ctx.closePath();\r\n    ctx.stroke();\r\n\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolNotes = function (canvas, color) {\r\n    // answer a canvas showing two musical notes\r\n    var ctx = canvas.getContext('2d'),\r\n        size = canvas.width,\r\n        r = size / 6,\r\n        l = Math.max(r / 3, 1);\r\n\r\n    ctx.strokeStyle = color.toString();\r\n    ctx.fillStyle = color.toString();\r\n\r\n    ctx.arc(r, size - r, r, radians(0), radians(360), false);\r\n    ctx.fill();\r\n    ctx.arc(size - r, size - (r * 2), r, radians(0), radians(360), false);\r\n    ctx.fill();\r\n\r\n    ctx.beginPath();\r\n    ctx.moveTo(r * 2 - l, r);\r\n    ctx.lineTo(size, 0);\r\n    ctx.lineTo(size, r);\r\n    ctx.lineTo(r * 2 - l, r * 2);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    ctx.lineWidth = l;\r\n    ctx.beginPath();\r\n    ctx.moveTo(r * 2 - (l / 2), size - r);\r\n    ctx.lineTo(r * 2 - (l / 2), r + l);\r\n    ctx.stroke();\r\n\r\n    ctx.beginPath();\r\n    ctx.moveTo(size - (l / 2), size - (r * 2));\r\n    ctx.lineTo(size - (l / 2), l);\r\n    ctx.stroke();\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolCamera = function (canvas, color) {\r\n    // answer a canvas showing a camera\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        h = canvas.width,\r\n        r = w * 0.16,\r\n        l = Math.max(w / 20, 0.5);\r\n\r\n    ctx.lineWidth = l * 2;\r\n\r\n    // camera body\r\n    ctx.fillStyle = color.toString();\r\n    ctx.beginPath();\r\n    ctx.moveTo(l, h * 5 / 6);\r\n    ctx.lineTo(w - l, h * 5 / 6);\r\n    ctx.lineTo(w - l, h / 4);\r\n    ctx.lineTo(w * 3 / 4 , h / 4);\r\n    ctx.lineTo(w * 5 / 8 , l);\r\n    ctx.lineTo(w * 3 / 8 , l);\r\n    ctx.lineTo(w / 4 , h / 4);\r\n    ctx.lineTo(l , h / 4);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    // camera lens\r\n    ctx.save();\r\n    ctx.globalCompositeOperation = 'destination-out';\r\n    ctx.beginPath();\r\n    ctx.arc(w / 2, h / 2, r, radians(0), radians(360), false);\r\n    ctx.fill();\r\n    ctx.restore();\r\n\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolLocation = function (canvas, color) {\r\n    // answer a canvas showing a map pin\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        h = canvas.height,\r\n        r = w / 2;\r\n\r\n    // pin\r\n    ctx.fillStyle = color.toString();\r\n    ctx.beginPath();\r\n    ctx.arc(r, r, r, radians(-210), radians(30), false);\r\n    ctx.lineTo(r, h);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    // hole\r\n    ctx.globalCompositeOperation = 'destination-out';\r\n    ctx.beginPath();\r\n    ctx.arc(r, r, r * 0.5, radians(0), radians(360), false);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolFootprints = function (canvas, color) {\r\n    // answer a canvas showing a pair of (shoe) footprints\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        u = w / 10,\r\n        r = u * 1.5;\r\n\r\n    ctx.fillStyle = color.toString();\r\n\r\n    // left shoe\r\n    // tip\r\n    ctx.beginPath();\r\n    ctx.arc(r, r, r, radians(-200), radians(0), false);\r\n    ctx.lineTo(r * 2, u * 5.5);\r\n    ctx.lineTo(u, u * 6);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n    // heel\r\n    ctx.beginPath();\r\n    ctx.arc(u * 2.25, u * 6.75, u , radians(-40), radians(-170), false);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    // right shoe\r\n    // tip\r\n    ctx.beginPath();\r\n    ctx.arc(w - r, u * 4.5, r, radians(-180), radians(20), false);\r\n    ctx.lineTo(w - u, u * 8.5);\r\n    ctx.lineTo(w - (r * 2), u * 8);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n    // heel\r\n    ctx.beginPath();\r\n    ctx.arc(w - (u * 2.25), u * 9, u, radians(0), radians(-150), false);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolKeyboard = function (canvas, color) {\r\n    // answer a canvas showing a typing keyboard\r\n    var ctx = canvas.getContext('2d'),\r\n        h = canvas.height,\r\n        u = h / 10,\r\n        k = h / 5,\r\n        row, col;\r\n\r\n    ctx.fillStyle = color.toString();\r\n    for (row = 0; row < 2; row += 1) {\r\n\t\tfor (col = 0; col < 5; col += 1) {\r\n\t\t\tctx.fillRect(\r\n      \t\t\t((u + k) * col) + u,\r\n          \t\t((u + k) * row) + u,\r\n           \t\tk,\r\n           \t\tk\r\n\t\t\t);\r\n   \t\t}\r\n  \t}\r\n\tctx.fillRect(u * 4, u * 7, k * 4, k);\r\n\treturn canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolKeyboardFilled = function (canvas, color) {\r\n    // answer a canvas showing a typing keyboard\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        h = canvas.height,\r\n        u = h / 10,\r\n        k = h / 5,\r\n        row, col;\r\n\r\n    ctx.fillStyle = color.toString();\r\n    ctx.fillRect(0, 0, w, h);\r\n    ctx.globalCompositeOperation = 'destination-out';\r\n    for (row = 0; row < 2; row += 1) {\r\n        for (col = 0; col < 5; col += 1) {\r\n            ctx.fillRect(\r\n                  ((u + k) * col) + u,\r\n                  ((u + k) * row) + u,\r\n                   k,\r\n                   k\r\n            );\r\n           }\r\n      }\r\n    ctx.fillRect(u * 4, u * 7, k * 4, k);\r\n    return canvas;\r\n};\r\n//fin de Symbols\r\n/*\r\n\r\n    xml.js\r\n\r\n    a simple XML DOM, encoder and parser for morphic.js\r\n\r\n    written by Jens Mönig\r\n    jens@moenig.org\r\n\r\n    Copyright (C) 2015 by Jens Mönig\r\n\r\n    This file is part of Snap!.\r\n\r\n    Snap! is free software: you can redistribute it and/or modify\r\n    it under the terms of the GNU Affero General Public License as\r\n    published by the Free Software Foundation, either version 3 of\r\n    the License, or (at your option) any later version.\r\n\r\n    This program is distributed in the hope that it will be useful,\r\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n    GNU Affero General Public License for more details.\r\n\r\n    You should have received a copy of the GNU Affero General Public License\r\n    along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n\r\n\r\n    prerequisites:\r\n    --------------\r\n    needs morphic.js\r\n\r\n\r\n    hierarchy\r\n    ---------\r\n    the following tree lists all constructors hierarchically,\r\n    indentation indicating inheritance. Refer to this list to get a\r\n    contextual overview:\r\n\r\n        Node*\r\n            XML_Element\r\n        ReadStream\r\n\r\n    * defined in morphic.js\r\n\r\n\r\n    toc\r\n    ---\r\n    the following list shows the order in which all constructors are\r\n    defined. Use this list to locate code in this document:\r\n\r\n        ReadStream\r\n        XML_Element\r\n\r\n\r\n    credits\r\n    -------\r\n    Nathan Dinsmore contributed to the design and implemented a first\r\n    working version of a complete XMLSerializer. I have taken much of the\r\n    overall design and many of the functions and methods in this file from\r\n    Nathan's fine original prototype. Recently Nathan has once again\r\n    worked his magic on the parser and optimized it by an order of\r\n    magnitude.\r\n\r\n*/\r\n\r\n/*global modules, detect, Node, isNil*/\r\n\r\n// Global stuff ////////////////////////////////////////////////////////\r\n\r\nmodules.xml = '2017-November-15';\r\n\r\n// Declarations\r\n\r\nvar ReadStream;\r\nvar XML_Element;\r\n\r\n// ReadStream ////////////////////////////////////////////////////////////\r\n\r\n// I am a sequential reading interface to an Array or String\r\n\r\n// ReadStream instance creation:\r\n\r\nfunction ReadStream(arrayOrString) {\r\n    this.contents = arrayOrString || '';\r\n    this.index = 0;\r\n}\r\n\r\n// ReadStream constants:\r\n\r\nReadStream.prototype.nonSpace = /\\S|$/g;\r\nReadStream.prototype.nonWord = /[\\s\\>\\/\\=]|$/g;\r\n\r\n// ReadStream accessing:\r\n\r\nReadStream.prototype.next = function (count) {\r\n    var element, start;\r\n    if (count === undefined) {\r\n        element = this.contents[this.index];\r\n        this.index += 1;\r\n        return element;\r\n    }\r\n    start = this.index;\r\n    this.index += count;\r\n    return this.contents.slice(start, this.index);\r\n};\r\n\r\nReadStream.prototype.peek = function () {\r\n    return this.contents[this.index];\r\n};\r\n\r\nReadStream.prototype.skip = function (count) {\r\n    this.index += count || 1;\r\n};\r\n\r\nReadStream.prototype.atEnd = function () {\r\n    return this.index > (this.contents.length - 1);\r\n};\r\n\r\n// ReadStream accessing String contents:\r\n\r\nReadStream.prototype.upTo = function (str) {\r\n    var i = this.contents.indexOf(str, this.index);\r\n    return i === -1 ? '' : this.contents.slice(this.index, this.index = i);\r\n};\r\n\r\nReadStream.prototype.peekUpTo = function (str) {\r\n    var i = this.contents.indexOf(str, this.index);\r\n    return i === -1 ? '' : this.contents.slice(this.index, i);\r\n};\r\n\r\nReadStream.prototype.skipSpace = function () {\r\n    this.nonSpace.lastIndex = this.index;\r\n    var result = this.nonSpace.exec(this.contents);\r\n    if (result) this.index = result.index;\r\n};\r\n\r\nReadStream.prototype.word = function () {\r\n    this.nonWord.lastIndex = this.index;\r\n    var result = this.nonWord.exec(this.contents);\r\n    return result ? this.contents.slice(this.index, this.index = result.index) : '';\r\n};\r\n\r\n// XML_Element ///////////////////////////////////////////////////////////\r\n/*\r\n    I am a DOM-Node which can encode itself to as well as parse itself\r\n    from a well-formed XML string. Note that there is no separate parser\r\n    object, all the parsing can be done in a single object.\r\n*/\r\n\r\n// XML_Element inherits from Node:\r\n\r\nXML_Element.prototype = Object.create(Node.prototype);\r\nXML_Element.prototype.constructor = XML_Element;\r\nXML_Element.uber = Node.prototype;\r\n\r\n// XML_Element preferences settings:\r\n\r\nXML_Element.prototype.indentation = '  ';\r\n\r\n// XML_Element instance creation:\r\n\r\nfunction XML_Element(tag, contents, parent) {\r\n    this.init(tag, contents, parent);\r\n}\r\n\r\nXML_Element.prototype.init = function (tag, contents, parent) {\r\n    // additional properties:\r\n    this.tag = tag || 'unnamed';\r\n    this.attributes = {};\r\n    this.contents = contents || '';\r\n\r\n    // initialize inherited properties:\r\n    XML_Element.uber.init.call(this);\r\n\r\n    // override inherited properties\r\n    if (parent) parent.addChild(this);\r\n};\r\n\r\n// XML_Element DOM navigation: (aside from what's inherited from Node)\r\n\r\nXML_Element.prototype.require = function (tagName) {\r\n    // answer the first direct child with the specified tagName, or throw\r\n    // an error if it doesn't exist\r\n    var child = this.childNamed(tagName);\r\n    if (!child) {\r\n        throw new Error('Missing required element <' + tagName + '>!');\r\n    }\r\n    return child;\r\n};\r\n\r\nXML_Element.prototype.childNamed = function (tagName) {\r\n    // answer the first direct child with the specified tagName, or null\r\n    return detect(\r\n        this.children,\r\n        function (child) {return child.tag === tagName; }\r\n    );\r\n};\r\n\r\nXML_Element.prototype.childrenNamed = function (tagName) {\r\n    // answer all direct children with the specified tagName\r\n    return this.children.filter(\r\n        function (child) {return child.tag === tagName; }\r\n    );\r\n};\r\n\r\nXML_Element.prototype.parentNamed = function (tagName) {\r\n    // including myself\r\n    if (this.tag === tagName) {\r\n        return this;\r\n    }\r\n    if (!this.parent) {\r\n        return null;\r\n    }\r\n    return this.parent.parentNamed(tagName);\r\n};\r\n\r\n// XML_Element output:\r\n\r\nXML_Element.prototype.toString = function (isFormatted, indentationLevel) {\r\n    var result = '',\r\n        indent = '',\r\n        level = indentationLevel || 0,\r\n        key,\r\n        i;\r\n\r\n    // spaces for indentation, if any\r\n    if (isFormatted) {\r\n        for (i = 0; i < level; i += 1) {\r\n            indent += this.indentation;\r\n        }\r\n        result += indent;\r\n    }\r\n\r\n    // opening tag\r\n    result += ('<' + this.tag);\r\n\r\n    // attributes, if any\r\n    for (key in this.attributes) {\r\n        if (Object.prototype.hasOwnProperty.call(this.attributes, key)\r\n                && this.attributes[key]) {\r\n            result += ' ' + key + '=\"' + this.escape(this.attributes[key]) + '\"';\r\n        }\r\n    }\r\n\r\n    // contents, subnodes, and closing tag\r\n    if (!this.contents.length && !this.children.length) {\r\n        result += '/>';\r\n    } else {\r\n        result += '>';\r\n        result += this.escape(this.contents);\r\n        this.children.forEach(function (element) {\r\n            if (isFormatted) {\r\n                result += '\\n';\r\n            }\r\n            result += element.toString(isFormatted, level + 1);\r\n        });\r\n        if (isFormatted && this.children.length) {\r\n            result += ('\\n' + indent);\r\n        }\r\n        result += '</' + this.tag + '>';\r\n    }\r\n    return result;\r\n};\r\n\r\nXML_Element.prototype.escape = function (string, ignoreQuotes) {\r\n    var src = isNil(string) ? '' : string.toString(),\r\n        result = '',\r\n        i,\r\n        ch;\r\n    for (i = 0; i < src.length; i += 1) {\r\n        ch = src[i];\r\n        switch (ch) {\r\n        case '\\'':\r\n            result += '&apos;';\r\n            break;\r\n        case '\\\"':\r\n            result += ignoreQuotes ? ch : '&quot;';\r\n            break;\r\n        case '<':\r\n            result += '&lt;';\r\n            break;\r\n        case '>':\r\n            result += '&gt;';\r\n            break;\r\n        case '&':\r\n            result += '&amp;';\r\n            break;\r\n        case '\\n': // escape CR b/c of export to URL feature\r\n            result += '&#xD;';\r\n            break;\r\n        case '~': // escape tilde b/c it's overloaded in serializer.store()\r\n            result += '&#126;';\r\n            break;\r\n        default:\r\n            result += ch;\r\n        }\r\n    }\r\n    return result;\r\n};\r\n\r\nXML_Element.prototype.unescape = function (string) {\r\n    return string.replace(/&(amp|apos|quot|lt|gt|#xD|#126);/g, function(_, name) {\r\n        switch (name) {\r\n            case 'amp': return '&';\r\n            case 'apos': return '\\'';\r\n            case 'quot': return '\"';\r\n            case 'lt': return '<';\r\n            case 'gt': return '>';\r\n            case '#xD': return '\\n';\r\n            case '#126': return '~';\r\n            default: console.warn('unreachable');\r\n        }\r\n    });\r\n};\r\n\r\n// XML_Element parsing:\r\n\r\nXML_Element.prototype.parseString = function (string) {\r\n    var stream = new ReadStream(string);\r\n    stream.upTo('<');\r\n    stream.skip();\r\n    this.parseStream(stream);\r\n};\r\n\r\nXML_Element.prototype.parseStream = function (stream) {\r\n    var key, value, ch, child;\r\n\r\n    // tag:\r\n    this.tag = stream.word();\r\n    stream.skipSpace();\r\n\r\n    // attributes:\r\n    ch = stream.peek();\r\n    while (ch !== '>' && ch !== '/') {\r\n        key = stream.word();\r\n        stream.skipSpace();\r\n        if (stream.next() !== '=') {\r\n            throw new Error('Expected \"=\" after attribute name');\r\n        }\r\n        stream.skipSpace();\r\n        ch = stream.next();\r\n        if (ch !== '\"' && ch !== \"'\") {\r\n            throw new Error('Expected single- or double-quoted attribute value');\r\n        }\r\n        value = stream.upTo(ch);\r\n        stream.skip(1);\r\n        stream.skipSpace();\r\n        this.attributes[key] = this.unescape(value);\r\n        ch = stream.peek();\r\n    }\r\n\r\n    // empty tag:\r\n    if (ch === '/') {\r\n        stream.skip();\r\n        if (stream.next() !== '>') {\r\n            throw new Error('Expected \">\" after \"/\" in empty tag');\r\n        }\r\n        return;\r\n    }\r\n    if (stream.next() !== '>') {\r\n        throw new Error('Expected \">\" after tag name and attributes');\r\n    }\r\n\r\n    // contents and children\r\n    while (!stream.atEnd()) {\r\n        ch = stream.next();\r\n        if (ch === '<') {\r\n            if (stream.peek() === '/') { // closing tag\r\n                stream.skip();\r\n                if (stream.word() !== this.tag) {\r\n                    throw new Error('Expected to close ' + this.tag);\r\n                }\r\n                stream.upTo('>');\r\n                stream.skip();\r\n                this.contents = this.unescape(this.contents);\r\n                return;\r\n            }\r\n            child = new XML_Element(null, null, this);\r\n            child.parseStream(stream);\r\n        } else {\r\n            this.contents += ch;\r\n        }\r\n    }\r\n};\r\n//fin de xml\r\n/*\r\n\r\n    store.js\r\n\r\n    saving and loading Snap! projects\r\n\r\n    written by Jens Mönig\r\n    jens@moenig.org\r\n\r\n    Copyright (C) 2017 by Jens Mönig\r\n\r\n    This file is part of Snap!.\r\n\r\n    Snap! is free software: you can redistribute it and/or modify\r\n    it under the terms of the GNU Affero General Public License as\r\n    published by the Free Software Foundation, either version 3 of\r\n    the License, or (at your option) any later version.\r\n\r\n    This program is distributed in the hope that it will be useful,\r\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n    GNU Affero General Public License for more details.\r\n\r\n    You should have received a copy of the GNU Affero General Public License\r\n    along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n\r\n\r\n    prerequisites:\r\n    --------------\r\n    needs morphic.js, xml.js, and most of Snap!'s other modules\r\n\r\n\r\n    hierarchy\r\n    ---------\r\n    the following tree lists all constructors hierarchically,\r\n    indentation indicating inheritance. Refer to this list to get a\r\n    contextual overview:\r\n\r\n        XML_Serializer\r\n            SnapSerializer\r\n\r\n\r\n    credits\r\n    -------\r\n    Nathan Dinsmore contributed to the design and implemented a first\r\n    working version of a complete XMLSerializer. I have taken much of the\r\n    overall design and many of the functions and methods in this file from\r\n    Nathan's fine original prototype.\r\n\r\n*/\r\n\r\n/*global modules, XML_Element, VariableFrame, StageMorph, SpriteMorph,\r\nWatcherMorph, Point, CustomBlockDefinition, Context, ReporterBlockMorph,\r\nCommandBlockMorph, detect, CustomCommandBlockMorph, CustomReporterBlockMorph,\r\nColor, List, newCanvas, Costume, Sound, Audio, IDE_Morph, ScriptsMorph,\r\nBlockMorph, ArgMorph, InputSlotMorph, TemplateSlotMorph, CommandSlotMorph,\r\nFunctionSlotMorph, MultiArgMorph, ColorSlotMorph, nop, CommentMorph, isNil,\r\nlocalize, sizeOf, ArgLabelMorph, SVG_Costume, MorphicPreferences,\r\nSyntaxElementMorph, Variable, isSnapObject, console, BooleanSlotMorph,\r\nnormalizeCanvas, contains*/\r\n\r\n// Global stuff ////////////////////////////////////////////////////////\r\n\r\nmodules.store = '2017-December-01';\r\n\r\n\r\n// XML_Serializer ///////////////////////////////////////////////////////\r\n/*\r\n    I am an abstract protype for my heirs.\r\n\r\n    I manage object identities and keep track of circular data structures.\r\n    Objects are \"touched\" and a property named \"serializationID\" is added\r\n    to each, representing an index integer in the list, starting with 1.\r\n*/\r\n\r\n// XML_Serializer instance creation:\r\n\r\nfunction XML_Serializer() {\r\n    this.contents = [];\r\n    this.media = [];\r\n    this.isCollectingMedia = false;\r\n    this.isExportingBlocksLibrary = false;\r\n}\r\n\r\n// XML_Serializer preferences settings:\r\n\r\nXML_Serializer.prototype.idProperty = 'serializationID';\r\nXML_Serializer.prototype.mediaIdProperty = 'serializationMediaID';\r\nXML_Serializer.prototype.mediaDetectionProperty = 'isMedia';\r\nXML_Serializer.prototype.version = 1; // increment on structural change\r\n\r\n// XML_Serializer accessing:\r\n\r\nXML_Serializer.prototype.serialize = function (object, forBlocksLibrary) {\r\n    // public: answer an XML string representing the given object\r\n    var xml;\r\n    this.flush(); // in case an error occurred in an earlier attempt\r\n    this.flushMedia();\r\n    this.isExportingBlocksLibrary = forBlocksLibrary;\r\n    xml = this.store(object);\r\n    this.flush();\r\n    return xml;\r\n};\r\n\r\nXML_Serializer.prototype.store = function (object, mediaID) {\r\n    // private - mediaID is optional\r\n    if (isNil(object) || !object.toXML) {\r\n        // unsupported type, to be checked before calling store()\r\n        // when debugging, be sure to throw an error at this point\r\n        return '';\r\n    }\r\n    if (this.isCollectingMedia && object[this.mediaDetectionProperty]) {\r\n        this.addMedia(object, mediaID);\r\n        return this.format(\r\n            '<ref mediaID=\"@\"></ref>',\r\n            object[this.mediaIdProperty]\r\n        );\r\n    }\r\n    if (object[this.idProperty]) {\r\n        return this.format('<ref id=\"@\"></ref>', object[this.idProperty]);\r\n    }\r\n    this.add(object);\r\n    return object.toXML(this, mediaID).replace(\r\n        '~',\r\n        this.format('id=\"@\"', object[this.idProperty])\r\n    );\r\n};\r\n\r\nXML_Serializer.prototype.mediaXML = function () {\r\n    // answer a project's collected media module as XML\r\n    var xml = '<media>',\r\n        myself = this;\r\n    this.media.forEach(function (object) {\r\n        var str = object.toXML(myself).replace(\r\n            '~',\r\n            myself.format('mediaID=\"@\"', object[myself.mediaIdProperty])\r\n        );\r\n        xml = xml + str;\r\n    });\r\n    return xml + '</media>';\r\n};\r\n\r\nXML_Serializer.prototype.add = function (object) {\r\n    // private - mark the object with a serializationID property and add it\r\n    if (object[this.idProperty]) { // already present\r\n        return -1;\r\n    }\r\n    this.contents.push(object);\r\n    object[this.idProperty] = this.contents.length;\r\n    return this.contents.length;\r\n};\r\n\r\nXML_Serializer.prototype.addMedia = function (object, mediaID) {\r\n    // private - mark the object with a serializationMediaID property\r\n    // and add it to media\r\n    // if a mediaID is given, take it, otherwise generate one\r\n    if (object[this.mediaIdProperty]) { // already present\r\n        return -1;\r\n    }\r\n    this.media.push(object);\r\n    if (mediaID) {\r\n        object[this.mediaIdProperty] = mediaID + '_' + object.name;\r\n    } else {\r\n        object[this.mediaIdProperty] = this.media.length;\r\n    }\r\n    return this.media.length;\r\n};\r\n\r\nXML_Serializer.prototype.at = function (integer) {\r\n    // private\r\n    return this.contents[integer - 1];\r\n};\r\n\r\nXML_Serializer.prototype.flush = function () {\r\n    // private - free all objects and empty my contents\r\n    var myself = this;\r\n    this.contents.forEach(function (obj) {\r\n        delete obj[myself.idProperty];\r\n    });\r\n    this.contents = [];\r\n};\r\n\r\nXML_Serializer.prototype.flushMedia = function () {\r\n    // private - free all media objects and empty my media\r\n    var myself = this;\r\n    if (this.media instanceof Array) {\r\n        this.media.forEach(function (obj) {\r\n            delete obj[myself.mediaIdProperty];\r\n        });\r\n    }\r\n    this.media = [];\r\n    this.isExportingBlocksLibrary = false;\r\n};\r\n\r\n// XML_Serializer formatting:\r\n\r\nXML_Serializer.prototype.escape = XML_Element.prototype.escape;\r\nXML_Serializer.prototype.unescape = XML_Element.prototype.unescape;\r\n\r\n\r\nXML_Serializer.prototype.format = function (string) {\r\n    // private\r\n    var myself = this,\r\n        i = -1,\r\n        values = arguments,\r\n        value;\r\n\r\n    return string.replace(/[@$%]([\\d]+)?/g, function (spec, index) {\r\n        index = parseInt(index, 10);\r\n\r\n        if (isNaN(index)) {\r\n            i += 1;\r\n            value = values[i + 1];\r\n        } else {\r\n            value = values[index + 1];\r\n        }\r\n        // original line of code - now frowned upon by JSLint:\r\n        // value = values[(isNaN(index) ? (i += 1) : index) + 1];\r\n\r\n        return spec === '@' ?\r\n                myself.escape(value)\r\n                    : spec === '$' ?\r\n                        myself.escape(value, true)\r\n                            : value;\r\n    });\r\n};\r\n\r\n// XML_Serializer loading:\r\n\r\nXML_Serializer.prototype.load = function (xmlString) {\r\n    // public - answer a new object which is represented by the given\r\n    // XML string.\r\n    nop(xmlString);\r\n    throw new Error(\r\n        'loading should be implemented in heir of XML_Serializer'\r\n    );\r\n};\r\n\r\nXML_Serializer.prototype.parse = function (xmlString) {\r\n    // private - answer an XML_Element representing the given XML String\r\n    var element = new XML_Element();\r\n    element.parseString(xmlString);\r\n    return element;\r\n};\r\n\r\n// SnapSerializer ////////////////////////////////////////////////////////////\r\n\r\nvar SnapSerializer;\r\n\r\n// SnapSerializer inherits from XML_Serializer:\r\n\r\nSnapSerializer.prototype = new XML_Serializer();\r\nSnapSerializer.prototype.constructor = SnapSerializer;\r\nSnapSerializer.uber = XML_Serializer.prototype;\r\n\r\n// SnapSerializer constants:\r\n\r\nSnapSerializer.prototype.app = 'Snap! 4.1, http://snap.berkeley.edu';\r\n\r\nSnapSerializer.prototype.thumbnailSize = new Point(160, 120);\r\n\r\nSnapSerializer.prototype.watcherLabels = {\r\n    xPosition: 'x position',\r\n    yPosition: 'y position',\r\n    direction: 'direction',\r\n    getScale: 'size',\r\n    getTempo: 'tempo',\r\n    getLastAnswer: 'answer',\r\n    getLastMessage: 'message',\r\n    getTimer: 'timer',\r\n    getCostumeIdx: 'costume #',\r\n    reportMouseX: 'mouse x',\r\n    reportMouseY: 'mouse y',\r\n    reportThreadCount: 'processes'\r\n};\r\n\r\n// SnapSerializer instance creation:\r\n\r\nfunction SnapSerializer() {\r\n    this.init();\r\n}\r\n\r\n// SnapSerializer initialization:\r\n\r\nSnapSerializer.prototype.init = function () {\r\n    this.project = {};\r\n    this.objects = {};\r\n    this.mediaDict = {};\r\n};\r\n\r\n// SnapSerializer saving:\r\n\r\nXML_Serializer.prototype.mediaXML = function (name) {\r\n    // under construction....\r\n    var xml = '<media name=\"' +\r\n            (name || 'untitled') +\r\n            '\" app=\"' + this.app +\r\n            '\" version=\"' +\r\n            this.version +\r\n            '\">',\r\n        myself = this;\r\n    this.media.forEach(function (object) {\r\n        var str = object.toXML(myself).replace(\r\n            '~',\r\n            myself.format('mediaID=\"@\"', object[myself.mediaIdProperty])\r\n        );\r\n        xml = xml + str;\r\n    });\r\n    return xml + '</media>';\r\n};\r\n\r\n// SnapSerializer loading:\r\n\r\nSnapSerializer.prototype.load = function (xmlString, ide) {\r\n    // public - answer a new Project represented by the given XML String\r\n    return this.loadProjectModel(this.parse(xmlString), ide);\r\n};\r\n\r\nSnapSerializer.prototype.loadProjectModel = function (xmlNode, ide) {\r\n    // public - answer a new Project represented by the given XML top node\r\n    // show a warning if the origin apps differ\r\n\r\n    var appInfo = xmlNode.attributes.app,\r\n        app = appInfo ? appInfo.split(' ')[0] : null;\r\n\r\n    if (ide && app && app !== this.app.split(' ')[0]) {\r\n        ide.inform(\r\n            app + ' Project',\r\n            'This project has been created by a different app:\\n\\n' +\r\n                app +\r\n                '\\n\\nand may be incompatible or fail to load here.'\r\n        );\r\n    }\r\n    return this.rawLoadProjectModel(xmlNode);\r\n};\r\n\r\nSnapSerializer.prototype.rawLoadProjectModel = function (xmlNode) {\r\n    // private\r\n    var myself = this,\r\n        project = {sprites: {}},\r\n        model,\r\n        nameID;\r\n\r\n    this.project = project;\r\n\r\n    model = {project: xmlNode };\r\n    if (+xmlNode.attributes.version > this.version) {\r\n        throw 'Project uses newer version of Serializer';\r\n    }\r\n\r\n    /* Project Info */\r\n\r\n    this.objects = {};\r\n    project.name = model.project.attributes.name;\r\n    if (!project.name) {\r\n        nameID = 1;\r\n        while (\r\n            Object.prototype.hasOwnProperty.call(\r\n                localStorage,\r\n                '-snap-project-Untitled ' + nameID\r\n            )\r\n        ) {\r\n            nameID += 1;\r\n        }\r\n        project.name = 'Untitled ' + nameID;\r\n    }\r\n    model.notes = model.project.childNamed('notes');\r\n    if (model.notes) {\r\n        project.notes = model.notes.contents;\r\n    }\r\n    model.globalVariables = model.project.childNamed('variables');\r\n    project.globalVariables = new VariableFrame();\r\n\r\n    /* Stage */\r\n\r\n    model.stage = model.project.require('stage');\r\n    StageMorph.prototype.frameRate = 0;\r\n    project.stage = new StageMorph(project.globalVariables);\r\n    if (Object.prototype.hasOwnProperty.call(\r\n            model.stage.attributes,\r\n            'id'\r\n        )) {\r\n        this.objects[model.stage.attributes.id] = project.stage;\r\n    }\r\n    if (model.stage.attributes.name) {\r\n        project.stage.name = model.stage.attributes.name;\r\n    }\r\n    if (model.stage.attributes.scheduled === 'true') {\r\n        project.stage.fps = 30;\r\n        StageMorph.prototype.frameRate = 30;\r\n    }\r\n    model.pentrails = model.stage.childNamed('pentrails');\r\n    if (model.pentrails) {\r\n        project.pentrails = new Image();\r\n        project.pentrails.onload = function () {\r\n            if (project.stage.trailsCanvas) { // work-around a bug in FF\r\n                normalizeCanvas(project.stage.trailsCanvas);\r\n                var context = project.stage.trailsCanvas.getContext('2d');\r\n                context.drawImage(project.pentrails, 0, 0);\r\n                project.stage.changed();\r\n            }\r\n        };\r\n        project.pentrails.src = model.pentrails.contents;\r\n    }\r\n    project.stage.setTempo(model.stage.attributes.tempo);\r\n    StageMorph.prototype.dimensions = new Point(480, 360);\r\n    if (model.stage.attributes.width) {\r\n        StageMorph.prototype.dimensions.x =\r\n            Math.max(+model.stage.attributes.width, 240);\r\n    }\r\n    if (model.stage.attributes.height) {\r\n        StageMorph.prototype.dimensions.y =\r\n            Math.max(+model.stage.attributes.height, 180);\r\n    }\r\n    project.stage.setExtent(StageMorph.prototype.dimensions);\r\n    SpriteMorph.prototype.useFlatLineEnds =\r\n        model.stage.attributes.lines === 'flat';\r\n    BooleanSlotMorph.prototype.isTernary =\r\n        model.stage.attributes.ternary !== 'false';\r\n    project.stage.isThreadSafe =\r\n        model.stage.attributes.threadsafe === 'true';\r\n    StageMorph.prototype.enableCodeMapping =\r\n        model.stage.attributes.codify === 'true';\r\n    StageMorph.prototype.enableInheritance =\r\n        model.stage.attributes.inheritance !== 'false';\r\n    StageMorph.prototype.enableSublistIDs =\r\n        model.stage.attributes.sublistIDs === 'true';\r\n\r\n    model.hiddenPrimitives = model.project.childNamed('hidden');\r\n    if (model.hiddenPrimitives) {\r\n        model.hiddenPrimitives.contents.split(' ').forEach(\r\n            function (sel) {\r\n                if (sel) {\r\n                    StageMorph.prototype.hiddenPrimitives[sel] = true;\r\n                }\r\n            }\r\n        );\r\n    }\r\n\r\n    model.codeHeaders = model.project.childNamed('headers');\r\n    if (model.codeHeaders) {\r\n        model.codeHeaders.children.forEach(function (xml) {\r\n            StageMorph.prototype.codeHeaders[xml.tag] = xml.contents;\r\n        });\r\n    }\r\n\r\n    model.codeMappings = model.project.childNamed('code');\r\n    if (model.codeMappings) {\r\n        model.codeMappings.children.forEach(function (xml) {\r\n            StageMorph.prototype.codeMappings[xml.tag] = xml.contents;\r\n        });\r\n    }\r\n\r\n    model.globalBlocks = model.project.childNamed('blocks');\r\n    if (model.globalBlocks) {\r\n        this.loadCustomBlocks(project.stage, model.globalBlocks, true);\r\n        this.populateCustomBlocks(\r\n            project.stage,\r\n            model.globalBlocks,\r\n            true\r\n        );\r\n    }\r\n    this.loadObject(project.stage, model.stage);\r\n\r\n    /* Sprites */\r\n\r\n    model.sprites = model.stage.require('sprites');\r\n    project.sprites[project.stage.name] = project.stage;\r\n\r\n    model.sprites.childrenNamed('sprite').forEach(function (model) {\r\n        myself.loadValue(model);\r\n    });\r\n\r\n    // restore inheritance and nesting associations\r\n    myself.project.stage.children.forEach(function (sprite) {\r\n        var exemplar, anchor;\r\n        if (sprite.inheritanceInfo) { // only sprites can inherit\r\n            exemplar = myself.project.sprites[\r\n                sprite.inheritanceInfo.exemplar\r\n            ];\r\n            if (exemplar) {\r\n                sprite.setExemplar(exemplar);\r\n            }\r\n            sprite.inheritedAttributes = sprite.inheritanceInfo.delegated || [];\r\n        }\r\n        if (sprite.nestingInfo) { // only sprites may have nesting info\r\n            anchor = myself.project.sprites[sprite.nestingInfo.anchor];\r\n            if (anchor) {\r\n                anchor.attachPart(sprite);\r\n            }\r\n            sprite.rotatesWithAnchor = (sprite.nestingInfo.synch === 'true');\r\n        }\r\n    });\r\n    myself.project.stage.children.forEach(function (sprite) {\r\n        var costume;\r\n        if (sprite.nestingInfo) { // only sprites may have nesting info\r\n            sprite.nestingScale = +(sprite.nestingInfo.scale || sprite.scale);\r\n            delete sprite.nestingInfo;\r\n        }\r\n        ['scripts', 'costumes', 'sounds'].forEach(function (att) {\r\n            if (sprite.inheritsAttribute(att)) {\r\n                sprite.refreshInheritedAttribute(att);\r\n            }\r\n        });\r\n        if (sprite.inheritsAttribute('costumes')) {\r\n            costume = sprite.costumes.asArray()[\r\n                sprite.inheritanceInfo.costumeNumber - 1\r\n            ];\r\n            if (costume) {\r\n                if (costume.loaded) {\r\n                    sprite.wearCostume(costume, true);\r\n                } else {\r\n                    costume.loaded = function () {\r\n                        sprite.wearCostume(costume, true);\r\n                        this.loaded = true;\r\n                    };\r\n                }\r\n            }\r\n        }\r\n        delete sprite.inheritanceInfo;\r\n    });\r\n\r\n    /* Global Variables */\r\n\r\n    if (model.globalVariables) {\r\n        this.loadVariables(\r\n            project.globalVariables,\r\n            model.globalVariables\r\n        );\r\n    }\r\n\r\n    this.objects = {};\r\n\r\n    /* Watchers */\r\n\r\n    model.sprites.childrenNamed('watcher').forEach(function (model) {\r\n        var watcher, color, target, hidden, extX, extY;\r\n\r\n        color = myself.loadColor(model.attributes.color);\r\n        target = Object.prototype.hasOwnProperty.call(\r\n            model.attributes,\r\n            'scope'\r\n        ) ? project.sprites[model.attributes.scope] : null;\r\n\r\n        // determine whether the watcher is hidden, slightly\r\n        // complicated to retain backward compatibility\r\n        // with former tag format: hidden=\"hidden\"\r\n        // now it's: hidden=\"true\"\r\n        hidden = Object.prototype.hasOwnProperty.call(\r\n            model.attributes,\r\n            'hidden'\r\n        ) && (model.attributes.hidden !== 'false');\r\n\r\n        if (Object.prototype.hasOwnProperty.call(\r\n                model.attributes,\r\n                'var'\r\n            )) {\r\n            watcher = new WatcherMorph(\r\n                model.attributes['var'],\r\n                color,\r\n                isNil(target) ? project.globalVariables\r\n                    : target.variables,\r\n                model.attributes['var'],\r\n                hidden\r\n            );\r\n        } else {\r\n            watcher = new WatcherMorph(\r\n                localize(myself.watcherLabels[model.attributes.s]),\r\n                color,\r\n                target,\r\n                model.attributes.s,\r\n                hidden\r\n            );\r\n        }\r\n        watcher.setStyle(model.attributes.style || 'normal');\r\n        if (watcher.style === 'slider') {\r\n            watcher.setSliderMin(model.attributes.min || '1', true);\r\n            watcher.setSliderMax(model.attributes.max || '100', true);\r\n        }\r\n        watcher.setPosition(\r\n            project.stage.topLeft().add(new Point(\r\n                +model.attributes.x || 0,\r\n                +model.attributes.y || 0\r\n            ))\r\n        );\r\n        project.stage.add(watcher);\r\n        watcher.onNextStep = function () {this.currentValue = null; };\r\n\r\n        // set watcher's contentsMorph's extent if it is showing a list and\r\n        // its monitor dimensions are given\r\n        if (watcher.currentValue instanceof List) {\r\n            extX = model.attributes.extX;\r\n            if (extX) {\r\n                watcher.cellMorph.contentsMorph.setWidth(+extX);\r\n            }\r\n            extY = model.attributes.extY;\r\n            if (extY) {\r\n                watcher.cellMorph.contentsMorph.setHeight(+extY);\r\n            }\r\n            // adjust my contentsMorph's handle position\r\n            watcher.cellMorph.contentsMorph.handle.drawNew();\r\n        }\r\n    });\r\n\r\n    // clear sprites' inherited methods caches, if any\r\n    myself.project.stage.children.forEach(function (sprite) {\r\n        sprite.inheritedMethodsCache = [];\r\n    });\r\n\r\n    this.objects = {};\r\n    return project;\r\n};\r\n\r\nSnapSerializer.prototype.loadBlocks = function (xmlString, targetStage) {\r\n    // public - answer a new Array of custom block definitions\r\n    // represented by the given XML String\r\n    var stage = new StageMorph(),\r\n        model;\r\n\r\n    this.project = {\r\n        stage: stage,\r\n        sprites: {},\r\n        targetStage: targetStage // for secondary custom block def look-up\r\n    };\r\n    model = this.parse(xmlString);\r\n    if (+model.attributes.version > this.version) {\r\n        throw 'Module uses newer version of Serializer';\r\n    }\r\n    this.loadCustomBlocks(stage, model, true);\r\n    this.populateCustomBlocks(\r\n        stage,\r\n        model,\r\n        true\r\n    );\r\n    this.objects = {};\r\n    stage.globalBlocks.forEach(function (def) {\r\n        def.receiver = null;\r\n    });\r\n    this.objects = {};\r\n    this.project = {};\r\n    this.mediaDict = {};\r\n    return stage.globalBlocks;\r\n};\r\n\r\nSnapSerializer.prototype.loadSprites = function (xmlString, ide) {\r\n    // public - import a set of sprites represented by xmlString\r\n    // into the current project of the ide\r\n    var model, project, myself = this;\r\n\r\n    project = this.project = {\r\n        globalVariables: ide.globalVariables,\r\n        stage: ide.stage,\r\n        sprites: {}\r\n    };\r\n    project.sprites[project.stage.name] = project.stage;\r\n\r\n    model = this.parse(xmlString);\r\n    if (+model.attributes.version > this.version) {\r\n        throw 'Module uses newer version of Serializer';\r\n    }\r\n    model.childrenNamed('sprite').forEach(function (model) {\r\n        var sprite  = new SpriteMorph(project.globalVariables);\r\n\r\n        if (model.attributes.id) {\r\n            myself.objects[model.attributes.id] = sprite;\r\n        }\r\n        if (model.attributes.name) {\r\n            sprite.name = ide.newSpriteName(model.attributes.name);\r\n            project.sprites[sprite.name] = sprite;\r\n        }\r\n        if (model.attributes.color) {\r\n            sprite.color = myself.loadColor(model.attributes.color);\r\n        }\r\n        if (model.attributes.pen) {\r\n            sprite.penPoint = model.attributes.pen;\r\n        }\r\n        project.stage.add(sprite);\r\n        ide.sprites.add(sprite);\r\n        sprite.scale = parseFloat(model.attributes.scale || '1');\r\n        sprite.rotationStyle = parseFloat(\r\n            model.attributes.rotation || '1'\r\n        );\r\n        sprite.isDraggable = model.attributes.draggable !== 'false';\r\n        sprite.isVisible = model.attributes.hidden !== 'true';\r\n        sprite.heading = parseFloat(model.attributes.heading) || 0;\r\n        sprite.drawNew();\r\n        sprite.gotoXY(+model.attributes.x || 0, +model.attributes.y || 0);\r\n        myself.loadObject(sprite, model);\r\n    });\r\n\r\n    // restore inheritance and nesting associations\r\n    project.stage.children.forEach(function (sprite) {\r\n        var exemplar, anchor;\r\n        if (sprite.inheritanceInfo) { // only sprites can inherit\r\n            exemplar = project.sprites[\r\n                sprite.inheritanceInfo.exemplar\r\n            ];\r\n            if (exemplar) {\r\n                sprite.setExemplar(exemplar);\r\n            }\r\n        }\r\n        if (sprite.nestingInfo) { // only sprites may have nesting info\r\n            anchor = project.sprites[sprite.nestingInfo.anchor];\r\n            if (anchor) {\r\n                anchor.attachPart(sprite);\r\n            }\r\n            sprite.rotatesWithAnchor = (sprite.nestingInfo.synch === 'true');\r\n        }\r\n    });\r\n    project.stage.children.forEach(function (sprite) {\r\n        delete sprite.inheritanceInfo;\r\n        if (sprite.nestingInfo) { // only sprites may have nesting info\r\n            sprite.nestingScale = +(sprite.nestingInfo.scale || sprite.scale);\r\n            delete sprite.nestingInfo;\r\n        }\r\n    });\r\n\r\n    this.objects = {};\r\n    this.project = {};\r\n    this.mediaDict = {};\r\n\r\n//    ide.stage.drawNew();\r\n    ide.createCorral();\r\n    ide.fixLayout();\r\n};\r\n\r\nSnapSerializer.prototype.loadMedia = function (xmlString) {\r\n    // public - load the media represented by xmlString into memory\r\n    // to be referenced by a media-less project later\r\n    return this.loadMediaModel(this.parse(xmlString));\r\n};\r\n\r\nSnapSerializer.prototype.loadMediaModel = function (xmlNode) {\r\n    // public - load the media represented by xmlNode into memory\r\n    // to be referenced by a media-less project later\r\n    var myself = this,\r\n        model = xmlNode;\r\n    this.mediaDict = {};\r\n    if (+model.attributes.version > this.version) {\r\n        throw 'Module uses newer version of Serializer';\r\n    }\r\n    model.children.forEach(function (model) {\r\n        myself.loadValue(model);\r\n    });\r\n    return this.mediaDict;\r\n};\r\n\r\nSnapSerializer.prototype.loadObject = function (object, model) {\r\n    // private\r\n    var blocks = model.require('blocks'),\r\n        dispatches = model.childNamed('dispatches');\r\n\r\n    // load the instrument\r\n    if (model.attributes.instrument) {\r\n        object.instrument = +model.attributes.instrument;\r\n    }\r\n\r\n    this.loadInheritanceInfo(object, model);\r\n    this.loadNestingInfo(object, model);\r\n\r\n    // load costumes unless they're inherited\r\n    if (!(object.inheritanceInfo &&\r\n            (object.inheritanceInfo.delegated instanceof Array) &&\r\n            contains(object.inheritanceInfo.delegated, 'costumes'))) {\r\n        this.loadCostumes(object, model);\r\n    }\r\n\r\n    // load sounds unless they're inherited\r\n    if (!(object.inheritanceInfo &&\r\n            (object.inheritanceInfo.delegated instanceof Array) &&\r\n            contains(object.inheritanceInfo.delegated, 'sounds'))) {\r\n        this.loadSounds(object, model);\r\n    }\r\n\r\n    this.loadCustomBlocks(object, blocks);\r\n    if (dispatches) {\r\n        this.loadCustomBlocks(object, dispatches, false, true);\r\n    }\r\n    this.populateCustomBlocks(object, blocks);\r\n    this.loadVariables(object.variables, model.require('variables'), object);\r\n\r\n    // load scripts unless they're inherited\r\n    if (!(object.inheritanceInfo &&\r\n            (object.inheritanceInfo.delegated instanceof Array) &&\r\n            contains(object.inheritanceInfo.delegated, 'scripts'))) {\r\n        this.loadScripts(object, object.scripts, model.require('scripts'));\r\n    }\r\n\r\n    // note: the dispatches cache isn't cleared until after\r\n    // *all* objects are loaded\r\n};\r\n\r\nSnapSerializer.prototype.loadInheritanceInfo = function (object, model) {\r\n    // private\r\n    var info = model.childNamed('inherit'),\r\n        delegated;\r\n    if (info) {\r\n        object.inheritanceInfo = info.attributes;\r\n        delegated = info.childNamed('list');\r\n        if (delegated) {\r\n            object.inheritanceInfo.delegated =\r\n                this.loadValue(delegated).asArray();\r\n        }\r\n        object.inheritanceInfo.costumeNumber = model.attributes.costume;\r\n    }\r\n};\r\n\r\nSnapSerializer.prototype.loadNestingInfo = function (object, model) {\r\n    // private\r\n    var info = model.childNamed('nest');\r\n    if (info) {\r\n        object.nestingInfo = info.attributes;\r\n    }\r\n};\r\n\r\nSnapSerializer.prototype.loadCostumes = function (object, model) {\r\n    // private\r\n    var costumes = model.childNamed('costumes'),\r\n        costume;\r\n    if (costumes) {\r\n        object.costumes = this.loadValue(costumes.require('list'));\r\n        object.costumes.type = 'costume';\r\n    }\r\n    if (Object.prototype.hasOwnProperty.call(\r\n            model.attributes,\r\n            'costume'\r\n        )) {\r\n        costume = object.costumes.asArray()[model.attributes.costume - 1];\r\n        if (costume) {\r\n            if (costume.loaded) {\r\n                object.wearCostume(costume, true);\r\n            } else {\r\n                costume.loaded = function () {\r\n                    object.wearCostume(costume, true);\r\n                    this.loaded = true;\r\n                };\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nSnapSerializer.prototype.loadSounds = function (object, model) {\r\n    // private\r\n    var sounds = model.childNamed('sounds');\r\n    if (sounds) {\r\n        object.sounds = this.loadValue(sounds.require('list'));\r\n        object.sounds.type = 'sound';\r\n    }\r\n};\r\n\r\nSnapSerializer.prototype.loadVariables = function (varFrame, element, object) {\r\n    // private\r\n    var myself = this;\r\n\r\n    element.children.forEach(function (child) {\r\n        var v, value;\r\n        if (child.tag !== 'variable') {\r\n            return;\r\n        }\r\n        value = child.children[0];\r\n        v = new Variable();\r\n        v.isTransient = (child.attributes.transient === 'true');\r\n        v.value = (v.isTransient || !value ) ? 0\r\n                : myself.loadValue(value, object);\r\n        varFrame.vars[child.attributes.name] = v;\r\n    });\r\n};\r\n\r\nSnapSerializer.prototype.loadCustomBlocks = function (\r\n    object,\r\n    element,\r\n    isGlobal,\r\n    isDispatch\r\n) {\r\n    // private\r\n    var myself = this;\r\n    element.children.forEach(function (child) {\r\n        var definition, names, inputs, vars, header, code, trans, comment, i;\r\n        if (child.tag !== 'block-definition') {\r\n            return;\r\n        }\r\n        definition = new CustomBlockDefinition(\r\n            child.attributes.s || '',\r\n            object\r\n        );\r\n        definition.category = child.attributes.category || 'other';\r\n        definition.type = child.attributes.type || 'command';\r\n        definition.isGlobal = (isGlobal === true);\r\n        if (isDispatch) {\r\n            object.inheritedMethodsCache.push(definition);\r\n        } else {\r\n            if (definition.isGlobal) {\r\n                object.globalBlocks.push(definition);\r\n            } else {\r\n                object.customBlocks.push(definition);\r\n            }\r\n        }\r\n\r\n        names = definition.parseSpec(definition.spec).filter(\r\n            function (str) {\r\n                return str.charAt(0) === '%' && str.length > 1;\r\n            }\r\n        ).map(function (str) {\r\n            return str.substr(1);\r\n        });\r\n\r\n        definition.names = names;\r\n        inputs = child.childNamed('inputs');\r\n        if (inputs) {\r\n            i = -1;\r\n            inputs.children.forEach(function (child) {\r\n                var options = child.childNamed('options');\r\n                if (child.tag !== 'input') {\r\n                    return;\r\n                }\r\n                i += 1;\r\n                definition.declarations[names[i]] = [\r\n                    child.attributes.type,\r\n                    contains(['%b', '%boolUE'], child.attributes.type) ?\r\n                        (child.contents ? child.contents === 'true' : null)\r\n                            : child.contents,\r\n                    options ? options.contents : undefined,\r\n                    child.attributes.readonly === 'true'\r\n                ];\r\n            });\r\n        }\r\n\r\n        vars = child.childNamed('variables');\r\n        if (vars) {\r\n            definition.variableNames = myself.loadValue(\r\n                vars.require('list')\r\n            ).asArray();\r\n        }\r\n\r\n        header = child.childNamed('header');\r\n        if (header) {\r\n            definition.codeHeader = header.contents;\r\n        }\r\n\r\n        code = child.childNamed('code');\r\n        if (code) {\r\n            definition.codeMapping = code.contents;\r\n        }\r\n\r\n        trans = child.childNamed('translations');\r\n        if (trans) {\r\n            definition.updateTranslations(trans.contents);\r\n        }\r\n\r\n        comment = child.childNamed('comment');\r\n        if (comment) {\r\n            definition.comment = myself.loadComment(comment);\r\n        }\r\n    });\r\n};\r\n\r\nSnapSerializer.prototype.populateCustomBlocks = function (\r\n    object,\r\n    element,\r\n    isGlobal\r\n) {\r\n    // private\r\n    var myself = this;\r\n    element.children.forEach(function (child, index) {\r\n        var definition, script, scripts;\r\n        if (child.tag !== 'block-definition') {\r\n            return;\r\n        }\r\n        definition = isGlobal ? object.globalBlocks[index]\r\n                : object.customBlocks[index];\r\n        script = child.childNamed('script');\r\n        if (script) {\r\n            definition.body = new Context(\r\n                null,\r\n                script ? myself.loadScript(script, object) : null,\r\n                null,\r\n                object\r\n            );\r\n            definition.body.inputs = definition.names.slice(0);\r\n        }\r\n        scripts = child.childNamed('scripts');\r\n        if (scripts) {\r\n            definition.scripts = myself.loadScriptsArray(scripts, object);\r\n        }\r\n\r\n        delete definition.names;\r\n    });\r\n};\r\n\r\nSnapSerializer.prototype.loadScripts = function (object, scripts, model) {\r\n    // private\r\n    var myself = this,\r\n        scale = SyntaxElementMorph.prototype.scale;\r\n    scripts.cachedTexture = IDE_Morph.prototype.scriptsPaneTexture;\r\n    model.children.forEach(function (child) {\r\n        var element;\r\n        if (child.tag === 'script') {\r\n            element = myself.loadScript(child, object);\r\n            if (!element) {\r\n                return;\r\n            }\r\n            element.setPosition(new Point(\r\n                (+child.attributes.x || 0) * scale,\r\n                (+child.attributes.y || 0) * scale\r\n            ).add(scripts.topLeft()));\r\n            scripts.add(element);\r\n            element.fixBlockColor(null, true); // force zebra coloring\r\n            element.allComments().forEach(function (comment) {\r\n                comment.align(element);\r\n            });\r\n        } else if (child.tag === 'comment') {\r\n            element = myself.loadComment(child);\r\n            if (!element) {\r\n                return;\r\n            }\r\n            element.setPosition(new Point(\r\n                (+child.attributes.x || 0) * scale,\r\n                (+child.attributes.y || 0) * scale\r\n            ).add(scripts.topLeft()));\r\n            scripts.add(element);\r\n        }\r\n    });\r\n};\r\n\r\nSnapSerializer.prototype.loadScriptsArray = function (model, object) {\r\n    // private - answer an array containting the model's scripts\r\n    var myself = this,\r\n        scale = SyntaxElementMorph.prototype.scale,\r\n        scripts = [];\r\n    model.children.forEach(function (child) {\r\n        var element;\r\n        if (child.tag === 'script') {\r\n            element = myself.loadScript(child, object);\r\n            if (!element) {\r\n                return;\r\n            }\r\n            element.setPosition(new Point(\r\n                (+child.attributes.x || 0) * scale,\r\n                (+child.attributes.y || 0) * scale\r\n            ));\r\n            scripts.push(element);\r\n            element.fixBlockColor(null, true); // force zebra coloring\r\n        } else if (child.tag === 'comment') {\r\n            element = myself.loadComment(child);\r\n            if (!element) {\r\n                return;\r\n            }\r\n            element.setPosition(new Point(\r\n                (+child.attributes.x || 0) * scale,\r\n                (+child.attributes.y || 0) * scale\r\n            ));\r\n            scripts.push(element);\r\n        }\r\n    });\r\n    return scripts;\r\n};\r\n\r\nSnapSerializer.prototype.loadScript = function (model, object) {\r\n    // private\r\n    var topBlock, block, nextBlock,\r\n        myself = this;\r\n    model.children.forEach(function (child) {\r\n        nextBlock = myself.loadBlock(child, false, object);\r\n        if (!nextBlock) {\r\n            return;\r\n        }\r\n        if (block) {\r\n            if (block.nextBlock && (nextBlock instanceof CommandBlockMorph)) {\r\n                block.nextBlock(nextBlock);\r\n            } else {\r\n                console.log(\r\n                    'SNAP: expecting a command but getting a reporter:\\n' +\r\n                        '  ' + block.blockSpec + '\\n' +\r\n                        '  ' + nextBlock.blockSpec\r\n                );\r\n                return topBlock;\r\n            }\r\n        } else {\r\n            topBlock = nextBlock;\r\n        }\r\n        block = nextBlock;\r\n    });\r\n    return topBlock;\r\n};\r\n\r\nSnapSerializer.prototype.loadComment = function (model) {\r\n    // private\r\n    var comment = new CommentMorph(model.contents),\r\n        scale = SyntaxElementMorph.prototype.scale;\r\n    comment.isCollapsed = (model.attributes.collapsed === 'true');\r\n    comment.setTextWidth(+model.attributes.w * scale);\r\n    return comment;\r\n};\r\n\r\nSnapSerializer.prototype.loadBlock = function (model, isReporter, object) {\r\n    // private\r\n    var block, info, inputs, isGlobal, receiver, migration,\r\n        migrationOffset = 0;\r\n    if (model.tag === 'block') {\r\n        if (Object.prototype.hasOwnProperty.call(\r\n                model.attributes,\r\n                'var'\r\n            )) {\r\n            return SpriteMorph.prototype.variableBlock(\r\n                model.attributes['var']\r\n            );\r\n        }\r\n       \r\n        block = SpriteMorph.prototype.blockForSelector(model.attributes.s);\r\n        migration = SpriteMorph.prototype.blockMigrations[model.attributes.s];\r\n        if (migration) {\r\n            migrationOffset = migration.offset;\r\n        }\r\n    } else if (model.tag === 'custom-block') {\r\n        isGlobal = model.attributes.scope ? false : true;\r\n        receiver = isGlobal ? this.project.stage : object;\r\n        if (isGlobal) {\r\n            info = detect(receiver.globalBlocks, function (block) {\r\n                return block.blockSpec() === model.attributes.s;\r\n            });\r\n            if (!info && this.project.targetStage) { // importing block files\r\n                info = detect(\r\n                    this.project.targetStage.globalBlocks,\r\n                    function (block) {\r\n                        return block.blockSpec() === model.attributes.s;\r\n                    }\r\n                );\r\n            }\r\n        } else {\r\n            // lookup in inherited methods\r\n            info = detect(receiver.customBlocks, function (block) {\r\n                return block.blockSpec() === model.attributes.s;\r\n            }) || (\r\n            \treceiver.inheritedMethodsCache ?\r\n                \tdetect(receiver.inheritedMethodsCache, function (block) {\r\n                    \treturn block.blockSpec() === model.attributes.s;\r\n                \t})\r\n          \t\t: null\r\n          \t);\r\n        }\r\n        if (!info) {\r\n            return this.obsoleteBlock(isReporter);\r\n        }\r\n        block = info.type === 'command' ? new CustomCommandBlockMorph(\r\n            info,\r\n            false\r\n        ) : new CustomReporterBlockMorph(\r\n            info,\r\n            info.type === 'predicate',\r\n            false\r\n        );\r\n    }\r\n    if (block === null) {\r\n        block = this.obsoleteBlock(isReporter);\r\n    }\r\n    block.isDraggable = true;\r\n    inputs = block.inputs();\r\n    model.children.forEach(function (child, i) {\r\n        if (child.tag === 'variables') {\r\n            this.loadVariables(block.variables, child, object);\r\n        } else if (child.tag === 'comment') {\r\n            block.comment = this.loadComment(child);\r\n            block.comment.block = block;\r\n        } else if (child.tag === 'receiver') {\r\n            nop(); // ignore\r\n        } else {\r\n            this.loadInput(child, inputs[i + migrationOffset], block, object);\r\n        }\r\n    }, this);\r\n    block.cachedInputs = null;\r\n    return block;\r\n};\r\n\r\nSnapSerializer.prototype.obsoleteBlock = function (isReporter) {\r\n    // private\r\n    var block = isReporter ? new ReporterBlockMorph()\r\n            : new CommandBlockMorph();\r\n    block.selector = 'errorObsolete';\r\n    block.color = new Color(200, 0, 20);\r\n    block.setSpec('Obsolete!');\r\n    block.isDraggable = true;\r\n    return block;\r\n};\r\n\r\nSnapSerializer.prototype.loadInput = function (model, input, block, object) {\r\n    // private\r\n    var inp, val, myself = this;\r\n    if (isNil(input)) {\r\n        return;\r\n    }\r\n    if (model.tag === 'script') {\r\n        inp = this.loadScript(model, object);\r\n        if (inp) {\r\n            input.add(inp);\r\n            input.fixLayout();\r\n        }\r\n    } else if (model.tag === 'autolambda' && model.children[0]) {\r\n        inp = this.loadBlock(model.children[0], true, object);\r\n        if (inp) {\r\n            input.silentReplaceInput(input.children[0], inp);\r\n            input.fixLayout();\r\n        }\r\n    } else if (model.tag === 'list') {\r\n        while (input.inputs().length > 0) {\r\n            input.removeInput();\r\n        }\r\n        model.children.forEach(function (item) {\r\n            input.addInput();\r\n            myself.loadInput(\r\n                item,\r\n                input.children[input.children.length - 2],\r\n                input,\r\n                object\r\n            );\r\n        });\r\n        input.fixLayout();\r\n    } else if (model.tag === 'block' || model.tag === 'custom-block') {\r\n        block.silentReplaceInput(input, this.loadBlock(model, true, object));\r\n    } else if (model.tag === 'color') {\r\n        input.setColor(this.loadColor(model.contents));\r\n    } else {\r\n        val = this.loadValue(model);\r\n        if (!isNil(val) && !isNil(input) && input.setContents) {\r\n            // checking whether \"input\" is nil should not\r\n            // be necessary, but apparently is after retina support\r\n            // was added.\r\n            input.setContents(this.loadValue(model));\r\n        }\r\n    }\r\n};\r\n\r\nSnapSerializer.prototype.loadValue = function (model, object) {\r\n    // private\r\n    var v, i, lst, items, el, center, image, name, audio, option, bool, origin,\r\n        myself = this;\r\n\r\n    function record() {\r\n        if (Object.prototype.hasOwnProperty.call(\r\n                model.attributes,\r\n                'id'\r\n            )) {\r\n            myself.objects[model.attributes.id] = v;\r\n        }\r\n        if (Object.prototype.hasOwnProperty.call(\r\n                model.attributes,\r\n                'mediaID'\r\n            )) {\r\n            myself.mediaDict[model.attributes.mediaID] = v;\r\n        }\r\n    }\r\n\r\n    switch (model.tag) {\r\n    case 'ref':\r\n        if (Object.prototype.hasOwnProperty.call(model.attributes, 'id')) {\r\n            return this.objects[model.attributes.id];\r\n        }\r\n        if (Object.prototype.hasOwnProperty.call(\r\n                model.attributes,\r\n                'mediaID'\r\n            )) {\r\n            return this.mediaDict[model.attributes.mediaID];\r\n        }\r\n        throw new Error('expecting a reference id');\r\n    case 'l':\r\n        option = model.childNamed('option');\r\n        if (option) {\r\n            return [option.contents];\r\n        }\r\n        bool = model.childNamed('bool');\r\n        if (bool) {\r\n            return this.loadValue(bool);\r\n        }\r\n        return model.contents;\r\n    case 'bool':\r\n        return model.contents === 'true';\r\n    case 'list':\r\n        if (model.attributes.hasOwnProperty('linked')) {\r\n            v = new List();\r\n            v.isLinked = true;\r\n            record();\r\n            lst = v;\r\n            items = model.childrenNamed('item');\r\n            items.forEach(function (item, i) {\r\n                var value = item.children[0];\r\n                if (!value) {\r\n                    v.first = 0;\r\n                } else {\r\n                    v.first = myself.loadValue(value, object);\r\n                }\r\n                var tail = model.childNamed('list') ||\r\n                    model.childNamed('ref');\r\n                if (tail) {\r\n                    v.rest = myself.loadValue(tail, object);\r\n                } else {\r\n                    if (i < (items.length - 1)) {\r\n                        v.rest = new List();\r\n                        v = v.rest;\r\n                        v.isLinked = true;\r\n                    }\r\n                }\r\n            });\r\n            return lst;\r\n        }\r\n        v = new List();\r\n        record();\r\n        v.contents = model.childrenNamed('item').map(function (item) {\r\n            var value = item.children[0];\r\n            if (!value) {\r\n                return 0;\r\n            }\r\n            return myself.loadValue(value, object);\r\n        });\r\n        return v;\r\n    case 'sprite':\r\n        v  = new SpriteMorph(myself.project.globalVariables);\r\n        if (model.attributes.id) {\r\n            myself.objects[model.attributes.id] = v;\r\n        }\r\n        if (model.attributes.name) {\r\n            v.name = model.attributes.name;\r\n            myself.project.sprites[model.attributes.name] = v;\r\n        }\r\n        if (model.attributes.idx) {\r\n            v.idx = +model.attributes.idx;\r\n        }\r\n        if (model.attributes.color) {\r\n            v.color = myself.loadColor(model.attributes.color);\r\n        }\r\n        if (model.attributes.pen) {\r\n            v.penPoint = model.attributes.pen;\r\n        }\r\n        myself.project.stage.add(v);\r\n        v.scale = parseFloat(model.attributes.scale || '1');\r\n        v.rotationStyle = parseFloat(\r\n            model.attributes.rotation || '1'\r\n        );\r\n        v.isDraggable = model.attributes.draggable !== 'false';\r\n        v.isVisible = model.attributes.hidden !== 'true';\r\n        v.heading = parseFloat(model.attributes.heading) || 0;\r\n        v.drawNew();\r\n        v.gotoXY(+model.attributes.x || 0, +model.attributes.y || 0);\r\n        myself.loadObject(v, model);\r\n        return v;\r\n    case 'context':\r\n        v = new Context(null);\r\n        record();\r\n        el = model.childNamed('origin');\r\n        if (el) {\r\n            el = el.childNamed('ref') || el.childNamed('sprite');\r\n            if (el) {\r\n                v.origin = this.loadValue(el);\r\n            }\r\n        }\r\n        el = model.childNamed('receiver');\r\n        if (el) {\r\n            el = el.childNamed('ref') || el.childNamed('sprite');\r\n            if (el) {\r\n                v.receiver = this.loadValue(el);\r\n            }\r\n        }\r\n        origin = v.origin || v.receiver || object; // for local blocks look up\r\n        el = model.childNamed('script');\r\n        if (el) {\r\n            v.expression = this.loadScript(el, origin);\r\n        } else {\r\n            el = model.childNamed('block') ||\r\n                model.childNamed('custom-block');\r\n            if (el) {\r\n                v.expression = this.loadBlock(el, null, origin);\r\n            } else {\r\n                el = model.childNamed('l');\r\n                if (el) {\r\n                    bool = el.childNamed('bool');\r\n                    if (bool) {\r\n                        v.expression = new BooleanSlotMorph(\r\n                            this.loadValue(bool)\r\n                        );\r\n                    } else {\r\n                        v.expression = new InputSlotMorph(el.contents);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (v.expression instanceof BlockMorph) {\r\n            // bind empty slots to implicit formal parameters\r\n            i = 0;\r\n            v.expression.allEmptySlots().forEach(function (slot) {\r\n                i += 1;\r\n                if (slot instanceof MultiArgMorph) {\r\n                    slot.bindingID = ['arguments'];\r\n                } else {\r\n                    slot.bindingID = i;\r\n                }\r\n            });\r\n            // and remember the number of detected empty slots\r\n            v.emptySlots = i;\r\n        }\r\n        el = model.childNamed('inputs');\r\n        if (el) {\r\n            el.children.forEach(function (item) {\r\n                if (item.tag === 'input') {\r\n                    v.inputs.push(item.contents);\r\n                }\r\n            });\r\n        }\r\n        el = model.childNamed('variables');\r\n        if (el) {\r\n            this.loadVariables(v.variables, el, origin);\r\n        }\r\n        el = model.childNamed('context');\r\n        if (el) {\r\n            v.outerContext = this.loadValue(el, origin);\r\n        }\r\n        if (v.outerContext && v.receiver &&\r\n                !v.outerContext.variables.parentFrame) {\r\n            v.outerContext.variables.parentFrame = v.receiver.variables;\r\n        }\r\n        return v;\r\n    case 'costume':\r\n        center = new Point();\r\n        if (Object.prototype.hasOwnProperty.call(\r\n                model.attributes,\r\n                'center-x'\r\n            )) {\r\n            center.x = parseFloat(model.attributes['center-x']);\r\n        }\r\n        if (Object.prototype.hasOwnProperty.call(\r\n                model.attributes,\r\n                'center-y'\r\n            )) {\r\n            center.y = parseFloat(model.attributes['center-y']);\r\n        }\r\n        if (Object.prototype.hasOwnProperty.call(\r\n                model.attributes,\r\n                'name'\r\n            )) {\r\n            name = model.attributes.name;\r\n        }\r\n        if (Object.prototype.hasOwnProperty.call(\r\n                model.attributes,\r\n                'image'\r\n            )) {\r\n            image = new Image();\r\n            if (model.attributes.image.indexOf('data:image/svg+xml') === 0\r\n                    && !MorphicPreferences.rasterizeSVGs) {\r\n                v = new SVG_Costume(null, name, center);\r\n                image.onload = function () {\r\n                    v.contents = image;\r\n                    v.version = +new Date();\r\n                    if (typeof v.loaded === 'function') {\r\n                        v.loaded();\r\n                    } else {\r\n                        v.loaded = true;\r\n                    }\r\n                };\r\n            } else {\r\n                v = new Costume(null, name, center);\r\n                image.onload = function () {\r\n                    var canvas = newCanvas(\r\n                            new Point(image.width, image.height),\r\n                            true // nonRetina\r\n                        ),\r\n                        context = canvas.getContext('2d');\r\n                    context.drawImage(image, 0, 0);\r\n                    v.contents = canvas;\r\n                    v.version = +new Date();\r\n                    if (typeof v.loaded === 'function') {\r\n                        v.loaded();\r\n                    } else {\r\n                        v.loaded = true;\r\n                    }\r\n                };\r\n            }\r\n            image.src = model.attributes.image;\r\n        }\r\n        record();\r\n        return v;\r\n    case 'sound':\r\n        audio = new Audio();\r\n        audio.src = model.attributes.sound;\r\n        v = new Sound(audio, model.attributes.name);\r\n        if (Object.prototype.hasOwnProperty.call(\r\n                model.attributes,\r\n                'mediaID'\r\n            )) {\r\n            myself.mediaDict[model.attributes.mediaID] = v;\r\n        }\r\n        record();\r\n        return v;\r\n    }\r\n    return undefined;\r\n};\r\n\r\nSnapSerializer.prototype.loadColor = function (colorString) {\r\n    // private\r\n    var c = (colorString || '').split(',');\r\n    return new Color(\r\n        parseFloat(c[0]),\r\n        parseFloat(c[1]),\r\n        parseFloat(c[2]),\r\n        parseFloat(c[3])\r\n    );\r\n};\r\n\r\nSnapSerializer.prototype.openProject = function (project, ide) {\r\n    var stage = ide.stage,\r\n        sprites = [],\r\n        sprite;\r\n    if (!project || !project.stage) {\r\n        return;\r\n    }\r\n    ide.projectName = project.name;\r\n    ide.projectNotes = project.notes || '';\r\n    if (ide.globalVariables) {\r\n        ide.globalVariables = project.globalVariables;\r\n    }\r\n    if (stage) {\r\n        stage.destroy();\r\n    }\r\n    ide.add(project.stage);\r\n    ide.stage = project.stage;\r\n    sprites = ide.stage.children.filter(function (child) {\r\n        return child instanceof SpriteMorph;\r\n    });\r\n    sprites.sort(function (x, y) {\r\n        return x.idx - y.idx;\r\n    });\r\n\r\n    ide.sprites = new List(sprites);\r\n    sprite = sprites[0] || project.stage;\r\n\r\n    if (sizeOf(this.mediaDict) > 0) {\r\n        ide.hasChangedMedia = false;\r\n        this.mediaDict = {};\r\n    } else {\r\n        ide.hasChangedMedia = true;\r\n    }\r\n    project.stage.drawNew();\r\n    ide.createCorral();\r\n    ide.selectSprite(sprite);\r\n    ide.fixLayout();\r\n\r\n    // force watchers to update\r\n    //project.stage.watchers().forEach(function (watcher) {\r\n    //  watcher.onNextStep = function () {this.currentValue = null;};\r\n    //})\r\n\r\n    ide.world().keyboardReceiver = project.stage;\r\n};\r\n\r\n// SnapSerializer XML-representation of objects:\r\n\r\n// Generics\r\n// Sprites\r\n\r\nStageMorph.prototype.toXML = function (serializer) {\r\n    var thumbnail = normalizeCanvas(\r\n            this.thumbnail(SnapSerializer.prototype.thumbnailSize),\r\n            true\r\n        ),\r\n        thumbdata,\r\n        ide = this.parentThatIsA(IDE_Morph);\r\n\r\n    // catch cross-origin tainting exception when using SVG costumes\r\n    try {\r\n        thumbdata = thumbnail.toDataURL('image/png');\r\n    } catch (error) {\r\n        thumbdata = null;\r\n    }\r\n\r\n    function code(key) {\r\n        var str = '';\r\n        Object.keys(StageMorph.prototype[key]).forEach(\r\n            function (selector) {\r\n                str += (\r\n                    '<' + selector + '>' +\r\n                        XML_Element.prototype.escape(\r\n                            StageMorph.prototype[key][selector]\r\n                        ) +\r\n                        '</' + selector + '>'\r\n                );\r\n            }\r\n        );\r\n        return str;\r\n    }\r\n\r\n    this.removeAllClones();\r\n    return serializer.format(\r\n        '<project name=\"@\" app=\"@\" version=\"@\">' +\r\n            '<notes>$</notes>' +\r\n            '<thumbnail>$</thumbnail>' +\r\n            '<stage name=\"@\" width=\"@\" height=\"@\" ' +\r\n            'costume=\"@\" tempo=\"@\" threadsafe=\"@\" ' +\r\n            '%' +\r\n            'lines=\"@\" ' +\r\n            'ternary=\"@\" ' +\r\n            'codify=\"@\" ' +\r\n            'inheritance=\"@\" ' +\r\n            'sublistIDs=\"@\" ' +\r\n            'scheduled=\"@\" ~>' +\r\n            '<pentrails>$</pentrails>' +\r\n            '<costumes>%</costumes>' +\r\n            '<sounds>%</sounds>' +\r\n            '<variables>%</variables>' +\r\n            '<blocks>%</blocks>' +\r\n            '<scripts>%</scripts><sprites>%</sprites>' +\r\n            '</stage>' +\r\n            '<hidden>$</hidden>' +\r\n            '<headers>%</headers>' +\r\n            '<code>%</code>' +\r\n            '<blocks>%</blocks>' +\r\n            '<variables>%</variables>' +\r\n            '</project>',\r\n        (ide && ide.projectName) ? ide.projectName : localize('Untitled'),\r\n        serializer.app,\r\n        serializer.version,\r\n        (ide && ide.projectNotes) ? ide.projectNotes : '',\r\n        thumbdata,\r\n        this.name,\r\n        StageMorph.prototype.dimensions.x,\r\n        StageMorph.prototype.dimensions.y,\r\n        this.getCostumeIdx(),\r\n        this.getTempo(),\r\n        this.isThreadSafe,\r\n        this.instrument ?\r\n                ' instrument=\"' + parseInt(this.instrument) + '\" ' : '',\r\n        SpriteMorph.prototype.useFlatLineEnds ? 'flat' : 'round',\r\n        BooleanSlotMorph.prototype.isTernary,\r\n        this.enableCodeMapping,\r\n        this.enableInheritance,\r\n        this.enableSublistIDs,\r\n        StageMorph.prototype.frameRate !== 0,\r\n        normalizeCanvas(this.trailsCanvas, true).toDataURL('image/png'),\r\n        serializer.store(this.costumes, this.name + '_cst'),\r\n        serializer.store(this.sounds, this.name + '_snd'),\r\n        serializer.store(this.variables),\r\n        serializer.store(this.customBlocks),\r\n        serializer.store(this.scripts),\r\n        serializer.store(this.children),\r\n        Object.keys(StageMorph.prototype.hiddenPrimitives).reduce(\r\n                function (a, b) {return a + ' ' + b; },\r\n                ''\r\n            ),\r\n        code('codeHeaders'),\r\n        code('codeMappings'),\r\n        serializer.store(this.globalBlocks),\r\n        (ide && ide.globalVariables) ?\r\n                    serializer.store(ide.globalVariables) : ''\r\n    );\r\n};\r\n\r\nSpriteMorph.prototype.toXML = function (serializer) {\r\n    var stage = this.parentThatIsA(StageMorph),\r\n        ide = stage ? stage.parentThatIsA(IDE_Morph) : null,\r\n        idx = ide ? ide.sprites.asArray().indexOf(this) + 1 : 0,\r\n        noCostumes = this.inheritsAttribute('costumes'),\r\n        noSounds = this.inheritsAttribute('sounds'),\r\n        noScripts = this.inheritsAttribute('scripts');\r\n\r\n    return serializer.format(\r\n        '<sprite name=\"@\" idx=\"@\" x=\"@\" y=\"@\"' +\r\n            ' heading=\"@\"' +\r\n            ' scale=\"@\"' +\r\n            ' rotation=\"@\"' +\r\n            '%' +\r\n            ' draggable=\"@\"' +\r\n            '%' +\r\n            ' costume=\"@\" color=\"@,@,@\" pen=\"@\" ~>' +\r\n            '%' + // inheritance info\r\n            '%' + // nesting info\r\n            (noCostumes ? '%' : '<costumes>%</costumes>') +\r\n            (noSounds ? '%' : '<sounds>%</sounds>') +\r\n            '<blocks>%</blocks>' +\r\n            '<variables>%</variables>' +\r\n            (this.exemplar ? '<dispatches>%</dispatches>' : '%') +\r\n            (noScripts ? '%' : '<scripts>%</scripts>') +\r\n            '</sprite>',\r\n        this.name,\r\n        idx,\r\n        this.xPosition(),\r\n        this.yPosition(),\r\n        this.heading,\r\n        this.scale,\r\n        this.rotationStyle,\r\n        this.instrument ?\r\n                ' instrument=\"' + parseInt(this.instrument) + '\" ' : '',\r\n        this.isDraggable,\r\n        this.isVisible ? '' : ' hidden=\"true\"',\r\n        this.getCostumeIdx(),\r\n        this.color.r,\r\n        this.color.g,\r\n        this.color.b,\r\n        this.penPoint,\r\n\r\n        // inheritance info\r\n        this.exemplar\r\n            ? '<inherit exemplar=\"' +\r\n                    this.exemplar.name +\r\n                    '\">' +\r\n                    (this.inheritedAttributes.length ?\r\n                        serializer.store(new List(this.inheritedAttributes))\r\n                        : '') +\r\n                    '</inherit>'\r\n            : '',\r\n\r\n        // nesting info\r\n        this.anchor\r\n            ? '<nest anchor=\"' +\r\n                    this.anchor.name +\r\n                    '\" synch=\"'\r\n                    + this.rotatesWithAnchor\r\n                    + (this.scale === this.nestingScale ? '' :\r\n                            '\"'\r\n                            + ' scale=\"'\r\n                            + this.nestingScale)\r\n\r\n                    + '\"/>'\r\n            : '',\r\n\r\n        noCostumes ? '' : serializer.store(this.costumes, this.name + '_cst'),\r\n        noSounds ? '' : serializer.store(this.sounds, this.name + '_snd'),\r\n        !this.customBlocks ? '' : serializer.store(this.customBlocks),\r\n        serializer.store(this.variables),\r\n        this.exemplar ? serializer.store(this.inheritedMethods()) : '',\r\n        noScripts ? '' : serializer.store(this.scripts)\r\n    );\r\n};\r\n\r\nCostume.prototype[XML_Serializer.prototype.mediaDetectionProperty] = true;\r\n\r\nCostume.prototype.toXML = function (serializer) {\r\n    return serializer.format(\r\n        '<costume name=\"@\" center-x=\"@\" center-y=\"@\" image=\"@\" ~/>',\r\n        this.name,\r\n        this.rotationCenter.x,\r\n        this.rotationCenter.y,\r\n        this instanceof SVG_Costume ? this.contents.src\r\n                : normalizeCanvas(this.contents).toDataURL('image/png')\r\n    );\r\n};\r\n\r\nSound.prototype[XML_Serializer.prototype.mediaDetectionProperty] = true;\r\n\r\nSound.prototype.toXML = function (serializer) {\r\n    return serializer.format(\r\n        '<sound name=\"@\" sound=\"@\" ~/>',\r\n        this.name,\r\n        this.toDataURL()\r\n    );\r\n};\r\n\r\nVariableFrame.prototype.toXML = function (serializer) {\r\n    var myself = this;\r\n    return Object.keys(this.vars).reduce(function (vars, v) {\r\n        var val = myself.vars[v].value,\r\n            dta;\r\n        if (myself.vars[v].isTransient) {\r\n            dta = serializer.format(\r\n                '<variable name=\"@\" transient=\"true\"/>',\r\n                v)\r\n            ;\r\n        } else if (val === undefined || val === null) {\r\n            dta = serializer.format('<variable name=\"@\"/>', v);\r\n        } else {\r\n            dta = serializer.format(\r\n                '<variable name=\"@\">%</variable>',\r\n                v,\r\n                typeof val === 'object' ?\r\n                        (isSnapObject(val) ? ''\r\n                                : serializer.store(val))\r\n                                : typeof val === 'boolean' ?\r\n                                        serializer.format(\r\n                                            '<bool>$</bool>', val\r\n                                        )\r\n                                        : serializer.format('<l>$</l>', val)\r\n            );\r\n        }\r\n        return vars + dta;\r\n    }, '');\r\n};\r\n\r\n// Watchers\r\n\r\nWatcherMorph.prototype.toXML = function (serializer) {\r\n    var isVar = this.target instanceof VariableFrame,\r\n        isList = this.currentValue instanceof List,\r\n        color = this.readoutColor,\r\n        position = this.parent ?\r\n                this.topLeft().subtract(this.parent.topLeft())\r\n                : this.topLeft();\r\n\r\n    if (this.isTemporary()) {\r\n        // do not save watchers on temporary variables\r\n        return '';\r\n    }\r\n    return serializer.format(\r\n        '<watcher% % style=\"@\"% x=\"@\" y=\"@\" color=\"@,@,@\"%%/>',\r\n        (isVar && this.target.owner) || (!isVar && this.target) ?\r\n                    serializer.format(' scope=\"@\"',\r\n                        isVar ? this.target.owner.name : this.target.name)\r\n                            : '',\r\n        serializer.format(isVar ? 'var=\"@\"' : 's=\"@\"', this.getter),\r\n        this.style,\r\n        isVar && this.style === 'slider' ? serializer.format(\r\n                ' min=\"@\" max=\"@\"',\r\n                this.sliderMorph.start,\r\n                this.sliderMorph.stop\r\n            ) : '',\r\n        position.x,\r\n        position.y,\r\n        color.r,\r\n        color.g,\r\n        color.b,\r\n        !isList ? ''\r\n                : serializer.format(\r\n                ' extX=\"@\" extY=\"@\"',\r\n                this.cellMorph.contentsMorph.width(),\r\n                this.cellMorph.contentsMorph.height()\r\n            ),\r\n        this.isVisible ? '' : ' hidden=\"true\"'\r\n    );\r\n};\r\n\r\n// Scripts\r\n\r\nScriptsMorph.prototype.toXML = function (serializer) {\r\n    return this.children.reduce(function (xml, child) {\r\n        if (child instanceof BlockMorph) {\r\n            return xml + child.toScriptXML(serializer, true);\r\n        }\r\n        if (child instanceof CommentMorph && !child.block) { // unattached\r\n            return xml + child.toXML(serializer);\r\n        }\r\n        return xml;\r\n    }, '');\r\n};\r\n\r\nBlockMorph.prototype.toXML = BlockMorph.prototype.toScriptXML = function (\r\n    serializer,\r\n    savePosition\r\n) {\r\n    var position,\r\n        xml,\r\n        scale = SyntaxElementMorph.prototype.scale,\r\n        block = this;\r\n\r\n    // determine my position\r\n    if (this.parent) {\r\n        position = this.topLeft().subtract(this.parent.topLeft());\r\n    } else {\r\n        position = this.topLeft();\r\n    }\r\n\r\n    // save my position to xml\r\n    if (savePosition) {\r\n        xml = serializer.format(\r\n            '<script x=\"@\" y=\"@\">',\r\n            position.x / scale,\r\n            position.y / scale\r\n        );\r\n    } else {\r\n        xml = '<script>';\r\n    }\r\n\r\n    // recursively add my next blocks to xml\r\n    do {\r\n        xml += block.toBlockXML(serializer);\r\n        block = block.nextBlock();\r\n    } while (block);\r\n    xml += '</script>';\r\n    return xml;\r\n};\r\n\r\nBlockMorph.prototype.toBlockXML = function (serializer) {\r\n    return serializer.format(\r\n        '<block s=\"@\">%%</block>',\r\n        this.selector,\r\n        serializer.store(this.inputs()),\r\n        this.comment ? this.comment.toXML(serializer) : ''\r\n    );\r\n};\r\n\r\nReporterBlockMorph.prototype.toXML = function (serializer) {\r\n    return this.selector === 'reportGetVar' ? serializer.format(\r\n        '<block var=\"@\"/>',\r\n        this.blockSpec\r\n    ) : this.toBlockXML(serializer);\r\n};\r\n\r\nReporterBlockMorph.prototype.toScriptXML = function (\r\n    serializer,\r\n    savePosition\r\n) {\r\n    var position,\r\n        scale = SyntaxElementMorph.prototype.scale;\r\n\r\n    // determine my save-position\r\n    if (this.parent) {\r\n        position = this.topLeft().subtract(this.parent.topLeft());\r\n    } else {\r\n        position = this.topLeft();\r\n    }\r\n\r\n    if (savePosition) {\r\n        return serializer.format(\r\n            '<script x=\"@\" y=\"@\">%</script>',\r\n            position.x / scale,\r\n            position.y / scale,\r\n            this.toXML(serializer)\r\n        );\r\n    }\r\n    return serializer.format('<script>%</script>', this.toXML(serializer));\r\n};\r\n\r\nCustomCommandBlockMorph.prototype.toBlockXML = function (serializer) {\r\n    var scope = this.isGlobal ? undefined : 'local';\r\n    return serializer.format(\r\n        '<custom-block s=\"@\"%>%%%</custom-block>',\r\n        this.semanticSpec,\r\n        this.isGlobal ?\r\n                '' : serializer.format(' scope=\"@\"', scope),\r\n        serializer.store(this.inputs()),\r\n        this.isGlobal &&\r\n        \tthis.definition.variableNames.length &&\r\n            !serializer.isExportingBlocksLibrary ?\r\n                '<variables>' +\r\n                    this.variables.toXML(serializer) +\r\n                    '</variables>'\r\n                        : '',\r\n        this.comment ? this.comment.toXML(serializer) : ''\r\n    );\r\n};\r\n\r\nCustomReporterBlockMorph.prototype.toBlockXML\r\n    = CustomCommandBlockMorph.prototype.toBlockXML;\r\n\r\nCustomBlockDefinition.prototype.toXML = function (serializer) {\r\n    var myself = this;\r\n\r\n    function encodeScripts(array) {\r\n        return array.reduce(function (xml, element) {\r\n            if (element instanceof BlockMorph) {\r\n                return xml + element.toScriptXML(serializer, true);\r\n            }\r\n            if (element instanceof CommentMorph && !element.block) {\r\n                return xml + element.toXML(serializer);\r\n            }\r\n            return xml;\r\n        }, '');\r\n    }\r\n\r\n    return serializer.format(\r\n        '<block-definition s=\"@\" type=\"@\" category=\"@\">' +\r\n            '%' +\r\n            (this.variableNames.length ? '<variables>%</variables>' : '@') +\r\n            '<header>@</header>' +\r\n            '<code>@</code>' +\r\n            '<translations>@</translations>' +\r\n            '<inputs>%</inputs>%%' +\r\n            '</block-definition>',\r\n        this.spec,\r\n        this.type,\r\n        this.category || 'other',\r\n        this.comment ? this.comment.toXML(serializer) : '',\r\n        (this.variableNames.length ?\r\n                serializer.store(new List(this.variableNames)) : ''),\r\n        this.codeHeader || '',\r\n        this.codeMapping || '',\r\n        this.translationsAsText(),\r\n        Object.keys(this.declarations).reduce(function (xml, decl) {\r\n                return xml + serializer.format(\r\n                    '<input type=\"@\"$>$%</input>',\r\n                    myself.declarations[decl][0],\r\n                    myself.declarations[decl][3] ?\r\n                            ' readonly=\"true\"' : '',\r\n                    myself.declarations[decl][1],\r\n                    myself.declarations[decl][2] ?\r\n                            '<options>' + myself.declarations[decl][2] +\r\n                                '</options>'\r\n                                : ''\r\n                );\r\n            }, ''),\r\n        this.body ? serializer.store(this.body.expression) : '',\r\n        this.scripts.length > 0 ?\r\n                    '<scripts>' + encodeScripts(this.scripts) + '</scripts>'\r\n                        : ''\r\n    );\r\n};\r\n\r\n// Scripts - Inputs\r\n\r\nArgMorph.prototype.toXML = function () {\r\n    return '<l/>'; // empty by default\r\n};\r\n\r\nBooleanSlotMorph.prototype.toXML = function () {\r\n    return (typeof this.value === 'boolean') ?\r\n            '<l><bool>' + this.value + '</bool></l>'\r\n                    : '<l/>';\r\n\r\n};\r\n\r\nInputSlotMorph.prototype.toXML = function (serializer) {\r\n    if (this.constant) {\r\n        return serializer.format(\r\n            '<l><option>$</option></l>',\r\n            this.constant\r\n        );\r\n    }\r\n    return serializer.format('<l>$</l>', this.contents().text);\r\n};\r\n\r\nTemplateSlotMorph.prototype.toXML = function (serializer) {\r\n    return serializer.format('<l>$</l>', this.contents());\r\n};\r\n\r\nCommandSlotMorph.prototype.toXML = function (serializer) {\r\n    var block = this.children[0];\r\n    if (block instanceof BlockMorph) {\r\n        if (block instanceof ReporterBlockMorph) {\r\n            return serializer.format(\r\n                '<autolambda>%</autolambda>',\r\n                serializer.store(block)\r\n            );\r\n        }\r\n        return serializer.store(block);\r\n    }\r\n    return '<script></script>';\r\n};\r\n\r\nFunctionSlotMorph.prototype.toXML = CommandSlotMorph.prototype.toXML;\r\n\r\nMultiArgMorph.prototype.toXML = function (serializer) {\r\n    return serializer.format(\r\n        '<list>%</list>',\r\n        serializer.store(this.inputs())\r\n    );\r\n};\r\n\r\nArgLabelMorph.prototype.toXML = function (serializer) {\r\n    return serializer.format(\r\n        '%',\r\n        serializer.store(this.inputs()[0])\r\n    );\r\n};\r\n\r\nColorSlotMorph.prototype.toXML = function (serializer) {\r\n    return serializer.format(\r\n        '<color>$,$,$,$</color>',\r\n        this.color.r,\r\n        this.color.g,\r\n        this.color.b,\r\n        this.color.a\r\n    );\r\n};\r\n\r\n// Values\r\n\r\nList.prototype.toXML = function (serializer, mediaContext) {\r\n    // mediaContext is an optional name-stub\r\n    // when collecting media into a separate module\r\n    var xml, value, item;\r\n    if (this.isLinked) {\r\n        xml = '<list linked=\"linked\" ~>';\r\n        if (StageMorph.prototype.enableSublistIDs) {\r\n            // recursively nest tails:\r\n            value = this.first;\r\n            if (!isNil(value)) {\r\n                xml += serializer.format(\r\n                    '<item>%</item>',\r\n                    typeof value === 'object' ?\r\n                            (isSnapObject(value) ? ''\r\n                                    : serializer.store(value, mediaContext))\r\n                            : typeof value === 'boolean' ?\r\n                                    serializer.format('<bool>$</bool>', value)\r\n                                    : serializer.format('<l>$</l>', value)\r\n                );\r\n            }\r\n            if (!isNil(this.rest)) {\r\n                xml += serializer.store(this.rest, mediaContext);\r\n            }\r\n            return xml + '</list>';\r\n        }\r\n        // else sequentially serialize tails:\r\n        item = this;\r\n        do {\r\n            value = item.first;\r\n            if (!isNil(value)) {\r\n                xml += serializer.format(\r\n                    '<item>%</item>',\r\n                    typeof value === 'object' ?\r\n                            (isSnapObject(value) ? ''\r\n                                    : serializer.store(value, mediaContext))\r\n                            : typeof value === 'boolean' ?\r\n                                    serializer.format('<bool>$</bool>', value)\r\n                                    : serializer.format('<l>$</l>', value)\r\n                );\r\n            }\r\n            item = item.rest;\r\n        } while (!isNil(item));\r\n        return xml + '</list>';\r\n    }\r\n    // dynamic array:\r\n    return serializer.format(\r\n        '<list ~>%</list>',\r\n        this.contents.reduce(function (xml, item) {\r\n            return xml + serializer.format(\r\n                '<item>%</item>',\r\n                typeof item === 'object' ?\r\n                        (isSnapObject(item) ? ''\r\n                                : serializer.store(item, mediaContext))\r\n                        : typeof item === 'boolean' ?\r\n                                serializer.format('<bool>$</bool>', item)\r\n                                : serializer.format('<l>$</l>', item)\r\n            );\r\n        }, '')\r\n    );\r\n};\r\n\r\nContext.prototype.toXML = function (serializer) {\r\n    if (this.isContinuation) { // continuations are transient in Snap!\r\n        return '';\r\n    }\r\n    return serializer.format(\r\n        '<context ~><inputs>%</inputs><variables>%</variables>' +\r\n            '%<receiver>%</receiver><origin>%</origin>%</context>',\r\n        this.inputs.reduce(\r\n                function (xml, input) {\r\n                    return xml + serializer.format('<input>$</input>', input);\r\n                },\r\n                ''\r\n            ),\r\n        this.variables ? serializer.store(this.variables) : '',\r\n        this.expression ? serializer.store(this.expression) : '',\r\n        this.receiver ? serializer.store(this.receiver) : '',\r\n        this.receiver ? serializer.store(this.origin) : '',\r\n        this.outerContext ? serializer.store(this.outerContext) : ''\r\n    );\r\n};\r\n\r\n// Comments\r\n\r\nCommentMorph.prototype.toXML = function (serializer) {\r\n    var position,\r\n        scale = SyntaxElementMorph.prototype.scale;\r\n\r\n    if (this.block) { // attached to a block\r\n        return serializer.format(\r\n            '<comment w=\"@\" collapsed=\"@\">%</comment>',\r\n            this.textWidth() / scale,\r\n            this.isCollapsed,\r\n            serializer.escape(this.text())\r\n        );\r\n    }\r\n\r\n    // free-floating, determine my save-position\r\n    if (this.parent) {\r\n        position = this.topLeft().subtract(this.parent.topLeft());\r\n    } else {\r\n        position = this.topLeft();\r\n    }\r\n    return serializer.format(\r\n        '<comment x=\"@\" y=\"@\" w=\"@\" collapsed=\"@\">%</comment>',\r\n        position.x / scale,\r\n        position.y / scale,\r\n        this.textWidth() / scale,\r\n        this.isCollapsed,\r\n        serializer.escape(this.text())\r\n    );\r\n};\r\n\r\n//fin de store.js\r\n/*\r\n\r\n    cloud.js\r\n\r\n    a backend API for SNAP!\r\n\r\n    written by Jens Mönig\r\n\r\n    Copyright (C) 2015 by Jens Mönig\r\n\r\n    This file is part of Snap!.\r\n\r\n    Snap! is free software: you can redistribute it and/or modify\r\n    it under the terms of the GNU Affero General Public License as\r\n    published by the Free Software Foundation, either version 3 of\r\n    the License, or (at your option) any later version.\r\n\r\n    This program is distributed in the hope that it will be useful,\r\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n    GNU Affero General Public License for more details.\r\n\r\n    You should have received a copy of the GNU Affero General Public License\r\n    along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n\r\n*/\r\n\r\n// Global settings /////////////////////////////////////////////////////\r\n\r\n/*global modules, IDE_Morph, SnapSerializer, hex_sha512, alert, nop,\r\nlocalize*/\r\n\r\nmodules.cloud = '2015-December-15';\r\n\r\n// Global stuff\r\n\r\nvar Cloud;\r\nvar SnapCloud = new Cloud(\r\n    'https://snap.apps.miosoft.com/SnapCloud'\r\n);\r\n\r\n// Cloud /////////////////////////////////////////////////////////////\r\n\r\nfunction Cloud(url) {\r\n    this.username = null;\r\n    this.password = null; // hex_sha512 hashed\r\n    this.url = url;\r\n    this.session = null;\r\n    this.limo = null;\r\n    this.route = null;\r\n    this.api = {};\r\n}\r\n\r\nCloud.prototype.clear = function () {\r\n    this.username = null;\r\n    this.password = null;\r\n    this.session = null;\r\n    this.limo = null;\r\n    this.route = null;\r\n    this.api = {};\r\n};\r\n\r\nCloud.prototype.hasProtocol = function () {\r\n    return this.url.toLowerCase().indexOf('http') === 0;\r\n};\r\n\r\nCloud.prototype.setRoute = function (username) {\r\n    var routes = 20,\r\n        userNum = 0,\r\n        i;\r\n\r\n    for (i = 0; i < username.length; i += 1) {\r\n        userNum += username.charCodeAt(i);\r\n    }\r\n    userNum = userNum % routes + 1;\r\n    this.route = '.sc1m' +\r\n        (userNum < 10 ? '0' : '') +\r\n        userNum;\r\n};\r\n\r\n// Cloud: Snap! API\r\n\r\nCloud.prototype.signup = function (\r\n    username,\r\n    email,\r\n    callBack,\r\n    errorCall\r\n) {\r\n    // both callBack and errorCall are two-argument functions\r\n    var request = new XMLHttpRequest(),\r\n        myself = this;\r\n    try {\r\n        request.open(\r\n            \"GET\",\r\n            (this.hasProtocol() ? '' : 'http://')\r\n                + this.url + 'SignUp'\r\n                + '?Username='\r\n                + encodeURIComponent(username)\r\n                + '&Email='\r\n                + encodeURIComponent(email),\r\n            true\r\n        );\r\n        request.setRequestHeader(\r\n            \"Content-Type\",\r\n            \"application/x-www-form-urlencoded\"\r\n        );\r\n        request.withCredentials = true;\r\n        request.onreadystatechange = function () {\r\n            if (request.readyState === 4) {\r\n                if (request.responseText) {\r\n                    if (request.responseText.indexOf('ERROR') === 0) {\r\n                        errorCall.call(\r\n                            this,\r\n                            request.responseText,\r\n                            'Signup'\r\n                        );\r\n                    } else {\r\n                        callBack.call(\r\n                            null,\r\n                            request.responseText,\r\n                            'Signup'\r\n                        );\r\n                    }\r\n                } else {\r\n                    errorCall.call(\r\n                        null,\r\n                        myself.url + 'SignUp',\r\n                        localize('could not connect to:')\r\n                    );\r\n                }\r\n            }\r\n        };\r\n        request.send(null);\r\n    } catch (err) {\r\n        errorCall.call(this, err.toString(), 'Snap!Cloud');\r\n    }\r\n};\r\n\r\nCloud.prototype.getPublicProject = function (\r\n    id,\r\n    callBack,\r\n    errorCall\r\n) {\r\n    // id is Username=username&projectName=projectname,\r\n    // where the values are url-component encoded\r\n    // callBack is a single argument function, errorCall take two args\r\n    var request = new XMLHttpRequest(),\r\n        myself = this;\r\n    try {\r\n        request.open(\r\n            \"GET\",\r\n            (this.hasProtocol() ? '' : 'http://')\r\n                + this.url + 'RawPublic'\r\n                + '?'\r\n                + id,\r\n            true\r\n        );\r\n        request.setRequestHeader(\r\n            \"Content-Type\",\r\n            \"application/x-www-form-urlencoded\"\r\n        );\r\n        request.withCredentials = true;\r\n        request.onreadystatechange = function () {\r\n            if (request.readyState === 4) {\r\n                if (request.responseText) {\r\n                    if (request.responseText.indexOf('ERROR') === 0) {\r\n                        errorCall.call(\r\n                            this,\r\n                            request.responseText\r\n                        );\r\n                    } else {\r\n                        callBack.call(\r\n                            null,\r\n                            request.responseText\r\n                        );\r\n                    }\r\n                } else {\r\n                    errorCall.call(\r\n                        null,\r\n                        myself.url + 'Public',\r\n                        localize('could not connect to:')\r\n                    );\r\n                }\r\n            }\r\n        };\r\n        request.send(null);\r\n    } catch (err) {\r\n        errorCall.call(this, err.toString(), 'Snap!Cloud');\r\n    }\r\n};\r\n\r\nCloud.prototype.resetPassword = function (\r\n    username,\r\n    callBack,\r\n    errorCall\r\n) {\r\n    // both callBack and errorCall are two-argument functions\r\n    var request = new XMLHttpRequest(),\r\n        myself = this;\r\n    try {\r\n        request.open(\r\n            \"GET\",\r\n            (this.hasProtocol() ? '' : 'http://')\r\n                + this.url + 'ResetPW'\r\n                + '?Username='\r\n                + encodeURIComponent(username),\r\n            true\r\n        );\r\n        request.setRequestHeader(\r\n            \"Content-Type\",\r\n            \"application/x-www-form-urlencoded\"\r\n        );\r\n        request.withCredentials = true;\r\n        request.onreadystatechange = function () {\r\n            if (request.readyState === 4) {\r\n                if (request.responseText) {\r\n                    if (request.responseText.indexOf('ERROR') === 0) {\r\n                        errorCall.call(\r\n                            this,\r\n                            request.responseText,\r\n                            'Reset Password'\r\n                        );\r\n                    } else {\r\n                        callBack.call(\r\n                            null,\r\n                            request.responseText,\r\n                            'Reset Password'\r\n                        );\r\n                    }\r\n                } else {\r\n                    errorCall.call(\r\n                        null,\r\n                        myself.url + 'ResetPW',\r\n                        localize('could not connect to:')\r\n                    );\r\n                }\r\n            }\r\n        };\r\n        request.send(null);\r\n    } catch (err) {\r\n        errorCall.call(this, err.toString(), 'Snap!Cloud');\r\n    }\r\n};\r\n\r\nCloud.prototype.login = function (\r\n    username,\r\n    password,\r\n    callBack,\r\n    errorCall\r\n) {\r\n    // both callBack and errorCall are two-argument functions\r\n    var request = new XMLHttpRequest(),\r\n        usr = JSON.stringify({'__h': password, '__u': username}),\r\n        myself = this;\r\n    this.setRoute(username);\r\n    try {\r\n        request.open(\r\n            \"POST\",\r\n            (this.hasProtocol() ? '' : 'http://') +\r\n                this.url +\r\n                '?SESSIONGLUE=' +\r\n                this.route,\r\n            true\r\n        );\r\n        request.setRequestHeader(\r\n            \"Content-Type\",\r\n            \"application/json; charset=utf-8\"\r\n        );\r\n        // glue this session to a route:\r\n        request.setRequestHeader('SESSIONGLUE', this.route);\r\n        request.withCredentials = true;\r\n        request.onreadystatechange = function () {\r\n            if (request.readyState === 4) {\r\n                if (request.responseText) {\r\n                    myself.api = myself.parseAPI(request.responseText);\r\n                    myself.session = request.getResponseHeader('MioCracker')\r\n                        .split(';')[0];\r\n                    // set the cookie identifier:\r\n                    myself.limo = this.getResponseHeader(\"miocracker\")\r\n                        .substring(\r\n                            9,\r\n                            this.getResponseHeader(\"miocracker\").indexOf(\"=\")\r\n                        );\r\n                    if (myself.api.logout) {\r\n                        myself.username = username;\r\n                        myself.password = password;\r\n                        callBack.call(null, myself.api, 'Snap!Cloud');\r\n                    } else {\r\n                        errorCall.call(\r\n                            null,\r\n                            request.responseText,\r\n                            'connection failed'\r\n                        );\r\n                    }\r\n                } else {\r\n                    errorCall.call(\r\n                        null,\r\n                        myself.url,\r\n                        localize('could not connect to:')\r\n                    );\r\n                }\r\n            }\r\n        };\r\n        request.send(usr);\r\n    } catch (err) {\r\n        errorCall.call(this, err.toString(), 'Snap!Cloud');\r\n    }\r\n};\r\n\r\nCloud.prototype.reconnect = function (\r\n    callBack,\r\n    errorCall\r\n) {\r\n    if (!(this.username && this.password)) {\r\n        this.message('You are not logged in');\r\n        return;\r\n    }\r\n    this.login(\r\n        this.username,\r\n        this.password,\r\n        callBack,\r\n        errorCall\r\n    );\r\n};\r\n\r\nCloud.prototype.saveProject = function (ide, callBack, errorCall) {\r\n    var myself = this,\r\n        pdata,\r\n        media,\r\n        size,\r\n        mediaSize;\r\n\r\n    ide.serializer.isCollectingMedia = true;\r\n    pdata = ide.serializer.serialize(ide.stage);\r\n    media = ide.hasChangedMedia ?\r\n            ide.serializer.mediaXML(ide.projectName) : null;\r\n    ide.serializer.isCollectingMedia = false;\r\n    ide.serializer.flushMedia();\r\n\r\n    mediaSize = media ? media.length : 0;\r\n    size = pdata.length + mediaSize;\r\n    if (mediaSize > 10485760) {\r\n        new DialogBoxMorph().inform(\r\n            'Snap!Cloud - Cannot Save Project',\r\n            'The media inside this project exceeds 10 MB.\\n' +\r\n                'Please reduce the size of costumes or sounds.\\n',\r\n            ide.world(),\r\n            ide.cloudIcon(null, new Color(180, 0, 0))\r\n        );\r\n        throw new Error('Project media exceeds 10 MB size limit');\r\n    }\r\n\r\n    // check if serialized data can be parsed back again\r\n    try {\r\n        ide.serializer.parse(pdata);\r\n    } catch (err) {\r\n        ide.showMessage('Serialization of program data failed:\\n' + err);\r\n        throw new Error('Serialization of program data failed:\\n' + err);\r\n    }\r\n    if (media !== null) {\r\n        try {\r\n            ide.serializer.parse(media);\r\n        } catch (err) {\r\n            ide.showMessage('Serialization of media failed:\\n' + err);\r\n            throw new Error('Serialization of media failed:\\n' + err);\r\n        }\r\n    }\r\n    ide.serializer.isCollectingMedia = false;\r\n    ide.serializer.flushMedia();\r\n\r\n    ide.showMessage('Uploading ' + Math.round(size / 1024) + ' KB...');\r\n    myself.reconnect(\r\n        function () {\r\n            myself.callService(\r\n                'saveProject',\r\n                function (response, url) {\r\n                    callBack.call(null, response, url);\r\n                    myself.disconnect();\r\n                    ide.hasChangedMedia = false;\r\n                },\r\n                errorCall,\r\n                [\r\n                    ide.projectName,\r\n                    pdata,\r\n                    media,\r\n                    pdata.length,\r\n                    media ? media.length : 0\r\n                ]\r\n            );\r\n        },\r\n        errorCall\r\n    );\r\n};\r\n\r\nCloud.prototype.getProjectList = function (callBack, errorCall) {\r\n    var myself = this;\r\n    this.reconnect(\r\n        function () {\r\n            myself.callService(\r\n                'getProjectList',\r\n                function (response, url) {\r\n                    callBack.call(null, response, url);\r\n                    myself.disconnect();\r\n                },\r\n                errorCall\r\n            );\r\n        },\r\n        errorCall\r\n    );\r\n};\r\n\r\nCloud.prototype.changePassword = function (\r\n    oldPW,\r\n    newPW,\r\n    callBack,\r\n    errorCall\r\n) {\r\n    var myself = this;\r\n    this.reconnect(\r\n        function () {\r\n            myself.callService(\r\n                'changePassword',\r\n                function (response, url) {\r\n                    callBack.call(null, response, url);\r\n                    myself.disconnect();\r\n                },\r\n                errorCall,\r\n                [hex_sha512(oldPW), hex_sha512(newPW)]\r\n            );\r\n        },\r\n        errorCall\r\n    );\r\n};\r\n\r\nCloud.prototype.logout = function (callBack, errorCall) {\r\n    this.clear();\r\n    this.callService(\r\n        'logout',\r\n        callBack,\r\n        errorCall\r\n    );\r\n};\r\n\r\nCloud.prototype.disconnect = function () {\r\n    this.callService(\r\n        'logout',\r\n        nop,\r\n        nop\r\n    );\r\n};\r\n\r\n// Cloud: backend communication\r\n\r\nCloud.prototype.callURL = function (url, callBack, errorCall) {\r\n    // both callBack and errorCall are optional two-argument functions\r\n    var request = new XMLHttpRequest(),\r\n        stickyUrl,\r\n        myself = this;\r\n    try {\r\n        // set the Limo. Also set the glue as a query paramter for backup.\r\n        stickyUrl = url +\r\n            '&SESSIONGLUE=' +\r\n            this.route +\r\n            '&_Limo=' +\r\n            this.limo;\r\n        request.open('GET', stickyUrl, true);\r\n        request.withCredentials = true;\r\n        request.setRequestHeader(\r\n            \"Content-Type\",\r\n            \"application/x-www-form-urlencoded\"\r\n        );\r\n        request.setRequestHeader('MioCracker', this.session);\r\n        // Set the glue as a request header.\r\n        request.setRequestHeader('SESSIONGLUE', this.route);\r\n        request.onreadystatechange = function () {\r\n            if (request.readyState === 4) {\r\n                if (request.responseText) {\r\n                    var responseList = myself.parseResponse(\r\n                        request.responseText\r\n                    );\r\n                    callBack.call(null, responseList, url);\r\n                } else {\r\n                    errorCall.call(\r\n                        null,\r\n                        url,\r\n                        'no response from:'\r\n                    );\r\n                }\r\n            }\r\n        };\r\n        request.send(null);\r\n    } catch (err) {\r\n        errorCall.call(this, err.toString(), url);\r\n    }\r\n};\r\n\r\nCloud.prototype.callService = function (\r\n    serviceName,\r\n    callBack,\r\n    errorCall,\r\n    args\r\n) {\r\n    // both callBack and errorCall are optional two-argument functions\r\n    var request = new XMLHttpRequest(),\r\n        service = this.api[serviceName],\r\n        myself = this,\r\n        stickyUrl,\r\n        postDict;\r\n\r\n    if (!this.session) {\r\n        errorCall.call(null, 'You are not connected', 'Cloud');\r\n        return;\r\n    }\r\n    if (!service) {\r\n        errorCall.call(\r\n            null,\r\n            'service ' + serviceName + ' is not available',\r\n            'API'\r\n        );\r\n        return;\r\n    }\r\n    if (args && args.length > 0) {\r\n        postDict = {};\r\n        service.parameters.forEach(function (parm, idx) {\r\n            postDict[parm] = args[idx];\r\n        });\r\n    }\r\n    try {\r\n        stickyUrl = this.url +\r\n            '/' +\r\n            service.url +\r\n            '&SESSIONGLUE=' +\r\n            this.route +\r\n            '&_Limo=' +\r\n            this.limo;\r\n        request.open(service.method, stickyUrl, true);\r\n        request.withCredentials = true;\r\n        request.setRequestHeader(\r\n            \"Content-Type\",\r\n            \"application/x-www-form-urlencoded\"\r\n        );\r\n        request.setRequestHeader('MioCracker', this.session);\r\n        request.setRequestHeader('SESSIONGLUE', this.route);\r\n        request.onreadystatechange = function () {\r\n            if (request.readyState === 4) {\r\n                var responseList = [];\r\n                if (request.responseText &&\r\n                        request.responseText.indexOf('ERROR') === 0) {\r\n                    errorCall.call(\r\n                        this,\r\n                        request.responseText,\r\n                        localize('Service:') + ' ' + localize(serviceName)\r\n                    );\r\n                    return;\r\n                }\r\n                if (serviceName === 'login') {\r\n                    myself.api = myself.parseAPI(request.responseText);\r\n                }\r\n                if (serviceName === 'getRawProject') {\r\n                    responseList = request.responseText;\r\n                } else {\r\n                    responseList = myself.parseResponse(\r\n                        request.responseText\r\n                    );\r\n                }\r\n                callBack.call(null, responseList, service.url);\r\n            }\r\n        };\r\n        request.send(this.encodeDict(postDict));\r\n    } catch (err) {\r\n        errorCall.call(this, err.toString(), service.url);\r\n    }\r\n};\r\n\r\n// Cloud: payload transformation\r\n\r\nCloud.prototype.parseAPI = function (src) {\r\n    var api = {},\r\n        services;\r\n    services = src.split(\" \");\r\n    services.forEach(function (service) {\r\n        var entries = service.split(\"&\"),\r\n            serviceDescription = {},\r\n            parms;\r\n        entries.forEach(function (entry) {\r\n            var pair = entry.split(\"=\"),\r\n                key = decodeURIComponent(pair[0]).toLowerCase(),\r\n                val = decodeURIComponent(pair[1]);\r\n            if (key === \"service\") {\r\n                api[val] = serviceDescription;\r\n            } else if (key === \"parameters\") {\r\n                parms = val.split(\",\");\r\n                if (!(parms.length === 1 && !parms[0])) {\r\n                    serviceDescription.parameters = parms;\r\n                }\r\n            } else {\r\n                serviceDescription[key] = val;\r\n            }\r\n        });\r\n    });\r\n    return api;\r\n};\r\n\r\nCloud.prototype.parseResponse = function (src) {\r\n    var ans = [],\r\n        lines;\r\n    if (!src) {return ans; }\r\n    lines = src.split(\" \");\r\n    lines.forEach(function (service) {\r\n        var entries = service.split(\"&\"),\r\n            dict = {};\r\n        entries.forEach(function (entry) {\r\n            var pair = entry.split(\"=\"),\r\n                key = decodeURIComponent(pair[0]),\r\n                val = decodeURIComponent(pair[1]);\r\n            dict[key] = val;\r\n        });\r\n        ans.push(dict);\r\n    });\r\n    return ans;\r\n};\r\n\r\nCloud.prototype.parseDict = function (src) {\r\n    var dict = {};\r\n    if (!src) {return dict; }\r\n    src.split(\"&\").forEach(function (entry) {\r\n        var pair = entry.split(\"=\"),\r\n            key = decodeURIComponent(pair[0]),\r\n            val = decodeURIComponent(pair[1]);\r\n        dict[key] = val;\r\n    });\r\n    return dict;\r\n};\r\n\r\nCloud.prototype.encodeDict = function (dict) {\r\n    var str = '',\r\n        pair,\r\n        key;\r\n    if (!dict) {return null; }\r\n    for (key in dict) {\r\n        if (dict.hasOwnProperty(key)) {\r\n            pair = encodeURIComponent(key)\r\n                + '='\r\n                + encodeURIComponent(dict[key]);\r\n            if (str.length > 0) {\r\n                str += '&';\r\n            }\r\n            str += pair;\r\n        }\r\n    }\r\n    return str;\r\n};\r\n\r\n// Cloud: user messages (to be overridden)\r\n\r\nCloud.prototype.message = function (string) {\r\n    alert(string);\r\n};\r\n//fin de cloud.js\r\n/*\r\n\r\n\tsha512.js\r\n\r\n\tencryption for SNAP!\r\n    This file is derived from crypto-js.\r\n\r\n    © 2009–2012 by Jeff Mott. All rights reserved.\r\n\r\n    Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:\r\n\r\n    Redistributions of source code must retain the above copyright notice, this list of conditions, and the following disclaimer.\r\n    Redistributions in binary form must reproduce the above copyright notice, this list of conditions, and the following disclaimer in the documentation or other materials provided with the distribution.\r\n    Neither the name CryptoJS nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.\r\n    THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS,\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE, ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n\r\n*/\r\n\r\nvar hex_sha512 = (function (hex_sha512) {\r\n\r\n    var hexcase = 0;\r\n\r\n    function hex_sha512(s)\r\n    {\r\n      return CryptoJS.SHA512(str2rstr_utf8(s)).toString(CryptoJS.enc.Hex);\r\n    }\r\n\r\n    function rstr_sha512(s)\r\n    {\r\n      return binb2rstr(binb_sha512(rstr2binb(s), s.length * 8));\r\n    }\r\n\r\n    var CryptoJS=CryptoJS||function(a,g){var m={},e=m.lib={},q=e.Base=function(){function a(){}return{extend:function(b){a.prototype=this;var d=new a;b&&d.mixIn(b);d.$super=this;return d},create:function(){var a=this.extend();a.init.apply(a,arguments);return a},init:function(){},mixIn:function(a){for(var k in a)a.hasOwnProperty(k)&&(this[k]=a[k]);a.hasOwnProperty(\"toString\")&&(this.toString=a.toString)},clone:function(){return this.$super.extend(this)}}}(),r=e.WordArray=q.extend({init:function(a,b){a=\r\n    this.words=a||[];this.sigBytes=b!=g?b:4*a.length},toString:function(a){return(a||n).stringify(this)},concat:function(a){var b=this.words,d=a.words,c=this.sigBytes,a=a.sigBytes;this.clamp();if(c%4)for(var i=0;i<a;i++)b[c+i>>>2]|=(d[i>>>2]>>>24-8*(i%4)&255)<<24-8*((c+i)%4);else if(65535<d.length)for(i=0;i<a;i+=4)b[c+i>>>2]=d[i>>>2];else b.push.apply(b,d);this.sigBytes+=a;return this},clamp:function(){var k=this.words,b=this.sigBytes;k[b>>>2]&=4294967295<<32-8*(b%4);k.length=a.ceil(b/4)},clone:function(){var a=\r\n    q.clone.call(this);a.words=this.words.slice(0);return a},random:function(k){for(var b=[],d=0;d<k;d+=4)b.push(4294967296*a.random()|0);return r.create(b,k)}}),y=m.enc={},n=y.Hex={stringify:function(a){for(var b=a.words,a=a.sigBytes,d=[],c=0;c<a;c++){var i=b[c>>>2]>>>24-8*(c%4)&255;d.push((i>>>4).toString(16));d.push((i&15).toString(16))}return d.join(\"\")},parse:function(a){for(var b=a.length,d=[],c=0;c<b;c+=2)d[c>>>3]|=parseInt(a.substr(c,2),16)<<24-4*(c%8);return r.create(d,b/2)}},l=y.Latin1={stringify:function(a){for(var b=\r\n    a.words,a=a.sigBytes,d=[],c=0;c<a;c++)d.push(String.fromCharCode(b[c>>>2]>>>24-8*(c%4)&255));return d.join(\"\")},parse:function(a){for(var b=a.length,d=[],c=0;c<b;c++)d[c>>>2]|=(a.charCodeAt(c)&255)<<24-8*(c%4);return r.create(d,b)}},da=y.Utf8={stringify:function(a){try{return decodeURIComponent(escape(l.stringify(a)))}catch(b){throw Error(\"Malformed UTF-8 data\");}},parse:function(a){return l.parse(unescape(encodeURIComponent(a)))}},h=e.BufferedBlockAlgorithm=q.extend({reset:function(){this._data=\r\n    r.create();this._nDataBytes=0},_append:function(a){\"string\"==typeof a&&(a=da.parse(a));this._data.concat(a);this._nDataBytes+=a.sigBytes},_process:function(k){var b=this._data,d=b.words,c=b.sigBytes,i=this.blockSize,l=c/(4*i),l=k?a.ceil(l):a.max((l|0)-this._minBufferSize,0),k=l*i,c=a.min(4*k,c);if(k){for(var h=0;h<k;h+=i)this._doProcessBlock(d,h);h=d.splice(0,k);b.sigBytes-=c}return r.create(h,c)},clone:function(){var a=q.clone.call(this);a._data=this._data.clone();return a},_minBufferSize:0});e.Hasher=\r\n    h.extend({init:function(){this.reset()},reset:function(){h.reset.call(this);this._doReset()},update:function(a){this._append(a);this._process();return this},finalize:function(a){a&&this._append(a);this._doFinalize();return this._hash},clone:function(){var a=h.clone.call(this);a._hash=this._hash.clone();return a},blockSize:16,_createHelper:function(a){return function(b,d){return a.create(d).finalize(b)}},_createHmacHelper:function(a){return function(b,d){return ea.HMAC.create(a,d).finalize(b)}}});\r\n    var ea=m.algo={};return m}(Math);\r\n    (function(a){var g=CryptoJS,m=g.lib,e=m.Base,q=m.WordArray,g=g.x64={};g.Word=e.extend({init:function(a,e){this.high=a;this.low=e}});g.WordArray=e.extend({init:function(e,y){e=this.words=e||[];this.sigBytes=y!=a?y:8*e.length},toX32:function(){for(var a=this.words,e=a.length,n=[],l=0;l<e;l++){var g=a[l];n.push(g.high);n.push(g.low)}return q.create(n,this.sigBytes)},clone:function(){for(var a=e.clone.call(this),g=a.words=this.words.slice(0),n=g.length,l=0;l<n;l++)g[l]=g[l].clone();return a}})})();\r\n    (function(){function a(){return q.create.apply(q,arguments)}var g=CryptoJS,m=g.lib.Hasher,e=g.x64,q=e.Word,r=e.WordArray,e=g.algo,y=[a(1116352408,3609767458),a(1899447441,602891725),a(3049323471,3964484399),a(3921009573,2173295548),a(961987163,4081628472),a(1508970993,3053834265),a(2453635748,2937671579),a(2870763221,3664609560),a(3624381080,2734883394),a(310598401,1164996542),a(607225278,1323610764),a(1426881987,3590304994),a(1925078388,4068182383),a(2162078206,991336113),a(2614888103,633803317),\r\n    a(3248222580,3479774868),a(3835390401,2666613458),a(4022224774,944711139),a(264347078,2341262773),a(604807628,2007800933),a(770255983,1495990901),a(1249150122,1856431235),a(1555081692,3175218132),a(1996064986,2198950837),a(2554220882,3999719339),a(2821834349,766784016),a(2952996808,2566594879),a(3210313671,3203337956),a(3336571891,1034457026),a(3584528711,2466948901),a(113926993,3758326383),a(338241895,168717936),a(666307205,1188179964),a(773529912,1546045734),a(1294757372,1522805485),a(1396182291,\r\n    2643833823),a(1695183700,2343527390),a(1986661051,1014477480),a(2177026350,1206759142),a(2456956037,344077627),a(2730485921,1290863460),a(2820302411,3158454273),a(3259730800,3505952657),a(3345764771,106217008),a(3516065817,3606008344),a(3600352804,1432725776),a(4094571909,1467031594),a(275423344,851169720),a(430227734,3100823752),a(506948616,1363258195),a(659060556,3750685593),a(883997877,3785050280),a(958139571,3318307427),a(1322822218,3812723403),a(1537002063,2003034995),a(1747873779,3602036899),\r\n    a(1955562222,1575990012),a(2024104815,1125592928),a(2227730452,2716904306),a(2361852424,442776044),a(2428436474,593698344),a(2756734187,3733110249),a(3204031479,2999351573),a(3329325298,3815920427),a(3391569614,3928383900),a(3515267271,566280711),a(3940187606,3454069534),a(4118630271,4000239992),a(116418474,1914138554),a(174292421,2731055270),a(289380356,3203993006),a(460393269,320620315),a(685471733,587496836),a(852142971,1086792851),a(1017036298,365543100),a(1126000580,2618297676),a(1288033470,\r\n    3409855158),a(1501505948,4234509866),a(1607167915,987167468),a(1816402316,1246189591)],n=[];(function(){for(var l=0;80>l;l++)n[l]=a()})();e=e.SHA512=m.extend({_doReset:function(){this._hash=r.create([a(1779033703,4089235720),a(3144134277,2227873595),a(1013904242,4271175723),a(2773480762,1595750129),a(1359893119,2917565137),a(2600822924,725511199),a(528734635,4215389547),a(1541459225,327033209)])},_doProcessBlock:function(a,e){for(var h=this._hash.words,g=h[0],k=h[1],b=h[2],d=h[3],c=h[4],i=h[5],m=\r\n    h[6],h=h[7],q=g.high,r=g.low,W=k.high,K=k.low,X=b.high,L=b.low,Y=d.high,M=d.low,Z=c.high,N=c.low,$=i.high,O=i.low,aa=m.high,P=m.low,ba=h.high,Q=h.low,t=q,o=r,E=W,C=K,F=X,D=L,T=Y,G=M,u=Z,p=N,R=$,H=O,S=aa,I=P,U=ba,J=Q,v=0;80>v;v++){var z=n[v];if(16>v)var s=z.high=a[e+2*v]|0,f=z.low=a[e+2*v+1]|0;else{var s=n[v-15],f=s.high,w=s.low,s=(w<<31|f>>>1)^(w<<24|f>>>8)^f>>>7,w=(f<<31|w>>>1)^(f<<24|w>>>8)^(f<<25|w>>>7),B=n[v-2],f=B.high,j=B.low,B=(j<<13|f>>>19)^(f<<3|j>>>29)^f>>>6,j=(f<<13|j>>>19)^(j<<3|f>>>29)^\r\n    (f<<26|j>>>6),f=n[v-7],V=f.high,A=n[v-16],x=A.high,A=A.low,f=w+f.low,s=s+V+(f>>>0<w>>>0?1:0),f=f+j,s=s+B+(f>>>0<j>>>0?1:0),f=f+A,s=s+x+(f>>>0<A>>>0?1:0);z.high=s;z.low=f}var V=u&R^~u&S,A=p&H^~p&I,z=t&E^t&F^E&F,fa=o&C^o&D^C&D,w=(o<<4|t>>>28)^(t<<30|o>>>2)^(t<<25|o>>>7),B=(t<<4|o>>>28)^(o<<30|t>>>2)^(o<<25|t>>>7),j=y[v],ga=j.high,ca=j.low,j=J+((u<<18|p>>>14)^(u<<14|p>>>18)^(p<<23|u>>>9)),x=U+((p<<18|u>>>14)^(p<<14|u>>>18)^(u<<23|p>>>9))+(j>>>0<J>>>0?1:0),j=j+A,x=x+V+(j>>>0<A>>>0?1:0),j=j+ca,x=x+ga+\r\n    (j>>>0<ca>>>0?1:0),j=j+f,x=x+s+(j>>>0<f>>>0?1:0),f=B+fa,z=w+z+(f>>>0<B>>>0?1:0),U=S,J=I,S=R,I=H,R=u,H=p,p=G+j|0,u=T+x+(p>>>0<G>>>0?1:0)|0,T=F,G=D,F=E,D=C,E=t,C=o,o=j+f|0,t=x+z+(o>>>0<j>>>0?1:0)|0}r=g.low=r+o|0;g.high=q+t+(r>>>0<o>>>0?1:0)|0;K=k.low=K+C|0;k.high=W+E+(K>>>0<C>>>0?1:0)|0;L=b.low=L+D|0;b.high=X+F+(L>>>0<D>>>0?1:0)|0;M=d.low=M+G|0;d.high=Y+T+(M>>>0<G>>>0?1:0)|0;N=c.low=N+p|0;c.high=Z+u+(N>>>0<p>>>0?1:0)|0;O=i.low=O+H|0;i.high=$+R+(O>>>0<H>>>0?1:0)|0;P=m.low=P+I|0;m.high=aa+S+(P>>>0<I>>>\r\n    0?1:0)|0;Q=h.low=Q+J|0;h.high=ba+U+(Q>>>0<J>>>0?1:0)|0},_doFinalize:function(){var a=this._data,e=a.words,h=8*this._nDataBytes,g=8*a.sigBytes;e[g>>>5]|=128<<24-g%32;e[(g+128>>>10<<5)+31]=h;a.sigBytes=4*e.length;this._process();this._hash=this._hash.toX32()},blockSize:32});g.SHA512=m._createHelper(e);g.HmacSHA512=m._createHmacHelper(e)})();\r\n\r\n    function rstr2hex(input)\r\n    {\r\n      try { hexcase } catch(e) { hexcase=0; }\r\n      var hex_tab = hexcase ? \"0123456789ABCDEF\" : \"0123456789abcdef\";\r\n      var output = \"\";\r\n      var x;\r\n      for(var i = 0; i < input.length; i++)\r\n      {\r\n        x = input.charCodeAt(i);\r\n        output += hex_tab.charAt((x >>> 4) & 0x0F)\r\n               +  hex_tab.charAt( x        & 0x0F);\r\n      }\r\n      return output;\r\n    }\r\n\r\n    function str2rstr_utf8(input)\r\n    {\r\n      var output = \"\";\r\n      var i = -1;\r\n      var x, y;\r\n\r\n      while(++i < input.length)\r\n      {\r\n        x = input.charCodeAt(i);\r\n        y = i + 1 < input.length ? input.charCodeAt(i + 1) : 0;\r\n        if(0xD800 <= x && x <= 0xDBFF && 0xDC00 <= y && y <= 0xDFFF)\r\n        {\r\n          x = 0x10000 + ((x & 0x03FF) << 10) + (y & 0x03FF);\r\n          i++;\r\n        }\r\n\r\n        if(x <= 0x7F)\r\n          output += String.fromCharCode(x);\r\n        else if(x <= 0x7FF)\r\n          output += String.fromCharCode(0xC0 | ((x >>> 6 ) & 0x1F),\r\n                                        0x80 | ( x         & 0x3F));\r\n        else if(x <= 0xFFFF)\r\n          output += String.fromCharCode(0xE0 | ((x >>> 12) & 0x0F),\r\n                                        0x80 | ((x >>> 6 ) & 0x3F),\r\n                                        0x80 | ( x         & 0x3F));\r\n        else if(x <= 0x1FFFFF)\r\n          output += String.fromCharCode(0xF0 | ((x >>> 18) & 0x07),\r\n                                        0x80 | ((x >>> 12) & 0x3F),\r\n                                        0x80 | ((x >>> 6 ) & 0x3F),\r\n                                        0x80 | ( x         & 0x3F));\r\n      }\r\n      return output;\r\n    }\r\n\r\n    function rstr2binb(input)\r\n    {\r\n      var output = Array(input.length >> 2);\r\n      for(var i = 0; i < output.length; i++)\r\n        output[i] = 0;\r\n      for(var i = 0; i < input.length * 8; i += 8)\r\n        output[i>>5] |= (input.charCodeAt(i / 8) & 0xFF) << (24 - i % 32);\r\n      return output;\r\n    }\r\n\r\n    function binb2rstr(input)\r\n    {\r\n      var output = \"\";\r\n      for(var i = 0; i < input.length * 32; i += 8)\r\n        output += String.fromCharCode((input[i>>5] >>> (24 - i % 32)) & 0xFF);\r\n      return output;\r\n    }\r\n\r\n    var sha512_k;\r\n    function binb_sha512(x, len)\r\n    {\r\n      if(sha512_k == undefined)\r\n      {\r\n        sha512_k = new Array(\r\n    new int64(0x428a2f98, -685199838), new int64(0x71374491, 0x23ef65cd),\r\n    new int64(-1245643825, -330482897), new int64(-373957723, -2121671748),\r\n    new int64(0x3956c25b, -213338824), new int64(0x59f111f1, -1241133031),\r\n    new int64(-1841331548, -1357295717), new int64(-1424204075, -630357736),\r\n    new int64(-670586216, -1560083902), new int64(0x12835b01, 0x45706fbe),\r\n    new int64(0x243185be, 0x4ee4b28c), new int64(0x550c7dc3, -704662302),\r\n    new int64(0x72be5d74, -226784913), new int64(-2132889090, 0x3b1696b1),\r\n    new int64(-1680079193, 0x25c71235), new int64(-1046744716, -815192428),\r\n    new int64(-459576895, -1628353838), new int64(-272742522, 0x384f25e3),\r\n    new int64(0xfc19dc6, -1953704523), new int64(0x240ca1cc, 0x77ac9c65),\r\n    new int64(0x2de92c6f, 0x592b0275), new int64(0x4a7484aa, 0x6ea6e483),\r\n    new int64(0x5cb0a9dc, -1119749164), new int64(0x76f988da, -2096016459),\r\n    new int64(-1740746414, -295247957), new int64(-1473132947, 0x2db43210),\r\n    new int64(-1341970488, -1728372417), new int64(-1084653625, -1091629340),\r\n    new int64(-958395405, 0x3da88fc2), new int64(-710438585, -1828018395),\r\n    new int64(0x6ca6351, -536640913), new int64(0x14292967, 0xa0e6e70),\r\n    new int64(0x27b70a85, 0x46d22ffc), new int64(0x2e1b2138, 0x5c26c926),\r\n    new int64(0x4d2c6dfc, 0x5ac42aed), new int64(0x53380d13, -1651133473),\r\n    new int64(0x650a7354, -1951439906), new int64(0x766a0abb, 0x3c77b2a8),\r\n    new int64(-2117940946, 0x47edaee6), new int64(-1838011259, 0x1482353b),\r\n    new int64(-1564481375, 0x4cf10364), new int64(-1474664885, -1136513023),\r\n    new int64(-1035236496, -789014639), new int64(-949202525, 0x654be30),\r\n    new int64(-778901479, -688958952), new int64(-694614492, 0x5565a910),\r\n    new int64(-200395387, 0x5771202a), new int64(0x106aa070, 0x32bbd1b8),\r\n    new int64(0x19a4c116, -1194143544), new int64(0x1e376c08, 0x5141ab53),\r\n    new int64(0x2748774c, -544281703), new int64(0x34b0bcb5, -509917016),\r\n    new int64(0x391c0cb3, -976659869), new int64(0x4ed8aa4a, -482243893),\r\n    new int64(0x5b9cca4f, 0x7763e373), new int64(0x682e6ff3, -692930397),\r\n    new int64(0x748f82ee, 0x5defb2fc), new int64(0x78a5636f, 0x43172f60),\r\n    new int64(-2067236844, -1578062990), new int64(-1933114872, 0x1a6439ec),\r\n    new int64(-1866530822, 0x23631e28), new int64(-1538233109, -561857047),\r\n    new int64(-1090935817, -1295615723), new int64(-965641998, -479046869),\r\n    new int64(-903397682, -366583396), new int64(-779700025, 0x21c0c207),\r\n    new int64(-354779690, -840897762), new int64(-176337025, -294727304),\r\n    new int64(0x6f067aa, 0x72176fba), new int64(0xa637dc5, -1563912026),\r\n    new int64(0x113f9804, -1090974290), new int64(0x1b710b35, 0x131c471b),\r\n    new int64(0x28db77f5, 0x23047d84), new int64(0x32caab7b, 0x40c72493),\r\n    new int64(0x3c9ebe0a, 0x15c9bebc), new int64(0x431d67c4, -1676669620),\r\n    new int64(0x4cc5d4be, -885112138), new int64(0x597f299c, -60457430),\r\n    new int64(0x5fcb6fab, 0x3ad6faec), new int64(0x6c44198c, 0x4a475817));\r\n      }\r\n\r\n      var H = new Array(\r\n    new int64(0x6a09e667, -205731576),\r\n    new int64(-1150833019, -2067093701),\r\n    new int64(0x3c6ef372, -23791573),\r\n    new int64(-1521486534, 0x5f1d36f1),\r\n    new int64(0x510e527f, -1377402159),\r\n    new int64(-1694144372, 0x2b3e6c1f),\r\n    new int64(0x1f83d9ab, -79577749),\r\n    new int64(0x5be0cd19, 0x137e2179));\r\n\r\n      var T1 = new int64(0, 0),\r\n        T2 = new int64(0, 0),\r\n        a = new int64(0,0),\r\n        b = new int64(0,0),\r\n        c = new int64(0,0),\r\n        d = new int64(0,0),\r\n        e = new int64(0,0),\r\n        f = new int64(0,0),\r\n        g = new int64(0,0),\r\n        h = new int64(0,0),\r\n\r\n        s0 = new int64(0, 0),\r\n        s1 = new int64(0, 0),\r\n        Ch = new int64(0, 0),\r\n        Maj = new int64(0, 0),\r\n        r1 = new int64(0, 0),\r\n        r2 = new int64(0, 0),\r\n        r3 = new int64(0, 0);\r\n      var j, i;\r\n      var W = new Array(80);\r\n      for(i=0; i<80; i++)\r\n        W[i] = new int64(0, 0);\r\n\r\n      x[len >> 5] |= 0x80 << (24 - (len & 0x1f));\r\n      x[((len + 128 >> 10)<< 5) + 31] = len;\r\n\r\n      for(i = 0; i<x.length; i+=32)\r\n      {\r\n        int64copy(a, H[0]);\r\n        int64copy(b, H[1]);\r\n        int64copy(c, H[2]);\r\n        int64copy(d, H[3]);\r\n        int64copy(e, H[4]);\r\n        int64copy(f, H[5]);\r\n        int64copy(g, H[6]);\r\n        int64copy(h, H[7]);\r\n\r\n        for(j=0; j<16; j++)\r\n        {\r\n            W[j].h = x[i + 2*j];\r\n            W[j].l = x[i + 2*j + 1];\r\n        }\r\n\r\n        for(j=16; j<80; j++)\r\n        {\r\n          int64rrot(r1, W[j-2], 19);\r\n          int64revrrot(r2, W[j-2], 29);\r\n          int64shr(r3, W[j-2], 6);\r\n          s1.l = r1.l ^ r2.l ^ r3.l;\r\n          s1.h = r1.h ^ r2.h ^ r3.h;\r\n          int64rrot(r1, W[j-15], 1);\r\n          int64rrot(r2, W[j-15], 8);\r\n          int64shr(r3, W[j-15], 7);\r\n          s0.l = r1.l ^ r2.l ^ r3.l;\r\n          s0.h = r1.h ^ r2.h ^ r3.h;\r\n\r\n          int64add4(W[j], s1, W[j-7], s0, W[j-16]);\r\n        }\r\n\r\n        for(j = 0; j < 80; j++)\r\n        {\r\n          Ch.l = (e.l & f.l) ^ (~e.l & g.l);\r\n          Ch.h = (e.h & f.h) ^ (~e.h & g.h);\r\n\r\n          int64rrot(r1, e, 14);\r\n          int64rrot(r2, e, 18);\r\n          int64revrrot(r3, e, 9);\r\n          s1.l = r1.l ^ r2.l ^ r3.l;\r\n          s1.h = r1.h ^ r2.h ^ r3.h;\r\n          int64rrot(r1, a, 28);\r\n          int64revrrot(r2, a, 2);\r\n          int64revrrot(r3, a, 7);\r\n          s0.l = r1.l ^ r2.l ^ r3.l;\r\n          s0.h = r1.h ^ r2.h ^ r3.h;\r\n\r\n          Maj.l = (a.l & b.l) ^ (a.l & c.l) ^ (b.l & c.l);\r\n          Maj.h = (a.h & b.h) ^ (a.h & c.h) ^ (b.h & c.h);\r\n\r\n          int64add5(T1, h, s1, Ch, sha512_k[j], W[j]);\r\n          int64add(T2, s0, Maj);\r\n\r\n          int64copy(h, g);\r\n          int64copy(g, f);\r\n          int64copy(f, e);\r\n          int64add(e, d, T1);\r\n          int64copy(d, c);\r\n          int64copy(c, b);\r\n          int64copy(b, a);\r\n          int64add(a, T1, T2);\r\n        }\r\n        int64add(H[0], H[0], a);\r\n        int64add(H[1], H[1], b);\r\n        int64add(H[2], H[2], c);\r\n        int64add(H[3], H[3], d);\r\n        int64add(H[4], H[4], e);\r\n        int64add(H[5], H[5], f);\r\n        int64add(H[6], H[6], g);\r\n        int64add(H[7], H[7], h);\r\n      }\r\n\r\n      var hash = new Array(16);\r\n      for(i=0; i<8; i++)\r\n      {\r\n        hash[2*i] = H[i].h;\r\n        hash[2*i + 1] = H[i].l;\r\n      }\r\n      return hash;\r\n    }\r\n\r\n    function int64(h, l)\r\n    {\r\n      this.h = h;\r\n      this.l = l;\r\n    }\r\n\r\n    function int64copy(dst, src)\r\n    {\r\n      dst.h = src.h;\r\n      dst.l = src.l;\r\n    }\r\n\r\n    function int64rrot(dst, x, shift)\r\n    {\r\n        dst.l = (x.l >>> shift) | (x.h << (32-shift));\r\n        dst.h = (x.h >>> shift) | (x.l << (32-shift));\r\n    }\r\n\r\n    function int64revrrot(dst, x, shift)\r\n    {\r\n        dst.l = (x.h >>> shift) | (x.l << (32-shift));\r\n        dst.h = (x.l >>> shift) | (x.h << (32-shift));\r\n    }\r\n\r\n    function int64shr(dst, x, shift)\r\n    {\r\n        dst.l = (x.l >>> shift) | (x.h << (32-shift));\r\n        dst.h = (x.h >>> shift);\r\n    }\r\n\r\n    function int64add(dst, x, y)\r\n    {\r\n       var w0 = (x.l & 0xffff) + (y.l & 0xffff);\r\n       var w1 = (x.l >>> 16) + (y.l >>> 16) + (w0 >>> 16);\r\n       var w2 = (x.h & 0xffff) + (y.h & 0xffff) + (w1 >>> 16);\r\n       var w3 = (x.h >>> 16) + (y.h >>> 16) + (w2 >>> 16);\r\n       dst.l = (w0 & 0xffff) | (w1 << 16);\r\n       dst.h = (w2 & 0xffff) | (w3 << 16);\r\n    }\r\n\r\n    function int64add4(dst, a, b, c, d)\r\n    {\r\n       var w0 = (a.l & 0xffff) + (b.l & 0xffff) + (c.l & 0xffff) + (d.l & 0xffff);\r\n       var w1 = (a.l >>> 16) + (b.l >>> 16) + (c.l >>> 16) + (d.l >>> 16) + (w0 >>> 16);\r\n       var w2 = (a.h & 0xffff) + (b.h & 0xffff) + (c.h & 0xffff) + (d.h & 0xffff) + (w1 >>> 16);\r\n       var w3 = (a.h >>> 16) + (b.h >>> 16) + (c.h >>> 16) + (d.h >>> 16) + (w2 >>> 16);\r\n       dst.l = (w0 & 0xffff) | (w1 << 16);\r\n       dst.h = (w2 & 0xffff) | (w3 << 16);\r\n    }\r\n\r\n    function int64add5(dst, a, b, c, d, e)\r\n    {\r\n       var w0 = (a.l & 0xffff) + (b.l & 0xffff) + (c.l & 0xffff) + (d.l & 0xffff) + (e.l & 0xffff);\r\n       var w1 = (a.l >>> 16) + (b.l >>> 16) + (c.l >>> 16) + (d.l >>> 16) + (e.l >>> 16) + (w0 >>> 16);\r\n       var w2 = (a.h & 0xffff) + (b.h & 0xffff) + (c.h & 0xffff) + (d.h & 0xffff) + (e.h & 0xffff) + (w1 >>> 16);\r\n       var w3 = (a.h >>> 16) + (b.h >>> 16) + (c.h >>> 16) + (d.h >>> 16) + (e.h >>> 16) + (w2 >>> 16);\r\n       dst.l = (w0 & 0xffff) | (w1 << 16);\r\n       dst.h = (w2 & 0xffff) | (w3 << 16);\r\n    }\r\n\r\n    return hex_sha512;\r\n\r\n})({});\r\n//End of sha512.js\r\n\r\n\r\n/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */\r\nvar saveAs=saveAs||function(e){\"use strict\";if(typeof e===\"undefined\"||typeof navigator!==\"undefined\"&&/MSIE [1-9]\\./.test(navigator.userAgent)){return}var t=e.document,n=function(){return e.URL||e.webkitURL||e},r=t.createElementNS(\"http://www.w3.org/1999/xhtml\",\"a\"),o=\"download\"in r,a=function(e){var t=new MouseEvent(\"click\");e.dispatchEvent(t)},i=/constructor/i.test(e.HTMLElement)||e.safari,f=/CriOS\\/[\\d]+/.test(navigator.userAgent),u=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},s=\"application/octet-stream\",d=1e3*40,c=function(e){var t=function(){if(typeof e===\"string\"){n().revokeObjectURL(e)}else{e.remove()}};setTimeout(t,d)},l=function(e,t,n){t=[].concat(t);var r=t.length;while(r--){var o=e[\"on\"+t[r]];if(typeof o===\"function\"){try{o.call(e,n||e)}catch(a){u(a)}}}},p=function(e){if(/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(e.type)){return new Blob([String.fromCharCode(65279),e],{type:e.type})}return e},v=function(t,u,d){if(!d){t=p(t)}var v=this,w=t.type,m=w===s,y,h=function(){l(v,\"writestart progress write writeend\".split(\" \"))},S=function(){if((f||m&&i)&&e.FileReader){var r=new FileReader;r.onloadend=function(){var t=f?r.result:r.result.replace(/^data:[^;]*;/,\"data:attachment/file;\");var n=e.open(t,\"_blank\");if(!n)e.location.href=t;t=undefined;v.readyState=v.DONE;h()};r.readAsDataURL(t);v.readyState=v.INIT;return}if(!y){y=n().createObjectURL(t)}if(m){e.location.href=y}else{var o=e.open(y,\"_blank\");if(!o){e.location.href=y}}v.readyState=v.DONE;h();c(y)};v.readyState=v.INIT;if(o){y=n().createObjectURL(t);setTimeout(function(){r.href=y;r.download=u;a(r);h();c(y);v.readyState=v.DONE});return}S()},w=v.prototype,m=function(e,t,n){return new v(e,t||e.name||\"download\",n)};if(typeof navigator!==\"undefined\"&&navigator.msSaveOrOpenBlob){return function(e,t,n){t=t||e.name||\"download\";if(!n){e=p(e)}return navigator.msSaveOrOpenBlob(e,t)}}w.abort=function(){};w.readyState=w.INIT=0;w.WRITING=1;w.DONE=2;w.error=w.onwritestart=w.onprogress=w.onwrite=w.onabort=w.onerror=w.onwriteend=null;return m}(typeof self!==\"undefined\"&&self||typeof window!==\"undefined\"&&window||this.content);if(typeof module!==\"undefined\"&&module.exports){module.exports.saveAs=saveAs}else if(typeof define!==\"undefined\"&&define!==null&&define.amd!==null){define(\"FileSaver.js\",[],function(){return saveAs})}\r\n\r\n// End of bundeling\r\n\r\n//********************Wiquid******************************************************\r\n\r\nsnapsrc.snap.tao = function(message){alert(message);};\r\n\r\n    disableRetinaSupport();// here modify OPTION RETINA \r\n    //world = new WorldMorph(document.getElementById('world')); // original syntax rejected because of id use.\r\n    var world; \r\n    var elementCanvas = $container.find('.world');\r\n   \r\n    world = new WorldMorph(elementCanvas[0]);\r\n    snapsrc.snap.world = world;\r\n    world.worldCanvas.focus();\r\n    new IDE_Morph().openIn(world);\r\n    world.panelLeft = panel_Left;\r\n    \r\n    world.xmlString = getSnapProjectScript;\r\n\r\n    world.leftReducer = function leftReducer() {    \r\n        panel_Left.setPaletteWidth(1); return 1; \r\n    };\r\n\r\n    world.leftExpand = function leftExpand() { panel_Left.setPaletteWidth(200); return 200; };\r\n\r\n    //Fix blurry text \r\n    $container.find(\".world\").css({ position : 'absolute'});\r\n    world.width = world.clientWidth;\r\n    world.height = world.clientHeight;\r\n\r\n    \r\n    if($container.find(\".world\")[1]){ $container.find($container.find(\".world\")[1].remove());}\r\n   \r\n    \r\n    world.importator = function importator() {\r\n        var myself = world.children[0];\r\n        var inp = document.createElement('input');\r\n        if (myself.filePicker) {\r\n            document.body.removeChild(myself.filePicker);\r\n            myself.filePicker = null;\r\n        }\r\n        inp.type = 'file';\r\n        inp.style.color = \"transparent\";\r\n        inp.style.backgroundColor = \"transparent\";\r\n        inp.style.border = \"none\";\r\n        inp.style.outline = \"none\";\r\n        inp.style.position = \"absolute\";\r\n        inp.style.top = \"0px\";\r\n        inp.style.left = \"0px\";\r\n        inp.style.width = \"0px\";\r\n        inp.style.height = \"0px\";\r\n        inp.style.display = \"none\";\r\n        inp.addEventListener(\"change\",function () {\r\n            document.body.removeChild(inp);\r\n            myself.filePicker = null;\r\n            world.hand.processDrop(inp.files);\r\n        },false);\r\n        document.body.appendChild(inp);\r\n        myself.filePicker = inp;\r\n        inp.click();\r\n    }\r\n \r\n    loop();\r\n\r\n    function loop() {\r\n        requestAnimationFrame(loop);\r\n        world.doOneCycle();  \r\n\r\n    }\r\n\r\n       \r\n\r\n\r\n return panel_Left;\r\n    }; //End of snapsrc.snap\r\n\r\n\r\nreturn snapsrc;\r\n//*************************End snapsrc - Wiquid solution ***************************    \r\n});\n","/*\r\n\r\nBuild by Wiquid's PCI Generator for TAO platform Free to use - http://www.wiquid.fr/depp/ent/\r\nCopyright DEPP © 2018 - Ministère de l'éducation nationale \r\n\r\n */\r\n\r\ndefine('SnapForTao/runtime/js/renderer',['taoQtiItem/portableLib/jquery_2_1_1', 'taoQtiItem/portableLib/OAT/util/html', 'SnapForTao/runtime/js/lib/snapsrc'], function($, html, snapsrc){\r\n    'use strict';\r\n\r\n function renderSnap(id, $container, config){\r\n   \r\n    var snapInstance;\r\n    $container.find(\".snapy\").empty();\r\n    $container.find(\".snapyOverlay\").empty();\r\n    $container.find(\".blockTracker\").empty(); //Clean nbSpace\r\n    $container.find(\".compteur\").empty();\r\n    $container.find(\".snapy\").append('<canvas class=\"world\" tabindex=\"1\" ><p>Your browser doesn\\'t support canvas.</p></canvas>');   \r\n    snapInstance = snapsrc.snap(id, $container, config);\r\n    \r\n    \r\n    // Left Panel Sizer \r\n    if(config.panelSizer == 'nonVisible'){ snapsrc.snap.world.leftReducer(); }\r\n    else{snapsrc.snap.world.leftExpand();}\r\n    $container.find(\".world\").css('position','relative'); \r\n } \r\n\r\n        return {\r\n        render : function(id, container, config, assetManager){\r\n\r\n            var $container = $(container);\r\n\r\n            renderSnap(id, $container, config);\r\n            \r\n            //render rich text content in prompt\r\n            html.render($container.find('.prompt'));\r\n        },\r\n        renderSnap : function(id, container, config){\r\n            renderSnap(id, $(container), config);\r\n        }\r\n\r\n    };\r\n});\r\n \r\n \n","/**\n * @license\n * Lo-Dash 2.4.1 (Custom Build) lodash.com/license | Underscore.js 1.5.2 underscorejs.org/LICENSE\n * Build: `lodash -o ./dist/lodash.compat.js`\n */\n;(function(){function n(n,t,e){e=(e||0)-1;for(var r=n?n.length:0;++e<r;)if(n[e]===t)return e;return-1}function t(t,e){var r=typeof e;if(t=t.l,\"boolean\"==r||null==e)return t[e]?0:-1;\"number\"!=r&&\"string\"!=r&&(r=\"object\");var u=\"number\"==r?e:b+e;return t=(t=t[r])&&t[u],\"object\"==r?t&&-1<n(t,e)?0:-1:t?0:-1}function e(n){var t=this.l,e=typeof n;if(\"boolean\"==e||null==n)t[n]=true;else{\"number\"!=e&&\"string\"!=e&&(e=\"object\");var r=\"number\"==e?n:b+n,t=t[e]||(t[e]={});\"object\"==e?(t[r]||(t[r]=[])).push(n):t[r]=true\n}}function r(n){return n.charCodeAt(0)}function u(n,t){for(var e=n.m,r=t.m,u=-1,o=e.length;++u<o;){var a=e[u],i=r[u];if(a!==i){if(a>i||typeof a==\"undefined\")return 1;if(a<i||typeof i==\"undefined\")return-1}}return n.n-t.n}function o(n){var t=-1,r=n.length,u=n[0],o=n[r/2|0],a=n[r-1];if(u&&typeof u==\"object\"&&o&&typeof o==\"object\"&&a&&typeof a==\"object\")return false;for(u=l(),u[\"false\"]=u[\"null\"]=u[\"true\"]=u.undefined=false,o=l(),o.k=n,o.l=u,o.push=e;++t<r;)o.push(n[t]);return o}function a(n){return\"\\\\\"+Y[n]\n}function i(){return v.pop()||[]}function l(){return y.pop()||{k:null,l:null,m:null,\"false\":false,n:0,\"null\":false,number:null,object:null,push:null,string:null,\"true\":false,undefined:false,o:null}}function f(n){return typeof n.toString!=\"function\"&&typeof(n+\"\")==\"string\"}function c(n){n.length=0,v.length<w&&v.push(n)}function p(n){var t=n.l;t&&p(t),n.k=n.l=n.m=n.object=n.number=n.string=n.o=null,y.length<w&&y.push(n)}function s(n,t,e){t||(t=0),typeof e==\"undefined\"&&(e=n?n.length:0);var r=-1;e=e-t||0;for(var u=Array(0>e?0:e);++r<e;)u[r]=n[t+r];\nreturn u}function g(e){function v(n){return n&&typeof n==\"object\"&&!qe(n)&&we.call(n,\"__wrapped__\")?n:new y(n)}function y(n,t){this.__chain__=!!t,this.__wrapped__=n}function w(n){function t(){if(r){var n=s(r);je.apply(n,arguments)}if(this instanceof t){var o=nt(e.prototype),n=e.apply(o,n||arguments);return xt(n)?n:o}return e.apply(u,n||arguments)}var e=n[0],r=n[2],u=n[4];return ze(t,n),t}function Y(n,t,e,r,u){if(e){var o=e(n);if(typeof o!=\"undefined\")return o}if(!xt(n))return n;var a=he.call(n);if(!V[a]||!Le.nodeClass&&f(n))return n;\nvar l=Te[a];switch(a){case L:case z:return new l(+n);case W:case M:return new l(n);case J:return o=l(n.source,S.exec(n)),o.lastIndex=n.lastIndex,o}if(a=qe(n),t){var p=!r;r||(r=i()),u||(u=i());for(var g=r.length;g--;)if(r[g]==n)return u[g];o=a?l(n.length):{}}else o=a?s(n):Ye({},n);return a&&(we.call(n,\"index\")&&(o.index=n.index),we.call(n,\"input\")&&(o.input=n.input)),t?(r.push(n),u.push(o),(a?Xe:tr)(n,function(n,a){o[a]=Y(n,t,e,r,u)}),p&&(c(r),c(u)),o):o}function nt(n){return xt(n)?Se(n):{}}function tt(n,t,e){if(typeof n!=\"function\")return Ht;\nif(typeof t==\"undefined\"||!(\"prototype\"in n))return n;var r=n.__bindData__;if(typeof r==\"undefined\"&&(Le.funcNames&&(r=!n.name),r=r||!Le.funcDecomp,!r)){var u=be.call(n);Le.funcNames||(r=!A.test(u)),r||(r=B.test(u),ze(n,r))}if(false===r||true!==r&&1&r[1])return n;switch(e){case 1:return function(e){return n.call(t,e)};case 2:return function(e,r){return n.call(t,e,r)};case 3:return function(e,r,u){return n.call(t,e,r,u)};case 4:return function(e,r,u,o){return n.call(t,e,r,u,o)}}return Mt(n,t)}function et(n){function t(){var n=l?a:this;\nif(u){var h=s(u);je.apply(h,arguments)}return(o||c)&&(h||(h=s(arguments)),o&&je.apply(h,o),c&&h.length<i)?(r|=16,et([e,p?r:-4&r,h,null,a,i])):(h||(h=arguments),f&&(e=n[g]),this instanceof t?(n=nt(e.prototype),h=e.apply(n,h),xt(h)?h:n):e.apply(n,h))}var e=n[0],r=n[1],u=n[2],o=n[3],a=n[4],i=n[5],l=1&r,f=2&r,c=4&r,p=8&r,g=e;return ze(t,n),t}function rt(e,r){var u=-1,a=ht(),i=e?e.length:0,l=i>=_&&a===n,f=[];if(l){var c=o(r);c?(a=t,r=c):l=false}for(;++u<i;)c=e[u],0>a(r,c)&&f.push(c);return l&&p(r),f}function ot(n,t,e,r){r=(r||0)-1;\nfor(var u=n?n.length:0,o=[];++r<u;){var a=n[r];if(a&&typeof a==\"object\"&&typeof a.length==\"number\"&&(qe(a)||dt(a))){t||(a=ot(a,t,e));var i=-1,l=a.length,f=o.length;for(o.length+=l;++i<l;)o[f++]=a[i]}else e||o.push(a)}return o}function at(n,t,e,r,u,o){if(e){var a=e(n,t);if(typeof a!=\"undefined\")return!!a}if(n===t)return 0!==n||1/n==1/t;if(n===n&&!(n&&X[typeof n]||t&&X[typeof t]))return false;if(null==n||null==t)return n===t;var l=he.call(n),p=he.call(t);if(l==T&&(l=G),p==T&&(p=G),l!=p)return false;switch(l){case L:case z:return+n==+t;\ncase W:return n!=+n?t!=+t:0==n?1/n==1/t:n==+t;case J:case M:return n==ie(t)}if(p=l==$,!p){var s=we.call(n,\"__wrapped__\"),g=we.call(t,\"__wrapped__\");if(s||g)return at(s?n.__wrapped__:n,g?t.__wrapped__:t,e,r,u,o);if(l!=G||!Le.nodeClass&&(f(n)||f(t)))return false;if(l=!Le.argsObject&&dt(n)?oe:n.constructor,s=!Le.argsObject&&dt(t)?oe:t.constructor,l!=s&&!(jt(l)&&l instanceof l&&jt(s)&&s instanceof s)&&\"constructor\"in n&&\"constructor\"in t)return false}for(l=!u,u||(u=i()),o||(o=i()),s=u.length;s--;)if(u[s]==n)return o[s]==t;\nvar h=0,a=true;if(u.push(n),o.push(t),p){if(s=n.length,h=t.length,(a=h==s)||r)for(;h--;)if(p=s,g=t[h],r)for(;p--&&!(a=at(n[p],g,e,r,u,o)););else if(!(a=at(n[h],g,e,r,u,o)))break}else nr(t,function(t,i,l){return we.call(l,i)?(h++,a=we.call(n,i)&&at(n[i],t,e,r,u,o)):void 0}),a&&!r&&nr(n,function(n,t,e){return we.call(e,t)?a=-1<--h:void 0});return u.pop(),o.pop(),l&&(c(u),c(o)),a}function it(n,t,e,r,u){(qe(t)?Dt:tr)(t,function(t,o){var a,i,l=t,f=n[o];if(t&&((i=qe(t))||er(t))){for(l=r.length;l--;)if(a=r[l]==t){f=u[l];\nbreak}if(!a){var c;e&&(l=e(f,t),c=typeof l!=\"undefined\")&&(f=l),c||(f=i?qe(f)?f:[]:er(f)?f:{}),r.push(t),u.push(f),c||it(f,t,e,r,u)}}else e&&(l=e(f,t),typeof l==\"undefined\"&&(l=t)),typeof l!=\"undefined\"&&(f=l);n[o]=f})}function lt(n,t){return n+de(Fe()*(t-n+1))}function ft(e,r,u){var a=-1,l=ht(),f=e?e.length:0,s=[],g=!r&&f>=_&&l===n,h=u||g?i():s;for(g&&(h=o(h),l=t);++a<f;){var v=e[a],y=u?u(v,a,e):v;(r?!a||h[h.length-1]!==y:0>l(h,y))&&((u||g)&&h.push(y),s.push(v))}return g?(c(h.k),p(h)):u&&c(h),s}function ct(n){return function(t,e,r){var u={};\nif(e=v.createCallback(e,r,3),qe(t)){r=-1;for(var o=t.length;++r<o;){var a=t[r];n(u,a,e(a,r,t),t)}}else Xe(t,function(t,r,o){n(u,t,e(t,r,o),o)});return u}}function pt(n,t,e,r,u,o){var a=1&t,i=4&t,l=16&t,f=32&t;if(!(2&t||jt(n)))throw new le;l&&!e.length&&(t&=-17,l=e=false),f&&!r.length&&(t&=-33,f=r=false);var c=n&&n.__bindData__;return c&&true!==c?(c=s(c),c[2]&&(c[2]=s(c[2])),c[3]&&(c[3]=s(c[3])),!a||1&c[1]||(c[4]=u),!a&&1&c[1]&&(t|=8),!i||4&c[1]||(c[5]=o),l&&je.apply(c[2]||(c[2]=[]),e),f&&Ee.apply(c[3]||(c[3]=[]),r),c[1]|=t,pt.apply(null,c)):(1==t||17===t?w:et)([n,t,e,r,u,o])\n}function st(){Q.h=F,Q.b=Q.c=Q.g=Q.i=\"\",Q.e=\"t\",Q.j=true;for(var n,t=0;n=arguments[t];t++)for(var e in n)Q[e]=n[e];t=Q.a,Q.d=/^[^,]+/.exec(t)[0],n=ee,t=\"return function(\"+t+\"){\",e=Q;var r=\"var n,t=\"+e.d+\",E=\"+e.e+\";if(!t)return E;\"+e.i+\";\";e.b?(r+=\"var u=t.length;n=-1;if(\"+e.b+\"){\",Le.unindexedChars&&(r+=\"if(s(t)){t=t.split('')}\"),r+=\"while(++n<u){\"+e.g+\";}}else{\"):Le.nonEnumArgs&&(r+=\"var u=t.length;n=-1;if(u&&p(t)){while(++n<u){n+='';\"+e.g+\";}}else{\"),Le.enumPrototypes&&(r+=\"var G=typeof t=='function';\"),Le.enumErrorProps&&(r+=\"var F=t===k||t instanceof Error;\");\nvar u=[];if(Le.enumPrototypes&&u.push('!(G&&n==\"prototype\")'),Le.enumErrorProps&&u.push('!(F&&(n==\"message\"||n==\"name\"))'),e.j&&e.f)r+=\"var C=-1,D=B[typeof t]&&v(t),u=D?D.length:0;while(++C<u){n=D[C];\",u.length&&(r+=\"if(\"+u.join(\"&&\")+\"){\"),r+=e.g+\";\",u.length&&(r+=\"}\"),r+=\"}\";else if(r+=\"for(n in t){\",e.j&&u.push(\"m.call(t, n)\"),u.length&&(r+=\"if(\"+u.join(\"&&\")+\"){\"),r+=e.g+\";\",u.length&&(r+=\"}\"),r+=\"}\",Le.nonEnumShadows){for(r+=\"if(t!==A){var i=t.constructor,r=t===(i&&i.prototype),f=t===J?I:t===k?j:L.call(t),x=y[f];\",k=0;7>k;k++)r+=\"n='\"+e.h[k]+\"';if((!(r&&x[n])&&m.call(t,n))\",e.j||(r+=\"||(!x[n]&&t[n]!==A[n])\"),r+=\"){\"+e.g+\"}\";\nr+=\"}\"}return(e.b||Le.nonEnumArgs)&&(r+=\"}\"),r+=e.c+\";return E\",n(\"d,j,k,m,o,p,q,s,v,A,B,y,I,J,L\",t+r+\"}\")(tt,q,ce,we,d,dt,qe,kt,Q.f,pe,X,$e,M,se,he)}function gt(n){return Ve[n]}function ht(){var t=(t=v.indexOf)===zt?n:t;return t}function vt(n){return typeof n==\"function\"&&ve.test(n)}function yt(n){var t,e;return!n||he.call(n)!=G||(t=n.constructor,jt(t)&&!(t instanceof t))||!Le.argsClass&&dt(n)||!Le.nodeClass&&f(n)?false:Le.ownLast?(nr(n,function(n,t,r){return e=we.call(r,t),false}),false!==e):(nr(n,function(n,t){e=t\n}),typeof e==\"undefined\"||we.call(n,e))}function mt(n){return He[n]}function dt(n){return n&&typeof n==\"object\"&&typeof n.length==\"number\"&&he.call(n)==T||false}function bt(n,t,e){var r=We(n),u=r.length;for(t=tt(t,e,3);u--&&(e=r[u],false!==t(n[e],e,n)););return n}function _t(n){var t=[];return nr(n,function(n,e){jt(n)&&t.push(e)}),t.sort()}function wt(n){for(var t=-1,e=We(n),r=e.length,u={};++t<r;){var o=e[t];u[n[o]]=o}return u}function jt(n){return typeof n==\"function\"}function xt(n){return!(!n||!X[typeof n])\n}function Ct(n){return typeof n==\"number\"||n&&typeof n==\"object\"&&he.call(n)==W||false}function kt(n){return typeof n==\"string\"||n&&typeof n==\"object\"&&he.call(n)==M||false}function Et(n){for(var t=-1,e=We(n),r=e.length,u=Zt(r);++t<r;)u[t]=n[e[t]];return u}function Ot(n,t,e){var r=-1,u=ht(),o=n?n.length:0,a=false;return e=(0>e?Be(0,o+e):e)||0,qe(n)?a=-1<u(n,t,e):typeof o==\"number\"?a=-1<(kt(n)?n.indexOf(t,e):u(n,t,e)):Xe(n,function(n){return++r<e?void 0:!(a=n===t)}),a}function St(n,t,e){var r=true;if(t=v.createCallback(t,e,3),qe(n)){e=-1;\nfor(var u=n.length;++e<u&&(r=!!t(n[e],e,n)););}else Xe(n,function(n,e,u){return r=!!t(n,e,u)});return r}function At(n,t,e){var r=[];if(t=v.createCallback(t,e,3),qe(n)){e=-1;for(var u=n.length;++e<u;){var o=n[e];t(o,e,n)&&r.push(o)}}else Xe(n,function(n,e,u){t(n,e,u)&&r.push(n)});return r}function It(n,t,e){if(t=v.createCallback(t,e,3),!qe(n)){var r;return Xe(n,function(n,e,u){return t(n,e,u)?(r=n,false):void 0}),r}e=-1;for(var u=n.length;++e<u;){var o=n[e];if(t(o,e,n))return o}}function Dt(n,t,e){if(t&&typeof e==\"undefined\"&&qe(n)){e=-1;\nfor(var r=n.length;++e<r&&false!==t(n[e],e,n););}else Xe(n,t,e);return n}function Nt(n,t,e){var r=n,u=n?n.length:0;if(t=t&&typeof e==\"undefined\"?t:tt(t,e,3),qe(n))for(;u--&&false!==t(n[u],u,n););else{if(typeof u!=\"number\")var o=We(n),u=o.length;else Le.unindexedChars&&kt(n)&&(r=n.split(\"\"));Xe(n,function(n,e,a){return e=o?o[--u]:--u,t(r[e],e,a)})}return n}function Bt(n,t,e){var r=-1,u=n?n.length:0,o=Zt(typeof u==\"number\"?u:0);if(t=v.createCallback(t,e,3),qe(n))for(;++r<u;)o[r]=t(n[r],r,n);else Xe(n,function(n,e,u){o[++r]=t(n,e,u)\n});return o}function Pt(n,t,e){var u=-1/0,o=u;if(typeof t!=\"function\"&&e&&e[t]===n&&(t=null),null==t&&qe(n)){e=-1;for(var a=n.length;++e<a;){var i=n[e];i>o&&(o=i)}}else t=null==t&&kt(n)?r:v.createCallback(t,e,3),Xe(n,function(n,e,r){e=t(n,e,r),e>u&&(u=e,o=n)});return o}function Rt(n,t,e,r){var u=3>arguments.length;if(t=v.createCallback(t,r,4),qe(n)){var o=-1,a=n.length;for(u&&(e=n[++o]);++o<a;)e=t(e,n[o],o,n)}else Xe(n,function(n,r,o){e=u?(u=false,n):t(e,n,r,o)});return e}function Ft(n,t,e,r){var u=3>arguments.length;\nreturn t=v.createCallback(t,r,4),Nt(n,function(n,r,o){e=u?(u=false,n):t(e,n,r,o)}),e}function Tt(n){var t=-1,e=n?n.length:0,r=Zt(typeof e==\"number\"?e:0);return Dt(n,function(n){var e=lt(0,++t);r[t]=r[e],r[e]=n}),r}function $t(n,t,e){var r;if(t=v.createCallback(t,e,3),qe(n)){e=-1;for(var u=n.length;++e<u&&!(r=t(n[e],e,n)););}else Xe(n,function(n,e,u){return!(r=t(n,e,u))});return!!r}function Lt(n,t,e){var r=0,u=n?n.length:0;if(typeof t!=\"number\"&&null!=t){var o=-1;for(t=v.createCallback(t,e,3);++o<u&&t(n[o],o,n);)r++\n}else if(r=t,null==r||e)return n?n[0]:h;return s(n,0,Pe(Be(0,r),u))}function zt(t,e,r){if(typeof r==\"number\"){var u=t?t.length:0;r=0>r?Be(0,u+r):r||0}else if(r)return r=Kt(t,e),t[r]===e?r:-1;return n(t,e,r)}function qt(n,t,e){if(typeof t!=\"number\"&&null!=t){var r=0,u=-1,o=n?n.length:0;for(t=v.createCallback(t,e,3);++u<o&&t(n[u],u,n);)r++}else r=null==t||e?1:Be(0,t);return s(n,r)}function Kt(n,t,e,r){var u=0,o=n?n.length:u;for(e=e?v.createCallback(e,r,1):Ht,t=e(t);u<o;)r=u+o>>>1,e(n[r])<t?u=r+1:o=r;\nreturn u}function Wt(n,t,e,r){return typeof t!=\"boolean\"&&null!=t&&(r=e,e=typeof t!=\"function\"&&r&&r[t]===n?null:t,t=false),null!=e&&(e=v.createCallback(e,r,3)),ft(n,t,e)}function Gt(){for(var n=1<arguments.length?arguments:arguments[0],t=-1,e=n?Pt(ar(n,\"length\")):0,r=Zt(0>e?0:e);++t<e;)r[t]=ar(n,t);return r}function Jt(n,t){var e=-1,r=n?n.length:0,u={};for(t||!r||qe(n[0])||(t=[]);++e<r;){var o=n[e];t?u[o]=t[e]:o&&(u[o[0]]=o[1])}return u}function Mt(n,t){return 2<arguments.length?pt(n,17,s(arguments,2),null,t):pt(n,1,null,null,t)\n}function Vt(n,t,e){var r,u,o,a,i,l,f,c=0,p=false,s=true;if(!jt(n))throw new le;if(t=Be(0,t)||0,true===e)var g=true,s=false;else xt(e)&&(g=e.leading,p=\"maxWait\"in e&&(Be(t,e.maxWait)||0),s=\"trailing\"in e?e.trailing:s);var v=function(){var e=t-(ir()-a);0<e?l=Ce(v,e):(u&&me(u),e=f,u=l=f=h,e&&(c=ir(),o=n.apply(i,r),l||u||(r=i=null)))},y=function(){l&&me(l),u=l=f=h,(s||p!==t)&&(c=ir(),o=n.apply(i,r),l||u||(r=i=null))};return function(){if(r=arguments,a=ir(),i=this,f=s&&(l||!g),false===p)var e=g&&!l;else{u||g||(c=a);\nvar h=p-(a-c),m=0>=h;m?(u&&(u=me(u)),c=a,o=n.apply(i,r)):u||(u=Ce(y,h))}return m&&l?l=me(l):l||t===p||(l=Ce(v,t)),e&&(m=true,o=n.apply(i,r)),!m||l||u||(r=i=null),o}}function Ht(n){return n}function Ut(n,t,e){var r=true,u=t&&_t(t);t&&(e||u.length)||(null==e&&(e=t),o=y,t=n,n=v,u=_t(t)),false===e?r=false:xt(e)&&\"chain\"in e&&(r=e.chain);var o=n,a=jt(o);Dt(u,function(e){var u=n[e]=t[e];a&&(o.prototype[e]=function(){var t=this.__chain__,e=this.__wrapped__,a=[e];if(je.apply(a,arguments),a=u.apply(n,a),r||t){if(e===a&&xt(a))return this;\na=new o(a),a.__chain__=t}return a})})}function Qt(){}function Xt(n){return function(t){return t[n]}}function Yt(){return this.__wrapped__}e=e?ut.defaults(Z.Object(),e,ut.pick(Z,R)):Z;var Zt=e.Array,ne=e.Boolean,te=e.Date,ee=e.Function,re=e.Math,ue=e.Number,oe=e.Object,ae=e.RegExp,ie=e.String,le=e.TypeError,fe=[],ce=e.Error.prototype,pe=oe.prototype,se=ie.prototype,ge=e._,he=pe.toString,ve=ae(\"^\"+ie(he).replace(/[.*+?^${}()|[\\]\\\\]/g,\"\\\\$&\").replace(/toString| for [^\\]]+/g,\".*?\")+\"$\"),ye=re.ceil,me=e.clearTimeout,de=re.floor,be=ee.prototype.toString,_e=vt(_e=oe.getPrototypeOf)&&_e,we=pe.hasOwnProperty,je=fe.push,xe=pe.propertyIsEnumerable,Ce=e.setTimeout,ke=fe.splice,Ee=fe.unshift,Oe=function(){try{var n={},t=vt(t=oe.defineProperty)&&t,e=t(n,n,n)&&t\n}catch(r){}return e}(),Se=vt(Se=oe.create)&&Se,Ae=vt(Ae=Zt.isArray)&&Ae,Ie=e.isFinite,De=e.isNaN,Ne=vt(Ne=oe.keys)&&Ne,Be=re.max,Pe=re.min,Re=e.parseInt,Fe=re.random,Te={};Te[$]=Zt,Te[L]=ne,Te[z]=te,Te[K]=ee,Te[G]=oe,Te[W]=ue,Te[J]=ae,Te[M]=ie;var $e={};$e[$]=$e[z]=$e[W]={constructor:true,toLocaleString:true,toString:true,valueOf:true},$e[L]=$e[M]={constructor:true,toString:true,valueOf:true},$e[q]=$e[K]=$e[J]={constructor:true,toString:true},$e[G]={constructor:true},function(){for(var n=F.length;n--;){var t,e=F[n];\nfor(t in $e)we.call($e,t)&&!we.call($e[t],e)&&($e[t][e]=false)}}(),y.prototype=v.prototype;var Le=v.support={};!function(){var n=function(){this.x=1},t={0:1,length:1},r=[];n.prototype={valueOf:1,y:1};for(var u in new n)r.push(u);for(u in arguments);Le.argsClass=he.call(arguments)==T,Le.argsObject=arguments.constructor==oe&&!(arguments instanceof Zt),Le.enumErrorProps=xe.call(ce,\"message\")||xe.call(ce,\"name\"),Le.enumPrototypes=xe.call(n,\"prototype\"),Le.funcDecomp=!vt(e.WinRTError)&&B.test(g),Le.funcNames=typeof ee.name==\"string\",Le.nonEnumArgs=0!=u,Le.nonEnumShadows=!/valueOf/.test(r),Le.ownLast=\"x\"!=r[0],Le.spliceObjects=(fe.splice.call(t,0,1),!t[0]),Le.unindexedChars=\"xx\"!=\"x\"[0]+oe(\"x\")[0];\ntry{Le.nodeClass=!(he.call(document)==G&&!({toString:0}+\"\"))}catch(o){Le.nodeClass=true}}(1),v.templateSettings={escape:/<%-([\\s\\S]+?)%>/g,evaluate:/<%([\\s\\S]+?)%>/g,interpolate:I,variable:\"\",imports:{_:v}},Se||(nt=function(){function n(){}return function(t){if(xt(t)){n.prototype=t;var r=new n;n.prototype=null}return r||e.Object()}}());var ze=Oe?function(n,t){U.value=t,Oe(n,\"__bindData__\",U)}:Qt;Le.argsClass||(dt=function(n){return n&&typeof n==\"object\"&&typeof n.length==\"number\"&&we.call(n,\"callee\")&&!xe.call(n,\"callee\")||false\n});var qe=Ae||function(n){return n&&typeof n==\"object\"&&typeof n.length==\"number\"&&he.call(n)==$||false},Ke=st({a:\"z\",e:\"[]\",i:\"if(!(B[typeof z]))return E\",g:\"E.push(n)\"}),We=Ne?function(n){return xt(n)?Le.enumPrototypes&&typeof n==\"function\"||Le.nonEnumArgs&&n.length&&dt(n)?Ke(n):Ne(n):[]}:Ke,Ge={a:\"g,e,K\",i:\"e=e&&typeof K=='undefined'?e:d(e,K,3)\",b:\"typeof u=='number'\",v:We,g:\"if(e(t[n],n,g)===false)return E\"},Je={a:\"z,H,l\",i:\"var a=arguments,b=0,c=typeof l=='number'?2:a.length;while(++b<c){t=a[b];if(t&&B[typeof t]){\",v:We,g:\"if(typeof E[n]=='undefined')E[n]=t[n]\",c:\"}}\"},Me={i:\"if(!B[typeof t])return E;\"+Ge.i,b:false},Ve={\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\",'\"':\"&quot;\",\"'\":\"&#39;\"},He=wt(Ve),Ue=ae(\"(\"+We(He).join(\"|\")+\")\",\"g\"),Qe=ae(\"[\"+We(Ve).join(\"\")+\"]\",\"g\"),Xe=st(Ge),Ye=st(Je,{i:Je.i.replace(\";\",\";if(c>3&&typeof a[c-2]=='function'){var e=d(a[--c-1],a[c--],2)}else if(c>2&&typeof a[c-1]=='function'){e=a[--c]}\"),g:\"E[n]=e?e(E[n],t[n]):t[n]\"}),Ze=st(Je),nr=st(Ge,Me,{j:false}),tr=st(Ge,Me);\njt(/x/)&&(jt=function(n){return typeof n==\"function\"&&he.call(n)==K});var er=_e?function(n){if(!n||he.call(n)!=G||!Le.argsClass&&dt(n))return false;var t=n.valueOf,e=vt(t)&&(e=_e(t))&&_e(e);return e?n==e||_e(n)==e:yt(n)}:yt,rr=ct(function(n,t,e){we.call(n,e)?n[e]++:n[e]=1}),ur=ct(function(n,t,e){(we.call(n,e)?n[e]:n[e]=[]).push(t)}),or=ct(function(n,t,e){n[e]=t}),ar=Bt,ir=vt(ir=te.now)&&ir||function(){return(new te).getTime()},lr=8==Re(j+\"08\")?Re:function(n,t){return Re(kt(n)?n.replace(D,\"\"):n,t||0)};\nreturn v.after=function(n,t){if(!jt(t))throw new le;return function(){return 1>--n?t.apply(this,arguments):void 0}},v.assign=Ye,v.at=function(n){var t=arguments,e=-1,r=ot(t,true,false,1),t=t[2]&&t[2][t[1]]===n?1:r.length,u=Zt(t);for(Le.unindexedChars&&kt(n)&&(n=n.split(\"\"));++e<t;)u[e]=n[r[e]];return u},v.bind=Mt,v.bindAll=function(n){for(var t=1<arguments.length?ot(arguments,true,false,1):_t(n),e=-1,r=t.length;++e<r;){var u=t[e];n[u]=pt(n[u],1,null,null,n)}return n},v.bindKey=function(n,t){return 2<arguments.length?pt(t,19,s(arguments,2),null,n):pt(t,3,null,null,n)\n},v.chain=function(n){return n=new y(n),n.__chain__=true,n},v.compact=function(n){for(var t=-1,e=n?n.length:0,r=[];++t<e;){var u=n[t];u&&r.push(u)}return r},v.compose=function(){for(var n=arguments,t=n.length;t--;)if(!jt(n[t]))throw new le;return function(){for(var t=arguments,e=n.length;e--;)t=[n[e].apply(this,t)];return t[0]}},v.constant=function(n){return function(){return n}},v.countBy=rr,v.create=function(n,t){var e=nt(n);return t?Ye(e,t):e},v.createCallback=function(n,t,e){var r=typeof n;if(null==n||\"function\"==r)return tt(n,t,e);\nif(\"object\"!=r)return Xt(n);var u=We(n),o=u[0],a=n[o];return 1!=u.length||a!==a||xt(a)?function(t){for(var e=u.length,r=false;e--&&(r=at(t[u[e]],n[u[e]],null,true)););return r}:function(n){return n=n[o],a===n&&(0!==a||1/a==1/n)}},v.curry=function(n,t){return t=typeof t==\"number\"?t:+t||n.length,pt(n,4,null,null,null,t)},v.debounce=Vt,v.defaults=Ze,v.defer=function(n){if(!jt(n))throw new le;var t=s(arguments,1);return Ce(function(){n.apply(h,t)},1)},v.delay=function(n,t){if(!jt(n))throw new le;var e=s(arguments,2);\nreturn Ce(function(){n.apply(h,e)},t)},v.difference=function(n){return rt(n,ot(arguments,true,true,1))},v.filter=At,v.flatten=function(n,t,e,r){return typeof t!=\"boolean\"&&null!=t&&(r=e,e=typeof t!=\"function\"&&r&&r[t]===n?null:t,t=false),null!=e&&(n=Bt(n,e,r)),ot(n,t)},v.forEach=Dt,v.forEachRight=Nt,v.forIn=nr,v.forInRight=function(n,t,e){var r=[];nr(n,function(n,t){r.push(t,n)});var u=r.length;for(t=tt(t,e,3);u--&&false!==t(r[u--],r[u],n););return n},v.forOwn=tr,v.forOwnRight=bt,v.functions=_t,v.groupBy=ur,v.indexBy=or,v.initial=function(n,t,e){var r=0,u=n?n.length:0;\nif(typeof t!=\"number\"&&null!=t){var o=u;for(t=v.createCallback(t,e,3);o--&&t(n[o],o,n);)r++}else r=null==t||e?1:t||r;return s(n,0,Pe(Be(0,u-r),u))},v.intersection=function(){for(var e=[],r=-1,u=arguments.length,a=i(),l=ht(),f=l===n,s=i();++r<u;){var g=arguments[r];(qe(g)||dt(g))&&(e.push(g),a.push(f&&g.length>=_&&o(r?e[r]:s)))}var f=e[0],h=-1,v=f?f.length:0,y=[];n:for(;++h<v;){var m=a[0],g=f[h];if(0>(m?t(m,g):l(s,g))){for(r=u,(m||s).push(g);--r;)if(m=a[r],0>(m?t(m,g):l(e[r],g)))continue n;y.push(g)\n}}for(;u--;)(m=a[u])&&p(m);return c(a),c(s),y},v.invert=wt,v.invoke=function(n,t){var e=s(arguments,2),r=-1,u=typeof t==\"function\",o=n?n.length:0,a=Zt(typeof o==\"number\"?o:0);return Dt(n,function(n){a[++r]=(u?t:n[t]).apply(n,e)}),a},v.keys=We,v.map=Bt,v.mapValues=function(n,t,e){var r={};return t=v.createCallback(t,e,3),tr(n,function(n,e,u){r[e]=t(n,e,u)}),r},v.max=Pt,v.memoize=function(n,t){if(!jt(n))throw new le;var e=function(){var r=e.cache,u=t?t.apply(this,arguments):b+arguments[0];return we.call(r,u)?r[u]:r[u]=n.apply(this,arguments)\n};return e.cache={},e},v.merge=function(n){var t=arguments,e=2;if(!xt(n))return n;if(\"number\"!=typeof t[2]&&(e=t.length),3<e&&\"function\"==typeof t[e-2])var r=tt(t[--e-1],t[e--],2);else 2<e&&\"function\"==typeof t[e-1]&&(r=t[--e]);for(var t=s(arguments,1,e),u=-1,o=i(),a=i();++u<e;)it(n,t[u],r,o,a);return c(o),c(a),n},v.min=function(n,t,e){var u=1/0,o=u;if(typeof t!=\"function\"&&e&&e[t]===n&&(t=null),null==t&&qe(n)){e=-1;for(var a=n.length;++e<a;){var i=n[e];i<o&&(o=i)}}else t=null==t&&kt(n)?r:v.createCallback(t,e,3),Xe(n,function(n,e,r){e=t(n,e,r),e<u&&(u=e,o=n)\n});return o},v.omit=function(n,t,e){var r={};if(typeof t!=\"function\"){var u=[];nr(n,function(n,t){u.push(t)});for(var u=rt(u,ot(arguments,true,false,1)),o=-1,a=u.length;++o<a;){var i=u[o];r[i]=n[i]}}else t=v.createCallback(t,e,3),nr(n,function(n,e,u){t(n,e,u)||(r[e]=n)});return r},v.once=function(n){var t,e;if(!jt(n))throw new le;return function(){return t?e:(t=true,e=n.apply(this,arguments),n=null,e)}},v.pairs=function(n){for(var t=-1,e=We(n),r=e.length,u=Zt(r);++t<r;){var o=e[t];u[t]=[o,n[o]]}return u\n},v.partial=function(n){return pt(n,16,s(arguments,1))},v.partialRight=function(n){return pt(n,32,null,s(arguments,1))},v.pick=function(n,t,e){var r={};if(typeof t!=\"function\")for(var u=-1,o=ot(arguments,true,false,1),a=xt(n)?o.length:0;++u<a;){var i=o[u];i in n&&(r[i]=n[i])}else t=v.createCallback(t,e,3),nr(n,function(n,e,u){t(n,e,u)&&(r[e]=n)});return r},v.pluck=ar,v.property=Xt,v.pull=function(n){for(var t=arguments,e=0,r=t.length,u=n?n.length:0;++e<r;)for(var o=-1,a=t[e];++o<u;)n[o]===a&&(ke.call(n,o--,1),u--);\nreturn n},v.range=function(n,t,e){n=+n||0,e=typeof e==\"number\"?e:+e||1,null==t&&(t=n,n=0);var r=-1;t=Be(0,ye((t-n)/(e||1)));for(var u=Zt(t);++r<t;)u[r]=n,n+=e;return u},v.reject=function(n,t,e){return t=v.createCallback(t,e,3),At(n,function(n,e,r){return!t(n,e,r)})},v.remove=function(n,t,e){var r=-1,u=n?n.length:0,o=[];for(t=v.createCallback(t,e,3);++r<u;)e=n[r],t(e,r,n)&&(o.push(e),ke.call(n,r--,1),u--);return o},v.rest=qt,v.shuffle=Tt,v.sortBy=function(n,t,e){var r=-1,o=qe(t),a=n?n.length:0,f=Zt(typeof a==\"number\"?a:0);\nfor(o||(t=v.createCallback(t,e,3)),Dt(n,function(n,e,u){var a=f[++r]=l();o?a.m=Bt(t,function(t){return n[t]}):(a.m=i())[0]=t(n,e,u),a.n=r,a.o=n}),a=f.length,f.sort(u);a--;)n=f[a],f[a]=n.o,o||c(n.m),p(n);return f},v.tap=function(n,t){return t(n),n},v.throttle=function(n,t,e){var r=true,u=true;if(!jt(n))throw new le;return false===e?r=false:xt(e)&&(r=\"leading\"in e?e.leading:r,u=\"trailing\"in e?e.trailing:u),H.leading=r,H.maxWait=t,H.trailing=u,Vt(n,t,H)},v.times=function(n,t,e){n=-1<(n=+n)?n:0;var r=-1,u=Zt(n);\nfor(t=tt(t,e,1);++r<n;)u[r]=t(r);return u},v.toArray=function(n){return n&&typeof n.length==\"number\"?Le.unindexedChars&&kt(n)?n.split(\"\"):s(n):Et(n)},v.transform=function(n,t,e,r){var u=qe(n);if(null==e)if(u)e=[];else{var o=n&&n.constructor;e=nt(o&&o.prototype)}return t&&(t=v.createCallback(t,r,4),(u?Xe:tr)(n,function(n,r,u){return t(e,n,r,u)})),e},v.union=function(){return ft(ot(arguments,true,true))},v.uniq=Wt,v.values=Et,v.where=At,v.without=function(n){return rt(n,s(arguments,1))},v.wrap=function(n,t){return pt(t,16,[n])\n},v.xor=function(){for(var n=-1,t=arguments.length;++n<t;){var e=arguments[n];if(qe(e)||dt(e))var r=r?ft(rt(r,e).concat(rt(e,r))):e}return r||[]},v.zip=Gt,v.zipObject=Jt,v.collect=Bt,v.drop=qt,v.each=Dt,v.eachRight=Nt,v.extend=Ye,v.methods=_t,v.object=Jt,v.select=At,v.tail=qt,v.unique=Wt,v.unzip=Gt,Ut(v),v.clone=function(n,t,e,r){return typeof t!=\"boolean\"&&null!=t&&(r=e,e=t,t=false),Y(n,t,typeof e==\"function\"&&tt(e,r,1))},v.cloneDeep=function(n,t,e){return Y(n,true,typeof t==\"function\"&&tt(t,e,1))},v.contains=Ot,v.escape=function(n){return null==n?\"\":ie(n).replace(Qe,gt)\n},v.every=St,v.find=It,v.findIndex=function(n,t,e){var r=-1,u=n?n.length:0;for(t=v.createCallback(t,e,3);++r<u;)if(t(n[r],r,n))return r;return-1},v.findKey=function(n,t,e){var r;return t=v.createCallback(t,e,3),tr(n,function(n,e,u){return t(n,e,u)?(r=e,false):void 0}),r},v.findLast=function(n,t,e){var r;return t=v.createCallback(t,e,3),Nt(n,function(n,e,u){return t(n,e,u)?(r=n,false):void 0}),r},v.findLastIndex=function(n,t,e){var r=n?n.length:0;for(t=v.createCallback(t,e,3);r--;)if(t(n[r],r,n))return r;\nreturn-1},v.findLastKey=function(n,t,e){var r;return t=v.createCallback(t,e,3),bt(n,function(n,e,u){return t(n,e,u)?(r=e,false):void 0}),r},v.has=function(n,t){return n?we.call(n,t):false},v.identity=Ht,v.indexOf=zt,v.isArguments=dt,v.isArray=qe,v.isBoolean=function(n){return true===n||false===n||n&&typeof n==\"object\"&&he.call(n)==L||false},v.isDate=function(n){return n&&typeof n==\"object\"&&he.call(n)==z||false},v.isElement=function(n){return n&&1===n.nodeType||false},v.isEmpty=function(n){var t=true;if(!n)return t;var e=he.call(n),r=n.length;\nreturn e==$||e==M||(Le.argsClass?e==T:dt(n))||e==G&&typeof r==\"number\"&&jt(n.splice)?!r:(tr(n,function(){return t=false}),t)},v.isEqual=function(n,t,e,r){return at(n,t,typeof e==\"function\"&&tt(e,r,2))},v.isFinite=function(n){return Ie(n)&&!De(parseFloat(n))},v.isFunction=jt,v.isNaN=function(n){return Ct(n)&&n!=+n},v.isNull=function(n){return null===n},v.isNumber=Ct,v.isObject=xt,v.isPlainObject=er,v.isRegExp=function(n){return n&&X[typeof n]&&he.call(n)==J||false},v.isString=kt,v.isUndefined=function(n){return typeof n==\"undefined\"\n},v.lastIndexOf=function(n,t,e){var r=n?n.length:0;for(typeof e==\"number\"&&(r=(0>e?Be(0,r+e):Pe(e,r-1))+1);r--;)if(n[r]===t)return r;return-1},v.mixin=Ut,v.noConflict=function(){return e._=ge,this},v.noop=Qt,v.now=ir,v.parseInt=lr,v.random=function(n,t,e){var r=null==n,u=null==t;return null==e&&(typeof n==\"boolean\"&&u?(e=n,n=1):u||typeof t!=\"boolean\"||(e=t,u=true)),r&&u&&(t=1),n=+n||0,u?(t=n,n=0):t=+t||0,e||n%1||t%1?(e=Fe(),Pe(n+e*(t-n+parseFloat(\"1e-\"+((e+\"\").length-1))),t)):lt(n,t)},v.reduce=Rt,v.reduceRight=Ft,v.result=function(n,t){if(n){var e=n[t];\nreturn jt(e)?n[t]():e}},v.runInContext=g,v.size=function(n){var t=n?n.length:0;return typeof t==\"number\"?t:We(n).length},v.some=$t,v.sortedIndex=Kt,v.template=function(n,t,e){var r=v.templateSettings;n=ie(n||\"\"),e=Ze({},e,r);var u,o=Ze({},e.imports,r.imports),r=We(o),o=Et(o),i=0,l=e.interpolate||N,f=\"__p+='\",l=ae((e.escape||N).source+\"|\"+l.source+\"|\"+(l===I?O:N).source+\"|\"+(e.evaluate||N).source+\"|$\",\"g\");n.replace(l,function(t,e,r,o,l,c){return r||(r=o),f+=n.slice(i,c).replace(P,a),e&&(f+=\"'+__e(\"+e+\")+'\"),l&&(u=true,f+=\"';\"+l+\";\\n__p+='\"),r&&(f+=\"'+((__t=(\"+r+\"))==null?'':__t)+'\"),i=c+t.length,t\n}),f+=\"';\",l=e=e.variable,l||(e=\"obj\",f=\"with(\"+e+\"){\"+f+\"}\"),f=(u?f.replace(x,\"\"):f).replace(C,\"$1\").replace(E,\"$1;\"),f=\"function(\"+e+\"){\"+(l?\"\":e+\"||(\"+e+\"={});\")+\"var __t,__p='',__e=_.escape\"+(u?\",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}\":\";\")+f+\"return __p}\";try{var c=ee(r,\"return \"+f).apply(h,o)}catch(p){throw p.source=f,p}return t?c(t):(c.source=f,c)},v.unescape=function(n){return null==n?\"\":ie(n).replace(Ue,mt)},v.uniqueId=function(n){var t=++m;return ie(null==n?\"\":n)+t\n},v.all=St,v.any=$t,v.detect=It,v.findWhere=It,v.foldl=Rt,v.foldr=Ft,v.include=Ot,v.inject=Rt,Ut(function(){var n={};return tr(v,function(t,e){v.prototype[e]||(n[e]=t)}),n}(),false),v.first=Lt,v.last=function(n,t,e){var r=0,u=n?n.length:0;if(typeof t!=\"number\"&&null!=t){var o=u;for(t=v.createCallback(t,e,3);o--&&t(n[o],o,n);)r++}else if(r=t,null==r||e)return n?n[u-1]:h;return s(n,Be(0,u-r))},v.sample=function(n,t,e){return n&&typeof n.length!=\"number\"?n=Et(n):Le.unindexedChars&&kt(n)&&(n=n.split(\"\")),null==t||e?n?n[lt(0,n.length-1)]:h:(n=Tt(n),n.length=Pe(Be(0,t),n.length),n)\n},v.take=Lt,v.head=Lt,tr(v,function(n,t){var e=\"sample\"!==t;v.prototype[t]||(v.prototype[t]=function(t,r){var u=this.__chain__,o=n(this.__wrapped__,t,r);return u||null!=t&&(!r||e&&typeof t==\"function\")?new y(o,u):o})}),v.VERSION=\"2.4.1\",v.prototype.chain=function(){return this.__chain__=true,this},v.prototype.toString=function(){return ie(this.__wrapped__)},v.prototype.value=Yt,v.prototype.valueOf=Yt,Xe([\"join\",\"pop\",\"shift\"],function(n){var t=fe[n];v.prototype[n]=function(){var n=this.__chain__,e=t.apply(this.__wrapped__,arguments);\nreturn n?new y(e,n):e}}),Xe([\"push\",\"reverse\",\"sort\",\"unshift\"],function(n){var t=fe[n];v.prototype[n]=function(){return t.apply(this.__wrapped__,arguments),this}}),Xe([\"concat\",\"slice\",\"splice\"],function(n){var t=fe[n];v.prototype[n]=function(){return new y(t.apply(this.__wrapped__,arguments),this.__chain__)}}),Le.spliceObjects||Xe([\"pop\",\"shift\",\"splice\"],function(n){var t=fe[n],e=\"splice\"==n;v.prototype[n]=function(){var n=this.__chain__,r=this.__wrapped__,u=t.apply(r,arguments);return 0===r.length&&delete r[0],n||e?new y(u,n):u\n}}),v}var h,v=[],y=[],m=0,d={},b=+new Date+\"\",_=75,w=40,j=\" \\t\\x0B\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\",x=/\\b__p\\+='';/g,C=/\\b(__p\\+=)''\\+/g,E=/(__e\\(.*?\\)|\\b__t\\))\\+'';/g,O=/\\$\\{([^\\\\}]*(?:\\\\.[^\\\\}]*)*)\\}/g,S=/\\w*$/,A=/^\\s*function[ \\n\\r\\t]+\\w/,I=/<%=([\\s\\S]+?)%>/g,D=RegExp(\"^[\"+j+\"]*0+(?=.$)\"),N=/($^)/,B=/\\bthis\\b/,P=/['\\n\\r\\t\\u2028\\u2029\\\\]/g,R=\"Array Boolean Date Error Function Math Number Object RegExp String _ attachEvent clearTimeout isFinite isNaN parseInt setTimeout\".split(\" \"),F=\"constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf\".split(\" \"),T=\"[object Arguments]\",$=\"[object Array]\",L=\"[object Boolean]\",z=\"[object Date]\",q=\"[object Error]\",K=\"[object Function]\",W=\"[object Number]\",G=\"[object Object]\",J=\"[object RegExp]\",M=\"[object String]\",V={};\nV[K]=false,V[T]=V[$]=V[L]=V[z]=V[W]=V[G]=V[J]=V[M]=true;var H={leading:false,maxWait:0,trailing:false},U={configurable:false,enumerable:false,value:null,writable:false},Q={a:\"\",b:null,c:\"\",d:\"\",e:\"\",v:null,g:\"\",h:null,support:null,i:\"\",j:false},X={\"boolean\":false,\"function\":true,object:true,number:false,string:false,undefined:false},Y={\"\\\\\":\"\\\\\",\"'\":\"'\",\"\\n\":\"n\",\"\\r\":\"r\",\"\\t\":\"t\",\"\\u2028\":\"u2028\",\"\\u2029\":\"u2029\"},Z=X[typeof window]&&window||this,nt=X[typeof exports]&&exports&&!exports.nodeType&&exports,tt=X[typeof module]&&module&&!module.nodeType&&module,et=tt&&tt.exports===nt&&nt,rt=X[typeof global]&&global;\n!rt||rt.global!==rt&&rt.window!==rt||(Z=rt);var ut=g();typeof define==\"function\"&&typeof define.amd==\"object\"&&define.amd?(Z._=ut, define('taoQtiItem/portableLib/lodash',[],function(){return ut})):nt&&tt?et?(tt.exports=ut)._=ut:nt._=ut:Z._=ut}).call(this);\n","define('taoQtiItem/portableLib/OAT/util/EventMgr',['taoQtiItem/portableLib/lodash'], function(_){\n    'use strict';\n\n    return function EventMgr(){\n        \n        var events = {};\n        \n        this.get = function get(event){\n            if(event && events[event]){\n                return _.clone(events[event]);\n            }else{\n                return [];\n            }\n        };\n        \n        this.on = function on(event, callback){\n            var name;\n            var tokens = event.split('.');\n            if(tokens[0]){\n                name = tokens.shift();\n                events[name] = events[name] || [];\n                events[name].push({\n                    ns : tokens,\n                    callback : callback\n                });\n            }\n        };\n        \n        this.off = function off(event){\n            if(event && events[event]){\n                events[event] = [];\n            }\n        };\n        \n        this.trigger = function trigger(event, data){\n            if(events[event]){\n                _.forEach(events[event], function(e){\n                    e.callback.apply({\n                        type : event,\n                        ns : []\n                    }, data);\n                });\n            }\n        };\n    };\n});\n","define('taoQtiItem/portableLib/OAT/util/event',['taoQtiItem/portableLib/OAT/util/EventMgr'], function(EventMgr){\n\n    return {\n        addEventMgr : function(instance){\n\n            var eventMgr = new EventMgr();\n\n            instance.on = function on(event, callback){\n                eventMgr.on(event, callback);\n            };\n            instance.off = function off(event){\n                eventMgr.off(event);\n            };\n            instance.trigger = function trigger(event, data){\n                eventMgr.trigger(event, data);\n            };\n\n        }\n    };\n});\n","/*\r\n\r\nBuild by Wiquid's PCI Generator for TAO platform Free to use - http://www.wiquid.fr/depp/ent/\r\nCopyright DEPP © 2018 - Ministère de l'éducation nationale \r\n\r\n*/\r\n\r\ndefine('SnapForTao/runtime/SnapForTao.amd',['qtiCustomInteractionContext', 'taoQtiItem/portableLib/jquery_2_1_1', 'SnapForTao/runtime/js/renderer', 'SnapForTao/runtime/js/lib/snapsrc','taoQtiItem/portableLib/OAT/util/event', 'taoQtiItem/portableLib/lodash' ], function(qtiCustomInteractionContext, $, renderer, snapsrc,event, _){\r\n    'use strict';\r\n\r\n    var SnapForTao = {\r\n        id : -1,\r\n        getTypeIdentifier : function getTypeIdentifier(){\r\n            return 'SnapForTao';\r\n        },\r\n        /**\r\n         * Render the PCI : \r\n         * @param {String} id\r\n         * @param {Node} dom\r\n         * @param {Object} config - json\r\n         */\r\n        initialize : function initialize(id, dom, config, assetManager){\r\n\r\n            //add method on(), off() and trigger() to the current object\r\n            event.addEventMgr(this);\r\n            var customSnapContext = {};\r\n            event.addEventMgr(customSnapContext);\r\n\r\n            var _this = this;\r\n            this.id = id;\r\n            this.dom = dom;\r\n            this.config = config || {};\r\n            this.config.customSnapContext = customSnapContext;\r\n            \r\n\r\n            customSnapContext.on('rawDefinitionChange',function(value){\r\n                _this.trigger('scriptSaverChange', [value]);\r\n\r\n            });\r\n\r\n            renderer.render(this.id, this.dom, this.config, assetManager);\r\n            //tell the rendering engine that I am ready\r\n            qtiCustomInteractionContext.notifyReady(this);\r\n\r\n            //listening to dynamic configuration change for 1.panelSizer 2.testLimiter 3.scriptImporter 4.snapScript\r\n            this.on('panelSizerChange', function(level){\r\n                _this.config.panelSizer = level;\r\n                renderer.renderSnap(_this.id, _this.dom, _this.config);\r\n                if(level == 'nonVisible'){\r\n                    snapsrc.snap.world.leftReducer();                       \r\n                }\r\n                else{snapsrc.snap.world.leftExpand();}\r\n                \r\n            });\r\n\r\n            this.on('testLimiterChange', function(limiter){\r\n                _this.config.testlimiter = limiter;\r\n                renderer.renderSnap(_this.id, _this.dom, _this.config);\r\n            });\r\n\r\n            this.on('scriptImporterChange', function(){\r\n                // Importator function open file explorer to find xml project.\r\n                snapsrc.snap.world.importator();\r\n                \r\n                \r\n            });\r\n\r\n\r\n        },\r\n        /**\r\n         * Programmatically set the response following the json schema described in\r\n         * http://www.imsglobal.org/assessment/pciv1p0cf/imsPCIv1p0cf.html#_Toc353965343\r\n         * \r\n         * @param {Object} interaction\r\n         * @param {Object} response\r\n         */\r\n        setResponse : function setResponse(response){\r\n           \r\n        },\r\n        /**\r\n         * Get the response in the json format described in\r\n         * http://www.imsglobal.org/assessment/pciv1p0cf/imsPCIv1p0cf.html#_Toc353965343\r\n         * \r\n         * @param {Object} interaction\r\n         * @returns {Object}\r\n         */\r\n        getResponse : function getResponse(){\r\n            var $container = $(this.dom);\r\n            var receiver, i, top, cleanblockTracker, cleanProcessus, countingString, canvas,dataURL,value ;\r\n            var canvasArrLenght = $container.find(\".world\").length;\r\n\r\n            canvasArrLenght = canvasArrLenght - 1;\r\n            // Building Json format answer\r\n            receiver = snapsrc.snap.world.children[0].stage.children;\r\n            snapsrc.blockReporter = [];\r\n            for (i = 0; i < receiver.length; i++) {\r\n                if (typeof receiver[i].scripts != \"undefined\") {\r\n                    top = receiver[i].scripts.children[0];\r\n                    if (typeof top != \"undefined\") {\r\n                        snapsrc.snap.world.children[0].stage.threads.startProcess(top, receiver[i]);\r\n                    }\r\n                }\r\n            }\r\n            cleanblockTracker = $container.find(\".blockTracker\").html();\r\n            cleanProcessus = JSON.stringify(snapsrc.blockReporter);\r\n            cleanProcessus = cleanProcessus.substring(0, cleanProcessus.length - 1);\r\n            cleanProcessus = cleanProcessus.substring(1);\r\n            cleanblockTracker = cleanblockTracker.substring(0, cleanblockTracker.length - 1);\r\n            countingString = $container.find(\".compteur\").html();\r\n            if (countingString !== \"\") {\r\n                countingString = \",\"+ countingString + \",\";\r\n            } else {\r\n                countingString = \",\"\r\n            }\r\n            canvas = $container.find(\".world\")[canvasArrLenght];\r\n            dataURL = canvas.toDataURL();\r\n            value = \"{\\\"actions\\\": {\" + cleanblockTracker + \"},\" + \"\\\"processus\\\":[\" + cleanProcessus + \"]\" + countingString + \"\\\"snapImage\\\" : \\\"\" + dataURL + \"\\\"}\";\r\n            return { base: { string: value } };\r\n        },\r\n        /**\r\n         * Remove the current response set in the interaction\r\n         * The state may not be restored at this point.\r\n         * \r\n         * @param {Object} interaction\r\n         */\r\n        resetResponse : function resetResponse(){\r\n        \r\n        },\r\n        /**\r\n         * Reverse operation performed by render()\r\n         * After this function is executed, only the inital naked markup remains \r\n         * Event listeners are removed and the state and the response are reset\r\n         * \r\n         * @param {Object} interaction\r\n         */\r\n        destroy : function destroy(config){\r\n            var $container = $(this.dom);\r\n            var receiver, i, top;\r\n            \r\n            $container.off().empty();\r\n            receiver = snapsrc.snap.world.children[0].stage.children;\r\n            for (i = 0; i < receiver.length; i++) {\r\n                if (typeof receiver[i].scripts != \"undefined\") {\r\n                    top = receiver[i].scripts.children[0];\r\n                    if (typeof top != \"undefined\") {\r\n                        //JP : stop the process after few seconds how long ?\r\n                        setTimeout(function () {\r\n                            snapsrc.snap.world.children[0].stage.threads.stopProcess(top, receiver[i]);\r\n                        }, 3000);\r\n                        // \r\n                    }\r\n                }\r\n            }\r\n        },\r\n        /**\r\n         * Restore the state of the interaction from the serializedState.\r\n         * \r\n         * @param {Object} interaction\r\n         * @param {Object} serializedState - json format\r\n         */\r\n        setSerializedState : function setSerializedState(state){\r\n              \r\n        },\r\n        /**\r\n         * Get the current state of the interaction as a string.\r\n         * It enables saving the state for later usage.\r\n         * \r\n         * @param {Object} interaction\r\n         * @returns {Object} json format\r\n         */\r\n        getSerializedState : function getSerializedState(){\r\n\r\n            return {};\r\n        }\r\n    };\r\n\r\n    qtiCustomInteractionContext.register(SnapForTao);\r\n});\r\n\n"]}