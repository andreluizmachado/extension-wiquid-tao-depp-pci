{"version":3,"sources":["../../../taoQtiItem/views/js/portableLib/jquery_2_1_1.js","../../../taoQtiItem/views/js/portableLib/OAT/util/xml.js","../../../taoQtiItem/views/js/portableLib/OAT/util/math.js","../../../taoQtiItem/views/js/portableLib/jquery.qtip.js","../../../taoQtiItem/views/js/portableLib/OAT/util/tooltip.js","../../../taoQtiItem/views/js/portableLib/OAT/util/html.js","../../../pciWiquid/views/js/pciCreator/dev/snap/runtime/js/lib/mod.js","../../../pciWiquid/views/js/pciCreator/dev/snap/runtime/js/renderer.js","../../../taoQtiItem/views/js/portableLib/lodash.js","../../../taoQtiItem/views/js/portableLib/OAT/util/EventMgr.js","../../../taoQtiItem/views/js/portableLib/OAT/util/event.js","../../../pciWiquid/views/js/pciCreator/dev/snap/runtime/SnapForTao.amd.js"],"names":["define","global","factory","module","exports","document","w","Error","window","this","noGlobal","isArraylike","obj","length","type","jQuery","isWindow","nodeType","winnow","elements","qualifier","not","isFunction","grep","elem","i","call","risSimple","test","filter","indexOf","sibling","cur","dir","createOptions","options","object","optionsCache","each","match","rnotwhite","_","flag","completed","removeEventListener","ready","Data","Object","defineProperty","cache","get","expando","Math","random","dataAttr","key","data","name","undefined","replace","rmultiDash","toLowerCase","getAttribute","rbrace","parseJSON","e","data_user","set","returnTrue","returnFalse","safeActiveElement","activeElement","err","manipulationTarget","content","nodeName","firstChild","getElementsByTagName","appendChild","ownerDocument","createElement","disableScript","restoreScript","rscriptTypeMasked","exec","removeAttribute","setGlobalEval","elems","refElements","l","data_priv","cloneCopyEvent","src","dest","pdataOld","pdataCur","udataOld","udataCur","events","hasData","access","handle","event","add","extend","getAll","context","tag","ret","querySelectorAll","merge","fixInput","rcheckableType","checked","defaultValue","actualDisplay","doc","style","appendTo","body","display","getDefaultComputedStyle","css","detach","defaultDisplay","elemdisplay","iframe","documentElement","contentDocument","write","close","curCSS","computed","width","minWidth","maxWidth","getStyles","getPropertyValue","contains","rnumnonpx","rmargin","addGetHookIf","conditionFn","hookFn","apply","arguments","vendorPropName","capName","toUpperCase","slice","origName","cssPrefixes","setPositiveNumber","value","subtract","matches","rnumsplit","max","augmentWidthOrHeight","extra","isBorderBox","styles","val","cssExpand","getWidthOrHeight","valueIsBorderBox","offsetWidth","offsetHeight","support","boxSizingReliable","parseFloat","showHide","show","hidden","values","index","isHidden","Tween","prop","end","easing","prototype","init","createFxNow","setTimeout","fxNow","now","genFx","includeWidth","which","attrs","height","opacity","createTween","animation","tween","collection","tweeners","concat","defaultPrefilter","props","opts","toggle","hooks","oldfire","checkDisplay","anim","orig","dataShow","queue","_queueHooks","unqueued","empty","fire","always","overflow","overflowX","overflowY","rfxtypes","isEmptyObject","done","hide","remove","start","propFilter","specialEasing","camelCase","isArray","cssHooks","expand","Animation","properties","result","stopped","animationPrefilters","deferred","Deferred","tick","currentTime","remaining","startTime","duration","temp","percent","tweens","run","notifyWith","resolveWith","promise","originalProperties","originalOptions","push","stop","gotoEnd","rejectWith","map","fx","timer","progress","complete","fail","addToPrefiltersOrTransports","structure","dataTypeExpression","func","dataType","dataTypes","unshift","inspectPrefiltersOrTransports","jqXHR","inspect","selected","inspected","prefilterOrFactory","dataTypeOrTransport","seekingTransport","transports","ajaxExtend","target","deep","flatOptions","ajaxSettings","ajaxHandleResponses","s","responses","ct","finalDataType","firstDataType","contents","shift","mimeType","getResponseHeader","converters","ajaxConvert","response","isSuccess","conv2","current","conv","tmp","prev","responseFields","dataFilter","split","state","error","buildParams","prefix","traditional","v","rbracket","getWindow","defaultView","arr","class2type","toString","hasOwn","hasOwnProperty","version","selector","fn","rtrim","rmsPrefix","rdashAlpha","fcamelCase","all","letter","jquery","constructor","toArray","num","pushStack","prevObject","callback","args","first","eq","last","len","j","sort","splice","copy","copyIsArray","clone","isPlainObject","isReady","msg","noop","Array","isNumeric","globalEval","code","script","indirect","eval","trim","text","head","parentNode","removeChild","string","makeArray","results","inArray","second","invert","callbackInverse","callbackExpect","arg","guid","proxy","Date","Sizzle","seed","m","groups","old","nid","newContext","newSelector","preferredDoc","setDocument","documentIsHTML","rquickExpr","getElementById","id","getElementsByClassName","qsa","rbuggyQSA","tokenize","rescape","setAttribute","toSelector","rsibling","testContext","join","qsaError","select","createCache","keys","Expr","cacheLength","markFunction","assert","div","addHandle","handler","attrHandle","siblingCheck","a","b","diff","sourceIndex","MAX_NEGATIVE","nextSibling","createInputPseudo","createButtonPseudo","createPositionalPseudo","argument","matchIndexes","strundefined","setFilters","tokens","addCombinator","matcher","combinator","base","checkNonElements","doneName","xml","oldCache","outerCache","newCache","dirruns","elementMatcher","matchers","multipleContexts","contexts","condense","unmatched","newUnmatched","mapped","setMatcher","preFilter","postFilter","postFinder","postSelector","preMap","postMap","preexisting","matcherIn","matcherOut","matcherFromTokens","checkContext","leadingRelative","relative","implicitRelative","matchContext","matchAnyContext","outermostContext","matcherFromGroupMatchers","elementMatchers","setMatchers","bySet","byElement","superMatcher","outermost","matchedCount","setMatched","contextBackup","find","dirrunsUnique","pop","uniqueSort","getText","isXML","compile","sortInput","hasDuplicate","docElem","rbuggyMatches","classCache","tokenCache","compilerCache","sortOrder","push_native","booleans","whitespace","characterEncoding","identifier","attributes","pseudos","RegExp","rcomma","rcombinators","rattributeQuotes","rpseudo","ridentifier","matchExpr","ID","CLASS","TAG","ATTR","PSEUDO","CHILD","bool","needsContext","rinputs","rheader","rnative","runescape","funescape","escaped","escapedWhitespace","high","String","fromCharCode","childNodes","els","node","hasCompare","parent","top","addEventListener","attachEvent","className","createComment","innerHTML","getById","getElementsByName","attrId","getAttributeNode","input","matchesSelector","webkitMatchesSelector","mozMatchesSelector","oMatchesSelector","msMatchesSelector","disconnectedMatch","compareDocumentPosition","adown","bup","compare","sortDetached","aup","ap","bp","expr","attr","specified","duplicates","detectDuplicates","sortStable","textContent","nodeValue","selectors","createPseudo",">"," ","+","~","excess","unquoted","nodeNameSelector","pattern","operator","check","what","simple","forward","ofType","nodeIndex","useCache","lastChild","pseudo","idx","matched","has","innerText","lang","elemLang","hash","location","root","focus","hasFocus","href","tabIndex","enabled","disabled","selectedIndex","header","button","even","odd","lt","gt","radio","checkbox","file","password","image","submit","reset","filters","parseOnly","soFar","preFilters","cached","token","compiled","div1","unique","isXMLDoc","rneedsContext","rsingleTag","self","is","rootjQuery","parseHTML","rparentsprev","guaranteedUnique","children","next","until","truncate","n","targets","closest","pos","prevAll","addBack","parents","parentsUntil","nextAll","nextUntil","prevUntil","siblings","reverse","Callbacks","memory","fired","firing","firingStart","firingLength","firingIndex","list","stack","once","stopOnFalse","disable","lock","locked","fireWith","tuples","then","fns","newDefer","tuple","returned","resolve","reject","notify","pipe","stateString","when","subordinate","progressValues","progressContexts","resolveContexts","resolveValues","updateFunc","readyList","readyWait","holdReady","hold","wait","triggerHandler","off","readyState","chainable","emptyGet","raw","bulk","acceptData","owner","uid","accepts","descriptor","unlock","defineProperties","stored","camel","discard","removeData","_data","_removeData","camelKey","dequeue","startLength","setter","clearQueue","count","defer","pnum","source","el","fragment","createDocumentFragment","checkClone","cloneNode","noCloneChecked","focusinBubbles","rkeyEvent","rmouseEvent","rfocusMorph","rtypenamespace","types","handleObjIn","eventHandle","t","handleObj","special","handlers","namespaces","origType","elemData","triggered","dispatch","delegateType","bindType","namespace","delegateCount","setup","mappedTypes","origCount","teardown","removeEvent","trigger","onlyHandlers","bubbleType","ontype","eventPath","Event","isTrigger","namespace_re","noBubble","parentWindow","isPropagationStopped","preventDefault","isDefaultPrevented","_default","fix","handlerQueue","delegateTarget","preDispatch","currentTarget","isImmediatePropagationStopped","stopPropagation","postDispatch","sel","fixHooks","keyHooks","original","charCode","keyCode","mouseHooks","eventDoc","pageX","clientX","scrollLeft","clientLeft","pageY","clientY","scrollTop","clientTop","originalEvent","fixHook","load","blur","click","beforeunload","returnValue","simulate","bubble","isSimulated","defaultPrevented","timeStamp","stopImmediatePropagation","mouseenter","mouseleave","pointerenter","pointerleave","related","relatedTarget","attaches","on","one","origFn","rxhtmlTag","rtagName","rhtml","rnoInnerhtml","rchecked","rscriptType","rcleanScript","wrapMap","option","thead","col","tr","td","optgroup","tbody","tfoot","colgroup","caption","th","dataAndEvents","deepDataAndEvents","srcElements","destElements","inPage","buildFragment","scripts","selection","wrap","nodes","createTextNode","cleanData","append","domManip","prepend","insertBefore","before","after","keepData","html","replaceWith","replaceChild","hasScripts","iNoClone","_evalUrl","prependTo","insertAfter","replaceAll","insert","getComputedStyle","computePixelPositionAndBoxSizingReliable","cssText","container","divStyle","pixelPositionVal","boxSizingReliableVal","backgroundClip","clearCloneStyle","pixelPosition","reliableMarginRight","marginDiv","marginRight","swap","rdisplayswap","rrelNum","cssShow","position","visibility","cssNormalTransform","letterSpacing","fontWeight","cssNumber","columnCount","fillOpacity","flexGrow","flexShrink","lineHeight","order","orphans","widows","zIndex","zoom","cssProps","float","margin","padding","border","suffix","expanded","parts","unit","propHooks","eased","step","linear","p","swing","cos","PI","timerId","rfxnum","rrun","*","scale","maxIterations","tweener","prefilter","speed","opt","speeds","fadeTo","to","animate","optall","doAnimation","finish","stopQueue","timers","cssFn","slideDown","slideUp","slideToggle","fadeIn","fadeOut","fadeToggle","interval","setInterval","clearInterval","slow","fast","delay","time","timeout","clearTimeout","checkOn","optSelected","optDisabled","radioValue","nodeHook","boolHook","removeAttr","nType","attrHooks","propName","attrNames","propFix","getter","rfocusable","removeProp","for","class","notxml","hasAttribute","rclass","addClass","classes","clazz","finalValue","proceed","removeClass","toggleClass","stateVal","classNames","hasClass","rreturn","valHooks","optionSet","hover","fnOver","fnOut","bind","unbind","delegate","undelegate","nonce","rquery","JSON","parse","parseXML","DOMParser","parseFromString","ajaxLocParts","ajaxLocation","rhash","rts","rheaders","rlocalProtocol","rnoContent","rprotocol","rurl","prefilters","allTypes","active","lastModified","etag","url","isLocal","processData","async","contentType","json","* text","text html","text json","text xml","ajaxSetup","settings","ajaxPrefilter","ajaxTransport","ajax","status","nativeStatusText","headers","success","modified","statusText","timeoutTimer","transport","responseHeadersString","ifModified","cacheURL","callbackContext","statusCode","fireGlobals","globalEventContext","completeDeferred","responseHeaders","requestHeaders","requestHeadersNames","strAbort","getAllResponseHeaders","setRequestHeader","lname","overrideMimeType","abort","finalText","method","crossDomain","param","hasContent","beforeSend","send","getJSON","getScript","throws","wrapAll","firstElementChild","wrapInner","unwrap","visible","r20","rCRLF","rsubmitterTypes","rsubmittable","encodeURIComponent","serialize","serializeArray","xhr","XMLHttpRequest","xhrId","xhrCallbacks","xhrSuccessStatus","0","1223","xhrSupported","ActiveXObject","cors","open","username","xhrFields","onload","onerror","responseText","text script","charset","scriptCharset","evt","oldCallbacks","rjsonp","jsonp","jsonpCallback","originalSettings","callbackName","overwritten","responseContainer","jsonProp","keepScripts","parsed","_load","params","animated","offset","setOffset","curPosition","curLeft","curCSSTop","curTop","curOffset","curCSSLeft","calculatePosition","curElem","left","using","win","box","getBoundingClientRect","pageYOffset","pageXOffset","offsetParent","parentOffset","scrollTo","Height","Width","","defaultExtra","funcName","size","andSelf","_jQuery","_$","$","noConflict","addNamespace","ns","removeNamespace","markup","MathJax","render","$container","$wrap","$math","Hub","Queue","amd","qtip","QTip","tooltip","NULL","_id","NAMESPACE","img","plugins","FALSE","onTooltip","lastClass","rendered","destroyed","waiting","hiddenDuringWait","positioning","triggering","invalidOpt","invalidContent","c","sanitizeOptions","metadata","api","loading","newContent","title","my","at","TRUE","PLUGINS","sanitize","convertNotation","notation","levels","setCallback","category","rule","checks","createWidgetClass","cls","WIDGET","showMethod","CLASS_DISABLED","hideMethod","ontoTooltip","SELECTOR","ontoTarget","fixed","inactiveMethod","inactive","repositionMethod","reposition","QTIP","ATTR_ID","posOptions","config","docBody","newTarget","metadata5","html5","defaults","solo","viewport","CORNER","overwrite","ATTR_HAS","suppress","oldtitle","charAt","vendorCss","ucProp","intCss","ceil","Tip","_ns","Modal","Ie6","PROTOTYPE","CHECKS","trackingBound","X","Y","WIDTH","HEIGHT","TOP","LEFT","BOTTOM","RIGHT","CENTER","FLIPINVERT","SHIFT","INACTIVE_EVENTS","CLASS_FIXED","CLASS_DEFAULT","CLASS_FOCUS","CLASS_HOVER","replaceSuffix","BROWSER","ie","NaN","iOS","navigator","userAgent","_when","deferreds","posClass","_createPosClass","tracking","adjust","mouse","role","aria-live","aria-atomic","aria-describedby","aria-hidden","_createTitle","_updateTitle","_createButton","_updateContent","_setWidget","instance","initialize","_unassignEvents","_assignEvents","_trigger","destroy","immediate","process","builtin","^id$","o","nextid","newId","^prerender","^content.text$","^content.attr$","^content.title$","_removeTitle","^content.button$","_updateButton","^content.title.(text|button)$","^position.(my|at)$","^position.container$","^show.ready$","^style.classes$","^style.(width|height)","^style.widget|content.title","^style.def","^events.(render|show|move|hide|focus|blur)$","^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)","precedance","rmove","rrender","previous","_update","element","_waitForContent","images","imagesLoaded","titlebar","widget","substr","abbrev","effect","pluginCalculations","adjusted","newClass","tooltipWidth","outerWidth","tooltipHeight","outerHeight","targetWidth","targetHeight","isScroll","x","y","distance","origin","innerWidth","clientWidth","scrollX","scrollY","innerHeight","imagemap","svg","ownerSVGElement","adjustable","isNaN","scroll","scrolled","quirks","compatMode","C","Corner","corner","forceY","f","z","center","identicalState","allow","contentOptions","sameTarget","search","_storeMouse","autofocus","qtips","curIndex","parseInt","newIndex","zindex","enable","isString","aria-label","def","_bind","_unbind","_bindEvents","showEvents","hideEvents","showTargets","hideTargets","showCallback","hideCallback","similarTargets","toggleEvents","showIndex","_assignInitialEvents","hoverIntent","hoverEvent","prerender","showTarget","hideTarget","moveEvent","onTarget","containerTarget","viewportTarget","documentTarget","windowTarget","leave","isAncestor","inactiveEvents","limit","abs","resize","newValue","command","ui","move","TIP","createVML","SCALE","PIXEL_RATIO","BACKING_STORE_RATIO","MARGIN","BORDER","COLOR","BG_COLOR","TRANSPARENT","IMPORTANT","HASCANVAS","getContext","INVALID","devicePixelRatio","backingStorePixelRatio","webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","tip","lineJoin","miterLimit","save","create","_swapDimensions","_resetDimensions","_useTitle","_parseCorner","_parseWidth","side","use","_parseRadius","_invalidColour","_parseColours","borderSide","colorElem","color","_calculateSize","bigHyp","ratio","isCenter","pow","round","smallHyp","sqrt","hyp","_calculateTip","width2","height2","tips","br","bl","tl","tc","bc","rc","lc","rt","lb","rb","_drawCoords","coords","beginPath","moveTo","lineTo","closePath","update","bigCoords","translate","newSize","inner","curSize","mimic","restore","clearRect","fillStyle","fill","coordsize","antialias","Number","$this","path","fillcolor","filled","stroked","opera","calculate","corners","userOffset","bottom","right","shiftflip","direction","popposite","opposite","newCorner","shiftonly","xy","horizontal","vertical","cornerTop","cornerLeft","user","^position.my|style.tip.(corner|mimic|border)$","^style.tip.(height|width)$","^content.title|style.(classes|widget)$","MODAL","OVERLAY","MODALCLASS","MODALSELECTOR","focusable","mapName","isTabIndexNotNaN","focusInputs","blurElems","focusableElems","stealFocus","targetOnTop","prevState","mousedown","modal","escape","stealfocus","visibleModals","overlay","modal_zindex","oEvent","^show.modal.(on|blur)$","elemWidth","elemHeight","otherSide","adjustment","side1","side2","lengthName","targetLength","elemLength","initialPos","mySide","atSide","isShift","myLength","atLength","sideOffset","viewportScroll","viewportOffset","containerStatic","containerOffset","overflow1","overflow2","viewportWidth","viewportHeight","min","newMy","methodX","methodY","polys","polygon","baseCoords","newWidth","newHeight","compareX","compareY","realX","realY","floor","rect","ax","ay","bx","by","_angles","ellipse","cx","cy","rx","ry","rxc","rys","sin","circle","r","frameOffset","mtx","transformed","points","strokeWidth2","getBBox","baseVal","x1","y1","x2","y2","numberOfItems","getItem","createSVGPoint","getScreenCTM","matrixTransform","frameElement","area","imageOffset","shape","coordsString","coordsArray","IE6","BGIFRAME","_scroll","bgiframe","adjustBGIFrame","redrawContainer","redraw","tipAdjust","dimensions","plugin","drawing","perc","ie6","^content|style$","$content","contentHtml","$target","contentId","theme","math","panel_Left","stageSaver","worldwatcher","importString","attemptLimit","mod","world","getSnapProjectScript","snap","localize","SnapTranslator","Localizer","language","dict","nop","strong","dicofr","isNil","thing","detect","predicate","sizeOf","isObject","radians","degrees","fontHeight","minHeight","MorphicPreferences","minimumFontHeight","isWordChar","aCharacter","newCanvas","extentPoint","nonRetina","canvas","ext","isRetinaEnabled","getMinimumFontHeight","ctx","maxX","str","font","measureText","textBaseline","fillText","getImageData","getBlurredShadowSupport","arc","shadowBlur","shadowColor","drawImage","getDocumentPositionOf","aDOMelement","offsetLeft","offsetTop","property","valueOf","enableRetinaSupport","getPixelRatio","imageSource","originalDevicePixelRatio","canvasProto","HTMLCanvasElement","contextProto","CanvasRenderingContext2D","uber","getOwnPropertyDescriptor","shadowOffsetX","shadowOffsetY","some","any","configurable","_isRetinaEnabled","_bak","prevPixelRatio","prevWidth","prevHeight","pixelRatio","console","log","sx","sy","sWidth","sHeight","dx","dy","dWidth","dHeight","sw","sh","isRetinaSupported","disableRetinaSupport","normalizeCanvas","aCanvas","getCopy","cpy","Point","delta","onComplete","easings","sinusoidal","endTime","destination","isActive","Color","g","Rectangle","Node","childrenArray","Morph","ShadowMorph","HandleMorph","minX","minY","insetX","insetY","PenMorph","ColorPaletteMorph","sizePoint","GrayPaletteMorph","ColorPickerMorph","defaultColor","BlinkerMorph","rate","CursorMorph","aStringOrTextMorph","BoxMorph","edge","borderColor","SpeechBubbleMorph","isThought","CircleBoxMorph","orientation","SliderButtonMorph","SliderMorph","MouseSensorMorph","InspectorMorph","MenuMorph","environment","fontSize","StringMorph","fontStyle","bold","italic","shadowOffset","fontName","TextMorph","alignment","TriggerMorph","action","labelString","hint","labelColor","labelBold","labelItalic","doubleClickAction","MenuItemMorph","shortcut","shortcutString","FrameMorph","aScrollFrame","ScrollFrameMorph","scroller","sliderColor","ListMorph","labelGetter","format","toSource","StringFieldMorph","defaultContents","BouncerMorph","HandMorph","aWorld","WorldMorph","fillPage","PushButtonMorph","template","ToggleButtonMorph","colors","query","hasPreview","isPicture","TabMorph","ToggleMorph","builder","ToggleElementMorph","DialogBoxMorph","AlignmentMorph","InputFieldMorph","choiceDict","isReadOnly","PianoMenuMorph","soundType","PianoKeyMorph","label","feedback","SyntaxElementMorph","BlockMorph","CommandBlockMorph","HatBlockMorph","ReporterBlockMorph","isPredicate","RingMorph","ScriptsMorph","ArgMorph","CommandSlotMorph","RingCommandSlotMorph","CSlotMorph","InputSlotMorph","TemplateSlotMorph","BooleanSlotMorph","initialValue","ArrowMorph","TextSlotMorph","ColorSlotMorph","clr","BlockHighlightMorph","threadCount","MultiArgMorph","slotSpec","labelTxt","eSpec","arrowColor","isTransparent","ArgLabelMorph","argMorph","FunctionSlotMorph","ReporterSlotMorph","RingReporterSlotMorph","CommentMorph","ScriptFocusMorph","editor","initialElement","snapEquals","List","equalTo","specials","invoke","contextArgs","receiver","timeoutErrorMsg","suppressErrors","proc","Process","deadline","Context","reportContextFor","initializeFor","evaluate","topBlock","homeContext","variables","parentFrame","blockSequence","isCatchingErrors","isRunning","runStep","inputs","ThreadManager","processes","wantsToPause","compteur","compteurGo","nbTry","testLimiter","projectName","controlBar","updateLabel","yieldFirst","instrument","readyToYield","readyToTerminate","isDead","isClicked","isShowingResult","errorFlag","lastYield","isFirstStep","isAtomic","prompter","httpRequest","isPaused","pauseOffset","frameCount","exportResult","procedureCount","flashingContext","isInterrupted","pushContext","parentContext","expression","outerContext","VariableFrame","pc","isContinuation","activeAudio","activeNote","isCustomBlock","emptySlots","isFlashing","Variable","isTransient","vars","isSnapObject","SpriteMorph","StageMorph","globals","SpriteHighlightMorph","SpriteBubbleMorph","stage","isQuestion","Costume","rotationCenter","shrinkToFit","maxExtent","loaded","SVG_Costume","svgImage","CostumeEditorMorph","costume","Sound","audio","Note","pitch","setupContext","oscillator","CellMorph","parentCell","WatcherMorph","StagePrompterMorph","question","IDE_Morph","isAutoFill","ProjectDialogMorph","ide","LibraryImportDialogMorph","librariesData","SpriteIconMorph","aSprite","aTemplate","CostumeIconMorph","aCostume","TurtleIconMorph","aSpriteOrStage","WardrobeMorph","SoundIconMorph","aSound","JukeboxMorph","StageHandleMorph","PaletteHandleMorph","CamSnapshotDialogMorph","sprite","onCancel","onAccept","PaintEditorMorph","PaintColorPickerMorph","extent","PaintCanvasMorph","array","rest","isLinked","lastChanged","ListWatcherMorph","CustomBlockDefinition","spec","isGlobal","declarations","variableNames","comment","codeMapping","codeHeader","translations","editorDimensions","cachedIsRecursive","cachedTranslation","CustomCommandBlockMorph","definition","isProto","CustomReporterBlockMorph","JaggedBlockMorph","BlockDialogMorph","BlockEditorMorph","PrototypeHatBlockMorph","BlockLabelFragment","isDeleted","BlockLabelFragmentMorph","BlockLabelPlaceHolderMorph","BlockInputFragmentMorph","InputSlotDialogMorph","VariableDialogMorph","BlockExportDialogMorph","serializer","blocks","BlockImportDialogMorph","BlockRemovalDialogMorph","Table","cols","rows","colCount","rowCount","colNames","rowNames","TableCellMorph","isLabel","TableMorph","table","scrollBarSize","startRow","startCol","globalColWidth","colWidths","rowHeight","colLabelHeight","TableFrameMorph","tableMorph","noResize","TableDialogMorph","SymbolMorph","ReadStream","arrayOrString","XML_Element","XML_Serializer","media","isCollectingMedia","isExportingBlocksLibrary","SnapSerializer","Cloud","session","limo","route","loop","requestAnimationFrame","doOneCycle","snapScript","languages","languageName","language_name","credits","txt","myself","forEach","language_translator","last_changed","unload","keep","en","translator_e-mail","file menu import hint","settings menu prefer empty slots hint","costumes tab help","block deletion dialog text","download to disk text","unable to export text","fr","morphicVersion","modules","useBlurredShadows","standardSettings","globalFontFamily","menuFontName","menuFontSize","bubbleHelpFontSize","prompterFontName","prompterFontSize","prompterSliderSize","handleSize","mouseScrollAmount","useSliderForInput","useVirtualKeyboard","isTouchDevice","rasterizeSVGs","isFlat","grabThreshold","touchScreenSettings","untitled","development mode","Motion","Looks","Pen","Control","Sensing","Operators","Variables","Lists","Other","draggable","Scripts","Costumes","Sounds","Sprite","Stage","don't rotate","can rotate","only face left/right","add a new sprite","add a new Turtle sprite","import a sound from your computer\nby dragging it into here","Stage selected:\nno motion primitives","move %n steps","turn %clockwise %n degrees","turn %counterclockwise %n degrees","point in direction %dir","point towards %dst","go to x: %n y: %n","go to %dst","glide %n secs to x: %n y: %n","change x by %n","set x to %n","change y by %n","set y to %n","if on edge, bounce","x position","y position","switch to costume %cst","next costume","costume #","say %s for %n secs","say %s","think %s for %n secs","think %s","Hello!","Hmm...","change %eff effect by %n","set %eff effect to %n","clear graphic effects","change size by %n","set size to %n %","go to front","go back %n layers","development mode \ndebugging primitives:","console log %mult%s","alert %mult%s","play sound %snd","play sound %snd until done","stop all sounds","rest for %n beats","play note %n for %n beats","change tempo by %n","set tempo to %n bpm","tempo","clear","pen down","pen up","set pen color to %clr","change pen color by %n","set pen color to %n","change pen shade by %n","set pen shade to %n","change pen size by %n","set pen size to %n","stamp","when %greenflag clicked","when %keyHat key pressed","when I am clicked","when I am %interaction","when I receive %msgHat","broadcast %msg","broadcast %msg and wait","Message name","wait %n secs","wait until %b","forever %c","repeat %n %c","repeat until %b %c","if %b %c","if %b %c else %c","report %s","stop block","stop script","stop %stopOthersChoices","stop %stopChoices","stop all %stop","run %cmdRing %inputs","launch %cmdRing %inputs","call %repRing %inputs","run %cmdRing w/continuation","call %cmdRing w/continuation","warp %c","when I start as a clone","create a clone of %cln","delete this clone","pause all %pause","all but this script","other scripts in sprite","this script","this block","touching %col ?","touching %clr ?","color %clr is touching %clr ?","ask %s and wait","what's your name?","answer","mouse x","mouse y","mouse down?","key %key pressed?","distance to %dst","reset timer","%att of %spr","my %get","http:// %s","turbo mode?","set turbo mode to %b","filtered for %clr","stack size","frames","%n mod %n","round %n","%fun of %n","pick random %n to %n","%b and %b","%b or %b","not %b","true","false","join %words","split %s by %delim","hello","letter %n of %s","length of %s","unicode of %s","unicode %n as letter","is %s a %typ ?","is %s identical to %s ?","type of %s","Make a variable","Variable name","Delete a variable","set %var to %s","change %var by %n","show variable %var","hide variable %var","script variables %scriptVars","list %exp","%s in front of %l","item %idx of %l","all but first of %l","length of %l","%l contains %s","add %s to %l","delete %ida of %l","insert %s at %idx of %l","replace item %idx of %l with %s","Make a block","About...","Reference manual","Snap! website","Download source","Switch back to user mode","disable deep-Morphic\ncontext menus\nand show user-friendly ones","Switch to dev mode","enable Morphic\ncontext menus\nand inspectors,\nnot user-friendly!","Project notes...","New","Open...","Save","Save As...","Import...","Export project as plain text...","Export project...","save project data as XML\nto your downloads folder","show project data as XML\nin a new browser window","Export blocks...","show global custom block definitions as XML\nin a new browser window","Unused blocks...","find unused global custom blocks\nand remove their definitions","Remove unused blocks","there are currently no unused\nglobal custom blocks in this project","unused block(s) removed","Export summary...","open a new browser browser window\n with a summary of this project","Import tools","load the official library of\npowerful blocks","Libraries...","Import library","Language...","Blurred shadows","uncheck to use solid drop\nshadows and highlights","check to use blurred drop\nshadows and highlights","Zebra coloring","check to enable alternating\ncolors for nested blocks","uncheck to disable alternating\ncolors for nested block","Prefer empty slot drops","uncheck to allow dropped\nreporters to kick out others","Long form input dialog","check to always show slot\ntypes in the input dialog","uncheck to use the input\ndialog in short form","Virtual keyboard","uncheck to disable\nvirtual keyboard support\nfor mobile devices","check to enable\nvirtual keyboard support\nfor mobile devices","Input sliders","uncheck to disable\ninput sliders for\nentry fields","check to enable\ninput sliders for\nentry fields","Clicking sound","uncheck to turn\nblock clicking\nsound off","check to turn\nblock clicking\nsound on","Turbo mode","check to prioritize\nscript execution","uncheck to run scripts\nat normal speed","Flat design","check for alternative\nGUI design","uncheck for default\nGUI design","Keyboard Editing","uncheck to disable\nkeyboard editing support","check to enable\nkeyboard editing support","Thread safe scripts","check to disallow\nscript reentrance","uncheck to allow\nscript reentrance","Prefer smooth animations","uncheck for greater speed\nat variable frame rates","check for smooth, predictable\nanimations across computers","with inputs","input names:","Input Names:","help","hide primitives","show primitives","help...","duplicate","make a copy\nand pick it up","only duplicate this block","delete","script pic...","open a new window\nwith a picture of this script","ringify","unringify","delete block definition...","edit...","edit","detach from","detach all parts","export...","paint a new sprite","clean up","arrange scripts\nvertically","add comment","make a block...","rename","export","rename costume","Paint a new costume","Play sound","Stop sound","Stop","Play","rename sound","OK","Ok","Cancel","Yes","No","Open","Browser","Examples","Help","Untitled","Open Project","(empty)","Saved!","Delete Project","Are you sure you want to delete","rename...","Costume Editor","click or drag crosshairs to move the rotation center","Project Notes","New Project","Replace the current project with a new one?","Open Projekt","Save Project As...","Export blocks","this project doesn't have any\ncustom global blocks yet","none","for all sprites","for this sprite only","Change block","Command","Reporter","Predicate","Block Editor","Apply","Delete Custom Block","Create input name","Edit input name","Edit label fragment","Title text","Input name","Delete","Text","Any type","Boolean (T/F)","Command\n(inline)","Command\n(C-shape)","Any\n(unevaluated)","Boolean\n(unevaluated)","Single input.","Default Value:","Multiple inputs (value is list of inputs)","Upvar - make internal variable visible to caller","line","tab","cr","About Snap","Back...","License...","Modules...","Credits...","Translators...","License","current module versions:","Contributors","Translations","normal","large","slider","slider min...","slider max...","Slider minimum value","Slider maximum value","length: ","add comment here...","(90) right","(-90) left","(0) up","(180) down","mouse-pointer","pen trails","Turtle","Empty","fisheye","whirl","pixelate","mosaic","saturation","brightness","ghost","negative","comic","confetti","space","up arrow","down arrow","right arrow","left arrow","d","h","k","q","u","1","2","3","4","5","6","7","8","9","new...","tan","asin","acos","atan","ln","e^","number","Boolean","reporter","find blocks...","Login...","Signup...","Reset Password...","show all","pic...","open a new window\nwith a picture of the stage","scripts pic...","open a new window\nwith a picture of all scripts","Stage size...","Zoom blocks...","Plain prototype labels","uncheck to always show (+) symbols\nin block prototype labels","check to hide (+) symbols\nin block prototype labels","check for flat ends of lines","uncheck for round ends of lines","Flat line ends","Codification support","uncheck to disable\nblock to text mapping features","check for block\nto text mapping features","Inheritance support","current %dates","year","month","date","hour","minute","time in milliseconds","day of week","transparence","clicked","pressed","dropped","mouse-entered","mouse-departed","when %b","JavaScript function ( %mult%s ) { %code }","Press CTRL+C one more time to effectively copy to clipboard.","Press CTRL+V one more time to effectively paste from clipboard.","Press CTRL+X one more time to effectively cut to clipboard.","undo","Paintbrush tool\n(free draw)","Stroked Rectangle\n(shift: square)","Stroked Ellipse\n(shift: circle)","Eraser tool","Set the rotation center","Line tool\n(shift: vertical/horizontal)","Filled Rectangle\n(shift: square)","Filled Ellipse\n(shift: circle)","Fill a region","Pipette tool\n(pick a color anywhere)","grow","shrink","flip ↔","flip ↕","Brush size","Constrain proportions of shapes?\n(you can also hold shift)","quadratic","cubic","elastic","sine_in","quad_in","cubic_in","elastic_in","sine_out","quad_out","elastic_out","aColor","hsv","rr","gg","bb","set_hsv","mixed","proportion","otherColor","frac1","frac2","darker","fract","lighter","dansDarker","vv","inverted","aPoint","ge","le","neg","mirror","other","multiplyBy","divideBy","floorDivideBy","theta","crossProduct","distanceTo","rotate","flip","distanceAngle","dist","angle","deg","scaleBy","scalePoint","translateBy","deltaPoint","rotateBy","centerPoint","asArray","originPoint","cornerPoint","rectangle","org","crn","setTo","bottomCenter","bottomLeft","bottomRight","boundingBox","topRight","leftCenter","rightCenter","topCenter","topLeft","aRect","newOrigin","insetBy","expandBy","growBy","intersect","mergeWith","spread","amountToTranslateWithin","containsPoint","containsRectangle","intersects","ro","isNearTo","threshold","factor","asArray_xywh","addChild","aNode","addChildFirst","depth","allChildren","child","forAllChildren","aFunction","anyChild","aPredicate","allLeafs","allParents","parentThatIsA","parentThatIsAnyOf","constructors","yup","trackChanges","noDraw","isMorph","bounds","cachedFullImage","cachedFullBounds","texture","cachedTexture","alpha","isVisible","isDraggable","isTemplate","acceptsDrops","noticesTransparentClick","drawNew","fps","customContextMenu","lastTime","onNextStep","fullChanged","stepFrame","elapsed","leftover","nxt","nextSteps","arrayOfFunctions","lst","fullBounds","fullBoundsNoShadow","visibleBounds","moveBy","silentMoveBy","setPosition","silentSetPosition","setLeft","setRight","setTop","setBottom","setCenter","setFullCenter","keepWithin","aMorph","leftOff","rightOff","topOff","bottomOff","scrollIntoView","sf","adjustScrollBars","setExtent","silently","silentSetExtent","changed","setWidth","silentSetWidth","setHeight","silentSetHeight","setColor","drawCachedTexture","drawTexture","Image","bg","lines","drawOn","sl","st","pic","globalAlpha","fullDrawOn","toggleVisibility","fullImageClassic","fb","fullImage","morph","shadowImage","outline","sha","globalCompositeOperation","fillRect","shadowImageBlurred","shadow","addShadow","getShadow","shadows","removeShadow","penTrails","broken","childChanged","topMorphAt","point","isTransparentAt","topMorphSuchThat","overlappedMorphs","morphs","getPixelColor","fullCopy","Map","copyRecordingReferences","updateReferences","reference","rootForGrab","isCorrectingOutsideDrag","wantsDropOf","pickUp","wrrld","hand","grab","isPickedUp","situation","slideBackTo","msecs","onBeforeDrop","glideTo","justDropped","reactToDropOf","endPoint","animations","endAlpha","oldAlpha","perish","activeHandle","moveCenter","popUpCenteredAtHand","inform","addItem","prompt","floorNum","ceilingNum","isRounded","menu","entryField","items","highlightColor","pressColor","addLine","popUpAtHand","pickColor","colorPicker","getChoice","anotherObject","inspector","Function","inspectee","contextMenu","isDevMode","developersMenu","hierarchyMenu","userMenu","addMenu","setAlphaScaled","toDataURL","newAlpha","unscaled","attach","choices","toggleIsDraggable","colorSetters","numericalSetters","allEntryFields","isEditable","nextEntryField","fields","previousEntryField","editField","nextTab","backTab","previousTab","escalateEvent","functionName","evaluateString","isTouching","otherMorph","oImg","overlappingImage","otherFb","oRect","minExtent","inset","normalImage","highlightImage","drawCrosshairsOnCanvas","drawOnCanvas","strokeStyle","lineWidth","stroke","p1","p11","p2","p22","isSquare","lineCap","mouseDownLeft","newPos","newExt","mouseButton","setPivot","mouseEnter","mouseLeave","isWarped","heading","isDown","wantsRedraw","penPoint","penBounds","facing","setHeading","drawLine","from","turn","steps","down","up","startWarp","endWarp","warp","fun","warpOp","argsArray","warpSierpinski","sierpinski","warpTree","level","tree","targetSetter","choice","mouseMove","updateTarget","setTarget","setTargetSetter","gradient","createLinearGradient","addColorStop","buildSubmorphs","cpal","gpal","viewPadding","ls","keyDownEventUsed","originalContents","originalAlignment","slot","setAlignmentToLeft","gotoSlot","initializeClipboardHandler","clipboardHandler","processKeyPress","processKeyDown","shiftKey","currentKey","selectionStartSlot","deleteSelection","ctrlKey","altKey","ctrl","metaKey","cmd","wordNavigation","selecting","goLeft","previousWordFrom","startMark","endMark","clearSelection","goRight","nextWordFrom","goUp","goDown","goHome","goEnd","deleteRight","deleteLeft","accept","cancel","slotPosition","isScrollable","scrollCursorIntoView","howMany","updateSelection","upFrom","downFrom","startOfLine","endOfLine","gotoPos","slotAt","stopEditing","aChar","selectAll","doIt","inspectIt","showIt","substring","destroyClipboardHandler","inspectKeyEvent","outlinePath","radius","setBorderWidth","setBorderColor","setCornerSize","isPointingRight","isClickable","popUp","destroyTemporaries","temporaries","contentsMorph","rad","fixLayout","autoOrient","autoOrientation","center1","center2","toggleOrientation","is3D","hasMiddleDip","colorBak","drawEdges","pressImage","mouseClickLeft","rangeSize","unitSize","bw","bh","posX","posY","updateValue","relPos","setStart","setStop","setSize","showValue","userSetStart","noUpdate","newStart","newStop","mousePos","newX","newY","isTouched","upStep","downStep","touch","unTouch","currentProperty","showing","markOwnProperties","hasUserEditedDetails","detail","work","buttonInspect","buttonClose","buttonSubset","buttonEdit","resizer","buildPanes","updateCurrentSelection","cnts","currentTxt","keyboardReceiver","enableSelecting","setReceiver","setContents","ev","attribs","isBold","hBar","vBar","isTextLineWrapping","listContents","addProperty","renameProperty","propertyName","removeProperty","lbl","activeIndex","activateIndex","isListContents","submenu","aMenu","indicator","addPair","createLabel","backgroundColor","item","isLine","adjustWidths","scrollFrame","isSelected","createBackgrounds","unselectAllItems","popup","activeMenu","popUpCenteredInWorld","closeRootMenu","closeSubmenu","getFocus","selectFirst","leaveSubmenu","selectUp","enterSubmenu","selectDown","processKeyUp","triggers","popUpSubmenu","aMenuItem","isItalic","isPassword","isShowingBlanks","blanksColor","currentlySelecting","markedTextColor","markedBackgoundColor","ans","textAlign","renderWithBlanks","startX","drawBlank","blank","words","isFirst","word","xOffset","charX","aSlot","rawHeight","setFontSize","disableSelecting","toggleShowBlanks","toggleWeight","toggleItalic","toggleIsPassword","setSerif","setSansSerif","setText","cursor","shiftClick","mouseDoubleClick","selectWordAt","selectBetweenWordsAt","crs","already","newMark","lineSlots","maxLineWidth","newline","paragraphs","oldline","shadowHeight","shadowWidth","offx","offy","layoutChanged","columnRow","row","yOffset","colRow","above","below","selectAllAndEdit","setAlignmentToRight","setAlignmentToCenter","evaluationMenu","schedule","triggerDoubleClick","bubbleHelp","popUpbubbleHelp","createLabelPart","cntr","part","icon","createLabelString","createIcon","isShowingSubmenu","isListItem","delaySubmenu","isSelectedListItem","dirty","submorphBounds","keepInScrollFrame","adjustBounds","subBounds","newBounds","growth","reactToGrabOf","keepAllSubmorphsWithin","autoScrollTrigger","enableAutoScrolling","isScrollingByDragging","hasVelocity","toolBar","hWidth","vHeight","adjustToolBar","addContents","cl","cw","ch","oldPos","deltaX","deltaY","friction","grabPosition","startAutoScrolling","autoScroll","ft","mouseScroll","toggleTextLineWrapping","buildListContents","pair","nb","isStopped","moveUp","moveDown","moveRight","moveLeft","mouseOverList","morphToGrab","grabOrigin","touchHoldTimeout","contextMenuEnabled","morphAtPointer","allMorphsAtPointer","dropTargetFor","oldParent","prepareToBeGrabbed","drop","morphToDrop","selectForEdit","processMouseDown","actualClick","processTouchStart","touches","processMouseUp","processMouseMove","processTouchMove","processTouchEnd","expectedClick","processDoubleClick","mouseOverNew","topMorph","posInDocument","worldCanvas","reactToTemplateCopy","mouseLeaveDragging","newMorph","mouseEnterDragging","processMouseScroll","wheelDeltaY","wheelDelta","wheelDeltaX","processDrop","readSVG","aFile","frd","FileReader","droppedSVG","onloadend","readAsDataURL","readImage","droppedImage","readAudio","snd","Audio","droppedAudio","readText","droppedText","readAsText","readBinary","droppedBinary","readAsArrayBuffer","readURL","request","onreadystatechange","parseImgURL","iurl","files","FileList","dataTransfer","getData","lastIndexOf","useFillPage","lastEditedText","virtualKeyboard","initEventListeners","brokenFor","updateBroken","condenseDamages","stepAnimations","hit","trgt","again","clientHeight","reactToWorldResize","getGlobalPixelColor","initVirtualKeyboard","autocapitalize","clipboardData","onbeforeunload","mouseDownRight","mouseClickRight","userCreateMorph","foo","bar","baz","garply","fred","customMorphs","toggleDevMode","hideAll","showAllHiddens","about","versions","slide","toggleBlurredShadows","togglePreferences","widgets","labelShadowColor","labelShadowOffset","outlineColor","outlineGradient","contrast","labelMinExtent","isDisabled","drawOutline","outlineStyle","drawBackground","topColor","bottomColor","minInset","createRadialGradient","shading","trueStateLabel","refresh","lw","previewPath","bezierCurveTo","eh","captionString","labelAlignment","toggleElement","shadowAlpha","inactiveColor","titleFontSize","titleTextColor","titleBarColor","titlePadding","buttonContrast","buttonFontSize","buttonCorner","buttonEdge","buttonPadding","buttonOutline","buttonOutlineColor","buttonOutlineGradient","instances","buttons","createButtons","textString","setPicture","addBody","addButton","askYesNo","defaultString","sliderMin","sliderMax","sliderAction","sld","reactToChoice","inp","reactToKeystroke","getValue","promptCode","instructions","remarkText","frame","bdy","getInput","typeInPadding","drawRectBorder","promptVector","deflt","xLabel","yLabel","labelText","vec","xInp","yInp","xCol","yCol","promptCredentials","purpose","tosURL","tosLabel","prvURL","prvLabel","checkBoxLabel","linkButton","btn","age","birthday","today","getFullYear","getMonth","byr","monthName","bmn","validInputs","indicate","checklist","em","eml","usr","pw1","opw","pw2","agree","chk","emlLabel","dof","mCol","lnk","years","currentYear","firstYear","January","February","March","April","May","June","July","August","September","October","November","December","email","oldpassword","withKey","ok","normalizeSpaces","aMorphOrCanvas","addHead","outlinePathTitle","outlinePathBody","respectHiddens","lfb","cfb","arrow","oldContentsExtent","setChoice","aStringOrFloat","setIsNumeric","dropDownMenu","cachedClr","cachedClrBright","cachedClrDark","C (48)","D (50)","C# (49)","E (52)","Eb (51)","F (53)","G (55)","F# (54)","A (57)","G# (56)","B (59)","Bb (58)","C (60)","D (62)","C# (61)","E (64)","Eb (63)","F (65)","G (67)","F# (66)","A (69)","G# (68)","B (71)","Bb (70)","C (72)","blackkey","keycolor","keywidth","keyheight","keyposition","aPianoKeyItem","selectKey","midiNum","note","piano","play","setScale","rounding","hatHeight","hatWidth","rfBorder","dent","bottomPadding","cSlotPadding","labelPadding","labelFontName","labelFontStyle","embossing","labelWidth","labelWordWrap","dynamicInputLabels","feedbackColor","feedbackMinHeight","minSnapDistance","reporterDropFeedbackPadding","labelContrast","activeHighlight","errorHighlight","activeBlur","activeBorder","rfColor","isCachingInputs","cachedNormalColor","isStatic","cachedInputs","nextBlock","debugCachedInputs","realInputs","allInputs","allEmptySlots","isEmptySlot","tagExitBlocks","stopTag","isCommand","partOfCustomCommand","exitTag","replaceInput","oldArg","newArg","replacement","cachedSlotSpec","startLayout","fixBlockColor","fixLabelColor","endLayout","silentReplaceInput","revertToDefaultInput","noValues","labelPart","parseSpec","blockSpec","scriptTarget","getMethod","setChoices","inputOptionsOfIdx","defaultValueOfInputIdx","emptySlot","isLocked","getVarNamesDict","rcvr","block","tempVars","inputFragmentNames","allNamesDict","refactorVarInStack","oldName","newName","isScriptVar","inputNames","definesScriptVariable","setSpec","currentSprite","inheritsAttribute","selectionID","shadowAttribute","grabbedMorph","affected","allComments","align","getHighlight","addHighlight","removeHighlight","bright","dark","setLabelColor","textColor","isProtectedLabel","flash","unflash","nearestBlock","isForced","isObjInputFragment","addInput","stage image","canBeEmpty","blockColor","isBlockLabelBreak","getSpec","isUnevaluated","(1) sine","(2) square","(3) sawtooth","(4) triangle","csv","any key","ceiling","10^","encode URI","decode URI","encode URI component","decode URI component","XML escape","XML unescape","hex sha512 hash","list1","list2","list3","isLambda","delimiter","parameters","names","getSlotSpec","blockHeight","bottomCorrection","blockWidth","isPrototype","ico","methodIconExtent","initialExtent","arrows","fixHighlight","showBubble","exportPic","morphToShow","anchor","thumbnail","booleanMorph","corral","stageIcon","isTemporary","allExemplars","exportPictureWithResult","aBubble","scr","bub","taller","saveCanvasAs","mappedCode","definitions","zebraContrast","snapSound","toggleSnapSound","instantiationSpec","isCorpse","addWord","inputIdx","placeHolder","userSetSpec","tb","buildSpec","rebuild","addOption","onHint","offHint","renameVar","blck","alternatives","field","shiftClicked","activeProcess","vNames","exportResultPic","refactorThisVar","isInheritedVariable","toggleInheritedVariable","exemplar","isTransientVariable","enableInheritance","xPosition","yPosition","getScale","getCostumeIdx","toggleInheritanceForAttribute","enableCodeMapping","blockAlternatives","relabel","dup","blockEditor","palette","scriptPic","saveXMLAs","vn","doShowVar","hidePrimitive","cat","hiddenPrimitives","doWarp","reifyScript","reifyReporter","reifyPredicate","doDeclareVariables","flushBlocksCache","refreshPalette","shadowedOnly","inheritedVariableNames","varFrame","silentFind","toggleTransientVariable","deleteBlock","tobefixed","isindef","ring","embed","alternativeSelectors","oldInputs","blockForSelector","restoreInputs","setSelector","aSelector","surplus","info","setCategory","blk","leftOver","nestedBlock","showHelp","helpSpec","resourceURL","mapToHeader","codeDefinitionHeader","codeHeaders","mapToCode","codeMappingHeader","codeMappings","mapHeader","aString","mapCode","codeLines","headerLines","bodyLines","defKey","defs","headerLine","indent","trimLeft","partLines","codeLine","hat","alternateBlockColor","blockInstance","justTheTemplate","renameVarTo","doRefactorBlockParameter","doRefactorRingParameter","doRefactorScriptVar","hasSpriteVariable","doRefactorSpriteVar","doRefactorGlobalVar","varExistsError","where","fragMorph","definer","updateBlockLabel","oldValue","newWatcher","oldWatcher","findVariableWatcher","globalVariables","getVar","deleteVariable","addVariable","setVar","toggleVariableWatcher","refactorVariableInstances","customBlocks","eachBlock","globalBlocks","eraseHoles","rightX","isRing","holes","isHole","hole","oldHighlight","highlight","addErrorHighlight","toggleHighlight","highlightImageBlurred","hi","out","highlights","cslot","nearest","forceNormalColoring","fixChildrensBlockColor","hasLabels","initializeVariables","cmnt","hasBlockVars","threads","toggleProcess","enableKeyboard","nextCommand","findProcess","clipWidth","fadeout","stackFullBounds","drawMethodIcon","isNormal","droppedMorph","startFollowing","stopFollowing","justThis","stackHeight","commentsBottom","stackWidth","commentsRight","enableCustomHatBlocks","pauseCustomHatBlocks","stopButton","bottomBlock","topAttachPoint","dentCenter","bottomAttachPoint","wrapAttachPoint","dentLeft","attachTargets","tp","loc","enableNestedAutoWrapping","isStop","allAttachTargets","newParent","topBlocks","rejectsHats","closestAttachTarget","thresh","ref","minDist","eachTarget","eachRef","offsetY","clearDropInfo","lastDroppedBlock","recordDrop","lastDropTarget","lastNextBlock","lastWrapParent","slotAttachPoint","userDestroy","userDestroyJustThis","dropRecord","removeBlock","pb","cs","drawTop","drawBody","drawBottom","drawTopDentEdge","drawBottomDentEdge","drawLeftEdge","drawRightEdge","drawTopLeftEdge","drawBottomRightEdge","drawDent","upperGradient","lowerGradient","leftGradient","lgx","rightGradient","drawFlatBottomDentEdge","sa","sp","closestInput","lastReplacedInput","lastPreservedBlocks","handMorph","determineSlotSpec","elementSpec","stopProcess","startProcess","drawDiamond","drawRounded","h2","aBlock","vanishForSimilar","cleanUpMargin","cleanUpSpacing","isPreferringEmptySlots","feedbackMorph","isAnimating","showCommentDropFeedback","showReporterDropFeedback","showCommandDropFeedback","lists","showCSlotWrapFeedback","closestBlock","titleBar","srcBlock","trgBlock","touchingVariadicArrowsIfAny","handPos","stacks","blackList","hasUndropQueue","lastRecord","nextRecord","flushPaletteCache","cleanUp","exportScriptsPicture","scriptsPicture","addComment","undrop","lastOrigin","recoverLastDrop","updateToolbar","redrop","forRedrop","rec","lastGrabOrigin","record","addToolbar","shade","undoButton","redoButton","keyboardButton","sortedElements","fixMultiArgs","oldFlag","toggleKeyboardEntry","sorted","sortedScripts","executeOnSliderEdit","reactToSliderEdit","isThreadSafe","enableSingleStepping","listIcon","objectIcon","drawFlat","isFilled","ins","rf","reify","nested","drawTopRightEdge","drawTopEdge","drawBottomEdge","constant","dta","isConstant","userSetContents","menuFromDict","noEmptyOption","messagesMenu","allNames","allMessageNames","messagesReceivedMenu","any message","collidablesMenu","distancesMenu","clonablesMenu","objectsMenu","typesMenu","enableFirstClass","sound","gettablesMenu","neighbors","other sprites","clones","other clones","enableNesting","costumes","sounds","attributesMenu","objName","varNames","costume name","costumesMenu","soundsMenu","shadowedVariablesMenu","shadowedAttributes","pianoKeyboardMenu","readonly","arrowWidth","reactToEdit","freshTextEdit","mapStringToCode","mapNumberToCode","drawRoundBorder","objects","isTernary","isBinary","boolOrNull","toggleValue","mapTrueToCode","mapFalseToCode","boolTrue","boolFalse","textLabel","drawLabel","drawKnob","w2","r2","slideStep","pad","getUserColor","mouseMoveBak","mouseDownBak","mouseUpBak","pal","readout","updateReadout","leftArrow","rightArrow","minInputs","noticesTransparentclick","anArray","fixArrowsLayout","dim","newPart","removeInput","oldPart","repetition","mapCodeList","mapCodeItem","mapCodeDelimiter","itemCode","delim","refreshScale","stickyOffset","isCollapsed","toggleExpand","setTextWidth","textWidth","pixels","tw","ignoreLayer","affectedBlocks","rightMost","atEnd","manifestStatement","manifestExpression","newScript","insertVariableGetter","deleteLastElement","lastElement","insertBlock","nextElement","blockTypes","vName","variableBlock","shiftScript","lastCommand","cm","nextScript","lastScript","runScript","processKeyEvent","reactToKeyEvent","keyName","searchBlocks","rightAway","glow","newProc","removeTerminatedProcesses","processesForBlock","stopAll","excpt","stopAllForReceiver","stopAllForBlock","aTopBlock","pauseAll","pause","pauseAllActiveSounds","resumeAll","resume","resumeAllActiveSounds","flashTime","stopTalking","isTable","only","doWhen","stopIt","pred","message","toggleSingleStepping","enableLiveCoding","pauseStep","evaluateContext","popContext","stopMusic","flashPausedContext","exp","expectReport","evaluateSequence","evaluateMultiSlot","evaluateArgLabel","bindingID","evaluateInput","evaluateBlock","argCount","evaluateNextInput","flashContext","returnValueToParentContext","handleError","reportOr","reportAnd","doReport","outer","doStopCustomBlock","doStopWarping","multiSlot","argLabel","doYield","errorObsolete","parameterNames","reportScript","reportJSFunction","parmNames","doRun","blockReceiver","runContinuation","exit","runnable","caller","parms","addVar","fork","ignoreExit","doStopBlock","doCallCC","aContext","isReporter","continuation","reportCallCC","copyForContinuationCall","evaluateCustomBlock","semanticSpec","isDirectlyRecursive","doSetVar","varName","doSet","doChangeVar","changeVar","reportGetVar","watcher","others","doChangePrimitiveVisibility","watchers","doHideVar","doRemoveTemporaries","hideIt","doDeleteAttr","attrName","inheritAttribute","inputOption","doTellTo","reportAttributeOf","reportAskFor","reportNewList","reportCONS","car","cdr","assertType","cons","reportCDR","doAddToList","doDeleteFromList","doInsertInList","reportRandom","doReplaceInList","put","reportListItem","reportListLength","reportListContainsItem","doShowTable","doIf","doIfElse","doStop","doStopAll","keysPressed","stopAllActiveSounds","removeAllClones","pauseButton","doStopThis","doStopOthers","frameRate","reportIsFastTracking","isFastTracked","doSetFastTracking","reportIsA","startFastTracking","stopFastTracking","doPauseAll","doForever","doRepeat","counter","doUntil","goalCondition","doWaitUntil","reportMap","doForEach","upvar","doWait","secs","doGlide","endX","endY","startValue","gotoXY","glide","doSayFor","doThinkFor","doThink","doPlaySoundUntilDone","playSound","ended","terminated","doStopAllSounds","thread","doAsk","activePrompter","isStage","isHiddenSprite","isDone","lastAnswer","inputField","reportLastAnswer","reportURL","protocol","doBroadcast","thisObj","trg","rcvrs","procs","getOtherObject","itemsArray","lastMessage","allHatBlocksFor","doBroadcastAndWait","activeSends","getLastMessage","typeString","reportTypeOf","thingType","assertAlive","reportSum","reportDifference","reportProduct","reportQuotient","reportModulus","reportLessThan","reportNot","reportGreaterThan","reportEquals","reportIsIdentical","isImmutable","reportBoolean","reportRound","reportMonadic","fname","LN10","reportTextFunction","encodeURI","decodeURI","decodeURIComponent","unescape","hex_sha512","reportJoin","reportJoinWords","aList","asText","reportLetter","reportStringSize","reportUnicode","charCodeAt","reportUnicodeAsLetter","reportTextSplit","del","strType","delType","parseCSV","re_valid","re_value","m0","m1","m2","m3","alert","stageObj","thatObj","getObjectsNamed","cloneOriginName","those","doFaceTowards","faceToXY","reportMouseX","reportMouseY","doGotoObject","createClone","newClone","reportTouchingObject","objectTouchingObject","penTrailsMorph","reportTouchingColor","colorFiltered","reportColorIsTouchingColor","color1","color2","reportDistanceTo","attribute","reportGet","neighborhood","specimens","rotatesWithAnchor","xCenter","yCenter","reportCostumes","allParts","attachPart","detachFromAnchor","setExemplar","release","perpetuate","setRotationX","setRotationY","otherObj","reportMouseDown","reportKeyPressed","keyString","doResetTimer","resetTimer","reportTimer","getTimer","reportDate","datefn","currDate","inputFn","dateMap","doMapCodeOrHeader","anOption","doMapCode","doMapHeader","doMapValueCode","doMapListCode","kind","key1","key2","reportMappedCode","doRest","beats","reportTempo","getTempo","doChangeTempo","changeTempo","doSetTempo","bpm","setTempo","doPlayNote","doPlayNoteForSecs","doSetInstrument","reportStackSize","stackSize","reportFrameCount","flashable","lastFlashable","doInterrupt","doIdle","cont","copyForContinuation","prepareContinuationForBinding","deepCopy","sender","shadowVar","deleteVar","addKeysToDict","srcDict","trgtDict","eachKey","categories","motion","looks","pen","control","sensing","operators","paletteColor","paletteTextColor","isCachingPrimitives","useFlatLineEnds","highlightBorder","bubbleColor","bubbleFontSize","bubbleFontIsBold","bubbleCorner","bubbleBorder","bubbleBorderColor","bubbleMaxTextWidth","initBlocks","turnLeft","changeXPosition","setXPosition","changeYPosition","setYPosition","bounceOffEdge","doSwitchToCostume","doWearNextCostume","changeEffect","setEffect","clearEffects","changeScale","comeToFront","goBack","doScreenshot","dev","reportSounds","changeHue","setHue","changeBrightness","setBrightness","changeSize","doStamp","floodFill","reportPenTrailsAsCostume","receiveGo","receiveKey","receiveInteraction","receiveMessage","receiveCondition","receiveOnClone","removeClone","reportThreadCount","getLastAnswer","alias","reportFalse","initBlockMigrations","blockMigrations","receiveClick","reportTrue","doMapStringCode","normalExtent","rotationStyle","inheritedMethodsCache","nestingScale","layers","blocksCache","paletteCache","rotationOffset","wasWarped","graphicsValues","cachedPropagation","inheritedAttributes","forClone","cb","att","addSpecimen","copyAndBindTo","allBlockInstances","cst","dp","appearIn","newSpriteName","addSprite","sprites","setName","currentCenter","isFlipped","isLoadingCostume","stageScale","costumeExtent","flipped","applyGraphicsEffects","wearCostume","silentGotoXY","createImageData","putImageData","setDefaults","migration","blockTemplates","isGhosted","newBlock","inheritedVars","watcherToggle","toggleWatcher","showingWatcher","variableWatcherToggle","showingVariableWatcher","helpMenu","isVariableNameInUse","makeBlockButton","deletableVariableNames","makeBlock","dlg","currentCategory","freshPalette","searchButton","makeButton","hideNextSpace","hasHiddenPrimitives","hiddens","more","canHidePrimitives","templateInstance","inheritedBlocks","blocksMatching","searchString","strictly","labelOf","aBlockSpec","filtered","fillDigits","anInt","totalDigits","fillChar","relevance","aBlockLabel","aSearchString","atWord","primitive","blocksDict","reporterized","rel","blocksList","reporterize","scriptFocus","showSelection","searchPane","searchBar","oldSearch","createPalette","logo","expressionString","parseInfix","blockFromAST","ast","monads","inps","reverseDict","-","/","%","=","<","&","|","!","deleteVariableWatcher","addCostume","noShadow","positionTalkBubble","doWearPreviousCostume","addSound","activeSounds","aud","isAppMode","exportSprite","selectSprite","showOnStage","duplicateSprite","instantiate","instantiateSprite","removeSprite","immediately","cloneCount","clonify","hats","initClone","corpsify","perpetuateAndEdit","inst","createCorral","getHue","getBrightness","layer","targetLayer","newLayer","otherSprite","originalAlpha","clearPenTrails","percentage","realScale","xDist","yDist","graphicsChanged","transform_fisheye","imagedata","newImageData","newPixels","centerX","centerY","srcX","srcY","srcI","atan2","transform_whirl","scaleX","scaleY","whirlRadians","radiusSquared","sina","cosa","transform_pixelate","transform_mosaic","transform_duplicate","transform_HSV","hueShift","saturationShift","brightnessShift","span","newR","newG","newB","transform_negative","rcom","gcom","bcom","transform_comic","transform_confetti","eff","getGhostEffect","talkBubble","middle","recordLayers","refreshInheritedAttribute","restoreLayers","receiveUserInteraction","stagePos","damagedFrom","damagedTo","damaged","read","trailsCanvas","newCostumeName","shrinkWrap","justMe","inheritsX","inheritsY","nestingBounds","isFinite","penSize","penState","startPoint","fraction","rPos","dirX","dirY","absoluteX","setRotationCenter","absoluteY","absoluteCoordinate","moveRotationCenter","worldCoordinate","msgs","allHatBlocksForKey","allHatBlocksForInteraction","interaction","allGenericHatBlocks","watcherFor","deleteAllBlockInstances","allIndependentInvocationsOf","purgeCorpses","allSpecimens","inDefinitions","allLocalBlockInstances","eachScript","aSpec","allInvocationsOf","addAllInvocationsOf","allDependentInvocationsOf","inScripts","inBlockEditors","allEditorBlockInstances","getLocalMethod","inPalette","paletteBlockInstance","usesBlockInstance","forRemoval","skipGlobals","skipBlocks","doubleDefinitionsFor","blockList","replaceDoubleDefinitionsFor","doubles","double","chooseExemplar","eachSprite","another","emancipate","prune","shadowAllAttributes","shadowAllMethods","shadowAllVars","removeSpecimen","aName","updatePropagationCache","inherited","wardrobe","jukebox","createSpriteEditor","spriteEditor","own","locals","allBlocks","ownBlocks","valuesOnly","inheritedMethods","xOut","compositeOperation","fullThumbnail","thumb","sym","detachPart","detachAllParts","allAnchors","layerCache","ignoredCostume","ix","stem","imgSource","enableSublistIDs","timerStart","watcherUpdateFrequency","lastWatcherUpdate","relativePos","ws","hs","trails","excludedSprite","leftPos","keyPressed","stepGenericConditions","hatCount","fireKeyEvent","removePressedKey","fireGreenFlagEvent","editScripts","createNewProject","openProjectsBrowser","fireStopAllEvent","saveProjectsBrowser","hasChangedMedia","spriteBar","tabBar","tabTo","showAll","fimg","dataAsMorph","isText","scaledImg","canvasBoundingBox","getAlpha","getLeft","getTop","getRight","getBottom","anIDE","isnew","oncancel","onsubmit","openIn","editRotationPointOnly","dialog","isTainted","rp","createTexture","grey","audioContext","gainNode","AudioContext","mozAudioContext","msAudioContext","oAudioContext","webkitAudioContext","createGain","createGainNode","gain","createOscillator","noteOn","noteOff","frequency","connect","isBig","big","isCircular","listwatcher","isSameList","isSameTable","drawShadow","listWatcher","textMorph","enableTables","currentValue","readoutColor","labelMorph","sliderMorph","cellMorph","setSliderMin","setSliderMax","isList","monitor","filePicker","txtOnlyMsg","ftype","saveFileAs","setStyle","styleNormal","styleLarge","styleSlider","userSetSliderMin","userSetSliderMax","gui","setDefaultDesign","frameColor","groupColor","buttonLabelColor","tabColors","rotationStyleColors","appModeColor","scriptsPaneTexture","scriptsTexture","setFlatDesign","userLanguage","projectsInURLs","applySavedSettings","cloudMsg","currentTab","projectNotes","logoURL","paletteHandle","stageHandle","corralBar","isSmallStage","paletteWidth","stageRatio","wasSingleStepping","loadNewProject","shield","savingPreferences","getURL","showMessage","applyFlags","editMode","toggleAppMode","noRun","runScripts","hideControls","noExitWarning","interpretUrlAnchors","rawOpenProjectString","SnapCloud","parseDict","Username","getPublicProject","encodeDict","projectData","rawOpenCloudDataString","cloudError","ProjectName","urlLanguage","setLanguage","createCloudAccount","hasLocalStorage","localStorage","parseResponse","intervalHandle","createLogo","createControlBar","createCategories","createStage","createSpriteBar","createCorralBar","snapMenu","startButton","projectButton","settingsButton","stageSizeButton","appModeButton","steppingButton","cloudButton","refreshResumeSymbol","steppingSlider","refreshSlider","pauseSymbols","addCategoryButton","fixCategoriesLayout","buttonWidth","buttonHeight","xPadding","yPadding","forSearching","createPaletteHandle","createStageHandle","addRotationStyleButton","rotationStyleButtons","symbols","labels","nameField","padlock","thumbSize","tabCorner","tabString","acceptDrops","newbutton","paintbutton","cambutton","enableCamera","notSupportedMessage","spriteIcon","arrangeIcons","maxPaletteWidth","setProjectName","minExt","maxHeight","minRatio","maxRatio","anImage","anAudio","openProjectString","openCloudDataString","openBlocksString","openSpritesString","openMediaString","openScriptString","anArrayBuffer","loadYPR","buffer","reader","sb","Reader","pname","XMLWriter","readYPR","Uint8Array","ypr","shouldIgnorePosition","oldTop","pressStart","toggleFastTracking","toggleVariableFrameRate","toggleCameraSupport","togglePauseResume","stopAllScripts","toggleRetina","refreshIDE","defaultDesign","removeSetting","flatDesign","saveSetting","newProject","design","getSetting","longform","longurls","plainprototype","keyboard","tables","tableLines","autoWrapping","isLaunchingExpanded","highContrast","plainLabel","addNewSprite","rnd","paintNewSprite","newCamSprite","camDialog","ignoredSprite","cloudMenu","exportProjectMedia","exportProjectNoMedia","exportProjectAsCloudData","prj","settingsMenu","addPreference","projectMenu","graphicsName","exportProject","exportGlobalBlocks","removeUnusedBlocks","exportProjectSummary","libraries","parseResourceFile","importMedia","getMediaList","dirname","alphabetically","fileName","description","folderName","popupMediaImportDialog","selectedIcon","turtle","fp","fw","cstTemplate","sndTemplate","isSVG","isSound","prevSelected","onloadeddata","createThumbnail","btoa","aboutSnap","aboutTxt","noticeTxt","creditsTxt","btn1","btn2","btn3","btn4","licenseBtn","translatorsBtn","editProjectNotes","saveProject","saveProjectToCloud","rawSaveProject","setURL","plain","dataPrefix","scan","unused","every","trgIdx","found","app","pics","useDropShadows","addNode","addImage","inline","para","addVariables","ul","listMorph","li","addBlocks","blockImg","defImg","meta","notes","toc","globalVars","paragraph","ol","tocEntry","openProject","customSnapContext","rawOpenBlocksString","loadBlocks","rawOpenSpritesString","loadSprites","loadMedia","rawOpenScriptString","loadScript","fileType","dataURItoBlob","components","hasTypeStr","atob","Blob","fileExt","blobIsSupported","saveAs","switchToUserMode","switchToDevMode","toggleZebraColoring","toggleDynamicInputLabels","toggleLongFormInputDialog","togglePlainPrototypeLabels","togglePreferEmptySlotDrops","toggleVirtualKeyboard","toggleInputSliders","toggleSliderExecute","appMode","toggleStageSize","isSmall","forcedRatio","zoomTo","targetRatio","smallRatio","altClicked","setPaletteWidth","confirm","languageMenu","openDefaultProject","impString","reflectLanguage","urlBar","userSetBlocksScale","scrpt","sample","setBlocksScale","normal (1x)","demo (1.2x)","presentation (1.4x)","big (2x)","huge (4x)","giant (8x)","monstrous (10x)","userSetStageSize","setStageExtent","userSetDragThreshold","initializeCloud","pwh","login","cloudIcon","signup","resetCloudPassword","resetPassword","changeCloudPassword","changePassword","logout","mediaXML","flushMedia","cloudAcknowledge","cloudResponse","explanation","setCloudURL","Snap!Cloud","task","projectList","srcBar","filterField","magnifyingGlass","listField","preview","notesText","notesField","deleteButton","shareButton","unshareButton","buildContents","setSource","notification","addSourceButton","buildFilterField","fixListFieldItemColors","thumbnailSize","symbol","lbl1","lbl2","l1","l2","aProject","Notes","clearDetails","getProjectList","installCloudProjectList","getExamplesProjectList","getLocalProjectList","childNamed","projects","pl","proj","Public","Thumbnail","Updated","openCloudProject","project","rawOpenCloudProject","reconnect","callService","disconnect","saveCloudProject","deleteProject","shareProject","entry","projectId","unshareProject","thin","libraryCache","initializePalette","initializeLibraryDescription","installLibrariesList","importLibrary","hasCached","displayBlocks","libraryXML","cacheLibrary","titleHeight","cachedLibrary","selectedLibrary","libraryName","libraryText","libraryKey","blockImage","previousCategory","blockContainer","msgText","rotationButton","createRotationButton","roationButton","releaseSprite","showSpriteOnStage","copyStack","copyCostume","copySound","editCostume","disinherit","renameCostume","duplicateCostume","newcos","updateList","removeCostume","removeCostumeAt","exportCostume","costumesVersion","spriteVersion","toolsPadding","paintNew","newFromCam","createInfo","previewAudio","dur","toggleAudioPlaying","audioHasEnded","renameSound","removeSound","soundsVersion","videoElement","videoView","noCameraSupport","mediaDevices","getUserMedia","video","stream","srcObject","catch","clippingWidth","clippingHeight","videoWidth","videoHeight","dispatchEvent","getTracks","paint","paper","controls","edits","buildEdits","toolbox","buildToolbox","scaleBox","buildScaleBox","propertiesControls","colorpicker","penSizeSlider","penSizeField","primaryColorButton","primaryColorViewer","constrain","populatePropertiesMenu","refreshToolButtons","tools","brush","eraser","crosshairs","rectangleSolid","circleSolid","paintbucket","pipette","tool","toolButton","drawcrosshair","pushButton","clearCanvas","oldim","oldrc","automaticCrosshairs","centermerge","updateAutomaticCenter","alpen","ni","primarycolor","linewidth","currentTool","toolChanged","colorselection","can","dragRect","previousDragPoint","mask","erasermask","background","secondarycolor","brushBuffer","undoBuffer","isShiftPressed","calculateCanvasCenter","canvasBounds","cacheUndo","cachecan","floodfill","sourcepoint","currentpoint","sourcecolor","checkpoint","newW","newH","relpos","mctx","pctx","strokeRect","bkctx","drawFrame","becomeArray","colName","rowName","repeat","columnNames","becomeLinked","tail","loopcount","it","cellColor","range","lastUpdated","lastCell","startIndexMenu","plusButton","anyway","cell","starttime","maxtime","updateLength","notDone","setStartIndex","arrangeCells","fe","showTableView","view","byob","refreshDefaults","prototypeInstance","headerOnly","idProperty","typeOf","inputName","defaultValueOf","dropDownMenuOfInputIdx","dropDownMenuOf","isReadOnlyInputIdx","isReadOnlyInput","inputOptionsOf","parseChoices","quoted","myspec","localizedSpec","isInput","locParts","sem","abstractBlockSpec","translationsAsText","updateTranslations","scriptsModel","proto","oldVars","aDefinition","newSpec","refreshPrototype","protoSpec","newFrag","frags","specFromFragments","blockCategory","refreshPrototypeSlotTypes","defTemplateSpecFragment","upvarFragmentNames","upvarFragmentName","defSpecFragment","blockSpecFromFragments","blockSpecFragment","declarationsFromFragments","openForChange","isInUse","duplicateBlockDefinition","editTranslations","enableBlockVars","exportBlockDefinition","deleteBlockDefinition","allDefs","jag","jags","blockType","scopes","createCategoryButtons","createTypeButtons","creatpanel_LefteButtons","preventTypeChange","addBlockTypeButton","setType","addTypeButton","addScopeButton","setScope","varType","scriptsFrame","isLive","updateDefinition","setInitialDimensions","consolidateDoubles","refreshAllBlockInstances","oldSpec","prototypeSpec","prototypeSlots","prototypeHat","stackFrame","mex","prot","pref","suff","isUpvar","isMultipleInput","isSingleInput","setToSingleInput","singleInputType","setToMultipleInput","setToUpvar","setSingleInputType","sO","frag","isPlaceHolder","isOnlyElement","newFragment","symbolColor","isHighlighted","fh","textfield","slots","isExpanded","cachedRadioButton","noDelete","createSlotTypeButtons","fixSlotsLayout","addSlotsMenu","fragmentType","symbolMenu","defaultSwitch","defaultInputField","noDeleteButton","deleteFragment","defLabel","defInput","defSwitch","addSlotTypeButton","radioButtonSingle","addSlotArityButton","setSlotArity","defaultInputLabel","setSlotType","arity","ypadding","ah","editSlotOptions","exportBlocks","checkBox","lastCat","selectNone","importBlocks","removeBlocks","demo","fillWithTestData","setRows","rowsArray","setCols","colsArray","setColNames","setRowNames","setColName","setRowName","addRow","addCol","toList","eachRow","listSymbol","setData","drawData","txtWidth","txtHeight","dataRepresentation","orphaned","shouldBeList","isOvershooting","foreground","raggedBoxPath","tm","columnAt","textHeight","tableVersion","rowLabelWidth","columns","maxStartRow","maxStartCol","dragAnchor","resizeAnchor","resizeCol","resizeRow","wantsUpdate","initScrollBars","showData","updateScrollBars","rowLabelsWidth","columnsLayout","visibleRows","colWidth","buildCells","noScrollUpdate","cellIdx","xSteps","ySteps","shiftCells","resizeCells","oldCols","oldRows","colNum","possible","globalExtent","relativeX","resetColumns","openInDialog","showListView","tableView","symbolWidth","symbolCanvasColored","drawSymbolStop","drawSymbolPointRight","drawSymbolStepForward","drawSymbolGears","drawSymbolFile","drawSymbolFullScreen","drawSymbolNormalScreen","drawSymbolSmallStage","drawSymbolNormalStage","drawSymbolTurtle","drawSymbolTurtleOutline","drawSymbolPause","drawSymbolFlag","drawSymbolOctagon","drawSymbolCloud","drawSymbolCloudOutline","drawSymbolCloudGradient","drawSymbolTurnRight","drawSymbolTurnLeft","drawSymbolStorage","drawSymbolPoster","drawSymbolFlash","drawSymbolBrush","drawSymbolRectangle","drawSymbolRectangleSolid","drawSymbolCircle","drawSymbolCircleSolid","drawSymbolLine","drawSymbolCross","drawSymbolCrosshairs","drawSymbolPaintbucket","drawSymbolEraser","drawSymbolPipette","drawSymbolSpeechBubble","drawSymbolSpeechBubbleOutline","drawSymbolTurnBack","drawSymbolTurnForward","drawSymbolArrowUp","drawSymbolArrowUpOutline","drawSymbolArrowLeft","drawSymbolArrowLeftOutline","drawSymbolArrowDown","drawSymbolArrowDownOutline","drawSymbolArrowRight","drawSymbolArrowRightOutline","drawSymbolRobot","drawSymbolMagnifyingGlass","drawSymbolMagnifierOutline","drawSymbolNotes","drawSymbolCamera","drawSymbolLocation","drawSymbolFootprints","drawSymbolKeyboard","drawSymbolKeyboardFilled","clip","vert","r1","r3","r4","drawDisk","fillTop","w3","h3","quadraticCurveTo","n2","nonSpace","nonWord","peek","skip","upTo","peekUpTo","skipSpace","lastIndex","indentation","require","tagName","childrenNamed","parentNamed","isFormatted","indentationLevel","ignoreQuotes","warn","parseString","parseStream","store","mediaIdProperty","mediaDetectionProperty","forBlocksLibrary","flush","mediaID","toXML","addMedia","integer","xmlString","watcherLabels","mediaDict","loadProjectModel","xmlNode","appInfo","rawLoadProjectModel","model","nameID","scheduled","pentrails","ternary","threadsafe","codify","inheritance","sublistIDs","loadCustomBlocks","populateCustomBlocks","loadObject","loadValue","inheritanceInfo","delegated","nestingInfo","synch","costumeNumber","loadVariables","extX","extY","loadColor","scope","targetStage","rotation","loadMediaModel","dispatches","loadInheritanceInfo","loadNestingInfo","loadCostumes","loadSounds","loadScripts","transient","isDispatch","trans","loadComment","loadScriptsArray","loadBlock","collapsed","migrationOffset","obsoleteBlock","loadInput","colorString","thumbdata","reduce","noCostumes","noSounds","noScripts","isVar","toScriptXML","savePosition","toBlockXML","encodeScripts","decl","mediaContext","cloud","hasProtocol","setRoute","routes","userNum","callBack","errorCall","withCredentials","stringify","__h","__u","parseAPI","pdata","mediaSize","oldPW","newPW","callURL","stickyUrl","responseList","serviceName","postDict","service","parm","services","entries","serviceDescription","CryptoJS","SHA512","str2rstr_utf8","enc","Hex","output","lib","Base","mixIn","$super","WordArray","sigBytes","clamp","Latin1","da","Utf8","BufferedBlockAlgorithm","_nDataBytes","_append","_process","blockSize","_minBufferSize","_doProcessBlock","Hasher","_doReset","finalize","_doFinalize","_hash","_createHelper","_createHmacHelper","ea","HMAC","algo","x64","Word","low","toX32","W","K","L","M","Z","N","O","aa","P","ba","Q","E","F","D","T","G","R","H","S","I","U","J","B","V","A","fa","ga","ca","HmacSHA512","URL","webkitURL","createElementNS","MouseEvent","HTMLElement","safari","setImmediate","revokeObjectURL","DONE","INIT","createObjectURL","download","msSaveOrOpenBlob","WRITING","onwritestart","onprogress","onwrite","onabort","onwriteend","tao","elementCanvas","panelLeft","leftReducer","leftExpand","importator","renderChoices","snapInstance","panelSizer","assetManager","null","qe","we","__chain__","__wrapped__","je","nt","xt","ze","he","Le","nodeClass","Te","Ye","Xe","Se","tt","Ht","__bindData__","funcNames","funcDecomp","be","Mt","et","ht","ot","dt","argsObject","oe","jt","nr","Dt","er","de","Fe","createCallback","pt","Ee","ee","unindexedChars","nonEnumArgs","enumPrototypes","enumErrorProps","nonEnumShadows","ce","kt","pe","$e","se","Ve","zt","vt","ve","yt","argsClass","ownLast","mt","He","bt","We","_t","wt","Ct","Et","Zt","Ot","Be","St","At","It","Nt","Bt","Pt","Rt","Ft","Tt","$t","Lt","Pe","Kt","qt","Wt","Gt","ar","Jt","Vt","leading","maxWait","trailing","ir","Ce","me","Ut","chain","Qt","Xt","Yt","ut","pick","ne","te","re","ue","ae","TypeError","ye","_e","getPrototypeOf","xe","propertyIsEnumerable","ke","Oe","Ae","Ie","De","Ne","Re","toLocaleString","WinRTError","spliceObjects","templateSettings","interpolate","variable","imports","Ke","Ge","Je","Me","\"","'","Ue","Qe","Ze","ur","or","getTime","lr","assign","bindAll","bindKey","compact","compose","countBy","curry","debounce","difference","flatten","forEachRight","forIn","forInRight","forOwn","forOwnRight","functions","groupBy","indexBy","initial","intersection","mapValues","memoize","omit","pairs","partial","partialRight","pluck","pull","shuffle","sortBy","tap","throttle","times","transform","union","uniq","without","xor","zip","zipObject","collect","eachRight","methods","unzip","cloneDeep","findIndex","findKey","findLast","findLastIndex","findLastKey","identity","isArguments","isBoolean","isDate","isElement","isEmpty","isEqual","isNull","isNumber","isRegExp","isUndefined","mixin","reduceRight","runInContext","sortedIndex","uniqueId","findWhere","foldl","foldr","include","inject","take","VERSION","enumerable","writable","boolean","function","\\","\n","\r","\t"," "," ","EventMgr","addEventMgr","eventMgr","qtiCustomInteractionContext","renderer","SnapForTao","getTypeIdentifier","dom","_this","notifyReady","limiter","testlimiter","setResponse","getResponse","dataURL","resetResponse","Scontainer","setSerializedState","getSerializedState","register","PCI"],"mappings":"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AAk8B,KAAAgnB,YAAAhU;AACAl4C,KAAA6K,KACAyC,OAAA,EACA6B,MAAA,IACAnG,OAAA,GACAk8B,MAAA,GACAgnB,aAAA,WACAhU,OAwVA,QAAAmU,kBAAAR,KAAAj1B,OAAAk1B,aACA9rD,KAAA6K,KAAAghD,KAAAj1B,OAAAk1B,aAyEA,QAAAQ,gBAAAz7C,QACA7Q,KAAA6K,KAAAgG,QAufA,QAAA07C,WAAA17C,OAAAg3B,MAAA2kB,YAAAC,UACAzsD,KAAA6K,KAAAgG,OAAAg3B,MAAA2kB,YAAAC,UAucA,QAAAC,aACA92C,KACA62C,SACAE,UACAC,KACAC,OACAx3C,UACAy3C,aACA/F,YACA7O,MACA6U,UAEA/sD,KAAA6K,KACA+K,KACA62C,SACAE,UACAC,KACAC,OACAx3C,UACAy3C,aACA/F,YACA7O,MACA6U,UAyoBA,QAAAC,WACAp3C,KACA62C,SACAE,UACAC,KACAC,OACAI,UACArlD,MACAmlD,SACAD,aACA/F,aAEA/mD,KAAA6K,KAAA+K,KACA62C,SACAE,UACAC,KACAC,OACAI,UACArlD,MACAmlD,SACAD,aACA/F;CA+gBA,QAAAmG,cACAr8C,OACAs8C,OACAC,YACAX,SACAE,UACAH,YACAa,KACAC,WACAC,UACAC,YACAC,mBAEAztD,KAAA6K,KACAgG,OACAs8C,OACAC,YACAX,SACAE,UACAH,YACAa,KACAC,WACAC,UACAC,YACAC,mBAmPA,QAAAC,eACA78C,OACAs8C,OACAC,YACAX,SACAE,UACAH,YACAa,KACAnV,MACA0U,KACAC,OACAY,kBACAE,UAGA3tD,KAAA4tD,eAAAD,UAAA,KACA3tD,KAAA2tD,SAAA,KAGA3tD,KAAA6K,KACAgG,OACAs8C,OACAC,YACAX,SACAE,UACAH,YACAa,KACAnV,MACA0U,KACAC,OACAY,mBA0NA,QAAAI,YAAAC,cACA9tD,KAAA6K,KAAAijD,cAuLA,QAAAC,kBAAAC,SAAA9oB,KAAA+oB,aACAjuD,KAAA6K,KAAAmjD,SAAA9oB,KAAA+oB;CAgYA,QAAAC,WAAAxtD,SAAAytD,YAAAC,OAAAX,mBAqBAztD,KAAA6K,KACAnK,aACAytD,aAAA,SAAApe,SACA,MAAAyD,UAAAzD,SACAA,QAEAA,QAAAse,SACAte,QAAAse,WAEAte,QAAA78B,YAEAk7C,WACAX,mBAqHA,QAAAa,kBACAC,gBACA1mD,SACA4kD,SACAE,UACAC,KACAC,OACAx3C,WAEArV,KAAA6K,KACA0jD,iBAAA,GACA1mD,UAAA,IACA4kD,UAAA,GACAE,WAAA,aACAC,OAAA,EACAC,SAAA,EACAx3C,WAsFA,QAAAm5C,gBACAxuD,KAAA6K,OAsFA,QAAA4jD,WAAAC,QACA1uD,KAAA6K,KAAA6jD,QA8mBA,QAAAC,YAAAhF,QAAAiF,UAEA5uD,KAAA6K,KAAA8+C,QAAAiF,UA8/BA,QAAAC,iBACAh+C,OACAs8C,OACAC,YACAZ,YACAa,KACAyB;AAEA9uD,KAAA6K,KACAgG,OACAs8C,OACAC,YACAZ,YACAa,KACAyB,UAsXA,QAAAC,mBACAC,OACAn+C,OACAs8C,OACAC,YACA6B,MACAzC,YACAa,KACAyB,SACAjnD,SACAqnD,WACAC,WAEAnvD,KAAA6K,KACAmkD,OACAn+C,OACAs8C,OACAC,YACA6B,MACAzC,YACAa,KACAyB,SACAjnD,SACAqnD,WACAC,WAgZA,QAAAC,UACAJ,OACAn+C,OACAs8C,OACAC,YACA6B,MACAzC,YACAa,MAEArtD,KAAA6K,KACAmkD,OACAn+C,OACAs8C,OACAC,YACA6B,MACAzC,YACAa,MA0GA,QAAAgC,aACAzoD,MACAiK,OACAs8C,OACAC,YACA6B,MACAzC,YACAa,KACAyB,SACA/e,QACAuf,SAEAtvD,KAAA6K,KACAjE,MACAiK,OACAs8C,OACAC,YACA6B,MACAzC,YACAa,KACAyB,SACA/e,QACAuf,SA0OA,QAAAC,oBACA1+C,OACAs8C,OACApd,QACAkf,MACAzC,YACAa,KACAiC,QACAlC;AAEAptD,KAAA6K,KACAgG,OACAs8C,OACApd,QACAkf,MACAzC,YACAa,KACAiC,QACAlC,aA6KA,QAAAoC,gBAAA3+C,OAAAs8C,OAAAX,aACAxsD,KAAA6K,KAAAgG,OAAAs8C,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C,mBAAA,GACAC,WAAA,GACA3D,cAAA,GACA4D,kBAAA,GACAC,mBAAA,EACAC,oBAAA,EACAC,eAAA,EACAC,eAAA,EACAC,QAAA,EACAC,cAAA,GAGAC,qBACA7b,kBAAA6a,iBAAA7a,kBACA8a,iBAAA,GACAC,aAAA,aACAC,aAAA,GACAC,mBAAA;AACAC,iBAAA,aACAC,iBAAA,GACAC,mBAAA,GACAC,WAAA,GACA3D,cAAA,GACA4D,kBAAA,GACAC,mBAAA,EACAC,oBAAA,EACAC,eAAA,EACAC,eAAA,EACAC,QAAA,EACAC,cAAA,GAGA7b,mBAAA8a,gBA4BAhZ,sBASA,IAAAzC,SAwBAoa,cACA,WACAK,oBACA,oEACAK,oBACA,kBACAJ,aACA,aAIAgC,SACA,aACAC,mBACA,mBAGAC,OACA,YACAC,MACA,YACA7J,MACA,OACA8J,IACA,QACAC,QACA,YACAC,QACA,WACAC,UACA,aACAC,UACA;AACAC,MACA,SACAC,MACA,SAGAC,UACA,4BAGAC,QACA,UACAC,SACA,WACAC,OACA,OAGAC,OACA,QACAC,MACA,QAGAC,eACA,4BACAC,aACA,qDACAC,uBACA,oFAGAC,mBACA,2BACAC,0BACA,kCAGA9C,oBACA,uHACA+C,8DACA;AAmCAC,wCACA,qDAEAC,gBACA,oBACAC,6BACA,kCACAC,oCACA,yCACAC,0BACA,yCACAC,qBACA,uBACAC,oBACA,sBACAC,aACA,eACAC,+BACA,mCACAC,iBACA,iBACAC,cACA,0BACAC,iBACA,iBACAC,cACA,0BACAC,qBACA;AACAC,aACA,aACAC,aACA,aACApoB,UACA,YAGAqoB,yBACA,+BACAC,eACA,kBACAC,YACA,aACAC,qBACA,0BACAC,SACA,UACAC,uBACA,4BACAC,WACA,YACAC,SACA,UACAC,SACA,UACAC,2BACA,4BACAC,wBACA,2BACAC,wBACA,gCACAC,oBACA,yBACAC,mBACA,qCACA1/B,KACA,SACA/6B,KACA,UACAiD,KACA;AACAy3D,cACA,0BACAC,oBACA,8BAEAC,2CACA,6CACAC,sBACA,sBACAC,gBACA,kBAGAC,kBACA,oBACAC,6BACA,kCACAC,kBACA,wBACAC,oBACA,gCACAC,4BACA,iCACAC,qBACA,sBACAC,sBACA,4BACAC,MACA,QAGAC,MACA,eACAC,WACA;AACAC,SACA,mBACAC,wBACA,uCACAC,yBACA,mCACAC,sBACA,sCACAC,yBACA,qCACAC,sBACA,uCACAC,wBACA,mCACAC,qBACA,qCACAC,MACA,cACA1rB,KACA,UAGA2rB,0BACA,8BACAC,2BACA,2BACAC,oBACA,wBACAC,yBACA;AACAC,yBACA,0BACAC,iBACA,sBACAC,0BACA,kCACAC,eACA,iBACAC,eACA,mBACAC,gBACA,sBACAC,aACA,0BACAC,eACA,qBACAC,qBACA,wBACAC,WACA,WACAC,mBACA,oBACAC,YACA,cACAC,aACA,kBACAC,cACA,oBACAC,0BACA,6BACAC,oBACA,uBACAC,iBACA,qBACAC,uBACA;AACAC,0BACA,yBACAC,wBACA,2BACAC,8BACA,qCACAC,+BACA,qCACAC,UACA,aACAC,0BACA,gCACAC,yBACA,aACA5I,OACA,WACA6I,oBACA,oBACAC,mBACA,yBACAC,sBACA,sBACAC,0BACA,iCACAC,cACA,YACAC,aACA,UAGAC,kBACA,gBACAC,kBACA;AACAC,gCACA,6BACAC,kBACA,0BACAC,oBACA,qBACAC,OACA,UACAC,UACA,WACAC,UACA,WACAC,cACA,mBACAC,oBACA,wBACAC,mBACA,mBACAC,cACA,+BACA35D,MACA,cACA45D,eACA,eACAC,UACA,gBACAC,aACA,aACAC,cACA,sBACAC,uBACA,gCAEAC,oBACA,mBACAC,aACA,oBACAC,OACA,SAGAC,YACA;AACAC,WACA,gBACAC,aACA,qBACAC,uBACA,kCACAC,YACA,WACAC,WACA,WACAC,SACA,SACAC,KACA,OACAC,MACA,OACAC,cACA,kBACAC,qBACA,8BACAC,MACA,UACAnmB,MACA,QACAomB,kBACA,kBACAC,eACA,iBACAC,gBACA,uBACAC,uBACA,0BACAC,iBACA,sBACAC,0BACA,0BAEAC,aACA,aAGAC,kBACA,oBACAC,gBACA;AACAC,oBACA,yBAEAC,iBACA,0BACAC,oBACA,oBACAC,qBACA,4BACAC,qBACA,0BACAC,+BACA,kCAGAC,YACA,aACAC,oBACA,oBACAC,kBACA,qBACAC,sBACA,6BACAC,eACA,iBACAC,iBACA,iBACA5mB,MACA,UACA6mB,eACA,kBACAC,oBACA,iCACAC,0BACA;AACAC,kCACA,wCAGAC,eACA,eAIAC,WACA,uBACAC,mBACA,sBACAC,gBACA,oBACAC,kBACA,6BACAC,2BACA,8BACAC,mEACA,iCACAC,qBACA,6BACAC,qEACA,8BAGAC,mBACA,qBACAC,IACA,UACAC,UACA,YACAC,KACA,cACAC,aACA;AACAC,YACA,cACAlN,wBACA,+EAGAmN,kCACA,oCACAC,oBACA,wBACAC,qDACA,2EACAC,oDACA,gFACAC,mBACA,sBACAC,uEACA;AACAC,mBACA,sBACAC,iEACA,0DACAC,uBACA,iCACAC,sEACA,sCACAC,0BACA,mCACAC,oBACA,wBACAC,qEACA,uEACAC,eACA,sBACAC,gDACA;AACAC,eACA,mBACAC,iBACA,4BAGAC,cACA,YACAC,kBACA,gBACAC,oDACA,qEACAC,oDACA,oEACAC,iBACA,wBACAC,wDACA,wEACAC,0DACA;AACAC,0BACA,6BACA1O,wCACA,iFAEA2O,yDACA,0FAEAC,yBACA,kCACAC,uDACA,8GACAC,iDACA;AACAC,mBACA,kBACAC,mEACA,qGACAC,gEACA,gGACAC,gBACA,kBACAC,sDACA,2EACAC,mDACA,uEACAC,iBACA;AACAC,6CACA,0EAEAC,0CACA,qEAEAC,aACA,aACAC,wCACA,8CACAC,0CACA,sDACAC,cACA,cACAC,oCACA,8CACAC,kCACA,+CACAC,mBACA;AACAC,+CACA,gDACAC,4CACA,2CACAC,sBACA,qBACAC,uCACA,gFAEAC,sCACA,4FAEAC,2BACA,2BACAC,qDACA,kEACAC,6DACA;AAGAC,cACA,eACAC,eACA,sBACAC,eACA,sBAGAC,KACA,OAGAC,kBACA,4BACAC,kBACA,6BAGAC,UACA,UACAC,UACA,YACAC,8BACA,mCACAC,4BACA,2BACAC,OACA,YACAC,gBACA,qBACAC,mDACA,iEACAC,QACA,WACAC,UACA,WAGAC,6BACA,oCACAC,UACA;AAGAC,KACA,SACA17B,KACA,WACA27B,cACA,cACAC,mBACA,8BACAC,YACA,cACAC,qBACA,4BAGAC,WACA,UACAC,8BACA,8BACAC,cACA,yBACAC,kBACA,2BAGAC,OACA,WACAC,OACA,WACAC,iBACA,sBACAC,sBACA,8BAGAC,aACA,eACAC,aACA,iBACAC,KACA,UACAC,KACA,QACAC,eACA,kBAIAC,GACA,KACAC,GACA,KACAC,OACA,UACAC,IACA,MACAC,GACA,MACAC,KACA,SACAC,QACA;AACAC,SACA,WAGAC,KACA,OAGAC,SACA,aACAC,eACA,mBACAC,UACA,SACAC,SACA,eACAC,iBACA,sBACAC,kCACA,sCACAC,YACA,cAGAC,iBACA,sBACAC,uDACA,4FAGAC,gBACA,kBAGAC,cACA,iBACAC,8CACA,8CAGAC,eACA,mBAGAC,qBACA;AAGAC,gBACA,qBACAC,0DACA,0DACA37D,OACA,eACAzE,IACA,OACAqgE,KACA,QAGAC,kBACA,uBACAC,uBACA,2BAGAC,eACA,kBACAC,QACA,WACAC,SACA,WACAC,UACA,WAGAC,eACA,kBACAC,MACA,YAGAC,sBACA,+BACA1U,6BACA,sFAIA2U,oBACA,2BACAC,kBACA;AACAC,sBACA,8BACAC,aACA,iBACAC,aACA,kBACAC,OACA,YACA1yE,OACA,QACAu4C,OACA,SACAo6B,KACA,QACAziB,KACA,QACA0iB,WACA,YACAC,gBACA,gBACAC,oBACA,uBACAC,qBACA,4BACAC,qBACA,2BACAC,yBACA,yBACAC,gBACA,iBACAC,iBACA,sBACAC,4CACA,0DACAC,mDACA;AAEA53D,WACA,iBACA63D,KACA,SACAC,IACA,cACAC,GACA,mBACAjiE,OACA,UAGAkiE,aACA,mBACAC,UACA,YACAC,aACA,aACAC,aACA,aACAC,aACA,mBACAC,iBACA,iBACAC,QACA,UACAC,2BACA,+BACAC,aACA,gBACAC,aACA,cAGAC,OACA,SACAC,MACA,QACAC,OACA,UACAC,gBACA,SACAC,gBACA,SACAC,uBACA,6BACAC,uBACA,6BAGAC,WACA,cAGAC,sBACA;AAIAC,aACA,gBACAC,aACA,iBACAC,SACA,mBACAC,aACA,oBAGAC,gBACA,kBACAzrB,KACA,OACA0rB,aACA,kBAGAC,OACA,WACAC,MACA,OAGAv/B,MACA,UACAw/B,QACA,UACAC,MACA,aACAC,SACA,eACAC,OACA,WACAC,WACA,aACAC,WACA,aACAC,MACA,eACAC,SACA,UACAC,MACA,QACAC,SACA,WAGAC,MACA,SACAC,WACA,sBACAC,aACA,qBACAC,cACA,wBACAC,aACA,wBACAv/D,EACA,IACAC,EACA,IACAquB,EACA,IACAkxC,EACA,IACAj1E,EACA,IACAgvC,EACA,IACA+X,EACA,IACAmuB,EACA,IACA13E,EACA,IACA0T,EACA,IACAikE,EACA;AACA3zE,EACA,IACA8R,EACA,IACA4P,EACA,IACA4nB,EACA,IACAjX,EACA,IACAuhD,EACA,IACAz3B,EACA,IACAjwC,EACA,IACAsb,EACA,IACAqsD,EACA,IACAjmE,EACA,IACA/S,EACA,IACAqxC,EACA,IACAC,EACA,IACAsB,EACA,IACA7Q,EACA,IACAk3C,EACA,IACAC,EACA,IACAC,EACA,IACAC,EACA,IACAC,EACA,IACAC,EACA,IACAC,EACA,IACAC,EACA,IACAC,EACA,IAGAC,SACA,aAGAhkC,IACA,aACAmD,KACA,SACAuI,IACA,MACA1pB,IACA,MACAiiD,IACA,MACAC,KACA,OACAC,KACA,OACAC,KACA,OACAC,GACA,KACAC,KACA,KAGAC,OACA,SACAlkE,KACA,QACAmkE,QACA,UACAjyD,KACA,QACA4tB,QACA,mBACAskC,SACA,gBACA90B,UACA,WAGA1wC,KACA,UACA4zC,IACA,iBAGA6xB,iBACA,wBACAxJ,kBACA,wBACAC,kBACA,yBACAwJ,WACA,eACAC,YACA,mBACAC,oBACA;AACAC,WACA,eACAC,SACA,WACAC,iDACA,yDACAC,iBACA,uBACAC,mDACA,iEACAC,gBACA,wBACAC,iBACA,wBAEAC,yBACA,mCACAC,gEACA,gGACAC,uDACA;AAEAC,+BACA,gDACAC,kCACA,sDACAC,iBACA,uBAEAC,uBACA,iCACAC,qDACA,4EACAC,4CACA,wEAEAC,sBACA,wBAEAC,iBACA,uBACAC,KACA,QACAC,MACA,OACAC,KACA,OACAC,KACA,QACAC,OACA,SACAvlE,OACA;AACAwlE,uBACA,yBACAC,cACA,qBAEA9D,WACA,aACA+D,aACA,eACA7D,SACA,UACAC,MACA,iBAEA6D,QACA,SACAC,QACA,SACAC,QACA,SACAC,gBACA,UACAC,iBACA,SACAC,UACA,WAEAC,4CACA,4CAIAC,+DACA,sFACAC,kEACA;AACAC,8DACA,sFAGAC,KACA,UACAC,+BACA,iCACAC,qCACA,2BACAC,mCACA,0BACAC,cACA,QACAC,0BACA,8BACAC,0CACA,sCACAC,oCACA,gCACAC,kCACA,gCACAC,gBACA;AACAC,wCACA,mDACAC,KACA,WACAC,OACA,UACAC,SACA,WACAC,SACA,WACAC,aACA,oBACAC,8DACA,sFA0lBA5vE,WAAAjD,UAAAq/C,SAKA7yB,OAAA,SAAA5K,GAAA,MAAAA,IACA09B,WAAA,SAAA19B,GAAA,MAAA,GAAA7pB,KAAA40B,IAAA8tB,QAAA,GAAA74B,KACAkxD,UAAA,SAAAlxD,GACA,MAAAA,GAAA,GACA,EAAAA,EAAAA,GACA,EAAA,EAAAA,GAAAA,EAAA,GAEAmxD,MAAA,SAAAnxD,GACA,MAAAA,GAAA,GACA,EAAAA,EAAAA,EAAAA,GACAA,EAAA,IAAA,EAAAA,EAAA,IAAA,EAAAA,EAAA,GAAA,GAEAoxD,QAAA,SAAApxD,GACA,OAAAA,GAAA,IAAA,GACA,IAAA,IAAAA,GAAA7pB,KAAAs+C,IAAA,GAAAz0B,IACA,IAAA,IAAAA,GAAA7pB,KAAAs+C,IAAA,GAAAz0B,GAAA;EAIAqxD,QAAA,SAAArxD,GAAA,MAAA,GAA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","file":"SnapForTao.min.js","sourcesContent":["/**\r\n * JEROME's note:\r\n * \r\n * The only change in jQuery source is the comment added from\r\n * l. 9190 to l. 9192.\r\n *\r\n * Wrapped into a define call with no dependency to scope\r\n * the whole source code and get rid of the window.$ and window.jQuery.\r\n *\r\n * The modification is then minimal (close to automation) to get a pure AMD release\r\n * of jQuery.\r\n */\r\n\r\ndefine('taoQtiItem/portableLib/jquery_2_1_1',[],function() {\r\n\r\n// BEGIN JQUERY SOURCE\r\n\r\n/*!\r\n * jQuery JavaScript Library v2.1.1\r\n * http://jquery.com/\r\n *\r\n * Includes Sizzle.js\r\n * http://sizzlejs.com/\r\n *\r\n * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors\r\n * Released under the MIT license\r\n * http://jquery.org/license\r\n *\r\n * Date: 2014-05-01T17:11Z\r\n */\r\n\r\n(function( global, factory ) {\r\n\r\n\tif ( typeof module === \"object\" && typeof module.exports === \"object\" ) {\r\n\t\t// For CommonJS and CommonJS-like environments where a proper window is present,\r\n\t\t// execute the factory and get jQuery\r\n\t\t// For environments that do not inherently posses a window with a document\r\n\t\t// (such as Node.js), expose a jQuery-making factory as module.exports\r\n\t\t// This accentuates the need for the creation of a real window\r\n\t\t// e.g. var jQuery = require(\"jquery\")(window);\r\n\t\t// See ticket #14549 for more info\r\n\t\tmodule.exports = global.document ?\r\n\t\t\tfactory( global, true ) :\r\n\t\t\tfunction( w ) {\r\n\t\t\t\tif ( !w.document ) {\r\n\t\t\t\t\tthrow new Error( \"jQuery requires a window with a document\" );\r\n\t\t\t\t}\r\n\t\t\t\treturn factory( w );\r\n\t\t\t};\r\n\t} else {\r\n\t\tfactory( global );\r\n\t}\r\n\r\n// Pass this if window is not defined yet\r\n}(typeof window !== \"undefined\" ? window : this, function( window, noGlobal ) {\r\n\r\n// Can't do this because several apps including ASP.NET trace\r\n// the stack via arguments.caller.callee and Firefox dies if\r\n// you try to trace through \"use strict\" call chains. (#13335)\r\n// Support: Firefox 18+\r\n//\r\n\r\nvar arr = [];\r\n\r\nvar slice = arr.slice;\r\n\r\nvar concat = arr.concat;\r\n\r\nvar push = arr.push;\r\n\r\nvar indexOf = arr.indexOf;\r\n\r\nvar class2type = {};\r\n\r\nvar toString = class2type.toString;\r\n\r\nvar hasOwn = class2type.hasOwnProperty;\r\n\r\nvar support = {};\r\n\r\n\r\n\r\nvar\r\n\t// Use the correct document accordingly with window argument (sandbox)\r\n\tdocument = window.document,\r\n\r\n\tversion = \"2.1.1\",\r\n\r\n\t// Define a local copy of jQuery\r\n\tjQuery = function( selector, context ) {\r\n\t\t// The jQuery object is actually just the init constructor 'enhanced'\r\n\t\t// Need init if jQuery is called (just allow error to be thrown if not included)\r\n\t\treturn new jQuery.fn.init( selector, context );\r\n\t},\r\n\r\n\t// Support: Android<4.1\r\n\t// Make sure we trim BOM and NBSP\r\n\trtrim = /^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g,\r\n\r\n\t// Matches dashed string for camelizing\r\n\trmsPrefix = /^-ms-/,\r\n\trdashAlpha = /-([\\da-z])/gi,\r\n\r\n\t// Used by jQuery.camelCase as callback to replace()\r\n\tfcamelCase = function( all, letter ) {\r\n\t\treturn letter.toUpperCase();\r\n\t};\r\n\r\njQuery.fn = jQuery.prototype = {\r\n\t// The current version of jQuery being used\r\n\tjquery: version,\r\n\r\n\tconstructor: jQuery,\r\n\r\n\t// Start with an empty selector\r\n\tselector: \"\",\r\n\r\n\t// The default length of a jQuery object is 0\r\n\tlength: 0,\r\n\r\n\ttoArray: function() {\r\n\t\treturn slice.call( this );\r\n\t},\r\n\r\n\t// Get the Nth element in the matched element set OR\r\n\t// Get the whole matched element set as a clean array\r\n\tget: function( num ) {\r\n\t\treturn num != null ?\r\n\r\n\t\t\t// Return just the one element from the set\r\n\t\t\t( num < 0 ? this[ num + this.length ] : this[ num ] ) :\r\n\r\n\t\t\t// Return all the elements in a clean array\r\n\t\t\tslice.call( this );\r\n\t},\r\n\r\n\t// Take an array of elements and push it onto the stack\r\n\t// (returning the new matched element set)\r\n\tpushStack: function( elems ) {\r\n\r\n\t\t// Build a new jQuery matched element set\r\n\t\tvar ret = jQuery.merge( this.constructor(), elems );\r\n\r\n\t\t// Add the old object onto the stack (as a reference)\r\n\t\tret.prevObject = this;\r\n\t\tret.context = this.context;\r\n\r\n\t\t// Return the newly-formed element set\r\n\t\treturn ret;\r\n\t},\r\n\r\n\t// Execute a callback for every element in the matched set.\r\n\t// (You can seed the arguments with an array of args, but this is\r\n\t// only used internally.)\r\n\teach: function( callback, args ) {\r\n\t\treturn jQuery.each( this, callback, args );\r\n\t},\r\n\r\n\tmap: function( callback ) {\r\n\t\treturn this.pushStack( jQuery.map(this, function( elem, i ) {\r\n\t\t\treturn callback.call( elem, i, elem );\r\n\t\t}));\r\n\t},\r\n\r\n\tslice: function() {\r\n\t\treturn this.pushStack( slice.apply( this, arguments ) );\r\n\t},\r\n\r\n\tfirst: function() {\r\n\t\treturn this.eq( 0 );\r\n\t},\r\n\r\n\tlast: function() {\r\n\t\treturn this.eq( -1 );\r\n\t},\r\n\r\n\teq: function( i ) {\r\n\t\tvar len = this.length,\r\n\t\t\tj = +i + ( i < 0 ? len : 0 );\r\n\t\treturn this.pushStack( j >= 0 && j < len ? [ this[j] ] : [] );\r\n\t},\r\n\r\n\tend: function() {\r\n\t\treturn this.prevObject || this.constructor(null);\r\n\t},\r\n\r\n\t// For internal use only.\r\n\t// Behaves like an Array's method, not like a jQuery method.\r\n\tpush: push,\r\n\tsort: arr.sort,\r\n\tsplice: arr.splice\r\n};\r\n\r\njQuery.extend = jQuery.fn.extend = function() {\r\n\tvar options, name, src, copy, copyIsArray, clone,\r\n\t\ttarget = arguments[0] || {},\r\n\t\ti = 1,\r\n\t\tlength = arguments.length,\r\n\t\tdeep = false;\r\n\r\n\t// Handle a deep copy situation\r\n\tif ( typeof target === \"boolean\" ) {\r\n\t\tdeep = target;\r\n\r\n\t\t// skip the boolean and the target\r\n\t\ttarget = arguments[ i ] || {};\r\n\t\ti++;\r\n\t}\r\n\r\n\t// Handle case when target is a string or something (possible in deep copy)\r\n\tif ( typeof target !== \"object\" && !jQuery.isFunction(target) ) {\r\n\t\ttarget = {};\r\n\t}\r\n\r\n\t// extend jQuery itself if only one argument is passed\r\n\tif ( i === length ) {\r\n\t\ttarget = this;\r\n\t\ti--;\r\n\t}\r\n\r\n\tfor ( ; i < length; i++ ) {\r\n\t\t// Only deal with non-null/undefined values\r\n\t\tif ( (options = arguments[ i ]) != null ) {\r\n\t\t\t// Extend the base object\r\n\t\t\tfor ( name in options ) {\r\n\t\t\t\tsrc = target[ name ];\r\n\t\t\t\tcopy = options[ name ];\r\n\r\n\t\t\t\t// Prevent never-ending loop\r\n\t\t\t\tif ( target === copy ) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Recurse if we're merging plain objects or arrays\r\n\t\t\t\tif ( deep && copy && ( jQuery.isPlainObject(copy) || (copyIsArray = jQuery.isArray(copy)) ) ) {\r\n\t\t\t\t\tif ( copyIsArray ) {\r\n\t\t\t\t\t\tcopyIsArray = false;\r\n\t\t\t\t\t\tclone = src && jQuery.isArray(src) ? src : [];\r\n\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tclone = src && jQuery.isPlainObject(src) ? src : {};\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Never move original objects, clone them\r\n\t\t\t\t\ttarget[ name ] = jQuery.extend( deep, clone, copy );\r\n\r\n\t\t\t\t// Don't bring in undefined values\r\n\t\t\t\t} else if ( copy !== undefined ) {\r\n\t\t\t\t\ttarget[ name ] = copy;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// Return the modified object\r\n\treturn target;\r\n};\r\n\r\njQuery.extend({\r\n\t// Unique for each copy of jQuery on the page\r\n\texpando: \"jQuery\" + ( version + Math.random() ).replace( /\\D/g, \"\" ),\r\n\r\n\t// Assume jQuery is ready without the ready module\r\n\tisReady: true,\r\n\r\n\terror: function( msg ) {\r\n\t\tthrow new Error( msg );\r\n\t},\r\n\r\n\tnoop: function() {},\r\n\r\n\t// See test/unit/core.js for details concerning isFunction.\r\n\t// Since version 1.3, DOM methods and functions like alert\r\n\t// aren't supported. They return false on IE (#2968).\r\n\tisFunction: function( obj ) {\r\n\t\treturn jQuery.type(obj) === \"function\";\r\n\t},\r\n\r\n\tisArray: Array.isArray,\r\n\r\n\tisWindow: function( obj ) {\r\n\t\treturn obj != null && obj === obj.window;\r\n\t},\r\n\r\n\tisNumeric: function( obj ) {\r\n\t\t// parseFloat NaNs numeric-cast false positives (null|true|false|\"\")\r\n\t\t// ...but misinterprets leading-number strings, particularly hex literals (\"0x...\")\r\n\t\t// subtraction forces infinities to NaN\r\n\t\treturn !jQuery.isArray( obj ) && obj - parseFloat( obj ) >= 0;\r\n\t},\r\n\r\n\tisPlainObject: function( obj ) {\r\n\t\t// Not plain objects:\r\n\t\t// - Any object or value whose internal [[Class]] property is not \"[object Object]\"\r\n\t\t// - DOM nodes\r\n\t\t// - window\r\n\t\tif ( jQuery.type( obj ) !== \"object\" || obj.nodeType || jQuery.isWindow( obj ) ) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tif ( obj.constructor &&\r\n\t\t\t\t!hasOwn.call( obj.constructor.prototype, \"isPrototypeOf\" ) ) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\t// If the function hasn't returned already, we're confident that\r\n\t\t// |obj| is a plain object, created by {} or constructed with new Object\r\n\t\treturn true;\r\n\t},\r\n\r\n\tisEmptyObject: function( obj ) {\r\n\t\tvar name;\r\n\t\tfor ( name in obj ) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn true;\r\n\t},\r\n\r\n\ttype: function( obj ) {\r\n\t\tif ( obj == null ) {\r\n\t\t\treturn obj + \"\";\r\n\t\t}\r\n\t\t// Support: Android < 4.0, iOS < 6 (functionish RegExp)\r\n\t\treturn typeof obj === \"object\" || typeof obj === \"function\" ?\r\n\t\t\tclass2type[ toString.call(obj) ] || \"object\" :\r\n\t\t\ttypeof obj;\r\n\t},\r\n\r\n\t// Evaluates a script in a global context\r\n\tglobalEval: function( code ) {\r\n\t\tvar script,\r\n\t\t\tindirect = eval;\r\n\r\n\t\tcode = jQuery.trim( code );\r\n\r\n\t\tif ( code ) {\r\n\t\t\t// If the code includes a valid, prologue position\r\n\t\t\t// strict mode pragma, execute code by injecting a\r\n\t\t\t// script tag into the document.\r\n\t\t\tif ( code.indexOf(\"use strict\") === 1 ) {\r\n\t\t\t\tscript = document.createElement(\"script\");\r\n\t\t\t\tscript.text = code;\r\n\t\t\t\tdocument.head.appendChild( script ).parentNode.removeChild( script );\r\n\t\t\t} else {\r\n\t\t\t// Otherwise, avoid the DOM node creation, insertion\r\n\t\t\t// and removal by using an indirect global eval\r\n\t\t\t\tindirect( code );\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t// Convert dashed to camelCase; used by the css and data modules\r\n\t// Microsoft forgot to hump their vendor prefix (#9572)\r\n\tcamelCase: function( string ) {\r\n\t\treturn string.replace( rmsPrefix, \"ms-\" ).replace( rdashAlpha, fcamelCase );\r\n\t},\r\n\r\n\tnodeName: function( elem, name ) {\r\n\t\treturn elem.nodeName && elem.nodeName.toLowerCase() === name.toLowerCase();\r\n\t},\r\n\r\n\t// args is for internal usage only\r\n\teach: function( obj, callback, args ) {\r\n\t\tvar value,\r\n\t\t\ti = 0,\r\n\t\t\tlength = obj.length,\r\n\t\t\tisArray = isArraylike( obj );\r\n\r\n\t\tif ( args ) {\r\n\t\t\tif ( isArray ) {\r\n\t\t\t\tfor ( ; i < length; i++ ) {\r\n\t\t\t\t\tvalue = callback.apply( obj[ i ], args );\r\n\r\n\t\t\t\t\tif ( value === false ) {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tfor ( i in obj ) {\r\n\t\t\t\t\tvalue = callback.apply( obj[ i ], args );\r\n\r\n\t\t\t\t\tif ( value === false ) {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t// A special, fast, case for the most common use of each\r\n\t\t} else {\r\n\t\t\tif ( isArray ) {\r\n\t\t\t\tfor ( ; i < length; i++ ) {\r\n\t\t\t\t\tvalue = callback.call( obj[ i ], i, obj[ i ] );\r\n\r\n\t\t\t\t\tif ( value === false ) {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tfor ( i in obj ) {\r\n\t\t\t\t\tvalue = callback.call( obj[ i ], i, obj[ i ] );\r\n\r\n\t\t\t\t\tif ( value === false ) {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn obj;\r\n\t},\r\n\r\n\t// Support: Android<4.1\r\n\ttrim: function( text ) {\r\n\t\treturn text == null ?\r\n\t\t\t\"\" :\r\n\t\t\t( text + \"\" ).replace( rtrim, \"\" );\r\n\t},\r\n\r\n\t// results is for internal usage only\r\n\tmakeArray: function( arr, results ) {\r\n\t\tvar ret = results || [];\r\n\r\n\t\tif ( arr != null ) {\r\n\t\t\tif ( isArraylike( Object(arr) ) ) {\r\n\t\t\t\tjQuery.merge( ret,\r\n\t\t\t\t\ttypeof arr === \"string\" ?\r\n\t\t\t\t\t[ arr ] : arr\r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\tpush.call( ret, arr );\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn ret;\r\n\t},\r\n\r\n\tinArray: function( elem, arr, i ) {\r\n\t\treturn arr == null ? -1 : indexOf.call( arr, elem, i );\r\n\t},\r\n\r\n\tmerge: function( first, second ) {\r\n\t\tvar len = +second.length,\r\n\t\t\tj = 0,\r\n\t\t\ti = first.length;\r\n\r\n\t\tfor ( ; j < len; j++ ) {\r\n\t\t\tfirst[ i++ ] = second[ j ];\r\n\t\t}\r\n\r\n\t\tfirst.length = i;\r\n\r\n\t\treturn first;\r\n\t},\r\n\r\n\tgrep: function( elems, callback, invert ) {\r\n\t\tvar callbackInverse,\r\n\t\t\tmatches = [],\r\n\t\t\ti = 0,\r\n\t\t\tlength = elems.length,\r\n\t\t\tcallbackExpect = !invert;\r\n\r\n\t\t// Go through the array, only saving the items\r\n\t\t// that pass the validator function\r\n\t\tfor ( ; i < length; i++ ) {\r\n\t\t\tcallbackInverse = !callback( elems[ i ], i );\r\n\t\t\tif ( callbackInverse !== callbackExpect ) {\r\n\t\t\t\tmatches.push( elems[ i ] );\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn matches;\r\n\t},\r\n\r\n\t// arg is for internal usage only\r\n\tmap: function( elems, callback, arg ) {\r\n\t\tvar value,\r\n\t\t\ti = 0,\r\n\t\t\tlength = elems.length,\r\n\t\t\tisArray = isArraylike( elems ),\r\n\t\t\tret = [];\r\n\r\n\t\t// Go through the array, translating each of the items to their new values\r\n\t\tif ( isArray ) {\r\n\t\t\tfor ( ; i < length; i++ ) {\r\n\t\t\t\tvalue = callback( elems[ i ], i, arg );\r\n\r\n\t\t\t\tif ( value != null ) {\r\n\t\t\t\t\tret.push( value );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t// Go through every key on the object,\r\n\t\t} else {\r\n\t\t\tfor ( i in elems ) {\r\n\t\t\t\tvalue = callback( elems[ i ], i, arg );\r\n\r\n\t\t\t\tif ( value != null ) {\r\n\t\t\t\t\tret.push( value );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Flatten any nested arrays\r\n\t\treturn concat.apply( [], ret );\r\n\t},\r\n\r\n\t// A global GUID counter for objects\r\n\tguid: 1,\r\n\r\n\t// Bind a function to a context, optionally partially applying any\r\n\t// arguments.\r\n\tproxy: function( fn, context ) {\r\n\t\tvar tmp, args, proxy;\r\n\r\n\t\tif ( typeof context === \"string\" ) {\r\n\t\t\ttmp = fn[ context ];\r\n\t\t\tcontext = fn;\r\n\t\t\tfn = tmp;\r\n\t\t}\r\n\r\n\t\t// Quick check to determine if target is callable, in the spec\r\n\t\t// this throws a TypeError, but we will just return undefined.\r\n\t\tif ( !jQuery.isFunction( fn ) ) {\r\n\t\t\treturn undefined;\r\n\t\t}\r\n\r\n\t\t// Simulated bind\r\n\t\targs = slice.call( arguments, 2 );\r\n\t\tproxy = function() {\r\n\t\t\treturn fn.apply( context || this, args.concat( slice.call( arguments ) ) );\r\n\t\t};\r\n\r\n\t\t// Set the guid of unique handler to the same of original handler, so it can be removed\r\n\t\tproxy.guid = fn.guid = fn.guid || jQuery.guid++;\r\n\r\n\t\treturn proxy;\r\n\t},\r\n\r\n\tnow: Date.now,\r\n\r\n\t// jQuery.support is not used in Core but other projects attach their\r\n\t// properties to it so it needs to exist.\r\n\tsupport: support\r\n});\r\n\r\n// Populate the class2type map\r\njQuery.each(\"Boolean Number String Function Array Date RegExp Object Error\".split(\" \"), function(i, name) {\r\n\tclass2type[ \"[object \" + name + \"]\" ] = name.toLowerCase();\r\n});\r\n\r\nfunction isArraylike( obj ) {\r\n\tvar length = obj.length,\r\n\t\ttype = jQuery.type( obj );\r\n\r\n\tif ( type === \"function\" || jQuery.isWindow( obj ) ) {\r\n\t\treturn false;\r\n\t}\r\n\r\n\tif ( obj.nodeType === 1 && length ) {\r\n\t\treturn true;\r\n\t}\r\n\r\n\treturn type === \"array\" || length === 0 ||\r\n\t\ttypeof length === \"number\" && length > 0 && ( length - 1 ) in obj;\r\n}\r\nvar Sizzle =\r\n/*!\r\n * Sizzle CSS Selector Engine v1.10.19\r\n * http://sizzlejs.com/\r\n *\r\n * Copyright 2013 jQuery Foundation, Inc. and other contributors\r\n * Released under the MIT license\r\n * http://jquery.org/license\r\n *\r\n * Date: 2014-04-18\r\n */\r\n(function( window ) {\r\n\r\nvar i,\r\n\tsupport,\r\n\tExpr,\r\n\tgetText,\r\n\tisXML,\r\n\ttokenize,\r\n\tcompile,\r\n\tselect,\r\n\toutermostContext,\r\n\tsortInput,\r\n\thasDuplicate,\r\n\r\n\t// Local document vars\r\n\tsetDocument,\r\n\tdocument,\r\n\tdocElem,\r\n\tdocumentIsHTML,\r\n\trbuggyQSA,\r\n\trbuggyMatches,\r\n\tmatches,\r\n\tcontains,\r\n\r\n\t// Instance-specific data\r\n\texpando = \"sizzle\" + -(new Date()),\r\n\tpreferredDoc = window.document,\r\n\tdirruns = 0,\r\n\tdone = 0,\r\n\tclassCache = createCache(),\r\n\ttokenCache = createCache(),\r\n\tcompilerCache = createCache(),\r\n\tsortOrder = function( a, b ) {\r\n\t\tif ( a === b ) {\r\n\t\t\thasDuplicate = true;\r\n\t\t}\r\n\t\treturn 0;\r\n\t},\r\n\r\n\t// General-purpose constants\r\n\tstrundefined = typeof undefined,\r\n\tMAX_NEGATIVE = 1 << 31,\r\n\r\n\t// Instance methods\r\n\thasOwn = ({}).hasOwnProperty,\r\n\tarr = [],\r\n\tpop = arr.pop,\r\n\tpush_native = arr.push,\r\n\tpush = arr.push,\r\n\tslice = arr.slice,\r\n\t// Use a stripped-down indexOf if we can't use a native one\r\n\tindexOf = arr.indexOf || function( elem ) {\r\n\t\tvar i = 0,\r\n\t\t\tlen = this.length;\r\n\t\tfor ( ; i < len; i++ ) {\r\n\t\t\tif ( this[i] === elem ) {\r\n\t\t\t\treturn i;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn -1;\r\n\t},\r\n\r\n\tbooleans = \"checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped\",\r\n\r\n\t// Regular expressions\r\n\r\n\t// Whitespace characters http://www.w3.org/TR/css3-selectors/#whitespace\r\n\twhitespace = \"[\\\\x20\\\\t\\\\r\\\\n\\\\f]\",\r\n\t// http://www.w3.org/TR/css3-syntax/#characters\r\n\tcharacterEncoding = \"(?:\\\\\\\\.|[\\\\w-]|[^\\\\x00-\\\\xa0])+\",\r\n\r\n\t// Loosely modeled on CSS identifier characters\r\n\t// An unquoted value should be a CSS identifier http://www.w3.org/TR/css3-selectors/#attribute-selectors\r\n\t// Proper syntax: http://www.w3.org/TR/CSS21/syndata.html#value-def-identifier\r\n\tidentifier = characterEncoding.replace( \"w\", \"w#\" ),\r\n\r\n\t// Attribute selectors: http://www.w3.org/TR/selectors/#attribute-selectors\r\n\tattributes = \"\\\\[\" + whitespace + \"*(\" + characterEncoding + \")(?:\" + whitespace +\r\n\t\t// Operator (capture 2)\r\n\t\t\"*([*^$|!~]?=)\" + whitespace +\r\n\t\t// \"Attribute values must be CSS identifiers [capture 5] or strings [capture 3 or capture 4]\"\r\n\t\t\"*(?:'((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\"|(\" + identifier + \"))|)\" + whitespace +\r\n\t\t\"*\\\\]\",\r\n\r\n\tpseudos = \":(\" + characterEncoding + \")(?:\\\\((\" +\r\n\t\t// To reduce the number of selectors needing tokenize in the preFilter, prefer arguments:\r\n\t\t// 1. quoted (capture 3; capture 4 or capture 5)\r\n\t\t\"('((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\")|\" +\r\n\t\t// 2. simple (capture 6)\r\n\t\t\"((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|\" + attributes + \")*)|\" +\r\n\t\t// 3. anything else (capture 2)\r\n\t\t\".*\" +\r\n\t\t\")\\\\)|)\",\r\n\r\n\t// Leading and non-escaped trailing whitespace, capturing some non-whitespace characters preceding the latter\r\n\trtrim = new RegExp( \"^\" + whitespace + \"+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)\" + whitespace + \"+$\", \"g\" ),\r\n\r\n\trcomma = new RegExp( \"^\" + whitespace + \"*,\" + whitespace + \"*\" ),\r\n\trcombinators = new RegExp( \"^\" + whitespace + \"*([>+~]|\" + whitespace + \")\" + whitespace + \"*\" ),\r\n\r\n\trattributeQuotes = new RegExp( \"=\" + whitespace + \"*([^\\\\]'\\\"]*?)\" + whitespace + \"*\\\\]\", \"g\" ),\r\n\r\n\trpseudo = new RegExp( pseudos ),\r\n\tridentifier = new RegExp( \"^\" + identifier + \"$\" ),\r\n\r\n\tmatchExpr = {\r\n\t\t\"ID\": new RegExp( \"^#(\" + characterEncoding + \")\" ),\r\n\t\t\"CLASS\": new RegExp( \"^\\\\.(\" + characterEncoding + \")\" ),\r\n\t\t\"TAG\": new RegExp( \"^(\" + characterEncoding.replace( \"w\", \"w*\" ) + \")\" ),\r\n\t\t\"ATTR\": new RegExp( \"^\" + attributes ),\r\n\t\t\"PSEUDO\": new RegExp( \"^\" + pseudos ),\r\n\t\t\"CHILD\": new RegExp( \"^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\(\" + whitespace +\r\n\t\t\t\"*(even|odd|(([+-]|)(\\\\d*)n|)\" + whitespace + \"*(?:([+-]|)\" + whitespace +\r\n\t\t\t\"*(\\\\d+)|))\" + whitespace + \"*\\\\)|)\", \"i\" ),\r\n\t\t\"bool\": new RegExp( \"^(?:\" + booleans + \")$\", \"i\" ),\r\n\t\t// For use in libraries implementing .is()\r\n\t\t// We use this for POS matching in `select`\r\n\t\t\"needsContext\": new RegExp( \"^\" + whitespace + \"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\(\" +\r\n\t\t\twhitespace + \"*((?:-\\\\d)?\\\\d*)\" + whitespace + \"*\\\\)|)(?=[^-]|$)\", \"i\" )\r\n\t},\r\n\r\n\trinputs = /^(?:input|select|textarea|button)$/i,\r\n\trheader = /^h\\d$/i,\r\n\r\n\trnative = /^[^{]+\\{\\s*\\[native \\w/,\r\n\r\n\t// Easily-parseable/retrievable ID or TAG or CLASS selectors\r\n\trquickExpr = /^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/,\r\n\r\n\trsibling = /[+~]/,\r\n\trescape = /'|\\\\/g,\r\n\r\n\t// CSS escapes http://www.w3.org/TR/CSS21/syndata.html#escaped-characters\r\n\trunescape = new RegExp( \"\\\\\\\\([\\\\da-f]{1,6}\" + whitespace + \"?|(\" + whitespace + \")|.)\", \"ig\" ),\r\n\tfunescape = function( _, escaped, escapedWhitespace ) {\r\n\t\tvar high = \"0x\" + escaped - 0x10000;\r\n\t\t// NaN means non-codepoint\r\n\t\t// Support: Firefox<24\r\n\t\t// Workaround erroneous numeric interpretation of +\"0x\"\r\n\t\treturn high !== high || escapedWhitespace ?\r\n\t\t\tescaped :\r\n\t\t\thigh < 0 ?\r\n\t\t\t\t// BMP codepoint\r\n\t\t\t\tString.fromCharCode( high + 0x10000 ) :\r\n\t\t\t\t// Supplemental Plane codepoint (surrogate pair)\r\n\t\t\t\tString.fromCharCode( high >> 10 | 0xD800, high & 0x3FF | 0xDC00 );\r\n\t};\r\n\r\n// Optimize for push.apply( _, NodeList )\r\ntry {\r\n\tpush.apply(\r\n\t\t(arr = slice.call( preferredDoc.childNodes )),\r\n\t\tpreferredDoc.childNodes\r\n\t);\r\n\t// Support: Android<4.0\r\n\t// Detect silently failing push.apply\r\n\tarr[ preferredDoc.childNodes.length ].nodeType;\r\n} catch ( e ) {\r\n\tpush = { apply: arr.length ?\r\n\r\n\t\t// Leverage slice if possible\r\n\t\tfunction( target, els ) {\r\n\t\t\tpush_native.apply( target, slice.call(els) );\r\n\t\t} :\r\n\r\n\t\t// Support: IE<9\r\n\t\t// Otherwise append directly\r\n\t\tfunction( target, els ) {\r\n\t\t\tvar j = target.length,\r\n\t\t\t\ti = 0;\r\n\t\t\t// Can't trust NodeList.length\r\n\t\t\twhile ( (target[j++] = els[i++]) ) {}\r\n\t\t\ttarget.length = j - 1;\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction Sizzle( selector, context, results, seed ) {\r\n\tvar match, elem, m, nodeType,\r\n\t\t// QSA vars\r\n\t\ti, groups, old, nid, newContext, newSelector;\r\n\r\n\tif ( ( context ? context.ownerDocument || context : preferredDoc ) !== document ) {\r\n\t\tsetDocument( context );\r\n\t}\r\n\r\n\tcontext = context || document;\r\n\tresults = results || [];\r\n\r\n\tif ( !selector || typeof selector !== \"string\" ) {\r\n\t\treturn results;\r\n\t}\r\n\r\n\tif ( (nodeType = context.nodeType) !== 1 && nodeType !== 9 ) {\r\n\t\treturn [];\r\n\t}\r\n\r\n\tif ( documentIsHTML && !seed ) {\r\n\r\n\t\t// Shortcuts\r\n\t\tif ( (match = rquickExpr.exec( selector )) ) {\r\n\t\t\t// Speed-up: Sizzle(\"#ID\")\r\n\t\t\tif ( (m = match[1]) ) {\r\n\t\t\t\tif ( nodeType === 9 ) {\r\n\t\t\t\t\telem = context.getElementById( m );\r\n\t\t\t\t\t// Check parentNode to catch when Blackberry 4.6 returns\r\n\t\t\t\t\t// nodes that are no longer in the document (jQuery #6963)\r\n\t\t\t\t\tif ( elem && elem.parentNode ) {\r\n\t\t\t\t\t\t// Handle the case where IE, Opera, and Webkit return items\r\n\t\t\t\t\t\t// by name instead of ID\r\n\t\t\t\t\t\tif ( elem.id === m ) {\r\n\t\t\t\t\t\t\tresults.push( elem );\r\n\t\t\t\t\t\t\treturn results;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn results;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// Context is not a document\r\n\t\t\t\t\tif ( context.ownerDocument && (elem = context.ownerDocument.getElementById( m )) &&\r\n\t\t\t\t\t\tcontains( context, elem ) && elem.id === m ) {\r\n\t\t\t\t\t\tresults.push( elem );\r\n\t\t\t\t\t\treturn results;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t// Speed-up: Sizzle(\"TAG\")\r\n\t\t\t} else if ( match[2] ) {\r\n\t\t\t\tpush.apply( results, context.getElementsByTagName( selector ) );\r\n\t\t\t\treturn results;\r\n\r\n\t\t\t// Speed-up: Sizzle(\".CLASS\")\r\n\t\t\t} else if ( (m = match[3]) && support.getElementsByClassName && context.getElementsByClassName ) {\r\n\t\t\t\tpush.apply( results, context.getElementsByClassName( m ) );\r\n\t\t\t\treturn results;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// QSA path\r\n\t\tif ( support.qsa && (!rbuggyQSA || !rbuggyQSA.test( selector )) ) {\r\n\t\t\tnid = old = expando;\r\n\t\t\tnewContext = context;\r\n\t\t\tnewSelector = nodeType === 9 && selector;\r\n\r\n\t\t\t// qSA works strangely on Element-rooted queries\r\n\t\t\t// We can work around this by specifying an extra ID on the root\r\n\t\t\t// and working up from there (Thanks to Andrew Dupont for the technique)\r\n\t\t\t// IE 8 doesn't work on object elements\r\n\t\t\tif ( nodeType === 1 && context.nodeName.toLowerCase() !== \"object\" ) {\r\n\t\t\t\tgroups = tokenize( selector );\r\n\r\n\t\t\t\tif ( (old = context.getAttribute(\"id\")) ) {\r\n\t\t\t\t\tnid = old.replace( rescape, \"\\\\$&\" );\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcontext.setAttribute( \"id\", nid );\r\n\t\t\t\t}\r\n\t\t\t\tnid = \"[id='\" + nid + \"'] \";\r\n\r\n\t\t\t\ti = groups.length;\r\n\t\t\t\twhile ( i-- ) {\r\n\t\t\t\t\tgroups[i] = nid + toSelector( groups[i] );\r\n\t\t\t\t}\r\n\t\t\t\tnewContext = rsibling.test( selector ) && testContext( context.parentNode ) || context;\r\n\t\t\t\tnewSelector = groups.join(\",\");\r\n\t\t\t}\r\n\r\n\t\t\tif ( newSelector ) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tpush.apply( results,\r\n\t\t\t\t\t\tnewContext.querySelectorAll( newSelector )\r\n\t\t\t\t\t);\r\n\t\t\t\t\treturn results;\r\n\t\t\t\t} catch(qsaError) {\r\n\t\t\t\t} finally {\r\n\t\t\t\t\tif ( !old ) {\r\n\t\t\t\t\t\tcontext.removeAttribute(\"id\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// All others\r\n\treturn select( selector.replace( rtrim, \"$1\" ), context, results, seed );\r\n}\r\n\r\n/**\r\n * Create key-value caches of limited size\r\n * @returns {Function(string, Object)} Returns the Object data after storing it on itself with\r\n *\tproperty name the (space-suffixed) string and (if the cache is larger than Expr.cacheLength)\r\n *\tdeleting the oldest entry\r\n */\r\nfunction createCache() {\r\n\tvar keys = [];\r\n\r\n\tfunction cache( key, value ) {\r\n\t\t// Use (key + \" \") to avoid collision with native prototype properties (see Issue #157)\r\n\t\tif ( keys.push( key + \" \" ) > Expr.cacheLength ) {\r\n\t\t\t// Only keep the most recent entries\r\n\t\t\tdelete cache[ keys.shift() ];\r\n\t\t}\r\n\t\treturn (cache[ key + \" \" ] = value);\r\n\t}\r\n\treturn cache;\r\n}\r\n\r\n/**\r\n * Mark a function for special use by Sizzle\r\n * @param {Function} fn The function to mark\r\n */\r\nfunction markFunction( fn ) {\r\n\tfn[ expando ] = true;\r\n\treturn fn;\r\n}\r\n\r\n/**\r\n * Support testing using an element\r\n * @param {Function} fn Passed the created div and expects a boolean result\r\n */\r\nfunction assert( fn ) {\r\n\tvar div = document.createElement(\"div\");\r\n\r\n\ttry {\r\n\t\treturn !!fn( div );\r\n\t} catch (e) {\r\n\t\treturn false;\r\n\t} finally {\r\n\t\t// Remove from its parent by default\r\n\t\tif ( div.parentNode ) {\r\n\t\t\tdiv.parentNode.removeChild( div );\r\n\t\t}\r\n\t\t// release memory in IE\r\n\t\tdiv = null;\r\n\t}\r\n}\r\n\r\n/**\r\n * Adds the same handler for all of the specified attrs\r\n * @param {String} attrs Pipe-separated list of attributes\r\n * @param {Function} handler The method that will be applied\r\n */\r\nfunction addHandle( attrs, handler ) {\r\n\tvar arr = attrs.split(\"|\"),\r\n\t\ti = attrs.length;\r\n\r\n\twhile ( i-- ) {\r\n\t\tExpr.attrHandle[ arr[i] ] = handler;\r\n\t}\r\n}\r\n\r\n/**\r\n * Checks document order of two siblings\r\n * @param {Element} a\r\n * @param {Element} b\r\n * @returns {Number} Returns less than 0 if a precedes b, greater than 0 if a follows b\r\n */\r\nfunction siblingCheck( a, b ) {\r\n\tvar cur = b && a,\r\n\t\tdiff = cur && a.nodeType === 1 && b.nodeType === 1 &&\r\n\t\t\t( ~b.sourceIndex || MAX_NEGATIVE ) -\r\n\t\t\t( ~a.sourceIndex || MAX_NEGATIVE );\r\n\r\n\t// Use IE sourceIndex if available on both nodes\r\n\tif ( diff ) {\r\n\t\treturn diff;\r\n\t}\r\n\r\n\t// Check if b follows a\r\n\tif ( cur ) {\r\n\t\twhile ( (cur = cur.nextSibling) ) {\r\n\t\t\tif ( cur === b ) {\r\n\t\t\t\treturn -1;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn a ? 1 : -1;\r\n}\r\n\r\n/**\r\n * Returns a function to use in pseudos for input types\r\n * @param {String} type\r\n */\r\nfunction createInputPseudo( type ) {\r\n\treturn function( elem ) {\r\n\t\tvar name = elem.nodeName.toLowerCase();\r\n\t\treturn name === \"input\" && elem.type === type;\r\n\t};\r\n}\r\n\r\n/**\r\n * Returns a function to use in pseudos for buttons\r\n * @param {String} type\r\n */\r\nfunction createButtonPseudo( type ) {\r\n\treturn function( elem ) {\r\n\t\tvar name = elem.nodeName.toLowerCase();\r\n\t\treturn (name === \"input\" || name === \"button\") && elem.type === type;\r\n\t};\r\n}\r\n\r\n/**\r\n * Returns a function to use in pseudos for positionals\r\n * @param {Function} fn\r\n */\r\nfunction createPositionalPseudo( fn ) {\r\n\treturn markFunction(function( argument ) {\r\n\t\targument = +argument;\r\n\t\treturn markFunction(function( seed, matches ) {\r\n\t\t\tvar j,\r\n\t\t\t\tmatchIndexes = fn( [], seed.length, argument ),\r\n\t\t\t\ti = matchIndexes.length;\r\n\r\n\t\t\t// Match elements found at the specified indexes\r\n\t\t\twhile ( i-- ) {\r\n\t\t\t\tif ( seed[ (j = matchIndexes[i]) ] ) {\r\n\t\t\t\t\tseed[j] = !(matches[j] = seed[j]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n}\r\n\r\n/**\r\n * Checks a node for validity as a Sizzle context\r\n * @param {Element|Object=} context\r\n * @returns {Element|Object|Boolean} The input node if acceptable, otherwise a falsy value\r\n */\r\nfunction testContext( context ) {\r\n\treturn context && typeof context.getElementsByTagName !== strundefined && context;\r\n}\r\n\r\n// Expose support vars for convenience\r\nsupport = Sizzle.support = {};\r\n\r\n/**\r\n * Detects XML nodes\r\n * @param {Element|Object} elem An element or a document\r\n * @returns {Boolean} True iff elem is a non-HTML XML node\r\n */\r\nisXML = Sizzle.isXML = function( elem ) {\r\n\t// documentElement is verified for cases where it doesn't yet exist\r\n\t// (such as loading iframes in IE - #4833)\r\n\tvar documentElement = elem && (elem.ownerDocument || elem).documentElement;\r\n\treturn documentElement ? documentElement.nodeName !== \"HTML\" : false;\r\n};\r\n\r\n/**\r\n * Sets document-related variables once based on the current document\r\n * @param {Element|Object} [doc] An element or document object to use to set the document\r\n * @returns {Object} Returns the current document\r\n */\r\nsetDocument = Sizzle.setDocument = function( node ) {\r\n\tvar hasCompare,\r\n\t\tdoc = node ? node.ownerDocument || node : preferredDoc,\r\n\t\tparent = doc.defaultView;\r\n\r\n\t// If no document and documentElement is available, return\r\n\tif ( doc === document || doc.nodeType !== 9 || !doc.documentElement ) {\r\n\t\treturn document;\r\n\t}\r\n\r\n\t// Set our document\r\n\tdocument = doc;\r\n\tdocElem = doc.documentElement;\r\n\r\n\t// Support tests\r\n\tdocumentIsHTML = !isXML( doc );\r\n\r\n\t// Support: IE>8\r\n\t// If iframe document is assigned to \"document\" variable and if iframe has been reloaded,\r\n\t// IE will throw \"permission denied\" error when accessing \"document\" variable, see jQuery #13936\r\n\t// IE6-8 do not support the defaultView property so parent will be undefined\r\n\tif ( parent && parent !== parent.top ) {\r\n\t\t// IE11 does not have attachEvent, so all must suffer\r\n\t\tif ( parent.addEventListener ) {\r\n\t\t\tparent.addEventListener( \"unload\", function() {\r\n\t\t\t\tsetDocument();\r\n\t\t\t}, false );\r\n\t\t} else if ( parent.attachEvent ) {\r\n\t\t\tparent.attachEvent( \"onunload\", function() {\r\n\t\t\t\tsetDocument();\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\t/* Attributes\r\n\t---------------------------------------------------------------------- */\r\n\r\n\t// Support: IE<8\r\n\t// Verify that getAttribute really returns attributes and not properties (excepting IE8 booleans)\r\n\tsupport.attributes = assert(function( div ) {\r\n\t\tdiv.className = \"i\";\r\n\t\treturn !div.getAttribute(\"className\");\r\n\t});\r\n\r\n\t/* getElement(s)By*\r\n\t---------------------------------------------------------------------- */\r\n\r\n\t// Check if getElementsByTagName(\"*\") returns only elements\r\n\tsupport.getElementsByTagName = assert(function( div ) {\r\n\t\tdiv.appendChild( doc.createComment(\"\") );\r\n\t\treturn !div.getElementsByTagName(\"*\").length;\r\n\t});\r\n\r\n\t// Check if getElementsByClassName can be trusted\r\n\tsupport.getElementsByClassName = rnative.test( doc.getElementsByClassName ) && assert(function( div ) {\r\n\t\tdiv.innerHTML = \"<div class='a'></div><div class='a i'></div>\";\r\n\r\n\t\t// Support: Safari<4\r\n\t\t// Catch class over-caching\r\n\t\tdiv.firstChild.className = \"i\";\r\n\t\t// Support: Opera<10\r\n\t\t// Catch gEBCN failure to find non-leading classes\r\n\t\treturn div.getElementsByClassName(\"i\").length === 2;\r\n\t});\r\n\r\n\t// Support: IE<10\r\n\t// Check if getElementById returns elements by name\r\n\t// The broken getElementById methods don't pick up programatically-set names,\r\n\t// so use a roundabout getElementsByName test\r\n\tsupport.getById = assert(function( div ) {\r\n\t\tdocElem.appendChild( div ).id = expando;\r\n\t\treturn !doc.getElementsByName || !doc.getElementsByName( expando ).length;\r\n\t});\r\n\r\n\t// ID find and filter\r\n\tif ( support.getById ) {\r\n\t\tExpr.find[\"ID\"] = function( id, context ) {\r\n\t\t\tif ( typeof context.getElementById !== strundefined && documentIsHTML ) {\r\n\t\t\t\tvar m = context.getElementById( id );\r\n\t\t\t\t// Check parentNode to catch when Blackberry 4.6 returns\r\n\t\t\t\t// nodes that are no longer in the document #6963\r\n\t\t\t\treturn m && m.parentNode ? [ m ] : [];\r\n\t\t\t}\r\n\t\t};\r\n\t\tExpr.filter[\"ID\"] = function( id ) {\r\n\t\t\tvar attrId = id.replace( runescape, funescape );\r\n\t\t\treturn function( elem ) {\r\n\t\t\t\treturn elem.getAttribute(\"id\") === attrId;\r\n\t\t\t};\r\n\t\t};\r\n\t} else {\r\n\t\t// Support: IE6/7\r\n\t\t// getElementById is not reliable as a find shortcut\r\n\t\tdelete Expr.find[\"ID\"];\r\n\r\n\t\tExpr.filter[\"ID\"] =  function( id ) {\r\n\t\t\tvar attrId = id.replace( runescape, funescape );\r\n\t\t\treturn function( elem ) {\r\n\t\t\t\tvar node = typeof elem.getAttributeNode !== strundefined && elem.getAttributeNode(\"id\");\r\n\t\t\t\treturn node && node.value === attrId;\r\n\t\t\t};\r\n\t\t};\r\n\t}\r\n\r\n\t// Tag\r\n\tExpr.find[\"TAG\"] = support.getElementsByTagName ?\r\n\t\tfunction( tag, context ) {\r\n\t\t\tif ( typeof context.getElementsByTagName !== strundefined ) {\r\n\t\t\t\treturn context.getElementsByTagName( tag );\r\n\t\t\t}\r\n\t\t} :\r\n\t\tfunction( tag, context ) {\r\n\t\t\tvar elem,\r\n\t\t\t\ttmp = [],\r\n\t\t\t\ti = 0,\r\n\t\t\t\tresults = context.getElementsByTagName( tag );\r\n\r\n\t\t\t// Filter out possible comments\r\n\t\t\tif ( tag === \"*\" ) {\r\n\t\t\t\twhile ( (elem = results[i++]) ) {\r\n\t\t\t\t\tif ( elem.nodeType === 1 ) {\r\n\t\t\t\t\t\ttmp.push( elem );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn tmp;\r\n\t\t\t}\r\n\t\t\treturn results;\r\n\t\t};\r\n\r\n\t// Class\r\n\tExpr.find[\"CLASS\"] = support.getElementsByClassName && function( className, context ) {\r\n\t\tif ( typeof context.getElementsByClassName !== strundefined && documentIsHTML ) {\r\n\t\t\treturn context.getElementsByClassName( className );\r\n\t\t}\r\n\t};\r\n\r\n\t/* QSA/matchesSelector\r\n\t---------------------------------------------------------------------- */\r\n\r\n\t// QSA and matchesSelector support\r\n\r\n\t// matchesSelector(:active) reports false when true (IE9/Opera 11.5)\r\n\trbuggyMatches = [];\r\n\r\n\t// qSa(:focus) reports false when true (Chrome 21)\r\n\t// We allow this because of a bug in IE8/9 that throws an error\r\n\t// whenever `document.activeElement` is accessed on an iframe\r\n\t// So, we allow :focus to pass through QSA all the time to avoid the IE error\r\n\t// See http://bugs.jquery.com/ticket/13378\r\n\trbuggyQSA = [];\r\n\r\n\tif ( (support.qsa = rnative.test( doc.querySelectorAll )) ) {\r\n\t\t// Build QSA regex\r\n\t\t// Regex strategy adopted from Diego Perini\r\n\t\tassert(function( div ) {\r\n\t\t\t// Select is set to empty string on purpose\r\n\t\t\t// This is to test IE's treatment of not explicitly\r\n\t\t\t// setting a boolean content attribute,\r\n\t\t\t// since its presence should be enough\r\n\t\t\t// http://bugs.jquery.com/ticket/12359\r\n\t\t\tdiv.innerHTML = \"<select msallowclip=''><option selected=''></option></select>\";\r\n\r\n\t\t\t// Support: IE8, Opera 11-12.16\r\n\t\t\t// Nothing should be selected when empty strings follow ^= or $= or *=\r\n\t\t\t// The test attribute must be unknown in Opera but \"safe\" for WinRT\r\n\t\t\t// http://msdn.microsoft.com/en-us/library/ie/hh465388.aspx#attribute_section\r\n\t\t\tif ( div.querySelectorAll(\"[msallowclip^='']\").length ) {\r\n\t\t\t\trbuggyQSA.push( \"[*^$]=\" + whitespace + \"*(?:''|\\\"\\\")\" );\r\n\t\t\t}\r\n\r\n\t\t\t// Support: IE8\r\n\t\t\t// Boolean attributes and \"value\" are not treated correctly\r\n\t\t\tif ( !div.querySelectorAll(\"[selected]\").length ) {\r\n\t\t\t\trbuggyQSA.push( \"\\\\[\" + whitespace + \"*(?:value|\" + booleans + \")\" );\r\n\t\t\t}\r\n\r\n\t\t\t// Webkit/Opera - :checked should return selected option elements\r\n\t\t\t// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked\r\n\t\t\t// IE8 throws error here and will not see later tests\r\n\t\t\tif ( !div.querySelectorAll(\":checked\").length ) {\r\n\t\t\t\trbuggyQSA.push(\":checked\");\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tassert(function( div ) {\r\n\t\t\t// Support: Windows 8 Native Apps\r\n\t\t\t// The type and name attributes are restricted during .innerHTML assignment\r\n\t\t\tvar input = doc.createElement(\"input\");\r\n\t\t\tinput.setAttribute( \"type\", \"hidden\" );\r\n\t\t\tdiv.appendChild( input ).setAttribute( \"name\", \"D\" );\r\n\r\n\t\t\t// Support: IE8\r\n\t\t\t// Enforce case-sensitivity of name attribute\r\n\t\t\tif ( div.querySelectorAll(\"[name=d]\").length ) {\r\n\t\t\t\trbuggyQSA.push( \"name\" + whitespace + \"*[*^$|!~]?=\" );\r\n\t\t\t}\r\n\r\n\t\t\t// FF 3.5 - :enabled/:disabled and hidden elements (hidden elements are still enabled)\r\n\t\t\t// IE8 throws error here and will not see later tests\r\n\t\t\tif ( !div.querySelectorAll(\":enabled\").length ) {\r\n\t\t\t\trbuggyQSA.push( \":enabled\", \":disabled\" );\r\n\t\t\t}\r\n\r\n\t\t\t// Opera 10-11 does not throw on post-comma invalid pseudos\r\n\t\t\tdiv.querySelectorAll(\"*,:x\");\r\n\t\t\trbuggyQSA.push(\",.*:\");\r\n\t\t});\r\n\t}\r\n\r\n\tif ( (support.matchesSelector = rnative.test( (matches = docElem.matches ||\r\n\t\tdocElem.webkitMatchesSelector ||\r\n\t\tdocElem.mozMatchesSelector ||\r\n\t\tdocElem.oMatchesSelector ||\r\n\t\tdocElem.msMatchesSelector) )) ) {\r\n\r\n\t\tassert(function( div ) {\r\n\t\t\t// Check to see if it's possible to do matchesSelector\r\n\t\t\t// on a disconnected node (IE 9)\r\n\t\t\tsupport.disconnectedMatch = matches.call( div, \"div\" );\r\n\r\n\t\t\t// This should fail with an exception\r\n\t\t\t// Gecko does not error, returns false instead\r\n\t\t\tmatches.call( div, \"[s!='']:x\" );\r\n\t\t\trbuggyMatches.push( \"!=\", pseudos );\r\n\t\t});\r\n\t}\r\n\r\n\trbuggyQSA = rbuggyQSA.length && new RegExp( rbuggyQSA.join(\"|\") );\r\n\trbuggyMatches = rbuggyMatches.length && new RegExp( rbuggyMatches.join(\"|\") );\r\n\r\n\t/* Contains\r\n\t---------------------------------------------------------------------- */\r\n\thasCompare = rnative.test( docElem.compareDocumentPosition );\r\n\r\n\t// Element contains another\r\n\t// Purposefully does not implement inclusive descendent\r\n\t// As in, an element does not contain itself\r\n\tcontains = hasCompare || rnative.test( docElem.contains ) ?\r\n\t\tfunction( a, b ) {\r\n\t\t\tvar adown = a.nodeType === 9 ? a.documentElement : a,\r\n\t\t\t\tbup = b && b.parentNode;\r\n\t\t\treturn a === bup || !!( bup && bup.nodeType === 1 && (\r\n\t\t\t\tadown.contains ?\r\n\t\t\t\t\tadown.contains( bup ) :\r\n\t\t\t\t\ta.compareDocumentPosition && a.compareDocumentPosition( bup ) & 16\r\n\t\t\t));\r\n\t\t} :\r\n\t\tfunction( a, b ) {\r\n\t\t\tif ( b ) {\r\n\t\t\t\twhile ( (b = b.parentNode) ) {\r\n\t\t\t\t\tif ( b === a ) {\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t};\r\n\r\n\t/* Sorting\r\n\t---------------------------------------------------------------------- */\r\n\r\n\t// Document order sorting\r\n\tsortOrder = hasCompare ?\r\n\tfunction( a, b ) {\r\n\r\n\t\t// Flag for duplicate removal\r\n\t\tif ( a === b ) {\r\n\t\t\thasDuplicate = true;\r\n\t\t\treturn 0;\r\n\t\t}\r\n\r\n\t\t// Sort on method existence if only one input has compareDocumentPosition\r\n\t\tvar compare = !a.compareDocumentPosition - !b.compareDocumentPosition;\r\n\t\tif ( compare ) {\r\n\t\t\treturn compare;\r\n\t\t}\r\n\r\n\t\t// Calculate position if both inputs belong to the same document\r\n\t\tcompare = ( a.ownerDocument || a ) === ( b.ownerDocument || b ) ?\r\n\t\t\ta.compareDocumentPosition( b ) :\r\n\r\n\t\t\t// Otherwise we know they are disconnected\r\n\t\t\t1;\r\n\r\n\t\t// Disconnected nodes\r\n\t\tif ( compare & 1 ||\r\n\t\t\t(!support.sortDetached && b.compareDocumentPosition( a ) === compare) ) {\r\n\r\n\t\t\t// Choose the first element that is related to our preferred document\r\n\t\t\tif ( a === doc || a.ownerDocument === preferredDoc && contains(preferredDoc, a) ) {\r\n\t\t\t\treturn -1;\r\n\t\t\t}\r\n\t\t\tif ( b === doc || b.ownerDocument === preferredDoc && contains(preferredDoc, b) ) {\r\n\t\t\t\treturn 1;\r\n\t\t\t}\r\n\r\n\t\t\t// Maintain original order\r\n\t\t\treturn sortInput ?\r\n\t\t\t\t( indexOf.call( sortInput, a ) - indexOf.call( sortInput, b ) ) :\r\n\t\t\t\t0;\r\n\t\t}\r\n\r\n\t\treturn compare & 4 ? -1 : 1;\r\n\t} :\r\n\tfunction( a, b ) {\r\n\t\t// Exit early if the nodes are identical\r\n\t\tif ( a === b ) {\r\n\t\t\thasDuplicate = true;\r\n\t\t\treturn 0;\r\n\t\t}\r\n\r\n\t\tvar cur,\r\n\t\t\ti = 0,\r\n\t\t\taup = a.parentNode,\r\n\t\t\tbup = b.parentNode,\r\n\t\t\tap = [ a ],\r\n\t\t\tbp = [ b ];\r\n\r\n\t\t// Parentless nodes are either documents or disconnected\r\n\t\tif ( !aup || !bup ) {\r\n\t\t\treturn a === doc ? -1 :\r\n\t\t\t\tb === doc ? 1 :\r\n\t\t\t\taup ? -1 :\r\n\t\t\t\tbup ? 1 :\r\n\t\t\t\tsortInput ?\r\n\t\t\t\t( indexOf.call( sortInput, a ) - indexOf.call( sortInput, b ) ) :\r\n\t\t\t\t0;\r\n\r\n\t\t// If the nodes are siblings, we can do a quick check\r\n\t\t} else if ( aup === bup ) {\r\n\t\t\treturn siblingCheck( a, b );\r\n\t\t}\r\n\r\n\t\t// Otherwise we need full lists of their ancestors for comparison\r\n\t\tcur = a;\r\n\t\twhile ( (cur = cur.parentNode) ) {\r\n\t\t\tap.unshift( cur );\r\n\t\t}\r\n\t\tcur = b;\r\n\t\twhile ( (cur = cur.parentNode) ) {\r\n\t\t\tbp.unshift( cur );\r\n\t\t}\r\n\r\n\t\t// Walk down the tree looking for a discrepancy\r\n\t\twhile ( ap[i] === bp[i] ) {\r\n\t\t\ti++;\r\n\t\t}\r\n\r\n\t\treturn i ?\r\n\t\t\t// Do a sibling check if the nodes have a common ancestor\r\n\t\t\tsiblingCheck( ap[i], bp[i] ) :\r\n\r\n\t\t\t// Otherwise nodes in our document sort first\r\n\t\t\tap[i] === preferredDoc ? -1 :\r\n\t\t\tbp[i] === preferredDoc ? 1 :\r\n\t\t\t0;\r\n\t};\r\n\r\n\treturn doc;\r\n};\r\n\r\nSizzle.matches = function( expr, elements ) {\r\n\treturn Sizzle( expr, null, null, elements );\r\n};\r\n\r\nSizzle.matchesSelector = function( elem, expr ) {\r\n\t// Set document vars if needed\r\n\tif ( ( elem.ownerDocument || elem ) !== document ) {\r\n\t\tsetDocument( elem );\r\n\t}\r\n\r\n\t// Make sure that attribute selectors are quoted\r\n\texpr = expr.replace( rattributeQuotes, \"='$1']\" );\r\n\r\n\tif ( support.matchesSelector && documentIsHTML &&\r\n\t\t( !rbuggyMatches || !rbuggyMatches.test( expr ) ) &&\r\n\t\t( !rbuggyQSA     || !rbuggyQSA.test( expr ) ) ) {\r\n\r\n\t\ttry {\r\n\t\t\tvar ret = matches.call( elem, expr );\r\n\r\n\t\t\t// IE 9's matchesSelector returns false on disconnected nodes\r\n\t\t\tif ( ret || support.disconnectedMatch ||\r\n\t\t\t\t\t// As well, disconnected nodes are said to be in a document\r\n\t\t\t\t\t// fragment in IE 9\r\n\t\t\t\t\telem.document && elem.document.nodeType !== 11 ) {\r\n\t\t\t\treturn ret;\r\n\t\t\t}\r\n\t\t} catch(e) {}\r\n\t}\r\n\r\n\treturn Sizzle( expr, document, null, [ elem ] ).length > 0;\r\n};\r\n\r\nSizzle.contains = function( context, elem ) {\r\n\t// Set document vars if needed\r\n\tif ( ( context.ownerDocument || context ) !== document ) {\r\n\t\tsetDocument( context );\r\n\t}\r\n\treturn contains( context, elem );\r\n};\r\n\r\nSizzle.attr = function( elem, name ) {\r\n\t// Set document vars if needed\r\n\tif ( ( elem.ownerDocument || elem ) !== document ) {\r\n\t\tsetDocument( elem );\r\n\t}\r\n\r\n\tvar fn = Expr.attrHandle[ name.toLowerCase() ],\r\n\t\t// Don't get fooled by Object.prototype properties (jQuery #13807)\r\n\t\tval = fn && hasOwn.call( Expr.attrHandle, name.toLowerCase() ) ?\r\n\t\t\tfn( elem, name, !documentIsHTML ) :\r\n\t\t\tundefined;\r\n\r\n\treturn val !== undefined ?\r\n\t\tval :\r\n\t\tsupport.attributes || !documentIsHTML ?\r\n\t\t\telem.getAttribute( name ) :\r\n\t\t\t(val = elem.getAttributeNode(name)) && val.specified ?\r\n\t\t\t\tval.value :\r\n\t\t\t\tnull;\r\n};\r\n\r\nSizzle.error = function( msg ) {\r\n\tthrow new Error( \"Syntax error, unrecognized expression: \" + msg );\r\n};\r\n\r\n/**\r\n * Document sorting and removing duplicates\r\n * @param {ArrayLike} results\r\n */\r\nSizzle.uniqueSort = function( results ) {\r\n\tvar elem,\r\n\t\tduplicates = [],\r\n\t\tj = 0,\r\n\t\ti = 0;\r\n\r\n\t// Unless we *know* we can detect duplicates, assume their presence\r\n\thasDuplicate = !support.detectDuplicates;\r\n\tsortInput = !support.sortStable && results.slice( 0 );\r\n\tresults.sort( sortOrder );\r\n\r\n\tif ( hasDuplicate ) {\r\n\t\twhile ( (elem = results[i++]) ) {\r\n\t\t\tif ( elem === results[ i ] ) {\r\n\t\t\t\tj = duplicates.push( i );\r\n\t\t\t}\r\n\t\t}\r\n\t\twhile ( j-- ) {\r\n\t\t\tresults.splice( duplicates[ j ], 1 );\r\n\t\t}\r\n\t}\r\n\r\n\t// Clear input after sorting to release objects\r\n\t// See https://github.com/jquery/sizzle/pull/225\r\n\tsortInput = null;\r\n\r\n\treturn results;\r\n};\r\n\r\n/**\r\n * Utility function for retrieving the text value of an array of DOM nodes\r\n * @param {Array|Element} elem\r\n */\r\ngetText = Sizzle.getText = function( elem ) {\r\n\tvar node,\r\n\t\tret = \"\",\r\n\t\ti = 0,\r\n\t\tnodeType = elem.nodeType;\r\n\r\n\tif ( !nodeType ) {\r\n\t\t// If no nodeType, this is expected to be an array\r\n\t\twhile ( (node = elem[i++]) ) {\r\n\t\t\t// Do not traverse comment nodes\r\n\t\t\tret += getText( node );\r\n\t\t}\r\n\t} else if ( nodeType === 1 || nodeType === 9 || nodeType === 11 ) {\r\n\t\t// Use textContent for elements\r\n\t\t// innerText usage removed for consistency of new lines (jQuery #11153)\r\n\t\tif ( typeof elem.textContent === \"string\" ) {\r\n\t\t\treturn elem.textContent;\r\n\t\t} else {\r\n\t\t\t// Traverse its children\r\n\t\t\tfor ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {\r\n\t\t\t\tret += getText( elem );\r\n\t\t\t}\r\n\t\t}\r\n\t} else if ( nodeType === 3 || nodeType === 4 ) {\r\n\t\treturn elem.nodeValue;\r\n\t}\r\n\t// Do not include comment or processing instruction nodes\r\n\r\n\treturn ret;\r\n};\r\n\r\nExpr = Sizzle.selectors = {\r\n\r\n\t// Can be adjusted by the user\r\n\tcacheLength: 50,\r\n\r\n\tcreatePseudo: markFunction,\r\n\r\n\tmatch: matchExpr,\r\n\r\n\tattrHandle: {},\r\n\r\n\tfind: {},\r\n\r\n\trelative: {\r\n\t\t\">\": { dir: \"parentNode\", first: true },\r\n\t\t\" \": { dir: \"parentNode\" },\r\n\t\t\"+\": { dir: \"previousSibling\", first: true },\r\n\t\t\"~\": { dir: \"previousSibling\" }\r\n\t},\r\n\r\n\tpreFilter: {\r\n\t\t\"ATTR\": function( match ) {\r\n\t\t\tmatch[1] = match[1].replace( runescape, funescape );\r\n\r\n\t\t\t// Move the given value to match[3] whether quoted or unquoted\r\n\t\t\tmatch[3] = ( match[3] || match[4] || match[5] || \"\" ).replace( runescape, funescape );\r\n\r\n\t\t\tif ( match[2] === \"~=\" ) {\r\n\t\t\t\tmatch[3] = \" \" + match[3] + \" \";\r\n\t\t\t}\r\n\r\n\t\t\treturn match.slice( 0, 4 );\r\n\t\t},\r\n\r\n\t\t\"CHILD\": function( match ) {\r\n\t\t\t/* matches from matchExpr[\"CHILD\"]\r\n\t\t\t\t1 type (only|nth|...)\r\n\t\t\t\t2 what (child|of-type)\r\n\t\t\t\t3 argument (even|odd|\\d*|\\d*n([+-]\\d+)?|...)\r\n\t\t\t\t4 xn-component of xn+y argument ([+-]?\\d*n|)\r\n\t\t\t\t5 sign of xn-component\r\n\t\t\t\t6 x of xn-component\r\n\t\t\t\t7 sign of y-component\r\n\t\t\t\t8 y of y-component\r\n\t\t\t*/\r\n\t\t\tmatch[1] = match[1].toLowerCase();\r\n\r\n\t\t\tif ( match[1].slice( 0, 3 ) === \"nth\" ) {\r\n\t\t\t\t// nth-* requires argument\r\n\t\t\t\tif ( !match[3] ) {\r\n\t\t\t\t\tSizzle.error( match[0] );\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// numeric x and y parameters for Expr.filter.CHILD\r\n\t\t\t\t// remember that false/true cast respectively to 0/1\r\n\t\t\t\tmatch[4] = +( match[4] ? match[5] + (match[6] || 1) : 2 * ( match[3] === \"even\" || match[3] === \"odd\" ) );\r\n\t\t\t\tmatch[5] = +( ( match[7] + match[8] ) || match[3] === \"odd\" );\r\n\r\n\t\t\t// other types prohibit arguments\r\n\t\t\t} else if ( match[3] ) {\r\n\t\t\t\tSizzle.error( match[0] );\r\n\t\t\t}\r\n\r\n\t\t\treturn match;\r\n\t\t},\r\n\r\n\t\t\"PSEUDO\": function( match ) {\r\n\t\t\tvar excess,\r\n\t\t\t\tunquoted = !match[6] && match[2];\r\n\r\n\t\t\tif ( matchExpr[\"CHILD\"].test( match[0] ) ) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\r\n\t\t\t// Accept quoted arguments as-is\r\n\t\t\tif ( match[3] ) {\r\n\t\t\t\tmatch[2] = match[4] || match[5] || \"\";\r\n\r\n\t\t\t// Strip excess characters from unquoted arguments\r\n\t\t\t} else if ( unquoted && rpseudo.test( unquoted ) &&\r\n\t\t\t\t// Get excess from tokenize (recursively)\r\n\t\t\t\t(excess = tokenize( unquoted, true )) &&\r\n\t\t\t\t// advance to the next closing parenthesis\r\n\t\t\t\t(excess = unquoted.indexOf( \")\", unquoted.length - excess ) - unquoted.length) ) {\r\n\r\n\t\t\t\t// excess is a negative index\r\n\t\t\t\tmatch[0] = match[0].slice( 0, excess );\r\n\t\t\t\tmatch[2] = unquoted.slice( 0, excess );\r\n\t\t\t}\r\n\r\n\t\t\t// Return only captures needed by the pseudo filter method (type and argument)\r\n\t\t\treturn match.slice( 0, 3 );\r\n\t\t}\r\n\t},\r\n\r\n\tfilter: {\r\n\r\n\t\t\"TAG\": function( nodeNameSelector ) {\r\n\t\t\tvar nodeName = nodeNameSelector.replace( runescape, funescape ).toLowerCase();\r\n\t\t\treturn nodeNameSelector === \"*\" ?\r\n\t\t\t\tfunction() { return true; } :\r\n\t\t\t\tfunction( elem ) {\r\n\t\t\t\t\treturn elem.nodeName && elem.nodeName.toLowerCase() === nodeName;\r\n\t\t\t\t};\r\n\t\t},\r\n\r\n\t\t\"CLASS\": function( className ) {\r\n\t\t\tvar pattern = classCache[ className + \" \" ];\r\n\r\n\t\t\treturn pattern ||\r\n\t\t\t\t(pattern = new RegExp( \"(^|\" + whitespace + \")\" + className + \"(\" + whitespace + \"|$)\" )) &&\r\n\t\t\t\tclassCache( className, function( elem ) {\r\n\t\t\t\t\treturn pattern.test( typeof elem.className === \"string\" && elem.className || typeof elem.getAttribute !== strundefined && elem.getAttribute(\"class\") || \"\" );\r\n\t\t\t\t});\r\n\t\t},\r\n\r\n\t\t\"ATTR\": function( name, operator, check ) {\r\n\t\t\treturn function( elem ) {\r\n\t\t\t\tvar result = Sizzle.attr( elem, name );\r\n\r\n\t\t\t\tif ( result == null ) {\r\n\t\t\t\t\treturn operator === \"!=\";\r\n\t\t\t\t}\r\n\t\t\t\tif ( !operator ) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tresult += \"\";\r\n\r\n\t\t\t\treturn operator === \"=\" ? result === check :\r\n\t\t\t\t\toperator === \"!=\" ? result !== check :\r\n\t\t\t\t\toperator === \"^=\" ? check && result.indexOf( check ) === 0 :\r\n\t\t\t\t\toperator === \"*=\" ? check && result.indexOf( check ) > -1 :\r\n\t\t\t\t\toperator === \"$=\" ? check && result.slice( -check.length ) === check :\r\n\t\t\t\t\toperator === \"~=\" ? ( \" \" + result + \" \" ).indexOf( check ) > -1 :\r\n\t\t\t\t\toperator === \"|=\" ? result === check || result.slice( 0, check.length + 1 ) === check + \"-\" :\r\n\t\t\t\t\tfalse;\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\t\"CHILD\": function( type, what, argument, first, last ) {\r\n\t\t\tvar simple = type.slice( 0, 3 ) !== \"nth\",\r\n\t\t\t\tforward = type.slice( -4 ) !== \"last\",\r\n\t\t\t\tofType = what === \"of-type\";\r\n\r\n\t\t\treturn first === 1 && last === 0 ?\r\n\r\n\t\t\t\t// Shortcut for :nth-*(n)\r\n\t\t\t\tfunction( elem ) {\r\n\t\t\t\t\treturn !!elem.parentNode;\r\n\t\t\t\t} :\r\n\r\n\t\t\t\tfunction( elem, context, xml ) {\r\n\t\t\t\t\tvar cache, outerCache, node, diff, nodeIndex, start,\r\n\t\t\t\t\t\tdir = simple !== forward ? \"nextSibling\" : \"previousSibling\",\r\n\t\t\t\t\t\tparent = elem.parentNode,\r\n\t\t\t\t\t\tname = ofType && elem.nodeName.toLowerCase(),\r\n\t\t\t\t\t\tuseCache = !xml && !ofType;\r\n\r\n\t\t\t\t\tif ( parent ) {\r\n\r\n\t\t\t\t\t\t// :(first|last|only)-(child|of-type)\r\n\t\t\t\t\t\tif ( simple ) {\r\n\t\t\t\t\t\t\twhile ( dir ) {\r\n\t\t\t\t\t\t\t\tnode = elem;\r\n\t\t\t\t\t\t\t\twhile ( (node = node[ dir ]) ) {\r\n\t\t\t\t\t\t\t\t\tif ( ofType ? node.nodeName.toLowerCase() === name : node.nodeType === 1 ) {\r\n\t\t\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t// Reverse direction for :only-* (if we haven't yet done so)\r\n\t\t\t\t\t\t\t\tstart = dir = type === \"only\" && !start && \"nextSibling\";\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tstart = [ forward ? parent.firstChild : parent.lastChild ];\r\n\r\n\t\t\t\t\t\t// non-xml :nth-child(...) stores cache data on `parent`\r\n\t\t\t\t\t\tif ( forward && useCache ) {\r\n\t\t\t\t\t\t\t// Seek `elem` from a previously-cached index\r\n\t\t\t\t\t\t\touterCache = parent[ expando ] || (parent[ expando ] = {});\r\n\t\t\t\t\t\t\tcache = outerCache[ type ] || [];\r\n\t\t\t\t\t\t\tnodeIndex = cache[0] === dirruns && cache[1];\r\n\t\t\t\t\t\t\tdiff = cache[0] === dirruns && cache[2];\r\n\t\t\t\t\t\t\tnode = nodeIndex && parent.childNodes[ nodeIndex ];\r\n\r\n\t\t\t\t\t\t\twhile ( (node = ++nodeIndex && node && node[ dir ] ||\r\n\r\n\t\t\t\t\t\t\t\t// Fallback to seeking `elem` from the start\r\n\t\t\t\t\t\t\t\t(diff = nodeIndex = 0) || start.pop()) ) {\r\n\r\n\t\t\t\t\t\t\t\t// When found, cache indexes on `parent` and break\r\n\t\t\t\t\t\t\t\tif ( node.nodeType === 1 && ++diff && node === elem ) {\r\n\t\t\t\t\t\t\t\t\touterCache[ type ] = [ dirruns, nodeIndex, diff ];\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Use previously-cached element index if available\r\n\t\t\t\t\t\t} else if ( useCache && (cache = (elem[ expando ] || (elem[ expando ] = {}))[ type ]) && cache[0] === dirruns ) {\r\n\t\t\t\t\t\t\tdiff = cache[1];\r\n\r\n\t\t\t\t\t\t// xml :nth-child(...) or :nth-last-child(...) or :nth(-last)?-of-type(...)\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// Use the same loop as above to seek `elem` from the start\r\n\t\t\t\t\t\t\twhile ( (node = ++nodeIndex && node && node[ dir ] ||\r\n\t\t\t\t\t\t\t\t(diff = nodeIndex = 0) || start.pop()) ) {\r\n\r\n\t\t\t\t\t\t\t\tif ( ( ofType ? node.nodeName.toLowerCase() === name : node.nodeType === 1 ) && ++diff ) {\r\n\t\t\t\t\t\t\t\t\t// Cache the index of each encountered element\r\n\t\t\t\t\t\t\t\t\tif ( useCache ) {\r\n\t\t\t\t\t\t\t\t\t\t(node[ expando ] || (node[ expando ] = {}))[ type ] = [ dirruns, diff ];\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\tif ( node === elem ) {\r\n\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Incorporate the offset, then check against cycle size\r\n\t\t\t\t\t\tdiff -= last;\r\n\t\t\t\t\t\treturn diff === first || ( diff % first === 0 && diff / first >= 0 );\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t},\r\n\r\n\t\t\"PSEUDO\": function( pseudo, argument ) {\r\n\t\t\t// pseudo-class names are case-insensitive\r\n\t\t\t// http://www.w3.org/TR/selectors/#pseudo-classes\r\n\t\t\t// Prioritize by case sensitivity in case custom pseudos are added with uppercase letters\r\n\t\t\t// Remember that setFilters inherits from pseudos\r\n\t\t\tvar args,\r\n\t\t\t\tfn = Expr.pseudos[ pseudo ] || Expr.setFilters[ pseudo.toLowerCase() ] ||\r\n\t\t\t\t\tSizzle.error( \"unsupported pseudo: \" + pseudo );\r\n\r\n\t\t\t// The user may use createPseudo to indicate that\r\n\t\t\t// arguments are needed to create the filter function\r\n\t\t\t// just as Sizzle does\r\n\t\t\tif ( fn[ expando ] ) {\r\n\t\t\t\treturn fn( argument );\r\n\t\t\t}\r\n\r\n\t\t\t// But maintain support for old signatures\r\n\t\t\tif ( fn.length > 1 ) {\r\n\t\t\t\targs = [ pseudo, pseudo, \"\", argument ];\r\n\t\t\t\treturn Expr.setFilters.hasOwnProperty( pseudo.toLowerCase() ) ?\r\n\t\t\t\t\tmarkFunction(function( seed, matches ) {\r\n\t\t\t\t\t\tvar idx,\r\n\t\t\t\t\t\t\tmatched = fn( seed, argument ),\r\n\t\t\t\t\t\t\ti = matched.length;\r\n\t\t\t\t\t\twhile ( i-- ) {\r\n\t\t\t\t\t\t\tidx = indexOf.call( seed, matched[i] );\r\n\t\t\t\t\t\t\tseed[ idx ] = !( matches[ idx ] = matched[i] );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}) :\r\n\t\t\t\t\tfunction( elem ) {\r\n\t\t\t\t\t\treturn fn( elem, 0, args );\r\n\t\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\treturn fn;\r\n\t\t}\r\n\t},\r\n\r\n\tpseudos: {\r\n\t\t// Potentially complex pseudos\r\n\t\t\"not\": markFunction(function( selector ) {\r\n\t\t\t// Trim the selector passed to compile\r\n\t\t\t// to avoid treating leading and trailing\r\n\t\t\t// spaces as combinators\r\n\t\t\tvar input = [],\r\n\t\t\t\tresults = [],\r\n\t\t\t\tmatcher = compile( selector.replace( rtrim, \"$1\" ) );\r\n\r\n\t\t\treturn matcher[ expando ] ?\r\n\t\t\t\tmarkFunction(function( seed, matches, context, xml ) {\r\n\t\t\t\t\tvar elem,\r\n\t\t\t\t\t\tunmatched = matcher( seed, null, xml, [] ),\r\n\t\t\t\t\t\ti = seed.length;\r\n\r\n\t\t\t\t\t// Match elements unmatched by `matcher`\r\n\t\t\t\t\twhile ( i-- ) {\r\n\t\t\t\t\t\tif ( (elem = unmatched[i]) ) {\r\n\t\t\t\t\t\t\tseed[i] = !(matches[i] = elem);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}) :\r\n\t\t\t\tfunction( elem, context, xml ) {\r\n\t\t\t\t\tinput[0] = elem;\r\n\t\t\t\t\tmatcher( input, null, xml, results );\r\n\t\t\t\t\treturn !results.pop();\r\n\t\t\t\t};\r\n\t\t}),\r\n\r\n\t\t\"has\": markFunction(function( selector ) {\r\n\t\t\treturn function( elem ) {\r\n\t\t\t\treturn Sizzle( selector, elem ).length > 0;\r\n\t\t\t};\r\n\t\t}),\r\n\r\n\t\t\"contains\": markFunction(function( text ) {\r\n\t\t\treturn function( elem ) {\r\n\t\t\t\treturn ( elem.textContent || elem.innerText || getText( elem ) ).indexOf( text ) > -1;\r\n\t\t\t};\r\n\t\t}),\r\n\r\n\t\t// \"Whether an element is represented by a :lang() selector\r\n\t\t// is based solely on the element's language value\r\n\t\t// being equal to the identifier C,\r\n\t\t// or beginning with the identifier C immediately followed by \"-\".\r\n\t\t// The matching of C against the element's language value is performed case-insensitively.\r\n\t\t// The identifier C does not have to be a valid language name.\"\r\n\t\t// http://www.w3.org/TR/selectors/#lang-pseudo\r\n\t\t\"lang\": markFunction( function( lang ) {\r\n\t\t\t// lang value must be a valid identifier\r\n\t\t\tif ( !ridentifier.test(lang || \"\") ) {\r\n\t\t\t\tSizzle.error( \"unsupported lang: \" + lang );\r\n\t\t\t}\r\n\t\t\tlang = lang.replace( runescape, funescape ).toLowerCase();\r\n\t\t\treturn function( elem ) {\r\n\t\t\t\tvar elemLang;\r\n\t\t\t\tdo {\r\n\t\t\t\t\tif ( (elemLang = documentIsHTML ?\r\n\t\t\t\t\t\telem.lang :\r\n\t\t\t\t\t\telem.getAttribute(\"xml:lang\") || elem.getAttribute(\"lang\")) ) {\r\n\r\n\t\t\t\t\t\telemLang = elemLang.toLowerCase();\r\n\t\t\t\t\t\treturn elemLang === lang || elemLang.indexOf( lang + \"-\" ) === 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t} while ( (elem = elem.parentNode) && elem.nodeType === 1 );\r\n\t\t\t\treturn false;\r\n\t\t\t};\r\n\t\t}),\r\n\r\n\t\t// Miscellaneous\r\n\t\t\"target\": function( elem ) {\r\n\t\t\tvar hash = window.location && window.location.hash;\r\n\t\t\treturn hash && hash.slice( 1 ) === elem.id;\r\n\t\t},\r\n\r\n\t\t\"root\": function( elem ) {\r\n\t\t\treturn elem === docElem;\r\n\t\t},\r\n\r\n\t\t\"focus\": function( elem ) {\r\n\t\t\treturn elem === document.activeElement && (!document.hasFocus || document.hasFocus()) && !!(elem.type || elem.href || ~elem.tabIndex);\r\n\t\t},\r\n\r\n\t\t// Boolean properties\r\n\t\t\"enabled\": function( elem ) {\r\n\t\t\treturn elem.disabled === false;\r\n\t\t},\r\n\r\n\t\t\"disabled\": function( elem ) {\r\n\t\t\treturn elem.disabled === true;\r\n\t\t},\r\n\r\n\t\t\"checked\": function( elem ) {\r\n\t\t\t// In CSS3, :checked should return both checked and selected elements\r\n\t\t\t// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked\r\n\t\t\tvar nodeName = elem.nodeName.toLowerCase();\r\n\t\t\treturn (nodeName === \"input\" && !!elem.checked) || (nodeName === \"option\" && !!elem.selected);\r\n\t\t},\r\n\r\n\t\t\"selected\": function( elem ) {\r\n\t\t\t// Accessing this property makes selected-by-default\r\n\t\t\t// options in Safari work properly\r\n\t\t\tif ( elem.parentNode ) {\r\n\t\t\t\telem.parentNode.selectedIndex;\r\n\t\t\t}\r\n\r\n\t\t\treturn elem.selected === true;\r\n\t\t},\r\n\r\n\t\t// Contents\r\n\t\t\"empty\": function( elem ) {\r\n\t\t\t// http://www.w3.org/TR/selectors/#empty-pseudo\r\n\t\t\t// :empty is negated by element (1) or content nodes (text: 3; cdata: 4; entity ref: 5),\r\n\t\t\t//   but not by others (comment: 8; processing instruction: 7; etc.)\r\n\t\t\t// nodeType < 6 works because attributes (2) do not appear as children\r\n\t\t\tfor ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {\r\n\t\t\t\tif ( elem.nodeType < 6 ) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t},\r\n\r\n\t\t\"parent\": function( elem ) {\r\n\t\t\treturn !Expr.pseudos[\"empty\"]( elem );\r\n\t\t},\r\n\r\n\t\t// Element/input types\r\n\t\t\"header\": function( elem ) {\r\n\t\t\treturn rheader.test( elem.nodeName );\r\n\t\t},\r\n\r\n\t\t\"input\": function( elem ) {\r\n\t\t\treturn rinputs.test( elem.nodeName );\r\n\t\t},\r\n\r\n\t\t\"button\": function( elem ) {\r\n\t\t\tvar name = elem.nodeName.toLowerCase();\r\n\t\t\treturn name === \"input\" && elem.type === \"button\" || name === \"button\";\r\n\t\t},\r\n\r\n\t\t\"text\": function( elem ) {\r\n\t\t\tvar attr;\r\n\t\t\treturn elem.nodeName.toLowerCase() === \"input\" &&\r\n\t\t\t\telem.type === \"text\" &&\r\n\r\n\t\t\t\t// Support: IE<8\r\n\t\t\t\t// New HTML5 attribute values (e.g., \"search\") appear with elem.type === \"text\"\r\n\t\t\t\t( (attr = elem.getAttribute(\"type\")) == null || attr.toLowerCase() === \"text\" );\r\n\t\t},\r\n\r\n\t\t// Position-in-collection\r\n\t\t\"first\": createPositionalPseudo(function() {\r\n\t\t\treturn [ 0 ];\r\n\t\t}),\r\n\r\n\t\t\"last\": createPositionalPseudo(function( matchIndexes, length ) {\r\n\t\t\treturn [ length - 1 ];\r\n\t\t}),\r\n\r\n\t\t\"eq\": createPositionalPseudo(function( matchIndexes, length, argument ) {\r\n\t\t\treturn [ argument < 0 ? argument + length : argument ];\r\n\t\t}),\r\n\r\n\t\t\"even\": createPositionalPseudo(function( matchIndexes, length ) {\r\n\t\t\tvar i = 0;\r\n\t\t\tfor ( ; i < length; i += 2 ) {\r\n\t\t\t\tmatchIndexes.push( i );\r\n\t\t\t}\r\n\t\t\treturn matchIndexes;\r\n\t\t}),\r\n\r\n\t\t\"odd\": createPositionalPseudo(function( matchIndexes, length ) {\r\n\t\t\tvar i = 1;\r\n\t\t\tfor ( ; i < length; i += 2 ) {\r\n\t\t\t\tmatchIndexes.push( i );\r\n\t\t\t}\r\n\t\t\treturn matchIndexes;\r\n\t\t}),\r\n\r\n\t\t\"lt\": createPositionalPseudo(function( matchIndexes, length, argument ) {\r\n\t\t\tvar i = argument < 0 ? argument + length : argument;\r\n\t\t\tfor ( ; --i >= 0; ) {\r\n\t\t\t\tmatchIndexes.push( i );\r\n\t\t\t}\r\n\t\t\treturn matchIndexes;\r\n\t\t}),\r\n\r\n\t\t\"gt\": createPositionalPseudo(function( matchIndexes, length, argument ) {\r\n\t\t\tvar i = argument < 0 ? argument + length : argument;\r\n\t\t\tfor ( ; ++i < length; ) {\r\n\t\t\t\tmatchIndexes.push( i );\r\n\t\t\t}\r\n\t\t\treturn matchIndexes;\r\n\t\t})\r\n\t}\r\n};\r\n\r\nExpr.pseudos[\"nth\"] = Expr.pseudos[\"eq\"];\r\n\r\n// Add button/input type pseudos\r\nfor ( i in { radio: true, checkbox: true, file: true, password: true, image: true } ) {\r\n\tExpr.pseudos[ i ] = createInputPseudo( i );\r\n}\r\nfor ( i in { submit: true, reset: true } ) {\r\n\tExpr.pseudos[ i ] = createButtonPseudo( i );\r\n}\r\n\r\n// Easy API for creating new setFilters\r\nfunction setFilters() {}\r\nsetFilters.prototype = Expr.filters = Expr.pseudos;\r\nExpr.setFilters = new setFilters();\r\n\r\ntokenize = Sizzle.tokenize = function( selector, parseOnly ) {\r\n\tvar matched, match, tokens, type,\r\n\t\tsoFar, groups, preFilters,\r\n\t\tcached = tokenCache[ selector + \" \" ];\r\n\r\n\tif ( cached ) {\r\n\t\treturn parseOnly ? 0 : cached.slice( 0 );\r\n\t}\r\n\r\n\tsoFar = selector;\r\n\tgroups = [];\r\n\tpreFilters = Expr.preFilter;\r\n\r\n\twhile ( soFar ) {\r\n\r\n\t\t// Comma and first run\r\n\t\tif ( !matched || (match = rcomma.exec( soFar )) ) {\r\n\t\t\tif ( match ) {\r\n\t\t\t\t// Don't consume trailing commas as valid\r\n\t\t\t\tsoFar = soFar.slice( match[0].length ) || soFar;\r\n\t\t\t}\r\n\t\t\tgroups.push( (tokens = []) );\r\n\t\t}\r\n\r\n\t\tmatched = false;\r\n\r\n\t\t// Combinators\r\n\t\tif ( (match = rcombinators.exec( soFar )) ) {\r\n\t\t\tmatched = match.shift();\r\n\t\t\ttokens.push({\r\n\t\t\t\tvalue: matched,\r\n\t\t\t\t// Cast descendant combinators to space\r\n\t\t\t\ttype: match[0].replace( rtrim, \" \" )\r\n\t\t\t});\r\n\t\t\tsoFar = soFar.slice( matched.length );\r\n\t\t}\r\n\r\n\t\t// Filters\r\n\t\tfor ( type in Expr.filter ) {\r\n\t\t\tif ( (match = matchExpr[ type ].exec( soFar )) && (!preFilters[ type ] ||\r\n\t\t\t\t(match = preFilters[ type ]( match ))) ) {\r\n\t\t\t\tmatched = match.shift();\r\n\t\t\t\ttokens.push({\r\n\t\t\t\t\tvalue: matched,\r\n\t\t\t\t\ttype: type,\r\n\t\t\t\t\tmatches: match\r\n\t\t\t\t});\r\n\t\t\t\tsoFar = soFar.slice( matched.length );\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif ( !matched ) {\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\t// Return the length of the invalid excess\r\n\t// if we're just parsing\r\n\t// Otherwise, throw an error or return tokens\r\n\treturn parseOnly ?\r\n\t\tsoFar.length :\r\n\t\tsoFar ?\r\n\t\t\tSizzle.error( selector ) :\r\n\t\t\t// Cache the tokens\r\n\t\t\ttokenCache( selector, groups ).slice( 0 );\r\n};\r\n\r\nfunction toSelector( tokens ) {\r\n\tvar i = 0,\r\n\t\tlen = tokens.length,\r\n\t\tselector = \"\";\r\n\tfor ( ; i < len; i++ ) {\r\n\t\tselector += tokens[i].value;\r\n\t}\r\n\treturn selector;\r\n}\r\n\r\nfunction addCombinator( matcher, combinator, base ) {\r\n\tvar dir = combinator.dir,\r\n\t\tcheckNonElements = base && dir === \"parentNode\",\r\n\t\tdoneName = done++;\r\n\r\n\treturn combinator.first ?\r\n\t\t// Check against closest ancestor/preceding element\r\n\t\tfunction( elem, context, xml ) {\r\n\t\t\twhile ( (elem = elem[ dir ]) ) {\r\n\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\r\n\t\t\t\t\treturn matcher( elem, context, xml );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} :\r\n\r\n\t\t// Check against all ancestor/preceding elements\r\n\t\tfunction( elem, context, xml ) {\r\n\t\t\tvar oldCache, outerCache,\r\n\t\t\t\tnewCache = [ dirruns, doneName ];\r\n\r\n\t\t\t// We can't set arbitrary data on XML nodes, so they don't benefit from dir caching\r\n\t\t\tif ( xml ) {\r\n\t\t\t\twhile ( (elem = elem[ dir ]) ) {\r\n\t\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\r\n\t\t\t\t\t\tif ( matcher( elem, context, xml ) ) {\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\twhile ( (elem = elem[ dir ]) ) {\r\n\t\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\r\n\t\t\t\t\t\touterCache = elem[ expando ] || (elem[ expando ] = {});\r\n\t\t\t\t\t\tif ( (oldCache = outerCache[ dir ]) &&\r\n\t\t\t\t\t\t\toldCache[ 0 ] === dirruns && oldCache[ 1 ] === doneName ) {\r\n\r\n\t\t\t\t\t\t\t// Assign to newCache so results back-propagate to previous elements\r\n\t\t\t\t\t\t\treturn (newCache[ 2 ] = oldCache[ 2 ]);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// Reuse newcache so results back-propagate to previous elements\r\n\t\t\t\t\t\t\touterCache[ dir ] = newCache;\r\n\r\n\t\t\t\t\t\t\t// A match means we're done; a fail means we have to keep checking\r\n\t\t\t\t\t\t\tif ( (newCache[ 2 ] = matcher( elem, context, xml )) ) {\r\n\t\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n}\r\n\r\nfunction elementMatcher( matchers ) {\r\n\treturn matchers.length > 1 ?\r\n\t\tfunction( elem, context, xml ) {\r\n\t\t\tvar i = matchers.length;\r\n\t\t\twhile ( i-- ) {\r\n\t\t\t\tif ( !matchers[i]( elem, context, xml ) ) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t} :\r\n\t\tmatchers[0];\r\n}\r\n\r\nfunction multipleContexts( selector, contexts, results ) {\r\n\tvar i = 0,\r\n\t\tlen = contexts.length;\r\n\tfor ( ; i < len; i++ ) {\r\n\t\tSizzle( selector, contexts[i], results );\r\n\t}\r\n\treturn results;\r\n}\r\n\r\nfunction condense( unmatched, map, filter, context, xml ) {\r\n\tvar elem,\r\n\t\tnewUnmatched = [],\r\n\t\ti = 0,\r\n\t\tlen = unmatched.length,\r\n\t\tmapped = map != null;\r\n\r\n\tfor ( ; i < len; i++ ) {\r\n\t\tif ( (elem = unmatched[i]) ) {\r\n\t\t\tif ( !filter || filter( elem, context, xml ) ) {\r\n\t\t\t\tnewUnmatched.push( elem );\r\n\t\t\t\tif ( mapped ) {\r\n\t\t\t\t\tmap.push( i );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn newUnmatched;\r\n}\r\n\r\nfunction setMatcher( preFilter, selector, matcher, postFilter, postFinder, postSelector ) {\r\n\tif ( postFilter && !postFilter[ expando ] ) {\r\n\t\tpostFilter = setMatcher( postFilter );\r\n\t}\r\n\tif ( postFinder && !postFinder[ expando ] ) {\r\n\t\tpostFinder = setMatcher( postFinder, postSelector );\r\n\t}\r\n\treturn markFunction(function( seed, results, context, xml ) {\r\n\t\tvar temp, i, elem,\r\n\t\t\tpreMap = [],\r\n\t\t\tpostMap = [],\r\n\t\t\tpreexisting = results.length,\r\n\r\n\t\t\t// Get initial elements from seed or context\r\n\t\t\telems = seed || multipleContexts( selector || \"*\", context.nodeType ? [ context ] : context, [] ),\r\n\r\n\t\t\t// Prefilter to get matcher input, preserving a map for seed-results synchronization\r\n\t\t\tmatcherIn = preFilter && ( seed || !selector ) ?\r\n\t\t\t\tcondense( elems, preMap, preFilter, context, xml ) :\r\n\t\t\t\telems,\r\n\r\n\t\t\tmatcherOut = matcher ?\r\n\t\t\t\t// If we have a postFinder, or filtered seed, or non-seed postFilter or preexisting results,\r\n\t\t\t\tpostFinder || ( seed ? preFilter : preexisting || postFilter ) ?\r\n\r\n\t\t\t\t\t// ...intermediate processing is necessary\r\n\t\t\t\t\t[] :\r\n\r\n\t\t\t\t\t// ...otherwise use results directly\r\n\t\t\t\t\tresults :\r\n\t\t\t\tmatcherIn;\r\n\r\n\t\t// Find primary matches\r\n\t\tif ( matcher ) {\r\n\t\t\tmatcher( matcherIn, matcherOut, context, xml );\r\n\t\t}\r\n\r\n\t\t// Apply postFilter\r\n\t\tif ( postFilter ) {\r\n\t\t\ttemp = condense( matcherOut, postMap );\r\n\t\t\tpostFilter( temp, [], context, xml );\r\n\r\n\t\t\t// Un-match failing elements by moving them back to matcherIn\r\n\t\t\ti = temp.length;\r\n\t\t\twhile ( i-- ) {\r\n\t\t\t\tif ( (elem = temp[i]) ) {\r\n\t\t\t\t\tmatcherOut[ postMap[i] ] = !(matcherIn[ postMap[i] ] = elem);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif ( seed ) {\r\n\t\t\tif ( postFinder || preFilter ) {\r\n\t\t\t\tif ( postFinder ) {\r\n\t\t\t\t\t// Get the final matcherOut by condensing this intermediate into postFinder contexts\r\n\t\t\t\t\ttemp = [];\r\n\t\t\t\t\ti = matcherOut.length;\r\n\t\t\t\t\twhile ( i-- ) {\r\n\t\t\t\t\t\tif ( (elem = matcherOut[i]) ) {\r\n\t\t\t\t\t\t\t// Restore matcherIn since elem is not yet a final match\r\n\t\t\t\t\t\t\ttemp.push( (matcherIn[i] = elem) );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tpostFinder( null, (matcherOut = []), temp, xml );\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Move matched elements from seed to results to keep them synchronized\r\n\t\t\t\ti = matcherOut.length;\r\n\t\t\t\twhile ( i-- ) {\r\n\t\t\t\t\tif ( (elem = matcherOut[i]) &&\r\n\t\t\t\t\t\t(temp = postFinder ? indexOf.call( seed, elem ) : preMap[i]) > -1 ) {\r\n\r\n\t\t\t\t\t\tseed[temp] = !(results[temp] = elem);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t// Add elements to results, through postFinder if defined\r\n\t\t} else {\r\n\t\t\tmatcherOut = condense(\r\n\t\t\t\tmatcherOut === results ?\r\n\t\t\t\t\tmatcherOut.splice( preexisting, matcherOut.length ) :\r\n\t\t\t\t\tmatcherOut\r\n\t\t\t);\r\n\t\t\tif ( postFinder ) {\r\n\t\t\t\tpostFinder( null, results, matcherOut, xml );\r\n\t\t\t} else {\r\n\t\t\t\tpush.apply( results, matcherOut );\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n}\r\n\r\nfunction matcherFromTokens( tokens ) {\r\n\tvar checkContext, matcher, j,\r\n\t\tlen = tokens.length,\r\n\t\tleadingRelative = Expr.relative[ tokens[0].type ],\r\n\t\timplicitRelative = leadingRelative || Expr.relative[\" \"],\r\n\t\ti = leadingRelative ? 1 : 0,\r\n\r\n\t\t// The foundational matcher ensures that elements are reachable from top-level context(s)\r\n\t\tmatchContext = addCombinator( function( elem ) {\r\n\t\t\treturn elem === checkContext;\r\n\t\t}, implicitRelative, true ),\r\n\t\tmatchAnyContext = addCombinator( function( elem ) {\r\n\t\t\treturn indexOf.call( checkContext, elem ) > -1;\r\n\t\t}, implicitRelative, true ),\r\n\t\tmatchers = [ function( elem, context, xml ) {\r\n\t\t\treturn ( !leadingRelative && ( xml || context !== outermostContext ) ) || (\r\n\t\t\t\t(checkContext = context).nodeType ?\r\n\t\t\t\t\tmatchContext( elem, context, xml ) :\r\n\t\t\t\t\tmatchAnyContext( elem, context, xml ) );\r\n\t\t} ];\r\n\r\n\tfor ( ; i < len; i++ ) {\r\n\t\tif ( (matcher = Expr.relative[ tokens[i].type ]) ) {\r\n\t\t\tmatchers = [ addCombinator(elementMatcher( matchers ), matcher) ];\r\n\t\t} else {\r\n\t\t\tmatcher = Expr.filter[ tokens[i].type ].apply( null, tokens[i].matches );\r\n\r\n\t\t\t// Return special upon seeing a positional matcher\r\n\t\t\tif ( matcher[ expando ] ) {\r\n\t\t\t\t// Find the next relative operator (if any) for proper handling\r\n\t\t\t\tj = ++i;\r\n\t\t\t\tfor ( ; j < len; j++ ) {\r\n\t\t\t\t\tif ( Expr.relative[ tokens[j].type ] ) {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn setMatcher(\r\n\t\t\t\t\ti > 1 && elementMatcher( matchers ),\r\n\t\t\t\t\ti > 1 && toSelector(\r\n\t\t\t\t\t\t// If the preceding token was a descendant combinator, insert an implicit any-element `*`\r\n\t\t\t\t\t\ttokens.slice( 0, i - 1 ).concat({ value: tokens[ i - 2 ].type === \" \" ? \"*\" : \"\" })\r\n\t\t\t\t\t).replace( rtrim, \"$1\" ),\r\n\t\t\t\t\tmatcher,\r\n\t\t\t\t\ti < j && matcherFromTokens( tokens.slice( i, j ) ),\r\n\t\t\t\t\tj < len && matcherFromTokens( (tokens = tokens.slice( j )) ),\r\n\t\t\t\t\tj < len && toSelector( tokens )\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\tmatchers.push( matcher );\r\n\t\t}\r\n\t}\r\n\r\n\treturn elementMatcher( matchers );\r\n}\r\n\r\nfunction matcherFromGroupMatchers( elementMatchers, setMatchers ) {\r\n\tvar bySet = setMatchers.length > 0,\r\n\t\tbyElement = elementMatchers.length > 0,\r\n\t\tsuperMatcher = function( seed, context, xml, results, outermost ) {\r\n\t\t\tvar elem, j, matcher,\r\n\t\t\t\tmatchedCount = 0,\r\n\t\t\t\ti = \"0\",\r\n\t\t\t\tunmatched = seed && [],\r\n\t\t\t\tsetMatched = [],\r\n\t\t\t\tcontextBackup = outermostContext,\r\n\t\t\t\t// We must always have either seed elements or outermost context\r\n\t\t\t\telems = seed || byElement && Expr.find[\"TAG\"]( \"*\", outermost ),\r\n\t\t\t\t// Use integer dirruns iff this is the outermost matcher\r\n\t\t\t\tdirrunsUnique = (dirruns += contextBackup == null ? 1 : Math.random() || 0.1),\r\n\t\t\t\tlen = elems.length;\r\n\r\n\t\t\tif ( outermost ) {\r\n\t\t\t\toutermostContext = context !== document && context;\r\n\t\t\t}\r\n\r\n\t\t\t// Add elements passing elementMatchers directly to results\r\n\t\t\t// Keep `i` a string if there are no elements so `matchedCount` will be \"00\" below\r\n\t\t\t// Support: IE<9, Safari\r\n\t\t\t// Tolerate NodeList properties (IE: \"length\"; Safari: <number>) matching elements by id\r\n\t\t\tfor ( ; i !== len && (elem = elems[i]) != null; i++ ) {\r\n\t\t\t\tif ( byElement && elem ) {\r\n\t\t\t\t\tj = 0;\r\n\t\t\t\t\twhile ( (matcher = elementMatchers[j++]) ) {\r\n\t\t\t\t\t\tif ( matcher( elem, context, xml ) ) {\r\n\t\t\t\t\t\t\tresults.push( elem );\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( outermost ) {\r\n\t\t\t\t\t\tdirruns = dirrunsUnique;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Track unmatched elements for set filters\r\n\t\t\t\tif ( bySet ) {\r\n\t\t\t\t\t// They will have gone through all possible matchers\r\n\t\t\t\t\tif ( (elem = !matcher && elem) ) {\r\n\t\t\t\t\t\tmatchedCount--;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Lengthen the array for every element, matched or not\r\n\t\t\t\t\tif ( seed ) {\r\n\t\t\t\t\t\tunmatched.push( elem );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Apply set filters to unmatched elements\r\n\t\t\tmatchedCount += i;\r\n\t\t\tif ( bySet && i !== matchedCount ) {\r\n\t\t\t\tj = 0;\r\n\t\t\t\twhile ( (matcher = setMatchers[j++]) ) {\r\n\t\t\t\t\tmatcher( unmatched, setMatched, context, xml );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( seed ) {\r\n\t\t\t\t\t// Reintegrate element matches to eliminate the need for sorting\r\n\t\t\t\t\tif ( matchedCount > 0 ) {\r\n\t\t\t\t\t\twhile ( i-- ) {\r\n\t\t\t\t\t\t\tif ( !(unmatched[i] || setMatched[i]) ) {\r\n\t\t\t\t\t\t\t\tsetMatched[i] = pop.call( results );\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Discard index placeholder values to get only actual matches\r\n\t\t\t\t\tsetMatched = condense( setMatched );\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Add matches to results\r\n\t\t\t\tpush.apply( results, setMatched );\r\n\r\n\t\t\t\t// Seedless set matches succeeding multiple successful matchers stipulate sorting\r\n\t\t\t\tif ( outermost && !seed && setMatched.length > 0 &&\r\n\t\t\t\t\t( matchedCount + setMatchers.length ) > 1 ) {\r\n\r\n\t\t\t\t\tSizzle.uniqueSort( results );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Override manipulation of globals by nested matchers\r\n\t\t\tif ( outermost ) {\r\n\t\t\t\tdirruns = dirrunsUnique;\r\n\t\t\t\toutermostContext = contextBackup;\r\n\t\t\t}\r\n\r\n\t\t\treturn unmatched;\r\n\t\t};\r\n\r\n\treturn bySet ?\r\n\t\tmarkFunction( superMatcher ) :\r\n\t\tsuperMatcher;\r\n}\r\n\r\ncompile = Sizzle.compile = function( selector, match /* Internal Use Only */ ) {\r\n\tvar i,\r\n\t\tsetMatchers = [],\r\n\t\telementMatchers = [],\r\n\t\tcached = compilerCache[ selector + \" \" ];\r\n\r\n\tif ( !cached ) {\r\n\t\t// Generate a function of recursive functions that can be used to check each element\r\n\t\tif ( !match ) {\r\n\t\t\tmatch = tokenize( selector );\r\n\t\t}\r\n\t\ti = match.length;\r\n\t\twhile ( i-- ) {\r\n\t\t\tcached = matcherFromTokens( match[i] );\r\n\t\t\tif ( cached[ expando ] ) {\r\n\t\t\t\tsetMatchers.push( cached );\r\n\t\t\t} else {\r\n\t\t\t\telementMatchers.push( cached );\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Cache the compiled function\r\n\t\tcached = compilerCache( selector, matcherFromGroupMatchers( elementMatchers, setMatchers ) );\r\n\r\n\t\t// Save selector and tokenization\r\n\t\tcached.selector = selector;\r\n\t}\r\n\treturn cached;\r\n};\r\n\r\n/**\r\n * A low-level selection function that works with Sizzle's compiled\r\n *  selector functions\r\n * @param {String|Function} selector A selector or a pre-compiled\r\n *  selector function built with Sizzle.compile\r\n * @param {Element} context\r\n * @param {Array} [results]\r\n * @param {Array} [seed] A set of elements to match against\r\n */\r\nselect = Sizzle.select = function( selector, context, results, seed ) {\r\n\tvar i, tokens, token, type, find,\r\n\t\tcompiled = typeof selector === \"function\" && selector,\r\n\t\tmatch = !seed && tokenize( (selector = compiled.selector || selector) );\r\n\r\n\tresults = results || [];\r\n\r\n\t// Try to minimize operations if there is no seed and only one group\r\n\tif ( match.length === 1 ) {\r\n\r\n\t\t// Take a shortcut and set the context if the root selector is an ID\r\n\t\ttokens = match[0] = match[0].slice( 0 );\r\n\t\tif ( tokens.length > 2 && (token = tokens[0]).type === \"ID\" &&\r\n\t\t\t\tsupport.getById && context.nodeType === 9 && documentIsHTML &&\r\n\t\t\t\tExpr.relative[ tokens[1].type ] ) {\r\n\r\n\t\t\tcontext = ( Expr.find[\"ID\"]( token.matches[0].replace(runescape, funescape), context ) || [] )[0];\r\n\t\t\tif ( !context ) {\r\n\t\t\t\treturn results;\r\n\r\n\t\t\t// Precompiled matchers will still verify ancestry, so step up a level\r\n\t\t\t} else if ( compiled ) {\r\n\t\t\t\tcontext = context.parentNode;\r\n\t\t\t}\r\n\r\n\t\t\tselector = selector.slice( tokens.shift().value.length );\r\n\t\t}\r\n\r\n\t\t// Fetch a seed set for right-to-left matching\r\n\t\ti = matchExpr[\"needsContext\"].test( selector ) ? 0 : tokens.length;\r\n\t\twhile ( i-- ) {\r\n\t\t\ttoken = tokens[i];\r\n\r\n\t\t\t// Abort if we hit a combinator\r\n\t\t\tif ( Expr.relative[ (type = token.type) ] ) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tif ( (find = Expr.find[ type ]) ) {\r\n\t\t\t\t// Search, expanding context for leading sibling combinators\r\n\t\t\t\tif ( (seed = find(\r\n\t\t\t\t\ttoken.matches[0].replace( runescape, funescape ),\r\n\t\t\t\t\trsibling.test( tokens[0].type ) && testContext( context.parentNode ) || context\r\n\t\t\t\t)) ) {\r\n\r\n\t\t\t\t\t// If seed is empty or no tokens remain, we can return early\r\n\t\t\t\t\ttokens.splice( i, 1 );\r\n\t\t\t\t\tselector = seed.length && toSelector( tokens );\r\n\t\t\t\t\tif ( !selector ) {\r\n\t\t\t\t\t\tpush.apply( results, seed );\r\n\t\t\t\t\t\treturn results;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// Compile and execute a filtering function if one is not provided\r\n\t// Provide `match` to avoid retokenization if we modified the selector above\r\n\t( compiled || compile( selector, match ) )(\r\n\t\tseed,\r\n\t\tcontext,\r\n\t\t!documentIsHTML,\r\n\t\tresults,\r\n\t\trsibling.test( selector ) && testContext( context.parentNode ) || context\r\n\t);\r\n\treturn results;\r\n};\r\n\r\n// One-time assignments\r\n\r\n// Sort stability\r\nsupport.sortStable = expando.split(\"\").sort( sortOrder ).join(\"\") === expando;\r\n\r\n// Support: Chrome<14\r\n// Always assume duplicates if they aren't passed to the comparison function\r\nsupport.detectDuplicates = !!hasDuplicate;\r\n\r\n// Initialize against the default document\r\nsetDocument();\r\n\r\n// Support: Webkit<537.32 - Safari 6.0.3/Chrome 25 (fixed in Chrome 27)\r\n// Detached nodes confoundingly follow *each other*\r\nsupport.sortDetached = assert(function( div1 ) {\r\n\t// Should return 1, but returns 4 (following)\r\n\treturn div1.compareDocumentPosition( document.createElement(\"div\") ) & 1;\r\n});\r\n\r\n// Support: IE<8\r\n// Prevent attribute/property \"interpolation\"\r\n// http://msdn.microsoft.com/en-us/library/ms536429%28VS.85%29.aspx\r\nif ( !assert(function( div ) {\r\n\tdiv.innerHTML = \"<a href='#'></a>\";\r\n\treturn div.firstChild.getAttribute(\"href\") === \"#\" ;\r\n}) ) {\r\n\taddHandle( \"type|href|height|width\", function( elem, name, isXML ) {\r\n\t\tif ( !isXML ) {\r\n\t\t\treturn elem.getAttribute( name, name.toLowerCase() === \"type\" ? 1 : 2 );\r\n\t\t}\r\n\t});\r\n}\r\n\r\n// Support: IE<9\r\n// Use defaultValue in place of getAttribute(\"value\")\r\nif ( !support.attributes || !assert(function( div ) {\r\n\tdiv.innerHTML = \"<input/>\";\r\n\tdiv.firstChild.setAttribute( \"value\", \"\" );\r\n\treturn div.firstChild.getAttribute( \"value\" ) === \"\";\r\n}) ) {\r\n\taddHandle( \"value\", function( elem, name, isXML ) {\r\n\t\tif ( !isXML && elem.nodeName.toLowerCase() === \"input\" ) {\r\n\t\t\treturn elem.defaultValue;\r\n\t\t}\r\n\t});\r\n}\r\n\r\n// Support: IE<9\r\n// Use getAttributeNode to fetch booleans when getAttribute lies\r\nif ( !assert(function( div ) {\r\n\treturn div.getAttribute(\"disabled\") == null;\r\n}) ) {\r\n\taddHandle( booleans, function( elem, name, isXML ) {\r\n\t\tvar val;\r\n\t\tif ( !isXML ) {\r\n\t\t\treturn elem[ name ] === true ? name.toLowerCase() :\r\n\t\t\t\t\t(val = elem.getAttributeNode( name )) && val.specified ?\r\n\t\t\t\t\tval.value :\r\n\t\t\t\tnull;\r\n\t\t}\r\n\t});\r\n}\r\n\r\nreturn Sizzle;\r\n\r\n})( window );\r\n\r\n\r\n\r\njQuery.find = Sizzle;\r\njQuery.expr = Sizzle.selectors;\r\njQuery.expr[\":\"] = jQuery.expr.pseudos;\r\njQuery.unique = Sizzle.uniqueSort;\r\njQuery.text = Sizzle.getText;\r\njQuery.isXMLDoc = Sizzle.isXML;\r\njQuery.contains = Sizzle.contains;\r\n\r\n\r\n\r\nvar rneedsContext = jQuery.expr.match.needsContext;\r\n\r\nvar rsingleTag = (/^<(\\w+)\\s*\\/?>(?:<\\/\\1>|)$/);\r\n\r\n\r\n\r\nvar risSimple = /^.[^:#\\[\\.,]*$/;\r\n\r\n// Implement the identical functionality for filter and not\r\nfunction winnow( elements, qualifier, not ) {\r\n\tif ( jQuery.isFunction( qualifier ) ) {\r\n\t\treturn jQuery.grep( elements, function( elem, i ) {\r\n\t\t\t/* jshint -W018 */\r\n\t\t\treturn !!qualifier.call( elem, i, elem ) !== not;\r\n\t\t});\r\n\r\n\t}\r\n\r\n\tif ( qualifier.nodeType ) {\r\n\t\treturn jQuery.grep( elements, function( elem ) {\r\n\t\t\treturn ( elem === qualifier ) !== not;\r\n\t\t});\r\n\r\n\t}\r\n\r\n\tif ( typeof qualifier === \"string\" ) {\r\n\t\tif ( risSimple.test( qualifier ) ) {\r\n\t\t\treturn jQuery.filter( qualifier, elements, not );\r\n\t\t}\r\n\r\n\t\tqualifier = jQuery.filter( qualifier, elements );\r\n\t}\r\n\r\n\treturn jQuery.grep( elements, function( elem ) {\r\n\t\treturn ( indexOf.call( qualifier, elem ) >= 0 ) !== not;\r\n\t});\r\n}\r\n\r\njQuery.filter = function( expr, elems, not ) {\r\n\tvar elem = elems[ 0 ];\r\n\r\n\tif ( not ) {\r\n\t\texpr = \":not(\" + expr + \")\";\r\n\t}\r\n\r\n\treturn elems.length === 1 && elem.nodeType === 1 ?\r\n\t\tjQuery.find.matchesSelector( elem, expr ) ? [ elem ] : [] :\r\n\t\tjQuery.find.matches( expr, jQuery.grep( elems, function( elem ) {\r\n\t\t\treturn elem.nodeType === 1;\r\n\t\t}));\r\n};\r\n\r\njQuery.fn.extend({\r\n\tfind: function( selector ) {\r\n\t\tvar i,\r\n\t\t\tlen = this.length,\r\n\t\t\tret = [],\r\n\t\t\tself = this;\r\n\r\n\t\tif ( typeof selector !== \"string\" ) {\r\n\t\t\treturn this.pushStack( jQuery( selector ).filter(function() {\r\n\t\t\t\tfor ( i = 0; i < len; i++ ) {\r\n\t\t\t\t\tif ( jQuery.contains( self[ i ], this ) ) {\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}) );\r\n\t\t}\r\n\r\n\t\tfor ( i = 0; i < len; i++ ) {\r\n\t\t\tjQuery.find( selector, self[ i ], ret );\r\n\t\t}\r\n\r\n\t\t// Needed because $( selector, context ) becomes $( context ).find( selector )\r\n\t\tret = this.pushStack( len > 1 ? jQuery.unique( ret ) : ret );\r\n\t\tret.selector = this.selector ? this.selector + \" \" + selector : selector;\r\n\t\treturn ret;\r\n\t},\r\n\tfilter: function( selector ) {\r\n\t\treturn this.pushStack( winnow(this, selector || [], false) );\r\n\t},\r\n\tnot: function( selector ) {\r\n\t\treturn this.pushStack( winnow(this, selector || [], true) );\r\n\t},\r\n\tis: function( selector ) {\r\n\t\treturn !!winnow(\r\n\t\t\tthis,\r\n\r\n\t\t\t// If this is a positional/relative selector, check membership in the returned set\r\n\t\t\t// so $(\"p:first\").is(\"p:last\") won't return true for a doc with two \"p\".\r\n\t\t\ttypeof selector === \"string\" && rneedsContext.test( selector ) ?\r\n\t\t\t\tjQuery( selector ) :\r\n\t\t\t\tselector || [],\r\n\t\t\tfalse\r\n\t\t).length;\r\n\t}\r\n});\r\n\r\n\r\n// Initialize a jQuery object\r\n\r\n\r\n// A central reference to the root jQuery(document)\r\nvar rootjQuery,\r\n\r\n\t// A simple way to check for HTML strings\r\n\t// Prioritize #id over <tag> to avoid XSS via location.hash (#9521)\r\n\t// Strict HTML recognition (#11290: must start with <)\r\n\trquickExpr = /^(?:\\s*(<[\\w\\W]+>)[^>]*|#([\\w-]*))$/,\r\n\r\n\tinit = jQuery.fn.init = function( selector, context ) {\r\n\t\tvar match, elem;\r\n\r\n\t\t// HANDLE: $(\"\"), $(null), $(undefined), $(false)\r\n\t\tif ( !selector ) {\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t\t// Handle HTML strings\r\n\t\tif ( typeof selector === \"string\" ) {\r\n\t\t\tif ( selector[0] === \"<\" && selector[ selector.length - 1 ] === \">\" && selector.length >= 3 ) {\r\n\t\t\t\t// Assume that strings that start and end with <> are HTML and skip the regex check\r\n\t\t\t\tmatch = [ null, selector, null ];\r\n\r\n\t\t\t} else {\r\n\t\t\t\tmatch = rquickExpr.exec( selector );\r\n\t\t\t}\r\n\r\n\t\t\t// Match html or make sure no context is specified for #id\r\n\t\t\tif ( match && (match[1] || !context) ) {\r\n\r\n\t\t\t\t// HANDLE: $(html) -> $(array)\r\n\t\t\t\tif ( match[1] ) {\r\n\t\t\t\t\tcontext = context instanceof jQuery ? context[0] : context;\r\n\r\n\t\t\t\t\t// scripts is true for back-compat\r\n\t\t\t\t\t// Intentionally let the error be thrown if parseHTML is not present\r\n\t\t\t\t\tjQuery.merge( this, jQuery.parseHTML(\r\n\t\t\t\t\t\tmatch[1],\r\n\t\t\t\t\t\tcontext && context.nodeType ? context.ownerDocument || context : document,\r\n\t\t\t\t\t\ttrue\r\n\t\t\t\t\t) );\r\n\r\n\t\t\t\t\t// HANDLE: $(html, props)\r\n\t\t\t\t\tif ( rsingleTag.test( match[1] ) && jQuery.isPlainObject( context ) ) {\r\n\t\t\t\t\t\tfor ( match in context ) {\r\n\t\t\t\t\t\t\t// Properties of context are called as methods if possible\r\n\t\t\t\t\t\t\tif ( jQuery.isFunction( this[ match ] ) ) {\r\n\t\t\t\t\t\t\t\tthis[ match ]( context[ match ] );\r\n\r\n\t\t\t\t\t\t\t// ...and otherwise set as attributes\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.attr( match, context[ match ] );\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn this;\r\n\r\n\t\t\t\t// HANDLE: $(#id)\r\n\t\t\t\t} else {\r\n\t\t\t\t\telem = document.getElementById( match[2] );\r\n\r\n\t\t\t\t\t// Check parentNode to catch when Blackberry 4.6 returns\r\n\t\t\t\t\t// nodes that are no longer in the document #6963\r\n\t\t\t\t\tif ( elem && elem.parentNode ) {\r\n\t\t\t\t\t\t// Inject the element directly into the jQuery object\r\n\t\t\t\t\t\tthis.length = 1;\r\n\t\t\t\t\t\tthis[0] = elem;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis.context = document;\r\n\t\t\t\t\tthis.selector = selector;\r\n\t\t\t\t\treturn this;\r\n\t\t\t\t}\r\n\r\n\t\t\t// HANDLE: $(expr, $(...))\r\n\t\t\t} else if ( !context || context.jquery ) {\r\n\t\t\t\treturn ( context || rootjQuery ).find( selector );\r\n\r\n\t\t\t// HANDLE: $(expr, context)\r\n\t\t\t// (which is just equivalent to: $(context).find(expr)\r\n\t\t\t} else {\r\n\t\t\t\treturn this.constructor( context ).find( selector );\r\n\t\t\t}\r\n\r\n\t\t// HANDLE: $(DOMElement)\r\n\t\t} else if ( selector.nodeType ) {\r\n\t\t\tthis.context = this[0] = selector;\r\n\t\t\tthis.length = 1;\r\n\t\t\treturn this;\r\n\r\n\t\t// HANDLE: $(function)\r\n\t\t// Shortcut for document ready\r\n\t\t} else if ( jQuery.isFunction( selector ) ) {\r\n\t\t\treturn typeof rootjQuery.ready !== \"undefined\" ?\r\n\t\t\t\trootjQuery.ready( selector ) :\r\n\t\t\t\t// Execute immediately if ready is not present\r\n\t\t\t\tselector( jQuery );\r\n\t\t}\r\n\r\n\t\tif ( selector.selector !== undefined ) {\r\n\t\t\tthis.selector = selector.selector;\r\n\t\t\tthis.context = selector.context;\r\n\t\t}\r\n\r\n\t\treturn jQuery.makeArray( selector, this );\r\n\t};\r\n\r\n// Give the init function the jQuery prototype for later instantiation\r\ninit.prototype = jQuery.fn;\r\n\r\n// Initialize central reference\r\nrootjQuery = jQuery( document );\r\n\r\n\r\nvar rparentsprev = /^(?:parents|prev(?:Until|All))/,\r\n\t// methods guaranteed to produce a unique set when starting from a unique set\r\n\tguaranteedUnique = {\r\n\t\tchildren: true,\r\n\t\tcontents: true,\r\n\t\tnext: true,\r\n\t\tprev: true\r\n\t};\r\n\r\njQuery.extend({\r\n\tdir: function( elem, dir, until ) {\r\n\t\tvar matched = [],\r\n\t\t\ttruncate = until !== undefined;\r\n\r\n\t\twhile ( (elem = elem[ dir ]) && elem.nodeType !== 9 ) {\r\n\t\t\tif ( elem.nodeType === 1 ) {\r\n\t\t\t\tif ( truncate && jQuery( elem ).is( until ) ) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tmatched.push( elem );\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn matched;\r\n\t},\r\n\r\n\tsibling: function( n, elem ) {\r\n\t\tvar matched = [];\r\n\r\n\t\tfor ( ; n; n = n.nextSibling ) {\r\n\t\t\tif ( n.nodeType === 1 && n !== elem ) {\r\n\t\t\t\tmatched.push( n );\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn matched;\r\n\t}\r\n});\r\n\r\njQuery.fn.extend({\r\n\thas: function( target ) {\r\n\t\tvar targets = jQuery( target, this ),\r\n\t\t\tl = targets.length;\r\n\r\n\t\treturn this.filter(function() {\r\n\t\t\tvar i = 0;\r\n\t\t\tfor ( ; i < l; i++ ) {\r\n\t\t\t\tif ( jQuery.contains( this, targets[i] ) ) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\r\n\tclosest: function( selectors, context ) {\r\n\t\tvar cur,\r\n\t\t\ti = 0,\r\n\t\t\tl = this.length,\r\n\t\t\tmatched = [],\r\n\t\t\tpos = rneedsContext.test( selectors ) || typeof selectors !== \"string\" ?\r\n\t\t\t\tjQuery( selectors, context || this.context ) :\r\n\t\t\t\t0;\r\n\r\n\t\tfor ( ; i < l; i++ ) {\r\n\t\t\tfor ( cur = this[i]; cur && cur !== context; cur = cur.parentNode ) {\r\n\t\t\t\t// Always skip document fragments\r\n\t\t\t\tif ( cur.nodeType < 11 && (pos ?\r\n\t\t\t\t\tpos.index(cur) > -1 :\r\n\r\n\t\t\t\t\t// Don't pass non-elements to Sizzle\r\n\t\t\t\t\tcur.nodeType === 1 &&\r\n\t\t\t\t\t\tjQuery.find.matchesSelector(cur, selectors)) ) {\r\n\r\n\t\t\t\t\tmatched.push( cur );\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn this.pushStack( matched.length > 1 ? jQuery.unique( matched ) : matched );\r\n\t},\r\n\r\n\t// Determine the position of an element within\r\n\t// the matched set of elements\r\n\tindex: function( elem ) {\r\n\r\n\t\t// No argument, return index in parent\r\n\t\tif ( !elem ) {\r\n\t\t\treturn ( this[ 0 ] && this[ 0 ].parentNode ) ? this.first().prevAll().length : -1;\r\n\t\t}\r\n\r\n\t\t// index in selector\r\n\t\tif ( typeof elem === \"string\" ) {\r\n\t\t\treturn indexOf.call( jQuery( elem ), this[ 0 ] );\r\n\t\t}\r\n\r\n\t\t// Locate the position of the desired element\r\n\t\treturn indexOf.call( this,\r\n\r\n\t\t\t// If it receives a jQuery object, the first element is used\r\n\t\t\telem.jquery ? elem[ 0 ] : elem\r\n\t\t);\r\n\t},\r\n\r\n\tadd: function( selector, context ) {\r\n\t\treturn this.pushStack(\r\n\t\t\tjQuery.unique(\r\n\t\t\t\tjQuery.merge( this.get(), jQuery( selector, context ) )\r\n\t\t\t)\r\n\t\t);\r\n\t},\r\n\r\n\taddBack: function( selector ) {\r\n\t\treturn this.add( selector == null ?\r\n\t\t\tthis.prevObject : this.prevObject.filter(selector)\r\n\t\t);\r\n\t}\r\n});\r\n\r\nfunction sibling( cur, dir ) {\r\n\twhile ( (cur = cur[dir]) && cur.nodeType !== 1 ) {}\r\n\treturn cur;\r\n}\r\n\r\njQuery.each({\r\n\tparent: function( elem ) {\r\n\t\tvar parent = elem.parentNode;\r\n\t\treturn parent && parent.nodeType !== 11 ? parent : null;\r\n\t},\r\n\tparents: function( elem ) {\r\n\t\treturn jQuery.dir( elem, \"parentNode\" );\r\n\t},\r\n\tparentsUntil: function( elem, i, until ) {\r\n\t\treturn jQuery.dir( elem, \"parentNode\", until );\r\n\t},\r\n\tnext: function( elem ) {\r\n\t\treturn sibling( elem, \"nextSibling\" );\r\n\t},\r\n\tprev: function( elem ) {\r\n\t\treturn sibling( elem, \"previousSibling\" );\r\n\t},\r\n\tnextAll: function( elem ) {\r\n\t\treturn jQuery.dir( elem, \"nextSibling\" );\r\n\t},\r\n\tprevAll: function( elem ) {\r\n\t\treturn jQuery.dir( elem, \"previousSibling\" );\r\n\t},\r\n\tnextUntil: function( elem, i, until ) {\r\n\t\treturn jQuery.dir( elem, \"nextSibling\", until );\r\n\t},\r\n\tprevUntil: function( elem, i, until ) {\r\n\t\treturn jQuery.dir( elem, \"previousSibling\", until );\r\n\t},\r\n\tsiblings: function( elem ) {\r\n\t\treturn jQuery.sibling( ( elem.parentNode || {} ).firstChild, elem );\r\n\t},\r\n\tchildren: function( elem ) {\r\n\t\treturn jQuery.sibling( elem.firstChild );\r\n\t},\r\n\tcontents: function( elem ) {\r\n\t\treturn elem.contentDocument || jQuery.merge( [], elem.childNodes );\r\n\t}\r\n}, function( name, fn ) {\r\n\tjQuery.fn[ name ] = function( until, selector ) {\r\n\t\tvar matched = jQuery.map( this, fn, until );\r\n\r\n\t\tif ( name.slice( -5 ) !== \"Until\" ) {\r\n\t\t\tselector = until;\r\n\t\t}\r\n\r\n\t\tif ( selector && typeof selector === \"string\" ) {\r\n\t\t\tmatched = jQuery.filter( selector, matched );\r\n\t\t}\r\n\r\n\t\tif ( this.length > 1 ) {\r\n\t\t\t// Remove duplicates\r\n\t\t\tif ( !guaranteedUnique[ name ] ) {\r\n\t\t\t\tjQuery.unique( matched );\r\n\t\t\t}\r\n\r\n\t\t\t// Reverse order for parents* and prev-derivatives\r\n\t\t\tif ( rparentsprev.test( name ) ) {\r\n\t\t\t\tmatched.reverse();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn this.pushStack( matched );\r\n\t};\r\n});\r\nvar rnotwhite = (/\\S+/g);\r\n\r\n\r\n\r\n// String to Object options format cache\r\nvar optionsCache = {};\r\n\r\n// Convert String-formatted options into Object-formatted ones and store in cache\r\nfunction createOptions( options ) {\r\n\tvar object = optionsCache[ options ] = {};\r\n\tjQuery.each( options.match( rnotwhite ) || [], function( _, flag ) {\r\n\t\tobject[ flag ] = true;\r\n\t});\r\n\treturn object;\r\n}\r\n\r\n/*\r\n * Create a callback list using the following parameters:\r\n *\r\n *\toptions: an optional list of space-separated options that will change how\r\n *\t\t\tthe callback list behaves or a more traditional option object\r\n *\r\n * By default a callback list will act like an event callback list and can be\r\n * \"fired\" multiple times.\r\n *\r\n * Possible options:\r\n *\r\n *\tonce:\t\t\twill ensure the callback list can only be fired once (like a Deferred)\r\n *\r\n *\tmemory:\t\t\twill keep track of previous values and will call any callback added\r\n *\t\t\t\t\tafter the list has been fired right away with the latest \"memorized\"\r\n *\t\t\t\t\tvalues (like a Deferred)\r\n *\r\n *\tunique:\t\t\twill ensure a callback can only be added once (no duplicate in the list)\r\n *\r\n *\tstopOnFalse:\tinterrupt callings when a callback returns false\r\n *\r\n */\r\njQuery.Callbacks = function( options ) {\r\n\r\n\t// Convert options from String-formatted to Object-formatted if needed\r\n\t// (we check in cache first)\r\n\toptions = typeof options === \"string\" ?\r\n\t\t( optionsCache[ options ] || createOptions( options ) ) :\r\n\t\tjQuery.extend( {}, options );\r\n\r\n\tvar // Last fire value (for non-forgettable lists)\r\n\t\tmemory,\r\n\t\t// Flag to know if list was already fired\r\n\t\tfired,\r\n\t\t// Flag to know if list is currently firing\r\n\t\tfiring,\r\n\t\t// First callback to fire (used internally by add and fireWith)\r\n\t\tfiringStart,\r\n\t\t// End of the loop when firing\r\n\t\tfiringLength,\r\n\t\t// Index of currently firing callback (modified by remove if needed)\r\n\t\tfiringIndex,\r\n\t\t// Actual callback list\r\n\t\tlist = [],\r\n\t\t// Stack of fire calls for repeatable lists\r\n\t\tstack = !options.once && [],\r\n\t\t// Fire callbacks\r\n\t\tfire = function( data ) {\r\n\t\t\tmemory = options.memory && data;\r\n\t\t\tfired = true;\r\n\t\t\tfiringIndex = firingStart || 0;\r\n\t\t\tfiringStart = 0;\r\n\t\t\tfiringLength = list.length;\r\n\t\t\tfiring = true;\r\n\t\t\tfor ( ; list && firingIndex < firingLength; firingIndex++ ) {\r\n\t\t\t\tif ( list[ firingIndex ].apply( data[ 0 ], data[ 1 ] ) === false && options.stopOnFalse ) {\r\n\t\t\t\t\tmemory = false; // To prevent further calls using add\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tfiring = false;\r\n\t\t\tif ( list ) {\r\n\t\t\t\tif ( stack ) {\r\n\t\t\t\t\tif ( stack.length ) {\r\n\t\t\t\t\t\tfire( stack.shift() );\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if ( memory ) {\r\n\t\t\t\t\tlist = [];\r\n\t\t\t\t} else {\r\n\t\t\t\t\tself.disable();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t// Actual Callbacks object\r\n\t\tself = {\r\n\t\t\t// Add a callback or a collection of callbacks to the list\r\n\t\t\tadd: function() {\r\n\t\t\t\tif ( list ) {\r\n\t\t\t\t\t// First, we save the current length\r\n\t\t\t\t\tvar start = list.length;\r\n\t\t\t\t\t(function add( args ) {\r\n\t\t\t\t\t\tjQuery.each( args, function( _, arg ) {\r\n\t\t\t\t\t\t\tvar type = jQuery.type( arg );\r\n\t\t\t\t\t\t\tif ( type === \"function\" ) {\r\n\t\t\t\t\t\t\t\tif ( !options.unique || !self.has( arg ) ) {\r\n\t\t\t\t\t\t\t\t\tlist.push( arg );\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else if ( arg && arg.length && type !== \"string\" ) {\r\n\t\t\t\t\t\t\t\t// Inspect recursively\r\n\t\t\t\t\t\t\t\tadd( arg );\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t})( arguments );\r\n\t\t\t\t\t// Do we need to add the callbacks to the\r\n\t\t\t\t\t// current firing batch?\r\n\t\t\t\t\tif ( firing ) {\r\n\t\t\t\t\t\tfiringLength = list.length;\r\n\t\t\t\t\t// With memory, if we're not firing then\r\n\t\t\t\t\t// we should call right away\r\n\t\t\t\t\t} else if ( memory ) {\r\n\t\t\t\t\t\tfiringStart = start;\r\n\t\t\t\t\t\tfire( memory );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn this;\r\n\t\t\t},\r\n\t\t\t// Remove a callback from the list\r\n\t\t\tremove: function() {\r\n\t\t\t\tif ( list ) {\r\n\t\t\t\t\tjQuery.each( arguments, function( _, arg ) {\r\n\t\t\t\t\t\tvar index;\r\n\t\t\t\t\t\twhile ( ( index = jQuery.inArray( arg, list, index ) ) > -1 ) {\r\n\t\t\t\t\t\t\tlist.splice( index, 1 );\r\n\t\t\t\t\t\t\t// Handle firing indexes\r\n\t\t\t\t\t\t\tif ( firing ) {\r\n\t\t\t\t\t\t\t\tif ( index <= firingLength ) {\r\n\t\t\t\t\t\t\t\t\tfiringLength--;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif ( index <= firingIndex ) {\r\n\t\t\t\t\t\t\t\t\tfiringIndex--;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\treturn this;\r\n\t\t\t},\r\n\t\t\t// Check if a given callback is in the list.\r\n\t\t\t// If no argument is given, return whether or not list has callbacks attached.\r\n\t\t\thas: function( fn ) {\r\n\t\t\t\treturn fn ? jQuery.inArray( fn, list ) > -1 : !!( list && list.length );\r\n\t\t\t},\r\n\t\t\t// Remove all callbacks from the list\r\n\t\t\tempty: function() {\r\n\t\t\t\tlist = [];\r\n\t\t\t\tfiringLength = 0;\r\n\t\t\t\treturn this;\r\n\t\t\t},\r\n\t\t\t// Have the list do nothing anymore\r\n\t\t\tdisable: function() {\r\n\t\t\t\tlist = stack = memory = undefined;\r\n\t\t\t\treturn this;\r\n\t\t\t},\r\n\t\t\t// Is it disabled?\r\n\t\t\tdisabled: function() {\r\n\t\t\t\treturn !list;\r\n\t\t\t},\r\n\t\t\t// Lock the list in its current state\r\n\t\t\tlock: function() {\r\n\t\t\t\tstack = undefined;\r\n\t\t\t\tif ( !memory ) {\r\n\t\t\t\t\tself.disable();\r\n\t\t\t\t}\r\n\t\t\t\treturn this;\r\n\t\t\t},\r\n\t\t\t// Is it locked?\r\n\t\t\tlocked: function() {\r\n\t\t\t\treturn !stack;\r\n\t\t\t},\r\n\t\t\t// Call all callbacks with the given context and arguments\r\n\t\t\tfireWith: function( context, args ) {\r\n\t\t\t\tif ( list && ( !fired || stack ) ) {\r\n\t\t\t\t\targs = args || [];\r\n\t\t\t\t\targs = [ context, args.slice ? args.slice() : args ];\r\n\t\t\t\t\tif ( firing ) {\r\n\t\t\t\t\t\tstack.push( args );\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tfire( args );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn this;\r\n\t\t\t},\r\n\t\t\t// Call all the callbacks with the given arguments\r\n\t\t\tfire: function() {\r\n\t\t\t\tself.fireWith( this, arguments );\r\n\t\t\t\treturn this;\r\n\t\t\t},\r\n\t\t\t// To know if the callbacks have already been called at least once\r\n\t\t\tfired: function() {\r\n\t\t\t\treturn !!fired;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\treturn self;\r\n};\r\n\r\n\r\njQuery.extend({\r\n\r\n\tDeferred: function( func ) {\r\n\t\tvar tuples = [\r\n\t\t\t\t// action, add listener, listener list, final state\r\n\t\t\t\t[ \"resolve\", \"done\", jQuery.Callbacks(\"once memory\"), \"resolved\" ],\r\n\t\t\t\t[ \"reject\", \"fail\", jQuery.Callbacks(\"once memory\"), \"rejected\" ],\r\n\t\t\t\t[ \"notify\", \"progress\", jQuery.Callbacks(\"memory\") ]\r\n\t\t\t],\r\n\t\t\tstate = \"pending\",\r\n\t\t\tpromise = {\r\n\t\t\t\tstate: function() {\r\n\t\t\t\t\treturn state;\r\n\t\t\t\t},\r\n\t\t\t\talways: function() {\r\n\t\t\t\t\tdeferred.done( arguments ).fail( arguments );\r\n\t\t\t\t\treturn this;\r\n\t\t\t\t},\r\n\t\t\t\tthen: function( /* fnDone, fnFail, fnProgress */ ) {\r\n\t\t\t\t\tvar fns = arguments;\r\n\t\t\t\t\treturn jQuery.Deferred(function( newDefer ) {\r\n\t\t\t\t\t\tjQuery.each( tuples, function( i, tuple ) {\r\n\t\t\t\t\t\t\tvar fn = jQuery.isFunction( fns[ i ] ) && fns[ i ];\r\n\t\t\t\t\t\t\t// deferred[ done | fail | progress ] for forwarding actions to newDefer\r\n\t\t\t\t\t\t\tdeferred[ tuple[1] ](function() {\r\n\t\t\t\t\t\t\t\tvar returned = fn && fn.apply( this, arguments );\r\n\t\t\t\t\t\t\t\tif ( returned && jQuery.isFunction( returned.promise ) ) {\r\n\t\t\t\t\t\t\t\t\treturned.promise()\r\n\t\t\t\t\t\t\t\t\t\t.done( newDefer.resolve )\r\n\t\t\t\t\t\t\t\t\t\t.fail( newDefer.reject )\r\n\t\t\t\t\t\t\t\t\t\t.progress( newDefer.notify );\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tnewDefer[ tuple[ 0 ] + \"With\" ]( this === promise ? newDefer.promise() : this, fn ? [ returned ] : arguments );\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tfns = null;\r\n\t\t\t\t\t}).promise();\r\n\t\t\t\t},\r\n\t\t\t\t// Get a promise for this deferred\r\n\t\t\t\t// If obj is provided, the promise aspect is added to the object\r\n\t\t\t\tpromise: function( obj ) {\r\n\t\t\t\t\treturn obj != null ? jQuery.extend( obj, promise ) : promise;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tdeferred = {};\r\n\r\n\t\t// Keep pipe for back-compat\r\n\t\tpromise.pipe = promise.then;\r\n\r\n\t\t// Add list-specific methods\r\n\t\tjQuery.each( tuples, function( i, tuple ) {\r\n\t\t\tvar list = tuple[ 2 ],\r\n\t\t\t\tstateString = tuple[ 3 ];\r\n\r\n\t\t\t// promise[ done | fail | progress ] = list.add\r\n\t\t\tpromise[ tuple[1] ] = list.add;\r\n\r\n\t\t\t// Handle state\r\n\t\t\tif ( stateString ) {\r\n\t\t\t\tlist.add(function() {\r\n\t\t\t\t\t// state = [ resolved | rejected ]\r\n\t\t\t\t\tstate = stateString;\r\n\r\n\t\t\t\t// [ reject_list | resolve_list ].disable; progress_list.lock\r\n\t\t\t\t}, tuples[ i ^ 1 ][ 2 ].disable, tuples[ 2 ][ 2 ].lock );\r\n\t\t\t}\r\n\r\n\t\t\t// deferred[ resolve | reject | notify ]\r\n\t\t\tdeferred[ tuple[0] ] = function() {\r\n\t\t\t\tdeferred[ tuple[0] + \"With\" ]( this === deferred ? promise : this, arguments );\r\n\t\t\t\treturn this;\r\n\t\t\t};\r\n\t\t\tdeferred[ tuple[0] + \"With\" ] = list.fireWith;\r\n\t\t});\r\n\r\n\t\t// Make the deferred a promise\r\n\t\tpromise.promise( deferred );\r\n\r\n\t\t// Call given func if any\r\n\t\tif ( func ) {\r\n\t\t\tfunc.call( deferred, deferred );\r\n\t\t}\r\n\r\n\t\t// All done!\r\n\t\treturn deferred;\r\n\t},\r\n\r\n\t// Deferred helper\r\n\twhen: function( subordinate /* , ..., subordinateN */ ) {\r\n\t\tvar i = 0,\r\n\t\t\tresolveValues = slice.call( arguments ),\r\n\t\t\tlength = resolveValues.length,\r\n\r\n\t\t\t// the count of uncompleted subordinates\r\n\t\t\tremaining = length !== 1 || ( subordinate && jQuery.isFunction( subordinate.promise ) ) ? length : 0,\r\n\r\n\t\t\t// the master Deferred. If resolveValues consist of only a single Deferred, just use that.\r\n\t\t\tdeferred = remaining === 1 ? subordinate : jQuery.Deferred(),\r\n\r\n\t\t\t// Update function for both resolve and progress values\r\n\t\t\tupdateFunc = function( i, contexts, values ) {\r\n\t\t\t\treturn function( value ) {\r\n\t\t\t\t\tcontexts[ i ] = this;\r\n\t\t\t\t\tvalues[ i ] = arguments.length > 1 ? slice.call( arguments ) : value;\r\n\t\t\t\t\tif ( values === progressValues ) {\r\n\t\t\t\t\t\tdeferred.notifyWith( contexts, values );\r\n\t\t\t\t\t} else if ( !( --remaining ) ) {\r\n\t\t\t\t\t\tdeferred.resolveWith( contexts, values );\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t},\r\n\r\n\t\t\tprogressValues, progressContexts, resolveContexts;\r\n\r\n\t\t// add listeners to Deferred subordinates; treat others as resolved\r\n\t\tif ( length > 1 ) {\r\n\t\t\tprogressValues = new Array( length );\r\n\t\t\tprogressContexts = new Array( length );\r\n\t\t\tresolveContexts = new Array( length );\r\n\t\t\tfor ( ; i < length; i++ ) {\r\n\t\t\t\tif ( resolveValues[ i ] && jQuery.isFunction( resolveValues[ i ].promise ) ) {\r\n\t\t\t\t\tresolveValues[ i ].promise()\r\n\t\t\t\t\t\t.done( updateFunc( i, resolveContexts, resolveValues ) )\r\n\t\t\t\t\t\t.fail( deferred.reject )\r\n\t\t\t\t\t\t.progress( updateFunc( i, progressContexts, progressValues ) );\r\n\t\t\t\t} else {\r\n\t\t\t\t\t--remaining;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// if we're not waiting on anything, resolve the master\r\n\t\tif ( !remaining ) {\r\n\t\t\tdeferred.resolveWith( resolveContexts, resolveValues );\r\n\t\t}\r\n\r\n\t\treturn deferred.promise();\r\n\t}\r\n});\r\n\r\n\r\n// The deferred used on DOM ready\r\nvar readyList;\r\n\r\njQuery.fn.ready = function( fn ) {\r\n\t// Add the callback\r\n\tjQuery.ready.promise().done( fn );\r\n\r\n\treturn this;\r\n};\r\n\r\njQuery.extend({\r\n\t// Is the DOM ready to be used? Set to true once it occurs.\r\n\tisReady: false,\r\n\r\n\t// A counter to track how many items to wait for before\r\n\t// the ready event fires. See #6781\r\n\treadyWait: 1,\r\n\r\n\t// Hold (or release) the ready event\r\n\tholdReady: function( hold ) {\r\n\t\tif ( hold ) {\r\n\t\t\tjQuery.readyWait++;\r\n\t\t} else {\r\n\t\t\tjQuery.ready( true );\r\n\t\t}\r\n\t},\r\n\r\n\t// Handle when the DOM is ready\r\n\tready: function( wait ) {\r\n\r\n\t\t// Abort if there are pending holds or we're already ready\r\n\t\tif ( wait === true ? --jQuery.readyWait : jQuery.isReady ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Remember that the DOM is ready\r\n\t\tjQuery.isReady = true;\r\n\r\n\t\t// If a normal DOM Ready event fired, decrement, and wait if need be\r\n\t\tif ( wait !== true && --jQuery.readyWait > 0 ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// If there are functions bound, to execute\r\n\t\treadyList.resolveWith( document, [ jQuery ] );\r\n\r\n\t\t// Trigger any bound ready events\r\n\t\tif ( jQuery.fn.triggerHandler ) {\r\n\t\t\tjQuery( document ).triggerHandler( \"ready\" );\r\n\t\t\tjQuery( document ).off( \"ready\" );\r\n\t\t}\r\n\t}\r\n});\r\n\r\n/**\r\n * The ready event handler and self cleanup method\r\n */\r\nfunction completed() {\r\n\tdocument.removeEventListener( \"DOMContentLoaded\", completed, false );\r\n\twindow.removeEventListener( \"load\", completed, false );\r\n\tjQuery.ready();\r\n}\r\n\r\njQuery.ready.promise = function( obj ) {\r\n\tif ( !readyList ) {\r\n\r\n\t\treadyList = jQuery.Deferred();\r\n\r\n\t\t// Catch cases where $(document).ready() is called after the browser event has already occurred.\r\n\t\t// we once tried to use readyState \"interactive\" here, but it caused issues like the one\r\n\t\t// discovered by ChrisS here: http://bugs.jquery.com/ticket/12282#comment:15\r\n\t\tif ( document.readyState === \"complete\" ) {\r\n\t\t\t// Handle it asynchronously to allow scripts the opportunity to delay ready\r\n\t\t\tsetTimeout( jQuery.ready );\r\n\r\n\t\t} else {\r\n\r\n\t\t\t// Use the handy event callback\r\n\t\t\tdocument.addEventListener( \"DOMContentLoaded\", completed, false );\r\n\r\n\t\t\t// A fallback to window.onload, that will always work\r\n\t\t\twindow.addEventListener( \"load\", completed, false );\r\n\t\t}\r\n\t}\r\n\treturn readyList.promise( obj );\r\n};\r\n\r\n// Kick off the DOM ready check even if the user does not\r\njQuery.ready.promise();\r\n\r\n\r\n\r\n\r\n// Multifunctional method to get and set values of a collection\r\n// The value/s can optionally be executed if it's a function\r\nvar access = jQuery.access = function( elems, fn, key, value, chainable, emptyGet, raw ) {\r\n\tvar i = 0,\r\n\t\tlen = elems.length,\r\n\t\tbulk = key == null;\r\n\r\n\t// Sets many values\r\n\tif ( jQuery.type( key ) === \"object\" ) {\r\n\t\tchainable = true;\r\n\t\tfor ( i in key ) {\r\n\t\t\tjQuery.access( elems, fn, i, key[i], true, emptyGet, raw );\r\n\t\t}\r\n\r\n\t// Sets one value\r\n\t} else if ( value !== undefined ) {\r\n\t\tchainable = true;\r\n\r\n\t\tif ( !jQuery.isFunction( value ) ) {\r\n\t\t\traw = true;\r\n\t\t}\r\n\r\n\t\tif ( bulk ) {\r\n\t\t\t// Bulk operations run against the entire set\r\n\t\t\tif ( raw ) {\r\n\t\t\t\tfn.call( elems, value );\r\n\t\t\t\tfn = null;\r\n\r\n\t\t\t// ...except when executing function values\r\n\t\t\t} else {\r\n\t\t\t\tbulk = fn;\r\n\t\t\t\tfn = function( elem, key, value ) {\r\n\t\t\t\t\treturn bulk.call( jQuery( elem ), value );\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif ( fn ) {\r\n\t\t\tfor ( ; i < len; i++ ) {\r\n\t\t\t\tfn( elems[i], key, raw ? value : value.call( elems[i], i, fn( elems[i], key ) ) );\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn chainable ?\r\n\t\telems :\r\n\r\n\t\t// Gets\r\n\t\tbulk ?\r\n\t\t\tfn.call( elems ) :\r\n\t\t\tlen ? fn( elems[0], key ) : emptyGet;\r\n};\r\n\r\n\r\n/**\r\n * Determines whether an object can have data\r\n */\r\njQuery.acceptData = function( owner ) {\r\n\t// Accepts only:\r\n\t//  - Node\r\n\t//    - Node.ELEMENT_NODE\r\n\t//    - Node.DOCUMENT_NODE\r\n\t//  - Object\r\n\t//    - Any\r\n\t/* jshint -W018 */\r\n\treturn owner.nodeType === 1 || owner.nodeType === 9 || !( +owner.nodeType );\r\n};\r\n\r\n\r\nfunction Data() {\r\n\t// Support: Android < 4,\r\n\t// Old WebKit does not have Object.preventExtensions/freeze method,\r\n\t// return new empty object instead with no [[set]] accessor\r\n\tObject.defineProperty( this.cache = {}, 0, {\r\n\t\tget: function() {\r\n\t\t\treturn {};\r\n\t\t}\r\n\t});\r\n\r\n\tthis.expando = jQuery.expando + Math.random();\r\n}\r\n\r\nData.uid = 1;\r\nData.accepts = jQuery.acceptData;\r\n\r\nData.prototype = {\r\n\tkey: function( owner ) {\r\n\t\t// We can accept data for non-element nodes in modern browsers,\r\n\t\t// but we should not, see #8335.\r\n\t\t// Always return the key for a frozen object.\r\n\t\tif ( !Data.accepts( owner ) ) {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\r\n\t\tvar descriptor = {},\r\n\t\t\t// Check if the owner object already has a cache key\r\n\t\t\tunlock = owner[ this.expando ];\r\n\r\n\t\t// If not, create one\r\n\t\tif ( !unlock ) {\r\n\t\t\tunlock = Data.uid++;\r\n\r\n\t\t\t// Secure it in a non-enumerable, non-writable property\r\n\t\t\ttry {\r\n\t\t\t\tdescriptor[ this.expando ] = { value: unlock };\r\n\t\t\t\tObject.defineProperties( owner, descriptor );\r\n\r\n\t\t\t// Support: Android < 4\r\n\t\t\t// Fallback to a less secure definition\r\n\t\t\t} catch ( e ) {\r\n\t\t\t\tdescriptor[ this.expando ] = unlock;\r\n\t\t\t\tjQuery.extend( owner, descriptor );\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Ensure the cache object\r\n\t\tif ( !this.cache[ unlock ] ) {\r\n\t\t\tthis.cache[ unlock ] = {};\r\n\t\t}\r\n\r\n\t\treturn unlock;\r\n\t},\r\n\tset: function( owner, data, value ) {\r\n\t\tvar prop,\r\n\t\t\t// There may be an unlock assigned to this node,\r\n\t\t\t// if there is no entry for this \"owner\", create one inline\r\n\t\t\t// and set the unlock as though an owner entry had always existed\r\n\t\t\tunlock = this.key( owner ),\r\n\t\t\tcache = this.cache[ unlock ];\r\n\r\n\t\t// Handle: [ owner, key, value ] args\r\n\t\tif ( typeof data === \"string\" ) {\r\n\t\t\tcache[ data ] = value;\r\n\r\n\t\t// Handle: [ owner, { properties } ] args\r\n\t\t} else {\r\n\t\t\t// Fresh assignments by object are shallow copied\r\n\t\t\tif ( jQuery.isEmptyObject( cache ) ) {\r\n\t\t\t\tjQuery.extend( this.cache[ unlock ], data );\r\n\t\t\t// Otherwise, copy the properties one-by-one to the cache object\r\n\t\t\t} else {\r\n\t\t\t\tfor ( prop in data ) {\r\n\t\t\t\t\tcache[ prop ] = data[ prop ];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn cache;\r\n\t},\r\n\tget: function( owner, key ) {\r\n\t\t// Either a valid cache is found, or will be created.\r\n\t\t// New caches will be created and the unlock returned,\r\n\t\t// allowing direct access to the newly created\r\n\t\t// empty data object. A valid owner object must be provided.\r\n\t\tvar cache = this.cache[ this.key( owner ) ];\r\n\r\n\t\treturn key === undefined ?\r\n\t\t\tcache : cache[ key ];\r\n\t},\r\n\taccess: function( owner, key, value ) {\r\n\t\tvar stored;\r\n\t\t// In cases where either:\r\n\t\t//\r\n\t\t//   1. No key was specified\r\n\t\t//   2. A string key was specified, but no value provided\r\n\t\t//\r\n\t\t// Take the \"read\" path and allow the get method to determine\r\n\t\t// which value to return, respectively either:\r\n\t\t//\r\n\t\t//   1. The entire cache object\r\n\t\t//   2. The data stored at the key\r\n\t\t//\r\n\t\tif ( key === undefined ||\r\n\t\t\t\t((key && typeof key === \"string\") && value === undefined) ) {\r\n\r\n\t\t\tstored = this.get( owner, key );\r\n\r\n\t\t\treturn stored !== undefined ?\r\n\t\t\t\tstored : this.get( owner, jQuery.camelCase(key) );\r\n\t\t}\r\n\r\n\t\t// [*]When the key is not a string, or both a key and value\r\n\t\t// are specified, set or extend (existing objects) with either:\r\n\t\t//\r\n\t\t//   1. An object of properties\r\n\t\t//   2. A key and value\r\n\t\t//\r\n\t\tthis.set( owner, key, value );\r\n\r\n\t\t// Since the \"set\" path can have two possible entry points\r\n\t\t// return the expected data based on which path was taken[*]\r\n\t\treturn value !== undefined ? value : key;\r\n\t},\r\n\tremove: function( owner, key ) {\r\n\t\tvar i, name, camel,\r\n\t\t\tunlock = this.key( owner ),\r\n\t\t\tcache = this.cache[ unlock ];\r\n\r\n\t\tif ( key === undefined ) {\r\n\t\t\tthis.cache[ unlock ] = {};\r\n\r\n\t\t} else {\r\n\t\t\t// Support array or space separated string of keys\r\n\t\t\tif ( jQuery.isArray( key ) ) {\r\n\t\t\t\t// If \"name\" is an array of keys...\r\n\t\t\t\t// When data is initially created, via (\"key\", \"val\") signature,\r\n\t\t\t\t// keys will be converted to camelCase.\r\n\t\t\t\t// Since there is no way to tell _how_ a key was added, remove\r\n\t\t\t\t// both plain key and camelCase key. #12786\r\n\t\t\t\t// This will only penalize the array argument path.\r\n\t\t\t\tname = key.concat( key.map( jQuery.camelCase ) );\r\n\t\t\t} else {\r\n\t\t\t\tcamel = jQuery.camelCase( key );\r\n\t\t\t\t// Try the string as a key before any manipulation\r\n\t\t\t\tif ( key in cache ) {\r\n\t\t\t\t\tname = [ key, camel ];\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// If a key with the spaces exists, use it.\r\n\t\t\t\t\t// Otherwise, create an array by matching non-whitespace\r\n\t\t\t\t\tname = camel;\r\n\t\t\t\t\tname = name in cache ?\r\n\t\t\t\t\t\t[ name ] : ( name.match( rnotwhite ) || [] );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\ti = name.length;\r\n\t\t\twhile ( i-- ) {\r\n\t\t\t\tdelete cache[ name[ i ] ];\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\thasData: function( owner ) {\r\n\t\treturn !jQuery.isEmptyObject(\r\n\t\t\tthis.cache[ owner[ this.expando ] ] || {}\r\n\t\t);\r\n\t},\r\n\tdiscard: function( owner ) {\r\n\t\tif ( owner[ this.expando ] ) {\r\n\t\t\tdelete this.cache[ owner[ this.expando ] ];\r\n\t\t}\r\n\t}\r\n};\r\nvar data_priv = new Data();\r\n\r\nvar data_user = new Data();\r\n\r\n\r\n\r\n/*\r\n\tImplementation Summary\r\n\r\n\t1. Enforce API surface and semantic compatibility with 1.9.x branch\r\n\t2. Improve the module's maintainability by reducing the storage\r\n\t\tpaths to a single mechanism.\r\n\t3. Use the same single mechanism to support \"private\" and \"user\" data.\r\n\t4. _Never_ expose \"private\" data to user code (TODO: Drop _data, _removeData)\r\n\t5. Avoid exposing implementation details on user objects (eg. expando properties)\r\n\t6. Provide a clear path for implementation upgrade to WeakMap in 2014\r\n*/\r\nvar rbrace = /^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/,\r\n\trmultiDash = /([A-Z])/g;\r\n\r\nfunction dataAttr( elem, key, data ) {\r\n\tvar name;\r\n\r\n\t// If nothing was found internally, try to fetch any\r\n\t// data from the HTML5 data-* attribute\r\n\tif ( data === undefined && elem.nodeType === 1 ) {\r\n\t\tname = \"data-\" + key.replace( rmultiDash, \"-$1\" ).toLowerCase();\r\n\t\tdata = elem.getAttribute( name );\r\n\r\n\t\tif ( typeof data === \"string\" ) {\r\n\t\t\ttry {\r\n\t\t\t\tdata = data === \"true\" ? true :\r\n\t\t\t\t\tdata === \"false\" ? false :\r\n\t\t\t\t\tdata === \"null\" ? null :\r\n\t\t\t\t\t// Only convert to a number if it doesn't change the string\r\n\t\t\t\t\t+data + \"\" === data ? +data :\r\n\t\t\t\t\trbrace.test( data ) ? jQuery.parseJSON( data ) :\r\n\t\t\t\t\tdata;\r\n\t\t\t} catch( e ) {}\r\n\r\n\t\t\t// Make sure we set the data so it isn't changed later\r\n\t\t\tdata_user.set( elem, key, data );\r\n\t\t} else {\r\n\t\t\tdata = undefined;\r\n\t\t}\r\n\t}\r\n\treturn data;\r\n}\r\n\r\njQuery.extend({\r\n\thasData: function( elem ) {\r\n\t\treturn data_user.hasData( elem ) || data_priv.hasData( elem );\r\n\t},\r\n\r\n\tdata: function( elem, name, data ) {\r\n\t\treturn data_user.access( elem, name, data );\r\n\t},\r\n\r\n\tremoveData: function( elem, name ) {\r\n\t\tdata_user.remove( elem, name );\r\n\t},\r\n\r\n\t// TODO: Now that all calls to _data and _removeData have been replaced\r\n\t// with direct calls to data_priv methods, these can be deprecated.\r\n\t_data: function( elem, name, data ) {\r\n\t\treturn data_priv.access( elem, name, data );\r\n\t},\r\n\r\n\t_removeData: function( elem, name ) {\r\n\t\tdata_priv.remove( elem, name );\r\n\t}\r\n});\r\n\r\njQuery.fn.extend({\r\n\tdata: function( key, value ) {\r\n\t\tvar i, name, data,\r\n\t\t\telem = this[ 0 ],\r\n\t\t\tattrs = elem && elem.attributes;\r\n\r\n\t\t// Gets all values\r\n\t\tif ( key === undefined ) {\r\n\t\t\tif ( this.length ) {\r\n\t\t\t\tdata = data_user.get( elem );\r\n\r\n\t\t\t\tif ( elem.nodeType === 1 && !data_priv.get( elem, \"hasDataAttrs\" ) ) {\r\n\t\t\t\t\ti = attrs.length;\r\n\t\t\t\t\twhile ( i-- ) {\r\n\r\n\t\t\t\t\t\t// Support: IE11+\r\n\t\t\t\t\t\t// The attrs elements can be null (#14894)\r\n\t\t\t\t\t\tif ( attrs[ i ] ) {\r\n\t\t\t\t\t\t\tname = attrs[ i ].name;\r\n\t\t\t\t\t\t\tif ( name.indexOf( \"data-\" ) === 0 ) {\r\n\t\t\t\t\t\t\t\tname = jQuery.camelCase( name.slice(5) );\r\n\t\t\t\t\t\t\t\tdataAttr( elem, name, data[ name ] );\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdata_priv.set( elem, \"hasDataAttrs\", true );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn data;\r\n\t\t}\r\n\r\n\t\t// Sets multiple values\r\n\t\tif ( typeof key === \"object\" ) {\r\n\t\t\treturn this.each(function() {\r\n\t\t\t\tdata_user.set( this, key );\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\treturn access( this, function( value ) {\r\n\t\t\tvar data,\r\n\t\t\t\tcamelKey = jQuery.camelCase( key );\r\n\r\n\t\t\t// The calling jQuery object (element matches) is not empty\r\n\t\t\t// (and therefore has an element appears at this[ 0 ]) and the\r\n\t\t\t// `value` parameter was not undefined. An empty jQuery object\r\n\t\t\t// will result in `undefined` for elem = this[ 0 ] which will\r\n\t\t\t// throw an exception if an attempt to read a data cache is made.\r\n\t\t\tif ( elem && value === undefined ) {\r\n\t\t\t\t// Attempt to get data from the cache\r\n\t\t\t\t// with the key as-is\r\n\t\t\t\tdata = data_user.get( elem, key );\r\n\t\t\t\tif ( data !== undefined ) {\r\n\t\t\t\t\treturn data;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Attempt to get data from the cache\r\n\t\t\t\t// with the key camelized\r\n\t\t\t\tdata = data_user.get( elem, camelKey );\r\n\t\t\t\tif ( data !== undefined ) {\r\n\t\t\t\t\treturn data;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Attempt to \"discover\" the data in\r\n\t\t\t\t// HTML5 custom data-* attrs\r\n\t\t\t\tdata = dataAttr( elem, camelKey, undefined );\r\n\t\t\t\tif ( data !== undefined ) {\r\n\t\t\t\t\treturn data;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// We tried really hard, but the data doesn't exist.\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// Set the data...\r\n\t\t\tthis.each(function() {\r\n\t\t\t\t// First, attempt to store a copy or reference of any\r\n\t\t\t\t// data that might've been store with a camelCased key.\r\n\t\t\t\tvar data = data_user.get( this, camelKey );\r\n\r\n\t\t\t\t// For HTML5 data-* attribute interop, we have to\r\n\t\t\t\t// store property names with dashes in a camelCase form.\r\n\t\t\t\t// This might not apply to all properties...*\r\n\t\t\t\tdata_user.set( this, camelKey, value );\r\n\r\n\t\t\t\t// *... In the case of properties that might _actually_\r\n\t\t\t\t// have dashes, we need to also store a copy of that\r\n\t\t\t\t// unchanged property.\r\n\t\t\t\tif ( key.indexOf(\"-\") !== -1 && data !== undefined ) {\r\n\t\t\t\t\tdata_user.set( this, key, value );\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}, null, value, arguments.length > 1, null, true );\r\n\t},\r\n\r\n\tremoveData: function( key ) {\r\n\t\treturn this.each(function() {\r\n\t\t\tdata_user.remove( this, key );\r\n\t\t});\r\n\t}\r\n});\r\n\r\n\r\njQuery.extend({\r\n\tqueue: function( elem, type, data ) {\r\n\t\tvar queue;\r\n\r\n\t\tif ( elem ) {\r\n\t\t\ttype = ( type || \"fx\" ) + \"queue\";\r\n\t\t\tqueue = data_priv.get( elem, type );\r\n\r\n\t\t\t// Speed up dequeue by getting out quickly if this is just a lookup\r\n\t\t\tif ( data ) {\r\n\t\t\t\tif ( !queue || jQuery.isArray( data ) ) {\r\n\t\t\t\t\tqueue = data_priv.access( elem, type, jQuery.makeArray(data) );\r\n\t\t\t\t} else {\r\n\t\t\t\t\tqueue.push( data );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn queue || [];\r\n\t\t}\r\n\t},\r\n\r\n\tdequeue: function( elem, type ) {\r\n\t\ttype = type || \"fx\";\r\n\r\n\t\tvar queue = jQuery.queue( elem, type ),\r\n\t\t\tstartLength = queue.length,\r\n\t\t\tfn = queue.shift(),\r\n\t\t\thooks = jQuery._queueHooks( elem, type ),\r\n\t\t\tnext = function() {\r\n\t\t\t\tjQuery.dequeue( elem, type );\r\n\t\t\t};\r\n\r\n\t\t// If the fx queue is dequeued, always remove the progress sentinel\r\n\t\tif ( fn === \"inprogress\" ) {\r\n\t\t\tfn = queue.shift();\r\n\t\t\tstartLength--;\r\n\t\t}\r\n\r\n\t\tif ( fn ) {\r\n\r\n\t\t\t// Add a progress sentinel to prevent the fx queue from being\r\n\t\t\t// automatically dequeued\r\n\t\t\tif ( type === \"fx\" ) {\r\n\t\t\t\tqueue.unshift( \"inprogress\" );\r\n\t\t\t}\r\n\r\n\t\t\t// clear up the last queue stop function\r\n\t\t\tdelete hooks.stop;\r\n\t\t\tfn.call( elem, next, hooks );\r\n\t\t}\r\n\r\n\t\tif ( !startLength && hooks ) {\r\n\t\t\thooks.empty.fire();\r\n\t\t}\r\n\t},\r\n\r\n\t// not intended for public consumption - generates a queueHooks object, or returns the current one\r\n\t_queueHooks: function( elem, type ) {\r\n\t\tvar key = type + \"queueHooks\";\r\n\t\treturn data_priv.get( elem, key ) || data_priv.access( elem, key, {\r\n\t\t\tempty: jQuery.Callbacks(\"once memory\").add(function() {\r\n\t\t\t\tdata_priv.remove( elem, [ type + \"queue\", key ] );\r\n\t\t\t})\r\n\t\t});\r\n\t}\r\n});\r\n\r\njQuery.fn.extend({\r\n\tqueue: function( type, data ) {\r\n\t\tvar setter = 2;\r\n\r\n\t\tif ( typeof type !== \"string\" ) {\r\n\t\t\tdata = type;\r\n\t\t\ttype = \"fx\";\r\n\t\t\tsetter--;\r\n\t\t}\r\n\r\n\t\tif ( arguments.length < setter ) {\r\n\t\t\treturn jQuery.queue( this[0], type );\r\n\t\t}\r\n\r\n\t\treturn data === undefined ?\r\n\t\t\tthis :\r\n\t\t\tthis.each(function() {\r\n\t\t\t\tvar queue = jQuery.queue( this, type, data );\r\n\r\n\t\t\t\t// ensure a hooks for this queue\r\n\t\t\t\tjQuery._queueHooks( this, type );\r\n\r\n\t\t\t\tif ( type === \"fx\" && queue[0] !== \"inprogress\" ) {\r\n\t\t\t\t\tjQuery.dequeue( this, type );\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t},\r\n\tdequeue: function( type ) {\r\n\t\treturn this.each(function() {\r\n\t\t\tjQuery.dequeue( this, type );\r\n\t\t});\r\n\t},\r\n\tclearQueue: function( type ) {\r\n\t\treturn this.queue( type || \"fx\", [] );\r\n\t},\r\n\t// Get a promise resolved when queues of a certain type\r\n\t// are emptied (fx is the type by default)\r\n\tpromise: function( type, obj ) {\r\n\t\tvar tmp,\r\n\t\t\tcount = 1,\r\n\t\t\tdefer = jQuery.Deferred(),\r\n\t\t\telements = this,\r\n\t\t\ti = this.length,\r\n\t\t\tresolve = function() {\r\n\t\t\t\tif ( !( --count ) ) {\r\n\t\t\t\t\tdefer.resolveWith( elements, [ elements ] );\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\tif ( typeof type !== \"string\" ) {\r\n\t\t\tobj = type;\r\n\t\t\ttype = undefined;\r\n\t\t}\r\n\t\ttype = type || \"fx\";\r\n\r\n\t\twhile ( i-- ) {\r\n\t\t\ttmp = data_priv.get( elements[ i ], type + \"queueHooks\" );\r\n\t\t\tif ( tmp && tmp.empty ) {\r\n\t\t\t\tcount++;\r\n\t\t\t\ttmp.empty.add( resolve );\r\n\t\t\t}\r\n\t\t}\r\n\t\tresolve();\r\n\t\treturn defer.promise( obj );\r\n\t}\r\n});\r\nvar pnum = (/[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/).source;\r\n\r\nvar cssExpand = [ \"Top\", \"Right\", \"Bottom\", \"Left\" ];\r\n\r\nvar isHidden = function( elem, el ) {\r\n\t\t// isHidden might be called from jQuery#filter function;\r\n\t\t// in that case, element will be second argument\r\n\t\telem = el || elem;\r\n\t\treturn jQuery.css( elem, \"display\" ) === \"none\" || !jQuery.contains( elem.ownerDocument, elem );\r\n\t};\r\n\r\nvar rcheckableType = (/^(?:checkbox|radio)$/i);\r\n\r\n\r\n\r\n(function() {\r\n\tvar fragment = document.createDocumentFragment(),\r\n\t\tdiv = fragment.appendChild( document.createElement( \"div\" ) ),\r\n\t\tinput = document.createElement( \"input\" );\r\n\r\n\t// #11217 - WebKit loses check when the name is after the checked attribute\r\n\t// Support: Windows Web Apps (WWA)\r\n\t// `name` and `type` need .setAttribute for WWA\r\n\tinput.setAttribute( \"type\", \"radio\" );\r\n\tinput.setAttribute( \"checked\", \"checked\" );\r\n\tinput.setAttribute( \"name\", \"t\" );\r\n\r\n\tdiv.appendChild( input );\r\n\r\n\t// Support: Safari 5.1, iOS 5.1, Android 4.x, Android 2.3\r\n\t// old WebKit doesn't clone checked state correctly in fragments\r\n\tsupport.checkClone = div.cloneNode( true ).cloneNode( true ).lastChild.checked;\r\n\r\n\t// Make sure textarea (and checkbox) defaultValue is properly cloned\r\n\t// Support: IE9-IE11+\r\n\tdiv.innerHTML = \"<textarea>x</textarea>\";\r\n\tsupport.noCloneChecked = !!div.cloneNode( true ).lastChild.defaultValue;\r\n})();\r\nvar strundefined = typeof undefined;\r\n\r\n\r\n\r\nsupport.focusinBubbles = \"onfocusin\" in window;\r\n\r\n\r\nvar\r\n\trkeyEvent = /^key/,\r\n\trmouseEvent = /^(?:mouse|pointer|contextmenu)|click/,\r\n\trfocusMorph = /^(?:focusinfocus|focusoutblur)$/,\r\n\trtypenamespace = /^([^.]*)(?:\\.(.+)|)$/;\r\n\r\nfunction returnTrue() {\r\n\treturn true;\r\n}\r\n\r\nfunction returnFalse() {\r\n\treturn false;\r\n}\r\n\r\nfunction safeActiveElement() {\r\n\ttry {\r\n\t\treturn document.activeElement;\r\n\t} catch ( err ) { }\r\n}\r\n\r\n/*\r\n * Helper functions for managing events -- not part of the public interface.\r\n * Props to Dean Edwards' addEvent library for many of the ideas.\r\n */\r\njQuery.event = {\r\n\r\n\tglobal: {},\r\n\r\n\tadd: function( elem, types, handler, data, selector ) {\r\n\r\n\t\tvar handleObjIn, eventHandle, tmp,\r\n\t\t\tevents, t, handleObj,\r\n\t\t\tspecial, handlers, type, namespaces, origType,\r\n\t\t\telemData = data_priv.get( elem );\r\n\r\n\t\t// Don't attach events to noData or text/comment nodes (but allow plain objects)\r\n\t\tif ( !elemData ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Caller can pass in an object of custom data in lieu of the handler\r\n\t\tif ( handler.handler ) {\r\n\t\t\thandleObjIn = handler;\r\n\t\t\thandler = handleObjIn.handler;\r\n\t\t\tselector = handleObjIn.selector;\r\n\t\t}\r\n\r\n\t\t// Make sure that the handler has a unique ID, used to find/remove it later\r\n\t\tif ( !handler.guid ) {\r\n\t\t\thandler.guid = jQuery.guid++;\r\n\t\t}\r\n\r\n\t\t// Init the element's event structure and main handler, if this is the first\r\n\t\tif ( !(events = elemData.events) ) {\r\n\t\t\tevents = elemData.events = {};\r\n\t\t}\r\n\t\tif ( !(eventHandle = elemData.handle) ) {\r\n\t\t\teventHandle = elemData.handle = function( e ) {\r\n\t\t\t\t// Discard the second event of a jQuery.event.trigger() and\r\n\t\t\t\t// when an event is called after a page has unloaded\r\n\t\t\t\treturn typeof jQuery !== strundefined && jQuery.event.triggered !== e.type ?\r\n\t\t\t\t\tjQuery.event.dispatch.apply( elem, arguments ) : undefined;\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\t// Handle multiple events separated by a space\r\n\t\ttypes = ( types || \"\" ).match( rnotwhite ) || [ \"\" ];\r\n\t\tt = types.length;\r\n\t\twhile ( t-- ) {\r\n\t\t\ttmp = rtypenamespace.exec( types[t] ) || [];\r\n\t\t\ttype = origType = tmp[1];\r\n\t\t\tnamespaces = ( tmp[2] || \"\" ).split( \".\" ).sort();\r\n\r\n\t\t\t// There *must* be a type, no attaching namespace-only handlers\r\n\t\t\tif ( !type ) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\t// If event changes its type, use the special event handlers for the changed type\r\n\t\t\tspecial = jQuery.event.special[ type ] || {};\r\n\r\n\t\t\t// If selector defined, determine special event api type, otherwise given type\r\n\t\t\ttype = ( selector ? special.delegateType : special.bindType ) || type;\r\n\r\n\t\t\t// Update special based on newly reset type\r\n\t\t\tspecial = jQuery.event.special[ type ] || {};\r\n\r\n\t\t\t// handleObj is passed to all event handlers\r\n\t\t\thandleObj = jQuery.extend({\r\n\t\t\t\ttype: type,\r\n\t\t\t\torigType: origType,\r\n\t\t\t\tdata: data,\r\n\t\t\t\thandler: handler,\r\n\t\t\t\tguid: handler.guid,\r\n\t\t\t\tselector: selector,\r\n\t\t\t\tneedsContext: selector && jQuery.expr.match.needsContext.test( selector ),\r\n\t\t\t\tnamespace: namespaces.join(\".\")\r\n\t\t\t}, handleObjIn );\r\n\r\n\t\t\t// Init the event handler queue if we're the first\r\n\t\t\tif ( !(handlers = events[ type ]) ) {\r\n\t\t\t\thandlers = events[ type ] = [];\r\n\t\t\t\thandlers.delegateCount = 0;\r\n\r\n\t\t\t\t// Only use addEventListener if the special events handler returns false\r\n\t\t\t\tif ( !special.setup || special.setup.call( elem, data, namespaces, eventHandle ) === false ) {\r\n\t\t\t\t\tif ( elem.addEventListener ) {\r\n\t\t\t\t\t\telem.addEventListener( type, eventHandle, false );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif ( special.add ) {\r\n\t\t\t\tspecial.add.call( elem, handleObj );\r\n\r\n\t\t\t\tif ( !handleObj.handler.guid ) {\r\n\t\t\t\t\thandleObj.handler.guid = handler.guid;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Add to the element's handler list, delegates in front\r\n\t\t\tif ( selector ) {\r\n\t\t\t\thandlers.splice( handlers.delegateCount++, 0, handleObj );\r\n\t\t\t} else {\r\n\t\t\t\thandlers.push( handleObj );\r\n\t\t\t}\r\n\r\n\t\t\t// Keep track of which events have ever been used, for event optimization\r\n\t\t\tjQuery.event.global[ type ] = true;\r\n\t\t}\r\n\r\n\t},\r\n\r\n\t// Detach an event or set of events from an element\r\n\tremove: function( elem, types, handler, selector, mappedTypes ) {\r\n\r\n\t\tvar j, origCount, tmp,\r\n\t\t\tevents, t, handleObj,\r\n\t\t\tspecial, handlers, type, namespaces, origType,\r\n\t\t\telemData = data_priv.hasData( elem ) && data_priv.get( elem );\r\n\r\n\t\tif ( !elemData || !(events = elemData.events) ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Once for each type.namespace in types; type may be omitted\r\n\t\ttypes = ( types || \"\" ).match( rnotwhite ) || [ \"\" ];\r\n\t\tt = types.length;\r\n\t\twhile ( t-- ) {\r\n\t\t\ttmp = rtypenamespace.exec( types[t] ) || [];\r\n\t\t\ttype = origType = tmp[1];\r\n\t\t\tnamespaces = ( tmp[2] || \"\" ).split( \".\" ).sort();\r\n\r\n\t\t\t// Unbind all events (on this namespace, if provided) for the element\r\n\t\t\tif ( !type ) {\r\n\t\t\t\tfor ( type in events ) {\r\n\t\t\t\t\tjQuery.event.remove( elem, type + types[ t ], handler, selector, true );\r\n\t\t\t\t}\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tspecial = jQuery.event.special[ type ] || {};\r\n\t\t\ttype = ( selector ? special.delegateType : special.bindType ) || type;\r\n\t\t\thandlers = events[ type ] || [];\r\n\t\t\ttmp = tmp[2] && new RegExp( \"(^|\\\\.)\" + namespaces.join(\"\\\\.(?:.*\\\\.|)\") + \"(\\\\.|$)\" );\r\n\r\n\t\t\t// Remove matching events\r\n\t\t\torigCount = j = handlers.length;\r\n\t\t\twhile ( j-- ) {\r\n\t\t\t\thandleObj = handlers[ j ];\r\n\r\n\t\t\t\tif ( ( mappedTypes || origType === handleObj.origType ) &&\r\n\t\t\t\t\t( !handler || handler.guid === handleObj.guid ) &&\r\n\t\t\t\t\t( !tmp || tmp.test( handleObj.namespace ) ) &&\r\n\t\t\t\t\t( !selector || selector === handleObj.selector || selector === \"**\" && handleObj.selector ) ) {\r\n\t\t\t\t\thandlers.splice( j, 1 );\r\n\r\n\t\t\t\t\tif ( handleObj.selector ) {\r\n\t\t\t\t\t\thandlers.delegateCount--;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( special.remove ) {\r\n\t\t\t\t\t\tspecial.remove.call( elem, handleObj );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Remove generic event handler if we removed something and no more handlers exist\r\n\t\t\t// (avoids potential for endless recursion during removal of special event handlers)\r\n\t\t\tif ( origCount && !handlers.length ) {\r\n\t\t\t\tif ( !special.teardown || special.teardown.call( elem, namespaces, elemData.handle ) === false ) {\r\n\t\t\t\t\tjQuery.removeEvent( elem, type, elemData.handle );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdelete events[ type ];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Remove the expando if it's no longer used\r\n\t\tif ( jQuery.isEmptyObject( events ) ) {\r\n\t\t\tdelete elemData.handle;\r\n\t\t\tdata_priv.remove( elem, \"events\" );\r\n\t\t}\r\n\t},\r\n\r\n\ttrigger: function( event, data, elem, onlyHandlers ) {\r\n\r\n\t\tvar i, cur, tmp, bubbleType, ontype, handle, special,\r\n\t\t\teventPath = [ elem || document ],\r\n\t\t\ttype = hasOwn.call( event, \"type\" ) ? event.type : event,\r\n\t\t\tnamespaces = hasOwn.call( event, \"namespace\" ) ? event.namespace.split(\".\") : [];\r\n\r\n\t\tcur = tmp = elem = elem || document;\r\n\r\n\t\t// Don't do events on text and comment nodes\r\n\t\tif ( elem.nodeType === 3 || elem.nodeType === 8 ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// focus/blur morphs to focusin/out; ensure we're not firing them right now\r\n\t\tif ( rfocusMorph.test( type + jQuery.event.triggered ) ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( type.indexOf(\".\") >= 0 ) {\r\n\t\t\t// Namespaced trigger; create a regexp to match event type in handle()\r\n\t\t\tnamespaces = type.split(\".\");\r\n\t\t\ttype = namespaces.shift();\r\n\t\t\tnamespaces.sort();\r\n\t\t}\r\n\t\tontype = type.indexOf(\":\") < 0 && \"on\" + type;\r\n\r\n\t\t// Caller can pass in a jQuery.Event object, Object, or just an event type string\r\n\t\tevent = event[ jQuery.expando ] ?\r\n\t\t\tevent :\r\n\t\t\tnew jQuery.Event( type, typeof event === \"object\" && event );\r\n\r\n\t\t// Trigger bitmask: & 1 for native handlers; & 2 for jQuery (always true)\r\n\t\tevent.isTrigger = onlyHandlers ? 2 : 3;\r\n\t\tevent.namespace = namespaces.join(\".\");\r\n\t\tevent.namespace_re = event.namespace ?\r\n\t\t\tnew RegExp( \"(^|\\\\.)\" + namespaces.join(\"\\\\.(?:.*\\\\.|)\") + \"(\\\\.|$)\" ) :\r\n\t\t\tnull;\r\n\r\n\t\t// Clean up the event in case it is being reused\r\n\t\tevent.result = undefined;\r\n\t\tif ( !event.target ) {\r\n\t\t\tevent.target = elem;\r\n\t\t}\r\n\r\n\t\t// Clone any incoming data and prepend the event, creating the handler arg list\r\n\t\tdata = data == null ?\r\n\t\t\t[ event ] :\r\n\t\t\tjQuery.makeArray( data, [ event ] );\r\n\r\n\t\t// Allow special events to draw outside the lines\r\n\t\tspecial = jQuery.event.special[ type ] || {};\r\n\t\tif ( !onlyHandlers && special.trigger && special.trigger.apply( elem, data ) === false ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Determine event propagation path in advance, per W3C events spec (#9951)\r\n\t\t// Bubble up to document, then to window; watch for a global ownerDocument var (#9724)\r\n\t\tif ( !onlyHandlers && !special.noBubble && !jQuery.isWindow( elem ) ) {\r\n\r\n\t\t\tbubbleType = special.delegateType || type;\r\n\t\t\tif ( !rfocusMorph.test( bubbleType + type ) ) {\r\n\t\t\t\tcur = cur.parentNode;\r\n\t\t\t}\r\n\t\t\tfor ( ; cur; cur = cur.parentNode ) {\r\n\t\t\t\teventPath.push( cur );\r\n\t\t\t\ttmp = cur;\r\n\t\t\t}\r\n\r\n\t\t\t// Only add window if we got to document (e.g., not plain obj or detached DOM)\r\n\t\t\tif ( tmp === (elem.ownerDocument || document) ) {\r\n\t\t\t\teventPath.push( tmp.defaultView || tmp.parentWindow || window );\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Fire handlers on the event path\r\n\t\ti = 0;\r\n\t\twhile ( (cur = eventPath[i++]) && !event.isPropagationStopped() ) {\r\n\r\n\t\t\tevent.type = i > 1 ?\r\n\t\t\t\tbubbleType :\r\n\t\t\t\tspecial.bindType || type;\r\n\r\n\t\t\t// jQuery handler\r\n\t\t\thandle = ( data_priv.get( cur, \"events\" ) || {} )[ event.type ] && data_priv.get( cur, \"handle\" );\r\n\t\t\tif ( handle ) {\r\n\t\t\t\thandle.apply( cur, data );\r\n\t\t\t}\r\n\r\n\t\t\t// Native handler\r\n\t\t\thandle = ontype && cur[ ontype ];\r\n\t\t\tif ( handle && handle.apply && jQuery.acceptData( cur ) ) {\r\n\t\t\t\tevent.result = handle.apply( cur, data );\r\n\t\t\t\tif ( event.result === false ) {\r\n\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tevent.type = type;\r\n\r\n\t\t// If nobody prevented the default action, do it now\r\n\t\tif ( !onlyHandlers && !event.isDefaultPrevented() ) {\r\n\r\n\t\t\tif ( (!special._default || special._default.apply( eventPath.pop(), data ) === false) &&\r\n\t\t\t\tjQuery.acceptData( elem ) ) {\r\n\r\n\t\t\t\t// Call a native DOM method on the target with the same name name as the event.\r\n\t\t\t\t// Don't do default actions on window, that's where global variables be (#6170)\r\n\t\t\t\tif ( ontype && jQuery.isFunction( elem[ type ] ) && !jQuery.isWindow( elem ) ) {\r\n\r\n\t\t\t\t\t// Don't re-trigger an onFOO event when we call its FOO() method\r\n\t\t\t\t\ttmp = elem[ ontype ];\r\n\r\n\t\t\t\t\tif ( tmp ) {\r\n\t\t\t\t\t\telem[ ontype ] = null;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Prevent re-triggering of the same event, since we already bubbled it above\r\n\t\t\t\t\tjQuery.event.triggered = type;\r\n\t\t\t\t\telem[ type ]();\r\n\t\t\t\t\tjQuery.event.triggered = undefined;\r\n\r\n\t\t\t\t\tif ( tmp ) {\r\n\t\t\t\t\t\telem[ ontype ] = tmp;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn event.result;\r\n\t},\r\n\r\n\tdispatch: function( event ) {\r\n\r\n\t\t// Make a writable jQuery.Event from the native event object\r\n\t\tevent = jQuery.event.fix( event );\r\n\r\n\t\tvar i, j, ret, matched, handleObj,\r\n\t\t\thandlerQueue = [],\r\n\t\t\targs = slice.call( arguments ),\r\n\t\t\thandlers = ( data_priv.get( this, \"events\" ) || {} )[ event.type ] || [],\r\n\t\t\tspecial = jQuery.event.special[ event.type ] || {};\r\n\r\n\t\t// Use the fix-ed jQuery.Event rather than the (read-only) native event\r\n\t\targs[0] = event;\r\n\t\tevent.delegateTarget = this;\r\n\r\n\t\t// Call the preDispatch hook for the mapped type, and let it bail if desired\r\n\t\tif ( special.preDispatch && special.preDispatch.call( this, event ) === false ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Determine handlers\r\n\t\thandlerQueue = jQuery.event.handlers.call( this, event, handlers );\r\n\r\n\t\t// Run delegates first; they may want to stop propagation beneath us\r\n\t\ti = 0;\r\n\t\twhile ( (matched = handlerQueue[ i++ ]) && !event.isPropagationStopped() ) {\r\n\t\t\tevent.currentTarget = matched.elem;\r\n\r\n\t\t\tj = 0;\r\n\t\t\twhile ( (handleObj = matched.handlers[ j++ ]) && !event.isImmediatePropagationStopped() ) {\r\n\r\n\t\t\t\t// Triggered event must either 1) have no namespace, or\r\n\t\t\t\t// 2) have namespace(s) a subset or equal to those in the bound event (both can have no namespace).\r\n\t\t\t\tif ( !event.namespace_re || event.namespace_re.test( handleObj.namespace ) ) {\r\n\r\n\t\t\t\t\tevent.handleObj = handleObj;\r\n\t\t\t\t\tevent.data = handleObj.data;\r\n\r\n\t\t\t\t\tret = ( (jQuery.event.special[ handleObj.origType ] || {}).handle || handleObj.handler )\r\n\t\t\t\t\t\t\t.apply( matched.elem, args );\r\n\r\n\t\t\t\t\tif ( ret !== undefined ) {\r\n\t\t\t\t\t\tif ( (event.result = ret) === false ) {\r\n\t\t\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t\t\tevent.stopPropagation();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Call the postDispatch hook for the mapped type\r\n\t\tif ( special.postDispatch ) {\r\n\t\t\tspecial.postDispatch.call( this, event );\r\n\t\t}\r\n\r\n\t\treturn event.result;\r\n\t},\r\n\r\n\thandlers: function( event, handlers ) {\r\n\t\tvar i, matches, sel, handleObj,\r\n\t\t\thandlerQueue = [],\r\n\t\t\tdelegateCount = handlers.delegateCount,\r\n\t\t\tcur = event.target;\r\n\r\n\t\t// Find delegate handlers\r\n\t\t// Black-hole SVG <use> instance trees (#13180)\r\n\t\t// Avoid non-left-click bubbling in Firefox (#3861)\r\n\t\tif ( delegateCount && cur.nodeType && (!event.button || event.type !== \"click\") ) {\r\n\r\n\t\t\tfor ( ; cur !== this; cur = cur.parentNode || this ) {\r\n\r\n\t\t\t\t// Don't process clicks on disabled elements (#6911, #8165, #11382, #11764)\r\n\t\t\t\tif ( cur.disabled !== true || event.type !== \"click\" ) {\r\n\t\t\t\t\tmatches = [];\r\n\t\t\t\t\tfor ( i = 0; i < delegateCount; i++ ) {\r\n\t\t\t\t\t\thandleObj = handlers[ i ];\r\n\r\n\t\t\t\t\t\t// Don't conflict with Object.prototype properties (#13203)\r\n\t\t\t\t\t\tsel = handleObj.selector + \" \";\r\n\r\n\t\t\t\t\t\tif ( matches[ sel ] === undefined ) {\r\n\t\t\t\t\t\t\tmatches[ sel ] = handleObj.needsContext ?\r\n\t\t\t\t\t\t\t\tjQuery( sel, this ).index( cur ) >= 0 :\r\n\t\t\t\t\t\t\t\tjQuery.find( sel, this, null, [ cur ] ).length;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif ( matches[ sel ] ) {\r\n\t\t\t\t\t\t\tmatches.push( handleObj );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( matches.length ) {\r\n\t\t\t\t\t\thandlerQueue.push({ elem: cur, handlers: matches });\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Add the remaining (directly-bound) handlers\r\n\t\tif ( delegateCount < handlers.length ) {\r\n\t\t\thandlerQueue.push({ elem: this, handlers: handlers.slice( delegateCount ) });\r\n\t\t}\r\n\r\n\t\treturn handlerQueue;\r\n\t},\r\n\r\n\t// Includes some event props shared by KeyEvent and MouseEvent\r\n\tprops: \"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which\".split(\" \"),\r\n\r\n\tfixHooks: {},\r\n\r\n\tkeyHooks: {\r\n\t\tprops: \"char charCode key keyCode\".split(\" \"),\r\n\t\tfilter: function( event, original ) {\r\n\r\n\t\t\t// Add which for key events\r\n\t\t\tif ( event.which == null ) {\r\n\t\t\t\tevent.which = original.charCode != null ? original.charCode : original.keyCode;\r\n\t\t\t}\r\n\r\n\t\t\treturn event;\r\n\t\t}\r\n\t},\r\n\r\n\tmouseHooks: {\r\n\t\tprops: \"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement\".split(\" \"),\r\n\t\tfilter: function( event, original ) {\r\n\t\t\tvar eventDoc, doc, body,\r\n\t\t\t\tbutton = original.button;\r\n\r\n\t\t\t// Calculate pageX/Y if missing and clientX/Y available\r\n\t\t\tif ( event.pageX == null && original.clientX != null ) {\r\n\t\t\t\teventDoc = event.target.ownerDocument || document;\r\n\t\t\t\tdoc = eventDoc.documentElement;\r\n\t\t\t\tbody = eventDoc.body;\r\n\r\n\t\t\t\tevent.pageX = original.clientX + ( doc && doc.scrollLeft || body && body.scrollLeft || 0 ) - ( doc && doc.clientLeft || body && body.clientLeft || 0 );\r\n\t\t\t\tevent.pageY = original.clientY + ( doc && doc.scrollTop  || body && body.scrollTop  || 0 ) - ( doc && doc.clientTop  || body && body.clientTop  || 0 );\r\n\t\t\t}\r\n\r\n\t\t\t// Add which for click: 1 === left; 2 === middle; 3 === right\r\n\t\t\t// Note: button is not normalized, so don't use it\r\n\t\t\tif ( !event.which && button !== undefined ) {\r\n\t\t\t\tevent.which = ( button & 1 ? 1 : ( button & 2 ? 3 : ( button & 4 ? 2 : 0 ) ) );\r\n\t\t\t}\r\n\r\n\t\t\treturn event;\r\n\t\t}\r\n\t},\r\n\r\n\tfix: function( event ) {\r\n\t\tif ( event[ jQuery.expando ] ) {\r\n\t\t\treturn event;\r\n\t\t}\r\n\r\n\t\t// Create a writable copy of the event object and normalize some properties\r\n\t\tvar i, prop, copy,\r\n\t\t\ttype = event.type,\r\n\t\t\toriginalEvent = event,\r\n\t\t\tfixHook = this.fixHooks[ type ];\r\n\r\n\t\tif ( !fixHook ) {\r\n\t\t\tthis.fixHooks[ type ] = fixHook =\r\n\t\t\t\trmouseEvent.test( type ) ? this.mouseHooks :\r\n\t\t\t\trkeyEvent.test( type ) ? this.keyHooks :\r\n\t\t\t\t{};\r\n\t\t}\r\n\t\tcopy = fixHook.props ? this.props.concat( fixHook.props ) : this.props;\r\n\r\n\t\tevent = new jQuery.Event( originalEvent );\r\n\r\n\t\ti = copy.length;\r\n\t\twhile ( i-- ) {\r\n\t\t\tprop = copy[ i ];\r\n\t\t\tevent[ prop ] = originalEvent[ prop ];\r\n\t\t}\r\n\r\n\t\t// Support: Cordova 2.5 (WebKit) (#13255)\r\n\t\t// All events should have a target; Cordova deviceready doesn't\r\n\t\tif ( !event.target ) {\r\n\t\t\tevent.target = document;\r\n\t\t}\r\n\r\n\t\t// Support: Safari 6.0+, Chrome < 28\r\n\t\t// Target should not be a text node (#504, #13143)\r\n\t\tif ( event.target.nodeType === 3 ) {\r\n\t\t\tevent.target = event.target.parentNode;\r\n\t\t}\r\n\r\n\t\treturn fixHook.filter ? fixHook.filter( event, originalEvent ) : event;\r\n\t},\r\n\r\n\tspecial: {\r\n\t\tload: {\r\n\t\t\t// Prevent triggered image.load events from bubbling to window.load\r\n\t\t\tnoBubble: true\r\n\t\t},\r\n\t\tfocus: {\r\n\t\t\t// Fire native event if possible so blur/focus sequence is correct\r\n\t\t\ttrigger: function() {\r\n\t\t\t\tif ( this !== safeActiveElement() && this.focus ) {\r\n\t\t\t\t\tthis.focus();\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tdelegateType: \"focusin\"\r\n\t\t},\r\n\t\tblur: {\r\n\t\t\ttrigger: function() {\r\n\t\t\t\tif ( this === safeActiveElement() && this.blur ) {\r\n\t\t\t\t\tthis.blur();\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tdelegateType: \"focusout\"\r\n\t\t},\r\n\t\tclick: {\r\n\t\t\t// For checkbox, fire native event so checked state will be right\r\n\t\t\ttrigger: function() {\r\n\t\t\t\tif ( this.type === \"checkbox\" && this.click && jQuery.nodeName( this, \"input\" ) ) {\r\n\t\t\t\t\tthis.click();\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t// For cross-browser consistency, don't fire native .click() on links\r\n\t\t\t_default: function( event ) {\r\n\t\t\t\treturn jQuery.nodeName( event.target, \"a\" );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tbeforeunload: {\r\n\t\t\tpostDispatch: function( event ) {\r\n\r\n\t\t\t\t// Support: Firefox 20+\r\n\t\t\t\t// Firefox doesn't alert if the returnValue field is not set.\r\n\t\t\t\tif ( event.result !== undefined && event.originalEvent ) {\r\n\t\t\t\t\tevent.originalEvent.returnValue = event.result;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tsimulate: function( type, elem, event, bubble ) {\r\n\t\t// Piggyback on a donor event to simulate a different one.\r\n\t\t// Fake originalEvent to avoid donor's stopPropagation, but if the\r\n\t\t// simulated event prevents default then we do the same on the donor.\r\n\t\tvar e = jQuery.extend(\r\n\t\t\tnew jQuery.Event(),\r\n\t\t\tevent,\r\n\t\t\t{\r\n\t\t\t\ttype: type,\r\n\t\t\t\tisSimulated: true,\r\n\t\t\t\toriginalEvent: {}\r\n\t\t\t}\r\n\t\t);\r\n\t\tif ( bubble ) {\r\n\t\t\tjQuery.event.trigger( e, null, elem );\r\n\t\t} else {\r\n\t\t\tjQuery.event.dispatch.call( elem, e );\r\n\t\t}\r\n\t\tif ( e.isDefaultPrevented() ) {\r\n\t\t\tevent.preventDefault();\r\n\t\t}\r\n\t}\r\n};\r\n\r\njQuery.removeEvent = function( elem, type, handle ) {\r\n\tif ( elem.removeEventListener ) {\r\n\t\telem.removeEventListener( type, handle, false );\r\n\t}\r\n};\r\n\r\njQuery.Event = function( src, props ) {\r\n\t// Allow instantiation without the 'new' keyword\r\n\tif ( !(this instanceof jQuery.Event) ) {\r\n\t\treturn new jQuery.Event( src, props );\r\n\t}\r\n\r\n\t// Event object\r\n\tif ( src && src.type ) {\r\n\t\tthis.originalEvent = src;\r\n\t\tthis.type = src.type;\r\n\r\n\t\t// Events bubbling up the document may have been marked as prevented\r\n\t\t// by a handler lower down the tree; reflect the correct value.\r\n\t\tthis.isDefaultPrevented = src.defaultPrevented ||\r\n\t\t\t\tsrc.defaultPrevented === undefined &&\r\n\t\t\t\t// Support: Android < 4.0\r\n\t\t\t\tsrc.returnValue === false ?\r\n\t\t\treturnTrue :\r\n\t\t\treturnFalse;\r\n\r\n\t// Event type\r\n\t} else {\r\n\t\tthis.type = src;\r\n\t}\r\n\r\n\t// Put explicitly provided properties onto the event object\r\n\tif ( props ) {\r\n\t\tjQuery.extend( this, props );\r\n\t}\r\n\r\n\t// Create a timestamp if incoming event doesn't have one\r\n\tthis.timeStamp = src && src.timeStamp || jQuery.now();\r\n\r\n\t// Mark it as fixed\r\n\tthis[ jQuery.expando ] = true;\r\n};\r\n\r\n// jQuery.Event is based on DOM3 Events as specified by the ECMAScript Language Binding\r\n// http://www.w3.org/TR/2003/WD-DOM-Level-3-Events-20030331/ecma-script-binding.html\r\njQuery.Event.prototype = {\r\n\tisDefaultPrevented: returnFalse,\r\n\tisPropagationStopped: returnFalse,\r\n\tisImmediatePropagationStopped: returnFalse,\r\n\r\n\tpreventDefault: function() {\r\n\t\tvar e = this.originalEvent;\r\n\r\n\t\tthis.isDefaultPrevented = returnTrue;\r\n\r\n\t\tif ( e && e.preventDefault ) {\r\n\t\t\te.preventDefault();\r\n\t\t}\r\n\t},\r\n\tstopPropagation: function() {\r\n\t\tvar e = this.originalEvent;\r\n\r\n\t\tthis.isPropagationStopped = returnTrue;\r\n\r\n\t\tif ( e && e.stopPropagation ) {\r\n\t\t\te.stopPropagation();\r\n\t\t}\r\n\t},\r\n\tstopImmediatePropagation: function() {\r\n\t\tvar e = this.originalEvent;\r\n\r\n\t\tthis.isImmediatePropagationStopped = returnTrue;\r\n\r\n\t\tif ( e && e.stopImmediatePropagation ) {\r\n\t\t\te.stopImmediatePropagation();\r\n\t\t}\r\n\r\n\t\tthis.stopPropagation();\r\n\t}\r\n};\r\n\r\n// Create mouseenter/leave events using mouseover/out and event-time checks\r\n// Support: Chrome 15+\r\njQuery.each({\r\n\tmouseenter: \"mouseover\",\r\n\tmouseleave: \"mouseout\",\r\n\tpointerenter: \"pointerover\",\r\n\tpointerleave: \"pointerout\"\r\n}, function( orig, fix ) {\r\n\tjQuery.event.special[ orig ] = {\r\n\t\tdelegateType: fix,\r\n\t\tbindType: fix,\r\n\r\n\t\thandle: function( event ) {\r\n\t\t\tvar ret,\r\n\t\t\t\ttarget = this,\r\n\t\t\t\trelated = event.relatedTarget,\r\n\t\t\t\thandleObj = event.handleObj;\r\n\r\n\t\t\t// For mousenter/leave call the handler if related is outside the target.\r\n\t\t\t// NB: No relatedTarget if the mouse left/entered the browser window\r\n\t\t\tif ( !related || (related !== target && !jQuery.contains( target, related )) ) {\r\n\t\t\t\tevent.type = handleObj.origType;\r\n\t\t\t\tret = handleObj.handler.apply( this, arguments );\r\n\t\t\t\tevent.type = fix;\r\n\t\t\t}\r\n\t\t\treturn ret;\r\n\t\t}\r\n\t};\r\n});\r\n\r\n// Create \"bubbling\" focus and blur events\r\n// Support: Firefox, Chrome, Safari\r\nif ( !support.focusinBubbles ) {\r\n\tjQuery.each({ focus: \"focusin\", blur: \"focusout\" }, function( orig, fix ) {\r\n\r\n\t\t// Attach a single capturing handler on the document while someone wants focusin/focusout\r\n\t\tvar handler = function( event ) {\r\n\t\t\t\tjQuery.event.simulate( fix, event.target, jQuery.event.fix( event ), true );\r\n\t\t\t};\r\n\r\n\t\tjQuery.event.special[ fix ] = {\r\n\t\t\tsetup: function() {\r\n\t\t\t\tvar doc = this.ownerDocument || this,\r\n\t\t\t\t\tattaches = data_priv.access( doc, fix );\r\n\r\n\t\t\t\tif ( !attaches ) {\r\n\t\t\t\t\tdoc.addEventListener( orig, handler, true );\r\n\t\t\t\t}\r\n\t\t\t\tdata_priv.access( doc, fix, ( attaches || 0 ) + 1 );\r\n\t\t\t},\r\n\t\t\tteardown: function() {\r\n\t\t\t\tvar doc = this.ownerDocument || this,\r\n\t\t\t\t\tattaches = data_priv.access( doc, fix ) - 1;\r\n\r\n\t\t\t\tif ( !attaches ) {\r\n\t\t\t\t\tdoc.removeEventListener( orig, handler, true );\r\n\t\t\t\t\tdata_priv.remove( doc, fix );\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdata_priv.access( doc, fix, attaches );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t});\r\n}\r\n\r\njQuery.fn.extend({\r\n\r\n\ton: function( types, selector, data, fn, /*INTERNAL*/ one ) {\r\n\t\tvar origFn, type;\r\n\r\n\t\t// Types can be a map of types/handlers\r\n\t\tif ( typeof types === \"object\" ) {\r\n\t\t\t// ( types-Object, selector, data )\r\n\t\t\tif ( typeof selector !== \"string\" ) {\r\n\t\t\t\t// ( types-Object, data )\r\n\t\t\t\tdata = data || selector;\r\n\t\t\t\tselector = undefined;\r\n\t\t\t}\r\n\t\t\tfor ( type in types ) {\r\n\t\t\t\tthis.on( type, selector, data, types[ type ], one );\r\n\t\t\t}\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t\tif ( data == null && fn == null ) {\r\n\t\t\t// ( types, fn )\r\n\t\t\tfn = selector;\r\n\t\t\tdata = selector = undefined;\r\n\t\t} else if ( fn == null ) {\r\n\t\t\tif ( typeof selector === \"string\" ) {\r\n\t\t\t\t// ( types, selector, fn )\r\n\t\t\t\tfn = data;\r\n\t\t\t\tdata = undefined;\r\n\t\t\t} else {\r\n\t\t\t\t// ( types, data, fn )\r\n\t\t\t\tfn = data;\r\n\t\t\t\tdata = selector;\r\n\t\t\t\tselector = undefined;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif ( fn === false ) {\r\n\t\t\tfn = returnFalse;\r\n\t\t} else if ( !fn ) {\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t\tif ( one === 1 ) {\r\n\t\t\torigFn = fn;\r\n\t\t\tfn = function( event ) {\r\n\t\t\t\t// Can use an empty set, since event contains the info\r\n\t\t\t\tjQuery().off( event );\r\n\t\t\t\treturn origFn.apply( this, arguments );\r\n\t\t\t};\r\n\t\t\t// Use same guid so caller can remove using origFn\r\n\t\t\tfn.guid = origFn.guid || ( origFn.guid = jQuery.guid++ );\r\n\t\t}\r\n\t\treturn this.each( function() {\r\n\t\t\tjQuery.event.add( this, types, fn, data, selector );\r\n\t\t});\r\n\t},\r\n\tone: function( types, selector, data, fn ) {\r\n\t\treturn this.on( types, selector, data, fn, 1 );\r\n\t},\r\n\toff: function( types, selector, fn ) {\r\n\t\tvar handleObj, type;\r\n\t\tif ( types && types.preventDefault && types.handleObj ) {\r\n\t\t\t// ( event )  dispatched jQuery.Event\r\n\t\t\thandleObj = types.handleObj;\r\n\t\t\tjQuery( types.delegateTarget ).off(\r\n\t\t\t\thandleObj.namespace ? handleObj.origType + \".\" + handleObj.namespace : handleObj.origType,\r\n\t\t\t\thandleObj.selector,\r\n\t\t\t\thandleObj.handler\r\n\t\t\t);\r\n\t\t\treturn this;\r\n\t\t}\r\n\t\tif ( typeof types === \"object\" ) {\r\n\t\t\t// ( types-object [, selector] )\r\n\t\t\tfor ( type in types ) {\r\n\t\t\t\tthis.off( type, selector, types[ type ] );\r\n\t\t\t}\r\n\t\t\treturn this;\r\n\t\t}\r\n\t\tif ( selector === false || typeof selector === \"function\" ) {\r\n\t\t\t// ( types [, fn] )\r\n\t\t\tfn = selector;\r\n\t\t\tselector = undefined;\r\n\t\t}\r\n\t\tif ( fn === false ) {\r\n\t\t\tfn = returnFalse;\r\n\t\t}\r\n\t\treturn this.each(function() {\r\n\t\t\tjQuery.event.remove( this, types, fn, selector );\r\n\t\t});\r\n\t},\r\n\r\n\ttrigger: function( type, data ) {\r\n\t\treturn this.each(function() {\r\n\t\t\tjQuery.event.trigger( type, data, this );\r\n\t\t});\r\n\t},\r\n\ttriggerHandler: function( type, data ) {\r\n\t\tvar elem = this[0];\r\n\t\tif ( elem ) {\r\n\t\t\treturn jQuery.event.trigger( type, data, elem, true );\r\n\t\t}\r\n\t}\r\n});\r\n\r\n\r\nvar\r\n\trxhtmlTag = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>/gi,\r\n\trtagName = /<([\\w:]+)/,\r\n\trhtml = /<|&#?\\w+;/,\r\n\trnoInnerhtml = /<(?:script|style|link)/i,\r\n\t// checked=\"checked\" or checked\r\n\trchecked = /checked\\s*(?:[^=]|=\\s*.checked.)/i,\r\n\trscriptType = /^$|\\/(?:java|ecma)script/i,\r\n\trscriptTypeMasked = /^true\\/(.*)/,\r\n\trcleanScript = /^\\s*<!(?:\\[CDATA\\[|--)|(?:\\]\\]|--)>\\s*$/g,\r\n\r\n\t// We have to close these tags to support XHTML (#13200)\r\n\twrapMap = {\r\n\r\n\t\t// Support: IE 9\r\n\t\toption: [ 1, \"<select multiple='multiple'>\", \"</select>\" ],\r\n\r\n\t\tthead: [ 1, \"<table>\", \"</table>\" ],\r\n\t\tcol: [ 2, \"<table><colgroup>\", \"</colgroup></table>\" ],\r\n\t\ttr: [ 2, \"<table><tbody>\", \"</tbody></table>\" ],\r\n\t\ttd: [ 3, \"<table><tbody><tr>\", \"</tr></tbody></table>\" ],\r\n\r\n\t\t_default: [ 0, \"\", \"\" ]\r\n\t};\r\n\r\n// Support: IE 9\r\nwrapMap.optgroup = wrapMap.option;\r\n\r\nwrapMap.tbody = wrapMap.tfoot = wrapMap.colgroup = wrapMap.caption = wrapMap.thead;\r\nwrapMap.th = wrapMap.td;\r\n\r\n// Support: 1.x compatibility\r\n// Manipulating tables requires a tbody\r\nfunction manipulationTarget( elem, content ) {\r\n\treturn jQuery.nodeName( elem, \"table\" ) &&\r\n\t\tjQuery.nodeName( content.nodeType !== 11 ? content : content.firstChild, \"tr\" ) ?\r\n\r\n\t\telem.getElementsByTagName(\"tbody\")[0] ||\r\n\t\t\telem.appendChild( elem.ownerDocument.createElement(\"tbody\") ) :\r\n\t\telem;\r\n}\r\n\r\n// Replace/restore the type attribute of script elements for safe DOM manipulation\r\nfunction disableScript( elem ) {\r\n\telem.type = (elem.getAttribute(\"type\") !== null) + \"/\" + elem.type;\r\n\treturn elem;\r\n}\r\nfunction restoreScript( elem ) {\r\n\tvar match = rscriptTypeMasked.exec( elem.type );\r\n\r\n\tif ( match ) {\r\n\t\telem.type = match[ 1 ];\r\n\t} else {\r\n\t\telem.removeAttribute(\"type\");\r\n\t}\r\n\r\n\treturn elem;\r\n}\r\n\r\n// Mark scripts as having already been evaluated\r\nfunction setGlobalEval( elems, refElements ) {\r\n\tvar i = 0,\r\n\t\tl = elems.length;\r\n\r\n\tfor ( ; i < l; i++ ) {\r\n\t\tdata_priv.set(\r\n\t\t\telems[ i ], \"globalEval\", !refElements || data_priv.get( refElements[ i ], \"globalEval\" )\r\n\t\t);\r\n\t}\r\n}\r\n\r\nfunction cloneCopyEvent( src, dest ) {\r\n\tvar i, l, type, pdataOld, pdataCur, udataOld, udataCur, events;\r\n\r\n\tif ( dest.nodeType !== 1 ) {\r\n\t\treturn;\r\n\t}\r\n\r\n\t// 1. Copy private data: events, handlers, etc.\r\n\tif ( data_priv.hasData( src ) ) {\r\n\t\tpdataOld = data_priv.access( src );\r\n\t\tpdataCur = data_priv.set( dest, pdataOld );\r\n\t\tevents = pdataOld.events;\r\n\r\n\t\tif ( events ) {\r\n\t\t\tdelete pdataCur.handle;\r\n\t\t\tpdataCur.events = {};\r\n\r\n\t\t\tfor ( type in events ) {\r\n\t\t\t\tfor ( i = 0, l = events[ type ].length; i < l; i++ ) {\r\n\t\t\t\t\tjQuery.event.add( dest, type, events[ type ][ i ] );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// 2. Copy user data\r\n\tif ( data_user.hasData( src ) ) {\r\n\t\tudataOld = data_user.access( src );\r\n\t\tudataCur = jQuery.extend( {}, udataOld );\r\n\r\n\t\tdata_user.set( dest, udataCur );\r\n\t}\r\n}\r\n\r\nfunction getAll( context, tag ) {\r\n\tvar ret = context.getElementsByTagName ? context.getElementsByTagName( tag || \"*\" ) :\r\n\t\t\tcontext.querySelectorAll ? context.querySelectorAll( tag || \"*\" ) :\r\n\t\t\t[];\r\n\r\n\treturn tag === undefined || tag && jQuery.nodeName( context, tag ) ?\r\n\t\tjQuery.merge( [ context ], ret ) :\r\n\t\tret;\r\n}\r\n\r\n// Support: IE >= 9\r\nfunction fixInput( src, dest ) {\r\n\tvar nodeName = dest.nodeName.toLowerCase();\r\n\r\n\t// Fails to persist the checked state of a cloned checkbox or radio button.\r\n\tif ( nodeName === \"input\" && rcheckableType.test( src.type ) ) {\r\n\t\tdest.checked = src.checked;\r\n\r\n\t// Fails to return the selected option to the default selected state when cloning options\r\n\t} else if ( nodeName === \"input\" || nodeName === \"textarea\" ) {\r\n\t\tdest.defaultValue = src.defaultValue;\r\n\t}\r\n}\r\n\r\njQuery.extend({\r\n\tclone: function( elem, dataAndEvents, deepDataAndEvents ) {\r\n\t\tvar i, l, srcElements, destElements,\r\n\t\t\tclone = elem.cloneNode( true ),\r\n\t\t\tinPage = jQuery.contains( elem.ownerDocument, elem );\r\n\r\n\t\t// Support: IE >= 9\r\n\t\t// Fix Cloning issues\r\n\t\tif ( !support.noCloneChecked && ( elem.nodeType === 1 || elem.nodeType === 11 ) &&\r\n\t\t\t\t!jQuery.isXMLDoc( elem ) ) {\r\n\r\n\t\t\t// We eschew Sizzle here for performance reasons: http://jsperf.com/getall-vs-sizzle/2\r\n\t\t\tdestElements = getAll( clone );\r\n\t\t\tsrcElements = getAll( elem );\r\n\r\n\t\t\tfor ( i = 0, l = srcElements.length; i < l; i++ ) {\r\n\t\t\t\tfixInput( srcElements[ i ], destElements[ i ] );\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Copy the events from the original to the clone\r\n\t\tif ( dataAndEvents ) {\r\n\t\t\tif ( deepDataAndEvents ) {\r\n\t\t\t\tsrcElements = srcElements || getAll( elem );\r\n\t\t\t\tdestElements = destElements || getAll( clone );\r\n\r\n\t\t\t\tfor ( i = 0, l = srcElements.length; i < l; i++ ) {\r\n\t\t\t\t\tcloneCopyEvent( srcElements[ i ], destElements[ i ] );\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tcloneCopyEvent( elem, clone );\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Preserve script evaluation history\r\n\t\tdestElements = getAll( clone, \"script\" );\r\n\t\tif ( destElements.length > 0 ) {\r\n\t\t\tsetGlobalEval( destElements, !inPage && getAll( elem, \"script\" ) );\r\n\t\t}\r\n\r\n\t\t// Return the cloned set\r\n\t\treturn clone;\r\n\t},\r\n\r\n\tbuildFragment: function( elems, context, scripts, selection ) {\r\n\t\tvar elem, tmp, tag, wrap, contains, j,\r\n\t\t\tfragment = context.createDocumentFragment(),\r\n\t\t\tnodes = [],\r\n\t\t\ti = 0,\r\n\t\t\tl = elems.length;\r\n\r\n\t\tfor ( ; i < l; i++ ) {\r\n\t\t\telem = elems[ i ];\r\n\r\n\t\t\tif ( elem || elem === 0 ) {\r\n\r\n\t\t\t\t// Add nodes directly\r\n\t\t\t\tif ( jQuery.type( elem ) === \"object\" ) {\r\n\t\t\t\t\t// Support: QtWebKit\r\n\t\t\t\t\t// jQuery.merge because push.apply(_, arraylike) throws\r\n\t\t\t\t\tjQuery.merge( nodes, elem.nodeType ? [ elem ] : elem );\r\n\r\n\t\t\t\t// Convert non-html into a text node\r\n\t\t\t\t} else if ( !rhtml.test( elem ) ) {\r\n\t\t\t\t\tnodes.push( context.createTextNode( elem ) );\r\n\r\n\t\t\t\t// Convert html into DOM nodes\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttmp = tmp || fragment.appendChild( context.createElement(\"div\") );\r\n\r\n\t\t\t\t\t// Deserialize a standard representation\r\n\t\t\t\t\ttag = ( rtagName.exec( elem ) || [ \"\", \"\" ] )[ 1 ].toLowerCase();\r\n\t\t\t\t\twrap = wrapMap[ tag ] || wrapMap._default;\r\n\t\t\t\t\ttmp.innerHTML = wrap[ 1 ] + elem.replace( rxhtmlTag, \"<$1></$2>\" ) + wrap[ 2 ];\r\n\r\n\t\t\t\t\t// Descend through wrappers to the right content\r\n\t\t\t\t\tj = wrap[ 0 ];\r\n\t\t\t\t\twhile ( j-- ) {\r\n\t\t\t\t\t\ttmp = tmp.lastChild;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Support: QtWebKit\r\n\t\t\t\t\t// jQuery.merge because push.apply(_, arraylike) throws\r\n\t\t\t\t\tjQuery.merge( nodes, tmp.childNodes );\r\n\r\n\t\t\t\t\t// Remember the top-level container\r\n\t\t\t\t\ttmp = fragment.firstChild;\r\n\r\n\t\t\t\t\t// Fixes #12346\r\n\t\t\t\t\t// Support: Webkit, IE\r\n\t\t\t\t\ttmp.textContent = \"\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Remove wrapper from fragment\r\n\t\tfragment.textContent = \"\";\r\n\r\n\t\ti = 0;\r\n\t\twhile ( (elem = nodes[ i++ ]) ) {\r\n\r\n\t\t\t// #4087 - If origin and destination elements are the same, and this is\r\n\t\t\t// that element, do not do anything\r\n\t\t\tif ( selection && jQuery.inArray( elem, selection ) !== -1 ) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tcontains = jQuery.contains( elem.ownerDocument, elem );\r\n\r\n\t\t\t// Append to fragment\r\n\t\t\ttmp = getAll( fragment.appendChild( elem ), \"script\" );\r\n\r\n\t\t\t// Preserve script evaluation history\r\n\t\t\tif ( contains ) {\r\n\t\t\t\tsetGlobalEval( tmp );\r\n\t\t\t}\r\n\r\n\t\t\t// Capture executables\r\n\t\t\tif ( scripts ) {\r\n\t\t\t\tj = 0;\r\n\t\t\t\twhile ( (elem = tmp[ j++ ]) ) {\r\n\t\t\t\t\tif ( rscriptType.test( elem.type || \"\" ) ) {\r\n\t\t\t\t\t\tscripts.push( elem );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn fragment;\r\n\t},\r\n\r\n\tcleanData: function( elems ) {\r\n\t\tvar data, elem, type, key,\r\n\t\t\tspecial = jQuery.event.special,\r\n\t\t\ti = 0;\r\n\r\n\t\tfor ( ; (elem = elems[ i ]) !== undefined; i++ ) {\r\n\t\t\tif ( jQuery.acceptData( elem ) ) {\r\n\t\t\t\tkey = elem[ data_priv.expando ];\r\n\r\n\t\t\t\tif ( key && (data = data_priv.cache[ key ]) ) {\r\n\t\t\t\t\tif ( data.events ) {\r\n\t\t\t\t\t\tfor ( type in data.events ) {\r\n\t\t\t\t\t\t\tif ( special[ type ] ) {\r\n\t\t\t\t\t\t\t\tjQuery.event.remove( elem, type );\r\n\r\n\t\t\t\t\t\t\t// This is a shortcut to avoid jQuery.event.remove's overhead\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tjQuery.removeEvent( elem, type, data.handle );\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( data_priv.cache[ key ] ) {\r\n\t\t\t\t\t\t// Discard any remaining `private` data\r\n\t\t\t\t\t\tdelete data_priv.cache[ key ];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// Discard any remaining `user` data\r\n\t\t\tdelete data_user.cache[ elem[ data_user.expando ] ];\r\n\t\t}\r\n\t}\r\n});\r\n\r\njQuery.fn.extend({\r\n\ttext: function( value ) {\r\n\t\treturn access( this, function( value ) {\r\n\t\t\treturn value === undefined ?\r\n\t\t\t\tjQuery.text( this ) :\r\n\t\t\t\tthis.empty().each(function() {\r\n\t\t\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\r\n\t\t\t\t\t\tthis.textContent = value;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}, null, value, arguments.length );\r\n\t},\r\n\r\n\tappend: function() {\r\n\t\treturn this.domManip( arguments, function( elem ) {\r\n\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\r\n\t\t\t\tvar target = manipulationTarget( this, elem );\r\n\t\t\t\ttarget.appendChild( elem );\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\r\n\tprepend: function() {\r\n\t\treturn this.domManip( arguments, function( elem ) {\r\n\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\r\n\t\t\t\tvar target = manipulationTarget( this, elem );\r\n\t\t\t\ttarget.insertBefore( elem, target.firstChild );\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\r\n\tbefore: function() {\r\n\t\treturn this.domManip( arguments, function( elem ) {\r\n\t\t\tif ( this.parentNode ) {\r\n\t\t\t\tthis.parentNode.insertBefore( elem, this );\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\r\n\tafter: function() {\r\n\t\treturn this.domManip( arguments, function( elem ) {\r\n\t\t\tif ( this.parentNode ) {\r\n\t\t\t\tthis.parentNode.insertBefore( elem, this.nextSibling );\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\r\n\tremove: function( selector, keepData /* Internal Use Only */ ) {\r\n\t\tvar elem,\r\n\t\t\telems = selector ? jQuery.filter( selector, this ) : this,\r\n\t\t\ti = 0;\r\n\r\n\t\tfor ( ; (elem = elems[i]) != null; i++ ) {\r\n\t\t\tif ( !keepData && elem.nodeType === 1 ) {\r\n\t\t\t\tjQuery.cleanData( getAll( elem ) );\r\n\t\t\t}\r\n\r\n\t\t\tif ( elem.parentNode ) {\r\n\t\t\t\tif ( keepData && jQuery.contains( elem.ownerDocument, elem ) ) {\r\n\t\t\t\t\tsetGlobalEval( getAll( elem, \"script\" ) );\r\n\t\t\t\t}\r\n\t\t\t\telem.parentNode.removeChild( elem );\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\tempty: function() {\r\n\t\tvar elem,\r\n\t\t\ti = 0;\r\n\r\n\t\tfor ( ; (elem = this[i]) != null; i++ ) {\r\n\t\t\tif ( elem.nodeType === 1 ) {\r\n\r\n\t\t\t\t// Prevent memory leaks\r\n\t\t\t\tjQuery.cleanData( getAll( elem, false ) );\r\n\r\n\t\t\t\t// Remove any remaining nodes\r\n\t\t\t\telem.textContent = \"\";\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\tclone: function( dataAndEvents, deepDataAndEvents ) {\r\n\t\tdataAndEvents = dataAndEvents == null ? false : dataAndEvents;\r\n\t\tdeepDataAndEvents = deepDataAndEvents == null ? dataAndEvents : deepDataAndEvents;\r\n\r\n\t\treturn this.map(function() {\r\n\t\t\treturn jQuery.clone( this, dataAndEvents, deepDataAndEvents );\r\n\t\t});\r\n\t},\r\n\r\n\thtml: function( value ) {\r\n\t\treturn access( this, function( value ) {\r\n\t\t\tvar elem = this[ 0 ] || {},\r\n\t\t\t\ti = 0,\r\n\t\t\t\tl = this.length;\r\n\r\n\t\t\tif ( value === undefined && elem.nodeType === 1 ) {\r\n\t\t\t\treturn elem.innerHTML;\r\n\t\t\t}\r\n\r\n\t\t\t// See if we can take a shortcut and just use innerHTML\r\n\t\t\tif ( typeof value === \"string\" && !rnoInnerhtml.test( value ) &&\r\n\t\t\t\t!wrapMap[ ( rtagName.exec( value ) || [ \"\", \"\" ] )[ 1 ].toLowerCase() ] ) {\r\n\r\n\t\t\t\tvalue = value.replace( rxhtmlTag, \"<$1></$2>\" );\r\n\r\n\t\t\t\ttry {\r\n\t\t\t\t\tfor ( ; i < l; i++ ) {\r\n\t\t\t\t\t\telem = this[ i ] || {};\r\n\r\n\t\t\t\t\t\t// Remove element nodes and prevent memory leaks\r\n\t\t\t\t\t\tif ( elem.nodeType === 1 ) {\r\n\t\t\t\t\t\t\tjQuery.cleanData( getAll( elem, false ) );\r\n\t\t\t\t\t\t\telem.innerHTML = value;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\telem = 0;\r\n\r\n\t\t\t\t// If using innerHTML throws an exception, use the fallback method\r\n\t\t\t\t} catch( e ) {}\r\n\t\t\t}\r\n\r\n\t\t\tif ( elem ) {\r\n\t\t\t\tthis.empty().append( value );\r\n\t\t\t}\r\n\t\t}, null, value, arguments.length );\r\n\t},\r\n\r\n\treplaceWith: function() {\r\n\t\tvar arg = arguments[ 0 ];\r\n\r\n\t\t// Make the changes, replacing each context element with the new content\r\n\t\tthis.domManip( arguments, function( elem ) {\r\n\t\t\targ = this.parentNode;\r\n\r\n\t\t\tjQuery.cleanData( getAll( this ) );\r\n\r\n\t\t\tif ( arg ) {\r\n\t\t\t\targ.replaceChild( elem, this );\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t// Force removal if there was no new content (e.g., from empty arguments)\r\n\t\treturn arg && (arg.length || arg.nodeType) ? this : this.remove();\r\n\t},\r\n\r\n\tdetach: function( selector ) {\r\n\t\treturn this.remove( selector, true );\r\n\t},\r\n\r\n\tdomManip: function( args, callback ) {\r\n\r\n\t\t// Flatten any nested arrays\r\n\t\targs = concat.apply( [], args );\r\n\r\n\t\tvar fragment, first, scripts, hasScripts, node, doc,\r\n\t\t\ti = 0,\r\n\t\t\tl = this.length,\r\n\t\t\tset = this,\r\n\t\t\tiNoClone = l - 1,\r\n\t\t\tvalue = args[ 0 ],\r\n\t\t\tisFunction = jQuery.isFunction( value );\r\n\r\n\t\t// We can't cloneNode fragments that contain checked, in WebKit\r\n\t\tif ( isFunction ||\r\n\t\t\t\t( l > 1 && typeof value === \"string\" &&\r\n\t\t\t\t\t!support.checkClone && rchecked.test( value ) ) ) {\r\n\t\t\treturn this.each(function( index ) {\r\n\t\t\t\tvar self = set.eq( index );\r\n\t\t\t\tif ( isFunction ) {\r\n\t\t\t\t\targs[ 0 ] = value.call( this, index, self.html() );\r\n\t\t\t\t}\r\n\t\t\t\tself.domManip( args, callback );\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif ( l ) {\r\n\t\t\tfragment = jQuery.buildFragment( args, this[ 0 ].ownerDocument, false, this );\r\n\t\t\tfirst = fragment.firstChild;\r\n\r\n\t\t\tif ( fragment.childNodes.length === 1 ) {\r\n\t\t\t\tfragment = first;\r\n\t\t\t}\r\n\r\n\t\t\tif ( first ) {\r\n\t\t\t\tscripts = jQuery.map( getAll( fragment, \"script\" ), disableScript );\r\n\t\t\t\thasScripts = scripts.length;\r\n\r\n\t\t\t\t// Use the original fragment for the last item instead of the first because it can end up\r\n\t\t\t\t// being emptied incorrectly in certain situations (#8070).\r\n\t\t\t\tfor ( ; i < l; i++ ) {\r\n\t\t\t\t\tnode = fragment;\r\n\r\n\t\t\t\t\tif ( i !== iNoClone ) {\r\n\t\t\t\t\t\tnode = jQuery.clone( node, true, true );\r\n\r\n\t\t\t\t\t\t// Keep references to cloned scripts for later restoration\r\n\t\t\t\t\t\tif ( hasScripts ) {\r\n\t\t\t\t\t\t\t// Support: QtWebKit\r\n\t\t\t\t\t\t\t// jQuery.merge because push.apply(_, arraylike) throws\r\n\t\t\t\t\t\t\tjQuery.merge( scripts, getAll( node, \"script\" ) );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tcallback.call( this[ i ], node, i );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( hasScripts ) {\r\n\t\t\t\t\tdoc = scripts[ scripts.length - 1 ].ownerDocument;\r\n\r\n\t\t\t\t\t// Reenable scripts\r\n\t\t\t\t\tjQuery.map( scripts, restoreScript );\r\n\r\n\t\t\t\t\t// Evaluate executable scripts on first document insertion\r\n\t\t\t\t\tfor ( i = 0; i < hasScripts; i++ ) {\r\n\t\t\t\t\t\tnode = scripts[ i ];\r\n\t\t\t\t\t\tif ( rscriptType.test( node.type || \"\" ) &&\r\n\t\t\t\t\t\t\t!data_priv.access( node, \"globalEval\" ) && jQuery.contains( doc, node ) ) {\r\n\r\n\t\t\t\t\t\t\tif ( node.src ) {\r\n\t\t\t\t\t\t\t\t// Optional AJAX dependency, but won't run scripts if not present\r\n\t\t\t\t\t\t\t\tif ( jQuery._evalUrl ) {\r\n\t\t\t\t\t\t\t\t\tjQuery._evalUrl( node.src );\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tjQuery.globalEval( node.textContent.replace( rcleanScript, \"\" ) );\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t}\r\n});\r\n\r\njQuery.each({\r\n\tappendTo: \"append\",\r\n\tprependTo: \"prepend\",\r\n\tinsertBefore: \"before\",\r\n\tinsertAfter: \"after\",\r\n\treplaceAll: \"replaceWith\"\r\n}, function( name, original ) {\r\n\tjQuery.fn[ name ] = function( selector ) {\r\n\t\tvar elems,\r\n\t\t\tret = [],\r\n\t\t\tinsert = jQuery( selector ),\r\n\t\t\tlast = insert.length - 1,\r\n\t\t\ti = 0;\r\n\r\n\t\tfor ( ; i <= last; i++ ) {\r\n\t\t\telems = i === last ? this : this.clone( true );\r\n\t\t\tjQuery( insert[ i ] )[ original ]( elems );\r\n\r\n\t\t\t// Support: QtWebKit\r\n\t\t\t// .get() because push.apply(_, arraylike) throws\r\n\t\t\tpush.apply( ret, elems.get() );\r\n\t\t}\r\n\r\n\t\treturn this.pushStack( ret );\r\n\t};\r\n});\r\n\r\n\r\nvar iframe,\r\n\telemdisplay = {};\r\n\r\n/**\r\n * Retrieve the actual display of a element\r\n * @param {String} name nodeName of the element\r\n * @param {Object} doc Document object\r\n */\r\n// Called only from within defaultDisplay\r\nfunction actualDisplay( name, doc ) {\r\n\tvar style,\r\n\t\telem = jQuery( doc.createElement( name ) ).appendTo( doc.body ),\r\n\r\n\t\t// getDefaultComputedStyle might be reliably used only on attached element\r\n\t\tdisplay = window.getDefaultComputedStyle && ( style = window.getDefaultComputedStyle( elem[ 0 ] ) ) ?\r\n\r\n\t\t\t// Use of this method is a temporary fix (more like optmization) until something better comes along,\r\n\t\t\t// since it was removed from specification and supported only in FF\r\n\t\t\tstyle.display : jQuery.css( elem[ 0 ], \"display\" );\r\n\r\n\t// We don't have any data stored on the element,\r\n\t// so use \"detach\" method as fast way to get rid of the element\r\n\telem.detach();\r\n\r\n\treturn display;\r\n}\r\n\r\n/**\r\n * Try to determine the default display value of an element\r\n * @param {String} nodeName\r\n */\r\nfunction defaultDisplay( nodeName ) {\r\n\tvar doc = document,\r\n\t\tdisplay = elemdisplay[ nodeName ];\r\n\r\n\tif ( !display ) {\r\n\t\tdisplay = actualDisplay( nodeName, doc );\r\n\r\n\t\t// If the simple way fails, read from inside an iframe\r\n\t\tif ( display === \"none\" || !display ) {\r\n\r\n\t\t\t// Use the already-created iframe if possible\r\n\t\t\tiframe = (iframe || jQuery( \"<iframe frameborder='0' width='0' height='0'/>\" )).appendTo( doc.documentElement );\r\n\r\n\t\t\t// Always write a new HTML skeleton so Webkit and Firefox don't choke on reuse\r\n\t\t\tdoc = iframe[ 0 ].contentDocument;\r\n\r\n\t\t\t// Support: IE\r\n\t\t\tdoc.write();\r\n\t\t\tdoc.close();\r\n\r\n\t\t\tdisplay = actualDisplay( nodeName, doc );\r\n\t\t\tiframe.detach();\r\n\t\t}\r\n\r\n\t\t// Store the correct default display\r\n\t\telemdisplay[ nodeName ] = display;\r\n\t}\r\n\r\n\treturn display;\r\n}\r\nvar rmargin = (/^margin/);\r\n\r\nvar rnumnonpx = new RegExp( \"^(\" + pnum + \")(?!px)[a-z%]+$\", \"i\" );\r\n\r\nvar getStyles = function( elem ) {\r\n\t\treturn elem.ownerDocument.defaultView.getComputedStyle( elem, null );\r\n\t};\r\n\r\n\r\n\r\nfunction curCSS( elem, name, computed ) {\r\n\tvar width, minWidth, maxWidth, ret,\r\n\t\tstyle = elem.style;\r\n\r\n\tcomputed = computed || getStyles( elem );\r\n\r\n\t// Support: IE9\r\n\t// getPropertyValue is only needed for .css('filter') in IE9, see #12537\r\n\tif ( computed ) {\r\n\t\tret = computed.getPropertyValue( name ) || computed[ name ];\r\n\t}\r\n\r\n\tif ( computed ) {\r\n\r\n\t\tif ( ret === \"\" && !jQuery.contains( elem.ownerDocument, elem ) ) {\r\n\t\t\tret = jQuery.style( elem, name );\r\n\t\t}\r\n\r\n\t\t// Support: iOS < 6\r\n\t\t// A tribute to the \"awesome hack by Dean Edwards\"\r\n\t\t// iOS < 6 (at least) returns percentage for a larger set of values, but width seems to be reliably pixels\r\n\t\t// this is against the CSSOM draft spec: http://dev.w3.org/csswg/cssom/#resolved-values\r\n\t\tif ( rnumnonpx.test( ret ) && rmargin.test( name ) ) {\r\n\r\n\t\t\t// Remember the original values\r\n\t\t\twidth = style.width;\r\n\t\t\tminWidth = style.minWidth;\r\n\t\t\tmaxWidth = style.maxWidth;\r\n\r\n\t\t\t// Put in the new values to get a computed value out\r\n\t\t\tstyle.minWidth = style.maxWidth = style.width = ret;\r\n\t\t\tret = computed.width;\r\n\r\n\t\t\t// Revert the changed values\r\n\t\t\tstyle.width = width;\r\n\t\t\tstyle.minWidth = minWidth;\r\n\t\t\tstyle.maxWidth = maxWidth;\r\n\t\t}\r\n\t}\r\n\r\n\treturn ret !== undefined ?\r\n\t\t// Support: IE\r\n\t\t// IE returns zIndex value as an integer.\r\n\t\tret + \"\" :\r\n\t\tret;\r\n}\r\n\r\n\r\nfunction addGetHookIf( conditionFn, hookFn ) {\r\n\t// Define the hook, we'll check on the first run if it's really needed.\r\n\treturn {\r\n\t\tget: function() {\r\n\t\t\tif ( conditionFn() ) {\r\n\t\t\t\t// Hook not needed (or it's not possible to use it due to missing dependency),\r\n\t\t\t\t// remove it.\r\n\t\t\t\t// Since there are no other hooks for marginRight, remove the whole object.\r\n\t\t\t\tdelete this.get;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// Hook needed; redefine it so that the support test is not executed again.\r\n\r\n\t\t\treturn (this.get = hookFn).apply( this, arguments );\r\n\t\t}\r\n\t};\r\n}\r\n\r\n\r\n(function() {\r\n\tvar pixelPositionVal, boxSizingReliableVal,\r\n\t\tdocElem = document.documentElement,\r\n\t\tcontainer = document.createElement( \"div\" ),\r\n\t\tdiv = document.createElement( \"div\" );\r\n\r\n\tif ( !div.style ) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tdiv.style.backgroundClip = \"content-box\";\r\n\tdiv.cloneNode( true ).style.backgroundClip = \"\";\r\n\tsupport.clearCloneStyle = div.style.backgroundClip === \"content-box\";\r\n\r\n\tcontainer.style.cssText = \"border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;\" +\r\n\t\t\"position:absolute\";\r\n\tcontainer.appendChild( div );\r\n\r\n\t// Executing both pixelPosition & boxSizingReliable tests require only one layout\r\n\t// so they're executed at the same time to save the second computation.\r\n\tfunction computePixelPositionAndBoxSizingReliable() {\r\n\t\tdiv.style.cssText =\r\n\t\t\t// Support: Firefox<29, Android 2.3\r\n\t\t\t// Vendor-prefix box-sizing\r\n\t\t\t\"-webkit-box-sizing:border-box;-moz-box-sizing:border-box;\" +\r\n\t\t\t\"box-sizing:border-box;display:block;margin-top:1%;top:1%;\" +\r\n\t\t\t\"border:1px;padding:1px;width:4px;position:absolute\";\r\n\t\tdiv.innerHTML = \"\";\r\n\t\tdocElem.appendChild( container );\r\n\r\n\t\tvar divStyle = window.getComputedStyle( div, null );\r\n\t\tpixelPositionVal = divStyle.top !== \"1%\";\r\n\t\tboxSizingReliableVal = divStyle.width === \"4px\";\r\n\r\n\t\tdocElem.removeChild( container );\r\n\t}\r\n\r\n\t// Support: node.js jsdom\r\n\t// Don't assume that getComputedStyle is a property of the global object\r\n\tif ( window.getComputedStyle ) {\r\n\t\tjQuery.extend( support, {\r\n\t\t\tpixelPosition: function() {\r\n\t\t\t\t// This test is executed only once but we still do memoizing\r\n\t\t\t\t// since we can use the boxSizingReliable pre-computing.\r\n\t\t\t\t// No need to check if the test was already performed, though.\r\n\t\t\t\tcomputePixelPositionAndBoxSizingReliable();\r\n\t\t\t\treturn pixelPositionVal;\r\n\t\t\t},\r\n\t\t\tboxSizingReliable: function() {\r\n\t\t\t\tif ( boxSizingReliableVal == null ) {\r\n\t\t\t\t\tcomputePixelPositionAndBoxSizingReliable();\r\n\t\t\t\t}\r\n\t\t\t\treturn boxSizingReliableVal;\r\n\t\t\t},\r\n\t\t\treliableMarginRight: function() {\r\n\t\t\t\t// Support: Android 2.3\r\n\t\t\t\t// Check if div with explicit width and no margin-right incorrectly\r\n\t\t\t\t// gets computed margin-right based on width of container. (#3333)\r\n\t\t\t\t// WebKit Bug 13343 - getComputedStyle returns wrong value for margin-right\r\n\t\t\t\t// This support function is only executed once so no memoizing is needed.\r\n\t\t\t\tvar ret,\r\n\t\t\t\t\tmarginDiv = div.appendChild( document.createElement( \"div\" ) );\r\n\r\n\t\t\t\t// Reset CSS: box-sizing; display; margin; border; padding\r\n\t\t\t\tmarginDiv.style.cssText = div.style.cssText =\r\n\t\t\t\t\t// Support: Firefox<29, Android 2.3\r\n\t\t\t\t\t// Vendor-prefix box-sizing\r\n\t\t\t\t\t\"-webkit-box-sizing:content-box;-moz-box-sizing:content-box;\" +\r\n\t\t\t\t\t\"box-sizing:content-box;display:block;margin:0;border:0;padding:0\";\r\n\t\t\t\tmarginDiv.style.marginRight = marginDiv.style.width = \"0\";\r\n\t\t\t\tdiv.style.width = \"1px\";\r\n\t\t\t\tdocElem.appendChild( container );\r\n\r\n\t\t\t\tret = !parseFloat( window.getComputedStyle( marginDiv, null ).marginRight );\r\n\r\n\t\t\t\tdocElem.removeChild( container );\r\n\r\n\t\t\t\treturn ret;\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n})();\r\n\r\n\r\n// A method for quickly swapping in/out CSS properties to get correct calculations.\r\njQuery.swap = function( elem, options, callback, args ) {\r\n\tvar ret, name,\r\n\t\told = {};\r\n\r\n\t// Remember the old values, and insert the new ones\r\n\tfor ( name in options ) {\r\n\t\told[ name ] = elem.style[ name ];\r\n\t\telem.style[ name ] = options[ name ];\r\n\t}\r\n\r\n\tret = callback.apply( elem, args || [] );\r\n\r\n\t// Revert the old values\r\n\tfor ( name in options ) {\r\n\t\telem.style[ name ] = old[ name ];\r\n\t}\r\n\r\n\treturn ret;\r\n};\r\n\r\n\r\nvar\r\n\t// swappable if display is none or starts with table except \"table\", \"table-cell\", or \"table-caption\"\r\n\t// see here for display values: https://developer.mozilla.org/en-US/docs/CSS/display\r\n\trdisplayswap = /^(none|table(?!-c[ea]).+)/,\r\n\trnumsplit = new RegExp( \"^(\" + pnum + \")(.*)$\", \"i\" ),\r\n\trrelNum = new RegExp( \"^([+-])=(\" + pnum + \")\", \"i\" ),\r\n\r\n\tcssShow = { position: \"absolute\", visibility: \"hidden\", display: \"block\" },\r\n\tcssNormalTransform = {\r\n\t\tletterSpacing: \"0\",\r\n\t\tfontWeight: \"400\"\r\n\t},\r\n\r\n\tcssPrefixes = [ \"Webkit\", \"O\", \"Moz\", \"ms\" ];\r\n\r\n// return a css property mapped to a potentially vendor prefixed property\r\nfunction vendorPropName( style, name ) {\r\n\r\n\t// shortcut for names that are not vendor prefixed\r\n\tif ( name in style ) {\r\n\t\treturn name;\r\n\t}\r\n\r\n\t// check for vendor prefixed names\r\n\tvar capName = name[0].toUpperCase() + name.slice(1),\r\n\t\torigName = name,\r\n\t\ti = cssPrefixes.length;\r\n\r\n\twhile ( i-- ) {\r\n\t\tname = cssPrefixes[ i ] + capName;\r\n\t\tif ( name in style ) {\r\n\t\t\treturn name;\r\n\t\t}\r\n\t}\r\n\r\n\treturn origName;\r\n}\r\n\r\nfunction setPositiveNumber( elem, value, subtract ) {\r\n\tvar matches = rnumsplit.exec( value );\r\n\treturn matches ?\r\n\t\t// Guard against undefined \"subtract\", e.g., when used as in cssHooks\r\n\t\tMath.max( 0, matches[ 1 ] - ( subtract || 0 ) ) + ( matches[ 2 ] || \"px\" ) :\r\n\t\tvalue;\r\n}\r\n\r\nfunction augmentWidthOrHeight( elem, name, extra, isBorderBox, styles ) {\r\n\tvar i = extra === ( isBorderBox ? \"border\" : \"content\" ) ?\r\n\t\t// If we already have the right measurement, avoid augmentation\r\n\t\t4 :\r\n\t\t// Otherwise initialize for horizontal or vertical properties\r\n\t\tname === \"width\" ? 1 : 0,\r\n\r\n\t\tval = 0;\r\n\r\n\tfor ( ; i < 4; i += 2 ) {\r\n\t\t// both box models exclude margin, so add it if we want it\r\n\t\tif ( extra === \"margin\" ) {\r\n\t\t\tval += jQuery.css( elem, extra + cssExpand[ i ], true, styles );\r\n\t\t}\r\n\r\n\t\tif ( isBorderBox ) {\r\n\t\t\t// border-box includes padding, so remove it if we want content\r\n\t\t\tif ( extra === \"content\" ) {\r\n\t\t\t\tval -= jQuery.css( elem, \"padding\" + cssExpand[ i ], true, styles );\r\n\t\t\t}\r\n\r\n\t\t\t// at this point, extra isn't border nor margin, so remove border\r\n\t\t\tif ( extra !== \"margin\" ) {\r\n\t\t\t\tval -= jQuery.css( elem, \"border\" + cssExpand[ i ] + \"Width\", true, styles );\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t// at this point, extra isn't content, so add padding\r\n\t\t\tval += jQuery.css( elem, \"padding\" + cssExpand[ i ], true, styles );\r\n\r\n\t\t\t// at this point, extra isn't content nor padding, so add border\r\n\t\t\tif ( extra !== \"padding\" ) {\r\n\t\t\t\tval += jQuery.css( elem, \"border\" + cssExpand[ i ] + \"Width\", true, styles );\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn val;\r\n}\r\n\r\nfunction getWidthOrHeight( elem, name, extra ) {\r\n\r\n\t// Start with offset property, which is equivalent to the border-box value\r\n\tvar valueIsBorderBox = true,\r\n\t\tval = name === \"width\" ? elem.offsetWidth : elem.offsetHeight,\r\n\t\tstyles = getStyles( elem ),\r\n\t\tisBorderBox = jQuery.css( elem, \"boxSizing\", false, styles ) === \"border-box\";\r\n\r\n\t// some non-html elements return undefined for offsetWidth, so check for null/undefined\r\n\t// svg - https://bugzilla.mozilla.org/show_bug.cgi?id=649285\r\n\t// MathML - https://bugzilla.mozilla.org/show_bug.cgi?id=491668\r\n\tif ( val <= 0 || val == null ) {\r\n\t\t// Fall back to computed then uncomputed css if necessary\r\n\t\tval = curCSS( elem, name, styles );\r\n\t\tif ( val < 0 || val == null ) {\r\n\t\t\tval = elem.style[ name ];\r\n\t\t}\r\n\r\n\t\t// Computed unit is not pixels. Stop here and return.\r\n\t\tif ( rnumnonpx.test(val) ) {\r\n\t\t\treturn val;\r\n\t\t}\r\n\r\n\t\t// we need the check for style in case a browser which returns unreliable values\r\n\t\t// for getComputedStyle silently falls back to the reliable elem.style\r\n\t\tvalueIsBorderBox = isBorderBox &&\r\n\t\t\t( support.boxSizingReliable() || val === elem.style[ name ] );\r\n\r\n\t\t// Normalize \"\", auto, and prepare for extra\r\n\t\tval = parseFloat( val ) || 0;\r\n\t}\r\n\r\n\t// use the active box-sizing model to add/subtract irrelevant styles\r\n\treturn ( val +\r\n\t\taugmentWidthOrHeight(\r\n\t\t\telem,\r\n\t\t\tname,\r\n\t\t\textra || ( isBorderBox ? \"border\" : \"content\" ),\r\n\t\t\tvalueIsBorderBox,\r\n\t\t\tstyles\r\n\t\t)\r\n\t) + \"px\";\r\n}\r\n\r\nfunction showHide( elements, show ) {\r\n\tvar display, elem, hidden,\r\n\t\tvalues = [],\r\n\t\tindex = 0,\r\n\t\tlength = elements.length;\r\n\r\n\tfor ( ; index < length; index++ ) {\r\n\t\telem = elements[ index ];\r\n\t\tif ( !elem.style ) {\r\n\t\t\tcontinue;\r\n\t\t}\r\n\r\n\t\tvalues[ index ] = data_priv.get( elem, \"olddisplay\" );\r\n\t\tdisplay = elem.style.display;\r\n\t\tif ( show ) {\r\n\t\t\t// Reset the inline display of this element to learn if it is\r\n\t\t\t// being hidden by cascaded rules or not\r\n\t\t\tif ( !values[ index ] && display === \"none\" ) {\r\n\t\t\t\telem.style.display = \"\";\r\n\t\t\t}\r\n\r\n\t\t\t// Set elements which have been overridden with display: none\r\n\t\t\t// in a stylesheet to whatever the default browser style is\r\n\t\t\t// for such an element\r\n\t\t\tif ( elem.style.display === \"\" && isHidden( elem ) ) {\r\n\t\t\t\tvalues[ index ] = data_priv.access( elem, \"olddisplay\", defaultDisplay(elem.nodeName) );\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\thidden = isHidden( elem );\r\n\r\n\t\t\tif ( display !== \"none\" || !hidden ) {\r\n\t\t\t\tdata_priv.set( elem, \"olddisplay\", hidden ? display : jQuery.css( elem, \"display\" ) );\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// Set the display of most of the elements in a second loop\r\n\t// to avoid the constant reflow\r\n\tfor ( index = 0; index < length; index++ ) {\r\n\t\telem = elements[ index ];\r\n\t\tif ( !elem.style ) {\r\n\t\t\tcontinue;\r\n\t\t}\r\n\t\tif ( !show || elem.style.display === \"none\" || elem.style.display === \"\" ) {\r\n\t\t\telem.style.display = show ? values[ index ] || \"\" : \"none\";\r\n\t\t}\r\n\t}\r\n\r\n\treturn elements;\r\n}\r\n\r\njQuery.extend({\r\n\t// Add in style property hooks for overriding the default\r\n\t// behavior of getting and setting a style property\r\n\tcssHooks: {\r\n\t\topacity: {\r\n\t\t\tget: function( elem, computed ) {\r\n\t\t\t\tif ( computed ) {\r\n\t\t\t\t\t// We should always get a number back from opacity\r\n\t\t\t\t\tvar ret = curCSS( elem, \"opacity\" );\r\n\t\t\t\t\treturn ret === \"\" ? \"1\" : ret;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t// Don't automatically add \"px\" to these possibly-unitless properties\r\n\tcssNumber: {\r\n\t\t\"columnCount\": true,\r\n\t\t\"fillOpacity\": true,\r\n\t\t\"flexGrow\": true,\r\n\t\t\"flexShrink\": true,\r\n\t\t\"fontWeight\": true,\r\n\t\t\"lineHeight\": true,\r\n\t\t\"opacity\": true,\r\n\t\t\"order\": true,\r\n\t\t\"orphans\": true,\r\n\t\t\"widows\": true,\r\n\t\t\"zIndex\": true,\r\n\t\t\"zoom\": true\r\n\t},\r\n\r\n\t// Add in properties whose names you wish to fix before\r\n\t// setting or getting the value\r\n\tcssProps: {\r\n\t\t// normalize float css property\r\n\t\t\"float\": \"cssFloat\"\r\n\t},\r\n\r\n\t// Get and set the style property on a DOM Node\r\n\tstyle: function( elem, name, value, extra ) {\r\n\t\t// Don't set styles on text and comment nodes\r\n\t\tif ( !elem || elem.nodeType === 3 || elem.nodeType === 8 || !elem.style ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Make sure that we're working with the right name\r\n\t\tvar ret, type, hooks,\r\n\t\t\torigName = jQuery.camelCase( name ),\r\n\t\t\tstyle = elem.style;\r\n\r\n\t\tname = jQuery.cssProps[ origName ] || ( jQuery.cssProps[ origName ] = vendorPropName( style, origName ) );\r\n\r\n\t\t// gets hook for the prefixed version\r\n\t\t// followed by the unprefixed version\r\n\t\thooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];\r\n\r\n\t\t// Check if we're setting a value\r\n\t\tif ( value !== undefined ) {\r\n\t\t\ttype = typeof value;\r\n\r\n\t\t\t// convert relative number strings (+= or -=) to relative numbers. #7345\r\n\t\t\tif ( type === \"string\" && (ret = rrelNum.exec( value )) ) {\r\n\t\t\t\tvalue = ( ret[1] + 1 ) * ret[2] + parseFloat( jQuery.css( elem, name ) );\r\n\t\t\t\t// Fixes bug #9237\r\n\t\t\t\ttype = \"number\";\r\n\t\t\t}\r\n\r\n\t\t\t// Make sure that null and NaN values aren't set. See: #7116\r\n\t\t\tif ( value == null || value !== value ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// If a number was passed in, add 'px' to the (except for certain CSS properties)\r\n\t\t\tif ( type === \"number\" && !jQuery.cssNumber[ origName ] ) {\r\n\t\t\t\tvalue += \"px\";\r\n\t\t\t}\r\n\r\n\t\t\t// Fixes #8908, it can be done more correctly by specifying setters in cssHooks,\r\n\t\t\t// but it would mean to define eight (for every problematic property) identical functions\r\n\t\t\tif ( !support.clearCloneStyle && value === \"\" && name.indexOf( \"background\" ) === 0 ) {\r\n\t\t\t\tstyle[ name ] = \"inherit\";\r\n\t\t\t}\r\n\r\n\t\t\t// If a hook was provided, use that value, otherwise just set the specified value\r\n\t\t\tif ( !hooks || !(\"set\" in hooks) || (value = hooks.set( elem, value, extra )) !== undefined ) {\r\n\t\t\t\tstyle[ name ] = value;\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\t\t\t// If a hook was provided get the non-computed value from there\r\n\t\t\tif ( hooks && \"get\" in hooks && (ret = hooks.get( elem, false, extra )) !== undefined ) {\r\n\t\t\t\treturn ret;\r\n\t\t\t}\r\n\r\n\t\t\t// Otherwise just get the value from the style object\r\n\t\t\treturn style[ name ];\r\n\t\t}\r\n\t},\r\n\r\n\tcss: function( elem, name, extra, styles ) {\r\n\t\tvar val, num, hooks,\r\n\t\t\torigName = jQuery.camelCase( name );\r\n\r\n\t\t// Make sure that we're working with the right name\r\n\t\tname = jQuery.cssProps[ origName ] || ( jQuery.cssProps[ origName ] = vendorPropName( elem.style, origName ) );\r\n\r\n\t\t// gets hook for the prefixed version\r\n\t\t// followed by the unprefixed version\r\n\t\thooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];\r\n\r\n\t\t// If a hook was provided get the computed value from there\r\n\t\tif ( hooks && \"get\" in hooks ) {\r\n\t\t\tval = hooks.get( elem, true, extra );\r\n\t\t}\r\n\r\n\t\t// Otherwise, if a way to get the computed value exists, use that\r\n\t\tif ( val === undefined ) {\r\n\t\t\tval = curCSS( elem, name, styles );\r\n\t\t}\r\n\r\n\t\t//convert \"normal\" to computed value\r\n\t\tif ( val === \"normal\" && name in cssNormalTransform ) {\r\n\t\t\tval = cssNormalTransform[ name ];\r\n\t\t}\r\n\r\n\t\t// Return, converting to number if forced or a qualifier was provided and val looks numeric\r\n\t\tif ( extra === \"\" || extra ) {\r\n\t\t\tnum = parseFloat( val );\r\n\t\t\treturn extra === true || jQuery.isNumeric( num ) ? num || 0 : val;\r\n\t\t}\r\n\t\treturn val;\r\n\t}\r\n});\r\n\r\njQuery.each([ \"height\", \"width\" ], function( i, name ) {\r\n\tjQuery.cssHooks[ name ] = {\r\n\t\tget: function( elem, computed, extra ) {\r\n\t\t\tif ( computed ) {\r\n\t\t\t\t// certain elements can have dimension info if we invisibly show them\r\n\t\t\t\t// however, it must have a current display style that would benefit from this\r\n\t\t\t\treturn rdisplayswap.test( jQuery.css( elem, \"display\" ) ) && elem.offsetWidth === 0 ?\r\n\t\t\t\t\tjQuery.swap( elem, cssShow, function() {\r\n\t\t\t\t\t\treturn getWidthOrHeight( elem, name, extra );\r\n\t\t\t\t\t}) :\r\n\t\t\t\t\tgetWidthOrHeight( elem, name, extra );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tset: function( elem, value, extra ) {\r\n\t\t\tvar styles = extra && getStyles( elem );\r\n\t\t\treturn setPositiveNumber( elem, value, extra ?\r\n\t\t\t\taugmentWidthOrHeight(\r\n\t\t\t\t\telem,\r\n\t\t\t\t\tname,\r\n\t\t\t\t\textra,\r\n\t\t\t\t\tjQuery.css( elem, \"boxSizing\", false, styles ) === \"border-box\",\r\n\t\t\t\t\tstyles\r\n\t\t\t\t) : 0\r\n\t\t\t);\r\n\t\t}\r\n\t};\r\n});\r\n\r\n// Support: Android 2.3\r\njQuery.cssHooks.marginRight = addGetHookIf( support.reliableMarginRight,\r\n\tfunction( elem, computed ) {\r\n\t\tif ( computed ) {\r\n\t\t\t// WebKit Bug 13343 - getComputedStyle returns wrong value for margin-right\r\n\t\t\t// Work around by temporarily setting element display to inline-block\r\n\t\t\treturn jQuery.swap( elem, { \"display\": \"inline-block\" },\r\n\t\t\t\tcurCSS, [ elem, \"marginRight\" ] );\r\n\t\t}\r\n\t}\r\n);\r\n\r\n// These hooks are used by animate to expand properties\r\njQuery.each({\r\n\tmargin: \"\",\r\n\tpadding: \"\",\r\n\tborder: \"Width\"\r\n}, function( prefix, suffix ) {\r\n\tjQuery.cssHooks[ prefix + suffix ] = {\r\n\t\texpand: function( value ) {\r\n\t\t\tvar i = 0,\r\n\t\t\t\texpanded = {},\r\n\r\n\t\t\t\t// assumes a single number if not a string\r\n\t\t\t\tparts = typeof value === \"string\" ? value.split(\" \") : [ value ];\r\n\r\n\t\t\tfor ( ; i < 4; i++ ) {\r\n\t\t\t\texpanded[ prefix + cssExpand[ i ] + suffix ] =\r\n\t\t\t\t\tparts[ i ] || parts[ i - 2 ] || parts[ 0 ];\r\n\t\t\t}\r\n\r\n\t\t\treturn expanded;\r\n\t\t}\r\n\t};\r\n\r\n\tif ( !rmargin.test( prefix ) ) {\r\n\t\tjQuery.cssHooks[ prefix + suffix ].set = setPositiveNumber;\r\n\t}\r\n});\r\n\r\njQuery.fn.extend({\r\n\tcss: function( name, value ) {\r\n\t\treturn access( this, function( elem, name, value ) {\r\n\t\t\tvar styles, len,\r\n\t\t\t\tmap = {},\r\n\t\t\t\ti = 0;\r\n\r\n\t\t\tif ( jQuery.isArray( name ) ) {\r\n\t\t\t\tstyles = getStyles( elem );\r\n\t\t\t\tlen = name.length;\r\n\r\n\t\t\t\tfor ( ; i < len; i++ ) {\r\n\t\t\t\t\tmap[ name[ i ] ] = jQuery.css( elem, name[ i ], false, styles );\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn map;\r\n\t\t\t}\r\n\r\n\t\t\treturn value !== undefined ?\r\n\t\t\t\tjQuery.style( elem, name, value ) :\r\n\t\t\t\tjQuery.css( elem, name );\r\n\t\t}, name, value, arguments.length > 1 );\r\n\t},\r\n\tshow: function() {\r\n\t\treturn showHide( this, true );\r\n\t},\r\n\thide: function() {\r\n\t\treturn showHide( this );\r\n\t},\r\n\ttoggle: function( state ) {\r\n\t\tif ( typeof state === \"boolean\" ) {\r\n\t\t\treturn state ? this.show() : this.hide();\r\n\t\t}\r\n\r\n\t\treturn this.each(function() {\r\n\t\t\tif ( isHidden( this ) ) {\r\n\t\t\t\tjQuery( this ).show();\r\n\t\t\t} else {\r\n\t\t\t\tjQuery( this ).hide();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n});\r\n\r\n\r\nfunction Tween( elem, options, prop, end, easing ) {\r\n\treturn new Tween.prototype.init( elem, options, prop, end, easing );\r\n}\r\njQuery.Tween = Tween;\r\n\r\nTween.prototype = {\r\n\tconstructor: Tween,\r\n\tinit: function( elem, options, prop, end, easing, unit ) {\r\n\t\tthis.elem = elem;\r\n\t\tthis.prop = prop;\r\n\t\tthis.easing = easing || \"swing\";\r\n\t\tthis.options = options;\r\n\t\tthis.start = this.now = this.cur();\r\n\t\tthis.end = end;\r\n\t\tthis.unit = unit || ( jQuery.cssNumber[ prop ] ? \"\" : \"px\" );\r\n\t},\r\n\tcur: function() {\r\n\t\tvar hooks = Tween.propHooks[ this.prop ];\r\n\r\n\t\treturn hooks && hooks.get ?\r\n\t\t\thooks.get( this ) :\r\n\t\t\tTween.propHooks._default.get( this );\r\n\t},\r\n\trun: function( percent ) {\r\n\t\tvar eased,\r\n\t\t\thooks = Tween.propHooks[ this.prop ];\r\n\r\n\t\tif ( this.options.duration ) {\r\n\t\t\tthis.pos = eased = jQuery.easing[ this.easing ](\r\n\t\t\t\tpercent, this.options.duration * percent, 0, 1, this.options.duration\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tthis.pos = eased = percent;\r\n\t\t}\r\n\t\tthis.now = ( this.end - this.start ) * eased + this.start;\r\n\r\n\t\tif ( this.options.step ) {\r\n\t\t\tthis.options.step.call( this.elem, this.now, this );\r\n\t\t}\r\n\r\n\t\tif ( hooks && hooks.set ) {\r\n\t\t\thooks.set( this );\r\n\t\t} else {\r\n\t\t\tTween.propHooks._default.set( this );\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n};\r\n\r\nTween.prototype.init.prototype = Tween.prototype;\r\n\r\nTween.propHooks = {\r\n\t_default: {\r\n\t\tget: function( tween ) {\r\n\t\t\tvar result;\r\n\r\n\t\t\tif ( tween.elem[ tween.prop ] != null &&\r\n\t\t\t\t(!tween.elem.style || tween.elem.style[ tween.prop ] == null) ) {\r\n\t\t\t\treturn tween.elem[ tween.prop ];\r\n\t\t\t}\r\n\r\n\t\t\t// passing an empty string as a 3rd parameter to .css will automatically\r\n\t\t\t// attempt a parseFloat and fallback to a string if the parse fails\r\n\t\t\t// so, simple values such as \"10px\" are parsed to Float.\r\n\t\t\t// complex values such as \"rotate(1rad)\" are returned as is.\r\n\t\t\tresult = jQuery.css( tween.elem, tween.prop, \"\" );\r\n\t\t\t// Empty strings, null, undefined and \"auto\" are converted to 0.\r\n\t\t\treturn !result || result === \"auto\" ? 0 : result;\r\n\t\t},\r\n\t\tset: function( tween ) {\r\n\t\t\t// use step hook for back compat - use cssHook if its there - use .style if its\r\n\t\t\t// available and use plain properties where available\r\n\t\t\tif ( jQuery.fx.step[ tween.prop ] ) {\r\n\t\t\t\tjQuery.fx.step[ tween.prop ]( tween );\r\n\t\t\t} else if ( tween.elem.style && ( tween.elem.style[ jQuery.cssProps[ tween.prop ] ] != null || jQuery.cssHooks[ tween.prop ] ) ) {\r\n\t\t\t\tjQuery.style( tween.elem, tween.prop, tween.now + tween.unit );\r\n\t\t\t} else {\r\n\t\t\t\ttween.elem[ tween.prop ] = tween.now;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n\r\n// Support: IE9\r\n// Panic based approach to setting things on disconnected nodes\r\n\r\nTween.propHooks.scrollTop = Tween.propHooks.scrollLeft = {\r\n\tset: function( tween ) {\r\n\t\tif ( tween.elem.nodeType && tween.elem.parentNode ) {\r\n\t\t\ttween.elem[ tween.prop ] = tween.now;\r\n\t\t}\r\n\t}\r\n};\r\n\r\njQuery.easing = {\r\n\tlinear: function( p ) {\r\n\t\treturn p;\r\n\t},\r\n\tswing: function( p ) {\r\n\t\treturn 0.5 - Math.cos( p * Math.PI ) / 2;\r\n\t}\r\n};\r\n\r\njQuery.fx = Tween.prototype.init;\r\n\r\n// Back Compat <1.8 extension point\r\njQuery.fx.step = {};\r\n\r\n\r\n\r\n\r\nvar\r\n\tfxNow, timerId,\r\n\trfxtypes = /^(?:toggle|show|hide)$/,\r\n\trfxnum = new RegExp( \"^(?:([+-])=|)(\" + pnum + \")([a-z%]*)$\", \"i\" ),\r\n\trrun = /queueHooks$/,\r\n\tanimationPrefilters = [ defaultPrefilter ],\r\n\ttweeners = {\r\n\t\t\"*\": [ function( prop, value ) {\r\n\t\t\tvar tween = this.createTween( prop, value ),\r\n\t\t\t\ttarget = tween.cur(),\r\n\t\t\t\tparts = rfxnum.exec( value ),\r\n\t\t\t\tunit = parts && parts[ 3 ] || ( jQuery.cssNumber[ prop ] ? \"\" : \"px\" ),\r\n\r\n\t\t\t\t// Starting value computation is required for potential unit mismatches\r\n\t\t\t\tstart = ( jQuery.cssNumber[ prop ] || unit !== \"px\" && +target ) &&\r\n\t\t\t\t\trfxnum.exec( jQuery.css( tween.elem, prop ) ),\r\n\t\t\t\tscale = 1,\r\n\t\t\t\tmaxIterations = 20;\r\n\r\n\t\t\tif ( start && start[ 3 ] !== unit ) {\r\n\t\t\t\t// Trust units reported by jQuery.css\r\n\t\t\t\tunit = unit || start[ 3 ];\r\n\r\n\t\t\t\t// Make sure we update the tween properties later on\r\n\t\t\t\tparts = parts || [];\r\n\r\n\t\t\t\t// Iteratively approximate from a nonzero starting point\r\n\t\t\t\tstart = +target || 1;\r\n\r\n\t\t\t\tdo {\r\n\t\t\t\t\t// If previous iteration zeroed out, double until we get *something*\r\n\t\t\t\t\t// Use a string for doubling factor so we don't accidentally see scale as unchanged below\r\n\t\t\t\t\tscale = scale || \".5\";\r\n\r\n\t\t\t\t\t// Adjust and apply\r\n\t\t\t\t\tstart = start / scale;\r\n\t\t\t\t\tjQuery.style( tween.elem, prop, start + unit );\r\n\r\n\t\t\t\t// Update scale, tolerating zero or NaN from tween.cur()\r\n\t\t\t\t// And breaking the loop if scale is unchanged or perfect, or if we've just had enough\r\n\t\t\t\t} while ( scale !== (scale = tween.cur() / target) && scale !== 1 && --maxIterations );\r\n\t\t\t}\r\n\r\n\t\t\t// Update tween properties\r\n\t\t\tif ( parts ) {\r\n\t\t\t\tstart = tween.start = +start || +target || 0;\r\n\t\t\t\ttween.unit = unit;\r\n\t\t\t\t// If a +=/-= token was provided, we're doing a relative animation\r\n\t\t\t\ttween.end = parts[ 1 ] ?\r\n\t\t\t\t\tstart + ( parts[ 1 ] + 1 ) * parts[ 2 ] :\r\n\t\t\t\t\t+parts[ 2 ];\r\n\t\t\t}\r\n\r\n\t\t\treturn tween;\r\n\t\t} ]\r\n\t};\r\n\r\n// Animations created synchronously will run synchronously\r\nfunction createFxNow() {\r\n\tsetTimeout(function() {\r\n\t\tfxNow = undefined;\r\n\t});\r\n\treturn ( fxNow = jQuery.now() );\r\n}\r\n\r\n// Generate parameters to create a standard animation\r\nfunction genFx( type, includeWidth ) {\r\n\tvar which,\r\n\t\ti = 0,\r\n\t\tattrs = { height: type };\r\n\r\n\t// if we include width, step value is 1 to do all cssExpand values,\r\n\t// if we don't include width, step value is 2 to skip over Left and Right\r\n\tincludeWidth = includeWidth ? 1 : 0;\r\n\tfor ( ; i < 4 ; i += 2 - includeWidth ) {\r\n\t\twhich = cssExpand[ i ];\r\n\t\tattrs[ \"margin\" + which ] = attrs[ \"padding\" + which ] = type;\r\n\t}\r\n\r\n\tif ( includeWidth ) {\r\n\t\tattrs.opacity = attrs.width = type;\r\n\t}\r\n\r\n\treturn attrs;\r\n}\r\n\r\nfunction createTween( value, prop, animation ) {\r\n\tvar tween,\r\n\t\tcollection = ( tweeners[ prop ] || [] ).concat( tweeners[ \"*\" ] ),\r\n\t\tindex = 0,\r\n\t\tlength = collection.length;\r\n\tfor ( ; index < length; index++ ) {\r\n\t\tif ( (tween = collection[ index ].call( animation, prop, value )) ) {\r\n\r\n\t\t\t// we're done with this property\r\n\t\t\treturn tween;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction defaultPrefilter( elem, props, opts ) {\r\n\t/* jshint validthis: true */\r\n\tvar prop, value, toggle, tween, hooks, oldfire, display, checkDisplay,\r\n\t\tanim = this,\r\n\t\torig = {},\r\n\t\tstyle = elem.style,\r\n\t\thidden = elem.nodeType && isHidden( elem ),\r\n\t\tdataShow = data_priv.get( elem, \"fxshow\" );\r\n\r\n\t// handle queue: false promises\r\n\tif ( !opts.queue ) {\r\n\t\thooks = jQuery._queueHooks( elem, \"fx\" );\r\n\t\tif ( hooks.unqueued == null ) {\r\n\t\t\thooks.unqueued = 0;\r\n\t\t\toldfire = hooks.empty.fire;\r\n\t\t\thooks.empty.fire = function() {\r\n\t\t\t\tif ( !hooks.unqueued ) {\r\n\t\t\t\t\toldfire();\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t}\r\n\t\thooks.unqueued++;\r\n\r\n\t\tanim.always(function() {\r\n\t\t\t// doing this makes sure that the complete handler will be called\r\n\t\t\t// before this completes\r\n\t\t\tanim.always(function() {\r\n\t\t\t\thooks.unqueued--;\r\n\t\t\t\tif ( !jQuery.queue( elem, \"fx\" ).length ) {\r\n\t\t\t\t\thooks.empty.fire();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\t// height/width overflow pass\r\n\tif ( elem.nodeType === 1 && ( \"height\" in props || \"width\" in props ) ) {\r\n\t\t// Make sure that nothing sneaks out\r\n\t\t// Record all 3 overflow attributes because IE9-10 do not\r\n\t\t// change the overflow attribute when overflowX and\r\n\t\t// overflowY are set to the same value\r\n\t\topts.overflow = [ style.overflow, style.overflowX, style.overflowY ];\r\n\r\n\t\t// Set display property to inline-block for height/width\r\n\t\t// animations on inline elements that are having width/height animated\r\n\t\tdisplay = jQuery.css( elem, \"display\" );\r\n\r\n\t\t// Test default display if display is currently \"none\"\r\n\t\tcheckDisplay = display === \"none\" ?\r\n\t\t\tdata_priv.get( elem, \"olddisplay\" ) || defaultDisplay( elem.nodeName ) : display;\r\n\r\n\t\tif ( checkDisplay === \"inline\" && jQuery.css( elem, \"float\" ) === \"none\" ) {\r\n\t\t\tstyle.display = \"inline-block\";\r\n\t\t}\r\n\t}\r\n\r\n\tif ( opts.overflow ) {\r\n\t\tstyle.overflow = \"hidden\";\r\n\t\tanim.always(function() {\r\n\t\t\tstyle.overflow = opts.overflow[ 0 ];\r\n\t\t\tstyle.overflowX = opts.overflow[ 1 ];\r\n\t\t\tstyle.overflowY = opts.overflow[ 2 ];\r\n\t\t});\r\n\t}\r\n\r\n\t// show/hide pass\r\n\tfor ( prop in props ) {\r\n\t\tvalue = props[ prop ];\r\n\t\tif ( rfxtypes.exec( value ) ) {\r\n\t\t\tdelete props[ prop ];\r\n\t\t\ttoggle = toggle || value === \"toggle\";\r\n\t\t\tif ( value === ( hidden ? \"hide\" : \"show\" ) ) {\r\n\r\n\t\t\t\t// If there is dataShow left over from a stopped hide or show and we are going to proceed with show, we should pretend to be hidden\r\n\t\t\t\tif ( value === \"show\" && dataShow && dataShow[ prop ] !== undefined ) {\r\n\t\t\t\t\thidden = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\torig[ prop ] = dataShow && dataShow[ prop ] || jQuery.style( elem, prop );\r\n\r\n\t\t// Any non-fx value stops us from restoring the original display value\r\n\t\t} else {\r\n\t\t\tdisplay = undefined;\r\n\t\t}\r\n\t}\r\n\r\n\tif ( !jQuery.isEmptyObject( orig ) ) {\r\n\t\tif ( dataShow ) {\r\n\t\t\tif ( \"hidden\" in dataShow ) {\r\n\t\t\t\thidden = dataShow.hidden;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tdataShow = data_priv.access( elem, \"fxshow\", {} );\r\n\t\t}\r\n\r\n\t\t// store state if its toggle - enables .stop().toggle() to \"reverse\"\r\n\t\tif ( toggle ) {\r\n\t\t\tdataShow.hidden = !hidden;\r\n\t\t}\r\n\t\tif ( hidden ) {\r\n\t\t\tjQuery( elem ).show();\r\n\t\t} else {\r\n\t\t\tanim.done(function() {\r\n\t\t\t\tjQuery( elem ).hide();\r\n\t\t\t});\r\n\t\t}\r\n\t\tanim.done(function() {\r\n\t\t\tvar prop;\r\n\r\n\t\t\tdata_priv.remove( elem, \"fxshow\" );\r\n\t\t\tfor ( prop in orig ) {\r\n\t\t\t\tjQuery.style( elem, prop, orig[ prop ] );\r\n\t\t\t}\r\n\t\t});\r\n\t\tfor ( prop in orig ) {\r\n\t\t\ttween = createTween( hidden ? dataShow[ prop ] : 0, prop, anim );\r\n\r\n\t\t\tif ( !( prop in dataShow ) ) {\r\n\t\t\t\tdataShow[ prop ] = tween.start;\r\n\t\t\t\tif ( hidden ) {\r\n\t\t\t\t\ttween.end = tween.start;\r\n\t\t\t\t\ttween.start = prop === \"width\" || prop === \"height\" ? 1 : 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t// If this is a noop like .hide().hide(), restore an overwritten display value\r\n\t} else if ( (display === \"none\" ? defaultDisplay( elem.nodeName ) : display) === \"inline\" ) {\r\n\t\tstyle.display = display;\r\n\t}\r\n}\r\n\r\nfunction propFilter( props, specialEasing ) {\r\n\tvar index, name, easing, value, hooks;\r\n\r\n\t// camelCase, specialEasing and expand cssHook pass\r\n\tfor ( index in props ) {\r\n\t\tname = jQuery.camelCase( index );\r\n\t\teasing = specialEasing[ name ];\r\n\t\tvalue = props[ index ];\r\n\t\tif ( jQuery.isArray( value ) ) {\r\n\t\t\teasing = value[ 1 ];\r\n\t\t\tvalue = props[ index ] = value[ 0 ];\r\n\t\t}\r\n\r\n\t\tif ( index !== name ) {\r\n\t\t\tprops[ name ] = value;\r\n\t\t\tdelete props[ index ];\r\n\t\t}\r\n\r\n\t\thooks = jQuery.cssHooks[ name ];\r\n\t\tif ( hooks && \"expand\" in hooks ) {\r\n\t\t\tvalue = hooks.expand( value );\r\n\t\t\tdelete props[ name ];\r\n\r\n\t\t\t// not quite $.extend, this wont overwrite keys already present.\r\n\t\t\t// also - reusing 'index' from above because we have the correct \"name\"\r\n\t\t\tfor ( index in value ) {\r\n\t\t\t\tif ( !( index in props ) ) {\r\n\t\t\t\t\tprops[ index ] = value[ index ];\r\n\t\t\t\t\tspecialEasing[ index ] = easing;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tspecialEasing[ name ] = easing;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction Animation( elem, properties, options ) {\r\n\tvar result,\r\n\t\tstopped,\r\n\t\tindex = 0,\r\n\t\tlength = animationPrefilters.length,\r\n\t\tdeferred = jQuery.Deferred().always( function() {\r\n\t\t\t// don't match elem in the :animated selector\r\n\t\t\tdelete tick.elem;\r\n\t\t}),\r\n\t\ttick = function() {\r\n\t\t\tif ( stopped ) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tvar currentTime = fxNow || createFxNow(),\r\n\t\t\t\tremaining = Math.max( 0, animation.startTime + animation.duration - currentTime ),\r\n\t\t\t\t// archaic crash bug won't allow us to use 1 - ( 0.5 || 0 ) (#12497)\r\n\t\t\t\ttemp = remaining / animation.duration || 0,\r\n\t\t\t\tpercent = 1 - temp,\r\n\t\t\t\tindex = 0,\r\n\t\t\t\tlength = animation.tweens.length;\r\n\r\n\t\t\tfor ( ; index < length ; index++ ) {\r\n\t\t\t\tanimation.tweens[ index ].run( percent );\r\n\t\t\t}\r\n\r\n\t\t\tdeferred.notifyWith( elem, [ animation, percent, remaining ]);\r\n\r\n\t\t\tif ( percent < 1 && length ) {\r\n\t\t\t\treturn remaining;\r\n\t\t\t} else {\r\n\t\t\t\tdeferred.resolveWith( elem, [ animation ] );\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t},\r\n\t\tanimation = deferred.promise({\r\n\t\t\telem: elem,\r\n\t\t\tprops: jQuery.extend( {}, properties ),\r\n\t\t\topts: jQuery.extend( true, { specialEasing: {} }, options ),\r\n\t\t\toriginalProperties: properties,\r\n\t\t\toriginalOptions: options,\r\n\t\t\tstartTime: fxNow || createFxNow(),\r\n\t\t\tduration: options.duration,\r\n\t\t\ttweens: [],\r\n\t\t\tcreateTween: function( prop, end ) {\r\n\t\t\t\tvar tween = jQuery.Tween( elem, animation.opts, prop, end,\r\n\t\t\t\t\t\tanimation.opts.specialEasing[ prop ] || animation.opts.easing );\r\n\t\t\t\tanimation.tweens.push( tween );\r\n\t\t\t\treturn tween;\r\n\t\t\t},\r\n\t\t\tstop: function( gotoEnd ) {\r\n\t\t\t\tvar index = 0,\r\n\t\t\t\t\t// if we are going to the end, we want to run all the tweens\r\n\t\t\t\t\t// otherwise we skip this part\r\n\t\t\t\t\tlength = gotoEnd ? animation.tweens.length : 0;\r\n\t\t\t\tif ( stopped ) {\r\n\t\t\t\t\treturn this;\r\n\t\t\t\t}\r\n\t\t\t\tstopped = true;\r\n\t\t\t\tfor ( ; index < length ; index++ ) {\r\n\t\t\t\t\tanimation.tweens[ index ].run( 1 );\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// resolve when we played the last frame\r\n\t\t\t\t// otherwise, reject\r\n\t\t\t\tif ( gotoEnd ) {\r\n\t\t\t\t\tdeferred.resolveWith( elem, [ animation, gotoEnd ] );\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdeferred.rejectWith( elem, [ animation, gotoEnd ] );\r\n\t\t\t\t}\r\n\t\t\t\treturn this;\r\n\t\t\t}\r\n\t\t}),\r\n\t\tprops = animation.props;\r\n\r\n\tpropFilter( props, animation.opts.specialEasing );\r\n\r\n\tfor ( ; index < length ; index++ ) {\r\n\t\tresult = animationPrefilters[ index ].call( animation, elem, props, animation.opts );\r\n\t\tif ( result ) {\r\n\t\t\treturn result;\r\n\t\t}\r\n\t}\r\n\r\n\tjQuery.map( props, createTween, animation );\r\n\r\n\tif ( jQuery.isFunction( animation.opts.start ) ) {\r\n\t\tanimation.opts.start.call( elem, animation );\r\n\t}\r\n\r\n\tjQuery.fx.timer(\r\n\t\tjQuery.extend( tick, {\r\n\t\t\telem: elem,\r\n\t\t\tanim: animation,\r\n\t\t\tqueue: animation.opts.queue\r\n\t\t})\r\n\t);\r\n\r\n\t// attach callbacks from options\r\n\treturn animation.progress( animation.opts.progress )\r\n\t\t.done( animation.opts.done, animation.opts.complete )\r\n\t\t.fail( animation.opts.fail )\r\n\t\t.always( animation.opts.always );\r\n}\r\n\r\njQuery.Animation = jQuery.extend( Animation, {\r\n\r\n\ttweener: function( props, callback ) {\r\n\t\tif ( jQuery.isFunction( props ) ) {\r\n\t\t\tcallback = props;\r\n\t\t\tprops = [ \"*\" ];\r\n\t\t} else {\r\n\t\t\tprops = props.split(\" \");\r\n\t\t}\r\n\r\n\t\tvar prop,\r\n\t\t\tindex = 0,\r\n\t\t\tlength = props.length;\r\n\r\n\t\tfor ( ; index < length ; index++ ) {\r\n\t\t\tprop = props[ index ];\r\n\t\t\ttweeners[ prop ] = tweeners[ prop ] || [];\r\n\t\t\ttweeners[ prop ].unshift( callback );\r\n\t\t}\r\n\t},\r\n\r\n\tprefilter: function( callback, prepend ) {\r\n\t\tif ( prepend ) {\r\n\t\t\tanimationPrefilters.unshift( callback );\r\n\t\t} else {\r\n\t\t\tanimationPrefilters.push( callback );\r\n\t\t}\r\n\t}\r\n});\r\n\r\njQuery.speed = function( speed, easing, fn ) {\r\n\tvar opt = speed && typeof speed === \"object\" ? jQuery.extend( {}, speed ) : {\r\n\t\tcomplete: fn || !fn && easing ||\r\n\t\t\tjQuery.isFunction( speed ) && speed,\r\n\t\tduration: speed,\r\n\t\teasing: fn && easing || easing && !jQuery.isFunction( easing ) && easing\r\n\t};\r\n\r\n\topt.duration = jQuery.fx.off ? 0 : typeof opt.duration === \"number\" ? opt.duration :\r\n\t\topt.duration in jQuery.fx.speeds ? jQuery.fx.speeds[ opt.duration ] : jQuery.fx.speeds._default;\r\n\r\n\t// normalize opt.queue - true/undefined/null -> \"fx\"\r\n\tif ( opt.queue == null || opt.queue === true ) {\r\n\t\topt.queue = \"fx\";\r\n\t}\r\n\r\n\t// Queueing\r\n\topt.old = opt.complete;\r\n\r\n\topt.complete = function() {\r\n\t\tif ( jQuery.isFunction( opt.old ) ) {\r\n\t\t\topt.old.call( this );\r\n\t\t}\r\n\r\n\t\tif ( opt.queue ) {\r\n\t\t\tjQuery.dequeue( this, opt.queue );\r\n\t\t}\r\n\t};\r\n\r\n\treturn opt;\r\n};\r\n\r\njQuery.fn.extend({\r\n\tfadeTo: function( speed, to, easing, callback ) {\r\n\r\n\t\t// show any hidden elements after setting opacity to 0\r\n\t\treturn this.filter( isHidden ).css( \"opacity\", 0 ).show()\r\n\r\n\t\t\t// animate to the value specified\r\n\t\t\t.end().animate({ opacity: to }, speed, easing, callback );\r\n\t},\r\n\tanimate: function( prop, speed, easing, callback ) {\r\n\t\tvar empty = jQuery.isEmptyObject( prop ),\r\n\t\t\toptall = jQuery.speed( speed, easing, callback ),\r\n\t\t\tdoAnimation = function() {\r\n\t\t\t\t// Operate on a copy of prop so per-property easing won't be lost\r\n\t\t\t\tvar anim = Animation( this, jQuery.extend( {}, prop ), optall );\r\n\r\n\t\t\t\t// Empty animations, or finishing resolves immediately\r\n\t\t\t\tif ( empty || data_priv.get( this, \"finish\" ) ) {\r\n\t\t\t\t\tanim.stop( true );\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tdoAnimation.finish = doAnimation;\r\n\r\n\t\treturn empty || optall.queue === false ?\r\n\t\t\tthis.each( doAnimation ) :\r\n\t\t\tthis.queue( optall.queue, doAnimation );\r\n\t},\r\n\tstop: function( type, clearQueue, gotoEnd ) {\r\n\t\tvar stopQueue = function( hooks ) {\r\n\t\t\tvar stop = hooks.stop;\r\n\t\t\tdelete hooks.stop;\r\n\t\t\tstop( gotoEnd );\r\n\t\t};\r\n\r\n\t\tif ( typeof type !== \"string\" ) {\r\n\t\t\tgotoEnd = clearQueue;\r\n\t\t\tclearQueue = type;\r\n\t\t\ttype = undefined;\r\n\t\t}\r\n\t\tif ( clearQueue && type !== false ) {\r\n\t\t\tthis.queue( type || \"fx\", [] );\r\n\t\t}\r\n\r\n\t\treturn this.each(function() {\r\n\t\t\tvar dequeue = true,\r\n\t\t\t\tindex = type != null && type + \"queueHooks\",\r\n\t\t\t\ttimers = jQuery.timers,\r\n\t\t\t\tdata = data_priv.get( this );\r\n\r\n\t\t\tif ( index ) {\r\n\t\t\t\tif ( data[ index ] && data[ index ].stop ) {\r\n\t\t\t\t\tstopQueue( data[ index ] );\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tfor ( index in data ) {\r\n\t\t\t\t\tif ( data[ index ] && data[ index ].stop && rrun.test( index ) ) {\r\n\t\t\t\t\t\tstopQueue( data[ index ] );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tfor ( index = timers.length; index--; ) {\r\n\t\t\t\tif ( timers[ index ].elem === this && (type == null || timers[ index ].queue === type) ) {\r\n\t\t\t\t\ttimers[ index ].anim.stop( gotoEnd );\r\n\t\t\t\t\tdequeue = false;\r\n\t\t\t\t\ttimers.splice( index, 1 );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// start the next in the queue if the last step wasn't forced\r\n\t\t\t// timers currently will call their complete callbacks, which will dequeue\r\n\t\t\t// but only if they were gotoEnd\r\n\t\t\tif ( dequeue || !gotoEnd ) {\r\n\t\t\t\tjQuery.dequeue( this, type );\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\tfinish: function( type ) {\r\n\t\tif ( type !== false ) {\r\n\t\t\ttype = type || \"fx\";\r\n\t\t}\r\n\t\treturn this.each(function() {\r\n\t\t\tvar index,\r\n\t\t\t\tdata = data_priv.get( this ),\r\n\t\t\t\tqueue = data[ type + \"queue\" ],\r\n\t\t\t\thooks = data[ type + \"queueHooks\" ],\r\n\t\t\t\ttimers = jQuery.timers,\r\n\t\t\t\tlength = queue ? queue.length : 0;\r\n\r\n\t\t\t// enable finishing flag on private data\r\n\t\t\tdata.finish = true;\r\n\r\n\t\t\t// empty the queue first\r\n\t\t\tjQuery.queue( this, type, [] );\r\n\r\n\t\t\tif ( hooks && hooks.stop ) {\r\n\t\t\t\thooks.stop.call( this, true );\r\n\t\t\t}\r\n\r\n\t\t\t// look for any active animations, and finish them\r\n\t\t\tfor ( index = timers.length; index--; ) {\r\n\t\t\t\tif ( timers[ index ].elem === this && timers[ index ].queue === type ) {\r\n\t\t\t\t\ttimers[ index ].anim.stop( true );\r\n\t\t\t\t\ttimers.splice( index, 1 );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// look for any animations in the old queue and finish them\r\n\t\t\tfor ( index = 0; index < length; index++ ) {\r\n\t\t\t\tif ( queue[ index ] && queue[ index ].finish ) {\r\n\t\t\t\t\tqueue[ index ].finish.call( this );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// turn off finishing flag\r\n\t\t\tdelete data.finish;\r\n\t\t});\r\n\t}\r\n});\r\n\r\njQuery.each([ \"toggle\", \"show\", \"hide\" ], function( i, name ) {\r\n\tvar cssFn = jQuery.fn[ name ];\r\n\tjQuery.fn[ name ] = function( speed, easing, callback ) {\r\n\t\treturn speed == null || typeof speed === \"boolean\" ?\r\n\t\t\tcssFn.apply( this, arguments ) :\r\n\t\t\tthis.animate( genFx( name, true ), speed, easing, callback );\r\n\t};\r\n});\r\n\r\n// Generate shortcuts for custom animations\r\njQuery.each({\r\n\tslideDown: genFx(\"show\"),\r\n\tslideUp: genFx(\"hide\"),\r\n\tslideToggle: genFx(\"toggle\"),\r\n\tfadeIn: { opacity: \"show\" },\r\n\tfadeOut: { opacity: \"hide\" },\r\n\tfadeToggle: { opacity: \"toggle\" }\r\n}, function( name, props ) {\r\n\tjQuery.fn[ name ] = function( speed, easing, callback ) {\r\n\t\treturn this.animate( props, speed, easing, callback );\r\n\t};\r\n});\r\n\r\njQuery.timers = [];\r\njQuery.fx.tick = function() {\r\n\tvar timer,\r\n\t\ti = 0,\r\n\t\ttimers = jQuery.timers;\r\n\r\n\tfxNow = jQuery.now();\r\n\r\n\tfor ( ; i < timers.length; i++ ) {\r\n\t\ttimer = timers[ i ];\r\n\t\t// Checks the timer has not already been removed\r\n\t\tif ( !timer() && timers[ i ] === timer ) {\r\n\t\t\ttimers.splice( i--, 1 );\r\n\t\t}\r\n\t}\r\n\r\n\tif ( !timers.length ) {\r\n\t\tjQuery.fx.stop();\r\n\t}\r\n\tfxNow = undefined;\r\n};\r\n\r\njQuery.fx.timer = function( timer ) {\r\n\tjQuery.timers.push( timer );\r\n\tif ( timer() ) {\r\n\t\tjQuery.fx.start();\r\n\t} else {\r\n\t\tjQuery.timers.pop();\r\n\t}\r\n};\r\n\r\njQuery.fx.interval = 13;\r\n\r\njQuery.fx.start = function() {\r\n\tif ( !timerId ) {\r\n\t\ttimerId = setInterval( jQuery.fx.tick, jQuery.fx.interval );\r\n\t}\r\n};\r\n\r\njQuery.fx.stop = function() {\r\n\tclearInterval( timerId );\r\n\ttimerId = null;\r\n};\r\n\r\njQuery.fx.speeds = {\r\n\tslow: 600,\r\n\tfast: 200,\r\n\t// Default speed\r\n\t_default: 400\r\n};\r\n\r\n\r\n// Based off of the plugin by Clint Helfers, with permission.\r\n// http://blindsignals.com/index.php/2009/07/jquery-delay/\r\njQuery.fn.delay = function( time, type ) {\r\n\ttime = jQuery.fx ? jQuery.fx.speeds[ time ] || time : time;\r\n\ttype = type || \"fx\";\r\n\r\n\treturn this.queue( type, function( next, hooks ) {\r\n\t\tvar timeout = setTimeout( next, time );\r\n\t\thooks.stop = function() {\r\n\t\t\tclearTimeout( timeout );\r\n\t\t};\r\n\t});\r\n};\r\n\r\n\r\n(function() {\r\n\tvar input = document.createElement( \"input\" ),\r\n\t\tselect = document.createElement( \"select\" ),\r\n\t\topt = select.appendChild( document.createElement( \"option\" ) );\r\n\r\n\tinput.type = \"checkbox\";\r\n\r\n\t// Support: iOS 5.1, Android 4.x, Android 2.3\r\n\t// Check the default checkbox/radio value (\"\" on old WebKit; \"on\" elsewhere)\r\n\tsupport.checkOn = input.value !== \"\";\r\n\r\n\t// Must access the parent to make an option select properly\r\n\t// Support: IE9, IE10\r\n\tsupport.optSelected = opt.selected;\r\n\r\n\t// Make sure that the options inside disabled selects aren't marked as disabled\r\n\t// (WebKit marks them as disabled)\r\n\tselect.disabled = true;\r\n\tsupport.optDisabled = !opt.disabled;\r\n\r\n\t// Check if an input maintains its value after becoming a radio\r\n\t// Support: IE9, IE10\r\n\tinput = document.createElement( \"input\" );\r\n\tinput.value = \"t\";\r\n\tinput.type = \"radio\";\r\n\tsupport.radioValue = input.value === \"t\";\r\n})();\r\n\r\n\r\nvar nodeHook, boolHook,\r\n\tattrHandle = jQuery.expr.attrHandle;\r\n\r\njQuery.fn.extend({\r\n\tattr: function( name, value ) {\r\n\t\treturn access( this, jQuery.attr, name, value, arguments.length > 1 );\r\n\t},\r\n\r\n\tremoveAttr: function( name ) {\r\n\t\treturn this.each(function() {\r\n\t\t\tjQuery.removeAttr( this, name );\r\n\t\t});\r\n\t}\r\n});\r\n\r\njQuery.extend({\r\n\tattr: function( elem, name, value ) {\r\n\t\tvar hooks, ret,\r\n\t\t\tnType = elem.nodeType;\r\n\r\n\t\t// don't get/set attributes on text, comment and attribute nodes\r\n\t\tif ( !elem || nType === 3 || nType === 8 || nType === 2 ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Fallback to prop when attributes are not supported\r\n\t\tif ( typeof elem.getAttribute === strundefined ) {\r\n\t\t\treturn jQuery.prop( elem, name, value );\r\n\t\t}\r\n\r\n\t\t// All attributes are lowercase\r\n\t\t// Grab necessary hook if one is defined\r\n\t\tif ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {\r\n\t\t\tname = name.toLowerCase();\r\n\t\t\thooks = jQuery.attrHooks[ name ] ||\r\n\t\t\t\t( jQuery.expr.match.bool.test( name ) ? boolHook : nodeHook );\r\n\t\t}\r\n\r\n\t\tif ( value !== undefined ) {\r\n\r\n\t\t\tif ( value === null ) {\r\n\t\t\t\tjQuery.removeAttr( elem, name );\r\n\r\n\t\t\t} else if ( hooks && \"set\" in hooks && (ret = hooks.set( elem, value, name )) !== undefined ) {\r\n\t\t\t\treturn ret;\r\n\r\n\t\t\t} else {\r\n\t\t\t\telem.setAttribute( name, value + \"\" );\r\n\t\t\t\treturn value;\r\n\t\t\t}\r\n\r\n\t\t} else if ( hooks && \"get\" in hooks && (ret = hooks.get( elem, name )) !== null ) {\r\n\t\t\treturn ret;\r\n\r\n\t\t} else {\r\n\t\t\tret = jQuery.find.attr( elem, name );\r\n\r\n\t\t\t// Non-existent attributes return null, we normalize to undefined\r\n\t\t\treturn ret == null ?\r\n\t\t\t\tundefined :\r\n\t\t\t\tret;\r\n\t\t}\r\n\t},\r\n\r\n\tremoveAttr: function( elem, value ) {\r\n\t\tvar name, propName,\r\n\t\t\ti = 0,\r\n\t\t\tattrNames = value && value.match( rnotwhite );\r\n\r\n\t\tif ( attrNames && elem.nodeType === 1 ) {\r\n\t\t\twhile ( (name = attrNames[i++]) ) {\r\n\t\t\t\tpropName = jQuery.propFix[ name ] || name;\r\n\r\n\t\t\t\t// Boolean attributes get special treatment (#10870)\r\n\t\t\t\tif ( jQuery.expr.match.bool.test( name ) ) {\r\n\t\t\t\t\t// Set corresponding property to false\r\n\t\t\t\t\telem[ propName ] = false;\r\n\t\t\t\t}\r\n\r\n\t\t\t\telem.removeAttribute( name );\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tattrHooks: {\r\n\t\ttype: {\r\n\t\t\tset: function( elem, value ) {\r\n\t\t\t\tif ( !support.radioValue && value === \"radio\" &&\r\n\t\t\t\t\tjQuery.nodeName( elem, \"input\" ) ) {\r\n\t\t\t\t\t// Setting the type on a radio button after the value resets the value in IE6-9\r\n\t\t\t\t\t// Reset value to default in case type is set after value during creation\r\n\t\t\t\t\tvar val = elem.value;\r\n\t\t\t\t\telem.setAttribute( \"type\", value );\r\n\t\t\t\t\tif ( val ) {\r\n\t\t\t\t\t\telem.value = val;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn value;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n});\r\n\r\n// Hooks for boolean attributes\r\nboolHook = {\r\n\tset: function( elem, value, name ) {\r\n\t\tif ( value === false ) {\r\n\t\t\t// Remove boolean attributes when set to false\r\n\t\t\tjQuery.removeAttr( elem, name );\r\n\t\t} else {\r\n\t\t\telem.setAttribute( name, name );\r\n\t\t}\r\n\t\treturn name;\r\n\t}\r\n};\r\njQuery.each( jQuery.expr.match.bool.source.match( /\\w+/g ), function( i, name ) {\r\n\tvar getter = attrHandle[ name ] || jQuery.find.attr;\r\n\r\n\tattrHandle[ name ] = function( elem, name, isXML ) {\r\n\t\tvar ret, handle;\r\n\t\tif ( !isXML ) {\r\n\t\t\t// Avoid an infinite loop by temporarily removing this function from the getter\r\n\t\t\thandle = attrHandle[ name ];\r\n\t\t\tattrHandle[ name ] = ret;\r\n\t\t\tret = getter( elem, name, isXML ) != null ?\r\n\t\t\t\tname.toLowerCase() :\r\n\t\t\t\tnull;\r\n\t\t\tattrHandle[ name ] = handle;\r\n\t\t}\r\n\t\treturn ret;\r\n\t};\r\n});\r\n\r\n\r\n\r\n\r\nvar rfocusable = /^(?:input|select|textarea|button)$/i;\r\n\r\njQuery.fn.extend({\r\n\tprop: function( name, value ) {\r\n\t\treturn access( this, jQuery.prop, name, value, arguments.length > 1 );\r\n\t},\r\n\r\n\tremoveProp: function( name ) {\r\n\t\treturn this.each(function() {\r\n\t\t\tdelete this[ jQuery.propFix[ name ] || name ];\r\n\t\t});\r\n\t}\r\n});\r\n\r\njQuery.extend({\r\n\tpropFix: {\r\n\t\t\"for\": \"htmlFor\",\r\n\t\t\"class\": \"className\"\r\n\t},\r\n\r\n\tprop: function( elem, name, value ) {\r\n\t\tvar ret, hooks, notxml,\r\n\t\t\tnType = elem.nodeType;\r\n\r\n\t\t// don't get/set properties on text, comment and attribute nodes\r\n\t\tif ( !elem || nType === 3 || nType === 8 || nType === 2 ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tnotxml = nType !== 1 || !jQuery.isXMLDoc( elem );\r\n\r\n\t\tif ( notxml ) {\r\n\t\t\t// Fix name and attach hooks\r\n\t\t\tname = jQuery.propFix[ name ] || name;\r\n\t\t\thooks = jQuery.propHooks[ name ];\r\n\t\t}\r\n\r\n\t\tif ( value !== undefined ) {\r\n\t\t\treturn hooks && \"set\" in hooks && (ret = hooks.set( elem, value, name )) !== undefined ?\r\n\t\t\t\tret :\r\n\t\t\t\t( elem[ name ] = value );\r\n\r\n\t\t} else {\r\n\t\t\treturn hooks && \"get\" in hooks && (ret = hooks.get( elem, name )) !== null ?\r\n\t\t\t\tret :\r\n\t\t\t\telem[ name ];\r\n\t\t}\r\n\t},\r\n\r\n\tpropHooks: {\r\n\t\ttabIndex: {\r\n\t\t\tget: function( elem ) {\r\n\t\t\t\treturn elem.hasAttribute( \"tabindex\" ) || rfocusable.test( elem.nodeName ) || elem.href ?\r\n\t\t\t\t\telem.tabIndex :\r\n\t\t\t\t\t-1;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n});\r\n\r\n// Support: IE9+\r\n// Selectedness for an option in an optgroup can be inaccurate\r\nif ( !support.optSelected ) {\r\n\tjQuery.propHooks.selected = {\r\n\t\tget: function( elem ) {\r\n\t\t\tvar parent = elem.parentNode;\r\n\t\t\tif ( parent && parent.parentNode ) {\r\n\t\t\t\tparent.parentNode.selectedIndex;\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t}\r\n\t};\r\n}\r\n\r\njQuery.each([\r\n\t\"tabIndex\",\r\n\t\"readOnly\",\r\n\t\"maxLength\",\r\n\t\"cellSpacing\",\r\n\t\"cellPadding\",\r\n\t\"rowSpan\",\r\n\t\"colSpan\",\r\n\t\"useMap\",\r\n\t\"frameBorder\",\r\n\t\"contentEditable\"\r\n], function() {\r\n\tjQuery.propFix[ this.toLowerCase() ] = this;\r\n});\r\n\r\n\r\n\r\n\r\nvar rclass = /[\\t\\r\\n\\f]/g;\r\n\r\njQuery.fn.extend({\r\n\taddClass: function( value ) {\r\n\t\tvar classes, elem, cur, clazz, j, finalValue,\r\n\t\t\tproceed = typeof value === \"string\" && value,\r\n\t\t\ti = 0,\r\n\t\t\tlen = this.length;\r\n\r\n\t\tif ( jQuery.isFunction( value ) ) {\r\n\t\t\treturn this.each(function( j ) {\r\n\t\t\t\tjQuery( this ).addClass( value.call( this, j, this.className ) );\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif ( proceed ) {\r\n\t\t\t// The disjunction here is for better compressibility (see removeClass)\r\n\t\t\tclasses = ( value || \"\" ).match( rnotwhite ) || [];\r\n\r\n\t\t\tfor ( ; i < len; i++ ) {\r\n\t\t\t\telem = this[ i ];\r\n\t\t\t\tcur = elem.nodeType === 1 && ( elem.className ?\r\n\t\t\t\t\t( \" \" + elem.className + \" \" ).replace( rclass, \" \" ) :\r\n\t\t\t\t\t\" \"\r\n\t\t\t\t);\r\n\r\n\t\t\t\tif ( cur ) {\r\n\t\t\t\t\tj = 0;\r\n\t\t\t\t\twhile ( (clazz = classes[j++]) ) {\r\n\t\t\t\t\t\tif ( cur.indexOf( \" \" + clazz + \" \" ) < 0 ) {\r\n\t\t\t\t\t\t\tcur += clazz + \" \";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// only assign if different to avoid unneeded rendering.\r\n\t\t\t\t\tfinalValue = jQuery.trim( cur );\r\n\t\t\t\t\tif ( elem.className !== finalValue ) {\r\n\t\t\t\t\t\telem.className = finalValue;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\tremoveClass: function( value ) {\r\n\t\tvar classes, elem, cur, clazz, j, finalValue,\r\n\t\t\tproceed = arguments.length === 0 || typeof value === \"string\" && value,\r\n\t\t\ti = 0,\r\n\t\t\tlen = this.length;\r\n\r\n\t\tif ( jQuery.isFunction( value ) ) {\r\n\t\t\treturn this.each(function( j ) {\r\n\t\t\t\tjQuery( this ).removeClass( value.call( this, j, this.className ) );\r\n\t\t\t});\r\n\t\t}\r\n\t\tif ( proceed ) {\r\n\t\t\tclasses = ( value || \"\" ).match( rnotwhite ) || [];\r\n\r\n\t\t\tfor ( ; i < len; i++ ) {\r\n\t\t\t\telem = this[ i ];\r\n\t\t\t\t// This expression is here for better compressibility (see addClass)\r\n\t\t\t\tcur = elem.nodeType === 1 && ( elem.className ?\r\n\t\t\t\t\t( \" \" + elem.className + \" \" ).replace( rclass, \" \" ) :\r\n\t\t\t\t\t\"\"\r\n\t\t\t\t);\r\n\r\n\t\t\t\tif ( cur ) {\r\n\t\t\t\t\tj = 0;\r\n\t\t\t\t\twhile ( (clazz = classes[j++]) ) {\r\n\t\t\t\t\t\t// Remove *all* instances\r\n\t\t\t\t\t\twhile ( cur.indexOf( \" \" + clazz + \" \" ) >= 0 ) {\r\n\t\t\t\t\t\t\tcur = cur.replace( \" \" + clazz + \" \", \" \" );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// only assign if different to avoid unneeded rendering.\r\n\t\t\t\t\tfinalValue = value ? jQuery.trim( cur ) : \"\";\r\n\t\t\t\t\tif ( elem.className !== finalValue ) {\r\n\t\t\t\t\t\telem.className = finalValue;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\ttoggleClass: function( value, stateVal ) {\r\n\t\tvar type = typeof value;\r\n\r\n\t\tif ( typeof stateVal === \"boolean\" && type === \"string\" ) {\r\n\t\t\treturn stateVal ? this.addClass( value ) : this.removeClass( value );\r\n\t\t}\r\n\r\n\t\tif ( jQuery.isFunction( value ) ) {\r\n\t\t\treturn this.each(function( i ) {\r\n\t\t\t\tjQuery( this ).toggleClass( value.call(this, i, this.className, stateVal), stateVal );\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\treturn this.each(function() {\r\n\t\t\tif ( type === \"string\" ) {\r\n\t\t\t\t// toggle individual class names\r\n\t\t\t\tvar className,\r\n\t\t\t\t\ti = 0,\r\n\t\t\t\t\tself = jQuery( this ),\r\n\t\t\t\t\tclassNames = value.match( rnotwhite ) || [];\r\n\r\n\t\t\t\twhile ( (className = classNames[ i++ ]) ) {\r\n\t\t\t\t\t// check each className given, space separated list\r\n\t\t\t\t\tif ( self.hasClass( className ) ) {\r\n\t\t\t\t\t\tself.removeClass( className );\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tself.addClass( className );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t// Toggle whole class name\r\n\t\t\t} else if ( type === strundefined || type === \"boolean\" ) {\r\n\t\t\t\tif ( this.className ) {\r\n\t\t\t\t\t// store className if set\r\n\t\t\t\t\tdata_priv.set( this, \"__className__\", this.className );\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// If the element has a class name or if we're passed \"false\",\r\n\t\t\t\t// then remove the whole classname (if there was one, the above saved it).\r\n\t\t\t\t// Otherwise bring back whatever was previously saved (if anything),\r\n\t\t\t\t// falling back to the empty string if nothing was stored.\r\n\t\t\t\tthis.className = this.className || value === false ? \"\" : data_priv.get( this, \"__className__\" ) || \"\";\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\r\n\thasClass: function( selector ) {\r\n\t\tvar className = \" \" + selector + \" \",\r\n\t\t\ti = 0,\r\n\t\t\tl = this.length;\r\n\t\tfor ( ; i < l; i++ ) {\r\n\t\t\tif ( this[i].nodeType === 1 && (\" \" + this[i].className + \" \").replace(rclass, \" \").indexOf( className ) >= 0 ) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}\r\n});\r\n\r\n\r\n\r\n\r\nvar rreturn = /\\r/g;\r\n\r\njQuery.fn.extend({\r\n\tval: function( value ) {\r\n\t\tvar hooks, ret, isFunction,\r\n\t\t\telem = this[0];\r\n\r\n\t\tif ( !arguments.length ) {\r\n\t\t\tif ( elem ) {\r\n\t\t\t\thooks = jQuery.valHooks[ elem.type ] || jQuery.valHooks[ elem.nodeName.toLowerCase() ];\r\n\r\n\t\t\t\tif ( hooks && \"get\" in hooks && (ret = hooks.get( elem, \"value\" )) !== undefined ) {\r\n\t\t\t\t\treturn ret;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tret = elem.value;\r\n\r\n\t\t\t\treturn typeof ret === \"string\" ?\r\n\t\t\t\t\t// handle most common string cases\r\n\t\t\t\t\tret.replace(rreturn, \"\") :\r\n\t\t\t\t\t// handle cases where value is null/undef or number\r\n\t\t\t\t\tret == null ? \"\" : ret;\r\n\t\t\t}\r\n\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tisFunction = jQuery.isFunction( value );\r\n\r\n\t\treturn this.each(function( i ) {\r\n\t\t\tvar val;\r\n\r\n\t\t\tif ( this.nodeType !== 1 ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif ( isFunction ) {\r\n\t\t\t\tval = value.call( this, i, jQuery( this ).val() );\r\n\t\t\t} else {\r\n\t\t\t\tval = value;\r\n\t\t\t}\r\n\r\n\t\t\t// Treat null/undefined as \"\"; convert numbers to string\r\n\t\t\tif ( val == null ) {\r\n\t\t\t\tval = \"\";\r\n\r\n\t\t\t} else if ( typeof val === \"number\" ) {\r\n\t\t\t\tval += \"\";\r\n\r\n\t\t\t} else if ( jQuery.isArray( val ) ) {\r\n\t\t\t\tval = jQuery.map( val, function( value ) {\r\n\t\t\t\t\treturn value == null ? \"\" : value + \"\";\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\thooks = jQuery.valHooks[ this.type ] || jQuery.valHooks[ this.nodeName.toLowerCase() ];\r\n\r\n\t\t\t// If set returns undefined, fall back to normal setting\r\n\t\t\tif ( !hooks || !(\"set\" in hooks) || hooks.set( this, val, \"value\" ) === undefined ) {\r\n\t\t\t\tthis.value = val;\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n});\r\n\r\njQuery.extend({\r\n\tvalHooks: {\r\n\t\toption: {\r\n\t\t\tget: function( elem ) {\r\n\t\t\t\tvar val = jQuery.find.attr( elem, \"value\" );\r\n\t\t\t\treturn val != null ?\r\n\t\t\t\t\tval :\r\n\t\t\t\t\t// Support: IE10-11+\r\n\t\t\t\t\t// option.text throws exceptions (#14686, #14858)\r\n\t\t\t\t\tjQuery.trim( jQuery.text( elem ) );\r\n\t\t\t}\r\n\t\t},\r\n\t\tselect: {\r\n\t\t\tget: function( elem ) {\r\n\t\t\t\tvar value, option,\r\n\t\t\t\t\toptions = elem.options,\r\n\t\t\t\t\tindex = elem.selectedIndex,\r\n\t\t\t\t\tone = elem.type === \"select-one\" || index < 0,\r\n\t\t\t\t\tvalues = one ? null : [],\r\n\t\t\t\t\tmax = one ? index + 1 : options.length,\r\n\t\t\t\t\ti = index < 0 ?\r\n\t\t\t\t\t\tmax :\r\n\t\t\t\t\t\tone ? index : 0;\r\n\r\n\t\t\t\t// Loop through all the selected options\r\n\t\t\t\tfor ( ; i < max; i++ ) {\r\n\t\t\t\t\toption = options[ i ];\r\n\r\n\t\t\t\t\t// IE6-9 doesn't update selected after form reset (#2551)\r\n\t\t\t\t\tif ( ( option.selected || i === index ) &&\r\n\t\t\t\t\t\t\t// Don't return options that are disabled or in a disabled optgroup\r\n\t\t\t\t\t\t\t( support.optDisabled ? !option.disabled : option.getAttribute( \"disabled\" ) === null ) &&\r\n\t\t\t\t\t\t\t( !option.parentNode.disabled || !jQuery.nodeName( option.parentNode, \"optgroup\" ) ) ) {\r\n\r\n\t\t\t\t\t\t// Get the specific value for the option\r\n\t\t\t\t\t\tvalue = jQuery( option ).val();\r\n\r\n\t\t\t\t\t\t// We don't need an array for one selects\r\n\t\t\t\t\t\tif ( one ) {\r\n\t\t\t\t\t\t\treturn value;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Multi-Selects return an array\r\n\t\t\t\t\t\tvalues.push( value );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn values;\r\n\t\t\t},\r\n\r\n\t\t\tset: function( elem, value ) {\r\n\t\t\t\tvar optionSet, option,\r\n\t\t\t\t\toptions = elem.options,\r\n\t\t\t\t\tvalues = jQuery.makeArray( value ),\r\n\t\t\t\t\ti = options.length;\r\n\r\n\t\t\t\twhile ( i-- ) {\r\n\t\t\t\t\toption = options[ i ];\r\n\t\t\t\t\tif ( (option.selected = jQuery.inArray( option.value, values ) >= 0) ) {\r\n\t\t\t\t\t\toptionSet = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// force browsers to behave consistently when non-matching value is set\r\n\t\t\t\tif ( !optionSet ) {\r\n\t\t\t\t\telem.selectedIndex = -1;\r\n\t\t\t\t}\r\n\t\t\t\treturn values;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n});\r\n\r\n// Radios and checkboxes getter/setter\r\njQuery.each([ \"radio\", \"checkbox\" ], function() {\r\n\tjQuery.valHooks[ this ] = {\r\n\t\tset: function( elem, value ) {\r\n\t\t\tif ( jQuery.isArray( value ) ) {\r\n\t\t\t\treturn ( elem.checked = jQuery.inArray( jQuery(elem).val(), value ) >= 0 );\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\tif ( !support.checkOn ) {\r\n\t\tjQuery.valHooks[ this ].get = function( elem ) {\r\n\t\t\t// Support: Webkit\r\n\t\t\t// \"\" is returned instead of \"on\" if a value isn't specified\r\n\t\t\treturn elem.getAttribute(\"value\") === null ? \"on\" : elem.value;\r\n\t\t};\r\n\t}\r\n});\r\n\r\n\r\n\r\n\r\n// Return jQuery for attributes-only inclusion\r\n\r\n\r\njQuery.each( (\"blur focus focusin focusout load resize scroll unload click dblclick \" +\r\n\t\"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave \" +\r\n\t\"change select submit keydown keypress keyup error contextmenu\").split(\" \"), function( i, name ) {\r\n\r\n\t// Handle event binding\r\n\tjQuery.fn[ name ] = function( data, fn ) {\r\n\t\treturn arguments.length > 0 ?\r\n\t\t\tthis.on( name, null, data, fn ) :\r\n\t\t\tthis.trigger( name );\r\n\t};\r\n});\r\n\r\njQuery.fn.extend({\r\n\thover: function( fnOver, fnOut ) {\r\n\t\treturn this.mouseenter( fnOver ).mouseleave( fnOut || fnOver );\r\n\t},\r\n\r\n\tbind: function( types, data, fn ) {\r\n\t\treturn this.on( types, null, data, fn );\r\n\t},\r\n\tunbind: function( types, fn ) {\r\n\t\treturn this.off( types, null, fn );\r\n\t},\r\n\r\n\tdelegate: function( selector, types, data, fn ) {\r\n\t\treturn this.on( types, selector, data, fn );\r\n\t},\r\n\tundelegate: function( selector, types, fn ) {\r\n\t\t// ( namespace ) or ( selector, types [, fn] )\r\n\t\treturn arguments.length === 1 ? this.off( selector, \"**\" ) : this.off( types, selector || \"**\", fn );\r\n\t}\r\n});\r\n\r\n\r\nvar nonce = jQuery.now();\r\n\r\nvar rquery = (/\\?/);\r\n\r\n\r\n\r\n// Support: Android 2.3\r\n// Workaround failure to string-cast null input\r\njQuery.parseJSON = function( data ) {\r\n\treturn JSON.parse( data + \"\" );\r\n};\r\n\r\n\r\n// Cross-browser xml parsing\r\njQuery.parseXML = function( data ) {\r\n\tvar xml, tmp;\r\n\tif ( !data || typeof data !== \"string\" ) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\t// Support: IE9\r\n\ttry {\r\n\t\ttmp = new DOMParser();\r\n\t\txml = tmp.parseFromString( data, \"text/xml\" );\r\n\t} catch ( e ) {\r\n\t\txml = undefined;\r\n\t}\r\n\r\n\tif ( !xml || xml.getElementsByTagName( \"parsererror\" ).length ) {\r\n\t\tjQuery.error( \"Invalid XML: \" + data );\r\n\t}\r\n\treturn xml;\r\n};\r\n\r\n\r\nvar\r\n\t// Document location\r\n\tajaxLocParts,\r\n\tajaxLocation,\r\n\r\n\trhash = /#.*$/,\r\n\trts = /([?&])_=[^&]*/,\r\n\trheaders = /^(.*?):[ \\t]*([^\\r\\n]*)$/mg,\r\n\t// #7653, #8125, #8152: local protocol detection\r\n\trlocalProtocol = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,\r\n\trnoContent = /^(?:GET|HEAD)$/,\r\n\trprotocol = /^\\/\\//,\r\n\trurl = /^([\\w.+-]+:)(?:\\/\\/(?:[^\\/?#]*@|)([^\\/?#:]*)(?::(\\d+)|)|)/,\r\n\r\n\t/* Prefilters\r\n\t * 1) They are useful to introduce custom dataTypes (see ajax/jsonp.js for an example)\r\n\t * 2) These are called:\r\n\t *    - BEFORE asking for a transport\r\n\t *    - AFTER param serialization (s.data is a string if s.processData is true)\r\n\t * 3) key is the dataType\r\n\t * 4) the catchall symbol \"*\" can be used\r\n\t * 5) execution will start with transport dataType and THEN continue down to \"*\" if needed\r\n\t */\r\n\tprefilters = {},\r\n\r\n\t/* Transports bindings\r\n\t * 1) key is the dataType\r\n\t * 2) the catchall symbol \"*\" can be used\r\n\t * 3) selection will start with transport dataType and THEN go to \"*\" if needed\r\n\t */\r\n\ttransports = {},\r\n\r\n\t// Avoid comment-prolog char sequence (#10098); must appease lint and evade compression\r\n\tallTypes = \"*/\".concat(\"*\");\r\n\r\n// #8138, IE may throw an exception when accessing\r\n// a field from window.location if document.domain has been set\r\ntry {\r\n\tajaxLocation = location.href;\r\n} catch( e ) {\r\n\t// Use the href attribute of an A element\r\n\t// since IE will modify it given document.location\r\n\tajaxLocation = document.createElement( \"a\" );\r\n\tajaxLocation.href = \"\";\r\n\tajaxLocation = ajaxLocation.href;\r\n}\r\n\r\n// Segment location into parts\r\najaxLocParts = rurl.exec( ajaxLocation.toLowerCase() ) || [];\r\n\r\n// Base \"constructor\" for jQuery.ajaxPrefilter and jQuery.ajaxTransport\r\nfunction addToPrefiltersOrTransports( structure ) {\r\n\r\n\t// dataTypeExpression is optional and defaults to \"*\"\r\n\treturn function( dataTypeExpression, func ) {\r\n\r\n\t\tif ( typeof dataTypeExpression !== \"string\" ) {\r\n\t\t\tfunc = dataTypeExpression;\r\n\t\t\tdataTypeExpression = \"*\";\r\n\t\t}\r\n\r\n\t\tvar dataType,\r\n\t\t\ti = 0,\r\n\t\t\tdataTypes = dataTypeExpression.toLowerCase().match( rnotwhite ) || [];\r\n\r\n\t\tif ( jQuery.isFunction( func ) ) {\r\n\t\t\t// For each dataType in the dataTypeExpression\r\n\t\t\twhile ( (dataType = dataTypes[i++]) ) {\r\n\t\t\t\t// Prepend if requested\r\n\t\t\t\tif ( dataType[0] === \"+\" ) {\r\n\t\t\t\t\tdataType = dataType.slice( 1 ) || \"*\";\r\n\t\t\t\t\t(structure[ dataType ] = structure[ dataType ] || []).unshift( func );\r\n\r\n\t\t\t\t// Otherwise append\r\n\t\t\t\t} else {\r\n\t\t\t\t\t(structure[ dataType ] = structure[ dataType ] || []).push( func );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}\r\n\r\n// Base inspection function for prefilters and transports\r\nfunction inspectPrefiltersOrTransports( structure, options, originalOptions, jqXHR ) {\r\n\r\n\tvar inspected = {},\r\n\t\tseekingTransport = ( structure === transports );\r\n\r\n\tfunction inspect( dataType ) {\r\n\t\tvar selected;\r\n\t\tinspected[ dataType ] = true;\r\n\t\tjQuery.each( structure[ dataType ] || [], function( _, prefilterOrFactory ) {\r\n\t\t\tvar dataTypeOrTransport = prefilterOrFactory( options, originalOptions, jqXHR );\r\n\t\t\tif ( typeof dataTypeOrTransport === \"string\" && !seekingTransport && !inspected[ dataTypeOrTransport ] ) {\r\n\t\t\t\toptions.dataTypes.unshift( dataTypeOrTransport );\r\n\t\t\t\tinspect( dataTypeOrTransport );\r\n\t\t\t\treturn false;\r\n\t\t\t} else if ( seekingTransport ) {\r\n\t\t\t\treturn !( selected = dataTypeOrTransport );\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn selected;\r\n\t}\r\n\r\n\treturn inspect( options.dataTypes[ 0 ] ) || !inspected[ \"*\" ] && inspect( \"*\" );\r\n}\r\n\r\n// A special extend for ajax options\r\n// that takes \"flat\" options (not to be deep extended)\r\n// Fixes #9887\r\nfunction ajaxExtend( target, src ) {\r\n\tvar key, deep,\r\n\t\tflatOptions = jQuery.ajaxSettings.flatOptions || {};\r\n\r\n\tfor ( key in src ) {\r\n\t\tif ( src[ key ] !== undefined ) {\r\n\t\t\t( flatOptions[ key ] ? target : ( deep || (deep = {}) ) )[ key ] = src[ key ];\r\n\t\t}\r\n\t}\r\n\tif ( deep ) {\r\n\t\tjQuery.extend( true, target, deep );\r\n\t}\r\n\r\n\treturn target;\r\n}\r\n\r\n/* Handles responses to an ajax request:\r\n * - finds the right dataType (mediates between content-type and expected dataType)\r\n * - returns the corresponding response\r\n */\r\nfunction ajaxHandleResponses( s, jqXHR, responses ) {\r\n\r\n\tvar ct, type, finalDataType, firstDataType,\r\n\t\tcontents = s.contents,\r\n\t\tdataTypes = s.dataTypes;\r\n\r\n\t// Remove auto dataType and get content-type in the process\r\n\twhile ( dataTypes[ 0 ] === \"*\" ) {\r\n\t\tdataTypes.shift();\r\n\t\tif ( ct === undefined ) {\r\n\t\t\tct = s.mimeType || jqXHR.getResponseHeader(\"Content-Type\");\r\n\t\t}\r\n\t}\r\n\r\n\t// Check if we're dealing with a known content-type\r\n\tif ( ct ) {\r\n\t\tfor ( type in contents ) {\r\n\t\t\tif ( contents[ type ] && contents[ type ].test( ct ) ) {\r\n\t\t\t\tdataTypes.unshift( type );\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// Check to see if we have a response for the expected dataType\r\n\tif ( dataTypes[ 0 ] in responses ) {\r\n\t\tfinalDataType = dataTypes[ 0 ];\r\n\t} else {\r\n\t\t// Try convertible dataTypes\r\n\t\tfor ( type in responses ) {\r\n\t\t\tif ( !dataTypes[ 0 ] || s.converters[ type + \" \" + dataTypes[0] ] ) {\r\n\t\t\t\tfinalDataType = type;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tif ( !firstDataType ) {\r\n\t\t\t\tfirstDataType = type;\r\n\t\t\t}\r\n\t\t}\r\n\t\t// Or just use first one\r\n\t\tfinalDataType = finalDataType || firstDataType;\r\n\t}\r\n\r\n\t// If we found a dataType\r\n\t// We add the dataType to the list if needed\r\n\t// and return the corresponding response\r\n\tif ( finalDataType ) {\r\n\t\tif ( finalDataType !== dataTypes[ 0 ] ) {\r\n\t\t\tdataTypes.unshift( finalDataType );\r\n\t\t}\r\n\t\treturn responses[ finalDataType ];\r\n\t}\r\n}\r\n\r\n/* Chain conversions given the request and the original response\r\n * Also sets the responseXXX fields on the jqXHR instance\r\n */\r\nfunction ajaxConvert( s, response, jqXHR, isSuccess ) {\r\n\tvar conv2, current, conv, tmp, prev,\r\n\t\tconverters = {},\r\n\t\t// Work with a copy of dataTypes in case we need to modify it for conversion\r\n\t\tdataTypes = s.dataTypes.slice();\r\n\r\n\t// Create converters map with lowercased keys\r\n\tif ( dataTypes[ 1 ] ) {\r\n\t\tfor ( conv in s.converters ) {\r\n\t\t\tconverters[ conv.toLowerCase() ] = s.converters[ conv ];\r\n\t\t}\r\n\t}\r\n\r\n\tcurrent = dataTypes.shift();\r\n\r\n\t// Convert to each sequential dataType\r\n\twhile ( current ) {\r\n\r\n\t\tif ( s.responseFields[ current ] ) {\r\n\t\t\tjqXHR[ s.responseFields[ current ] ] = response;\r\n\t\t}\r\n\r\n\t\t// Apply the dataFilter if provided\r\n\t\tif ( !prev && isSuccess && s.dataFilter ) {\r\n\t\t\tresponse = s.dataFilter( response, s.dataType );\r\n\t\t}\r\n\r\n\t\tprev = current;\r\n\t\tcurrent = dataTypes.shift();\r\n\r\n\t\tif ( current ) {\r\n\r\n\t\t// There's only work to do if current dataType is non-auto\r\n\t\t\tif ( current === \"*\" ) {\r\n\r\n\t\t\t\tcurrent = prev;\r\n\r\n\t\t\t// Convert response if prev dataType is non-auto and differs from current\r\n\t\t\t} else if ( prev !== \"*\" && prev !== current ) {\r\n\r\n\t\t\t\t// Seek a direct converter\r\n\t\t\t\tconv = converters[ prev + \" \" + current ] || converters[ \"* \" + current ];\r\n\r\n\t\t\t\t// If none found, seek a pair\r\n\t\t\t\tif ( !conv ) {\r\n\t\t\t\t\tfor ( conv2 in converters ) {\r\n\r\n\t\t\t\t\t\t// If conv2 outputs current\r\n\t\t\t\t\t\ttmp = conv2.split( \" \" );\r\n\t\t\t\t\t\tif ( tmp[ 1 ] === current ) {\r\n\r\n\t\t\t\t\t\t\t// If prev can be converted to accepted input\r\n\t\t\t\t\t\t\tconv = converters[ prev + \" \" + tmp[ 0 ] ] ||\r\n\t\t\t\t\t\t\t\tconverters[ \"* \" + tmp[ 0 ] ];\r\n\t\t\t\t\t\t\tif ( conv ) {\r\n\t\t\t\t\t\t\t\t// Condense equivalence converters\r\n\t\t\t\t\t\t\t\tif ( conv === true ) {\r\n\t\t\t\t\t\t\t\t\tconv = converters[ conv2 ];\r\n\r\n\t\t\t\t\t\t\t\t// Otherwise, insert the intermediate dataType\r\n\t\t\t\t\t\t\t\t} else if ( converters[ conv2 ] !== true ) {\r\n\t\t\t\t\t\t\t\t\tcurrent = tmp[ 0 ];\r\n\t\t\t\t\t\t\t\t\tdataTypes.unshift( tmp[ 1 ] );\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Apply converter (if not an equivalence)\r\n\t\t\t\tif ( conv !== true ) {\r\n\r\n\t\t\t\t\t// Unless errors are allowed to bubble, catch and return them\r\n\t\t\t\t\tif ( conv && s[ \"throws\" ] ) {\r\n\t\t\t\t\t\tresponse = conv( response );\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tresponse = conv( response );\r\n\t\t\t\t\t\t} catch ( e ) {\r\n\t\t\t\t\t\t\treturn { state: \"parsererror\", error: conv ? e : \"No conversion from \" + prev + \" to \" + current };\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn { state: \"success\", data: response };\r\n}\r\n\r\njQuery.extend({\r\n\r\n\t// Counter for holding the number of active queries\r\n\tactive: 0,\r\n\r\n\t// Last-Modified header cache for next request\r\n\tlastModified: {},\r\n\tetag: {},\r\n\r\n\tajaxSettings: {\r\n\t\turl: ajaxLocation,\r\n\t\ttype: \"GET\",\r\n\t\tisLocal: rlocalProtocol.test( ajaxLocParts[ 1 ] ),\r\n\t\tglobal: true,\r\n\t\tprocessData: true,\r\n\t\tasync: true,\r\n\t\tcontentType: \"application/x-www-form-urlencoded; charset=UTF-8\",\r\n\t\t/*\r\n\t\ttimeout: 0,\r\n\t\tdata: null,\r\n\t\tdataType: null,\r\n\t\tusername: null,\r\n\t\tpassword: null,\r\n\t\tcache: null,\r\n\t\tthrows: false,\r\n\t\ttraditional: false,\r\n\t\theaders: {},\r\n\t\t*/\r\n\r\n\t\taccepts: {\r\n\t\t\t\"*\": allTypes,\r\n\t\t\ttext: \"text/plain\",\r\n\t\t\thtml: \"text/html\",\r\n\t\t\txml: \"application/xml, text/xml\",\r\n\t\t\tjson: \"application/json, text/javascript\"\r\n\t\t},\r\n\r\n\t\tcontents: {\r\n\t\t\txml: /xml/,\r\n\t\t\thtml: /html/,\r\n\t\t\tjson: /json/\r\n\t\t},\r\n\r\n\t\tresponseFields: {\r\n\t\t\txml: \"responseXML\",\r\n\t\t\ttext: \"responseText\",\r\n\t\t\tjson: \"responseJSON\"\r\n\t\t},\r\n\r\n\t\t// Data converters\r\n\t\t// Keys separate source (or catchall \"*\") and destination types with a single space\r\n\t\tconverters: {\r\n\r\n\t\t\t// Convert anything to text\r\n\t\t\t\"* text\": String,\r\n\r\n\t\t\t// Text to html (true = no transformation)\r\n\t\t\t\"text html\": true,\r\n\r\n\t\t\t// Evaluate text as a json expression\r\n\t\t\t\"text json\": jQuery.parseJSON,\r\n\r\n\t\t\t// Parse text as xml\r\n\t\t\t\"text xml\": jQuery.parseXML\r\n\t\t},\r\n\r\n\t\t// For options that shouldn't be deep extended:\r\n\t\t// you can add your own custom options here if\r\n\t\t// and when you create one that shouldn't be\r\n\t\t// deep extended (see ajaxExtend)\r\n\t\tflatOptions: {\r\n\t\t\turl: true,\r\n\t\t\tcontext: true\r\n\t\t}\r\n\t},\r\n\r\n\t// Creates a full fledged settings object into target\r\n\t// with both ajaxSettings and settings fields.\r\n\t// If target is omitted, writes into ajaxSettings.\r\n\tajaxSetup: function( target, settings ) {\r\n\t\treturn settings ?\r\n\r\n\t\t\t// Building a settings object\r\n\t\t\tajaxExtend( ajaxExtend( target, jQuery.ajaxSettings ), settings ) :\r\n\r\n\t\t\t// Extending ajaxSettings\r\n\t\t\tajaxExtend( jQuery.ajaxSettings, target );\r\n\t},\r\n\r\n\tajaxPrefilter: addToPrefiltersOrTransports( prefilters ),\r\n\tajaxTransport: addToPrefiltersOrTransports( transports ),\r\n\r\n\t// Main method\r\n\tajax: function( url, options ) {\r\n\r\n\t\t// If url is an object, simulate pre-1.5 signature\r\n\t\tif ( typeof url === \"object\" ) {\r\n\t\t\toptions = url;\r\n\t\t\turl = undefined;\r\n\t\t}\r\n\r\n\t\t// Force options to be an object\r\n\t\toptions = options || {};\r\n\r\n\t\tvar transport,\r\n\t\t\t// URL without anti-cache param\r\n\t\t\tcacheURL,\r\n\t\t\t// Response headers\r\n\t\t\tresponseHeadersString,\r\n\t\t\tresponseHeaders,\r\n\t\t\t// timeout handle\r\n\t\t\ttimeoutTimer,\r\n\t\t\t// Cross-domain detection vars\r\n\t\t\tparts,\r\n\t\t\t// To know if global events are to be dispatched\r\n\t\t\tfireGlobals,\r\n\t\t\t// Loop variable\r\n\t\t\ti,\r\n\t\t\t// Create the final options object\r\n\t\t\ts = jQuery.ajaxSetup( {}, options ),\r\n\t\t\t// Callbacks context\r\n\t\t\tcallbackContext = s.context || s,\r\n\t\t\t// Context for global events is callbackContext if it is a DOM node or jQuery collection\r\n\t\t\tglobalEventContext = s.context && ( callbackContext.nodeType || callbackContext.jquery ) ?\r\n\t\t\t\tjQuery( callbackContext ) :\r\n\t\t\t\tjQuery.event,\r\n\t\t\t// Deferreds\r\n\t\t\tdeferred = jQuery.Deferred(),\r\n\t\t\tcompleteDeferred = jQuery.Callbacks(\"once memory\"),\r\n\t\t\t// Status-dependent callbacks\r\n\t\t\tstatusCode = s.statusCode || {},\r\n\t\t\t// Headers (they are sent all at once)\r\n\t\t\trequestHeaders = {},\r\n\t\t\trequestHeadersNames = {},\r\n\t\t\t// The jqXHR state\r\n\t\t\tstate = 0,\r\n\t\t\t// Default abort message\r\n\t\t\tstrAbort = \"canceled\",\r\n\t\t\t// Fake xhr\r\n\t\t\tjqXHR = {\r\n\t\t\t\treadyState: 0,\r\n\r\n\t\t\t\t// Builds headers hashtable if needed\r\n\t\t\t\tgetResponseHeader: function( key ) {\r\n\t\t\t\t\tvar match;\r\n\t\t\t\t\tif ( state === 2 ) {\r\n\t\t\t\t\t\tif ( !responseHeaders ) {\r\n\t\t\t\t\t\t\tresponseHeaders = {};\r\n\t\t\t\t\t\t\twhile ( (match = rheaders.exec( responseHeadersString )) ) {\r\n\t\t\t\t\t\t\t\tresponseHeaders[ match[1].toLowerCase() ] = match[ 2 ];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tmatch = responseHeaders[ key.toLowerCase() ];\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn match == null ? null : match;\r\n\t\t\t\t},\r\n\r\n\t\t\t\t// Raw string\r\n\t\t\t\tgetAllResponseHeaders: function() {\r\n\t\t\t\t\treturn state === 2 ? responseHeadersString : null;\r\n\t\t\t\t},\r\n\r\n\t\t\t\t// Caches the header\r\n\t\t\t\tsetRequestHeader: function( name, value ) {\r\n\t\t\t\t\tvar lname = name.toLowerCase();\r\n\t\t\t\t\tif ( !state ) {\r\n\t\t\t\t\t\tname = requestHeadersNames[ lname ] = requestHeadersNames[ lname ] || name;\r\n\t\t\t\t\t\trequestHeaders[ name ] = value;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn this;\r\n\t\t\t\t},\r\n\r\n\t\t\t\t// Overrides response content-type header\r\n\t\t\t\toverrideMimeType: function( type ) {\r\n\t\t\t\t\tif ( !state ) {\r\n\t\t\t\t\t\ts.mimeType = type;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn this;\r\n\t\t\t\t},\r\n\r\n\t\t\t\t// Status-dependent callbacks\r\n\t\t\t\tstatusCode: function( map ) {\r\n\t\t\t\t\tvar code;\r\n\t\t\t\t\tif ( map ) {\r\n\t\t\t\t\t\tif ( state < 2 ) {\r\n\t\t\t\t\t\t\tfor ( code in map ) {\r\n\t\t\t\t\t\t\t\t// Lazy-add the new callback in a way that preserves old ones\r\n\t\t\t\t\t\t\t\tstatusCode[ code ] = [ statusCode[ code ], map[ code ] ];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// Execute the appropriate callbacks\r\n\t\t\t\t\t\t\tjqXHR.always( map[ jqXHR.status ] );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn this;\r\n\t\t\t\t},\r\n\r\n\t\t\t\t// Cancel the request\r\n\t\t\t\tabort: function( statusText ) {\r\n\t\t\t\t\tvar finalText = statusText || strAbort;\r\n\t\t\t\t\tif ( transport ) {\r\n\t\t\t\t\t\ttransport.abort( finalText );\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdone( 0, finalText );\r\n\t\t\t\t\treturn this;\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t// Attach deferreds\r\n\t\tdeferred.promise( jqXHR ).complete = completeDeferred.add;\r\n\t\tjqXHR.success = jqXHR.done;\r\n\t\tjqXHR.error = jqXHR.fail;\r\n\r\n\t\t// Remove hash character (#7531: and string promotion)\r\n\t\t// Add protocol if not provided (prefilters might expect it)\r\n\t\t// Handle falsy url in the settings object (#10093: consistency with old signature)\r\n\t\t// We also use the url parameter if available\r\n\t\ts.url = ( ( url || s.url || ajaxLocation ) + \"\" ).replace( rhash, \"\" )\r\n\t\t\t.replace( rprotocol, ajaxLocParts[ 1 ] + \"//\" );\r\n\r\n\t\t// Alias method option to type as per ticket #12004\r\n\t\ts.type = options.method || options.type || s.method || s.type;\r\n\r\n\t\t// Extract dataTypes list\r\n\t\ts.dataTypes = jQuery.trim( s.dataType || \"*\" ).toLowerCase().match( rnotwhite ) || [ \"\" ];\r\n\r\n\t\t// A cross-domain request is in order when we have a protocol:host:port mismatch\r\n\t\tif ( s.crossDomain == null ) {\r\n\t\t\tparts = rurl.exec( s.url.toLowerCase() );\r\n\t\t\ts.crossDomain = !!( parts &&\r\n\t\t\t\t( parts[ 1 ] !== ajaxLocParts[ 1 ] || parts[ 2 ] !== ajaxLocParts[ 2 ] ||\r\n\t\t\t\t\t( parts[ 3 ] || ( parts[ 1 ] === \"http:\" ? \"80\" : \"443\" ) ) !==\r\n\t\t\t\t\t\t( ajaxLocParts[ 3 ] || ( ajaxLocParts[ 1 ] === \"http:\" ? \"80\" : \"443\" ) ) )\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\t// Convert data if not already a string\r\n\t\tif ( s.data && s.processData && typeof s.data !== \"string\" ) {\r\n\t\t\ts.data = jQuery.param( s.data, s.traditional );\r\n\t\t}\r\n\r\n\t\t// Apply prefilters\r\n\t\tinspectPrefiltersOrTransports( prefilters, s, options, jqXHR );\r\n\r\n\t\t// If request was aborted inside a prefilter, stop there\r\n\t\tif ( state === 2 ) {\r\n\t\t\treturn jqXHR;\r\n\t\t}\r\n\r\n\t\t// We can fire global events as of now if asked to\r\n\t\tfireGlobals = s.global;\r\n\r\n\t\t// Watch for a new set of requests\r\n\t\tif ( fireGlobals && jQuery.active++ === 0 ) {\r\n\t\t\tjQuery.event.trigger(\"ajaxStart\");\r\n\t\t}\r\n\r\n\t\t// Uppercase the type\r\n\t\ts.type = s.type.toUpperCase();\r\n\r\n\t\t// Determine if request has content\r\n\t\ts.hasContent = !rnoContent.test( s.type );\r\n\r\n\t\t// Save the URL in case we're toying with the If-Modified-Since\r\n\t\t// and/or If-None-Match header later on\r\n\t\tcacheURL = s.url;\r\n\r\n\t\t// More options handling for requests with no content\r\n\t\tif ( !s.hasContent ) {\r\n\r\n\t\t\t// If data is available, append data to url\r\n\t\t\tif ( s.data ) {\r\n\t\t\t\tcacheURL = ( s.url += ( rquery.test( cacheURL ) ? \"&\" : \"?\" ) + s.data );\r\n\t\t\t\t// #9682: remove data so that it's not used in an eventual retry\r\n\t\t\t\tdelete s.data;\r\n\t\t\t}\r\n\r\n\t\t\t// Add anti-cache in url if needed\r\n\t\t\tif ( s.cache === false ) {\r\n\t\t\t\ts.url = rts.test( cacheURL ) ?\r\n\r\n\t\t\t\t\t// If there is already a '_' parameter, set its value\r\n\t\t\t\t\tcacheURL.replace( rts, \"$1_=\" + nonce++ ) :\r\n\r\n\t\t\t\t\t// Otherwise add one to the end\r\n\t\t\t\t\tcacheURL + ( rquery.test( cacheURL ) ? \"&\" : \"?\" ) + \"_=\" + nonce++;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.\r\n\t\tif ( s.ifModified ) {\r\n\t\t\tif ( jQuery.lastModified[ cacheURL ] ) {\r\n\t\t\t\tjqXHR.setRequestHeader( \"If-Modified-Since\", jQuery.lastModified[ cacheURL ] );\r\n\t\t\t}\r\n\t\t\tif ( jQuery.etag[ cacheURL ] ) {\r\n\t\t\t\tjqXHR.setRequestHeader( \"If-None-Match\", jQuery.etag[ cacheURL ] );\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Set the correct header, if data is being sent\r\n\t\tif ( s.data && s.hasContent && s.contentType !== false || options.contentType ) {\r\n\t\t\tjqXHR.setRequestHeader( \"Content-Type\", s.contentType );\r\n\t\t}\r\n\r\n\t\t// Set the Accepts header for the server, depending on the dataType\r\n\t\tjqXHR.setRequestHeader(\r\n\t\t\t\"Accept\",\r\n\t\t\ts.dataTypes[ 0 ] && s.accepts[ s.dataTypes[0] ] ?\r\n\t\t\t\ts.accepts[ s.dataTypes[0] ] + ( s.dataTypes[ 0 ] !== \"*\" ? \", \" + allTypes + \"; q=0.01\" : \"\" ) :\r\n\t\t\t\ts.accepts[ \"*\" ]\r\n\t\t);\r\n\r\n\t\t// Check for headers option\r\n\t\tfor ( i in s.headers ) {\r\n\t\t\tjqXHR.setRequestHeader( i, s.headers[ i ] );\r\n\t\t}\r\n\r\n\t\t// Allow custom headers/mimetypes and early abort\r\n\t\tif ( s.beforeSend && ( s.beforeSend.call( callbackContext, jqXHR, s ) === false || state === 2 ) ) {\r\n\t\t\t// Abort if not done already and return\r\n\t\t\treturn jqXHR.abort();\r\n\t\t}\r\n\r\n\t\t// aborting is no longer a cancellation\r\n\t\tstrAbort = \"abort\";\r\n\r\n\t\t// Install callbacks on deferreds\r\n\t\tfor ( i in { success: 1, error: 1, complete: 1 } ) {\r\n\t\t\tjqXHR[ i ]( s[ i ] );\r\n\t\t}\r\n\r\n\t\t// Get transport\r\n\t\ttransport = inspectPrefiltersOrTransports( transports, s, options, jqXHR );\r\n\r\n\t\t// If no transport, we auto-abort\r\n\t\tif ( !transport ) {\r\n\t\t\tdone( -1, \"No Transport\" );\r\n\t\t} else {\r\n\t\t\tjqXHR.readyState = 1;\r\n\r\n\t\t\t// Send global event\r\n\t\t\tif ( fireGlobals ) {\r\n\t\t\t\tglobalEventContext.trigger( \"ajaxSend\", [ jqXHR, s ] );\r\n\t\t\t}\r\n\t\t\t// Timeout\r\n\t\t\tif ( s.async && s.timeout > 0 ) {\r\n\t\t\t\ttimeoutTimer = setTimeout(function() {\r\n\t\t\t\t\tjqXHR.abort(\"timeout\");\r\n\t\t\t\t}, s.timeout );\r\n\t\t\t}\r\n\r\n\t\t\ttry {\r\n\t\t\t\tstate = 1;\r\n\t\t\t\ttransport.send( requestHeaders, done );\r\n\t\t\t} catch ( e ) {\r\n\t\t\t\t// Propagate exception as error if not done\r\n\t\t\t\tif ( state < 2 ) {\r\n\t\t\t\t\tdone( -1, e );\r\n\t\t\t\t// Simply rethrow otherwise\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthrow e;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Callback for when everything is done\r\n\t\tfunction done( status, nativeStatusText, responses, headers ) {\r\n\t\t\tvar isSuccess, success, error, response, modified,\r\n\t\t\t\tstatusText = nativeStatusText;\r\n\r\n\t\t\t// Called once\r\n\t\t\tif ( state === 2 ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// State is \"done\" now\r\n\t\t\tstate = 2;\r\n\r\n\t\t\t// Clear timeout if it exists\r\n\t\t\tif ( timeoutTimer ) {\r\n\t\t\t\tclearTimeout( timeoutTimer );\r\n\t\t\t}\r\n\r\n\t\t\t// Dereference transport for early garbage collection\r\n\t\t\t// (no matter how long the jqXHR object will be used)\r\n\t\t\ttransport = undefined;\r\n\r\n\t\t\t// Cache response headers\r\n\t\t\tresponseHeadersString = headers || \"\";\r\n\r\n\t\t\t// Set readyState\r\n\t\t\tjqXHR.readyState = status > 0 ? 4 : 0;\r\n\r\n\t\t\t// Determine if successful\r\n\t\t\tisSuccess = status >= 200 && status < 300 || status === 304;\r\n\r\n\t\t\t// Get response data\r\n\t\t\tif ( responses ) {\r\n\t\t\t\tresponse = ajaxHandleResponses( s, jqXHR, responses );\r\n\t\t\t}\r\n\r\n\t\t\t// Convert no matter what (that way responseXXX fields are always set)\r\n\t\t\tresponse = ajaxConvert( s, response, jqXHR, isSuccess );\r\n\r\n\t\t\t// If successful, handle type chaining\r\n\t\t\tif ( isSuccess ) {\r\n\r\n\t\t\t\t// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.\r\n\t\t\t\tif ( s.ifModified ) {\r\n\t\t\t\t\tmodified = jqXHR.getResponseHeader(\"Last-Modified\");\r\n\t\t\t\t\tif ( modified ) {\r\n\t\t\t\t\t\tjQuery.lastModified[ cacheURL ] = modified;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tmodified = jqXHR.getResponseHeader(\"etag\");\r\n\t\t\t\t\tif ( modified ) {\r\n\t\t\t\t\t\tjQuery.etag[ cacheURL ] = modified;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// if no content\r\n\t\t\t\tif ( status === 204 || s.type === \"HEAD\" ) {\r\n\t\t\t\t\tstatusText = \"nocontent\";\r\n\r\n\t\t\t\t// if not modified\r\n\t\t\t\t} else if ( status === 304 ) {\r\n\t\t\t\t\tstatusText = \"notmodified\";\r\n\r\n\t\t\t\t// If we have data, let's convert it\r\n\t\t\t\t} else {\r\n\t\t\t\t\tstatusText = response.state;\r\n\t\t\t\t\tsuccess = response.data;\r\n\t\t\t\t\terror = response.error;\r\n\t\t\t\t\tisSuccess = !error;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t// We extract error from statusText\r\n\t\t\t\t// then normalize statusText and status for non-aborts\r\n\t\t\t\terror = statusText;\r\n\t\t\t\tif ( status || !statusText ) {\r\n\t\t\t\t\tstatusText = \"error\";\r\n\t\t\t\t\tif ( status < 0 ) {\r\n\t\t\t\t\t\tstatus = 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Set data for the fake xhr object\r\n\t\t\tjqXHR.status = status;\r\n\t\t\tjqXHR.statusText = ( nativeStatusText || statusText ) + \"\";\r\n\r\n\t\t\t// Success/Error\r\n\t\t\tif ( isSuccess ) {\r\n\t\t\t\tdeferred.resolveWith( callbackContext, [ success, statusText, jqXHR ] );\r\n\t\t\t} else {\r\n\t\t\t\tdeferred.rejectWith( callbackContext, [ jqXHR, statusText, error ] );\r\n\t\t\t}\r\n\r\n\t\t\t// Status-dependent callbacks\r\n\t\t\tjqXHR.statusCode( statusCode );\r\n\t\t\tstatusCode = undefined;\r\n\r\n\t\t\tif ( fireGlobals ) {\r\n\t\t\t\tglobalEventContext.trigger( isSuccess ? \"ajaxSuccess\" : \"ajaxError\",\r\n\t\t\t\t\t[ jqXHR, s, isSuccess ? success : error ] );\r\n\t\t\t}\r\n\r\n\t\t\t// Complete\r\n\t\t\tcompleteDeferred.fireWith( callbackContext, [ jqXHR, statusText ] );\r\n\r\n\t\t\tif ( fireGlobals ) {\r\n\t\t\t\tglobalEventContext.trigger( \"ajaxComplete\", [ jqXHR, s ] );\r\n\t\t\t\t// Handle the global AJAX counter\r\n\t\t\t\tif ( !( --jQuery.active ) ) {\r\n\t\t\t\t\tjQuery.event.trigger(\"ajaxStop\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn jqXHR;\r\n\t},\r\n\r\n\tgetJSON: function( url, data, callback ) {\r\n\t\treturn jQuery.get( url, data, callback, \"json\" );\r\n\t},\r\n\r\n\tgetScript: function( url, callback ) {\r\n\t\treturn jQuery.get( url, undefined, callback, \"script\" );\r\n\t}\r\n});\r\n\r\njQuery.each( [ \"get\", \"post\" ], function( i, method ) {\r\n\tjQuery[ method ] = function( url, data, callback, type ) {\r\n\t\t// shift arguments if data argument was omitted\r\n\t\tif ( jQuery.isFunction( data ) ) {\r\n\t\t\ttype = type || callback;\r\n\t\t\tcallback = data;\r\n\t\t\tdata = undefined;\r\n\t\t}\r\n\r\n\t\treturn jQuery.ajax({\r\n\t\t\turl: url,\r\n\t\t\ttype: method,\r\n\t\t\tdataType: type,\r\n\t\t\tdata: data,\r\n\t\t\tsuccess: callback\r\n\t\t});\r\n\t};\r\n});\r\n\r\n// Attach a bunch of functions for handling common AJAX events\r\njQuery.each( [ \"ajaxStart\", \"ajaxStop\", \"ajaxComplete\", \"ajaxError\", \"ajaxSuccess\", \"ajaxSend\" ], function( i, type ) {\r\n\tjQuery.fn[ type ] = function( fn ) {\r\n\t\treturn this.on( type, fn );\r\n\t};\r\n});\r\n\r\n\r\njQuery._evalUrl = function( url ) {\r\n\treturn jQuery.ajax({\r\n\t\turl: url,\r\n\t\ttype: \"GET\",\r\n\t\tdataType: \"script\",\r\n\t\tasync: false,\r\n\t\tglobal: false,\r\n\t\t\"throws\": true\r\n\t});\r\n};\r\n\r\n\r\njQuery.fn.extend({\r\n\twrapAll: function( html ) {\r\n\t\tvar wrap;\r\n\r\n\t\tif ( jQuery.isFunction( html ) ) {\r\n\t\t\treturn this.each(function( i ) {\r\n\t\t\t\tjQuery( this ).wrapAll( html.call(this, i) );\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif ( this[ 0 ] ) {\r\n\r\n\t\t\t// The elements to wrap the target around\r\n\t\t\twrap = jQuery( html, this[ 0 ].ownerDocument ).eq( 0 ).clone( true );\r\n\r\n\t\t\tif ( this[ 0 ].parentNode ) {\r\n\t\t\t\twrap.insertBefore( this[ 0 ] );\r\n\t\t\t}\r\n\r\n\t\t\twrap.map(function() {\r\n\t\t\t\tvar elem = this;\r\n\r\n\t\t\t\twhile ( elem.firstElementChild ) {\r\n\t\t\t\t\telem = elem.firstElementChild;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn elem;\r\n\t\t\t}).append( this );\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\twrapInner: function( html ) {\r\n\t\tif ( jQuery.isFunction( html ) ) {\r\n\t\t\treturn this.each(function( i ) {\r\n\t\t\t\tjQuery( this ).wrapInner( html.call(this, i) );\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\treturn this.each(function() {\r\n\t\t\tvar self = jQuery( this ),\r\n\t\t\t\tcontents = self.contents();\r\n\r\n\t\t\tif ( contents.length ) {\r\n\t\t\t\tcontents.wrapAll( html );\r\n\r\n\t\t\t} else {\r\n\t\t\t\tself.append( html );\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\r\n\twrap: function( html ) {\r\n\t\tvar isFunction = jQuery.isFunction( html );\r\n\r\n\t\treturn this.each(function( i ) {\r\n\t\t\tjQuery( this ).wrapAll( isFunction ? html.call(this, i) : html );\r\n\t\t});\r\n\t},\r\n\r\n\tunwrap: function() {\r\n\t\treturn this.parent().each(function() {\r\n\t\t\tif ( !jQuery.nodeName( this, \"body\" ) ) {\r\n\t\t\t\tjQuery( this ).replaceWith( this.childNodes );\r\n\t\t\t}\r\n\t\t}).end();\r\n\t}\r\n});\r\n\r\n\r\njQuery.expr.filters.hidden = function( elem ) {\r\n\t// Support: Opera <= 12.12\r\n\t// Opera reports offsetWidths and offsetHeights less than zero on some elements\r\n\treturn elem.offsetWidth <= 0 && elem.offsetHeight <= 0;\r\n};\r\njQuery.expr.filters.visible = function( elem ) {\r\n\treturn !jQuery.expr.filters.hidden( elem );\r\n};\r\n\r\n\r\n\r\n\r\nvar r20 = /%20/g,\r\n\trbracket = /\\[\\]$/,\r\n\trCRLF = /\\r?\\n/g,\r\n\trsubmitterTypes = /^(?:submit|button|image|reset|file)$/i,\r\n\trsubmittable = /^(?:input|select|textarea|keygen)/i;\r\n\r\nfunction buildParams( prefix, obj, traditional, add ) {\r\n\tvar name;\r\n\r\n\tif ( jQuery.isArray( obj ) ) {\r\n\t\t// Serialize array item.\r\n\t\tjQuery.each( obj, function( i, v ) {\r\n\t\t\tif ( traditional || rbracket.test( prefix ) ) {\r\n\t\t\t\t// Treat each array item as a scalar.\r\n\t\t\t\tadd( prefix, v );\r\n\r\n\t\t\t} else {\r\n\t\t\t\t// Item is non-scalar (array or object), encode its numeric index.\r\n\t\t\t\tbuildParams( prefix + \"[\" + ( typeof v === \"object\" ? i : \"\" ) + \"]\", v, traditional, add );\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t} else if ( !traditional && jQuery.type( obj ) === \"object\" ) {\r\n\t\t// Serialize object item.\r\n\t\tfor ( name in obj ) {\r\n\t\t\tbuildParams( prefix + \"[\" + name + \"]\", obj[ name ], traditional, add );\r\n\t\t}\r\n\r\n\t} else {\r\n\t\t// Serialize scalar item.\r\n\t\tadd( prefix, obj );\r\n\t}\r\n}\r\n\r\n// Serialize an array of form elements or a set of\r\n// key/values into a query string\r\njQuery.param = function( a, traditional ) {\r\n\tvar prefix,\r\n\t\ts = [],\r\n\t\tadd = function( key, value ) {\r\n\t\t\t// If value is a function, invoke it and return its value\r\n\t\t\tvalue = jQuery.isFunction( value ) ? value() : ( value == null ? \"\" : value );\r\n\t\t\ts[ s.length ] = encodeURIComponent( key ) + \"=\" + encodeURIComponent( value );\r\n\t\t};\r\n\r\n\t// Set traditional to true for jQuery <= 1.3.2 behavior.\r\n\tif ( traditional === undefined ) {\r\n\t\ttraditional = jQuery.ajaxSettings && jQuery.ajaxSettings.traditional;\r\n\t}\r\n\r\n\t// If an array was passed in, assume that it is an array of form elements.\r\n\tif ( jQuery.isArray( a ) || ( a.jquery && !jQuery.isPlainObject( a ) ) ) {\r\n\t\t// Serialize the form elements\r\n\t\tjQuery.each( a, function() {\r\n\t\t\tadd( this.name, this.value );\r\n\t\t});\r\n\r\n\t} else {\r\n\t\t// If traditional, encode the \"old\" way (the way 1.3.2 or older\r\n\t\t// did it), otherwise encode params recursively.\r\n\t\tfor ( prefix in a ) {\r\n\t\t\tbuildParams( prefix, a[ prefix ], traditional, add );\r\n\t\t}\r\n\t}\r\n\r\n\t// Return the resulting serialization\r\n\treturn s.join( \"&\" ).replace( r20, \"+\" );\r\n};\r\n\r\njQuery.fn.extend({\r\n\tserialize: function() {\r\n\t\treturn jQuery.param( this.serializeArray() );\r\n\t},\r\n\tserializeArray: function() {\r\n\t\treturn this.map(function() {\r\n\t\t\t// Can add propHook for \"elements\" to filter or add form elements\r\n\t\t\tvar elements = jQuery.prop( this, \"elements\" );\r\n\t\t\treturn elements ? jQuery.makeArray( elements ) : this;\r\n\t\t})\r\n\t\t.filter(function() {\r\n\t\t\tvar type = this.type;\r\n\r\n\t\t\t// Use .is( \":disabled\" ) so that fieldset[disabled] works\r\n\t\t\treturn this.name && !jQuery( this ).is( \":disabled\" ) &&\r\n\t\t\t\trsubmittable.test( this.nodeName ) && !rsubmitterTypes.test( type ) &&\r\n\t\t\t\t( this.checked || !rcheckableType.test( type ) );\r\n\t\t})\r\n\t\t.map(function( i, elem ) {\r\n\t\t\tvar val = jQuery( this ).val();\r\n\r\n\t\t\treturn val == null ?\r\n\t\t\t\tnull :\r\n\t\t\t\tjQuery.isArray( val ) ?\r\n\t\t\t\t\tjQuery.map( val, function( val ) {\r\n\t\t\t\t\t\treturn { name: elem.name, value: val.replace( rCRLF, \"\\r\\n\" ) };\r\n\t\t\t\t\t}) :\r\n\t\t\t\t\t{ name: elem.name, value: val.replace( rCRLF, \"\\r\\n\" ) };\r\n\t\t}).get();\r\n\t}\r\n});\r\n\r\n\r\njQuery.ajaxSettings.xhr = function() {\r\n\ttry {\r\n\t\treturn new XMLHttpRequest();\r\n\t} catch( e ) {}\r\n};\r\n\r\nvar xhrId = 0,\r\n\txhrCallbacks = {},\r\n\txhrSuccessStatus = {\r\n\t\t// file protocol always yields status code 0, assume 200\r\n\t\t0: 200,\r\n\t\t// Support: IE9\r\n\t\t// #1450: sometimes IE returns 1223 when it should be 204\r\n\t\t1223: 204\r\n\t},\r\n\txhrSupported = jQuery.ajaxSettings.xhr();\r\n\r\n// Support: IE9\r\n// Open requests must be manually aborted on unload (#5280)\r\nif ( window.ActiveXObject ) {\r\n\tjQuery( window ).on( \"unload\", function() {\r\n\t\tfor ( var key in xhrCallbacks ) {\r\n\t\t\txhrCallbacks[ key ]();\r\n\t\t}\r\n\t});\r\n}\r\n\r\nsupport.cors = !!xhrSupported && ( \"withCredentials\" in xhrSupported );\r\nsupport.ajax = xhrSupported = !!xhrSupported;\r\n\r\njQuery.ajaxTransport(function( options ) {\r\n\tvar callback;\r\n\r\n\t// Cross domain only allowed if supported through XMLHttpRequest\r\n\tif ( support.cors || xhrSupported && !options.crossDomain ) {\r\n\t\treturn {\r\n\t\t\tsend: function( headers, complete ) {\r\n\t\t\t\tvar i,\r\n\t\t\t\t\txhr = options.xhr(),\r\n\t\t\t\t\tid = ++xhrId;\r\n\r\n\t\t\t\txhr.open( options.type, options.url, options.async, options.username, options.password );\r\n\r\n\t\t\t\t// Apply custom fields if provided\r\n\t\t\t\tif ( options.xhrFields ) {\r\n\t\t\t\t\tfor ( i in options.xhrFields ) {\r\n\t\t\t\t\t\txhr[ i ] = options.xhrFields[ i ];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Override mime type if needed\r\n\t\t\t\tif ( options.mimeType && xhr.overrideMimeType ) {\r\n\t\t\t\t\txhr.overrideMimeType( options.mimeType );\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// X-Requested-With header\r\n\t\t\t\t// For cross-domain requests, seeing as conditions for a preflight are\r\n\t\t\t\t// akin to a jigsaw puzzle, we simply never set it to be sure.\r\n\t\t\t\t// (it can always be set on a per-request basis or even using ajaxSetup)\r\n\t\t\t\t// For same-domain requests, won't change header if already provided.\r\n\t\t\t\tif ( !options.crossDomain && !headers[\"X-Requested-With\"] ) {\r\n\t\t\t\t\theaders[\"X-Requested-With\"] = \"XMLHttpRequest\";\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Set headers\r\n\t\t\t\tfor ( i in headers ) {\r\n\t\t\t\t\txhr.setRequestHeader( i, headers[ i ] );\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Callback\r\n\t\t\t\tcallback = function( type ) {\r\n\t\t\t\t\treturn function() {\r\n\t\t\t\t\t\tif ( callback ) {\r\n\t\t\t\t\t\t\tdelete xhrCallbacks[ id ];\r\n\t\t\t\t\t\t\tcallback = xhr.onload = xhr.onerror = null;\r\n\r\n\t\t\t\t\t\t\tif ( type === \"abort\" ) {\r\n\t\t\t\t\t\t\t\txhr.abort();\r\n\t\t\t\t\t\t\t} else if ( type === \"error\" ) {\r\n\t\t\t\t\t\t\t\tcomplete(\r\n\t\t\t\t\t\t\t\t\t// file: protocol always yields status 0; see #8605, #14207\r\n\t\t\t\t\t\t\t\t\txhr.status,\r\n\t\t\t\t\t\t\t\t\txhr.statusText\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tcomplete(\r\n\t\t\t\t\t\t\t\t\txhrSuccessStatus[ xhr.status ] || xhr.status,\r\n\t\t\t\t\t\t\t\t\txhr.statusText,\r\n\t\t\t\t\t\t\t\t\t// Support: IE9\r\n\t\t\t\t\t\t\t\t\t// Accessing binary-data responseText throws an exception\r\n\t\t\t\t\t\t\t\t\t// (#11426)\r\n\t\t\t\t\t\t\t\t\ttypeof xhr.responseText === \"string\" ? {\r\n\t\t\t\t\t\t\t\t\t\ttext: xhr.responseText\r\n\t\t\t\t\t\t\t\t\t} : undefined,\r\n\t\t\t\t\t\t\t\t\txhr.getAllResponseHeaders()\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\t\t\t\t};\r\n\r\n\t\t\t\t// Listen to events\r\n\t\t\t\txhr.onload = callback();\r\n\t\t\t\txhr.onerror = callback(\"error\");\r\n\r\n\t\t\t\t// Create the abort callback\r\n\t\t\t\tcallback = xhrCallbacks[ id ] = callback(\"abort\");\r\n\r\n\t\t\t\ttry {\r\n\t\t\t\t\t// Do send the request (this may raise an exception)\r\n\t\t\t\t\txhr.send( options.hasContent && options.data || null );\r\n\t\t\t\t} catch ( e ) {\r\n\t\t\t\t\t// #14683: Only rethrow if this hasn't been notified as an error yet\r\n\t\t\t\t\tif ( callback ) {\r\n\t\t\t\t\t\tthrow e;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tabort: function() {\r\n\t\t\t\tif ( callback ) {\r\n\t\t\t\t\tcallback();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n});\r\n\r\n\r\n\r\n\r\n// Install script dataType\r\njQuery.ajaxSetup({\r\n\taccepts: {\r\n\t\tscript: \"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript\"\r\n\t},\r\n\tcontents: {\r\n\t\tscript: /(?:java|ecma)script/\r\n\t},\r\n\tconverters: {\r\n\t\t\"text script\": function( text ) {\r\n\t\t\tjQuery.globalEval( text );\r\n\t\t\treturn text;\r\n\t\t}\r\n\t}\r\n});\r\n\r\n// Handle cache's special case and crossDomain\r\njQuery.ajaxPrefilter( \"script\", function( s ) {\r\n\tif ( s.cache === undefined ) {\r\n\t\ts.cache = false;\r\n\t}\r\n\tif ( s.crossDomain ) {\r\n\t\ts.type = \"GET\";\r\n\t}\r\n});\r\n\r\n// Bind script tag hack transport\r\njQuery.ajaxTransport( \"script\", function( s ) {\r\n\t// This transport only deals with cross domain requests\r\n\tif ( s.crossDomain ) {\r\n\t\tvar script, callback;\r\n\t\treturn {\r\n\t\t\tsend: function( _, complete ) {\r\n\t\t\t\tscript = jQuery(\"<script>\").prop({\r\n\t\t\t\t\tasync: true,\r\n\t\t\t\t\tcharset: s.scriptCharset,\r\n\t\t\t\t\tsrc: s.url\r\n\t\t\t\t}).on(\r\n\t\t\t\t\t\"load error\",\r\n\t\t\t\t\tcallback = function( evt ) {\r\n\t\t\t\t\t\tscript.remove();\r\n\t\t\t\t\t\tcallback = null;\r\n\t\t\t\t\t\tif ( evt ) {\r\n\t\t\t\t\t\t\tcomplete( evt.type === \"error\" ? 404 : 200, evt.type );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t\tdocument.head.appendChild( script[ 0 ] );\r\n\t\t\t},\r\n\t\t\tabort: function() {\r\n\t\t\t\tif ( callback ) {\r\n\t\t\t\t\tcallback();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n});\r\n\r\n\r\n\r\n\r\nvar oldCallbacks = [],\r\n\trjsonp = /(=)\\?(?=&|$)|\\?\\?/;\r\n\r\n// Default jsonp settings\r\njQuery.ajaxSetup({\r\n\tjsonp: \"callback\",\r\n\tjsonpCallback: function() {\r\n\t\tvar callback = oldCallbacks.pop() || ( jQuery.expando + \"_\" + ( nonce++ ) );\r\n\t\tthis[ callback ] = true;\r\n\t\treturn callback;\r\n\t}\r\n});\r\n\r\n// Detect, normalize options and install callbacks for jsonp requests\r\njQuery.ajaxPrefilter( \"json jsonp\", function( s, originalSettings, jqXHR ) {\r\n\r\n\tvar callbackName, overwritten, responseContainer,\r\n\t\tjsonProp = s.jsonp !== false && ( rjsonp.test( s.url ) ?\r\n\t\t\t\"url\" :\r\n\t\t\ttypeof s.data === \"string\" && !( s.contentType || \"\" ).indexOf(\"application/x-www-form-urlencoded\") && rjsonp.test( s.data ) && \"data\"\r\n\t\t);\r\n\r\n\t// Handle iff the expected data type is \"jsonp\" or we have a parameter to set\r\n\tif ( jsonProp || s.dataTypes[ 0 ] === \"jsonp\" ) {\r\n\r\n\t\t// Get callback name, remembering preexisting value associated with it\r\n\t\tcallbackName = s.jsonpCallback = jQuery.isFunction( s.jsonpCallback ) ?\r\n\t\t\ts.jsonpCallback() :\r\n\t\t\ts.jsonpCallback;\r\n\r\n\t\t// Insert callback into url or form data\r\n\t\tif ( jsonProp ) {\r\n\t\t\ts[ jsonProp ] = s[ jsonProp ].replace( rjsonp, \"$1\" + callbackName );\r\n\t\t} else if ( s.jsonp !== false ) {\r\n\t\t\ts.url += ( rquery.test( s.url ) ? \"&\" : \"?\" ) + s.jsonp + \"=\" + callbackName;\r\n\t\t}\r\n\r\n\t\t// Use data converter to retrieve json after script execution\r\n\t\ts.converters[\"script json\"] = function() {\r\n\t\t\tif ( !responseContainer ) {\r\n\t\t\t\tjQuery.error( callbackName + \" was not called\" );\r\n\t\t\t}\r\n\t\t\treturn responseContainer[ 0 ];\r\n\t\t};\r\n\r\n\t\t// force json dataType\r\n\t\ts.dataTypes[ 0 ] = \"json\";\r\n\r\n\t\t// Install callback\r\n\t\toverwritten = window[ callbackName ];\r\n\t\twindow[ callbackName ] = function() {\r\n\t\t\tresponseContainer = arguments;\r\n\t\t};\r\n\r\n\t\t// Clean-up function (fires after converters)\r\n\t\tjqXHR.always(function() {\r\n\t\t\t// Restore preexisting value\r\n\t\t\twindow[ callbackName ] = overwritten;\r\n\r\n\t\t\t// Save back as free\r\n\t\t\tif ( s[ callbackName ] ) {\r\n\t\t\t\t// make sure that re-using the options doesn't screw things around\r\n\t\t\t\ts.jsonpCallback = originalSettings.jsonpCallback;\r\n\r\n\t\t\t\t// save the callback name for future use\r\n\t\t\t\toldCallbacks.push( callbackName );\r\n\t\t\t}\r\n\r\n\t\t\t// Call if it was a function and we have a response\r\n\t\t\tif ( responseContainer && jQuery.isFunction( overwritten ) ) {\r\n\t\t\t\toverwritten( responseContainer[ 0 ] );\r\n\t\t\t}\r\n\r\n\t\t\tresponseContainer = overwritten = undefined;\r\n\t\t});\r\n\r\n\t\t// Delegate to script\r\n\t\treturn \"script\";\r\n\t}\r\n});\r\n\r\n\r\n\r\n\r\n// data: string of html\r\n// context (optional): If specified, the fragment will be created in this context, defaults to document\r\n// keepScripts (optional): If true, will include scripts passed in the html string\r\njQuery.parseHTML = function( data, context, keepScripts ) {\r\n\tif ( !data || typeof data !== \"string\" ) {\r\n\t\treturn null;\r\n\t}\r\n\tif ( typeof context === \"boolean\" ) {\r\n\t\tkeepScripts = context;\r\n\t\tcontext = false;\r\n\t}\r\n\tcontext = context || document;\r\n\r\n\tvar parsed = rsingleTag.exec( data ),\r\n\t\tscripts = !keepScripts && [];\r\n\r\n\t// Single tag\r\n\tif ( parsed ) {\r\n\t\treturn [ context.createElement( parsed[1] ) ];\r\n\t}\r\n\r\n\tparsed = jQuery.buildFragment( [ data ], context, scripts );\r\n\r\n\tif ( scripts && scripts.length ) {\r\n\t\tjQuery( scripts ).remove();\r\n\t}\r\n\r\n\treturn jQuery.merge( [], parsed.childNodes );\r\n};\r\n\r\n\r\n// Keep a copy of the old load method\r\nvar _load = jQuery.fn.load;\r\n\r\n/**\r\n * Load a url into a page\r\n */\r\njQuery.fn.load = function( url, params, callback ) {\r\n\tif ( typeof url !== \"string\" && _load ) {\r\n\t\treturn _load.apply( this, arguments );\r\n\t}\r\n\r\n\tvar selector, type, response,\r\n\t\tself = this,\r\n\t\toff = url.indexOf(\" \");\r\n\r\n\tif ( off >= 0 ) {\r\n\t\tselector = jQuery.trim( url.slice( off ) );\r\n\t\turl = url.slice( 0, off );\r\n\t}\r\n\r\n\t// If it's a function\r\n\tif ( jQuery.isFunction( params ) ) {\r\n\r\n\t\t// We assume that it's the callback\r\n\t\tcallback = params;\r\n\t\tparams = undefined;\r\n\r\n\t// Otherwise, build a param string\r\n\t} else if ( params && typeof params === \"object\" ) {\r\n\t\ttype = \"POST\";\r\n\t}\r\n\r\n\t// If we have elements to modify, make the request\r\n\tif ( self.length > 0 ) {\r\n\t\tjQuery.ajax({\r\n\t\t\turl: url,\r\n\r\n\t\t\t// if \"type\" variable is undefined, then \"GET\" method will be used\r\n\t\t\ttype: type,\r\n\t\t\tdataType: \"html\",\r\n\t\t\tdata: params\r\n\t\t}).done(function( responseText ) {\r\n\r\n\t\t\t// Save response for use in complete callback\r\n\t\t\tresponse = arguments;\r\n\r\n\t\t\tself.html( selector ?\r\n\r\n\t\t\t\t// If a selector was specified, locate the right elements in a dummy div\r\n\t\t\t\t// Exclude scripts to avoid IE 'Permission Denied' errors\r\n\t\t\t\tjQuery(\"<div>\").append( jQuery.parseHTML( responseText ) ).find( selector ) :\r\n\r\n\t\t\t\t// Otherwise use the full result\r\n\t\t\t\tresponseText );\r\n\r\n\t\t}).complete( callback && function( jqXHR, status ) {\r\n\t\t\tself.each( callback, response || [ jqXHR.responseText, status, jqXHR ] );\r\n\t\t});\r\n\t}\r\n\r\n\treturn this;\r\n};\r\n\r\n\r\n\r\n\r\njQuery.expr.filters.animated = function( elem ) {\r\n\treturn jQuery.grep(jQuery.timers, function( fn ) {\r\n\t\treturn elem === fn.elem;\r\n\t}).length;\r\n};\r\n\r\n\r\n\r\n\r\nvar docElem = window.document.documentElement;\r\n\r\n/**\r\n * Gets a window from an element\r\n */\r\nfunction getWindow( elem ) {\r\n\treturn jQuery.isWindow( elem ) ? elem : elem.nodeType === 9 && elem.defaultView;\r\n}\r\n\r\njQuery.offset = {\r\n\tsetOffset: function( elem, options, i ) {\r\n\t\tvar curPosition, curLeft, curCSSTop, curTop, curOffset, curCSSLeft, calculatePosition,\r\n\t\t\tposition = jQuery.css( elem, \"position\" ),\r\n\t\t\tcurElem = jQuery( elem ),\r\n\t\t\tprops = {};\r\n\r\n\t\t// Set position first, in-case top/left are set even on static elem\r\n\t\tif ( position === \"static\" ) {\r\n\t\t\telem.style.position = \"relative\";\r\n\t\t}\r\n\r\n\t\tcurOffset = curElem.offset();\r\n\t\tcurCSSTop = jQuery.css( elem, \"top\" );\r\n\t\tcurCSSLeft = jQuery.css( elem, \"left\" );\r\n\t\tcalculatePosition = ( position === \"absolute\" || position === \"fixed\" ) &&\r\n\t\t\t( curCSSTop + curCSSLeft ).indexOf(\"auto\") > -1;\r\n\r\n\t\t// Need to be able to calculate position if either top or left is auto and position is either absolute or fixed\r\n\t\tif ( calculatePosition ) {\r\n\t\t\tcurPosition = curElem.position();\r\n\t\t\tcurTop = curPosition.top;\r\n\t\t\tcurLeft = curPosition.left;\r\n\r\n\t\t} else {\r\n\t\t\tcurTop = parseFloat( curCSSTop ) || 0;\r\n\t\t\tcurLeft = parseFloat( curCSSLeft ) || 0;\r\n\t\t}\r\n\r\n\t\tif ( jQuery.isFunction( options ) ) {\r\n\t\t\toptions = options.call( elem, i, curOffset );\r\n\t\t}\r\n\r\n\t\tif ( options.top != null ) {\r\n\t\t\tprops.top = ( options.top - curOffset.top ) + curTop;\r\n\t\t}\r\n\t\tif ( options.left != null ) {\r\n\t\t\tprops.left = ( options.left - curOffset.left ) + curLeft;\r\n\t\t}\r\n\r\n\t\tif ( \"using\" in options ) {\r\n\t\t\toptions.using.call( elem, props );\r\n\r\n\t\t} else {\r\n\t\t\tcurElem.css( props );\r\n\t\t}\r\n\t}\r\n};\r\n\r\njQuery.fn.extend({\r\n\toffset: function( options ) {\r\n\t\tif ( arguments.length ) {\r\n\t\t\treturn options === undefined ?\r\n\t\t\t\tthis :\r\n\t\t\t\tthis.each(function( i ) {\r\n\t\t\t\t\tjQuery.offset.setOffset( this, options, i );\r\n\t\t\t\t});\r\n\t\t}\r\n\r\n\t\tvar docElem, win,\r\n\t\t\telem = this[ 0 ],\r\n\t\t\tbox = { top: 0, left: 0 },\r\n\t\t\tdoc = elem && elem.ownerDocument;\r\n\r\n\t\tif ( !doc ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tdocElem = doc.documentElement;\r\n\r\n\t\t// Make sure it's not a disconnected DOM node\r\n\t\tif ( !jQuery.contains( docElem, elem ) ) {\r\n\t\t\treturn box;\r\n\t\t}\r\n\r\n\t\t// If we don't have gBCR, just use 0,0 rather than error\r\n\t\t// BlackBerry 5, iOS 3 (original iPhone)\r\n\t\tif ( typeof elem.getBoundingClientRect !== strundefined ) {\r\n\t\t\tbox = elem.getBoundingClientRect();\r\n\t\t}\r\n\t\twin = getWindow( doc );\r\n\t\treturn {\r\n\t\t\ttop: box.top + win.pageYOffset - docElem.clientTop,\r\n\t\t\tleft: box.left + win.pageXOffset - docElem.clientLeft\r\n\t\t};\r\n\t},\r\n\r\n\tposition: function() {\r\n\t\tif ( !this[ 0 ] ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar offsetParent, offset,\r\n\t\t\telem = this[ 0 ],\r\n\t\t\tparentOffset = { top: 0, left: 0 };\r\n\r\n\t\t// Fixed elements are offset from window (parentOffset = {top:0, left: 0}, because it is its only offset parent\r\n\t\tif ( jQuery.css( elem, \"position\" ) === \"fixed\" ) {\r\n\t\t\t// We assume that getBoundingClientRect is available when computed position is fixed\r\n\t\t\toffset = elem.getBoundingClientRect();\r\n\r\n\t\t} else {\r\n\t\t\t// Get *real* offsetParent\r\n\t\t\toffsetParent = this.offsetParent();\r\n\r\n\t\t\t// Get correct offsets\r\n\t\t\toffset = this.offset();\r\n\t\t\tif ( !jQuery.nodeName( offsetParent[ 0 ], \"html\" ) ) {\r\n\t\t\t\tparentOffset = offsetParent.offset();\r\n\t\t\t}\r\n\r\n\t\t\t// Add offsetParent borders\r\n\t\t\tparentOffset.top += jQuery.css( offsetParent[ 0 ], \"borderTopWidth\", true );\r\n\t\t\tparentOffset.left += jQuery.css( offsetParent[ 0 ], \"borderLeftWidth\", true );\r\n\t\t}\r\n\r\n\t\t// Subtract parent offsets and element margins\r\n\t\treturn {\r\n\t\t\ttop: offset.top - parentOffset.top - jQuery.css( elem, \"marginTop\", true ),\r\n\t\t\tleft: offset.left - parentOffset.left - jQuery.css( elem, \"marginLeft\", true )\r\n\t\t};\r\n\t},\r\n\r\n\toffsetParent: function() {\r\n\t\treturn this.map(function() {\r\n\t\t\tvar offsetParent = this.offsetParent || docElem;\r\n\r\n\t\t\twhile ( offsetParent && ( !jQuery.nodeName( offsetParent, \"html\" ) && jQuery.css( offsetParent, \"position\" ) === \"static\" ) ) {\r\n\t\t\t\toffsetParent = offsetParent.offsetParent;\r\n\t\t\t}\r\n\r\n\t\t\treturn offsetParent || docElem;\r\n\t\t});\r\n\t}\r\n});\r\n\r\n// Create scrollLeft and scrollTop methods\r\njQuery.each( { scrollLeft: \"pageXOffset\", scrollTop: \"pageYOffset\" }, function( method, prop ) {\r\n\tvar top = \"pageYOffset\" === prop;\r\n\r\n\tjQuery.fn[ method ] = function( val ) {\r\n\t\treturn access( this, function( elem, method, val ) {\r\n\t\t\tvar win = getWindow( elem );\r\n\r\n\t\t\tif ( val === undefined ) {\r\n\t\t\t\treturn win ? win[ prop ] : elem[ method ];\r\n\t\t\t}\r\n\r\n\t\t\tif ( win ) {\r\n\t\t\t\twin.scrollTo(\r\n\t\t\t\t\t!top ? val : window.pageXOffset,\r\n\t\t\t\t\ttop ? val : window.pageYOffset\r\n\t\t\t\t);\r\n\r\n\t\t\t} else {\r\n\t\t\t\telem[ method ] = val;\r\n\t\t\t}\r\n\t\t}, method, val, arguments.length, null );\r\n\t};\r\n});\r\n\r\n// Add the top/left cssHooks using jQuery.fn.position\r\n// Webkit bug: https://bugs.webkit.org/show_bug.cgi?id=29084\r\n// getComputedStyle returns percent when specified for top/left/bottom/right\r\n// rather than make the css module depend on the offset module, we just check for it here\r\njQuery.each( [ \"top\", \"left\" ], function( i, prop ) {\r\n\tjQuery.cssHooks[ prop ] = addGetHookIf( support.pixelPosition,\r\n\t\tfunction( elem, computed ) {\r\n\t\t\tif ( computed ) {\r\n\t\t\t\tcomputed = curCSS( elem, prop );\r\n\t\t\t\t// if curCSS returns percentage, fallback to offset\r\n\t\t\t\treturn rnumnonpx.test( computed ) ?\r\n\t\t\t\t\tjQuery( elem ).position()[ prop ] + \"px\" :\r\n\t\t\t\t\tcomputed;\r\n\t\t\t}\r\n\t\t}\r\n\t);\r\n});\r\n\r\n\r\n// Create innerHeight, innerWidth, height, width, outerHeight and outerWidth methods\r\njQuery.each( { Height: \"height\", Width: \"width\" }, function( name, type ) {\r\n\tjQuery.each( { padding: \"inner\" + name, content: type, \"\": \"outer\" + name }, function( defaultExtra, funcName ) {\r\n\t\t// margin is only for outerHeight, outerWidth\r\n\t\tjQuery.fn[ funcName ] = function( margin, value ) {\r\n\t\t\tvar chainable = arguments.length && ( defaultExtra || typeof margin !== \"boolean\" ),\r\n\t\t\t\textra = defaultExtra || ( margin === true || value === true ? \"margin\" : \"border\" );\r\n\r\n\t\t\treturn access( this, function( elem, type, value ) {\r\n\t\t\t\tvar doc;\r\n\r\n\t\t\t\tif ( jQuery.isWindow( elem ) ) {\r\n\t\t\t\t\t// As of 5/8/2012 this will yield incorrect results for Mobile Safari, but there\r\n\t\t\t\t\t// isn't a whole lot we can do. See pull request at this URL for discussion:\r\n\t\t\t\t\t// https://github.com/jquery/jquery/pull/764\r\n\t\t\t\t\treturn elem.document.documentElement[ \"client\" + name ];\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Get document width or height\r\n\t\t\t\tif ( elem.nodeType === 9 ) {\r\n\t\t\t\t\tdoc = elem.documentElement;\r\n\r\n\t\t\t\t\t// Either scroll[Width/Height] or offset[Width/Height] or client[Width/Height],\r\n\t\t\t\t\t// whichever is greatest\r\n\t\t\t\t\treturn Math.max(\r\n\t\t\t\t\t\telem.body[ \"scroll\" + name ], doc[ \"scroll\" + name ],\r\n\t\t\t\t\t\telem.body[ \"offset\" + name ], doc[ \"offset\" + name ],\r\n\t\t\t\t\t\tdoc[ \"client\" + name ]\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn value === undefined ?\r\n\t\t\t\t\t// Get width or height on the element, requesting but not forcing parseFloat\r\n\t\t\t\t\tjQuery.css( elem, type, extra ) :\r\n\r\n\t\t\t\t\t// Set width or height on the element\r\n\t\t\t\t\tjQuery.style( elem, type, value, extra );\r\n\t\t\t}, type, chainable ? margin : undefined, chainable, null );\r\n\t\t};\r\n\t});\r\n});\r\n\r\n\r\n// The number of elements contained in the matched element set\r\njQuery.fn.size = function() {\r\n\treturn this.length;\r\n};\r\n\r\njQuery.fn.andSelf = jQuery.fn.addBack;\r\n\r\n\r\n\r\n\r\n// Register as a named AMD module, since jQuery can be concatenated with other\r\n// files that may use define, but not via a proper concatenation script that\r\n// understands anonymous AMD modules. A named AMD is safest and most robust\r\n// way to register. Lowercase jquery is used because AMD module names are\r\n// derived from file names, and jQuery is normally delivered in a lowercase\r\n// file name. Do this after creating the global so that if an AMD module wants\r\n// to call noConflict to hide this version of jQuery, it will work.\r\n\r\n// Note that for maximum portability, libraries that are not jQuery should\r\n// declare themselves as anonymous modules, and avoid setting a global if an\r\n// AMD loader is present. jQuery is a special case. For more information, see\r\n// https://github.com/jrburke/requirejs/wiki/Updating-existing-libraries#wiki-anon\r\n\r\n//if ( typeof define === \"function\" && define.amd ) {\r\n//\tdefine( \"jquery\", [], function() {\r\n//\t\treturn jQuery;\r\n//\t});\r\n//}\r\n\r\n\r\n\r\n\r\nvar\r\n\t// Map over jQuery in case of overwrite\r\n\t_jQuery = window.jQuery,\r\n\r\n\t// Map over the $ in case of overwrite\r\n\t_$ = window.$;\r\n\r\njQuery.noConflict = function( deep ) {\r\n\tif ( window.$ === jQuery ) {\r\n\t\twindow.$ = _$;\r\n\t}\r\n\r\n\tif ( deep && window.jQuery === jQuery ) {\r\n\t\twindow.jQuery = _jQuery;\r\n\t}\r\n\r\n\treturn jQuery;\r\n};\r\n\r\n// Expose jQuery and $ identifiers, even in\r\n// AMD (#7102#comment:10, https://github.com/jquery/jquery/pull/557)\r\n// and CommonJS for browser emulators (#13566)\r\nif ( typeof noGlobal === strundefined ) {\r\n\twindow.jQuery = window.$ = jQuery;\r\n}\r\n\r\n\r\n\r\n\r\nreturn jQuery;\r\n\r\n}));\r\n\r\n// END JQUERY SOURCE\r\nreturn jQuery.noConflict(true);\r\n});\n","define('taoQtiItem/portableLib/OAT/util/xml',[],function(){\r\n    \r\n    return {\r\n        addNamespace : function addMarkupNamespace(xml, ns){\r\n            return ns ? xml.replace(/<(\\/)?([^!\\/:>]+)(\\/)?>/g, '<$1' + ns + ':$2$3>') : xml;\r\n        },\r\n        removeNamespace : function removeNamespace(markup){\r\n            return markup.replace(/<(\\/)?(\\w*):([^>]*)>/g, '<$1$3>');\r\n        }\r\n    };\r\n});\n","define('taoQtiItem/portableLib/OAT/util/math',['taoQtiItem/portableLib/jquery_2_1_1', 'mathJax'], function($, MathJax){\r\n    'use strict';\r\n    return {\r\n        render : function render($container){\r\n            if(MathJax){\r\n                $container.find('math').each(function(){\r\n                    var $wrap;\r\n                    var $math = $(this);\r\n                    $math.wrap($('<span>', {'class' : 'math-renderer'}));\r\n                    $wrap = $math.parent('.math-renderer');\r\n                    MathJax.Hub.Queue([\"Typeset\", MathJax.Hub, $wrap[0]]);\r\n                });\r\n            }\r\n        }\r\n    };\r\n});\n","/*\r\n * qTip2 - Pretty powerful tooltips - v3.0.3\r\n * http://qtip2.com\r\n *\r\n * Copyright (c) 2016\r\n * Released under the MIT licenses\r\n * http://jquery.org/license\r\n *\r\n * Date: Wed May 11 2016 10:31 GMT+0100+0100\r\n * Plugins: tips modal viewport svg imagemap ie6\r\n * Styles: core basic css3\r\n *\r\n * =====================================================================\r\n * OAT WARNING : Line 25 has been changed from the original source code.\r\n * =====================================================================\r\n */\r\n/*global window: false, jQuery: false, console: false, define: false */\r\n/* Cache window, document, undefined */\r\n(function( window, document, undefined ) {\r\n\r\n// Uses AMD or browser globals to create a jQuery plugin.\r\n\t(function( factory ) {\r\n\t\t\"use strict\";\r\n\t\tif(typeof define === 'function' && define.amd) {\r\n\t\t\tdefine('taoQtiItem/portableLib/jquery.qtip',['taoQtiItem/portableLib/jquery_2_1_1'], factory);\r\n\t\t}\r\n\t\telse if(jQuery && !jQuery.fn.qtip) {\r\n\t\t\tfactory(jQuery);\r\n\t\t}\r\n\t}\r\n\t(function($) {\r\n\t\t\"use strict\"; // Enable ECMAScript \"strict\" operation for this function. See more: http://ejohn.org/blog/ecmascript-5-strict-mode-json-and-more/\r\n\t\t;// Munge the primitives - Paul Irish tip\r\n\t\tvar TRUE = true,\r\n\t\t\tFALSE = false,\r\n\t\t\tNULL = null,\r\n\r\n// Common variables\r\n\t\t\tX = 'x', Y = 'y',\r\n\t\t\tWIDTH = 'width',\r\n\t\t\tHEIGHT = 'height',\r\n\r\n// Positioning sides\r\n\t\t\tTOP = 'top',\r\n\t\t\tLEFT = 'left',\r\n\t\t\tBOTTOM = 'bottom',\r\n\t\t\tRIGHT = 'right',\r\n\t\t\tCENTER = 'center',\r\n\r\n// Position adjustment types\r\n\t\t\tFLIP = 'flip',\r\n\t\t\tFLIPINVERT = 'flipinvert',\r\n\t\t\tSHIFT = 'shift',\r\n\r\n// Shortcut vars\r\n\t\t\tQTIP, PROTOTYPE, CORNER, CHECKS,\r\n\t\t\tPLUGINS = {},\r\n\t\t\tNAMESPACE = 'qtip',\r\n\t\t\tATTR_HAS = 'data-hasqtip',\r\n\t\t\tATTR_ID = 'data-qtip-id',\r\n\t\t\tWIDGET = ['ui-widget', 'ui-tooltip'],\r\n\t\t\tSELECTOR = '.'+NAMESPACE,\r\n\t\t\tINACTIVE_EVENTS = 'click dblclick mousedown mouseup mousemove mouseleave mouseenter'.split(' '),\r\n\r\n\t\t\tCLASS_FIXED = NAMESPACE+'-fixed',\r\n\t\t\tCLASS_DEFAULT = NAMESPACE + '-default',\r\n\t\t\tCLASS_FOCUS = NAMESPACE + '-focus',\r\n\t\t\tCLASS_HOVER = NAMESPACE + '-hover',\r\n\t\t\tCLASS_DISABLED = NAMESPACE+'-disabled',\r\n\r\n\t\t\treplaceSuffix = '_replacedByqTip',\r\n\t\t\toldtitle = 'oldtitle',\r\n\t\t\ttrackingBound,\r\n\r\n// Browser detection\r\n\t\t\tBROWSER = {\r\n\t\t\t\t/*\r\n\t\t\t\t * IE version detection\r\n\t\t\t\t *\r\n\t\t\t\t * Adapted from: http://ajaxian.com/archives/attack-of-the-ie-conditional-comment\r\n\t\t\t\t * Credit to James Padolsey for the original implemntation!\r\n\t\t\t\t */\r\n\t\t\t\tie: (function() {\r\n\t\t\t\t\t/* eslint-disable no-empty */\r\n\t\t\t\t\tvar v, i;\r\n\t\t\t\t\tfor (\r\n\t\t\t\t\t\tv = 4, i = document.createElement('div');\r\n\t\t\t\t\t\t(i.innerHTML = '<!--[if gt IE ' + v + ']><i></i><![endif]-->') && i.getElementsByTagName('i')[0];\r\n\t\t\t\t\t\tv+=1\r\n\t\t\t\t\t) {}\r\n\t\t\t\t\treturn v > 4 ? v : NaN;\r\n\t\t\t\t\t/* eslint-enable no-empty */\r\n\t\t\t\t})(),\r\n\r\n\t\t\t\t/*\r\n\t\t\t\t * iOS version detection\r\n\t\t\t\t */\r\n\t\t\t\tiOS: parseFloat(\r\n\t\t\t\t\t('' + (/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent) || [0,''])[1])\r\n\t\t\t\t\t\t.replace('undefined', '3_2').replace('_', '.').replace('_', '')\r\n\t\t\t\t) || FALSE\r\n\t\t\t};\r\n\t\t;function QTip(target, options, id, attr) {\r\n\t\t\t// Elements and ID\r\n\t\t\tthis.id = id;\r\n\t\t\tthis.target = target;\r\n\t\t\tthis.tooltip = NULL;\r\n\t\t\tthis.elements = { target: target };\r\n\r\n\t\t\t// Internal constructs\r\n\t\t\tthis._id = NAMESPACE + '-' + id;\r\n\t\t\tthis.timers = { img: {} };\r\n\t\t\tthis.options = options;\r\n\t\t\tthis.plugins = {};\r\n\r\n\t\t\t// Cache object\r\n\t\t\tthis.cache = {\r\n\t\t\t\tevent: {},\r\n\t\t\t\ttarget: $(),\r\n\t\t\t\tdisabled: FALSE,\r\n\t\t\t\tattr: attr,\r\n\t\t\t\tonTooltip: FALSE,\r\n\t\t\t\tlastClass: ''\r\n\t\t\t};\r\n\r\n\t\t\t// Set the initial flags\r\n\t\t\tthis.rendered = this.destroyed = this.disabled = this.waiting =\r\n\t\t\t\tthis.hiddenDuringWait = this.positioning = this.triggering = FALSE;\r\n\t\t}\r\n\t\tPROTOTYPE = QTip.prototype;\r\n\r\n\t\tPROTOTYPE._when = function(deferreds) {\r\n\t\t\treturn $.when.apply($, deferreds);\r\n\t\t};\r\n\r\n\t\tPROTOTYPE.render = function(show) {\r\n\t\t\tif(this.rendered || this.destroyed) { return this; } // If tooltip has already been rendered, exit\r\n\r\n\t\t\tvar self = this,\r\n\t\t\t\toptions = this.options,\r\n\t\t\t\tcache = this.cache,\r\n\t\t\t\telements = this.elements,\r\n\t\t\t\ttext = options.content.text,\r\n\t\t\t\ttitle = options.content.title,\r\n\t\t\t\tbutton = options.content.button,\r\n\t\t\t\tposOptions = options.position,\r\n\t\t\t\tdeferreds = [];\r\n\r\n\t\t\t// Add ARIA attributes to target\r\n\t\t\t$.attr(this.target[0], 'aria-describedby', this._id);\r\n\r\n\t\t\t// Create public position object that tracks current position corners\r\n\t\t\tcache.posClass = this._createPosClass(\r\n\t\t\t\t(this.position = { my: posOptions.my, at: posOptions.at }).my\r\n\t\t\t);\r\n\r\n\t\t\t// Create tooltip element\r\n\t\t\tthis.tooltip = elements.tooltip = $('<div/>', {\r\n\t\t\t\t'id': this._id,\r\n\t\t\t\t'class': [ NAMESPACE, CLASS_DEFAULT, options.style.classes, cache.posClass ].join(' '),\r\n\t\t\t\t'width': options.style.width || '',\r\n\t\t\t\t'height': options.style.height || '',\r\n\t\t\t\t'tracking': posOptions.target === 'mouse' && posOptions.adjust.mouse,\r\n\r\n\t\t\t\t/* ARIA specific attributes */\r\n\t\t\t\t'role': 'alert',\r\n\t\t\t\t'aria-live': 'polite',\r\n\t\t\t\t'aria-atomic': FALSE,\r\n\t\t\t\t'aria-describedby': this._id + '-content',\r\n\t\t\t\t'aria-hidden': TRUE\r\n\t\t\t})\r\n\t\t\t\t.toggleClass(CLASS_DISABLED, this.disabled)\r\n\t\t\t\t.attr(ATTR_ID, this.id)\r\n\t\t\t\t.data(NAMESPACE, this)\r\n\t\t\t\t.appendTo(posOptions.container)\r\n\t\t\t\t.append(\r\n\t\t\t\t\t// Create content element\r\n\t\t\t\t\telements.content = $('<div />', {\r\n\t\t\t\t\t\t'class': NAMESPACE + '-content',\r\n\t\t\t\t\t\t'id': this._id + '-content',\r\n\t\t\t\t\t\t'aria-atomic': TRUE\r\n\t\t\t\t\t})\r\n\t\t\t\t);\r\n\r\n\t\t\t// Set rendered flag and prevent redundant reposition calls for now\r\n\t\t\tthis.rendered = -1;\r\n\t\t\tthis.positioning = TRUE;\r\n\r\n\t\t\t// Create title...\r\n\t\t\tif(title) {\r\n\t\t\t\tthis._createTitle();\r\n\r\n\t\t\t\t// Update title only if its not a callback (called in toggle if so)\r\n\t\t\t\tif(!$.isFunction(title)) {\r\n\t\t\t\t\tdeferreds.push( this._updateTitle(title, FALSE) );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Create button\r\n\t\t\tif(button) { this._createButton(); }\r\n\r\n\t\t\t// Set proper rendered flag and update content if not a callback function (called in toggle)\r\n\t\t\tif(!$.isFunction(text)) {\r\n\t\t\t\tdeferreds.push( this._updateContent(text, FALSE) );\r\n\t\t\t}\r\n\t\t\tthis.rendered = TRUE;\r\n\r\n\t\t\t// Setup widget classes\r\n\t\t\tthis._setWidget();\r\n\r\n\t\t\t// Initialize 'render' plugins\r\n\t\t\t$.each(PLUGINS, function(name) {\r\n\t\t\t\tvar instance;\r\n\t\t\t\tif(this.initialize === 'render' && (instance = this(self))) {\r\n\t\t\t\t\tself.plugins[name] = instance;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t// Unassign initial events and assign proper events\r\n\t\t\tthis._unassignEvents();\r\n\t\t\tthis._assignEvents();\r\n\r\n\t\t\t// When deferreds have completed\r\n\t\t\tthis._when(deferreds).then(function() {\r\n\t\t\t\t// tooltiprender event\r\n\t\t\t\tself._trigger('render');\r\n\r\n\t\t\t\t// Reset flags\r\n\t\t\t\tself.positioning = FALSE;\r\n\r\n\t\t\t\t// Show tooltip if not hidden during wait period\r\n\t\t\t\tif(!self.hiddenDuringWait && (options.show.ready || show)) {\r\n\t\t\t\t\tself.toggle(TRUE, cache.event, FALSE);\r\n\t\t\t\t}\r\n\t\t\t\tself.hiddenDuringWait = FALSE;\r\n\t\t\t});\r\n\r\n\t\t\t// Expose API\r\n\t\t\tQTIP.api[this.id] = this;\r\n\r\n\t\t\treturn this;\r\n\t\t};\r\n\r\n\t\tPROTOTYPE.destroy = function(immediate) {\r\n\t\t\t// Set flag the signify destroy is taking place to plugins\r\n\t\t\t// and ensure it only gets destroyed once!\r\n\t\t\tif(this.destroyed) { return this.target; }\r\n\r\n\t\t\tfunction process() {\r\n\t\t\t\tif(this.destroyed) { return; }\r\n\t\t\t\tthis.destroyed = TRUE;\r\n\r\n\t\t\t\tvar target = this.target,\r\n\t\t\t\t\ttitle = target.attr(oldtitle),\r\n\t\t\t\t\ttimer;\r\n\r\n\t\t\t\t// Destroy tooltip if rendered\r\n\t\t\t\tif(this.rendered) {\r\n\t\t\t\t\tthis.tooltip.stop(1,0).find('*').remove().end().remove();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Destroy all plugins\r\n\t\t\t\t$.each(this.plugins, function() {\r\n\t\t\t\t\tthis.destroy && this.destroy();\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// Clear timers\r\n\t\t\t\tfor (timer in this.timers) {\r\n\t\t\t\t\tif (this.timers.hasOwnProperty(timer)) {\r\n\t\t\t\t\t\tclearTimeout(this.timers[timer]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Remove api object and ARIA attributes\r\n\t\t\t\ttarget.removeData(NAMESPACE)\r\n\t\t\t\t\t.removeAttr(ATTR_ID)\r\n\t\t\t\t\t.removeAttr(ATTR_HAS)\r\n\t\t\t\t\t.removeAttr('aria-describedby');\r\n\r\n\t\t\t\t// Reset old title attribute if removed\r\n\t\t\t\tif(this.options.suppress && title) {\r\n\t\t\t\t\ttarget.attr('title', title).removeAttr(oldtitle);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Remove qTip events associated with this API\r\n\t\t\t\tthis._unassignEvents();\r\n\r\n\t\t\t\t// Remove ID from used id objects, and delete object references\r\n\t\t\t\t// for better garbage collection and leak protection\r\n\t\t\t\tthis.options = this.elements = this.cache = this.timers =\r\n\t\t\t\t\tthis.plugins = this.mouse = NULL;\r\n\r\n\t\t\t\t// Delete epoxsed API object\r\n\t\t\t\tdelete QTIP.api[this.id];\r\n\t\t\t}\r\n\r\n\t\t\t// If an immediate destroy is needed\r\n\t\t\tif((immediate !== TRUE || this.triggering === 'hide') && this.rendered) {\r\n\t\t\t\tthis.tooltip.one('tooltiphidden', $.proxy(process, this));\r\n\t\t\t\t!this.triggering && this.hide();\r\n\t\t\t}\r\n\r\n\t\t\t// If we're not in the process of hiding... process\r\n\t\t\telse { process.call(this); }\r\n\r\n\t\t\treturn this.target;\r\n\t\t};\r\n\t\t;function invalidOpt(a) {\r\n\t\t\treturn a === NULL || $.type(a) !== 'object';\r\n\t\t}\r\n\r\n\t\tfunction invalidContent(c) {\r\n\t\t\treturn !($.isFunction(c) ||\r\n\t\t\tc && c.attr ||\r\n\t\t\tc.length ||\r\n\t\t\t$.type(c) === 'object' && (c.jquery || c.then));\r\n\t\t}\r\n\r\n// Option object sanitizer\r\n\t\tfunction sanitizeOptions(opts) {\r\n\t\t\tvar content, text, ajax, once;\r\n\r\n\t\t\tif(invalidOpt(opts)) { return FALSE; }\r\n\r\n\t\t\tif(invalidOpt(opts.metadata)) {\r\n\t\t\t\topts.metadata = { type: opts.metadata };\r\n\t\t\t}\r\n\r\n\t\t\tif('content' in opts) {\r\n\t\t\t\tcontent = opts.content;\r\n\r\n\t\t\t\tif(invalidOpt(content) || content.jquery || content.done) {\r\n\t\t\t\t\ttext = invalidContent(content) ? FALSE : content;\r\n\t\t\t\t\tcontent = opts.content = {\r\n\t\t\t\t\t\ttext: text\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t\telse { text = content.text; }\r\n\r\n\t\t\t\t// DEPRECATED - Old content.ajax plugin functionality\r\n\t\t\t\t// Converts it into the proper Deferred syntax\r\n\t\t\t\tif('ajax' in content) {\r\n\t\t\t\t\tajax = content.ajax;\r\n\t\t\t\t\tonce = ajax && ajax.once !== FALSE;\r\n\t\t\t\t\tdelete content.ajax;\r\n\r\n\t\t\t\t\tcontent.text = function(event, api) {\r\n\t\t\t\t\t\tvar loading = text || $(this).attr(api.options.content.attr) || 'Loading...',\r\n\r\n\t\t\t\t\t\t\tdeferred = $.ajax(\r\n\t\t\t\t\t\t\t\t$.extend({}, ajax, { context: api })\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t.then(ajax.success, NULL, ajax.error)\r\n\t\t\t\t\t\t\t\t.then(function(newContent) {\r\n\t\t\t\t\t\t\t\t\t\tif(newContent && once) { api.set('content.text', newContent); }\r\n\t\t\t\t\t\t\t\t\t\treturn newContent;\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tfunction(xhr, status, error) {\r\n\t\t\t\t\t\t\t\t\t\tif(api.destroyed || xhr.status === 0) { return; }\r\n\t\t\t\t\t\t\t\t\t\tapi.set('content.text', status + ': ' + error);\r\n\t\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\treturn !once ? (api.set('content.text', loading), deferred) : loading;\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif('title' in content) {\r\n\t\t\t\t\tif($.isPlainObject(content.title)) {\r\n\t\t\t\t\t\tcontent.button = content.title.button;\r\n\t\t\t\t\t\tcontent.title = content.title.text;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif(invalidContent(content.title || FALSE)) {\r\n\t\t\t\t\t\tcontent.title = FALSE;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif('position' in opts && invalidOpt(opts.position)) {\r\n\t\t\t\topts.position = { my: opts.position, at: opts.position };\r\n\t\t\t}\r\n\r\n\t\t\tif('show' in opts && invalidOpt(opts.show)) {\r\n\t\t\t\topts.show = opts.show.jquery ? { target: opts.show } :\r\n\t\t\t\t\topts.show === TRUE ? { ready: TRUE } : { event: opts.show };\r\n\t\t\t}\r\n\r\n\t\t\tif('hide' in opts && invalidOpt(opts.hide)) {\r\n\t\t\t\topts.hide = opts.hide.jquery ? { target: opts.hide } : { event: opts.hide };\r\n\t\t\t}\r\n\r\n\t\t\tif('style' in opts && invalidOpt(opts.style)) {\r\n\t\t\t\topts.style = { classes: opts.style };\r\n\t\t\t}\r\n\r\n\t\t\t// Sanitize plugin options\r\n\t\t\t$.each(PLUGINS, function() {\r\n\t\t\t\tthis.sanitize && this.sanitize(opts);\r\n\t\t\t});\r\n\r\n\t\t\treturn opts;\r\n\t\t}\r\n\r\n// Setup builtin .set() option checks\r\n\t\tCHECKS = PROTOTYPE.checks = {\r\n\t\t\tbuiltin: {\r\n\t\t\t\t// Core checks\r\n\t\t\t\t'^id$': function(obj, o, v, prev) {\r\n\t\t\t\t\tvar id = v === TRUE ? QTIP.nextid : v,\r\n\t\t\t\t\t\tnewId = NAMESPACE + '-' + id;\r\n\r\n\t\t\t\t\tif(id !== FALSE && id.length > 0 && !$('#'+newId).length) {\r\n\t\t\t\t\t\tthis._id = newId;\r\n\r\n\t\t\t\t\t\tif(this.rendered) {\r\n\t\t\t\t\t\t\tthis.tooltip[0].id = this._id;\r\n\t\t\t\t\t\t\tthis.elements.content[0].id = this._id + '-content';\r\n\t\t\t\t\t\t\tthis.elements.title[0].id = this._id + '-title';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse { obj[o] = prev; }\r\n\t\t\t\t},\r\n\t\t\t\t'^prerender': function(obj, o, v) {\r\n\t\t\t\t\tv && !this.rendered && this.render(this.options.show.ready);\r\n\t\t\t\t},\r\n\r\n\t\t\t\t// Content checks\r\n\t\t\t\t'^content.text$': function(obj, o, v) {\r\n\t\t\t\t\tthis._updateContent(v);\r\n\t\t\t\t},\r\n\t\t\t\t'^content.attr$': function(obj, o, v, prev) {\r\n\t\t\t\t\tif(this.options.content.text === this.target.attr(prev)) {\r\n\t\t\t\t\t\tthis._updateContent( this.target.attr(v) );\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t'^content.title$': function(obj, o, v) {\r\n\t\t\t\t\t// Remove title if content is null\r\n\t\t\t\t\tif(!v) { return this._removeTitle(); }\r\n\r\n\t\t\t\t\t// If title isn't already created, create it now and update\r\n\t\t\t\t\tv && !this.elements.title && this._createTitle();\r\n\t\t\t\t\tthis._updateTitle(v);\r\n\t\t\t\t},\r\n\t\t\t\t'^content.button$': function(obj, o, v) {\r\n\t\t\t\t\tthis._updateButton(v);\r\n\t\t\t\t},\r\n\t\t\t\t'^content.title.(text|button)$': function(obj, o, v) {\r\n\t\t\t\t\tthis.set('content.'+o, v); // Backwards title.text/button compat\r\n\t\t\t\t},\r\n\r\n\t\t\t\t// Position checks\r\n\t\t\t\t'^position.(my|at)$': function(obj, o, v){\r\n\t\t\t\t\tif('string' === typeof v) {\r\n\t\t\t\t\t\tthis.position[o] = obj[o] = new CORNER(v, o === 'at');\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t'^position.container$': function(obj, o, v){\r\n\t\t\t\t\tthis.rendered && this.tooltip.appendTo(v);\r\n\t\t\t\t},\r\n\r\n\t\t\t\t// Show checks\r\n\t\t\t\t'^show.ready$': function(obj, o, v) {\r\n\t\t\t\t\tv && (!this.rendered && this.render(TRUE) || this.toggle(TRUE));\r\n\t\t\t\t},\r\n\r\n\t\t\t\t// Style checks\r\n\t\t\t\t'^style.classes$': function(obj, o, v, p) {\r\n\t\t\t\t\tthis.rendered && this.tooltip.removeClass(p).addClass(v);\r\n\t\t\t\t},\r\n\t\t\t\t'^style.(width|height)': function(obj, o, v) {\r\n\t\t\t\t\tthis.rendered && this.tooltip.css(o, v);\r\n\t\t\t\t},\r\n\t\t\t\t'^style.widget|content.title': function() {\r\n\t\t\t\t\tthis.rendered && this._setWidget();\r\n\t\t\t\t},\r\n\t\t\t\t'^style.def': function(obj, o, v) {\r\n\t\t\t\t\tthis.rendered && this.tooltip.toggleClass(CLASS_DEFAULT, !!v);\r\n\t\t\t\t},\r\n\r\n\t\t\t\t// Events check\r\n\t\t\t\t'^events.(render|show|move|hide|focus|blur)$': function(obj, o, v) {\r\n\t\t\t\t\tthis.rendered && this.tooltip[($.isFunction(v) ? '' : 'un') + 'bind']('tooltip'+o, v);\r\n\t\t\t\t},\r\n\r\n\t\t\t\t// Properties which require event reassignment\r\n\t\t\t\t'^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)': function() {\r\n\t\t\t\t\tif(!this.rendered) { return; }\r\n\r\n\t\t\t\t\t// Set tracking flag\r\n\t\t\t\t\tvar posOptions = this.options.position;\r\n\t\t\t\t\tthis.tooltip.attr('tracking', posOptions.target === 'mouse' && posOptions.adjust.mouse);\r\n\r\n\t\t\t\t\t// Reassign events\r\n\t\t\t\t\tthis._unassignEvents();\r\n\t\t\t\t\tthis._assignEvents();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n// Dot notation converter\r\n\t\tfunction convertNotation(options, notation) {\r\n\t\t\tvar i = 0, obj, option = options,\r\n\r\n\t\t\t\t// Split notation into array\r\n\t\t\t\tlevels = notation.split('.');\r\n\r\n\t\t\t// Loop through\r\n\t\t\twhile(option = option[ levels[i++] ]) {\r\n\t\t\t\tif(i < levels.length) { obj = option; }\r\n\t\t\t}\r\n\r\n\t\t\treturn [obj || options, levels.pop()];\r\n\t\t}\r\n\r\n\t\tPROTOTYPE.get = function(notation) {\r\n\t\t\tif(this.destroyed) { return this; }\r\n\r\n\t\t\tvar o = convertNotation(this.options, notation.toLowerCase()),\r\n\t\t\t\tresult = o[0][ o[1] ];\r\n\r\n\t\t\treturn result.precedance ? result.string() : result;\r\n\t\t};\r\n\r\n\t\tfunction setCallback(notation, args) {\r\n\t\t\tvar category, rule, match;\r\n\r\n\t\t\tfor(category in this.checks) {\r\n\t\t\t\tif (!this.checks.hasOwnProperty(category)) { continue; }\r\n\r\n\t\t\t\tfor(rule in this.checks[category]) {\r\n\t\t\t\t\tif (!this.checks[category].hasOwnProperty(rule)) { continue; }\r\n\r\n\t\t\t\t\tif(match = (new RegExp(rule, 'i')).exec(notation)) {\r\n\t\t\t\t\t\targs.push(match);\r\n\r\n\t\t\t\t\t\tif(category === 'builtin' || this.plugins[category]) {\r\n\t\t\t\t\t\t\tthis.checks[category][rule].apply(\r\n\t\t\t\t\t\t\t\tthis.plugins[category] || this, args\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar rmove = /^position\\.(my|at|adjust|target|container|viewport)|style|content|show\\.ready/i,\r\n\t\t\trrender = /^prerender|show\\.ready/i;\r\n\r\n\t\tPROTOTYPE.set = function(option, value) {\r\n\t\t\tif(this.destroyed) { return this; }\r\n\r\n\t\t\tvar rendered = this.rendered,\r\n\t\t\t\treposition = FALSE,\r\n\t\t\t\toptions = this.options,\r\n\t\t\t\tname;\r\n\r\n\t\t\t// Convert singular option/value pair into object form\r\n\t\t\tif('string' === typeof option) {\r\n\t\t\t\tname = option; option = {}; option[name] = value;\r\n\t\t\t}\r\n\t\t\telse { option = $.extend({}, option); }\r\n\r\n\t\t\t// Set all of the defined options to their new values\r\n\t\t\t$.each(option, function(notation, val) {\r\n\t\t\t\tif(rendered && rrender.test(notation)) {\r\n\t\t\t\t\tdelete option[notation]; return;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Set new obj value\r\n\t\t\t\tvar obj = convertNotation(options, notation.toLowerCase()), previous;\r\n\t\t\t\tprevious = obj[0][ obj[1] ];\r\n\t\t\t\tobj[0][ obj[1] ] = val && val.nodeType ? $(val) : val;\r\n\r\n\t\t\t\t// Also check if we need to reposition\r\n\t\t\t\treposition = rmove.test(notation) || reposition;\r\n\r\n\t\t\t\t// Set the new params for the callback\r\n\t\t\t\toption[notation] = [obj[0], obj[1], val, previous];\r\n\t\t\t});\r\n\r\n\t\t\t// Re-sanitize options\r\n\t\t\tsanitizeOptions(options);\r\n\r\n\t\t\t/*\r\n\t\t\t * Execute any valid callbacks for the set options\r\n\t\t\t * Also set positioning flag so we don't get loads of redundant repositioning calls.\r\n\t\t\t */\r\n\t\t\tthis.positioning = TRUE;\r\n\t\t\t$.each(option, $.proxy(setCallback, this));\r\n\t\t\tthis.positioning = FALSE;\r\n\r\n\t\t\t// Update position if needed\r\n\t\t\tif(this.rendered && this.tooltip[0].offsetWidth > 0 && reposition) {\r\n\t\t\t\tthis.reposition( options.position.target === 'mouse' ? NULL : this.cache.event );\r\n\t\t\t}\r\n\r\n\t\t\treturn this;\r\n\t\t};\r\n\t\t;PROTOTYPE._update = function(content, element) {\r\n\t\t\tvar self = this,\r\n\t\t\t\tcache = this.cache;\r\n\r\n\t\t\t// Make sure tooltip is rendered and content is defined. If not return\r\n\t\t\tif(!this.rendered || !content) { return FALSE; }\r\n\r\n\t\t\t// Use function to parse content\r\n\t\t\tif($.isFunction(content)) {\r\n\t\t\t\tcontent = content.call(this.elements.target, cache.event, this) || '';\r\n\t\t\t}\r\n\r\n\t\t\t// Handle deferred content\r\n\t\t\tif($.isFunction(content.then)) {\r\n\t\t\t\tcache.waiting = TRUE;\r\n\t\t\t\treturn content.then(function(c) {\r\n\t\t\t\t\tcache.waiting = FALSE;\r\n\t\t\t\t\treturn self._update(c, element);\r\n\t\t\t\t}, NULL, function(e) {\r\n\t\t\t\t\treturn self._update(e, element);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\t// If content is null... return false\r\n\t\t\tif(content === FALSE || !content && content !== '') { return FALSE; }\r\n\r\n\t\t\t// Append new content if its a DOM array and show it if hidden\r\n\t\t\tif(content.jquery && content.length > 0) {\r\n\t\t\t\telement.empty().append(\r\n\t\t\t\t\tcontent.css({ display: 'block', visibility: 'visible' })\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\t// Content is a regular string, insert the new content\r\n\t\t\telse { element.html(content); }\r\n\r\n\t\t\t// Wait for content to be loaded, and reposition\r\n\t\t\treturn this._waitForContent(element).then(function(images) {\r\n\t\t\t\tif(self.rendered && self.tooltip[0].offsetWidth > 0) {\r\n\t\t\t\t\tself.reposition(cache.event, !images.length);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\tPROTOTYPE._waitForContent = function(element) {\r\n\t\t\tvar cache = this.cache;\r\n\r\n\t\t\t// Set flag\r\n\t\t\tcache.waiting = TRUE;\r\n\r\n\t\t\t// If imagesLoaded is included, ensure images have loaded and return promise\r\n\t\t\treturn ( $.fn.imagesLoaded ? element.imagesLoaded() : new $.Deferred().resolve([]) )\r\n\t\t\t\t.done(function() { cache.waiting = FALSE; })\r\n\t\t\t\t.promise();\r\n\t\t};\r\n\r\n\t\tPROTOTYPE._updateContent = function(content, reposition) {\r\n\t\t\tthis._update(content, this.elements.content, reposition);\r\n\t\t};\r\n\r\n\t\tPROTOTYPE._updateTitle = function(content, reposition) {\r\n\t\t\tif(this._update(content, this.elements.title, reposition) === FALSE) {\r\n\t\t\t\tthis._removeTitle(FALSE);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tPROTOTYPE._createTitle = function()\r\n\t\t{\r\n\t\t\tvar elements = this.elements,\r\n\t\t\t\tid = this._id+'-title';\r\n\r\n\t\t\t// Destroy previous title element, if present\r\n\t\t\tif(elements.titlebar) { this._removeTitle(); }\r\n\r\n\t\t\t// Create title bar and title elements\r\n\t\t\telements.titlebar = $('<div />', {\r\n\t\t\t\t'class': NAMESPACE + '-titlebar ' + (this.options.style.widget ? createWidgetClass('header') : '')\r\n\t\t\t})\r\n\t\t\t\t.append(\r\n\t\t\t\t\telements.title = $('<div />', {\r\n\t\t\t\t\t\t'id': id,\r\n\t\t\t\t\t\t'class': NAMESPACE + '-title',\r\n\t\t\t\t\t\t'aria-atomic': TRUE\r\n\t\t\t\t\t})\r\n\t\t\t\t)\r\n\t\t\t\t.insertBefore(elements.content)\r\n\r\n\t\t\t\t// Button-specific events\r\n\t\t\t\t.delegate('.qtip-close', 'mousedown keydown mouseup keyup mouseout', function(event) {\r\n\t\t\t\t\t$(this).toggleClass('ui-state-active ui-state-focus', event.type.substr(-4) === 'down');\r\n\t\t\t\t})\r\n\t\t\t\t.delegate('.qtip-close', 'mouseover mouseout', function(event){\r\n\t\t\t\t\t$(this).toggleClass('ui-state-hover', event.type === 'mouseover');\r\n\t\t\t\t});\r\n\r\n\t\t\t// Create button if enabled\r\n\t\t\tif(this.options.content.button) { this._createButton(); }\r\n\t\t};\r\n\r\n\t\tPROTOTYPE._removeTitle = function(reposition)\r\n\t\t{\r\n\t\t\tvar elements = this.elements;\r\n\r\n\t\t\tif(elements.title) {\r\n\t\t\t\telements.titlebar.remove();\r\n\t\t\t\telements.titlebar = elements.title = elements.button = NULL;\r\n\r\n\t\t\t\t// Reposition if enabled\r\n\t\t\t\tif(reposition !== FALSE) { this.reposition(); }\r\n\t\t\t}\r\n\t\t};\r\n\t\t;PROTOTYPE._createPosClass = function(my) {\r\n\t\t\treturn NAMESPACE + '-pos-' + (my || this.options.position.my).abbrev();\r\n\t\t};\r\n\r\n\t\tPROTOTYPE.reposition = function(event, effect) {\r\n\t\t\tif(!this.rendered || this.positioning || this.destroyed) { return this; }\r\n\r\n\t\t\t// Set positioning flag\r\n\t\t\tthis.positioning = TRUE;\r\n\r\n\t\t\tvar cache = this.cache,\r\n\t\t\t\ttooltip = this.tooltip,\r\n\t\t\t\tposOptions = this.options.position,\r\n\t\t\t\ttarget = posOptions.target,\r\n\t\t\t\tmy = posOptions.my,\r\n\t\t\t\tat = posOptions.at,\r\n\t\t\t\tviewport = posOptions.viewport,\r\n\t\t\t\tcontainer = posOptions.container,\r\n\t\t\t\tadjust = posOptions.adjust,\r\n\t\t\t\tmethod = adjust.method.split(' '),\r\n\t\t\t\ttooltipWidth = tooltip.outerWidth(FALSE),\r\n\t\t\t\ttooltipHeight = tooltip.outerHeight(FALSE),\r\n\t\t\t\ttargetWidth = 0,\r\n\t\t\t\ttargetHeight = 0,\r\n\t\t\t\ttype = tooltip.css('position'),\r\n\t\t\t\tposition = { left: 0, top: 0 },\r\n\t\t\t\tvisible = tooltip[0].offsetWidth > 0,\r\n\t\t\t\tisScroll = event && event.type === 'scroll',\r\n\t\t\t\twin = $(window),\r\n\t\t\t\tdoc = container[0].ownerDocument,\r\n\t\t\t\tmouse = this.mouse,\r\n\t\t\t\tpluginCalculations, offset, adjusted, newClass;\r\n\r\n\t\t\t// Check if absolute position was passed\r\n\t\t\tif($.isArray(target) && target.length === 2) {\r\n\t\t\t\t// Force left top and set position\r\n\t\t\t\tat = { x: LEFT, y: TOP };\r\n\t\t\t\tposition = { left: target[0], top: target[1] };\r\n\t\t\t}\r\n\r\n\t\t\t// Check if mouse was the target\r\n\t\t\telse if(target === 'mouse') {\r\n\t\t\t\t// Force left top to allow flipping\r\n\t\t\t\tat = { x: LEFT, y: TOP };\r\n\r\n\t\t\t\t// Use the mouse origin that caused the show event, if distance hiding is enabled\r\n\t\t\t\tif((!adjust.mouse || this.options.hide.distance) && cache.origin && cache.origin.pageX) {\r\n\t\t\t\t\tevent =  cache.origin;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Use cached event for resize/scroll events\r\n\t\t\t\telse if(!event || event && (event.type === 'resize' || event.type === 'scroll')) {\r\n\t\t\t\t\tevent = cache.event;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Otherwise, use the cached mouse coordinates if available\r\n\t\t\t\telse if(mouse && mouse.pageX) {\r\n\t\t\t\t\tevent = mouse;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Calculate body and container offset and take them into account below\r\n\t\t\t\tif(type !== 'static') { position = container.offset(); }\r\n\t\t\t\tif(doc.body.offsetWidth !== (window.innerWidth || doc.documentElement.clientWidth)) {\r\n\t\t\t\t\toffset = $(document.body).offset();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Use event coordinates for position\r\n\t\t\t\tposition = {\r\n\t\t\t\t\tleft: event.pageX - position.left + (offset && offset.left || 0),\r\n\t\t\t\t\ttop: event.pageY - position.top + (offset && offset.top || 0)\r\n\t\t\t\t};\r\n\r\n\t\t\t\t// Scroll events are a pain, some browsers\r\n\t\t\t\tif(adjust.mouse && isScroll && mouse) {\r\n\t\t\t\t\tposition.left -= (mouse.scrollX || 0) - win.scrollLeft();\r\n\t\t\t\t\tposition.top -= (mouse.scrollY || 0) - win.scrollTop();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Target wasn't mouse or absolute...\r\n\t\t\telse {\r\n\t\t\t\t// Check if event targetting is being used\r\n\t\t\t\tif(target === 'event') {\r\n\t\t\t\t\tif(event && event.target && event.type !== 'scroll' && event.type !== 'resize') {\r\n\t\t\t\t\t\tcache.target = $(event.target);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(!event.target) {\r\n\t\t\t\t\t\tcache.target = this.elements.target;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse if(target !== 'event'){\r\n\t\t\t\t\tcache.target = $(target.jquery ? target : this.elements.target);\r\n\t\t\t\t}\r\n\t\t\t\ttarget = cache.target;\r\n\r\n\t\t\t\t// Parse the target into a jQuery object and make sure there's an element present\r\n\t\t\t\ttarget = $(target).eq(0);\r\n\t\t\t\tif(target.length === 0) { return this; }\r\n\r\n\t\t\t\t// Check if window or document is the target\r\n\t\t\t\telse if(target[0] === document || target[0] === window) {\r\n\t\t\t\t\ttargetWidth = BROWSER.iOS ? window.innerWidth : target.width();\r\n\t\t\t\t\ttargetHeight = BROWSER.iOS ? window.innerHeight : target.height();\r\n\r\n\t\t\t\t\tif(target[0] === window) {\r\n\t\t\t\t\t\tposition = {\r\n\t\t\t\t\t\t\ttop: (viewport || target).scrollTop(),\r\n\t\t\t\t\t\t\tleft: (viewport || target).scrollLeft()\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Check if the target is an <AREA> element\r\n\t\t\t\telse if(PLUGINS.imagemap && target.is('area')) {\r\n\t\t\t\t\tpluginCalculations = PLUGINS.imagemap(this, target, at, PLUGINS.viewport ? method : FALSE);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Check if the target is an SVG element\r\n\t\t\t\telse if(PLUGINS.svg && target && target[0].ownerSVGElement) {\r\n\t\t\t\t\tpluginCalculations = PLUGINS.svg(this, target, at, PLUGINS.viewport ? method : FALSE);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Otherwise use regular jQuery methods\r\n\t\t\t\telse {\r\n\t\t\t\t\ttargetWidth = target.outerWidth(FALSE);\r\n\t\t\t\t\ttargetHeight = target.outerHeight(FALSE);\r\n\t\t\t\t\tposition = target.offset();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Parse returned plugin values into proper variables\r\n\t\t\t\tif(pluginCalculations) {\r\n\t\t\t\t\ttargetWidth = pluginCalculations.width;\r\n\t\t\t\t\ttargetHeight = pluginCalculations.height;\r\n\t\t\t\t\toffset = pluginCalculations.offset;\r\n\t\t\t\t\tposition = pluginCalculations.position;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Adjust position to take into account offset parents\r\n\t\t\t\tposition = this.reposition.offset(target, position, container);\r\n\r\n\t\t\t\t// Adjust for position.fixed tooltips (and also iOS scroll bug in v3.2-4.0 & v4.3-4.3.2)\r\n\t\t\t\tif(BROWSER.iOS > 3.1 && BROWSER.iOS < 4.1 ||\r\n\t\t\t\t\tBROWSER.iOS >= 4.3 && BROWSER.iOS < 4.33 ||\r\n\t\t\t\t\t!BROWSER.iOS && type === 'fixed'\r\n\t\t\t\t){\r\n\t\t\t\t\tposition.left -= win.scrollLeft();\r\n\t\t\t\t\tposition.top -= win.scrollTop();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Adjust position relative to target\r\n\t\t\t\tif(!pluginCalculations || pluginCalculations && pluginCalculations.adjustable !== FALSE) {\r\n\t\t\t\t\tposition.left += at.x === RIGHT ? targetWidth : at.x === CENTER ? targetWidth / 2 : 0;\r\n\t\t\t\t\tposition.top += at.y === BOTTOM ? targetHeight : at.y === CENTER ? targetHeight / 2 : 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Adjust position relative to tooltip\r\n\t\t\tposition.left += adjust.x + (my.x === RIGHT ? -tooltipWidth : my.x === CENTER ? -tooltipWidth / 2 : 0);\r\n\t\t\tposition.top += adjust.y + (my.y === BOTTOM ? -tooltipHeight : my.y === CENTER ? -tooltipHeight / 2 : 0);\r\n\r\n\t\t\t// Use viewport adjustment plugin if enabled\r\n\t\t\tif(PLUGINS.viewport) {\r\n\t\t\t\tadjusted = position.adjusted = PLUGINS.viewport(\r\n\t\t\t\t\tthis, position, posOptions, targetWidth, targetHeight, tooltipWidth, tooltipHeight\r\n\t\t\t\t);\r\n\r\n\t\t\t\t// Apply offsets supplied by positioning plugin (if used)\r\n\t\t\t\tif(offset && adjusted.left) { position.left += offset.left; }\r\n\t\t\t\tif(offset && adjusted.top) {  position.top += offset.top; }\r\n\r\n\t\t\t\t// Apply any new 'my' position\r\n\t\t\t\tif(adjusted.my) { this.position.my = adjusted.my; }\r\n\t\t\t}\r\n\r\n\t\t\t// Viewport adjustment is disabled, set values to zero\r\n\t\t\telse { position.adjusted = { left: 0, top: 0 }; }\r\n\r\n\t\t\t// Set tooltip position class if it's changed\r\n\t\t\tif(cache.posClass !== (newClass = this._createPosClass(this.position.my))) {\r\n\t\t\t\tcache.posClass = newClass;\r\n\t\t\t\ttooltip.removeClass(cache.posClass).addClass(newClass);\r\n\t\t\t}\r\n\r\n\t\t\t// tooltipmove event\r\n\t\t\tif(!this._trigger('move', [position, viewport.elem || viewport], event)) { return this; }\r\n\t\t\tdelete position.adjusted;\r\n\r\n\t\t\t// If effect is disabled, target it mouse, no animation is defined or positioning gives NaN out, set CSS directly\r\n\t\t\tif(effect === FALSE || !visible || isNaN(position.left) || isNaN(position.top) || target === 'mouse' || !$.isFunction(posOptions.effect)) {\r\n\t\t\t\ttooltip.css(position);\r\n\t\t\t}\r\n\r\n\t\t\t// Use custom function if provided\r\n\t\t\telse if($.isFunction(posOptions.effect)) {\r\n\t\t\t\tposOptions.effect.call(tooltip, this, $.extend({}, position));\r\n\t\t\t\ttooltip.queue(function(next) {\r\n\t\t\t\t\t// Reset attributes to avoid cross-browser rendering bugs\r\n\t\t\t\t\t$(this).css({ opacity: '', height: '' });\r\n\t\t\t\t\tif(BROWSER.ie) { this.style.removeAttribute('filter'); }\r\n\r\n\t\t\t\t\tnext();\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\t// Set positioning flag\r\n\t\t\tthis.positioning = FALSE;\r\n\r\n\t\t\treturn this;\r\n\t\t};\r\n\r\n// Custom (more correct for qTip!) offset calculator\r\n\t\tPROTOTYPE.reposition.offset = function(elem, pos, container) {\r\n\t\t\tif(!container[0]) { return pos; }\r\n\r\n\t\t\tvar ownerDocument = $(elem[0].ownerDocument),\r\n\t\t\t\tquirks = !!BROWSER.ie && document.compatMode !== 'CSS1Compat',\r\n\t\t\t\tparent = container[0],\r\n\t\t\t\tscrolled, position, parentOffset, overflow;\r\n\r\n\t\t\tfunction scroll(e, i) {\r\n\t\t\t\tpos.left += i * e.scrollLeft();\r\n\t\t\t\tpos.top += i * e.scrollTop();\r\n\t\t\t}\r\n\r\n\t\t\t// Compensate for non-static containers offset\r\n\t\t\tdo {\r\n\t\t\t\tif((position = $.css(parent, 'position')) !== 'static') {\r\n\t\t\t\t\tif(position === 'fixed') {\r\n\t\t\t\t\t\tparentOffset = parent.getBoundingClientRect();\r\n\t\t\t\t\t\tscroll(ownerDocument, -1);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tparentOffset = $(parent).position();\r\n\t\t\t\t\t\tparentOffset.left += parseFloat($.css(parent, 'borderLeftWidth')) || 0;\r\n\t\t\t\t\t\tparentOffset.top += parseFloat($.css(parent, 'borderTopWidth')) || 0;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tpos.left -= parentOffset.left + (parseFloat($.css(parent, 'marginLeft')) || 0);\r\n\t\t\t\t\tpos.top -= parentOffset.top + (parseFloat($.css(parent, 'marginTop')) || 0);\r\n\r\n\t\t\t\t\t// If this is the first parent element with an overflow of \"scroll\" or \"auto\", store it\r\n\t\t\t\t\tif(!scrolled && (overflow = $.css(parent, 'overflow')) !== 'hidden' && overflow !== 'visible') { scrolled = $(parent); }\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\twhile(parent = parent.offsetParent);\r\n\r\n\t\t\t// Compensate for containers scroll if it also has an offsetParent (or in IE quirks mode)\r\n\t\t\tif(scrolled && (scrolled[0] !== ownerDocument[0] || quirks)) {\r\n\t\t\t\tscroll(scrolled, 1);\r\n\t\t\t}\r\n\r\n\t\t\treturn pos;\r\n\t\t};\r\n\r\n// Corner class\r\n\t\tvar C = (CORNER = PROTOTYPE.reposition.Corner = function(corner, forceY) {\r\n\t\t\tcorner = ('' + corner).replace(/([A-Z])/, ' $1').replace(/middle/gi, CENTER).toLowerCase();\r\n\t\t\tthis.x = (corner.match(/left|right/i) || corner.match(/center/) || ['inherit'])[0].toLowerCase();\r\n\t\t\tthis.y = (corner.match(/top|bottom|center/i) || ['inherit'])[0].toLowerCase();\r\n\t\t\tthis.forceY = !!forceY;\r\n\r\n\t\t\tvar f = corner.charAt(0);\r\n\t\t\tthis.precedance = f === 't' || f === 'b' ? Y : X;\r\n\t\t}).prototype;\r\n\r\n\t\tC.invert = function(z, center) {\r\n\t\t\tthis[z] = this[z] === LEFT ? RIGHT : this[z] === RIGHT ? LEFT : center || this[z];\r\n\t\t};\r\n\r\n\t\tC.string = function(join) {\r\n\t\t\tvar x = this.x, y = this.y;\r\n\r\n\t\t\tvar result = x !== y ?\r\n\t\t\t\tx === 'center' || y !== 'center' && (this.precedance === Y || this.forceY) ?\r\n\t\t\t\t\t[y,x] :\r\n\t\t\t\t\t[x,y] :\r\n\t\t\t\t[x];\r\n\r\n\t\t\treturn join !== false ? result.join(' ') : result;\r\n\t\t};\r\n\r\n\t\tC.abbrev = function() {\r\n\t\t\tvar result = this.string(false);\r\n\t\t\treturn result[0].charAt(0) + (result[1] && result[1].charAt(0) || '');\r\n\t\t};\r\n\r\n\t\tC.clone = function() {\r\n\t\t\treturn new CORNER( this.string(), this.forceY );\r\n\t\t};\r\n\r\n\t\t;\r\n\t\tPROTOTYPE.toggle = function(state, event) {\r\n\t\t\tvar cache = this.cache,\r\n\t\t\t\toptions = this.options,\r\n\t\t\t\ttooltip = this.tooltip;\r\n\r\n\t\t\t// Try to prevent flickering when tooltip overlaps show element\r\n\t\t\tif(event) {\r\n\t\t\t\tif((/over|enter/).test(event.type) && cache.event && (/out|leave/).test(cache.event.type) &&\r\n\t\t\t\t\toptions.show.target.add(event.target).length === options.show.target.length &&\r\n\t\t\t\t\ttooltip.has(event.relatedTarget).length) {\r\n\t\t\t\t\treturn this;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Cache event\r\n\t\t\t\tcache.event = $.event.fix(event);\r\n\t\t\t}\r\n\r\n\t\t\t// If we're currently waiting and we've just hidden... stop it\r\n\t\t\tthis.waiting && !state && (this.hiddenDuringWait = TRUE);\r\n\r\n\t\t\t// Render the tooltip if showing and it isn't already\r\n\t\t\tif(!this.rendered) { return state ? this.render(1) : this; }\r\n\t\t\telse if(this.destroyed || this.disabled) { return this; }\r\n\r\n\t\t\tvar type = state ? 'show' : 'hide',\r\n\t\t\t\topts = this.options[type],\r\n\t\t\t\tposOptions = this.options.position,\r\n\t\t\t\tcontentOptions = this.options.content,\r\n\t\t\t\twidth = this.tooltip.css('width'),\r\n\t\t\t\tvisible = this.tooltip.is(':visible'),\r\n\t\t\t\tanimate = state || opts.target.length === 1,\r\n\t\t\t\tsameTarget = !event || opts.target.length < 2 || cache.target[0] === event.target,\r\n\t\t\t\tidenticalState, allow, after;\r\n\r\n\t\t\t// Detect state if valid one isn't provided\r\n\t\t\tif((typeof state).search('boolean|number')) { state = !visible; }\r\n\r\n\t\t\t// Check if the tooltip is in an identical state to the new would-be state\r\n\t\t\tidenticalState = !tooltip.is(':animated') && visible === state && sameTarget;\r\n\r\n\t\t\t// Fire tooltip(show/hide) event and check if destroyed\r\n\t\t\tallow = !identicalState ? !!this._trigger(type, [90]) : NULL;\r\n\r\n\t\t\t// Check to make sure the tooltip wasn't destroyed in the callback\r\n\t\t\tif(this.destroyed) { return this; }\r\n\r\n\t\t\t// If the user didn't stop the method prematurely and we're showing the tooltip, focus it\r\n\t\t\tif(allow !== FALSE && state) { this.focus(event); }\r\n\r\n\t\t\t// If the state hasn't changed or the user stopped it, return early\r\n\t\t\tif(!allow || identicalState) { return this; }\r\n\r\n\t\t\t// Set ARIA hidden attribute\r\n\t\t\t$.attr(tooltip[0], 'aria-hidden', !!!state);\r\n\r\n\t\t\t// Execute state specific properties\r\n\t\t\tif(state) {\r\n\t\t\t\t// Store show origin coordinates\r\n\t\t\t\tthis.mouse && (cache.origin = $.event.fix(this.mouse));\r\n\r\n\t\t\t\t// Update tooltip content & title if it's a dynamic function\r\n\t\t\t\tif($.isFunction(contentOptions.text)) { this._updateContent(contentOptions.text, FALSE); }\r\n\t\t\t\tif($.isFunction(contentOptions.title)) { this._updateTitle(contentOptions.title, FALSE); }\r\n\r\n\t\t\t\t// Cache mousemove events for positioning purposes (if not already tracking)\r\n\t\t\t\tif(!trackingBound && posOptions.target === 'mouse' && posOptions.adjust.mouse) {\r\n\t\t\t\t\t$(document).bind('mousemove.'+NAMESPACE, this._storeMouse);\r\n\t\t\t\t\ttrackingBound = TRUE;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Update the tooltip position (set width first to prevent viewport/max-width issues)\r\n\t\t\t\tif(!width) { tooltip.css('width', tooltip.outerWidth(FALSE)); }\r\n\t\t\t\tthis.reposition(event, arguments[2]);\r\n\t\t\t\tif(!width) { tooltip.css('width', ''); }\r\n\r\n\t\t\t\t// Hide other tooltips if tooltip is solo\r\n\t\t\t\tif(!!opts.solo) {\r\n\t\t\t\t\t(typeof opts.solo === 'string' ? $(opts.solo) : $(SELECTOR, opts.solo))\r\n\t\t\t\t\t\t.not(tooltip).not(opts.target).qtip('hide', new $.Event('tooltipsolo'));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t// Clear show timer if we're hiding\r\n\t\t\t\tclearTimeout(this.timers.show);\r\n\r\n\t\t\t\t// Remove cached origin on hide\r\n\t\t\t\tdelete cache.origin;\r\n\r\n\t\t\t\t// Remove mouse tracking event if not needed (all tracking qTips are hidden)\r\n\t\t\t\tif(trackingBound && !$(SELECTOR+'[tracking=\"true\"]:visible', opts.solo).not(tooltip).length) {\r\n\t\t\t\t\t$(document).unbind('mousemove.'+NAMESPACE);\r\n\t\t\t\t\ttrackingBound = FALSE;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Blur the tooltip\r\n\t\t\t\tthis.blur(event);\r\n\t\t\t}\r\n\r\n\t\t\t// Define post-animation, state specific properties\r\n\t\t\tafter = $.proxy(function() {\r\n\t\t\t\tif(state) {\r\n\t\t\t\t\t// Prevent antialias from disappearing in IE by removing filter\r\n\t\t\t\t\tif(BROWSER.ie) { tooltip[0].style.removeAttribute('filter'); }\r\n\r\n\t\t\t\t\t// Remove overflow setting to prevent tip bugs\r\n\t\t\t\t\ttooltip.css('overflow', '');\r\n\r\n\t\t\t\t\t// Autofocus elements if enabled\r\n\t\t\t\t\tif('string' === typeof opts.autofocus) {\r\n\t\t\t\t\t\t$(this.options.show.autofocus, tooltip).focus();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// If set, hide tooltip when inactive for delay period\r\n\t\t\t\t\tthis.options.show.target.trigger('qtip-'+this.id+'-inactive');\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\t// Reset CSS states\r\n\t\t\t\t\ttooltip.css({\r\n\t\t\t\t\t\tdisplay: '',\r\n\t\t\t\t\t\tvisibility: '',\r\n\t\t\t\t\t\topacity: '',\r\n\t\t\t\t\t\tleft: '',\r\n\t\t\t\t\t\ttop: ''\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// tooltipvisible/tooltiphidden events\r\n\t\t\t\tthis._trigger(state ? 'visible' : 'hidden');\r\n\t\t\t}, this);\r\n\r\n\t\t\t// If no effect type is supplied, use a simple toggle\r\n\t\t\tif(opts.effect === FALSE || animate === FALSE) {\r\n\t\t\t\ttooltip[ type ]();\r\n\t\t\t\tafter();\r\n\t\t\t}\r\n\r\n\t\t\t// Use custom function if provided\r\n\t\t\telse if($.isFunction(opts.effect)) {\r\n\t\t\t\ttooltip.stop(1, 1);\r\n\t\t\t\topts.effect.call(tooltip, this);\r\n\t\t\t\ttooltip.queue('fx', function(n) {\r\n\t\t\t\t\tafter(); n();\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\t// Use basic fade function by default\r\n\t\t\telse { tooltip.fadeTo(90, state ? 1 : 0, after); }\r\n\r\n\t\t\t// If inactive hide method is set, active it\r\n\t\t\tif(state) { opts.target.trigger('qtip-'+this.id+'-inactive'); }\r\n\r\n\t\t\treturn this;\r\n\t\t};\r\n\r\n\t\tPROTOTYPE.show = function(event) { return this.toggle(TRUE, event); };\r\n\r\n\t\tPROTOTYPE.hide = function(event) { return this.toggle(FALSE, event); };\r\n\t\t;PROTOTYPE.focus = function(event) {\r\n\t\t\tif(!this.rendered || this.destroyed) { return this; }\r\n\r\n\t\t\tvar qtips = $(SELECTOR),\r\n\t\t\t\ttooltip = this.tooltip,\r\n\t\t\t\tcurIndex = parseInt(tooltip[0].style.zIndex, 10),\r\n\t\t\t\tnewIndex = QTIP.zindex + qtips.length;\r\n\r\n\t\t\t// Only update the z-index if it has changed and tooltip is not already focused\r\n\t\t\tif(!tooltip.hasClass(CLASS_FOCUS)) {\r\n\t\t\t\t// tooltipfocus event\r\n\t\t\t\tif(this._trigger('focus', [newIndex], event)) {\r\n\t\t\t\t\t// Only update z-index's if they've changed\r\n\t\t\t\t\tif(curIndex !== newIndex) {\r\n\t\t\t\t\t\t// Reduce our z-index's and keep them properly ordered\r\n\t\t\t\t\t\tqtips.each(function() {\r\n\t\t\t\t\t\t\tif(this.style.zIndex > curIndex) {\r\n\t\t\t\t\t\t\t\tthis.style.zIndex = this.style.zIndex - 1;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t// Fire blur event for focused tooltip\r\n\t\t\t\t\t\tqtips.filter('.' + CLASS_FOCUS).qtip('blur', event);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Set the new z-index\r\n\t\t\t\t\ttooltip.addClass(CLASS_FOCUS)[0].style.zIndex = newIndex;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn this;\r\n\t\t};\r\n\r\n\t\tPROTOTYPE.blur = function(event) {\r\n\t\t\tif(!this.rendered || this.destroyed) { return this; }\r\n\r\n\t\t\t// Set focused status to FALSE\r\n\t\t\tthis.tooltip.removeClass(CLASS_FOCUS);\r\n\r\n\t\t\t// tooltipblur event\r\n\t\t\tthis._trigger('blur', [ this.tooltip.css('zIndex') ], event);\r\n\r\n\t\t\treturn this;\r\n\t\t};\r\n\t\t;PROTOTYPE.disable = function(state) {\r\n\t\t\tif(this.destroyed) { return this; }\r\n\r\n\t\t\t// If 'toggle' is passed, toggle the current state\r\n\t\t\tif(state === 'toggle') {\r\n\t\t\t\tstate = !(this.rendered ? this.tooltip.hasClass(CLASS_DISABLED) : this.disabled);\r\n\t\t\t}\r\n\r\n\t\t\t// Disable if no state passed\r\n\t\t\telse if('boolean' !== typeof state) {\r\n\t\t\t\tstate = TRUE;\r\n\t\t\t}\r\n\r\n\t\t\tif(this.rendered) {\r\n\t\t\t\tthis.tooltip.toggleClass(CLASS_DISABLED, state)\r\n\t\t\t\t\t.attr('aria-disabled', state);\r\n\t\t\t}\r\n\r\n\t\t\tthis.disabled = !!state;\r\n\r\n\t\t\treturn this;\r\n\t\t};\r\n\r\n\t\tPROTOTYPE.enable = function() { return this.disable(FALSE); };\r\n\t\t;PROTOTYPE._createButton = function()\r\n\t\t{\r\n\t\t\tvar self = this,\r\n\t\t\t\telements = this.elements,\r\n\t\t\t\ttooltip = elements.tooltip,\r\n\t\t\t\tbutton = this.options.content.button,\r\n\t\t\t\tisString = typeof button === 'string',\r\n\t\t\t\tclose = isString ? button : 'Close tooltip';\r\n\r\n\t\t\tif(elements.button) { elements.button.remove(); }\r\n\r\n\t\t\t// Use custom button if one was supplied by user, else use default\r\n\t\t\tif(button.jquery) {\r\n\t\t\t\telements.button = button;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\telements.button = $('<a />', {\r\n\t\t\t\t\t'class': 'qtip-close ' + (this.options.style.widget ? '' : NAMESPACE+'-icon'),\r\n\t\t\t\t\t'title': close,\r\n\t\t\t\t\t'aria-label': close\r\n\t\t\t\t})\r\n\t\t\t\t\t.prepend(\r\n\t\t\t\t\t\t$('<span />', {\r\n\t\t\t\t\t\t\t'class': 'ui-icon ui-icon-close',\r\n\t\t\t\t\t\t\t'html': '&times;'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\t// Create button and setup attributes\r\n\t\t\telements.button.appendTo(elements.titlebar || tooltip)\r\n\t\t\t\t.attr('role', 'button')\r\n\t\t\t\t.click(function(event) {\r\n\t\t\t\t\tif(!tooltip.hasClass(CLASS_DISABLED)) { self.hide(event); }\r\n\t\t\t\t\treturn FALSE;\r\n\t\t\t\t});\r\n\t\t};\r\n\r\n\t\tPROTOTYPE._updateButton = function(button)\r\n\t\t{\r\n\t\t\t// Make sure tooltip is rendered and if not, return\r\n\t\t\tif(!this.rendered) { return FALSE; }\r\n\r\n\t\t\tvar elem = this.elements.button;\r\n\t\t\tif(button) { this._createButton(); }\r\n\t\t\telse { elem.remove(); }\r\n\t\t};\r\n\t\t;// Widget class creator\r\n\t\tfunction createWidgetClass(cls) {\r\n\t\t\treturn WIDGET.concat('').join(cls ? '-'+cls+' ' : ' ');\r\n\t\t}\r\n\r\n// Widget class setter method\r\n\t\tPROTOTYPE._setWidget = function()\r\n\t\t{\r\n\t\t\tvar on = this.options.style.widget,\r\n\t\t\t\telements = this.elements,\r\n\t\t\t\ttooltip = elements.tooltip,\r\n\t\t\t\tdisabled = tooltip.hasClass(CLASS_DISABLED);\r\n\r\n\t\t\ttooltip.removeClass(CLASS_DISABLED);\r\n\t\t\tCLASS_DISABLED = on ? 'ui-state-disabled' : 'qtip-disabled';\r\n\t\t\ttooltip.toggleClass(CLASS_DISABLED, disabled);\r\n\r\n\t\t\ttooltip.toggleClass('ui-helper-reset '+createWidgetClass(), on).toggleClass(CLASS_DEFAULT, this.options.style.def && !on);\r\n\r\n\t\t\tif(elements.content) {\r\n\t\t\t\telements.content.toggleClass( createWidgetClass('content'), on);\r\n\t\t\t}\r\n\t\t\tif(elements.titlebar) {\r\n\t\t\t\telements.titlebar.toggleClass( createWidgetClass('header'), on);\r\n\t\t\t}\r\n\t\t\tif(elements.button) {\r\n\t\t\t\telements.button.toggleClass(NAMESPACE+'-icon', !on);\r\n\t\t\t}\r\n\t\t};\r\n\t\t;function delay(callback, duration) {\r\n\t\t\t// If tooltip has displayed, start hide timer\r\n\t\t\tif(duration > 0) {\r\n\t\t\t\treturn setTimeout(\r\n\t\t\t\t\t$.proxy(callback, this), duration\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\telse{ callback.call(this); }\r\n\t\t}\r\n\r\n\t\tfunction showMethod(event) {\r\n\t\t\tif(this.tooltip.hasClass(CLASS_DISABLED)) { return; }\r\n\r\n\t\t\t// Clear hide timers\r\n\t\t\tclearTimeout(this.timers.show);\r\n\t\t\tclearTimeout(this.timers.hide);\r\n\r\n\t\t\t// Start show timer\r\n\t\t\tthis.timers.show = delay.call(this,\r\n\t\t\t\tfunction() { this.toggle(TRUE, event); },\r\n\t\t\t\tthis.options.show.delay\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tfunction hideMethod(event) {\r\n\t\t\tif(this.tooltip.hasClass(CLASS_DISABLED) || this.destroyed) { return; }\r\n\r\n\t\t\t// Check if new target was actually the tooltip element\r\n\t\t\tvar relatedTarget = $(event.relatedTarget),\r\n\t\t\t\tontoTooltip = relatedTarget.closest(SELECTOR)[0] === this.tooltip[0],\r\n\t\t\t\tontoTarget = relatedTarget[0] === this.options.show.target[0];\r\n\r\n\t\t\t// Clear timers and stop animation queue\r\n\t\t\tclearTimeout(this.timers.show);\r\n\t\t\tclearTimeout(this.timers.hide);\r\n\r\n\t\t\t// Prevent hiding if tooltip is fixed and event target is the tooltip.\r\n\t\t\t// Or if mouse positioning is enabled and cursor momentarily overlaps\r\n\t\t\tif(this !== relatedTarget[0] &&\r\n\t\t\t\t(this.options.position.target === 'mouse' && ontoTooltip) ||\r\n\t\t\t\tthis.options.hide.fixed && (\r\n\t\t\t\t(/mouse(out|leave|move)/).test(event.type) && (ontoTooltip || ontoTarget))\r\n\t\t\t)\r\n\t\t\t{\r\n\t\t\t\t/* eslint-disable no-empty */\r\n\t\t\t\ttry {\r\n\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\tevent.stopImmediatePropagation();\r\n\t\t\t\t} catch(e) {}\r\n\t\t\t\t/* eslint-enable no-empty */\r\n\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// If tooltip has displayed, start hide timer\r\n\t\t\tthis.timers.hide = delay.call(this,\r\n\t\t\t\tfunction() { this.toggle(FALSE, event); },\r\n\t\t\t\tthis.options.hide.delay,\r\n\t\t\t\tthis\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tfunction inactiveMethod(event) {\r\n\t\t\tif(this.tooltip.hasClass(CLASS_DISABLED) || !this.options.hide.inactive) { return; }\r\n\r\n\t\t\t// Clear timer\r\n\t\t\tclearTimeout(this.timers.inactive);\r\n\r\n\t\t\tthis.timers.inactive = delay.call(this,\r\n\t\t\t\tfunction(){ this.hide(event); },\r\n\t\t\t\tthis.options.hide.inactive\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tfunction repositionMethod(event) {\r\n\t\t\tif(this.rendered && this.tooltip[0].offsetWidth > 0) { this.reposition(event); }\r\n\t\t}\r\n\r\n// Store mouse coordinates\r\n\t\tPROTOTYPE._storeMouse = function(event) {\r\n\t\t\t(this.mouse = $.event.fix(event)).type = 'mousemove';\r\n\t\t\treturn this;\r\n\t\t};\r\n\r\n// Bind events\r\n\t\tPROTOTYPE._bind = function(targets, events, method, suffix, context) {\r\n\t\t\tif(!targets || !method || !events.length) { return; }\r\n\t\t\tvar ns = '.' + this._id + (suffix ? '-'+suffix : '');\r\n\t\t\t$(targets).bind(\r\n\t\t\t\t(events.split ? events : events.join(ns + ' ')) + ns,\r\n\t\t\t\t$.proxy(method, context || this)\r\n\t\t\t);\r\n\t\t\treturn this;\r\n\t\t};\r\n\t\tPROTOTYPE._unbind = function(targets, suffix) {\r\n\t\t\ttargets && $(targets).unbind('.' + this._id + (suffix ? '-'+suffix : ''));\r\n\t\t\treturn this;\r\n\t\t};\r\n\r\n// Global delegation helper\r\n\t\tfunction delegate(selector, events, method) {\r\n\t\t\t$(document.body).delegate(selector,\r\n\t\t\t\t(events.split ? events : events.join('.'+NAMESPACE + ' ')) + '.'+NAMESPACE,\r\n\t\t\t\tfunction() {\r\n\t\t\t\t\tvar api = QTIP.api[ $.attr(this, ATTR_ID) ];\r\n\t\t\t\t\tapi && !api.disabled && method.apply(api, arguments);\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t}\r\n// Event trigger\r\n\t\tPROTOTYPE._trigger = function(type, args, event) {\r\n\t\t\tvar callback = new $.Event('tooltip'+type);\r\n\t\t\tcallback.originalEvent = event && $.extend({}, event) || this.cache.event || NULL;\r\n\r\n\t\t\tthis.triggering = type;\r\n\t\t\tthis.tooltip.trigger(callback, [this].concat(args || []));\r\n\t\t\tthis.triggering = FALSE;\r\n\r\n\t\t\treturn !callback.isDefaultPrevented();\r\n\t\t};\r\n\r\n\t\tPROTOTYPE._bindEvents = function(showEvents, hideEvents, showTargets, hideTargets, showCallback, hideCallback) {\r\n\t\t\t// Get tasrgets that lye within both\r\n\t\t\tvar similarTargets = showTargets.filter( hideTargets ).add( hideTargets.filter(showTargets) ),\r\n\t\t\t\ttoggleEvents = [];\r\n\r\n\t\t\t// If hide and show targets are the same...\r\n\t\t\tif(similarTargets.length) {\r\n\r\n\t\t\t\t// Filter identical show/hide events\r\n\t\t\t\t$.each(hideEvents, function(i, type) {\r\n\t\t\t\t\tvar showIndex = $.inArray(type, showEvents);\r\n\r\n\t\t\t\t\t// Both events are identical, remove from both hide and show events\r\n\t\t\t\t\t// and append to toggleEvents\r\n\t\t\t\t\tshowIndex > -1 && toggleEvents.push( showEvents.splice( showIndex, 1 )[0] );\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// Toggle events are special case of identical show/hide events, which happen in sequence\r\n\t\t\t\tif(toggleEvents.length) {\r\n\t\t\t\t\t// Bind toggle events to the similar targets\r\n\t\t\t\t\tthis._bind(similarTargets, toggleEvents, function(event) {\r\n\t\t\t\t\t\tvar state = this.rendered ? this.tooltip[0].offsetWidth > 0 : false;\r\n\t\t\t\t\t\t(state ? hideCallback : showCallback).call(this, event);\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t// Remove the similar targets from the regular show/hide bindings\r\n\t\t\t\t\tshowTargets = showTargets.not(similarTargets);\r\n\t\t\t\t\thideTargets = hideTargets.not(similarTargets);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Apply show/hide/toggle events\r\n\t\t\tthis._bind(showTargets, showEvents, showCallback);\r\n\t\t\tthis._bind(hideTargets, hideEvents, hideCallback);\r\n\t\t};\r\n\r\n\t\tPROTOTYPE._assignInitialEvents = function(event) {\r\n\t\t\tvar options = this.options,\r\n\t\t\t\tshowTarget = options.show.target,\r\n\t\t\t\thideTarget = options.hide.target,\r\n\t\t\t\tshowEvents = options.show.event ? $.trim('' + options.show.event).split(' ') : [],\r\n\t\t\t\thideEvents = options.hide.event ? $.trim('' + options.hide.event).split(' ') : [];\r\n\r\n\t\t\t// Catch remove/removeqtip events on target element to destroy redundant tooltips\r\n\t\t\tthis._bind(this.elements.target, ['remove', 'removeqtip'], function() {\r\n\t\t\t\tthis.destroy(true);\r\n\t\t\t}, 'destroy');\r\n\r\n\t\t\t/*\r\n\t\t\t * Make sure hoverIntent functions properly by using mouseleave as a hide event if\r\n\t\t\t * mouseenter/mouseout is used for show.event, even if it isn't in the users options.\r\n\t\t\t */\r\n\t\t\tif(/mouse(over|enter)/i.test(options.show.event) && !/mouse(out|leave)/i.test(options.hide.event)) {\r\n\t\t\t\thideEvents.push('mouseleave');\r\n\t\t\t}\r\n\r\n\t\t\t/*\r\n\t\t\t * Also make sure initial mouse targetting works correctly by caching mousemove coords\r\n\t\t\t * on show targets before the tooltip has rendered. Also set onTarget when triggered to\r\n\t\t\t * keep mouse tracking working.\r\n\t\t\t */\r\n\t\t\tthis._bind(showTarget, 'mousemove', function(moveEvent) {\r\n\t\t\t\tthis._storeMouse(moveEvent);\r\n\t\t\t\tthis.cache.onTarget = TRUE;\r\n\t\t\t});\r\n\r\n\t\t\t// Define hoverIntent function\r\n\t\t\tfunction hoverIntent(hoverEvent) {\r\n\t\t\t\t// Only continue if tooltip isn't disabled\r\n\t\t\t\tif(this.disabled || this.destroyed) { return FALSE; }\r\n\r\n\t\t\t\t// Cache the event data\r\n\t\t\t\tthis.cache.event = hoverEvent && $.event.fix(hoverEvent);\r\n\t\t\t\tthis.cache.target = hoverEvent && $(hoverEvent.target);\r\n\r\n\t\t\t\t// Start the event sequence\r\n\t\t\t\tclearTimeout(this.timers.show);\r\n\t\t\t\tthis.timers.show = delay.call(this,\r\n\t\t\t\t\tfunction() { this.render(typeof hoverEvent === 'object' || options.show.ready); },\r\n\t\t\t\t\toptions.prerender ? 0 : options.show.delay\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\t// Filter and bind events\r\n\t\t\tthis._bindEvents(showEvents, hideEvents, showTarget, hideTarget, hoverIntent, function() {\r\n\t\t\t\tif(!this.timers) { return FALSE; }\r\n\t\t\t\tclearTimeout(this.timers.show);\r\n\t\t\t});\r\n\r\n\t\t\t// Prerendering is enabled, create tooltip now\r\n\t\t\tif(options.show.ready || options.prerender) { hoverIntent.call(this, event); }\r\n\t\t};\r\n\r\n// Event assignment method\r\n\t\tPROTOTYPE._assignEvents = function() {\r\n\t\t\tvar self = this,\r\n\t\t\t\toptions = this.options,\r\n\t\t\t\tposOptions = options.position,\r\n\r\n\t\t\t\ttooltip = this.tooltip,\r\n\t\t\t\tshowTarget = options.show.target,\r\n\t\t\t\thideTarget = options.hide.target,\r\n\t\t\t\tcontainerTarget = posOptions.container,\r\n\t\t\t\tviewportTarget = posOptions.viewport,\r\n\t\t\t\tdocumentTarget = $(document),\r\n\t\t\t\twindowTarget = $(window),\r\n\r\n\t\t\t\tshowEvents = options.show.event ? $.trim('' + options.show.event).split(' ') : [],\r\n\t\t\t\thideEvents = options.hide.event ? $.trim('' + options.hide.event).split(' ') : [];\r\n\r\n\r\n\t\t\t// Assign passed event callbacks\r\n\t\t\t$.each(options.events, function(name, callback) {\r\n\t\t\t\tself._bind(tooltip, name === 'toggle' ? ['tooltipshow','tooltiphide'] : ['tooltip'+name], callback, null, tooltip);\r\n\t\t\t});\r\n\r\n\t\t\t// Hide tooltips when leaving current window/frame (but not select/option elements)\r\n\t\t\tif(/mouse(out|leave)/i.test(options.hide.event) && options.hide.leave === 'window') {\r\n\t\t\t\tthis._bind(documentTarget, ['mouseout', 'blur'], function(event) {\r\n\t\t\t\t\tif(!/select|option/.test(event.target.nodeName) && !event.relatedTarget) {\r\n\t\t\t\t\t\tthis.hide(event);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\t// Enable hide.fixed by adding appropriate class\r\n\t\t\tif(options.hide.fixed) {\r\n\t\t\t\thideTarget = hideTarget.add( tooltip.addClass(CLASS_FIXED) );\r\n\t\t\t}\r\n\r\n\t\t\t/*\r\n\t\t\t * Make sure hoverIntent functions properly by using mouseleave to clear show timer if\r\n\t\t\t * mouseenter/mouseout is used for show.event, even if it isn't in the users options.\r\n\t\t\t */\r\n\t\t\telse if(/mouse(over|enter)/i.test(options.show.event)) {\r\n\t\t\t\tthis._bind(hideTarget, 'mouseleave', function() {\r\n\t\t\t\t\tclearTimeout(this.timers.show);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\t// Hide tooltip on document mousedown if unfocus events are enabled\r\n\t\t\tif(('' + options.hide.event).indexOf('unfocus') > -1) {\r\n\t\t\t\tthis._bind(containerTarget.closest('html'), ['mousedown', 'touchstart'], function(event) {\r\n\t\t\t\t\tvar elem = $(event.target),\r\n\t\t\t\t\t\tenabled = this.rendered && !this.tooltip.hasClass(CLASS_DISABLED) && this.tooltip[0].offsetWidth > 0,\r\n\t\t\t\t\t\tisAncestor = elem.parents(SELECTOR).filter(this.tooltip[0]).length > 0;\r\n\r\n\t\t\t\t\tif(elem[0] !== this.target[0] && elem[0] !== this.tooltip[0] && !isAncestor &&\r\n\t\t\t\t\t\t!this.target.has(elem[0]).length && enabled\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tthis.hide(event);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\t// Check if the tooltip hides when inactive\r\n\t\t\tif('number' === typeof options.hide.inactive) {\r\n\t\t\t\t// Bind inactive method to show target(s) as a custom event\r\n\t\t\t\tthis._bind(showTarget, 'qtip-'+this.id+'-inactive', inactiveMethod, 'inactive');\r\n\r\n\t\t\t\t// Define events which reset the 'inactive' event handler\r\n\t\t\t\tthis._bind(hideTarget.add(tooltip), QTIP.inactiveEvents, inactiveMethod);\r\n\t\t\t}\r\n\r\n\t\t\t// Filter and bind events\r\n\t\t\tthis._bindEvents(showEvents, hideEvents, showTarget, hideTarget, showMethod, hideMethod);\r\n\r\n\t\t\t// Mouse movement bindings\r\n\t\t\tthis._bind(showTarget.add(tooltip), 'mousemove', function(event) {\r\n\t\t\t\t// Check if the tooltip hides when mouse is moved a certain distance\r\n\t\t\t\tif('number' === typeof options.hide.distance) {\r\n\t\t\t\t\tvar origin = this.cache.origin || {},\r\n\t\t\t\t\t\tlimit = this.options.hide.distance,\r\n\t\t\t\t\t\tabs = Math.abs;\r\n\r\n\t\t\t\t\t// Check if the movement has gone beyond the limit, and hide it if so\r\n\t\t\t\t\tif(abs(event.pageX - origin.pageX) >= limit || abs(event.pageY - origin.pageY) >= limit) {\r\n\t\t\t\t\t\tthis.hide(event);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Cache mousemove coords on show targets\r\n\t\t\t\tthis._storeMouse(event);\r\n\t\t\t});\r\n\r\n\t\t\t// Mouse positioning events\r\n\t\t\tif(posOptions.target === 'mouse') {\r\n\t\t\t\t// If mouse adjustment is on...\r\n\t\t\t\tif(posOptions.adjust.mouse) {\r\n\t\t\t\t\t// Apply a mouseleave event so we don't get problems with overlapping\r\n\t\t\t\t\tif(options.hide.event) {\r\n\t\t\t\t\t\t// Track if we're on the target or not\r\n\t\t\t\t\t\tthis._bind(showTarget, ['mouseenter', 'mouseleave'], function(event) {\r\n\t\t\t\t\t\t\tif(!this.cache) {return FALSE; }\r\n\t\t\t\t\t\t\tthis.cache.onTarget = event.type === 'mouseenter';\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Update tooltip position on mousemove\r\n\t\t\t\t\tthis._bind(documentTarget, 'mousemove', function(event) {\r\n\t\t\t\t\t\t// Update the tooltip position only if the tooltip is visible and adjustment is enabled\r\n\t\t\t\t\t\tif(this.rendered && this.cache.onTarget && !this.tooltip.hasClass(CLASS_DISABLED) && this.tooltip[0].offsetWidth > 0) {\r\n\t\t\t\t\t\t\tthis.reposition(event);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Adjust positions of the tooltip on window resize if enabled\r\n\t\t\tif(posOptions.adjust.resize || viewportTarget.length) {\r\n\t\t\t\tthis._bind( $.event.special.resize ? viewportTarget : windowTarget, 'resize', repositionMethod );\r\n\t\t\t}\r\n\r\n\t\t\t// Adjust tooltip position on scroll of the window or viewport element if present\r\n\t\t\tif(posOptions.adjust.scroll) {\r\n\t\t\t\tthis._bind( windowTarget.add(posOptions.container), 'scroll', repositionMethod );\r\n\t\t\t}\r\n\t\t};\r\n\r\n// Un-assignment method\r\n\t\tPROTOTYPE._unassignEvents = function() {\r\n\t\t\tvar options = this.options,\r\n\t\t\t\tshowTargets = options.show.target,\r\n\t\t\t\thideTargets = options.hide.target,\r\n\t\t\t\ttargets = $.grep([\r\n\t\t\t\t\tthis.elements.target[0],\r\n\t\t\t\t\tthis.rendered && this.tooltip[0],\r\n\t\t\t\t\toptions.position.container[0],\r\n\t\t\t\t\toptions.position.viewport[0],\r\n\t\t\t\t\toptions.position.container.closest('html')[0], // unfocus\r\n\t\t\t\t\twindow,\r\n\t\t\t\t\tdocument\r\n\t\t\t\t], function(i) {\r\n\t\t\t\t\treturn typeof i === 'object';\r\n\t\t\t\t});\r\n\r\n\t\t\t// Add show and hide targets if they're valid\r\n\t\t\tif(showTargets && showTargets.toArray) {\r\n\t\t\t\ttargets = targets.concat(showTargets.toArray());\r\n\t\t\t}\r\n\t\t\tif(hideTargets && hideTargets.toArray) {\r\n\t\t\t\ttargets = targets.concat(hideTargets.toArray());\r\n\t\t\t}\r\n\r\n\t\t\t// Unbind the events\r\n\t\t\tthis._unbind(targets)\r\n\t\t\t\t._unbind(targets, 'destroy')\r\n\t\t\t\t._unbind(targets, 'inactive');\r\n\t\t};\r\n\r\n// Apply common event handlers using delegate (avoids excessive .bind calls!)\r\n\t\t$(function() {\r\n\t\t\tdelegate(SELECTOR, ['mouseenter', 'mouseleave'], function(event) {\r\n\t\t\t\tvar state = event.type === 'mouseenter',\r\n\t\t\t\t\ttooltip = $(event.currentTarget),\r\n\t\t\t\t\ttarget = $(event.relatedTarget || event.target),\r\n\t\t\t\t\toptions = this.options;\r\n\r\n\t\t\t\t// On mouseenter...\r\n\t\t\t\tif(state) {\r\n\t\t\t\t\t// Focus the tooltip on mouseenter (z-index stacking)\r\n\t\t\t\t\tthis.focus(event);\r\n\r\n\t\t\t\t\t// Clear hide timer on tooltip hover to prevent it from closing\r\n\t\t\t\t\ttooltip.hasClass(CLASS_FIXED) && !tooltip.hasClass(CLASS_DISABLED) && clearTimeout(this.timers.hide);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// On mouseleave...\r\n\t\t\t\telse {\r\n\t\t\t\t\t// When mouse tracking is enabled, hide when we leave the tooltip and not onto the show target (if a hide event is set)\r\n\t\t\t\t\tif(options.position.target === 'mouse' && options.position.adjust.mouse &&\r\n\t\t\t\t\t\toptions.hide.event && options.show.target && !target.closest(options.show.target[0]).length) {\r\n\t\t\t\t\t\tthis.hide(event);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Add hover class\r\n\t\t\t\ttooltip.toggleClass(CLASS_HOVER, state);\r\n\t\t\t});\r\n\r\n\t\t\t// Define events which reset the 'inactive' event handler\r\n\t\t\tdelegate('['+ATTR_ID+']', INACTIVE_EVENTS, inactiveMethod);\r\n\t\t});\r\n\t\t;// Initialization method\r\n\t\tfunction init(elem, id, opts) {\r\n\t\t\tvar obj, posOptions, attr, config, title,\r\n\r\n\t\t\t\t// Setup element references\r\n\t\t\t\tdocBody = $(document.body),\r\n\r\n\t\t\t\t// Use document body instead of document element if needed\r\n\t\t\t\tnewTarget = elem[0] === document ? docBody : elem,\r\n\r\n\t\t\t\t// Grab metadata from element if plugin is present\r\n\t\t\t\tmetadata = elem.metadata ? elem.metadata(opts.metadata) : NULL,\r\n\r\n\t\t\t\t// If metadata type if HTML5, grab 'name' from the object instead, or use the regular data object otherwise\r\n\t\t\t\tmetadata5 = opts.metadata.type === 'html5' && metadata ? metadata[opts.metadata.name] : NULL,\r\n\r\n\t\t\t\t// Grab data from metadata.name (or data-qtipopts as fallback) using .data() method,\r\n\t\t\t\thtml5 = elem.data(opts.metadata.name || 'qtipopts');\r\n\r\n\t\t\t// If we don't get an object returned attempt to parse it manualyl without parseJSON\r\n\t\t\t/* eslint-disable no-empty */\r\n\t\t\ttry { html5 = typeof html5 === 'string' ? $.parseJSON(html5) : html5; }\r\n\t\t\tcatch(e) {}\r\n\t\t\t/* eslint-enable no-empty */\r\n\r\n\t\t\t// Merge in and sanitize metadata\r\n\t\t\tconfig = $.extend(TRUE, {}, QTIP.defaults, opts,\r\n\t\t\t\ttypeof html5 === 'object' ? sanitizeOptions(html5) : NULL,\r\n\t\t\t\tsanitizeOptions(metadata5 || metadata));\r\n\r\n\t\t\t// Re-grab our positioning options now we've merged our metadata and set id to passed value\r\n\t\t\tposOptions = config.position;\r\n\t\t\tconfig.id = id;\r\n\r\n\t\t\t// Setup missing content if none is detected\r\n\t\t\tif('boolean' === typeof config.content.text) {\r\n\t\t\t\tattr = elem.attr(config.content.attr);\r\n\r\n\t\t\t\t// Grab from supplied attribute if available\r\n\t\t\t\tif(config.content.attr !== FALSE && attr) { config.content.text = attr; }\r\n\r\n\t\t\t\t// No valid content was found, abort render\r\n\t\t\t\telse { return FALSE; }\r\n\t\t\t}\r\n\r\n\t\t\t// Setup target options\r\n\t\t\tif(!posOptions.container.length) { posOptions.container = docBody; }\r\n\t\t\tif(posOptions.target === FALSE) { posOptions.target = newTarget; }\r\n\t\t\tif(config.show.target === FALSE) { config.show.target = newTarget; }\r\n\t\t\tif(config.show.solo === TRUE) { config.show.solo = posOptions.container.closest('body'); }\r\n\t\t\tif(config.hide.target === FALSE) { config.hide.target = newTarget; }\r\n\t\t\tif(config.position.viewport === TRUE) { config.position.viewport = posOptions.container; }\r\n\r\n\t\t\t// Ensure we only use a single container\r\n\t\t\tposOptions.container = posOptions.container.eq(0);\r\n\r\n\t\t\t// Convert position corner values into x and y strings\r\n\t\t\tposOptions.at = new CORNER(posOptions.at, TRUE);\r\n\t\t\tposOptions.my = new CORNER(posOptions.my);\r\n\r\n\t\t\t// Destroy previous tooltip if overwrite is enabled, or skip element if not\r\n\t\t\tif(elem.data(NAMESPACE)) {\r\n\t\t\t\tif(config.overwrite) {\r\n\t\t\t\t\telem.qtip('destroy', true);\r\n\t\t\t\t}\r\n\t\t\t\telse if(config.overwrite === FALSE) {\r\n\t\t\t\t\treturn FALSE;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Add has-qtip attribute\r\n\t\t\telem.attr(ATTR_HAS, id);\r\n\r\n\t\t\t// Remove title attribute and store it if present\r\n\t\t\tif(config.suppress && (title = elem.attr('title'))) {\r\n\t\t\t\t// Final attr call fixes event delegatiom and IE default tooltip showing problem\r\n\t\t\t\telem.removeAttr('title').attr(oldtitle, title).attr('title', '');\r\n\t\t\t}\r\n\r\n\t\t\t// Initialize the tooltip and add API reference\r\n\t\t\tobj = new QTip(elem, config, id, !!attr);\r\n\t\t\telem.data(NAMESPACE, obj);\r\n\r\n\t\t\treturn obj;\r\n\t\t}\r\n\r\n// jQuery $.fn extension method\r\n\t\tQTIP = $.fn.qtip = function(options, notation, newValue)\r\n\t\t{\r\n\t\t\tvar command = ('' + options).toLowerCase(), // Parse command\r\n\t\t\t\treturned = NULL,\r\n\t\t\t\targs = $.makeArray(arguments).slice(1),\r\n\t\t\t\tevent = args[args.length - 1],\r\n\t\t\t\topts = this[0] ? $.data(this[0], NAMESPACE) : NULL;\r\n\r\n\t\t\t// Check for API request\r\n\t\t\tif(!arguments.length && opts || command === 'api') {\r\n\t\t\t\treturn opts;\r\n\t\t\t}\r\n\r\n\t\t\t// Execute API command if present\r\n\t\t\telse if('string' === typeof options) {\r\n\t\t\t\tthis.each(function() {\r\n\t\t\t\t\tvar api = $.data(this, NAMESPACE);\r\n\t\t\t\t\tif(!api) { return TRUE; }\r\n\r\n\t\t\t\t\t// Cache the event if possible\r\n\t\t\t\t\tif(event && event.timeStamp) { api.cache.event = event; }\r\n\r\n\t\t\t\t\t// Check for specific API commands\r\n\t\t\t\t\tif(notation && (command === 'option' || command === 'options')) {\r\n\t\t\t\t\t\tif(newValue !== undefined || $.isPlainObject(notation)) {\r\n\t\t\t\t\t\t\tapi.set(notation, newValue);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\treturned = api.get(notation);\r\n\t\t\t\t\t\t\treturn FALSE;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Execute API command\r\n\t\t\t\t\telse if(api[command]) {\r\n\t\t\t\t\t\tapi[command].apply(api, args);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn returned !== NULL ? returned : this;\r\n\t\t\t}\r\n\r\n\t\t\t// No API commands. validate provided options and setup qTips\r\n\t\t\telse if('object' === typeof options || !arguments.length) {\r\n\t\t\t\t// Sanitize options first\r\n\t\t\t\topts = sanitizeOptions($.extend(TRUE, {}, options));\r\n\r\n\t\t\t\treturn this.each(function(i) {\r\n\t\t\t\t\tvar api, id;\r\n\r\n\t\t\t\t\t// Find next available ID, or use custom ID if provided\r\n\t\t\t\t\tid = $.isArray(opts.id) ? opts.id[i] : opts.id;\r\n\t\t\t\t\tid = !id || id === FALSE || id.length < 1 || QTIP.api[id] ? QTIP.nextid++ : id;\r\n\r\n\t\t\t\t\t// Initialize the qTip and re-grab newly sanitized options\r\n\t\t\t\t\tapi = init($(this), id, opts);\r\n\t\t\t\t\tif(api === FALSE) { return TRUE; }\r\n\t\t\t\t\telse { QTIP.api[id] = api; }\r\n\r\n\t\t\t\t\t// Initialize plugins\r\n\t\t\t\t\t$.each(PLUGINS, function() {\r\n\t\t\t\t\t\tif(this.initialize === 'initialize') { this(api); }\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t// Assign initial pre-render events\r\n\t\t\t\t\tapi._assignInitialEvents(event);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t};\r\n\r\n// Expose class\r\n\t\t$.qtip = QTip;\r\n\r\n// Populated in render method\r\n\t\tQTIP.api = {};\r\n\t\t;$.each({\r\n\t\t\t/* Allow other plugins to successfully retrieve the title of an element with a qTip applied */\r\n\t\t\tattr: function(attr, val) {\r\n\t\t\t\tif(this.length) {\r\n\t\t\t\t\tvar self = this[0],\r\n\t\t\t\t\t\ttitle = 'title',\r\n\t\t\t\t\t\tapi = $.data(self, 'qtip');\r\n\r\n\t\t\t\t\tif(attr === title && api && api.options && 'object' === typeof api && 'object' === typeof api.options && api.options.suppress) {\r\n\t\t\t\t\t\tif(arguments.length < 2) {\r\n\t\t\t\t\t\t\treturn $.attr(self, oldtitle);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// If qTip is rendered and title was originally used as content, update it\r\n\t\t\t\t\t\tif(api && api.options.content.attr === title && api.cache.attr) {\r\n\t\t\t\t\t\t\tapi.set('content.text', val);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Use the regular attr method to set, then cache the result\r\n\t\t\t\t\t\treturn this.attr(oldtitle, val);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn $.fn['attr'+replaceSuffix].apply(this, arguments);\r\n\t\t\t},\r\n\r\n\t\t\t/* Allow clone to correctly retrieve cached title attributes */\r\n\t\t\tclone: function(keepData) {\r\n\t\t\t\t// Clone our element using the real clone method\r\n\t\t\t\tvar elems = $.fn['clone'+replaceSuffix].apply(this, arguments);\r\n\r\n\t\t\t\t// Grab all elements with an oldtitle set, and change it to regular title attribute, if keepData is false\r\n\t\t\t\tif(!keepData) {\r\n\t\t\t\t\telems.filter('['+oldtitle+']').attr('title', function() {\r\n\t\t\t\t\t\treturn $.attr(this, oldtitle);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t\t.removeAttr(oldtitle);\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn elems;\r\n\t\t\t}\r\n\t\t}, function(name, func) {\r\n\t\t\tif(!func || $.fn[name+replaceSuffix]) { return TRUE; }\r\n\r\n\t\t\tvar old = $.fn[name+replaceSuffix] = $.fn[name];\r\n\t\t\t$.fn[name] = function() {\r\n\t\t\t\treturn func.apply(this, arguments) || old.apply(this, arguments);\r\n\t\t\t};\r\n\t\t});\r\n\r\n\t\t/* Fire off 'removeqtip' handler in $.cleanData if jQuery UI not present (it already does similar).\r\n\t\t * This snippet is taken directly from jQuery UI source code found here:\r\n\t\t *     http://code.jquery.com/ui/jquery-ui-git.js\r\n\t\t */\r\n\t\tif(!$.ui) {\r\n\t\t\t$['cleanData'+replaceSuffix] = $.cleanData;\r\n\t\t\t$.cleanData = function( elems ) {\r\n\t\t\t\tfor(var i = 0, elem; (elem = $( elems[i] )).length; i++) {\r\n\t\t\t\t\tif(elem.attr(ATTR_HAS)) {\r\n\t\t\t\t\t\t/* eslint-disable no-empty */\r\n\t\t\t\t\t\ttry { elem.triggerHandler('removeqtip'); }\r\n\t\t\t\t\t\tcatch( e ) {}\r\n\t\t\t\t\t\t/* eslint-enable no-empty */\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t$['cleanData'+replaceSuffix].apply(this, arguments);\r\n\t\t\t};\r\n\t\t}\r\n\t\t;// qTip version\r\n\t\tQTIP.version = '3.0.3';\r\n\r\n// Base ID for all qTips\r\n\t\tQTIP.nextid = 0;\r\n\r\n// Inactive events array\r\n\t\tQTIP.inactiveEvents = INACTIVE_EVENTS;\r\n\r\n// Base z-index for all qTips\r\n\t\tQTIP.zindex = 15000;\r\n\r\n// Define configuration defaults\r\n\t\tQTIP.defaults = {\r\n\t\t\tprerender: FALSE,\r\n\t\t\tid: FALSE,\r\n\t\t\toverwrite: TRUE,\r\n\t\t\tsuppress: TRUE,\r\n\t\t\tcontent: {\r\n\t\t\t\ttext: TRUE,\r\n\t\t\t\tattr: 'title',\r\n\t\t\t\ttitle: FALSE,\r\n\t\t\t\tbutton: FALSE\r\n\t\t\t},\r\n\t\t\tposition: {\r\n\t\t\t\tmy: 'top left',\r\n\t\t\t\tat: 'bottom right',\r\n\t\t\t\ttarget: FALSE,\r\n\t\t\t\tcontainer: FALSE,\r\n\t\t\t\tviewport: FALSE,\r\n\t\t\t\tadjust: {\r\n\t\t\t\t\tx: 0, y: 0,\r\n\t\t\t\t\tmouse: TRUE,\r\n\t\t\t\t\tscroll: TRUE,\r\n\t\t\t\t\tresize: TRUE,\r\n\t\t\t\t\tmethod: 'flipinvert flipinvert'\r\n\t\t\t\t},\r\n\t\t\t\teffect: function(api, pos) {\r\n\t\t\t\t\t$(this).animate(pos, {\r\n\t\t\t\t\t\tduration: 200,\r\n\t\t\t\t\t\tqueue: FALSE\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tshow: {\r\n\t\t\t\ttarget: FALSE,\r\n\t\t\t\tevent: 'mouseenter',\r\n\t\t\t\teffect: TRUE,\r\n\t\t\t\tdelay: 90,\r\n\t\t\t\tsolo: FALSE,\r\n\t\t\t\tready: FALSE,\r\n\t\t\t\tautofocus: FALSE\r\n\t\t\t},\r\n\t\t\thide: {\r\n\t\t\t\ttarget: FALSE,\r\n\t\t\t\tevent: 'mouseleave',\r\n\t\t\t\teffect: TRUE,\r\n\t\t\t\tdelay: 0,\r\n\t\t\t\tfixed: FALSE,\r\n\t\t\t\tinactive: FALSE,\r\n\t\t\t\tleave: 'window',\r\n\t\t\t\tdistance: FALSE\r\n\t\t\t},\r\n\t\t\tstyle: {\r\n\t\t\t\tclasses: '',\r\n\t\t\t\twidget: FALSE,\r\n\t\t\t\twidth: FALSE,\r\n\t\t\t\theight: FALSE,\r\n\t\t\t\tdef: TRUE\r\n\t\t\t},\r\n\t\t\tevents: {\r\n\t\t\t\trender: NULL,\r\n\t\t\t\tmove: NULL,\r\n\t\t\t\tshow: NULL,\r\n\t\t\t\thide: NULL,\r\n\t\t\t\ttoggle: NULL,\r\n\t\t\t\tvisible: NULL,\r\n\t\t\t\thidden: NULL,\r\n\t\t\t\tfocus: NULL,\r\n\t\t\t\tblur: NULL\r\n\t\t\t}\r\n\t\t};\r\n\t\t;var TIP,\r\n\t\t\tcreateVML,\r\n\t\t\tSCALE,\r\n\t\t\tPIXEL_RATIO,\r\n\t\t\tBACKING_STORE_RATIO,\r\n\r\n// Common CSS strings\r\n\t\t\tMARGIN = 'margin',\r\n\t\t\tBORDER = 'border',\r\n\t\t\tCOLOR = 'color',\r\n\t\t\tBG_COLOR = 'background-color',\r\n\t\t\tTRANSPARENT = 'transparent',\r\n\t\t\tIMPORTANT = ' !important',\r\n\r\n// Check if the browser supports <canvas/> elements\r\n\t\t\tHASCANVAS = !!document.createElement('canvas').getContext,\r\n\r\n// Invalid colour values used in parseColours()\r\n\t\t\tINVALID = /rgba?\\(0, 0, 0(, 0)?\\)|transparent|#123456/i;\r\n\r\n// Camel-case method, taken from jQuery source\r\n// http://code.jquery.com/jquery-1.8.0.js\r\n\t\tfunction camel(s) { return s.charAt(0).toUpperCase() + s.slice(1); }\r\n\r\n\t\t/*\r\n\t\t * Modified from Modernizr's testPropsAll()\r\n\t\t * http://modernizr.com/downloads/modernizr-latest.js\r\n\t\t */\r\n\t\tvar cssProps = {}, cssPrefixes = ['Webkit', 'O', 'Moz', 'ms'];\r\n\t\tfunction vendorCss(elem, prop) {\r\n\t\t\tvar ucProp = prop.charAt(0).toUpperCase() + prop.slice(1),\r\n\t\t\t\tprops = (prop + ' ' + cssPrefixes.join(ucProp + ' ') + ucProp).split(' '),\r\n\t\t\t\tcur, val, i = 0;\r\n\r\n\t\t\t// If the property has already been mapped...\r\n\t\t\tif(cssProps[prop]) { return elem.css(cssProps[prop]); }\r\n\r\n\t\t\twhile(cur = props[i++]) {\r\n\t\t\t\tif((val = elem.css(cur)) !== undefined) {\r\n\t\t\t\t\tcssProps[prop] = cur;\r\n\t\t\t\t\treturn val;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n// Parse a given elements CSS property into an int\r\n\t\tfunction intCss(elem, prop) {\r\n\t\t\treturn Math.ceil(parseFloat(vendorCss(elem, prop)));\r\n\t\t}\r\n\r\n\r\n// VML creation (for IE only)\r\n\t\tif(!HASCANVAS) {\r\n\t\t\tcreateVML = function(tag, props, style) {\r\n\t\t\t\treturn '<qtipvml:'+tag+' xmlns=\"urn:schemas-microsoft.com:vml\" class=\"qtip-vml\" '+(props||'')+\r\n\t\t\t\t\t' style=\"behavior: url(#default#VML); '+(style||'')+ '\" />';\r\n\t\t\t};\r\n\t\t}\r\n\r\n// Canvas only definitions\r\n\t\telse {\r\n\t\t\tPIXEL_RATIO = window.devicePixelRatio || 1;\r\n\t\t\tBACKING_STORE_RATIO = (function() {\r\n\t\t\t\tvar context = document.createElement('canvas').getContext('2d');\r\n\t\t\t\treturn context.backingStorePixelRatio || context.webkitBackingStorePixelRatio || context.mozBackingStorePixelRatio ||\r\n\t\t\t\t\tcontext.msBackingStorePixelRatio || context.oBackingStorePixelRatio || 1;\r\n\t\t\t})();\r\n\t\t\tSCALE = PIXEL_RATIO / BACKING_STORE_RATIO;\r\n\t\t}\r\n\r\n\r\n\t\tfunction Tip(qtip, options) {\r\n\t\t\tthis._ns = 'tip';\r\n\t\t\tthis.options = options;\r\n\t\t\tthis.offset = options.offset;\r\n\t\t\tthis.size = [ options.width, options.height ];\r\n\r\n\t\t\t// Initialize\r\n\t\t\tthis.qtip = qtip;\r\n\t\t\tthis.init(qtip);\r\n\t\t}\r\n\r\n\t\t$.extend(Tip.prototype, {\r\n\t\t\tinit: function(qtip) {\r\n\t\t\t\tvar context, tip;\r\n\r\n\t\t\t\t// Create tip element and prepend to the tooltip\r\n\t\t\t\ttip = this.element = qtip.elements.tip = $('<div />', { 'class': NAMESPACE+'-tip' }).prependTo(qtip.tooltip);\r\n\r\n\t\t\t\t// Create tip drawing element(s)\r\n\t\t\t\tif(HASCANVAS) {\r\n\t\t\t\t\t// save() as soon as we create the canvas element so FF2 doesn't bork on our first restore()!\r\n\t\t\t\t\tcontext = $('<canvas />').appendTo(this.element)[0].getContext('2d');\r\n\r\n\t\t\t\t\t// Setup constant parameters\r\n\t\t\t\t\tcontext.lineJoin = 'miter';\r\n\t\t\t\t\tcontext.miterLimit = 100000;\r\n\t\t\t\t\tcontext.save();\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tcontext = createVML('shape', 'coordorigin=\"0,0\"', 'position:absolute;');\r\n\t\t\t\t\tthis.element.html(context + context);\r\n\r\n\t\t\t\t\t// Prevent mousing down on the tip since it causes problems with .live() handling in IE due to VML\r\n\t\t\t\t\tqtip._bind( $('*', tip).add(tip), ['click', 'mousedown'], function(event) { event.stopPropagation(); }, this._ns);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Bind update events\r\n\t\t\t\tqtip._bind(qtip.tooltip, 'tooltipmove', this.reposition, this._ns, this);\r\n\r\n\t\t\t\t// Create it\r\n\t\t\t\tthis.create();\r\n\t\t\t},\r\n\r\n\t\t\t_swapDimensions: function() {\r\n\t\t\t\tthis.size[0] = this.options.height;\r\n\t\t\t\tthis.size[1] = this.options.width;\r\n\t\t\t},\r\n\t\t\t_resetDimensions: function() {\r\n\t\t\t\tthis.size[0] = this.options.width;\r\n\t\t\t\tthis.size[1] = this.options.height;\r\n\t\t\t},\r\n\r\n\t\t\t_useTitle: function(corner) {\r\n\t\t\t\tvar titlebar = this.qtip.elements.titlebar;\r\n\t\t\t\treturn titlebar && (\r\n\t\t\t\t\t\tcorner.y === TOP || corner.y === CENTER && this.element.position().top + this.size[1] / 2 + this.options.offset < titlebar.outerHeight(TRUE)\r\n\t\t\t\t\t);\r\n\t\t\t},\r\n\r\n\t\t\t_parseCorner: function(corner) {\r\n\t\t\t\tvar my = this.qtip.options.position.my;\r\n\r\n\t\t\t\t// Detect corner and mimic properties\r\n\t\t\t\tif(corner === FALSE || my === FALSE) {\r\n\t\t\t\t\tcorner = FALSE;\r\n\t\t\t\t}\r\n\t\t\t\telse if(corner === TRUE) {\r\n\t\t\t\t\tcorner = new CORNER( my.string() );\r\n\t\t\t\t}\r\n\t\t\t\telse if(!corner.string) {\r\n\t\t\t\t\tcorner = new CORNER(corner);\r\n\t\t\t\t\tcorner.fixed = TRUE;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn corner;\r\n\t\t\t},\r\n\r\n\t\t\t_parseWidth: function(corner, side, use) {\r\n\t\t\t\tvar elements = this.qtip.elements,\r\n\t\t\t\t\tprop = BORDER + camel(side) + 'Width';\r\n\r\n\t\t\t\treturn (use ? intCss(use, prop) :\r\n\t\t\t\t\t\tintCss(elements.content, prop) ||\r\n\t\t\t\t\t\tintCss(this._useTitle(corner) && elements.titlebar || elements.content, prop) ||\r\n\t\t\t\t\t\tintCss(elements.tooltip, prop)\r\n\t\t\t\t\t) || 0;\r\n\t\t\t},\r\n\r\n\t\t\t_parseRadius: function(corner) {\r\n\t\t\t\tvar elements = this.qtip.elements,\r\n\t\t\t\t\tprop = BORDER + camel(corner.y) + camel(corner.x) + 'Radius';\r\n\r\n\t\t\t\treturn BROWSER.ie < 9 ? 0 :\r\n\t\t\t\tintCss(this._useTitle(corner) && elements.titlebar || elements.content, prop) ||\r\n\t\t\t\tintCss(elements.tooltip, prop) || 0;\r\n\t\t\t},\r\n\r\n\t\t\t_invalidColour: function(elem, prop, compare) {\r\n\t\t\t\tvar val = elem.css(prop);\r\n\t\t\t\treturn !val || compare && val === elem.css(compare) || INVALID.test(val) ? FALSE : val;\r\n\t\t\t},\r\n\r\n\t\t\t_parseColours: function(corner) {\r\n\t\t\t\tvar elements = this.qtip.elements,\r\n\t\t\t\t\ttip = this.element.css('cssText', ''),\r\n\t\t\t\t\tborderSide = BORDER + camel(corner[ corner.precedance ]) + camel(COLOR),\r\n\t\t\t\t\tcolorElem = this._useTitle(corner) && elements.titlebar || elements.content,\r\n\t\t\t\t\tcss = this._invalidColour, color = [];\r\n\r\n\t\t\t\t// Attempt to detect the background colour from various elements, left-to-right precedance\r\n\t\t\t\tcolor[0] = css(tip, BG_COLOR) || css(colorElem, BG_COLOR) || css(elements.content, BG_COLOR) ||\r\n\t\t\t\t\tcss(elements.tooltip, BG_COLOR) || tip.css(BG_COLOR);\r\n\r\n\t\t\t\t// Attempt to detect the correct border side colour from various elements, left-to-right precedance\r\n\t\t\t\tcolor[1] = css(tip, borderSide, COLOR) || css(colorElem, borderSide, COLOR) ||\r\n\t\t\t\t\tcss(elements.content, borderSide, COLOR) || css(elements.tooltip, borderSide, COLOR) || elements.tooltip.css(borderSide);\r\n\r\n\t\t\t\t// Reset background and border colours\r\n\t\t\t\t$('*', tip).add(tip).css('cssText', BG_COLOR+':'+TRANSPARENT+IMPORTANT+';'+BORDER+':0'+IMPORTANT+';');\r\n\r\n\t\t\t\treturn color;\r\n\t\t\t},\r\n\r\n\t\t\t_calculateSize: function(corner) {\r\n\t\t\t\tvar y = corner.precedance === Y,\r\n\t\t\t\t\twidth = this.options.width,\r\n\t\t\t\t\theight = this.options.height,\r\n\t\t\t\t\tisCenter = corner.abbrev() === 'c',\r\n\t\t\t\t\tbase = (y ? width: height) * (isCenter ? 0.5 : 1),\r\n\t\t\t\t\tpow = Math.pow,\r\n\t\t\t\t\tround = Math.round,\r\n\t\t\t\t\tbigHyp, ratio, result,\r\n\r\n\t\t\t\t\tsmallHyp = Math.sqrt( pow(base, 2) + pow(height, 2) ),\r\n\t\t\t\t\thyp = [\r\n\t\t\t\t\t\tthis.border / base * smallHyp,\r\n\t\t\t\t\t\tthis.border / height * smallHyp\r\n\t\t\t\t\t];\r\n\r\n\t\t\t\thyp[2] = Math.sqrt( pow(hyp[0], 2) - pow(this.border, 2) );\r\n\t\t\t\thyp[3] = Math.sqrt( pow(hyp[1], 2) - pow(this.border, 2) );\r\n\r\n\t\t\t\tbigHyp = smallHyp + hyp[2] + hyp[3] + (isCenter ? 0 : hyp[0]);\r\n\t\t\t\tratio = bigHyp / smallHyp;\r\n\r\n\t\t\t\tresult = [ round(ratio * width), round(ratio * height) ];\r\n\t\t\t\treturn y ? result : result.reverse();\r\n\t\t\t},\r\n\r\n\t\t\t// Tip coordinates calculator\r\n\t\t\t_calculateTip: function(corner, size, scale) {\r\n\t\t\t\tscale = scale || 1;\r\n\t\t\t\tsize = size || this.size;\r\n\r\n\t\t\t\tvar width = size[0] * scale,\r\n\t\t\t\t\theight = size[1] * scale,\r\n\t\t\t\t\twidth2 = Math.ceil(width / 2), height2 = Math.ceil(height / 2),\r\n\r\n\t\t\t\t\t// Define tip coordinates in terms of height and width values\r\n\t\t\t\t\ttips = {\r\n\t\t\t\t\t\tbr:\t[0,0,\t\twidth,height,\twidth,0],\r\n\t\t\t\t\t\tbl:\t[0,0,\t\twidth,0,\t\t0,height],\r\n\t\t\t\t\t\ttr:\t[0,height,\twidth,0,\t\twidth,height],\r\n\t\t\t\t\t\ttl:\t[0,0,\t\t0,height,\t\twidth,height],\r\n\t\t\t\t\t\ttc:\t[0,height,\twidth2,0,\t\twidth,height],\r\n\t\t\t\t\t\tbc:\t[0,0,\t\twidth,0,\t\twidth2,height],\r\n\t\t\t\t\t\trc:\t[0,0,\t\twidth,height2,\t0,height],\r\n\t\t\t\t\t\tlc:\t[width,0,\twidth,height,\t0,height2]\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t// Set common side shapes\r\n\t\t\t\ttips.lt = tips.br; tips.rt = tips.bl;\r\n\t\t\t\ttips.lb = tips.tr; tips.rb = tips.tl;\r\n\r\n\t\t\t\treturn tips[ corner.abbrev() ];\r\n\t\t\t},\r\n\r\n\t\t\t// Tip coordinates drawer (canvas)\r\n\t\t\t_drawCoords: function(context, coords) {\r\n\t\t\t\tcontext.beginPath();\r\n\t\t\t\tcontext.moveTo(coords[0], coords[1]);\r\n\t\t\t\tcontext.lineTo(coords[2], coords[3]);\r\n\t\t\t\tcontext.lineTo(coords[4], coords[5]);\r\n\t\t\t\tcontext.closePath();\r\n\t\t\t},\r\n\r\n\t\t\tcreate: function() {\r\n\t\t\t\t// Determine tip corner\r\n\t\t\t\tvar c = this.corner = (HASCANVAS || BROWSER.ie) && this._parseCorner(this.options.corner);\r\n\r\n\t\t\t\t// If we have a tip corner...\r\n\t\t\t\tthis.enabled = !!this.corner && this.corner.abbrev() !== 'c';\r\n\t\t\t\tif(this.enabled) {\r\n\t\t\t\t\t// Cache it\r\n\t\t\t\t\tthis.qtip.cache.corner = c.clone();\r\n\r\n\t\t\t\t\t// Create it\r\n\t\t\t\t\tthis.update();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Toggle tip element\r\n\t\t\t\tthis.element.toggle(this.enabled);\r\n\r\n\t\t\t\treturn this.corner;\r\n\t\t\t},\r\n\r\n\t\t\tupdate: function(corner, position) {\r\n\t\t\t\tif(!this.enabled) { return this; }\r\n\r\n\t\t\t\tvar elements = this.qtip.elements,\r\n\t\t\t\t\ttip = this.element,\r\n\t\t\t\t\tinner = tip.children(),\r\n\t\t\t\t\toptions = this.options,\r\n\t\t\t\t\tcurSize = this.size,\r\n\t\t\t\t\tmimic = options.mimic,\r\n\t\t\t\t\tround = Math.round,\r\n\t\t\t\t\tcolor, precedance, context,\r\n\t\t\t\t\tcoords, bigCoords, translate, newSize, border;\r\n\r\n\t\t\t\t// Re-determine tip if not already set\r\n\t\t\t\tif(!corner) { corner = this.qtip.cache.corner || this.corner; }\r\n\r\n\t\t\t\t// Use corner property if we detect an invalid mimic value\r\n\t\t\t\tif(mimic === FALSE) { mimic = corner; }\r\n\r\n\t\t\t\t// Otherwise inherit mimic properties from the corner object as necessary\r\n\t\t\t\telse {\r\n\t\t\t\t\tmimic = new CORNER(mimic);\r\n\t\t\t\t\tmimic.precedance = corner.precedance;\r\n\r\n\t\t\t\t\tif(mimic.x === 'inherit') { mimic.x = corner.x; }\r\n\t\t\t\t\telse if(mimic.y === 'inherit') { mimic.y = corner.y; }\r\n\t\t\t\t\telse if(mimic.x === mimic.y) {\r\n\t\t\t\t\t\tmimic[ corner.precedance ] = corner[ corner.precedance ];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tprecedance = mimic.precedance;\r\n\r\n\t\t\t\t// Ensure the tip width.height are relative to the tip position\r\n\t\t\t\tif(corner.precedance === X) { this._swapDimensions(); }\r\n\t\t\t\telse { this._resetDimensions(); }\r\n\r\n\t\t\t\t// Update our colours\r\n\t\t\t\tcolor = this.color = this._parseColours(corner);\r\n\r\n\t\t\t\t// Detect border width, taking into account colours\r\n\t\t\t\tif(color[1] !== TRANSPARENT) {\r\n\t\t\t\t\t// Grab border width\r\n\t\t\t\t\tborder = this.border = this._parseWidth(corner, corner[corner.precedance]);\r\n\r\n\t\t\t\t\t// If border width isn't zero, use border color as fill if it's not invalid (1.0 style tips)\r\n\t\t\t\t\tif(options.border && border < 1 && !INVALID.test(color[1])) { color[0] = color[1]; }\r\n\r\n\t\t\t\t\t// Set border width (use detected border width if options.border is true)\r\n\t\t\t\t\tthis.border = border = options.border !== TRUE ? options.border : border;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Border colour was invalid, set border to zero\r\n\t\t\t\telse { this.border = border = 0; }\r\n\r\n\t\t\t\t// Determine tip size\r\n\t\t\t\tnewSize = this.size = this._calculateSize(corner);\r\n\t\t\t\ttip.css({\r\n\t\t\t\t\twidth: newSize[0],\r\n\t\t\t\t\theight: newSize[1],\r\n\t\t\t\t\tlineHeight: newSize[1]+'px'\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// Calculate tip translation\r\n\t\t\t\tif(corner.precedance === Y) {\r\n\t\t\t\t\ttranslate = [\r\n\t\t\t\t\t\tround(mimic.x === LEFT ? border : mimic.x === RIGHT ? newSize[0] - curSize[0] - border : (newSize[0] - curSize[0]) / 2),\r\n\t\t\t\t\t\tround(mimic.y === TOP ? newSize[1] - curSize[1] : 0)\r\n\t\t\t\t\t];\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\ttranslate = [\r\n\t\t\t\t\t\tround(mimic.x === LEFT ? newSize[0] - curSize[0] : 0),\r\n\t\t\t\t\t\tround(mimic.y === TOP ? border : mimic.y === BOTTOM ? newSize[1] - curSize[1] - border : (newSize[1] - curSize[1]) / 2)\r\n\t\t\t\t\t];\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Canvas drawing implementation\r\n\t\t\t\tif(HASCANVAS) {\r\n\t\t\t\t\t// Grab canvas context and clear/save it\r\n\t\t\t\t\tcontext = inner[0].getContext('2d');\r\n\t\t\t\t\tcontext.restore(); context.save();\r\n\t\t\t\t\tcontext.clearRect(0,0,6000,6000);\r\n\r\n\t\t\t\t\t// Calculate coordinates\r\n\t\t\t\t\tcoords = this._calculateTip(mimic, curSize, SCALE);\r\n\t\t\t\t\tbigCoords = this._calculateTip(mimic, this.size, SCALE);\r\n\r\n\t\t\t\t\t// Set the canvas size using calculated size\r\n\t\t\t\t\tinner.attr(WIDTH, newSize[0] * SCALE).attr(HEIGHT, newSize[1] * SCALE);\r\n\t\t\t\t\tinner.css(WIDTH, newSize[0]).css(HEIGHT, newSize[1]);\r\n\r\n\t\t\t\t\t// Draw the outer-stroke tip\r\n\t\t\t\t\tthis._drawCoords(context, bigCoords);\r\n\t\t\t\t\tcontext.fillStyle = color[1];\r\n\t\t\t\t\tcontext.fill();\r\n\r\n\t\t\t\t\t// Draw the actual tip\r\n\t\t\t\t\tcontext.translate(translate[0] * SCALE, translate[1] * SCALE);\r\n\t\t\t\t\tthis._drawCoords(context, coords);\r\n\t\t\t\t\tcontext.fillStyle = color[0];\r\n\t\t\t\t\tcontext.fill();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// VML (IE Proprietary implementation)\r\n\t\t\t\telse {\r\n\t\t\t\t\t// Calculate coordinates\r\n\t\t\t\t\tcoords = this._calculateTip(mimic);\r\n\r\n\t\t\t\t\t// Setup coordinates string\r\n\t\t\t\t\tcoords = 'm' + coords[0] + ',' + coords[1] + ' l' + coords[2] +\r\n\t\t\t\t\t\t',' + coords[3] + ' ' + coords[4] + ',' + coords[5] + ' xe';\r\n\r\n\t\t\t\t\t// Setup VML-specific offset for pixel-perfection\r\n\t\t\t\t\ttranslate[2] = border && /^(r|b)/i.test(corner.string()) ?\r\n\t\t\t\t\t\tBROWSER.ie === 8 ? 2 : 1 : 0;\r\n\r\n\t\t\t\t\t// Set initial CSS\r\n\t\t\t\t\tinner.css({\r\n\t\t\t\t\t\tcoordsize: newSize[0]+border + ' ' + newSize[1]+border,\r\n\t\t\t\t\t\tantialias: ''+(mimic.string().indexOf(CENTER) > -1),\r\n\t\t\t\t\t\tleft: translate[0] - translate[2] * Number(precedance === X),\r\n\t\t\t\t\t\ttop: translate[1] - translate[2] * Number(precedance === Y),\r\n\t\t\t\t\t\twidth: newSize[0] + border,\r\n\t\t\t\t\t\theight: newSize[1] + border\r\n\t\t\t\t\t})\r\n\t\t\t\t\t\t.each(function(i) {\r\n\t\t\t\t\t\t\tvar $this = $(this);\r\n\r\n\t\t\t\t\t\t\t// Set shape specific attributes\r\n\t\t\t\t\t\t\t$this[ $this.prop ? 'prop' : 'attr' ]({\r\n\t\t\t\t\t\t\t\tcoordsize: newSize[0]+border + ' ' + newSize[1]+border,\r\n\t\t\t\t\t\t\t\tpath: coords,\r\n\t\t\t\t\t\t\t\tfillcolor: color[0],\r\n\t\t\t\t\t\t\t\tfilled: !!i,\r\n\t\t\t\t\t\t\t\tstroked: !i\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t.toggle(!!(border || i));\r\n\r\n\t\t\t\t\t\t\t// Check if border is enabled and add stroke element\r\n\t\t\t\t\t\t\t!i && $this.html( createVML(\r\n\t\t\t\t\t\t\t\t'stroke', 'weight=\"'+border*2+'px\" color=\"'+color[1]+'\" miterlimit=\"1000\" joinstyle=\"miter\"'\r\n\t\t\t\t\t\t\t) );\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Opera bug #357 - Incorrect tip position\r\n\t\t\t\t// https://github.com/Craga89/qTip2/issues/367\r\n\t\t\t\twindow.opera && setTimeout(function() {\r\n\t\t\t\t\telements.tip.css({\r\n\t\t\t\t\t\tdisplay: 'inline-block',\r\n\t\t\t\t\t\tvisibility: 'visible'\r\n\t\t\t\t\t});\r\n\t\t\t\t}, 1);\r\n\r\n\t\t\t\t// Position if needed\r\n\t\t\t\tif(position !== FALSE) { this.calculate(corner, newSize); }\r\n\t\t\t},\r\n\r\n\t\t\tcalculate: function(corner, size) {\r\n\t\t\t\tif(!this.enabled) { return FALSE; }\r\n\r\n\t\t\t\tvar self = this,\r\n\t\t\t\t\telements = this.qtip.elements,\r\n\t\t\t\t\ttip = this.element,\r\n\t\t\t\t\tuserOffset = this.options.offset,\r\n\t\t\t\t\tposition = {},\r\n\t\t\t\t\tprecedance, corners;\r\n\r\n\t\t\t\t// Inherit corner if not provided\r\n\t\t\t\tcorner = corner || this.corner;\r\n\t\t\t\tprecedance = corner.precedance;\r\n\r\n\t\t\t\t// Determine which tip dimension to use for adjustment\r\n\t\t\t\tsize = size || this._calculateSize(corner);\r\n\r\n\t\t\t\t// Setup corners and offset array\r\n\t\t\t\tcorners = [ corner.x, corner.y ];\r\n\t\t\t\tif(precedance === X) { corners.reverse(); }\r\n\r\n\t\t\t\t// Calculate tip position\r\n\t\t\t\t$.each(corners, function(i, side) {\r\n\t\t\t\t\tvar b, bc, br;\r\n\r\n\t\t\t\t\tif(side === CENTER) {\r\n\t\t\t\t\t\tb = precedance === Y ? LEFT : TOP;\r\n\t\t\t\t\t\tposition[ b ] = '50%';\r\n\t\t\t\t\t\tposition[MARGIN+'-' + b] = -Math.round(size[ precedance === Y ? 0 : 1 ] / 2) + userOffset;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tb = self._parseWidth(corner, side, elements.tooltip);\r\n\t\t\t\t\t\tbc = self._parseWidth(corner, side, elements.content);\r\n\t\t\t\t\t\tbr = self._parseRadius(corner);\r\n\r\n\t\t\t\t\t\tposition[ side ] = Math.max(-self.border, i ? bc : userOffset + (br > b ? br : -b));\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// Adjust for tip size\r\n\t\t\t\tposition[ corner[precedance] ] -= size[ precedance === X ? 0 : 1 ];\r\n\r\n\t\t\t\t// Set and return new position\r\n\t\t\t\ttip.css({ margin: '', top: '', bottom: '', left: '', right: '' }).css(position);\r\n\t\t\t\treturn position;\r\n\t\t\t},\r\n\r\n\t\t\treposition: function(event, api, pos) {\r\n\t\t\t\tif(!this.enabled) { return; }\r\n\r\n\t\t\t\tvar cache = api.cache,\r\n\t\t\t\t\tnewCorner = this.corner.clone(),\r\n\t\t\t\t\tadjust = pos.adjusted,\r\n\t\t\t\t\tmethod = api.options.position.adjust.method.split(' '),\r\n\t\t\t\t\thorizontal = method[0],\r\n\t\t\t\t\tvertical = method[1] || method[0],\r\n\t\t\t\t\tshift = { left: FALSE, top: FALSE, x: 0, y: 0 },\r\n\t\t\t\t\toffset, css = {}, props;\r\n\r\n\t\t\t\tfunction shiftflip(direction, precedance, popposite, side, opposite) {\r\n\t\t\t\t\t// Horizontal - Shift or flip method\r\n\t\t\t\t\tif(direction === SHIFT && newCorner.precedance === precedance && adjust[side] && newCorner[popposite] !== CENTER) {\r\n\t\t\t\t\t\tnewCorner.precedance = newCorner.precedance === X ? Y : X;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(direction !== SHIFT && adjust[side]){\r\n\t\t\t\t\t\tnewCorner[precedance] = newCorner[precedance] === CENTER ?\r\n\t\t\t\t\t\t\tadjust[side] > 0 ? side : opposite :\r\n\t\t\t\t\t\t\tnewCorner[precedance] === side ? opposite : side;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfunction shiftonly(xy, side, opposite) {\r\n\t\t\t\t\tif(newCorner[xy] === CENTER) {\r\n\t\t\t\t\t\tcss[MARGIN+'-'+side] = shift[xy] = offset[MARGIN+'-'+side] - adjust[side];\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tprops = offset[opposite] !== undefined ?\r\n\t\t\t\t\t\t\t[ adjust[side], -offset[side] ] : [ -adjust[side], offset[side] ];\r\n\r\n\t\t\t\t\t\tif( (shift[xy] = Math.max(props[0], props[1])) > props[0] ) {\r\n\t\t\t\t\t\t\tpos[side] -= adjust[side];\r\n\t\t\t\t\t\t\tshift[side] = FALSE;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tcss[ offset[opposite] !== undefined ? opposite : side ] = shift[xy];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// If our tip position isn't fixed e.g. doesn't adjust with viewport...\r\n\t\t\t\tif(this.corner.fixed !== TRUE) {\r\n\t\t\t\t\t// Perform shift/flip adjustments\r\n\t\t\t\t\tshiftflip(horizontal, X, Y, LEFT, RIGHT);\r\n\t\t\t\t\tshiftflip(vertical, Y, X, TOP, BOTTOM);\r\n\r\n\t\t\t\t\t// Update and redraw the tip if needed (check cached details of last drawn tip)\r\n\t\t\t\t\tif(newCorner.string() !== cache.corner.string() || cache.cornerTop !== adjust.top || cache.cornerLeft !== adjust.left) {\r\n\t\t\t\t\t\tthis.update(newCorner, FALSE);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Setup tip offset properties\r\n\t\t\t\toffset = this.calculate(newCorner);\r\n\r\n\t\t\t\t// Readjust offset object to make it left/top\r\n\t\t\t\tif(offset.right !== undefined) { offset.left = -offset.right; }\r\n\t\t\t\tif(offset.bottom !== undefined) { offset.top = -offset.bottom; }\r\n\t\t\t\toffset.user = this.offset;\r\n\r\n\t\t\t\t// Perform shift adjustments\r\n\t\t\t\tshift.left = horizontal === SHIFT && !!adjust.left;\r\n\t\t\t\tif(shift.left) {\r\n\t\t\t\t\tshiftonly(X, LEFT, RIGHT);\r\n\t\t\t\t}\r\n\t\t\t\tshift.top = vertical === SHIFT && !!adjust.top;\r\n\t\t\t\tif(shift.top) {\r\n\t\t\t\t\tshiftonly(Y, TOP, BOTTOM);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t/*\r\n\t\t\t\t * If the tip is adjusted in both dimensions, or in a\r\n\t\t\t\t * direction that would cause it to be anywhere but the\r\n\t\t\t\t * outer border, hide it!\r\n\t\t\t\t */\r\n\t\t\t\tthis.element.css(css).toggle(\r\n\t\t\t\t\t!(shift.x && shift.y || newCorner.x === CENTER && shift.y || newCorner.y === CENTER && shift.x)\r\n\t\t\t\t);\r\n\r\n\t\t\t\t// Adjust position to accomodate tip dimensions\r\n\t\t\t\tpos.left -= offset.left.charAt ? offset.user :\r\n\t\t\t\t\thorizontal !== SHIFT || shift.top || !shift.left && !shift.top ? offset.left + this.border : 0;\r\n\t\t\t\tpos.top -= offset.top.charAt ? offset.user :\r\n\t\t\t\t\tvertical !== SHIFT || shift.left || !shift.left && !shift.top ? offset.top + this.border : 0;\r\n\r\n\t\t\t\t// Cache details\r\n\t\t\t\tcache.cornerLeft = adjust.left; cache.cornerTop = adjust.top;\r\n\t\t\t\tcache.corner = newCorner.clone();\r\n\t\t\t},\r\n\r\n\t\t\tdestroy: function() {\r\n\t\t\t\t// Unbind events\r\n\t\t\t\tthis.qtip._unbind(this.qtip.tooltip, this._ns);\r\n\r\n\t\t\t\t// Remove the tip element(s)\r\n\t\t\t\tif(this.qtip.elements.tip) {\r\n\t\t\t\t\tthis.qtip.elements.tip.find('*')\r\n\t\t\t\t\t\t.remove().end().remove();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tTIP = PLUGINS.tip = function(api) {\r\n\t\t\treturn new Tip(api, api.options.style.tip);\r\n\t\t};\r\n\r\n// Initialize tip on render\r\n\t\tTIP.initialize = 'render';\r\n\r\n// Setup plugin sanitization options\r\n\t\tTIP.sanitize = function(options) {\r\n\t\t\tif(options.style && 'tip' in options.style) {\r\n\t\t\t\tvar opts = options.style.tip;\r\n\t\t\t\tif(typeof opts !== 'object') { opts = options.style.tip = { corner: opts }; }\r\n\t\t\t\tif(!(/string|boolean/i).test(typeof opts.corner)) { opts.corner = TRUE; }\r\n\t\t\t}\r\n\t\t};\r\n\r\n// Add new option checks for the plugin\r\n\t\tCHECKS.tip = {\r\n\t\t\t'^position.my|style.tip.(corner|mimic|border)$': function() {\r\n\t\t\t\t// Make sure a tip can be drawn\r\n\t\t\t\tthis.create();\r\n\r\n\t\t\t\t// Reposition the tooltip\r\n\t\t\t\tthis.qtip.reposition();\r\n\t\t\t},\r\n\t\t\t'^style.tip.(height|width)$': function(obj) {\r\n\t\t\t\t// Re-set dimensions and redraw the tip\r\n\t\t\t\tthis.size = [ obj.width, obj.height ];\r\n\t\t\t\tthis.update();\r\n\r\n\t\t\t\t// Reposition the tooltip\r\n\t\t\t\tthis.qtip.reposition();\r\n\t\t\t},\r\n\t\t\t'^content.title|style.(classes|widget)$': function() {\r\n\t\t\t\tthis.update();\r\n\t\t\t}\r\n\t\t};\r\n\r\n// Extend original qTip defaults\r\n\t\t$.extend(TRUE, QTIP.defaults, {\r\n\t\t\tstyle: {\r\n\t\t\t\ttip: {\r\n\t\t\t\t\tcorner: TRUE,\r\n\t\t\t\t\tmimic: FALSE,\r\n\t\t\t\t\twidth: 6,\r\n\t\t\t\t\theight: 6,\r\n\t\t\t\t\tborder: TRUE,\r\n\t\t\t\t\toffset: 0\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t;var MODAL, OVERLAY,\r\n\t\t\tMODALCLASS = 'qtip-modal',\r\n\t\t\tMODALSELECTOR = '.'+MODALCLASS;\r\n\r\n\t\tOVERLAY = function()\r\n\t\t{\r\n\t\t\tvar self = this,\r\n\t\t\t\tfocusableElems = {},\r\n\t\t\t\tcurrent,\r\n\t\t\t\tprevState,\r\n\t\t\t\telem;\r\n\r\n\t\t\t// Modified code from jQuery UI 1.10.0 source\r\n\t\t\t// http://code.jquery.com/ui/1.10.0/jquery-ui.js\r\n\t\t\tfunction focusable(element) {\r\n\t\t\t\t// Use the defined focusable checker when possible\r\n\t\t\t\tif($.expr[':'].focusable) { return $.expr[':'].focusable; }\r\n\r\n\t\t\t\tvar isTabIndexNotNaN = !isNaN($.attr(element, 'tabindex')),\r\n\t\t\t\t\tnodeName = element.nodeName && element.nodeName.toLowerCase(),\r\n\t\t\t\t\tmap, mapName, img;\r\n\r\n\t\t\t\tif('area' === nodeName) {\r\n\t\t\t\t\tmap = element.parentNode;\r\n\t\t\t\t\tmapName = map.name;\r\n\t\t\t\t\tif(!element.href || !mapName || map.nodeName.toLowerCase() !== 'map') {\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\timg = $('img[usemap=#' + mapName + ']')[0];\r\n\t\t\t\t\treturn !!img && img.is(':visible');\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn /input|select|textarea|button|object/.test( nodeName ) ?\r\n\t\t\t\t\t!element.disabled :\r\n\t\t\t\t\t'a' === nodeName ?\r\n\t\t\t\t\telement.href || isTabIndexNotNaN :\r\n\t\t\t\t\t\tisTabIndexNotNaN\r\n\t\t\t\t\t;\r\n\t\t\t}\r\n\r\n\t\t\t// Focus inputs using cached focusable elements (see update())\r\n\t\t\tfunction focusInputs(blurElems) {\r\n\t\t\t\t// Blurring body element in IE causes window.open windows to unfocus!\r\n\t\t\t\tif(focusableElems.length < 1 && blurElems.length) { blurElems.not('body').blur(); }\r\n\r\n\t\t\t\t// Focus the inputs\r\n\t\t\t\telse { focusableElems.first().focus(); }\r\n\t\t\t}\r\n\r\n\t\t\t// Steal focus from elements outside tooltip\r\n\t\t\tfunction stealFocus(event) {\r\n\t\t\t\tif(!elem.is(':visible')) { return; }\r\n\r\n\t\t\t\tvar target = $(event.target),\r\n\t\t\t\t\ttooltip = current.tooltip,\r\n\t\t\t\t\tcontainer = target.closest(SELECTOR),\r\n\t\t\t\t\ttargetOnTop;\r\n\r\n\t\t\t\t// Determine if input container target is above this\r\n\t\t\t\ttargetOnTop = container.length < 1 ? FALSE :\r\n\t\t\t\tparseInt(container[0].style.zIndex, 10) > parseInt(tooltip[0].style.zIndex, 10);\r\n\r\n\t\t\t\t// If we're showing a modal, but focus has landed on an input below\r\n\t\t\t\t// this modal, divert focus to the first visible input in this modal\r\n\t\t\t\t// or if we can't find one... the tooltip itself\r\n\t\t\t\tif(!targetOnTop && target.closest(SELECTOR)[0] !== tooltip[0]) {\r\n\t\t\t\t\tfocusInputs(target);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t$.extend(self, {\r\n\t\t\t\tinit: function() {\r\n\t\t\t\t\t// Create document overlay\r\n\t\t\t\t\telem = self.elem = $('<div />', {\r\n\t\t\t\t\t\tid: 'qtip-overlay',\r\n\t\t\t\t\t\thtml: '<div></div>',\r\n\t\t\t\t\t\tmousedown: function() { return FALSE; }\r\n\t\t\t\t\t})\r\n\t\t\t\t\t\t.hide();\r\n\r\n\t\t\t\t\t// Make sure we can't focus anything outside the tooltip\r\n\t\t\t\t\t$(document.body).bind('focusin'+MODALSELECTOR, stealFocus);\r\n\r\n\t\t\t\t\t// Apply keyboard \"Escape key\" close handler\r\n\t\t\t\t\t$(document).bind('keydown'+MODALSELECTOR, function(event) {\r\n\t\t\t\t\t\tif(current && current.options.show.modal.escape && event.keyCode === 27) {\r\n\t\t\t\t\t\t\tcurrent.hide(event);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t// Apply click handler for blur option\r\n\t\t\t\t\telem.bind('click'+MODALSELECTOR, function(event) {\r\n\t\t\t\t\t\tif(current && current.options.show.modal.blur) {\r\n\t\t\t\t\t\t\tcurrent.hide(event);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\treturn self;\r\n\t\t\t\t},\r\n\r\n\t\t\t\tupdate: function(api) {\r\n\t\t\t\t\t// Update current API reference\r\n\t\t\t\t\tcurrent = api;\r\n\r\n\t\t\t\t\t// Update focusable elements if enabled\r\n\t\t\t\t\tif(api.options.show.modal.stealfocus !== FALSE) {\r\n\t\t\t\t\t\tfocusableElems = api.tooltip.find('*').filter(function() {\r\n\t\t\t\t\t\t\treturn focusable(this);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse { focusableElems = []; }\r\n\t\t\t\t},\r\n\r\n\t\t\t\ttoggle: function(api, state, duration) {\r\n\t\t\t\t\tvar tooltip = api.tooltip,\r\n\t\t\t\t\t\toptions = api.options.show.modal,\r\n\t\t\t\t\t\teffect = options.effect,\r\n\t\t\t\t\t\ttype = state ? 'show': 'hide',\r\n\t\t\t\t\t\tvisible = elem.is(':visible'),\r\n\t\t\t\t\t\tvisibleModals = $(MODALSELECTOR).filter(':visible:not(:animated)').not(tooltip);\r\n\r\n\t\t\t\t\t// Set active tooltip API reference\r\n\t\t\t\t\tself.update(api);\r\n\r\n\t\t\t\t\t// If the modal can steal the focus...\r\n\t\t\t\t\t// Blur the current item and focus anything in the modal we an\r\n\t\t\t\t\tif(state && options.stealfocus !== FALSE) {\r\n\t\t\t\t\t\tfocusInputs( $(':focus') );\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Toggle backdrop cursor style on show\r\n\t\t\t\t\telem.toggleClass('blurs', options.blur);\r\n\r\n\t\t\t\t\t// Append to body on show\r\n\t\t\t\t\tif(state) {\r\n\t\t\t\t\t\telem.appendTo(document.body);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Prevent modal from conflicting with show.solo, and don't hide backdrop is other modals are visible\r\n\t\t\t\t\tif(elem.is(':animated') && visible === state && prevState !== FALSE || !state && visibleModals.length) {\r\n\t\t\t\t\t\treturn self;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Stop all animations\r\n\t\t\t\t\telem.stop(TRUE, FALSE);\r\n\r\n\t\t\t\t\t// Use custom function if provided\r\n\t\t\t\t\tif($.isFunction(effect)) {\r\n\t\t\t\t\t\teffect.call(elem, state);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// If no effect type is supplied, use a simple toggle\r\n\t\t\t\t\telse if(effect === FALSE) {\r\n\t\t\t\t\t\telem[ type ]();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Use basic fade function\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\telem.fadeTo( parseInt(duration, 10) || 90, state ? 1 : 0, function() {\r\n\t\t\t\t\t\t\tif(!state) { elem.hide(); }\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Reset position and detach from body on hide\r\n\t\t\t\t\tif(!state) {\r\n\t\t\t\t\t\telem.queue(function(next) {\r\n\t\t\t\t\t\t\telem.css({ left: '', top: '' });\r\n\t\t\t\t\t\t\tif(!$(MODALSELECTOR).length) { elem.detach(); }\r\n\t\t\t\t\t\t\tnext();\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Cache the state\r\n\t\t\t\t\tprevState = state;\r\n\r\n\t\t\t\t\t// If the tooltip is destroyed, set reference to null\r\n\t\t\t\t\tif(current.destroyed) { current = NULL; }\r\n\r\n\t\t\t\t\treturn self;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tself.init();\r\n\t\t};\r\n\t\tOVERLAY = new OVERLAY();\r\n\r\n\t\tfunction Modal(api, options) {\r\n\t\t\tthis.options = options;\r\n\t\t\tthis._ns = '-modal';\r\n\r\n\t\t\tthis.qtip = api;\r\n\t\t\tthis.init(api);\r\n\t\t}\r\n\r\n\t\t$.extend(Modal.prototype, {\r\n\t\t\tinit: function(qtip) {\r\n\t\t\t\tvar tooltip = qtip.tooltip;\r\n\r\n\t\t\t\t// If modal is disabled... return\r\n\t\t\t\tif(!this.options.on) { return this; }\r\n\r\n\t\t\t\t// Set overlay reference\r\n\t\t\t\tqtip.elements.overlay = OVERLAY.elem;\r\n\r\n\t\t\t\t// Add unique attribute so we can grab modal tooltips easily via a SELECTOR, and set z-index\r\n\t\t\t\ttooltip.addClass(MODALCLASS).css('z-index', QTIP.modal_zindex + $(MODALSELECTOR).length);\r\n\r\n\t\t\t\t// Apply our show/hide/focus modal events\r\n\t\t\t\tqtip._bind(tooltip, ['tooltipshow', 'tooltiphide'], function(event, api, duration) {\r\n\t\t\t\t\tvar oEvent = event.originalEvent;\r\n\r\n\t\t\t\t\t// Make sure mouseout doesn't trigger a hide when showing the modal and mousing onto backdrop\r\n\t\t\t\t\tif(event.target === tooltip[0]) {\r\n\t\t\t\t\t\tif(oEvent && event.type === 'tooltiphide' && /mouse(leave|enter)/.test(oEvent.type) && $(oEvent.relatedTarget).closest(OVERLAY.elem[0]).length) {\r\n\t\t\t\t\t\t\t/* eslint-disable no-empty */\r\n\t\t\t\t\t\t\ttry { event.preventDefault(); }\r\n\t\t\t\t\t\t\tcatch(e) {}\r\n\t\t\t\t\t\t\t/* eslint-enable no-empty */\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if(!oEvent || oEvent && oEvent.type !== 'tooltipsolo') {\r\n\t\t\t\t\t\t\tthis.toggle(event, event.type === 'tooltipshow', duration);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}, this._ns, this);\r\n\r\n\t\t\t\t// Adjust modal z-index on tooltip focus\r\n\t\t\t\tqtip._bind(tooltip, 'tooltipfocus', function(event, api) {\r\n\t\t\t\t\t// If focus was cancelled before it reached us, don't do anything\r\n\t\t\t\t\tif(event.isDefaultPrevented() || event.target !== tooltip[0]) { return; }\r\n\r\n\t\t\t\t\tvar qtips = $(MODALSELECTOR),\r\n\r\n\t\t\t\t\t\t// Keep the modal's lower than other, regular qtips\r\n\t\t\t\t\t\tnewIndex = QTIP.modal_zindex + qtips.length,\r\n\t\t\t\t\t\tcurIndex = parseInt(tooltip[0].style.zIndex, 10);\r\n\r\n\t\t\t\t\t// Set overlay z-index\r\n\t\t\t\t\tOVERLAY.elem[0].style.zIndex = newIndex - 1;\r\n\r\n\t\t\t\t\t// Reduce modal z-index's and keep them properly ordered\r\n\t\t\t\t\tqtips.each(function() {\r\n\t\t\t\t\t\tif(this.style.zIndex > curIndex) {\r\n\t\t\t\t\t\t\tthis.style.zIndex -= 1;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t// Fire blur event for focused tooltip\r\n\t\t\t\t\tqtips.filter('.' + CLASS_FOCUS).qtip('blur', event.originalEvent);\r\n\r\n\t\t\t\t\t// Set the new z-index\r\n\t\t\t\t\ttooltip.addClass(CLASS_FOCUS)[0].style.zIndex = newIndex;\r\n\r\n\t\t\t\t\t// Set current\r\n\t\t\t\t\tOVERLAY.update(api);\r\n\r\n\t\t\t\t\t// Prevent default handling\r\n\t\t\t\t\t/* eslint-disable no-empty */\r\n\t\t\t\t\ttry { event.preventDefault(); }\r\n\t\t\t\t\tcatch(e) {}\r\n\t\t\t\t\t/* eslint-enable no-empty */\r\n\t\t\t\t}, this._ns, this);\r\n\r\n\t\t\t\t// Focus any other visible modals when this one hides\r\n\t\t\t\tqtip._bind(tooltip, 'tooltiphide', function(event) {\r\n\t\t\t\t\tif(event.target === tooltip[0]) {\r\n\t\t\t\t\t\t$(MODALSELECTOR).filter(':visible').not(tooltip).last().qtip('focus', event);\r\n\t\t\t\t\t}\r\n\t\t\t\t}, this._ns, this);\r\n\t\t\t},\r\n\r\n\t\t\ttoggle: function(event, state, duration) {\r\n\t\t\t\t// Make sure default event hasn't been prevented\r\n\t\t\t\tif(event && event.isDefaultPrevented()) { return this; }\r\n\r\n\t\t\t\t// Toggle it\r\n\t\t\t\tOVERLAY.toggle(this.qtip, !!state, duration);\r\n\t\t\t},\r\n\r\n\t\t\tdestroy: function() {\r\n\t\t\t\t// Remove modal class\r\n\t\t\t\tthis.qtip.tooltip.removeClass(MODALCLASS);\r\n\r\n\t\t\t\t// Remove bound events\r\n\t\t\t\tthis.qtip._unbind(this.qtip.tooltip, this._ns);\r\n\r\n\t\t\t\t// Delete element reference\r\n\t\t\t\tOVERLAY.toggle(this.qtip, FALSE);\r\n\t\t\t\tdelete this.qtip.elements.overlay;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\r\n\t\tMODAL = PLUGINS.modal = function(api) {\r\n\t\t\treturn new Modal(api, api.options.show.modal);\r\n\t\t};\r\n\r\n// Setup sanitiztion rules\r\n\t\tMODAL.sanitize = function(opts) {\r\n\t\t\tif(opts.show) {\r\n\t\t\t\tif(typeof opts.show.modal !== 'object') { opts.show.modal = { on: !!opts.show.modal }; }\r\n\t\t\t\telse if(typeof opts.show.modal.on === 'undefined') { opts.show.modal.on = TRUE; }\r\n\t\t\t}\r\n\t\t};\r\n\r\n// Base z-index for all modal tooltips (use qTip core z-index as a base)\r\n\t\t/* eslint-disable camelcase */\r\n\t\tQTIP.modal_zindex = QTIP.zindex - 200;\r\n\t\t/* eslint-enable camelcase */\r\n\r\n// Plugin needs to be initialized on render\r\n\t\tMODAL.initialize = 'render';\r\n\r\n// Setup option set checks\r\n\t\tCHECKS.modal = {\r\n\t\t\t'^show.modal.(on|blur)$': function() {\r\n\t\t\t\t// Initialise\r\n\t\t\t\tthis.destroy();\r\n\t\t\t\tthis.init();\r\n\r\n\t\t\t\t// Show the modal if not visible already and tooltip is visible\r\n\t\t\t\tthis.qtip.elems.overlay.toggle(\r\n\t\t\t\t\tthis.qtip.tooltip[0].offsetWidth > 0\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t};\r\n\r\n// Extend original api defaults\r\n\t\t$.extend(TRUE, QTIP.defaults, {\r\n\t\t\tshow: {\r\n\t\t\t\tmodal: {\r\n\t\t\t\t\ton: FALSE,\r\n\t\t\t\t\teffect: TRUE,\r\n\t\t\t\t\tblur: TRUE,\r\n\t\t\t\t\tstealfocus: TRUE,\r\n\t\t\t\t\tescape: TRUE\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t;PLUGINS.viewport = function(api, position, posOptions, targetWidth, targetHeight, elemWidth, elemHeight)\r\n\t\t{\r\n\t\t\tvar target = posOptions.target,\r\n\t\t\t\ttooltip = api.elements.tooltip,\r\n\t\t\t\tmy = posOptions.my,\r\n\t\t\t\tat = posOptions.at,\r\n\t\t\t\tadjust = posOptions.adjust,\r\n\t\t\t\tmethod = adjust.method.split(' '),\r\n\t\t\t\tmethodX = method[0],\r\n\t\t\t\tmethodY = method[1] || method[0],\r\n\t\t\t\tviewport = posOptions.viewport,\r\n\t\t\t\tcontainer = posOptions.container,\r\n\t\t\t\tadjusted = { left: 0, top: 0 },\r\n\t\t\t\tfixed, newMy, containerOffset, containerStatic,\r\n\t\t\t\tviewportWidth, viewportHeight, viewportScroll, viewportOffset;\r\n\r\n\t\t\t// If viewport is not a jQuery element, or it's the window/document, or no adjustment method is used... return\r\n\t\t\tif(!viewport.jquery || target[0] === window || target[0] === document.body || adjust.method === 'none') {\r\n\t\t\t\treturn adjusted;\r\n\t\t\t}\r\n\r\n\t\t\t// Cach container details\r\n\t\t\tcontainerOffset = container.offset() || adjusted;\r\n\t\t\tcontainerStatic = container.css('position') === 'static';\r\n\r\n\t\t\t// Cache our viewport details\r\n\t\t\tfixed = tooltip.css('position') === 'fixed';\r\n\t\t\tviewportWidth = viewport[0] === window ? viewport.width() : viewport.outerWidth(FALSE);\r\n\t\t\tviewportHeight = viewport[0] === window ? viewport.height() : viewport.outerHeight(FALSE);\r\n\t\t\tviewportScroll = { left: fixed ? 0 : viewport.scrollLeft(), top: fixed ? 0 : viewport.scrollTop() };\r\n\t\t\tviewportOffset = viewport.offset() || adjusted;\r\n\r\n\t\t\t// Generic calculation method\r\n\t\t\tfunction calculate(side, otherSide, type, adjustment, side1, side2, lengthName, targetLength, elemLength) {\r\n\t\t\t\tvar initialPos = position[side1],\r\n\t\t\t\t\tmySide = my[side],\r\n\t\t\t\t\tatSide = at[side],\r\n\t\t\t\t\tisShift = type === SHIFT,\r\n\t\t\t\t\tmyLength = mySide === side1 ? elemLength : mySide === side2 ? -elemLength : -elemLength / 2,\r\n\t\t\t\t\tatLength = atSide === side1 ? targetLength : atSide === side2 ? -targetLength : -targetLength / 2,\r\n\t\t\t\t\tsideOffset = viewportScroll[side1] + viewportOffset[side1] - (containerStatic ? 0 : containerOffset[side1]),\r\n\t\t\t\t\toverflow1 = sideOffset - initialPos,\r\n\t\t\t\t\toverflow2 = initialPos + elemLength - (lengthName === WIDTH ? viewportWidth : viewportHeight) - sideOffset,\r\n\t\t\t\t\toffset = myLength - (my.precedance === side || mySide === my[otherSide] ? atLength : 0) - (atSide === CENTER ? targetLength / 2 : 0);\r\n\r\n\t\t\t\t// shift\r\n\t\t\t\tif(isShift) {\r\n\t\t\t\t\toffset = (mySide === side1 ? 1 : -1) * myLength;\r\n\r\n\t\t\t\t\t// Adjust position but keep it within viewport dimensions\r\n\t\t\t\t\tposition[side1] += overflow1 > 0 ? overflow1 : overflow2 > 0 ? -overflow2 : 0;\r\n\t\t\t\t\tposition[side1] = Math.max(\r\n\t\t\t\t\t\t-containerOffset[side1] + viewportOffset[side1],\r\n\t\t\t\t\t\tinitialPos - offset,\r\n\t\t\t\t\t\tMath.min(\r\n\t\t\t\t\t\t\tMath.max(\r\n\t\t\t\t\t\t\t\t-containerOffset[side1] + viewportOffset[side1] + (lengthName === WIDTH ? viewportWidth : viewportHeight),\r\n\t\t\t\t\t\t\t\tinitialPos + offset\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\tposition[side1],\r\n\r\n\t\t\t\t\t\t\t// Make sure we don't adjust complete off the element when using 'center'\r\n\t\t\t\t\t\t\tmySide === 'center' ? initialPos - myLength : 1E9\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// flip/flipinvert\r\n\t\t\t\telse {\r\n\t\t\t\t\t// Update adjustment amount depending on if using flipinvert or flip\r\n\t\t\t\t\tadjustment *= type === FLIPINVERT ? 2 : 0;\r\n\r\n\t\t\t\t\t// Check for overflow on the left/top\r\n\t\t\t\t\tif(overflow1 > 0 && (mySide !== side1 || overflow2 > 0)) {\r\n\t\t\t\t\t\tposition[side1] -= offset + adjustment;\r\n\t\t\t\t\t\tnewMy.invert(side, side1);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Check for overflow on the bottom/right\r\n\t\t\t\t\telse if(overflow2 > 0 && (mySide !== side2 || overflow1 > 0)  ) {\r\n\t\t\t\t\t\tposition[side1] -= (mySide === CENTER ? -offset : offset) + adjustment;\r\n\t\t\t\t\t\tnewMy.invert(side, side2);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Make sure we haven't made things worse with the adjustment and reset if so\r\n\t\t\t\t\tif(position[side1] < viewportScroll[side1] && -position[side1] > overflow2) {\r\n\t\t\t\t\t\tposition[side1] = initialPos; newMy = my.clone();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn position[side1] - initialPos;\r\n\t\t\t}\r\n\r\n\t\t\t// Set newMy if using flip or flipinvert methods\r\n\t\t\tif(methodX !== 'shift' || methodY !== 'shift') { newMy = my.clone(); }\r\n\r\n\t\t\t// Adjust position based onviewport and adjustment options\r\n\t\t\tadjusted = {\r\n\t\t\t\tleft: methodX !== 'none' ? calculate( X, Y, methodX, adjust.x, LEFT, RIGHT, WIDTH, targetWidth, elemWidth ) : 0,\r\n\t\t\t\ttop: methodY !== 'none' ? calculate( Y, X, methodY, adjust.y, TOP, BOTTOM, HEIGHT, targetHeight, elemHeight ) : 0,\r\n\t\t\t\tmy: newMy\r\n\t\t\t};\r\n\r\n\t\t\treturn adjusted;\r\n\t\t};\r\n\t\t;PLUGINS.polys = {\r\n\t\t\t// POLY area coordinate calculator\r\n\t\t\t//\tSpecial thanks to Ed Cradock for helping out with this.\r\n\t\t\t//\tUses a binary search algorithm to find suitable coordinates.\r\n\t\t\tpolygon: function(baseCoords, corner) {\r\n\t\t\t\tvar result = {\r\n\t\t\t\t\t\twidth: 0, height: 0,\r\n\t\t\t\t\t\tposition: {\r\n\t\t\t\t\t\t\ttop: 1e10, right: 0,\r\n\t\t\t\t\t\t\tbottom: 0, left: 1e10\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tadjustable: FALSE\r\n\t\t\t\t\t},\r\n\t\t\t\t\ti = 0, next,\r\n\t\t\t\t\tcoords = [],\r\n\t\t\t\t\tcompareX = 1, compareY = 1,\r\n\t\t\t\t\trealX = 0, realY = 0,\r\n\t\t\t\t\tnewWidth, newHeight;\r\n\r\n\t\t\t\t// First pass, sanitize coords and determine outer edges\r\n\t\t\t\ti = baseCoords.length;\r\n\t\t\t\twhile(i--) {\r\n\t\t\t\t\tnext = [ parseInt(baseCoords[--i], 10), parseInt(baseCoords[i+1], 10) ];\r\n\r\n\t\t\t\t\tif(next[0] > result.position.right){ result.position.right = next[0]; }\r\n\t\t\t\t\tif(next[0] < result.position.left){ result.position.left = next[0]; }\r\n\t\t\t\t\tif(next[1] > result.position.bottom){ result.position.bottom = next[1]; }\r\n\t\t\t\t\tif(next[1] < result.position.top){ result.position.top = next[1]; }\r\n\r\n\t\t\t\t\tcoords.push(next);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Calculate height and width from outer edges\r\n\t\t\t\tnewWidth = result.width = Math.abs(result.position.right - result.position.left);\r\n\t\t\t\tnewHeight = result.height = Math.abs(result.position.bottom - result.position.top);\r\n\r\n\t\t\t\t// If it's the center corner...\r\n\t\t\t\tif(corner.abbrev() === 'c') {\r\n\t\t\t\t\tresult.position = {\r\n\t\t\t\t\t\tleft: result.position.left + result.width / 2,\r\n\t\t\t\t\t\ttop: result.position.top + result.height / 2\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\t// Second pass, use a binary search algorithm to locate most suitable coordinate\r\n\t\t\t\t\twhile(newWidth > 0 && newHeight > 0 && compareX > 0 && compareY > 0)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tnewWidth = Math.floor(newWidth / 2);\r\n\t\t\t\t\t\tnewHeight = Math.floor(newHeight / 2);\r\n\r\n\t\t\t\t\t\tif(corner.x === LEFT){ compareX = newWidth; }\r\n\t\t\t\t\t\telse if(corner.x === RIGHT){ compareX = result.width - newWidth; }\r\n\t\t\t\t\t\telse{ compareX += Math.floor(newWidth / 2); }\r\n\r\n\t\t\t\t\t\tif(corner.y === TOP){ compareY = newHeight; }\r\n\t\t\t\t\t\telse if(corner.y === BOTTOM){ compareY = result.height - newHeight; }\r\n\t\t\t\t\t\telse{ compareY += Math.floor(newHeight / 2); }\r\n\r\n\t\t\t\t\t\ti = coords.length;\r\n\t\t\t\t\t\twhile(i--)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tif(coords.length < 2){ break; }\r\n\r\n\t\t\t\t\t\t\trealX = coords[i][0] - result.position.left;\r\n\t\t\t\t\t\t\trealY = coords[i][1] - result.position.top;\r\n\r\n\t\t\t\t\t\t\tif(\r\n\t\t\t\t\t\t\t\tcorner.x === LEFT && realX >= compareX ||\r\n\t\t\t\t\t\t\t\tcorner.x === RIGHT && realX <= compareX ||\r\n\t\t\t\t\t\t\t\tcorner.x === CENTER && (realX < compareX || realX > result.width - compareX) ||\r\n\t\t\t\t\t\t\t\tcorner.y === TOP && realY >= compareY ||\r\n\t\t\t\t\t\t\t\tcorner.y === BOTTOM && realY <= compareY ||\r\n\t\t\t\t\t\t\t\tcorner.y === CENTER && (realY < compareY || realY > result.height - compareY)) {\r\n\t\t\t\t\t\t\t\tcoords.splice(i, 1);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tresult.position = { left: coords[0][0], top: coords[0][1] };\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn result;\r\n\t\t\t},\r\n\r\n\t\t\trect: function(ax, ay, bx, by) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\twidth: Math.abs(bx - ax),\r\n\t\t\t\t\theight: Math.abs(by - ay),\r\n\t\t\t\t\tposition: {\r\n\t\t\t\t\t\tleft: Math.min(ax, bx),\r\n\t\t\t\t\t\ttop: Math.min(ay, by)\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t},\r\n\r\n\t\t\t_angles: {\r\n\t\t\t\ttc: 3 / 2, tr: 7 / 4, tl: 5 / 4,\r\n\t\t\t\tbc: 1 / 2, br: 1 / 4, bl: 3 / 4,\r\n\t\t\t\trc: 2, lc: 1, c: 0\r\n\t\t\t},\r\n\t\t\tellipse: function(cx, cy, rx, ry, corner) {\r\n\t\t\t\tvar c = PLUGINS.polys._angles[ corner.abbrev() ],\r\n\t\t\t\t\trxc = c === 0 ? 0 : rx * Math.cos( c * Math.PI ),\r\n\t\t\t\t\trys = ry * Math.sin( c * Math.PI );\r\n\r\n\t\t\t\treturn {\r\n\t\t\t\t\twidth: rx * 2 - Math.abs(rxc),\r\n\t\t\t\t\theight: ry * 2 - Math.abs(rys),\r\n\t\t\t\t\tposition: {\r\n\t\t\t\t\t\tleft: cx + rxc,\r\n\t\t\t\t\t\ttop: cy + rys\r\n\t\t\t\t\t},\r\n\t\t\t\t\tadjustable: FALSE\r\n\t\t\t\t};\r\n\t\t\t},\r\n\t\t\tcircle: function(cx, cy, r, corner) {\r\n\t\t\t\treturn PLUGINS.polys.ellipse(cx, cy, r, r, corner);\r\n\t\t\t}\r\n\t\t};\r\n\t\t;PLUGINS.svg = function(api, svg, corner)\r\n\t\t{\r\n\t\t\tvar elem = svg[0],\r\n\t\t\t\troot = $(elem.ownerSVGElement),\r\n\t\t\t\townerDocument = elem.ownerDocument,\r\n\t\t\t\tstrokeWidth2 = (parseInt(svg.css('stroke-width'), 10) || 0) / 2,\r\n\t\t\t\tframeOffset, mtx, transformed,\r\n\t\t\t\tlen, next, i, points,\r\n\t\t\t\tresult, position;\r\n\r\n\t\t\t// Ascend the parentNode chain until we find an element with getBBox()\r\n\t\t\twhile(!elem.getBBox) { elem = elem.parentNode; }\r\n\t\t\tif(!elem.getBBox || !elem.parentNode) { return FALSE; }\r\n\r\n\t\t\t// Determine which shape calculation to use\r\n\t\t\tswitch(elem.nodeName) {\r\n\t\t\t\tcase 'ellipse':\r\n\t\t\t\tcase 'circle':\r\n\t\t\t\t\tresult = PLUGINS.polys.ellipse(\r\n\t\t\t\t\t\telem.cx.baseVal.value,\r\n\t\t\t\t\t\telem.cy.baseVal.value,\r\n\t\t\t\t\t\t(elem.rx || elem.r).baseVal.value + strokeWidth2,\r\n\t\t\t\t\t\t(elem.ry || elem.r).baseVal.value + strokeWidth2,\r\n\t\t\t\t\t\tcorner\r\n\t\t\t\t\t);\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'line':\r\n\t\t\t\tcase 'polygon':\r\n\t\t\t\tcase 'polyline':\r\n\t\t\t\t\t// Determine points object (line has none, so mimic using array)\r\n\t\t\t\t\tpoints = elem.points || [\r\n\t\t\t\t\t\t\t{ x: elem.x1.baseVal.value, y: elem.y1.baseVal.value },\r\n\t\t\t\t\t\t\t{ x: elem.x2.baseVal.value, y: elem.y2.baseVal.value }\r\n\t\t\t\t\t\t];\r\n\r\n\t\t\t\t\tfor(result = [], i = -1, len = points.numberOfItems || points.length; ++i < len;) {\r\n\t\t\t\t\t\tnext = points.getItem ? points.getItem(i) : points[i];\r\n\t\t\t\t\t\tresult.push.apply(result, [next.x, next.y]);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tresult = PLUGINS.polys.polygon(result, corner);\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t// Unknown shape or rectangle? Use bounding box\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tresult = elem.getBBox();\r\n\t\t\t\t\tresult = {\r\n\t\t\t\t\t\twidth: result.width,\r\n\t\t\t\t\t\theight: result.height,\r\n\t\t\t\t\t\tposition: {\r\n\t\t\t\t\t\t\tleft: result.x,\r\n\t\t\t\t\t\t\ttop: result.y\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\t// Shortcut assignments\r\n\t\t\tposition = result.position;\r\n\t\t\troot = root[0];\r\n\r\n\t\t\t// Convert position into a pixel value\r\n\t\t\tif(root.createSVGPoint) {\r\n\t\t\t\tmtx = elem.getScreenCTM();\r\n\t\t\t\tpoints = root.createSVGPoint();\r\n\r\n\t\t\t\tpoints.x = position.left;\r\n\t\t\t\tpoints.y = position.top;\r\n\t\t\t\ttransformed = points.matrixTransform( mtx );\r\n\t\t\t\tposition.left = transformed.x;\r\n\t\t\t\tposition.top = transformed.y;\r\n\t\t\t}\r\n\r\n\t\t\t// Check the element is not in a child document, and if so, adjust for frame elements offset\r\n\t\t\tif(ownerDocument !== document && api.position.target !== 'mouse') {\r\n\t\t\t\tframeOffset = $((ownerDocument.defaultView || ownerDocument.parentWindow).frameElement).offset();\r\n\t\t\t\tif(frameOffset) {\r\n\t\t\t\t\tposition.left += frameOffset.left;\r\n\t\t\t\t\tposition.top += frameOffset.top;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Adjust by scroll offset of owner document\r\n\t\t\townerDocument = $(ownerDocument);\r\n\t\t\tposition.left += ownerDocument.scrollLeft();\r\n\t\t\tposition.top += ownerDocument.scrollTop();\r\n\r\n\t\t\treturn result;\r\n\t\t};\r\n\t\t;PLUGINS.imagemap = function(api, area, corner)\r\n\t\t{\r\n\t\t\tif(!area.jquery) { area = $(area); }\r\n\r\n\t\t\tvar shape = (area.attr('shape') || 'rect').toLowerCase().replace('poly', 'polygon'),\r\n\t\t\t\timage = $('img[usemap=\"#'+area.parent('map').attr('name')+'\"]'),\r\n\t\t\t\tcoordsString = $.trim(area.attr('coords')),\r\n\t\t\t\tcoordsArray = coordsString.replace(/,$/, '').split(','),\r\n\t\t\t\timageOffset, coords, i, result, len;\r\n\r\n\t\t\t// If we can't find the image using the map...\r\n\t\t\tif(!image.length) { return FALSE; }\r\n\r\n\t\t\t// Pass coordinates string if polygon\r\n\t\t\tif(shape === 'polygon') {\r\n\t\t\t\tresult = PLUGINS.polys.polygon(coordsArray, corner);\r\n\t\t\t}\r\n\r\n\t\t\t// Otherwise parse the coordinates and pass them as arguments\r\n\t\t\telse if(PLUGINS.polys[shape]) {\r\n\t\t\t\tfor(i = -1, len = coordsArray.length, coords = []; ++i < len;) {\r\n\t\t\t\t\tcoords.push( parseInt(coordsArray[i], 10) );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tresult = PLUGINS.polys[shape].apply(\r\n\t\t\t\t\tthis, coords.concat(corner)\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\t// If no shapre calculation method was found, return false\r\n\t\t\telse { return FALSE; }\r\n\r\n\t\t\t// Make sure we account for padding and borders on the image\r\n\t\t\timageOffset = image.offset();\r\n\t\t\timageOffset.left += Math.ceil((image.outerWidth(FALSE) - image.width()) / 2);\r\n\t\t\timageOffset.top += Math.ceil((image.outerHeight(FALSE) - image.height()) / 2);\r\n\r\n\t\t\t// Add image position to offset coordinates\r\n\t\t\tresult.position.left += imageOffset.left;\r\n\t\t\tresult.position.top += imageOffset.top;\r\n\r\n\t\t\treturn result;\r\n\t\t};\r\n\t\t;var IE6,\r\n\r\n\t\t\t/*\r\n\t\t\t * BGIFrame adaption (http://plugins.jquery.com/project/bgiframe)\r\n\t\t\t * Special thanks to Brandon Aaron\r\n\t\t\t */\r\n\t\t\tBGIFRAME = '<iframe class=\"qtip-bgiframe\" frameborder=\"0\" tabindex=\"-1\" src=\"javascript:\\'\\';\" ' +\r\n\t\t\t\t' style=\"display:block; position:absolute; z-index:-1; filter:alpha(opacity=0); ' +\r\n\t\t\t\t'-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";\"></iframe>';\r\n\r\n\t\tfunction Ie6(api) {\r\n\t\t\tthis._ns = 'ie6';\r\n\r\n\t\t\tthis.qtip = api;\r\n\t\t\tthis.init(api);\r\n\t\t}\r\n\r\n\t\t$.extend(Ie6.prototype, {\r\n\t\t\t_scroll : function() {\r\n\t\t\t\tvar overlay = this.qtip.elements.overlay;\r\n\t\t\t\toverlay && (overlay[0].style.top = $(window).scrollTop() + 'px');\r\n\t\t\t},\r\n\r\n\t\t\tinit: function(qtip) {\r\n\t\t\t\tvar tooltip = qtip.tooltip;\r\n\r\n\t\t\t\t// Create the BGIFrame element if needed\r\n\t\t\t\tif($('select, object').length < 1) {\r\n\t\t\t\t\tthis.bgiframe = qtip.elements.bgiframe = $(BGIFRAME).appendTo(tooltip);\r\n\r\n\t\t\t\t\t// Update BGIFrame on tooltip move\r\n\t\t\t\t\tqtip._bind(tooltip, 'tooltipmove', this.adjustBGIFrame, this._ns, this);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// redraw() container for width/height calculations\r\n\t\t\t\tthis.redrawContainer = $('<div/>', { id: NAMESPACE+'-rcontainer' })\r\n\t\t\t\t\t.appendTo(document.body);\r\n\r\n\t\t\t\t// Fixup modal plugin if present too\r\n\t\t\t\tif( qtip.elements.overlay && qtip.elements.overlay.addClass('qtipmodal-ie6fix') ) {\r\n\t\t\t\t\tqtip._bind(window, ['scroll', 'resize'], this._scroll, this._ns, this);\r\n\t\t\t\t\tqtip._bind(tooltip, ['tooltipshow'], this._scroll, this._ns, this);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Set dimensions\r\n\t\t\t\tthis.redraw();\r\n\t\t\t},\r\n\r\n\t\t\tadjustBGIFrame: function() {\r\n\t\t\t\tvar tooltip = this.qtip.tooltip,\r\n\t\t\t\t\tdimensions = {\r\n\t\t\t\t\t\theight: tooltip.outerHeight(FALSE),\r\n\t\t\t\t\t\twidth: tooltip.outerWidth(FALSE)\r\n\t\t\t\t\t},\r\n\t\t\t\t\tplugin = this.qtip.plugins.tip,\r\n\t\t\t\t\ttip = this.qtip.elements.tip,\r\n\t\t\t\t\ttipAdjust, offset;\r\n\r\n\t\t\t\t// Adjust border offset\r\n\t\t\t\toffset = parseInt(tooltip.css('borderLeftWidth'), 10) || 0;\r\n\t\t\t\toffset = { left: -offset, top: -offset };\r\n\r\n\t\t\t\t// Adjust for tips plugin\r\n\t\t\t\tif(plugin && tip) {\r\n\t\t\t\t\ttipAdjust = plugin.corner.precedance === 'x' ? [WIDTH, LEFT] : [HEIGHT, TOP];\r\n\t\t\t\t\toffset[ tipAdjust[1] ] -= tip[ tipAdjust[0] ]();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Update bgiframe\r\n\t\t\t\tthis.bgiframe.css(offset).css(dimensions);\r\n\t\t\t},\r\n\r\n\t\t\t// Max/min width simulator function\r\n\t\t\tredraw: function() {\r\n\t\t\t\tif(this.qtip.rendered < 1 || this.drawing) { return this; }\r\n\r\n\t\t\t\tvar tooltip = this.qtip.tooltip,\r\n\t\t\t\t\tstyle = this.qtip.options.style,\r\n\t\t\t\t\tcontainer = this.qtip.options.position.container,\r\n\t\t\t\t\tperc, width, max, min;\r\n\r\n\t\t\t\t// Set drawing flag\r\n\t\t\t\tthis.qtip.drawing = 1;\r\n\r\n\t\t\t\t// If tooltip has a set height/width, just set it... like a boss!\r\n\t\t\t\tif(style.height) { tooltip.css(HEIGHT, style.height); }\r\n\t\t\t\tif(style.width) { tooltip.css(WIDTH, style.width); }\r\n\r\n\t\t\t\t// Simulate max/min width if not set width present...\r\n\t\t\t\telse {\r\n\t\t\t\t\t// Reset width and add fluid class\r\n\t\t\t\t\ttooltip.css(WIDTH, '').appendTo(this.redrawContainer);\r\n\r\n\t\t\t\t\t// Grab our tooltip width (add 1 if odd so we don't get wrapping problems.. huzzah!)\r\n\t\t\t\t\twidth = tooltip.width();\r\n\t\t\t\t\tif(width % 2 < 1) { width += 1; }\r\n\r\n\t\t\t\t\t// Grab our max/min properties\r\n\t\t\t\t\tmax = tooltip.css('maxWidth') || '';\r\n\t\t\t\t\tmin = tooltip.css('minWidth') || '';\r\n\r\n\t\t\t\t\t// Parse into proper pixel values\r\n\t\t\t\t\tperc = (max + min).indexOf('%') > -1 ? container.width() / 100 : 0;\r\n\t\t\t\t\tmax = (max.indexOf('%') > -1 ? perc : 1 * parseInt(max, 10)) || width;\r\n\t\t\t\t\tmin = (min.indexOf('%') > -1 ? perc : 1 * parseInt(min, 10)) || 0;\r\n\r\n\t\t\t\t\t// Determine new dimension size based on max/min/current values\r\n\t\t\t\t\twidth = max + min ? Math.min(Math.max(width, min), max) : width;\r\n\r\n\t\t\t\t\t// Set the newly calculated width and remvoe fluid class\r\n\t\t\t\t\ttooltip.css(WIDTH, Math.round(width)).appendTo(container);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Set drawing flag\r\n\t\t\t\tthis.drawing = 0;\r\n\r\n\t\t\t\treturn this;\r\n\t\t\t},\r\n\r\n\t\t\tdestroy: function() {\r\n\t\t\t\t// Remove iframe\r\n\t\t\t\tthis.bgiframe && this.bgiframe.remove();\r\n\r\n\t\t\t\t// Remove bound events\r\n\t\t\t\tthis.qtip._unbind([window, this.qtip.tooltip], this._ns);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tIE6 = PLUGINS.ie6 = function(api) {\r\n\t\t\t// Proceed only if the browser is IE6\r\n\t\t\treturn BROWSER.ie === 6 ? new Ie6(api) : FALSE;\r\n\t\t};\r\n\r\n\t\tIE6.initialize = 'render';\r\n\r\n\t\tCHECKS.ie6 = {\r\n\t\t\t'^content|style$': function() {\r\n\t\t\t\tthis.redraw();\r\n\t\t\t}\r\n\t\t};\r\n\t\t;}));\r\n}( window, document ));\r\n\n","/**\r\n * This program is free software; you can redistribute it and/or\r\n * modify it under the terms of the GNU General Public License\r\n * as published by the Free Software Foundation; under version 2\r\n * of the License (non-upgradable).\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n * GNU General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU General Public License\r\n * along with this program; if not, write to the Free Software\r\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\r\n *\r\n * Copyright (c) 2017 (original work) Open Assessment Technologies SA;\r\n */\r\n/**\r\n * @author Christophe Noël <christophe@taotesting.com>\r\n */\r\ndefine('taoQtiItem/portableLib/OAT/util/tooltip',[\r\n    'taoQtiItem/portableLib/jquery_2_1_1',\r\n    'taoQtiItem/portableLib/jquery.qtip'\r\n], function($) {\r\n    'use strict';\r\n\r\n    return {\r\n        render: function render($container) {\r\n            $container.find('[data-role=\"tooltip-target\"]').each(function(){\r\n                var $target = $(this),\r\n                    $content,\r\n                    contentId = $target.attr('aria-describedBy'),\r\n                    contentHtml;\r\n\r\n                if (contentId) {\r\n                    $content = $container.find('#' + contentId);\r\n                    if ($content.length) {\r\n                        contentHtml = $content.html();\r\n\r\n                        $target.qtip({\r\n                            overwrite: true,\r\n                            theme: 'default',\r\n                            content: {\r\n                                text: contentHtml\r\n                            },\r\n                            position: {\r\n                                target: 'event',\r\n                                my: 'bottom center',\r\n                                at: 'top center'\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    };\r\n});\n","/**\r\n * This program is free software; you can redistribute it and/or\r\n * modify it under the terms of the GNU General Public License\r\n * as published by the Free Software Foundation; under version 2\r\n * of the License (non-upgradable).\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n * GNU General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU General Public License\r\n * along with this program; if not, write to the Free Software\r\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\r\n *\r\n * Copyright (c) 2017 (original work) Open Assessment Technologies SA;\r\n */\r\ndefine('taoQtiItem/portableLib/OAT/util/html',[\r\n    'taoQtiItem/portableLib/OAT/util/xml',\r\n    'taoQtiItem/portableLib/OAT/util/math',\r\n    'taoQtiItem/portableLib/OAT/util/tooltip'\r\n], function(xml, math, tooltip){\r\n    'use strict';\r\n\r\n    return {\r\n        render : function render($container){\r\n            var markup = $container.html();\r\n\r\n            //remove xml ns (would break jquery selector otherwise)\r\n            markup = xml.removeNamespace(markup);\r\n            $container.html(markup);\r\n\r\n            //render math\r\n            math.render($container);\r\n\r\n            //render tooltip\r\n            tooltip.render($container);\r\n        }\r\n    };\r\n});\n","/*  Snap a programming environment\r\n    based on morphic.js, blocks.js, threads.js and objects.js\r\n    inspired by Scratch\r\n\r\n    written by Jens Mönig\r\n    jens@moenig.org\r\n\r\n    Copyright (C) 2017 by Jens Mönig\r\n\r\n    This file is bundel version of Snap build as a part of a PCI for TAO plateform.\r\n\r\n    Snap! is free software: you can redistribute it and/or modify\r\n    it under the terms of the GNU Affero General Public License as\r\n    published by the Free Software Foundation, either version 3 of\r\n    the License, or (at your option) any later version.\r\n\r\n    modify by Jean-Philippe Rivière - Wiquid for TAO - 2018\r\n\r\n    This program is distributed in the hope that it will be useful,\r\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n    GNU Affero General Public License for more details.\r\n\r\n    You should have received a copy of the GNU Affero General Public License\r\n    along with this program.  If not, see <http://www.gnu.org/licenses/>.*/\r\n\r\ndefine('SnapForTao/runtime/js/lib/mod',[], function(){\r\n    'use strict';\r\n\r\n    //************ Wiquid ************************\r\n\r\n    var panel_Left, stageSaver, worldwatcher, importString=\"\";\r\n    var attemptLimit =0; // for try counter\r\n    var mod = {}; // mod global object\r\n    var world; \r\n    var getSnapProjectScript =\"scriptPlaceHolder\";\r\n\r\n\r\n\r\n    mod.snap = function(id, $container, config){\r\n    //*****************************************\r\n    \t// Global stuff\r\n\t\tvar Localizer;\r\n\t\tvar SnapTranslator = new Localizer();\r\n        \r\n        if(config.snapScript==\"shield\"){importString=\"\";}\r\n        else{ importString = config.snapScript; \r\n        }\r\n\r\n\r\n\t\tfunction localize(string) {\r\n\t\t    return SnapTranslator.translate(string);\r\n\r\n\t\t}\r\n\r\n\t\tfunction Localizer(language, dict) {\r\n\t\t this.language = language || 'en';\r\n    \t this.dict = dict || {};\r\n        }\r\n\r\nLocalizer.prototype.translate = function (string) {\r\n    return Object.prototype.hasOwnProperty.call(\r\n        this.dict[this.language],\r\n        string\r\n    ) ? this.dict[this.language][string] : string;\r\n};\r\n\r\nLocalizer.prototype.languages = function () {\r\n    var property, arr = [];\r\n    for (property in this.dict) {\r\n        if (Object.prototype.hasOwnProperty.call(this.dict, property)) {\r\n            arr.push(property);\r\n        }\r\n    }\r\n    return arr.sort();\r\n};\r\n\r\nLocalizer.prototype.languageName = function (lang) {\r\n    return this.dict[lang].language_name || lang;\r\n};\r\n\r\nLocalizer.prototype.credits = function () {\r\n    var txt = '',\r\n        myself = this;\r\n    this.languages().forEach(function (lang) {\r\n        txt = txt + '\\n'\r\n            + myself.languageName(lang)\r\n            + ' (' + lang + ') - '\r\n            + myself.dict[lang].language_translator\r\n            + ' - ' + myself.dict[lang].last_changed;\r\n    });\r\n    return txt;\r\n};\r\n\r\nLocalizer.prototype.unload = function () {\r\n    var dict,\r\n        keep = ['language_name', 'language_translator', 'last_changed'],\r\n        myself = this;\r\n    this.languages().forEach(function (lang) {\r\n        var key;\r\n        if (lang !== 'en') {\r\n            dict = myself.dict[lang];\r\n            for (key in dict) {\r\n                if (Object.prototype.hasOwnProperty.call(dict, key)\r\n                        && !contains(keep, key)) {\r\n                    delete dict[key];\r\n                }\r\n            }\r\n        }\r\n    });\r\n};\r\n\r\n// SnapTranslator initialization\r\n\r\nSnapTranslator.dict.en = {\r\n    // meta information\r\n    'language_name':\r\n        'English',\r\n    'language_translator':\r\n        'Jens M\\u00F6nig',\r\n    'translator_e-mail':\r\n        'jens@moenig.org',\r\n    'last_changed':\r\n        '2015-12-22',\r\n\r\n    // rewordings in English avoiding having to adjust all other translations\r\n    'any':\r\n        'random',\r\n\r\n    // long strings look-up only\r\n    'file menu import hint':\r\n        'load an exported project file\\nor block library, a costume\\n'\r\n            + 'or a sound',\r\n    'settings menu prefer empty slots hint':\r\n        'check to focus on empty slots\\nwhen dragging & '\r\n                + 'dropping reporters',\r\n    'costumes tab help':\r\n        'import a picture from another web page or from\\n'\r\n            + 'a file on your computer by dropping it here\\n',\r\n    'block deletion dialog text':\r\n        'Are you sure you want to delete this\\n'\r\n            + 'custom block and all its instances?',\r\n    'download to disk text':\r\n        'This item could not be opened in a new tab.\\n' +\r\n        'It has been saved to your browser\\'s downloads folder.',\r\n    'unable to export text':\r\n        'This item could not be exported from Snap!.\\n' +\r\n        'It\\'s likely that your project may contain a lot of media ' +\r\n        '(sounds and images) or that you are using an older browser.' +\r\n        'Please try using a recent version of Chrome, Firefox, or Safari.'\r\n};\r\n\r\nSnapTranslator.dict.fr = {\r\n    'language_name':\r\n        'Fran\\u00E7ais',\r\n    'language_translator':\r\n        'Jean-Jacques Valliet, Mark Rafter, Martin Quinson, Damien Caselli',\r\n    'translator_e-mail':\r\n        'i.scool@mac.com',\r\n    'last_changed':\r\n        '2016-10-27'\r\n};\r\n\r\n//DEBUT DE MORPHIC\r\n/*\r\n\r\n// Global settings /////////////////////////////////////////////////////\r\n\r\n/*global window, HTMLCanvasElement, FileReader, Audio, FileList*/\r\n\r\nvar morphicVersion = '2017-September-26';\r\nvar modules = {}; // keep track of additional loaded modules\r\nvar useBlurredShadows = getBlurredShadowSupport(); // check for Chrome-bug\r\n\r\nvar standardSettings = {\r\n    minimumFontHeight: getMinimumFontHeight(), // browser settings\r\n    globalFontFamily: '',\r\n    menuFontName: 'sans-serif',\r\n    menuFontSize: 12,\r\n    bubbleHelpFontSize: 10,\r\n    prompterFontName: 'sans-serif',\r\n    prompterFontSize: 12,\r\n    prompterSliderSize: 10,\r\n    handleSize: 15,\r\n    scrollBarSize: 12,\r\n    mouseScrollAmount: 40,\r\n    useSliderForInput: false,\r\n    useVirtualKeyboard: true,\r\n    isTouchDevice: false, // turned on by touch events, don't set\r\n    rasterizeSVGs: false,\r\n    isFlat: false,\r\n    grabThreshold: 5\r\n};\r\n\r\nvar touchScreenSettings = {\r\n    minimumFontHeight: standardSettings.minimumFontHeight,\r\n    globalFontFamily: '',\r\n    menuFontName: 'sans-serif',\r\n    menuFontSize: 24,\r\n    bubbleHelpFontSize: 18,\r\n    prompterFontName: 'sans-serif',\r\n    prompterFontSize: 24,\r\n    prompterSliderSize: 20,\r\n    handleSize: 26,\r\n    scrollBarSize: 24,\r\n    mouseScrollAmount: 40,\r\n    useSliderForInput: true,\r\n    useVirtualKeyboard: true,\r\n    isTouchDevice: false,\r\n    rasterizeSVGs: false,\r\n    isFlat: false,\r\n    grabThreshold: 5\r\n};\r\n\r\nvar MorphicPreferences = standardSettings;\r\n\r\n// first, try enabling support for retina displays - can be turned off later\r\n\r\n/*\r\n    Support for retina displays has been pioneered and contributed by\r\n    Bartosz Leper.\r\n\r\n    NOTE: this will make changes to the HTMLCanvasElement that - mostly -\r\n    make Morphic usable on retina displays in very high resolution mode\r\n    with crisp fonts and clear fine lines without you (the programmer)\r\n    needing to know any specifics, provided both the display and the browser\r\n    support these (Safari currently doesn't), otherwise these utilities will\r\n    not be installed.\r\n    If you don't want your Morphic application to support retina resolutions\r\n    you don't have to edit this morphic.js file to comment out the next line\r\n    of code, instead you can simply call\r\n\r\n        disableRetinaSupport();\r\n\r\n    before you create your World(s) in the html page. Disabling retina\r\n    support also will simply do nothing if retina support is not possible\r\n    or already disabled, so it's equally safe to call.\r\n\r\n    For an example how to make retina support user-specifiable refer to\r\n    Snap! >> guis.js >> toggleRetina()\r\n*/\r\n\r\nenableRetinaSupport();\r\n\r\n// Global Functions ////////////////////////////////////////////////////\r\n\r\nfunction nop() {\r\n    // do explicitly nothing\r\n    return null;\r\n}\r\n\r\nvar dicofr =  {\r\n\r\n/*\r\n    Special characters: (see <http://0xcc.net/jsescape/>)\r\n\r\n    À      \\u00C0\r\n    à      \\u00E0\r\n    É      \\u00C9\r\n    è      \\u00E8\r\n    é      \\u00E9\r\n    ê      \\u00EA\r\n    ç      \\u00E7\r\n    ï      \\u00EF\r\n    ô      \\u00F4\r\n    ù      \\u00F9\r\n    °      \\u00B0\r\n    '      \\u0027\r\n    «      \\u00AB\r\n    »      \\u00BB\r\n    ↔      \\u2194\r\n    ↕      \\u2195\r\n*/\r\n\r\n    // translations meta information\r\n    'language_name':\r\n        'Fran\\u00E7ais', // the name as it should appear in the language menu\r\n    'language_translator':\r\n        'Jean-Jacques Valliet, Mark Rafter, Martin Quinson, Damien Caselli', // your name for the Translators tab\r\n    'translator_e-mail':\r\n        'i.scool@mac.com', // optional\r\n    'last_changed':\r\n        '2016-10-27', // this, too, will appear in the Translators tab\r\n\r\n    // GUI\r\n    // control bar:\r\n    'untitled':\r\n        'Sans Titre',\r\n    'development mode':\r\n        'mode d\\u00E9veloppeur',\r\n\r\n    // categories:\r\n    'Motion':\r\n        'Mouvement',\r\n    'Looks':\r\n        'Apparence',\r\n    'Sound':\r\n        'Sons',\r\n    'Pen':\r\n        'Stylo',\r\n    'Control':\r\n        'Contr\\u00F4les',\r\n    'Sensing':\r\n        'Capteurs',\r\n    'Operators':\r\n        'Op\\u00E9rateurs',\r\n    'Variables':\r\n        'Variables',\r\n    'Lists':\r\n        'Listes',\r\n    'Other':\r\n        'Autres',\r\n\r\n    // editor:\r\n    'draggable':\r\n        'd\\u00E9pla\\u00E7able avec la souris',\r\n\r\n    // tabs:\r\n    'Scripts':\r\n        'Scripts',\r\n    'Costumes':\r\n        'Costumes',\r\n    'Sounds':\r\n        'Sons',\r\n\r\n   // names:\r\n    'Sprite':\r\n        'Lutin',\r\n    'Stage':\r\n        'Sc\\u00E8ne',\r\n\r\n    // rotation styles:\r\n    'don\\'t rotate':\r\n        'le lutin ne pivote jamais',\r\n    'can rotate':\r\n        'le lutin pivote \\nautour de son centre de rotation',\r\n    'only face left/right':\r\n        'le lutin reste en position horizontale \\nsoit vers la gauche soit vers la droite ',\r\n\r\n    // new sprite button:\r\n    'add a new sprite':\r\n        'ajouter un nouveau lutin',\r\n    'add a new Turtle sprite':\r\n        'ajouter un nouveau lutin Tortue',\r\n\r\n    // tab help\r\n    'costumes tab help':\r\n        'Importer une image depuis votre ordinateur ou une page web \\npar un presser-glisser-d\\u00E9poser dans l\\u0027aire des costumes',\r\n    'import a sound from your computer\\nby dragging it into here':\r\n        'Importer un son depuis votre ordinateur \\npar un presser-glisser-d\\u00E9poser dans l\\u0027aire des sons',\r\n\r\n    // primitive blocks:\r\n\r\n    /*\r\n        Attention Translators:\r\n        ----------------------\r\n        At this time your translation of block specs will only work\r\n        correctly, if the order of formal parameters and their types\r\n        are unchanged. Placeholders for inputs (formal parameters) are\r\n        indicated by a preceding % prefix and followed by a type\r\n        abbreviation.\r\n\r\n        For example:\r\n\r\n            'say %s for %n secs'\r\n\r\n        can currently not be changed into\r\n\r\n            'say %n secs long %s'\r\n\r\n        and still work as intended.\r\n\r\n        Similarly\r\n\r\n            'point towards %dst'\r\n\r\n        cannot be changed into\r\n\r\n            'point towards %cst'\r\n\r\n        without breaking its functionality.\r\n    */\r\n\r\n     // motion:\r\n    'Stage selected:\\nno motion primitives':\r\n        'Sc\\u00E8ne s\\u00E9lectionn\\u00E9e :\\naucune brique de d\\u00E9pla\\u00E7ement',\r\n\r\n    'move %n steps':\r\n        'avancer de %n pas',\r\n    'turn %clockwise %n degrees':\r\n        'tourner de %n degr\\u00E9s %clockwise',\r\n    'turn %counterclockwise %n degrees':\r\n        'tourner de %n degr\\u00E9s %counterclockwise',\r\n    'point in direction %dir':\r\n        'se diriger en faisant un angle de %dir',\r\n    'point towards %dst':\r\n        'se diriger vers %dst',\r\n    'go to x: %n y: %n':\r\n        'aller \\u00E0 x: %n y: %n',\r\n    'go to %dst':\r\n        'aller \\u00E0 %dst',\r\n    'glide %n secs to x: %n y: %n':\r\n        'glisser en %n sec. \\u00E0 x: %n y: %n',\r\n    'change x by %n':\r\n        'ajouter %n \\u00E0 x',\r\n    'set x to %n':\r\n        'donner la valeur %n \\u00E0 x',\r\n    'change y by %n':\r\n        'ajouter %n \\u00E0 y',\r\n    'set y to %n':\r\n        'donner la valeur %n \\u00E0 y',\r\n    'if on edge, bounce':\r\n        'rebondir si le bord est atteint',\r\n    'x position':\r\n        'position x',\r\n    'y position':\r\n        'position y',\r\n    'direction':\r\n        'direction',\r\n\r\n    // looks:\r\n    'switch to costume %cst':\r\n        'basculer sur le costume %cst',\r\n    'next costume':\r\n        'costume suivant',\r\n    'costume #':\r\n        'costume n\\u00B0',\r\n    'say %s for %n secs':\r\n        'dire %s pendant %n sec.',\r\n    'say %s':\r\n        'dire %s',\r\n    'think %s for %n secs':\r\n        'penser %s pendant %n sec.',\r\n    'think %s':\r\n        'penser %s',\r\n    'Hello!':\r\n        'Salut !',\r\n    'Hmm...':\r\n        'Mmmh...',\r\n    'change %eff effect by %n':\r\n        'ajouter \\u00E0 l\\u0027effet %eff %n',\r\n    'set %eff effect to %n':\r\n        'mettre l\\u0027effet %eff \\u00E0 %n',\r\n    'clear graphic effects':\r\n        'annuler les effets graphiques',\r\n    'change size by %n':\r\n        'ajouter %n \\u00E0 la taille',\r\n    'set size to %n %':\r\n        'choisir %n % de la taille initiale',\r\n    'size':\r\n        'taille',\r\n    'show':\r\n        'montrer',\r\n    'hide':\r\n        'cacher',\r\n    'go to front':\r\n        'envoyer au premier plan',\r\n    'go back %n layers':\r\n        'd\\u00E9placer de %n plan arri\\u00E8re',\r\n\r\n    'development mode \\ndebugging primitives:':\r\n        'mode d\\u00E9veloppement \\ndebugging primitives:',\r\n    'console log %mult%s':\r\n        'console log %mult%s',\r\n    'alert %mult%s':\r\n        'Pop-up: %mult%s',\r\n\r\n    // sound:\r\n    'play sound %snd':\r\n        'jouer le son %snd',\r\n    'play sound %snd until done':\r\n        'jouer le son %snd jusqu\\u0027au bout',\r\n    'stop all sounds':\r\n        'arr\\u00EAter tous les sons',\r\n    'rest for %n beats':\r\n        'faire une pause pour %n temps',\r\n    'play note %n for %n beats':\r\n        'jouer la note %n pour %n temps',\r\n    'change tempo by %n':\r\n        'ajouter %n au tempo',\r\n    'set tempo to %n bpm':\r\n        'choisir le tempo \\u00E0 %n bpm',\r\n    'tempo':\r\n        'tempo',\r\n\r\n    // pen:\r\n    'clear':\r\n        'effacer tout',\r\n    'pen down':\r\n        'stylo en position d\\u0027\\u00E9criture',\r\n    'pen up':\r\n        'relever le stylo',\r\n    'set pen color to %clr':\r\n        'mettre la couleur %clr pour le stylo',\r\n    'change pen color by %n':\r\n        'ajouter %n \\u00E0 la couleur du stylo',\r\n    'set pen color to %n':\r\n        'choisir la couleur %n pour le stylo',\r\n    'change pen shade by %n':\r\n        'ajouter %n \\u00E0 l\\u0027intensit\\u00E9 du stylo ',\r\n    'set pen shade to %n':\r\n        'choisir l\\u0027intensit\\u00E9 %n pour le stylo',\r\n    'change pen size by %n':\r\n        'ajouter %n \\u00E0 la taille du stylo ',\r\n    'set pen size to %n':\r\n        'choisir la taille %n pour le stylo',\r\n    'stamp':\r\n        'estampiller',\r\n    'fill':\r\n        'remplir',\r\n\r\n      // control:\r\n    'when %greenflag clicked':\r\n        'Quand %greenflag est press\\u00E9',\r\n    'when %keyHat key pressed':\r\n        'Quand %keyHat est press\\u00E9',\r\n    'when I am clicked':\r\n        'Quand je suis press\\u00E9 ',\r\n  'when I am %interaction':\r\n    'Quand je suis %interaction',\r\n    'when I receive %msgHat':\r\n        'Quand je re\\u00E7ois %msgHat',\r\n    'broadcast %msg':\r\n        'envoyer \\u00E0 tous %msg',\r\n    'broadcast %msg and wait':\r\n        'envoyer \\u00E0 tous %msg et attendre',\r\n    'Message name':\r\n        'Nom du message',\r\n    'wait %n secs':\r\n        'attendre %n sec.',\r\n    'wait until %b':\r\n        'attendre jusqu\\u0027\\u00E0 %b',\r\n    'forever %c':\r\n        'r\\u00E9p\\u00E9ter ind\\u00E9finiment %c',\r\n    'repeat %n %c':\r\n        'r\\u00E9p\\u00E9ter %n fois %c',\r\n    'repeat until %b %c':\r\n        'r\\u00E9p\\u00E9ter jusqu\\u0027\\u00E0 %b %c',\r\n    'if %b %c':\r\n        'si %b %c',\r\n    'if %b %c else %c':\r\n        'si %b %c sinon %c',\r\n    'report %s':\r\n        'rapporte %s',\r\n    'stop block':\r\n        'arr\\u00EAter le bloc',\r\n    'stop script':\r\n        'arr\\u00EAter le script',\r\n  'stop %stopOthersChoices':\r\n    'arr\\u00EAter %stopOthersChoices',\r\n  'stop %stopChoices':\r\n    'arr\\u00EAter %stopChoices',\r\n    'stop all %stop':\r\n        'arr\\u00EAter tout %stop',\r\n    'run %cmdRing %inputs':\r\n        'ex\\u00E9cute %cmdRing  %inputs',\r\n    'launch %cmdRing %inputs':\r\n        'lance %cmdRing %inputs',\r\n    'call %repRing %inputs':\r\n        'appelle %repRing %inputs',\r\n    'run %cmdRing w/continuation':\r\n        'ex\\u00E9cute %cmdRing avec continuation',\r\n    'call %cmdRing w/continuation':\r\n        'appelle %cmdRing avec continuation',\r\n    'warp %c':\r\n        'Englobe %c',\r\n    'when I start as a clone':\r\n        'Quand je commence comme clone',\r\n    'create a clone of %cln':\r\n        'Clone %cln',\r\n    'myself':\r\n        'moi-m\\u00EAme',\r\n    'delete this clone':\r\n        'supprime ce clone',\r\n    'pause all %pause':\r\n        'mettre en pause %pause',\r\n  'all but this script':\r\n    'tout sauf ce script',\r\n  'other scripts in sprite':\r\n    'les autres scripts de ce lutin',\r\n  'this script':\r\n    'ce script',\r\n  'this block':\r\n    'ce bloc',\r\n\r\n     // sensing:\r\n    'touching %col ?':\r\n        '%col touch\\u00E9 ?',\r\n    'touching %clr ?':\r\n        'couleur %clr touch\\u00E9e ?',\r\n    'color %clr is touching %clr ?':\r\n        'couleur %clr touche %clr ?',\r\n    'ask %s and wait':\r\n        'demander %s et attendre',\r\n    'what\\'s your name?':\r\n        'Quel est ton nom ?',\r\n    'answer':\r\n        'r\\u00E9ponse',\r\n    'mouse x':\r\n        'souris x',\r\n    'mouse y':\r\n        'souris y',\r\n    'mouse down?':\r\n        'souris press\\u00E9e ?',\r\n    'key %key pressed?':\r\n        'touche %key press\\u00E9e ?',\r\n    'distance to %dst':\r\n        'distance de %dst',\r\n    'reset timer':\r\n        'r\\u00E9initialiser le chronom\\u00E8tre',\r\n    'timer':\r\n        'chronom\\u00E8tre',\r\n    '%att of %spr':\r\n        '%att de %spr',\r\n    'my %get':\r\n        'attribut %get',\r\n    'http:// %s':\r\n        'http:// %s',\r\n    'turbo mode?':\r\n        'turbo mode activ\\u00E9 ?',\r\n    'set turbo mode to %b':\r\n        'turbo mode prend la valeur %b',\r\n\r\n    'filtered for %clr':\r\n        'filtr\\u00E9 pour %clr',\r\n    'stack size':\r\n        'taille de la pile',\r\n    'frames':\r\n        'cadres',\r\n\r\n    // operators:\r\n    '%n mod %n':\r\n        '%n mod %n',\r\n    'round %n':\r\n        'arrondi de %n',\r\n    '%fun of %n':\r\n        '%fun appliqu\\u00E9 \\u00E0 %n',\r\n    'pick random %n to %n':\r\n        'nombre al\\u00E9atoire entre %n et %n',\r\n    '%b and %b':\r\n        '%b et %b',\r\n    '%b or %b':\r\n        '%b ou %b',\r\n    'not %b':\r\n        'non %b',\r\n    'true':\r\n        'vrai',\r\n    'false':\r\n        'faux',\r\n    'join %words':\r\n        'regroupe %words',\r\n    'split %s by %delim':\r\n        'd\\u00E9coupe %s entre les %delim',\r\n    'hello':\r\n        'Bonjour',\r\n    'world':\r\n        'Monde',\r\n    'letter %n of %s':\r\n        'lettre %n de %s',\r\n    'length of %s':\r\n        'longueur de %s',\r\n    'unicode of %s':\r\n        'valeur unicode de %s',\r\n    'unicode %n as letter':\r\n        'unicode %n comme lettre',\r\n    'is %s a %typ ?':\r\n        '%s est un(e) %typ ?',\r\n    'is %s identical to %s ?':\r\n        '%s est identique \\u00E0 %s ?',\r\n\r\n    'type of %s':\r\n        'type de %s',\r\n\r\n     // variables:\r\n    'Make a variable':\r\n        'Nouvelle variable',\r\n    'Variable name':\r\n        'Nom de la variable',\r\n    'Delete a variable':\r\n        'Supprimer une variable',\r\n\r\n    'set %var to %s':\r\n        '%var prend la valeur %s',\r\n    'change %var by %n':\r\n        'ajouter \\u00E0 %var %n',\r\n    'show variable %var':\r\n        'afficher la variable %var',\r\n    'hide variable %var':\r\n        'cacher la variable %var',\r\n    'script variables %scriptVars':\r\n        'variables du script %scriptVars',\r\n\r\n    // lists:\r\n    'list %exp':\r\n        'liste %exp',\r\n    '%s in front of %l':\r\n        '%s au d\\u00E9but de %l',\r\n    'item %idx of %l':\r\n        '\\u00E9l\\u00E9ment %idx de %l',\r\n    'all but first of %l':\r\n        'tous sauf le premier de %l',\r\n    'length of %l':\r\n        'longueur de %l',\r\n    '%l contains %s':\r\n        '%l contient %s',\r\n    'thing':\r\n        'qqchose',\r\n    'add %s to %l':\r\n        'ajouter %s \\u00E0 %l',\r\n    'delete %ida of %l':\r\n        'supprimer l\\u0027\\u00E9l\\u00E9ment %ida de %l',\r\n    'insert %s at %idx of %l':\r\n        'ins\\u00E9rer %s en position %idx de %l',\r\n    'replace item %idx of %l with %s':\r\n        'remplacer l\\u0027\\u00E9l\\u00E9ment %idx de %l par %s',\r\n\r\n    // other\r\n    'Make a block':\r\n        'Nouveau bloc',\r\n\r\n   // menus\r\n    // snap menu\r\n    'About...':\r\n        '\\u00C0 propos de Snap!...',\r\n    'Reference manual':\r\n        'Manuel de r\\u00E9f\\u00E9rence',\r\n    'Snap! website':\r\n        'Snap! le site web',\r\n    'Download source':\r\n        'T\\u00E9l\\u00E9charger le code source',\r\n    'Switch back to user mode':\r\n        'Revenir en mode utilisateur',\r\n    'disable deep-Morphic\\ncontext menus\\nand show user-friendly ones':\r\n        'd\\u00E9sactiver la fonction morphic',\r\n    'Switch to dev mode':\r\n        'Passer en mode d\\u00E9veloppeur',\r\n    'enable Morphic\\ncontext menus\\nand inspectors,\\nnot user-friendly!':\r\n        'activer la fonction morphic',\r\n\r\n    // project menu\r\n    'Project notes...':\r\n        'Notes du projet...',\r\n    'New':\r\n        'Nouveau',\r\n    'Open...':\r\n        'Ouvrir...',\r\n    'Save':\r\n        'Sauvegarder',\r\n    'Save As...':\r\n        'Sauvegarder sous...',\r\n    'Import...':\r\n        'Importer...',\r\n    'file menu import hint':\r\n        'importer un projet export\\u00E9,\\nune biblioth\\u00E8que de '\r\n            + 'blocs\\n'\r\n            + 'un costume ou un son',\r\n    'Export project as plain text...':\r\n        'Exporter le projet comme texte...',\r\n    'Export project...':\r\n        'Exporter le projet...',\r\n    'save project data as XML\\nto your downloads folder':\r\n        'sauvegarder le projet au\\nformat XML dans votre\\ndossier T\\u00E9l\\u00E9chargements',\r\n    'show project data as XML\\nin a new browser window':\r\n        'ouvrir le projet au format XML\\ndans une nouvelle fen\\u00EAtre de votre navigateur',\r\n    'Export blocks...':\r\n        'Exporter les blocs ',\r\n    'show global custom block definitions as XML\\nin a new browser window':\r\n        'montrer les d\\u00E9finitions de bloc global personnalis\\u00E9 au format XML \\ndans une nouvelle fen\\u00EAtre de navigateur',\r\n    'Unused blocks...':\r\n        'Blocs inutilis\\u00E9s...',\r\n    'find unused global custom blocks\\nand remove their definitions':\r\n        'trouver et supprimer les blocs personnalis\\u00E9s inutilis\\u00E9s',\r\n    'Remove unused blocks':\r\n        'Supprimer les blocs inutilis\\u00E9s',\r\n    'there are currently no unused\\nglobal custom blocks in this project':\r\n        'Aucun bloc inutilis\\u00E9 dans ce projet',\r\n    'unused block(s) removed':\r\n        'bloc(s) inutilis\\u00E9(s) supprim\\u00E9(s)',\r\n    'Export summary...':\r\n        'Exporter un r\\u00E9sum\\u00E9...',\r\n    'open a new browser browser window\\n with a summary of this project':\r\n        'voir un résumé de ce projet dans\\nune nouvelle fenêtre du navigateur',\r\n    'Import tools':\r\n        'Importer les outils',\r\n    'load the official library of\\npowerful blocks':\r\n        'Importer la biblioth\\u00E8que officielle\\nd\\'outils avanc\\u00E9s',\r\n    'Libraries...':\r\n        'Biblioth\\u00E8ques...',\r\n    'Import library':\r\n        'Importer une biblioth\\u00E8que',\r\n\r\n    // settings menu\r\n    'Language...':\r\n        'Langue...',\r\n    'Blurred shadows':\r\n        'Ombres floues',\r\n    'uncheck to use solid drop\\nshadows and highlights':\r\n        'D\\u00E9cocher pour utiliser des rehauts et des ombres \\n port\\u00E9es floues',\r\n    'check to use blurred drop\\nshadows and highlights':\r\n        'cocher pour utiliser des rehauts et des ombres \\n port\\u00E9es pleines',\r\n    'Zebra coloring':\r\n        'Colorations altern\\u00E9es',\r\n    'check to enable alternating\\ncolors for nested blocks':\r\n        'cocher pour activer des couleurs altern\\u00E9es \\n pour les blocs embo\\u00EEt\\u00E9s',\r\n    'uncheck to disable alternating\\ncolors for nested block':\r\n        'd\\u00E9cocher pour d\\u00E9sactiver des couleurs altern\\u00E9es \\n pour les blocs embo\\u00EEt\\u00E9s',\r\n    'Prefer empty slot drops':\r\n        'Pr\\u00E9f\\u00E9rer des entr\\u00E9es vides',\r\n    'settings menu prefer empty slots hint':\r\n        'cocher pour pr\\u00E9f\\u00E9rer des entr\\u00E9es vides \\n'\r\n        + 'lors du glisser-d\\u00E9poser d\\u0027un reporter',\r\n    'uncheck to allow dropped\\nreporters to kick out others':\r\n        'd\\u00E9cocher pour ne pas pr\\u00E9f\\u00E9rer des entr\\u00E9es vides \\n'\r\n    + 'lors du glisser-d\\u00E9poser d\\u0027un reporter',\r\n    'Long form input dialog':\r\n        'Bo\\u00EEte d\\u0027entr\\u00E9e en mode d\\u00E9taill\\u00E9',\r\n    'check to always show slot\\ntypes in the input dialog':\r\n        'cocher pour toujours ouvrir la bo\\u00EEte de dialogue \\nd\\u0027entr\\u00E9e en mode d\\u00E9taill\\u00E9 : avec tous les types de blocs',\r\n    'uncheck to use the input\\ndialog in short form':\r\n        'd\\u00E9cocher pour utiliser la bo\\u00EEte de dialogue \\nd\\u0027entr\\u00E9e en mode simple ',\r\n    'Virtual keyboard':\r\n        'Clavier virtuel',\r\n    'uncheck to disable\\nvirtual keyboard support\\nfor mobile devices':\r\n        'd\\u00E9cocher pour d\\u00E9sactiver le clavier virtuel pour \\nles tablettes et smartphones : mobile devices  ',\r\n    'check to enable\\nvirtual keyboard support\\nfor mobile devices':\r\n        'cocher pour activer le clavier virtuel pour \\nles tablettes et smartphones : mobile devices  ',\r\n    'Input sliders':\r\n        'Entr\\u00E9e curseurs',\r\n    'uncheck to disable\\ninput sliders for\\nentry fields':\r\n        'd\\u00E9cocher pour d\\u00E9sactiver le curseur coulissant \\ndans le champ de saisie',\r\n    'check to enable\\ninput sliders for\\nentry fields':\r\n        'cocher pour activer un curseur coulissant \\ndans le champ de saisie ',\r\n    'Clicking sound':\r\n        'Cliquetis',\r\n    'uncheck to turn\\nblock clicking\\nsound off':\r\n        'd\\u00E9cocher pour d\\u00E9sactiver le cliquetis \\n'\r\n    +'lors de l\\u0027embo\\u00EEtement des blocs' ,\r\n    'check to turn\\nblock clicking\\nsound on':\r\n        'cocher pour activer le cliquetis \\n'\r\n    +'lors de l\\u0027embo\\u00EEtement des blocs',\r\n    'Turbo mode':\r\n        'Mode turbo',\r\n    'check to prioritize\\nscript execution':\r\n        'cocher pour favoriser l\\'ex\\u00E9cution du script',\r\n    'uncheck to run scripts\\nat normal speed':\r\n        'd\\u00E9cocher pour ex\\u00E9cuter le script en vitesse normale',\r\n    'Flat design':\r\n        'Style al\\u00E9g\\u00E9',\r\n    'check for alternative\\nGUI design':\r\n        'cocher pour un style d\\'interface alternatif',\r\n    'uncheck for default\\nGUI design':\r\n     'd\\u00E9cocher pour le style classique d\\'interface',\r\n    'Keyboard Editing':\r\n        '\\u00C9dition au clavier',\r\n    'uncheck to disable\\nkeyboard editing support':\r\n        'd\\u00E9cocher pour d\\u00E9sactiver l\\'\\u00E9dition au clavier',\r\n    'check to enable\\nkeyboard editing support':\r\n        'cocher pour activer l\\'\\u00E9dition au clavier',\r\n    'Thread safe scripts':\r\n        'Scripts réentrants',\r\n    'check to disallow\\nscript reentrance':\r\n        'cocher pour interdire\\n la r\\u00E9entrance des scripts\\n'\r\n      + 'et les ex\\u00E9cuter s\\u00E9par\\u00E9ment',\r\n    'uncheck to allow\\nscript reentrance':\r\n        'd\\u00E9cocher pour permettre\\n la r\\u00E9entrance des scripts\\n'\r\n      + 'o\\u00F9 certains s\\'ex\\u00E9cutent en paral\\u00E8lle',\r\n    'Prefer smooth animations':\r\n        'Vitesse d\\'animation fixe',\r\n    'uncheck for greater speed\\nat variable frame rates':\r\n        'd\\u00E9cocher pour une vitesse\\nd\\'animation maximale (mais variable)',\r\n    'check for smooth, predictable\\nanimations across computers':\r\n        'cocher pour une vitesse d\\'animation\\nfixe et identique sur tous les ordinateurs',\r\n\r\n    // inputs\r\n    'with inputs':\r\n        'avec entr\\u00E9es',\r\n    'input names:':\r\n        'renseigner un nom :',\r\n    'Input Names:':\r\n        'Renseigner un nom :',\r\n\r\n    // context menus:\r\n    'help':\r\n        'Aide',\r\n\r\n    // palette:\r\n    'hide primitives':\r\n        'Masquer les blocs de base',\r\n    'show primitives':\r\n        'Afficher les blocs de base',\r\n\r\n    // blocks:\r\n    'help...':\r\n        'Aide...',\r\n    'duplicate':\r\n        'dupliquer',\r\n    'make a copy\\nand pick it up':\r\n        'faire une copie\\n et le d\\u00E9placer',\r\n    'only duplicate this block':\r\n        'ne dupliquer que ce bloc',\r\n    'delete':\r\n        'supprimer',\r\n    'script pic...':\r\n        'image du script...',\r\n    'open a new window\\nwith a picture of this script':\r\n        'ouvrir une nouvelle fen\\u00EAtre avec une \\nimage .png de ce script',\r\n    'ringify':\r\n        'entourer',\r\n    'unringify':\r\n        'd\\u00E9tourer',\r\n\r\n    // custom blocks:\r\n    'delete block definition...':\r\n        'supprimer les d\\u00E9finitions de bloc',\r\n    'edit...':\r\n        '\\u00E9diter...',\r\n\r\n    // sprites:\r\n    'edit':\r\n        '\\u00E9diter',\r\n    'move':\r\n        'd\\u00E9placer',\r\n    'detach from':\r\n        'D\\u00E9tacher de',\r\n    'detach all parts':\r\n        'D\\u00E9tacher toutes les parties',\r\n    'export...':\r\n        'Exporter...',\r\n    'paint a new sprite':\r\n        'dessiner un nouveau lutin',\r\n\r\n    // scripting area\r\n    'clean up':\r\n        'effacer',\r\n    'arrange scripts\\nvertically':\r\n        'arrange scripts\\nvertically',\r\n    'add comment':\r\n        'ajouter un commentaire',\r\n    'make a block...':\r\n        'cr\\u00E9er un nouveau bloc...',\r\n\r\n    // costumes\r\n    'rename':\r\n        'renommer',\r\n    'export':\r\n        'exporter',\r\n    'rename costume':\r\n        'renommer un costume',\r\n    'Paint a new costume':\r\n        'Dessiner un nouveau costume',\r\n\r\n    // sounds\r\n    'Play sound':\r\n        'jouer un son',\r\n    'Stop sound':\r\n        'arr\\u00EAter un son',\r\n    'Stop':\r\n        'arr\\u00EAter',\r\n    'Play':\r\n        'jouer',\r\n    'rename sound':\r\n        'renommer un son',\r\n\r\n    // dialogs\r\n    // buttons\r\n    'OK':\r\n        'OK',\r\n    'Ok':\r\n        'Ok',\r\n    'Cancel':\r\n        'Annuler',\r\n    'Yes':\r\n        'Oui',\r\n    'No':\r\n        'Non',\r\n    'Open':\r\n        'Ouvrir',\r\n    'Browser':\r\n        'Navigateur',\r\n    'Examples':\r\n        'Exemples',\r\n\r\n    // help\r\n    'Help':\r\n        'Aide',\r\n\r\n    // Project Manager\r\n    'Untitled':\r\n        'Sans titre',\r\n    'Open Project':\r\n        'Ouvrir un projet',\r\n    '(empty)':\r\n        '(vide)',\r\n    'Saved!':\r\n        'Enregistr\\u00EA !',\r\n    'Delete Project':\r\n        'Supprimer un projet',\r\n    'Are you sure you want to delete':\r\n        'Souhaitez-vous vraiment supprimer ?',\r\n    'rename...':\r\n        'Renommer...',\r\n\r\n     // costume editor\r\n    'Costume Editor':\r\n        '\\u00EAditeur de costumes',\r\n    'click or drag crosshairs to move the rotation center':\r\n        'cliquez ou faites d\\u00EAfiler la ligne de mire  pour d\\u00EAfinir le centre de rotation du costume',\r\n\r\n    // project notes\r\n    'Project Notes':\r\n        'Notes du projet',\r\n\r\n    // new project\r\n    'New Project':\r\n        'Nouveau projet',\r\n    'Replace the current project with a new one?':\r\n        'Remplacer le projet actuel par un nouveau ?',\r\n\r\n    // open project\r\n    'Open Projekt':\r\n        'Ouvrir un projet',\r\n\r\n    // save project\r\n    'Save Project As...':\r\n        'Sauvegarder le projet sous...',\r\n\r\n    // export blocks\r\n    'Export blocks':\r\n        'exporter des blocs',\r\n    'this project doesn\\'t have any\\ncustom global blocks yet':\r\n        'ce projet ne contient pas \\nde bloc global personnalis\\u00E9',\r\n    'select':\r\n        's\\u00E9lectionner',\r\n    'all':\r\n        'tout',\r\n    'none':\r\n        'aucun',\r\n\r\n    // variable dialog\r\n    'for all sprites':\r\n        'pour tous les lutins',\r\n    'for this sprite only':\r\n        'pour ce lutin uniquement',\r\n\r\n    // block dialog\r\n    'Change block':\r\n        'Changer le bloc',\r\n    'Command':\r\n        'Commande',\r\n    'Reporter':\r\n        'Reporter',\r\n    'Predicate':\r\n        'Pr\\u00E9dicat',\r\n\r\n    // block editor\r\n    'Block Editor':\r\n        '\\u00C9diteur de bloc',\r\n    'Apply':\r\n        'Appliquer',\r\n\r\n    // block deletion dialog\r\n    'Delete Custom Block':\r\n        'Effacer le bloc personnalis\\u00E9',\r\n    'block deletion dialog text':\r\n        '\\u00CAtes-vous s\\u00FBr de vouloir supprimer ce bloc personnalis\\u00E9 \\net ' +\r\n            'toutes ses instances ?',\r\n\r\n    // input dialog\r\n    'Create input name':\r\n        'Cr\\u00E9er le nom de l\\u0027entr\\u00E9e',\r\n    'Edit input name':\r\n        '\\u00C9diter le nom de l\\u0027entr\\u00E9e',\r\n    'Edit label fragment':\r\n        '\\u00C9diter le fragment du label',\r\n    'Title text':\r\n        'Texte du titre',\r\n    'Input name':\r\n        'Nom de l\\u0027entr\\u00E9e',\r\n    'Delete':\r\n        'Supprimer',\r\n    'Object':\r\n        'Objet',\r\n    'Number':\r\n        'Nombre',\r\n    'Text':\r\n        'Texte',\r\n    'List':\r\n        'Liste',\r\n    'Any type':\r\n        'Tout type',\r\n    'Boolean (T/F)':\r\n        'Bool\\u00E9en (V/F)',\r\n    'Command\\n(inline)':\r\n        'Commande\\n(en ligne)',\r\n    'Command\\n(C-shape)':\r\n        'Commande\\n(en forme de C)',\r\n    'Any\\n(unevaluated)':\r\n        'Tout type\\n(non \\u00E9valu\\u00E9e)',\r\n    'Boolean\\n(unevaluated)':\r\n        'Bool\\u00E9en\\n(non \\u00E9valu\\u00E9e)',\r\n    'Single input.':\r\n        'Entr\\u00E9e unique.',\r\n    'Default Value:':\r\n        'Valeur par d\\u00E9faut :',\r\n    'Multiple inputs (value is list of inputs)':\r\n        'Entr\\u00E9es multiples (la valeur est une liste des entr\\u00E9es)',\r\n    'Upvar - make internal variable visible to caller':\r\n        'Upvar - Rendre la variable interne visible pour l\\u0027appelant',\r\n    // delimiters\r\n    'whitespace':\r\n        'espaces blancs',\r\n    'line':\r\n        'lignes',\r\n    'tab':\r\n        'tabulations',\r\n    'cr':\r\n        'retours de ligne',\r\n  'letter':\r\n    'lettres',\r\n\r\n    // About Snap\r\n    'About Snap':\r\n        '\\u00C0 propos de Snap',\r\n    'Back...':\r\n        'Retour...',\r\n    'License...':\r\n        'Licence...',\r\n    'Modules...':\r\n        'Modules...',\r\n    'Credits...':\r\n        'Contributeurs...',\r\n    'Translators...':\r\n        'Traducteurs...',\r\n    'License':\r\n        'License',\r\n    'current module versions:':\r\n        'Versions du module courant :',\r\n    'Contributors':\r\n        'Contributeurs',\r\n    'Translations':\r\n        'Traductions',\r\n\r\n    // variable watchers\r\n    'normal':\r\n        'normal',\r\n    'large':\r\n        'grand',\r\n    'slider':\r\n        'curseur',\r\n    'slider min...':\r\n        'min...',\r\n    'slider max...':\r\n        'max...',\r\n    'Slider minimum value':\r\n        'Valeur minimale du curseur',\r\n    'Slider maximum value':\r\n        'Valeur maximale du curseur',\r\n\r\n    // list watchers\r\n    'length: ':\r\n        'Longueur : ',\r\n\r\n    // coments\r\n    'add comment here...':\r\n        'ajoute un commentaire ici',\r\n\r\n    // drow downs\r\n    // directions\r\n    '(90) right':\r\n        '(90) \\u00E0 droite',\r\n    '(-90) left':\r\n        '(-90) \\u00E0 gauche',\r\n    '(0) up':\r\n        '(0) vers le haut',\r\n    '(180) down':\r\n        '(180) vers le bas',\r\n\r\n    // collision detection\r\n    'mouse-pointer':\r\n        'pointeur souris',\r\n    'edge':\r\n        'bord',\r\n    'pen trails':\r\n        'traces de stylo',\r\n\r\n    // costumes\r\n    'Turtle':\r\n        'Pointeur',\r\n    'Empty':\r\n        'Vide',\r\n\r\n    // graphical effects\r\n    'color':\r\n        'couleur',\r\n    'fisheye':\r\n        'fisheye',\r\n    'whirl':\r\n        'tourbillon',\r\n    'pixelate':\r\n        'pixelisation',\r\n    'mosaic':\r\n        'mosa\\u00EFque',\r\n    'saturation':\r\n        'saturation',\r\n    'brightness':\r\n        'luminosit\\u00E9',\r\n    'ghost':\r\n        'transparence',\r\n    'negative':\r\n        'n\\u00E9gatif',\r\n    'comic':\r\n        'moir\\u00E9',\r\n    'confetti':\r\n        'confetti',\r\n\r\n    // keys\r\n    'space':\r\n        'espace',\r\n    'up arrow':\r\n        'fl\\u00E8che vers le haut',\r\n    'down arrow':\r\n        'fl\\u00E8che vers le bas',\r\n    'right arrow':\r\n        'fl\\u00E8che vers la droite',\r\n    'left arrow':\r\n        'fl\\u00E8che vers la gauche',\r\n    'a':\r\n        'a',\r\n    'b':\r\n        'b',\r\n    'c':\r\n        'c',\r\n    'd':\r\n        'd',\r\n    'e':\r\n        'e',\r\n    'f':\r\n        'f',\r\n    'g':\r\n        'g',\r\n    'h':\r\n        'h',\r\n    'i':\r\n        'i',\r\n    'j':\r\n        'j',\r\n    'k':\r\n        'k',\r\n    'l':\r\n        'l',\r\n    'm':\r\n        'm',\r\n    'n':\r\n        'n',\r\n    'o':\r\n        'o',\r\n    'p':\r\n        'p',\r\n    'q':\r\n        'q',\r\n    'r':\r\n        'r',\r\n    's':\r\n        's',\r\n    't':\r\n        't',\r\n    'u':\r\n        'u',\r\n    'v':\r\n        'v',\r\n    'w':\r\n        'w',\r\n    'x':\r\n        'x',\r\n    'y':\r\n        'y',\r\n    'z':\r\n        'z',\r\n    '0':\r\n        '0',\r\n    '1':\r\n        '1',\r\n    '2':\r\n        '2',\r\n    '3':\r\n        '3',\r\n    '4':\r\n        '4',\r\n    '5':\r\n        '5',\r\n    '6':\r\n        '6',\r\n    '7':\r\n        '7',\r\n    '8':\r\n        '8',\r\n    '9':\r\n        '9',\r\n\r\n     // messages\r\n    'new...':\r\n        'nouveau...',\r\n\r\n    // math functions\r\n    'abs':\r\n        'v. absolue',\r\n    'sqrt':\r\n        'racine',\r\n    'sin':\r\n        'sin',\r\n    'cos':\r\n        'cos',\r\n    'tan':\r\n        'tan',\r\n    'asin':\r\n        'asin',\r\n    'acos':\r\n        'acos',\r\n    'atan':\r\n        'atan',\r\n    'ln':\r\n        'ln',\r\n    'e^':\r\n        'e^',\r\n\r\n    // data types\r\n    'number':\r\n        'nombre',\r\n    'text':\r\n        'texte',\r\n    'Boolean':\r\n        'bool\\u00E9en',\r\n    'list':\r\n        'liste',\r\n    'command':\r\n        'bloc de commande',\r\n    'reporter':\r\n        'bloc reporter',\r\n    'predicate':\r\n        'pr\\u00E9dicat',\r\n\r\n    // list indices\r\n    'last':\r\n        'dernier',\r\n    'any':\r\n        'n\\u0027importe quel',\r\n\r\n    // miscellaneous\r\n    'find blocks...':\r\n        'chercher des blocs...',\r\n    'hide primitives':\r\n        'cacher les primitives',\r\n    'show primitives':\r\n        'montrer les primitives',\r\n    'Login...':\r\n        'Connexion...',\r\n    'Signup...':\r\n        'S\\u0027enregistrer...',\r\n    'Reset Password...':\r\n        'Remise \\u00E0 z\\u00E9ro du mot de passe...',\r\n    'show all':\r\n        'tout montrer',\r\n    'pic...':\r\n        'image...',\r\n    'open a new window\\nwith a picture of the stage':\r\n        'ouvre une nouvelle fen\\u00EAtre\\navec une image de la sc\\u00E8ne',\r\n    'scripts pic...':\r\n        'image des scripts...',\r\n    'open a new window\\nwith a picture of all scripts':\r\n        'ouvre une nouvelle fen\\u00EAtre\\navec une image de tous les scripts',\r\n    'Stage size...':\r\n        'Taille de la sc\\u00E8ne...',\r\n    'Zoom blocks...':\r\n        'Agrandir les blocs...',\r\n\r\n    'Plain prototype labels':\r\n        '\\u00C9tiquettes simples de d\\u00E9finition',\r\n    'uncheck to always show (+) symbols\\nin block prototype labels':\r\n        'd\\u00E9cocher pour montrer en permanance le symbole (+)\\ndans les \\u00e9tiquettes de d\\u00E9finition de bloc',\r\n    'check to hide (+) symbols\\nin block prototype labels':\r\n        'cocher pour cacher le symbole (+)\\ndans les \\u00e9tiquettes de d\\u00E9finition de bloc',\r\n\r\n    'check for flat ends of lines':\r\n        'cocher pour dessiner des fins de ligne plates',\r\n    'uncheck for round ends of lines':\r\n        'd\\u00E9cocher pour dessiner des fins de lignes arrondies',\r\n    'Flat line ends':\r\n        'Fins de ligne plates',\r\n\r\n    'Codification support':\r\n        'Support de la \\u00AB codification \\u00BB',\r\n    'uncheck to disable\\nblock to text mapping features':\r\n        'd\\u00E9cocher pour d\\u00E9activer\\nla fonction de transformation :\\nbloc vers texte',\r\n    'check for block\\nto text mapping features':\r\n        'cocher pour activer\\nla fonction de transformation :\\nbloc vers texte',\r\n\r\n    'Inheritance support':\r\n        'Support de l\\'h\\u00E9ritage',\r\n\r\n    'current %dates':\r\n        'date courante %dates',\r\n    'year':\r\n        'ann\\u00E9e',\r\n    'month':\r\n        'mois',\r\n    'date':\r\n        'jour',\r\n    'hour':\r\n        'heure',\r\n    'minute':\r\n        'minute',\r\n    'second':\r\n        'seconde',\r\n    'time in milliseconds':\r\n        'heure en millisecondes',\r\n    'day of week':\r\n        'jour de la semaine',\r\n\r\n    'brightness':\r\n        'luminosit\\u00E9',\r\n    'transparence':\r\n        'transparence',\r\n    'negative':\r\n        'n\\u00E9gatif',\r\n    'comic':\r\n        'bande dessin\\u00E9e',\r\n\r\n    'clicked':\r\n        'cliqu\\u00E9',\r\n    'pressed':\r\n        'press\\u00E9',\r\n    'dropped':\r\n        'd\\u00E9pos\\u00E9',\r\n    'mouse-entered':\r\n        'survol\\u00E9',\r\n    'mouse-departed':\r\n        'quitt\\u00E9',\r\n    'when %b':\r\n        'Quand %b',\r\n\r\n    'JavaScript function ( %mult%s ) { %code }':\r\n        'fonction JavaScript ( %mult%s ) { %code }',\r\n\r\n\r\n    // Copy / Paste\r\n    'Press CTRL+C one more time to effectively copy to clipboard.':\r\n        'Taper une nouvelle fois sur CTRL+C pour copier effectivement vers le presse-papier.',\r\n    'Press CTRL+V one more time to effectively paste from clipboard.':\r\n        'Taper une nouvelle fois sur CTRL+V pour coller effectivement depuis le presse-papier.',\r\n    'Press CTRL+X one more time to effectively cut to clipboard.':\r\n        'Taper une nouvelle fois sur CTRL+X pour couper effectivement vers le presse-papier.',\r\n\r\n    // Paint.js\r\n    'undo':\r\n        'd\\u00E9faire',\r\n    'Paintbrush tool\\n(free draw)':\r\n        'Pinceau\\n(dessin \\u00E0 main lev\\u00E9e)',\r\n    'Stroked Rectangle\\n(shift: square)':\r\n        'Rectangle\\n(Maj : carr\\u00E9)',\r\n    'Stroked Ellipse\\n(shift: circle)':\r\n        'Ellipse\\n(Maj : cercle)',\r\n    'Eraser tool':\r\n        'Gomme',\r\n    'Set the rotation center':\r\n        'Fixer le centre de rotation',\r\n    'Line tool\\n(shift: vertical/horizontal)':\r\n        'Ligne\\n(Maj: verticale/horizontale)',\r\n    'Filled Rectangle\\n(shift: square)':\r\n        'Rectangle plein\\n(Maj: carr\\u00E9)',\r\n    'Filled Ellipse\\n(shift: circle)':\r\n        'Ellipse pleine\\n(Maj: cercle)',\r\n    'Fill a region':\r\n        'Remplir une r\\u00E9gion',\r\n    'Pipette tool\\n(pick a color anywhere)':\r\n        'Pipette\\n(s\\u00E9lectionnez une couleur n\\u0027importe o\\u00F9)',\r\n    'grow':\r\n        'agrandir',\r\n    'shrink':\r\n        'r\\u00E9duire',\r\n    'flip \\u2194':\r\n        'miroir \\u2194',\r\n    'flip \\u2195':\r\n        'miroir \\u2195',\r\n    'Brush size':\r\n        'Taille de pinceau',\r\n    'Constrain proportions of shapes?\\n(you can also hold shift)':\r\n        'Contraindre les proportions de la forme ?\\n(vous pouvez aussi maintenir appuy\\u00E9 Maj)'\r\n\r\n};\r\n\r\n\r\nfunction localize(string) {\r\n    var strong;\r\n    if(dicofr[string]){strong = dicofr[string];}\r\n        else {strong = string;}\r\n    // override this function with custom localizations\r\n    return strong;\r\n}\r\n\r\nfunction isNil(thing) {\r\n    return thing === undefined || thing === null;\r\n}\r\n\r\nfunction contains(list, element) {\r\n    // answer true if element is a member of list\r\n    return list.indexOf(element) !== -1;\r\n}\r\n\r\nfunction detect(list, predicate) {\r\n    // answer the first element of list for which predicate evaluates\r\n    // true, otherwise answer null\r\n    var i, size = list.length;\r\n    for (i = 0; i < size; i += 1) {\r\n        if (predicate.call(null, list[i])) {\r\n            return list[i];\r\n        }\r\n    }\r\n    return null;\r\n}\r\n\r\nfunction sizeOf(object) {\r\n    // answer the number of own properties\r\n    var size = 0, key;\r\n    for (key in object) {\r\n        if (Object.prototype.hasOwnProperty.call(object, key)) {\r\n            size += 1;\r\n        }\r\n    }\r\n    return size;\r\n}\r\n\r\nfunction isString(target) {\r\n    return typeof target === 'string' || target instanceof String;\r\n}\r\n\r\nfunction isObject(target) {\r\n    return target !== null &&\r\n        (typeof target === 'object' || target instanceof Object);\r\n}\r\n\r\nfunction radians(degrees) {\r\n    return degrees * Math.PI / 180;\r\n}\r\n\r\nfunction degrees(radians) {\r\n    return radians * 180 / Math.PI;\r\n}\r\n\r\nfunction fontHeight(height) {\r\n    var minHeight = Math.max(height, MorphicPreferences.minimumFontHeight);\r\n    return minHeight * 1.2; // assuming 1/5 font size for ascenders\r\n}\r\n\r\nfunction isWordChar(aCharacter) {\r\n    // can't use \\b or \\w because they ignore diacritics\r\n    return aCharacter.match(/[A-zÀ-ÿ0-9]/);\r\n}\r\n\r\nfunction newCanvas(extentPoint, nonRetina) {\r\n    // answer a new empty instance of Canvas, don't display anywhere\r\n    // nonRetina - optional Boolean \"false\"\r\n    // by default retina support is automatic\r\n    var canvas, ext;\r\n    ext = extentPoint || {x: 0, y: 0};\r\n    canvas = document.createElement('canvas');\r\n    canvas.width = ext.x;\r\n    canvas.height = ext.y;\r\n    if (nonRetina && canvas.isRetinaEnabled) {\r\n        canvas.isRetinaEnabled = false;\r\n    }\r\n    return canvas;\r\n}\r\n\r\nfunction getMinimumFontHeight() {\r\n    // answer the height of the smallest font renderable in pixels\r\n    var str = 'I',\r\n        size = 50,\r\n        canvas = document.createElement('canvas'),\r\n        ctx,\r\n        maxX,\r\n        data,\r\n        x,\r\n        y;\r\n    canvas.width = size;\r\n    canvas.height = size;\r\n    ctx = canvas.getContext('2d');\r\n    ctx.font = '1px serif';\r\n    maxX = ctx.measureText(str).width;\r\n    ctx.fillStyle = 'black';\r\n    ctx.textBaseline = 'bottom';\r\n    ctx.fillText(str, 0, size);\r\n    for (y = 0; y < size; y += 1) {\r\n        for (x = 0; x < maxX; x += 1) {\r\n            data = ctx.getImageData(x, y, 1, 1);\r\n            if (data.data[3] !== 0) {\r\n                return size - y + 1;\r\n            }\r\n        }\r\n    }\r\n    return 0;\r\n}\r\n\r\nfunction getBlurredShadowSupport() {\r\n    // check for Chrome issue 90001\r\n    // http://code.google.com/p/chromium/issues/detail?id=90001\r\n    var source, target, ctx;\r\n    source = document.createElement('canvas');\r\n    source.width = 10;\r\n    source.height = 10;\r\n    ctx = source.getContext('2d');\r\n    ctx.fillStyle = 'rgb(255, 0, 0)';\r\n    ctx.beginPath();\r\n    ctx.arc(5, 5, 5, 0, Math.PI * 2, true);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n    target = document.createElement('canvas');\r\n    target.width = 10;\r\n    target.height = 10;\r\n    ctx = target.getContext('2d');\r\n    ctx.shadowBlur = 10;\r\n    ctx.shadowColor = 'rgba(0, 0, 255, 1)';\r\n    ctx.drawImage(source, 0, 0);\r\n    return ctx.getImageData(0, 0, 1, 1).data[3] ? true : false;\r\n}\r\n\r\nfunction getDocumentPositionOf(aDOMelement) {\r\n    // answer the absolute coordinates of a DOM element in the document\r\n    var pos, offsetParent;\r\n    if (aDOMelement === null) {\r\n        return {x: 0, y: 0};\r\n    }\r\n    pos = {x: aDOMelement.offsetLeft, y: aDOMelement.offsetTop};\r\n    offsetParent = aDOMelement.offsetParent;\r\n    while (offsetParent !== null) {\r\n        pos.x += offsetParent.offsetLeft;\r\n        pos.y += offsetParent.offsetTop;\r\n        if (offsetParent !== document.body &&\r\n                offsetParent !== document.documentElement) {\r\n            pos.x -= offsetParent.scrollLeft;\r\n            pos.y -= offsetParent.scrollTop;\r\n        }\r\n        offsetParent = offsetParent.offsetParent;\r\n    }\r\n    return pos;\r\n}\r\n\r\nfunction copy(target) {\r\n    // answer a shallow copy of target\r\n    var value, c, property, keys, l, i;\r\n\r\n    if (typeof target !== 'object') {\r\n        return target;\r\n    }\r\n    value = target.valueOf();\r\n    if (target !== value) {\r\n        return new target.constructor(value);\r\n    }\r\n    if (target instanceof target.constructor &&\r\n            target.constructor !== Object) {\r\n        c = Object.create(target.constructor.prototype);\r\n        keys = Object.keys(target);\r\n        for (l = keys.length, i = 0; i < l; i += 1) {\r\n            property = keys[i];\r\n            c[property] = target[property];\r\n        }\r\n    } else {\r\n        c = {};\r\n        for (property in target) {\r\n            c[property] = target[property];\r\n        }\r\n    }\r\n    return c;\r\n}\r\n\r\n// Retina Display Support //////////////////////////////////////////////\r\n\r\n/*\r\n    By default retina support gets installed when Morphic.js loads. There\r\n    are two global functions that let you test for retina availability:\r\n\r\n        isRetinaSupported() - Boolean, whether retina support is available\r\n        isRetinaEnabled()   - Boolean, whether currently in retina mode\r\n\r\n    and two more functions that let you control retina support if it is\r\n    available:\r\n\r\n        enableRetinaSupport()\r\n        disableRetinaSupport()\r\n\r\n    Both of these internally test whether retina is available, so they are\r\n    safe to call directly.\r\n\r\n    Even when in retina mode it often makes sense to use non-high-resolution\r\n    canvasses for simple shapes in order to save system resources and\r\n    optimize performance. Examples are costumes and backgrounds in Snap.\r\n    In Morphic you can create new canvas elements using\r\n    \r\n        newCanvas(extentPoint [, nonRetinaFlag])\r\n\r\n    If retina support is enabled such new canvasses will automatically be\r\n    high-resolution canvasses, unless the newCanvas() function is given an\r\n    otherwise optional second Boolean <true> argument that explicitly makes\r\n    it a non-retina canvas.\r\n\r\n    Not the whole canvas API is supported by Morphic's retina utilities.\r\n    Especially if your code uses putImageData() you will want to \"downgrade\"\r\n    a target high-resolution canvas to a normal-resolution (\"non-retina\")\r\n    one before using\r\n\r\n        normalizeCanvas(aCanvas [, copyFlag])\r\n\r\n    This will change the target canvas' resolution in place (!). If you\r\n    pass in the optional second Boolean <true> flag the function returns\r\n    a non-retina copy and leaves the target canvas unchanged. An example\r\n    of this normalize mechanism is converting the penTrails layer of Snap's\r\n    stage (high-resolution) into a sprite-costume (normal resolution).\r\n*/\r\n\r\nfunction enableRetinaSupport() {\r\n/*\r\n    === contributed by Bartosz Leper ===\r\n\r\n    This installs a series of utilities that allow using Canvas the same way\r\n    on retina and non-retina displays. If the display is a retina one, the\r\n    underlying dimensions of the Canvas elements are doubled, but this will\r\n    be transparent to the code that uses Canvas. All dimensions read or\r\n    written to the Canvas element will be scaled appropriately.\r\n\r\n    NOTE: This implementation is not exhaustive; it only implements what is\r\n    needed by the Snap! UI.\r\n    \r\n    [Jens]: like all other retina screen support implementations I've seen\r\n    Bartosz's patch also does not address putImageData() compatibility when\r\n    mixing retina-enabled and non-retina canvasses. If you need to manipulate\r\n    pixels in such mixed canvasses, make sure to \"downgrade\" them all using\r\n    normalizeCanvas() below.\r\n*/\r\n\r\n    // Get the window's pixel ratio for canvas elements.\r\n    // See: http://www.html5rocks.com/en/tutorials/canvas/hidpi/\r\n    var ctx = document.createElement(\"canvas\").getContext(\"2d\"),\r\n        backingStorePixelRatio = ctx.webkitBackingStorePixelRatio ||\r\n            ctx.mozBackingStorePixelRatio ||\r\n            ctx.msBackingStorePixelRatio ||\r\n            ctx.oBackingStorePixelRatio ||\r\n            ctx.backingStorePixelRatio || 1,\r\n\r\n    // Unfortunately, it's really hard to make this work well when changing\r\n    // zoom level, so let's leave it like this right now, and stick to\r\n    // whatever the ratio was in the beginning.\r\n\r\n        // originalDevicePixelRatio = window.devicePixelRatio,\r\n\r\n    // [Jens]: As of summer 2016 non-integer devicePixelRatios lead to\r\n    // artifacts when blitting images onto canvas elements in all browsers\r\n    // except Chrome, especially Firefox, Edge, IE (Safari doesn't even\r\n    // support retina mode as implemented here).\r\n    // therefore - to ensure crisp fonts - use the ceiling of whatever\r\n    // the devicePixelRatio is. This needs more memory, but looks nicer.\r\n\r\n        originalDevicePixelRatio = Math.ceil(window.devicePixelRatio),\r\n\r\n        canvasProto = HTMLCanvasElement.prototype,\r\n        contextProto = CanvasRenderingContext2D.prototype,\r\n\r\n    // [Jens]: keep track of original properties in a dictionary\r\n    // so they can be iterated over and restored\r\n        uber = {\r\n            drawImage: contextProto.drawImage,\r\n            getImageData: contextProto.getImageData,\r\n\r\n            width: Object.getOwnPropertyDescriptor(\r\n                canvasProto,\r\n                'width'\r\n            ),\r\n            height: Object.getOwnPropertyDescriptor(\r\n                canvasProto,\r\n                'height'\r\n            ),\r\n            shadowOffsetX: Object.getOwnPropertyDescriptor(\r\n                contextProto,\r\n                'shadowOffsetX'\r\n            ),\r\n            shadowOffsetY: Object.getOwnPropertyDescriptor(\r\n                contextProto,\r\n                'shadowOffsetY'\r\n            ),\r\n            shadowBlur: Object.getOwnPropertyDescriptor(\r\n                contextProto,\r\n                'shadowBlur'\r\n            )\r\n        };\r\n\r\n    // [Jens]: only install retina utilities if the display supports them\r\n    if (backingStorePixelRatio === originalDevicePixelRatio) {return; }\r\n    // [Jens]: check whether properties can be overridden, needed for Safari\r\n    if (Object.keys(uber).some(function (any) {\r\n        var prop = uber[any];\r\n        return prop.hasOwnProperty('configurable') && (!prop.configurable);\r\n    })) {return; }\r\n\r\n    function getPixelRatio(imageSource) {\r\n        return imageSource.isRetinaEnabled ?\r\n            (originalDevicePixelRatio || 1) / backingStorePixelRatio : 1;\r\n    }\r\n\r\n    canvasProto._isRetinaEnabled = true;\r\n    // [Jens]: remember the original non-retina properties,\r\n    // so they can be restored again\r\n    canvasProto._bak = uber;\r\n\r\n    Object.defineProperty(canvasProto, 'isRetinaEnabled', {\r\n        get: function() {\r\n            return this._isRetinaEnabled;\r\n        },\r\n        set: function(enabled) {\r\n            var prevPixelRatio = getPixelRatio(this),\r\n                prevWidth = this.width,\r\n                prevHeight = this.height;\r\n\r\n            this._isRetinaEnabled = enabled;\r\n            if (getPixelRatio(this) != prevPixelRatio) {\r\n                this.width = prevWidth;\r\n                this.height = prevHeight;\r\n            }\r\n        },\r\n        configurable: true // [Jens]: allow to be deleted an reconfigured\r\n    });\r\n\r\n    Object.defineProperty(canvasProto, 'width', {\r\n        get: function() {\r\n            return uber.width.get.call(this) / getPixelRatio(this);\r\n        },\r\n        set: function(width) {\r\n            try { // workaround one of FF's dreaded NS_ERROR_FAILURE bugs\r\n                // this should be taken out as soon as FF gets fixed again\r\n                var pixelRatio = getPixelRatio(this),\r\n                    context;\r\n                uber.width.set.call(this, width * pixelRatio);\r\n                context = this.getContext('2d');\r\n                context.restore();\r\n                context.save();\r\n                context.scale(pixelRatio, pixelRatio);\r\n            } catch (err) {\r\n                console.log('Retina Display Support Problem', err);\r\n                uber.width.set.call(this, width);\r\n            }\r\n        }\r\n    });\r\n\r\n    Object.defineProperty(canvasProto, 'height', {\r\n        get: function() {\r\n            return uber.height.get.call(this) / getPixelRatio(this);\r\n        },\r\n        set: function(height) {\r\n            var pixelRatio = getPixelRatio(this),\r\n                context;\r\n            uber.height.set.call(this, height * pixelRatio);\r\n            context = this.getContext('2d');\r\n            context.restore();\r\n            context.save();\r\n            context.scale(pixelRatio, pixelRatio);\r\n        }\r\n    });\r\n\r\n    contextProto.drawImage = function(image) {\r\n        var pixelRatio = getPixelRatio(image),\r\n            sx, sy, sWidth, sHeight, dx, dy, dWidth, dHeight;\r\n        \r\n        // Different signatures of drawImage() method have different\r\n        // parameter assignments.\r\n        switch (arguments.length) {\r\n            case 9:\r\n                sx = arguments[1];\r\n                sy = arguments[2];\r\n                sWidth = arguments[3];\r\n                sHeight = arguments[4];\r\n                dx = arguments[5];\r\n                dy = arguments[6];\r\n                dWidth = arguments[7];\r\n                dHeight = arguments[8];\r\n                break;\r\n\r\n            case 5:\r\n                sx = 0;\r\n                sy = 0;\r\n                sWidth = image.width;\r\n                sHeight = image.height;\r\n                dx = arguments[1];\r\n                dy = arguments[2];\r\n                dWidth = arguments[3];\r\n                dHeight = arguments[4];\r\n                break;\r\n\r\n            case 3:\r\n                sx = 0;\r\n                sy = 0;\r\n                sWidth = image.width;\r\n                sHeight = image.height;\r\n                dx = arguments[1];\r\n                dy = arguments[2];\r\n                dWidth = image.width;\r\n                dHeight = image.height;\r\n                break;\r\n\r\n            default:\r\n                throw Error('Called drawImage() with ' + arguments.length +\r\n                        ' arguments');\r\n        }\r\n        uber.drawImage.call(\r\n                this, image,\r\n                sx * pixelRatio, sy * pixelRatio,\r\n                sWidth * pixelRatio, sHeight * pixelRatio,\r\n                dx, dy,\r\n                dWidth, dHeight);\r\n    };\r\n\r\n    contextProto.getImageData = function(sx, sy, sw, sh) {\r\n        var pixelRatio = getPixelRatio(this.canvas);\r\n        return uber.getImageData.call(\r\n                this,\r\n                sx * pixelRatio, sy * pixelRatio,\r\n                sw * pixelRatio, sh * pixelRatio);\r\n    };\r\n\r\n    Object.defineProperty(contextProto, 'shadowOffsetX', {\r\n        get: function() {\r\n            return uber.shadowOffsetX.get.call(this) /\r\n                getPixelRatio(this.canvas);\r\n        },\r\n        set: function(offset) {\r\n            var pixelRatio = getPixelRatio(this.canvas);\r\n            uber.shadowOffsetX.set.call(this, offset * pixelRatio);\r\n        }\r\n    });\r\n\r\n    Object.defineProperty(contextProto, 'shadowOffsetY', {\r\n        get: function() {\r\n            return uber.shadowOffsetY.get.call(this) /\r\n                getPixelRatio(this.canvas);\r\n        },\r\n        set: function(offset) {\r\n            var pixelRatio = getPixelRatio(this.canvas);\r\n            uber.shadowOffsetY.set.call(this, offset * pixelRatio);\r\n        }\r\n    });\r\n\r\n    Object.defineProperty(contextProto, 'shadowBlur', {\r\n        get: function() {\r\n            return uber.shadowBlur.get.call(this) /\r\n                getPixelRatio(this.canvas);\r\n        },\r\n        set: function(blur) {\r\n            var pixelRatio = getPixelRatio(this.canvas);\r\n            uber.shadowBlur.set.call(this, blur * pixelRatio);\r\n        }\r\n    });\r\n}\r\n\r\nfunction isRetinaSupported () {\r\n    var ctx = document.createElement(\"canvas\").getContext(\"2d\"),\r\n        backingStorePixelRatio = ctx.webkitBackingStorePixelRatio ||\r\n            ctx.mozBackingStorePixelRatio ||\r\n            ctx.msBackingStorePixelRatio ||\r\n            ctx.oBackingStorePixelRatio ||\r\n            ctx.backingStorePixelRatio || 1,\r\n        canvasProto = HTMLCanvasElement.prototype,\r\n        contextProto = CanvasRenderingContext2D.prototype,\r\n        uber = {\r\n            drawImage: contextProto.drawImage,\r\n            getImageData: contextProto.getImageData,\r\n\r\n            width: Object.getOwnPropertyDescriptor(\r\n                canvasProto,\r\n                'width'\r\n            ),\r\n            height: Object.getOwnPropertyDescriptor(\r\n                canvasProto,\r\n                'height'\r\n            ),\r\n            shadowOffsetX: Object.getOwnPropertyDescriptor(\r\n                contextProto,\r\n                'shadowOffsetX'\r\n            ),\r\n            shadowOffsetY: Object.getOwnPropertyDescriptor(\r\n                contextProto,\r\n                'shadowOffsetY'\r\n            ),\r\n            shadowBlur: Object.getOwnPropertyDescriptor(\r\n                contextProto,\r\n                'shadowBlur'\r\n            )\r\n        };\r\n    return backingStorePixelRatio !== window.devicePixelRatio &&\r\n        !(Object.keys(uber).some(function (any) {\r\n            var prop = uber[any];\r\n            return prop.hasOwnProperty('configurable') && (!prop.configurable);\r\n        })\r\n    );\r\n}\r\n\r\nfunction isRetinaEnabled () {\r\n    return HTMLCanvasElement.prototype.hasOwnProperty('_isRetinaEnabled');\r\n}\r\n\r\nfunction disableRetinaSupport() {\r\n    // uninstalls Retina utilities. Make sure to re-create every Canvas\r\n    // element afterwards\r\n    var canvasProto, contextProto, uber;\r\n    if (!isRetinaEnabled()) {return; }\r\n    canvasProto = HTMLCanvasElement.prototype;\r\n    contextProto = CanvasRenderingContext2D.prototype;\r\n    uber = canvasProto._bak;\r\n    Object.defineProperty(canvasProto, 'width', uber.width);\r\n    Object.defineProperty(canvasProto, 'height', uber.height);\r\n    contextProto.drawImage = uber.drawImage;\r\n    contextProto.getImageData = uber.getImageData;\r\n    Object.defineProperty(contextProto, 'shadowOffsetX', uber.shadowOffsetX);\r\n    Object.defineProperty(contextProto, 'shadowOffsetY', uber.shadowOffsetY);\r\n    Object.defineProperty(contextProto, 'shadowBlur', uber.shadowBlur);\r\n    delete canvasProto._isRetinaEnabled;\r\n    delete canvasProto.isRetinaEnabled;\r\n    delete canvasProto._bak;\r\n}\r\n\r\nfunction normalizeCanvas(aCanvas, getCopy) {\r\n    // make sure aCanvas is non-retina, otherwise convert it in place (!)\r\n    // or answer a normalized copy if the \"getCopy\" flag is <true>\r\n    var cpy;\r\n    if (!aCanvas.isRetinaEnabled) {return aCanvas; }\r\n    cpy = newCanvas(new Point(aCanvas.width, aCanvas.height), true);\r\n    cpy.getContext('2d').drawImage(aCanvas, 0, 0);\r\n    if (getCopy) {return cpy; }\r\n    aCanvas.isRetinaEnabled = false;\r\n    aCanvas.width = cpy.width;\r\n    aCanvas.height = cpy.height;\r\n    aCanvas.getContext('2d').drawImage(cpy, 0, 0);\r\n    return aCanvas;\r\n}\r\n\r\n// Animations //////////////////////////////////////////////////////////////\r\n\r\n/*\r\n    Animations handle gradual transitions between one state and another over a\r\n    period of time. Transition effects can be specified using easing functions.\r\n    An easing function maps a fraction of the transition time to a fraction of\r\n    the state delta. This way accelerating / decelerating and bouncing sliding\r\n    effects can be accomplished.\r\n\r\n    Animations are generic and not limited to motion, i.e. they can also handle\r\n    other transitions such as color changes, transparency fadings, growing,\r\n    shrinking, turning etc.\r\n\r\n    Animations need to be stepped by a scheduler, e. g. an interval function.\r\n    In Morphic the preferred way to run an animation is to register it with\r\n    the World by adding it to the World's animation queue. The World steps each\r\n    registered animation once per display cycle independently of the Morphic\r\n    stepping mechanism.\r\n\r\n    For an example how to use animations look at how the Morph's methods\r\n    \r\n        glideTo()\r\n        fadeTo()\r\n\r\n    and\r\n    \r\n        slideBackTo()\r\n\r\n    are implemented.\r\n*/\r\n\r\n// Animation instance creation:\r\n\r\nfunction Animation(setter, getter, delta, duration, easing, onComplete) {\r\n    this.setter = setter; // function\r\n    this.getter = getter; // function\r\n    this.delta = delta || 0; // number\r\n    this.duration = duration || 0; // milliseconds\r\n    this.easing = isString(easing) ? // string or function\r\n            this.easings[easing] || this.easings.sinusoidal\r\n                : easing || this.easings.sinusoidal;\r\n    this.onComplete = onComplete || null; // optional callback\r\n    this.endTime = null;\r\n    this.destination = null;\r\n    this.isActive = false;\r\n    this.start();\r\n}\r\n\r\nAnimation.prototype.easings = {\r\n    // dictionary of a few pre-defined easing functions used to transition\r\n    // two states\r\n\r\n    // ease both in and out:\r\n    linear: function (t) {return t; },\r\n    sinusoidal: function (t) {return 1 - Math.cos(radians(t * 90)); },\r\n    quadratic: function (t) {\r\n        return t < 0.5 ?\r\n                2 * t * t\r\n                    : ((4 - (2 * t)) * t) - 1;\r\n    },\r\n    cubic: function (t) {\r\n        return t < 0.5 ?\r\n                4 * t * t * t\r\n                    : ((t - 1) * ((2 * t) - 2) * ((2 * t) - 2)) + 1;\r\n    },\r\n    elastic: function (t) {\r\n        return (t -= 0.5) < 0 ?\r\n            (0.01 + 0.01 / t) * Math.sin(50 * t)\r\n                : (0.02 - 0.01 / t) * Math.sin(50 * t) + 1;\r\n    },\r\n\r\n    // ease in only:\r\n    sine_in: function (t) {return 1 - Math.sin(radians(90 + (t * 90))); },\r\n    quad_in: function (t) {return t * t; },\r\n    cubic_in: function (t) {return t * t * t; },\r\n    elastic_in: function (t) {\r\n        return (0.04 - 0.04 / t) * Math.sin(25 * t) + 1;\r\n    },\r\n\r\n    // ease out only:\r\n    sine_out: function (t) {return Math.sin(radians(t * 90)); },\r\n    quad_out: function (t) {return t * (2 - t); },\r\n    elastic_out: function (t) {return 0.04 * t / (--t) * Math.sin(25 * t); }\r\n};\r\n\r\nAnimation.prototype.start = function () {\r\n    // (re-) activate the animation, e.g. if is has previously completed,\r\n    // make sure to plug it into something that repeatedly triggers step(),\r\n    // e.g. the World's animations queue\r\n    this.endTime = Date.now() + this.duration;\r\n    this.destination = this.getter.call(this) + this.delta;\r\n    this.isActive = true;\r\n};\r\n\r\nAnimation.prototype.step = function () {\r\n    if (!this.isActive) {return; }\r\n    var now = Date.now();\r\n    if (now > this.endTime) {\r\n        this.setter(this.destination);\r\n        this.isActive = false;\r\n        if (this.onComplete) {this.onComplete(); }\r\n    } else {\r\n        this.setter(\r\n            this.destination -\r\n                (this.delta * this.easing((this.endTime - now) / this.duration))\r\n        );\r\n    }\r\n};\r\n\r\n// Colors //////////////////////////////////////////////////////////////\r\n\r\n// Color instance creation:\r\n\r\nfunction Color(r, g, b, a) {\r\n    // all values are optional, just (r, g, b) is fine\r\n    this.r = r || 0;\r\n    this.g = g || 0;\r\n    this.b = b || 0;\r\n    this.a = a || ((a === 0) ? 0 : 1);\r\n}\r\n\r\n// Color string representation: e.g. 'rgba(255,165,0,1)'\r\n\r\nColor.prototype.toString = function () {\r\n    return 'rgba(' +\r\n        Math.round(this.r) + ',' +\r\n        Math.round(this.g) + ',' +\r\n        Math.round(this.b) + ',' +\r\n        this.a + ')';\r\n};\r\n\r\n// Color copying:\r\n\r\nColor.prototype.copy = function () {\r\n    return new Color(\r\n        this.r,\r\n        this.g,\r\n        this.b,\r\n        this.a\r\n    );\r\n};\r\n\r\n// Color comparison:\r\n\r\nColor.prototype.eq = function (aColor) {\r\n    // ==\r\n    return aColor &&\r\n        this.r === aColor.r &&\r\n        this.g === aColor.g &&\r\n        this.b === aColor.b;\r\n};\r\n\r\n// Color conversion (hsv):\r\n\r\nColor.prototype.hsv = function () {\r\n    // ignore alpha\r\n    var max, min, h, s, v, d,\r\n        rr = this.r / 255,\r\n        gg = this.g / 255,\r\n        bb = this.b / 255;\r\n    max = Math.max(rr, gg, bb);\r\n    min = Math.min(rr, gg, bb);\r\n    h = max;\r\n    s = max;\r\n    v = max;\r\n    d = max - min;\r\n    s = max === 0 ? 0 : d / max;\r\n    if (max === min) {\r\n        h = 0;\r\n    } else {\r\n        switch (max) {\r\n        case rr:\r\n            h = (gg - bb) / d + (gg < bb ? 6 : 0);\r\n            break;\r\n        case gg:\r\n            h = (bb - rr) / d + 2;\r\n            break;\r\n        case bb:\r\n            h = (rr - gg) / d + 4;\r\n            break;\r\n        }\r\n        h /= 6;\r\n    }\r\n    return [h, s, v];\r\n};\r\n\r\nColor.prototype.set_hsv = function (h, s, v) {\r\n    // ignore alpha, h, s and v are to be within [0, 1]\r\n    var i, f, p, q, t;\r\n    i = Math.floor(h * 6);\r\n    f = h * 6 - i;\r\n    p = v * (1 - s);\r\n    q = v * (1 - f * s);\r\n    t = v * (1 - (1 - f) * s);\r\n    switch (i % 6) {\r\n    case 0:\r\n        this.r = v;\r\n        this.g = t;\r\n        this.b = p;\r\n        break;\r\n    case 1:\r\n        this.r = q;\r\n        this.g = v;\r\n        this.b = p;\r\n        break;\r\n    case 2:\r\n        this.r = p;\r\n        this.g = v;\r\n        this.b = t;\r\n        break;\r\n    case 3:\r\n        this.r = p;\r\n        this.g = q;\r\n        this.b = v;\r\n        break;\r\n    case 4:\r\n        this.r = t;\r\n        this.g = p;\r\n        this.b = v;\r\n        break;\r\n    case 5:\r\n        this.r = v;\r\n        this.g = p;\r\n        this.b = q;\r\n        break;\r\n    }\r\n\r\n    this.r *= 255;\r\n    this.g *= 255;\r\n    this.b *= 255;\r\n\r\n};\r\n\r\n// Color mixing:\r\n\r\nColor.prototype.mixed = function (proportion, otherColor) {\r\n    // answer a copy of this color mixed with another color, ignore alpha\r\n    var frac1 = Math.min(Math.max(proportion, 0), 1),\r\n        frac2 = 1 - frac1;\r\n    return new Color(\r\n        this.r * frac1 + otherColor.r * frac2,\r\n        this.g * frac1 + otherColor.g * frac2,\r\n        this.b * frac1 + otherColor.b * frac2\r\n    );\r\n};\r\n\r\nColor.prototype.darker = function (percent) {\r\n    // return an rgb-interpolated darker copy of me, ignore alpha\r\n    var fract = 0.8333;\r\n    if (percent) {\r\n        fract = (100 - percent) / 100;\r\n    }\r\n    return this.mixed(fract, new Color(0, 0, 0));\r\n};\r\n\r\nColor.prototype.lighter = function (percent) {\r\n    // return an rgb-interpolated lighter copy of me, ignore alpha\r\n    var fract = 0.8333;\r\n    if (percent) {\r\n        fract = (100 - percent) / 100;\r\n    }\r\n    return this.mixed(fract, new Color(255, 255, 255));\r\n};\r\n\r\nColor.prototype.dansDarker = function () {\r\n    // return an hsv-interpolated darker copy of me, ignore alpha\r\n    var hsv = this.hsv(),\r\n        result = new Color(),\r\n        vv = Math.max(hsv[2] - 0.16, 0);\r\n    result.set_hsv(hsv[0], hsv[1], vv);\r\n    return result;\r\n};\r\n\r\nColor.prototype.inverted = function () {\r\n    return new Color(\r\n        255 - this.r,\r\n        255 - this.g,\r\n        255 - this.b\r\n    );\r\n};\r\n\r\n// Points //////////////////////////////////////////////////////////////\r\n\r\n// Point instance creation:\r\n\r\nfunction Point(x, y) {\r\n    this.x = x || 0;\r\n    this.y = y || 0;\r\n}\r\n\r\n// Point string representation: e.g. '12@68'\r\n\r\nPoint.prototype.toString = function () {\r\n    return Math.round(this.x.toString()) +\r\n        '@' + Math.round(this.y.toString());\r\n};\r\n\r\n// Point copying:\r\n\r\nPoint.prototype.copy = function () {\r\n    return new Point(this.x, this.y);\r\n};\r\n\r\n// Point comparison:\r\n\r\nPoint.prototype.eq = function (aPoint) {\r\n    // ==\r\n    return this.x === aPoint.x && this.y === aPoint.y;\r\n};\r\n\r\nPoint.prototype.lt = function (aPoint) {\r\n    // <\r\n    return this.x < aPoint.x && this.y < aPoint.y;\r\n};\r\n\r\nPoint.prototype.gt = function (aPoint) {\r\n    // >\r\n    return this.x > aPoint.x && this.y > aPoint.y;\r\n};\r\n\r\nPoint.prototype.ge = function (aPoint) {\r\n    // >=\r\n    return this.x >= aPoint.x && this.y >= aPoint.y;\r\n};\r\n\r\nPoint.prototype.le = function (aPoint) {\r\n    // <=\r\n    return this.x <= aPoint.x && this.y <= aPoint.y;\r\n};\r\n\r\nPoint.prototype.max = function (aPoint) {\r\n    return new Point(Math.max(this.x, aPoint.x),\r\n        Math.max(this.y, aPoint.y));\r\n};\r\n\r\nPoint.prototype.min = function (aPoint) {\r\n    return new Point(Math.min(this.x, aPoint.x),\r\n        Math.min(this.y, aPoint.y));\r\n};\r\n\r\n// Point conversion:\r\n\r\nPoint.prototype.round = function () {\r\n    return new Point(Math.round(this.x), Math.round(this.y));\r\n};\r\n\r\nPoint.prototype.abs = function () {\r\n    return new Point(Math.abs(this.x), Math.abs(this.y));\r\n};\r\n\r\nPoint.prototype.neg = function () {\r\n    return new Point(-this.x, -this.y);\r\n};\r\n\r\nPoint.prototype.mirror = function () {\r\n    return new Point(this.y, this.x);\r\n};\r\n\r\nPoint.prototype.floor = function () {\r\n    return new Point(\r\n        Math.max(Math.floor(this.x), 0),\r\n        Math.max(Math.floor(this.y), 0)\r\n    );\r\n};\r\n\r\nPoint.prototype.ceil = function () {\r\n    return new Point(Math.ceil(this.x), Math.ceil(this.y));\r\n};\r\n\r\n// Point arithmetic:\r\n\r\nPoint.prototype.add = function (other) {\r\n    if (other instanceof Point) {\r\n        return new Point(this.x + other.x, this.y + other.y);\r\n    }\r\n    return new Point(this.x + other, this.y + other);\r\n};\r\n\r\nPoint.prototype.subtract = function (other) {\r\n    if (other instanceof Point) {\r\n        return new Point(this.x - other.x, this.y - other.y);\r\n    }\r\n    return new Point(this.x - other, this.y - other);\r\n};\r\n\r\nPoint.prototype.multiplyBy = function (other) {\r\n    if (other instanceof Point) {\r\n        return new Point(this.x * other.x, this.y * other.y);\r\n    }\r\n    return new Point(this.x * other, this.y * other);\r\n};\r\n\r\nPoint.prototype.divideBy = function (other) {\r\n    if (other instanceof Point) {\r\n        return new Point(this.x / other.x, this.y / other.y);\r\n    }\r\n    return new Point(this.x / other, this.y / other);\r\n};\r\n\r\nPoint.prototype.floorDivideBy = function (other) {\r\n    if (other instanceof Point) {\r\n        return new Point(Math.floor(this.x / other.x),\r\n            Math.floor(this.y / other.y));\r\n    }\r\n    return new Point(Math.floor(this.x / other),\r\n        Math.floor(this.y / other));\r\n};\r\n\r\n// Point polar coordinates:\r\n\r\nPoint.prototype.r = function () {\r\n    var t = (this.multiplyBy(this));\r\n    return Math.sqrt(t.x + t.y);\r\n};\r\n\r\nPoint.prototype.degrees = function () {\r\n/*\r\n    answer the angle I make with origin in degrees.\r\n    Right is 0, down is 90\r\n*/\r\n    var tan, theta;\r\n\r\n    if (this.x === 0) {\r\n        if (this.y >= 0) {\r\n            return 90;\r\n        }\r\n        return 270;\r\n    }\r\n    tan = this.y / this.x;\r\n    theta = Math.atan(tan);\r\n    if (this.x >= 0) {\r\n        if (this.y >= 0) {\r\n            return degrees(theta);\r\n        }\r\n        return 360 + (degrees(theta));\r\n    }\r\n    return 180 + degrees(theta);\r\n};\r\n\r\nPoint.prototype.theta = function () {\r\n/*\r\n    answer the angle I make with origin in radians.\r\n    Right is 0, down is 90\r\n*/\r\n    var tan, theta;\r\n\r\n    if (this.x === 0) {\r\n        if (this.y >= 0) {\r\n            return radians(90);\r\n        }\r\n        return radians(270);\r\n    }\r\n    tan = this.y / this.x;\r\n    theta = Math.atan(tan);\r\n    if (this.x >= 0) {\r\n        if (this.y >= 0) {\r\n            return theta;\r\n        }\r\n        return radians(360) + theta;\r\n    }\r\n    return radians(180) + theta;\r\n};\r\n\r\n// Point functions:\r\n\r\nPoint.prototype.crossProduct = function (aPoint) {\r\n    return this.multiplyBy(aPoint.mirror());\r\n};\r\n\r\nPoint.prototype.distanceTo = function (aPoint) {\r\n    return (aPoint.subtract(this)).r();\r\n};\r\n\r\nPoint.prototype.rotate = function (direction, center) {\r\n    // direction must be 'right', 'left' or 'pi'\r\n    var offset = this.subtract(center);\r\n    if (direction === 'right') {\r\n        return new Point(-offset.y, offset.y).add(center);\r\n    }\r\n    if (direction === 'left') {\r\n        return new Point(offset.y, -offset.y).add(center);\r\n    }\r\n    // direction === 'pi'\r\n    return center.subtract(offset);\r\n};\r\n\r\nPoint.prototype.flip = function (direction, center) {\r\n    // direction must be 'vertical' or 'horizontal'\r\n    if (direction === 'vertical') {\r\n        return new Point(this.x, center.y * 2 - this.y);\r\n    }\r\n    // direction === 'horizontal'\r\n    return new Point(center.x * 2 - this.x, this.y);\r\n};\r\n\r\nPoint.prototype.distanceAngle = function (dist, angle) {\r\n    var deg = angle, x, y;\r\n    if (deg > 270) {\r\n        deg = deg - 360;\r\n    } else if (deg < -270) {\r\n        deg = deg + 360;\r\n    }\r\n    if (-90 <= deg && deg <= 90) {\r\n        x = Math.sin(radians(deg)) * dist;\r\n        y = Math.sqrt((dist * dist) - (x * x));\r\n        return new Point(x + this.x, this.y - y);\r\n    }\r\n    x = Math.sin(radians(180 - deg)) * dist;\r\n    y = Math.sqrt((dist * dist) - (x * x));\r\n    return new Point(x + this.x, this.y + y);\r\n};\r\n\r\n// Point transforming:\r\n\r\nPoint.prototype.scaleBy = function (scalePoint) {\r\n    return this.multiplyBy(scalePoint);\r\n};\r\n\r\nPoint.prototype.translateBy = function (deltaPoint) {\r\n    return this.add(deltaPoint);\r\n};\r\n\r\nPoint.prototype.rotateBy = function (angle, centerPoint) {\r\n    var center = centerPoint || new Point(0, 0),\r\n        p = this.subtract(center),\r\n        r = p.r(),\r\n        theta = angle - p.theta();\r\n    return new Point(\r\n        center.x + (r * Math.cos(theta)),\r\n        center.y - (r * Math.sin(theta))\r\n    );\r\n};\r\n\r\n// Point conversion:\r\n\r\nPoint.prototype.asArray = function () {\r\n    return [this.x, this.y];\r\n};\r\n\r\n// Rectangles //////////////////////////////////////////////////////////\r\n\r\n// Rectangle instance creation:\r\n\r\nfunction Rectangle(left, top, right, bottom) {\r\n    this.init(new Point((left || 0), (top || 0)),\r\n            new Point((right || 0), (bottom || 0)));\r\n}\r\n\r\nRectangle.prototype.init = function (originPoint, cornerPoint) {\r\n    this.origin = originPoint;\r\n    this.corner = cornerPoint;\r\n};\r\n\r\n// Rectangle string representation: e.g. '[0@0 | 160@80]'\r\n\r\nRectangle.prototype.toString = function () {\r\n    return '[' + this.origin.toString() + ' | ' +\r\n        this.extent().toString() + ']';\r\n};\r\n\r\n// Rectangle copying:\r\n\r\nRectangle.prototype.copy = function () {\r\n    return new Rectangle(\r\n        this.left(),\r\n        this.top(),\r\n        this.right(),\r\n        this.bottom()\r\n    );\r\n};\r\n\r\n// creating Rectangle instances from Points:\r\n\r\nPoint.prototype.corner = function (cornerPoint) {\r\n    // answer a new Rectangle\r\n    return new Rectangle(\r\n        this.x,\r\n        this.y,\r\n        cornerPoint.x,\r\n        cornerPoint.y\r\n    );\r\n};\r\n\r\nPoint.prototype.rectangle = function (aPoint) {\r\n    // answer a new Rectangle\r\n    var org, crn;\r\n    org = this.min(aPoint);\r\n    crn = this.max(aPoint);\r\n    return new Rectangle(org.x, org.y, crn.x, crn.y);\r\n};\r\n\r\nPoint.prototype.extent = function (aPoint) {\r\n    //answer a new Rectangle\r\n    var crn = this.add(aPoint);\r\n    return new Rectangle(this.x, this.y, crn.x, crn.y);\r\n};\r\n\r\n// Rectangle accessing - setting:\r\n\r\nRectangle.prototype.setTo = function (left, top, right, bottom) {\r\n    // note: all inputs are optional and can be omitted\r\n\r\n    this.origin = new Point(\r\n        left || ((left === 0) ? 0 : this.left()),\r\n        top || ((top === 0) ? 0 : this.top())\r\n    );\r\n\r\n    this.corner = new Point(\r\n        right || ((right === 0) ? 0 : this.right()),\r\n        bottom || ((bottom === 0) ? 0 : this.bottom())\r\n    );\r\n};\r\n\r\n// Rectangle accessing - getting:\r\n\r\nRectangle.prototype.area = function () {\r\n    //requires width() and height() to be defined\r\n    var w = this.width();\r\n    if (w < 0) {\r\n        return 0;\r\n    }\r\n    return Math.max(w * this.height(), 0);\r\n};\r\n\r\nRectangle.prototype.bottom = function () {\r\n    return this.corner.y;\r\n};\r\n\r\nRectangle.prototype.bottomCenter = function () {\r\n    return new Point(this.center().x, this.bottom());\r\n};\r\n\r\nRectangle.prototype.bottomLeft = function () {\r\n    return new Point(this.origin.x, this.corner.y);\r\n};\r\n\r\nRectangle.prototype.bottomRight = function () {\r\n    return this.corner.copy();\r\n};\r\n\r\nRectangle.prototype.boundingBox = function () {\r\n    return this;\r\n};\r\n\r\nRectangle.prototype.center = function () {\r\n    return this.origin.add(\r\n        this.corner.subtract(this.origin).floorDivideBy(2)\r\n    );\r\n};\r\n\r\nRectangle.prototype.corners = function () {\r\n    return [this.origin,\r\n        this.bottomLeft(),\r\n        this.corner,\r\n        this.topRight()];\r\n};\r\n\r\nRectangle.prototype.extent = function () {\r\n    return this.corner.subtract(this.origin);\r\n};\r\n\r\nRectangle.prototype.height = function () {\r\n    return this.corner.y - this.origin.y;\r\n};\r\n\r\nRectangle.prototype.left = function () {\r\n    return this.origin.x;\r\n};\r\n\r\nRectangle.prototype.leftCenter = function () {\r\n    return new Point(this.left(), this.center().y);\r\n};\r\n\r\nRectangle.prototype.right = function () {\r\n    return this.corner.x;\r\n};\r\n\r\nRectangle.prototype.rightCenter = function () {\r\n    return new Point(this.right(), this.center().y);\r\n};\r\n\r\nRectangle.prototype.top = function () {\r\n    return this.origin.y;\r\n};\r\n\r\nRectangle.prototype.topCenter = function () {\r\n    return new Point(this.center().x, this.top());\r\n};\r\n\r\nRectangle.prototype.topLeft = function () {\r\n    return this.origin;\r\n};\r\n\r\nRectangle.prototype.topRight = function () {\r\n    return new Point(this.corner.x, this.origin.y);\r\n};\r\n\r\nRectangle.prototype.width = function () {\r\n    return this.corner.x - this.origin.x;\r\n};\r\n\r\nRectangle.prototype.position = function () {\r\n    return this.origin;\r\n};\r\n\r\n// Rectangle comparison:\r\n\r\nRectangle.prototype.eq = function (aRect) {\r\n    return this.origin.eq(aRect.origin) &&\r\n        this.corner.eq(aRect.corner);\r\n};\r\n\r\nRectangle.prototype.abs = function () {\r\n    var newOrigin, newCorner;\r\n\r\n    newOrigin = this.origin.abs();\r\n    newCorner = this.corner.max(newOrigin);\r\n    return newOrigin.corner(newCorner);\r\n};\r\n\r\n// Rectangle functions:\r\n\r\nRectangle.prototype.insetBy = function (delta) {\r\n    // delta can be either a Point or a Number\r\n    var result = new Rectangle();\r\n    result.origin = this.origin.add(delta);\r\n    result.corner = this.corner.subtract(delta);\r\n    return result;\r\n};\r\n\r\nRectangle.prototype.expandBy = function (delta) {\r\n    // delta can be either a Point or a Number\r\n    var result = new Rectangle();\r\n    result.origin = this.origin.subtract(delta);\r\n    result.corner = this.corner.add(delta);\r\n    return result;\r\n};\r\n\r\nRectangle.prototype.growBy = function (delta) {\r\n    // delta can be either a Point or a Number\r\n    var result = new Rectangle();\r\n    result.origin = this.origin.copy();\r\n    result.corner = this.corner.add(delta);\r\n    return result;\r\n};\r\n\r\nRectangle.prototype.intersect = function (aRect) {\r\n    var result = new Rectangle();\r\n    result.origin = this.origin.max(aRect.origin);\r\n    result.corner = this.corner.min(aRect.corner);\r\n    return result;\r\n};\r\n\r\nRectangle.prototype.merge = function (aRect) {\r\n    var result = new Rectangle();\r\n    result.origin = this.origin.min(aRect.origin);\r\n    result.corner = this.corner.max(aRect.corner);\r\n    return result;\r\n};\r\n\r\nRectangle.prototype.mergeWith = function (aRect) {\r\n    // mutates myself\r\n    this.origin = this.origin.min(aRect.origin);\r\n    this.corner = this.corner.max(aRect.corner);\r\n};\r\n\r\nRectangle.prototype.round = function () {\r\n    return this.origin.round().corner(this.corner.round());\r\n};\r\n\r\nRectangle.prototype.spread = function () {\r\n    // round me by applying floor() to my origin and ceil() to my corner\r\n    // expand by 1 to be on the safe side, this eliminates rounding\r\n    // artifacts caused by Safari's auto-scaling on retina displays\r\n    return this.origin.floor().corner(this.corner.ceil()).expandBy(1);\r\n};\r\n\r\nRectangle.prototype.amountToTranslateWithin = function (aRect) {\r\n/*\r\n    Answer a Point, delta, such that self + delta is forced within\r\n    aRectangle. when all of me cannot be made to fit, prefer to keep\r\n    my topLeft inside. Taken from Squeak.\r\n*/\r\n    var dx = 0, dy = 0;\r\n\r\n    if (this.right() > aRect.right()) {\r\n        dx = aRect.right() - this.right();\r\n    }\r\n    if (this.bottom() > aRect.bottom()) {\r\n        dy = aRect.bottom() - this.bottom();\r\n    }\r\n    if ((this.left() + dx) < aRect.left()) {\r\n        dx = aRect.left() - this.left();\r\n    }\r\n    if ((this.top() + dy) < aRect.top()) {\r\n        dy = aRect.top() - this.top();\r\n    }\r\n    return new Point(dx, dy);\r\n};\r\n\r\n// Rectangle testing:\r\n\r\nRectangle.prototype.containsPoint = function (aPoint) {\r\n    return this.origin.le(aPoint) && aPoint.lt(this.corner);\r\n};\r\n\r\nRectangle.prototype.containsRectangle = function (aRect) {\r\n    return aRect.origin.gt(this.origin) &&\r\n        aRect.corner.lt(this.corner);\r\n};\r\n\r\nRectangle.prototype.intersects = function (aRect) {\r\n    var ro = aRect.origin, rc = aRect.corner;\r\n    return (rc.x >= this.origin.x) &&\r\n        (rc.y >= this.origin.y) &&\r\n        (ro.x <= this.corner.x) &&\r\n        (ro.y <= this.corner.y);\r\n};\r\n\r\nRectangle.prototype.isNearTo = function (aRect, threshold) {\r\n    var ro = aRect.origin, rc = aRect.corner, border = threshold || 0;\r\n    return (rc.x + border >= this.origin.x) &&\r\n        (rc.y  + border >= this.origin.y) &&\r\n        (ro.x - border <= this.corner.x) &&\r\n        (ro.y - border <= this.corner.y);\r\n};\r\n\r\n// Rectangle transforming:\r\n\r\nRectangle.prototype.scaleBy = function (scale) {\r\n    // scale can be either a Point or a scalar\r\n    var o = this.origin.multiplyBy(scale),\r\n        c = this.corner.multiplyBy(scale);\r\n    return new Rectangle(o.x, o.y, c.x, c.y);\r\n};\r\n\r\nRectangle.prototype.translateBy = function (factor) {\r\n    // factor can be either a Point or a scalar\r\n    var o = this.origin.add(factor),\r\n        c = this.corner.add(factor);\r\n    return new Rectangle(o.x, o.y, c.x, c.y);\r\n};\r\n\r\n// Rectangle converting:\r\n\r\nRectangle.prototype.asArray = function () {\r\n    return [this.left(), this.top(), this.right(), this.bottom()];\r\n};\r\n\r\nRectangle.prototype.asArray_xywh = function () {\r\n    return [this.left(), this.top(), this.width(), this.height()];\r\n};\r\n\r\n// Nodes ///////////////////////////////////////////////////////////////\r\n\r\n// Node instance creation:\r\n\r\nfunction Node(parent, childrenArray) {\r\n    this.init(parent || null, childrenArray || []);\r\n}\r\n\r\nNode.prototype.init = function (parent, childrenArray) {\r\n    this.parent = parent || null;\r\n    this.children = childrenArray || [];\r\n};\r\n\r\n// Node string representation: e.g. 'a Node[3]'\r\n\r\nNode.prototype.toString = function () {\r\n    return 'a Node' + '[' + this.children.length.toString() + ']';\r\n};\r\n\r\n// Node accessing:\r\n\r\nNode.prototype.addChild = function (aNode) {\r\n    this.children.push(aNode);\r\n    aNode.parent = this;\r\n};\r\n\r\nNode.prototype.addChildFirst = function (aNode) {\r\n    this.children.splice(0, null, aNode);\r\n    aNode.parent = this;\r\n};\r\n\r\nNode.prototype.removeChild = function (aNode) {\r\n    var idx = this.children.indexOf(aNode);\r\n    if (idx !== -1) {\r\n        this.children.splice(idx, 1);\r\n    }\r\n};\r\n\r\n// Node functions:\r\n\r\nNode.prototype.root = function () {\r\n    if (this.parent === null) {\r\n        return this;\r\n    }\r\n    return this.parent.root();\r\n};\r\n\r\nNode.prototype.depth = function () {\r\n    if (this.parent === null) {\r\n        return 0;\r\n    }\r\n    return this.parent.depth() + 1;\r\n};\r\n\r\nNode.prototype.allChildren = function () {\r\n    // includes myself\r\n    var result = [this];\r\n    this.children.forEach(function (child) {\r\n        result = result.concat(child.allChildren());\r\n    });\r\n    return result;\r\n};\r\n\r\nNode.prototype.forAllChildren = function (aFunction) {\r\n    if (this.children.length > 0) {\r\n        this.children.forEach(function (child) {\r\n            child.forAllChildren(aFunction);\r\n        });\r\n    }\r\n    aFunction.call(null, this);\r\n};\r\n\r\nNode.prototype.anyChild = function (aPredicate) {\r\n    // includes myself\r\n    var i;\r\n    if (aPredicate.call(null, this)) {\r\n        return true;\r\n    }\r\n    for (i = 0; i < this.children.length; i += 1) {\r\n        if (this.children[i].anyChild(aPredicate)) {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n};\r\n\r\nNode.prototype.allLeafs = function () {\r\n    var result = [];\r\n    this.allChildren().forEach(function (element) {\r\n        if (element.children.length === 0) {\r\n            result.push(element);\r\n        }\r\n    });\r\n    return result;\r\n};\r\n\r\nNode.prototype.allParents = function () {\r\n    // includes myself\r\n    var result = [this];\r\n    if (this.parent !== null) {\r\n        result = result.concat(this.parent.allParents());\r\n    }\r\n    return result;\r\n};\r\n\r\nNode.prototype.siblings = function () {\r\n    var myself = this;\r\n    if (this.parent === null) {\r\n        return [];\r\n    }\r\n    return this.parent.children.filter(function (child) {\r\n        return child !== myself;\r\n    });\r\n};\r\n\r\nNode.prototype.parentThatIsA = function (constructor) {\r\n    // including myself\r\n    if (this instanceof constructor) {\r\n        return this;\r\n    }\r\n    if (!this.parent) {\r\n        return null;\r\n    }\r\n    return this.parent.parentThatIsA(constructor);\r\n};\r\n\r\nNode.prototype.parentThatIsAnyOf = function (constructors) {\r\n    // including myself\r\n    var yup = false,\r\n        myself = this;\r\n    constructors.forEach(function (each) {\r\n        if (myself.constructor === each) {\r\n            yup = true;\r\n            return;\r\n        }\r\n    });\r\n    if (yup) {\r\n        return this;\r\n    }\r\n    if (!this.parent) {\r\n        return null;\r\n    }\r\n    return this.parent.parentThatIsAnyOf(constructors);\r\n};\r\n\r\n// Morphs //////////////////////////////////////////////////////////////\r\n\r\n// Morph: referenced constructors\r\n\r\nvar Morph;\r\nvar WorldMorph;\r\nvar HandMorph;\r\nvar ShadowMorph;\r\nvar FrameMorph;\r\nvar MenuMorph;\r\nvar HandleMorph;\r\nvar StringFieldMorph;\r\nvar ColorPickerMorph;\r\nvar SliderMorph;\r\nvar ScrollFrameMorph;\r\nvar InspectorMorph;\r\nvar StringMorph;\r\nvar TextMorph;\r\n\r\n// Morph inherits from Node:\r\n\r\nMorph.prototype = new Node();\r\nMorph.prototype.constructor = Morph;\r\nMorph.uber = Node.prototype;\r\n\r\n// Morph settings:\r\n\r\n/*\r\n    damage list housekeeping\r\n\r\n    the trackChanges property of the Morph prototype is a Boolean switch\r\n    that determines whether the World's damage list ('broken' rectangles)\r\n    tracks changes. By default the switch is always on. If set to false\r\n    changes are not stored. This can be very useful for housekeeping of\r\n    the damage list in situations where a large number of (sub-) morphs\r\n    are changed more or less at once. Instead of keeping track of every\r\n    single submorph's changes tremendous performance improvements can be\r\n    achieved by setting the trackChanges flag to false before propagating\r\n    the layout changes, setting it to true again and then storing the full\r\n    bounds of the surrounding morph. As an example refer to the\r\n\r\n        fixLayout()\r\n\r\n    method of InspectorMorph, or the\r\n\r\n        startLayout()\r\n        endLayout()\r\n\r\n    methods of SyntaxElementMorph in the Snap application.\r\n*/\r\n\r\nMorph.prototype.trackChanges = true;\r\nMorph.prototype.shadowBlur = 4;\r\n\r\n// Morph instance creation:\r\n\r\nfunction Morph() {\r\n    this.init();\r\n}\r\n\r\n// Morph initialization:\r\n\r\nMorph.prototype.init = function (noDraw) {\r\n    Morph.uber.init.call(this);\r\n    this.isMorph = true;\r\n    this.image = null;\r\n    this.bounds = new Rectangle(0, 0, 50, 40);\r\n    this.cachedFullImage = null;\r\n    this.cachedFullBounds = null;\r\n    this.color = new Color(80, 80, 80);\r\n    this.texture = null; // optional url of a fill-image\r\n    this.cachedTexture = null; // internal cache of actual bg image\r\n    this.alpha = 1;\r\n    this.isVisible = true;\r\n    this.isDraggable = false;\r\n    this.isTemplate = false;\r\n    this.acceptsDrops = false;\r\n    this.noticesTransparentClick = false;\r\n    if (!noDraw) {this.drawNew(); }\r\n    this.fps = 0;\r\n    this.customContextMenu = null;\r\n    this.lastTime = Date.now();\r\n    this.onNextStep = null; // optional function to be run once\r\n};\r\n\r\n// Morph string representation: e.g. 'a Morph 2 [20@45 | 130@250]'\r\n\r\nMorph.prototype.toString = function () {\r\n    return 'a ' +\r\n        (this.constructor.name ||\r\n            this.constructor.toString().split(' ')[1].split('(')[0]) +\r\n        ' ' +\r\n        this.children.length.toString() + ' ' +\r\n        this.bounds;\r\n};\r\n\r\n// Morph deleting:\r\n\r\nMorph.prototype.destroy = function () {\r\n    if (this.parent !== null) {\r\n        this.fullChanged();\r\n        this.parent.removeChild(this);\r\n    }\r\n};\r\n\r\n// Morph stepping:\r\n\r\nMorph.prototype.stepFrame = function () {\r\n    if (!this.step) {\r\n        return null;\r\n    }\r\n    var current, elapsed, leftover, nxt;\r\n    current = Date.now();\r\n    elapsed = current - this.lastTime;\r\n    if (this.fps > 0) {\r\n        leftover = (1000 / this.fps) - elapsed;\r\n    } else {\r\n        leftover = 0;\r\n    }\r\n    if (leftover < 1) {\r\n        this.lastTime = current;\r\n        if (this.onNextStep) {\r\n            nxt = this.onNextStep;\r\n            this.onNextStep = null;\r\n            nxt.call(this);\r\n        }\r\n        this.step();\r\n        this.children.forEach(function (child) {\r\n            child.stepFrame();\r\n        });\r\n    }\r\n};\r\n\r\nMorph.prototype.nextSteps = function (arrayOfFunctions) {\r\n    var lst = arrayOfFunctions || [],\r\n        nxt = lst.shift(),\r\n        myself = this;\r\n    if (nxt) {\r\n        this.onNextStep = function () {\r\n            nxt.call(myself);\r\n            myself.nextSteps(lst);\r\n        };\r\n    }\r\n};\r\n\r\nMorph.prototype.step = nop;\r\n\r\n// Morph accessing - geometry getting:\r\n\r\nMorph.prototype.left = function () {\r\n    return this.bounds.left();\r\n};\r\n\r\nMorph.prototype.right = function () {\r\n    return this.bounds.right();\r\n};\r\n\r\nMorph.prototype.top = function () {\r\n    return this.bounds.top();\r\n};\r\n\r\nMorph.prototype.bottom = function () {\r\n    return this.bounds.bottom();\r\n};\r\n\r\nMorph.prototype.center = function () {\r\n    return this.bounds.center();\r\n};\r\n\r\nMorph.prototype.bottomCenter = function () {\r\n    return this.bounds.bottomCenter();\r\n};\r\n\r\nMorph.prototype.bottomLeft = function () {\r\n    return this.bounds.bottomLeft();\r\n};\r\n\r\nMorph.prototype.bottomRight = function () {\r\n    return this.bounds.bottomRight();\r\n};\r\n\r\nMorph.prototype.boundingBox = function () {\r\n    return this.bounds;\r\n};\r\n\r\nMorph.prototype.corners = function () {\r\n    return this.bounds.corners();\r\n};\r\n\r\nMorph.prototype.leftCenter = function () {\r\n    return this.bounds.leftCenter();\r\n};\r\n\r\nMorph.prototype.rightCenter = function () {\r\n    return this.bounds.rightCenter();\r\n};\r\n\r\nMorph.prototype.topCenter = function () {\r\n    return this.bounds.topCenter();\r\n};\r\n\r\nMorph.prototype.topLeft = function () {\r\n    return this.bounds.topLeft();\r\n};\r\n\r\nMorph.prototype.topRight = function () {\r\n    return this.bounds.topRight();\r\n};\r\nMorph.prototype.position = function () {\r\n    return this.bounds.origin;\r\n};\r\n\r\nMorph.prototype.extent = function () {\r\n    return this.bounds.extent();\r\n};\r\n\r\nMorph.prototype.width = function () {\r\n    return this.bounds.width();\r\n};\r\n\r\nMorph.prototype.height = function () {\r\n    return this.bounds.height();\r\n};\r\n\r\nMorph.prototype.fullBounds = function () {\r\n    var result;\r\n    result = this.bounds;\r\n    this.children.forEach(function (child) {\r\n        if (child.isVisible) {\r\n            result = result.merge(child.fullBounds());\r\n        }\r\n    });\r\n    return result;\r\n};\r\n\r\nMorph.prototype.fullBoundsNoShadow = function () {\r\n    // answer my full bounds but ignore any shadow\r\n    var result;\r\n    result = this.bounds;\r\n    this.children.forEach(function (child) {\r\n        if (!(child instanceof ShadowMorph) && (child.isVisible)) {\r\n            result = result.merge(child.fullBounds());\r\n        }\r\n    });\r\n    return result;\r\n};\r\n\r\nMorph.prototype.visibleBounds = function () {\r\n    // answer which part of me is not clipped by a Frame\r\n    var visible = this.bounds,\r\n        frames = this.allParents().filter(function (p) {\r\n            return p instanceof FrameMorph;\r\n        });\r\n    frames.forEach(function (f) {\r\n        visible = visible.intersect(f.bounds);\r\n    });\r\n    return visible;\r\n};\r\n\r\n// Morph accessing - simple changes:\r\n\r\nMorph.prototype.moveBy = function (delta) {\r\n    this.fullChanged();\r\n    this.silentMoveBy(delta);\r\n    this.fullChanged();\r\n};\r\n\r\nMorph.prototype.silentMoveBy = function (delta) {\r\n    var children = this.children,\r\n        i = children.length;\r\n    this.bounds = this.bounds.translateBy(delta);\r\n    if (this.cachedFullBounds) {\r\n        this.cachedFullBounds = this.cachedFullBounds.translateBy(delta);\r\n    }\r\n    // ugly optimization avoiding forEach()\r\n    for (i; i > 0; i -= 1) {\r\n        children[i - 1].silentMoveBy(delta);\r\n    }\r\n};\r\n\r\nMorph.prototype.setPosition = function (aPoint) {\r\n    var delta = aPoint.subtract(this.topLeft());\r\n    if ((delta.x !== 0) || (delta.y !== 0)) {\r\n        this.moveBy(delta);\r\n    }\r\n};\r\n\r\nMorph.prototype.silentSetPosition = function (aPoint) {\r\n    var delta = aPoint.subtract(this.topLeft());\r\n    if ((delta.x !== 0) || (delta.y !== 0)) {\r\n        this.silentMoveBy(delta);\r\n    }\r\n};\r\n\r\nMorph.prototype.setLeft = function (x) {\r\n    this.setPosition(\r\n        new Point(\r\n            x,\r\n            this.top()\r\n        )\r\n    );\r\n};\r\n\r\nMorph.prototype.setRight = function (x) {\r\n    this.setPosition(\r\n        new Point(\r\n            x - this.width(),\r\n            this.top()\r\n        )\r\n    );\r\n};\r\n\r\nMorph.prototype.setTop = function (y) {\r\n    this.setPosition(\r\n        new Point(\r\n            this.left(),\r\n            y\r\n        )\r\n    );\r\n};\r\n\r\nMorph.prototype.setBottom = function (y) {\r\n    this.setPosition(\r\n        new Point(\r\n            this.left(),\r\n            y - this.height()\r\n        )\r\n    );\r\n};\r\n\r\nMorph.prototype.setCenter = function (aPoint) {\r\n    this.setPosition(\r\n        aPoint.subtract(\r\n            this.extent().floorDivideBy(2)\r\n        )\r\n    );\r\n};\r\n\r\nMorph.prototype.setFullCenter = function (aPoint) {\r\n    this.setPosition(\r\n        aPoint.subtract(\r\n            this.fullBounds().extent().floorDivideBy(2)\r\n        )\r\n    );\r\n};\r\n\r\nMorph.prototype.keepWithin = function (aMorph) {\r\n    // make sure I am completely within another Morph's bounds\r\n    var leftOff, rightOff, topOff, bottomOff;\r\n    leftOff = this.fullBounds().left() - aMorph.left();\r\n    if (leftOff < 0) {\r\n        this.moveBy(new Point(-leftOff, 0));\r\n    }\r\n    rightOff = this.fullBounds().right() - aMorph.right();\r\n    if (rightOff > 0) {\r\n        this.moveBy(new Point(-rightOff, 0));\r\n    }\r\n    topOff = this.fullBounds().top() - aMorph.top();\r\n    if (topOff < 0) {\r\n        this.moveBy(new Point(0, -topOff));\r\n    }\r\n    bottomOff = this.fullBounds().bottom() - aMorph.bottom();\r\n    if (bottomOff > 0) {\r\n        this.moveBy(new Point(0, -bottomOff));\r\n    }\r\n};\r\n\r\nMorph.prototype.scrollIntoView = function () {\r\n    var leftOff, rightOff, topOff, bottomOff,\r\n        sf = this.parentThatIsA(ScrollFrameMorph);\r\n    if (!sf) {return; }\r\n    rightOff = Math.min(\r\n        this.fullBounds().right() - sf.right(),\r\n        sf.contents.right() - sf.right()\r\n    );\r\n    if (rightOff > 0) {\r\n        sf.contents.moveBy(new Point(-rightOff, 0));\r\n    }\r\n    leftOff = this.fullBounds().left() - sf.left();\r\n    if (leftOff < 0) {\r\n        sf.contents.moveBy(new Point(-leftOff, 0));\r\n    }\r\n    topOff = this.fullBounds().top() - sf.top();\r\n    if (topOff < 0) {\r\n        sf.contents.moveBy(new Point(0, -topOff));\r\n    }\r\n    bottomOff = this.fullBounds().bottom() - sf.bottom();\r\n    if (bottomOff > 0) {\r\n        sf.contents.moveBy(new Point(0, -bottomOff));\r\n    }\r\n    sf.adjustScrollBars();\r\n};\r\n\r\n// Morph accessing - dimensional changes requiring a complete redraw\r\n\r\nMorph.prototype.setExtent = function (aPoint, silently) {\r\n    // silently avoids redrawing the receiver\r\n    if (silently) {\r\n        this.silentSetExtent(aPoint);\r\n        return;\r\n    }\r\n    if (!aPoint.eq(this.extent())) {\r\n        this.changed();\r\n        this.silentSetExtent(aPoint);\r\n        this.changed();\r\n        this.drawNew();\r\n    }\r\n};\r\n\r\nMorph.prototype.silentSetExtent = function (aPoint) {\r\n    var ext, newWidth, newHeight;\r\n    ext = aPoint.round();\r\n    newWidth = Math.max(ext.x, 0);\r\n    newHeight = Math.max(ext.y, 0);\r\n    this.bounds.corner = new Point(\r\n        this.bounds.origin.x + newWidth,\r\n        this.bounds.origin.y + newHeight\r\n    );\r\n};\r\n\r\nMorph.prototype.setWidth = function (width) {\r\n    this.setExtent(new Point(width || 0, this.height()));\r\n};\r\n\r\nMorph.prototype.silentSetWidth = function (width) {\r\n    // do not drawNew() just yet\r\n    var w = Math.max(Math.round(width || 0), 0);\r\n    this.bounds.corner = new Point(\r\n        this.bounds.origin.x + w,\r\n        this.bounds.corner.y\r\n    );\r\n};\r\n\r\nMorph.prototype.setHeight = function (height) {\r\n    this.setExtent(new Point(this.width(), height || 0));\r\n};\r\n\r\nMorph.prototype.silentSetHeight = function (height) {\r\n    // do not drawNew() just yet\r\n    var h = Math.max(Math.round(height || 0), 0);\r\n    this.bounds.corner = new Point(\r\n        this.bounds.corner.x,\r\n        this.bounds.origin.y + h\r\n    );\r\n};\r\n\r\nMorph.prototype.setColor = function (aColor) {\r\n    if (aColor) {\r\n        if (!this.color.eq(aColor)) {\r\n            this.color = aColor;\r\n            this.changed();\r\n            this.drawNew();\r\n        }\r\n    }\r\n};\r\n\r\n// Morph displaying:\r\n\r\nMorph.prototype.drawNew = function () {\r\n    // initialize my surface property\r\n    this.image = newCanvas(this.extent());\r\n    var context = this.image.getContext('2d');\r\n    context.fillStyle = this.color.toString();\r\n\r\n    /*\r\n        Chrome issue:\r\n\r\n            when filling a rectangular area, versions of Chrome beginning with\r\n            57.0.2987.133 start introducing vertical transparent stripes\r\n            to the right of the rectangle.\r\n            The following code replaces the original fillRect() call with\r\n            an explicit almost-rectangular path that miraculously  makes\r\n            sure the whole rectangle gets filled correctly.\r\n\r\n        Important: This needs to be monitored in the future so we can\r\n        revert to sane code once this Chrome issue has been resolved again.\r\n    */\r\n\r\n    // context.fillRect(0, 0, this.width(), this.height()); // taken out\r\n\r\n    context.beginPath();\r\n    context.moveTo(0, 0);\r\n    context.lineTo(this.image.width, 0);\r\n    context.lineTo(this.image.width, this.image.height);\r\n    context.lineTo(0, this.image.height + 0.0001); // yeah, I luv Chrome!\r\n    context.closePath();\r\n    context.fill();\r\n\r\n    if (this.cachedTexture) {\r\n        this.drawCachedTexture();\r\n    } else if (this.texture) {\r\n        this.drawTexture(this.texture);\r\n    }\r\n};\r\n\r\nMorph.prototype.drawTexture = function (url) {\r\n    var myself = this;\r\n    this.cachedTexture = new Image();\r\n    this.cachedTexture.onload = function () {\r\n        myself.drawCachedTexture();\r\n    };\r\n    this.cachedTexture.src = this.texture = url; // make absolute\r\n};\r\n\r\nMorph.prototype.drawCachedTexture = function () {\r\n    var bg = this.cachedTexture,\r\n        cols = Math.floor(this.image.width / bg.width),\r\n        lines = Math.floor(this.image.height / bg.height),\r\n        x,\r\n        y,\r\n        context = this.image.getContext('2d');\r\n\r\n    for (y = 0; y <= lines; y += 1) {\r\n        for (x = 0; x <= cols; x += 1) {\r\n            context.drawImage(bg, x * bg.width, y * bg.height);\r\n        }\r\n    }\r\n    this.changed();\r\n};\r\n\r\n/*\r\nMorph.prototype.drawCachedTexture = function () {\r\n    var context = this.image.getContext('2d'),\r\n        pattern = context.createPattern(this.cachedTexture, 'repeat');\r\n    context.fillStyle = pattern;\r\n    context.fillRect(0, 0, this.image.width, this.image.height);\r\n    this.changed();\r\n};\r\n*/\r\n\r\nMorph.prototype.drawOn = function (aCanvas, aRect) {\r\n    var rectangle, area, delta, src, context, w, h, sl, st,\r\n        pic = this.cachedFullImage || this.image,\r\n        bounds = this.cachedFullBounds || this.bounds;\r\n    if (!this.isVisible) {\r\n        return null;\r\n    }\r\n    rectangle = aRect || bounds;\r\n    area = rectangle.intersect(bounds);\r\n    if (area.extent().gt(new Point(0, 0))) {\r\n        delta = bounds.position().neg();\r\n        src = area.copy().translateBy(delta);\r\n        context = aCanvas.getContext('2d');\r\n        context.globalAlpha = this.alpha;\r\n\r\n        sl = src.left();\r\n        st = src.top();\r\n        w = Math.min(src.width(), pic.width - sl);\r\n        h = Math.min(src.height(), pic.height - st);\r\n\r\n        if (w < 1 || h < 1) {\r\n            return null;\r\n        }\r\n\r\n        context.drawImage(\r\n            pic,\r\n            sl,\r\n            st,\r\n            w,\r\n            h,\r\n            area.left(),\r\n            area.top(),\r\n            w,\r\n            h\r\n        );\r\n    }\r\n};\r\n\r\nMorph.prototype.fullDrawOn = function (aCanvas, aRect) {\r\n    var rectangle;\r\n    if (!this.isVisible) {\r\n        return null;\r\n    }\r\n    rectangle = aRect || this.cachedFullBounds || this.fullBounds();\r\n    this.drawOn(aCanvas, rectangle);\r\n    if (this.cachedFullImage) {return; }\r\n    this.children.forEach(function (child) {\r\n        child.fullDrawOn(aCanvas, rectangle);\r\n    });\r\n};\r\n\r\nMorph.prototype.hide = function () {\r\n    this.isVisible = false;\r\n    this.changed();\r\n    this.children.forEach(function (child) {\r\n        child.hide();\r\n    });\r\n};\r\n\r\nMorph.prototype.show = function () {\r\n    this.isVisible = true;\r\n    this.changed();\r\n    this.children.forEach(function (child) {\r\n        child.show();\r\n    });\r\n};\r\n\r\nMorph.prototype.toggleVisibility = function () {\r\n    this.isVisible = (!this.isVisible);\r\n    this.changed();\r\n    this.children.forEach(function (child) {\r\n        child.toggleVisibility();\r\n    });\r\n};\r\n\r\n// Morph full image:\r\n\r\nMorph.prototype.fullImageClassic = function () {\r\n    // use the cache since fullDrawOn() will\r\n    var fb = this.cachedFullBounds || this.fullBounds(),\r\n        img = newCanvas(fb.extent()),\r\n        ctx = img.getContext('2d');\r\n    ctx.translate(-fb.origin.x, -fb.origin.y);\r\n    this.fullDrawOn(img, fb);\r\n    img.globalAlpha = this.alpha;\r\n    return img;\r\n};\r\n\r\nMorph.prototype.fullImage = function () {\r\n    var img, ctx, fb;\r\n    img = newCanvas(this.fullBounds().extent());\r\n    ctx = img.getContext('2d');\r\n    fb = this.fullBounds();\r\n    this.allChildren().forEach(function (morph) {\r\n        if (morph.isVisible) {\r\n            ctx.globalAlpha = morph.alpha;\r\n            if (morph.image.width && morph.image.height) {\r\n                ctx.drawImage(\r\n                    morph.image,\r\n                    morph.bounds.origin.x - fb.origin.x,\r\n                    morph.bounds.origin.y - fb.origin.y\r\n                );\r\n            }\r\n        }\r\n    });\r\n    return img;\r\n};\r\n\r\n// Morph shadow:\r\n\r\nMorph.prototype.shadowImage = function (off, color) {\r\n    // fallback for Windows Chrome-Shadow bug\r\n    var fb, img, outline, sha, ctx,\r\n        offset = off || new Point(7, 7),\r\n        clr = color || new Color(0, 0, 0);\r\n    fb = this.fullBounds().extent();\r\n    img = this.fullImage();\r\n    outline = newCanvas(fb);\r\n    ctx = outline.getContext('2d');\r\n    ctx.drawImage(img, 0, 0);\r\n    ctx.globalCompositeOperation = 'destination-out';\r\n    ctx.drawImage(\r\n        img,\r\n        -offset.x,\r\n        -offset.y\r\n    );\r\n    sha = newCanvas(fb);\r\n    ctx = sha.getContext('2d');\r\n    ctx.drawImage(outline, 0, 0);\r\n    ctx.globalCompositeOperation = 'source-atop';\r\n    ctx.fillStyle = clr.toString();\r\n    ctx.fillRect(0, 0, fb.x, fb.y);\r\n    return sha;\r\n};\r\n\r\nMorph.prototype.shadowImageBlurred = function (off, color) {\r\n    var fb, img, sha, ctx,\r\n        offset = off || new Point(7, 7),\r\n        blur = this.shadowBlur,\r\n        clr = color || new Color(0, 0, 0);\r\n    fb = this.fullBounds().extent().add(blur * 2);\r\n    img = this.fullImage();\r\n    sha = newCanvas(fb);\r\n    ctx = sha.getContext('2d');\r\n    ctx.shadowOffsetX = offset.x;\r\n    ctx.shadowOffsetY = offset.y;\r\n    ctx.shadowBlur = blur;\r\n    ctx.shadowColor = clr.toString();\r\n    ctx.drawImage(\r\n        img,\r\n        blur - offset.x,\r\n        blur - offset.y\r\n    );\r\n    ctx.shadowOffsetX = 0;\r\n    ctx.shadowOffsetY = 0;\r\n    ctx.shadowBlur = 0;\r\n    ctx.globalCompositeOperation = 'destination-out';\r\n    ctx.drawImage(\r\n        img,\r\n        blur - offset.x,\r\n        blur - offset.y\r\n    );\r\n    return sha;\r\n};\r\n\r\nMorph.prototype.shadow = function (off, a, color) {\r\n    var shadow = new ShadowMorph(),\r\n        offset = off || new Point(7, 7),\r\n        alpha = a || ((a === 0) ? 0 : 0.2),\r\n        fb = this.fullBounds();\r\n    shadow.setExtent(fb.extent().add(this.shadowBlur * 2));\r\n    if (useBlurredShadows && !MorphicPreferences.isFlat) {\r\n        shadow.image = this.shadowImageBlurred(offset, color);\r\n        shadow.alpha = alpha;\r\n        shadow.setPosition(fb.origin.add(offset).subtract(this.shadowBlur));\r\n    } else {\r\n        shadow.image = this.shadowImage(offset, color);\r\n        shadow.alpha = alpha;\r\n        shadow.setPosition(fb.origin.add(offset));\r\n    }\r\n    return shadow;\r\n};\r\n\r\nMorph.prototype.addShadow = function (off, a, color) {\r\n    var shadow,\r\n        offset = off || new Point(7, 7),\r\n        alpha = a || ((a === 0) ? 0 : 0.2);\r\n    shadow = this.shadow(offset, alpha, color);\r\n    this.addBack(shadow);\r\n    this.fullChanged();\r\n    return shadow;\r\n};\r\n\r\nMorph.prototype.getShadow = function () {\r\n    var shadows;\r\n    shadows = this.children.slice(0).reverse().filter(\r\n        function (child) {\r\n            return child instanceof ShadowMorph;\r\n        }\r\n    );\r\n    if (shadows.length !== 0) {\r\n        return shadows[0];\r\n    }\r\n    return null;\r\n};\r\n\r\nMorph.prototype.removeShadow = function () {\r\n    var shadow = this.getShadow();\r\n    if (shadow !== null) {\r\n        this.fullChanged();\r\n        this.removeChild(shadow);\r\n    }\r\n};\r\n\r\n// Morph pen trails:\r\n\r\nMorph.prototype.penTrails = function () {\r\n    // answer my pen trails canvas. default is to answer my image\r\n    return this.image;\r\n};\r\n\r\nMorph.prototype.changed = function () {\r\n    if (this.trackChanges) {\r\n        var w = this.root();\r\n        if (w instanceof WorldMorph) {\r\n            w.broken.push(this.visibleBounds().spread());\r\n        }\r\n    }\r\n    if (this.parent) {\r\n        this.parent.childChanged(this);\r\n    }\r\n\r\n};\r\n\r\nMorph.prototype.fullChanged = function () {\r\n    if (this.trackChanges) {\r\n        var w = this.root();\r\n        if (w instanceof WorldMorph) {\r\n            w.broken.push(\r\n                (this.cachedFullBounds || this.fullBounds()).spread()\r\n            );\r\n           // Wiquid : pupil activity tracker here if needed  \r\n\r\n        }\r\n    }\r\n};\r\n\r\nMorph.prototype.childChanged = function () {\r\n    // react to a change in one of my children,\r\n    // default is to just pass this message on upwards\r\n    // override this method for Morphs that need to adjust accordingly\r\n    if (this.parent) {\r\n        this.parent.childChanged(this);\r\n\r\n    }\r\n};\r\n\r\n// Morph accessing - structure:\r\n\r\nMorph.prototype.world = function () {\r\n    var root = this.root();\r\n    if (root instanceof WorldMorph) {\r\n        return root;\r\n    }\r\n    if (root instanceof HandMorph) {\r\n        return root.world;\r\n    }\r\n    return null;\r\n};\r\n\r\nMorph.prototype.add = function (aMorph) {\r\n    var owner = aMorph.parent;\r\n    if (owner !== null) {\r\n        owner.removeChild(aMorph);\r\n    }\r\n    this.addChild(aMorph);\r\n\r\n};\r\n\r\nMorph.prototype.addBack = function (aMorph) {\r\n    var owner = aMorph.parent;\r\n    if (owner !== null) {\r\n        owner.removeChild(aMorph);\r\n    }\r\n    this.addChildFirst(aMorph);\r\n};\r\n\r\nMorph.prototype.topMorphAt = function (point) {\r\n    var i, result;\r\n    if (!this.isVisible) {return null; }\r\n    for (i = this.children.length - 1; i >= 0; i -= 1) {\r\n        result = this.children[i].topMorphAt(point);\r\n        if (result) {return result; }\r\n    }\r\n    return this.bounds.containsPoint(point) &&\r\n        (this.noticesTransparentClick || !this.isTransparentAt(point)) ? this\r\n              : null;\r\n};\r\n\r\nMorph.prototype.topMorphSuchThat = function (predicate) {\r\n    var next;\r\n    if (predicate.call(null, this)) {\r\n        next = detect(\r\n            this.children.slice(0).reverse(),\r\n            predicate\r\n        );\r\n        if (next) {\r\n            return next.topMorphSuchThat(predicate);\r\n        }\r\n        return this;\r\n    }\r\n    return null;\r\n};\r\n\r\nMorph.prototype.overlappedMorphs = function () {\r\n    //exclude the World\r\n    var world = this.world(),\r\n        fb = this.fullBounds(),\r\n        myself = this,\r\n        allParents = this.allParents(),\r\n        allChildren = this.allChildren(),\r\n        morphs;\r\n\r\n    morphs = world.allChildren();\r\n    return morphs.filter(function (m) {\r\n        return m.isVisible &&\r\n            m !== myself &&\r\n            m !== world &&\r\n            !contains(allParents, m) &&\r\n            !contains(allChildren, m) &&\r\n            m.fullBounds().intersects(fb);\r\n    });\r\n};\r\n\r\n// Morph pixel access:\r\n\r\nMorph.prototype.getPixelColor = function (aPoint) {\r\n    var point, context, data;\r\n    point = aPoint.subtract(this.bounds.origin);\r\n    context = this.image.getContext('2d');\r\n    data = context.getImageData(point.x, point.y, 1, 1);\r\n    return new Color(\r\n        data.data[0],\r\n        data.data[1],\r\n        data.data[2],\r\n        data.data[3] / 255\r\n    );\r\n};\r\n\r\nMorph.prototype.isTransparentAt = function (aPoint) {\r\n    var point, context, data;\r\n    if (this.bounds.containsPoint(aPoint)) {\r\n        if (this.texture) {\r\n            return false;\r\n        }\r\n        point = aPoint.subtract(this.bounds.origin);\r\n        context = this.image.getContext('2d');\r\n        data = context.getImageData(\r\n            Math.floor(point.x),\r\n            Math.floor(point.y),\r\n            1,\r\n            1\r\n        );\r\n        return data.data[3] === 0;\r\n    }\r\n    return false;\r\n};\r\n\r\n// Morph duplicating:\r\n\r\nMorph.prototype.copy = function () {\r\n    var c = copy(this);\r\n    c.parent = null;\r\n    c.children = [];\r\n    c.bounds = this.bounds.copy();\r\n    return c;\r\n};\r\n\r\nMorph.prototype.fullCopy = function () {\r\n    /*\r\n    Produce a copy of me with my entire tree of submorphs. Morphs\r\n    mentioned more than once are all directed to a single new copy.\r\n    Other properties are also *shallow* copied, so you must override\r\n    to deep copy Arrays and (complex) Objects\r\n    */\r\n    var map = new Map(), c;\r\n    c = this.copyRecordingReferences(map);\r\n    c.forAllChildren(function (m) {\r\n        m.updateReferences(map);\r\n    });\r\n    return c;\r\n};\r\n\r\nMorph.prototype.copyRecordingReferences = function (map) {\r\n    /*\r\n    Recursively copy this entire composite morph, recording the\r\n    correspondence between old and new morphs in the given dictionary.\r\n    This dictionary will be used to update intra-composite references\r\n    in the copy. See updateReferences().\r\n\r\n    Note: This default implementation copies ONLY morphs. If a morph\r\n    stores morphs in other properties that it wants to copy, then it\r\n    should override this method to do so. The same goes for morphs that\r\n    contain other complex data that should be copied when the morph is\r\n    duplicated.\r\n    */\r\n    var c = this.copy();\r\n    map.set(this, c);\r\n    this.children.forEach(function (m) {\r\n        c.add(m.copyRecordingReferences(map));\r\n    });\r\n    return c;\r\n};\r\n\r\nMorph.prototype.updateReferences = function (map) {\r\n    /*\r\n    Update intra-morph references within a composite morph that has\r\n    been copied. For example, if a button refers to morph X in the\r\n    orginal composite then the copy of that button in the new composite\r\n    should refer to the copy of X in new composite, not the original X.\r\n    */\r\n    var properties = Object.keys(this),\r\n        l = properties.length,\r\n        property,\r\n        value,\r\n        reference,\r\n        i;\r\n    for (i = 0; i < l; i += 1) {\r\n        property = properties[i];\r\n        value = this[property];\r\n        if (value && value.isMorph) {\r\n            reference = map.get(value);\r\n            if (reference) { this[property] = reference; }\r\n        }\r\n    }\r\n};\r\n\r\n// Morph dragging and dropping:\r\n\r\nMorph.prototype.rootForGrab = function () {\r\n    if (this instanceof ShadowMorph) {\r\n        return this.parent.rootForGrab();\r\n    }\r\n    if (this.parent instanceof ScrollFrameMorph) {\r\n        return this.parent;\r\n    }\r\n    if (this.parent === null ||\r\n            this.parent instanceof WorldMorph ||\r\n            this.parent instanceof FrameMorph ||\r\n            this.isDraggable === true) {\r\n        return this;\r\n    }\r\n    return this.parent.rootForGrab();\r\n};\r\n\r\nMorph.prototype.isCorrectingOutsideDrag = function () {\r\n    // make sure I don't \"trail behind\" the hand when dragged\r\n    // override for morphs that you want to be dragged outside\r\n    // their full bounds\r\n    return true;\r\n};\r\n\r\nMorph.prototype.wantsDropOf = function (aMorph) {\r\n    // default is to answer the general flag - change for my heirs\r\n    if ((aMorph instanceof HandleMorph) ||\r\n            (aMorph instanceof MenuMorph) ||\r\n            (aMorph instanceof InspectorMorph)) {\r\n        return false;\r\n    }\r\n    return this.acceptsDrops;\r\n};\r\n\r\nMorph.prototype.pickUp = function (wrrld) {\r\n    var world = wrrld || this.world();\r\n    this.setPosition(\r\n        world.hand.position().subtract(\r\n            this.extent().floorDivideBy(2)\r\n        )\r\n    );\r\n    world.hand.grab(this);\r\n};\r\n\r\nMorph.prototype.isPickedUp = function () {\r\n    return this.parentThatIsA(HandMorph) !== null;\r\n};\r\n\r\nMorph.prototype.situation = function () {\r\n    // answer a dictionary specifying where I am right now, so\r\n    // I can slide back to it if I'm dropped somewhere else\r\n    if (this.parent) {\r\n        return {\r\n            origin: this.parent,\r\n            position: this.position().subtract(this.parent.position())\r\n        };\r\n    }\r\n    return null;\r\n};\r\n\r\nMorph.prototype.slideBackTo = function (\r\n    situation,\r\n    msecs,\r\n    onBeforeDrop,\r\n    onComplete\r\n) {\r\n    var pos = situation.origin.position().add(situation.position),\r\n        myself = this;\r\n    this.glideTo(\r\n        pos,\r\n        msecs,\r\n        null, // easing\r\n        function () {\r\n            situation.origin.add(myself);\r\n            if (onBeforeDrop) {onBeforeDrop(); }\r\n            if (myself.justDropped) {myself.justDropped(); }\r\n            if (situation.origin.reactToDropOf) {\r\n                situation.origin.reactToDropOf(myself);\r\n            }\r\n            if (onComplete) {onComplete(); }\r\n        }\r\n    );\r\n};\r\n\r\n// Morph animating:\r\n\r\nMorph.prototype.glideTo = function (endPoint, msecs, easing, onComplete) {\r\n    var world = this.world(),\r\n        myself = this;\r\n    world.animations.push(new Animation(\r\n        function (x) {myself.setLeft(x); },\r\n        function () {return myself.left(); },\r\n        -(this.left() - endPoint.x),\r\n        msecs || 100,\r\n        easing,\r\n        onComplete\r\n    ));\r\n    world.animations.push(new Animation(\r\n        function (y) {myself.setTop(y); },\r\n        function () {return myself.top(); },\r\n        -(this.top() - endPoint.y),\r\n        msecs || 100,\r\n        easing\r\n    ));\r\n};\r\n\r\nMorph.prototype.fadeTo = function (endAlpha, msecs, easing, onComplete) {\r\n    // include all my children, restore all original transparencies\r\n    // on completion, so I can be recovered\r\n    var world = this.world(),\r\n        myself = this,\r\n        oldAlpha = this.alpha;\r\n    this.children.forEach(function (child) {\r\n        child.fadeTo(endAlpha, msecs, easing);\r\n    });\r\n    world.animations.push(new Animation(\r\n        function (n) {\r\n            myself.alpha = n;\r\n            myself.changed();\r\n        },\r\n        function () {return myself.alpha; },\r\n        endAlpha - this.alpha,\r\n        msecs || 200,\r\n        easing,\r\n        function () {\r\n            myself.alpha = oldAlpha;\r\n            if (onComplete) {onComplete(); }\r\n        }\r\n    ));\r\n};\r\n\r\nMorph.prototype.perish = function (msecs, onComplete) {\r\n    var myself = this;\r\n    this.fadeTo(\r\n        0,\r\n        msecs || 100,\r\n        null,\r\n        function () {\r\n            myself.destroy();\r\n            if (onComplete) {onComplete(); }\r\n        }\r\n    );\r\n};\r\n\r\n// Morph utilities:\r\n\r\nMorph.prototype.nop = nop;\r\n\r\nMorph.prototype.resize = function () {\r\n    this.world().activeHandle = new HandleMorph(this);\r\n};\r\n\r\nMorph.prototype.move = function () {\r\n    this.world().activeHandle = new HandleMorph(\r\n        this,\r\n        null,\r\n        null,\r\n        null,\r\n        null,\r\n        'move'\r\n    );\r\n};\r\n\r\nMorph.prototype.moveCenter = function () {\r\n    this.world().activeHandle = new HandleMorph(\r\n        this,\r\n        null,\r\n        null,\r\n        null,\r\n        null,\r\n        'moveCenter'\r\n    );\r\n};\r\n\r\nMorph.prototype.hint = function (msg) {\r\n    var m, text;\r\n    text = msg;\r\n    if (msg) {\r\n        if (msg.toString) {\r\n            text = msg.toString();\r\n        }\r\n    } else {\r\n        text = 'NULL';\r\n    }\r\n    m = new MenuMorph(this, text);\r\n    m.isDraggable = true;\r\n    m.popUpCenteredAtHand(this.world());\r\n};\r\n\r\nMorph.prototype.inform = function (msg) {\r\n    var m, text;\r\n    text = msg;\r\n    if (msg) {\r\n        if (msg.toString) {\r\n            text = msg.toString();\r\n        }\r\n    } else {\r\n        text = 'NULL';\r\n    }\r\n    m = new MenuMorph(this, text);\r\n    m.addItem(\"Ok\");\r\n    m.isDraggable = true;\r\n    m.popUpCenteredAtHand(this.world());\r\n};\r\n\r\nMorph.prototype.prompt = function (\r\n    msg,\r\n    callback,\r\n    environment,\r\n    defaultContents,\r\n    width,\r\n    floorNum,\r\n    ceilingNum,\r\n    isRounded\r\n) {\r\n    var menu, entryField, slider, isNumeric;\r\n    if (ceilingNum) {\r\n        isNumeric = true;\r\n    }\r\n    menu = new MenuMorph(\r\n        callback || null,\r\n        msg || '',\r\n        environment || null\r\n    );\r\n    entryField = new StringFieldMorph(\r\n        defaultContents || '',\r\n        width || 100,\r\n        MorphicPreferences.prompterFontSize,\r\n        MorphicPreferences.prompterFontName,\r\n        false,\r\n        false,\r\n        isNumeric\r\n    );\r\n    menu.items.push(entryField);\r\n    if (ceilingNum || MorphicPreferences.useSliderForInput) {\r\n        slider = new SliderMorph(\r\n            floorNum || 0,\r\n            ceilingNum,\r\n            parseFloat(defaultContents),\r\n            Math.floor((ceilingNum - floorNum) / 4),\r\n            'horizontal'\r\n        );\r\n        slider.alpha = 1;\r\n        slider.color = new Color(225, 225, 225);\r\n        slider.button.color = menu.borderColor;\r\n        slider.button.highlightColor = slider.button.color.copy();\r\n        slider.button.highlightColor.b += 100;\r\n        slider.button.pressColor = slider.button.color.copy();\r\n        slider.button.pressColor.b += 150;\r\n        slider.setHeight(MorphicPreferences.prompterSliderSize);\r\n        if (isRounded) {\r\n            slider.action = function (num) {\r\n                entryField.changed();\r\n                entryField.text.text = Math.round(num).toString();\r\n                entryField.text.drawNew();\r\n                entryField.text.changed();\r\n                entryField.text.edit();\r\n            };\r\n        } else {\r\n            slider.action = function (num) {\r\n                entryField.changed();\r\n                entryField.text.text = num.toString();\r\n                entryField.text.drawNew();\r\n                entryField.text.changed();\r\n            };\r\n        }\r\n        menu.items.push(slider);\r\n    }\r\n\r\n    menu.addLine(2);\r\n    menu.addItem('Ok', function () {\r\n        return entryField.string();\r\n    });\r\n    menu.addItem('Cancel', function () {\r\n        return null;\r\n    });\r\n    menu.isDraggable = true;\r\n    menu.popUpAtHand(this.world());\r\n    entryField.text.edit();\r\n};\r\n\r\nMorph.prototype.pickColor = function (\r\n    msg,\r\n    callback,\r\n    environment,\r\n    defaultContents\r\n) {\r\n    var menu, colorPicker;\r\n    menu = new MenuMorph(\r\n        callback || null,\r\n        msg || '',\r\n        environment || null\r\n    );\r\n    colorPicker = new ColorPickerMorph(defaultContents);\r\n    menu.items.push(colorPicker);\r\n    menu.addLine(2);\r\n    menu.addItem('Ok', function () {\r\n        return colorPicker.getChoice();\r\n    });\r\n    menu.addItem('Cancel', function () {\r\n        return null;\r\n    });\r\n    menu.isDraggable = true;\r\n    menu.popUpAtHand(this.world());\r\n};\r\n\r\nMorph.prototype.inspect = function (anotherObject) {\r\n    var world = this.world instanceof Function ?\r\n            this.world() : this.root() || this.world,\r\n        inspector,\r\n        inspectee = this;\r\n\r\n    if (anotherObject) {\r\n        inspectee = anotherObject;\r\n    }\r\n    inspector = new InspectorMorph(inspectee);\r\n    inspector.setPosition(world.hand.position());\r\n    inspector.keepWithin(world);\r\n    world.add(inspector);\r\n    inspector.changed();\r\n};\r\n\r\n// Morph menus:\r\n\r\nMorph.prototype.contextMenu = function () {\r\n    var world;\r\n\r\n    if (this.customContextMenu) {\r\n        return this.customContextMenu;\r\n    }\r\n    world = this.world instanceof Function ? this.world() : this.world;\r\n    if (world && world.isDevMode) {\r\n        if (this.parent === world) {\r\n            return this.developersMenu();\r\n        }\r\n        return this.hierarchyMenu();\r\n    }\r\n    return this.userMenu() ||\r\n        (this.parent && this.parent.userMenu());\r\n};\r\n\r\nMorph.prototype.hierarchyMenu = function () {\r\n    var parents = this.allParents(),\r\n        world = this.world instanceof Function ? this.world() : this.world,\r\n        menu = new MenuMorph(this, null);\r\n\r\n    parents.forEach(function (each) {\r\n        if (each.developersMenu && (each !== world)) {\r\n            menu.addMenu(\r\n                each.toString().slice(0, 50),\r\n                each.developersMenu()\r\n            );\r\n        /*\r\n            menu.addItem(each.toString().slice(0, 50), function () {\r\n                each.developersMenu().popUpAtHand(world);\r\n            });\r\n        */\r\n        }\r\n    });\r\n    return menu;\r\n};\r\n\r\nMorph.prototype.developersMenu = function () {\r\n    // 'name' is not an official property of a function, hence:\r\n    var world = this.world instanceof Function ? this.world() : this.world,\r\n        userMenu = this.userMenu() ||\r\n            (this.parent && this.parent.userMenu()),\r\n        menu = new MenuMorph(this, this.constructor.name ||\r\n            this.constructor.toString().split(' ')[1].split('(')[0]);\r\n    if (userMenu) {\r\n        menu.addMenu('user features', userMenu);\r\n        menu.addLine();\r\n    }\r\n    menu.addItem(\r\n        \"color...\",\r\n        function () {\r\n            this.pickColor(\r\n                menu.title + localize('\\ncolor:'),\r\n                this.setColor,\r\n                this,\r\n                this.color\r\n            );\r\n        },\r\n        'choose another color \\nfor this morph'\r\n    );\r\n    menu.addItem(\r\n        \"transparency...\",\r\n        function () {\r\n            this.prompt(\r\n                menu.title + localize('\\nalpha\\nvalue:'),\r\n                this.setAlphaScaled,\r\n                this,\r\n                (this.alpha * 100).toString(),\r\n                null,\r\n                1,\r\n                100,\r\n                true\r\n            );\r\n        },\r\n        'set this morph\\'s\\nalpha value'\r\n    );\r\n    menu.addItem(\r\n        \"resize...\",\r\n        'resize',\r\n        'show a handle\\nwhich can be dragged\\nto change this morph\\'s' +\r\n            ' extent'\r\n    );\r\n    menu.addLine();\r\n    menu.addItem(\r\n        \"duplicate\",\r\n        function () {\r\n            this.fullCopy().pickUp(this.world());\r\n        },\r\n        'make a copy\\nand pick it up'\r\n    );\r\n    menu.addItem(\r\n        \"pick up\",\r\n        'pickUp',\r\n        'detach and put \\ninto the hand'\r\n    );\r\n    menu.addItem(\r\n        \"attach...\",\r\n        'attach',\r\n        'stick this morph\\nto another one'\r\n    );\r\n    menu.addItem(\r\n        \"move...\",\r\n        'move',\r\n        'show a handle\\nwhich can be dragged\\nto move this morph'\r\n    );\r\n    menu.addItem(\r\n        \"inspect...\",\r\n        'inspect',\r\n        'open a window\\non all properties'\r\n    );\r\n    menu.addItem(\r\n        \"pic...\",\r\n        function () {\r\n            window.open(this.fullImageClassic().toDataURL());\r\n        },\r\n        'open a new window\\nwith a picture of this morph'\r\n    );\r\n    menu.addLine();\r\n    if (this.isDraggable) {\r\n        menu.addItem(\r\n            \"lock\",\r\n            'toggleIsDraggable',\r\n            'make this morph\\nunmovable'\r\n        );\r\n    } else {\r\n        menu.addItem(\r\n            \"unlock\",\r\n            'toggleIsDraggable',\r\n            'make this morph\\nmovable'\r\n        );\r\n    }\r\n    menu.addItem(\"hide\", 'hide');\r\n    menu.addItem(\"delete\", 'destroy');\r\n    if (!(this instanceof WorldMorph)) {\r\n        menu.addLine();\r\n        menu.addItem(\r\n            \"World...\",\r\n            function () {\r\n                world.contextMenu().popUpAtHand(world);\r\n            },\r\n            'show the\\nWorld\\'s menu'\r\n        );\r\n    }\r\n    return menu;\r\n};\r\n\r\nMorph.prototype.userMenu = function () {\r\n    return null;\r\n};\r\n\r\n// Morph menu actions\r\n\r\nMorph.prototype.setAlphaScaled = function (alpha) {\r\n    // for context menu demo purposes\r\n    var newAlpha, unscaled;\r\n    if (typeof alpha === 'number') {\r\n        unscaled = alpha / 100;\r\n        this.alpha = Math.min(Math.max(unscaled, 0.1), 1);\r\n    } else {\r\n        newAlpha = parseFloat(alpha);\r\n        if (!isNaN(newAlpha)) {\r\n            unscaled = newAlpha / 100;\r\n            this.alpha = Math.min(Math.max(unscaled, 0.1), 1);\r\n        }\r\n    }\r\n    this.changed();\r\n};\r\n\r\nMorph.prototype.attach = function () {\r\n    var choices = this.overlappedMorphs(),\r\n        menu = new MenuMorph(this, 'choose new parent:'),\r\n        myself = this;\r\n\r\n    choices.forEach(function (each) {\r\n        menu.addItem(each.toString().slice(0, 50), function () {\r\n            each.add(myself);\r\n            myself.isDraggable = false;\r\n        });\r\n    });\r\n    if (choices.length > 0) {\r\n        menu.popUpAtHand(this.world());\r\n    }\r\n};\r\n\r\nMorph.prototype.toggleIsDraggable = function () {\r\n    // for context menu demo purposes\r\n    this.isDraggable = !this.isDraggable;\r\n};\r\n\r\nMorph.prototype.colorSetters = function () {\r\n    // for context menu demo purposes\r\n    return ['color'];\r\n};\r\n\r\nMorph.prototype.numericalSetters = function () {\r\n    // for context menu demo purposes\r\n    return [\r\n        'setLeft',\r\n        'setTop',\r\n        'setWidth',\r\n        'setHeight',\r\n        'setAlphaScaled'\r\n    ];\r\n};\r\n\r\n// Morph entry field tabbing:\r\n\r\nMorph.prototype.allEntryFields = function () {\r\n    return this.allChildren().filter(function (each) {\r\n        return each.isEditable &&\r\n            (each instanceof StringMorph ||\r\n                each instanceof TextMorph);\r\n    });\r\n};\r\n\r\nMorph.prototype.nextEntryField = function (current) {\r\n    var fields = this.allEntryFields(),\r\n        idx = fields.indexOf(current);\r\n    if (idx !== -1) {\r\n        if (fields.length > idx + 1) {\r\n            return fields[idx + 1];\r\n        }\r\n    }\r\n    return fields[0];\r\n};\r\n\r\nMorph.prototype.previousEntryField = function (current) {\r\n    var fields = this.allEntryFields(),\r\n        idx = fields.indexOf(current);\r\n    if (idx !== -1) {\r\n        if (idx > 0) {\r\n            return fields[idx - 1];\r\n        }\r\n        return fields[fields.length - 1];\r\n    }\r\n    return fields[0];\r\n};\r\n\r\nMorph.prototype.tab = function (editField) {\r\n/*\r\n    the <tab> key was pressed in one of my edit fields.\r\n    invoke my \"nextTab()\" function if it exists, else\r\n    propagate it up my owner chain.\r\n*/\r\n    if (this.nextTab) {\r\n        this.nextTab(editField);\r\n    } else if (this.parent) {\r\n        this.parent.tab(editField);\r\n    }\r\n};\r\n\r\nMorph.prototype.backTab = function (editField) {\r\n/*\r\n    the <back tab> key was pressed in one of my edit fields.\r\n    invoke my \"previousTab()\" function if it exists, else\r\n    propagate it up my owner chain.\r\n*/\r\n    if (this.previousTab) {\r\n        this.previousTab(editField);\r\n    } else if (this.parent) {\r\n        this.parent.backTab(editField);\r\n    }\r\n};\r\n\r\n/*\r\n    the following are examples of what the navigation methods should\r\n    look like. Insert these at the World level for fallback, and at lower\r\n    levels in the Morphic tree (e.g. dialog boxes) for a more fine-grained\r\n    control over the tabbing cycle.\r\n\r\nMorph.prototype.nextTab = function (editField) {\r\n    var next = this.nextEntryField(editField);\r\n    editField.clearSelection();\r\n    next.selectAll();\r\n    next.edit();\r\n};\r\n\r\nMorph.prototype.previousTab = function (editField) {\r\n    var prev = this.previousEntryField(editField);\r\n    editField.clearSelection();\r\n    prev.selectAll();\r\n    prev.edit();\r\n};\r\n\r\n*/\r\n\r\n// Morph events:\r\n\r\nMorph.prototype.escalateEvent = function (functionName, arg) {\r\n    var handler = this.parent;\r\n    while (!handler[functionName] && handler.parent !== null) {\r\n        handler = handler.parent;\r\n    }\r\n    if (handler[functionName]) {\r\n        handler[functionName](arg);\r\n    }\r\n};\r\n\r\n// Morph eval:\r\n\r\nMorph.prototype.evaluateString = function (code) {\r\n    var result;\r\n\r\n    try {\r\n        result = eval(code);\r\n        this.drawNew();\r\n        this.changed();\r\n    } catch (err) {\r\n        this.inform(err);\r\n    }\r\n    return result;\r\n};\r\n\r\n// Morph collision detection:\r\n\r\nMorph.prototype.isTouching = function (otherMorph) {\r\n    var oImg = this.overlappingImage(otherMorph),\r\n        data;\r\n    if (!oImg.width || !oImg.height) {\r\n        return false;\r\n    }\r\n    data = oImg.getContext('2d')\r\n        .getImageData(1, 1, oImg.width, oImg.height)\r\n        .data;\r\n    return detect(\r\n        data,\r\n        function (each) {\r\n            return each !== 0;\r\n        }\r\n    ) !== null;\r\n};\r\n\r\nMorph.prototype.overlappingImage = function (otherMorph) {\r\n    var fb = this.fullBounds(),\r\n        otherFb = otherMorph.fullBounds(),\r\n        oRect = fb.intersect(otherFb),\r\n        oImg = newCanvas(oRect.extent()),\r\n        ctx = oImg.getContext('2d');\r\n    if (oRect.width() < 1 || oRect.height() < 1) {\r\n        return newCanvas(new Point(1, 1));\r\n    }\r\n    ctx.drawImage(\r\n        this.fullImage(),\r\n        oRect.origin.x - fb.origin.x,\r\n        oRect.origin.y - fb.origin.y\r\n    );\r\n    ctx.globalCompositeOperation = 'source-in';\r\n    ctx.drawImage(\r\n        otherMorph.fullImage(),\r\n        otherFb.origin.x - oRect.origin.x,\r\n        otherFb.origin.y - oRect.origin.y\r\n    );\r\n    return oImg;\r\n};\r\n\r\n// ShadowMorph /////////////////////////////////////////////////////////\r\n\r\n// ShadowMorph inherits from Morph:\r\n\r\nShadowMorph.prototype = new Morph();\r\nShadowMorph.prototype.constructor = ShadowMorph;\r\nShadowMorph.uber = Morph.prototype;\r\n\r\n// ShadowMorph instance creation:\r\n\r\nfunction ShadowMorph() {\r\n    this.init();\r\n}\r\n\r\nShadowMorph.prototype.topMorphAt = function () {\r\n    return null;\r\n};\r\n\r\n// HandleMorph ////////////////////////////////////////////////////////\r\n\r\n// I am a resize / move handle that can be attached to any Morph\r\n\r\n// HandleMorph inherits from Morph:\r\n\r\nHandleMorph.prototype = new Morph();\r\nHandleMorph.prototype.constructor = HandleMorph;\r\nHandleMorph.uber = Morph.prototype;\r\n\r\n// HandleMorph instance creation:\r\n\r\nfunction HandleMorph(target, minX, minY, insetX, insetY, type) {\r\n    // if insetY is missing, it will be the same as insetX\r\n    this.init(target, minX, minY, insetX, insetY, type);\r\n}\r\n\r\nHandleMorph.prototype.init = function (\r\n    target,\r\n    minX,\r\n    minY,\r\n    insetX,\r\n    insetY,\r\n    type\r\n) {\r\n    var size = MorphicPreferences.handleSize;\r\n    this.target = target || null;\r\n    this.minExtent = new Point(minX || 0, minY || 0);\r\n    this.inset = new Point(insetX || 0, insetY || insetX || 0);\r\n    this.type =  type || 'resize'; // also: 'move', 'moveCenter', 'movePivot'\r\n    HandleMorph.uber.init.call(this);\r\n    this.color = new Color(255, 255, 255);\r\n    this.isDraggable = false;\r\n    this.noticesTransparentClick = true;\r\n    if (this.type === 'movePivot') {\r\n        size *= 2;\r\n    }\r\n    this.setExtent(new Point(size, size));\r\n};\r\n\r\n// HandleMorph drawing:\r\n\r\nHandleMorph.prototype.drawNew = function () {\r\n    this.normalImage = newCanvas(this.extent());\r\n    this.highlightImage = newCanvas(this.extent());\r\n    if (this.type === 'movePivot') {\r\n        this.drawCrosshairsOnCanvas(this.normalImage, 0.6);\r\n        this.drawCrosshairsOnCanvas(this.highlightImage, 0.5);\r\n    } else {\r\n        this.drawOnCanvas(\r\n            this.normalImage,\r\n            this.color,\r\n            new Color(100, 100, 100)\r\n        );\r\n        this.drawOnCanvas(\r\n            this.highlightImage,\r\n            new Color(100, 100, 255),\r\n            new Color(255, 255, 255)\r\n        );\r\n    }\r\n    this.image = this.normalImage;\r\n    if (this.target) {\r\n        if (this.type === 'moveCenter') {\r\n            this.setCenter(this.target.center());\r\n        } else if (this.type === 'movePivot') {\r\n            this.setCenter(this.target.rotationCenter());\r\n        } else { // 'resize', 'move'\r\n            this.setPosition(\r\n                this.target.bottomRight().subtract(\r\n                    this.extent().add(this.inset)\r\n                )\r\n            );\r\n        }\r\n        this.target.add(this);\r\n        this.target.changed();\r\n    }\r\n};\r\n\r\nHandleMorph.prototype.drawCrosshairsOnCanvas = function (aCanvas, fract) {\r\n    var ctx = aCanvas.getContext('2d'),\r\n        r = aCanvas.width / 2;\r\n    ctx.fillStyle = 'rgba(255, 255, 255, 0.5)';\r\n    ctx.arc(r, r, r * 0.9, radians(0), radians(360), false);\r\n    ctx.fill();\r\n    ctx.strokeStyle = 'black';\r\n    ctx.lineWidth = 1;\r\n    ctx.beginPath();\r\n    ctx.arc(r, r, r * fract, radians(0), radians(360), false);\r\n    ctx.stroke();\r\n    ctx.moveTo(0, r);\r\n    ctx.lineTo(aCanvas.width, r);\r\n    ctx.stroke();\r\n    ctx.moveTo(r, 0);\r\n    ctx.lineTo(r, aCanvas.height);\r\n    ctx.stroke();\r\n};\r\n\r\nHandleMorph.prototype.drawOnCanvas = function (\r\n    aCanvas,\r\n    color,\r\n    shadowColor\r\n) {\r\n    var context = aCanvas.getContext('2d'),\r\n        isSquare = (this.type.indexOf('move') === 0),\r\n        p1,\r\n        p11,\r\n        p2,\r\n        p22,\r\n        i;\r\n\r\n    context.lineWidth = 1;\r\n    context.lineCap = 'round';\r\n\r\n    context.strokeStyle = color.toString();\r\n\r\n    if (isSquare) {\r\n\r\n        p1 = this.bottomLeft().subtract(this.position());\r\n        p11 = p1.copy();\r\n        p2 = this.topRight().subtract(this.position());\r\n        p22 = p2.copy();\r\n\r\n        for (i = 0; i <= this.height(); i = i + 6) {\r\n            p11.y = p1.y - i;\r\n            p22.y = p2.y - i;\r\n\r\n            context.beginPath();\r\n            context.moveTo(p11.x, p11.y);\r\n            context.lineTo(p22.x, p22.y);\r\n            context.closePath();\r\n            context.stroke();\r\n        }\r\n    }\r\n\r\n    p1 = this.bottomLeft().subtract(this.position());\r\n    p11 = p1.copy();\r\n    p2 = this.topRight().subtract(this.position());\r\n    p22 = p2.copy();\r\n\r\n    for (i = 0; i <= this.width(); i = i + 6) {\r\n        p11.x = p1.x + i;\r\n        p22.x = p2.x + i;\r\n\r\n        context.beginPath();\r\n        context.moveTo(p11.x, p11.y);\r\n        context.lineTo(p22.x, p22.y);\r\n        context.closePath();\r\n        context.stroke();\r\n    }\r\n\r\n    context.strokeStyle = shadowColor.toString();\r\n\r\n    if (isSquare) {\r\n\r\n        p1 = this.bottomLeft().subtract(this.position());\r\n        p11 = p1.copy();\r\n        p2 = this.topRight().subtract(this.position());\r\n        p22 = p2.copy();\r\n\r\n        for (i = -2; i <= this.height(); i = i + 6) {\r\n            p11.y = p1.y - i;\r\n            p22.y = p2.y - i;\r\n\r\n            context.beginPath();\r\n            context.moveTo(p11.x, p11.y);\r\n            context.lineTo(p22.x, p22.y);\r\n            context.closePath();\r\n            context.stroke();\r\n        }\r\n    }\r\n\r\n    p1 = this.bottomLeft().subtract(this.position());\r\n    p11 = p1.copy();\r\n    p2 = this.topRight().subtract(this.position());\r\n    p22 = p2.copy();\r\n\r\n    for (i = 2; i <= this.width(); i = i + 6) {\r\n        p11.x = p1.x + i;\r\n        p22.x = p2.x + i;\r\n\r\n        context.beginPath();\r\n        context.moveTo(p11.x, p11.y);\r\n        context.lineTo(p22.x, p22.y);\r\n        context.closePath();\r\n        context.stroke();\r\n    }\r\n};\r\n\r\n// HandleMorph stepping:\r\n\r\nHandleMorph.prototype.step = null;\r\n\r\nHandleMorph.prototype.mouseDownLeft = function (pos) {\r\n    var world = this.root(),\r\n        offset,\r\n        myself = this;\r\n\r\n    if (!this.target) {\r\n        return null;\r\n    }\r\n    if (this.type.indexOf('move') === 0) {\r\n        offset = pos.subtract(this.center());\r\n    } else {\r\n        offset = pos.subtract(this.bounds.origin);\r\n    }\r\n    this.step = function () {\r\n        var newPos, newExt;\r\n        if (world.hand.mouseButton) {\r\n            newPos = world.hand.bounds.origin.copy().subtract(offset);\r\n            if (this.type === 'resize') {\r\n                newExt = newPos.add(\r\n                    myself.extent().add(myself.inset)\r\n                ).subtract(myself.target.bounds.origin);\r\n                newExt = newExt.max(myself.minExtent);\r\n                myself.target.setExtent(newExt);\r\n\r\n                myself.setPosition(\r\n                    myself.target.bottomRight().subtract(\r\n                        myself.extent().add(myself.inset)\r\n                    )\r\n                );\r\n            } else if (this.type === 'moveCenter') {\r\n                myself.target.setCenter(newPos);\r\n            } else if (this.type === 'movePivot') {\r\n                myself.target.setPivot(newPos);\r\n                myself.setCenter(this.target.rotationCenter());\r\n            } else { // type === 'move'\r\n                myself.target.setPosition(\r\n                    newPos.subtract(this.target.extent())\r\n                        .add(this.extent())\r\n                );\r\n            }\r\n        } else {\r\n            this.step = null;\r\n        }\r\n    };\r\n    if (!this.target.step) {\r\n        this.target.step = function () {\r\n            nop();\r\n        };\r\n    }\r\n};\r\n\r\n// HandleMorph dragging and dropping:\r\n\r\nHandleMorph.prototype.rootForGrab = function () {\r\n    return this;\r\n};\r\n\r\n// HandleMorph events:\r\n\r\nHandleMorph.prototype.mouseEnter = function () {\r\n    this.image = this.highlightImage;\r\n    this.changed();\r\n};\r\n\r\nHandleMorph.prototype.mouseLeave = function () {\r\n    this.image = this.normalImage;\r\n    this.changed();\r\n};\r\n\r\n// HandleMorph menu:\r\n\r\nHandleMorph.prototype.attach = function () {\r\n    var choices = this.overlappedMorphs(),\r\n        menu = new MenuMorph(this, 'choose target:'),\r\n        myself = this;\r\n\r\n    choices.forEach(function (each) {\r\n        menu.addItem(each.toString().slice(0, 50), function () {\r\n            myself.isDraggable = false;\r\n            myself.target = each;\r\n            myself.drawNew();\r\n            myself.noticesTransparentClick = true;\r\n        });\r\n    });\r\n    if (choices.length > 0) {\r\n        menu.popUpAtHand(this.world());\r\n    }\r\n};\r\n\r\n// PenMorph ////////////////////////////////////////////////////////////\r\n\r\n// I am a simple LOGO-wise turtle.\r\n\r\n// PenMorph: referenced constructors\r\n\r\nvar PenMorph;\r\n\r\n// PenMorph inherits from Morph:\r\n\r\nPenMorph.prototype = new Morph();\r\nPenMorph.prototype.constructor = PenMorph;\r\nPenMorph.uber = Morph.prototype;\r\n\r\n// PenMorph instance creation:\r\n\r\nfunction PenMorph() {\r\n    this.init();\r\n}\r\n\r\nPenMorph.prototype.init = function () {\r\n    var size = MorphicPreferences.handleSize * 4;\r\n\r\n    // additional properties:\r\n    this.isWarped = false; // internal optimization\r\n    this.heading = 0;\r\n    this.isDown = true;\r\n    this.size = 1;\r\n    this.wantsRedraw = false;\r\n    this.penPoint = 'tip'; // or 'center\"\r\n    this.penBounds = null; // rect around the visible arrow shape\r\n\r\n    HandleMorph.uber.init.call(this);\r\n    this.setExtent(new Point(size, size));\r\n};\r\n\r\n// PenMorph updating - optimized for warping, i.e atomic recursion\r\n\r\nPenMorph.prototype.changed = function () {\r\n    if (this.isWarped === false) {\r\n        var w = this.root();\r\n        if (w instanceof WorldMorph) {\r\n            w.broken.push(this.visibleBounds().spread());\r\n        }\r\n        if (this.parent) {\r\n            this.parent.childChanged(this);\r\n        }\r\n    }\r\n};\r\n\r\n// PenMorph display:\r\n\r\nPenMorph.prototype.drawNew = function (facing) {\r\n    // my orientation can be overridden with the \"facing\" parameter to\r\n    // implement Scratch-style rotation styles\r\n\r\n    var context, start, dest, left, right, len,\r\n        direction = facing || this.heading;\r\n\r\n    if (this.isWarped) {\r\n        this.wantsRedraw = true;\r\n        return;\r\n    }\r\n    this.image = newCanvas(this.extent());\r\n    context = this.image.getContext('2d');\r\n    len = this.width() / 2;\r\n    start = this.center().subtract(this.bounds.origin);\r\n\r\n    if (this.penPoint === 'tip') {\r\n        dest = start.distanceAngle(len * 0.75, direction - 180);\r\n        left = start.distanceAngle(len, direction + 195);\r\n        right = start.distanceAngle(len, direction - 195);\r\n    } else { // 'middle'\r\n        dest = start.distanceAngle(len * 0.75, direction);\r\n        left = start.distanceAngle(len * 0.33, direction + 230);\r\n        right = start.distanceAngle(len * 0.33, direction - 230);\r\n    }\r\n\r\n    // cache penBounds\r\n    this.penBounds = new Rectangle(\r\n        Math.min(start.x, dest.x, left.x, right.x),\r\n        Math.min(start.y, dest.y, left.y, right.y),\r\n        Math.max(start.x, dest.x, left.x, right.x),\r\n        Math.max(start.y, dest.y, left.y, right.y)\r\n    );\r\n\r\n    // draw arrow shape\r\n    context.fillStyle = this.color.toString();\r\n    context.beginPath();\r\n\r\n    context.moveTo(start.x, start.y);\r\n    context.lineTo(left.x, left.y);\r\n    context.lineTo(dest.x, dest.y);\r\n    context.lineTo(right.x, right.y);\r\n\r\n    context.closePath();\r\n    context.strokeStyle = 'white';\r\n    context.lineWidth = 3;\r\n    context.stroke();\r\n    context.strokeStyle = 'black';\r\n    context.lineWidth = 1;\r\n    context.stroke();\r\n    context.fill();\r\n};\r\n\r\n// PenMorph access:\r\n\r\nPenMorph.prototype.setHeading = function (degrees) {\r\n    this.heading = ((+degrees % 360) + 360) % 360;\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\n// PenMorph drawing:\r\n\r\nPenMorph.prototype.drawLine = function (start, dest) {\r\n    var context = this.parent.penTrails().getContext('2d'),\r\n        from = start.subtract(this.parent.bounds.origin),\r\n        to = dest.subtract(this.parent.bounds.origin);\r\n    if (this.isDown) {\r\n        context.lineWidth = this.size;\r\n        context.strokeStyle = this.color.toString();\r\n        context.lineCap = 'round';\r\n        context.lineJoin = 'round';\r\n        context.beginPath();\r\n        context.moveTo(from.x, from.y);\r\n        context.lineTo(to.x, to.y);\r\n        context.stroke();\r\n        if (this.isWarped === false) {\r\n            this.world().broken.push(\r\n                start.rectangle(dest).expandBy(\r\n                    Math.max(this.size / 2, 1)\r\n                ).intersect(this.parent.visibleBounds()).spread()\r\n            );\r\n        }\r\n    }\r\n};\r\n\r\n// PenMorph turtle ops:\r\n\r\nPenMorph.prototype.turn = function (degrees) {\r\n    this.setHeading(this.heading + parseFloat(degrees));\r\n};\r\n\r\nPenMorph.prototype.forward = function (steps) {\r\n    var start = this.center(),\r\n        dest,\r\n        dist = parseFloat(steps);\r\n    if (dist >= 0) {\r\n        dest = this.position().distanceAngle(dist, this.heading);\r\n    } else {\r\n        dest = this.position().distanceAngle(\r\n            Math.abs(dist),\r\n            (this.heading - 180)\r\n        );\r\n    }\r\n    this.setPosition(dest);\r\n    this.drawLine(start, this.center());\r\n};\r\n\r\nPenMorph.prototype.down = function () {\r\n    this.isDown = true;\r\n};\r\n\r\nPenMorph.prototype.up = function () {\r\n    this.isDown = false;\r\n};\r\n\r\nPenMorph.prototype.clear = function () {\r\n    this.parent.drawNew();\r\n    this.parent.changed();\r\n};\r\n\r\n// PenMorph optimization for atomic recursion:\r\n\r\nPenMorph.prototype.startWarp = function () {\r\n    this.wantsRedraw = false;\r\n    this.isWarped = true;\r\n};\r\n\r\nPenMorph.prototype.endWarp = function () {\r\n    this.isWarped = false;\r\n    if (this.wantsRedraw) {\r\n        this.drawNew();\r\n        this.wantsRedraw = false;\r\n    }\r\n    this.parent.changed();\r\n};\r\n\r\nPenMorph.prototype.warp = function (fun) {\r\n    this.startWarp();\r\n    fun.call(this);\r\n    this.endWarp();\r\n};\r\n\r\nPenMorph.prototype.warpOp = function (selector, argsArray) {\r\n    this.startWarp();\r\n    this[selector].apply(this, argsArray);\r\n    this.endWarp();\r\n};\r\n\r\n// PenMorph demo ops:\r\n// try these with WARP eg.: this.warp(function () {tree(12, 120, 20)})\r\n\r\nPenMorph.prototype.warpSierpinski = function (length, min) {\r\n    this.warpOp('sierpinski', [length, min]);\r\n};\r\n\r\nPenMorph.prototype.sierpinski = function (length, min) {\r\n    var i;\r\n    if (length > min) {\r\n        for (i = 0; i < 3; i += 1) {\r\n            this.sierpinski(length * 0.5, min);\r\n            this.turn(120);\r\n            this.forward(length);\r\n        }\r\n    }\r\n};\r\n\r\nPenMorph.prototype.warpTree = function (level, length, angle) {\r\n    this.warpOp('tree', [level, length, angle]);\r\n};\r\n\r\nPenMorph.prototype.tree = function (level, length, angle) {\r\n    if (level > 0) {\r\n        this.size = level;\r\n        this.forward(length);\r\n        this.turn(angle);\r\n        this.tree(level - 1, length * 0.75, angle);\r\n        this.turn(angle * -2);\r\n        this.tree(level - 1, length * 0.75, angle);\r\n        this.turn(angle);\r\n        this.forward(-length);\r\n    }\r\n};\r\n\r\n// ColorPaletteMorph ///////////////////////////////////////////////////\r\n\r\nvar ColorPaletteMorph;\r\n\r\n// ColorPaletteMorph inherits from Morph:\r\n\r\nColorPaletteMorph.prototype = new Morph();\r\nColorPaletteMorph.prototype.constructor = ColorPaletteMorph;\r\nColorPaletteMorph.uber = Morph.prototype;\r\n\r\n// ColorPaletteMorph instance creation:\r\n\r\nfunction ColorPaletteMorph(target, sizePoint) {\r\n    this.init(\r\n        target || null,\r\n        sizePoint || new Point(80, 50)\r\n    );\r\n}\r\n\r\nColorPaletteMorph.prototype.init = function (target, size) {\r\n    ColorPaletteMorph.uber.init.call(this);\r\n    this.target = target;\r\n    this.targetSetter = 'color';\r\n    this.silentSetExtent(size);\r\n    this.choice = null;\r\n    this.drawNew();\r\n};\r\n\r\nColorPaletteMorph.prototype.drawNew = function () {\r\n    var context, ext, x, y, h, l;\r\n\r\n    ext = this.extent();\r\n    this.image = newCanvas(this.extent());\r\n    context = this.image.getContext('2d');\r\n    this.choice = new Color();\r\n    for (x = 0; x <= ext.x; x += 1) {\r\n        h = 360 * x / ext.x;\r\n        for (y = 0; y <= ext.y; y += 1) {\r\n            l = 100 - (y / ext.y * 100);\r\n            context.fillStyle = 'hsl(' + h + ',100%,' + l + '%)';\r\n            context.fillRect(x, y, 1, 1);\r\n        }\r\n    }\r\n};\r\n\r\nColorPaletteMorph.prototype.mouseMove = function (pos) {\r\n    this.choice = this.getPixelColor(pos);\r\n    this.updateTarget();\r\n};\r\n\r\nColorPaletteMorph.prototype.mouseDownLeft = function (pos) {\r\n    this.choice = this.getPixelColor(pos);\r\n    this.updateTarget();\r\n};\r\n\r\nColorPaletteMorph.prototype.updateTarget = function () {\r\n    if (this.target instanceof Morph && this.choice !== null) {\r\n        if (this.target[this.targetSetter] instanceof Function) {\r\n            this.target[this.targetSetter](this.choice);\r\n        } else {\r\n            this.target[this.targetSetter] = this.choice;\r\n            this.target.drawNew();\r\n            this.target.changed();\r\n        }\r\n    }\r\n};\r\n\r\n// ColorPaletteMorph menu:\r\n\r\nColorPaletteMorph.prototype.developersMenu = function () {\r\n    var menu = ColorPaletteMorph.uber.developersMenu.call(this);\r\n    menu.addLine();\r\n    menu.addItem(\r\n        'set target',\r\n        \"setTarget\",\r\n        'choose another morph\\nwhose color property\\n will be' +\r\n            ' controlled by this one'\r\n    );\r\n    return menu;\r\n};\r\n\r\nColorPaletteMorph.prototype.setTarget = function () {\r\n    var choices = this.overlappedMorphs(),\r\n        menu = new MenuMorph(this, 'choose target:'),\r\n        myself = this;\r\n\r\n    choices.push(this.world());\r\n    choices.forEach(function (each) {\r\n        menu.addItem(each.toString().slice(0, 50), function () {\r\n            myself.target = each;\r\n            myself.setTargetSetter();\r\n        });\r\n    });\r\n    if (choices.length === 1) {\r\n        this.target = choices[0];\r\n        this.setTargetSetter();\r\n    } else if (choices.length > 0) {\r\n        menu.popUpAtHand(this.world());\r\n    }\r\n};\r\n\r\nColorPaletteMorph.prototype.setTargetSetter = function () {\r\n    var choices = this.target.colorSetters(),\r\n        menu = new MenuMorph(this, 'choose target property:'),\r\n        myself = this;\r\n\r\n    choices.forEach(function (each) {\r\n        menu.addItem(each, function () {\r\n            myself.targetSetter = each;\r\n        });\r\n    });\r\n    if (choices.length === 1) {\r\n        this.targetSetter = choices[0];\r\n    } else if (choices.length > 0) {\r\n        menu.popUpAtHand(this.world());\r\n    }\r\n};\r\n\r\n// GrayPaletteMorph ///////////////////////////////////////////////////\r\n\r\nvar GrayPaletteMorph;\r\n\r\n// GrayPaletteMorph inherits from ColorPaletteMorph:\r\n\r\nGrayPaletteMorph.prototype = new ColorPaletteMorph();\r\nGrayPaletteMorph.prototype.constructor = GrayPaletteMorph;\r\nGrayPaletteMorph.uber = ColorPaletteMorph.prototype;\r\n\r\n// GrayPaletteMorph instance creation:\r\n\r\nfunction GrayPaletteMorph(target, sizePoint) {\r\n    this.init(\r\n        target || null,\r\n        sizePoint || new Point(80, 10)\r\n    );\r\n}\r\n\r\nGrayPaletteMorph.prototype.drawNew = function () {\r\n    var context, ext, gradient;\r\n\r\n    ext = this.extent();\r\n    this.image = newCanvas(this.extent());\r\n    context = this.image.getContext('2d');\r\n    this.choice = new Color();\r\n    gradient = context.createLinearGradient(0, 0, ext.x, ext.y);\r\n    gradient.addColorStop(0, 'black');\r\n    gradient.addColorStop(1, 'white');\r\n    context.fillStyle = gradient;\r\n    context.fillRect(0, 0, ext.x, ext.y);\r\n};\r\n\r\n// ColorPickerMorph ///////////////////////////////////////////////////\r\n\r\n// ColorPickerMorph inherits from Morph:\r\n\r\nColorPickerMorph.prototype = new Morph();\r\nColorPickerMorph.prototype.constructor = ColorPickerMorph;\r\nColorPickerMorph.uber = Morph.prototype;\r\n\r\n// ColorPickerMorph instance creation:\r\n\r\nfunction ColorPickerMorph(defaultColor) {\r\n    this.init(defaultColor || new Color(255, 255, 255));\r\n}\r\n\r\nColorPickerMorph.prototype.init = function (defaultColor) {\r\n    this.choice = defaultColor;\r\n    ColorPickerMorph.uber.init.call(this);\r\n    this.color = new Color(255, 255, 255);\r\n    this.silentSetExtent(new Point(80, 80));\r\n    this.drawNew();\r\n};\r\n\r\nColorPickerMorph.prototype.drawNew = function () {\r\n    ColorPickerMorph.uber.drawNew.call(this);\r\n    this.buildSubmorphs();\r\n};\r\n\r\nColorPickerMorph.prototype.buildSubmorphs = function () {\r\n    var cpal, gpal, x, y;\r\n\r\n    this.children.forEach(function (child) {\r\n        child.destroy();\r\n    });\r\n    this.children = [];\r\n    this.feedback = new Morph();\r\n    this.feedback.color = this.choice;\r\n    this.feedback.setExtent(new Point(20, 20));\r\n    cpal = new ColorPaletteMorph(\r\n        this.feedback,\r\n        new Point(this.width(), 50)\r\n    );\r\n    gpal = new GrayPaletteMorph(\r\n        this.feedback,\r\n        new Point(this.width(), 5)\r\n    );\r\n    cpal.setPosition(this.bounds.origin);\r\n    this.add(cpal);\r\n    gpal.setPosition(cpal.bottomLeft());\r\n    this.add(gpal);\r\n    x = (gpal.left() +\r\n        Math.floor((gpal.width() - this.feedback.width()) / 2));\r\n    y = gpal.bottom() + Math.floor((this.bottom() -\r\n        gpal.bottom() - this.feedback.height()) / 2);\r\n    this.feedback.setPosition(new Point(x, y));\r\n    this.add(this.feedback);\r\n};\r\n\r\nColorPickerMorph.prototype.getChoice = function () {\r\n    return this.feedback.color;\r\n};\r\n\r\nColorPickerMorph.prototype.rootForGrab = function () {\r\n    return this;\r\n};\r\n\r\n// BlinkerMorph ////////////////////////////////////////////////////////\r\n\r\n// can be used for text cursors\r\n\r\nvar BlinkerMorph;\r\n\r\n// BlinkerMorph inherits from Morph:\r\n\r\nBlinkerMorph.prototype = new Morph();\r\nBlinkerMorph.prototype.constructor = BlinkerMorph;\r\nBlinkerMorph.uber = Morph.prototype;\r\n\r\n// BlinkerMorph instance creation:\r\n\r\nfunction BlinkerMorph(rate) {\r\n    this.init(rate);\r\n}\r\n\r\nBlinkerMorph.prototype.init = function (rate) {\r\n    BlinkerMorph.uber.init.call(this);\r\n    this.color = new Color(0, 0, 0);\r\n    this.fps = rate || 2;\r\n    this.drawNew();\r\n};\r\n\r\n// BlinkerMorph stepping:\r\n\r\nBlinkerMorph.prototype.step = function () {\r\n    this.toggleVisibility();\r\n};\r\n\r\n// CursorMorph /////////////////////////////////////////////////////////\r\n\r\n// I am a String/Text editing widget\r\n\r\n// CursorMorph: referenced constructors\r\n\r\nvar CursorMorph;\r\n\r\n// CursorMorph inherits from BlinkerMorph:\r\n\r\nCursorMorph.prototype = new BlinkerMorph();\r\nCursorMorph.prototype.constructor = CursorMorph;\r\nCursorMorph.uber = BlinkerMorph.prototype;\r\n\r\n// CursorMorph preferences settings:\r\n\r\nCursorMorph.prototype.viewPadding = 1;\r\n\r\n// CursorMorph instance creation:\r\n\r\nfunction CursorMorph(aStringOrTextMorph) {\r\n    this.init(aStringOrTextMorph);\r\n}\r\n\r\nCursorMorph.prototype.init = function (aStringOrTextMorph) {\r\n    var ls;\r\n\r\n    // additional properties:\r\n    this.keyDownEventUsed = false;\r\n    this.target = aStringOrTextMorph;\r\n    this.originalContents = this.target.text;\r\n    this.originalAlignment = this.target.alignment;\r\n    this.slot = this.target.text.length;\r\n    CursorMorph.uber.init.call(this);\r\n    ls = fontHeight(this.target.fontSize);\r\n    this.setExtent(new Point(Math.max(Math.floor(ls / 20), 1), ls));\r\n    this.drawNew();\r\n    this.image.getContext('2d').font = this.target.font();\r\n    if (this.target instanceof TextMorph &&\r\n            (this.target.alignment !== 'left')) {\r\n        this.target.setAlignmentToLeft();\r\n    }\r\n    this.gotoSlot(this.slot);\r\n    this.initializeClipboardHandler();\r\n};\r\n\r\nCursorMorph.prototype.initializeClipboardHandler = function () {\r\n    // Add hidden text box for copying and pasting\r\n    var myself = this,\r\n        wrrld = this.target.world();\r\n\r\n    this.clipboardHandler = document.createElement('textarea');\r\n    this.clipboardHandler.style.position = 'absolute';\r\n    this.clipboardHandler.style.top = window.outerHeight;\r\n    this.clipboardHandler.style.right = '101%'; // placed just out of view\r\n\r\n    document.body.appendChild(this.clipboardHandler);\r\n\r\n    this.clipboardHandler.value = this.target.selection();\r\n    this.clipboardHandler.focus();\r\n    this.clipboardHandler.select();\r\n\r\n    this.clipboardHandler.addEventListener(\r\n        'keypress',\r\n        function (event) {\r\n            myself.processKeyPress(event);\r\n            this.value = myself.target.selection();\r\n            this.select();\r\n        },\r\n        false\r\n    );\r\n\r\n    this.clipboardHandler.addEventListener(\r\n        'keydown',\r\n        function (event) {\r\n            myself.processKeyDown(event);\r\n            if (event.shiftKey) {\r\n                wrrld.currentKey = 16;\r\n            }\r\n            this.value = myself.target.selection();\r\n            this.select();\r\n\r\n            // Make sure tab prevents default\r\n            if (event.key === 'U+0009' ||\r\n                    event.key === 'Tab') {\r\n                myself.processKeyPress(event);\r\n                event.preventDefault();\r\n            }\r\n        },\r\n        false\r\n    );\r\n\r\n    this.clipboardHandler.addEventListener(\r\n        'keyup',\r\n        function (event) {\r\n            wrrld.currentKey = null;\r\n        },\r\n        false\r\n    );\r\n\r\n    this.clipboardHandler.addEventListener(\r\n        'input',\r\n        function (event) {\r\n            if (this.value === '') {\r\n                myself.gotoSlot(myself.target.selectionStartSlot());\r\n                myself.target.deleteSelection();\r\n            }\r\n        },\r\n        false\r\n    );\r\n};\r\n\r\n// CursorMorph event processing:\r\n\r\nCursorMorph.prototype.processKeyPress = function (event) {\r\n    // this.inspectKeyEvent(event);\r\n    if (this.keyDownEventUsed) {\r\n        this.keyDownEventUsed = false;\r\n        return null;\r\n    }\r\n    if ((event.keyCode === 40) || event.charCode === 40) {\r\n        this.insert('(');\r\n        return null;\r\n    }\r\n    if ((event.keyCode === 37) || event.charCode === 37) {\r\n        this.insert('%');\r\n        return null;\r\n    }\r\n    if (event.keyCode) { // Opera doesn't support charCode\r\n        if (event.ctrlKey && (!event.altKey)) {\r\n            this.ctrl(event.keyCode, event.shiftKey);\r\n        } else if (event.metaKey) {\r\n            this.cmd(event.keyCode, event.shiftKey);\r\n        } else {\r\n            this.insert(\r\n                String.fromCharCode(event.keyCode),\r\n                event.shiftKey\r\n            );\r\n        }\r\n    } else if (event.charCode) { // all other browsers\r\n        if (event.ctrlKey && (!event.altKey)) {\r\n            this.ctrl(event.charCode, event.shiftKey);\r\n        } else if (event.metaKey) {\r\n            this.cmd(event.charCode, event.shiftKey);\r\n        } else {\r\n            this.insert(\r\n                String.fromCharCode(event.charCode),\r\n                event.shiftKey\r\n            );\r\n        }\r\n    }\r\n    // notify target's parent of key event\r\n    this.target.escalateEvent('reactToKeystroke', event);\r\n};\r\n\r\nCursorMorph.prototype.processKeyDown = function (event) {\r\n    // this.inspectKeyEvent(event);\r\n    var shift = event.shiftKey,\r\n        wordNavigation = event.ctrlKey || event.altKey,\r\n        selecting = this.target.selection().length > 0;\r\n\r\n    this.keyDownEventUsed = false;\r\n    if (event.ctrlKey && (!event.altKey)) {\r\n        this.ctrl(event.keyCode, event.shiftKey);\r\n        // notify target's parent of key event\r\n        this.target.escalateEvent('reactToKeystroke', event);\r\n    }\r\n    if (event.metaKey) {\r\n        this.cmd(event.keyCode, event.shiftKey);\r\n        // notify target's parent of key event\r\n        this.target.escalateEvent('reactToKeystroke', event);\r\n    }\r\n\r\n    switch (event.keyCode) {\r\n    case 37:\r\n        if (selecting && !shift && !wordNavigation) {\r\n            this.gotoSlot(Math.min(this.target.startMark, this.target.endMark));\r\n            this.target.clearSelection();\r\n        } else {\r\n            this.goLeft(\r\n                    shift,\r\n                    wordNavigation ?\r\n                        this.slot - this.target.previousWordFrom(this.slot)\r\n                        : 1);\r\n        }\r\n        this.keyDownEventUsed = true;\r\n        break;\r\n    case 39:\r\n        if (selecting && !shift && !wordNavigation) {\r\n            this.gotoSlot(Math.max(this.target.startMark, this.target.endMark));\r\n            this.target.clearSelection();\r\n        } else {\r\n            this.goRight(\r\n                    shift,\r\n                    wordNavigation ?\r\n                        this.target.nextWordFrom(this.slot) - this.slot\r\n                        : 1);\r\n        }\r\n        this.keyDownEventUsed = true;\r\n        break;\r\n    case 38:\r\n        this.goUp(shift);\r\n        this.keyDownEventUsed = true;\r\n        break;\r\n    case 40:\r\n        this.goDown(shift);\r\n        this.keyDownEventUsed = true;\r\n        break;\r\n    case 36:\r\n        this.goHome(shift);\r\n        this.keyDownEventUsed = true;\r\n        break;\r\n    case 35:\r\n        this.goEnd(shift);\r\n        this.keyDownEventUsed = true;\r\n        break;\r\n    case 46:\r\n        this.deleteRight();\r\n        this.keyDownEventUsed = true;\r\n        break;\r\n    case 8:\r\n        this.deleteLeft();\r\n        this.keyDownEventUsed = true;\r\n        break;\r\n    case 13:\r\n        if ((this.target instanceof StringMorph) || shift) {\r\n            this.accept();\r\n        } else {\r\n            this.insert('\\n');\r\n        }\r\n        this.keyDownEventUsed = true;\r\n        break;\r\n    case 27:\r\n        this.cancel();\r\n        this.keyDownEventUsed = true;\r\n        break;\r\n    default:\r\n        nop();\r\n        // this.inspectKeyEvent(event);\r\n    }\r\n    // notify target's parent of key event\r\n    this.target.escalateEvent('reactToKeystroke', event);\r\n};\r\n\r\n// CursorMorph navigation:\r\n\r\n/*\r\n// original non-scrolling code, commented out in case we need to fall back:\r\n\r\nCursorMorph.prototype.gotoSlot = function (newSlot) {\r\n    this.setPosition(this.target.slotPosition(newSlot));\r\n    this.slot = Math.max(newSlot, 0);\r\n};\r\n*/\r\n\r\nCursorMorph.prototype.gotoSlot = function (slot) {\r\n    var length = this.target.text.length,\r\n        pos = this.target.slotPosition(slot),\r\n        right,\r\n        left;\r\n    this.slot = slot < 0 ? 0 : slot > length ? length : slot;\r\n    if (this.parent && this.target.isScrollable) {\r\n        right = this.parent.right() - this.viewPadding;\r\n        left = this.parent.left() + this.viewPadding;\r\n        if (pos.x > right) {\r\n            this.target.setLeft(this.target.left() + right - pos.x);\r\n            pos.x = right;\r\n        }\r\n        if (pos.x < left) {\r\n            left = Math.min(this.parent.left(), left);\r\n            this.target.setLeft(this.target.left() + left - pos.x);\r\n            pos.x = left;\r\n        }\r\n        if (this.target.right() < right &&\r\n                right - this.target.width() < left) {\r\n            pos.x += right - this.target.right();\r\n            this.target.setRight(right);\r\n        }\r\n    }\r\n    this.show();\r\n    this.setPosition(pos);\r\n    if (this.parent\r\n            && this.parent.parent instanceof ScrollFrameMorph\r\n            && this.target.isScrollable) {\r\n        this.parent.parent.scrollCursorIntoView(this);\r\n    }\r\n};\r\n\r\nCursorMorph.prototype.goLeft = function (shift, howMany) {\r\n    this.updateSelection(shift);\r\n    this.gotoSlot(this.slot - (howMany || 1));\r\n    this.updateSelection(shift);\r\n};\r\n\r\nCursorMorph.prototype.goRight = function (shift, howMany) {\r\n    this.updateSelection(shift);\r\n    this.gotoSlot(this.slot + (howMany || 1));\r\n    this.updateSelection(shift);\r\n};\r\n\r\nCursorMorph.prototype.goUp = function (shift) {\r\n    this.updateSelection(shift);\r\n    this.gotoSlot(this.target.upFrom(this.slot));\r\n    this.updateSelection(shift);\r\n};\r\n\r\nCursorMorph.prototype.goDown = function (shift) {\r\n    this.updateSelection(shift);\r\n    this.gotoSlot(this.target.downFrom(this.slot));\r\n    this.updateSelection(shift);\r\n};\r\n\r\nCursorMorph.prototype.goHome = function (shift) {\r\n    this.updateSelection(shift);\r\n    this.gotoSlot(this.target.startOfLine(this.slot));\r\n    this.updateSelection(shift);\r\n};\r\n\r\nCursorMorph.prototype.goEnd = function (shift) {\r\n    this.updateSelection(shift);\r\n    this.gotoSlot(this.target.endOfLine(this.slot));\r\n    this.updateSelection(shift);\r\n};\r\n\r\nCursorMorph.prototype.gotoPos = function (aPoint) {\r\n    this.gotoSlot(this.target.slotAt(aPoint));\r\n    this.show();\r\n};\r\n\r\n// CursorMorph selecting:\r\n\r\nCursorMorph.prototype.updateSelection = function (shift) {\r\n    if (shift) {\r\n        if (isNil(this.target.endMark) && isNil(this.target.startMark)) {\r\n            this.target.startMark = this.slot;\r\n            this.target.endMark = this.slot;\r\n        } else if (this.target.endMark !== this.slot) {\r\n            this.target.endMark = this.slot;\r\n            this.target.drawNew();\r\n            this.target.changed();\r\n        }\r\n    } else {\r\n        this.target.clearSelection();\r\n    }\r\n};\r\n\r\n// CursorMorph editing:\r\n\r\nCursorMorph.prototype.accept = function () {\r\n    var world = this.root();\r\n    if (world) {\r\n        world.stopEditing();\r\n    }\r\n    this.escalateEvent('accept', this);\r\n};\r\n\r\nCursorMorph.prototype.cancel = function () {\r\n    var world = this.root();\r\n    this.undo();\r\n    if (world) {\r\n        world.stopEditing();\r\n    }\r\n    this.escalateEvent('cancel', this);\r\n};\r\n\r\nCursorMorph.prototype.undo = function () {\r\n    this.target.text = this.originalContents;\r\n    this.target.changed();\r\n    this.target.drawNew();\r\n    this.target.changed();\r\n    this.gotoSlot(0);\r\n};\r\n\r\nCursorMorph.prototype.insert = function (aChar, shiftKey) {\r\n    var text;\r\n    if (aChar === '\\u0009') {\r\n        this.target.escalateEvent('reactToEdit', this.target);\r\n        if (shiftKey) {\r\n            return this.target.backTab(this.target);\r\n        }\r\n        return this.target.tab(this.target);\r\n    }\r\n    if (!this.target.isNumeric ||\r\n            !isNaN(parseFloat(aChar)) ||\r\n            contains(['-', '.'], aChar)) {\r\n        if (this.target.selection() !== '') {\r\n            this.gotoSlot(this.target.selectionStartSlot());\r\n            this.target.deleteSelection();\r\n        }\r\n        text = this.target.text;\r\n        text = text.slice(0, this.slot) +\r\n            aChar +\r\n            text.slice(this.slot);\r\n        this.target.text = text;\r\n        this.target.drawNew();\r\n        this.target.changed();\r\n        this.goRight(false, aChar.length);\r\n    }\r\n};\r\n\r\nCursorMorph.prototype.ctrl = function (aChar, shiftKey) {\r\n    if (aChar === 64 || (aChar === 65 && shiftKey)) {\r\n        this.insert('@');\r\n    } else if (aChar === 65) {\r\n        this.target.selectAll();\r\n    } else if (aChar === 90) {\r\n        this.undo();\r\n    } else if (aChar === 123) {\r\n        this.insert('{');\r\n    } else if (aChar === 125) {\r\n        this.insert('}');\r\n    } else if (aChar === 91) {\r\n        this.insert('[');\r\n    } else if (aChar === 93) {\r\n        this.insert(']');\r\n    } else if (!isNil(this.target.receiver)) {\r\n        if (aChar === 68) {\r\n            this.target.doIt();\r\n        } else if (aChar === 73) {\r\n            this.target.inspectIt();\r\n        } else if (aChar === 80) {\r\n            this.target.showIt();\r\n        }\r\n    }\r\n\r\n\r\n};\r\n\r\nCursorMorph.prototype.cmd = function (aChar, shiftKey) {\r\n    if (aChar === 64 || (aChar === 65 && shiftKey)) {\r\n        this.insert('@');\r\n    } else if (aChar === 65) {\r\n        this.target.selectAll();\r\n    } else if (aChar === 90) {\r\n        this.undo();\r\n    } else if (!isNil(this.target.receiver)) {\r\n        if (aChar === 68) {\r\n            this.target.doIt();\r\n        } else if (aChar === 73) {\r\n            this.target.inspectIt();\r\n        } else if (aChar === 80) {\r\n            this.target.showIt();\r\n        }\r\n    }\r\n};\r\n\r\nCursorMorph.prototype.deleteRight = function () {\r\n    var text;\r\n    if (this.target.selection() !== '') {\r\n        this.gotoSlot(this.target.selectionStartSlot());\r\n        this.target.deleteSelection();\r\n    } else {\r\n        text = this.target.text;\r\n        this.target.changed();\r\n        text = text.slice(0, this.slot) + text.slice(this.slot + 1);\r\n        this.target.text = text;\r\n        this.target.drawNew();\r\n    }\r\n};\r\n\r\nCursorMorph.prototype.deleteLeft = function () {\r\n    var text;\r\n    if (this.target.selection()) {\r\n        this.gotoSlot(this.target.selectionStartSlot());\r\n        return this.target.deleteSelection();\r\n    }\r\n    text = this.target.text;\r\n    this.target.changed();\r\n    this.target.text = text.substring(0, this.slot - 1) +\r\n        text.substr(this.slot);\r\n    this.target.drawNew();\r\n    this.goLeft();\r\n};\r\n\r\n// CursorMorph destroying:\r\n\r\nCursorMorph.prototype.destroy = function () {\r\n    if (this.target.alignment !== this.originalAlignment) {\r\n        this.target.alignment = this.originalAlignment;\r\n        this.target.drawNew();\r\n        this.target.changed();\r\n    }\r\n    this.destroyClipboardHandler();\r\n    CursorMorph.uber.destroy.call(this);\r\n};\r\n\r\nCursorMorph.prototype.destroyClipboardHandler = function () {\r\n    var nodes = document.body.children,\r\n        each,\r\n        i;\r\n    if (this.clipboardHandler) {\r\n        for (i = 0; i < nodes.length; i += 1) {\r\n            each = nodes[i];\r\n            if (each === this.clipboardHandler) {\r\n                document.body.removeChild(this.clipboardHandler);\r\n                this.clipboardHandler = null;\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\n// CursorMorph utilities:\r\n\r\nCursorMorph.prototype.inspectKeyEvent = function (event) {\r\n    // private\r\n    this.inform(\r\n        'Key pressed: ' +\r\n            String.fromCharCode(event.charCode) +\r\n            '\\n------------------------' +\r\n            '\\ncharCode: ' +\r\n            event.charCode.toString() +\r\n            '\\nkeyCode: ' +\r\n            event.keyCode.toString() +\r\n            '\\nshiftKey: ' +\r\n            event.shiftKey.toString() +\r\n            '\\naltKey: ' +\r\n            event.altKey.toString() +\r\n            '\\nctrlKey: ' +\r\n            event.ctrlKey.toString() +\r\n            '\\ncmdKey: ' +\r\n            event.metaKey.toString()\r\n    );\r\n};\r\n\r\n// BoxMorph ////////////////////////////////////////////////////////////\r\n\r\n// I can have an optionally rounded border\r\n\r\nvar BoxMorph;\r\n\r\n// BoxMorph inherits from Morph:\r\n\r\nBoxMorph.prototype = new Morph();\r\nBoxMorph.prototype.constructor = BoxMorph;\r\nBoxMorph.uber = Morph.prototype;\r\n\r\n// BoxMorph instance creation:\r\n\r\nfunction BoxMorph(edge, border, borderColor) {\r\n    this.init(edge, border, borderColor);\r\n}\r\n\r\nBoxMorph.prototype.init = function (edge, border, borderColor) {\r\n    this.edge = edge || 4;\r\n    this.border = border || ((border === 0) ? 0 : 2);\r\n    this.borderColor = borderColor || new Color();\r\n    BoxMorph.uber.init.call(this);\r\n};\r\n\r\n// BoxMorph drawing:\r\n\r\nBoxMorph.prototype.drawNew = function () {\r\n    var context;\r\n\r\n    this.image = newCanvas(this.extent());\r\n    context = this.image.getContext('2d');\r\n    if ((this.edge === 0) && (this.border === 0)) {\r\n        BoxMorph.uber.drawNew.call(this);\r\n        return null;\r\n    }\r\n    context.fillStyle = this.color.toString();\r\n    context.beginPath();\r\n    this.outlinePath(\r\n        context,\r\n        Math.max(this.edge - this.border, 0),\r\n        this.border\r\n    );\r\n    context.closePath();\r\n    context.fill();\r\n    if (this.border > 0) {\r\n        context.lineWidth = this.border;\r\n        context.strokeStyle = this.borderColor.toString();\r\n        context.beginPath();\r\n        this.outlinePath(context, this.edge, this.border / 2);\r\n        context.closePath();\r\n        context.stroke();\r\n    }\r\n};\r\n\r\nBoxMorph.prototype.outlinePath = function (context, radius, inset) {\r\n    var offset = radius + inset,\r\n        w = this.width(),\r\n        h = this.height();\r\n\r\n    // top left:\r\n    context.arc(\r\n        offset,\r\n        offset,\r\n        radius,\r\n        radians(-180),\r\n        radians(-90),\r\n        false\r\n    );\r\n    // top right:\r\n    context.arc(\r\n        w - offset,\r\n        offset,\r\n        radius,\r\n        radians(-90),\r\n        radians(-0),\r\n        false\r\n    );\r\n    // bottom right:\r\n    context.arc(\r\n        w - offset,\r\n        h - offset,\r\n        radius,\r\n        radians(0),\r\n        radians(90),\r\n        false\r\n    );\r\n    // bottom left:\r\n    context.arc(\r\n        offset,\r\n        h - offset,\r\n        radius,\r\n        radians(90),\r\n        radians(180),\r\n        false\r\n    );\r\n};\r\n\r\n\r\n// BoxMorph menus:\r\n\r\nBoxMorph.prototype.developersMenu = function () {\r\n    var menu = BoxMorph.uber.developersMenu.call(this);\r\n    menu.addLine();\r\n    menu.addItem(\r\n        \"border width...\",\r\n        function () {\r\n            this.prompt(\r\n                menu.title + '\\nborder\\nwidth:',\r\n                this.setBorderWidth,\r\n                this,\r\n                this.border.toString(),\r\n                null,\r\n                0,\r\n                100,\r\n                true\r\n            );\r\n        },\r\n        'set the border\\'s\\nline size'\r\n    );\r\n    menu.addItem(\r\n        \"border color...\",\r\n        function () {\r\n            this.pickColor(\r\n                menu.title + '\\nborder color:',\r\n                this.setBorderColor,\r\n                this,\r\n                this.borderColor\r\n            );\r\n        },\r\n        'set the border\\'s\\nline color'\r\n    );\r\n    menu.addItem(\r\n        \"corner size...\",\r\n        function () {\r\n            this.prompt(\r\n                menu.title + '\\ncorner\\nsize:',\r\n                this.setCornerSize,\r\n                this,\r\n                this.edge.toString(),\r\n                null,\r\n                0,\r\n                100,\r\n                true\r\n            );\r\n        },\r\n        'set the corner\\'s\\nradius'\r\n    );\r\n    return menu;\r\n};\r\n\r\nBoxMorph.prototype.setBorderWidth = function (size) {\r\n    // for context menu demo purposes\r\n    var newSize;\r\n    if (typeof size === 'number') {\r\n        this.border = Math.max(size, 0);\r\n    } else {\r\n        newSize = parseFloat(size);\r\n        if (!isNaN(newSize)) {\r\n            this.border = Math.max(newSize, 0);\r\n        }\r\n    }\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nBoxMorph.prototype.setBorderColor = function (color) {\r\n    // for context menu demo purposes\r\n    if (color) {\r\n        this.borderColor = color;\r\n        this.drawNew();\r\n        this.changed();\r\n    }\r\n};\r\n\r\nBoxMorph.prototype.setCornerSize = function (size) {\r\n    // for context menu demo purposes\r\n    var newSize;\r\n    if (typeof size === 'number') {\r\n        this.edge = Math.max(size, 0);\r\n    } else {\r\n        newSize = parseFloat(size);\r\n        if (!isNaN(newSize)) {\r\n            this.edge = Math.max(newSize, 0);\r\n        }\r\n    }\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nBoxMorph.prototype.colorSetters = function () {\r\n    // for context menu demo purposes\r\n    return ['color', 'borderColor'];\r\n};\r\n\r\nBoxMorph.prototype.numericalSetters = function () {\r\n    // for context menu demo purposes\r\n    var list = BoxMorph.uber.numericalSetters.call(this);\r\n    list.push('setBorderWidth', 'setCornerSize');\r\n    return list;\r\n};\r\n\r\n// SpeechBubbleMorph ///////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a comic-style speech bubble that can display either a string,\r\n    a Morph, a Canvas or a toString() representation of anything else.\r\n    If I am invoked using popUp() I behave like a tool tip.\r\n*/\r\n\r\n// SpeechBubbleMorph: referenced constructors\r\n\r\nvar SpeechBubbleMorph;\r\n\r\n// SpeechBubbleMorph inherits from BoxMorph:\r\n\r\nSpeechBubbleMorph.prototype = new BoxMorph();\r\nSpeechBubbleMorph.prototype.constructor = SpeechBubbleMorph;\r\nSpeechBubbleMorph.uber = BoxMorph.prototype;\r\n\r\n// SpeechBubbleMorph instance creation:\r\n\r\nfunction SpeechBubbleMorph(\r\n    contents,\r\n    color,\r\n    edge,\r\n    border,\r\n    borderColor,\r\n    padding,\r\n    isThought\r\n) {\r\n    this.init(contents, color, edge, border, borderColor, padding, isThought);\r\n}\r\n\r\nSpeechBubbleMorph.prototype.init = function (\r\n    contents,\r\n    color,\r\n    edge,\r\n    border,\r\n    borderColor,\r\n    padding,\r\n    isThought // bool or anything but \"true\" to draw no hook at all\r\n) {\r\n    this.isPointingRight = true; // orientation of text\r\n    this.contents = contents || '';\r\n    this.padding = padding || 0; // additional vertical pixels\r\n    this.isThought = isThought || false; // draw \"think\" bubble\r\n    this.isClickable = false;\r\n    SpeechBubbleMorph.uber.init.call(\r\n        this,\r\n        edge || 6,\r\n        border || ((border === 0) ? 0 : 1),\r\n        borderColor || new Color(140, 140, 140)\r\n    );\r\n    this.color = color || new Color(230, 230, 230);\r\n    this.drawNew();\r\n};\r\n\r\n// SpeechBubbleMorph invoking:\r\n\r\nSpeechBubbleMorph.prototype.popUp = function (world, pos, isClickable) {\r\n    this.drawNew();\r\n    this.setPosition(pos.subtract(new Point(0, this.height())));\r\n    this.addShadow(new Point(2, 2), 80);\r\n    this.keepWithin(world);\r\n    world.add(this);\r\n    this.fullChanged();\r\n    world.hand.destroyTemporaries();\r\n    world.hand.temporaries.push(this);\r\n\r\n    if (!isClickable) {\r\n        this.mouseEnter = function () {\r\n            this.destroy();\r\n        };\r\n    } else {\r\n        this.isClickable = true;\r\n    }\r\n};\r\n\r\n// SpeechBubbleMorph drawing:\r\n\r\nSpeechBubbleMorph.prototype.drawNew = function () {\r\n    // re-build my contents\r\n    if (this.contentsMorph) {\r\n        this.contentsMorph.destroy();\r\n    }\r\n    if (this.contents instanceof Morph) {\r\n        this.contentsMorph = this.contents;\r\n    } else if (isString(this.contents)) {\r\n        this.contentsMorph = new TextMorph(\r\n            this.contents,\r\n            MorphicPreferences.bubbleHelpFontSize,\r\n            null,\r\n            false,\r\n            true,\r\n            'center'\r\n        );\r\n    } else if (this.contents instanceof HTMLCanvasElement) {\r\n        this.contentsMorph = new Morph();\r\n        this.contentsMorph.silentSetWidth(this.contents.width);\r\n        this.contentsMorph.silentSetHeight(this.contents.height);\r\n        this.contentsMorph.image = this.contents;\r\n    } else {\r\n        this.contentsMorph = new TextMorph(\r\n            this.contents.toString(),\r\n            MorphicPreferences.bubbleHelpFontSize,\r\n            null,\r\n            false,\r\n            true,\r\n            'center'\r\n        );\r\n    }\r\n    this.add(this.contentsMorph);\r\n\r\n    // adjust my layout\r\n    this.silentSetWidth(this.contentsMorph.width() +\r\n        (this.padding ? this.padding * 2 : this.edge * 2));\r\n    this.silentSetHeight(this.contentsMorph.height() +\r\n        this.edge +\r\n        this.border * 2 +\r\n        this.padding * 2 +\r\n        2);\r\n\r\n    // draw my outline\r\n    SpeechBubbleMorph.uber.drawNew.call(this);\r\n\r\n    // position my contents\r\n    this.contentsMorph.setPosition(this.position().add(\r\n        new Point(\r\n            this.padding || this.edge,\r\n            this.border + this.padding + 1\r\n        )\r\n    ));\r\n};\r\n\r\nSpeechBubbleMorph.prototype.outlinePath = function (\r\n    context,\r\n    radius,\r\n    inset\r\n) {\r\n    var offset = radius + inset,\r\n        w = this.width(),\r\n        h = this.height(),\r\n        rad;\r\n\r\n    function circle(x, y, r) {\r\n        context.moveTo(x + r, y);\r\n        context.arc(x, y, r, radians(0), radians(360));\r\n    }\r\n\r\n    // top left:\r\n    context.arc(\r\n        offset,\r\n        offset,\r\n        radius,\r\n        radians(-180),\r\n        radians(-90),\r\n        false\r\n    );\r\n    // top right:\r\n    context.arc(\r\n        w - offset,\r\n        offset,\r\n        radius,\r\n        radians(-90),\r\n        radians(-0),\r\n        false\r\n    );\r\n    // bottom right:\r\n    context.arc(\r\n        w - offset,\r\n        h - offset - radius,\r\n        radius,\r\n        radians(0),\r\n        radians(90),\r\n        false\r\n    );\r\n    if (!this.isThought) { // draw speech bubble hook\r\n        if (this.isPointingRight) {\r\n            context.lineTo(\r\n                offset + radius,\r\n                h - offset\r\n            );\r\n            context.lineTo(\r\n                radius / 2 + inset,\r\n                h - inset\r\n            );\r\n        } else { // pointing left\r\n            context.lineTo(\r\n                w - (radius / 2 + inset),\r\n                h - inset\r\n            );\r\n            context.lineTo(\r\n                w - (offset + radius),\r\n                h - offset\r\n            );\r\n        }\r\n    }\r\n    // bottom left:\r\n    context.arc(\r\n        offset,\r\n        h - offset - radius,\r\n        radius,\r\n        radians(90),\r\n        radians(180),\r\n        false\r\n    );\r\n    if (this.isThought === true) { // use anything but \"true\" to draw nothing\r\n        // close large bubble:\r\n        context.lineTo(\r\n            inset,\r\n            offset\r\n        );\r\n        // draw thought bubbles:\r\n        if (this.isPointingRight) {\r\n            // tip bubble:\r\n            rad = radius / 4;\r\n            circle(rad + inset, h - rad - inset, rad);\r\n            // middle bubble:\r\n            rad = radius / 3.2;\r\n            circle(rad * 2 + inset, h - rad - inset * 2, rad);\r\n            // top bubble:\r\n            rad = radius / 2.8;\r\n            circle(rad * 3 + inset * 2, h - rad - inset * 4, rad);\r\n        } else { // pointing left\r\n            // tip bubble:\r\n            rad = radius / 4;\r\n            circle(w - (rad + inset), h - rad - inset, rad);\r\n            // middle bubble:\r\n            rad = radius / 3.2;\r\n            circle(w - (rad * 2 + inset), h - rad - inset * 2, rad);\r\n            // top bubble:\r\n            rad = radius / 2.8;\r\n            circle(w - (rad * 3 + inset * 2), h - rad - inset * 4, rad);\r\n        }\r\n    }\r\n};\r\n\r\n// SpeechBubbleMorph shadow\r\n\r\n/*\r\n    only take the 'plain' image, so the box rounding and the\r\n    shadow doesn't become conflicted by embedded scrolling panes\r\n*/\r\n\r\nSpeechBubbleMorph.prototype.shadowImage = function (off, color) {\r\n    // fallback for Windows Chrome-Shadow bug\r\n    var fb, img, outline, sha, ctx,\r\n        offset = off || new Point(7, 7),\r\n        clr = color || new Color(0, 0, 0);\r\n    fb = this.extent();\r\n    img = this.image;\r\n    outline = newCanvas(fb);\r\n    ctx = outline.getContext('2d');\r\n    ctx.drawImage(img, 0, 0);\r\n    ctx.globalCompositeOperation = 'destination-out';\r\n    ctx.drawImage(\r\n        img,\r\n        -offset.x,\r\n        -offset.y\r\n    );\r\n    sha = newCanvas(fb);\r\n    ctx = sha.getContext('2d');\r\n    ctx.drawImage(outline, 0, 0);\r\n    ctx.globalCompositeOperation = 'source-atop';\r\n    ctx.fillStyle = clr.toString();\r\n    ctx.fillRect(0, 0, fb.x, fb.y);\r\n    return sha;\r\n};\r\n\r\nSpeechBubbleMorph.prototype.shadowImageBlurred = function (off, color) {\r\n    var fb, img, sha, ctx,\r\n        offset = off || new Point(7, 7),\r\n        blur = this.shadowBlur,\r\n        clr = color || new Color(0, 0, 0);\r\n    fb = this.extent().add(blur * 2);\r\n    img = this.image;\r\n    sha = newCanvas(fb);\r\n    ctx = sha.getContext('2d');\r\n    ctx.shadowOffsetX = offset.x;\r\n    ctx.shadowOffsetY = offset.y;\r\n    ctx.shadowBlur = blur;\r\n    ctx.shadowColor = clr.toString();\r\n    ctx.drawImage(\r\n        img,\r\n        blur - offset.x,\r\n        blur - offset.y\r\n    );\r\n    ctx.shadowOffsetX = 0;\r\n    ctx.shadowOffsetY = 0;\r\n    ctx.shadowBlur = 0;\r\n    ctx.globalCompositeOperation = 'destination-out';\r\n    ctx.drawImage(\r\n        img,\r\n        blur - offset.x,\r\n        blur - offset.y\r\n    );\r\n    return sha;\r\n};\r\n\r\n// SpeechBubbleMorph resizing\r\n\r\nSpeechBubbleMorph.prototype.fixLayout = function () {\r\n    this.removeShadow();\r\n    this.drawNew();\r\n    this.addShadow(new Point(2, 2), 80);\r\n};\r\n\r\n// CircleBoxMorph //////////////////////////////////////////////////////\r\n\r\n// I can be used for sliders\r\n\r\nvar CircleBoxMorph;\r\n\r\n// CircleBoxMorph inherits from Morph:\r\n\r\nCircleBoxMorph.prototype = new Morph();\r\nCircleBoxMorph.prototype.constructor = CircleBoxMorph;\r\nCircleBoxMorph.uber = Morph.prototype;\r\n\r\nfunction CircleBoxMorph(orientation) {\r\n    this.init(orientation || 'vertical');\r\n}\r\n\r\nCircleBoxMorph.prototype.init = function (orientation) {\r\n    CircleBoxMorph.uber.init.call(this);\r\n    this.orientation = orientation;\r\n    this.autoOrient = true;\r\n    this.setExtent(new Point(20, 100));\r\n};\r\n\r\nCircleBoxMorph.prototype.autoOrientation = function () {\r\n    if (this.height() > this.width()) {\r\n        this.orientation = 'vertical';\r\n    } else {\r\n        this.orientation = 'horizontal';\r\n    }\r\n};\r\n\r\nCircleBoxMorph.prototype.drawNew = function () {\r\n    var radius, center1, center2, rect, points, x, y,\r\n        context, ext,\r\n        myself = this;\r\n\r\n    if (this.autoOrient) {\r\n        this.autoOrientation();\r\n    }\r\n    this.image = newCanvas(this.extent());\r\n    context = this.image.getContext('2d');\r\n\r\n    if (this.orientation === 'vertical') {\r\n        radius = this.width() / 2;\r\n        x = this.center().x;\r\n        center1 = new Point(x, this.top() + radius);\r\n        center2 = new Point(x, this.bottom() - radius);\r\n        rect = this.bounds.origin.add(new Point(0, radius)).corner(\r\n            this.bounds.corner.subtract(new Point(0, radius))\r\n        );\r\n    } else {\r\n        radius = this.height() / 2;\r\n        y = this.center().y;\r\n        center1 = new Point(this.left() + radius, y);\r\n        center2 = new Point(this.right() - radius, y);\r\n        rect = this.bounds.origin.add(new Point(radius, 0)).corner(\r\n            this.bounds.corner.subtract(new Point(radius, 0))\r\n        );\r\n    }\r\n    points = [ center1.subtract(this.bounds.origin),\r\n        center2.subtract(this.bounds.origin)];\r\n    points.forEach(function (center) {\r\n        context.fillStyle = myself.color.toString();\r\n        context.beginPath();\r\n        context.arc(\r\n            center.x,\r\n            center.y,\r\n            radius,\r\n            0,\r\n            2 * Math.PI,\r\n            false\r\n        );\r\n        context.closePath();\r\n        context.fill();\r\n    });\r\n    rect = rect.translateBy(this.bounds.origin.neg());\r\n    ext = rect.extent();\r\n    if (ext.x > 0 && ext.y > 0) {\r\n        context.fillRect(\r\n            rect.origin.x,\r\n            rect.origin.y,\r\n            rect.width(),\r\n            rect.height()\r\n        );\r\n    }\r\n};\r\n\r\n// CircleBoxMorph menu:\r\n\r\nCircleBoxMorph.prototype.developersMenu = function () {\r\n    var menu = CircleBoxMorph.uber.developersMenu.call(this);\r\n    menu.addLine();\r\n    if (this.orientation === 'vertical') {\r\n        menu.addItem(\r\n            \"horizontal...\",\r\n            'toggleOrientation',\r\n            'toggle the\\norientation'\r\n        );\r\n    } else {\r\n        menu.addItem(\r\n            \"vertical...\",\r\n            'toggleOrientation',\r\n            'toggle the\\norientation'\r\n        );\r\n    }\r\n    return menu;\r\n};\r\n\r\nCircleBoxMorph.prototype.toggleOrientation = function () {\r\n    var center = this.center();\r\n    this.changed();\r\n    if (this.orientation === 'vertical') {\r\n        this.orientation = 'horizontal';\r\n    } else {\r\n        this.orientation = 'vertical';\r\n    }\r\n    this.silentSetExtent(new Point(this.height(), this.width()));\r\n    this.setCenter(center);\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\n// SliderButtonMorph ///////////////////////////////////////////////////\r\n\r\nvar SliderButtonMorph;\r\n\r\n// SliderButtonMorph inherits from CircleBoxMorph:\r\n\r\nSliderButtonMorph.prototype = new CircleBoxMorph();\r\nSliderButtonMorph.prototype.constructor = SliderButtonMorph;\r\nSliderButtonMorph.uber = CircleBoxMorph.prototype;\r\n\r\nfunction SliderButtonMorph(orientation) {\r\n    this.init(orientation);\r\n}\r\n\r\nSliderButtonMorph.prototype.init = function (orientation) {\r\n    this.color = new Color(80, 80, 80);\r\n    this.highlightColor = new Color(90, 90, 140);\r\n    this.pressColor = new Color(80, 80, 160);\r\n    this.is3D = false;\r\n    this.hasMiddleDip = true;\r\n    SliderButtonMorph.uber.init.call(this, orientation);\r\n};\r\n\r\nSliderButtonMorph.prototype.autoOrientation = nop;\r\n\r\nSliderButtonMorph.prototype.drawNew = function () {\r\n    var colorBak = this.color.copy();\r\n\r\n    SliderButtonMorph.uber.drawNew.call(this);\r\n    if (this.is3D || !MorphicPreferences.isFlat) {\r\n        this.drawEdges();\r\n    }\r\n    this.normalImage = this.image;\r\n\r\n    this.color = this.highlightColor.copy();\r\n    SliderButtonMorph.uber.drawNew.call(this);\r\n    if (this.is3D || !MorphicPreferences.isFlat) {\r\n        this.drawEdges();\r\n    }\r\n    this.highlightImage = this.image;\r\n\r\n    this.color = this.pressColor.copy();\r\n    SliderButtonMorph.uber.drawNew.call(this);\r\n    if (this.is3D || !MorphicPreferences.isFlat) {\r\n        this.drawEdges();\r\n    }\r\n    this.pressImage = this.image;\r\n\r\n    this.color = colorBak;\r\n    this.image = this.normalImage;\r\n\r\n};\r\n\r\nSliderButtonMorph.prototype.drawEdges = function () {\r\n    var context = this.image.getContext('2d'),\r\n        gradient,\r\n        radius,\r\n        w = this.width(),\r\n        h = this.height();\r\n\r\n    context.lineJoin = 'round';\r\n    context.lineCap = 'round';\r\n\r\n    if (this.orientation === 'vertical') {\r\n        context.lineWidth = w / 3;\r\n        gradient = context.createLinearGradient(\r\n            0,\r\n            0,\r\n            context.lineWidth,\r\n            0\r\n        );\r\n        gradient.addColorStop(0, 'white');\r\n        gradient.addColorStop(1, this.color.toString());\r\n\r\n        context.strokeStyle = gradient;\r\n        context.beginPath();\r\n        context.moveTo(context.lineWidth * 0.5, w / 2);\r\n        context.lineTo(context.lineWidth * 0.5, h - w / 2);\r\n        context.stroke();\r\n\r\n        gradient = context.createLinearGradient(\r\n            w - context.lineWidth,\r\n            0,\r\n            w,\r\n            0\r\n        );\r\n        gradient.addColorStop(0, this.color.toString());\r\n        gradient.addColorStop(1, 'black');\r\n\r\n        context.strokeStyle = gradient;\r\n        context.beginPath();\r\n        context.moveTo(w - context.lineWidth * 0.5, w / 2);\r\n        context.lineTo(w - context.lineWidth * 0.5, h - w / 2);\r\n        context.stroke();\r\n\r\n        if (this.hasMiddleDip) {\r\n            gradient = context.createLinearGradient(\r\n                context.lineWidth,\r\n                0,\r\n                w - context.lineWidth,\r\n                0\r\n            );\r\n\r\n            radius = w / 4;\r\n            gradient.addColorStop(0, 'black');\r\n            gradient.addColorStop(0.35, this.color.toString());\r\n            gradient.addColorStop(0.65, this.color.toString());\r\n            gradient.addColorStop(1, 'white');\r\n\r\n            context.fillStyle = gradient;\r\n            context.beginPath();\r\n            context.arc(\r\n                w / 2,\r\n                h / 2,\r\n                radius,\r\n                radians(0),\r\n                radians(360),\r\n                false\r\n            );\r\n            context.closePath();\r\n            context.fill();\r\n        }\r\n    } else if (this.orientation === 'horizontal') {\r\n        context.lineWidth = h / 3;\r\n        gradient = context.createLinearGradient(\r\n            0,\r\n            0,\r\n            0,\r\n            context.lineWidth\r\n        );\r\n        gradient.addColorStop(0, 'white');\r\n        gradient.addColorStop(1, this.color.toString());\r\n\r\n        context.strokeStyle = gradient;\r\n        context.beginPath();\r\n        context.moveTo(h / 2, context.lineWidth * 0.5);\r\n        context.lineTo(w - h / 2, context.lineWidth * 0.5);\r\n        context.stroke();\r\n\r\n        gradient = context.createLinearGradient(\r\n            0,\r\n            h - context.lineWidth,\r\n            0,\r\n            h\r\n        );\r\n        gradient.addColorStop(0, this.color.toString());\r\n        gradient.addColorStop(1, 'black');\r\n\r\n        context.strokeStyle = gradient;\r\n        context.beginPath();\r\n        context.moveTo(h / 2, h - context.lineWidth * 0.5);\r\n        context.lineTo(w - h / 2, h - context.lineWidth * 0.5);\r\n        context.stroke();\r\n\r\n        if (this.hasMiddleDip) {\r\n            gradient = context.createLinearGradient(\r\n                0,\r\n                context.lineWidth,\r\n                0,\r\n                h - context.lineWidth\r\n            );\r\n\r\n            radius = h / 4;\r\n            gradient.addColorStop(0, 'black');\r\n            gradient.addColorStop(0.35, this.color.toString());\r\n            gradient.addColorStop(0.65, this.color.toString());\r\n            gradient.addColorStop(1, 'white');\r\n\r\n            context.fillStyle = gradient;\r\n            context.beginPath();\r\n            context.arc(\r\n                this.width() / 2,\r\n                this.height() / 2,\r\n                radius,\r\n                radians(0),\r\n                radians(360),\r\n                false\r\n            );\r\n            context.closePath();\r\n            context.fill();\r\n        }\r\n    }\r\n};\r\n\r\n//SliderButtonMorph events:\r\n\r\nSliderButtonMorph.prototype.mouseEnter = function () {\r\n    this.image = this.highlightImage;\r\n    this.changed();\r\n};\r\n\r\nSliderButtonMorph.prototype.mouseLeave = function () {\r\n    this.image = this.normalImage;\r\n    this.changed();\r\n};\r\n\r\nSliderButtonMorph.prototype.mouseDownLeft = function (pos) {\r\n    this.image = this.pressImage;\r\n    this.changed();\r\n    this.escalateEvent('mouseDownLeft', pos);\r\n};\r\n\r\nSliderButtonMorph.prototype.mouseClickLeft = function () {\r\n    this.image = this.highlightImage;\r\n    this.changed();\r\n};\r\n\r\nSliderButtonMorph.prototype.mouseMove = function () {\r\n    // prevent my parent from getting picked up\r\n    nop();\r\n};\r\n\r\n// SliderMorph ///////////////////////////////////////////////////\r\n\r\n// SliderMorph inherits from CircleBoxMorph:\r\n\r\nSliderMorph.prototype = new CircleBoxMorph();\r\nSliderMorph.prototype.constructor = SliderMorph;\r\nSliderMorph.uber = CircleBoxMorph.prototype;\r\n\r\nfunction SliderMorph(start, stop, value, size, orientation, color) {\r\n    this.init(\r\n        start || 1,\r\n        stop || 100,\r\n        value || 50,\r\n        size || 10,\r\n        orientation || 'vertical',\r\n        color\r\n    );\r\n}\r\n\r\nSliderMorph.prototype.init = function (\r\n    start,\r\n    stop,\r\n    value,\r\n    size,\r\n    orientation,\r\n    color\r\n) {\r\n    this.target = null;\r\n    this.action = null;\r\n    this.start = start;\r\n    this.stop = stop;\r\n    this.value = value;\r\n    this.size = size;\r\n    this.offset = null;\r\n    this.button = new SliderButtonMorph();\r\n    this.button.isDraggable = false;\r\n    this.button.color = new Color(200, 200, 200);\r\n    this.button.highlightColor = new Color(210, 210, 255);\r\n    this.button.pressColor = new Color(180, 180, 255);\r\n    SliderMorph.uber.init.call(this, orientation);\r\n    this.add(this.button);\r\n    this.alpha = 0.3;\r\n    this.color = color || new Color(0, 0, 0);\r\n    this.setExtent(new Point(20, 100));\r\n    // this.drawNew();\r\n};\r\n\r\nSliderMorph.prototype.autoOrientation = nop;\r\n\r\nSliderMorph.prototype.rangeSize = function () {\r\n    return this.stop - this.start;\r\n};\r\n\r\nSliderMorph.prototype.ratio = function () {\r\n    return this.size / (this.rangeSize() + 1);\r\n};\r\n\r\nSliderMorph.prototype.unitSize = function () {\r\n    if (this.orientation === 'vertical') {\r\n        return (this.height() - this.button.height()) /\r\n            this.rangeSize();\r\n    }\r\n    return (this.width() - this.button.width()) /\r\n        this.rangeSize();\r\n};\r\n\r\nSliderMorph.prototype.drawNew = function () {\r\n    var bw, bh, posX, posY;\r\n\r\n    SliderMorph.uber.drawNew.call(this);\r\n    this.button.orientation = this.orientation;\r\n    if (this.orientation === 'vertical') {\r\n        bw  = this.width() - 2;\r\n        bh = Math.max(bw, Math.round(this.height() * this.ratio()));\r\n        this.button.silentSetExtent(new Point(bw, bh));\r\n        posX = 1;\r\n        posY = Math.min(\r\n            Math.round((this.value - this.start) * this.unitSize()),\r\n            this.height() - this.button.height()\r\n        );\r\n    } else {\r\n        bh = this.height() - 2;\r\n        bw  = Math.max(bh, Math.round(this.width() * this.ratio()));\r\n        this.button.silentSetExtent(new Point(bw, bh));\r\n        posY = 1;\r\n        posX = Math.min(\r\n            Math.round((this.value - this.start) * this.unitSize()),\r\n            this.width() - this.button.width()\r\n        );\r\n    }\r\n    this.button.setPosition(\r\n        new Point(posX, posY).add(this.bounds.origin)\r\n    );\r\n    this.button.drawNew();\r\n    this.button.changed();\r\n};\r\n\r\nSliderMorph.prototype.updateValue = function () {\r\n    var relPos;\r\n    if (this.orientation === 'vertical') {\r\n        relPos = this.button.top() - this.top();\r\n    } else {\r\n        relPos = this.button.left() - this.left();\r\n    }\r\n    this.value = Math.round(relPos / this.unitSize() + this.start);\r\n    this.updateTarget();\r\n};\r\n\r\nSliderMorph.prototype.updateTarget = function () {\r\n    if (this.action) {\r\n        if (typeof this.action === 'function') {\r\n            this.action.call(this.target, this.value);\r\n        } else { // assume it's a String\r\n            this.target[this.action](this.value);\r\n        }\r\n    }\r\n};\r\n\r\n// SliderMorph menu:\r\n\r\nSliderMorph.prototype.developersMenu = function () {\r\n    var menu = SliderMorph.uber.developersMenu.call(this);\r\n    menu.addItem(\r\n        \"show value...\",\r\n        'showValue',\r\n        'display a dialog box\\nshowing the selected number'\r\n    );\r\n    menu.addItem(\r\n        \"floor...\",\r\n        function () {\r\n            this.prompt(\r\n                menu.title + '\\nfloor:',\r\n                this.setStart,\r\n                this,\r\n                this.start.toString(),\r\n                null,\r\n                0,\r\n                this.stop - this.size,\r\n                true\r\n            );\r\n        },\r\n        'set the minimum value\\nwhich can be selected'\r\n    );\r\n    menu.addItem(\r\n        \"ceiling...\",\r\n        function () {\r\n            this.prompt(\r\n                menu.title + '\\nceiling:',\r\n                this.setStop,\r\n                this,\r\n                this.stop.toString(),\r\n                null,\r\n                this.start + this.size,\r\n                this.size * 100,\r\n                true\r\n            );\r\n        },\r\n        'set the maximum value\\nwhich can be selected'\r\n    );\r\n    menu.addItem(\r\n        \"button size...\",\r\n        function () {\r\n            this.prompt(\r\n                menu.title + '\\nbutton size:',\r\n                this.setSize,\r\n                this,\r\n                this.size.toString(),\r\n                null,\r\n                1,\r\n                this.stop - this.start,\r\n                true\r\n            );\r\n        },\r\n        'set the range\\ncovered by\\nthe slider button'\r\n    );\r\n    menu.addLine();\r\n    menu.addItem(\r\n        'set target',\r\n        \"setTarget\",\r\n        'select another morph\\nwhose numerical property\\nwill be ' +\r\n            'controlled by this one'\r\n    );\r\n    return menu;\r\n};\r\n\r\nSliderMorph.prototype.showValue = function () {\r\n    this.inform(this.value);\r\n};\r\n\r\nSliderMorph.prototype.userSetStart = function (num) {\r\n    // for context menu demo purposes\r\n    this.start = Math.max(num, this.stop);\r\n};\r\n\r\nSliderMorph.prototype.setStart = function (num, noUpdate) {\r\n    // for context menu demo purposes\r\n    var newStart;\r\n    if (typeof num === 'number') {\r\n        this.start = Math.min(\r\n            num,\r\n            this.stop - this.size\r\n        );\r\n    } else {\r\n        newStart = parseFloat(num);\r\n        if (!isNaN(newStart)) {\r\n            this.start = Math.min(\r\n                newStart,\r\n                this.stop - this.size\r\n            );\r\n        }\r\n    }\r\n    this.value = Math.max(this.value, this.start);\r\n    if (!noUpdate) {this.updateTarget(); }\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nSliderMorph.prototype.setStop = function (num, noUpdate) {\r\n    // for context menu demo purposes\r\n    var newStop;\r\n    if (typeof num === 'number') {\r\n        this.stop = Math.max(num, this.start + this.size);\r\n    } else {\r\n        newStop = parseFloat(num);\r\n        if (!isNaN(newStop)) {\r\n            this.stop = Math.max(newStop, this.start + this.size);\r\n        }\r\n    }\r\n    this.value = Math.min(this.value, this.stop);\r\n    if (!noUpdate) {this.updateTarget(); }\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nSliderMorph.prototype.setSize = function (num, noUpdate) {\r\n    // for context menu demo purposes\r\n    var newSize;\r\n    if (typeof num === 'number') {\r\n        this.size = Math.min(\r\n            Math.max(num, 1),\r\n            this.stop - this.start\r\n        );\r\n    } else {\r\n        newSize = parseFloat(num);\r\n        if (!isNaN(newSize)) {\r\n            this.size = Math.min(\r\n                Math.max(newSize, 1),\r\n                this.stop - this.start\r\n            );\r\n        }\r\n    }\r\n    this.value = Math.min(this.value, this.stop - this.size);\r\n    if (!noUpdate) {this.updateTarget(); }\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nSliderMorph.prototype.setTarget = function () {\r\n    var choices = this.overlappedMorphs(),\r\n        menu = new MenuMorph(this, 'choose target:'),\r\n        myself = this;\r\n\r\n    choices.push(this.world());\r\n    choices.forEach(function (each) {\r\n        menu.addItem(each.toString().slice(0, 50), function () {\r\n            myself.target = each;\r\n            myself.setTargetSetter();\r\n        });\r\n    });\r\n    if (choices.length === 1) {\r\n        this.target = choices[0];\r\n        this.setTargetSetter();\r\n    } else if (choices.length > 0) {\r\n        menu.popUpAtHand(this.world());\r\n    }\r\n};\r\n\r\nSliderMorph.prototype.setTargetSetter = function () {\r\n    var choices = this.target.numericalSetters(),\r\n        menu = new MenuMorph(this, 'choose target property:'),\r\n        myself = this;\r\n\r\n    choices.forEach(function (each) {\r\n        menu.addItem(each, function () {\r\n            myself.action = each;\r\n        });\r\n    });\r\n    if (choices.length === 1) {\r\n        this.action = choices[0];\r\n    } else if (choices.length > 0) {\r\n        menu.popUpAtHand(this.world());\r\n    }\r\n};\r\n\r\nSliderMorph.prototype.numericalSetters = function () {\r\n    // for context menu demo purposes\r\n    var list = SliderMorph.uber.numericalSetters.call(this);\r\n    list.push('setStart', 'setStop', 'setSize');\r\n    return list;\r\n};\r\n\r\n// SliderMorph stepping:\r\n\r\nSliderMorph.prototype.step = null;\r\n\r\nSliderMorph.prototype.mouseDownLeft = function (pos) {\r\n    var world, myself = this;\r\n\r\n    if (!this.button.bounds.containsPoint(pos)) {\r\n        this.offset = new Point(); // return null;\r\n    } else {\r\n        this.offset = pos.subtract(this.button.bounds.origin);\r\n    }\r\n    world = this.root();\r\n    this.step = function () {\r\n        var mousePos, newX, newY;\r\n        if (world.hand.mouseButton) {\r\n            mousePos = world.hand.bounds.origin;\r\n            if (myself.orientation === 'vertical') {\r\n                newX = myself.button.bounds.origin.x;\r\n                newY = Math.max(\r\n                    Math.min(\r\n                        mousePos.y - myself.offset.y,\r\n                        myself.bottom() - myself.button.height()\r\n                    ),\r\n                    myself.top()\r\n                );\r\n            } else {\r\n                newY = myself.button.bounds.origin.y;\r\n                newX = Math.max(\r\n                    Math.min(\r\n                        mousePos.x - myself.offset.x,\r\n                        myself.right() - myself.button.width()\r\n                    ),\r\n                    myself.left()\r\n                );\r\n            }\r\n            myself.button.setPosition(new Point(newX, newY));\r\n            myself.updateValue();\r\n        } else {\r\n            this.step = null;\r\n        }\r\n    };\r\n};\r\n\r\n// MouseSensorMorph ////////////////////////////////////////////////////\r\n\r\n// for demo and debuggin purposes only, to be removed later\r\n\r\nvar MouseSensorMorph;\r\n\r\n// MouseSensorMorph inherits from BoxMorph:\r\n\r\nMouseSensorMorph.prototype = new BoxMorph();\r\nMouseSensorMorph.prototype.constructor = MouseSensorMorph;\r\nMouseSensorMorph.uber = BoxMorph.prototype;\r\n\r\n// MouseSensorMorph instance creation:\r\n\r\nfunction MouseSensorMorph(edge, border, borderColor) {\r\n    this.init(edge, border, borderColor);\r\n}\r\n\r\nMouseSensorMorph.prototype.init = function (edge, border, borderColor) {\r\n    MouseSensorMorph.uber.init.call(this);\r\n    this.edge = edge || 4;\r\n    this.border = border || 2;\r\n    this.color = new Color(255, 255, 255);\r\n    this.borderColor = borderColor || new Color();\r\n    this.isTouched = false;\r\n    this.upStep = 0.05;\r\n    this.downStep = 0.02;\r\n    this.noticesTransparentClick = false;\r\n    this.drawNew();\r\n};\r\n\r\nMouseSensorMorph.prototype.touch = function () {\r\n    var myself = this;\r\n    if (!this.isTouched) {\r\n        this.isTouched = true;\r\n        this.alpha = 0.6;\r\n\r\n        this.step = function () {\r\n            if (myself.isTouched) {\r\n                if (myself.alpha < 1) {\r\n                    myself.alpha = myself.alpha + myself.upStep;\r\n                }\r\n            } else if (myself.alpha > (myself.downStep)) {\r\n                myself.alpha = myself.alpha - myself.downStep;\r\n            } else {\r\n                myself.alpha = 0;\r\n                myself.step = null;\r\n            }\r\n            myself.changed();\r\n        };\r\n    }\r\n};\r\n\r\nMouseSensorMorph.prototype.unTouch = function () {\r\n    this.isTouched = false;\r\n};\r\n\r\nMouseSensorMorph.prototype.mouseEnter = function () {\r\n    this.touch();\r\n};\r\n\r\nMouseSensorMorph.prototype.mouseLeave = function () {\r\n    this.unTouch();\r\n};\r\n\r\nMouseSensorMorph.prototype.mouseDownLeft = function () {\r\n    this.touch();\r\n};\r\n\r\nMouseSensorMorph.prototype.mouseClickLeft = function () {\r\n    this.unTouch();\r\n};\r\n\r\n// InspectorMorph //////////////////////////////////////////////////////\r\n\r\n// InspectorMorph: referenced constructors\r\n\r\nvar ListMorph;\r\nvar TriggerMorph;\r\n\r\n// InspectorMorph inherits from BoxMorph:\r\n\r\nInspectorMorph.prototype = new BoxMorph();\r\nInspectorMorph.prototype.constructor = InspectorMorph;\r\nInspectorMorph.uber = BoxMorph.prototype;\r\n\r\n// InspectorMorph instance creation:\r\n\r\nfunction InspectorMorph(target) {\r\n    this.init(target);\r\n}\r\n\r\nInspectorMorph.prototype.init = function (target) {\r\n    // additional properties:\r\n    this.target = target;\r\n    this.currentProperty = null;\r\n    this.showing = 'attributes';\r\n    this.markOwnProperties = false;\r\n    this.hasUserEditedDetails = false;\r\n\r\n    // initialize inherited properties:\r\n    InspectorMorph.uber.init.call(this);\r\n\r\n    // override inherited properties:\r\n    this.silentSetExtent(\r\n        new Point(\r\n            MorphicPreferences.handleSize * 20,\r\n            MorphicPreferences.handleSize * 20 * 2 / 3\r\n        )\r\n    );\r\n    this.isDraggable = true;\r\n    this.border = 1;\r\n    this.edge = MorphicPreferences.isFlat ? 1 : 5;\r\n    this.color = new Color(60, 60, 60);\r\n    this.borderColor = new Color(95, 95, 95);\r\n    this.fps = 25;\r\n    this.drawNew();\r\n\r\n    // panes:\r\n    this.label = null;\r\n    this.list = null;\r\n    this.detail = null;\r\n    this.work = null;\r\n    this.buttonInspect = null;\r\n    this.buttonClose = null;\r\n    this.buttonSubset = null;\r\n    this.buttonEdit = null;\r\n    this.resizer = null;\r\n\r\n    if (this.target) {\r\n        this.buildPanes();\r\n    }\r\n};\r\n\r\nInspectorMorph.prototype.setTarget = function (target) {\r\n    this.target = target;\r\n    this.currentProperty = null;\r\n    this.buildPanes();\r\n};\r\n\r\nInspectorMorph.prototype.updateCurrentSelection = function () {\r\n    var val, txt, cnts,\r\n        sel = this.list.selected,\r\n        currentTxt = this.detail.contents.children[0],\r\n        root = this.root();\r\n\r\n    if (root &&\r\n            (root.keyboardReceiver instanceof CursorMorph) &&\r\n            (root.keyboardReceiver.target === currentTxt)) {\r\n        this.hasUserEditedDetails = true;\r\n        return;\r\n    }\r\n    if (isNil(sel) || this.hasUserEditedDetails) {return; }\r\n    val = this.target[sel];\r\n    this.currentProperty = val;\r\n    if (isNil(val)) {\r\n        txt = 'NULL';\r\n    } else if (isString(val)) {\r\n        txt = val;\r\n    } else {\r\n        txt = val.toString();\r\n    }\r\n    if (currentTxt.text === txt) {return; }\r\n    cnts = new TextMorph(txt);\r\n    cnts.isEditable = true;\r\n    cnts.enableSelecting();\r\n    cnts.setReceiver(this.target);\r\n    this.detail.setContents(cnts);\r\n};\r\n\r\nInspectorMorph.prototype.buildPanes = function () {\r\n    var attribs = [], property, myself = this, ctrl, ev, doubleClickAction;\r\n\r\n    // remove existing panes\r\n    this.children.forEach(function (m) {\r\n        if (m !== this.work) { // keep work pane around\r\n            m.destroy();\r\n        }\r\n    });\r\n    this.children = [];\r\n\r\n    // label\r\n    this.label = new TextMorph(this.target.toString());\r\n    this.label.fontSize = MorphicPreferences.menuFontSize;\r\n    this.label.isBold = true;\r\n    this.label.color = new Color(255, 255, 255);\r\n    this.label.drawNew();\r\n    this.add(this.label);\r\n\r\n    // properties list\r\n    for (property in this.target) {\r\n        if (property) { // dummy condition, to be refined\r\n            attribs.push(property);\r\n        }\r\n    }\r\n    if (this.showing === 'attributes') {\r\n        attribs = attribs.filter(function (prop) {\r\n            return typeof myself.target[prop] !== 'function';\r\n        });\r\n    } else if (this.showing === 'methods') {\r\n        attribs = attribs.filter(function (prop) {\r\n            return typeof myself.target[prop] === 'function';\r\n        });\r\n    } // otherwise show all properties\r\n\r\n    doubleClickAction = function () {\r\n        var world, inspector;\r\n        if (!isObject(myself.currentProperty)) {return; }\r\n        world = myself.world();\r\n        inspector = new InspectorMorph(\r\n            myself.currentProperty\r\n        );\r\n        inspector.setPosition(world.hand.position());\r\n        inspector.keepWithin(world);\r\n        world.add(inspector);\r\n        inspector.changed();\r\n    };\r\n\r\n    this.list = new ListMorph(\r\n        this.target instanceof Array ? attribs : attribs.sort(),\r\n        null, // label getter\r\n        this.markOwnProperties ?\r\n                [ // format list\r\n                    [ // format element: [color, predicate(element]\r\n                        new Color(0, 0, 180),\r\n                        function (element) {\r\n                            return Object.prototype.hasOwnProperty.call(\r\n                                myself.target,\r\n                                element\r\n                            );\r\n                        }\r\n                    ]\r\n                ]\r\n                : null,\r\n        doubleClickAction\r\n    );\r\n\r\n    this.list.action = function () {\r\n        myself.hasUserEditedDetails = false;\r\n        myself.updateCurrentSelection();\r\n    };\r\n\r\n    this.list.hBar.alpha = 0.6;\r\n    this.list.vBar.alpha = 0.6;\r\n    this.list.contents.step = null;\r\n    this.add(this.list);\r\n\r\n    // details pane\r\n    this.detail = new ScrollFrameMorph();\r\n    this.detail.acceptsDrops = false;\r\n    this.detail.contents.acceptsDrops = false;\r\n    this.detail.isTextLineWrapping = true;\r\n    this.detail.color = new Color(255, 255, 255);\r\n    this.detail.hBar.alpha = 0.6;\r\n    this.detail.vBar.alpha = 0.6;\r\n    ctrl = new TextMorph('');\r\n    ctrl.isEditable = true;\r\n    ctrl.enableSelecting();\r\n    ctrl.setReceiver(this.target);\r\n    this.detail.setContents(ctrl);\r\n    this.add(this.detail);\r\n\r\n    // work ('evaluation') pane\r\n    // don't refresh the work pane if it already exists\r\n    if (this.work === null) {\r\n        this.work = new ScrollFrameMorph();\r\n        this.work.acceptsDrops = false;\r\n        this.work.contents.acceptsDrops = false;\r\n        this.work.isTextLineWrapping = true;\r\n        this.work.color = new Color(255, 255, 255);\r\n        this.work.hBar.alpha = 0.6;\r\n        this.work.vBar.alpha = 0.6;\r\n        ev = new TextMorph('');\r\n        ev.isEditable = true;\r\n        ev.enableSelecting();\r\n        ev.setReceiver(this.target);\r\n        this.work.setContents(ev);\r\n    }\r\n    this.add(this.work);\r\n\r\n    // properties button\r\n    this.buttonSubset = new TriggerMorph();\r\n    this.buttonSubset.labelString = 'show...';\r\n    this.buttonSubset.action = function () {\r\n        var menu;\r\n        menu = new MenuMorph();\r\n        menu.addItem(\r\n            'attributes',\r\n            function () {\r\n                myself.showing = 'attributes';\r\n                myself.buildPanes();\r\n            }\r\n        );\r\n        menu.addItem(\r\n            'methods',\r\n            function () {\r\n                myself.showing = 'methods';\r\n                myself.buildPanes();\r\n            }\r\n        );\r\n        menu.addItem(\r\n            'all',\r\n            function () {\r\n                myself.showing = 'all';\r\n                myself.buildPanes();\r\n            }\r\n        );\r\n        menu.addLine();\r\n        menu.addItem(\r\n            (myself.markOwnProperties ?\r\n                    'un-mark own' : 'mark own'),\r\n            function () {\r\n                myself.markOwnProperties = !myself.markOwnProperties;\r\n                myself.buildPanes();\r\n            },\r\n            'highlight\\n\\'own\\' properties'\r\n        );\r\n        menu.popUpAtHand(myself.world());\r\n    };\r\n    this.add(this.buttonSubset);\r\n\r\n    // inspect button\r\n    this.buttonInspect = new TriggerMorph();\r\n    this.buttonInspect.labelString = 'inspect...';\r\n    this.buttonInspect.action = function () {\r\n        var menu, world, inspector;\r\n        if (isObject(myself.currentProperty)) {\r\n            menu = new MenuMorph();\r\n            menu.addItem(\r\n                'in new inspector...',\r\n                function () {\r\n                    world = myself.world();\r\n                    inspector = new InspectorMorph(\r\n                        myself.currentProperty\r\n                    );\r\n                    inspector.setPosition(world.hand.position());\r\n                    inspector.keepWithin(world);\r\n                    world.add(inspector);\r\n                    inspector.changed();\r\n                }\r\n            );\r\n            menu.addItem(\r\n                'here...',\r\n                function () {\r\n                    myself.setTarget(myself.currentProperty);\r\n                }\r\n            );\r\n            menu.popUpAtHand(myself.world());\r\n        } else {\r\n            myself.inform(\r\n                (myself.currentProperty === null ?\r\n                        'null' : typeof myself.currentProperty) +\r\n                            '\\nis not inspectable'\r\n            );\r\n        }\r\n    };\r\n    this.add(this.buttonInspect);\r\n\r\n    // edit button\r\n\r\n    this.buttonEdit = new TriggerMorph();\r\n    this.buttonEdit.labelString = 'edit...';\r\n    this.buttonEdit.action = function () {\r\n        var menu;\r\n        menu = new MenuMorph(myself);\r\n        menu.addItem(\"save\", 'save', 'accept changes');\r\n        menu.addLine();\r\n        menu.addItem(\"add property...\", 'addProperty');\r\n        menu.addItem(\"rename...\", 'renameProperty');\r\n        menu.addItem(\"remove...\", 'removeProperty');\r\n        menu.popUpAtHand(myself.world());\r\n    };\r\n    this.add(this.buttonEdit);\r\n\r\n    // close button\r\n    this.buttonClose = new TriggerMorph();\r\n    this.buttonClose.labelString = 'close';\r\n    this.buttonClose.action = function () {\r\n        myself.destroy();\r\n    };\r\n    this.add(this.buttonClose);\r\n\r\n    // resizer\r\n    this.resizer = new HandleMorph(\r\n        this,\r\n        150,\r\n        100,\r\n        this.edge,\r\n        this.edge\r\n    );\r\n\r\n    // update layout\r\n    this.fixLayout();\r\n};\r\n\r\nInspectorMorph.prototype.fixLayout = function () {\r\n    var x, y, r, b, w, h;\r\n\r\n    Morph.prototype.trackChanges = false;\r\n\r\n    // label\r\n    x = this.left() + this.edge;\r\n    y = this.top() + this.edge;\r\n    r = this.right() - this.edge;\r\n    w = r - x;\r\n    this.label.setPosition(new Point(x, y));\r\n    this.label.setWidth(w);\r\n    if (this.label.height() > (this.height() - 50)) {\r\n        this.silentSetHeight(this.label.height() + 50);\r\n        this.drawNew();\r\n        this.changed();\r\n        this.resizer.drawNew();\r\n    }\r\n\r\n    // list\r\n    y = this.label.bottom() + 2;\r\n    w = Math.min(\r\n        Math.floor(this.width() / 3),\r\n        this.list.listContents.width()\r\n    );\r\n\r\n    w -= this.edge;\r\n    b = this.bottom() - (2 * this.edge) -\r\n        MorphicPreferences.handleSize;\r\n    h = b - y;\r\n    this.list.setPosition(new Point(x, y));\r\n    this.list.setExtent(new Point(w, h));\r\n\r\n    // detail\r\n    x = this.list.right() + this.edge;\r\n    r = this.right() - this.edge;\r\n    w = r - x;\r\n    this.detail.setPosition(new Point(x, y));\r\n    this.detail.setExtent(new Point(w, (h * 2 / 3) - this.edge));\r\n\r\n    // work\r\n    y = this.detail.bottom() + this.edge;\r\n    this.work.setPosition(new Point(x, y));\r\n    this.work.setExtent(new Point(w, h / 3));\r\n\r\n    // properties button\r\n    x = this.list.left();\r\n    y = this.list.bottom() + this.edge;\r\n    w = this.list.width();\r\n    h = MorphicPreferences.handleSize;\r\n    this.buttonSubset.setPosition(new Point(x, y));\r\n    this.buttonSubset.setExtent(new Point(w, h));\r\n\r\n    // inspect button\r\n    x = this.detail.left();\r\n    w = this.detail.width() - this.edge -\r\n        MorphicPreferences.handleSize;\r\n    w = w / 3 - this.edge / 3;\r\n    this.buttonInspect.setPosition(new Point(x, y));\r\n    this.buttonInspect.setExtent(new Point(w, h));\r\n\r\n    // edit button\r\n    x = this.buttonInspect.right() + this.edge;\r\n    this.buttonEdit.setPosition(new Point(x, y));\r\n    this.buttonEdit.setExtent(new Point(w, h));\r\n\r\n    // close button\r\n    x = this.buttonEdit.right() + this.edge;\r\n    r = this.detail.right() - this.edge -\r\n        MorphicPreferences.handleSize;\r\n    w = r - x;\r\n    this.buttonClose.setPosition(new Point(x, y));\r\n    this.buttonClose.setExtent(new Point(w, h));\r\n\r\n    Morph.prototype.trackChanges = true;\r\n    this.changed();\r\n\r\n};\r\n\r\nInspectorMorph.prototype.setExtent = function (aPoint) {\r\n    InspectorMorph.uber.setExtent.call(this, aPoint);\r\n    this.fixLayout();\r\n};\r\n\r\n// InspectorMorph editing ops:\r\n\r\nInspectorMorph.prototype.save = function () {\r\n    var txt = this.detail.contents.children[0].text.toString(),\r\n        prop = this.list.selected;\r\n    try {\r\n        // this.target[prop] = evaluate(txt);\r\n        this.target.evaluateString('this.' + prop + ' = ' + txt);\r\n        this.hasUserEditedDetails = false;\r\n        if (this.target.drawNew) {\r\n            this.target.changed();\r\n            this.target.drawNew();\r\n            this.target.changed();\r\n        }\r\n    } catch (err) {\r\n        this.inform(err);\r\n    }\r\n};\r\n\r\nInspectorMorph.prototype.addProperty = function () {\r\n    var myself = this;\r\n    this.prompt(\r\n        'new property name:',\r\n        function (prop) {\r\n            if (prop) {\r\n                myself.target[prop] = null;\r\n                myself.buildPanes();\r\n                if (myself.target.drawNew) {\r\n                    myself.target.changed();\r\n                    myself.target.drawNew();\r\n                    myself.target.changed();\r\n                }\r\n            }\r\n        },\r\n        this,\r\n        'property' // Chrome cannot handle empty strings (others do)\r\n    );\r\n};\r\n\r\nInspectorMorph.prototype.renameProperty = function () {\r\n    var myself = this,\r\n        propertyName = this.list.selected;\r\n    this.prompt(\r\n        'property name:',\r\n        function (prop) {\r\n            try {\r\n                delete (myself.target[propertyName]);\r\n                myself.target[prop] = myself.currentProperty;\r\n            } catch (err) {\r\n                myself.inform(err);\r\n            }\r\n            myself.buildPanes();\r\n            if (myself.target.drawNew) {\r\n                myself.target.changed();\r\n                myself.target.drawNew();\r\n                myself.target.changed();\r\n            }\r\n        },\r\n        this,\r\n        propertyName\r\n    );\r\n};\r\n\r\nInspectorMorph.prototype.removeProperty = function () {\r\n    var prop = this.list.selected;\r\n    try {\r\n        delete (this.target[prop]);\r\n        this.currentProperty = null;\r\n        this.buildPanes();\r\n        if (this.target.drawNew) {\r\n            this.target.changed();\r\n            this.target.drawNew();\r\n            this.target.changed();\r\n        }\r\n    } catch (err) {\r\n        this.inform(err);\r\n    }\r\n};\r\n\r\n// InspectorMorph stepping\r\n\r\nInspectorMorph.prototype.step = function () {\r\n    this.updateCurrentSelection();\r\n    var lbl = this.target.toString();\r\n    if (this.label.text === lbl) {return; }\r\n    this.label.text = lbl;\r\n    this.label.drawNew();\r\n    this.fixLayout();\r\n};\r\n\r\n// InspectorMorph duplicating:\r\n\r\nInspectorMorph.prototype.updateReferences = function (map) {\r\n    var active = this.list.activeIndex();\r\n    InspectorMorph.uber.updateReferences.call(this, map);\r\n    this.buildPanes();\r\n    this.list.activateIndex(active);\r\n};\r\n\r\n// MenuMorph ///////////////////////////////////////////////////////////\r\n\r\n// MenuMorph: referenced constructors\r\n\r\nvar MenuItemMorph;\r\n\r\n// MenuMorph inherits from BoxMorph:\r\n\r\nMenuMorph.prototype = new BoxMorph();\r\nMenuMorph.prototype.constructor = MenuMorph;\r\nMenuMorph.uber = BoxMorph.prototype;\r\n\r\n// MenuMorph instance creation:\r\n\r\nfunction MenuMorph(target, title, environment, fontSize) {\r\n    this.init(target, title, environment, fontSize);\r\n\r\n    /*\r\n    if target is a function, use it as callback:\r\n    execute target as callback function with the action property\r\n    of the triggered MenuItem as argument.\r\n    Use the environment, if it is specified.\r\n    Note: if action is also a function, instead of becoming\r\n    the argument itself it will be called to answer the argument.\r\n    For selections, Yes/No Choices etc.\r\n\r\n    else (if target is not a function):\r\n\r\n        if action is a function:\r\n        execute the action with target as environment (can be null)\r\n        for lambdafied (inline) actions\r\n\r\n        else if action is a String:\r\n        treat it as function property of target and execute it\r\n        for selector-like actions\r\n    */\r\n}\r\n\r\nMenuMorph.prototype.init = function (target, title, environment, fontSize) {\r\n    // additional properties:\r\n    this.target = target;\r\n    this.title = title || null;\r\n    this.environment = environment || null;\r\n    this.fontSize = fontSize || null;\r\n    this.items = [];\r\n    this.label = null;\r\n    this.world = null;\r\n    this.isListContents = false;\r\n    this.hasFocus = false;\r\n    this.selection = null;\r\n    this.submenu = null;\r\n\r\n    // initialize inherited properties:\r\n    MenuMorph.uber.init.call(this);\r\n\r\n    // override inherited properties:\r\n    this.isDraggable = false;\r\n\r\n    // immutable properties:\r\n    this.border = null;\r\n    this.edge = null;\r\n};\r\n\r\nMenuMorph.prototype.addItem = function (\r\n    labelString,\r\n    action,\r\n    hint,\r\n    color,\r\n    bold, // bool\r\n    italic, // bool\r\n    doubleClickAction, // optional, when used as list contents\r\n    shortcut // optional string, icon (Morph or Canvas) or tuple [icon, string]\r\n) {\r\n    /*\r\n    labelString is normally a single-line string. But it can also be one\r\n    of the following:\r\n\r\n        * a multi-line string (containing line breaks)\r\n        * an icon (either a Morph or a Canvas)\r\n        * a tuple of format: [icon, string]\r\n    */\r\n    this.items.push([\r\n        localize(labelString || 'close'),\r\n        action || nop,\r\n        hint,\r\n        color,\r\n        bold || false,\r\n        italic || false,\r\n        doubleClickAction,\r\n        shortcut]);\r\n};\r\n\r\nMenuMorph.prototype.addMenu = function (label, aMenu, indicator) {\r\n    this.addPair(label, aMenu, isNil(indicator) ? '\\u25ba' : indicator);\r\n};\r\n\r\nMenuMorph.prototype.addPair = function (label, action, shortcut, hint) {\r\n    this.addItem(label, action, hint, null, null, null, null, shortcut);\r\n};\r\n\r\nMenuMorph.prototype.addLine = function (width) {\r\n    this.items.push([0, width || 1]);\r\n};\r\n\r\nMenuMorph.prototype.createLabel = function () {\r\n    var text;\r\n    if (this.label !== null) {\r\n        this.label.destroy();\r\n    }\r\n    text = new TextMorph(\r\n        localize(this.title),\r\n        this.fontSize || MorphicPreferences.menuFontSize,\r\n        MorphicPreferences.menuFontName,\r\n        true,\r\n        false,\r\n        'center'\r\n    );\r\n    text.alignment = 'center';\r\n    text.color = new Color(255, 255, 255);\r\n    text.backgroundColor = this.borderColor;\r\n    text.drawNew();\r\n    this.label = new BoxMorph(3, 0);\r\n    if (MorphicPreferences.isFlat) {\r\n        this.label.edge = 0;\r\n    }\r\n    this.label.color = this.borderColor;\r\n    this.label.borderColor = this.borderColor;\r\n    this.label.setExtent(text.extent().add(4));\r\n    this.label.drawNew();\r\n    this.label.add(text);\r\n    this.label.text = text;\r\n};\r\n\r\nMenuMorph.prototype.drawNew = function () {\r\n    var myself = this,\r\n        item,\r\n        fb,\r\n        x,\r\n        y,\r\n        isLine = false;\r\n\r\n    this.children.forEach(function (m) {\r\n        m.destroy();\r\n    });\r\n    this.children = [];\r\n    if (!this.isListContents) {\r\n        this.edge = MorphicPreferences.isFlat ? 0 : 5;\r\n        this.border = MorphicPreferences.isFlat ? 1 : 2;\r\n    }\r\n    this.color = new Color(255, 255, 255);\r\n    this.borderColor = new Color(60, 60, 60);\r\n    this.silentSetExtent(new Point(0, 0));\r\n\r\n    y = 2;\r\n    x = this.left() + 4;\r\n    if (!this.isListContents) {\r\n        if (this.title) {\r\n            this.createLabel();\r\n            this.label.setPosition(this.bounds.origin.add(4));\r\n            this.add(this.label);\r\n            y = this.label.bottom();\r\n        } else {\r\n            y = this.top() + 4;\r\n        }\r\n    }\r\n    y += 1;\r\n    this.items.forEach(function (tuple) {\r\n        isLine = false;\r\n        if (tuple instanceof StringFieldMorph ||\r\n                tuple instanceof ColorPickerMorph ||\r\n                tuple instanceof SliderMorph) {\r\n            item = tuple;\r\n        } else if (tuple[0] === 0) {\r\n            isLine = true;\r\n            item = new Morph();\r\n            item.color = myself.borderColor;\r\n            item.setHeight(tuple[1]);\r\n        } else {\r\n            item = new MenuItemMorph(\r\n                myself.target,\r\n                tuple[1],\r\n                tuple[0],\r\n                myself.fontSize || MorphicPreferences.menuFontSize,\r\n                MorphicPreferences.menuFontName,\r\n                myself.environment,\r\n                tuple[2], // bubble help hint\r\n                tuple[3], // color\r\n                tuple[4], // bold\r\n                tuple[5], // italic\r\n                tuple[6], // doubleclick action\r\n                tuple[7] // shortcut\r\n            );\r\n        }\r\n        if (isLine) {\r\n            y += 1;\r\n        }\r\n        item.setPosition(new Point(x, y));\r\n        myself.add(item);\r\n        y = y + item.height();\r\n        if (isLine) {\r\n            y += 1;\r\n        }\r\n    });\r\n\r\n    fb = this.fullBounds();\r\n    this.silentSetExtent(fb.extent().add(4));\r\n    this.adjustWidths();\r\n    MenuMorph.uber.drawNew.call(this);\r\n};\r\n\r\nMenuMorph.prototype.maxWidth = function () {\r\n    var w = 0;\r\n\r\n    if (this.parent instanceof FrameMorph) {\r\n        if (this.parent.scrollFrame instanceof ScrollFrameMorph) {\r\n            w = this.parent.scrollFrame.width();\r\n        }\r\n    }\r\n    this.children.forEach(function (item) {\r\n        if (item instanceof MenuItemMorph) {\r\n            w = Math.max(\r\n                w,\r\n                item.label.width() + 8 +\r\n                    (item.shortcut ? item.shortcut.width() + 4 : 0)\r\n            );\r\n        } else if ((item instanceof StringFieldMorph) ||\r\n                (item instanceof ColorPickerMorph) ||\r\n                (item instanceof SliderMorph)) {\r\n            w = Math.max(w, item.width());\r\n        }\r\n    });\r\n    if (this.label) {\r\n        w = Math.max(w, this.label.width());\r\n    }\r\n    return w;\r\n};\r\n\r\nMenuMorph.prototype.adjustWidths = function () {\r\n    var w = this.maxWidth(),\r\n        isSelected,\r\n        myself = this;\r\n    this.children.forEach(function (item) {\r\n        item.silentSetWidth(w);\r\n        if (item instanceof MenuItemMorph) {\r\n            item.fixLayout();\r\n            isSelected = (item.image === item.pressImage);\r\n            item.createBackgrounds();\r\n            if (isSelected) {\r\n                item.image = item.pressImage;\r\n            }\r\n        } else {\r\n            item.drawNew();\r\n            if (item === myself.label) {\r\n                item.text.setPosition(\r\n                    item.center().subtract(\r\n                        item.text.extent().floorDivideBy(2)\r\n                    )\r\n                );\r\n            }\r\n        }\r\n    });\r\n};\r\n\r\nMenuMorph.prototype.unselectAllItems = function () {\r\n    this.children.forEach(function (item) {\r\n        if (item instanceof MenuItemMorph) {\r\n            item.image = item.normalImage;\r\n        }\r\n    });\r\n    this.changed();\r\n};\r\n\r\nMenuMorph.prototype.popup = function (world, pos) {\r\n    this.drawNew();\r\n    this.setPosition(pos);\r\n    this.addShadow(new Point(2, 2), 80);\r\n    this.keepWithin(world);\r\n    if (world.activeMenu) {\r\n        world.activeMenu.destroy();\r\n    }\r\n    if (this.items.length < 1 && !this.title) { // don't show empty menus\r\n        return;\r\n    }\r\n    world.add(this);\r\n    world.activeMenu = this;\r\n    this.world = world; // optionally enable keyboard support\r\n    this.fullChanged();\r\n};\r\n\r\nMenuMorph.prototype.popUpAtHand = function (world) {\r\n    var wrrld = world || this.world;\r\n    this.popup(wrrld, wrrld.hand.position());\r\n};\r\n\r\nMenuMorph.prototype.popUpCenteredAtHand = function (world) {\r\n    var wrrld = world || this.world;\r\n    this.drawNew();\r\n    this.popup(\r\n        wrrld,\r\n        wrrld.hand.position().subtract(\r\n            this.extent().floorDivideBy(2)\r\n        )\r\n    );\r\n};\r\n\r\nMenuMorph.prototype.popUpCenteredInWorld = function (world) {\r\n    var wrrld = world || this.world;\r\n    this.drawNew();\r\n    this.popup(\r\n        wrrld,\r\n        wrrld.center().subtract(\r\n            this.extent().floorDivideBy(2)\r\n        )\r\n    );\r\n};\r\n\r\n// MenuMorph submenus\r\n\r\nMenuMorph.prototype.closeRootMenu = function () {\r\n    if (this.parent instanceof MenuMorph) {\r\n        this.parent.closeRootMenu();\r\n    } else {\r\n        this.destroy();\r\n    }\r\n};\r\n\r\nMenuMorph.prototype.closeSubmenu = function () {\r\n    if (this.submenu) {\r\n        this.submenu.destroy();\r\n        this.submenu = null;\r\n        this.unselectAllItems();\r\n    }\r\n};\r\n\r\n// MenuMorph keyboard accessibility\r\n\r\nMenuMorph.prototype.getFocus = function () {\r\n    this.world.keyboardReceiver = this;\r\n    this.selection = null;\r\n    this.selectFirst();\r\n    this.hasFocus = true;\r\n};\r\n\r\nMenuMorph.prototype.processKeyDown = function (event) {\r\n    switch (event.keyCode) {\r\n    case 13: // 'enter'\r\n    case 32: // 'space'\r\n        if (this.selection) {\r\n            this.selection.mouseClickLeft();\r\n            if (this.submenu) {\r\n                this.submenu.getFocus();\r\n            }\r\n        }\r\n        return;\r\n    case 27: // 'esc'\r\n        return this.destroy();\r\n    case 37: // 'left arrow'\r\n        return this.leaveSubmenu();\r\n    case 38: // 'up arrow'\r\n        return this.selectUp();\r\n    case 39: // 'right arrow'\r\n        return this.enterSubmenu();\r\n    case 40: // 'down arrow'\r\n        return this.selectDown();\r\n    default:\r\n        nop();\r\n    }\r\n};\r\n\r\nMenuMorph.prototype.processKeyUp = function (event) {\r\n    nop(event);\r\n};\r\n\r\nMenuMorph.prototype.processKeyPress = function (event) {\r\n    nop(event);\r\n};\r\n\r\nMenuMorph.prototype.selectFirst = function () {\r\n    var i;\r\n    for (i = 0; i < this.children.length; i += 1) {\r\n        if (this.children[i] instanceof MenuItemMorph) {\r\n            this.select(this.children[i]);\r\n            return;\r\n        }\r\n    }\r\n};\r\n\r\nMenuMorph.prototype.selectUp = function () {\r\n    var triggers, idx;\r\n\r\n    triggers = this.children.filter(function (each) {\r\n        return each instanceof MenuItemMorph;\r\n    });\r\n    if (!this.selection) {\r\n        if (triggers.length) {\r\n            this.select(triggers[0]);\r\n        }\r\n        return;\r\n    }\r\n    idx = triggers.indexOf(this.selection) - 1;\r\n    if (idx < 0) {\r\n        idx = triggers.length - 1;\r\n    }\r\n    this.select(triggers[idx]);\r\n};\r\n\r\nMenuMorph.prototype.selectDown = function () {\r\n    var triggers, idx;\r\n\r\n    triggers = this.children.filter(function (each) {\r\n        return each instanceof MenuItemMorph;\r\n    });\r\n    if (!this.selection) {\r\n        if (triggers.length) {\r\n            this.select(triggers[0]);\r\n        }\r\n        return;\r\n    }\r\n    idx = triggers.indexOf(this.selection) + 1;\r\n    if (idx >= triggers.length) {\r\n        idx = 0;\r\n    }\r\n    this.select(triggers[idx]);\r\n};\r\n\r\nMenuMorph.prototype.enterSubmenu = function () {\r\n    if (this.selection && this.selection.action instanceof MenuMorph) {\r\n        this.selection.popUpSubmenu();\r\n        if (this.submenu) {\r\n            this.submenu.getFocus();\r\n        }\r\n    }\r\n};\r\n\r\nMenuMorph.prototype.leaveSubmenu = function () {\r\n    var menu = this.parent;\r\n    if (this.parent instanceof MenuMorph) {\r\n        menu.submenu = null;\r\n        menu.hasFocus = true;\r\n        this.destroy();\r\n        menu.world.keyboardReceiver = menu;\r\n    }\r\n};\r\n\r\nMenuMorph.prototype.select = function (aMenuItem) {\r\n    this.unselectAllItems();\r\n    aMenuItem.image = aMenuItem.highlightImage;\r\n    aMenuItem.changed();\r\n    this.selection = aMenuItem;\r\n};\r\n\r\nMenuMorph.prototype.destroy = function () {\r\n    if (this.hasFocus) {\r\n        this.world.keyboardReceiver = null;\r\n    }\r\n    MenuMorph.uber.destroy.call(this);\r\n};\r\n\r\n// StringMorph /////////////////////////////////////////////////////////\r\n\r\n// I am a single line of text\r\n\r\n// StringMorph inherits from Morph:\r\n\r\nStringMorph.prototype = new Morph();\r\nStringMorph.prototype.constructor = StringMorph;\r\nStringMorph.uber = Morph.prototype;\r\n\r\n// StringMorph instance creation:\r\n\r\nfunction StringMorph(\r\n    text,\r\n    fontSize,\r\n    fontStyle,\r\n    bold,\r\n    italic,\r\n    isNumeric,\r\n    shadowOffset,\r\n    shadowColor,\r\n    color,\r\n    fontName\r\n) {\r\n    this.init(\r\n        text,\r\n        fontSize,\r\n        fontStyle,\r\n        bold,\r\n        italic,\r\n        isNumeric,\r\n        shadowOffset,\r\n        shadowColor,\r\n        color,\r\n        fontName\r\n    );\r\n}\r\n\r\nStringMorph.prototype.init = function (\r\n    text,\r\n    fontSize,\r\n    fontStyle,\r\n    bold,\r\n    italic,\r\n    isNumeric,\r\n    shadowOffset,\r\n    shadowColor,\r\n    color,\r\n    fontName\r\n) {\r\n    // additional properties:\r\n    this.text = text || ((text === '') ? '' : 'StringMorph');\r\n    this.fontSize = fontSize || 12;\r\n    this.fontName = fontName || MorphicPreferences.globalFontFamily;\r\n    this.fontStyle = fontStyle || 'sans-serif';\r\n    this.isBold = bold || false;\r\n    this.isItalic = italic || false;\r\n    this.isEditable = false;\r\n    this.isNumeric = isNumeric || false;\r\n    this.isPassword = false;\r\n    this.shadowOffset = shadowOffset || new Point(0, 0);\r\n    this.shadowColor = shadowColor || null;\r\n    this.isShowingBlanks = false;\r\n    this.blanksColor = new Color(180, 140, 140);\r\n\r\n    // additional properties for text-editing:\r\n    this.isScrollable = true; // scrolls into view when edited\r\n    this.currentlySelecting = false;\r\n    this.startMark = 0;\r\n    this.endMark = 0;\r\n    this.markedTextColor = new Color(255, 255, 255);\r\n    this.markedBackgoundColor = new Color(60, 60, 120);\r\n\r\n    // initialize inherited properties:\r\n    StringMorph.uber.init.call(this, true);\r\n\r\n    // override inherited properites:\r\n    this.color = color || new Color(0, 0, 0);\r\n    this.noticesTransparentClick = true;\r\n    this.drawNew();\r\n};\r\n\r\nStringMorph.prototype.toString = function () {\r\n    // e.g. 'a StringMorph(\"Hello World\")'\r\n    return 'a ' +\r\n        (this.constructor.name ||\r\n            this.constructor.toString().split(' ')[1].split('(')[0]) +\r\n        '(\"' + this.text.slice(0, 30) + '...\")';\r\n};\r\n\r\nStringMorph.prototype.password = function (letter, length) {\r\n    var ans = '',\r\n        i;\r\n    for (i = 0; i < length; i += 1) {\r\n        ans += letter;\r\n    }\r\n    return ans;\r\n};\r\n\r\nStringMorph.prototype.font = function () {\r\n    // answer a font string, e.g. 'bold italic 12px sans-serif'\r\n    var font = '';\r\n    if (this.isBold) {\r\n        font = font + 'bold ';\r\n    }\r\n    if (this.isItalic) {\r\n        font = font + 'italic ';\r\n    }\r\n    return font +\r\n        this.fontSize + 'px ' +\r\n        (this.fontName ? this.fontName + ', ' : '') +\r\n        this.fontStyle;\r\n};\r\n\r\nStringMorph.prototype.drawNew = function () {\r\n    var context, width, start, stop, i, p, c, x, y,\r\n        shadowOffset = this.shadowOffset || new Point(),\r\n        txt = this.isPassword ?\r\n                this.password('*', this.text.length) : this.text;\r\n\r\n    // initialize my surface property\r\n    this.image = newCanvas();\r\n    context = this.image.getContext('2d');\r\n    context.font = this.font();\r\n\r\n    // set my extent\r\n    width = Math.max(\r\n        context.measureText(txt).width + Math.abs(shadowOffset.x),\r\n        1\r\n    );\r\n    this.bounds.corner = this.bounds.origin.add(\r\n        new Point(\r\n            width,\r\n            fontHeight(this.fontSize) + Math.abs(shadowOffset.y)\r\n        )\r\n    );\r\n    this.image.width = width;\r\n    this.image.height = this.height();\r\n\r\n    // prepare context for drawing text\r\n    context.font = this.font();\r\n    context.textAlign = 'left';\r\n    context.textBaseline = 'bottom';\r\n\r\n    // first draw the shadow, if any\r\n    if (this.shadowColor) {\r\n        x = Math.max(shadowOffset.x, 0);\r\n        y = Math.max(shadowOffset.y, 0);\r\n        context.fillStyle = this.shadowColor.toString();\r\n        context.fillText(txt, x, fontHeight(this.fontSize) + y);\r\n    }\r\n\r\n    // now draw the actual text\r\n    x = Math.abs(Math.min(shadowOffset.x, 0));\r\n    y = Math.abs(Math.min(shadowOffset.y, 0));\r\n    context.fillStyle = this.color.toString();\r\n\r\n    if (this.isShowingBlanks) {\r\n        this.renderWithBlanks(context, x, fontHeight(this.fontSize) + y);\r\n    } else {\r\n        context.fillText(txt, x, fontHeight(this.fontSize) + y);\r\n    }\r\n\r\n    // draw the selection\r\n    start = Math.min(this.startMark, this.endMark);\r\n    stop = Math.max(this.startMark, this.endMark);\r\n    for (i = start; i < stop; i += 1) {\r\n        p = this.slotPosition(i).subtract(this.position());\r\n        c = txt.charAt(i);\r\n        context.fillStyle = this.markedBackgoundColor.toString();\r\n        context.fillRect(p.x, p.y, context.measureText(c).width + 1 + x,\r\n            fontHeight(this.fontSize) + y);\r\n        context.fillStyle = this.markedTextColor.toString();\r\n        context.fillText(c, p.x + x, fontHeight(this.fontSize) + y);\r\n    }\r\n\r\n    // notify my parent of layout change\r\n    if (this.parent) {\r\n        if (this.parent.fixLayout) {\r\n            this.parent.fixLayout();\r\n        }\r\n    }\r\n};\r\n\r\nStringMorph.prototype.renderWithBlanks = function (context, startX, y) {\r\n    var space = context.measureText(' ').width,\r\n        blank = newCanvas(new Point(space, this.height())),\r\n        ctx = blank.getContext('2d'),\r\n        words = this.text.split(' '),\r\n        x = startX || 0,\r\n        isFirst = true;\r\n\r\n    // create the blank form\r\n    ctx.fillStyle = this.blanksColor.toString();\r\n    ctx.arc(\r\n        space / 2,\r\n        blank.height / 2,\r\n        space / 2,\r\n        radians(0),\r\n        radians(360)\r\n    );\r\n    ctx.fill();\r\n\r\n    function drawBlank() {\r\n        context.drawImage(blank, x, 0);\r\n        x += space;\r\n    }\r\n\r\n    // render my text inserting blanks\r\n    words.forEach(function (word) {\r\n        if (!isFirst) {\r\n            drawBlank();\r\n        }\r\n        isFirst = false;\r\n        if (word !== '') {\r\n            context.fillText(word, x, y);\r\n            x += context.measureText(word).width;\r\n        }\r\n    });\r\n};\r\n\r\n// StringMorph measuring:\r\n\r\nStringMorph.prototype.slotPosition = function (slot) {\r\n    // answer the position point of the given index (\"slot\")\r\n    // where the cursor should be placed\r\n    var txt = this.isPassword ?\r\n                this.password('*', this.text.length) : this.text,\r\n        dest = Math.min(Math.max(slot, 0), txt.length),\r\n        context = this.image.getContext('2d'),\r\n        xOffset,\r\n        x,\r\n        y,\r\n        idx;\r\n\r\n    xOffset = 0;\r\n    for (idx = 0; idx < dest; idx += 1) {\r\n        xOffset += context.measureText(txt[idx]).width;\r\n    }\r\n    this.pos = dest;\r\n    x = this.left() + xOffset;\r\n    y = this.top();\r\n    return new Point(x, y);\r\n};\r\n\r\nStringMorph.prototype.slotAt = function (aPoint) {\r\n    // answer the slot (index) closest to the given point taking\r\n    // in account how far from the middle of the character it is,\r\n    // so the cursor can be moved accordingly\r\n\r\n    var txt = this.isPassword ?\r\n                this.password('*', this.text.length) : this.text,\r\n        idx = 0,\r\n        charX = 0,\r\n        context = this.image.getContext('2d');\r\n\r\n    while (aPoint.x - this.left() > charX) {\r\n        charX += context.measureText(txt[idx]).width;\r\n        idx += 1;\r\n        if (idx === txt.length) {\r\n            if ((context.measureText(txt).width -\r\n                    (context.measureText(txt[idx - 1]).width / 2)) <\r\n                    (aPoint.x - this.left())) {\r\n                return idx;\r\n            }\r\n        }\r\n    }\r\n\r\n    // see where our click fell with respect to the middle of the char\r\n    if (aPoint.x - this.left() >\r\n            charX - context.measureText(txt[idx - 1]).width / 2) {\r\n        return idx;\r\n    } else {\r\n        return idx - 1;\r\n    }\r\n};\r\n\r\nStringMorph.prototype.upFrom = function (slot) {\r\n    // answer the slot above the given one\r\n    return slot;\r\n};\r\n\r\nStringMorph.prototype.downFrom = function (slot) {\r\n    // answer the slot below the given one\r\n    return slot;\r\n};\r\n\r\nStringMorph.prototype.startOfLine = function () {\r\n    // answer the first slot (index) of the line for the given slot\r\n    return 0;\r\n};\r\n\r\nStringMorph.prototype.endOfLine = function () {\r\n    // answer the slot (index) indicating the EOL for the given slot\r\n    return this.text.length;\r\n};\r\n\r\nStringMorph.prototype.previousWordFrom = function (aSlot) {\r\n    // answer the slot (index) slots indicating the position of the\r\n    // previous word to the left of aSlot\r\n    var index = aSlot - 1;\r\n    \r\n    // while the current character is non-word one, we skip it, so that\r\n    // if we are in the middle of a non-alphanumeric sequence, we'll get\r\n    // right to the beginning of the previous word\r\n    while (index > 0 && !isWordChar(this.text[index])) {\r\n        index -= 1;\r\n    }\r\n\r\n    // while the current character is a word one, we skip it until we\r\n    // find the beginning of the current word\r\n    while (index > 0 && isWordChar(this.text[index - 1])) {\r\n        index -= 1;\r\n    }\r\n\r\n    return index;\r\n};\r\n\r\nStringMorph.prototype.nextWordFrom = function (aSlot) {\r\n    var index = aSlot;\r\n    \r\n    while (index < this.endOfLine() && !isWordChar(this.text[index])) {\r\n        index += 1;\r\n    }\r\n\r\n    while (index < this.endOfLine() && isWordChar(this.text[index])) {\r\n        index += 1;\r\n    }\r\n\r\n    return index;\r\n};\r\n\r\nStringMorph.prototype.rawHeight = function () {\r\n    // answer my corrected fontSize\r\n    return this.height() / 1.2;\r\n};\r\n\r\n// StringMorph menus:\r\n\r\nStringMorph.prototype.developersMenu = function () {\r\n    var menu = StringMorph.uber.developersMenu.call(this);\r\n\r\n    menu.addLine();\r\n    menu.addItem(\"edit\", 'edit');\r\n    menu.addItem(\r\n        \"font size...\",\r\n        function () {\r\n            this.prompt(\r\n                menu.title + '\\nfont\\nsize:',\r\n                this.setFontSize,\r\n                this,\r\n                this.fontSize.toString(),\r\n                null,\r\n                6,\r\n                500,\r\n                true\r\n            );\r\n        },\r\n        'set this String\\'s\\nfont point size'\r\n    );\r\n    if (this.fontStyle !== 'serif') {\r\n        menu.addItem(\"serif\", 'setSerif');\r\n    }\r\n    if (this.fontStyle !== 'sans-serif') {\r\n        menu.addItem(\"sans-serif\", 'setSansSerif');\r\n    }\r\n    if (this.isBold) {\r\n        menu.addItem(\"normal weight\", 'toggleWeight');\r\n    } else {\r\n        menu.addItem(\"bold\", 'toggleWeight');\r\n    }\r\n    if (this.isItalic) {\r\n        menu.addItem(\"normal style\", 'toggleItalic');\r\n    } else {\r\n        menu.addItem(\"italic\", 'toggleItalic');\r\n    }\r\n    if (this.isShowingBlanks) {\r\n        menu.addItem(\"hide blanks\", 'toggleShowBlanks');\r\n    } else {\r\n        menu.addItem(\"show blanks\", 'toggleShowBlanks');\r\n    }\r\n    if (this.isPassword) {\r\n        menu.addItem(\"show characters\", 'toggleIsPassword');\r\n    } else {\r\n        menu.addItem(\"hide characters\", 'toggleIsPassword');\r\n    }\r\n    return menu;\r\n};\r\n\r\nStringMorph.prototype.toggleIsDraggable = function () {\r\n    // for context menu demo purposes\r\n    this.isDraggable = !this.isDraggable;\r\n    if (this.isDraggable) {\r\n        this.disableSelecting();\r\n    } else {\r\n        this.enableSelecting();\r\n    }\r\n};\r\n\r\nStringMorph.prototype.toggleShowBlanks = function () {\r\n    this.isShowingBlanks = !this.isShowingBlanks;\r\n    this.changed();\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nStringMorph.prototype.toggleWeight = function () {\r\n    this.isBold = !this.isBold;\r\n    this.changed();\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nStringMorph.prototype.toggleItalic = function () {\r\n    this.isItalic = !this.isItalic;\r\n    this.changed();\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nStringMorph.prototype.toggleIsPassword = function () {\r\n    this.isPassword = !this.isPassword;\r\n    this.changed();\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nStringMorph.prototype.setSerif = function () {\r\n    this.fontStyle = 'serif';\r\n    this.changed();\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nStringMorph.prototype.setSansSerif = function () {\r\n    this.fontStyle = 'sans-serif';\r\n    this.changed();\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nStringMorph.prototype.setFontSize = function (size) {\r\n    // for context menu demo purposes\r\n    var newSize;\r\n    if (typeof size === 'number') {\r\n        this.fontSize = Math.round(Math.min(Math.max(size, 4), 500));\r\n    } else {\r\n        newSize = parseFloat(size);\r\n        if (!isNaN(newSize)) {\r\n            this.fontSize = Math.round(\r\n                Math.min(Math.max(newSize, 4), 500)\r\n            );\r\n        }\r\n    }\r\n    this.changed();\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nStringMorph.prototype.setText = function (size) {\r\n    // for context menu demo purposes\r\n    this.text = Math.round(size).toString();\r\n    this.changed();\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nStringMorph.prototype.numericalSetters = function () {\r\n    // for context menu demo purposes\r\n    return [\r\n        'setLeft',\r\n        'setTop',\r\n        'setAlphaScaled',\r\n        'setFontSize',\r\n        'setText'\r\n    ];\r\n};\r\n\r\n// StringMorph editing:\r\n\r\nStringMorph.prototype.edit = function () {\r\n    this.root().edit(this);\r\n};\r\n\r\nStringMorph.prototype.selection = function () {\r\n    var start, stop;\r\n    start = Math.min(this.startMark, this.endMark);\r\n    stop = Math.max(this.startMark, this.endMark);\r\n    return this.text.slice(start, stop);\r\n};\r\n\r\nStringMorph.prototype.selectionStartSlot = function () {\r\n    return Math.min(this.startMark, this.endMark);\r\n};\r\n\r\nStringMorph.prototype.clearSelection = function () {\r\n    if (!this.currentlySelecting &&\r\n            isNil(this.startMark) &&\r\n            isNil(this.endMark)) {\r\n        return;\r\n    }\r\n    this.currentlySelecting = false;\r\n    this.startMark = null;\r\n    this.endMark = null;\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nStringMorph.prototype.deleteSelection = function () {\r\n    var start, stop, text;\r\n    text = this.text;\r\n    start = Math.min(this.startMark, this.endMark);\r\n    stop = Math.max(this.startMark, this.endMark);\r\n    this.text = text.slice(0, start) + text.slice(stop);\r\n    this.changed();\r\n    this.clearSelection();\r\n};\r\n\r\nStringMorph.prototype.selectAll = function () {\r\n    var cursor;\r\n    if (this.isEditable) {\r\n        this.startMark = 0;\r\n        cursor = this.root().cursor;\r\n        if (cursor) {\r\n            cursor.gotoSlot(this.text.length);\r\n        }\r\n        this.endMark = this.text.length;\r\n        this.drawNew();\r\n        this.changed();\r\n    }\r\n};\r\n\r\nStringMorph.prototype.mouseDownLeft = function (pos) {\r\n    if (this.world().currentKey === 16) {\r\n        this.shiftClick(pos);\r\n    } else if (this.isEditable) {\r\n        this.clearSelection();\r\n    } else {\r\n        this.escalateEvent('mouseDownLeft', pos);\r\n    }\r\n};\r\n\r\nStringMorph.prototype.shiftClick = function (pos) {\r\n    var cursor = this.root().cursor;\r\n\r\n    if (cursor) {\r\n        if (!this.startMark) {\r\n            this.startMark = cursor.slot;\r\n        }\r\n        cursor.gotoPos(pos);\r\n        this.endMark = cursor.slot;\r\n        this.drawNew();\r\n        this.changed();\r\n    }\r\n    this.currentlySelecting = false;\r\n    this.escalateEvent('mouseDownLeft', pos);\r\n};\r\n\r\nStringMorph.prototype.mouseClickLeft = function (pos) {\r\n    var cursor;\r\n    if (this.isEditable) {\r\n        if (!this.currentlySelecting) {\r\n            this.edit(); // creates a new cursor\r\n        }\r\n        cursor = this.root().cursor;\r\n        if (cursor) {\r\n            cursor.gotoPos(pos);\r\n        }\r\n        this.currentlySelecting = true;\r\n    } else {\r\n        this.escalateEvent('mouseClickLeft', pos);\r\n    }\r\n};\r\n\r\nStringMorph.prototype.mouseDoubleClick = function (pos) {\r\n    // selects the word at pos\r\n    // if there is no word, we select whatever is between\r\n    // the previous and next words\r\n    var slot = this.slotAt(pos);\r\n\r\n    if (this.isEditable) {\r\n        this.edit();\r\n\r\n        if (slot === this.text.length) {\r\n            slot -= 1;\r\n        }\r\n\r\n        if (this.text[slot] && isWordChar(this.text[slot])) {\r\n            this.selectWordAt(slot);\r\n        } else if (this.text[slot]) {\r\n            this.selectBetweenWordsAt(slot);\r\n        } else {\r\n            // special case for when we click right after the\r\n            // last slot in multi line TextMorphs\r\n            this.selectAll();\r\n        }\r\n    } else {\r\n        this.escalateEvent('mouseDoubleClick', pos);\r\n    }\r\n};\r\n\r\nStringMorph.prototype.selectWordAt = function (slot) {\r\n    var cursor = this.root().cursor;\r\n\r\n    if (slot === 0 || isWordChar(this.text[slot - 1])) {\r\n        cursor.gotoSlot(this.previousWordFrom(slot));\r\n        this.startMark = cursor.slot;\r\n        this.endMark = this.nextWordFrom(cursor.slot);\r\n    } else {\r\n        cursor.gotoSlot(slot);\r\n        this.startMark = slot;\r\n        this.endMark = this.nextWordFrom(slot);\r\n    }\r\n\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nStringMorph.prototype.selectBetweenWordsAt = function (slot) {\r\n    var cursor = this.root().cursor;\r\n\r\n    cursor.gotoSlot(this.nextWordFrom(this.previousWordFrom(slot)));\r\n    this.startMark = cursor.slot;\r\n    this.endMark = cursor.slot;\r\n\r\n    while (this.endMark < this.text.length\r\n            && !isWordChar(this.text[this.endMark])) {\r\n        this.endMark += 1;\r\n    }\r\n\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nStringMorph.prototype.enableSelecting = function () {\r\n    this.mouseDownLeft = function (pos) {\r\n        var crs = this.root().cursor,\r\n            already = crs ? crs.target === this : false;\r\n        if (this.world().currentKey === 16) {\r\n            this.shiftClick(pos);\r\n        } else {\r\n            this.clearSelection();\r\n            if (this.isEditable && (!this.isDraggable)) {\r\n                this.edit();\r\n                this.root().cursor.gotoPos(pos);\r\n                this.startMark = this.slotAt(pos);\r\n                this.endMark = this.startMark;\r\n                this.currentlySelecting = true;\r\n                if (!already) {this.escalateEvent('mouseDownLeft', pos); }\r\n            }\r\n        }\r\n    };\r\n    this.mouseMove = function (pos) {\r\n        if (this.isEditable &&\r\n                this.currentlySelecting &&\r\n                (!this.isDraggable)) {\r\n            var newMark = this.slotAt(pos);\r\n            if (newMark !== this.endMark) {\r\n                this.endMark = newMark;\r\n                this.drawNew();\r\n                this.changed();\r\n            }\r\n        }\r\n    };\r\n};\r\n\r\nStringMorph.prototype.disableSelecting = function () {\r\n    this.mouseDownLeft = StringMorph.prototype.mouseDownLeft;\r\n    delete this.mouseMove;\r\n};\r\n\r\n// TextMorph ////////////////////////////////////////////////////////////////\r\n\r\n// I am a multi-line, word-wrapping String, quasi-inheriting from StringMorph\r\n\r\n// TextMorph inherits from Morph:\r\n\r\nTextMorph.prototype = new Morph();\r\nTextMorph.prototype.constructor = TextMorph;\r\nTextMorph.uber = Morph.prototype;\r\n\r\n// TextMorph instance creation:\r\n\r\nfunction TextMorph(\r\n    text,\r\n    fontSize,\r\n    fontStyle,\r\n    bold,\r\n    italic,\r\n    alignment,\r\n    width,\r\n    fontName,\r\n    shadowOffset,\r\n    shadowColor\r\n) {\r\n    this.init(text,\r\n        fontSize,\r\n        fontStyle,\r\n        bold,\r\n        italic,\r\n        alignment,\r\n        width,\r\n        fontName,\r\n        shadowOffset,\r\n        shadowColor);\r\n}\r\n\r\nTextMorph.prototype.init = function (\r\n    text,\r\n    fontSize,\r\n    fontStyle,\r\n    bold,\r\n    italic,\r\n    alignment,\r\n    width,\r\n    fontName,\r\n    shadowOffset,\r\n    shadowColor\r\n) {\r\n    // additional properties:\r\n    this.text = text || (text === '' ? text : 'TextMorph');\r\n    this.words = [];\r\n    this.lines = [];\r\n    this.lineSlots = [];\r\n    this.fontSize = fontSize || 12;\r\n    this.fontName = fontName || MorphicPreferences.globalFontFamily;\r\n    this.fontStyle = fontStyle || 'sans-serif';\r\n    this.isBold = bold || false;\r\n    this.isItalic = italic || false;\r\n    this.alignment = alignment || 'left';\r\n    this.shadowOffset = shadowOffset || new Point(0, 0);\r\n    this.shadowColor = shadowColor || null;\r\n    this.maxWidth = width || 0;\r\n    this.maxLineWidth = 0;\r\n    this.backgroundColor = null;\r\n    this.isEditable = false;\r\n\r\n    //additional properties for ad-hoc evaluation:\r\n    this.receiver = null;\r\n\r\n    // additional properties for text-editing:\r\n    this.isScrollable = true; // scrolls into view when edited\r\n    this.currentlySelecting = false;\r\n    this.startMark = 0;\r\n    this.endMark = 0;\r\n    this.markedTextColor = new Color(255, 255, 255);\r\n    this.markedBackgoundColor = new Color(60, 60, 120);\r\n\r\n    // initialize inherited properties:\r\n    TextMorph.uber.init.call(this);\r\n\r\n    // override inherited properites:\r\n    this.color = new Color(0, 0, 0);\r\n    this.noticesTransparentClick = true;\r\n    this.drawNew();\r\n};\r\n\r\nTextMorph.prototype.toString = function () {\r\n    // e.g. 'a TextMorph(\"Hello World\")'\r\n    return 'a TextMorph' + '(\"' + this.text.slice(0, 30) + '...\")';\r\n};\r\n\r\nTextMorph.prototype.font = StringMorph.prototype.font;\r\n\r\nTextMorph.prototype.parse = function () {\r\n    var myself = this,\r\n        paragraphs = this.text.split('\\n'),\r\n        canvas = newCanvas(),\r\n        context = canvas.getContext('2d'),\r\n        oldline = '',\r\n        newline,\r\n        w,\r\n        slot = 0;\r\n\r\n    context.font = this.font();\r\n    this.maxLineWidth = 0;\r\n    this.lines = [];\r\n    this.lineSlots = [0];\r\n    this.words = [];\r\n\r\n    paragraphs.forEach(function (p) {\r\n        myself.words = myself.words.concat(p.split(' '));\r\n        myself.words.push('\\n');\r\n    });\r\n\r\n    this.words.forEach(function (word) {\r\n        if (word === '\\n') {\r\n            myself.lines.push(oldline);\r\n            myself.lineSlots.push(slot);\r\n            myself.maxLineWidth = Math.max(\r\n                myself.maxLineWidth,\r\n                context.measureText(oldline).width\r\n            );\r\n            oldline = '';\r\n        } else {\r\n            if (myself.maxWidth > 0) {\r\n                newline = oldline + word + ' ';\r\n                w = context.measureText(newline).width;\r\n                if (w > myself.maxWidth) {\r\n                    myself.lines.push(oldline);\r\n                    myself.lineSlots.push(slot);\r\n                    myself.maxLineWidth = Math.max(\r\n                        myself.maxLineWidth,\r\n                        context.measureText(oldline).width\r\n                    );\r\n                    oldline = word + ' ';\r\n                } else {\r\n                    oldline = newline;\r\n                }\r\n            } else {\r\n                oldline = oldline + word + ' ';\r\n            }\r\n            slot += word.length + 1;\r\n        }\r\n    });\r\n};\r\n\r\nTextMorph.prototype.drawNew = function () {\r\n    var context, height, i, line, width, shadowHeight, shadowWidth,\r\n        offx, offy, x, y, start, stop, p, c;\r\n\r\n    this.image = newCanvas();\r\n    context = this.image.getContext('2d');\r\n    context.font = this.font();\r\n    this.parse();\r\n\r\n    // set my extent\r\n    shadowWidth = Math.abs(this.shadowOffset.x);\r\n    shadowHeight = Math.abs(this.shadowOffset.y);\r\n    height = this.lines.length * (fontHeight(this.fontSize) + shadowHeight);\r\n    if (this.maxWidth === 0) {\r\n        this.bounds = this.bounds.origin.extent(\r\n            new Point(this.maxLineWidth + shadowWidth, height)\r\n        );\r\n    } else {\r\n        this.bounds = this.bounds.origin.extent(\r\n            new Point(this.maxWidth + shadowWidth, height)\r\n        );\r\n    }\r\n    this.image.width = this.width();\r\n    this.image.height = this.height();\r\n\r\n    // prepare context for drawing text\r\n    context = this.image.getContext('2d');\r\n    context.font = this.font();\r\n    context.textAlign = 'left';\r\n    context.textBaseline = 'bottom';\r\n\r\n    // fill the background, if desired\r\n    if (this.backgroundColor) {\r\n        context.fillStyle = this.backgroundColor.toString();\r\n        context.fillRect(0, 0, this.width(), this.height());\r\n    }\r\n\r\n    // draw the shadow, if any\r\n    if (this.shadowColor) {\r\n        offx = Math.max(this.shadowOffset.x, 0);\r\n        offy = Math.max(this.shadowOffset.y, 0);\r\n        context.fillStyle = this.shadowColor.toString();\r\n\r\n        for (i = 0; i < this.lines.length; i = i + 1) {\r\n            line = this.lines[i];\r\n            width = context.measureText(line).width + shadowWidth;\r\n            if (this.alignment === 'right') {\r\n                x = this.width() - width;\r\n            } else if (this.alignment === 'center') {\r\n                x = (this.width() - width) / 2;\r\n            } else { // 'left'\r\n                x = 0;\r\n            }\r\n            y = (i + 1) * (fontHeight(this.fontSize) + shadowHeight)\r\n                - shadowHeight;\r\n            context.fillText(line, x + offx, y + offy);\r\n        }\r\n    }\r\n\r\n    // now draw the actual text\r\n    offx = Math.abs(Math.min(this.shadowOffset.x, 0));\r\n    offy = Math.abs(Math.min(this.shadowOffset.y, 0));\r\n    context.fillStyle = this.color.toString();\r\n\r\n    for (i = 0; i < this.lines.length; i = i + 1) {\r\n        line = this.lines[i];\r\n        width = context.measureText(line).width + shadowWidth;\r\n        if (this.alignment === 'right') {\r\n            x = this.width() - width;\r\n        } else if (this.alignment === 'center') {\r\n            x = (this.width() - width) / 2;\r\n        } else { // 'left'\r\n            x = 0;\r\n        }\r\n        y = (i + 1) * (fontHeight(this.fontSize) + shadowHeight)\r\n            - shadowHeight;\r\n        context.fillText(line, x + offx, y + offy);\r\n    }\r\n\r\n    // draw the selection\r\n    start = Math.min(this.startMark, this.endMark);\r\n    stop = Math.max(this.startMark, this.endMark);\r\n    for (i = start; i < stop; i += 1) {\r\n        p = this.slotPosition(i).subtract(this.position());\r\n        c = this.text.charAt(i);\r\n        context.fillStyle = this.markedBackgoundColor.toString();\r\n        context.fillRect(p.x, p.y, context.measureText(c).width + 1,\r\n            fontHeight(this.fontSize));\r\n        context.fillStyle = this.markedTextColor.toString();\r\n        context.fillText(c, p.x, p.y + fontHeight(this.fontSize));\r\n    }\r\n\r\n    // notify my parent of layout change\r\n    if (this.parent) {\r\n        if (this.parent.layoutChanged) {\r\n            this.parent.layoutChanged();\r\n        }\r\n    }\r\n};\r\n\r\nTextMorph.prototype.setExtent = function (aPoint) {\r\n    this.maxWidth = Math.max(aPoint.x, 0);\r\n    this.changed();\r\n    this.drawNew();\r\n};\r\n\r\n// TextMorph mesuring:\r\n\r\nTextMorph.prototype.columnRow = function (slot) {\r\n    // answer the logical position point of the given index (\"slot\")\r\n    var row,\r\n        col,\r\n        idx = 0;\r\n\r\n    for (row = 0; row < this.lines.length; row += 1) {\r\n        idx = this.lineSlots[row];\r\n        for (col = 0; col < this.lines[row].length; col += 1) {\r\n            if (idx === slot) {\r\n                return new Point(col, row);\r\n            }\r\n            idx += 1;\r\n        }\r\n    }\r\n    // return new Point(0, 0);\r\n    return new Point(\r\n        this.lines[this.lines.length - 1].length - 1,\r\n        this.lines.length - 1\r\n    );\r\n};\r\n\r\nTextMorph.prototype.slotPosition = function (slot) {\r\n    // answer the physical position point of the given index (\"slot\")\r\n    // where the cursor should be placed\r\n    var colRow = this.columnRow(slot),\r\n        context = this.image.getContext('2d'),\r\n        shadowHeight = Math.abs(this.shadowOffset.y),\r\n        xOffset = 0,\r\n        yOffset,\r\n        x,\r\n        y,\r\n        idx;\r\n\r\n    yOffset = colRow.y * (fontHeight(this.fontSize) + shadowHeight);\r\n    for (idx = 0; idx < colRow.x; idx += 1) {\r\n        xOffset += context.measureText(this.lines[colRow.y][idx]).width;\r\n    }\r\n    x = this.left() + xOffset;\r\n    y = this.top() + yOffset;\r\n    return new Point(x, y);\r\n};\r\n\r\nTextMorph.prototype.slotAt = function (aPoint) {\r\n    // answer the slot (index) closest to the given point taking\r\n    // in account how far from the middle of the character it is,\r\n    // so the cursor can be moved accordingly\r\n\r\n    var charX = 0,\r\n        row = 0,\r\n        col = 0,\r\n        shadowHeight = Math.abs(this.shadowOffset.y),\r\n        context = this.image.getContext('2d');\r\n\r\n    while (aPoint.y - this.top() >\r\n            ((fontHeight(this.fontSize) + shadowHeight) * row)) {\r\n        row += 1;\r\n    }\r\n    row = Math.max(row, 1);\r\n\r\n    while (aPoint.x - this.left() > charX) {\r\n        charX += context.measureText(this.lines[row - 1][col]).width;\r\n        col += 1;\r\n    }\r\n\r\n    // see where our click fell with respect to the middle of the char\r\n    if (aPoint.x - this.left() >\r\n            charX - context.measureText(this.lines[row - 1][col]).width / 2) {\r\n        return this.lineSlots[Math.max(row - 1, 0)] + col;\r\n    } else {\r\n        return this.lineSlots[Math.max(row - 1, 0)] + col - 1;\r\n    }\r\n};\r\n\r\nTextMorph.prototype.upFrom = function (slot) {\r\n    // answer the slot above the given one\r\n    var above,\r\n        colRow = this.columnRow(slot);\r\n    if (colRow.y < 1) {\r\n        return slot;\r\n    }\r\n    above = this.lines[colRow.y - 1];\r\n    if (above.length < colRow.x - 1) {\r\n        return this.lineSlots[colRow.y - 1] + above.length;\r\n    }\r\n    return this.lineSlots[colRow.y - 1] + colRow.x;\r\n};\r\n\r\nTextMorph.prototype.downFrom = function (slot) {\r\n    // answer the slot below the given one\r\n    var below,\r\n        colRow = this.columnRow(slot);\r\n    if (colRow.y > this.lines.length - 2) {\r\n        return slot;\r\n    }\r\n    below = this.lines[colRow.y + 1];\r\n    if (below.length < colRow.x - 1) {\r\n        return this.lineSlots[colRow.y + 1] + below.length;\r\n    }\r\n    return this.lineSlots[colRow.y + 1] + colRow.x;\r\n};\r\n\r\nTextMorph.prototype.startOfLine = function (slot) {\r\n    // answer the first slot (index) of the line for the given slot\r\n    return this.lineSlots[this.columnRow(slot).y];\r\n};\r\n\r\nTextMorph.prototype.endOfLine = function (slot) {\r\n    // answer the slot (index) indicating the EOL for the given slot\r\n    return this.startOfLine(slot) +\r\n        this.lines[this.columnRow(slot).y].length - 1;\r\n};\r\n\r\nTextMorph.prototype.previousWordFrom = StringMorph.prototype.previousWordFrom;\r\n\r\nTextMorph.prototype.nextWordFrom = StringMorph.prototype.nextWordFrom;\r\n\r\n// TextMorph editing:\r\n\r\nTextMorph.prototype.edit = StringMorph.prototype.edit;\r\n\r\nTextMorph.prototype.selection = StringMorph.prototype.selection;\r\n\r\nTextMorph.prototype.selectionStartSlot\r\n    = StringMorph.prototype.selectionStartSlot;\r\n\r\nTextMorph.prototype.clearSelection = StringMorph.prototype.clearSelection;\r\n\r\nTextMorph.prototype.deleteSelection = StringMorph.prototype.deleteSelection;\r\n\r\nTextMorph.prototype.selectAll = StringMorph.prototype.selectAll;\r\n\r\nTextMorph.prototype.mouseDownLeft = StringMorph.prototype.mouseDownLeft;\r\n\r\nTextMorph.prototype.shiftClick = StringMorph.prototype.shiftClick;\r\n\r\nTextMorph.prototype.mouseClickLeft = StringMorph.prototype.mouseClickLeft;\r\n\r\nTextMorph.prototype.mouseDoubleClick = StringMorph.prototype.mouseDoubleClick;\r\n\r\nTextMorph.prototype.selectWordAt = StringMorph.prototype.selectWordAt;\r\n\r\nTextMorph.prototype.selectBetweenWordsAt\r\n    = StringMorph.prototype.selectBetweenWordsAt;\r\n\r\nTextMorph.prototype.enableSelecting = StringMorph.prototype.enableSelecting;\r\n\r\nTextMorph.prototype.disableSelecting = StringMorph.prototype.disableSelecting;\r\n\r\nTextMorph.prototype.selectAllAndEdit = function () {\r\n    this.edit();\r\n    this.selectAll();\r\n};\r\n\r\n// TextMorph menus:\r\n\r\nTextMorph.prototype.developersMenu = function () {\r\n    var menu = TextMorph.uber.developersMenu.call(this);\r\n    menu.addLine();\r\n    menu.addItem(\"edit\", 'edit');\r\n    menu.addItem(\r\n        \"font size...\",\r\n        function () {\r\n            this.prompt(\r\n                menu.title + '\\nfont\\nsize:',\r\n                this.setFontSize,\r\n                this,\r\n                this.fontSize.toString(),\r\n                null,\r\n                6,\r\n                100,\r\n                true\r\n            );\r\n        },\r\n        'set this Text\\'s\\nfont point size'\r\n    );\r\n    if (this.alignment !== 'left') {\r\n        menu.addItem(\"align left\", 'setAlignmentToLeft');\r\n    }\r\n    if (this.alignment !== 'right') {\r\n        menu.addItem(\"align right\", 'setAlignmentToRight');\r\n    }\r\n    if (this.alignment !== 'center') {\r\n        menu.addItem(\"align center\", 'setAlignmentToCenter');\r\n    }\r\n    menu.addLine();\r\n    if (this.fontStyle !== 'serif') {\r\n        menu.addItem(\"serif\", 'setSerif');\r\n    }\r\n    if (this.fontStyle !== 'sans-serif') {\r\n        menu.addItem(\"sans-serif\", 'setSansSerif');\r\n    }\r\n    if (this.isBold) {\r\n        menu.addItem(\"normal weight\", 'toggleWeight');\r\n    } else {\r\n        menu.addItem(\"bold\", 'toggleWeight');\r\n    }\r\n    if (this.isItalic) {\r\n        menu.addItem(\"normal style\", 'toggleItalic');\r\n    } else {\r\n        menu.addItem(\"italic\", 'toggleItalic');\r\n    }\r\n    return menu;\r\n};\r\n\r\nTextMorph.prototype.setAlignmentToLeft = function () {\r\n    this.alignment = 'left';\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nTextMorph.prototype.setAlignmentToRight = function () {\r\n    this.alignment = 'right';\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nTextMorph.prototype.setAlignmentToCenter = function () {\r\n    this.alignment = 'center';\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nTextMorph.prototype.toggleIsDraggable\r\n    = StringMorph.prototype.toggleIsDraggable;\r\n\r\nTextMorph.prototype.toggleWeight = StringMorph.prototype.toggleWeight;\r\n\r\nTextMorph.prototype.toggleItalic = StringMorph.prototype.toggleItalic;\r\n\r\nTextMorph.prototype.setSerif = StringMorph.prototype.setSerif;\r\n\r\nTextMorph.prototype.setSansSerif = StringMorph.prototype.setSansSerif;\r\n\r\nTextMorph.prototype.setText = StringMorph.prototype.setText;\r\n\r\nTextMorph.prototype.setFontSize = StringMorph.prototype.setFontSize;\r\n\r\nTextMorph.prototype.numericalSetters = StringMorph.prototype.numericalSetters;\r\n\r\n// TextMorph evaluation:\r\n\r\nTextMorph.prototype.evaluationMenu = function () {\r\n    var menu = new MenuMorph(this, null);\r\n    menu.addItem(\r\n        \"do it\",\r\n        'doIt',\r\n        'evaluate the\\nselected expression'\r\n    );\r\n    menu.addItem(\r\n        \"show it\",\r\n        'showIt',\r\n        'evaluate the\\nselected expression\\nand show the result'\r\n    );\r\n    menu.addItem(\r\n        \"inspect it\",\r\n        'inspectIt',\r\n        'evaluate the\\nselected expression\\nand inspect the result'\r\n    );\r\n    menu.addLine();\r\n    menu.addItem(\"select all\", 'selectAllAndEdit');\r\n    return menu;\r\n};\r\n\r\nTextMorph.prototype.setReceiver = function (obj) {\r\n    this.receiver = obj;\r\n    this.customContextMenu = this.evaluationMenu();\r\n};\r\n\r\nTextMorph.prototype.doIt = function () {\r\n    this.receiver.evaluateString(this.selection());\r\n    this.edit();\r\n};\r\n\r\nTextMorph.prototype.showIt = function () {\r\n    var result = this.receiver.evaluateString(this.selection());\r\n    if (result !== null) {\r\n        this.inform(result);\r\n    }\r\n};\r\n\r\nTextMorph.prototype.inspectIt = function () {\r\n    var result = this.receiver.evaluateString(this.selection()),\r\n        world = this.world(),\r\n        inspector;\r\n    if (isObject(result)) {\r\n        inspector = new InspectorMorph(result);\r\n        inspector.setPosition(world.hand.position());\r\n        inspector.keepWithin(world);\r\n        world.add(inspector);\r\n        inspector.changed();\r\n    }\r\n};\r\n\r\n// TriggerMorph ////////////////////////////////////////////////////////\r\n\r\n// I provide basic button functionality\r\n\r\n// TriggerMorph inherits from Morph:\r\n\r\nTriggerMorph.prototype = new Morph();\r\nTriggerMorph.prototype.constructor = TriggerMorph;\r\nTriggerMorph.uber = Morph.prototype;\r\n\r\n// TriggerMorph instance creation:\r\n\r\nfunction TriggerMorph(\r\n    target,\r\n    action,\r\n    labelString,\r\n    fontSize,\r\n    fontStyle,\r\n    environment,\r\n    hint,\r\n    labelColor,\r\n    labelBold,\r\n    labelItalic,\r\n    doubleClickAction\r\n) {\r\n    this.init(\r\n        target,\r\n        action,\r\n        labelString,\r\n        fontSize,\r\n        fontStyle,\r\n        environment,\r\n        hint,\r\n        labelColor,\r\n        labelBold,\r\n        labelItalic,\r\n        doubleClickAction\r\n    );\r\n}\r\n\r\nTriggerMorph.prototype.init = function (\r\n    target,\r\n    action,\r\n    labelString,\r\n    fontSize,\r\n    fontStyle,\r\n    environment,\r\n    hint,\r\n    labelColor,\r\n    labelBold,\r\n    labelItalic,\r\n    doubleClickAction\r\n) {\r\n    // additional properties:\r\n    this.target = target || null;\r\n    this.action = action || null;\r\n    this.doubleClickAction = doubleClickAction || null;\r\n    this.environment = environment || null;\r\n    this.labelString = labelString || null;\r\n    this.label = null;\r\n    this.hint = hint || null; // null, String, or Function\r\n    this.schedule = null; // animation slot for displaying hints\r\n    this.fontSize = fontSize || MorphicPreferences.menuFontSize;\r\n    this.fontStyle = fontStyle || 'sans-serif';\r\n    this.highlightColor = new Color(192, 192, 192);\r\n    this.pressColor = new Color(128, 128, 128);\r\n    this.labelColor = labelColor || new Color(0, 0, 0);\r\n    this.labelBold = labelBold || false;\r\n    this.labelItalic = labelItalic || false;\r\n\r\n    // initialize inherited properties:\r\n    TriggerMorph.uber.init.call(this);\r\n\r\n    // override inherited properites:\r\n    this.color = new Color(255, 255, 255);\r\n    this.drawNew();\r\n};\r\n\r\n// TriggerMorph drawing:\r\n\r\nTriggerMorph.prototype.drawNew = function () {\r\n    this.createBackgrounds();\r\n    if (this.labelString !== null) {\r\n        this.createLabel();\r\n    }\r\n};\r\n\r\nTriggerMorph.prototype.createBackgrounds = function () {\r\n    var context,\r\n        ext = this.extent();\r\n\r\n    this.normalImage = newCanvas(ext);\r\n    context = this.normalImage.getContext('2d');\r\n    context.fillStyle = this.color.toString();\r\n    context.fillRect(0, 0, ext.x, ext.y);\r\n\r\n    this.highlightImage = newCanvas(ext);\r\n    context = this.highlightImage.getContext('2d');\r\n    context.fillStyle = this.highlightColor.toString();\r\n    context.fillRect(0, 0, ext.x, ext.y);\r\n\r\n    this.pressImage = newCanvas(ext);\r\n    context = this.pressImage.getContext('2d');\r\n    context.fillStyle = this.pressColor.toString();\r\n    context.fillRect(0, 0, ext.x, ext.y);\r\n\r\n    this.image = this.normalImage;\r\n};\r\n\r\nTriggerMorph.prototype.createLabel = function () {\r\n    if (this.label !== null) {\r\n        this.label.destroy();\r\n    }\r\n    this.label = new StringMorph(\r\n        this.labelString,\r\n        this.fontSize,\r\n        this.fontStyle,\r\n        this.labelBold,\r\n        this.labelItalic,\r\n        false, // numeric\r\n        null, // shadow offset\r\n        null, // shadow color\r\n        this.labelColor\r\n    );\r\n    this.label.setPosition(\r\n        this.center().subtract(\r\n            this.label.extent().floorDivideBy(2)\r\n        )\r\n    );\r\n    this.add(this.label);\r\n};\r\n\r\n// TriggerMorph action:\r\n\r\nTriggerMorph.prototype.trigger = function () {\r\n    /*\r\n    if target is a function, use it as callback:\r\n    execute target as callback function with action as argument\r\n    in the environment as optionally specified.\r\n    Note: if action is also a function, instead of becoming\r\n    the argument itself it will be called to answer the argument.\r\n    for selections, Yes/No Choices etc. As second argument pass\r\n    myself, so I can be modified to reflect status changes, e.g.\r\n    inside a list box:\r\n\r\n    else (if target is not a function):\r\n\r\n        if action is a function:\r\n        execute the action with target as environment (can be null)\r\n        for lambdafied (inline) actions\r\n\r\n        else if action is a String:\r\n        treat it as function property of target and execute it\r\n        for selector-like actions\r\n    */\r\n    if (this.schedule) {\r\n        this.schedule.isActive = false;\r\n    }\r\n    if (typeof this.target === 'function') {\r\n        if (typeof this.action === 'function') {\r\n            this.target.call(this.environment, this.action.call(), this);\r\n        } else {\r\n            this.target.call(this.environment, this.action, this);\r\n        }\r\n    } else {\r\n        if (typeof this.action === 'function') {\r\n            this.action.call(this.target);\r\n        } else { // assume it's a String\r\n            this.target[this.action]();\r\n        }\r\n    }\r\n};\r\n\r\nTriggerMorph.prototype.triggerDoubleClick = function () {\r\n    // same as trigger() but use doubleClickAction instead of action property\r\n    // note that specifying a doubleClickAction is optional\r\n    if (!this.doubleClickAction) {return; }\r\n    if (this.schedule) {\r\n        this.schedule.isActive = false;\r\n    }\r\n    if (typeof this.target === 'function') {\r\n        if (typeof this.doubleClickAction === 'function') {\r\n            this.target.call(\r\n                this.environment,\r\n                this.doubleClickAction.call(),\r\n                this\r\n            );\r\n        } else {\r\n            this.target.call(this.environment, this.doubleClickAction, this);\r\n        }\r\n    } else {\r\n        if (typeof this.doubleClickAction === 'function') {\r\n            this.doubleClickAction.call(this.target);\r\n        } else { // assume it's a String\r\n            this.target[this.doubleClickAction]();\r\n        }\r\n    }\r\n};\r\n\r\n// TriggerMorph events:\r\n\r\nTriggerMorph.prototype.mouseEnter = function () {\r\n    var contents = this.hint instanceof Function ? this.hint() : this.hint;\r\n    this.image = this.highlightImage;\r\n    this.changed();\r\n    if (contents) {\r\n        this.bubbleHelp(contents);\r\n    }\r\n};\r\n\r\nTriggerMorph.prototype.mouseLeave = function () {\r\n    this.image = this.normalImage;\r\n    this.changed();\r\n    if (this.schedule) {\r\n        this.schedule.isActive = false;\r\n    }\r\n    if (this.hint) {\r\n        this.world().hand.destroyTemporaries();\r\n    }\r\n};\r\n\r\nTriggerMorph.prototype.mouseDownLeft = function () {\r\n    this.image = this.pressImage;\r\n    this.changed();\r\n};\r\n\r\nTriggerMorph.prototype.mouseClickLeft = function () {\r\n    this.image = this.highlightImage;\r\n    this.changed();\r\n    this.trigger();\r\n};\r\n\r\nTriggerMorph.prototype.mouseDoubleClick = function () {\r\n    this.triggerDoubleClick();\r\n};\r\n\r\nTriggerMorph.prototype.rootForGrab = function () {\r\n    return this.isDraggable ? TriggerMorph.uber.rootForGrab.call(this) : null;\r\n};\r\n\r\n// TriggerMorph bubble help:\r\n\r\nTriggerMorph.prototype.bubbleHelp = function (contents) {\r\n    var world = this.world(),\r\n        myself = this;\r\n    this.schedule = new Animation(\r\n        nop,\r\n        nop,\r\n        0,\r\n        500,\r\n        nop,\r\n        function () {myself.popUpbubbleHelp(contents); }\r\n    );\r\n    world.animations.push(this.schedule);\r\n};\r\n\r\nTriggerMorph.prototype.popUpbubbleHelp = function (contents) {\r\n    new SpeechBubbleMorph(\r\n        localize(contents),\r\n        null,\r\n        null,\r\n        1\r\n    ).popUp(this.world(), this.rightCenter().add(new Point(-8, 0)));\r\n};\r\n\r\n// MenuItemMorph ///////////////////////////////////////////////////////\r\n\r\n// I automatically determine my bounds\r\n\r\nvar MenuItemMorph;\r\n\r\n// MenuItemMorph inherits from TriggerMorph:\r\n\r\nMenuItemMorph.prototype = new TriggerMorph();\r\nMenuItemMorph.prototype.constructor = MenuItemMorph;\r\nMenuItemMorph.uber = TriggerMorph.prototype;\r\n\r\n// MenuItemMorph instance creation:\r\n\r\nfunction MenuItemMorph(\r\n    target,\r\n    action,\r\n    labelString, // can also be a Morph or a Canvas or a tuple: [icon, string]\r\n    fontSize,\r\n    fontStyle,\r\n    environment,\r\n    hint,\r\n    color,\r\n    bold,\r\n    italic,\r\n    doubleClickAction, // optional when used as list morph item\r\n    shortcut // optional string, Morph, Canvas or tuple: [icon, string]\r\n) {\r\n    // additional properties:\r\n    this.shortcutString = shortcut || null;\r\n    this.shortcut = null;\r\n\r\n    // initialize inherited properties:\r\n    this.init(\r\n        target,\r\n        action,\r\n        labelString,\r\n        fontSize,\r\n        fontStyle,\r\n        environment,\r\n        hint,\r\n        color,\r\n        bold,\r\n        italic,\r\n        doubleClickAction\r\n    );\r\n}\r\n\r\nMenuItemMorph.prototype.createLabel = function () {\r\n    var w, h;\r\n    if (this.label) {\r\n        this.label.destroy();\r\n    }\r\n    this.label = this.createLabelPart(this.labelString);\r\n    this.add(this.label);\r\n    w = this.label.width();\r\n    h = this.label.height();\r\n    if (this.shortcut) {\r\n        this.shortcut.destroy();\r\n    }\r\n    if (this.shortcutString) {\r\n        this.shortcut = this.createLabelPart(this.shortcutString);\r\n        w += this.shortcut.width() + 4;\r\n        h = Math.max(h, this.shortcut.height());\r\n        this.add(this.shortcut);\r\n    }\r\n    this.silentSetExtent(new Point(w + 8, h));\r\n    this.fixLayout();\r\n};\r\n\r\nMenuItemMorph.prototype.fixLayout = function () {\r\n    var cntr = this.center();\r\n    this.label.setCenter(cntr);\r\n    this.label.setLeft(this.left() + 4);\r\n    if (this.shortcut) {\r\n        this.shortcut.setCenter(cntr);\r\n        this.shortcut.setRight(this.right() - 4);\r\n    }\r\n};\r\n\r\nMenuItemMorph.prototype.createLabelPart = function (source) {\r\n    var part, icon, lbl;\r\n    if (isString(source)) {\r\n        return this.createLabelString(source);\r\n    }\r\n    if (source instanceof Array) {\r\n        // assume its pattern is: [icon, string]\r\n        part = new Morph();\r\n        part.alpha = 0; // transparent\r\n        icon = this.createIcon(source[0]);\r\n        part.add(icon);\r\n        lbl = this.createLabelString(source[1]);\r\n        part.add(lbl);\r\n        lbl.setCenter(icon.center());\r\n        lbl.setLeft(icon.right() + 4);\r\n        part.bounds = (icon.bounds.merge(lbl.bounds));\r\n        part.drawNew();\r\n        return part;\r\n    }\r\n    // assume it's either a Morph or a Canvas\r\n    return this.createIcon(source);\r\n};\r\n\r\nMenuItemMorph.prototype.createIcon = function (source) {\r\n    // source can be either a Morph or an HTMLCanvasElement\r\n    var icon = new Morph(),\r\n        src;\r\n    icon.image = source instanceof Morph ? source.fullImage() : source;\r\n    // adjust shadow dimensions\r\n    if (source instanceof Morph && source.getShadow()) {\r\n        src = icon.image;\r\n        icon.image = newCanvas(\r\n            source.fullBounds().extent().subtract(\r\n                this.shadowBlur * (useBlurredShadows ? 1 : 2)\r\n            )\r\n        );\r\n        icon.image.getContext('2d').drawImage(src, 0, 0);\r\n    }\r\n    icon.silentSetWidth(icon.image.width);\r\n    icon.silentSetHeight(icon.image.height);\r\n    return icon;\r\n};\r\n\r\nMenuItemMorph.prototype.createLabelString = function (string) {\r\n    var lbl = new TextMorph(\r\n        string,\r\n        this.fontSize,\r\n        this.fontStyle,\r\n        this.labelBold,\r\n        this.labelItalic\r\n    );\r\n    lbl.setColor(this.labelColor);\r\n    return lbl;\r\n};\r\n\r\n// MenuItemMorph events:\r\n\r\nMenuItemMorph.prototype.mouseEnter = function () {\r\n    var menu = this.parentThatIsA(MenuMorph);\r\n    if (this.isShowingSubmenu()) {\r\n        return;\r\n    }\r\n    if (menu) {\r\n        menu.closeSubmenu();\r\n    }\r\n    if (!this.isListItem()) {\r\n        this.image = this.highlightImage;\r\n        this.changed();\r\n    }\r\n    if (this.action instanceof MenuMorph) {\r\n        this.delaySubmenu();\r\n    } else if (this.hint) {\r\n        this.bubbleHelp(this.hint);\r\n    }\r\n};\r\n\r\nMenuItemMorph.prototype.mouseLeave = function () {\r\n    if (!this.isListItem()) {\r\n        if (this.isShowingSubmenu()) {\r\n            this.image = this.highlightImage;\r\n        } else {\r\n            this.image = this.normalImage;\r\n        }\r\n        this.changed();\r\n    }\r\n    if (this.schedule) {\r\n        this.schedule.isActive = false;\r\n    }\r\n    if (this.hint) {\r\n        this.world().hand.destroyTemporaries();\r\n    }\r\n};\r\n\r\nMenuItemMorph.prototype.mouseDownLeft = function (pos) {\r\n    if (this.isListItem()) {\r\n        this.parent.unselectAllItems();\r\n        this.escalateEvent('mouseDownLeft', pos);\r\n    }\r\n    this.image = this.pressImage;\r\n    this.changed();\r\n};\r\n\r\nMenuItemMorph.prototype.mouseMove = function () {\r\n    if (this.isListItem()) {\r\n        this.escalateEvent('mouseMove');\r\n    }\r\n};\r\n\r\nMenuItemMorph.prototype.mouseClickLeft = function () {\r\n    if (this.action instanceof MenuMorph) {\r\n        this.popUpSubmenu();\r\n    } else {\r\n        if (!this.isListItem()) {\r\n            this.parent.closeRootMenu();\r\n            this.world().activeMenu = null;\r\n        }\r\n        this.trigger();\r\n    }\r\n};\r\n\r\nMenuItemMorph.prototype.isListItem = function () {\r\n    if (this.parent) {\r\n        return this.parent.isListContents;\r\n    }\r\n    return false;\r\n};\r\n\r\nMenuItemMorph.prototype.isSelectedListItem = function () {\r\n    if (this.isListItem()) {\r\n        return this.image === this.pressImage;\r\n    }\r\n    return false;\r\n};\r\n\r\nMenuItemMorph.prototype.isShowingSubmenu = function () {\r\n    var menu = this.parentThatIsA(MenuMorph);\r\n    if (menu && (this.action instanceof MenuMorph)) {\r\n        return menu.submenu === this.action;\r\n    }\r\n    return false;\r\n};\r\n\r\n// MenuItemMorph submenus:\r\n\r\nMenuItemMorph.prototype.delaySubmenu = function () {\r\n    var world = this.world(),\r\n        myself = this;\r\n    this.schedule = new Animation(\r\n        nop,\r\n        nop,\r\n        0,\r\n        500,\r\n        nop,\r\n        function () {myself.popUpSubmenu(); }\r\n    );\r\n    world.animations.push(this.schedule);\r\n};\r\n\r\nMenuItemMorph.prototype.popUpSubmenu = function () {\r\n    var menu = this.parentThatIsA(MenuMorph);\r\n    if (!(this.action instanceof MenuMorph)) {return; }\r\n    this.action.drawNew();\r\n    this.action.setPosition(this.topRight().subtract(new Point(0, 5)));\r\n    this.action.addShadow(new Point(2, 2), 80);\r\n    this.action.keepWithin(this.world());\r\n    if (this.action.items.length < 1 && !this.action.title) {return; }\r\n    menu.add(this.action);\r\n    menu.submenu = this.action;\r\n    menu.submenu.world = menu.world; // keyboard control\r\n    this.action.fullChanged();\r\n};\r\n\r\n// FrameMorph //////////////////////////////////////////////////////////\r\n\r\n// I clip my submorphs at my bounds\r\n\r\n// Frames inherit from Morph:\r\n\r\nFrameMorph.prototype = new Morph();\r\nFrameMorph.prototype.constructor = FrameMorph;\r\nFrameMorph.uber = Morph.prototype;\r\n\r\nfunction FrameMorph(aScrollFrame) {\r\n    this.init(aScrollFrame);\r\n}\r\n\r\nFrameMorph.prototype.init = function (aScrollFrame) {\r\n    this.scrollFrame = aScrollFrame || null;\r\n\r\n    FrameMorph.uber.init.call(this);\r\n    this.color = new Color(255, 250, 245);\r\n    this.drawNew();\r\n    this.acceptsDrops = true;\r\n\r\n    if (this.scrollFrame) {\r\n        this.isDraggable = false;\r\n        this.noticesTransparentClick = false;\r\n        this.alpha = 0;\r\n    }\r\n};\r\n\r\nFrameMorph.prototype.fullBounds = function () {\r\n    var shadow = this.getShadow();\r\n    if (shadow !== null) {\r\n        return this.bounds.merge(shadow.bounds);\r\n    }\r\n    return this.bounds;\r\n};\r\n\r\nFrameMorph.prototype.fullImage = function () {\r\n    // use only for shadows\r\n    return this.image;\r\n};\r\n\r\nFrameMorph.prototype.fullDrawOn = function (aCanvas, aRect) {\r\n    var rectangle, dirty;\r\n    if (!this.isVisible) {\r\n        return null;\r\n    }\r\n    rectangle = aRect || this.fullBounds();\r\n    dirty = this.bounds.intersect(rectangle);\r\n    if (!dirty.extent().gt(new Point(0, 0))) {\r\n        return null;\r\n    }\r\n    this.drawOn(aCanvas, dirty);\r\n    this.children.forEach(function (child) {\r\n        if (child instanceof ShadowMorph) {\r\n            child.fullDrawOn(aCanvas, rectangle);\r\n        } else {\r\n            child.fullDrawOn(aCanvas, dirty);\r\n        }\r\n    });\r\n};\r\n\r\n// FrameMorph navigation:\r\n\r\nFrameMorph.prototype.topMorphAt = function (point) {\r\n    var i, result;\r\n    if (!(this.isVisible && this.bounds.containsPoint(point))) {\r\n        return null;\r\n    }\r\n    for (i = this.children.length - 1; i >= 0; i -= 1) {\r\n        result = this.children[i].topMorphAt(point);\r\n        if (result) {return result; }\r\n    }\r\n    return this.noticesTransparentClick ||\r\n        !this.isTransparentAt(point) ? this : null;\r\n};\r\n\r\n// FrameMorph scrolling support:\r\n\r\nFrameMorph.prototype.submorphBounds = function () {\r\n    var result = null;\r\n\r\n    if (this.children.length > 0) {\r\n        result = this.children[0].bounds;\r\n        this.children.forEach(function (child) {\r\n            result = result.merge(child.fullBounds());\r\n        });\r\n    }\r\n    return result;\r\n};\r\n\r\nFrameMorph.prototype.keepInScrollFrame = function () {\r\n    if (this.scrollFrame === null) {\r\n        return null;\r\n    }\r\n    if (this.left() > this.scrollFrame.left()) {\r\n        this.moveBy(\r\n            new Point(this.scrollFrame.left() - this.left(), 0)\r\n        );\r\n    }\r\n    if (this.right() < this.scrollFrame.right()) {\r\n        this.moveBy(\r\n            new Point(this.scrollFrame.right() - this.right(), 0)\r\n        );\r\n    }\r\n    if (this.top() > this.scrollFrame.top()) {\r\n        this.moveBy(\r\n            new Point(0, this.scrollFrame.top() - this.top())\r\n        );\r\n    }\r\n    if (this.bottom() < this.scrollFrame.bottom()) {\r\n        this.moveBy(\r\n            0,\r\n            new Point(this.scrollFrame.bottom() - this.bottom(), 0)\r\n        );\r\n    }\r\n};\r\n\r\nFrameMorph.prototype.adjustBounds = function () {\r\n    var subBounds,\r\n        newBounds,\r\n        myself = this;\r\n\r\n    if (this.scrollFrame === null) {\r\n        return null;\r\n    }\r\n\r\n    subBounds = this.submorphBounds();\r\n    if (subBounds && (!this.scrollFrame.isTextLineWrapping)) {\r\n        newBounds = subBounds\r\n            .expandBy(this.scrollFrame.padding)\r\n            .growBy(this.scrollFrame.growth)\r\n            .merge(this.scrollFrame.bounds);\r\n    } else {\r\n        newBounds = this.scrollFrame.bounds.copy();\r\n    }\r\n    if (!this.bounds.eq(newBounds)) {\r\n        this.bounds = newBounds;\r\n        this.drawNew();\r\n        this.keepInScrollFrame();\r\n    }\r\n\r\n    if (this.scrollFrame.isTextLineWrapping) {\r\n        this.children.forEach(function (morph) {\r\n            if (morph instanceof TextMorph) {\r\n                morph.setWidth(myself.width());\r\n                myself.setHeight(\r\n                    Math.max(morph.height(), myself.scrollFrame.height())\r\n                );\r\n            }\r\n        });\r\n    }\r\n\r\n    this.scrollFrame.adjustScrollBars();\r\n};\r\n\r\n// FrameMorph dragging & dropping of contents:\r\n\r\nFrameMorph.prototype.reactToDropOf = function () {\r\n    this.adjustBounds();\r\n};\r\n\r\nFrameMorph.prototype.reactToGrabOf = function () {\r\n    this.adjustBounds();\r\n};\r\n\r\n// FrameMorph menus:\r\n\r\nFrameMorph.prototype.developersMenu = function () {\r\n    var menu = FrameMorph.uber.developersMenu.call(this);\r\n    if (this.children.length > 0) {\r\n        menu.addLine();\r\n        menu.addItem(\r\n            \"move all inside...\",\r\n            'keepAllSubmorphsWithin',\r\n            'keep all submorphs\\nwithin and visible'\r\n        );\r\n    }\r\n    return menu;\r\n};\r\n\r\nFrameMorph.prototype.keepAllSubmorphsWithin = function () {\r\n    var myself = this;\r\n    this.children.forEach(function (m) {\r\n        m.keepWithin(myself);\r\n    });\r\n};\r\n\r\n// ScrollFrameMorph ////////////////////////////////////////////////////\r\n\r\nScrollFrameMorph.prototype = new FrameMorph();\r\nScrollFrameMorph.prototype.constructor = ScrollFrameMorph;\r\nScrollFrameMorph.uber = FrameMorph.prototype;\r\n\r\nfunction ScrollFrameMorph(scroller, size, sliderColor) {\r\n    this.init(scroller, size, sliderColor);\r\n}\r\n\r\nScrollFrameMorph.prototype.init = function (scroller, size, sliderColor) {\r\n    var myself = this;\r\n\r\n    ScrollFrameMorph.uber.init.call(this);\r\n    this.scrollBarSize = size || MorphicPreferences.scrollBarSize;\r\n    this.autoScrollTrigger = null;\r\n    this.enableAutoScrolling = true; // change to suppress\r\n    this.isScrollingByDragging = true; // change to suppress\r\n    this.hasVelocity = true; // dto.\r\n    this.padding = 0; // around the scrollable area\r\n    this.growth = 0; // pixels or Point to grow right/left when near edge\r\n    this.isTextLineWrapping = false;\r\n    this.contents = scroller || new FrameMorph(this);\r\n    this.add(this.contents);\r\n    this.hBar = new SliderMorph(\r\n        null, // start\r\n        null, // stop\r\n        null, // value\r\n        null, // size\r\n        'horizontal',\r\n        sliderColor\r\n    );\r\n    this.hBar.setHeight(this.scrollBarSize);\r\n    this.hBar.action = function (num) {\r\n        myself.contents.setPosition(\r\n            new Point(\r\n                myself.left() - num,\r\n                myself.contents.position().y\r\n            )\r\n        );\r\n    };\r\n    this.hBar.isDraggable = false;\r\n    this.add(this.hBar);\r\n    this.vBar = new SliderMorph(\r\n        null, // start\r\n        null, // stop\r\n        null, // value\r\n        null, // size\r\n        'vertical',\r\n        sliderColor\r\n    );\r\n    this.vBar.setWidth(this.scrollBarSize);\r\n    this.vBar.action = function (num) {\r\n        myself.contents.setPosition(\r\n            new Point(\r\n                myself.contents.position().x,\r\n                myself.top() - num\r\n            )\r\n        );\r\n    };\r\n    this.vBar.isDraggable = false;\r\n    this.add(this.vBar);\r\n    this.toolBar = null; // optional slot\r\n};\r\n\r\nScrollFrameMorph.prototype.adjustScrollBars = function () {\r\n    var hWidth = this.width() - this.scrollBarSize,\r\n        vHeight = this.height() - this.scrollBarSize;\r\n\r\n    this.changed();\r\n    if (this.contents.width() > this.width() +\r\n            MorphicPreferences.scrollBarSize) {\r\n        this.hBar.show();\r\n        if (this.hBar.width() !== hWidth) {\r\n            this.hBar.setWidth(hWidth);\r\n        }\r\n\r\n        this.hBar.setPosition(\r\n            new Point(\r\n                this.left(),\r\n                this.bottom() - this.hBar.height()\r\n            )\r\n        );\r\n        this.hBar.start = 0;\r\n        this.hBar.stop = this.contents.width() - this.width();\r\n        this.hBar.size =\r\n            this.width() / this.contents.width() * this.hBar.stop;\r\n        this.hBar.value = this.left() - this.contents.left();\r\n        this.hBar.drawNew();\r\n    } else {\r\n        this.hBar.hide();\r\n    }\r\n\r\n    if (this.contents.height() > this.height() +\r\n            this.scrollBarSize) {\r\n        this.vBar.show();\r\n        if (this.vBar.height() !== vHeight) {\r\n            this.vBar.setHeight(vHeight);\r\n        }\r\n\r\n        this.vBar.setPosition(\r\n            new Point(\r\n                this.right() - this.vBar.width(),\r\n                this.top()\r\n            )\r\n        );\r\n        this.vBar.start = 0;\r\n        this.vBar.stop = this.contents.height() - this.height();\r\n        this.vBar.size =\r\n            this.height() / this.contents.height() * this.vBar.stop;\r\n        this.vBar.value = this.top() - this.contents.top();\r\n        this.vBar.drawNew();\r\n    } else {\r\n        this.vBar.hide();\r\n    }\r\n    this.adjustToolBar();\r\n};\r\n\r\nScrollFrameMorph.prototype.adjustToolBar = function () {\r\n    var padding = 3;\r\n    if (this.toolBar) {\r\n        this.toolBar.setTop(this.top() + padding);\r\n        this.toolBar.setRight(\r\n            (this.vBar.isVisible ? this.vBar.left() : this.right()) - padding\r\n        );\r\n    }\r\n};\r\n\r\nScrollFrameMorph.prototype.addContents = function (aMorph) {\r\n    this.contents.add(aMorph);\r\n    this.contents.adjustBounds();\r\n};\r\n\r\nScrollFrameMorph.prototype.setContents = function (aMorph) {\r\n    this.contents.children.forEach(function (m) {\r\n        m.destroy();\r\n    });\r\n    this.contents.children = [];\r\n    aMorph.setPosition(this.position().add(this.padding + 2));\r\n    this.addContents(aMorph);\r\n};\r\n\r\nScrollFrameMorph.prototype.setExtent = function (aPoint) {\r\n    if (this.isTextLineWrapping) {\r\n        this.contents.setPosition(this.position().copy());\r\n    }\r\n    ScrollFrameMorph.uber.setExtent.call(this, aPoint);\r\n    this.contents.adjustBounds();\r\n};\r\n\r\n// ScrollFrameMorph scrolling by dragging:\r\n\r\nScrollFrameMorph.prototype.scrollX = function (steps) {\r\n    var cl = this.contents.left(),\r\n        l = this.left(),\r\n        cw = this.contents.width(),\r\n        r = this.right(),\r\n        newX;\r\n\r\n    newX = cl + steps;\r\n    if (newX + cw < r) {\r\n        newX = r - cw;\r\n    }\r\n    if (newX > l) {\r\n        newX = l;\r\n    }\r\n    if (newX !== cl) {\r\n        this.contents.setLeft(newX);\r\n    }\r\n};\r\n\r\nScrollFrameMorph.prototype.scrollY = function (steps) {\r\n    var ct = this.contents.top(),\r\n        t = this.top(),\r\n        ch = this.contents.height(),\r\n        b = this.bottom(),\r\n        newY;\r\n\r\n    newY = ct + steps;\r\n    if (newY + ch < b) {\r\n        newY = b - ch;\r\n    }\r\n    if (newY > t) {\r\n        newY = t;\r\n    }\r\n    if (newY !== ct) {\r\n        this.contents.setTop(newY);\r\n    }\r\n};\r\n\r\nScrollFrameMorph.prototype.step = nop;\r\n\r\nScrollFrameMorph.prototype.mouseDownLeft = function (pos) {\r\n    if (!this.isScrollingByDragging) {\r\n        return null;\r\n    }\r\n    var world = this.root(),\r\n        hand = world.hand,\r\n        oldPos = pos,\r\n        myself = this,\r\n        deltaX = 0,\r\n        deltaY = 0,\r\n        friction = 0.8;\r\n\r\n    this.step = function () {\r\n        var newPos;\r\n        if (hand.mouseButton &&\r\n                (hand.children.length === 0) &&\r\n                (myself.bounds.containsPoint(hand.bounds.origin))) {\r\n\r\n            if (hand.grabPosition &&\r\n                (hand.grabPosition.distanceTo(hand.position()) <=\r\n                    MorphicPreferences.grabThreshold)) {\r\n                // still within the grab threshold\r\n                return null;\r\n            }\r\n\r\n            newPos = hand.bounds.origin;\r\n            deltaX = newPos.x - oldPos.x;\r\n            if (deltaX !== 0) {\r\n                myself.scrollX(deltaX);\r\n            }\r\n            deltaY = newPos.y - oldPos.y;\r\n            if (deltaY !== 0) {\r\n                myself.scrollY(deltaY);\r\n            }\r\n            oldPos = newPos;\r\n        } else {\r\n            if (!myself.hasVelocity) {\r\n                myself.step = function () {\r\n                    nop();\r\n                };\r\n            } else {\r\n                if ((Math.abs(deltaX) < 0.5) &&\r\n                        (Math.abs(deltaY) < 0.5)) {\r\n                    myself.step = function () {\r\n                        nop();\r\n                    };\r\n                } else {\r\n                    deltaX = deltaX * friction;\r\n                    myself.scrollX(Math.round(deltaX));\r\n                    deltaY = deltaY * friction;\r\n                    myself.scrollY(Math.round(deltaY));\r\n                }\r\n            }\r\n        }\r\n        this.adjustScrollBars();\r\n    };\r\n};\r\n\r\nScrollFrameMorph.prototype.startAutoScrolling = function () {\r\n    var myself = this,\r\n        inset = MorphicPreferences.scrollBarSize * 3,\r\n        world = this.world(),\r\n        hand,\r\n        inner,\r\n        pos;\r\n\r\n    if (!world) {\r\n        return null;\r\n    }\r\n    hand = world.hand;\r\n    if (!this.autoScrollTrigger) {\r\n        this.autoScrollTrigger = Date.now();\r\n    }\r\n    this.step = function () {\r\n        pos = hand.bounds.origin;\r\n        inner = myself.bounds.insetBy(inset);\r\n        if ((myself.bounds.containsPoint(pos)) &&\r\n                (!(inner.containsPoint(pos))) &&\r\n                (hand.children.length > 0)) {\r\n            myself.autoScroll(pos);\r\n        } else {\r\n            myself.step = function () {\r\n                nop();\r\n            };\r\n            myself.autoScrollTrigger = null;\r\n        }\r\n    };\r\n};\r\n\r\nScrollFrameMorph.prototype.autoScroll = function (pos) {\r\n    var inset, area;\r\n\r\n    if (Date.now() - this.autoScrollTrigger < 500) {\r\n        return null;\r\n    }\r\n\r\n    inset = MorphicPreferences.scrollBarSize * 3;\r\n    area = this.topLeft().extent(new Point(this.width(), inset));\r\n    if (area.containsPoint(pos)) {\r\n        this.scrollY(inset - (pos.y - this.top()));\r\n    }\r\n    area = this.topLeft().extent(new Point(inset, this.height()));\r\n    if (area.containsPoint(pos)) {\r\n        this.scrollX(inset - (pos.x - this.left()));\r\n    }\r\n    area = (new Point(this.right() - inset, this.top()))\r\n        .extent(new Point(inset, this.height()));\r\n    if (area.containsPoint(pos)) {\r\n        this.scrollX(-(inset - (this.right() - pos.x)));\r\n    }\r\n    area = (new Point(this.left(), this.bottom() - inset))\r\n        .extent(new Point(this.width(), inset));\r\n    if (area.containsPoint(pos)) {\r\n        this.scrollY(-(inset - (this.bottom() - pos.y)));\r\n    }\r\n    this.adjustScrollBars();\r\n};\r\n\r\n// ScrollFrameMorph scrolling by editing text:\r\n\r\nScrollFrameMorph.prototype.scrollCursorIntoView = function (morph) {\r\n    var txt = morph.target,\r\n        offset = txt.position().subtract(this.contents.position()),\r\n        ft = this.top() + this.padding,\r\n        fb = this.bottom() - this.padding;\r\n    this.contents.setExtent(txt.extent().add(offset).add(this.padding));\r\n    if (morph.top() < ft) {\r\n        this.contents.setTop(this.contents.top() + ft - morph.top());\r\n        morph.setTop(ft);\r\n    } else if (morph.bottom() > fb) {\r\n        this.contents.setBottom(this.contents.bottom() + fb - morph.bottom());\r\n        morph.setBottom(fb);\r\n    }\r\n    this.adjustScrollBars();\r\n};\r\n\r\n// ScrollFrameMorph events:\r\n\r\nScrollFrameMorph.prototype.mouseScroll = function (y, x) {\r\n    if (y) {\r\n        this.scrollY(y * MorphicPreferences.mouseScrollAmount);\r\n    }\r\n    if (x) {\r\n        this.scrollX(x * MorphicPreferences.mouseScrollAmount);\r\n    }\r\n    this.adjustScrollBars();\r\n};\r\n\r\n// ScrollFrameMorph duplicating:\r\n\r\nScrollFrameMorph.prototype.updateReferences = function (map) {\r\n    var myself = this;\r\n    ScrollFrameMorph.uber.updateReferences.call(this, map);\r\n    if (this.hBar) {\r\n        this.hBar.action = function (num) {\r\n            myself.contents.setPosition(\r\n                new Point(myself.left() - num, myself.contents.position().y)\r\n            );\r\n        };\r\n    }\r\n    if (this.vBar) {\r\n        this.vBar.action = function (num) {\r\n            myself.contents.setPosition(\r\n                new Point(myself.contents.position().x, myself.top() - num)\r\n            );\r\n        };\r\n    }\r\n};\r\n\r\n// ScrollFrameMorph menu:\r\n\r\nScrollFrameMorph.prototype.developersMenu = function () {\r\n    var menu = ScrollFrameMorph.uber.developersMenu.call(this);\r\n    if (this.isTextLineWrapping) {\r\n        menu.addItem(\r\n            \"auto line wrap off...\",\r\n            'toggleTextLineWrapping',\r\n            'turn automatic\\nline wrapping\\noff'\r\n        );\r\n    } else {\r\n        menu.addItem(\r\n            \"auto line wrap on...\",\r\n            'toggleTextLineWrapping',\r\n            'enable automatic\\nline wrapping'\r\n        );\r\n    }\r\n    return menu;\r\n};\r\n\r\nScrollFrameMorph.prototype.toggleTextLineWrapping = function () {\r\n    this.isTextLineWrapping = !this.isTextLineWrapping;\r\n};\r\n\r\n// ListMorph ///////////////////////////////////////////////////////////\r\n\r\nListMorph.prototype = new ScrollFrameMorph();\r\nListMorph.prototype.constructor = ListMorph;\r\nListMorph.uber = ScrollFrameMorph.prototype;\r\n\r\nfunction ListMorph(elements, labelGetter, format, doubleClickAction) {\r\n/*\r\n    passing a format is optional. If the format parameter is specified\r\n    it has to be of the following pattern:\r\n\r\n        [\r\n            [<color>, <single-argument predicate>],\r\n            ['bold', <single-argument predicate>],\r\n            ['italic', <single-argument predicate>],\r\n            ...\r\n        ]\r\n\r\n    multiple conditions can be passed in such a format list, the\r\n    last predicate to evaluate true when given the list element sets\r\n    the given format category (color, bold, italic).\r\n    If no condition is met, the default format (color black, non-bold,\r\n    non-italic) will be assigned.\r\n\r\n    An example of how to use fomats can be found in the InspectorMorph's\r\n    \"markOwnProperties\" mechanism.\r\n*/\r\n    this.init(\r\n        elements || [],\r\n        labelGetter || function (element) {\r\n            if (isString(element)) {\r\n                return element;\r\n            }\r\n            if (element.toSource) {\r\n                return element.toSource();\r\n            }\r\n            return element.toString();\r\n        },\r\n        format || [],\r\n        doubleClickAction // optional callback\r\n    );\r\n}\r\n\r\nListMorph.prototype.init = function (\r\n    elements,\r\n    labelGetter,\r\n    format,\r\n    doubleClickAction\r\n) {\r\n    ListMorph.uber.init.call(this);\r\n\r\n    this.contents.acceptsDrops = false;\r\n    this.color = new Color(255, 255, 255);\r\n    this.hBar.alpha = 0.6;\r\n    this.vBar.alpha = 0.6;\r\n    this.elements = elements || [];\r\n    this.labelGetter = labelGetter;\r\n    this.format = format;\r\n    this.listContents = null;\r\n    this.selected = null; // actual element currently selected\r\n    this.active = null; // menu item representing the selected element\r\n    this.action = null;\r\n    this.doubleClickAction = doubleClickAction || null;\r\n    this.acceptsDrops = false;\r\n    this.buildListContents();\r\n};\r\n\r\nListMorph.prototype.buildListContents = function () {\r\n    var myself = this;\r\n    if (this.listContents) {\r\n        this.listContents.destroy();\r\n    }\r\n    this.listContents = new MenuMorph(\r\n        this.select,\r\n        null,\r\n        this\r\n    );\r\n    if (this.elements.length === 0) {\r\n        this.elements = ['(empty)'];\r\n    }\r\n    this.elements.forEach(function (element) {\r\n        var color = null,\r\n            bold = false,\r\n            italic = false;\r\n\r\n        myself.format.forEach(function (pair) {\r\n            if (pair[1].call(null, element)) {\r\n                if (pair[0] === 'bold') {\r\n                    bold = true;\r\n                } else if (pair[0] === 'italic') {\r\n                    italic = true;\r\n                } else { // assume it's a color\r\n                    color = pair[0];\r\n                }\r\n            }\r\n        });\r\n        myself.listContents.addItem(\r\n            myself.labelGetter(element), // label string\r\n            element, // action\r\n            null, // hint\r\n            color,\r\n            bold,\r\n            italic,\r\n            myself.doubleClickAction\r\n        );\r\n    });\r\n    this.listContents.isListContents = true;\r\n    this.listContents.drawNew();\r\n    this.listContents.setPosition(this.contents.position());\r\n    this.addContents(this.listContents);\r\n};\r\n\r\nListMorph.prototype.select = function (item, trigger) {\r\n    if (isNil(item)) {return; }\r\n    this.selected = item;\r\n    this.active = trigger;\r\n    if (this.action) {\r\n        this.action.call(null, item);\r\n    }\r\n};\r\n\r\nListMorph.prototype.setExtent = function (aPoint) {\r\n    var lb = this.listContents.bounds,\r\n        nb = this.bounds.origin.copy().corner(\r\n            this.bounds.origin.add(aPoint)\r\n        );\r\n\r\n    if (nb.right() > lb.right() && nb.width() <= lb.width()) {\r\n        this.listContents.setRight(nb.right());\r\n    }\r\n    if (nb.bottom() > lb.bottom() && nb.height() <= lb.height()) {\r\n        this.listContents.setBottom(nb.bottom());\r\n    }\r\n    ListMorph.uber.setExtent.call(this, aPoint);\r\n};\r\n\r\nListMorph.prototype.activeIndex = function () {\r\n    return this.listContents.children.indexOf(this.active);\r\n};\r\n\r\nListMorph.prototype.activateIndex = function (idx) {\r\n    var item = this.listContents.children[idx];\r\n    if (!item) {return; }\r\n    item.image = item.pressImage;\r\n    item.changed();\r\n    item.trigger();\r\n};\r\n\r\n// StringFieldMorph ////////////////////////////////////////////////////\r\n\r\n// StringFieldMorph inherit from FrameMorph:\r\n\r\nStringFieldMorph.prototype = new FrameMorph();\r\nStringFieldMorph.prototype.constructor = StringFieldMorph;\r\nStringFieldMorph.uber = FrameMorph.prototype;\r\n\r\nfunction StringFieldMorph(\r\n    defaultContents,\r\n    minWidth,\r\n    fontSize,\r\n    fontStyle,\r\n    bold,\r\n    italic,\r\n    isNumeric\r\n) {\r\n    this.init(\r\n        defaultContents || '',\r\n        minWidth || 100,\r\n        fontSize || 12,\r\n        fontStyle || 'sans-serif',\r\n        bold || false,\r\n        italic || false,\r\n        isNumeric\r\n    );\r\n}\r\n\r\nStringFieldMorph.prototype.init = function (\r\n    defaultContents,\r\n    minWidth,\r\n    fontSize,\r\n    fontStyle,\r\n    bold,\r\n    italic,\r\n    isNumeric\r\n) {\r\n    this.defaultContents = defaultContents;\r\n    this.minWidth = minWidth;\r\n    this.fontSize = fontSize;\r\n    this.fontStyle = fontStyle;\r\n    this.isBold = bold;\r\n    this.isItalic = italic;\r\n    this.isNumeric = isNumeric || false;\r\n    this.text = null;\r\n    StringFieldMorph.uber.init.call(this);\r\n    this.color = new Color(255, 255, 255);\r\n    this.isEditable = true;\r\n    this.acceptsDrops = false;\r\n    this.drawNew();\r\n};\r\n\r\nStringFieldMorph.prototype.drawNew = function () {\r\n    var txt;\r\n    txt = this.text ? this.string() : this.defaultContents;\r\n    this.text = null;\r\n    this.children.forEach(function (child) {\r\n        child.destroy();\r\n    });\r\n    this.children = [];\r\n    this.text = new StringMorph(\r\n        txt,\r\n        this.fontSize,\r\n        this.fontStyle,\r\n        this.isBold,\r\n        this.isItalic,\r\n        this.isNumeric\r\n    );\r\n\r\n    this.text.isNumeric = this.isNumeric; // for whichever reason...\r\n    this.text.setPosition(this.bounds.origin.copy());\r\n    this.text.isEditable = this.isEditable;\r\n    this.text.isDraggable = false;\r\n    this.text.enableSelecting();\r\n    this.silentSetExtent(\r\n        new Point(\r\n            Math.max(this.width(), this.minWidth),\r\n            this.text.height()\r\n        )\r\n    );\r\n    StringFieldMorph.uber.drawNew.call(this);\r\n    this.add(this.text);\r\n};\r\n\r\nStringFieldMorph.prototype.string = function () {\r\n    return this.text.text;\r\n};\r\n\r\nStringFieldMorph.prototype.mouseClickLeft = function (pos) {\r\n    if (this.isEditable) {\r\n        this.text.edit();\r\n    } else {\r\n        this.escalateEvent('mouseClickLeft', pos);\r\n    }\r\n};\r\n\r\n// BouncerMorph ////////////////////////////////////////////////////////\r\n\r\n// I am a Demo of a stepping custom Morph\r\n\r\nvar BouncerMorph;\r\n\r\n// Bouncers inherit from Morph:\r\n\r\nBouncerMorph.prototype = new Morph();\r\nBouncerMorph.prototype.constructor = BouncerMorph;\r\nBouncerMorph.uber = Morph.prototype;\r\n\r\n// BouncerMorph instance creation:\r\n\r\nfunction BouncerMorph() {\r\n    this.init();\r\n}\r\n\r\n// BouncerMorph initialization:\r\n\r\nBouncerMorph.prototype.init = function (type, speed) {\r\n    BouncerMorph.uber.init.call(this);\r\n    this.fps = 50;\r\n\r\n    // additional properties:\r\n    this.isStopped = false;\r\n    this.type = type || 'vertical';\r\n    if (this.type === 'vertical') {\r\n        this.direction = 'down';\r\n    } else {\r\n        this.direction = 'right';\r\n    }\r\n    this.speed = speed || 1;\r\n};\r\n\r\n// BouncerMorph moving:\r\n\r\nBouncerMorph.prototype.moveUp = function () {\r\n    this.moveBy(new Point(0, -this.speed));\r\n};\r\n\r\nBouncerMorph.prototype.moveDown = function () {\r\n    this.moveBy(new Point(0, this.speed));\r\n};\r\n\r\nBouncerMorph.prototype.moveRight = function () {\r\n    this.moveBy(new Point(this.speed, 0));\r\n};\r\n\r\nBouncerMorph.prototype.moveLeft = function () {\r\n    this.moveBy(new Point(-this.speed, 0));\r\n};\r\n\r\n// BouncerMorph stepping:\r\n\r\nBouncerMorph.prototype.step = function () {\r\n    if (!this.isStopped) {\r\n        if (this.type === 'vertical') {\r\n            if (this.direction === 'down') {\r\n                this.moveDown();\r\n            } else {\r\n                this.moveUp();\r\n            }\r\n            if (this.fullBounds().top() < this.parent.top() &&\r\n                    this.direction === 'up') {\r\n                this.direction = 'down';\r\n            }\r\n            if (this.fullBounds().bottom() > this.parent.bottom() &&\r\n                    this.direction === 'down') {\r\n                this.direction = 'up';\r\n            }\r\n        } else if (this.type === 'horizontal') {\r\n            if (this.direction === 'right') {\r\n                this.moveRight();\r\n            } else {\r\n                this.moveLeft();\r\n            }\r\n            if (this.fullBounds().left() < this.parent.left() &&\r\n                    this.direction === 'left') {\r\n                this.direction = 'right';\r\n            }\r\n            if (this.fullBounds().right() > this.parent.right() &&\r\n                    this.direction === 'right') {\r\n                this.direction = 'left';\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\n// HandMorph ///////////////////////////////////////////////////////////\r\n\r\n// I represent the Mouse cursor\r\n\r\n// HandMorph inherits from Morph:\r\n\r\nHandMorph.prototype = new Morph();\r\nHandMorph.prototype.constructor = HandMorph;\r\nHandMorph.uber = Morph.prototype;\r\n\r\n// HandMorph instance creation:\r\n\r\nfunction HandMorph(aWorld) {\r\n    this.init(aWorld);\r\n}\r\n\r\n// HandMorph initialization:\r\n\r\nHandMorph.prototype.init = function (aWorld) {\r\n    HandMorph.uber.init.call(this, true);\r\n    this.bounds = new Rectangle();\r\n\r\n    // additional properties:\r\n    this.world = aWorld;\r\n    this.mouseButton = null;\r\n    this.mouseOverList = [];\r\n    this.morphToGrab = null;\r\n    this.grabPosition = null;\r\n    this.grabOrigin = null;\r\n    this.temporaries = [];\r\n    this.touchHoldTimeout = null;\r\n    this.contextMenuEnabled = false;\r\n};\r\n\r\nHandMorph.prototype.changed = function () {\r\n    var b;\r\n    if (this.world !== null) {\r\n        b = this.fullBounds();\r\n        if (!b.extent().eq(new Point())) {\r\n            this.world.broken.push(b.spread());\r\n        }\r\n    }\r\n};\r\n\r\nHandMorph.prototype.fullChanged = HandMorph.prototype.changed;\r\n\r\n// HandMorph navigation:\r\n\r\nHandMorph.prototype.morphAtPointer = function () {\r\n    return this.world.topMorphAt(this.bounds.origin) || this.world;\r\n};\r\n\r\nHandMorph.prototype.allMorphsAtPointer = function () {\r\n    var morphs = this.world.allChildren(),\r\n        myself = this;\r\n    return morphs.filter(function (m) {\r\n        return m.isVisible &&\r\n            m.visibleBounds().containsPoint(myself.bounds.origin);\r\n    });\r\n};\r\n\r\n// HandMorph dragging and dropping:\r\n/*\r\n    drag 'n' drop events, method(arg) -> receiver:\r\n\r\n        prepareToBeGrabbed(handMorph) -> grabTarget\r\n        reactToGrabOf(grabbedMorph) -> oldParent\r\n        wantsDropOf(morphToDrop) ->  newParent\r\n        justDropped(handMorph) -> droppedMorph\r\n        reactToDropOf(droppedMorph, handMorph) -> newParent\r\n*/\r\n\r\nHandMorph.prototype.dropTargetFor = function (aMorph) {\r\n    var target = this.morphAtPointer();\r\n    while (!target.wantsDropOf(aMorph)) {\r\n        target = target.parent;\r\n    }\r\n    return target;\r\n};\r\n\r\nHandMorph.prototype.grab = function (aMorph) {\r\n    var oldParent = aMorph.parent;\r\n    if (aMorph instanceof WorldMorph) {\r\n        return null;\r\n    }\r\n    if (this.children.length === 0) {\r\n        this.world.stopEditing();\r\n        this.grabOrigin = aMorph.situation();\r\n        aMorph.addShadow();\r\n        if (aMorph.prepareToBeGrabbed) {\r\n            aMorph.prepareToBeGrabbed(this);\r\n        }\r\n        aMorph.cachedFullImage = aMorph.fullImageClassic();\r\n        aMorph.cachedFullBounds = aMorph.fullBounds();\r\n        this.add(aMorph);\r\n        this.changed();\r\n        if (oldParent && oldParent.reactToGrabOf) {\r\n            oldParent.reactToGrabOf(aMorph);\r\n        }\r\n    }\r\n};\r\n\r\nHandMorph.prototype.drop = function () {\r\n    var target, morphToDrop;\r\n    if (this.children.length !== 0) {\r\n        morphToDrop = this.children[0];\r\n        target = this.dropTargetFor(morphToDrop);\r\n        target = target.selectForEdit ? target.selectForEdit() : target;\r\n        this.changed();\r\n        target.add(morphToDrop);\r\n        morphToDrop.cachedFullImage = null;\r\n        morphToDrop.cachedFullBounds = null;\r\n        morphToDrop.changed();\r\n        morphToDrop.removeShadow();\r\n        this.children = [];\r\n        this.setExtent(new Point());\r\n        if (morphToDrop.justDropped) {\r\n            morphToDrop.justDropped(this);\r\n        }\r\n        if (target.reactToDropOf) {\r\n            target.reactToDropOf(morphToDrop, this);\r\n        }\r\n    }\r\n};\r\n\r\n// HandMorph event dispatching:\r\n/*\r\n    mouse events:\r\n\r\n        mouseDownLeft\r\n        mouseDownRight\r\n        mouseClickLeft\r\n        mouseClickRight\r\n        mouseDoubleClick\r\n        mouseEnter\r\n        mouseLeave\r\n        mouseEnterDragging\r\n        mouseLeaveDragging\r\n        mouseMove\r\n        mouseScroll\r\n*/\r\n\r\nHandMorph.prototype.processMouseDown = function (event) {\r\n    var morph, actualClick;\r\n\r\n    this.destroyTemporaries();\r\n    this.contextMenuEnabled = true;\r\n    this.morphToGrab = null;\r\n    this.grabPosition = null;\r\n    if (this.children.length !== 0) {\r\n        this.drop();\r\n        this.mouseButton = null;\r\n    } else {\r\n        morph = this.morphAtPointer();\r\n        if (this.world.activeMenu) {\r\n            if (!contains(\r\n                    morph.allParents(),\r\n                    this.world.activeMenu\r\n                )) {\r\n                this.world.activeMenu.destroy();\r\n            } else {\r\n                clearInterval(this.touchHoldTimeout);\r\n            }\r\n        }\r\n        if (this.world.activeHandle) {\r\n            if (morph !== this.world.activeHandle) {\r\n                this.world.activeHandle.destroy();\r\n            }\r\n        }\r\n        if (this.world.cursor) {\r\n            if (morph !== this.world.cursor.target) {\r\n                this.world.stopEditing();\r\n            }\r\n        }\r\n        if (!morph.mouseMove) {\r\n            this.morphToGrab = morph.rootForGrab();\r\n            this.grabPosition = this.bounds.origin.copy();\r\n        }\r\n        if (event.button === 2 || event.ctrlKey) {\r\n            this.mouseButton = 'right';\r\n            actualClick = 'mouseDownRight';\r\n        } else {\r\n            this.mouseButton = 'left';\r\n            actualClick = 'mouseDownLeft';\r\n        }\r\n        while (!morph[actualClick]) {\r\n            morph = morph.parent;\r\n        }\r\n        morph[actualClick](this.bounds.origin);\r\n    }\r\n};\r\n\r\nHandMorph.prototype.processTouchStart = function (event) {\r\n    var myself = this;\r\n    MorphicPreferences.isTouchDevice = true;\r\n    clearInterval(this.touchHoldTimeout);\r\n    if (event.touches.length === 1) {\r\n        this.touchHoldTimeout = setInterval( // simulate mouseRightClick\r\n            function () {\r\n                myself.processMouseDown({button: 2});\r\n                myself.processMouseUp({button: 2});\r\n                event.preventDefault();\r\n                clearInterval(myself.touchHoldTimeout);\r\n            },\r\n            400\r\n        );\r\n        this.processMouseMove(event.touches[0]); // update my position\r\n        this.processMouseDown({button: 0});\r\n        event.preventDefault();\r\n    }\r\n};\r\n\r\nHandMorph.prototype.processTouchMove = function (event) {\r\n    MorphicPreferences.isTouchDevice = true;\r\n    if (event.touches.length === 1) {\r\n        var touch = event.touches[0];\r\n        this.processMouseMove(touch);\r\n        clearInterval(this.touchHoldTimeout);\r\n    }\r\n};\r\n\r\nHandMorph.prototype.processTouchEnd = function (event) {\r\n    MorphicPreferences.isTouchDevice = true;\r\n    clearInterval(this.touchHoldTimeout);\r\n    nop(event);\r\n    this.processMouseUp({button: 0});\r\n};\r\n\r\nHandMorph.prototype.processMouseUp = function () {\r\n    var morph = this.morphAtPointer(),\r\n        context,\r\n        contextMenu,\r\n        expectedClick;\r\n\r\n    this.destroyTemporaries();\r\n    if (this.children.length !== 0) {\r\n        this.drop();\r\n    } else {\r\n        if (this.mouseButton === 'left') {\r\n            expectedClick = 'mouseClickLeft';\r\n        } else {\r\n            expectedClick = 'mouseClickRight';\r\n            if (this.mouseButton && this.contextMenuEnabled) {\r\n                context = morph;\r\n                contextMenu = context.contextMenu();\r\n                while ((!contextMenu) &&\r\n                        context.parent) {\r\n                    context = context.parent;\r\n                    contextMenu = context.contextMenu();\r\n                }\r\n                if (contextMenu) {\r\n                    contextMenu.popUpAtHand(this.world);\r\n                }\r\n            }\r\n        }\r\n        while (!morph[expectedClick]) {\r\n            morph = morph.parent;\r\n        }\r\n        morph[expectedClick](this.bounds.origin);\r\n    }\r\n    this.mouseButton = null;\r\n};\r\n\r\nHandMorph.prototype.processDoubleClick = function () {\r\n    var morph = this.morphAtPointer();\r\n\r\n    this.destroyTemporaries();\r\n    if (this.children.length !== 0) {\r\n        this.drop();\r\n    } else {\r\n        while (morph && !morph.mouseDoubleClick) {\r\n            morph = morph.parent;\r\n        }\r\n        if (morph) {\r\n            morph.mouseDoubleClick(this.bounds.origin);\r\n        }\r\n    }\r\n    this.mouseButton = null;\r\n};\r\n\r\nHandMorph.prototype.processMouseMove = function (event) {\r\n    var pos,\r\n        posInDocument = getDocumentPositionOf(this.world.worldCanvas),\r\n        mouseOverNew,\r\n        myself = this,\r\n        morph,\r\n        topMorph;\r\n\r\n    pos = new Point(\r\n        event.pageX - posInDocument.x,\r\n        event.pageY - posInDocument.y\r\n    );\r\n\r\n    this.setPosition(pos);\r\n\r\n    // determine the new mouse-over-list:\r\n    // mouseOverNew = this.allMorphsAtPointer();\r\n    mouseOverNew = this.morphAtPointer().allParents();\r\n\r\n    if (!this.children.length && this.mouseButton) {\r\n        topMorph = this.morphAtPointer();\r\n        morph = topMorph.rootForGrab();\r\n        if (topMorph.mouseMove) {\r\n            topMorph.mouseMove(pos, this.mouseButton);\r\n            if (this.mouseButton === 'right') {\r\n                this.contextMenuEnabled = false;\r\n            }\r\n        }\r\n\r\n        // if a morph is marked for grabbing, just grab it\r\n        if (this.mouseButton === 'left' &&\r\n                this.morphToGrab &&\r\n                (this.grabPosition.distanceTo(this.bounds.origin) >\r\n                    MorphicPreferences.grabThreshold)) {\r\n            this.setPosition(this.grabPosition);\r\n            if (this.morphToGrab.isDraggable) {\r\n                morph = this.morphToGrab.selectForEdit ?\r\n                        this.morphToGrab.selectForEdit() : this.morphToGrab;\r\n                this.grab(morph);\r\n            } else if (this.morphToGrab.isTemplate) {\r\n                morph = this.morphToGrab.fullCopy();\r\n                morph.isTemplate = false;\r\n                morph.isDraggable = true;\r\n                if (morph.reactToTemplateCopy) {\r\n                    morph.reactToTemplateCopy();\r\n                }\r\n                this.grab(morph);\r\n                this.grabOrigin = this.morphToGrab.situation();\r\n            }\r\n            this.setPosition(pos);\r\n        }\r\n    }\r\n\r\n    this.mouseOverList.forEach(function (old) {\r\n        if (!contains(mouseOverNew, old)) {\r\n            if (old.mouseLeave) {\r\n                old.mouseLeave();\r\n            }\r\n            if (old.mouseLeaveDragging && myself.mouseButton) {\r\n                old.mouseLeaveDragging();\r\n            }\r\n        }\r\n    });\r\n    mouseOverNew.forEach(function (newMorph) {\r\n        if (!contains(myself.mouseOverList, newMorph)) {\r\n            if (newMorph.mouseEnter) {\r\n                newMorph.mouseEnter();\r\n            }\r\n            if (newMorph.mouseEnterDragging && myself.mouseButton) {\r\n                newMorph.mouseEnterDragging();\r\n            }\r\n        }\r\n\r\n        // autoScrolling support:\r\n        if (myself.children.length > 0) {\r\n            if (newMorph instanceof ScrollFrameMorph &&\r\n                    newMorph.enableAutoScrolling &&\r\n                    newMorph.contents.allChildren().some(function (any) {\r\n                        return any.wantsDropOf(myself.children[0]);\r\n                    })\r\n            ) {\r\n                if (!newMorph.bounds.insetBy(\r\n                        MorphicPreferences.scrollBarSize * 3\r\n                    ).containsPoint(myself.bounds.origin)) {\r\n                    newMorph.startAutoScrolling();\r\n                }\r\n            }\r\n        }\r\n    });\r\n    this.mouseOverList = mouseOverNew;\r\n};\r\n\r\nHandMorph.prototype.processMouseScroll = function (event) {\r\n    var morph = this.morphAtPointer();\r\n    while (morph && !morph.mouseScroll) {\r\n        morph = morph.parent;\r\n    }\r\n    if (morph) {\r\n        morph.mouseScroll(\r\n            (event.detail / -3) || (\r\n                Object.prototype.hasOwnProperty.call(\r\n                    event,\r\n                    'wheelDeltaY'\r\n                ) ?\r\n                        event.wheelDeltaY / 120 :\r\n                        event.wheelDelta / 120\r\n            ),\r\n            event.wheelDeltaX / 120 || 0\r\n        );\r\n    }\r\n};\r\n\r\n/*\r\n    drop event:\r\n\r\n        droppedImage\r\n        droppedSVG\r\n        droppedAudio\r\n        droppedText\r\n*/\r\n\r\nHandMorph.prototype.processDrop = function (event) {\r\n/*\r\n    find out whether an external image or audio file was dropped\r\n    onto the world canvas, turn it into an offscreen canvas or audio\r\n    element and dispatch the\r\n\r\n        droppedImage(canvas, name)\r\n        droppedSVG(image, name)\r\n        droppedAudio(audio, name)\r\n\r\n    events to interested Morphs at the mouse pointer\r\n*/\r\n    var files = event instanceof FileList ? event\r\n                : event.target.files || event.dataTransfer.files,\r\n        file,\r\n        url = event.dataTransfer ?\r\n                event.dataTransfer.getData('URL') : null,\r\n        txt = event.dataTransfer ?\r\n                event.dataTransfer.getData('Text/HTML') : null,\r\n        suffix,\r\n        src,\r\n        target = this.morphAtPointer(),\r\n        img = new Image(),\r\n        canvas,\r\n        i;\r\n\r\n    function readSVG(aFile) {\r\n        var pic = new Image(),\r\n            frd = new FileReader();\r\n        while (!target.droppedSVG) {\r\n            target = target.parent;\r\n        }\r\n        pic.onload = function () {\r\n            target.droppedSVG(pic, aFile.name);\r\n        };\r\n        frd = new FileReader();\r\n        frd.onloadend = function (e) {\r\n            pic.src = e.target.result;\r\n        };\r\n        frd.readAsDataURL(aFile);\r\n    }\r\n\r\n    function readImage(aFile) {\r\n        var pic = new Image(),\r\n            frd = new FileReader();\r\n        while (!target.droppedImage) {\r\n            target = target.parent;\r\n        }\r\n        pic.onload = function () {\r\n            canvas = newCanvas(new Point(pic.width, pic.height), true);\r\n            canvas.getContext('2d').drawImage(pic, 0, 0);\r\n            target.droppedImage(canvas, aFile.name);\r\n        };\r\n        frd = new FileReader();\r\n        frd.onloadend = function (e) {\r\n            pic.src = e.target.result;\r\n        };\r\n        frd.readAsDataURL(aFile);\r\n    }\r\n\r\n    function readAudio(aFile) {\r\n        var snd = new Audio(),\r\n            frd = new FileReader();\r\n        while (!target.droppedAudio) {\r\n            target = target.parent;\r\n        }\r\n        frd.onloadend = function (e) {\r\n            snd.src = e.target.result;\r\n            target.droppedAudio(snd, aFile.name);\r\n        };\r\n        frd.readAsDataURL(aFile);\r\n    }\r\n\r\n    function readText(aFile) {\r\n        var frd = new FileReader();\r\n        while (!target.droppedText) {\r\n            target = target.parent;\r\n        }\r\n        frd.onloadend = function (e) {\r\n            target.droppedText(e.target.result, aFile.name);\r\n            //console.log(e.target.result);\r\n        };\r\n        frd.readAsText(aFile);\r\n        //console.log(frd.result);\r\n    }\r\n\r\n    function readBinary(aFile) {\r\n        var frd = new FileReader();\r\n        while (!target.droppedBinary) {\r\n            target = target.parent;\r\n        }\r\n        frd.onloadend = function (e) {\r\n            target.droppedBinary(e.target.result, aFile.name);\r\n        };\r\n        frd.readAsArrayBuffer(aFile);\r\n    }\r\n\r\n    function readURL(url, callback) {\r\n        var request = new XMLHttpRequest();\r\n        request.open('GET', url);\r\n        request.onreadystatechange = function () {\r\n            if (request.readyState === 4) {\r\n                if (request.responseText) {\r\n                    callback(request.responseText);\r\n                } else {\r\n                    throw new Error('unable to retrieve ' + url);\r\n                }\r\n            }\r\n        };\r\n        request.send();\r\n    }\r\n\r\n    function parseImgURL(html) {\r\n        var iurl = '',\r\n            idx,\r\n            c,\r\n            start = html.indexOf('<img src=\"');\r\n        if (start === -1) {return null; }\r\n        start += 10;\r\n        for (idx = start; idx < html.length; idx += 1) {\r\n            c = html[idx];\r\n            if (c === '\"') {\r\n                return iurl;\r\n            }\r\n            iurl = iurl.concat(c);\r\n        }\r\n        return null;\r\n    }\r\n\r\n    if (files.length > 0) {\r\n        for (i = 0; i < files.length; i += 1) {\r\n            file = files[i];\r\n            if (file.type.indexOf(\"svg\") !== -1\r\n                    && !MorphicPreferences.rasterizeSVGs) {\r\n                readSVG(file);\r\n            } else if (file.type.indexOf(\"image\") === 0) {\r\n                readImage(file);\r\n            } else if (file.type.indexOf(\"audio\") === 0) {\r\n                readAudio(file);\r\n            } else if (file.type.indexOf(\"text\") === 0) {\r\n                readText(file);\r\n            } else { // assume it's meant to be binary\r\n                readBinary(file);\r\n            }\r\n        }\r\n    } else if (url) {\r\n        suffix = url.slice(url.lastIndexOf('.') + 1).toLowerCase();\r\n        if (\r\n            contains(\r\n                ['gif', 'png', 'jpg', 'jpeg', 'bmp'],\r\n                suffix\r\n            )\r\n        ) {\r\n            while (!target.droppedImage) {\r\n                target = target.parent;\r\n            }\r\n            img = new Image();\r\n            img.onload = function () {\r\n                canvas = newCanvas(new Point(img.width, img.height), true);\r\n                canvas.getContext('2d').drawImage(img, 0, 0);\r\n                target.droppedImage(canvas);\r\n            };\r\n            img.src = url;\r\n        } else if (suffix === 'svg' && !MorphicPreferences.rasterizeSVGs) {\r\n            while (!target.droppedSVG) {\r\n                target = target.parent;\r\n            }\r\n            readURL(\r\n                url,\r\n                function (txt) {\r\n                    var pic = new Image();\r\n                    pic.onload = function () {\r\n                        target.droppedSVG(\r\n                            pic,\r\n                            url.slice(\r\n                                url.lastIndexOf('/') + 1,\r\n                                url.lastIndexOf('.')\r\n                            )\r\n                        );\r\n                    };\r\n                    pic.src = 'data:image/svg+xml;utf8,' +\r\n                        encodeURIComponent(txt);\r\n                }\r\n            );\r\n        }\r\n    } else if (txt) {\r\n        while (!target.droppedImage) {\r\n            target = target.parent;\r\n        }\r\n        img = new Image();\r\n        img.onload = function () {\r\n            canvas = newCanvas(new Point(img.width, img.height), true);\r\n            canvas.getContext('2d').drawImage(img, 0, 0);\r\n            target.droppedImage(canvas);\r\n        };\r\n        src = parseImgURL(txt);\r\n        if (src) {img.src = src; }\r\n    }\r\n};\r\n\r\n// HandMorph tools\r\n\r\nHandMorph.prototype.destroyTemporaries = function () {\r\n\r\n\r\n/*\r\n    temporaries are just an array of morphs which will be deleted upon\r\n    the next mouse click, or whenever another temporary Morph decides\r\n    that it needs to remove them. The primary purpose of temporaries is\r\n    to display tools tips of speech bubble help.\r\n*/\r\n    var myself = this;\r\n    this.temporaries.forEach(function (morph) {\r\n        if (!(morph.isClickable\r\n                && morph.bounds.containsPoint(myself.position()))) {\r\n            morph.destroy();\r\n            myself.temporaries.splice(myself.temporaries.indexOf(morph), 1);\r\n        }\r\n    });\r\n};\r\n\r\n\r\n\r\n// WorldMorph //////////////////////////////////////////////////////////\r\n\r\n// I represent the <canvas> element\r\n\r\n// WorldMorph inherits from FrameMorph:\r\nWorldMorph.prototype = new FrameMorph();\r\nWorldMorph.prototype.constructor = WorldMorph;\r\nWorldMorph.uber = FrameMorph.prototype;\r\n\r\n// WorldMorph instance creation:\r\n\r\nfunction WorldMorph(aCanvas, fillPage) {\r\n\r\n    this.init(aCanvas, fillPage);\r\n}\r\n\r\n// WorldMorph initialization:\r\n\r\nWorldMorph.prototype.init = function (aCanvas, fillPage) {\r\n\r\n    WorldMorph.uber.init.call(this);\r\n    this.color = new Color(205, 205, 205); // (130, 130, 130)\r\n    this.alpha = 1;\r\n    this.bounds = new Rectangle(0, 0, aCanvas.width, aCanvas.height);\r\n    this.drawNew();\r\n    this.isVisible = true;\r\n    this.isDraggable = false;\r\n    this.currentKey = null; // currently pressed key code\r\n    this.worldCanvas = aCanvas;\r\n    this.noticesTransparentClick = true;\r\n\r\n    // additional properties:\r\n    this.stamp = Date.now(); // reference in multi-world setups\r\n    while (this.stamp === Date.now()) {nop(); }\r\n    this.stamp = Date.now();\r\n\r\n    this.useFillPage = fillPage;\r\n    if (this.useFillPage === undefined) {\r\n        this.useFillPage = true;\r\n    }\r\n    this.isDevMode = false;\r\n    this.broken = [];\r\n    this.animations = [];\r\n    this.hand = new HandMorph(this);\r\n    this.keyboardReceiver = null;\r\n    this.cursor = null;\r\n    this.lastEditedText = null;\r\n    this.activeMenu = null;\r\n    this.activeHandle = null;\r\n    this.virtualKeyboard = null;\r\n\r\n    this.initEventListeners();\r\n};\r\n\r\n// World Morph display:\r\n\r\nWorldMorph.prototype.brokenFor = function (aMorph) {\r\n    // private\r\n    var fb = aMorph.fullBounds();\r\n    return this.broken.filter(function (rect) {\r\n        return rect.intersects(fb);\r\n    });\r\n};\r\n\r\nWorldMorph.prototype.fullDrawOn = function (aCanvas, aRect) {\r\n    WorldMorph.uber.fullDrawOn.call(this, aCanvas, aRect);\r\n    this.hand.fullDrawOn(aCanvas, aRect);\r\n};\r\n\r\nWorldMorph.prototype.updateBroken = function () {\r\n    var myself = this;\r\n    this.condenseDamages();\r\n    this.broken.forEach(function (rect) {\r\n        if (rect.extent().gt(new Point(0, 0))) {\r\n            myself.fullDrawOn(myself.worldCanvas, rect);\r\n        }\r\n    });\r\n    this.broken = [];\r\n};\r\n\r\nWorldMorph.prototype.stepAnimations = function () {\r\n    this.animations.forEach(function (anim) {anim.step(); });\r\n    this.animations = this.animations.filter(function (anim) {\r\n        return anim.isActive;\r\n    });\r\n};\r\n\r\nWorldMorph.prototype.condenseDamages = function () {\r\n    // collapse clustered damaged rectangles into their unions,\r\n    // thereby reducing the array of brokens to a manageable size\r\n\r\n    function condense(src) {\r\n        var trgt = [], hit;\r\n        src.forEach(function (rect) {\r\n            hit = detect(\r\n                trgt,\r\n                function (each) {return each.isNearTo(rect, 20); }\r\n            );\r\n            if (hit) {\r\n                hit.mergeWith(rect);\r\n            } else {\r\n                trgt.push(rect);\r\n            }\r\n        });\r\n        return trgt;\r\n    }\r\n\r\n    var again = true, size = this.broken.length;\r\n    while (again) {\r\n        this.broken = condense(this.broken);\r\n        again = (this.broken.length < size);\r\n        size = this.broken.length;\r\n    }\r\n};\r\n\r\nWorldMorph.prototype.doOneCycle = function () {\r\n    this.stepFrame();\r\n    this.stepAnimations();\r\n    this.updateBroken();\r\n};\r\n\r\nWorldMorph.prototype.fillPage = function () {\r\n    var clientHeight = window.innerHeight,\r\n        clientWidth = window.innerWidth,\r\n        myself = this;\r\n\r\n    this.worldCanvas.style.position = \"absolute\";\r\n    this.worldCanvas.style.left = \"0px\";\r\n    this.worldCanvas.style.right = \"0px\";\r\n    this.worldCanvas.style.width = \"100%\";\r\n    this.worldCanvas.style.height = \"100%\";\r\n\r\n    if (document.documentElement.scrollTop) {\r\n        // scrolled down b/c of viewport scaling\r\n        clientHeight = document.documentElement.clientHeight;\r\n    }\r\n    if (document.documentElement.scrollLeft) {\r\n        // scrolled left b/c of viewport scaling\r\n        clientWidth = document.documentElement.clientWidth;\r\n    }\r\n    if (this.worldCanvas.width !== clientWidth) {\r\n        this.worldCanvas.width = clientWidth;\r\n        this.setWidth(clientWidth);\r\n    }\r\n    if (this.worldCanvas.height !== clientHeight) {\r\n        this.worldCanvas.height = clientHeight;\r\n        this.setHeight(clientHeight);\r\n    }\r\n    this.children.forEach(function (child) {\r\n        if (child.reactToWorldResize) {\r\n            child.reactToWorldResize(myself.bounds.copy());\r\n        }\r\n    });\r\n};\r\n\r\n// WorldMorph global pixel access:\r\n\r\nWorldMorph.prototype.getGlobalPixelColor = function (point) {\r\n    // answer the color at the given point.\r\n\r\n/*\r\n    // original method, now deprecated as of 4/4/2017 because Chrome\r\n    // \"taints\" the on-screen canvas as soon as its image data is\r\n    // requested, significantly slowing down subsequent blittings\r\n\r\n    var dta = this.worldCanvas.getContext('2d').getImageData(\r\n        point.x,\r\n        point.y,\r\n        1,\r\n        1\r\n    ).data;\r\n    return new Color(dta[0], dta[1], dta[2]);\r\n*/\r\n\r\n    var clr = this.hand.morphAtPointer().getPixelColor(this.hand.position());\r\n    // IMPORTANT:\r\n    // all callers of getGlobalPixelColor should make provisions for retina\r\n    // display support, which gets null-pixels interlaced with non-null ones:\r\n    // if (!clr.a) {/* ignore */ }\r\n    return clr;\r\n};\r\n\r\n// WorldMorph events:\r\n\r\nWorldMorph.prototype.initVirtualKeyboard = function () {\r\n    var myself = this;\r\n\r\n    if (this.virtualKeyboard) {\r\n        document.body.removeChild(this.virtualKeyboard);\r\n        this.virtualKeyboard = null;\r\n    }\r\n    if (!MorphicPreferences.isTouchDevice\r\n            || !MorphicPreferences.useVirtualKeyboard) {\r\n        return;\r\n    }\r\n    this.virtualKeyboard = document.createElement(\"input\");\r\n    this.virtualKeyboard.type = \"text\";\r\n    this.virtualKeyboard.style.color = \"transparent\";\r\n    this.virtualKeyboard.style.backgroundColor = \"transparent\";\r\n    this.virtualKeyboard.style.border = \"none\";\r\n    this.virtualKeyboard.style.outline = \"none\";\r\n    this.virtualKeyboard.style.position = \"absolute\";\r\n    this.virtualKeyboard.style.top = \"0px\";\r\n    this.virtualKeyboard.style.left = \"0px\";\r\n    this.virtualKeyboard.style.width = \"0px\";\r\n    this.virtualKeyboard.style.height = \"0px\";\r\n    this.virtualKeyboard.autocapitalize = \"none\"; // iOS specific\r\n    document.body.appendChild(this.virtualKeyboard);\r\n\r\n    this.virtualKeyboard.addEventListener(\r\n        \"keydown\",\r\n        function (event) {\r\n            // remember the keyCode in the world's currentKey property\r\n            myself.currentKey = event.keyCode;\r\n            if (myself.keyboardReceiver) {\r\n                myself.keyboardReceiver.processKeyDown(event);\r\n            }\r\n            // supress backspace override\r\n            if (event.keyCode === 8) {\r\n                event.preventDefault();\r\n            }\r\n            // supress tab override and make sure tab gets\r\n            // received by all browsers\r\n            if (event.keyCode === 9) {\r\n                if (myself.keyboardReceiver) {\r\n                    myself.keyboardReceiver.processKeyPress(event);\r\n                }\r\n                event.preventDefault();\r\n            }\r\n        },\r\n        false\r\n    );\r\n\r\n    this.virtualKeyboard.addEventListener(\r\n        \"keyup\",\r\n        function (event) {\r\n            // flush the world's currentKey property\r\n            myself.currentKey = null;\r\n            // dispatch to keyboard receiver\r\n            if (myself.keyboardReceiver) {\r\n                if (myself.keyboardReceiver.processKeyUp) {\r\n                    myself.keyboardReceiver.processKeyUp(event);\r\n                }\r\n            }\r\n            event.preventDefault();\r\n        },\r\n        false\r\n    );\r\n\r\n    this.virtualKeyboard.addEventListener(\r\n        \"keypress\",\r\n        function (event) {\r\n            if (myself.keyboardReceiver) {\r\n                myself.keyboardReceiver.processKeyPress(event);\r\n            }\r\n            event.preventDefault();\r\n        },\r\n        false\r\n    );\r\n};\r\n\r\nWorldMorph.prototype.initEventListeners = function () {\r\n    var canvas = this.worldCanvas, myself = this;\r\n\r\n    if (myself.useFillPage) {\r\n        myself.fillPage();\r\n    } else {\r\n        this.changed();\r\n    }\r\n\r\n    canvas.addEventListener(\r\n        \"mousedown\",\r\n        function (event) {\r\n            event.preventDefault();\r\n            canvas.focus();\r\n            myself.hand.processMouseDown(event);\r\n        },\r\n        false\r\n    );\r\n\r\n    canvas.addEventListener(\r\n        \"touchstart\",\r\n        function (event) {\r\n            myself.hand.processTouchStart(event);\r\n        },\r\n        false\r\n    );\r\n\r\n    canvas.addEventListener(\r\n        \"mouseup\",\r\n        function (event) {\r\n            event.preventDefault();\r\n            myself.hand.processMouseUp(event);\r\n        },\r\n        false\r\n    );\r\n\r\n    canvas.addEventListener(\r\n        \"dblclick\",\r\n        function (event) {\r\n            event.preventDefault();\r\n            myself.hand.processDoubleClick(event);\r\n        },\r\n        false\r\n    );\r\n\r\n    canvas.addEventListener(\r\n        \"touchend\",\r\n        function (event) {\r\n            myself.hand.processTouchEnd(event);\r\n        },\r\n        false\r\n    );\r\n\r\n    canvas.addEventListener(\r\n        \"mousemove\",\r\n        function (event) {\r\n            myself.hand.processMouseMove(event);\r\n        },\r\n        false\r\n    );\r\n\r\n    canvas.addEventListener(\r\n        \"touchmove\",\r\n        function (event) {\r\n            myself.hand.processTouchMove(event);\r\n        },\r\n        false\r\n    );\r\n\r\n    canvas.addEventListener(\r\n        \"contextmenu\",\r\n        function (event) {\r\n            // suppress context menu for Mac-Firefox\r\n            event.preventDefault();\r\n        },\r\n        false\r\n    );\r\n\r\n    canvas.addEventListener(\r\n        \"keydown\",\r\n        function (event) {\r\n            // remember the keyCode in the world's currentKey property\r\n            myself.currentKey = event.keyCode;\r\n            if (myself.keyboardReceiver) {\r\n                myself.keyboardReceiver.processKeyDown(event);\r\n            }\r\n            // supress backspace override\r\n            if (event.keyCode === 8) {\r\n                event.preventDefault();\r\n            }\r\n            // supress tab override and make sure tab gets\r\n            // received by all browsers\r\n            if (event.keyCode === 9) {\r\n                if (myself.keyboardReceiver) {\r\n                    myself.keyboardReceiver.processKeyPress(event);\r\n                }\r\n                event.preventDefault();\r\n            }\r\n            if ((event.ctrlKey && (!event.altKey) || event.metaKey) &&\r\n                    (event.keyCode !== 86)) { // allow pasting-in\r\n                event.preventDefault();\r\n            }\r\n        },\r\n        false\r\n    );\r\n\r\n    canvas.addEventListener(\r\n        \"keyup\",\r\n        function (event) {\r\n            // flush the world's currentKey property\r\n            myself.currentKey = null;\r\n            // dispatch to keyboard receiver\r\n            if (myself.keyboardReceiver) {\r\n                if (myself.keyboardReceiver.processKeyUp) {\r\n                    myself.keyboardReceiver.processKeyUp(event);\r\n                }\r\n            }\r\n            event.preventDefault();\r\n        },\r\n        false\r\n    );\r\n\r\n    canvas.addEventListener(\r\n        \"keypress\",\r\n        function (event) {\r\n            if (myself.keyboardReceiver) {\r\n                myself.keyboardReceiver.processKeyPress(event);\r\n            }\r\n            event.preventDefault();\r\n        },\r\n        false\r\n    );\r\n\r\n    canvas.addEventListener( // Safari, Chrome\r\n        \"mousewheel\",\r\n        function (event) {\r\n            myself.hand.processMouseScroll(event);\r\n            event.preventDefault();\r\n        },\r\n        false\r\n    );\r\n    canvas.addEventListener( // Firefox\r\n        \"DOMMouseScroll\",\r\n        function (event) {\r\n            myself.hand.processMouseScroll(event);\r\n            event.preventDefault();\r\n        },\r\n        false\r\n    );\r\n\r\n    document.body.addEventListener(\r\n        \"paste\",\r\n        function (event) {\r\n            var txt = event.clipboardData.getData(\"Text\");\r\n            if (txt && myself.cursor) {\r\n                myself.cursor.insert(txt);\r\n            }\r\n        },\r\n        false\r\n    );\r\n\r\n    window.addEventListener(\r\n        \"dragover\",\r\n        function (event) {\r\n            event.preventDefault();\r\n        },\r\n        false\r\n    );\r\n    window.addEventListener(\r\n        \"drop\",\r\n        function (event) {\r\n            myself.hand.processDrop(event);\r\n            event.preventDefault();\r\n        },\r\n        false\r\n    );\r\n\r\n    window.addEventListener(\r\n        \"resize\",\r\n        function () {\r\n            if (myself.useFillPage) {\r\n                myself.fillPage();\r\n            }\r\n        },\r\n        false\r\n    );\r\n\r\n    window.onbeforeunload = function (evt) {\r\n        var e = evt || window.event,\r\n            msg = \"Are you sure you want to leave?\";\r\n        // For IE and Firefox\r\n        if (e) {\r\n            e.returnValue = msg;\r\n        }\r\n        // For Safari / chrome\r\n        return msg;\r\n    };\r\n};\r\n\r\nWorldMorph.prototype.mouseDownLeft = nop;\r\n\r\nWorldMorph.prototype.mouseClickLeft = nop;\r\n\r\nWorldMorph.prototype.mouseDownRight = nop;\r\n\r\nWorldMorph.prototype.mouseClickRight = nop;\r\n\r\nWorldMorph.prototype.wantsDropOf = function () {\r\n    // allow handle drops if any drops are allowed\r\n    return this.acceptsDrops;\r\n};\r\n\r\nWorldMorph.prototype.droppedImage = function () {\r\n    return null;\r\n};\r\n\r\nWorldMorph.prototype.droppedSVG = function () {\r\n    return null;\r\n};\r\n\r\n// WorldMorph text field tabbing:\r\n\r\nWorldMorph.prototype.nextTab = function (editField) {\r\n    var next = this.nextEntryField(editField);\r\n    if (next) {\r\n        editField.clearSelection();\r\n        next.selectAll();\r\n        next.edit();\r\n    }\r\n};\r\n\r\nWorldMorph.prototype.previousTab = function (editField) {\r\n    var prev = this.previousEntryField(editField);\r\n    if (prev) {\r\n        editField.clearSelection();\r\n        prev.selectAll();\r\n        prev.edit();\r\n    }\r\n};\r\n\r\n// WorldMorph menu:\r\n\r\nWorldMorph.prototype.contextMenu = function () {\r\n    var menu;\r\n\r\n    if (this.isDevMode) {\r\n        menu = new MenuMorph(this, this.constructor.name ||\r\n            this.constructor.toString().split(' ')[1].split('(')[0]);\r\n    } else {\r\n        menu = new MenuMorph(this, 'Morphic');\r\n    }\r\n    if (this.isDevMode) {\r\n        menu.addItem(\"demo...\", 'userCreateMorph', 'sample morphs');\r\n        menu.addLine();\r\n        menu.addItem(\"hide all...\", 'hideAll');\r\n        menu.addItem(\"show all...\", 'showAllHiddens');\r\n        menu.addItem(\r\n            \"move all inside...\",\r\n            'keepAllSubmorphsWithin',\r\n            'keep all submorphs\\nwithin and visible'\r\n        );\r\n        menu.addItem(\r\n            \"inspect...\",\r\n            'inspect',\r\n            'open a window on\\nall properties'\r\n        );\r\n        menu.addItem(\r\n            \"screenshot...\",\r\n            function () {\r\n                window.open(this.fullImageClassic().toDataURL());\r\n            },\r\n            'open a new window\\nwith a picture of this morph'\r\n        );\r\n        menu.addLine();\r\n        menu.addItem(\r\n            \"restore display\",\r\n            'changed',\r\n            'redraw the\\nscreen once'\r\n        );\r\n        menu.addItem(\r\n            \"fill page...\",\r\n            'fillPage',\r\n            'let the World automatically\\nadjust to browser resizing'\r\n        );\r\n        if (useBlurredShadows) {\r\n            menu.addItem(\r\n                \"sharp shadows...\",\r\n                'toggleBlurredShadows',\r\n                'sharp drop shadows\\nuse for old browsers'\r\n            );\r\n        } else {\r\n            menu.addItem(\r\n                \"blurred shadows...\",\r\n                'toggleBlurredShadows',\r\n                'blurry shades,\\n use for new browsers'\r\n            );\r\n        }\r\n        menu.addItem(\r\n            \"color...\",\r\n            function () {\r\n                this.pickColor(\r\n                    menu.title + localize('\\ncolor:'),\r\n                    this.setColor,\r\n                    this,\r\n                    this.color\r\n                );\r\n            },\r\n            'choose the World\\'s\\nbackground color'\r\n        );\r\n        if (MorphicPreferences === standardSettings) {\r\n            menu.addItem(\r\n                \"touch screen settings\",\r\n                'togglePreferences',\r\n                'bigger menu fonts\\nand sliders'\r\n            );\r\n        } else {\r\n            menu.addItem(\r\n                \"standard settings\",\r\n                'togglePreferences',\r\n                'smaller menu fonts\\nand sliders'\r\n            );\r\n        }\r\n        menu.addLine();\r\n    }\r\n    if (this.isDevMode) {\r\n        menu.addItem(\r\n            \"user mode...\",\r\n            'toggleDevMode',\r\n            'disable developers\\'\\ncontext menus'\r\n        );\r\n    } else {\r\n        menu.addItem(\"development mode...\", 'toggleDevMode');\r\n    }\r\n    menu.addItem(\"about morphic.js...\", 'about');\r\n    return menu;\r\n};\r\n\r\nWorldMorph.prototype.userCreateMorph = function () {\r\n    var myself = this, menu, newMorph;\r\n\r\n    function create(aMorph) {\r\n        aMorph.isDraggable = true;\r\n        aMorph.pickUp(myself);\r\n    }\r\n\r\n    menu = new MenuMorph(this, 'make a morph');\r\n    menu.addItem('rectangle', function () {\r\n        create(new Morph());\r\n    });\r\n    menu.addItem('box', function () {\r\n        create(new BoxMorph());\r\n    });\r\n    menu.addItem('circle box', function () {\r\n        create(new CircleBoxMorph());\r\n    });\r\n    menu.addLine();\r\n    menu.addItem('slider', function () {\r\n        create(new SliderMorph());\r\n    });\r\n    menu.addItem('frame', function () {\r\n        newMorph = new FrameMorph();\r\n        newMorph.setExtent(new Point(350, 250));\r\n        create(newMorph);\r\n    });\r\n    menu.addItem('scroll frame', function () {\r\n        newMorph = new ScrollFrameMorph();\r\n        newMorph.contents.acceptsDrops = true;\r\n        newMorph.contents.adjustBounds();\r\n        newMorph.setExtent(new Point(350, 250));\r\n        create(newMorph);\r\n    });\r\n    menu.addItem('handle', function () {\r\n        create(new HandleMorph());\r\n    });\r\n    menu.addLine();\r\n    menu.addItem('string', function () {\r\n        newMorph = new StringMorph('Hello, World!');\r\n        newMorph.isEditable = true;\r\n        create(newMorph);\r\n    });\r\n    menu.addItem('text', function () {\r\n        newMorph = new TextMorph(\r\n            \"Ich wei\\u00DF nicht, was soll es bedeuten, dass ich so \" +\r\n                \"traurig bin, ein M\\u00E4rchen aus uralten Zeiten, das \" +\r\n                \"kommt mir nicht aus dem Sinn. Die Luft ist k\\u00FChl \" +\r\n                \"und es dunkelt, und ruhig flie\\u00DFt der Rhein; der \" +\r\n                \"Gipfel des Berges funkelt im Abendsonnenschein. \" +\r\n                \"Die sch\\u00F6nste Jungfrau sitzet dort oben wunderbar, \" +\r\n                \"ihr gold'nes Geschmeide blitzet, sie k\\u00E4mmt ihr \" +\r\n                \"goldenes Haar, sie k\\u00E4mmt es mit goldenem Kamme, \" +\r\n                \"und singt ein Lied dabei; das hat eine wundersame, \" +\r\n                \"gewalt'ge Melodei. Den Schiffer im kleinen \" +\r\n                \"Schiffe, ergreift es mit wildem Weh; er schaut \" +\r\n                \"nicht die Felsenriffe, er schaut nur hinauf in \" +\r\n                \"die H\\u00F6h'. Ich glaube, die Wellen verschlingen \" +\r\n                \"am Ende Schiffer und Kahn, und das hat mit ihrem \" +\r\n                \"Singen, die Loreley getan.\"\r\n        );\r\n        newMorph.isEditable = true;\r\n        newMorph.maxWidth = 300;\r\n        newMorph.drawNew();\r\n        create(newMorph);\r\n    });\r\n    menu.addItem('speech bubble', function () {\r\n        newMorph = new SpeechBubbleMorph('Hello, World!');\r\n        create(newMorph);\r\n    });\r\n    menu.addLine();\r\n    menu.addItem('gray scale palette', function () {\r\n        create(new GrayPaletteMorph());\r\n    });\r\n    menu.addItem('color palette', function () {\r\n        create(new ColorPaletteMorph());\r\n    });\r\n    menu.addItem('color picker', function () {\r\n        create(new ColorPickerMorph());\r\n    });\r\n    menu.addLine();\r\n    menu.addItem('sensor demo', function () {\r\n        newMorph = new MouseSensorMorph();\r\n        newMorph.setColor(new Color(230, 200, 100));\r\n        newMorph.edge = 35;\r\n        newMorph.border = 15;\r\n        newMorph.borderColor = new Color(200, 100, 50);\r\n        newMorph.alpha = 0.2;\r\n        newMorph.setExtent(new Point(100, 100));\r\n        create(newMorph);\r\n    });\r\n    menu.addItem('animation demo', function () {\r\n        var foo, bar, baz, garply, fred;\r\n\r\n        foo = new BouncerMorph();\r\n        foo.setPosition(new Point(50, 20));\r\n        foo.setExtent(new Point(300, 200));\r\n        foo.alpha = 0.9;\r\n        foo.speed = 3;\r\n\r\n        bar = new BouncerMorph();\r\n        bar.setColor(new Color(50, 50, 50));\r\n        bar.setPosition(new Point(80, 80));\r\n        bar.setExtent(new Point(80, 250));\r\n        bar.type = 'horizontal';\r\n        bar.direction = 'right';\r\n        bar.alpha = 0.9;\r\n        bar.speed = 5;\r\n\r\n        baz = new BouncerMorph();\r\n        baz.setColor(new Color(20, 20, 20));\r\n        baz.setPosition(new Point(90, 140));\r\n        baz.setExtent(new Point(40, 30));\r\n        baz.type = 'horizontal';\r\n        baz.direction = 'right';\r\n        baz.speed = 3;\r\n\r\n        garply = new BouncerMorph();\r\n        garply.setColor(new Color(200, 20, 20));\r\n        garply.setPosition(new Point(90, 140));\r\n        garply.setExtent(new Point(20, 20));\r\n        garply.type = 'vertical';\r\n        garply.direction = 'up';\r\n        garply.speed = 8;\r\n\r\n        fred = new BouncerMorph();\r\n        fred.setColor(new Color(20, 200, 20));\r\n        fred.setPosition(new Point(120, 140));\r\n        fred.setExtent(new Point(20, 20));\r\n        fred.type = 'vertical';\r\n        fred.direction = 'down';\r\n        fred.speed = 4;\r\n\r\n        bar.add(garply);\r\n        bar.add(baz);\r\n        foo.add(fred);\r\n        foo.add(bar);\r\n\r\n        create(foo);\r\n    });\r\n    menu.addItem('pen', function () {\r\n        create(new PenMorph());\r\n    });\r\n    if (myself.customMorphs) {\r\n        menu.addLine();\r\n        myself.customMorphs().forEach(function (morph) {\r\n            menu.addItem(morph.toString(), function () {\r\n                create(morph);\r\n            });\r\n        });\r\n    }\r\n    menu.popUpAtHand(this);\r\n};\r\n\r\nWorldMorph.prototype.toggleDevMode = function () {\r\n    this.isDevMode = !this.isDevMode;\r\n};\r\n\r\nWorldMorph.prototype.hideAll = function () {\r\n    this.children.forEach(function (child) {\r\n        child.hide();\r\n    });\r\n};\r\n\r\nWorldMorph.prototype.showAllHiddens = function () {\r\n    this.forAllChildren(function (child) {\r\n        if (!child.isVisible) {\r\n            child.show();\r\n        }\r\n    });\r\n};\r\n\r\nWorldMorph.prototype.about = function () {\r\n    var versions = '', module;\r\n\r\n    for (module in modules) {\r\n        if (Object.prototype.hasOwnProperty.call(modules, module)) {\r\n            versions += ('\\n' + module + ' (' + modules[module] + ')');\r\n        }\r\n    }\r\n    if (versions !== '') {\r\n        versions = '\\n\\nmodules:\\n\\n' +\r\n            'morphic (' + morphicVersion + ')' +\r\n            versions;\r\n    }\r\n\r\n    this.inform(\r\n        'morphic.js\\n\\n' +\r\n            'a lively Web GUI\\ninspired by Squeak\\n' +\r\n            morphicVersion +\r\n            '\\n\\nwritten by Jens M\\u00F6nig\\njens@moenig.org' +\r\n            versions\r\n    );\r\n};\r\n\r\nWorldMorph.prototype.edit = function (aStringOrTextMorph) {\r\n    var pos = getDocumentPositionOf(this.worldCanvas);\r\n\r\n    if (!aStringOrTextMorph.isEditable) {\r\n        return null;\r\n    }\r\n    if (this.cursor) {\r\n        this.cursor.destroy();\r\n    }\r\n    this.cursor = new CursorMorph(aStringOrTextMorph);\r\n    aStringOrTextMorph.parent.add(this.cursor);\r\n    this.keyboardReceiver = this.cursor;\r\n\r\n    this.initVirtualKeyboard();\r\n    if (MorphicPreferences.isTouchDevice\r\n            && MorphicPreferences.useVirtualKeyboard) {\r\n        this.virtualKeyboard.style.top = this.cursor.top() + pos.y + \"px\";\r\n        this.virtualKeyboard.style.left = this.cursor.left() + pos.x + \"px\";\r\n        this.virtualKeyboard.focus();\r\n    }\r\n\r\n    if (MorphicPreferences.useSliderForInput) {\r\n        if (!aStringOrTextMorph.parentThatIsA(MenuMorph)) {\r\n            this.slide(aStringOrTextMorph);\r\n        }\r\n    }\r\n\r\n    if (this.lastEditedText !== aStringOrTextMorph) {\r\n        aStringOrTextMorph.escalateEvent('freshTextEdit', aStringOrTextMorph);\r\n    }\r\n    this.lastEditedText = aStringOrTextMorph;\r\n};\r\n\r\nWorldMorph.prototype.slide = function (aStringOrTextMorph) {\r\n    // display a slider for numeric text entries\r\n    var val = parseFloat(aStringOrTextMorph.text),\r\n        menu,\r\n        slider;\r\n\r\n    if (isNaN(val)) {\r\n        val = 0;\r\n    }\r\n    menu = new MenuMorph();\r\n    slider = new SliderMorph(\r\n        val - 25,\r\n        val + 25,\r\n        val,\r\n        10,\r\n        'horizontal'\r\n    );\r\n    slider.alpha = 1;\r\n    slider.color = new Color(225, 225, 225);\r\n    slider.button.color = menu.borderColor;\r\n    slider.button.highlightColor = slider.button.color.copy();\r\n    slider.button.highlightColor.b += 100;\r\n    slider.button.pressColor = slider.button.color.copy();\r\n    slider.button.pressColor.b += 150;\r\n    slider.silentSetHeight(MorphicPreferences.scrollBarSize);\r\n    slider.silentSetWidth(MorphicPreferences.menuFontSize * 10);\r\n    slider.drawNew();\r\n    slider.action = function (num) {\r\n        aStringOrTextMorph.changed();\r\n        aStringOrTextMorph.text = Math.round(num).toString();\r\n        aStringOrTextMorph.drawNew();\r\n        aStringOrTextMorph.changed();\r\n        aStringOrTextMorph.escalateEvent(\r\n            'reactToSliderEdit',\r\n            aStringOrTextMorph\r\n        );\r\n    };\r\n    menu.items.push(slider);\r\n    menu.popup(this, aStringOrTextMorph.bottomLeft().add(new Point(0, 5)));\r\n};\r\n\r\nWorldMorph.prototype.stopEditing = function () {\r\n    if (this.cursor) {\r\n        this.cursor.target.escalateEvent('reactToEdit', this.cursor.target);\r\n        this.cursor.target.clearSelection();\r\n        this.cursor.destroy();\r\n        this.cursor = null;\r\n    }\r\n    if (this.keyboardReceiver && this.keyboardReceiver.stopEditing) {\r\n    \tthis.keyboardReceiver.stopEditing();\r\n    }\r\n    this.keyboardReceiver = null;\r\n    if (this.virtualKeyboard) {\r\n        this.virtualKeyboard.blur();\r\n        document.body.removeChild(this.virtualKeyboard);\r\n        this.virtualKeyboard = null;\r\n    }\r\n    this.lastEditedText = null;\r\n    this.worldCanvas.focus();\r\n};\r\n\r\nWorldMorph.prototype.toggleBlurredShadows = function () {\r\n    useBlurredShadows = !useBlurredShadows;\r\n};\r\n\r\nWorldMorph.prototype.togglePreferences = function () {\r\n    if (MorphicPreferences === standardSettings) {\r\n        MorphicPreferences = touchScreenSettings;\r\n    } else {\r\n        MorphicPreferences = standardSettings;\r\n    }\r\n};\r\n\r\n\r\n//fin de MORPHIC\r\n\r\n/*\r\n\r\n    widgets.js\r\n\r\n    additional GUI elements for morphic.js\r\n\r\n    written by Jens Mönig\r\n    jens@moenig.org\r\n\r\n    Copyright (C) 2017 by Jens Mönig\r\n\r\n    This file is part of Snap!.\r\n\r\n    Snap! is free software: you can redistribute it and/or modify\r\n    it under the terms of the GNU Affero General Public License as\r\n    published by the Free Software Foundation, either version 3 of\r\n    the License, or (at your option) any later version.\r\n\r\n    This program is distributed in the hope that it will be useful,\r\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n    GNU Affero General Public License for more details.\r\n\r\n    You should have received a copy of the GNU Affero General Public License\r\n    along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n\r\n\r\n    prerequisites:\r\n    --------------\r\n    needs blocks.js and objects.js\r\n\r\n\r\n    credits\r\n    -------\r\n    Lucas Karahadian contributed a first prototype of the piano keyboard\r\n\r\n\r\n    I. hierarchy\r\n    -------------\r\n    the following tree lists all constructors hierarchically,\r\n    indentation indicating inheritance. Refer to this list to get a\r\n    contextual overview:\r\n\r\n    Morph*\r\n        AlignmentMorph\r\n        DialogBoxMorph\r\n        InputFieldMorph\r\n    TriggerMorph*\r\n        MenuItemMorph*\r\n            PianoKeyMorph\r\n        PushButtonMorph\r\n            ToggleButtonMorph\r\n                TabMorph\r\n            ToggleMorph\r\n        ToggleElementMorph\r\n    MenuMorph*\r\n        PianoMenuMorph\r\n\r\n    * from Morphic.js\r\n\r\n\r\n    II. toc\r\n    -------\r\n    the following list shows the order in which all constructors are\r\n    defined. Use this list to locate code in this document:\r\n\r\n    PushButtonMorph\r\n    ToggleButtonMorph\r\n    TabMorph\r\n    ToggleMorph\r\n    ToggleElementMorph\r\n    DialogBoxMorph\r\n    AlignmentMorph\r\n    InputFieldMorph\r\n    PianoMenuMorph\r\n    PianoKeyMorph\r\n\r\n*/\r\n\r\n// Global settings /////////////////////////////////////////////////////\r\n\r\n/*global TriggerMorph, modules, Color, Point, BoxMorph, radians,\r\nnewCanvas, StringMorph, Morph, TextMorph, nop, detect, StringFieldMorph,\r\nHTMLCanvasElement, fontHeight, SymbolMorph, localize, SpeechBubbleMorph,\r\nArrowMorph, MenuMorph, isString, isNil, SliderMorph, MorphicPreferences,\r\nScrollFrameMorph, MenuItemMorph, Note*/\r\n\r\nmodules.widgets = '2017-September-25';\r\n\r\nvar PushButtonMorph;\r\nvar ToggleButtonMorph;\r\nvar TabMorph;\r\nvar ToggleMorph;\r\nvar ToggleElementMorph;\r\nvar DialogBoxMorph;\r\nvar AlignmentMorph;\r\nvar InputFieldMorph;\r\nvar PianoMenuMorph;\r\nvar PianoKeyMorph;\r\n\r\n// PushButtonMorph /////////////////////////////////////////////////////\r\n\r\n// I am a Button with rounded corners and 3D-ish graphical effects\r\n\r\n// PushButtonMorph inherits from TriggerMorph:\r\n\r\nPushButtonMorph.prototype = new TriggerMorph();\r\nPushButtonMorph.prototype.constructor = PushButtonMorph;\r\nPushButtonMorph.uber = TriggerMorph.prototype;\r\n\r\n// PushButtonMorph preferences settings:\r\n\r\nPushButtonMorph.prototype.fontSize = 10;\r\nPushButtonMorph.prototype.fontStyle = 'sans-serif';\r\nPushButtonMorph.prototype.labelColor = new Color(0, 0, 0);\r\nPushButtonMorph.prototype.labelShadowColor = new Color(255, 255, 255);\r\nPushButtonMorph.prototype.labelShadowOffset = new Point(1, 1);\r\n\r\nPushButtonMorph.prototype.color = new Color(220, 220, 220);\r\nPushButtonMorph.prototype.pressColor = new Color(115, 180, 240);\r\nPushButtonMorph.prototype.highlightColor\r\n    = PushButtonMorph.prototype.pressColor.lighter(50);\r\nPushButtonMorph.prototype.outlineColor = new Color(30, 30, 30);\r\nPushButtonMorph.prototype.outlineGradient = false;\r\nPushButtonMorph.prototype.contrast = 60;\r\n\r\nPushButtonMorph.prototype.edge = 2;\r\nPushButtonMorph.prototype.corner = 5;\r\nPushButtonMorph.prototype.outline = 1.00001;\r\nPushButtonMorph.prototype.padding = 3;\r\n\r\n// PushButtonMorph instance creation:\r\n\r\nfunction PushButtonMorph(\r\n    target,\r\n    action,\r\n    labelString,\r\n    environment,\r\n    hint,\r\n    template\r\n) {\r\n    this.init(\r\n        target,\r\n        action,\r\n        labelString,\r\n        environment,\r\n        hint,\r\n        template\r\n    );\r\n}\r\n\r\nPushButtonMorph.prototype.init = function (\r\n    target,\r\n    action,\r\n    labelString,\r\n    environment,\r\n    hint,\r\n    template\r\n) {\r\n    // additional properties:\r\n    this.is3D = false; // for \"flat\" design exceptions\r\n    this.target = target || null;\r\n    this.action = action || null;\r\n    this.environment = environment || null;\r\n    this.labelString = labelString || null;\r\n    this.label = null;\r\n    this.labelMinExtent = new Point(0, 0);\r\n    this.hint = hint || null;\r\n    this.template = template || null; // for pre-computed backbrounds\r\n    // if a template is specified, its background images are used as cache\r\n    this.isDisabled = false;\r\n\r\n    // initialize inherited properties:\r\n    TriggerMorph.uber.init.call(this);\r\n\r\n    // override inherited properites:\r\n    this.color = PushButtonMorph.prototype.color;\r\n    this.drawNew();\r\n    this.fixLayout();\r\n};\r\n\r\n// PushButtonMorph layout:\r\n\r\nPushButtonMorph.prototype.fixLayout = function () {\r\n    // make sure I at least encompass my label\r\n    if (this.label !== null) {\r\n        var padding = this.padding * 2 + this.outline * 2 + this.edge * 2;\r\n        this.setExtent(new Point(\r\n            Math.max(this.label.width(), this.labelMinExtent.x) + padding,\r\n            Math.max(this.label instanceof StringMorph ?\r\n                    this.label.rawHeight() :\r\n                        this.label.height(), this.labelMinExtent.y) + padding\r\n        ));\r\n        this.label.setCenter(this.center());\r\n    }\r\n};\r\n\r\n// PushButtonMorph events\r\n\r\nPushButtonMorph.prototype.mouseDownLeft = function () {\r\n    PushButtonMorph.uber.mouseDownLeft.call(this);\r\n    if (this.label) {\r\n        this.label.setCenter(this.center().add(1));\r\n    }\r\n};\r\n\r\nPushButtonMorph.prototype.mouseClickLeft = function () {\r\n    if (this.isDisabled) {return; }\r\n    PushButtonMorph.uber.mouseClickLeft.call(this);\r\n    if (this.label) {\r\n        this.label.setCenter(this.center());\r\n    }\r\n};\r\n\r\nPushButtonMorph.prototype.mouseLeave = function () {\r\n    PushButtonMorph.uber.mouseLeave.call(this);\r\n    if (this.label) {\r\n        this.label.setCenter(this.center());\r\n    }\r\n};\r\n\r\n// PushButtonMorph drawing:\r\n\r\nPushButtonMorph.prototype.outlinePath = BoxMorph.prototype.outlinePath;\r\n\r\nPushButtonMorph.prototype.drawOutline = function (context) {\r\n    var outlineStyle,\r\n        isFlat = MorphicPreferences.isFlat && !this.is3D;\r\n\r\n    if (!this.outline || isFlat) {return null; }\r\n    if (this.outlineGradient) {\r\n        outlineStyle = context.createLinearGradient(\r\n            0,\r\n            0,\r\n            0,\r\n            this.height()\r\n        );\r\n        outlineStyle.addColorStop(0, this.outlineColor.darker().toString());\r\n        outlineStyle.addColorStop(1, 'white');\r\n    } else {\r\n        outlineStyle = this.outlineColor.toString();\r\n    }\r\n    context.fillStyle = outlineStyle;\r\n    context.beginPath();\r\n    this.outlinePath(\r\n        context,\r\n        isFlat ? 0 : this.corner,\r\n        0\r\n    );\r\n    context.closePath();\r\n    context.fill();\r\n};\r\n\r\nPushButtonMorph.prototype.drawBackground = function (context, color) {\r\n    var isFlat = MorphicPreferences.isFlat && !this.is3D;\r\n\r\n    context.fillStyle = color.toString();\r\n    context.beginPath();\r\n    this.outlinePath(\r\n        context,\r\n        isFlat ? 0 : Math.max(this.corner - this.outline, 0),\r\n        this.outline\r\n    );\r\n    context.closePath();\r\n    context.fill();\r\n    context.lineWidth = this.outline;\r\n};\r\n\r\nPushButtonMorph.prototype.drawEdges = function (\r\n    context,\r\n    color,\r\n    topColor,\r\n    bottomColor\r\n) {\r\n    if (MorphicPreferences.isFlat && !this.is3D) {return; }\r\n    var minInset = Math.max(this.corner, this.outline + this.edge),\r\n        w = this.width(),\r\n        h = this.height(),\r\n        gradient;\r\n\r\n    // top:\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        this.outline,\r\n        0,\r\n        this.outline + this.edge\r\n    );\r\n    gradient.addColorStop(0, topColor.toString());\r\n    gradient.addColorStop(1, color.toString());\r\n\r\n    context.strokeStyle = gradient;\r\n    context.lineCap = 'round';\r\n    context.lineWidth = this.edge;\r\n    context.beginPath();\r\n    context.moveTo(minInset, this.outline + this.edge / 2);\r\n    context.lineTo(w - minInset, this.outline + this.edge / 2);\r\n    context.stroke();\r\n\r\n    // top-left corner:\r\n    gradient = context.createRadialGradient(\r\n        this.corner,\r\n        this.corner,\r\n        Math.max(this.corner - this.outline - this.edge, 0),\r\n        this.corner,\r\n        this.corner,\r\n        Math.max(this.corner - this.outline, 0)\r\n    );\r\n    gradient.addColorStop(0, color.toString());\r\n    gradient.addColorStop(1, topColor.toString());\r\n\r\n    context.strokeStyle = gradient;\r\n    context.lineCap = 'round';\r\n    context.lineWidth = this.edge;\r\n    context.beginPath();\r\n    context.arc(\r\n        this.corner,\r\n        this.corner,\r\n        Math.max(this.corner - this.outline - this.edge / 2, 0),\r\n        radians(180),\r\n        radians(270),\r\n        false\r\n    );\r\n    context.stroke();\r\n\r\n    // left:\r\n    gradient = context.createLinearGradient(\r\n        this.outline,\r\n        0,\r\n        this.outline + this.edge,\r\n        0\r\n    );\r\n    gradient.addColorStop(0, topColor.toString());\r\n    gradient.addColorStop(1, color.toString());\r\n\r\n    context.strokeStyle = gradient;\r\n    context.lineCap = 'round';\r\n    context.lineWidth = this.edge;\r\n    context.beginPath();\r\n    context.moveTo(this.outline + this.edge / 2, minInset);\r\n    context.lineTo(this.outline + this.edge / 2, h - minInset);\r\n    context.stroke();\r\n\r\n    // bottom:\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        h - this.outline,\r\n        0,\r\n        h - this.outline - this.edge\r\n    );\r\n    gradient.addColorStop(0, bottomColor.toString());\r\n    gradient.addColorStop(1, color.toString());\r\n\r\n    context.strokeStyle = gradient;\r\n    context.lineCap = 'round';\r\n    context.lineWidth = this.edge;\r\n    context.beginPath();\r\n    context.moveTo(minInset, h - this.outline - this.edge / 2);\r\n    context.lineTo(w - minInset, h - this.outline - this.edge / 2);\r\n    context.stroke();\r\n\r\n    // bottom-right corner:\r\n    gradient = context.createRadialGradient(\r\n        w - this.corner,\r\n        h - this.corner,\r\n        Math.max(this.corner - this.outline - this.edge, 0),\r\n        w - this.corner,\r\n        h - this.corner,\r\n        Math.max(this.corner - this.outline, 0)\r\n    );\r\n    gradient.addColorStop(0, color.toString());\r\n    gradient.addColorStop(1, bottomColor.toString());\r\n\r\n    context.strokeStyle = gradient;\r\n    context.lineCap = 'round';\r\n    context.lineWidth = this.edge;\r\n    context.beginPath();\r\n    context.arc(\r\n        w - this.corner,\r\n        h - this.corner,\r\n        Math.max(this.corner - this.outline - this.edge / 2, 0),\r\n        radians(0),\r\n        radians(90),\r\n        false\r\n    );\r\n    context.stroke();\r\n\r\n    // right:\r\n    gradient = context.createLinearGradient(\r\n        w - this.outline,\r\n        0,\r\n        w - this.outline - this.edge,\r\n        0\r\n    );\r\n    gradient.addColorStop(0, bottomColor.toString());\r\n    gradient.addColorStop(1, color.toString());\r\n\r\n    context.strokeStyle = gradient;\r\n    context.lineCap = 'round';\r\n    context.lineWidth = this.edge;\r\n    context.beginPath();\r\n    context.moveTo(w - this.outline - this.edge / 2, minInset);\r\n    context.lineTo(w - this.outline - this.edge / 2, h - minInset);\r\n    context.stroke();\r\n};\r\n\r\nPushButtonMorph.prototype.createBackgrounds = function () {\r\n    var context,\r\n        ext = this.extent();\r\n\r\n    if (this.template) { // take the backgrounds images from the template\r\n        this.image = this.template.image;\r\n        this.normalImage = this.template.normalImage;\r\n        this.highlightImage = this.template.highlightImage;\r\n        this.pressImage = this.template.pressImage;\r\n        return null;\r\n    }\r\n\r\n    this.normalImage = newCanvas(ext);\r\n    context = this.normalImage.getContext('2d');\r\n    this.drawOutline(context);\r\n    this.drawBackground(context, this.color);\r\n    this.drawEdges(\r\n        context,\r\n        this.color,\r\n        this.color.lighter(this.contrast),\r\n        this.color.darker(this.contrast)\r\n    );\r\n\r\n    this.highlightImage = newCanvas(ext);\r\n    context = this.highlightImage.getContext('2d');\r\n    this.drawOutline(context);\r\n    this.drawBackground(context, this.highlightColor);\r\n    this.drawEdges(\r\n        context,\r\n        this.highlightColor,\r\n        this.highlightColor.lighter(this.contrast),\r\n        this.highlightColor.darker(this.contrast)\r\n    );\r\n\r\n    this.pressImage = newCanvas(ext);\r\n    context = this.pressImage.getContext('2d');\r\n    this.drawOutline(context);\r\n    this.drawBackground(context, this.pressColor);\r\n    this.drawEdges(\r\n        context,\r\n        this.pressColor,\r\n        this.pressColor.darker(this.contrast),\r\n        this.pressColor.lighter(this.contrast)\r\n    );\r\n\r\n    this.image = this.normalImage;\r\n};\r\n\r\nPushButtonMorph.prototype.createLabel = function () {\r\n    var shading = !MorphicPreferences.isFlat || this.is3D;\r\n\r\n    if (this.label !== null) {\r\n        this.label.destroy();\r\n    }\r\n    if (this.labelString instanceof SymbolMorph) {\r\n        this.label = this.labelString.fullCopy();\r\n        if (shading) {\r\n            this.label.shadowOffset = this.labelShadowOffset;\r\n            this.label.shadowColor = this.labelShadowColor;\r\n        }\r\n        this.label.color = this.labelColor;\r\n        this.label.drawNew();\r\n    } else {\r\n        this.label = new StringMorph(\r\n            localize(this.labelString),\r\n            this.fontSize,\r\n            this.fontStyle,\r\n            true,\r\n            false,\r\n            false,\r\n            shading ? this.labelShadowOffset : null,\r\n            this.labelShadowColor,\r\n            this.labelColor\r\n        );\r\n    }\r\n    this.add(this.label);\r\n};\r\n\r\n// PushButtonMorph states\r\n\r\nPushButtonMorph.prototype.disable = function () {\r\n    this.isDisabled = true;\r\n    this.forAllChildren(function (child) {\r\n        child.alpha = 0.3;\r\n    });\r\n    this.changed();\r\n};\r\n\r\nPushButtonMorph.prototype.enable = function () {\r\n    this.isDisabled = false;\r\n    this.forAllChildren(function (child) {\r\n        child.alpha = 1;\r\n    });\r\n    this.changed();\r\n};\r\n\r\n// ToggleButtonMorph ///////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a two-state PushButton. When my state is \"true\" I keep my \"pressed\"\r\n    background color. I can also be set to not auto-layout my bounds, in\r\n    which case my label will left-align.\r\n*/\r\n\r\n// ToggleButtonMorph inherits from PushButtonMorph:\r\n\r\nToggleButtonMorph.prototype = new PushButtonMorph();\r\nToggleButtonMorph.prototype.constructor = ToggleButtonMorph;\r\nToggleButtonMorph.uber = PushButtonMorph.prototype;\r\n\r\n// ToggleButton settings\r\n\r\nToggleButtonMorph.prototype.contrast = 30;\r\n\r\n// ToggleButtonMorph instance creation:\r\n\r\nfunction ToggleButtonMorph(\r\n    colors, // color overrides, <array>: [normal, highlight, pressed]\r\n    target,\r\n    action, // a toggle function\r\n    labelString,\r\n    query, // predicate/selector\r\n    environment,\r\n    hint,\r\n    template, // optional, for cached background images\r\n    minWidth, // <num> optional, if specified label will left-align\r\n    hasPreview, // <bool> show press color on left edge (e.g. category)\r\n    isPicture // treat label as picture, i.e. don't apply typography\r\n) {\r\n    this.init(\r\n        colors,\r\n        target,\r\n        action,\r\n        labelString,\r\n        query,\r\n        environment,\r\n        hint,\r\n        template,\r\n        minWidth,\r\n        hasPreview,\r\n        isPicture\r\n    );\r\n}\r\n\r\nToggleButtonMorph.prototype.init = function (\r\n    colors,\r\n    target,\r\n    action,\r\n    labelString,\r\n    query,\r\n    environment,\r\n    hint,\r\n    template,\r\n    minWidth,\r\n    hasPreview,\r\n    isPicture\r\n) {\r\n    // additional properties:\r\n    this.state = false;\r\n    this.query = query || function () {return true; };\r\n    this.minWidth = minWidth || null;\r\n    this.hasPreview = hasPreview || false;\r\n    this.isPicture = isPicture || false;\r\n    this.trueStateLabel = null;\r\n\r\n    // initialize inherited properties:\r\n    ToggleButtonMorph.uber.init.call(\r\n        this,\r\n        target,\r\n        action,\r\n        labelString,\r\n        environment,\r\n        hint,\r\n        template\r\n    );\r\n\r\n    // override default colors if others are specified\r\n    if (colors) {\r\n        this.color = colors[0];\r\n        this.highlightColor = colors[1];\r\n        this.pressColor = colors[2];\r\n    }\r\n\r\n    this.refresh();\r\n    this.drawNew();\r\n};\r\n\r\n// ToggleButtonMorph events\r\n\r\nToggleButtonMorph.prototype.mouseEnter = function () {\r\n    var contents = this.hint instanceof Function ? this.hint() : this.hint;\r\n    if (!this.state) {\r\n        this.image = this.highlightImage;\r\n        this.changed();\r\n    }\r\n    if (contents) {\r\n        this.bubbleHelp(contents);\r\n    }\r\n};\r\n\r\nToggleButtonMorph.prototype.mouseLeave = function () {\r\n    if (!this.state) {\r\n        this.image = this.normalImage;\r\n        this.changed();\r\n    }\r\n    if (this.schedule) {\r\n        this.schedule.isActive = false;\r\n    }\r\n    if (this.hint) {\r\n        this.world().hand.destroyTemporaries();\r\n    }\r\n};\r\n\r\nToggleButtonMorph.prototype.mouseDownLeft = function () {\r\n    if (!this.state) {\r\n        this.image = this.pressImage;\r\n        this.changed();\r\n    }\r\n};\r\n\r\nToggleButtonMorph.prototype.mouseClickLeft = function () {\r\n    if (!this.state) {\r\n        this.image = this.highlightImage;\r\n        this.changed();\r\n    }\r\n    this.trigger(); // allow me to be triggered again to force-update others\r\n};\r\n\r\n// ToggleButtonMorph action\r\n\r\nToggleButtonMorph.prototype.trigger = function () {\r\n    ToggleButtonMorph.uber.trigger.call(this);\r\n    this.refresh();\r\n};\r\n\r\nToggleButtonMorph.prototype.refresh = function () {\r\n/*\r\n    if query is a function:\r\n    execute the query with target as environment (can be null)\r\n    for lambdafied (inline) actions\r\n\r\n    else if query is a String:\r\n    treat it as function property of target and execute it\r\n    for selector-like queries\r\n*/\r\n    if (typeof this.query === 'function') {\r\n        this.state = this.query.call(this.target);\r\n    } else { // assume it's a String\r\n        this.state = this.target[this.query]();\r\n    }\r\n    if (this.state) {\r\n        this.image = this.pressImage;\r\n        if (this.trueStateLabel) {\r\n            this.label.hide();\r\n            this.trueStateLabel.show();\r\n        }\r\n    } else {\r\n        this.image = this.normalImage;\r\n        if (this.trueStateLabel) {\r\n            this.label.show();\r\n            this.trueStateLabel.hide();\r\n        }\r\n    }\r\n    this.changed();\r\n};\r\n\r\n// ToggleButtonMorph layout:\r\n\r\nToggleButtonMorph.prototype.fixLayout = function () {\r\n    if (this.label !== null) {\r\n        var lw = Math.max(this.label.width(), this.labelMinExtent.x),\r\n            padding = this.padding * 2 + this.outline * 2 + this.edge * 2;\r\n        this.setExtent(new Point(\r\n            (this.minWidth ?\r\n                    Math.max(this.minWidth, lw) + padding\r\n                    : lw + padding),\r\n            Math.max(this.label instanceof StringMorph ?\r\n                    this.label.rawHeight() :\r\n                        this.label.height(), this.labelMinExtent.y) + padding\r\n        ));\r\n        this.label.setCenter(this.center());\r\n        if (this.trueStateLabel) {\r\n            this.trueStateLabel.setCenter(this.center());\r\n        }\r\n        if (this.minWidth) { // left-align along my corner\r\n            this.label.setLeft(\r\n                this.left()\r\n                    + this.outline\r\n                    + this.edge\r\n                    + this.corner\r\n                    + this.padding\r\n            );\r\n        }\r\n    }\r\n};\r\n\r\n// ToggleButtonMorph drawing\r\n\r\nToggleButtonMorph.prototype.createBackgrounds = function () {\r\n/*\r\n    basically the same as inherited from PushButtonMorph, except for\r\n    not inverting the pressImage 3D-ish border (because it stays that way),\r\n    and optionally coloring the left edge in the press-color, previewing\r\n    the selection color (e.g. in the case of Scratch palette-category\r\n    selector. the latter is done in the drawEdges() method.\r\n*/\r\n    var context,\r\n        ext = this.extent();\r\n\r\n    if (this.template) { // take the backgrounds images from the template\r\n        this.image = this.template.image;\r\n        this.normalImage = this.template.normalImage;\r\n        this.highlightImage = this.template.highlightImage;\r\n        this.pressImage = this.template.pressImage;\r\n        return null;\r\n    }\r\n\r\n    this.normalImage = newCanvas(ext);\r\n    context = this.normalImage.getContext('2d');\r\n    this.drawOutline(context);\r\n    this.drawBackground(context, this.color);\r\n    this.drawEdges(\r\n        context,\r\n        this.color,\r\n        this.color.lighter(this.contrast),\r\n        this.color.darker(this.contrast)\r\n    );\r\n\r\n    this.highlightImage = newCanvas(ext);\r\n    context = this.highlightImage.getContext('2d');\r\n    this.drawOutline(context);\r\n    this.drawBackground(context, this.highlightColor);\r\n    this.drawEdges(\r\n        context,\r\n        this.highlightColor,\r\n        this.highlightColor.lighter(this.contrast),\r\n        this.highlightColor.darker(this.contrast)\r\n    );\r\n\r\n    // note: don't invert the 3D-ish edges for pressedImage, because\r\n    // it will stay that way, and should not look inverted (or should it?)\r\n    this.pressImage = newCanvas(ext);\r\n    context = this.pressImage.getContext('2d');\r\n    this.drawOutline(context);\r\n    this.drawBackground(context, this.pressColor);\r\n    this.drawEdges(\r\n        context,\r\n        this.pressColor,\r\n        this.pressColor.lighter(40),\r\n        this.pressColor.darker(40)\r\n    );\r\n\r\n    this.image = this.normalImage;\r\n};\r\n\r\nToggleButtonMorph.prototype.drawEdges = function (\r\n    context,\r\n    color,\r\n    topColor,\r\n    bottomColor\r\n) {\r\n    var gradient;\r\n\r\n    ToggleButtonMorph.uber.drawEdges.call(\r\n        this,\r\n        context,\r\n        color,\r\n        topColor,\r\n        bottomColor\r\n    );\r\n\r\n    if (this.hasPreview) { // indicate the possible selection color\r\n        if (MorphicPreferences.isFlat && !this.is3D) {\r\n            context.fillStyle = this.pressColor.toString();\r\n            context.fillRect(\r\n                this.outline,\r\n                this.outline,\r\n                this.corner,\r\n                this.height() - this.outline * 2\r\n            );\r\n            return;\r\n        }\r\n        gradient = context.createLinearGradient(\r\n            0,\r\n            0,\r\n            this.corner,\r\n            0\r\n        );\r\n        gradient.addColorStop(0, this.pressColor.lighter(40).toString());\r\n        gradient.addColorStop(1, this.pressColor.darker(40).toString());\r\n        context.fillStyle = gradient; // this.pressColor.toString();\r\n        context.beginPath();\r\n        this.previewPath(\r\n            context,\r\n            Math.max(this.corner - this.outline, 0),\r\n            this.outline\r\n        );\r\n        context.closePath();\r\n        context.fill();\r\n    }\r\n};\r\n\r\nToggleButtonMorph.prototype.previewPath = function (context, radius, inset) {\r\n    var offset = radius + inset,\r\n        h = this.height();\r\n\r\n    // top left:\r\n    context.arc(\r\n        offset,\r\n        offset,\r\n        radius,\r\n        radians(-180),\r\n        radians(-90),\r\n        false\r\n    );\r\n    // bottom left:\r\n    context.arc(\r\n        offset,\r\n        h - offset,\r\n        radius,\r\n        radians(90),\r\n        radians(180),\r\n        false\r\n    );\r\n};\r\n\r\nToggleButtonMorph.prototype.createLabel = function () {\r\n    var shading = !MorphicPreferences.isFlat || this.is3D,\r\n        none = new Point();\r\n\r\n    if (this.label !== null) {\r\n        this.label.destroy();\r\n    }\r\n    if (this.trueStateLabel !== null) {\r\n        this.trueStateLabel.destroy();\r\n    }\r\n    if (this.labelString instanceof Array && this.labelString.length === 2) {\r\n        if (this.labelString[0] instanceof SymbolMorph) {\r\n            this.label = this.labelString[0].fullCopy();\r\n            this.trueStateLabel = this.labelString[1].fullCopy();\r\n            if (!this.isPicture) {\r\n                this.label.shadowOffset = shading ?\r\n                        this.labelShadowOffset : none;\r\n                this.label.shadowColor = this.labelShadowColor;\r\n                this.label.color = this.labelColor;\r\n                this.label.drawNew();\r\n\r\n                this.trueStateLabel.shadowOffset = shading ?\r\n                        this.labelShadowOffset : none;\r\n                this.trueStateLabel.shadowColor = this.labelShadowColor;\r\n                this.trueStateLabel.color = this.labelColor;\r\n                this.trueStateLabel.drawNew();\r\n            }\r\n        } else if (this.labelString[0] instanceof Morph) {\r\n            this.label = this.labelString[0].fullCopy();\r\n            this.trueStateLabel = this.labelString[1].fullCopy();\r\n        } else {\r\n            this.label = new StringMorph(\r\n                localize(this.labelString[0]),\r\n                this.fontSize,\r\n                this.fontStyle,\r\n                true,\r\n                false,\r\n                false,\r\n                shading ? this.labelShadowOffset : null,\r\n                this.labelShadowColor,\r\n                this.labelColor\r\n            );\r\n            this.trueStateLabel = new StringMorph(\r\n                localize(this.labelString[1]),\r\n                this.fontSize,\r\n                this.fontStyle,\r\n                true,\r\n                false,\r\n                false,\r\n                shading ? this.labelShadowOffset : null,\r\n                this.labelShadowColor,\r\n                this.labelColor\r\n            );\r\n        }\r\n    } else {\r\n        if (this.labelString instanceof SymbolMorph) {\r\n            this.label = this.labelString.fullCopy();\r\n            if (!this.isPicture) {\r\n                this.label.shadowOffset = shading ?\r\n                        this.labelShadowOffset : none;\r\n                this.label.shadowColor = this.labelShadowColor;\r\n                this.label.color = this.labelColor;\r\n                this.label.drawNew();\r\n            }\r\n        } else if (this.labelString instanceof Morph) {\r\n            this.label = this.labelString.fullCopy();\r\n        } else {\r\n            this.label = new StringMorph(\r\n                localize(this.labelString),\r\n                this.fontSize,\r\n                this.fontStyle,\r\n                true,\r\n                false,\r\n                false,\r\n                shading ? this.labelShadowOffset : none,\r\n                this.labelShadowColor,\r\n                this.labelColor\r\n            );\r\n        }\r\n    }\r\n    this.add(this.label);\r\n    if (this.trueStateLabel) {\r\n        this.add(this.trueStateLabel);\r\n    }\r\n};\r\n\r\n// ToggleButtonMorph hiding and showing:\r\n\r\n/*\r\n    override the inherited behavior to recursively hide/show all\r\n    children, so that my instances get restored correctly when\r\n    hiding/showing my parent.\r\n*/\r\n\r\nToggleButtonMorph.prototype.hide = function () {\r\n    this.isVisible = false;\r\n    this.changed();\r\n};\r\n\r\nToggleButtonMorph.prototype.show = function () {\r\n    this.isVisible = true;\r\n    this.changed();\r\n};\r\n\r\n// TabMorph ///////////////////////////////////////////////////////\r\n\r\n// TabMorph inherits from ToggleButtonMorph:\r\n\r\nTabMorph.prototype = new ToggleButtonMorph();\r\nTabMorph.prototype.constructor = TabMorph;\r\nTabMorph.uber = ToggleButtonMorph.prototype;\r\n\r\n// TabMorph instance creation:\r\n\r\nfunction TabMorph(\r\n    colors, // color overrides, <array>: [normal, highlight, pressed]\r\n    target,\r\n    action, // a toggle function\r\n    labelString,\r\n    query, // predicate/selector\r\n    environment,\r\n    hint\r\n) {\r\n    this.init(\r\n        colors,\r\n        target,\r\n        action,\r\n        labelString,\r\n        query,\r\n        environment,\r\n        hint\r\n    );\r\n}\r\n\r\n// TabMorph layout:\r\n\r\nTabMorph.prototype.fixLayout = function () {\r\n    if (this.label !== null) {\r\n        this.setExtent(new Point(\r\n            this.label.width()\r\n                + this.padding * 2\r\n                + this.corner * 3\r\n                + this.edge * 2,\r\n            (this.label instanceof StringMorph ?\r\n                        this.label.rawHeight() : this.label.height())\r\n                + this.padding * 2\r\n                + this.edge\r\n        ));\r\n        this.label.setCenter(this.center());\r\n    }\r\n};\r\n\r\n// TabMorph action:\r\n\r\nTabMorph.prototype.refresh = function () {\r\n    if (this.state) { // bring to front\r\n        if (this.parent) {\r\n            this.parent.add(this);\r\n        }\r\n    }\r\n    TabMorph.uber.refresh.call(this);\r\n};\r\n\r\n// TabMorph drawing:\r\n\r\nTabMorph.prototype.drawBackground = function (context, color) {\r\n    var w = this.width(),\r\n        h = this.height(),\r\n        c = this.corner;\r\n\r\n    context.fillStyle = color.toString();\r\n    context.beginPath();\r\n    context.moveTo(0, h);\r\n    context.bezierCurveTo(c, h, c, 0, c * 2, 0);\r\n    context.lineTo(w - c * 2, 0);\r\n    context.bezierCurveTo(w - c, 0, w - c, h, w, h);\r\n    context.closePath();\r\n    context.fill();\r\n};\r\n\r\nTabMorph.prototype.drawOutline = function () {\r\n    nop();\r\n};\r\n\r\nTabMorph.prototype.drawEdges = function (\r\n    context,\r\n    color,\r\n    topColor,\r\n    bottomColor\r\n) {\r\n    if (MorphicPreferences.isFlat && !this.is3D) {return; }\r\n\r\n    var w = this.width(),\r\n        h = this.height(),\r\n        c = this.corner,\r\n        e = this.edge,\r\n        eh = e / 2,\r\n        gradient;\r\n\r\n    nop(color); // argument not needed here\r\n\r\n    gradient = context.createLinearGradient(0, 0, w, 0);\r\n    gradient.addColorStop(0, topColor.toString());\r\n    gradient.addColorStop(1, bottomColor.toString());\r\n\r\n    context.strokeStyle = gradient;\r\n    context.lineCap = 'round';\r\n    context.lineWidth = e;\r\n\r\n    context.beginPath();\r\n    context.moveTo(0, h + eh);\r\n    context.bezierCurveTo(c, h, c, 0, c * 2, eh);\r\n    context.lineTo(w - c * 2, eh);\r\n    context.bezierCurveTo(w - c, 0, w - c, h, w, h + eh);\r\n    context.stroke();\r\n};\r\n\r\n// ToggleMorph ///////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a PushButton which toggles a check mark ( becoming check box)\r\n    or a bullet (becoming a radio button). I can have both or either an\r\n    additional label and an additional pictogram, whereas the pictogram\r\n    can be either an instance of (any) Morph, in which case the pictogram\r\n    will be an interactive toggle itself or a Canvas, in which case it\r\n    is just going to be a picture.\r\n*/\r\n\r\n// ToggleMorph inherits from PushButtonMorph:\r\n\r\nToggleMorph.prototype = new PushButtonMorph();\r\nToggleMorph.prototype.constructor = ToggleMorph;\r\nToggleMorph.uber = PushButtonMorph.prototype;\r\n\r\n// ToggleMorph instance creation:\r\n\r\nfunction ToggleMorph(\r\n    style, // 'checkbox' or 'radiobutton'\r\n    target,\r\n    action, // a toggle function\r\n    labelString,\r\n    query, // predicate/selector\r\n    environment,\r\n    hint,\r\n    template,\r\n    element, // optional Morph or Canvas to display\r\n    builder // method which constructs the element (only for Morphs)\r\n) {\r\n    this.init(\r\n        style,\r\n        target,\r\n        action,\r\n        labelString,\r\n        query,\r\n        environment,\r\n        hint,\r\n        template,\r\n        element,\r\n        builder\r\n    );\r\n}\r\n\r\nToggleMorph.prototype.init = function (\r\n    style,\r\n    target,\r\n    action,\r\n    labelString,\r\n    query,\r\n    environment,\r\n    hint,\r\n    template,\r\n    element,\r\n    builder\r\n) {\r\n    // additional properties:\r\n    this.padding = 1;\r\n    style = style || 'checkbox';\r\n    this.corner = (style === 'checkbox' ?\r\n            0 : fontHeight(this.fontSize) / 2 + this.outline + this.padding);\r\n    this.state = false;\r\n    this.query = query || function () {return true; };\r\n    this.tick = null;\r\n    this.captionString = labelString || null;\r\n    this.labelAlignment = 'right';\r\n    this.element = element || null;\r\n    this.builder = builder || null;\r\n    this.toggleElement = null;\r\n\r\n    // initialize inherited properties:\r\n    ToggleMorph.uber.init.call(\r\n        this,\r\n        target,\r\n        action,\r\n        (style === 'checkbox' ? '\\u2713' : '\\u25CF'),\r\n        environment,\r\n        hint,\r\n        template\r\n    );\r\n    this.refresh();\r\n    this.drawNew();\r\n};\r\n\r\n// ToggleMorph layout:\r\n\r\nToggleMorph.prototype.fixLayout = function () {\r\n    var padding = this.padding * 2 + this.outline * 2,\r\n        y;\r\n    if (this.tick !== null) {\r\n        this.silentSetHeight(this.tick.rawHeight() + padding);\r\n        this.silentSetWidth(this.tick.width() + padding);\r\n\r\n        this.setExtent(new Point(\r\n            Math.max(this.width(), this.height()),\r\n            Math.max(this.width(), this.height())\r\n        ));\r\n        this.tick.setCenter(this.center());\r\n    }\r\n    if (this.state) {\r\n        this.tick.show();\r\n    } else {\r\n        this.tick.hide();\r\n    }\r\n    if (this.toggleElement && (this.labelAlignment === 'right')) {\r\n        y = this.top() + (this.height() - this.toggleElement.height()) / 2;\r\n        this.toggleElement.setPosition(new Point(\r\n            this.right() + padding,\r\n            y\r\n        ));\r\n    }\r\n    if (this.label !== null) {\r\n        y = this.top() + (this.height() - this.label.height()) / 2;\r\n        if (this.labelAlignment === 'right') {\r\n            this.label.setPosition(new Point(\r\n                this.toggleElement ?\r\n                        this.toggleElement instanceof ToggleElementMorph ?\r\n                                this.toggleElement.right()\r\n                                : this.toggleElement.right() + padding\r\n                        : this.right() + padding,\r\n                y\r\n            ));\r\n        } else {\r\n            this.label.setPosition(new Point(\r\n                this.left() - this.label.width() - padding,\r\n                y\r\n            ));\r\n        }\r\n    }\r\n};\r\n\r\nToggleMorph.prototype.createLabel = function () {\r\n    var shading = !MorphicPreferences.isFlat || this.is3D;\r\n\r\n    if (this.label === null) {\r\n        if (this.captionString) {\r\n            this.label = new TextMorph(\r\n                localize(this.captionString),\r\n                this.fontSize,\r\n                this.fontStyle,\r\n                true\r\n            );\r\n            this.add(this.label);\r\n        }\r\n    }\r\n    if (this.tick === null) {\r\n        this.tick = new StringMorph(\r\n            localize(this.labelString),\r\n            this.fontSize,\r\n            this.fontStyle,\r\n            true,\r\n            false,\r\n            false,\r\n            shading ? new Point(1, 1) : null,\r\n            new Color(240, 240, 240)\r\n        );\r\n        this.add(this.tick);\r\n    }\r\n    if (this.toggleElement === null) {\r\n        if (this.element) {\r\n            if (this.element instanceof Morph) {\r\n                this.toggleElement = new ToggleElementMorph(\r\n                    this.target,\r\n                    this.action,\r\n                    this.element,\r\n                    this.query,\r\n                    this.environment,\r\n                    this.hint,\r\n                    this.builder\r\n                );\r\n            } else if (this.element instanceof HTMLCanvasElement) {\r\n                this.toggleElement = new Morph();\r\n                this.toggleElement.silentSetExtent(new Point(\r\n                    this.element.width,\r\n                    this.element.height\r\n                ));\r\n                this.toggleElement.image = this.element;\r\n            }\r\n            this.add(this.toggleElement);\r\n        }\r\n    }\r\n};\r\n\r\n// ToggleMorph action:\r\n\r\nToggleMorph.prototype.trigger = function () {\r\n    ToggleMorph.uber.trigger.call(this);\r\n    this.refresh();\r\n};\r\n\r\nToggleMorph.prototype.refresh = function () {\r\n    /*\r\n    if query is a function:\r\n    execute the query with target as environment (can be null)\r\n    for lambdafied (inline) actions\r\n\r\n    else if query is a String:\r\n    treat it as function property of target and execute it\r\n    for selector-like queries\r\n    */\r\n    if (typeof this.query === 'function') {\r\n        this.state = this.query.call(this.target);\r\n    } else { // assume it's a String\r\n        this.state = this.target[this.query]();\r\n    }\r\n    if (this.state) {\r\n        this.tick.show();\r\n    } else {\r\n        this.tick.hide();\r\n    }\r\n    if (this.toggleElement && this.toggleElement.refresh) {\r\n        this.toggleElement.refresh();\r\n    }\r\n};\r\n\r\n// ToggleMorph events\r\n\r\nToggleMorph.prototype.mouseDownLeft = function () {\r\n    PushButtonMorph.uber.mouseDownLeft.call(this);\r\n    if (this.tick) {\r\n        this.tick.setCenter(this.center().add(1));\r\n    }\r\n};\r\n\r\nToggleMorph.prototype.mouseClickLeft = function () {\r\n    PushButtonMorph.uber.mouseClickLeft.call(this);\r\n    if (this.tick) {\r\n        this.tick.setCenter(this.center());\r\n    }\r\n};\r\n\r\nToggleMorph.prototype.mouseLeave = function () {\r\n    PushButtonMorph.uber.mouseLeave.call(this);\r\n    if (this.tick) {\r\n        this.tick.setCenter(this.center());\r\n    }\r\n};\r\n\r\n// ToggleMorph hiding and showing:\r\n\r\n/*\r\n    override the inherited behavior to recursively hide/show all\r\n    children, so that my instances get restored correctly when\r\n    hiding/showing my parent.\r\n*/\r\n\r\nToggleMorph.prototype.hide = ToggleButtonMorph.prototype.hide;\r\n\r\nToggleMorph.prototype.show = ToggleButtonMorph.prototype.show;\r\n\r\n// ToggleElementMorph /////////////////////////////////////////////////////\r\n/*\r\n    I am a picture of a Morph (\"element\") which acts as a toggle button.\r\n    I am different from ToggleButton in that I neither create a label nor\r\n    draw button outlines. Instead I display my element morph in specified\r\n    contrasts of a given color, symbolizing whether it is selected or not\r\n*/\r\n\r\n// ToggleElementMorph inherits from TriggerMorph:\r\n\r\nToggleElementMorph.prototype = new TriggerMorph();\r\nToggleElementMorph.prototype.constructor = ToggleElementMorph;\r\nToggleElementMorph.uber = TriggerMorph.prototype;\r\n\r\n// ToggleElementMorph preferences settings\r\n\r\nToggleElementMorph.prototype.contrast = 50;\r\nToggleElementMorph.prototype.shadowOffset = new Point(2, 2);\r\nToggleElementMorph.prototype.shadowAlpha = 0.6;\r\nToggleElementMorph.prototype.fontSize = 10; // only for (optional) labels\r\nToggleElementMorph.prototype.inactiveColor = new Color(180, 180, 180);\r\n\r\n// ToggleElementMorph instance creation:\r\n\r\nfunction ToggleElementMorph(\r\n    target,\r\n    action,\r\n    element,\r\n    query,\r\n    environment,\r\n    hint,\r\n    builder,\r\n    labelString\r\n) {\r\n    this.init(\r\n        target,\r\n        action,\r\n        element,\r\n        query,\r\n        environment,\r\n        hint,\r\n        builder,\r\n        labelString\r\n    );\r\n}\r\n\r\nToggleElementMorph.prototype.init = function (\r\n    target,\r\n    action,\r\n    element, // mandatory\r\n    query,\r\n    environment,\r\n    hint,\r\n    builder, // optional function name that rebuilds the element\r\n    labelString\r\n) {\r\n    // additional properties:\r\n    this.target = target || null;\r\n    this.action = action || null;\r\n    this.element = element;\r\n    this.query = query || function () {return true; };\r\n    this.environment = environment || null;\r\n    this.hint = hint || null;\r\n    this.builder = builder || 'nop';\r\n    this.captionString = labelString || null;\r\n    this.labelAlignment = 'right';\r\n    this.state = false;\r\n\r\n    // initialize inherited properties:\r\n    TriggerMorph.uber.init.call(this);\r\n\r\n    // override inherited properties:\r\n    this.color = element.color;\r\n    this.createLabel();\r\n};\r\n\r\n// ToggleElementMorph drawing:\r\n\r\nToggleElementMorph.prototype.createBackgrounds = function () {\r\n    var shading = !MorphicPreferences.isFlat || this.is3D;\r\n\r\n    this.color = this.element.color;\r\n    this.element.removeShadow();\r\n    this.element[this.builder]();\r\n    if (shading) {\r\n        this.element.addShadow(this.shadowOffset, this.shadowAlpha);\r\n    }\r\n    this.silentSetExtent(this.element.fullBounds().extent()); // w/ shadow\r\n    this.pressImage = this.element.fullImage();\r\n\r\n    this.element.removeShadow();\r\n    this.element.setColor(this.inactiveColor);\r\n    this.element[this.builder](this.contrast);\r\n    if (shading) {\r\n        this.element.addShadow(this.shadowOffset, 0);\r\n    }\r\n    this.normalImage = this.element.fullImage();\r\n\r\n    this.element.removeShadow();\r\n    this.element.setColor(this.color.lighter(this.contrast));\r\n    this.element[this.builder](this.contrast);\r\n    if (shading) {\r\n        this.element.addShadow(this.shadowOffset, this.shadowAlpha);\r\n    }\r\n    this.highlightImage = this.element.fullImage();\r\n\r\n    this.element.removeShadow();\r\n    this.element.setColor(this.color);\r\n    this.element[this.builder]();\r\n    this.image = this.normalImage;\r\n};\r\n\r\nToggleElementMorph.prototype.setColor = function (aColor) {\r\n    this.element.setColor(aColor);\r\n    this.createBackgrounds();\r\n    this.refresh();\r\n};\r\n\r\n// ToggleElementMorph layout:\r\n\r\nToggleElementMorph.prototype.createLabel = function () {\r\n    var y;\r\n    if (this.captionString) {\r\n        this.label = new StringMorph(\r\n            this.captionString,\r\n            this.fontSize,\r\n            this.fontStyle,\r\n            true\r\n        );\r\n        this.add(this.label);\r\n        y = this.top() + (this.height() - this.label.height()) / 2;\r\n        if (this.labelAlignment === 'right') {\r\n            this.label.setPosition(new Point(\r\n                this.right(),\r\n                y\r\n            ));\r\n        } else {\r\n            this.label.setPosition(new Point(\r\n                this.left() - this.label.width(),\r\n                y\r\n            ));\r\n        }\r\n    }\r\n};\r\n\r\n// ToggleElementMorph action\r\n\r\nToggleElementMorph.prototype.trigger\r\n    = ToggleButtonMorph.prototype.trigger;\r\n\r\nToggleElementMorph.prototype.refresh\r\n    = ToggleButtonMorph.prototype.refresh;\r\n\r\n// ToggleElementMorph events\r\n\r\nToggleElementMorph.prototype.mouseEnter\r\n    = ToggleButtonMorph.prototype.mouseEnter;\r\n\r\nToggleElementMorph.prototype.mouseLeave\r\n    = ToggleButtonMorph.prototype.mouseLeave;\r\n\r\nToggleElementMorph.prototype.mouseDownLeft\r\n    = ToggleButtonMorph.prototype.mouseDownLeft;\r\n\r\nToggleElementMorph.prototype.mouseClickLeft\r\n    = ToggleButtonMorph.prototype.mouseClickLeft;\r\n\r\n// DialogBoxMorph /////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a DialogBox frame.\r\n\r\n    Note:\r\n    -----\r\n    my key property keeps track of my purpose to prevent multiple instances\r\n    on the same or similar objects\r\n*/\r\n\r\n// DialogBoxMorph inherits from Morph:\r\n\r\nDialogBoxMorph.prototype = new Morph();\r\nDialogBoxMorph.prototype.constructor = DialogBoxMorph;\r\nDialogBoxMorph.uber = Morph.prototype;\r\n\r\n// DialogBoxMorph preferences settings:\r\n\r\nDialogBoxMorph.prototype.fontSize = 12;\r\nDialogBoxMorph.prototype.titleFontSize = 14;\r\nDialogBoxMorph.prototype.fontStyle = 'sans-serif';\r\n\r\nDialogBoxMorph.prototype.color = PushButtonMorph.prototype.color;\r\nDialogBoxMorph.prototype.titleTextColor = new Color(255, 255, 255);\r\nDialogBoxMorph.prototype.titleBarColor\r\n    = PushButtonMorph.prototype.pressColor;\r\n\r\nDialogBoxMorph.prototype.contrast = 40;\r\n\r\nDialogBoxMorph.prototype.corner = 12;\r\nDialogBoxMorph.prototype.padding = 14;\r\nDialogBoxMorph.prototype.titlePadding = 6;\r\n\r\nDialogBoxMorph.prototype.buttonContrast = 50;\r\nDialogBoxMorph.prototype.buttonFontSize = 12;\r\nDialogBoxMorph.prototype.buttonCorner = 12;\r\nDialogBoxMorph.prototype.buttonEdge = 6;\r\nDialogBoxMorph.prototype.buttonPadding = 0;\r\nDialogBoxMorph.prototype.buttonOutline = 3;\r\nDialogBoxMorph.prototype.buttonOutlineColor\r\n    = PushButtonMorph.prototype.color;\r\nDialogBoxMorph.prototype.buttonOutlineGradient = true;\r\n\r\nDialogBoxMorph.prototype.instances = {}; // prevent multiple instances\r\n\r\n// DialogBoxMorph instance creation:\r\n\r\nfunction DialogBoxMorph(target, action, environment) {\r\n    this.init(target, action, environment);\r\n}\r\n\r\nDialogBoxMorph.prototype.init = function (target, action, environment) {\r\n    // additional properties:\r\n    this.is3D = false; // for \"flat\" design exceptions\r\n    this.target = target || null;\r\n    this.action = action || null;\r\n    this.environment = environment || null;\r\n    this.key = null; // keep track of my purpose to prevent mulitple instances\r\n\r\n    this.labelString = null;\r\n    this.label = null;\r\n    this.head = null;\r\n    this.body = null;\r\n    this.buttons = null;\r\n\r\n    // initialize inherited properties:\r\n    DialogBoxMorph.uber.init.call(this);\r\n\r\n    // override inherited properites:\r\n    this.isDraggable = true;\r\n    this.color = PushButtonMorph.prototype.color;\r\n    this.createLabel();\r\n    this.createButtons();\r\n    this.setExtent(new Point(300, 150));\r\n};\r\n\r\n// DialogBoxMorph ops\r\nDialogBoxMorph.prototype.inform = function (\r\n    title,\r\n    textString,\r\n    world,\r\n    pic\r\n) {\r\n    var txt = new TextMorph(\r\n        textString,\r\n        this.fontSize,\r\n        this.fontStyle,\r\n        true,\r\n        false,\r\n        'center',\r\n        null,\r\n        null,\r\n        MorphicPreferences.isFlat ? null : new Point(1, 1),\r\n        new Color(255, 255, 255)\r\n    );\r\n\r\n    if (!this.key) {\r\n        this.key = 'inform' + title + textString;\r\n    }\r\n\r\n    this.labelString = title;\r\n    this.createLabel();\r\n    if (pic) {this.setPicture(pic); }\r\n    if (textString) {\r\n        this.addBody(txt);\r\n    }\r\n    this.addButton('ok', 'OK');\r\n    this.drawNew();\r\n    this.fixLayout();\r\n    this.popUp(world);\r\n};\r\n\r\nDialogBoxMorph.prototype.askYesNo = function (\r\n    title,\r\n    textString,\r\n    world,\r\n    pic\r\n) {\r\n    var txt = new TextMorph(\r\n        textString,\r\n        this.fontSize,\r\n        this.fontStyle,\r\n        true,\r\n        false,\r\n        'center',\r\n        null,\r\n        null,\r\n        MorphicPreferences.isFlat ? null : new Point(1, 1),\r\n        new Color(255, 255, 255)\r\n    );\r\n\r\n    if (!this.key) {\r\n        this.key = 'decide' + title + textString;\r\n    }\r\n\r\n    this.labelString = title;\r\n    this.createLabel();\r\n    if (pic) {this.setPicture(pic); }\r\n    this.addBody(txt);\r\n    this.addButton('ok', 'Yes');\r\n    this.addButton('cancel', 'No');\r\n    this.fixLayout();\r\n    this.drawNew();\r\n    this.fixLayout();\r\n    this.popUp(world);\r\n};\r\n\r\nDialogBoxMorph.prototype.prompt = function (\r\n    title,\r\n    defaultString,\r\n    world,\r\n    pic,\r\n    choices, // optional dictionary for drop-down of choices\r\n    isReadOnly, // optional when using choices\r\n    isNumeric, // optional\r\n    sliderMin, // optional for numeric sliders\r\n    sliderMax, // optional for numeric sliders\r\n    sliderAction // optional single-arg function for numeric slider\r\n) {\r\n    var sld,\r\n        head,\r\n        txt = new InputFieldMorph(\r\n            defaultString,\r\n            isNumeric || false, // numeric?\r\n            choices || null, // drop-down dict, optional\r\n            choices ? isReadOnly || false : false\r\n        );\r\n    txt.setWidth(250);\r\n    if (isNumeric) {\r\n        if (pic) {\r\n            head = new AlignmentMorph('column', this.padding);\r\n            pic.setPosition(head.position());\r\n            head.add(pic);\r\n        }\r\n        if (!isNil(sliderMin) && !isNil(sliderMax)) {\r\n            sld = new SliderMorph(\r\n                sliderMin * 100,\r\n                sliderMax * 100,\r\n                parseFloat(defaultString) * 100,\r\n                (sliderMax - sliderMin) / 10 * 100,\r\n                'horizontal'\r\n            );\r\n            sld.alpha = 1;\r\n            sld.color = this.color.lighter(50);\r\n            sld.setHeight(txt.height() * 0.7);\r\n            sld.setWidth(txt.width());\r\n            sld.action = function (num) {\r\n                if (sliderAction) {\r\n                    sliderAction(num / 100);\r\n                }\r\n                txt.setContents(num / 100);\r\n                txt.edit();\r\n            };\r\n            if (!head) {\r\n                head = new AlignmentMorph('column', this.padding);\r\n            }\r\n            head.add(sld);\r\n        }\r\n        if (head) {\r\n            head.fixLayout();\r\n            this.setPicture(head);\r\n            head.fixLayout();\r\n        }\r\n    } else {\r\n        if (pic) {this.setPicture(pic); }\r\n    }\r\n\r\n    this.reactToChoice = function (inp) {\r\n        if (sld) {\r\n            sld.value = inp * 100;\r\n            sld.drawNew();\r\n            sld.changed();\r\n        }\r\n        if (sliderAction) {\r\n            sliderAction(inp);\r\n        }\r\n    };\r\n\r\n    txt.reactToKeystroke = function () {\r\n        var inp = txt.getValue();\r\n        if (sld) {\r\n            inp = Math.max(inp, sliderMin);\r\n            sld.value = inp * 100;\r\n            sld.drawNew();\r\n            sld.changed();\r\n        }\r\n        if (sliderAction) {\r\n            sliderAction(inp);\r\n        }\r\n    };\r\n\r\n    this.labelString = title;\r\n    this.createLabel();\r\n\r\n    if (!this.key) {\r\n        this.key = 'prompt' + title + defaultString;\r\n    }\r\n\r\n    this.addBody(txt);\r\n    txt.drawNew();\r\n    this.addButton('ok', 'OK');\r\n    this.addButton('cancel', 'Cancel');\r\n    this.fixLayout();\r\n    this.drawNew();\r\n    this.fixLayout();\r\n    this.popUp(world);\r\n};\r\n\r\nDialogBoxMorph.prototype.promptCode = function (\r\n    title,\r\n    defaultString,\r\n    world,\r\n    pic,\r\n    instructions\r\n) {\r\n    var frame = new ScrollFrameMorph(),\r\n        text = new TextMorph(defaultString || ''),\r\n        bdy = new AlignmentMorph('column', this.padding),\r\n        size = pic ? Math.max(pic.width, 400) : 400;\r\n\r\n    this.getInput = function () {\r\n        return text.text;\r\n    };\r\n\r\n    function remarkText(string) {\r\n        return new TextMorph(\r\n            localize(string),\r\n            10,\r\n            null, // style\r\n            false, // bold\r\n            null, // italic\r\n            null, // alignment\r\n            null, // width\r\n            null, // font name\r\n            MorphicPreferences.isFlat ? null : new Point(1, 1),\r\n            new Color(255, 255, 255) // shadowColor\r\n        );\r\n    }\r\n\r\n    frame.padding = 6;\r\n    frame.setWidth(size);\r\n    frame.acceptsDrops = false;\r\n    frame.contents.acceptsDrops = false;\r\n\r\n    text.fontName = 'monospace';\r\n    text.fontStyle = 'monospace';\r\n    text.fontSize = 11;\r\n    text.setPosition(frame.topLeft().add(frame.padding));\r\n    text.enableSelecting();\r\n    text.isEditable = true;\r\n\r\n    frame.setHeight(size / 4);\r\n    frame.fixLayout = nop;\r\n    frame.edge = InputFieldMorph.prototype.edge;\r\n    frame.fontSize = InputFieldMorph.prototype.fontSize;\r\n    frame.typeInPadding = InputFieldMorph.prototype.typeInPadding;\r\n    frame.contrast = InputFieldMorph.prototype.contrast;\r\n    frame.drawNew = InputFieldMorph.prototype.drawNew;\r\n    frame.drawRectBorder = InputFieldMorph.prototype.drawRectBorder;\r\n\r\n    frame.addContents(text);\r\n    text.drawNew();\r\n\r\n    if (pic) {this.setPicture(pic); }\r\n\r\n    this.labelString = title;\r\n    this.createLabel();\r\n\r\n    if (!this.key) {\r\n        this.key = 'promptCode' + title + defaultString;\r\n    }\r\n\r\n    bdy.setColor(this.color);\r\n    bdy.add(frame);\r\n    if (instructions) {\r\n        bdy.add(remarkText(instructions));\r\n    }\r\n    bdy.fixLayout();\r\n\r\n    this.addBody(bdy);\r\n    frame.drawNew();\r\n    bdy.drawNew();\r\n\r\n    this.addButton('ok', 'OK');\r\n    this.addButton('cancel', 'Cancel');\r\n    this.fixLayout();\r\n    this.drawNew();\r\n    this.fixLayout();\r\n    this.popUp(world);\r\n    text.edit();\r\n};\r\n\r\nDialogBoxMorph.prototype.promptVector = function (\r\n    title,\r\n    point,\r\n    deflt,\r\n    xLabel,\r\n    yLabel,\r\n    world,\r\n    pic,\r\n    msg\r\n) {\r\n    var vec = new AlignmentMorph('row', 4),\r\n        xInp = new InputFieldMorph(point.x.toString(), true),\r\n        yInp = new InputFieldMorph(point.y.toString(), true),\r\n        xCol = new AlignmentMorph('column', 2),\r\n        yCol = new AlignmentMorph('column', 2),\r\n        inp = new AlignmentMorph('column', 2),\r\n        bdy = new AlignmentMorph('column', this.padding);\r\n\r\n    function labelText(string) {\r\n        return new TextMorph(\r\n            localize(string),\r\n            10,\r\n            null, // style\r\n            false, // bold\r\n            null, // italic\r\n            null, // alignment\r\n            null, // width\r\n            null, // font name\r\n            MorphicPreferences.isFlat ? null : new Point(1, 1),\r\n            new Color(255, 255, 255) // shadowColor\r\n        );\r\n    }\r\n\r\n    inp.alignment = 'left';\r\n    inp.setColor(this.color);\r\n    bdy.setColor(this.color);\r\n    xCol.alignment = 'left';\r\n    xCol.setColor(this.color);\r\n    yCol.alignment = 'left';\r\n    yCol.setColor(this.color);\r\n\r\n    xCol.add(labelText(xLabel));\r\n    xCol.add(xInp);\r\n    yCol.add(labelText(yLabel));\r\n    yCol.add(yInp);\r\n    vec.add(xCol);\r\n    vec.add(yCol);\r\n    inp.add(vec);\r\n\r\n    if (msg) {\r\n        bdy.add(labelText(msg));\r\n    }\r\n\r\n    bdy.add(inp);\r\n\r\n    vec.fixLayout();\r\n    xCol.fixLayout();\r\n    yCol.fixLayout();\r\n    inp.fixLayout();\r\n    bdy.fixLayout();\r\n\r\n    this.labelString = title;\r\n    this.createLabel();\r\n    if (pic) {this.setPicture(pic); }\r\n\r\n    this.addBody(bdy);\r\n\r\n    vec.drawNew();\r\n    xCol.drawNew();\r\n    xInp.drawNew();\r\n    yCol.drawNew();\r\n    yInp.drawNew();\r\n    bdy.fixLayout();\r\n\r\n    this.addButton('ok', 'OK');\r\n\r\n    if (deflt instanceof Point) {\r\n        this.addButton(\r\n            function () {\r\n                xInp.setContents(deflt.x.toString());\r\n                yInp.setContents(deflt.y.toString());\r\n            },\r\n            'Default'\r\n\r\n        );\r\n    }\r\n\r\n    this.addButton('cancel', 'Cancel');\r\n    this.fixLayout();\r\n    this.drawNew();\r\n    this.fixLayout();\r\n\r\n    this.edit = function () {\r\n        xInp.edit();\r\n    };\r\n\r\n    this.getInput = function () {\r\n        return new Point(xInp.getValue(), yInp.getValue());\r\n    };\r\n\r\n    if (!this.key) {\r\n        this.key = 'vector' + title;\r\n    }\r\n\r\n    this.popUp(world);\r\n};\r\n\r\nDialogBoxMorph.prototype.promptCredentials = function (\r\n    title,\r\n    purpose,\r\n    tosURL,\r\n    tosLabel,\r\n    prvURL,\r\n    prvLabel,\r\n    checkBoxLabel,\r\n    world,\r\n    pic,\r\n    msg\r\n) {\r\n    var usr = new InputFieldMorph(),\r\n        bmn,\r\n        byr,\r\n        emlLabel,\r\n        eml = new InputFieldMorph(),\r\n        pw1 = new InputFieldMorph(),\r\n        pw2 = new InputFieldMorph(),\r\n        opw = new InputFieldMorph(),\r\n        agree = false,\r\n        chk,\r\n        dof = new AlignmentMorph('row', 4),\r\n        mCol = new AlignmentMorph('column', 2),\r\n        yCol = new AlignmentMorph('column', 2),\r\n        inp = new AlignmentMorph('column', 2),\r\n        lnk = new AlignmentMorph('row', 4),\r\n        bdy = new AlignmentMorph('column', this.padding),\r\n        years = {},\r\n        currentYear = new Date().getFullYear(),\r\n        firstYear = currentYear - 20,\r\n        myself = this;\r\n\r\n    function labelText(string) {\r\n        return new TextMorph(\r\n            localize(string),\r\n            10,\r\n            null, // style\r\n            false, // bold\r\n            null, // italic\r\n            null, // alignment\r\n            null, // width\r\n            null, // font name\r\n            MorphicPreferences.isFlat ? null : new Point(1, 1),\r\n            new Color(255, 255, 255) // shadowColor\r\n        );\r\n    }\r\n\r\n    function linkButton(label, url) {\r\n        var btn = new PushButtonMorph(\r\n            myself,\r\n            function () {\r\n                window.open(url);\r\n            },\r\n            '  ' + localize(label) + '  '\r\n        );\r\n        btn.fontSize = 10;\r\n        btn.corner = myself.buttonCorner;\r\n        btn.edge = myself.buttonEdge;\r\n        btn.outline = myself.buttonOutline;\r\n        btn.outlineColor = myself.buttonOutlineColor;\r\n        btn.outlineGradient = myself.buttonOutlineGradient;\r\n        btn.padding = myself.buttonPadding;\r\n        btn.contrast = myself.buttonContrast;\r\n        btn.drawNew();\r\n        btn.fixLayout();\r\n        return btn;\r\n    }\r\n\r\n    function age() {\r\n        var today = new Date().getFullYear() + new Date().getMonth() / 12,\r\n            year = +byr.getValue() || 0,\r\n            monthName = bmn.getValue(),\r\n            month,\r\n            birthday;\r\n        if (monthName instanceof Array) { // translatable\r\n            monthName = monthName[0];\r\n        }\r\n        if (isNaN(year)) {\r\n            year = 0;\r\n        }\r\n        month = [\r\n            'January',\r\n            'February',\r\n            'March',\r\n            'April',\r\n            'May',\r\n            'June',\r\n            'July',\r\n            'August',\r\n            'September',\r\n            'October',\r\n            'November',\r\n            'December'\r\n        ].indexOf(monthName);\r\n        if (isNaN(month)) {\r\n            month = 0;\r\n        }\r\n        birthday = year + month / 12;\r\n        return today - birthday;\r\n    }\r\n\r\n    bmn = new InputFieldMorph(\r\n        null, // text\r\n        false, // numeric?\r\n        {\r\n            'January' : ['January'],\r\n            'February' : ['February'],\r\n            'March' : ['March'],\r\n            'April' : ['April'],\r\n            'May' : ['May'],\r\n            'June' : ['June'],\r\n            'July' : ['July'],\r\n            'August' : ['August'],\r\n            'September' : ['September'],\r\n            'October' : ['October'],\r\n            'November' : ['November'],\r\n            'December' : ['December']\r\n        },\r\n        true // read-only\r\n    );\r\n    for (currentYear; currentYear > firstYear; currentYear -= 1) {\r\n        years[currentYear.toString() + ' '] = currentYear;\r\n    }\r\n    years[firstYear + ' ' + localize('or before')] = '< ' + currentYear;\r\n    byr = new InputFieldMorph(\r\n        null, // text\r\n        false, // numeric?\r\n        years,\r\n        true // read-only\r\n    );\r\n\r\n    inp.alignment = 'left';\r\n    inp.setColor(this.color);\r\n    bdy.setColor(this.color);\r\n\r\n    mCol.alignment = 'left';\r\n    mCol.setColor(this.color);\r\n    yCol.alignment = 'left';\r\n    yCol.setColor(this.color);\r\n\r\n    usr.setWidth(200);\r\n    bmn.setWidth(100);\r\n    byr.contents().minWidth = 80;\r\n    byr.setWidth(80);\r\n    eml.setWidth(200);\r\n    pw1.setWidth(200);\r\n    pw2.setWidth(200);\r\n    opw.setWidth(200);\r\n    pw1.contents().text.toggleIsPassword();\r\n    pw2.contents().text.toggleIsPassword();\r\n    opw.contents().text.toggleIsPassword();\r\n\r\n    if (purpose === 'login') {\r\n        inp.add(labelText('User name:'));\r\n        inp.add(usr);\r\n    }\r\n\r\n    if (purpose === 'signup') {\r\n        inp.add(labelText('User name:'));\r\n        inp.add(usr);\r\n        mCol.add(labelText('Birth date:'));\r\n        mCol.add(bmn);\r\n        yCol.add(labelText('year:'));\r\n        yCol.add(byr);\r\n        dof.add(mCol);\r\n        dof.add(yCol);\r\n        inp.add(dof);\r\n        emlLabel = labelText('foo');\r\n        inp.add(emlLabel);\r\n        inp.add(eml);\r\n    }\r\n\r\n    if (purpose === 'login') {\r\n        inp.add(labelText('Password:'));\r\n        inp.add(pw1);\r\n    }\r\n\r\n    if (purpose === 'changePassword') {\r\n        inp.add(labelText('Old password:'));\r\n        inp.add(opw);\r\n        inp.add(labelText('New password:'));\r\n        inp.add(pw1);\r\n        inp.add(labelText('Repeat new password:'));\r\n        inp.add(pw2);\r\n    }\r\n\r\n    if (purpose === 'resetPassword') {\r\n        inp.add(labelText('User name:'));\r\n        inp.add(usr);\r\n    }\r\n\r\n    if (msg) {\r\n        bdy.add(labelText(msg));\r\n    }\r\n\r\n    bdy.add(inp);\r\n\r\n    if (tosURL || prvURL) {\r\n        bdy.add(lnk);\r\n    }\r\n    if (tosURL) {\r\n        lnk.add(linkButton(tosLabel, tosURL));\r\n    }\r\n    if (prvURL) {\r\n        lnk.add(linkButton(prvLabel, prvURL));\r\n    }\r\n\r\n    if (checkBoxLabel) {\r\n        chk = new ToggleMorph(\r\n            'checkbox',\r\n            this,\r\n            function () {agree = !agree; }, // action,\r\n            checkBoxLabel,\r\n            function () {return agree; } //query\r\n        );\r\n        chk.edge = this.buttonEdge / 2;\r\n        chk.outline = this.buttonOutline / 2;\r\n        chk.outlineColor = this.buttonOutlineColor;\r\n        chk.outlineGradient = this.buttonOutlineGradient;\r\n        chk.contrast = this.buttonContrast;\r\n        chk.drawNew();\r\n        chk.fixLayout();\r\n        bdy.add(chk);\r\n    }\r\n\r\n    dof.fixLayout();\r\n    mCol.fixLayout();\r\n    yCol.fixLayout();\r\n    inp.fixLayout();\r\n    lnk.fixLayout();\r\n    bdy.fixLayout();\r\n\r\n    this.labelString = title;\r\n    this.createLabel();\r\n    if (pic) {this.setPicture(pic); }\r\n\r\n    this.addBody(bdy);\r\n\r\n    usr.drawNew();\r\n    dof.drawNew();\r\n    mCol.drawNew();\r\n    bmn.drawNew();\r\n    yCol.drawNew();\r\n    byr.drawNew();\r\n    pw1.drawNew();\r\n    pw2.drawNew();\r\n    opw.drawNew();\r\n    eml.drawNew();\r\n    bdy.fixLayout();\r\n\r\n    this.addButton('ok', 'OK');\r\n    this.addButton('cancel', 'Cancel');\r\n    this.fixLayout();\r\n    this.drawNew();\r\n    this.fixLayout();\r\n\r\n    function validInputs() {\r\n        var checklist,\r\n            empty,\r\n            em = eml.getValue();\r\n\r\n        function indicate(morph, string) {\r\n            var bubble = new SpeechBubbleMorph(localize(string));\r\n            bubble.isPointingRight = false;\r\n            bubble.drawNew();\r\n            bubble.popUp(\r\n                world,\r\n                morph.leftCenter().subtract(new Point(bubble.width() + 2, 0))\r\n            );\r\n            if (morph.edit) {\r\n                morph.edit();\r\n            }\r\n        }\r\n\r\n        if (purpose === 'login') {\r\n            checklist = [usr, pw1];\r\n        } else if (purpose === 'signup') {\r\n            checklist = [usr, bmn, byr, eml];\r\n        } else if (purpose === 'changePassword') {\r\n            checklist = [opw, pw1, pw2];\r\n        } else if (purpose === 'resetPassword') {\r\n            checklist = [usr];\r\n        }\r\n\r\n        empty = detect(\r\n            checklist,\r\n            function (inp) {\r\n                return !inp.getValue();\r\n            }\r\n        );\r\n        if (empty) {\r\n            indicate(empty, 'please fill out\\nthis field');\r\n            return false;\r\n        }\r\n        if (purpose === 'signup') {\r\n            if (usr.getValue().length < 4) {\r\n                indicate(usr, 'User name must be four\\ncharacters or longer');\r\n                return false;\r\n            }\r\n            if (em.indexOf(' ') > -1 || em.indexOf('@') === -1\r\n                    || em.indexOf('.') === -1) {\r\n                indicate(eml, 'please provide a valid\\nemail address');\r\n                return false;\r\n            }\r\n        }\r\n        if (purpose === 'changePassword') {\r\n            if (pw1.getValue().length < 6) {\r\n                indicate(pw1, 'password must be six\\ncharacters or longer');\r\n                return false;\r\n            }\r\n            if (pw1.getValue() !== pw2.getValue()) {\r\n                indicate(pw2, 'passwords do\\nnot match');\r\n                return false;\r\n            }\r\n        }\r\n        if (purpose === 'signup') {\r\n            if (!agree) {\r\n                indicate(chk, 'please agree to\\nthe TOS');\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    this.accept = function () {\r\n        if (validInputs()) {\r\n            DialogBoxMorph.prototype.accept.call(myself);\r\n        }\r\n    };\r\n\r\n    this.edit = function () {\r\n        if (purpose === 'changePassword') {\r\n            opw.edit();\r\n        } else { // 'signup', 'login', 'resetPassword'\r\n            usr.edit();\r\n        }\r\n    };\r\n\r\n    this.getInput = function () {\r\n        return {\r\n            username: usr.getValue(),\r\n            email: eml.getValue(),\r\n            oldpassword: opw.getValue(),\r\n            password: pw1.getValue(),\r\n            choice: agree\r\n        };\r\n    };\r\n\r\n    this.reactToChoice = function () {\r\n        if (purpose === 'signup') {\r\n            emlLabel.changed();\r\n            emlLabel.text = age() <= 13 ?\r\n                    'E-mail address of parent or guardian:'\r\n                        : 'E-mail address:';\r\n            emlLabel.text = localize(emlLabel.text);\r\n            emlLabel.drawNew();\r\n            emlLabel.changed();\r\n        }\r\n    };\r\n\r\n    this.reactToChoice(); // initialize e-mail label\r\n\r\n    if (!this.key) {\r\n        this.key = 'credentials' + title + purpose;\r\n    }\r\n\r\n    this.popUp(world);\r\n};\r\n\r\nDialogBoxMorph.prototype.accept = function () {\r\n    /*\r\n    if target is a function, use it as callback:\r\n    execute target as callback function with action as argument\r\n    in the environment as optionally specified.\r\n    Note: if action is also a function, instead of becoming\r\n    the argument itself it will be called to answer the argument.\r\n    for selections, Yes/No Choices etc:\r\n\r\n    else (if target is not a function):\r\n\r\n        if action is a function:\r\n        execute the action with target as environment (can be null)\r\n        for lambdafied (inline) actions\r\n\r\n        else if action is a String:\r\n        treat it as function property of target and execute it\r\n        for selector-like actions\r\n    */\r\n    if (this.action) {\r\n        if (typeof this.target === 'function') {\r\n            if (typeof this.action === 'function') {\r\n                this.target.call(this.environment, this.action.call());\r\n            } else {\r\n                this.target.call(this.environment, this.action);\r\n            }\r\n        } else {\r\n            if (typeof this.action === 'function') {\r\n                this.action.call(this.target, this.getInput());\r\n            } else { // assume it's a String\r\n                this.target[this.action](this.getInput());\r\n            }\r\n        }\r\n    }\r\n    this.destroy();\r\n};\r\n\r\nDialogBoxMorph.prototype.withKey = function (key) {\r\n    this.key = key;\r\n    return this;\r\n};\r\n\r\nDialogBoxMorph.prototype.popUp = function (world) {\r\n    if (world) {\r\n        if (this.key) {\r\n            if (this.instances[world.stamp]) {\r\n                if (this.instances[world.stamp][this.key]) {\r\n                    this.instances[world.stamp][this.key].destroy();\r\n                }\r\n                this.instances[world.stamp][this.key] = this;\r\n            } else {\r\n                this.instances[world.stamp] = {};\r\n                this.instances[world.stamp][this.key] = this;\r\n            }\r\n        }\r\n        world.add(this);\r\n        world.keyboardReceiver = this;\r\n        this.setCenter(world.center());\r\n        this.edit();\r\n    }\r\n};\r\n\r\nDialogBoxMorph.prototype.destroy = function () {\r\n    DialogBoxMorph.uber.destroy.call(this);\r\n    if (this.key) {\r\n        delete this.instances[this.key];\r\n    }\r\n};\r\n\r\nDialogBoxMorph.prototype.ok = function () {\r\n    this.accept();\r\n};\r\n\r\nDialogBoxMorph.prototype.cancel = function () {\r\n    this.destroy();\r\n};\r\n\r\nDialogBoxMorph.prototype.edit = function () {\r\n    this.children.forEach(function (c) {\r\n        if (c.edit) {\r\n            return c.edit();\r\n        }\r\n    });\r\n};\r\n\r\nDialogBoxMorph.prototype.getInput = function () {\r\n    if (this.body instanceof InputFieldMorph) {\r\n        return this.body.getValue();\r\n    }\r\n    return null;\r\n};\r\n\r\nDialogBoxMorph.prototype.justDropped = function (hand) {\r\n    hand.world.keyboardReceiver = this;\r\n    this.edit();\r\n};\r\n\r\nDialogBoxMorph.prototype.destroy = function () {\r\n    var world = this.world();\r\n    world.keyboardReceiver = null;\r\n    world.hand.destroyTemporaries();\r\n    DialogBoxMorph.uber.destroy.call(this);\r\n};\r\n\r\nDialogBoxMorph.prototype.normalizeSpaces = function (string) {\r\n    var ans = '', i, c, flag = false;\r\n\r\n    for (i = 0; i < string.length; i += 1) {\r\n        c = string[i];\r\n        if (c === ' ') {\r\n            if (flag) {\r\n                ans += c;\r\n                flag = false;\r\n            }\r\n        } else {\r\n            ans += c;\r\n            flag = true;\r\n        }\r\n    }\r\n    return ans.trim();\r\n};\r\n\r\n// DialogBoxMorph submorph construction\r\n\r\nDialogBoxMorph.prototype.createLabel = function () {\r\n    var shading = !MorphicPreferences.isFlat || this.is3D;\r\n\r\n    if (this.label) {\r\n        this.label.destroy();\r\n    }\r\n    if (this.labelString) {\r\n        this.label = new StringMorph(\r\n            localize(this.labelString),\r\n            this.titleFontSize,\r\n            this.fontStyle,\r\n            true,\r\n            false,\r\n            false,\r\n            shading ? new Point(2, 1) : null,\r\n            this.titleBarColor.darker(this.contrast)\r\n        );\r\n        this.label.color = this.titleTextColor;\r\n        this.label.drawNew();\r\n        this.add(this.label);\r\n    }\r\n};\r\n\r\nDialogBoxMorph.prototype.createButtons = function () {\r\n    if (this.buttons) {\r\n        this.buttons.destroy();\r\n    }\r\n    this.buttons = new AlignmentMorph('row', this.padding);\r\n    this.add(this.buttons);\r\n};\r\n\r\nDialogBoxMorph.prototype.addButton = function (action, label) {\r\n    var button = new PushButtonMorph(\r\n        this,\r\n        action || 'ok',\r\n        '  ' + localize((label || 'OK')) + '  '\r\n    );\r\n    button.fontSize = this.buttonFontSize;\r\n    button.corner = this.buttonCorner;\r\n    button.edge = this.buttonEdge;\r\n    button.outline = this.buttonOutline;\r\n    button.outlineColor = this.buttonOutlineColor;\r\n    button.outlineGradient = this.buttonOutlineGradient;\r\n    button.padding = this.buttonPadding;\r\n    button.contrast = this.buttonContrast;\r\n    button.drawNew();\r\n    button.fixLayout();\r\n    this.buttons.add(button);\r\n    return button;\r\n};\r\n\r\nDialogBoxMorph.prototype.setPicture = function (aMorphOrCanvas) {\r\n    var morph;\r\n    if (aMorphOrCanvas instanceof Morph) {\r\n        morph = aMorphOrCanvas;\r\n    } else {\r\n        morph = new Morph();\r\n        morph.image = aMorphOrCanvas;\r\n        morph.silentSetWidth(aMorphOrCanvas.width);\r\n        morph.silentSetHeight(aMorphOrCanvas.height);\r\n    }\r\n    this.addHead(morph);\r\n};\r\n\r\nDialogBoxMorph.prototype.addHead = function (aMorph) {\r\n    if (this.head) {\r\n        this.head.destroy();\r\n    }\r\n    this.head = aMorph;\r\n    this.add(this.head);\r\n};\r\n\r\nDialogBoxMorph.prototype.addBody = function (aMorph) {\r\n    if (this.body) {\r\n        this.body.destroy();\r\n    }\r\n    this.body = aMorph;\r\n    this.add(this.body);\r\n};\r\n\r\n// DialogBoxMorph layout\r\n\r\nDialogBoxMorph.prototype.addShadow = function () {nop(); };\r\nDialogBoxMorph.prototype.removeShadow = function () {nop(); };\r\n\r\nDialogBoxMorph.prototype.fixLayout = function () {\r\n    var th = fontHeight(this.titleFontSize) + this.titlePadding * 2, w;\r\n\r\n    if (this.head) {\r\n        this.head.setPosition(this.position().add(new Point(\r\n            this.padding,\r\n            th + this.padding\r\n        )));\r\n        this.silentSetWidth(this.head.width() + this.padding * 2);\r\n        this.silentSetHeight(\r\n            this.head.height()\r\n                + this.padding * 2\r\n                + th\r\n        );\r\n    }\r\n\r\n    if (this.body) {\r\n        if (this.head) {\r\n            this.body.setPosition(this.head.bottomLeft().add(new Point(\r\n                0,\r\n                this.padding\r\n            )));\r\n            this.silentSetWidth(Math.max(\r\n                this.width(),\r\n                this.body.width() + this.padding * 2\r\n            ));\r\n            this.silentSetHeight(\r\n                this.height()\r\n                    + this.body.height()\r\n                    + this.padding\r\n            );\r\n            w = this.width();\r\n            this.head.setLeft(\r\n                this.left()\r\n                    + Math.round((w - this.head.width()) / 2)\r\n            );\r\n            this.body.setLeft(\r\n                this.left()\r\n                    + Math.round((w - this.body.width()) / 2)\r\n            );\r\n        } else {\r\n            this.body.setPosition(this.position().add(new Point(\r\n                this.padding,\r\n                th + this.padding\r\n            )));\r\n            this.silentSetWidth(this.body.width() + this.padding * 2);\r\n            this.silentSetHeight(\r\n                this.body.height()\r\n                    + this.padding * 2\r\n                    + th\r\n            );\r\n        }\r\n    }\r\n\r\n    if (this.label) {\r\n        this.label.setCenter(this.center());\r\n        this.label.setTop(this.top() + (th - this.label.height()) / 2);\r\n    }\r\n\r\n    if (this.buttons && (this.buttons.children.length > 0)) {\r\n        this.buttons.fixLayout();\r\n        this.silentSetHeight(\r\n            this.height()\r\n                    + this.buttons.height()\r\n                    + this.padding\r\n        );\r\n        this.silentSetWidth(Math.max(\r\n                this.width(),\r\n                this.buttons.width()\r\n                        + (2 * this.padding)\r\n            )\r\n        );\r\n        this.buttons.setCenter(this.center());\r\n        this.buttons.setBottom(this.bottom() - this.padding);\r\n    }\r\n};\r\n\r\n// DialogBoxMorph shadow\r\n\r\n/*\r\n    only take the 'plain' image, so the box rounding doesn't become\r\n    conflicted by the scrolling scripts pane\r\n*/\r\n\r\nDialogBoxMorph.prototype.shadowImage = function (off, color) {\r\n    // fallback for Windows Chrome-Shadow bug\r\n    var fb, img, outline, sha, ctx,\r\n        offset = off || new Point(7, 7),\r\n        clr = color || new Color(0, 0, 0);\r\n    fb = this.extent();\r\n    img = this.image;\r\n    outline = newCanvas(fb);\r\n    ctx = outline.getContext('2d');\r\n    ctx.drawImage(img, 0, 0);\r\n    ctx.globalCompositeOperation = 'destination-out';\r\n    ctx.drawImage(\r\n        img,\r\n        -offset.x,\r\n        -offset.y\r\n    );\r\n    sha = newCanvas(fb);\r\n    ctx = sha.getContext('2d');\r\n    ctx.drawImage(outline, 0, 0);\r\n    ctx.globalCompositeOperation = 'source-atop';\r\n    ctx.fillStyle = clr.toString();\r\n    ctx.fillRect(0, 0, fb.x, fb.y);\r\n    return sha;\r\n};\r\n\r\nDialogBoxMorph.prototype.shadowImageBlurred = function (off, color) {\r\n    var fb, img, sha, ctx,\r\n        offset = off || new Point(7, 7),\r\n        blur = this.shadowBlur,\r\n        clr = color || new Color(0, 0, 0);\r\n    fb = this.extent().add(blur * 2);\r\n    img = this.image;\r\n    sha = newCanvas(fb);\r\n    ctx = sha.getContext('2d');\r\n    ctx.shadowOffsetX = offset.x;\r\n    ctx.shadowOffsetY = offset.y;\r\n    ctx.shadowBlur = blur;\r\n    ctx.shadowColor = clr.toString();\r\n    ctx.drawImage(\r\n        img,\r\n        blur - offset.x,\r\n        blur - offset.y\r\n    );\r\n    ctx.shadowOffsetX = 0;\r\n    ctx.shadowOffsetY = 0;\r\n    ctx.shadowBlur = 0;\r\n    ctx.globalCompositeOperation = 'destination-out';\r\n    ctx.drawImage(\r\n        img,\r\n        blur - offset.x,\r\n        blur - offset.y\r\n    );\r\n    return sha;\r\n};\r\n\r\n// DialogBoxMorph keyboard events\r\n\r\nDialogBoxMorph.prototype.processKeyPress = function () {nop(); };\r\n\r\nDialogBoxMorph.prototype.processKeyDown = function (event) {\r\n    // this.inspectKeyEvent(event);\r\n    switch (event.keyCode) {\r\n    case 13:\r\n        this.ok();\r\n        break;\r\n    case 27:\r\n        this.cancel();\r\n        break;\r\n    default:\r\n        nop();\r\n        // this.inspectKeyEvent(event);\r\n    }\r\n};\r\n\r\n// DialogBoxMorph drawing\r\n\r\nDialogBoxMorph.prototype.drawNew = function () {\r\n    this.fullChanged();\r\n    Morph.prototype.trackChanges = false;\r\n    DialogBoxMorph.uber.removeShadow.call(this);\r\n    this.fixLayout();\r\n\r\n    var context,\r\n        gradient,\r\n        w = this.width(),\r\n        h = this.height(),\r\n        th = Math.floor(\r\n            fontHeight(this.titleFontSize) + this.titlePadding * 2\r\n        ),\r\n        shift = this.corner / 2,\r\n        x,\r\n        y,\r\n        isFlat = MorphicPreferences.isFlat && !this.is3D;\r\n\r\n    // this.alpha = isFlat ? 0.9 : 1;\r\n\r\n    this.image = newCanvas(this.extent());\r\n    context = this.image.getContext('2d');\r\n\r\n    // title bar\r\n    if (isFlat) {\r\n        context.fillStyle = this.titleBarColor.toString();\r\n    } else {\r\n        gradient = context.createLinearGradient(0, 0, 0, th);\r\n        gradient.addColorStop(\r\n            0,\r\n            this.titleBarColor.lighter(this.contrast / 2).toString()\r\n        );\r\n        gradient.addColorStop(\r\n            1,\r\n            this.titleBarColor.darker(this.contrast).toString()\r\n        );\r\n        context.fillStyle = gradient;\r\n    }\r\n    context.beginPath();\r\n    this.outlinePathTitle(\r\n        context,\r\n        isFlat ? 0 : this.corner\r\n    );\r\n    context.closePath();\r\n    context.fill();\r\n\r\n    // flat shape\r\n    // body\r\n    context.fillStyle = this.color.toString();\r\n    context.beginPath();\r\n    this.outlinePathBody(\r\n        context,\r\n        isFlat ? 0 : this.corner\r\n    );\r\n    context.closePath();\r\n    context.fill();\r\n\r\n    if (isFlat) {\r\n        DialogBoxMorph.uber.addShadow.call(this);\r\n        Morph.prototype.trackChanges = true;\r\n        this.fullChanged();\r\n        return;\r\n    }\r\n\r\n    // 3D-effect\r\n    // bottom left corner\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        h - this.corner,\r\n        0,\r\n        h\r\n    );\r\n    gradient.addColorStop(0, this.color.toString());\r\n    gradient.addColorStop(1, this.color.darker(this.contrast.toString()));\r\n\r\n    context.lineWidth = this.corner;\r\n    context.lineCap = 'round';\r\n    context.strokeStyle = gradient;\r\n\r\n    context.beginPath();\r\n    context.moveTo(this.corner, h - shift);\r\n    context.lineTo(this.corner + 1, h - shift);\r\n    context.stroke();\r\n\r\n    // bottom edge\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        h - this.corner,\r\n        0,\r\n        h\r\n    );\r\n    gradient.addColorStop(0, this.color.toString());\r\n    gradient.addColorStop(1, this.color.darker(this.contrast.toString()));\r\n\r\n    context.lineWidth = this.corner;\r\n    context.lineCap = 'butt';\r\n    context.strokeStyle = gradient;\r\n\r\n    context.beginPath();\r\n    context.moveTo(this.corner, h - shift);\r\n    context.lineTo(w - this.corner, h - shift);\r\n    context.stroke();\r\n\r\n    // right body edge\r\n    gradient = context.createLinearGradient(\r\n        w - this.corner,\r\n        0,\r\n        w,\r\n        0\r\n    );\r\n    gradient.addColorStop(0, this.color.toString());\r\n    gradient.addColorStop(1, this.color.darker(this.contrast).toString());\r\n\r\n    context.lineWidth = this.corner;\r\n    context.lineCap = 'butt';\r\n    context.strokeStyle = gradient;\r\n\r\n    context.beginPath();\r\n    context.moveTo(w - shift, th);\r\n    context.lineTo(w - shift, h - this.corner);\r\n    context.stroke();\r\n\r\n    // bottom right corner\r\n    x = w - this.corner;\r\n    y = h - this.corner;\r\n\r\n    gradient = context.createRadialGradient(\r\n        x,\r\n        y,\r\n        0,\r\n        x,\r\n        y,\r\n        this.corner\r\n    );\r\n    gradient.addColorStop(0, this.color.toString());\r\n    gradient.addColorStop(1, this.color.darker(this.contrast.toString()));\r\n\r\n    context.lineCap = 'butt';\r\n\r\n    context.strokeStyle = gradient;\r\n\r\n    context.beginPath();\r\n    context.arc(\r\n        x,\r\n        y,\r\n        shift,\r\n        radians(90),\r\n        radians(0),\r\n        true\r\n    );\r\n    context.stroke();\r\n\r\n    // left body edge\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        0,\r\n        this.corner,\r\n        0\r\n    );\r\n    gradient.addColorStop(\r\n        0,\r\n        this.color.lighter(this.contrast).toString()\r\n    );\r\n    gradient.addColorStop(1, this.color.toString());\r\n\r\n    context.lineCap = 'butt';\r\n    context.strokeStyle = gradient;\r\n\r\n    context.beginPath();\r\n    context.moveTo(shift, th);\r\n    context.lineTo(shift, h - this.corner * 2);\r\n    context.stroke();\r\n\r\n    // left vertical bottom corner\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        0,\r\n        this.corner,\r\n        0\r\n    );\r\n    gradient.addColorStop(\r\n        0,\r\n        this.color.lighter(this.contrast).toString()\r\n    );\r\n    gradient.addColorStop(1, this.color.toString());\r\n\r\n    context.lineCap = 'round';\r\n    context.strokeStyle = gradient;\r\n\r\n    context.beginPath();\r\n    context.moveTo(shift, h - this.corner * 2);\r\n    context.lineTo(shift, h - this.corner - shift);\r\n    context.stroke();\r\n\r\n    DialogBoxMorph.uber.addShadow.call(this);\r\n    Morph.prototype.trackChanges = true;\r\n    this.fullChanged();\r\n};\r\n\r\nDialogBoxMorph.prototype.outlinePathTitle = function (context, radius) {\r\n    var w = this.width(),\r\n        h = Math.ceil(fontHeight(this.titleFontSize)) + this.titlePadding * 2;\r\n\r\n    // top left:\r\n    context.arc(\r\n        radius,\r\n        radius,\r\n        radius,\r\n        radians(-180),\r\n        radians(-90),\r\n        false\r\n    );\r\n    // top right:\r\n    context.arc(\r\n        w - radius,\r\n        radius,\r\n        radius,\r\n        radians(-90),\r\n        radians(-0),\r\n        false\r\n    );\r\n    // bottom right:\r\n    context.lineTo(w, h);\r\n\r\n    // bottom left:\r\n    context.lineTo(0, h);\r\n};\r\n\r\nDialogBoxMorph.prototype.outlinePathBody = function (context, radius) {\r\n    var w = this.width(),\r\n        h = this.height(),\r\n        th = Math.floor(fontHeight(this.titleFontSize)) +\r\n            this.titlePadding * 2;\r\n\r\n    // top left:\r\n    context.moveTo(0, th);\r\n\r\n    // top right:\r\n    context.lineTo(w, th);\r\n\r\n    // bottom right:\r\n    context.arc(\r\n        w - radius,\r\n        h - radius,\r\n        radius,\r\n        radians(0),\r\n        radians(90),\r\n        false\r\n    );\r\n    // bottom left:\r\n    context.arc(\r\n        radius,\r\n        h - radius,\r\n        radius,\r\n        radians(90),\r\n        radians(180),\r\n        false\r\n    );\r\n};\r\n\r\n// AlignmentMorph /////////////////////////////////////////////////////\r\n\r\n// I am a reified layout, either a row or a column of submorphs\r\n\r\n// AlignmentMorph inherits from Morph:\r\n\r\nAlignmentMorph.prototype = new Morph();\r\nAlignmentMorph.prototype.constructor = AlignmentMorph;\r\nAlignmentMorph.uber = Morph.prototype;\r\n\r\n// AlignmentMorph instance creation:\r\n\r\nfunction AlignmentMorph(orientation, padding) {\r\n    this.init(orientation, padding);\r\n}\r\n\r\nAlignmentMorph.prototype.init = function (orientation, padding) {\r\n    // additional properties:\r\n    this.orientation = orientation || 'row'; // or 'column'\r\n    this.alignment = 'center'; // or 'left' in a column\r\n    this.padding = padding || 0;\r\n    this.respectHiddens = false;\r\n\r\n    // initialize inherited properties:\r\n    AlignmentMorph.uber.init.call(this);\r\n\r\n    // override inherited properites:\r\n};\r\n\r\n// AlignmentMorph displaying and layout\r\n\r\nAlignmentMorph.prototype.drawNew = function () {\r\n    this.image = newCanvas(new Point(1, 1));\r\n    this.fixLayout();\r\n};\r\n\r\nAlignmentMorph.prototype.fixLayout = function () {\r\n    var myself = this,\r\n        last = null,\r\n        newBounds;\r\n    if (this.children.length === 0) {\r\n        return null;\r\n    }\r\n    this.children.forEach(function (c) {\r\n        var cfb = c.fullBounds(),\r\n            lfb;\r\n        if (c.isVisible || myself.respectHiddens) {\r\n            if (last) {\r\n                lfb = last.fullBounds();\r\n                if (myself.orientation === 'row') {\r\n                    c.setPosition(\r\n                        lfb.topRight().add(new Point(\r\n                            myself.padding,\r\n                            (lfb.height() - cfb.height()) / 2\r\n                        ))\r\n                    );\r\n                } else { // orientation === 'column'\r\n                    c.setPosition(\r\n                        lfb.bottomLeft().add(new Point(\r\n                            myself.alignment === 'center' ?\r\n                                    (lfb.width() - cfb.width()) / 2\r\n                                            : 0,\r\n                            myself.padding\r\n                        ))\r\n                    );\r\n                }\r\n                cfb = c.fullBounds();\r\n                newBounds = newBounds.merge(cfb);\r\n            } else {\r\n                newBounds = cfb;\r\n            }\r\n            last = c;\r\n        }\r\n    });\r\n    this.bounds = newBounds;\r\n};\r\n\r\n// InputFieldMorph //////////////////////////////////////////////////////\r\n\r\n// InputFieldMorph inherits from Morph:\r\n\r\nInputFieldMorph.prototype = new Morph();\r\nInputFieldMorph.prototype.constructor = InputFieldMorph;\r\nInputFieldMorph.uber = Morph.prototype;\r\n\r\n// InputFieldMorph settings\r\n\r\nInputFieldMorph.prototype.edge = 2;\r\nInputFieldMorph.prototype.fontSize = 12;\r\nInputFieldMorph.prototype.typeInPadding = 2;\r\nInputFieldMorph.prototype.contrast = 65;\r\n\r\n// InputFieldMorph instance creation:\r\n\r\nfunction InputFieldMorph(text, isNumeric, choiceDict, isReadOnly) {\r\n    this.init(text, isNumeric, choiceDict, isReadOnly);\r\n}\r\n\r\nInputFieldMorph.prototype.init = function (\r\n    text,\r\n    isNumeric,\r\n    choiceDict,\r\n    isReadOnly\r\n) {\r\n    var contents = new StringFieldMorph(text || ''),\r\n        arrow = new ArrowMorph(\r\n            'down',\r\n            0,\r\n            Math.max(Math.floor(this.fontSize / 6), 1)\r\n        );\r\n\r\n    this.choices = choiceDict || null; // object, function or selector\r\n    this.isReadOnly = isReadOnly || false;\r\n    this.isNumeric = isNumeric || false;\r\n\r\n    contents.alpha = 0;\r\n    contents.fontSize = this.fontSize;\r\n    contents.drawNew();\r\n\r\n    this.oldContentsExtent = contents.extent();\r\n    this.isNumeric = isNumeric || false;\r\n\r\n    InputFieldMorph.uber.init.call(this);\r\n    this.color = new Color(255, 255, 255);\r\n    this.add(contents);\r\n    this.add(arrow);\r\n    contents.isDraggable = false;\r\n    this.drawNew();\r\n};\r\n\r\n// InputFieldMorph accessing:\r\n\r\nInputFieldMorph.prototype.contents = function () {\r\n    return detect(\r\n        this.children,\r\n        function (child) {\r\n            return (child instanceof StringFieldMorph);\r\n        }\r\n    );\r\n};\r\n\r\nInputFieldMorph.prototype.arrow = function () {\r\n    return detect(\r\n        this.children,\r\n        function (child) {\r\n            return (child instanceof ArrowMorph);\r\n        }\r\n    );\r\n};\r\n\r\nInputFieldMorph.prototype.setChoice = function (aStringOrFloat) {\r\n    this.setContents(aStringOrFloat);\r\n    this.escalateEvent('reactToChoice', aStringOrFloat);\r\n};\r\n\r\nInputFieldMorph.prototype.setContents = function (aStringOrFloat) {\r\n    var cnts = this.contents();\r\n    cnts.text.text = aStringOrFloat;\r\n    if (aStringOrFloat === undefined) {\r\n        return null;\r\n    }\r\n    if (aStringOrFloat === null) {\r\n        cnts.text.text = '';\r\n    } else if (aStringOrFloat.toString) {\r\n        cnts.text.text = aStringOrFloat.toString();\r\n    }\r\n    cnts.drawNew();\r\n    cnts.changed();\r\n};\r\n\r\nInputFieldMorph.prototype.edit = function () {\r\n    var c = this.contents();\r\n    c.text.edit();\r\n    c.text.selectAll();\r\n};\r\n\r\nInputFieldMorph.prototype.setIsNumeric = function (bool) {\r\n    var value;\r\n\r\n    this.isNumeric = bool;\r\n    this.contents().isNumeric = bool;\r\n    this.contents().text.isNumeric = bool;\r\n\r\n    // adjust my shown value to conform with the numeric flag\r\n    value = this.getValue();\r\n    if (this.isNumeric) {\r\n        value = parseFloat(value);\r\n        if (isNaN(value)) {\r\n            value = null;\r\n        }\r\n    }\r\n    this.setContents(value);\r\n};\r\n\r\n// InputFieldMorph drop-down menu:\r\n\r\nInputFieldMorph.prototype.dropDownMenu = function () {\r\n    var choices = this.choices,\r\n        key,\r\n        menu = new MenuMorph(\r\n            this.setChoice,\r\n            null,\r\n            this,\r\n            this.fontSize\r\n        );\r\n\r\n    if (choices instanceof Function) {\r\n        choices = choices.call(this);\r\n    } else if (isString(choices)) {\r\n        choices = this[choices]();\r\n    }\r\n    if (!choices) {\r\n        return null;\r\n    }\r\n    menu.addItem(' ', null);\r\n    if (choices instanceof Array) {\r\n        choices.forEach(function (choice) {\r\n            menu.addItem(choice[0], choice[1]);\r\n        });\r\n    } else { // assuming a dictionary\r\n        for (key in choices) {\r\n            if (Object.prototype.hasOwnProperty.call(choices, key)) {\r\n                if (key[0] === '~') {\r\n                    menu.addLine();\r\n                } else {\r\n                    menu.addItem(key, choices[key]);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    if (menu.items.length > 0) {\r\n        menu.popUpAtHand(this.world());\r\n    } else {\r\n        return null;\r\n    }\r\n};\r\n\r\n// InputFieldMorph layout:\r\n\r\nInputFieldMorph.prototype.fixLayout = function () {\r\n    var contents = this.contents(),\r\n        arrow = this.arrow();\r\n\r\n    if (!contents) {return null; }\r\n    contents.isNumeric = this.isNumeric;\r\n    contents.isEditable = (!this.isReadOnly);\r\n    if (this.choices) {\r\n        arrow.setSize(this.fontSize);\r\n        arrow.show();\r\n    } else {\r\n        arrow.setSize(0);\r\n        arrow.hide();\r\n    }\r\n    this.silentSetHeight(\r\n        contents.height()\r\n            + this.edge * 2\r\n            + this.typeInPadding * 2\r\n    );\r\n    this.silentSetWidth(Math.max(\r\n        contents.minWidth\r\n            + this.edge * 2\r\n            + this.typeInPadding * 2,\r\n        this.width()\r\n    ));\r\n\r\n    contents.setWidth(\r\n        this.width() - this.edge - this.typeInPadding -\r\n            (this.choices ? arrow.width() + this.typeInPadding : 0)\r\n    );\r\n\r\n    contents.silentSetPosition(new Point(\r\n        this.edge,\r\n        this.edge\r\n    ).add(this.typeInPadding).add(this.position()));\r\n\r\n    arrow.silentSetPosition(new Point(\r\n        this.right() - arrow.width() - this.edge,\r\n        contents.top()\r\n    ));\r\n\r\n};\r\n\r\n// InputFieldMorph events:\r\n\r\nInputFieldMorph.prototype.mouseClickLeft = function (pos) {\r\n    if (this.arrow().bounds.containsPoint(pos)) {\r\n        this.dropDownMenu();\r\n    } else if (this.isReadOnly) {\r\n        this.dropDownMenu();\r\n    } else {\r\n        this.escalateEvent('mouseClickLeft', pos);\r\n    }\r\n};\r\n\r\n// InputFieldMorph retrieving:\r\n\r\nInputFieldMorph.prototype.getValue = function () {\r\n/*\r\n    answer my content's text string. If I am numerical convert that\r\n    string to a number. If the conversion fails answer the string\r\n    otherwise the numerical value.\r\n*/\r\n    var num,\r\n        contents = this.contents();\r\n    if (this.isNumeric) {\r\n        num = parseFloat(contents.text);\r\n        if (!isNaN(num)) {\r\n            return num;\r\n        }\r\n    }\r\n    return this.normalizeSpaces(contents.string());\r\n};\r\n\r\nInputFieldMorph.prototype.normalizeSpaces\r\n    = DialogBoxMorph.prototype.normalizeSpaces;\r\n\r\n// InputFieldMorph drawing:\r\n\r\nInputFieldMorph.prototype.drawNew = function () {\r\n    var context, borderColor;\r\n\r\n    this.fixLayout();\r\n\r\n    // initialize my surface property\r\n    this.image = newCanvas(this.extent());\r\n    context = this.image.getContext('2d');\r\n    if (this.parent) {\r\n        if (this.parent.color.eq(new Color(255, 255, 255))) {\r\n            this.color = this.parent.color.darker(this.contrast * 0.1);\r\n        } else {\r\n            this.color = this.parent.color.lighter(this.contrast * 0.75);\r\n        }\r\n        borderColor = this.parent.color;\r\n    } else {\r\n        borderColor = new Color(120, 120, 120);\r\n    }\r\n    context.fillStyle = this.color.toString();\r\n\r\n    // cache my border colors\r\n    this.cachedClr = borderColor.toString();\r\n    this.cachedClrBright = borderColor.lighter(this.contrast)\r\n        .toString();\r\n    this.cachedClrDark = borderColor.darker(this.contrast).toString();\r\n\r\n    context.fillRect(\r\n        this.edge,\r\n        this.edge,\r\n        this.width() - this.edge * 2,\r\n        this.height() - this.edge * 2\r\n    );\r\n\r\n    this.drawRectBorder(context);\r\n};\r\n\r\nInputFieldMorph.prototype.drawRectBorder = function (context) {\r\n    var shift = this.edge * 0.5,\r\n        gradient;\r\n\r\n    if (MorphicPreferences.isFlat && !this.is3D) {return; }\r\n\r\n    context.lineWidth = this.edge;\r\n    context.lineJoin = 'round';\r\n    context.lineCap = 'round';\r\n\r\n    context.shadowOffsetY = shift;\r\n    context.shadowBlur = this.edge * 4;\r\n    context.shadowColor = this.cachedClrDark;\r\n\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        0,\r\n        0,\r\n        this.edge\r\n    );\r\n\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    gradient.addColorStop(1, this.cachedClrDark);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(this.edge, shift);\r\n    context.lineTo(this.width() - this.edge - shift, shift);\r\n    context.stroke();\r\n\r\n    context.shadowOffsetY = 0;\r\n\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        0,\r\n        this.edge,\r\n        0\r\n    );\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    gradient.addColorStop(1, this.cachedClrDark);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(shift, this.edge);\r\n    context.lineTo(shift, this.height() - this.edge - shift);\r\n    context.stroke();\r\n\r\n    context.shadowOffsetX = 0;\r\n    context.shadowOffsetY = 0;\r\n    context.shadowBlur = 0;\r\n\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        this.height() - this.edge,\r\n        0,\r\n        this.height()\r\n    );\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    gradient.addColorStop(1, this.cachedClr);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(this.edge, this.height() - shift);\r\n    context.lineTo(this.width() - this.edge, this.height() - shift);\r\n    context.stroke();\r\n\r\n    gradient = context.createLinearGradient(\r\n        this.width() - this.edge,\r\n        0,\r\n        this.width(),\r\n        0\r\n    );\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    gradient.addColorStop(1, this.cachedClr);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(this.width() - shift, this.edge);\r\n    context.lineTo(this.width() - shift, this.height() - this.edge);\r\n    context.stroke();\r\n};\r\n\r\n// PianoMenuMorph //////////////////////////////////////////////////////\r\n/* \r\n    I am a menu that looks like a piano keyboard.\r\n*/\r\n\r\n// PianoMenuMorph inherits from MenuMorph\r\n\r\nPianoMenuMorph.prototype = new MenuMorph();\r\nPianoMenuMorph.prototype.constructor = PianoMenuMorph;\r\nPianoMenuMorph.uber = MenuMorph.prototype;\r\n\r\n// PianoMenuMorph instance creation:\r\n\r\nfunction PianoMenuMorph(target, environment, fontSize, soundType) {\r\n    this.init(target, environment, fontSize, soundType);\r\n}\r\n\r\nPianoMenuMorph.prototype.init = function (\r\n    target,\r\n    environment,\r\n    fontSize,\r\n    soundType // number 1 - 4: 'sine', 'square', 'sawtooth' or 'triangle'\r\n) {\r\n    var choices, key;\r\n    this.soundType = soundType;\r\n    PianoMenuMorph.uber.init.call(this, target, null, environment, fontSize);\r\n    choices = {\r\n        'C (48)' : 48,\r\n        'D (50)' : 50,\r\n        'C# (49)' : 49,\r\n        'E (52)' : 52,\r\n        'Eb (51)' : 51,\r\n        'F (53)' : 53,\r\n        'G (55)' : 55,\r\n        'F# (54)' : 54,\r\n        'A (57)' : 57,\r\n        'G# (56)' : 56,\r\n        'B (59)' : 59,\r\n        'Bb (58)' : 58,\r\n        'C (60)' : 60,\r\n        'D (62)' : 62,\r\n        'C# (61)' : 61,\r\n        'E (64)' : 64,\r\n        'Eb (63)' : 63,\r\n        'F (65)' : 65,\r\n        'G (67)' : 67,\r\n        'F# (66)' : 66,\r\n        'A (69)' : 69,\r\n        'G# (68)' : 68,\r\n        'B (71)' : 71,\r\n        'Bb (70)' : 70,\r\n        'C (72)' : 72\r\n    };\r\n    for (key in choices) {\r\n        if (Object.prototype.hasOwnProperty.call(choices, key)) {\r\n            this.addItem(key, choices[key]);\r\n        }\r\n    }\r\n    this.drawNew();\r\n};\r\n\r\nPianoMenuMorph.prototype.drawNew = function () {\r\n    var myself = this,\r\n        item,\r\n        fb,\r\n        x,\r\n        y,\r\n        label,\r\n        blackkey,\r\n        key,\r\n        keycolor,\r\n        keywidth,\r\n        keyheight,\r\n        keyposition;\r\n\r\n    this.children.forEach(function (m) {\r\n        m.destroy();\r\n    });\r\n    this.children = [];\r\n    if (!this.isListContents) {\r\n        this.edge = MorphicPreferences.isFlat ? 0 : 5;\r\n        this.border = MorphicPreferences.isFlat ? 1 : 2;\r\n    }\r\n    this.color = new Color(255, 255, 255);\r\n    this.borderColor = new Color(60, 60, 60);\r\n    this.silentSetExtent(new Point(0, 0));\r\n\r\n    x = this.left() + 1;\r\n    y = this.top() + (this.fontSize * 1.5) + 2;\r\n    label = new StringMorph('', this.fontSize);\r\n    this.items.forEach(function (tuple) {\r\n        blackkey = tuple[0][1] !== \" \";\r\n        key = new BoxMorph(1, 1);\r\n        if (blackkey) {\r\n            keycolor = new Color(0, 0, 0);\r\n            keywidth = myself.fontSize; // 9;\r\n            keyheight = myself.fontSize * 2.5;\r\n            keyposition = new Point(x + 2 - (myself.fontSize * 2), y);\r\n        } else {\r\n            keycolor = new Color(255, 255, 255);\r\n            keywidth = myself.fontSize * 1.5;\r\n            keyheight = myself.fontSize * 4;\r\n            keyposition = new Point(x + 1, y);\r\n            x += keywidth - 1;\r\n        }\r\n        key.setColor(keycolor);\r\n        key.setWidth(keywidth);\r\n        key.setHeight(keyheight);\r\n        item = new PianoKeyMorph(\r\n            myself.target,\r\n            tuple[1],\r\n            [key, tuple[0]],\r\n            myself.fontSize || MorphicPreferences.menuFontSize,\r\n            MorphicPreferences.menuFontName,\r\n            myself.environment,\r\n            tuple[2], // bubble help hint\r\n            tuple[3], // color\r\n            tuple[4], // bold\r\n            tuple[5], // italic\r\n            tuple[6], // doubleclick action\r\n            label     // String to change\r\n        );\r\n        item.setPosition(keyposition);\r\n        myself.add(item);\r\n    });\r\n    fb = this.fullBounds();\r\n    label.setPosition(new Point((fb.width() / 2) - this.fontSize, 2));\r\n    this.add(label);\r\n    fb = this.fullBounds();\r\n    this.silentSetExtent(fb.extent().add(2));\r\n    MenuMorph.uber.drawNew.call(this);\r\n};\r\n\r\n// PianoMenuMorph keyboard selecting a key:\r\n\r\nPianoMenuMorph.prototype.select = function(aPianoKeyItem) {\r\n    this.unselectAllItems();\r\n    aPianoKeyItem.mouseEnter();\r\n    this.selection = aPianoKeyItem;\r\n    this.world.keyboardReceiver = this;\r\n    this.hasFocus = true;\r\n};\r\n\r\nPianoMenuMorph.prototype.unselectAllItems = function () {\r\n    this.children.forEach(function (item) {\r\n        if (item instanceof MenuItemMorph) {\r\n            item.mouseLeave();\r\n        }\r\n    });\r\n    this.changed();\r\n};\r\n\r\nPianoMenuMorph.prototype.selectKey = function (midiNum) {\r\n    var key;\r\n    if (isNil(midiNum)) {\r\n        return;\r\n    }\r\n    key = detect(\r\n        this.children,\r\n        function (each) {\r\n            return each.action === midiNum;\r\n        }\r\n    );\r\n    if (key) {\r\n        this.select(key);\r\n    } else {\r\n        this.selectKey(48);\r\n    }\r\n};\r\n\r\n// PianoMenuMorph keyboard navigation & entry:\r\n\r\nPianoMenuMorph.prototype.processKeyDown = function (event) {\r\n    // console.log(event.keyCode);\r\n    switch (event.keyCode) {\r\n    case 13: // 'enter'\r\n    case 32: // 'space'\r\n        if (this.selection) {\r\n            this.selection.mouseClickLeft();\r\n        }\r\n        return;\r\n    case 27: // 'esc'\r\n        return this.destroy();\r\n    case 37: // 'left arrow'\r\n    case 40: // 'down arrow'\r\n    case 189: // -\r\n        return this.selectDown();\r\n    case 38: // 'up arrow'\r\n    case 39: // 'right arrow'\r\n    case 187: // +\r\n    case 220: // #\r\n        return this.selectUp();\r\n    default:\r\n        switch(event.key) {\r\n        case 'C':\r\n            return this.selectKey(48);\r\n        case 'c':\r\n            return this.selectKey(60);\r\n        case 'D':\r\n            return this.selectKey(50);\r\n        case 'd':\r\n            return this.selectKey(62);\r\n        case 'E':\r\n            return this.selectKey(52);\r\n        case 'e':\r\n            return this.selectKey(64);\r\n        case 'F':\r\n            return this.selectKey(53);\r\n        case 'f':\r\n            return this.selectKey(65);\r\n        case 'G':\r\n            return this.selectKey(55);\r\n        case 'g':\r\n            return this.selectKey(67);\r\n        case 'A':\r\n            return this.selectKey(57);\r\n        case 'a':\r\n            return this.selectKey(69);\r\n        case 'B':\r\n        case 'H':\r\n            return this.selectKey(59);\r\n        case 'b':\r\n        case 'h':\r\n            return this.selectKey(71);\r\n        default:\r\n            nop();\r\n        }\r\n    }\r\n};\r\n\r\nPianoMenuMorph.prototype.selectUp = function () {\r\n    var next = 48;\r\n    if (this.selection) {\r\n        next = this.selection.action + 1;\r\n        if (next > 72) {\r\n            next = 48;\r\n        }\r\n    }\r\n    this.selectKey(next);\r\n};\r\n\r\nPianoMenuMorph.prototype.selectDown = function () {\r\n    var next = 48;\r\n    if (this.selection) {\r\n        next = this.selection.action - 1;\r\n        if (next < 48) {\r\n            next = 72;\r\n        }\r\n    }\r\n    this.selectKey(next);\r\n};\r\n\r\nPianoMenuMorph.prototype.destroy = function () {\r\n    this.children.forEach(function (key) {\r\n        if (key.note) {\r\n            key.note.stop();\r\n        }\r\n    });\r\n    PianoMenuMorph.uber.destroy.call(this);\r\n};\r\n\r\n\r\n// PianoKeyMorph ///////////////////////////////////////////////////////\r\n\r\nPianoKeyMorph.prototype = new MenuItemMorph();\r\nPianoKeyMorph.prototype.constructor = PianoKeyMorph;\r\nPianoKeyMorph.uber = MenuItemMorph.prototype;\r\n\r\nfunction PianoKeyMorph(\r\n    target,\r\n    action,\r\n    labelString, // can also be a Morph or a Canvas or a tuple: [icon, string]\r\n    fontSize,\r\n    fontStyle,\r\n    environment,\r\n    hint,\r\n    color,\r\n    bold,\r\n    italic,\r\n    doubleClickAction, // optional when used as list morph item\r\n    label\r\n) {\r\n    this.init(\r\n        target,\r\n        action,\r\n        labelString,\r\n        fontSize,\r\n        fontStyle,\r\n        environment,\r\n        hint,\r\n        color,\r\n        bold,\r\n        italic,\r\n        doubleClickAction,\r\n        label\r\n    );\r\n    this.feedback = label;\r\n}\r\n\r\nPianoKeyMorph.prototype.init = function (\r\n    target,\r\n    action,\r\n    labelString,\r\n    fontSize,\r\n    fontStyle,\r\n    environment,\r\n    hint,\r\n    color,\r\n    bold,\r\n    italic,\r\n    doubleClickAction,\r\n    label\r\n) {\r\n    // additional \"note\" property for sound output:\r\n    this.note = new Note(action);\r\n    PianoKeyMorph.uber.init.call(\r\n        this,\r\n        target,\r\n        action,\r\n        labelString,\r\n        fontSize,\r\n        fontStyle,\r\n        environment,\r\n        hint,\r\n        color,\r\n        bold,\r\n        italic,\r\n        doubleClickAction,\r\n        label\r\n    );\r\n};\r\n\r\nPianoKeyMorph.prototype.createLabel = function () {\r\n    var icon;\r\n    if (this.label !== null) {\r\n        this.label.destroy();\r\n    }\r\n    // assume its pattern is: [icon, string]\r\n    this.label = new Morph();\r\n    icon = this.createIcon(this.labelString[0]);\r\n    this.label.add(icon);\r\n    this.label.drawNew();\r\n    this.silentSetExtent(icon.extent());\r\n    this.label.bounds = this.position().extent(this.label.extent());\r\n    this.label.silentSetExtent(new Point(0, 0));\r\n    this.add(this.label);\r\n};\r\n\r\nPianoKeyMorph.prototype.mouseEnter = function () {\r\n    var piano = this.parentThatIsA(PianoMenuMorph),\r\n        soundType = piano ? piano.soundType : 1,\r\n        myself = this;\r\n    if (piano) {\r\n        piano.unselectAllItems();\r\n        piano.selection = this;\r\n        piano.world.keyboardReceiver = piano;\r\n        piano.hasFocus = true;\r\n    }\r\n    this.label.children[0].hide();\r\n    this.image = this.highlightImage;\r\n    this.changed();\r\n    this.feedback.text = this.labelString[1];\r\n    this.feedback.changed();\r\n    this.feedback.drawNew();\r\n    this.feedback.changed();\r\n    this.note.play(soundType);\r\n    setTimeout(\r\n        function () {\r\n            myself.note.stop();\r\n        },\r\n        400\r\n    );\r\n};\r\n\r\nPianoKeyMorph.prototype.mouseLeave = function () {\r\n    this.note.stop();\r\n    this.label.children[0].show();\r\n    this.image = this.normalImage;\r\n    this.changed();\r\n};\r\n// fin de Widgets\r\n/*\r\n\r\n    blocks.js\r\n\r\n    a programming construction kit\r\n    based on morphic.js\r\n    inspired by Scratch\r\n\r\n    written by Jens Mönig\r\n    jens@moenig.org\r\n\r\n    Copyright (C) 2017 by Jens Mönig\r\n\r\n    This file is part of Snap!.\r\n\r\n    Snap! is free software: you can redistribute it and/or modify\r\n    it under the terms of the GNU Affero General Public License as\r\n    published by the Free Software Foundation, either version 3 of\r\n    the License, or (at your option) any later version.\r\n\r\n    This program is distributed in the hope that it will be useful,\r\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n    GNU Affero General Public License for more details.\r\n\r\n    You should have received a copy of the GNU Affero General Public License\r\n    along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n\r\n\r\n    prerequisites:\r\n    --------------\r\n    needs morphic.js and symbols.js\r\n\r\n\r\n    hierarchy\r\n    ---------\r\n    the following tree lists all constructors hierarchically,\r\n    indentation indicating inheritance. Refer to this list to get a\r\n    contextual overview:\r\n\r\n        Morph*\r\n            ArrowMorph\r\n            BlockHighlightMorph\r\n            ScriptsMorph\r\n            SyntaxElementMorph\r\n                ArgMorph\r\n                    ArgLabelMorph\r\n                    BooleanSlotMorph\r\n                    ColorSlotMorph\r\n                    CommandSlotMorph\r\n                        CSlotMorph\r\n                        RingCommandSlotMorph\r\n                    FunctionSlotMorph\r\n                        ReporterSlotMorph\r\n                            RingReporterSlotMorph\r\n                    InputSlotMorph\r\n                        TextSlotMorph\r\n                    MultiArgMorph\r\n                    TemplateSlotMorph\r\n                BlockMorph\r\n                    CommandBlockMorph\r\n                        HatBlockMorph\r\n                    ReporterBlockMorph\r\n                        RingMorph\r\n        BoxMorph*\r\n            CommentMorph\r\n            ScriptFocusMorph\r\n\r\n    * from morphic.js\r\n\r\n\r\n    toc\r\n    ---\r\n    the following list shows the order in which all constructors are\r\n    defined. Use this list to locate code in this document:\r\n\r\n        SyntaxElementMorph\r\n        BlockMorph\r\n        CommandBlockMorph\r\n        HatBlockMorph\r\n        ReporterBlockMorph\r\n        RingMorph\r\n        ScriptsMorph\r\n        ArgMorph\r\n        CommandSlotMorph\r\n        RingCommandSlotMorph\r\n        CSlotMorph\r\n        InputSlotMorph\r\n        BooleanSlotMorph\r\n        ArrowMorph\r\n        TextSlotMorph\r\n        ColorSlotMorph\r\n        TemplateSlotMorph\r\n        BlockHighlightMorph\r\n        MultiArgMorph\r\n        ArgLabelMorph\r\n        FunctionSlotMorph\r\n        ReporterSlotMorph\r\n        RingReporterSlotMorph\r\n        CommentMorph\r\n\r\n\r\n    structure of syntax elements\r\n    ----------------------------\r\n    the structure of syntax elements is identical with their morphic\r\n    tree. There are, however, accessor methods to get (only) the\r\n    parts which are relevant for evaluation wherever appropriate.\r\n\r\n    In Scratch/BYOB every sprite and the stage has its own \"blocks bin\",\r\n    an instance of ScriptsMorph (we're going to name it differently in\r\n    Snap, probably just \"scripts\").\r\n\r\n    At the top most level blocks are assembled into stacks in ScriptsMorph\r\n    instances. A ScriptsMorph contains nothing but blocks, therefore\r\n    every child of a ScriptsMorph is expected to be a block.\r\n\r\n    Each block contains:\r\n\r\n        selector    - indicating the name of the function it triggers,\r\n\r\n    Its arguments are first evaluated and then passed along    as the\r\n    selector is called. Arguments can be either instances of ArgMorph\r\n    or ReporterBlockMorph. The getter method for a block's arguments is\r\n\r\n        inputs()    - gets an array of arg morphs and/or reporter blocks\r\n\r\n    in addition to inputs, command blocks also know their\r\n\r\n        nextBlock()    - gets the block attached to the receiver's bottom\r\n\r\n    and the block they're attached to - if any: Their parent.\r\n\r\n    please also refer to the high-level comment at the beginning of each\r\n    constructor for further details.\r\n*/\r\n\r\n/*global Array, BoxMorph,\r\nColor, ColorPaletteMorph, FrameMorph, Function, HandleMorph, Math, MenuMorph,\r\nMorph, MorphicPreferences, Object, Point, ScrollFrameMorph, ShadowMorph,\r\nString, StringMorph, TextMorph, contains, degrees, detect, PianoMenuMorph,\r\ndocument, getDocumentPositionOf, isNaN, isString, newCanvas, nop, parseFloat,\r\nradians, useBlurredShadows, SpeechBubbleMorph, modules, StageMorph, Sound,\r\nfontHeight, TableFrameMorph, SpriteMorph, Context, ListWatcherMorph,\r\nCellMorph, DialogBoxMorph, BlockInputFragmentMorph, PrototypeHatBlockMorph,\r\nCostume, IDE_Morph, BlockDialogMorph, BlockEditorMorph, localize, isNil,\r\nisSnapObject, PushButtonMorph, SpriteIconMorph, Process, AlignmentMorph,\r\nCustomCommandBlockMorph, SymbolMorph, ToggleButtonMorph*/\r\n\r\n// Global stuff ////////////////////////////////////////////////////////\r\n\r\nmodules.blocks = '2017-November-16';\r\n\r\nvar SyntaxElementMorph;\r\nvar BlockMorph;\r\nvar CommandBlockMorph;\r\nvar ReporterBlockMorph;\r\nvar ScriptsMorph;\r\nvar ArgMorph;\r\nvar CommandSlotMorph;\r\nvar CSlotMorph;\r\nvar InputSlotMorph;\r\nvar BooleanSlotMorph;\r\nvar ArrowMorph;\r\nvar ColorSlotMorph;\r\nvar HatBlockMorph;\r\nvar BlockHighlightMorph;\r\nvar MultiArgMorph;\r\nvar TemplateSlotMorph;\r\nvar FunctionSlotMorph;\r\nvar ReporterSlotMorph;\r\nvar RingMorph;\r\nvar RingCommandSlotMorph;\r\nvar RingReporterSlotMorph;\r\nvar CommentMorph;\r\nvar ArgLabelMorph;\r\nvar TextSlotMorph;\r\nvar ScriptFocusMorph;\r\n\r\n// SyntaxElementMorph //////////////////////////////////////////////////\r\n\r\n// I am the ancestor of all blocks and input slots\r\n\r\n// SyntaxElementMorph inherits from Morph:\r\n\r\nSyntaxElementMorph.prototype = new Morph();\r\nSyntaxElementMorph.prototype.constructor = SyntaxElementMorph;\r\nSyntaxElementMorph.uber = Morph.prototype;\r\n\r\n// SyntaxElementMorph preferences settings:\r\n\r\n/*\r\n    the following settings govern the appearance of all syntax elements\r\n    (blocks and slots) where applicable:\r\n\r\n    outline:\r\n\r\n        corner      - radius of command block rounding\r\n        rounding    - radius of reporter block rounding\r\n        edge        - width of 3D-ish shading box\r\n        hatHeight   - additional top space for hat blocks\r\n        hatWidth    - minimum width for hat blocks\r\n        rfBorder    - pixel width of reification border (grey outline)\r\n        minWidth    - minimum width for any syntax element's contents\r\n\r\n    jigsaw shape:\r\n\r\n        inset       - distance from indentation to left edge\r\n        dent        - width of indentation bottom\r\n\r\n    paddings:\r\n\r\n        bottomPadding   - adds to the width of the bottom most c-slot\r\n        cSlotPadding    - adds to the width of the open \"C\" in c-slots\r\n        typeInPadding   - adds pixels between text and edge in input slots\r\n        labelPadding    - adds left/right pixels to block labels\r\n\r\n    label:\r\n\r\n        labelFontName       - <string> specific font family name\r\n        labelFontStyle      - <string> generic font family name, cascaded\r\n        fontSize            - duh\r\n        embossing           - <Point> offset for embossing effect\r\n        labelWidth          - column width, used for word wrapping\r\n        labelWordWrap       - <bool> if true labels can break after each word\r\n        dynamicInputLabels  - <bool> if true inputs can have dynamic labels\r\n\r\n    snapping:\r\n\r\n        feedbackColor       - <Color> for displaying drop feedbacks\r\n        feedbackMinHeight   - height of white line for command block snaps\r\n        minSnapDistance     - threshold when commands start snapping\r\n        reporterDropFeedbackPadding  - increases reporter drop feedback\r\n\r\n    color gradients:\r\n\r\n        contrast        - <percent int> 3D-ish shading gradient contrast\r\n        labelContrast   - <percent int> 3D-ish label shading contrast\r\n        activeHighlight - <Color> for stack highlighting when active\r\n        errorHighlight  - <Color> for error highlighting\r\n        activeBlur      - <pixels int> shadow for blurred activeHighlight\r\n        activeBorder    - <pixels int> unblurred activeHighlight\r\n        rfColor         - <Color> for reified outlines and slot backgrounds\r\n*/\r\n\r\nSyntaxElementMorph.prototype.setScale = function (num) {\r\n    var scale = Math.min(Math.max(num, 1), 25);\r\n    this.scale = scale;\r\n    this.corner = 3 * scale;\r\n    this.rounding = 9 * scale;\r\n    this.edge = 1.000001 * scale;\r\n    this.inset = 6 * scale;\r\n    this.hatHeight = 12 * scale;\r\n    this.hatWidth = 70 * scale;\r\n    this.rfBorder = 3 * scale;\r\n    this.minWidth = 0;\r\n    this.dent = 8 * scale;\r\n    this.bottomPadding = 3 * scale;\r\n    this.cSlotPadding = 4 * scale;\r\n    this.typeInPadding = scale;\r\n    this.labelPadding = 4 * scale;\r\n    this.labelFontName = 'Verdana';\r\n    this.labelFontStyle = 'sans-serif';\r\n    this.fontSize = 10 * scale;\r\n    this.embossing = new Point(\r\n        -1 * Math.max(scale / 2, 1),\r\n        -1 * Math.max(scale / 2, 1)\r\n    );\r\n    this.labelWidth = 450 * scale;\r\n    this.labelWordWrap = true;\r\n    this.dynamicInputLabels = true;\r\n    this.feedbackColor = new Color(255, 255, 255);\r\n    this.feedbackMinHeight = 5;\r\n    this.minSnapDistance = 20;\r\n    this.reporterDropFeedbackPadding = 10 * scale;\r\n    this.contrast = 65;\r\n    this.labelContrast = 25;\r\n    this.activeHighlight = new Color(153, 255, 213);\r\n    this.errorHighlight = new Color(173, 15, 0);\r\n    this.activeBlur = 20;\r\n    this.activeBorder = 4;\r\n    this.rfColor = new Color(120, 120, 120);\r\n};\r\n\r\nSyntaxElementMorph.prototype.setScale(1);\r\nSyntaxElementMorph.prototype.isCachingInputs = false;\r\n\r\n// SyntaxElementMorph instance creation:\r\n\r\nfunction SyntaxElementMorph() {\r\n    this.init();\r\n}\r\n\r\nSyntaxElementMorph.prototype.init = function (silently) {\r\n    this.cachedClr = null;\r\n    this.cachedClrBright = null;\r\n    this.cachedClrDark = null;\r\n    this.cachedNormalColor = null; // for single-stepping\r\n    this.isStatic = false; // if true, I cannot be exchanged\r\n\r\n    SyntaxElementMorph.uber.init.call(this, silently);\r\n\r\n    this.defaults = [];\r\n    this.cachedInputs = null;\r\n};\r\n\r\n// SyntaxElementMorph accessing:\r\n\r\nSyntaxElementMorph.prototype.parts = function () {\r\n    // answer my non-crontrol submorphs\r\n    var nb = null;\r\n    if (this.nextBlock) { // if I am a CommandBlock or a HatBlock\r\n        nb = this.nextBlock();\r\n    }\r\n    return this.children.filter(function (child) {\r\n        return (child !== nb)\r\n            && !(child instanceof ShadowMorph)\r\n            && !(child instanceof BlockHighlightMorph);\r\n    });\r\n};\r\n\r\nSyntaxElementMorph.prototype.inputs = function () {\r\n    // answer my arguments and nested reporters\r\n    if (isNil(this.cachedInputs) || !this.isCachingInputs) {\r\n        this.cachedInputs = this.parts().filter(function (part) {\r\n            return part instanceof SyntaxElementMorph;\r\n        });\r\n    }\r\n    // this.debugCachedInputs();\r\n    return this.cachedInputs;\r\n};\r\n\r\nSyntaxElementMorph.prototype.debugCachedInputs = function () {\r\n    // private - only used for manually debugging inputs caching\r\n    var realInputs, i;\r\n    if (!isNil(this.cachedInputs)) {\r\n        realInputs = this.parts().filter(function (part) {\r\n            return part instanceof SyntaxElementMorph;\r\n        });\r\n    }\r\n    if (this.cachedInputs.length !== realInputs.length) {\r\n        throw new Error('cached inputs size do not match: ' +\r\n            this.constructor.name);\r\n    }\r\n    for (i = 0; i < realInputs.length; i += 1) {\r\n        if (this.cachedInputs[i] !== realInputs[i]) {\r\n            throw new Error('cached input does not match: ' +\r\n                this.constructor.name +\r\n                ' #' +\r\n                i +\r\n                ' ' +\r\n                this.cachedInputs[i].constructor.name +\r\n                ' != ' +\r\n                realInputs[i].constructor.name);\r\n        }\r\n    }\r\n};\r\n\r\nSyntaxElementMorph.prototype.allInputs = function () {\r\n    // answer arguments and nested reporters of all children\r\n    var myself = this;\r\n    return this.allChildren().slice(0).reverse().filter(\r\n        function (child) {\r\n            return (child instanceof ArgMorph) ||\r\n                (child instanceof ReporterBlockMorph &&\r\n                child !== myself);\r\n        }\r\n    );\r\n};\r\n\r\nSyntaxElementMorph.prototype.allEmptySlots = function () {\r\n    // answer empty input slots of all children excluding myself,\r\n    // but omit those in nested rings (lambdas) and JS-Function primitives.\r\n    // Used by the evaluator when binding implicit formal parameters\r\n    // to empty input slots\r\n    var empty = [];\r\n    if (!(this instanceof RingMorph) &&\r\n            (this.selector !== 'reportJSFunction')) {\r\n        this.children.forEach(function (morph) {\r\n            if (morph.isEmptySlot && morph.isEmptySlot()) {\r\n                empty.push(morph);\r\n            } else if (morph.allEmptySlots) {\r\n                empty = empty.concat(morph.allEmptySlots());\r\n            }\r\n        });\r\n    }\r\n    return empty;\r\n};\r\n\r\nSyntaxElementMorph.prototype.tagExitBlocks = function (stopTag, isCommand) {\r\n    // tag 'report' and 'stop this block' blocks of all children including\r\n    // myself, with either a stopTag (for \"stop\" blocks) or an indicator of\r\n    // being inside a command block definition, but omit those in nested\r\n    // rings (lambdas. Used by the evaluator when entering a procedure\r\n    if (this.selector === 'doReport') {\r\n        this.partOfCustomCommand = isCommand;\r\n    } else if (this.selector === 'doStopThis') {\r\n        this.exitTag = stopTag;\r\n    } else {\r\n        if (!(this instanceof RingMorph)) {\r\n            this.children.forEach(function (morph) {\r\n                if (morph.tagExitBlocks) {\r\n                    morph.tagExitBlocks(stopTag, isCommand);\r\n                }\r\n            });\r\n        }\r\n    }\r\n};\r\n\r\nSyntaxElementMorph.prototype.replaceInput = function (oldArg, newArg) {\r\n    var scripts = this.parentThatIsA(ScriptsMorph),\r\n        replacement = newArg,\r\n        idx = this.children.indexOf(oldArg),\r\n        i = 0;\r\n\r\n    // try to find the ArgLabel embedding the newArg,\r\n    // used for the undrop() feature\r\n    if (idx === -1 && newArg instanceof MultiArgMorph) {\r\n        this.children.forEach(function (morph) {\r\n            if (morph instanceof ArgLabelMorph &&\r\n                    morph.argMorph() === oldArg) {\r\n                idx = i;\r\n            }\r\n            i += 1;\r\n        });\r\n    }\r\n\r\n    if ((idx === -1) || (scripts === null)) {\r\n        return null;\r\n    }\r\n\r\n    if (oldArg.cachedSlotSpec) {oldArg.cachedSlotSpec = null; }\r\n    if (newArg.cachedSlotSpec) {newArg.cachedSlotSpec = null; }\r\n\r\n    this.startLayout();\r\n    if (newArg.parent) {\r\n        newArg.parent.removeChild(newArg);\r\n    }\r\n    if (oldArg instanceof MultiArgMorph) {\r\n        oldArg.inputs().forEach(function (inp) { // preserve nested reporters\r\n            oldArg.replaceInput(inp, new InputSlotMorph());\r\n        });\r\n        if (this.dynamicInputLabels) {\r\n            replacement = new ArgLabelMorph(newArg);\r\n        }\r\n    }\r\n    replacement.parent = this;\r\n    this.children[idx] = replacement;\r\n    if (oldArg instanceof ReporterBlockMorph) {\r\n        if (!(oldArg instanceof RingMorph)\r\n                || (oldArg instanceof RingMorph && oldArg.contents())) {\r\n            scripts.add(oldArg);\r\n            oldArg.moveBy(replacement.extent());\r\n            oldArg.fixBlockColor();\r\n        }\r\n    }\r\n    if (replacement instanceof MultiArgMorph\r\n            || replacement instanceof ArgLabelMorph\r\n            || replacement.constructor === CommandSlotMorph) {\r\n        replacement.fixLayout();\r\n        if (this.fixLabelColor) { // special case for variadic continuations\r\n            this.fixLabelColor();\r\n        }\r\n    } else {\r\n        replacement.drawNew();\r\n        this.fixLayout();\r\n    }\r\n    this.cachedInputs = null;\r\n    this.endLayout();\r\n};\r\n\r\nSyntaxElementMorph.prototype.silentReplaceInput = function (oldArg, newArg) {\r\n    // used by the Serializer or when programatically\r\n    // changing blocks\r\n    var i = this.children.indexOf(oldArg),\r\n        replacement;\r\n\r\n    if (i === -1) {\r\n        return;\r\n    }\r\n\r\n    if (oldArg.cachedSlotSpec) {oldArg.cachedSlotSpec = null; }\r\n    if (newArg.cachedSlotSpec) {newArg.cachedSlotSpec = null; }\r\n\r\n    if (newArg.parent) {\r\n        newArg.parent.removeChild(newArg);\r\n    }\r\n    if (oldArg instanceof MultiArgMorph && this.dynamicInputLabels) {\r\n        replacement = new ArgLabelMorph(newArg);\r\n    } else {\r\n        replacement = newArg;\r\n    }\r\n    replacement.parent = this;\r\n    this.children[i] = replacement;\r\n\r\n    if (replacement instanceof MultiArgMorph\r\n            || replacement instanceof ArgLabelMorph\r\n            || replacement.constructor === CommandSlotMorph) {\r\n        replacement.fixLayout();\r\n        if (this.fixLabelColor) { // special case for variadic continuations\r\n            this.fixLabelColor();\r\n        }\r\n    } else {\r\n        replacement.drawNew();\r\n        this.fixLayout();\r\n    }\r\n    this.cachedInputs = null;\r\n};\r\n\r\nSyntaxElementMorph.prototype.revertToDefaultInput = function (arg, noValues) {\r\n    var idx = this.parts().indexOf(arg),\r\n        inp = this.inputs().indexOf(arg),\r\n        deflt = new InputSlotMorph(),\r\n        def;\r\n\r\n    if (idx !== -1) {\r\n        if (this instanceof BlockMorph) {\r\n            deflt = this.labelPart(this.parseSpec(this.blockSpec)[idx]);\r\n            if (this.isCustomBlock) {\r\n                def = this.isGlobal ? this.definition\r\n                        : this.scriptTarget().getMethod(this.blockSpec);\r\n                if (deflt instanceof InputSlotMorph) {\r\n                    deflt.setChoices.apply(\r\n                        deflt,\r\n                        def.inputOptionsOfIdx(inp)\r\n                    );\r\n                }\r\n                if (deflt instanceof InputSlotMorph ||\r\n                    (deflt instanceof BooleanSlotMorph)\r\n                ) {\r\n                    deflt.setContents(\r\n                        def.defaultValueOfInputIdx(inp)\r\n                    );\r\n                }\r\n            }\r\n        } else if (this instanceof MultiArgMorph) {\r\n            deflt = this.labelPart(this.slotSpec);\r\n        } else if (this instanceof ReporterSlotMorph) {\r\n            deflt = this.emptySlot();\r\n        }\r\n    }\r\n    // set default value\r\n    if (!noValues) {\r\n        if (inp !== -1) {\r\n            if (deflt instanceof MultiArgMorph) {\r\n                deflt.setContents(this.defaults);\r\n                deflt.defaults = this.defaults;\r\n            } else if (!isNil(this.defaults[inp])) {\r\n                deflt.setContents(this.defaults[inp]);\r\n            }\r\n        }\r\n    }\r\n    this.silentReplaceInput(arg, deflt);\r\n    if (deflt instanceof MultiArgMorph) {\r\n        deflt.refresh();\r\n    } else if (deflt instanceof RingMorph) {\r\n        deflt.fixBlockColor();\r\n    }\r\n    this.cachedInputs = null;\r\n};\r\n\r\nSyntaxElementMorph.prototype.isLocked = function () {\r\n    // answer true if I can be exchanged by a dropped reporter\r\n    return this.isStatic;\r\n};\r\n\r\n// SyntaxElementMorph enumerating:\r\n\r\nSyntaxElementMorph.prototype.topBlock = function () {\r\n    if (this.parent && this.parent.topBlock) {\r\n        return this.parent.topBlock();\r\n    }\r\n    return this;\r\n};\r\n\r\n// SyntaxElementMorph reachable variables\r\n\r\nSyntaxElementMorph.prototype.getVarNamesDict = function () {\r\n    var block = this.parentThatIsA(BlockMorph),\r\n        rcvr,\r\n        tempVars = [],\r\n        dict;\r\n\r\n    if (!block) {\r\n        return {};\r\n    }\r\n    rcvr = block.scriptTarget();\r\n    block.allParents().forEach(function (morph) {\r\n        if (morph instanceof PrototypeHatBlockMorph) {\r\n            tempVars.push.apply(\r\n                tempVars,\r\n                morph.variableNames()\r\n            );\r\n            tempVars.push.apply(\r\n                tempVars,\r\n                morph.inputs()[0].inputFragmentNames()\r\n            );\r\n        } else if (morph instanceof BlockMorph) {\r\n            morph.inputs().forEach(function (inp) {\r\n                if (inp instanceof TemplateSlotMorph) {\r\n                    tempVars.push(inp.contents());\r\n                } else if (inp instanceof MultiArgMorph) {\r\n                    inp.children.forEach(function (m) {\r\n                        if (m instanceof TemplateSlotMorph) {\r\n                            tempVars.push(m.contents());\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    });\r\n    if (rcvr) {\r\n        dict = rcvr.variables.allNamesDict();\r\n        tempVars.forEach(function (name) {\r\n            dict[name] = name;\r\n        });\r\n        return dict;\r\n    }\r\n    return {};\r\n};\r\n\r\n// Variable refactoring\r\n\r\nSyntaxElementMorph.prototype.refactorVarInStack = function (\r\n    oldName,\r\n    newName,\r\n    isScriptVar\r\n) {\r\n    // Rename all oldName var occurrences found in this block stack into newName\r\n    // taking care of not being too greedy\r\n\r\n    if ((this instanceof RingMorph && contains(this.inputNames(), oldName))\r\n            || (!isScriptVar && this.definesScriptVariable(oldName))) {\r\n        return;\r\n    }\r\n\r\n    if (this.selector === 'reportGetVar'\r\n            && this.blockSpec === oldName) {\r\n        this.setSpec(newName);\r\n        this.fullChanged();\r\n        this.fixLabelColor();\r\n    }\r\n\r\n    if (this.choices === 'getVarNamesDict'\r\n            && this.contents().text === oldName) {\r\n        this.setContents(newName);\r\n    }\r\n\r\n    if (this instanceof CustomCommandBlockMorph\r\n            && this.definition.body\r\n            && isNil(this.definition.declarations[oldName])\r\n            && !contains(this.definition.variableNames, oldName)) {\r\n        this.definition.body.expression.refactorVarInStack(oldName, newName);\r\n    }\r\n\r\n    this.inputs().forEach(function (input) {\r\n        input.refactorVarInStack(oldName, newName);\r\n    });\r\n\r\n    if (this.nextBlock) {\r\n        var nb = this.nextBlock();\r\n        if (nb) {\r\n            nb.refactorVarInStack(oldName, newName);\r\n        }\r\n    }\r\n};\r\n\r\nSyntaxElementMorph.prototype.definesScriptVariable = function (name) {\r\n    // Returns true if this block is defining either a script local var or\r\n    // an upVar called `name`\r\n    return ((this.selector === 'doDeclareVariables'\r\n                || (this.blockSpec && this.blockSpec.match('%upvar')))\r\n            && (detect(this.inputs()[0].allInputs(), function (input) {\r\n                return (input.selector === 'reportGetVar'\r\n                        && input.blockSpec === name);\r\n            })));\r\n};\r\n\r\n// SyntaxElementMorph copy-on-write support:\r\n\r\nSyntaxElementMorph.prototype.selectForEdit = function () {\r\n    var scripts = this.parentThatIsA(ScriptsMorph),\r\n        ide = this.parentThatIsA(IDE_Morph),\r\n        rcvr = ide ? ide.currentSprite : null,\r\n        selected;\r\n    if (scripts && rcvr && rcvr.inheritsAttribute('scripts')) {\r\n        // copy on write:\r\n        this.selectionID = true;\r\n        rcvr.shadowAttribute('scripts');\r\n        selected = detect(rcvr.scripts.allChildren(), function (m) {\r\n            return m.selectionID;\r\n        });\r\n        delete this.selectionID;\r\n        delete selected.selectionID;\r\n        return selected;\r\n    }\r\n    return this;\r\n};\r\n\r\n// SyntaxElementMorph drag & drop:\r\n\r\nSyntaxElementMorph.prototype.reactToGrabOf = function (grabbedMorph) {\r\n    var topBlock = this.topBlock(),\r\n        affected;\r\n    if (grabbedMorph instanceof CommandBlockMorph) {\r\n        affected = this.parentThatIsA(CommandSlotMorph);\r\n        if (affected) {\r\n            this.startLayout();\r\n            affected.fixLayout();\r\n            this.endLayout();\r\n        }\r\n    }\r\n    if (topBlock) {\r\n        topBlock.allComments().forEach(function (comment) {\r\n            comment.align(topBlock);\r\n        });\r\n        if (topBlock.getHighlight()) {\r\n            topBlock.addHighlight(topBlock.removeHighlight());\r\n        }\r\n    }\r\n};\r\n\r\n// SyntaxElementMorph 3D - border color rendering:\r\n\r\nSyntaxElementMorph.prototype.bright = function () {\r\n    return this.color.lighter(this.contrast).toString();\r\n};\r\n\r\nSyntaxElementMorph.prototype.dark = function () {\r\n    return this.color.darker(this.contrast).toString();\r\n};\r\n\r\n// SyntaxElementMorph color changing:\r\n\r\nSyntaxElementMorph.prototype.setColor = function (aColor, silently) {\r\n    if (aColor) {\r\n        if (!this.color.eq(aColor)) {\r\n            this.color = aColor;\r\n            if (!silently) {this.drawNew(); }\r\n            this.children.forEach(function (child) {\r\n                if ((!silently || child instanceof TemplateSlotMorph) &&\r\n                \t\t!(child instanceof BlockHighlightMorph)) {\r\n                    child.drawNew();\r\n                    child.changed();\r\n                }\r\n            });\r\n            this.changed();\r\n        }\r\n    }\r\n};\r\n\r\nSyntaxElementMorph.prototype.setLabelColor = function (\r\n    textColor,\r\n    shadowColor,\r\n    shadowOffset\r\n) {\r\n    this.children.forEach(function (morph) {\r\n        if (morph instanceof StringMorph && !morph.isProtectedLabel) {\r\n            morph.shadowOffset = shadowOffset || morph.shadowOffset;\r\n            morph.shadowColor = shadowColor || morph.shadowColor;\r\n            morph.setColor(textColor);\r\n        } else if (morph instanceof MultiArgMorph\r\n                || morph instanceof ArgLabelMorph\r\n                || (morph instanceof SymbolMorph && !morph.isProtectedLabel)\r\n                || (morph instanceof InputSlotMorph\r\n                    && morph.isReadOnly)) {\r\n            morph.setLabelColor(textColor, shadowColor, shadowOffset);\r\n        }\r\n    });\r\n};\r\n\r\nSyntaxElementMorph.prototype.flash = function () {\r\n    if (!this.cachedNormalColor) {\r\n        this.cachedNormalColor = this.color;\r\n        this.setColor(this.activeHighlight);\r\n    }\r\n};\r\n\r\nSyntaxElementMorph.prototype.unflash = function () {\r\n    if (this.cachedNormalColor) {\r\n        var clr = this.cachedNormalColor;\r\n        this.cachedNormalColor = null;\r\n        this.setColor(clr);\r\n    }\r\n};\r\n\r\n// SyntaxElementMorph zebra coloring\r\n\r\nSyntaxElementMorph.prototype.fixBlockColor = function (\r\n    nearestBlock,\r\n    isForced\r\n) {\r\n    this.children.forEach(function (morph) {\r\n        if (morph instanceof SyntaxElementMorph) {\r\n            morph.fixBlockColor(nearestBlock, isForced);\r\n        }\r\n    });\r\n};\r\n\r\n// SyntaxElementMorph label parts:\r\n\r\nSyntaxElementMorph.prototype.labelPart = function (spec) {\r\n    var part, tokens;\r\n    if (spec[0] === '%' &&\r\n            spec.length > 1 &&\r\n            (this.selector !== 'reportGetVar' ||\r\n                (spec === '%turtleOutline' && this.isObjInputFragment()))) {\r\n\r\n        // check for variable multi-arg-slot:\r\n        if ((spec.length > 5) && (spec.slice(0, 5) === '%mult')) {\r\n            part = new MultiArgMorph(spec.slice(5));\r\n            part.addInput();\r\n            return part;\r\n        }\r\n\r\n        // single-arg and specialized multi-arg slots:\r\n        switch (spec) {\r\n        case '%imgsource':\r\n            part = new InputSlotMorph(\r\n                null, // text\r\n                false, // non-numeric\r\n                {\r\n                    'pen trails': ['pen trails'],\r\n                    'stage image': ['stage image']\r\n                },\r\n                true\r\n            );\r\n            part.setContents(['pen trails']);\r\n            break;\r\n        case '%inputs':\r\n            part = new MultiArgMorph('%s', 'with inputs');\r\n            part.isStatic = false;\r\n            part.canBeEmpty = false;\r\n            break;\r\n        case '%scriptVars':\r\n            part = new MultiArgMorph('%t', null, 1, spec);\r\n            part.canBeEmpty = false;\r\n            break;\r\n        case '%blockVars':\r\n            part = new MultiArgMorph('%t', 'block variables', 0, spec);\r\n            part.canBeEmpty = false;\r\n            break;\r\n        case '%parms':\r\n            part = new MultiArgMorph('%t', 'Input Names:', 0, spec);\r\n            part.canBeEmpty = false;\r\n            break;\r\n        case '%ringparms':\r\n            part = new MultiArgMorph(\r\n                '%t',\r\n                'input names:',\r\n                0,\r\n                spec\r\n            );\r\n            break;\r\n        case '%cmdRing':\r\n            part = new RingMorph();\r\n            part.color = SpriteMorph.prototype.blockColor.other;\r\n            part.selector = 'reifyScript';\r\n            part.setSpec('%rc %ringparms');\r\n            part.isDraggable = true;\r\n            break;\r\n        case '%repRing':\r\n            part = new RingMorph();\r\n            part.color = SpriteMorph.prototype.blockColor.other;\r\n            part.selector = 'reifyReporter';\r\n            part.setSpec('%rr %ringparms');\r\n            part.isDraggable = true;\r\n            part.isStatic = true;\r\n            break;\r\n        case '%predRing':\r\n            part = new RingMorph(true);\r\n            part.color = SpriteMorph.prototype.blockColor.other;\r\n            part.selector = 'reifyPredicate';\r\n            part.setSpec('%rp %ringparms');\r\n            part.isDraggable = true;\r\n            part.isStatic = true;\r\n            break;\r\n        case '%words':\r\n            part = new MultiArgMorph('%s', null, 0);\r\n            part.addInput(); // allow for default value setting\r\n            part.addInput(); // allow for default value setting\r\n            part.isStatic = false;\r\n            break;\r\n        case '%exp':\r\n            part = new MultiArgMorph('%s', null, 0);\r\n            part.addInput();\r\n            part.isStatic = true;\r\n            part.canBeEmpty = false;\r\n            break;\r\n        case '%br':\r\n            part = new Morph();\r\n            part.setExtent(new Point(0, 0));\r\n            part.isBlockLabelBreak = true;\r\n            part.getSpec = function () {\r\n                return '%br';\r\n            };\r\n            break;\r\n        case '%inputName':\r\n            part = new ReporterBlockMorph();\r\n            part.category = 'variables';\r\n            part.color = SpriteMorph.prototype.blockColor.variables;\r\n            part.setSpec(localize('Input name'));\r\n            break;\r\n        case '%s':\r\n            part = new InputSlotMorph();\r\n            break;\r\n        case '%anyUE':\r\n            part = new InputSlotMorph();\r\n            part.isUnevaluated = true;\r\n            break;\r\n        case '%txt':\r\n            part = new InputSlotMorph(); // supports whitespace dots\r\n            // part = new TextSlotMorph(); // multi-line, no whitespace dots\r\n            part.minWidth = part.height() * 1.7; // \"landscape\"\r\n            part.fixLayout();\r\n            break;\r\n        case '%mlt':\r\n            part = new TextSlotMorph();\r\n            part.fixLayout();\r\n            break;\r\n        case '%code':\r\n            part = new TextSlotMorph();\r\n            part.contents().fontName = 'monospace';\r\n            part.contents().fontStyle = 'monospace';\r\n            part.fixLayout();\r\n            break;\r\n        case '%obj':\r\n            part = new ArgMorph('object');\r\n            break;\r\n        case '%n':\r\n            part = new InputSlotMorph(null, true);\r\n            break;\r\n        case '%dir':\r\n            part = new InputSlotMorph(\r\n                null,\r\n                true,\r\n                {\r\n                    '(90) right' : 90,\r\n                    '(-90) left' : -90,\r\n                    '(0) up' : '0',\r\n                    '(180) down' : 180\r\n                }\r\n            );\r\n            part.setContents(90);\r\n            break;\r\n        case '%note':\r\n            part = new InputSlotMorph(\r\n                null, // test\r\n                true, // numeric\r\n                'pianoKeyboardMenu',\r\n                false // read-only\r\n            );\r\n            break;\r\n        case '%inst':\r\n            part = new InputSlotMorph(\r\n                null,\r\n                true,\r\n                {\r\n                    '(1) sine' : 1,\r\n                    '(2) square' : 2,\r\n                    '(3) sawtooth' : 3,\r\n                    '(4) triangle' : 4\r\n                }\r\n            );\r\n            part.setContents(1);\r\n            break;\r\n        case '%month':\r\n            part = new InputSlotMorph(\r\n                null, // text\r\n                false, // numeric?\r\n                {\r\n                    'January' : ['January'],\r\n                    'February' : ['February'],\r\n                    'March' : ['March'],\r\n                    'April' : ['April'],\r\n                    'May' : ['May'],\r\n                    'June' : ['June'],\r\n                    'July' : ['July'],\r\n                    'August' : ['August'],\r\n                    'September' : ['September'],\r\n                    'October' : ['October'],\r\n                    'November' : ['November'],\r\n                    'December' : ['December']\r\n                },\r\n                true // read-only\r\n            );\r\n            break;\r\n        case '%interaction':\r\n            part = new InputSlotMorph(\r\n                null, // text\r\n                false, // numeric?\r\n                {\r\n                    'clicked' : ['clicked'],\r\n                    'pressed' : ['pressed'],\r\n                    'dropped' : ['dropped'],\r\n                    'mouse-entered' : ['mouse-entered'],\r\n                    'mouse-departed' : ['mouse-departed']\r\n                },\r\n                true // read-only\r\n            );\r\n            part.isStatic = true;\r\n            break;\r\n        case '%dates':\r\n            part = new InputSlotMorph(\r\n                null, // text\r\n                false, // non-numeric\r\n                {\r\n                    'year' : ['year'],\r\n                    'month' : ['month'],\r\n                    'date' : ['date'],\r\n                    'day of week' : ['day of week'],\r\n                    'hour' : ['hour'],\r\n                    'minute' : ['minute'],\r\n                    'second' : ['second'],\r\n                    'time in milliseconds' : ['time in milliseconds']\r\n                },\r\n                true // read-only\r\n            );\r\n            part.setContents(['date']);\r\n            break;\r\n        case '%delim':\r\n            part = new InputSlotMorph(\r\n                null, // text\r\n                false, // numeric?\r\n                {\r\n                    'letter' : ['letter'],\r\n                    'whitespace' : ['whitespace'],\r\n                    'line' : ['line'],\r\n                    'tab' : ['tab'],\r\n                    'cr' : ['cr'],\r\n                    'csv' : ['csv']\r\n                },\r\n                false // read-only\r\n            );\r\n            break;\r\n        case '%ida':\r\n            part = new InputSlotMorph(\r\n                null,\r\n                true,\r\n                {\r\n                    '1' : 1,\r\n                    last : ['last'],\r\n                    '~' : null,\r\n                    all : ['all']\r\n                }\r\n            );\r\n            part.setContents(1);\r\n            break;\r\n        case '%idx':\r\n            part = new InputSlotMorph(\r\n                null,\r\n                true,\r\n                {\r\n                    '1' : 1,\r\n                    last : ['last'],\r\n                    any : ['any']\r\n                }\r\n            );\r\n            part.setContents(1);\r\n            break;\r\n        case '%spr':\r\n            part = new InputSlotMorph(\r\n                null,\r\n                false,\r\n                'objectsMenu',\r\n                true\r\n            );\r\n            break;\r\n        case '%col': // collision detection\r\n            part = new InputSlotMorph(\r\n                null,\r\n                false,\r\n                'collidablesMenu',\r\n                true\r\n            );\r\n            break;\r\n        case '%dst': // distance measuring\r\n            part = new InputSlotMorph(\r\n                null,\r\n                false,\r\n                'distancesMenu',\r\n                true\r\n            );\r\n            break;\r\n        case '%cln': // clones\r\n            part = new InputSlotMorph(\r\n                null,\r\n                false,\r\n                'clonablesMenu',\r\n                true\r\n            );\r\n            break;\r\n        case '%get': // sprites, parts, speciment, clones\r\n            part = new InputSlotMorph(\r\n                null,\r\n                false,\r\n                'gettablesMenu',\r\n                true\r\n            );\r\n            part.isStatic = true;\r\n            break;\r\n        case '%cst':\r\n            part = new InputSlotMorph(\r\n                null,\r\n                false,\r\n                'costumesMenu',\r\n                true\r\n            );\r\n            break;\r\n        case '%eff':\r\n            part = new InputSlotMorph(\r\n                null,\r\n                false,\r\n                {\r\n                    color: ['color'],\r\n                    fisheye: ['fisheye'],\r\n                    whirl: ['whirl'],\r\n                    pixelate: ['pixelate'],\r\n                    mosaic: ['mosaic'],\r\n                    duplicate: ['duplicate'],\r\n                    negative : ['negative'],\r\n                    comic: ['comic'],\r\n                    confetti: ['confetti'],\r\n                    saturation: ['saturation'],\r\n                    brightness : ['brightness'],\r\n                    ghost: ['ghost']\r\n                },\r\n                true\r\n            );\r\n            part.setContents(['ghost']);\r\n            break;\r\n        case '%snd':\r\n            part = new InputSlotMorph(\r\n                null,\r\n                false,\r\n                'soundsMenu',\r\n                true\r\n            );\r\n            break;\r\n        case '%key':\r\n            part = new InputSlotMorph(\r\n                null,\r\n                false,\r\n                {\r\n                    'any key' : ['any key'],\r\n                    'up arrow': ['up arrow'],\r\n                    'down arrow': ['down arrow'],\r\n                    'right arrow': ['right arrow'],\r\n                    'left arrow': ['left arrow'],\r\n                    space : ['space'],\r\n                    a : ['a'],\r\n                    b : ['b'],\r\n                    c : ['c'],\r\n                    d : ['d'],\r\n                    e : ['e'],\r\n                    f : ['f'],\r\n                    g : ['g'],\r\n                    h : ['h'],\r\n                    i : ['i'],\r\n                    j : ['j'],\r\n                    k : ['k'],\r\n                    l : ['l'],\r\n                    m : ['m'],\r\n                    n : ['n'],\r\n                    o : ['o'],\r\n                    p : ['p'],\r\n                    q : ['q'],\r\n                    r : ['r'],\r\n                    s : ['s'],\r\n                    t : ['t'],\r\n                    u : ['u'],\r\n                    v : ['v'],\r\n                    w : ['w'],\r\n                    x : ['x'],\r\n                    y : ['y'],\r\n                    z : ['z'],\r\n                    '0' : ['0'],\r\n                    '1' : ['1'],\r\n                    '2' : ['2'],\r\n                    '3' : ['3'],\r\n                    '4' : ['4'],\r\n                    '5' : ['5'],\r\n                    '6' : ['6'],\r\n                    '7' : ['7'],\r\n                    '8' : ['8'],\r\n                    '9' : ['9']\r\n                },\r\n                true\r\n            );\r\n            part.setContents(['space']);\r\n            break;\r\n        case '%keyHat':\r\n            part = this.labelPart('%key');\r\n            part.isStatic = true;\r\n            break;\r\n        case '%msg':\r\n            part = new InputSlotMorph(\r\n                null,\r\n                false,\r\n                'messagesMenu',\r\n                true\r\n            );\r\n            break;\r\n        case '%msgHat':\r\n            part = new InputSlotMorph(\r\n                null,\r\n                false,\r\n                'messagesReceivedMenu',\r\n                true\r\n            );\r\n            part.isStatic = true;\r\n            break;\r\n        case '%att':\r\n            part = new InputSlotMorph(\r\n                null,\r\n                false,\r\n                'attributesMenu',\r\n                true\r\n            );\r\n            break;\r\n        case '%fun':\r\n            part = new InputSlotMorph(\r\n                null,\r\n                false,\r\n                {\r\n                    abs : ['abs'],\r\n                    ceiling : ['ceiling'],\r\n                    floor : ['floor'],\r\n                    sqrt : ['sqrt'],\r\n                    sin : ['sin'],\r\n                    cos : ['cos'],\r\n                    tan : ['tan'],\r\n                    asin : ['asin'],\r\n                    acos : ['acos'],\r\n                    atan : ['atan'],\r\n                    ln : ['ln'],\r\n                    log : ['log'],\r\n                    'e^' : ['e^'],\r\n                    '10^' : ['10^']\r\n                },\r\n                true\r\n            );\r\n            part.setContents(['sqrt']);\r\n            break;\r\n        case '%txtfun':\r\n            part = new InputSlotMorph(\r\n                null,\r\n                false,\r\n                {\r\n                    'encode URI' : ['encode URI'],\r\n                    'decode URI' : ['decode URI'],\r\n                    'encode URI component' : ['encode URI component'],\r\n                    'decode URI component' : ['decode URI component'],\r\n                    'XML escape' : ['XML escape'],\r\n                    'XML unescape' : ['XML unescape'],\r\n                    'hex sha512 hash' : ['hex sha512 hash']\r\n                },\r\n                true\r\n            );\r\n            part.setContents(['encode URI']);\r\n            break;\r\n        case '%stopChoices':\r\n            part = new InputSlotMorph(\r\n                null,\r\n                false,\r\n                {\r\n                    'all' : ['all'],\r\n                    'this script' : ['this script'],\r\n                    'this block' : ['this block'],\r\n                    'all but this script' : ['all but this script'],\r\n                    'other scripts in sprite' : ['other scripts in sprite']\r\n                },\r\n                true\r\n            );\r\n            part.setContents(['all']);\r\n            part.isStatic = true;\r\n            break;\r\n        case '%typ':\r\n            part = new InputSlotMorph(\r\n                null,\r\n                false,\r\n                'typesMenu',\r\n                true\r\n            );\r\n            part.setContents(['number']);\r\n            break;\r\n        case '%mapValue':\r\n            part = new InputSlotMorph(\r\n                null,\r\n                false,\r\n                {\r\n                    String : ['String'],\r\n                    Number : ['Number'],\r\n                    'true' : ['true'],\r\n                    'false' : ['false']\r\n                },\r\n                true\r\n            );\r\n            part.setContents(['String']);\r\n            part.isStatic = true;\r\n            break;\r\n        case '%var':\r\n            part = new InputSlotMorph(\r\n                null,\r\n                false,\r\n                'getVarNamesDict',\r\n                true\r\n            );\r\n            part.isStatic = true;\r\n            break;\r\n        case '%shd':\r\n            part = new InputSlotMorph(\r\n                null,\r\n                false,\r\n                'shadowedVariablesMenu',\r\n                true\r\n            );\r\n            // part.isStatic = true;\r\n            break;\r\n        case '%lst':\r\n            part = new InputSlotMorph(\r\n                null,\r\n                false,\r\n                {\r\n                    list1 : 'list1',\r\n                    list2 : 'list2',\r\n                    list3 : 'list3'\r\n                },\r\n                true\r\n            );\r\n            break;\r\n        case '%codeKind':\r\n            part = new InputSlotMorph(\r\n                null,\r\n                false,\r\n                {\r\n                    code : ['code'],\r\n                    header : ['header']\r\n                },\r\n                true\r\n            );\r\n            part.setContents(['code']);\r\n            break;\r\n        case '%l':\r\n            part = new ArgMorph('list');\r\n            break;\r\n        case '%b':\r\n            part = new BooleanSlotMorph();\r\n            break;\r\n        case '%boolUE':\r\n            part = new BooleanSlotMorph();\r\n            part.isUnevaluated = true;\r\n            break;\r\n        case '%bool':\r\n            part = new BooleanSlotMorph(true);\r\n            part.isStatic = true;\r\n            break;\r\n        case '%cmd':\r\n            part = new CommandSlotMorph();\r\n            break;\r\n        case '%rc':\r\n            part = new RingCommandSlotMorph();\r\n            part.isStatic = true;\r\n            break;\r\n        case '%rr':\r\n            part = new RingReporterSlotMorph();\r\n            part.isStatic = true;\r\n            break;\r\n        case '%rp':\r\n            part = new RingReporterSlotMorph(true);\r\n            part.isStatic = true;\r\n            break;\r\n        case '%c':\r\n            part = new CSlotMorph();\r\n            part.isStatic = true;\r\n            break;\r\n        case '%cs':\r\n            part = new CSlotMorph(); // non-static\r\n            break;\r\n        case '%cl':\r\n            part = new CSlotMorph();\r\n            part.isStatic = true; // rejects reporter drops\r\n            part.isLambda = true; // auto-reifies nested script\r\n            break;\r\n        case '%clr':\r\n            part = new ColorSlotMorph();\r\n            part.isStatic = true;\r\n            break;\r\n        case '%t':\r\n            part = new TemplateSlotMorph('a');\r\n            break;\r\n        case '%upvar':\r\n            part = new TemplateSlotMorph('\\u2191'); // up-arrow\r\n            break;\r\n        case '%f':\r\n            part = new FunctionSlotMorph();\r\n            break;\r\n        case '%r':\r\n            part = new ReporterSlotMorph();\r\n            break;\r\n        case '%p':\r\n            part = new ReporterSlotMorph(true);\r\n            break;\r\n\r\n    // code mapping (experimental)\r\n\r\n        case '%codeListPart':\r\n            part = new InputSlotMorph(\r\n                null, // text\r\n                false, // numeric?\r\n                {\r\n                    'list' : ['list'],\r\n                    'item' : ['item'],\r\n                    'delimiter' : ['delimiter']\r\n                },\r\n                true // read-only\r\n            );\r\n            break;\r\n        case '%codeListKind':\r\n            part = new InputSlotMorph(\r\n                null, // text\r\n                false, // numeric?\r\n                {\r\n                    'collection' : ['collection'],\r\n                    'variables' : ['variables'],\r\n                    'parameters' : ['parameters']\r\n                },\r\n                true // read-only\r\n            );\r\n            break;\r\n\r\n    // symbols:\r\n\r\n        case '%turtle':\r\n            part = new SymbolMorph('turtle');\r\n            part.size = this.fontSize * 1.2;\r\n            part.color = new Color(255, 255, 255);\r\n            part.shadowColor = this.color.darker(this.labelContrast);\r\n            part.shadowOffset = MorphicPreferences.isFlat ?\r\n                    new Point() : this.embossing;\r\n            part.drawNew();\r\n            break;\r\n        case '%turtleOutline':\r\n            part = new SymbolMorph('turtleOutline');\r\n            part.size = this.fontSize;\r\n            part.color = new Color(255, 255, 255);\r\n            part.isProtectedLabel = true; // doesn't participate in zebraing\r\n            part.shadowColor = this.color.darker(this.labelContrast);\r\n            part.shadowOffset = MorphicPreferences.isFlat ?\r\n                    new Point() : this.embossing;\r\n            part.drawNew();\r\n            break;\r\n        case '%clockwise':\r\n            part = new SymbolMorph('turnRight');\r\n            part.size = this.fontSize * 1.5;\r\n            part.color = new Color(255, 255, 255);\r\n            part.isProtectedLabel = false; // zebra colors\r\n            part.shadowColor = this.color.darker(this.labelContrast);\r\n            part.shadowOffset = MorphicPreferences.isFlat ?\r\n                    new Point() : this.embossing;\r\n            part.drawNew();\r\n            break;\r\n        case '%counterclockwise':\r\n            part = new SymbolMorph('turnLeft');\r\n            part.size = this.fontSize * 1.5;\r\n            part.color = new Color(255, 255, 255);\r\n            part.isProtectedLabel = false; // zebra colors\r\n            part.shadowColor = this.color.darker(this.labelContrast);\r\n            part.shadowOffset = MorphicPreferences.isFlat ?\r\n                    new Point() : this.embossing;\r\n            part.drawNew();\r\n            break;\r\n        case '%greenflag':\r\n            part = new SymbolMorph('flag');\r\n            part.size = this.fontSize * 1.5;\r\n            part.color = new Color(0, 200, 0);\r\n            part.isProtectedLabel = true; // doesn't participate in zebraing\r\n            part.shadowColor = this.color.darker(this.labelContrast);\r\n            part.shadowOffset = MorphicPreferences.isFlat ?\r\n                    new Point() : this.embossing;\r\n            part.drawNew();\r\n            break;\r\n        case '%stop':\r\n            part = new SymbolMorph('octagon');\r\n            part.size = this.fontSize * 1.5;\r\n            part.color = new Color(200, 0, 0);\r\n            part.isProtectedLabel = true; // doesn't participate in zebraing\r\n            part.shadowColor = this.color.darker(this.labelContrast);\r\n            part.shadowOffset = MorphicPreferences.isFlat ?\r\n                    new Point() : this.embossing;\r\n            part.drawNew();\r\n            break;\r\n        case '%pause':\r\n            part = new SymbolMorph('pause');\r\n            part.size = this.fontSize;\r\n            part.color = new Color(255, 220, 0);\r\n            part.isProtectedLabel = true; // doesn't participate in zebraing\r\n            part.shadowColor = this.color.darker(this.labelContrast);\r\n            part.shadowOffset = MorphicPreferences.isFlat ?\r\n                    new Point() : this.embossing;\r\n            part.drawNew();\r\n            break;\r\n        default:\r\n            nop();\r\n        }\r\n    } else if (spec[0] === '$' &&\r\n            spec.length > 1 &&\r\n            this.selector !== 'reportGetVar') {\r\n/*\r\n        // allow costumes as label symbols\r\n        // has issues when loading costumes (asynchronously)\r\n        // commented out for now\r\n\r\n        var rcvr = this.definition.receiver || this.scriptTarget(),\r\n            id = spec.slice(1),\r\n            cst;\r\n        if (!rcvr) {return this.labelPart('%stop'); }\r\n        cst = detect(\r\n            rcvr.costumes.asArray(),\r\n            function (each) {return each.name === id; }\r\n        );\r\n        part = new SymbolMorph(cst);\r\n        part.size = this.fontSize * 1.5;\r\n        part.color = new Color(255, 255, 255);\r\n        part.isProtectedLabel = true; // doesn't participate in zebraing\r\n        part.drawNew();\r\n*/\r\n\r\n        // allow GUI symbols as label icons\r\n        // usage: $symbolName[-size-r-g-b], size and color values are optional\r\n        // If there isn't a symbol under that name, it just styles whatever is\r\n        // after \"$\", so you can add unicode icons to your blocks, for example\r\n        // ☺️\r\n        tokens = spec.slice(1).split('-');\r\n        if (!contains(SymbolMorph.prototype.names, tokens[0])) {\r\n            part = new StringMorph(tokens[0]);\r\n            part.fontName = this.labelFontName;\r\n            part.fontStyle = this.labelFontStyle;\r\n            part.fontSize = this.fontSize * (+tokens[1] || 1);\r\n        } else {\r\n            part = new SymbolMorph(tokens[0]);\r\n            part.size = this.fontSize * (+tokens[1] || 1.2);\r\n        }\r\n        part.color = new Color(\r\n            +tokens[2] === 0 ? 0 : +tokens[2] || 255,\r\n            +tokens[3] === 0 ? 0 : +tokens[3] || 255,\r\n            +tokens[4] === 0 ? 0 : +tokens[4] || 255\r\n        );\r\n        part.isProtectedLabel = tokens.length > 2; // zebra colors\r\n        part.shadowColor = this.color.darker(this.labelContrast);\r\n        part.shadowOffset = MorphicPreferences.isFlat ?\r\n                new Point() : this.embossing;\r\n        part.drawNew();\r\n    } else {\r\n        part = new StringMorph(\r\n            spec, // text\r\n            this.fontSize, // fontSize\r\n            this.labelFontStyle, // fontStyle\r\n            true, // bold\r\n            false, // italic\r\n            false, // isNumeric\r\n            MorphicPreferences.isFlat ?\r\n                    new Point() : this.embossing, // shadowOffset\r\n            this.color.darker(this.labelContrast), // shadowColor\r\n            new Color(255, 255, 255), // color\r\n            this.labelFontName // fontName\r\n        );\r\n    }\r\n    return part;\r\n};\r\n\r\nSyntaxElementMorph.prototype.isObjInputFragment = function () {\r\n    // private - for displaying a symbol in a variable block template\r\n    return (this.selector === 'reportGetVar') &&\r\n        (this.getSlotSpec() === '%t') &&\r\n        (this.parent.fragment.type === '%obj');\r\n};\r\n\r\n// SyntaxElementMorph layout:\r\n\r\nSyntaxElementMorph.prototype.fixLayout = function (silently) {\r\n    var nb,\r\n        parts = this.parts(),\r\n        myself = this,\r\n        x = 0,\r\n        y,\r\n        lineHeight = 0,\r\n        maxX = 0,\r\n        blockWidth = this.minWidth,\r\n        blockHeight,\r\n        affected,\r\n        l = [],\r\n        lines = [],\r\n        space = this.isPrototype ?\r\n                1 : Math.floor(fontHeight(this.fontSize) / 3),\r\n        ico = this.isCustomBlock && !this.isGlobal ?\r\n                this.methodIconExtent().x + space : 0,\r\n        bottomCorrection,\r\n        initialExtent = this.extent();\r\n\r\n    if ((this instanceof MultiArgMorph) && (this.slotSpec !== '%c')) {\r\n        blockWidth += this.arrows().width();\r\n    } else if (this instanceof ReporterBlockMorph) {\r\n        blockWidth += (this.rounding * 2) + (this.edge * 2);\r\n    } else {\r\n        blockWidth += (this.corner * 4)\r\n            + (this.edge * 2)\r\n            + (this.inset * 3)\r\n            + this.dent;\r\n    }\r\n\r\n    if (this.nextBlock) {\r\n        nb = this.nextBlock();\r\n    }\r\n\r\n    // determine lines\r\n    parts.forEach(function (part) {\r\n        if ((part instanceof CSlotMorph)\r\n                || (part.slotSpec === '%c')) {\r\n            if (l.length > 0) {\r\n                lines.push(l);\r\n                lines.push([part]);\r\n                l = [];\r\n                x = 0;\r\n            } else {\r\n                lines.push([part]);\r\n            }\r\n        } else if (part instanceof BlockHighlightMorph) {\r\n            nop(); // should be redundant now\r\n            // myself.fullChanged();\r\n            // myself.removeChild(part);\r\n        } else {\r\n            if (part.isVisible) {\r\n                x += part.fullBounds().width() + space;\r\n            }\r\n            if ((x > myself.labelWidth) || part.isBlockLabelBreak) {\r\n                if (l.length > 0) {\r\n                    lines.push(l);\r\n                    l = [];\r\n                    x = part.fullBounds().width() + space;\r\n                }\r\n            }\r\n            l.push(part);\r\n            if (part.isBlockLabelBreak) {\r\n                x = 0;\r\n            }\r\n        }\r\n    });\r\n    if (l.length > 0) {\r\n        lines.push(l);\r\n    }\r\n\r\n    // distribute parts on lines\r\n    if (this instanceof CommandBlockMorph) {\r\n        y = this.top() + this.corner + this.edge;\r\n        if (this instanceof HatBlockMorph) {\r\n            y += this.hatHeight;\r\n        }\r\n    } else if (this instanceof ReporterBlockMorph) {\r\n        y = this.top() + (this.edge * 2);\r\n    } else if (this instanceof MultiArgMorph\r\n            || this instanceof ArgLabelMorph) {\r\n        y = this.top();\r\n    }\r\n    lines.forEach(function (line) {\r\n        x = myself.left() + ico + myself.edge + myself.labelPadding;\r\n        if (myself instanceof RingMorph) {\r\n            x = myself.left() + space; //myself.labelPadding;\r\n        } else if (myself.isPredicate) {\r\n            x = myself.left() + ico + myself.rounding;\r\n        } else if (myself instanceof MultiArgMorph\r\n                || myself instanceof ArgLabelMorph) {\r\n            x = myself.left();\r\n        }\r\n        y += lineHeight;\r\n        lineHeight = 0;\r\n        line.forEach(function (part) {\r\n            if (part instanceof CSlotMorph) {\r\n                x -= myself.labelPadding;\r\n                if (myself.isPredicate) {\r\n                    x = myself.left() + ico + myself.rounding;\r\n                }\r\n                part.setColor(myself.color);\r\n                part.setPosition(new Point(x, y));\r\n                lineHeight = part.height();\r\n            } else {\r\n                part.setPosition(new Point(x, y));\r\n                if (!part.isBlockLabelBreak) {\r\n                    if (part.slotSpec === '%c') {\r\n                        x += part.width();\r\n                    } else if (part.isVisible) {\r\n                        x += part.fullBounds().width() + space;\r\n                    }\r\n                }\r\n                maxX = Math.max(maxX, x);\r\n                lineHeight = Math.max(\r\n                    lineHeight,\r\n                    part instanceof StringMorph ?\r\n                            part.rawHeight() : part.height()\r\n                );\r\n            }\r\n        });\r\n\r\n    // center parts vertically on each line:\r\n        line.forEach(function (part) {\r\n            part.moveBy(new Point(\r\n                0,\r\n                Math.floor((lineHeight - part.height()) / 2)\r\n            ));\r\n        });\r\n    });\r\n\r\n    // determine my height:\r\n    y += lineHeight;\r\n    if (this.children.some(function (any) {\r\n            return any instanceof CSlotMorph;\r\n        })) {\r\n        bottomCorrection = this.bottomPadding;\r\n        if (this instanceof ReporterBlockMorph && !this.isPredicate) {\r\n            bottomCorrection = Math.max(\r\n                this.bottomPadding,\r\n                this.rounding - this.bottomPadding\r\n            );\r\n        }\r\n        y += bottomCorrection;\r\n    }\r\n    if (this instanceof CommandBlockMorph) {\r\n        blockHeight = y - this.top() + (this.corner * 2);\r\n    } else if (this instanceof ReporterBlockMorph) {\r\n        blockHeight = y - this.top() + (this.edge * 2);\r\n    } else if (this instanceof MultiArgMorph\r\n            || this instanceof ArgLabelMorph) {\r\n        blockHeight = y - this.top();\r\n    }\r\n\r\n    // determine my width:\r\n    if (this.isPredicate) {\r\n        blockWidth = Math.max(\r\n            blockWidth,\r\n            maxX - this.left() + this.rounding\r\n        );\r\n    } else if (this instanceof MultiArgMorph\r\n            || this instanceof ArgLabelMorph) {\r\n        blockWidth = Math.max(\r\n            blockWidth,\r\n            maxX - this.left() - space\r\n        );\r\n    } else {\r\n        blockWidth = Math.max(\r\n            blockWidth,\r\n            maxX - this.left() + this.labelPadding - this.edge\r\n        );\r\n        // adjust right padding if rightmost input has arrows\r\n        if (parts[parts.length - 1] instanceof MultiArgMorph\r\n                && (lines.length === 1)) {\r\n            blockWidth -= space;\r\n        }\r\n        // adjust width to hat width\r\n        if (this instanceof HatBlockMorph) {\r\n            blockWidth = Math.max(blockWidth, this.hatWidth * 1.5);\r\n        }\r\n    }\r\n\r\n    // set my extent (silently, because we'll redraw later anyway):\r\n    this.silentSetExtent(new Point(blockWidth, blockHeight));\r\n\r\n    // adjust CSlots\r\n    parts.forEach(function (part) {\r\n        if (part instanceof CSlotMorph) {\r\n            if (myself.isPredicate) {\r\n                part.setWidth(blockWidth - ico - myself.rounding * 2);\r\n            } else {\r\n                part.setWidth(blockWidth - myself.edge - ico);\r\n            }\r\n        }\r\n    });\r\n\r\n    // redraw in order to erase CSlot backgrounds\r\n    if (!silently) {this.drawNew(); }\r\n\r\n    // position next block:\r\n    if (nb) {\r\n        nb.setPosition(\r\n            new Point(\r\n                this.left(),\r\n                this.bottom() - (this.corner)\r\n            )\r\n        );\r\n    }\r\n\r\n    // find out if one of my parents needs to be fixed\r\n    if (this instanceof CommandBlockMorph) {\r\n        if (this.height() !== initialExtent.y) {\r\n            affected = this.parentThatIsA(CommandSlotMorph);\r\n            if (affected) {\r\n                affected.fixLayout();\r\n            }\r\n        }\r\n        if (this.width() !== initialExtent.x) {\r\n            affected = this.parentThatIsAnyOf(\r\n                [ReporterBlockMorph, CommandSlotMorph, RingCommandSlotMorph]\r\n            );\r\n            if (affected) {\r\n                affected.fixLayout();\r\n            }\r\n        }\r\n        if (affected) {\r\n            return;\r\n        }\r\n    } else if (this instanceof ReporterBlockMorph) {\r\n        if (this.parent) {\r\n            if (this.parent.fixLayout) {\r\n                return this.parent.fixLayout();\r\n            }\r\n        }\r\n    }\r\n\r\n    this.fixHighlight();\r\n};\r\n\r\nSyntaxElementMorph.prototype.fixHighlight = function () {\r\n    var top = this.topBlock();\r\n    if (top.getHighlight && top.getHighlight()) {\r\n        top.addHighlight(top.removeHighlight());\r\n    }\r\n};\r\n\r\nSyntaxElementMorph.prototype.methodIconExtent = function () {\r\n    // answer the span of the icon for the \"local method\" indicator\r\n    var ico = this.fontSize * 1.2;\r\n    return this.isCustomBlock && !this.isGlobal ?\r\n            new Point(ico * 0.66, ico) : new Point(0, 0);\r\n};\r\n\r\n// SyntaxElementMorph evaluating:\r\n\r\nSyntaxElementMorph.prototype.evaluate = function () {\r\n    // responsibility of my children, default is to answer null\r\n    return null;\r\n};\r\n\r\nSyntaxElementMorph.prototype.isEmptySlot = function () {\r\n    // responsibility of my children, default is to answer false\r\n    return false;\r\n};\r\n\r\n// SyntaxElementMorph speech bubble feedback:\r\n\r\nSyntaxElementMorph.prototype.showBubble = function (value, exportPic, target) {\r\n    var bubble,\r\n        txt,\r\n        img,\r\n        morphToShow,\r\n        isClickable = false,\r\n        ide = this.parentThatIsA(IDE_Morph),\r\n        anchor = this,\r\n        pos = this.rightCenter().add(new Point(2, 0)),\r\n        sf = this.parentThatIsA(ScrollFrameMorph),\r\n        wrrld = this.world();\r\n\r\n    if ((value === undefined) || !wrrld) {\r\n        return null;\r\n    }\r\n    if (value instanceof ListWatcherMorph) {\r\n        morphToShow = value;\r\n        morphToShow.update(true);\r\n        morphToShow.step = value.update;\r\n        morphToShow.isDraggable = false;\r\n        morphToShow.expand(this.parentThatIsA(ScrollFrameMorph).extent());\r\n        isClickable = true;\r\n    } else if (value instanceof TableFrameMorph) {\r\n        morphToShow = value;\r\n        morphToShow.isDraggable = false;\r\n        morphToShow.expand(this.parentThatIsA(ScrollFrameMorph).extent());\r\n        isClickable = true;\r\n    } else if (value instanceof Morph) {\r\n        if (isSnapObject(value)) {\r\n            img = value.thumbnail(new Point(40, 40));\r\n            morphToShow = new Morph();\r\n            morphToShow.silentSetWidth(img.width);\r\n            morphToShow.silentSetHeight(img.height);\r\n            morphToShow.image = img;\r\n            morphToShow.version = value.version;\r\n            morphToShow.step = function () {\r\n                if (this.version !== value.version) {\r\n                    img = value.thumbnail(new Point(40, 40));\r\n                    this.image = img;\r\n                    this.version = value.version;\r\n                    this.changed();\r\n                }\r\n            };\r\n        } else {\r\n            img = value.fullImage();\r\n            morphToShow = new Morph();\r\n            morphToShow.silentSetWidth(img.width);\r\n            morphToShow.silentSetHeight(img.height);\r\n            morphToShow.image = img;\r\n        }\r\n    } else if (value instanceof Costume) {\r\n        img = value.thumbnail(new Point(40, 40));\r\n        morphToShow = new Morph();\r\n        morphToShow.silentSetWidth(img.width);\r\n        morphToShow.silentSetHeight(img.height);\r\n        morphToShow.image = img;\r\n    } else if (value instanceof Sound) {\r\n        morphToShow = new SymbolMorph('notes', 30);\r\n    } else if (value instanceof Context) {\r\n        img = value.image();\r\n        morphToShow = new Morph();\r\n        morphToShow.silentSetWidth(img.width);\r\n        morphToShow.silentSetHeight(img.height);\r\n        morphToShow.image = img;\r\n    } else if (typeof value === 'boolean') {\r\n        morphToShow = SpriteMorph.prototype.booleanMorph.call(\r\n            null,\r\n            value\r\n        );\r\n    } else if (isString(value)) {\r\n        txt  = value.length > 500 ? value.slice(0, 500) + '...' : value;\r\n        morphToShow = new TextMorph(\r\n            txt,\r\n            this.fontSize\r\n        );\r\n    } else if (value === null) {\r\n        morphToShow = new TextMorph(\r\n            '',\r\n            this.fontSize\r\n        );\r\n    } else if (value === 0) {\r\n        morphToShow = new TextMorph(\r\n            '0',\r\n            this.fontSize\r\n        );\r\n    } else if (value.toString) {\r\n        morphToShow = new TextMorph(\r\n            value.toString(),\r\n            this.fontSize\r\n        );\r\n    }\r\n    if (ide && (ide.currentSprite !== target)) {\r\n        if (target instanceof StageMorph) {\r\n            anchor = ide.corral.stageIcon;\r\n        } else {\r\n        \tif (target.isTemporary) {\r\n         \t\ttarget = detect(\r\n\t\t\t\t\ttarget.allExemplars(),\r\n     \t\t\t\tfunction (each) {return !each.isTemporary; }\r\n         \t\t);\r\n     \t\t}\r\n            anchor = detect(\r\n                ide.corral.frame.contents.children,\r\n                function (icon) {return icon.object === target; }\r\n            );\r\n        }\r\n        pos = anchor.center();\r\n    }\r\n    bubble = new SpeechBubbleMorph(\r\n        morphToShow,\r\n        null,\r\n        Math.max(this.rounding - 2, 6),\r\n        0\r\n    );\r\n    bubble.popUp(\r\n        wrrld,\r\n        pos,\r\n        isClickable\r\n    );\r\n    if (exportPic) {\r\n        this.exportPictureWithResult(bubble);\r\n    }\r\n    if (anchor instanceof SpriteIconMorph) {\r\n        bubble.keepWithin(ide.corral);\r\n    } else if (sf) {\r\n        bubble.keepWithin(sf);\r\n    }\r\n};\r\n\r\nSyntaxElementMorph.prototype.exportPictureWithResult = function (aBubble) {\r\n    var ide = this.parentThatIsA(IDE_Morph),\r\n        scr = this.fullImage(),\r\n        bub = aBubble.fullImageClassic(),\r\n        taller = Math.max(0, bub.height - scr.height),\r\n        pic = newCanvas(new Point(\r\n            scr.width + bub.width + 2,\r\n            scr.height + taller\r\n        )),\r\n        ctx = pic.getContext('2d');\r\n    ctx.drawImage(scr, 0, pic.height - scr.height);\r\n    ctx.drawImage(bub, scr.width + 2, 0);\r\n    // request to open pic in new window.\r\n    ide.saveCanvasAs(\r\n        pic,\r\n        (ide.projectName || localize('untitled')) + ' ' + localize('script pic')\r\n    );\r\n};\r\n\r\n// SyntaxElementMorph code mapping\r\n\r\n/*\r\n    code mapping lets you use blocks to generate arbitrary text-based\r\n    source code that can be exported and compiled / embedded elsewhere,\r\n    it's not part of Snap's evaluator and not needed for Snap itself\r\n*/\r\n\r\nSyntaxElementMorph.prototype.mappedCode = function (definitions) {\r\n    var result = this.evaluate();\r\n    if (result instanceof BlockMorph) {\r\n        return result.mappedCode(definitions);\r\n    }\r\n    return result;\r\n};\r\n\r\n// SyntaxElementMorph layout update optimization\r\n\r\nSyntaxElementMorph.prototype.startLayout = function () {\r\n    this.topBlock().fullChanged();\r\n    Morph.prototype.trackChanges = false;\r\n};\r\n\r\nSyntaxElementMorph.prototype.endLayout = function () {\r\n    Morph.prototype.trackChanges = true;\r\n    this.topBlock().fullChanged();\r\n};\r\n\r\n// BlockMorph //////////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am an abstraction of all blocks (commands, reporters, hats).\r\n\r\n    Aside from the visual settings inherited from Morph and\r\n    SyntaxElementMorph my most important attributes and public\r\n    accessors are:\r\n\r\n    selector        - (string) name of method to be triggered\r\n    scriptTarget()  - answer the object (sprite) to which I apply\r\n    inputs()        - answer an array with my arg slots and nested reporters\r\n    defaults        - an optional Array containing default input values\r\n    topBlock()      - answer the top block of the stack I'm attached to\r\n    blockSpec       - a formalized description of my label parts\r\n    setSpec()       - force me to change my label structure\r\n    evaluate()      - answer the result of my evaluation\r\n    isUnevaluated() - answer whether I am part of a special form\r\n\r\n    Zebra coloring provides a mechanism to alternate brightness of nested,\r\n    same colored blocks (of the same category). The deviation of alternating\r\n    brightness is set in the preferences setting:\r\n\r\n    zebraContrast - <number> percentage of brightness deviation\r\n\r\n    attribute. If the attribute is set to zero, zebra coloring is turned\r\n    off. If it is a positive number, nested blocks will be colored in\r\n    a brighter shade of the same hue and the label color (for texts)\r\n    alternates between white and black. If the attribute is set to a negative\r\n    number, nested blocks are colored in a darker shade of the same hue\r\n    with no alternating label colors.\r\n\r\n    Note: Some of these methods are inherited from SyntaxElementMorph\r\n    for technical reasons, because they are shared among Block and\r\n    MultiArgMorph (e.g. topBlock()).\r\n\r\n    blockSpec is a formatted string consisting of plain words and\r\n    reserved words starting with the percent character (%), which\r\n    represent the following pre-defined input slots and/or label\r\n    features:\r\n\r\n    arity: single\r\n\r\n    %br     - user-forced line break\r\n    %s      - white rectangular type-in slot (\"string-type\")\r\n    %txt    - white rectangular type-in slot (\"text-type\")\r\n    %mlt    - white rectangular type-in slot (\"multi-line-text-type\")\r\n    %code   - white rectangular type-in slot, monospaced font\r\n    %n      - white roundish type-in slot (\"numerical\")\r\n    %dir    - white roundish type-in slot with drop-down for directions\r\n    %inst   - white roundish type-in slot with drop-down for instruments\r\n    %ida    - white roundish type-in slot with drop-down for list indices\r\n    %idx    - white roundish type-in slot for indices incl. \"any\"\r\n    %obj    - specially drawn slot for object reporters\r\n    %spr    - chameleon colored rectangular drop-down for object-names\r\n    %col    - chameleon colored rectangular drop-down for collidables\r\n    %dst    - chameleon colored rectangular drop-down for distances\r\n    %cst    - chameleon colored rectangular drop-down for costume-names\r\n    %eff    - chameleon colored rectangular drop-down for graphic effects\r\n    %snd    - chameleon colored rectangular drop-down for sound names\r\n    %key    - chameleon colored rectangular drop-down for keyboard keys\r\n    %msg    - chameleon colored rectangular drop-down for messages\r\n    %att    - chameleon colored rectangular drop-down for attributes\r\n    %fun    - chameleon colored rectangular drop-down for math functions\r\n    %typ    - chameleon colored rectangular drop-down for data types\r\n    %var    - chameleon colored rectangular drop-down for variable names\r\n    %shd    - Chameleon colored rectuangular drop-down for shadowed var names\r\n    %lst    - chameleon colored rectangular drop-down for list names\r\n    %b      - chameleon colored hexagonal slot (for predicates)\r\n    %bool   - chameleon colored hexagonal slot (for predicates), static\r\n    %l      - list icon\r\n    %c      - C-shaped command slot, special form for primitives\r\n    %cs     - C-shaped, auto-reifying, accepts reporter drops\r\n    %cl     - C-shaped, auto-reifying, rejects reporters\r\n    %clr    - interactive color slot\r\n    %t      - inline variable reporter template\r\n    %anyUE  - white rectangular type-in slot, unevaluated if replaced\r\n    %boolUE - chameleon colored hexagonal slot, unevaluated if replaced\r\n    %f      - round function slot, unevaluated if replaced,\r\n    %r      - round reporter slot\r\n    %p      - hexagonal predicate slot\r\n\r\n    rings:\r\n\r\n    %cmdRing    - command slotted ring with %ringparms\r\n    %repRing    - round slotted ringn with %ringparms\r\n    %predRing   - diamond slotted ring with %ringparms\r\n\r\n    arity: multiple\r\n\r\n    %mult%x      - where %x stands for any of the above single inputs\r\n    %inputs      - for an additional text label 'with inputs'\r\n    %words       - for an expandable list of default 2 (used in JOIN)\r\n    %exp         - for a static expandable list of minimum 0 (used in LIST)\r\n    %scriptVars  - for an expandable list of variable reporter templates\r\n    %parms       - for an expandable list of formal parameters\r\n    %ringparms   - the same for use inside Rings\r\n\r\n    special form: upvar\r\n\r\n    %upvar       - same as %t (inline variable reporter template)\r\n\r\n    special form: input name\r\n\r\n    %inputName   - variable blob (used in input type dialog)\r\n\r\n    examples:\r\n\r\n        'if %b %c else %c'        - creates Scratch's If/Else block\r\n        'set pen color to %clr'   - creates Scratch's Pen color block\r\n        'list %mult%s'            - creates BYOB's list reporter block\r\n        'call %n %inputs'         - creates BYOB's Call block\r\n        'the script %parms %c'    - creates BYOB's THE SCRIPT block\r\n*/\r\n\r\n// BlockMorph inherits from SyntaxElementMorph:\r\n\r\nBlockMorph.prototype = new SyntaxElementMorph();\r\nBlockMorph.prototype.constructor = BlockMorph;\r\nBlockMorph.uber = SyntaxElementMorph.prototype;\r\n\r\n// BlockMorph preferences settings:\r\n\r\nBlockMorph.prototype.isCachingInputs = true;\r\nBlockMorph.prototype.zebraContrast = 40; // alternating color brightness\r\n\r\n// BlockMorph sound feedback:\r\n\r\nBlockMorph.prototype.snapSound = null;\r\n\r\nBlockMorph.prototype.toggleSnapSound = function () {\r\n    if (this.snapSound !== null) {\r\n        this.snapSound = null;\r\n    } else {\r\n        BlockMorph.prototype.snapSound = document.createElement('audio');\r\n        BlockMorph.prototype.snapSound.src = 'click.wav';\r\n    }\r\n    CommentMorph.prototype.snapSound = BlockMorph.prototype.snapSound;\r\n};\r\n\r\n// BlockMorph instance creation:\r\n\r\nfunction BlockMorph() {\r\n    this.init();\r\n}\r\n\r\nBlockMorph.prototype.init = function (silently) {\r\n    this.selector = null; // name of method to be triggered\r\n    this.blockSpec = ''; // formal description of label and arguments\r\n    this.comment = null; // optional \"sticky\" comment morph\r\n\r\n    // not to be persisted:\r\n    this.instantiationSpec = null; // spec to set upon fullCopy() of template\r\n    this.category = null; // for zebra coloring (non persistent)\r\n    this.isCorpse = false; // marked for deletion fom a custom block definition\r\n\r\n    BlockMorph.uber.init.call(this, silently);\r\n    this.color = new Color(0, 17, 173);\r\n    this.cachedInputs = null;\r\n};\r\n\r\nBlockMorph.prototype.scriptTarget = function () {\r\n    // answer the sprite or stage that this block acts on,\r\n    // if the user clicks on it.\r\n    // NOTE: since scripts can be shared by more than a single sprite\r\n    // this method only gives the desired result within the context of\r\n    // the user actively clicking on a block inside the IDE\r\n    // there is no direct relationship between a block and a sprite.\r\n    var scripts = this.parentThatIsA(ScriptsMorph),\r\n        ide;\r\n    if (scripts) {\r\n        return scripts.scriptTarget();\r\n    }\r\n    ide = this.parentThatIsA(IDE_Morph);\r\n    if (ide) {\r\n        return ide.currentSprite;\r\n    }\r\n    throw new Error('script target cannot be found for orphaned block');\r\n};\r\n\r\nBlockMorph.prototype.toString = function () {\r\n    return 'a ' +\r\n        (this.constructor.name ||\r\n            this.constructor.toString().split(' ')[1].split('(')[0]) +\r\n        ' (\"' +\r\n        this.blockSpec.slice(0, 30) + '...\")';\r\n};\r\n\r\n// BlockMorph spec:\r\n\r\nBlockMorph.prototype.parseSpec = function (spec) {\r\n    var result = [],\r\n        words,\r\n        word = '';\r\n\r\n    words = isString(spec) ? spec.split(' ') : [];\r\n    if (words.length === 0) {\r\n        words = [spec];\r\n    }\r\n    if (this.labelWordWrap) {\r\n        return words;\r\n    }\r\n\r\n    function addWord(w) {\r\n        if ((w[0] === '%') && (w.length > 1)) {\r\n            if (word !== '') {\r\n                result.push(word);\r\n                word = '';\r\n            }\r\n            result.push(w);\r\n        } else {\r\n            if (word !== '') {\r\n                word += ' ' + w;\r\n            } else {\r\n                word = w;\r\n            }\r\n        }\r\n    }\r\n\r\n    words.forEach(function (each) {\r\n        addWord(each);\r\n    });\r\n    if (word !== '') {\r\n        result.push(word);\r\n    }\r\n    return result;\r\n};\r\n\r\nBlockMorph.prototype.setSpec = function (spec, silently, definition) {\r\n    var myself = this,\r\n        part,\r\n        inputIdx = -1;\r\n\r\n    if (!spec) {return; }\r\n    this.parts().forEach(function (part) {\r\n        part.destroy();\r\n    });\r\n    if (this.isPrototype) {\r\n        this.add(this.placeHolder());\r\n    }\r\n    this.parseSpec(spec).forEach(function (word) {\r\n        if (word[0] === '%') {\r\n            inputIdx += 1;\r\n        }\r\n        part = myself.labelPart(word);\r\n        if (isNil(part)) {\r\n            // console.log('could not create label part', word);\r\n            return;\r\n        }\r\n        myself.add(part);\r\n        if (!(part instanceof CommandSlotMorph ||\r\n                part instanceof StringMorph)) {\r\n            part.drawNew();\r\n        }\r\n        if (part instanceof RingMorph) {\r\n            part.fixBlockColor();\r\n        }\r\n        if (part instanceof MultiArgMorph ||\r\n                part.constructor === CommandSlotMorph ||\r\n                part.constructor === RingCommandSlotMorph) {\r\n            part.fixLayout();\r\n        }\r\n        if (myself.isPrototype) {\r\n            myself.add(myself.placeHolder());\r\n        }\r\n        if (part instanceof InputSlotMorph && myself.isCustomBlock) {\r\n            part.setChoices.apply(\r\n                part,\r\n                (definition || myself.definition).inputOptionsOfIdx(inputIdx)\r\n            );\r\n        }\r\n    });\r\n    this.blockSpec = spec;\r\n    this.fixLayout(silently);\r\n    this.cachedInputs = null;\r\n};\r\n\r\nBlockMorph.prototype.userSetSpec = function (spec) {\r\n    var tb = this.topBlock();\r\n    tb.fullChanged();\r\n    this.setSpec(spec);\r\n    tb.fullChanged();\r\n};\r\n\r\nBlockMorph.prototype.buildSpec = function () {\r\n    // create my blockSpec from my parts - for demo purposes only\r\n    var myself = this;\r\n    this.blockSpec = '';\r\n    this.parts().forEach(function (part) {\r\n        if (part instanceof StringMorph) {\r\n            myself.blockSpec += part.text;\r\n        } else if (part instanceof ArgMorph) {\r\n            myself.blockSpec += part.getSpec();\r\n        } else if (part.isBlockLabelBreak) {\r\n            myself.blockSpec += part.getSpec();\r\n        } else {\r\n            myself.blockSpec += '[undefined]';\r\n        }\r\n        myself.blockSpec += ' ';\r\n    });\r\n    this.blockSpec = this.blockSpec.trim();\r\n};\r\n\r\nBlockMorph.prototype.rebuild = function (contrast) {\r\n    // rebuild my label fragments, for use in ToggleElementMorphs\r\n    this.setSpec(this.blockSpec);\r\n    if (contrast) {\r\n        this.inputs().forEach(function (input) {\r\n            if (input instanceof ReporterBlockMorph) {\r\n                input.setColor(input.color.lighter(contrast));\r\n                input.setSpec(input.blockSpec);\r\n            }\r\n        });\r\n    }\r\n};\r\n\r\n// BlockMorph menu:\r\n\r\nBlockMorph.prototype.userMenu = function () {\r\n    var menu = new MenuMorph(this),\r\n        world = this.world(),\r\n        myself = this,\r\n        shiftClicked = world.currentKey === 16,\r\n        proc = this.activeProcess(),\r\n        vNames = proc && proc.context && proc.context.outerContext ?\r\n                proc.context.outerContext.variables.names() : [],\r\n        alternatives,\r\n        field,\r\n        rcvr,\r\n        top;\r\n\r\n    function addOption(label, toggle, test, onHint, offHint) {\r\n        var on = '\\u2611 ',\r\n            off = '\\u2610 ';\r\n        menu.addItem(\r\n            (test ? on : off) + localize(label),\r\n            toggle,\r\n            test ? onHint : offHint\r\n        );\r\n    }\r\n\r\n    function renameVar() {\r\n        var blck = myself.fullCopy();\r\n        blck.addShadow();\r\n        new DialogBoxMorph(\r\n            myself,\r\n            myself.userSetSpec,\r\n            myself\r\n        ).prompt(\r\n            \"Variable name\",\r\n            myself.blockSpec,\r\n            world,\r\n            blck.fullImage(), // pic\r\n            InputSlotMorph.prototype.getVarNamesDict.call(myself)\r\n        );\r\n    }\r\n\r\n    menu.addItem(\r\n        \"help...\",\r\n        'showHelp'\r\n    );\r\n    if (shiftClicked) {\r\n        top = this.topBlock();\r\n        if (top instanceof ReporterBlockMorph) {\r\n            menu.addItem(\r\n                \"script pic with result...\",\r\n                function () {\r\n                    top.exportResultPic();\r\n                },\r\n                'open a new window\\n' +\r\n                    'with a picture of both\\nthis script and its result',\r\n                new Color(100, 0, 0)\r\n            );\r\n        }\r\n    }\r\n    if (this.isTemplate) {\r\n        if (this.parent instanceof SyntaxElementMorph) { // in-line\r\n            if (this.selector === 'reportGetVar') { // script var definition\r\n                menu.addLine();\r\n                menu.addItem(\r\n                    'rename...',\r\n                    function () {\r\n                        myself.refactorThisVar(true); // just the template\r\n                    },\r\n                    'rename only\\nthis reporter'\r\n                );\r\n                menu.addItem(\r\n                    'rename all...',\r\n                    'refactorThisVar',\r\n                    'rename all blocks that\\naccess this variable'\r\n                );\r\n            }\r\n        } else { // in palette\r\n            if (this.selector === 'reportGetVar') {\r\n                rcvr = this.scriptTarget();\r\n                if (this.isInheritedVariable(false)) { // fully inherited\r\n                    addOption(\r\n                        'inherited',\r\n                        function () {\r\n                            rcvr.toggleInheritedVariable(myself.blockSpec);\r\n                        },\r\n                        true,\r\n                        'uncheck to\\ndisinherit',\r\n                        null\r\n                    );\r\n                } else { // not inherited\r\n                    if (this.isInheritedVariable(true)) { // shadowed\r\n                        addOption(\r\n                            'inherited',\r\n                            function () {\r\n                                rcvr.toggleInheritedVariable(myself.blockSpec);\r\n                            },\r\n                            false,\r\n                            null,\r\n                            localize('check to inherit\\nfrom')\r\n                                + ' ' + rcvr.exemplar.name\r\n                        );\r\n                    }\r\n                    addOption(\r\n                        'transient',\r\n                        'toggleTransientVariable',\r\n                        myself.isTransientVariable(),\r\n                        'uncheck to save contents\\nin the project',\r\n                        'check to prevent contents\\nfrom being saved'\r\n                    );\r\n                    menu.addLine();\r\n                    menu.addItem(\r\n                        'rename...',\r\n                        function () {\r\n                            myself.refactorThisVar(true); // just the template\r\n                        },\r\n                        'rename only\\nthis reporter'\r\n                    );\r\n                    menu.addItem(\r\n                        'rename all...',\r\n                        'refactorThisVar',\r\n                        'rename all blocks that\\naccess this variable'\r\n                    );\r\n                }\r\n            } else if (this.selector !== 'evaluateCustomBlock') {\r\n                menu.addItem(\r\n                    \"hide\",\r\n                    'hidePrimitive'\r\n                );\r\n            }\r\n\r\n            // allow toggling inheritable attributes\r\n            if (StageMorph.prototype.enableInheritance) {\r\n                rcvr = this.scriptTarget();\r\n                field = {\r\n                    xPosition: 'x position',\r\n                    yPosition: 'y position',\r\n                    direction: 'direction',\r\n                    getScale: 'size',\r\n                    getCostumeIdx: 'costume #'\r\n                }[this.selector];\r\n                if (field && rcvr && rcvr.exemplar) {\r\n                    menu.addLine();\r\n                    addOption(\r\n                        'inherited',\r\n                        function () {\r\n                            rcvr.toggleInheritanceForAttribute(field);\r\n                        },\r\n                        rcvr.inheritsAttribute(field),\r\n                        'uncheck to\\ndisinherit',\r\n                        localize('check to inherit\\nfrom')\r\n                            + ' ' + rcvr.exemplar.name\r\n                    );\r\n                }\r\n            }\r\n\r\n            if (StageMorph.prototype.enableCodeMapping) {\r\n                menu.addLine();\r\n                menu.addItem(\r\n                    'header mapping...',\r\n                    'mapToHeader'\r\n                );\r\n                menu.addItem(\r\n                    'code mapping...',\r\n                    'mapToCode'\r\n                );\r\n            }\r\n        }\r\n        return menu;\r\n    }\r\n    menu.addLine();\r\n    if (this.selector === 'reportGetVar') {\r\n        menu.addItem(\r\n            'rename...',\r\n            renameVar,\r\n            'rename only\\nthis reporter'\r\n        );\r\n    } else if (SpriteMorph.prototype.blockAlternatives[this.selector]) {\r\n        menu.addItem(\r\n            'relabel...',\r\n            function () {\r\n                myself.relabel(\r\n                    SpriteMorph.prototype.blockAlternatives[myself.selector]\r\n                );\r\n            }\r\n        );\r\n    } else if (this.isCustomBlock && this.alternatives) {\r\n        alternatives = this.alternatives();\r\n        if (alternatives.length > 0) {\r\n            menu.addItem(\r\n                'relabel...',\r\n                function () {myself.relabel(alternatives); }\r\n            );\r\n        }\r\n    }\r\n\r\n    menu.addItem(\r\n        \"duplicate\",\r\n        function () {\r\n            var dup = myself.fullCopy(),\r\n                ide = myself.parentThatIsA(IDE_Morph),\r\n                blockEditor = myself.parentThatIsA(BlockEditorMorph);\r\n            dup.pickUp(world);\r\n            // register the drop-origin, so the block can\r\n            // slide back to its former situation if dropped\r\n            // somewhere where it gets rejected\r\n            if (!ide && blockEditor) {\r\n                ide = blockEditor.target.parentThatIsA(IDE_Morph);\r\n            }\r\n            if (ide) {\r\n                world.hand.grabOrigin = {\r\n                    origin: ide.palette,\r\n                    position: ide.palette.center()\r\n                };\r\n            }\r\n        },\r\n        'make a copy\\nand pick it up'\r\n    );\r\n    if (this instanceof CommandBlockMorph && this.nextBlock()) {\r\n        menu.addItem(\r\n            (proc ? this.fullCopy() : this).thumbnail(0.5, 60),\r\n            function () {\r\n                var cpy = myself.fullCopy(),\r\n                    nb = cpy.nextBlock(),\r\n                    ide = myself.parentThatIsA(IDE_Morph),\r\n                    blockEditor = myself.parentThatIsA(BlockEditorMorph);\r\n                if (nb) {nb.destroy(); }\r\n                cpy.pickUp(world);\r\n                if (!ide && blockEditor) {\r\n                    ide = blockEditor.target.parentThatIsA(IDE_Morph);\r\n                }\r\n                if (ide) {\r\n                    world.hand.grabOrigin = {\r\n                        origin: ide.palette,\r\n                        position: ide.palette.center()\r\n                    };\r\n                }\r\n            },\r\n            'only duplicate this block'\r\n        );\r\n    }\r\n    menu.addItem(\r\n        \"delete\",\r\n        'userDestroy'\r\n    );\r\n    menu.addItem(\r\n        \"script pic...\",\r\n        function () {\r\n            var ide = myself.parentThatIsA(IDE_Morph) ||\r\n                myself.parentThatIsA(BlockEditorMorph).target.parentThatIsA(\r\n                    IDE_Morph\r\n            );\r\n            ide.saveCanvasAs(\r\n                myself.topBlock().scriptPic(),\r\n                (ide.projectName || localize('untitled')) + ' ' +\r\n                    localize('script pic')\r\n            );\r\n        },\r\n        'open a new window\\nwith a picture of this script'\r\n    );\r\n    if (shiftClicked) {\r\n        menu.addItem(\r\n            'download script',\r\n            function () {\r\n                var ide = myself.parentThatIsA(IDE_Morph),\r\n                    blockEditor = myself.parentThatIsA(BlockEditorMorph);\r\n                if (!ide && blockEditor) {\r\n                    ide = blockEditor.target.parentThatIsA(IDE_Morph);\r\n                }\r\n                if (ide) {\r\n                    ide.saveXMLAs(\r\n                        ide.serializer.serialize(myself),\r\n                        myself.selector + ' script',\r\n                        false);\r\n                }\r\n            },\r\n            'download this script\\nas an XML file',\r\n            new Color(100, 0, 0)\r\n            );\r\n    }\r\n    if (proc) {\r\n        if (vNames.length) {\r\n            menu.addLine();\r\n            vNames.forEach(function (vn) {\r\n                menu.addItem(\r\n                    vn + '...',\r\n                    function () {\r\n                        proc.doShowVar(vn);\r\n                    }\r\n                );\r\n            });\r\n        }\r\n        proc.homeContext.variables.names().forEach(function (vn) {\r\n            if (!contains(vNames, vn)) {\r\n                menu.addItem(\r\n                    vn + '...',\r\n                    function () {\r\n                        proc.doShowVar(vn);\r\n                    }\r\n                );\r\n            }\r\n        });\r\n        return menu;\r\n    }\r\n    if (this.parent.parentThatIsA(RingMorph)) {\r\n        menu.addLine();\r\n        menu.addItem(\"unringify\", 'unringify');\r\n        top = this.topBlock();\r\n        if (this instanceof ReporterBlockMorph ||\r\n                (!(top instanceof HatBlockMorph))) {\r\n            menu.addItem(\"ringify\", 'ringify');\r\n        }\r\n        return menu;\r\n    }\r\n    if (this.parent instanceof ReporterSlotMorph\r\n            || (this.parent instanceof CommandSlotMorph)\r\n            || (this instanceof HatBlockMorph)\r\n            || (this instanceof CommandBlockMorph\r\n                && (this.topBlock() instanceof HatBlockMorph))) {\r\n        return menu;\r\n    }\r\n    menu.addLine();\r\n    menu.addItem(\"ringify\", 'ringify');\r\n    if (StageMorph.prototype.enableCodeMapping) {\r\n        menu.addLine();\r\n        menu.addItem(\r\n            'header mapping...',\r\n            'mapToHeader'\r\n        );\r\n        menu.addItem(\r\n            'code mapping...',\r\n            'mapToCode'\r\n        );\r\n    }\r\n    return menu;\r\n};\r\n\r\nBlockMorph.prototype.developersMenu = function () {\r\n    var menu = BlockMorph.uber.developersMenu.call(this);\r\n    menu.addLine();\r\n    menu.addItem(\"delete block\", 'deleteBlock');\r\n    menu.addItem(\"spec...\", function () {\r\n\r\n        new DialogBoxMorph(\r\n            this,\r\n            this.userSetSpec,\r\n            this\r\n        ).prompt(\r\n            menu.title + '\\nspec',\r\n            this.blockSpec,\r\n            this.world()\r\n        );\r\n    });\r\n    return menu;\r\n};\r\n\r\nBlockMorph.prototype.hidePrimitive = function () {\r\n    var ide = this.parentThatIsA(IDE_Morph),\r\n        dict,\r\n        cat;\r\n    if (!ide) {return; }\r\n    StageMorph.prototype.hiddenPrimitives[this.selector] = true;\r\n    dict = {\r\n        doWarp: 'control',\r\n        reifyScript: 'operators',\r\n        reifyReporter: 'operators',\r\n        reifyPredicate: 'operators',\r\n        doDeclareVariables: 'variables'\r\n    };\r\n    cat = dict[this.selector] || this.category;\r\n    if (cat === 'lists') {cat = 'variables'; }\r\n    ide.flushBlocksCache(cat);\r\n    ide.refreshPalette();\r\n};\r\n\r\nBlockMorph.prototype.isInheritedVariable = function (shadowedOnly) {\r\n    // private - only for variable getter template inside the palette\r\n    if (this.isTemplate &&\r\n            (this.selector === 'reportGetVar') &&\r\n            (this.parent instanceof FrameMorph)) {\r\n        return contains(\r\n            this.scriptTarget().inheritedVariableNames(shadowedOnly),\r\n            this.blockSpec\r\n        );\r\n    }\r\n    return false;\r\n};\r\n\r\nBlockMorph.prototype.isTransientVariable = function () {\r\n    // private - only for variable getter template inside the palette\r\n    var varFrame = this.scriptTarget().variables.silentFind(this.blockSpec);\r\n    return varFrame ? varFrame.vars[this.blockSpec].isTransient : false;\r\n};\r\n\r\nBlockMorph.prototype.toggleTransientVariable = function () {\r\n    // private - only for variable getter template inside the palette\r\n    var varFrame = this.scriptTarget().variables.silentFind(this.blockSpec);\r\n    if (!varFrame) {return; }\r\n    varFrame.vars[this.blockSpec].isTransient =\r\n        !(varFrame.vars[this.blockSpec].isTransient);\r\n};\r\n\r\nBlockMorph.prototype.deleteBlock = function () {\r\n    // delete just this one block, keep inputs and next block around\r\n    var scripts = this.parentThatIsA(ScriptsMorph),\r\n        nb = this.nextBlock ? this.nextBlock() : null,\r\n        tobefixed,\r\n        isindef;\r\n    if (scripts) {\r\n        if (nb) {\r\n            scripts.add(nb);\r\n        }\r\n        this.inputs().forEach(function (inp) {\r\n            if (inp instanceof BlockMorph) {\r\n                scripts.add(inp);\r\n            }\r\n        });\r\n    }\r\n    if (this instanceof ReporterBlockMorph &&\r\n\t\t\t((this.parent instanceof BlockMorph)\r\n            \t|| (this.parent instanceof MultiArgMorph)\r\n            \t|| (this.parent instanceof ReporterSlotMorph))) {\r\n        this.parent.revertToDefaultInput(this);\r\n    } else { // CommandBlockMorph\r\n        if (this.parent && this.parent.fixLayout) {\r\n            tobefixed = this.parentThatIsA(ArgMorph);\r\n        } else { // must be in a custom block definition\r\n            isindef = true;\r\n        }\r\n    }\r\n    this.destroy();\r\n    if (isindef) {\r\n        /*\r\n            since the definition's body still points to this block\r\n            even after it has been destroyed, mark it to be deleted\r\n            later.\r\n        */\r\n        this.isCorpse = true;\r\n    }\r\n    if (tobefixed) {\r\n        tobefixed.fixLayout();\r\n    }\r\n};\r\n\r\nBlockMorph.prototype.ringify = function () {\r\n    // wrap a Ring around me\r\n    var ring, top, center,\r\n        target = this.selectForEdit(); // copy-on-edit\r\n    if (target !== this) {\r\n        return this.ringify.call(target);\r\n    }\r\n    ring = new RingMorph();\r\n    top = this.topBlock();\r\n    center = top.fullBounds().center();\r\n    if (this.parent === null) {return null; }\r\n    top.fullChanged();\r\n    if (this.parent instanceof SyntaxElementMorph) {\r\n        if (this instanceof ReporterBlockMorph) {\r\n            this.parent.silentReplaceInput(this, ring);\r\n            ring.embed(this);\r\n        } else if (top) { // command\r\n            if (top instanceof HatBlockMorph) {\r\n                return;\r\n            }\r\n            top.parent.add(ring);\r\n            ring.embed(top);\r\n            ring.setCenter(center);\r\n        }\r\n    } else {\r\n        this.parent.add(ring);\r\n        ring.embed(this);\r\n        ring.setCenter(center);\r\n    }\r\n    this.fixBlockColor(null, true);\r\n    top.fullChanged();\r\n};\r\n\r\nBlockMorph.prototype.unringify = function () {\r\n    // remove a Ring around me, if any\r\n    var ring, top, center, scripts, block,\r\n        target = this.selectForEdit(); // copy-on-edit\r\n    if (target !== this) {\r\n        return this.unringify.call(target);\r\n    }\r\n    ring = this.parent.parentThatIsA(RingMorph);\r\n    top = this.topBlock();\r\n    scripts = this.parentThatIsA(ScriptsMorph);\r\n    if (ring === null) {return null; }\r\n    block = ring.contents();\r\n    center = ring.center();\r\n\r\n    top.fullChanged();\r\n    if (ring.parent instanceof SyntaxElementMorph) {\r\n        if (block instanceof ReporterBlockMorph) {\r\n            ring.parent.silentReplaceInput(ring, block);\r\n        } else if (scripts) {\r\n            scripts.add(block);\r\n            block.setFullCenter(center);\r\n            block.moveBy(20);\r\n            ring.parent.revertToDefaultInput(ring);\r\n        }\r\n    } else {\r\n        ring.parent.add(block);\r\n        block.setFullCenter(center);\r\n        ring.destroy();\r\n    }\r\n    this.fixBlockColor(null, true);\r\n    top.fullChanged();\r\n};\r\n\r\nBlockMorph.prototype.relabel = function (alternativeSelectors) {\r\n    var menu, oldInputs, myself,\r\n        target = this.selectForEdit(); // copy-on-edit\r\n    if (target !== this) {\r\n        return this.relabel.call(target, alternativeSelectors);\r\n    }\r\n    menu = new MenuMorph(this);\r\n    oldInputs = this.inputs();\r\n    myself = this;\r\n    alternativeSelectors.forEach(function (sel) {\r\n        var block = SpriteMorph.prototype.blockForSelector(sel);\r\n        block.restoreInputs(oldInputs);\r\n        block.fixBlockColor(null, true);\r\n        block.addShadow(new Point(3, 3));\r\n        menu.addItem(\r\n            block,\r\n            function () {\r\n                myself.setSelector(sel);\r\n            }\r\n        );\r\n    });\r\n    menu.popup(this.world(), this.bottomLeft().subtract(new Point(\r\n        8,\r\n        this instanceof CommandBlockMorph ? this.corner : 0\r\n    )));\r\n};\r\n\r\nBlockMorph.prototype.setSelector = function (aSelector) {\r\n    // private - used only for relabel()\r\n    var oldInputs = this.inputs(),\r\n        scripts = this.parentThatIsA(ScriptsMorph),\r\n        surplus,\r\n        info;\r\n    info = SpriteMorph.prototype.blocks[aSelector];\r\n    this.setCategory(info.category);\r\n    this.selector = aSelector;\r\n    this.setSpec(localize(info.spec));\r\n    surplus = this.restoreInputs(oldInputs);\r\n    this.fixLabelColor();\r\n\r\n    // place surplus blocks on scipts\r\n    if (scripts && surplus.length) {\r\n        surplus.forEach(function (blk) {\r\n            blk.moveBy(10);\r\n            scripts.add(blk);\r\n        });\r\n    }\r\n};\r\n\r\nBlockMorph.prototype.restoreInputs = function (oldInputs) {\r\n    // private - used only for relabel()\r\n    // try to restore my previous inputs when my spec has been changed\r\n    // return an Array of left-over blocks, if any\r\n    var i = 0,\r\n        old,\r\n        nb,\r\n        leftOver = [],\r\n        myself = this;\r\n\r\n    this.inputs().forEach(function (inp) {\r\n        old = oldInputs[i];\r\n        if (old instanceof ReporterBlockMorph) {\r\n            myself.silentReplaceInput(inp, old.fullCopy());\r\n        } else if (old && inp instanceof InputSlotMorph) {\r\n            // original - turns empty numberslots to 0:\r\n            // inp.setContents(old.evaluate());\r\n            // \"fix\" may be wrong b/c constants\r\n            if (old.contents) {\r\n                inp.setContents(old.contents().text);\r\n            }\r\n        } else if (old instanceof CSlotMorph && inp instanceof CSlotMorph) {\r\n            nb = old.nestedBlock();\r\n            if (nb) {\r\n                inp.nestedBlock(nb.fullCopy());\r\n            }\r\n        }\r\n        i += 1;\r\n    });\r\n\r\n    // gather surplus blocks\r\n    for (i; i < oldInputs.length; i += 1) {\r\n        old = oldInputs[i];\r\n        if (old instanceof ReporterBlockMorph) {\r\n            leftOver.push(old);\r\n        } else if (old instanceof CommandSlotMorph) {\r\n            nb = old.nestedBlock();\r\n            if (nb) {\r\n                leftOver.push(nb);\r\n            }\r\n        }\r\n    }\r\n    this.cachedInputs = null;\r\n    return leftOver;\r\n};\r\n\r\nBlockMorph.prototype.showHelp = function () {\r\n    var myself = this,\r\n        ide = this.parentThatIsA(IDE_Morph),\r\n        blockEditor,\r\n        pic = new Image(),\r\n        help,\r\n        comment,\r\n        block,\r\n        spec = this.isCustomBlock ?\r\n                this.definition.helpSpec() : this.selector,\r\n        ctx;\r\n\r\n    if (!ide) {\r\n        blockEditor = this.parentThatIsA(BlockEditorMorph);\r\n        if (blockEditor) {\r\n            ide = blockEditor.target.parentThatIsA(IDE_Morph);\r\n        }\r\n    }\r\n\r\n    pic.onload = function () {\r\n        help = newCanvas(new Point(pic.width, pic.height), true); // nonRetina\r\n        ctx = help.getContext('2d');\r\n        ctx.drawImage(pic, 0, 0);\r\n        new DialogBoxMorph().inform(\r\n            'Help',\r\n            null,\r\n            myself.world(),\r\n            help\r\n        );\r\n    };\r\n\r\n    if (this.isCustomBlock && this.definition.comment) {\r\n        block = this.fullCopy();\r\n        block.addShadow();\r\n        comment = this.definition.comment.fullCopy();\r\n        comment.contents.parse();\r\n        help = '';\r\n        comment.contents.lines.forEach(function (line) {\r\n            help = help + '\\n' + line;\r\n        });\r\n        new DialogBoxMorph().inform(\r\n            'Help',\r\n            help.substr(1),\r\n            myself.world(),\r\n            block.fullImage()\r\n        );\r\n    } else {\r\n        pic.src = ide.resourceURL('help', spec + '.png');\r\n    }\r\n};\r\n\r\n// BlockMorph code mapping\r\n\r\n/*\r\n    code mapping lets you use blocks to generate arbitrary text-based\r\n    source code that can be exported and compiled / embedded elsewhere,\r\n    it's not part of Snap's evaluator and not needed for Snap itself\r\n*/\r\n\r\nBlockMorph.prototype.mapToHeader = function () {\r\n    // open a dialog box letting the user map header code via the GUI\r\n    var key = this.selector.substr(0, 5) === 'reify' ?\r\n            'reify' : this.selector,\r\n        block = this.codeDefinitionHeader(),\r\n        myself = this,\r\n        help,\r\n        pic;\r\n    block.addShadow(new Point(3, 3));\r\n    pic = block.fullImageClassic();\r\n    if (this.isCustomBlock) {\r\n        help = 'Enter code that corresponds to the block\\'s definition. ' +\r\n            'Use the formal parameter\\nnames as shown and <body> to ' +\r\n            'reference the definition body\\'s generated text code.';\r\n    } else {\r\n        help = 'Enter code that corresponds to the block\\'s definition. ' +\r\n            'Choose your own\\nformal parameter names (ignoring the ones ' +\r\n            'shown).';\r\n    }\r\n    new DialogBoxMorph(\r\n        this,\r\n        function (code) {\r\n            if (key === 'evaluateCustomBlock') {\r\n                myself.definition.codeHeader = code;\r\n            } else {\r\n                StageMorph.prototype.codeHeaders[key] = code;\r\n            }\r\n        },\r\n        this\r\n    ).promptCode(\r\n        'Header mapping',\r\n        key === 'evaluateCustomBlock' ? this.definition.codeHeader || ''\r\n                 : StageMorph.prototype.codeHeaders[key] || '',\r\n        this.world(),\r\n        pic,\r\n        help\r\n    );\r\n};\r\n\r\nBlockMorph.prototype.mapToCode = function () {\r\n    // open a dialog box letting the user map code via the GUI\r\n    var key = this.selector.substr(0, 5) === 'reify' ?\r\n            'reify' : this.selector,\r\n        block = this.codeMappingHeader(),\r\n        myself = this,\r\n        pic;\r\n    block.addShadow(new Point(3, 3));\r\n    pic = block.fullImageClassic();\r\n    new DialogBoxMorph(\r\n        this,\r\n        function (code) {\r\n            if (key === 'evaluateCustomBlock') {\r\n                myself.definition.codeMapping = code;\r\n            } else {\r\n                StageMorph.prototype.codeMappings[key] = code;\r\n            }\r\n        },\r\n        this\r\n    ).promptCode(\r\n        'Code mapping',\r\n        key === 'evaluateCustomBlock' ? this.definition.codeMapping || ''\r\n                 : StageMorph.prototype.codeMappings[key] || '',\r\n        this.world(),\r\n        pic,\r\n        'Enter code that corresponds to the block\\'s operation ' +\r\n            '(usually a single\\nfunction invocation). Use <#n> to ' +\r\n            'reference actual arguments as shown.'\r\n    );\r\n};\r\n\r\nBlockMorph.prototype.mapHeader = function (aString, key) {\r\n    // primitive for programatically mapping header code\r\n    var sel = key || this.selector.substr(0, 5) === 'reify' ?\r\n            'reify' : this.selector;\r\n    if (aString) {\r\n        if (this.isCustomBlock) {\r\n            this.definition.codeHeader = aString;\r\n        } else {\r\n            StageMorph.prototype.codeHeaders[sel] = aString;\r\n        }\r\n    }\r\n};\r\n\r\nBlockMorph.prototype.mapCode = function (aString, key) {\r\n    // primitive for programatically mapping code\r\n    var sel = key || this.selector.substr(0, 5) === 'reify' ?\r\n            'reify' : this.selector;\r\n    if (aString) {\r\n        if (this.isCustomBlock) {\r\n            this.definition.codeMapping = aString;\r\n        } else {\r\n            StageMorph.prototype.codeMappings[sel] = aString;\r\n        }\r\n    }\r\n};\r\n\r\nBlockMorph.prototype.mappedCode = function (definitions) {\r\n    var key = this.selector.substr(0, 5) === 'reify' ?\r\n            'reify' : this.selector,\r\n        code,\r\n        codeLines,\r\n        count = 1,\r\n        header,\r\n        headers,\r\n        headerLines,\r\n        body,\r\n        bodyLines,\r\n        defKey = this.isCustomBlock ? this.definition.spec : key,\r\n        defs = definitions || {},\r\n        parts = [];\r\n    code = key === 'reportGetVar' ? this.blockSpec\r\n            : this.isCustomBlock ? this.definition.codeMapping || ''\r\n                    : StageMorph.prototype.codeMappings[key] || '';\r\n\r\n    // map header\r\n    if (key !== 'reportGetVar' && !defs.hasOwnProperty(defKey)) {\r\n        defs[defKey] = null; // create the property for recursive definitions\r\n        if (this.isCustomBlock) {\r\n            header = this.definition.codeHeader || '';\r\n            if (header.indexOf('<body') !== -1) { // replace with def mapping\r\n                body = '';\r\n                if (this.definition.body) {\r\n                    body = this.definition.body.expression.mappedCode(defs);\r\n                }\r\n                bodyLines = body.split('\\n');\r\n                headerLines = header.split('\\n');\r\n                headerLines.forEach(function (headerLine, idx) {\r\n                    var prefix = '',\r\n                        indent;\r\n                    if (headerLine.trimLeft().indexOf('<body') === 0) {\r\n                        indent = headerLine.indexOf('<body');\r\n                        prefix = headerLine.slice(0, indent);\r\n                    }\r\n                    headerLines[idx] = headerLine.replace(\r\n                        new RegExp('<body>'),\r\n                        bodyLines.join('\\n' + prefix)\r\n                    );\r\n                    headerLines[idx] = headerLines[idx].replace(\r\n                        new RegExp('<body>', 'g'),\r\n                        bodyLines.join('\\n')\r\n                    );\r\n                });\r\n                header = headerLines.join('\\n');\r\n            }\r\n            defs[defKey] = header;\r\n        } else {\r\n            defs[defKey] = StageMorph.prototype.codeHeaders[defKey];\r\n        }\r\n    }\r\n\r\n    codeLines = code.split('\\n');\r\n    this.inputs().forEach(function (input) {\r\n        parts.push(input.mappedCode(defs).toString());\r\n    });\r\n    parts.forEach(function (part) {\r\n        var partLines = part.split('\\n'),\r\n            placeHolder = '<#' + count + '>',\r\n            rx = new RegExp(placeHolder, 'g');\r\n        codeLines.forEach(function (codeLine, idx) {\r\n            var prefix = '',\r\n                indent;\r\n            if (codeLine.trimLeft().indexOf(placeHolder) === 0) {\r\n                indent = codeLine.indexOf(placeHolder);\r\n                prefix = codeLine.slice(0, indent);\r\n            }\r\n            codeLines[idx] = codeLine.replace(\r\n                new RegExp(placeHolder),\r\n                partLines.join('\\n' + prefix)\r\n            );\r\n            codeLines[idx] = codeLines[idx].replace(rx, partLines.join('\\n'));\r\n        });\r\n        count += 1;\r\n    });\r\n    code = codeLines.join('\\n');\r\n    if (this.nextBlock && this.nextBlock()) { // Command\r\n        code += ('\\n' + this.nextBlock().mappedCode(defs));\r\n    }\r\n    if (!definitions) { // top-level, add headers\r\n        headers = [];\r\n        Object.keys(defs).forEach(function (each) {\r\n            if (defs[each]) {\r\n                headers.push(defs[each]);\r\n            }\r\n        });\r\n        if (headers.length) {\r\n            return headers.join('\\n\\n')\r\n                + '\\n\\n'\r\n                + code;\r\n        }\r\n    }\r\n    return code;\r\n};\r\n\r\nBlockMorph.prototype.codeDefinitionHeader = function () {\r\n    var block = this.isCustomBlock ? new PrototypeHatBlockMorph(this.definition)\r\n            : SpriteMorph.prototype.blockForSelector(this.selector),\r\n        hat = new HatBlockMorph(),\r\n        count = 1;\r\n\r\n    if (this.isCustomBlock) {return block; }\r\n    block.inputs().forEach(function (input) {\r\n        var part = new TemplateSlotMorph('#' + count);\r\n        block.silentReplaceInput(input, part);\r\n        count += 1;\r\n    });\r\n    block.isPrototype = true;\r\n    hat.setCategory(\"control\");\r\n    hat.setSpec('%s');\r\n    hat.silentReplaceInput(hat.inputs()[0], block);\r\n    if (this.category === 'control') {\r\n        hat.alternateBlockColor();\r\n    }\r\n    return hat;\r\n};\r\n\r\nBlockMorph.prototype.codeMappingHeader = function () {\r\n    var block = this.isCustomBlock ? this.definition.blockInstance()\r\n            : SpriteMorph.prototype.blockForSelector(this.selector),\r\n        hat = new HatBlockMorph(),\r\n        count = 1;\r\n\r\n    block.inputs().forEach(function (input) {\r\n        var part = new TemplateSlotMorph('<#' + count + '>');\r\n        block.silentReplaceInput(input, part);\r\n        count += 1;\r\n    });\r\n    block.isPrototype = true;\r\n    hat.setCategory(\"control\");\r\n    hat.setSpec('%s');\r\n    hat.silentReplaceInput(hat.inputs()[0], block);\r\n    if (this.category === 'control') {\r\n        hat.alternateBlockColor();\r\n    }\r\n    return hat;\r\n};\r\n\r\n// Variable refactoring\r\n\r\nBlockMorph.prototype.refactorThisVar = function (justTheTemplate) {\r\n    // Rename all occurrences of the variable this block is holding,\r\n    // taking care of its lexical scope\r\n\r\n    var receiver = this.scriptTarget(),\r\n        oldName = this.instantiationSpec || this.blockSpec,\r\n        cpy = this.fullCopy();\r\n\r\n    cpy.addShadow();\r\n\r\n    new DialogBoxMorph(this, renameVarTo, this).prompt(\r\n        'Variable name',\r\n        oldName,\r\n        this.world(),\r\n        cpy.fullImage(), // pic\r\n        InputSlotMorph.prototype.getVarNamesDict.call(this)\r\n    );\r\n\r\n    function renameVarTo (newName) {\r\n        if (this.parent instanceof SyntaxElementMorph) {\r\n            if (this.parentThatIsA(BlockEditorMorph)) {\r\n                this.doRefactorBlockParameter(\r\n                    oldName,\r\n                    newName,\r\n                    justTheTemplate\r\n                );\r\n            } else if (this.parentThatIsA(RingMorph)) {\r\n                this.doRefactorRingParameter(oldName, newName, justTheTemplate);\r\n            } else {\r\n                this.doRefactorScriptVar(oldName, newName, justTheTemplate);\r\n            }\r\n        } else if (receiver.hasSpriteVariable(oldName)) {\r\n            this.doRefactorSpriteVar(oldName, newName, justTheTemplate);\r\n        } else {\r\n            this.doRefactorGlobalVar(oldName, newName, justTheTemplate);\r\n        }\r\n    }\r\n};\r\n\r\nBlockMorph.prototype.varExistsError = function (ide, where) {\r\n    ide.inform(\r\n        'Variable exists',\r\n        'A variable with this name already exists ' +\r\n        (where || 'in this context') + '.'\r\n    );\r\n};\r\n\r\nBlockMorph.prototype.doRefactorBlockParameter = function (\r\n    oldName,\r\n    newName,\r\n    justTheTemplate\r\n) {\r\n    var fragMorph = this.parentThatIsA(BlockInputFragmentMorph),\r\n        fragment = fragMorph.fragment.copy(),\r\n        definer = fragMorph.parent,\r\n        editor = this.parentThatIsA(BlockEditorMorph),\r\n        scripts = editor.body.contents;\r\n\r\n    if (definer.anyChild(function (any) {\r\n        return (any.blockSpec === newName);\r\n    })) {\r\n        this.varExistsError(editor.target.parentThatIsA(IDE_Morph));\r\n        return;\r\n    }\r\n\r\n    fragment.labelString = newName;\r\n    fragMorph.updateBlockLabel(fragment);\r\n\r\n    if (justTheTemplate) {\r\n        return;\r\n    }\r\n\r\n    scripts.children.forEach(function (script) {\r\n        script.refactorVarInStack(oldName, newName);\r\n    });\r\n};\r\n\r\nBlockMorph.prototype.doRefactorRingParameter = function (\r\n    oldName,\r\n    newName,\r\n    justTheTemplate\r\n) {\r\n    var ring = this.parentThatIsA(RingMorph),\r\n        script = ring.contents(),\r\n        tb = this.topBlock();\r\n\r\n    if (contains(ring.inputNames(), newName)) {\r\n        this.varExistsError(this.parentThatIsA(IDE_Morph));\r\n        return;\r\n    }\r\n\r\n    tb.fullChanged();\r\n    this.setSpec(newName);\r\n\r\n    if (justTheTemplate) {\r\n        tb.fullChanged();\r\n        return;\r\n    }\r\n\r\n    if (script) {\r\n        script.refactorVarInStack(oldName, newName);\r\n    }\r\n\r\n    tb.fullChanged();\r\n};\r\n\r\nBlockMorph.prototype.doRefactorScriptVar = function (\r\n    oldName,\r\n    newName,\r\n    justTheTemplate\r\n) {\r\n    var definer = this.parentThatIsA(CommandBlockMorph),\r\n        receiver, ide;\r\n\r\n    if (definer.definesScriptVariable(newName)) {\r\n        receiver = this.scriptTarget();\r\n        ide = receiver.parentThatIsA(IDE_Morph);\r\n        this.varExistsError(ide);\r\n        return;\r\n    }\r\n\r\n    this.userSetSpec(newName);\r\n\r\n    if (justTheTemplate) {\r\n        return;\r\n    }\r\n\r\n    definer.refactorVarInStack(oldName, newName, true);\r\n};\r\n\r\nBlockMorph.prototype.doRefactorSpriteVar = function (\r\n    oldName,\r\n    newName,\r\n    justTheTemplate\r\n) {\r\n    var receiver = this.scriptTarget(),\r\n        ide = receiver.parentThatIsA(IDE_Morph),\r\n        oldWatcher = receiver.findVariableWatcher(oldName),\r\n        oldValue, newWatcher;\r\n\r\n    if (receiver.hasSpriteVariable(newName)) {\r\n        this.varExistsError(ide);\r\n        return;\r\n    } else if (!isNil(ide.globalVariables.vars[newName])) {\r\n        this.varExistsError(ide, 'as a global variable');\r\n        return;\r\n    } else {\r\n        oldValue = receiver.variables.getVar(oldName);\r\n        receiver.deleteVariable(oldName);\r\n        receiver.addVariable(newName, false);\r\n        receiver.variables.setVar(newName, oldValue);\r\n\r\n        if (oldWatcher && oldWatcher.isVisible) {\r\n            newWatcher = receiver.toggleVariableWatcher(\r\n                newName,\r\n                false\r\n            );\r\n            newWatcher.setPosition(oldWatcher.position());\r\n        }\r\n\r\n        if (!justTheTemplate) {\r\n            receiver.refactorVariableInstances(\r\n                oldName,\r\n                newName,\r\n                false\r\n            );\r\n            receiver.customBlocks.forEach(function (eachBlock) {\r\n                eachBlock.body.expression.refactorVarInStack(\r\n                    oldName,\r\n                    newName\r\n                );\r\n            });\r\n        }\r\n    }\r\n\r\n    ide.flushBlocksCache('variables');\r\n    ide.refreshPalette();\r\n};\r\n\r\nBlockMorph.prototype.doRefactorGlobalVar = function (\r\n    oldName,\r\n    newName,\r\n    justTheTemplate\r\n) {\r\n    var receiver = this.scriptTarget(),\r\n        ide = receiver.parentThatIsA(IDE_Morph),\r\n        stage = ide ? ide.stage : null,\r\n        oldWatcher = receiver.findVariableWatcher(oldName),\r\n        oldValue, newWatcher;\r\n\r\n    if (!isNil(ide.globalVariables.vars[newName])) {\r\n        this.varExistsError(ide);\r\n        return;\r\n    } else if (\r\n            detect(\r\n                stage.children,\r\n                function (any) {\r\n                    return any instanceof SpriteMorph &&\r\n                        any.hasSpriteVariable(newName);\r\n                })\r\n            ) {\r\n        this.varExistsError(ide, 'as a sprite local variable');\r\n        return;\r\n    } else {\r\n        oldValue = ide.globalVariables.getVar(oldName);\r\n        stage.deleteVariable(oldName);\r\n        stage.addVariable(newName, true);\r\n        ide.globalVariables.setVar(newName, oldValue);\r\n\r\n        if (oldWatcher && oldWatcher.isVisible) {\r\n            newWatcher = receiver.toggleVariableWatcher(\r\n                    newName,\r\n                    true\r\n                    );\r\n            newWatcher.setPosition(oldWatcher.position());\r\n        }\r\n\r\n        if (!justTheTemplate) {\r\n            stage.refactorVariableInstances(\r\n                oldName,\r\n                newName,\r\n                true\r\n            );\r\n            stage.globalBlocks.forEach(function (eachBlock) {\r\n                eachBlock.body.expression.refactorVarInStack(\r\n                    oldName,\r\n                    newName\r\n                );\r\n            });\r\n            stage.forAllChildren(function (child) {\r\n                if (child instanceof SpriteMorph) {\r\n                    child.refactorVariableInstances(\r\n                        oldName,\r\n                        newName,\r\n                        true\r\n                    );\r\n                    child.customBlocks.forEach(\r\n                        function (eachBlock) {\r\n                            eachBlock.body.expression\r\n                                .refactorVarInStack(\r\n                                    oldName,\r\n                                    newName\r\n                                );\r\n                        }\r\n                    );\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    ide.flushBlocksCache('variables');\r\n    ide.refreshPalette();\r\n};\r\n\r\n// BlockMorph drawing\r\n\r\nBlockMorph.prototype.eraseHoles = function (context) {\r\n    var myself = this,\r\n        isRing = this instanceof RingMorph,\r\n        shift = this.edge * 0.5,\r\n        gradient,\r\n        rightX,\r\n        holes = this.parts().filter(function (part) {\r\n            return part.isHole;\r\n        });\r\n\r\n    if (this.isPredicate && (holes.length > 0)) {\r\n        rightX = this.width() - this.rounding;\r\n        context.clearRect(\r\n            rightX,\r\n            0,\r\n            this.width(),\r\n            this.height()\r\n        );\r\n\r\n        // draw a 3D-ish vertical right edge\r\n        gradient = context.createLinearGradient(\r\n            rightX - this.edge,\r\n            0,\r\n            this.width(),\r\n            0\r\n        );\r\n        gradient.addColorStop(0, this.color.toString());\r\n        gradient.addColorStop(1, this.dark());\r\n        context.lineWidth = this.edge;\r\n        context.lineJoin = 'round';\r\n        context.lineCap = 'round';\r\n        context.strokeStyle = gradient;\r\n        context.beginPath();\r\n        context.moveTo(rightX - shift, this.edge + shift);\r\n        context.lineTo(rightX - shift, this.height() - this.edge - shift);\r\n        context.stroke();\r\n    }\r\n    holes.forEach(function (hole) {\r\n        var w = hole.width(),\r\n            h = Math.floor(hole.height()) - 2; // Opera needs this\r\n        context.clearRect(\r\n            hole.bounds.origin.x - myself.bounds.origin.x + 1,\r\n            hole.bounds.origin.y - myself.bounds.origin.y + 1,\r\n            isRing ? w - 2 : w + 1,\r\n            h\r\n        );\r\n    });\r\n\r\n};\r\n\r\n// BlockMorph highlighting\r\n\r\nBlockMorph.prototype.addHighlight = function (oldHighlight) {\r\n    var isHidden = !this.isVisible,\r\n        highlight;\r\n\r\n    if (isHidden) {this.show(); }\r\n    highlight = this.highlight(\r\n        oldHighlight ? oldHighlight.color : this.activeHighlight,\r\n        this.activeBlur,\r\n        this.activeBorder\r\n    );\r\n    this.addBack(highlight);\r\n    this.fullChanged();\r\n    if (isHidden) {this.hide(); }\r\n    return highlight;\r\n};\r\n\r\nBlockMorph.prototype.addErrorHighlight = function () {\r\n    var isHidden = !this.isVisible,\r\n        highlight;\r\n\r\n    if (isHidden) {this.show(); }\r\n    this.removeHighlight();\r\n    highlight = this.highlight(\r\n        this.errorHighlight,\r\n        this.activeBlur,\r\n        this.activeBorder\r\n    );\r\n    this.addBack(highlight);\r\n    this.fullChanged();\r\n    if (isHidden) {this.hide(); }\r\n    return highlight;\r\n};\r\n\r\nBlockMorph.prototype.removeHighlight = function () {\r\n    var highlight = this.getHighlight();\r\n    if (highlight !== null) {\r\n        this.fullChanged();\r\n        this.removeChild(highlight);\r\n    }\r\n    return highlight;\r\n};\r\n\r\nBlockMorph.prototype.toggleHighlight = function () {\r\n    if (this.getHighlight()) {\r\n        this.removeHighlight();\r\n    } else {\r\n        this.addHighlight();\r\n    }\r\n};\r\n\r\nBlockMorph.prototype.highlight = function (color, blur, border) {\r\n    var highlight = new BlockHighlightMorph(),\r\n        fb = this.fullBounds(),\r\n        edge = useBlurredShadows && !MorphicPreferences.isFlat ?\r\n                blur : border;\r\n    highlight.setExtent(fb.extent().add(edge * 2));\r\n    highlight.color = color;\r\n    highlight.image = useBlurredShadows && !MorphicPreferences.isFlat ?\r\n            this.highlightImageBlurred(color, blur)\r\n                : this.highlightImage(color, border);\r\n    highlight.setPosition(fb.origin.subtract(new Point(edge, edge)));\r\n    return highlight;\r\n};\r\n\r\nBlockMorph.prototype.highlightImage = function (color, border) {\r\n    var fb, img, hi, ctx, out;\r\n    fb = this.fullBounds().extent();\r\n    img = this.fullImage();\r\n\r\n    hi = newCanvas(fb.add(border * 2));\r\n    ctx = hi.getContext('2d');\r\n\r\n    ctx.drawImage(img, 0, 0);\r\n    ctx.drawImage(img, border, 0);\r\n    ctx.drawImage(img, border * 2, 0);\r\n    ctx.drawImage(img, border * 2, border);\r\n    ctx.drawImage(img, border * 2, border * 2);\r\n    ctx.drawImage(img, border, border * 2);\r\n    ctx.drawImage(img, 0, border * 2);\r\n    ctx.drawImage(img, 0, border);\r\n\r\n    ctx.globalCompositeOperation = 'destination-out';\r\n    ctx.drawImage(img, border, border);\r\n\r\n    out = newCanvas(fb.add(border * 2));\r\n    ctx = out.getContext('2d');\r\n    ctx.drawImage(hi, 0, 0);\r\n    ctx.globalCompositeOperation = 'source-atop';\r\n    ctx.fillStyle = color.toString();\r\n    ctx.fillRect(0, 0, out.width, out.height);\r\n\r\n    return out;\r\n};\r\n\r\nBlockMorph.prototype.highlightImageBlurred = function (color, blur) {\r\n    var fb, img, hi, ctx;\r\n    fb = this.fullBounds().extent();\r\n    img = this.fullImage();\r\n\r\n    hi = newCanvas(fb.add(blur * 2));\r\n    ctx = hi.getContext('2d');\r\n    ctx.shadowBlur = blur;\r\n    ctx.shadowColor = color.toString();\r\n    ctx.drawImage(img, blur, blur);\r\n\r\n    ctx.shadowBlur = 0;\r\n    ctx.globalCompositeOperation = 'destination-out';\r\n    ctx.drawImage(img, blur, blur);\r\n    return hi;\r\n};\r\n\r\nBlockMorph.prototype.getHighlight = function () {\r\n    var highlights;\r\n    highlights = this.children.slice(0).reverse().filter(\r\n        function (child) {\r\n            return child instanceof BlockHighlightMorph;\r\n        }\r\n    );\r\n    if (highlights.length !== 0) {\r\n        return highlights[0];\r\n    }\r\n    return null;\r\n};\r\n\r\nBlockMorph.prototype.outline = function (color, border) {\r\n    var highlight = new BlockHighlightMorph(),\r\n        fb = this.fullBounds(),\r\n        edge = border;\r\n    highlight.setExtent(fb.extent().add(edge * 2));\r\n    highlight.color = color;\r\n    highlight.image = this.highlightImage(color, border);\r\n    highlight.setPosition(fb.origin.subtract(new Point(edge, edge)));\r\n    return highlight;\r\n};\r\n\r\n// BlockMorph zebra coloring\r\n\r\nBlockMorph.prototype.fixBlockColor = function (nearestBlock, isForced) {\r\n    var nearest = nearestBlock,\r\n        clr,\r\n        cslot;\r\n\r\n    if (!this.zebraContrast && !isForced) {\r\n        return;\r\n    }\r\n    if (!this.zebraContrast && isForced) {\r\n        return this.forceNormalColoring(true);\r\n    }\r\n\r\n    if (!nearest) {\r\n        if (this.parent) {\r\n            if (this.isPrototype) {\r\n                nearest = null; // this.parent; // the PrototypeHatBlockMorph\r\n            } else if (this instanceof ReporterBlockMorph) {\r\n                nearest = this.parent.parentThatIsA(BlockMorph);\r\n            } else { // command\r\n                cslot = this.parentThatIsA(CommandSlotMorph);\r\n                if (cslot) {\r\n                    nearest = cslot.parentThatIsA(BlockMorph);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    if (!nearest) { // top block\r\n        clr = SpriteMorph.prototype.blockColor[this.category];\r\n        if (!this.color.eq(clr)) {\r\n            this.alternateBlockColor();\r\n        }\r\n    } else if (nearest.category === this.category) {\r\n        if (nearest.color.eq(this.color)) {\r\n            this.alternateBlockColor();\r\n        }\r\n    } else if (this.category && !this.color.eq(\r\n            SpriteMorph.prototype.blockColor[this.category]\r\n        )) {\r\n        this.alternateBlockColor();\r\n    }\r\n    if (isForced) {\r\n        this.fixChildrensBlockColor(true);\r\n    }\r\n};\r\n\r\nBlockMorph.prototype.forceNormalColoring = function (silently) {\r\n    var clr = SpriteMorph.prototype.blockColor[this.category];\r\n    this.setColor(clr, silently);\r\n    this.setLabelColor(\r\n        new Color(255, 255, 255),\r\n        clr.darker(this.labelContrast),\r\n        new Point(-1, -1)\r\n    );\r\n    this.fixChildrensBlockColor(true);\r\n};\r\n\r\nBlockMorph.prototype.alternateBlockColor = function () {\r\n    var clr = SpriteMorph.prototype.blockColor[this.category];\r\n\r\n    if (this.color.eq(clr)) {\r\n        this.setColor(\r\n            this.zebraContrast < 0 ? clr.darker(Math.abs(this.zebraContrast))\r\n                : clr.lighter(this.zebraContrast),\r\n            this.hasLabels() // silently\r\n        );\r\n    } else {\r\n        this.setColor(clr, this.hasLabels()); // silently\r\n    }\r\n    this.fixLabelColor();\r\n    this.fixChildrensBlockColor(true); // has issues if not forced\r\n};\r\n\r\nBlockMorph.prototype.ghost = function () {\r\n    this.setColor(\r\n        SpriteMorph.prototype.blockColor[this.category].lighter(35)\r\n    );\r\n};\r\n\r\nBlockMorph.prototype.fixLabelColor = function () {\r\n    if (this.zebraContrast > 0 && this.category) {\r\n        var clr = SpriteMorph.prototype.blockColor[this.category];\r\n        if (this.color.eq(clr)) {\r\n            this.setLabelColor(\r\n                new Color(255, 255, 255),\r\n                clr.darker(this.labelContrast),\r\n                MorphicPreferences.isFlat ? null : new Point(-1, -1)\r\n            );\r\n        } else {\r\n            this.setLabelColor(\r\n                new Color(0, 0, 0),\r\n                clr.lighter(this.zebraContrast)\r\n                    .lighter(this.labelContrast * 2),\r\n                MorphicPreferences.isFlat ? null : new Point(1, 1)\r\n            );\r\n        }\r\n    }\r\n};\r\n\r\nBlockMorph.prototype.fixChildrensBlockColor = function (isForced) {\r\n    var myself = this;\r\n    this.children.forEach(function (morph) {\r\n        if (morph instanceof CommandBlockMorph) {\r\n            morph.fixBlockColor(null, isForced);\r\n        } else if (morph instanceof SyntaxElementMorph) {\r\n            morph.fixBlockColor(myself, isForced);\r\n            if (morph instanceof BooleanSlotMorph) {\r\n                morph.drawNew();\r\n            }\r\n        }\r\n    });\r\n};\r\n\r\nBlockMorph.prototype.setCategory = function (aString) {\r\n    this.category = aString;\r\n    this.startLayout();\r\n    this.fixBlockColor();\r\n    this.endLayout();\r\n};\r\n\r\nBlockMorph.prototype.hasLabels = function () {\r\n    return this.children.some(function (any) {\r\n        return any instanceof StringMorph;\r\n    });\r\n};\r\n\r\n// BlockMorph copying\r\n\r\nBlockMorph.prototype.fullCopy = function () {\r\n    var ans = BlockMorph.uber.fullCopy.call(this);\r\n    ans.removeHighlight();\r\n    ans.isDraggable = true;\r\n    if (this.instantiationSpec) {\r\n        ans.setSpec(this.instantiationSpec);\r\n    }\r\n    ans.allChildren().filter(function (block) {\r\n        if (block instanceof SyntaxElementMorph) {\r\n            block.cachedInputs = null;\r\n            if (block.isCustomBlock) {\r\n                block.initializeVariables();\r\n            }\r\n        }\r\n        return !isNil(block.comment);\r\n    }).forEach(function (block) {\r\n        var cmnt = block.comment.fullCopy();\r\n        block.comment = cmnt;\r\n        cmnt.block = block;\r\n    });\r\n    ans.cachedInputs = null;\r\n    return ans;\r\n};\r\n\r\nBlockMorph.prototype.reactToTemplateCopy = function () {\r\n    this.forceNormalColoring();\r\n};\r\n\r\nBlockMorph.prototype.hasBlockVars = function () {\r\n    return this.anyChild(function (any) {\r\n        return any.isCustomBlock &&\r\n            any.isGlobal &&\r\n            any.definition.variableNames.length;\r\n    });\r\n};\r\n\r\n// BlockMorph events\r\n\r\nBlockMorph.prototype.mouseClickLeft = function () {\r\n    var top = this.topBlock(),\r\n        receiver = top.scriptTarget(),\r\n        shiftClicked = this.world().currentKey === 16,\r\n        stage;\r\n    if (shiftClicked && !this.isTemplate) {\r\n        return this.selectForEdit().focus(); // enable coopy-on-edit\r\n    }\r\n    if (top instanceof PrototypeHatBlockMorph) {\r\n        return top.mouseClickLeft();\r\n    }\r\n    if (receiver) {\r\n        stage = receiver.parentThatIsA(StageMorph);\r\n        if (stage) {\r\n            stage.threads.toggleProcess(top, receiver);\r\n        }\r\n    }\r\n};\r\n\r\nBlockMorph.prototype.focus = function () {\r\n    var scripts = this.parentThatIsA(ScriptsMorph),\r\n        world = this.world(),\r\n        focus;\r\n    if (!scripts || !ScriptsMorph.prototype.enableKeyboard) {return; }\r\n    if (scripts.focus) {scripts.focus.stopEditing(); }\r\n    world.stopEditing();\r\n    focus = new ScriptFocusMorph(scripts, this);\r\n    scripts.focus = focus;\r\n    focus.getFocus(world);\r\n    if (this instanceof HatBlockMorph) {\r\n        focus.nextCommand();\r\n    }\r\n};\r\n\r\nBlockMorph.prototype.activeProcess = function () {\r\n    var top = this.topBlock(),\r\n        receiver = top.scriptTarget(),\r\n        stage;\r\n    if (top instanceof PrototypeHatBlockMorph) {\r\n        return null;\r\n    }\r\n    if (receiver) {\r\n        stage = receiver.parentThatIsA(StageMorph);\r\n        if (stage) {\r\n            return stage.threads.findProcess(top, receiver);\r\n        }\r\n    }\r\n    return null;\r\n};\r\n\r\n// BlockMorph thumbnail and script pic\r\n\r\nBlockMorph.prototype.thumbnail = function (scale, clipWidth) {\r\n    var nb = this.nextBlock(),\r\n        fadeout = 12,\r\n        ext,\r\n        trgt,\r\n        ctx,\r\n        gradient;\r\n\r\n    if (nb) {nb.isVisible = false; }\r\n    ext = this.fullBounds().extent();\r\n    trgt = newCanvas(new Point(\r\n        clipWidth ? Math.min(ext.x * scale, clipWidth) : ext.x * scale,\r\n        ext.y * scale\r\n    ));\r\n    ctx = trgt.getContext('2d');\r\n    ctx.scale(scale, scale);\r\n    ctx.drawImage(this.fullImage(), 0, 0);\r\n    // draw fade-out\r\n    if (clipWidth && ext.x * scale > clipWidth) {\r\n        gradient = ctx.createLinearGradient(\r\n            trgt.width / scale - fadeout,\r\n            0,\r\n            trgt.width / scale,\r\n            0\r\n        );\r\n        gradient.addColorStop(0, 'transparent');\r\n        gradient.addColorStop(1, 'black');\r\n        ctx.globalCompositeOperation = 'destination-out';\r\n        ctx.fillStyle = gradient;\r\n        ctx.fillRect(\r\n            trgt.width / scale - fadeout,\r\n            0,\r\n            trgt.width / scale,\r\n            trgt.height / scale\r\n        );\r\n    }\r\n    if (nb) {nb.isVisible = true; }\r\n    return trgt;\r\n};\r\n\r\nBlockMorph.prototype.scriptPic = function () {\r\n    // answer a canvas image that also includes comments\r\n    var scr = this.fullImage(),\r\n        fb = this.stackFullBounds(),\r\n        pic = newCanvas(fb.extent()),\r\n        ctx = pic.getContext('2d');\r\n    this.allComments().forEach(function (comment) {\r\n        ctx.drawImage(\r\n            comment.fullImageClassic(),\r\n            comment.fullBounds().left() - fb.left(),\r\n            comment.top() - fb.top()\r\n        );\r\n    });\r\n    ctx.drawImage(scr, 0, 0);\r\n    return pic;\r\n};\r\n\r\n// BlockMorph local method indicator drawing\r\n\r\nBlockMorph.prototype.drawMethodIcon = function (context) {\r\n    var ext = this.methodIconExtent(),\r\n        w = ext.x,\r\n        h = ext.y,\r\n        r = w / 2,\r\n        x = this.edge + this.labelPadding,\r\n        y = this.edge,\r\n        isNormal =\r\n            this.color === SpriteMorph.prototype.blockColor[this.category];\r\n\r\n    if (this.isPredicate) {\r\n        x = this.rounding;\r\n    }\r\n    if (this instanceof CommandBlockMorph) {\r\n        y += this.corner;\r\n    }\r\n    context.fillStyle = isNormal ? this.cachedClrBright : this.cachedClrDark;\r\n\r\n    // pin\r\n    context.beginPath();\r\n    context.arc(x + r, y + r, r, radians(-210), radians(30), false);\r\n    context.lineTo(x + r, y + h);\r\n    context.closePath();\r\n    context.fill();\r\n\r\n    // hole\r\n    context.fillStyle = this.cachedClr;\r\n    context.beginPath();\r\n    context.arc(x + r, y + r, r * 0.4, radians(0), radians(360), false);\r\n    context.closePath();\r\n    context.fill();\r\n};\r\n\r\n// BlockMorph dragging and dropping\r\n\r\nBlockMorph.prototype.rootForGrab = function () {\r\n    return this;\r\n};\r\n\r\n/*\r\n    for demo purposes, allows you to drop arg morphs onto\r\n    blocks and forces a layout update. This section has\r\n    no relevance in end user mode.\r\n*/\r\n\r\nBlockMorph.prototype.wantsDropOf = function (aMorph) {\r\n    // override the inherited method\r\n    return (aMorph instanceof ArgMorph\r\n        || aMorph instanceof StringMorph\r\n        || aMorph instanceof TextMorph\r\n    ) && !this.isTemplate;\r\n};\r\n\r\nBlockMorph.prototype.reactToDropOf = function (droppedMorph) {\r\n    droppedMorph.isDraggable = false;\r\n    if (droppedMorph instanceof InputSlotMorph) {\r\n        droppedMorph.drawNew();\r\n    } else if (droppedMorph instanceof MultiArgMorph) {\r\n        droppedMorph.fixLayout();\r\n    }\r\n    this.fixLayout();\r\n    this.buildSpec();\r\n};\r\n\r\nBlockMorph.prototype.situation = function () {\r\n    // answer a dictionary specifying where I am right now, so\r\n    // I can slide back to it if I'm dropped somewhere else\r\n    if (!(this.parent instanceof TemplateSlotMorph)) {\r\n        var scripts = this.parentThatIsA(ScriptsMorph);\r\n        if (scripts) {\r\n            return {\r\n                origin: scripts,\r\n                position: this.position().subtract(scripts.position())\r\n            };\r\n        }\r\n    }\r\n    return BlockMorph.uber.situation.call(this);\r\n};\r\n\r\n// BlockMorph sticky comments\r\n\r\nBlockMorph.prototype.prepareToBeGrabbed = function (hand) {\r\n    var myself = this;\r\n    this.allComments().forEach(function (comment) {\r\n        comment.startFollowing(myself, hand.world);\r\n    });\r\n};\r\n\r\nBlockMorph.prototype.justDropped = function () {\r\n   \r\n    this.alpha = 1;\r\n    this.allComments().forEach(function (comment) {\r\n        comment.stopFollowing();\r\n    });\r\n};\r\n\r\nBlockMorph.prototype.allComments = function () {\r\n    return this.allChildren().filter(function (block) {\r\n        return !isNil(block.comment);\r\n    }).map(function (block) {\r\n        return block.comment;\r\n    });\r\n};\r\n\r\nBlockMorph.prototype.destroy = function (justThis) {\r\n    // private - use IDE_Morph.removeBlock() to first stop all my processes\r\n    if (justThis) {\r\n        if (!isNil(this.comment)) {\r\n            this.comment.destroy();\r\n        }\r\n    } else {\r\n        this.allComments().forEach(function (comment) {\r\n            comment.destroy();\r\n        });\r\n    }\r\n    BlockMorph.uber.destroy.call(this);\r\n};\r\n\r\nBlockMorph.prototype.stackHeight = function () {\r\n    var fb = this.fullBounds(),\r\n        commentsBottom = Math.max(this.allComments().map(\r\n            function (comment) {return comment.bottom(); }\r\n        )) || this.bottom();\r\n    return Math.max(fb.bottom(), commentsBottom) - fb.top();\r\n};\r\n\r\nBlockMorph.prototype.stackFullBounds = function () {\r\n    var fb = this.fullBounds();\r\n    this.allComments().forEach(function (comment) {\r\n        fb.mergeWith(comment.bounds);\r\n    });\r\n    return fb;\r\n};\r\n\r\nBlockMorph.prototype.stackWidth = function () {\r\n    var fb = this.fullBounds(),\r\n        commentsRight = Math.max(this.allComments().map(\r\n            function (comment) {return comment.right(); }\r\n        )) || this.right();\r\n    return Math.max(fb.right(), commentsRight) - fb.left();\r\n};\r\n\r\nBlockMorph.prototype.snap = function () {\r\n    var top = this.topBlock(),\r\n        receiver,\r\n        stage,\r\n        ide;\r\n    top.allComments().forEach(function (comment) {\r\n        comment.align(top);\r\n    });\r\n    // fix highlights, if any\r\n    if (this.getHighlight() && (this !== top)) {\r\n        this.removeHighlight();\r\n    }\r\n    if (top.getHighlight()) {\r\n        top.addHighlight(top.removeHighlight());\r\n    }\r\n    // register generic hat blocks\r\n    if (this.selector === 'receiveCondition') {\r\n        receiver = top.scriptTarget();\r\n        if (receiver) {\r\n            stage = receiver.parentThatIsA(StageMorph);\r\n            if (stage) {\r\n                stage.enableCustomHatBlocks = true;\r\n                stage.threads.pauseCustomHatBlocks = false;\r\n                ide = stage.parentThatIsA(IDE_Morph);\r\n                if (ide) {\r\n                    ide.controlBar.stopButton.refresh();\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\n// CommandBlockMorph ///////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a stackable jigsaw-shaped block.\r\n\r\n    I inherit from BlockMorph adding the following most important\r\n    public accessors:\r\n\r\n        nextBlock()       - set / get the block attached to my bottom\r\n        bottomBlock()     - answer the bottom block of my stack\r\n        blockSequence()   - answer an array of blocks starting with myself\r\n\r\n    and the following \"lexical awareness\" indicators:\r\n\r\n        partOfCustomCommand - temporary bool set by the evaluator\r\n        exitTag           - temporary string or number set by the evaluator\r\n*/\r\n\r\n// CommandBlockMorph inherits from BlockMorph:\r\n\r\nCommandBlockMorph.prototype = new BlockMorph();\r\nCommandBlockMorph.prototype.constructor = CommandBlockMorph;\r\nCommandBlockMorph.uber = BlockMorph.prototype;\r\n\r\n// CommandBlockMorph instance creation:\r\n\r\nfunction CommandBlockMorph() {\r\n    this.init();\r\n}\r\n\r\nCommandBlockMorph.prototype.init = function (silently) {\r\n    CommandBlockMorph.uber.init.call(this, silently);\r\n    this.setExtent(new Point(200, 100), silently);\r\n    this.partOfCustomCommand = false;\r\n    this.exitTag = null;\r\n    // this.cachedNextBlock = null; // don't serialize\r\n};\r\n\r\n// CommandBlockMorph enumerating:\r\n\r\nCommandBlockMorph.prototype.blockSequence = function () {\r\n    var nb = this.nextBlock(),\r\n        result = [this];\r\n    if (nb) {\r\n        result = result.concat(nb.blockSequence());\r\n    }\r\n    return result;\r\n};\r\n\r\nCommandBlockMorph.prototype.bottomBlock = function () {\r\n    // topBlock() also exists - inherited from SyntaxElementMorph\r\n    if (this.nextBlock()) {\r\n        return this.nextBlock().bottomBlock();\r\n    }\r\n    return this;\r\n};\r\n\r\nCommandBlockMorph.prototype.nextBlock = function (block) {\r\n    // set / get the block attached to my bottom\r\n    if (block) {\r\n        var nb = this.nextBlock(),\r\n            affected = this.parentThatIsA(CommandSlotMorph);\r\n        this.add(block);\r\n        // this.cachedNextBlock = block;\r\n        if (nb) {\r\n            block.bottomBlock().nextBlock(nb);\r\n        }\r\n        block.setPosition(\r\n            new Point(\r\n                this.left(),\r\n                this.bottom() - (this.corner)\r\n            )\r\n        );\r\n        if (affected) {\r\n            affected.fixLayout();\r\n        }\r\n    } else {\r\n        /* cachedNextBlock - has issues, disabled for now\r\n        if (!this.cachedNextBlock) {\r\n            this.cachedNextBlock = detect(\r\n                this.children,\r\n                function (child) {\r\n                    return child instanceof CommandBlockMorph\r\n                        && !child.isPrototype;\r\n                }\r\n            );\r\n        }\r\n        return this.cachedNextBlock;\r\n        */\r\n        return detect(\r\n            this.children,\r\n            function (child) {\r\n                return child instanceof CommandBlockMorph\r\n                    && !child.isPrototype;\r\n            }\r\n        );\r\n    }\r\n};\r\n\r\n// CommandBlockMorph attach targets:\r\n\r\nCommandBlockMorph.prototype.topAttachPoint = function () {\r\n    return new Point(\r\n        this.dentCenter(),\r\n        this.top()\r\n    );\r\n};\r\n\r\nCommandBlockMorph.prototype.bottomAttachPoint = function () {\r\n    return new Point(\r\n        this.dentCenter(),\r\n        this.bottom()\r\n    );\r\n};\r\n\r\nCommandBlockMorph.prototype.wrapAttachPoint = function () {\r\n    var cslot = detect( // could be a method making uses of caching...\r\n        this.inputs(), // ... although these already are cached\r\n        function (each) {return each instanceof CSlotMorph; }\r\n    );\r\n    if (cslot && !cslot.nestedBlock()) {\r\n        return new Point(\r\n            cslot.left() + (cslot.inset * 2) + cslot.corner,\r\n            cslot.top() + (cslot.corner * 2)\r\n        );\r\n    }\r\n    return null;\r\n};\r\n\r\nCommandBlockMorph.prototype.dentLeft = function () {\r\n    return this.left()\r\n        + this.corner\r\n        + this.inset;\r\n};\r\n\r\nCommandBlockMorph.prototype.dentCenter = function () {\r\n    return this.dentLeft()\r\n        + this.corner\r\n        + (this.dent * 0.5);\r\n};\r\n\r\nCommandBlockMorph.prototype.attachTargets = function () {\r\n    var answer = [],\r\n        tp;\r\n    if (!(this instanceof HatBlockMorph)) {\r\n        tp = this.topAttachPoint();\r\n        if (!(this.parent instanceof SyntaxElementMorph)) {\r\n            answer.push({\r\n                point: tp,\r\n                element: this,\r\n                loc: 'top',\r\n                type: 'block'\r\n            });\r\n        }\r\n        if (ScriptsMorph.prototype.enableNestedAutoWrapping ||\r\n                !this.parentThatIsA(CommandSlotMorph)) {\r\n            answer.push({\r\n                point: tp,\r\n                element: this,\r\n                loc: 'wrap',\r\n                type: 'block'\r\n            });\r\n        }\r\n    }\r\n    if (!this.isStop()) {\r\n        answer.push({\r\n            point: this.bottomAttachPoint(),\r\n            element: this,\r\n            loc: 'bottom',\r\n            type: 'block'\r\n        });\r\n    }\r\n    return answer;\r\n};\r\n\r\nCommandBlockMorph.prototype.allAttachTargets = function (newParent) {\r\n    var myself = this,\r\n        target = newParent || this.parent,\r\n        answer = [],\r\n        topBlocks;\r\n\r\n    if (this instanceof HatBlockMorph && newParent.rejectsHats) {\r\n        return answer;\r\n    }\r\n    topBlocks = target.children.filter(function (child) {\r\n        return (child !== myself) &&\r\n            child instanceof SyntaxElementMorph &&\r\n            !child.isTemplate;\r\n    });\r\n    topBlocks.forEach(function (block) {\r\n        block.forAllChildren(function (child) {\r\n            if (child.attachTargets) {\r\n                child.attachTargets().forEach(function (at) {\r\n                    answer.push(at);\r\n                });\r\n            }\r\n        });\r\n    });\r\n    return answer;\r\n};\r\n\r\nCommandBlockMorph.prototype.closestAttachTarget = function (newParent) {\r\n    var target = newParent || this.parent,\r\n        bottomBlock = this.bottomBlock(),\r\n        answer = null,\r\n        thresh = Math.max(\r\n            this.corner * 2 + this.dent,\r\n            this.minSnapDistance\r\n        ),\r\n        dist,\r\n        ref = [],\r\n        minDist = 1000,\r\n        wrap;\r\n\r\n    if (!(this instanceof HatBlockMorph)) {\r\n        ref.push(\r\n            {\r\n                point: this.topAttachPoint(),\r\n                loc: 'top'\r\n            }\r\n        );\r\n        wrap = this.wrapAttachPoint();\r\n        if (wrap) {\r\n            ref.push(\r\n                {\r\n                    point: wrap,\r\n                    loc: 'wrap'\r\n                }\r\n            );\r\n        }\r\n    }\r\n    if (!bottomBlock.isStop()) {\r\n        ref.push(\r\n            {\r\n                point: bottomBlock.bottomAttachPoint(),\r\n                loc: 'bottom'\r\n            }\r\n        );\r\n    }\r\n    this.allAttachTargets(target).forEach(function (eachTarget) {\r\n        ref.forEach(function (eachRef) {\r\n            // match: either both locs are 'wrap' or both are different,\r\n            // none being 'wrap' (can this be expressed any better?)\r\n            if ((eachRef.loc === 'wrap' && (eachTarget.loc === 'wrap')) ||\r\n                ((eachRef.loc !== eachTarget.loc) &&\r\n                    (eachRef.loc !== 'wrap') && (eachTarget.loc !== 'wrap'))\r\n            ) {\r\n                dist = eachRef.point.distanceTo(eachTarget.point);\r\n                if ((dist < thresh) && (dist < minDist)) {\r\n                    minDist = dist;\r\n                    answer = eachTarget;\r\n                }\r\n            }\r\n        });\r\n    });\r\n    return answer;\r\n};\r\n\r\nCommandBlockMorph.prototype.snap = function (hand) {\r\n    var target = this.closestAttachTarget(),\r\n        scripts = this.parentThatIsA(ScriptsMorph),\r\n        before,\r\n        next,\r\n        offsetY,\r\n        cslot,\r\n        affected;\r\n\r\n    scripts.clearDropInfo();\r\n    scripts.lastDroppedBlock = this;\r\n    if (target === null) {\r\n        this.startLayout();\r\n        this.fixBlockColor();\r\n        this.endLayout();\r\n        CommandBlockMorph.uber.snap.call(this); // align stuck comments\r\n        if (hand) {\r\n            scripts.recordDrop(hand.grabOrigin);\r\n        }\r\n        return;\r\n    }\r\n\r\n    scripts.lastDropTarget = target;\r\n\r\n    this.startLayout();\r\n    if (target.loc === 'bottom') {\r\n        if (target.type === 'slot') {\r\n            this.removeHighlight();\r\n            scripts.lastNextBlock = target.element.nestedBlock();\r\n            target.element.nestedBlock(this);\r\n        } else {\r\n            scripts.lastNextBlock = target.element.nextBlock();\r\n            target.element.nextBlock(this);\r\n        }\r\n        if (this.isStop()) {\r\n            next = this.nextBlock();\r\n            if (next) {\r\n                scripts.add(next);\r\n                next.moveBy(this.extent().floorDivideBy(2));\r\n                affected = this.parentThatIsA(CommandSlotMorph);\r\n                if (affected) {\r\n                    affected.fixLayout();\r\n                }\r\n            }\r\n        }\r\n    } else if (target.loc === 'top') {\r\n        target.element.removeHighlight();\r\n        offsetY = this.bottomBlock().bottom() - this.bottom();\r\n        this.setBottom(target.element.top() + this.corner - offsetY);\r\n        this.setLeft(target.element.left());\r\n        this.bottomBlock().nextBlock(target.element);\r\n    } else if (target.loc === 'wrap') {\r\n        cslot = detect( // this should be a method making use of caching\r\n            this.inputs(), // these are already cached, so maybe it's okay\r\n            function (each) {return each instanceof CSlotMorph; }\r\n        );\r\n        // assume the cslot is (still) empty, was checked determining the target\r\n        before = (target.element.parent);\r\n        scripts.lastWrapParent = before;\r\n\r\n        // adjust position of wrapping block\r\n        this.moveBy(target.point.subtract(cslot.slotAttachPoint()));\r\n\r\n        // wrap c-slot around target\r\n        cslot.nestedBlock(target.element);\r\n        if (before instanceof CommandBlockMorph) {\r\n            before.nextBlock(this);\r\n        } else if (before instanceof CommandSlotMorph) {\r\n            before.nestedBlock(this);\r\n        }\r\n\r\n        // fix zebra coloring.\r\n        // this could probably be generalized into the fixBlockColor mechanism\r\n        target.element.blockSequence().forEach(\r\n            function (cmd) {cmd.fixBlockColor(); }\r\n        );\r\n    }\r\n    this.fixBlockColor();\r\n    this.endLayout();\r\n    CommandBlockMorph.uber.snap.call(this); // align stuck comments\r\n    if (hand) {\r\n        scripts.recordDrop(hand.grabOrigin);\r\n    }\r\n    if (this.snapSound) {\r\n        this.snapSound.play();\r\n    }\r\n};\r\n\r\nCommandBlockMorph.prototype.isStop = function () {\r\n    return ([\r\n        'doStopThis',\r\n        'doStop',\r\n        'doStopBlock',\r\n        'doStopAll',\r\n        'doForever',\r\n        'doReport',\r\n        'removeClone'\r\n    ].indexOf(this.selector) > -1);\r\n};\r\n\r\n// CommandBlockMorph deleting\r\n\r\nCommandBlockMorph.prototype.userDestroy = function () {\r\n    var target = this.selectForEdit(); // enable copy-on-edit\r\n    if (target !== this) {\r\n        return this.userDestroy.call(target);\r\n    }\r\n    if (this.nextBlock()) {\r\n        this.userDestroyJustThis();\r\n        return;\r\n    }\r\n\r\n    var scripts = this.parentThatIsA(ScriptsMorph),\r\n        ide = this.parentThatIsA(IDE_Morph),\r\n        parent = this.parentThatIsA(SyntaxElementMorph),\r\n        cslot = this.parentThatIsA(CSlotMorph);\r\n\r\n    // for undrop / redrop\r\n    if (scripts) {\r\n        scripts.clearDropInfo();\r\n        scripts.lastDroppedBlock = this;\r\n        scripts.recordDrop(this.situation());\r\n        scripts.dropRecord.action = 'delete';\r\n    }\r\n\r\n    if (ide) {\r\n        // also stop all active processes hatted by this block\r\n        ide.removeBlock(this);\r\n    } else {\r\n        this.destroy();\r\n    }\r\n    if (cslot) {\r\n        cslot.fixLayout();\r\n    }\r\n    if (parent) {\r\n        parent.reactToGrabOf(this); // fix highlight\r\n    }\r\n};\r\n\r\nCommandBlockMorph.prototype.userDestroyJustThis = function () {\r\n    // delete just this one block, reattach next block to the previous one,\r\n    var scripts = this.parentThatIsA(ScriptsMorph),\r\n        ide = this.parentThatIsA(IDE_Morph),\r\n        cs = this.parentThatIsA(CommandSlotMorph),\r\n        pb,\r\n        nb = this.nextBlock(),\r\n        above,\r\n        parent = this.parentThatIsA(SyntaxElementMorph),\r\n        cslot = this.parentThatIsA(CSlotMorph);\r\n\r\n    // for undrop / redrop\r\n    if (scripts) {\r\n        scripts.clearDropInfo();\r\n        scripts.lastDroppedBlock = this;\r\n        scripts.recordDrop(this.situation());\r\n        scripts.dropRecord.lastNextBlock = nb;\r\n        scripts.dropRecord.action = 'delete';\r\n    }\r\n\r\n    this.topBlock().fullChanged();\r\n    if (this.parent) {\r\n        pb = this.parent.parentThatIsA(CommandBlockMorph);\r\n    }\r\n    if (pb && (pb.nextBlock() === this)) {\r\n        above = pb;\r\n    } else if (cs && (cs.nestedBlock() === this)) {\r\n        above = cs;\r\n    }\r\n    if (ide) {\r\n        // also stop all active processes hatted by this block\r\n        ide.removeBlock(this, true); // just this block\r\n    } else {\r\n        this.destroy(true); // just this block\r\n    }\r\n    if (nb) {\r\n        if (above instanceof CommandSlotMorph) {\r\n            above.nestedBlock(nb);\r\n        } else if (above instanceof CommandBlockMorph) {\r\n            above.nextBlock(nb);\r\n        } else {\r\n            scripts.add(nb);\r\n        }\r\n    } else if (cslot) {\r\n        cslot.fixLayout();\r\n    }\r\n    if (parent) {\r\n        parent.reactToGrabOf(this); // fix highlight\r\n    }\r\n};\r\n\r\n// CommandBlockMorph drawing:\r\n\r\nCommandBlockMorph.prototype.drawNew = function () {\r\n    var context;\r\n    this.cachedClr = this.color.toString();\r\n    this.cachedClrBright = this.bright();\r\n    this.cachedClrDark = this.dark();\r\n    this.image = newCanvas(this.extent());\r\n    context = this.image.getContext('2d');\r\n    context.fillStyle = this.cachedClr;\r\n\r\n    // draw the 'flat' shape:\r\n    this.drawTop(context);\r\n    this.drawBody(context);\r\n    this.drawBottom(context);\r\n\r\n    // add 3D-Effect:\r\n    if (!MorphicPreferences.isFlat) {\r\n        this.drawTopDentEdge(context, 0, 0);\r\n        this.drawBottomDentEdge(context, 0, this.height() - this.corner);\r\n        this.drawLeftEdge(context);\r\n        this.drawRightEdge(context);\r\n        this.drawTopLeftEdge(context);\r\n        this.drawBottomRightEdge(context);\r\n    } else {\r\n        nop();\r\n        /*\r\n        this.drawFlatBottomDentEdge(\r\n            context, 0, this.height() - this.corner\r\n        );\r\n        */\r\n    }\r\n\r\n    // draw method icon if applicable\r\n    if (this.isCustomBlock && !this.isGlobal) {\r\n        this.drawMethodIcon(context);\r\n    }\r\n\r\n    // erase CommandSlots\r\n    this.eraseHoles(context);\r\n};\r\n\r\nCommandBlockMorph.prototype.drawBody = function (context) {\r\n    context.fillRect(\r\n        0,\r\n        Math.floor(this.corner),\r\n        this.width(),\r\n        this.height() - Math.floor(this.corner * 3) + 1\r\n    );\r\n};\r\n\r\nCommandBlockMorph.prototype.drawTop = function (context) {\r\n    context.beginPath();\r\n\r\n    // top left:\r\n    context.arc(\r\n        this.corner,\r\n        this.corner,\r\n        this.corner,\r\n        radians(-180),\r\n        radians(-90),\r\n        false\r\n    );\r\n\r\n    // dent:\r\n    this.drawDent(context, 0, 0);\r\n\r\n    // top right:\r\n    context.arc(\r\n        this.width() - this.corner,\r\n        this.corner,\r\n        this.corner,\r\n        radians(-90),\r\n        radians(-0),\r\n        false\r\n    );\r\n\r\n    context.closePath();\r\n    context.fill();\r\n};\r\n\r\nCommandBlockMorph.prototype.drawBottom = function (context) {\r\n    var y = this.height() - (this.corner * 2);\r\n\r\n    context.beginPath();\r\n\r\n    // bottom left:\r\n    context.arc(\r\n        this.corner,\r\n        y,\r\n        this.corner,\r\n        radians(180),\r\n        radians(90),\r\n        true\r\n    );\r\n\r\n    if (!this.isStop()) {\r\n        this.drawDent(context, 0, this.height() - this.corner);\r\n    }\r\n\r\n    // bottom right:\r\n    context.arc(\r\n        this.width() - this.corner,\r\n        y,\r\n        this.corner,\r\n        radians(90),\r\n        radians(0),\r\n        true\r\n    );\r\n\r\n    context.closePath();\r\n    context.fill();\r\n};\r\n\r\nCommandBlockMorph.prototype.drawDent = function (context, x, y) {\r\n    var indent = x + this.corner * 2 + this.inset;\r\n\r\n    context.lineTo(x + this.corner + this.inset, y);\r\n    context.lineTo(indent, y + this.corner);\r\n    context.lineTo(indent + this.dent, y + this.corner);\r\n    context.lineTo(x + this.corner * 3 + this.inset + this.dent, y);\r\n    context.lineTo(this.width() - this.corner, y);\r\n};\r\n\r\nCommandBlockMorph.prototype.drawTopDentEdge = function (context, x, y) {\r\n    var shift = this.edge * 0.5,\r\n        indent = x + this.corner * 2 + this.inset,\r\n        upperGradient,\r\n        lowerGradient,\r\n        leftGradient,\r\n        lgx;\r\n\r\n    context.lineWidth = this.edge;\r\n    context.lineJoin = 'round';\r\n    context.lineCap = 'round';\r\n\r\n    upperGradient = context.createLinearGradient(\r\n        0,\r\n        y,\r\n        0,\r\n        y + this.edge\r\n    );\r\n    upperGradient.addColorStop(0, this.cachedClrBright);\r\n    upperGradient.addColorStop(1, this.cachedClr);\r\n\r\n    context.strokeStyle = upperGradient;\r\n    context.beginPath();\r\n    context.moveTo(this.corner, y + shift);\r\n    context.lineTo(x + this.corner + this.inset, y + shift);\r\n    context.stroke();\r\n\r\n    context.strokeStyle = upperGradient;\r\n    context.beginPath();\r\n    context.moveTo(\r\n        x + this.corner * 3 + this.inset + this.dent + shift,\r\n        y + shift\r\n    );\r\n    context.lineTo(this.width() - this.corner, y + shift);\r\n    context.stroke();\r\n\r\n    lgx = x + this.corner + this.inset;\r\n    leftGradient = context.createLinearGradient(\r\n        lgx - this.edge,\r\n        y + this.edge,\r\n        lgx,\r\n        y\r\n    );\r\n    leftGradient.addColorStop(0, this.cachedClr);\r\n    leftGradient.addColorStop(1, this.cachedClrBright);\r\n\r\n    context.strokeStyle = leftGradient;\r\n    context.beginPath();\r\n    context.moveTo(x + this.corner + this.inset, y + shift);\r\n    context.lineTo(indent, y + this.corner + shift);\r\n    context.stroke();\r\n\r\n    lowerGradient = context.createLinearGradient(\r\n        0,\r\n        y + this.corner,\r\n        0,\r\n        y + this.corner + this.edge\r\n    );\r\n    lowerGradient.addColorStop(0, this.cachedClrBright);\r\n    lowerGradient.addColorStop(1, this.cachedClr);\r\n\r\n    context.strokeStyle = lowerGradient;\r\n    context.beginPath();\r\n    context.moveTo(indent, y + this.corner + shift);\r\n    context.lineTo(indent + this.dent, y + this.corner + shift);\r\n    context.stroke();\r\n};\r\n\r\nCommandBlockMorph.prototype.drawBottomDentEdge = function (context, x, y) {\r\n    var shift = this.edge * 0.5,\r\n        indent = x + this.corner * 2 + this.inset,\r\n        upperGradient,\r\n        lowerGradient,\r\n        rightGradient;\r\n\r\n    context.lineWidth = this.edge;\r\n    context.lineJoin = 'round';\r\n    context.lineCap = 'round';\r\n\r\n    upperGradient = context.createLinearGradient(\r\n        0,\r\n        y - this.edge,\r\n        0,\r\n        y\r\n    );\r\n    upperGradient.addColorStop(0, this.cachedClr);\r\n    upperGradient.addColorStop(1, this.cachedClrDark);\r\n\r\n    context.strokeStyle = upperGradient;\r\n    context.beginPath();\r\n    context.moveTo(this.corner, y - shift);\r\n    if (this.isStop()) {\r\n        context.lineTo(this.width() - this.corner, y - shift);\r\n    } else {\r\n        context.lineTo(x + this.corner + this.inset - shift, y - shift);\r\n    }\r\n    context.stroke();\r\n\r\n    if (this.isStop()) {    // draw straight bottom edge\r\n        return null;\r\n    }\r\n\r\n    lowerGradient = context.createLinearGradient(\r\n        0,\r\n        y + this.corner - this.edge,\r\n        0,\r\n        y + this.corner\r\n    );\r\n    lowerGradient.addColorStop(0, this.cachedClr);\r\n    lowerGradient.addColorStop(1, this.cachedClrDark);\r\n\r\n    context.strokeStyle = lowerGradient;\r\n    context.beginPath();\r\n    context.moveTo(indent + shift, y + this.corner - shift);\r\n    context.lineTo(indent + this.dent, y + this.corner - shift);\r\n    context.stroke();\r\n\r\n    rightGradient = context.createLinearGradient(\r\n        x + indent + this.dent - this.edge,\r\n        y + this.corner - this.edge,\r\n        x + indent + this.dent,\r\n        y + this.corner\r\n    );\r\n    rightGradient.addColorStop(0, this.cachedClr);\r\n    rightGradient.addColorStop(1, this.cachedClrDark);\r\n\r\n    context.strokeStyle = rightGradient;\r\n    context.beginPath();\r\n    context.moveTo(x + indent + this.dent, y + this.corner - shift);\r\n    context.lineTo(\r\n        x + this.corner * 3 + this.inset + this.dent,\r\n        y - shift\r\n    );\r\n    context.stroke();\r\n\r\n    context.strokeStyle = upperGradient;\r\n    context.beginPath();\r\n    context.moveTo(\r\n        x + this.corner * 3 + this.inset + this.dent,\r\n        y - shift\r\n    );\r\n    context.lineTo(this.width() - this.corner, y - shift);\r\n    context.stroke();\r\n};\r\n\r\nCommandBlockMorph.prototype.drawFlatBottomDentEdge = function (context) {\r\n    if (!this.isStop()) {\r\n        context.fillStyle = this.color.darker(this.contrast / 2).toString();\r\n        context.beginPath();\r\n        this.drawDent(context, 0, this.height() - this.corner);\r\n        context.closePath();\r\n        context.fill();\r\n    }\r\n};\r\n\r\nCommandBlockMorph.prototype.drawLeftEdge = function (context) {\r\n    var shift = this.edge * 0.5,\r\n        gradient = context.createLinearGradient(0, 0, this.edge, 0);\r\n\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    gradient.addColorStop(1, this.cachedClr);\r\n\r\n    context.lineWidth = this.edge;\r\n    context.lineJoin = 'round';\r\n    context.lineCap = 'round';\r\n\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(shift, this.corner);\r\n    context.lineTo(shift, this.height() - this.corner * 2 - shift);\r\n    context.stroke();\r\n};\r\n\r\nCommandBlockMorph.prototype.drawRightEdge = function (context) {\r\n    var shift = this.edge * 0.5,\r\n        x = this.width(),\r\n        gradient;\r\n\r\n    gradient = context.createLinearGradient(x - this.edge, 0, x, 0);\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    gradient.addColorStop(1, this.cachedClrDark);\r\n\r\n    context.lineWidth = this.edge;\r\n    context.lineJoin = 'round';\r\n    context.lineCap = 'round';\r\n\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(x - shift, this.corner + shift);\r\n    context.lineTo(x - shift, this.height() - this.corner * 2);\r\n    context.stroke();\r\n};\r\n\r\nCommandBlockMorph.prototype.drawTopLeftEdge = function (context) {\r\n    var shift = this.edge * 0.5,\r\n        gradient;\r\n\r\n    gradient = context.createRadialGradient(\r\n        this.corner,\r\n        this.corner,\r\n        this.corner,\r\n        this.corner,\r\n        this.corner,\r\n        this.corner - this.edge\r\n    );\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    gradient.addColorStop(1, this.cachedClr);\r\n\r\n    context.lineWidth = this.edge;\r\n    context.lineJoin = 'round';\r\n    context.lineCap = 'round';\r\n\r\n    context.strokeStyle = gradient;\r\n\r\n    context.beginPath();\r\n    context.arc(\r\n        this.corner,\r\n        this.corner,\r\n        this.corner - shift,\r\n        radians(-180),\r\n        radians(-90),\r\n        false\r\n    );\r\n    context.stroke();\r\n};\r\n\r\nCommandBlockMorph.prototype.drawBottomRightEdge = function (context) {\r\n    var shift = this.edge * 0.5,\r\n        x = this.width() - this.corner,\r\n        y = this.height() - this.corner * 2,\r\n        gradient;\r\n\r\n    gradient = context.createRadialGradient(\r\n        x,\r\n        y,\r\n        this.corner,\r\n        x,\r\n        y,\r\n        this.corner - this.edge\r\n    );\r\n    gradient.addColorStop(0, this.cachedClrDark);\r\n    gradient.addColorStop(1, this.cachedClr);\r\n\r\n    context.lineWidth = this.edge;\r\n    context.lineJoin = 'round';\r\n    context.lineCap = 'round';\r\n\r\n    context.strokeStyle = gradient;\r\n\r\n    context.beginPath();\r\n    context.arc(\r\n        x,\r\n        y,\r\n        this.corner - shift,\r\n        radians(90),\r\n        radians(0),\r\n        true\r\n    );\r\n    context.stroke();\r\n};\r\n\r\n// HatBlockMorph ///////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a script's top most block. I can attach command blocks at my\r\n    bottom, but not on top.\r\n\r\n*/\r\n\r\n// HatBlockMorph inherits from CommandBlockMorph:\r\n\r\nHatBlockMorph.prototype = new CommandBlockMorph();\r\nHatBlockMorph.prototype.constructor = HatBlockMorph;\r\nHatBlockMorph.uber = CommandBlockMorph.prototype;\r\n\r\n// HatBlockMorph instance creation:\r\n\r\nfunction HatBlockMorph() {\r\n    this.init();\r\n}\r\n\r\nHatBlockMorph.prototype.init = function () {\r\n    HatBlockMorph.uber.init.call(this, true); // silently\r\n    this.setExtent(new Point(300, 150));\r\n};\r\n\r\n// HatBlockMorph enumerating:\r\n\r\nHatBlockMorph.prototype.blockSequence = function () {\r\n    // override my inherited method so that I am not part of my sequence\r\n    var result = HatBlockMorph.uber.blockSequence.call(this);\r\n    result.shift();\r\n    return result;\r\n};\r\n\r\n// HatBlockMorph drawing:\r\n\r\nHatBlockMorph.prototype.drawTop = function (context) {\r\n    var s = this.hatWidth,\r\n        h = this.hatHeight,\r\n        r = ((4 * h * h) + (s * s)) / (8 * h),\r\n        a = degrees(4 * Math.atan(2 * h / s)),\r\n        sa = a / 2,\r\n        sp = Math.min(s * 1.7, this.width() - this.corner);\r\n\r\n    context.beginPath();\r\n\r\n    context.moveTo(0, h + this.corner);\r\n\r\n    // top arc:\r\n    context.arc(\r\n        s / 2,\r\n        r,\r\n        r,\r\n        radians(-sa - 90),\r\n        radians(-90),\r\n        false\r\n    );\r\n    context.bezierCurveTo(\r\n        s,\r\n        0,\r\n        s,\r\n        h,\r\n        sp,\r\n        h\r\n    );\r\n\r\n    // top right:\r\n    context.arc(\r\n        this.width() - this.corner,\r\n        h + this.corner,\r\n        this.corner,\r\n        radians(-90),\r\n        radians(-0),\r\n        false\r\n    );\r\n\r\n    context.closePath();\r\n    context.fill();\r\n};\r\n\r\nHatBlockMorph.prototype.drawBody = function (context) {\r\n    context.fillRect(\r\n        0,\r\n        this.hatHeight + Math.floor(this.corner) - 1,\r\n        this.width(),\r\n        this.height() - Math.floor(this.corner * 3) - this.hatHeight + 2\r\n    );\r\n};\r\n\r\nHatBlockMorph.prototype.drawLeftEdge = function (context) {\r\n    var shift = this.edge * 0.5,\r\n        gradient = context.createLinearGradient(0, 0, this.edge, 0);\r\n\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    gradient.addColorStop(1, this.cachedClr);\r\n\r\n    context.lineWidth = this.edge;\r\n    context.lineJoin = 'round';\r\n    context.lineCap = 'round';\r\n\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(shift, this.hatHeight + shift);\r\n    context.lineTo(shift, this.height() - this.corner * 2 - shift);\r\n    context.stroke();\r\n};\r\n\r\nHatBlockMorph.prototype.drawRightEdge = function (context) {\r\n    var shift = this.edge * 0.5,\r\n        x = this.width(),\r\n        gradient;\r\n\r\n    gradient = context.createLinearGradient(x - this.edge, 0, x, 0);\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    gradient.addColorStop(1, this.cachedClrDark);\r\n\r\n    context.lineWidth = this.edge;\r\n    context.lineJoin = 'round';\r\n    context.lineCap = 'round';\r\n\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(x - shift, this.corner + this.hatHeight + shift);\r\n    context.lineTo(x - shift, this.height() - this.corner * 2);\r\n    context.stroke();\r\n};\r\n\r\nHatBlockMorph.prototype.drawTopDentEdge = function () {\r\n    return null;\r\n};\r\n\r\nHatBlockMorph.prototype.drawTopLeftEdge = function (context) {\r\n    var shift = this.edge * 0.5,\r\n        s = this.hatWidth,\r\n        h = this.hatHeight,\r\n        r = ((4 * h * h) + (s * s)) / (8 * h),\r\n        a = degrees(4 * Math.atan(2 * h / s)),\r\n        sa = a / 2,\r\n        sp = Math.min(s * 1.7, this.width() - this.corner),\r\n        gradient;\r\n\r\n    gradient = context.createRadialGradient(\r\n        s / 2,\r\n        r,\r\n        r - this.edge,\r\n        s / 2,\r\n        r,\r\n        r\r\n    );\r\n    gradient.addColorStop(1, this.cachedClrBright);\r\n    gradient.addColorStop(0, this.cachedClr);\r\n\r\n    context.lineWidth = this.edge;\r\n    context.lineJoin = 'round';\r\n    context.lineCap = 'round';\r\n\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.arc(\r\n        Math.round(s / 2),\r\n        r,\r\n        r - shift,\r\n        radians(-sa - 90),\r\n        radians(-90),\r\n        false\r\n    );\r\n    context.moveTo(s / 2, shift);\r\n    context.bezierCurveTo(\r\n        s,\r\n        shift,\r\n        s,\r\n        h + shift,\r\n        sp,\r\n        h + shift\r\n    );\r\n    context.lineTo(this.width() - this.corner, h + shift);\r\n    context.stroke();\r\n};\r\n\r\n// ReporterBlockMorph //////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a block with a return value, either round-ish or diamond shaped\r\n    I inherit all my important accessors from BlockMorph\r\n*/\r\n\r\n// ReporterBlockMorph inherits from BlockMorph:\r\n\r\nReporterBlockMorph.prototype = new BlockMorph();\r\nReporterBlockMorph.prototype.constructor = ReporterBlockMorph;\r\nReporterBlockMorph.uber = BlockMorph.prototype;\r\n\r\n// ReporterBlockMorph instance creation:\r\n\r\nfunction ReporterBlockMorph(isPredicate) {\r\n    this.init(isPredicate);\r\n}\r\n\r\nReporterBlockMorph.prototype.init = function (isPredicate, silently) {\r\n    ReporterBlockMorph.uber.init.call(this, silently);\r\n    this.isPredicate = isPredicate || false;\r\n    this.setExtent(new Point(200, 80), silently);\r\n    this.cachedSlotSpec = null; // don't serialize\r\n};\r\n\r\n// ReporterBlockMorph drag & drop:\r\n\r\nReporterBlockMorph.prototype.snap = function (hand) {\r\n    // passing the hand is optional (for when blocks are dragged & dropped)\r\n    var scripts = this.parent,\r\n        nb,\r\n        target;\r\n\r\n    this.cachedSlotSpec = null;\r\n    if (!(scripts instanceof ScriptsMorph)) {\r\n        return null;\r\n    }\r\n\r\n    scripts.clearDropInfo();\r\n    scripts.lastDroppedBlock = this;\r\n\r\n    target = scripts.closestInput(this, hand);\r\n    if (target !== null) {\r\n        scripts.lastReplacedInput = target;\r\n        scripts.lastDropTarget = target.parent;\r\n        if (target instanceof MultiArgMorph) {\r\n            scripts.lastPreservedBlocks = target.inputs();\r\n            scripts.lastReplacedInput = target.fullCopy();\r\n        } else if (target instanceof CommandSlotMorph) {\r\n            scripts.lastReplacedInput = target;\r\n            nb = target.nestedBlock();\r\n            if (nb) {\r\n                nb = nb.fullCopy();\r\n                scripts.add(nb);\r\n                nb.moveBy(nb.extent());\r\n                nb.fixBlockColor();\r\n                scripts.lastPreservedBlocks = [nb];\r\n            }\r\n        }\r\n        target.parent.replaceInput(target, this);\r\n        if (this.snapSound) {\r\n            this.snapSound.play();\r\n        }\r\n    }\r\n    this.startLayout();\r\n    this.fixBlockColor();\r\n    this.endLayout();\r\n    ReporterBlockMorph.uber.snap.call(this);\r\n    if (hand) {\r\n        scripts.recordDrop(hand.grabOrigin);\r\n    }\r\n};\r\n\r\nReporterBlockMorph.prototype.prepareToBeGrabbed = function (handMorph) {\r\n    var oldPos = this.position();\r\n\r\n    nop(handMorph);\r\n    if ((this.parent instanceof BlockMorph)\r\n            || (this.parent instanceof MultiArgMorph)\r\n            || (this.parent instanceof ReporterSlotMorph)) {\r\n        this.parent.revertToDefaultInput(this);\r\n        this.setPosition(oldPos);\r\n    }\r\n    ReporterBlockMorph.uber.prepareToBeGrabbed.call(this, handMorph);\r\n    this.alpha = 0.85;\r\n    this.cachedSlotSpec = null;\r\n};\r\n\r\n// ReporterBlockMorph enumerating\r\n\r\nReporterBlockMorph.prototype.blockSequence = function () {\r\n    // reporters don't have a sequence, answer myself\r\n    return this;\r\n};\r\n\r\n// ReporterBlockMorph evaluating\r\n\r\nReporterBlockMorph.prototype.isUnevaluated = function () {\r\n    // answer whether my parent block's slot is designated to be of an\r\n    // 'unevaluated' kind, denoting a spedial form\r\n    var spec = this.getSlotSpec();\r\n    return spec === '%anyUE' ||\r\n        spec === '%boolUE' ||\r\n        spec === '%f';\r\n};\r\n\r\nReporterBlockMorph.prototype.isLocked = function () {\r\n    // answer true if I can be exchanged by a dropped reporter\r\n    return this.isStatic || (this.getSlotSpec() === '%t');\r\n};\r\n\r\nReporterBlockMorph.prototype.getSlotSpec = function () {\r\n    // answer the spec of the slot I'm in, if any\r\n    // cached for performance\r\n    if (!this.cachedSlotSpec) {\r\n        this.cachedSlotSpec = this.determineSlotSpec();\r\n    /*\r\n    } else {\r\n        // debug slot spec caching\r\n        var real = this.determineSlotSpec();\r\n        if (real !== this.cachedSlotSpec) {\r\n            throw new Error(\r\n                'cached slot spec ' +\r\n                this.cachedSlotSpec +\r\n                ' does not match: ' +\r\n                real\r\n            );\r\n        }\r\n    */\r\n    }\r\n    return this.cachedSlotSpec;\r\n};\r\n\r\nReporterBlockMorph.prototype.determineSlotSpec = function () {\r\n    // private - answer the spec of the slot I'm in, if any\r\n    var parts, idx;\r\n    if (this.parent instanceof BlockMorph) {\r\n        parts = this.parent.parts().filter(\r\n            function (part) {\r\n                return !(part instanceof BlockHighlightMorph);\r\n            }\r\n        );\r\n        idx = parts.indexOf(this);\r\n        if (idx !== -1) {\r\n            if (this.parent.blockSpec) {\r\n                return this.parseSpec(this.parent.blockSpec)[idx];\r\n            }\r\n        }\r\n    }\r\n    if (this.parent instanceof MultiArgMorph) {\r\n        return this.parent.slotSpec;\r\n    }\r\n    if (this.parent instanceof TemplateSlotMorph) {\r\n        return this.parent.getSpec();\r\n    }\r\n    return null;\r\n};\r\n\r\n// ReporterBlockMorph events\r\n\r\nReporterBlockMorph.prototype.mouseClickLeft = function (pos) {\r\n    var label;\r\n    if (this.parent instanceof BlockInputFragmentMorph) {\r\n        return this.parent.mouseClickLeft();\r\n    }\r\n    if (this.parent instanceof TemplateSlotMorph) {\r\n        if (this.parent.parent && this.parent.parent.parent &&\r\n                this.parent.parent.parent instanceof RingMorph) {\r\n            label = \"Input name\";\r\n        } else if (this.parent.parent.elementSpec === '%blockVars') {\r\n            label = \"Block variable name\";\r\n        } else {\r\n            label = \"Script variable name\";\r\n        }\r\n        new DialogBoxMorph(\r\n            this,\r\n            this.userSetSpec,\r\n            this\r\n        ).prompt(\r\n            label,\r\n            this.blockSpec,\r\n            this.world()\r\n        );\r\n    } else {\r\n        ReporterBlockMorph.uber.mouseClickLeft.call(this, pos);\r\n    }\r\n};\r\n\r\n// ReporterBlock exporting picture with result bubble\r\n\r\nReporterBlockMorph.prototype.exportResultPic = function () {\r\n    var top = this.topBlock(),\r\n        receiver = top.scriptTarget(),\r\n        stage;\r\n    if (top !== this) {return; }\r\n    if (receiver) {\r\n        stage = receiver.parentThatIsA(StageMorph);\r\n        if (stage) {\r\n            stage.threads.stopProcess(top);\r\n            stage.threads.startProcess(top, receiver, false, true);\r\n        }\r\n    }\r\n};\r\n\r\n// ReporterBlockMorph deleting\r\n\r\nReporterBlockMorph.prototype.userDestroy = function () {\r\n    // make sure to restore default slot of parent block\r\n    var target = this.selectForEdit(); // enable copy-on-edit\r\n    if (target !== this) {\r\n        return this.userDestroy.call(target);\r\n    }\r\n\r\n    // for undrop / redrop\r\n    var scripts = this.parentThatIsA(ScriptsMorph);\r\n    if (scripts) {\r\n        scripts.clearDropInfo();\r\n        scripts.lastDroppedBlock = this;\r\n        scripts.recordDrop(this.situation());\r\n        scripts.dropRecord.action = 'delete';\r\n    }\r\n\r\n    this.topBlock().fullChanged();\r\n    this.prepareToBeGrabbed(this.world().hand);\r\n    this.destroy();\r\n};\r\n\r\n// ReporterBlockMorph drawing:\r\n\r\nReporterBlockMorph.prototype.drawNew = function () {\r\n    var context;\r\n    this.cachedClr = this.color.toString();\r\n    this.cachedClrBright = this.bright();\r\n    this.cachedClrDark = this.dark();\r\n    this.image = newCanvas(this.extent());\r\n    context = this.image.getContext('2d');\r\n    context.fillStyle = this.cachedClr;\r\n\r\n    if (this.isPredicate) {\r\n        this.drawDiamond(context);\r\n    } else {\r\n        this.drawRounded(context);\r\n    }\r\n\r\n    // draw method icon if applicable\r\n    if (this.isCustomBlock && !this.isGlobal) {\r\n        this.drawMethodIcon(context);\r\n    }\r\n    // erase CommandSlots\r\n    this.eraseHoles(context);\r\n};\r\n\r\nReporterBlockMorph.prototype.drawRounded = function (context) {\r\n    var h = this.height(),\r\n        r = Math.min(this.rounding, h / 2),\r\n        w = this.width(),\r\n        shift = this.edge / 2,\r\n        gradient;\r\n\r\n    // draw the 'flat' shape:\r\n    context.fillStyle = this.cachedClr;\r\n    context.beginPath();\r\n\r\n    // top left:\r\n    context.arc(\r\n        r,\r\n        r,\r\n        r,\r\n        radians(-180),\r\n        radians(-90),\r\n        false\r\n    );\r\n\r\n    // top right:\r\n    context.arc(\r\n        w - r,\r\n        r,\r\n        r,\r\n        radians(-90),\r\n        radians(-0),\r\n        false\r\n    );\r\n\r\n    // bottom right:\r\n    context.arc(\r\n        w - r,\r\n        h - r,\r\n        r,\r\n        radians(0),\r\n        radians(90),\r\n        false\r\n    );\r\n\r\n    // bottom left:\r\n    context.arc(\r\n        r,\r\n        h - r,\r\n        r,\r\n        radians(90),\r\n        radians(180),\r\n        false\r\n    );\r\n\r\n    context.closePath();\r\n    context.fill();\r\n\r\n    if (MorphicPreferences.isFlat) {return; }\r\n\r\n    // add 3D-Effect:\r\n    context.lineWidth = this.edge;\r\n    context.lineJoin = 'round';\r\n    context.lineCap = 'round';\r\n\r\n    // half-tone edges\r\n    // bottem left corner\r\n    gradient = context.createRadialGradient(\r\n        r,\r\n        h - r,\r\n        r - this.edge,\r\n        r,\r\n        h - r,\r\n        r + this.edge\r\n    );\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    gradient.addColorStop(1, this.cachedClrBright);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.arc(\r\n        r,\r\n        h - r,\r\n        r - shift,\r\n        radians(90),\r\n        radians(180),\r\n        false\r\n    );\r\n    context.stroke();\r\n\r\n    // top right corner\r\n    gradient = context.createRadialGradient(\r\n        w - r,\r\n        r,\r\n        r - this.edge,\r\n        w - r,\r\n        r,\r\n        r + this.edge\r\n    );\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    gradient.addColorStop(1, this.cachedClrDark);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.arc(\r\n        w - r,\r\n        r,\r\n        r - shift,\r\n        radians(-90),\r\n        radians(0),\r\n        false\r\n    );\r\n    context.stroke();\r\n\r\n    // normal gradient edges\r\n\r\n    // top edge: straight line\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        0,\r\n        0,\r\n        this.edge\r\n    );\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    gradient.addColorStop(1, this.cachedClr);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(r - shift, shift);\r\n    context.lineTo(w - r + shift, shift);\r\n    context.stroke();\r\n\r\n    // top edge: left corner\r\n    gradient = context.createRadialGradient(\r\n        r,\r\n        r,\r\n        r - this.edge,\r\n        r,\r\n        r,\r\n        r\r\n    );\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    gradient.addColorStop(1, this.cachedClrBright);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.arc(\r\n        r,\r\n        r,\r\n        r - shift,\r\n        radians(180),\r\n        radians(270),\r\n        false\r\n    );\r\n    context.stroke();\r\n\r\n    // bottom edge: right corner\r\n    gradient = context.createRadialGradient(\r\n        w - r,\r\n        h - r,\r\n        r - this.edge,\r\n        w - r,\r\n        h - r,\r\n        r\r\n    );\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    gradient.addColorStop(1, this.cachedClrDark);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.arc(\r\n        w - r,\r\n        h - r,\r\n        r - shift,\r\n        radians(0),\r\n        radians(90),\r\n        false\r\n    );\r\n    context.stroke();\r\n\r\n    // bottom edge: straight line\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        h - this.edge,\r\n        0,\r\n        h\r\n    );\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    gradient.addColorStop(1, this.cachedClrDark);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(r - shift, h - shift);\r\n    context.lineTo(w - r + shift, h - shift);\r\n    context.stroke();\r\n\r\n    // left edge: straight vertical line\r\n    gradient = context.createLinearGradient(0, 0, this.edge, 0);\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    gradient.addColorStop(1, this.cachedClr);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(shift, r);\r\n    context.lineTo(shift, h - r);\r\n    context.stroke();\r\n\r\n    // right edge: straight vertical line\r\n    gradient = context.createLinearGradient(w - this.edge, 0, w, 0);\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    gradient.addColorStop(1, this.cachedClrDark);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(w - shift, r + shift);\r\n    context.lineTo(w - shift, h - r);\r\n    context.stroke();\r\n\r\n};\r\n\r\nReporterBlockMorph.prototype.drawDiamond = function (context) {\r\n    var w = this.width(),\r\n        h = this.height(),\r\n        h2 = Math.floor(h / 2),\r\n        r = this.rounding,\r\n        shift = this.edge / 2,\r\n        gradient;\r\n\r\n    // draw the 'flat' shape:\r\n    context.fillStyle = this.cachedClr;\r\n    context.beginPath();\r\n\r\n    context.moveTo(0, h2);\r\n    context.lineTo(r, 0);\r\n    context.lineTo(w - r, 0);\r\n    context.lineTo(w, h2);\r\n    context.lineTo(w - r, h);\r\n    context.lineTo(r, h);\r\n\r\n    context.closePath();\r\n    context.fill();\r\n\r\n    if (MorphicPreferences.isFlat) {return; }\r\n\r\n    // add 3D-Effect:\r\n    context.lineWidth = this.edge;\r\n    context.lineJoin = 'round';\r\n    context.lineCap = 'round';\r\n\r\n    // half-tone edges\r\n    // bottom left corner\r\n    gradient = context.createLinearGradient(\r\n        -r,\r\n        0,\r\n        r,\r\n        0\r\n    );\r\n    gradient.addColorStop(1, this.cachedClr);\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(shift, h2);\r\n    context.lineTo(r, h - shift);\r\n    context.closePath();\r\n    context.stroke();\r\n\r\n    // top right corner\r\n    gradient = context.createLinearGradient(\r\n        w - r,\r\n        0,\r\n        w + r,\r\n        0\r\n    );\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    gradient.addColorStop(1, this.cachedClrDark);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(w - shift, h2);\r\n    context.lineTo(w - r, shift);\r\n    context.closePath();\r\n    context.stroke();\r\n\r\n    // normal gradient edges\r\n    // top edge: left corner\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        0,\r\n        r,\r\n        0\r\n    );\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    gradient.addColorStop(1, this.cachedClr);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(shift, h2);\r\n    context.lineTo(r, shift);\r\n    context.closePath();\r\n    context.stroke();\r\n\r\n    // top edge: straight line\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        0,\r\n        0,\r\n        this.edge\r\n    );\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    gradient.addColorStop(1, this.cachedClr);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(r, shift);\r\n    context.lineTo(w - r, shift);\r\n    context.closePath();\r\n    context.stroke();\r\n\r\n    // bottom edge: right corner\r\n    gradient = context.createLinearGradient(\r\n        w - r,\r\n        0,\r\n        w,\r\n        0\r\n    );\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    gradient.addColorStop(1, this.cachedClrDark);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(w - r, h - shift);\r\n    context.lineTo(w - shift, h2);\r\n    context.closePath();\r\n    context.stroke();\r\n\r\n    // bottom edge: straight line\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        h - this.edge,\r\n        0,\r\n        h\r\n    );\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    gradient.addColorStop(1, this.cachedClrDark);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(r + shift, h - shift);\r\n    context.lineTo(w - r - shift, h - shift);\r\n    context.closePath();\r\n    context.stroke();\r\n};\r\n\r\n// RingMorph /////////////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a reporter block which reifies its contents, my outer shape is\r\n    always roundish (never diamond)\r\n*/\r\n\r\n// RingMorph inherits from ReporterBlockMorph:\r\n\r\nRingMorph.prototype = new ReporterBlockMorph();\r\nRingMorph.prototype.constructor = RingMorph;\r\nRingMorph.uber = ReporterBlockMorph.prototype;\r\n\r\n// RingMorph preferences settings:\r\n\r\nRingMorph.prototype.isCachingInputs = false;\r\n// RingMorph.prototype.edge = 2;\r\n// RingMorph.prototype.rounding = 9;\r\n// RingMorph.prototype.alpha = 0.8;\r\n// RingMorph.prototype.contrast = 85;\r\n\r\n// RingMorph instance creation:\r\n\r\nfunction RingMorph() {\r\n    this.init();\r\n}\r\n\r\nRingMorph.prototype.init = function () {\r\n    RingMorph.uber.init.call(this);\r\n    this.category = 'other';\r\n    this.alpha = RingMorph.prototype.alpha;\r\n    this.contrast = RingMorph.prototype.contrast;\r\n    this.setExtent(new Point(200, 80));\r\n};\r\n\r\n// RingMorph dragging and dropping\r\n\r\nRingMorph.prototype.rootForGrab = function () {\r\n    if (this.isDraggable) {\r\n        return this;\r\n    }\r\n    return BlockMorph.uber.rootForGrab.call(this);\r\n};\r\n\r\n// RingMorph ops - Note: these assume certain layouts defined elsewhere -\r\n\r\nRingMorph.prototype.embed = function (aBlock, inputNames) {\r\n    var slot;\r\n\r\n    // set my color\r\n    this.color = SpriteMorph.prototype.blockColor.other;\r\n    this.isDraggable = true;\r\n\r\n    // set my type, selector, and nested block:\r\n    if (aBlock instanceof CommandBlockMorph) {\r\n        this.isStatic = false;\r\n        this.setSpec('%rc %ringparms');\r\n        this.selector = 'reifyScript';\r\n        slot = this.parts()[0];\r\n        slot.nestedBlock(aBlock);\r\n    } else if (aBlock.isPredicate) {\r\n        this.isStatic = true;\r\n        this.setSpec('%rp %ringparms');\r\n        this.selector = 'reifyPredicate';\r\n        slot = this.parts()[0];\r\n        slot.silentReplaceInput(slot.contents(), aBlock);\r\n    } else if (aBlock instanceof BooleanSlotMorph) {\r\n        this.isStatic = false;\r\n        this.setSpec('%rp %ringparms');\r\n        this.selector = 'reifyPredicate';\r\n        slot = this.parts()[0];\r\n        slot.silentReplaceInput(slot.contents(), aBlock);\r\n    } else { // reporter or input slot)\r\n        this.isStatic = false;\r\n        this.setSpec('%rr %ringparms');\r\n        this.selector = 'reifyReporter';\r\n        slot = this.parts()[0];\r\n        slot.silentReplaceInput(slot.contents(), aBlock);\r\n    }\r\n\r\n    // set my inputs, if any\r\n    slot = this.parts()[1];\r\n    if (inputNames) {\r\n        inputNames.forEach(function (name) {\r\n            slot.addInput(name);\r\n        });\r\n    }\r\n\r\n    // ensure zebra coloring\r\n    this.fixBlockColor(null, true);\r\n};\r\n\r\nRingMorph.prototype.vanishForSimilar = function () {\r\n    // let me disappear if I am nesting a variable getter or Ring\r\n    // but only if I'm not already inside another ring\r\n    var slot = this.parts()[0],\r\n        block = slot.nestedBlock();\r\n\r\n    if (!block) {return null; }\r\n    if (!(this.parent instanceof SyntaxElementMorph)) {return null; }\r\n    if (this.parent instanceof RingReporterSlotMorph\r\n            || (this.parent instanceof RingCommandSlotMorph)) {\r\n        return null;\r\n    }\r\n    if (block.selector === 'reportGetVar' ||\r\n        block.selector === 'reportJSFunction' ||\r\n        (block instanceof RingMorph)\r\n    ) {\r\n        this.parent.silentReplaceInput(this, block);\r\n    }\r\n};\r\n\r\nRingMorph.prototype.contents = function () {\r\n    return this.parts()[0].nestedBlock();\r\n};\r\n\r\nRingMorph.prototype.inputNames = function () {\r\n    return this.parts()[1].evaluate();\r\n};\r\n\r\nRingMorph.prototype.dataType = function () {\r\n    switch (this.selector) {\r\n    case 'reifyScript':\r\n        return 'command';\r\n    case 'reifyPredicate':\r\n        return 'predicate';\r\n    default:\r\n        return 'reporter';\r\n    }\r\n};\r\n\r\n// RingMorph zebra coloring\r\n\r\nRingMorph.prototype.fixBlockColor = function (nearest, isForced) {\r\n    var slot = this.parts()[0];\r\n    RingMorph.uber.fixBlockColor.call(this, nearest, isForced);\r\n    slot.fixLayout();\r\n};\r\n\r\n// ScriptsMorph ////////////////////////////////////////////////////////\r\n\r\n/*\r\n    I give feedback about possible drop targets and am in charge\r\n    of actually snapping blocks together.\r\n\r\n    My children are the top blocks of scripts.\r\n\r\n    I store a back-pointer to my owner, i.e. the object (sprite)\r\n    to whom my scripts apply.\r\n*/\r\n\r\n// ScriptsMorph inherits from FrameMorph:\r\n\r\nScriptsMorph.prototype = new FrameMorph();\r\nScriptsMorph.prototype.constructor = ScriptsMorph;\r\nScriptsMorph.uber = FrameMorph.prototype;\r\n\r\n// ScriptsMorph preference settings\r\n\r\nScriptsMorph.prototype.cleanUpMargin = 20;\r\nScriptsMorph.prototype.cleanUpSpacing = 15;\r\nScriptsMorph.prototype.isPreferringEmptySlots = true;\r\nScriptsMorph.prototype.enableKeyboard = true;\r\nScriptsMorph.prototype.enableNestedAutoWrapping = true;\r\n\r\n// ScriptsMorph instance creation:\r\n\r\nfunction ScriptsMorph() {\r\n    this.init();\r\n}\r\n\r\nScriptsMorph.prototype.init = function () {\r\n    this.feedbackColor = SyntaxElementMorph.prototype.feedbackColor;\r\n    this.feedbackMorph = new BoxMorph();\r\n    this.rejectsHats = false;\r\n\r\n    // \"undrop\" attributes:\r\n    this.lastDroppedBlock = null;\r\n    this.lastReplacedInput = null;\r\n    this.lastDropTarget = null;\r\n    this.lastPreservedBlocks = null;\r\n    this.lastNextBlock = null;\r\n    this.lastWrapParent = null;\r\n\r\n    // keyboard editing support:\r\n    this.focus = null;\r\n\r\n    ScriptsMorph.uber.init.call(this);\r\n    this.setColor(new Color(70, 70, 70));\r\n    this.noticesTransparentClick = true;\r\n\r\n    // initialize \"undrop\" queue\r\n    this.isAnimating = false;\r\n    this.dropRecord = null;\r\n    this.recordDrop();\r\n};\r\n\r\n// ScriptsMorph deep copying:\r\n\r\nScriptsMorph.prototype.fullCopy = function () {\r\n    var cpy = new ScriptsMorph(),\r\n        pos = this.position(),\r\n        child;\r\n    if (this.focus) {\r\n        this.focus.stopEditing();\r\n    }\r\n    this.children.forEach(function (morph) {\r\n        if (!morph.block) { // omit anchored comments\r\n            child = morph.fullCopy();\r\n            cpy.add(child);\r\n            child.setPosition(morph.position().subtract(pos));\r\n            if (child instanceof BlockMorph) {\r\n                child.allComments().forEach(function (comment) {\r\n                    comment.align(child);\r\n                });\r\n            }\r\n        }\r\n    });\r\n    cpy.adjustBounds();\r\n    return cpy;\r\n};\r\n\r\n// ScriptsMorph stepping:\r\n\r\nScriptsMorph.prototype.step = function () {\r\n    var world = this.world(),\r\n        hand = world.hand,\r\n        block;\r\n\r\n    if (this.feedbackMorph.parent) {\r\n        this.feedbackMorph.destroy();\r\n        this.feedbackMorph.parent = null;\r\n    }\r\n    if (this.focus && (!world.keyboardReceiver ||\r\n            world.keyboardReceiver instanceof StageMorph)) {\r\n        this.focus.getFocus(world);\r\n    }\r\n    if (hand.children.length === 0) {\r\n        return null;\r\n    }\r\n    if (!this.bounds.containsPoint(hand.bounds.origin)) {\r\n        return null;\r\n    }\r\n    block = hand.children[0];\r\n    if (!(block instanceof BlockMorph) && !(block instanceof CommentMorph)) {\r\n        return null;\r\n    }\r\n    if (!contains(hand.morphAtPointer().allParents(), this)) {\r\n        return null;\r\n    }\r\n    if (block instanceof CommentMorph) {\r\n        this.showCommentDropFeedback(block, hand);\r\n    } else if (block instanceof ReporterBlockMorph) {\r\n        this.showReporterDropFeedback(block, hand);\r\n    } else {\r\n        this.showCommandDropFeedback(block);\r\n    }\r\n};\r\n\r\nScriptsMorph.prototype.showReporterDropFeedback = function (block, hand) {\r\n    var target = this.closestInput(block, hand);\r\n\r\n    if (target === null) {\r\n        return null;\r\n    }\r\n    this.feedbackMorph.bounds = target.fullBounds()\r\n        .expandBy(Math.max(\r\n            block.edge * 2,\r\n            block.reporterDropFeedbackPadding\r\n        ));\r\n    this.feedbackMorph.edge = SyntaxElementMorph.prototype.rounding;\r\n    this.feedbackMorph.border = Math.max(\r\n        SyntaxElementMorph.prototype.edge,\r\n        3\r\n    );\r\n    this.add(this.feedbackMorph);\r\n    if (target instanceof MultiArgMorph) {\r\n        this.feedbackMorph.color =\r\n            SpriteMorph.prototype.blockColor.lists.copy();\r\n        this.feedbackMorph.borderColor =\r\n            SpriteMorph.prototype.blockColor.lists;\r\n    } else {\r\n        this.feedbackMorph.color = this.feedbackColor.copy();\r\n        this.feedbackMorph.borderColor = this.feedbackColor;\r\n    }\r\n    this.feedbackMorph.color.a = 0.5;\r\n    this.feedbackMorph.drawNew();\r\n    this.feedbackMorph.changed();\r\n};\r\n\r\nScriptsMorph.prototype.showCommandDropFeedback = function (block) {\r\n    var y, target;\r\n\r\n    target = block.closestAttachTarget(this);\r\n    if (!target) {\r\n        return null;\r\n    }\r\n    if (target.loc === 'wrap') {\r\n        this.showCSlotWrapFeedback(block, target.element);\r\n        return;\r\n    }\r\n    this.add(this.feedbackMorph);\r\n    this.feedbackMorph.border = 0;\r\n    this.feedbackMorph.edge = 0;\r\n    this.feedbackMorph.alpha = 1;\r\n    this.feedbackMorph.setExtent(new Point(\r\n        target.element.width(),\r\n        Math.max(\r\n            SyntaxElementMorph.prototype.corner,\r\n            SyntaxElementMorph.prototype.feedbackMinHeight\r\n        )\r\n    ));\r\n    this.feedbackMorph.color = this.feedbackColor;\r\n    this.feedbackMorph.drawNew();\r\n    this.feedbackMorph.changed();\r\n    y = target.point.y;\r\n    if (target.loc === 'bottom') {\r\n        if (target.type === 'block') {\r\n            if (target.element.nextBlock()) {\r\n                y -= SyntaxElementMorph.prototype.corner;\r\n            }\r\n        } else if (target.type === 'slot') {\r\n            if (target.element.nestedBlock()) {\r\n                y -= SyntaxElementMorph.prototype.corner;\r\n            }\r\n        }\r\n    }\r\n    this.feedbackMorph.setPosition(new Point(\r\n        target.element.left(),\r\n        y\r\n    ));\r\n};\r\n\r\nScriptsMorph.prototype.showCommentDropFeedback = function (comment, hand) {\r\n    var target = this.closestBlock(comment, hand);\r\n    if (!target) {\r\n        return null;\r\n    }\r\n\r\n    this.feedbackMorph.bounds = target.bounds\r\n        .expandBy(Math.max(\r\n            BlockMorph.prototype.edge * 2,\r\n            BlockMorph.prototype.reporterDropFeedbackPadding\r\n        ));\r\n    this.feedbackMorph.edge = SyntaxElementMorph.prototype.rounding;\r\n    this.feedbackMorph.border = Math.max(\r\n        SyntaxElementMorph.prototype.edge,\r\n        3\r\n    );\r\n    this.add(this.feedbackMorph);\r\n    this.feedbackMorph.color = comment.color.copy();\r\n    this.feedbackMorph.color.a = 0.25;\r\n    this.feedbackMorph.borderColor = comment.titleBar.color;\r\n    this.feedbackMorph.drawNew();\r\n    this.feedbackMorph.changed();\r\n};\r\n\r\nScriptsMorph.prototype.showCSlotWrapFeedback = function (srcBlock, trgBlock) {\r\n    var clr;\r\n    this.feedbackMorph.bounds = trgBlock.fullBounds()\r\n        .expandBy(BlockMorph.prototype.corner);\r\n    this.feedbackMorph.edge = SyntaxElementMorph.prototype.corner;\r\n    this.feedbackMorph.border = Math.max(\r\n        SyntaxElementMorph.prototype.edge,\r\n        3\r\n    );\r\n    this.add(this.feedbackMorph);\r\n    clr = srcBlock.color.lighter(40);\r\n    this.feedbackMorph.color = clr.copy();\r\n    this.feedbackMorph.color.a = 0.1;\r\n    this.feedbackMorph.borderColor = clr;\r\n    this.feedbackMorph.drawNew();\r\n    this.feedbackMorph.changed();\r\n};\r\n\r\nScriptsMorph.prototype.closestInput = function (reporter, hand) {\r\n    // passing the hand is optional (when dragging reporters)\r\n    var fb = reporter.fullBoundsNoShadow(),\r\n        stacks = this.children.filter(function (child) {\r\n            return (child instanceof BlockMorph) &&\r\n                (child.fullBounds().intersects(fb));\r\n        }),\r\n        blackList = reporter.allInputs(),\r\n        handPos,\r\n        target,\r\n        all;\r\n\r\n    all = [];\r\n    stacks.forEach(function (stack) {\r\n        all = all.concat(stack.allInputs());\r\n    });\r\n    if (all.length === 0) {return null; }\r\n\r\n    function touchingVariadicArrowsIfAny(inp, point) {\r\n        if (inp instanceof MultiArgMorph) {\r\n            if (point) {\r\n                return inp.arrows().bounds.containsPoint(point);\r\n            }\r\n            return inp.arrows().bounds.intersects(fb);\r\n        }\r\n        return true;\r\n    }\r\n\r\n    if (this.isPreferringEmptySlots) {\r\n        if (hand) {\r\n            handPos = hand.position();\r\n            target = detect(\r\n                all,\r\n                function (input) {\r\n                    return (input instanceof InputSlotMorph\r\n                            || (input instanceof ArgMorph\r\n                                && !(input instanceof CommandSlotMorph)\r\n                                && !(input instanceof MultiArgMorph))\r\n                            || (input instanceof RingMorph\r\n                                && !input.contents())\r\n                            || input.isEmptySlot())\r\n                        && !input.isLocked()\r\n                        && input.bounds.containsPoint(handPos)\r\n                        && !contains(blackList, input);\r\n                }\r\n            );\r\n            if (target) {\r\n                return target;\r\n            }\r\n        }\r\n        target = detect(\r\n            all,\r\n            function (input) {\r\n                return (input instanceof InputSlotMorph\r\n                        || input instanceof ArgMorph\r\n                        || (input instanceof RingMorph\r\n                            && !input.contents())\r\n                        || input.isEmptySlot())\r\n                    && !input.isLocked()\r\n                    && input.bounds.intersects(fb)\r\n                    && !contains(blackList, input)\r\n                    && touchingVariadicArrowsIfAny(input);\r\n            }\r\n        );\r\n        if (target) {\r\n            return target;\r\n        }\r\n    }\r\n\r\n    if (hand) {\r\n        handPos = hand.position();\r\n        target = detect(\r\n            all,\r\n            function (input) {\r\n                return (input !== reporter)\r\n                    && !input.isLocked()\r\n                    && input.bounds.containsPoint(handPos)\r\n                    && !(input.parent instanceof PrototypeHatBlockMorph)\r\n                    && !contains(blackList, input);\r\n            }\r\n        );\r\n        if (target) {\r\n            return target;\r\n        }\r\n    }\r\n    return detect(\r\n        all,\r\n        function (input) {\r\n            return (input !== reporter)\r\n                && !input.isLocked()\r\n                && input.fullBounds().intersects(fb)\r\n                && !(input.parent instanceof PrototypeHatBlockMorph)\r\n                && !contains(blackList, input);\r\n        }\r\n    );\r\n};\r\n\r\nScriptsMorph.prototype.closestBlock = function (comment, hand) {\r\n    // passing the hand is optional (when dragging comments)\r\n    var fb = comment.bounds,\r\n        stacks = this.children.filter(function (child) {\r\n            return (child instanceof BlockMorph) &&\r\n                (child.fullBounds().intersects(fb));\r\n        }),\r\n        handPos,\r\n        target,\r\n        all;\r\n\r\n    all = [];\r\n    stacks.forEach(function (stack) {\r\n        all = all.concat(stack.allChildren().slice(0).reverse().filter(\r\n            function (child) {return child instanceof BlockMorph &&\r\n                !child.isTemplate; }\r\n        ));\r\n    });\r\n    if (all.length === 0) {return null; }\r\n\r\n    if (hand) {\r\n        handPos = hand.position();\r\n        target = detect(\r\n            all,\r\n            function (block) {\r\n                return !block.comment\r\n                    && !block.isPrototype\r\n                    && block.bounds.containsPoint(handPos);\r\n            }\r\n        );\r\n        if (target) {\r\n            return target;\r\n        }\r\n    }\r\n    return detect(\r\n        all,\r\n        function (block) {\r\n            return !block.comment\r\n                && !block.isPrototype\r\n                && block.bounds.intersects(fb);\r\n        }\r\n    );\r\n};\r\n\r\n// ScriptsMorph user menu\r\n\r\nScriptsMorph.prototype.userMenu = function () {\r\n    var menu = new MenuMorph(this),\r\n        ide = this.parentThatIsA(IDE_Morph),\r\n        shiftClicked = this.world().currentKey === 16,\r\n        blockEditor,\r\n        myself = this,\r\n        obj = this.scriptTarget(),\r\n        hasUndropQueue,\r\n        stage = obj.parentThatIsA(StageMorph);\r\n\r\n    function addOption(label, toggle, test, onHint, offHint) {\r\n        var on = '\\u2611 ',\r\n            off = '\\u2610 ';\r\n        menu.addItem(\r\n            (test ? on : off) + localize(label),\r\n            toggle,\r\n            test ? onHint : offHint\r\n        );\r\n    }\r\n\r\n    if (!ide) {\r\n        blockEditor = this.parentThatIsA(BlockEditorMorph);\r\n        if (blockEditor) {\r\n            ide = blockEditor.target.parentThatIsA(IDE_Morph);\r\n        }\r\n    }\r\n    if (this.dropRecord) {\r\n        if (this.dropRecord.lastRecord) {\r\n            hasUndropQueue = true;\r\n            menu.addPair(\r\n                [\r\n                    new SymbolMorph(\r\n                        'turnBack',\r\n                        MorphicPreferences.menuFontSize\r\n                    ),\r\n                    localize('undrop')\r\n                ],\r\n                'undrop',\r\n                '^Z',\r\n                'undo the last\\nblock drop\\nin this pane'\r\n            );\r\n        }\r\n        if (this.dropRecord.nextRecord) {\r\n            hasUndropQueue = true;\r\n            menu.addPair(\r\n                [\r\n                    new SymbolMorph(\r\n                        'turnForward',\r\n                        MorphicPreferences.menuFontSize\r\n                    ),\r\n                    localize('redrop')\r\n                ],\r\n                'redrop',\r\n                '^Y',\r\n                'redo the last undone\\nblock drop\\nin this pane'\r\n            );\r\n        }\r\n        if (hasUndropQueue) {\r\n            if (shiftClicked) {\r\n                menu.addItem(\r\n                    \"clear undrop queue\",\r\n                    function () {\r\n                        myself.dropRecord = null;\r\n                        myself.clearDropInfo();\r\n                        myself.recordDrop();\r\n                    },\r\n                    'forget recorded block drops\\non this pane',\r\n                    new Color(100, 0, 0)\r\n                );\r\n            }\r\n            menu.addLine();\r\n        }\r\n    }\r\n\r\n    menu.addItem('clean up', 'cleanUp', 'arrange scripts\\nvertically');\r\n    menu.addItem('add comment', 'addComment');\r\n    menu.addItem(\r\n        'scripts pic...',\r\n        'exportScriptsPicture',\r\n        'open a new window\\nwith a picture of all scripts'\r\n    );\r\n    if (ide) {\r\n        menu.addLine();\r\n        if (!blockEditor && obj.exemplar) {\r\n                addOption(\r\n                    'inherited',\r\n                    function () {\r\n                        obj.toggleInheritanceForAttribute('scripts');\r\n                    },\r\n                    obj.inheritsAttribute('scripts'),\r\n                    'uncheck to\\ndisinherit',\r\n                    localize('check to inherit\\nfrom')\r\n                        + ' ' + obj.exemplar.name\r\n                );\r\n        }\r\n        menu.addItem(\r\n            'make a block...',\r\n            function () {\r\n                new BlockDialogMorph(\r\n                    null,\r\n                    function (definition) {\r\n                        if (definition.spec !== '') {\r\n                            if (definition.isGlobal) {\r\n                                stage.globalBlocks.push(definition);\r\n                            } else {\r\n                                obj.customBlocks.push(definition);\r\n                            }\r\n                            ide.flushPaletteCache();\r\n                            ide.refreshPalette();\r\n                            new BlockEditorMorph(definition, obj).popUp();\r\n                        }\r\n                    },\r\n                    myself\r\n                ).prompt(\r\n                    'Make a block',\r\n                    null,\r\n                    myself.world()\r\n                );\r\n            }\r\n        );\r\n    }\r\n    return menu;\r\n};\r\n\r\n// ScriptsMorph user menu features:\r\n\r\nScriptsMorph.prototype.cleanUp = function () {\r\n    var target = this.selectForEdit(), // enable copy-on-edit\r\n        origin = target.topLeft(),\r\n        y = target.cleanUpMargin;\r\n    target.children.sort(function (a, b) {\r\n        // make sure the prototype hat block always stays on top\r\n        return a instanceof PrototypeHatBlockMorph ? 0 : a.top() - b.top();\r\n    }).forEach(function (child) {\r\n        if (child instanceof CommentMorph && child.block) {\r\n            return; // skip anchored comments\r\n        }\r\n        child.setPosition(origin.add(new Point(target.cleanUpMargin, y)));\r\n        if (child instanceof BlockMorph) {\r\n            child.allComments().forEach(function (comment) {\r\n                comment.align(child, true); // ignore layer\r\n            });\r\n        }\r\n        y += child.stackHeight() + target.cleanUpSpacing;\r\n    });\r\n    if (target.parent) {\r\n        target.setPosition(target.parent.topLeft());\r\n    }\r\n    target.adjustBounds();\r\n};\r\n\r\nScriptsMorph.prototype.exportScriptsPicture = function () {\r\n    var pic = this.scriptsPicture(),\r\n        ide = this.world().children[0];\r\n    if (pic) {\r\n        ide.saveCanvasAs(\r\n            pic,\r\n            (ide.projectName || localize('untitled')) + ' ' +\r\n                localize('script pic')\r\n        );\r\n    }\r\n};\r\n\r\nScriptsMorph.prototype.scriptsPicture = function () {\r\n    // private - answer a canvas containing the pictures of all scripts\r\n    var boundingBox, pic, ctx;\r\n    if (this.children.length === 0) {return; }\r\n    boundingBox = this.children[0].fullBounds();\r\n    this.children.forEach(function (child) {\r\n        if (child.isVisible) {\r\n            boundingBox = boundingBox.merge(child.fullBounds());\r\n        }\r\n    });\r\n    pic = newCanvas(boundingBox.extent());\r\n    ctx = pic.getContext('2d');\r\n    this.children.forEach(function (child) {\r\n        var pos = child.fullBounds().origin;\r\n        if (child.isVisible) {\r\n            ctx.drawImage(\r\n                child.fullImageClassic(),\r\n                pos.x - boundingBox.origin.x,\r\n                pos.y - boundingBox.origin.y\r\n            );\r\n        }\r\n    });\r\n    return pic;\r\n};\r\n\r\nScriptsMorph.prototype.addComment = function () {\r\n    var ide = this.parentThatIsA(IDE_Morph),\r\n        blockEditor = this.parentThatIsA(BlockEditorMorph),\r\n        world = this.world();\r\n    new CommentMorph().pickUp(world);\r\n    // register the drop-origin, so the element can\r\n    // slide back to its former situation if dropped\r\n    // somewhere where it gets rejected\r\n    if (!ide && blockEditor) {\r\n        ide = blockEditor.target.parentThatIsA(IDE_Morph);\r\n    }\r\n    if (ide) {\r\n        world.hand.grabOrigin = {\r\n            origin: ide.palette,\r\n            position: ide.palette.center()\r\n        };\r\n    }\r\n};\r\n\r\n// ScriptsMorph undrop / redrop\r\n\r\nScriptsMorph.prototype.undrop = function () {\r\n    var myself = this;\r\n    if (this.isAnimating) {return; }\r\n    if (!this.dropRecord || !this.dropRecord.lastRecord) {return; }\r\n    if (!this.dropRecord.situation) {\r\n        this.dropRecord.situation =\r\n            this.dropRecord.lastDroppedBlock.situation();\r\n    }\r\n    this.isAnimating = true;\r\n    this.dropRecord.lastDroppedBlock.slideBackTo(\r\n        this.dropRecord.lastOrigin,\r\n        null,\r\n        this.recoverLastDrop(),\r\n        function () {\r\n            myself.updateToolbar();\r\n            myself.isAnimating = false;\r\n        }\r\n    );\r\n    this.dropRecord = this.dropRecord.lastRecord;\r\n};\r\n\r\nScriptsMorph.prototype.redrop = function () {\r\n    var myself = this;\r\n    if (this.isAnimating) {return; }\r\n    if (!this.dropRecord || !this.dropRecord.nextRecord) {return; }\r\n    this.dropRecord = this.dropRecord.nextRecord;\r\n    if (this.dropRecord.action === 'delete') {\r\n        this.recoverLastDrop(true);\r\n        this.dropRecord.lastDroppedBlock.destroy();\r\n        this.updateToolbar();\r\n    } else {\r\n        this.isAnimating = true;\r\n        this.dropRecord.lastDroppedBlock.slideBackTo(\r\n            this.dropRecord.situation,\r\n            null,\r\n            this.recoverLastDrop(true),\r\n            function () {\r\n                myself.updateToolbar();\r\n                myself.isAnimating = false;\r\n            }\r\n        );\r\n    }\r\n};\r\n\r\nScriptsMorph.prototype.recoverLastDrop = function (forRedrop) {\r\n    // retrieve the block last touched by the user and answer a function\r\n    // to be called after the animation that moves it back right before\r\n    // dropping it into its former situation\r\n    var rec = this.dropRecord,\r\n        dropped,\r\n        onBeforeDrop,\r\n        parent;\r\n\r\n    if (!rec || !rec.lastDroppedBlock) {\r\n        throw new Error('nothing to undrop');\r\n    }\r\n    dropped = rec.lastDroppedBlock;\r\n    parent = dropped.parent;\r\n    if (dropped instanceof CommandBlockMorph) {\r\n        if (rec.lastNextBlock) {\r\n            if (rec.action === 'delete') {\r\n                if (forRedrop) {\r\n                    this.add(rec.lastNextBlock);\r\n                }\r\n            } else {\r\n                this.add(rec.lastNextBlock);\r\n            }\r\n        }\r\n        if (rec.lastDropTarget) {\r\n            if (rec.lastDropTarget.loc === 'bottom') {\r\n                if (rec.lastDropTarget.type === 'slot') {\r\n                    if (rec.lastNextBlock) {\r\n                        rec.lastDropTarget.element.nestedBlock(\r\n                            rec.lastNextBlock\r\n                        );\r\n                    }\r\n                } else { // 'block'\r\n                    if (rec.lastNextBlock) {\r\n                        rec.lastDropTarget.element.nextBlock(\r\n                            rec.lastNextBlock\r\n                        );\r\n                    }\r\n                }\r\n            } else if (rec.lastDropTarget.loc === 'top') {\r\n                this.add(rec.lastDropTarget.element);\r\n            } else if (rec.lastDropTarget.loc === 'wrap') {\r\n                var cslot = detect( // could be cached...\r\n                    rec.lastDroppedBlock.inputs(), // ...although these are\r\n                    function (each) {return each instanceof CSlotMorph; }\r\n                );\r\n                if (rec.lastWrapParent instanceof CommandBlockMorph) {\r\n                    if (forRedrop) {\r\n                        onBeforeDrop = function () {\r\n                            cslot.nestedBlock(rec.lastDropTarget.element);\r\n                        };\r\n                    } else {\r\n                        rec.lastWrapParent.nextBlock(\r\n                            rec.lastDropTarget.element\r\n                        );\r\n                    }\r\n                } else if (rec.lastWrapParent instanceof CommandSlotMorph) {\r\n                    if (forRedrop) {\r\n                        onBeforeDrop = function () {\r\n                            cslot.nestedBlock(rec.lastDropTarget.element);\r\n                        };\r\n                    } else {\r\n                        rec.lastWrapParent.nestedBlock(\r\n                            rec.lastDropTarget.element\r\n                        );\r\n                    }\r\n                } else {\r\n                    this.add(rec.lastDropTarget.element);\r\n                }\r\n\r\n                // fix zebra coloring.\r\n                // this could be generalized into the fixBlockColor mechanism\r\n                rec.lastDropTarget.element.blockSequence().forEach(\r\n                    function (cmd) {cmd.fixBlockColor(); }\r\n                );\r\n                cslot.fixLayout();\r\n            }\r\n        }\r\n    } else if (dropped instanceof ReporterBlockMorph) {\r\n        if (rec.lastDropTarget) {\r\n            rec.lastDropTarget.replaceInput(\r\n                rec.lastDroppedBlock,\r\n                rec.lastReplacedInput\r\n            );\r\n            rec.lastDropTarget.fixBlockColor(null, true);\r\n            if (rec.lastPreservedBlocks) {\r\n                rec.lastPreservedBlocks.forEach(function (morph) {\r\n                    morph.destroy();\r\n                });\r\n            }\r\n        }\r\n    } else if (dropped instanceof CommentMorph) {\r\n        if (forRedrop && rec.lastDropTarget) {\r\n            onBeforeDrop = function () {\r\n                rec.lastDropTarget.element.comment = dropped;\r\n                dropped.block = rec.lastDropTarget.element;\r\n                dropped.align();\r\n            };\r\n        }\r\n    } else {\r\n        throw new Error('unsupported action for ' + dropped);\r\n    }\r\n    this.clearDropInfo();\r\n    dropped.prepareToBeGrabbed(this.world().hand);\r\n    if (dropped instanceof CommentMorph) {\r\n        dropped.removeShadow();\r\n    }\r\n    this.add(dropped);\r\n    parent.reactToGrabOf(dropped);\r\n    if (dropped instanceof ReporterBlockMorph && parent instanceof BlockMorph) {\r\n        parent.changed();\r\n    }\r\n    if (rec.action === 'delete') {\r\n        if (forRedrop && rec.lastNextBlock) {\r\n            if (parent instanceof CommandBlockMorph) {\r\n                parent.nextBlock(rec.lastNextBlock);\r\n            } else if (parent instanceof CommandSlotMorph) {\r\n                parent.nestedBlock(rec.lastNextBlock);\r\n            }\r\n        }\r\n\r\n        // animate \"undelete\"\r\n        if (!forRedrop) {\r\n            dropped.moveBy(new Point(-100, -20));\r\n        }\r\n    }\r\n    return onBeforeDrop;\r\n};\r\n\r\nScriptsMorph.prototype.clearDropInfo = function () {\r\n    this.lastDroppedBlock = null;\r\n    this.lastReplacedInput = null;\r\n    this.lastDropTarget = null;\r\n    this.lastPreservedBlocks = null;\r\n    this.lastNextBlock = null;\r\n    this.lastWrapParent = null;\r\n};\r\n\r\nScriptsMorph.prototype.recordDrop = function (lastGrabOrigin) {\r\n    // support for \"undrop\" / \"redrop\"\r\n     var record = {\r\n        lastDroppedBlock: this.lastDroppedBlock,\r\n        lastReplacedInput: this.lastReplacedInput,\r\n        lastDropTarget: this.lastDropTarget,\r\n        lastPreservedBlocks: this.lastPreservedBlocks,\r\n        lastNextBlock: this.lastNextBlock,\r\n        lastWrapParent: this.lastWrapParent,\r\n        lastOrigin: lastGrabOrigin,\r\n        action: null,\r\n        situation: null,\r\n        lastRecord: this.dropRecord,\r\n        nextRecord: null\r\n    };\r\n    if (this.dropRecord) {\r\n        this.dropRecord.nextRecord = record;\r\n    }\r\n    this.dropRecord = record;\r\n    this.updateToolbar();\r\n};\r\n\r\nScriptsMorph.prototype.addToolbar = function () {\r\n    var toolBar = new AlignmentMorph(),\r\n    \tmyself = this,\r\n        shade = new Color(140, 140, 140);\r\n\r\n    toolBar.respectHiddens = true;\r\n    toolBar.undoButton = new PushButtonMorph(\r\n        this,\r\n        \"undrop\",\r\n        new SymbolMorph(\"turnBack\", 12)\r\n    );\r\n    toolBar.undoButton.alpha = 0.2;\r\n    toolBar.undoButton.padding = 2;\r\n    // toolBar.undoButton.hint = 'undo the last\\nblock drop\\nin this pane';\r\n    toolBar.undoButton.labelShadowColor = shade;\r\n    toolBar.undoButton.drawNew();\r\n    toolBar.undoButton.fixLayout();\r\n    toolBar.add(toolBar.undoButton);\r\n\r\n    toolBar.redoButton = new PushButtonMorph(\r\n        this,\r\n        \"redrop\",\r\n        new SymbolMorph(\"turnForward\", 12)\r\n    );\r\n    toolBar.redoButton.alpha = 0.2;\r\n    toolBar.redoButton.padding = 2;\r\n    // toolBar.redoButton.hint = 'redo the last undone\\nblock drop\\nin this pane';\r\n    toolBar.redoButton.labelShadowColor = shade;\r\n    toolBar.redoButton.drawNew();\r\n    toolBar.redoButton.fixLayout();\r\n    toolBar.add(toolBar.redoButton);\r\n\r\n    toolBar.keyboardButton = new ToggleButtonMorph(\r\n    \tnull, // colors\r\n        this, // target\r\n        \"toggleKeyboardEntry\",\r\n        [\r\n            new SymbolMorph('keyboard', 12),\r\n            new SymbolMorph('keyboardFilled', 12)\r\n        ],\r\n\t\tfunction () { // query\r\n\t\t\treturn !isNil(myself.focus);\r\n\t\t}\r\n    );\r\n    toolBar.keyboardButton.alpha = 0.2;\r\n    toolBar.keyboardButton.padding = 2;\r\n    toolBar.keyboardButton.hint = 'use the keyboard\\nto enter blocks';\r\n    //toolBar.keyboardButton.pressColor = new Color(40, 40, 40);\r\n    toolBar.keyboardButton.labelShadowColor = shade;\r\n    toolBar.keyboardButton.drawNew();\r\n    toolBar.keyboardButton.fixLayout();\r\n    toolBar.add(toolBar.keyboardButton);\r\n\r\n    return toolBar;\r\n};\r\n\r\nScriptsMorph.prototype.updateToolbar = function () {\r\n    var sf = this.parentThatIsA(ScrollFrameMorph);\r\n    if (!sf) {return; }\r\n    if (!sf.toolBar) {\r\n        sf.toolBar = this.addToolbar();\r\n        sf.add(sf.toolBar);\r\n    }\r\n    if (this.enableKeyboard) {\r\n    \tsf.toolBar.keyboardButton.show();\r\n    \tsf.toolBar.keyboardButton.refresh();\r\n    } else {\r\n        sf.toolBar.keyboardButton.hide();\r\n    }\r\n    if (this.dropRecord) {\r\n        if (this.dropRecord.lastRecord) {\r\n            if (!sf.toolBar.undoButton.isVisible) {\r\n                sf.toolBar.undoButton.show();\r\n            }\r\n        } else {\r\n            if (sf.toolBar.undoButton.isVisible) {\r\n                sf.toolBar.undoButton.hide();\r\n            }\r\n        }\r\n        if (this.dropRecord.nextRecord) {\r\n            if (!sf.toolBar.redoButton.isVisible) {\r\n                sf.toolBar.redoButton.show();\r\n                sf.toolBar.undoButton.mouseLeave();\r\n            }\r\n        } else {\r\n            if (sf.toolBar.redoButton.isVisible) {\r\n                sf.toolBar.redoButton.hide();\r\n            }\r\n        }\r\n    }\r\n\tif (detect(\r\n\t\t\tsf.toolBar.children,\r\n            function (each) {return each.isVisible; }\r\n    )) {\r\n\t    sf.toolBar.fixLayout();\r\n\t    sf.adjustToolBar();\r\n\t}\r\n};\r\n\r\n// ScriptsMorph sorting blocks and comments\r\n\r\nScriptsMorph.prototype.sortedElements = function () {\r\n    // return all scripts and unattached comments\r\n    var scripts = this.children.filter(function (each) {\r\n        return each instanceof CommentMorph ? !each.block : true;\r\n    });\r\n    scripts.sort(function (a, b) {\r\n        // make sure the prototype hat block always stays on top\r\n        return a instanceof PrototypeHatBlockMorph ? 0 : a.top() - b.top();\r\n    });\r\n    return scripts;\r\n};\r\n\r\n// ScriptsMorph blocks layout fix\r\n\r\nScriptsMorph.prototype.fixMultiArgs = function () {\r\n    var oldFlag = Morph.prototype.trackChanges;\r\n\r\n    Morph.prototype.trackChanges = false;\r\n    this.forAllChildren(function (morph) {\r\n        if (morph instanceof MultiArgMorph) {\r\n            morph.fixLayout();\r\n        }\r\n    });\r\n    Morph.prototype.trackChanges = oldFlag;\r\n};\r\n\r\n// ScriptsMorph drag & drop:\r\n\r\nScriptsMorph.prototype.wantsDropOf = function (aMorph) {\r\n    // override the inherited method\r\n    if (aMorph instanceof HatBlockMorph) {\r\n        return !this.rejectsHats;\r\n    }\r\n    return aMorph instanceof SyntaxElementMorph ||\r\n        aMorph instanceof CommentMorph;\r\n};\r\n\r\nScriptsMorph.prototype.reactToDropOf = function (droppedMorph, hand) {\r\n    if (droppedMorph instanceof BlockMorph ||\r\n            droppedMorph instanceof CommentMorph) {\r\n        droppedMorph.snap(hand);\r\n    }\r\n    this.adjustBounds();\r\n};\r\n\r\n// ScriptsMorph events\r\n\r\nScriptsMorph.prototype.mouseClickLeft = function (pos) {\r\n    var shiftClicked = this.world().currentKey === 16;\r\n    if (shiftClicked) {\r\n        return this.edit(pos);\r\n    }\r\n    if (this.focus) {this.focus.stopEditing(); }\r\n};\r\n\r\nScriptsMorph.prototype.selectForEdit = function () {\r\n    var ide = this.parentThatIsA(IDE_Morph),\r\n        rcvr = ide ? ide.currentSprite : null;\r\n    if (rcvr && rcvr.inheritsAttribute('scripts')) {\r\n        // copy on write:\r\n        this.feedbackMorph.destroy();\r\n        rcvr.shadowAttribute('scripts');\r\n        return rcvr.scripts;\r\n    }\r\n    return this;\r\n};\r\n\r\n// ScriptsMorph keyboard support\r\n\r\nScriptsMorph.prototype.edit = function (pos) {\r\n    var target,\r\n\t\tworld = this.world();\r\n    if (this.focus) {this.focus.stopEditing(); }\r\n    world.stopEditing();\r\n    if (!ScriptsMorph.prototype.enableKeyboard) {return; }\r\n    target = this.selectForEdit(); // enable copy-on-edit\r\n    target.focus = new ScriptFocusMorph(target, target, pos);\r\n    target.focus.getFocus(world);\r\n};\r\n\r\nScriptsMorph.prototype.toggleKeyboardEntry = function () {\r\n\t// when the user clicks the keyboard button in the toolbar\r\n    var target, sorted,\r\n        world = this.world();\r\n    if (this.focus) {\r\n    \tthis.focus.stopEditing();\r\n        return;\r\n    }\r\n    world.stopEditing();\r\n    if (!ScriptsMorph.prototype.enableKeyboard) {return; }\r\n    target = this.selectForEdit(); // enable copy-on-edit\r\n    target.focus = new ScriptFocusMorph(target, target, target.position());\r\n    target.focus.getFocus(world);\r\n    sorted = target.focus.sortedScripts();\r\n    if (sorted.length) {\r\n        target.focus.element = sorted[0];\r\n        if (target.focus.element instanceof HatBlockMorph) {\r\n            target.focus.nextCommand();\r\n        }\r\n    } else {\r\n        target.focus.moveBy(new Point(50, 50));\r\n    }\r\n    target.focus.fixLayout();\r\n};\r\n\r\n// ScriptsMorph context - scripts target\r\n\r\nScriptsMorph.prototype.scriptTarget = function () {\r\n    // answer the sprite or stage that this script editor acts on,\r\n    // if the user clicks on a block.\r\n    // NOTE: since scripts can be shared by more than a single sprite\r\n    // this method only gives the desired result within the context of\r\n    // the user actively clicking on a block inside the IDE\r\n    // there is no direct relationship between a block or a scripts editor\r\n    //  and a sprite.\r\n    var editor = this.parentThatIsA(IDE_Morph);\r\n    if (editor) {\r\n        return editor.currentSprite;\r\n    }\r\n    editor = this.parentThatIsA(BlockEditorMorph);\r\n    if (editor) {\r\n        return editor.target;\r\n    }\r\n    throw new Error('script target bannot be found for orphaned scripts');\r\n};\r\n\r\n\r\n// ArgMorph //////////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a syntax element and the ancestor of all block inputs.\r\n    I am present in block labels.\r\n    Usually I am just a receptacle for inherited methods and attributes,\r\n    however, if my 'type' attribute is set to one of the following\r\n    values, I act as an iconic slot myself:\r\n\r\n        'list'    - a list symbol\r\n*/\r\n\r\n// ArgMorph inherits from SyntaxElementMorph:\r\n\r\nArgMorph.prototype = new SyntaxElementMorph();\r\nArgMorph.prototype.constructor = ArgMorph;\r\nArgMorph.uber = SyntaxElementMorph.prototype;\r\n\r\n// ArgMorph instance creation:\r\n\r\nfunction ArgMorph(type) {\r\n    this.init(type);\r\n}\r\n\r\nArgMorph.prototype.init = function (type, silently) {\r\n    this.type = type || null;\r\n    this.isHole = false;\r\n    ArgMorph.uber.init.call(this, silently);\r\n    this.color = new Color(0, 17, 173);\r\n    this.setExtent(new Point(50, 50), silently);\r\n};\r\n\r\n// ArgMorph preferences settings:\r\n\r\nArgMorph.prototype.executeOnSliderEdit = false;\r\n\r\n// ArgMorph events:\r\n\r\nArgMorph.prototype.reactToSliderEdit = function () {\r\n/*\r\n    directly execute the stack of blocks I'm part of if my\r\n    \"executeOnSliderEdit\" setting is turned on, obeying the stage's\r\n    thread safety setting. This feature allows for \"Bret Victor\" style\r\n    interactive coding.\r\n*/\r\n    var block, top, receiver, stage;\r\n    if (!this.executeOnSliderEdit) {return; }\r\n    block = this.parentThatIsA(BlockMorph);\r\n    if (block) {\r\n        top = block.topBlock();\r\n        receiver = top.scriptTarget();\r\n        if (top instanceof PrototypeHatBlockMorph) {\r\n            return;\r\n        }\r\n        if (receiver) {\r\n            stage = receiver.parentThatIsA(StageMorph);\r\n            if (stage && (stage.isThreadSafe ||\r\n                    Process.prototype.enableSingleStepping)) {\r\n                stage.threads.startProcess(top, receiver, stage.isThreadSafe);\r\n            } else {\r\n                top.mouseClickLeft();\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\n// ArgMorph drag & drop: for demo puposes only\r\n\r\nArgMorph.prototype.justDropped = function () {\r\n    if (!(this instanceof CommandSlotMorph)) {\r\n        this.drawNew();\r\n        this.changed();\r\n    }\r\n};\r\n\r\n// ArgMorph spec extrapolation (for demo purposes)\r\n\r\nArgMorph.prototype.getSpec = function () {\r\n    return '%s'; // default\r\n};\r\n\r\n// ArgMorph drawing\r\n\r\nArgMorph.prototype.drawNew = function () {\r\n    if (this.type === 'list') {\r\n        this.image = this.listIcon();\r\n        this.silentSetExtent(new Point(\r\n            this.image.width,\r\n            this.image.height\r\n        ));\r\n    } else if (this.type === 'object') {\r\n        this.image = this.objectIcon();\r\n        this.silentSetExtent(new Point(\r\n            this.image.width,\r\n            this.image.height\r\n        ));\r\n    } else {\r\n        ArgMorph.uber.drawNew.call(this);\r\n    }\r\n};\r\n\r\nArgMorph.prototype.listIcon = function () {\r\n    var frame = new Morph(),\r\n        first = new CellMorph(),\r\n        second = new CellMorph(),\r\n        source,\r\n        icon,\r\n        context,\r\n        ratio;\r\n\r\n    frame.color = new Color(255, 255, 255);\r\n    second.setPosition(first.bottomLeft().add(new Point(\r\n        0,\r\n        this.fontSize / 3\r\n    )));\r\n    first.add(second);\r\n    first.setPosition(frame.position().add(this.fontSize));\r\n    frame.add(first);\r\n    frame.bounds.corner = second.bounds.corner.add(this.fontSize);\r\n    frame.drawNew();\r\n    source = frame.fullImage();\r\n    ratio = (this.fontSize + this.edge) / source.height;\r\n    icon = newCanvas(new Point(\r\n        Math.ceil(source.width * ratio) + 1,\r\n        Math.ceil(source.height * ratio) + 1\r\n    ));\r\n    context = icon.getContext('2d');\r\n    context.fillStyle = 'black';\r\n    context.fillRect(0, 0, icon.width, icon.height);\r\n    context.scale(ratio, ratio);\r\n    context.drawImage(source, 1 / ratio, 1 / ratio);\r\n    return icon;\r\n};\r\n\r\nArgMorph.prototype.objectIcon = function () {\r\n    return this.labelPart('%turtle').image;\r\n};\r\n\r\n// ArgMorph evaluation\r\n\r\nArgMorph.prototype.isEmptySlot = function () {\r\n    return this.type !== null;\r\n};\r\n\r\n// CommandSlotMorph ////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a CommandBlock-shaped input slot. I can nest command blocks\r\n    and also accept    reporters (containing reified scripts).\r\n\r\n    my most important accessor is\r\n\r\n    nestedBlock()    - answer the command block I encompass, if any\r\n\r\n    My command spec is %cmd\r\n\r\n    evaluate() returns my nested block or null\r\n*/\r\n\r\n// CommandSlotMorph inherits from ArgMorph:\r\n\r\nCommandSlotMorph.prototype = new ArgMorph();\r\nCommandSlotMorph.prototype.constructor = CommandSlotMorph;\r\nCommandSlotMorph.uber = ArgMorph.prototype;\r\n\r\n// CommandSlotMorph instance creation:\r\n\r\nfunction CommandSlotMorph() {\r\n    this.init();\r\n}\r\n\r\nCommandSlotMorph.prototype.init = function (silently) {\r\n    CommandSlotMorph.uber.init.call(this, null, true); // silently\r\n    this.color = new Color(0, 17, 173);\r\n    this.setExtent(\r\n        new Point(230, this.corner * 4 + this.cSlotPadding),\r\n        silently\r\n    );\r\n};\r\n\r\nCommandSlotMorph.prototype.getSpec = function () {\r\n    return '%cmd';\r\n};\r\n\r\n// CommandSlotMorph enumerating:\r\n\r\nCommandSlotMorph.prototype.topBlock = function () {\r\n    if (this.parent.topBlock) {\r\n        return this.parent.topBlock();\r\n    }\r\n    return this.nestedBlock();\r\n};\r\n\r\n// CommandSlotMorph nesting:\r\n\r\nCommandSlotMorph.prototype.nestedBlock = function (block) {\r\n    if (block) {\r\n        var nb = this.nestedBlock();\r\n        this.add(block);\r\n        if (nb) {\r\n            block.bottomBlock().nextBlock(nb);\r\n        }\r\n        this.fixLayout();\r\n    } else {\r\n        return detect(\r\n            this.children,\r\n            function (child) {\r\n                return child instanceof CommandBlockMorph;\r\n            }\r\n        );\r\n    }\r\n};\r\n\r\n// CommandSlotMorph attach targets:\r\n\r\nCommandSlotMorph.prototype.slotAttachPoint = function () {\r\n    return new Point(\r\n        this.dentCenter(),\r\n        this.top() + this.corner * 2\r\n    );\r\n};\r\n\r\nCommandSlotMorph.prototype.dentLeft = function () {\r\n    return this.left()\r\n        + this.corner\r\n        + this.inset * 2;\r\n};\r\n\r\nCommandSlotMorph.prototype.dentCenter = function () {\r\n    return this.dentLeft()\r\n        + this.corner\r\n        + (this.dent * 0.5);\r\n};\r\n\r\nCommandSlotMorph.prototype.attachTargets = function () {\r\n    var answer = [];\r\n    answer.push({\r\n        point: this.slotAttachPoint(),\r\n        element: this,\r\n        loc: 'bottom',\r\n        type: 'slot'\r\n    });\r\n    return answer;\r\n};\r\n\r\n// CommandSlotMorph layout:\r\n\r\nCommandSlotMorph.prototype.fixLayout = function () {\r\n    var nb = this.nestedBlock();\r\n    if (this.parent) {\r\n        if (!this.color.eq(this.parent.color)) {\r\n            this.setColor(this.parent.color);\r\n        }\r\n    }\r\n    if (nb) {\r\n        nb.setPosition(\r\n            new Point(\r\n                this.left() + this.edge + this.rfBorder,\r\n                this.top() + this.edge + this.rfBorder\r\n            )\r\n        );\r\n        this.setWidth(nb.fullBounds().width()\r\n            + (this.edge + this.rfBorder) * 2\r\n            );\r\n        this.setHeight(nb.fullBounds().height()\r\n            + this.edge + (this.rfBorder * 2) - (this.corner - this.edge)\r\n            );\r\n    } else {\r\n        this.setHeight(this.corner * 4);\r\n        this.setWidth(\r\n            this.corner * 4\r\n                + this.inset\r\n                + this.dent\r\n        );\r\n    }\r\n    if (this.parent.fixLayout) {\r\n        this.parent.fixLayout();\r\n    }\r\n};\r\n\r\n// CommandSlotMorph evaluating:\r\n\r\nCommandSlotMorph.prototype.evaluate = function () {\r\n    return this.nestedBlock();\r\n};\r\n\r\nCommandSlotMorph.prototype.isEmptySlot = function () {\r\n    return !this.isStatic && (this.nestedBlock() === null);\r\n};\r\n\r\n// CommandSlotMorph context menu ops\r\n\r\nCommandSlotMorph.prototype.attach = function () {\r\n    // for context menu demo and testing purposes\r\n    // override inherited version to adjust new owner's layout\r\n    var choices = this.overlappedMorphs(),\r\n        menu = new MenuMorph(this, 'choose new parent:'),\r\n        myself = this;\r\n\r\n    choices.forEach(function (each) {\r\n        menu.addItem(each.toString().slice(0, 50), function () {\r\n            each.add(myself);\r\n            myself.isDraggable = false;\r\n            if (each.fixLayout) {\r\n                each.fixLayout();\r\n            }\r\n        });\r\n    });\r\n    if (choices.length > 0) {\r\n        menu.popUpAtHand(this.world());\r\n    }\r\n};\r\n\r\n// CommandSlotMorph drawing:\r\n\r\nCommandSlotMorph.prototype.drawNew = function () {\r\n    var context;\r\n    this.cachedClr = this.color.toString();\r\n    this.cachedClrBright = this.bright();\r\n    this.cachedClrDark = this.dark();\r\n    this.image = newCanvas(this.extent());\r\n    context = this.image.getContext('2d');\r\n    context.fillStyle = this.cachedClr;\r\n    context.fillRect(0, 0, this.width(), this.height());\r\n\r\n    // draw the 'flat' shape:\r\n    context.fillStyle = this.rfColor.toString();\r\n    this.drawFlat(context);\r\n\r\n    if (MorphicPreferences.isFlat) {return; }\r\n\r\n    // add 3D-Effect:\r\n    this.drawEdges(context);\r\n};\r\n\r\nCommandSlotMorph.prototype.drawFlat = function (context) {\r\n    var isFilled = this.nestedBlock() !== null,\r\n        ins = (isFilled ? this.inset : this.inset / 2),\r\n        dent = (isFilled ? this.dent : this.dent / 2),\r\n        indent = this.corner * 2 + ins,\r\n        edge = this.edge,\r\n        rf = (isFilled ? this.rfBorder : 0),\r\n        y = this.height() - this.corner - edge;\r\n\r\n    context.beginPath();\r\n\r\n    // top left:\r\n    context.arc(\r\n        this.corner + edge,\r\n        this.corner + edge,\r\n        this.corner,\r\n        radians(-180),\r\n        radians(-90),\r\n        false\r\n    );\r\n\r\n    // dent:\r\n    context.lineTo(this.corner + ins + edge + rf * 2, edge);\r\n    context.lineTo(indent + edge + rf * 2, this.corner + edge);\r\n    context.lineTo(\r\n        indent + edge  + rf * 2 + (dent - rf * 2),\r\n        this.corner + edge\r\n    );\r\n    context.lineTo(\r\n        indent + edge  + rf * 2 + (dent - rf * 2) + this.corner,\r\n        edge\r\n    );\r\n    context.lineTo(this.width() - this.corner - edge, edge);\r\n\r\n    // top right:\r\n    context.arc(\r\n        this.width() - this.corner - edge,\r\n        this.corner + edge,\r\n        this.corner,\r\n        radians(-90),\r\n        radians(-0),\r\n        false\r\n    );\r\n\r\n    // bottom right:\r\n    context.arc(\r\n        this.width() - this.corner - edge,\r\n        y,\r\n        this.corner,\r\n        radians(0),\r\n        radians(90),\r\n        false\r\n    );\r\n\r\n    // bottom left:\r\n    context.arc(\r\n        this.corner + edge,\r\n        y,\r\n        this.corner,\r\n        radians(90),\r\n        radians(180),\r\n        false\r\n    );\r\n\r\n    context.closePath();\r\n    context.fill();\r\n\r\n};\r\n\r\nCommandSlotMorph.prototype.drawEdges = function (context) {\r\n    var isFilled = this.nestedBlock() !== null,\r\n        ins = (isFilled ? this.inset : this.inset / 2),\r\n        dent = (isFilled ? this.dent : this.dent / 2),\r\n        indent = this.corner * 2 + ins,\r\n        edge = this.edge,\r\n        rf = (isFilled ? this.rfBorder : 0),\r\n        shift = this.edge * 0.5,\r\n        gradient,\r\n        upperGradient,\r\n        lowerGradient,\r\n        rightGradient;\r\n\r\n    context.lineWidth = this.edge;\r\n    context.lineJoin = 'round';\r\n    context.lineCap = 'round';\r\n\r\n\r\n    // bright:\r\n    // bottom horizontal line\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        this.height(),\r\n        0,\r\n        this.height() - this.edge\r\n    );\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    gradient.addColorStop(1, this.cachedClrBright);\r\n\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(this.corner + edge, this.height() - shift);\r\n    context.lineTo(\r\n        this.width() - this.corner - edge,\r\n        this.height() - shift\r\n    );\r\n    context.stroke();\r\n\r\n    // bottom right corner\r\n    gradient = context.createRadialGradient(\r\n        this.width() - (this.corner + edge),\r\n        this.height() - (this.corner + edge),\r\n        this.corner,\r\n        this.width() - (this.corner + edge),\r\n        this.height() - (this.corner + edge),\r\n        this.corner + edge\r\n    );\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    gradient.addColorStop(1, this.cachedClr);\r\n\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.arc(\r\n        this.width() - (this.corner + edge),\r\n        this.height() - (this.corner + edge),\r\n        this.corner + shift,\r\n        radians(0),\r\n        radians(90),\r\n        false\r\n    );\r\n    context.stroke();\r\n\r\n    // right vertical line\r\n    gradient = context.createLinearGradient(\r\n        this.width(),\r\n        0,\r\n        this.width() - this.edge,\r\n        0\r\n    );\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    gradient.addColorStop(1, this.cachedClrBright);\r\n\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(\r\n        this.width() - shift,\r\n        this.height() - this.corner - this.edge\r\n    );\r\n    context.lineTo(this.width() - shift, edge + this.corner);\r\n    context.stroke();\r\n\r\n    context.shadowOffsetY = shift;\r\n    context.shadowBlur = this.edge;\r\n    context.shadowColor = this.rfColor.darker(80).toString();\r\n\r\n    // left vertical side\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        0,\r\n        edge,\r\n        0\r\n    );\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    gradient.addColorStop(1, this.cachedClrDark);\r\n\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(shift, edge + this.corner);\r\n    context.lineTo(shift, this.height() - edge - this.corner);\r\n    context.stroke();\r\n\r\n    // upper left corner\r\n    gradient = context.createRadialGradient(\r\n        this.corner + edge,\r\n        this.corner + edge,\r\n        this.corner,\r\n        this.corner + edge,\r\n        this.corner + edge,\r\n        this.corner + edge\r\n    );\r\n    gradient.addColorStop(0, this.cachedClrDark);\r\n    gradient.addColorStop(1, this.cachedClr);\r\n\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.arc(\r\n        this.corner + edge,\r\n        this.corner + edge,\r\n        this.corner + shift,\r\n        radians(-180),\r\n        radians(-90),\r\n        false\r\n    );\r\n    context.stroke();\r\n\r\n    // upper edge (left side)\r\n    upperGradient = context.createLinearGradient(\r\n        0,\r\n        0,\r\n        0,\r\n        this.edge\r\n    );\r\n    upperGradient.addColorStop(0, this.cachedClr);\r\n    upperGradient.addColorStop(1, this.cachedClrDark);\r\n\r\n    context.strokeStyle = upperGradient;\r\n    context.beginPath();\r\n    context.moveTo(this.corner + edge, shift);\r\n    context.lineTo(\r\n        this.corner + ins + edge + rf * 2 - shift,\r\n        shift\r\n    );\r\n    context.stroke();\r\n\r\n    // dent bottom\r\n    lowerGradient = context.createLinearGradient(\r\n        0,\r\n        this.corner,\r\n        0,\r\n        this.corner + edge\r\n    );\r\n    lowerGradient.addColorStop(0, this.cachedClr);\r\n    lowerGradient.addColorStop(1, this.cachedClrDark);\r\n\r\n    context.strokeStyle = lowerGradient;\r\n    context.beginPath();\r\n    context.moveTo(indent + edge + rf * 2 + shift, this.corner + shift);\r\n    context.lineTo(\r\n        indent + edge  + rf * 2 + (dent - rf * 2),\r\n        this.corner + shift\r\n    );\r\n    context.stroke();\r\n\r\n    // dent right edge\r\n    rightGradient = context.createLinearGradient(\r\n        indent + edge  + rf * 2 + (dent - rf * 2) - shift,\r\n        this.corner,\r\n        indent + edge  + rf * 2 + (dent - rf * 2) + shift * 0.7,\r\n        this.corner + shift + shift * 0.7\r\n    );\r\n    rightGradient.addColorStop(0, this.cachedClr);\r\n    rightGradient.addColorStop(1, this.cachedClrDark);\r\n\r\n    context.strokeStyle = rightGradient;\r\n    context.beginPath();\r\n    context.moveTo(\r\n        indent + edge  + rf * 2 + (dent - rf * 2),\r\n        this.corner + shift\r\n    );\r\n    context.lineTo(\r\n        indent + edge  + rf * 2 + (dent - rf * 2) + this.corner,\r\n        shift\r\n    );\r\n    context.stroke();\r\n\r\n    // upper edge (right side)\r\n    context.strokeStyle = upperGradient;\r\n    context.beginPath();\r\n    context.moveTo(\r\n        indent + edge  + rf * 2 + (dent - rf * 2) + this.corner,\r\n        shift\r\n    );\r\n    context.lineTo(this.width() - this.corner - edge, shift);\r\n    context.stroke();\r\n};\r\n\r\n// RingCommandSlotMorph ///////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a CommandBlock-shaped input slot for use in RingMorphs.\r\n    I can only nest command blocks, not reporters.\r\n\r\n    My command spec is %rc\r\n\r\n    evaluate() returns my nested block or null\r\n    (inherited from CommandSlotMorph)\r\n*/\r\n\r\n// RingCommandSlotMorph inherits from CommandSlotMorph:\r\n\r\nRingCommandSlotMorph.prototype = new CommandSlotMorph();\r\nRingCommandSlotMorph.prototype.constructor = RingCommandSlotMorph;\r\nRingCommandSlotMorph.uber = CommandSlotMorph.prototype;\r\n\r\n// RingCommandSlotMorph preferences settings\r\n\r\nRingCommandSlotMorph.prototype.rfBorder = 0;\r\nRingCommandSlotMorph.prototype.edge = RingMorph.prototype.edge;\r\n\r\n// RingCommandSlotMorph instance creation:\r\n\r\nfunction RingCommandSlotMorph() {\r\n    this.init();\r\n}\r\n\r\nRingCommandSlotMorph.prototype.init = function (silently) {\r\n    RingCommandSlotMorph.uber.init.call(this, silently);\r\n    this.isHole = true;\r\n    this.noticesTransparentClick = true;\r\n    this.color = new Color(0, 17, 173);\r\n    this.alpha = RingMorph.prototype.alpha;\r\n    this.contrast = RingMorph.prototype.contrast;\r\n};\r\n\r\nRingCommandSlotMorph.prototype.getSpec = function () {\r\n    return '%rc';\r\n};\r\n\r\n// RingCommandSlotMorph drawing:\r\n\r\nRingCommandSlotMorph.prototype.drawNew = function () {\r\n    var context;\r\n    this.cachedClr = this.color.toString();\r\n    this.cachedClrBright = this.bright();\r\n    this.cachedClrDark = this.dark();\r\n    this.image = newCanvas(this.extent());\r\n    context = this.image.getContext('2d');\r\n    context.fillStyle = this.cachedClr;\r\n\r\n    // draw the 'flat' shape:\r\n    this.drawFlat(context);\r\n\r\n    if (MorphicPreferences.isFlat) {return; }\r\n\r\n    // add 3D-Effect:\r\n    this.drawEdges(context);\r\n};\r\n\r\nRingCommandSlotMorph.prototype.drawFlat = function (context) {\r\n    var isFilled = this.nestedBlock() !== null,\r\n        ins = (isFilled ? this.inset : this.inset / 2),\r\n        dent = (isFilled ? this.dent : this.dent / 2),\r\n        indent = this.corner * 2 + ins,\r\n        edge = this.edge,\r\n        w = this.width(),\r\n        h = this.height(),\r\n        rf = (isFilled ? this.rfBorder : 0),\r\n        y = h - this.corner - edge;\r\n\r\n    // top half:\r\n\r\n    context.beginPath();\r\n    context.moveTo(0, h / 2);\r\n    context.lineTo(edge, h / 2);\r\n\r\n    // top left:\r\n    context.arc(\r\n        this.corner + edge,\r\n        this.corner + edge,\r\n        this.corner,\r\n        radians(-180),\r\n        radians(-90),\r\n        false\r\n    );\r\n\r\n    // dent:\r\n    context.lineTo(this.corner + ins + edge + rf * 2, edge);\r\n    context.lineTo(indent + edge + rf * 2, this.corner + edge);\r\n    context.lineTo(\r\n        indent + edge  + rf * 2 + (dent - rf * 2),\r\n        this.corner + edge\r\n    );\r\n    context.lineTo(\r\n        indent + edge  + rf * 2 + (dent - rf * 2) + this.corner,\r\n        edge\r\n    );\r\n    context.lineTo(this.width() - this.corner - edge, edge);\r\n\r\n    // top right:\r\n    context.arc(\r\n        w - this.corner - edge,\r\n        this.corner + edge,\r\n        this.corner,\r\n        radians(-90),\r\n        radians(-0),\r\n        false\r\n    );\r\n\r\n    context.lineTo(w - this.edge, h / 2);\r\n    context.lineTo(w, h / 2);\r\n    context.lineTo(w, 0);\r\n    context.lineTo(0, 0);\r\n    context.closePath();\r\n    context.fill();\r\n\r\n    // bottom half:\r\n    context.beginPath();\r\n    context.moveTo(w, h / 2);\r\n    context.lineTo(w - edge, h / 2);\r\n\r\n    // bottom right:\r\n    context.arc(\r\n        this.width() - this.corner - edge,\r\n        y,\r\n        this.corner,\r\n        radians(0),\r\n        radians(90),\r\n        false\r\n    );\r\n\r\n    // bottom left:\r\n    context.arc(\r\n        this.corner + edge,\r\n        y,\r\n        this.corner,\r\n        radians(90),\r\n        radians(180),\r\n        false\r\n    );\r\n\r\n    context.lineTo(edge, h / 2);\r\n    context.lineTo(0, h / 2);\r\n    context.lineTo(0, h);\r\n    context.lineTo(w, h);\r\n    context.closePath();\r\n    context.fill();\r\n\r\n};\r\n\r\n// CSlotMorph ////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a C-shaped input slot. I can nest command blocks and also accept\r\n    reporters (containing reified scripts).\r\n\r\n    my most important accessor is\r\n\r\n    nestedBlock()    - the command block I encompass, if any (inherited)\r\n\r\n    My command spec is %c\r\n\r\n    evaluate() returns my nested block or null\r\n*/\r\n\r\n// CSlotMorph inherits from CommandSlotMorph:\r\n\r\nCSlotMorph.prototype = new CommandSlotMorph();\r\nCSlotMorph.prototype.constructor = CSlotMorph;\r\nCSlotMorph.uber = CommandSlotMorph.prototype;\r\n\r\n// CSlotMorph instance creation:\r\n\r\nfunction CSlotMorph() {\r\n    this.init();\r\n}\r\n\r\nCSlotMorph.prototype.init = function (silently) {\r\n    CommandSlotMorph.uber.init.call(this, null, true); // silently\r\n    this.isHole = true;\r\n    this.isLambda = false; // see Process.prototype.evaluateInput\r\n    this.color = new Color(0, 17, 173);\r\n    this.setExtent(\r\n        new Point(230, this.corner * 4 + this.cSlotPadding),\r\n        silently\r\n    );\r\n};\r\n\r\nCSlotMorph.prototype.getSpec = function () {\r\n    return '%c';\r\n};\r\n\r\nCSlotMorph.prototype.mappedCode = function (definitions) {\r\n    var code = StageMorph.prototype.codeMappings.reify || '<#1>',\r\n        codeLines = code.split('\\n'),\r\n        nested = this.nestedBlock(),\r\n        part = nested ? nested.mappedCode(definitions) : '',\r\n        partLines = (part.toString()).split('\\n'),\r\n        rx = new RegExp('<#1>', 'g');\r\n\r\n    codeLines.forEach(function (codeLine, idx) {\r\n        var prefix = '',\r\n            indent;\r\n        if (codeLine.trimLeft().indexOf('<#1>') === 0) {\r\n            indent = codeLine.indexOf('<#1>');\r\n            prefix = codeLine.slice(0, indent);\r\n        }\r\n        codeLines[idx] = codeLine.replace(\r\n            new RegExp('<#1>'),\r\n            partLines.join('\\n' + prefix)\r\n        );\r\n        codeLines[idx] = codeLines[idx].replace(rx, partLines.join('\\n'));\r\n    });\r\n\r\n    return codeLines.join('\\n');\r\n};\r\n\r\n\r\n// CSlotMorph layout:\r\n\r\nCSlotMorph.prototype.fixLayout = function () {\r\n    var nb = this.nestedBlock();\r\n    if (nb) {\r\n        nb.setPosition(\r\n            new Point(\r\n                this.left() + this.inset,\r\n                this.top() + this.corner\r\n            )\r\n        );\r\n        this.setHeight(nb.fullBounds().height() + this.corner);\r\n        this.setWidth(nb.fullBounds().width() + (this.cSlotPadding * 2));\r\n    } else {\r\n        this.setHeight(this.corner * 4  + this.cSlotPadding); // default\r\n        this.setWidth(\r\n            this.corner * 4\r\n                + (this.inset * 2)\r\n                + this.dent\r\n                + (this.cSlotPadding * 2)\r\n        ); // default\r\n    }\r\n    if (this.parent.fixLayout) {\r\n        this.parent.fixLayout();\r\n    }\r\n};\r\n\r\n// CSlotMorph drawing:\r\n\r\nCSlotMorph.prototype.drawNew = function () {\r\n    var context;\r\n    this.cachedClr = this.color.toString();\r\n    this.cachedClrBright = this.bright();\r\n    this.cachedClrDark = this.dark();\r\n    this.image = newCanvas(this.extent());\r\n    context = this.image.getContext('2d');\r\n    context.fillStyle = this.cachedClr;\r\n\r\n    // draw the 'flat' shape:\r\n    this.drawFlat(context);\r\n\r\n    if (MorphicPreferences.isFlat) {return; }\r\n\r\n    // add 3D-Effect:\r\n    this.drawTopRightEdge(context);\r\n    this.drawTopEdge(context, this.inset, this.corner);\r\n    this.drawTopLeftEdge(context);\r\n    this.drawBottomEdge(context);\r\n    this.drawRightEdge(context);\r\n};\r\n\r\nCSlotMorph.prototype.drawFlat = function (context) {\r\n    context.beginPath();\r\n\r\n    // top line:\r\n    context.moveTo(0, 0);\r\n    context.lineTo(this.width(), 0);\r\n\r\n    // top right:\r\n    context.arc(\r\n        this.width() - this.corner,\r\n        0,\r\n        this.corner,\r\n        radians(90),\r\n        radians(0),\r\n        true\r\n    );\r\n\r\n    // jigsaw shape:\r\n    context.lineTo(this.width() - this.corner, this.corner);\r\n    context.lineTo(\r\n        (this.inset * 2) + (this.corner * 3) + this.dent,\r\n        this.corner\r\n    );\r\n    context.lineTo(\r\n        (this.inset * 2) + (this.corner * 2) + this.dent,\r\n        this.corner * 2\r\n    );\r\n    context.lineTo(\r\n        (this.inset * 2) + (this.corner * 2),\r\n        this.corner * 2\r\n    );\r\n    context.lineTo(\r\n        (this.inset * 2) + this.corner,\r\n        this.corner\r\n    );\r\n    context.lineTo(\r\n        this.inset + this.corner,\r\n        this.corner\r\n    );\r\n    context.arc(\r\n        this.inset + this.corner,\r\n        this.corner * 2,\r\n        this.corner,\r\n        radians(270),\r\n        radians(180),\r\n        true\r\n    );\r\n\r\n    // bottom:\r\n    context.lineTo(\r\n        this.inset,\r\n        this.height() - (this.corner * 2)\r\n    );\r\n    context.arc(\r\n        this.inset + this.corner,\r\n        this.height() - (this.corner * 2),\r\n        this.corner,\r\n        radians(180),\r\n        radians(90),\r\n        true\r\n    );\r\n    context.lineTo(\r\n        this.width() - this.corner,\r\n        this.height() - this.corner\r\n    );\r\n    context.arc(\r\n        this.width() - this.corner,\r\n        this.height(),\r\n        this.corner,\r\n        radians(-90),\r\n        radians(-0),\r\n        false\r\n    );\r\n    context.lineTo(0, this.height());\r\n\r\n    // fill:\r\n    context.closePath();\r\n    context.fill();\r\n};\r\n\r\nCSlotMorph.prototype.drawTopRightEdge = function (context) {\r\n    var shift = this.edge * 0.5,\r\n        x = this.width() - this.corner,\r\n        y = 0,\r\n        gradient;\r\n\r\n    gradient = context.createRadialGradient(\r\n        x,\r\n        y,\r\n        this.corner,\r\n        x,\r\n        y,\r\n        this.corner - this.edge\r\n    );\r\n    gradient.addColorStop(0, this.cachedClrDark);\r\n    gradient.addColorStop(1, this.cachedClr);\r\n\r\n    context.lineWidth = this.edge;\r\n    context.lineJoin = 'round';\r\n    context.lineCap = 'round';\r\n\r\n    context.strokeStyle = gradient;\r\n\r\n    context.beginPath();\r\n    context.arc(\r\n        x,\r\n        y,\r\n        this.corner - shift,\r\n        radians(90),\r\n        radians(0),\r\n        true\r\n    );\r\n    context.stroke();\r\n};\r\n\r\nCSlotMorph.prototype.drawTopEdge = function (context, x, y) {\r\n    var shift = this.edge * 0.5,\r\n        indent = x + this.corner * 2 + this.inset,\r\n        upperGradient,\r\n        lowerGradient,\r\n        rightGradient;\r\n\r\n    context.lineWidth = this.edge;\r\n    context.lineJoin = 'round';\r\n    context.lineCap = 'round';\r\n\r\n    upperGradient = context.createLinearGradient(\r\n        0,\r\n        y - this.edge,\r\n        0,\r\n        y\r\n    );\r\n    upperGradient.addColorStop(0, this.cachedClr);\r\n    upperGradient.addColorStop(1, this.cachedClrDark);\r\n\r\n    context.strokeStyle = upperGradient;\r\n    context.beginPath();\r\n    context.moveTo(x + this.corner, y - shift);\r\n    context.lineTo(x + this.corner + this.inset - shift, y - shift);\r\n    context.stroke();\r\n\r\n    lowerGradient = context.createLinearGradient(\r\n        0,\r\n        y + this.corner - this.edge,\r\n        0,\r\n        y + this.corner\r\n    );\r\n    lowerGradient.addColorStop(0, this.cachedClr);\r\n    lowerGradient.addColorStop(1, this.cachedClrDark);\r\n\r\n    context.strokeStyle = lowerGradient;\r\n    context.beginPath();\r\n    context.moveTo(indent + shift, y + this.corner - shift);\r\n    context.lineTo(indent + this.dent, y + this.corner - shift);\r\n    context.stroke();\r\n\r\n    rightGradient = context.createLinearGradient(\r\n        (x + this.inset + (this.corner * 2) + this.dent) - shift,\r\n        (y + this.corner - shift) - shift,\r\n        (x + this.inset + (this.corner * 2) + this.dent) + (shift * 0.7),\r\n        (y + this.corner - shift) + (shift * 0.7)\r\n    );\r\n    rightGradient.addColorStop(0, this.cachedClr);\r\n    rightGradient.addColorStop(1, this.cachedClrDark);\r\n\r\n\r\n    context.strokeStyle = rightGradient;\r\n    context.beginPath();\r\n    context.moveTo(\r\n        x + this.inset + (this.corner * 2) + this.dent,\r\n        y + this.corner - shift\r\n    );\r\n    context.lineTo(\r\n        x + this.corner * 3 + this.inset + this.dent,\r\n        y - shift\r\n    );\r\n    context.stroke();\r\n\r\n    context.strokeStyle = upperGradient;\r\n    context.beginPath();\r\n    context.moveTo(\r\n        x + this.corner * 3 + this.inset + this.dent,\r\n        y - shift\r\n    );\r\n    context.lineTo(this.width() - this.corner, y - shift);\r\n    context.stroke();\r\n};\r\n\r\nCSlotMorph.prototype.drawTopLeftEdge = function (context) {\r\n    var shift = this.edge * 0.5,\r\n        gradient;\r\n\r\n    gradient = context.createRadialGradient(\r\n        this.corner + this.inset,\r\n        this.corner * 2,\r\n        this.corner,\r\n        this.corner + this.inset,\r\n        this.corner * 2,\r\n        this.corner + this.edge\r\n    );\r\n    gradient.addColorStop(0, this.cachedClrDark);\r\n    gradient.addColorStop(1, this.cachedClr);\r\n\r\n    context.lineWidth = this.edge;\r\n    context.lineJoin = 'round';\r\n    context.lineCap = 'round';\r\n\r\n    context.strokeStyle = gradient;\r\n\r\n    context.beginPath();\r\n    context.arc(\r\n        this.corner + this.inset,\r\n        this.corner * 2,\r\n        this.corner + shift,\r\n        radians(-180),\r\n        radians(-90),\r\n        false\r\n    );\r\n    context.stroke();\r\n};\r\n\r\nCSlotMorph.prototype.drawRightEdge = function (context) {\r\n    var shift = this.edge * 0.5,\r\n        x = this.inset,\r\n        gradient;\r\n\r\n    gradient = context.createLinearGradient(x - this.edge, 0, x, 0);\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    gradient.addColorStop(1, this.cachedClrDark);\r\n\r\n    context.lineWidth = this.edge;\r\n    context.lineJoin = 'round';\r\n    context.lineCap = 'round';\r\n\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(x - shift, this.corner * 2);\r\n    context.lineTo(x - shift, this.height() - this.corner * 2);\r\n    context.stroke();\r\n};\r\n\r\nCSlotMorph.prototype.drawBottomEdge = function (context) {\r\n    var shift = this.edge * 0.5,\r\n        gradient,\r\n        upperGradient;\r\n\r\n    context.lineWidth = this.edge;\r\n    context.lineJoin = 'round';\r\n    context.lineCap = 'round';\r\n\r\n    upperGradient = context.createRadialGradient(\r\n        this.corner + this.inset,\r\n        this.height() - (this.corner * 2),\r\n        this.corner, /*- this.edge*/ // uncomment for half-tone\r\n        this.corner + this.inset,\r\n        this.height() - (this.corner * 2),\r\n        this.corner + this.edge\r\n    );\r\n    upperGradient.addColorStop(0, this.cachedClrBright);\r\n    upperGradient.addColorStop(1, this.cachedClr);\r\n    context.strokeStyle = upperGradient;\r\n    context.beginPath();\r\n    context.arc(\r\n        this.corner + this.inset,\r\n        this.height() - (this.corner * 2),\r\n        this.corner + shift,\r\n        radians(180),\r\n        radians(90),\r\n        true\r\n    );\r\n    context.stroke();\r\n\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        this.height() - this.corner,\r\n        0,\r\n        this.height() - this.corner + this.edge\r\n    );\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    gradient.addColorStop(1, this.cachedClr);\r\n\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(\r\n        this.inset + this.corner,\r\n        this.height() - this.corner + shift\r\n    );\r\n    context.lineTo(\r\n        this.width() - this.corner,\r\n        this.height() - this.corner + shift\r\n    );\r\n\r\n    context.stroke();\r\n};\r\n\r\n// InputSlotMorph //////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am an editable text input slot. I can be either rectangular or\r\n    rounded, and can have an optional drop-down menu. If I'm set to\r\n    read-only I must have a drop-down menu and will assume a darker\r\n    shade of my parent's color.\r\n\r\n    my most important public attributes and accessors are:\r\n\r\n    setContents(str/float)    - display the argument (string or float)\r\n    contents().text            - get the displayed string\r\n    choices                    - a key/value list for my optional drop-down\r\n    isReadOnly                - governs whether I am editable or not\r\n    isNumeric                - governs my outer shape (round or rect)\r\n\r\n    my block specs are:\r\n\r\n    %s        - string input, rectangular\r\n    %n        - numerical input, semi-circular vertical edges\r\n    %anyUE    - any unevaluated\r\n\r\n    evaluate() returns my displayed string, cast to float if I'm numerical\r\n\r\n    there are also a number of specialized drop-down menu presets, refer\r\n    to BlockMorph for details.\r\n*/\r\n\r\n// InputSlotMorph inherits from ArgMorph:\r\n\r\nInputSlotMorph.prototype = new ArgMorph();\r\nInputSlotMorph.prototype.constructor = InputSlotMorph;\r\nInputSlotMorph.uber = ArgMorph.prototype;\r\n\r\n// InputSlotMorph instance creation:\r\n\r\nfunction InputSlotMorph(text, isNumeric, choiceDict, isReadOnly) {\r\n    this.init(text, isNumeric, choiceDict, isReadOnly);\r\n}\r\n\r\nInputSlotMorph.prototype.init = function (\r\n    text,\r\n    isNumeric,\r\n    choiceDict,\r\n    isReadOnly\r\n) {\r\n    var contents = new StringMorph(''),\r\n        arrow = new ArrowMorph(\r\n            'down',\r\n            0,\r\n            Math.max(Math.floor(this.fontSize / 6), 1)\r\n        );\r\n\r\n    contents.fontSize = this.fontSize;\r\n    contents.isShowingBlanks = true;\r\n    contents.drawNew();\r\n\r\n    this.isUnevaluated = false;\r\n    this.choices = choiceDict || null; // object, function or selector\r\n    this.oldContentsExtent = contents.extent();\r\n    this.isNumeric = isNumeric || false;\r\n    this.isReadOnly = isReadOnly || false;\r\n    this.minWidth = 0; // can be chaged for text-type inputs (\"landscape\")\r\n    this.constant = null;\r\n\r\n    InputSlotMorph.uber.init.call(this, null, true);\r\n    this.color = new Color(255, 255, 255);\r\n    this.add(contents);\r\n    this.add(arrow);\r\n    contents.isEditable = true;\r\n    contents.isDraggable = false;\r\n    contents.enableSelecting();\r\n    this.setContents(text);\r\n};\r\n\r\n// InputSlotMorph accessing:\r\n\r\nInputSlotMorph.prototype.getSpec = function () {\r\n    if (this.isNumeric) {\r\n        return '%n';\r\n    }\r\n    return '%s'; // default\r\n};\r\n\r\nInputSlotMorph.prototype.contents = function () {\r\n    return detect(\r\n        this.children,\r\n        function (child) {\r\n            return (child instanceof StringMorph);\r\n        }\r\n    );\r\n};\r\n\r\nInputSlotMorph.prototype.arrow = function () {\r\n    return detect(\r\n        this.children,\r\n        function (child) {\r\n            return (child instanceof ArrowMorph);\r\n        }\r\n    );\r\n};\r\n\r\nInputSlotMorph.prototype.setContents = function (aStringOrFloat) {\r\n    var cnts = this.contents(),\r\n        dta = aStringOrFloat,\r\n        isConstant = dta instanceof Array;\r\n    if (isConstant) {\r\n        dta = localize(dta[0]);\r\n        cnts.isItalic = !this.isReadOnly;\r\n    } else { // assume dta is a localizable choice if it's a key in my choices\r\n        cnts.isItalic = false;\r\n        if (!isNil(this.choices) && this.choices[dta] instanceof Array) {\r\n            return this.setContents(this.choices[dta]);\r\n        }\r\n    }\r\n    cnts.text = dta;\r\n    if (isNil(dta)) {\r\n        cnts.text = '';\r\n    } else if (dta.toString) {\r\n        cnts.text = dta.toString();\r\n    }\r\n    cnts.drawNew();\r\n\r\n    // adjust to zebra coloring:\r\n    if (this.isReadOnly && (this.parent instanceof BlockMorph)) {\r\n        this.parent.fixLabelColor();\r\n    }\r\n\r\n    // remember the constant, if any\r\n    this.constant = isConstant ? aStringOrFloat : null;\r\n};\r\n\r\nInputSlotMorph.prototype.userSetContents = function (aStringOrFloat) {\r\n    // enable copy-on-edit for inherited scripts\r\n    this.selectForEdit().setContents(aStringOrFloat);\r\n};\r\n\r\n// InputSlotMorph drop-down menu:\r\n\r\nInputSlotMorph.prototype.dropDownMenu = function (enableKeyboard) {\r\n    var menu = this.menuFromDict(this.choices, null, enableKeyboard);\r\n    if (!menu) { // has already happened\r\n        return;\r\n    }\r\n    if (menu.items.length > 0) {\r\n        if (enableKeyboard) {\r\n            menu.popup(this.world(), this.bottomLeft());\r\n            menu.getFocus();\r\n        } else {\r\n            menu.popUpAtHand(this.world());\r\n        }\r\n    }\r\n};\r\n\r\nInputSlotMorph.prototype.menuFromDict = function (\r\n    choices,\r\n    noEmptyOption,\r\n    enableKeyboard)\r\n{\r\n    var key,\r\n        menu = new MenuMorph(\r\n            this.userSetContents,\r\n            null,\r\n            this,\r\n            this.fontSize\r\n        );\r\n\r\n    if (choices instanceof Function) {\r\n        choices = choices.call(this);\r\n    } else if (isString(choices)) {\r\n        choices = this[choices](enableKeyboard);\r\n        if (!choices) { // menu has already happened\r\n            return;\r\n        }\r\n    }\r\n    if (!noEmptyOption) {\r\n        menu.addItem(' ', null);\r\n    }\r\n    for (key in choices) {\r\n        if (Object.prototype.hasOwnProperty.call(choices, key)) {\r\n            if (key[0] === '~') {\r\n                menu.addLine();\r\n            // } else if (key.indexOf('§_def') === 0) {\r\n            //     menu.addItem(choices[key].blockInstance(), choices[key]);\r\n            } else if (choices[key] instanceof Object &&\r\n                    !(choices[key] instanceof Array) &&\r\n                    (typeof choices[key] !== 'function')) {\r\n                menu.addMenu(key, this.menuFromDict(choices[key], true));\r\n            } else {\r\n                menu.addItem(key, choices[key]);\r\n            }\r\n        }\r\n    }\r\n    return menu;\r\n};\r\n\r\nInputSlotMorph.prototype.messagesMenu = function () {\r\n    var dict = {},\r\n        rcvr = this.parentThatIsA(BlockMorph).scriptTarget(),\r\n        stage = rcvr.parentThatIsA(StageMorph),\r\n        myself = this,\r\n        allNames = [];\r\n\r\n    stage.children.concat(stage).forEach(function (morph) {\r\n        if (isSnapObject(morph)) {\r\n            allNames = allNames.concat(morph.allMessageNames());\r\n        }\r\n    });\r\n    allNames.forEach(function (name) {\r\n        dict[name] = name;\r\n    });\r\n    if (allNames.length > 0) {\r\n        dict['~'] = null;\r\n    }\r\n    dict['new...'] = function () {\r\n\r\n        new DialogBoxMorph(\r\n            myself,\r\n            myself.setContents,\r\n            myself\r\n        ).prompt(\r\n            'Message name',\r\n            null,\r\n            myself.world()\r\n        );\r\n    };\r\n    return dict;\r\n};\r\n\r\nInputSlotMorph.prototype.messagesReceivedMenu = function () {\r\n    var dict = {'any message': ['any message']},\r\n        rcvr = this.parentThatIsA(BlockMorph).scriptTarget(),\r\n        stage = rcvr.parentThatIsA(StageMorph),\r\n        myself = this,\r\n        allNames = [];\r\n\r\n    stage.children.concat(stage).forEach(function (morph) {\r\n        if (isSnapObject(morph)) {\r\n            allNames = allNames.concat(morph.allMessageNames());\r\n        }\r\n    });\r\n    allNames.forEach(function (name) {\r\n        dict[name] = name;\r\n    });\r\n    dict['~'] = null;\r\n    dict['new...'] = function () {\r\n\r\n        new DialogBoxMorph(\r\n            myself,\r\n            myself.setContents,\r\n            myself\r\n        ).prompt(\r\n            'Message name',\r\n            null,\r\n            myself.world()\r\n        );\r\n    };\r\n    return dict;\r\n};\r\n\r\nInputSlotMorph.prototype.collidablesMenu = function () {\r\n    var dict = {\r\n            'mouse-pointer' : ['mouse-pointer'],\r\n            edge : ['edge'],\r\n            'pen trails' : ['pen trails']\r\n        },\r\n        rcvr = this.parentThatIsA(BlockMorph).scriptTarget(),\r\n        stage = rcvr.parentThatIsA(StageMorph),\r\n        allNames = [];\r\n\r\n    stage.children.forEach(function (morph) {\r\n        if (morph instanceof SpriteMorph && !morph.isTemporary) {\r\n            if (morph.name !== rcvr.name) {\r\n                allNames = allNames.concat(morph.name);\r\n            }\r\n        }\r\n    });\r\n    if (allNames.length > 0) {\r\n        dict['~'] = null;\r\n        allNames.forEach(function (name) {\r\n            dict[name] = name;\r\n        });\r\n    }\r\n    return dict;\r\n};\r\n\r\nInputSlotMorph.prototype.distancesMenu = function () {\r\n    var dict = {\r\n            'mouse-pointer' : ['mouse-pointer']\r\n        },\r\n        rcvr = this.parentThatIsA(BlockMorph).scriptTarget(),\r\n        stage = rcvr.parentThatIsA(StageMorph),\r\n        allNames = [];\r\n\r\n    stage.children.forEach(function (morph) {\r\n        if (morph instanceof SpriteMorph && !morph.isTemporary) {\r\n            if (morph.name !== rcvr.name) {\r\n                allNames = allNames.concat(morph.name);\r\n            }\r\n        }\r\n    });\r\n    if (allNames.length > 0) {\r\n        dict['~'] = null;\r\n        allNames.forEach(function (name) {\r\n            dict[name] = name;\r\n        });\r\n    }\r\n    return dict;\r\n};\r\n\r\nInputSlotMorph.prototype.clonablesMenu = function () {\r\n    var dict = {},\r\n        rcvr = this.parentThatIsA(BlockMorph).scriptTarget(),\r\n        stage = rcvr.parentThatIsA(StageMorph),\r\n        allNames = [];\r\n\r\n    if (rcvr instanceof SpriteMorph) {\r\n        dict.myself = ['myself'];\r\n    }\r\n    stage.children.forEach(function (morph) {\r\n        if (morph instanceof SpriteMorph && !morph.isTemporary) {\r\n            allNames = allNames.concat(morph.name);\r\n        }\r\n    });\r\n    if (allNames.length > 0) {\r\n        dict['~'] = null;\r\n        allNames.forEach(function (name) {\r\n            dict[name] = name;\r\n        });\r\n    }\r\n    return dict;\r\n};\r\n\r\nInputSlotMorph.prototype.objectsMenu = function () {\r\n    var rcvr = this.parentThatIsA(BlockMorph).scriptTarget(),\r\n        stage = rcvr.parentThatIsA(StageMorph),\r\n        dict = {},\r\n        allNames = [];\r\n\r\n    dict[stage.name] = stage.name;\r\n    stage.children.forEach(function (morph) {\r\n        if (morph instanceof SpriteMorph && !morph.isTemporary) {\r\n            allNames.push(morph.name);\r\n        }\r\n    });\r\n    if (allNames.length > 0) {\r\n        dict['~'] = null;\r\n        allNames.forEach(function (name) {\r\n            dict[name] = name;\r\n        });\r\n    }\r\n    return dict;\r\n};\r\n\r\nInputSlotMorph.prototype.typesMenu = function () {\r\n    var dict = {\r\n        number : ['number'],\r\n        text : ['text'],\r\n        Boolean : ['Boolean'],\r\n        list : ['list']\r\n    };\r\n    if (SpriteMorph.prototype.enableFirstClass) {\r\n        dict.sprite = ['sprite'];\r\n    }\r\n    dict.costume = ['costume'];\r\n    dict.sound = ['sound'];\r\n    dict.command = ['command'];\r\n    dict.reporter = ['reporter'];\r\n    dict.predicate = ['predicate'];\r\n    return dict;\r\n};\r\n\r\nInputSlotMorph.prototype.gettablesMenu = function () {\r\n    var dict = {\r\n        neighbors : ['neighbors'],\r\n        self : ['self'],\r\n        'other sprites' : ['other sprites'],\r\n        clones : ['clones'],\r\n        'other clones' : ['other clones']\r\n    };\r\n    if (SpriteMorph.prototype.enableNesting) {\r\n        dict.parts = ['parts'];\r\n        dict.anchor = ['anchor'];\r\n    }\r\n    dict.stage = ['stage'];\r\n    if (StageMorph.prototype.enableInheritance) {\r\n        dict.children = ['children'];\r\n        dict.parent = ['parent'];\r\n        if (this.world().isDevMode) {\r\n            dict['temporary?'] = ['temporary?'];\r\n        }\r\n    }\r\n    dict.name = ['name'];\r\n    dict.costumes = ['costumes'];\r\n    dict.sounds = ['sounds'];\r\n    dict['dangling?'] = ['dangling?'];\r\n    dict['rotation x'] = ['rotation x'];\r\n    dict['rotation y'] = ['rotation y'];\r\n    dict['center x'] = ['center x'];\r\n    dict['center y'] = ['center y'];\r\n    return dict;\r\n};\r\n\r\nInputSlotMorph.prototype.attributesMenu = function () {\r\n    var block = this.parentThatIsA(BlockMorph),\r\n        objName = block.inputs()[1].evaluate(),\r\n        rcvr = block.scriptTarget(),\r\n        stage = rcvr.parentThatIsA(StageMorph),\r\n        obj,\r\n        dict = {},\r\n        varNames = [];\r\n\r\n    if (objName === stage.name) {\r\n        obj = stage;\r\n    } else {\r\n        obj = detect(\r\n            stage.children,\r\n            function (morph) {\r\n                return morph.name === objName;\r\n            }\r\n        );\r\n    }\r\n    if (!obj) {\r\n        return dict;\r\n    }\r\n    if (obj instanceof SpriteMorph) {\r\n        dict = {\r\n            'x position' : ['x position'],\r\n            'y position' : ['y position'],\r\n            'direction' : ['direction'],\r\n            'costume #' : ['costume #'],\r\n            'costume name' : ['costume name'],\r\n            'size' : ['size']\r\n        };\r\n    } else { // the stage\r\n        dict = {\r\n            'costume #' : ['costume #'],\r\n            'costume name' : ['costume name']\r\n        };\r\n    }\r\n    varNames = obj.variables.names();\r\n    if (varNames.length > 0) {\r\n        dict['~'] = null;\r\n        varNames.forEach(function (name) {\r\n            dict[name] = name;\r\n        });\r\n    }\r\n    /*\r\n    obj.customBlocks.forEach(function (def, i) {\r\n        dict['§_def' + i] = def\r\n    });\r\n    */\r\n    return dict;\r\n};\r\n\r\nInputSlotMorph.prototype.costumesMenu = function () {\r\n    var rcvr = this.parentThatIsA(BlockMorph).scriptTarget(),\r\n        dict,\r\n        allNames = [];\r\n    if (rcvr instanceof SpriteMorph) {\r\n        dict = {Turtle : ['Turtle']};\r\n    } else { // stage\r\n        dict = {Empty : ['Empty']};\r\n    }\r\n    rcvr.costumes.asArray().forEach(function (costume) {\r\n        allNames = allNames.concat(costume.name);\r\n    });\r\n    if (allNames.length > 0) {\r\n        dict['~'] = null;\r\n        allNames.forEach(function (name) {\r\n            dict[name] = name;\r\n        });\r\n    }\r\n    return dict;\r\n};\r\n\r\nInputSlotMorph.prototype.soundsMenu = function () {\r\n    var rcvr = this.parentThatIsA(BlockMorph).scriptTarget(),\r\n        allNames = [],\r\n        dict = {};\r\n\r\n    rcvr.sounds.asArray().forEach(function (sound) {\r\n        allNames = allNames.concat(sound.name);\r\n    });\r\n    if (allNames.length > 0) {\r\n        allNames.forEach(function (name) {\r\n            dict[name] = name;\r\n        });\r\n    }\r\n    return dict;\r\n};\r\n\r\nInputSlotMorph.prototype.shadowedVariablesMenu = function () {\r\n    var block = this.parentThatIsA(BlockMorph),\r\n        vars,\r\n        attribs,\r\n        rcvr,\r\n        dict = {};\r\n\r\n    if (!block) {return dict; }\r\n    rcvr = block.scriptTarget();\r\n    if (this.parentThatIsA(RingMorph)) {\r\n    \t// show own local vars and attributes, because this is likely to be\r\n     \t// inside TELL, ASK or OF\r\n        vars = rcvr.variables.names();\r\n        vars.forEach(function (name) {\r\n            dict[name] = name;\r\n        });\r\n        attribs = rcvr.attributes;\r\n        /*\r\n        if (vars.length && attribs.length) {\r\n            dict['~'] = null; // add line\r\n        }\r\n        */\r\n        attribs.forEach(function (name) {\r\n            dict[name] = [name];\r\n        });\r\n    } else if (rcvr && rcvr.exemplar) {\r\n    \t// only show shadowed vars and attributes\r\n        vars = rcvr.inheritedVariableNames(true);\r\n        vars.forEach(function (name) {\r\n            dict[name] = name;\r\n        });\r\n        attribs = rcvr.shadowedAttributes();\r\n        /*\r\n        if (vars.length && attribs.length) {\r\n            dict['~'] = null; // add line\r\n        }\r\n        */\r\n        attribs.forEach(function (name) {\r\n            dict[name] = [name];\r\n        });\r\n    }\r\n    return dict;\r\n};\r\n\r\nInputSlotMorph.prototype.pianoKeyboardMenu = function () {\r\n    var menu, block, instrument;\r\n    block = this.parentThatIsA(BlockMorph);\r\n    if (block) {\r\n        instrument = block.scriptTarget().instrument;\r\n    }\r\n    menu = new PianoMenuMorph(\r\n        this.setContents,\r\n        this,\r\n        this.fontSize,\r\n        instrument\r\n    );\r\n    menu.popup(this.world(), new Point(\r\n        this.right() - (menu.width() / 2),\r\n        this.bottom()\r\n    ));\r\n    menu.selectKey(this.evaluate());\r\n};\r\n\r\nInputSlotMorph.prototype.setChoices = function (dict, readonly) {\r\n    // externally specify choices and read-only status,\r\n    // used for custom blocks\r\n    var cnts = this.contents();\r\n    this.choices = dict;\r\n    this.isReadOnly = readonly || false;\r\n    if (this.parent instanceof BlockMorph) {\r\n        this.parent.fixLabelColor();\r\n        if (!readonly) {\r\n            cnts.shadowOffset = new Point();\r\n            cnts.shadowColor = null;\r\n            cnts.setColor(new Color(0, 0, 0));\r\n        }\r\n    }\r\n    this.fixLayout();\r\n};\r\n\r\n// InputSlotMorph layout:\r\n\r\nInputSlotMorph.prototype.fixLayout = function () {\r\n    var width, height, arrowWidth,\r\n        contents = this.contents(),\r\n        arrow = this.arrow();\r\n\r\n    contents.isNumeric = this.isNumeric;\r\n    contents.isEditable = (!this.isReadOnly);\r\n    if (this.isReadOnly) {\r\n        contents.disableSelecting();\r\n        contents.color = new Color(254, 254, 254);\r\n    } else {\r\n        contents.enableSelecting();\r\n        contents.color = new Color(0, 0, 0);\r\n    }\r\n\r\n    if (this.choices) {\r\n        arrow.setSize(this.fontSize);\r\n        arrow.show();\r\n    } else {\r\n        arrow.hide();\r\n    }\r\n    arrowWidth = arrow.isVisible ? arrow.width() : 0;\r\n\r\n    height = contents.height() + this.edge * 2; // + this.typeInPadding * 2\r\n    if (this.isNumeric) {\r\n        width = contents.width()\r\n            + Math.floor(arrowWidth * 0.5)\r\n            + height\r\n            + this.typeInPadding * 2;\r\n    } else {\r\n        width = Math.max(\r\n            contents.width()\r\n                + arrowWidth\r\n                + this.edge * 2\r\n                + this.typeInPadding * 2,\r\n            contents.rawHeight ? // single vs. multi-line contents\r\n                        contents.rawHeight() + arrowWidth\r\n                                : fontHeight(contents.fontSize) / 1.3\r\n                                    + arrowWidth,\r\n            this.minWidth // for text-type slots\r\n        );\r\n    }\r\n    this.setExtent(new Point(width, height));\r\n    if (this.isNumeric) {\r\n        contents.setPosition(new Point(\r\n            Math.floor(height / 2),\r\n            this.edge\r\n        ).add(new Point(this.typeInPadding, 0)).add(this.position()));\r\n    } else {\r\n        contents.setPosition(new Point(\r\n            this.edge,\r\n            this.edge\r\n        ).add(new Point(this.typeInPadding, 0)).add(this.position()));\r\n    }\r\n\r\n    if (arrow.isVisible) {\r\n        arrow.setPosition(new Point(\r\n            this.right() - arrowWidth - this.edge,\r\n            contents.top()\r\n        ));\r\n    }\r\n\r\n    if (this.parent) {\r\n        if (this.parent.fixLayout) {\r\n            if (this.world()) {\r\n                this.startLayout();\r\n                this.parent.fixLayout();\r\n                this.endLayout();\r\n            } else {\r\n                this.parent.fixLayout();\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\n// InputSlotMorph events:\r\n\r\nInputSlotMorph.prototype.mouseDownLeft = function (pos) {\r\n    var world;\r\n    if (this.isReadOnly || this.arrow().bounds.containsPoint(pos)) {\r\n        this.escalateEvent('mouseDownLeft', pos);\r\n    } else {\r\n        world = this.world();\r\n        if (world) {\r\n            world.stopEditing();\r\n        }\r\n        this.selectForEdit().contents().edit();\r\n    }\r\n};\r\n\r\nInputSlotMorph.prototype.mouseClickLeft = function (pos) {\r\n    if (this.arrow().bounds.containsPoint(pos)) {\r\n        this.dropDownMenu();\r\n    } else if (this.isReadOnly) {\r\n        this.dropDownMenu();\r\n    } else {\r\n        this.contents().edit();\r\n    }\r\n};\r\n\r\nInputSlotMorph.prototype.reactToKeystroke = function () {\r\n    var cnts;\r\n    if (this.constant) {\r\n        cnts = this.contents();\r\n        this.constant = null;\r\n        cnts.isItalic = false;\r\n        cnts.drawNew();\r\n    }\r\n};\r\n\r\nInputSlotMorph.prototype.reactToEdit = function () {\r\n    this.contents().clearSelection();\r\n};\r\n\r\nInputSlotMorph.prototype.freshTextEdit = function (aStringOrTextMorph) {\r\n    this.onNextStep = function () {\r\n        aStringOrTextMorph.selectAll();\r\n    };\r\n};\r\n\r\n// InputSlotMorph menu:\r\n\r\nInputSlotMorph.prototype.userMenu = function () {\r\n    var menu = new MenuMorph(this);\r\n    if (!StageMorph.prototype.enableCodeMapping) {\r\n        return this.parent.userMenu();\r\n    }\r\n    if (this.isNumeric) {\r\n        menu.addItem(\r\n            'code number mapping...',\r\n            'mapNumberToCode'\r\n        );\r\n    } else {\r\n        menu.addItem(\r\n            'code string mapping...',\r\n            'mapStringToCode'\r\n        );\r\n    }\r\n    return menu;\r\n};\r\n\r\n// InputSlotMorph code mapping\r\n\r\n/*\r\n    code mapping lets you use blocks to generate arbitrary text-based\r\n    source code that can be exported and compiled / embedded elsewhere,\r\n    it's not part of Snap's evaluator and not needed for Snap itself\r\n*/\r\n\r\nInputSlotMorph.prototype.mapStringToCode = function () {\r\n    // private - open a dialog box letting the user map code via the GUI\r\n    new DialogBoxMorph(\r\n        this,\r\n        function (code) {\r\n            StageMorph.prototype.codeMappings.string = code;\r\n        },\r\n        this\r\n    ).promptCode(\r\n        'Code mapping - String <#1>',\r\n        StageMorph.prototype.codeMappings.string || '',\r\n        this.world()\r\n    );\r\n};\r\n\r\nInputSlotMorph.prototype.mapNumberToCode = function () {\r\n    // private - open a dialog box letting the user map code via the GUI\r\n    new DialogBoxMorph(\r\n        this,\r\n        function (code) {\r\n            StageMorph.prototype.codeMappings.number = code;\r\n        },\r\n        this\r\n    ).promptCode(\r\n        'Code mapping - Number <#1>',\r\n        StageMorph.prototype.codeMappings.number || '',\r\n        this.world()\r\n    );\r\n};\r\n\r\nInputSlotMorph.prototype.mappedCode = function () {\r\n    var block = this.parentThatIsA(BlockMorph),\r\n        val = this.evaluate(),\r\n        code;\r\n\r\n    if (this.isNumeric) {\r\n        code = StageMorph.prototype.codeMappings.number || '<#1>';\r\n        return code.replace(/<#1>/g, val);\r\n    }\r\n    if (!isNaN(parseFloat(val))) {return val; }\r\n    if (!isString(val)) {return val; }\r\n    if (block && contains(\r\n            ['doSetVar', 'doChangeVar', 'doShowVar', 'doHideVar'],\r\n            block.selector\r\n        )) {\r\n        return val;\r\n    }\r\n    code = StageMorph.prototype.codeMappings.string || '<#1>';\r\n    return code.replace(/<#1>/g, val);\r\n};\r\n\r\n// InputSlotMorph evaluating:\r\n\r\nInputSlotMorph.prototype.evaluate = function () {\r\n/*\r\n    answer my content's text string. If I am numerical convert that\r\n    string to a number. If the conversion fails answer the string\r\n    (e.g. for special choices like 'any', 'all' or 'last') otherwise\r\n    the numerical value.\r\n*/\r\n    var num,\r\n        contents = this.contents();\r\n    if (this.constant) {\r\n        return this.constant;\r\n    }\r\n    if (this.isNumeric) {\r\n        num = parseFloat(contents.text || '0');\r\n        if (!isNaN(num)) {\r\n            return num;\r\n        }\r\n    }\r\n    return contents.text;\r\n};\r\n\r\nInputSlotMorph.prototype.isEmptySlot = function () {\r\n    return this.contents().text === '';\r\n};\r\n\r\n// InputSlotMorph single-stepping:\r\n\r\nInputSlotMorph.prototype.flash = function () {\r\n    // don't redraw the label b/c zebra coloring\r\n    if (!this.cachedNormalColor) {\r\n        this.cachedNormalColor = this.color;\r\n        this.color = this.activeHighlight;\r\n        this.drawNew();\r\n        this.changed();\r\n    }\r\n};\r\n\r\nInputSlotMorph.prototype.unflash = function () {\r\n    // don't redraw the label b/c zebra coloring\r\n    if (this.cachedNormalColor) {\r\n        var clr = this.cachedNormalColor;\r\n        this.cachedNormalColor = null;\r\n        this.color = clr;\r\n        this.drawNew();\r\n        this.changed();\r\n    }\r\n};\r\n\r\n// InputSlotMorph drawing:\r\n\r\nInputSlotMorph.prototype.drawNew = function () {\r\n    var context, borderColor, r;\r\n\r\n    // initialize my surface property\r\n    this.image = newCanvas(this.extent());\r\n    context = this.image.getContext('2d');\r\n    if (this.cachedNormalColor) { // if flashing\r\n        borderColor = this.color;\r\n    } else if (this.parent) {\r\n        borderColor = this.parent.color;\r\n    } else {\r\n        borderColor = new Color(120, 120, 120);\r\n    }\r\n    context.fillStyle = this.color.toString();\r\n    if (this.isReadOnly && !this.cachedNormalColor) { // unless flashing\r\n        context.fillStyle = borderColor.darker().toString();\r\n    }\r\n\r\n    // cache my border colors\r\n    this.cachedClr = borderColor.toString();\r\n    this.cachedClrBright = borderColor.lighter(this.contrast)\r\n        .toString();\r\n    this.cachedClrDark = borderColor.darker(this.contrast).toString();\r\n\r\n    if (!this.isNumeric) {\r\n        context.fillRect(\r\n            this.edge,\r\n            this.edge,\r\n            this.width() - this.edge * 2,\r\n            this.height() - this.edge * 2\r\n        );\r\n        if (!MorphicPreferences.isFlat) {\r\n            this.drawRectBorder(context);\r\n        }\r\n    } else {\r\n        r = (this.height() - (this.edge * 2)) / 2;\r\n        context.beginPath();\r\n        context.arc(\r\n            r + this.edge,\r\n            r + this.edge,\r\n            r,\r\n            radians(90),\r\n            radians(-90),\r\n            false\r\n        );\r\n        context.arc(\r\n            this.width() - r - this.edge,\r\n            r + this.edge,\r\n            r,\r\n            radians(-90),\r\n            radians(90),\r\n            false\r\n        );\r\n        context.closePath();\r\n        context.fill();\r\n        if (!MorphicPreferences.isFlat) {\r\n            this.drawRoundBorder(context);\r\n        }\r\n    }\r\n};\r\n\r\nInputSlotMorph.prototype.drawRectBorder = function (context) {\r\n    var shift = this.edge * 0.5,\r\n        gradient;\r\n\r\n    context.lineWidth = this.edge;\r\n    context.lineJoin = 'round';\r\n    context.lineCap = 'round';\r\n\r\n    context.shadowOffsetY = shift;\r\n    context.shadowBlur = this.edge;\r\n    context.shadowColor = this.color.darker(80).toString();\r\n\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        0,\r\n        0,\r\n        this.edge\r\n    );\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    gradient.addColorStop(1, this.cachedClrDark);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(this.edge, shift);\r\n    context.lineTo(this.width() - this.edge - shift, shift);\r\n    context.stroke();\r\n\r\n    context.shadowOffsetY = 0;\r\n\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        0,\r\n        this.edge,\r\n        0\r\n    );\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    gradient.addColorStop(1, this.cachedClrDark);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(shift, this.edge);\r\n    context.lineTo(shift, this.height() - this.edge - shift);\r\n    context.stroke();\r\n\r\n    context.shadowOffsetX = 0;\r\n    context.shadowOffsetY = 0;\r\n    context.shadowBlur = 0;\r\n\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        this.height() - this.edge,\r\n        0,\r\n        this.height()\r\n    );\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    gradient.addColorStop(1, this.cachedClr);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(this.edge, this.height() - shift);\r\n    context.lineTo(this.width() - this.edge, this.height() - shift);\r\n    context.stroke();\r\n\r\n    gradient = context.createLinearGradient(\r\n        this.width() - this.edge,\r\n        0,\r\n        this.width(),\r\n        0\r\n    );\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    gradient.addColorStop(1, this.cachedClr);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(this.width() - shift, this.edge);\r\n    context.lineTo(this.width() - shift, this.height() - this.edge);\r\n    context.stroke();\r\n\r\n};\r\n\r\nInputSlotMorph.prototype.drawRoundBorder = function (context) {\r\n    var shift = this.edge * 0.5,\r\n        r = (this.height() - (this.edge * 2)) / 2,\r\n        start,\r\n        end,\r\n        gradient;\r\n\r\n    context.lineWidth = this.edge;\r\n    context.lineJoin = 'round';\r\n    context.lineCap = 'round';\r\n\r\n    // straight top edge:\r\n    start = r + this.edge;\r\n    end = this.width() - r - this.edge;\r\n    if (end > start) {\r\n\r\n        context.shadowOffsetX = shift;\r\n        context.shadowOffsetY = shift;\r\n        context.shadowBlur = this.edge;\r\n        context.shadowColor = this.color.darker(80).toString();\r\n\r\n        gradient = context.createLinearGradient(\r\n            0,\r\n            0,\r\n            0,\r\n            this.edge\r\n        );\r\n        gradient.addColorStop(0, this.cachedClr);\r\n        gradient.addColorStop(1, this.cachedClrDark);\r\n        context.strokeStyle = gradient;\r\n        context.beginPath();\r\n\r\n        context.moveTo(start, shift);\r\n        context.lineTo(end, shift);\r\n        context.stroke();\r\n\r\n        context.shadowOffsetX = 0;\r\n        context.shadowOffsetY = 0;\r\n        context.shadowBlur = 0;\r\n    }\r\n\r\n    // straight bottom edge:\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        this.height() - this.edge,\r\n        0,\r\n        this.height()\r\n    );\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    gradient.addColorStop(1, this.cachedClr);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(r + this.edge, this.height() - shift);\r\n    context.lineTo(this.width() - r - this.edge, this.height() - shift);\r\n    context.stroke();\r\n\r\n    r = this.height() / 2;\r\n\r\n    context.shadowOffsetX = shift;\r\n    context.shadowOffsetY = shift;\r\n    context.shadowBlur = this.edge;\r\n    context.shadowColor = this.color.darker(80).toString();\r\n\r\n    // top edge: left corner\r\n    gradient = context.createRadialGradient(\r\n        r,\r\n        r,\r\n        r - this.edge,\r\n        r,\r\n        r,\r\n        r\r\n    );\r\n    gradient.addColorStop(1, this.cachedClr);\r\n    gradient.addColorStop(0, this.cachedClrDark);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.arc(\r\n        r,\r\n        r,\r\n        r - shift,\r\n        radians(180),\r\n        radians(270),\r\n        false\r\n    );\r\n\r\n    context.stroke();\r\n\r\n    context.shadowOffsetX = 0;\r\n    context.shadowOffsetY = 0;\r\n    context.shadowBlur = 0;\r\n\r\n    // bottom edge: right corner\r\n    gradient = context.createRadialGradient(\r\n        this.width() - r,\r\n        r,\r\n        r - this.edge,\r\n        this.width() - r,\r\n        r,\r\n        r\r\n    );\r\n    gradient.addColorStop(1, this.cachedClr);\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.arc(\r\n        this.width() - r,\r\n        r,\r\n        r - shift,\r\n        radians(0),\r\n        radians(90),\r\n        false\r\n    );\r\n    context.stroke();\r\n};\r\n\r\n\r\n\r\n\r\n\r\n// TemplateSlotMorph ///////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a reporter block template sitting on a pedestal.\r\n    My block spec is\r\n\r\n    %t        - template\r\n\r\n    evaluate returns the embedded reporter template's label string\r\n*/\r\n\r\n// TemplateSlotMorph inherits from ArgMorph:\r\n\r\nTemplateSlotMorph.prototype = new ArgMorph();\r\nTemplateSlotMorph.prototype.constructor = TemplateSlotMorph;\r\nTemplateSlotMorph.uber = ArgMorph.prototype;\r\n\r\n// TemplateSlotMorph instance creation:\r\n\r\nfunction TemplateSlotMorph(name) {\r\n    this.init(name);\r\n}\r\n\r\nTemplateSlotMorph.prototype.init = function (name) {\r\n    var template = new ReporterBlockMorph();\r\n    this.labelString = name || '';\r\n    template.isDraggable = false;\r\n    template.isTemplate = true;\r\n    if (modules.objects !== undefined) {\r\n        template.color = SpriteMorph.prototype.blockColor.variables;\r\n        template.category = 'variables';\r\n    } else {\r\n        template.color = new Color(243, 118, 29);\r\n        template.category = null;\r\n    }\r\n    template.setSpec(this.labelString);\r\n    template.selector = 'reportGetVar';\r\n    TemplateSlotMorph.uber.init.call(this);\r\n    this.add(template);\r\n    this.fixLayout();\r\n    this.isDraggable = false;\r\n    this.isStatic = true; // I cannot be exchanged\r\n};\r\n\r\n// TemplateSlotMorph accessing:\r\n\r\nTemplateSlotMorph.prototype.getSpec = function () {\r\n    return '%t';\r\n};\r\n\r\nTemplateSlotMorph.prototype.template = function () {\r\n    return this.children[0];\r\n};\r\n\r\nTemplateSlotMorph.prototype.contents = function () {\r\n    return this.template().blockSpec;\r\n};\r\n\r\nTemplateSlotMorph.prototype.setContents = function (aString) {\r\n    var tmp = this.template();\r\n    tmp.setSpec(aString);\r\n    tmp.fixBlockColor(); // fix zebra coloring\r\n    tmp.fixLabelColor();\r\n};\r\n\r\n// TemplateSlotMorph evaluating:\r\n\r\nTemplateSlotMorph.prototype.evaluate = function () {\r\n    return this.contents();\r\n};\r\n\r\n// TemplateSlotMorph layout:\r\n\r\nTemplateSlotMorph.prototype.fixLayout = function () {\r\n    var template = this.template();\r\n    this.setExtent(template.extent().add(this.edge * 2 + 2));\r\n    template.setPosition(this.position().add(this.edge + 1));\r\n    if (this.parent) {\r\n        if (this.parent.fixLayout) {\r\n            this.parent.fixLayout();\r\n        }\r\n    }\r\n};\r\n\r\n// TemplateSlotMorph drop behavior:\r\n\r\nTemplateSlotMorph.prototype.wantsDropOf = function (aMorph) {\r\n    return aMorph.selector === 'reportGetVar';\r\n};\r\n\r\nTemplateSlotMorph.prototype.reactToDropOf = function (droppedMorph) {\r\n    if (droppedMorph.selector === 'reportGetVar') {\r\n        droppedMorph.destroy();\r\n    }\r\n};\r\n\r\n// TemplateSlotMorph drawing:\r\n\r\nTemplateSlotMorph.prototype.drawNew = function () {\r\n    var context;\r\n    if (this.parent instanceof Morph) {\r\n        this.color = this.parent.color.copy();\r\n    }\r\n    this.cachedClr = this.color.toString();\r\n    this.cachedClrBright = this.bright();\r\n    this.cachedClrDark = this.dark();\r\n    this.image = newCanvas(this.extent());\r\n    context = this.image.getContext('2d');\r\n    context.fillStyle = this.cachedClr;\r\n    this.drawRounded(context);\r\n};\r\n\r\nTemplateSlotMorph.prototype.drawRounded = ReporterBlockMorph\r\n    .prototype.drawRounded;\r\n\r\n// TemplateSlotMorph single-stepping\r\n\r\nTemplateSlotMorph.prototype.flash = function () {\r\n    this.template().flash();\r\n};\r\n\r\nTemplateSlotMorph.prototype.unflash = function () {\r\n    this.template().unflash();\r\n};\r\n\r\n// BooleanSlotMorph ////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a diamond-shaped argument slot.\r\n    My block spec is\r\n\r\n    %b         - Boolean\r\n    %boolUE    - Boolean unevaluated\r\n\r\n    I can be directly edited. When the user clicks on me I toggle\r\n    between <true>, <false> and <null> values.\r\n\r\n    evaluate() returns my value.\r\n\r\n    my most important public attributes and accessors are:\r\n\r\n    value                      - user editable contents (Boolean or null)\r\n    setContents(Boolean/null)  - display the argument (Boolean or null)\r\n*/\r\n\r\n// BooleanSlotMorph inherits from ArgMorph:\r\n\r\nBooleanSlotMorph.prototype = new ArgMorph();\r\nBooleanSlotMorph.prototype.constructor = BooleanSlotMorph;\r\nBooleanSlotMorph.uber = ArgMorph.prototype;\r\n\r\n// BooleanSlotMorph preferences settings\r\n\r\nBooleanSlotMorph.prototype.isTernary = true;\r\n\r\n// BooleanSlotMorph instance creation:\r\n\r\nfunction BooleanSlotMorph(initialValue) {\r\n    this.init(initialValue);\r\n}\r\n\r\nBooleanSlotMorph.prototype.init = function (initialValue) {\r\n    this.value = (typeof initialValue === 'boolean') ? initialValue : null;\r\n    this.isUnevaluated = false;\r\n    BooleanSlotMorph.uber.init.call(this);\r\n};\r\n\r\nBooleanSlotMorph.prototype.getSpec = function () {\r\n    return this.isUnevaluated ? '%boolUE' : '%b';\r\n};\r\n\r\n// BooleanSlotMorph accessing:\r\n\r\nBooleanSlotMorph.prototype.evaluate = function () {\r\n    return this.value;\r\n};\r\n\r\nBooleanSlotMorph.prototype.isEmptySlot = function () {\r\n    return this.value === null;\r\n};\r\n\r\nBooleanSlotMorph.prototype.isBinary = function () {\r\n    return !this.isTernary &&\r\n        isNil(this.parentThatIsA(RingMorph)) &&\r\n        !isNil(this.parentThatIsA(ScriptsMorph));\r\n};\r\n\r\nBooleanSlotMorph.prototype.setContents = function (boolOrNull, silently) {\r\n    this.value = (typeof boolOrNull === 'boolean') ? boolOrNull : null;\r\n    if (silently) {return; }\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nBooleanSlotMorph.prototype.toggleValue = function () {\r\n    var target = this.selectForEdit(),\r\n        ide;\r\n    if (target !== this) {\r\n        return this.toggleValue.call(target);\r\n    }\r\n    ide = this.parentThatIsA(IDE_Morph);\r\n    if (this.isStatic || this.isBinary()) {\r\n        this.setContents(!this.value, true);\r\n    } else {\r\n        switch (this.value) {\r\n        case true:\r\n            this.value = false;\r\n            break;\r\n        case false:\r\n            this.value = null;\r\n            break;\r\n        default:\r\n            this.value = true;\r\n        }\r\n    }\r\n    if (ide && !ide.isAnimating) {\r\n        this.drawNew();\r\n        this.changed();\r\n        return;\r\n    }\r\n    this.drawNew(3);\r\n    this.changed();\r\n    this.nextSteps ([\r\n        function () {\r\n            this.drawNew(2);\r\n            this.changed();\r\n        },\r\n        function () {\r\n            this.drawNew(1);\r\n            this.changed();\r\n        },\r\n        function () {\r\n            this.drawNew();\r\n            this.changed();\r\n        },\r\n    ]);\r\n};\r\n\r\n// BooleanSlotMorph events:\r\n\r\nBooleanSlotMorph.prototype.mouseClickLeft = function () {\r\n    this.toggleValue();\r\n    if (isNil(this.value)) {return; }\r\n    this.reactToSliderEdit();\r\n};\r\n\r\nBooleanSlotMorph.prototype.mouseEnter = function () {\r\n    if (this.isStatic) {return; }\r\n    if (this.value === false && !this.isBinary()) {\r\n        var oldValue = this.value;\r\n        this.value = null;\r\n        this.drawNew(3);\r\n        this.changed();\r\n        this.value = oldValue;\r\n        return;\r\n    }\r\n    this.drawNew(1);\r\n    this.changed();\r\n};\r\n\r\nBooleanSlotMorph.prototype.mouseLeave = function () {\r\n    if (this.isStatic) {return; }\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\n// BooleanSlotMorph menu:\r\n\r\nBooleanSlotMorph.prototype.userMenu = function () {\r\n    var menu = new MenuMorph(this);\r\n    if (!StageMorph.prototype.enableCodeMapping) {\r\n        return this.parent.userMenu();\r\n    }\r\n    if (this.evaluate() === true) {\r\n        menu.addItem(\r\n            'code true mapping...',\r\n            'mapTrueToCode'\r\n        );\r\n    } else {\r\n        menu.addItem(\r\n            'code false mapping...',\r\n            'mapFalseToCode'\r\n        );\r\n    }\r\n    return menu;\r\n};\r\n\r\n// BooleanSlotMorph code mapping\r\n\r\n/*\r\n    code mapping lets you use blocks to generate arbitrary text-based\r\n    source code that can be exported and compiled / embedded elsewhere,\r\n    it's not part of Snap's evaluator and not needed for Snap itself\r\n*/\r\n\r\nBooleanSlotMorph.prototype.mapTrueToCode = function () {\r\n    // private - open a dialog box letting the user map code via the GUI\r\n    new DialogBoxMorph(\r\n        this,\r\n        function (code) {\r\n            StageMorph.prototype.codeMappings['true'] = code;\r\n        },\r\n        this\r\n    ).promptCode(\r\n        'Code mapping - true',\r\n        StageMorph.prototype.codeMappings['true'] || 'true',\r\n        this.world()\r\n    );\r\n};\r\n\r\nBooleanSlotMorph.prototype.mapFalseToCode = function () {\r\n    // private - open a dialog box letting the user map code via the GUI\r\n    new DialogBoxMorph(\r\n        this,\r\n        function (code) {\r\n            StageMorph.prototype.codeMappings['false'] = code;\r\n        },\r\n        this\r\n    ).promptCode(\r\n        'Code mapping - false',\r\n        StageMorph.prototype.codeMappings['false'] || 'false',\r\n        this.world()\r\n    );\r\n};\r\n\r\nBooleanSlotMorph.prototype.mappedCode = function () {\r\n    if (this.evaluate() === true) {\r\n        return StageMorph.prototype.codeMappings.boolTrue || 'true';\r\n    }\r\n    return StageMorph.prototype.codeMappings.boolFalse || 'false';\r\n};\r\n\r\n// BooleanSlotMorph drawing:\r\n\r\nBooleanSlotMorph.prototype.drawNew = function (progress) {\r\n    // \"progress\" is an optional number sliding the knob\r\n    // on a range between 0 and 4\r\n    var context,\r\n        textLabel = this.isStatic ? this.textLabel() : null,\r\n        h;\r\n\r\n    if (textLabel) {\r\n        h = textLabel.height + (this.edge * 3);\r\n        this.silentSetExtent(new Point(\r\n            textLabel.width + (h * 1.5) + (this.edge * 2),\r\n            h\r\n        ));\r\n    } else {\r\n        this.silentSetExtent(new Point(\r\n            (this.fontSize + this.edge * 2) * 2,\r\n            this.fontSize + this.edge * 2\r\n        ));\r\n    }\r\n    if (!(this.cachedNormalColor)) { // unless flashing\r\n        this.color = this.parent ?\r\n                this.parent.color : new Color(200, 200, 200);\r\n    }\r\n    this.cachedClr = this.color.toString();\r\n    this.cachedClrBright = this.bright();\r\n    this.cachedClrDark = this.dark();\r\n    this.image = newCanvas(this.extent());\r\n    context = this.image.getContext('2d');\r\n    this.drawDiamond(context, progress);\r\n    this.drawLabel(context, textLabel);\r\n    this.drawKnob(context, progress);\r\n};\r\n\r\nBooleanSlotMorph.prototype.drawDiamond = function (context, progress) {\r\n    var w = this.width(),\r\n        h = this.height(),\r\n        r = h / 2,\r\n        w2 = w / 2,\r\n        shift = this.edge / 2,\r\n        gradient;\r\n\r\n    // draw the 'flat' shape:\r\n    if (this.cachedNormalColor) { // if flashing\r\n        context.fillStyle = this.color.toString();\r\n    } else {\r\n        switch (this.value) {\r\n        case true:\r\n            context.fillStyle = 'rgb(0, 200, 0)';\r\n            break;\r\n        case false:\r\n            context.fillStyle = 'rgb(200, 0, 0)';\r\n            break;\r\n        default:\r\n            context.fillStyle = this.color.darker(25).toString();\r\n        }\r\n    }\r\n\r\n    if (progress && !this.isEmptySlot()) {\r\n        // left half:\r\n        context.fillStyle = 'rgb(0, 200, 0)';\r\n        context.beginPath();\r\n        context.moveTo(0, r);\r\n        context.lineTo(r, 0);\r\n        context.lineTo(w2, 0);\r\n        context.lineTo(w2, h);\r\n        context.lineTo(r, h);\r\n        context.closePath();\r\n        context.fill();\r\n\r\n        // right half:\r\n        context.fillStyle = 'rgb(200, 0, 0)';\r\n        context.beginPath();\r\n        context.moveTo(w2, 0);\r\n        context.lineTo(w - r, 0);\r\n        context.lineTo(w, r);\r\n        context.lineTo(w - r, h);\r\n        context.lineTo(w2, h);\r\n        context.closePath();\r\n        context.fill();\r\n    } else {\r\n        context.beginPath();\r\n        context.moveTo(0, r);\r\n        context.lineTo(r, 0);\r\n        context.lineTo(w - r, 0);\r\n        context.lineTo(w, r);\r\n        context.lineTo(w - r, h);\r\n        context.lineTo(r, h);\r\n        context.closePath();\r\n        context.fill();\r\n    }\r\n\r\n    if (MorphicPreferences.isFlat) {return; }\r\n\r\n    // add 3D-Effect:\r\n    context.lineWidth = this.edge;\r\n    context.lineJoin = 'round';\r\n    context.lineCap = 'round';\r\n\r\n    context.shadowOffsetX = shift;\r\n    context.shadowBlur = shift;\r\n    context.shadowColor = 'black';\r\n\r\n    // top edge: left corner\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        r,\r\n        this.edge * 0.6,\r\n        r + (this.edge * 0.6)\r\n    );\r\n    gradient.addColorStop(1, this.cachedClrDark);\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(shift, r);\r\n    context.lineTo(r, shift);\r\n    context.closePath();\r\n    context.stroke();\r\n\r\n    // top edge: straight line\r\n    context.shadowOffsetX = 0;\r\n    context.shadowOffsetY = shift;\r\n    context.shadowBlur = this.edge;\r\n\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        0,\r\n        0,\r\n        this.edge\r\n    );\r\n    gradient.addColorStop(1, this.cachedClrDark);\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(r, shift);\r\n    context.lineTo(w - r, shift);\r\n    context.closePath();\r\n    context.stroke();\r\n\r\n    context.shadowOffsetY = 0;\r\n    context.shadowBlur = 0;\r\n\r\n    // bottom edge: right corner\r\n    gradient = context.createLinearGradient(\r\n        w - r - (this.edge * 0.6),\r\n        h - (this.edge * 0.6),\r\n        w - r,\r\n        h\r\n    );\r\n    gradient.addColorStop(1, this.cachedClr);\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(w - r, h - shift);\r\n    context.lineTo(w - shift, r);\r\n    context.closePath();\r\n    context.stroke();\r\n\r\n    // bottom edge: straight line\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        h - this.edge,\r\n        0,\r\n        h\r\n    );\r\n    gradient.addColorStop(1, this.cachedClr);\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(r, h - shift);\r\n    context.lineTo(w - r - shift, h - shift);\r\n    context.closePath();\r\n    context.stroke();\r\n};\r\n\r\nBooleanSlotMorph.prototype.drawLabel = function (context, textLabel) {\r\n    var w = this.width(),\r\n        r = this.height() / 2 - this.edge,\r\n        r2 = r / 2,\r\n        shift = this.edge / 2,\r\n        x,\r\n        y = this.height() / 2;\r\n\r\n    if (this.isEmptySlot()) {\r\n        return;\r\n    }\r\n    if (textLabel) {\r\n        y = (this.height() - textLabel.height) / 2;\r\n        if (this.value) {\r\n            x = this.height() / 2;\r\n        } else {\r\n            x = this.width() - (this.height() / 2) - textLabel.width;\r\n        }\r\n    if (!MorphicPreferences.isFlat) {\r\n        context.shadowOffsetX = -shift;\r\n        context.shadowOffsetY = -shift;\r\n        context.shadowBlur = shift;\r\n        context.shadowColor = this.value ? 'rgb(0, 100, 0)' : 'rgb(100, 0, 0)';\r\n    }\r\n        context.drawImage(textLabel, x, y);\r\n        return;\r\n    }\r\n    // \"tick:\"\r\n    x = r + (this.edge * 2) + shift;\r\n    if (!MorphicPreferences.isFlat) {\r\n        context.shadowOffsetX = -shift;\r\n        context.shadowOffsetY = -shift;\r\n        context.shadowBlur = shift;\r\n        context.shadowColor = 'rgb(0, 100, 0)';\r\n    }\r\n    context.strokeStyle = 'white';\r\n    context.lineWidth = this.edge + shift;\r\n    context.lineCap = 'round';\r\n    context.lineJoin = 'miter';\r\n    context.beginPath();\r\n    context.moveTo(x - r2, y);\r\n    context.lineTo(x, y + r2);\r\n    context.lineTo(x + r2, r2 + this.edge);\r\n    context.stroke();\r\n\r\n    // \"cross:\"\r\n    x = w - y - (this.edge * 2);\r\n    if (!MorphicPreferences.isFlat) {\r\n        context.shadowOffsetX = -shift;\r\n        context.shadowOffsetY = -shift;\r\n        context.shadowBlur = shift;\r\n        context.shadowColor = 'rgb(100, 0, 0)';\r\n    }\r\n    context.strokeStyle = 'white';\r\n    context.lineWidth = this.edge;\r\n    context.lineCap = 'butt';\r\n    context.beginPath();\r\n    context.moveTo(x - r2, y - r2);\r\n    context.lineTo(x + r2, y + r2);\r\n    context.moveTo(x - r2, y + r2);\r\n    context.lineTo(x + r2, y - r2);\r\n    context.stroke();\r\n};\r\n\r\nBooleanSlotMorph.prototype.drawKnob = function (context, progress) {\r\n    var w = this.width(),\r\n        r = this.height() / 2,\r\n        shift = this.edge / 2,\r\n        slideStep = (this.width() - this.height()) / 4 * (progress || 0),\r\n        gradient,\r\n        x,\r\n        y = r,\r\n        outline = PushButtonMorph.prototype.outline / 2,\r\n        outlineColor = PushButtonMorph.prototype.outlineColor,\r\n        color = PushButtonMorph.prototype.color,\r\n        contrast = PushButtonMorph.prototype.contrast,\r\n        topColor = color.lighter(contrast),\r\n        bottomColor = color.darker(contrast);\r\n\r\n    // draw the 'flat' shape:\r\n    switch (this.value) {\r\n    case false:\r\n        x = r + slideStep;\r\n        if (!MorphicPreferences.isFlat) {\r\n            context.shadowOffsetX = shift;\r\n            context.shadowOffsetY = 0;\r\n            context.shadowBlur = shift;\r\n            context.shadowColor = 'black';\r\n        }\r\n        break;\r\n    case true:\r\n        x = w - r - slideStep;\r\n        if (!MorphicPreferences.isFlat) {\r\n            context.shadowOffsetX = 0;\r\n            context.shadowOffsetY = 0;\r\n            context.shadowBlur = 0;\r\n        }\r\n        break;\r\n    default:\r\n        if (!progress) {return; }\r\n        x = r;\r\n        if (!MorphicPreferences.isFlat) {\r\n            context.shadowOffsetX = shift;\r\n            context.shadowOffsetY = 0;\r\n            context.shadowBlur = shift;\r\n            context.shadowColor = 'black';\r\n        }\r\n        context.globalAlpha = 0.2 * ((progress || 0) + 1);\r\n    }\r\n\r\n    context.fillStyle = color.toString();\r\n    context.beginPath();\r\n    context.arc(x, y, r, radians(0), radians(360));\r\n    context.closePath();\r\n    context.fill();\r\n\r\n    if (MorphicPreferences.isFlat) {return; }\r\n\r\n    // add 3D-Effect\r\n    // outline:\r\n    context.shadowOffsetX = 0;\r\n    context.shadowBlur = 0;\r\n    context.shadowColor = 'black';\r\n    context.lineWidth = outline;\r\n    context.strokeStyle = outlineColor.toString();\r\n    context.beginPath();\r\n    context.arc(x, y, r - (outline / 2), radians(0), radians(360));\r\n    context.stroke();\r\n\r\n    // top-left:\r\n    gradient = context.createRadialGradient(\r\n        x,\r\n        y,\r\n        r - outline - this.edge,\r\n        x,\r\n        y,\r\n        r - outline\r\n    );\r\n    gradient.addColorStop(1, topColor.toString());\r\n    gradient.addColorStop(0, color.toString());\r\n\r\n    context.strokeStyle = gradient;\r\n    context.lineCap = 'round';\r\n    context.lineWidth = this.edge;\r\n    context.beginPath();\r\n    context.arc(\r\n        x,\r\n        y,\r\n        r - outline - this.edge / 2,\r\n        radians(180),\r\n        radians(270),\r\n        false\r\n    );\r\n    context.stroke();\r\n\r\n    // bottom-right:\r\n    gradient = context.createRadialGradient(\r\n        x,\r\n        y,\r\n        r - outline - this.edge,\r\n        x,\r\n        y,\r\n        r - outline\r\n    );\r\n    gradient.addColorStop(1, bottomColor.toString());\r\n    gradient.addColorStop(0, color.toString());\r\n\r\n    context.strokeStyle = gradient;\r\n    context.lineCap = 'round';\r\n    context.lineWidth = this.edge;\r\n    context.beginPath();\r\n    context.arc(\r\n        x,\r\n        y,\r\n        r - outline - this.edge / 2,\r\n        radians(0),\r\n        radians(90),\r\n        false\r\n    );\r\n    context.stroke();\r\n};\r\n\r\nBooleanSlotMorph.prototype.textLabel = function () {\r\n    if (this.isEmptySlot()) {return null; }\r\n    var t, f, img, lbl, x, y;\r\n    t = new StringMorph(\r\n        localize('true'),\r\n        this.fontSize,\r\n        null,\r\n        true, // bold\r\n        null,\r\n        null,\r\n        null,\r\n        null,\r\n        new Color(255, 255, 255)\r\n    ).image;\r\n    f = new StringMorph(\r\n        localize('false'),\r\n        this.fontSize,\r\n        null,\r\n        true, // bold\r\n        null,\r\n        null,\r\n        null,\r\n        null,\r\n        new Color(255, 255, 255)\r\n    ).image;\r\n    img = newCanvas(new Point(\r\n        Math.max(t.width, f.width),\r\n        Math.max(t.height, f.height)\r\n    ));\r\n    lbl = this.value ? t : f;\r\n    x = (img.width - lbl.width) / 2;\r\n    y = (img.height - lbl.height) / 2;\r\n    img.getContext('2d').drawImage(lbl, x, y);\r\n    return img;\r\n};\r\n\r\n// ArrowMorph //////////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a triangular arrow shape, for use in drop-down menus etc.\r\n    My orientation is governed by my 'direction' property, which can be\r\n    'down', 'up', 'left' or 'right'.\r\n*/\r\n\r\n// ArrowMorph inherits from Morph:\r\n\r\nArrowMorph.prototype = new Morph();\r\nArrowMorph.prototype.constructor = ArrowMorph;\r\nArrowMorph.uber = Morph.prototype;\r\n\r\n// ArrowMorph instance creation:\r\n\r\nfunction ArrowMorph(direction, size, padding, color) {\r\n    this.init(direction, size, padding, color);\r\n}\r\n\r\nArrowMorph.prototype.init = function (direction, size, padding, color) {\r\n    this.direction = direction || 'down';\r\n    this.size = size || ((size === 0) ? 0 : 50);\r\n    this.padding = padding || 0;\r\n\r\n    ArrowMorph.uber.init.call(this, true); // silently\r\n    this.color = color || new Color(0, 0, 0);\r\n    this.setExtent(new Point(this.size, this.size));\r\n};\r\n\r\nArrowMorph.prototype.setSize = function (size) {\r\n    var min = Math.max(size, 1);\r\n    this.size = size;\r\n    this.setExtent(new Point(min, min));\r\n};\r\n\r\n// ArrowMorph displaying:\r\n\r\nArrowMorph.prototype.drawNew = function () {\r\n    // initialize my surface property\r\n    this.image = newCanvas(this.extent());\r\n    var context = this.image.getContext('2d'),\r\n        pad = this.padding,\r\n        h = this.height(),\r\n        h2 = Math.floor(h / 2),\r\n        w = this.width(),\r\n        w2 = Math.floor(w / 2);\r\n\r\n    context.fillStyle = this.color.toString();\r\n    context.beginPath();\r\n    if (this.direction === 'down') {\r\n        context.moveTo(pad, h2);\r\n        context.lineTo(w - pad, h2);\r\n        context.lineTo(w2, h - pad);\r\n    } else if (this.direction === 'up') {\r\n        context.moveTo(pad, h2);\r\n        context.lineTo(w - pad, h2);\r\n        context.lineTo(w2, pad);\r\n    } else if (this.direction === 'left') {\r\n        context.moveTo(pad, h2);\r\n        context.lineTo(w2, pad);\r\n        context.lineTo(w2, h - pad);\r\n    } else { // 'right'\r\n        context.moveTo(w2, pad);\r\n        context.lineTo(w - pad, h2);\r\n        context.lineTo(w2, h - pad);\r\n    }\r\n    context.closePath();\r\n    context.fill();\r\n};\r\n\r\n// TextSlotMorph //////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a multi-line input slot, primarily used in Snap's code-mapping\r\n    blocks.\r\n*/\r\n\r\n// TextSlotMorph inherits from InputSlotMorph:\r\n\r\nTextSlotMorph.prototype = new InputSlotMorph();\r\nTextSlotMorph.prototype.constructor = TextSlotMorph;\r\nTextSlotMorph.uber = InputSlotMorph.prototype;\r\n\r\n// TextSlotMorph instance creation:\r\n\r\nfunction TextSlotMorph(text, isNumeric, choiceDict, isReadOnly) {\r\n    this.init(text, isNumeric, choiceDict, isReadOnly);\r\n}\r\n\r\nTextSlotMorph.prototype.init = function (\r\n    text,\r\n    isNumeric,\r\n    choiceDict,\r\n    isReadOnly\r\n) {\r\n    var contents = new TextMorph(''),\r\n        arrow = new ArrowMorph(\r\n            'down',\r\n            0,\r\n            Math.max(Math.floor(this.fontSize / 6), 1)\r\n        );\r\n\r\n    contents.fontSize = this.fontSize;\r\n    contents.drawNew();\r\n\r\n    this.isUnevaluated = false;\r\n    this.choices = choiceDict || null; // object, function or selector\r\n    this.oldContentsExtent = contents.extent();\r\n    this.isNumeric = isNumeric || false;\r\n    this.isReadOnly = isReadOnly || false;\r\n    this.minWidth = 0; // can be chaged for text-type inputs (\"landscape\")\r\n    this.constant = null;\r\n\r\n    InputSlotMorph.uber.init.call(this, null, null, null, null, true); // sil.\r\n    this.color = new Color(255, 255, 255);\r\n    this.add(contents);\r\n    this.add(arrow);\r\n    contents.isEditable = true;\r\n    contents.isDraggable = false;\r\n    contents.enableSelecting();\r\n    this.setContents(text);\r\n\r\n};\r\n\r\n// TextSlotMorph accessing:\r\n\r\nTextSlotMorph.prototype.getSpec = function () {\r\n    if (this.isNumeric) {\r\n        return '%mln';\r\n    }\r\n    return '%mlt'; // default\r\n};\r\n\r\nTextSlotMorph.prototype.contents = function () {\r\n    return detect(\r\n        this.children,\r\n        function (child) {\r\n            return (child instanceof TextMorph);\r\n        }\r\n    );\r\n};\r\n\r\n// TextSlotMorph events:\r\n\r\nTextSlotMorph.prototype.layoutChanged = function () {\r\n    this.fixLayout();\r\n};\r\n\r\n// ColorSlotMorph //////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am an editable input slot for a color. Users can edit my color by\r\n    clicking on me, in which case a display a color gradient palette\r\n    and let the user select another color. Note that the user isn't\r\n    restricted to selecting a color from the palette, any color from\r\n    anywhere within the World can be chosen.\r\n\r\n    my block spec is %clr\r\n\r\n    evaluate() returns my color\r\n*/\r\n\r\n// ColorSlotMorph  inherits from ArgMorph:\r\n\r\nColorSlotMorph.prototype = new ArgMorph();\r\nColorSlotMorph.prototype.constructor = ColorSlotMorph;\r\nColorSlotMorph.uber = ArgMorph.prototype;\r\n\r\n// ColorSlotMorph  instance creation:\r\n\r\nfunction ColorSlotMorph(clr) {\r\n    this.init(clr);\r\n}\r\n\r\nColorSlotMorph.prototype.init = function (clr) {\r\n    ColorSlotMorph.uber.init.call(this, null, true); // silently\r\n    this.setColor(clr || new Color(145, 26, 68));\r\n};\r\n\r\nColorSlotMorph.prototype.getSpec = function () {\r\n    return '%clr';\r\n};\r\n\r\n// ColorSlotMorph  color sensing:\r\n\r\nColorSlotMorph.prototype.getUserColor = function () {\r\n    var myself = this,\r\n        world = this.world(),\r\n        hand = world.hand,\r\n        posInDocument = getDocumentPositionOf(world.worldCanvas),\r\n        mouseMoveBak = hand.processMouseMove,\r\n        mouseDownBak = hand.processMouseDown,\r\n        mouseUpBak = hand.processMouseUp,\r\n        pal = new ColorPaletteMorph(null, new Point(\r\n            this.fontSize * 16,\r\n            this.fontSize * 10\r\n        ));\r\n    world.add(pal);\r\n    pal.setPosition(this.bottomLeft().add(new Point(0, this.edge)));\r\n\r\n    hand.processMouseMove = function (event) {\r\n        var clr = world.getGlobalPixelColor(hand.position());\r\n        hand.setPosition(new Point(\r\n            event.pageX - posInDocument.x,\r\n            event.pageY - posInDocument.y\r\n        ));\r\n        if (!clr.a) {\r\n            // ignore transparent,\r\n            // needed for retina-display support\r\n            return;\r\n        }\r\n        myself.setColor(clr);\r\n    };\r\n\r\n    hand.processMouseDown = nop;\r\n\r\n    hand.processMouseUp = function () {\r\n        pal.destroy();\r\n        hand.processMouseMove = mouseMoveBak;\r\n        hand.processMouseDown = mouseDownBak;\r\n        hand.processMouseUp = mouseUpBak;\r\n    };\r\n};\r\n\r\n// ColorSlotMorph events:\r\n\r\nColorSlotMorph.prototype.mouseClickLeft = function () {\r\n    this.selectForEdit().getUserColor();\r\n};\r\n\r\n// ColorSlotMorph evaluating:\r\n\r\nColorSlotMorph.prototype.evaluate = function () {\r\n    return this.color;\r\n};\r\n\r\n// ColorSlotMorph drawing:\r\n\r\nColorSlotMorph.prototype.drawNew = function () {\r\n    var context, borderColor, side;\r\n\r\n    side = this.fontSize + this.edge * 2 + this.typeInPadding * 2;\r\n    this.silentSetExtent(new Point(side, side));\r\n\r\n    // initialize my surface property\r\n    this.image = newCanvas(this.extent());\r\n    context = this.image.getContext('2d');\r\n    if (this.parent) {\r\n        borderColor = this.parent.color;\r\n    } else {\r\n        borderColor = new Color(120, 120, 120);\r\n    }\r\n    context.fillStyle = this.color.toString();\r\n\r\n    // cache my border colors\r\n    this.cachedClr = borderColor.toString();\r\n    this.cachedClrBright = borderColor.lighter(this.contrast)\r\n        .toString();\r\n    this.cachedClrDark = borderColor.darker(this.contrast).toString();\r\n\r\n    context.fillRect(\r\n        this.edge,\r\n        this.edge,\r\n        this.width() - this.edge * 2,\r\n        this.height() - this.edge * 2\r\n    );\r\n    if (!MorphicPreferences.isFlat) {\r\n        this.drawRectBorder(context);\r\n    }\r\n};\r\n\r\nColorSlotMorph.prototype.drawRectBorder =\r\n    InputSlotMorph.prototype.drawRectBorder;\r\n\r\n// BlockHighlightMorph /////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a glowing halo around a block or stack of blocks indicating that\r\n    a script is currently active or has encountered an error.\r\n    I halso have an optional readout that can display a thread count\r\n    if more than one process shares the same script\r\n*/\r\n\r\n// BlockHighlightMorph inherits from Morph:\r\n\r\nBlockHighlightMorph.prototype = new Morph();\r\nBlockHighlightMorph.prototype.constructor = BlockHighlightMorph;\r\nBlockHighlightMorph.uber = Morph.prototype;\r\n\r\n// BlockHighlightMorph instance creation:\r\n\r\nfunction BlockHighlightMorph() {\r\n    this.threadCount = 0;\r\n    this.init();\r\n}\r\n\r\n// BlockHighlightMorph thread count readout\r\n\r\nBlockHighlightMorph.prototype.readout = function () {\r\n    return this.children.length ? this.children[0] : null;\r\n};\r\n\r\nBlockHighlightMorph.prototype.updateReadout = function () {\r\n    var readout = this.readout(),\r\n        inset = useBlurredShadows && !MorphicPreferences.isFlat ?\r\n            SyntaxElementMorph.prototype.activeBlur * 0.4\r\n                : SyntaxElementMorph.prototype.activeBorder * -2;\r\n    if (this.threadCount < 2) {\r\n        if (readout) {\r\n            readout.destroy();\r\n        }\r\n        return;\r\n    }\r\n    if (readout) {\r\n        readout.contents = this.threadCount.toString();\r\n        readout.fullChanged();\r\n        readout.drawNew();\r\n        readout.fullChanged();\r\n    } else {\r\n        readout = new SpeechBubbleMorph(\r\n            this.threadCount.toString(),\r\n            this.color, // color,\r\n            null, // edge,\r\n            null, // border,\r\n            this.color.darker(), // borderColor,\r\n            null, // padding,\r\n            1 // isThought - don't draw a hook\r\n        );\r\n        this.add(readout);\r\n    }\r\n    readout.setPosition(this.position().add(inset));\r\n};\r\n\r\n// MultiArgMorph ///////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am an arity controlled list of input slots\r\n\r\n    my block specs are\r\n\r\n        %mult%x - where x is any single input slot\r\n        %inputs - for an additional text label 'with inputs'\r\n\r\n    evaluation is handles by the interpreter\r\n*/\r\n\r\n// MultiArgMorph inherits from ArgMorph:\r\n\r\nMultiArgMorph.prototype = new ArgMorph();\r\nMultiArgMorph.prototype.constructor = MultiArgMorph;\r\nMultiArgMorph.uber = ArgMorph.prototype;\r\n\r\n// MultiArgMorph instance creation:\r\n\r\nfunction MultiArgMorph(\r\n    slotSpec,\r\n    labelTxt,\r\n    min,\r\n    eSpec,\r\n    arrowColor,\r\n    labelColor,\r\n    shadowColor,\r\n    shadowOffset,\r\n    isTransparent\r\n) {\r\n    this.init(\r\n        slotSpec,\r\n        labelTxt,\r\n        min,\r\n        eSpec,\r\n        arrowColor,\r\n        labelColor,\r\n        shadowColor,\r\n        shadowOffset,\r\n        isTransparent\r\n    );\r\n}\r\n\r\nMultiArgMorph.prototype.init = function (\r\n    slotSpec,\r\n    labelTxt,\r\n    min,\r\n    eSpec,\r\n    arrowColor,\r\n    labelColor,\r\n    shadowColor,\r\n    shadowOffset,\r\n    isTransparent\r\n) {\r\n    var label,\r\n        arrows = new FrameMorph(),\r\n        leftArrow,\r\n        rightArrow,\r\n        i;\r\n\r\n    this.slotSpec = slotSpec || '%s';\r\n    this.labelText = localize(labelTxt || '');\r\n    this.minInputs = min || 0;\r\n    this.elementSpec = eSpec || null;\r\n    this.labelColor = labelColor || null;\r\n    this.shadowColor = shadowColor || null;\r\n    this.shadowOffset = shadowOffset || null;\r\n\r\n    this.canBeEmpty = true;\r\n    MultiArgMorph.uber.init.call(this, null, true); // silently\r\n\r\n    // MultiArgMorphs are transparent by default b/c of zebra coloring\r\n    this.alpha = isTransparent === false ? 1 : 0;\r\n    arrows.alpha = isTransparent === false ? 1 : 0;\r\n    arrows.noticesTransparentClick = true;\r\n    this.noticesTransparentclick = true;\r\n\r\n    // label text:\r\n    label = this.labelPart(this.labelText);\r\n    this.add(label);\r\n    label.hide();\r\n\r\n    // left arrow:\r\n    leftArrow = new ArrowMorph(\r\n        'left',\r\n        this.fontSize,\r\n        Math.max(Math.floor(this.fontSize / 6), 1),\r\n        arrowColor\r\n    );\r\n\r\n    // right arrow:\r\n    rightArrow = new ArrowMorph(\r\n        'right',\r\n        this.fontSize,\r\n        Math.max(Math.floor(this.fontSize / 6), 1),\r\n        arrowColor\r\n    );\r\n\r\n    // control panel:\r\n    arrows.add(leftArrow);\r\n    arrows.add(rightArrow);\r\n    arrows.drawNew();\r\n    arrows.acceptsDrops = false;\r\n\r\n    this.add(arrows);\r\n\r\n    // create the minimum number of inputs\r\n    for (i = 0; i < this.minInputs; i += 1) {\r\n        this.addInput();\r\n    }\r\n};\r\n\r\nMultiArgMorph.prototype.label = function () {\r\n    return this.children[0];\r\n};\r\n\r\nMultiArgMorph.prototype.arrows = function () {\r\n    return this.children[this.children.length - 1];\r\n};\r\n\r\nMultiArgMorph.prototype.getSpec = function () {\r\n    return '%mult' + this.slotSpec;\r\n};\r\n\r\n// MultiArgMorph defaults:\r\n\r\nMultiArgMorph.prototype.setContents = function (anArray) {\r\n    var inputs = this.inputs(), i;\r\n    for (i = 0; i < anArray.length; i += 1) {\r\n        if (anArray[i] !== null && (inputs[i])) {\r\n            inputs[i].setContents(anArray[i]);\r\n        }\r\n    }\r\n};\r\n\r\n// MultiArgMorph hiding and showing:\r\n\r\n/*\r\n    override the inherited behavior to recursively hide/show all\r\n    children, so that my instances get restored correctly when\r\n    switching back out of app mode.\r\n*/\r\n\r\nMultiArgMorph.prototype.hide = function () {\r\n    this.isVisible = false;\r\n    this.changed();\r\n};\r\n\r\nMultiArgMorph.prototype.show = function () {\r\n    this.isVisible = true;\r\n    this.changed();\r\n};\r\n\r\n// MultiArgMorph coloring:\r\n\r\nMultiArgMorph.prototype.setLabelColor = function (\r\n    textColor,\r\n    shadowColor,\r\n    shadowOffset\r\n) {\r\n    this.textColor = textColor;\r\n    this.shadowColor = shadowColor;\r\n    this.shadowOffset = shadowOffset;\r\n    MultiArgMorph.uber.setLabelColor.call(\r\n        this,\r\n        textColor,\r\n        shadowColor,\r\n        shadowOffset\r\n    );\r\n};\r\n\r\n// MultiArgMorph layout:\r\n\r\nMultiArgMorph.prototype.fixLayout = function () {\r\n    if (this.slotSpec === '%t') {\r\n        this.isStatic = true; // in this case I cannot be exchanged\r\n    }\r\n    if (this.parent) {\r\n        var label = this.label(), shadowColor, shadowOffset;\r\n        this.color = this.parent.color;\r\n        shadowColor = this.shadowColor ||\r\n            this.parent.color.darker(this.labelContrast);\r\n        shadowOffset = this.shadowOffset || label.shadowOffset;\r\n        this.arrows().color = this.color;\r\n\r\n        if (this.labelText !== '') {\r\n            if (!label.shadowColor.eq(shadowColor)) {\r\n                label.shadowColor = shadowColor;\r\n                label.shadowOffset = shadowOffset;\r\n                label.drawNew();\r\n            }\r\n        }\r\n\r\n    }\r\n    this.fixArrowsLayout();\r\n    MultiArgMorph.uber.fixLayout.call(this);\r\n    if (this.parent) {\r\n        this.parent.fixLayout();\r\n    }\r\n};\r\n\r\nMultiArgMorph.prototype.fixArrowsLayout = function () {\r\n    var label = this.label(),\r\n        arrows = this.arrows(),\r\n        leftArrow = arrows.children[0],\r\n        rightArrow = arrows.children[1],\r\n        dim = new Point(rightArrow.width() / 2, rightArrow.height());\r\n    if (this.inputs().length < (this.minInputs + 1)) {\r\n        label.hide();\r\n        leftArrow.hide();\r\n        rightArrow.setPosition(\r\n            arrows.position().subtract(new Point(dim.x, 0))\r\n        );\r\n        arrows.setExtent(dim);\r\n    } else {\r\n        if (this.labelText !== '') {\r\n            label.show();\r\n        }\r\n        leftArrow.show();\r\n        rightArrow.setPosition(leftArrow.topCenter());\r\n        arrows.bounds.corner = rightArrow.bottomRight().copy();\r\n    }\r\n    arrows.drawNew();\r\n};\r\n\r\nMultiArgMorph.prototype.refresh = function () {\r\n    this.inputs().forEach(function (input) {\r\n        input.drawNew();\r\n    });\r\n};\r\n\r\nMultiArgMorph.prototype.drawNew = function () {\r\n    MultiArgMorph.uber.drawNew.call(this);\r\n    this.refresh();\r\n};\r\n\r\n// MultiArgMorph arity control:\r\n\r\nMultiArgMorph.prototype.addInput = function (contents) {\r\n    var i, name,\r\n        newPart = this.labelPart(this.slotSpec),\r\n        idx = this.children.length - 1;\r\n    // newPart.alpha = this.alpha ? 1 : (1 - this.alpha) / 2;\r\n    if (contents) {\r\n        newPart.setContents(contents);\r\n    } else if (this.elementSpec === '%scriptVars' ||\r\n            this.elementSpec === '%blockVars') {\r\n        name = '';\r\n        i = idx;\r\n        while (i > 0) {\r\n            name = String.fromCharCode(97 + (i - 1) % 26) + name;\r\n            i = Math.floor((i - 1) / 26);\r\n        }\r\n        newPart.setContents(name);\r\n    } else if (contains(['%parms', '%ringparms'], this.elementSpec)) {\r\n        newPart.setContents('#' + idx);\r\n    }\r\n    newPart.parent = this;\r\n    this.children.splice(idx, 0, newPart);\r\n    newPart.drawNew();\r\n    this.fixLayout();\r\n};\r\n\r\nMultiArgMorph.prototype.removeInput = function () {\r\n    var oldPart, scripts;\r\n    if (this.children.length > 1) {\r\n        oldPart = this.children[this.children.length - 2];\r\n        this.removeChild(oldPart);\r\n        if (oldPart instanceof BlockMorph) {\r\n            scripts = this.parentThatIsA(ScriptsMorph);\r\n            if (scripts) {\r\n                scripts.add(oldPart);\r\n            }\r\n        }\r\n    }\r\n    this.fixLayout();\r\n};\r\n\r\n// MultiArgMorph events:\r\n\r\nMultiArgMorph.prototype.mouseClickLeft = function (pos) {\r\n    // prevent expansion in the palette\r\n    // (because it can be hard or impossible to collapse again)\r\n    if (!this.parentThatIsA(ScriptsMorph)) {\r\n        this.escalateEvent('mouseClickLeft', pos);\r\n        return;\r\n    }\r\n    // if the <shift> key is pressed, repeat action 3 times\r\n    var target = this.selectForEdit(),\r\n        arrows = target.arrows(),\r\n        leftArrow = arrows.children[0],\r\n        rightArrow = arrows.children[1],\r\n        repetition = target.world().currentKey === 16 ? 3 : 1,\r\n        i;\r\n\r\n    target.startLayout();\r\n    if (rightArrow.bounds.containsPoint(pos)) {\r\n        for (i = 0; i < repetition; i += 1) {\r\n            if (rightArrow.isVisible) {\r\n                target.addInput();\r\n            }\r\n        }\r\n    } else if (leftArrow.bounds.containsPoint(pos)) {\r\n        for (i = 0; i < repetition; i += 1) {\r\n            if (leftArrow.isVisible) {\r\n                target.removeInput();\r\n            }\r\n        }\r\n    } else {\r\n        target.escalateEvent('mouseClickLeft', pos);\r\n    }\r\n    target.endLayout();\r\n};\r\n\r\n// MultiArgMorph menu:\r\n\r\nMultiArgMorph.prototype.userMenu = function () {\r\n    var menu = new MenuMorph(this),\r\n        block = this.parentThatIsA(BlockMorph),\r\n        key = '',\r\n        myself = this;\r\n    if (!StageMorph.prototype.enableCodeMapping) {\r\n        return this.parent.userMenu();\r\n    }\r\n    if (block) {\r\n        if (block instanceof RingMorph) {\r\n            key = 'parms_';\r\n        } else if (block.selector === 'doDeclareVariables') {\r\n            key = 'tempvars_';\r\n        }\r\n    }\r\n    menu.addItem(\r\n        'code list mapping...',\r\n        function () {myself.mapCodeList(key); }\r\n    );\r\n    menu.addItem(\r\n        'code item mapping...',\r\n        function () {myself.mapCodeItem(key); }\r\n    );\r\n    menu.addItem(\r\n        'code delimiter mapping...',\r\n        function () {myself.mapCodeDelimiter(key); }\r\n    );\r\n    return menu;\r\n};\r\n\r\n// MultiArgMorph code mapping\r\n\r\n/*\r\n    code mapping lets you use blocks to generate arbitrary text-based\r\n    source code that can be exported and compiled / embedded elsewhere,\r\n    it's not part of Snap's evaluator and not needed for Snap itself\r\n*/\r\n\r\nMultiArgMorph.prototype.mapCodeDelimiter = function (key) {\r\n    this.mapToCode(key + 'delim', 'list item delimiter');\r\n};\r\n\r\nMultiArgMorph.prototype.mapCodeList = function (key) {\r\n    this.mapToCode(key + 'list', 'list contents <#1>');\r\n};\r\n\r\nMultiArgMorph.prototype.mapCodeItem = function (key) {\r\n    this.mapToCode(key + 'item', 'list item <#1>');\r\n};\r\n\r\nMultiArgMorph.prototype.mapToCode = function (key, label) {\r\n    // private - open a dialog box letting the user map code via the GUI\r\n    new DialogBoxMorph(\r\n        this,\r\n        function (code) {\r\n            StageMorph.prototype.codeMappings[key] = code;\r\n        },\r\n        this\r\n    ).promptCode(\r\n        'Code mapping - ' + label,\r\n        StageMorph.prototype.codeMappings[key] || '',\r\n        this.world()\r\n    );\r\n};\r\n\r\nMultiArgMorph.prototype.mappedCode = function (definitions) {\r\n    var block = this.parentThatIsA(BlockMorph),\r\n        key = '',\r\n        code,\r\n        items = '',\r\n        itemCode,\r\n        delim,\r\n        count = 0,\r\n        parts = [];\r\n\r\n    if (block) {\r\n        if (block instanceof RingMorph) {\r\n            key = 'parms_';\r\n        } else if (block.selector === 'doDeclareVariables') {\r\n            key = 'tempvars_';\r\n        }\r\n    }\r\n\r\n    code = StageMorph.prototype.codeMappings[key + 'list'] || '<#1>';\r\n    itemCode = StageMorph.prototype.codeMappings[key + 'item'] || '<#1>';\r\n    delim = StageMorph.prototype.codeMappings[key + 'delim'] || ' ';\r\n\r\n    this.inputs().forEach(function (input) {\r\n        parts.push(itemCode.replace(/<#1>/g, input.mappedCode(definitions)));\r\n    });\r\n    parts.forEach(function (part) {\r\n        if (count) {\r\n            items += delim;\r\n        }\r\n        items += part;\r\n        count += 1;\r\n    });\r\n    code = code.replace(/<#1>/g, items);\r\n    return code;\r\n};\r\n\r\n// MultiArgMorph arity evaluating:\r\n\r\nMultiArgMorph.prototype.evaluate = function () {\r\n    // this is usually overridden by the interpreter. This method is only\r\n    // called (and needed) for the variables menu.\r\n\r\n    var result = [];\r\n    this.inputs().forEach(function (slot) {\r\n        result.push(slot.evaluate());\r\n    });\r\n    return result;\r\n};\r\n\r\nMultiArgMorph.prototype.isEmptySlot = function () {\r\n    return this.canBeEmpty ? this.inputs().length === 0 : false;\r\n};\r\n\r\n// ArgLabelMorph ///////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a label string that is wrapped around an ArgMorph, usually\r\n    a MultiArgMorph, so to indicate that it has been replaced entirely\r\n    for an embedded reporter block\r\n\r\n    I don't have a block spec, I get embedded automatically by the parent\r\n    block's argument replacement mechanism\r\n\r\n    My evaluation method is the identity function, i.e. I simply pass my\r\n    input's value along.\r\n*/\r\n\r\n// ArgLabelMorph inherits from ArgMorph:\r\n\r\nArgLabelMorph.prototype = new ArgMorph();\r\nArgLabelMorph.prototype.constructor = ArgLabelMorph;\r\nArgLabelMorph.uber = ArgMorph.prototype;\r\n\r\n// MultiArgMorph instance creation:\r\n\r\nfunction ArgLabelMorph(argMorph, labelTxt) {\r\n    this.init(argMorph, labelTxt);\r\n}\r\n\r\nArgLabelMorph.prototype.init = function (argMorph, labelTxt) {\r\n    var label;\r\n\r\n    this.labelText = localize(labelTxt || 'input list:');\r\n    ArgLabelMorph.uber.init.call(this, null, true); // silently\r\n\r\n    this.isStatic = true; // I cannot be exchanged\r\n\r\n    // ArgLabelMorphs are transparent\r\n    this.alpha = 0;\r\n    this.noticesTransparentclick = true;\r\n\r\n    // label text:\r\n    label = this.labelPart(this.labelText);\r\n    this.add(label);\r\n\r\n    // argMorph\r\n    this.add(argMorph);\r\n};\r\n\r\nArgLabelMorph.prototype.label = function () {\r\n    return this.children[0];\r\n};\r\n\r\nArgLabelMorph.prototype.argMorph = function () {\r\n    return this.children[1];\r\n};\r\n\r\n// ArgLabelMorph layout:\r\n\r\nArgLabelMorph.prototype.fixLayout = function () {\r\n    var label = this.label(),\r\n        shadowColor,\r\n        shadowOffset;\r\n\r\n    if (this.parent) {\r\n        this.color = this.parent.color;\r\n        shadowOffset = label.shadowOffset || new Point();\r\n\r\n        // determine the shadow color for zebra coloring:\r\n        if (shadowOffset.x < 0) {\r\n            shadowColor = this.parent.color.darker(this.labelContrast);\r\n        } else {\r\n            shadowColor = this.parent.color.lighter(this.labelContrast);\r\n        }\r\n\r\n        if (this.labelText !== '') {\r\n            if (!label.shadowColor.eq(shadowColor)) {\r\n                label.shadowColor = shadowColor;\r\n                label.shadowOffset = shadowOffset;\r\n                label.drawNew();\r\n            }\r\n        }\r\n    }\r\n    ArgLabelMorph.uber.fixLayout.call(this);\r\n    if (this.parent) {\r\n        this.parent.fixLayout();\r\n    }\r\n};\r\n\r\nArgLabelMorph.prototype.refresh = function () {\r\n    this.inputs().forEach(function (input) {\r\n        input.drawNew();\r\n    });\r\n};\r\n\r\nArgLabelMorph.prototype.drawNew = function () {\r\n    ArgLabelMorph.uber.drawNew.call(this);\r\n    this.refresh();\r\n};\r\n\r\n// ArgLabelMorph label color:\r\n\r\nArgLabelMorph.prototype.setLabelColor = function (\r\n    textColor,\r\n    shadowColor,\r\n    shadowOffset\r\n) {\r\n    if (this.labelText !== '') {\r\n        var label = this.label();\r\n        label.color = textColor;\r\n        label.shadowColor = shadowColor;\r\n        label.shadowOffset = shadowOffset;\r\n        label.drawNew();\r\n    }\r\n};\r\n\r\n// ArgLabelMorph events:\r\n\r\nArgLabelMorph.prototype.reactToGrabOf = function () {\r\n    if (this.parent instanceof SyntaxElementMorph) {\r\n        this.parent.revertToDefaultInput(this);\r\n    }\r\n};\r\n\r\n// ArgLabelMorph evaluating:\r\n\r\nArgLabelMorph.prototype.evaluate = function () {\r\n    // this is usually overridden by the interpreter. This method is only\r\n    // called (and needed) for the variables menu.\r\n\r\n    return this.argMorph().evaluate();\r\n};\r\n\r\nArgLabelMorph.prototype.isEmptySlot = function () {\r\n    return false;\r\n};\r\n\r\n// FunctionSlotMorph ///////////////////////////////////////////////////\r\n\r\n/*\r\n    I am an unevaluated, non-editable, rf-colored, rounded or diamond\r\n    input slot. My current (only) use is in the THE BLOCK block.\r\n\r\n    My command spec is %f\r\n*/\r\n\r\n// FunctionSlotMorph inherits from ArgMorph:\r\n\r\nFunctionSlotMorph.prototype = new ArgMorph();\r\nFunctionSlotMorph.prototype.constructor = FunctionSlotMorph;\r\nFunctionSlotMorph.uber = ArgMorph.prototype;\r\n\r\n// FunctionSlotMorph instance creation:\r\n\r\nfunction FunctionSlotMorph(isPredicate) {\r\n    this.init(isPredicate);\r\n}\r\n\r\nFunctionSlotMorph.prototype.init = function (isPredicate, silently) {\r\n    FunctionSlotMorph.uber.init.call(this, null, true); // silently\r\n    this.isPredicate = isPredicate || false;\r\n    this.color = this.rfColor;\r\n    this.setExtent(\r\n        new Point(\r\n            (this.fontSize + this.edge * 2) * 2,\r\n            this.fontSize + this.edge * 2\r\n        ),\r\n        silently\r\n    );\r\n};\r\n\r\nFunctionSlotMorph.prototype.getSpec = function () {\r\n    return '%f';\r\n};\r\n\r\n// FunctionSlotMorph drawing:\r\n\r\nFunctionSlotMorph.prototype.drawNew = function () {\r\n    var context, borderColor;\r\n\r\n    // initialize my surface property\r\n    this.image = newCanvas(this.extent());\r\n    context = this.image.getContext('2d');\r\n    if (this.parent) {\r\n        borderColor = this.parent.color;\r\n    } else {\r\n        borderColor = new Color(120, 120, 120);\r\n    }\r\n\r\n    // cache my border colors\r\n    this.cachedClr = borderColor.toString();\r\n    this.cachedClrBright = borderColor.lighter(this.contrast)\r\n        .toString();\r\n    this.cachedClrDark = borderColor.darker(this.contrast).toString();\r\n\r\n    if (this.isPredicate) {\r\n        this.drawDiamond(context);\r\n    } else {\r\n        this.drawRounded(context);\r\n    }\r\n};\r\n\r\nFunctionSlotMorph.prototype.drawRounded = function (context) {\r\n    var h = this.height(),\r\n        r = Math.min(this.rounding, h / 2),\r\n        w = this.width(),\r\n        shift = this.edge / 2,\r\n        gradient;\r\n\r\n    // draw the 'flat' shape:\r\n    context.fillStyle = this.color.toString();\r\n    context.beginPath();\r\n\r\n    // top left:\r\n    context.arc(\r\n        r,\r\n        r,\r\n        r,\r\n        radians(-180),\r\n        radians(-90),\r\n        false\r\n    );\r\n\r\n    // top right:\r\n    context.arc(\r\n        w - r,\r\n        r,\r\n        r,\r\n        radians(-90),\r\n        radians(-0),\r\n        false\r\n    );\r\n\r\n    // bottom right:\r\n    context.arc(\r\n        w - r,\r\n        h - r,\r\n        r,\r\n        radians(0),\r\n        radians(90),\r\n        false\r\n    );\r\n\r\n    // bottom left:\r\n    context.arc(\r\n        r,\r\n        h - r,\r\n        r,\r\n        radians(90),\r\n        radians(180),\r\n        false\r\n    );\r\n\r\n    context.closePath();\r\n    context.fill();\r\n\r\n    if (MorphicPreferences.isFlat) {return; }\r\n\r\n    // add 3D-Effect:\r\n    context.lineWidth = this.edge;\r\n    context.lineJoin = 'round';\r\n    context.lineCap = 'round';\r\n\r\n    // bottom left corner\r\n    context.strokeStyle = this.cachedClr; //gradient;\r\n    context.beginPath();\r\n    context.arc(\r\n        r,\r\n        h - r,\r\n        r - shift,\r\n        radians(90),\r\n        radians(180),\r\n        false\r\n    );\r\n    context.stroke();\r\n\r\n    // top right corner\r\n    context.strokeStyle = this.cachedClr; //gradient;\r\n    context.beginPath();\r\n    context.arc(\r\n        w - r,\r\n        r,\r\n        r - shift,\r\n        radians(-90),\r\n        radians(0),\r\n        false\r\n    );\r\n    context.stroke();\r\n\r\n    // normal gradient edges\r\n\r\n    context.shadowOffsetX = shift;\r\n    context.shadowOffsetY = shift;\r\n    context.shadowBlur = this.edge;\r\n    context.shadowColor = this.color.darker(80).toString();\r\n\r\n    // top edge: straight line\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        0,\r\n        0,\r\n        this.edge\r\n    );\r\n    gradient.addColorStop(1, this.cachedClrDark);\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(r - shift, shift);\r\n    context.lineTo(w - r + shift, shift);\r\n    context.stroke();\r\n\r\n    // top edge: left corner\r\n    gradient = context.createRadialGradient(\r\n        r,\r\n        r,\r\n        r - this.edge,\r\n        r,\r\n        r,\r\n        r\r\n    );\r\n    gradient.addColorStop(1, this.cachedClr);\r\n    gradient.addColorStop(0, this.cachedClrDark);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.arc(\r\n        r,\r\n        r,\r\n        r - shift,\r\n        radians(180),\r\n        radians(270),\r\n        false\r\n    );\r\n    context.stroke();\r\n\r\n    // left edge: straight vertical line\r\n    gradient = context.createLinearGradient(0, 0, this.edge, 0);\r\n    gradient.addColorStop(1, this.cachedClrDark);\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(shift, r);\r\n    context.lineTo(shift, h - r);\r\n    context.stroke();\r\n\r\n    context.shadowOffsetX = 0;\r\n    context.shadowOffsetY = 0;\r\n    context.shadowBlur = 0;\r\n\r\n    // bottom edge: right corner\r\n    gradient = context.createRadialGradient(\r\n        w - r,\r\n        h - r,\r\n        r - this.edge,\r\n        w - r,\r\n        h - r,\r\n        r\r\n    );\r\n    gradient.addColorStop(1, this.cachedClr);\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.arc(\r\n        w - r,\r\n        h - r,\r\n        r - shift,\r\n        radians(0),\r\n        radians(90),\r\n        false\r\n    );\r\n    context.stroke();\r\n\r\n    // bottom edge: straight line\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        h - this.edge,\r\n        0,\r\n        h\r\n    );\r\n    gradient.addColorStop(1, this.cachedClr);\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(r - shift, h - shift);\r\n    context.lineTo(w - r + shift, h - shift);\r\n    context.stroke();\r\n\r\n    // right edge: straight vertical line\r\n    gradient = context.createLinearGradient(w - this.edge, 0, w, 0);\r\n    gradient.addColorStop(1, this.cachedClr);\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(w - shift, r + shift);\r\n    context.lineTo(w - shift, h - r);\r\n    context.stroke();\r\n\r\n};\r\n\r\nFunctionSlotMorph.prototype.drawDiamond = function (context) {\r\n    var w = this.width(),\r\n        h = this.height(),\r\n        h2 = Math.floor(h / 2),\r\n        r = Math.min(this.rounding, h2),\r\n        shift = this.edge / 2,\r\n        gradient;\r\n\r\n    // draw the 'flat' shape:\r\n    context.fillStyle = this.color.toString();\r\n    context.beginPath();\r\n\r\n    context.moveTo(0, h2);\r\n    context.lineTo(r, 0);\r\n    context.lineTo(w - r, 0);\r\n    context.lineTo(w, h2);\r\n    context.lineTo(w - r, h);\r\n    context.lineTo(r, h);\r\n\r\n    context.closePath();\r\n    context.fill();\r\n\r\n    if (MorphicPreferences.isFlat) {return; }\r\n\r\n    // add 3D-Effect:\r\n    context.lineWidth = this.edge;\r\n    context.lineJoin = 'round';\r\n    context.lineCap = 'round';\r\n\r\n    // half-tone edges\r\n    // bottom left corner\r\n    context.strokeStyle = this.cachedClr;\r\n    context.beginPath();\r\n    context.moveTo(shift, h2);\r\n    context.lineTo(r, h - shift);\r\n    context.stroke();\r\n\r\n    // top right corner\r\n    context.strokeStyle = this.cachedClr;\r\n    context.beginPath();\r\n    context.moveTo(w - shift, h2);\r\n    context.lineTo(w - r, shift);\r\n    context.stroke();\r\n\r\n    // normal gradient edges\r\n    // top edge: left corner\r\n\r\n    context.shadowOffsetX = shift;\r\n    context.shadowOffsetY = shift;\r\n    context.shadowBlur = this.edge;\r\n    context.shadowColor = this.color.darker(80).toString();\r\n\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        0,\r\n        r,\r\n        0\r\n    );\r\n    gradient.addColorStop(1, this.cachedClrDark);\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(shift, h2);\r\n    context.lineTo(r, shift);\r\n    context.stroke();\r\n\r\n    // top edge: straight line\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        0,\r\n        0,\r\n        this.edge\r\n    );\r\n    gradient.addColorStop(1, this.cachedClrDark);\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(r, shift);\r\n    context.lineTo(w - r, shift);\r\n    context.stroke();\r\n\r\n    context.shadowOffsetX = 0;\r\n    context.shadowOffsetY = 0;\r\n    context.shadowBlur = 0;\r\n\r\n    // bottom edge: right corner\r\n    gradient = context.createLinearGradient(\r\n        w - r,\r\n        0,\r\n        w,\r\n        0\r\n    );\r\n    gradient.addColorStop(1, this.cachedClr);\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(w - r, h - shift);\r\n    context.lineTo(w - shift, h2);\r\n    context.stroke();\r\n\r\n    // bottom edge: straight line\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        h - this.edge,\r\n        0,\r\n        h\r\n    );\r\n    gradient.addColorStop(1, this.cachedClr);\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(r + shift, h - shift);\r\n    context.lineTo(w - r - shift, h - shift);\r\n    context.stroke();\r\n};\r\n\r\n// ReporterSlotMorph ///////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a ReporterBlock-shaped input slot. I can nest as well as\r\n    accept reporter blocks (containing reified scripts).\r\n\r\n    my most important accessor is\r\n\r\n    nestedBlock()    - answer the reporter block I encompass, if any\r\n\r\n    My command spec is %r for reporters (round) and %p for\r\n    predicates (diamond)\r\n\r\n    evaluate() returns my nested block or null\r\n*/\r\n\r\n// ReporterSlotMorph inherits from FunctionSlotMorph:\r\n\r\nReporterSlotMorph.prototype = new FunctionSlotMorph();\r\nReporterSlotMorph.prototype.constructor = ReporterSlotMorph;\r\nReporterSlotMorph.uber = FunctionSlotMorph.prototype;\r\n\r\n// ReporterSlotMorph instance creation:\r\n\r\nfunction ReporterSlotMorph(isPredicate) {\r\n    this.init(isPredicate);\r\n}\r\n\r\nReporterSlotMorph.prototype.init = function (isPredicate) {\r\n    ReporterSlotMorph.uber.init.call(this, isPredicate, true);\r\n    this.add(this.emptySlot());\r\n    this.fixLayout();\r\n};\r\n\r\nReporterSlotMorph.prototype.emptySlot = function () {\r\n    var empty = new ArgMorph(),\r\n        shrink = this.rfBorder * 2 + this.edge * 2;\r\n    empty.color = this.rfColor;\r\n    empty.alpha = 0;\r\n    empty.setExtent(new Point(\r\n        (this.fontSize + this.edge * 2) * 2 - shrink,\r\n        this.fontSize + this.edge * 2 - shrink\r\n    ));\r\n    return empty;\r\n};\r\n\r\n// ReporterSlotMorph accessing:\r\n\r\nReporterSlotMorph.prototype.getSpec = function () {\r\n    return '%r';\r\n};\r\n\r\nReporterSlotMorph.prototype.contents = function () {\r\n    return this.children[0];\r\n};\r\n\r\nReporterSlotMorph.prototype.nestedBlock = function () {\r\n    var contents = this.contents();\r\n    return contents instanceof ReporterBlockMorph ? contents : null;\r\n};\r\n\r\n// ReporterSlotMorph evaluating:\r\n\r\nReporterSlotMorph.prototype.evaluate = function () {\r\n    return this.nestedBlock();\r\n};\r\n\r\nReporterSlotMorph.prototype.isEmptySlot = function () {\r\n    return this.nestedBlock() === null;\r\n};\r\n\r\n// ReporterSlotMorph layout:\r\n\r\nReporterSlotMorph.prototype.fixLayout = function () {\r\n    var contents = this.contents();\r\n    this.setExtent(contents.extent().add(\r\n        this.edge * 2 + this.rfBorder * 2\r\n    ));\r\n    contents.setCenter(this.center());\r\n    if (this.parent) {\r\n        if (this.parent.fixLayout) {\r\n            this.parent.fixLayout();\r\n        }\r\n    }\r\n};\r\n\r\n// RingReporterSlotMorph ///////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a ReporterBlock-shaped input slot for use in RingMorphs.\r\n    I can only nest reporter blocks (both round and diamond).\r\n\r\n    My command spec is %rr for reporters (round) and %rp for\r\n    predicates (diamond)\r\n\r\n    evaluate() returns my nested block or null\r\n    (inherited from ReporterSlotMorph\r\n*/\r\n\r\n// ReporterSlotMorph inherits from FunctionSlotMorph:\r\n\r\nRingReporterSlotMorph.prototype = new ReporterSlotMorph();\r\nRingReporterSlotMorph.prototype.constructor = RingReporterSlotMorph;\r\nRingReporterSlotMorph.uber = ReporterSlotMorph.prototype;\r\n\r\n// ReporterSlotMorph preferences settings:\r\n\r\nRingReporterSlotMorph.prototype.rfBorder\r\n    = RingCommandSlotMorph.prototype.rfBorder;\r\n\r\nRingReporterSlotMorph.prototype.edge\r\n    = RingCommandSlotMorph.prototype.edge;\r\n\r\n// RingReporterSlotMorph instance creation:\r\n\r\nfunction RingReporterSlotMorph(isPredicate) {\r\n    this.init(isPredicate);\r\n}\r\n\r\nRingReporterSlotMorph.prototype.init = function (isPredicate) {\r\n    RingReporterSlotMorph.uber.init.call(this, isPredicate, true);\r\n    this.alpha = RingMorph.prototype.alpha;\r\n    this.contrast = RingMorph.prototype.contrast;\r\n    this.isHole = true;\r\n};\r\n\r\n// RingReporterSlotMorph accessing:\r\n\r\nRingReporterSlotMorph.prototype.getSpec = function () {\r\n    return '%rr';\r\n};\r\n\r\nRingReporterSlotMorph.prototype.replaceInput = function (source, target) {\r\n    RingReporterSlotMorph.uber.replaceInput.call(this, source, target);\r\n    if (this.parent instanceof RingMorph) {\r\n        this.parent.vanishForSimilar();\r\n    }\r\n};\r\n\r\n// RingReporterSlotMorph drawing:\r\n\r\nRingReporterSlotMorph.prototype.drawRounded = function (context) {\r\n    var h = this.height(),\r\n        r = Math.min(this.rounding, h / 2),\r\n        w = this.width(),\r\n        shift = this.edge / 2,\r\n        gradient;\r\n\r\n    // draw the 'flat' shape:\r\n    context.fillStyle = this.cachedClr; //this.color.toString();\r\n\r\n    // top half:\r\n    context.beginPath();\r\n    context.moveTo(0, h / 2);\r\n\r\n    // top left:\r\n    context.arc(\r\n        r,\r\n        r,\r\n        r,\r\n        radians(-180),\r\n        radians(-90),\r\n        false\r\n    );\r\n\r\n    // top right:\r\n    context.arc(\r\n        w - r,\r\n        r,\r\n        r,\r\n        radians(-90),\r\n        radians(-0),\r\n        false\r\n    );\r\n\r\n    context.lineTo(w, h / 2);\r\n    context.lineTo(w, 0);\r\n    context.lineTo(0, 0);\r\n    context.closePath();\r\n    context.fill();\r\n\r\n    // bottom half:\r\n    context.beginPath();\r\n    context.moveTo(w, h / 2);\r\n\r\n    // bottom right:\r\n    context.arc(\r\n        w - r,\r\n        h - r,\r\n        r,\r\n        radians(0),\r\n        radians(90),\r\n        false\r\n    );\r\n\r\n    // bottom left:\r\n    context.arc(\r\n        r,\r\n        h - r,\r\n        r,\r\n        radians(90),\r\n        radians(180),\r\n        false\r\n    );\r\n\r\n    context.lineTo(0, h / 2);\r\n    context.lineTo(0, h);\r\n    context.lineTo(w, h);\r\n    context.closePath();\r\n    context.fill();\r\n\r\n    if (MorphicPreferences.isFlat) {return; }\r\n\r\n    // add 3D-Effect:\r\n    context.lineWidth = this.edge;\r\n    context.lineJoin = 'round';\r\n    context.lineCap = 'round';\r\n\r\n    // bottom left corner\r\n    context.strokeStyle = this.cachedClr; //gradient;\r\n    context.beginPath();\r\n    context.arc(\r\n        r,\r\n        h - r,\r\n        r - shift,\r\n        radians(90),\r\n        radians(180),\r\n        false\r\n    );\r\n    context.stroke();\r\n\r\n    // top right corner\r\n    context.strokeStyle = this.cachedClr; //gradient;\r\n    context.beginPath();\r\n    context.arc(\r\n        w - r,\r\n        r,\r\n        r - shift,\r\n        radians(-90),\r\n        radians(0),\r\n        false\r\n    );\r\n    context.stroke();\r\n\r\n    // normal gradient edges\r\n\r\n    context.shadowOffsetX = shift;\r\n    context.shadowOffsetY = shift;\r\n    context.shadowBlur = this.edge;\r\n    context.shadowColor = this.color.darker(80).toString();\r\n\r\n    // top edge: straight line\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        0,\r\n        0,\r\n        this.edge\r\n    );\r\n    gradient.addColorStop(1, this.cachedClrDark);\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(r - shift, shift);\r\n    context.lineTo(w - r + shift, shift);\r\n    context.stroke();\r\n\r\n    // top edge: left corner\r\n    gradient = context.createRadialGradient(\r\n        r,\r\n        r,\r\n        r - this.edge,\r\n        r,\r\n        r,\r\n        r\r\n    );\r\n    gradient.addColorStop(1, this.cachedClr);\r\n    gradient.addColorStop(0, this.cachedClrDark);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.arc(\r\n        r,\r\n        r,\r\n        r - shift,\r\n        radians(180),\r\n        radians(270),\r\n        false\r\n    );\r\n    context.stroke();\r\n\r\n    // left edge: straight vertical line\r\n    gradient = context.createLinearGradient(0, 0, this.edge, 0);\r\n    gradient.addColorStop(1, this.cachedClrDark);\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(shift, r);\r\n    context.lineTo(shift, h - r);\r\n    context.stroke();\r\n\r\n    context.shadowOffsetX = 0;\r\n    context.shadowOffsetY = 0;\r\n    context.shadowBlur = 0;\r\n\r\n    // bottom edge: right corner\r\n    gradient = context.createRadialGradient(\r\n        w - r,\r\n        h - r,\r\n        r - this.edge,\r\n        w - r,\r\n        h - r,\r\n        r\r\n    );\r\n    gradient.addColorStop(1, this.cachedClr);\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.arc(\r\n        w - r,\r\n        h - r,\r\n        r - shift,\r\n        radians(0),\r\n        radians(90),\r\n        false\r\n    );\r\n    context.stroke();\r\n\r\n    // bottom edge: straight line\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        h - this.edge,\r\n        0,\r\n        h\r\n    );\r\n    gradient.addColorStop(1, this.cachedClr);\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(r - shift, h - shift);\r\n    context.lineTo(w - r + shift, h - shift);\r\n    context.stroke();\r\n\r\n    // right edge: straight vertical line\r\n    gradient = context.createLinearGradient(w - this.edge, 0, w, 0);\r\n    gradient.addColorStop(1, this.cachedClr);\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(w - shift, r + shift);\r\n    context.lineTo(w - shift, h - r);\r\n    context.stroke();\r\n};\r\n\r\nRingReporterSlotMorph.prototype.drawDiamond = function (context) {\r\n    var w = this.width(),\r\n        h = this.height(),\r\n        h2 = Math.floor(h / 2),\r\n        r = Math.min(this.rounding, h2),\r\n        shift = this.edge / 2,\r\n        gradient;\r\n\r\n    // draw the 'flat' shape:\r\n    context.fillStyle = this.cachedClr;\r\n    context.beginPath();\r\n\r\n    context.moveTo(0, 0);\r\n    context.lineTo(0, h2);\r\n    context.lineTo(r, 0);\r\n    context.lineTo(w - r, 0);\r\n    context.lineTo(w, h2);\r\n    context.lineTo(w, 0);\r\n\r\n    context.closePath();\r\n    context.fill();\r\n\r\n    context.moveTo(w, h2);\r\n    context.lineTo(w - r, h);\r\n    context.lineTo(r, h);\r\n    context.lineTo(0, h2);\r\n    context.lineTo(0, h);\r\n    context.lineTo(w, h);\r\n\r\n    context.closePath();\r\n    context.fill();\r\n\r\n    if (MorphicPreferences.isFlat) {return; }\r\n\r\n    // add 3D-Effect:\r\n    context.lineWidth = this.edge;\r\n    context.lineJoin = 'round';\r\n    context.lineCap = 'round';\r\n\r\n    // half-tone edges\r\n    // bottom left corner\r\n    context.strokeStyle = this.cachedClr;\r\n    context.beginPath();\r\n    context.moveTo(shift, h2);\r\n    context.lineTo(r, h - shift);\r\n    context.stroke();\r\n\r\n    // top right corner\r\n    context.strokeStyle = this.cachedClr;\r\n    context.beginPath();\r\n    context.moveTo(w - shift, h2);\r\n    context.lineTo(w - r, shift);\r\n    context.stroke();\r\n\r\n    // normal gradient edges\r\n    // top edge: left corner\r\n\r\n    context.shadowOffsetX = shift;\r\n    context.shadowOffsetY = shift;\r\n    context.shadowBlur = this.edge;\r\n    context.shadowColor = this.color.darker(80).toString();\r\n\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        0,\r\n        r,\r\n        0\r\n    );\r\n    gradient.addColorStop(1, this.cachedClrDark);\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(shift, h2);\r\n    context.lineTo(r, shift);\r\n    context.stroke();\r\n\r\n    // top edge: straight line\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        0,\r\n        0,\r\n        this.edge\r\n    );\r\n    gradient.addColorStop(1, this.cachedClrDark);\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(r, shift);\r\n    context.lineTo(w - r, shift);\r\n    context.stroke();\r\n\r\n    context.shadowOffsetX = 0;\r\n    context.shadowOffsetY = 0;\r\n    context.shadowBlur = 0;\r\n\r\n    // bottom edge: right corner\r\n    gradient = context.createLinearGradient(\r\n        w - r,\r\n        0,\r\n        w,\r\n        0\r\n    );\r\n    gradient.addColorStop(1, this.cachedClr);\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(w - r, h - shift);\r\n    context.lineTo(w - shift, h2);\r\n    context.stroke();\r\n\r\n    // bottom edge: straight line\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        h - this.edge,\r\n        0,\r\n        h\r\n    );\r\n    gradient.addColorStop(1, this.cachedClr);\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(r + shift, h - shift);\r\n    context.lineTo(w - r - shift, h - shift);\r\n    context.stroke();\r\n};\r\n\r\n// CommentMorph //////////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am an editable, multi-line non-scrolling text window. I can be collapsed\r\n    to a single abbreviated line or expanded to full. My width can be adjusted\r\n    by the user, by height is determined by the size of my text body. I can be\r\n    either placed in a scripting area or \"stuck\" to a block.\r\n*/\r\n\r\n// CommentMorph inherits from BoxMorph:\r\n\r\nCommentMorph.prototype = new BoxMorph();\r\nCommentMorph.prototype.constructor = CommentMorph;\r\nCommentMorph.uber = BoxMorph.prototype;\r\n\r\n// CommentMorph preferences settings (pseudo-inherited from SyntaxElement):\r\n\r\nCommentMorph.prototype.refreshScale = function () {\r\n    CommentMorph.prototype.fontSize = SyntaxElementMorph.prototype.fontSize;\r\n    CommentMorph.prototype.padding = 5 * SyntaxElementMorph.prototype.scale;\r\n    CommentMorph.prototype.rounding = 8 * SyntaxElementMorph.prototype.scale;\r\n};\r\n\r\nCommentMorph.prototype.refreshScale();\r\n\r\n// CommentMorph instance creation:\r\n\r\nfunction CommentMorph(contents) {\r\n    this.init(contents);\r\n}\r\n\r\nCommentMorph.prototype.init = function (contents) {\r\n    var myself = this,\r\n        scale = SyntaxElementMorph.prototype.scale;\r\n    this.block = null; // optional anchor block\r\n    this.stickyOffset = null; // not to be persisted\r\n    this.isCollapsed = false;\r\n    this.titleBar = new BoxMorph(\r\n        this.rounding,\r\n        1.000001 * scale, // shadow bug in Chrome,\r\n        new Color(255, 255, 180)\r\n    );\r\n    this.titleBar.color = new Color(255, 255, 180);\r\n    this.titleBar.setHeight(fontHeight(this.fontSize) + this.padding);\r\n    this.title = null;\r\n    this.arrow = new ArrowMorph(\r\n        'down',\r\n        this.fontSize\r\n    );\r\n    this.arrow.noticesTransparentClick = true;\r\n    this.arrow.mouseClickLeft = function () {myself.toggleExpand(); };\r\n    this.contents = new TextMorph(\r\n        contents || localize('add comment here...'),\r\n        this.fontSize\r\n    );\r\n    this.contents.isEditable = true;\r\n    this.contents.enableSelecting();\r\n    this.contents.maxWidth = 90 * scale;\r\n    this.contents.drawNew();\r\n    this.handle = new HandleMorph(\r\n        this.contents,\r\n        80,\r\n        this.fontSize * 2,\r\n        -2,\r\n        -2\r\n    );\r\n    this.handle.setExtent(new Point(11 * scale, 11 * scale));\r\n    this.anchor = null;\r\n\r\n    CommentMorph.uber.init.call(\r\n        this,\r\n        this.rounding,\r\n        1.000001 * scale, // shadow bug in Chrome,\r\n        new Color(255, 255, 180)\r\n    );\r\n    this.color = new Color(255, 255, 220);\r\n    this.isDraggable = true;\r\n    this.add(this.titleBar);\r\n    this.add(this.arrow);\r\n    this.add(this.contents);\r\n    this.add(this.handle);\r\n\r\n    this.fixLayout();\r\n};\r\n\r\n// CommentMorph ops:\r\n\r\nCommentMorph.prototype.fullCopy = function () {\r\n    var cpy = new CommentMorph(this.contents.text);\r\n    cpy.isCollapsed = this.isCollapsed;\r\n    cpy.setTextWidth(this.textWidth());\r\n    if (this.selectionID) { // for copy on write\r\n        cpy.selectionID = true;\r\n    }\r\n    return cpy;\r\n};\r\n\r\nCommentMorph.prototype.setTextWidth = function (pixels) {\r\n    this.contents.maxWidth = pixels;\r\n    this.contents.drawNew();\r\n    this.fixLayout();\r\n};\r\n\r\nCommentMorph.prototype.textWidth = function () {\r\n    return this.contents.maxWidth;\r\n};\r\n\r\nCommentMorph.prototype.text = function () {\r\n    return this.contents.text;\r\n};\r\n\r\nCommentMorph.prototype.toggleExpand = function () {\r\n    this.isCollapsed = !this.isCollapsed;\r\n    this.fixLayout();\r\n    this.align();\r\n};\r\n\r\n// CommentMorph layout:\r\n\r\nCommentMorph.prototype.layoutChanged = function () {\r\n    // react to a change of the contents area\r\n    this.fixLayout();\r\n    this.align();\r\n};\r\n\r\nCommentMorph.prototype.fixLayout = function () {\r\n    var label,\r\n        tw = this.contents.width() + 2 * this.padding,\r\n        myself = this,\r\n        oldFlag = Morph.prototype.trackChanges;\r\n\r\n    Morph.prototype.trackChanges = false;\r\n\r\n    if (this.title) {\r\n        this.title.destroy();\r\n        this.title = null;\r\n    }\r\n    if (this.isCollapsed) {\r\n        this.contents.hide();\r\n        this.title = new FrameMorph();\r\n        this.title.alpha = 0;\r\n        this.title.acceptsDrops = false;\r\n        label = new StringMorph(\r\n            this.contents.text,\r\n            this.fontSize,\r\n            null, // style (sans-serif)\r\n            true // bold\r\n        );\r\n        label.rootForGrab = function () {\r\n            return myself;\r\n        };\r\n        this.title.add(label);\r\n        this.title.setHeight(label.height());\r\n        this.title.setWidth(\r\n            tw - this.arrow.width() - this.padding * 2 - this.rounding\r\n        );\r\n        this.add(this.title);\r\n    } else {\r\n        this.contents.show();\r\n    }\r\n    this.titleBar.setWidth(tw);\r\n    this.contents.setLeft(this.titleBar.left() + this.padding);\r\n    this.contents.setTop(this.titleBar.bottom() + this.padding);\r\n    this.arrow.direction = this.isCollapsed ? 'right' : 'down';\r\n    this.arrow.drawNew();\r\n    this.arrow.setCenter(this.titleBar.center());\r\n    this.arrow.setLeft(this.titleBar.left() + this.padding);\r\n    if (this.title) {\r\n        this.title.setPosition(\r\n            this.arrow.topRight().add(new Point(this.padding, 0))\r\n        );\r\n    }\r\n    Morph.prototype.trackChanges = oldFlag;\r\n    this.changed();\r\n    this.silentSetHeight(\r\n        this.titleBar.height()\r\n            + (this.isCollapsed ? 0 :\r\n                    this.padding\r\n                        + this.contents.height()\r\n                        + this.padding)\r\n    );\r\n    this.silentSetWidth(this.titleBar.width());\r\n    this.drawNew();\r\n    this.handle.drawNew();\r\n    this.changed();\r\n};\r\n\r\n// CommentMorph menu:\r\n\r\nCommentMorph.prototype.userMenu = function () {\r\n    var menu = new MenuMorph(this),\r\n        myself = this;\r\n\r\n    menu.addItem(\r\n        \"duplicate\",\r\n        function () {\r\n            myself.fullCopy().pickUp(myself.world());\r\n        },\r\n        'make a copy\\nand pick it up'\r\n    );\r\n    menu.addItem(\"delete\", 'userDestroy');\r\n    menu.addItem(\r\n        \"comment pic...\",\r\n        function () {\r\n            var ide = myself.parentThatIsA(IDE_Morph);\r\n            ide.saveCanvasAs(\r\n                myself.fullImageClassic(),\r\n                (ide.projectName || localize('untitled')) + ' ' +\r\n                    localize('comment pic')\r\n            );\r\n        },\r\n        'open a new window\\nwith a picture of this comment'\r\n    );\r\n    return menu;\r\n};\r\n\r\nCommentMorph.prototype.userDestroy = function () {\r\n    this.selectForEdit().destroy(); // enable copy-on-edit\r\n};\r\n\r\n// CommentMorph hiding and showing:\r\n\r\n/*\r\n    override the inherited behavior to recursively hide/show all\r\n    children, so that my instances get restored correctly when\r\n    switching back out of app mode.\r\n*/\r\n\r\nCommentMorph.prototype.hide = function () {\r\n    this.isVisible = false;\r\n    this.changed();\r\n};\r\n\r\nCommentMorph.prototype.show = function () {\r\n    this.isVisible = true;\r\n    this.changed();\r\n};\r\n\r\n// CommentMorph dragging & dropping\r\n\r\nCommentMorph.prototype.prepareToBeGrabbed = function (hand) {\r\n\r\n    // disassociate from the block I'm posted to\r\n    if (this.block) {\r\n        this.block.comment = null;\r\n        this.block = null;\r\n    }\r\n    if (this.anchor) {\r\n        this.anchor.destroy();\r\n        this.anchor = null;\r\n        // fix shadow, because it was added earlier\r\n        this.removeShadow();\r\n        this.addShadow();\r\n    }\r\n};\r\n\r\nCommentMorph.prototype.selectForEdit =\r\n    SyntaxElementMorph.prototype.selectForEdit;\r\n\r\nCommentMorph.prototype.snap = function (hand) {\r\n\r\n    // passing the hand is optional (for when blocks are dragged & dropped)\r\n    var scripts = this.parent,\r\n        target;\r\n\r\n    if (!(scripts instanceof ScriptsMorph)) {\r\n        return null;\r\n    }\r\n    scripts.clearDropInfo();\r\n    target = scripts.closestBlock(this, hand);\r\n    if (target !== null) {\r\n        target.comment = this;\r\n        this.block = target;\r\n        if (this.snapSound) {\r\n            this.snapSound.play();\r\n        }\r\n        scripts.lastDropTarget = {element: target};\r\n    }\r\n    this.align();\r\n    scripts.lastDroppedBlock = this;\r\n    if (hand) {\r\n        scripts.recordDrop(hand.grabOrigin);\r\n    }\r\n\r\n};\r\n\r\n// CommentMorph sticking to blocks\r\n\r\nCommentMorph.prototype.align = function (topBlock, ignoreLayer) {\r\n    if (this.block) {\r\n        var top = topBlock || this.block.topBlock(),\r\n            affectedBlocks,\r\n            tp,\r\n            bottom,\r\n            rightMost,\r\n            scripts = top.parentThatIsA(ScriptsMorph);\r\n        this.setTop(this.block.top() + this.block.corner);\r\n        tp = this.top();\r\n        bottom = this.bottom();\r\n        affectedBlocks = top.allChildren().filter(function (child) {\r\n            return child instanceof BlockMorph &&\r\n                child.bottom() > tp &&\r\n                child.top() < bottom;\r\n        });\r\n        rightMost = Math.max.apply(\r\n            null,\r\n            affectedBlocks.map(function (block) {return block.right(); })\r\n        );\r\n\r\n        this.setLeft(rightMost + 5);\r\n        if (!ignoreLayer && scripts) {\r\n            scripts.addBack(this); // push to back and show\r\n        }\r\n\r\n        if (!this.anchor) {\r\n            this.anchor = new Morph();\r\n            this.anchor.color = this.titleBar.color;\r\n        }\r\n        this.anchor.silentSetPosition(new Point(\r\n            this.block.right(),\r\n            this.top() + this.edge\r\n        ));\r\n        this.anchor.bounds.corner = new Point(\r\n            this.left(),\r\n            this.top() + this.edge + 1\r\n        );\r\n        this.anchor.drawNew();\r\n        this.addBack(this.anchor);\r\n        this.anchor.changed();\r\n    }\r\n};\r\n\r\nCommentMorph.prototype.startFollowing = function (topBlock, world) {\r\n    this.align(topBlock);\r\n    world.add(this);\r\n    this.addShadow();\r\n    this.stickyOffset = this.position().subtract(this.block.position());\r\n    this.step = function () {\r\n        if (!this.block) { // kludge - only needed for \"redo\"\r\n            this.stopFollowing();\r\n            return;\r\n        }\r\n        this.setPosition(this.block.position().add(this.stickyOffset));\r\n    };\r\n};\r\n\r\nCommentMorph.prototype.stopFollowing = function () {\r\n    this.removeShadow();\r\n    delete this.step;\r\n};\r\n\r\nCommentMorph.prototype.destroy = function () {\r\n    if (this.block) {\r\n        this.block.comment = null;\r\n    }\r\n    CommentMorph.uber.destroy.call(this);\r\n};\r\n\r\nCommentMorph.prototype.stackHeight = function () {\r\n    return this.height();\r\n};\r\n\r\n// ScriptFocusMorph //////////////////////////////////////////////////////////\r\n\r\n/*\r\n    I offer keyboard navigation for syntax elements, blocks and scripts:\r\n\r\n    activate:\r\n      - shift + click on a scripting pane's background\r\n      - shift + click on any block\r\n      - shift + enter in the IDE's edit mode\r\n\r\n    stop editing:\r\n      - left-click on scripting pane's background\r\n      - esc\r\n\r\n    navigate among scripts:\r\n      - tab: next script\r\n      - backtab (shift + tab): last script\r\n\r\n    start editing a new script:\r\n      - shift + enter\r\n\r\n    navigate among commands within a script:\r\n      - down arrow: next command\r\n      - up arrow: last command\r\n\r\n    navigate among all elements within a script:\r\n      - right arrow: next element (block or input)\r\n      - left arrow: last element\r\n\r\n    move the currently edited script (stack of blocks):\r\n      - shift + arrow keys (left, right, up, down)\r\n\r\n    editing scripts:\r\n\r\n      - backspace:\r\n        * delete currently focused reporter\r\n        * delete command above current insertion mark (blinking)\r\n        * collapse currently focused variadic input by one element\r\n\r\n      - enter:\r\n        * edit currently focused input slot\r\n        * expand currently focused variadic input by one element\r\n\r\n      - space:\r\n        * activate currently focused input slot's pull-down menu, if any\r\n        * show a menu of reachable variables for the focused input or reporter\r\n\r\n      - any other key:\r\n        start searching for insertable matching blocks\r\n\r\n      - in menus triggered by this feature:\r\n        * navigate with up / down arrow keys\r\n        * trigger selection with enter\r\n        * cancel menu with esc\r\n\r\n      - in the search bar triggered b this feature:\r\n        * keep typing / deleting to narrow and update matches\r\n        * navigate among shown matches with up / down arrow keys\r\n        * insert selected match at the focus' position with enter\r\n        * cancel searching and inserting with esc\r\n\r\n    running the currently edited script:\r\n        * shift+ctrl+enter simulates clicking the edited script with the mouse\r\n*/\r\n\r\n// ScriptFocusMorph inherits from BoxMorph:\r\n\r\nScriptFocusMorph.prototype = new BoxMorph();\r\nScriptFocusMorph.prototype.constructor = ScriptFocusMorph;\r\nScriptFocusMorph.uber = BoxMorph.prototype;\r\n\r\n// ScriptFocusMorph instance creation:\r\n\r\nfunction ScriptFocusMorph(editor, initialElement, position) {\r\n    this.init(editor, initialElement, position);\r\n}\r\n\r\nScriptFocusMorph.prototype.init = function (\r\n    editor,\r\n    initialElement,\r\n    position\r\n) {\r\n    this.editor = editor; // a ScriptsMorph\r\n    this.element = initialElement;\r\n    this.atEnd = false;\r\n    ScriptFocusMorph.uber.init.call(this);\r\n    if (this.element instanceof ScriptsMorph) {\r\n        this.setPosition(position);\r\n    }\r\n};\r\n\r\n// ScriptFocusMorph keyboard focus:\r\n\r\nScriptFocusMorph.prototype.getFocus = function (world) {\r\n    if (!world) {world = this.world(); }\r\n    if (world && world.keyboardReceiver !== this) {\r\n        world.stopEditing();\r\n    }\r\n    world.keyboardReceiver = this;\r\n    this.fixLayout();\r\n    this.editor.updateToolbar();\r\n};\r\n\r\n// ScriptFocusMorph layout:\r\n\r\nScriptFocusMorph.prototype.fixLayout = function () {\r\n    this.changed();\r\n    if (this.element instanceof CommandBlockMorph ||\r\n            this.element instanceof CommandSlotMorph ||\r\n            this.element instanceof ScriptsMorph) {\r\n        this.manifestStatement();\r\n    } else {\r\n        this.manifestExpression();\r\n    }\r\n    this.editor.add(this); // come to front\r\n    this.scrollIntoView();\r\n    this.changed();\r\n};\r\n\r\nScriptFocusMorph.prototype.manifestStatement = function () {\r\n    var newScript = this.element instanceof ScriptsMorph,\r\n        y = this.element.top();\r\n    this.border = 0;\r\n    this.edge = 0;\r\n    this.alpha = 1;\r\n    this.color = this.editor.feedbackColor;\r\n    this.setExtent(new Point(\r\n        newScript ?\r\n                SyntaxElementMorph.prototype.hatWidth : this.element.width(),\r\n        Math.max(\r\n            SyntaxElementMorph.prototype.corner,\r\n            SyntaxElementMorph.prototype.feedbackMinHeight\r\n        )\r\n    ));\r\n    if (this.element instanceof CommandSlotMorph) {\r\n        y += SyntaxElementMorph.prototype.corner;\r\n    } else if (this.atEnd) {\r\n        y = this.element.bottom();\r\n    }\r\n    if (!newScript) {\r\n        this.setPosition(new Point(\r\n            this.element.left(),\r\n            y\r\n        ));\r\n    }\r\n    this.fps = 2;\r\n    this.show();\r\n    this.step = function () {\r\n        this.toggleVisibility();\r\n    };\r\n};\r\n\r\nScriptFocusMorph.prototype.manifestExpression = function () {\r\n    this.edge = SyntaxElementMorph.prototype.rounding;\r\n    this.border = Math.max(\r\n        SyntaxElementMorph.prototype.edge,\r\n        3\r\n    );\r\n    this.color = this.editor.feedbackColor.copy();\r\n    this.color.a = 0.5;\r\n    this.borderColor = this.editor.feedbackColor;\r\n\r\n    this.bounds = this.element.fullBounds()\r\n        .expandBy(Math.max(\r\n            SyntaxElementMorph.prototype.edge * 2,\r\n            SyntaxElementMorph.prototype.reporterDropFeedbackPadding\r\n        ));\r\n    this.drawNew();\r\n    delete this.fps;\r\n    delete this.step;\r\n    this.show();\r\n};\r\n\r\n// ScriptFocusMorph editing\r\n\r\nScriptFocusMorph.prototype.trigger = function () {\r\n    var current = this.element;\r\n    if (current instanceof MultiArgMorph) {\r\n        if (current.arrows().children[1].isVisible) {\r\n            current.addInput();\r\n            this.fixLayout();\r\n        }\r\n        return;\r\n    }\r\n    if (current.parent instanceof TemplateSlotMorph) {\r\n        current.mouseClickLeft();\r\n        return;\r\n    }\r\n    if (current instanceof BooleanSlotMorph) {\r\n        current.toggleValue();\r\n        return;\r\n    }\r\n    if (current instanceof InputSlotMorph) {\r\n        if (!current.isReadOnly) {\r\n            delete this.fps;\r\n            delete this.step;\r\n            this.hide();\r\n            this.world().onNextStep = function () {\r\n                current.contents().edit();\r\n                current.contents().selectAll();\r\n            };\r\n        } else if (current.choices) {\r\n            current.dropDownMenu(true);\r\n            delete this.fps;\r\n            delete this.step;\r\n            this.hide();\r\n        }\r\n    }\r\n};\r\n\r\nScriptFocusMorph.prototype.menu = function () {\r\n    var current = this.element;\r\n    if (current instanceof InputSlotMorph && current.choices) {\r\n        current.dropDownMenu(true);\r\n        delete this.fps;\r\n        delete this.step;\r\n        this.hide();\r\n    } else {\r\n        this.insertVariableGetter();\r\n    }\r\n};\r\n\r\nScriptFocusMorph.prototype.deleteLastElement = function () {\r\n    var current = this.element;\r\n    if (current.parent instanceof ScriptsMorph) {\r\n        if (this.atEnd || current instanceof ReporterBlockMorph) {\r\n            current.destroy();\r\n            this.element = this.editor;\r\n            this.atEnd = false;\r\n        }\r\n    } else if (current instanceof MultiArgMorph) {\r\n        if (current.arrows().children[0].isVisible) {\r\n            current.removeInput();\r\n        }\r\n    } else if (current instanceof BooleanSlotMorph) {\r\n        if (!current.isStatic) {\r\n            current.setContents(null);\r\n        }\r\n    } else if (current instanceof ReporterBlockMorph) {\r\n        if (!current.isTemplate) {\r\n            this.lastElement();\r\n            current.prepareToBeGrabbed();\r\n            current.destroy();\r\n        }\r\n    } else if (current instanceof CommandBlockMorph) {\r\n        if (this.atEnd) {\r\n            this.element = current.parent;\r\n            current.userDestroy();\r\n        } else {\r\n            if (current.parent instanceof CommandBlockMorph) {\r\n                current.parent.userDestroy();\r\n            }\r\n        }\r\n    }\r\n    this.editor.adjustBounds();\r\n    this.fixLayout();\r\n};\r\n\r\nScriptFocusMorph.prototype.insertBlock = function (block) {\r\n    var pb, stage, ide, rcvr;\r\n    block.isTemplate = false;\r\n    block.isDraggable = true;\r\n\r\n\r\n\r\n    if (block.snapSound) {\r\n        block.snapSound.play();\r\n    }\r\n\r\n    if (this.element instanceof ScriptsMorph) {\r\n        this.editor.add(block);\r\n        this.element = block;\r\n        if (block instanceof CommandBlockMorph) {\r\n            block.setLeft(this.left());\r\n            if (block.isStop()) {\r\n                block.setTop(this.top());\r\n            } else {\r\n                block.setBottom(this.top());\r\n                this.atEnd = true;\r\n            }\r\n        } else {\r\n            block.setCenter(this.center());\r\n            block.setLeft(this.left());\r\n        }\r\n    } else if (this.element instanceof CommandBlockMorph) {\r\n        if (this.atEnd) {\r\n            this.element.nextBlock(block);\r\n            this.element = block;\r\n            this.fixLayout();\r\n        } else {\r\n            // to be done: special case if block.isStop()\r\n            pb = this.element.parent;\r\n            if (pb instanceof ScriptsMorph) { // top block\r\n                block.setLeft(this.element.left());\r\n                block.setBottom(this.element.top() + this.element.corner);\r\n                this.editor.add(block);\r\n                block.nextBlock(this.element);\r\n                this.fixLayout();\r\n            } else if (pb instanceof CommandSlotMorph) {\r\n                pb.nestedBlock(block);\r\n            } else if (pb instanceof CommandBlockMorph) {\r\n                pb.nextBlock(block);\r\n            }\r\n        }\r\n    } else if (this.element instanceof CommandSlotMorph) {\r\n        // to be done: special case if block.isStop()\r\n        this.element.nestedBlock(block);\r\n        this.element = block;\r\n        this.atEnd = true;\r\n    } else {\r\n        pb = this.element.parent;\r\n        if (pb instanceof ScriptsMorph) {\r\n            this.editor.add(block);\r\n            block.setPosition(this.element.position());\r\n            this.element.destroy();\r\n        } else {\r\n            pb.replaceInput(this.element, block);\r\n        }\r\n        this.element = block;\r\n    }\r\n    block.fixBlockColor();\r\n    this.editor.adjustBounds();\r\n    // block.scrollIntoView();\r\n    this.fixLayout();\r\n\r\n    // register generic hat blocks\r\n    if (block.selector === 'receiveCondition') {\r\n        rcvr = this.editor.scriptTarget();\r\n        if (rcvr) {\r\n            stage = rcvr.parentThatIsA(StageMorph);\r\n            if (stage) {\r\n                stage.enableCustomHatBlocks = true;\r\n                stage.threads.pauseCustomHatBlocks = false;\r\n                ide = stage.parentThatIsA(IDE_Morph);\r\n                if (ide) {\r\n                    ide.controlBar.stopButton.refresh();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    // experimental: if the inserted block has inputs, go to the first one\r\n    if (block.inputs && block.inputs().length) {\r\n        this.element = block;\r\n        this.atEnd = false;\r\n        this.nextElement();\r\n    }\r\n};\r\n\r\nScriptFocusMorph.prototype.insertVariableGetter = function () {\r\n    var types = this.blockTypes(),\r\n        vars,\r\n        myself = this,\r\n        menu = new MenuMorph();\r\n    if (!types || !contains(types, 'reporter')) {\r\n        return;\r\n    }\r\n    vars = InputSlotMorph.prototype.getVarNamesDict.call(this.element);\r\n    Object.keys(vars).forEach(function (vName) {\r\n        var block = SpriteMorph.prototype.variableBlock(vName);\r\n        block.addShadow(new Point(3, 3));\r\n        menu.addItem(\r\n            block,\r\n            function () {\r\n                block.removeShadow();\r\n                myself.insertBlock(block);\r\n            }\r\n        );\r\n    });\r\n    if (menu.items.length > 0) {\r\n        menu.popup(this.world(), this.element.bottomLeft());\r\n        menu.getFocus();\r\n    }\r\n};\r\n\r\nScriptFocusMorph.prototype.stopEditing = function () {\r\n    this.editor.focus = null;\r\n    this.editor.updateToolbar();\r\n    this.world().keyboardReceiver = null;\r\n    this.destroy();\r\n};\r\n\r\n// ScriptFocusMorph navigation\r\n\r\nScriptFocusMorph.prototype.lastElement = function () {\r\n    var items = this.items(),\r\n        idx;\r\n    if (!items.length) {\r\n        this.shiftScript(new Point(-50, 0));\r\n        return;\r\n    }\r\n    if (this.atEnd) {\r\n        this.element = items[items.length - 1];\r\n        this.atEnd = false;\r\n    } else {\r\n        idx = items.indexOf(this.element) - 1;\r\n        if (idx < 0) {idx = items.length - 1; }\r\n        this.element = items[idx];\r\n    }\r\n    if (this.element instanceof CommandSlotMorph &&\r\n            this.element.nestedBlock()) {\r\n        this.lastElement();\r\n    } else if (this.element instanceof HatBlockMorph) {\r\n        if (items.length > 1) {\r\n            this.lastElement();\r\n        } else {\r\n            this.atEnd = true;\r\n        }\r\n    }\r\n    this.fixLayout();\r\n};\r\n\r\nScriptFocusMorph.prototype.nextElement = function () {\r\n    var items = this.items(), idx, nb;\r\n    if (!items.length) {\r\n        this.shiftScript(new Point(50, 0));\r\n        return;\r\n    }\r\n    idx = items.indexOf(this.element) + 1;\r\n    if (idx >= items.length) {\r\n        idx = 0;\r\n    }\r\n    this.atEnd = false;\r\n    this.element = items[idx];\r\n    if (this.element instanceof CommandSlotMorph) {\r\n        nb = this.element.nestedBlock();\r\n        if (nb) {this.element = nb; }\r\n    } else if (this.element instanceof HatBlockMorph) {\r\n        if (items.length === 1) {\r\n            this.atEnd = true;\r\n        } else {\r\n            this.nextElement();\r\n        }\r\n    }\r\n    this.fixLayout();\r\n};\r\n\r\nScriptFocusMorph.prototype.lastCommand = function () {\r\n    var cm = this.element.parentThatIsA(CommandBlockMorph),\r\n        pb;\r\n    if (!cm) {\r\n        if (this.element instanceof ScriptsMorph) {\r\n            this.shiftScript(new Point(0, -50));\r\n        }\r\n        return;\r\n    }\r\n    if (this.element instanceof CommandBlockMorph) {\r\n        if (this.atEnd) {\r\n            this.atEnd = false;\r\n        } else {\r\n            pb = cm.parent.parentThatIsA(CommandBlockMorph);\r\n            if (pb) {\r\n                this.element = pb;\r\n            } else {\r\n                pb = cm.topBlock().bottomBlock();\r\n                if (pb) {\r\n                    this.element = pb;\r\n                    this.atEnd = true;\r\n                }\r\n            }\r\n        }\r\n    } else {\r\n        this.element = cm;\r\n        this.atEnd = false;\r\n    }\r\n    if (this.element instanceof HatBlockMorph && !this.atEnd) {\r\n        this.lastCommand();\r\n    }\r\n    this.fixLayout();\r\n};\r\n\r\nScriptFocusMorph.prototype.nextCommand = function () {\r\n    var cm = this.element,\r\n        tb,\r\n        nb,\r\n        cs;\r\n    if (cm instanceof ScriptsMorph) {\r\n        this.shiftScript(new Point(0, 50));\r\n        return;\r\n    }\r\n    while (!(cm instanceof CommandBlockMorph)) {\r\n        cm = cm.parent;\r\n        if (cm instanceof ScriptsMorph) {\r\n            return;\r\n        }\r\n    }\r\n    if (this.atEnd) {\r\n        cs = cm.parentThatIsA(CommandSlotMorph);\r\n        if (cs) {\r\n            this.element = cs.parentThatIsA(CommandBlockMorph);\r\n            this.atEnd = false;\r\n            this.nextCommand();\r\n        } else {\r\n            tb = cm.topBlock().parentThatIsA(CommandBlockMorph);\r\n            if (tb) {\r\n                this.element = tb;\r\n                this.atEnd = false;\r\n                if (this.element instanceof HatBlockMorph) {\r\n                    this.nextCommand();\r\n                }\r\n            }\r\n        }\r\n    } else {\r\n        nb = cm.nextBlock();\r\n        if (nb) {\r\n            this.element = nb;\r\n        } else {\r\n            this.element = cm;\r\n            this.atEnd = true;\r\n        }\r\n    }\r\n    this.fixLayout();\r\n};\r\n\r\nScriptFocusMorph.prototype.nextScript = function () {\r\n    var scripts = this.sortedScripts(),\r\n        idx;\r\n    if (scripts.length < 1) {return; }\r\n    if (this.element instanceof ScriptsMorph) {\r\n        this.element = scripts[0];\r\n    }\r\n    idx = scripts.indexOf(this.element.topBlock()) + 1;\r\n    if (idx >= scripts.length) {idx = 0; }\r\n    this.element = scripts[idx];\r\n    this.element.scrollIntoView();\r\n    this.atEnd = false;\r\n    if (this.element instanceof HatBlockMorph) {\r\n        return this.nextElement();\r\n    }\r\n    this.fixLayout();\r\n};\r\n\r\nScriptFocusMorph.prototype.lastScript = function () {\r\n    var scripts = this.sortedScripts(),\r\n        idx;\r\n    if (scripts.length < 1) {return; }\r\n    if (this.element instanceof ScriptsMorph) {\r\n        this.element = scripts[0];\r\n    }\r\n    idx = scripts.indexOf(this.element.topBlock()) - 1;\r\n    if (idx < 0) {idx = scripts.length - 1; }\r\n    this.element = scripts[idx];\r\n    this.element.scrollIntoView();\r\n    this.atEnd = false;\r\n    if (this.element instanceof HatBlockMorph) {\r\n        return this.nextElement();\r\n    }\r\n    this.fixLayout();\r\n};\r\n\r\nScriptFocusMorph.prototype.shiftScript = function (deltaPoint) {\r\n    var tb;\r\n    if (this.element instanceof ScriptsMorph) {\r\n        this.moveBy(deltaPoint);\r\n    } else {\r\n        tb = this.element.topBlock();\r\n        if (tb && !(tb instanceof PrototypeHatBlockMorph)) {\r\n            tb.moveBy(deltaPoint);\r\n        }\r\n    }\r\n    this.editor.adjustBounds();\r\n    this.fixLayout();\r\n};\r\n\r\nScriptFocusMorph.prototype.newScript = function () {\r\n    var pos = this.position();\r\n    if (!(this.element instanceof ScriptsMorph)) {\r\n        pos = this.element.topBlock().fullBounds().bottomLeft().add(\r\n            new Point(0, 50)\r\n        );\r\n    }\r\n    this.setPosition(pos);\r\n    this.element = this.editor;\r\n    this.editor.adjustBounds();\r\n    this.fixLayout();\r\n};\r\n\r\n\r\nScriptFocusMorph.prototype.runScript = function () {\r\n    if (this.element instanceof ScriptsMorph) {return; }\r\n    this.element.topBlock().mouseClickLeft();\r\n};\r\n\r\nScriptFocusMorph.prototype.items = function () {\r\n    if (this.element instanceof ScriptsMorph) {return []; }\r\n    var script = this.element.topBlock();\r\n    return script.allChildren().filter(function (each) {\r\n        return each instanceof SyntaxElementMorph &&\r\n            !(each instanceof TemplateSlotMorph) &&\r\n            (!each.isStatic ||\r\n                each.choices ||\r\n                each instanceof BooleanSlotMorph ||\r\n                each instanceof RingMorph ||\r\n                each instanceof MultiArgMorph ||\r\n                each instanceof CommandSlotMorph);\r\n    });\r\n};\r\n\r\nScriptFocusMorph.prototype.sortedScripts = function () {\r\n    var scripts = this.editor.children.filter(function (each) {\r\n        return each instanceof BlockMorph;\r\n    });\r\n    scripts.sort(function (a, b) {\r\n        // make sure the prototype hat block always stays on top\r\n        return a instanceof PrototypeHatBlockMorph ? 0 : a.top() - b.top();\r\n    });\r\n    return scripts;\r\n};\r\n\r\n// ScriptFocusMorph undo / redo\r\n\r\nScriptFocusMorph.prototype.undrop = function () {\r\n    this.editor.undrop();\r\n};\r\n\r\nScriptFocusMorph.prototype.redrop = function () {\r\n    this.editor.redrop();\r\n};\r\n\r\n// ScriptFocusMorph block types\r\n\r\nScriptFocusMorph.prototype.blockTypes = function () {\r\n    // answer an array of possible block types that fit into\r\n    // the current situation, NULL if no block can be inserted\r\n\r\n    if (this.element.isTemplate) {return null; }\r\n    if (this.element instanceof ScriptsMorph) {\r\n        return ['hat', 'command', 'reporter', 'predicate', 'ring'];\r\n    }\r\n    if (this.element instanceof HatBlockMorph ||\r\n            this.element instanceof CommandSlotMorph) {\r\n        return ['command'];\r\n    }\r\n    if (this.element instanceof CommandBlockMorph) {\r\n        if (this.atEnd && this.element.isStop()) {\r\n            return null;\r\n        }\r\n        if (this.element.parent instanceof ScriptsMorph) {\r\n            return ['hat', 'command'];\r\n        }\r\n        return ['command'];\r\n    }\r\n    if (this.element instanceof ReporterBlockMorph) {\r\n        if (this.element.getSlotSpec() === '%n') {\r\n            return ['reporter'];\r\n        }\r\n        return ['reporter', 'predicate', 'ring'];\r\n    }\r\n    if (this.element.getSpec() === '%n') {\r\n        return ['reporter'];\r\n    }\r\n    if (this.element.isStatic) {\r\n        return null;\r\n    }\r\n    return ['reporter', 'predicate', 'ring'];\r\n};\r\n\r\n\r\n// ScriptFocusMorph keyboard events\r\n\r\nScriptFocusMorph.prototype.processKeyDown = function (event) {\r\n    this.processKeyEvent(\r\n        event,\r\n        this.reactToKeyEvent\r\n    );\r\n};\r\n\r\nScriptFocusMorph.prototype.processKeyUp = function (event) {\r\n    nop(event);\r\n};\r\n\r\nScriptFocusMorph.prototype.processKeyPress = function (event) {\r\n    nop(event);\r\n};\r\n\r\n\r\nScriptFocusMorph.prototype.processKeyEvent = function (event, action) {\r\n    var keyName, ctrl, shift;\r\n\r\n    //console.log(event.keyCode);\r\n    this.world().hand.destroyTemporaries(); // remove result bubbles, if any\r\n    switch (event.keyCode) {\r\n    case 8:\r\n        keyName = 'backspace';\r\n        break;\r\n    case 9:\r\n        keyName = 'tab';\r\n        break;\r\n    case 13:\r\n        keyName = 'enter';\r\n        break;\r\n    case 16:\r\n    case 17:\r\n    case 18:\r\n        return;\r\n    case 27:\r\n        keyName = 'esc';\r\n        break;\r\n    case 32:\r\n        keyName = 'space';\r\n        break;\r\n    case 37:\r\n        keyName = 'left arrow';\r\n        break;\r\n    case 39:\r\n        keyName = 'right arrow';\r\n        break;\r\n    case 38:\r\n        keyName = 'up arrow';\r\n        break;\r\n    case 40:\r\n        keyName = 'down arrow';\r\n        break;\r\n    default:\r\n        keyName = String.fromCharCode(event.keyCode || event.charCode);\r\n    }\r\n    ctrl = (event.ctrlKey || event.metaKey) ? 'ctrl ' : '';\r\n    shift = event.shiftKey ? 'shift ' : '';\r\n    keyName = ctrl + shift + keyName;\r\n    action.call(this, keyName);\r\n};\r\n\r\nScriptFocusMorph.prototype.reactToKeyEvent = function (key) {\r\n    var evt = key.toLowerCase(),\r\n        shift = 50,\r\n        types,\r\n        vNames;\r\n\r\n    // console.log(evt);\r\n    switch (evt) {\r\n    case 'esc':\r\n        return this.stopEditing();\r\n    case 'enter':\r\n        return this.trigger();\r\n    case 'shift enter':\r\n        return this.newScript();\r\n    case 'ctrl shift enter':\r\n        return this.runScript();\r\n    case 'space':\r\n        return this.menu();\r\n    case 'left arrow':\r\n        return this.lastElement();\r\n    case 'shift left arrow':\r\n        return this.shiftScript(new Point(-shift, 0));\r\n    case 'right arrow':\r\n        return this.nextElement();\r\n    case 'shift right arrow':\r\n        return this.shiftScript(new Point(shift, 0));\r\n    case 'up arrow':\r\n        return this.lastCommand();\r\n    case 'shift up arrow':\r\n        return this.shiftScript(new Point(0, -shift));\r\n    case 'down arrow':\r\n        return this.nextCommand();\r\n    case 'shift down arrow':\r\n        return this.shiftScript(new Point(0, shift));\r\n    case 'tab':\r\n        return this.nextScript();\r\n    case 'shift tab':\r\n        return this.lastScript();\r\n    case 'backspace':\r\n        return this.deleteLastElement();\r\n    case 'ctrl z':\r\n        return this.undrop();\r\n    case 'ctrl y':\r\n    case 'ctrl shift z':\r\n        return this.redrop();\r\n    case 'ctrl [': // ignore the first press of the Mac cmd key\r\n        return;\r\n    default:\r\n        types = this.blockTypes();\r\n        if (!(this.element instanceof ScriptsMorph) &&\r\n                types && contains(types, 'reporter')) {\r\n            vNames = Object.keys(this.element.getVarNamesDict());\r\n        }\r\n        if (types) {\r\n            delete this.fps;\r\n            delete this.step;\r\n            this.show();\r\n            this.editor.scriptTarget().searchBlocks(\r\n                key,\r\n                types,\r\n                vNames,\r\n                this\r\n            );\r\n        }\r\n    }\r\n};\r\n//fin de blocks\r\n\r\n/*\r\n\r\n    threads.js\r\n\r\n    a tail call optimized blocks-based programming language interpreter\r\n    based on morphic.js and blocks.js\r\n    inspired by Scratch, Scheme and Squeak\r\n\r\n    written by Jens Mönig\r\n    jens@moenig.org\r\n\r\n    Copyright (C) 2017 by Jens Mönig\r\n\r\n    This file is part of Snap!.\r\n\r\n    Snap! is free software: you can redistribute it and/or modify\r\n    it under the terms of the GNU Affero General Public License as\r\n    published by the Free Software Foundation, either version 3 of\r\n    the License, or (at your option) any later version.\r\n\r\n    This program is distributed in the hope that it will be useful,\r\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n    GNU Affero General Public License for more details.\r\n\r\n    You should have received a copy of the GNU Affero General Public License\r\n    along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n\r\n\r\n    prerequisites:\r\n    --------------\r\n    needs blocks.js and objects.js\r\n\r\n\r\n    toc\r\n    ---\r\n    the following list shows the order in which all constructors are\r\n    defined. Use this list to locate code in this document:\r\n\r\n        ThreadManager\r\n        Process\r\n        Context\r\n        Variable\r\n        VariableFrame\r\n\r\n\r\n    credits\r\n    -------\r\n    John Maloney and Dave Feinberg designed the original Scratch evaluator\r\n    Ivan Motyashov contributed initial porting from Squeak\r\n\r\n*/\r\n\r\n// Global stuff ////////////////////////////////////////////////////////\r\n\r\n/*global ArgMorph, BlockMorph, CommandBlockMorph, CommandSlotMorph, Morph,\r\nMultiArgMorph, Point, ReporterBlockMorph, SyntaxElementMorph, contains, Costume,\r\ndegrees, detect, nop, radians, ReporterSlotMorph, CSlotMorph, RingMorph, Sound,\r\nIDE_Morph, ArgLabelMorph, localize, XML_Element, hex_sha512, TableDialogMorph,\r\nStageMorph, SpriteMorph, StagePrompterMorph, Note, modules, isString, copy,\r\nisNil, WatcherMorph, List, ListWatcherMorph, alert, console, TableMorph,\r\nTableFrameMorph, ColorSlotMorph, isSnapObject*/\r\n\r\nmodules.threads = '2017-December-01';\r\n\r\nvar ThreadManager;\r\nvar Process;\r\nvar Context;\r\nvar VariableFrame;\r\n\r\nfunction snapEquals(a, b) {\r\n    if (a instanceof List || (b instanceof List)) {\r\n        if (a instanceof List && (b instanceof List)) {\r\n            return a.equalTo(b);\r\n        }\r\n        return false;\r\n    }\r\n\r\n    var x = +a,\r\n        y = +b,\r\n        i,\r\n        specials = [true, false, ''];\r\n\r\n    // \"zum Schneckengang verdorben, was Adlerflug geworden wäre\"\r\n    // collecting edge-cases that somebody complained about\r\n    // on Github. Folks, take it easy and keep it fun, okay?\r\n    // Shit like this is patently ugly and slows Snap down. Tnx!\r\n    for (i = 9; i <= 13; i += 1) {\r\n        specials.push(String.fromCharCode(i));\r\n    }\r\n    specials.push(String.fromCharCode(160));\r\n\r\n    // check for special values before coercing to numbers\r\n    if (isNaN(x) || isNaN(y) ||\r\n            [a, b].some(function (any) {return contains(specials, any) ||\r\n                  (isString(any) && (any.indexOf(' ') > -1)); })) {\r\n        x = a;\r\n        y = b;\r\n    }\r\n\r\n    // handle text comparison case-insensitive.\r\n    if (isString(x) && isString(y)) {\r\n        return x.toLowerCase() === y.toLowerCase();\r\n    }\r\n\r\n    return x === y;\r\n}\r\n\r\nfunction invoke(\r\n    action, // a BlockMorph or a Context, a reified (\"ringified\") block\r\n    contextArgs, // optional List of arguments for the context, or null\r\n    receiver, // sprite or environment, optional for contexts\r\n    timeout, // msecs\r\n    timeoutErrorMsg, // string\r\n    suppressErrors // bool\r\n) {\r\n    // execute the given block or context synchronously without yielding.\r\n    // Apply context (not a block) to a list of optional arguments.\r\n    // Receiver (sprite, stage or  environment), timeout etc. are optional.\r\n    // If a timeout (in milliseconds) is specified, abort execution\r\n    // after the timeout has been reached and throw an error.\r\n    // SuppressErrors (bool) if non-timeout errors occurring in the\r\n    // block are handled elsewhere.\r\n    // This is highly experimental.\r\n    // Caution: Kids, do not try this at home!\r\n    // Use ThreadManager::startProcess with a callback instead\r\n\r\n    var proc = new Process(),\r\n        deadline = (timeout ? Date.now() + timeout : null);\r\n\r\n    if (action instanceof Context) {\r\n        if (receiver) { // optional\r\n            action = proc.reportContextFor(receiver);\r\n        }\r\n        proc.initializeFor(action, contextArgs || new List());\r\n    } else if (action instanceof BlockMorph) {\r\n        proc.topBlock = action;\r\n        if (receiver) {\r\n            proc.homeContext = new Context();\r\n            proc.homeContext.receiver = receiver;\r\n            if (receiver.variables) {\r\n                proc.homeContext.variables.parentFrame = receiver.variables;\r\n            }\r\n        } else {\r\n            throw new Error('expecting a receiver but getting ' + receiver);\r\n        }\r\n        proc.context = new Context(\r\n            null,\r\n            action.blockSequence(),\r\n            proc.homeContext\r\n        );\r\n    } else if (action.evaluate) {\r\n        return action.evaluate();\r\n    } else {\r\n        throw new Error('expecting a block or ring but getting ' + action);\r\n    }\r\n    if (suppressErrors) {\r\n        proc.isCatchingErrors = false;\r\n    }\r\n    while (proc.isRunning()) {\r\n        if (deadline && (Date.now() > deadline)) {\r\n            throw (new Error(\r\n                localize(\r\n                    timeoutErrorMsg ||\r\n                        \"a synchronous Snap! script has timed out\")\r\n                )\r\n            );\r\n        }\r\n        proc.runStep(deadline);\r\n    }\r\n    return proc.homeContext.inputs[0];\r\n}\r\n\r\n// ThreadManager ///////////////////////////////////////////////////////\r\n\r\nfunction ThreadManager() {\r\n    this.processes = [];\r\n    this.wantsToPause = false; // single stepping support\r\n}\r\n\r\nThreadManager.prototype.pauseCustomHatBlocks = false;\r\n\r\nvar compteurGo = 0; // Wiquid Counting user try\r\n\r\nThreadManager.prototype.toggleProcess = function (block, receiver) {\r\n    var active = this.findProcess(block, receiver);\r\n    if (active) {\r\n\r\n        active.stop();\r\n    \r\n    } else {\r\n\r\n        return this.startProcess(block, receiver, null, null, null, true);\r\n    \r\n    }\r\n};\r\n\r\n//******************************* Wiquid ***********************************************\r\n\r\nfunction compteur(){\r\n    compteurGo++;\r\n    $container.find(\".compteur\").html(\";Nombre de tentatives : \" + compteurGo);\r\n     var nbTry = config.testLimiter - compteurGo ;\r\n    \r\n    if(nbTry > 1){world.children[0].projectName = ' ATTENTION : Il vous reste '+ (nbTry) +' tentatives !';}\r\n    if(nbTry == 1){world.children[0].projectName = ' ATTENTION DERNIERE TENTATIVE !';}\r\n    world.children[0].controlBar.updateLabel();\r\n    \r\n    if( compteurGo >= config.testLimiter && config.testLimiter !=0 ){\r\n\r\n        $container.find(\"#world\").hide();\r\n        $container.find(\".snapy\").append(\"<div style='width : 100%; height:900px; background-Color:#ce8686; opacity: 1;padding:25%; margin-top: -20px ;font-size: 20px; position:fixed;'></div\");\r\n        $container.find(\".snapy\").append(\"<div style='width : 100%; height:900px; padding:25%; font-size:40px; position:fixed; opacity: 1' >NOMBRE D\\'ESSAIS MAXIMUM ATTEINT SOUMETTEZ VOTRE REPONSE POUR CONTINUER</div>\");\r\n        \r\n    }\r\n}\r\n\r\n//******************************* Wiquid ********************************************\r\n\r\nThreadManager.prototype.startProcess = function (\r\n    block,\r\n    receiver,\r\n    isThreadSafe,\r\n    exportResult, // bool\r\n    callback,\r\n    isClicked,\r\n    rightAway\r\n) {\r\n    compteur(); //Counting user try **** Wiquid mod ****\r\n    var top = block.topBlock(),\r\n        active = this.findProcess(top, receiver),\r\n        glow,\r\n        newProc;\r\n    if (active) {\r\n        if (isThreadSafe) {\r\n            return active;\r\n        }\r\n        active.stop();\r\n        this.removeTerminatedProcesses();\r\n    }\r\n    newProc = new Process(top, receiver, callback, isClicked);\r\n    newProc.exportResult = exportResult;\r\n    newProc.isClicked = isClicked || false;\r\n\r\n    // show a highlight around the running stack\r\n    // if there are more than one active processes\r\n    // for a block, display the thread count\r\n    // next to it\r\n    glow = top.getHighlight();\r\n    if (glow) {\r\n        glow.threadCount = this.processesForBlock(top).length + 1;\r\n        glow.updateReadout();\r\n    } else {\r\n        top.addHighlight();\r\n    }\r\n\r\n    this.processes.push(newProc);\r\n    if (rightAway) {\r\n        newProc.runStep();\r\n    }\r\n    return newProc;\r\n};\r\n\r\nThreadManager.prototype.stopAll = function (excpt) {\r\n    // excpt is optional\r\n    this.processes.forEach(function (proc) {\r\n        if (proc !== excpt) {\r\n            proc.stop();\r\n        }\r\n    });\r\n};\r\n\r\nThreadManager.prototype.stopAllForReceiver = function (rcvr, excpt) {\r\n    // excpt is optional\r\n    this.processes.forEach(function (proc) {\r\n        if (proc.homeContext.receiver === rcvr && proc !== excpt) {\r\n            proc.stop();\r\n            if (rcvr.isTemporary) {\r\n                proc.isDead = true;\r\n            }\r\n        }\r\n    });\r\n};\r\n\r\nThreadManager.prototype.stopAllForBlock = function (aTopBlock) {\r\n    this.processesForBlock(aTopBlock, true).forEach(function (proc) {\r\n        proc.stop();\r\n    });\r\n};\r\n\r\nThreadManager.prototype.stopProcess = function (block, receiver) {\r\n    var active = this.findProcess(block, receiver);\r\n    if (active) {\r\n        active.stop();\r\n    }\r\n};\r\n\r\nThreadManager.prototype.pauseAll = function (stage) {\r\n    this.processes.forEach(function (proc) {\r\n        proc.pause();\r\n    });\r\n    if (stage) {\r\n        stage.pauseAllActiveSounds();\r\n    }\r\n};\r\n\r\nThreadManager.prototype.isPaused = function () {\r\n    return detect(this.processes, function (proc) {return proc.isPaused; })\r\n        !== null;\r\n};\r\n\r\nThreadManager.prototype.resumeAll = function (stage) {\r\n    this.processes.forEach(function (proc) {\r\n        proc.resume();\r\n    });\r\n    if (stage) {\r\n        stage.resumeAllActiveSounds();\r\n    }\r\n};\r\n\r\nThreadManager.prototype.step = function () {\r\n    // run each process until it gives up control, skipping processes\r\n    // for sprites that are currently picked up, then filter out any\r\n    // processes that have been terminated\r\n\r\n    var isInterrupted;\r\n    if (Process.prototype.enableSingleStepping) {\r\n        this.processes.forEach(function (proc) {\r\n            if (proc.isInterrupted) {\r\n                proc.runStep();\r\n                isInterrupted = true;\r\n            } else {\r\n                proc.lastYield = Date.now();\r\n            }\r\n        });\r\n        this.wantsToPause = (Process.prototype.flashTime > 0.5);\r\n        if (isInterrupted) {\r\n            if (this.wantsToPause) {\r\n                this.pauseAll();\r\n            }\r\n            return;\r\n        }\r\n    }\r\n\r\n    this.processes.forEach(function (proc) {\r\n        if (!proc.homeContext.receiver.isPickedUp() && !proc.isDead) {\r\n            proc.runStep();\r\n        }\r\n    });\r\n    this.removeTerminatedProcesses();\r\n};\r\n\r\nThreadManager.prototype.removeTerminatedProcesses = function () {\r\n    // and un-highlight their scripts\r\n    var remaining = [],\r\n        count,\r\n        myself = this;\r\n    this.processes.forEach(function (proc) {\r\n        var result,\r\n            glow;\r\n        if ((!proc.isRunning() && !proc.errorFlag) || proc.isDead) {\r\n            if (proc.topBlock instanceof BlockMorph) {\r\n                proc.unflash();\r\n                // adjust the thread count indicator, if any\r\n                count = myself.processesForBlock(proc.topBlock).length;\r\n                if (count) {\r\n                    glow = proc.topBlock.getHighlight() ||\r\n                        proc.topBlock.addHighlight();\r\n                    glow.threadCount = count;\r\n                    glow.updateReadout();\r\n                } else {\r\n                    proc.topBlock.removeHighlight();\r\n                }\r\n            }\r\n            if (proc.prompter) {\r\n                proc.prompter.destroy();\r\n                if (proc.homeContext.receiver.stopTalking) {\r\n                    proc.homeContext.receiver.stopTalking();\r\n                }\r\n            }\r\n            if (proc.topBlock instanceof ReporterBlockMorph ||\r\n                    proc.isShowingResult) {\r\n                result = proc.homeContext.inputs[0];\r\n                if (proc.onComplete instanceof Function) {\r\n                    proc.onComplete(result);\r\n                } else {\r\n                    if (result instanceof List) {\r\n                        proc.topBlock.showBubble(\r\n                            result.isTable() ?\r\n                                    new TableFrameMorph(\r\n                                        new TableMorph(result, 10)\r\n                                    )\r\n                                    : new ListWatcherMorph(result),\r\n                            proc.exportResult,\r\n                            proc.receiver\r\n                        );\r\n                    } else {\r\n                        proc.topBlock.showBubble(\r\n                            result,\r\n                            proc.exportResult,\r\n                            proc.receiver\r\n                        );\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            remaining.push(proc);\r\n        }\r\n    });\r\n    this.processes = remaining;\r\n};\r\n\r\nThreadManager.prototype.findProcess = function (block, receiver) {\r\n    var top = block.topBlock();\r\n    return detect(\r\n        this.processes,\r\n        function (each) {\r\n            return each.topBlock === top && (each.receiver === receiver);\r\n        }\r\n    );\r\n};\r\n\r\nThreadManager.prototype.processesForBlock = function (block, only) {\r\n    var top = only ? block : block.topBlock();\r\n    return this.processes.filter(function (each) {\r\n            return each.topBlock === top &&\r\n                each.isRunning() &&\r\n                !each.isDead;\r\n    });\r\n};\r\n\r\nThreadManager.prototype.doWhen = function (block, receiver, stopIt) {\r\n    if (this.pauseCustomHatBlocks) {return; }\r\n    if ((!block) || this.findProcess(block, receiver)) {\r\n        return;\r\n    }\r\n    var pred = block.inputs()[0], world;\r\n    if (block.removeHighlight()) {\r\n        world = block.world();\r\n        if (world) {\r\n            world.hand.destroyTemporaries();\r\n        }\r\n    }\r\n    if (stopIt) {return; }\r\n    try {\r\n        if (invoke(\r\n            pred,\r\n            null,\r\n            receiver,\r\n            50,\r\n            'the predicate takes\\ntoo long for a\\ncustom hat block',\r\n            true // suppress errors => handle them right here instead\r\n        ) === true) {\r\n            this.startProcess(\r\n                block,\r\n                receiver,\r\n                null,\r\n                null,\r\n                null,\r\n                null,\r\n                true // atomic\r\n            );\r\n        }\r\n    } catch (error) {\r\n        block.addErrorHighlight();\r\n        block.showBubble(\r\n            error.name\r\n            + '\\n'\r\n            + error.message\r\n        );\r\n    }\r\n};\r\n\r\nThreadManager.prototype.toggleSingleStepping = function () {\r\n    Process.prototype.enableSingleStepping =\r\n        !Process.prototype.enableSingleStepping;\r\n    if (!Process.prototype.enableSingleStepping) {\r\n        this.processes.forEach(function (proc) {\r\n            if (!proc.isPaused) {\r\n                proc.unflash();\r\n            }\r\n        });\r\n    }\r\n};\r\n\r\n// Process /////////////////////////////////////////////////////////////\r\n\r\n/*\r\n    A Process is what brings a stack of blocks to life. The process\r\n    keeps track of which block to run next, evaluates block arguments,\r\n    handles control structures, and so forth.\r\n\r\n    The ThreadManager is the (passive) scheduler, telling each process\r\n    when to run by calling its runStep() method. The runStep() method\r\n    will execute some number of blocks, then voluntarily yield control\r\n    so that the ThreadManager can run another process.\r\n\r\n    The Scratch etiquette is that a process should yield control at the\r\n    end of every loop iteration, and while it is running a timed command\r\n    (e.g. \"wait 5 secs\") or a synchronous command (e.g. \"broadcast xxx\r\n    and wait\"). Since Snap also has lambda and custom blocks Snap adds\r\n    yields at the beginning of each non-atomic custom command block\r\n    execution, and - to let users escape infinite loops and recursion -\r\n    whenever the process runs into a timeout.\r\n\r\n    a Process runs for a receiver, i.e. a sprite or the stage or any\r\n    blocks-scriptable object that we'll introduce.\r\n\r\n    structure:\r\n\r\n    topBlock            the stack's first block, of which all others\r\n                        are children\r\n    receiver            object (sprite) to which the process applies,\r\n                        cached from the top block\r\n    instrument          musical instrument type, cached from the receiver,\r\n                        so a single sprite can play several instruments\r\n                        at once\r\n    context             the Context describing the current state\r\n                        of this process\r\n    homeContext         stores information relevant to the whole process,\r\n                        i.e. its receiver, result etc.\r\n    isPaused            boolean indicating whether to pause\r\n    readyToYield        boolean indicating whether to yield control to\r\n                        another process\r\n    readyToTerminate    boolean indicating whether the stop method has\r\n                        been called\r\n    isDead              boolean indicating a terminated clone process\r\n    timeout             msecs after which to force yield\r\n    lastYield           msecs when the process last yielded\r\n    isFirstStep         boolean indicating whether on first step - for clones\r\n    errorFlag           boolean indicating whether an error was encountered\r\n    prompter            active instance of StagePrompterMorph\r\n    httpRequest         active instance of an HttpRequest or null\r\n    pauseOffset         msecs between the start of an interpolated operation\r\n                        and when the process was paused\r\n    isClicked           boolean flag indicating whether the process was\r\n                        initiated by a user-click on a block\r\n    isShowingResult     boolean flag indicating whether a \"report\" command\r\n                        has been executed in a user-clicked process\r\n    exportResult        boolean flag indicating whether a picture of the top\r\n                        block along with the result bubble shoud be exported\r\n    onComplete          an optional callback function to be executed when\r\n                        the process is done\r\n    procedureCount      number counting procedure call entries,\r\n                        used to tag custom block calls, so \"stop block\"\r\n                        invocations can catch them\r\n    flashingContext     for single stepping\r\n    isInterrupted       boolean, indicates intra-step flashing of blocks\r\n*/\r\n\r\nProcess.prototype = {};\r\nProcess.prototype.constructor = Process;\r\nProcess.prototype.timeout = 500; // msecs after which to force yield\r\nProcess.prototype.isCatchingErrors = true;\r\nProcess.prototype.enableLiveCoding = false; // experimental\r\nProcess.prototype.enableSingleStepping = false; // experimental\r\nProcess.prototype.flashTime = 0; // experimental\r\n// Process.prototype.enableJS = false;\r\n\r\nfunction Process(topBlock, receiver, onComplete, yieldFirst) {\r\n    this.topBlock = topBlock || null;\r\n    this.receiver = receiver;\r\n    this.instrument = receiver ? receiver.instrument : null;\r\n    this.readyToYield = false;\r\n    this.readyToTerminate = false;\r\n    this.isDead = false;\r\n    this.isClicked = false;\r\n    this.isShowingResult = false;\r\n    this.errorFlag = false;\r\n    this.context = null;\r\n    this.homeContext = new Context(null, null, null, receiver);\r\n    this.lastYield =  Date.now();\r\n    this.isFirstStep = true;\r\n    this.isAtomic = false;\r\n    this.prompter = null;\r\n    this.httpRequest = null;\r\n    this.isPaused = false;\r\n    this.pauseOffset = null;\r\n    this.frameCount = 0;\r\n    this.exportResult = false;\r\n    this.onComplete = onComplete || null;\r\n    this.procedureCount = 0;\r\n    this.flashingContext = null; // experimental, for single-stepping\r\n    this.isInterrupted = false; // experimental, for single-stepping\r\n\r\n    if (topBlock) {\r\n        this.homeContext.variables.parentFrame =\r\n            this.homeContext.receiver.variables;\r\n        this.context = new Context(\r\n            null,\r\n            topBlock.blockSequence(),\r\n            this.homeContext\r\n        );\r\n        if (yieldFirst) {\r\n            this.pushContext('doYield'); // highlight top block\r\n        }\r\n    }\r\n}\r\n\r\n// Process accessing\r\n\r\nProcess.prototype.isRunning = function () {\r\n    return (this.context !== null) && (!this.readyToTerminate);\r\n};\r\n\r\n// Process entry points\r\n\r\nProcess.prototype.runStep = function (deadline) {\r\n    // a step is an an uninterruptable 'atom', it can consist\r\n    // of several contexts, even of several blocks\r\n\r\n    if (this.isPaused) { // allow pausing in between atomic steps:\r\n        return this.pauseStep();\r\n    }\r\n    this.readyToYield = false;\r\n    this.isInterrupted = false;\r\n\r\n    while (!this.readyToYield && !this.isInterrupted\r\n            && this.context\r\n            && (Date.now() - this.lastYield < this.timeout)\r\n    ) {\r\n        // also allow pausing inside atomic steps - for PAUSE block primitive:\r\n        if (this.isPaused) {\r\n            return this.pauseStep();\r\n        }\r\n        if (deadline && (Date.now() > deadline)) {\r\n            if (this.isAtomic &&\r\n                    this.homeContext.receiver &&\r\n                    this.homeContext.receiver.endWarp) {\r\n                this.homeContext.receiver.endWarp();\r\n            }\r\n            return;\r\n        }\r\n        this.evaluateContext();\r\n    }\r\n\r\n    this.lastYield = Date.now();\r\n    this.isFirstStep = false;\r\n\r\n    // make sure to redraw atomic things\r\n    if (this.isAtomic &&\r\n            this.homeContext.receiver &&\r\n            this.homeContext.receiver.endWarp) {\r\n        this.homeContext.receiver.endWarp();\r\n        this.homeContext.receiver.startWarp();\r\n    }\r\n\r\n    if (this.readyToTerminate) {\r\n        while (this.context) {\r\n            this.popContext();\r\n        }\r\n        if (this.homeContext.receiver) {\r\n            if (this.homeContext.receiver.endWarp) {\r\n                // pen optimization\r\n                this.homeContext.receiver.endWarp();\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nProcess.prototype.stop = function () {\r\n    this.readyToYield = true;\r\n    this.readyToTerminate = true;\r\n    this.errorFlag = false;\r\n    if (this.context) {\r\n        this.context.stopMusic();\r\n    }\r\n};\r\n\r\nProcess.prototype.pause = function () {\r\n    if (this.readyToTerminate) {\r\n        return;\r\n    }\r\n    this.isPaused = true;\r\n    this.flashPausedContext();\r\n    if (this.context && this.context.startTime) {\r\n        this.pauseOffset = Date.now() - this.context.startTime;\r\n    }\r\n};\r\n\r\nProcess.prototype.resume = function () {\r\n    if (!this.enableSingleStepping) {\r\n        this.unflash();\r\n    }\r\n    this.isPaused = false;\r\n    this.pauseOffset = null;\r\n};\r\n\r\nProcess.prototype.pauseStep = function () {\r\n    this.lastYield = Date.now();\r\n    if (this.context && this.context.startTime) {\r\n        this.context.startTime = this.lastYield - this.pauseOffset;\r\n    }\r\n};\r\n\r\n// Process evaluation\r\n\r\nProcess.prototype.evaluateContext = function () {\r\n    var exp = this.context.expression;\r\n    this.frameCount += 1;\r\n    if (this.context.tag === 'exit') {\r\n        this.expectReport();\r\n    }\r\n    if (exp instanceof Array) {\r\n        return this.evaluateSequence(exp);\r\n    }\r\n    if (exp instanceof MultiArgMorph) {\r\n        return this.evaluateMultiSlot(exp, exp.inputs().length);\r\n    }\r\n    if (exp instanceof ArgLabelMorph) {\r\n        return this.evaluateArgLabel(exp);\r\n    }\r\n    if (exp instanceof ArgMorph || exp.bindingID) {\r\n        return this.evaluateInput(exp);\r\n    }\r\n    if (exp instanceof BlockMorph) {\r\n        return this.evaluateBlock(exp, exp.inputs().length);\r\n    }\r\n    if (isString(exp)) {\r\n        return this[exp].apply(this, this.context.inputs);\r\n    }\r\n    this.popContext(); // default: just ignore it\r\n};\r\n\r\nProcess.prototype.evaluateBlock = function (block, argCount) {\r\n    var selector = block.selector;\r\n    // check for special forms\r\n    if (selector === 'reportOr' ||\r\n            selector ===  'reportAnd' ||\r\n            selector === 'doReport') {\r\n        return this[selector](block);\r\n    }\r\n\r\n    // first evaluate all inputs, then apply the primitive\r\n    var rcvr = this.context.receiver || this.receiver,\r\n        inputs = this.context.inputs;\r\n\r\n    if (argCount > inputs.length) {\r\n        this.evaluateNextInput(block);\r\n    } else {\r\n        if (this.flashContext()) {return; } // yield to flash the block\r\n        if (this[selector]) {\r\n            rcvr = this;\r\n        }\r\n        if (this.isCatchingErrors) {\r\n            try {\r\n                this.returnValueToParentContext(\r\n                    rcvr[selector].apply(rcvr, inputs)\r\n                );\r\n                this.popContext();\r\n            } catch (error) {\r\n                this.handleError(error, block);\r\n            }\r\n        } else {\r\n            this.returnValueToParentContext(\r\n                rcvr[selector].apply(rcvr, inputs)\r\n            );\r\n            this.popContext();\r\n        }\r\n    }\r\n};\r\n\r\n// Process: Special Forms Blocks Primitives\r\n\r\nProcess.prototype.reportOr = function (block) {\r\n    var inputs = this.context.inputs;\r\n\r\n    if (inputs.length < 1) {\r\n        this.evaluateNextInput(block);\r\n    } else if (inputs[0]) {\r\n        if (this.flashContext()) {return; }\r\n        this.returnValueToParentContext(true);\r\n        this.popContext();\r\n    } else if (inputs.length < 2) {\r\n        this.evaluateNextInput(block);\r\n    } else {\r\n        if (this.flashContext()) {return; }\r\n        this.returnValueToParentContext(inputs[1] === true);\r\n        this.popContext();\r\n    }\r\n};\r\n\r\nProcess.prototype.reportAnd = function (block) {\r\n    var inputs = this.context.inputs;\r\n\r\n    if (inputs.length < 1) {\r\n        this.evaluateNextInput(block);\r\n    } else if (!inputs[0]) {\r\n        if (this.flashContext()) {return; }\r\n        this.returnValueToParentContext(false);\r\n        this.popContext();\r\n    } else if (inputs.length < 2) {\r\n        this.evaluateNextInput(block);\r\n    } else {\r\n        if (this.flashContext()) {return; }\r\n        this.returnValueToParentContext(inputs[1] === true);\r\n        this.popContext();\r\n    }\r\n};\r\n\r\nProcess.prototype.doReport = function (block) {\r\n    var outer = this.context.outerContext;\r\n    if (this.flashContext()) {return; } // flash the block here, special form\r\n    if (this.isClicked && (block.topBlock() === this.topBlock)) {\r\n        this.isShowingResult = true;\r\n    }\r\n    if (this.context.expression.partOfCustomCommand) {\r\n        this.doStopCustomBlock();\r\n        this.popContext();\r\n    } else {\r\n        while (this.context && this.context.tag !== 'exit') {\r\n            if (this.context.expression === 'doStopWarping') {\r\n                this.doStopWarping();\r\n            } else {\r\n                this.popContext();\r\n            }\r\n        }\r\n        if (this.context) {\r\n            if (this.context.expression === 'expectReport') {\r\n                // pop off inserted top-level exit context\r\n                this.popContext();\r\n            } else {\r\n                // un-tag and preserve original caller\r\n                this.context.tag = null;\r\n            }\r\n        }\r\n    }\r\n    // in any case evaluate (and ignore)\r\n    // the input, because it could be\r\n    // and HTTP Request for a hardware extension\r\n    this.pushContext(block.inputs()[0], outer);\r\n};\r\n\r\n// Process: Non-Block evaluation\r\n\r\nProcess.prototype.evaluateMultiSlot = function (multiSlot, argCount) {\r\n    // first evaluate all subslots, then return a list of their values\r\n    var inputs = this.context.inputs,\r\n        ans;\r\n    if (multiSlot.bindingID) {\r\n        if (this.isCatchingErrors) {\r\n            try {\r\n                ans = this.context.variables.getVar(multiSlot.bindingID);\r\n            } catch (error) {\r\n                this.handleError(error, multiSlot);\r\n            }\r\n        } else {\r\n            ans = this.context.variables.getVar(multiSlot.bindingID);\r\n        }\r\n        this.returnValueToParentContext(ans);\r\n        this.popContext();\r\n    } else {\r\n        if (argCount > inputs.length) {\r\n            this.evaluateNextInput(multiSlot);\r\n        } else {\r\n            this.returnValueToParentContext(new List(inputs));\r\n            this.popContext();\r\n        }\r\n    }\r\n};\r\n\r\nProcess.prototype.evaluateArgLabel = function (argLabel) {\r\n    // perform the ID function on an ArgLabelMorph element\r\n    var inputs = this.context.inputs;\r\n    if (inputs.length < 1) {\r\n        this.evaluateNextInput(argLabel);\r\n    } else {\r\n        this.returnValueToParentContext(inputs[0]);\r\n        this.popContext();\r\n    }\r\n};\r\n\r\nProcess.prototype.evaluateInput = function (input) {\r\n    // evaluate the input unless it is bound to an implicit parameter\r\n    var ans;\r\n    if (this.flashContext()) {return; } // yield to flash the current argMorph\r\n    if (input.bindingID) {\r\n        if (this.isCatchingErrors) {\r\n            try {\r\n                ans = this.context.variables.getVar(input.bindingID);\r\n            } catch (error) {\r\n                this.handleError(error, input);\r\n            }\r\n        } else {\r\n            ans = this.context.variables.getVar(input.bindingID);\r\n        }\r\n    } else {\r\n        ans = input.evaluate();\r\n        if (ans) {\r\n            if (input.constructor === CommandSlotMorph ||\r\n                    input.constructor === ReporterSlotMorph ||\r\n                    (input instanceof CSlotMorph &&\r\n                        (!input.isStatic || input.isLambda))) {\r\n                // I know, this still needs yet to be done right....\r\n                ans = this.reify(ans, new List());\r\n            }\r\n        }\r\n    }\r\n    this.returnValueToParentContext(ans);\r\n    this.popContext();\r\n};\r\n\r\nProcess.prototype.evaluateSequence = function (arr) {\r\n    var pc = this.context.pc,\r\n        outer = this.context.outerContext,\r\n        isCustomBlock = this.context.isCustomBlock;\r\n    if (pc === (arr.length - 1)) { // tail call elimination\r\n        this.context = new Context(\r\n            this.context.parentContext,\r\n            arr[pc],\r\n            this.context.outerContext,\r\n            this.context.receiver\r\n        );\r\n        this.context.isCustomBlock = isCustomBlock;\r\n    } else {\r\n        if (pc >= arr.length) {\r\n            this.popContext();\r\n        } else {\r\n            this.context.pc += 1;\r\n            this.pushContext(arr[pc], outer);\r\n        }\r\n    }\r\n};\r\n\r\n/*\r\n// version w/o tail call optimization:\r\n--------------------------------------\r\nCaution: we cannot just revert to this version of the method, because to make\r\ntail call elimination work many tweaks had to be done to various primitives.\r\nFor the most part these tweaks are about schlepping the outer context (for\r\nthe variable bindings) and the isCustomBlock flag along, and are indicated\r\nby a short comment in the code. But to really revert would take a good measure\r\nof trial and error as well as debugging. In the developers file archive there\r\nis a version of threads.js dated 120119(2) which basically resembles the\r\nlast version before introducing tail call optimization on 120123.\r\n\r\nProcess.prototype.evaluateSequence = function (arr) {\r\n    var pc = this.context.pc;\r\n    if (pc >= arr.length) {\r\n        this.popContext();\r\n    } else {\r\n        this.context.pc += 1;\r\n        this.pushContext(arr[pc]);\r\n    }\r\n};\r\n*/\r\n\r\nProcess.prototype.evaluateNextInput = function (element) {\r\n    var nxt = this.context.inputs.length,\r\n        args = element.inputs(),\r\n        exp = args[nxt],\r\n        sel = this.context.expression.selector,\r\n        outer = this.context.outerContext; // for tail call elimination\r\n\r\n    if (exp.isUnevaluated) {\r\n        if (exp.isUnevaluated === true || exp.isUnevaluated()) {\r\n            // just return the input as-is\r\n            /*\r\n                Note: we only reify the input here, if it's not an\r\n                input to a reification primitive itself (THE BLOCK,\r\n                THE SCRIPT), because those allow for additional\r\n                explicit parameter bindings.\r\n            */\r\n            if (sel === 'reify' || sel === 'reportScript') {\r\n                this.context.addInput(exp);\r\n            } else {\r\n                this.context.addInput(this.reify(exp, new List()));\r\n            }\r\n        } else {\r\n            this.pushContext(exp, outer);\r\n        }\r\n    } else {\r\n        this.pushContext(exp, outer);\r\n    }\r\n};\r\n\r\nProcess.prototype.doYield = function () {\r\n    this.popContext();\r\n    if (!this.isAtomic) {\r\n        this.readyToYield = true;\r\n    }\r\n};\r\n\r\nProcess.prototype.expectReport = function () {\r\n    this.handleError(new Error(\"reporter didn't report\"));\r\n};\r\n\r\n// Process Exception Handling\r\n\r\nProcess.prototype.handleError = function (error, element) {\r\n    var m = element;\r\n    this.stop();\r\n    this.errorFlag = true;\r\n    this.topBlock.addErrorHighlight();\r\n    if (isNil(m) || isNil(m.world())) {m = this.topBlock; }\r\n    m.showBubble(\r\n        (m === element ? '' : 'Inside: ')\r\n            + error.name\r\n            + '\\n'\r\n            + error.message,\r\n        this.exportResult,\r\n        this.receiver\r\n    );\r\n};\r\n\r\nProcess.prototype.errorObsolete = function () {\r\n    throw new Error('a custom block definition is missing');\r\n};\r\n\r\n// Process Lambda primitives\r\n\r\nProcess.prototype.reify = function (topBlock, parameterNames, isCustomBlock) {\r\n    var context = new Context(\r\n            null,\r\n            null,\r\n            this.context ? this.context.outerContext : null\r\n        ),\r\n        i = 0;\r\n\r\n    if (topBlock) {\r\n        context.expression = this.enableLiveCoding ||\r\n            this.enableSingleStepping ?\r\n                topBlock : topBlock.fullCopy();\r\n        context.expression.show(); // be sure to make visible if in app mode\r\n\r\n        if (!isCustomBlock && !parameterNames.length()) {\r\n            // mark all empty slots with an identifier\r\n            context.expression.allEmptySlots().forEach(function (slot) {\r\n                i += 1;\r\n                if (slot instanceof MultiArgMorph) {\r\n                    slot.bindingID = ['arguments'];\r\n                } else {\r\n                    slot.bindingID = i;\r\n                }\r\n            });\r\n            // and remember the number of detected empty slots\r\n            context.emptySlots = i;\r\n        }\r\n\r\n    } else {\r\n        context.expression = this.enableLiveCoding ||\r\n            this.enableSingleStepping ? [this.context.expression]\r\n                : [this.context.expression.fullCopy()];\r\n    }\r\n\r\n    context.inputs = parameterNames.asArray();\r\n    context.receiver\r\n        = this.context ? this.context.receiver : this.receiver;\r\n    context.origin = context.receiver; // for serialization\r\n\r\n    return context;\r\n};\r\n\r\nProcess.prototype.reportScript = function (parameterNames, topBlock) {\r\n    return this.reify(topBlock, parameterNames);\r\n};\r\n\r\nProcess.prototype.reifyScript = function (topBlock, parameterNames) {\r\n    return this.reify(topBlock, parameterNames);\r\n};\r\n\r\nProcess.prototype.reifyReporter = function (topBlock, parameterNames) {\r\n    return this.reify(topBlock, parameterNames);\r\n};\r\n\r\nProcess.prototype.reifyPredicate = function (topBlock, parameterNames) {\r\n    return this.reify(topBlock, parameterNames);\r\n};\r\n\r\nProcess.prototype.reportJSFunction = function (parmNames, body) {\r\n    return Function.apply(\r\n        null,\r\n        parmNames.asArray().concat([body])\r\n    );\r\n};\r\n\r\nProcess.prototype.doRun = function (context, args) {\r\n    return this.evaluate(context, args, true);\r\n};\r\n\r\nProcess.prototype.evaluate = function (\r\n    context,\r\n    args,\r\n    isCommand\r\n) {\r\n    if (!context) {return null; }\r\n    if (context instanceof Function) {\r\n        /*\r\n        if (!this.enableJS) {\r\n            throw new Error('JavaScript is not enabled');\r\n        }\r\n        */\r\n        return context.apply(\r\n            this.blockReceiver(),\r\n            args.asArray().concat([this])\r\n        );\r\n    }\r\n    if (context.isContinuation) {\r\n        return this.runContinuation(context, args);\r\n    }\r\n    if (!(context instanceof Context)) {\r\n        throw new Error('expecting a ring but getting ' + context);\r\n    }\r\n\r\n    var outer = new Context(null, null, context.outerContext),\r\n        caller = this.context.parentContext,\r\n        exit,\r\n        runnable,\r\n        parms = args.asArray(),\r\n        i,\r\n        value;\r\n\r\n    if (!outer.receiver) {\r\n        outer.receiver = context.receiver; // for custom blocks\r\n    }\r\n    runnable = new Context(\r\n        this.context.parentContext,\r\n        context.expression,\r\n        outer,\r\n        context.receiver\r\n    );\r\n    this.context.parentContext = runnable;\r\n\r\n    if (context.expression instanceof ReporterBlockMorph) {\r\n        // auto-\"warp\" nested reporters\r\n        this.readyToYield = (Date.now() - this.lastYield > this.timeout);\r\n    }\r\n\r\n    // assign parameters if any were passed\r\n    if (parms.length > 0) {\r\n\r\n        // assign formal parameters\r\n        for (i = 0; i < context.inputs.length; i += 1) {\r\n            value = 0;\r\n            if (!isNil(parms[i])) {\r\n                value = parms[i];\r\n            }\r\n            outer.variables.addVar(context.inputs[i], value);\r\n        }\r\n\r\n        // assign implicit parameters if there are no formal ones\r\n        if (context.inputs.length === 0) {\r\n            // assign the actual arguments list to the special\r\n            // parameter ID ['arguments'], to be used for variadic inputs\r\n            outer.variables.addVar(['arguments'], args);\r\n\r\n            // in case there is only one input\r\n            // assign it to all empty slots\r\n            if (parms.length === 1) {\r\n                for (i = 1; i <= context.emptySlots; i += 1) {\r\n                    outer.variables.addVar(i, parms[0]);\r\n                }\r\n\r\n            // if the number of inputs matches the number\r\n            // of empty slots distribute them sequentially\r\n            } else if (parms.length === context.emptySlots) {\r\n                for (i = 1; i <= parms.length; i += 1) {\r\n                    outer.variables.addVar(i, parms[i - 1]);\r\n                }\r\n\r\n            } else if (context.emptySlots !== 1) {\r\n                throw new Error(\r\n                    localize('expecting') + ' ' + context.emptySlots + ' '\r\n                        + localize('input(s), but getting') + ' '\r\n                        + parms.length\r\n                );\r\n            }\r\n        }\r\n    }\r\n\r\n    if (runnable.expression instanceof CommandBlockMorph) {\r\n        runnable.expression = runnable.expression.blockSequence();\r\n        if (!isCommand) {\r\n            if (caller) {\r\n                // tag caller, so \"report\" can catch it later\r\n                caller.tag = 'exit';\r\n            } else {\r\n                // top-level context, insert a tagged exit context\r\n                // which \"report\" can catch later\r\n                exit = new Context(\r\n                    runnable.parentContext,\r\n                    'expectReport',\r\n                    outer,\r\n                    outer.receiver\r\n                );\r\n                exit.tag = 'exit';\r\n                runnable.parentContext = exit;\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nProcess.prototype.fork = function (context, args) {\r\n    var proc = new Process(),\r\n        stage = this.homeContext.receiver.parentThatIsA(StageMorph);\r\n    proc.instrument = this.instrument;\r\n    proc.receiver = this.receiver;\r\n    proc.initializeFor(context, args, this.enableSingleStepping);\r\n    // proc.pushContext('doYield');\r\n    stage.threads.processes.push(proc);\r\n};\r\n\r\nProcess.prototype.initializeFor = function (context, args, ignoreExit) {\r\n    // used by Process.fork() and global invoke()\r\n    if (context.isContinuation) {\r\n        throw new Error(\r\n            'continuations cannot be forked'\r\n        );\r\n    }\r\n    if (!(context instanceof Context)) {\r\n        throw new Error('expecting a ring but getting ' + context);\r\n    }\r\n\r\n    var outer = new Context(null, null, context.outerContext),\r\n        runnable = new Context(null,\r\n            context.expression,\r\n            outer\r\n            ),\r\n        parms = args.asArray(),\r\n        i,\r\n        value,\r\n        exit;\r\n\r\n    // remember the receiver\r\n    this.context = context.receiver;\r\n\r\n    // assign parameters if any were passed\r\n    if (parms.length > 0) {\r\n\r\n        // assign formal parameters\r\n        for (i = 0; i < context.inputs.length; i += 1) {\r\n            value = 0;\r\n            if (!isNil(parms[i])) {\r\n                value = parms[i];\r\n            }\r\n            outer.variables.addVar(context.inputs[i], value);\r\n        }\r\n\r\n        // assign implicit parameters if there are no formal ones\r\n        if (context.inputs.length === 0) {\r\n            // assign the actual arguments list to the special\r\n            // parameter ID ['arguments'], to be used for variadic inputs\r\n            outer.variables.addVar(['arguments'], args);\r\n\r\n            // in case there is only one input\r\n            // assign it to all empty slots\r\n            if (parms.length === 1) {\r\n                for (i = 1; i <= context.emptySlots; i += 1) {\r\n                    outer.variables.addVar(i, parms[0]);\r\n                }\r\n\r\n            // if the number of inputs matches the number\r\n            // of empty slots distribute them sequentially\r\n            } else if (parms.length === context.emptySlots) {\r\n                for (i = 1; i <= parms.length; i += 1) {\r\n                    outer.variables.addVar(i, parms[i - 1]);\r\n                }\r\n\r\n            } else if (context.emptySlots !== 1) {\r\n                throw new Error(\r\n                    localize('expecting') + ' ' + context.emptySlots + ' '\r\n                        + localize('input(s), but getting') + ' '\r\n                        + parms.length\r\n                );\r\n            }\r\n        }\r\n    }\r\n\r\n    if (runnable.expression instanceof CommandBlockMorph) {\r\n        runnable.expression = runnable.expression.blockSequence();\r\n\r\n        // insert a tagged exit context\r\n        // which \"report\" can catch later\r\n        // needed for invoke() situations\r\n        if (!ignoreExit) { // when single stepping LAUNCH\r\n\t        exit = new Context(\r\n    \t        runnable.parentContext,\r\n        \t    'expectReport',\r\n            \touter,\r\n            \touter.receiver\r\n        \t);\r\n        \texit.tag = 'exit';\r\n        \trunnable.parentContext = exit;\r\n    \t}\r\n    }\r\n\r\n    this.homeContext = new Context(); // context.outerContext;\r\n    this.homeContext.receiver = context.outerContext.receiver;\r\n    this.topBlock = context.expression;\r\n    this.context = runnable;\r\n};\r\n\r\n// Process stopping blocks primitives\r\n\r\nProcess.prototype.doStopBlock = function () {\r\n    var target = this.context.expression.exitTag;\r\n    if (isNil(target)) {\r\n        return this.doStopCustomBlock();\r\n    }\r\n    while (this.context &&\r\n            (isNil(this.context.tag) || (this.context.tag > target))) {\r\n        if (this.context.expression === 'doStopWarping') {\r\n            this.doStopWarping();\r\n        } else {\r\n            this.popContext();\r\n        }\r\n    }\r\n    this.pushContext();\r\n};\r\n\r\nProcess.prototype.doStopCustomBlock = function () {\r\n    // fallback solution for \"report\" blocks inside\r\n    // custom command definitions and untagged \"stop\" blocks\r\n    while (this.context && !this.context.isCustomBlock) {\r\n        if (this.context.expression === 'doStopWarping') {\r\n            this.doStopWarping();\r\n        } else {\r\n            this.popContext();\r\n        }\r\n    }\r\n};\r\n\r\n// Process continuations primitives\r\n\r\nProcess.prototype.doCallCC = function (aContext, isReporter) {\r\n    this.evaluate(\r\n        aContext,\r\n        new List([this.context.continuation()]),\r\n        !isReporter\r\n    );\r\n};\r\n\r\nProcess.prototype.reportCallCC = function (aContext) {\r\n    this.doCallCC(aContext, true);\r\n};\r\n\r\nProcess.prototype.runContinuation = function (aContext, args) {\r\n    var parms = args.asArray();\r\n\r\n    // determine whether the continuations is to show the result\r\n    // in a value-balloon becuse the user has directly clicked on a reporter\r\n    if (aContext.expression === 'expectReport' && parms.length) {\r\n        this.stop();\r\n        this.homeContext.inputs[0] = parms[0];\r\n        return;\r\n    }\r\n\r\n    this.context.parentContext = aContext.copyForContinuationCall();\r\n    // passing parameter if any was passed\r\n    if (parms.length === 1) {\r\n        this.context.parentContext.outerContext.variables.addVar(\r\n            1,\r\n            parms[0]\r\n        );\r\n    }\r\n};\r\n\r\n// Process custom block primitives\r\n\r\nProcess.prototype.evaluateCustomBlock = function () {\r\n    var caller = this.context.parentContext,\r\n        block = this.context.expression,\r\n        method = block.isGlobal ? block.definition\r\n                : this.blockReceiver().getMethod(block.semanticSpec),\r\n        context = method.body,\r\n        declarations = method.declarations,\r\n        args = new List(this.context.inputs),\r\n        parms = args.asArray(),\r\n        runnable,\r\n        exit,\r\n        i,\r\n        value,\r\n        outer;\r\n\r\n    if (!context) {return null; }\r\n    this.procedureCount += 1;\r\n    outer = new Context();\r\n    outer.receiver = this.context.receiver;\r\n\r\n    outer.variables.parentFrame = block.variables;\r\n\r\n    // block (instance) var support, experimental:\r\n    // only splice in block vars if any are defined, because block vars\r\n    // can cause race conditions in global block definitions that\r\n    // access sprite-local variables at the same time.\r\n    if (method.variableNames.length) {\r\n        block.variables.parentFrame = outer.receiver ?\r\n                outer.receiver.variables : null;\r\n    } else {\r\n        // original code without block variables:\r\n        outer.variables.parentFrame = outer.receiver ?\r\n                outer.receiver.variables : null;\r\n    }\r\n\r\n    runnable = new Context(\r\n        this.context.parentContext,\r\n        context.expression,\r\n        outer,\r\n        outer.receiver\r\n    );\r\n    runnable.isCustomBlock = true;\r\n    this.context.parentContext = runnable;\r\n\r\n    // passing parameters if any were passed\r\n    if (parms.length > 0) {\r\n\r\n        // assign formal parameters\r\n        for (i = 0; i < context.inputs.length; i += 1) {\r\n            value = 0;\r\n            if (!isNil(parms[i])) {\r\n                value = parms[i];\r\n            }\r\n            outer.variables.addVar(context.inputs[i], value);\r\n\r\n            // if the parameter is an upvar,\r\n            // create a reference to the variable it points to\r\n            if (declarations[context.inputs[i]][0] === '%upvar') {\r\n                this.context.outerContext.variables.vars[value] =\r\n                    outer.variables.vars[context.inputs[i]];\r\n            }\r\n        }\r\n    }\r\n\r\n    // tag return target\r\n    if (method.type !== 'command') {\r\n        if (caller) {\r\n            // tag caller, so \"report\" can catch it later\r\n            caller.tag = 'exit';\r\n        } else {\r\n            // top-level context, insert a tagged exit context\r\n            // which \"report\" can catch later\r\n            exit = new Context(\r\n                runnable.parentContext,\r\n                'expectReport',\r\n                outer,\r\n                outer.receiver\r\n            );\r\n            exit.tag = 'exit';\r\n            runnable.parentContext = exit;\r\n        }\r\n        // auto-\"warp\" nested reporters\r\n        this.readyToYield = (Date.now() - this.lastYield > this.timeout);\r\n    } else {\r\n        // tag all \"stop this block\" blocks with the current\r\n        // procedureCount as exitTag, and mark all \"report\" blocks\r\n        // as being inside a custom command definition\r\n        runnable.expression.tagExitBlocks(this.procedureCount, true);\r\n\r\n        // tag the caller with the current procedure count, so\r\n        // \"stop this block\" blocks can catch it, but only\r\n        // if the caller hasn't been tagged already\r\n        if (caller && !caller.tag) {\r\n            caller.tag = this.procedureCount;\r\n        }\r\n        // yield commands unless explicitly \"warped\" or directly recursive\r\n        if (!this.isAtomic && method.isDirectlyRecursive()) {\r\n            this.readyToYield = true;\r\n        }\r\n    }\r\n    runnable.expression = runnable.expression.blockSequence();\r\n};\r\n\r\n// Process variables primitives\r\n\r\nProcess.prototype.doDeclareVariables = function (varNames) {\r\n    var varFrame = this.context.outerContext.variables;\r\n    varNames.asArray().forEach(function (name) {\r\n        varFrame.addVar(name);\r\n    });\r\n};\r\n\r\nProcess.prototype.doSetVar = function (varName, value) {\r\n    var varFrame = this.context.variables,\r\n        name = varName,\r\n        rcvr;\r\n    if (name instanceof Context) {\r\n        rcvr = this.blockReceiver();\r\n        if (name.expression.selector === 'reportGetVar') {\r\n            name.variables.setVar(\r\n                name.expression.blockSpec,\r\n                value,\r\n                rcvr\r\n            );\r\n            return;\r\n        }\r\n        this.doSet(name, value);\r\n        return;\r\n    }\r\n    varFrame.setVar(name, value, this.blockReceiver());\r\n};\r\n\r\nProcess.prototype.doChangeVar = function (varName, value) {\r\n    var varFrame = this.context.variables,\r\n        name = varName;\r\n\r\n    if (name instanceof Context) {\r\n        if (name.expression.selector === 'reportGetVar') {\r\n            name.variables.changeVar(\r\n                name.expression.blockSpec,\r\n                value,\r\n                this.blockReceiver()\r\n            );\r\n            return;\r\n        }\r\n    }\r\n    varFrame.changeVar(name, value, this.blockReceiver());\r\n};\r\n\r\nProcess.prototype.reportGetVar = function () {\r\n    // assumes a getter block whose blockSpec is a variable name\r\n    return this.context.variables.getVar(\r\n        this.context.expression.blockSpec\r\n    );\r\n};\r\n\r\nProcess.prototype.doShowVar = function (varName) {\r\n    var varFrame = this.context.variables,\r\n        stage,\r\n        watcher,\r\n        target,\r\n        label,\r\n        others,\r\n        isGlobal,\r\n        name = varName;\r\n\r\n    if (name instanceof Context) {\r\n        if (name.expression.selector === 'reportGetVar') {\r\n            name = name.expression.blockSpec;\r\n        } else {\r\n            this.doChangePrimitiveVisibility(name.expression, false);\r\n            return;\r\n        }\r\n    }\r\n    if (this.homeContext.receiver) {\r\n        stage = this.homeContext.receiver.parentThatIsA(StageMorph);\r\n        if (stage) {\r\n            target = varFrame.silentFind(name);\r\n            if (!target) {return; }\r\n            // first try to find an existing (hidden) watcher\r\n            watcher = detect(\r\n                stage.children,\r\n                function (morph) {\r\n                    return morph instanceof WatcherMorph\r\n                        && morph.target === target\r\n                        && morph.getter === name;\r\n                }\r\n            );\r\n            if (watcher !== null) {\r\n                watcher.show();\r\n                watcher.fixLayout(); // re-hide hidden parts\r\n                return;\r\n            }\r\n            // if no watcher exists, create a new one\r\n            isGlobal = contains(\r\n                this.homeContext.receiver.globalVariables().names(),\r\n                varName\r\n            );\r\n            if (isGlobal || target.owner) {\r\n                label = name;\r\n            } else {\r\n                label = name + ' ' + localize('(temporary)');\r\n            }\r\n            watcher = new WatcherMorph(\r\n                label,\r\n                SpriteMorph.prototype.blockColor.variables,\r\n                target,\r\n                name\r\n            );\r\n            watcher.setPosition(stage.position().add(10));\r\n            others = stage.watchers(watcher.left());\r\n            if (others.length > 0) {\r\n                watcher.setTop(others[others.length - 1].bottom());\r\n            }\r\n            stage.add(watcher);\r\n            watcher.fixLayout();\r\n        }\r\n    }\r\n};\r\n\r\nProcess.prototype.doHideVar = function (varName) {\r\n    // if no varName is specified delete all watchers on temporaries\r\n    var varFrame = this.context.variables,\r\n        stage,\r\n        watcher,\r\n        target,\r\n        name = varName;\r\n\r\n    if (name instanceof Context) {\r\n        if (name.expression.selector === 'reportGetVar') {\r\n            name = name.expression.blockSpec;\r\n        } else {\r\n            this.doChangePrimitiveVisibility(name.expression, true);\r\n            return;\r\n        }\r\n    }\r\n    if (!name) {\r\n        this.doRemoveTemporaries();\r\n        return;\r\n    }\r\n    if (this.homeContext.receiver) {\r\n        stage = this.homeContext.receiver.parentThatIsA(StageMorph);\r\n        if (stage) {\r\n            target = varFrame.find(name);\r\n            watcher = detect(\r\n                stage.children,\r\n                function (morph) {\r\n                    return morph instanceof WatcherMorph\r\n                        && morph.target === target\r\n                        && morph.getter === name;\r\n                }\r\n            );\r\n            if (watcher !== null) {\r\n                if (watcher.isTemporary()) {\r\n                    watcher.destroy();\r\n                } else {\r\n                    watcher.hide();\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nProcess.prototype.doRemoveTemporaries = function () {\r\n    var stage;\r\n    if (this.homeContext.receiver) {\r\n        stage = this.homeContext.receiver.parentThatIsA(StageMorph);\r\n        if (stage) {\r\n            stage.watchers().forEach(function (watcher) {\r\n                if (watcher.isTemporary()) {\r\n                    watcher.destroy();\r\n                }\r\n            });\r\n        }\r\n    }\r\n};\r\n\r\n// Process hiding and showing primitives primitives :-)\r\n\r\nProcess.prototype.doChangePrimitiveVisibility = function (aBlock, hideIt) {\r\n    var ide = this.homeContext.receiver.parentThatIsA(IDE_Morph),\r\n        dict,\r\n        cat;\r\n    if (!ide || (aBlock.selector === 'evaluateCustomBlock')) {\r\n        return;\r\n    }\r\n    if (hideIt) {\r\n        StageMorph.prototype.hiddenPrimitives[aBlock.selector] = true;\r\n    } else {\r\n        delete StageMorph.prototype.hiddenPrimitives[aBlock.selector];\r\n    }\r\n    dict = {\r\n        doWarp: 'control',\r\n        reifyScript: 'operators',\r\n        reifyReporter: 'operators',\r\n        reifyPredicate: 'operators',\r\n        doDeclareVariables: 'variables'\r\n    };\r\n    cat = dict[this.selector] || this.category;\r\n    if (cat === 'lists') {cat = 'variables'; }\r\n    ide.flushBlocksCache(cat);\r\n    ide.refreshPalette();\r\n};\r\n\r\n// Process sprite inheritance primitives\r\n\r\nProcess.prototype.doDeleteAttr = function (attrName) {\r\n    var name = attrName,\r\n        rcvr = this.blockReceiver();\r\n    if (name instanceof Context) {\r\n        if (name.expression.selector === 'reportGetVar') {\r\n            name = name.expression.blockSpec;\r\n        } else { // attribute\r\n            name = {\r\n                xPosition: 'x position',\r\n                yPosition: 'y position',\r\n                direction: 'direction',\r\n                getCostumeIdx: 'costume #',\r\n                size: 'size'\r\n            }[name.expression.selector];\r\n            if (!isNil(name)) {\r\n                rcvr.inheritAttribute(name);\r\n            }\r\n            return; // error: cannot delete attribute...\r\n        }\r\n    }\r\n    if (name instanceof Array) {\r\n        return rcvr.inheritAttribute(this.inputOption(name));\r\n    }\r\n    if (contains(rcvr.inheritedVariableNames(true), name)) {\r\n        rcvr.deleteVariable(name);\r\n    }\r\n};\r\n\r\n// experimental message passing primitives\r\n\r\nProcess.prototype.doTellTo = function (sprite, context, args) {\r\n    this.doRun(\r\n        this.reportAttributeOf(context, sprite),\r\n        args\r\n    );\r\n};\r\n\r\nProcess.prototype.reportAskFor = function (sprite, context, args) {\r\n    this.evaluate(\r\n        this.reportAttributeOf(context, sprite),\r\n        args\r\n    );\r\n};\r\n\r\n// Process lists primitives\r\n\r\nProcess.prototype.reportNewList = function (elements) {\r\n    return elements;\r\n};\r\n\r\nProcess.prototype.reportCONS = function (car, cdr) {\r\n    this.assertType(cdr, 'list');\r\n    return new List().cons(car, cdr);\r\n};\r\n\r\nProcess.prototype.reportCDR = function (list) {\r\n    this.assertType(list, 'list');\r\n    return list.cdr();\r\n};\r\n\r\nProcess.prototype.doAddToList = function (element, list) {\r\n    this.assertType(list, 'list');\r\n    if (list.type) {\r\n        this.assertType(element, list.type);\r\n    }\r\n    list.add(element);\r\n};\r\n\r\nProcess.prototype.doDeleteFromList = function (index, list) {\r\n    var idx = index;\r\n    this.assertType(list, 'list');\r\n    if (this.inputOption(index) === 'all') {\r\n        return list.clear();\r\n    }\r\n    if (index === '') {\r\n        return null;\r\n    }\r\n    if (this.inputOption(index) === 'last') {\r\n        idx = list.length();\r\n    } else if (isNaN(+this.inputOption(index))) {\r\n        return null;\r\n    }\r\n    list.remove(idx);\r\n};\r\n\r\nProcess.prototype.doInsertInList = function (element, index, list) {\r\n    var idx = index;\r\n    this.assertType(list, 'list');\r\n    if (list.type) {\r\n        this.assertType(element, list.type);\r\n    }\r\n    if (index === '') {\r\n        return null;\r\n    }\r\n    if (this.inputOption(index) === 'any') {\r\n        idx = this.reportRandom(1, list.length() + 1);\r\n    }\r\n    if (this.inputOption(index) === 'last') {\r\n        idx = list.length() + 1;\r\n    }\r\n    list.add(element, idx);\r\n};\r\n\r\nProcess.prototype.doReplaceInList = function (index, list, element) {\r\n    var idx = index;\r\n    this.assertType(list, 'list');\r\n    if (list.type) {\r\n        this.assertType(element, list.type);\r\n    }\r\n    if (index === '') {\r\n        return null;\r\n    }\r\n    if (this.inputOption(index) === 'any') {\r\n        idx = this.reportRandom(1, list.length());\r\n    }\r\n    if (this.inputOption(index) === 'last') {\r\n        idx = list.length();\r\n    }\r\n    list.put(element, idx);\r\n};\r\n\r\nProcess.prototype.reportListItem = function (index, list) {\r\n    var idx = index;\r\n    this.assertType(list, 'list');\r\n    if (index === '') {\r\n        return '';\r\n    }\r\n    if (this.inputOption(index) === 'any') {\r\n        idx = this.reportRandom(1, list.length());\r\n    }\r\n    if (this.inputOption(index) === 'last') {\r\n        idx = list.length();\r\n    }\r\n    return list.at(idx);\r\n};\r\n\r\nProcess.prototype.reportListLength = function (list) {\r\n    this.assertType(list, 'list');\r\n    return list.length();\r\n};\r\n\r\nProcess.prototype.reportListContainsItem = function (list, element) {\r\n    this.assertType(list, 'list');\r\n    return list.contains(element);\r\n};\r\n\r\nProcess.prototype.doShowTable = function (list) {\r\n    // experimental\r\n    this.assertType(list, 'list');\r\n    new TableDialogMorph(list).popUp(this.blockReceiver().world());\r\n};\r\n\r\n// Process conditionals primitives\r\n\r\nProcess.prototype.doIf = function () {\r\n    var args = this.context.inputs,\r\n        outer = this.context.outerContext, // for tail call elimination\r\n        isCustomBlock = this.context.isCustomBlock;\r\n\r\n    this.popContext();\r\n    if (args[0]) {\r\n        if (args[1]) {\r\n            this.pushContext(args[1].blockSequence(), outer);\r\n            this.context.isCustomBlock = isCustomBlock;\r\n        }\r\n    }\r\n    this.pushContext();\r\n};\r\n\r\nProcess.prototype.doIfElse = function () {\r\n    var args = this.context.inputs,\r\n        outer = this.context.outerContext, // for tail call elimination\r\n        isCustomBlock = this.context.isCustomBlock;\r\n\r\n    this.popContext();\r\n    if (args[0]) {\r\n        if (args[1]) {\r\n            this.pushContext(args[1].blockSequence(), outer);\r\n        }\r\n    } else {\r\n        if (args[2]) {\r\n            this.pushContext(args[2].blockSequence(), outer);\r\n        } else {\r\n            this.pushContext('doYield');\r\n        }\r\n    }\r\n    if (this.context) {\r\n        this.context.isCustomBlock = isCustomBlock;\r\n    }\r\n\r\n    this.pushContext();\r\n};\r\n\r\n// Process process related primitives\r\n\r\nProcess.prototype.doStop = function () {\r\n    this.stop();\r\n};\r\n\r\nProcess.prototype.doStopAll = function () {\r\n    var stage, ide;\r\n    if (this.homeContext.receiver) {\r\n        stage = this.homeContext.receiver.parentThatIsA(StageMorph);\r\n        if (stage) {\r\n            stage.threads.resumeAll(stage);\r\n            stage.keysPressed = {};\r\n            stage.threads.stopAll();\r\n            stage.stopAllActiveSounds();\r\n            stage.children.forEach(function (morph) {\r\n                if (morph.stopTalking) {\r\n                    morph.stopTalking();\r\n                }\r\n            });\r\n            stage.removeAllClones();\r\n        }\r\n        ide = stage.parentThatIsA(IDE_Morph);\r\n        if (ide) {ide.controlBar.pauseButton.refresh(); }\r\n    }\r\n};\r\n\r\nProcess.prototype.doStopThis = function (choice) {\r\n    switch (this.inputOption(choice)) {\r\n    case 'all':\r\n        this.doStopAll();\r\n        break;\r\n    case 'this script':\r\n        this.doStop();\r\n        break;\r\n    case 'this block':\r\n        this.doStopBlock();\r\n        break;\r\n    default:\r\n        this.doStopOthers(choice);\r\n    }\r\n};\r\n\r\nProcess.prototype.doStopOthers = function (choice) {\r\n    var stage;\r\n    if (this.homeContext.receiver) {\r\n        stage = this.homeContext.receiver.parentThatIsA(StageMorph);\r\n        if (stage) {\r\n            switch (this.inputOption(choice)) {\r\n            case 'all but this script':\r\n                stage.threads.stopAll(this);\r\n                break;\r\n            case 'other scripts in sprite':\r\n                stage.threads.stopAllForReceiver(\r\n                    this.homeContext.receiver,\r\n                    this\r\n                );\r\n                break;\r\n            default:\r\n                nop();\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nProcess.prototype.doWarp = function (body) {\r\n    // execute my contents block atomically (more or less)\r\n    var outer = this.context.outerContext, // for tail call elimination\r\n        isCustomBlock = this.context.isCustomBlock,\r\n        stage;\r\n\r\n    this.popContext();\r\n\r\n    if (body) {\r\n        if (this.homeContext.receiver) {\r\n            if (this.homeContext.receiver.startWarp) {\r\n                // pen optimization\r\n                this.homeContext.receiver.startWarp();\r\n            }\r\n            stage = this.homeContext.receiver.parentThatIsA(StageMorph);\r\n            if (stage) {\r\n                stage.fps = 0; // variable frame rate\r\n            }\r\n        }\r\n        this.pushContext('doYield');\r\n        this.context.isCustomBlock = isCustomBlock;\r\n        if (!this.isAtomic) {\r\n            this.pushContext('doStopWarping');\r\n        }\r\n        this.pushContext(body.blockSequence(), outer);\r\n        this.isAtomic = true;\r\n    }\r\n    this.pushContext();\r\n};\r\n\r\nProcess.prototype.doStopWarping = function () {\r\n    var stage;\r\n    this.popContext();\r\n    this.isAtomic = false;\r\n    if (this.homeContext.receiver) {\r\n        if (this.homeContext.receiver.endWarp) {\r\n            // pen optimization\r\n            this.homeContext.receiver.endWarp();\r\n        }\r\n        stage = this.homeContext.receiver.parentThatIsA(StageMorph);\r\n        if (stage) {\r\n            stage.fps = stage.frameRate; //  back to fixed frame rate\r\n        }\r\n    }\r\n};\r\n\r\nProcess.prototype.reportIsFastTracking = function () {\r\n    var ide;\r\n    if (this.homeContext.receiver) {\r\n        ide = this.homeContext.receiver.parentThatIsA(IDE_Morph);\r\n        if (ide) {\r\n            return ide.stage.isFastTracked;\r\n        }\r\n    }\r\n    return false;\r\n};\r\n\r\nProcess.prototype.doSetFastTracking = function (bool) {\r\n    var ide;\r\n    if (!this.reportIsA(bool, 'Boolean')) {\r\n        return;\r\n    }\r\n    if (this.homeContext.receiver) {\r\n        ide = this.homeContext.receiver.parentThatIsA(IDE_Morph);\r\n        if (ide) {\r\n            if (bool) {\r\n                ide.startFastTracking();\r\n            } else {\r\n                ide.stopFastTracking();\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nProcess.prototype.doPauseAll = function () {\r\n    var stage, ide;\r\n    if (this.homeContext.receiver) {\r\n        stage = this.homeContext.receiver.parentThatIsA(StageMorph);\r\n        if (stage) {\r\n            stage.threads.pauseAll(stage);\r\n        }\r\n        ide = stage.parentThatIsA(IDE_Morph);\r\n        if (ide) {ide.controlBar.pauseButton.refresh(); }\r\n    }\r\n};\r\n\r\n// Process loop primitives\r\n\r\nProcess.prototype.doForever = function (body) {\r\n    this.context.inputs = []; // force re-evaluation of C-slot\r\n    this.pushContext('doYield');\r\n    if (body) {\r\n        this.pushContext(body.blockSequence());\r\n    }\r\n    this.pushContext();\r\n};\r\n\r\nProcess.prototype.doRepeat = function (counter, body) {\r\n    var block = this.context.expression,\r\n        outer = this.context.outerContext, // for tail call elimination\r\n        isCustomBlock = this.context.isCustomBlock;\r\n\r\n    if (counter < 1) { // was '=== 0', which caused infinite loops on non-ints\r\n        return null;\r\n    }\r\n    this.popContext();\r\n    this.pushContext(block, outer);\r\n    this.context.isCustomBlock = isCustomBlock;\r\n    this.context.addInput(counter - 1);\r\n    this.pushContext('doYield');\r\n    if (body) {\r\n        this.pushContext(body.blockSequence());\r\n    }\r\n    this.pushContext();\r\n};\r\n\r\nProcess.prototype.doUntil = function (goalCondition, body) {\r\n    if (goalCondition) {\r\n        this.popContext();\r\n        this.pushContext('doYield');\r\n        return null;\r\n    }\r\n    this.context.inputs = [];\r\n    this.pushContext('doYield');\r\n    if (body) {\r\n        this.pushContext(body.blockSequence());\r\n    }\r\n    this.pushContext();\r\n};\r\n\r\nProcess.prototype.doWaitUntil = function (goalCondition) {\r\n    if (goalCondition) {\r\n        this.popContext();\r\n        this.pushContext('doYield');\r\n        return null;\r\n    }\r\n    this.context.inputs = [];\r\n    this.pushContext('doYield');\r\n    this.pushContext();\r\n};\r\n\r\nProcess.prototype.reportMap = function (reporter, list) {\r\n    // answer a new list containing the results of the reporter applied\r\n    // to each value of the given list. Distinguish between linked and\r\n    // arrayed lists.\r\n    // Note: This method utilizes the current context's inputs array to\r\n    // manage temporary variables, whose allocation to which slot are\r\n    // documented in each of the variants' code (linked or arrayed) below\r\n\r\n    var next;\r\n    if (list.isLinked) {\r\n        // this.context.inputs:\r\n        // [0] - reporter\r\n        // [1] - list (original source)\r\n        // -----------------------------\r\n        // [2] - result list (target)\r\n        // [3] - currently last element of result list\r\n        // [4] - current source list (what's left to map)\r\n        // [5] - current value of last function call\r\n\r\n        if (this.context.inputs.length < 3) {\r\n            this.context.addInput(new List());\r\n            this.context.inputs[2].isLinked = true;\r\n            this.context.addInput(this.context.inputs[2]);\r\n            this.context.addInput(list);\r\n        }\r\n        if (this.context.inputs[4].length() === 0) {\r\n            this.context.inputs[3].rest = list.cons(this.context.inputs[5]);\r\n            this.returnValueToParentContext(this.context.inputs[2].cdr());\r\n            return;\r\n        }\r\n        if (this.context.inputs.length > 5) {\r\n            this.context.inputs[3].rest = list.cons(this.context.inputs[5]);\r\n            this.context.inputs[3] = this.context.inputs[3].rest;\r\n            this.context.inputs.splice(5);\r\n        }\r\n        next = this.context.inputs[4].at(1);\r\n        this.context.inputs[4] = this.context.inputs[4].cdr();\r\n        this.pushContext();\r\n        this.evaluate(reporter, new List([next]));\r\n    } else { // arrayed\r\n        // this.context.inputs:\r\n        // [0] - reporter\r\n        // [1] - list (original source)\r\n        // -----------------------------\r\n        // [2..n] - result values (target)\r\n\r\n        if (this.context.inputs.length - 2 === list.length()) {\r\n            this.returnValueToParentContext(\r\n                new List(this.context.inputs.slice(2))\r\n            );\r\n            return;\r\n        }\r\n        next = list.at(this.context.inputs.length - 1);\r\n        this.pushContext();\r\n        this.evaluate(reporter, new List([next]));\r\n    }\r\n};\r\n\r\nProcess.prototype.doForEach = function (upvar, list, script) {\r\n    // perform a script for each element of a list, assigning the\r\n    // current iteration's element to a variable with the name\r\n    // specified in the \"upvar\" parameter, so it can be referenced\r\n    // within the script. Uses the context's - unused - fourth\r\n    // element as temporary storage for the current list index\r\n\r\n    if (isNil(this.context.inputs[3])) {this.context.inputs[3] = 1; }\r\n    var index = this.context.inputs[3];\r\n    this.context.outerContext.variables.addVar(upvar);\r\n    this.context.outerContext.variables.setVar(\r\n        upvar,\r\n        list.at(index)\r\n    );\r\n    if (index > list.length()) {return; }\r\n    this.context.inputs[3] += 1;\r\n    this.pushContext('doYield');\r\n    this.pushContext();\r\n    this.evaluate(script, new List(), true);\r\n};\r\n\r\n// Process interpolated primitives\r\n\r\nProcess.prototype.doWait = function (secs) {\r\n    if (!this.context.startTime) {\r\n        this.context.startTime = Date.now();\r\n    }\r\n    if ((Date.now() - this.context.startTime) >= (secs * 1000)) {\r\n        if (!this.isAtomic && (secs === 0)) {\r\n            // \"wait 0 secs\" is a plain \"yield\"\r\n            // that can be overridden by \"warp\"\r\n            this.readyToYield = true;\r\n        }\r\n        return null;\r\n    }\r\n    this.pushContext('doYield');\r\n    this.pushContext();\r\n};\r\n\r\nProcess.prototype.doGlide = function (secs, endX, endY) {\r\n    if (!this.context.startTime) {\r\n        this.context.startTime = Date.now();\r\n        this.context.startValue = new Point(\r\n            this.blockReceiver().xPosition(),\r\n            this.blockReceiver().yPosition()\r\n        );\r\n    }\r\n    if ((Date.now() - this.context.startTime) >= (secs * 1000)) {\r\n        this.blockReceiver().gotoXY(endX, endY);\r\n        return null;\r\n    }\r\n    this.blockReceiver().glide(\r\n        secs * 1000,\r\n        endX,\r\n        endY,\r\n        Date.now() - this.context.startTime,\r\n        this.context.startValue\r\n    );\r\n\r\n    this.pushContext('doYield');\r\n    this.pushContext();\r\n};\r\n\r\nProcess.prototype.doSayFor = function (data, secs) {\r\n    if (!this.context.startTime) {\r\n        this.context.startTime = Date.now();\r\n        this.blockReceiver().bubble(data);\r\n    }\r\n    if ((Date.now() - this.context.startTime) >= (secs * 1000)) {\r\n        this.blockReceiver().stopTalking();\r\n        return null;\r\n    }\r\n    this.pushContext('doYield');\r\n    this.pushContext();\r\n};\r\n\r\nProcess.prototype.doThinkFor = function (data, secs) {\r\n    if (!this.context.startTime) {\r\n        this.context.startTime = Date.now();\r\n        this.blockReceiver().doThink(data);\r\n    }\r\n    if ((Date.now() - this.context.startTime) >= (secs * 1000)) {\r\n        this.blockReceiver().stopTalking();\r\n        return null;\r\n    }\r\n    this.pushContext('doYield');\r\n    this.pushContext();\r\n};\r\n\r\nProcess.prototype.blockReceiver = function () {\r\n    return this.context ? this.context.receiver || this.homeContext.receiver\r\n            : this.homeContext.receiver || this.receiver;\r\n};\r\n\r\n// Process sound primitives (interpolated)\r\n\r\nProcess.prototype.doPlaySoundUntilDone = function (name) {\r\n    var sprite = this.blockReceiver();\r\n    if (this.context.activeAudio === null) {\r\n        this.context.activeAudio = sprite.playSound(name);\r\n    }\r\n    if (this.context.activeAudio.ended\r\n            || this.context.activeAudio.terminated) {\r\n        return null;\r\n    }\r\n    this.pushContext('doYield');\r\n    this.pushContext();\r\n};\r\n\r\nProcess.prototype.doStopAllSounds = function () {\r\n    var stage = this.homeContext.receiver.parentThatIsA(StageMorph);\r\n    if (stage) {\r\n        stage.threads.processes.forEach(function (thread) {\r\n            if (thread.context) {\r\n                thread.context.stopMusic();\r\n                if (thread.context.activeAudio) {\r\n                    thread.popContext();\r\n                }\r\n            }\r\n        });\r\n        stage.stopAllActiveSounds();\r\n    }\r\n};\r\n\r\n// Process user prompting primitives (interpolated)\r\n\r\nProcess.prototype.doAsk = function (data) {\r\n    var stage = this.homeContext.receiver.parentThatIsA(StageMorph),\r\n        rcvr = this.blockReceiver(),\r\n        isStage = rcvr instanceof StageMorph,\r\n        isHiddenSprite = rcvr instanceof SpriteMorph && !rcvr.isVisible,\r\n        activePrompter;\r\n\r\n    stage.keysPressed = {};\r\n    if (!this.prompter) {\r\n        activePrompter = detect(\r\n            stage.children,\r\n            function (morph) {return morph instanceof StagePrompterMorph; }\r\n        );\r\n        if (!activePrompter) {\r\n            if (!isStage && !isHiddenSprite) {\r\n                rcvr.bubble(data, false, true);\r\n            }\r\n            this.prompter = new StagePrompterMorph(\r\n                isStage || isHiddenSprite ? data : null\r\n            );\r\n            if (stage.scale < 1) {\r\n                this.prompter.setWidth(stage.width() - 10);\r\n            } else {\r\n                this.prompter.setWidth(stage.dimensions.x - 20);\r\n            }\r\n            this.prompter.fixLayout();\r\n            this.prompter.setCenter(stage.center());\r\n            this.prompter.setBottom(stage.bottom() - this.prompter.border);\r\n            stage.add(this.prompter);\r\n            this.prompter.inputField.edit();\r\n            stage.changed();\r\n        }\r\n    } else {\r\n        if (this.prompter.isDone) {\r\n            stage.lastAnswer = this.prompter.inputField.getValue();\r\n            this.prompter.destroy();\r\n            this.prompter = null;\r\n            if (!isStage) {rcvr.stopTalking(); }\r\n            return null;\r\n        }\r\n    }\r\n    this.pushContext('doYield');\r\n    this.pushContext();\r\n};\r\n\r\nProcess.prototype.reportLastAnswer = function () {\r\n    return this.homeContext.receiver.parentThatIsA(StageMorph).lastAnswer;\r\n};\r\n\r\n// Process URI retrieval (interpolated)\r\n\r\nProcess.prototype.reportURL = function (url) {\r\n    var response;\r\n    if (!this.httpRequest) {\r\n        // use the location protocol unless the user specifies otherwise\r\n        if (url.indexOf('//') < 0 || url.indexOf('//') > 8) {\r\n            if (location.protocol === 'file:') {\r\n                // allow requests from locally loaded sources\r\n                url = 'https://' + url;\r\n            } else {\r\n                url = location.protocol + '//' + url;\r\n            }\r\n        }\r\n        this.httpRequest = new XMLHttpRequest();\r\n        this.httpRequest.open(\"GET\", url, true);\r\n        this.httpRequest.send(null);\r\n    } else if (this.httpRequest.readyState === 4) {\r\n        response = this.httpRequest.responseText;\r\n        this.httpRequest = null;\r\n        return response;\r\n    }\r\n    this.pushContext('doYield');\r\n    this.pushContext();\r\n};\r\n\r\n// Process event messages primitives\r\n\r\nProcess.prototype.doBroadcast = function (message) {\r\n    // messages are user-defined events, and by default global, same as in\r\n    // Scratch. An experimental feature, messages can be sent to a single\r\n    // sprite or to a list of sprites by using a 2-item list in the message\r\n    // slot, where the first slot is a message text, and the second slot\r\n    // its recipient(s), identified either by a single name or sprite, or by\r\n    // a list of names or sprites (can be a heterogeneous list).\r\n\r\n    var stage = this.homeContext.receiver.parentThatIsA(StageMorph),\r\n        thisObj,\r\n        msg = message,\r\n        trg,\r\n        rcvrs,\r\n        myself = this,\r\n        procs = [];\r\n\r\n    if (message instanceof List && (message.length() === 2)) {\r\n        thisObj = this.blockReceiver();\r\n        msg = message.at(1);\r\n        trg = message.at(2);\r\n        if (isSnapObject(trg)) {\r\n            rcvrs = [trg];\r\n        } else if (isString(trg)) {\r\n            // assume the string to be the name of a sprite or the stage\r\n            if (trg === stage.name) {\r\n                rcvrs = [stage];\r\n            } else {\r\n                rcvrs = [this.getOtherObject(trg, thisObj, stage)];\r\n            }\r\n        } else if (trg instanceof List) {\r\n            // assume all elements to be sprites or sprite names\r\n            rcvrs = trg.itemsArray().map(function (each) {\r\n                return myself.getOtherObject(each, thisObj, stage);\r\n            });\r\n        } else {\r\n            return; // abort\r\n        }\r\n    } else { // global\r\n        rcvrs = stage.children.concat(stage);\r\n    }\r\n    if (msg !== '') {\r\n        stage.lastMessage = message; // the actual data structure\r\n        rcvrs.forEach(function (morph) {\r\n            if (isSnapObject(morph)) {\r\n                morph.allHatBlocksFor(msg).forEach(function (block) {\r\n                    procs.push(stage.threads.startProcess(\r\n                        block,\r\n                        morph,\r\n                        stage.isThreadSafe\r\n                    ));\r\n                });\r\n            }\r\n        });\r\n    }\r\n    return procs;\r\n};\r\n\r\nProcess.prototype.doBroadcastAndWait = function (message) {\r\n    if (!this.context.activeSends) {\r\n        this.context.activeSends = this.doBroadcast(message);\r\n    }\r\n    this.context.activeSends = this.context.activeSends.filter(\r\n        function (proc) {\r\n            return proc.isRunning();\r\n        }\r\n    );\r\n    if (this.context.activeSends.length === 0) {\r\n        return null;\r\n    }\r\n    this.pushContext('doYield');\r\n    this.pushContext();\r\n};\r\n\r\nProcess.prototype.getLastMessage = function () {\r\n    var stage;\r\n    if (this.homeContext.receiver) {\r\n        stage = this.homeContext.receiver.parentThatIsA(StageMorph);\r\n        if (stage) {\r\n            return stage.getLastMessage();\r\n        }\r\n    }\r\n    return '';\r\n};\r\n\r\n// Process type inference\r\n\r\nProcess.prototype.reportIsA = function (thing, typeString) {\r\n    return this.reportTypeOf(thing) === this.inputOption(typeString);\r\n};\r\n\r\nProcess.prototype.assertType = function (thing, typeString) {\r\n    // make sure \"thing\" is a particular type or any of a number of types\r\n    // and raise an error if not\r\n    // use responsibly wrt performance implications\r\n    var thingType = this.reportTypeOf(thing);\r\n    if (thingType === typeString) {return true; }\r\n    if (typeString instanceof Array && contains(typeString, thingType)) {\r\n        return true;\r\n    }\r\n    throw new Error('expecting ' + typeString + ' but getting ' + thingType);\r\n};\r\n\r\nProcess.prototype.assertAlive = function (thing) {\r\n    if (thing && thing.isCorpse) {\r\n        throw new Error('cannot operate on a deleted sprite');\r\n    }\r\n};\r\n\r\nProcess.prototype.reportTypeOf = function (thing) {\r\n    // answer a string denoting the argument's type\r\n    var exp;\r\n    if (thing === null || (thing === undefined)) {\r\n        return 'nothing';\r\n    }\r\n    if (thing === true || (thing === false)) {\r\n        return 'Boolean';\r\n    }\r\n    if (!isNaN(+thing)) {\r\n        return 'number';\r\n    }\r\n    if (isString(thing)) {\r\n        return 'text';\r\n    }\r\n    if (thing instanceof List) {\r\n        return 'list';\r\n    }\r\n    if (thing instanceof SpriteMorph) {\r\n        return 'sprite';\r\n    }\r\n    if (thing instanceof StageMorph) {\r\n        return 'stage';\r\n    }\r\n    if (thing instanceof Costume) {\r\n        return 'costume';\r\n    }\r\n    if (thing instanceof Sound) {\r\n        return 'sound';\r\n    }\r\n    if (thing instanceof Context) {\r\n        if (thing.expression instanceof RingMorph) {\r\n            return thing.expression.dataType();\r\n        }\r\n        if (thing.expression instanceof ReporterBlockMorph) {\r\n            if (thing.expression.isPredicate) {\r\n                return 'predicate';\r\n            }\r\n            return 'reporter';\r\n        }\r\n\r\n        if (thing.expression instanceof Array) {\r\n            exp = thing.expression[thing.pc || 0];\r\n            if (exp.isPredicate) {\r\n                return 'predicate';\r\n            }\r\n            if (exp instanceof RingMorph) {\r\n                return exp.dataType();\r\n            }\r\n            if (exp instanceof ReporterBlockMorph) {\r\n                return 'reporter';\r\n            }\r\n            if (exp instanceof CommandBlockMorph) {\r\n                return 'command';\r\n            }\r\n            return 'reporter'; // 'ring';\r\n        }\r\n\r\n        if (thing.expression instanceof CommandBlockMorph) {\r\n            return 'command';\r\n        }\r\n        return 'reporter'; // 'ring';\r\n    }\r\n    return 'undefined';\r\n};\r\n\r\n// Process math primtives\r\n\r\nProcess.prototype.reportSum = function (a, b) {\r\n    return +a + (+b);\r\n};\r\n\r\nProcess.prototype.reportDifference = function (a, b) {\r\n    return +a - +b;\r\n};\r\n\r\nProcess.prototype.reportProduct = function (a, b) {\r\n    return +a * +b;\r\n};\r\n\r\nProcess.prototype.reportQuotient = function (a, b) {\r\n    return +a / +b;\r\n};\r\n\r\nProcess.prototype.reportModulus = function (a, b) {\r\n    var x = +a,\r\n        y = +b;\r\n    return ((x % y) + y) % y;\r\n};\r\n\r\nProcess.prototype.reportRandom = function (min, max) {\r\n    var floor = +min,\r\n        ceil = +max;\r\n    if ((floor % 1 !== 0) || (ceil % 1 !== 0)) {\r\n        return Math.random() * (ceil - floor) + floor;\r\n    }\r\n    return Math.floor(Math.random() * (ceil - floor + 1)) + floor;\r\n};\r\n\r\nProcess.prototype.reportLessThan = function (a, b) {\r\n    var x = +a,\r\n        y = +b;\r\n    if (isNaN(x) || isNaN(y)) {\r\n        x = a;\r\n        y = b;\r\n    }\r\n    return x < y;\r\n};\r\n\r\nProcess.prototype.reportNot = function (bool) {\r\n    return !bool;\r\n};\r\n\r\nProcess.prototype.reportGreaterThan = function (a, b) {\r\n    var x = +a,\r\n        y = +b;\r\n    if (isNaN(x) || isNaN(y)) {\r\n        x = a;\r\n        y = b;\r\n    }\r\n    return x > y;\r\n};\r\n\r\nProcess.prototype.reportEquals = function (a, b) {\r\n    return snapEquals(a, b);\r\n};\r\n\r\nProcess.prototype.reportIsIdentical = function (a, b) {\r\n    var tag = 'idTag';\r\n    if (this.isImmutable(a) || this.isImmutable(b)) {\r\n        return snapEquals(a, b);\r\n    }\r\n\r\n    function clear() {\r\n        if (Object.prototype.hasOwnProperty.call(a, tag)) {\r\n            delete a[tag];\r\n        }\r\n        if (Object.prototype.hasOwnProperty.call(b, tag)) {\r\n            delete b[tag];\r\n        }\r\n    }\r\n\r\n    clear();\r\n    a[tag] = Date.now();\r\n    if (b[tag] === a[tag]) {\r\n        clear();\r\n        return true;\r\n    }\r\n    clear();\r\n    return false;\r\n};\r\n\r\nProcess.prototype.isImmutable = function (obj) {\r\n    // private\r\n    var type = this.reportTypeOf(obj);\r\n    return type === 'nothing' ||\r\n        type === 'Boolean' ||\r\n        type === 'text' ||\r\n        type === 'number' ||\r\n        type === 'undefined';\r\n};\r\n\r\nProcess.prototype.reportBoolean = function (bool) {\r\n    return bool;\r\n};\r\n\r\nProcess.prototype.reportRound = function (n) {\r\n    return Math.round(+n);\r\n};\r\n\r\nProcess.prototype.reportMonadic = function (fname, n) {\r\n    var x = +n,\r\n        result = 0;\r\n\r\n    switch (this.inputOption(fname)) {\r\n    case 'abs':\r\n        result = Math.abs(x);\r\n        break;\r\n    case 'ceiling':\r\n        result = Math.ceil(x);\r\n        break;\r\n    case 'floor':\r\n        result = Math.floor(x);\r\n        break;\r\n    case 'sqrt':\r\n        result = Math.sqrt(x);\r\n        break;\r\n    case 'sin':\r\n        result = Math.sin(radians(x));\r\n        break;\r\n    case 'cos':\r\n        result = Math.cos(radians(x));\r\n        break;\r\n    case 'tan':\r\n        result = Math.tan(radians(x));\r\n        break;\r\n    case 'asin':\r\n        result = degrees(Math.asin(x));\r\n        break;\r\n    case 'acos':\r\n        result = degrees(Math.acos(x));\r\n        break;\r\n    case 'atan':\r\n        result = degrees(Math.atan(x));\r\n        break;\r\n    case 'ln':\r\n        result = Math.log(x);\r\n        break;\r\n    case 'log': // base 10\r\n        result =  Math.log(x) / Math.LN10;\r\n        break;\r\n    case 'e^':\r\n        result = Math.exp(x);\r\n        break;\r\n    case '10^':\r\n        result = Math.pow(10, x);\r\n        break;\r\n    default:\r\n        nop();\r\n    }\r\n    return result;\r\n};\r\n\r\nProcess.prototype.reportTextFunction = function (fname, string) {\r\n    var x = (isNil(string) ? '' : string).toString(),\r\n        result = '';\r\n\r\n    switch (this.inputOption(fname)) {\r\n    case 'encode URI':\r\n        result = encodeURI(x);\r\n        break;\r\n    case 'decode URI':\r\n        result = decodeURI(x);\r\n        break;\r\n    case 'encode URI component':\r\n        result = encodeURIComponent(x);\r\n        break;\r\n    case 'decode URI component':\r\n        result = decodeURIComponent(x);\r\n        break;\r\n    case 'XML escape':\r\n        result = new XML_Element().escape(x);\r\n        break;\r\n    case 'XML unescape':\r\n        result = new XML_Element().unescape(x);\r\n        break;\r\n    case 'hex sha512 hash':\r\n        result = hex_sha512(x);\r\n        break;\r\n    default:\r\n        nop();\r\n    }\r\n    return result;\r\n};\r\n\r\nProcess.prototype.reportJoin = function (a, b) {\r\n    var x = (isNil(a) ? '' : a).toString(),\r\n        y = (isNil(b) ? '' : b).toString();\r\n    return x.concat(y);\r\n};\r\n\r\nProcess.prototype.reportJoinWords = function (aList) {\r\n    if (aList instanceof List) {\r\n        return aList.asText();\r\n    }\r\n    return (aList || '').toString();\r\n};\r\n\r\n// Process string ops\r\n\r\nProcess.prototype.reportLetter = function (idx, string) {\r\n    if (string instanceof List) { // catch a common user error\r\n        return '';\r\n    }\r\n    var i = +(idx || 0),\r\n        str = isNil(string) ? '' : string.toString();\r\n    return str[i - 1] || '';\r\n};\r\n\r\nProcess.prototype.reportStringSize = function (data) {\r\n    if (data instanceof List) { // catch a common user error\r\n        return data.length();\r\n    }\r\n\r\n    return isNil(data) ? 0 : data.toString().length;\r\n};\r\n\r\nProcess.prototype.reportUnicode = function (string) {\r\n    var str = (string || '').toString()[0];\r\n    return str ? str.charCodeAt(0) : 0;\r\n};\r\n\r\nProcess.prototype.reportUnicodeAsLetter = function (num) {\r\n    var code = +(num || 0);\r\n    return String.fromCharCode(code);\r\n};\r\n\r\nProcess.prototype.reportTextSplit = function (string, delimiter) {\r\n    var types = ['text', 'number'],\r\n        strType = this.reportTypeOf(string),\r\n        delType = this.reportTypeOf(this.inputOption(delimiter)),\r\n        str,\r\n        del;\r\n    if (!contains(types, strType)) {\r\n        throw new Error('expecting text instead of a ' + strType);\r\n    }\r\n    if (!contains(types, delType)) {\r\n        throw new Error('expecting a text delimiter instead of a ' + delType);\r\n    }\r\n    str = isNil(string) ? '' : string.toString();\r\n    switch (this.inputOption(delimiter)) {\r\n    case 'line':\r\n        // Unicode compliant line splitting (platform independent)\r\n        // http://www.unicode.org/reports/tr18/#Line_Boundaries\r\n        del = /\\r\\n|[\\n\\v\\f\\r\\x85\\u2028\\u2029]/;\r\n        break;\r\n    case 'tab':\r\n        del = '\\t';\r\n        break;\r\n    case 'cr':\r\n        del = '\\r';\r\n        break;\r\n    case 'whitespace':\r\n        str = str.trim();\r\n        del = /\\s+/;\r\n        break;\r\n    case 'letter':\r\n        del = '';\r\n        break;\r\n    case 'csv':\r\n        return this.parseCSV(string);\r\n    default:\r\n        del = isNil(delimiter) ? '' : delimiter.toString();\r\n    }\r\n    return new List(str.split(del));\r\n};\r\n\r\nProcess.prototype.parseCSV = function (string) {\r\n    // parse a single row of CSV data into a one-dimensional list\r\n    // this assumes that the whole csv data has already been split\r\n    // by lines.\r\n    // taken from:\r\n    // https://stackoverflow.com/questions/8493195/how-can-i-parse-a-csv-string-with-javascript-which-contains-comma-in-data\r\n\r\n    var re_valid = /^\\s*(?:'[^'\\\\]*(?:\\\\[\\S\\s][^'\\\\]*)*'|\"[^\"\\\\]*(?:\\\\[\\S\\s][^\"\\\\]*)*\"|[^,'\"\\s\\\\]*(?:\\s+[^,'\"\\s\\\\]+)*)\\s*(?:,\\s*(?:'[^'\\\\]*(?:\\\\[\\S\\s][^'\\\\]*)*'|\"[^\"\\\\]*(?:\\\\[\\S\\s][^\"\\\\]*)*\"|[^,'\"\\s\\\\]*(?:\\s+[^,'\"\\s\\\\]+)*)\\s*)*$/,\r\n        re_value = /(?!\\s*$)\\s*(?:'([^'\\\\]*(?:\\\\[\\S\\s][^'\\\\]*)*)'|\"([^\"\\\\]*(?:\\\\[\\S\\s][^\"\\\\]*)*)\"|([^,'\"\\s\\\\]*(?:\\s+[^,'\"\\s\\\\]+)*))\\s*(?:,|$)/g,\r\n        a = [];\r\n\r\n    if (!re_valid.test(string)) {\r\n        return new List();\r\n    }\r\n    string.replace(\r\n        re_value,\r\n        function(m0, m1, m2, m3) {\r\n            if (m1 !== undefined) {\r\n                // remove backslash from \\' in single quoted values.\r\n                a.push(m1.replace(/\\\\'/g, \"'\"));\r\n            } else if (m2 !== undefined) {\r\n                // remove backslash from \\\" in double quoted values.\r\n                a.push(m2.replace(/\\\\\"/g, '\"'));\r\n            } else if (m3 !== undefined) {\r\n                a.push(m3);\r\n            }\r\n            return '';\r\n        }\r\n    );\r\n    // special case: empty last value.\r\n    if (/,\\s*$/.test(string)) {\r\n        a.push('');\r\n    }\r\n    return new List(a);\r\n};\r\n\r\n// Process debugging\r\n\r\nProcess.prototype.alert = function (data) {\r\n    // debugging primitives only work in dev mode, otherwise they're nop\r\n    var world;\r\n    if (this.homeContext.receiver) {\r\n        world = this.homeContext.receiver.world();\r\n        if (world.isDevMode) {\r\n            alert('Snap! ' + data.asArray());\r\n        }\r\n    }\r\n};\r\n\r\nProcess.prototype.log = function (data) {\r\n    // debugging primitives only work in dev mode, otherwise they're nop\r\n    var world;\r\n    if (this.homeContext.receiver) {\r\n        world = this.homeContext.receiver.world();\r\n        if (world.isDevMode) {\r\n           // console.log('Snap! ' + data.asArray());\r\n        }\r\n    }\r\n};\r\n\r\n// Process motion primitives\r\n\r\nProcess.prototype.getOtherObject = function (name, thisObj, stageObj) {\r\n    // private, find the sprite indicated by the given name\r\n    // either onstage or in the World's hand\r\n\r\n    // experimental: deal with first-class sprites\r\n    if (isSnapObject(name)) {\r\n        return name;\r\n    }\r\n\r\n    var stage = isNil(stageObj) ?\r\n                thisObj.parentThatIsA(StageMorph) : stageObj,\r\n        thatObj = null;\r\n\r\n    if (stage) {\r\n        // find the corresponding sprite on the stage\r\n        thatObj = detect(\r\n            stage.children,\r\n            function (morph) {return morph.name === name; }\r\n        );\r\n        if (!thatObj) {\r\n            // check if the sprite in question is currently being\r\n            // dragged around\r\n            thatObj = detect(\r\n                stage.world().hand.children,\r\n                function (morph) {\r\n                    return morph instanceof SpriteMorph\r\n                        && morph.name === name;\r\n                }\r\n            );\r\n        }\r\n    }\r\n    return thatObj;\r\n};\r\n\r\nProcess.prototype.getObjectsNamed = function (name, thisObj, stageObj) {\r\n    // private, find all sprites and their clones indicated\r\n    // by the given name either onstage or in the World's hand\r\n\r\n    var stage = isNil(stageObj) ?\r\n                thisObj.parentThatIsA(StageMorph) : stageObj,\r\n        those = [];\r\n\r\n    function check(obj) {\r\n        return obj instanceof SpriteMorph && obj.isTemporary ?\r\n                obj.cloneOriginName === name : obj.name === name;\r\n    }\r\n\r\n    if (stage) {\r\n        // find the corresponding sprite on the stage\r\n        those = stage.children.filter(check);\r\n        if (!those.length) {\r\n            // check if a sprite in question is currently being\r\n            // dragged around\r\n            those = stage.world().hand.children.filter(check);\r\n        }\r\n    }\r\n    return those;\r\n};\r\n\r\nProcess.prototype.doFaceTowards = function (name) {\r\n    var thisObj = this.blockReceiver(),\r\n        thatObj;\r\n\r\n    if (thisObj) {\r\n        if (this.inputOption(name) === 'mouse-pointer') {\r\n            thisObj.faceToXY(this.reportMouseX(), this.reportMouseY());\r\n        } else {\r\n            if (name instanceof List) {\r\n                thisObj.faceToXY(\r\n                    name.at(1),\r\n                    name.at(2)\r\n                );\r\n                return;\r\n            }\r\n            thatObj = this.getOtherObject(name, this.homeContext.receiver);\r\n            if (thatObj) {\r\n                thisObj.faceToXY(\r\n                    thatObj.xPosition(),\r\n                    thatObj.yPosition()\r\n                );\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nProcess.prototype.doGotoObject = function (name) {\r\n    var thisObj = this.blockReceiver(),\r\n        thatObj;\r\n\r\n    if (thisObj) {\r\n        if (this.inputOption(name) === 'mouse-pointer') {\r\n            thisObj.gotoXY(this.reportMouseX(), this.reportMouseY());\r\n        } else {\r\n            if (name instanceof List) {\r\n                thisObj.gotoXY(\r\n                    name.at(1),\r\n                    name.at(2)\r\n                );\r\n                return;\r\n            }\r\n            thatObj = this.getOtherObject(name, this.homeContext.receiver);\r\n            if (thatObj) {\r\n                thisObj.gotoXY(\r\n                    thatObj.xPosition(),\r\n                    thatObj.yPosition()\r\n                );\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\n// Process temporary cloning (Scratch-style)\r\n\r\nProcess.prototype.createClone = function (name) {\r\n    var thisObj = this.blockReceiver(),\r\n        thatObj;\r\n\r\n    if (!name) {return; }\r\n    if (thisObj) {\r\n        if (this.inputOption(name) === 'myself') {\r\n            thisObj.createClone(!this.isFirstStep);\r\n        } else {\r\n            thatObj = this.getOtherObject(name, thisObj);\r\n            if (thatObj) {\r\n                thatObj.createClone(!this.isFirstStep);\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nProcess.prototype.newClone = function (name) {\r\n    var thisObj = this.blockReceiver(),\r\n        thatObj;\r\n\r\n    if (!name) {return; }\r\n    if (thisObj) {\r\n        if (this.inputOption(name) === 'myself') {\r\n            return thisObj.newClone(!this.isFirstStep);\r\n        }\r\n        thatObj = this.getOtherObject(name, thisObj);\r\n        if (thatObj) {\r\n            return thatObj.newClone(!this.isFirstStep);\r\n        }\r\n    }\r\n};\r\n\r\n// Process sensing primitives\r\n\r\nProcess.prototype.reportTouchingObject = function (name) {\r\n    var thisObj = this.blockReceiver();\r\n\r\n    if (thisObj) {\r\n        return this.objectTouchingObject(thisObj, name);\r\n    }\r\n    return false;\r\n};\r\n\r\nProcess.prototype.objectTouchingObject = function (thisObj, name) {\r\n    // helper function for reportTouchingObject()\r\n    // also check for temparary clones, as in Scratch 2.0,\r\n    // and for any parts (subsprites)\r\n    var myself = this,\r\n        those,\r\n        stage,\r\n        box,\r\n        mouse;\r\n\r\n    if (this.inputOption(name) === 'mouse-pointer') {\r\n        mouse = thisObj.world().hand.position();\r\n        if (thisObj.bounds.containsPoint(mouse) &&\r\n                !thisObj.isTransparentAt(mouse)) {\r\n            return true;\r\n        }\r\n    } else {\r\n        stage = thisObj.parentThatIsA(StageMorph);\r\n\r\n        if (stage) {\r\n            if (this.inputOption(name) === 'edge') {\r\n                box = thisObj.bounds;\r\n                if (!thisObj.costume && thisObj.penBounds) {\r\n                    box = thisObj.penBounds.translateBy(thisObj.position());\r\n                }\r\n                if (!stage.bounds.containsRectangle(box)) {\r\n                    return true;\r\n                }\r\n            }\r\n            if (this.inputOption(name) === 'pen trails' &&\r\n                    thisObj.isTouching(stage.penTrailsMorph())) {\r\n                return true;\r\n            }\r\n            if (isSnapObject(name)) {\r\n                return thisObj.isTouching(name);\r\n            }\r\n            if (name instanceof List) { // assume all elements to be sprites\r\n                those = name.itemsArray();\r\n            } else {\r\n                those = this.getObjectsNamed(name, thisObj, stage); // clones\r\n            }\r\n            if (those.some(function (any) {\r\n                    return thisObj.isTouching(any);\r\n                })) {\r\n                return true;\r\n            }\r\n        }\r\n    }\r\n    return thisObj.parts.some(\r\n        function (any) {\r\n            return myself.objectTouchingObject(any, name);\r\n        }\r\n    );\r\n};\r\n\r\nProcess.prototype.reportTouchingColor = function (aColor) {\r\n    // also check for any parts (subsprites)\r\n    var thisObj = this.blockReceiver(),\r\n        stage;\r\n\r\n    if (thisObj) {\r\n        stage = thisObj.parentThatIsA(StageMorph);\r\n        if (stage) {\r\n            if (thisObj.isTouching(stage.colorFiltered(aColor, thisObj))) {\r\n                return true;\r\n            }\r\n            return thisObj.parts.some(\r\n                function (any) {\r\n                    return any.isTouching(stage.colorFiltered(aColor, any));\r\n                }\r\n            );\r\n        }\r\n    }\r\n    return false;\r\n};\r\n\r\nProcess.prototype.reportColorIsTouchingColor = function (color1, color2) {\r\n    // also check for any parts (subsprites)\r\n    var thisObj = this.blockReceiver(),\r\n        stage;\r\n\r\n    if (thisObj) {\r\n        stage = thisObj.parentThatIsA(StageMorph);\r\n        if (stage) {\r\n            if (thisObj.colorFiltered(color1).isTouching(\r\n                    stage.colorFiltered(color2, thisObj)\r\n                )) {\r\n                return true;\r\n            }\r\n            return thisObj.parts.some(\r\n                function (any) {\r\n                    return any.colorFiltered(color1).isTouching(\r\n                        stage.colorFiltered(color2, any)\r\n                    );\r\n                }\r\n            );\r\n        }\r\n    }\r\n    return false;\r\n};\r\n\r\nProcess.prototype.reportDistanceTo = function (name) {\r\n    var thisObj = this.blockReceiver(),\r\n        thatObj,\r\n        stage,\r\n        rc,\r\n        point;\r\n\r\n    if (thisObj) {\r\n        rc = thisObj.rotationCenter();\r\n        point = rc;\r\n        if (this.inputOption(name) === 'mouse-pointer') {\r\n            point = thisObj.world().hand.position();\r\n        } else if (name instanceof List) {\r\n            return new Point(thisObj.xPosition(), thisObj.yPosition())\r\n                .distanceTo(new Point(name.at(1), name.at(2)));\r\n        }\r\n        stage = thisObj.parentThatIsA(StageMorph);\r\n        thatObj = this.getOtherObject(name, thisObj, stage);\r\n        if (thatObj) {\r\n            point = thatObj.rotationCenter();\r\n        }\r\n        return rc.distanceTo(point) / stage.scale;\r\n    }\r\n    return 0;\r\n};\r\n\r\nProcess.prototype.reportAttributeOf = function (attribute, name) {\r\n    var thisObj = this.blockReceiver(),\r\n        thatObj,\r\n        stage;\r\n\r\n    if (thisObj) {\r\n        this.assertAlive(thisObj);\r\n        stage = thisObj.parentThatIsA(StageMorph);\r\n        if (stage.name === name) {\r\n            thatObj = stage;\r\n        } else {\r\n            thatObj = this.getOtherObject(name, thisObj, stage);\r\n        }\r\n        if (thatObj) {\r\n            this.assertAlive(thatObj);\r\n            if (attribute instanceof Context) {\r\n                return this.reportContextFor(attribute, thatObj);\r\n            }\r\n            if (isString(attribute)) {\r\n                return thatObj.variables.getVar(attribute);\r\n            }\r\n            switch (this.inputOption(attribute)) {\r\n            case 'x position':\r\n                return thatObj.xPosition ? thatObj.xPosition() : '';\r\n            case 'y position':\r\n                return thatObj.yPosition ? thatObj.yPosition() : '';\r\n            case 'direction':\r\n                return thatObj.direction ? thatObj.direction() : '';\r\n            case 'costume #':\r\n                return thatObj.getCostumeIdx();\r\n            case 'costume name':\r\n                return thatObj.costume ? thatObj.costume.name\r\n                        : thatObj instanceof SpriteMorph ? localize('Turtle')\r\n                                : localize('Empty');\r\n            case 'size':\r\n                return thatObj.getScale ? thatObj.getScale() : '';\r\n            }\r\n        }\r\n    }\r\n    return '';\r\n};\r\n\r\nProcess.prototype.reportGet = function (query) {\r\n    // experimental, answer a reference to a first-class member\r\n    // or a list of first-class members\r\n    var thisObj = this.blockReceiver(),\r\n        neighborhood,\r\n        stage,\r\n        objName;\r\n\r\n    if (thisObj) {\r\n        switch (this.inputOption(query)) {\r\n        case 'self' :\r\n            return thisObj;\r\n        case 'other sprites':\r\n            stage = thisObj.parentThatIsA(StageMorph);\r\n            return new List(\r\n                stage.children.filter(function (each) {\r\n                    return each instanceof SpriteMorph &&\r\n                        each !== thisObj;\r\n                })\r\n            );\r\n        case 'parts':\r\n            return new List(thisObj.parts || []);\r\n        case 'anchor':\r\n            return thisObj.anchor || '';\r\n        case 'parent':\r\n            return thisObj.exemplar || '';\r\n        case 'children':\r\n            return new List(thisObj.specimens ? thisObj.specimens() : []);\r\n        case 'temporary?':\r\n            return thisObj.isTemporary || false;\r\n        case 'clones':\r\n            stage = thisObj.parentThatIsA(StageMorph);\r\n            objName = thisObj.name || thisObj.cloneOriginName;\r\n            return new List(\r\n                stage.children.filter(function (each) {\r\n                    return each.isTemporary &&\r\n                        (each !== thisObj) &&\r\n                        (each.cloneOriginName === objName);\r\n                })\r\n            );\r\n        case 'other clones':\r\n            return thisObj.isTemporary ?\r\n                    this.reportGet(['clones']) : new List();\r\n        case 'neighbors':\r\n            stage = thisObj.parentThatIsA(StageMorph);\r\n            neighborhood = thisObj.bounds.expandBy(new Point(\r\n                thisObj.width(),\r\n                thisObj.height()\r\n            ));\r\n            return new List(\r\n                stage.children.filter(function (each) {\r\n                    return each instanceof SpriteMorph &&\r\n                        (each !== thisObj) &&\r\n                        each.bounds.intersects(neighborhood);\r\n                })\r\n            );\r\n        case 'dangling?':\r\n            return !thisObj.rotatesWithAnchor;\r\n        case 'rotation x':\r\n            return thisObj.xPosition();\r\n        case 'rotation y':\r\n            return thisObj.yPosition();\r\n        case 'center x':\r\n            return thisObj.xCenter();\r\n        case 'center y':\r\n            return thisObj.yCenter();\r\n        case 'name':\r\n            return thisObj.name;\r\n        case 'stage':\r\n            return thisObj.parentThatIsA(StageMorph);\r\n        case 'costumes':\r\n            return thisObj.reportCostumes();\r\n        case 'sounds':\r\n            return thisObj.sounds;\r\n        }\r\n    }\r\n    return '';\r\n};\r\n\r\nProcess.prototype.doSet = function (attribute, value) {\r\n    // experimental, manipulate sprites' attributes\r\n    var name, rcvr;\r\n    if (!(attribute instanceof Context)) {\r\n        return;\r\n    }\r\n    rcvr = this.blockReceiver();\r\n    this.assertAlive(rcvr);\r\n    if (!(attribute instanceof Context) ||\r\n            attribute.expression.selector !== 'reportGet') {\r\n        throw new Error(localize('unsupported attribute'));\r\n    }\r\n    name = attribute.expression.inputs()[0].evaluate();\r\n    if (name instanceof Array) {\r\n        name = name[0];\r\n    }\r\n    switch (name) {\r\n    case 'anchor':\r\n        this.assertType(rcvr, 'sprite');\r\n        if (value instanceof SpriteMorph) {\r\n            // avoid circularity here, because the GUI already checks for\r\n            // conflicts while the user drags parts over prospective targets\r\n            if (!rcvr.enableNesting || contains(rcvr.allParts(), value)) {\r\n                throw new Error(\r\n                    localize('unable to nest\\n(disabled or circular?)')\r\n                );\r\n            }\r\n            value.attachPart(rcvr);\r\n        } else {\r\n            rcvr.detachFromAnchor();\r\n        }\r\n        break;\r\n    case 'parent':\r\n        this.assertType(rcvr, 'sprite');\r\n        value = value instanceof SpriteMorph ? value : null;\r\n        // needed: circularity avoidance\r\n        rcvr.setExemplar(value);\r\n        break;\r\n    case 'temporary?':\r\n        this.assertType(rcvr, 'sprite');\r\n        this.assertType(value, 'Boolean');\r\n        if (rcvr.world().isDevMode) {\r\n            if (value) {\r\n                rcvr.release();\r\n            } else {\r\n                rcvr.perpetuate();\r\n            }\r\n        }\r\n        break;\r\n    case 'dangling?':\r\n        this.assertType(rcvr, 'sprite');\r\n        this.assertType(value, 'Boolean');\r\n        rcvr.rotatesWithAnchor = !value;\r\n        rcvr.version = Date.now();\r\n        break;\r\n    case 'rotation x':\r\n        this.assertType(rcvr, 'sprite');\r\n        this.assertType(value, 'number');\r\n        rcvr.setRotationX(value);\r\n        break;\r\n    case 'rotation y':\r\n        this.assertType(rcvr, 'sprite');\r\n        this.assertType(value, 'number');\r\n        rcvr.setRotationY(value);\r\n        break;\r\n    default:\r\n        throw new Error(\r\n            '\"' + localize(name) + '\" ' + localize('is read-only')\r\n        );\r\n    }\r\n};\r\n\r\nProcess.prototype.reportContextFor = function (context, otherObj) {\r\n    // Private - return a copy of the context\r\n    // and bind it to another receiver\r\n    var result = copy(context);\r\n    result.receiver = otherObj;\r\n    if (result.outerContext) {\r\n        result.outerContext = copy(result.outerContext);\r\n        result.outerContext.variables = copy(result.outerContext.variables);\r\n        result.outerContext.receiver = otherObj;\r\n        result.outerContext.variables.parentFrame = otherObj.variables;\r\n    }\r\n    return result;\r\n};\r\n\r\nProcess.prototype.reportMouseX = function () {\r\n    var stage, world;\r\n    if (this.homeContext.receiver) {\r\n        stage = this.homeContext.receiver.parentThatIsA(StageMorph);\r\n        if (stage) {\r\n            world = stage.world();\r\n            if (world) {\r\n                return (world.hand.position().x - stage.center().x)\r\n                    / stage.scale;\r\n            }\r\n        }\r\n    }\r\n    return 0;\r\n};\r\n\r\nProcess.prototype.reportMouseY = function () {\r\n    var stage, world;\r\n    if (this.homeContext.receiver) {\r\n        stage = this.homeContext.receiver.parentThatIsA(StageMorph);\r\n        if (stage) {\r\n            world = stage.world();\r\n            if (world) {\r\n                return (stage.center().y - world.hand.position().y)\r\n                    / stage.scale;\r\n            }\r\n        }\r\n    }\r\n    return 0;\r\n};\r\n\r\nProcess.prototype.reportMouseDown = function () {\r\n    var world;\r\n    if (this.homeContext.receiver) {\r\n        world = this.homeContext.receiver.world();\r\n        if (world) {\r\n            return world.hand.mouseButton === 'left';\r\n        }\r\n    }\r\n    return false;\r\n};\r\n\r\nProcess.prototype.reportKeyPressed = function (keyString) {\r\n    var stage;\r\n    if (this.homeContext.receiver) {\r\n        stage = this.homeContext.receiver.parentThatIsA(StageMorph);\r\n        if (stage) {\r\n            if (this.inputOption(keyString) === 'any key') {\r\n                return Object.keys(stage.keysPressed).length > 0;\r\n            }\r\n            return stage.keysPressed[keyString] !== undefined;\r\n        }\r\n    }\r\n    return false;\r\n};\r\n\r\nProcess.prototype.doResetTimer = function () {\r\n    var stage;\r\n    if (this.homeContext.receiver) {\r\n        stage = this.homeContext.receiver.parentThatIsA(StageMorph);\r\n        if (stage) {\r\n            stage.resetTimer();\r\n        }\r\n    }\r\n};\r\n\r\nProcess.prototype.reportTimer = function () {\r\n    var stage;\r\n    if (this.homeContext.receiver) {\r\n        stage = this.homeContext.receiver.parentThatIsA(StageMorph);\r\n        if (stage) {\r\n            return stage.getTimer();\r\n        }\r\n    }\r\n    return 0;\r\n};\r\n\r\n// Process Dates and times in Snap\r\nProcess.prototype.reportDate = function (datefn) {\r\n    var currDate, func, result,\r\n        inputFn = this.inputOption(datefn),\r\n        // Map block options to built-in functions\r\n        dateMap = {\r\n            'year' : 'getFullYear',\r\n            'month' : 'getMonth',\r\n            'date': 'getDate',\r\n            'day of week' : 'getDay',\r\n            'hour' : 'getHours',\r\n            'minute' : 'getMinutes',\r\n            'second' : 'getSeconds',\r\n            'time in milliseconds' : 'getTime'\r\n        };\r\n\r\n    if (!dateMap[inputFn]) { return ''; }\r\n    currDate = new Date();\r\n    func = dateMap[inputFn];\r\n    result = currDate[func]();\r\n\r\n    // Show months as 1-12 and days as 1-7\r\n    if (inputFn === 'month' || inputFn === 'day of week') {\r\n        result += 1;\r\n    }\r\n    return result;\r\n};\r\n\r\n// Process code mapping\r\n\r\n/*\r\n    for generating textual source code using\r\n    blocks - not needed to run or debug Snap\r\n*/\r\n\r\nProcess.prototype.doMapCodeOrHeader = function (aContext, anOption, aString) {\r\n    if (this.inputOption(anOption) === 'code') {\r\n        return this.doMapCode(aContext, aString);\r\n    }\r\n    if (this.inputOption(anOption) === 'header') {\r\n        return this.doMapHeader(aContext, aString);\r\n    }\r\n    throw new Error(\r\n        ' \\'' + anOption + '\\'\\nis not a valid option'\r\n    );\r\n};\r\n\r\nProcess.prototype.doMapHeader = function (aContext, aString) {\r\n    if (aContext instanceof Context) {\r\n        if (aContext.expression instanceof SyntaxElementMorph) {\r\n            return aContext.expression.mapHeader(aString || '');\r\n        }\r\n    }\r\n};\r\n\r\nProcess.prototype.doMapCode = function (aContext, aString) {\r\n    if (aContext instanceof Context) {\r\n        if (aContext.expression instanceof SyntaxElementMorph) {\r\n            return aContext.expression.mapCode(aString || '');\r\n        }\r\n    }\r\n};\r\n\r\nProcess.prototype.doMapValueCode = function (type, aString) {\r\n    var tp = this.inputOption(type);\r\n    switch (tp) {\r\n    case 'String':\r\n        StageMorph.prototype.codeMappings.string = aString || '<#1>';\r\n        break;\r\n    case 'Number':\r\n        StageMorph.prototype.codeMappings.number = aString || '<#1>';\r\n        break;\r\n    case 'true':\r\n        StageMorph.prototype.codeMappings.boolTrue = aString || 'true';\r\n        break;\r\n    case 'false':\r\n        StageMorph.prototype.codeMappings.boolFalse = aString || 'true';\r\n        break;\r\n    default:\r\n        throw new Error(\r\n            localize('unsupported data type') + ' ' + tp\r\n        );\r\n    }\r\n\r\n};\r\n\r\nProcess.prototype.doMapListCode = function (part, kind, aString) {\r\n    var key1 = '',\r\n        key2 = 'delim';\r\n\r\n    if (this.inputOption(kind) === 'parameters') {\r\n        key1 = 'parms_';\r\n    } else if (this.inputOption(kind) === 'variables') {\r\n        key1 = 'tempvars_';\r\n    }\r\n\r\n    if (this.inputOption(part) === 'list') {\r\n        key2 = 'list';\r\n    } else if (this.inputOption(part) === 'item') {\r\n        key2 = 'item';\r\n    }\r\n\r\n    StageMorph.prototype.codeMappings[key1 + key2] = aString || '';\r\n};\r\n\r\nProcess.prototype.reportMappedCode = function (aContext) {\r\n    if (aContext instanceof Context) {\r\n        if (aContext.expression instanceof SyntaxElementMorph) {\r\n            return aContext.expression.mappedCode();\r\n        }\r\n    }\r\n    return '';\r\n};\r\n\r\n// Process music primitives\r\n\r\nProcess.prototype.doRest = function (beats) {\r\n    var tempo = this.reportTempo();\r\n    this.doWait(60 / tempo * beats);\r\n};\r\n\r\nProcess.prototype.reportTempo = function () {\r\n    var stage;\r\n    if (this.homeContext.receiver) {\r\n        stage = this.homeContext.receiver.parentThatIsA(StageMorph);\r\n        if (stage) {\r\n            return stage.getTempo();\r\n        }\r\n    }\r\n    return 0;\r\n};\r\n\r\nProcess.prototype.doChangeTempo = function (delta) {\r\n    var stage;\r\n    if (this.homeContext.receiver) {\r\n        stage = this.homeContext.receiver.parentThatIsA(StageMorph);\r\n        if (stage) {\r\n            stage.changeTempo(delta);\r\n        }\r\n    }\r\n};\r\n\r\nProcess.prototype.doSetTempo = function (bpm) {\r\n    var stage;\r\n    if (this.homeContext.receiver) {\r\n        stage = this.homeContext.receiver.parentThatIsA(StageMorph);\r\n        if (stage) {\r\n            stage.setTempo(bpm);\r\n        }\r\n    }\r\n};\r\n\r\nProcess.prototype.doPlayNote = function (pitch, beats) {\r\n    var tempo = this.reportTempo();\r\n    this.doPlayNoteForSecs(\r\n        parseFloat(pitch || '0'),\r\n        60 / tempo * parseFloat(beats || '0')\r\n    );\r\n};\r\n\r\nProcess.prototype.doPlayNoteForSecs = function (pitch, secs) {\r\n    // interpolated\r\n    if (!this.context.startTime) {\r\n        this.context.startTime = Date.now();\r\n        this.context.activeNote = new Note(pitch);\r\n        this.context.activeNote.play(this.instrument);\r\n    }\r\n    if ((Date.now() - this.context.startTime) >= (secs * 1000)) {\r\n        if (this.context.activeNote) {\r\n            this.context.activeNote.stop();\r\n            this.context.activeNote = null;\r\n        }\r\n        return null;\r\n    }\r\n    this.pushContext('doYield');\r\n    this.pushContext();\r\n};\r\n\r\nProcess.prototype.doSetInstrument = function (num) {\r\n    this.instrument = +num;\r\n    this.receiver.instrument = +num;\r\n};\r\n\r\n// Process constant input options\r\n\r\nProcess.prototype.inputOption = function (dta) {\r\n    // private - for localization\r\n    return dta instanceof Array ? dta[0] : dta;\r\n};\r\n\r\n// Process stack\r\n\r\nProcess.prototype.pushContext = function (expression, outerContext) {\r\n    this.context = new Context(\r\n        this.context,\r\n        expression,\r\n        outerContext || (this.context ? this.context.outerContext : null),\r\n            // for tail call elimination\r\n        this.context ? // check needed due to tail call elimination\r\n                this.context.receiver : this.homeContext.receiver\r\n    );\r\n};\r\n\r\nProcess.prototype.popContext = function () {\r\n    if (this.context) {\r\n        this.context.stopMusic();\r\n    }\r\n    this.context = this.context ? this.context.parentContext : null;\r\n};\r\n\r\nProcess.prototype.returnValueToParentContext = function (value) {\r\n    // if no parent context exists treat value as result\r\n    if (value !== undefined) {\r\n        var target = this.context ? // in case of tail call elimination\r\n                this.context.parentContext || this.homeContext\r\n            : this.homeContext;\r\n        target.addInput(value);\r\n    }\r\n};\r\n\r\nProcess.prototype.reportStackSize = function () {\r\n    return this.context ? this.context.stackSize() : 0;\r\n};\r\n\r\nProcess.prototype.reportFrameCount = function () {\r\n    return this.frameCount;\r\n};\r\n\r\n// Process single-stepping\r\n\r\nProcess.prototype.flashContext = function () {\r\n    var expr = this.context.expression;\r\n    if (this.enableSingleStepping &&\r\n            !this.isAtomic &&\r\n            expr instanceof SyntaxElementMorph &&\r\n            !(expr instanceof CommandSlotMorph) &&\r\n            !this.context.isFlashing &&\r\n            expr.world() &&\r\n            !(expr instanceof ColorSlotMorph)) {\r\n        this.unflash();\r\n        expr.flash();\r\n        this.context.isFlashing = true;\r\n        this.flashingContext = this.context;\r\n        if (this.flashTime > 0 && (this.flashTime <= 0.5)) {\r\n            this.pushContext('doIdle');\r\n            this.context.addInput(this.flashTime);\r\n        } else {\r\n            this.pushContext('doInterrupt');\r\n        }\r\n        return true;\r\n    }\r\n    return false;\r\n};\r\n\r\nProcess.prototype.flashPausedContext = function () {\r\n    var flashable = this.context ? this.context.lastFlashable() : null;\r\n    if (flashable) {\r\n        this.unflash();\r\n        flashable.expression.flash();\r\n        flashable.isFlashing = true;\r\n        this.flashingContext = flashable;\r\n    }\r\n};\r\n\r\nProcess.prototype.doInterrupt = function () {\r\n    this.popContext();\r\n    if (!this.isAtomic) {\r\n        this.isInterrupted = true;\r\n    }\r\n};\r\n\r\nProcess.prototype.doIdle = function (secs) {\r\n    if (!this.context.startTime) {\r\n        this.context.startTime = Date.now();\r\n    }\r\n    if ((Date.now() - this.context.startTime) < (secs * 1000)) {\r\n        this.pushContext('doInterrupt');\r\n        return;\r\n    }\r\n    this.popContext();\r\n};\r\n\r\nProcess.prototype.unflash = function () {\r\n    if (this.flashingContext) {\r\n        this.flashingContext.expression.unflash();\r\n        this.flashingContext.isFlashing = false;\r\n        this.flashingContext = null;\r\n    }\r\n};\r\n\r\n// Context /////////////////////////////////////////////////////////////\r\n\r\n/*\r\n    A Context describes the state of a Process.\r\n\r\n    Each Process has a pointer to a Context containing its\r\n    state. Whenever the Process yields control, its Context\r\n    tells it exactly where it left off.\r\n\r\n    structure:\r\n\r\n    parentContext   the Context to return to when this one has\r\n                    been evaluated.\r\n    outerContext    the Context holding my lexical scope\r\n    expression      SyntaxElementMorph, an array of blocks to evaluate,\r\n                    null or a String denoting a selector, e.g. 'doYield'\r\n    origin          the object of origin, only used for serialization\r\n    receiver        the object to which the expression applies, if any\r\n    variables       the current VariableFrame, if any\r\n    inputs          an array of input values computed so far\r\n                    (if expression is a    BlockMorph)\r\n    pc              the index of the next block to evaluate\r\n                    (if expression is an array)\r\n    isContinuation  flag for marking a transient continuation context\r\n    startTime       time when the context was first evaluated\r\n    startValue      initial value for interpolated operations\r\n    activeAudio     audio buffer for interpolated operations, don't persist\r\n    activeNote      audio oscillator for interpolated ops, don't persist\r\n    isCustomBlock   marker for return ops\r\n    emptySlots      caches the number of empty slots for reification\r\n    tag             string or number to optionally identify the Context,\r\n                    as a \"return\" target (for the \"stop block\" primitive)\r\n    isFlashing      flag for single-stepping\r\n*/\r\n\r\nfunction Context(\r\n    parentContext,\r\n    expression,\r\n    outerContext,\r\n    receiver\r\n) {\r\n    this.outerContext = outerContext || null;\r\n    this.parentContext = parentContext || null;\r\n    this.expression = expression || null;\r\n    this.receiver = receiver || null;\r\n    this.origin = receiver || null; // only for serialization\r\n    this.variables = new VariableFrame();\r\n    if (this.outerContext) {\r\n        this.variables.parentFrame = this.outerContext.variables;\r\n        this.receiver = this.outerContext.receiver;\r\n    }\r\n    this.inputs = [];\r\n    this.pc = 0;\r\n    this.isContinuation = false;\r\n    this.startTime = null;\r\n    this.activeAudio = null;\r\n    this.activeNote = null;\r\n    this.isCustomBlock = false; // marks the end of a custom block's stack\r\n    this.emptySlots = 0; // used for block reification\r\n    this.tag = null;  // lexical catch-tag for custom blocks\r\n    this.isFlashing = false; // for single-stepping\r\n}\r\n\r\nContext.prototype.toString = function () {\r\n    var expr = this.expression;\r\n    if (expr instanceof Array) {\r\n        if (expr.length > 0) {\r\n            expr = '[' + expr[0] + ']';\r\n        }\r\n    }\r\n    return 'Context >> ' + expr + ' ' + this.variables;\r\n};\r\n\r\nContext.prototype.image = function () {\r\n    var ring = new RingMorph(),\r\n        block,\r\n        cont;\r\n\r\n    if (this.expression instanceof Morph) {\r\n        block = this.expression.fullCopy();\r\n\r\n        // replace marked call/cc block with empty slot\r\n        if (this.isContinuation) {\r\n            cont = detect(block.allInputs(), function (inp) {\r\n                return inp.bindingID === 1;\r\n            });\r\n            if (cont) {\r\n                block.revertToDefaultInput(cont, true);\r\n            }\r\n        }\r\n        ring.embed(block, this.inputs);\r\n        return ring.fullImage();\r\n    }\r\n    if (this.expression instanceof Array) {\r\n        block = this.expression[this.pc].fullCopy();\r\n        if (block instanceof RingMorph && !block.contents()) { // empty ring\r\n            return block.fullImage();\r\n        }\r\n        ring.embed(block, this.isContinuation ? [] : this.inputs);\r\n        return ring.fullImage();\r\n    }\r\n\r\n    // otherwise show an empty ring\r\n    ring.color = SpriteMorph.prototype.blockColor.other;\r\n    ring.setSpec('%rc %ringparms');\r\n\r\n    // also show my inputs, unless I'm a continuation\r\n    if (!this.isContinuation) {\r\n        this.inputs.forEach(function (inp) {\r\n            ring.parts()[1].addInput(inp);\r\n        });\r\n    }\r\n    return ring.fullImage();\r\n};\r\n\r\n// Context continuations:\r\n\r\nContext.prototype.continuation = function () {\r\n    var cont;\r\n    if (this.expression instanceof Array) {\r\n        cont = this;\r\n    } else if (this.parentContext) {\r\n        cont = this.parentContext;\r\n    } else {\r\n        cont = new Context(null, 'expectReport');\r\n        cont.isContinuation = true;\r\n        return cont;\r\n    }\r\n    cont = cont.copyForContinuation();\r\n    cont.tag = null;\r\n    cont.isContinuation = true;\r\n    return cont;\r\n};\r\n\r\nContext.prototype.copyForContinuation = function () {\r\n    var cpy = copy(this),\r\n        cur = cpy,\r\n        isReporter = !(this.expression instanceof Array ||\r\n            isString(this.expression));\r\n    if (isReporter) {\r\n        cur.prepareContinuationForBinding();\r\n        while (cur.parentContext) {\r\n            cur.parentContext = copy(cur.parentContext);\r\n            cur = cur.parentContext;\r\n            cur.inputs = [];\r\n        }\r\n    }\r\n    return cpy;\r\n};\r\n\r\nContext.prototype.copyForContinuationCall = function () {\r\n    var cpy = copy(this),\r\n        cur = cpy,\r\n        isReporter = !(this.expression instanceof Array ||\r\n            isString(this.expression));\r\n    if (isReporter) {\r\n        this.expression = this.expression.fullCopy();\r\n        this.inputs = [];\r\n        while (cur.parentContext) {\r\n            cur.parentContext = copy(cur.parentContext);\r\n            cur = cur.parentContext;\r\n            cur.inputs = [];\r\n        }\r\n    }\r\n    return cpy;\r\n};\r\n\r\nContext.prototype.prepareContinuationForBinding = function () {\r\n    var pos = this.inputs.length,\r\n        slot;\r\n    this.expression = this.expression.fullCopy();\r\n    slot = this.expression.inputs()[pos];\r\n    if (slot) {\r\n        this.inputs = [];\r\n        // mark slot containing the call/cc reporter with an identifier\r\n        slot.bindingID = 1;\r\n        // and remember the number of detected empty slots\r\n        this.emptySlots = 1;\r\n    }\r\n};\r\n\r\n// Context accessing:\r\n\r\nContext.prototype.addInput = function (input) {\r\n    this.inputs.push(input);\r\n};\r\n\r\n// Context music\r\n\r\nContext.prototype.stopMusic = function () {\r\n    if (this.activeNote) {\r\n        this.activeNote.stop();\r\n        this.activeNote = null;\r\n    }\r\n};\r\n\r\n// Context single-stepping:\r\n\r\nContext.prototype.lastFlashable = function () {\r\n    // for experimental single-stepping when pausing\r\n    if (this.expression instanceof SyntaxElementMorph &&\r\n            !(this.expression instanceof CommandSlotMorph)) {\r\n        return this;\r\n    } else if (this.parentContext) {\r\n        return this.parentContext.lastFlashable();\r\n    }\r\n    return null;\r\n};\r\n\r\n// Context debugging\r\n\r\nContext.prototype.stackSize = function () {\r\n    if (!this.parentContext) {\r\n        return 1;\r\n    }\r\n    return 1 + this.parentContext.stackSize();\r\n};\r\n\r\n// Variable /////////////////////////////////////////////////////////////////\r\n\r\nfunction Variable(value, isTransient) {\r\n    this.value = value;\r\n    this.isTransient = isTransient || false; // prevent value serialization\r\n}\r\n\r\nVariable.prototype.toString = function () {\r\n    return 'a ' + (this.isTransient ? 'transient ' : '') + 'Variable [' +\r\n        this.value + ']';\r\n};\r\n\r\nVariable.prototype.copy = function () {\r\n    return new Variable(this.value, this.isTransient);\r\n};\r\n\r\n// VariableFrame ///////////////////////////////////////////////////////\r\n\r\nfunction VariableFrame(parentFrame, owner) {\r\n    this.vars = {};\r\n    this.parentFrame = parentFrame || null;\r\n    this.owner = owner || null;\r\n}\r\n\r\nVariableFrame.prototype.toString = function () {\r\n    return 'a VariableFrame {' + this.names() + '}';\r\n};\r\n\r\nVariableFrame.prototype.copy = function () {\r\n    var frame = new VariableFrame(this.parentFrame),\r\n        myself = this;\r\n    this.names().forEach(function (vName) {\r\n        frame.addVar(vName, myself.getVar(vName));\r\n    });\r\n    return frame;\r\n};\r\n\r\nVariableFrame.prototype.deepCopy = function () {\r\n    // currently unused\r\n    var frame;\r\n    if (this.parentFrame) {\r\n        frame = new VariableFrame(this.parentFrame.deepCopy());\r\n    } else {\r\n        frame = new VariableFrame(this.parentFrame);\r\n    }\r\n    frame.vars = copy(this.vars);\r\n    return frame;\r\n};\r\n\r\nVariableFrame.prototype.find = function (name) {\r\n/*\r\n    answer the closest variable frame containing\r\n    the specified variable. otherwise throw an exception.\r\n*/\r\n    var frame = this.silentFind(name);\r\n    if (frame) {return frame; }\r\n    throw new Error(\r\n        localize('a variable of name \\'')\r\n            + name\r\n            + localize('\\'\\ndoes not exist in this context')\r\n    );\r\n};\r\n\r\nVariableFrame.prototype.silentFind = function (name) {\r\n/*\r\n    answer the closest variable frame containing\r\n    the specified variable. Otherwise return null.\r\n*/\r\n    if (this.vars[name] !== undefined) {\r\n        return this;\r\n    }\r\n    if (this.parentFrame) {\r\n        return this.parentFrame.silentFind(name);\r\n    }\r\n    return null;\r\n};\r\n\r\nVariableFrame.prototype.setVar = function (name, value, sender) {\r\n    // change the specified variable if it exists\r\n    // else throw an error, because variables need to be\r\n    // declared explicitly (e.g. through a \"script variables\" block),\r\n    // before they can be accessed.\r\n    // if the found frame is inherited by the sender sprite\r\n    // shadow it (create an explicit one for the sender)\r\n    // before setting the value (\"create-on-write\")\r\n\r\n    var frame = this.find(name);\r\n    if (frame) {\r\n        if (sender instanceof SpriteMorph &&\r\n                (frame.owner instanceof SpriteMorph) &&\r\n                (sender !== frame.owner)) {\r\n            sender.shadowVar(name, value);\r\n        } else {\r\n            frame.vars[name].value = value;\r\n        }\r\n    }\r\n};\r\n\r\nVariableFrame.prototype.changeVar = function (name, delta, sender) {\r\n    // change the specified variable if it exists\r\n    // else throw an error, because variables need to be\r\n    // declared explicitly (e.g. through a \"script variables\" block,\r\n    // before they can be accessed.\r\n    // if the found frame is inherited by the sender sprite\r\n    // shadow it (create an explicit one for the sender)\r\n    // before changing the value (\"create-on-write\")\r\n\r\n    var frame = this.find(name),\r\n        value,\r\n        newValue;\r\n    if (frame) {\r\n        value = parseFloat(frame.vars[name].value);\r\n        newValue = isNaN(value) ? delta : value + parseFloat(delta);\r\n        if (sender instanceof SpriteMorph &&\r\n                (frame.owner instanceof SpriteMorph) &&\r\n                (sender !== frame.owner)) {\r\n            sender.shadowVar(name, newValue);\r\n        } else {\r\n            frame.vars[name].value = newValue;\r\n        }\r\n\r\n    }\r\n};\r\n\r\nVariableFrame.prototype.getVar = function (name) {\r\n    var frame = this.silentFind(name),\r\n        value;\r\n    if (frame) {\r\n        value = frame.vars[name].value;\r\n        return (value === 0 ? 0\r\n                : value === false ? false\r\n                        : value === '' ? ''\r\n                            : value || 0); // don't return null\r\n    }\r\n    if (typeof name === 'number') {\r\n        // empty input with a Binding-ID called without an argument\r\n        return '';\r\n    }\r\n    throw new Error(\r\n        localize('a variable of name \\'')\r\n            + name\r\n            + localize('\\'\\ndoes not exist in this context')\r\n    );\r\n};\r\n\r\nVariableFrame.prototype.addVar = function (name, value) {\r\n    this.vars[name] = new Variable(value === 0 ? 0\r\n              : value === false ? false\r\n                       : value === '' ? '' : value || 0);\r\n};\r\n\r\nVariableFrame.prototype.deleteVar = function (name) {\r\n    var frame = this.find(name);\r\n    if (frame) {\r\n        delete frame.vars[name];\r\n    }\r\n};\r\n\r\n// VariableFrame tools\r\n\r\nVariableFrame.prototype.names = function () {\r\n    var each, names = [];\r\n    for (each in this.vars) {\r\n        if (Object.prototype.hasOwnProperty.call(this.vars, each)) {\r\n            names.push(each);\r\n        }\r\n    }\r\n    return names;\r\n};\r\n\r\nVariableFrame.prototype.allNamesDict = function () {\r\n    var dict = {}, current = this;\r\n\r\n    function addKeysToDict(srcDict, trgtDict) {\r\n        var eachKey;\r\n        for (eachKey in srcDict) {\r\n            if (Object.prototype.hasOwnProperty.call(srcDict, eachKey)) {\r\n                trgtDict[eachKey] = eachKey;\r\n            }\r\n        }\r\n    }\r\n\r\n    while (current) {\r\n        addKeysToDict(current.vars, dict);\r\n        current = current.parentFrame;\r\n    }\r\n    return dict;\r\n};\r\n\r\nVariableFrame.prototype.allNames = function () {\r\n/*\r\n    only show the names of the lexical scope, hybrid scoping is\r\n    reserved to the daring ;-)\r\n*/\r\n    var answer = [], each, dict = this.allNamesDict();\r\n\r\n    for (each in dict) {\r\n        if (Object.prototype.hasOwnProperty.call(dict, each)) {\r\n            answer.push(each);\r\n        }\r\n    }\r\n    return answer;\r\n};\r\n//fin de threads\r\n/*\r\n\r\n    objects.js\r\n\r\n    a scriptable microworld\r\n    based on morphic.js, blocks.js and threads.js\r\n    inspired by Scratch\r\n\r\n    written by Jens Mönig\r\n    jens@moenig.org\r\n\r\n    Copyright (C) 2017 by Jens Mönig\r\n\r\n    This file is part of Snap!.\r\n\r\n    Snap! is free software: you can redistribute it and/or modify\r\n    it under the terms of the GNU Affero General Public License as\r\n    published by the Free Software Foundation, either version 3 of\r\n    the License, or (at your option) any later version.\r\n\r\n    This program is distributed in the hope that it will be useful,\r\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n    GNU Affero General Public License for more details.\r\n\r\n    You should have received a copy of the GNU Affero General Public License\r\n    along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n\r\n\r\n    prerequisites:\r\n    --------------\r\n    needs blocks.js, threads.js, morphic.js and widgets.js\r\n\r\n\r\n    toc\r\n    ---\r\n    the following list shows the order in which all constructors are\r\n    defined. Use this list to locate code in this document:\r\n\r\n        SpriteMorph\r\n        SpriteHighlightMorph\r\n        StageMorph\r\n        Costume\r\n            SVG_Costume\r\n        CostumeEditorMorph\r\n        Sound\r\n        Note\r\n        CellMorph\r\n        WatcherMorph\r\n        StagePrompterMorph\r\n\r\n        SpeechBubbleMorph*\r\n            SpriteBubbleMorph\r\n\r\n    * defined in Morphic.js\r\n\r\n\r\n    credits\r\n    -------\r\n    Ian Reynolds contributed initial porting of primitives from Squeak and\r\n    sound handling\r\n    Achal Dave contributed research and prototyping for creating music\r\n    using the Web Audio API\r\n    Yuan Yuan and Dylan Servilla contributed graphic effects for costumes\r\n\r\n*/\r\n\r\n// Global stuff ////////////////////////////////////////////////////////\r\n\r\n/*global PaintEditorMorph, ListWatcherMorph, PushButtonMorph, ToggleMorph,\r\nDialogBoxMorph, InputFieldMorph, SpriteIconMorph, BlockMorph, SymbolMorph,\r\nThreadManager, VariableFrame, detect, BlockMorph, BoxMorph, Color, Animation,\r\nCommandBlockMorph, FrameMorph, HatBlockMorph, MenuMorph, Morph, MultiArgMorph,\r\nPoint, ReporterBlockMorph, ScriptsMorph, StringMorph, SyntaxElementMorph,\r\nTextMorph, contains, degrees, detect, newCanvas, nop, radians, Array,\r\nCursorMorph, Date, FrameMorph, HandMorph, Math, MenuMorph, Morph,\r\nMorphicPreferences, Object, PenMorph, Point, Rectangle, ScrollFrameMorph,\r\nSliderMorph, String, StringMorph, TextMorph, contains, copy, degrees, detect,\r\ndocument, isNaN, isString, newCanvas, nop, parseFloat, radians, window,\r\nmodules, IDE_Morph, VariableDialogMorph, HTMLCanvasElement, Context, List,\r\nSpeechBubbleMorph, RingMorph, isNil, FileReader, TableDialogMorph,\r\nBlockEditorMorph, BlockDialogMorph, PrototypeHatBlockMorph, localize,\r\nTableMorph, TableFrameMorph, normalizeCanvas, BooleanSlotMorph, HandleMorph,\r\nAlignmentMorph*/\r\n\r\nmodules.objects = '2017-December-12';\r\n\r\nvar SpriteMorph;\r\nvar StageMorph;\r\nvar SpriteBubbleMorph;\r\nvar Costume;\r\nvar SVG_Costume;\r\nvar CostumeEditorMorph;\r\nvar Sound;\r\nvar Note;\r\nvar CellMorph;\r\nvar WatcherMorph;\r\nvar StagePrompterMorph;\r\nvar Note;\r\nvar SpriteHighlightMorph;\r\n\r\nfunction isSnapObject(thing) {\r\n    return thing instanceof SpriteMorph || (thing instanceof StageMorph);\r\n}\r\n\r\n// SpriteMorph /////////////////////////////////////////////////////////\r\n\r\n// I am a scriptable object\r\n\r\n// SpriteMorph inherits from PenMorph:\r\n\r\nSpriteMorph.prototype = new PenMorph();\r\nSpriteMorph.prototype.constructor = SpriteMorph;\r\nSpriteMorph.uber = PenMorph.prototype;\r\n\r\n// SpriteMorph settings\r\n\r\nSpriteMorph.prototype.attributes =\r\n    [\r\n        'x position',\r\n        'y position',\r\n        'direction',\r\n        'size',\r\n        'costumes',\r\n        'costume #',\r\n        'sounds',\r\n        'scripts'\r\n    ];\r\n\r\nSpriteMorph.prototype.categories =\r\n    [\r\n        'motion',\r\n        'control',\r\n        'looks',\r\n        'sensing',\r\n        'sound',\r\n        'operators',\r\n        'pen',\r\n        'variables',\r\n        'lists',\r\n        'other'\r\n    ];\r\n\r\nSpriteMorph.prototype.blockColor = {\r\n    motion : new Color(74, 108, 212),\r\n    looks : new Color(143, 86, 227),\r\n    sound : new Color(207, 74, 217),\r\n    pen : new Color(0, 161, 120),\r\n    control : new Color(230, 168, 34),\r\n    sensing : new Color(4, 148, 220),\r\n    operators : new Color(98, 194, 19),\r\n    variables : new Color(243, 118, 29),\r\n    lists : new Color(217, 77, 17),\r\n    other: new Color(150, 150, 150)\r\n};\r\n\r\nSpriteMorph.prototype.paletteColor = new Color(55, 55, 55);\r\nSpriteMorph.prototype.paletteTextColor = new Color(230, 230, 230);\r\nSpriteMorph.prototype.sliderColor\r\n    = SpriteMorph.prototype.paletteColor.lighter(30);\r\nSpriteMorph.prototype.isCachingPrimitives = true;\r\n\r\nSpriteMorph.prototype.enableNesting = true;\r\nSpriteMorph.prototype.enableFirstClass = true;\r\nSpriteMorph.prototype.useFlatLineEnds = false;\r\nSpriteMorph.prototype.highlightColor = new Color(250, 200, 130);\r\nSpriteMorph.prototype.highlightBorder = 8;\r\n\r\nSpriteMorph.prototype.bubbleColor = new Color(255, 255, 255);\r\nSpriteMorph.prototype.bubbleFontSize = 14;\r\nSpriteMorph.prototype.bubbleFontIsBold = true;\r\nSpriteMorph.prototype.bubbleCorner = 10;\r\nSpriteMorph.prototype.bubbleBorder = 3;\r\nSpriteMorph.prototype.bubbleBorderColor = new Color(190, 190, 190);\r\nSpriteMorph.prototype.bubbleMaxTextWidth = 130;\r\n\r\nSpriteMorph.prototype.initBlocks = function () {\r\n    SpriteMorph.prototype.blocks = {\r\n\r\n        // Motion\r\n        forward: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'motion',\r\n            spec: 'move %n steps',\r\n            defaults: [10]\r\n        },\r\n        turn: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'motion',\r\n            spec: 'turn %clockwise %n degrees',\r\n            defaults: [15]\r\n        },\r\n        turnLeft: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'motion',\r\n            spec: 'turn %counterclockwise %n degrees',\r\n            defaults: [15]\r\n        },\r\n        setHeading: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'motion',\r\n            spec: 'point in direction %dir'\r\n        },\r\n        doFaceTowards: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'motion',\r\n            spec: 'point towards %dst'\r\n        },\r\n        gotoXY: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'motion',\r\n            spec: 'go to x: %n y: %n',\r\n            defaults: [0, 0]\r\n        },\r\n        doGotoObject: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'motion',\r\n            spec: 'go to %dst'\r\n        },\r\n        doGlide: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'motion',\r\n            spec: 'glide %n secs to x: %n y: %n',\r\n            defaults: [1, 0, 0]\r\n        },\r\n        changeXPosition: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'motion',\r\n            spec: 'change x by %n',\r\n            defaults: [10]\r\n        },\r\n        setXPosition: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'motion',\r\n            spec: 'set x to %n',\r\n            defaults: [0]\r\n        },\r\n        changeYPosition: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'motion',\r\n            spec: 'change y by %n',\r\n            defaults: [10]\r\n        },\r\n        setYPosition: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'motion',\r\n            spec: 'set y to %n',\r\n            defaults: [0]\r\n        },\r\n        bounceOffEdge: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'motion',\r\n            spec: 'if on edge, bounce'\r\n        },\r\n        xPosition: {\r\n            only: SpriteMorph,\r\n            type: 'reporter',\r\n            category: 'motion',\r\n            spec: 'x position'\r\n        },\r\n        yPosition: {\r\n            only: SpriteMorph,\r\n            type: 'reporter',\r\n            category: 'motion',\r\n            spec: 'y position'\r\n        },\r\n        direction: {\r\n            only: SpriteMorph,\r\n            type: 'reporter',\r\n            category: 'motion',\r\n            spec: 'direction'\r\n        },\r\n\r\n        // Looks\r\n        doSwitchToCostume: {\r\n            type: 'command',\r\n            category: 'looks',\r\n            spec: 'switch to costume %cst'\r\n        },\r\n        doWearNextCostume: {\r\n            type: 'command',\r\n            category: 'looks',\r\n            spec: 'next costume'\r\n        },\r\n        getCostumeIdx: {\r\n            type: 'reporter',\r\n            category: 'looks',\r\n            spec: 'costume #'\r\n        },\r\n        doSayFor: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'looks',\r\n            spec: 'say %s for %n secs',\r\n            defaults: [localize('Hello!'), 2]\r\n        },\r\n        bubble: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'looks',\r\n            spec: 'say %s',\r\n            defaults: [localize('Hello!')]\r\n        },\r\n        doThinkFor: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'looks',\r\n            spec: 'think %s for %n secs',\r\n            defaults: [localize('Hmm...'), 2]\r\n        },\r\n        doThink: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'looks',\r\n            spec: 'think %s',\r\n            defaults: [localize('Hmm...')]\r\n        },\r\n        changeEffect: {\r\n            type: 'command',\r\n            category: 'looks',\r\n            spec: 'change %eff effect by %n',\r\n            defaults: [null, 25]\r\n        },\r\n        setEffect: {\r\n            type: 'command',\r\n            category: 'looks',\r\n            spec: 'set %eff effect to %n',\r\n            defaults: [null, 0]\r\n        },\r\n        clearEffects: {\r\n            type: 'command',\r\n            category: 'looks',\r\n            spec: 'clear graphic effects'\r\n        },\r\n        changeScale: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'looks',\r\n            spec: 'change size by %n',\r\n            defaults: [10]\r\n        },\r\n        setScale: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'looks',\r\n            spec: 'set size to %n %',\r\n            defaults: [100]\r\n        },\r\n        getScale: {\r\n            only: SpriteMorph,\r\n            type: 'reporter',\r\n            category: 'looks',\r\n            spec: 'size'\r\n        },\r\n        show: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'looks',\r\n            spec: 'show'\r\n        },\r\n        hide: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'looks',\r\n            spec: 'hide'\r\n        },\r\n        comeToFront: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'looks',\r\n            spec: 'go to front'\r\n        },\r\n        goBack: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'looks',\r\n            spec: 'go back %n layers',\r\n            defaults: [1]\r\n        },\r\n        doScreenshot: {\r\n            type: 'command',\r\n            category: 'looks',\r\n            spec: 'save %imgsource as costume named %s',\r\n            defaults: [['pen trails'], localize('screenshot')]\r\n        },\r\n\r\n        // Looks - Debugging primitives for development mode\r\n        reportCostumes: {\r\n            dev: true,\r\n            type: 'reporter',\r\n            category: 'looks',\r\n            spec: 'wardrobe'\r\n        },\r\n\r\n        alert: {\r\n            dev: true,\r\n            type: 'command',\r\n            category: 'looks',\r\n            spec: 'alert %mult%s'\r\n        },\r\n        log: {\r\n            dev: true,\r\n            type: 'command',\r\n            category: 'looks',\r\n            spec: 'console log %mult%s'\r\n        },\r\n\r\n        // Sound\r\n        playSound: {\r\n            type: 'command',\r\n            category: 'sound',\r\n            spec: 'play sound %snd'\r\n        },\r\n        doPlaySoundUntilDone: {\r\n            type: 'command',\r\n            category: 'sound',\r\n            spec: 'play sound %snd until done'\r\n        },\r\n        doStopAllSounds: {\r\n            type: 'command',\r\n            category: 'sound',\r\n            spec: 'stop all sounds'\r\n        },\r\n        doRest: {\r\n            type: 'command',\r\n            category: 'sound',\r\n            spec: 'rest for %n beats',\r\n            defaults: [0.2]\r\n        },\r\n        doPlayNote: {\r\n            type: 'command',\r\n            category: 'sound',\r\n            spec: 'play note %note for %n beats',\r\n            defaults: [60, 0.5]\r\n        },\r\n        doSetInstrument: {\r\n            type: 'command',\r\n            category: 'sound',\r\n            spec: 'set instrument to %inst',\r\n            defaults: [1]\r\n        },\r\n        doChangeTempo: {\r\n            type: 'command',\r\n            category: 'sound',\r\n            spec: 'change tempo by %n',\r\n            defaults: [20]\r\n        },\r\n        doSetTempo: {\r\n            type: 'command',\r\n            category: 'sound',\r\n            spec: 'set tempo to %n bpm',\r\n            defaults: [60]\r\n        },\r\n        getTempo: {\r\n            type: 'reporter',\r\n            category: 'sound',\r\n            spec: 'tempo'\r\n        },\r\n\r\n        // Sound - Debugging primitives for development mode\r\n        reportSounds: {\r\n            dev: true,\r\n            type: 'reporter',\r\n            category: 'sound',\r\n            spec: 'jukebox'\r\n        },\r\n\r\n        // Pen\r\n        clear: {\r\n            type: 'command',\r\n            category: 'pen',\r\n            spec: 'clear'\r\n        },\r\n        down: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'pen',\r\n            spec: 'pen down'\r\n        },\r\n        up: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'pen',\r\n            spec: 'pen up'\r\n        },\r\n        setColor: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'pen',\r\n            spec: 'set pen color to %clr'\r\n        },\r\n        changeHue: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'pen',\r\n            spec: 'change pen color by %n',\r\n            defaults: [10]\r\n        },\r\n        setHue: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'pen',\r\n            spec: 'set pen color to %n',\r\n            defaults: [0]\r\n        },\r\n        changeBrightness: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'pen',\r\n            spec: 'change pen shade by %n',\r\n            defaults: [10]\r\n        },\r\n        setBrightness: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'pen',\r\n            spec: 'set pen shade to %n',\r\n            defaults: [100]\r\n        },\r\n        changeSize: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'pen',\r\n            spec: 'change pen size by %n',\r\n            defaults: [1]\r\n        },\r\n        setSize: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'pen',\r\n            spec: 'set pen size to %n',\r\n            defaults: [1]\r\n        },\r\n        doStamp: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'pen',\r\n            spec: 'stamp'\r\n        },\r\n        floodFill: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'pen',\r\n            spec: 'fill'\r\n        },\r\n        reportPenTrailsAsCostume: {\r\n            type: 'reporter',\r\n            category: 'pen',\r\n            spec: 'pen trails'\r\n        },\r\n\r\n        // Control\r\n        receiveGo: {\r\n            type: 'hat',\r\n            category: 'control',\r\n            spec: 'when %greenflag clicked'\r\n        },\r\n        receiveKey: {\r\n            type: 'hat',\r\n            category: 'control',\r\n            spec: 'when %keyHat key pressed'\r\n        },\r\n\r\n    /* migrated to a newer block version:\r\n\r\n        receiveClick: {\r\n            type: 'hat',\r\n            category: 'control',\r\n            spec: 'when I am clicked'\r\n        },\r\n    */\r\n\r\n        receiveInteraction: {\r\n            type: 'hat',\r\n            category: 'control',\r\n            spec: 'when I am %interaction',\r\n            defaults: ['clicked']\r\n        },\r\n        receiveMessage: {\r\n            type: 'hat',\r\n            category: 'control',\r\n            spec: 'when I receive %msgHat'\r\n        },\r\n        receiveCondition: {\r\n            type: 'hat',\r\n            category: 'control',\r\n            spec: 'when %b'\r\n        },\r\n        doBroadcast: {\r\n            type: 'command',\r\n            category: 'control',\r\n            spec: 'broadcast %msg'\r\n        },\r\n        doBroadcastAndWait: {\r\n            type: 'command',\r\n            category: 'control',\r\n            spec: 'broadcast %msg and wait'\r\n        },\r\n        getLastMessage: {\r\n            type: 'reporter',\r\n            category: 'control',\r\n            spec: 'message'\r\n        },\r\n        doWait: {\r\n            type: 'command',\r\n            category: 'control',\r\n            spec: 'wait %n secs',\r\n            defaults: [1]\r\n        },\r\n        doWaitUntil: {\r\n            type: 'command',\r\n            category: 'control',\r\n            spec: 'wait until %b'\r\n        },\r\n        doForever: {\r\n            type: 'command',\r\n            category: 'control',\r\n            spec: 'forever %c'\r\n        },\r\n        doRepeat: {\r\n            type: 'command',\r\n            category: 'control',\r\n            spec: 'repeat %n %c',\r\n            defaults: [10]\r\n        },\r\n        doUntil: {\r\n            type: 'command',\r\n            category: 'control',\r\n            spec: 'repeat until %b %c'\r\n        },\r\n        doIf: {\r\n            type: 'command',\r\n            category: 'control',\r\n            spec: 'if %b %c'\r\n        },\r\n        doIfElse: {\r\n            type: 'command',\r\n            category: 'control',\r\n            spec: 'if %b %c else %c'\r\n        },\r\n\r\n    /* migrated to a newer block version:\r\n\r\n        doStop: {\r\n            type: 'command',\r\n            category: 'control',\r\n            spec: 'stop script'\r\n        },\r\n        doStopAll: {\r\n            type: 'command',\r\n            category: 'control',\r\n            spec: 'stop all %stop'\r\n        },\r\n    */\r\n\r\n        doStopThis: {\r\n            type: 'command',\r\n            category: 'control',\r\n            spec: 'stop %stopChoices'\r\n        },\r\n\r\n    /* migrated to doStopThis:\r\n\r\n        doStopOthers: {\r\n            type: 'command',\r\n            category: 'control',\r\n            spec: 'stop %stopOthersChoices'\r\n        },\r\n    */\r\n\r\n        doRun: {\r\n            type: 'command',\r\n            category: 'control',\r\n            spec: 'run %cmdRing %inputs'\r\n        },\r\n        fork: {\r\n            type: 'command',\r\n            category: 'control',\r\n            spec: 'launch %cmdRing %inputs'\r\n        },\r\n        evaluate: {\r\n            type: 'reporter',\r\n            category: 'control',\r\n            spec: 'call %repRing %inputs'\r\n        },\r\n    /*\r\n        doRunWithInputList: {\r\n            type: 'command',\r\n            category: 'control',\r\n            spec: 'run %cmd with input list %l'\r\n        },\r\n\r\n        forkWithInputList: {\r\n            type: 'command',\r\n            category: 'control',\r\n            spec: 'launch %cmd with input list %l'\r\n        },\r\n\r\n        evaluateWithInputList: {\r\n            type: 'reporter',\r\n            category: 'control',\r\n            spec: 'call %r with input list %l'\r\n        },\r\n    */\r\n        doReport: {\r\n            type: 'command',\r\n            category: 'control',\r\n            spec: 'report %s'\r\n        },\r\n    /*\r\n        doStopBlock: { // migrated to a newer block version\r\n            type: 'command',\r\n            category: 'control',\r\n            spec: 'stop block'\r\n        },\r\n    */\r\n        doCallCC: {\r\n            type: 'command',\r\n            category: 'control',\r\n            spec: 'run %cmdRing w/continuation'\r\n        },\r\n        reportCallCC: {\r\n            type: 'reporter',\r\n            category: 'control',\r\n            spec: 'call %cmdRing w/continuation'\r\n        },\r\n        doWarp: {\r\n            type: 'command',\r\n            category: 'other',\r\n            spec: 'warp %c'\r\n        },\r\n\r\n        // Message passing - very experimental\r\n\r\n        doTellTo: { // under construction +++\r\n            dev: true,\r\n            type: 'command',\r\n            category: 'control',\r\n            // spec: 'tell %spr to %cl' // I liked this version much better, -Jens\r\n            spec: 'tell %spr to %cmdRing %inputs'\r\n        },\r\n        reportAskFor: {\r\n            dev: true,\r\n            type: 'reporter',\r\n            category: 'control',\r\n            spec: 'ask %spr for %repRing %inputs'\r\n        },\r\n\r\n        // Cloning\r\n\r\n        receiveOnClone: {\r\n            type: 'hat',\r\n            category: 'control',\r\n            spec: 'when I start as a clone'\r\n        },\r\n        createClone: {\r\n            type: 'command',\r\n            category: 'control',\r\n            spec: 'create a clone of %cln'\r\n        },\r\n        newClone: {\r\n            type: 'reporter',\r\n            category: 'control',\r\n            spec: 'a new clone of %cln',\r\n            defaults: [['myself']]\r\n        },\r\n        removeClone: {\r\n            type: 'command',\r\n            category: 'control',\r\n            spec: 'delete this clone'\r\n        },\r\n\r\n        // Debugging - pausing\r\n\r\n        doPauseAll: {\r\n            type: 'command',\r\n            category: 'control',\r\n            spec: 'pause all %pause'\r\n        },\r\n\r\n        // Sensing\r\n\r\n        reportTouchingObject: {\r\n            only: SpriteMorph,\r\n            type: 'predicate',\r\n            category: 'sensing',\r\n            spec: 'touching %col ?'\r\n        },\r\n        reportTouchingColor: {\r\n            only: SpriteMorph,\r\n            type: 'predicate',\r\n            category: 'sensing',\r\n            spec: 'touching %clr ?'\r\n        },\r\n        reportColorIsTouchingColor: {\r\n            only: SpriteMorph,\r\n            type: 'predicate',\r\n            category: 'sensing',\r\n            spec: 'color %clr is touching %clr ?'\r\n        },\r\n        colorFiltered: {\r\n            dev: true,\r\n            type: 'reporter',\r\n            category: 'sensing',\r\n            spec: 'filtered for %clr'\r\n        },\r\n        reportStackSize: {\r\n            dev: true,\r\n            type: 'reporter',\r\n            category: 'sensing',\r\n            spec: 'stack size'\r\n        },\r\n        reportFrameCount: {\r\n            dev: true,\r\n            type: 'reporter',\r\n            category: 'sensing',\r\n            spec: 'frames'\r\n        },\r\n        reportThreadCount: {\r\n            dev: true,\r\n            type: 'reporter',\r\n            category: 'sensing',\r\n            spec: 'processes'\r\n        },\r\n        doAsk: {\r\n            type: 'command',\r\n            category: 'sensing',\r\n            spec: 'ask %s and wait',\r\n            defaults: [localize('what\\'s your name?')]\r\n        },\r\n        reportLastAnswer: { // retained for legacy compatibility\r\n            dev: true,\r\n            type: 'reporter',\r\n            category: 'sensing',\r\n            spec: 'answer'\r\n        },\r\n        getLastAnswer: {\r\n            type: 'reporter',\r\n            category: 'sensing',\r\n            spec: 'answer'\r\n        },\r\n        reportMouseX: {\r\n            type: 'reporter',\r\n            category: 'sensing',\r\n            spec: 'mouse x'\r\n        },\r\n        reportMouseY: {\r\n            type: 'reporter',\r\n            category: 'sensing',\r\n            spec: 'mouse y'\r\n        },\r\n        reportMouseDown: {\r\n            type: 'predicate',\r\n            category: 'sensing',\r\n            spec: 'mouse down?'\r\n        },\r\n        reportKeyPressed: {\r\n            type: 'predicate',\r\n            category: 'sensing',\r\n            spec: 'key %key pressed?'\r\n        },\r\n        reportDistanceTo: {\r\n            type: 'reporter',\r\n            category: 'sensing',\r\n            spec: 'distance to %dst'\r\n        },\r\n        doResetTimer: {\r\n            type: 'command',\r\n            category: 'sensing',\r\n            spec: 'reset timer'\r\n        },\r\n        reportTimer: { // retained for legacy compatibility\r\n            dev: true,\r\n            type: 'reporter',\r\n            category: 'sensing',\r\n            spec: 'timer'\r\n        },\r\n        getTimer: {\r\n            type: 'reporter',\r\n            category: 'sensing',\r\n            spec: 'timer'\r\n        },\r\n        reportAttributeOf: {\r\n            type: 'reporter',\r\n            category: 'sensing',\r\n            spec: '%att of %spr',\r\n            defaults: [['costume #']]\r\n        },\r\n        reportURL: {\r\n            type: 'reporter',\r\n            category: 'sensing',\r\n            spec: 'url %s',\r\n            defaults: ['snap.berkeley.edu']\r\n        },\r\n        reportIsFastTracking: {\r\n            type: 'predicate',\r\n            category: 'sensing',\r\n            spec: 'turbo mode?'\r\n        },\r\n        doSetFastTracking: {\r\n            type: 'command',\r\n            category: 'sensing',\r\n            spec: 'set turbo mode to %b'\r\n        },\r\n        reportDate: {\r\n            type: 'reporter',\r\n            category: 'sensing',\r\n            spec: 'current %dates'\r\n        },\r\n        reportGet: {\r\n            type: 'reporter',\r\n            category: 'sensing',\r\n            spec: 'my %get',\r\n            defaults: [['neighbors']]\r\n        },\r\n\r\n        // Operators\r\n        reifyScript: {\r\n            type: 'ring',\r\n            category: 'other',\r\n            spec: '%rc %ringparms',\r\n            alias: 'command ring lambda'\r\n        },\r\n        reifyReporter: {\r\n            type: 'ring',\r\n            category: 'other',\r\n            spec: '%rr %ringparms',\r\n            alias: 'reporter ring lambda'\r\n        },\r\n        reifyPredicate: {\r\n            type: 'ring',\r\n            category: 'other',\r\n            spec: '%rp %ringparms',\r\n            alias: 'predicate ring lambda'\r\n        },\r\n        reportSum: {\r\n            type: 'reporter',\r\n            category: 'operators',\r\n            spec: '%n + %n'\r\n        },\r\n        reportDifference: {\r\n            type: 'reporter',\r\n            category: 'operators',\r\n            spec: '%n \\u2212 %n',\r\n            alias: '-'\r\n        },\r\n        reportProduct: {\r\n            type: 'reporter',\r\n            category: 'operators',\r\n            spec: '%n \\u00D7 %n',\r\n            alias: '*'\r\n        },\r\n        reportQuotient: {\r\n            type: 'reporter',\r\n            category: 'operators',\r\n            spec: '%n / %n' // '%n \\u00F7 %n'\r\n        },\r\n        reportRound: {\r\n            type: 'reporter',\r\n            category: 'operators',\r\n            spec: 'round %n'\r\n        },\r\n        reportMonadic: {\r\n            type: 'reporter',\r\n            category: 'operators',\r\n            spec: '%fun of %n',\r\n            defaults: [null, 10]\r\n        },\r\n        reportModulus: {\r\n            type: 'reporter',\r\n            category: 'operators',\r\n            spec: '%n mod %n'\r\n        },\r\n        reportRandom: {\r\n            type: 'reporter',\r\n            category: 'operators',\r\n            spec: 'pick random %n to %n',\r\n            defaults: [1, 10]\r\n        },\r\n        reportLessThan: {\r\n            type: 'predicate',\r\n            category: 'operators',\r\n            spec: '%s < %s'\r\n        },\r\n        reportEquals: {\r\n            type: 'predicate',\r\n            category: 'operators',\r\n            spec: '%s = %s'\r\n        },\r\n        reportGreaterThan: {\r\n            type: 'predicate',\r\n            category: 'operators',\r\n            spec: '%s > %s'\r\n        },\r\n        reportAnd: {\r\n            type: 'predicate',\r\n            category: 'operators',\r\n            spec: '%b and %b'\r\n        },\r\n        reportOr: {\r\n            type: 'predicate',\r\n            category: 'operators',\r\n            spec: '%b or %b'\r\n        },\r\n        reportNot: {\r\n            type: 'predicate',\r\n            category: 'operators',\r\n            spec: 'not %b'\r\n        },\r\n        reportBoolean: {\r\n            type: 'predicate',\r\n            category: 'operators',\r\n            spec: '%bool',\r\n            alias: 'true boolean'\r\n        },\r\n        reportFalse: { // special case for keyboard entry and search\r\n            type: 'predicate',\r\n            category: 'operators',\r\n            spec: '%bool',\r\n            defaults: [false],\r\n            alias: 'false boolean'\r\n        },\r\n        reportJoinWords: {\r\n            type: 'reporter',\r\n            category: 'operators',\r\n            spec: 'join %words',\r\n            defaults: [localize('hello') + ' ', localize('world')]\r\n        },\r\n        reportLetter: {\r\n            type: 'reporter',\r\n            category: 'operators',\r\n            spec: 'letter %n of %s',\r\n            defaults: [1, localize('world')]\r\n        },\r\n        reportStringSize: {\r\n            type: 'reporter',\r\n            category: 'operators',\r\n            spec: 'length of %s',\r\n            defaults: [localize('world')]\r\n        },\r\n        reportUnicode: {\r\n            type: 'reporter',\r\n            category: 'operators',\r\n            spec: 'unicode of %s',\r\n            defaults: ['a']\r\n        },\r\n        reportUnicodeAsLetter: {\r\n            type: 'reporter',\r\n            category: 'operators',\r\n            spec: 'unicode %n as letter',\r\n            defaults: [65]\r\n        },\r\n        reportIsA: {\r\n            type: 'predicate',\r\n            category: 'operators',\r\n            spec: 'is %s a %typ ?',\r\n            defaults: [5]\r\n        },\r\n        reportIsIdentical: {\r\n            type: 'predicate',\r\n            category: 'operators',\r\n            spec: 'is %s identical to %s ?'\r\n        },\r\n        reportTextSplit: {\r\n            type: 'reporter',\r\n            category: 'operators',\r\n            spec: 'split %s by %delim',\r\n            defaults: [localize('hello') + ' ' + localize('world'), \" \"]\r\n        },\r\n        reportJSFunction: { // experimental\r\n            type: 'reporter',\r\n            category: 'operators',\r\n            spec: 'JavaScript function ( %mult%s ) { %code }'\r\n        },\r\n        reportTypeOf: { // only in dev mode for debugging\r\n            dev: true,\r\n            type: 'reporter',\r\n            category: 'operators',\r\n            spec: 'type of %s',\r\n            defaults: [5]\r\n        },\r\n        reportTextFunction: { // only in dev mode - experimental\r\n            dev: true,\r\n            type: 'reporter',\r\n            category: 'operators',\r\n            spec: '%txtfun of %s',\r\n            defaults: [null, \"Abelson & Sussman\"]\r\n        },\r\n\r\n    /*\r\n        reportScript: {\r\n            type: 'reporter',\r\n            category: 'operators',\r\n            spec: 'the script %parms %c'\r\n        },\r\n        reify: {\r\n            type: 'reporter',\r\n            category: 'operators',\r\n            spec: 'the %f block %parms'\r\n        },\r\n    */\r\n\r\n        // Variables\r\n        doSetVar: {\r\n            type: 'command',\r\n            category: 'variables',\r\n            spec: 'set %var to %s',\r\n            defaults: [null, 0]\r\n        },\r\n        doChangeVar: {\r\n            type: 'command',\r\n            category: 'variables',\r\n            spec: 'change %var by %n',\r\n            defaults: [null, 1]\r\n        },\r\n        doShowVar: {\r\n            type: 'command',\r\n            category: 'variables',\r\n            spec: 'show variable %var'\r\n        },\r\n        doHideVar: {\r\n            type: 'command',\r\n            category: 'variables',\r\n            spec: 'hide variable %var'\r\n        },\r\n        doDeclareVariables: {\r\n            type: 'command',\r\n            category: 'other',\r\n            spec: 'script variables %scriptVars'\r\n        },\r\n\r\n        // inheritance - experimental\r\n        doDeleteAttr: {\r\n            type: 'command',\r\n            category: 'variables',\r\n            spec: 'inherit %shd'\r\n        },\r\n\r\n        // Lists\r\n        reportNewList: {\r\n            type: 'reporter',\r\n            category: 'lists',\r\n            spec: 'list %exp'\r\n        },\r\n        reportCONS: {\r\n            type: 'reporter',\r\n            category: 'lists',\r\n            spec: '%s in front of %l'\r\n        },\r\n        reportListItem: {\r\n            type: 'reporter',\r\n            category: 'lists',\r\n            spec: 'item %idx of %l',\r\n            defaults: [1]\r\n        },\r\n        reportCDR: {\r\n            type: 'reporter',\r\n            category: 'lists',\r\n            spec: 'all but first of %l'\r\n        },\r\n        reportListLength: {\r\n            type: 'reporter',\r\n            category: 'lists',\r\n            spec: 'length of %l'\r\n        },\r\n        reportListContainsItem: {\r\n            type: 'predicate',\r\n            category: 'lists',\r\n            spec: '%l contains %s',\r\n            defaults: [null, localize('thing')]\r\n        },\r\n        doAddToList: {\r\n            type: 'command',\r\n            category: 'lists',\r\n            spec: 'add %s to %l',\r\n            defaults: [localize('thing')]\r\n        },\r\n        doDeleteFromList: {\r\n            type: 'command',\r\n            category: 'lists',\r\n            spec: 'delete %ida of %l',\r\n            defaults: [1]\r\n        },\r\n        doInsertInList: {\r\n            type: 'command',\r\n            category: 'lists',\r\n            spec: 'insert %s at %idx of %l',\r\n            defaults: [localize('thing'), 1]\r\n        },\r\n        doReplaceInList: {\r\n            type: 'command',\r\n            category: 'lists',\r\n            spec: 'replace item %idx of %l with %s',\r\n            defaults: [1, null, localize('thing')]\r\n        },\r\n\r\n        // MAP - experimental\r\n        reportMap: {\r\n            dev: true,\r\n            type: 'reporter',\r\n            category: 'lists',\r\n            spec: 'map %repRing over %l'\r\n        },\r\n        doForEach: {\r\n            dev: true,\r\n            type: 'command',\r\n            category: 'lists',\r\n            spec: 'for %upvar in %l %cl',\r\n            defaults: [localize('each item')]\r\n        },\r\n\r\n        // Tables - experimental\r\n\r\n        doShowTable: {\r\n            dev: true,\r\n            type: 'command',\r\n            category: 'lists',\r\n            spec: 'show table %l'\r\n        },\r\n\r\n        // Code mapping - experimental\r\n        doMapCodeOrHeader: { // experimental\r\n            type: 'command',\r\n            category: 'other',\r\n            spec: 'map %cmdRing to %codeKind %code'\r\n        },\r\n        doMapValueCode: { // experimental\r\n            type: 'command',\r\n            category: 'other',\r\n            spec: 'map %mapValue to code %code',\r\n            defaults: [['String'], '<#1>']\r\n        },\r\n    /* obsolete - superseded by 'doMapValue'\r\n        doMapStringCode: { // experimental\r\n            type: 'command',\r\n            category: 'other',\r\n            spec: 'map String to code %code',\r\n            defaults: ['<#1>']\r\n        },\r\n    */\r\n        doMapListCode: { // experimental\r\n            type: 'command',\r\n            category: 'other',\r\n            spec: 'map %codeListPart of %codeListKind to code %code'\r\n        },\r\n        reportMappedCode: { // experimental\r\n            type: 'reporter',\r\n            category: 'other',\r\n            spec: 'code of %cmdRing'\r\n        }\r\n    };\r\n};\r\n\r\nSpriteMorph.prototype.initBlocks();\r\n\r\nSpriteMorph.prototype.initBlockMigrations = function () {\r\n    // change blocks in existing projects to their updated version\r\n    SpriteMorph.prototype.blockMigrations = {\r\n        doStopAll: {\r\n            selector: 'doStopThis',\r\n            inputs: [['all']]\r\n        },\r\n        doStop: {\r\n            selector: 'doStopThis',\r\n            inputs: [['this script']]\r\n        },\r\n        doStopBlock: {\r\n            selector: 'doStopThis',\r\n            inputs: [['this block']]\r\n        },\r\n        doStopOthers: {\r\n            selector: 'doStopThis',\r\n            inputs: [['all']],\r\n            offset: 0\r\n        },\r\n        receiveClick: {\r\n            selector: 'receiveInteraction',\r\n            inputs: [['clicked']]\r\n        },\r\n        reportTrue: {\r\n            selector: 'reportBoolean',\r\n            inputs: [true]\r\n        },\r\n        reportFalse: {\r\n            selector: 'reportBoolean',\r\n            inputs: [false]\r\n        },\r\n        reportCostumes: {\r\n            selector: 'reportGet',\r\n            inputs: [['costumes']]\r\n        },\r\n        reportSounds: {\r\n            selector: 'reportGet',\r\n            inputs: [['sounds']]\r\n        },\r\n        doMapStringCode: {\r\n            selector: 'doMapValueCode',\r\n            inputs: [['String'], '<#1>'],\r\n            offset: 1\r\n        }\r\n    };\r\n};\r\n\r\nSpriteMorph.prototype.initBlockMigrations();\r\n\r\nSpriteMorph.prototype.blockAlternatives = {\r\n    // motion:\r\n    turn: ['turnLeft'],\r\n    turnLeft: ['turn'],\r\n    changeXPosition: ['changeYPosition', 'setXPosition', 'setYPosition'],\r\n    setXPosition: ['setYPosition', 'changeXPosition', 'changeYPosition'],\r\n    changeYPosition: ['changeXPosition', 'setYPosition', 'setXPosition'],\r\n    setYPosition: ['setXPosition', 'changeYPosition', 'changeXPosition'],\r\n    xPosition: ['yPosition'],\r\n    yPosition: ['xPosition'],\r\n\r\n    // looks:\r\n    doSayFor: ['doThinkFor', 'bubble', 'doThink', 'doAsk'],\r\n    doThinkFor: ['doSayFor', 'doThink', 'bubble', 'doAsk'],\r\n    bubble: ['doThink', 'doAsk', 'doSayFor', 'doThinkFor'],\r\n    doThink: ['bubble', 'doAsk', 'doSayFor', 'doThinkFor'],\r\n    show: ['hide'],\r\n    hide: ['show'],\r\n    changeEffect: ['setEffect'],\r\n    setEffect: ['changeEffect'],\r\n    changeScale: ['setScale'],\r\n    setScale: ['changeScale'],\r\n\r\n    // sound:\r\n    playSound: ['doPlaySoundUntilDone'],\r\n    doPlaySoundUntilDone: ['playSound'],\r\n    doChangeTempo: ['doSetTempo'],\r\n    doSetTempo: ['doChangeTempo'],\r\n\r\n    // pen:\r\n    clear: ['down', 'up', 'doStamp'],\r\n    down: ['up', 'clear', 'doStamp'],\r\n    up: ['down', 'clear', 'doStamp'],\r\n    doStamp: ['clear', 'down', 'up'],\r\n    changeHue: ['setHue', 'changeBrightness', 'setBrightness'],\r\n    setHue: ['changeHue', 'changeBrightness', 'setBrightness'],\r\n    changeBrightness: ['setBrightness', 'setHue', 'changeHue'],\r\n    setBrightness: ['changeBrightness', 'setHue', 'changeHue'],\r\n    changeSize: ['setSize'],\r\n    setSize: ['changeSize'],\r\n\r\n    // control:\r\n    doBroadcast: ['doBroadcastAndWait'],\r\n    doBroadcastAndWait: ['doBroadcast'],\r\n    doIf: ['doIfElse', 'doUntil'],\r\n    doIfElse: ['doIf', 'doUntil'],\r\n    doRepeat: ['doUntil'],\r\n    doUntil: ['doRepeat', 'doIf'],\r\n\r\n    // sensing:\r\n    doAsk: ['bubble', 'doThink', 'doSayFor', 'doThinkFor'],\r\n    getLastAnswer: ['getTimer'],\r\n    getTimer: ['getLastAnswer'],\r\n    reportMouseX: ['reportMouseY'],\r\n    reportMouseY: ['reportMouseX'],\r\n\r\n    // operators:\r\n    reportSum: ['reportDifference', 'reportProduct', 'reportQuotient'],\r\n    reportDifference: ['reportSum', 'reportProduct', 'reportQuotient'],\r\n    reportProduct: ['reportDifference', 'reportSum', 'reportQuotient'],\r\n    reportQuotient: ['reportDifference', 'reportProduct', 'reportSum'],\r\n    reportLessThan: ['reportEquals', 'reportGreaterThan'],\r\n    reportEquals: ['reportLessThan', 'reportGreaterThan'],\r\n    reportGreaterThan: ['reportEquals', 'reportLessThan'],\r\n    reportAnd: ['reportOr'],\r\n    reportOr: ['reportAnd'],\r\n\r\n    // variables\r\n    doSetVar: ['doChangeVar'],\r\n    doChangeVar: ['doSetVar'],\r\n    doShowVar: ['doHideVar'],\r\n    doHideVar: ['doShowVar']\r\n};\r\n\r\n// SpriteMorph instance creation\r\n\r\nfunction SpriteMorph(globals) {\r\n    this.init(globals);\r\n}\r\n\r\nSpriteMorph.prototype.init = function (globals) {\r\n    this.name = localize('Sprite');\r\n    this.instrument = null;\r\n    this.variables = new VariableFrame(globals || null, this);\r\n    this.scripts = new ScriptsMorph();\r\n    this.customBlocks = [];\r\n    this.costumes = new List();\r\n    this.costumes.type = 'costume';\r\n    this.costume = null;\r\n    this.sounds = new List();\r\n    this.sounds.type = 'sound';\r\n    this.normalExtent = new Point(60, 60); // only for costume-less situation\r\n    this.scale = 1;\r\n    this.rotationStyle = 1; // 1 = full, 2 = left/right, 0 = off\r\n    this.version = Date.now(); // for observer optimization\r\n    this.isTemporary = false; // indicate a temporary Scratch-style clone\r\n    this.isCorpse = false; // indicate whether a sprite/clone has been deleted\r\n    this.cloneOriginName = '';\r\n\r\n    // only temporarily for serialization\r\n    this.inheritedMethodsCache = [];\r\n\r\n    // sprite nesting properties\r\n    this.parts = []; // not serialized, only anchor (name)\r\n    this.anchor = null;\r\n    this.nestingScale = 1;\r\n    this.rotatesWithAnchor = true;\r\n    this.layers = null; // cache for dragging nested sprites, don't serialize\r\n\r\n    this.blocksCache = {}; // not to be serialized (!)\r\n    this.paletteCache = {}; // not to be serialized (!)\r\n    this.rotationOffset = new Point(); // not to be serialized (!)\r\n    this.idx = 0; // not to be serialized (!) - used for de-serialization\r\n    this.wasWarped = false; // not to be serialized, used for fast-tracking\r\n\r\n    this.graphicsValues = {\r\n        'color': 0,\r\n        'fisheye': 0,\r\n        'whirl': 0,\r\n        'pixelate': 0,\r\n        'mosaic': 0,\r\n        'duplicate': 0,\r\n        'negative': 0,\r\n        'comic': 0,\r\n        'confetti': 0,\r\n        'saturation': 0,\r\n        'brightness': 0\r\n    };\r\n\r\n    // sprite inheritance\r\n    this.exemplar = null;\r\n    this.instances = [];\r\n    this.cachedPropagation = false; // not to be persisted\r\n    this.inheritedAttributes = []; // 'x position', 'direction', 'size' etc...\r\n\r\n    SpriteMorph.uber.init.call(this);\r\n\r\n    this.isDraggable = true;\r\n    this.isDown = false;\r\n    this.heading = 90;\r\n    this.changed();\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\n// SpriteMorph duplicating (fullCopy)\r\n\r\nSpriteMorph.prototype.fullCopy = function (forClone) {\r\n    var c = SpriteMorph.uber.fullCopy.call(this),\r\n        myself = this,\r\n        arr = [],\r\n        cb, effect;\r\n\r\n    c.instances = [];\r\n    c.stopTalking();\r\n    c.color = this.color.copy();\r\n    c.blocksCache = {};\r\n    c.paletteCache = {};\r\n    arr = [];\r\n    this.inheritedAttributes.forEach(function (att) {\r\n        arr.push(att);\r\n    });\r\n    c.inheritedAttributes = arr;\r\n    if (forClone) {\r\n        c.exemplar = this;\r\n        c.customBlocks = [];\r\n        c.variables = new VariableFrame(null, c);\r\n        c.variables.parentFrame = this.variables;\r\n        c.inheritedVariableNames().forEach(function (name) {\r\n            c.shadowVar(name, c.variables.getVar(name));\r\n        });\r\n        this.addSpecimen(c);\r\n        this.cachedPropagation = false;\r\n        ['scripts', 'costumes', 'sounds'].forEach(function (att) {\r\n            if (!contains(c.inheritedAttributes, att)) {\r\n                c.inheritedAttributes.push(att);\r\n            }\r\n        });\r\n    } else {\r\n        c.variables = this.variables.copy();\r\n        c.variables.owner = c;\r\n        c.scripts = this.scripts.fullCopy();\r\n        c.customBlocks = [];\r\n        this.customBlocks.forEach(function (def) {\r\n            cb = def.copyAndBindTo(c);\r\n            c.customBlocks.push(cb);\r\n            c.allBlockInstances(def).forEach(function (block) {\r\n                block.definition = cb;\r\n            });\r\n        });\r\n        arr = [];\r\n        this.costumes.asArray().forEach(function (costume) {\r\n            var cst = forClone ? costume : costume.copy();\r\n            arr.push(cst);\r\n            if (costume === myself.costume) {\r\n                c.costume = cst;\r\n            }\r\n        });\r\n        c.costumes = new List(arr);\r\n        arr = [];\r\n        this.sounds.asArray().forEach(function (sound) {\r\n            var snd = forClone ? sound : sound.copy();\r\n            arr.push(snd);\r\n        });\r\n        c.sounds = new List(arr);\r\n        arr = [];\r\n    }\r\n    c.nestingScale = 1;\r\n    c.rotatesWithAnchor = true;\r\n    c.anchor = null;\r\n    c.parts = [];\r\n    this.parts.forEach(function (part) {\r\n        var dp = part.fullCopy(forClone);\r\n        dp.nestingScale = part.nestingScale;\r\n        dp.rotatesWithAnchor = part.rotatesWithAnchor;\r\n        c.attachPart(dp);\r\n    });\r\n    c.graphicsValues = {};\r\n    for (effect in this.graphicsValues) {\r\n        if (this.graphicsValues.hasOwnProperty(effect)) {\r\n            c.graphicsValues[effect] = this.graphicsValues[effect];\r\n        }\r\n    }\r\n    return c;\r\n};\r\n\r\nSpriteMorph.prototype.appearIn = function (ide) {\r\n    // private - used in IDE_Morph.duplicateSprite()\r\n    if (!this.isTemporary) {\r\n        this.name = ide.newSpriteName(this.name);\r\n        ide.corral.addSprite(this);\r\n        ide.sprites.add(this);\r\n    }\r\n    ide.stage.add(this);\r\n    this.parts.forEach(function (part) {\r\n        part.appearIn(ide);\r\n    });\r\n};\r\n\r\n// SpriteMorph versioning\r\n\r\nSpriteMorph.prototype.setName = function (string) {\r\n    this.name = string || this.name;\r\n    this.version = Date.now();\r\n};\r\n\r\n// SpriteMorph rendering\r\n\r\nSpriteMorph.prototype.drawNew = function () {\r\n    var myself = this,\r\n        currentCenter,\r\n        facing, // actual costume heading based on my rotation style\r\n        isFlipped,\r\n        isLoadingCostume,\r\n        cst,\r\n        pic, // (flipped copy of) actual costume based on my rotation style\r\n        stageScale,\r\n        newX,\r\n        corners = [],\r\n        origin,\r\n        shift,\r\n        corner,\r\n        costumeExtent,\r\n        ctx,\r\n        handle;\r\n\r\n    if (this.isWarped) {\r\n        this.wantsRedraw = true;\r\n        return;\r\n    }\r\n    currentCenter = this.center();\r\n    isLoadingCostume = this.costume &&\r\n        typeof this.costume.loaded === 'function';\r\n    stageScale = this.parent instanceof StageMorph ?\r\n            this.parent.scale : 1;\r\n    facing = this.rotationStyle ? this.heading : 90;\r\n    if (this.rotationStyle === 2) {\r\n        facing = 90;\r\n        if ((this.heading > 180 && (this.heading < 360))\r\n                || (this.heading < 0 && (this.heading > -180))) {\r\n            isFlipped = true;\r\n        }\r\n    }\r\n    if (this.costume && !isLoadingCostume) {\r\n        pic = isFlipped ? this.costume.flipped() : this.costume;\r\n\r\n        // determine the rotated costume's bounding box\r\n        corners = pic.bounds().corners().map(function (point) {\r\n            return point.rotateBy(\r\n                radians(facing - 90),\r\n                myself.costume.center()\r\n            );\r\n        });\r\n        origin = corners[0];\r\n        corner = corners[0];\r\n        corners.forEach(function (point) {\r\n            origin = origin.min(point);\r\n            corner = corner.max(point);\r\n        });\r\n        costumeExtent = origin.corner(corner)\r\n            .extent().multiplyBy(this.scale * stageScale);\r\n\r\n        // determine the new relative origin of the rotated shape\r\n        shift = new Point(0, 0).rotateBy(\r\n            radians(-(facing - 90)),\r\n            pic.center()\r\n        ).subtract(origin);\r\n\r\n        // create a new, adequately dimensioned canvas\r\n        // and draw the costume on it\r\n        this.image = newCanvas(costumeExtent, true);\r\n        this.silentSetExtent(costumeExtent);\r\n        ctx = this.image.getContext('2d');\r\n        ctx.scale(this.scale * stageScale, this.scale * stageScale);\r\n        ctx.translate(shift.x, shift.y);\r\n        ctx.rotate(radians(facing - 90));\r\n        ctx.drawImage(pic.contents, 0, 0);\r\n\r\n        // apply graphics effects to image\r\n        this.image = this.applyGraphicsEffects(this.image);\r\n\r\n        // adjust my position to the rotation\r\n        this.setCenter(currentCenter, true); // just me\r\n\r\n        // determine my rotation offset\r\n        this.rotationOffset = shift\r\n            .translateBy(pic.rotationCenter)\r\n            .rotateBy(radians(-(facing - 90)), shift)\r\n            .scaleBy(this.scale * stageScale);\r\n    } else {\r\n        facing = isFlipped ? -90 : facing;\r\n        newX = Math.min(\r\n            Math.max(\r\n                this.normalExtent.x * this.scale * stageScale,\r\n                5\r\n            ),\r\n            1000\r\n        );\r\n        this.silentSetExtent(new Point(newX, newX));\r\n        this.image = newCanvas(this.extent(), true);\r\n        this.setCenter(currentCenter, true); // just me\r\n        SpriteMorph.uber.drawNew.call(this, facing);\r\n        this.rotationOffset = this.extent().divideBy(2);\r\n        this.image = this.applyGraphicsEffects(this.image);\r\n        if (isLoadingCostume) { // retry until costume is done loading\r\n            cst = this.costume;\r\n            handle = setInterval(\r\n                function () {\r\n                    myself.wearCostume(cst);\r\n                    clearInterval(handle);\r\n                },\r\n                100\r\n            );\r\n            return myself.wearCostume(null);\r\n\r\n        }\r\n    }\r\n    this.version = Date.now(); // for observer optimization\r\n};\r\n\r\nSpriteMorph.prototype.endWarp = function () {\r\n    this.isWarped = false;\r\n    if (this.wantsRedraw) {\r\n        var x = this.xPosition(),\r\n            y = this.yPosition();\r\n        this.drawNew();\r\n        this.silentGotoXY(x, y, true); // just me\r\n        this.wantsRedraw = false;\r\n    }\r\n    this.parent.changed();\r\n};\r\n\r\nSpriteMorph.prototype.rotationCenter = function () {\r\n    return this.position().add(this.rotationOffset);\r\n};\r\n\r\nSpriteMorph.prototype.colorFiltered = function (aColor) {\r\n    // answer a new Morph containing my image filtered by aColor\r\n    // ignore transparency (alpha)\r\n    var morph = new Morph(),\r\n        ext = this.extent(),\r\n        ctx,\r\n        src,\r\n        clr,\r\n        i,\r\n        dta;\r\n\r\n    src = normalizeCanvas(this.image, true).getContext('2d').getImageData(\r\n        0,\r\n        0,\r\n        ext.x,\r\n        ext.y\r\n    );\r\n    morph.image = newCanvas(ext, true);\r\n    morph.bounds = this.bounds.copy();\r\n    ctx = morph.image.getContext('2d');\r\n    dta = ctx.createImageData(ext.x, ext.y);\r\n    for (i = 0; i < ext.x * ext.y * 4; i += 4) {\r\n        clr = new Color(\r\n            src.data[i],\r\n            src.data[i + 1],\r\n            src.data[i + 2]\r\n        );\r\n        if (clr.eq(aColor)) {\r\n            dta.data[i] = src.data[i];\r\n            dta.data[i + 1] = src.data[i + 1];\r\n            dta.data[i + 2] = src.data[i + 2];\r\n            dta.data[i + 3] = 255;\r\n        }\r\n    }\r\n    ctx.putImageData(dta, 0, 0);\r\n    return morph;\r\n};\r\n\r\n// SpriteMorph block instantiation\r\n\r\nSpriteMorph.prototype.blockForSelector = function (selector, setDefaults) {\r\n    var migration, info, block, defaults, inputs, i;\r\n    migration = this.blockMigrations[selector];\r\n    info = this.blocks[migration ? migration.selector : selector];\r\n    if (!info) {return null; }\r\n    block = info.type === 'command' ? new CommandBlockMorph()\r\n        : info.type === 'hat' ? new HatBlockMorph()\r\n            : info.type === 'ring' ? new RingMorph()\r\n                : new ReporterBlockMorph(info.type === 'predicate');\r\n    block.color = this.blockColor[info.category];\r\n    block.category = info.category;\r\n    block.selector = migration ? migration.selector : selector;\r\n    if (contains(['reifyReporter', 'reifyPredicate'], block.selector)) {\r\n        block.isStatic = true;\r\n    }\r\n    block.setSpec(localize(info.spec));\r\n    if ((setDefaults && info.defaults) || (migration && migration.inputs)) {\r\n        defaults = migration ? migration.inputs : info.defaults;\r\n        block.defaults = defaults;\r\n        inputs = block.inputs();\r\n        if (inputs[0] instanceof MultiArgMorph) {\r\n            inputs[0].setContents(defaults);\r\n            inputs[0].defaults = defaults;\r\n        } else {\r\n            for (i = 0; i < defaults.length; i += 1) {\r\n                if (defaults[i] !== null) {\r\n                    inputs[i].setContents(defaults[i]);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return block;\r\n};\r\n\r\nSpriteMorph.prototype.variableBlock = function (varName) {\r\n    var block = new ReporterBlockMorph(false);\r\n    block.selector = 'reportGetVar';\r\n    block.color = this.blockColor.variables;\r\n    block.category = 'variables';\r\n    block.setSpec(varName);\r\n    block.isDraggable = true;\r\n    return block;\r\n};\r\n\r\n// SpriteMorph block templates\r\n\r\nSpriteMorph.prototype.blockTemplates = function (category) {\r\n    var blocks = [], myself = this, varNames, button,\r\n        cat = category || 'motion', txt,\r\n        inheritedVars = this.inheritedVariableNames();\r\n\r\n    function block(selector, isGhosted) {\r\n        if (StageMorph.prototype.hiddenPrimitives[selector]) {\r\n            return null;\r\n        }\r\n        var newBlock = SpriteMorph.prototype.blockForSelector(selector, true);\r\n        newBlock.isTemplate = true;\r\n        if (isGhosted) {newBlock.ghost(); }\r\n        return newBlock;\r\n    }\r\n\r\n    function variableBlock(varName) {\r\n        var newBlock = SpriteMorph.prototype.variableBlock(varName);\r\n        newBlock.isDraggable = false;\r\n        newBlock.isTemplate = true;\r\n        if (contains(inheritedVars, varName)) {\r\n            newBlock.ghost();\r\n        }\r\n        return newBlock;\r\n    }\r\n\r\n    function watcherToggle(selector) {\r\n        if (StageMorph.prototype.hiddenPrimitives[selector]) {\r\n            return null;\r\n        }\r\n        var info = SpriteMorph.prototype.blocks[selector];\r\n        return new ToggleMorph(\r\n            'checkbox',\r\n            this,\r\n            function () {\r\n                myself.toggleWatcher(\r\n                    selector,\r\n                    localize(info.spec),\r\n                    myself.blockColor[info.category]\r\n                );\r\n            },\r\n            null,\r\n            function () {\r\n                return myself.showingWatcher(selector);\r\n            },\r\n            null\r\n        );\r\n    }\r\n\r\n    function variableWatcherToggle(varName) {\r\n        return new ToggleMorph(\r\n            'checkbox',\r\n            this,\r\n            function () {\r\n                myself.toggleVariableWatcher(varName);\r\n            },\r\n            null,\r\n            function () {\r\n                return myself.showingVariableWatcher(varName);\r\n            },\r\n            null\r\n        );\r\n    }\r\n\r\n    function helpMenu() {\r\n        var menu = new MenuMorph(this);\r\n        menu.addItem('help...', 'showHelp');\r\n        return menu;\r\n    }\r\n\r\n    function addVar(pair) {\r\n        var ide;\r\n        if (pair) {\r\n            if (myself.isVariableNameInUse(pair[0], pair[1])) {\r\n                myself.inform('that name is already in use');\r\n            } else {\r\n                ide = myself.parentThatIsA(IDE_Morph);\r\n                myself.addVariable(pair[0], pair[1]);\r\n                if (!myself.showingVariableWatcher(pair[0])) {\r\n                    myself.toggleVariableWatcher(pair[0], pair[1]);\r\n                }\r\n                ide.flushBlocksCache('variables'); // b/c of inheritance\r\n                ide.refreshPalette();\r\n            }\r\n        }\r\n    }\r\n\r\n    if (cat === 'motion') {\r\n\r\n        blocks.push(block('forward'));\r\n        blocks.push(block('turn'));\r\n        blocks.push(block('turnLeft'));\r\n        blocks.push('-');\r\n        blocks.push(block('setHeading'));\r\n        blocks.push(block('doFaceTowards'));\r\n        blocks.push('-');\r\n        blocks.push(block('gotoXY'));\r\n        blocks.push(block('doGotoObject'));\r\n        blocks.push(block('doGlide'));\r\n        blocks.push('-');\r\n        blocks.push(block('changeXPosition'));\r\n        blocks.push(block('setXPosition'));\r\n        blocks.push(block('changeYPosition'));\r\n        blocks.push(block('setYPosition'));\r\n        blocks.push('-');\r\n        blocks.push(block('bounceOffEdge'));\r\n        blocks.push('-');\r\n        blocks.push(watcherToggle('xPosition'));\r\n        blocks.push(block('xPosition', this.inheritsAttribute('x position')));\r\n        blocks.push(watcherToggle('yPosition'));\r\n        blocks.push(block('yPosition', this.inheritsAttribute('y position')));\r\n        blocks.push(watcherToggle('direction'));\r\n        blocks.push(block('direction', this.inheritsAttribute('direction')));\r\n        blocks.push('=');\r\n        blocks.push(this.makeBlockButton(cat));\r\n\r\n    } else if (cat === 'looks') {\r\n\r\n        blocks.push(block('doSwitchToCostume'));\r\n        blocks.push(block('doWearNextCostume'));\r\n        blocks.push(watcherToggle('getCostumeIdx'));\r\n        blocks.push(block('getCostumeIdx', this.inheritsAttribute('costume #')));\r\n        blocks.push('-');\r\n        blocks.push(block('doSayFor'));\r\n        blocks.push(block('bubble'));\r\n        blocks.push(block('doThinkFor'));\r\n        blocks.push(block('doThink'));\r\n        blocks.push('-');\r\n        blocks.push(block('changeEffect'));\r\n        blocks.push(block('setEffect'));\r\n        blocks.push(block('clearEffects'));\r\n        blocks.push('-');\r\n        blocks.push(block('changeScale'));\r\n        blocks.push(block('setScale'));\r\n        blocks.push(watcherToggle('getScale'));\r\n        blocks.push(block('getScale', this.inheritsAttribute('size')));\r\n        blocks.push('-');\r\n        blocks.push(block('show'));\r\n        blocks.push(block('hide'));\r\n        blocks.push('-');\r\n        blocks.push(block('comeToFront'));\r\n        blocks.push(block('goBack'));\r\n\r\n    // for debugging: ///////////////\r\n\r\n        if (this.world().isDevMode) {\r\n            blocks.push('-');\r\n            txt = new TextMorph(localize(\r\n                'development mode \\ndebugging primitives:'\r\n            ));\r\n            txt.fontSize = 9;\r\n            txt.setColor(this.paletteTextColor);\r\n            blocks.push(txt);\r\n            blocks.push('-');\r\n            blocks.push(block('log'));\r\n            blocks.push(block('alert'));\r\n            blocks.push('-');\r\n            blocks.push(block('doScreenshot'));\r\n        }\r\n\r\n    /////////////////////////////////\r\n\r\n        blocks.push('=');\r\n        blocks.push(this.makeBlockButton(cat));\r\n\r\n    } else if (cat === 'sound') {\r\n\r\n        blocks.push(block('playSound'));\r\n        blocks.push(block('doPlaySoundUntilDone'));\r\n        blocks.push(block('doStopAllSounds'));\r\n        blocks.push('-');\r\n        blocks.push(block('doRest'));\r\n        blocks.push(block('doPlayNote'));\r\n        blocks.push(block('doSetInstrument'));\r\n        blocks.push('-');\r\n        blocks.push(block('doChangeTempo'));\r\n        blocks.push(block('doSetTempo'));\r\n        blocks.push(watcherToggle('getTempo'));\r\n        blocks.push(block('getTempo'));\r\n        blocks.push('=');\r\n        blocks.push(this.makeBlockButton(cat));\r\n\r\n    } else if (cat === 'pen') {\r\n\r\n        blocks.push(block('clear'));\r\n        blocks.push('-');\r\n        blocks.push(block('down'));\r\n        blocks.push(block('up'));\r\n        blocks.push('-');\r\n        blocks.push(block('setColor'));\r\n        blocks.push(block('changeHue'));\r\n        blocks.push(block('setHue'));\r\n        blocks.push('-');\r\n        blocks.push(block('changeBrightness'));\r\n        blocks.push(block('setBrightness'));\r\n        blocks.push('-');\r\n        blocks.push(block('changeSize'));\r\n        blocks.push(block('setSize'));\r\n        blocks.push('-');\r\n        blocks.push(block('doStamp'));\r\n        blocks.push(block('floodFill'));\r\n        blocks.push('-');\r\n        blocks.push(block('reportPenTrailsAsCostume'));\r\n        blocks.push('=');\r\n        blocks.push(this.makeBlockButton(cat));\r\n\r\n    } else if (cat === 'control') {\r\n\r\n        blocks.push(block('receiveGo'));\r\n        blocks.push(block('receiveKey'));\r\n        blocks.push(block('receiveInteraction'));\r\n        blocks.push(block('receiveCondition'));\r\n        blocks.push(block('receiveMessage'));\r\n        blocks.push('-');\r\n        blocks.push(block('doBroadcast'));\r\n        blocks.push(block('doBroadcastAndWait'));\r\n        blocks.push(watcherToggle('getLastMessage'));\r\n        blocks.push(block('getLastMessage'));\r\n        blocks.push('-');\r\n        blocks.push(block('doWarp'));\r\n        blocks.push('-');\r\n        blocks.push(block('doWait'));\r\n        blocks.push(block('doWaitUntil'));\r\n        blocks.push('-');\r\n        blocks.push(block('doForever'));\r\n        blocks.push(block('doRepeat'));\r\n        blocks.push(block('doUntil'));\r\n        blocks.push('-');\r\n        blocks.push(block('doIf'));\r\n        blocks.push(block('doIfElse'));\r\n        blocks.push('-');\r\n        blocks.push(block('doReport'));\r\n    /*\r\n    // old STOP variants, migrated to a newer version, now redundant\r\n        blocks.push(block('doStopBlock'));\r\n        blocks.push(block('doStop'));\r\n        blocks.push(block('doStopAll'));\r\n    */\r\n        blocks.push(block('doStopThis'));\r\n    /*\r\n        // migrated to doStopThis, now redundant\r\n        blocks.push(block('doStopOthers'));\r\n    */\r\n        blocks.push('-');\r\n        blocks.push(block('doRun'));\r\n        blocks.push(block('fork'));\r\n        blocks.push(block('evaluate'));\r\n        blocks.push('-');\r\n        blocks.push(block('doTellTo'));\r\n        blocks.push(block('reportAskFor'));\r\n        blocks.push('-');\r\n        blocks.push(block('doCallCC'));\r\n        blocks.push(block('reportCallCC'));\r\n        blocks.push('-');\r\n        blocks.push(block('receiveOnClone'));\r\n        blocks.push(block('createClone'));\r\n        blocks.push(block('newClone'));\r\n        blocks.push(block('removeClone'));\r\n        blocks.push('-');\r\n        blocks.push(block('doPauseAll'));\r\n        blocks.push('=');\r\n        blocks.push(this.makeBlockButton(cat));\r\n\r\n    } else if (cat === 'sensing') {\r\n\r\n        blocks.push(block('reportTouchingObject'));\r\n        blocks.push(block('reportTouchingColor'));\r\n        blocks.push(block('reportColorIsTouchingColor'));\r\n        blocks.push('-');\r\n        blocks.push(block('doAsk'));\r\n        blocks.push(watcherToggle('getLastAnswer'));\r\n        blocks.push(block('getLastAnswer'));\r\n        blocks.push('-');\r\n        blocks.push(watcherToggle('reportMouseX'));\r\n        blocks.push(block('reportMouseX'));\r\n        blocks.push(watcherToggle('reportMouseY'));\r\n        blocks.push(block('reportMouseY'));\r\n        blocks.push(block('reportMouseDown'));\r\n        blocks.push('-');\r\n        blocks.push(block('reportKeyPressed'));\r\n        blocks.push('-');\r\n        blocks.push(block('reportDistanceTo'));\r\n        blocks.push('-');\r\n        blocks.push(block('doResetTimer'));\r\n        blocks.push(watcherToggle('getTimer'));\r\n        blocks.push(block('getTimer'));\r\n        blocks.push('-');\r\n        blocks.push(block('reportAttributeOf'));\r\n\r\n        if (SpriteMorph.prototype.enableFirstClass) {\r\n            blocks.push(block('reportGet'));\r\n        }\r\n        blocks.push('-');\r\n\r\n        blocks.push(block('reportURL'));\r\n        blocks.push('-');\r\n        blocks.push(block('reportIsFastTracking'));\r\n        blocks.push(block('doSetFastTracking'));\r\n        blocks.push('-');\r\n        blocks.push(block('reportDate'));\r\n\r\n    // for debugging: ///////////////\r\n\r\n        if (this.world().isDevMode) {\r\n\r\n            blocks.push('-');\r\n            txt = new TextMorph(localize(\r\n                'development mode \\ndebugging primitives:'\r\n            ));\r\n            txt.fontSize = 9;\r\n            txt.setColor(this.paletteTextColor);\r\n            blocks.push(txt);\r\n            blocks.push('-');\r\n            blocks.push(watcherToggle('reportThreadCount'));\r\n            blocks.push(block('reportThreadCount'));\r\n            blocks.push(block('colorFiltered'));\r\n            blocks.push(block('reportStackSize'));\r\n            blocks.push(block('reportFrameCount'));\r\n        }\r\n\r\n\t/////////////////////////////////\r\n\r\n\t\tblocks.push('=');\r\n        blocks.push(this.makeBlockButton(cat));\r\n\r\n    } else if (cat === 'operators') {\r\n\r\n        blocks.push(block('reifyScript'));\r\n        blocks.push(block('reifyReporter'));\r\n        blocks.push(block('reifyPredicate'));\r\n        blocks.push('#');\r\n        blocks.push('-');\r\n        blocks.push(block('reportSum'));\r\n        blocks.push(block('reportDifference'));\r\n        blocks.push(block('reportProduct'));\r\n        blocks.push(block('reportQuotient'));\r\n        blocks.push('-');\r\n        blocks.push(block('reportModulus'));\r\n        blocks.push(block('reportRound'));\r\n        blocks.push(block('reportMonadic'));\r\n        blocks.push(block('reportRandom'));\r\n        blocks.push('-');\r\n        blocks.push(block('reportLessThan'));\r\n        blocks.push(block('reportEquals'));\r\n        blocks.push(block('reportGreaterThan'));\r\n        blocks.push('-');\r\n        blocks.push(block('reportAnd'));\r\n        blocks.push(block('reportOr'));\r\n        blocks.push(block('reportNot'));\r\n        blocks.push(block('reportBoolean'));\r\n        blocks.push('-');\r\n        blocks.push(block('reportJoinWords'));\r\n        blocks.push(block('reportTextSplit'));\r\n        blocks.push(block('reportLetter'));\r\n        blocks.push(block('reportStringSize'));\r\n        blocks.push('-');\r\n        blocks.push(block('reportUnicode'));\r\n        blocks.push(block('reportUnicodeAsLetter'));\r\n        blocks.push('-');\r\n        blocks.push(block('reportIsA'));\r\n        blocks.push(block('reportIsIdentical'));\r\n\r\n        if (true) { // (Process.prototype.enableJS) {\r\n            blocks.push('-');\r\n            blocks.push(block('reportJSFunction'));\r\n        }\r\n\r\n    // for debugging: ///////////////\r\n\r\n        if (this.world().isDevMode) {\r\n            blocks.push('-');\r\n            txt = new TextMorph(localize(\r\n                'development mode \\ndebugging primitives:'\r\n            ));\r\n            txt.fontSize = 9;\r\n            txt.setColor(this.paletteTextColor);\r\n            blocks.push(txt);\r\n            blocks.push('-');\r\n            blocks.push(block('reportTypeOf'));\r\n            blocks.push(block('reportTextFunction'));\r\n        }\r\n\r\n    /////////////////////////////////\r\n\r\n        blocks.push('=');\r\n        blocks.push(this.makeBlockButton(cat));\r\n\r\n    } else if (cat === 'variables') {\r\n\r\n        button = new PushButtonMorph(\r\n            null,\r\n            function () {\r\n                new VariableDialogMorph(\r\n                    null,\r\n                    addVar,\r\n                    myself\r\n                ).prompt(\r\n                    'Variable name',\r\n                    null,\r\n                    myself.world()\r\n                );\r\n            },\r\n            'Make a variable'\r\n        );\r\n        button.userMenu = helpMenu;\r\n        button.selector = 'addVariable';\r\n        button.showHelp = BlockMorph.prototype.showHelp;\r\n        blocks.push(button);\r\n\r\n        if (this.deletableVariableNames().length > 0) {\r\n            button = new PushButtonMorph(\r\n                null,\r\n                function () {\r\n                    var menu = new MenuMorph(\r\n                        myself.deleteVariable,\r\n                        null,\r\n                        myself\r\n                    );\r\n                    myself.deletableVariableNames().forEach(function (name) {\r\n                        menu.addItem(name, name);\r\n                    });\r\n                    menu.popUpAtHand(myself.world());\r\n                },\r\n                'Delete a variable'\r\n            );\r\n            button.userMenu = helpMenu;\r\n            button.selector = 'deleteVariable';\r\n            button.showHelp = BlockMorph.prototype.showHelp;\r\n            blocks.push(button);\r\n        }\r\n\r\n        blocks.push('-');\r\n\r\n        varNames = this.variables.allNames();\r\n        if (varNames.length > 0) {\r\n            varNames.forEach(function (name) {\r\n                blocks.push(variableWatcherToggle(name));\r\n                blocks.push(variableBlock(name));\r\n            });\r\n            blocks.push('-');\r\n        }\r\n\r\n        blocks.push(block('doSetVar'));\r\n        blocks.push(block('doChangeVar'));\r\n        blocks.push(block('doShowVar'));\r\n        blocks.push(block('doHideVar'));\r\n        blocks.push(block('doDeclareVariables'));\r\n\r\n    // inheritance:\r\n\r\n        if (StageMorph.prototype.enableInheritance) {\r\n            blocks.push('-');\r\n            blocks.push(block('doDeleteAttr'));\r\n        }\r\n\r\n    ///////////////////////////////\r\n\r\n        blocks.push('=');\r\n\r\n        blocks.push(block('reportNewList'));\r\n        blocks.push('-');\r\n        blocks.push(block('reportCONS'));\r\n        blocks.push(block('reportListItem'));\r\n        blocks.push(block('reportCDR'));\r\n        blocks.push('-');\r\n        blocks.push(block('reportListLength'));\r\n        blocks.push(block('reportListContainsItem'));\r\n        blocks.push('-');\r\n        blocks.push(block('doAddToList'));\r\n        blocks.push(block('doDeleteFromList'));\r\n        blocks.push(block('doInsertInList'));\r\n        blocks.push(block('doReplaceInList'));\r\n\r\n    // for debugging: ///////////////\r\n\r\n        if (this.world().isDevMode) {\r\n            blocks.push('-');\r\n            txt = new TextMorph(localize(\r\n                'development mode \\ndebugging primitives:'\r\n            ));\r\n            txt.fontSize = 9;\r\n            txt.setColor(this.paletteTextColor);\r\n            blocks.push(txt);\r\n            blocks.push('-');\r\n            blocks.push(block('reportMap'));\r\n            blocks.push('-');\r\n            blocks.push(block('doForEach'));\r\n            blocks.push(block('doShowTable'));\r\n        }\r\n\r\n    /////////////////////////////////\r\n\r\n        blocks.push('=');\r\n\r\n        if (StageMorph.prototype.enableCodeMapping) {\r\n            blocks.push(block('doMapCodeOrHeader'));\r\n            blocks.push(block('doMapValueCode'));\r\n            blocks.push(block('doMapListCode'));\r\n            blocks.push('-');\r\n            blocks.push(block('reportMappedCode'));\r\n            blocks.push('=');\r\n        }\r\n\r\n        blocks.push(this.makeBlockButton());\r\n\r\n \t}\r\n    return blocks;\r\n};\r\n\r\nSpriteMorph.prototype.makeBlockButton = function (category) {\r\n\t// answer a button that prompts the user to make a new block\r\n    var button = new PushButtonMorph(\r\n        this,\r\n\t\t'makeBlock',\r\n        'Make a block'\r\n    );\r\n\r\n    button.userMenu = function () {\r\n        var menu = new MenuMorph(this);\r\n        menu.addItem('help...', 'showHelp');\r\n        return menu;\r\n    };\r\n\r\n    button.selector = 'addCustomBlock';\r\n    button.showHelp = BlockMorph.prototype.showHelp;\r\n    return button;\r\n};\r\n\r\nSpriteMorph.prototype.makeBlock = function () {\r\n    // prompt the user to make a new block\r\n    var ide = this.parentThatIsA(IDE_Morph),\r\n        stage = this.parentThatIsA(StageMorph),\r\n        category = ide.currentCategory,\r\n        clr = SpriteMorph.prototype.blockColor[category],\r\n        myself = this,\r\n        dlg;\r\n    dlg = new BlockDialogMorph(\r\n        null,\r\n        function (definition) {\r\n            if (definition.spec !== '') {\r\n                if (definition.isGlobal) {\r\n                    stage.globalBlocks.push(definition);\r\n                } else {\r\n                    myself.customBlocks.push(definition);\r\n                }\r\n                ide.flushPaletteCache();\r\n                ide.refreshPalette();\r\n                new BlockEditorMorph(definition, myself).popUp();\r\n            }\r\n        },\r\n        myself\r\n    );\r\n    if (category !== 'variables') {\r\n        dlg.category = category;\r\n        dlg.categories.children.forEach(function (each) {\r\n            each.refresh();\r\n        });\r\n        dlg.types.children.forEach(function (each) {\r\n            each.setColor(clr);\r\n        each.refresh();\r\n        });\r\n    }\r\n    dlg.prompt(\r\n        'Make a block',\r\n        null,\r\n        myself.world()\r\n    );\r\n};\r\n\r\nSpriteMorph.prototype.palette = function (category) {\r\n    if (!this.paletteCache[category]) {\r\n        this.paletteCache[category] = this.freshPalette(category);\r\n    }\r\n    return this.paletteCache[category];\r\n};\r\n\r\nSpriteMorph.prototype.freshPalette = function (category) {\r\n    var palette = new ScrollFrameMorph(null, null, this.sliderColor),\r\n        unit = SyntaxElementMorph.prototype.fontSize,\r\n        x = 0,\r\n        y = 5,\r\n        ry = 0,\r\n        blocks,\r\n        hideNextSpace = false,\r\n        myself = this,\r\n        stage = this.parentThatIsA(StageMorph),\r\n        oldFlag = Morph.prototype.trackChanges,\r\n        shade = new Color(140, 140, 140),\r\n        searchButton,\r\n        makeButton;\r\n\r\n    Morph.prototype.trackChanges = false;\r\n\r\n    palette.owner = this;\r\n    palette.padding = unit / 2;\r\n    palette.color = this.paletteColor;\r\n    palette.growth = new Point(0, MorphicPreferences.scrollBarSize);\r\n\r\n    // toolbar:\r\n    \r\n    palette.toolBar = new AlignmentMorph('column');\r\n\r\n    searchButton = new PushButtonMorph(\r\n        this,\r\n        \"searchBlocks\",\r\n        new SymbolMorph(\"magnifierOutline\", 16)\r\n    );\r\n    searchButton.alpha = 0.2;\r\n    searchButton.padding = 1;\r\n    searchButton.hint = localize('find blocks') + '...';\r\n    searchButton.labelShadowColor = shade;\r\n    searchButton.drawNew();\r\n    searchButton.fixLayout();\r\n\tpalette.toolBar.add(searchButton); // Wiquid control the magnify icon for blocks research\r\n\r\n    makeButton = new PushButtonMorph(\r\n        this,\r\n        \"makeBlock\",\r\n        new SymbolMorph(\"cross\", 16)\r\n    );\r\n    makeButton.alpha = 0.2;\r\n    makeButton.padding = 1;\r\n    makeButton.hint = localize('Make a block') + '...';\r\n    makeButton.labelShadowColor = shade;\r\n    makeButton.drawNew();\r\n    makeButton.fixLayout();\r\n    palette.toolBar.add(makeButton);// Wiquid control the plus icon to add blocks\r\n\r\n\tpalette.toolBar.fixLayout();\r\n    palette.add(palette.toolBar); // Wiquid control the whole toolbar\r\n\r\n    // menu:\r\n    palette.userMenu = function () {\r\n        var menu = new MenuMorph(),\r\n            ide = this.parentThatIsA(IDE_Morph),\r\n            more = {\r\n                operators:\r\n                    ['reifyScript', 'reifyReporter', 'reifyPredicate'],\r\n                control:\r\n                    ['doWarp'],\r\n                variables:\r\n                    [\r\n                        'doDeclareVariables',\r\n                        'reportNewList',\r\n                        'reportCONS',\r\n                        'reportListItem',\r\n                        'reportCDR',\r\n                        'reportListLength',\r\n                        'reportListContainsItem',\r\n                        'doAddToList',\r\n                        'doDeleteFromList',\r\n                        'doInsertInList',\r\n                        'doReplaceInList'\r\n                    ]\r\n            };\r\n\r\n        function hasHiddenPrimitives() {\r\n            var defs = SpriteMorph.prototype.blocks,\r\n                hiddens = StageMorph.prototype.hiddenPrimitives;\r\n            return Object.keys(hiddens).some(function (any) {\r\n                return !isNil(defs[any]) && (defs[any].category === category\r\n                    || contains((more[category] || []), any));\r\n            });\r\n        }\r\n\r\n        function canHidePrimitives() {\r\n            return palette.contents.children.some(function (any) {\r\n                return contains(\r\n                    Object.keys(SpriteMorph.prototype.blocks),\r\n                    any.selector\r\n                );\r\n            });\r\n        }\r\n\r\n        menu.addPair(\r\n            [\r\n                new SymbolMorph(\r\n                    'magnifyingGlass',\r\n                    MorphicPreferences.menuFontSize\r\n                ),\r\n                localize('find blocks') + '...'\r\n            ],\r\n            function () {myself.searchBlocks(); },\r\n            '^F'\r\n        );\r\n        if (canHidePrimitives()) {\r\n            menu.addItem(\r\n                'hide primitives',\r\n                function () {\r\n                    var defs = SpriteMorph.prototype.blocks;\r\n                    Object.keys(defs).forEach(function (sel) {\r\n                        if (defs[sel].category === category) {\r\n                            StageMorph.prototype.hiddenPrimitives[sel] = true;\r\n                        }\r\n                    });\r\n                    (more[category] || []).forEach(function (sel) {\r\n                        StageMorph.prototype.hiddenPrimitives[sel] = true;\r\n                    });\r\n                    ide.flushBlocksCache(category);\r\n                    ide.refreshPalette();\r\n                }\r\n            );\r\n        }\r\n        if (hasHiddenPrimitives()) {\r\n            menu.addItem(\r\n                'show primitives',\r\n                function () {\r\n                    var hiddens = StageMorph.prototype.hiddenPrimitives,\r\n                        defs = SpriteMorph.prototype.blocks;\r\n                    Object.keys(hiddens).forEach(function (sel) {\r\n                        if (defs[sel] && (defs[sel].category === category)) {\r\n                            delete StageMorph.prototype.hiddenPrimitives[sel];\r\n                        }\r\n                    });\r\n                    (more[category] || []).forEach(function (sel) {\r\n                        delete StageMorph.prototype.hiddenPrimitives[sel];\r\n                    });\r\n                    ide.flushBlocksCache(category);\r\n                    ide.refreshPalette();\r\n                }\r\n            );\r\n        }\r\n        return menu;\r\n    };\r\n\r\n    // primitives:\r\n\r\n    blocks = this.blocksCache[category];\r\n    if (!blocks) {\r\n        blocks = this.blockTemplates(category);\r\n        if (this.isCachingPrimitives) {\r\n            this.blocksCache[category] = blocks;\r\n        }\r\n    }\r\n\r\n    blocks.forEach(function (block) {\r\n        if (block === null) {\r\n            return;\r\n        }\r\n        if (block === '-') {\r\n            if (hideNextSpace) {return; }\r\n            y += unit * 0.8;\r\n            hideNextSpace = true;\r\n        } else if (block === '=') {\r\n            if (hideNextSpace) {return; }\r\n            y += unit * 1.6;\r\n            hideNextSpace = true;\r\n        } else if (block === '#') {\r\n            x = 0;\r\n            y = ry;\r\n        } else {\r\n            hideNextSpace = false;\r\n            if (x === 0) {\r\n                y += unit * 0.3;\r\n            }\r\n            block.setPosition(new Point(x, y));\r\n            palette.addContents(block);\r\n            if (block instanceof ToggleMorph\r\n                    || (block instanceof RingMorph)) {\r\n                x = block.right() + unit / 2;\r\n                ry = block.bottom();\r\n            } else {\r\n                // if (block.fixLayout) {block.fixLayout(); }\r\n                x = 0;\r\n                y += block.height();\r\n            }\r\n        }\r\n    });\r\n\r\n    // global custom blocks:\r\n\r\n    if (stage) {\r\n        y += unit * 1.6;\r\n\r\n        stage.globalBlocks.forEach(function (definition) {\r\n            var block;\r\n            if (definition.category === category ||\r\n                    (category === 'variables'\r\n                        && contains(\r\n                            ['lists', 'other'],\r\n                            definition.category\r\n                        ))) {\r\n                block = definition.templateInstance();\r\n                y += unit * 0.3;\r\n                block.setPosition(new Point(x, y));\r\n                palette.addContents(block);\r\n                x = 0;\r\n                y += block.height();\r\n            }\r\n        });\r\n    }\r\n\r\n    // local custom blocks:\r\n\r\n    y += unit * 1.6;\r\n    this.customBlocks.forEach(function (definition) {\r\n        var block;\r\n        if (definition.category === category ||\r\n                (category === 'variables'\r\n                    && contains(\r\n                        ['lists', 'other'],\r\n                        definition.category\r\n                    ))) {\r\n            block = definition.templateInstance();\r\n            y += unit * 0.3;\r\n            block.setPosition(new Point(x, y));\r\n            palette.addContents(block);\r\n            x = 0;\r\n            y += block.height();\r\n        }\r\n    });\r\n\r\n    // inherited custom blocks:\r\n\r\n    // y += unit * 1.6;\r\n    if (this.exemplar) {\r\n        this.inheritedBlocks(true).forEach(function (definition) {\r\n            var block;\r\n            if (definition.category === category ||\r\n                    (category === 'variables'\r\n                        && contains(\r\n                            ['lists', 'other'],\r\n                            definition.category\r\n                        ))) {\r\n                block = definition.templateInstance();\r\n                y += unit * 0.3;\r\n                block.setPosition(new Point(x, y));\r\n                palette.addContents(block);\r\n                block.ghost();\r\n                x = 0;\r\n                y += block.height();\r\n            }\r\n        });\r\n    }\r\n\r\n    //layout\r\n\r\n    palette.scrollX(palette.padding);\r\n    palette.scrollY(palette.padding);\r\n\r\n    Morph.prototype.trackChanges = oldFlag;\r\n    return palette;\r\n};\r\n\r\n// SpriteMorph blocks searching\r\n\r\nSpriteMorph.prototype.blocksMatching = function (\r\n    searchString,\r\n    strictly,\r\n    types, // optional, ['hat', 'command', 'reporter', 'predicate']\r\n    varNames // optional, list of reachable unique variable names\r\n) {\r\n    // answer an array of block templates whose spec contains\r\n    // the given search string, ordered by descending relevance\r\n    // types is an optional array containing block types the search\r\n    // is limited to, e.g. \"command\", \"hat\", \"reporter\", \"predicate\".\r\n    // Note that \"predicate\" is not subsumed by \"reporter\" and has\r\n    // to be specified explicitly.\r\n    // if no types are specified all blocks are searched\r\n    var blocks = [],\r\n        blocksDict,\r\n        myself = this,\r\n        search = searchString.toLowerCase(),\r\n        stage = this.parentThatIsA(StageMorph),\r\n        reporterized;\r\n\r\n    if (!types || !types.length) {\r\n        types = ['hat', 'command', 'reporter', 'predicate', 'ring'];\r\n    }\r\n    if (!varNames) {varNames = []; }\r\n\r\n    function labelOf(aBlockSpec) {\r\n        var words = (BlockMorph.prototype.parseSpec(aBlockSpec)),\r\n            filtered = words.filter(\r\n                function (each) {return (each.indexOf('%') !== 0); }\r\n            );\r\n        return filtered.join(' ');\r\n    }\r\n\r\n    function fillDigits(anInt, totalDigits, fillChar) {\r\n        var ans = String(anInt);\r\n        while (ans.length < totalDigits) {ans = fillChar + ans; }\r\n        return ans;\r\n    }\r\n\r\n    function relevance(aBlockLabel, aSearchString) {\r\n        var lbl = ' ' + aBlockLabel,\r\n            idx = lbl.indexOf(aSearchString),\r\n            atWord;\r\n        if (idx === -1) {return -1; }\r\n        atWord = (lbl.charAt(idx - 1) === ' ');\r\n        if (strictly && !atWord) {return -1; }\r\n        return (atWord ? '1' : '2') + fillDigits(idx, 4, '0');\r\n    }\r\n\r\n    function primitive(selector) {\r\n        var newBlock = SpriteMorph.prototype.blockForSelector(selector, true);\r\n        newBlock.isTemplate = true;\r\n        return newBlock;\r\n    }\r\n\r\n    // variable getters\r\n    varNames.forEach(function (vName) {\r\n        var rel = relevance(labelOf(vName.toLowerCase()), search);\r\n        if (rel !== -1) {\r\n            blocks.push([myself.variableBlock(vName), rel + '1']);\r\n        }\r\n    });\r\n    // custom blocks\r\n    [this.customBlocks, stage.globalBlocks].forEach(function (blocksList) {\r\n        blocksList.forEach(function (definition) {\r\n            if (contains(types, definition.type)) {\r\n                var spec = localize(definition.blockSpec()).toLowerCase(),\r\n                    rel = relevance(labelOf(spec), search);\r\n                if (rel !== -1) {\r\n                    blocks.push([definition.templateInstance(), rel + '2']);\r\n                }\r\n            }\r\n        });\r\n    });\r\n    // primitives\r\n    blocksDict = SpriteMorph.prototype.blocks;\r\n    Object.keys(blocksDict).forEach(function (selector) {\r\n        if (!StageMorph.prototype.hiddenPrimitives[selector] &&\r\n                contains(types, blocksDict[selector].type)) {\r\n            var block = blocksDict[selector],\r\n                spec = localize(block.alias || block.spec).toLowerCase(),\r\n                rel = relevance(labelOf(spec), search);\r\n            if (\r\n                (rel !== -1) &&\r\n                    (!block.dev) &&\r\n                    (!block.only || (block.only === myself.constructor))\r\n            ) {\r\n                blocks.push([primitive(selector), rel + '3']);\r\n            }\r\n        }\r\n    });\r\n    // infix arithmetic expression\r\n    if (contains(types, 'reporter')) {\r\n        reporterized = this.reporterize(searchString);\r\n        if (reporterized) {\r\n            // reporterized.isTemplate = true;\r\n            // reporterized.isDraggable = false;\r\n            blocks.push([reporterized, '']);\r\n        }\r\n    }\r\n    blocks.sort(function (x, y) {return x[1] < y[1] ? -1 : 1; });\r\n    return blocks.map(function (each) {return each[0]; });\r\n};\r\n\r\nSpriteMorph.prototype.searchBlocks = function (\r\n    searchString,\r\n    types,\r\n    varNames,\r\n    scriptFocus\r\n) {\r\n    var myself = this,\r\n        unit = SyntaxElementMorph.prototype.fontSize,\r\n        ide = this.parentThatIsA(IDE_Morph),\r\n        oldSearch = '',\r\n        searchBar = new InputFieldMorph(searchString || ''),\r\n        searchPane = ide.createPalette('forSearch'),\r\n        blocksList = [],\r\n        selection,\r\n        focus;\r\n\r\n    function showSelection() {\r\n        if (focus) {focus.destroy(); }\r\n        if (!selection || !scriptFocus) {return; }\r\n        focus = selection.outline(\r\n            MorphicPreferences.isFlat ? new Color(150, 200, 255)\r\n                    : new Color(255, 255, 255),\r\n            2\r\n        );\r\n        searchPane.contents.add(focus);\r\n        focus.scrollIntoView();\r\n    }\r\n\r\n    function show(blocks) {\r\n        var oldFlag = Morph.prototype.trackChanges,\r\n            x = searchPane.contents.left() + 5,\r\n            y = (searchBar.bottom() + unit);\r\n        blocksList = blocks;\r\n        selection = null;\r\n        if (blocks.length && scriptFocus) {\r\n            selection = blocks[0];\r\n        }\r\n        Morph.prototype.trackChanges = false;\r\n        searchPane.contents.children = [searchPane.contents.children[0]];\r\n        blocks.forEach(function (block) {\r\n            block.setPosition(new Point(x, y));\r\n            searchPane.addContents(block);\r\n            y += block.height();\r\n            y += unit * 0.3;\r\n        });\r\n        Morph.prototype.trackChanges = oldFlag;\r\n        showSelection();\r\n        searchPane.changed();\r\n    }\r\n\r\n    searchPane.owner = this;\r\n    searchPane.color = myself.paletteColor;\r\n    searchPane.contents.color = myself.paletteColor;\r\n    searchPane.addContents(searchBar);\r\n    searchBar.drawNew();\r\n    searchBar.setWidth(ide.logo.width() - 30);\r\n    searchBar.contrast = 90;\r\n    searchBar.setPosition(\r\n        searchPane.contents.topLeft().add(new Point(10, 10))\r\n    );\r\n    searchBar.drawNew();\r\n\r\n    searchPane.accept = function () {\r\n        var search;\r\n        if (scriptFocus) {\r\n            searchBar.cancel();\r\n            if (selection) {\r\n                scriptFocus.insertBlock(selection);\r\n            }\r\n        } else {\r\n            search = searchBar.getValue();\r\n            if (search.length > 0) {\r\n                show(myself.blocksMatching(search));\r\n            }\r\n        }\r\n    };\r\n\r\n    searchPane.reactToKeystroke = function (evt) {\r\n        var search, idx, code = evt ? evt.keyCode : 0;\r\n        switch (code) {\r\n        case 38: // up arrow\r\n            if (!scriptFocus || !selection) {return; }\r\n            idx = blocksList.indexOf(selection) - 1;\r\n            if (idx < 0) {\r\n                idx = blocksList.length - 1;\r\n            }\r\n            selection = blocksList[idx];\r\n            showSelection();\r\n            return;\r\n        case 40: // down arrow\r\n            if (!scriptFocus || !selection) {return; }\r\n            idx = blocksList.indexOf(selection) + 1;\r\n            if (idx >= blocksList.length) {\r\n                idx = 0;\r\n            }\r\n            selection = blocksList[idx];\r\n            showSelection();\r\n            return;\r\n        default:\r\n            search = searchBar.getValue();\r\n            if (search !== oldSearch) {\r\n                oldSearch = search;\r\n                show(myself.blocksMatching(\r\n                    search,\r\n                    search.length < 2,\r\n                    types,\r\n                    varNames\r\n                ));\r\n            }\r\n        }\r\n    };\r\n\r\n    searchBar.cancel = function () {\r\n        ide.refreshPalette();\r\n        ide.palette.adjustScrollBars();\r\n    };\r\n\r\n    ide.fixLayout('refreshPalette');\r\n    searchBar.edit();\r\n    if (searchString) {searchPane.reactToKeystroke(); }\r\n};\r\n\r\n// SpritMorph parsing simple arithmetic expressions to reporter blocks\r\n\r\nSpriteMorph.prototype.reporterize = function (expressionString) {\r\n    // highly experimental Christmas Easter Egg 2016 :-)\r\n    var ast;\r\n\r\n    function parseInfix(expression, operator, already) {\r\n        // very basic diadic infix parser for arithmetic expressions\r\n        // with strict left-to-right operator precedence (as in Smalltalk)\r\n        // which can be overriden by - nested - parentheses.\r\n        // assumes well-formed expressions, no graceful error handling yet.\r\n\r\n        var inputs = ['', ''],\r\n            idx = 0,\r\n            ch;\r\n\r\n        function format(value) {\r\n            return value instanceof Array || isNaN(+value) ? value : +value;\r\n        }\r\n\r\n        function nested() {\r\n            var level = 1,\r\n                expr = '';\r\n            while (idx < expression.length) {\r\n                ch = expression[idx];\r\n                idx += 1;\r\n                switch (ch) {\r\n                case '(':\r\n                    level += 1;\r\n                    break;\r\n                case ')':\r\n                    level -= 1;\r\n                    if (!level) {\r\n                        return expr;\r\n                    }\r\n                    break;\r\n                }\r\n                expr += ch;\r\n            }\r\n        }\r\n\r\n        while (idx < expression.length) {\r\n            ch = expression[idx];\r\n            idx += 1;\r\n            switch (ch) {\r\n            case ' ':\r\n                break;\r\n            case '(':\r\n                if (inputs[operator ? 1 : 0].length) {\r\n                    inputs[operator ? 1 : 0] = [\r\n                        inputs[operator ? 1 : 0],\r\n                        parseInfix(nested())\r\n                    ];\r\n                } else {\r\n                    inputs[operator ? 1 : 0] = parseInfix(nested());\r\n                }\r\n                break;\r\n            case '-':\r\n            case '+':\r\n            case '*':\r\n            case '/':\r\n            case '%':\r\n            case '=':\r\n            case '<':\r\n            case '>':\r\n            case '&':\r\n            case '|':\r\n                if (!operator && !inputs[0].length) {\r\n                    inputs[0] = ch;\r\n                } else if (operator) {\r\n                    if (!inputs[1].length) {\r\n                        inputs[1] = ch;\r\n                    } else {\r\n                        return parseInfix(\r\n                            expression.slice(idx),\r\n                            ch,\r\n                            [operator, already, format(inputs[1])]\r\n                        );\r\n                    }\r\n                } else {\r\n                    operator = ch;\r\n                    already = format(inputs[0]);\r\n                }\r\n                break;\r\n            default:\r\n                inputs[operator ? 1 : 0] += ch;\r\n            }\r\n        }\r\n        if (operator) {\r\n            return [operator, already, format(inputs[1])];\r\n        }\r\n        return format(inputs[0]);\r\n    }\r\n\r\n    function blockFromAST(ast) {\r\n        var block, selectors, monads, alias, key, sel, i, inps,\r\n            off = 1,\r\n            reverseDict = {};\r\n        selectors = {\r\n            '+': 'reportSum',\r\n            '-': 'reportDifference',\r\n            '*': 'reportProduct',\r\n            '/': 'reportQuotient',\r\n            '%': 'reportModulus',\r\n            '=': 'reportEquals',\r\n            '<': 'reportLessThan',\r\n            '>': 'reportGreaterThan',\r\n            '&': 'reportAnd',\r\n            '|': 'reportOr',\r\n            round: 'reportRound',\r\n            not: 'reportNot'\r\n        };\r\n        monads = ['abs', 'ceiling', 'floor', 'sqrt', 'sin', 'cos', 'tan',\r\n            'asin', 'acos', 'atan', 'ln', 'log', 'round', 'not'];\r\n        alias = {\r\n            ceil: 'ceiling',\r\n            '!' : 'not'\r\n        };\r\n        monads.concat(['true', 'false']).forEach(function (word) {\r\n            reverseDict[localize(word).toLowerCase()] = word;\r\n        });\r\n        key = alias[ast[0]] || reverseDict[ast[0].toLowerCase()] || ast[0];\r\n        if (contains(monads, key)) { // monadic\r\n            sel = selectors[key];\r\n            if (sel) { // single input\r\n                block = SpriteMorph.prototype.blockForSelector(sel);\r\n                inps = block.inputs();\r\n            } else { // two inputs, first is function name\r\n                block = SpriteMorph.prototype.blockForSelector('reportMonadic');\r\n                inps = block.inputs();\r\n                inps[0].setContents([key]);\r\n                off = 0;\r\n            }\r\n        } else { // diadic\r\n            block = SpriteMorph.prototype.blockForSelector(selectors[key]);\r\n            inps = block.inputs();\r\n        }\r\n        for (i = 1; i < ast.length; i += 1) {\r\n            if (ast[i] instanceof Array) {\r\n                block.silentReplaceInput(inps[i - off], blockFromAST(ast[i]));\r\n            } else if (isString(ast[i])) {\r\n                if (contains(\r\n                    ['true', 'false'], reverseDict[ast[i]] || ast[i])\r\n                ) {\r\n                    block.silentReplaceInput(\r\n                        inps[i - off],\r\n                        SpriteMorph.prototype.blockForSelector(\r\n                            (reverseDict[ast[i]] || ast[i]) === 'true' ?\r\n                                    'reportTrue' : 'reportFalse'\r\n                        )\r\n                    );\r\n                } else if (ast[i] !== '_') {\r\n                    block.silentReplaceInput(\r\n                        inps[i - off],\r\n                        SpriteMorph.prototype.variableBlock(ast[i])\r\n                    );\r\n                }\r\n            } else { // number\r\n                inps[i - off].setContents(ast[i]);\r\n            }\r\n        }\r\n        block.isDraggable = true;\r\n        block.fixLayout();\r\n        block.fixBlockColor(null, true);\r\n        return block;\r\n    }\r\n\r\n    if (expressionString.length > 100) {return null; }\r\n    try {\r\n        ast = parseInfix(expressionString);\r\n        return ast instanceof Array ? blockFromAST(ast) : null;\r\n    } catch (error) {\r\n        return null;\r\n    }\r\n};\r\n\r\n// SpriteMorph variable management\r\n\r\nSpriteMorph.prototype.addVariable = function (name, isGlobal) {\r\n    var ide = this.parentThatIsA(IDE_Morph);\r\n    if (isGlobal) {\r\n        this.globalVariables().addVar(name);\r\n        if (ide) {\r\n            ide.flushBlocksCache('variables');\r\n        }\r\n    } else {\r\n        this.variables.addVar(name);\r\n        this.blocksCache.variables = null;\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.deleteVariable = function (varName) {\r\n    var ide = this.parentThatIsA(IDE_Morph);\r\n    if (!contains(this.inheritedVariableNames(true), varName)) {\r\n        // check only shadowed variables\r\n        this.deleteVariableWatcher(varName);\r\n    }\r\n    this.variables.deleteVar(varName);\r\n    if (ide) {\r\n        ide.flushBlocksCache('variables'); // b/c the var could be global\r\n        ide.refreshPalette();\r\n    }\r\n};\r\n\r\n// SpriteMorph costume management\r\n\r\nSpriteMorph.prototype.addCostume = function (costume) {\r\n    if (!costume.name) {\r\n        costume.name = 'costume' + (this.costumes.length() + 1);\r\n    }\r\n    this.shadowAttribute('costumes');\r\n    this.costumes.add(costume);\r\n};\r\n\r\nSpriteMorph.prototype.wearCostume = function (costume, noShadow) {\r\n    var x = this.xPosition ? this.xPosition() : null,\r\n        y = this.yPosition ? this.yPosition() : null,\r\n        idx = isNil(costume) ? null : this.costumes.asArray().indexOf(costume),\r\n        isWarped = this.isWarped;\r\n    if (isWarped) {\r\n        this.endWarp();\r\n    }\r\n    this.changed();\r\n    this.costume = costume;\r\n    this.drawNew();\r\n    this.changed();\r\n    if (isWarped) {\r\n        this.startWarp();\r\n    }\r\n    if (x !== null) {\r\n        this.silentGotoXY(x, y, true); // just me\r\n    }\r\n    if (this.positionTalkBubble) { // the stage doesn't talk\r\n        this.positionTalkBubble();\r\n    }\r\n    this.version = Date.now();\r\n\r\n    // propagate to children that inherit my costume #\r\n    if (!noShadow) {\r\n        this.shadowAttribute('costume #');\r\n    }\r\n    this.specimens().forEach(function (instance) {\r\n        if (instance.cachedPropagation) {\r\n            if (instance.inheritsAttribute('costume #')) {\r\n                if (idx === null) {\r\n                    instance.wearCostume(null, true);\r\n                } else if (idx === -1) {\r\n                    instance.wearCostume(costume, true);\r\n                } else {\r\n                    instance.doSwitchToCostume(idx + 1, true);\r\n                }\r\n            }\r\n        }\r\n    });\r\n\r\n};\r\n\r\nSpriteMorph.prototype.getCostumeIdx = function () {\r\n    if (this.inheritsAttribute('costume #')) {\r\n        return this.exemplar.getCostumeIdx();\r\n    }\r\n    return this.costumes.asArray().indexOf(this.costume) + 1;\r\n};\r\n\r\nSpriteMorph.prototype.doWearNextCostume = function () {\r\n    var arr = this.costumes.asArray(),\r\n        idx;\r\n    if (arr.length > 1) {\r\n        idx = arr.indexOf(this.costume);\r\n        if (idx > -1) {\r\n            idx += 1;\r\n            if (idx > (arr.length - 1)) {\r\n                idx = 0;\r\n            }\r\n            this.wearCostume(arr[idx]);\r\n        }\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.doWearPreviousCostume = function () {\r\n    var arr = this.costumes.asArray(),\r\n        idx;\r\n    if (arr.length > 1) {\r\n        idx = arr.indexOf(this.costume);\r\n        if (idx > -1) {\r\n            idx -= 1;\r\n            if (idx < 0) {\r\n                idx = arr.length - 1;\r\n            }\r\n            this.wearCostume(arr[idx]);\r\n        }\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.doSwitchToCostume = function (id, noShadow) {\r\n    if (id instanceof Costume) { // allow first-class costumes\r\n        this.wearCostume(id, noShadow);\r\n        return;\r\n    }\r\n\r\n    var num,\r\n        arr = this.costumes.asArray(),\r\n        costume;\r\n    if (\r\n        contains(\r\n            [localize('Turtle'), localize('Empty')],\r\n            (id instanceof Array ? id[0] : null)\r\n        )\r\n    ) {\r\n        costume = null;\r\n    } else {\r\n        if (id === -1) {\r\n            this.doWearPreviousCostume();\r\n            return;\r\n        }\r\n        costume = detect(arr, function (cst) {\r\n            return cst.name === id;\r\n        });\r\n        if (costume === null) {\r\n            num = parseFloat(id);\r\n            if (num === 0) {\r\n                costume = null;\r\n            } else {\r\n                costume = arr[num - 1] || null;\r\n            }\r\n        }\r\n    }\r\n    this.wearCostume(costume, noShadow);\r\n};\r\n\r\nSpriteMorph.prototype.reportCostumes = function () {\r\n    return this.costumes;\r\n};\r\n\r\n// SpriteMorph sound management\r\n\r\nSpriteMorph.prototype.addSound = function (audio, name) {\r\n    this.shadowAttribute('sounds');\r\n    this.sounds.add(new Sound(audio, name));\r\n};\r\n\r\nSpriteMorph.prototype.playSound = function (name) {\r\n    var stage = this.parentThatIsA(StageMorph),\r\n        sound = name instanceof Sound ? name : detect(\r\n            this.sounds.asArray(),\r\n            function (s) {return s.name === name; }\r\n        ),\r\n        active;\r\n    if (sound) {\r\n        active = sound.play();\r\n        if (stage) {\r\n            stage.activeSounds.push(active);\r\n            stage.activeSounds = stage.activeSounds.filter(function (aud) {\r\n                return !aud.ended && !aud.terminated;\r\n            });\r\n        }\r\n        return active;\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.reportSounds = function () {\r\n    return this.sounds;\r\n};\r\n\r\n// SpriteMorph user menu\r\n\r\nSpriteMorph.prototype.userMenu = function () {\r\n    var ide = this.parentThatIsA(IDE_Morph),\r\n        menu = new MenuMorph(this);\r\n\r\n    if (ide && ide.isAppMode) {\r\n        // menu.addItem('help', 'nop');\r\n        return menu;\r\n    }\r\n    if (!this.isTemporary) {\r\n        menu.addItem(\"duplicate\", 'duplicate');\r\n        if (StageMorph.prototype.enableInheritance) {\r\n            menu.addItem(\"clone\", 'instantiate');\r\n            menu.addLine();\r\n        }\r\n    }\r\n    menu.addItem(\"delete\", 'remove');\r\n    menu.addItem(\"move\", 'moveCenter');\r\n    if (this.costume) {\r\n        menu.addItem(\r\n            \"pivot\",\r\n            'moveRotationCenter',\r\n            'edit the costume\\'s\\nrotation center'\r\n        );\r\n    }\r\n    if (this.isTemporary) {\r\n        if (StageMorph.prototype.enableInheritance) {\r\n            menu.addItem(\r\n                \"edit\",\r\n                'perpetuateAndEdit',\r\n                'make permanent and\\nshow in the sprite corral'\r\n            );\r\n        }\r\n    } else {\r\n        menu.addItem(\"edit\", 'edit');\r\n    }\r\n    menu.addLine();\r\n    if (this.anchor) {\r\n        menu.addItem(\r\n            localize('detach from') + ' ' + this.anchor.name,\r\n            'detachFromAnchor'\r\n        );\r\n    }\r\n    if (this.parts.length) {\r\n        menu.addItem('detach all parts', 'detachAllParts');\r\n    }\r\n    menu.addItem(\"export...\", 'exportSprite');\r\n    return menu;\r\n};\r\n\r\nSpriteMorph.prototype.exportSprite = function () {\r\n    if (this.isTemporary) {return; }\r\n    var ide = this.parentThatIsA(IDE_Morph);\r\n    if (ide) {\r\n        ide.exportSprite(this);\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.edit = function () {\r\n    var ide = this.parentThatIsA(IDE_Morph);\r\n    if (ide && !ide.isAppMode) {\r\n        ide.selectSprite(this);\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.showOnStage = function () {\r\n    var stage = this.parentThatIsA(StageMorph);\r\n    if (stage) {\r\n        this.keepWithin(stage);\r\n        stage.add(this);\r\n    }\r\n    this.show();\r\n};\r\n\r\nSpriteMorph.prototype.duplicate = function () {\r\n    var ide = this.parentThatIsA(IDE_Morph);\r\n    if (ide) {\r\n        ide.duplicateSprite(this);\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.instantiate = function () {\r\n    var ide = this.parentThatIsA(IDE_Morph);\r\n    if (ide) {\r\n        ide.instantiateSprite(this);\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.remove = function () {\r\n    var ide = this.parentThatIsA(IDE_Morph);\r\n    if (ide) {\r\n        ide.removeSprite(this);\r\n    }\r\n};\r\n\r\n// SpriteMorph cloning\r\n\r\n/*\r\n    clones are temporary, partially shallow copies of sprites that don't\r\n    appear as icons in the corral. Clones get deleted when the red stop button\r\n    is pressed. Shallow-copying clones' scripts and costumes makes spawning\r\n    very fast, so they can be used for particle system simulations.\r\n    This speed-up, however, comes at the cost of some detrimental side\r\n    effects: Changes to a costume or a script of the original sprite are\r\n    in some cases shared with all of its clones, however such shared changes\r\n    are hard to predict for users and not actively propagated, so they don't\r\n    offer any reliable feature, and will not be supported as such.\r\n    Changes to the original sprite's scripts affect all of its clones, unless\r\n    the script contains any custom block whose definition contains one or more\r\n    block variables (in which case the script does get deep-copied).\r\n    The original sprite's scripting area, costumes wardrobe or sounds jukebox\r\n    are also not shared. therefore adding or deleting a script, sound or\r\n    costume in the original sprite has no effect on any of its clones.\r\n*/\r\n\r\nSpriteMorph.prototype.createClone = function (immediately) {\r\n    var stage = this.parentThatIsA(StageMorph),\r\n        clone;\r\n    if (stage && stage.cloneCount <= 5000) {\r\n        clone = this.fullCopy(true);\r\n        clone.clonify(stage, immediately);\r\n    }\r\n    return clone;\r\n};\r\n\r\nSpriteMorph.prototype.newClone = function (immediately) {\r\n    var clone = this.createClone(immediately);\r\n    if (isNil(clone)) {\r\n        throw new Error('exceeding maximum number of clones');\r\n    }\r\n    return clone;\r\n};\r\n\r\nSpriteMorph.prototype.clonify = function (stage, immediately) {\r\n    var hats,\r\n        myself = this;\r\n    this.parts.forEach(function (part) {\r\n        part.clonify(stage);\r\n    });\r\n    stage.cloneCount += 1;\r\n    this.cloneOriginName = this.isTemporary ?\r\n            this.cloneOriginName : this.name;\r\n    this.isTemporary = true;\r\n    this.name = '';\r\n    stage.add(this);\r\n    hats = this.allHatBlocksFor('__clone__init__');\r\n    hats.forEach(function (block) {\r\n        stage.threads.startProcess(\r\n            block,\r\n            myself,\r\n            stage.isThreadSafe,\r\n            null, // export result\r\n            null, // callback\r\n            null, // is clicked\r\n            immediately // without yielding\r\n        );\r\n    });\r\n    this.endWarp();\r\n};\r\n\r\nSpriteMorph.prototype.initClone = function (hats) {\r\n    // used when manually instantiating a sprite in the IDE\r\n    var stage = this.parentThatIsA(StageMorph),\r\n        myself = this;\r\n    if (stage) {\r\n        hats.forEach(function (block) {\r\n            stage.threads.startProcess(block, myself, stage.isThreadSafe);\r\n        });\r\n        this.endWarp();\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.removeClone = function () {\r\n    var exemplar = this.exemplar;\r\n    if (this.isTemporary) {\r\n        // this.stopTalking();\r\n        this.parent.threads.stopAllForReceiver(this);\r\n        this.corpsify();\r\n        this.instances.forEach(function (child) {\r\n            if (child.isTemporary) {\r\n                child.setExemplar(exemplar);\r\n            }\r\n        });\r\n        this.destroy();\r\n        this.parent.cloneCount -= 1;\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.perpetuate = function () {\r\n    // make a temporary sprite (clone) permanent\r\n    var stage = this.parentThatIsA(StageMorph),\r\n        ide = this.parentThatIsA(IDE_Morph);\r\n\r\n\t// make sure my exemplar-chain is fully perpetuated\r\n    if (this.exemplar) {\r\n        this.exemplar.perpetuate();\r\n    }\r\n    if (!this.isTemporary || !stage || !ide) {\r\n        return;\r\n    }\r\n    this.isTemporary = false;\r\n    this.name = ide.newSpriteName(this.cloneOriginName);\r\n    this.cloneOriginName = '';\r\n    stage.cloneCount -= 1;\r\n    ide.corral.addSprite(this);\r\n    ide.sprites.add(this);\r\n    this.parts.forEach(function (part) {\r\n        part.perpetuate();\r\n    });\r\n};\r\n\r\nSpriteMorph.prototype.perpetuateAndEdit = function () {\r\n    var ide = this.parentThatIsA(IDE_Morph);\r\n    if (ide) {\r\n        this.perpetuate();\r\n        ide.selectSprite(this);\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.release = function () {\r\n    // turn a permenent sprite that's an instance of another one\r\n    // into a temporary one (clone), that will vanish either when\r\n    // the \"delete this clone\" operation is executed or when the user\r\n    // hits the red stop sign button in the IDE\r\n    var stage = this.parentThatIsA(StageMorph),\r\n        ide = this.parentThatIsA(IDE_Morph),\r\n        idx;\r\n\r\n    if (this.isTemporary || !this.exemplar || !stage || !ide) {\r\n        return;\r\n    }\r\n\r\n\t// make sure all parts and instances are also released\r\n    this.parts.forEach(function (part) {\r\n        part.release();\r\n    });\r\n    this.instances.forEach(function (inst) {\r\n    \tinst.release();\r\n    });\r\n    this.isTemporary = true;\r\n    this.name = '';\r\n    this.cloneOriginName = this.exemplar.name;\r\n    stage.cloneCount += 1;\r\n    idx = ide.sprites.asArray().indexOf(this) + 1;\r\n    stage.watchers().forEach(function (watcher) {\r\n        if (watcher.object() === this) {\r\n            watcher.destroy();\r\n        }\r\n    });\r\n    if (idx > 0) {\r\n        ide.sprites.remove(idx);\r\n    }\r\n    ide.createCorral();\r\n    ide.fixLayout();\r\n    if (ide.currentSprite === this) {\r\n        ide.currentSprite = detect(\r\n            stage.children,\r\n            function (morph) {\r\n                return morph instanceof SpriteMorph && !morph.isTemporary;\r\n            }\r\n        ) || this.stage;\r\n    }\r\n    ide.selectSprite(ide.currentSprite);\r\n};\r\n\r\n// SpriteMorph deleting\r\n\r\nSpriteMorph.prototype.corpsify = function () {\r\n    this.isCorpse = true;\r\n    this.version = Date.now();\r\n};\r\n\r\n// SpriteMorph primitives\r\n\r\n// SpriteMorph hiding and showing:\r\n\r\n/*\r\n    override the inherited behavior to also hide/show all\r\n    nested parts.\r\n*/\r\n\r\nSpriteMorph.prototype.hide = function () {\r\n    SpriteMorph.uber.hide.call(this);\r\n    this.parts.forEach(function (part) {part.hide(); });\r\n};\r\n\r\nSpriteMorph.prototype.show = function () {\r\n    SpriteMorph.uber.show.call(this);\r\n    this.parts.forEach(function (part) {part.show(); });\r\n};\r\n\r\n// SpriteMorph pen color\r\n\r\nSpriteMorph.prototype.setColor = function (aColor) {\r\n    var x = this.xPosition(),\r\n        y = this.yPosition();\r\n    if (!this.color.eq(aColor)) {\r\n        this.color = aColor.copy();\r\n        if (!this.costume) {\r\n            this.drawNew();\r\n            this.silentGotoXY(x, y);\r\n        }\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.getHue = function () {\r\n    return this.color.hsv()[0] * 100;\r\n};\r\n\r\nSpriteMorph.prototype.setHue = function (num) {\r\n    var hsv = this.color.hsv(),\r\n        x = this.xPosition(),\r\n        y = this.yPosition();\r\n\r\n    hsv[0] = Math.max(Math.min(+num || 0, 100), 0) / 100;\r\n    hsv[1] = 1; // we gotta fix this at some time\r\n    this.color.set_hsv.apply(this.color, hsv);\r\n    if (!this.costume) {\r\n        this.drawNew();\r\n        this.changed();\r\n    }\r\n    this.gotoXY(x, y);\r\n};\r\n\r\nSpriteMorph.prototype.changeHue = function (delta) {\r\n    this.setHue(this.getHue() + (+delta || 0));\r\n};\r\n\r\nSpriteMorph.prototype.getBrightness = function () {\r\n    return this.color.hsv()[2] * 100;\r\n};\r\n\r\nSpriteMorph.prototype.setBrightness = function (num) {\r\n    var hsv = this.color.hsv(),\r\n        x = this.xPosition(),\r\n        y = this.yPosition();\r\n\r\n    hsv[1] = 1; // we gotta fix this at some time\r\n    hsv[2] = Math.max(Math.min(+num || 0, 100), 0) / 100;\r\n    this.color.set_hsv.apply(this.color, hsv);\r\n    if (!this.costume) {\r\n        this.drawNew();\r\n        this.changed();\r\n    }\r\n    this.gotoXY(x, y);\r\n};\r\n\r\nSpriteMorph.prototype.changeBrightness = function (delta) {\r\n    this.setBrightness(this.getBrightness() + (+delta || 0));\r\n};\r\n\r\n// SpriteMorph layers\r\n\r\nSpriteMorph.prototype.comeToFront = function () {\r\n    if (this.parent) {\r\n        this.parent.add(this);\r\n        this.changed();\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.goBack = function (layers) {\r\n    var layer,\r\n        newLayer = +layers,\r\n        targetLayer;\r\n\r\n    if (!this.parent) {return null; }\r\n    layer = this.parent.children.indexOf(this);\r\n    this.parent.removeChild(this);\r\n    targetLayer = Math.max(layer - newLayer, 0);\r\n    this.parent.children.splice(targetLayer, null, this);\r\n    this.parent.changed();\r\n};\r\n\r\n// SpriteMorph collision detection optimization\r\n\r\nSpriteMorph.prototype.overlappingImage = function (otherSprite) {\r\n    // overrides method from Morph because Sprites aren't nested Morphs\r\n    var oRect = this.bounds.intersect(otherSprite.bounds),\r\n        oImg = newCanvas(oRect.extent(), true),\r\n        ctx = oImg.getContext('2d');\r\n\r\n    if (oRect.width() < 1 || oRect.height() < 1) {\r\n        return newCanvas(new Point(1, 1), true);\r\n    }\r\n    ctx.drawImage(\r\n        this.image,\r\n        this.left() - oRect.left(),\r\n        this.top() - oRect.top()\r\n    );\r\n    ctx.globalCompositeOperation = 'source-in';\r\n    ctx.drawImage(\r\n        otherSprite.image,\r\n        otherSprite.left() - oRect.left(),\r\n        otherSprite.top() - oRect.top()\r\n    );\r\n    return oImg;\r\n};\r\n\r\n// SpriteMorph stamping\r\n\r\nSpriteMorph.prototype.doStamp = function () {\r\n    var stage = this.parent,\r\n        context = stage.penTrails().getContext('2d'),\r\n        isWarped = this.isWarped,\r\n        originalAlpha = context.globalAlpha;\r\n\r\n    if (isWarped) {\r\n        this.endWarp();\r\n    }\r\n    context.save();\r\n    context.scale(1 / stage.scale, 1 / stage.scale);\r\n    context.globalAlpha = this.alpha;\r\n    context.drawImage(\r\n        this.image,\r\n        (this.left() - stage.left()),\r\n        (this.top() - stage.top())\r\n    );\r\n    context.globalAlpha = originalAlpha;\r\n    context.restore();\r\n    this.changed();\r\n    if (isWarped) {\r\n        this.startWarp();\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.clear = function () {\r\n    this.parent.clearPenTrails();\r\n};\r\n\r\n// SpriteMorph pen size\r\n\r\nSpriteMorph.prototype.setSize = function (size) {\r\n    // pen size\r\n    if (!isNaN(size)) {\r\n        this.size = Math.min(Math.max(+size, 0.0001), 1000);\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.changeSize = function (delta) {\r\n    this.setSize(this.size + (+delta || 0));\r\n};\r\n\r\n// SpriteMorph scale\r\n\r\nSpriteMorph.prototype.getScale = function () {\r\n    // answer my scale in percent\r\n    if (this.inheritsAttribute('size')) {\r\n        return this.exemplar.getScale();\r\n    }\r\n    return this.scale * 100;\r\n};\r\n\r\nSpriteMorph.prototype.setScale = function (percentage, noShadow) {\r\n    // set my (absolute) scale in percent\r\n    var x = this.xPosition(),\r\n        y = this.yPosition(),\r\n        isWarped = this.isWarped,\r\n        realScale,\r\n        growth;\r\n\r\n    if (isWarped) {\r\n        this.endWarp();\r\n    }\r\n    realScale = (+percentage || 0) / 100;\r\n    growth = realScale / this.nestingScale;\r\n    this.nestingScale = realScale;\r\n    this.scale = Math.max(realScale, 0.01);\r\n\r\n    // apply to myself\r\n    this.changed();\r\n    this.drawNew();\r\n    this.changed();\r\n    if (isWarped) {\r\n        this.startWarp();\r\n    }\r\n    this.silentGotoXY(x, y, true); // just me\r\n    this.positionTalkBubble();\r\n\r\n    // propagate to nested parts\r\n    this.parts.forEach(function (part) {\r\n        var xDist = part.xPosition() - x,\r\n            yDist = part.yPosition() - y;\r\n        part.setScale(part.scale * 100 * growth);\r\n        part.silentGotoXY(\r\n            x + (xDist * growth),\r\n            y + (yDist * growth)\r\n        );\r\n    });\r\n\r\n    // propagate to children that inherit my scale\r\n    if (!noShadow) {\r\n        this.shadowAttribute('size');\r\n    }\r\n    this.instances.forEach(function (instance) {\r\n        if (instance.cachedPropagation) {\r\n            if (instance.inheritsAttribute('size')) {\r\n                instance.setScale(percentage, true);\r\n            }\r\n        }\r\n    });\r\n};\r\n\r\nSpriteMorph.prototype.changeScale = function (delta) {\r\n    this.setScale(this.getScale() + (+delta || 0));\r\n};\r\n\r\n// Spritemorph graphic effects\r\n\r\nSpriteMorph.prototype.graphicsChanged = function () {\r\n    var myself = this;\r\n    return Object.keys(this.graphicsValues).some(\r\n        function (any) {\r\n            return myself.graphicsValues[any] < 0 ||\r\n                    myself.graphicsValues[any] > 0;\r\n        }\r\n    );\r\n};\r\n\r\nSpriteMorph.prototype.applyGraphicsEffects = function (canvas) {\r\n  // For every effect: apply transform of that effect(canvas, stored value)\r\n  // Graphic effects from Scratch are heavily based on ScratchPlugin.c\r\n\r\n    var ctx, imagedata;\r\n\r\n    function transform_fisheye(imagedata, value) {\r\n        var pixels, newImageData, newPixels, centerX, centerY,\r\n            w, h, x, y, dx, dy, r, angle, srcX, srcY, i, srcI;\r\n\r\n        w = imagedata.width;\r\n        h = imagedata.height;\r\n        pixels = imagedata.data;\r\n        newImageData = ctx.createImageData(w, h);\r\n        newPixels = newImageData.data;\r\n\r\n        centerX = w / 2;\r\n        centerY = h / 2;\r\n        value = Math.max(0, (value + 100) / 100);\r\n        for (y = 0; y < h; y++) {\r\n            for (x = 0; x < w; x++) {\r\n                dx = (x - centerX) / centerX;\r\n                dy = (y - centerY) / centerY;\r\n                r = Math.pow(Math.sqrt(dx * dx + dy * dy), value);\r\n                if (r <= 1) {\r\n                    angle = Math.atan2(dy, dx);\r\n                    srcX = Math.floor(\r\n                        centerX + (r * Math.cos(angle) * centerX)\r\n                    );\r\n                    srcY = Math.floor(\r\n                        centerY + (r * Math.sin(angle) * centerY)\r\n                    );\r\n                } else {\r\n                    srcX = x;\r\n                    srcY = y;\r\n                }\r\n                i = (y * w + x) * 4;\r\n                srcI = (srcY * w + srcX) * 4;\r\n                newPixels[i] = pixels[srcI];\r\n                newPixels[i + 1] = pixels[srcI + 1];\r\n                newPixels[i + 2] = pixels[srcI + 2];\r\n                newPixels[i + 3] = pixels[srcI + 3];\r\n            }\r\n        }\r\n        return newImageData;\r\n    }\r\n\r\n    function transform_whirl(imagedata, value) {\r\n        var pixels, newImageData, newPixels, w, h, centerX, centerY,\r\n            x, y, radius, scaleX, scaleY, whirlRadians, radiusSquared,\r\n            dx, dy, d, factor, angle, srcX, srcY, i, srcI, sina, cosa;\r\n\r\n        w = imagedata.width;\r\n        h = imagedata.height;\r\n        pixels = imagedata.data;\r\n        newImageData = ctx.createImageData(w, h);\r\n        newPixels = newImageData.data;\r\n\r\n        centerX = w / 2;\r\n        centerY = h / 2;\r\n        radius = Math.min(centerX, centerY);\r\n        if (w < h) {\r\n            scaleX = h / w;\r\n            scaleY = 1;\r\n        } else {\r\n            scaleX = 1;\r\n            scaleY = w / h;\r\n        }\r\n        whirlRadians = -radians(value);\r\n        radiusSquared = radius * radius;\r\n        for (y = 0; y < h; y++) {\r\n            for (x = 0; x < w; x++) {\r\n                dx = scaleX * (x - centerX);\r\n                dy = scaleY * (y - centerY);\r\n                d = dx * dx + dy * dy;\r\n                if (d < radiusSquared) {\r\n                    factor = 1 - (Math.sqrt(d) / radius);\r\n                    angle = whirlRadians * (factor * factor);\r\n                    sina = Math.sin(angle);\r\n                    cosa = Math.cos(angle);\r\n                    srcX = Math.floor(\r\n                        (cosa * dx - sina * dy) / scaleX + centerX\r\n                    );\r\n                    srcY = Math.floor(\r\n                        (sina * dx + cosa * dy) / scaleY + centerY\r\n                    );\r\n                } else {\r\n                    srcX = x;\r\n                    srcY = y;\r\n                }\r\n                i = (y * w + x) * 4;\r\n                srcI = (srcY * w + srcX) * 4;\r\n                newPixels[i] = pixels[srcI];\r\n                newPixels[i + 1] = pixels[srcI + 1];\r\n                newPixels[i + 2] = pixels[srcI + 2];\r\n                newPixels[i + 3] = pixels[srcI + 3];\r\n            }\r\n        }\r\n        return newImageData;\r\n    }\r\n\r\n    function transform_pixelate(imagedata, value) {\r\n        var pixels, newImageData, newPixels, w, h,\r\n            x, y, srcX, srcY, i, srcI;\r\n\r\n        w = imagedata.width;\r\n        h = imagedata.height;\r\n        pixels = imagedata.data;\r\n        newImageData = ctx.createImageData(w, h);\r\n        newPixels = newImageData.data;\r\n\r\n        value = Math.floor(Math.abs(value / 10) + 1);\r\n        for (y = 0; y < h; y++) {\r\n            for (x = 0; x < w; x++) {\r\n                srcX = Math.floor(x / value) * value;\r\n                srcY = Math.floor(y / value) * value;\r\n                i = (y * w + x) * 4;\r\n                srcI = (srcY * w + srcX) * 4;\r\n                newPixels[i] = pixels[srcI];\r\n                newPixels[i + 1] = pixels[srcI + 1];\r\n                newPixels[i + 2] = pixels[srcI + 2];\r\n                newPixels[i + 3] = pixels[srcI + 3];\r\n            }\r\n        }\r\n        return newImageData;\r\n    }\r\n\r\n    function transform_mosaic(imagedata, value) {\r\n        var pixels, i, l, newImageData, newPixels, srcI;\r\n        pixels = imagedata.data;\r\n        newImageData = ctx.createImageData(imagedata.width, imagedata.height);\r\n        newPixels = newImageData.data;\r\n\r\n        value = Math.round((Math.abs(value) + 10) / 10);\r\n        value = Math.max(\r\n            0,\r\n            Math.min(value, Math.min(imagedata.width, imagedata.height))\r\n        );\r\n        for (i = 0, l = pixels.length; i < l; i += 4) {\r\n            srcI = i * value % l;\r\n            newPixels[i] = pixels[srcI];\r\n            newPixels[i + 1] = pixels[srcI + 1];\r\n            newPixels[i + 2] = pixels[srcI + 2];\r\n            newPixels[i + 3] = pixels[srcI + 3];\r\n        }\r\n        return newImageData;\r\n    }\r\n\r\n    function transform_duplicate(imagedata, value) {\r\n        var pixels, i;\r\n        pixels = imagedata.data;\r\n        for (i = 0; i < pixels.length; i += 4) {\r\n            pixels[i] = pixels[i * value];\r\n            pixels[i + 1] = pixels[i * value + 1];\r\n            pixels[i + 2] = pixels[i * value + 2];\r\n            pixels[i + 3] = pixels[i * value + 3];\r\n        }\r\n        return imagedata;\r\n    }\r\n\r\n    function transform_HSV(\r\n            imagedata,\r\n            hueShift,\r\n            saturationShift,\r\n            brightnessShift\r\n    ) {\r\n        var pixels, index, l, r, g, b, max, min, span,\r\n            h, s, v, i, f, p, q, t, newR, newG, newB;\r\n        pixels = imagedata.data;\r\n        for (index = 0, l = pixels.length; index < l; index += 4) {\r\n            r = pixels[index];\r\n            g = pixels[index + 1];\r\n            b = pixels[index + 2];\r\n\r\n            max = Math.max(r, g, b);\r\n            min = Math.min(r, g, b);\r\n            span = max - min;\r\n            if (span === 0) {\r\n                h = s = 0;\r\n            } else {\r\n                if (max === r) {\r\n                    h = (60 * (g - b)) / span;\r\n                } else if (max === g) {\r\n                    h = 120 + ((60 * (b - r)) / span);\r\n                } else if (max === b) {\r\n                    h = 240 + ((60 * (r - g)) / span);\r\n                }\r\n                s = (max - min) / max;\r\n            }\r\n            if (h < 0) {\r\n                h += 360;\r\n            }\r\n            v = max / 255;\r\n\r\n            h = (h + hueShift * 360 / 200) % 360;\r\n            s = Math.max(0, Math.min(s + saturationShift / 100, 1));\r\n            v = Math.max(0, Math.min(v + brightnessShift / 100, 1));\r\n\r\n            i = Math.floor(h / 60);\r\n            f = (h / 60) - i;\r\n            p = v * (1 - s);\r\n            q = v * (1 - (s * f));\r\n            t = v * (1 - (s * (1 - f)));\r\n\r\n            if (i === 0 || i === 6) {\r\n                newR = v;\r\n                newG = t;\r\n                newB = p;\r\n            } else if (i === 1) {\r\n                newR = q;\r\n                newG = v;\r\n                newB = p;\r\n            } else if (i === 2) {\r\n                newR = p;\r\n                newG = v;\r\n                newB = t;\r\n            } else if (i === 3) {\r\n                newR = p;\r\n                newG = q;\r\n                newB = v;\r\n            } else if (i === 4) {\r\n                newR = t;\r\n                newG = p;\r\n                newB = v;\r\n            } else if (i === 5) {\r\n                newR = v;\r\n                newG = p;\r\n                newB = q;\r\n            }\r\n\r\n            pixels[index] = newR * 255;\r\n            pixels[index + 1] = newG * 255;\r\n            pixels[index + 2] = newB * 255;\r\n        }\r\n        return imagedata;\r\n    }\r\n\r\n    function transform_negative (imagedata, value) {\r\n        var pixels, i, l, rcom, gcom, bcom;\r\n        pixels = imagedata.data;\r\n        for (i = 0, l = pixels.length; i < l; i += 4) {\r\n            rcom = 255 - pixels[i];\r\n            gcom = 255 - pixels[i + 1];\r\n            bcom = 255 - pixels[i + 2];\r\n\r\n            if (pixels[i] < rcom) { //compare to the complement\r\n                pixels[i] += value;\r\n            } else if (pixels[i] > rcom) {\r\n                pixels[i] -= value;\r\n            }\r\n            if (pixels[i + 1] < gcom) {\r\n                pixels[i + 1] += value;\r\n            } else if (pixels[i + 1] > gcom) {\r\n                pixels[i + 1] -= value;\r\n            }\r\n            if (pixels[i + 2] < bcom) {\r\n                pixels[i + 2] += value;\r\n            } else if (pixels[i + 2] > bcom) {\r\n                pixels[i + 2] -= value;\r\n            }\r\n        }\r\n        return imagedata;\r\n    }\r\n\r\n    function transform_comic (imagedata, value) {\r\n        var pixels, i, l;\r\n        pixels = imagedata.data;\r\n        for (i = 0, l = pixels.length; i < l; i += 4) {\r\n            pixels[i] += Math.sin(i * value) * 127 + 128;\r\n            pixels[i + 1] += Math.sin(i * value) * 127 + 128;\r\n            pixels[i + 2] += Math.sin(i * value) * 127 + 128;\r\n        }\r\n        return imagedata;\r\n    }\r\n\r\n    function transform_confetti (imagedata, value) {\r\n        var pixels, i, l;\r\n        pixels = imagedata.data;\r\n        for (i = 0, l = pixels.length; i < l; i += 1) {\r\n            pixels[i] = Math.sin(value * pixels[i]) * 127 + pixels[i];\r\n        }\r\n        return imagedata;\r\n    }\r\n\r\n    if (this.graphicsChanged()) {\r\n        ctx = canvas.getContext(\"2d\");\r\n        imagedata = ctx.getImageData(0, 0, canvas.width, canvas.height);\r\n\r\n        if (this.graphicsValues.fisheye) {\r\n            imagedata = transform_fisheye(\r\n                imagedata,\r\n                this.graphicsValues.fisheye\r\n            );\r\n        }\r\n        if (this.graphicsValues.whirl) {\r\n            imagedata = transform_whirl(\r\n                imagedata,\r\n                this.graphicsValues.whirl\r\n            );\r\n        }\r\n        if (this.graphicsValues.pixelate) {\r\n            imagedata = transform_pixelate(\r\n                imagedata,\r\n                this.graphicsValues.pixelate\r\n            );\r\n        }\r\n        if (this.graphicsValues.mosaic) {\r\n            imagedata = transform_mosaic(\r\n                imagedata,\r\n                this.graphicsValues.mosaic\r\n            );\r\n        }\r\n        if (this.graphicsValues.duplicate) {\r\n            imagedata = transform_duplicate(\r\n                imagedata,\r\n                this.graphicsValues.duplicate\r\n            );\r\n        }\r\n        if (this.graphicsValues.color ||\r\n                this.graphicsValues.saturation ||\r\n                this.graphicsValues.brightness) {\r\n            imagedata = transform_HSV(\r\n                imagedata,\r\n                this.graphicsValues.color,\r\n                this.graphicsValues.saturation,\r\n                this.graphicsValues.brightness\r\n            );\r\n        }\r\n        if (this.graphicsValues.negative) {\r\n            imagedata = transform_negative(\r\n                imagedata,\r\n                this.graphicsValues.negative\r\n            );\r\n        }\r\n        if (this.graphicsValues.comic) {\r\n            imagedata = transform_comic(\r\n                imagedata,\r\n                this.graphicsValues.comic\r\n            );\r\n        }\r\n        if (this.graphicsValues.confetti) {\r\n            imagedata = transform_confetti(\r\n                imagedata,\r\n                this.graphicsValues.confetti\r\n            );\r\n        }\r\n\r\n        ctx.putImageData(imagedata, 0, 0);\r\n    }\r\n\r\n    return canvas;\r\n};\r\n\r\nSpriteMorph.prototype.setEffect = function (effect, value) {\r\n    var eff = effect instanceof Array ? effect[0] : null;\r\n    if (eff === 'ghost') {\r\n        this.alpha = 1 - Math.min(Math.max(+value || 0, 0), 100) / 100;\r\n    } else {\r\n        this.graphicsValues[eff] = +value;\r\n    }\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nSpriteMorph.prototype.getGhostEffect = function () {\r\n    return (1 - this.alpha) * 100;\r\n};\r\n\r\nSpriteMorph.prototype.changeEffect = function (effect, value) {\r\n    var eff = effect instanceof Array ? effect[0] : null;\r\n    if (eff === 'ghost') {\r\n        this.setEffect(effect, this.getGhostEffect() + (+value || 0));\r\n    } else {\r\n        this.setEffect(effect, +this.graphicsValues[eff] + (+value));\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.clearEffects = function () {\r\n    var effect;\r\n    for (effect in this.graphicsValues) {\r\n        if (this.graphicsValues.hasOwnProperty(effect)) {\r\n            this.setEffect([effect], 0);\r\n        }\r\n    }\r\n    this.setEffect(['ghost'], 0);\r\n};\r\n\r\n// SpriteMorph talk bubble\r\n\r\nSpriteMorph.prototype.stopTalking = function () {\r\n    var bubble = this.talkBubble();\r\n    if (bubble) {bubble.destroy(); }\r\n};\r\n\r\nSpriteMorph.prototype.doThink = function (data) {\r\n    this.bubble(data, true);\r\n};\r\n\r\nSpriteMorph.prototype.bubble = function (data, isThought, isQuestion) {\r\n    var bubble,\r\n        stage = this.parentThatIsA(StageMorph);\r\n\r\n    this.stopTalking();\r\n    if (data === '' || isNil(data)) {return; }\r\n    bubble = new SpriteBubbleMorph(\r\n        data,\r\n        stage,\r\n        isThought,\r\n        isQuestion\r\n    );\r\n    this.add(bubble);\r\n    this.positionTalkBubble();\r\n};\r\n\r\nSpriteMorph.prototype.talkBubble = function () {\r\n    return detect(\r\n        this.children,\r\n        function (morph) {return morph instanceof SpeechBubbleMorph; }\r\n    );\r\n};\r\n\r\nSpriteMorph.prototype.positionTalkBubble = function () {\r\n    var stage = this.parentThatIsA(StageMorph),\r\n        stageScale = stage ? stage.scale : 1,\r\n        bubble = this.talkBubble(),\r\n        middle = this.center().y;\r\n    if (!bubble) {return null; }\r\n    bubble.show();\r\n    if (!bubble.isPointingRight) {\r\n        bubble.isPointingRight = true;\r\n        bubble.drawNew();\r\n        bubble.changed();\r\n    }\r\n    bubble.setLeft(this.right());\r\n    bubble.setBottom(this.top());\r\n    while (!this.isTouching(bubble) && bubble.bottom() < middle) {\r\n        bubble.silentMoveBy(new Point(-1, 1).scaleBy(stageScale));\r\n    }\r\n    if (!stage) {return null; }\r\n    if (bubble.right() > stage.right()) {\r\n        bubble.isPointingRight = false;\r\n        bubble.drawNew();\r\n        bubble.setRight(this.center().x);\r\n    }\r\n    bubble.keepWithin(stage);\r\n    bubble.changed();\r\n};\r\n\r\n// dragging and dropping adjustments b/c of talk bubbles and parts\r\n\r\nSpriteMorph.prototype.prepareToBeGrabbed = function (hand) {\r\n    this.removeShadow();\r\n    this.recordLayers();\r\n    this.shadowAttribute('x position');\r\n    this.shadowAttribute('y position');\r\n    if (!this.bounds.containsPoint(hand.position()) &&\r\n            this.isCorrectingOutsideDrag()) {\r\n        this.setCenter(hand.position());\r\n    }\r\n    this.addShadow();\r\n};\r\n\r\nSpriteMorph.prototype.isCorrectingOutsideDrag = function () {\r\n    // make sure I don't \"trail behind\" the hand when dragged\r\n    // override for morphs that you want to be dragged outside\r\n    // their full bounds\r\n    return !this.parts.length;\r\n};\r\n\r\nSpriteMorph.prototype.justDropped = function () {\r\n    var stage = this.parentThatIsA(StageMorph),\r\n        myself = this;\r\n    if (stage) {\r\n        stage.enableCustomHatBlocks = true;\r\n    }\r\n    if (this.exemplar) {\r\n        this.inheritedAttributes.forEach(function (att) {\r\n            if (contains(['direction', 'size', 'costume #'], att)) {\r\n                // only refresh certain propagated attributes\r\n                myself.refreshInheritedAttribute(att);\r\n            }\r\n        });\r\n    }\r\n    this.restoreLayers();\r\n    this.positionTalkBubble();\r\n    this.receiveUserInteraction('dropped');\r\n   \r\n};\r\n\r\n// SpriteMorph drawing:\r\n\r\nSpriteMorph.prototype.drawLine = function (start, dest) {\r\n    var stagePos = this.parent.bounds.origin,\r\n        stageScale = this.parent.scale,\r\n        context = this.parent.penTrails().getContext('2d'),\r\n        from = start.subtract(stagePos).divideBy(stageScale),\r\n        to = dest.subtract(stagePos).divideBy(stageScale),\r\n        damagedFrom = from.multiplyBy(stageScale).add(stagePos),\r\n        damagedTo = to.multiplyBy(stageScale).add(stagePos),\r\n        damaged = damagedFrom.rectangle(damagedTo).expandBy(\r\n            Math.max(this.size * stageScale / 2, 1)\r\n        ).intersect(this.parent.visibleBounds()).spread();\r\n\r\n    if (this.isDown) {\r\n        context.lineWidth = this.size;\r\n        context.strokeStyle = this.color.toString();\r\n        if (this.useFlatLineEnds) {\r\n            context.lineCap = 'butt';\r\n            context.lineJoin = 'miter';\r\n        } else {\r\n            context.lineCap = 'round';\r\n            context.lineJoin = 'round';\r\n        }\r\n        context.beginPath();\r\n        context.moveTo(from.x, from.y);\r\n        context.lineTo(to.x, to.y);\r\n        context.stroke();\r\n        if (this.isWarped === false) {\r\n            this.world().broken.push(damaged);\r\n        }\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.floodFill = function () {\r\n    if (!this.parent.bounds.containsPoint(this.rotationCenter())) {\r\n        return;\r\n    }\r\n    if (this.color.a > 1) {\r\n        // fix a legacy bug in Morphic color detection\r\n        this.color.a = this.color.a / 255;\r\n    }\r\n    var layer = normalizeCanvas(this.parent.penTrails()),\r\n        width = layer.width,\r\n        height = layer.height,\r\n        ctx = layer.getContext('2d'),\r\n        img = ctx.getImageData(0, 0, width, height),\r\n        dta = img.data,\r\n        stack = [\r\n            Math.round((height / 2) - this.yPosition()) * width +\r\n            Math.round(this.xPosition() + (width / 2))\r\n        ],\r\n        current,\r\n        src;\r\n\r\n    function read(p) {\r\n        var d = p * 4;\r\n        return [dta[d], dta[d + 1], dta[d + 2], dta[d + 3]];\r\n    }\r\n\r\n    function check(p) {\r\n        return p[0] === src[0] &&\r\n            p[1] === src[1] &&\r\n            p[2] === src[2] &&\r\n            p[3] === src[3];\r\n    }\r\n\r\n    src = read(stack[0]);\r\n    if (src[0] === Math.round(this.color.r) &&\r\n            src[1] === Math.round(this.color.g) &&\r\n            src[2] === Math.round(this.color.b) &&\r\n            src[3] === Math.round(this.color.a * 255)) {\r\n        return;\r\n    }\r\n    while (stack.length > 0) {\r\n        current = stack.pop();\r\n        if (check(read(current))) {\r\n            if (current % width > 1) {\r\n                stack.push(current + 1);\r\n                stack.push(current - 1);\r\n            }\r\n            if (current > 0 && current < height * width) {\r\n                stack.push(current + width);\r\n                stack.push(current - width);\r\n            }\r\n        }\r\n        dta[current * 4] = Math.round(this.color.r);\r\n        dta[current * 4 + 1] = Math.round(this.color.g);\r\n        dta[current * 4 + 2] = Math.round(this.color.b);\r\n        dta[current * 4 + 3] = Math.round(this.color.a * 255);\r\n    }\r\n    ctx.putImageData(img, 0, 0);\r\n    this.parent.changed();\r\n};\r\n\r\n// SpriteMorph pen trails as costume\r\n\r\nSpriteMorph.prototype.reportPenTrailsAsCostume = function () {\r\n    var cst = new Costume(\r\n        this.parentThatIsA(StageMorph).trailsCanvas,\r\n        this.newCostumeName(localize('Costume'))\r\n    );\r\n    cst.shrinkWrap();\r\n    return cst;\r\n};\r\n\r\n// SpriteMorph motion - adjustments due to nesting\r\n\r\nSpriteMorph.prototype.moveBy = function (delta, justMe) {\r\n    // override the inherited default to make sure my parts follow\r\n    // unless it's justMe (a correction)\r\n    var start = this.isDown && !justMe && this.parent ?\r\n            this.rotationCenter() : null;\r\n    SpriteMorph.uber.moveBy.call(this, delta);\r\n    if (start) {\r\n        this.drawLine(start, this.rotationCenter());\r\n    }\r\n    if (!justMe) {\r\n        this.parts.forEach(function (part) {\r\n            part.moveBy(delta);\r\n        });\r\n        this.instances.forEach(function (instance) {\r\n            if (instance.cachedPropagation) {\r\n                var inheritsX = instance.inheritsAttribute('x position'),\r\n                    inheritsY = instance.inheritsAttribute('y position');\r\n                if (inheritsX && inheritsY) {\r\n                    instance.moveBy(delta);\r\n                } else if (inheritsX) {\r\n                    instance.moveBy(new Point(delta.x, 0));\r\n                } else if (inheritsY) {\r\n                    instance.moveBy(new Point(0, delta.y));\r\n                }\r\n            }\r\n        });\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.silentMoveBy = function (delta, justMe) {\r\n    SpriteMorph.uber.silentMoveBy.call(this, delta);\r\n    if (!justMe && this.parent instanceof HandMorph) {\r\n        this.parts.forEach(function (part) {\r\n            part.moveBy(delta);\r\n        });\r\n        this.instances.forEach(function (instance) {\r\n            if (instance.cachedPropagation) {\r\n                var inheritsX = instance.inheritsAttribute('x position'),\r\n                    inheritsY = instance.inheritsAttribute('y position');\r\n                if (inheritsX && inheritsY) {\r\n                    instance.moveBy(delta);\r\n                } else if (inheritsX) {\r\n                    instance.moveBy(new Point(delta.x, 0));\r\n                } else if (inheritsY) {\r\n                    instance.moveBy(new Point(0, delta.y));\r\n                }\r\n            }\r\n        });\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.rootForGrab = function () {\r\n    if (this.anchor) {\r\n        return this.anchor.rootForGrab();\r\n    }\r\n    return SpriteMorph.uber.rootForGrab.call(this);\r\n};\r\n\r\nSpriteMorph.prototype.setCenter = function (aPoint, justMe) {\r\n    // override the inherited default to make sure my parts follow\r\n    // unless it's justMe\r\n    var delta = aPoint.subtract(this.center());\r\n    this.moveBy(delta, justMe);\r\n};\r\n\r\nSpriteMorph.prototype.nestingBounds = function () {\r\n    // same as fullBounds(), except that it uses \"parts\" instead of children\r\n    // and special cases the costume-less \"arrow\" shape's bounding box\r\n    var result = this.bounds;\r\n    if (!this.costume && this.penBounds) {\r\n        result = this.penBounds.translateBy(this.position());\r\n    }\r\n    this.parts.forEach(function (part) {\r\n        if (part.isVisible) {\r\n            result = result.merge(part.nestingBounds());\r\n        }\r\n    });\r\n    return result;\r\n};\r\n\r\n// SpriteMorph motion primitives\r\n\r\nSpriteMorph.prototype.setPosition = function (aPoint, justMe) {\r\n    // override the inherited default to make sure my parts follow\r\n    // unless it's justMe\r\n    var delta = aPoint.subtract(this.topLeft());\r\n    if ((delta.x !== 0) || (delta.y !== 0)) {\r\n        this.moveBy(delta, justMe);\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.forward = function (steps) {\r\n    var dest,\r\n        dist = steps * this.parent.scale || 0;\r\n\r\n    if (dist >= 0) {\r\n        dest = this.position().distanceAngle(dist, this.heading);\r\n    } else {\r\n        dest = this.position().distanceAngle(\r\n            Math.abs(dist),\r\n            (this.heading - 180)\r\n        );\r\n    }\r\n\r\n    this.shadowAttribute('x position');\r\n    this.shadowAttribute('y position');\r\n\r\n    this.setPosition(dest);\r\n    this.positionTalkBubble();\r\n};\r\n\r\nSpriteMorph.prototype.setHeading = function (degrees, noShadow) {\r\n    var x = this.xPosition(),\r\n        y = this.yPosition(),\r\n        dir = !isFinite(degrees) ? 0 : +degrees,\r\n        turn = dir - this.heading;\r\n\r\n    // apply to myself\r\n    if (this.rotationStyle) { // optimization, only redraw if rotatable\r\n        this.changed();\r\n        SpriteMorph.uber.setHeading.call(this, dir);\r\n        this.silentGotoXY(x, y, true); // just me\r\n        this.positionTalkBubble();\r\n    } else {\r\n        this.heading = ((+degrees % 360) + 360) % 360;\r\n    }\r\n\r\n    // propagate to my parts\r\n    this.parts.forEach(function (part) {\r\n        var pos = new Point(part.xPosition(), part.yPosition()),\r\n            trg = pos.rotateBy(radians(turn), new Point(x, y));\r\n        if (part.rotatesWithAnchor) {\r\n            part.turn(turn);\r\n        }\r\n        part.gotoXY(trg.x, trg.y);\r\n    });\r\n\r\n    // propagate to children that inherit my direction\r\n    if (!noShadow) {\r\n        this.shadowAttribute('direction');\r\n    }\r\n    this.instances.forEach(function (instance) {\r\n        if (instance.cachedPropagation) {\r\n            if (instance.inheritsAttribute('direction')) {\r\n                instance.setHeading(degrees, true);\r\n            }\r\n        }\r\n    });\r\n};\r\n\r\nSpriteMorph.prototype.faceToXY = function (x, y) {\r\n    var deltaX = (x - this.xPosition()) * this.parent.scale,\r\n        deltaY = (y - this.yPosition()) * this.parent.scale,\r\n        angle = Math.abs(deltaX) < 0.001 ? (deltaY < 0 ? 90 : 270)\r\n                : Math.round(\r\n                (deltaX >= 0 ? 0 : 180)\r\n                    - (Math.atan(deltaY / deltaX) * 57.2957795131)\r\n            );\r\n    this.setHeading(angle + 90);\r\n};\r\n\r\nSpriteMorph.prototype.turn = function (degrees) {\r\n    this.setHeading(this.heading + (+degrees || 0));\r\n};\r\n\r\nSpriteMorph.prototype.turnLeft = function (degrees) {\r\n    this.setHeading(this.heading - (+degrees || 0));\r\n};\r\n\r\nSpriteMorph.prototype.xPosition = function () {\r\n    if (this.inheritsAttribute('x position')) {\r\n        return this.exemplar.xPosition();\r\n    }\r\n\r\n    var stage = this.parentThatIsA(StageMorph);\r\n\r\n    if (!stage && this.parent.grabOrigin) { // I'm currently being dragged\r\n        stage = this.parent.grabOrigin.origin;\r\n    }\r\n    if (stage) {\r\n        return (this.rotationCenter().x - stage.center().x) / stage.scale;\r\n    }\r\n    return this.rotationCenter().x;\r\n};\r\n\r\nSpriteMorph.prototype.yPosition = function () {\r\n    if (this.inheritsAttribute('y position')) {\r\n        return this.exemplar.yPosition();\r\n    }\r\n\r\n    var stage = this.parentThatIsA(StageMorph);\r\n\r\n    if (!stage && this.parent.grabOrigin) { // I'm currently being dragged\r\n        stage = this.parent.grabOrigin.origin;\r\n    }\r\n    if (stage) {\r\n        return (stage.center().y - this.rotationCenter().y) / stage.scale;\r\n    }\r\n    return this.rotationCenter().y;\r\n};\r\n\r\nSpriteMorph.prototype.direction = function () {\r\n    if (this.inheritsAttribute('direction')) {\r\n        return this.exemplar.direction();\r\n    }\r\n    return this.heading;\r\n};\r\n\r\nSpriteMorph.prototype.penSize = function () {\r\n    return this.size;\r\n};\r\n\r\nSpriteMorph.prototype.gotoXY = function (x, y, justMe, noShadow) {\r\n    var stage = this.parentThatIsA(StageMorph),\r\n        newX,\r\n        newY,\r\n        dest;\r\n\r\n    if (!stage) {return; }\r\n    if (!noShadow) {\r\n        this.shadowAttribute('x position');\r\n        this.shadowAttribute('y position');\r\n    }\r\n    x = !isFinite(+x) ? 0 : +x;\r\n    y = !isFinite(+y) ? 0 : +y;\r\n    newX = stage.center().x + x * stage.scale;\r\n    newY = stage.center().y - y * stage.scale;\r\n    if (this.costume) {\r\n        dest = new Point(newX, newY).subtract(this.rotationOffset);\r\n    } else {\r\n        dest = new Point(newX, newY).subtract(this.extent().divideBy(2));\r\n    }\r\n    this.setPosition(dest, justMe);\r\n    this.positionTalkBubble();\r\n};\r\n\r\nSpriteMorph.prototype.silentGotoXY = function (x, y, justMe) {\r\n    // move without drawing\r\n    // don't shadow coordinate attributes\r\n    var penState = this.isDown;\r\n    this.isDown = false;\r\n    this.gotoXY(x, y, justMe, true); // don't shadow coordinates\r\n    this.isDown = penState;\r\n};\r\n\r\nSpriteMorph.prototype.setXPosition = function (num) {\r\n    this.shadowAttribute('x position');\r\n    this.gotoXY(+num || 0, this.yPosition(), false, true);\r\n};\r\n\r\nSpriteMorph.prototype.changeXPosition = function (delta) {\r\n    this.setXPosition(this.xPosition() + (+delta || 0));\r\n};\r\n\r\nSpriteMorph.prototype.setYPosition = function (num) {\r\n    this.shadowAttribute('y position');\r\n    this.gotoXY(this.xPosition(), +num || 0, false, true);\r\n};\r\n\r\nSpriteMorph.prototype.changeYPosition = function (delta) {\r\n    this.setYPosition(this.yPosition() + (+delta || 0));\r\n};\r\n\r\nSpriteMorph.prototype.glide = function (\r\n    duration,\r\n    endX,\r\n    endY,\r\n    elapsed,\r\n    startPoint\r\n) {\r\n    var fraction, endPoint, rPos;\r\n    endPoint = new Point(endX, endY);\r\n    fraction = Math.max(Math.min(elapsed / duration, 1), 0);\r\n    rPos = startPoint.add(\r\n        endPoint.subtract(startPoint).multiplyBy(fraction)\r\n    );\r\n    this.gotoXY(rPos.x, rPos.y);\r\n};\r\n\r\nSpriteMorph.prototype.bounceOffEdge = function () {\r\n    // taking nested parts into account\r\n    var stage = this.parentThatIsA(StageMorph),\r\n        fb = this.nestingBounds(),\r\n        dirX,\r\n        dirY;\r\n\r\n    if (!stage) {return null; }\r\n    if (stage.bounds.containsRectangle(fb)) {return null; }\r\n\r\n    dirX = Math.cos(radians(this.heading - 90));\r\n    dirY = -(Math.sin(radians(this.heading - 90)));\r\n\r\n    if (fb.left() < stage.left()) {\r\n        dirX = Math.abs(dirX);\r\n    }\r\n    if (fb.right() > stage.right()) {\r\n        dirX = -(Math.abs(dirX));\r\n    }\r\n    if (fb.top() < stage.top()) {\r\n        dirY = -(Math.abs(dirY));\r\n    }\r\n    if (fb.bottom() > stage.bottom()) {\r\n        dirY = Math.abs(dirY);\r\n    }\r\n\r\n    this.shadowAttribute('x position');\r\n    this.shadowAttribute('y position');\r\n    this.shadowAttribute('direction');\r\n\r\n    this.setHeading(degrees(Math.atan2(-dirY, dirX)) + 90);\r\n    this.setPosition(this.position().add(\r\n        fb.amountToTranslateWithin(stage.bounds)\r\n    ));\r\n    this.positionTalkBubble();\r\n};\r\n\r\n// SpriteMorph rotation center / fixation point manipulation\r\n\r\nSpriteMorph.prototype.setRotationX = function (absoluteX) {\r\n  this.setRotationCenter(new Point(absoluteX, this.yPosition()));\r\n};\r\n\r\nSpriteMorph.prototype.setRotationY = function (absoluteY) {\r\n  this.setRotationCenter(new Point(this.xPosition(), absoluteY));\r\n};\r\n\r\nSpriteMorph.prototype.setRotationCenter = function (absoluteCoordinate) {\r\n    var delta, normal;\r\n    if (!this.costume) {\r\n        throw new Error('setting the rotation center requires a costume');\r\n    }\r\n    delta = absoluteCoordinate.subtract(\r\n        new Point(this.xPosition(), this.yPosition())\r\n    ).divideBy(this.scale).rotateBy(radians(90 - this.heading));\r\n    normal = this.costume.rotationCenter.add(new Point(delta.x, -delta.y));\r\n    this.costume.rotationCenter = normal;\r\n    this.drawNew();\r\n};\r\n\r\nSpriteMorph.prototype.moveRotationCenter = function () {\r\n    // make this a method of Snap >> SpriteMorph\r\n    this.world().activeHandle = new HandleMorph(\r\n        this,\r\n        null,\r\n        null,\r\n        null,\r\n        null,\r\n        'movePivot'\r\n    );\r\n};\r\n\r\nSpriteMorph.prototype.setPivot = function (worldCoordinate) {\r\n    var stage = this.parentThatIsA(StageMorph),\r\n        cntr;\r\n    if (stage) {\r\n        cntr = stage.center();\r\n        this.setRotationCenter(\r\n            new Point(\r\n                (worldCoordinate.x - cntr.x) / stage.scale,\r\n                (cntr.y - worldCoordinate.y) / stage.scale\r\n            )\r\n        );\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.xCenter = function () {\r\n    var stage = this.parentThatIsA(StageMorph);\r\n\r\n    if (!stage && this.parent.grabOrigin) { // I'm currently being dragged\r\n        stage = this.parent.grabOrigin.origin;\r\n    }\r\n    if (stage) {\r\n        return (this.center().x - stage.center().x) / stage.scale;\r\n    }\r\n    return this.center().x;\r\n};\r\n\r\nSpriteMorph.prototype.yCenter = function () {\r\n    var stage = this.parentThatIsA(StageMorph);\r\n\r\n    if (!stage && this.parent.grabOrigin) { // I'm currently being dragged\r\n        stage = this.parent.grabOrigin.origin;\r\n    }\r\n    if (stage) {\r\n        return (stage.center().y - this.center().y) / stage.scale;\r\n    }\r\n    return this.center().y;\r\n};\r\n\r\n// SpriteMorph message broadcasting\r\n\r\nSpriteMorph.prototype.allMessageNames = function () {\r\n    var msgs = [],\r\n        all = this.scripts.children.slice();\r\n    this.customBlocks.forEach(function (def) {\r\n        if (def.body) {\r\n            all.push(def.body.expression);\r\n        }\r\n        def.scripts.forEach(function (scr) {\r\n            all.push(scr);\r\n        });\r\n    });\r\n    if (this.globalBlocks) {\r\n        this.globalBlocks.forEach(function (def) {\r\n            if (def.body) {\r\n                all.push(def.body.expression);\r\n            }\r\n            def.scripts.forEach(function (scr) {\r\n                all.push(scr);\r\n            });\r\n        });\r\n    }\r\n    all.forEach(function (script) {\r\n        script.allChildren().forEach(function (morph) {\r\n            var txt;\r\n            if (morph.selector && contains(\r\n                ['receiveMessage', 'doBroadcast', 'doBroadcastAndWait'],\r\n                morph.selector\r\n            )) {\r\n                txt = morph.inputs()[0].evaluate();\r\n                if (isString(txt) && txt !== '') {\r\n                    if (!contains(msgs, txt)) {\r\n                        msgs.push(txt);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    });\r\n    return msgs;\r\n};\r\n\r\nSpriteMorph.prototype.allHatBlocksFor = function (message) {\r\n    if (typeof message === 'number') {message = message.toString(); }\r\n    return this.scripts.children.filter(function (morph) {\r\n        var event;\r\n        if (morph.selector) {\r\n            if (morph.selector === 'receiveMessage') {\r\n                event = morph.inputs()[0].evaluate();\r\n                return event === message\r\n                    || (event instanceof Array\r\n                        && message !== '__shout__go__'\r\n                        && message !== '__clone__init__');\r\n            }\r\n            if (morph.selector === 'receiveGo') {\r\n                return message === '__shout__go__';\r\n            }\r\n            if (morph.selector === 'receiveOnClone') {\r\n                return message === '__clone__init__';\r\n            }\r\n        }\r\n        return false;\r\n    });\r\n};\r\n\r\nSpriteMorph.prototype.allHatBlocksForKey = function (key) {\r\n    return this.scripts.children.filter(function (morph) {\r\n        if (morph.selector) {\r\n            if (morph.selector === 'receiveKey') {\r\n                var evt = morph.inputs()[0].evaluate()[0];\r\n                return evt === key || evt === 'any key';\r\n            }\r\n        }\r\n        return false;\r\n    });\r\n};\r\n\r\nSpriteMorph.prototype.allHatBlocksForInteraction = function (interaction) {\r\n    return this.scripts.children.filter(function (morph) {\r\n        if (morph.selector) {\r\n            if (morph.selector === 'receiveInteraction') {\r\n                return morph.inputs()[0].evaluate()[0] === interaction;\r\n            }\r\n        }\r\n        return false;\r\n    });\r\n};\r\n\r\nSpriteMorph.prototype.allGenericHatBlocks = function () {\r\n    return this.scripts.children.filter(function (morph) {\r\n        if (morph.selector) {\r\n            return morph.selector === 'receiveCondition';\r\n        }\r\n        return false;\r\n    });\r\n};\r\n\r\n// SpriteMorph events\r\n\r\nSpriteMorph.prototype.mouseClickLeft = function () {\r\n    return this.receiveUserInteraction('clicked');\r\n};\r\n\r\nSpriteMorph.prototype.mouseEnter = function () {\r\n    return this.receiveUserInteraction('mouse-entered');\r\n};\r\n\r\nSpriteMorph.prototype.mouseDownLeft = function () {\r\n    return this.receiveUserInteraction('pressed');\r\n};\r\n\r\nSpriteMorph.prototype.receiveUserInteraction = function (interaction) {\r\n    var stage = this.parentThatIsA(StageMorph),\r\n        procs = [],\r\n        myself = this,\r\n        hats;\r\n    if (!stage) {return; } // currently dragged\r\n    hats = this.allHatBlocksForInteraction(interaction);\r\n    hats.forEach(function (block) {\r\n        procs.push(stage.threads.startProcess(\r\n            block,\r\n            myself,\r\n            stage.isThreadSafe\r\n        ));\r\n    });\r\n    return procs;\r\n};\r\n\r\nSpriteMorph.prototype.mouseDoubleClick = function () {\r\n    if (this.isTemporary) {return; }\r\n    this.edit();\r\n};\r\n\r\n// SpriteMorph timer\r\n\r\nSpriteMorph.prototype.getTimer = function () {\r\n    var stage = this.parentThatIsA(StageMorph);\r\n    if (stage) {\r\n        return stage.getTimer();\r\n    }\r\n    return 0;\r\n};\r\n\r\n// SpriteMorph tempo\r\n\r\nSpriteMorph.prototype.getTempo = function () {\r\n    var stage = this.parentThatIsA(StageMorph);\r\n    if (stage) {\r\n        return stage.getTempo();\r\n    }\r\n    return 0;\r\n};\r\n\r\n// SpriteMorph last message\r\n\r\nSpriteMorph.prototype.getLastMessage = function () {\r\n    var stage = this.parentThatIsA(StageMorph);\r\n    if (stage) {\r\n        return stage.getLastMessage();\r\n    }\r\n    return '';\r\n};\r\n\r\n// SpriteMorph user prompting\r\n\r\nSpriteMorph.prototype.getLastAnswer = function () {\r\n    return this.parentThatIsA(StageMorph).lastAnswer;\r\n};\r\n\r\n// SpriteMorph mouse coordinates\r\n\r\nSpriteMorph.prototype.reportMouseX = function () {\r\n    var stage = this.parentThatIsA(StageMorph);\r\n    if (stage) {\r\n        return stage.reportMouseX();\r\n    }\r\n    return 0;\r\n};\r\n\r\nSpriteMorph.prototype.reportMouseY = function () {\r\n    var stage = this.parentThatIsA(StageMorph);\r\n    if (stage) {\r\n        return stage.reportMouseY();\r\n    }\r\n    return 0;\r\n};\r\n\r\n// SpriteMorph thread count (for debugging)\r\n\r\nSpriteMorph.prototype.reportThreadCount = function () {\r\n    var stage = this.parentThatIsA(StageMorph);\r\n    if (stage) {\r\n        return stage.threads.processes.length;\r\n    }\r\n    return 0;\r\n};\r\n\r\n// SpriteMorph variable refactoring\r\n\r\nSpriteMorph.prototype.refactorVariableInstances = function (\r\n    oldName,\r\n    newName,\r\n    isGlobal\r\n) {\r\n    if (isGlobal && this.hasSpriteVariable(oldName)) {\r\n        return;\r\n    }\r\n\r\n    this.scripts.children.forEach(function (child) {\r\n        if (child instanceof BlockMorph) {\r\n            child.refactorVarInStack(oldName, newName);\r\n        }\r\n    });\r\n\r\n};\r\n\r\n// SpriteMorph variable watchers (for palette checkbox toggling)\r\n\r\nSpriteMorph.prototype.findVariableWatcher = function (varName) {\r\n    var stage = this.parentThatIsA(StageMorph),\r\n        globals = this.globalVariables(),\r\n        myself = this;\r\n    if (stage === null) {\r\n        return null;\r\n    }\r\n    return detect(\r\n        stage.children,\r\n        function (morph) {\r\n            return morph instanceof WatcherMorph\r\n                    && (morph.target === myself.variables\r\n                            || morph.target === globals)\r\n                    && morph.getter === varName;\r\n        }\r\n    );\r\n};\r\n\r\nSpriteMorph.prototype.toggleVariableWatcher = function (varName, isGlobal) {\r\n    var stage = this.parentThatIsA(StageMorph),\r\n        globals = this.globalVariables(),\r\n        watcher,\r\n        others;\r\n    if (stage === null) {\r\n        return null;\r\n    }\r\n    watcher = this.findVariableWatcher(varName);\r\n    if (watcher !== null) {\r\n        if (watcher.isVisible) {\r\n            watcher.hide();\r\n        } else {\r\n            watcher.show();\r\n            watcher.fixLayout(); // re-hide hidden parts\r\n            watcher.keepWithin(stage);\r\n        }\r\n        return;\r\n    }\r\n\r\n    // if no watcher exists, create a new one\r\n    if (isNil(isGlobal)) {\r\n        isGlobal = contains(globals.names(), varName);\r\n    }\r\n    watcher = new WatcherMorph(\r\n        varName,\r\n        this.blockColor.variables,\r\n        isGlobal ? globals : this.variables,\r\n        varName\r\n    );\r\n    watcher.setPosition(stage.position().add(10));\r\n    others = stage.watchers(watcher.left());\r\n    if (others.length > 0) {\r\n        watcher.setTop(others[others.length - 1].bottom());\r\n    }\r\n    stage.add(watcher);\r\n    watcher.fixLayout();\r\n    watcher.keepWithin(stage);\r\n    return watcher;\r\n};\r\n\r\nSpriteMorph.prototype.showingVariableWatcher = function (varName) {\r\n    var stage = this.parentThatIsA(StageMorph),\r\n        watcher;\r\n    if (stage === null) {\r\n        return false;\r\n    }\r\n    watcher = this.findVariableWatcher(varName);\r\n    if (watcher) {\r\n        return watcher.isVisible;\r\n    }\r\n    return false;\r\n};\r\n\r\nSpriteMorph.prototype.deleteVariableWatcher = function (varName) {\r\n    var stage = this.parentThatIsA(StageMorph),\r\n        watcher;\r\n    if (stage === null) {\r\n        return null;\r\n    }\r\n    watcher = this.findVariableWatcher(varName);\r\n    if (watcher !== null) {\r\n        watcher.destroy();\r\n    }\r\n};\r\n\r\n// SpriteMorph non-variable watchers\r\n\r\nSpriteMorph.prototype.toggleWatcher = function (selector, label, color) {\r\n    var stage = this.parentThatIsA(StageMorph),\r\n        watcher,\r\n        others;\r\n    if (!stage) { return; }\r\n    watcher = this.watcherFor(stage, selector);\r\n    if (watcher) {\r\n        if (watcher.isVisible) {\r\n            watcher.hide();\r\n        } else {\r\n            watcher.show();\r\n            watcher.fixLayout(); // re-hide hidden parts\r\n            watcher.keepWithin(stage);\r\n        }\r\n        return;\r\n    }\r\n\r\n    // if no watcher exists, create a new one\r\n    watcher = new WatcherMorph(\r\n        label,\r\n        color,\r\n        WatcherMorph.prototype.isGlobal(selector) ? stage : this,\r\n        selector\r\n    );\r\n    watcher.setPosition(stage.position().add(10));\r\n    others = stage.watchers(watcher.left());\r\n    if (others.length > 0) {\r\n        watcher.setTop(others[others.length - 1].bottom());\r\n    }\r\n    stage.add(watcher);\r\n    watcher.fixLayout();\r\n    watcher.keepWithin(stage);\r\n};\r\n\r\nSpriteMorph.prototype.showingWatcher = function (selector) {\r\n    var stage = this.parentThatIsA(StageMorph),\r\n        watcher;\r\n    if (stage === null) {\r\n        return false;\r\n    }\r\n    watcher = this.watcherFor(stage, selector);\r\n    if (watcher) {\r\n        return watcher.isVisible;\r\n    }\r\n    return false;\r\n};\r\n\r\nSpriteMorph.prototype.watcherFor = function (stage, selector) {\r\n    var myself = this;\r\n    return detect(stage.children, function (morph) {\r\n        return morph instanceof WatcherMorph &&\r\n            morph.getter === selector &&\r\n             morph.target === (morph.isGlobal(selector) ? stage : myself);\r\n    });\r\n};\r\n\r\n// SpriteMorph custom blocks\r\n\r\nSpriteMorph.prototype.deleteAllBlockInstances = function (definition) {\r\n    var stage,\r\n        blocks = definition.isGlobal ? this.allBlockInstances(definition)\r\n            : this.allIndependentInvocationsOf(definition.blockSpec());\r\n    blocks.forEach(function (each) {\r\n        each.deleteBlock();\r\n    });\r\n\r\n    // purge custom block definitions of \"corpses\"\r\n    // i.e. blocks that have been marked for deletion\r\n    if (definition.isGlobal) {\r\n        stage = this.parentThatIsA(StageMorph);\r\n        if (stage) {\r\n            stage.globalBlocks.forEach(function (def) {\r\n                def.purgeCorpses();\r\n            });\r\n            stage.children.concat(stage).forEach(function (sprite) {\r\n                if (sprite.isSnapObject) {\r\n                    sprite.customBlocks.forEach(function (def) {\r\n                        def.purgeCorpses();\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    } else {\r\n        this.allSpecimens().concat(this).forEach(function (sprite) {\r\n            sprite.customBlocks.forEach(function (def) {\r\n                def.purgeCorpses();\r\n            });\r\n        });\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.allBlockInstances = function (definition) {\r\n    var stage, objects, blocks = [], inDefinitions;\r\n    if (definition.isGlobal) {\r\n        stage = this.parentThatIsA(StageMorph);\r\n        objects = stage.children.filter(function (morph) {\r\n            return morph instanceof SpriteMorph;\r\n        });\r\n        objects.push(stage);\r\n        objects.forEach(function (sprite) {\r\n            blocks = blocks.concat(sprite.allLocalBlockInstances(definition));\r\n        });\r\n        inDefinitions = [];\r\n        stage.globalBlocks.forEach(function (def) {\r\n            def.scripts.forEach(function (eachScript) {\r\n                eachScript.allChildren().forEach(function (c) {\r\n                    if (c.isCustomBlock && (c.definition === definition)) {\r\n                        inDefinitions.push(c);\r\n                    }\r\n                });\r\n            });\r\n            if (def.body) {\r\n                def.body.expression.allChildren().forEach(function (c) {\r\n                    if (c.isCustomBlock && (c.definition === definition)) {\r\n                        inDefinitions.push(c);\r\n                    }\r\n                });\r\n            }\r\n        });\r\n        return blocks.concat(inDefinitions);\r\n    }\r\n    return this.allLocalBlockInstances(definition);\r\n};\r\n\r\nSpriteMorph.prototype.allIndependentInvocationsOf = function (aSpec) {\r\n    var blocks;\r\n    if (this.exemplar && this.exemplar.getMethod(aSpec)) {\r\n        // shadows an inherited method, don't delete\r\n        return [];\r\n    }\r\n    blocks = this.allInvocationsOf(aSpec);\r\n    this.instances.forEach(function (sprite) {\r\n        sprite.addAllInvocationsOf(aSpec, blocks);\r\n    });\r\n    return blocks;\r\n};\r\n\r\nSpriteMorph.prototype.allDependentInvocationsOf = function (aSpec) {\r\n    var blocks;\r\n    blocks = this.allInvocationsOf(aSpec);\r\n    this.instances.forEach(function (sprite) {\r\n        sprite.addAllInvocationsOf(aSpec, blocks);\r\n    });\r\n    return blocks;\r\n};\r\n\r\nSpriteMorph.prototype.allInvocationsOf = function (aSpec) {\r\n    // only inside the receiver, without the inheritance branches\r\n    var inScripts, inDefinitions, inBlockEditors, blocks;\r\n\r\n    inScripts = this.scripts.allChildren().filter(function (c) {\r\n        return c.isCustomBlock && !c.isGlobal && (c.blockSpec === aSpec);\r\n    });\r\n\r\n    inDefinitions = [];\r\n    this.customBlocks.forEach(function (def) {\r\n        def.scripts.forEach(function (eachScript) {\r\n            eachScript.allChildren().forEach(function (c) {\r\n                if (c.isCustomBlock && !c.isGlobal &&\r\n                    (c.blockSpec === aSpec)\r\n                ) {\r\n                    inDefinitions.push(c);\r\n                }\r\n            });\r\n        });\r\n        if (def.body) {\r\n            def.body.expression.allChildren().forEach(function (c) {\r\n                if (c.isCustomBlock && !c.isGlobal &&\r\n                    (c.blockSpec === aSpec)\r\n                ) {\r\n                    inDefinitions.push(c);\r\n                }\r\n            });\r\n        }\r\n    });\r\n\r\n    inBlockEditors = this.allEditorBlockInstances(null, aSpec);\r\n    blocks = inScripts.concat(inDefinitions).concat(inBlockEditors);\r\n    return blocks;\r\n};\r\n\r\nSpriteMorph.prototype.addAllInvocationsOf = function (aSpec, anArray) {\r\n    if (!this.getLocalMethod(aSpec)) {\r\n        this.allInvocationsOf(aSpec).forEach(function (block) {\r\n            anArray.push(block);\r\n        });\r\n        this.instances.forEach(function (sprite) {\r\n            sprite.addAllInvocationsOf(aSpec, anArray);\r\n        });\r\n    }\r\n};\r\n\r\n\r\nSpriteMorph.prototype.allLocalBlockInstances = function (definition) {\r\n    var inScripts, inDefinitions, inBlockEditors, inPalette, result;\r\n\r\n    inScripts = this.scripts.allChildren().filter(function (c) {\r\n        return c.isCustomBlock && (c.definition === definition);\r\n    });\r\n\r\n    inDefinitions = [];\r\n    this.customBlocks.forEach(function (def) {\r\n        if (def.body) {\r\n            def.body.expression.allChildren().forEach(function (c) {\r\n                if (c.isCustomBlock && (c.definition === definition)) {\r\n                    inDefinitions.push(c);\r\n                }\r\n            });\r\n        }\r\n    });\r\n\r\n    inBlockEditors = this.allEditorBlockInstances(definition);\r\n    inPalette = this.paletteBlockInstance(definition);\r\n\r\n    result = inScripts.concat(inDefinitions).concat(inBlockEditors);\r\n    if (inPalette) {\r\n        result.push(inPalette);\r\n    }\r\n    return result;\r\n};\r\n\r\nSpriteMorph.prototype.allEditorBlockInstances = function (definition, spec) {\r\n    // either pass a definition for global custom blocks\r\n    // or a spec for local ones\r\n    var inBlockEditors = [],\r\n        world = this.world();\r\n\r\n    if (!world) {return []; } // when copying a sprite\r\n\r\n    this.world().children.forEach(function (morph) {\r\n        if (morph instanceof BlockEditorMorph) {\r\n            morph.body.contents.allChildren().forEach(function (block) {\r\n                if (definition) { // global\r\n                    if (!block.isPrototype\r\n                            && !(block instanceof PrototypeHatBlockMorph)\r\n                            && (block.definition === definition)) {\r\n                        inBlockEditors.push(block);\r\n                    }\r\n                } else { // local\r\n                    if (block.isCustomBlock\r\n                            && !block.isGlobal\r\n                            && !block.isPrototype\r\n                            && !(block instanceof PrototypeHatBlockMorph)\r\n                            && (block.blockSpec === spec)) {\r\n                        inBlockEditors.push(block);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    });\r\n    return inBlockEditors;\r\n};\r\n\r\nSpriteMorph.prototype.paletteBlockInstance = function (definition) {\r\n    var ide = this.parentThatIsA(IDE_Morph);\r\n    if (!ide) {return null; }\r\n    return detect(\r\n        ide.palette.contents.children,\r\n        function (block) {\r\n            return block.isCustomBlock &&\r\n                (block.definition === definition);\r\n        }\r\n    );\r\n};\r\n\r\nSpriteMorph.prototype.usesBlockInstance = function (\r\n    definition,\r\n    forRemoval, // optional bool\r\n    skipGlobals, // optional bool\r\n    skipBlocks // optional array with ignorable definitions\r\n) {\r\n    var inDefinitions,\r\n        inScripts = detect(\r\n            this.scripts.allChildren(),\r\n            function (c) {\r\n                return c.isCustomBlock && (c.definition === definition);\r\n            }\r\n        );\r\n\r\n    if (inScripts) {return true; }\r\n\r\n    if (definition.isGlobal && !skipGlobals) {\r\n        inDefinitions = [];\r\n        this.parentThatIsA(StageMorph).globalBlocks.forEach(\r\n            function (def) {\r\n                if (forRemoval && (definition === def)) {return; }\r\n                if (skipBlocks && contains(skipBlocks, def)) {return; }\r\n                if (def.body) {\r\n                    def.body.expression.allChildren().forEach(function (c) {\r\n                        if (c.isCustomBlock && (c.definition === definition)) {\r\n                            inDefinitions.push(c);\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n        );\r\n        if (inDefinitions.length > 0) {return true; }\r\n    }\r\n\r\n    inDefinitions = [];\r\n    this.customBlocks.forEach(function (def) {\r\n        if (def.body) {\r\n            def.body.expression.allChildren().forEach(function (c) {\r\n                if (c.isCustomBlock && (c.definition === definition)) {\r\n                    inDefinitions.push(c);\r\n                }\r\n            });\r\n        }\r\n    });\r\n    return (inDefinitions.length > 0);\r\n};\r\n\r\nSpriteMorph.prototype.doubleDefinitionsFor = function (definition) {\r\n    var spec = definition.blockSpec(),\r\n        blockList,\r\n        idx,\r\n        stage;\r\n\r\n    if (definition.isGlobal) {\r\n        stage = this.parentThatIsA(StageMorph);\r\n        if (!stage) {return []; }\r\n        blockList = stage.globalBlocks;\r\n    } else {\r\n        blockList = this.customBlocks;\r\n    }\r\n    idx = blockList.indexOf(definition);\r\n    if (idx === -1) {return []; }\r\n    return blockList.filter(function (def, i) {\r\n        return def.blockSpec() === spec && (i !== idx);\r\n    });\r\n};\r\n\r\nSpriteMorph.prototype.replaceDoubleDefinitionsFor = function (definition) {\r\n    var doubles = this.doubleDefinitionsFor(definition),\r\n        myself = this,\r\n        stage,\r\n        ide;\r\n    doubles.forEach(function (double) {\r\n        myself.allBlockInstances(double).forEach(function (block) {\r\n            block.definition = definition;\r\n            block.refresh();\r\n        });\r\n    });\r\n    if (definition.isGlobal) {\r\n        stage = this.parentThatIsA(StageMorph);\r\n        stage.globalBlocks = stage.globalBlocks.filter(function (def) {\r\n            return !contains(doubles, def);\r\n        });\r\n    } else {\r\n        this.customBlocks = this.customBlocks.filter(function (def) {\r\n            return !contains(doubles, def);\r\n        });\r\n    }\r\n    ide = this.parentThatIsA(IDE_Morph);\r\n    if (ide) {\r\n        ide.flushPaletteCache();\r\n        ide.refreshPalette();\r\n    }\r\n};\r\n\r\n// SpriteMorph inheritance - general\r\n\r\nSpriteMorph.prototype.chooseExemplar = function () {\r\n    var stage = this.parentThatIsA(StageMorph),\r\n        myself = this,\r\n        other = stage.children.filter(function (m) {\r\n            return m instanceof SpriteMorph &&\r\n                !m.isTemporary &&\r\n                (!contains(m.allExemplars(), myself));\r\n        }),\r\n        menu;\r\n    menu = new MenuMorph(\r\n        function (aSprite) {myself.setExemplar(aSprite); },\r\n        localize('current parent') +\r\n            ':\\n' +\r\n            (this.exemplar ? this.exemplar.name : localize('none'))\r\n    );\r\n    other.forEach(function (eachSprite) {\r\n        menu.addItem(eachSprite.name, eachSprite);\r\n    });\r\n    menu.addLine();\r\n    menu.addItem(localize('none'), null);\r\n    menu.popUpAtHand(this.world());\r\n};\r\n\r\nSpriteMorph.prototype.setExemplar = function (another) {\r\n    var ide;\r\n    this.emancipate();\r\n    this.exemplar = another;\r\n    if (another) {\r\n        this.variables.parentFrame = another.variables;\r\n        another.addSpecimen(this);\r\n    } else {\r\n        this.variables.parentFrame = this.globalVariables();\r\n    }\r\n    if (!this.isTemporary) {\r\n        ide = this.parentThatIsA(IDE_Morph);\r\n        if (ide) {\r\n            ide.flushBlocksCache('variables');\r\n            ide.refreshPalette();\r\n        }\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.prune = function () {\r\n    // sever ties with all my specimen, if any,\r\n    this.instances.forEach(function (child) {\r\n        child.shadowAllAttributes();\r\n        child.shadowAllMethods();\r\n        child.shadowAllVars();\r\n        child.exemplar = null;\r\n    });\r\n    this.instances = [];\r\n};\r\n\r\nSpriteMorph.prototype.emancipate = function () {\r\n    // sever all relations with my exemplar, if any,\r\n    // and make sure I am the root of my specimen\r\n    if (this.exemplar) {\r\n        if (!this.isTemporary) {\r\n            this.shadowAllAttributes();\r\n            this.shadowAllMethods();\r\n            this.shadowAllVars();\r\n        }\r\n        this.exemplar.removeSpecimen(this); // optimization\r\n        this.exemplar = null;\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.allExemplars = function () {\r\n    // including myself\r\n    var all = [],\r\n        current = this;\r\n    while (!isNil(current)) {\r\n        all.push(current);\r\n        current = current.exemplar;\r\n    }\r\n    return all;\r\n};\r\n\r\nSpriteMorph.prototype.specimens = function () {\r\n    // without myself\r\n    return this.instances;\r\n};\r\n\r\nSpriteMorph.prototype.allSpecimens = function () {\r\n    // without myself\r\n    var all = this.instances.slice();\r\n    this.instances.forEach(function (child) {\r\n        all.push.apply(all, child.allSpecimens());\r\n    });\r\n    return all;\r\n};\r\n\r\nSpriteMorph.prototype.addSpecimen = function (another) {\r\n    // private - use setExemplar() to establish an inheritance relationship\r\n    this.instances.push(another);\r\n};\r\n\r\nSpriteMorph.prototype.removeSpecimen = function(another) {\r\n    // private - use setExemplar(null) to cancel an inheritance relationship\r\n    var idx = this.instances.indexOf(another);\r\n    if (idx !== -1) {\r\n        this.instances.splice(idx, 1);\r\n    }\r\n};\r\n\r\n// SpriteMorph inheritance - attributes\r\n\r\nSpriteMorph.prototype.inheritsAttribute = function (aName) {\r\n    return !isNil(this.exemplar) && contains(this.inheritedAttributes, aName);\r\n};\r\n\r\nSpriteMorph.prototype.updatePropagationCache = function () {\r\n    // private - indicate whether one of my inherited attributes is technically\r\n    // propagated down from my exemplar, instead of truly shared.\r\n    // (only) needed for internal optimization caching\r\n    var myself = this;\r\n    this.cachedPropagation = !isNil(this.exemplar) && detect(\r\n        ['x position', 'y position', 'direction', 'size', 'costume #'],\r\n        function (att) {\r\n            return contains(myself.inheritedAttributes, att);\r\n        }\r\n    );\r\n};\r\n\r\nSpriteMorph.prototype.shadowedAttributes = function () {\r\n    // answer an array of attribute names that can be deleted/shared\r\n    var inherited = this.inheritedAttributes;\r\n    return this.attributes.filter(function (each) {\r\n        return !contains(inherited, each);\r\n    });\r\n};\r\n\r\nSpriteMorph.prototype.shadowAllAttributes = function () {\r\n    var myself = this;\r\n    this.attributes.forEach(function (att) {\r\n        myself.shadowAttribute(att);\r\n    });\r\n};\r\n\r\nSpriteMorph.prototype.shadowAttribute = function (aName) {\r\n    var ide, wardrobe, jukebox,\r\n        myself = this,\r\n        pos;\r\n    if (!this.inheritsAttribute(aName)) {\r\n        return;\r\n    }\r\n    ide = this.parentThatIsA(IDE_Morph);\r\n    this.inheritedAttributes = this.inheritedAttributes.filter(\r\n        function (each) {return each !== aName; }\r\n    );\r\n    if (aName === 'costumes') {\r\n        wardrobe = new List();\r\n        this.costumes.asArray().forEach(function (costume) {\r\n            var cst = costume.copy();\r\n            wardrobe.add(cst);\r\n            if (costume === myself.costume) {\r\n                myself.wearCostume(cst);\r\n            }\r\n        });\r\n        this.costumes = wardrobe;\r\n        this.instances.forEach(function (obj) {\r\n            if (obj.inheritsAttribute('costumes')) {\r\n                obj.refreshInheritedAttribute('costumes');\r\n            }\r\n        });\r\n    } else if (aName === 'sounds') {\r\n        jukebox = new List();\r\n        this.sounds.asArray().forEach(function (sound) {\r\n            jukebox.add(sound.copy());\r\n        });\r\n        this.sounds = jukebox;\r\n        this.instances.forEach(function (obj) {\r\n            if (obj.inheritsAttribute('sounds')) {\r\n                obj.refreshInheritedAttribute('sounds');\r\n            }\r\n        });\r\n    } else if (aName === 'scripts') {\r\n        ide.stage.threads.stopAllForReceiver(this);\r\n        pos = this.scripts.position();\r\n        this.scripts = this.exemplar.scripts.fullCopy();\r\n        if (ide && (contains(ide.currentSprite.allExemplars(), this))) {\r\n            ide.createSpriteEditor();\r\n            ide.fixLayout('selectSprite');\r\n            this.scripts.fixMultiArgs();\r\n            this.scripts.setPosition(pos);\r\n            ide.spriteEditor.adjustScrollBars();\r\n        }\r\n        this.instances.forEach(function (obj) {\r\n            if (obj.inheritsAttribute('scripts')) {\r\n                obj.refreshInheritedAttribute('scripts');\r\n            }\r\n        });\r\n    } else {\r\n        this.updatePropagationCache();\r\n        if (ide && !this.isTemporary) {\r\n            ide.flushBlocksCache(); // optimization: specify category if known\r\n            ide.refreshPalette();\r\n        }\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.inheritAttribute = function (aName) {\r\n    var ide = this.parentThatIsA(IDE_Morph);\r\n    if (!this.exemplar || !contains(this.attributes, aName)) {\r\n        return;\r\n    }\r\n    if (!this.inheritsAttribute(aName)) {\r\n        this.inheritedAttributes.push(aName);\r\n        this.refreshInheritedAttribute(aName);\r\n        if (ide) {\r\n            ide.flushBlocksCache(); // optimization: specify category\r\n            ide.refreshPalette();\r\n        }\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.refreshInheritedAttribute = function (aName) {\r\n    var ide, idx;\r\n    switch (aName) {\r\n    case 'x position':\r\n    case 'y position':\r\n        this.cachedPropagation = true;\r\n        this.gotoXY(this.xPosition(), this.yPosition(), false, true);\r\n        break;\r\n    case 'direction':\r\n        this.cachedPropagation = true;\r\n        this.setHeading(this.direction(), true);\r\n        break;\r\n    case 'size':\r\n        this.cachedPropagation = true;\r\n        this.setScale(this.getScale(), true);\r\n        break;\r\n    case 'costume #':\r\n        this.cachedPropagation = true;\r\n        this.doSwitchToCostume(this.getCostumeIdx(), true);\r\n        break;\r\n    case 'costumes':\r\n        idx = this.getCostumeIdx();\r\n        this.costumes = this.exemplar.costumes;\r\n        this.doSwitchToCostume(idx, true);\r\n        this.instances.forEach(function (sprite) {\r\n            if (sprite.inheritsAttribute('costumes')) {\r\n                sprite.refreshInheritedAttribute('costumes');\r\n            }\r\n        });\r\n        break;\r\n    case 'sounds':\r\n        this.sounds = this.exemplar.sounds;\r\n        this.instances.forEach(function (sprite) {\r\n            if (sprite.inheritsAttribute('sounds')) {\r\n                sprite.refreshInheritedAttribute('sounds');\r\n            }\r\n        });\r\n        break;\r\n    case 'scripts':\r\n        this.scripts = this.exemplar.scripts;\r\n        ide = this.parentThatIsA(IDE_Morph);\r\n        if (ide) {\r\n            ide.stage.threads.stopAllForReceiver(this);\r\n            if (contains(ide.currentSprite.allExemplars(), this)) {\r\n                ide.createSpriteEditor();\r\n                ide.fixLayout('selectSprite');\r\n            }\r\n        }\r\n        this.instances.forEach(function (sprite) {\r\n            if (sprite.inheritsAttribute('scripts')) {\r\n                sprite.refreshInheritedAttribute('scripts');\r\n            }\r\n        });\r\n        break;\r\n    default:\r\n        nop();\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.toggleInheritanceForAttribute = function (aName) {\r\n    if (this.inheritsAttribute(aName)) {\r\n        this.shadowAttribute(aName);\r\n    } else {\r\n        this.inheritAttribute(aName);\r\n    }\r\n};\r\n\r\n// SpriteMorph inheritance - variables\r\n\r\nSpriteMorph.prototype.isVariableNameInUse = function (vName, isGlobal) {\r\n    if (isGlobal) {\r\n        return contains(this.variables.allNames(), vName);\r\n    }\r\n    if (contains(this.variables.names(), vName)) {return true; }\r\n    return contains(this.globalVariables().names(), vName);\r\n};\r\n\r\nSpriteMorph.prototype.globalVariables = function () {\r\n    var current = this.variables.parentFrame;\r\n    while (current.owner) {\r\n        current = current.parentFrame;\r\n    }\r\n    return current;\r\n};\r\n\r\nSpriteMorph.prototype.shadowAllVars = function () {\r\n    var myself = this;\r\n    this.inheritedVariableNames().forEach(function (name) {\r\n        myself.shadowVar(name, myself.variables.getVar(name));\r\n    });\r\n};\r\n\r\nSpriteMorph.prototype.shadowVar = function (name, value) {\r\n    var ide;\r\n    this.variables.addVar(name, value);\r\n    if (!this.isTemporary) {\r\n        ide = this.parentThatIsA(IDE_Morph);\r\n        if (ide) {\r\n            ide.flushBlocksCache('variables');\r\n            ide.refreshPalette();\r\n        }\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.toggleInheritedVariable = function (vName) {\r\n    if (contains(this.inheritedVariableNames(true), vName)) { // is shadowed\r\n        this.deleteVariable(vName);\r\n    } else if (contains(this.inheritedVariableNames(), vName)) { // inherited\r\n        this.shadowVar(vName, this.variables.getVar(vName));\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.inheritedVariableNames = function (shadowedOnly) {\r\n    var names = [],\r\n        own = this.variables.names(),\r\n        current = this.variables.parentFrame;\r\n\r\n    function test(each) {\r\n        return shadowedOnly ? contains(own, each) : !contains(own, each);\r\n    }\r\n\r\n    while (current.owner instanceof SpriteMorph) {\r\n        names.push.apply(\r\n            names,\r\n            current.names().filter(test)\r\n        );\r\n        current = current.parentFrame;\r\n    }\r\n    return names;\r\n};\r\n\r\nSpriteMorph.prototype.deletableVariableNames = function () {\r\n    var locals = this.variables.names(),\r\n        inherited = this.inheritedVariableNames();\r\n    return locals.concat(\r\n        this.globalVariables().names().filter(\r\n            function (each) {\r\n                return !contains(locals, each) && !contains(inherited, each);\r\n            }\r\n        )\r\n    );\r\n};\r\n\r\nSpriteMorph.prototype.hasSpriteVariable = function (varName) {\r\n    return contains(this.variables.names(), varName);\r\n};\r\n\r\n// SpriteMorph inheritance - custom blocks\r\n\r\nSpriteMorph.prototype.getMethod = function (spec) {\r\n    return this.allBlocks()[spec];\r\n};\r\n\r\nSpriteMorph.prototype.getLocalMethod = function (spec) {\r\n    return this.ownBlocks()[spec];\r\n};\r\n\r\nSpriteMorph.prototype.ownBlocks = function () {\r\n    var dict = {};\r\n    this.customBlocks.forEach(function (def) {\r\n        dict[def.blockSpec()] = def;\r\n    });\r\n    return dict;\r\n};\r\n\r\nSpriteMorph.prototype.allBlocks = function (valuesOnly) {\r\n    var dict = {};\r\n    this.allExemplars().reverse().forEach(function (sprite) {\r\n        sprite.customBlocks.forEach(function (def) {\r\n            dict[def.blockSpec()] = def;\r\n        });\r\n    });\r\n    if (valuesOnly) {\r\n        return Object.keys(dict).map(function (key) {return dict[key]; });\r\n    }\r\n    return dict;\r\n};\r\n\r\nSpriteMorph.prototype.inheritedBlocks = function (valuesOnly) {\r\n    var dict = {},\r\n        own = Object.keys(this.ownBlocks()),\r\n        others = this.allExemplars().reverse();\r\n    others.pop();\r\n    others.forEach(function (sprite) {\r\n        sprite.customBlocks.forEach(function (def) {\r\n            var spec = def.blockSpec();\r\n            if (!contains(own, spec)) {\r\n                dict[spec] = def;\r\n            }\r\n        });\r\n    });\r\n    if (valuesOnly) {\r\n        return Object.keys(dict).map(function (key) {return dict[key]; });\r\n    }\r\n    return dict;\r\n};\r\n\r\nSpriteMorph.prototype.shadowAllMethods = function () {\r\n    var ide,\r\n        myself = this;\r\n    this.inheritedMethods().forEach(function (dup) {\r\n        myself.customBlocks.push(dup);\r\n    });\r\n    if (!this.isTemporary) {\r\n        ide = this.parentThatIsA(IDE_Morph);\r\n        if (ide) {\r\n            ide.flushPaletteCache();\r\n            ide.refreshPalette();\r\n        }\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.inheritedMethods = function () {\r\n    // private - pre-serialization preparation\r\n    var myself = this;\r\n    return this.inheritedBlocks(true).map(function (def) {\r\n        return def.copyAndBindTo(myself, true); // header only\r\n    });\r\n};\r\n\r\n// SpriteMorph thumbnail\r\n\r\nSpriteMorph.prototype.thumbnail = function (extentPoint) {\r\n/*\r\n    answer a new Canvas of extentPoint dimensions containing\r\n    my thumbnail representation keeping the originial aspect ratio\r\n*/\r\n    var src = this.image, // at this time sprites aren't composite morphs\r\n        scale = Math.min(\r\n            (extentPoint.x / src.width),\r\n            (extentPoint.y / src.height)\r\n        ),\r\n        xOffset = (extentPoint.x - (src.width * scale)) / 2,\r\n        yOffset = (extentPoint.y - (src.height * scale)) / 2,\r\n        trg = newCanvas(extentPoint),\r\n        ctx = trg.getContext('2d');\r\n\r\n    function xOut(style, alpha, width) {\r\n        var inset = Math.min(extentPoint.x, extentPoint.y) / 10;\r\n        ctx.strokeStyle = style;\r\n        ctx.globalAlpha = alpha;\r\n        ctx.compositeOperation = 'lighter';\r\n        ctx.lineWidth = width || 1;\r\n        ctx.moveTo(inset, inset);\r\n        ctx.lineTo(trg.width - inset, trg.height - inset);\r\n        ctx.moveTo(inset, trg.height - inset);\r\n        ctx.lineTo(trg.width - inset, inset);\r\n        ctx.stroke();\r\n    }\r\n\r\n    ctx.save();\r\n    if (this.isCorpse) {\r\n        ctx.globalAlpha = 0.3;\r\n    }\r\n    if (src.width && src.height) {\r\n        ctx.scale(scale, scale);\r\n        ctx.drawImage(\r\n            src,\r\n            Math.floor(xOffset / scale),\r\n            Math.floor(yOffset / scale)\r\n        );\r\n    }\r\n    if (this.isCorpse) {\r\n        ctx.restore();\r\n        xOut('white', 0.8, 6);\r\n        xOut('black', 0.8, 1);\r\n    }\r\n    return trg;\r\n};\r\n\r\nSpriteMorph.prototype.fullThumbnail = function (extentPoint) {\r\n    // containing parts and anchor symbols, if any\r\n    var thumb = this.thumbnail(extentPoint),\r\n        ctx = thumb.getContext('2d'),\r\n        ext = extentPoint.divideBy(3),\r\n        i = 0;\r\n\r\n    ctx.restore();\r\n    if (this.anchor) {\r\n        ctx.drawImage(\r\n            this.anchor.thumbnail(ext),\r\n            0,\r\n            0\r\n        );\r\n    }\r\n    for (i = 0; i < 3; i += 1) {\r\n        if (this.parts[i]) {\r\n            ctx.drawImage(\r\n                this.parts[i].thumbnail(ext),\r\n                i * ext.x,\r\n                extentPoint.y - ext.y\r\n            );\r\n        }\r\n    }\r\n    return thumb;\r\n};\r\n\r\n// SpriteMorph Boolean visual representation\r\n\r\nSpriteMorph.prototype.booleanMorph = function (bool) {\r\n    var sym = new BooleanSlotMorph(bool);\r\n    sym.isStatic = true;\r\n    sym.drawNew();\r\n    return sym;\r\n};\r\n\r\n// SpriteMorph nesting\r\n/*\r\n    simulate Morphic trees\r\n*/\r\n\r\nSpriteMorph.prototype.attachPart = function (aSprite) {\r\n    var v = Date.now();\r\n    if (aSprite.anchor) {\r\n        aSprite.anchor.detachPart(aSprite);\r\n    }\r\n    this.parts.push(aSprite);\r\n    this.version = v;\r\n    aSprite.anchor = this;\r\n    this.allParts().forEach(function (part) {\r\n        part.nestingScale = part.scale;\r\n    });\r\n    aSprite.version = v;\r\n};\r\n\r\nSpriteMorph.prototype.detachPart = function (aSprite) {\r\n    var idx = this.parts.indexOf(aSprite),\r\n        v;\r\n    if (idx !== -1) {\r\n        v = Date.now();\r\n        this.parts.splice(idx, 1);\r\n        this.version = v;\r\n        aSprite.anchor = null;\r\n        aSprite.version = v;\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.detachAllParts = function () {\r\n    var v = Date.now();\r\n\r\n    this.parts.forEach(function (part) {\r\n        part.anchor = null;\r\n        part.version = v;\r\n    });\r\n    this.parts = [];\r\n    this.version = v;\r\n};\r\n\r\nSpriteMorph.prototype.detachFromAnchor = function () {\r\n    if (this.anchor) {\r\n        this.anchor.detachPart(this);\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.allParts = function () {\r\n    // includes myself\r\n    var result = [this];\r\n    this.parts.forEach(function (part) {\r\n        result = result.concat(part.allParts());\r\n    });\r\n    return result;\r\n};\r\n\r\nSpriteMorph.prototype.allAnchors = function () {\r\n    // includes myself\r\n    var result = [this];\r\n    if (this.anchor !== null) {\r\n        result = result.concat(this.anchor.allAnchors());\r\n    }\r\n    return result;\r\n};\r\n\r\nSpriteMorph.prototype.recordLayers = function () {\r\n    var stage = this.parentThatIsA(StageMorph);\r\n    if (!stage) {\r\n        this.layerCache = null;\r\n        return;\r\n    }\r\n    this.layers = this.allParts();\r\n    this.layers.forEach(function (part) {\r\n        var bubble = part.talkBubble();\r\n        if (bubble) {bubble.hide(); }\r\n    });\r\n    this.layers.sort(function (x, y) {\r\n        return stage.children.indexOf(x) < stage.children.indexOf(y) ?\r\n                -1 : 1;\r\n    });\r\n};\r\n\r\nSpriteMorph.prototype.restoreLayers = function () {\r\n    if (this.layers && this.layers.length > 1) {\r\n        this.layers.forEach(function (sprite) {\r\n            sprite.comeToFront();\r\n            sprite.positionTalkBubble();\r\n        });\r\n    }\r\n    this.layers = null;\r\n};\r\n\r\n// SpriteMorph destroying\r\n\r\nSpriteMorph.prototype.destroy = function () {\r\n    // make sure to sever all inheritance ties to other sprites\r\n    if (this.anchor) {\r\n        this.anchor.detachPart(this);\r\n    }\r\n    this.emancipate();\r\n    if (!this.isTemporary) {\r\n        this.prune();\r\n    }\r\n    SpriteMorph.uber.destroy.call(this);\r\n};\r\n\r\n// SpriteMorph highlighting\r\n\r\nSpriteMorph.prototype.flash = function () {\r\n\tvar world = this.world(),\r\n\t\tmyself = this;\r\n    this.addHighlight();\r\n\tworld.animations.push(new Animation(\r\n\t\tnop,\r\n  \t\tnop,\r\n    \t0,\r\n     \t800,\r\n      \tnop,\r\n      \tfunction () {myself.removeHighlight(); }\r\n\t));\r\n};\r\n\r\nSpriteMorph.prototype.addHighlight = function (oldHighlight) {\r\n    var isHidden = !this.isVisible,\r\n        highlight;\r\n\r\n    if (isHidden) {this.show(); }\r\n    highlight = this.highlight(\r\n        oldHighlight ? oldHighlight.color : this.highlightColor,\r\n        this.highlightBorder\r\n    );\r\n    this.addBack(highlight);\r\n    this.fullChanged();\r\n    if (isHidden) {this.hide(); }\r\n    return highlight;\r\n};\r\n\r\nSpriteMorph.prototype.removeHighlight = function () {\r\n    var highlight = this.getHighlight();\r\n    if (highlight !== null) {\r\n        this.fullChanged();\r\n        this.removeChild(highlight);\r\n    }\r\n    return highlight;\r\n};\r\n\r\nSpriteMorph.prototype.toggleHighlight = function () {\r\n    if (this.getHighlight()) {\r\n        this.removeHighlight();\r\n    } else {\r\n        this.addHighlight();\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.highlight = function (color, border) {\r\n    var highlight = new SpriteHighlightMorph(),\r\n        fb = this.bounds, // sprites are not nested in a Morphic way\r\n        edge = border,\r\n        ctx;\r\n\r\n    highlight.setExtent(fb.extent().add(edge * 2));\r\n    highlight.color = color;\r\n    highlight.image = this.highlightImage(color, border);\r\n    ctx = highlight.image.getContext('2d');\r\n    ctx.drawImage(\r\n        this.highlightImage(new Color(255, 255, 255), 4),\r\n        border - 4,\r\n        border - 4\r\n    );\r\n    ctx.drawImage(\r\n        this.highlightImage(new Color(50, 50, 50), 2),\r\n        border - 2,\r\n        border - 2\r\n    );\r\n    ctx.drawImage(\r\n        this.highlightImage(new Color(255, 255, 255), 1),\r\n        border - 1,\r\n        border - 1\r\n    );\r\n    highlight.setPosition(fb.origin.subtract(new Point(edge, edge)));\r\n    return highlight;\r\n};\r\n\r\nSpriteMorph.prototype.highlightImage = function (color, border) {\r\n    var fb, img, hi, ctx, out;\r\n    fb = this.extent();\r\n    img = this.image;\r\n\r\n    hi = newCanvas(fb.add(border * 2));\r\n    ctx = hi.getContext('2d');\r\n\r\n    ctx.drawImage(img, 0, 0);\r\n    ctx.drawImage(img, border, 0);\r\n    ctx.drawImage(img, border * 2, 0);\r\n    ctx.drawImage(img, border * 2, border);\r\n    ctx.drawImage(img, border * 2, border * 2);\r\n    ctx.drawImage(img, border, border * 2);\r\n    ctx.drawImage(img, 0, border * 2);\r\n    ctx.drawImage(img, 0, border);\r\n\r\n    ctx.globalCompositeOperation = 'destination-out';\r\n    ctx.drawImage(img, border, border);\r\n\r\n    out = newCanvas(fb.add(border * 2));\r\n    ctx = out.getContext('2d');\r\n    ctx.drawImage(hi, 0, 0);\r\n    ctx.globalCompositeOperation = 'source-atop';\r\n    ctx.fillStyle = color.toString();\r\n    ctx.fillRect(0, 0, out.width, out.height);\r\n\r\n    return out;\r\n};\r\n\r\nSpriteMorph.prototype.getHighlight = function () {\r\n    var highlights;\r\n    highlights = this.children.slice(0).reverse().filter(\r\n        function (child) {\r\n            return child instanceof SpriteHighlightMorph;\r\n        }\r\n    );\r\n    if (highlights.length !== 0) {\r\n        return highlights[0];\r\n    }\r\n    return null;\r\n};\r\n\r\n// SpriteMorph nesting events\r\n\r\nSpriteMorph.prototype.mouseEnterDragging = function () {\r\n    var obj;\r\n    if (!this.enableNesting) {return; }\r\n    obj = this.world().hand.children[0];\r\n    if (this.wantsDropOf(obj)) {\r\n        this.addHighlight();\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.mouseLeave = function () {\r\n    this.receiveUserInteraction('mouse-departed');\r\n    if (!this.enableNesting) {return; }\r\n    this.removeHighlight();\r\n};\r\n\r\nSpriteMorph.prototype.wantsDropOf = function (morph) {\r\n    // allow myself to be the anchor of another sprite\r\n    // by drag & drop\r\n    return this.enableNesting\r\n        && morph instanceof SpriteIconMorph\r\n        && !contains(morph.object.allParts(), this);\r\n};\r\n\r\nSpriteMorph.prototype.reactToDropOf = function (morph, hand) {\r\n    this.removeHighlight();\r\n    this.attachPart(morph.object);\r\n    this.world().add(morph);\r\n    morph.slideBackTo(hand.grabOrigin);\r\n};\r\n\r\n// SpriteMorph screenshots\r\n\r\nSpriteMorph.prototype.newCostumeName = function (name, ignoredCostume) {\r\n    var ix = name.indexOf('('),\r\n        stem = (ix < 0) ? name : name.substring(0, ix),\r\n        count = 1,\r\n        newName = stem,\r\n        all = this.costumes.asArray().filter(\r\n            function (each) {return each !== ignoredCostume; }\r\n        ).map(\r\n            function (each) {return each.name; }\r\n        );\r\n    while (contains(all, newName)) {\r\n        count += 1;\r\n        newName = stem + '(' + count + ')';\r\n    }\r\n    return newName;\r\n};\r\n\r\nSpriteMorph.prototype.doScreenshot = function (imgSource, data) {\r\n    var canvas,\r\n        stage = this.parentThatIsA(StageMorph),\r\n        costume;\r\n    data = this.newCostumeName(data);\r\n    if (imgSource[0] === undefined) {\r\n        return;\r\n    }\r\n    if (imgSource[0] === \"pen trails\") {\r\n        canvas = stage.trailsCanvas;\r\n        costume = new Costume(canvas, data).copy(); // prevent mutation\r\n    } else if (imgSource[0] === \"stage image\") {\r\n        canvas = stage.fullImageClassic();\r\n        costume = new Costume(canvas, data);\r\n    }\r\n    this.addCostume(costume);\r\n};\r\n\r\n// SpriteHighlightMorph /////////////////////////////////////////////////\r\n\r\n// SpriteHighlightMorph inherits from Morph:\r\n\r\nSpriteHighlightMorph.prototype = new Morph();\r\nSpriteHighlightMorph.prototype.constructor = SpriteHighlightMorph;\r\nSpriteHighlightMorph.uber = Morph.prototype;\r\n\r\n// SpriteHighlightMorph instance creation:\r\n\r\nfunction SpriteHighlightMorph() {\r\n    this.init();\r\n}\r\n\r\n// StageMorph /////////////////////////////////////////////////////////\r\n\r\n/*\r\n    I inherit from FrameMorph and copy from SpriteMorph.\r\n*/\r\n\r\n// StageMorph inherits from FrameMorph:\r\n\r\nStageMorph.prototype = new FrameMorph();\r\nStageMorph.prototype.constructor = StageMorph;\r\nStageMorph.uber = FrameMorph.prototype;\r\n\r\n// StageMorph preferences settings\r\n\r\nStageMorph.prototype.dimensions = new Point(480, 360); // unscaled extent\r\nStageMorph.prototype.frameRate = 0; // unscheduled per default\r\n\r\nStageMorph.prototype.isCachingPrimitives\r\n    = SpriteMorph.prototype.isCachingPrimitives;\r\n\r\nStageMorph.prototype.sliderColor\r\n    = SpriteMorph.prototype.sliderColor;\r\n\r\nStageMorph.prototype.paletteTextColor\r\n    = SpriteMorph.prototype.paletteTextColor;\r\n\r\nStageMorph.prototype.hiddenPrimitives = {};\r\nStageMorph.prototype.codeMappings = {};\r\nStageMorph.prototype.codeHeaders = {};\r\nStageMorph.prototype.enableCodeMapping = false;\r\nStageMorph.prototype.enableInheritance = true;\r\nStageMorph.prototype.enableSublistIDs = false;\r\n\r\n// StageMorph instance creation\r\n\r\nfunction StageMorph(globals) {\r\n    this.init(globals);\r\n}\r\n\r\nStageMorph.prototype.init = function (globals) {\r\n    this.name = localize('Stage');\r\n    this.instrument = null;\r\n    this.threads = new ThreadManager();\r\n    this.variables = new VariableFrame(globals || null, this);\r\n    this.scripts = new ScriptsMorph();\r\n    this.customBlocks = [];\r\n    this.globalBlocks = [];\r\n    this.costumes = new List();\r\n    this.costume = null;\r\n    this.sounds = new List();\r\n    this.version = Date.now(); // for observers\r\n    this.isFastTracked = false;\r\n    this.enableCustomHatBlocks = true;\r\n    this.cloneCount = 0;\r\n\r\n    this.timerStart = Date.now();\r\n    this.tempo = 60; // bpm\r\n    this.lastMessage = '';\r\n\r\n    this.watcherUpdateFrequency = 2;\r\n    this.lastWatcherUpdate = Date.now();\r\n\r\n    this.scale = 1; // for display modes, do not persist\r\n\r\n    this.keysPressed = {}; // for handling keyboard events, do not persist\r\n    this.blocksCache = {}; // not to be serialized (!)\r\n    this.paletteCache = {}; // not to be serialized (!)\r\n    this.lastAnswer = ''; // last user input, do not persist\r\n    this.activeSounds = []; // do not persist\r\n\r\n    this.trailsCanvas = null;\r\n    this.isThreadSafe = false;\r\n\r\n    this.graphicsValues = {\r\n        'color': 0,\r\n        'fisheye': 0,\r\n        'whirl': 0,\r\n        'pixelate': 0,\r\n        'mosaic': 0,\r\n        'duplicate': 0,\r\n        'negative': 0,\r\n        'comic': 0,\r\n        'confetti': 0,\r\n        'saturation': 0,\r\n        'brightness': 0\r\n    };\r\n\r\n    StageMorph.uber.init.call(this);\r\n\r\n    this.acceptsDrops = false;\r\n    this.setColor(new Color(255, 255, 255));\r\n    this.fps = this.frameRate;\r\n};\r\n\r\n// StageMorph scaling\r\n\r\nStageMorph.prototype.setScale = function (number) {\r\n    var delta = number / this.scale,\r\n        pos = this.position(),\r\n        relativePos,\r\n        bubble,\r\n        oldFlag = Morph.prototype.trackChanges,\r\n        myself = this;\r\n\r\n    if (delta === 1) {return; }\r\n    Morph.prototype.trackChanges = false;\r\n    this.scale = number;\r\n    this.setExtent(this.dimensions.multiplyBy(number));\r\n\r\n    // now move and resize all children - sprites, bubbles, watchers etc..\r\n    this.children.forEach(function (morph) {\r\n        relativePos = morph.position().subtract(pos);\r\n        morph.drawNew();\r\n        morph.setPosition(\r\n            relativePos.multiplyBy(delta).add(pos),\r\n            true // just me (for nested sprites)\r\n        );\r\n        if (morph instanceof SpriteMorph) {\r\n            bubble = morph.talkBubble();\r\n            if (bubble) {\r\n                bubble.setScale(number);\r\n                morph.positionTalkBubble();\r\n            }\r\n        } else if (morph instanceof StagePrompterMorph) {\r\n            if (myself.scale < 1) {\r\n                morph.setWidth(myself.width() - 10);\r\n            } else {\r\n                morph.setWidth(myself.dimensions.x - 20);\r\n            }\r\n            morph.fixLayout();\r\n            morph.setCenter(myself.center());\r\n            morph.setBottom(myself.bottom());\r\n        }\r\n    });\r\n    Morph.prototype.trackChanges = oldFlag;\r\n    this.changed();\r\n};\r\n\r\n// StageMorph rendering\r\n\r\nStageMorph.prototype.drawNew = function () {\r\n    var ctx;\r\n    StageMorph.uber.drawNew.call(this);\r\n    if (this.costume) {\r\n        ctx = this.image.getContext('2d');\r\n        ctx.scale(this.scale, this.scale);\r\n        ctx.drawImage(\r\n            this.costume.contents,\r\n            (this.width() / this.scale - this.costume.width()) / 2,\r\n            (this.height() / this.scale - this.costume.height()) / 2\r\n        );\r\n        this.image = this.applyGraphicsEffects(this.image);\r\n    }\r\n    this.version = Date.now(); // for observer optimization\r\n};\r\n\r\nStageMorph.prototype.drawOn = function (aCanvas, aRect) {\r\n    // make sure to draw the pen trails canvas as well\r\n    var rectangle, area, delta, src, context, w, h, sl, st, ws, hs;\r\n    if (!this.isVisible) {\r\n        return null;\r\n    }\r\n    rectangle = aRect || this.bounds;\r\n    area = rectangle.intersect(this.bounds);\r\n    if (area.extent().gt(new Point(0, 0))) {\r\n        delta = this.position().neg();\r\n        src = area.copy().translateBy(delta);\r\n        context = aCanvas.getContext('2d');\r\n        context.globalAlpha = this.alpha;\r\n\r\n        sl = src.left();\r\n        st = src.top();\r\n        w = Math.min(src.width(), this.image.width - sl);\r\n        h = Math.min(src.height(), this.image.height - st);\r\n\r\n        if (w < 1 || h < 1) {\r\n            return null;\r\n        }\r\n        context.drawImage(\r\n            this.image,\r\n            sl,\r\n            st,\r\n            w,\r\n            h,\r\n            area.left(),\r\n            area.top(),\r\n            w,\r\n            h\r\n        );\r\n\r\n        // pen trails\r\n        ws = w / this.scale;\r\n        hs = h / this.scale;\r\n        context.save();\r\n        context.scale(this.scale, this.scale);\r\n        try {\r\n            context.drawImage(\r\n                this.penTrails(),\r\n                sl / this.scale,\r\n                st / this.scale,\r\n                ws,\r\n                hs,\r\n                area.left() / this.scale,\r\n                area.top() / this.scale,\r\n                ws,\r\n                hs\r\n            );\r\n        } catch (err) { // sometimes triggered only by Firefox\r\n            // console.log(err);\r\n            context.restore();\r\n            context.drawImage(\r\n                this.penTrails(),\r\n                0,\r\n                0,\r\n                this.dimensions.x,\r\n                this.dimensions.y,\r\n                this.left(),\r\n                this.top(),\r\n                this.dimensions.x * this.scale,\r\n                this.dimensions.y * this.scale\r\n            );\r\n        }\r\n        context.restore();\r\n    }\r\n};\r\n\r\nStageMorph.prototype.clearPenTrails = function () {\r\n    this.trailsCanvas = newCanvas(this.dimensions);\r\n    this.changed();\r\n};\r\n\r\nStageMorph.prototype.penTrails = function () {\r\n    if (!this.trailsCanvas) {\r\n        this.trailsCanvas = newCanvas(this.dimensions);\r\n    }\r\n    return this.trailsCanvas;\r\n};\r\n\r\nStageMorph.prototype.penTrailsMorph = function () {\r\n    // for collision detection purposes\r\n    var morph = new Morph(),\r\n        trails = this.penTrails(),\r\n        ctx;\r\n    morph.bounds = this.bounds.copy();\r\n    morph.image = newCanvas(this.extent());\r\n    ctx = morph.image.getContext('2d');\r\n    ctx.drawImage(\r\n        trails,\r\n        0,\r\n        0,\r\n        trails.width,\r\n        trails.height,\r\n        0,\r\n        0,\r\n        this.image.width,\r\n        this.image.height\r\n    );\r\n    return morph;\r\n};\r\n\r\nStageMorph.prototype.colorFiltered = function (aColor, excludedSprite) {\r\n    // answer a new Morph containing my image filtered by aColor\r\n    // ignore the excludedSprite, because its collision is checked\r\n    // ignore transparency (alpha)\r\n    var morph = new Morph(),\r\n        ext = this.extent(),\r\n        img = this.thumbnail(ext, excludedSprite),\r\n        ctx,\r\n        src,\r\n        clr,\r\n        i,\r\n        dta;\r\n\r\n    src = normalizeCanvas(img, true).getContext('2d').getImageData(\r\n        0,\r\n        0,\r\n        ext.x,\r\n        ext.y\r\n    );\r\n    morph.bounds = this.bounds.copy();\r\n    morph.image = newCanvas(ext, true);\r\n    ctx = morph.image.getContext('2d');\r\n    dta = ctx.createImageData(ext.x, ext.y);\r\n    for (i = 0; i < ext.x * ext.y * 4; i += 4) {\r\n        clr = new Color(\r\n            src.data[i],\r\n            src.data[i + 1],\r\n            src.data[i + 2]\r\n        );\r\n        if (clr.eq(aColor)) {\r\n            dta.data[i] = src.data[i];\r\n            dta.data[i + 1] = src.data[i + 1];\r\n            dta.data[i + 2] = src.data[i + 2];\r\n            dta.data[i + 3] = 255;\r\n        }\r\n    }\r\n    ctx.putImageData(dta, 0, 0);\r\n    return morph;\r\n};\r\n\r\n// StageMorph pixel access:\r\n\r\nStageMorph.prototype.getPixelColor = function (aPoint) {\r\n    var point, context, data;\r\n\tif (this.trailsCanvas) {\r\n        point = aPoint.subtract(this.bounds.origin);\r\n        context = this.trailsCanvas.getContext('2d');\r\n        data = context.getImageData(point.x, point.y, 1, 1);\r\n        if (data.data[3] === 0) {\r\n        \treturn StageMorph.uber.getPixelColor.call(this, aPoint);\r\n        }\r\n        return new Color(\r\n            data.data[0],\r\n            data.data[1],\r\n            data.data[2],\r\n            data.data[3] / 255\r\n        );\r\n \t}\r\n};\r\n\r\n// StageMorph accessing\r\n\r\nStageMorph.prototype.watchers = function (leftPos) {\r\n/*\r\n    answer an array of all currently visible watchers.\r\n    If leftPos is specified, filter the list for all\r\n    shown or hidden watchers whose left side equals\r\n    the given border (for automatic positioning)\r\n*/\r\n    return this.children.filter(function (morph) {\r\n        if (morph instanceof WatcherMorph) {\r\n            if (leftPos) {\r\n                return morph.left() === leftPos;\r\n            }\r\n            return morph.isVisible;\r\n        }\r\n        return false;\r\n    });\r\n};\r\n\r\n// StageMorph timer\r\n\r\nStageMorph.prototype.resetTimer = function () {\r\n    this.timerStart = Date.now();\r\n};\r\n\r\nStageMorph.prototype.getTimer = function () {\r\n    var elapsed = Math.floor((Date.now() - this.timerStart) / 100);\r\n    return elapsed / 10;\r\n};\r\n\r\n// StageMorph tempo\r\n\r\nStageMorph.prototype.setTempo = function (bpm) {\r\n    this.tempo = Math.max(20, (+bpm || 0));\r\n};\r\n\r\nStageMorph.prototype.changeTempo = function (delta) {\r\n    this.setTempo(this.getTempo() + (+delta || 0));\r\n};\r\n\r\nStageMorph.prototype.getTempo = function () {\r\n    return +this.tempo;\r\n};\r\n\r\n// StageMorph messages\r\n\r\nStageMorph.prototype.getLastMessage = function () {\r\n    return this.lastMessage || '';\r\n};\r\n\r\n// StageMorph Mouse Coordinates\r\n\r\nStageMorph.prototype.reportMouseX = function () {\r\n    var world = this.world();\r\n    if (world) {\r\n        return (world.hand.position().x - this.center().x) / this.scale;\r\n    }\r\n    return 0;\r\n};\r\n\r\nStageMorph.prototype.reportMouseY = function () {\r\n    var world = this.world();\r\n    if (world) {\r\n        return (this.center().y - world.hand.position().y) / this.scale;\r\n    }\r\n    return 0;\r\n};\r\n\r\n// StageMorph drag & drop\r\n\r\nStageMorph.prototype.wantsDropOf = function (aMorph) {\r\n    return aMorph instanceof SpriteMorph ||\r\n        aMorph instanceof WatcherMorph ||\r\n        aMorph instanceof ListWatcherMorph ||\r\n        aMorph instanceof SpriteIconMorph;\r\n};\r\n\r\nStageMorph.prototype.reactToDropOf = function (morph, hand) {\r\n    if (morph instanceof SpriteIconMorph) { // detach sprite from anchor\r\n        if (morph.object.anchor) {\r\n            morph.object.anchor.detachPart(morph.object);\r\n        }\r\n        this.world().add(morph);\r\n        morph.slideBackTo(hand.grabOrigin);\r\n    }\r\n};\r\n\r\n// StageMorph stepping\r\n\r\nStageMorph.prototype.step = function () {\r\n    var current, elapsed, leftover, ide, world = this.world();\r\n\r\n    // handle keyboard events\r\n    if (world.keyboardReceiver === null) {\r\n        world.keyboardReceiver = this;\r\n    }\r\n    if (world.currentKey === null) {\r\n        this.keyPressed = null;\r\n    }\r\n\r\n    // manage threads\r\n    if (this.enableCustomHatBlocks) {\r\n        this.stepGenericConditions();\r\n    }\r\n    if (this.isFastTracked && this.threads.processes.length) {\r\n        this.children.forEach(function (morph) {\r\n            if (morph instanceof SpriteMorph) {\r\n                morph.wasWarped = morph.isWarped;\r\n                if (!morph.isWarped) {\r\n                    morph.startWarp();\r\n                }\r\n            }\r\n        });\r\n        while ((Date.now() - this.lastTime) < 17) { // approx. 60 fps\r\n            this.threads.step();\r\n        }\r\n        this.children.forEach(function (morph) {\r\n            if (morph instanceof SpriteMorph) {\r\n                if (!morph.wasWarped) {\r\n                    morph.endWarp();\r\n                }\r\n            }\r\n        });\r\n        this.changed();\r\n    } else {\r\n        this.threads.step();\r\n\r\n        // single-stepping hook:\r\n        if (this.threads.wantsToPause) {\r\n            ide = this.parentThatIsA(IDE_Morph);\r\n            if (ide) {\r\n                ide.controlBar.pauseButton.refresh();\r\n            }\r\n        }\r\n    }\r\n\r\n    // update watchers\r\n    current = Date.now();\r\n    elapsed = current - this.lastWatcherUpdate;\r\n    leftover = (1000 / this.watcherUpdateFrequency) - elapsed;\r\n    if (leftover < 1) {\r\n        this.watchers().forEach(function (w) {\r\n            w.update();\r\n        });\r\n        this.lastWatcherUpdate = Date.now();\r\n    }\r\n};\r\n\r\nStageMorph.prototype.stepGenericConditions = function (stopAll) {\r\n    var hatCount = 0,\r\n        myself = this,\r\n        ide;\r\n    this.children.concat(this).forEach(function (morph) {\r\n        if (isSnapObject(morph)) {\r\n            morph.allGenericHatBlocks().forEach(function (block) {\r\n                hatCount += 1;\r\n                myself.threads.doWhen(block, morph, stopAll);\r\n            });\r\n        }\r\n    });\r\n    if (!hatCount) {\r\n        this.enableCustomHatBlocks = false;\r\n        ide = this.parentThatIsA(IDE_Morph);\r\n        if (ide) {\r\n            ide.controlBar.stopButton.refresh();\r\n        }\r\n    }\r\n};\r\n\r\nStageMorph.prototype.developersMenu = function () {\r\n    var myself = this,\r\n        menu = StageMorph.uber.developersMenu.call(this);\r\n    menu.addItem(\r\n        \"stop\",\r\n        function () {\r\n            myself.threads.stopAll();\r\n        },\r\n        'terminate all running threads'\r\n    );\r\n    return menu;\r\n};\r\n\r\n// StageMorph keyboard events\r\n\r\nStageMorph.prototype.processKeyDown = function (event) {\r\n    this.processKeyEvent(\r\n        event,\r\n        this.fireKeyEvent\r\n    );\r\n};\r\n\r\nStageMorph.prototype.processKeyUp = function (event) {\r\n    this.processKeyEvent(\r\n        event,\r\n        this.removePressedKey\r\n    );\r\n};\r\n\r\nStageMorph.prototype.processKeyEvent = function (event, action) {\r\n    var keyName;\r\n\r\n    // this.inspectKeyEvent(event);\r\n    switch (event.keyCode) {\r\n    case 13:\r\n        keyName = 'enter';\r\n        if (event.ctrlKey || event.metaKey) {\r\n            keyName = 'ctrl enter';\r\n        } else if (event.shiftKey) {\r\n            keyName = 'shift enter';\r\n        }\r\n        break;\r\n    case 27:\r\n        keyName = 'esc';\r\n        break;\r\n    case 32:\r\n        keyName = 'space';\r\n        break;\r\n    case 37:\r\n        keyName = 'left arrow';\r\n        break;\r\n    case 39:\r\n        keyName = 'right arrow';\r\n        break;\r\n    case 38:\r\n        keyName = 'up arrow';\r\n        break;\r\n    case 40:\r\n        keyName = 'down arrow';\r\n        break;\r\n    default:\r\n        keyName = String.fromCharCode(event.keyCode || event.charCode);\r\n        if (event.ctrlKey || event.metaKey) {\r\n            keyName = 'ctrl ' + (event.shiftKey ? 'shift ' : '') + keyName;\r\n        }\r\n    }\r\n    action.call(this, keyName);\r\n};\r\n\r\nStageMorph.prototype.fireKeyEvent = function (key) {\r\n    var evt = key.toLowerCase(),\r\n        procs = [],\r\n        ide = this.parentThatIsA(IDE_Morph),\r\n        myself = this;\r\n\r\n    this.keysPressed[evt] = true;\r\n    if (evt === 'ctrl enter') {\r\n        return this.fireGreenFlagEvent();\r\n    }\r\n    if (evt === 'shift enter') {\r\n        return this.editScripts();\r\n    }\r\n    if (evt === 'ctrl f') {\r\n        if (!ide.isAppMode) {ide.currentSprite.searchBlocks(); }\r\n        return;\r\n    }\r\n    if (evt === 'ctrl z') {\r\n        if (!ide.isAppMode) {ide.currentSprite.scripts.undrop(); }\r\n         return;\r\n    }\r\n    if (evt === 'ctrl shift z' || (evt === 'ctrl y')) {\r\n        if (!ide.isAppMode) {ide.currentSprite.scripts.redrop(); }\r\n         return;\r\n    }\r\n    if (evt === 'ctrl n') {\r\n        if (!ide.isAppMode) {ide.createNewProject(); }\r\n        return;\r\n    }\r\n    if (evt === 'ctrl o') {\r\n        if (!ide.isAppMode) {ide.openProjectsBrowser(); }\r\n        return;\r\n    }\r\n    if (evt === 'ctrl s') {\r\n        if (!ide.isAppMode) {ide.save(); }\r\n        return;\r\n    }\r\n    if (evt === 'ctrl shift s') {\r\n        if (!ide.isAppMode) {return ide.saveProjectsBrowser(); }\r\n        return;\r\n    }\r\n    if (evt === 'esc') {\r\n        return this.fireStopAllEvent();\r\n    }\r\n    this.children.concat(this).forEach(function (morph) {\r\n        if (isSnapObject(morph)) {\r\n            morph.allHatBlocksForKey(evt).forEach(function (block) {\r\n                procs.push(myself.threads.startProcess(\r\n                    block,\r\n                    morph,\r\n                    myself.isThreadSafe\r\n                ));\r\n            });\r\n        }\r\n    });\r\n    return procs;\r\n};\r\n\r\nStageMorph.prototype.removePressedKey = function (key) {\r\n    delete this.keysPressed[key.toLowerCase()];\r\n};\r\n\r\nStageMorph.prototype.processKeyPress = function (event) {\r\n    nop(event);\r\n};\r\n\r\nStageMorph.prototype.inspectKeyEvent\r\n    = CursorMorph.prototype.inspectKeyEvent;\r\n\r\nStageMorph.prototype.fireGreenFlagEvent = function () {\r\n    var procs = [],\r\n        ide = this.parentThatIsA(IDE_Morph),\r\n        myself = this;\r\n\r\n    this.children.concat(this).forEach(function (morph) {\r\n        if (isSnapObject(morph)) {\r\n            morph.allHatBlocksFor('__shout__go__').forEach(function (block) {\r\n                procs.push(myself.threads.startProcess(\r\n                    block,\r\n                    morph,\r\n                    myself.isThreadSafe\r\n                ));\r\n            });\r\n        }\r\n    });\r\n    if (ide) {\r\n        ide.controlBar.pauseButton.refresh();\r\n    }\r\n    return procs;\r\n};\r\n\r\nStageMorph.prototype.fireStopAllEvent = function () {\r\n    var ide = this.parentThatIsA(IDE_Morph);\r\n    this.threads.resumeAll(this.stage);\r\n    this.keysPressed = {};\r\n    this.threads.stopAll();\r\n    this.stopAllActiveSounds();\r\n    this.children.forEach(function (morph) {\r\n        if (morph.stopTalking) {\r\n            morph.stopTalking();\r\n        }\r\n    });\r\n    this.removeAllClones();\r\n    if (ide) {\r\n        ide.nextSteps([\r\n            nop,\r\n            function () {ide.controlBar.pauseButton.refresh(); }\r\n        ]);\r\n    }\r\n};\r\n\r\nStageMorph.prototype.removeAllClones = function () {\r\n    var myself = this,\r\n        clones = this.children.filter(\r\n            function (morph) {\r\n                return morph instanceof SpriteMorph && morph.isTemporary;\r\n            }\r\n        );\r\n    clones.forEach(function (clone) {\r\n        myself.threads.stopAllForReceiver(clone);\r\n        clone.detachFromAnchor();\r\n        clone.corpsify();\r\n        clone.destroy();\r\n    });\r\n    this.cloneCount = 0;\r\n};\r\n\r\nStageMorph.prototype.editScripts = function () {\r\n    var ide = this.parentThatIsA(IDE_Morph),\r\n        scripts,\r\n        sorted;\r\n    if (ide.isAppMode || !ScriptsMorph.prototype.enableKeyboard) {return; }\r\n    scripts = this.parentThatIsA(\r\n        IDE_Morph\r\n    ).currentSprite.scripts.selectForEdit(); // shadow on edit, if inherited\r\n    scripts.edit(scripts.position());\r\n    sorted = scripts.focus.sortedScripts();\r\n    if (sorted.length) {\r\n        scripts.focus.element = sorted[0];\r\n        if (scripts.focus.element instanceof HatBlockMorph) {\r\n            scripts.focus.nextCommand();\r\n        }\r\n    } else {\r\n        scripts.focus.moveBy(new Point(50, 50));\r\n    }\r\n    scripts.focus.fixLayout();\r\n};\r\n\r\n// StageMorph block templates\r\n\r\nStageMorph.prototype.blockTemplates = function (category) {\r\n    var blocks = [], myself = this, varNames, button,\r\n        cat = category || 'motion', txt;\r\n\r\n    function block(selector) {\r\n        if (myself.hiddenPrimitives[selector]) {\r\n            return null;\r\n        }\r\n        var newBlock = SpriteMorph.prototype.blockForSelector(selector, true);\r\n        newBlock.isTemplate = true;\r\n        return newBlock;\r\n    }\r\n\r\n    function variableBlock(varName) {\r\n        var newBlock = SpriteMorph.prototype.variableBlock(varName);\r\n        newBlock.isDraggable = false;\r\n        newBlock.isTemplate = true;\r\n        return newBlock;\r\n    }\r\n\r\n    function watcherToggle(selector) {\r\n        if (myself.hiddenPrimitives[selector]) {\r\n            return null;\r\n        }\r\n        var info = SpriteMorph.prototype.blocks[selector];\r\n        return new ToggleMorph(\r\n            'checkbox',\r\n            this,\r\n            function () {\r\n                myself.toggleWatcher(\r\n                    selector,\r\n                    localize(info.spec),\r\n                    myself.blockColor[info.category]\r\n                );\r\n            },\r\n            null,\r\n            function () {\r\n                return myself.showingWatcher(selector);\r\n            },\r\n            null\r\n        );\r\n    }\r\n\r\n    function variableWatcherToggle(varName) {\r\n        return new ToggleMorph(\r\n            'checkbox',\r\n            this,\r\n            function () {\r\n                myself.toggleVariableWatcher(varName);\r\n            },\r\n            null,\r\n            function () {\r\n                return myself.showingVariableWatcher(varName);\r\n            },\r\n            null\r\n        );\r\n    }\r\n\r\n    function addVar(pair) {\r\n        if (pair) {\r\n            if (myself.isVariableNameInUse(pair[0])) {\r\n                myself.inform('that name is already in use');\r\n            } else {\r\n                myself.addVariable(pair[0], pair[1]);\r\n                myself.toggleVariableWatcher(pair[0], pair[1]);\r\n                myself.blocksCache[cat] = null;\r\n                myself.paletteCache[cat] = null;\r\n                myself.parentThatIsA(IDE_Morph).refreshPalette();\r\n            }\r\n        }\r\n    }\r\n\r\n    if (cat === 'motion') {\r\n\r\n        txt = new TextMorph(localize(\r\n            'Stage selected:\\nno motion primitives'\r\n        ));\r\n        txt.fontSize = 9;\r\n        txt.setColor(this.paletteTextColor);\r\n        blocks.push(txt);\r\n        blocks.push('=');\r\n        blocks.push(this.makeBlockButton(cat));\r\n\r\n    } else if (cat === 'looks') {\r\n\r\n        blocks.push(block('doSwitchToCostume'));\r\n        blocks.push(block('doWearNextCostume'));\r\n        blocks.push(watcherToggle('getCostumeIdx'));\r\n        blocks.push(block('getCostumeIdx'));\r\n        blocks.push('-');\r\n        blocks.push(block('changeEffect'));\r\n        blocks.push(block('setEffect'));\r\n        blocks.push(block('clearEffects'));\r\n        blocks.push('-');\r\n        blocks.push(block('show'));\r\n        blocks.push(block('hide'));\r\n\r\n    // for debugging: ///////////////\r\n\r\n        if (this.world().isDevMode) {\r\n            blocks.push('-');\r\n            txt = new TextMorph(localize(\r\n                'development mode \\ndebugging primitives:'\r\n            ));\r\n            txt.fontSize = 9;\r\n            txt.setColor(this.paletteTextColor);\r\n            blocks.push(txt);\r\n            blocks.push('-');\r\n            blocks.push(block('log'));\r\n            blocks.push(block('alert'));\r\n            blocks.push('-');\r\n            blocks.push(block('doScreenshot'));\r\n        }\r\n\r\n    /////////////////////////////////\r\n\r\n        blocks.push('=');\r\n        blocks.push(this.makeBlockButton(cat));\r\n\r\n    } else if (cat === 'sound') {\r\n\r\n        blocks.push(block('playSound'));\r\n        blocks.push(block('doPlaySoundUntilDone'));\r\n        blocks.push(block('doStopAllSounds'));\r\n        blocks.push('-');\r\n        blocks.push(block('doRest'));\r\n        blocks.push(block('doPlayNote'));\r\n        blocks.push(block('doSetInstrument'));\r\n        blocks.push('-');\r\n        blocks.push(block('doChangeTempo'));\r\n        blocks.push(block('doSetTempo'));\r\n        blocks.push(watcherToggle('getTempo'));\r\n        blocks.push(block('getTempo'));\r\n        blocks.push('=');\r\n        blocks.push(this.makeBlockButton(cat));\r\n\r\n    } else if (cat === 'pen') {\r\n\r\n        blocks.push(block('clear'));\r\n        blocks.push(block('reportPenTrailsAsCostume'));\r\n        blocks.push('=');\r\n        blocks.push(this.makeBlockButton(cat));\r\n\r\n    } else if (cat === 'control') {\r\n\r\n        blocks.push(block('receiveGo'));\r\n        blocks.push(block('receiveKey'));\r\n        blocks.push(block('receiveInteraction'));\r\n        blocks.push(block('receiveCondition'));\r\n        blocks.push(block('receiveMessage'));\r\n        blocks.push('-');\r\n        blocks.push(block('doBroadcast'));\r\n        blocks.push(block('doBroadcastAndWait'));\r\n        blocks.push(watcherToggle('getLastMessage'));\r\n        blocks.push(block('getLastMessage'));\r\n        blocks.push('-');\r\n        blocks.push(block('doWarp'));\r\n        blocks.push('-');\r\n        blocks.push(block('doWait'));\r\n        blocks.push(block('doWaitUntil'));\r\n        blocks.push('-');\r\n        blocks.push(block('doForever'));\r\n        blocks.push(block('doRepeat'));\r\n        blocks.push(block('doUntil'));\r\n        blocks.push('-');\r\n        blocks.push(block('doIf'));\r\n        blocks.push(block('doIfElse'));\r\n        blocks.push('-');\r\n        blocks.push(block('doReport'));\r\n    /*\r\n    // old STOP variants, migrated to a newer version, now redundant\r\n        blocks.push(block('doStopBlock'));\r\n        blocks.push(block('doStop'));\r\n        blocks.push(block('doStopAll'));\r\n    */\r\n        blocks.push(block('doStopThis'));\r\n        blocks.push(block('doStopOthers'));\r\n        blocks.push('-');\r\n        blocks.push(block('doRun'));\r\n        blocks.push(block('fork'));\r\n        blocks.push(block('evaluate'));\r\n        blocks.push('-');\r\n        blocks.push(block('doTellTo'));\r\n        blocks.push(block('reportAskFor'));\r\n        blocks.push('-');\r\n        blocks.push(block('doCallCC'));\r\n        blocks.push(block('reportCallCC'));\r\n        blocks.push('-');\r\n        blocks.push(block('createClone'));\r\n        blocks.push(block('newClone'));\r\n        blocks.push('-');\r\n        blocks.push(block('doPauseAll'));\r\n        blocks.push('=');\r\n        blocks.push(this.makeBlockButton(cat));\r\n\r\n    } else if (cat === 'sensing') {\r\n\r\n        blocks.push(block('doAsk'));\r\n        blocks.push(watcherToggle('getLastAnswer'));\r\n        blocks.push(block('getLastAnswer'));\r\n        blocks.push('-');\r\n        blocks.push(watcherToggle('reportMouseX'));\r\n        blocks.push(block('reportMouseX'));\r\n        blocks.push(watcherToggle('reportMouseY'));\r\n        blocks.push(block('reportMouseY'));\r\n        blocks.push(block('reportMouseDown'));\r\n        blocks.push('-');\r\n        blocks.push(block('reportKeyPressed'));\r\n        blocks.push('-');\r\n        blocks.push(block('doResetTimer'));\r\n        blocks.push(watcherToggle('getTimer'));\r\n        blocks.push(block('getTimer'));\r\n        blocks.push('-');\r\n        blocks.push(block('reportAttributeOf'));\r\n\r\n        if (SpriteMorph.prototype.enableFirstClass) {\r\n            blocks.push(block('reportGet'));\r\n        }\r\n        blocks.push('-');\r\n\r\n        blocks.push(block('reportURL'));\r\n        blocks.push('-');\r\n        blocks.push(block('reportIsFastTracking'));\r\n        blocks.push(block('doSetFastTracking'));\r\n        blocks.push('-');\r\n        blocks.push(block('reportDate'));\r\n\r\n    // for debugging: ///////////////\r\n\r\n        if (this.world().isDevMode) {\r\n\r\n            blocks.push('-');\r\n            txt = new TextMorph(localize(\r\n                'development mode \\ndebugging primitives:'\r\n            ));\r\n            txt.fontSize = 9;\r\n            txt.setColor(this.paletteTextColor);\r\n            blocks.push(txt);\r\n            blocks.push('-');\r\n            blocks.push(watcherToggle('reportThreadCount'));\r\n            blocks.push(block('reportThreadCount'));\r\n            blocks.push(block('colorFiltered'));\r\n            blocks.push(block('reportStackSize'));\r\n            blocks.push(block('reportFrameCount'));\r\n        }\r\n\r\n    /////////////////////////////////\r\n\r\n        blocks.push('=');\r\n        blocks.push(this.makeBlockButton(cat));\r\n\r\n    } else if (cat === 'operators') {\r\n\r\n        blocks.push(block('reifyScript'));\r\n        blocks.push(block('reifyReporter'));\r\n        blocks.push(block('reifyPredicate'));\r\n        blocks.push('#');\r\n        blocks.push('-');\r\n        blocks.push(block('reportSum'));\r\n        blocks.push(block('reportDifference'));\r\n        blocks.push(block('reportProduct'));\r\n        blocks.push(block('reportQuotient'));\r\n        blocks.push('-');\r\n        blocks.push(block('reportModulus'));\r\n        blocks.push(block('reportRound'));\r\n        blocks.push(block('reportMonadic'));\r\n        blocks.push(block('reportRandom'));\r\n        blocks.push('-');\r\n        blocks.push(block('reportLessThan'));\r\n        blocks.push(block('reportEquals'));\r\n        blocks.push(block('reportGreaterThan'));\r\n        blocks.push('-');\r\n        blocks.push(block('reportAnd'));\r\n        blocks.push(block('reportOr'));\r\n        blocks.push(block('reportNot'));\r\n        blocks.push(block('reportBoolean'));\r\n        blocks.push('-');\r\n        blocks.push(block('reportJoinWords'));\r\n        blocks.push(block('reportTextSplit'));\r\n        blocks.push(block('reportLetter'));\r\n        blocks.push(block('reportStringSize'));\r\n        blocks.push('-');\r\n        blocks.push(block('reportUnicode'));\r\n        blocks.push(block('reportUnicodeAsLetter'));\r\n        blocks.push('-');\r\n        blocks.push(block('reportIsA'));\r\n        blocks.push(block('reportIsIdentical'));\r\n\r\n        if (true) { // (Process.prototype.enableJS) {\r\n            blocks.push('-');\r\n            blocks.push(block('reportJSFunction'));\r\n        }\r\n\r\n    // for debugging: ///////////////\r\n\r\n        if (this.world().isDevMode) {\r\n            blocks.push('-');\r\n            txt = new TextMorph(\r\n                'development mode \\ndebugging primitives:'\r\n            );\r\n            txt.fontSize = 9;\r\n            txt.setColor(this.paletteTextColor);\r\n            blocks.push(txt);\r\n            blocks.push('-');\r\n            blocks.push(block('reportTypeOf'));\r\n            blocks.push(block('reportTextFunction'));\r\n        }\r\n\r\n    //////////////////////////////////\r\n\r\n        blocks.push('=');\r\n        blocks.push(this.makeBlockButton(cat));\r\n\r\n    } else if (cat === 'variables') {\r\n\r\n        button = new PushButtonMorph(\r\n            null,\r\n            function () {\r\n                new VariableDialogMorph(\r\n                    null,\r\n                    addVar,\r\n                    myself\r\n                ).prompt(\r\n                    'Variable name',\r\n                    null,\r\n                    myself.world()\r\n                );\r\n            },\r\n            'Make a variable'\r\n        );\r\n        blocks.push(button);\r\n\r\n        if (this.variables.allNames().length > 0) {\r\n            button = new PushButtonMorph(\r\n                null,\r\n                function () {\r\n                    var menu = new MenuMorph(\r\n                        myself.deleteVariable,\r\n                        null,\r\n                        myself\r\n                    );\r\n                    myself.variables.allNames().forEach(function (name) {\r\n                        menu.addItem(name, name);\r\n                    });\r\n                    menu.popUpAtHand(myself.world());\r\n                },\r\n                'Delete a variable'\r\n            );\r\n            blocks.push(button);\r\n        }\r\n\r\n        blocks.push('-');\r\n\r\n        varNames = this.variables.allNames();\r\n        if (varNames.length > 0) {\r\n            varNames.forEach(function (name) {\r\n                blocks.push(variableWatcherToggle(name));\r\n                blocks.push(variableBlock(name));\r\n            });\r\n            blocks.push('-');\r\n        }\r\n\r\n        blocks.push(block('doSetVar'));\r\n        blocks.push(block('doChangeVar'));\r\n        blocks.push(block('doShowVar'));\r\n        blocks.push(block('doHideVar'));\r\n        blocks.push(block('doDeclareVariables'));\r\n        blocks.push('=');\r\n        blocks.push(block('reportNewList'));\r\n        blocks.push('-');\r\n        blocks.push(block('reportCONS'));\r\n        blocks.push(block('reportListItem'));\r\n        blocks.push(block('reportCDR'));\r\n        blocks.push('-');\r\n        blocks.push(block('reportListLength'));\r\n        blocks.push(block('reportListContainsItem'));\r\n        blocks.push('-');\r\n        blocks.push(block('doAddToList'));\r\n        blocks.push(block('doDeleteFromList'));\r\n        blocks.push(block('doInsertInList'));\r\n        blocks.push(block('doReplaceInList'));\r\n\r\n    // for debugging: ///////////////\r\n\r\n        if (this.world().isDevMode) {\r\n            blocks.push('-');\r\n            txt = new TextMorph(localize(\r\n                'development mode \\ndebugging primitives:'\r\n            ));\r\n            txt.fontSize = 9;\r\n            txt.setColor(this.paletteTextColor);\r\n            blocks.push(txt);\r\n            blocks.push('-');\r\n            blocks.push(block('reportMap'));\r\n            blocks.push('-');\r\n            blocks.push(block('doForEach'));\r\n            blocks.push(block('doShowTable'));\r\n        }\r\n\r\n    /////////////////////////////////\r\n\r\n        blocks.push('=');\r\n\r\n        if (StageMorph.prototype.enableCodeMapping) {\r\n            blocks.push(block('doMapCodeOrHeader'));\r\n            blocks.push(block('doMapValueCode'));\r\n            blocks.push(block('doMapListCode'));\r\n            blocks.push('-');\r\n            blocks.push(block('reportMappedCode'));\r\n            blocks.push('=');\r\n        }\r\n\r\n        blocks.push(this.makeBlockButton());\r\n    }\r\n    return blocks;\r\n};\r\n\r\n// StageMorph primitives\r\n\r\nStageMorph.prototype.clear = function () {\r\n    this.clearPenTrails();\r\n};\r\n\r\n// StageMorph user menu\r\n\r\nStageMorph.prototype.userMenu = function () {\r\n    var ide = this.parentThatIsA(IDE_Morph),\r\n        menu = new MenuMorph(this),\r\n        myself = this;\r\n\r\n    if (ide && ide.isAppMode) {\r\n        // menu.addItem('help', 'nop');\r\n        return menu;\r\n    }\r\n    menu.addItem(\"edit\", 'edit');\r\n    menu.addItem(\"show all\", 'showAll');\r\n    menu.addItem(\r\n        \"pic...\",\r\n        function () {\r\n            ide.saveCanvasAs(\r\n                myself.fullImageClassic(),\r\n                myself.name\r\n            );\r\n        },\r\n        'open a new window\\nwith a picture of the stage'\r\n    );\r\n    menu.addLine();\r\n    menu.addItem(\r\n        'pen trails',\r\n        function () {\r\n            var costume = ide.currentSprite.reportPenTrailsAsCostume().copy();\r\n            ide.currentSprite.addCostume(costume);\r\n            ide.currentSprite.wearCostume(costume);\r\n            ide.hasChangedMedia = true;\r\n            ide.spriteBar.tabBar.tabTo('costumes');\r\n        },\r\n        ide.currentSprite instanceof SpriteMorph ?\r\n            'turn all pen trails and stamps\\n' +\r\n                'into a new costume for the\\ncurrently selected sprite'\r\n                    : 'turn all pen trails and stamps\\n' +\r\n                        'into a new background for the stage'\r\n    );\r\n    return menu;\r\n};\r\n\r\nStageMorph.prototype.showAll = function () {\r\n    var myself = this;\r\n    this.children.forEach(function (m) {\r\n        if (m instanceof SpriteMorph) {\r\n            if (!m.anchor) {\r\n                m.show();\r\n                m.keepWithin(myself);\r\n            }\r\n        } else {\r\n            m.show();\r\n            m.keepWithin(myself);\r\n            if (m.fixLayout) {m.fixLayout(); }\r\n        }\r\n    });\r\n};\r\n\r\nStageMorph.prototype.edit = SpriteMorph.prototype.edit;\r\n\r\n// StageMorph thumbnail\r\n\r\nStageMorph.prototype.thumbnail = function (extentPoint, excludedSprite) {\r\n/*\r\n    answer a new Canvas of extentPoint dimensions containing\r\n    my thumbnail representation keeping the originial aspect ratio\r\n*/\r\n    var myself = this,\r\n        src = this.image,\r\n        scale = Math.min(\r\n            (extentPoint.x / src.width),\r\n            (extentPoint.y / src.height)\r\n        ),\r\n        trg = newCanvas(extentPoint),\r\n        ctx = trg.getContext('2d'),\r\n        fb,\r\n        fimg;\r\n\r\n    ctx.scale(scale, scale);\r\n    ctx.drawImage(\r\n        src,\r\n        0,\r\n        0\r\n    );\r\n    ctx.drawImage(\r\n        this.penTrails(),\r\n        0,\r\n        0,\r\n        this.dimensions.x * this.scale,\r\n        this.dimensions.y * this.scale\r\n    );\r\n    this.children.forEach(function (morph) {\r\n        if (morph.isVisible && (morph !== excludedSprite)) {\r\n            fb = morph.fullBounds();\r\n            fimg = morph.fullImage();\r\n            if (fimg.width && fimg.height) {\r\n                ctx.drawImage(\r\n                    morph.fullImage(),\r\n                    fb.origin.x - myself.bounds.origin.x,\r\n                    fb.origin.y - myself.bounds.origin.y\r\n                );\r\n            }\r\n        }\r\n    });\r\n    return trg;\r\n};\r\n\r\n// StageMorph hiding and showing:\r\n\r\n/*\r\n    override the inherited behavior to recursively hide/show all\r\n    children.\r\n*/\r\n\r\nStageMorph.prototype.hide = function () {\r\n    this.isVisible = false;\r\n    this.changed();\r\n};\r\n\r\nStageMorph.prototype.show = function () {\r\n    this.isVisible = true;\r\n    this.changed();\r\n};\r\n\r\n// StageMorph cloning override\r\n\r\nStageMorph.prototype.createClone = nop;\r\nStageMorph.prototype.newClone = nop;\r\n\r\n// StageMorph pseudo-inherited behavior\r\n\r\nStageMorph.prototype.categories = SpriteMorph.prototype.categories;\r\nStageMorph.prototype.blockColor = SpriteMorph.prototype.blockColor;\r\nStageMorph.prototype.paletteColor = SpriteMorph.prototype.paletteColor;\r\nStageMorph.prototype.setName = SpriteMorph.prototype.setName;\r\nStageMorph.prototype.makeBlockButton = SpriteMorph.prototype.makeBlockButton;\r\nStageMorph.prototype.makeBlock = SpriteMorph.prototype.makeBlock;\r\nStageMorph.prototype.palette = SpriteMorph.prototype.palette;\r\nStageMorph.prototype.freshPalette = SpriteMorph.prototype.freshPalette;\r\nStageMorph.prototype.blocksMatching = SpriteMorph.prototype.blocksMatching;\r\nStageMorph.prototype.searchBlocks = SpriteMorph.prototype.searchBlocks;\r\nStageMorph.prototype.reporterize = SpriteMorph.prototype.reporterize;\r\nStageMorph.prototype.showingWatcher = SpriteMorph.prototype.showingWatcher;\r\nStageMorph.prototype.addVariable = SpriteMorph.prototype.addVariable;\r\nStageMorph.prototype.deleteVariable = SpriteMorph.prototype.deleteVariable;\r\n\r\n// StageMorph block rendering\r\n\r\nStageMorph.prototype.doScreenshot\r\n    = SpriteMorph.prototype.doScreenshot;\r\n\r\nStageMorph.prototype.newCostumeName\r\n    = SpriteMorph.prototype.newCostumeName;\r\n\r\nStageMorph.prototype.blockForSelector\r\n    = SpriteMorph.prototype.blockForSelector;\r\n\r\n// StageMorph variable watchers (for palette checkbox toggling)\r\n\r\nStageMorph.prototype.findVariableWatcher\r\n    = SpriteMorph.prototype.findVariableWatcher;\r\n\r\nStageMorph.prototype.toggleVariableWatcher\r\n    = SpriteMorph.prototype.toggleVariableWatcher;\r\n\r\nStageMorph.prototype.showingVariableWatcher\r\n    = SpriteMorph.prototype.showingVariableWatcher;\r\n\r\nStageMorph.prototype.deleteVariableWatcher\r\n    = SpriteMorph.prototype.deleteVariableWatcher;\r\n\r\n// StageMorph background management\r\n\r\nStageMorph.prototype.addCostume\r\n    = SpriteMorph.prototype.addCostume;\r\n\r\nStageMorph.prototype.wearCostume\r\n    = SpriteMorph.prototype.wearCostume;\r\n\r\nStageMorph.prototype.getCostumeIdx\r\n    = SpriteMorph.prototype.getCostumeIdx;\r\n\r\nStageMorph.prototype.doWearNextCostume\r\n    = SpriteMorph.prototype.doWearNextCostume;\r\n\r\nStageMorph.prototype.doWearPreviousCostume\r\n    = SpriteMorph.prototype.doWearPreviousCostume;\r\n\r\nStageMorph.prototype.doSwitchToCostume\r\n    = SpriteMorph.prototype.doSwitchToCostume;\r\n\r\nStageMorph.prototype.reportCostumes\r\n    = SpriteMorph.prototype.reportCostumes;\r\n\r\n// StageMorph graphic effects\r\n\r\nStageMorph.prototype.graphicsChanged\r\n    = SpriteMorph.prototype.graphicsChanged;\r\n\r\nStageMorph.prototype.applyGraphicsEffects\r\n    = SpriteMorph.prototype.applyGraphicsEffects;\r\n\r\nStageMorph.prototype.setEffect\r\n    = SpriteMorph.prototype.setEffect;\r\n\r\nStageMorph.prototype.getGhostEffect\r\n    = SpriteMorph.prototype.getGhostEffect;\r\n\r\nStageMorph.prototype.changeEffect\r\n    = SpriteMorph.prototype.changeEffect;\r\n\r\nStageMorph.prototype.clearEffects\r\n    = SpriteMorph.prototype.clearEffects;\r\n\r\n// StageMorph sound management\r\n\r\nStageMorph.prototype.addSound\r\n    = SpriteMorph.prototype.addSound;\r\n\r\nStageMorph.prototype.playSound\r\n    = SpriteMorph.prototype.playSound;\r\n\r\nStageMorph.prototype.stopAllActiveSounds = function () {\r\n    this.activeSounds.forEach(function (audio) {\r\n        audio.pause();\r\n    });\r\n    this.activeSounds = [];\r\n};\r\n\r\nStageMorph.prototype.pauseAllActiveSounds = function () {\r\n    this.activeSounds.forEach(function (audio) {\r\n        audio.pause();\r\n    });\r\n};\r\n\r\nStageMorph.prototype.resumeAllActiveSounds = function () {\r\n    this.activeSounds.forEach(function (audio) {\r\n        audio.play();\r\n    });\r\n};\r\n\r\nStageMorph.prototype.reportSounds\r\n    = SpriteMorph.prototype.reportSounds;\r\n\r\n// StageMorph non-variable watchers\r\n\r\nStageMorph.prototype.toggleWatcher\r\n    = SpriteMorph.prototype.toggleWatcher;\r\n\r\nStageMorph.prototype.showingWatcher\r\n    = SpriteMorph.prototype.showingWatcher;\r\n\r\nStageMorph.prototype.watcherFor =\r\n    SpriteMorph.prototype.watcherFor;\r\n\r\nStageMorph.prototype.getLastAnswer\r\n    = SpriteMorph.prototype.getLastAnswer;\r\n\r\nStageMorph.prototype.reportThreadCount\r\n    = SpriteMorph.prototype.reportThreadCount;\r\n\r\n// StageMorph message broadcasting\r\n\r\nStageMorph.prototype.allMessageNames\r\n    = SpriteMorph.prototype.allMessageNames;\r\n\r\nStageMorph.prototype.allHatBlocksFor\r\n    = SpriteMorph.prototype.allHatBlocksFor;\r\n\r\nStageMorph.prototype.allHatBlocksForKey\r\n    = SpriteMorph.prototype.allHatBlocksForKey;\r\n\r\nStageMorph.prototype.allHatBlocksForInteraction\r\n    = SpriteMorph.prototype.allHatBlocksForInteraction;\r\n\r\nStageMorph.prototype.allGenericHatBlocks\r\n    = SpriteMorph.prototype.allGenericHatBlocks;\r\n\r\n// StageMorph events\r\n\r\nStageMorph.prototype.mouseClickLeft\r\n    = SpriteMorph.prototype.mouseClickLeft;\r\n\r\nStageMorph.prototype.mouseEnter\r\n    = SpriteMorph.prototype.mouseEnter;\r\n\r\nStageMorph.prototype.mouseLeave = function () {\r\n    this.receiveUserInteraction('mouse-departed');\r\n};\r\n\r\nStageMorph.prototype.mouseDownLeft\r\n    = SpriteMorph.prototype.mouseDownLeft;\r\n\r\nStageMorph.prototype.receiveUserInteraction\r\n    = SpriteMorph.prototype.receiveUserInteraction;\r\n\r\n// StageMorph custom blocks\r\n\r\nStageMorph.prototype.deleteAllBlockInstances\r\n    = SpriteMorph.prototype.deleteAllBlockInstances;\r\n\r\nStageMorph.prototype.allBlockInstances\r\n    = SpriteMorph.prototype.allBlockInstances;\r\n\r\nStageMorph.prototype.allLocalBlockInstances\r\n    = SpriteMorph.prototype.allLocalBlockInstances;\r\n\r\nStageMorph.prototype.allEditorBlockInstances\r\n    = SpriteMorph.prototype.allEditorBlockInstances;\r\n\r\nStageMorph.prototype.paletteBlockInstance\r\n    = SpriteMorph.prototype.paletteBlockInstance;\r\n\r\nStageMorph.prototype.usesBlockInstance\r\n    = SpriteMorph.prototype.usesBlockInstance;\r\n\r\nStageMorph.prototype.doubleDefinitionsFor\r\n    = SpriteMorph.prototype.doubleDefinitionsFor;\r\n\r\nStageMorph.prototype.replaceDoubleDefinitionsFor\r\n    = SpriteMorph.prototype.replaceDoubleDefinitionsFor;\r\n\r\nStageMorph.prototype.allInvocationsOf\r\n    = SpriteMorph.prototype.allInvocationsOf;\r\n\r\nStageMorph.prototype.allIndependentInvocationsOf\r\n    = SpriteMorph.prototype.allInvocationsOf;\r\n\r\nStageMorph.prototype.allDependentInvocationsOf\r\n    = SpriteMorph.prototype.allInvocationsOf;\r\n\r\n// StageMorph inheritance support - general\r\n\r\nStageMorph.prototype.specimens = function () {\r\n    return [];\r\n};\r\n\r\nStageMorph.prototype.allSpecimens = function () {\r\n    return [];\r\n};\r\n\r\nStageMorph.prototype.shadowAttribute = nop;\r\n\r\n// StageMorph inheritance support - attributes\r\n\r\nStageMorph.prototype.inheritsAttribute = function () {\r\n    return false;\r\n};\r\n\r\n// StageMorph inheritance support - variables\r\n\r\nStageMorph.prototype.isVariableNameInUse\r\n    = SpriteMorph.prototype.isVariableNameInUse;\r\n\r\nStageMorph.prototype.globalVariables\r\n    = SpriteMorph.prototype.globalVariables;\r\n\r\nStageMorph.prototype.inheritedVariableNames = function () {\r\n    return [];\r\n};\r\n\r\n// StageMorph inheritance - custom blocks\r\n\r\nStageMorph.prototype.getMethod\r\n    = SpriteMorph.prototype.getMethod;\r\n\r\nStageMorph.prototype.getLocalMethod\r\n    = SpriteMorph.prototype.getLocalMethod;\r\n\r\nStageMorph.prototype.ownBlocks\r\n    = SpriteMorph.prototype.ownBlocks;\r\n\r\nStageMorph.prototype.allBlocks = function (valuesOnly) {\r\n    var dict = this.ownBlocks();\r\n    if (valuesOnly) {\r\n        return Object.keys(dict).map(function (key) {return dict[key]; });\r\n    }\r\n    return dict;\r\n};\r\n\r\nStageMorph.prototype.inheritedBlocks = function () {\r\n    return [];\r\n};\r\n\r\n// StageMorph variable refactoring\r\n\r\nStageMorph.prototype.hasSpriteVariable\r\n    = SpriteMorph.prototype.hasSpriteVariable;\r\n\r\nStageMorph.prototype.refactorVariableInstances\r\n    = SpriteMorph.prototype.refactorVariableInstances;\r\n\r\n// StageMorph pen trails as costume\r\n\r\nStageMorph.prototype.reportPenTrailsAsCostume = function () {\r\n    return new Costume(\r\n        this.trailsCanvas,\r\n        this.newCostumeName(localize('Background'))\r\n    );\r\n};\r\n\r\n// SpriteBubbleMorph ////////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a sprite's scaleable speech bubble. I rely on SpriteMorph\r\n    for my preferences settings\r\n*/\r\n\r\n// SpriteBubbleMorph inherits from SpeechBubbleMorph:\r\n\r\nSpriteBubbleMorph.prototype = new SpeechBubbleMorph();\r\nSpriteBubbleMorph.prototype.constructor = SpriteBubbleMorph;\r\nSpriteBubbleMorph.uber = SpeechBubbleMorph.prototype;\r\n\r\n// SpriteBubbleMorph instance creation:\r\n\r\nfunction SpriteBubbleMorph(data, stage, isThought, isQuestion) {\r\n    this.init(data, stage, isThought, isQuestion);\r\n}\r\n\r\nSpriteBubbleMorph.prototype.init = function (\r\n    data,\r\n    stage,\r\n    isThought,\r\n    isQuestion\r\n) {\r\n    var sprite = SpriteMorph.prototype;\r\n    this.stage = stage;\r\n    this.scale = stage ? stage.scale : 1;\r\n    this.data = data;\r\n    this.isQuestion = isQuestion;\r\n\r\n    SpriteBubbleMorph.uber.init.call(\r\n        this,\r\n        this.dataAsMorph(data),\r\n        sprite.bubbleColor,\r\n        null,\r\n        null,\r\n        isQuestion ? sprite.blockColor.sensing : sprite.bubbleBorderColor,\r\n        null,\r\n        isThought\r\n    );\r\n};\r\n\r\n// SpriteBubbleMorph contents formatting\r\n\r\nSpriteBubbleMorph.prototype.dataAsMorph = function (data, toggle) {\r\n    var contents,\r\n        isTable,\r\n        sprite = SpriteMorph.prototype,\r\n        isText,\r\n        img,\r\n        scaledImg,\r\n        width;\r\n    if (data instanceof Morph) {\r\n        if (isSnapObject(data)) {\r\n            img = data.thumbnail(new Point(40, 40));\r\n            contents = new Morph();\r\n            contents.silentSetWidth(img.width);\r\n            contents.silentSetHeight(img.height);\r\n            contents.image = img;\r\n            contents.version = data.version;\r\n            contents.step = function () {\r\n                if (this.version !== data.version) {\r\n                    img = data.thumbnail(new Point(40, 40));\r\n                    this.image = img;\r\n                    this.version = data.version;\r\n                    this.changed();\r\n                }\r\n            };\r\n        } else {\r\n            contents = data;\r\n        }\r\n    } else if (isString(data)) {\r\n        isText = true;\r\n        contents = new TextMorph(\r\n            data,\r\n            sprite.bubbleFontSize * this.scale,\r\n            null, // fontStyle\r\n            sprite.bubbleFontIsBold,\r\n            false, // italic\r\n            'center'\r\n        );\r\n    } else if (typeof data === 'boolean') {\r\n        img = sprite.booleanMorph(data).fullImage();\r\n        contents = new Morph();\r\n        contents.silentSetWidth(img.width);\r\n        contents.silentSetHeight(img.height);\r\n        contents.image = img;\r\n    } else if (data instanceof Costume) {\r\n        img = data.thumbnail(new Point(40, 40));\r\n        contents = new Morph();\r\n        contents.silentSetWidth(img.width);\r\n        contents.silentSetHeight(img.height);\r\n        contents.image = img;\r\n    } else if (data instanceof Sound) {\r\n        contents = new SymbolMorph('notes', 30);\r\n    } else if (data instanceof HTMLCanvasElement) {\r\n        contents = new Morph();\r\n        contents.silentSetWidth(data.width);\r\n        contents.silentSetHeight(data.height);\r\n        contents.image = data;\r\n    } else if (data instanceof List) {\r\n        if (toggle && this.contentsMorph) {\r\n            isTable = (this.contentsMorph instanceof ListWatcherMorph);\r\n        } else {\r\n            isTable = data.isTable();\r\n        }\r\n\r\n        if (isTable) { // (!toggle && data.isTable()) {\r\n            contents = new TableFrameMorph(new TableMorph(data, 10));\r\n            if (this.stage) {\r\n                contents.expand(this.stage.extent().translateBy(\r\n                    -2 * (this.edge + this.border + this.padding)\r\n                ));\r\n            }\r\n        } else {\r\n            contents = new ListWatcherMorph(data);\r\n            contents.update(true);\r\n            contents.step = contents.update;\r\n            if (this.stage) {\r\n                contents.expand(this.stage.extent().translateBy(\r\n                    -2 * (this.edge + this.border + this.padding)\r\n                ));\r\n            }\r\n        }\r\n        contents.isDraggable = false;\r\n    } else if (data instanceof Context) {\r\n        img = data.image();\r\n        contents = new Morph();\r\n        contents.silentSetWidth(img.width);\r\n        contents.silentSetHeight(img.height);\r\n        contents.image = img;\r\n    } else {\r\n        contents = new TextMorph(\r\n            data.toString(),\r\n            sprite.bubbleFontSize * this.scale,\r\n            null, // fontStyle\r\n            sprite.bubbleFontIsBold,\r\n            false, // italic\r\n            'center'\r\n        );\r\n    }\r\n    if (contents instanceof TextMorph) {\r\n        // reflow text boundaries\r\n        width = Math.max(\r\n            contents.width(),\r\n            sprite.bubbleCorner * 2 * this.scale\r\n        );\r\n        if (isText) {\r\n            width = Math.min(width, sprite.bubbleMaxTextWidth * this.scale);\r\n        }\r\n        contents.setWidth(width);\r\n    } else if (!(data instanceof List)) {\r\n        // scale contents image\r\n        scaledImg = newCanvas(contents.extent().multiplyBy(this.scale));\r\n        scaledImg.getContext('2d').drawImage(\r\n            contents.image,\r\n            0,\r\n            0,\r\n            scaledImg.width,\r\n            scaledImg.height\r\n        );\r\n        contents.image = scaledImg;\r\n        contents.bounds = contents.bounds.scaleBy(this.scale);\r\n    }\r\n    return contents;\r\n};\r\n\r\n// SpriteBubbleMorph scaling\r\n\r\nSpriteBubbleMorph.prototype.setScale = function (scale) {\r\n    this.scale = scale;\r\n    this.changed();\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\n// SpriteBubbleMorph drawing:\r\n\r\nSpriteBubbleMorph.prototype.drawNew = function (toggle) {\r\n    var sprite = SpriteMorph.prototype;\r\n\r\n    // scale my settings\r\n    this.edge = sprite.bubbleCorner * this.scale;\r\n    this.border = sprite.bubbleBorder * this.scale;\r\n    this.padding = sprite.bubbleCorner / 2 * this.scale;\r\n\r\n    // re-build my contents\r\n    if (this.contentsMorph) {\r\n        this.contentsMorph.destroy();\r\n    }\r\n    this.contentsMorph = this.dataAsMorph(this.data, toggle);\r\n    this.add(this.contentsMorph);\r\n\r\n    // adjust my layout\r\n    this.silentSetWidth(this.contentsMorph.width()\r\n        + (this.padding ? this.padding * 2 : this.edge * 2));\r\n    this.silentSetHeight(this.contentsMorph.height()\r\n        + this.edge\r\n        + this.border * 2\r\n        + this.padding * 2\r\n        + 2);\r\n\r\n    // draw my outline\r\n    SpeechBubbleMorph.uber.drawNew.call(this);\r\n\r\n    // position my contents\r\n    this.contentsMorph.setPosition(this.position().add(\r\n        new Point(\r\n            this.padding || this.edge,\r\n            this.border + this.padding + 1\r\n        )\r\n    ));\r\n};\r\n\r\n// SpriteBubbleMorph resizing:\r\n\r\nSpriteBubbleMorph.prototype.fixLayout = function () {\r\n    // to be used when resizing list watchers\r\n    // otherwise use drawNew() to force re-layout\r\n\r\n    var sprite = SpriteMorph.prototype;\r\n\r\n    this.changed();\r\n    // scale my settings\r\n    this.edge = sprite.bubbleCorner * this.scale;\r\n    this.border = sprite.bubbleBorder * this.scale;\r\n    this.padding = sprite.bubbleCorner / 2 * this.scale;\r\n\r\n    // adjust my layout\r\n    this.silentSetWidth(this.contentsMorph.width()\r\n        + (this.padding ? this.padding * 2 : this.edge * 2));\r\n    this.silentSetHeight(this.contentsMorph.height()\r\n        + this.edge\r\n        + this.border * 2\r\n        + this.padding * 2\r\n        + 2);\r\n\r\n    // draw my outline\r\n    SpeechBubbleMorph.uber.drawNew.call(this);\r\n\r\n    // position my contents\r\n    this.contentsMorph.setPosition(this.position().add(\r\n        new Point(\r\n            this.padding || this.edge,\r\n            this.border + this.padding + 1\r\n        )\r\n    ));\r\n    this.changed();\r\n};\r\n\r\n// Costume /////////////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a picture that's \"wearable\" by a sprite. My rotationCenter is\r\n    relative to my contents position.\r\n*/\r\n\r\n// Costume instance creation\r\n\r\nfunction Costume(canvas, name, rotationCenter) {\r\n    this.contents = canvas ? normalizeCanvas(canvas, true)\r\n            : newCanvas(null, true);\r\n    this.shrinkToFit(this.maxExtent());\r\n    this.name = name || null;\r\n    this.rotationCenter = rotationCenter || this.center();\r\n    this.version = Date.now(); // for observer optimization\r\n    this.loaded = null; // for de-serialization only\r\n}\r\n\r\nCostume.prototype.maxExtent = function () {\r\n    return StageMorph.prototype.dimensions;\r\n};\r\n\r\nCostume.prototype.toString = function () {\r\n    return 'a Costume(' + this.name + ')';\r\n};\r\n\r\n// Costume dimensions - all relative\r\n\r\nCostume.prototype.extent = function () {\r\n    return new Point(this.contents.width, this.contents.height);\r\n};\r\n\r\nCostume.prototype.center = function () {\r\n    return this.extent().divideBy(2);\r\n};\r\n\r\nCostume.prototype.width = function () {\r\n    return this.contents.width;\r\n};\r\n\r\nCostume.prototype.height = function () {\r\n    return this.contents.height;\r\n};\r\n\r\nCostume.prototype.bounds = function () {\r\n    return new Rectangle(0, 0, this.width(), this.height());\r\n};\r\n\r\n// Costume shrink-wrapping\r\n\r\nCostume.prototype.shrinkWrap = function () {\r\n    // adjust my contents'  bounds to my visible bounding box\r\n    var bb = this.boundingBox(),\r\n        ext = bb.extent(),\r\n        pic = newCanvas(ext, true),\r\n        ctx = pic.getContext('2d');\r\n\r\n    ctx.drawImage(\r\n        this.contents,\r\n        bb.origin.x,\r\n        bb.origin.y,\r\n        ext.x,\r\n        ext.y,\r\n        0,\r\n        0,\r\n        ext.x,\r\n        ext.y\r\n    );\r\n    this.rotationCenter = this.rotationCenter.subtract(bb.origin);\r\n    this.contents = pic;\r\n    this.version = Date.now();\r\n};\r\n\r\nCostume.prototype.canvasBoundingBox = function (pic) {\r\n    // answer the rectangle surrounding my contents' non-transparent pixels\r\n    var row,\r\n        col,\r\n        w = pic.width,\r\n        h = pic.height,\r\n        ctx = pic.getContext('2d'),\r\n        dta = ctx.getImageData(0, 0, w, h);\r\n\r\n    function getAlpha(x, y) {\r\n        return dta.data[((y * w * 4) + (x * 4)) + 3];\r\n    }\r\n\r\n    function getLeft() {\r\n        for (col = 0; col <= w; col += 1) {\r\n            for (row = 0; row <= h; row += 1) {\r\n                if (getAlpha(col, row)) {\r\n                    return col;\r\n                }\r\n            }\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    function getTop() {\r\n        for (row = 0; row <= h; row += 1) {\r\n            for (col = 0; col <= w; col += 1) {\r\n                if (getAlpha(col, row)) {\r\n                    return row;\r\n                }\r\n            }\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    function getRight() {\r\n        for (col = w; col >= 0; col -= 1) {\r\n            for (row = h; row >= 0; row -= 1) {\r\n                if (getAlpha(col, row)) {\r\n                    return Math.min(col + 1, w);\r\n                }\r\n            }\r\n        }\r\n        return w;\r\n    }\r\n\r\n    function getBottom() {\r\n        for (row = h; row >= 0; row -= 1) {\r\n            for (col = w; col >= 0; col -= 1) {\r\n                if (getAlpha(col, row)) {\r\n                    return Math.min(row + 1, h);\r\n                }\r\n            }\r\n        }\r\n        return h;\r\n    }\r\n\r\n    return new Rectangle(getLeft(), getTop(), getRight(), getBottom());\r\n};\r\n\r\nCostume.prototype.boundingBox = function () {\r\n    return this.canvasBoundingBox(this.contents);\r\n};\r\n\r\n// Costume duplication\r\n\r\nCostume.prototype.copy = function () {\r\n    var canvas = newCanvas(this.extent(), true),\r\n        cpy,\r\n        ctx;\r\n    ctx = canvas.getContext('2d');\r\n    ctx.drawImage(this.contents, 0, 0);\r\n    cpy = new Costume(canvas, this.name ? copy(this.name) : null);\r\n    cpy.rotationCenter = this.rotationCenter.copy();\r\n    return cpy;\r\n};\r\n\r\n// Costume flipping\r\n\r\nCostume.prototype.flipped = function () {\r\n/*\r\n    answer a copy of myself flipped horizontally\r\n    (mirrored along a vertical axis), used for\r\n    SpriteMorph's rotation style type 2\r\n*/\r\n    var canvas = newCanvas(this.extent(), true),\r\n        ctx = canvas.getContext('2d'),\r\n        flipped;\r\n\r\n    ctx.translate(this.width(), 0);\r\n    ctx.scale(-1, 1);\r\n    ctx.drawImage(this.contents, 0, 0);\r\n    flipped = new Costume(\r\n        canvas,\r\n        this.name,\r\n        new Point(\r\n            this.width() - this.rotationCenter.x,\r\n            this.rotationCenter.y\r\n        )\r\n    );\r\n    return flipped;\r\n};\r\n\r\n// Costume actions\r\n\r\nCostume.prototype.edit = function (aWorld, anIDE, isnew, oncancel, onsubmit) {\r\n    var myself = this,\r\n        editor = new PaintEditorMorph();\r\n    editor.oncancel = oncancel || nop;\r\n    editor.openIn(\r\n        aWorld,\r\n        isnew ?\r\n                newCanvas(StageMorph.prototype.dimensions, true) :\r\n                this.contents,\r\n        isnew ?\r\n                null :\r\n                this.rotationCenter,\r\n        function (img, rc) {\r\n            myself.contents = img;\r\n            myself.rotationCenter = rc;\r\n            myself.version = Date.now();\r\n            aWorld.changed();\r\n            if (anIDE) {\r\n                if (anIDE.currentSprite instanceof SpriteMorph) {\r\n                    // don't shrinkwrap stage costumes\r\n                    myself.shrinkWrap();\r\n                }\r\n                anIDE.currentSprite.wearCostume(myself, true); // don't shadow\r\n                anIDE.hasChangedMedia = true;\r\n            }\r\n            (onsubmit || nop)();\r\n        }\r\n    );\r\n};\r\n\r\nCostume.prototype.editRotationPointOnly = function (aWorld) {\r\n    var editor = new CostumeEditorMorph(this),\r\n        action,\r\n        dialog,\r\n        txt;\r\n\r\n    action = function () {editor.accept(); };\r\n    dialog = new DialogBoxMorph(this, action);\r\n    txt = new TextMorph(\r\n        localize('click or drag crosshairs to move the rotation center'),\r\n        dialog.fontSize,\r\n        dialog.fontStyle,\r\n        true,\r\n        false,\r\n        'center',\r\n        null,\r\n        null,\r\n        new Point(1, 1),\r\n        new Color(255, 255, 255)\r\n    );\r\n\r\n    dialog.labelString = 'Costume Editor';\r\n    dialog.createLabel();\r\n    dialog.setPicture(editor);\r\n    dialog.addBody(txt);\r\n    dialog.addButton('ok', 'Ok');\r\n    dialog.addButton('cancel', 'Cancel');\r\n    dialog.fixLayout();\r\n    dialog.drawNew();\r\n    dialog.fixLayout();\r\n    dialog.popUp(aWorld);\r\n};\r\n\r\n// Costume thumbnail\r\n\r\nCostume.prototype.shrinkToFit = function (extentPoint) {\r\n    if (extentPoint.x < this.width() || (extentPoint.y < this.height())) {\r\n        this.contents = this.thumbnail(extentPoint);\r\n    }\r\n};\r\n\r\nCostume.prototype.thumbnail = function (extentPoint) {\r\n/*\r\n    answer a new Canvas of extentPoint dimensions containing\r\n    my thumbnail representation keeping the originial aspect ratio\r\n*/\r\n    var src = this.contents, // at this time sprites aren't composite morphs\r\n        scale = Math.min(\r\n            (extentPoint.x / src.width),\r\n            (extentPoint.y / src.height)\r\n        ),\r\n        xOffset = (extentPoint.x - (src.width * scale)) / 2,\r\n        yOffset = (extentPoint.y - (src.height * scale)) / 2,\r\n        trg = newCanvas(extentPoint),\r\n        ctx = trg.getContext('2d');\r\n\r\n    if (!src || src.width + src.height === 0) {return trg; }\r\n    ctx.scale(scale, scale);\r\n    ctx.drawImage(\r\n        src,\r\n        Math.floor(xOffset / scale),\r\n        Math.floor(yOffset / scale)\r\n    );\r\n    return trg;\r\n};\r\n\r\n// Costume catching \"tainted\" canvases\r\n\r\nCostume.prototype.isTainted = function () {\r\n    // find out whether the canvas has been tainted by cross-origin data\r\n    // assumes that if reading image data throws an error it is tainted\r\n    try {\r\n        this.contents.getContext('2d').getImageData(\r\n            0,\r\n            0,\r\n            this.contents.width,\r\n            this.contents.height\r\n        );\r\n    } catch (err) {\r\n        return true;\r\n    }\r\n    return false;\r\n};\r\n\r\n// SVG_Costume /////////////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a costume containing an SVG image.\r\n*/\r\n\r\n// SVG_Costume inherits from Costume:\r\n\r\nSVG_Costume.prototype = new Costume();\r\nSVG_Costume.prototype.constructor = SVG_Costume;\r\nSVG_Costume.uber = Costume.prototype;\r\n\r\n// SVG_Costume instance creation\r\n\r\nfunction SVG_Costume(svgImage, name, rotationCenter) {\r\n    this.contents = svgImage;\r\n    this.shrinkToFit(this.maxExtent());\r\n    this.name = name || null;\r\n    this.rotationCenter = rotationCenter || this.center();\r\n    this.version = Date.now(); // for observer optimization\r\n    this.loaded = null; // for de-serialization only\r\n}\r\n\r\nSVG_Costume.prototype.toString = function () {\r\n    return 'an SVG_Costume(' + this.name + ')';\r\n};\r\n\r\n// SVG_Costume duplication\r\n\r\nSVG_Costume.prototype.copy = function () {\r\n    var img = new Image(),\r\n        cpy;\r\n    img.src = this.contents.src;\r\n    cpy = new SVG_Costume(img, this.name ? copy(this.name) : null);\r\n    cpy.rotationCenter = this.rotationCenter.copy();\r\n    return cpy;\r\n};\r\n\r\n// SVG_Costume flipping\r\n\r\n/*\r\n    flipping is currently inherited from Costume, which rasterizes it.\r\n    Therefore flipped SVG costumes may appear pixelated until we add\r\n    a method to either truly flip SVGs or change the Sprite's drawNew()\r\n    method to scale the costume before flipping it\r\n*/\r\n\r\n// SVG_Costume thumbnail\r\n\r\nSVG_Costume.prototype.shrinkToFit = function (extentPoint) {\r\n    // overridden for unrasterized SVGs\r\n    nop(extentPoint);\r\n    return;\r\n};\r\n\r\n// CostumeEditorMorph ////////////////////////////////////////////////////////\r\n\r\n// CostumeEditorMorph inherits from Morph:\r\n\r\nCostumeEditorMorph.prototype = new Morph();\r\nCostumeEditorMorph.prototype.constructor = CostumeEditorMorph;\r\nCostumeEditorMorph.uber = Morph.prototype;\r\n\r\n// CostumeEditorMorph preferences settings:\r\nCostumeEditorMorph.prototype.size = Costume.prototype.maxExtent();\r\n\r\n// CostumeEditorMorph instance creation\r\n\r\nfunction CostumeEditorMorph(costume) {\r\n    this.init(costume);\r\n}\r\n\r\nCostumeEditorMorph.prototype.init = function (costume) {\r\n    this.costume = costume || new Costume();\r\n    this.rotationCenter = this.costume.rotationCenter.copy();\r\n    this.margin = new Point(0, 0);\r\n    CostumeEditorMorph.uber.init.call(this);\r\n    this.noticesTransparentClick = true;\r\n};\r\n\r\n// CostumeEditorMorph edit ops\r\n\r\nCostumeEditorMorph.prototype.accept = function () {\r\n    this.costume.rotationCenter = this.rotationCenter.copy();\r\n    this.costume.version = Date.now();\r\n};\r\n\r\n// CostumeEditorMorph displaying\r\n\r\nCostumeEditorMorph.prototype.drawNew = function () {\r\n    var rp, ctx;\r\n\r\n    this.margin = this.size.subtract(this.costume.extent()).divideBy(2);\r\n    rp = this.rotationCenter.add(this.margin);\r\n\r\n    this.silentSetExtent(this.size);\r\n\r\n    this.image = newCanvas(this.extent());\r\n\r\n    // draw the background\r\n    if (!this.cachedTexture) {\r\n        this.cachedTexture = this.createTexture();\r\n\r\n    }\r\n    this.drawCachedTexture();\r\n\r\n/*\r\n    pattern = ctx.createPattern(this.background, 'repeat');\r\n    ctx.fillStyle = pattern;\r\n    ctx.fillRect(0, 0, this.size.x, this.size.y);\r\n*/\r\n\r\n    ctx = this.image.getContext('2d');\r\n\r\n    // draw the costume\r\n    ctx.drawImage(this.costume.contents, this.margin.x, this.margin.y);\r\n\r\n    // draw crosshairs:\r\n    ctx.globalAlpha = 0.5;\r\n\r\n    // circle around center:\r\n    ctx.fillStyle = 'white';\r\n    ctx.beginPath();\r\n    ctx.arc(\r\n        rp.x,\r\n        rp.y,\r\n        20,\r\n        radians(0),\r\n        radians(360),\r\n        false\r\n    );\r\n    ctx.closePath();\r\n    ctx.fill();\r\n    ctx.stroke();\r\n\r\n    ctx.beginPath();\r\n    ctx.arc(\r\n        rp.x,\r\n        rp.y,\r\n        10,\r\n        radians(0),\r\n        radians(360),\r\n        false\r\n    );\r\n    ctx.stroke();\r\n\r\n    // horizontal line:\r\n    ctx.beginPath();\r\n    ctx.moveTo(0, rp.y);\r\n    ctx.lineTo(this.costume.width() + this.margin.x * 2, rp.y);\r\n    ctx.stroke();\r\n\r\n    // vertical line:\r\n    ctx.beginPath();\r\n    ctx.moveTo(rp.x, 0);\r\n    ctx.lineTo(rp.x, this.costume.height() + this.margin.y * 2);\r\n    ctx.stroke();\r\n};\r\n\r\nCostumeEditorMorph.prototype.createTexture = function () {\r\n    var size = 5,\r\n        texture = newCanvas(new Point(size * 2, size * 2)),\r\n        ctx = texture.getContext('2d'),\r\n        grey = new Color(230, 230, 230);\r\n\r\n    ctx.fillStyle = 'white';\r\n    ctx.fillRect(0, 0, size * 2, size * 2);\r\n    ctx.fillStyle = grey.toString();\r\n    ctx.fillRect(0, 0, size, size);\r\n    ctx.fillRect(size, size, size, size);\r\n    return texture;\r\n};\r\n\r\n\r\n// CostumeEditorMorph events\r\n\r\nCostumeEditorMorph.prototype.mouseDownLeft = function (pos) {\r\n    this.rotationCenter = pos.subtract(\r\n        this.position().add(this.margin)\r\n    );\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nCostumeEditorMorph.prototype.mouseMove\r\n    = CostumeEditorMorph.prototype.mouseDownLeft;\r\n\r\n// Sound /////////////////////////////////////////////////////////////\r\n\r\n// Sound instance creation\r\n\r\nfunction Sound(audio, name) {\r\n    this.audio = audio; // mandatory\r\n    this.name = name || \"Sound\";\r\n}\r\n\r\nSound.prototype.play = function () {\r\n    // return an instance of an audio element which can be terminated\r\n    // externally (i.e. by the stage)\r\n    var aud = document.createElement('audio');\r\n    aud.src = this.audio.src;\r\n    aud.play();\r\n    return aud;\r\n};\r\n\r\nSound.prototype.copy = function () {\r\n    var snd = document.createElement('audio'),\r\n        cpy;\r\n\r\n    snd.src = this.audio.src;\r\n    cpy = new Sound(snd, this.name ? copy(this.name) : null);\r\n    return cpy;\r\n};\r\n\r\nSound.prototype.toDataURL = function () {\r\n    return this.audio.src;\r\n};\r\n\r\n// Note /////////////////////////////////////////////////////////\r\n\r\n// I am a single musical note\r\n\r\n// Note instance creation\r\n\r\nfunction Note(pitch) {\r\n    this.pitch = pitch === 0 ? 0 : pitch || 69;\r\n    this.setupContext();\r\n    this.oscillator = null;\r\n}\r\n\r\n// Note shared properties\r\n\r\nNote.prototype.audioContext = null;\r\nNote.prototype.gainNode = null;\r\n\r\n// Note audio context\r\n\r\nNote.prototype.setupContext = function () {\r\n    if (this.audioContext) { return; }\r\n    var AudioContext = (function () {\r\n        // cross browser some day?\r\n        var ctx = window.AudioContext ||\r\n            window.mozAudioContext ||\r\n            window.msAudioContext ||\r\n            window.oAudioContext ||\r\n            window.webkitAudioContext;\r\n        if (!ctx.prototype.createGain) {\r\n            ctx.prototype.createGain = ctx.prototype.createGainNode;\r\n        }\r\n        return ctx;\r\n    }());\r\n    if (!AudioContext) {\r\n        throw new Error('Web Audio API is not supported\\nin this browser');\r\n    }\r\n    Note.prototype.audioContext = new AudioContext();\r\n    Note.prototype.gainNode = Note.prototype.audioContext.createGain();\r\n    Note.prototype.gainNode.gain.value = 0.25; // reduce volume by 1/4\r\n};\r\n\r\n// Note playing\r\n\r\nNote.prototype.play = function (type) {\r\n    this.oscillator = this.audioContext.createOscillator();\r\n    if (!this.oscillator.start) {\r\n        this.oscillator.start = this.oscillator.noteOn;\r\n    }\r\n    if (!this.oscillator.stop) {\r\n        this.oscillator.stop = this.oscillator.noteOff;\r\n    }\r\n    this.oscillator.type = [\r\n        'sine',\r\n        'square',\r\n        'sawtooth',\r\n        'triangle'\r\n    ][(type || 1) - 1];\r\n    this.oscillator.frequency.value =\r\n        Math.pow(2, (this.pitch - 69) / 12) * 440;\r\n    this.oscillator.connect(this.gainNode);\r\n    this.gainNode.connect(this.audioContext.destination);\r\n    this.oscillator.start(0);\r\n};\r\n\r\nNote.prototype.stop = function () {\r\n    if (this.oscillator) {\r\n        this.oscillator.stop(0);\r\n        this.oscillator = null;\r\n    }\r\n};\r\n\r\n// CellMorph //////////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a spreadsheet style cell that can display either a string,\r\n    a Morph, a Canvas or a toString() representation of anything else.\r\n    I can be used in variable watchers or list view element cells.\r\n*/\r\n\r\n// CellMorph inherits from BoxMorph:\r\n\r\nCellMorph.prototype = new BoxMorph();\r\nCellMorph.prototype.constructor = CellMorph;\r\nCellMorph.uber = BoxMorph.prototype;\r\n\r\n// CellMorph instance creation:\r\n\r\nfunction CellMorph(contents, color, idx, parentCell) {\r\n    this.init(contents, color, idx, parentCell);\r\n}\r\n\r\nCellMorph.prototype.init = function (contents, color, idx, parentCell) {\r\n    this.contents = (contents === 0 ? 0\r\n            : contents === false ? false\r\n                    : contents || '');\r\n    this.isEditable = isNil(idx) ? false : true;\r\n    this.idx = idx || null; // for list watchers\r\n    this.parentCell = parentCell || null; // for list circularity detection\r\n    CellMorph.uber.init.call(\r\n        this,\r\n        SyntaxElementMorph.prototype.corner,\r\n        1.000001, // shadow bug in Chrome,\r\n        new Color(255, 255, 255)\r\n    );\r\n    this.color = color || new Color(255, 140, 0);\r\n    this.isBig = false;\r\n    this.version = null; // only for observing sprites\r\n    this.drawNew();\r\n};\r\n\r\n// CellMorph accessing:\r\n\r\nCellMorph.prototype.big = function () {\r\n    this.isBig = true;\r\n    this.changed();\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nCellMorph.prototype.normal = function () {\r\n    this.isBig = false;\r\n    this.changed();\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\n// CellMorph circularity testing:\r\n\r\n\r\nCellMorph.prototype.isCircular = function (list) {\r\n    if (!this.parentCell) {return false; }\r\n    if (list instanceof List) {\r\n        return this.contents === list || this.parentCell.isCircular(list);\r\n    }\r\n    return this.parentCell.isCircular(this.contents);\r\n};\r\n\r\n// CellMorph layout:\r\n\r\nCellMorph.prototype.fixLayout = function () {\r\n    var listwatcher;\r\n    this.changed();\r\n    this.drawNew();\r\n    this.changed();\r\n    if (this.parent && this.parent.fixLayout) { // variable watcher\r\n        this.parent.fixLayout();\r\n    } else {\r\n        listwatcher = this.parentThatIsA(ListWatcherMorph);\r\n        if (listwatcher) {\r\n            listwatcher.fixLayout();\r\n        }\r\n    }\r\n};\r\n\r\n// CellMorph drawing:\r\n\r\nCellMorph.prototype.update = function () {\r\n    // special case for observing sprites\r\n    if (!isSnapObject(this.contents)) {\r\n        return;\r\n    }\r\n    if (this.version !== this.contents.version) {\r\n        this.drawNew();\r\n    }\r\n};\r\n\r\nCellMorph.prototype.drawNew = function (toggle, type) {\r\n    var context,\r\n        txt,\r\n        img,\r\n        fontSize = SyntaxElementMorph.prototype.fontSize,\r\n        isSameList = this.contentsMorph instanceof ListWatcherMorph\r\n                && (this.contentsMorph.list === this.contents),\r\n        isSameTable = this.contentsMorph instanceof TableFrameMorph\r\n                && (this.contentsMorph.tableMorph.table === this.contents);\r\n\r\n    if (this.isBig) {\r\n        fontSize = fontSize * 1.5;\r\n    }\r\n\r\n    // re-build my contents\r\n    if (toggle || (this.contentsMorph && !isSameList && !isSameTable)) {\r\n        this.contentsMorph.destroy();\r\n        this.version = null;\r\n    }\r\n\r\n    if (toggle || (!isSameList && !isSameTable)) {\r\n        if (this.contents instanceof Morph) {\r\n            if (isSnapObject(this.contents)) {\r\n                img = this.contents.thumbnail(new Point(40, 40));\r\n                this.contentsMorph = new Morph();\r\n                this.contentsMorph.silentSetWidth(img.width);\r\n                this.contentsMorph.silentSetHeight(img.height);\r\n                this.contentsMorph.image = img;\r\n                this.version = this.contents.version;\r\n            } else {\r\n                this.contentsMorph = this.contents;\r\n            }\r\n        } else if (isString(this.contents)) {\r\n            txt  = this.contents.length > 500 ?\r\n                    this.contents.slice(0, 500) + '...' : this.contents;\r\n            this.contentsMorph = new TextMorph(\r\n                txt,\r\n                fontSize,\r\n                null,\r\n                true,\r\n                false,\r\n                'left' // was formerly 'center', reverted b/c of code-mapping\r\n            );\r\n            if (this.isEditable) {\r\n                this.contentsMorph.isEditable = true;\r\n                this.contentsMorph.enableSelecting();\r\n            }\r\n            this.contentsMorph.setColor(new Color(255, 255, 255));\r\n        } else if (typeof this.contents === 'boolean') {\r\n            img = SpriteMorph.prototype.booleanMorph.call(\r\n                null,\r\n                this.contents\r\n            ).fullImage();\r\n            this.contentsMorph = new Morph();\r\n            this.contentsMorph.silentSetWidth(img.width);\r\n            this.contentsMorph.silentSetHeight(img.height);\r\n            this.contentsMorph.image = img;\r\n        } else if (this.contents instanceof HTMLCanvasElement) {\r\n            this.contentsMorph = new Morph();\r\n            this.contentsMorph.silentSetWidth(this.contents.width);\r\n            this.contentsMorph.silentSetHeight(this.contents.height);\r\n            this.contentsMorph.image = this.contents;\r\n        } else if (this.contents instanceof Context) {\r\n            img = this.contents.image();\r\n            this.contentsMorph = new Morph();\r\n            this.contentsMorph.silentSetWidth(img.width);\r\n            this.contentsMorph.silentSetHeight(img.height);\r\n            this.contentsMorph.image = img;\r\n        } else if (this.contents instanceof Costume) {\r\n            img = this.contents.thumbnail(new Point(40, 40));\r\n            this.contentsMorph = new Morph();\r\n            this.contentsMorph.silentSetWidth(img.width);\r\n            this.contentsMorph.silentSetHeight(img.height);\r\n            this.contentsMorph.image = img;\r\n        } else if (this.contents instanceof Sound) {\r\n            this.contentsMorph = new SymbolMorph('notes', 30);\r\n        } else if (this.contents instanceof List) {\r\n            if ('table' === type || (!toggle && this.contents.isTable())) {\r\n                this.contentsMorph = new TableFrameMorph(new TableMorph(\r\n                    this.contents,\r\n                    10\r\n                ));\r\n                this.contentsMorph.expand(new Point(200, 150));\r\n            } else {\r\n                if (this.isCircular()) {\r\n                    this.contentsMorph = new TextMorph(\r\n                        '(...)',\r\n                        fontSize,\r\n                        null,\r\n                        false, // bold\r\n                        true, // italic\r\n                        'center'\r\n                    );\r\n                    this.contentsMorph.setColor(new Color(255, 255, 255));\r\n                } else {\r\n                    this.contentsMorph = new ListWatcherMorph(\r\n                        this.contents,\r\n                        this\r\n                    );\r\n                }\r\n            }\r\n            this.contentsMorph.isDraggable = false;\r\n        } else {\r\n            this.contentsMorph = new TextMorph(\r\n                !isNil(this.contents) ? this.contents.toString() : '',\r\n                fontSize,\r\n                null,\r\n                true,\r\n                false,\r\n                'center'\r\n            );\r\n            if (this.isEditable) {\r\n                this.contentsMorph.isEditable = true;\r\n                this.contentsMorph.enableSelecting();\r\n            }\r\n            this.contentsMorph.setColor(new Color(255, 255, 255));\r\n        }\r\n        this.add(this.contentsMorph);\r\n    }\r\n\r\n    // adjust my layout\r\n    this.silentSetHeight(this.contentsMorph.height()\r\n        + this.edge\r\n        + this.border * 2);\r\n    this.silentSetWidth(Math.max(\r\n        this.contentsMorph.width() + this.edge * 2,\r\n        (this.contents instanceof Context ||\r\n            this.contents instanceof List ? 0 :\r\n                    SyntaxElementMorph.prototype.fontSize * 3.5)\r\n    ));\r\n\r\n    // draw my outline\r\n    this.image = newCanvas(this.extent());\r\n    context = this.image.getContext('2d');\r\n    if ((this.edge === 0) && (this.border === 0)) {\r\n        BoxMorph.uber.drawNew.call(this);\r\n        return null;\r\n    }\r\n    context.fillStyle = this.color.toString();\r\n    context.beginPath();\r\n    this.outlinePath(\r\n        context,\r\n        Math.max(this.edge - this.border, 0),\r\n        this.border\r\n    );\r\n    context.closePath();\r\n    context.fill();\r\n    if (this.border > 0 && !MorphicPreferences.isFlat) {\r\n        context.lineWidth = this.border;\r\n        context.strokeStyle = this.borderColor.toString();\r\n        context.beginPath();\r\n        this.outlinePath(context, this.edge, this.border / 2);\r\n        context.closePath();\r\n        context.stroke();\r\n\r\n        context.shadowOffsetX = this.border;\r\n        context.shadowOffsetY = this.border;\r\n        context.shadowBlur = this.border;\r\n        context.shadowColor = this.color.darker(80).toString();\r\n        this.drawShadow(context, this.edge, this.border / 2);\r\n    }\r\n\r\n    // position my contents\r\n    if (toggle || (!isSameList && !isSameTable)) {\r\n        this.contentsMorph.setCenter(this.center());\r\n    }\r\n};\r\n\r\nCellMorph.prototype.drawShadow = function (context, radius, inset) {\r\n    var offset = radius + inset,\r\n        w = this.width(),\r\n        h = this.height();\r\n\r\n    // bottom left:\r\n    context.beginPath();\r\n    context.moveTo(0, h - offset);\r\n    context.lineTo(0, offset);\r\n    context.stroke();\r\n\r\n    // top left:\r\n    context.beginPath();\r\n    context.arc(\r\n        offset,\r\n        offset,\r\n        radius,\r\n        radians(-180),\r\n        radians(-90),\r\n        false\r\n    );\r\n    context.stroke();\r\n\r\n    // top right:\r\n    context.beginPath();\r\n    context.moveTo(offset, 0);\r\n    context.lineTo(w - offset, 0);\r\n    context.stroke();\r\n};\r\n\r\n// CellMorph editing (inside list watchers):\r\n\r\nCellMorph.prototype.layoutChanged = function () {\r\n    var context,\r\n        fontSize = SyntaxElementMorph.prototype.fontSize,\r\n        listWatcher = this.parentThatIsA(ListWatcherMorph);\r\n\r\n    if (this.isBig) {\r\n        fontSize = fontSize * 1.5;\r\n    }\r\n\r\n    // adjust my layout\r\n    this.silentSetHeight(this.contentsMorph.height()\r\n        + this.edge\r\n        + this.border * 2);\r\n    this.silentSetWidth(Math.max(\r\n        this.contentsMorph.width() + this.edge * 2,\r\n        (this.contents instanceof Context ||\r\n            this.contents instanceof List ? 0 : this.height() * 2)\r\n    ));\r\n\r\n\r\n    // draw my outline\r\n    this.image = newCanvas(this.extent());\r\n    context = this.image.getContext('2d');\r\n    if ((this.edge === 0) && (this.border === 0)) {\r\n        BoxMorph.uber.drawNew.call(this);\r\n        return null;\r\n    }\r\n    context.fillStyle = this.color.toString();\r\n    context.beginPath();\r\n    this.outlinePath(\r\n        context,\r\n        Math.max(this.edge - this.border, 0),\r\n        this.border\r\n    );\r\n    context.closePath();\r\n    context.fill();\r\n    if (this.border > 0 && !MorphicPreferences.isFlat) {\r\n        context.lineWidth = this.border;\r\n        context.strokeStyle = this.borderColor.toString();\r\n        context.beginPath();\r\n        this.outlinePath(context, this.edge, this.border / 2);\r\n        context.closePath();\r\n        context.stroke();\r\n\r\n        context.shadowOffsetX = this.border;\r\n        context.shadowOffsetY = this.border;\r\n        context.shadowBlur = this.border;\r\n        context.shadowColor = this.color.darker(80).toString();\r\n        this.drawShadow(context, this.edge, this.border / 2);\r\n    }\r\n\r\n    // position my contents\r\n    this.contentsMorph.setCenter(this.center());\r\n\r\n    if (listWatcher) {\r\n        listWatcher.fixLayout();\r\n    }\r\n};\r\n\r\nCellMorph.prototype.reactToEdit = function (textMorph) {\r\n    var listWatcher;\r\n    if (!isNil(this.idx)) {\r\n        listWatcher = this.parentThatIsA(ListWatcherMorph);\r\n        if (listWatcher) {\r\n            listWatcher.list.put(textMorph.text, this.idx);\r\n        }\r\n    }\r\n};\r\n\r\nCellMorph.prototype.mouseClickLeft = function (pos) {\r\n    if (this.isEditable && this.contentsMorph instanceof TextMorph) {\r\n        this.contentsMorph.selectAllAndEdit();\r\n    } else {\r\n        this.escalateEvent('mouseClickLeft', pos);\r\n    }\r\n};\r\n\r\nCellMorph.prototype.mouseDoubleClick = function (pos) {\r\n    if (List.prototype.enableTables &&\r\n            this.currentValue instanceof List) {\r\n        new TableDialogMorph(this.contents).popUp(this.world());\r\n    } else {\r\n        this.escalateEvent('mouseDoubleClick', pos);\r\n    }\r\n};\r\n\r\n// WatcherMorph //////////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a little window which observes some value and continuously\r\n    updates itself accordingly.\r\n\r\n    My target can be either a SpriteMorph or a VariableFrame.\r\n*/\r\n\r\n// WatcherMorph inherits from BoxMorph:\r\n\r\nWatcherMorph.prototype = new BoxMorph();\r\nWatcherMorph.prototype.constructor = WatcherMorph;\r\nWatcherMorph.uber = BoxMorph.prototype;\r\n\r\n// WatcherMorph instance creation:\r\n\r\nfunction WatcherMorph(label, color, target, getter, isHidden) {\r\n    this.init(label, color, target, getter, isHidden);\r\n}\r\n\r\nWatcherMorph.prototype.init = function (\r\n    label,\r\n    color,\r\n    target,\r\n    getter,\r\n    isHidden\r\n) {\r\n    // additional properties\r\n    this.labelText = label || '';\r\n    this.version = null;\r\n    this.objName = '';\r\n\r\n    // initialize inherited properties\r\n    WatcherMorph.uber.init.call(\r\n        this,\r\n        SyntaxElementMorph.prototype.rounding,\r\n        1.000001, // shadow bug in Chrome,\r\n        new Color(120, 120, 120)\r\n    );\r\n\r\n    // override inherited behavior\r\n    this.color = new Color(220, 220, 220);\r\n    this.readoutColor = color;\r\n    this.style = 'normal';\r\n    this.target = target || null; // target obj (Sprite) or VariableFrame\r\n    this.getter = getter || null; // callback or variable name (string)\r\n    this.currentValue = null;\r\n    this.labelMorph = null;\r\n    this.sliderMorph = null;\r\n    this.cellMorph = null;\r\n    this.isDraggable = true;\r\n    this.fixLayout();\r\n    this.update();\r\n    if (isHidden) { // for de-serializing\r\n        this.hide();\r\n    }\r\n};\r\n\r\n// WatcherMorph accessing:\r\n\r\nWatcherMorph.prototype.isTemporary = function () {\r\n    var stage = this.parentThatIsA(StageMorph);\r\n    if (this.target instanceof VariableFrame) {\r\n        if (stage) {\r\n            if (this.target === stage.variables.parentFrame) {\r\n                return false; // global\r\n            }\r\n        }\r\n        return this.target.owner === null;\r\n    }\r\n    return false;\r\n};\r\n\r\nWatcherMorph.prototype.object = function () {\r\n    // answer the actual sprite I refer to\r\n    return this.target instanceof VariableFrame ?\r\n            this.target.owner : this.target;\r\n};\r\n\r\nWatcherMorph.prototype.isGlobal = function (selector) {\r\n    return contains(\r\n        ['getLastAnswer', 'getLastMessage', 'getTempo', 'getTimer',\r\n             'reportMouseX', 'reportMouseY', 'reportThreadCount'],\r\n        selector\r\n    );\r\n};\r\n\r\n// WatcherMorph slider accessing:\r\n\r\nWatcherMorph.prototype.setSliderMin = function (num, noUpdate) {\r\n    if (this.target instanceof VariableFrame) {\r\n        this.sliderMorph.setSize(1, noUpdate);\r\n        this.sliderMorph.setStart(num, noUpdate);\r\n        this.sliderMorph.setSize(this.sliderMorph.rangeSize() / 5, noUpdate);\r\n    }\r\n};\r\n\r\nWatcherMorph.prototype.setSliderMax = function (num, noUpdate) {\r\n    if (this.target instanceof VariableFrame) {\r\n        this.sliderMorph.setSize(1, noUpdate);\r\n        this.sliderMorph.setStop(num, noUpdate);\r\n        this.sliderMorph.setSize(this.sliderMorph.rangeSize() / 5, noUpdate);\r\n    }\r\n};\r\n\r\n// WatcherMorph updating:\r\n\r\nWatcherMorph.prototype.update = function () {\r\n    var newValue, sprite, num, att,\r\n        isGhosted = false;\r\n\r\n    if (this.target && this.getter) {\r\n        this.updateLabel();\r\n        if (this.target instanceof VariableFrame) {\r\n            newValue = this.target.vars[this.getter] ?\r\n                    this.target.vars[this.getter].value : undefined;\r\n            if (newValue === undefined && this.target.owner) {\r\n                sprite = this.target.owner;\r\n                if (contains(sprite.inheritedVariableNames(), this.getter)) {\r\n                    newValue = this.target.getVar(this.getter);\r\n                    // ghost cell color\r\n                    this.cellMorph.setColor(\r\n                        SpriteMorph.prototype.blockColor.variables\r\n                            .lighter(35)\r\n                    );\r\n                } else {\r\n                    this.destroy();\r\n                    return;\r\n                }\r\n            } else {\r\n                // un-ghost the cell color\r\n                this.cellMorph.setColor(\r\n                    SpriteMorph.prototype.blockColor.variables\r\n                );\r\n            }\r\n        } else {\r\n            newValue = this.target[this.getter]();\r\n\r\n            // determine whether my getter is an inherited attribute\r\n            att = {\r\n                xPosition: 'x position',\r\n                yPosition: 'y position',\r\n                direction: 'direction',\r\n                getCostumeIdx: 'costume #',\r\n                getScale: 'size'} [this.getter];\r\n            isGhosted = att ? this.target.inheritsAttribute(att) : false;\r\n        }\r\n        if (newValue !== '' && !isNil(newValue)) {\r\n            num = +newValue;\r\n            if (typeof newValue !== 'boolean' && !isNaN(num)) {\r\n                newValue = Math.round(newValue * 1000000000) / 1000000000;\r\n            }\r\n        }\r\n        if (newValue !== this.currentValue) {\r\n            this.changed();\r\n            this.cellMorph.contents = newValue;\r\n            if (isSnapObject(this.target)) {\r\n                if (isGhosted) {\r\n                    this.cellMorph.setColor(this.readoutColor.lighter(35));\r\n                } else {\r\n                    this.cellMorph.setColor(this.readoutColor);\r\n                }\r\n            }\r\n            this.cellMorph.drawNew();\r\n            if (!isNaN(newValue)) {\r\n                this.sliderMorph.value = newValue;\r\n                this.sliderMorph.drawNew();\r\n            }\r\n            this.fixLayout();\r\n            this.currentValue = newValue;\r\n        }\r\n    }\r\n    if (this.cellMorph.contentsMorph instanceof ListWatcherMorph) {\r\n        this.cellMorph.contentsMorph.update();\r\n    } else if (isSnapObject(this.cellMorph.contents)) {\r\n        this.cellMorph.update();\r\n    }\r\n};\r\n\r\nWatcherMorph.prototype.updateLabel = function () {\r\n    // check whether the target object's name has been changed\r\n    var obj = this.object();\r\n\r\n    if (!obj || this.isGlobal(this.getter)) { return; }\r\n    if (obj.version !== this.version) {\r\n        this.objName = obj.name ? obj.name + ' ' : ' ';\r\n        if (this.labelMorph) {\r\n            this.labelMorph.destroy();\r\n            this.labelMorph = null;\r\n            this.fixLayout();\r\n        }\r\n    }\r\n};\r\n\r\n// WatcherMorph layout:\r\n\r\nWatcherMorph.prototype.fixLayout = function () {\r\n    var fontSize = SyntaxElementMorph.prototype.fontSize, isList,\r\n        myself = this;\r\n\r\n    this.changed();\r\n\r\n    // create my parts\r\n    if (this.labelMorph === null) {\r\n        this.labelMorph = new StringMorph(\r\n            this.objName + this.labelText,\r\n            fontSize,\r\n            null,\r\n            true,\r\n            false,\r\n            false,\r\n            MorphicPreferences.isFlat ? new Point() : new Point(1, 1),\r\n            new Color(255, 255, 255)\r\n        );\r\n        this.add(this.labelMorph);\r\n    }\r\n    if (this.cellMorph === null) {\r\n        this.cellMorph = new CellMorph('', this.readoutColor);\r\n        this.add(this.cellMorph);\r\n    }\r\n    if (this.sliderMorph === null) {\r\n        this.sliderMorph = new SliderMorph(\r\n            0,\r\n            100,\r\n            0,\r\n            20,\r\n            'horizontal'\r\n        );\r\n        this.sliderMorph.alpha = 1;\r\n        this.sliderMorph.button.color = this.color.darker();\r\n        this.sliderMorph.color = this.color.lighter(60);\r\n        this.sliderMorph.button.highlightColor = this.color.darker();\r\n        this.sliderMorph.button.highlightColor.b += 50;\r\n        this.sliderMorph.button.pressColor = this.color.darker();\r\n        this.sliderMorph.button.pressColor.b += 100;\r\n        this.sliderMorph.setHeight(fontSize);\r\n        this.sliderMorph.action = function (num) {\r\n            myself.target.setVar(\r\n                myself.getter,\r\n                Math.round(num),\r\n                myself.target.owner\r\n            );\r\n        };\r\n        this.add(this.sliderMorph);\r\n    }\r\n\r\n    // adjust my layout\r\n    isList = this.cellMorph.contents instanceof List;\r\n    if (isList) { this.style = 'normal'; }\r\n\r\n    if (this.style === 'large') {\r\n        this.labelMorph.hide();\r\n        this.sliderMorph.hide();\r\n        this.cellMorph.big();\r\n        this.cellMorph.setPosition(this.position());\r\n        this.setExtent(this.cellMorph.extent().subtract(1));\r\n        return;\r\n    }\r\n\r\n    this.labelMorph.show();\r\n    this.sliderMorph.show();\r\n    this.cellMorph.normal();\r\n    this.labelMorph.setPosition(this.position().add(new Point(\r\n        this.edge,\r\n        this.border + SyntaxElementMorph.prototype.typeInPadding\r\n    )));\r\n\r\n    if (isList) {\r\n        this.cellMorph.setPosition(this.labelMorph.bottomLeft().add(\r\n            new Point(0, SyntaxElementMorph.prototype.typeInPadding)\r\n        ));\r\n    } else {\r\n        this.cellMorph.setPosition(this.labelMorph.topRight().add(new Point(\r\n            fontSize / 3,\r\n            0\r\n        )));\r\n        this.labelMorph.setTop(\r\n            this.cellMorph.top()\r\n                + (this.cellMorph.height() - this.labelMorph.height()) / 2\r\n        );\r\n    }\r\n\r\n    if (this.style === 'slider') {\r\n        this.sliderMorph.silentSetPosition(new Point(\r\n            this.labelMorph.left(),\r\n            this.cellMorph.bottom()\r\n                + SyntaxElementMorph.prototype.typeInPadding\r\n        ));\r\n        this.sliderMorph.setWidth(this.cellMorph.right()\r\n            - this.labelMorph.left());\r\n        this.silentSetHeight(\r\n            this.cellMorph.height()\r\n                + this.sliderMorph.height()\r\n                + this.border * 2\r\n                + SyntaxElementMorph.prototype.typeInPadding * 3\r\n        );\r\n    } else {\r\n        this.sliderMorph.hide();\r\n        this.bounds.corner.y = this.cellMorph.bottom()\r\n            + this.border\r\n            + SyntaxElementMorph.prototype.typeInPadding;\r\n    }\r\n    this.bounds.corner.x = Math.max(\r\n        this.cellMorph.right(),\r\n        this.labelMorph.right()\r\n    ) + this.edge\r\n        + SyntaxElementMorph.prototype.typeInPadding;\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\n// WatcherMorph events:\r\n\r\nWatcherMorph.prototype.mouseDoubleClick = function (pos) {\r\n    if (List.prototype.enableTables &&\r\n            this.currentValue instanceof List) {\r\n        new TableDialogMorph(this.currentValue).popUp(this.world());\r\n    } else {\r\n        this.escalateEvent('mouseDoubleClick', pos);\r\n    }\r\n};\r\n\r\n// WatcherMorph dragging and dropping:\r\n\r\nWatcherMorph.prototype.rootForGrab = function () {\r\n    // prevent watchers to be dragged in presentation mode\r\n    var ide = this.parentThatIsA(IDE_Morph);\r\n    if (ide && ide.isAppMode) {\r\n        return ide;\r\n    }\r\n    return this;\r\n};\r\n\r\n/*\r\n// Scratch-like watcher-toggling, commented out b/c we have a drop-down menu\r\n\r\nWatcherMorph.prototype.mouseClickLeft = function () {\r\n    if (this.style === 'normal') {\r\n        if (this.target instanceof VariableFrame) {\r\n            this.style = 'slider';\r\n        } else {\r\n            this.style = 'large';\r\n        }\r\n    } else if (this.style === 'slider') {\r\n        this.style = 'large';\r\n    } else {\r\n        this.style = 'normal';\r\n    }\r\n    this.fixLayout();\r\n};\r\n*/\r\n\r\n// WatcherMorph user menu:\r\n\r\nWatcherMorph.prototype.userMenu = function () {\r\n    var myself = this,\r\n        ide = this.parentThatIsA(IDE_Morph),\r\n        menu = new MenuMorph(this),\r\n        on = '\\u25CF',\r\n        off = '\\u25CB',\r\n        vNames;\r\n\r\n    function monitor(vName) {\r\n        var stage = myself.parentThatIsA(StageMorph),\r\n            varFrame = myself.currentValue.outerContext.variables;\r\n        menu.addItem(\r\n            vName + '...',\r\n            function () {\r\n                var watcher = detect(\r\n                    stage.children,\r\n                    function (morph) {\r\n                        return morph instanceof WatcherMorph\r\n                            && morph.target === varFrame\r\n                            && morph.getter === vName;\r\n                    }\r\n                ),\r\n                    others;\r\n                if (watcher !== null) {\r\n                    watcher.show();\r\n                    watcher.fixLayout(); // re-hide hidden parts\r\n                    return;\r\n                }\r\n                watcher = new WatcherMorph(\r\n                    vName + ' ' + localize('(temporary)'),\r\n                    SpriteMorph.prototype.blockColor.variables,\r\n                    varFrame,\r\n                    vName\r\n                );\r\n                watcher.setPosition(stage.position().add(10));\r\n                others = stage.watchers(watcher.left());\r\n                if (others.length > 0) {\r\n                    watcher.setTop(others[others.length - 1].bottom());\r\n                }\r\n                stage.add(watcher);\r\n                watcher.fixLayout();\r\n            }\r\n        );\r\n    }\r\n\r\n    if (ide && ide.isAppMode) { // prevent context menu in app mode\r\n        return;\r\n    }\r\n\r\n    menu.addItem(\r\n        (this.style === 'normal' ? on : off) + ' ' + localize('normal'),\r\n        'styleNormal'\r\n    );\r\n    menu.addItem(\r\n        (this.style === 'large' ? on : off) + ' ' + localize('large'),\r\n        'styleLarge'\r\n    );\r\n    if (this.target instanceof VariableFrame) {\r\n        menu.addItem(\r\n            (this.style === 'slider' ? on : off) + ' ' + localize('slider'),\r\n            'styleSlider'\r\n        );\r\n        menu.addLine();\r\n        menu.addItem(\r\n            'slider min...',\r\n            'userSetSliderMin'\r\n        );\r\n        menu.addItem(\r\n            'slider max...',\r\n            'userSetSliderMax'\r\n        );\r\n        menu.addLine();\r\n        menu.addItem(\r\n            'import...',\r\n            function () {\r\n                var inp = document.createElement('input'),\r\n                    ide = myself.parentThatIsA(IDE_Morph);\r\n                if (ide.filePicker) {\r\n                    document.body.removeChild(ide.filePicker);\r\n                    ide.filePicker = null;\r\n                }\r\n                inp.type = 'file';\r\n                inp.style.color = \"transparent\";\r\n                inp.style.backgroundColor = \"transparent\";\r\n                inp.style.border = \"none\";\r\n                inp.style.outline = \"none\";\r\n                inp.style.position = \"absolute\";\r\n                inp.style.top = \"0px\";\r\n                inp.style.left = \"0px\";\r\n                inp.style.width = \"0px\";\r\n                inp.style.height = \"0px\";\r\n                inp.style.display = \"none\";\r\n                inp.addEventListener(\r\n                    \"change\",\r\n                    function () {\r\n                        var file;\r\n                        function txtOnlyMsg(ftype) {\r\n                            ide.inform(\r\n                                'Unable to import',\r\n                                'Snap! can only import \"text\" files.\\n' +\r\n                                    'You selected a file of type \"' +\r\n                                    ftype +\r\n                                    '\".'\r\n                            );\r\n                        }\r\n\r\n                        function readText(aFile) {\r\n                            var frd = new FileReader();\r\n                            frd.onloadend = function (e) {\r\n                                myself.target.setVar(\r\n                                    myself.getter,\r\n                                    e.target.result\r\n                                );\r\n                            };\r\n\r\n                            if (aFile.type.indexOf(\"text\") === 0) {\r\n                                frd.readAsText(aFile);\r\n                            } else {\r\n                                txtOnlyMsg(aFile.type);\r\n                            }\r\n                        }\r\n\r\n                        document.body.removeChild(inp);\r\n                        ide.filePicker = null;\r\n                        if (inp.files.length > 0) {\r\n                            file = inp.files[inp.files.length - 1];\r\n                            readText(file);\r\n                        }\r\n                    },\r\n                    false\r\n                );\r\n                document.body.appendChild(inp);\r\n                ide.filePicker = inp;\r\n                inp.click();\r\n            }\r\n        );\r\n        if (isString(this.currentValue) || !isNaN(+this.currentValue)) {\r\n            menu.addItem(\r\n                'export...',\r\n                function () {\r\n                    var ide = myself.parentThatIsA(IDE_Morph);\r\n                    ide.saveFileAs(\r\n                        myself.currentValue.toString(),\r\n                        'text/plain;charset=utf-8',\r\n                        myself.getter // variable name\r\n                    );\r\n                }\r\n            );\r\n        } else if (this.currentValue instanceof Context) {\r\n            vNames = this.currentValue.outerContext.variables.names();\r\n            if (vNames.length) {\r\n                menu.addLine();\r\n                vNames.forEach(function (vName) {\r\n                    monitor(vName);\r\n                });\r\n            }\r\n        }\r\n    }\r\n    return menu;\r\n};\r\n\r\nWatcherMorph.prototype.setStyle = function (style) {\r\n    this.style = style;\r\n    this.fixLayout();\r\n};\r\n\r\nWatcherMorph.prototype.styleNormal = function () {\r\n    this.setStyle('normal');\r\n};\r\n\r\nWatcherMorph.prototype.styleLarge = function () {\r\n    this.setStyle('large');\r\n};\r\n\r\nWatcherMorph.prototype.styleSlider = function () {\r\n    this.setStyle('slider');\r\n};\r\n\r\nWatcherMorph.prototype.userSetSliderMin = function () {\r\n    new DialogBoxMorph(\r\n        this,\r\n        this.setSliderMin,\r\n        this\r\n    ).prompt(\r\n        \"Slider minimum value\",\r\n        this.sliderMorph.start.toString(),\r\n        this.world(),\r\n        null, // pic\r\n        null, // choices\r\n        null, // read only\r\n        true // numeric\r\n    );\r\n};\r\n\r\nWatcherMorph.prototype.userSetSliderMax = function () {\r\n    new DialogBoxMorph(\r\n        this,\r\n        this.setSliderMax,\r\n        this\r\n    ).prompt(\r\n        \"Slider maximum value\",\r\n        this.sliderMorph.stop.toString(),\r\n        this.world(),\r\n        null, // pic\r\n        null, // choices\r\n        null, // read only\r\n        true // numeric\r\n    );\r\n};\r\n\r\n// WatcherMorph drawing:\r\n\r\nWatcherMorph.prototype.drawNew = function () {\r\n    var context,\r\n        gradient;\r\n    this.image = newCanvas(this.extent());\r\n    context = this.image.getContext('2d');\r\n    if (MorphicPreferences.isFlat || (this.edge === 0 && this.border === 0)) {\r\n        BoxMorph.uber.drawNew.call(this);\r\n        return;\r\n    }\r\n    gradient = context.createLinearGradient(0, 0, 0, this.height());\r\n    gradient.addColorStop(0, this.color.lighter().toString());\r\n    gradient.addColorStop(1, this.color.darker().toString());\r\n    context.fillStyle = gradient;\r\n    context.beginPath();\r\n    this.outlinePath(\r\n        context,\r\n        Math.max(this.edge - this.border, 0),\r\n        this.border\r\n    );\r\n    context.closePath();\r\n    context.fill();\r\n    if (this.border > 0) {\r\n        gradient = context.createLinearGradient(0, 0, 0, this.height());\r\n        gradient.addColorStop(0, this.borderColor.lighter().toString());\r\n        gradient.addColorStop(1, this.borderColor.darker().toString());\r\n        context.lineWidth = this.border;\r\n        context.strokeStyle = gradient;\r\n        context.beginPath();\r\n        this.outlinePath(context, this.edge, this.border / 2);\r\n        context.closePath();\r\n        context.stroke();\r\n    }\r\n};\r\n\r\n// StagePrompterMorph ////////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a sensor-category-colored input box at the bottom of the stage\r\n    which lets the user answer to a question. If I am opened from within\r\n    the context of a sprite, my question can be anything that is displayable\r\n    in a SpeechBubble and will be, if I am opened from within the stage\r\n    my question will be shown as a single line of text within my label morph.\r\n*/\r\n\r\n// StagePrompterMorph inherits from BoxMorph:\r\n\r\nStagePrompterMorph.prototype = new BoxMorph();\r\nStagePrompterMorph.prototype.constructor = StagePrompterMorph;\r\nStagePrompterMorph.uber = BoxMorph.prototype;\r\n\r\n// StagePrompterMorph instance creation:\r\n\r\nfunction StagePrompterMorph(question) {\r\n    this.init(question);\r\n}\r\n\r\nStagePrompterMorph.prototype.init = function (question) {\r\n    // question is optional in case the Stage is asking\r\n    var myself = this;\r\n\r\n    // additional properties\r\n    this.isDone = false;\r\n    if (question) {\r\n        this.label = new StringMorph(\r\n            question,\r\n            SpriteMorph.prototype.bubbleFontSize,\r\n            null, // fontStyle\r\n            SpriteMorph.prototype.bubbleFontIsBold,\r\n            false, // italic\r\n            'left'\r\n        );\r\n    } else {\r\n        this.label = null;\r\n    }\r\n    this.inputField = new InputFieldMorph();\r\n    this.button = new PushButtonMorph(\r\n        null,\r\n        function () {myself.accept(); },\r\n        '\\u2713'\r\n    );\r\n\r\n    // initialize inherited properties\r\n    StagePrompterMorph.uber.init.call(\r\n        this,\r\n        SyntaxElementMorph.prototype.rounding,\r\n        SpriteMorph.prototype.bubbleBorder,\r\n        SpriteMorph.prototype.blockColor.sensing\r\n    );\r\n\r\n    // override inherited behavior\r\n    this.color = new Color(255, 255, 255);\r\n    if (this.label) {this.add(this.label); }\r\n    this.add(this.inputField);\r\n    this.add(this.button);\r\n    this.setWidth(StageMorph.prototype.dimensions.x - 20);\r\n    this.fixLayout();\r\n};\r\n\r\n// StagePrompterMorph layout:\r\n\r\nStagePrompterMorph.prototype.fixLayout = function () {\r\n    var y = 0;\r\n    if (this.label) {\r\n        this.label.setPosition(new Point(\r\n            this.left() + this.edge,\r\n            this.top() + this.edge\r\n        ));\r\n        y = this.label.bottom() - this.top();\r\n    }\r\n    this.inputField.setPosition(new Point(\r\n        this.left() + this.edge,\r\n        this.top() + y + this.edge\r\n    ));\r\n    this.inputField.setWidth(\r\n        this.width()\r\n            - this.edge * 2\r\n            - this.button.width()\r\n            - this.border\r\n    );\r\n    this.button.setCenter(this.inputField.center());\r\n    this.button.setLeft(this.inputField.right() + this.border);\r\n    this.setHeight(\r\n        this.inputField.bottom()\r\n            - this.top()\r\n            + this.edge\r\n    );\r\n};\r\n\r\n// StagePrompterMorph events:\r\n\r\nStagePrompterMorph.prototype.mouseClickLeft = function () {\r\n    this.inputField.edit();\r\n};\r\n\r\nStagePrompterMorph.prototype.accept = function () {\r\n    this.isDone = true;\r\n};\r\n//fin de objects.js\r\n/*\r\n\r\n    gui.js\r\n\r\n    a programming environment\r\n    based on morphic.js, blocks.js, threads.js and objects.js\r\n    inspired by Scratch\r\n\r\n    written by Jens Mönig\r\n    jens@moenig.org\r\n\r\n    Copyright (C) 2017 by Jens Mönig\r\n\r\n    This file is part of Snap!.\r\n\r\n    Snap! is free software: you can redistribute it and/or modify\r\n    it under the terms of the GNU Affero General Public License as\r\n    published by the Free Software Foundation, either version 3 of\r\n    the License, or (at your option) any later version.\r\n\r\n    This program is distributed in the hope that it will be useful,\r\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n    GNU Affero General Public License for more details.\r\n\r\n    You should have received a copy of the GNU Affero General Public License\r\n    along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n\r\n\r\n    prerequisites:\r\n    --------------\r\n    needs blocks.js, threads.js, objects.js and morphic.js\r\n\r\n\r\n    toc\r\n    ---\r\n    the following list shows the order in which all constructors are\r\n    defined. Use this list to locate code in this document:\r\n\r\n        IDE_Morph\r\n        ProjectDialogMorph\r\n        SpriteIconMorph\r\n        TurtleIconMorph\r\n        CostumeIconMorph\r\n        WardrobeMorph\r\n        StageHandleMorph\r\n        PaletteHandleMorph\r\n        CamSnapshotDialogMorph\r\n\r\n\r\n    credits\r\n    -------\r\n    Nathan Dinsmore contributed saving and loading of projects,\r\n    ypr-Snap! project conversion and countless bugfixes\r\n    Ian Reynolds contributed handling and visualization of sounds\r\n    Michael Ball contributed the LibraryImportDialogMorph and countless\r\n    utilities to load libraries from relative urls\r\n\r\n*/\r\n\r\n/*global modules, Morph, SpriteMorph, SyntaxElementMorph, Color,\r\nListWatcherMorph, TextMorph, newCanvas, useBlurredShadows, VariableFrame,\r\nStringMorph, Point, MenuMorph, morphicVersion, DialogBoxMorph,\r\nToggleButtonMorph, contains, ScrollFrameMorph, StageMorph, PushButtonMorph,\r\nInputFieldMorph, FrameMorph, Process, nop, SnapSerializer, ListMorph, detect,\r\nAlignmentMorph, TabMorph, Costume, MorphicPreferences, Sound, BlockMorph,\r\nToggleMorph, InputSlotDialogMorph, ScriptsMorph, isNil, SymbolMorph,\r\nBlockExportDialogMorph, BlockImportDialogMorph, SnapTranslator, localize,\r\nList, ArgMorph, SnapCloud, Uint8Array, HandleMorph, SVG_Costume,\r\nfontHeight, hex_sha512, sb, CommentMorph, CommandBlockMorph, BooleanSlotMorph,\r\nBlockLabelPlaceHolderMorph, Audio, SpeechBubbleMorph, ScriptFocusMorph,\r\nXML_Element, WatcherMorph, BlockRemovalDialogMorph, saveAs, TableMorph,\r\nisSnapObject, isRetinaEnabled, disableRetinaSupport, enableRetinaSupport,\r\nisRetinaSupported, SliderMorph, Animation*/\r\n\r\n// Global stuff ////////////////////////////////////////////////////////\r\n\r\nmodules.gui = '2017-December-01';\r\n\r\n// Declarations\r\n\r\nvar IDE_Morph;\r\nvar ProjectDialogMorph;\r\nvar LibraryImportDialogMorph;\r\nvar SpriteIconMorph;\r\nvar CostumeIconMorph;\r\nvar TurtleIconMorph;\r\nvar WardrobeMorph;\r\nvar SoundIconMorph;\r\nvar JukeboxMorph;\r\nvar StageHandleMorph;\r\nvar PaletteHandleMorph;\r\nvar CamSnapshotDialogMorph;\r\n\r\n// IDE_Morph ///////////////////////////////////////////////////////////\r\n\r\n// I am SNAP's top-level frame, the Editor window\r\n\r\n// IDE_Morph inherits from Morph:\r\n\r\nIDE_Morph.prototype = new Morph();\r\nIDE_Morph.prototype.constructor = IDE_Morph;\r\nIDE_Morph.uber = Morph.prototype;\r\n\r\n// IDE_Morph preferences settings and skins\r\n\r\nIDE_Morph.prototype.setDefaultDesign = function () {\r\n    MorphicPreferences.isFlat = false;\r\n    SpriteMorph.prototype.paletteColor = new Color(55, 55, 55);\r\n    SpriteMorph.prototype.paletteTextColor = new Color(230, 230, 230);\r\n    StageMorph.prototype.paletteTextColor\r\n        = SpriteMorph.prototype.paletteTextColor;\r\n    StageMorph.prototype.paletteColor = SpriteMorph.prototype.paletteColor;\r\n    SpriteMorph.prototype.sliderColor\r\n        = SpriteMorph.prototype.paletteColor.lighter(30);\r\n\r\n    IDE_Morph.prototype.buttonContrast = 30;\r\n    IDE_Morph.prototype.backgroundColor = new Color(40, 40, 40);\r\n    IDE_Morph.prototype.frameColor = SpriteMorph.prototype.paletteColor;\r\n\r\n    IDE_Morph.prototype.groupColor\r\n        = SpriteMorph.prototype.paletteColor.lighter(8);\r\n    IDE_Morph.prototype.sliderColor = SpriteMorph.prototype.sliderColor;\r\n    IDE_Morph.prototype.buttonLabelColor = new Color(255, 255, 255);\r\n    IDE_Morph.prototype.tabColors = [\r\n        IDE_Morph.prototype.groupColor.darker(40),\r\n        IDE_Morph.prototype.groupColor.darker(60),\r\n        IDE_Morph.prototype.groupColor\r\n    ];\r\n    IDE_Morph.prototype.rotationStyleColors = IDE_Morph.prototype.tabColors;\r\n    IDE_Morph.prototype.appModeColor = new Color();\r\n    IDE_Morph.prototype.scriptsPaneTexture = this.scriptsTexture();\r\n    IDE_Morph.prototype.padding = 5;\r\n\r\n    SpriteIconMorph.prototype.labelColor\r\n        = IDE_Morph.prototype.buttonLabelColor;\r\n    CostumeIconMorph.prototype.labelColor\r\n        = IDE_Morph.prototype.buttonLabelColor;\r\n    SoundIconMorph.prototype.labelColor\r\n        = IDE_Morph.prototype.buttonLabelColor;\r\n    TurtleIconMorph.prototype.labelColor\r\n        = IDE_Morph.prototype.buttonLabelColor;\r\n};\r\n\r\nIDE_Morph.prototype.setFlatDesign = function () {\r\n    MorphicPreferences.isFlat = true;\r\n    SpriteMorph.prototype.paletteColor = new Color(255, 255, 255);\r\n    SpriteMorph.prototype.paletteTextColor = new Color(70, 70, 70);\r\n    StageMorph.prototype.paletteTextColor\r\n        = SpriteMorph.prototype.paletteTextColor;\r\n    StageMorph.prototype.paletteColor = SpriteMorph.prototype.paletteColor;\r\n    SpriteMorph.prototype.sliderColor = SpriteMorph.prototype.paletteColor;\r\n\r\n    IDE_Morph.prototype.buttonContrast = 30;\r\n    IDE_Morph.prototype.backgroundColor = new Color(200, 200, 200);\r\n    IDE_Morph.prototype.frameColor = new Color(255, 255, 255);\r\n\r\n    IDE_Morph.prototype.groupColor = new Color(230, 230, 230);\r\n    IDE_Morph.prototype.sliderColor = SpriteMorph.prototype.sliderColor;\r\n    IDE_Morph.prototype.buttonLabelColor = new Color(70, 70, 70);\r\n    IDE_Morph.prototype.tabColors = [\r\n        IDE_Morph.prototype.groupColor.lighter(60),\r\n        IDE_Morph.prototype.groupColor.darker(10),\r\n        IDE_Morph.prototype.groupColor\r\n    ];\r\n    IDE_Morph.prototype.rotationStyleColors = [\r\n        IDE_Morph.prototype.groupColor,\r\n        IDE_Morph.prototype.groupColor.darker(10),\r\n        IDE_Morph.prototype.groupColor.darker(30)\r\n    ];\r\n    IDE_Morph.prototype.appModeColor = IDE_Morph.prototype.frameColor;\r\n    IDE_Morph.prototype.scriptsPaneTexture = null;\r\n    IDE_Morph.prototype.padding = 1;\r\n\r\n    SpriteIconMorph.prototype.labelColor\r\n        = IDE_Morph.prototype.buttonLabelColor;\r\n    CostumeIconMorph.prototype.labelColor\r\n        = IDE_Morph.prototype.buttonLabelColor;\r\n    SoundIconMorph.prototype.labelColor\r\n        = IDE_Morph.prototype.buttonLabelColor;\r\n    TurtleIconMorph.prototype.labelColor\r\n        = IDE_Morph.prototype.buttonLabelColor;\r\n};\r\n\r\nIDE_Morph.prototype.scriptsTexture = function () {\r\n    var pic = newCanvas(new Point(100, 100)), // bigger scales faster\r\n        ctx = pic.getContext('2d'),\r\n        i;\r\n    for (i = 0; i < 100; i += 4) {\r\n        ctx.fillStyle = this.frameColor.toString();\r\n        ctx.fillRect(i, 0, 1, 100);\r\n        ctx.fillStyle = this.groupColor.lighter(6).toString();\r\n        ctx.fillRect(i + 1, 0, 1, 100);\r\n        ctx.fillRect(i + 3, 0, 1, 100);\r\n        ctx.fillStyle = this.groupColor.toString();\r\n        ctx.fillRect(i + 2, 0, 1, 100);\r\n    }\r\n    return pic;\r\n};\r\n\r\nIDE_Morph.prototype.setDefaultDesign();\r\n\r\n// IDE_Morph instance creation:\r\n\r\nfunction IDE_Morph(isAutoFill) {\r\n    this.init(isAutoFill);\r\n}\r\n\r\nIDE_Morph.prototype.init = function (isAutoFill) {\r\n    // global font setting\r\n    MorphicPreferences.globalFontFamily = 'Helvetica, Arial';\r\n\r\n    // restore saved user preferences\r\n    this.userLanguage = null; // user language preference for startup\r\n    this.projectsInURLs = false;\r\n    this.applySavedSettings();\r\n\r\n    // additional properties:\r\n    this.cloudMsg = null;\r\n    this.source = 'local';\r\n    this.serializer = new SnapSerializer();\r\n\r\n    this.globalVariables = new VariableFrame();\r\n    this.currentSprite = new SpriteMorph(this.globalVariables);\r\n    this.sprites = new List([this.currentSprite]);\r\n    this.currentCategory = 'motion';\r\n    this.currentTab = 'scripts';\r\n    this.projectName = 'Education nationale';//Wiquid Snap for Tao project name \r\n    this.projectNotes = '';\r\n\r\n    //***************** Wiquid *********************\r\n    \r\n    // Insert Snap logo\r\n    this.logoURL =\"data:image/png;base64,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\";\r\n    //this.logoURL = \"http://wiquid.fr/depp/snaplogo.png\";\r\n    //this.resourceURL('snap_logo_sm.png');\r\n\r\n    //***********************************************\r\n    \r\n    this.logo = null;\r\n    this.controlBar = null;\r\n    this.categories = null;\r\n    this.palette = null;\r\n    this.paletteHandle = null;\r\n    this.spriteBar = null;\r\n    this.spriteEditor = null;\r\n    this.stage = null;\r\n    this.stageHandle = null;\r\n    this.corralBar = null;\r\n    this.corral = null;\r\n\r\n    this.isAutoFill = isAutoFill === undefined ? true : isAutoFill;\r\n    this.isAppMode = false;\r\n    this.isSmallStage = false;\r\n    this.filePicker = null;\r\n    this.hasChangedMedia = false;\r\n\r\n    this.isAnimating = true;\r\n\r\n    this.paletteWidth = 200; // initially same as logo width\r\n    this.stageRatio = 1; // for IDE animations, e.g. when zooming\r\n\r\n\tthis.wasSingleStepping = false; // for toggling to and from app mode\r\n\r\n    this.loadNewProject = false; // flag when starting up translated\r\n    this.shield = null;\r\n\r\n    this.savingPreferences = true; // for bh's infamous \"Eisenbergification\"\r\n\r\n    // initialize inherited properties:\r\n    IDE_Morph.uber.init.call(this);\r\n\r\n    // override inherited properites:\r\n    this.color = this.backgroundColor;\r\n    \r\n};\r\n\r\nIDE_Morph.prototype.openIn = function (world) {\r\n    var hash, usr, myself = this, urlLanguage = null;\r\n\r\n    // get persistent user data, if any\r\n    if (this.hasLocalStorage()) {\r\n        usr = localStorage['-snap-user'];\r\n        if (usr) {\r\n            usr = SnapCloud.parseResponse(usr)[0];\r\n            if (usr) {\r\n                SnapCloud.username = usr.username || null;\r\n                SnapCloud.password = usr.password || null;\r\n                if (SnapCloud.username) {\r\n                    this.source = 'cloud';\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    this.buildPanes();\r\n    world.add(this);\r\n    world.userMenu = this.userMenu;\r\n\r\n    // override SnapCloud's user message with Morphic\r\n    SnapCloud.message = function (string) {\r\n        var m = new MenuMorph(null, string),\r\n            intervalHandle;\r\n        m.popUpCenteredInWorld(world);\r\n        intervalHandle = setInterval(function () {\r\n            m.destroy();\r\n            clearInterval(intervalHandle);\r\n        }, 2000);\r\n    };\r\n\r\n    // prevent non-DialogBoxMorphs from being dropped\r\n    // onto the World in user-mode\r\n    world.reactToDropOf = function (morph) {\r\n        if (!(morph instanceof DialogBoxMorph)) {\r\n            if (world.hand.grabOrigin) {\r\n                morph.slideBackTo(world.hand.grabOrigin);\r\n            } else {\r\n                world.hand.grab(morph);\r\n            }\r\n        }\r\n    };\r\n\r\n    this.reactToWorldResize(world.bounds);\r\n\r\n    function getURL(url) {\r\n        try {\r\n            var request = new XMLHttpRequest();\r\n            request.open('GET', url, false);\r\n            request.send();\r\n            if (request.status === 200) {\r\n                return request.responseText;\r\n            }\r\n            throw new Error('unable to retrieve ' + url);\r\n        } catch (err) {\r\n            myself.showMessage('unable to retrieve project');\r\n            return '';\r\n        }\r\n    }\r\n\r\n\tfunction applyFlags(dict) {\r\n        if (dict.editMode) {\r\n            myself.toggleAppMode(false);\r\n        } else {\r\n            myself.toggleAppMode(true);\r\n        }\r\n        if (!dict.noRun) {\r\n            myself.runScripts();\r\n        }\r\n        if (dict.hideControls) {\r\n            myself.controlBar.hide();\r\n            window.onbeforeunload = nop;\r\n        }\r\n        if (dict.noExitWarning) {\r\n            window.onbeforeunload = nop;\r\n        }\r\n\t}\r\n\r\n    // dynamic notifications from non-source text files\r\n    // has some issues, commented out for now\r\n    /*\r\n    this.cloudMsg = getURL('http://snap.berkeley.edu/cloudmsg.txt');\r\n    motd = getURL('http://snap.berkeley.edu/motd.txt');\r\n    if (motd) {\r\n        this.inform('Snap!', motd);\r\n    }\r\n    */\r\n\r\n    function interpretUrlAnchors() {\r\n        var dict, idx;\r\n\r\n        if (location.hash.substr(0, 6) === '#open:') {\r\n            hash = location.hash.substr(6);\r\n            if (hash.charAt(0) === '%'\r\n                    || hash.search(/\\%(?:[0-9a-f]{2})/i) > -1) {\r\n                hash = decodeURIComponent(hash);\r\n            }\r\n            if (contains(\r\n                    ['project', 'blocks', 'sprites', 'snapdata'].map(\r\n                        function (each) {\r\n                            return hash.substr(0, 8).indexOf(each);\r\n                        }\r\n                    ),\r\n                    1\r\n                )) {\r\n                this.droppedText(hash);\r\n            } else {\r\n                this.droppedText(getURL(hash));\r\n            }\r\n        } else if (location.hash.substr(0, 5) === '#run:') {\r\n            hash = location.hash.substr(5);\r\n            idx = hash.indexOf(\"&\");\r\n            if (idx > 0) {\r\n                hash = hash.slice(0, idx);\r\n            }\r\n            if (hash.charAt(0) === '%'\r\n                    || hash.search(/\\%(?:[0-9a-f]{2})/i) > -1) {\r\n                hash = decodeURIComponent(hash);\r\n            }\r\n            if (hash.substr(0, 8) === '<project>') {\r\n                this.rawOpenProjectString(hash);\r\n            } else {\r\n                this.rawOpenProjectString(getURL(hash));\r\n            }\r\n            applyFlags(SnapCloud.parseDict(location.hash.substr(5)));\r\n        } else if (location.hash.substr(0, 9) === '#present:') {\r\n            this.shield = new Morph();\r\n            this.shield.color = this.color;\r\n            this.shield.setExtent(this.parent.extent());\r\n            this.parent.add(this.shield);\r\n            myself.showMessage('Fetching project\\nfrom the cloud...');\r\n\r\n            // make sure to lowercase the username\r\n            dict = SnapCloud.parseDict(location.hash.substr(9));\r\n            dict.Username = dict.Username.toLowerCase();\r\n\r\n            SnapCloud.getPublicProject(\r\n                SnapCloud.encodeDict(dict),\r\n                function (projectData) {\r\n                    var msg;\r\n                    myself.nextSteps([\r\n                        function () {\r\n                            msg = myself.showMessage('Opening project...');\r\n                        },\r\n                        function () {nop(); }, // yield (bug in Chrome)\r\n                        function () {\r\n                            if (projectData.indexOf('<snapdata') === 0) {\r\n                                myself.rawOpenCloudDataString(projectData);\r\n                            } else if (\r\n                                projectData.indexOf('<project') === 0\r\n                            ) {\r\n                                myself.rawOpenProjectString(projectData);\r\n                            }\r\n                            myself.hasChangedMedia = true;\r\n                        },\r\n                        function () {\r\n                            myself.shield.destroy();\r\n                            myself.shield = null;\r\n                            msg.destroy();\r\n                            applyFlags(dict);\r\n                        }\r\n                    ]);\r\n                },\r\n                this.cloudError()\r\n            );\r\n        } else if (location.hash.substr(0, 7) === '#cloud:') {\r\n            this.shield = new Morph();\r\n            this.shield.alpha = 0;\r\n            this.shield.setExtent(this.parent.extent());\r\n            this.parent.add(this.shield);\r\n            myself.showMessage('Fetching project\\nfrom the cloud...');\r\n\r\n            // make sure to lowercase the username\r\n            dict = SnapCloud.parseDict(location.hash.substr(7));\r\n            dict.Username = dict.Username.toLowerCase();\r\n\r\n            SnapCloud.getPublicProject(\r\n                SnapCloud.encodeDict(dict),\r\n                function (projectData) {\r\n                    var msg;\r\n                    myself.nextSteps([\r\n                        function () {\r\n                            msg = myself.showMessage('Opening project...');\r\n                        },\r\n                        function () {nop(); }, // yield (bug in Chrome)\r\n                        function () {\r\n                            if (projectData.indexOf('<snapdata') === 0) {\r\n                                myself.rawOpenCloudDataString(projectData);\r\n                            } else if (\r\n                                projectData.indexOf('<project') === 0\r\n                            ) {\r\n                                myself.rawOpenProjectString(projectData);\r\n                            }\r\n                            myself.hasChangedMedia = true;\r\n                        },\r\n                        function () {\r\n                            myself.shield.destroy();\r\n                            myself.shield = null;\r\n                            msg.destroy();\r\n                            myself.toggleAppMode(false);\r\n                        }\r\n                    ]);\r\n                },\r\n                this.cloudError()\r\n            );\r\n        } else if (location.hash.substr(0, 4) === '#dl:') {\r\n            myself.showMessage('Fetching project\\nfrom the cloud...');\r\n\r\n            // make sure to lowercase the username\r\n            dict = SnapCloud.parseDict(location.hash.substr(4));\r\n            dict.Username = dict.Username.toLowerCase();\r\n\r\n            SnapCloud.getPublicProject(\r\n                SnapCloud.encodeDict(dict),\r\n                function (projectData) {\r\n                \tmyself.saveXMLAs(projectData, dict.ProjectName);\r\n                 \tmyself.showMessage(\r\n                  \t   'Saved project\\n' + dict.ProjectName,\r\n                      \t2\r\n                 \t);\r\n                },\r\n                this.cloudError()\r\n            );\r\n        } else if (location.hash.substr(0, 6) === '#lang:') {\r\n            urlLanguage = location.hash.substr(6);\r\n            this.setLanguage(urlLanguage);\r\n            this.loadNewProject = true;\r\n        } else if (location.hash.substr(0, 7) === '#signup') {\r\n            this.createCloudAccount();\r\n        }\r\n    this.loadNewProject = false;\r\n\r\n    }\r\n\r\n    if (this.userLanguage) {\r\n        this.loadNewProject = true;\r\n        //console.log(\"Trace setLanguage\");\r\n        this.setLanguage(this.userLanguage, interpretUrlAnchors);\r\n    } else {\r\n        interpretUrlAnchors.call(this);\r\n    }\r\n\r\n    //console.log(\"end openin\");\r\n};\r\n\r\n// IDE_Morph construction\r\n\r\nIDE_Morph.prototype.buildPanes = function () {\r\n    this.createLogo();\r\n    this.createControlBar();\r\n    this.createCategories();\r\n    this.createPalette();\r\n    this.createStage();\r\n    this.createSpriteBar();\r\n    this.createSpriteEditor();\r\n    this.createCorralBar();\r\n    this.createCorral();\r\n};\r\n\r\nIDE_Morph.prototype.createLogo = function () {\r\n    var myself = this;\r\n\r\n    if (this.logo) {\r\n        this.logo.destroy();\r\n    }\r\n\r\n    this.logo = new Morph();\r\n    this.logo.texture = this.logoURL;\r\n    this.logo.drawNew = function () {\r\n        this.image = newCanvas(this.extent());\r\n        var context = this.image.getContext('2d'),\r\n            gradient = context.createLinearGradient(\r\n                0,\r\n                0,\r\n                this.width(),\r\n                0\r\n            );\r\n        gradient.addColorStop(0, 'black');\r\n        gradient.addColorStop(0.5, myself.frameColor.toString());\r\n        context.fillStyle = MorphicPreferences.isFlat ?\r\n                myself.frameColor.toString() : gradient;\r\n        context.fillRect(0, 0, this.width(), this.height());\r\n        if (this.texture) {\r\n            this.drawTexture(this.texture);\r\n        }\r\n    };\r\n\r\n    this.logo.drawCachedTexture = function () {\r\n        var context = this.image.getContext('2d');\r\n        context.drawImage(\r\n            this.cachedTexture,\r\n            5,\r\n            Math.round((this.height() - this.cachedTexture.height) / 2)\r\n        );\r\n        this.changed();\r\n    };\r\n\r\n    this.logo.mouseClickLeft = function () {\r\n        myself.snapMenu();\r\n    };\r\n\r\n    this.logo.color = new Color();\r\n    this.logo.setExtent(new Point(200, 28)); // dimensions are fixed\r\n    this.add(this.logo);\r\n};\r\n\r\nIDE_Morph.prototype.createControlBar = function () {\r\n    // assumes the logo has already been created\r\n    var padding = 5,\r\n        button,\r\n        slider,\r\n        stopButton,\r\n        pauseButton,\r\n        startButton,\r\n        projectButton,\r\n        settingsButton,\r\n        stageSizeButton,\r\n        appModeButton,\r\n        steppingButton,\r\n        cloudButton,\r\n        x,\r\n        colors = [\r\n            this.groupColor,\r\n            this.frameColor.darker(50),\r\n            this.frameColor.darker(50)\r\n        ],\r\n        myself = this;\r\n\r\n    if (this.controlBar) {\r\n        this.controlBar.destroy();\r\n    }\r\n\r\n    this.controlBar = new Morph();\r\n    this.controlBar.color = this.frameColor;\r\n    this.controlBar.setHeight(this.logo.height()); // height is fixed\r\n    this.controlBar.mouseClickLeft = function () {\r\n        this.world().fillPage();\r\n    };\r\n    this.add(this.controlBar);\r\n\r\n    //smallStageButton\r\n    button = new ToggleButtonMorph(\r\n        null, //colors,\r\n        myself, // the IDE is the target\r\n        'toggleStageSize',\r\n        [\r\n            new SymbolMorph('smallStage', 14),\r\n            new SymbolMorph('normalStage', 14)\r\n        ],\r\n        function () {  // query\r\n            return myself.isSmallStage;\r\n        }\r\n    );\r\n\r\n    button.corner = 12;\r\n    button.color = colors[0];\r\n    button.highlightColor = colors[1];\r\n    button.pressColor = colors[2];\r\n    button.labelMinExtent = new Point(36, 18);\r\n    button.padding = 0;\r\n    button.labelShadowOffset = new Point(-1, -1);\r\n    button.labelShadowColor = colors[1];\r\n    button.labelColor = this.buttonLabelColor;\r\n    button.contrast = this.buttonContrast;\r\n    button.drawNew();\r\n    // button.hint = 'stage size\\nsmall & normal';\r\n    button.fixLayout();\r\n    button.refresh();\r\n    stageSizeButton = button;\r\n    this.controlBar.add(stageSizeButton);\r\n    this.controlBar.stageSizeButton = button; // for refreshing\r\n\r\n    //appModeButton\r\n    button = new ToggleButtonMorph(\r\n        null, //colors,\r\n        myself, // the IDE is the target\r\n        'toggleAppMode',\r\n        [\r\n            new SymbolMorph('fullScreen', 14),\r\n            new SymbolMorph('normalScreen', 14)\r\n        ],\r\n        function () {  // query\r\n            return myself.isAppMode;\r\n        }\r\n    );\r\n\r\n    button.corner = 12;\r\n    button.color = colors[0];\r\n    button.highlightColor = colors[1];\r\n    button.pressColor = colors[2];\r\n    button.labelMinExtent = new Point(36, 18);\r\n    button.padding = 0;\r\n    button.labelShadowOffset = new Point(-1, -1);\r\n    button.labelShadowColor = colors[1];\r\n    button.labelColor = this.buttonLabelColor;\r\n    button.contrast = this.buttonContrast;\r\n    button.drawNew();\r\n    // button.hint = 'app & edit\\nmodes';\r\n    button.fixLayout();\r\n    button.refresh();\r\n    appModeButton = button;\r\n    this.controlBar.add(appModeButton);\r\n    this.controlBar.appModeButton = appModeButton; // for refreshing\r\n\r\n    //steppingButton\r\n    button = new ToggleButtonMorph(\r\n        null, //colors,\r\n        myself, // the IDE is the target\r\n        'toggleSingleStepping',\r\n        [\r\n            new SymbolMorph('footprints', 16),\r\n            new SymbolMorph('footprints', 16)\r\n        ],\r\n        function () {  // query\r\n            return Process.prototype.enableSingleStepping;\r\n        }\r\n    );\r\n\r\n    button.corner = 12;\r\n    button.color = colors[0];\r\n    button.highlightColor = colors[1];\r\n    button.pressColor = new Color(153, 255, 213);\r\n//    button.pressColor = colors[2];\r\n    button.labelMinExtent = new Point(36, 18);\r\n    button.padding = 0;\r\n    button.labelShadowOffset = new Point(-1, -1);\r\n    button.labelShadowColor = colors[1];\r\n    button.labelColor = this.buttonLabelColor;\r\n    button.contrast = this.buttonContrast;\r\n    button.drawNew();\r\n    button.hint = 'Visible stepping';\r\n    button.fixLayout();\r\n    button.refresh();\r\n    steppingButton = button;\r\n    this.controlBar.add(steppingButton);\r\n    this.controlBar.steppingButton = steppingButton; // for refreshing\r\n\r\n    // stopButton\r\n    button = new ToggleButtonMorph(\r\n        null, // colors\r\n        this, // the IDE is the target\r\n        'stopAllScripts',\r\n        [\r\n            new SymbolMorph('octagon', 14),\r\n            new SymbolMorph('square', 14)\r\n        ],\r\n        function () {  // query\r\n            return myself.stage ?\r\n                    myself.stage.enableCustomHatBlocks &&\r\n                        myself.stage.threads.pauseCustomHatBlocks\r\n                        : true;\r\n        }\r\n    );\r\n\r\n    button.corner = 12;\r\n    button.color = colors[0];\r\n    button.highlightColor = colors[1];\r\n    button.pressColor = colors[2];\r\n    button.labelMinExtent = new Point(36, 18);\r\n    button.padding = 0;\r\n    button.labelShadowOffset = new Point(-1, -1);\r\n    button.labelShadowColor = colors[1];\r\n    button.labelColor = new Color(200, 0, 0);\r\n    button.contrast = this.buttonContrast;\r\n    button.drawNew();\r\n    // button.hint = 'stop\\nevery-\\nthing';\r\n    button.fixLayout();\r\n    button.refresh();\r\n    stopButton = button;\r\n    this.controlBar.add(stopButton);\r\n    this.controlBar.stopButton = stopButton; // for refreshing\r\n\r\n    //pauseButton\r\n    button = new ToggleButtonMorph(\r\n        null, //colors,\r\n        this, // the IDE is the target\r\n        'togglePauseResume',\r\n        [\r\n            new SymbolMorph('pause', 12),\r\n            new SymbolMorph('pointRight', 14)\r\n        ],\r\n        function () {  // query\r\n            return myself.isPaused();\r\n        }\r\n    );\r\n\r\n    button.corner = 12;\r\n    button.color = colors[0];\r\n    button.highlightColor = colors[1];\r\n    button.pressColor = colors[2];\r\n    button.labelMinExtent = new Point(36, 18);\r\n    button.padding = 0;\r\n    button.labelShadowOffset = new Point(-1, -1);\r\n    button.labelShadowColor = colors[1];\r\n    button.labelColor = new Color(255, 220, 0);\r\n    button.contrast = this.buttonContrast;\r\n    button.drawNew();\r\n    // button.hint = 'pause/resume\\nall scripts';\r\n    button.fixLayout();\r\n    button.refresh();\r\n    pauseButton = button;\r\n    this.controlBar.add(pauseButton);\r\n    this.controlBar.pauseButton = pauseButton; // for refreshing\r\n\r\n    // startButton\r\n    button = new PushButtonMorph(\r\n        this,\r\n        'pressStart',\r\n        new SymbolMorph('flag', 14)\r\n    );\r\n    button.corner = 12;\r\n    button.color = colors[0];\r\n    button.highlightColor = colors[1];\r\n    button.pressColor = colors[2];\r\n    button.labelMinExtent = new Point(36, 18);\r\n    button.padding = 0;\r\n    button.labelShadowOffset = new Point(-1, -1);\r\n    button.labelShadowColor = colors[1];\r\n    button.labelColor = new Color(0, 200, 0);\r\n    button.contrast = this.buttonContrast;\r\n    button.drawNew();\r\n    // button.hint = 'start green\\nflag scripts';\r\n    button.fixLayout();\r\n    startButton = button;\r\n    this.controlBar.add(startButton);\r\n    this.controlBar.startButton = startButton;\r\n\r\n    // steppingSlider\r\n    slider = new SliderMorph(\r\n        61,\r\n        1,\r\n        Process.prototype.flashTime * 100 + 1,\r\n        6,\r\n        'horizontal'\r\n    );\r\n    slider.action = function (num) {\r\n        Process.prototype.flashTime = (num - 1) / 100;\r\n        myself.controlBar.refreshResumeSymbol();\r\n    };\r\n    // slider.alpha = MorphicPreferences.isFlat ? 0.1 : 0.3;\r\n    slider.color = new Color(153, 255, 213);\r\n    slider.alpha = 0.3;\r\n    slider.setExtent(new Point(50, 14));\r\n    this.controlBar.add(slider);\r\n    this.controlBar.steppingSlider = slider;\r\n\r\n    // projectButton\r\n    button = new PushButtonMorph(\r\n        this,\r\n        'projectMenu',\r\n        new SymbolMorph('file', 14)\r\n        //'\\u270E'\r\n    );\r\n    button.corner = 12;\r\n    button.color = colors[0];\r\n    button.highlightColor = colors[1];\r\n    button.pressColor = colors[2];\r\n    button.labelMinExtent = new Point(36, 18);\r\n    button.padding = 0;\r\n    button.labelShadowOffset = new Point(-1, -1);\r\n    button.labelShadowColor = colors[1];\r\n    button.labelColor = this.buttonLabelColor;\r\n    button.contrast = this.buttonContrast;\r\n    button.drawNew();\r\n    // button.hint = 'open, save, & annotate project';\r\n    button.fixLayout();\r\n    projectButton = button;\r\n    //this.controlBar.add(projectButton); // Wiquid : Control button menu create save file\r\n    this.controlBar.projectButton = projectButton; // for menu positioning\r\n\r\n    // settingsButton\r\n    button = new PushButtonMorph(\r\n        this,\r\n        'settingsMenu',\r\n        new SymbolMorph('gears', 14)\r\n        //'\\u2699'\r\n    );\r\n    button.corner = 12;\r\n    button.color = colors[0];\r\n    button.highlightColor = colors[1];\r\n    button.pressColor = colors[2];\r\n    button.labelMinExtent = new Point(36, 18);\r\n    button.padding = 0;\r\n    button.labelShadowOffset = new Point(-1, -1);\r\n    button.labelShadowColor = colors[1];\r\n    button.labelColor = this.buttonLabelColor;\r\n    button.contrast = this.buttonContrast;\r\n    button.drawNew();\r\n    // button.hint = 'edit settings';\r\n    button.fixLayout();\r\n    settingsButton = button;\r\n    //this.controlBar.add(settingsButton);\r\n    this.controlBar.settingsButton = settingsButton; // for menu positioning\r\n\r\n    // cloudButton\r\n    button = new PushButtonMorph(\r\n        this,\r\n        'cloudMenu',\r\n        new SymbolMorph('cloud', 11)\r\n    );\r\n    button.corner = 12;\r\n    button.color = colors[0];\r\n    button.highlightColor = colors[1];\r\n    button.pressColor = colors[2];\r\n    button.labelMinExtent = new Point(36, 18);\r\n    button.padding = 0;\r\n    button.labelShadowOffset = new Point(-1, -1);\r\n    button.labelShadowColor = colors[1];\r\n    button.labelColor = this.buttonLabelColor;\r\n    button.contrast = this.buttonContrast;\r\n    button.drawNew();\r\n    // button.hint = 'cloud operations';\r\n    button.fixLayout();\r\n    cloudButton = button;\r\n    //this.controlBar.add(cloudButton);\r\n    this.controlBar.cloudButton = cloudButton; // for menu positioning\r\n\r\n    this.controlBar.fixLayout = function () {\r\n        x = this.right() - padding;\r\n        [stopButton, pauseButton, startButton].forEach(\r\n            function (button) {\r\n                button.setCenter(myself.controlBar.center());\r\n                button.setRight(x);\r\n                x -= button.width();\r\n                x -= padding;\r\n            }\r\n        );\r\n\r\n        x = Math.min(\r\n            startButton.left() - (3 * padding + 2 * stageSizeButton.width()),\r\n            myself.right() - StageMorph.prototype.dimensions.x *\r\n                (myself.isSmallStage ? myself.stageRatio : 1)\r\n        );\r\n        [stageSizeButton, appModeButton].forEach(\r\n            function (button) {\r\n                x += padding;\r\n                button.setCenter(myself.controlBar.center());\r\n                button.setLeft(x);\r\n                x += button.width();\r\n            }\r\n        );\r\n\r\n        slider.setCenter(myself.controlBar.center());\r\n        slider.setRight(stageSizeButton.left() - padding);\r\n\r\n        steppingButton.setCenter(myself.controlBar.center());\r\n        steppingButton.setRight(slider.left() - padding);\r\n\r\n        settingsButton.setCenter(myself.controlBar.center());\r\n        settingsButton.setLeft(this.left());\r\n\r\n        cloudButton.setCenter(myself.controlBar.center());\r\n        cloudButton.setRight(settingsButton.left() - padding);\r\n\r\n        projectButton.setCenter(myself.controlBar.center());\r\n        projectButton.setRight(cloudButton.left() - padding);\r\n\r\n        this.refreshSlider();\r\n        this.updateLabel();\r\n    };\r\n\r\n    this.controlBar.refreshSlider = function () {\r\n        if (Process.prototype.enableSingleStepping && !myself.isAppMode) {\r\n            slider.drawNew();\r\n            slider.show();\r\n        } else {\r\n            slider.hide();\r\n        }\r\n        this.refreshResumeSymbol();\r\n    };\r\n\r\n    this.controlBar.refreshResumeSymbol = function () {\r\n        var pauseSymbols;\r\n        if (Process.prototype.enableSingleStepping &&\r\n                Process.prototype.flashTime > 0.5) {\r\n            myself.stage.threads.pauseAll(myself.stage);\r\n            pauseSymbols = [\r\n                new SymbolMorph('pause', 12),\r\n                new SymbolMorph('stepForward', 14)\r\n            ];\r\n        } else {\r\n            pauseSymbols = [\r\n                new SymbolMorph('pause', 12),\r\n                new SymbolMorph('pointRight', 14)\r\n            ];\r\n        }\r\n        pauseButton.labelString = pauseSymbols;\r\n        pauseButton.createLabel();\r\n        pauseButton.fixLayout();\r\n        pauseButton.refresh();\r\n    };\r\n\r\n    this.controlBar.updateLabel = function () {\r\n        var suffix = myself.world().isDevMode ?\r\n                ' - ' + localize('development mode') : '';\r\n\r\n        if (this.label) {\r\n            this.label.destroy();\r\n        }\r\n        if (myself.isAppMode) {\r\n            return;\r\n        }\r\n\r\n        this.label = new StringMorph(\r\n            (myself.projectName || localize('untitled')) + suffix,\r\n            14,\r\n            'sans-serif',\r\n            true,\r\n            false,\r\n            false,\r\n            MorphicPreferences.isFlat ? null : new Point(2, 1),\r\n            myself.frameColor.darker(myself.buttonContrast)\r\n        );\r\n        this.label.color = myself.buttonLabelColor;\r\n        this.label.drawNew();\r\n        this.add(this.label);\r\n        this.label.setCenter(this.center());\r\n        this.label.setLeft(this.settingsButton.right() + padding);\r\n    };\r\n};\r\n\r\nIDE_Morph.prototype.createCategories = function () {\r\n    var myself = this;\r\n\r\n    if (this.categories) {\r\n        this.categories.destroy();\r\n    }\r\n    this.categories = new Morph();\r\n    this.categories.color = this.groupColor;\r\n    this.categories.silentSetWidth(this.paletteWidth);\r\n\r\n    function addCategoryButton(category) {\r\n        var labelWidth = 75,\r\n            colors = [\r\n                myself.frameColor,\r\n                myself.frameColor.darker(50),\r\n                SpriteMorph.prototype.blockColor[category]\r\n            ],\r\n            button;\r\n\r\n        button = new ToggleButtonMorph(\r\n            colors,\r\n            myself, // the IDE is the target\r\n            function () {\r\n                myself.currentCategory = category;\r\n                myself.categories.children.forEach(function (each) {\r\n                    each.refresh();\r\n                });\r\n                myself.refreshPalette(true);\r\n            },\r\n            category[0].toUpperCase().concat(category.slice(1)), // label\r\n            function () {  // query\r\n                return myself.currentCategory === category;\r\n            },\r\n            null, // env\r\n            null, // hint\r\n            null, // template cache\r\n            labelWidth, // minWidth\r\n            true // has preview\r\n        );\r\n\r\n        button.corner = 8;\r\n        button.padding = 0;\r\n        button.labelShadowOffset = new Point(-1, -1);\r\n        button.labelShadowColor = colors[1];\r\n        button.labelColor = myself.buttonLabelColor;\r\n        button.fixLayout();\r\n        button.refresh();\r\n        myself.categories.add(button);\r\n        return button;\r\n    }\r\n\r\n    function fixCategoriesLayout() {\r\n        var buttonWidth = myself.categories.children[0].width(),\r\n            buttonHeight = myself.categories.children[0].height(),\r\n            border = 3,\r\n            rows =  Math.ceil((myself.categories.children.length) / 2),\r\n            xPadding = (200 // myself.logo.width()\r\n                - border\r\n                - buttonWidth * 2) / 3,\r\n            yPadding = 2,\r\n            l = myself.categories.left(),\r\n            t = myself.categories.top(),\r\n            i = 0,\r\n            row,\r\n            col;\r\n\r\n        myself.categories.children.forEach(function (button) {\r\n            i += 1;\r\n            row = Math.ceil(i / 2);\r\n            col = 2 - (i % 2);\r\n            button.setPosition(new Point(\r\n                l + (col * xPadding + ((col - 1) * buttonWidth)),\r\n                t + (row * yPadding + ((row - 1) * buttonHeight) + border)\r\n            ));\r\n        });\r\n\r\n        myself.categories.setHeight(\r\n            (rows + 1) * yPadding\r\n                + rows * buttonHeight\r\n                + 2 * border\r\n        );\r\n    }\r\n\r\n    SpriteMorph.prototype.categories.forEach(function (cat) {\r\n        if (!contains(['lists', 'other'], cat)) {\r\n           addCategoryButton(cat);\r\n        }\r\n    });\r\n    fixCategoriesLayout();\r\n    this.add(this.categories); // Wiquid : Control display button node categories\r\n};\r\n\r\nIDE_Morph.prototype.createPalette = function (forSearching) {\r\n    // assumes that the logo pane has already been created\r\n    // needs the categories pane for layout\r\n    var myself = this;\r\n\r\n    if (this.palette) {\r\n        this.palette.destroy();\r\n    }\r\n\r\n    if (forSearching) {\r\n        this.palette = new ScrollFrameMorph(\r\n            null,\r\n            null,\r\n            this.currentSprite.sliderColor\r\n        );\r\n\r\n        // search toolbar (floating cancel button):\r\n        /* commented out for now\r\n        this.palette.toolBar = new PushButtonMorph(\r\n            this,\r\n            function () {\r\n                myself.refreshPalette();\r\n                myself.palette.adjustScrollBars();\r\n            },\r\n            new SymbolMorph(\"magnifierOutline\", 16)\r\n        );\r\n        this.palette.toolBar.alpha = 0.2;\r\n        this.palette.toolBar.padding = 1;\r\n        // this.palette.toolBar.hint = 'Cancel';\r\n        this.palette.toolBar.labelShadowColor = new Color(140, 140, 140);\r\n        this.palette.toolBar.drawNew();\r\n        this.palette.toolBar.fixLayout();\r\n        this.palette.add(this.palette.toolBar);\r\n\t    */\r\n    } else {\r\n        this.palette = this.currentSprite.palette(this.currentCategory);\r\n    }\r\n    this.palette.isDraggable = false;\r\n    this.palette.acceptsDrops = true;\r\n    this.palette.enableAutoScrolling = false;\r\n    this.palette.contents.acceptsDrops = false;\r\n\r\n    this.palette.reactToDropOf = function (droppedMorph, hand) {\r\n\r\n        if (droppedMorph instanceof DialogBoxMorph) {\r\n            myself.world().add(droppedMorph);\r\n        } else if (droppedMorph instanceof SpriteMorph) {\r\n            myself.removeSprite(droppedMorph);\r\n        } else if (droppedMorph instanceof SpriteIconMorph) {\r\n            droppedMorph.destroy();\r\n            myself.removeSprite(droppedMorph.object);\r\n        } else if (droppedMorph instanceof CostumeIconMorph) {\r\n            myself.currentSprite.wearCostume(null);\r\n            droppedMorph.perish();\r\n        } else if (droppedMorph instanceof BlockMorph) {\r\n            myself.stage.threads.stopAllForBlock(droppedMorph);\r\n            if (hand && hand.grabOrigin.origin instanceof ScriptsMorph) {\r\n                hand.grabOrigin.origin.clearDropInfo();\r\n                hand.grabOrigin.origin.lastDroppedBlock = droppedMorph;\r\n                hand.grabOrigin.origin.recordDrop(hand.grabOrigin);\r\n            }\r\n            droppedMorph.perish();\r\n        } else {\r\n            droppedMorph.perish();\r\n        }\r\n    };\r\n\r\n    this.palette.contents.reactToDropOf = function (droppedMorph) {\r\n        // for \"undrop\" operation\r\n        if (droppedMorph instanceof BlockMorph) {\r\n            droppedMorph.destroy();\r\n        }\r\n    };\r\n\r\n    this.palette.setWidth(this.logo.width());\r\n    this.add(this.palette); // Wiquid :  control node palette.\r\n    return this.palette;\r\n};\r\n\r\nIDE_Morph.prototype.createPaletteHandle = function () {\r\n    // assumes that the palette has already been created\r\n    if (this.paletteHandle) {this.paletteHandle.destroy(); }\r\n    this.paletteHandle = new PaletteHandleMorph(this.categories);\r\n    panel_Left = this;\r\n    this.add(this.paletteHandle);\r\n};\r\n\r\nIDE_Morph.prototype.createStage = function () {\r\n    // assumes that the logo pane has already been created\r\n    if (this.stage) {this.stage.destroy(); }\r\n    StageMorph.prototype.frameRate = 0;\r\n    this.stage = new StageMorph(this.globalVariables);\r\n    this.stage.setExtent(this.stage.dimensions); // dimensions are fixed\r\n    if (this.currentSprite instanceof SpriteMorph) {\r\n        this.currentSprite.setPosition(\r\n            this.stage.center().subtract(\r\n                this.currentSprite.extent().divideBy(2)\r\n            )\r\n        );\r\n        this.stage.add(this.currentSprite);\r\n    }\r\n    this.add(this.stage);\r\n};\r\n\r\nIDE_Morph.prototype.createStageHandle = function () {\r\n    // assumes that the stage has already been created\r\n    if (this.stageHandle) {this.stageHandle.destroy(); }\r\n    this.stageHandle = new StageHandleMorph(this.stage);\r\n    this.add(this.stageHandle);\r\n};\r\n\r\nIDE_Morph.prototype.createSpriteBar = function () {\r\n    // assumes that the categories pane has already been created\r\n    var rotationStyleButtons = [],\r\n        thumbSize = new Point(45, 45),\r\n        nameField,\r\n        padlock,\r\n        thumbnail,\r\n        tabCorner = 15,\r\n        tabColors = this.tabColors,\r\n        tabBar = new AlignmentMorph('row', -tabCorner * 2),\r\n        tab,\r\n        symbols = ['\\u2192', '\\u21BB', '\\u2194'],\r\n        labels = ['don\\'t rotate', 'can rotate', 'only face left/right'],\r\n        myself = this;\r\n\r\n    if (this.spriteBar) {\r\n        this.spriteBar.destroy();\r\n    }\r\n\r\n    this.spriteBar = new Morph();\r\n    this.spriteBar.color = this.frameColor;\r\n    this.add(this.spriteBar);\r\n\r\n    function addRotationStyleButton(rotationStyle) {\r\n        var colors = myself.rotationStyleColors,\r\n            button;\r\n\r\n        button = new ToggleButtonMorph(\r\n            colors,\r\n            myself, // the IDE is the target\r\n            function () {\r\n                if (myself.currentSprite instanceof SpriteMorph) {\r\n                    myself.currentSprite.rotationStyle = rotationStyle;\r\n                    myself.currentSprite.changed();\r\n                    myself.currentSprite.drawNew();\r\n                    myself.currentSprite.changed();\r\n                }\r\n                rotationStyleButtons.forEach(function (each) {\r\n                    each.refresh();\r\n                });\r\n            },\r\n            symbols[rotationStyle], // label\r\n            function () {  // query\r\n                return myself.currentSprite instanceof SpriteMorph\r\n                    && myself.currentSprite.rotationStyle === rotationStyle;\r\n            },\r\n            null, // environment\r\n            localize(labels[rotationStyle])\r\n        );\r\n\r\n        button.corner = 8;\r\n        button.labelMinExtent = new Point(11, 11);\r\n        button.padding = 0;\r\n        button.labelShadowOffset = new Point(-1, -1);\r\n        button.labelShadowColor = colors[1];\r\n        button.labelColor = myself.buttonLabelColor;\r\n        button.fixLayout();\r\n        button.refresh();\r\n        rotationStyleButtons.push(button);\r\n        button.setPosition(myself.spriteBar.position().add(2));\r\n        button.setTop(button.top()\r\n            + ((rotationStyleButtons.length - 1) * (button.height() + 2))\r\n            );\r\n        myself.spriteBar.add(button);\r\n        if (myself.currentSprite instanceof StageMorph) {\r\n            button.hide();\r\n        }\r\n        return button;\r\n    }\r\n\r\n    addRotationStyleButton(1);\r\n    addRotationStyleButton(2);\r\n    addRotationStyleButton(0);\r\n    this.rotationStyleButtons = rotationStyleButtons;\r\n\r\n    thumbnail = new Morph();\r\n    thumbnail.setExtent(thumbSize);\r\n    thumbnail.image = this.currentSprite.thumbnail(thumbSize);\r\n    thumbnail.setPosition(\r\n        rotationStyleButtons[0].topRight().add(new Point(5, 3))\r\n    );\r\n    this.spriteBar.add(thumbnail);\r\n\r\n    thumbnail.fps = 3;\r\n\r\n    thumbnail.step = function () {\r\n        if (thumbnail.version !== myself.currentSprite.version) {\r\n            thumbnail.image = myself.currentSprite.thumbnail(thumbSize);\r\n            thumbnail.changed();\r\n            thumbnail.version = myself.currentSprite.version;\r\n        }\r\n    };\r\n\r\n    nameField = new InputFieldMorph(this.currentSprite.name);\r\n    nameField.setWidth(100); // fixed dimensions\r\n    nameField.contrast = 90;\r\n    nameField.setPosition(thumbnail.topRight().add(new Point(10, 3)));\r\n    this.spriteBar.add(nameField);\r\n    nameField.drawNew();\r\n    nameField.accept = function () {\r\n        var newName = nameField.getValue();\r\n        myself.currentSprite.setName(\r\n            myself.newSpriteName(newName, myself.currentSprite)\r\n        );\r\n        nameField.setContents(myself.currentSprite.name);\r\n    };\r\n    this.spriteBar.reactToEdit = nameField.accept;\r\n\r\n    // padlock\r\n    padlock = new ToggleMorph(\r\n        'checkbox',\r\n        null,\r\n        function () {\r\n            myself.currentSprite.isDraggable =\r\n                !myself.currentSprite.isDraggable;\r\n        },\r\n        localize('draggable'),\r\n        function () {\r\n            return myself.currentSprite.isDraggable;\r\n        }\r\n    );\r\n    padlock.label.isBold = false;\r\n    padlock.label.setColor(this.buttonLabelColor);\r\n    padlock.color = tabColors[2];\r\n    padlock.highlightColor = tabColors[0];\r\n    padlock.pressColor = tabColors[1];\r\n\r\n    padlock.tick.shadowOffset = MorphicPreferences.isFlat ?\r\n            new Point() : new Point(-1, -1);\r\n    padlock.tick.shadowColor = new Color(); // black\r\n    padlock.tick.color = this.buttonLabelColor;\r\n    padlock.tick.isBold = false;\r\n    padlock.tick.drawNew();\r\n\r\n    padlock.setPosition(nameField.bottomLeft().add(2));\r\n    padlock.drawNew();\r\n    this.spriteBar.add(padlock);\r\n    if (this.currentSprite instanceof StageMorph) {\r\n        padlock.hide();\r\n    }\r\n\r\n    // tab bar\r\n    tabBar.tabTo = function (tabString) {\r\n        var active;\r\n        myself.currentTab = tabString;\r\n        this.children.forEach(function (each) {\r\n            each.refresh();\r\n            if (each.state) {active = each; }\r\n        });\r\n        active.refresh(); // needed when programmatically tabbing\r\n        myself.createSpriteEditor();\r\n        myself.fixLayout('tabEditor');\r\n    };\r\n\r\n    tab = new TabMorph(\r\n        tabColors,\r\n        null, // target\r\n        function () {tabBar.tabTo('scripts'); },\r\n        localize('Scripts'), // label\r\n        function () {  // query\r\n            return myself.currentTab === 'scripts';\r\n        }\r\n    );\r\n    tab.padding = 3;\r\n    tab.corner = tabCorner;\r\n    tab.edge = 1;\r\n    tab.labelShadowOffset = new Point(-1, -1);\r\n    tab.labelShadowColor = tabColors[1];\r\n    tab.labelColor = this.buttonLabelColor;\r\n    tab.drawNew();\r\n    tab.fixLayout();\r\n    tabBar.add(tab);\r\n\r\n    tab = new TabMorph(\r\n        tabColors,\r\n        null, // target\r\n        function () {tabBar.tabTo('costumes'); },\r\n        localize(this.currentSprite instanceof SpriteMorph ?\r\n            'Costumes' : 'Backgrounds'\r\n        ),\r\n        function () {  // query\r\n            return myself.currentTab === 'costumes';\r\n        }\r\n    );\r\n    tab.padding = 3;\r\n    tab.corner = tabCorner;\r\n    tab.edge = 1;\r\n    tab.labelShadowOffset = new Point(-1, -1);\r\n    tab.labelShadowColor = tabColors[1];\r\n    tab.labelColor = this.buttonLabelColor;\r\n    tab.drawNew();\r\n    tab.fixLayout();\r\n    tabBar.add(tab);\r\n\r\n    tab = new TabMorph(\r\n        tabColors,\r\n        null, // target\r\n        function () {tabBar.tabTo('sounds'); },\r\n        localize('Sounds'), // label\r\n        function () {  // query\r\n            return myself.currentTab === 'sounds';\r\n        }\r\n    );\r\n    tab.padding = 3;\r\n    tab.corner = tabCorner;\r\n    tab.edge = 1;\r\n    tab.labelShadowOffset = new Point(-1, -1);\r\n    tab.labelShadowColor = tabColors[1];\r\n    tab.labelColor = this.buttonLabelColor;\r\n    tab.drawNew();\r\n    tab.fixLayout();\r\n    tabBar.add(tab);\r\n\r\n    tabBar.fixLayout();\r\n    tabBar.children.forEach(function (each) {\r\n        each.refresh();\r\n    });\r\n    this.spriteBar.tabBar = tabBar;\r\n    this.spriteBar.add(this.spriteBar.tabBar);\r\n\r\n    this.spriteBar.fixLayout = function () {\r\n        this.tabBar.setLeft(this.left());\r\n        this.tabBar.setBottom(this.bottom());\r\n    };\r\n};\r\n\r\nIDE_Morph.prototype.createSpriteEditor = function () {\r\n    // assumes that the logo pane and the stage have already been created\r\n    var scripts = this.currentSprite.scripts,\r\n        myself = this;\r\n\r\n    if (this.spriteEditor) {\r\n        this.spriteEditor.destroy();\r\n    }\r\n\r\n    if (this.currentTab === 'scripts') {\r\n        scripts.isDraggable = false;\r\n        scripts.color = this.groupColor;\r\n        scripts.cachedTexture = this.scriptsPaneTexture;\r\n\r\n        this.spriteEditor = new ScrollFrameMorph(\r\n            scripts,\r\n            null,\r\n            this.sliderColor\r\n        );\r\n        this.spriteEditor.padding = 10;\r\n        this.spriteEditor.growth = 50;\r\n        this.spriteEditor.isDraggable = false;\r\n        this.spriteEditor.acceptsDrops = false;\r\n        this.spriteEditor.contents.acceptsDrops = true;\r\n\r\n        scripts.scrollFrame = this.spriteEditor;\r\n        scripts.updateToolbar();\r\n        this.add(this.spriteEditor);\r\n        this.spriteEditor.scrollX(this.spriteEditor.padding);\r\n        this.spriteEditor.scrollY(this.spriteEditor.padding);\r\n    } else if (this.currentTab === 'costumes') {\r\n        this.spriteEditor = new WardrobeMorph(\r\n            this.currentSprite,\r\n            this.sliderColor\r\n        );\r\n        this.spriteEditor.color = this.groupColor;\r\n        this.add(this.spriteEditor);\r\n        this.spriteEditor.updateSelection();\r\n\r\n        this.spriteEditor.acceptsDrops = false;\r\n        this.spriteEditor.contents.acceptsDrops = false;\r\n    } else if (this.currentTab === 'sounds') {\r\n        this.spriteEditor = new JukeboxMorph(\r\n            this.currentSprite,\r\n            this.sliderColor\r\n        );\r\n        this.spriteEditor.color = this.groupColor;\r\n        this.add(this.spriteEditor);\r\n        this.spriteEditor.updateSelection();\r\n        this.spriteEditor.acceptDrops = false;\r\n        this.spriteEditor.contents.acceptsDrops = false;\r\n    } else {\r\n        this.spriteEditor = new Morph();\r\n        this.spriteEditor.color = this.groupColor;\r\n        this.spriteEditor.acceptsDrops = true;\r\n        this.spriteEditor.reactToDropOf = function (droppedMorph) {\r\n            if (droppedMorph instanceof DialogBoxMorph) {\r\n                myself.world().add(droppedMorph);\r\n            } else if (droppedMorph instanceof SpriteMorph) {\r\n                myself.removeSprite(droppedMorph);\r\n            } else {\r\n                droppedMorph.destroy();\r\n            }\r\n        };\r\n        this.add(this.spriteEditor);\r\n    }\r\n};\r\n\r\nIDE_Morph.prototype.createCorralBar = function () {\r\n    // assumes the stage has already been created\r\n    var padding = 5,\r\n        newbutton,\r\n        paintbutton,\r\n        cambutton,\r\n        colors = [\r\n            this.groupColor,\r\n            this.frameColor.darker(50),\r\n            this.frameColor.darker(50)\r\n        ];\r\n\r\n    if (this.corralBar) {\r\n        this.corralBar.destroy();\r\n    }\r\n\r\n    this.corralBar = new Morph();\r\n    this.corralBar.color = this.frameColor;\r\n    this.corralBar.setHeight(this.logo.height()); // height is fixed\r\n    this.add(this.corralBar);\r\n\r\n    // new sprite button\r\n    newbutton = new PushButtonMorph(\r\n        this,\r\n        \"addNewSprite\",\r\n        new SymbolMorph(\"turtle\", 14)\r\n    );\r\n    newbutton.corner = 12;\r\n    newbutton.color = colors[0];\r\n    newbutton.highlightColor = colors[1];\r\n    newbutton.pressColor = colors[2];\r\n    newbutton.labelMinExtent = new Point(36, 18);\r\n    newbutton.padding = 0;\r\n    newbutton.labelShadowOffset = new Point(-1, -1);\r\n    newbutton.labelShadowColor = colors[1];\r\n    newbutton.labelColor = this.buttonLabelColor;\r\n    newbutton.contrast = this.buttonContrast;\r\n    newbutton.drawNew();\r\n    newbutton.hint = \"add a new Turtle sprite\";\r\n    newbutton.fixLayout();\r\n    newbutton.setCenter(this.corralBar.center());\r\n    newbutton.setLeft(this.corralBar.left() + padding);\r\n    this.corralBar.add(newbutton);\r\n\r\n    paintbutton = new PushButtonMorph(\r\n        this,\r\n        \"paintNewSprite\",\r\n        new SymbolMorph(\"brush\", 15)\r\n    );\r\n    paintbutton.corner = 12;\r\n    paintbutton.color = colors[0];\r\n    paintbutton.highlightColor = colors[1];\r\n    paintbutton.pressColor = colors[2];\r\n    paintbutton.labelMinExtent = new Point(36, 18);\r\n    paintbutton.padding = 0;\r\n    paintbutton.labelShadowOffset = new Point(-1, -1);\r\n    paintbutton.labelShadowColor = colors[1];\r\n    paintbutton.labelColor = this.buttonLabelColor;\r\n    paintbutton.contrast = this.buttonContrast;\r\n    paintbutton.drawNew();\r\n    paintbutton.hint = \"paint a new sprite\";\r\n    paintbutton.fixLayout();\r\n    paintbutton.setCenter(this.corralBar.center());\r\n    paintbutton.setLeft(\r\n        this.corralBar.left() + padding + newbutton.width() + padding\r\n    );\r\n    this.corralBar.add(paintbutton);\r\n\r\n    if (CamSnapshotDialogMorph.prototype.enableCamera) {\r\n        cambutton = new PushButtonMorph(\r\n                this,\r\n                \"newCamSprite\",\r\n                new SymbolMorph(\"camera\", 15)\r\n                );\r\n        cambutton.corner = 12;\r\n        cambutton.color = colors[0];\r\n        cambutton.highlightColor = colors[1];\r\n        cambutton.pressColor = colors[2];\r\n        cambutton.labelMinExtent = new Point(36, 18);\r\n        cambutton.padding = 0;\r\n        cambutton.labelShadowOffset = new Point(-1, -1);\r\n        cambutton.labelShadowColor = colors[1];\r\n        cambutton.labelColor = this.buttonLabelColor;\r\n        cambutton.contrast = this.buttonContrast;\r\n        cambutton.drawNew();\r\n        cambutton.hint = \"take a camera snapshot and\\nimport it as a new sprite\";\r\n        cambutton.fixLayout();\r\n        cambutton.setCenter(this.corralBar.center());\r\n        cambutton.setLeft(\r\n            this.corralBar.left() +\r\n            padding +\r\n            newbutton.width() +\r\n            padding +\r\n            paintbutton.width() +\r\n            padding\r\n        );\r\n        this.corralBar.add(cambutton);\r\n        document.addEventListener(\r\n            'cameraDisabled',\r\n            function (event) {\r\n                cambutton.disable();\r\n                cambutton.hint =\r\n                    CamSnapshotDialogMorph.prototype.notSupportedMessage;\r\n            }\r\n        );\r\n    }\r\n};\r\n\r\nIDE_Morph.prototype.createCorral = function () {\r\n    // assumes the corral bar has already been created\r\n    var frame, template, padding = 5, myself = this;\r\n\r\n    this.createStageHandle();\r\n    this.createPaletteHandle();\r\n\r\n    if (this.corral) {\r\n        this.corral.destroy();\r\n    }\r\n\r\n    this.corral = new Morph();\r\n    this.corral.color = this.groupColor;\r\n    this.add(this.corral);\r\n\r\n    this.corral.stageIcon = new SpriteIconMorph(this.stage);\r\n    this.corral.stageIcon.isDraggable = false;\r\n    this.corral.add(this.corral.stageIcon);\r\n\r\n    frame = new ScrollFrameMorph(null, null, this.sliderColor);\r\n    frame.acceptsDrops = false;\r\n    frame.contents.acceptsDrops = false;\r\n\r\n    frame.contents.wantsDropOf = function (morph) {\r\n        return morph instanceof SpriteIconMorph;\r\n    };\r\n\r\n    frame.contents.reactToDropOf = function (spriteIcon) {\r\n        myself.corral.reactToDropOf(spriteIcon);\r\n    };\r\n\r\n    frame.alpha = 0;\r\n\r\n    this.sprites.asArray().forEach(function (morph) {\r\n        if (!morph.isTemporary) {\r\n            template = new SpriteIconMorph(morph, template);\r\n            frame.contents.add(template);\r\n        }\r\n    });\r\n\r\n    this.corral.frame = frame;\r\n    this.corral.add(frame);\r\n\r\n    this.corral.fixLayout = function () {\r\n        this.stageIcon.setCenter(this.center());\r\n        this.stageIcon.setLeft(this.left() + padding);\r\n        this.frame.setLeft(this.stageIcon.right() + padding);\r\n        this.frame.setExtent(new Point(\r\n            this.right() - this.frame.left(),\r\n            this.height()\r\n        ));\r\n        this.arrangeIcons();\r\n        this.refresh();\r\n    };\r\n\r\n    this.corral.arrangeIcons = function () {\r\n        var x = this.frame.left(),\r\n            y = this.frame.top(),\r\n            max = this.frame.right(),\r\n            start = this.frame.left();\r\n\r\n        this.frame.contents.children.forEach(function (icon) {\r\n            var w = icon.width();\r\n\r\n            if (x + w > max) {\r\n                x = start;\r\n                y += icon.height(); // they're all the same\r\n            }\r\n            icon.setPosition(new Point(x, y));\r\n            x += w;\r\n        });\r\n        this.frame.contents.adjustBounds();\r\n    };\r\n\r\n    this.corral.addSprite = function (sprite) {\r\n        this.frame.contents.add(new SpriteIconMorph(sprite));\r\n        this.fixLayout();\r\n    };\r\n\r\n    this.corral.refresh = function () {\r\n        this.stageIcon.refresh();\r\n        this.frame.contents.children.forEach(function (icon) {\r\n            icon.refresh();\r\n        });\r\n    };\r\n\r\n    this.corral.wantsDropOf = function (morph) {\r\n        return morph instanceof SpriteIconMorph;\r\n    };\r\n\r\n    this.corral.reactToDropOf = function (spriteIcon) {\r\n        var idx = 1,\r\n            pos = spriteIcon.position();\r\n        spriteIcon.destroy();\r\n        this.frame.contents.children.forEach(function (icon) {\r\n            if (pos.gt(icon.position()) || pos.y > icon.bottom()) {\r\n                idx += 1;\r\n            }\r\n        });\r\n        myself.sprites.add(spriteIcon.object, idx);\r\n        myself.createCorral();\r\n        myself.fixLayout();\r\n    };\r\n};\r\n\r\n// IDE_Morph layout\r\n\r\nIDE_Morph.prototype.fixLayout = function (situation) {\r\n    // situation is a string, i.e.\r\n    // 'selectSprite' or 'refreshPalette' or 'tabEditor'\r\n    var padding = this.padding,\r\n        maxPaletteWidth;\r\n\r\n    Morph.prototype.trackChanges = false;\r\n\r\n    if (situation !== 'refreshPalette') {\r\n        // controlBar\r\n        this.controlBar.setPosition(this.logo.topRight());\r\n        this.controlBar.setWidth(this.right() - this.controlBar.left());\r\n        this.controlBar.fixLayout();\r\n\r\n        // categories\r\n        this.categories.setLeft(this.logo.left());\r\n        this.categories.setTop(this.logo.bottom());\r\n        this.categories.setWidth(this.paletteWidth);\r\n    }\r\n\r\n    // palette\r\n    this.palette.setLeft(this.logo.left());\r\n    this.palette.setTop(this.categories.bottom());\r\n    this.palette.setHeight(this.bottom() - this.palette.top());\r\n    this.palette.setWidth(this.paletteWidth);\r\n\r\n    if (situation !== 'refreshPalette') {\r\n        // stage\r\n        if (this.isAppMode) {\r\n            this.stage.setScale(Math.floor(Math.min(\r\n                (this.width() - padding * 2) / this.stage.dimensions.x,\r\n                (this.height() - this.controlBar.height() * 2 - padding * 2)\r\n                    / this.stage.dimensions.y\r\n            ) * 10) / 10);\r\n            this.stage.setCenter(this.center());\r\n        } else {\r\n            this.stage.setScale(this.isSmallStage ? this.stageRatio : 1);\r\n            this.stage.setTop(this.logo.bottom() + padding);\r\n            this.stage.setRight(this.right());\r\n            maxPaletteWidth = Math.max(\r\n                200,\r\n                this.width() -\r\n                    this.stage.width() -\r\n                    this.spriteBar.tabBar.width() -\r\n                    (this.padding * 2)\r\n            );\r\n            if (this.paletteWidth > maxPaletteWidth) {\r\n                this.paletteWidth = maxPaletteWidth;\r\n                this.fixLayout();\r\n            }\r\n            this.stageHandle.fixLayout();\r\n            this.paletteHandle.fixLayout();\r\n        }\r\n\r\n        // spriteBar\r\n        this.spriteBar.setLeft(this.paletteWidth + padding);\r\n        this.spriteBar.setTop(this.logo.bottom() + padding);\r\n        this.spriteBar.setExtent(new Point(\r\n            Math.max(0, this.stage.left() - padding - this.spriteBar.left()),\r\n            this.categories.bottom() - this.spriteBar.top() - padding\r\n        ));\r\n        this.spriteBar.fixLayout();\r\n\r\n        // spriteEditor\r\n        if (this.spriteEditor.isVisible) {\r\n            this.spriteEditor.setPosition(this.spriteBar.bottomLeft());\r\n            this.spriteEditor.setExtent(new Point(\r\n                this.spriteBar.width(),\r\n                this.bottom() - this.spriteEditor.top()\r\n            ));\r\n        }\r\n\r\n        // corralBar\r\n        this.corralBar.setLeft(this.stage.left());\r\n        this.corralBar.setTop(this.stage.bottom() + padding);\r\n        this.corralBar.setWidth(this.stage.width());\r\n\r\n        // corral\r\n        if (!contains(['selectSprite', 'tabEditor'], situation)) {\r\n            this.corral.setPosition(this.corralBar.bottomLeft());\r\n            this.corral.setWidth(this.stage.width());\r\n            this.corral.setHeight(this.bottom() - this.corral.top());\r\n            this.corral.fixLayout();\r\n        }\r\n    }\r\n\r\n    Morph.prototype.trackChanges = true;\r\n    this.changed();\r\n};\r\n\r\nIDE_Morph.prototype.setProjectName = function (string) {\r\n    this.projectName = string.replace(/['\"]/g, ''); // filter quotation marks\r\n    this.hasChangedMedia = true;\r\n    this.controlBar.updateLabel();\r\n};\r\n\r\n// IDE_Morph resizing\r\n\r\nIDE_Morph.prototype.setExtent = function (point) {\r\n    var padding = new Point(430, 110),\r\n        minExt,\r\n        ext,\r\n        maxWidth,\r\n        minWidth,\r\n        maxHeight,\r\n        minRatio,\r\n        maxRatio;\r\n\r\n    // determine the minimum dimensions making sense for the current mode\r\n    if (this.isAppMode) {\r\n        minExt = StageMorph.prototype.dimensions.add(\r\n            this.controlBar.height() + 10\r\n        );\r\n    } else {\r\n        if (this.stageRatio > 1) {\r\n            minExt = padding.add(StageMorph.prototype.dimensions);\r\n        } else {\r\n            minExt = padding.add(\r\n                StageMorph.prototype.dimensions.multiplyBy(this.stageRatio)\r\n            );\r\n        }\r\n    }\r\n    ext = point.max(minExt);\r\n\r\n    // adjust stage ratio if necessary\r\n    maxWidth = ext.x -\r\n        (200 + this.spriteBar.tabBar.width() + (this.padding * 2));\r\n    minWidth = SpriteIconMorph.prototype.thumbSize.x * 3;\r\n    maxHeight = (ext.y - SpriteIconMorph.prototype.thumbSize.y * 3.5);\r\n    minRatio = minWidth / this.stage.dimensions.x;\r\n    maxRatio = Math.min(\r\n        (maxWidth / this.stage.dimensions.x),\r\n        (maxHeight / this.stage.dimensions.y)\r\n    );\r\n    this.stageRatio = Math.min(maxRatio, Math.max(minRatio, this.stageRatio));\r\n\r\n    // apply\r\n    IDE_Morph.uber.setExtent.call(this, ext);\r\n    this.fixLayout();\r\n};\r\n\r\n// IDE_Morph events\r\n\r\nIDE_Morph.prototype.reactToWorldResize = function (rect) {\r\n    if (this.isAutoFill) {\r\n        this.setPosition(rect.origin);\r\n        this.setExtent(rect.extent());\r\n    }\r\n    if (this.filePicker) {\r\n        document.body.removeChild(this.filePicker);\r\n        this.filePicker = null;\r\n    }\r\n};\r\n\r\nIDE_Morph.prototype.droppedImage = function (aCanvas, name) {\r\n    var costume = new Costume(\r\n        aCanvas,\r\n        this.currentSprite.newCostumeName(\r\n            name ? name.split('.')[0] : '' // up to period\r\n        )\r\n    );\r\n\r\n    if (costume.isTainted()) {\r\n        this.inform(\r\n            'Unable to import this image',\r\n            'The picture you wish to import has been\\n' +\r\n                'tainted by a restrictive cross-origin policy\\n' +\r\n                'making it unusable for costumes in Snap!. \\n\\n' +\r\n                'Try downloading this picture first to your\\n' +\r\n                'computer, and import it from there.'\r\n        );\r\n        return;\r\n    }\r\n\r\n    this.currentSprite.addCostume(costume);\r\n    this.currentSprite.wearCostume(costume);\r\n    this.spriteBar.tabBar.tabTo('costumes');\r\n    this.hasChangedMedia = true;\r\n};\r\n\r\nIDE_Morph.prototype.droppedSVG = function (anImage, name) {\r\n    var costume = new SVG_Costume(anImage, name.split('.')[0]);\r\n    this.currentSprite.addCostume(costume);\r\n    this.currentSprite.wearCostume(costume);\r\n    this.spriteBar.tabBar.tabTo('costumes');\r\n    this.hasChangedMedia = true;\r\n};\r\n\r\nIDE_Morph.prototype.droppedAudio = function (anAudio, name) {\r\n    this.currentSprite.addSound(anAudio, name.split('.')[0]); // up to period\r\n    this.spriteBar.tabBar.tabTo('sounds');\r\n    this.hasChangedMedia = true;\r\n};\r\n\r\nIDE_Morph.prototype.droppedText = function (aString, name) {\r\n    var lbl = name ? name.split('.')[0] : '';\r\n    if (aString.indexOf('<project') === 0) {\r\n        //console.log(aString);\r\n        location.hash = '';\r\n        return this.openProjectString(aString);\r\n    }\r\n    if (aString.indexOf('<snapdata') === 0) {\r\n        location.hash = '';\r\n        return this.openCloudDataString(aString);\r\n    }\r\n    if (aString.indexOf('<blocks') === 0) {\r\n        return this.openBlocksString(aString, lbl, true);\r\n    }\r\n    if (aString.indexOf('<sprites') === 0) {\r\n        return this.openSpritesString(aString);\r\n    }\r\n    if (aString.indexOf('<media') === 0) {\r\n        return this.openMediaString(aString);\r\n    }\r\n    if (aString.indexOf('<script') === 0) {\r\n        return this.openScriptString(aString);\r\n    }\r\n};\r\n\r\nIDE_Morph.prototype.droppedBinary = function (anArrayBuffer, name) {\r\n    // dynamically load ypr->Snap!\r\n    var ypr = document.getElementById('ypr'),\r\n        myself = this,\r\n        suffix = name.substring(name.length - 3);\r\n\r\n    if (suffix.toLowerCase() !== 'ypr') {return; }\r\n\r\n    function loadYPR(buffer, lbl) {\r\n        var reader = new sb.Reader(),\r\n            pname = lbl.split('.')[0]; // up to period\r\n        reader.onload = function (info) {\r\n            myself.droppedText(new sb.XMLWriter().write(pname, info));\r\n        };\r\n        reader.readYPR(new Uint8Array(buffer));\r\n    }\r\n\r\n    if (!ypr) {\r\n        ypr = document.createElement('script');\r\n        ypr.id = 'ypr';\r\n        ypr.onload = function () {loadYPR(anArrayBuffer, name); };\r\n        document.head.appendChild(ypr);\r\n        ypr.src = 'ypr.js';\r\n    } else {\r\n        loadYPR(anArrayBuffer, name);\r\n    }\r\n};\r\n\r\n// IDE_Morph button actions\r\n\r\nIDE_Morph.prototype.refreshPalette = function (shouldIgnorePosition) {\r\n    var oldTop = this.palette.contents.top();\r\n\r\n    this.createPalette();\r\n    this.fixLayout('refreshPalette');\r\n    if (!shouldIgnorePosition) {\r\n        this.palette.contents.setTop(oldTop);\r\n    }\r\n};\r\n\r\nIDE_Morph.prototype.pressStart = function () {\r\n    if (this.world().currentKey === 16) { // shiftClicked\r\n        this.toggleFastTracking();\r\n    } else {\r\n        this.stage.threads.pauseCustomHatBlocks = false;\r\n        this.controlBar.stopButton.refresh();\r\n        this.runScripts();\r\n    }\r\n};\r\n\r\nIDE_Morph.prototype.toggleFastTracking = function () {\r\n    if (this.stage.isFastTracked) {\r\n        this.stopFastTracking();\r\n    } else {\r\n        this.startFastTracking();\r\n    }\r\n};\r\n\r\nIDE_Morph.prototype.toggleVariableFrameRate = function () {\r\n    if (StageMorph.prototype.frameRate) {\r\n        StageMorph.prototype.frameRate = 0;\r\n        this.stage.fps = 0;\r\n    } else {\r\n        StageMorph.prototype.frameRate = 30;\r\n        this.stage.fps = 30;\r\n    }\r\n};\r\n\r\nIDE_Morph.prototype.toggleSingleStepping = function () {\r\n    this.stage.threads.toggleSingleStepping();\r\n    this.controlBar.steppingButton.refresh();\r\n    this.controlBar.refreshSlider();\r\n};\r\n\r\nIDE_Morph.prototype.toggleCameraSupport = function () {\r\n    CamSnapshotDialogMorph.prototype.enableCamera =\r\n        !CamSnapshotDialogMorph.prototype.enableCamera;\r\n    this.spriteBar.tabBar.tabTo(this.currentTab);\r\n    this.createCorralBar();\r\n    this.fixLayout();\r\n};\r\n\r\nIDE_Morph.prototype.startFastTracking = function () {\r\n    this.stage.isFastTracked = true;\r\n    this.stage.fps = 0;\r\n    this.controlBar.startButton.labelString = new SymbolMorph('flash', 14);\r\n    this.controlBar.startButton.drawNew();\r\n    this.controlBar.startButton.fixLayout();\r\n};\r\n\r\nIDE_Morph.prototype.stopFastTracking = function () {\r\n    this.stage.isFastTracked = false;\r\n    this.stage.fps = this.stage.frameRate;\r\n    this.controlBar.startButton.labelString = new SymbolMorph('flag', 14);\r\n    this.controlBar.startButton.drawNew();\r\n    this.controlBar.startButton.fixLayout();\r\n};\r\n\r\nIDE_Morph.prototype.runScripts = function () {\r\n    this.stage.fireGreenFlagEvent();\r\n};\r\n\r\nIDE_Morph.prototype.togglePauseResume = function () {\r\n    if (this.stage.threads.isPaused()) {\r\n        this.stage.threads.resumeAll(this.stage);\r\n    } else {\r\n        this.stage.threads.pauseAll(this.stage);\r\n    }\r\n    this.controlBar.pauseButton.refresh();\r\n};\r\n\r\nIDE_Morph.prototype.isPaused = function () {\r\n    if (!this.stage) {return false; }\r\n    return this.stage.threads.isPaused();\r\n};\r\n\r\nIDE_Morph.prototype.stopAllScripts = function () {\r\n    if (this.stage.enableCustomHatBlocks) {\r\n        this.stage.threads.pauseCustomHatBlocks =\r\n            !this.stage.threads.pauseCustomHatBlocks;\r\n    } else {\r\n        this.stage.threads.pauseCustomHatBlocks = false;\r\n    }\r\n    this.controlBar.stopButton.refresh();\r\n    this.stage.fireStopAllEvent();\r\n};\r\n\r\nIDE_Morph.prototype.selectSprite = function (sprite) {\r\n    if (this.currentSprite && this.currentSprite.scripts.focus) {\r\n        this.currentSprite.scripts.focus.stopEditing();\r\n    }\r\n    this.currentSprite = sprite;\r\n    this.createPalette();\r\n    this.createSpriteBar();\r\n    this.createSpriteEditor();\r\n    this.corral.refresh();\r\n    this.fixLayout('selectSprite');\r\n    this.currentSprite.scripts.fixMultiArgs();\r\n};\r\n\r\n// IDE_Morph retina display support\r\n\r\nIDE_Morph.prototype.toggleRetina = function () {\r\n    if (isRetinaEnabled()) {\r\n        disableRetinaSupport();\r\n    } else {\r\n        enableRetinaSupport();\r\n    }\r\n    this.world().fillPage();\r\n    IDE_Morph.prototype.scriptsPaneTexture = this.scriptsTexture();\r\n    this.stage.clearPenTrails();\r\n    this.drawNew();\r\n    this.refreshIDE();\r\n};\r\n\r\n// IDE_Morph skins\r\n\r\nIDE_Morph.prototype.defaultDesign = function () {\r\n    this.setDefaultDesign();\r\n    this.refreshIDE();\r\n    this.removeSetting('design');\r\n};\r\n\r\nIDE_Morph.prototype.flatDesign = function () {\r\n    this.setFlatDesign();\r\n    this.refreshIDE();\r\n    this.saveSetting('design', 'flat');\r\n};\r\n\r\nIDE_Morph.prototype.refreshIDE = function () {\r\n    var projectData ;\r\n\r\n    if (Process.prototype.isCatchingErrors) {\r\n        try {\r\n            projectData = this.serializer.serialize(this.stage);\r\n        } catch (err) {\r\n            this.showMessage('Serialization failed: ' + err);\r\n        }\r\n    } else {\r\n        projectData = this.serializer.serialize(this.stage);\r\n    }\r\n    SpriteMorph.prototype.initBlocks();\r\n    this.buildPanes();\r\n    this.fixLayout();\r\n    if (this.loadNewProject) {\r\n        this.newProject();\r\n    } else {\r\n        this.openProjectString(projectData);\r\n    }\r\n};\r\n\r\n// IDE_Morph settings persistance\r\n\r\nIDE_Morph.prototype.applySavedSettings = function () {\r\n    var design = this.getSetting('design'),\r\n        zoom = this.getSetting('zoom'),\r\n        /*language = this.getSetting('language'),*/\r\n        language = 'fr',\r\n        click = this.getSetting('click'),\r\n        longform = this.getSetting('longform'),\r\n        longurls = this.getSetting('longurls'),\r\n        plainprototype = this.getSetting('plainprototype'),\r\n        keyboard = this.getSetting('keyboard'),\r\n        tables = this.getSetting('tables'),\r\n        tableLines = this.getSetting('tableLines'),\r\n        autoWrapping = this.getSetting('autowrapping');\r\n\r\n    // design\r\n    if (design === 'flat') {\r\n        this.setFlatDesign();\r\n    } else {\r\n        this.setDefaultDesign();\r\n    }\r\n\r\n    // blocks zoom\r\n    if (zoom) {\r\n        SyntaxElementMorph.prototype.setScale(Math.min(zoom, 12));\r\n        CommentMorph.prototype.refreshScale();\r\n        SpriteMorph.prototype.initBlocks();\r\n    }\r\n\r\n    // language\r\n    if (language && language !== 'en') {\r\n        this.userLanguage = language;\r\n    } else {\r\n        this.userLanguage = null;\r\n    }\r\n\r\n    //  click\r\n    if (click && !BlockMorph.prototype.snapSound) {\r\n        BlockMorph.prototype.toggleSnapSound();\r\n    }\r\n\r\n    // long form\r\n    if (longform) {\r\n        InputSlotDialogMorph.prototype.isLaunchingExpanded = true;\r\n    }\r\n\r\n    // project data in URLs\r\n    if (longurls) {\r\n        this.projectsInURLs = true;\r\n    } else {\r\n        this.projectsInURLs = false;\r\n    }\r\n\r\n    // keyboard editing\r\n    if (keyboard === 'false') {\r\n        ScriptsMorph.prototype.enableKeyboard = false;\r\n    } else {\r\n        ScriptsMorph.prototype.enableKeyboard = true;\r\n    }\r\n\r\n    // tables\r\n    if (tables === 'false') {\r\n        List.prototype.enableTables = false;\r\n    } else {\r\n        List.prototype.enableTables = true;\r\n    }\r\n\r\n    // tableLines\r\n    if (tableLines) {\r\n        TableMorph.prototype.highContrast = true;\r\n    } else {\r\n        TableMorph.prototype.highContrast = false;\r\n    }\r\n\r\n    // nested auto-wrapping\r\n    if (autoWrapping === 'false') {\r\n        ScriptsMorph.prototype.enableNestedAutoWrapping = false;\r\n    } else {\r\n        ScriptsMorph.prototype.enableNestedAutoWrapping = true;\r\n    }\r\n\r\n    // plain prototype labels\r\n    if (plainprototype) {\r\n        BlockLabelPlaceHolderMorph.prototype.plainLabel = true;\r\n    }\r\n};\r\n\r\nIDE_Morph.prototype.saveSetting = function (key, value) {\r\n    if (!this.savingPreferences) {\r\n        return;\r\n    }\r\n    if (this.hasLocalStorage()) {\r\n        localStorage['-snap-setting-' + key] = value;\r\n    }\r\n};\r\n\r\nIDE_Morph.prototype.getSetting = function (key) {\r\n    if (this.hasLocalStorage()) {\r\n        return localStorage['-snap-setting-' + key];\r\n    }\r\n    return null;\r\n};\r\n\r\nIDE_Morph.prototype.removeSetting = function (key) {\r\n    if (this.hasLocalStorage()) {\r\n        delete localStorage['-snap-setting-' + key];\r\n    }\r\n};\r\n\r\nIDE_Morph.prototype.hasLocalStorage = function () {\r\n\t// checks whether localStorage is available,\r\n    // this kludgy try/catch mechanism is needed\r\n    // because Safari 11 is paranoid about accessing\r\n    // localstorage from the file:// protocol\r\n\ttry {\r\n\t\treturn !isNil(localStorage);\r\n\t} catch (err) {\r\n    \treturn false;\r\n\t}\r\n};\r\n\r\n// IDE_Morph sprite list access\r\n\r\nIDE_Morph.prototype.addNewSprite = function () {\r\n    var sprite = new SpriteMorph(this.globalVariables),\r\n        rnd = Process.prototype.reportRandom;\r\n    sprite.name = this.newSpriteName(sprite.name);\r\n    sprite.setCenter(this.stage.center());\r\n    this.stage.add(sprite);\r\n\r\n    // randomize sprite properties\r\n    sprite.setHue(rnd.call(this, 0, 100));\r\n    sprite.setBrightness(rnd.call(this, 50, 100));\r\n    sprite.turn(rnd.call(this, 1, 360));\r\n    sprite.setXPosition(rnd.call(this, -220, 220));\r\n    sprite.setYPosition(rnd.call(this, -160, 160));\r\n\r\n    this.sprites.add(sprite);\r\n    this.corral.addSprite(sprite);\r\n    this.selectSprite(sprite);\r\n};\r\n\r\nIDE_Morph.prototype.paintNewSprite = function () {\r\n    var sprite = new SpriteMorph(this.globalVariables),\r\n        cos = new Costume(),\r\n        myself = this;\r\n\r\n    sprite.name = this.newSpriteName(sprite.name);\r\n    sprite.setCenter(this.stage.center());\r\n    this.stage.add(sprite);\r\n    this.sprites.add(sprite);\r\n    this.corral.addSprite(sprite);\r\n    this.selectSprite(sprite);\r\n    cos.edit(\r\n        this.world(),\r\n        this,\r\n        true,\r\n        function () {myself.removeSprite(sprite); },\r\n        function () {\r\n            sprite.addCostume(cos);\r\n            sprite.wearCostume(cos);\r\n        }\r\n    );\r\n};\r\n\r\nIDE_Morph.prototype.newCamSprite = function () {\r\n    var sprite = new SpriteMorph(this.globalVariables),\r\n        camDialog,\r\n        myself = this;\r\n\r\n    sprite.name = this.newSpriteName(sprite.name);\r\n    sprite.setCenter(this.stage.center());\r\n    this.stage.add(sprite);\r\n    this.sprites.add(sprite);\r\n    this.corral.addSprite(sprite);\r\n    this.selectSprite(sprite);\r\n\r\n    camDialog = new CamSnapshotDialogMorph(\r\n        this,\r\n        sprite,\r\n        function () { myself.removeSprite(sprite); },\r\n        function (costume) {\r\n            sprite.addCostume(costume);\r\n            sprite.wearCostume(costume);\r\n            this.close();\r\n        });\r\n\r\n    camDialog.popUp(this.world());\r\n};\r\n\r\nIDE_Morph.prototype.duplicateSprite = function (sprite) {\r\n    var duplicate = sprite.fullCopy();\r\n    duplicate.setPosition(this.world().hand.position());\r\n    duplicate.appearIn(this);\r\n    duplicate.keepWithin(this.stage);\r\n    this.selectSprite(duplicate);\r\n};\r\n\r\nIDE_Morph.prototype.instantiateSprite = function (sprite) {\r\n    var instance = sprite.fullCopy(true),\r\n        hats = instance.allHatBlocksFor('__clone__init__');\r\n    instance.appearIn(this);\r\n    if (hats.length) {\r\n        instance.initClone(hats);\r\n    } else {\r\n        instance.setPosition(this.world().hand.position());\r\n        instance.keepWithin(this.stage);\r\n    }\r\n    this.selectSprite(instance);\r\n};\r\n\r\nIDE_Morph.prototype.removeSprite = function (sprite) {\r\n    var idx, myself = this;\r\n    sprite.parts.forEach(function (part) {myself.removeSprite(part); });\r\n    idx = this.sprites.asArray().indexOf(sprite) + 1;\r\n    this.stage.threads.stopAllForReceiver(sprite);\r\n    sprite.corpsify();\r\n    sprite.destroy();\r\n    this.stage.watchers().forEach(function (watcher) {\r\n        if (watcher.object() === sprite) {\r\n            watcher.destroy();\r\n        }\r\n    });\r\n    if (idx > 0) {\r\n        this.sprites.remove(idx);\r\n    }\r\n    this.createCorral();\r\n    this.fixLayout();\r\n    this.currentSprite = detect(\r\n        this.stage.children,\r\n        function (morph) {\r\n            return morph instanceof SpriteMorph && !morph.isTemporary;\r\n        }\r\n    ) || this.stage;\r\n\r\n    this.selectSprite(this.currentSprite);\r\n};\r\n\r\nIDE_Morph.prototype.newSpriteName = function (name, ignoredSprite) {\r\n    var ix = name.indexOf('('),\r\n        stem = (ix < 0) ? name : name.substring(0, ix),\r\n        count = 1,\r\n        newName = stem,\r\n        all = this.sprites.asArray().concat(this.stage).filter(\r\n            function (each) {return each !== ignoredSprite; }\r\n        ).map(\r\n            function (each) {return each.name; }\r\n        );\r\n    while (contains(all, newName)) {\r\n        count += 1;\r\n        newName = stem + '(' + count + ')';\r\n    }\r\n    return newName;\r\n};\r\n\r\n// IDE_Morph deleting scripts\r\n\r\nIDE_Morph.prototype.removeBlock = function (aBlock, justThis) {\r\n    this.stage.threads.stopAllForBlock(aBlock);\r\n    aBlock.destroy(justThis);\r\n};\r\n\r\n// IDE_Morph menus\r\n\r\nIDE_Morph.prototype.userMenu = function () {\r\n    var menu = new MenuMorph(this);\r\n    // menu.addItem('help', 'nop');\r\n    return menu;\r\n};\r\n\r\nIDE_Morph.prototype.snapMenu = function () {\r\n    var menu,\r\n        myself = this,\r\n        world = this.world();\r\n\r\n    menu = new MenuMorph(this);\r\n    menu.addItem('About...', 'aboutSnap');\r\n    menu.addLine();\r\n    menu.addItem(\r\n        'Reference manual',\r\n        function () {\r\n            var url = myself.resourceURL('help', 'SnapManual.pdf');\r\n            window.open(url, 'SnapReferenceManual');\r\n        }\r\n    );\r\n    menu.addItem(\r\n        'Snap! website',\r\n        function () {\r\n            window.open('http://snap.berkeley.edu/', 'SnapWebsite');\r\n        }\r\n    );\r\n    menu.addItem(\r\n        'Download source',\r\n        function () {\r\n            window.open(\r\n                'http://snap.berkeley.edu/snapsource/snap.zip',\r\n                'SnapSource'\r\n            );\r\n        }\r\n    );\r\n    if (world.isDevMode) {\r\n        menu.addLine();\r\n        menu.addItem(\r\n            'Switch back to user mode',\r\n            'switchToUserMode',\r\n            'disable deep-Morphic\\ncontext menus'\r\n                + '\\nand show user-friendly ones',\r\n            new Color(0, 100, 0)\r\n        );\r\n    } else if (world.currentKey === 16) { // shift-click\r\n        menu.addLine();\r\n        menu.addItem(\r\n            'Switch to dev mode',\r\n            'switchToDevMode',\r\n            'enable Morphic\\ncontext menus\\nand inspectors,'\r\n                + '\\nnot user-friendly!',\r\n            new Color(100, 0, 0)\r\n        );\r\n    }\r\n    menu.popup(world, this.logo.bottomLeft());\r\n};\r\n\r\nIDE_Morph.prototype.cloudMenu = function () {\r\n    var menu,\r\n        myself = this,\r\n        world = this.world(),\r\n        pos = this.controlBar.cloudButton.bottomLeft(),\r\n        shiftClicked = (world.currentKey === 16);\r\n\r\n    menu = new MenuMorph(this);\r\n    if (shiftClicked) {\r\n        menu.addItem(\r\n            'url...',\r\n            'setCloudURL',\r\n            null,\r\n            new Color(100, 0, 0)\r\n        );\r\n        menu.addLine();\r\n    }\r\n    if (!SnapCloud.username) {\r\n        menu.addItem(\r\n            'Login...',\r\n            'initializeCloud'\r\n        );\r\n        menu.addItem(\r\n            'Signup...',\r\n            'createCloudAccount'\r\n        );\r\n        menu.addItem(\r\n            'Reset Password...',\r\n            'resetCloudPassword'\r\n        );\r\n    } else {\r\n        menu.addItem(\r\n            localize('Logout') + ' ' + SnapCloud.username,\r\n            'logout'\r\n        );\r\n        menu.addItem(\r\n            'Change Password...',\r\n            'changeCloudPassword'\r\n        );\r\n    }\r\n    if (shiftClicked) {\r\n        menu.addLine();\r\n        menu.addItem(\r\n            'export project media only...',\r\n            function () {\r\n                if (myself.projectName) {\r\n                    myself.exportProjectMedia(myself.projectName);\r\n                } else {\r\n                    myself.prompt('Export Project As...', function (name) {\r\n                        myself.exportProjectMedia(name);\r\n                    }, null, 'exportProject');\r\n                }\r\n            },\r\n            null,\r\n            this.hasChangedMedia ? new Color(100, 0, 0) : new Color(0, 100, 0)\r\n        );\r\n        menu.addItem(\r\n            'export project without media...',\r\n            function () {\r\n                if (myself.projectName) {\r\n                    myself.exportProjectNoMedia(myself.projectName);\r\n                } else {\r\n                    myself.prompt('Export Project As...', function (name) {\r\n                        myself.exportProjectNoMedia(name);\r\n                    }, null, 'exportProject');\r\n                }\r\n            },\r\n            null,\r\n            new Color(100, 0, 0)\r\n        );\r\n        menu.addItem(\r\n            'export project as cloud data...',\r\n            function () {\r\n                if (myself.projectName) {\r\n                    myself.exportProjectAsCloudData(myself.projectName);\r\n                } else {\r\n                    myself.prompt('Export Project As...', function (name) {\r\n                        myself.exportProjectAsCloudData(name);\r\n                    }, null, 'exportProject');\r\n                }\r\n            },\r\n            null,\r\n            new Color(100, 0, 0)\r\n        );\r\n        menu.addLine();\r\n        menu.addItem(\r\n            'open shared project from cloud...',\r\n            function () {\r\n                myself.prompt('Author name…', function (usr) {\r\n                    myself.prompt('Project name...', function (prj) {\r\n                        var id = 'Username=' +\r\n                            encodeURIComponent(usr.toLowerCase()) +\r\n                            '&ProjectName=' +\r\n                            encodeURIComponent(prj);\r\n                        myself.showMessage(\r\n                            'Fetching project\\nfrom the cloud...'\r\n                        );\r\n                        SnapCloud.getPublicProject(\r\n                            id,\r\n                            function (projectData) {\r\n                                var msg;\r\n                                if (!Process.prototype.isCatchingErrors) {\r\n                                    window.open(\r\n                                        'data:text/xml,' + projectData\r\n                                    );\r\n                                }\r\n                                myself.nextSteps([\r\n                                    function () {\r\n                                        msg = myself.showMessage(\r\n                                            'Opening project...'\r\n                                        );\r\n                                    },\r\n                                    function () {nop(); }, // yield (Chrome)\r\n                                    function () {\r\n                                        myself.rawOpenCloudDataString(\r\n                                            projectData\r\n                                        );\r\n                                    },\r\n                                    function () {\r\n                                        msg.destroy();\r\n                                    }\r\n                                ]);\r\n                            },\r\n                            myself.cloudError()\r\n                        );\r\n\r\n                    }, null, 'project');\r\n                }, null, 'project');\r\n            },\r\n            null,\r\n            new Color(100, 0, 0)\r\n        );\r\n    }\r\n    menu.popup(world, pos);\r\n};\r\n\r\nIDE_Morph.prototype.settingsMenu = function () {\r\n    var menu,\r\n        stage = this.stage,\r\n        world = this.world(),\r\n        myself = this,\r\n        pos = this.controlBar.settingsButton.bottomLeft(),\r\n        shiftClicked = (world.currentKey === 16);\r\n\r\n    function addPreference(label, toggle, test, onHint, offHint, hide) {\r\n        var on = '\\u2611 ',\r\n            off = '\\u2610 ';\r\n        if (!hide || shiftClicked) {\r\n            menu.addItem(\r\n                (test ? on : off) + localize(label),\r\n                toggle,\r\n                test ? onHint : offHint,\r\n                hide ? new Color(100, 0, 0) : null\r\n            );\r\n        }\r\n    }\r\n\r\n    menu = new MenuMorph(this);\r\n    menu.addItem('Language...', 'languageMenu');\r\n    menu.addItem(\r\n        'Zoom blocks...',\r\n        'userSetBlocksScale'\r\n    );\r\n    menu.addItem(\r\n        'Stage size...',\r\n        'userSetStageSize'\r\n    );\r\n    if (shiftClicked) {\r\n        menu.addItem(\r\n            'Dragging threshold...',\r\n            'userSetDragThreshold',\r\n            'specify the distance the hand has to move\\n' +\r\n                'before it picks up an object',\r\n            new Color(100, 0, 0)\r\n        );\r\n    }\r\n    menu.addLine();\r\n    /*\r\n    addPreference(\r\n        'JavaScript',\r\n        function () {\r\n            Process.prototype.enableJS = !Process.prototype.enableJS;\r\n            myself.currentSprite.blocksCache.operators = null;\r\n            myself.currentSprite.paletteCache.operators = null;\r\n            myself.refreshPalette();\r\n        },\r\n        Process.prototype.enableJS,\r\n        'uncheck to disable support for\\nnative JavaScript functions',\r\n        'check to support\\nnative JavaScript functions'\r\n    );\r\n    */\r\n    if (isRetinaSupported()) {\r\n        addPreference(\r\n            'Retina display support',\r\n            'toggleRetina',\r\n            isRetinaEnabled(),\r\n            'uncheck for lower resolution,\\nsaves computing resources',\r\n            'check for higher resolution,\\nuses more computing resources'\r\n        );\r\n    }\r\n    addPreference(\r\n        'Input sliders',\r\n        'toggleInputSliders',\r\n        MorphicPreferences.useSliderForInput,\r\n        'uncheck to disable\\ninput sliders for\\nentry fields',\r\n        'check to enable\\ninput sliders for\\nentry fields'\r\n    );\r\n    if (MorphicPreferences.useSliderForInput) {\r\n        addPreference(\r\n            'Execute on slider change',\r\n            'toggleSliderExecute',\r\n            ArgMorph.prototype.executeOnSliderEdit,\r\n            'uncheck to suppress\\nrunning scripts\\nwhen moving the slider',\r\n            'check to run\\nthe edited script\\nwhen moving the slider'\r\n        );\r\n    }\r\n    addPreference(\r\n        'Turbo mode',\r\n        'toggleFastTracking',\r\n        this.stage.isFastTracked,\r\n        'uncheck to run scripts\\nat normal speed',\r\n        'check to prioritize\\nscript execution'\r\n    );\r\n    addPreference(\r\n        'Visible stepping',\r\n        'toggleSingleStepping',\r\n        Process.prototype.enableSingleStepping,\r\n        'uncheck to turn off\\nvisible stepping',\r\n        'check to turn on\\n visible stepping (slow)',\r\n        false\r\n    );\r\n    addPreference(\r\n        'Ternary Boolean slots',\r\n        function () {\r\n        \tBooleanSlotMorph.prototype.isTernary =\r\n        \t\t!BooleanSlotMorph.prototype.isTernary;\r\n      \t},\r\n        BooleanSlotMorph.prototype.isTernary,\r\n        'uncheck to limit\\nBoolean slots to true / false',\r\n        'check to allow\\nempty Boolean slots',\r\n        true\r\n    );\r\n    addPreference(\r\n        'Camera support',\r\n        'toggleCameraSupport',\r\n        CamSnapshotDialogMorph.prototype.enableCamera,\r\n        'uncheck to disable\\ncamera support',\r\n        'check to enable\\ncamera support',\r\n        true\r\n    );\r\n    menu.addLine(); // everything visible below is persistent\r\n    addPreference(\r\n        'Blurred shadows',\r\n        'toggleBlurredShadows',\r\n        useBlurredShadows,\r\n        'uncheck to use solid drop\\nshadows and highlights',\r\n        'check to use blurred drop\\nshadows and highlights',\r\n        true\r\n    );\r\n    addPreference(\r\n        'Zebra coloring',\r\n        'toggleZebraColoring',\r\n        BlockMorph.prototype.zebraContrast,\r\n        'uncheck to disable alternating\\ncolors for nested block',\r\n        'check to enable alternating\\ncolors for nested blocks',\r\n        true\r\n    );\r\n    addPreference(\r\n        'Dynamic input labels',\r\n        'toggleDynamicInputLabels',\r\n        SyntaxElementMorph.prototype.dynamicInputLabels,\r\n        'uncheck to disable dynamic\\nlabels for variadic inputs',\r\n        'check to enable dynamic\\nlabels for variadic inputs',\r\n        true\r\n    );\r\n    addPreference(\r\n        'Prefer empty slot drops',\r\n        'togglePreferEmptySlotDrops',\r\n        ScriptsMorph.prototype.isPreferringEmptySlots,\r\n        'uncheck to allow dropped\\nreporters to kick out others',\r\n        'settings menu prefer empty slots hint',\r\n        true\r\n    );\r\n    addPreference(\r\n        'Long form input dialog',\r\n        'toggleLongFormInputDialog',\r\n        InputSlotDialogMorph.prototype.isLaunchingExpanded,\r\n        'uncheck to use the input\\ndialog in short form',\r\n        'check to always show slot\\ntypes in the input dialog'\r\n    );\r\n    addPreference(\r\n        'Plain prototype labels',\r\n        'togglePlainPrototypeLabels',\r\n        BlockLabelPlaceHolderMorph.prototype.plainLabel,\r\n        'uncheck to always show (+) symbols\\nin block prototype labels',\r\n        'check to hide (+) symbols\\nin block prototype labels'\r\n    );\r\n    addPreference(\r\n        'Virtual keyboard',\r\n        'toggleVirtualKeyboard',\r\n        MorphicPreferences.useVirtualKeyboard,\r\n        'uncheck to disable\\nvirtual keyboard support\\nfor mobile devices',\r\n        'check to enable\\nvirtual keyboard support\\nfor mobile devices',\r\n        true\r\n    );\r\n    addPreference(\r\n        'Clicking sound',\r\n        function () {\r\n            BlockMorph.prototype.toggleSnapSound();\r\n            if (BlockMorph.prototype.snapSound) {\r\n                myself.saveSetting('click', true);\r\n            } else {\r\n                myself.removeSetting('click');\r\n            }\r\n        },\r\n        BlockMorph.prototype.snapSound,\r\n        'uncheck to turn\\nblock clicking\\nsound off',\r\n        'check to turn\\nblock clicking\\nsound on'\r\n    );\r\n    addPreference(\r\n        'Animations',\r\n        function () {myself.isAnimating = !myself.isAnimating; },\r\n        myself.isAnimating,\r\n        'uncheck to disable\\nIDE animations',\r\n        'check to enable\\nIDE animations',\r\n        true\r\n    );\r\n    addPreference(\r\n        'Cache Inputs',\r\n        function () {\r\n            BlockMorph.prototype.isCachingInputs =\r\n                !BlockMorph.prototype.isCachingInputs;\r\n        },\r\n        BlockMorph.prototype.isCachingInputs,\r\n        'uncheck to stop caching\\ninputs (for debugging the evaluator)',\r\n        'check to cache inputs\\nboosts recursion',\r\n        true\r\n    );\r\n    addPreference(\r\n        'Rasterize SVGs',\r\n        function () {\r\n            MorphicPreferences.rasterizeSVGs =\r\n                !MorphicPreferences.rasterizeSVGs;\r\n        },\r\n        MorphicPreferences.rasterizeSVGs,\r\n        'uncheck for smooth\\nscaling of vector costumes',\r\n        'check to rasterize\\nSVGs on import',\r\n        true\r\n    );\r\n    addPreference(\r\n        'Flat design',\r\n        function () {\r\n            if (MorphicPreferences.isFlat) {\r\n                return myself.defaultDesign();\r\n            }\r\n            myself.flatDesign();\r\n        },\r\n        MorphicPreferences.isFlat,\r\n        'uncheck for default\\nGUI design',\r\n        'check for alternative\\nGUI design',\r\n        false\r\n    );\r\n    addPreference(\r\n        'Nested auto-wrapping',\r\n        function () {\r\n            ScriptsMorph.prototype.enableNestedAutoWrapping =\r\n                !ScriptsMorph.prototype.enableNestedAutoWrapping;\r\n            if (ScriptsMorph.prototype.enableNestedAutoWrapping) {\r\n                myself.removeSetting('autowrapping');\r\n            } else {\r\n                myself.saveSetting('autowrapping', false);\r\n            }\r\n        },\r\n        ScriptsMorph.prototype.enableNestedAutoWrapping,\r\n        'uncheck to confine auto-wrapping\\nto top-level block stacks',\r\n        'check to enable auto-wrapping\\ninside nested block stacks',\r\n        true\r\n    );\r\n    addPreference(\r\n        'Project URLs',\r\n        function () {\r\n            myself.projectsInURLs = !myself.projectsInURLs;\r\n            if (myself.projectsInURLs) {\r\n                myself.saveSetting('longurls', true);\r\n            } else {\r\n                myself.removeSetting('longurls');\r\n            }\r\n        },\r\n        myself.projectsInURLs,\r\n        'uncheck to disable\\nproject data in URLs',\r\n        'check to enable\\nproject data in URLs',\r\n        true\r\n    );\r\n    addPreference(\r\n        'Sprite Nesting',\r\n        function () {\r\n            SpriteMorph.prototype.enableNesting =\r\n                !SpriteMorph.prototype.enableNesting;\r\n        },\r\n        SpriteMorph.prototype.enableNesting,\r\n        'uncheck to disable\\nsprite composition',\r\n        'check to enable\\nsprite composition',\r\n        true\r\n    );\r\n    addPreference(\r\n        'First-Class Sprites',\r\n        function () {\r\n            SpriteMorph.prototype.enableFirstClass =\r\n                !SpriteMorph.prototype.enableFirstClass;\r\n            myself.currentSprite.blocksCache.sensing = null;\r\n            myself.currentSprite.paletteCache.sensing = null;\r\n            myself.refreshPalette();\r\n        },\r\n        SpriteMorph.prototype.enableFirstClass,\r\n        'uncheck to disable support\\nfor first-class sprites',\r\n        'check to enable support\\n for first-class sprite',\r\n        true\r\n    );\r\n    addPreference(\r\n        'Keyboard Editing',\r\n        function () {\r\n            ScriptsMorph.prototype.enableKeyboard =\r\n                !ScriptsMorph.prototype.enableKeyboard;\r\n            myself.currentSprite.scripts.updateToolbar();\r\n            if (ScriptsMorph.prototype.enableKeyboard) {\r\n                myself.removeSetting('keyboard');\r\n            } else {\r\n                myself.saveSetting('keyboard', false);\r\n            }\r\n        },\r\n        ScriptsMorph.prototype.enableKeyboard,\r\n        'uncheck to disable\\nkeyboard editing support',\r\n        'check to enable\\nkeyboard editing support',\r\n        true\r\n    );\r\n    addPreference(\r\n        'Table support',\r\n        function () {\r\n            List.prototype.enableTables =\r\n                !List.prototype.enableTables;\r\n            if (List.prototype.enableTables) {\r\n                myself.removeSetting('tables');\r\n            } else {\r\n                myself.saveSetting('tables', false);\r\n            }\r\n        },\r\n        List.prototype.enableTables,\r\n        'uncheck to disable\\nmulti-column list views',\r\n        'check for multi-column\\nlist view support',\r\n        true\r\n    );\r\n    if (List.prototype.enableTables) {\r\n        addPreference(\r\n            'Table lines',\r\n            function () {\r\n                TableMorph.prototype.highContrast =\r\n                    !TableMorph.prototype.highContrast;\r\n                if (TableMorph.prototype.highContrast) {\r\n                    myself.saveSetting('tableLines', true);\r\n                } else {\r\n                    myself.removeSetting('tableLines');\r\n                }\r\n            },\r\n            TableMorph.prototype.highContrast,\r\n            'uncheck for less contrast\\nmulti-column list views',\r\n            'check for higher contrast\\ntable views',\r\n            true\r\n        );\r\n    }\r\n    addPreference(\r\n        'Live coding support',\r\n        function () {\r\n            Process.prototype.enableLiveCoding =\r\n                !Process.prototype.enableLiveCoding;\r\n        },\r\n        Process.prototype.enableLiveCoding,\r\n        'EXPERIMENTAL! uncheck to disable live\\ncustom control structures',\r\n        'EXPERIMENTAL! check to enable\\n live custom control structures',\r\n        true\r\n    );\r\n    menu.addLine(); // everything below this line is stored in the project\r\n    addPreference(\r\n        'Thread safe scripts',\r\n        function () {stage.isThreadSafe = !stage.isThreadSafe; },\r\n        this.stage.isThreadSafe,\r\n        'uncheck to allow\\nscript reentrance',\r\n        'check to disallow\\nscript reentrance'\r\n    );\r\n    addPreference(\r\n        'Prefer smooth animations',\r\n        'toggleVariableFrameRate',\r\n        StageMorph.prototype.frameRate,\r\n        'uncheck for greater speed\\nat variable frame rates',\r\n        'check for smooth, predictable\\nanimations across computers',\r\n        true\r\n    );\r\n    addPreference(\r\n        'Flat line ends',\r\n        function () {\r\n            SpriteMorph.prototype.useFlatLineEnds =\r\n                !SpriteMorph.prototype.useFlatLineEnds;\r\n        },\r\n        SpriteMorph.prototype.useFlatLineEnds,\r\n        'uncheck for round ends of lines',\r\n        'check for flat ends of lines'\r\n    );\r\n    addPreference(\r\n        'Codification support',\r\n        function () {\r\n            StageMorph.prototype.enableCodeMapping =\r\n                !StageMorph.prototype.enableCodeMapping;\r\n            myself.currentSprite.blocksCache.variables = null;\r\n            myself.currentSprite.paletteCache.variables = null;\r\n            myself.refreshPalette();\r\n        },\r\n        StageMorph.prototype.enableCodeMapping,\r\n        'uncheck to disable\\nblock to text mapping features',\r\n        'check for block\\nto text mapping features',\r\n        false\r\n    );\r\n    addPreference(\r\n        'Inheritance support',\r\n        function () {\r\n            StageMorph.prototype.enableInheritance =\r\n                !StageMorph.prototype.enableInheritance;\r\n            myself.currentSprite.blocksCache.variables = null;\r\n            myself.currentSprite.paletteCache.variables = null;\r\n            myself.refreshPalette();\r\n        },\r\n        StageMorph.prototype.enableInheritance,\r\n        'uncheck to disable\\nsprite inheritance features',\r\n        'check for sprite\\ninheritance features',\r\n        false\r\n    );\r\n    addPreference(\r\n        'Persist linked sublist IDs',\r\n        function () {\r\n            StageMorph.prototype.enableSublistIDs =\r\n                !StageMorph.prototype.enableSublistIDs;\r\n        },\r\n        StageMorph.prototype.enableSublistIDs,\r\n        'uncheck to disable\\nsaving linked sublist identities',\r\n        'check to enable\\nsaving linked sublist identities',\r\n        true\r\n    );\r\n    menu.popup(world, pos);\r\n};\r\n\r\nIDE_Morph.prototype.projectMenu = function () {\r\n    var menu,\r\n        myself = this,\r\n        world = this.world(),\r\n        pos = this.controlBar.projectButton.bottomLeft(),\r\n        graphicsName = this.currentSprite instanceof SpriteMorph ?\r\n                'Costumes' : 'Backgrounds',\r\n        shiftClicked = (world.currentKey === 16);\r\n\r\n    menu = new MenuMorph(this);\r\n    menu.addItem('Project notes...', 'editProjectNotes');\r\n    menu.addLine();\r\n    menu.addPair('New', 'createNewProject', '^N');\r\n    menu.addPair('Open...', 'openProjectsBrowser', '^O');\r\n    menu.addPair('Save', \"save\", '^S');\r\n    menu.addItem('Save As...', 'saveProjectsBrowser');\r\n    menu.addLine();\r\n    menu.addItem(\r\n        'Import...',\r\n        function () {\r\n            var inp = document.createElement('input');\r\n            if (myself.filePicker) {\r\n                document.body.removeChild(myself.filePicker);\r\n                myself.filePicker = null;\r\n            }\r\n            inp.type = 'file';\r\n            inp.style.color = \"transparent\";\r\n            inp.style.backgroundColor = \"transparent\";\r\n            inp.style.border = \"none\";\r\n            inp.style.outline = \"none\";\r\n            inp.style.position = \"absolute\";\r\n            inp.style.top = \"0px\";\r\n            inp.style.left = \"0px\";\r\n            inp.style.width = \"0px\";\r\n            inp.style.height = \"0px\";\r\n            inp.style.display = \"none\";\r\n            inp.addEventListener(\r\n                \"change\",\r\n                function () {\r\n                    document.body.removeChild(inp);\r\n                    myself.filePicker = null;\r\n                    world.hand.processDrop(inp.files);\r\n                },\r\n                false\r\n            );\r\n            document.body.appendChild(inp);\r\n            myself.filePicker = inp;\r\n            inp.click();     \r\n        },\r\n        'file menu import hint' // looks up the actual text in the translator\r\n    );\r\n\r\n    if (shiftClicked) {\r\n        menu.addItem(\r\n            localize(\r\n                'Export project...') + ' ' + localize('(in a new window)'\r\n            ),\r\n            function () {\r\n                if (myself.projectName) {\r\n                    myself.exportProject(myself.projectName, shiftClicked);\r\n                } else {\r\n                    myself.prompt('Export Project As...', function (name) {\r\n                        // false - override the shiftClick setting to use XML\r\n                        myself.exportProject(name, false);\r\n                    }, null, 'exportProject');\r\n                }\r\n            },\r\n            'show project data as XML\\nin a new browser window',\r\n            new Color(100, 0, 0)\r\n        );\r\n    }\r\n    menu.addItem(\r\n        shiftClicked ?\r\n                'Export project as plain text...' : 'Export project...',\r\n        function () {\r\n            if (myself.projectName) {\r\n                myself.exportProject(myself.projectName, shiftClicked);\r\n            } else {\r\n                myself.prompt('Export Project As...', function (name) {\r\n                    myself.exportProject(name, shiftClicked);\r\n                }, null, 'exportProject');\r\n            }\r\n        },\r\n        'save project data as XML\\nto your downloads folder',\r\n        shiftClicked ? new Color(100, 0, 0) : null\r\n    );\r\n\r\n    if (this.stage.globalBlocks.length) {\r\n        menu.addItem(\r\n            'Export blocks...',\r\n            function () {myself.exportGlobalBlocks(); },\r\n            'show global custom block definitions as XML' +\r\n                '\\nin a new browser window'\r\n        );\r\n        menu.addItem(\r\n            'Unused blocks...',\r\n            function () {myself.removeUnusedBlocks(); },\r\n            'find unused global custom blocks' +\r\n                '\\nand remove their definitions'\r\n        );\r\n    }\r\n\r\n    menu.addItem(\r\n        'Export summary...',\r\n        function () {myself.exportProjectSummary(); },\r\n        'open a new browser browser window\\n with a summary of this project'\r\n    );\r\n\r\n    if (shiftClicked) {\r\n        menu.addItem(\r\n            'Export summary with drop-shadows...',\r\n            function () {myself.exportProjectSummary(true); },\r\n            'open a new browser browser window' +\r\n                '\\nwith a summary of this project' +\r\n                '\\nwith drop-shadows on all pictures.' +\r\n                '\\nnot supported by all browsers',\r\n            new Color(100, 0, 0)\r\n        );\r\n        menu.addItem(\r\n            'Export all scripts as pic...',\r\n            function () {myself.exportScriptsPicture(); },\r\n            'show a picture of all scripts\\nand block definitions',\r\n            new Color(100, 0, 0)\r\n        );\r\n    }\r\n\r\n    menu.addLine();\r\n    menu.addItem(\r\n        'Import tools',\r\n        function () {\r\n            myself.getURL(\r\n                myself.resourceURL('tools.xml'),\r\n                function (txt) {\r\n                    myself.droppedText(txt, 'tools');\r\n                }\r\n            );\r\n        },\r\n        'load the official library of\\npowerful blocks'\r\n    );\r\n    menu.addItem(\r\n        'Libraries...',\r\n        function() {\r\n            myself.getURL(\r\n                myself.resourceURL('libraries', 'LIBRARIES'),\r\n                function (txt) {\r\n                    var libraries = myself.parseResourceFile(txt);\r\n                    new LibraryImportDialogMorph(myself, libraries).popUp();\r\n                }\r\n            );\r\n        },\r\n        'Select categories of additional blocks to add to this project.'\r\n    );\r\n\r\n    menu.addItem(\r\n        localize(graphicsName) + '...',\r\n        function () {\r\n            myself.importMedia(graphicsName);\r\n        },\r\n        'Select a costume from the media library'\r\n    );\r\n    menu.addItem(\r\n        localize('Sounds') + '...',\r\n        function () {\r\n            myself.importMedia('Sounds');\r\n        },\r\n        'Select a sound from the media library'\r\n    );\r\n\r\n    menu.popup(world, pos);\r\n};\r\n\r\nIDE_Morph.prototype.resourceURL = function () {\r\n    // Take in variadic inputs that represent an a nested folder structure.\r\n    // Method can be easily overridden if running in a custom location.\r\n    // Default Snap! simply returns a path (relative to snap.html)\r\n    var args = Array.prototype.slice.call(arguments, 0);\r\n    return args.join('/');\r\n};\r\n\r\nIDE_Morph.prototype.getMediaList = function (dirname, callback) {\r\n    // Invoke the given callback with a list of files in a directory\r\n    // based on the contents file.\r\n    // If no callback is specified, synchronously return the list of files\r\n    // Note: Synchronous fetching has been deprecated and should be switched\r\n    var url = this.resourceURL(dirname, dirname.toUpperCase()),\r\n        async = callback instanceof Function,\r\n        myself = this,\r\n        data;\r\n\r\n    function alphabetically(x, y) {\r\n        return x.name.toLowerCase() < y.name.toLowerCase() ? -1 : 1;\r\n    }\r\n\r\n    if (async) {\r\n        this.getURL(\r\n            url,\r\n            function (txt) {\r\n                var data = myself.parseResourceFile(txt);\r\n                data.sort(alphabetically);\r\n                callback.call(this, data);\r\n            }\r\n        );\r\n    } else {\r\n        data = this.parseResourceFile(this.getURL(url));\r\n        data.sort(alphabetically);\r\n        return data;\r\n    }\r\n};\r\n\r\nIDE_Morph.prototype.parseResourceFile = function (text) {\r\n    // A Resource File lists all the files that could be loaded in a submenu\r\n    // Examples are libraries/LIBRARIES, Costumes/COSTUMES, etc\r\n    // The file format is tab-delimited, with unix newlines:\r\n    // file-name, Display Name, Help Text (optional)\r\n    var parts,\r\n        items = [];\r\n\r\n    text.split('\\n').map(function (line) {\r\n        return line.trim();\r\n    }).filter(function (line) {\r\n        return line.length > 0;\r\n    }).forEach(function (line) {\r\n        parts = line.split('\\t').map(function (str) { return str.trim(); });\r\n\r\n        if (parts.length < 2) {return; }\r\n\r\n        items.push({\r\n            fileName: parts[0],\r\n            name: parts[1],\r\n            description: parts.length > 2 ? parts[2] : ''\r\n        });\r\n    });\r\n\r\n    return items;\r\n};\r\n\r\nIDE_Morph.prototype.importMedia = function (folderName) {\r\n    // open a dialog box letting the user browse available \"built-in\"\r\n    // costumes, backgrounds or sounds\r\n    var myself = this,\r\n        msg = this.showMessage('Opening ' + folderName + '...');\r\n    this.getMediaList(\r\n        folderName,\r\n        function (items) {\r\n            msg.destroy();\r\n            myself.popupMediaImportDialog(folderName, items);\r\n        }\r\n    );\r\n\r\n};\r\n\r\nIDE_Morph.prototype.popupMediaImportDialog = function (folderName, items) {\r\n    // private - this gets called by importMedia() and creates\r\n    // the actual dialog\r\n    var dialog = new DialogBoxMorph().withKey('import' + folderName),\r\n        frame = new ScrollFrameMorph(),\r\n        selectedIcon = null,\r\n        turtle = new SymbolMorph('turtle', 60),\r\n        myself = this,\r\n        world = this.world(),\r\n        handle;\r\n\r\n    frame.acceptsDrops = false;\r\n    frame.contents.acceptsDrops = false;\r\n    frame.color = myself.groupColor;\r\n    frame.fixLayout = nop;\r\n    dialog.labelString = folderName;\r\n    dialog.createLabel();\r\n    dialog.addBody(frame);\r\n    dialog.addButton('ok', 'Import');\r\n    dialog.addButton('cancel', 'Cancel');\r\n\r\n    dialog.ok = function () {\r\n        if (selectedIcon) {\r\n            if (selectedIcon.object instanceof Sound) {\r\n                myself.droppedAudio(\r\n                    selectedIcon.object.copy().audio,\r\n                    selectedIcon.labelString\r\n                );\r\n            } else if (selectedIcon.object instanceof SVG_Costume) {\r\n                myself.droppedSVG(\r\n                    selectedIcon.object.contents,\r\n                    selectedIcon.labelString\r\n                );\r\n            } else {\r\n                myself.droppedImage(\r\n                    selectedIcon.object.contents,\r\n                    selectedIcon.labelString\r\n                );\r\n            }\r\n        }\r\n    };\r\n\r\n    dialog.fixLayout = function () {\r\n        var th = fontHeight(this.titleFontSize) + this.titlePadding * 2,\r\n            x = 0,\r\n            y = 0,\r\n            fp, fw;\r\n        this.buttons.fixLayout();\r\n        this.body.setPosition(this.position().add(new Point(\r\n            this.padding,\r\n            th + this.padding\r\n        )));\r\n        this.body.setExtent(new Point(\r\n            this.width() - this.padding * 2,\r\n            this.height() - this.padding * 3 - th - this.buttons.height()\r\n        ));\r\n        fp = this.body.position();\r\n        fw = this.body.width();\r\n        frame.contents.children.forEach(function (icon) {\r\n              icon.setPosition(fp.add(new Point(x, y)));\r\n            x += icon.width();\r\n            if (x + icon.width() > fw) {\r\n                x = 0;\r\n                y += icon.height();\r\n            }\r\n        });\r\n        frame.contents.adjustBounds();\r\n        this.label.setCenter(this.center());\r\n        this.label.setTop(this.top() + (th - this.label.height()) / 2);\r\n        this.buttons.setCenter(this.center());\r\n        this.buttons.setBottom(this.bottom() - this.padding);\r\n    };\r\n\r\n    items.forEach(function (item) {\r\n        // Caution: creating very many thumbnails can take a long time!\r\n        var url = myself.resourceURL(folderName, item.fileName),\r\n            img = new Image(),\r\n            suffix = url.slice(url.lastIndexOf('.') + 1).toLowerCase(),\r\n            isSVG = suffix === 'svg' && !MorphicPreferences.rasterizeSVGs,\r\n            isSound = contains(['wav', 'mp3'], suffix),\r\n            cstTemplate,\r\n            sndTemplate,\r\n            icon;\r\n\r\n        if (isSound) {\r\n            sndTemplate = icon = new SoundIconMorph(\r\n                new Sound(new Audio(), item.name),\r\n                sndTemplate\r\n            );\r\n        } else {\r\n            cstTemplate = icon = new CostumeIconMorph(\r\n                new Costume(turtle.image, item.name),\r\n                cstTemplate\r\n            );\r\n        }\r\n        icon.isDraggable = false;\r\n        icon.userMenu = nop;\r\n        icon.action = function () {\r\n            if (selectedIcon === icon) {return; }\r\n            var prevSelected = selectedIcon;\r\n            selectedIcon = icon;\r\n            if (prevSelected) {prevSelected.refresh(); }\r\n        };\r\n        icon.doubleClickAction = dialog.ok;\r\n        icon.query = function () {\r\n            return icon === selectedIcon;\r\n        };\r\n        frame.addContents(icon);\r\n        if (isSound) {\r\n            icon.object.audio.onloadeddata = function () {\r\n                icon.createThumbnail();\r\n                icon.fixLayout();\r\n                icon.refresh();\r\n            };\r\n\r\n            icon.object.audio.src = url;\r\n            icon.object.audio.load();\r\n        } else if (isSVG) {\r\n            img.onload = function () {\r\n                icon.object = new SVG_Costume(img, item.name);\r\n                icon.refresh();\r\n            };\r\n            myself.getURL(\r\n                url,\r\n                function (txt) {\r\n                    img.src = 'data:image/svg+xml;base64,' +\r\n                         window.btoa(txt);\r\n                }\r\n            );\r\n        } else {\r\n            img.onload = function () {\r\n                var canvas = newCanvas(new Point(img.width, img.height), true);\r\n                canvas.getContext('2d').drawImage(img, 0, 0);\r\n                icon.object = new Costume(canvas, item.name);\r\n                icon.refresh();\r\n            };\r\n            img.src = url;\r\n        }\r\n    });\r\n    dialog.popUp(world);\r\n    dialog.setExtent(new Point(400, 300));\r\n    dialog.setCenter(world.center());\r\n    dialog.drawNew();\r\n\r\n    handle = new HandleMorph(\r\n        dialog,\r\n        300,\r\n        280,\r\n        dialog.corner,\r\n        dialog.corner\r\n    );\r\n};\r\n\r\n// IDE_Morph menu actions\r\n\r\nIDE_Morph.prototype.aboutSnap = function () {\r\n    var dlg, aboutTxt, noticeTxt, creditsTxt, versions = '', translations,\r\n        module, btn1, btn2, btn3, btn4, licenseBtn, translatorsBtn,\r\n        world = this.world();\r\n\r\n    aboutTxt = 'Snap! 4.1.1 - dev -\\nBuild Your Own Blocks\\n\\n'\r\n        + 'Copyright \\u24B8 2017 Jens M\\u00F6nig and '\r\n        + 'Brian Harvey\\n'\r\n        + 'jens@moenig.org, bh@cs.berkeley.edu\\n\\n'\r\n\r\n        + 'Snap! is developed by the University of California, Berkeley\\n'\r\n        + '          with support from the National Science Foundation (NSF), '\r\n        + 'MioSoft,          \\n'\r\n        + 'the Communications Design Group (CDG) at SAP Labs, and the\\n'\r\n        + 'Human Advancement Research Community (HARC) at YC Research.\\n'\r\n\r\n        + 'The design of Snap! is influenced and inspired by Scratch,\\n'\r\n        + 'from the Lifelong Kindergarten group at the MIT Media Lab\\n\\n'\r\n\r\n        + 'for more information see http://snap.berkeley.edu\\n'\r\n        + 'and http://scratch.mit.edu';\r\n\r\n    noticeTxt = localize('License')\r\n        + '\\n\\n'\r\n        + 'Snap! is free software: you can redistribute it and/or modify\\n'\r\n        + 'it under the terms of the GNU Affero General Public License as\\n'\r\n        + 'published by the Free Software Foundation, either version 3 of\\n'\r\n        + 'the License, or (at your option) any later version.\\n\\n'\r\n\r\n        + 'This program is distributed in the hope that it will be useful,\\n'\r\n        + 'but WITHOUT ANY WARRANTY; without even the implied warranty of\\n'\r\n        + 'MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\\n'\r\n        + 'GNU Affero General Public License for more details.\\n\\n'\r\n\r\n        + 'You should have received a copy of the\\n'\r\n        + 'GNU Affero General Public License along with this program.\\n'\r\n        + 'If not, see http://www.gnu.org/licenses/\\n\\n'\r\n\r\n        + 'Want to use Snap! but scared by the open-source license?\\n'\r\n        + 'Get in touch with us, we\\'ll make it work.';\r\n\r\n    creditsTxt = localize('Contributors')\r\n        + '\\n\\nNathan Dinsmore: Saving/Loading, Snap-Logo Design, '\r\n        + '\\ncountless bugfixes and optimizations'\r\n        + '\\nKartik Chandra: Paint Editor'\r\n        + '\\nMichael Ball: Time/Date UI, Library Import Dialog,'\r\n        + '\\ncountless bugfixes and optimizations'\r\n        + '\\nBartosz Leper: Retina Display Support'\r\n        + '\\nBernat Romagosa: Countless contributions'\r\n        + '\\n\"Ava\" Yuan Yuan, Dylan Servilla: Graphic Effects'\r\n        + '\\nKyle Hotchkiss: Block search design'\r\n        + '\\nBrian Broll: Many bugfixes and optimizations'\r\n        + '\\nIan Reynolds: UI Design, Event Bindings, '\r\n        + 'Sound primitives'\r\n        + '\\nIvan Motyashov: Initial Squeak Porting'\r\n        + '\\nLucas Karahadian: Piano Keyboard Design'\r\n        + '\\nDavide Della Casa: Morphic Optimizations'\r\n        + '\\nAchal Dave: Web Audio'\r\n        + '\\nJoe Otto: Morphic Testing and Debugging';\r\n\r\n    for (module in modules) {\r\n        if (Object.prototype.hasOwnProperty.call(modules, module)) {\r\n            versions += ('\\n' + module + ' (' +\r\n                            modules[module] + ')');\r\n        }\r\n    }\r\n    if (versions !== '') {\r\n        versions = localize('current module versions:') + ' \\n\\n' +\r\n            'morphic (' + morphicVersion + ')' +\r\n            versions;\r\n    }\r\n    translations = localize('Translations') + '\\n' + SnapTranslator.credits();\r\n\r\n    dlg = new DialogBoxMorph();\r\n    dlg.inform('About Snap', aboutTxt, world);\r\n    btn1 = dlg.buttons.children[0];\r\n    translatorsBtn = dlg.addButton(\r\n        function () {\r\n            dlg.body.text = translations;\r\n            dlg.body.drawNew();\r\n            btn1.show();\r\n            btn2.show();\r\n            btn3.hide();\r\n            btn4.hide();\r\n            licenseBtn.hide();\r\n            translatorsBtn.hide();\r\n            dlg.fixLayout();\r\n            dlg.drawNew();\r\n            dlg.setCenter(world.center());\r\n        },\r\n        'Translators...'\r\n    );\r\n    btn2 = dlg.addButton(\r\n        function () {\r\n            dlg.body.text = aboutTxt;\r\n            dlg.body.drawNew();\r\n            btn1.show();\r\n            btn2.hide();\r\n            btn3.show();\r\n            btn4.show();\r\n            licenseBtn.show();\r\n            translatorsBtn.hide();\r\n            dlg.fixLayout();\r\n            dlg.drawNew();\r\n            dlg.setCenter(world.center());\r\n        },\r\n        'Back...'\r\n    );\r\n    btn2.hide();\r\n    licenseBtn = dlg.addButton(\r\n        function () {\r\n            dlg.body.text = noticeTxt;\r\n            dlg.body.drawNew();\r\n            btn1.show();\r\n            btn2.show();\r\n            btn3.hide();\r\n            btn4.hide();\r\n            licenseBtn.hide();\r\n            translatorsBtn.hide();\r\n            dlg.fixLayout();\r\n            dlg.drawNew();\r\n            dlg.setCenter(world.center());\r\n        },\r\n        'License...'\r\n    );\r\n    btn3 = dlg.addButton(\r\n        function () {\r\n            dlg.body.text = versions;\r\n            dlg.body.drawNew();\r\n            btn1.show();\r\n            btn2.show();\r\n            btn3.hide();\r\n            btn4.hide();\r\n            licenseBtn.hide();\r\n            translatorsBtn.hide();\r\n            dlg.fixLayout();\r\n            dlg.drawNew();\r\n            dlg.setCenter(world.center());\r\n        },\r\n        'Modules...'\r\n    );\r\n    btn4 = dlg.addButton(\r\n        function () {\r\n            dlg.body.text = creditsTxt;\r\n            dlg.body.drawNew();\r\n            btn1.show();\r\n            btn2.show();\r\n            translatorsBtn.show();\r\n            btn3.hide();\r\n            btn4.hide();\r\n            licenseBtn.hide();\r\n            dlg.fixLayout();\r\n            dlg.drawNew();\r\n            dlg.setCenter(world.center());\r\n        },\r\n        'Credits...'\r\n    );\r\n    translatorsBtn.hide();\r\n    dlg.fixLayout();\r\n    dlg.drawNew();\r\n};\r\n\r\nIDE_Morph.prototype.editProjectNotes = function () {\r\n    var dialog = new DialogBoxMorph().withKey('projectNotes'),\r\n        frame = new ScrollFrameMorph(),\r\n        text = new TextMorph(this.projectNotes || ''),\r\n        ok = dialog.ok,\r\n        myself = this,\r\n        size = 250,\r\n        world = this.world();\r\n\r\n    frame.padding = 6;\r\n    frame.setWidth(size);\r\n    frame.acceptsDrops = false;\r\n    frame.contents.acceptsDrops = false;\r\n\r\n    text.setWidth(size - frame.padding * 2);\r\n    text.setPosition(frame.topLeft().add(frame.padding));\r\n    text.enableSelecting();\r\n    text.isEditable = true;\r\n\r\n    frame.setHeight(size);\r\n    frame.fixLayout = nop;\r\n    frame.edge = InputFieldMorph.prototype.edge;\r\n    frame.fontSize = InputFieldMorph.prototype.fontSize;\r\n    frame.typeInPadding = InputFieldMorph.prototype.typeInPadding;\r\n    frame.contrast = InputFieldMorph.prototype.contrast;\r\n    frame.drawNew = InputFieldMorph.prototype.drawNew;\r\n    frame.drawRectBorder = InputFieldMorph.prototype.drawRectBorder;\r\n\r\n    frame.addContents(text);\r\n    text.drawNew();\r\n\r\n    dialog.ok = function () {\r\n        myself.projectNotes = text.text;\r\n        ok.call(this);\r\n    };\r\n\r\n    dialog.justDropped = function () {\r\n        text.edit();\r\n    };\r\n\r\n    dialog.labelString = 'Project Notes';\r\n    dialog.createLabel();\r\n    dialog.addBody(frame);\r\n    frame.drawNew();\r\n    dialog.addButton('ok', 'OK');\r\n    dialog.addButton('cancel', 'Cancel');\r\n    dialog.fixLayout();\r\n    dialog.drawNew();\r\n    dialog.popUp(world);\r\n    dialog.setCenter(world.center());\r\n    text.edit();\r\n};\r\n\r\nIDE_Morph.prototype.newProject = function () {\r\n    this.source = SnapCloud.username ? 'cloud' : 'local';\r\n    if (this.stage) {\r\n        this.stage.destroy();\r\n    }\r\n    if (location.hash.substr(0, 6) !== '#lang:') {\r\n        location.hash = '';\r\n    }\r\n    this.globalVariables = new VariableFrame();\r\n    this.currentSprite = new SpriteMorph(this.globalVariables);\r\n    this.sprites = new List([this.currentSprite]);\r\n    StageMorph.prototype.dimensions = new Point(480, 360);\r\n    StageMorph.prototype.hiddenPrimitives = {};\r\n    StageMorph.prototype.codeMappings = {};\r\n    StageMorph.prototype.codeHeaders = {};\r\n    StageMorph.prototype.enableCodeMapping = false;\r\n    StageMorph.prototype.enableInheritance = true;\r\n    StageMorph.prototype.enableSublistIDs = false;\r\n    SpriteMorph.prototype.useFlatLineEnds = false;\r\n    Process.prototype.enableLiveCoding = false;\r\n    this.setProjectName('');\r\n    this.projectNotes = '';\r\n    this.createStage();\r\n    this.add(this.stage);\r\n    this.createCorral();\r\n    this.selectSprite(this.stage.children[0]);\r\n    this.fixLayout();\r\n};\r\n\r\nIDE_Morph.prototype.save = function () {\r\n   // console.log(this.projectName);\r\n    if (this.source === 'examples') {\r\n        this.source = 'local'; // cannot save to examples\r\n    }\r\n    if (this.projectName) {\r\n        if (this.source === 'local') { // as well as 'examples'\r\n            this.saveProject(this.projectName);\r\n        } else { // 'cloud'\r\n            this.saveProjectToCloud(this.projectName);\r\n        }\r\n    } else {\r\n        this.saveProjectsBrowser();\r\n    }\r\n};\r\n\r\nIDE_Morph.prototype.saveProject = function (name) {\r\n   /* console.log(\"Depuis saveProject\");\r\n    console.log(name);*/\r\n    var myself = this;\r\n    this.nextSteps([\r\n        function () {\r\n            myself.showMessage('Saving...');\r\n        },\r\n        function () {\r\n            myself.rawSaveProject(name);\r\n        }\r\n    ]);\r\n};\r\n\r\n// Serialize a project and save to the browser.\r\nIDE_Morph.prototype.rawSaveProject = function (name) {\r\n    var str; \r\n    if (name) {\r\n        this.setProjectName(name);\r\n        if (Process.prototype.isCatchingErrors) {\r\n            try {\r\n                localStorage['-snap-project-' + name]\r\n                    = str = this.serializer.serialize(this.stage); // Wiquid : Solution to save project \r\n                this.setURL('#open:' + str);\r\n                this.showMessage('Saved!', 1);\r\n                //stageSaver = this.serializer.serialize(this.stage);\r\n            } catch (err) {\r\n                this.showMessage('Save failed: ' + err);\r\n            }\r\n        } else {\r\n            localStorage['-snap-project-' + name]\r\n                = str = this.serializer.serialize(this.stage);\r\n            this.setURL('#open:' + str);\r\n            this.showMessage('Saved!', 1);\r\n            //stageSaver = this.serializer.serialize(this.stage);\r\n        }\r\n    }\r\n};\r\n\r\n\r\nIDE_Morph.prototype.exportProject = function (name, plain) {\r\n    // Export project XML, saving a file to disk\r\n    // newWindow requests displaying the project in a new tab.\r\n    var menu, str, dataPrefix;\r\n\r\n    if (name) {\r\n        this.setProjectName(name);\r\n        dataPrefix = 'data:text/' + plain ? 'plain,' : 'xml,';\r\n        try {\r\n            menu = this.showMessage('Exporting');\r\n            str = this.serializer.serialize(this.stage);\r\n            this.setURL('#open:' + dataPrefix + encodeURIComponent(str));\r\n            this.saveXMLAs(str, name);\r\n            menu.destroy();\r\n            this.showMessage('Exported!', 1);\r\n        } catch (err) {\r\n            if (Process.prototype.isCatchingErrors) {\r\n                this.showMessage('Export failed: ' + err);\r\n            } else {\r\n                throw err;\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nIDE_Morph.prototype.exportGlobalBlocks = function () {\r\n    if (this.stage.globalBlocks.length > 0) {\r\n        new BlockExportDialogMorph(\r\n            this.serializer,\r\n            this.stage.globalBlocks\r\n        ).popUp(this.world());\r\n    } else {\r\n        this.inform(\r\n            'Export blocks',\r\n            'this project doesn\\'t have any\\n'\r\n                + 'custom global blocks yet'\r\n        );\r\n    }\r\n};\r\n\r\nIDE_Morph.prototype.removeUnusedBlocks = function () {\r\n    var targets = this.sprites.asArray().concat([this.stage]),\r\n        globalBlocks = this.stage.globalBlocks,\r\n        unused = [],\r\n        isDone = false,\r\n        found;\r\n\r\n    function scan() {\r\n        return globalBlocks.filter(function (def) {\r\n            if (contains(unused, def)) {return false; }\r\n            return targets.every(function (each, trgIdx) {\r\n                return !(each.usesBlockInstance(def, true, trgIdx, unused));\r\n            });\r\n        });\r\n    }\r\n\r\n    while (!isDone) {\r\n        found = scan();\r\n        if (found.length) {\r\n            unused = unused.concat(found);\r\n        } else {\r\n            isDone = true;\r\n        }\r\n    }\r\n    if (unused.length > 0) {\r\n        new BlockRemovalDialogMorph(\r\n            unused,\r\n            this.stage\r\n        ).popUp(this.world());\r\n    } else {\r\n        this.inform(\r\n            'Remove unused blocks',\r\n            'there are currently no unused\\n'\r\n                + 'global custom blocks in this project'\r\n        );\r\n    }\r\n};\r\n\r\nIDE_Morph.prototype.exportSprite = function (sprite) {\r\n    var str = this.serializer.serialize(sprite.allParts());\r\n    str = '<sprites app=\"'\r\n        + this.serializer.app\r\n        + '\" version=\"'\r\n        + this.serializer.version\r\n        + '\">'\r\n        + str\r\n        + '</sprites>';\r\n    this.saveXMLAs(str, sprite.name);\r\n};\r\n\r\nIDE_Morph.prototype.exportScriptsPicture = function () {\r\n    var pics = [],\r\n        pic,\r\n        padding = 20,\r\n        w = 0,\r\n        h = 0,\r\n        y = 0,\r\n        ctx;\r\n\r\n    // collect all script pics\r\n    this.sprites.asArray().forEach(function (sprite) {\r\n        pics.push(sprite.image);\r\n        pics.push(sprite.scripts.scriptsPicture());\r\n        sprite.customBlocks.forEach(function (def) {\r\n            pics.push(def.scriptsPicture());\r\n        });\r\n    });\r\n    pics.push(this.stage.image);\r\n    pics.push(this.stage.scripts.scriptsPicture());\r\n    this.stage.customBlocks.forEach(function (def) {\r\n        pics.push(def.scriptsPicture());\r\n    });\r\n\r\n    // collect global block pics\r\n    this.stage.globalBlocks.forEach(function (def) {\r\n        pics.push(def.scriptsPicture());\r\n    });\r\n\r\n    pics = pics.filter(function (each) {return !isNil(each); });\r\n\r\n    // determine dimensions of composite\r\n    pics.forEach(function (each) {\r\n        w = Math.max(w, each.width);\r\n        h += (each.height);\r\n        h += padding;\r\n    });\r\n    h -= padding;\r\n    pic = newCanvas(new Point(w, h));\r\n    ctx = pic.getContext('2d');\r\n\r\n    // draw all parts\r\n    pics.forEach(function (each) {\r\n        ctx.drawImage(each, 0, y);\r\n        y += padding;\r\n        y += each.height;\r\n    });\r\n    this.saveCanvasAs(pic, this.projectName || localize('Untitled'));\r\n};\r\n\r\nIDE_Morph.prototype.exportProjectSummary = function (useDropShadows) {\r\n    var html, head, meta, css, body, pname, notes, toc, globalVars,\r\n        stage = this.stage;\r\n\r\n    function addNode(tag, node, contents) {\r\n        if (!node) {node = body; }\r\n        return new XML_Element(tag, contents, node);\r\n    }\r\n\r\n    function add(contents, tag, node) {\r\n        if (!tag) {tag = 'p'; }\r\n        if (!node) {node = body; }\r\n        return new XML_Element(tag, contents, node);\r\n    }\r\n\r\n    function addImage(canvas, node, inline) {\r\n        if (!node) {node = body; }\r\n        var para = !inline ? addNode('p', node) : null,\r\n            pic = addNode('img', para || node);\r\n        pic.attributes.src = canvas.toDataURL();\r\n        return pic;\r\n    }\r\n\r\n    function addVariables(varFrame) {\r\n        var names = varFrame.names().sort(),\r\n            isFirst = true,\r\n            ul;\r\n        if (names.length) {\r\n            add(localize('Variables'), 'h3');\r\n            names.forEach(function (name) {\r\n                /*\r\n                addImage(\r\n                    SpriteMorph.prototype.variableBlock(name).scriptPic()\r\n                );\r\n                */\r\n                var watcher, listMorph, li, img;\r\n\r\n                if (isFirst) {\r\n                    ul = addNode('ul');\r\n                    isFirst = false;\r\n                }\r\n                li = addNode('li', ul);\r\n                watcher = new WatcherMorph(\r\n                    name,\r\n                    SpriteMorph.prototype.blockColor.variables,\r\n                    varFrame,\r\n                    name\r\n                );\r\n                listMorph = watcher.cellMorph.contentsMorph;\r\n                if (listMorph instanceof ListWatcherMorph) {\r\n                    listMorph.expand();\r\n                }\r\n                img = addImage(watcher.fullImageClassic(), li);\r\n                img.attributes.class = 'script';\r\n            });\r\n        }\r\n    }\r\n\r\n    function addBlocks(definitions) {\r\n        if (definitions.length) {\r\n            add(localize('Blocks'), 'h3');\r\n            SpriteMorph.prototype.categories.forEach(function (category) {\r\n                var isFirst = true,\r\n                    ul;\r\n                definitions.forEach(function (def) {\r\n                    var li, blockImg;\r\n                    if (def.category === category) {\r\n                        if (isFirst) {\r\n                            add(\r\n                                localize(\r\n                                    category[0].toUpperCase().concat(\r\n                                        category.slice(1)\r\n                                    )\r\n                                ),\r\n                                'h4'\r\n                            );\r\n                            ul = addNode('ul');\r\n                            isFirst = false;\r\n                        }\r\n                        li = addNode('li', ul);\r\n                        blockImg = addImage(\r\n                            def.templateInstance().scriptPic(),\r\n                            li\r\n                        );\r\n                        blockImg.attributes.class = 'script';\r\n                        def.sortedElements().forEach(function (script) {\r\n                            var defImg = addImage(\r\n                                script instanceof BlockMorph ?\r\n                                        script.scriptPic()\r\n                                                : script.fullImageClassic(),\r\n                                li\r\n                            );\r\n                            defImg.attributes.class = 'script';\r\n                        });\r\n                    }\r\n                });\r\n            });\r\n        }\r\n    }\r\n\r\n    pname = this.projectName || localize('untitled');\r\n\r\n    html = new XML_Element('html');\r\n    html.attributes.lang = SnapTranslator.language;\r\n    // html.attributes.contenteditable = 'true';\r\n\r\n    head = addNode('head', html);\r\n\r\n    meta = addNode('meta', head);\r\n    meta.attributes.charset = 'UTF-8';\r\n\r\n    if (useDropShadows) {\r\n        css = 'img {' +\r\n            'vertical-align: top;' +\r\n            'filter: drop-shadow(2px 2px 4px rgba(0,0,0,0.5));' +\r\n            '-webkit-filter: drop-shadow(2px 2px 4px rgba(0,0,0,0.5));' +\r\n            '-ms-filter: drop-shadow(2px 2px 4px rgba(0,0,0,0.5));' +\r\n            '}' +\r\n            '.toc {' +\r\n            'vertical-align: middle;' +\r\n            'padding: 2px 1em 2px 1em;' +\r\n            '}';\r\n    } else {\r\n        css = 'img {' +\r\n            'vertical-align: top;' +\r\n            '}' +\r\n            '.toc {' +\r\n            'vertical-align: middle;' +\r\n            'padding: 2px 1em 2px 1em;' +\r\n            '}' +\r\n            '.sprite {' +\r\n            'border: 1px solid lightgray;' +\r\n            '}';\r\n    }\r\n    addNode('style', head, css);\r\n\r\n    add(pname, 'title', head);\r\n\r\n\r\n    body = addNode('body', html);\r\n    add(pname, 'h1');\r\n\r\n\r\n    /*\r\n    if (SnapCloud.username) {\r\n        add(localize('by ') + SnapCloud.username);\r\n    }\r\n    */\r\n    if (location.hash.indexOf('#present:') === 0) {\r\n        add(location.toString(), 'a', body).attributes.href =\r\n            location.toString();\r\n        addImage(\r\n            stage.thumbnail(stage.dimensions)\r\n        ).attributes.class = 'sprite';\r\n        add(this.serializer.app, 'h4');\r\n    } else {\r\n        add(this.serializer.app, 'h4');\r\n        addImage(\r\n            stage.thumbnail(stage.dimensions)\r\n        ).attributes.class = 'sprite';\r\n    }\r\n\r\n    // project notes\r\n    notes = Process.prototype.reportTextSplit(this.projectNotes, 'line');\r\n    notes.asArray().forEach(\r\n        function (paragraph) {add(paragraph); }\r\n    );\r\n\r\n    // table of contents\r\n    add(localize('Contents'), 'h4');\r\n    toc = addNode('ul');\r\n\r\n    // sprites & stage\r\n    this.sprites.asArray().concat([stage]).forEach(function (sprite) {\r\n        var tocEntry = addNode('li', toc),\r\n            scripts = sprite.scripts.sortedElements(),\r\n            cl = sprite.costumes.length(),\r\n            pic,\r\n            ol;\r\n\r\n        addNode('hr');\r\n        addImage(\r\n            sprite.thumbnail(new Point(40, 40)),\r\n            tocEntry,\r\n            true\r\n        ).attributes.class = 'toc';\r\n        add(sprite.name, 'a', tocEntry).attributes.href = '#' + sprite.name;\r\n\r\n        add(sprite.name, 'h2').attributes.id = sprite.name;\r\n        // if (sprite instanceof SpriteMorph || sprite.costume) {\r\n        pic = addImage(\r\n            sprite.thumbnail(sprite.extent().divideBy(stage.scale))\r\n        );\r\n        pic.attributes.class = 'sprite';\r\n        if (sprite instanceof SpriteMorph) {\r\n            if (sprite.exemplar) {\r\n                addImage(\r\n                    sprite.exemplar.thumbnail(new Point(40, 40)),\r\n                    add(localize('Kind of') + ' ' + sprite.exemplar.name),\r\n                    true\r\n                ).attributes.class = 'toc';\r\n            }\r\n            if (sprite.anchor) {\r\n                addImage(\r\n                    sprite.anchor.thumbnail(new Point(40, 40)),\r\n                    add(localize('Part of') + ' ' + sprite.anchor.name),\r\n                    true\r\n                ).attributes.class = 'toc';\r\n            }\r\n            if (sprite.parts.length) {\r\n                add(localize('Parts'), 'h3');\r\n                ol = addNode('ul');\r\n                sprite.parts.forEach(function (part) {\r\n                    var li = addNode('li', ol, part.name);\r\n                    addImage(part.thumbnail(new Point(40, 40)), li, true)\r\n                        .attributes.class = 'toc';\r\n                });\r\n            }\r\n        }\r\n\r\n        // costumes\r\n        if (cl > 1 || (sprite.getCostumeIdx() !== cl)) {\r\n            add(localize('Costumes'), 'h3');\r\n            ol = addNode('ol');\r\n            sprite.costumes.asArray().forEach(function (costume) {\r\n                var li = addNode('li', ol, costume.name);\r\n                addImage(costume.thumbnail(new Point(40, 40)), li, true)\r\n                    .attributes.class = 'toc';\r\n            });\r\n        }\r\n\r\n        // sounds\r\n        if (sprite.sounds.length()) {\r\n            add(localize('Sounds'), 'h3');\r\n            ol = addNode('ol');\r\n            sprite.sounds.asArray().forEach(function (sound) {\r\n                add(sound.name, 'li', ol);\r\n            });\r\n        }\r\n\r\n        // variables\r\n        addVariables(sprite.variables);\r\n\r\n        // scripts\r\n        if (scripts.length) {\r\n            add(localize('Scripts'), 'h3');\r\n            scripts.forEach(function (script) {\r\n                var img = addImage(script instanceof BlockMorph ?\r\n                        script.scriptPic()\r\n                                : script.fullImageClassic());\r\n                img.attributes.class = 'script';\r\n            });\r\n        }\r\n\r\n        // custom blocks\r\n        addBlocks(sprite.customBlocks);\r\n    });\r\n\r\n    // globals\r\n    globalVars = stage.globalVariables();\r\n    if (Object.keys(globalVars.vars).length || stage.globalBlocks.length) {\r\n        addNode('hr');\r\n        add(\r\n            localize('For all Sprites'),\r\n            'a',\r\n            addNode('li', toc)\r\n        ).attributes.href = '#global';\r\n        add(localize('For all Sprites'), 'h2').attributes.id = 'global';\r\n\r\n        // variables\r\n        addVariables(globalVars);\r\n\r\n        // custom blocks\r\n        addBlocks(stage.globalBlocks);\r\n    }\r\n\r\n    this.saveFileAs(\r\n        '<!DOCTYPE html>' + html.toString(),\r\n        'text/html;charset=utf-8',\r\n        pname\r\n    );\r\n};\r\n\r\nIDE_Morph.prototype.openProjectString = function (str) {\r\n    var msg,\r\n        myself = this;\r\n        //console.log(\"IMPORT PROCESS TRACKER 2\");\r\n        //console.log(str);\r\n    this.nextSteps([\r\n        function () {\r\n            msg = myself.showMessage('Opening project...');\r\n        },\r\n        function () {nop(); }, // yield (bug in Chrome)\r\n        function () {\r\n            myself.rawOpenProjectString(str);\r\n        },\r\n        function () {\r\n            msg.destroy();\r\n        }\r\n    ]);\r\n};\r\n\r\nIDE_Morph.prototype.rawOpenProjectString = function (str) {\r\n    \r\n    this.toggleAppMode(false);\r\n    this.spriteBar.tabBar.tabTo('scripts');\r\n    StageMorph.prototype.hiddenPrimitives = {};\r\n    StageMorph.prototype.codeMappings = {};\r\n    StageMorph.prototype.codeHeaders = {};\r\n    StageMorph.prototype.enableCodeMapping = false;\r\n    StageMorph.prototype.enableInheritance = true;\r\n    StageMorph.prototype.enableSublistIDs = false;\r\n    Process.prototype.enableLiveCoding = false;\r\n    if (Process.prototype.isCatchingErrors) {\r\n        try {\r\n            this.serializer.openProject(\r\n                this.serializer.load(str, this),\r\n                this\r\n            ); \r\n        } catch (err) {\r\n            this.showMessage('Load failed: ' + err);\r\n        }\r\n    } else {\r\n        this.serializer.openProject(\r\n            this.serializer.load(str, this),\r\n            this\r\n        );\r\n    }\r\n    this.stopFastTracking();\r\n\r\n    // Problème : .snapScript n'est pas dans $container ->Todo \r\n    // $(\".snapScript\").val(str);\r\n     getSnapProjectScript = str; // exposé getSnapProjectScript\r\n     config.customSnapContext.trigger('rawDefinitionChange',[str]);\r\n     importString = str;\r\n\r\n};\r\n\r\n/*IDE_Morph.prototype.openCloudDataString = function (str) {\r\n    var msg,\r\n        myself = this,\r\n        size = Math.round(str.length / 1024);\r\n    this.nextSteps([\r\n        function () {\r\n            msg = myself.showMessage('Opening project\\n' + size + ' KB...');\r\n        },\r\n        function () {nop(); }, // yield (bug in Chrome)\r\n        function () {\r\n            myself.rawOpenCloudDataString(str);\r\n        },\r\n        function () {\r\n            msg.destroy();\r\n        }\r\n    ]);\r\n};*/\r\n\r\n/*IDE_Morph.prototype.rawOpenCloudDataString = function (str) {\r\n    var model;\r\n    StageMorph.prototype.hiddenPrimitives = {};\r\n    StageMorph.prototype.codeMappings = {};\r\n    StageMorph.prototype.codeHeaders = {};\r\n    StageMorph.prototype.enableCodeMapping = false;\r\n    StageMorph.prototype.enableInheritance = true;\r\n    StageMorph.prototype.enableSublistIDs = false;\r\n    Process.prototype.enableLiveCoding = false;\r\n    if (Process.prototype.isCatchingErrors) {\r\n        try {\r\n            model = this.serializer.parse(str);\r\n            this.serializer.loadMediaModel(model.childNamed('media'));\r\n            this.serializer.openProject(\r\n                this.serializer.loadProjectModel(\r\n                    model.childNamed('project'),\r\n                    this\r\n                ),\r\n                this\r\n            );\r\n        } catch (err) {\r\n            this.showMessage('Load failed: ' + err);\r\n        }\r\n    } else {\r\n        model = this.serializer.parse(str);\r\n        this.serializer.loadMediaModel(model.childNamed('media'));\r\n        this.serializer.openProject(\r\n            this.serializer.loadProjectModel(\r\n                model.childNamed('project'),\r\n                this\r\n            ),\r\n            this\r\n        );\r\n    }\r\n    this.stopFastTracking();\r\n};*/\r\n\r\nIDE_Morph.prototype.openBlocksString = function (str, name, silently) {\r\n    var msg,\r\n        myself = this;\r\n    this.nextSteps([\r\n        function () {\r\n            msg = myself.showMessage('Opening blocks...');\r\n        },\r\n        function () {nop(); }, // yield (bug in Chrome)\r\n        function () {\r\n            myself.rawOpenBlocksString(str, name, silently);\r\n        },\r\n        function () {\r\n            msg.destroy();\r\n        }\r\n    ]);\r\n};\r\n\r\nIDE_Morph.prototype.rawOpenBlocksString = function (str, name, silently) {\r\n    // name is optional (string), so is silently (bool)\r\n    var blocks,\r\n        myself = this;\r\n    if (Process.prototype.isCatchingErrors) {\r\n        try {\r\n            blocks = this.serializer.loadBlocks(str, myself.stage);\r\n            //console.log(blocks);\r\n        } catch (err) {\r\n            this.showMessage('Load failed: ' + err);\r\n        }\r\n    } else {\r\n        blocks = this.serializer.loadBlocks(str, myself.stage);\r\n    }\r\n    if (silently) {\r\n        blocks.forEach(function (def) {\r\n            def.receiver = myself.stage;\r\n            myself.stage.globalBlocks.push(def);\r\n            myself.stage.replaceDoubleDefinitionsFor(def);\r\n        });\r\n        this.flushPaletteCache();\r\n        this.refreshPalette();\r\n        this.showMessage(\r\n            'Imported Blocks Module' + (name ? ': ' + name : '') + '.',\r\n            2\r\n        );\r\n    } else {\r\n        new BlockImportDialogMorph(blocks, this.stage, name).popUp();\r\n    }\r\n};\r\n\r\nIDE_Morph.prototype.openSpritesString = function (str) {\r\n    var msg,\r\n        myself = this;\r\n    this.nextSteps([\r\n        function () {\r\n            msg = myself.showMessage('Opening sprite...');\r\n        },\r\n        function () {nop(); }, // yield (bug in Chrome)\r\n        function () {\r\n            myself.rawOpenSpritesString(str);\r\n        },\r\n        function () {\r\n            msg.destroy();\r\n        }\r\n    ]);\r\n};\r\n\r\nIDE_Morph.prototype.rawOpenSpritesString = function (str) {\r\n    if (Process.prototype.isCatchingErrors) {\r\n        try {\r\n            this.serializer.loadSprites(str, this);\r\n        } catch (err) {\r\n            this.showMessage('Load failed: ' + err);\r\n        }\r\n    } else {\r\n        this.serializer.loadSprites(str, this);\r\n    }\r\n};\r\n\r\nIDE_Morph.prototype.openMediaString = function (str) {\r\n    if (Process.prototype.isCatchingErrors) {\r\n        try {\r\n            this.serializer.loadMedia(str);\r\n        } catch (err) {\r\n            this.showMessage('Load failed: ' + err);\r\n        }\r\n    } else {\r\n        this.serializer.loadMedia(str);\r\n    }\r\n    this.showMessage('Imported Media Module.', 2);\r\n};\r\n\r\nIDE_Morph.prototype.openScriptString = function (str) {\r\n    var msg,\r\n        myself = this;\r\n    this.nextSteps([\r\n        function () {\r\n            msg = myself.showMessage('Opening script...');\r\n        },\r\n        function () {nop(); }, // yield (bug in Chrome)\r\n        function () {\r\n            myself.rawOpenScriptString(str);\r\n        },\r\n        function () {\r\n            msg.destroy();\r\n        }\r\n    ]);\r\n};\r\n\r\nIDE_Morph.prototype.rawOpenScriptString = function (str) {\r\n    var xml,\r\n        script,\r\n        scripts = this.currentSprite.scripts;\r\n\r\n    if (Process.prototype.isCatchingErrors) {\r\n        try {\r\n            xml = this.serializer.parse(str, this.currentSprite);\r\n            script = this.serializer.loadScript(xml, this.currentSprite);\r\n        } catch (err) {\r\n            this.showMessage('Load failed: ' + err);\r\n        }\r\n    } else {\r\n        xml = this.serializer.loadScript(str, this.currentSprite);\r\n        script = this.serializer.loadScript(xml, this.currentSprite);\r\n    }\r\n    script.setPosition(this.world().hand.position());\r\n    scripts.add(script);\r\n    scripts.adjustBounds();\r\n    scripts.lastDroppedBlock = script;\r\n    scripts.recordDrop(\r\n\t\t{\r\n            origin: this.palette,\r\n            position: this.palette.center()\r\n        }\r\n    );\r\n    this.showMessage(\r\n        'Imported Script.',\r\n        2\r\n    );\r\n};\r\n\r\nIDE_Morph.prototype.openProject = function (name) {\r\n    var str;\r\n    if (name) {\r\n        this.showMessage('opening project\\n' + name);\r\n        this.setProjectName(name);\r\n        str = localStorage['-snap-project-' + name];\r\n        this.openProjectString(str);\r\n        this.setURL('#open:' + str);\r\n    }\r\n};\r\n\r\nIDE_Morph.prototype.setURL = function (str) {\r\n    // Set the URL to a project's XML contents\r\n    if (this.projectsInURLs) {\r\n        location.hash = str;\r\n    }\r\n};\r\n\r\nIDE_Morph.prototype.saveFileAs = function (\r\n    contents,\r\n    fileType,\r\n    fileName\r\n) {\r\n    /** Allow for downloading a file to a disk.\r\n        This relies the FileSaver.js library which exports saveAs()\r\n        Two utility methods saveImageAs and saveXMLAs should be used first.\r\n    */\r\n    var blobIsSupported = false,\r\n        world = this.world(),\r\n        fileExt,\r\n        dialog;\r\n\r\n    // fileType is a <kind>/<ext>;<charset> format.\r\n    fileExt = fileType.split('/')[1].split(';')[0];\r\n    // handle text/plain as a .txt file\r\n    fileExt = '.' + (fileExt === 'plain' ? 'txt' : fileExt);\r\n\r\n    function dataURItoBlob(text, mimeType) {\r\n        var i,\r\n            data = text,\r\n            components = text.split(','),\r\n            hasTypeStr = text.indexOf('data:') === 0;\r\n        // Convert to binary data, in format Blob() can use.\r\n        if (hasTypeStr && components[0].indexOf('base64') > -1) {\r\n            text = atob(components[1]);\r\n            data = new Uint8Array(text.length);\r\n            i = text.length;\r\n            while (i--) {\r\n                data[i] = text.charCodeAt(i);\r\n            }\r\n        }\r\n        return new Blob([data], {type: mimeType });\r\n    }\r\n\r\n    try {\r\n        blobIsSupported = !!new Blob();\r\n    } catch (e) {}\r\n\r\n    if (blobIsSupported) {\r\n        if (!(contents instanceof Blob)) {\r\n            contents = dataURItoBlob(contents, fileType);\r\n        }\r\n        // download a file and delegate to FileSaver\r\n        // false: Do not preprend a BOM to the file.\r\n        saveAs(contents, fileName + fileExt, false);\r\n    } else {\r\n        dialog = new DialogBoxMorph();\r\n        dialog.inform(\r\n            localize('Could not export') + ' ' + fileName,\r\n            'unable to export text',\r\n            world\r\n        );\r\n        dialog.fixLayout();\r\n        dialog.drawNew();\r\n    }\r\n};\r\n\r\nIDE_Morph.prototype.saveCanvasAs = function (canvas, fileName) {\r\n    // Export a Canvas object as a PNG image\r\n    // Note: This commented out due to poor browser support.\r\n    // cavas.toBlob() is currently supported in Firefox, IE, Chrome but\r\n    // browsers prevent easily saving the generated files.\r\n    // Do not re-enable without revisiting issue #1191\r\n    // if (canvas.toBlob) {\r\n    //     var myself = this;\r\n    //     canvas.toBlob(function (blob) {\r\n    //         myself.saveFileAs(blob, 'image/png', fileName);\r\n    //     });\r\n    //     return;\r\n    // }\r\n\r\n    this.saveFileAs(canvas.toDataURL(), 'image/png', fileName);\r\n};\r\n\r\nIDE_Morph.prototype.saveXMLAs = function(xml, fileName) {\r\n    // wrapper to saving XML files with a proper type tag.\r\n    this.saveFileAs(xml, 'text/xml;chartset=utf-8', fileName);\r\n};\r\n\r\nIDE_Morph.prototype.switchToUserMode = function () {\r\n    var world = this.world();\r\n\r\n    world.isDevMode = false;\r\n    Process.prototype.isCatchingErrors = true;\r\n    this.controlBar.updateLabel();\r\n    this.isAutoFill = true;\r\n    this.isDraggable = false;\r\n    this.reactToWorldResize(world.bounds.copy());\r\n    this.siblings().forEach(function (morph) {\r\n        if (morph instanceof DialogBoxMorph) {\r\n            world.add(morph); // bring to front\r\n        } else {\r\n            morph.destroy();\r\n        }\r\n    });\r\n    this.flushBlocksCache();\r\n    this.refreshPalette();\r\n    // prevent non-DialogBoxMorphs from being dropped\r\n    // onto the World in user-mode\r\n    world.reactToDropOf = function (morph) {\r\n        if (!(morph instanceof DialogBoxMorph)) {\r\n            if (world.hand.grabOrigin) {\r\n                morph.slideBackTo(world.hand.grabOrigin);\r\n            } else {\r\n                world.hand.grab(morph);\r\n            }\r\n        }\r\n    };\r\n    this.showMessage('entering user mode', 1);\r\n\r\n};\r\n\r\nIDE_Morph.prototype.switchToDevMode = function () {\r\n    var world = this.world();\r\n\r\n    world.isDevMode = true;\r\n    Process.prototype.isCatchingErrors = false;\r\n    this.controlBar.updateLabel();\r\n    this.isAutoFill = false;\r\n    this.isDraggable = true;\r\n    this.setExtent(world.extent().subtract(100));\r\n    this.setPosition(world.position().add(20));\r\n    this.flushBlocksCache();\r\n    this.refreshPalette();\r\n    // enable non-DialogBoxMorphs to be dropped\r\n    // onto the World in dev-mode\r\n    delete world.reactToDropOf;\r\n    this.showMessage(\r\n        'entering development mode.\\n\\n'\r\n            + 'error catching is turned off,\\n'\r\n            + 'use the browser\\'s web console\\n'\r\n            + 'to see error messages.'\r\n    );\r\n};\r\n\r\nIDE_Morph.prototype.flushBlocksCache = function (category) {\r\n    // if no category is specified, the whole cache gets flushed\r\n    if (category) {\r\n        this.stage.blocksCache[category] = null;\r\n        this.stage.children.forEach(function (m) {\r\n            if (m instanceof SpriteMorph) {\r\n                m.blocksCache[category] = null;\r\n            }\r\n        });\r\n    } else {\r\n        this.stage.blocksCache = {};\r\n        this.stage.children.forEach(function (m) {\r\n            if (m instanceof SpriteMorph) {\r\n                m.blocksCache = {};\r\n            }\r\n        });\r\n    }\r\n    this.flushPaletteCache(category);\r\n};\r\n\r\nIDE_Morph.prototype.flushPaletteCache = function (category) {\r\n    // if no category is specified, the whole cache gets flushed\r\n    if (category) {\r\n        this.stage.paletteCache[category] = null;\r\n        this.stage.children.forEach(function (m) {\r\n            if (m instanceof SpriteMorph) {\r\n                m.paletteCache[category] = null;\r\n            }\r\n        });\r\n    } else {\r\n        this.stage.paletteCache = {};\r\n        this.stage.children.forEach(function (m) {\r\n            if (m instanceof SpriteMorph) {\r\n                m.paletteCache = {};\r\n            }\r\n        });\r\n    }\r\n};\r\n\r\nIDE_Morph.prototype.toggleZebraColoring = function () {\r\n    var scripts = [];\r\n\r\n    if (!BlockMorph.prototype.zebraContrast) {\r\n        BlockMorph.prototype.zebraContrast = 40;\r\n    } else {\r\n        BlockMorph.prototype.zebraContrast = 0;\r\n    }\r\n\r\n    // select all scripts:\r\n    this.stage.children.concat(this.stage).forEach(function (morph) {\r\n        if (isSnapObject(morph)) {\r\n            scripts = scripts.concat(\r\n                morph.scripts.children.filter(function (morph) {\r\n                    return morph instanceof BlockMorph;\r\n                })\r\n            );\r\n        }\r\n    });\r\n\r\n    // force-update all scripts:\r\n    scripts.forEach(function (topBlock) {\r\n        topBlock.fixBlockColor(null, true);\r\n    });\r\n};\r\n\r\nIDE_Morph.prototype.toggleDynamicInputLabels = function () {\r\n    var projectData;\r\n    SyntaxElementMorph.prototype.dynamicInputLabels =\r\n        !SyntaxElementMorph.prototype.dynamicInputLabels;\r\n    if (Process.prototype.isCatchingErrors) {\r\n        try {\r\n            projectData = this.serializer.serialize(this.stage);\r\n        } catch (err) {\r\n            this.showMessage('Serialization failed: ' + err);\r\n        }\r\n    } else {\r\n        projectData = this.serializer.serialize(this.stage);\r\n    }\r\n    SpriteMorph.prototype.initBlocks();\r\n    this.spriteBar.tabBar.tabTo('scripts');\r\n    this.createCategories();\r\n    this.createCorralBar();\r\n    this.openProjectString(projectData);\r\n};\r\n\r\nIDE_Morph.prototype.toggleBlurredShadows = function () {\r\n    window.useBlurredShadows = !useBlurredShadows;\r\n};\r\n\r\nIDE_Morph.prototype.toggleLongFormInputDialog = function () {\r\n    InputSlotDialogMorph.prototype.isLaunchingExpanded =\r\n        !InputSlotDialogMorph.prototype.isLaunchingExpanded;\r\n    if (InputSlotDialogMorph.prototype.isLaunchingExpanded) {\r\n        this.saveSetting('longform', true);\r\n    } else {\r\n        this.removeSetting('longform');\r\n    }\r\n};\r\n\r\nIDE_Morph.prototype.togglePlainPrototypeLabels = function () {\r\n    BlockLabelPlaceHolderMorph.prototype.plainLabel =\r\n        !BlockLabelPlaceHolderMorph.prototype.plainLabel;\r\n    if (BlockLabelPlaceHolderMorph.prototype.plainLabel) {\r\n        this.saveSetting('plainprototype', true);\r\n    } else {\r\n        this.removeSetting('plainprototype');\r\n    }\r\n};\r\n\r\nIDE_Morph.prototype.togglePreferEmptySlotDrops = function () {\r\n    ScriptsMorph.prototype.isPreferringEmptySlots =\r\n        !ScriptsMorph.prototype.isPreferringEmptySlots;\r\n};\r\n\r\nIDE_Morph.prototype.toggleVirtualKeyboard = function () {\r\n    MorphicPreferences.useVirtualKeyboard =\r\n        !MorphicPreferences.useVirtualKeyboard;\r\n};\r\n\r\nIDE_Morph.prototype.toggleInputSliders = function () {\r\n    MorphicPreferences.useSliderForInput =\r\n        !MorphicPreferences.useSliderForInput;\r\n};\r\n\r\nIDE_Morph.prototype.toggleSliderExecute = function () {\r\n    ArgMorph.prototype.executeOnSliderEdit =\r\n        !ArgMorph.prototype.executeOnSliderEdit;\r\n};\r\n\r\nIDE_Morph.prototype.toggleAppMode = function (appMode) {\r\n    var world = this.world(),\r\n        elements = [\r\n            this.logo,\r\n            this.controlBar.cloudButton,\r\n            this.controlBar.projectButton,\r\n            this.controlBar.settingsButton,\r\n            this.controlBar.steppingButton,\r\n            this.controlBar.stageSizeButton,\r\n            this.paletteHandle,\r\n            this.stageHandle,\r\n            this.corral,\r\n            this.corralBar,\r\n            this.spriteEditor,\r\n            this.spriteBar,\r\n            this.palette,\r\n            this.categories\r\n        ];\r\n\r\n    this.isAppMode = isNil(appMode) ? !this.isAppMode : appMode;\r\n\r\n    Morph.prototype.trackChanges = false;\r\n    if (this.isAppMode) {\r\n\t\tthis.wasSingleStepping = Process.prototype.enableSingleStepping;\r\n\t\tif (this.wasSingleStepping) {\r\n     \t\tthis.toggleSingleStepping();\r\n    \t}\r\n        this.setColor(this.appModeColor);\r\n        this.controlBar.setColor(this.color);\r\n        this.controlBar.appModeButton.refresh();\r\n        elements.forEach(function (e) {\r\n            e.hide();\r\n        });\r\n        world.children.forEach(function (morph) {\r\n            if (morph instanceof DialogBoxMorph) {\r\n                morph.hide();\r\n            }\r\n        });\r\n        if (world.keyboardReceiver instanceof ScriptFocusMorph) {\r\n            world.keyboardReceiver.stopEditing();\r\n        }\r\n    } else {\r\n        if (this.wasSingleStepping && !Process.prototype.enableSingleStepping) {\r\n             this.toggleSingleStepping();\r\n        }\r\n        this.setColor(this.backgroundColor);\r\n        this.controlBar.setColor(this.frameColor);\r\n        elements.forEach(function (e) {\r\n            e.show();\r\n        });\r\n        this.stage.setScale(1);\r\n        // show all hidden dialogs\r\n        world.children.forEach(function (morph) {\r\n            if (morph instanceof DialogBoxMorph) {\r\n                morph.show();\r\n            }\r\n        });\r\n        // prevent scrollbars from showing when morph appears\r\n        world.allChildren().filter(function (c) {\r\n            return c instanceof ScrollFrameMorph;\r\n        }).forEach(function (s) {\r\n            s.adjustScrollBars();\r\n        });\r\n        // prevent rotation and draggability controls from\r\n        // showing for the stage\r\n        if (this.currentSprite === this.stage) {\r\n            this.spriteBar.children.forEach(function (child) {\r\n                if (child instanceof PushButtonMorph) {\r\n                    child.hide();\r\n                }\r\n            });\r\n        }\r\n        // update undrop controls\r\n        this.currentSprite.scripts.updateToolbar();\r\n    }\r\n    this.setExtent(this.world().extent()); // resume trackChanges\r\n};\r\n\r\nIDE_Morph.prototype.toggleStageSize = function (isSmall, forcedRatio) {\r\n    var myself = this,\r\n        smallRatio = forcedRatio || 0.5,\r\n        msecs = this.isAnimating ? 100 : 0,\r\n        world = this.world(),\r\n        shiftClicked = (world.currentKey === 16),\r\n        altClicked = (world.currentKey === 18);\r\n\r\n    function toggle() {\r\n        myself.isSmallStage = isNil(isSmall) ? !myself.isSmallStage : isSmall;\r\n    }\r\n\r\n    function zoomTo(targetRatio) {\r\n        myself.isSmallStage = true;\r\n        world.animations.push(new Animation(\r\n            function (ratio) {\r\n                myself.stageRatio = ratio;\r\n                myself.setExtent(world.extent());\r\n            },\r\n            function () {\r\n                return myself.stageRatio;\r\n            },\r\n            targetRatio - myself.stageRatio,\r\n            msecs,\r\n            null, // easing\r\n            function () {\r\n                myself.isSmallStage = (targetRatio !== 1);\r\n                myself.controlBar.stageSizeButton.refresh();\r\n            }\r\n        ));\r\n    }\r\n\r\n    if (shiftClicked) {\r\n        smallRatio = SpriteIconMorph.prototype.thumbSize.x * 3 /\r\n            this.stage.dimensions.x;\r\n        if (!this.isSmallStage || (smallRatio === this.stageRatio)) {\r\n            toggle();\r\n        }\r\n    } else if (altClicked) {\r\n        smallRatio = this.width() / 2 /\r\n            this.stage.dimensions.x;\r\n        if (!this.isSmallStage || (smallRatio === this.stageRatio)) {\r\n            toggle();\r\n        }\r\n    } else {\r\n        toggle();\r\n    }\r\n    if (this.isSmallStage) {\r\n        zoomTo(smallRatio);\r\n    } else {\r\n        zoomTo(1);\r\n    }\r\n};\r\n\r\nIDE_Morph.prototype.setPaletteWidth = function (newWidth) {\r\n    var msecs = this.isAnimating ? 100 : 0,\r\n        world = this.world(),\r\n        myself = this;\r\n\r\n    world.animations.push(new Animation(\r\n        function (newWidth) {\r\n            myself.paletteWidth = newWidth;\r\n            myself.setExtent(world.extent());\r\n        },\r\n        function () {\r\n            return myself.paletteWidth;\r\n        },\r\n        newWidth - myself.paletteWidth,\r\n        msecs\r\n    ));\r\n};\r\n\r\nIDE_Morph.prototype.createNewProject = function () {\r\n    var myself = this;\r\n    this.confirm(\r\n        'Replace the current project with a new one?',\r\n        'New Project',\r\n        function () {myself.newProject(); }\r\n    );\r\n};\r\n\r\nIDE_Morph.prototype.openProjectsBrowser = function () {\r\n    new ProjectDialogMorph(this, 'open').popUp();\r\n};\r\n\r\nIDE_Morph.prototype.saveProjectsBrowser = function () {\r\n    if (this.source === 'examples') {\r\n        this.source = 'local'; // cannot save to examples\r\n    }\r\n    new ProjectDialogMorph(this, 'save').popUp();\r\n};\r\n\r\n// IDE_Morph localization\r\n\r\nIDE_Morph.prototype.languageMenu = function () {\r\n    var menu = new MenuMorph(this),\r\n        world = this.world(),\r\n        pos = this.controlBar.settingsButton.bottomLeft(),\r\n        myself = this;\r\n    SnapTranslator.languages().forEach(function (lang) {\r\n        menu.addItem(\r\n            (SnapTranslator.language === lang ? '\\u2713 ' : '    ') +\r\n                SnapTranslator.languageName(lang),\r\n            function () {\r\n                myself.loadNewProject = false;\r\n                myself.setLanguage(lang);\r\n            }\r\n        );\r\n    });\r\n    menu.popup(world, pos);\r\n};\r\n\r\n//********************Wiquid************************\r\n\r\nIDE_Morph.prototype.setLanguage = function (lang, callback) {\r\n    \r\n    if(getSnapProjectScript != \"scriptPlaceHolder\"){importString = getSnapProjectScript;}\r\n    this.openDefaultProject(importString); //Wiquid SOLUTION.\r\n  \r\n};\r\n\r\nIDE_Morph.prototype.openDefaultProject = function (impString){\r\n\r\n    var str = impString; //Wiquid Solution \r\n           if(impString != \"\"){this.openProjectString(str);}\r\n               \r\n} \r\n\r\n//***************************************************\r\n\r\nIDE_Morph.prototype.reflectLanguage = function (lang, callback) {\r\n    var projectData,\r\n        urlBar = location.hash;\r\n    SnapTranslator.language = lang;\r\n    if (!this.loadNewProject) {\r\n        if (Process.prototype.isCatchingErrors) {\r\n            try {\r\n                projectData = this.serializer.serialize(this.stage);\r\n            } catch (err) {\r\n                this.showMessage('Serialization failed: ' + err);\r\n            }\r\n        } else {\r\n            projectData = this.serializer.serialize(this.stage);\r\n        }\r\n    }\r\n    SpriteMorph.prototype.initBlocks();\r\n    this.spriteBar.tabBar.tabTo('scripts');\r\n    this.createCategories();\r\n    this.createCorralBar();\r\n    this.fixLayout();\r\n    if (this.loadNewProject) {\r\n        this.newProject();\r\n        location.hash = urlBar;\r\n    } else {\r\n        this.openProjectString(projectData);\r\n    }\r\n    this.saveSetting('language', lang);\r\n    if (callback) {callback.call(this); }\r\n};\r\n\r\n// IDE_Morph blocks scaling\r\n\r\nIDE_Morph.prototype.userSetBlocksScale = function () {\r\n    var myself = this,\r\n        scrpt,\r\n        blck,\r\n        shield,\r\n        sample,\r\n        action;\r\n\r\n    scrpt = new CommandBlockMorph();\r\n    scrpt.color = SpriteMorph.prototype.blockColor.motion;\r\n    scrpt.setSpec(localize('build'));\r\n    blck = new CommandBlockMorph();\r\n    blck.color = SpriteMorph.prototype.blockColor.sound;\r\n    blck.setSpec(localize('your own'));\r\n    scrpt.nextBlock(blck);\r\n    blck = new CommandBlockMorph();\r\n    blck.color = SpriteMorph.prototype.blockColor.operators;\r\n    blck.setSpec(localize('blocks'));\r\n    scrpt.bottomBlock().nextBlock(blck);\r\n    /*\r\n    blck = SpriteMorph.prototype.blockForSelector('doForever');\r\n    blck.inputs()[0].nestedBlock(scrpt);\r\n    */\r\n\r\n    sample = new FrameMorph();\r\n    sample.acceptsDrops = false;\r\n    sample.color = IDE_Morph.prototype.groupColor;\r\n    sample.cachedTexture = this.scriptsPaneTexture;\r\n    sample.setExtent(new Point(250, 180));\r\n    scrpt.setPosition(sample.position().add(10));\r\n    sample.add(scrpt);\r\n\r\n    shield = new Morph();\r\n    shield.alpha = 0;\r\n    shield.setExtent(sample.extent());\r\n    shield.setPosition(sample.position());\r\n    sample.add(shield);\r\n\r\n    action = function (num) {\r\n    /*\r\n        var c;\r\n        blck.setScale(num);\r\n        blck.drawNew();\r\n        blck.setSpec(blck.blockSpec);\r\n        c = blck.inputs()[0];\r\n        c.setScale(num);\r\n        c.nestedBlock(scrpt);\r\n    */\r\n        scrpt.blockSequence().forEach(function (block) {\r\n            block.setScale(num);\r\n            block.drawNew();\r\n            block.setSpec(block.blockSpec);\r\n        });\r\n        scrpt.changed();\r\n    };\r\n\r\n    new DialogBoxMorph(\r\n        null,\r\n        function (num) {\r\n            myself.setBlocksScale(Math.min(num, 12));\r\n        }\r\n    ).withKey('zoomBlocks').prompt(\r\n        'Zoom blocks',\r\n        SyntaxElementMorph.prototype.scale.toString(),\r\n        this.world(),\r\n        sample, // pic\r\n        {\r\n            'normal (1x)' : 1,\r\n            'demo (1.2x)' : 1.2,\r\n            'presentation (1.4x)' : 1.4,\r\n            'big (2x)' : 2,\r\n            'huge (4x)' : 4,\r\n            'giant (8x)' : 8,\r\n            'monstrous (10x)' : 10\r\n        },\r\n        false, // read only?\r\n        true, // numeric\r\n        1, // slider min\r\n        12, // slider max\r\n        action // slider action\r\n    );\r\n};\r\n\r\nIDE_Morph.prototype.setBlocksScale = function (num) {\r\n    var projectData;\r\n    if (Process.prototype.isCatchingErrors) {\r\n        try {\r\n            projectData = this.serializer.serialize(this.stage);\r\n        } catch (err) {\r\n            this.showMessage('Serialization failed: ' + err);\r\n        }\r\n    } else {\r\n        projectData = this.serializer.serialize(this.stage);\r\n    }\r\n    SyntaxElementMorph.prototype.setScale(num);\r\n    CommentMorph.prototype.refreshScale();\r\n    SpriteMorph.prototype.initBlocks();\r\n    this.spriteBar.tabBar.tabTo('scripts');\r\n    this.createCategories();\r\n    this.createCorralBar();\r\n    this.fixLayout();\r\n    this.openProjectString(projectData);\r\n    this.saveSetting('zoom', num);\r\n};\r\n\r\n// IDE_Morph stage size manipulation\r\n\r\nIDE_Morph.prototype.userSetStageSize = function () {\r\n    new DialogBoxMorph(\r\n        this,\r\n        this.setStageExtent,\r\n        this\r\n    ).promptVector(\r\n        \"Stage size\",\r\n        StageMorph.prototype.dimensions,\r\n        new Point(480, 360),\r\n        'Stage width',\r\n        'Stage height',\r\n        this.world(),\r\n        null, // pic\r\n        null // msg\r\n    );\r\n};\r\n\r\nIDE_Morph.prototype.setStageExtent = function (aPoint) {\r\n    var myself = this,\r\n        world = this.world(),\r\n        ext = aPoint.max(new Point(240, 180));\r\n\r\n    function zoom() {\r\n        myself.step = function () {\r\n            var delta = ext.subtract(\r\n                StageMorph.prototype.dimensions\r\n            ).divideBy(2);\r\n            if (delta.abs().lt(new Point(5, 5))) {\r\n                StageMorph.prototype.dimensions = ext;\r\n                delete myself.step;\r\n            } else {\r\n                StageMorph.prototype.dimensions =\r\n                    StageMorph.prototype.dimensions.add(delta);\r\n            }\r\n            myself.stage.setExtent(StageMorph.prototype.dimensions);\r\n            myself.stage.clearPenTrails();\r\n            myself.fixLayout();\r\n            this.setExtent(world.extent());\r\n        };\r\n    }\r\n\r\n    this.stageRatio = 1;\r\n    this.isSmallStage = false;\r\n    this.controlBar.stageSizeButton.refresh();\r\n    this.setExtent(world.extent());\r\n    if (this.isAnimating) {\r\n        zoom();\r\n    } else {\r\n        StageMorph.prototype.dimensions = ext;\r\n        this.stage.setExtent(StageMorph.prototype.dimensions);\r\n        this.stage.clearPenTrails();\r\n        this.fixLayout();\r\n        this.setExtent(world.extent());\r\n    }\r\n};\r\n\r\n// IDE_Morph dragging threshold (internal feature)\r\n\r\nIDE_Morph.prototype.userSetDragThreshold = function () {\r\n    new DialogBoxMorph(\r\n        this,\r\n        function (num) {\r\n            MorphicPreferences.grabThreshold = Math.min(\r\n                Math.max(+num, 0),\r\n                200\r\n            );\r\n        },\r\n        this\r\n    ).prompt(\r\n        \"Dragging threshold\",\r\n        MorphicPreferences.grabThreshold.toString(),\r\n        this.world(),\r\n        null, // pic\r\n        null, // choices\r\n        null, // read only\r\n        true // numeric\r\n    );\r\n};\r\n\r\n// IDE_Morph cloud interface\r\n\r\nIDE_Morph.prototype.initializeCloud = function () {\r\n    var myself = this,\r\n        world = this.world();\r\n    new DialogBoxMorph(\r\n        null,\r\n        function (user) {\r\n            var pwh = hex_sha512(user.password),\r\n                str;\r\n            SnapCloud.login(\r\n                user.username,\r\n                pwh,\r\n                function () {\r\n                    if (user.choice) {\r\n                        str = SnapCloud.encodeDict(\r\n                            {\r\n                                username: user.username,\r\n                                password: pwh\r\n                            }\r\n                        );\r\n                        localStorage['-snap-user'] = str;\r\n                    }\r\n                    myself.source = 'cloud';\r\n                    myself.showMessage('now connected.', 2);\r\n                },\r\n                myself.cloudError()\r\n            );\r\n        }\r\n    ).withKey('cloudlogin').promptCredentials(\r\n        'Sign in',\r\n        'login',\r\n        null,\r\n        null,\r\n        null,\r\n        null,\r\n        'stay signed in on this computer\\nuntil logging out',\r\n        world,\r\n        myself.cloudIcon(),\r\n        myself.cloudMsg\r\n    );\r\n};\r\n\r\nIDE_Morph.prototype.createCloudAccount = function () {\r\n    var myself = this,\r\n        world = this.world();\r\n/*\r\n    // force-logout, commented out for now:\r\n    delete localStorage['-snap-user'];\r\n    SnapCloud.clear();\r\n*/\r\n    new DialogBoxMorph(\r\n        null,\r\n        function (user) {\r\n            SnapCloud.signup(\r\n                user.username,\r\n                user.email,\r\n                function (txt, title) {\r\n                    new DialogBoxMorph().inform(\r\n                        title,\r\n                        txt +\r\n                            '.\\n\\nAn e-mail with your password\\n' +\r\n                            'has been sent to the address provided',\r\n                        world,\r\n                        myself.cloudIcon(null, new Color(0, 180, 0))\r\n                    );\r\n                },\r\n                myself.cloudError()\r\n            );\r\n        }\r\n    ).withKey('cloudsignup').promptCredentials(\r\n        'Sign up',\r\n        'signup',\r\n        'http://snap.berkeley.edu/tos.html',\r\n        'Terms of Service...',\r\n        'http://snap.berkeley.edu/privacy.html',\r\n        'Privacy...',\r\n        'I have read and agree\\nto the Terms of Service',\r\n        world,\r\n        myself.cloudIcon(),\r\n        myself.cloudMsg\r\n    );\r\n};\r\n\r\nIDE_Morph.prototype.resetCloudPassword = function () {\r\n    var myself = this,\r\n        world = this.world();\r\n/*\r\n    // force-logout, commented out for now:\r\n    delete localStorage['-snap-user'];\r\n    SnapCloud.clear();\r\n*/\r\n    new DialogBoxMorph(\r\n        null,\r\n        function (user) {\r\n            SnapCloud.resetPassword(\r\n                user.username,\r\n                function (txt, title) {\r\n                    new DialogBoxMorph().inform(\r\n                        title,\r\n                        txt +\r\n                            '.\\n\\nAn e-mail with a link to\\n' +\r\n                            'reset your password\\n' +\r\n                            'has been sent to the address provided',\r\n                        world,\r\n                        myself.cloudIcon(null, new Color(0, 180, 0))\r\n                    );\r\n                },\r\n                myself.cloudError()\r\n            );\r\n        }\r\n    ).withKey('cloudresetpassword').promptCredentials(\r\n        'Reset password',\r\n        'resetPassword',\r\n        null,\r\n        null,\r\n        null,\r\n        null,\r\n        null,\r\n        world,\r\n        myself.cloudIcon(),\r\n        myself.cloudMsg\r\n    );\r\n};\r\n\r\nIDE_Morph.prototype.changeCloudPassword = function () {\r\n    var myself = this,\r\n        world = this.world();\r\n    new DialogBoxMorph(\r\n        null,\r\n        function (user) {\r\n            SnapCloud.changePassword(\r\n                user.oldpassword,\r\n                user.password,\r\n                function () {\r\n                    myself.logout();\r\n                    myself.showMessage('password has been changed.', 2);\r\n                },\r\n                myself.cloudError()\r\n            );\r\n        }\r\n    ).withKey('cloudpassword').promptCredentials(\r\n        'Change Password',\r\n        'changePassword',\r\n        null,\r\n        null,\r\n        null,\r\n        null,\r\n        null,\r\n        world,\r\n        myself.cloudIcon(),\r\n        myself.cloudMsg\r\n    );\r\n};\r\n\r\nIDE_Morph.prototype.logout = function () {\r\n    var myself = this;\r\n    delete localStorage['-snap-user'];\r\n    SnapCloud.logout(\r\n        function () {\r\n            SnapCloud.clear();\r\n            myself.showMessage('disconnected.', 2);\r\n        },\r\n        function () {\r\n            SnapCloud.clear();\r\n            myself.showMessage('disconnected.', 2);\r\n        }\r\n    );\r\n};\r\n\r\nIDE_Morph.prototype.saveProjectToCloud = function (name) {\r\n    var myself = this;\r\n    if (name) {\r\n        this.showMessage('Saving project\\nto the cloud...');\r\n        this.setProjectName(name);\r\n        SnapCloud.saveProject(\r\n            this,\r\n            function () {myself.showMessage('saved.', 2); },\r\n            this.cloudError()\r\n        );\r\n    }\r\n};\r\n\r\nIDE_Morph.prototype.exportProjectMedia = function (name) {\r\n    var menu, media;\r\n    this.serializer.isCollectingMedia = true;\r\n    if (name) {\r\n        this.setProjectName(name);\r\n        try {\r\n            menu = this.showMessage('Exporting');\r\n            media = this.serializer.mediaXML(name);\r\n            this.saveXMLAs(media, this.projectName + ' media');\r\n            menu.destroy();\r\n            this.showMessage('Exported!', 1);\r\n        } catch (err) {\r\n            if (Process.prototype.isCatchingErrors) {\r\n                this.serializer.isCollectingMedia = false;\r\n                this.showMessage('Export failed: ' + err);\r\n            } else {\r\n                throw err;\r\n            }\r\n        }\r\n    }\r\n    this.serializer.isCollectingMedia = false;\r\n    this.serializer.flushMedia();\r\n    // this.hasChangedMedia = false;\r\n};\r\n\r\nIDE_Morph.prototype.exportProjectNoMedia = function (name) {\r\n    var menu, str;\r\n    this.serializer.isCollectingMedia = true;\r\n    if (name) {\r\n        this.setProjectName(name);\r\n        if (Process.prototype.isCatchingErrors) {\r\n            try {\r\n                menu = this.showMessage('Exporting');\r\n                str = this.serializer.serialize(this.stage);\r\n                this.saveXMLAs(str, this.projectName);\r\n                menu.destroy();\r\n                this.showMessage('Exported!', 1);\r\n            } catch (err) {\r\n                this.serializer.isCollectingMedia = false;\r\n                this.showMessage('Export failed: ' + err);\r\n            }\r\n        } else {\r\n            menu = this.showMessage('Exporting');\r\n            str = this.serializer.serialize(this.stage);\r\n            this.saveXMLAs(str, this.projectName);\r\n            menu.destroy();\r\n            this.showMessage('Exported!', 1);\r\n        }\r\n    }\r\n    this.serializer.isCollectingMedia = false;\r\n    this.serializer.flushMedia();\r\n};\r\n\r\nIDE_Morph.prototype.exportProjectAsCloudData = function (name) {\r\n    var menu, str, media, dta;\r\n    this.serializer.isCollectingMedia = true;\r\n    if (name) {\r\n        this.setProjectName(name);\r\n        if (Process.prototype.isCatchingErrors) {\r\n            try {\r\n                menu = this.showMessage('Exporting');\r\n                str = this.serializer.serialize(this.stage);\r\n                media = this.serializer.mediaXML(name);\r\n                dta = '<snapdata>' + str + media + '</snapdata>';\r\n                this.saveXMLAs(str, this.projectName);\r\n                menu.destroy();\r\n                this.showMessage('Exported!', 1);\r\n            } catch (err) {\r\n                this.serializer.isCollectingMedia = false;\r\n                this.showMessage('Export failed: ' + err);\r\n            }\r\n        } else {\r\n            menu = this.showMessage('Exporting');\r\n            str = this.serializer.serialize(this.stage);\r\n            media = this.serializer.mediaXML(name);\r\n            dta = '<snapdata>' + str + media + '</snapdata>';\r\n            this.saveXMLAs(str, this.projectName);\r\n            menu.destroy();\r\n            this.showMessage('Exported!', 1);\r\n        }\r\n    }\r\n    this.serializer.isCollectingMedia = false;\r\n    this.serializer.flushMedia();\r\n    // this.hasChangedMedia = false;\r\n};\r\n\r\nIDE_Morph.prototype.cloudAcknowledge = function () {\r\n    var myself = this;\r\n    return function (responseText, url) {\r\n        nop(responseText);\r\n        new DialogBoxMorph().inform(\r\n            'Cloud Connection',\r\n            'Successfully connected to:\\n'\r\n                + 'http://'\r\n                + url,\r\n            myself.world(),\r\n            myself.cloudIcon(null, new Color(0, 180, 0))\r\n        );\r\n    };\r\n};\r\n\r\nIDE_Morph.prototype.cloudResponse = function () {\r\n    var myself = this;\r\n    return function (responseText, url) {\r\n        var response = responseText;\r\n        if (response.length > 50) {\r\n            response = response.substring(0, 50) + '...';\r\n        }\r\n        new DialogBoxMorph().inform(\r\n            'Snap!Cloud',\r\n            'http://'\r\n                + url + ':\\n\\n'\r\n                + 'responds:\\n'\r\n                + response,\r\n            myself.world(),\r\n            myself.cloudIcon(null, new Color(0, 180, 0))\r\n        );\r\n    };\r\n};\r\n\r\nIDE_Morph.prototype.cloudError = function () {\r\n    var myself = this;\r\n\r\n    // try finding an eplanation what's going on\r\n    // has some issues, commented out for now\r\n    /*\r\n    function getURL(url) {\r\n        try {\r\n            var request = new XMLHttpRequest();\r\n            request.open('GET', url, false);\r\n            request.send();\r\n            if (request.status === 200) {\r\n                return request.responseText;\r\n            }\r\n            return null;\r\n        } catch (err) {\r\n            return null;\r\n        }\r\n    }\r\n    */\r\n\r\n    return function (responseText, url) {\r\n        // first, try to find out an explanation for the error\r\n        // and notify the user about it,\r\n        // if none is found, show an error dialog box\r\n        var response = responseText,\r\n            // explanation = getURL('http://snap.berkeley.edu/cloudmsg.txt'),\r\n            explanation = null;\r\n        if (myself.shield) {\r\n            myself.shield.destroy();\r\n            myself.shield = null;\r\n        }\r\n        if (explanation) {\r\n            myself.showMessage(explanation);\r\n            return;\r\n        }\r\n        if (response.length > 50) {\r\n            response = response.substring(0, 50) + '...';\r\n        }\r\n        new DialogBoxMorph().inform(\r\n            'Snap!Cloud',\r\n            (url ? url + '\\n' : '')\r\n                + response,\r\n            myself.world(),\r\n            myself.cloudIcon(null, new Color(180, 0, 0))\r\n        );\r\n    };\r\n};\r\n\r\nIDE_Morph.prototype.cloudIcon = function (height, color) {\r\n    var clr = color || DialogBoxMorph.prototype.titleBarColor,\r\n        isFlat = MorphicPreferences.isFlat,\r\n        icon = new SymbolMorph(\r\n            isFlat ? 'cloud' : 'cloudGradient',\r\n            height || 50,\r\n            clr,\r\n            isFlat ? null : new Point(-1, -1),\r\n            clr.darker(50)\r\n        );\r\n    if (!isFlat) {\r\n        icon.addShadow(new Point(1, 1), 1, clr.lighter(95));\r\n    }\r\n    return icon;\r\n};\r\n\r\nIDE_Morph.prototype.setCloudURL = function () {\r\n    new DialogBoxMorph(\r\n        null,\r\n        function (url) {\r\n            SnapCloud.url = url;\r\n        }\r\n    ).withKey('cloudURL').prompt(\r\n        'Cloud URL',\r\n        SnapCloud.url,\r\n        this.world(),\r\n        null,\r\n        {\r\n            'Snap!Cloud' :\r\n                'https://snap.apps.miosoft.com/SnapCloud'\r\n        }\r\n    );\r\n};\r\n\r\n// IDE_Morph HTTP data fetching\r\n\r\nIDE_Morph.prototype.getURL = function (url, callback) {\r\n    // fetch the contents of a url and pass it into the specified callback.\r\n    // If no callback is specified synchronously fetch and return it\r\n    // Note: Synchronous fetching has been deprecated and should be switched\r\n    var request = new XMLHttpRequest(),\r\n        async = callback instanceof Function,\r\n        myself = this;\r\n    try {\r\n        request.open('GET', url, async);\r\n        if (async) {\r\n            request.onreadystatechange = function () {\r\n                if (request.readyState === 4) {\r\n                    if (request.responseText) {\r\n                        callback.call(\r\n                            myself,\r\n                            request.responseText\r\n                        );\r\n                    } else {\r\n                        throw new Error('unable to retrieve ' + url);\r\n                    }\r\n                }\r\n            };\r\n        }\r\n        request.send();\r\n        if (!async) {\r\n            if (request.status === 200) {\r\n                return request.responseText;\r\n            }\r\n            throw new Error('unable to retrieve ' + url);\r\n        }\r\n    } catch (err) {\r\n        myself.showMessage(err.toString());\r\n        if (async) {\r\n            callback.call(this);\r\n        } else {\r\n            return request.responseText;\r\n        }\r\n    }\r\n};\r\n\r\n// IDE_Morph user dialog shortcuts\r\n\r\nIDE_Morph.prototype.showMessage = function (message, secs) {\r\n    var m = new MenuMorph(null, message),\r\n        intervalHandle;\r\n    m.popUpCenteredInWorld(this.world());\r\n    if (secs) {\r\n        intervalHandle = setInterval(function () {\r\n            m.destroy();\r\n            clearInterval(intervalHandle);\r\n        }, secs * 1000);\r\n    }\r\n    return m;\r\n};\r\n\r\nIDE_Morph.prototype.inform = function (title, message) {\r\n    new DialogBoxMorph().inform(\r\n        title,\r\n        localize(message),\r\n        this.world()\r\n    );\r\n};\r\n\r\nIDE_Morph.prototype.confirm = function (message, title, action) {\r\n    new DialogBoxMorph(null, action).askYesNo(\r\n        title,\r\n        localize(message),\r\n        this.world()\r\n    );\r\n};\r\n\r\nIDE_Morph.prototype.prompt = function (message, callback, choices, key) {\r\n    (new DialogBoxMorph(null, callback)).withKey(key).prompt(\r\n        message,\r\n        '',\r\n        this.world(),\r\n        null,\r\n        choices\r\n    );\r\n};\r\n\r\n// ProjectDialogMorph ////////////////////////////////////////////////////\r\n\r\n// ProjectDialogMorph inherits from DialogBoxMorph:\r\n\r\nProjectDialogMorph.prototype = new DialogBoxMorph();\r\nProjectDialogMorph.prototype.constructor = ProjectDialogMorph;\r\nProjectDialogMorph.uber = DialogBoxMorph.prototype;\r\n\r\n// ProjectDialogMorph instance creation:\r\n\r\nfunction ProjectDialogMorph(ide, label) {\r\n    this.init(ide, label);\r\n}\r\n\r\nProjectDialogMorph.prototype.init = function (ide, task) {\r\n    var myself = this;\r\n\r\n    // additional properties:\r\n    this.ide = ide;\r\n    this.task = task || 'open'; // String describing what do do (open, save)\r\n    this.source = ide.source || 'local'; // or 'cloud' or 'examples'\r\n    this.projectList = []; // [{name: , thumb: , notes:}]\r\n\r\n    this.handle = null;\r\n    this.srcBar = null;\r\n    this.nameField = null;\r\n    this.filterField = null;\r\n    this.magnifyingGlass = null;\r\n    this.listField = null;\r\n    this.preview = null;\r\n    this.notesText = null;\r\n    this.notesField = null;\r\n    this.deleteButton = null;\r\n    this.shareButton = null;\r\n    this.unshareButton = null;\r\n\r\n    // initialize inherited properties:\r\n    ProjectDialogMorph.uber.init.call(\r\n        this,\r\n        this, // target\r\n        null, // function\r\n        null // environment\r\n    );\r\n\r\n    // override inherited properites:\r\n    this.labelString = this.task === 'save' ? 'Save Project' : 'Open Project';\r\n    this.createLabel();\r\n    this.key = 'project' + task;\r\n\r\n    // build contents\r\n    this.buildContents();\r\n    this.onNextStep = function () { // yield to show \"updating\" message\r\n        myself.setSource(myself.source);\r\n    };\r\n};\r\n\r\nProjectDialogMorph.prototype.buildContents = function () {\r\n    var thumbnail, notification;\r\n\r\n    this.addBody(new Morph());\r\n    this.body.color = this.color;\r\n\r\n    this.srcBar = new AlignmentMorph('column', this.padding / 2);\r\n\r\n    if (this.ide.cloudMsg) {\r\n        notification = new TextMorph(\r\n            this.ide.cloudMsg,\r\n            10,\r\n            null, // style\r\n            false, // bold\r\n            null, // italic\r\n            null, // alignment\r\n            null, // width\r\n            null, // font name\r\n            new Point(1, 1), // shadow offset\r\n            new Color(255, 255, 255) // shadowColor\r\n        );\r\n        notification.refresh = nop;\r\n        this.srcBar.add(notification);\r\n    }\r\n\r\n    this.addSourceButton('cloud', localize('Cloud'), 'cloud');\r\n    this.addSourceButton('local', localize('Browser'), 'storage');\r\n    if (this.task === 'open') {\r\n        this.buildFilterField();\r\n        this.addSourceButton('examples', localize('Examples'), 'poster');\r\n    }\r\n    this.srcBar.fixLayout();\r\n    this.body.add(this.srcBar);\r\n\r\n    if (this.task === 'save') {\r\n        this.nameField = new InputFieldMorph(this.ide.projectName);\r\n        this.body.add(this.nameField);\r\n    }\r\n\r\n    this.listField = new ListMorph([]);\r\n    this.fixListFieldItemColors();\r\n    this.listField.fixLayout = nop;\r\n    this.listField.edge = InputFieldMorph.prototype.edge;\r\n    this.listField.fontSize = InputFieldMorph.prototype.fontSize;\r\n    this.listField.typeInPadding = InputFieldMorph.prototype.typeInPadding;\r\n    this.listField.contrast = InputFieldMorph.prototype.contrast;\r\n    this.listField.drawNew = InputFieldMorph.prototype.drawNew;\r\n    this.listField.drawRectBorder = InputFieldMorph.prototype.drawRectBorder;\r\n\r\n    this.body.add(this.listField);\r\n\r\n    this.preview = new Morph();\r\n    this.preview.fixLayout = nop;\r\n    this.preview.edge = InputFieldMorph.prototype.edge;\r\n    this.preview.fontSize = InputFieldMorph.prototype.fontSize;\r\n    this.preview.typeInPadding = InputFieldMorph.prototype.typeInPadding;\r\n    this.preview.contrast = InputFieldMorph.prototype.contrast;\r\n    this.preview.drawNew = function () {\r\n        InputFieldMorph.prototype.drawNew.call(this);\r\n        if (this.texture) {\r\n            this.drawTexture(this.texture);\r\n        }\r\n    };\r\n    this.preview.drawCachedTexture = function () {\r\n        var context = this.image.getContext('2d');\r\n        context.drawImage(this.cachedTexture, this.edge, this.edge);\r\n        this.changed();\r\n    };\r\n    this.preview.drawRectBorder = InputFieldMorph.prototype.drawRectBorder;\r\n    this.preview.setExtent(\r\n        this.ide.serializer.thumbnailSize.add(this.preview.edge * 2)\r\n    );\r\n\r\n    this.body.add(this.preview);\r\n    this.preview.drawNew();\r\n    if (this.task === 'save') {\r\n        thumbnail = this.ide.stage.thumbnail(\r\n            SnapSerializer.prototype.thumbnailSize\r\n        );\r\n        this.preview.texture = null;\r\n        this.preview.cachedTexture = thumbnail;\r\n        this.preview.drawCachedTexture();\r\n    }\r\n\r\n    this.notesField = new ScrollFrameMorph();\r\n    this.notesField.fixLayout = nop;\r\n\r\n    this.notesField.edge = InputFieldMorph.prototype.edge;\r\n    this.notesField.fontSize = InputFieldMorph.prototype.fontSize;\r\n    this.notesField.typeInPadding = InputFieldMorph.prototype.typeInPadding;\r\n    this.notesField.contrast = InputFieldMorph.prototype.contrast;\r\n    this.notesField.drawNew = InputFieldMorph.prototype.drawNew;\r\n    this.notesField.drawRectBorder = InputFieldMorph.prototype.drawRectBorder;\r\n\r\n    this.notesField.acceptsDrops = false;\r\n    this.notesField.contents.acceptsDrops = false;\r\n\r\n    if (this.task === 'open') {\r\n        this.notesText = new TextMorph('');\r\n    } else { // 'save'\r\n        this.notesText = new TextMorph(this.ide.projectNotes);\r\n        this.notesText.isEditable = true;\r\n        this.notesText.enableSelecting();\r\n    }\r\n\r\n    this.notesField.isTextLineWrapping = true;\r\n    this.notesField.padding = 3;\r\n    this.notesField.setContents(this.notesText);\r\n    this.notesField.setWidth(this.preview.width());\r\n\r\n    this.body.add(this.notesField);\r\n\r\n    if (this.task === 'open') {\r\n        this.addButton('openProject', 'Open');\r\n        this.action = 'openProject';\r\n    } else { // 'save'\r\n        this.addButton('saveProject', 'Save');\r\n        this.action = 'saveProject';\r\n    }\r\n    this.shareButton = this.addButton('shareProject', 'Share');\r\n    this.unshareButton = this.addButton('unshareProject', 'Unshare');\r\n    this.shareButton.hide();\r\n    this.unshareButton.hide();\r\n    this.deleteButton = this.addButton('deleteProject', 'Delete');\r\n    this.addButton('cancel', 'Cancel');\r\n\r\n    if (notification) {\r\n        this.setExtent(new Point(455, 335).add(notification.extent()));\r\n    } else {\r\n        this.setExtent(new Point(455, 335));\r\n    }\r\n    this.fixLayout();\r\n\r\n};\r\n\r\nProjectDialogMorph.prototype.popUp = function (wrrld) {\r\n    var world = wrrld || this.ide.world();\r\n    if (world) {\r\n        ProjectDialogMorph.uber.popUp.call(this, world);\r\n        this.handle = new HandleMorph(\r\n            this,\r\n            350,\r\n            300,\r\n            this.corner,\r\n            this.corner\r\n        );\r\n    }\r\n};\r\n\r\n// ProjectDialogMorph source buttons\r\n\r\nProjectDialogMorph.prototype.addSourceButton = function (\r\n    source,\r\n    label,\r\n    symbol\r\n) {\r\n    var myself = this,\r\n        lbl1 = new StringMorph(\r\n            label,\r\n            10,\r\n            null,\r\n            true,\r\n            null,\r\n            null,\r\n            new Point(1, 1),\r\n            new Color(255, 255, 255)\r\n        ),\r\n        lbl2 = new StringMorph(\r\n            label,\r\n            10,\r\n            null,\r\n            true,\r\n            null,\r\n            null,\r\n            new Point(-1, -1),\r\n            this.titleBarColor.darker(50),\r\n            new Color(255, 255, 255)\r\n        ),\r\n        l1 = new Morph(),\r\n        l2 = new Morph(),\r\n        button;\r\n\r\n    lbl1.add(new SymbolMorph(\r\n        symbol,\r\n        24,\r\n        this.titleBarColor.darker(20),\r\n        new Point(1, 1),\r\n        this.titleBarColor.darker(50)\r\n    ));\r\n    lbl1.children[0].setCenter(lbl1.center());\r\n    lbl1.children[0].setBottom(lbl1.top() - this.padding / 2);\r\n\r\n    l1.image = lbl1.fullImage();\r\n    l1.bounds = lbl1.fullBounds();\r\n\r\n    lbl2.add(new SymbolMorph(\r\n        symbol,\r\n        24,\r\n        new Color(255, 255, 255),\r\n        new Point(-1, -1),\r\n        this.titleBarColor.darker(50)\r\n    ));\r\n    lbl2.children[0].setCenter(lbl2.center());\r\n    lbl2.children[0].setBottom(lbl2.top() - this.padding / 2);\r\n\r\n    l2.image = lbl2.fullImage();\r\n    l2.bounds = lbl2.fullBounds();\r\n\r\n    button = new ToggleButtonMorph(\r\n        null, //colors,\r\n        myself, // the ProjectDialog is the target\r\n        function () { // action\r\n            myself.setSource(source);\r\n        },\r\n        [l1, l2],\r\n        function () {  // query\r\n            return myself.source === source;\r\n        }\r\n    );\r\n\r\n    button.corner = this.buttonCorner;\r\n    button.edge = this.buttonEdge;\r\n    button.outline = this.buttonOutline;\r\n    button.outlineColor = this.buttonOutlineColor;\r\n    button.outlineGradient = this.buttonOutlineGradient;\r\n    button.labelMinExtent = new Point(60, 0);\r\n    button.padding = this.buttonPadding;\r\n    button.contrast = this.buttonContrast;\r\n    button.pressColor = this.titleBarColor.darker(20);\r\n\r\n    button.drawNew();\r\n    button.fixLayout();\r\n    button.refresh();\r\n    this.srcBar.add(button);\r\n};\r\n\r\n// ProjectDialogMorph list field control\r\n\r\nProjectDialogMorph.prototype.fixListFieldItemColors = function () {\r\n    // remember to always fixLayout() afterwards for the changes\r\n    // to take effect\r\n    var myself = this;\r\n    this.listField.contents.children[0].alpha = 0;\r\n    this.listField.contents.children[0].children.forEach(function (item) {\r\n        item.pressColor = myself.titleBarColor.darker(20);\r\n        item.color = new Color(0, 0, 0, 0);\r\n        item.noticesTransparentClick = true;\r\n    });\r\n};\r\n\r\n// ProjectDialogMorph filter field\r\n\r\nProjectDialogMorph.prototype.buildFilterField = function () {\r\n    var myself = this;\r\n\r\n    this.filterField = new InputFieldMorph('');\r\n    this.magnifyingGlass =\r\n        new SymbolMorph(\r\n            'magnifyingGlass',\r\n            this.filterField.height(),\r\n            this.titleBarColor.darker(50));\r\n\r\n    this.body.add(this.magnifyingGlass);\r\n    this.body.add(this.filterField);\r\n\r\n    this.filterField.reactToKeystroke = function (evt) {\r\n        var text = this.getValue();\r\n\r\n        myself.listField.elements =\r\n            myself.projectList.filter(function (aProject) {\r\n                var name,\r\n                    notes;\r\n\r\n                if (aProject.ProjectName) { // cloud\r\n                    name = aProject.ProjectName;\r\n                    notes = aProject.Notes;\r\n                } else { // local or examples\r\n                    name = aProject.name;\r\n                    notes = aProject.notes || '';\r\n                }\r\n\r\n                return name.toLowerCase().indexOf(text.toLowerCase()) > -1 ||\r\n                    notes.toLowerCase().indexOf(text.toLowerCase()) > -1;\r\n            });\r\n\r\n        if (myself.listField.elements.length === 0) {\r\n            myself.listField.elements.push('(no matches)');\r\n        }\r\n\r\n        myself.clearDetails();\r\n        myself.listField.buildListContents();\r\n        myself.fixListFieldItemColors();\r\n        myself.listField.adjustScrollBars();\r\n        myself.listField.scrollY(myself.listField.top());\r\n        myself.fixLayout();\r\n    };\r\n};\r\n\r\n// ProjectDialogMorph ops\r\n\r\nProjectDialogMorph.prototype.setSource = function (source) {\r\n    var myself = this,\r\n        msg;\r\n\r\n    this.source = source; //this.task === 'save' ? 'local' : source;\r\n    this.srcBar.children.forEach(function (button) {\r\n        button.refresh();\r\n    });\r\n    switch (this.source) {\r\n    case 'cloud':\r\n        msg = myself.ide.showMessage('Updating\\nproject list...');\r\n        this.projectList = [];\r\n        SnapCloud.getProjectList(\r\n            function (projectList) {\r\n                // Don't show cloud projects if user has since switch panes.\r\n                if (myself.source === 'cloud') {\r\n                    myself.installCloudProjectList(projectList);\r\n                }\r\n                msg.destroy();\r\n            },\r\n            function (err, lbl) {\r\n                msg.destroy();\r\n                myself.ide.cloudError().call(null, err, lbl);\r\n            }\r\n        );\r\n        return;\r\n    case 'examples':\r\n        this.projectList = this.getExamplesProjectList();\r\n        break;\r\n    case 'local':\r\n        this.projectList = this.getLocalProjectList();\r\n        break;\r\n    }\r\n\r\n    this.listField.destroy();\r\n    this.listField = new ListMorph(\r\n        this.projectList,\r\n        this.projectList.length > 0 ?\r\n                function (element) {\r\n                    return element.name || element;\r\n                } : null,\r\n        null,\r\n        function () {myself.ok(); }\r\n    );\r\n\r\n    this.fixListFieldItemColors();\r\n    this.listField.fixLayout = nop;\r\n    this.listField.edge = InputFieldMorph.prototype.edge;\r\n    this.listField.fontSize = InputFieldMorph.prototype.fontSize;\r\n    this.listField.typeInPadding = InputFieldMorph.prototype.typeInPadding;\r\n    this.listField.contrast = InputFieldMorph.prototype.contrast;\r\n    this.listField.drawNew = InputFieldMorph.prototype.drawNew;\r\n    this.listField.drawRectBorder = InputFieldMorph.prototype.drawRectBorder;\r\n\r\n    if (this.source === 'local') {\r\n        this.listField.action = function (item) {\r\n            var src, xml;\r\n\r\n            if (item === undefined) {return; }\r\n            if (myself.nameField) {\r\n                myself.nameField.setContents(item.name || '');\r\n            }\r\n            if (myself.task === 'open') {\r\n\r\n                src = localStorage['-snap-project-' + item.name];\r\n\r\n                if (src) {\r\n                    xml = myself.ide.serializer.parse(src);\r\n\r\n                    myself.notesText.text = xml.childNamed('notes').contents\r\n                        || '';\r\n                    myself.notesText.drawNew();\r\n                    myself.notesField.contents.adjustBounds();\r\n                    myself.preview.texture =\r\n                        xml.childNamed('thumbnail').contents || null;\r\n                    myself.preview.cachedTexture = null;\r\n                    myself.preview.drawNew();\r\n                }\r\n            }\r\n            myself.edit();\r\n        };\r\n    } else { // 'examples'; 'cloud' is initialized elsewhere\r\n        this.listField.action = function (item) {\r\n            var src, xml;\r\n            if (item === undefined) {return; }\r\n            if (myself.nameField) {\r\n                myself.nameField.setContents(item.name || '');\r\n            }\r\n            src = myself.ide.getURL(\r\n                myself.ide.resourceURL('Examples', item.fileName)\r\n            );\r\n\r\n            xml = myself.ide.serializer.parse(src);\r\n            myself.notesText.text = xml.childNamed('notes').contents\r\n                || '';\r\n            myself.notesText.drawNew();\r\n            myself.notesField.contents.adjustBounds();\r\n            myself.preview.texture = xml.childNamed('thumbnail').contents\r\n                || null;\r\n            myself.preview.cachedTexture = null;\r\n            myself.preview.drawNew();\r\n            myself.edit();\r\n        };\r\n    }\r\n    this.body.add(this.listField);\r\n    this.shareButton.hide();\r\n    this.unshareButton.hide();\r\n    if (this.source === 'local') {\r\n        this.deleteButton.show();\r\n    } else { // examples\r\n        this.deleteButton.hide();\r\n    }\r\n    this.buttons.fixLayout();\r\n    this.fixLayout();\r\n    if (this.task === 'open') {\r\n        this.clearDetails();\r\n    }\r\n};\r\n\r\nProjectDialogMorph.prototype.getLocalProjectList = function () {\r\n    var stored, name, dta,\r\n        projects = [];\r\n    for (stored in localStorage) {\r\n        if (Object.prototype.hasOwnProperty.call(localStorage, stored)\r\n                && stored.substr(0, 14) === '-snap-project-') {\r\n            name = stored.substr(14);\r\n            dta = {\r\n                name: name,\r\n                thumb: null,\r\n                notes: null\r\n            };\r\n            projects.push(dta);\r\n        }\r\n    }\r\n    projects.sort(function (x, y) {\r\n        return x.name.toLowerCase() < y.name.toLowerCase() ? -1 : 1;\r\n    });\r\n    return projects;\r\n};\r\n\r\nProjectDialogMorph.prototype.getExamplesProjectList = function () {\r\n    return this.ide.getMediaList('Examples');\r\n};\r\n\r\nProjectDialogMorph.prototype.installCloudProjectList = function (pl) {\r\n    var myself = this;\r\n    this.projectList = pl || [];\r\n    this.projectList.sort(function (x, y) {\r\n        return x.ProjectName.toLowerCase() < y.ProjectName.toLowerCase() ?\r\n                 -1 : 1;\r\n    });\r\n\r\n    this.listField.destroy();\r\n    this.listField = new ListMorph(\r\n        this.projectList,\r\n        this.projectList.length > 0 ?\r\n                function (element) {\r\n                    return element.ProjectName || element;\r\n                } : null,\r\n        [ // format: display shared project names bold\r\n            [\r\n                'bold',\r\n                function (proj) {return proj.Public === 'true'; }\r\n            ]\r\n        ],\r\n        function () {myself.ok(); }\r\n    );\r\n    this.fixListFieldItemColors();\r\n    this.listField.fixLayout = nop;\r\n    this.listField.edge = InputFieldMorph.prototype.edge;\r\n    this.listField.fontSize = InputFieldMorph.prototype.fontSize;\r\n    this.listField.typeInPadding = InputFieldMorph.prototype.typeInPadding;\r\n    this.listField.contrast = InputFieldMorph.prototype.contrast;\r\n    this.listField.drawNew = InputFieldMorph.prototype.drawNew;\r\n    this.listField.drawRectBorder = InputFieldMorph.prototype.drawRectBorder;\r\n\r\n    this.listField.action = function (item) {\r\n        if (item === undefined) {return; }\r\n        if (myself.nameField) {\r\n            myself.nameField.setContents(item.ProjectName || '');\r\n        }\r\n        if (myself.task === 'open') {\r\n            myself.notesText.text = item.Notes || '';\r\n            myself.notesText.drawNew();\r\n            myself.notesField.contents.adjustBounds();\r\n            myself.preview.texture = item.Thumbnail || null;\r\n            myself.preview.cachedTexture = null;\r\n            myself.preview.drawNew();\r\n            (new SpeechBubbleMorph(new TextMorph(\r\n                localize('last changed') + '\\n' + item.Updated,\r\n                null,\r\n                null,\r\n                null,\r\n                null,\r\n                'center'\r\n            ))).popUp(\r\n                myself.world(),\r\n                myself.preview.rightCenter().add(new Point(2, 0))\r\n            );\r\n        }\r\n        if (item.Public === 'true') {\r\n            myself.shareButton.hide();\r\n            myself.unshareButton.show();\r\n        } else {\r\n            myself.unshareButton.hide();\r\n            myself.shareButton.show();\r\n        }\r\n        myself.buttons.fixLayout();\r\n        myself.fixLayout();\r\n        myself.edit();\r\n    };\r\n    this.body.add(this.listField);\r\n    this.shareButton.show();\r\n    this.unshareButton.hide();\r\n    this.deleteButton.show();\r\n    this.buttons.fixLayout();\r\n    this.fixLayout();\r\n    if (this.task === 'open') {\r\n        this.clearDetails();\r\n    }\r\n};\r\n\r\nProjectDialogMorph.prototype.clearDetails = function () {\r\n    this.notesText.text = '';\r\n    this.notesText.drawNew();\r\n    this.notesField.contents.adjustBounds();\r\n    this.preview.texture = null;\r\n    this.preview.cachedTexture = null;\r\n    this.preview.drawNew();\r\n};\r\n\r\nProjectDialogMorph.prototype.openProject = function () {\r\n    var proj = this.listField.selected,\r\n        src;\r\n    if (!proj) {return; }\r\n    this.ide.source = this.source;\r\n    if (this.source === 'cloud') {\r\n        this.openCloudProject(proj);\r\n    } else if (this.source === 'examples') {\r\n        // Note \"file\" is a property of the parseResourceFile function.\r\n        src = this.ide.getURL(this.ide.resourceURL('Examples', proj.fileName));\r\n        this.ide.openProjectString(src);\r\n        this.destroy();\r\n    } else { // 'local'\r\n        this.ide.openProject(proj.name);\r\n        this.destroy();\r\n    }\r\n\r\n};\r\n\r\nProjectDialogMorph.prototype.openCloudProject = function (project) {\r\n    var myself = this;\r\n    myself.ide.nextSteps([\r\n        function () {\r\n            myself.ide.showMessage('Fetching project\\nfrom the cloud...');\r\n        },\r\n        function () {\r\n            myself.rawOpenCloudProject(project);\r\n        }\r\n    ]);\r\n};\r\n\r\nProjectDialogMorph.prototype.rawOpenCloudProject = function (proj) {\r\n    var myself = this;\r\n    SnapCloud.reconnect(\r\n        function () {\r\n            SnapCloud.callService(\r\n                'getRawProject',\r\n                function (response) {\r\n                    SnapCloud.disconnect();\r\n                    /*\r\n                    if (myself.world().currentKey === 16) {\r\n                        myself.ide.download(response);\r\n                        return;\r\n                    }\r\n                    */\r\n                    myself.ide.source = 'cloud';\r\n                    myself.ide.droppedText(response);\r\n                    if (proj.Public === 'true') {\r\n                        location.hash = '#present:Username=' +\r\n                            encodeURIComponent(SnapCloud.username) +\r\n                            '&ProjectName=' +\r\n                            encodeURIComponent(proj.ProjectName);\r\n                    }\r\n                },\r\n                myself.ide.cloudError(),\r\n                [proj.ProjectName]\r\n            );\r\n        },\r\n        myself.ide.cloudError()\r\n    );\r\n    this.destroy();\r\n};\r\n\r\nProjectDialogMorph.prototype.saveProject = function () {\r\n\r\n    var name = this.nameField.contents().text.text,\r\n        notes = this.notesText.text,\r\n        myself = this;\r\n\r\n    this.ide.projectNotes = notes || this.ide.projectNotes;\r\n    if (name) {\r\n        if (this.source === 'cloud') {\r\n            if (detect(\r\n                    this.projectList,\r\n                    function (item) {return item.ProjectName === name; }\r\n                )) {\r\n                this.ide.confirm(\r\n                    localize(\r\n                        'Are you sure you want to replace'\r\n                    ) + '\\n\"' + name + '\"?',\r\n                    'Replace Project',\r\n                    function () {\r\n                        myself.ide.setProjectName(name);\r\n                        myself.saveCloudProject();\r\n                    }\r\n                );\r\n            } else {\r\n                this.ide.setProjectName(name);\r\n                myself.saveCloudProject();\r\n            }\r\n        } else { // 'local'\r\n            if (detect(\r\n                    this.projectList,\r\n                    function (item) {return item.name === name; }\r\n                )) {\r\n                this.ide.confirm(\r\n                    localize(\r\n                        'Are you sure you want to replace'\r\n                    ) + '\\n\"' + name + '\"?',\r\n                    'Replace Project',\r\n                    function () {\r\n                        myself.ide.setProjectName(name);\r\n                        myself.ide.source = 'local';\r\n                        myself.ide.saveProject(name);\r\n                        myself.destroy();\r\n                    }\r\n                );\r\n            } else {\r\n                this.ide.setProjectName(name);\r\n                myself.ide.source = 'local';\r\n                this.ide.saveProject(name);\r\n                this.destroy();\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nProjectDialogMorph.prototype.saveCloudProject = function () {\r\n    var myself = this;\r\n    this.ide.showMessage('Saving project\\nto the cloud...');\r\n    SnapCloud.saveProject(\r\n        this.ide,\r\n        function () {\r\n            myself.ide.source = 'cloud';\r\n            myself.ide.showMessage('saved.', 2);\r\n        },\r\n        this.ide.cloudError()\r\n    );\r\n    this.destroy();\r\n};\r\n\r\nProjectDialogMorph.prototype.deleteProject = function () {\r\n    var myself = this,\r\n        proj,\r\n        idx,\r\n        name;\r\n\r\n    if (this.source === 'cloud') {\r\n        proj = this.listField.selected;\r\n        if (proj) {\r\n            this.ide.confirm(\r\n                localize(\r\n                    'Are you sure you want to delete'\r\n                ) + '\\n\"' + proj.ProjectName + '\"?',\r\n                'Delete Project',\r\n                function () {\r\n                    SnapCloud.reconnect(\r\n                        function () {\r\n                            SnapCloud.callService(\r\n                                'deleteProject',\r\n                                function () {\r\n                                    SnapCloud.disconnect();\r\n                                    myself.ide.hasChangedMedia = true;\r\n                                    idx = myself.projectList.indexOf(proj);\r\n                                    myself.projectList.splice(idx, 1);\r\n                                    myself.installCloudProjectList(\r\n                                        myself.projectList\r\n                                    ); // refresh list\r\n                                },\r\n                                myself.ide.cloudError(),\r\n                                [proj.ProjectName]\r\n                            );\r\n                        },\r\n                        myself.ide.cloudError()\r\n                    );\r\n                }\r\n            );\r\n        }\r\n    } else { // 'local, examples'\r\n        if (this.listField.selected) {\r\n            name = this.listField.selected.name;\r\n            this.ide.confirm(\r\n                localize(\r\n                    'Are you sure you want to delete'\r\n                ) + '\\n\"' + name + '\"?',\r\n                'Delete Project',\r\n                function () {\r\n                    delete localStorage['-snap-project-' + name];\r\n                    myself.setSource(myself.source); // refresh list\r\n                }\r\n            );\r\n        }\r\n    }\r\n};\r\n\r\nProjectDialogMorph.prototype.shareProject = function () {\r\n    var myself = this,\r\n        ide = this.ide,\r\n        proj = this.listField.selected,\r\n        entry = this.listField.active;\r\n\r\n    if (proj) {\r\n        this.ide.confirm(\r\n            localize(\r\n                'Are you sure you want to publish'\r\n            ) + '\\n\"' + proj.ProjectName + '\"?',\r\n            'Share Project',\r\n            function () {\r\n                myself.ide.showMessage('sharing\\nproject...');\r\n                SnapCloud.reconnect(\r\n                    function () {\r\n                        SnapCloud.callService(\r\n                            'publishProject',\r\n                            function () {\r\n                                SnapCloud.disconnect();\r\n                                proj.Public = 'true';\r\n                                myself.unshareButton.show();\r\n                                myself.shareButton.hide();\r\n                                entry.label.isBold = true;\r\n                                entry.label.drawNew();\r\n                                entry.label.changed();\r\n                                myself.buttons.fixLayout();\r\n                                myself.drawNew();\r\n                                myself.ide.showMessage('shared.', 2);\r\n                            },\r\n                            myself.ide.cloudError(),\r\n                            [proj.ProjectName]\r\n                        );\r\n                        // Set the Shared URL if the project is currently open\r\n                        if (proj.ProjectName === ide.projectName) {\r\n                            var usr = SnapCloud.username,\r\n                                projectId = 'Username=' +\r\n                                    encodeURIComponent(usr.toLowerCase()) +\r\n                                    '&ProjectName=' +\r\n                                    encodeURIComponent(proj.ProjectName);\r\n                            location.hash = 'present:' + projectId;\r\n                        }\r\n                    },\r\n                    myself.ide.cloudError()\r\n                );\r\n            }\r\n        );\r\n    }\r\n};\r\n\r\nProjectDialogMorph.prototype.unshareProject = function () {\r\n    var myself = this,\r\n        ide = this.ide,\r\n        proj = this.listField.selected,\r\n        entry = this.listField.active;\r\n\r\n\r\n    if (proj) {\r\n        this.ide.confirm(\r\n            localize(\r\n                'Are you sure you want to unpublish'\r\n            ) + '\\n\"' + proj.ProjectName + '\"?',\r\n            'Unshare Project',\r\n            function () {\r\n                myself.ide.showMessage('unsharing\\nproject...');\r\n                SnapCloud.reconnect(\r\n                    function () {\r\n                        SnapCloud.callService(\r\n                            'unpublishProject',\r\n                            function () {\r\n                                SnapCloud.disconnect();\r\n                                proj.Public = 'false';\r\n                                myself.shareButton.show();\r\n                                myself.unshareButton.hide();\r\n                                entry.label.isBold = false;\r\n                                entry.label.drawNew();\r\n                                entry.label.changed();\r\n                                myself.buttons.fixLayout();\r\n                                myself.drawNew();\r\n                                myself.ide.showMessage('unshared.', 2);\r\n                            },\r\n                            myself.ide.cloudError(),\r\n                            [proj.ProjectName]\r\n                        );\r\n                        // Remove the shared URL if the project is open.\r\n                        if (proj.ProjectName === ide.projectName) {\r\n                            location.hash = '';\r\n                        }\r\n                    },\r\n                    myself.ide.cloudError()\r\n                );\r\n            }\r\n        );\r\n    }\r\n};\r\n\r\nProjectDialogMorph.prototype.edit = function () {\r\n    if (this.nameField) {\r\n        this.nameField.edit();\r\n    } else if (this.filterField) {\r\n        this.filterField.edit();\r\n    }\r\n};\r\n\r\n// ProjectDialogMorph layout\r\n\r\nProjectDialogMorph.prototype.fixLayout = function () {\r\n    var th = fontHeight(this.titleFontSize) + this.titlePadding * 2,\r\n        thin = this.padding / 2,\r\n        inputField = this.nameField || this.filterField,\r\n        oldFlag = Morph.prototype.trackChanges;\r\n\r\n    Morph.prototype.trackChanges = false;\r\n\r\n    if (this.buttons && (this.buttons.children.length > 0)) {\r\n        this.buttons.fixLayout();\r\n    }\r\n\r\n    if (this.body) {\r\n        this.body.setPosition(this.position().add(new Point(\r\n            this.padding,\r\n            th + this.padding\r\n        )));\r\n        this.body.setExtent(new Point(\r\n            this.width() - this.padding * 2,\r\n            this.height() - this.padding * 3 - th - this.buttons.height()\r\n        ));\r\n        this.srcBar.setPosition(this.body.position());\r\n\r\n        inputField.setWidth(\r\n                this.body.width() - this.srcBar.width() - this.padding * 6\r\n            );\r\n        inputField.setLeft(this.srcBar.right() + this.padding * 3);\r\n        inputField.setTop(this.srcBar.top());\r\n        inputField.drawNew();\r\n\r\n        this.listField.setLeft(this.srcBar.right() + this.padding);\r\n        this.listField.setWidth(\r\n            this.body.width()\r\n                - this.srcBar.width()\r\n                - this.preview.width()\r\n                - this.padding\r\n                - thin\r\n        );\r\n        this.listField.contents.children[0].adjustWidths();\r\n\r\n        this.listField.setTop(inputField.bottom() + this.padding);\r\n        this.listField.setHeight(\r\n            this.body.height() - inputField.height() - this.padding\r\n        );\r\n\r\n        if (this.magnifyingGlass) {\r\n            this.magnifyingGlass.setTop(inputField.top());\r\n            this.magnifyingGlass.setLeft(this.listField.left());\r\n        }\r\n\r\n        this.preview.setRight(this.body.right());\r\n        this.preview.setTop(inputField.bottom() + this.padding);\r\n\r\n        this.notesField.setTop(this.preview.bottom() + thin);\r\n        this.notesField.setLeft(this.preview.left());\r\n        this.notesField.setHeight(\r\n            this.body.bottom() - this.preview.bottom() - thin\r\n        );\r\n    }\r\n\r\n    if (this.label) {\r\n        this.label.setCenter(this.center());\r\n        this.label.setTop(this.top() + (th - this.label.height()) / 2);\r\n    }\r\n\r\n    if (this.buttons && (this.buttons.children.length > 0)) {\r\n        this.buttons.setCenter(this.center());\r\n        this.buttons.setBottom(this.bottom() - this.padding);\r\n    }\r\n\r\n    Morph.prototype.trackChanges = oldFlag;\r\n    this.changed();\r\n};\r\n\r\n// LibraryImportDialogMorph ///////////////////////////////////////////\r\n// I am preview dialog shown before importing a library.\r\n// I inherit from a DialogMorph but look similar to\r\n// ProjectDialogMorph, and BlockImportDialogMorph\r\n\r\nLibraryImportDialogMorph.prototype = new DialogBoxMorph();\r\nLibraryImportDialogMorph.prototype.constructor = LibraryImportDialogMorph;\r\nLibraryImportDialogMorph.uber = DialogBoxMorph.prototype;\r\n\r\n// LibraryImportDialogMorph instance creation:\r\n\r\nfunction LibraryImportDialogMorph(ide, librariesData) {\r\n    this.init(ide, librariesData);\r\n}\r\n\r\nLibraryImportDialogMorph.prototype.init = function (ide, librariesData) {\r\n    // initialize inherited properties:\r\n    LibraryImportDialogMorph.uber.init.call(\r\n        this,\r\n        this, // target\r\n        null, // function\r\n        null  // environment\r\n    );\r\n\r\n    this.ide = ide;\r\n    this.key = 'importLibrary';\r\n    this.librariesData = librariesData; // [{name: , fileName: , description:}]\r\n\r\n    // I contain a cached version of the libaries I have displayed,\r\n    // because users may choose to explore a library many times before\r\n    // importing.\r\n    this.libraryCache = {}; // {fileName: [blocks-array] }\r\n\r\n    this.handle = null;\r\n    this.listField = null;\r\n    this.palette = null;\r\n    this.notesText = null;\r\n    this.notesField = null;\r\n\r\n    this.labelString = 'Import library';\r\n    this.createLabel();\r\n\r\n    this.buildContents();\r\n};\r\n\r\nLibraryImportDialogMorph.prototype.buildContents = function () {\r\n    this.addBody(new Morph());\r\n    this.body.color = this.color;\r\n\r\n    this.initializePalette();\r\n    this.initializeLibraryDescription();\r\n    this.installLibrariesList();\r\n\r\n    this.addButton('importLibrary', 'Import');\r\n    this.addButton('cancel', 'Cancel');\r\n\r\n    this.setExtent(new Point(460, 455));\r\n    this.fixLayout();\r\n};\r\n\r\nLibraryImportDialogMorph.prototype.initializePalette = function () {\r\n    // I will display a scrolling list of blocks.\r\n    if (this.palette) {this.palette.destroy(); }\r\n\r\n    this.palette = new ScrollFrameMorph(\r\n        null,\r\n        null,\r\n        SpriteMorph.prototype.sliderColor\r\n    );\r\n    this.palette.color = SpriteMorph.prototype.paletteColor;\r\n    this.palette.padding = 4;\r\n    this.palette.isDraggable = false;\r\n    this.palette.acceptsDrops = false;\r\n    this.palette.contents.acceptsDrops = false;\r\n\r\n    this.body.add(this.palette);\r\n};\r\n\r\nLibraryImportDialogMorph.prototype.initializeLibraryDescription = function () {\r\n    if (this.notesField) {this.notesField.destroy(); }\r\n\r\n    this.notesField = new ScrollFrameMorph();\r\n    this.notesField.fixLayout = nop;\r\n\r\n    this.notesField.edge = InputFieldMorph.prototype.edge;\r\n    this.notesField.fontSize = InputFieldMorph.prototype.fontSize;\r\n    this.notesField.typeInPadding = InputFieldMorph.prototype.typeInPadding;\r\n    this.notesField.contrast = InputFieldMorph.prototype.contrast;\r\n    this.notesField.drawNew = InputFieldMorph.prototype.drawNew;\r\n    this.notesField.drawRectBorder = InputFieldMorph.prototype.drawRectBorder;\r\n\r\n    this.notesField.acceptsDrops = false;\r\n    this.notesField.contents.acceptsDrops = false;\r\n\r\n    this.notesText = new TextMorph('');\r\n\r\n    this.notesField.isTextLineWrapping = true;\r\n    this.notesField.padding = 3;\r\n    this.notesField.setContents(this.notesText);\r\n    this.notesField.setHeight(100);\r\n\r\n    this.body.add(this.notesField);\r\n};\r\n\r\nLibraryImportDialogMorph.prototype.installLibrariesList = function () {\r\n    var myself = this;\r\n\r\n    if (this.listField) {this.listField.destroy(); }\r\n\r\n    this.listField = new ListMorph(\r\n        this.librariesData,\r\n        function (element) {return element.name; },\r\n        null,\r\n        function () {myself.importLibrary(); }\r\n    );\r\n\r\n    this.fixListFieldItemColors();\r\n\r\n    this.listField.fixLayout = nop;\r\n    this.listField.edge = InputFieldMorph.prototype.edge;\r\n    this.listField.fontSize = InputFieldMorph.prototype.fontSize;\r\n    this.listField.typeInPadding = InputFieldMorph.prototype.typeInPadding;\r\n    this.listField.contrast = InputFieldMorph.prototype.contrast;\r\n    this.listField.drawNew = InputFieldMorph.prototype.drawNew;\r\n    this.listField.drawRectBorder = InputFieldMorph.prototype.drawRectBorder;\r\n\r\n    this.listField.action = function (item) {\r\n        if (isNil(item)) {return; }\r\n\r\n        myself.notesText.text = item.description || '';\r\n        myself.notesText.drawNew();\r\n        myself.notesField.contents.adjustBounds();\r\n\r\n        if (myself.hasCached(item.fileName)) {\r\n            myself.displayBlocks(item.fileName);\r\n        } else {\r\n            myself.showMessage(\r\n                localize('Loading') + '\\n' + localize(item.name)\r\n            );\r\n            myself.ide.getURL(\r\n                myself.ide.resourceURL('libraries', item.fileName),\r\n                function(libraryXML) {\r\n                    myself.cacheLibrary(\r\n                        item.fileName,\r\n                        myself.ide.serializer.loadBlocks(libraryXML)\r\n                    );\r\n                    myself.displayBlocks(item.fileName);\r\n                }\r\n            );\r\n        }\r\n    };\r\n\r\n    this.listField.setWidth(200);\r\n    this.body.add(this.listField);\r\n\r\n    this.fixLayout();\r\n};\r\n\r\nLibraryImportDialogMorph.prototype.popUp = function () {\r\n    var world = this.ide.world();\r\n    if (world) {\r\n        LibraryImportDialogMorph.uber.popUp.call(this, world);\r\n        this.handle = new HandleMorph(\r\n            this,\r\n            300,\r\n            300,\r\n            this.corner,\r\n            this.corner\r\n        );\r\n    }\r\n};\r\n\r\nLibraryImportDialogMorph.prototype.fixListFieldItemColors =\r\n    ProjectDialogMorph.prototype.fixListFieldItemColors;\r\n\r\nLibraryImportDialogMorph.prototype.clearDetails =\r\n    ProjectDialogMorph.prototype.clearDetails;\r\n\r\nLibraryImportDialogMorph.prototype.fixLayout = function () {\r\n    var titleHeight = fontHeight(this.titleFontSize) + this.titlePadding * 2,\r\n        thin = this.padding / 2,\r\n        oldFlag = Morph.prototype.trackChanges;\r\n\r\n    Morph.prototype.trackChanges = false;\r\n\r\n    if (this.body) {\r\n        this.body.setPosition(this.position().add(new Point(\r\n            this.padding,\r\n            titleHeight + this.padding\r\n        )));\r\n        this.body.setExtent(new Point(\r\n            this.width() - this.padding * 2,\r\n            this.height()\r\n                - this.padding * 3 // top, bottom and button padding.\r\n                - titleHeight\r\n                - this.buttons.height()\r\n        ));\r\n\r\n        this.listField.setExtent(new Point(\r\n            200,\r\n            this.body.height()\r\n        ));\r\n        this.notesField.setExtent(new Point(\r\n            this.body.width() - this.listField.width() - thin,\r\n            100\r\n        ));\r\n        this.palette.setExtent(new Point(\r\n            this.notesField.width(),\r\n            this.body.height() - this.notesField.height() - thin\r\n        ));\r\n        this.listField.contents.children[0].adjustWidths();\r\n\r\n        this.listField.setPosition(this.body.position());\r\n        this.palette.setPosition(this.listField.topRight().add(\r\n            new Point(thin, 0)\r\n        ));\r\n        this.notesField.setPosition(this.palette.bottomLeft().add(\r\n            new Point(0, thin)\r\n        ));\r\n    }\r\n\r\n    if (this.label) {\r\n        this.label.setCenter(this.center());\r\n        this.label.setTop(\r\n            this.top() + (titleHeight - this.label.height()) / 2\r\n        );\r\n    }\r\n\r\n    if (this.buttons) {\r\n        this.buttons.fixLayout();\r\n        this.buttons.setCenter(this.center());\r\n        this.buttons.setBottom(this.bottom() - this.padding);\r\n    }\r\n\r\n    Morph.prototype.trackChanges = oldFlag;\r\n    this.changed();\r\n};\r\n\r\n// Library Cache Utilities.\r\nLibraryImportDialogMorph.prototype.hasCached = function (key) {\r\n    return this.libraryCache.hasOwnProperty(key);\r\n};\r\n\r\nLibraryImportDialogMorph.prototype.cacheLibrary = function (key, blocks) {\r\n    this.libraryCache[key] = blocks ;\r\n};\r\n\r\nLibraryImportDialogMorph.prototype.cachedLibrary = function (key) {\r\n    return this.libraryCache[key];\r\n};\r\n\r\nLibraryImportDialogMorph.prototype.importLibrary = function () {\r\n    var blocks,\r\n        ide = this.ide,\r\n        selectedLibrary = this.listField.selected.fileName,\r\n        libraryName = this.listField.selected.name;\r\n\r\n    if (this.hasCached(selectedLibrary)) {\r\n        blocks = this.cachedLibrary(selectedLibrary);\r\n        blocks.forEach(function (def) {\r\n            def.receiver = ide.stage;\r\n            ide.stage.globalBlocks.push(def);\r\n            ide.stage.replaceDoubleDefinitionsFor(def);\r\n        });\r\n        ide.showMessage(localize('Imported') + ' ' + localize(libraryName), 2);\r\n    } else {\r\n        ide.showMessage(localize('Loading') + ' ' + localize(libraryName));\r\n        ide.getURL(\r\n            ide.resourceURL('libraries', selectedLibrary),\r\n            function(libraryText) {\r\n                ide.droppedText(libraryText, libraryName);\r\n            }\r\n        );\r\n    }\r\n\r\n    this.destroy();\r\n};\r\n\r\nLibraryImportDialogMorph.prototype.displayBlocks = function (libraryKey) {\r\n    var x, y, blockImage, previousCategory, blockContainer,\r\n        myself = this,\r\n        padding = 4,\r\n        blocksList = this.cachedLibrary(libraryKey);\r\n\r\n    if (!blocksList.length) {return; }\r\n    // populate palette, grouped by categories.\r\n    this.initializePalette();\r\n    x = this.palette.left() + padding;\r\n    y = this.palette.top();\r\n\r\n    SpriteMorph.prototype.categories.forEach(function (category) {\r\n        blocksList.forEach(function (definition) {\r\n            if (definition.category !== category) {return; }\r\n            if (category !== previousCategory) {\r\n                y += padding;\r\n            }\r\n            previousCategory = category;\r\n\r\n            blockImage = definition.templateInstance().fullImage();\r\n            blockContainer = new Morph();\r\n            blockContainer.setExtent(\r\n                new Point(blockImage.width, blockImage.height)\r\n            );\r\n            blockContainer.image = blockImage;\r\n            blockContainer.setPosition(new Point(x, y));\r\n            myself.palette.addContents(blockContainer);\r\n\r\n            y += blockContainer.fullBounds().height() + padding;\r\n        });\r\n    });\r\n\r\n    this.palette.scrollX(padding);\r\n    this.palette.scrollY(padding);\r\n    this.fixLayout();\r\n};\r\n\r\nLibraryImportDialogMorph.prototype.showMessage = function (msgText) {\r\n    var msg = new MenuMorph(null, msgText);\r\n    this.initializePalette();\r\n    this.fixLayout();\r\n    msg.popUpCenteredInWorld(this.palette.contents);\r\n};\r\n\r\n// SpriteIconMorph ////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a selectable element in the Sprite corral, keeping a self-updating\r\n    thumbnail of the sprite I'm respresenting, and a self-updating label\r\n    of the sprite's name (in case it is changed elsewhere)\r\n*/\r\n\r\n// SpriteIconMorph inherits from ToggleButtonMorph (Widgets)\r\n\r\nSpriteIconMorph.prototype = new ToggleButtonMorph();\r\nSpriteIconMorph.prototype.constructor = SpriteIconMorph;\r\nSpriteIconMorph.uber = ToggleButtonMorph.prototype;\r\n\r\n// SpriteIconMorph settings\r\n\r\nSpriteIconMorph.prototype.thumbSize = new Point(40, 40);\r\nSpriteIconMorph.prototype.labelShadowOffset = null;\r\nSpriteIconMorph.prototype.labelShadowColor = null;\r\nSpriteIconMorph.prototype.labelColor = new Color(255, 255, 255);\r\nSpriteIconMorph.prototype.fontSize = 9;\r\n\r\n// SpriteIconMorph instance creation:\r\n\r\nfunction SpriteIconMorph(aSprite, aTemplate) {\r\n    this.init(aSprite, aTemplate);\r\n}\r\n\r\nSpriteIconMorph.prototype.init = function (aSprite, aTemplate) {\r\n    var colors, action, query, hover, myself = this;\r\n\r\n    if (!aTemplate) {\r\n        colors = [\r\n            IDE_Morph.prototype.groupColor,\r\n            IDE_Morph.prototype.frameColor,\r\n            IDE_Morph.prototype.frameColor\r\n        ];\r\n\r\n    }\r\n\r\n    action = function () {\r\n        // make my sprite the current one\r\n        var ide = myself.parentThatIsA(IDE_Morph);\r\n\r\n        if (ide) {\r\n            ide.selectSprite(myself.object);\r\n        }\r\n    };\r\n\r\n    query = function () {\r\n        // answer true if my sprite is the current one\r\n        var ide = myself.parentThatIsA(IDE_Morph);\r\n\r\n        if (ide) {\r\n            return ide.currentSprite === myself.object;\r\n        }\r\n        return false;\r\n    };\r\n\r\n    hover = function () {\r\n        if (!aSprite.exemplar) {return null; }\r\n        return (localize('parent') + ':\\n' + aSprite.exemplar.name);\r\n    };\r\n\r\n    // additional properties:\r\n    this.object = aSprite || new SpriteMorph(); // mandatory, actually\r\n    this.version = this.object.version;\r\n    this.thumbnail = null;\r\n    this.rotationButton = null; // synchronous rotation of nested sprites\r\n\r\n    // initialize inherited properties:\r\n    SpriteIconMorph.uber.init.call(\r\n        this,\r\n        colors, // color overrides, <array>: [normal, highlight, pressed]\r\n        null, // target - not needed here\r\n        action, // a toggle function\r\n        this.object.name, // label string\r\n        query, // predicate/selector\r\n        null, // environment\r\n        hover, // hint\r\n        aTemplate // optional, for cached background images\r\n    );\r\n\r\n    // override defaults and build additional components\r\n    this.isDraggable = true;\r\n    this.createThumbnail();\r\n    this.padding = 2;\r\n    this.corner = 8;\r\n    this.fixLayout();\r\n    this.fps = 1;\r\n};\r\n\r\nSpriteIconMorph.prototype.createThumbnail = function () {\r\n    if (this.thumbnail) {\r\n        this.thumbnail.destroy();\r\n    }\r\n\r\n    this.thumbnail = new Morph();\r\n    this.thumbnail.setExtent(this.thumbSize);\r\n    if (this.object instanceof SpriteMorph) { // support nested sprites\r\n        this.thumbnail.image = this.object.fullThumbnail(this.thumbSize);\r\n        this.createRotationButton();\r\n    } else {\r\n        this.thumbnail.image = this.object.thumbnail(this.thumbSize);\r\n    }\r\n    this.add(this.thumbnail);\r\n};\r\n\r\nSpriteIconMorph.prototype.createLabel = function () {\r\n    var txt;\r\n\r\n    if (this.label) {\r\n        this.label.destroy();\r\n    }\r\n    txt = new StringMorph(\r\n        this.object.name,\r\n        this.fontSize,\r\n        this.fontStyle,\r\n        true,\r\n        false,\r\n        false,\r\n        this.labelShadowOffset,\r\n        this.labelShadowColor,\r\n        this.labelColor\r\n    );\r\n\r\n    this.label = new FrameMorph();\r\n    this.label.acceptsDrops = false;\r\n    this.label.alpha = 0;\r\n    this.label.setExtent(txt.extent());\r\n    txt.setPosition(this.label.position());\r\n    this.label.add(txt);\r\n    this.add(this.label);\r\n};\r\n\r\nSpriteIconMorph.prototype.createRotationButton = function () {\r\n    var button, myself = this;\r\n\r\n    if (this.rotationButton) {\r\n        this.rotationButton.destroy();\r\n        this.roationButton = null;\r\n    }\r\n    if (!this.object.anchor) {\r\n        return;\r\n    }\r\n\r\n    button = new ToggleButtonMorph(\r\n        null, // colors,\r\n        null, // target\r\n        function () {\r\n            myself.object.rotatesWithAnchor =\r\n                !myself.object.rotatesWithAnchor;\r\n        },\r\n        [\r\n            '\\u2192',\r\n            '\\u21BB'\r\n        ],\r\n        function () {  // query\r\n            return myself.object.rotatesWithAnchor;\r\n        }\r\n    );\r\n\r\n    button.corner = 8;\r\n    button.labelMinExtent = new Point(11, 11);\r\n    button.padding = 0;\r\n    button.pressColor = button.color;\r\n    button.drawNew();\r\n    // button.hint = 'rotate synchronously\\nwith anchor';\r\n    button.fixLayout();\r\n    button.refresh();\r\n    button.changed();\r\n    this.rotationButton = button;\r\n    this.add(this.rotationButton);\r\n};\r\n\r\n// SpriteIconMorph stepping\r\n\r\nSpriteIconMorph.prototype.step = function () {\r\n    if (this.version !== this.object.version) {\r\n        this.createThumbnail();\r\n        this.createLabel();\r\n        this.fixLayout();\r\n        this.version = this.object.version;\r\n        this.refresh();\r\n    }\r\n};\r\n\r\n// SpriteIconMorph layout\r\n\r\nSpriteIconMorph.prototype.fixLayout = function () {\r\n    if (!this.thumbnail || !this.label) {return null; }\r\n\r\n    this.setWidth(\r\n        this.thumbnail.width()\r\n            + this.outline * 2\r\n            + this.edge * 2\r\n            + this.padding * 2\r\n    );\r\n\r\n    this.setHeight(\r\n        this.thumbnail.height()\r\n            + this.outline * 2\r\n            + this.edge * 2\r\n            + this.padding * 3\r\n            + this.label.height()\r\n    );\r\n\r\n    this.thumbnail.setCenter(this.center());\r\n    this.thumbnail.setTop(\r\n        this.top() + this.outline + this.edge + this.padding\r\n    );\r\n\r\n    if (this.rotationButton) {\r\n        this.rotationButton.setTop(this.top());\r\n        this.rotationButton.setRight(this.right());\r\n    }\r\n\r\n    this.label.setWidth(\r\n        Math.min(\r\n            this.label.children[0].width(), // the actual text\r\n            this.thumbnail.width()\r\n        )\r\n    );\r\n    this.label.setCenter(this.center());\r\n    this.label.setTop(\r\n        this.thumbnail.bottom() + this.padding\r\n    );\r\n};\r\n\r\n// SpriteIconMorph menu\r\n\r\nSpriteIconMorph.prototype.userMenu = function () {\r\n    var menu = new MenuMorph(this),\r\n        myself = this;\r\n    if (this.object instanceof StageMorph) {\r\n        menu.addItem(\r\n            'pic...',\r\n            function () {\r\n                var ide = myself.parentThatIsA(IDE_Morph);\r\n                ide.saveCanvasAs(\r\n                    myself.object.fullImageClassic(),\r\n                    this.object.name\r\n                );\r\n            },\r\n            'open a new window\\nwith a picture of the stage'\r\n        );\r\n        return menu;\r\n    }\r\n    if (!(this.object instanceof SpriteMorph)) {return null; }\r\n    menu.addItem(\"show\", 'showSpriteOnStage');\r\n    menu.addLine();\r\n    menu.addItem(\"duplicate\", 'duplicateSprite');\r\n    if (StageMorph.prototype.enableInheritance) {\r\n        menu.addItem(\"clone\", 'instantiateSprite');\r\n    }\r\n    menu.addItem(\"delete\", 'removeSprite');\r\n    menu.addLine();\r\n    if (StageMorph.prototype.enableInheritance) {\r\n        /* version that hides refactoring capability unless shift-clicked\r\n        if (this.world().currentKey === 16) { // shift-clicked\r\n            menu.addItem(\r\n                \"parent...\",\r\n                'chooseExemplar',\r\n                null,\r\n                new Color(100, 0, 0)\r\n            );\r\n        }\r\n        */\r\n        menu.addItem(\"parent...\", 'chooseExemplar');\r\n        if (this.object.exemplar) {\r\n            menu.addItem(\r\n                \"release\",\r\n                'releaseSprite',\r\n                'make temporary and\\nhide in the sprite corral'\r\n            );\r\n        }\r\n    }\r\n    if (this.object.anchor) {\r\n        menu.addItem(\r\n            localize('detach from') + ' ' + this.object.anchor.name,\r\n            function () {myself.object.detachFromAnchor(); }\r\n        );\r\n    }\r\n    if (this.object.parts.length) {\r\n        menu.addItem(\r\n            'detach all parts',\r\n            function () {myself.object.detachAllParts(); }\r\n        );\r\n    }\r\n    menu.addItem(\"export...\", 'exportSprite');\r\n    return menu;\r\n};\r\n\r\nSpriteIconMorph.prototype.duplicateSprite = function () {\r\n    var ide = this.parentThatIsA(IDE_Morph);\r\n    if (ide) {\r\n        ide.duplicateSprite(this.object);\r\n    }\r\n};\r\n\r\nSpriteIconMorph.prototype.instantiateSprite = function () {\r\n    var ide = this.parentThatIsA(IDE_Morph);\r\n    if (ide) {\r\n        ide.instantiateSprite(this.object);\r\n    }\r\n};\r\n\r\nSpriteIconMorph.prototype.removeSprite = function () {\r\n    var ide = this.parentThatIsA(IDE_Morph);\r\n    if (ide) {\r\n        ide.removeSprite(this.object);\r\n    }\r\n};\r\n\r\nSpriteIconMorph.prototype.exportSprite = function () {\r\n    this.object.exportSprite();\r\n};\r\n\r\nSpriteIconMorph.prototype.chooseExemplar = function () {\r\n    this.object.chooseExemplar();\r\n};\r\n\r\nSpriteIconMorph.prototype.releaseSprite = function () {\r\n    this.object.release();\r\n};\r\n\r\nSpriteIconMorph.prototype.showSpriteOnStage = function () {\r\n    this.object.showOnStage();\r\n};\r\n\r\n// SpriteIconMorph events\r\n\r\nSpriteIconMorph.prototype.mouseDoubleClick = function () {\r\n\tif (this.object instanceof SpriteMorph) {\r\n    \tthis.object.flash();\r\n    }\r\n};\r\n\r\n// SpriteIconMorph drawing\r\n\r\nSpriteIconMorph.prototype.createBackgrounds = function () {\r\n//    only draw the edges if I am selected\r\n    var context,\r\n        ext = this.extent();\r\n\r\n    if (this.template) { // take the backgrounds images from the template\r\n        this.image = this.template.image;\r\n        this.normalImage = this.template.normalImage;\r\n        this.highlightImage = this.template.highlightImage;\r\n        this.pressImage = this.template.pressImage;\r\n        return null;\r\n    }\r\n\r\n    this.normalImage = newCanvas(ext);\r\n    context = this.normalImage.getContext('2d');\r\n    this.drawBackground(context, this.color);\r\n\r\n    this.highlightImage = newCanvas(ext);\r\n    context = this.highlightImage.getContext('2d');\r\n    this.drawBackground(context, this.highlightColor);\r\n\r\n    this.pressImage = newCanvas(ext);\r\n    context = this.pressImage.getContext('2d');\r\n    this.drawOutline(context);\r\n    this.drawBackground(context, this.pressColor);\r\n    this.drawEdges(\r\n        context,\r\n        this.pressColor,\r\n        this.pressColor.lighter(this.contrast),\r\n        this.pressColor.darker(this.contrast)\r\n    );\r\n\r\n    this.image = this.normalImage;\r\n};\r\n\r\n// SpriteIconMorph drag & drop\r\n\r\nSpriteIconMorph.prototype.prepareToBeGrabbed = function () {\r\n    var ide = this.parentThatIsA(IDE_Morph),\r\n        idx;\r\n    this.mouseClickLeft(); // select me\r\n    this.alpha = 0.85;\r\n    if (ide) {\r\n        idx = ide.sprites.asArray().indexOf(this.object);\r\n        ide.sprites.remove(idx + 1);\r\n        ide.createCorral();\r\n        ide.fixLayout();\r\n    }\r\n};\r\n\r\nSpriteIconMorph.prototype.justDropped = function () {\r\n    this.alpha = 1;\r\n};\r\n\r\nSpriteIconMorph.prototype.wantsDropOf = function (morph) {\r\n    // allow scripts & media to be copied from one sprite to another\r\n    // by drag & drop\r\n    return morph instanceof BlockMorph\r\n        || (morph instanceof CostumeIconMorph)\r\n        || (morph instanceof SoundIconMorph);\r\n};\r\n\r\nSpriteIconMorph.prototype.reactToDropOf = function (morph, hand) {\r\n    if (morph instanceof BlockMorph) {\r\n        this.copyStack(morph);\r\n    } else if (morph instanceof CostumeIconMorph) {\r\n        this.copyCostume(morph.object);\r\n    } else if (morph instanceof SoundIconMorph) {\r\n        this.copySound(morph.object);\r\n    }\r\n    this.world().add(morph);\r\n    morph.slideBackTo(hand.grabOrigin);\r\n};\r\n\r\nSpriteIconMorph.prototype.copyStack = function (block) {\r\n    var sprite = this.object,\r\n    \tdup = block.fullCopy(),\r\n        y = Math.max(sprite.scripts.children.map(function (stack) {\r\n            return stack.fullBounds().bottom();\r\n        }).concat([sprite.scripts.top()]));\r\n\r\n    dup.setPosition(new Point(sprite.scripts.left() + 20, y + 20));\r\n    sprite.scripts.add(dup);\r\n    dup.allComments().forEach(function (comment) {\r\n        comment.align(dup);\r\n    });\r\n    sprite.scripts.adjustBounds();\r\n\r\n    // delete all local custom blocks (methods) that the receiver\r\n    // doesn't understand\r\n    dup.allChildren().forEach(function (morph) {\r\n\t    if (morph.isCustomBlock &&\r\n        \t\t!morph.isGlobal &&\r\n        \t\t!sprite.getMethod(morph.blockSpec)\r\n        ) {\r\n            morph.deleteBlock();\r\n        }\r\n    });\r\n};\r\n\r\nSpriteIconMorph.prototype.copyCostume = function (costume) {\r\n    var dup = costume.copy();\r\n    dup.name = this.object.newCostumeName(dup.name);\r\n    this.object.addCostume(dup);\r\n    this.object.wearCostume(dup);\r\n};\r\n\r\nSpriteIconMorph.prototype.copySound = function (sound) {\r\n    var dup = sound.copy();\r\n    this.object.addSound(dup.audio, dup.name);\r\n};\r\n\r\n// CostumeIconMorph ////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a selectable element in the SpriteEditor's \"Costumes\" tab, keeping\r\n    a self-updating thumbnail of the costume I'm respresenting, and a\r\n    self-updating label of the costume's name (in case it is changed\r\n    elsewhere)\r\n*/\r\n\r\n// CostumeIconMorph inherits from ToggleButtonMorph (Widgets)\r\n// ... and copies methods from SpriteIconMorph\r\n\r\nCostumeIconMorph.prototype = new ToggleButtonMorph();\r\nCostumeIconMorph.prototype.constructor = CostumeIconMorph;\r\nCostumeIconMorph.uber = ToggleButtonMorph.prototype;\r\n\r\n// CostumeIconMorph settings\r\n\r\nCostumeIconMorph.prototype.thumbSize = new Point(80, 60);\r\nCostumeIconMorph.prototype.labelShadowOffset = null;\r\nCostumeIconMorph.prototype.labelShadowColor = null;\r\nCostumeIconMorph.prototype.labelColor = new Color(255, 255, 255);\r\nCostumeIconMorph.prototype.fontSize = 9;\r\n\r\n// CostumeIconMorph instance creation:\r\n\r\nfunction CostumeIconMorph(aCostume, aTemplate) {\r\n    this.init(aCostume, aTemplate);\r\n}\r\n\r\nCostumeIconMorph.prototype.init = function (aCostume, aTemplate) {\r\n    var colors, action, query, myself = this;\r\n\r\n    if (!aTemplate) {\r\n        colors = [\r\n            IDE_Morph.prototype.groupColor,\r\n            IDE_Morph.prototype.frameColor,\r\n            IDE_Morph.prototype.frameColor\r\n        ];\r\n\r\n    }\r\n\r\n    action = function () {\r\n        // make my costume the current one\r\n        var ide = myself.parentThatIsA(IDE_Morph),\r\n            wardrobe = myself.parentThatIsA(WardrobeMorph);\r\n\r\n        if (ide) {\r\n            ide.currentSprite.wearCostume(myself.object);\r\n        }\r\n        if (wardrobe) {\r\n            wardrobe.updateSelection();\r\n        }\r\n    };\r\n\r\n    query = function () {\r\n        // answer true if my costume is the current one\r\n        var ide = myself.parentThatIsA(IDE_Morph);\r\n\r\n        if (ide) {\r\n            return ide.currentSprite.costume === myself.object;\r\n        }\r\n        return false;\r\n    };\r\n\r\n    // additional properties:\r\n    this.object = aCostume || new Costume(); // mandatory, actually\r\n    this.version = this.object.version;\r\n    this.thumbnail = null;\r\n\r\n    // initialize inherited properties:\r\n    CostumeIconMorph.uber.init.call(\r\n        this,\r\n        colors, // color overrides, <array>: [normal, highlight, pressed]\r\n        null, // target - not needed here\r\n        action, // a toggle function\r\n        this.object.name, // label string\r\n        query, // predicate/selector\r\n        null, // environment\r\n        null, // hint\r\n        aTemplate // optional, for cached background images\r\n    );\r\n\r\n    // override defaults and build additional components\r\n    this.isDraggable = true;\r\n    this.createThumbnail();\r\n    this.padding = 2;\r\n    this.corner = 8;\r\n    this.fixLayout();\r\n    this.fps = 1;\r\n};\r\n\r\nCostumeIconMorph.prototype.createThumbnail = function () {\r\n    var txt;\r\n    SpriteIconMorph.prototype.createThumbnail.call(this);\r\n    if (this.object instanceof SVG_Costume) {\r\n        txt = new StringMorph(\r\n            'svg',\r\n            this.fontSize * 0.8,\r\n            this.fontStyle,\r\n            false,\r\n            false,\r\n            false,\r\n            this.labelShadowOffset,\r\n            this.labelShadowColor,\r\n            this.labelColor\r\n        );\r\n        txt.setBottom(this.thumbnail.bottom());\r\n        this.thumbnail.add(txt);\r\n    }\r\n};\r\n\r\nCostumeIconMorph.prototype.createLabel\r\n    = SpriteIconMorph.prototype.createLabel;\r\n\r\n// CostumeIconMorph stepping\r\n\r\nCostumeIconMorph.prototype.step\r\n    = SpriteIconMorph.prototype.step;\r\n\r\n// CostumeIconMorph layout\r\n\r\nCostumeIconMorph.prototype.fixLayout\r\n    = SpriteIconMorph.prototype.fixLayout;\r\n\r\n// CostumeIconMorph menu\r\n\r\nCostumeIconMorph.prototype.userMenu = function () {\r\n    var menu = new MenuMorph(this);\r\n    if (!(this.object instanceof Costume)) {return null; }\r\n    menu.addItem(\"edit\", \"editCostume\");\r\n    if (this.world().currentKey === 16) { // shift clicked\r\n        menu.addItem(\r\n            'edit rotation point only...',\r\n            'editRotationPointOnly',\r\n            null,\r\n            new Color(100, 0, 0)\r\n        );\r\n    }\r\n    menu.addItem(\"rename\", \"renameCostume\");\r\n    menu.addLine();\r\n    menu.addItem(\"duplicate\", \"duplicateCostume\");\r\n    menu.addItem(\"delete\", \"removeCostume\");\r\n    menu.addLine();\r\n    menu.addItem(\"export\", \"exportCostume\");\r\n    return menu;\r\n};\r\n\r\nCostumeIconMorph.prototype.editCostume = function () {\r\n    this.disinherit();\r\n    if (this.object instanceof SVG_Costume) {\r\n        this.object.editRotationPointOnly(this.world());\r\n    } else {\r\n        this.object.edit(\r\n            this.world(),\r\n            this.parentThatIsA(IDE_Morph),\r\n            false // not a new costume, retain existing rotation center\r\n        );\r\n    }\r\n};\r\n\r\nCostumeIconMorph.prototype.editRotationPointOnly = function () {\r\n    var ide = this.parentThatIsA(IDE_Morph);\r\n    this.object.editRotationPointOnly(this.world());\r\n    ide.hasChangedMedia = true;\r\n};\r\n\r\nCostumeIconMorph.prototype.renameCostume = function () {\r\n    this.disinherit();\r\n    var costume = this.object,\r\n        wardrobe = this.parentThatIsA(WardrobeMorph),\r\n        ide = this.parentThatIsA(IDE_Morph);\r\n    new DialogBoxMorph(\r\n        null,\r\n        function (answer) {\r\n            if (answer && (answer !== costume.name)) {\r\n                costume.name = wardrobe.sprite.newCostumeName(\r\n                    answer,\r\n                    costume\r\n                );\r\n                costume.version = Date.now();\r\n                ide.hasChangedMedia = true;\r\n            }\r\n        }\r\n    ).prompt(\r\n        this.currentSprite instanceof SpriteMorph ?\r\n            'rename costume' : 'rename background',\r\n        costume.name,\r\n        this.world()\r\n    );\r\n};\r\n\r\nCostumeIconMorph.prototype.duplicateCostume = function () {\r\n    var wardrobe = this.parentThatIsA(WardrobeMorph),\r\n        ide = this.parentThatIsA(IDE_Morph),\r\n        newcos = this.object.copy();\r\n    newcos.name = wardrobe.sprite.newCostumeName(newcos.name);\r\n    wardrobe.sprite.addCostume(newcos);\r\n    wardrobe.updateList();\r\n    if (ide) {\r\n        ide.currentSprite.wearCostume(newcos);\r\n    }\r\n};\r\n\r\nCostumeIconMorph.prototype.removeCostume = function () {\r\n    var wardrobe = this.parentThatIsA(WardrobeMorph),\r\n        idx = this.parent.children.indexOf(this),\r\n        off = CamSnapshotDialogMorph.prototype.enableCamera ? 3 : 2,\r\n        ide = this.parentThatIsA(IDE_Morph);\r\n    wardrobe.removeCostumeAt(idx - off); // ignore paintbrush and camera buttons\r\n    if (ide.currentSprite.costume === this.object) {\r\n        ide.currentSprite.wearCostume(null);\r\n    }\r\n};\r\n\r\nCostumeIconMorph.prototype.exportCostume = function () {\r\n    var ide = this.parentThatIsA(IDE_Morph);\r\n    if (this.object instanceof SVG_Costume) {\r\n        // don't show SVG costumes in a new tab (shows text)\r\n        ide.saveFileAs(this.object.contents.src, 'text/svg', this.object.name);\r\n    } else { // rasterized Costume\r\n        ide.saveCanvasAs(this.object.contents, this.object.name);\r\n    }\r\n};\r\n\r\n// CostumeIconMorph drawing\r\n\r\nCostumeIconMorph.prototype.createBackgrounds\r\n    = SpriteIconMorph.prototype.createBackgrounds;\r\n\r\n// CostumeIconMorph inheritance\r\n\r\nCostumeIconMorph.prototype.disinherit = function () {\r\n    var wardrobe = this.parentThatIsA(WardrobeMorph),\r\n        idx = this.parent.children.indexOf(this);\r\n    if (wardrobe.sprite.inheritsAttribute('costumes')) {\r\n        wardrobe.sprite.shadowAttribute('costumes');\r\n        this.object = wardrobe.sprite.costumes.at(idx - 2);\r\n    }\r\n};\r\n\r\n// CostumeIconMorph drag & drop\r\n\r\nCostumeIconMorph.prototype.prepareToBeGrabbed = function () {\r\n    this.disinherit();\r\n    this.mouseClickLeft(); // select me\r\n    this.removeCostume();\r\n};\r\n\r\n// TurtleIconMorph ////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a selectable element in the SpriteEditor's \"Costumes\" tab, keeping\r\n    a thumbnail of the sprite's or stage's default \"Turtle\" costume.\r\n*/\r\n\r\n// TurtleIconMorph inherits from ToggleButtonMorph (Widgets)\r\n// ... and copies methods from SpriteIconMorph\r\n\r\nTurtleIconMorph.prototype = new ToggleButtonMorph();\r\nTurtleIconMorph.prototype.constructor = TurtleIconMorph;\r\nTurtleIconMorph.uber = ToggleButtonMorph.prototype;\r\n\r\n// TurtleIconMorph settings\r\n\r\nTurtleIconMorph.prototype.thumbSize = new Point(80, 60);\r\nTurtleIconMorph.prototype.labelShadowOffset = null;\r\nTurtleIconMorph.prototype.labelShadowColor = null;\r\nTurtleIconMorph.prototype.labelColor = new Color(255, 255, 255);\r\nTurtleIconMorph.prototype.fontSize = 9;\r\n\r\n// TurtleIconMorph instance creation:\r\n\r\nfunction TurtleIconMorph(aSpriteOrStage, aTemplate) {\r\n    this.init(aSpriteOrStage, aTemplate);\r\n}\r\n\r\nTurtleIconMorph.prototype.init = function (aSpriteOrStage, aTemplate) {\r\n    var colors, action, query, myself = this;\r\n\r\n    if (!aTemplate) {\r\n        colors = [\r\n            IDE_Morph.prototype.groupColor,\r\n            IDE_Morph.prototype.frameColor,\r\n            IDE_Morph.prototype.frameColor\r\n        ];\r\n\r\n    }\r\n\r\n    action = function () {\r\n        // make my costume the current one\r\n        var ide = myself.parentThatIsA(IDE_Morph),\r\n            wardrobe = myself.parentThatIsA(WardrobeMorph);\r\n\r\n        if (ide) {\r\n            ide.currentSprite.wearCostume(null);\r\n        }\r\n        if (wardrobe) {\r\n            wardrobe.updateSelection();\r\n        }\r\n    };\r\n\r\n    query = function () {\r\n        // answer true if my costume is the current one\r\n        var ide = myself.parentThatIsA(IDE_Morph);\r\n\r\n        if (ide) {\r\n            return ide.currentSprite.costume === null;\r\n        }\r\n        return false;\r\n    };\r\n\r\n    // additional properties:\r\n    this.object = aSpriteOrStage; // mandatory, actually\r\n    this.version = this.object.version;\r\n    this.thumbnail = null;\r\n\r\n    // initialize inherited properties:\r\n    TurtleIconMorph.uber.init.call(\r\n        this,\r\n        colors, // color overrides, <array>: [normal, highlight, pressed]\r\n        null, // target - not needed here\r\n        action, // a toggle function\r\n        'default', // label string\r\n        query, // predicate/selector\r\n        null, // environment\r\n        null, // hint\r\n        aTemplate // optional, for cached background images\r\n    );\r\n\r\n    // override defaults and build additional components\r\n    this.isDraggable = false;\r\n    this.createThumbnail();\r\n    this.padding = 2;\r\n    this.corner = 8;\r\n    this.fixLayout();\r\n};\r\n\r\nTurtleIconMorph.prototype.createThumbnail = function () {\r\n    var isFlat = MorphicPreferences.isFlat;\r\n\r\n    if (this.thumbnail) {\r\n        this.thumbnail.destroy();\r\n    }\r\n    if (this.object instanceof SpriteMorph) {\r\n        this.thumbnail = new SymbolMorph(\r\n            'turtle',\r\n            this.thumbSize.y,\r\n            this.labelColor,\r\n            isFlat ? null : new Point(-1, -1),\r\n            new Color(0, 0, 0)\r\n        );\r\n    } else {\r\n        this.thumbnail = new SymbolMorph(\r\n            'stage',\r\n            this.thumbSize.y,\r\n            this.labelColor,\r\n            isFlat ? null : new Point(-1, -1),\r\n            new Color(0, 0, 0)\r\n        );\r\n    }\r\n    this.add(this.thumbnail);\r\n};\r\n\r\nTurtleIconMorph.prototype.createLabel = function () {\r\n    var txt;\r\n\r\n    if (this.label) {\r\n        this.label.destroy();\r\n    }\r\n    txt = new StringMorph(\r\n        localize(\r\n            this.object instanceof SpriteMorph ? 'Turtle' : 'Empty'\r\n        ),\r\n        this.fontSize,\r\n        this.fontStyle,\r\n        true,\r\n        false,\r\n        false,\r\n        this.labelShadowOffset,\r\n        this.labelShadowColor,\r\n        this.labelColor\r\n    );\r\n\r\n    this.label = new FrameMorph();\r\n    this.label.acceptsDrops = false;\r\n    this.label.alpha = 0;\r\n    this.label.setExtent(txt.extent());\r\n    txt.setPosition(this.label.position());\r\n    this.label.add(txt);\r\n    this.add(this.label);\r\n};\r\n\r\n// TurtleIconMorph layout\r\n\r\nTurtleIconMorph.prototype.fixLayout\r\n    = SpriteIconMorph.prototype.fixLayout;\r\n\r\n// TurtleIconMorph drawing\r\n\r\nTurtleIconMorph.prototype.createBackgrounds\r\n    = SpriteIconMorph.prototype.createBackgrounds;\r\n\r\n// TurtleIconMorph user menu\r\n\r\nTurtleIconMorph.prototype.userMenu = function () {\r\n    var myself = this,\r\n        menu = new MenuMorph(this, 'pen'),\r\n        on = '\\u25CF',\r\n        off = '\\u25CB';\r\n    if (this.object instanceof StageMorph) {\r\n        return null;\r\n    }\r\n    menu.addItem(\r\n        (this.object.penPoint === 'tip' ? on : off) + ' ' + localize('tip'),\r\n        function () {\r\n            myself.object.penPoint = 'tip';\r\n            myself.object.changed();\r\n            myself.object.drawNew();\r\n            myself.object.changed();\r\n        }\r\n    );\r\n    menu.addItem(\r\n        (this.object.penPoint === 'middle' ? on : off) + ' ' + localize(\r\n            'middle'\r\n        ),\r\n        function () {\r\n            myself.object.penPoint = 'middle';\r\n            myself.object.changed();\r\n            myself.object.drawNew();\r\n            myself.object.changed();\r\n        }\r\n    );\r\n    return menu;\r\n};\r\n\r\n// WardrobeMorph ///////////////////////////////////////////////////////\r\n\r\n// I am a watcher on a sprite's costume list\r\n\r\n// WardrobeMorph inherits from ScrollFrameMorph\r\n\r\nWardrobeMorph.prototype = new ScrollFrameMorph();\r\nWardrobeMorph.prototype.constructor = WardrobeMorph;\r\nWardrobeMorph.uber = ScrollFrameMorph.prototype;\r\n\r\n// WardrobeMorph settings\r\n\r\n// ... to follow ...\r\n\r\n// WardrobeMorph instance creation:\r\n\r\nfunction WardrobeMorph(aSprite, sliderColor) {\r\n    this.init(aSprite, sliderColor);\r\n}\r\n\r\nWardrobeMorph.prototype.init = function (aSprite, sliderColor) {\r\n    // additional properties\r\n    this.sprite = aSprite || new SpriteMorph();\r\n    this.costumesVersion = null;\r\n    this.spriteVersion = null;\r\n\r\n    // initialize inherited properties\r\n    WardrobeMorph.uber.init.call(this, null, null, sliderColor);\r\n\r\n    // configure inherited properties\r\n    this.fps = 2;\r\n    this.updateList();\r\n};\r\n\r\n// Wardrobe updating\r\n\r\nWardrobeMorph.prototype.updateList = function () {\r\n    var myself = this,\r\n        x = this.left() + 5,\r\n        y = this.top() + 5,\r\n        padding = 4,\r\n        toolsPadding = 5,\r\n        oldFlag = Morph.prototype.trackChanges,\r\n        oldPos = this.contents.position(),\r\n        icon,\r\n        template,\r\n        txt,\r\n        paintbutton,\r\n        cambutton;\r\n\r\n    this.changed();\r\n    oldFlag = Morph.prototype.trackChanges;\r\n    Morph.prototype.trackChanges = false;\r\n\r\n    this.contents.destroy();\r\n    this.contents = new FrameMorph(this);\r\n    this.contents.acceptsDrops = false;\r\n    this.contents.reactToDropOf = function (icon) {\r\n        myself.reactToDropOf(icon);\r\n    };\r\n    this.addBack(this.contents);\r\n\r\n    icon = new TurtleIconMorph(this.sprite);\r\n    icon.setPosition(new Point(x, y));\r\n    myself.addContents(icon);\r\n    y = icon.bottom() + padding;\r\n\r\n    paintbutton = new PushButtonMorph(\r\n        this,\r\n        \"paintNew\",\r\n        new SymbolMorph(\"brush\", 15)\r\n    );\r\n    paintbutton.padding = 0;\r\n    paintbutton.corner = 12;\r\n    paintbutton.color = IDE_Morph.prototype.groupColor;\r\n    paintbutton.highlightColor = IDE_Morph.prototype.frameColor.darker(50);\r\n    paintbutton.pressColor = paintbutton.highlightColor;\r\n    paintbutton.labelMinExtent = new Point(36, 18);\r\n    paintbutton.labelShadowOffset = new Point(-1, -1);\r\n    paintbutton.labelShadowColor = paintbutton.highlightColor;\r\n    paintbutton.labelColor = TurtleIconMorph.prototype.labelColor;\r\n    paintbutton.contrast = this.buttonContrast;\r\n    paintbutton.drawNew();\r\n    paintbutton.hint = \"Paint a new costume\";\r\n    paintbutton.setPosition(new Point(x, y));\r\n    paintbutton.fixLayout();\r\n    paintbutton.setCenter(icon.center());\r\n    paintbutton.setLeft(icon.right() + padding * 4);\r\n\r\n    this.addContents(paintbutton);\r\n\r\n    if (CamSnapshotDialogMorph.prototype.enableCamera) {\r\n        cambutton = new PushButtonMorph(\r\n            this,\r\n            \"newFromCam\",\r\n            new SymbolMorph(\"camera\", 15)\r\n            );\r\n        cambutton.padding = 0;\r\n        cambutton.corner = 12;\r\n        cambutton.color = IDE_Morph.prototype.groupColor;\r\n        cambutton.highlightColor = IDE_Morph.prototype.frameColor.darker(50);\r\n        cambutton.pressColor = paintbutton.highlightColor;\r\n        cambutton.labelMinExtent = new Point(36, 18);\r\n        cambutton.labelShadowOffset = new Point(-1, -1);\r\n        cambutton.labelShadowColor = paintbutton.highlightColor;\r\n        cambutton.labelColor = TurtleIconMorph.prototype.labelColor;\r\n        cambutton.contrast = this.buttonContrast;\r\n        cambutton.drawNew();\r\n        cambutton.hint = \"Import a new costume from your webcam\";\r\n        cambutton.setPosition(new Point(x, y));\r\n        cambutton.fixLayout();\r\n        cambutton.setCenter(paintbutton.center());\r\n        cambutton.setLeft(paintbutton.right() + toolsPadding);\r\n\r\n        this.addContents(cambutton);\r\n\r\n        if (!CamSnapshotDialogMorph.prototype.enabled) {\r\n            cambutton.disable();\r\n            cambutton.hint = CamSnapshotDialogMorph.prototype.notSupportedMessage;\r\n        }\r\n\r\n        document.addEventListener(\r\n            'cameraDisabled',\r\n            function () {\r\n                cambutton.disable();\r\n                cambutton.hint =\r\n                    CamSnapshotDialogMorph.prototype.notSupportedMessage;\r\n            }\r\n        );\r\n    }\r\n\r\n    txt = new TextMorph(localize(\r\n        \"costumes tab help\" // look up long string in translator\r\n    ));\r\n    txt.fontSize = 9;\r\n    txt.setColor(SpriteMorph.prototype.paletteTextColor);\r\n\r\n    txt.setPosition(new Point(x, y));\r\n    this.addContents(txt);\r\n    y = txt.bottom() + padding;\r\n\r\n    this.sprite.costumes.asArray().forEach(function (costume) {\r\n        template = icon = new CostumeIconMorph(costume, template);\r\n        icon.setPosition(new Point(x, y));\r\n        myself.addContents(icon);\r\n        y = icon.bottom() + padding;\r\n    });\r\n    this.costumesVersion = this.sprite.costumes.lastChanged;\r\n\r\n    this.contents.setPosition(oldPos);\r\n    this.adjustScrollBars();\r\n    Morph.prototype.trackChanges = oldFlag;\r\n    this.changed();\r\n\r\n    this.updateSelection();\r\n};\r\n\r\nWardrobeMorph.prototype.updateSelection = function () {\r\n    this.contents.children.forEach(function (morph) {\r\n        if (morph.refresh) {morph.refresh(); }\r\n    });\r\n    this.spriteVersion = this.sprite.version;\r\n};\r\n\r\n// Wardrobe stepping\r\n\r\nWardrobeMorph.prototype.step = function () {\r\n    if (this.costumesVersion !== this.sprite.costumes.lastChanged) {\r\n        this.updateList();\r\n    }\r\n    if (this.spriteVersion !== this.sprite.version) {\r\n        this.updateSelection();\r\n    }\r\n};\r\n\r\n// Wardrobe ops\r\n\r\nWardrobeMorph.prototype.removeCostumeAt = function (idx) {\r\n    this.sprite.shadowAttribute('costumes');\r\n    this.sprite.costumes.remove(idx);\r\n    this.updateList();\r\n};\r\n\r\nWardrobeMorph.prototype.paintNew = function () {\r\n    var cos = new Costume(\r\n            newCanvas(null, true),\r\n            this.sprite.newCostumeName(localize('Untitled'))\r\n        ),\r\n        ide = this.parentThatIsA(IDE_Morph),\r\n        myself = this;\r\n    cos.edit(this.world(), ide, true, null, function () {\r\n        myself.sprite.shadowAttribute('costumes');\r\n        myself.sprite.addCostume(cos);\r\n        myself.updateList();\r\n        if (ide) {\r\n            ide.currentSprite.wearCostume(cos);\r\n        }\r\n    });\r\n};\r\n\r\nWardrobeMorph.prototype.newFromCam = function () {\r\n    var camDialog,\r\n        ide = this.parentThatIsA(IDE_Morph),\r\n        myself = this,\r\n        sprite = this.sprite;\r\n\r\n    camDialog = new CamSnapshotDialogMorph(\r\n        ide,\r\n        sprite,\r\n        nop,\r\n        function (costume) {\r\n            sprite.addCostume(costume);\r\n            sprite.wearCostume(costume);\r\n            myself.updateList();\r\n        });\r\n\r\n    camDialog.popUp(this.world());\r\n};\r\n\r\n// Wardrobe drag & drop\r\n\r\nWardrobeMorph.prototype.wantsDropOf = function (morph) {\r\n    return morph instanceof CostumeIconMorph;\r\n};\r\n\r\nWardrobeMorph.prototype.reactToDropOf = function (icon) {\r\n    var idx = 0,\r\n        costume = icon.object,\r\n        top = icon.top();\r\n\r\n    icon.destroy();\r\n    this.contents.children.forEach(function (item) {\r\n        if (item instanceof CostumeIconMorph && item.top() < top - 4) {\r\n            idx += 1;\r\n        }\r\n    });\r\n    this.sprite.shadowAttribute('costumes');\r\n    this.sprite.costumes.add(costume, idx + 1);\r\n    this.updateList();\r\n    icon.mouseClickLeft(); // select\r\n};\r\n\r\n// SoundIconMorph ///////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am an element in the SpriteEditor's \"Sounds\" tab.\r\n*/\r\n\r\n// SoundIconMorph inherits from ToggleButtonMorph (Widgets)\r\n// ... and copies methods from SpriteIconMorph\r\n\r\nSoundIconMorph.prototype = new ToggleButtonMorph();\r\nSoundIconMorph.prototype.constructor = SoundIconMorph;\r\nSoundIconMorph.uber = ToggleButtonMorph.prototype;\r\n\r\n// SoundIconMorph settings\r\n\r\nSoundIconMorph.prototype.thumbSize = new Point(80, 60);\r\nSoundIconMorph.prototype.labelShadowOffset = null;\r\nSoundIconMorph.prototype.labelShadowColor = null;\r\nSoundIconMorph.prototype.labelColor = new Color(255, 255, 255);\r\nSoundIconMorph.prototype.fontSize = 9;\r\n\r\n// SoundIconMorph instance creation:\r\n\r\nfunction SoundIconMorph(aSound, aTemplate) {\r\n    this.init(aSound, aTemplate);\r\n}\r\n\r\nSoundIconMorph.prototype.init = function (aSound, aTemplate) {\r\n    var colors, action, query;\r\n\r\n    if (!aTemplate) {\r\n        colors = [\r\n            IDE_Morph.prototype.groupColor,\r\n            IDE_Morph.prototype.frameColor,\r\n            IDE_Morph.prototype.frameColor\r\n        ];\r\n\r\n    }\r\n\r\n    action = function () {\r\n        nop(); // When I am selected (which is never the case for sounds)\r\n    };\r\n\r\n    query = function () {\r\n        return false;\r\n    };\r\n\r\n    // additional properties:\r\n    this.object = aSound; // mandatory, actually\r\n    this.version = this.object.version;\r\n    this.thumbnail = null;\r\n\r\n    // initialize inherited properties:\r\n    SoundIconMorph.uber.init.call(\r\n        this,\r\n        colors, // color overrides, <array>: [normal, highlight, pressed]\r\n        null, // target - not needed here\r\n        action, // a toggle function\r\n        this.object.name, // label string\r\n        query, // predicate/selector\r\n        null, // environment\r\n        null, // hint\r\n        aTemplate // optional, for cached background images\r\n    );\r\n\r\n    // override defaults and build additional components\r\n    this.isDraggable = true;\r\n    this.createThumbnail();\r\n    this.padding = 2;\r\n    this.corner = 8;\r\n    this.fixLayout();\r\n    this.fps = 1;\r\n};\r\n\r\nSoundIconMorph.prototype.createThumbnail = function () {\r\n    var label;\r\n    if (this.thumbnail) {\r\n        this.thumbnail.destroy();\r\n    }\r\n    this.thumbnail = new Morph();\r\n    this.thumbnail.setExtent(this.thumbSize);\r\n    this.add(this.thumbnail);\r\n    label = new StringMorph(\r\n        this.createInfo(),\r\n        '16',\r\n        '',\r\n        true,\r\n        false,\r\n        false,\r\n        this.labelShadowOffset,\r\n        this.labelShadowColor,\r\n        new Color(200, 200, 200)\r\n    );\r\n    this.thumbnail.add(label);\r\n    label.setCenter(new Point(40, 15));\r\n\r\n    this.button = new PushButtonMorph(\r\n        this,\r\n        'toggleAudioPlaying',\r\n        (this.object.previewAudio ? 'Stop' : 'Play')\r\n    );\r\n    this.button.drawNew();\r\n    this.button.hint = 'Play sound';\r\n    this.button.fixLayout();\r\n    this.thumbnail.add(this.button);\r\n    this.button.setCenter(new Point(40, 40));\r\n};\r\n\r\nSoundIconMorph.prototype.createInfo = function () {\r\n    var dur = Math.round(this.object.audio.duration || 0),\r\n        mod = dur % 60;\r\n    return Math.floor(dur / 60).toString()\r\n            + \":\"\r\n            + (mod < 10 ? \"0\" : \"\")\r\n            + mod.toString();\r\n};\r\n\r\nSoundIconMorph.prototype.toggleAudioPlaying = function () {\r\n    var myself = this;\r\n    if (!this.object.previewAudio) {\r\n        //Audio is not playing\r\n        this.button.labelString = 'Stop';\r\n        this.button.hint = 'Stop sound';\r\n        this.object.previewAudio = this.object.play();\r\n        this.object.previewAudio.addEventListener('ended', function () {\r\n            myself.audioHasEnded();\r\n        }, false);\r\n    } else {\r\n        //Audio is currently playing\r\n        this.button.labelString = 'Play';\r\n        this.button.hint = 'Play sound';\r\n        this.object.previewAudio.pause();\r\n        this.object.previewAudio.terminated = true;\r\n        this.object.previewAudio = null;\r\n    }\r\n    this.button.createLabel();\r\n};\r\n\r\nSoundIconMorph.prototype.audioHasEnded = function () {\r\n    this.button.trigger();\r\n    this.button.mouseLeave();\r\n};\r\n\r\nSoundIconMorph.prototype.createLabel\r\n    = SpriteIconMorph.prototype.createLabel;\r\n\r\n// SoundIconMorph stepping\r\n\r\n/*\r\nSoundIconMorph.prototype.step\r\n    = SpriteIconMorph.prototype.step;\r\n*/\r\n\r\n// SoundIconMorph layout\r\n\r\nSoundIconMorph.prototype.fixLayout\r\n    = SpriteIconMorph.prototype.fixLayout;\r\n\r\n// SoundIconMorph menu\r\n\r\nSoundIconMorph.prototype.userMenu = function () {\r\n    var menu = new MenuMorph(this);\r\n    if (!(this.object instanceof Sound)) { return null; }\r\n    menu.addItem('rename', 'renameSound');\r\n    menu.addItem('delete', 'removeSound');\r\n    return menu;\r\n};\r\n\r\n\r\nSoundIconMorph.prototype.renameSound = function () {\r\n    var sound = this.object,\r\n        ide = this.parentThatIsA(IDE_Morph),\r\n        myself = this;\r\n    this.disinherit();\r\n    (new DialogBoxMorph(\r\n        null,\r\n        function (answer) {\r\n            if (answer && (answer !== sound.name)) {\r\n                sound.name = answer;\r\n                sound.version = Date.now();\r\n                myself.createLabel(); // can be omitted once I'm stepping\r\n                myself.fixLayout(); // can be omitted once I'm stepping\r\n                ide.hasChangedMedia = true;\r\n            }\r\n        }\r\n    )).prompt(\r\n        'rename sound',\r\n        sound.name,\r\n        this.world()\r\n    );\r\n};\r\n\r\nSoundIconMorph.prototype.removeSound = function () {\r\n    var jukebox = this.parentThatIsA(JukeboxMorph),\r\n        idx = this.parent.children.indexOf(this);\r\n    jukebox.removeSound(idx);\r\n};\r\n\r\nSoundIconMorph.prototype.createBackgrounds\r\n    = SpriteIconMorph.prototype.createBackgrounds;\r\n\r\nSoundIconMorph.prototype.createLabel\r\n    = SpriteIconMorph.prototype.createLabel;\r\n\r\n// SoundIconMorph inheritance\r\n\r\nSoundIconMorph.prototype.disinherit = function () {\r\n    var jukebox = this.parentThatIsA(JukeboxMorph),\r\n        idx = this.parent.children.indexOf(this);\r\n    if (jukebox.sprite.inheritsAttribute('sounds')) {\r\n        jukebox.sprite.shadowAttribute('sounds');\r\n        this.object = jukebox.sprite.sounds.at(idx);\r\n    }\r\n};\r\n\r\n// SoundIconMorph drag & drop\r\n\r\nSoundIconMorph.prototype.prepareToBeGrabbed = function () {\r\n    this.disinherit();\r\n    this.removeSound();\r\n};\r\n\r\n// JukeboxMorph /////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am JukeboxMorph, like WardrobeMorph, but for sounds\r\n*/\r\n\r\n// JukeboxMorph instance creation\r\n\r\nJukeboxMorph.prototype = new ScrollFrameMorph();\r\nJukeboxMorph.prototype.constructor = JukeboxMorph;\r\nJukeboxMorph.uber = ScrollFrameMorph.prototype;\r\n\r\nfunction JukeboxMorph(aSprite, sliderColor) {\r\n    this.init(aSprite, sliderColor);\r\n}\r\n\r\nJukeboxMorph.prototype.init = function (aSprite, sliderColor) {\r\n    // additional properties\r\n    this.sprite = aSprite || new SpriteMorph();\r\n    this.soundsVersion = null;\r\n    this.spriteVersion = null;\r\n\r\n    // initialize inherited properties\r\n    JukeboxMorph.uber.init.call(this, null, null, sliderColor);\r\n\r\n    // configure inherited properties\r\n    this.acceptsDrops = false;\r\n    this.fps = 2;\r\n    this.updateList();\r\n};\r\n\r\n// Jukebox updating\r\n\r\nJukeboxMorph.prototype.updateList = function () {\r\n    var myself = this,\r\n        x = this.left() + 5,\r\n        y = this.top() + 5,\r\n        padding = 4,\r\n        oldFlag = Morph.prototype.trackChanges,\r\n        icon,\r\n        template,\r\n        txt;\r\n\r\n    this.changed();\r\n    oldFlag = Morph.prototype.trackChanges;\r\n    Morph.prototype.trackChanges = false;\r\n\r\n    this.contents.destroy();\r\n    this.contents = new FrameMorph(this);\r\n    this.contents.acceptsDrops = false;\r\n    this.contents.reactToDropOf = function (icon) {\r\n        myself.reactToDropOf(icon);\r\n    };\r\n    this.addBack(this.contents);\r\n\r\n    txt = new TextMorph(localize(\r\n        'import a sound from your computer\\nby dragging it into here'\r\n    ));\r\n    txt.fontSize = 9;\r\n    txt.setColor(SpriteMorph.prototype.paletteTextColor);\r\n    txt.setPosition(new Point(x, y));\r\n    this.addContents(txt);\r\n    y = txt.bottom() + padding;\r\n\r\n    this.sprite.sounds.asArray().forEach(function (sound) {\r\n        template = icon = new SoundIconMorph(sound, template);\r\n        icon.setPosition(new Point(x, y));\r\n        myself.addContents(icon);\r\n        y = icon.bottom() + padding;\r\n    });\r\n    this.soundsVersion = this.sprite.costumes.lastChanged;\r\n\r\n    Morph.prototype.trackChanges = oldFlag;\r\n    this.changed();\r\n\r\n    this.updateSelection();\r\n};\r\n\r\nJukeboxMorph.prototype.updateSelection = function () {\r\n    this.contents.children.forEach(function (morph) {\r\n        if (morph.refresh) {morph.refresh(); }\r\n    });\r\n    this.spriteVersion = this.sprite.version;\r\n};\r\n\r\n// Jukebox stepping\r\n\r\nJukeboxMorph.prototype.step = function () {\r\n    if (this.soundsVersion !== this.sprite.sounds.lastChanged) {\r\n        this.updateList();\r\n    }\r\n    if (this.spriteVersion !== this.sprite.version) {\r\n        this.updateSelection();\r\n    }\r\n};\r\n\r\n// Jukebox ops\r\n\r\nJukeboxMorph.prototype.removeSound = function (idx) {\r\n    this.sprite.sounds.remove(idx);\r\n    this.updateList();\r\n};\r\n\r\n// Jukebox drag & drop\r\n\r\nJukeboxMorph.prototype.wantsDropOf = function (morph) {\r\n    return morph instanceof SoundIconMorph;\r\n};\r\n\r\nJukeboxMorph.prototype.reactToDropOf = function (icon) {\r\n    var idx = 0,\r\n        costume = icon.object,\r\n        top = icon.top();\r\n\r\n    icon.destroy();\r\n    this.contents.children.forEach(function (item) {\r\n        if (item.top() < top - 4) {\r\n            idx += 1;\r\n        }\r\n    });\r\n\r\n    this.sprite.shadowAttribute('sounds');\r\n    this.sprite.sounds.add(costume, idx);\r\n    this.updateList();\r\n};\r\n\r\n// StageHandleMorph ////////////////////////////////////////////////////////\r\n\r\n// I am a horizontal resizing handle for a StageMorph\r\n\r\n// StageHandleMorph inherits from Morph:\r\n\r\nStageHandleMorph.prototype = new Morph();\r\nStageHandleMorph.prototype.constructor = StageHandleMorph;\r\nStageHandleMorph.uber = Morph.prototype;\r\n\r\n// StageHandleMorph instance creation:\r\n\r\nfunction StageHandleMorph(target) {\r\n    this.init(target);\r\n}\r\n\r\nStageHandleMorph.prototype.init = function (target) {\r\n    this.target = target || null;\r\n    HandleMorph.uber.init.call(this);\r\n    this.color = MorphicPreferences.isFlat ?\r\n            IDE_Morph.prototype.groupColor : new Color(190, 190, 190);\r\n    this.isDraggable = false;\r\n    this.noticesTransparentClick = true;\r\n    this.setExtent(new Point(12, 50));\r\n};\r\n\r\n// StageHandleMorph drawing:\r\n\r\nStageHandleMorph.prototype.drawNew = function () {\r\n    this.normalImage = newCanvas(this.extent());\r\n    this.highlightImage = newCanvas(this.extent());\r\n    this.drawOnCanvas(\r\n        this.normalImage,\r\n        this.color\r\n    );\r\n    this.drawOnCanvas(\r\n        this.highlightImage,\r\n        MorphicPreferences.isFlat ?\r\n                new Color(245, 245, 255) : new Color(100, 100, 255),\r\n        this.color\r\n    );\r\n    this.image = this.normalImage;\r\n    this.fixLayout();\r\n};\r\n\r\nStageHandleMorph.prototype.drawOnCanvas = function (\r\n    aCanvas,\r\n    color,\r\n    shadowColor\r\n) {\r\n    var context = aCanvas.getContext('2d'),\r\n        l = aCanvas.height / 8,\r\n        w = aCanvas.width / 6,\r\n        r = w / 2,\r\n        x,\r\n        y,\r\n        i;\r\n\r\n    context.lineWidth = w;\r\n    context.lineCap = 'round';\r\n    y = aCanvas.height / 2;\r\n\r\n    context.strokeStyle = color.toString();\r\n    x = aCanvas.width / 12;\r\n    for (i = 0; i < 3; i += 1) {\r\n        if (i > 0) {\r\n            context.beginPath();\r\n            context.moveTo(x, y - (l - r));\r\n            context.lineTo(x, y + (l - r));\r\n            context.stroke();\r\n        }\r\n        x += (w * 2);\r\n        l *= 2;\r\n    }\r\n    if (shadowColor) {\r\n        context.strokeStyle = shadowColor.toString();\r\n        x = aCanvas.width / 12 + w;\r\n        l = aCanvas.height / 8;\r\n        for (i = 0; i < 3; i += 1) {\r\n            if (i > 0) {\r\n                context.beginPath();\r\n                context.moveTo(x, y - (l - r));\r\n                context.lineTo(x, y + (l - r));\r\n                context.stroke();\r\n            }\r\n            x += (w * 2);\r\n            l *= 2;\r\n        }\r\n    }\r\n};\r\n\r\n// StageHandleMorph layout:\r\n\r\nStageHandleMorph.prototype.fixLayout = function () {\r\n    if (!this.target) {return; }\r\n    var ide = this.target.parentThatIsA(IDE_Morph);\r\n    this.setTop(this.target.top() + 10);\r\n    this.setRight(this.target.left());\r\n    if (ide) {ide.add(this); } // come to front\r\n};\r\n\r\n// StageHandleMorph stepping:\r\n\r\nStageHandleMorph.prototype.step = null;\r\n\r\nStageHandleMorph.prototype.mouseDownLeft = function (pos) {\r\n    var world = this.world(),\r\n        offset = this.right() - pos.x,\r\n        myself = this,\r\n        ide = this.target.parentThatIsA(IDE_Morph);\r\n\r\n    if (!this.target) {\r\n        return null;\r\n    }\r\n    ide.isSmallStage = true;\r\n    ide.controlBar.stageSizeButton.refresh();\r\n    this.step = function () {\r\n        var newPos, newWidth;\r\n        if (world.hand.mouseButton) {\r\n            newPos = world.hand.bounds.origin.x + offset;\r\n            newWidth = myself.target.right() - newPos;\r\n            ide.stageRatio = newWidth / myself.target.dimensions.x;\r\n            ide.setExtent(world.extent());\r\n\r\n        } else {\r\n            this.step = null;\r\n            ide.isSmallStage = (ide.stageRatio !== 1);\r\n            ide.controlBar.stageSizeButton.refresh();\r\n        }\r\n    };\r\n};\r\n\r\n// StageHandleMorph events:\r\n\r\nStageHandleMorph.prototype.mouseEnter = function () {\r\n    this.image = this.highlightImage;\r\n    this.changed();\r\n};\r\n\r\nStageHandleMorph.prototype.mouseLeave = function () {\r\n    this.image = this.normalImage;\r\n    this.changed();\r\n};\r\n\r\nStageHandleMorph.prototype.mouseDoubleClick = function () {\r\n    this.target.parentThatIsA(IDE_Morph).toggleStageSize(true, 1);\r\n};\r\n\r\n// PaletteHandleMorph ////////////////////////////////////////////////////////\r\n\r\n// I am a horizontal resizing handle for a blocks palette\r\n// I pseudo-inherit many things from StageHandleMorph\r\n\r\n// PaletteHandleMorph inherits from Morph:\r\n\r\nPaletteHandleMorph.prototype = new Morph();\r\nPaletteHandleMorph.prototype.constructor = PaletteHandleMorph;\r\nPaletteHandleMorph.uber = Morph.prototype;\r\n\r\n// PaletteHandleMorph instance creation:\r\n\r\nfunction PaletteHandleMorph(target) {\r\n    this.init(target);\r\n}\r\n\r\nPaletteHandleMorph.prototype.init = function (target) {\r\n    this.target = target || null;\r\n    HandleMorph.uber.init.call(this);\r\n    this.color = MorphicPreferences.isFlat ?\r\n            new Color(255, 255, 255) : new Color(190, 190, 190);\r\n    this.isDraggable = false;\r\n    this.noticesTransparentClick = true;\r\n    this.setExtent(new Point(12, 50));\r\n};\r\n\r\n// PaletteHandleMorph drawing:\r\n\r\nPaletteHandleMorph.prototype.drawNew =\r\n    StageHandleMorph.prototype.drawNew;\r\n\r\nPaletteHandleMorph.prototype.drawOnCanvas =\r\n    StageHandleMorph.prototype.drawOnCanvas;\r\n\r\n// PaletteHandleMorph layout:\r\n\r\nPaletteHandleMorph.prototype.fixLayout = function () {\r\n    if (!this.target) {return; }\r\n    var ide = this.target.parentThatIsA(IDE_Morph);\r\n    this.setTop(this.target.top() + 10);\r\n    this.setRight(this.target.right());\r\n    if (ide) {ide.add(this); } // come to front\r\n};\r\n\r\n// PaletteHandleMorph stepping:\r\n\r\nPaletteHandleMorph.prototype.step = null;\r\n\r\nPaletteHandleMorph.prototype.mouseDownLeft = function (pos) {\r\n    var world = this.world(),\r\n        offset = this.right() - pos.x,\r\n        ide = this.target.parentThatIsA(IDE_Morph);\r\n\r\n    if (!this.target) {\r\n        return null;\r\n    }\r\n    this.step = function () {\r\n        var newPos;\r\n        if (world.hand.mouseButton) {\r\n            newPos = world.hand.bounds.origin.x + offset;\r\n            ide.paletteWidth = Math.min(\r\n                Math.max(200, newPos),\r\n                ide.stageHandle.left() - ide.spriteBar.tabBar.width()\r\n            );\r\n            ide.setExtent(world.extent());\r\n\r\n        } else {\r\n            this.step = null;\r\n        }\r\n    };\r\n};\r\n\r\n// PaletteHandleMorph events:\r\n\r\nPaletteHandleMorph.prototype.mouseEnter\r\n    = StageHandleMorph.prototype.mouseEnter;\r\n\r\nPaletteHandleMorph.prototype.mouseLeave\r\n    = StageHandleMorph.prototype.mouseLeave;\r\n\r\n//******************* Wiquid *********************************\r\n\r\nPaletteHandleMorph.prototype.mouseDoubleClick = function () {\r\n    \r\n    this.target.parentThatIsA(IDE_Morph).setPaletteWidth(200); //Wiquid Solution\r\n\r\n};\r\n\r\n//************************************************************\r\n\r\n// CamSnapshotDialogMorph inherits from DialogBoxMorph:\r\n\r\nCamSnapshotDialogMorph.prototype = new DialogBoxMorph();\r\nCamSnapshotDialogMorph.prototype.constructor = CamSnapshotDialogMorph;\r\nCamSnapshotDialogMorph.uber = DialogBoxMorph.prototype;\r\n\r\n// CamSnapshotDialogMorph settings\r\n\r\nCamSnapshotDialogMorph.prototype.enableCamera = true; // off while experimental\r\nCamSnapshotDialogMorph.prototype.enabled = true;\r\n\r\nCamSnapshotDialogMorph.prototype.notSupportedMessage =\r\n\t'Please make sure your web browser is up to date\\n' +\r\n\t'and your camera is properly configured. \\n\\n' +\r\n\t'Some browsers also require you to access Snap!\\n' +\r\n\t'through HTTPS to use the camera.\\n\\n' +\r\n    'Plase replace the \"http://\" part of the address\\n' +\r\n    'in your browser by \"https://\" and try again.';\r\n\r\n// CamSnapshotDialogMorph instance creation\r\n\r\nfunction CamSnapshotDialogMorph(ide, sprite, onCancel, onAccept) {\r\n    this.init(ide, sprite, onCancel, onAccept);\r\n}\r\n\r\nCamSnapshotDialogMorph.prototype.init = function (\r\n    ide,\r\n    sprite,\r\n    onCancel,\r\n\tonAccept\r\n) {\r\n    this.ide = ide;\r\n    this.sprite = sprite;\r\n    this.padding = 10;\r\n    this.oncancel = onCancel;\r\n    this.accept = onAccept;\r\n    this.videoElement = null; // an HTML5 video element\r\n    this.videoView = new Morph(); // a morph where we'll copy the video contents\r\n\r\n    CamSnapshotDialogMorph.uber.init.call(this);\r\n    this.labelString = 'Camera';\r\n    this.createLabel();\r\n    this.buildContents();\r\n};\r\n\r\nCamSnapshotDialogMorph.prototype.buildContents = function () {\r\n    var myself = this,\r\n        stage = this.sprite.parentThatIsA(StageMorph);\r\n\r\n\tfunction noCameraSupport() {\r\n        myself.disable();\r\n        myself.ide.inform(\r\n            'Camera not supported',\r\n            CamSnapshotDialogMorph.prototype.notSupportedMessage\r\n        );\r\n        if (myself.videoElement) {\r\n        \tmyself.videoElement.remove();\r\n        }\r\n        myself.cancel();\r\n\t}\r\n\r\n    this.videoElement = document.createElement('video');\r\n    this.videoElement.hidden = true;\r\n    this.videoElement.width = stage.dimensions.x;\r\n    this.videoElement.height = stage.dimensions.y;\r\n\r\n    document.body.appendChild(this.videoElement);\r\n\r\n    if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {\r\n        navigator.mediaDevices.getUserMedia({ video: true })\r\n            .then(function (stream) {\r\n                myself.videoElement.srcObject = stream;\r\n                myself.videoElement.play().catch(noCameraSupport);\r\n                myself.videoElement.stream = stream;\r\n            })\r\n            .catch(noCameraSupport);\r\n    }\r\n\r\n    this.videoView.setExtent(stage.dimensions);\r\n    this.videoView.image = newCanvas(stage.dimensions);\r\n\r\n    this.videoView.drawOn = function (aCanvas) {\r\n        var context = aCanvas.getContext('2d'),\r\n            videoWidth = myself.videoElement.videoWidth,\r\n            videoHeight = myself.videoElement.videoHeight,\r\n            w = stage.dimensions.x,\r\n            h = stage.dimensions.y,\r\n            clippingWidth, clippingHeight;\r\n\r\n        if (!videoWidth) { return; }\r\n\r\n        context.save();\r\n\r\n        // Flip the image so it looks like a mirror\r\n        context.translate(w, 0);\r\n        context.scale(-1, 1);\r\n\r\n        if (videoWidth / w > videoHeight / h) {\r\n            // preserve height, crop width\r\n            clippingWidth = w * (videoHeight / h);\r\n            clippingHeight = videoHeight;\r\n        } else {\r\n            // preserve width, crop height\r\n            clippingWidth = videoWidth;\r\n            clippingHeight = h * (videoWidth / w);\r\n        }\r\n\r\n        context.drawImage(\r\n            myself.videoElement,\r\n            0,\r\n            0,\r\n            clippingWidth,\r\n            clippingHeight,\r\n            this.left() * -1,\r\n            this.top(),\r\n            w,\r\n            h\r\n            );\r\n\r\n        context.restore();\r\n    };\r\n\r\n    this.videoView.step = function () {\r\n        this.changed();\r\n    };\r\n\r\n    this.addBody(new AlignmentMorph('column', this.padding / 2));\r\n    this.body.add(this.videoView);\r\n    this.body.fixLayout();\r\n\r\n    this.addButton('ok', 'Save');\r\n    this.addButton('cancel', 'Cancel');\r\n\r\n    this.fixLayout();\r\n    this.drawNew();\r\n};\r\n\r\nCamSnapshotDialogMorph.prototype.ok = function () {\r\n    this.accept(\r\n        new Costume(\r\n            this.videoView.fullImageClassic(),\r\n            this.sprite.newCostumeName('camera')\r\n        ).flipped()\r\n    );\r\n};\r\n\r\nCamSnapshotDialogMorph.prototype.disable = function () {\r\n    CamSnapshotDialogMorph.prototype.enabled = false;\r\n    document.dispatchEvent(new Event('cameraDisabled'));\r\n};\r\n\r\nCamSnapshotDialogMorph.prototype.destroy = function () {\r\n    this.oncancel.call(this);\r\n    this.close();\r\n};\r\n\r\nCamSnapshotDialogMorph.prototype.close = function () {\r\n    if (this.videoElement && this.videoElement.stream) {\r\n        this.videoElement.stream.getTracks()[0].stop();\r\n        this.videoElement.remove();\r\n    }\r\n    CamSnapshotDialogMorph.uber.destroy.call(this);\r\n};\r\n//fin de GUI.js\r\n/*\r\n    paint.js\r\n\r\n    a paint editor for Snap!\r\n    inspired by the Scratch paint editor.\r\n\r\n    written by Kartik Chandra\r\n    Copyright (C) 2016 by Kartik Chandra\r\n\r\n    This file is part of Snap!.\r\n\r\n    Snap! is free software: you can redistribute it and/or modify\r\n    it under the terms of the GNU Affero General Public License as\r\n    published by the Free Software Foundation, either version 3 of\r\n    the License, or (at your option) any later version.\r\n\r\n    This program is distributed in the hope that it will be useful,\r\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n    GNU Affero General Public License for more details.\r\n\r\n    You should have received a copy of the GNU Affero General Public License\r\n    along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n\r\n\r\n    toc\r\n    ---\r\n    the following list shows the order in which all constructors are\r\n    defined. Use this list to locate code in this document:\r\n\r\n        PaintEditorMorph\r\n        PaintColorPickerMorph\r\n        PaintCanvasMorph\r\n\r\n\r\n    credits\r\n    -------\r\n    Nathan Dinsmore contributed a fully working prototype,\r\n    Nathan's brilliant flood-fill tool has been more or less\r\n    directly imported into this paint implementation.\r\n\r\n    Jens Mönig has contributed icons and bugfixes and says he has probably\r\n    introduced many other bugs in that process. :-)\r\n\r\n\r\n    revision history\r\n    ----------------\r\n    May 10 - first full release (Kartik)\r\n    May 14 - bugfixes, Snap integration (Jens)\r\n    May 16 - flat design adjustments (Jens)\r\n    July 12 - pipette tool, code formatting adjustments (Jens)\r\n    Sept 16 - flood fill freeze fix (Kartik)\r\n    Jan 08 - mouse leave dragging fix (Kartik)\r\n    Feb 11 - dynamically adjust to stage dimensions (Jens)\r\n    Apr 30 - localizations (Manuel)\r\n    June 3 - transformations (Kartik)\r\n    June 4 - tweaks (Jens)\r\n    Aug 24 - floodfill alpha-integer issue (Kartik)\r\n    Sep 29 - tweaks (Jens)\r\n    Sep 28 [of the following year :)] - Try to prevent antialiasing (Kartik)\r\n    Oct 02 - revert disable smoothing (Jens)\r\n    Dec 15 - center rotation point on costume creating (Craxic)\r\n    Jan 18 - avoid pixel collision detection in PaintCanvas (Jens)\r\n    Mar 22 - fixed automatic rotation center point mechanism (Jens)\r\n    May 10 - retina display support adjustments (Jens)\r\n    2017\r\n    April 10 - getGlobalPixelColor adjustment for Chrome & retina (Jens)\r\n*/\r\n\r\n/*global Point, Rectangle, DialogBoxMorph, AlignmentMorph, PushButtonMorph,\r\nColor, SymbolMorph, newCanvas, Morph, TextMorph, Costume, SpriteMorph, nop,\r\nlocalize, InputFieldMorph, SliderMorph, ToggleMorph, ToggleButtonMorph,\r\nBoxMorph, modules, radians, MorphicPreferences, getDocumentPositionOf,\r\nStageMorph, isNil*/\r\n\r\n// Global stuff ////////////////////////////////////////////////////////\r\n\r\nmodules.paint = '2017-April-10';\r\n\r\n// Declarations\r\n\r\nvar PaintEditorMorph;\r\nvar PaintCanvasMorph;\r\nvar PaintColorPickerMorph;\r\n\r\n// PaintEditorMorph //////////////////////////\r\n\r\n// A complete paint editor\r\n\r\nPaintEditorMorph.prototype = new DialogBoxMorph();\r\nPaintEditorMorph.prototype.constructor = PaintEditorMorph;\r\nPaintEditorMorph.uber = DialogBoxMorph.prototype;\r\n\r\nPaintEditorMorph.prototype.padding = 10;\r\n\r\nfunction PaintEditorMorph() {\r\n    this.init();\r\n}\r\n\r\nPaintEditorMorph.prototype.init = function () {\r\n    // additional properties:\r\n    this.paper = null; // paint canvas\r\n    this.oncancel = null;\r\n\r\n    // initialize inherited properties:\r\n    PaintEditorMorph.uber.init.call(this);\r\n\r\n    // override inherited properties:\r\n    this.labelString = \"Paint Editor\";\r\n    this.createLabel();\r\n\r\n    // build contents:\r\n    this.buildContents();\r\n};\r\n\r\nPaintEditorMorph.prototype.buildContents = function () {\r\n    var myself = this;\r\n\r\n    this.paper = new PaintCanvasMorph(function () {return myself.shift; });\r\n    this.paper.setExtent(StageMorph.prototype.dimensions);\r\n\r\n    this.addBody(new AlignmentMorph('row', this.padding));\r\n    this.controls = new AlignmentMorph('column', this.padding / 2);\r\n    this.controls.alignment = 'left';\r\n\r\n    this.edits = new AlignmentMorph('row', this.padding / 2);\r\n    this.buildEdits();\r\n    this.controls.add(this.edits);\r\n\r\n    this.body.color = this.color;\r\n\r\n    this.body.add(this.controls);\r\n    this.body.add(this.paper);\r\n\r\n    this.toolbox = new BoxMorph();\r\n    this.toolbox.color = SpriteMorph.prototype.paletteColor.lighter(8);\r\n    this.toolbox.borderColor = this.toolbox.color.lighter(40);\r\n    if (MorphicPreferences.isFlat) {\r\n        this.toolbox.edge = 0;\r\n    }\r\n\r\n    this.buildToolbox();\r\n    this.controls.add(this.toolbox);\r\n\r\n    this.scaleBox = new AlignmentMorph('row', this.padding / 2);\r\n    this.buildScaleBox();\r\n    this.controls.add(this.scaleBox);\r\n\r\n    this.propertiesControls = {\r\n        colorpicker: null,\r\n        penSizeSlider: null,\r\n        penSizeField: null,\r\n        primaryColorButton: null,\r\n        primaryColorViewer: null,\r\n        constrain: null\r\n    };\r\n    this.populatePropertiesMenu();\r\n\r\n    this.addButton(\"ok\", \"OK\");\r\n    this.addButton(\"cancel\", \"Cancel\");\r\n\r\n    this.refreshToolButtons();\r\n    this.fixLayout();\r\n    this.drawNew();\r\n};\r\n\r\nPaintEditorMorph.prototype.buildToolbox = function () {\r\n    var tools = {\r\n            brush:\r\n                \"Paintbrush tool\\n(free draw)\",\r\n            rectangle:\r\n                \"Stroked Rectangle\\n(shift: square)\",\r\n            circle:\r\n                \"Stroked Ellipse\\n(shift: circle)\",\r\n            eraser:\r\n                \"Eraser tool\",\r\n            crosshairs:\r\n                \"Set the rotation center\",\r\n\r\n            line:\r\n                \"Line tool\\n(shift: vertical/horizontal)\",\r\n            rectangleSolid:\r\n                \"Filled Rectangle\\n(shift: square)\",\r\n            circleSolid:\r\n                \"Filled Ellipse\\n(shift: circle)\",\r\n            paintbucket:\r\n                \"Fill a region\",\r\n            pipette:\r\n                \"Pipette tool\\n(pick a color anywhere)\"\r\n        },\r\n        myself = this,\r\n        left = this.toolbox.left(),\r\n        top = this.toolbox.top(),\r\n        padding = 2,\r\n        inset = 5,\r\n        x = 0,\r\n        y = 0;\r\n\r\n    Object.keys(tools).forEach(function (tool) {\r\n        var btn = myself.toolButton(tool, tools[tool]);\r\n        btn.setPosition(new Point(\r\n            left + x,\r\n            top + y\r\n        ));\r\n        x += btn.width() + padding;\r\n        if (tool === \"crosshairs\") {\r\n            x = 0;\r\n            y += btn.height() + padding;\r\n            myself.paper.drawcrosshair();\r\n        }\r\n        myself.toolbox[tool] = btn;\r\n        myself.toolbox.add(btn);\r\n    });\r\n\r\n    this.toolbox.bounds = this.toolbox.fullBounds().expandBy(inset * 2);\r\n    this.toolbox.drawNew();\r\n};\r\n\r\nPaintEditorMorph.prototype.buildEdits = function () {\r\n    var paper = this.paper;\r\n\r\n    this.edits.add(this.pushButton(\r\n        \"undo\",\r\n        function () {paper.undo(); }\r\n    ));\r\n\r\n    this.edits.add(this.pushButton(\r\n        \"clear\",\r\n        function () {paper.clearCanvas(); }\r\n    ));\r\n    this.edits.fixLayout();\r\n};\r\n\r\nPaintEditorMorph.prototype.buildScaleBox = function () {\r\n    var paper = this.paper;\r\n    this.scaleBox.add(this.pushButton(\r\n        \"grow\",\r\n        function () {paper.scale(0.05, 0.05); }\r\n    ));\r\n    this.scaleBox.add(this.pushButton(\r\n        \"shrink\",\r\n        function () {paper.scale(-0.05, -0.05); }\r\n    ));\r\n    this.scaleBox.add(this.pushButton(\r\n        \"flip ↔\",\r\n        function () {paper.scale(-2, 0); }\r\n    ));\r\n    this.scaleBox.add(this.pushButton(\r\n        \"flip ↕\",\r\n        function () {paper.scale(0, -2); }\r\n    ));\r\n    this.scaleBox.fixLayout();\r\n};\r\n\r\nPaintEditorMorph.prototype.openIn = function (world, oldim, oldrc, callback) {\r\n    // Open the editor in a world with an optional image to edit\r\n    this.oldim = oldim;\r\n    this.callback = callback || nop;\r\n\r\n    this.processKeyUp = function () {\r\n        this.shift = false;\r\n        this.propertiesControls.constrain.refresh();\r\n    };\r\n\r\n    this.processKeyDown = function () {\r\n        this.shift = this.world().currentKey === 16;\r\n        this.propertiesControls.constrain.refresh();\r\n    };\r\n\r\n    //merge oldim:\r\n    if (this.oldim) {\r\n        this.paper.automaticCrosshairs = isNil(oldrc);\r\n        this.paper.centermerge(this.oldim, this.paper.paper);\r\n        this.paper.rotationCenter =\r\n            (oldrc || new Point(0, 0)).add(\r\n                new Point(\r\n                    (this.paper.paper.width - this.oldim.width) / 2,\r\n                    (this.paper.paper.height - this.oldim.height) / 2\r\n                )\r\n            );\r\n        this.paper.drawNew();\r\n    }\r\n\r\n    this.key = 'paint';\r\n    this.popUp(world);\r\n};\r\n\r\nPaintEditorMorph.prototype.fixLayout = function () {\r\n    var oldFlag = Morph.prototype.trackChanges;\r\n\r\n    this.changed();\r\n    oldFlag = Morph.prototype.trackChanges;\r\n    Morph.prototype.trackChanges = false;\r\n\r\n    if (this.paper) {\r\n        this.paper.buildContents();\r\n        this.paper.drawNew();\r\n    }\r\n    if (this.controls) {this.controls.fixLayout(); }\r\n    if (this.body) {this.body.fixLayout(); }\r\n    PaintEditorMorph.uber.fixLayout.call(this);\r\n\r\n    Morph.prototype.trackChanges = oldFlag;\r\n    this.changed();\r\n};\r\n\r\nPaintEditorMorph.prototype.refreshToolButtons = function () {\r\n    this.toolbox.children.forEach(function (toggle) {\r\n        toggle.refresh();\r\n    });\r\n};\r\n\r\nPaintEditorMorph.prototype.ok = function () {\r\n    this.paper.updateAutomaticCenter();\r\n    this.callback(\r\n        this.paper.paper,\r\n        this.paper.rotationCenter\r\n    );\r\n    this.destroy();\r\n};\r\n\r\nPaintEditorMorph.prototype.cancel = function () {\r\n    if (this.oncancel) {this.oncancel(); }\r\n    this.destroy();\r\n};\r\n\r\nPaintEditorMorph.prototype.populatePropertiesMenu = function () {\r\n    var c = this.controls,\r\n        myself = this,\r\n        pc = this.propertiesControls,\r\n        alpen = new AlignmentMorph(\"row\", this.padding);\r\n\r\n    pc.primaryColorViewer = new Morph();\r\n    pc.primaryColorViewer.setExtent(new Point(180, 50));\r\n    pc.primaryColorViewer.color = new Color(0, 0, 0);\r\n    pc.colorpicker = new PaintColorPickerMorph(\r\n        new Point(180, 100),\r\n        function (color) {\r\n            var ni = newCanvas(pc.primaryColorViewer.extent()),\r\n                ctx = ni.getContext(\"2d\"),\r\n                i,\r\n                j;\r\n            myself.paper.settings.primarycolor = color;\r\n            if (color === \"transparent\") {\r\n                for (i = 0; i < 180; i += 5) {\r\n                    for (j = 0; j < 15; j += 5) {\r\n                        ctx.fillStyle =\r\n                            ((j + i) / 5) % 2 === 0 ?\r\n                                            \"rgba(0, 0, 0, 0.2)\" :\r\n                                            \"rgba(0, 0, 0, 0.5)\";\r\n                        ctx.fillRect(i, j, 5, 5);\r\n\r\n                    }\r\n                }\r\n            } else {\r\n                ctx.fillStyle = color.toString();\r\n                ctx.fillRect(0, 0, 180, 15);\r\n            }\r\n            ctx.strokeStyle = \"black\";\r\n            ctx.lineWidth = Math.min(myself.paper.settings.linewidth, 20);\r\n            ctx.beginPath();\r\n            ctx.lineCap = \"round\";\r\n            ctx.moveTo(20, 30);\r\n            ctx.lineTo(160, 30);\r\n            ctx.stroke();\r\n            pc.primaryColorViewer.image = ni;\r\n            pc.primaryColorViewer.changed();\r\n        }\r\n    );\r\n    pc.colorpicker.action(new Color(0, 0, 0));\r\n\r\n    pc.penSizeSlider = new SliderMorph(0, 20, 5, 5);\r\n    pc.penSizeSlider.orientation = \"horizontal\";\r\n    pc.penSizeSlider.setHeight(15);\r\n    pc.penSizeSlider.setWidth(150);\r\n    pc.penSizeSlider.action = function (num) {\r\n        if (pc.penSizeField) {\r\n            pc.penSizeField.setContents(num);\r\n        }\r\n        myself.paper.settings.linewidth = num;\r\n        pc.colorpicker.action(myself.paper.settings.primarycolor);\r\n    };\r\n    pc.penSizeField = new InputFieldMorph(\"5\", true, null, false);\r\n    pc.penSizeField.contents().minWidth = 20;\r\n    pc.penSizeField.setWidth(25);\r\n    pc.penSizeField.accept = function () {\r\n        var val = parseFloat(pc.penSizeField.getValue());\r\n        pc.penSizeSlider.value = val;\r\n        pc.penSizeSlider.drawNew();\r\n        pc.penSizeSlider.updateValue();\r\n        this.setContents(val);\r\n        myself.paper.settings.linewidth = val;\r\n        this.world().keyboardReceiver = myself;\r\n        pc.colorpicker.action(myself.paper.settings.primarycolor);\r\n    };\r\n    alpen.add(pc.penSizeSlider);\r\n    alpen.add(pc.penSizeField);\r\n    alpen.color = myself.color;\r\n    alpen.fixLayout();\r\n    pc.penSizeField.drawNew();\r\n    pc.constrain = new ToggleMorph(\r\n        \"checkbox\",\r\n        this,\r\n        function () {myself.shift = !myself.shift; },\r\n        \"Constrain proportions of shapes?\\n(you can also hold shift)\",\r\n        function () {return myself.shift; }\r\n    );\r\n    c.add(pc.colorpicker);\r\n    //c.add(pc.primaryColorButton);\r\n    c.add(pc.primaryColorViewer);\r\n    c.add(new TextMorph(localize(\"Brush size\")));\r\n    c.add(alpen);\r\n    c.add(pc.constrain);\r\n};\r\n\r\nPaintEditorMorph.prototype.toolButton = function (icon, hint) {\r\n    var button, myself = this;\r\n\r\n    button = new ToggleButtonMorph(\r\n        null,\r\n        this,\r\n        function () { // action\r\n            myself.paper.currentTool = icon;\r\n            myself.paper.toolChanged(icon);\r\n            myself.refreshToolButtons();\r\n            if (icon === 'pipette') {\r\n                myself.getUserColor();\r\n            }\r\n        },\r\n        new SymbolMorph(icon, 18),\r\n        function () {return myself.paper.currentTool === icon; }\r\n    );\r\n\r\n    button.hint = hint;\r\n    button.drawNew();\r\n    button.fixLayout();\r\n    return button;\r\n};\r\n\r\nPaintEditorMorph.prototype.pushButton = function (title, action, hint) {\r\n    return new PushButtonMorph(\r\n        this,\r\n        action,\r\n        title,\r\n        null,\r\n        hint\r\n    );\r\n};\r\n\r\nPaintEditorMorph.prototype.getUserColor = function () {\r\n    var myself = this,\r\n        world = this.world(),\r\n        hand = world.hand,\r\n        posInDocument = getDocumentPositionOf(world.worldCanvas),\r\n        mouseMoveBak = hand.processMouseMove,\r\n        mouseDownBak = hand.processMouseDown,\r\n        mouseUpBak = hand.processMouseUp;\r\n\r\n    hand.processMouseMove = function (event) {\r\n        var color;\r\n        hand.setPosition(new Point(\r\n            event.pageX - posInDocument.x,\r\n            event.pageY - posInDocument.y\r\n        ));\r\n        color = world.getGlobalPixelColor(hand.position());\r\n        if (!color.a) {\r\n            // ignore transparent,\r\n            // needed for retina-display support\r\n            return;\r\n        }\r\n        color.a = 255;\r\n        myself.propertiesControls.colorpicker.action(color);\r\n    };\r\n\r\n    hand.processMouseDown = nop;\r\n\r\n    hand.processMouseUp = function () {\r\n        myself.paper.currentTool = 'brush';\r\n        myself.paper.toolChanged('brush');\r\n        myself.refreshToolButtons();\r\n        hand.processMouseMove = mouseMoveBak;\r\n        hand.processMouseDown = mouseDownBak;\r\n        hand.processMouseUp = mouseUpBak;\r\n    };\r\n};\r\n\r\n// AdvancedColorPickerMorph //////////////////\r\n\r\n// A large hsl color picker\r\n\r\nPaintColorPickerMorph.prototype = new Morph();\r\nPaintColorPickerMorph.prototype.constructor = PaintColorPickerMorph;\r\nPaintColorPickerMorph.uber = Morph.prototype;\r\n\r\nfunction PaintColorPickerMorph(extent, action) {\r\n    this.init(extent, action);\r\n}\r\n\r\nPaintColorPickerMorph.prototype.init = function (extent, action) {\r\n    this.setExtent(extent || new Point(200, 100));\r\n    this.action = action || nop;\r\n    this.drawNew();\r\n};\r\n\r\nPaintColorPickerMorph.prototype.drawNew = function () {\r\n    var x = 0,\r\n        y = 0,\r\n        can = newCanvas(this.extent()),\r\n        ctx = can.getContext(\"2d\"),\r\n        colorselection,\r\n        r;\r\n    for (x = 0; x < this.width(); x += 1) {\r\n        for (y = 0; y < this.height() - 20; y += 1) {\r\n            ctx.fillStyle = \"hsl(\" +\r\n                (360 * x / this.width()) +\r\n                \",\" +\r\n                \"100%,\" +\r\n                (y * 100 / (this.height() - 20)) +\r\n                \"%)\";\r\n            ctx.fillRect(x, y, 1, 1);\r\n        }\r\n    }\r\n    for (x = 0; x < this.width(); x += 1) {\r\n        r = Math.floor(255 * x / this.width());\r\n        ctx.fillStyle = \"rgb(\" + r + \", \" + r + \", \" + r + \")\";\r\n        ctx.fillRect(x, this.height() - 20, 1, 10);\r\n    }\r\n    colorselection = [\"black\", \"white\", \"gray\"];\r\n    for (x = 0; x < colorselection.length; x += 1) {\r\n        ctx.fillStyle = colorselection[x];\r\n        ctx.fillRect(\r\n            x * this.width() / colorselection.length,\r\n            this.height() - 10,\r\n            this.width() / colorselection.length,\r\n            10\r\n        );\r\n    }\r\n    for (x = this.width() * 2 / 3; x < this.width(); x += 2) {\r\n        for (y = this.height() - 10; y < this.height(); y += 2) {\r\n            if ((x + y) / 2 % 2 === 0) {\r\n                ctx.fillStyle = \"#DDD\";\r\n                ctx.fillRect(x, y, 2, 2);\r\n            }\r\n        }\r\n    }\r\n    this.image = can;\r\n};\r\n\r\nPaintColorPickerMorph.prototype.mouseDownLeft = function (pos) {\r\n    if ((pos.subtract(this.position()).x > this.width() * 2 / 3) &&\r\n            (pos.subtract(this.position()).y > this.height() - 10)) {\r\n        this.action(\"transparent\");\r\n    } else {\r\n        this.action(this.getPixelColor(pos));\r\n    }\r\n};\r\n\r\nPaintColorPickerMorph.prototype.mouseMove =\r\n    PaintColorPickerMorph.prototype.mouseDownLeft;\r\n\r\n// PaintCanvasMorph ///////////////////////////\r\n/*\r\n    A canvas which reacts to drag events to\r\n    modify its image, based on a 'tool' property.\r\n*/\r\n\r\nPaintCanvasMorph.prototype = new Morph();\r\nPaintCanvasMorph.prototype.constructor = PaintCanvasMorph;\r\nPaintCanvasMorph.uber = Morph.prototype;\r\n\r\nfunction PaintCanvasMorph(shift) {\r\n    this.init(shift);\r\n}\r\n\r\nPaintCanvasMorph.prototype.init = function (shift) {\r\n    this.rotationCenter = new Point(240, 180);\r\n    this.dragRect = null;\r\n    this.previousDragPoint = null;\r\n    this.currentTool = \"brush\";\r\n    this.dragRect = new Rectangle();\r\n    // rectangle with origin being the starting drag position and\r\n    // corner being the current drag position\r\n    this.mask = newCanvas(this.extent(), true); // Temporary canvas\r\n    this.paper = newCanvas(this.extent(), true); // Actual canvas\r\n    this.erasermask = newCanvas(this.extent(), true); // eraser memory\r\n    this.background = newCanvas(this.extent()); // checkers\r\n    this.settings = {\r\n        \"primarycolor\": new Color(0, 0, 0, 255), // usually fill color\r\n        \"secondarycolor\": new Color(0, 0, 0, 255), // (unused)\r\n        \"linewidth\": 3 // stroke width\r\n    };\r\n    this.brushBuffer = [];\r\n    this.undoBuffer = [];\r\n    this.isShiftPressed = shift || function () {\r\n        var key = this.world().currentKey;\r\n        return (key === 16);\r\n    };\r\n    // should we calculate the center of the image ourselves,\r\n    // or use the user position\r\n    this.automaticCrosshairs = true;\r\n    this.noticesTransparentClick = true; // optimization\r\n    this.buildContents();\r\n};\r\n\r\n// Calculate the center of all the non-transparent pixels on the canvas.\r\nPaintCanvasMorph.prototype.calculateCanvasCenter = function(canvas) {\r\n    var canvasBounds = Costume.prototype.canvasBoundingBox(canvas);\r\n    if (canvasBounds === null) {\r\n        return null;\r\n    }\r\n    // Can't use canvasBounds.center(), it rounds down.\r\n    return new Point((canvasBounds.origin.x + canvasBounds.corner.x) / 2, (canvasBounds.origin.y + canvasBounds.corner.y) / 2);\r\n};\r\n\r\n// If we are in automaticCrosshairs mode, recalculate the rotationCenter.\r\nPaintCanvasMorph.prototype.updateAutomaticCenter = function () {\r\n    if (this.automaticCrosshairs) {\r\n        // Calculate this.rotationCenter from this.paper\r\n        var rotationCenter = this.calculateCanvasCenter(this.paper);\r\n        if (rotationCenter !== null) {\r\n            this.rotationCenter = rotationCenter;\r\n        }\r\n    }\r\n};\r\n\r\nPaintCanvasMorph.prototype.scale = function (x, y) {\r\n    this.updateAutomaticCenter();\r\n    this.mask = newCanvas(this.extent(), true);\r\n    var c = newCanvas(this.extent(), true);\r\n    c.getContext(\"2d\").save();\r\n    c.getContext(\"2d\").translate(\r\n        this.rotationCenter.x,\r\n        this.rotationCenter.y\r\n    );\r\n    c.getContext(\"2d\").scale(1 + x, 1 + y);\r\n    c.getContext(\"2d\").drawImage(\r\n        this.paper,\r\n        -this.rotationCenter.x,\r\n        -this.rotationCenter.y\r\n    );\r\n    c.getContext(\"2d\").restore();\r\n    this.paper = c;\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nPaintCanvasMorph.prototype.cacheUndo = function () {\r\n    var cachecan = newCanvas(this.extent(), true);\r\n    this.merge(this.paper, cachecan);\r\n    this.undoBuffer.push(cachecan);\r\n};\r\n\r\nPaintCanvasMorph.prototype.undo = function () {\r\n    if (this.undoBuffer.length > 0) {\r\n        this.paper = newCanvas(this.extent(), true);\r\n        this.mask.width = this.mask.width + 1 - 1;\r\n        this.merge(this.undoBuffer.pop(), this.paper);\r\n        this.drawNew();\r\n        this.changed();\r\n    }\r\n};\r\n\r\nPaintCanvasMorph.prototype.merge = function (a, b) {\r\n    b.getContext(\"2d\").drawImage(a, 0, 0);\r\n};\r\n\r\nPaintCanvasMorph.prototype.centermerge = function (a, b) {\r\n    b.getContext(\"2d\").drawImage(\r\n        a,\r\n        (b.width - a.width) / 2,\r\n        (b.height - a.height) / 2\r\n    );\r\n};\r\n\r\nPaintCanvasMorph.prototype.clearCanvas = function () {\r\n    this.buildContents();\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nPaintCanvasMorph.prototype.toolChanged = function (tool) {\r\n    this.mask = newCanvas(this.extent(), true);\r\n    if (tool === \"crosshairs\") {\r\n        this.updateAutomaticCenter();\r\n        this.drawcrosshair();\r\n    }\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nPaintCanvasMorph.prototype.drawcrosshair = function (context) {\r\n    var ctx = context || this.mask.getContext(\"2d\"),\r\n        rp = this.rotationCenter;\r\n\r\n    ctx.lineWidth = 1;\r\n    ctx.strokeStyle = 'black';\r\n    ctx.clearRect(0, 0, this.mask.width, this.mask.height);\r\n\r\n    // draw crosshairs:\r\n    ctx.globalAlpha = 0.5;\r\n\r\n    // circle around center:\r\n    ctx.fillStyle = 'white';\r\n    ctx.beginPath();\r\n    ctx.arc(\r\n        rp.x,\r\n        rp.y,\r\n        20,\r\n        radians(0),\r\n        radians(360),\r\n        false\r\n    );\r\n    ctx.closePath();\r\n    ctx.fill();\r\n    ctx.stroke();\r\n\r\n    ctx.beginPath();\r\n    ctx.arc(\r\n        rp.x,\r\n        rp.y,\r\n        10,\r\n        radians(0),\r\n        radians(360),\r\n        false\r\n    );\r\n    ctx.stroke();\r\n\r\n    // horizontal line:\r\n    ctx.beginPath();\r\n    ctx.moveTo(0, rp.y);\r\n    ctx.lineTo(this.mask.width, rp.y);\r\n    ctx.stroke();\r\n\r\n    // vertical line:\r\n    ctx.beginPath();\r\n    ctx.moveTo(rp.x, 0);\r\n    ctx.lineTo(rp.x, this.mask.height);\r\n    ctx.stroke();\r\n\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nPaintCanvasMorph.prototype.floodfill = function (sourcepoint) {\r\n    var width = this.paper.width,\r\n        height = this.paper.height,\r\n        ctx = this.paper.getContext(\"2d\"),\r\n        img = ctx.getImageData(0, 0, width, height),\r\n        data = img.data,\r\n        stack = [Math.round(Math.round(sourcepoint.y) * width + sourcepoint.x)],\r\n        currentpoint,\r\n        read,\r\n        sourcecolor,\r\n        checkpoint;\r\n    read = function (p) {\r\n        var d = p * 4;\r\n        return [data[d], data[d + 1], data[d + 2], data[d + 3]];\r\n    };\r\n    sourcecolor = read(stack[0]);\r\n    checkpoint = function (p) {\r\n        return p[0] === sourcecolor[0] &&\r\n            p[1] === sourcecolor[1] &&\r\n            p[2] === sourcecolor[2] &&\r\n            p[3] === sourcecolor[3];\r\n    };\r\n\r\n    // if already filled, abort\r\n    if (sourcecolor[3] === 0 &&\r\n            this.settings.primarycolor === \"transparent\") {\r\n        return;\r\n    }\r\n    if (sourcecolor[0] === this.settings.primarycolor.r &&\r\n            sourcecolor[1] === this.settings.primarycolor.g &&\r\n            sourcecolor[2] === this.settings.primarycolor.b &&\r\n            sourcecolor[3] === this.settings.primarycolor.a) {\r\n        return;\r\n    }\r\n    if (sourcecolor[3] === 0 && this.settings.primarycolor.a === 0) {\r\n        return;\r\n    }\r\n\r\n    while (stack.length > 0) {\r\n        currentpoint = stack.pop();\r\n        if (checkpoint(read(currentpoint))) {\r\n            if (currentpoint % width > 1) {\r\n                stack.push(currentpoint + 1);\r\n                stack.push(currentpoint - 1);\r\n            }\r\n            if (currentpoint > 0 && currentpoint < height * width) {\r\n                stack.push(currentpoint + width);\r\n                stack.push(currentpoint - width);\r\n            }\r\n        }\r\n        if (this.settings.primarycolor === \"transparent\") {\r\n            data[currentpoint * 4 + 3] = 0;\r\n        } else {\r\n            data[currentpoint * 4] = this.settings.primarycolor.r;\r\n            data[currentpoint * 4 + 1] = this.settings.primarycolor.g;\r\n            data[currentpoint * 4 + 2] = this.settings.primarycolor.b;\r\n            data[currentpoint * 4 + 3] = this.settings.primarycolor.a * 255;\r\n        }\r\n    }\r\n    ctx.putImageData(img, 0, 0);\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nPaintCanvasMorph.prototype.mouseDownLeft = function (pos) {\r\n    this.cacheUndo();\r\n    this.dragRect.origin = pos.subtract(this.bounds.origin);\r\n    this.dragRect.corner = pos.subtract(this.bounds.origin);\r\n    this.previousDragPoint = this.dragRect.corner.copy();\r\n    if (this.currentTool === 'crosshairs') {\r\n        this.rotationCenter = pos.subtract(this.bounds.origin);\r\n        this.drawcrosshair();\r\n        return;\r\n    }\r\n    if (this.currentTool === \"paintbucket\") {\r\n        return this.floodfill(pos.subtract(this.bounds.origin));\r\n    }\r\n    if (this.settings.primarycolor === \"transparent\" &&\r\n            this.currentTool !== \"crosshairs\") {\r\n        this.erasermask = newCanvas(this.extent(), true);\r\n        this.merge(this.paper, this.erasermask);\r\n    }\r\n};\r\n\r\nPaintCanvasMorph.prototype.mouseMove = function (pos) {\r\n    if (this.currentTool === \"paintbucket\") {\r\n        return;\r\n    }\r\n\r\n    var relpos = pos.subtract(this.bounds.origin),\r\n        mctx = this.mask.getContext(\"2d\"),\r\n        pctx = this.paper.getContext(\"2d\"),\r\n        x = this.dragRect.origin.x, // original drag X\r\n        y = this.dragRect.origin.y, // original drag y\r\n        p = relpos.x,               // current drag x\r\n        q = relpos.y,               // current drag y\r\n        w = (p - x) / 2,            // half the rect width\r\n        h = (q - y) / 2,            // half the rect height\r\n        i,                          // iterator number\r\n        width = this.paper.width;\r\n\r\n    mctx.save();\r\n    function newW() {\r\n        return Math.max(Math.abs(w), Math.abs(h)) * (w / Math.abs(w));\r\n    }\r\n    function newH() {\r\n        return Math.max(Math.abs(w), Math.abs(h)) * (h / Math.abs(h));\r\n    }\r\n    this.brushBuffer.push([p, q]);\r\n    mctx.lineWidth = this.settings.linewidth;\r\n    mctx.clearRect(0, 0, this.bounds.width(), this.bounds.height()); // mask\r\n\r\n    this.dragRect.corner = relpos.subtract(this.dragRect.origin); // reset crn\r\n\r\n    if (this.settings.primarycolor === \"transparent\" &&\r\n            this.currentTool !== \"crosshairs\") {\r\n        this.merge(this.erasermask, this.mask);\r\n        pctx.clearRect(0, 0, this.bounds.width(), this.bounds.height());\r\n        mctx.globalCompositeOperation = \"destination-out\";\r\n    } else {\r\n        mctx.fillStyle = this.settings.primarycolor.toString();\r\n        mctx.strokeStyle = this.settings.primarycolor.toString();\r\n    }\r\n    switch (this.currentTool) {\r\n    case \"rectangle\":\r\n        if (this.isShiftPressed()) {\r\n            mctx.strokeRect(x, y, newW() * 2, newH() * 2);\r\n        } else {\r\n            mctx.strokeRect(x, y, w * 2, h * 2);\r\n        }\r\n        break;\r\n    case \"rectangleSolid\":\r\n        if (this.isShiftPressed()) {\r\n            mctx.fillRect(x, y, newW() * 2, newH() * 2);\r\n        } else {\r\n            mctx.fillRect(x, y, w * 2, h * 2);\r\n        }\r\n        break;\r\n    case \"brush\":\r\n        mctx.lineCap = \"round\";\r\n        mctx.lineJoin = \"round\";\r\n        mctx.beginPath();\r\n        mctx.moveTo(this.brushBuffer[0][0], this.brushBuffer[0][1]);\r\n        for (i = 0; i < this.brushBuffer.length; i += 1) {\r\n            mctx.lineTo(this.brushBuffer[i][0], this.brushBuffer[i][1]);\r\n        }\r\n        mctx.stroke();\r\n        break;\r\n    case \"line\":\r\n        mctx.beginPath();\r\n        mctx.moveTo(x, y);\r\n        if (this.isShiftPressed()) {\r\n            if (Math.abs(h) > Math.abs(w)) {\r\n                mctx.lineTo(x, q);\r\n            } else {\r\n                mctx.lineTo(p, y);\r\n            }\r\n        } else {\r\n            mctx.lineTo(p, q);\r\n        }\r\n        mctx.stroke();\r\n        break;\r\n    case \"circle\":\r\n    case \"circleSolid\":\r\n        mctx.beginPath();\r\n        if (this.isShiftPressed()) {\r\n            mctx.arc(\r\n                x,\r\n                y,\r\n                new Point(x, y).distanceTo(new Point(p, q)),\r\n                0,\r\n                Math.PI * 2,\r\n                false\r\n            );\r\n        } else {\r\n            for (i = 0; i < width; i += 1) {\r\n                mctx.lineTo(\r\n                    i,\r\n                    (2 * h) * Math.sqrt(2 - Math.pow(\r\n                        (i - x) / (2 * w),\r\n                        2\r\n                    )) + y\r\n                );\r\n            }\r\n            for (i = width; i > 0; i -= 1) {\r\n                mctx.lineTo(\r\n                    i,\r\n                    -1 * (2 * h) * Math.sqrt(2 - Math.pow(\r\n                        (i - x) / (2 * w),\r\n                        2\r\n                    )) + y\r\n                );\r\n            }\r\n        }\r\n        mctx.closePath();\r\n        if (this.currentTool === \"circleSolid\") {\r\n            mctx.fill();\r\n        } else {\r\n            if (this.currentTool === \"circle\") {\r\n                mctx.stroke();\r\n            }\r\n        }\r\n        break;\r\n    case \"crosshairs\":\r\n        // Disable automatic crosshairs: user has now chosen where they should be.\r\n        this.automaticCrosshairs = false;\r\n        this.rotationCenter = relpos.copy();\r\n        this.drawcrosshair(mctx);\r\n        break;\r\n    case \"eraser\":\r\n        this.merge(this.paper, this.mask);\r\n        mctx.save();\r\n        mctx.globalCompositeOperation = \"destination-out\";\r\n        mctx.beginPath();\r\n        mctx.moveTo(this.brushBuffer[0][0], this.brushBuffer[0][1]);\r\n        for (i = 0; i < this.brushBuffer.length; i += 1) {\r\n            mctx.lineTo(this.brushBuffer[i][0], this.brushBuffer[i][1]);\r\n        }\r\n        mctx.stroke();\r\n        mctx.restore();\r\n        this.paper = newCanvas(this.extent(), true);\r\n        this.merge(this.mask, this.paper);\r\n        break;\r\n    default:\r\n        nop();\r\n    }\r\n    this.previousDragPoint = relpos;\r\n    this.drawNew();\r\n    this.changed();\r\n    mctx.restore();\r\n};\r\n\r\nPaintCanvasMorph.prototype.mouseClickLeft = function () {\r\n    if (this.currentTool !== \"crosshairs\") {\r\n        this.merge(this.mask, this.paper);\r\n    }\r\n    this.brushBuffer = [];\r\n};\r\n\r\nPaintCanvasMorph.prototype.mouseLeaveDragging\r\n    = PaintCanvasMorph.prototype.mouseClickLeft;\r\n\r\nPaintCanvasMorph.prototype.buildContents = function () {\r\n    this.background = newCanvas(this.extent());\r\n    this.paper = newCanvas(this.extent(), true);\r\n    this.mask = newCanvas(this.extent(), true);\r\n    this.erasermask = newCanvas(this.extent(), true);\r\n    var i, j, bkctx = this.background.getContext(\"2d\");\r\n    for (i = 0; i < this.background.width; i += 5) {\r\n        for (j = 0; j < this.background.height; j += 5) {\r\n            if ((i + j) / 5 % 2 === 1) {\r\n                bkctx.fillStyle = \"rgba(255, 255, 255, 1)\";\r\n            } else {\r\n                bkctx.fillStyle = \"rgba(255, 255, 255, 0.3)\";\r\n            }\r\n            bkctx.fillRect(i, j, 5, 5);\r\n        }\r\n    }\r\n};\r\n\r\nPaintCanvasMorph.prototype.drawNew = function () {\r\n    var can = newCanvas(this.extent(), true);\r\n    this.merge(this.background, can);\r\n    this.merge(this.paper, can);\r\n    this.merge(this.mask, can);\r\n    this.image = can;\r\n    this.drawFrame();\r\n};\r\n\r\nPaintCanvasMorph.prototype.drawFrame = function () {\r\n    var context, borderColor;\r\n\r\n    context = this.image.getContext('2d');\r\n    if (this.parent) {\r\n        this.color = this.parent.color.lighter(this.contrast * 0.75);\r\n        borderColor = this.parent.color;\r\n    } else {\r\n        borderColor = new Color(120, 120, 120);\r\n    }\r\n    context.fillStyle = this.color.toString();\r\n\r\n    // cache my border colors\r\n    this.cachedClr = borderColor.toString();\r\n    this.cachedClrBright = borderColor.lighter(this.contrast)\r\n        .toString();\r\n    this.cachedClrDark = borderColor.darker(this.contrast).toString();\r\n    this.drawRectBorder(context);\r\n};\r\n\r\nPaintCanvasMorph.prototype.drawRectBorder\r\n    = InputFieldMorph.prototype.drawRectBorder;\r\n\r\nPaintCanvasMorph.prototype.edge\r\n    = InputFieldMorph.prototype.edge;\r\n\r\nPaintCanvasMorph.prototype.fontSize\r\n    = InputFieldMorph.prototype.fontSize;\r\n\r\nPaintCanvasMorph.prototype.typeInPadding\r\n    = InputFieldMorph.prototype.typeInPadding;\r\n\r\nPaintCanvasMorph.prototype.contrast\r\n    = InputFieldMorph.prototype.contrast;\r\n//fin de paint.js\r\n/*\r\n\r\n    lists.js\r\n\r\n    list data structure and GUI for SNAP!\r\n\r\n    written by Jens Mönig and Brian Harvey\r\n    jens@moenig.org, bh@cs.berkeley.edu\r\n\r\n    Copyright (C) 2017 by Jens Mönig and Brian Harvey\r\n\r\n    This file is part of Snap!.\r\n\r\n    Snap! is free software: you can redistribute it and/or modify\r\n    it under the terms of the GNU Affero General Public License as\r\n    published by the Free Software Foundation, either version 3 of\r\n    the License, or (at your option) any later version.\r\n\r\n    This program is distributed in the hope that it will be useful,\r\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n    GNU Affero General Public License for more details.\r\n\r\n    You should have received a copy of the GNU Affero General Public License\r\n    along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n\r\n\r\n    prerequisites:\r\n    --------------\r\n    needs morphic.js, widgets.js and gui.js\r\n\r\n\r\n    I. hierarchy\r\n    -------------\r\n    the following tree lists all constructors hierarchically,\r\n    indentation indicating inheritance. Refer to this list to get a\r\n    contextual overview:\r\n\r\n    List\r\n\r\n    BoxMorph*\r\n        ListWatcherMorph\r\n\r\n    * from Morphic.js\r\n\r\n\r\n    II. toc\r\n    -------\r\n    the following list shows the order in which all constructors are\r\n    defined. Use this list to locate code in this document:\r\n\r\n    List\r\n    ListWatcherMorph\r\n\r\n*/\r\n\r\n// Global settings /////////////////////////////////////////////////////\r\n\r\n/*global modules, BoxMorph, HandleMorph, PushButtonMorph, SyntaxElementMorph,\r\nColor, Point, WatcherMorph, StringMorph, SpriteMorph, ScrollFrameMorph,\r\nCellMorph, ArrowMorph, MenuMorph, snapEquals, Morph, isNil, localize,\r\nMorphicPreferences, TableDialogMorph, SpriteBubbleMorph, SpeechBubbleMorph,\r\nTableFrameMorph, TableMorph, Variable, isSnapObject*/\r\n\r\nmodules.lists = '2017-September-01';\r\n\r\nvar List;\r\nvar ListWatcherMorph;\r\n\r\n// List ////////////////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a dynamic array data structure for SNAP!\r\n    My index starts with 1\r\n\r\n    I am a \"smart\" hybrid list, because I can be used as both a linked\r\n    list and as a dynamic array\r\n\r\n    public interface:\r\n\r\n    setters (linked):\r\n    -----------------\r\n    cons                - answer a new list with the given item in front\r\n    cdr                    - answer all but the first element\r\n\r\n    setters (arrayed):\r\n    ------------------\r\n    add(element, index)    - insert the element before the given slot,\r\n    put(element, index)    - overwrite the element at the given slot\r\n    remove(index)        - remove the given slot, shortening the list\r\n    clear()                - remove all elements\r\n\r\n    getters (all hybrid):\r\n    ---------------------\r\n    length()            - number of slots\r\n    at(index)            - element present in specified slot\r\n    contains(element)    - <bool>\r\n\r\n    conversion:\r\n    -----------\r\n    asArray()            - answer me as JavaScript array\r\n    asText()            - answer my elements (recursively) concatenated\r\n*/\r\n\r\n// List instance creation:\r\n\r\nfunction List(array) {\r\n    this.type = null; // for UI lists, such as costumes, sounds, sprites\r\n    this.contents = array || [];\r\n    this.first = null;\r\n    this.rest = null;\r\n    this.isLinked = false;\r\n    this.lastChanged = Date.now();\r\n}\r\n\r\n// List global preferences\r\n\r\nList.prototype.enableTables = false; // default, to not confuse NYC teachers\r\n\r\n// List printing\r\n\r\nList.prototype.toString = function () {\r\n    return 'a List [' + this.length + ' elements]';\r\n};\r\n\r\n// List updating:\r\n\r\nList.prototype.changed = function () {\r\n    this.lastChanged = Date.now();\r\n};\r\n\r\n// Linked List ops:\r\n\r\nList.prototype.cons = function (car, cdr) {\r\n    var answer = new List();\r\n    if (!(cdr instanceof List || isNil(cdr))) {\r\n        throw new Error(\"cdr isn't a list: \" + cdr);\r\n    }\r\n    answer.first = isNil(car) ? null : car;\r\n    answer.rest = cdr || null;\r\n    answer.isLinked = true;\r\n    return answer;\r\n};\r\n\r\nList.prototype.cdr = function () {\r\n    var result, i;\r\n    if (this.isLinked) {\r\n        return this.rest || new List();\r\n    }\r\n    if (this.contents.length < 2) {\r\n        return new List();\r\n    }\r\n\r\n    result = new List();\r\n    for (i = this.contents.length; i > 1; i -= 1) {\r\n        result = this.cons(this.at(i), result);\r\n    }\r\n    return result;\r\n};\r\n\r\n// List array setters:\r\n\r\nList.prototype.add = function (element, index) {\r\n/*\r\n    insert the element before the given slot index,\r\n    if no index is specifed, append the element\r\n*/\r\n    var idx = index || this.length() + 1,\r\n        obj = isNil(element) ? null : element;\r\n\r\n    this.becomeArray();\r\n    this.contents.splice(idx - 1, 0, obj);\r\n    this.changed();\r\n};\r\n\r\nList.prototype.put = function (element, index) {\r\n    // exchange the element at the given slot for another\r\n    var data = element === 0 ? 0\r\n            : element === false ? false\r\n                    : element || null;\r\n\r\n    this.becomeArray();\r\n    this.contents[index - 1] = data;\r\n    this.changed();\r\n};\r\n\r\nList.prototype.remove = function (index) {\r\n    // remove the given slot, shortening the list\r\n    this.becomeArray();\r\n    this.contents.splice(index - 1, 1);\r\n    this.changed();\r\n};\r\n\r\nList.prototype.clear = function () {\r\n    this.contents = [];\r\n    this.first = null;\r\n    this.rest = null;\r\n    this.isLinked = false;\r\n    this.changed();\r\n};\r\n\r\n// List getters (all hybrid):\r\n\r\nList.prototype.length = function () {\r\n    if (this.isLinked) {\r\n        var pair = this,\r\n            result = 0;\r\n        while (pair && pair.isLinked) {\r\n            result += 1;\r\n            pair = pair.rest;\r\n        }\r\n        return result + (pair ? pair.contents.length : 0);\r\n    }\r\n    return this.contents.length;\r\n};\r\n\r\nList.prototype.at = function (index) {\r\n    var value, idx = +index, pair = this;\r\n    while (pair.isLinked) {\r\n        if (idx > 1) {\r\n            pair = pair.rest;\r\n            idx -= 1;\r\n        } else {\r\n            return pair.first;\r\n        }\r\n    }\r\n    value = pair.contents[idx - 1];\r\n    return isNil(value) ? '' : value;\r\n};\r\n\r\nList.prototype.contains = function (element) {\r\n    var pair = this;\r\n    while (pair.isLinked) {\r\n        if (snapEquals(pair.first, element)) {\r\n            return true;\r\n        }\r\n        pair = pair.rest;\r\n    }\r\n    // in case I'm arrayed\r\n    return pair.contents.some(function (any) {\r\n        return snapEquals(any, element);\r\n    });\r\n};\r\n\r\n// List table (2D) accessing (for table morph widget):\r\n\r\nList.prototype.isTable = function () {\r\n    return this.enableTables && (this.length() > 100 || this.cols() > 1);\r\n};\r\n\r\nList.prototype.get = function (col, row) {\r\n    var r, len, cols;\r\n    if (!col) {\r\n        if (!row) {return [this.length()]; }\r\n        if (row > this.rows()) {return null; }\r\n        return this.rowName(row);\r\n    } else if (!row) {\r\n        if (this.cols() === 1) {return localize('items'); }\r\n        return this.colName(col);\r\n    }\r\n    r = this.at(row);\r\n\r\n    // encode \"orphaned\" as arrays and overshooting ones as Variables\r\n    if (r instanceof List) {\r\n        len = r.length();\r\n        cols = this.cols();\r\n        if (col > len) {\r\n            return null;\r\n        } else if (cols === 1 && len > 1) {\r\n            return [r];\r\n        } else if (col >= cols && len > cols) { // overshooting\r\n            return new Variable(r.at(col));\r\n        }\r\n        return r.at(col);\r\n    }\r\n    if (col === 1 && row <= this.rows()) {\r\n        return [r];\r\n    }\r\n    return null;\r\n};\r\n\r\nList.prototype.rows = function () {\r\n    return this.length();\r\n};\r\n\r\nList.prototype.cols = function () {\r\n    var r = (this.at(1));\r\n    return r instanceof List ? r.length() : 1;\r\n};\r\n\r\nList.prototype.colName = function (col) {\r\n    if (col > this.cols()) {return null; }\r\n    return String.fromCharCode(64 + ((col % 26) || 26)).repeat(\r\n        Math.floor((col - 1) / 26) + 1\r\n    );\r\n};\r\n\r\nList.prototype.rowName = function (row) {\r\n    return row;\r\n};\r\n\r\nList.prototype.columnNames = function () {\r\n    return [];\r\n};\r\n\r\nList.prototype.version = function (startRow, rows) {\r\n    var l = Math.min(startRow + rows, this.length()),\r\n        v = this.lastChanged,\r\n        r,\r\n        i;\r\n    for (i = startRow; i <= l; i += 1) {\r\n        r = this.at(i);\r\n        v = Math.max(v, r.lastChanged ? r.lastChanged : 0);\r\n    }\r\n    return v;\r\n};\r\n\r\n// List conversion:\r\n\r\nList.prototype.asArray = function () {\r\n    // for use in the evaluator\r\n    this.becomeArray();\r\n    return this.contents;\r\n};\r\n\r\nList.prototype.itemsArray = function () {\r\n    // answer an array containing my elements\r\n    // don't convert linked lists to arrays\r\n    if (this.isLinked) {\r\n        var next = this,\r\n            result = [],\r\n            i;\r\n        while (next && next.isLinked) {\r\n            result.push(next.first);\r\n            next = next.rest;\r\n        }\r\n        if (next) {\r\n            for (i = 1; i <= next.contents.length; i += 1) {\r\n                result.push(next.at(i));\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n    return this.contents;\r\n};\r\n\r\nList.prototype.asText = function () {\r\n    var result = '',\r\n        length,\r\n        element,\r\n        pair = this,\r\n        i;\r\n    while (pair.isLinked) {\r\n        element = pair.first;\r\n        if (element instanceof List) {\r\n            result = result.concat(element.asText());\r\n        } else {\r\n            element = isNil(element) ? '' : element.toString();\r\n            result = result.concat(element);\r\n        }\r\n        pair = pair.rest;\r\n    }\r\n    length = pair.length();\r\n    for (i = 1; i <= length; i += 1) {\r\n        element = pair.at(i);\r\n        if (element instanceof List) {\r\n            result = result.concat(element.asText());\r\n        } else {\r\n            element = isNil(element) ? '' : element.toString();\r\n            result = result.concat(element);\r\n        }\r\n    }\r\n    return result;\r\n};\r\n\r\nList.prototype.becomeArray = function () {\r\n    if (this.isLinked) {\r\n        this.contents = this.itemsArray();\r\n        this.isLinked = false;\r\n        this.first = null;\r\n        this.rest = null;\r\n    }\r\n};\r\n\r\nList.prototype.becomeLinked = function () {\r\n    var i, stop, tail = this;\r\n    if (!this.isLinked) {\r\n        stop = this.length();\r\n        for (i = 0; i < stop; i += 1) {\r\n            tail.first = this.contents[i];\r\n            if (i < (stop - 1)) {\r\n                tail.rest = new List();\r\n                tail.isLinked = true;\r\n                tail = tail.rest;\r\n            }\r\n        }\r\n        this.contents = [];\r\n        this.isLinked = true;\r\n    }\r\n};\r\n\r\n// List testing\r\n\r\nList.prototype.equalTo = function (other) {\r\n    var myself = this, it = other, i, j, loopcount;\r\n    if (!(other instanceof List)) {\r\n        return false;\r\n    }\r\n\r\n    while (myself.isLinked && it.isLinked) {\r\n        if (!snapEquals(myself.first, it.first)) {\r\n            return false;\r\n        }\r\n        myself = myself.rest;\r\n        it = it.rest;\r\n    }\r\n\r\n    if (it.isLinked) {\r\n        i = it;\r\n        it = myself;\r\n        myself = i;\r\n    }\r\n\r\n    j = 0;\r\n    while (myself.isLinked) {\r\n        if (!snapEquals(myself.first, it.contents[j])) {\r\n            return false;\r\n        }\r\n        myself = myself.rest;\r\n        j += 1;\r\n    }\r\n\r\n    i = 0;\r\n    if (myself.contents.length !== (it.contents.length - j)) {\r\n        return false;\r\n    }\r\n\r\n    loopcount = myself.contents.length;\r\n    while (loopcount > 0) {\r\n        loopcount -= 1;\r\n        if (!snapEquals(myself.contents[i], it.contents[j])) {\r\n            return false;\r\n        }\r\n        i += 1;\r\n        j += 1;\r\n    }\r\n    return true;\r\n};\r\n\r\n// ListWatcherMorph ////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a little window which observes a list and continuously\r\n    updates itself accordingly\r\n*/\r\n\r\n// ListWatcherMorph inherits from BoxMorph:\r\n\r\nListWatcherMorph.prototype = new BoxMorph();\r\nListWatcherMorph.prototype.constructor = ListWatcherMorph;\r\nListWatcherMorph.uber = BoxMorph.prototype;\r\n\r\n// ListWatcherMorph default settings\r\n\r\nListWatcherMorph.prototype.cellColor =\r\n    SpriteMorph.prototype.blockColor.lists;\r\n\r\n// ListWatcherMorph instance creation:\r\n\r\nfunction ListWatcherMorph(list, parentCell) {\r\n    this.init(list, parentCell);\r\n}\r\n\r\nListWatcherMorph.prototype.init = function (list, parentCell) {\r\n    var myself = this;\r\n\r\n    this.list = list || new List();\r\n    this.start = 1;\r\n    this.range = 100;\r\n    this.lastUpdated = Date.now();\r\n    this.lastCell = null;\r\n    this.parentCell = parentCell || null; // for circularity detection\r\n\r\n    // elements declarations\r\n    this.label = new StringMorph(\r\n        localize('length: ') + this.list.length(),\r\n        SyntaxElementMorph.prototype.fontSize,\r\n        null,\r\n        false,\r\n        false,\r\n        false,\r\n        MorphicPreferences.isFlat ? new Point() : new Point(1, 1),\r\n        new Color(255, 255, 255)\r\n    );\r\n    this.label.mouseClickLeft = function () {myself.startIndexMenu(); };\r\n\r\n\r\n    this.frame = new ScrollFrameMorph(null, 10);\r\n    this.frame.alpha = 0;\r\n    this.frame.acceptsDrops = false;\r\n    this.frame.contents.acceptsDrops = false;\r\n\r\n    this.handle = new HandleMorph(\r\n        this,\r\n        80,\r\n        70,\r\n        3,\r\n        3\r\n    );\r\n    this.handle.setExtent(new Point(13, 13));\r\n\r\n    this.arrow = new ArrowMorph(\r\n        'down',\r\n        SyntaxElementMorph.prototype.fontSize\r\n    );\r\n    this.arrow.mouseClickLeft = function () {myself.startIndexMenu(); };\r\n    this.arrow.setRight(this.handle.right());\r\n    this.arrow.setBottom(this.handle.top());\r\n    this.handle.add(this.arrow);\r\n\r\n    this.plusButton = new PushButtonMorph(\r\n        this.list,\r\n        'add',\r\n        '+'\r\n    );\r\n    this.plusButton.padding = 0;\r\n    this.plusButton.edge = 0;\r\n    this.plusButton.outlineColor = this.color;\r\n    this.plusButton.drawNew();\r\n    this.plusButton.fixLayout();\r\n\r\n    ListWatcherMorph.uber.init.call(\r\n        this,\r\n        SyntaxElementMorph.prototype.rounding,\r\n        1.000001, // shadow bug in Chrome,\r\n        new Color(120, 120, 120)\r\n    );\r\n\r\n    this.color = new Color(220, 220, 220);\r\n    this.isDraggable = false;\r\n    this.setExtent(new Point(80, 70).multiplyBy(\r\n        SyntaxElementMorph.prototype.scale\r\n    ));\r\n    this.add(this.label);\r\n    this.add(this.frame);\r\n    this.add(this.plusButton);\r\n    this.add(this.handle);\r\n    this.handle.drawNew();\r\n    this.update();\r\n    this.fixLayout();\r\n};\r\n\r\n// ListWatcherMorph updating:\r\n\r\nListWatcherMorph.prototype.update = function (anyway) {\r\n    var i, idx, ceil, morphs, cell, cnts, label, button, max,\r\n        starttime, maxtime = 1000;\r\n\r\n    this.frame.contents.children.forEach(function (m) {\r\n        if (m instanceof CellMorph) {\r\n            if (m.contentsMorph instanceof ListWatcherMorph) {\r\n                m.contentsMorph.update();\r\n            } else if (isSnapObject(m.contents)) {\r\n                m.update();\r\n            }\r\n        }\r\n    });\r\n\r\n    if (this.lastUpdated === this.list.lastChanged && !anyway) {\r\n        return null;\r\n    }\r\n\r\n    this.updateLength(true);\r\n\r\n    // adjust start index to current list length\r\n    this.start = Math.max(\r\n        Math.min(\r\n            this.start,\r\n            Math.floor((this.list.length() - 1) / this.range)\r\n                * this.range + 1\r\n        ),\r\n        1\r\n    );\r\n\r\n    // refresh existing cells\r\n    // highest index shown:\r\n    max = Math.min(\r\n        this.start + this.range - 1,\r\n        this.list.length()\r\n    );\r\n\r\n    // number of morphs available for refreshing\r\n    ceil = Math.min(\r\n        (max - this.start + 1) * 3,\r\n        this.frame.contents.children.length\r\n    );\r\n\r\n    for (i = 0; i < ceil; i += 3) {\r\n        idx = this.start + (i / 3);\r\n\r\n        cell = this.frame.contents.children[i];\r\n        label = this.frame.contents.children[i + 1];\r\n        button = this.frame.contents.children[i + 2];\r\n        cnts = this.list.at(idx);\r\n\r\n        if (cell.contents !== cnts) {\r\n            cell.contents = cnts;\r\n            cell.drawNew();\r\n            if (this.lastCell) {\r\n                cell.setLeft(this.lastCell.left());\r\n            }\r\n        }\r\n        this.lastCell = cell;\r\n\r\n        if (label.text !== idx.toString()) {\r\n            label.text = idx.toString();\r\n            label.drawNew();\r\n        }\r\n\r\n        button.action = idx;\r\n    }\r\n\r\n    // remove excess cells\r\n    // number of morphs to be shown\r\n    morphs = (max - this.start + 1) * 3;\r\n\r\n    while (this.frame.contents.children.length > morphs) {\r\n        this.frame.contents.children[morphs].destroy();\r\n    }\r\n\r\n    // add additional cells\r\n    ceil = morphs; //max * 3;\r\n    i = this.frame.contents.children.length;\r\n\r\n    starttime = Date.now();\r\n    if (ceil > i + 1) {\r\n        for (i; i < ceil; i += 3) {\r\n            if (Date.now() - starttime > maxtime) {\r\n                this.fixLayout();\r\n                this.frame.contents.adjustBounds();\r\n                this.frame.contents.setLeft(this.frame.left());\r\n                return null;\r\n            }\r\n            idx = this.start + (i / 3);\r\n            label = new StringMorph(\r\n                idx.toString(),\r\n                SyntaxElementMorph.prototype.fontSize,\r\n                null,\r\n                false,\r\n                false,\r\n                false,\r\n                MorphicPreferences.isFlat ? new Point() : new Point(1, 1),\r\n                new Color(255, 255, 255)\r\n            );\r\n            cell = new CellMorph(\r\n                this.list.at(idx),\r\n                this.cellColor,\r\n                idx,\r\n                this.parentCell\r\n            );\r\n            button = new PushButtonMorph(\r\n                this.list.remove,\r\n                idx,\r\n                '-',\r\n                this.list\r\n            );\r\n            button.padding = 1;\r\n            button.edge = 0;\r\n            button.corner = 1;\r\n            button.outlineColor = this.color.darker();\r\n            button.drawNew();\r\n            button.fixLayout();\r\n\r\n            this.frame.contents.add(cell);\r\n            if (this.lastCell) {\r\n                cell.setPosition(this.lastCell.bottomLeft());\r\n            } else {\r\n                cell.setTop(this.frame.contents.top());\r\n            }\r\n            this.lastCell = cell;\r\n            label.setCenter(cell.center());\r\n            label.setRight(cell.left() - 2);\r\n            this.frame.contents.add(label);\r\n            this.frame.contents.add(button);\r\n        }\r\n    }\r\n    this.lastCell = null;\r\n\r\n    this.fixLayout();\r\n    this.frame.contents.adjustBounds();\r\n    this.frame.contents.setLeft(this.frame.left());\r\n    this.updateLength();\r\n    this.lastUpdated = this.list.lastChanged;\r\n};\r\n\r\nListWatcherMorph.prototype.updateLength = function (notDone) {\r\n    this.label.text = localize('length: ') + this.list.length();\r\n    if (notDone) {\r\n        this.label.color = new Color(0, 0, 100);\r\n    } else {\r\n        this.label.color = new Color(0, 0, 0);\r\n    }\r\n    this.label.drawNew();\r\n    this.label.setCenter(this.center());\r\n    this.label.setBottom(this.bottom() - 3);\r\n};\r\n\r\nListWatcherMorph.prototype.startIndexMenu = function () {\r\n    var i,\r\n        range,\r\n        myself = this,\r\n        items = Math.ceil(this.list.length() / this.range),\r\n        menu = new MenuMorph(\r\n            function (idx) {myself.setStartIndex(idx); },\r\n            null,\r\n            myself\r\n        );\r\n    menu.addItem('1...', 1);\r\n    for (i = 1; i < items; i += 1) {\r\n        range = i * 100 + 1;\r\n        menu.addItem(range + '...', range);\r\n    }\r\n    menu.popUpAtHand(this.world());\r\n};\r\n\r\nListWatcherMorph.prototype.setStartIndex = function (index) {\r\n    this.start = index;\r\n    this.list.changed();\r\n};\r\n\r\nListWatcherMorph.prototype.fixLayout = function () {\r\n    if (!this.label) {return; }\r\n    Morph.prototype.trackChanges = false;\r\n    if (this.frame) {\r\n        this.arrangeCells();\r\n        this.frame.silentSetPosition(this.position().add(3));\r\n        this.frame.bounds.corner = this.bounds.corner.subtract(new Point(\r\n            3,\r\n            17\r\n        ));\r\n        this.frame.drawNew();\r\n        this.frame.contents.adjustBounds();\r\n    }\r\n\r\n    this.label.setCenter(this.center());\r\n    this.label.setBottom(this.bottom() - 3);\r\n    this.plusButton.setLeft(this.left() + 3);\r\n    this.plusButton.setBottom(this.bottom() - 3);\r\n\r\n    Morph.prototype.trackChanges = true;\r\n    this.changed();\r\n\r\n    if (this.parent && this.parent.fixLayout) {\r\n        this.parent.fixLayout();\r\n    }\r\n};\r\n\r\nListWatcherMorph.prototype.arrangeCells = function () {\r\n    var i, cell, label, button, lastCell,\r\n        end = this.frame.contents.children.length;\r\n    for (i = 0; i < end; i += 3) {\r\n        cell = this.frame.contents.children[i];\r\n        label = this.frame.contents.children[i + 1];\r\n        button = this.frame.contents.children[i + 2];\r\n        if (lastCell) {\r\n            cell.setTop(lastCell.bottom());\r\n        }\r\n        if (label) {\r\n            label.setTop(cell.center().y - label.height() / 2);\r\n            label.setRight(cell.left() - 2);\r\n        }\r\n        if (button) {\r\n            button.setCenter(cell.center());\r\n            button.setLeft(cell.right() + 2);\r\n        }\r\n        lastCell = cell;\r\n    }\r\n    this.frame.contents.adjustBounds();\r\n};\r\n\r\nListWatcherMorph.prototype.expand = function (maxExtent) {\r\n    // make sure to show all (first 100) cells\r\n    var fe = this.frame.contents.extent(),\r\n        ext = new Point(fe.x + 6, fe.y + this.label.height() + 6);\r\n    if (maxExtent) {\r\n        ext = ext.min(maxExtent);\r\n    }\r\n    this.setExtent(ext);\r\n    this.handle.setRight(this.right() - 3);\r\n    this.handle.setBottom(this.bottom() - 3);\r\n};\r\n\r\n// ListWatcherMorph context menu\r\n\r\nListWatcherMorph.prototype.userMenu = function () {\r\n    if (!List.prototype.enableTables) {\r\n        return this.escalateEvent('userMenu');\r\n    }\r\n    var menu = new MenuMorph(this),\r\n        myself = this;\r\n    menu.addItem('table view...', 'showTableView');\r\n    menu.addLine();\r\n    menu.addItem(\r\n        'open in dialog...',\r\n        function () {\r\n            new TableDialogMorph(myself.list).popUp(myself.world());\r\n        }\r\n    );\r\n    return menu;\r\n};\r\n\r\nListWatcherMorph.prototype.showTableView = function () {\r\n    var view = this.parentThatIsAnyOf([\r\n        SpriteBubbleMorph,\r\n        SpeechBubbleMorph,\r\n        CellMorph\r\n    ]);\r\n    if (!view) {return; }\r\n    if (view instanceof SpriteBubbleMorph) {\r\n        view.changed();\r\n        view.drawNew(true);\r\n    } else if (view instanceof SpeechBubbleMorph) {\r\n        view.contents = new TableFrameMorph(new TableMorph(this.list, 10));\r\n        view.contents.expand(this.extent());\r\n        view.drawNew(true);\r\n    } else { // watcher cell\r\n        view.drawNew(true, 'table');\r\n        view.contentsMorph.expand(this.extent());\r\n    }\r\n    view.fixLayout();\r\n};\r\n\r\n// ListWatcherMorph events:\r\n\r\nListWatcherMorph.prototype.mouseDoubleClick = function (pos) {\r\n    if (List.prototype.enableTables) {\r\n        new TableDialogMorph(this.list).popUp(this.world());\r\n    } else {\r\n        this.escalateEvent('mouseDoubleClick', pos);\r\n    }\r\n};\r\n\r\n// ListWatcherMorph hiding/showing:\r\n\r\nListWatcherMorph.prototype.show = function () {\r\n    ListWatcherMorph.uber.show.call(this);\r\n    this.frame.contents.adjustBounds();\r\n};\r\n\r\n// ListWatcherMorph drawing:\r\n\r\nListWatcherMorph.prototype.drawNew = function () {\r\n    WatcherMorph.prototype.drawNew.call(this);\r\n    this.fixLayout();\r\n};\r\n//fin de Lists.js\r\n/*\r\n\r\n    byob.js\r\n\r\n    \"build your own blocks\" for Snap!\r\n    based on morphic.js, widgets.js blocks.js, threads.js and objects.js\r\n    inspired by Scratch\r\n\r\n    written by Jens Mönig\r\n    jens@moenig.org\r\n\r\n    Copyright (C) 2017 by Jens Mönig\r\n\r\n    This file is part of Snap!.\r\n\r\n    Snap! is free software: you can redistribute it and/or modify\r\n    it under the terms of the GNU Affero General Public License as\r\n    published by the Free Software Foundation, either version 3 of\r\n    the License, or (at your option) any later version.\r\n\r\n    This program is distributed in the hope that it will be useful,\r\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n    GNU Affero General Public License for more details.\r\n\r\n    You should have received a copy of the GNU Affero General Public License\r\n    along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n\r\n\r\n    prerequisites:\r\n    --------------\r\n    needs blocks.js, threads.js, objects.js, widgets.js and morphic.js\r\n\r\n\r\n    hierarchy\r\n    ---------\r\n    the following tree lists all constructors hierarchically,\r\n    indentation indicating inheritance. Refer to this list to get a\r\n    contextual overview:\r\n\r\n    BlockLabelFragment\r\n    CustomBlockDefinition\r\n\r\n    CommandBlockMorph***\r\n        CustomCommandBlockMorph\r\n        HatBlockMorph***\r\n            PrototypeHatBlockMorph\r\n\r\n    DialogBoxMorph**\r\n        BlockDialogMorph\r\n        BlockEditorMorph\r\n        BlockExportDialogMorph\r\n        BlockImportDialogMorph\r\n        BlockRemovalDialogMorph\r\n        InputSlotDialogMorph\r\n        VariableDialogMorph\r\n\r\n    ReporterBlockMorph***\r\n        CustomReporterBlockMorph\r\n        JaggedBlockMorph\r\n\r\n\r\n    StringMorph*\r\n        BlockLabelFragmentMorph\r\n        BlockLabelPlaceHolderMorph\r\n\r\n    TemplateSlotMorph***\r\n        BlockInputFragmentMorph\r\n\r\n    * from morphic.js\r\n    ** from widgets.js\r\n    *** from blocks.js\r\n\r\n\r\n    toc\r\n    ---\r\n    the following list shows the order in which all constructors are\r\n    defined. Use this list to locate code in this document:\r\n\r\n    CustomBlockDefinition\r\n    CustomCommandBlockMorph\r\n    CustomReporterBlockMorph\r\n    JaggedBlockMorph\r\n    BlockDialogMorph\r\n    BlockEditorMorph\r\n    PrototypeHatBlockMorph\r\n    BlockLabelFragmentMorph\r\n    BlockLabelPlaceHolderMorph\r\n    BlockInputFragmentMorph\r\n    InputSlotDialogMorph\r\n    VariableDialogMorph\r\n    BlockExportDialogMorph\r\n    BlockImportDialogMorph\r\n    BlockRemovalDialogMorph\r\n\r\n*/\r\n\r\n/*global modules, CommandBlockMorph, SpriteMorph, TemplateSlotMorph,\r\nStringMorph, Color, DialogBoxMorph, ScriptsMorph, ScrollFrameMorph,\r\nPoint, HandleMorph, HatBlockMorph, BlockMorph, detect, List, Process,\r\nAlignmentMorph, ToggleMorph, InputFieldMorph, ReporterBlockMorph,\r\nStringMorph, nop, newCanvas, radians, BoxMorph, ArrowMorph, PushButtonMorph,\r\ncontains, InputSlotMorph, ToggleButtonMorph, IDE_Morph, MenuMorph, copy,\r\nToggleElementMorph, Morph, fontHeight, StageMorph, SyntaxElementMorph,\r\nSnapSerializer, CommentMorph, localize, CSlotMorph, MorphicPreferences,\r\nSymbolMorph, isNil, CursorMorph, VariableFrame, WatcherMorph, Variable,\r\nBooleanSlotMorph, XML_Serializer, SnapTranslator*/\r\n\r\n// Global stuff ////////////////////////////////////////////////////////\r\n\r\nmodules.byob = '2017-December-01';\r\n\r\n// Declarations\r\n\r\nvar CustomBlockDefinition;\r\nvar CustomCommandBlockMorph;\r\nvar CustomReporterBlockMorph;\r\nvar BlockDialogMorph;\r\nvar BlockEditorMorph;\r\nvar PrototypeHatBlockMorph;\r\nvar BlockLabelFragment;\r\nvar BlockLabelFragmentMorph;\r\nvar BlockInputFragmentMorph;\r\nvar BlockLabelPlaceHolderMorph;\r\nvar InputSlotDialogMorph;\r\nvar VariableDialogMorph;\r\nvar JaggedBlockMorph;\r\nvar BlockExportDialogMorph;\r\nvar BlockImportDialogMorph;\r\nvar BlockRemovalDialogMorph;\r\n\r\n// CustomBlockDefinition ///////////////////////////////////////////////\r\n\r\n// CustomBlockDefinition instance creation:\r\n\r\nfunction CustomBlockDefinition(spec, receiver) {\r\n    this.body = null; // a Context (i.e. a reified top block)\r\n    this.scripts = [];\r\n    this.category = null;\r\n    this.isGlobal = false;\r\n    this.type = 'command';\r\n    this.spec = spec || '';\r\n    // format: {'inputName' : [type, default, options, readonly]}\r\n    this.declarations = {};\r\n    this.variableNames = [];\r\n    this.comment = null;\r\n    this.codeMapping = null; // experimental, generate text code\r\n    this.codeHeader = null; // experimental, generate text code\r\n    this.translations = {}; // experimental, format: {lang : spec}\r\n\r\n    // don't serialize (not needed for functionality):\r\n    this.receiver = receiver || null; // for serialization only (pointer)\r\n    this.editorDimensions = null; // a rectangle, last bounds of the editor\r\n    this.cachedIsRecursive = null; // for automatic yielding\r\n    this.cachedTranslation = null; // for localized block specs\r\n}\r\n\r\n// CustomBlockDefinition instantiating blocks\r\n\r\nCustomBlockDefinition.prototype.blockInstance = function () {\r\n    var block;\r\n    if (this.type === 'command') {\r\n        block = new CustomCommandBlockMorph(this);\r\n    } else {\r\n        block = new CustomReporterBlockMorph(\r\n            this,\r\n            this.type === 'predicate'\r\n        );\r\n    }\r\n    block.isDraggable = true;\r\n    return block;\r\n};\r\n\r\nCustomBlockDefinition.prototype.templateInstance = function () {\r\n    var block;\r\n    block = this.blockInstance();\r\n    block.refreshDefaults(this);\r\n    block.isDraggable = false;\r\n    block.isTemplate = true;\r\n    return block;\r\n};\r\n\r\nCustomBlockDefinition.prototype.prototypeInstance = function () {\r\n    var block, slot, myself = this;\r\n\r\n    // make a new block instance and mark it as prototype\r\n    if (this.type === 'command') {\r\n        block = new CustomCommandBlockMorph(this, true);\r\n    } else {\r\n        block = new CustomReporterBlockMorph(\r\n            this,\r\n            this.type === 'predicate',\r\n            true\r\n        );\r\n    }\r\n\r\n    // assign slot declarations to prototype inputs\r\n    block.parts().forEach(function (part) {\r\n        if (part instanceof BlockInputFragmentMorph) {\r\n            slot = myself.declarations[part.fragment.labelString];\r\n            if (slot) {\r\n                part.fragment.type = slot[0];\r\n                part.fragment.defaultValue = slot[1];\r\n                part.fragment.options = slot[2];\r\n                part.fragment.isReadOnly = slot[3] || false;\r\n            }\r\n        }\r\n    });\r\n\r\n    return block;\r\n};\r\n\r\n// CustomBlockDefinition duplicating\r\n\r\nCustomBlockDefinition.prototype.copyAndBindTo = function (sprite, headerOnly) {\r\n    var c = copy(this);\r\n\r\n    delete c[XML_Serializer.prototype.idProperty];\r\n    c.receiver = sprite; // only for (kludgy) serialization\r\n    c.declarations = copy(this.declarations); // might have to go deeper\r\n    if (headerOnly) { // for serializing inherited method signatures\r\n        c.body = null;\r\n        return c;\r\n    }\r\n    if (c.body) {\r\n        c.body = Process.prototype.reify.call(\r\n            null,\r\n            this.body.expression,\r\n            new List(this.inputNames())\r\n        );\r\n        c.body.outerContext = null;\r\n    }\r\n    return c;\r\n};\r\n\r\n// CustomBlockDefinition accessing\r\n\r\nCustomBlockDefinition.prototype.blockSpec = function () {\r\n    var myself = this,\r\n        ans = [],\r\n        parts = this.parseSpec(this.spec),\r\n        spec;\r\n    parts.forEach(function (part) {\r\n        if (part[0] === '%' && part.length > 1) {\r\n            spec = myself.typeOf(part.slice(1));\r\n        } else if (part === '$nl') {\r\n            spec = '%br';\r\n        } else {\r\n            spec = part;\r\n        }\r\n        ans.push(spec);\r\n        ans.push(' ');\r\n    });\r\n    return ''.concat.apply('', ans).trim();\r\n};\r\n\r\nCustomBlockDefinition.prototype.helpSpec = function () {\r\n    var ans = [],\r\n        parts = this.parseSpec(this.spec);\r\n    parts.forEach(function (part) {\r\n        if (part[0] !== '%') {\r\n            ans.push(part);\r\n        }\r\n    });\r\n    return ''.concat.apply('', ans).replace(/\\?/g, '');\r\n};\r\n\r\nCustomBlockDefinition.prototype.typeOf = function (inputName) {\r\n    if (this.declarations[inputName]) {\r\n        return this.declarations[inputName][0];\r\n    }\r\n    return '%s';\r\n};\r\n\r\nCustomBlockDefinition.prototype.defaultValueOf = function (inputName) {\r\n    if (this.declarations[inputName]) {\r\n        return this.declarations[inputName][1];\r\n    }\r\n    return '';\r\n};\r\n\r\nCustomBlockDefinition.prototype.defaultValueOfInputIdx = function (idx) {\r\n    var inputName = this.inputNames()[idx];\r\n    return this.defaultValueOf(inputName);\r\n};\r\n\r\nCustomBlockDefinition.prototype.dropDownMenuOfInputIdx = function (idx) {\r\n    var inputName = this.inputNames()[idx];\r\n    return this.dropDownMenuOf(inputName);\r\n};\r\n\r\nCustomBlockDefinition.prototype.isReadOnlyInputIdx = function (idx) {\r\n    var inputName = this.inputNames()[idx];\r\n    return this.isReadOnlyInput(inputName);\r\n};\r\n\r\nCustomBlockDefinition.prototype.inputOptionsOfIdx = function (idx) {\r\n    var inputName = this.inputNames()[idx];\r\n    return this.inputOptionsOf(inputName);\r\n};\r\n\r\nCustomBlockDefinition.prototype.dropDownMenuOf = function (inputName) {\r\n    if (this.declarations[inputName] && this.declarations[inputName][2]) {\r\n        return this.parseChoices(this.declarations[inputName][2]);\r\n    }\r\n    return null;\r\n};\r\n\r\nCustomBlockDefinition.prototype.parseChoices = function (string) {\r\n    var dict = {},\r\n        stack = [dict];\r\n    string.split('\\n').forEach(function (line) {\r\n        var pair = line.split('=');\r\n        if (pair[0] === '}') {\r\n            stack.pop();\r\n            dict = stack[stack.length - 1];\r\n        } else if (pair[1] === '{') {\r\n            dict = {};\r\n            stack[stack.length - 1][pair[0]] = dict;\r\n            stack.push(dict);\r\n        } else {\r\n            dict[pair[0]] = isNil(pair[1]) ? pair[0] : pair[1];\r\n        }\r\n    });\r\n    return dict;\r\n};\r\n\r\nCustomBlockDefinition.prototype.isReadOnlyInput = function (inputName) {\r\n    return this.declarations[inputName] &&\r\n        this.declarations[inputName][3] === true;\r\n};\r\n\r\nCustomBlockDefinition.prototype.inputOptionsOf = function (inputName) {\r\n    return [\r\n        this.dropDownMenuOf(inputName),\r\n        this.isReadOnlyInput(inputName)\r\n    ];\r\n};\r\n\r\nCustomBlockDefinition.prototype.inputNames = function () {\r\n    var vNames = [],\r\n        parts = this.parseSpec(this.spec);\r\n    parts.forEach(function (part) {\r\n        if (part[0] === '%' && part.length > 1) {\r\n            vNames.push(part.slice(1));\r\n        }\r\n    });\r\n    return vNames;\r\n};\r\n\r\nCustomBlockDefinition.prototype.parseSpec = function (spec) {\r\n    // private\r\n    var parts = [], word = '', i, quoted = false, c;\r\n    for (i = 0; i < spec.length; i += 1) {\r\n        c = spec[i];\r\n        if (c === \"'\") {\r\n            quoted = !quoted;\r\n        } else if (c === ' ' && !quoted) {\r\n            parts.push(word);\r\n            word = '';\r\n        } else {\r\n            word = word.concat(c);\r\n        }\r\n    }\r\n    parts.push(word);\r\n    return parts;\r\n};\r\n\r\nCustomBlockDefinition.prototype.isDirectlyRecursive = function () {\r\n    var myspec;\r\n    if (this.cachedIsRecursive !== null) {\r\n        return this.cachedIsRecursive;\r\n    }\r\n    if (!this.body) {\r\n        this.cachedIsRecursive = false;\r\n    } else {\r\n        myspec = this.blockSpec();\r\n        this.cachedIsRecursive = this.body.expression.anyChild(\r\n            function (morph) {\r\n                return morph.isCustomBlock &&\r\n                    morph.blockSpec === myspec;\r\n            }\r\n        );\r\n    }\r\n    return this.cachedIsRecursive;\r\n};\r\n\r\n// CustomBlockDefinition localizing, highly experimental\r\n\r\nCustomBlockDefinition.prototype.localizedSpec = function () {\r\n\tif (this.cachedTranslation) {return this.cachedTranslation; }\r\n\r\n\tvar loc = this.translations[SnapTranslator.language],\r\n\t\tsem = this.blockSpec(),\r\n        locParts,\r\n  \t\tinputs,\r\n    \ti = -1;\r\n\r\n\tfunction isInput(str) {\r\n    \treturn (str.length > 1) && (str[0] === '%');\r\n \t}\r\n\r\n    if (isNil(loc)) {return sem; }\r\n    inputs = BlockMorph.prototype.parseSpec(sem).filter(function (str) {\r\n        return (isInput(str));\r\n    });\r\n\tlocParts = BlockMorph.prototype.parseSpec(loc);\r\n\r\n\t// perform a bunch of sanity checks on the localized spec\r\n\tif (locParts.some(function (str) {return isInput(str); }) ||\r\n \t\t\t(locParts.filter(function (str) {return str === '_'; }).length !==\r\n            \tinputs.length)\r\n    ) {\r\n \t\tthis.cachedTranslation = sem;\r\n    } else {\r\n\t\t// substitute each input place holder with its semantic spec part\r\n\t\tlocParts = locParts.map(function (str) {\r\n\t\t\tif (str === '_') {\r\n  \t\t\t\ti += 1;\r\n  \t\t\t\treturn inputs[i];\r\n  \t\t\t}\r\n    \t\treturn str;\r\n\t\t});\r\n \t\tthis.cachedTranslation = locParts.join(' ');\r\n   \t}\r\n  \treturn this.cachedTranslation;\r\n};\r\n\r\nCustomBlockDefinition.prototype.abstractBlockSpec = function () {\r\n\t// answer the semantic block spec substituting each input\r\n \t// with an underscore\r\n    return BlockMorph.prototype.parseSpec(this.blockSpec()).map(\r\n    \tfunction (str) {\r\n    \t\treturn (str.length > 1 && (str[0]) === '%') ? '_' : str;\r\n    \t}\r\n    ).join(' ');\r\n};\r\n\r\nCustomBlockDefinition.prototype.translationsAsText = function () {\r\n\tvar myself = this,\r\n \t\ttxt = '';\r\n\tObject.keys(this.translations).forEach(function (lang) {\r\n \t\ttxt += (lang + ':' + myself.translations[lang] + '\\n');\r\n    });\r\n    return txt;\r\n};\r\n\r\nCustomBlockDefinition.prototype.updateTranslations = function (text) {\r\n\tvar myself = this,\r\n    \tlines = text.split('\\n').filter(function (txt) {\r\n     \t   return txt.length;\r\n    \t});\r\n\tthis.translations = {};\r\n \tlines.forEach(function (txt) {\r\n  \t\tvar idx = txt.indexOf(':'),\r\n    \t\tkey = txt.slice(0, idx).trim(),\r\n      \t\tval = txt.slice(idx + 1).trim();\r\n    \tif (idx) {\r\n     \t\tmyself.translations[key] = val;\r\n     \t}\r\n    });\r\n};\r\n\r\n// CustomBlockDefinition picturing\r\n\r\nCustomBlockDefinition.prototype.scriptsPicture = function () {\r\n    return this.scriptsModel().scriptsPicture();\r\n};\r\n\r\nCustomBlockDefinition.prototype.sortedElements = function () {\r\n    return this.scriptsModel().sortedElements();\r\n};\r\n\r\nCustomBlockDefinition.prototype.scriptsModel = function () {\r\n    // answer a restored scripting area for the sake\r\n    // of creating script pictures\r\n    var scripts, proto, block, comment, template;\r\n\r\n    scripts = new ScriptsMorph();\r\n    scripts.cleanUpMargin = 10;\r\n    proto = new PrototypeHatBlockMorph(this);\r\n    proto.setPosition(scripts.position().add(10));\r\n    if (this.comment !== null) {\r\n        comment = this.comment.fullCopy();\r\n        proto.comment = comment;\r\n        comment.block = proto;\r\n    }\r\n    if (this.body !== null) {\r\n        proto.nextBlock(this.body.expression.fullCopy());\r\n    }\r\n    scripts.add(proto);\r\n    proto.fixBlockColor(null, true);\r\n    this.scripts.forEach(function (element) {\r\n        block = element.fullCopy();\r\n        block.setPosition(scripts.position().add(element.position()));\r\n        scripts.add(block);\r\n        if (block instanceof BlockMorph) {\r\n            block.allComments().forEach(function (comment) {\r\n                comment.align(block);\r\n            });\r\n        }\r\n    });\r\n    proto.allComments().forEach(function (comment) {\r\n        comment.align(proto);\r\n    });\r\n    template = proto.parts()[0];\r\n    template.fixLayout();\r\n    template.forceNormalColoring();\r\n    template.fixBlockColor(proto, true);\r\n    scripts.fixMultiArgs();\r\n    return scripts;\r\n};\r\n\r\n// CustomBlockDefinition purging deleted blocks\r\n\r\nCustomBlockDefinition.prototype.purgeCorpses = function () {\r\n    // remove blocks that have been marked for deletion\r\n    if (this.body && this.body.expression.isCorpse) {\r\n        this.body = null;\r\n    }\r\n    this.scripts = this.scripts.filter(function (topBlock) {\r\n        return !topBlock.isCorpse;\r\n    });\r\n};\r\n\r\n// CustomCommandBlockMorph /////////////////////////////////////////////\r\n\r\n// CustomCommandBlockMorph inherits from CommandBlockMorph:\r\n\r\nCustomCommandBlockMorph.prototype = new CommandBlockMorph();\r\nCustomCommandBlockMorph.prototype.constructor = CustomCommandBlockMorph;\r\nCustomCommandBlockMorph.uber = CommandBlockMorph.prototype;\r\n\r\n// CustomCommandBlockMorph shared settings:\r\n\r\nCustomCommandBlockMorph.prototype.isCustomBlock = true;\r\n\r\n// CustomCommandBlockMorph instance creation:\r\n\r\nfunction CustomCommandBlockMorph(definition, isProto) {\r\n    this.init(definition, isProto);\r\n}\r\n\r\nCustomCommandBlockMorph.prototype.init = function (definition, isProto) {\r\n    this.definition = definition; // mandatory\r\n    this.semanticSpec = '';\r\n    this.isGlobal = definition ? definition.isGlobal : false;\r\n    this.isPrototype = isProto || false; // optional\r\n    CustomCommandBlockMorph.uber.init.call(this, true); // silently\r\n    this.category = definition.category;\r\n    this.selector = 'evaluateCustomBlock';\r\n    this.variables = null;\r\n    this.initializeVariables();\r\n    if (definition) { // needed for de-serializing\r\n        this.refresh();\r\n    }\r\n};\r\n\r\nCustomCommandBlockMorph.prototype.initializeVariables = function (oldVars) {\r\n    var myself = this;\r\n    this.variables = new VariableFrame();\r\n    if (!this.isGlobal) {\r\n        return;\r\n    }\r\n    this.definition.variableNames.forEach(function (name) {\r\n        var v = oldVars ? oldVars[name] : null;\r\n        myself.variables.addVar(\r\n            name,\r\n            v instanceof Variable ? v.value : null\r\n        );\r\n    });\r\n};\r\n\r\nCustomCommandBlockMorph.prototype.refresh = function (aDefinition, silently) {\r\n    var def = aDefinition || this.definition,\r\n        newSpec = this.isPrototype ?\r\n                def.spec : def.localizedSpec(),\r\n        oldInputs;\r\n\r\n\tthis.semanticSpec = def.blockSpec();\r\n\r\n    // make sure local custom blocks don't hold on to a method.\r\n    // future performance optimization plan:\r\n    // null out the definition for local blocks here,\r\n    // and then cache them again when invoking them\r\n    if (!this.isGlobal && !this.isPrototype) {\r\n        this.definition = null;\r\n    }\r\n\r\n    this.setCategory(def.category);\r\n    if (this.blockSpec !== newSpec) {\r\n        oldInputs = this.inputs();\r\n        if (!this.zebraContrast) {\r\n            this.forceNormalColoring();\r\n        } else {\r\n            this.fixBlockColor();\r\n        }\r\n        this.setSpec(newSpec, silently, def);\r\n        this.fixLabelColor();\r\n        this.restoreInputs(oldInputs);\r\n    } else { // update all input slots' drop-downs\r\n        this.inputs().forEach(function (inp, i) {\r\n            if (inp instanceof InputSlotMorph) {\r\n                inp.setChoices.apply(inp, def.inputOptionsOfIdx(i));\r\n            }\r\n        });\r\n    }\r\n\r\n    // find unnamed upvars and label them\r\n    // to their internal definition (default)\r\n    this.cachedInputs = null;\r\n    this.inputs().forEach(function (inp, idx) {\r\n        if (inp instanceof TemplateSlotMorph && inp.contents() === '\\u2191') {\r\n            inp.setContents(def.inputNames()[idx]);\r\n        }\r\n    });\r\n\r\n    // initialize block vars\r\n    // preserve values of unchanged variable names\r\n    if (this.isGlobal) {\r\n        this.initializeVariables(this.variables.vars);\r\n    }\r\n\r\n    // make (double) sure I'm colored correctly\r\n    this.forceNormalColoring();\r\n    this.drawNew();\r\n    this.fixBlockColor(null, true);\r\n};\r\n\r\nCustomCommandBlockMorph.prototype.restoreInputs = function (oldInputs) {\r\n    // try to restore my previous inputs when my spec has been changed\r\n    var i = 0,\r\n        old,\r\n        myself = this;\r\n\r\n    if (this.isPrototype) {return; }\r\n    this.cachedInputs = null;\r\n    this.inputs().forEach(function (inp) {\r\n        old = oldInputs[i];\r\n        if (old instanceof ReporterBlockMorph &&\r\n                (!(inp instanceof TemplateSlotMorph))) {\r\n            myself.silentReplaceInput(inp, old.fullCopy());\r\n        } else if (old instanceof InputSlotMorph\r\n                && inp instanceof InputSlotMorph) {\r\n            inp.setContents(old.evaluate());\r\n        } else if (old instanceof TemplateSlotMorph\r\n                && inp instanceof TemplateSlotMorph) {\r\n            inp.setContents(old.evaluate());\r\n        } else if (old instanceof CSlotMorph\r\n                && inp instanceof CSlotMorph) {\r\n            inp.nestedBlock(old.evaluate());\r\n        }\r\n        i += 1;\r\n    });\r\n    this.cachedInputs = null;\r\n};\r\n\r\nCustomCommandBlockMorph.prototype.refreshDefaults = function (definition) {\r\n    // fill my editable slots with the defaults specified in my definition\r\n    var inputs = this.inputs(), idx = 0, myself = this;\r\n\r\n    inputs.forEach(function (inp) {\r\n        if (inp instanceof InputSlotMorph || inp instanceof BooleanSlotMorph) {\r\n            inp.setContents(\r\n                (definition || myself.definition).defaultValueOfInputIdx(idx)\r\n            );\r\n        }\r\n        idx += 1;\r\n    });\r\n    this.cachedInputs = null;\r\n};\r\n\r\nCustomCommandBlockMorph.prototype.refreshPrototype = function () {\r\n    // create my label parts from my (edited) fragments only\r\n    var hat,\r\n        protoSpec,\r\n        frags = [],\r\n        myself = this,\r\n        words,\r\n        newFrag,\r\n        i = 0;\r\n\r\n    if (!this.isPrototype) {return null; }\r\n\r\n    hat = this.parentThatIsA(PrototypeHatBlockMorph);\r\n\r\n    // remember the edited fragments\r\n    this.parts().forEach(function (part) {\r\n        if (!part.fragment.isDeleted) {\r\n            // take into consideration that a fragment may spawn others\r\n            // if it isn't an input label consisting of several words\r\n            if (part.fragment.type) { // marked as input, take label as is\r\n                frags.push(part.fragment);\r\n            } else { // not an input, devide into several non-input fragments\r\n                words = myself.definition.parseSpec(\r\n                    part.fragment.labelString\r\n                );\r\n                words.forEach(function (word) {\r\n                    newFrag = part.fragment.copy();\r\n                    newFrag.labelString = word;\r\n                    frags.push(newFrag);\r\n                });\r\n            }\r\n        }\r\n    });\r\n\r\n    // remember the edited prototype spec\r\n    protoSpec = this.specFromFragments();\r\n\r\n\r\n    // update the prototype's type\r\n    // and possibly exchange 'this' for 'myself'\r\n    if (this instanceof CustomCommandBlockMorph\r\n            && ((hat.type === 'reporter') || (hat.type === 'predicate'))) {\r\n        myself = new CustomReporterBlockMorph(\r\n            this.definition,\r\n            hat.type === 'predicate',\r\n            true\r\n        );\r\n        hat.silentReplaceInput(this, myself);\r\n    } else if (this instanceof CustomReporterBlockMorph) {\r\n        if (hat.type === 'command') {\r\n            myself = new CustomCommandBlockMorph(\r\n                this.definition,\r\n                true\r\n            );\r\n            hat.silentReplaceInput(this, myself);\r\n        } else {\r\n            this.isPredicate = (hat.type === 'predicate');\r\n            this.drawNew();\r\n        }\r\n    }\r\n    myself.setCategory(hat.blockCategory || 'other');\r\n    hat.fixBlockColor();\r\n\r\n    // update the (new) prototype's appearance\r\n    myself.setSpec(protoSpec);\r\n\r\n    // update the (new) prototype's (new) fragments\r\n    // with the previously edited ones\r\n\r\n    myself.parts().forEach(function (part) {\r\n        if (!(part instanceof BlockLabelPlaceHolderMorph)) {\r\n            if (frags[i]) { // don't delete the default fragment\r\n                part.fragment = frags[i];\r\n            }\r\n            i += 1;\r\n        }\r\n    });\r\n\r\n    // refresh slot type indicators\r\n    this.refreshPrototypeSlotTypes();\r\n\r\n    hat.fixLayout();\r\n};\r\n\r\nCustomCommandBlockMorph.prototype.refreshPrototypeSlotTypes = function () {\r\n    this.parts().forEach(function (part) {\r\n        if (part instanceof BlockInputFragmentMorph) {\r\n            part.template().instantiationSpec = part.contents();\r\n            part.setContents(part.fragment.defTemplateSpecFragment());\r\n        }\r\n    });\r\n    this.fixBlockColor(null, true); // enforce zebra coloring of templates\r\n};\r\n\r\n\r\nCustomCommandBlockMorph.prototype.inputFragmentNames = function () {\r\n    // for the variable name slot drop-down menu (in the block editor)\r\n    var ans = [];\r\n\r\n    this.parts().forEach(function (part) {\r\n        if (!part.fragment.isDeleted && (part.fragment.type)) {\r\n            ans.push(part.fragment.labelString);\r\n        }\r\n    });\r\n    return ans;\r\n};\r\n\r\nCustomCommandBlockMorph.prototype.upvarFragmentNames = function () {\r\n    // for the variable name slot drop-down menu (in the block editor)\r\n    var ans = [];\r\n\r\n    this.parts().forEach(function (part) {\r\n        if (!part.fragment.isDeleted && (part.fragment.type === '%upvar')) {\r\n            ans.push(part.fragment.labelString);\r\n        }\r\n    });\r\n    return ans;\r\n};\r\n\r\nCustomCommandBlockMorph.prototype.upvarFragmentName = function (idx) {\r\n    // for block prototypes while they are being edited\r\n    return this.upvarFragmentNames()[idx] || '\\u2191';\r\n};\r\n\r\nCustomCommandBlockMorph.prototype.specFromFragments = function () {\r\n    // for block prototypes while they are being edited\r\n    var ans = '';\r\n\r\n    this.parts().forEach(function (part) {\r\n        if (!part.fragment.isDeleted) {\r\n            ans = ans + part.fragment.defSpecFragment() + ' ';\r\n        }\r\n    });\r\n    return ans.trim();\r\n};\r\n\r\nCustomCommandBlockMorph.prototype.blockSpecFromFragments = function () {\r\n    // for block instances while their prototype is being edited\r\n    var ans = '';\r\n\r\n    this.parts().forEach(function (part) {\r\n        if (!part.fragment.isDeleted) {\r\n            ans = ans + part.fragment.blockSpecFragment() + ' ';\r\n        }\r\n    });\r\n    return ans.trim();\r\n};\r\n\r\nCustomCommandBlockMorph.prototype.declarationsFromFragments = function () {\r\n    // format for type declarations: {inputName : [type, default]}\r\n    var ans = {};\r\n\r\n    this.parts().forEach(function (part) {\r\n        if (part instanceof BlockInputFragmentMorph) {\r\n            ans[part.fragment.labelString] = [\r\n                part.fragment.type,\r\n                part.fragment.defaultValue,\r\n                part.fragment.options,\r\n                part.fragment.isReadOnly\r\n            ];\r\n        }\r\n    });\r\n    return ans;\r\n};\r\n\r\nCustomCommandBlockMorph.prototype.parseSpec = function (spec) {\r\n    if (!this.isPrototype) {\r\n        return CustomCommandBlockMorph.uber.parseSpec.call(this, spec);\r\n    }\r\n    return CustomBlockDefinition.prototype.parseSpec(spec);\r\n};\r\n\r\nCustomCommandBlockMorph.prototype.mouseClickLeft = function () {\r\n    if (!this.isPrototype) {\r\n        return CustomCommandBlockMorph.uber.mouseClickLeft.call(this);\r\n    }\r\n    this.edit();\r\n};\r\n\r\nCustomCommandBlockMorph.prototype.edit = function () {\r\n    var myself = this,\r\n        def = this.definition,\r\n        editor, block,\r\n        hat,\r\n        rcvr;\r\n\r\n    if (this.isPrototype) {\r\n        block = this.definition.blockInstance();\r\n        block.addShadow();\r\n        hat = this.parentThatIsA(PrototypeHatBlockMorph);\r\n        new BlockDialogMorph(\r\n            null,\r\n            function (definition) {\r\n                if (definition) { // temporarily update everything\r\n                    hat.blockCategory = definition.category;\r\n                    hat.type = definition.type;\r\n                    myself.refreshPrototype();\r\n                }\r\n            },\r\n            myself\r\n        ).openForChange(\r\n            'Change block',\r\n            hat.blockCategory,\r\n            hat.type,\r\n            myself.world(),\r\n            block.fullImage(),\r\n            myself.isInUse()\r\n        );\r\n    } else {\r\n        // check for local custom block inheritance\r\n        rcvr = this.scriptTarget();\r\n        if (!this.isGlobal) {\r\n            if (contains(\r\n                    Object.keys(rcvr.inheritedBlocks()),\r\n                    this.blockSpec\r\n                )\r\n            ) {\r\n                this.duplicateBlockDefinition();\r\n                return;\r\n            }\r\n            def = rcvr.getMethod(this.semanticSpec);\r\n        }\r\n        Morph.prototype.trackChanges = false;\r\n        editor = new BlockEditorMorph(def, rcvr);\r\n        editor.popUp();\r\n        Morph.prototype.trackChanges = true;\r\n        editor.changed();\r\n    }\r\n};\r\n\r\nCustomCommandBlockMorph.prototype.labelPart = function (spec) {\r\n    var part;\r\n\r\n    if (!this.isPrototype) {\r\n        return CustomCommandBlockMorph.uber.labelPart.call(this, spec);\r\n    }\r\n    if ((spec[0] === '%') && (spec.length > 1)) {\r\n        // part = new BlockInputFragmentMorph(spec.slice(1));\r\n        part = new BlockInputFragmentMorph(spec.replace(/%/g, ''));\r\n    } else {\r\n        part = new BlockLabelFragmentMorph(spec);\r\n        part.fontSize = this.fontSize;\r\n        part.color = new Color(255, 255, 255);\r\n        part.isBold = true;\r\n        part.shadowColor = this.color.darker(this.labelContrast);\r\n        part.shadowOffset = this.embossing;\r\n        part.drawNew();\r\n    }\r\n    return part;\r\n};\r\n\r\nCustomCommandBlockMorph.prototype.placeHolder = function () {\r\n    var part;\r\n\r\n    part = new BlockLabelPlaceHolderMorph();\r\n    part.fontSize = this.fontSize * 1.4;\r\n    part.color = new Color(45, 45, 45);\r\n    part.drawNew();\r\n    return part;\r\n};\r\n\r\nCustomCommandBlockMorph.prototype.attachTargets = function () {\r\n    if (this.isPrototype) {\r\n        return [];\r\n    }\r\n    return CustomCommandBlockMorph.uber.attachTargets.call(this);\r\n};\r\n\r\nCustomCommandBlockMorph.prototype.isInUse = function () {\r\n    // answer true if an instance of my definition is found\r\n    // in any of my receiver's scripts or block definitions\r\n    // NOTE: for sprite-local blocks only to be used in a situation\r\n    // where the user actively clicks on a block in the IDE,\r\n    // e.g. to edit it (and change its type)\r\n    var def = this.definition,\r\n        rcvr = this.scriptTarget(),\r\n        ide = rcvr.parentThatIsA(IDE_Morph);\r\n    if (def.isGlobal && ide) {\r\n        return ide.sprites.asArray().concat([ide.stage]).some(\r\n            function (any, idx) {\r\n                return any.usesBlockInstance(def, false, idx);\r\n            }\r\n        );\r\n    }\r\n    return rcvr.allDependentInvocationsOf(this.blockSpec).length > 0;\r\n};\r\n\r\n// CustomCommandBlockMorph menu:\r\n\r\nCustomCommandBlockMorph.prototype.userMenu = function () {\r\n    var hat = this.parentThatIsA(PrototypeHatBlockMorph),\r\n        rcvr = this.scriptTarget(),\r\n        myself = this,\r\n        shiftClicked = this.world().currentKey === 16,\r\n        menu;\r\n\r\n    function addOption(label, toggle, test, onHint, offHint) {\r\n        var on = '\\u2611 ',\r\n            off = '\\u2610 ';\r\n        menu.addItem(\r\n            (test ? on : off) + localize(label),\r\n            toggle,\r\n            test ? onHint : offHint\r\n        );\r\n    }\r\n\r\n   function monitor(vName) {\r\n        var stage = rcvr.parentThatIsA(StageMorph),\r\n            varFrame = myself.variables;\r\n        menu.addItem(\r\n            vName + '...',\r\n            function () {\r\n                var watcher = detect(\r\n                    stage.children,\r\n                    function (morph) {\r\n                        return morph instanceof WatcherMorph\r\n                            && morph.target === varFrame\r\n                            && morph.getter === vName;\r\n                    }\r\n                ),\r\n                    others;\r\n                if (watcher !== null) {\r\n                    watcher.show();\r\n                    watcher.fixLayout(); // re-hide hidden parts\r\n                    return;\r\n                }\r\n                watcher = new WatcherMorph(\r\n                    vName + ' ' + localize('(temporary)'),\r\n                    SpriteMorph.prototype.blockColor.variables,\r\n                    varFrame,\r\n                    vName\r\n                );\r\n                watcher.setPosition(stage.position().add(10));\r\n                others = stage.watchers(watcher.left());\r\n                if (others.length > 0) {\r\n                    watcher.setTop(others[others.length - 1].bottom());\r\n                }\r\n                stage.add(watcher);\r\n                watcher.fixLayout();\r\n            }\r\n        );\r\n    }\r\n\r\n    if (this.isPrototype) {\r\n        menu = new MenuMorph(this);\r\n        menu.addItem(\r\n            \"script pic...\",\r\n            function () {\r\n                var ide = this.world().children[0];\r\n                ide.saveCanvasAs(\r\n                    this.topBlock().scriptPic(),\r\n                    (ide.projectName || localize('untitled')) + ' ' +\r\n                        localize('script pic')\r\n                );\r\n            },\r\n            'open a new window\\nwith a picture of this script'\r\n        );\r\n        menu.addItem(\r\n            \"translations...\",\r\n            function () {\r\n                hat.parentThatIsA(BlockEditorMorph).editTranslations();\r\n            },\r\n            'experimental -\\nunder construction'\r\n        );\r\n        if (this.isGlobal) {\r\n            if (hat.inputs().length < 2) {\r\n                menu.addItem(\r\n                    \"block variables...\",\r\n                    function () {\r\n                        hat.enableBlockVars();\r\n                    },\r\n                    'experimental -\\nunder construction'\r\n                );\r\n            } else {\r\n                menu.addItem(\r\n                    \"remove block variables...\",\r\n                    function () {\r\n                        hat.enableBlockVars(false);\r\n                    },\r\n                    'experimental -\\nunder construction'\r\n                );\r\n            }\r\n        }\r\n    } else {\r\n        menu = this.constructor.uber.userMenu.call(this);\r\n        if (!menu) {\r\n            menu = new MenuMorph(this);\r\n        } else {\r\n            menu.addLine();\r\n        }\r\n        if (shiftClicked) {\r\n            // menu.addItem(\"export definition...\", 'exportBlockDefinition');\r\n            menu.addItem(\r\n                \"duplicate block definition...\",\r\n                'duplicateBlockDefinition',\r\n                null,\r\n                new Color(100, 0, 0)\r\n            );\r\n        }\r\n\r\n        if (this.isTemplate) { // inside the palette\r\n            if (this.isGlobal) {\r\n                menu.addItem(\r\n                    \"delete block definition...\",\r\n                    'deleteBlockDefinition'\r\n                );\r\n            } else { // local method\r\n                if (contains(\r\n                        Object.keys(rcvr.inheritedBlocks()),\r\n                        this.blockSpec\r\n                )) {\r\n                    // inherited\r\n                    addOption(\r\n                        'inherited',\r\n                        function () {\r\n                            var ide = myself.parentThatIsA(IDE_Morph);\r\n                            rcvr.customBlocks.push(\r\n                                rcvr.getMethod(\r\n                                    myself.blockSpec\r\n                                ).copyAndBindTo(rcvr)\r\n                            );\r\n                            if (ide) {\r\n                                ide.flushPaletteCache();\r\n                                ide.refreshPalette();\r\n                            }\r\n                        },\r\n                        true,\r\n                        'uncheck to\\ndisinherit',\r\n                        null\r\n                    );\r\n                } else if (rcvr.exemplar &&\r\n                    rcvr.exemplar.getMethod(this.blockSpec\r\n                )) {\r\n                    // shadowed\r\n                    addOption(\r\n                        'inherited',\r\n                        'deleteBlockDefinition',\r\n                        false,\r\n                        null,\r\n                        localize('check to inherit\\nfrom')\r\n                            + ' ' + rcvr.exemplar.name\r\n                    );\r\n                } else {\r\n                    // own block\r\n                    menu.addItem(\r\n                        \"delete block definition...\",\r\n                        'deleteBlockDefinition'\r\n                    );\r\n                }\r\n            }\r\n        } else { // inside a script\r\n            // if global or own method - let the user delete the definition\r\n            if (this.isGlobal ||\r\n                contains(\r\n                    Object.keys(rcvr.ownBlocks()),\r\n                    this.blockSpec\r\n                )\r\n            ) {\r\n                menu.addItem(\r\n                    \"delete block definition...\",\r\n                    'deleteBlockDefinition'\r\n                );\r\n            }\r\n        }\r\n\r\n        this.variables.names().forEach(function (vName) {\r\n            monitor(vName);\r\n        });\r\n    }\r\n    menu.addItem(\"edit...\", 'edit'); // works also for prototypes\r\n    return menu;\r\n};\r\n\r\nCustomCommandBlockMorph.prototype.exportBlockDefinition = function () {\r\n    var xml = new SnapSerializer().serialize(this.definition),\r\n        ide = this.parentThatIsA(IDE_Morph);\r\n\r\n    ide.saveXMLAs(xml, this.spec);\r\n};\r\n\r\nCustomCommandBlockMorph.prototype.duplicateBlockDefinition = function () {\r\n    var rcvr = this.scriptTarget(),\r\n        ide = this.parentThatIsA(IDE_Morph),\r\n        def = this.isGlobal ? this.definition : rcvr.getMethod(this.blockSpec),\r\n        dup = def.copyAndBindTo(rcvr);\r\n    if (this.isGlobal) {\r\n        ide.stage.globalBlocks.push(dup);\r\n    } else {\r\n        rcvr.customBlocks.push(dup);\r\n    }\r\n    ide.flushPaletteCache();\r\n    ide.refreshPalette();\r\n    new BlockEditorMorph(dup, rcvr).popUp();\r\n};\r\n\r\nCustomCommandBlockMorph.prototype.deleteBlockDefinition = function () {\r\n    var idx, stage, ide, method, block,\r\n        rcvr = this.scriptTarget(),\r\n        myself = this;\r\n    if (this.isPrototype) {\r\n        return null; // under construction...\r\n    }\r\n    method = this.isGlobal? this.definition\r\n            : rcvr.getLocalMethod(this.blockSpec);\r\n    block = method.blockInstance();\r\n    block.addShadow();\r\n    new DialogBoxMorph(\r\n        this,\r\n        function () {\r\n            rcvr.deleteAllBlockInstances(method);\r\n            if (method.isGlobal) {\r\n                stage = rcvr.parentThatIsA(StageMorph);\r\n                idx = stage.globalBlocks.indexOf(method);\r\n                if (idx !== -1) {\r\n                    stage.globalBlocks.splice(idx, 1);\r\n                }\r\n            } else {\r\n                // delete local definition\r\n                idx = rcvr.customBlocks.indexOf(method);\r\n                if (idx !== -1) {\r\n                    rcvr.customBlocks.splice(idx, 1);\r\n                }\r\n                // refresh instances of inherited method, if any\r\n                method = rcvr.getMethod(myself.blockSpec);\r\n                if (method) {\r\n                    rcvr.allDependentInvocationsOf(myself.blockSpec).forEach(\r\n                        function (block) {\r\n                            block.refresh(method);\r\n                        }\r\n                    );\r\n                }\r\n            }\r\n            ide = rcvr.parentThatIsA(IDE_Morph);\r\n            if (ide) {\r\n                ide.flushPaletteCache();\r\n                ide.refreshPalette();\r\n            }\r\n        },\r\n        this\r\n    ).askYesNo(\r\n        'Delete Custom Block',\r\n        localize('block deletion dialog text'), // long string lookup\r\n        myself.world(),\r\n        block.fullImage()\r\n    );\r\n};\r\n\r\n// CustomCommandBlockMorph relabelling\r\n\r\nCustomCommandBlockMorph.prototype.relabel = function (alternatives) {\r\n    var menu = new MenuMorph(this),\r\n        oldInputs = this.inputs().map(\r\n            function (each) {return each.fullCopy(); }\r\n        ),\r\n        myself = this;\r\n    alternatives.forEach(function (def) {\r\n        var block = def.blockInstance();\r\n        block.restoreInputs(oldInputs);\r\n        block.fixBlockColor(null, true);\r\n        block.addShadow(new Point(3, 3));\r\n        menu.addItem(\r\n            block,\r\n            function () {\r\n                myself.definition = def;\r\n                myself.refresh();\r\n            }\r\n        );\r\n    });\r\n    menu.popup(this.world(), this.bottomLeft().subtract(new Point(\r\n        8,\r\n        this instanceof CommandBlockMorph ? this.corner : 0\r\n    )));\r\n};\r\n\r\nCustomCommandBlockMorph.prototype.alternatives = function () {\r\n    var rcvr = this.scriptTarget(),\r\n        stage = rcvr.parentThatIsA(StageMorph),\r\n        allDefs = rcvr.customBlocks.concat(stage.globalBlocks),\r\n        type = this instanceof CommandBlockMorph ? 'command'\r\n            : (this.isPredicate ? 'predicate' : 'reporter'),\r\n        myself = this;\r\n    return allDefs.filter(function (each) {\r\n        return each !== myself.definition &&\r\n            each.type === type;\r\n    });\r\n};\r\n\r\n// CustomReporterBlockMorph ////////////////////////////////////////////\r\n\r\n// CustomReporterBlockMorph inherits from ReporterBlockMorph:\r\n\r\nCustomReporterBlockMorph.prototype = new ReporterBlockMorph();\r\nCustomReporterBlockMorph.prototype.constructor = CustomReporterBlockMorph;\r\nCustomReporterBlockMorph.uber = ReporterBlockMorph.prototype;\r\n\r\n// CustomReporterBlockMorph shared settings:\r\n\r\nCustomReporterBlockMorph.prototype.isCustomBlock = true;\r\n\r\n// CustomReporterBlockMorph instance creation:\r\n\r\nfunction CustomReporterBlockMorph(definition, isPredicate, isProto) {\r\n    this.init(definition, isPredicate, isProto);\r\n}\r\n\r\nCustomReporterBlockMorph.prototype.init = function (\r\n    definition,\r\n    isPredicate,\r\n    isProto\r\n) {\r\n    this.definition = definition; // mandatory\r\n    this.semanticSpec = ''; // used for translations\r\n    this.isGlobal = definition ? definition.isGlobal : false;\r\n    this.isPrototype = isProto || false; // optional\r\n    CustomReporterBlockMorph.uber.init.call(this, isPredicate, true); // sil.\r\n    this.category = definition.category;\r\n    this.variables = new VariableFrame();\r\n    this.initializeVariables();\r\n    this.selector = 'evaluateCustomBlock';\r\n    if (definition) { // needed for de-serializing\r\n        this.refresh();\r\n    }\r\n};\r\n\r\nCustomReporterBlockMorph.prototype.initializeVariables =\r\n    CustomCommandBlockMorph.prototype.initializeVariables;\r\n\r\nCustomReporterBlockMorph.prototype.refresh = function (aDefinition) {\r\n    var def = aDefinition || this.definition;\r\n    CustomCommandBlockMorph.prototype.refresh.call(this, aDefinition, true);\r\n    if (!this.isPrototype) {\r\n        this.isPredicate = (def.type === 'predicate');\r\n    }\r\n    if (this.parent instanceof SyntaxElementMorph) {\r\n        this.parent.cachedInputs = null;\r\n    }\r\n    this.drawNew();\r\n};\r\n\r\nCustomReporterBlockMorph.prototype.mouseClickLeft = function () {\r\n    if (!this.isPrototype) {\r\n        return CustomReporterBlockMorph.uber.mouseClickLeft.call(this);\r\n    }\r\n    this.edit();\r\n};\r\n\r\nCustomReporterBlockMorph.prototype.placeHolder\r\n    = CustomCommandBlockMorph.prototype.placeHolder;\r\n\r\nCustomReporterBlockMorph.prototype.parseSpec\r\n    = CustomCommandBlockMorph.prototype.parseSpec;\r\n\r\nCustomReporterBlockMorph.prototype.edit\r\n    = CustomCommandBlockMorph.prototype.edit;\r\n\r\nCustomReporterBlockMorph.prototype.labelPart\r\n    = CustomCommandBlockMorph.prototype.labelPart;\r\n\r\nCustomReporterBlockMorph.prototype.upvarFragmentNames\r\n    = CustomCommandBlockMorph.prototype.upvarFragmentNames;\r\n\r\nCustomReporterBlockMorph.prototype.upvarFragmentName\r\n    = CustomCommandBlockMorph.prototype.upvarFragmentName;\r\n\r\nCustomReporterBlockMorph.prototype.inputFragmentNames\r\n    = CustomCommandBlockMorph.prototype.inputFragmentNames;\r\n\r\nCustomReporterBlockMorph.prototype.specFromFragments\r\n    = CustomCommandBlockMorph.prototype.specFromFragments;\r\n\r\nCustomReporterBlockMorph.prototype.blockSpecFromFragments\r\n    = CustomCommandBlockMorph.prototype.blockSpecFromFragments;\r\n\r\nCustomReporterBlockMorph.prototype.declarationsFromFragments\r\n    = CustomCommandBlockMorph.prototype.declarationsFromFragments;\r\n\r\nCustomReporterBlockMorph.prototype.refreshPrototype\r\n    = CustomCommandBlockMorph.prototype.refreshPrototype;\r\n\r\nCustomReporterBlockMorph.prototype.refreshPrototypeSlotTypes\r\n    = CustomCommandBlockMorph.prototype.refreshPrototypeSlotTypes;\r\n\r\nCustomReporterBlockMorph.prototype.restoreInputs\r\n    = CustomCommandBlockMorph.prototype.restoreInputs;\r\n\r\nCustomReporterBlockMorph.prototype.refreshDefaults\r\n    = CustomCommandBlockMorph.prototype.refreshDefaults;\r\n\r\nCustomReporterBlockMorph.prototype.isInUse\r\n    = CustomCommandBlockMorph.prototype.isInUse;\r\n\r\n// CustomReporterBlockMorph menu:\r\n\r\nCustomReporterBlockMorph.prototype.userMenu\r\n    = CustomCommandBlockMorph.prototype.userMenu;\r\n\r\nCustomReporterBlockMorph.prototype.duplicateBlockDefinition\r\n    = CustomCommandBlockMorph.prototype.duplicateBlockDefinition;\r\n\r\nCustomReporterBlockMorph.prototype.deleteBlockDefinition\r\n    = CustomCommandBlockMorph.prototype.deleteBlockDefinition;\r\n\r\n// CustomReporterBlockMorph events:\r\n\r\n// hover help - commented out for now\r\n/*\r\nCustomReporterBlockMorph.prototype.mouseEnter\r\n    = CustomCommandBlockMorph.prototype.mouseEnter;\r\n\r\nCustomReporterBlockMorph.prototype.mouseLeave\r\n    = CustomCommandBlockMorph.prototype.mouseLeave;\r\n*/\r\n\r\n// CustomReporterBlockMorph bubble help:\r\n\r\nCustomReporterBlockMorph.prototype.bubbleHelp\r\n    = CustomCommandBlockMorph.prototype.bubbleHelp;\r\n\r\nCustomReporterBlockMorph.prototype.popUpbubbleHelp\r\n    = CustomCommandBlockMorph.prototype.popUpbubbleHelp;\r\n\r\n// CustomReporterBlockMorph relabelling\r\n\r\nCustomReporterBlockMorph.prototype.relabel\r\n    = CustomCommandBlockMorph.prototype.relabel;\r\n\r\nCustomReporterBlockMorph.prototype.alternatives\r\n    = CustomCommandBlockMorph.prototype.alternatives;\r\n\r\n// JaggedBlockMorph ////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a reporter block with jagged left and right edges conveying the\r\n    appearance of having the broken out of a bigger block. I am used to\r\n    display input types in the long form input dialog.\r\n*/\r\n\r\n// JaggedBlockMorph inherits from ReporterBlockMorph:\r\n\r\nJaggedBlockMorph.prototype = new ReporterBlockMorph();\r\nJaggedBlockMorph.prototype.constructor = JaggedBlockMorph;\r\nJaggedBlockMorph.uber = ReporterBlockMorph.prototype;\r\n\r\n// JaggedBlockMorph preferences settings:\r\n\r\nJaggedBlockMorph.prototype.jag = 5;\r\n\r\n// JaggedBlockMorph instance creation:\r\n\r\nfunction JaggedBlockMorph(spec) {\r\n    this.init(spec);\r\n}\r\n\r\nJaggedBlockMorph.prototype.init = function (spec) {\r\n    JaggedBlockMorph.uber.init.call(this);\r\n    if (spec) {this.setSpec(spec); }\r\n    if (spec === '%cs') {\r\n        this.minWidth = 25;\r\n        this.fixLayout();\r\n    }\r\n};\r\n\r\n// JaggedBlockMorph drawing:\r\n\r\nJaggedBlockMorph.prototype.drawNew = function () {\r\n    var context;\r\n\r\n    this.cachedClr = this.color.toString();\r\n    this.cachedClrBright = this.bright();\r\n    this.cachedClrDark = this.dark();\r\n    this.image = newCanvas(this.extent());\r\n    context = this.image.getContext('2d');\r\n    context.fillStyle = this.cachedClr;\r\n\r\n    this.drawBackground(context);\r\n    if (!MorphicPreferences.isFlat) {\r\n        this.drawEdges(context);\r\n    }\r\n\r\n    // erase holes\r\n    this.eraseHoles(context);\r\n};\r\n\r\nJaggedBlockMorph.prototype.drawBackground = function (context) {\r\n    var w = this.width(),\r\n        h = this.height(),\r\n        jags = Math.round(h / this.jag),\r\n        delta = h / jags,\r\n        i,\r\n        y;\r\n\r\n    context.fillStyle = this.cachedClr;\r\n    context.beginPath();\r\n\r\n    context.moveTo(0, 0);\r\n    context.lineTo(w, 0);\r\n\r\n    y = 0;\r\n    for (i = 0; i < jags; i += 1) {\r\n        y += delta / 2;\r\n        context.lineTo(w - this.jag / 2, y);\r\n        y += delta / 2;\r\n        context.lineTo(w, y);\r\n    }\r\n\r\n    context.lineTo(0, h);\r\n    y = h;\r\n    for (i = 0; i < jags; i += 1) {\r\n        y -= delta / 2;\r\n        context.lineTo(this.jag / 2, y);\r\n        y -= delta / 2;\r\n        context.lineTo(0, y);\r\n    }\r\n\r\n    context.closePath();\r\n    context.fill();\r\n};\r\n\r\nJaggedBlockMorph.prototype.drawEdges = function (context) {\r\n    var w = this.width(),\r\n        h = this.height(),\r\n        jags = Math.round(h / this.jag),\r\n        delta = h / jags,\r\n        shift = this.edge / 2,\r\n        gradient,\r\n        i,\r\n        y;\r\n\r\n    context.lineWidth = this.edge;\r\n    context.lineJoin = 'round';\r\n    context.lineCap = 'round';\r\n\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        0,\r\n        0,\r\n        this.edge\r\n    );\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    gradient.addColorStop(1, this.cachedClr);\r\n    context.strokeStyle = gradient;\r\n\r\n    context.beginPath();\r\n    context.moveTo(shift, shift);\r\n    context.lineTo(w - shift, shift);\r\n    context.stroke();\r\n\r\n    y = 0;\r\n    for (i = 0; i < jags; i += 1) {\r\n        context.strokeStyle = this.cachedClrDark;\r\n        context.beginPath();\r\n        context.moveTo(w - shift, y);\r\n        y += delta / 2;\r\n        context.lineTo(w - this.jag / 2 - shift, y);\r\n        context.stroke();\r\n        y += delta / 2;\r\n    }\r\n\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        h - this.edge,\r\n        0,\r\n        h\r\n    );\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    gradient.addColorStop(1, this.cachedClrDark);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(w - shift, h - shift);\r\n    context.lineTo(shift, h - shift);\r\n    context.stroke();\r\n\r\n    y = h;\r\n    for (i = 0; i < jags; i += 1) {\r\n        context.strokeStyle = this.cachedClrBright;\r\n        context.beginPath();\r\n        context.moveTo(shift, y);\r\n        y -= delta / 2;\r\n        context.lineTo(this.jag / 2 + shift, y);\r\n        context.stroke();\r\n        y -= delta / 2;\r\n    }\r\n};\r\n\r\n// BlockDialogMorph ////////////////////////////////////////////////////\r\n\r\n// BlockDialogMorph inherits from DialogBoxMorph:\r\n\r\nBlockDialogMorph.prototype = new DialogBoxMorph();\r\nBlockDialogMorph.prototype.constructor = BlockDialogMorph;\r\nBlockDialogMorph.uber = DialogBoxMorph.prototype;\r\n\r\n// BlockDialogMorph instance creation:\r\n\r\nfunction BlockDialogMorph(target, action, environment) {\r\n    this.init(target, action, environment);\r\n}\r\n\r\nBlockDialogMorph.prototype.init = function (target, action, environment) {\r\n    // additional properties:\r\n    this.blockType = 'command';\r\n    this.category = 'other';\r\n    this.isGlobal = true;\r\n    this.types = null;\r\n    this.categories = null;\r\n\r\n    // initialize inherited properties:\r\n    BlockDialogMorph.uber.init.call(\r\n        this,\r\n        target,\r\n        action,\r\n        environment\r\n    );\r\n\r\n    // override inherited properites:\r\n    this.key = 'makeABlock';\r\n\r\n    this.types = new AlignmentMorph('row', this.padding);\r\n    this.add(this.types);\r\n    this.scopes = new AlignmentMorph('row', this.padding);\r\n    this.add(this.scopes);\r\n\r\n    this.categories = new BoxMorph();\r\n    this.categories.color = SpriteMorph.prototype.paletteColor.lighter(8);\r\n    this.categories.borderColor = this.categories.color.lighter(40);\r\n    this.createCategoryButtons();\r\n    this.fixCategoriesLayout();\r\n    this.add(this.categories);\r\n\r\n    this.createTypeButtons();\r\n    this.creatpanel_LefteButtons();\r\n    this.fixLayout();\r\n};\r\n\r\nBlockDialogMorph.prototype.openForChange = function (\r\n    title,\r\n    category,\r\n    type,\r\n    world,\r\n    pic,\r\n    preventTypeChange // <bool>\r\n) {\r\n    var clr = SpriteMorph.prototype.blockColor[category];\r\n    this.key = 'changeABlock';\r\n    this.category = category;\r\n    this.blockType = type;\r\n\r\n    this.categories.children.forEach(function (each) {\r\n        each.refresh();\r\n    });\r\n    this.types.children.forEach(function (each) {\r\n        each.setColor(clr);\r\n        each.refresh();\r\n    });\r\n\r\n    this.labelString = title;\r\n    this.createLabel();\r\n    if (pic) {this.setPicture(pic); }\r\n    this.addButton('ok', 'OK');\r\n    this.addButton('cancel', 'Cancel');\r\n    if (preventTypeChange) {\r\n        this.types.destroy();\r\n        this.types = null;\r\n    }\r\n    this.scopes.destroy();\r\n    this.scopes = null;\r\n    this.fixLayout();\r\n    this.drawNew();\r\n    this.popUp(world);\r\n};\r\n\r\n// category buttons\r\n\r\nBlockDialogMorph.prototype.createCategoryButtons = function () {\r\n    var myself = this,\r\n        oldFlag = Morph.prototype.trackChanges;\r\n\r\n    Morph.prototype.trackChanges = false;\r\n    SpriteMorph.prototype.categories.forEach(function (cat) {\r\n        myself.addCategoryButton(cat);\r\n    });\r\n    Morph.prototype.trackChanges = oldFlag;\r\n};\r\n\r\nBlockDialogMorph.prototype.addCategoryButton = function (category) {\r\n    var labelWidth = 75,\r\n        myself = this,\r\n        colors = [\r\n            SpriteMorph.prototype.paletteColor,\r\n            SpriteMorph.prototype.paletteColor.darker(50),\r\n            SpriteMorph.prototype.blockColor[category]\r\n        ],\r\n        button;\r\n\r\n    button = new ToggleButtonMorph(\r\n        colors,\r\n        this, // this block dialog box is the target\r\n        function () {\r\n            myself.category = category;\r\n            myself.categories.children.forEach(function (each) {\r\n                each.refresh();\r\n            });\r\n            if (myself.types) {\r\n                myself.types.children.forEach(function (each) {\r\n                    each.setColor(colors[2]);\r\n                });\r\n            }\r\n            myself.edit();\r\n        },\r\n        category[0].toUpperCase().concat(category.slice(1)), // UCase label\r\n        function () {return myself.category === category; }, // query\r\n        null, // env\r\n        null, // hint\r\n        null, // template cache\r\n        labelWidth, // minWidth\r\n        true // has preview\r\n    );\r\n\r\n    button.corner = 8;\r\n    button.padding = 0;\r\n    button.labelShadowOffset = new Point(-1, -1);\r\n    button.labelShadowColor = colors[1];\r\n    button.labelColor = IDE_Morph.prototype.buttonLabelColor;\r\n    button.contrast = this.buttonContrast;\r\n    button.fixLayout();\r\n    button.refresh();\r\n    this.categories.add(button);\r\n    return button;\r\n};\r\n\r\nBlockDialogMorph.prototype.fixCategoriesLayout = function () {\r\n    var buttonWidth = this.categories.children[0].width(), // all the same\r\n        buttonHeight = this.categories.children[0].height(), // all the same\r\n        xPadding = 15,\r\n        yPadding = 2,\r\n        border = 10, // this.categories.border,\r\n        rows =  Math.ceil((this.categories.children.length) / 2),\r\n        l = this.categories.left(),\r\n        t = this.categories.top(),\r\n        i = 0,\r\n        row,\r\n        col,\r\n        oldFlag = Morph.prototype.trackChanges;\r\n\r\n    Morph.prototype.trackChanges = false;\r\n\r\n    this.categories.children.forEach(function (button) {\r\n        i += 1;\r\n        row = Math.ceil(i / 2);\r\n        col = 2 - (i % 2);\r\n        button.setPosition(new Point(\r\n            l + (col * xPadding + ((col - 1) * buttonWidth)),\r\n            t + (row * yPadding + ((row - 1) * buttonHeight) + border)\r\n        ));\r\n    });\r\n\r\n    if (MorphicPreferences.isFlat) {\r\n        this.categories.corner = 0;\r\n        this.categories.border = 0;\r\n        this.categories.edge = 0;\r\n    }\r\n    this.categories.setExtent(new Point(\r\n        3 * xPadding + 2 * buttonWidth,\r\n        (rows + 1) * yPadding + rows * buttonHeight + 2 * border\r\n    ));\r\n\r\n    Morph.prototype.trackChanges = oldFlag;\r\n    this.categories.changed();\r\n};\r\n\r\n// type radio buttons\r\n\r\nBlockDialogMorph.prototype.createTypeButtons = function () {\r\n    var block,\r\n        myself = this,\r\n        clr = SpriteMorph.prototype.blockColor[this.category];\r\n\r\n\r\n    block = new CommandBlockMorph();\r\n    block.setColor(clr);\r\n    block.setSpec(localize('Command'));\r\n    this.addBlockTypeButton(\r\n        function () {myself.setType('command'); },\r\n        block,\r\n        function () {return myself.blockType === 'command'; }\r\n    );\r\n\r\n    block = new ReporterBlockMorph();\r\n    block.setColor(clr);\r\n    block.setSpec(localize('Reporter'));\r\n    this.addBlockTypeButton(\r\n        function () {myself.setType('reporter'); },\r\n        block,\r\n        function () {return myself.blockType === 'reporter'; }\r\n    );\r\n\r\n    block = new ReporterBlockMorph(true);\r\n    block.setColor(clr);\r\n    block.setSpec(localize('Predicate'));\r\n    this.addBlockTypeButton(\r\n        function () {myself.setType('predicate'); },\r\n        block,\r\n        function () {return myself.blockType === 'predicate'; }\r\n    );\r\n};\r\n\r\nBlockDialogMorph.prototype.addBlockTypeButton = function (\r\n    action,\r\n    element,\r\n    query\r\n) {\r\n    var button = new ToggleElementMorph(\r\n        this,\r\n        action,\r\n        element,\r\n        query,\r\n        null,\r\n        null,\r\n        'rebuild'\r\n    );\r\n    button.refresh();\r\n    this.types.add(button);\r\n    return button;\r\n};\r\n\r\nBlockDialogMorph.prototype.addTypeButton = function (action, label, query) {\r\n    var button = new ToggleMorph(\r\n        'radiobutton',\r\n        this,\r\n        action,\r\n        label,\r\n        query\r\n    );\r\n    button.edge = this.buttonEdge / 2;\r\n    button.outline = this.buttonOutline / 2;\r\n    button.outlineColor = this.buttonOutlineColor;\r\n    button.outlineGradient = this.buttonOutlineGradient;\r\n    button.contrast = this.buttonContrast;\r\n\r\n    button.drawNew();\r\n    button.fixLayout();\r\n    this.types.add(button);\r\n    return button;\r\n};\r\n\r\nBlockDialogMorph.prototype.setType = function (blockType) {\r\n    this.blockType = blockType || this.blockType;\r\n    this.types.children.forEach(function (c) {\r\n        c.refresh();\r\n    });\r\n    this.edit();\r\n};\r\n\r\n// scope radio buttons\r\n\r\nBlockDialogMorph.prototype.creatpanel_LefteButtons = function () {\r\n    var myself = this;\r\n\r\n    this.addScopeButton(\r\n        function () {myself.setScope('global'); },\r\n        \"for all sprites\",\r\n        function () {return myself.isGlobal; }\r\n    );\r\n    this.addScopeButton(\r\n        function () {myself.setScope('local'); },\r\n        \"for this sprite only\",\r\n        function () {return !myself.isGlobal; }\r\n    );\r\n};\r\n\r\nBlockDialogMorph.prototype.addScopeButton = function (action, label, query) {\r\n    var button = new ToggleMorph(\r\n        'radiobutton',\r\n        this,\r\n        action,\r\n        label,\r\n        query\r\n    );\r\n    button.edge = this.buttonEdge / 2;\r\n    button.outline = this.buttonOutline / 2;\r\n    button.outlineColor = this.buttonOutlineColor;\r\n    button.outlineGradient = this.buttonOutlineGradient;\r\n    button.contrast = this.buttonContrast;\r\n\r\n    button.drawNew();\r\n    button.fixLayout();\r\n    this.scopes.add(button);\r\n    return button;\r\n};\r\n\r\n\r\nBlockDialogMorph.prototype.setScope = function (varType) {\r\n    this.isGlobal = (varType === 'global');\r\n    this.scopes.children.forEach(function (c) {\r\n        c.refresh();\r\n    });\r\n    this.edit();\r\n};\r\n\r\n// other ops\r\n\r\nBlockDialogMorph.prototype.getInput = function () {\r\n    var spec, def, body;\r\n    if (this.body instanceof InputFieldMorph) {\r\n        spec = this.normalizeSpaces(this.body.getValue());\r\n    }\r\n    def = new CustomBlockDefinition(spec);\r\n    def.type = this.blockType;\r\n    def.category = this.category;\r\n    def.isGlobal = this.isGlobal;\r\n    if (def.type === 'reporter' || def.type === 'predicate') {\r\n        body = Process.prototype.reify.call(\r\n            null,\r\n            SpriteMorph.prototype.blockForSelector('doReport'),\r\n            new List(),\r\n            true // ignore empty slots for custom block reification\r\n        );\r\n        body.outerContext = null;\r\n        def.body = body;\r\n    }\r\n    return def;\r\n};\r\n\r\nBlockDialogMorph.prototype.fixLayout = function () {\r\n    var th = fontHeight(this.titleFontSize) + this.titlePadding * 2;\r\n\r\n    if (this.body) {\r\n        this.body.setPosition(this.position().add(new Point(\r\n            this.padding,\r\n            th + this.padding\r\n        )));\r\n        this.silentSetWidth(this.body.width() + this.padding * 2);\r\n        this.silentSetHeight(\r\n            this.body.height()\r\n                + this.padding * 2\r\n                + th\r\n        );\r\n        if (this.categories) {\r\n            this.categories.setCenter(this.body.center());\r\n            this.categories.setTop(this.body.top());\r\n            this.body.setTop(this.categories.bottom() + this.padding);\r\n            this.silentSetHeight(\r\n                this.height()\r\n                    + this.categories.height()\r\n                    + this.padding\r\n            );\r\n        }\r\n    } else if (this.head) { // when changing an existing prototype\r\n        if (this.types) {\r\n            this.types.fixLayout();\r\n            this.silentSetWidth(\r\n                Math.max(this.types.width(), this.head.width())\r\n                    + this.padding * 2\r\n            );\r\n        } else {\r\n            this.silentSetWidth(\r\n                Math.max(this.categories.width(), this.head.width())\r\n                    + this.padding * 2\r\n            );\r\n        }\r\n        this.head.setCenter(this.center());\r\n        this.head.setTop(th + this.padding);\r\n        this.silentSetHeight(\r\n            this.head.height()\r\n                + this.padding * 2\r\n                + th\r\n        );\r\n        if (this.categories) {\r\n            this.categories.setCenter(this.center());\r\n            this.categories.setTop(this.head.bottom() + this.padding);\r\n            this.silentSetHeight(\r\n                this.height()\r\n                    + this.categories.height()\r\n                    + this.padding\r\n            );\r\n        }\r\n    }\r\n\r\n    if (this.label) {\r\n        this.label.setCenter(this.center());\r\n        this.label.setTop(this.top() + (th - this.label.height()) / 2);\r\n    }\r\n\r\n    if (this.types) {\r\n        this.types.fixLayout();\r\n        this.silentSetHeight(\r\n            this.height()\r\n                    + this.types.height()\r\n                    + this.padding\r\n        );\r\n        this.silentSetWidth(Math.max(\r\n            this.width(),\r\n            this.types.width() + this.padding * 2\r\n        ));\r\n        this.types.setCenter(this.center());\r\n        if (this.body) {\r\n            this.types.setTop(this.body.bottom() + this.padding);\r\n        } else if (this.categories) {\r\n            this.types.setTop(this.categories.bottom() + this.padding);\r\n        }\r\n    }\r\n\r\n    if (this.scopes) {\r\n        this.scopes.fixLayout();\r\n        this.silentSetHeight(\r\n            this.height()\r\n                    + this.scopes.height()\r\n                    + (this.padding / 3)\r\n        );\r\n        this.silentSetWidth(Math.max(\r\n            this.width(),\r\n            this.scopes.width() + this.padding * 2\r\n        ));\r\n        this.scopes.setCenter(this.center());\r\n        if (this.types) {\r\n            this.scopes.setTop(this.types.bottom() + (this.padding / 3));\r\n        }\r\n    }\r\n\r\n    if (this.buttons && (this.buttons.children.length > 0)) {\r\n        this.buttons.fixLayout();\r\n        this.silentSetHeight(\r\n            this.height()\r\n                    + this.buttons.height()\r\n                    + this.padding\r\n        );\r\n        this.buttons.setCenter(this.center());\r\n        this.buttons.setBottom(this.bottom() - this.padding);\r\n    }\r\n};\r\n\r\nBlockDialogMorph.prototype.accept = function () {\r\n    if ((this.body instanceof InputFieldMorph) &&\r\n            (this.normalizeSpaces(this.body.getValue()) === '')) {\r\n        this.edit();\r\n    } else {\r\n        BlockDialogMorph.uber.accept.call(this);\r\n    }\r\n};\r\n\r\n// BlockEditorMorph ////////////////////////////////////////////////////\r\n\r\n// BlockEditorMorph inherits from DialogBoxMorph:\r\n\r\nBlockEditorMorph.prototype = new DialogBoxMorph();\r\nBlockEditorMorph.prototype.constructor = BlockEditorMorph;\r\nBlockEditorMorph.uber = DialogBoxMorph.prototype;\r\n\r\n// BlockEditorMorph instance creation:\r\n\r\nfunction BlockEditorMorph(definition, target) {\r\n    this.init(definition, target);\r\n}\r\n\r\nBlockEditorMorph.prototype.init = function (definition, target) {\r\n    var scripts, proto, scriptsFrame, block, comment, myself = this,\r\n        isLive = Process.prototype.enableLiveCoding ||\r\n            Process.prototype.enableSingleStepping;\r\n\r\n    // additional properties:\r\n    this.definition = definition;\r\n    this.translations = definition.translationsAsText();\r\n    this.handle = null;\r\n\r\n    // initialize inherited properties:\r\n    BlockEditorMorph.uber.init.call(\r\n        this,\r\n        target,\r\n        function () {myself.updateDefinition(); },\r\n        target\r\n    );\r\n\r\n    // override inherited properites:\r\n    this.key = 'editBlock' + definition.spec;\r\n    this.labelString = this.definition.isGlobal ? 'Block Editor'\r\n    \t\t: 'Method Editor';\r\n    this.createLabel();\r\n\r\n    // create scripting area\r\n    scripts = new ScriptsMorph();\r\n    scripts.rejectsHats = true;\r\n    scripts.isDraggable = false;\r\n    scripts.color = IDE_Morph.prototype.groupColor;\r\n    scripts.cachedTexture = IDE_Morph.prototype.scriptsPaneTexture;\r\n    scripts.cleanUpMargin = 10;\r\n\r\n    proto = new PrototypeHatBlockMorph(this.definition);\r\n    proto.setPosition(scripts.position().add(10));\r\n    if (definition.comment !== null) {\r\n        comment = definition.comment.fullCopy();\r\n        proto.comment = comment;\r\n        comment.block = proto;\r\n    }\r\n    if (definition.body !== null) {\r\n        proto.nextBlock(isLive ? definition.body.expression\r\n                : definition.body.expression.fullCopy()\r\n        );\r\n    }\r\n\r\n    scripts.add(proto);\r\n    proto.fixBlockColor(null, true);\r\n    proto.drawNew();\r\n\r\n    this.definition.scripts.forEach(function (element) {\r\n        block = element.fullCopy();\r\n        block.setPosition(scripts.position().add(element.position()));\r\n        scripts.add(block);\r\n        if (block instanceof BlockMorph) {\r\n            block.allComments().forEach(function (comment) {\r\n                comment.align(block);\r\n            });\r\n        }\r\n    });\r\n    proto.allComments().forEach(function (comment) {\r\n        comment.align(proto);\r\n    });\r\n\r\n    scriptsFrame = new ScrollFrameMorph(scripts);\r\n    scriptsFrame.padding = 10;\r\n    scriptsFrame.growth = 50;\r\n    scriptsFrame.isDraggable = false;\r\n    scriptsFrame.acceptsDrops = false;\r\n    scriptsFrame.contents.acceptsDrops = true;\r\n    scripts.scrollFrame = scriptsFrame;\r\n    scripts.updateToolbar();\r\n\r\n    this.addBody(scriptsFrame);\r\n    this.addButton('ok', 'OK');\r\n    if (!isLive) {\r\n        this.addButton('updateDefinition', 'Apply');\r\n        this.addButton('cancel', 'Cancel');\r\n    }\r\n\r\n    this.setExtent(new Point(375, 300)); // normal initial extent\r\n    this.fixLayout();\r\n    scripts.fixMultiArgs();\r\n\r\n    block = proto.parts()[0];\r\n    block.forceNormalColoring();\r\n    block.fixBlockColor(proto, true);\r\n};\r\n\r\nBlockEditorMorph.prototype.popUp = function () {\r\n    var world = this.target.world();\r\n\r\n    if (world) {\r\n        BlockEditorMorph.uber.popUp.call(this, world);\r\n        this.setInitialDimensions();\r\n        this.handle = new HandleMorph(\r\n            this,\r\n            280,\r\n            220,\r\n            this.corner,\r\n            this.corner\r\n        );\r\n        world.keyboardReceiver = null;\r\n    }\r\n};\r\n\r\nBlockEditorMorph.prototype.justDropped = function () {\r\n    // override the inherited default behavior, which is to\r\n    // give keyboard focus to dialog boxes, as in this case\r\n    // we want Snap-global keyboard-shortcuts like ctrl-f\r\n    // to still work\r\n    nop();\r\n\r\n};\r\n\r\n// BlockEditorMorph ops\r\n\r\nBlockEditorMorph.prototype.accept = function (origin) {\r\n    // check DialogBoxMorph comment for accept()\r\n    if (origin instanceof CursorMorph) {return; }\r\n    if (this.action) {\r\n        if (typeof this.target === 'function') {\r\n            if (typeof this.action === 'function') {\r\n                this.target.call(this.environment, this.action.call());\r\n            } else {\r\n                this.target.call(this.environment, this.action);\r\n            }\r\n        } else {\r\n            if (typeof this.action === 'function') {\r\n                this.action.call(this.target, this.getInput());\r\n            } else { // assume it's a String\r\n                this.target[this.action](this.getInput());\r\n            }\r\n        }\r\n    }\r\n    this.close();\r\n};\r\n\r\nBlockEditorMorph.prototype.cancel = function (origin) {\r\n    if (origin instanceof CursorMorph) {return; }\r\n    //this.refreshAllBlockInstances();\r\n    this.close();\r\n};\r\n\r\nBlockEditorMorph.prototype.close = function () {\r\n    var doubles, block,\r\n        myself = this;\r\n\r\n    // assert that no scope conflicts exists, i.e. that a global\r\n    // definition doesn't contain any local custom blocks, as they\r\n    // will be rendered \"Obsolete!\" when reloading the project\r\n    if (this.definition.isGlobal) {\r\n        block = detect(\r\n            this.body.contents.allChildren(),\r\n            function (morph) {\r\n                return morph.definition && !morph.definition.isGlobal;\r\n            }\r\n        );\r\n        if (block) {\r\n            block = block.definition.blockInstance();\r\n            block.addShadow();\r\n            new DialogBoxMorph().inform(\r\n                'Local Block(s) in Global Definition',\r\n                'This global block definition contains one or more\\n'\r\n                    + 'local custom blocks which must be removed first.',\r\n                myself.world(),\r\n                block.fullImage()\r\n            );\r\n            return;\r\n        }\r\n    }\r\n\r\n    // allow me to disappear only when name collisions\r\n    // have been resolved\r\n    doubles = this.target.doubleDefinitionsFor(this.definition);\r\n    if (doubles.length > 0) {\r\n        block = doubles[0].blockInstance();\r\n        block.addShadow();\r\n        new DialogBoxMorph(this, 'consolidateDoubles', this).askYesNo(\r\n            'Same Named Blocks',\r\n            'Another custom block with this name exists.\\n'\r\n                + 'Would you like to replace it?',\r\n            myself.world(),\r\n            block.fullImage()\r\n        );\r\n        return;\r\n    }\r\n\r\n    this.destroy();\r\n};\r\n\r\nBlockEditorMorph.prototype.consolidateDoubles = function () {\r\n    this.target.replaceDoubleDefinitionsFor(this.definition);\r\n    this.destroy();\r\n};\r\n\r\nBlockEditorMorph.prototype.refreshAllBlockInstances = function (oldSpec) {\r\n    var def = this.definition,\r\n        template = this.target.paletteBlockInstance(def);\r\n\r\n    if (this.definition.isGlobal) {\r\n        this.target.allBlockInstances(this.definition).forEach(\r\n            function (block) {\r\n                block.refresh();\r\n            }\r\n        );\r\n    } else {\r\n        this.target.allDependentInvocationsOf(oldSpec).forEach(\r\n            function (block) {\r\n                block.refresh(def);\r\n            }\r\n        );\r\n    }\r\n    if (template) {\r\n        template.refreshDefaults();\r\n    }\r\n};\r\n\r\nBlockEditorMorph.prototype.updateDefinition = function () {\r\n    var head, ide,\r\n        oldSpec = this.definition.blockSpec(),\r\n        pos = this.body.contents.position(),\r\n        element,\r\n        myself = this;\r\n\r\n    this.definition.receiver = this.target; // only for serialization\r\n    this.definition.spec = this.prototypeSpec();\r\n    this.definition.declarations = this.prototypeSlots();\r\n    this.definition.variableNames = this.variableNames();\r\n    this.definition.scripts = [];\r\n    this.definition.updateTranslations(this.translations);\r\n    this.definition.cachedTranslation = null;\r\n    this.definition.editorDimensions = this.bounds.copy();\r\n    this.definition.cachedIsRecursive = null; // flush the cache, don't update\r\n\r\n    this.body.contents.children.forEach(function (morph) {\r\n        if (morph instanceof PrototypeHatBlockMorph) {\r\n            head = morph;\r\n        } else if (morph instanceof BlockMorph ||\r\n                (morph instanceof CommentMorph && !morph.block)) {\r\n            element = morph.fullCopy();\r\n            element.parent = null;\r\n            element.setPosition(morph.position().subtract(pos));\r\n            myself.definition.scripts.push(element);\r\n        }\r\n    });\r\n\r\n    if (head) {\r\n        if (this.definition.category !== head.blockCategory) {\r\n            this.target.shadowAttribute('scripts');\r\n        }\r\n        this.definition.category = head.blockCategory;\r\n        this.definition.type = head.type;\r\n        if (head.comment) {\r\n            this.definition.comment = head.comment.fullCopy();\r\n            this.definition.comment.block = true; // serialize in short form\r\n        } else {\r\n            this.definition.comment = null;\r\n        }\r\n    }\r\n\r\n    this.definition.body = this.context(head);\r\n    this.refreshAllBlockInstances(oldSpec);\r\n    ide = this.target.parentThatIsA(IDE_Morph);\r\n    ide.flushPaletteCache();\r\n    ide.refreshPalette();\r\n};\r\n\r\nBlockEditorMorph.prototype.context = function (prototypeHat) {\r\n    // answer my script reified for deferred execution\r\n    // if no prototypeHat is given, my body is scanned\r\n    var head, topBlock, stackFrame;\r\n\r\n    head = prototypeHat || detect(\r\n        this.body.contents.children,\r\n        function (c) {return c instanceof PrototypeHatBlockMorph; }\r\n    );\r\n    topBlock = head.nextBlock();\r\n    if (topBlock === null) {\r\n        return null;\r\n    }\r\n    topBlock.allChildren().forEach(function (c) {\r\n        if (c instanceof BlockMorph) {c.cachedInputs = null; }\r\n    });\r\n    stackFrame = Process.prototype.reify.call(\r\n        null,\r\n        topBlock,\r\n        new List(this.definition.inputNames()),\r\n        true // ignore empty slots for custom block reification\r\n    );\r\n    stackFrame.outerContext = null;\r\n    return stackFrame;\r\n};\r\n\r\nBlockEditorMorph.prototype.prototypeSpec = function () {\r\n    // answer the spec represented by my (edited) block prototype\r\n    return detect(\r\n        this.body.contents.children,\r\n        function (c) {return c instanceof PrototypeHatBlockMorph; }\r\n    ).parts()[0].specFromFragments();\r\n};\r\n\r\nBlockEditorMorph.prototype.prototypeSlots = function () {\r\n    // answer the slot declarations from my (edited) block prototype\r\n    return detect(\r\n        this.body.contents.children,\r\n        function (c) {return c instanceof PrototypeHatBlockMorph; }\r\n    ).parts()[0].declarationsFromFragments();\r\n};\r\n\r\nBlockEditorMorph.prototype.variableNames = function () {\r\n    // answer the variable declarations from my prototype hat\r\n    return detect(\r\n        this.body.contents.children,\r\n        function (c) {return c instanceof PrototypeHatBlockMorph; }\r\n    ).variableNames();\r\n};\r\n\r\n// BlockEditorMorph translation\r\n\r\nBlockEditorMorph.prototype.editTranslations = function () {\r\n    var myself = this,\r\n    \tblock = this.definition.blockInstance();\r\n    block.addShadow(new Point(3, 3));\r\n    new DialogBoxMorph(\r\n        myself,\r\n        function (text) {\r\n            myself.translations = text;\r\n        },\r\n        myself\r\n    ).promptCode(\r\n        'Custom Block Translations',\r\n        myself.translations,\r\n        myself.world(),\r\n        block.fullImage(),\r\n        myself.definition.abstractBlockSpec() +\r\n            '\\n\\n' +\r\n            localize('Enter one translation per line. ' +\r\n                'use colon (\":\") as lang/spec delimiter\\n' +\r\n                'and underscore (\"_\") as placeholder for an input, ' +\r\n                'e.g.:\\n\\nen:say _ for _ secs')\r\n    );\r\n};\r\n\r\n// BlockEditorMorph layout\r\n\r\nBlockEditorMorph.prototype.setInitialDimensions = function () {\r\n    var world = this.world(),\r\n        mex = world.extent().subtract(new Point(this.padding, this.padding)),\r\n        th = fontHeight(this.titleFontSize) + this.titlePadding * 2,\r\n        bh = this.buttons.height();\r\n\r\n    if (this.definition.editorDimensions) {\r\n        this.setPosition(this.definition.editorDimensions.origin);\r\n        this.setExtent(this.definition.editorDimensions.extent().min(mex));\r\n        this.keepWithin(world);\r\n        return;\r\n    }\r\n    this.setExtent(\r\n        this.body.contents.extent().add(\r\n            new Point(this.padding, this.padding + th + bh)\r\n        ).min(mex)\r\n    );\r\n    this.setCenter(this.world().center());\r\n};\r\n\r\nBlockEditorMorph.prototype.fixLayout = function () {\r\n    var th = fontHeight(this.titleFontSize) + this.titlePadding * 2;\r\n\r\n    if (this.buttons && (this.buttons.children.length > 0)) {\r\n        this.buttons.fixLayout();\r\n    }\r\n\r\n    if (this.body) {\r\n        this.body.setPosition(this.position().add(new Point(\r\n            this.padding,\r\n            th + this.padding\r\n        )));\r\n        this.body.setExtent(new Point(\r\n            this.width() - this.padding * 2,\r\n            this.height() - this.padding * 3 - th - this.buttons.height()\r\n        ));\r\n    }\r\n\r\n    if (this.label) {\r\n        this.label.setCenter(this.center());\r\n        this.label.setTop(this.top() + (th - this.label.height()) / 2);\r\n    }\r\n\r\n    if (this.buttons && (this.buttons.children.length > 0)) {\r\n        this.buttons.setCenter(this.center());\r\n        this.buttons.setBottom(this.bottom() - this.padding);\r\n    }\r\n};\r\n\r\n// PrototypeHatBlockMorph /////////////////////////////////////////////\r\n\r\n// PrototypeHatBlockMorph inherits from HatBlockMorph:\r\n\r\nPrototypeHatBlockMorph.prototype = new HatBlockMorph();\r\nPrototypeHatBlockMorph.prototype.constructor = PrototypeHatBlockMorph;\r\nPrototypeHatBlockMorph.uber = HatBlockMorph.prototype;\r\n\r\n// PrototypeHatBlockMorph instance creation:\r\n\r\nfunction PrototypeHatBlockMorph(definition) {\r\n    this.init(definition);\r\n}\r\n\r\nPrototypeHatBlockMorph.prototype.init = function (definition) {\r\n    var proto = definition.prototypeInstance(),\r\n        vars;\r\n\r\n    this.definition = definition;\r\n\r\n    // additional attributes to store edited data\r\n    this.blockCategory = definition ? definition.category : null;\r\n    this.type = definition ? definition.type : null;\r\n\r\n    // init inherited stuff\r\n    HatBlockMorph.uber.init.call(this);\r\n    this.color = SpriteMorph.prototype.blockColor.control;\r\n    this.category = 'control';\r\n    this.add(proto);\r\n    if (definition.variableNames.length) {\r\n        vars = this.labelPart('%blockVars');\r\n        this.add(this.labelPart('%br'));\r\n        this.add(vars);\r\n        definition.variableNames.forEach(function (name) {\r\n            vars.addInput(name);\r\n        });\r\n    }\r\n    proto.refreshPrototypeSlotTypes(); // show slot type indicators\r\n    this.fixLayout();\r\n    proto.fixBlockColor(this, true);\r\n};\r\n\r\nPrototypeHatBlockMorph.prototype.mouseClickLeft = function () {\r\n    // relay the mouse click to my prototype block to\r\n    // pop-up a Block Dialog, unless the shift key\r\n    // is pressed, in which case initiate keyboard\r\n    // editing support\r\n\r\n    if (this.world().currentKey === 16) { // shift-clicked\r\n        return this.focus();\r\n    }\r\n    this.parts()[0].mouseClickLeft();\r\n};\r\n\r\nPrototypeHatBlockMorph.prototype.userMenu = function () {\r\n    return this.parts()[0].userMenu();\r\n};\r\n\r\n// PrototypeHatBlockMorph zebra coloring\r\n\r\nPrototypeHatBlockMorph.prototype.fixBlockColor = function (\r\n    nearestBlock,\r\n    isForced\r\n) {\r\n    var nearest = this.parts()[0] || nearestBlock;\r\n\r\n    if (!this.zebraContrast && !isForced) {\r\n        return;\r\n    }\r\n    if (!this.zebraContrast && isForced) {\r\n        return this.forceNormalColoring();\r\n    }\r\n\r\n    if (nearest.category === this.category) {\r\n        if (nearest.color.eq(this.color)) {\r\n            this.alternateBlockColor();\r\n        }\r\n    } else if (this.category && !this.color.eq(\r\n            SpriteMorph.prototype.blockColor[this.category]\r\n        )) {\r\n        this.alternateBlockColor();\r\n    }\r\n    if (isForced) {\r\n        this.fixChildrensBlockColor(true);\r\n    }\r\n};\r\n\r\n// PrototypeHatBlockMorph block instance variables\r\n\r\nPrototypeHatBlockMorph.prototype.variableNames = function (choice) {\r\n    var parts = this.parts();\r\n    if (parts.length < 3) {return []; }\r\n    return parts[2].evaluate();\r\n};\r\n\r\nPrototypeHatBlockMorph.prototype.enableBlockVars = function (choice) {\r\n    var prot = this.parts()[0];\r\n    if (choice === false) {\r\n        this.setSpec('%s', true);\r\n    } else {\r\n        this.setSpec('%s %br %blockVars', true);\r\n    }\r\n    this.replaceInput(this.parts()[0], prot);\r\n    this.spec = null;\r\n};\r\n\r\n// BlockLabelFragment //////////////////////////////////////////////////\r\n\r\n// BlockLabelFragment instance creation:\r\n\r\nfunction BlockLabelFragment(labelString) {\r\n    this.labelString = labelString || '';\r\n    this.type = '%s';    // null for label, a spec for an input\r\n    this.defaultValue = '';\r\n    this.options = '';\r\n    this.isReadOnly = false; // for input slots\r\n    this.isDeleted = false;\r\n}\r\n\r\n// accessing\r\n\r\nBlockLabelFragment.prototype.defSpecFragment = function () {\r\n    // answer a string representing my prototype's spec\r\n    var pref = this.type ? '%\\'' : '';\r\n    return this.isDeleted ?\r\n            '' : pref + this.labelString + (this.type ? '\\'' : '');\r\n};\r\n\r\nBlockLabelFragment.prototype.defTemplateSpecFragment = function () {\r\n    // answer a string representing my prototype's spec\r\n    // which also indicates my type, default value or arity\r\n    var suff = '';\r\n    if (!this.type) {return this.defSpecFragment(); }\r\n    if (this.isUpvar()) {\r\n        suff = ' \\u2191';\r\n    } else if (this.isMultipleInput()) {\r\n        suff = '...';\r\n    } else if (this.type === '%cs') {\r\n        suff = ' \\u03BB'; // ' [\\u03BB'\r\n    } else if (this.type === '%b') {\r\n        suff = ' ?';\r\n    } else if (this.type === '%l') {\r\n        suff = ' \\uFE19';\r\n    } else if (this.type === '%obj') {\r\n        suff = ' %turtleOutline';\r\n    } else if (contains(\r\n            ['%cmdRing', '%repRing', '%predRing', '%anyUE', '%boolUE'],\r\n            this.type\r\n        )) {\r\n        suff = ' \\u03BB';\r\n    } else if (this.defaultValue) {\r\n        if (this.type === '%n') {\r\n            suff = ' # = ' + this.defaultValue.toString();\r\n        } else { // 'any' or 'text'\r\n            suff = ' = ' + this.defaultValue.toString();\r\n        }\r\n    } else if (this.type === '%n') {\r\n        suff = ' #';\r\n    }\r\n    return this.labelString + suff;\r\n};\r\n\r\nBlockLabelFragment.prototype.blockSpecFragment = function () {\r\n    // answer a string representing my block spec\r\n    return this.isDeleted ? '' : this.type || this.labelString;\r\n};\r\n\r\nBlockLabelFragment.prototype.copy = function () {\r\n    var ans = new BlockLabelFragment(this.labelString);\r\n    ans.type = this.type;\r\n    ans.defaultValue = this.defaultValue;\r\n    ans.options = this.options;\r\n    ans.isReadOnly = this.isReadOnly;\r\n    return ans;\r\n};\r\n\r\n// arity\r\n\r\nBlockLabelFragment.prototype.isSingleInput = function () {\r\n    return !this.isMultipleInput() &&\r\n        (this.type !== '%upvar');\r\n};\r\n\r\nBlockLabelFragment.prototype.isMultipleInput = function () {\r\n    // answer true if the type begins with '%mult'\r\n    if (!this.type) {\r\n        return false; // not an input at all\r\n    }\r\n    return this.type.indexOf('%mult') > -1;\r\n};\r\n\r\nBlockLabelFragment.prototype.isUpvar = function () {\r\n    if (!this.type) {\r\n        return false; // not an input at all\r\n    }\r\n    return this.type === '%upvar';\r\n};\r\n\r\nBlockLabelFragment.prototype.setToSingleInput = function () {\r\n    if (!this.type) {return null; } // not an input at all\r\n    if (this.type === '%upvar') {\r\n        this.type = '%s';\r\n    } else {\r\n        this.type = this.singleInputType();\r\n    }\r\n};\r\n\r\nBlockLabelFragment.prototype.setToMultipleInput = function () {\r\n    if (!this.type) {return null; } // not an input at all\r\n    if (this.type === '%upvar') {\r\n        this.type = '%s';\r\n    }\r\n    this.type = '%mult'.concat(this.singleInputType());\r\n};\r\n\r\nBlockLabelFragment.prototype.setToUpvar = function () {\r\n    if (!this.type) {return null; } // not an input at all\r\n    this.type = '%upvar';\r\n};\r\n\r\nBlockLabelFragment.prototype.singleInputType = function () {\r\n    // answer the type of my input withtou any preceding '%mult'\r\n    if (!this.type) {\r\n        return null; // not an input at all\r\n    }\r\n    if (this.isMultipleInput()) {\r\n        return this.type.substr(5); // everything following '%mult'\r\n    }\r\n    return this.type;\r\n};\r\n\r\nBlockLabelFragment.prototype.setSingleInputType = function (type) {\r\n    if (!this.type || !this.isMultipleInput()) {\r\n        this.type = type;\r\n    } else {\r\n        this.type = '%mult'.concat(type);\r\n    }\r\n};\r\n\r\n// BlockLabelFragmentMorph ///////////////////////////////////////////////\r\n\r\n/*\r\n    I am a single word in a custom block prototype's label. I can be clicked\r\n    to edit my contents and to turn me into an input placeholder.\r\n*/\r\n\r\n// BlockLabelFragmentMorph inherits from StringMorph:\r\n\r\nBlockLabelFragmentMorph.prototype = new StringMorph();\r\nBlockLabelFragmentMorph.prototype.constructor = BlockLabelFragmentMorph;\r\nBlockLabelFragmentMorph.uber = StringMorph.prototype;\r\n\r\n// BlockLabelFragmentMorph instance creation:\r\n\r\nfunction BlockLabelFragmentMorph(text) {\r\n    this.init(text);\r\n}\r\n\r\nBlockLabelFragmentMorph.prototype.init = function (text) {\r\n    this.fragment = new BlockLabelFragment(text);\r\n    this.fragment.type = null;\r\n    this.sO = null; // temporary backup for shadowOffset\r\n    BlockLabelFragmentMorph.uber.init.call(\r\n        this,\r\n        text,\r\n        null, // font size\r\n        SyntaxElementMorph.prototype.labelFontStyle,\r\n        null, // bold\r\n        null, // italic\r\n        null, // numeric\r\n        null, // shadow offset\r\n        null, // shadow color\r\n        null, // color\r\n        SyntaxElementMorph.prototype.labelFontName\r\n    );\r\n};\r\n\r\n// BlockLabelFragmentMorph events:\r\n\r\nBlockLabelFragmentMorph.prototype.mouseEnter = function () {\r\n    this.sO = this.shadowOffset;\r\n    this.shadowOffset = this.sO.neg();\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nBlockLabelFragmentMorph.prototype.mouseLeave = function () {\r\n    this.shadowOffset = this.sO;\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nBlockLabelFragmentMorph.prototype.mouseClickLeft = function () {\r\n/*\r\n    make a copy of my fragment object and open an InputSlotDialog on it.\r\n    If the user acknowledges the DialogBox, assign the - edited - copy\r\n    of the fragment object to be my new fragment object and update the\r\n    custom block'label (the prototype in the block editor). Do not yet update\r\n    the definition and every block instance, as this happens only after\r\n    the user acknowledges and closes the block editor\r\n*/\r\n    var frag = this.fragment.copy(),\r\n        myself = this,\r\n        isPlaceHolder = this instanceof BlockLabelPlaceHolderMorph,\r\n        isOnlyElement = this.parent.parseSpec(this.parent.blockSpec).length\r\n            < 2;\r\n\r\n    new InputSlotDialogMorph(\r\n        frag,\r\n        null,\r\n        function () {myself.updateBlockLabel(frag); },\r\n        this,\r\n        this.parent.definition.category\r\n    ).open(\r\n        this instanceof BlockLabelFragmentMorph ?\r\n                'Edit label fragment' :\r\n                isPlaceHolder ? 'Create input name' : 'Edit input name',\r\n        frag.labelString,\r\n        this.world(),\r\n        null,\r\n        isPlaceHolder || isOnlyElement\r\n    );\r\n};\r\n\r\nBlockLabelFragmentMorph.prototype.updateBlockLabel = function (newFragment) {\r\n    var prot = this.parentThatIsA(BlockMorph);\r\n\r\n    this.fragment = newFragment;\r\n    if (prot) {\r\n        prot.refreshPrototype();\r\n    }\r\n};\r\n\r\nBlockLabelFragmentMorph.prototype.userMenu = function () {\r\n    // show a menu of built-in special symbols\r\n    var myself = this,\r\n        symbolColor = new Color(100, 100, 130),\r\n        menu = new MenuMorph(\r\n            function (string) {\r\n                var tuple = myself.text.split('-');\r\n                myself.changed();\r\n                tuple[0] = '$' + string;\r\n                myself.text = tuple.join('-');\r\n                myself.fragment.labelString = myself.text;\r\n                myself.parent.parent.changed();\r\n                myself.drawNew();\r\n                myself.changed();\r\n                myself.parent.parent.fixLayout();\r\n                myself.parent.parent.changed();\r\n            },\r\n            null,\r\n            this,\r\n            this.fontSize\r\n        );\r\n    SymbolMorph.prototype.names.forEach(function (name) {\r\n        menu.addItem(\r\n            [new SymbolMorph(name, menu.fontSize, symbolColor), name],\r\n            name\r\n        );\r\n    });\r\n    menu.addLine();\r\n    menu.addItem('\\u23CE ' + localize('new line'), 'nl');\r\n    return menu;\r\n};\r\n\r\n// BlockLabelPlaceHolderMorph ///////////////////////////////////////////////\r\n\r\n/*\r\n    I am a space between words or inputs in a custom block prototype's label.\r\n    When I am moused over I display a plus sign on a colored background\r\n    circle. I can be clicked to add a new word or input to the prototype.\r\n*/\r\n\r\n// BlockLabelPlaceHolderMorph inherits from StringMorph:\r\n\r\nBlockLabelPlaceHolderMorph.prototype = new StringMorph();\r\nBlockLabelPlaceHolderMorph.prototype.constructor = BlockLabelPlaceHolderMorph;\r\nBlockLabelPlaceHolderMorph.uber = StringMorph.prototype;\r\n\r\n// BlockLabelPlaceHolderMorph preferences settings\r\n\r\nBlockLabelPlaceHolderMorph.prototype.plainLabel = false; // always show (+)\r\n\r\n// BlockLabelPlaceHolderMorph instance creation:\r\n\r\nfunction BlockLabelPlaceHolderMorph() {\r\n    this.init();\r\n}\r\n\r\nBlockLabelPlaceHolderMorph.prototype.init = function () {\r\n    this.fragment = new BlockLabelFragment('');\r\n    this.fragment.type = '%s';\r\n    this.fragment.isDeleted = true;\r\n    this.isHighlighted = false;\r\n    this.isProtectedLabel = true; // doesn't participate in zebra coloring\r\n    BlockLabelFragmentMorph.uber.init.call(this, '+');\r\n};\r\n\r\n// BlockLabelPlaceHolderMorph drawing\r\n\r\nBlockLabelPlaceHolderMorph.prototype.drawNew = function () {\r\n    var context, width, x, y, cx, cy;\r\n\r\n    // set my text contents depending on the \"plainLabel\" flag\r\n    if (this.plainLabel) {\r\n        this.text = this.isHighlighted ? ' + ' : '';\r\n    }\r\n\r\n    // initialize my surface property\r\n    this.image = newCanvas();\r\n    context = this.image.getContext('2d');\r\n    context.font = this.font();\r\n\r\n    // set my extent\r\n    width = Math.max(\r\n        context.measureText(this.text).width\r\n            + Math.abs(this.shadowOffset.x),\r\n        1\r\n    );\r\n    this.bounds.corner = this.bounds.origin.add(\r\n        new Point(\r\n            width,\r\n            fontHeight(this.fontSize) + Math.abs(this.shadowOffset.y)\r\n        )\r\n    );\r\n    this.image.width = width;\r\n    this.image.height = this.height();\r\n\r\n    // draw background, if any\r\n    if (this.isHighlighted) {\r\n        cx = Math.floor(width / 2);\r\n        cy = Math.floor(this.height() / 2);\r\n        context.fillStyle = this.color.toString();\r\n        context.beginPath();\r\n        context.arc(\r\n            cx,\r\n            cy * 1.2,\r\n            Math.min(cx, cy),\r\n            radians(0),\r\n            radians(360),\r\n            false\r\n        );\r\n        context.closePath();\r\n        context.fill();\r\n    }\r\n\r\n    // prepare context for drawing text\r\n    context.font = this.font();\r\n    context.textAlign = 'left';\r\n    context.textBaseline = 'bottom';\r\n\r\n    // first draw the shadow, if any\r\n    if (this.shadowColor) {\r\n        x = Math.max(this.shadowOffset.x, 0);\r\n        y = Math.max(this.shadowOffset.y, 0);\r\n        context.fillStyle = this.shadowColor.toString();\r\n        context.fillText(this.text, x, fontHeight(this.fontSize) + y);\r\n    }\r\n\r\n    // now draw the actual text\r\n    x = Math.abs(Math.min(this.shadowOffset.x, 0));\r\n    y = Math.abs(Math.min(this.shadowOffset.y, 0));\r\n    context.fillStyle = this.isHighlighted ?\r\n            'white' : this.color.toString();\r\n    context.fillText(this.text, x, fontHeight(this.fontSize) + y);\r\n\r\n    // notify my parent of layout change\r\n    if (this.parent) {\r\n        if (this.parent.fixLayout) {\r\n            this.parent.fixLayout();\r\n        }\r\n        if (this.parent.parent instanceof PrototypeHatBlockMorph) {\r\n            this.parent.parent.fixLayout();\r\n        }\r\n    }\r\n};\r\n\r\n// BlockLabelPlaceHolderMorph events:\r\n\r\nBlockLabelPlaceHolderMorph.prototype.mouseEnter = function () {\r\n    var hat = this.parentThatIsA(PrototypeHatBlockMorph);\r\n    this.isHighlighted = true;\r\n    if (this.plainLabel && hat) {\r\n        hat.changed();\r\n        this.drawNew();\r\n        hat.changed();\r\n    } else {\r\n        this.drawNew();\r\n        this.changed();\r\n    }\r\n};\r\n\r\nBlockLabelPlaceHolderMorph.prototype.mouseLeave = function () {\r\n    var hat = this.parentThatIsA(PrototypeHatBlockMorph);\r\n    this.isHighlighted = false;\r\n    if (this.plainLabel && hat) {\r\n        hat.changed();\r\n        this.drawNew();\r\n        hat.changed();\r\n    } else {\r\n        this.drawNew();\r\n        this.changed();\r\n    }\r\n};\r\n\r\nBlockLabelPlaceHolderMorph.prototype.mouseClickLeft\r\n    = BlockLabelFragmentMorph.prototype.mouseClickLeft;\r\n\r\nBlockLabelPlaceHolderMorph.prototype.updateBlockLabel\r\n    = BlockLabelFragmentMorph.prototype.updateBlockLabel;\r\n\r\n// BlockInputFragmentMorph ///////////////////////////////////////////////\r\n\r\n/*\r\n    I am a variable blob in a custom block prototype's label. I can be clicked\r\n    to edit my contents and to turn me into an part of the block's label text.\r\n*/\r\n\r\n// BlockInputFragmentMorph inherits from TemplateSlotMorph:\r\n\r\nBlockInputFragmentMorph.prototype = new TemplateSlotMorph();\r\nBlockInputFragmentMorph.prototype.constructor = BlockInputFragmentMorph;\r\nBlockInputFragmentMorph.uber = TemplateSlotMorph.prototype;\r\n\r\n// BlockInputFragmentMorph instance creation:\r\n\r\nfunction BlockInputFragmentMorph(text) {\r\n    this.init(text);\r\n}\r\n\r\nBlockInputFragmentMorph.prototype.init = function (text) {\r\n    this.fragment = new BlockLabelFragment(text);\r\n    this.fragment.type = '%s';\r\n    BlockInputFragmentMorph.uber.init.call(this, text);\r\n};\r\n\r\n// BlockInputFragmentMorph events:\r\n\r\nBlockInputFragmentMorph.prototype.mouseClickLeft\r\n    = BlockLabelFragmentMorph.prototype.mouseClickLeft;\r\n\r\nBlockInputFragmentMorph.prototype.updateBlockLabel\r\n    = BlockLabelFragmentMorph.prototype.updateBlockLabel;\r\n\r\n// InputSlotDialogMorph ////////////////////////////////////////////////\r\n\r\n// ... \"inherits\" some methods from BlockDialogMorph\r\n\r\n// InputSlotDialogMorph inherits from DialogBoxMorph:\r\n\r\nInputSlotDialogMorph.prototype = new DialogBoxMorph();\r\nInputSlotDialogMorph.prototype.constructor = InputSlotDialogMorph;\r\nInputSlotDialogMorph.uber = DialogBoxMorph.prototype;\r\n\r\n// InputSlotDialogMorph preferences settings:\r\n\r\n// if \"isLaunchingExpanded\" is true I always open in the long form\r\nInputSlotDialogMorph.prototype.isLaunchingExpanded = false;\r\n\r\n// InputSlotDialogMorph instance creation:\r\n\r\nfunction InputSlotDialogMorph(\r\n    fragment,\r\n    target,\r\n    action,\r\n    environment,\r\n    category\r\n) {\r\n    this.init(fragment, target, action, environment, category);\r\n}\r\n\r\nInputSlotDialogMorph.prototype.init = function (\r\n    fragment,\r\n    target,\r\n    action,\r\n    environment,\r\n    category\r\n) {\r\n    var scale = SyntaxElementMorph.prototype.scale,\r\n        fh = fontHeight(10) / 1.2 * scale; // \"raw height\"\r\n\r\n    // additional properties:\r\n    this.fragment = fragment || new BlockLabelFragment();\r\n    this.textfield = null;\r\n    this.types = null;\r\n    this.slots = null;\r\n    this.isExpanded = false;\r\n    this.category = category || 'other';\r\n    this.cachedRadioButton = null; // \"template\" for radio button backgrounds\r\n    this.noDelete = false;\r\n\r\n    // initialize inherited properties:\r\n    BlockDialogMorph.uber.init.call(\r\n        this,\r\n        target,\r\n        action,\r\n        environment\r\n    );\r\n\r\n    // override inherited properites:\r\n    this.types = new AlignmentMorph('row', this.padding);\r\n    this.types.respectHiddens = true; // prevent the arrow from flipping\r\n    this.add(this.types);\r\n    this.slots = new BoxMorph();\r\n    this.slots.color = new Color(55, 55, 55); // same as palette\r\n    this.slots.borderColor = this.slots.color.lighter(50);\r\n    this.slots.setExtent(new Point((fh + 10) * 24, (fh + 10 * scale) * 10.4));\r\n    this.add(this.slots);\r\n    this.createSlotTypeButtons();\r\n    this.fixSlotsLayout();\r\n    this.addSlotsMenu();\r\n    this.createTypeButtons();\r\n    this.fixLayout();\r\n};\r\n\r\nInputSlotDialogMorph.prototype.createTypeButtons = function () {\r\n    var block,\r\n        arrow,\r\n        myself = this,\r\n        clr = SpriteMorph.prototype.blockColor[this.category];\r\n\r\n\r\n    block = new JaggedBlockMorph(localize('Title text'));\r\n    block.setColor(clr);\r\n    this.addBlockTypeButton(\r\n        function () {myself.setType(null); },\r\n        block,\r\n        function () {return myself.fragment.type === null; }\r\n    );\r\n\r\n    block = new JaggedBlockMorph('%inputName');\r\n    block.setColor(clr);\r\n    this.addBlockTypeButton(\r\n        function () {myself.setType('%s'); },\r\n        block,\r\n        function () {return myself.fragment.type !== null; }\r\n    );\r\n\r\n    // add an arrow button for long form/short form toggling\r\n    arrow = new ArrowMorph(\r\n        'right',\r\n        PushButtonMorph.prototype.fontSize + 4,\r\n        2\r\n    );\r\n    arrow.noticesTransparentClick = true;\r\n    this.types.add(arrow);\r\n    this.types.fixLayout();\r\n\r\n    // configure arrow button\r\n    arrow.refresh = function () {\r\n        if (myself.fragment.type === null) {\r\n            myself.isExpanded = false;\r\n            arrow.hide();\r\n            myself.drawNew();\r\n        } else {\r\n            arrow.show();\r\n            if (myself.isExpanded) {\r\n                arrow.direction = 'down';\r\n            } else {\r\n                arrow.direction = 'right';\r\n            }\r\n            arrow.drawNew();\r\n            arrow.changed();\r\n        }\r\n    };\r\n\r\n    arrow.mouseClickLeft = function () {\r\n        if (arrow.isVisible) {\r\n            myself.isExpanded = !myself.isExpanded;\r\n            myself.types.children.forEach(function (c) {\r\n                c.refresh();\r\n            });\r\n            myself.drawNew();\r\n            myself.edit();\r\n        }\r\n    };\r\n\r\n    arrow.refresh();\r\n};\r\n\r\nInputSlotDialogMorph.prototype.addTypeButton\r\n    = BlockDialogMorph.prototype.addTypeButton;\r\n\r\nInputSlotDialogMorph.prototype.addBlockTypeButton\r\n    = BlockDialogMorph.prototype.addBlockTypeButton;\r\n\r\nInputSlotDialogMorph.prototype.setType = function (fragmentType) {\r\n    this.textfield.choices = fragmentType ? null : this.symbolMenu;\r\n    this.textfield.drawNew();\r\n    this.fragment.type = fragmentType || null;\r\n    this.types.children.forEach(function (c) {\r\n        c.refresh();\r\n    });\r\n    this.slots.children.forEach(function (c) {\r\n        c.refresh();\r\n    });\r\n    this.edit();\r\n};\r\n\r\nInputSlotDialogMorph.prototype.getInput = function () {\r\n    var lbl;\r\n    if (this.body instanceof InputFieldMorph) {\r\n        lbl = this.normalizeSpaces(this.body.getValue());\r\n    }\r\n    if (lbl) {\r\n        this.fragment.labelString = lbl;\r\n        if (contains(['%b', '%boolUE'], this.fragment.type)) {\r\n            this.fragment.defaultValue =\r\n                this.slots.defaultSwitch.evaluate();\r\n        } else {\r\n            this.fragment.defaultValue =\r\n                this.slots.defaultInputField.getValue();\r\n        }\r\n        return lbl;\r\n    } else if (!this.noDelete) {\r\n        this.fragment.isDeleted = true;\r\n    }\r\n    return null;\r\n};\r\n\r\nInputSlotDialogMorph.prototype.fixLayout = function () {\r\n    var maxWidth,\r\n        left = this.left(),\r\n        th = fontHeight(this.titleFontSize) + this.titlePadding * 2;\r\n\r\n    if (!this.isExpanded) {\r\n        if (this.slots) {\r\n            this.slots.hide();\r\n        }\r\n        return BlockDialogMorph.prototype.fixLayout.call(this);\r\n    }\r\n\r\n    this.slots.show();\r\n    maxWidth = this.slots.width();\r\n\r\n    // arrange panes :\r\n    // body (input field)\r\n    this.body.setPosition(this.position().add(new Point(\r\n        this.padding + (maxWidth - this.body.width()) / 2,\r\n        th + this.padding\r\n    )));\r\n\r\n    // label\r\n    this.label.setLeft(\r\n        left + this.padding + (maxWidth - this.label.width()) / 2\r\n    );\r\n    this.label.setTop(this.top() + (th - this.label.height()) / 2);\r\n\r\n    // types\r\n    this.types.fixLayout();\r\n    this.types.setTop(this.body.bottom() + this.padding);\r\n    this.types.setLeft(\r\n        left + this.padding + (maxWidth - this.types.width()) / 2\r\n    );\r\n\r\n    // slots\r\n    this.slots.setPosition(new Point(\r\n        this.left() + this.padding,\r\n        this.types.bottom() + this.padding\r\n    ));\r\n    this.slots.children.forEach(function (c) {\r\n        c.refresh();\r\n    });\r\n\r\n    // buttons\r\n    this.buttons.fixLayout();\r\n    this.buttons.setTop(this.slots.bottom() + this.padding);\r\n    this.buttons.setLeft(\r\n        left + this.padding + (maxWidth - this.buttons.width()) / 2\r\n    );\r\n\r\n    // set dialog box dimensions:\r\n    this.silentSetHeight(this.buttons.bottom() - this.top() + this.padding);\r\n    this.silentSetWidth(this.slots.right() - this.left() + this.padding);\r\n};\r\n\r\nInputSlotDialogMorph.prototype.open = function (\r\n    title,\r\n    defaultString,\r\n    world,\r\n    pic,\r\n    noDeleteButton\r\n) {\r\n    var txt = new InputFieldMorph(defaultString),\r\n        oldFlag = Morph.prototype.trackChanges;\r\n\r\n    if (!this.fragment.type) {\r\n        txt.choices = this.symbolMenu;\r\n    }\r\n    Morph.prototype.trackChanges = false;\r\n    this.isExpanded = this.isLaunchingExpanded;\r\n    txt.setWidth(250);\r\n    this.labelString = title;\r\n    this.createLabel();\r\n    if (pic) {this.setPicture(pic); }\r\n    this.addBody(txt);\r\n    txt.drawNew();\r\n    this.textfield = txt;\r\n    this.addButton('ok', 'OK');\r\n    if (!noDeleteButton) {\r\n        this.addButton('deleteFragment', 'Delete');\r\n    } else {\r\n        this.noDelete = true;\r\n    }\r\n    this.addButton('cancel', 'Cancel');\r\n    this.fixLayout();\r\n    this.drawNew();\r\n    this.fixLayout();\r\n    this.popUp(world);\r\n    this.add(this.types); // make the types come to front\r\n    Morph.prototype.trackChanges = oldFlag;\r\n    this.changed();\r\n};\r\n\r\nInputSlotDialogMorph.prototype.symbolMenu = function () {\r\n    var symbols = [],\r\n        symbolColor = new Color(100, 100, 130),\r\n        myself = this;\r\n    SymbolMorph.prototype.names.forEach(function (symbol) {\r\n        symbols.push([\r\n            [\r\n                new SymbolMorph(symbol, myself.fontSize, symbolColor),\r\n                localize(symbol)\r\n            ],\r\n            '$' + symbol\r\n        ]);\r\n    });\r\n    symbols.push(['\\u23CE ' + localize('new line'), '$nl']);\r\n    return symbols;\r\n};\r\n\r\nInputSlotDialogMorph.prototype.deleteFragment = function () {\r\n    this.fragment.isDeleted = true;\r\n    this.accept();\r\n};\r\n\r\nInputSlotDialogMorph.prototype.createSlotTypeButtons = function () {\r\n    // populate my 'slots' area with radio buttons, labels and input fields\r\n    var myself = this, defLabel, defInput, defSwitch,\r\n        oldFlag = Morph.prototype.trackChanges;\r\n\r\n    Morph.prototype.trackChanges = false;\r\n\r\n    // slot types\r\n    this.addSlotTypeButton('Object', '%obj');\r\n    this.addSlotTypeButton('Text', '%txt');\r\n    this.addSlotTypeButton('List', '%l');\r\n    this.addSlotTypeButton('Number', '%n');\r\n    this.addSlotTypeButton('Any type', '%s');\r\n    this.addSlotTypeButton('Boolean (T/F)', '%b');\r\n    this.addSlotTypeButton('Command\\n(inline)', '%cmdRing'); //'%cmd');\r\n    this.addSlotTypeButton('Reporter', '%repRing'); //'%r');\r\n    this.addSlotTypeButton('Predicate', '%predRing'); //'%p');\r\n    this.addSlotTypeButton('Command\\n(C-shape)', '%cs');\r\n    this.addSlotTypeButton('Any\\n(unevaluated)', '%anyUE');\r\n    this.addSlotTypeButton('Boolean\\n(unevaluated)', '%boolUE');\r\n\r\n    // arity and upvars\r\n    this.slots.radioButtonSingle = this.addSlotArityButton(\r\n        function () {myself.setSlotArity('single'); },\r\n        \"Single input.\",\r\n        function () {return myself.fragment.isSingleInput(); }\r\n    );\r\n    this.addSlotArityButton(\r\n        function () {myself.setSlotArity('multiple'); },\r\n        \"Multiple inputs (value is list of inputs)\",\r\n        function () {return myself.fragment.isMultipleInput(); }\r\n    );\r\n    this.addSlotArityButton(\r\n        function () {myself.setSlotArity('upvar'); },\r\n        \"Upvar - make internal variable visible to caller\",\r\n        function () {return myself.fragment.isUpvar(); }\r\n    );\r\n\r\n    // default values\r\n    defLabel = new StringMorph(localize('Default Value:'));\r\n    defLabel.fontSize = this.slots.radioButtonSingle.fontSize;\r\n    defLabel.setColor(new Color(255, 255, 255));\r\n    defLabel.refresh = function () {\r\n        if (myself.isExpanded && contains(\r\n                ['%s', '%n', '%txt', '%anyUE', '%b', '%boolUE'],\r\n                myself.fragment.type\r\n            )) {\r\n            defLabel.show();\r\n        } else {\r\n            defLabel.hide();\r\n        }\r\n    };\r\n    this.slots.defaultInputLabel = defLabel;\r\n    this.slots.add(defLabel);\r\n\r\n    defInput = new InputFieldMorph(this.fragment.defaultValue);\r\n    defInput.contents().fontSize = defLabel.fontSize;\r\n    defInput.contrast = 90;\r\n    defInput.contents().drawNew();\r\n    defInput.setWidth(50);\r\n    defInput.refresh = function () {\r\n        if (myself.isExpanded && contains(\r\n            ['%s', '%n', '%txt', '%anyUE'],\r\n            myself.fragment.type\r\n        )) {\r\n            defInput.show();\r\n            if (myself.fragment.type === '%n') {\r\n                defInput.setIsNumeric(true);\r\n            } else {\r\n                defInput.setIsNumeric(false);\r\n            }\r\n        } else {\r\n            defInput.hide();\r\n        }\r\n    };\r\n    this.slots.defaultInputField = defInput;\r\n    this.slots.add(defInput);\r\n    defInput.drawNew();\r\n\r\n    defSwitch = new BooleanSlotMorph(this.fragment.defaultValue);\r\n    defSwitch.refresh = function () {\r\n        if (myself.isExpanded && contains(\r\n            ['%b', '%boolUE'],\r\n            myself.fragment.type\r\n        )) {\r\n            defSwitch.show();\r\n        } else {\r\n            defSwitch.hide();\r\n        }\r\n    };\r\n    this.slots.defaultSwitch = defSwitch;\r\n    this.slots.add(defSwitch);\r\n    defSwitch.drawNew();\r\n\r\n    Morph.prototype.trackChanges = oldFlag;\r\n};\r\n\r\nInputSlotDialogMorph.prototype.setSlotType = function (type) {\r\n    this.fragment.setSingleInputType(type);\r\n    this.slots.children.forEach(function (c) {\r\n        c.refresh();\r\n    });\r\n    this.edit();\r\n};\r\n\r\nInputSlotDialogMorph.prototype.setSlotArity = function (arity) {\r\n    if (arity === 'single') {\r\n        this.fragment.setToSingleInput();\r\n    } else if (arity === 'multiple') {\r\n        this.fragment.setToMultipleInput();\r\n    } else if (arity === 'upvar') {\r\n        this.fragment.setToUpvar();\r\n        // hide other options - under construction\r\n    }\r\n    this.slots.children.forEach(function (c) {\r\n        c.refresh();\r\n    });\r\n    this.edit();\r\n};\r\n\r\nInputSlotDialogMorph.prototype.addSlotTypeButton = function (\r\n    label,\r\n    spec\r\n) {\r\n/*\r\n    this method produces a radio button with a picture of the\r\n    slot type indicated by \"spec\" and the \"label\" text to\r\n    its right.\r\n    Note that you can make the slot picture interactive (turn\r\n    it into a ToggleElementMorph by changing the\r\n\r\n        element.fullImage()\r\n\r\n    line to just\r\n\r\n        element\r\n\r\n    I've opted for the simpler representation because it reduces\r\n    the duration of time it takes for the InputSlotDialog to load\r\n    and show. But in the future computers and browsers may be\r\n    faster.\r\n*/\r\n    var myself = this,\r\n        action = function () {myself.setSlotType(spec); },\r\n        query,\r\n        element = new JaggedBlockMorph(spec),\r\n        button;\r\n\r\n    query = function () {\r\n        return myself.fragment.singleInputType() === spec;\r\n    };\r\n    element.setCategory(this.category);\r\n    element.rebuild();\r\n    button = new ToggleMorph(\r\n        'radiobutton',\r\n        this,\r\n        action,\r\n        label,\r\n        query,\r\n        null,\r\n        null,\r\n        this.cachedRadioButton,\r\n        element.fullImage(), // delete the \"fullImage()\" part for interactive\r\n        'rebuild'\r\n    );\r\n    button.edge = this.buttonEdge / 2;\r\n    button.outline = this.buttonOutline / 2;\r\n    button.outlineColor = this.buttonOutlineColor;\r\n    button.outlineGradient = this.buttonOutlineGradient;\r\n    button.drawNew();\r\n    button.fixLayout();\r\n    button.label.isBold = false;\r\n    button.label.setColor(new Color(255, 255, 255));\r\n    if (!this.cachedRadioButton) {\r\n        this.cachedRadioButton = button;\r\n    }\r\n    this.slots.add(button);\r\n    return button;\r\n};\r\n\r\nInputSlotDialogMorph.prototype.addSlotArityButton = function (\r\n    action,\r\n    label,\r\n    query\r\n) {\r\n    var button = new ToggleMorph(\r\n        'radiobutton',\r\n        this,\r\n        action,\r\n        label,\r\n        query,\r\n        null,\r\n        null,\r\n        this.cachedRadioButton\r\n    );\r\n    button.edge = this.buttonEdge / 2;\r\n    button.outline = this.buttonOutline / 2;\r\n    button.outlineColor = this.buttonOutlineColor;\r\n    button.outlineGradient = this.buttonOutlineGradient;\r\n\r\n    button.drawNew();\r\n    button.fixLayout();\r\n    // button.label.isBold = false;\r\n    button.label.setColor(new Color(255, 255, 255));\r\n    this.slots.add(button);\r\n    if (!this.cachedRadioButton) {\r\n        this.cachedRadioButton = button;\r\n    }\r\n    return button;\r\n};\r\n\r\nInputSlotDialogMorph.prototype.fixSlotsLayout = function () {\r\n    var slots = this.slots,\r\n        scale = SyntaxElementMorph.prototype.scale,\r\n        xPadding = 10 * scale,\r\n        ypadding = 14 * scale,\r\n        bh = (fontHeight(10) / 1.2 + 15) * scale, // slot type button height\r\n        ah = (fontHeight(10) / 1.2 + 10) * scale, // arity button height\r\n        size = 12, // number slot type radio buttons\r\n        cols = [\r\n            slots.left() + xPadding,\r\n            slots.left() + slots.width() / 3,\r\n            slots.left() + slots.width() * 2 / 3\r\n        ],\r\n        rows = [\r\n            slots.top() + ypadding,\r\n            slots.top() + ypadding + bh,\r\n            slots.top() + ypadding + bh * 2,\r\n            slots.top() + ypadding + bh * 3,\r\n            slots.top() + ypadding + bh * 4,\r\n            slots.top() + ypadding + bh * 5,\r\n\r\n            slots.top() + ypadding + bh * 5 + ah,\r\n            slots.top() + ypadding + bh * 5 + ah * 2\r\n        ],\r\n        idx,\r\n        row = -1,\r\n        col,\r\n        oldFlag = Morph.prototype.trackChanges;\r\n\r\n    Morph.prototype.trackChanges = false;\r\n\r\n    // slot types:\r\n\r\n    for (idx = 0; idx < size; idx += 1) {\r\n        col = idx % 3;\r\n        if (idx % 3 === 0) {row += 1; }\r\n        slots.children[idx].setPosition(new Point(\r\n            cols[col],\r\n            rows[row]\r\n        ));\r\n    }\r\n\r\n    // arity:\r\n\r\n    col = 0;\r\n    row = 5;\r\n    for (idx = size; idx < size + 3; idx += 1) {\r\n        slots.children[idx].setPosition(new Point(\r\n            cols[col],\r\n            rows[row + idx - size]\r\n        ));\r\n    }\r\n\r\n    // default input\r\n\r\n    this.slots.defaultInputLabel.setPosition(\r\n        this.slots.radioButtonSingle.label.topRight().add(new Point(5, 0))\r\n    );\r\n    this.slots.defaultInputField.setCenter(\r\n        this.slots.defaultInputLabel.center().add(new Point(\r\n            this.slots.defaultInputField.width() / 2\r\n                + this.slots.defaultInputLabel.width() / 2 + 5,\r\n            0\r\n        ))\r\n    );\r\n    this.slots.defaultSwitch.setCenter(\r\n        this.slots.defaultInputLabel.center().add(new Point(\r\n            this.slots.defaultSwitch.width() / 2\r\n                + this.slots.defaultInputLabel.width() / 2 + 5,\r\n            0\r\n        ))\r\n    );\r\n    Morph.prototype.trackChanges = oldFlag;\r\n    this.slots.changed();\r\n};\r\n\r\nInputSlotDialogMorph.prototype.addSlotsMenu = function () {\r\n    var myself = this;\r\n\r\n    this.slots.userMenu = function () {\r\n        if (contains(['%s', '%n', '%txt', '%anyUE'], myself.fragment.type)) {\r\n            var menu = new MenuMorph(myself),\r\n                on = '\\u2611 ',\r\n                off = '\\u2610 ';\r\n            menu.addItem('options...', 'editSlotOptions');\r\n            menu.addItem(\r\n                (myself.fragment.isReadOnly ? on : off) +\r\n                    localize('read-only'),\r\n                function () {myself.fragment.isReadOnly =\r\n                         !myself.fragment.isReadOnly;\r\n                         }\r\n            );\r\n            return menu;\r\n        }\r\n        return Morph.prototype.userMenu.call(myself);\r\n    };\r\n};\r\n\r\nInputSlotDialogMorph.prototype.editSlotOptions = function () {\r\n    var myself = this;\r\n    new DialogBoxMorph(\r\n        myself,\r\n        function (options) {\r\n            myself.fragment.options = options.trim();\r\n        },\r\n        myself\r\n    ).promptCode(\r\n        'Input Slot Options',\r\n        myself.fragment.options,\r\n        myself.world(),\r\n        null,\r\n        localize('Enter one option per line.\\n' +\r\n            'Optionally use \"=\" as key/value delimiter ' +\r\n            'and {} for submenus. ' +\r\n            'e.g.\\n   the answer=42')\r\n    );\r\n};\r\n\r\n// InputSlotDialogMorph hiding and showing:\r\n\r\n/*\r\n    override the inherited behavior to recursively hide/show all\r\n    children, so that my instances get restored correctly when\r\n    hiding/showing my parent.\r\n*/\r\n\r\nInputSlotDialogMorph.prototype.hide = function () {\r\n    this.isVisible = false;\r\n    this.changed();\r\n};\r\n\r\nInputSlotDialogMorph.prototype.show = function () {\r\n    this.isVisible = true;\r\n    this.changed();\r\n};\r\n\r\n// VariableDialogMorph ////////////////////////////////////////////////////\r\n\r\n// VariableDialogMorph inherits from DialogBoxMorph:\r\n\r\nVariableDialogMorph.prototype = new DialogBoxMorph();\r\nVariableDialogMorph.prototype.constructor = VariableDialogMorph;\r\nVariableDialogMorph.uber = DialogBoxMorph.prototype;\r\n\r\n// ... and some behavior from BlockDialogMorph\r\n\r\n// VariableDialogMorph instance creation:\r\n\r\nfunction VariableDialogMorph(target, action, environment) {\r\n    this.init(target, action, environment);\r\n}\r\n\r\nVariableDialogMorph.prototype.init = function (target, action, environment) {\r\n    // additional properties:\r\n    this.types = null;\r\n    this.isGlobal = true;\r\n\r\n    // initialize inherited properties:\r\n    BlockDialogMorph.uber.init.call(\r\n        this,\r\n        target,\r\n        action,\r\n        environment\r\n    );\r\n\r\n    // override inherited properites:\r\n    this.types = new AlignmentMorph('row', this.padding);\r\n    this.add(this.types);\r\n    this.createTypeButtons();\r\n};\r\n\r\nVariableDialogMorph.prototype.createTypeButtons = function () {\r\n    var myself = this;\r\n\r\n    this.addTypeButton(\r\n        function () {myself.setType('global'); },\r\n        \"for all sprites\",\r\n        function () {return myself.isGlobal; }\r\n    );\r\n    this.addTypeButton(\r\n        function () {myself.setType('local'); },\r\n        \"for this sprite only\",\r\n        function () {return !myself.isGlobal; }\r\n    );\r\n};\r\n\r\nVariableDialogMorph.prototype.addTypeButton\r\n    = BlockDialogMorph.prototype.addTypeButton;\r\n\r\nVariableDialogMorph.prototype.setType = function (varType) {\r\n    this.isGlobal = (varType === 'global');\r\n    this.types.children.forEach(function (c) {\r\n        c.refresh();\r\n    });\r\n    this.edit();\r\n};\r\n\r\nVariableDialogMorph.prototype.getInput = function () {\r\n    // answer a tuple: [varName, isGlobal]\r\n    var name = this.normalizeSpaces(this.body.getValue());\r\n    return name ? [name, this.isGlobal] : null;\r\n};\r\n\r\nVariableDialogMorph.prototype.fixLayout = function () {\r\n    var th = fontHeight(this.titleFontSize) + this.titlePadding * 2;\r\n\r\n    if (this.body) {\r\n        this.body.setPosition(this.position().add(new Point(\r\n            this.padding,\r\n            th + this.padding\r\n        )));\r\n        this.silentSetWidth(this.body.width() + this.padding * 2);\r\n        this.silentSetHeight(\r\n            this.body.height()\r\n                + this.padding * 2\r\n                + th\r\n        );\r\n    }\r\n\r\n    if (this.label) {\r\n        this.label.setCenter(this.center());\r\n        this.label.setTop(this.top() + (th - this.label.height()) / 2);\r\n    }\r\n\r\n    if (this.types) {\r\n        this.types.fixLayout();\r\n        this.silentSetHeight(\r\n            this.height()\r\n                    + this.types.height()\r\n                    + this.padding\r\n        );\r\n        this.silentSetWidth(Math.max(\r\n            this.width(),\r\n            this.types.width() + this.padding * 2\r\n        ));\r\n        this.types.setCenter(this.center());\r\n        if (this.body) {\r\n            this.types.setTop(this.body.bottom() + this.padding);\r\n        } else if (this.categories) {\r\n            this.types.setTop(this.categories.bottom() + this.padding);\r\n        }\r\n    }\r\n\r\n    if (this.buttons && (this.buttons.children.length > 0)) {\r\n        this.buttons.fixLayout();\r\n        this.silentSetHeight(\r\n            this.height()\r\n                    + this.buttons.height()\r\n                    + this.padding\r\n        );\r\n        this.buttons.setCenter(this.center());\r\n        this.buttons.setBottom(this.bottom() - this.padding);\r\n    }\r\n};\r\n\r\n// BlockExportDialogMorph ////////////////////////////////////////////////////\r\n\r\n// BlockExportDialogMorph inherits from DialogBoxMorph:\r\n\r\nBlockExportDialogMorph.prototype = new DialogBoxMorph();\r\nBlockExportDialogMorph.prototype.constructor = BlockExportDialogMorph;\r\nBlockExportDialogMorph.uber = DialogBoxMorph.prototype;\r\n\r\n// BlockExportDialogMorph constants:\r\n\r\nBlockExportDialogMorph.prototype.key = 'blockExport';\r\n\r\n// BlockExportDialogMorph instance creation:\r\n\r\nfunction BlockExportDialogMorph(serializer, blocks) {\r\n    this.init(serializer, blocks);\r\n}\r\n\r\nBlockExportDialogMorph.prototype.init = function (serializer, blocks) {\r\n    var myself = this;\r\n\r\n    // additional properties:\r\n    this.serializer = serializer;\r\n    this.blocks = blocks.slice(0);\r\n    this.handle = null;\r\n\r\n    // initialize inherited properties:\r\n    BlockExportDialogMorph.uber.init.call(\r\n        this,\r\n        null, // target\r\n        function () {myself.exportBlocks(); },\r\n        null // environment\r\n    );\r\n\r\n    // override inherited properites:\r\n    this.labelString = 'Export blocks';\r\n    this.createLabel();\r\n\r\n    // build contents\r\n    this.buildContents();\r\n};\r\n\r\nBlockExportDialogMorph.prototype.buildContents = function () {\r\n    var palette, x, y, block, checkBox, lastCat,\r\n        myself = this,\r\n        padding = 4;\r\n\r\n    // create plaette\r\n    palette = new ScrollFrameMorph(\r\n        null,\r\n        null,\r\n        SpriteMorph.prototype.sliderColor\r\n    );\r\n    palette.color = SpriteMorph.prototype.paletteColor;\r\n    palette.padding = padding;\r\n    palette.isDraggable = false;\r\n    palette.acceptsDrops = false;\r\n    palette.contents.acceptsDrops = false;\r\n\r\n    // populate palette\r\n    x = palette.left() + padding;\r\n    y = palette.top() + padding;\r\n    SpriteMorph.prototype.categories.forEach(function (category) {\r\n        myself.blocks.forEach(function (definition) {\r\n            if (definition.category === category) {\r\n                if (lastCat && (category !== lastCat)) {\r\n                    y += padding;\r\n                }\r\n                lastCat = category;\r\n                block = definition.templateInstance();\r\n                checkBox = new ToggleMorph(\r\n                    'checkbox',\r\n                    myself,\r\n                    function () {\r\n                        var idx = myself.blocks.indexOf(definition);\r\n                        if (idx > -1) {\r\n                            myself.blocks.splice(idx, 1);\r\n                        } else {\r\n                            myself.blocks.push(definition);\r\n                        }\r\n                    },\r\n                    null,\r\n                    function () {\r\n                        return contains(\r\n                            myself.blocks,\r\n                            definition\r\n                        );\r\n                    },\r\n                    null,\r\n                    null,\r\n                    null,\r\n                    block.fullImage()\r\n                );\r\n                checkBox.setPosition(new Point(\r\n                    x,\r\n                    y + (checkBox.top() - checkBox.toggleElement.top())\r\n                ));\r\n                palette.addContents(checkBox);\r\n                y += checkBox.fullBounds().height() + padding;\r\n            }\r\n        });\r\n    });\r\n\r\n    palette.scrollX(padding);\r\n    palette.scrollY(padding);\r\n    this.addBody(palette);\r\n\r\n    this.addButton('ok', 'OK');\r\n    this.addButton('cancel', 'Cancel');\r\n\r\n    this.setExtent(new Point(220, 300));\r\n    this.fixLayout();\r\n\r\n};\r\n\r\nBlockExportDialogMorph.prototype.popUp = function (wrrld) {\r\n    var world = wrrld || this.target.world();\r\n    if (world) {\r\n        BlockExportDialogMorph.uber.popUp.call(this, world);\r\n        this.handle = new HandleMorph(\r\n            this,\r\n            200,\r\n            220,\r\n            this.corner,\r\n            this.corner\r\n        );\r\n    }\r\n};\r\n\r\n// BlockExportDialogMorph menu\r\n\r\nBlockExportDialogMorph.prototype.userMenu = function () {\r\n    var menu = new MenuMorph(this, 'select');\r\n    menu.addItem('all', 'selectAll');\r\n    menu.addItem('none', 'selectNone');\r\n    return menu;\r\n};\r\n\r\nBlockExportDialogMorph.prototype.selectAll = function () {\r\n    this.body.contents.children.forEach(function (checkBox) {\r\n        if (!checkBox.state) {\r\n            checkBox.trigger();\r\n        }\r\n    });\r\n};\r\n\r\nBlockExportDialogMorph.prototype.selectNone = function () {\r\n    this.blocks = [];\r\n    this.body.contents.children.forEach(function (checkBox) {\r\n        checkBox.refresh();\r\n    });\r\n};\r\n\r\n// BlockExportDialogMorph ops\r\n\r\nBlockExportDialogMorph.prototype.exportBlocks = function () {\r\n    var str = this.serializer.serialize(this.blocks, true), // for library\r\n        ide = this.world().children[0];\r\n\r\n    if (this.blocks.length > 0) {\r\n        str = '<blocks app=\"'\r\n            + this.serializer.app\r\n            + '\" version=\"'\r\n            + this.serializer.version\r\n            + '\">'\r\n            + str\r\n            + '</blocks>';\r\n        ide.saveXMLAs(\r\n            str,\r\n            (ide.projectName || localize('untitled')) + ' ' + localize('blocks')\r\n        );\r\n    } else {\r\n        new DialogBoxMorph().inform(\r\n            'Export blocks',\r\n            'no blocks were selected',\r\n            this.world()\r\n        );\r\n    }\r\n};\r\n\r\n// BlockExportDialogMorph layout\r\n\r\nBlockExportDialogMorph.prototype.fixLayout\r\n    = BlockEditorMorph.prototype.fixLayout;\r\n\r\n// BlockImportDialogMorph ////////////////////////////////////////////////////\r\n\r\n// BlockImportDialogMorph inherits from DialogBoxMorph\r\n// and pseudo-inherits from BlockExportDialogMorph:\r\n\r\nBlockImportDialogMorph.prototype = new DialogBoxMorph();\r\nBlockImportDialogMorph.prototype.constructor = BlockImportDialogMorph;\r\nBlockImportDialogMorph.uber = DialogBoxMorph.prototype;\r\n\r\n// BlockImportDialogMorph constants:\r\n\r\nBlockImportDialogMorph.prototype.key = 'blockImport';\r\n\r\n// BlockImportDialogMorph instance creation:\r\n\r\nfunction BlockImportDialogMorph(blocks, target, name) {\r\n    this.init(blocks, target, name);\r\n}\r\n\r\nBlockImportDialogMorph.prototype.init = function (blocks, target, name) {\r\n    var myself = this;\r\n\r\n    // additional properties:\r\n    this.blocks = blocks.slice(0);\r\n    this.handle = null;\r\n\r\n    // initialize inherited properties:\r\n    BlockExportDialogMorph.uber.init.call(\r\n        this,\r\n        target,\r\n        function () {myself.importBlocks(name); },\r\n        null // environment\r\n    );\r\n\r\n    // override inherited properites:\r\n    this.labelString = localize('Import blocks')\r\n        + (name ? ': ' : '')\r\n        + name || '';\r\n    this.createLabel();\r\n\r\n    // build contents\r\n    this.buildContents();\r\n};\r\n\r\nBlockImportDialogMorph.prototype.buildContents\r\n    = BlockExportDialogMorph.prototype.buildContents;\r\n\r\nBlockImportDialogMorph.prototype.popUp\r\n    = BlockExportDialogMorph.prototype.popUp;\r\n\r\n// BlockImportDialogMorph menu\r\n\r\nBlockImportDialogMorph.prototype.userMenu\r\n    = BlockExportDialogMorph.prototype.userMenu;\r\n\r\nBlockImportDialogMorph.prototype.selectAll\r\n    = BlockExportDialogMorph.prototype.selectAll;\r\n\r\nBlockImportDialogMorph.prototype.selectNone\r\n    = BlockExportDialogMorph.prototype.selectNone;\r\n\r\n// BlockImportDialogMorph ops\r\n\r\nBlockImportDialogMorph.prototype.importBlocks = function (name) {\r\n    var ide = this.target.parentThatIsA(IDE_Morph);\r\n    if (!ide) {return; }\r\n    if (this.blocks.length > 0) {\r\n        this.blocks.forEach(function (def) {\r\n            def.receiver = ide.stage;\r\n            ide.stage.globalBlocks.push(def);\r\n            ide.stage.replaceDoubleDefinitionsFor(def);\r\n        });\r\n        ide.flushPaletteCache();\r\n        ide.refreshPalette();\r\n        ide.showMessage(\r\n            'Imported Blocks Module' + (name ? ': ' + name : '') + '.',\r\n            2\r\n        );\r\n    } else {\r\n        new DialogBoxMorph().inform(\r\n            'Import blocks',\r\n            'no blocks were selected',\r\n            this.world()\r\n        );\r\n    }\r\n};\r\n\r\n// BlockImportDialogMorph layout\r\n\r\nBlockImportDialogMorph.prototype.fixLayout\r\n    = BlockEditorMorph.prototype.fixLayout;\r\n\r\n// BlockRemovalDialogMorph ///////////////////////////////////////////////////\r\n\r\n// BlockRemovalDialogMorph inherits from DialogBoxMorph\r\n// and pseudo-inherits from BlockExportDialogMorph:\r\n\r\nBlockRemovalDialogMorph.prototype = new DialogBoxMorph();\r\nBlockRemovalDialogMorph.prototype.constructor = BlockImportDialogMorph;\r\nBlockRemovalDialogMorph.uber = DialogBoxMorph.prototype;\r\n\r\n// BlockRemovalDialogMorph constants:\r\n\r\nBlockRemovalDialogMorph.prototype.key = 'blockRemove';\r\n\r\n// BlockRemovalDialogMorph instance creation:\r\n\r\nfunction BlockRemovalDialogMorph(blocks, target) {\r\n    this.init(blocks, target);\r\n}\r\n\r\nBlockRemovalDialogMorph.prototype.init = function (blocks, target) {\r\n    var myself = this;\r\n\r\n    // additional properties:\r\n    this.blocks = blocks.slice(0);\r\n    this.handle = null;\r\n\r\n    // initialize inherited properties:\r\n    BlockExportDialogMorph.uber.init.call(\r\n        this,\r\n        target,\r\n        function () {myself.removeBlocks(); },\r\n        null // environment\r\n    );\r\n\r\n    // override inherited properites:\r\n    this.labelString = localize('Remove unused blocks')\r\n        + (name ? ': ' : '')\r\n        + name || '';\r\n    this.createLabel();\r\n\r\n    // build contents\r\n    this.buildContents();\r\n};\r\n\r\nBlockRemovalDialogMorph.prototype.buildContents\r\n    = BlockExportDialogMorph.prototype.buildContents;\r\n\r\nBlockRemovalDialogMorph.prototype.popUp\r\n    = BlockExportDialogMorph.prototype.popUp;\r\n\r\n// BlockRemovalDialogMorph menu\r\n\r\nBlockRemovalDialogMorph.prototype.userMenu\r\n    = BlockExportDialogMorph.prototype.userMenu;\r\n\r\nBlockRemovalDialogMorph.prototype.selectAll\r\n    = BlockExportDialogMorph.prototype.selectAll;\r\n\r\nBlockRemovalDialogMorph.prototype.selectNone\r\n    = BlockExportDialogMorph.prototype.selectNone;\r\n\r\n// BlockRemovalDialogMorph ops\r\n\r\nBlockRemovalDialogMorph.prototype.removeBlocks = function () {\r\n    var ide = this.target.parentThatIsA(IDE_Morph);\r\n    if (!ide) {return; }\r\n    if (this.blocks.length > 0) {\r\n        this.blocks.forEach(function (def) {\r\n            var idx = ide.stage.globalBlocks.indexOf(def);\r\n            if (idx !== -1) {\r\n                ide.stage.globalBlocks.splice(idx, 1);\r\n            }\r\n        });\r\n        ide.flushPaletteCache();\r\n        ide.refreshPalette();\r\n        ide.showMessage(\r\n            this.blocks.length + ' ' + localize('unused block(s) removed'),\r\n            2\r\n        );\r\n    } else {\r\n        new DialogBoxMorph().inform(\r\n            'Remove unused blocks',\r\n            'no blocks were selected',\r\n            this.world()\r\n        );\r\n    }\r\n};\r\n\r\n// BlockRemovalDialogMorph layout\r\n\r\nBlockRemovalDialogMorph.prototype.fixLayout\r\n    = BlockEditorMorph.prototype.fixLayout;\r\n//fin de byob.\r\n/*\r\n\r\n    tables.js\r\n\r\n    basic spreadsheet elements for Snap!\r\n\r\n    written by Jens Mönig\r\n    jens@moenig.org\r\n\r\n    Copyright (C) 2016 by Jens Mönig\r\n\r\n    This file is part of Snap!.\r\n\r\n    Snap! is free software: you can redistribute it and/or modify\r\n    it under the terms of the GNU Affero General Public License as\r\n    published by the Free Software Foundation, either version 3 of\r\n    the License, or (at your option) any later version.\r\n\r\n    This program is distributed in the hope that it will be useful,\r\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n    GNU Affero General Public License for more details.\r\n\r\n    You should have received a copy of the GNU Affero General Public License\r\n    along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n\r\n\r\n    prerequisites:\r\n    --------------\r\n    needs morphic.js, list.js, widgets.js, byob.js, threads\r\n\r\n\r\n    I. hierarchy\r\n    -------------\r\n    the following tree lists all constructors hierarchically,\r\n    indentation indicating inheritance. Refer to this list to get a\r\n    contextual overview:\r\n\r\n    DialogBoxMorph**\r\n        TableDialogMorph\r\n    Morph*\r\n        FrameMorph*\r\n            TableMorph\r\n        TableCellMorph\r\n        TableFrameMorph\r\n    Table\r\n\r\n    * from morphic.js\r\n    ** from widgets.js\r\n\r\n\r\n    II. toc\r\n    -------\r\n    the following list shows the order in which all constructors are\r\n    defined. Use this list to locate code in this document:\r\n\r\n    Table\r\n    TableCellMorph\r\n    TableMorph\r\n    TableFrameMorph\r\n    TableDialogMorph\r\n\r\n*/\r\n\r\n// Global settings /////////////////////////////////////////////////////\r\n\r\n/*global modules, Point, newCanvas, Morph, fontHeight, SliderMorph, List,\r\nMorphicPreferences, FrameMorph, HandleMorph, DialogBoxMorph, isString,\r\nSpriteMorph, Context, Costume, ArgMorph, BlockEditorMorph, SymbolMorph,\r\nSyntaxElementMorph, MenuMorph, SpriteBubbleMorph, SpeechBubbleMorph, Sound,\r\nCellMorph, ListWatcherMorph, isNil, BoxMorph, Variable, isSnapObject*/\r\n\r\nmodules.tables = '2017-September-01';\r\n\r\nvar Table;\r\nvar TableCellMorph;\r\nvar TableMorph;\r\nvar TableFrameMorph;\r\n\r\n// Table /////////////////////////////////////////////////////////////\r\n\r\n/*\r\n    Observable 2D data collections accessible by rows, columns and cells\r\n    with indices starting at 1.\r\n    currently only used for testing TableViews in Snap, because Snap\r\n    automatically displays 2D lists as tables.\r\n*/\r\n\r\nfunction Table(cols, rows) {\r\n    this.colCount = +cols;\r\n    this.rowCount = +rows;\r\n    this.colNames = [];\r\n    this.rowNames = [];\r\n    this.contents = new Array(+rows);\r\n    for (var i = 0; i < rows; i += 1) {\r\n        this.contents[i] = new Array(+cols);\r\n    }\r\n    this.lastChanged = Date.now();\r\n}\r\n\r\n// Table testing:\r\n\r\nTable.prototype.demo = function(aWorld) {\r\n    // new Table(50, 10000).demo(world)\r\n    var dlg;\r\n    this.fillWithTestData();\r\n    dlg = new TableDialogMorph(this);\r\n    dlg.popUp (aWorld);\r\n};\r\n\r\n// Table updating:\r\n\r\nTable.prototype.changed = function () {\r\n    this.lastChanged = Date.now();\r\n};\r\n\r\n// Table querying:\r\n\r\nTable.prototype.get = function (col, row) {\r\n    if (!col) {\r\n        if (!row) {return [this.rowCount]; }\r\n        return this.rowName(row);\r\n    } else if (!row) {\r\n        return this.colName(col);\r\n    }\r\n    if (col > this.colCount || row > this.rowCount) {return null; }\r\n    return (this.contents[row - 1] || [])[col - 1];\r\n};\r\n\r\nTable.prototype.row = function(row) {\r\n    return this.contents[row - 1];\r\n};\r\n\r\nTable.prototype.col = function(col) {\r\n    var dta = [],\r\n        c = col - 1,\r\n        i;\r\n    for (i = 0; i < this.rowCount; i += 1) {\r\n        dta.push(this.contents[i][c]);\r\n    }\r\n    return dta;\r\n};\r\n\r\nTable.prototype.colName = function (col) {\r\n    // answer the specified name or a capital letter A-Z\r\n    // repeated accordingly\r\n    if (col > this.colCount) {return null; }\r\n    var name = this.colNames[col - 1];\r\n    if (name !== undefined) {return name; }\r\n    return String.fromCharCode(64 + ((col % 26) || 26)).repeat(\r\n        Math.floor((col - 1) / 26) + 1\r\n    );\r\n};\r\n\r\nTable.prototype.rowName = function (row) {\r\n    // answer the specified name or row number\r\n    if (row > this.rowCount) {return null; }\r\n    return this.rowNames[row - 1] || row;\r\n};\r\n\r\nTable.prototype.rows = function () {\r\n    return this.rowCount;\r\n};\r\n\r\nTable.prototype.cols = function () {\r\n    return this.colCount;\r\n};\r\n\r\nTable.prototype.columnNames = function () {\r\n    return this.colNames;\r\n};\r\n\r\n// Table setting:\r\n\r\nTable.prototype.set = function (data, col, row) {\r\n    this.contents[row - 1][col - 1] = data;\r\n    this.changed();\r\n};\r\n\r\nTable.prototype.setRows = function (rowsArray, colNames, rowNames) {\r\n    this.contents = rowsArray;\r\n    if (colNames) {this.colNames = colNames; }\r\n    if (rowNames) {this.rowNames = rowNames; }\r\n    this.changed();\r\n};\r\n\r\nTable.prototype.setCols = function (colsArray, colNames, rowNames) {\r\n    var r, c;\r\n    for (c = 0; c < this.colCount; c += 1) {\r\n        for (r = 0; r < this.rowCount; r += 1) {\r\n            this.contents[r][c] = colsArray[c][r];\r\n        }\r\n    }\r\n    if (colNames) {this.colNames = colNames; }\r\n    if (rowNames) {this.rowNames = rowNames; }\r\n    this.changed();\r\n};\r\n\r\nTable.prototype.setColNames = function (array) {\r\n    this.colNames = array || [];\r\n    this.changed();\r\n};\r\n\r\nTable.prototype.setRowNames = function (array) {\r\n    this.rowNames = array || [];\r\n    this.changed();\r\n};\r\n\r\nTable.prototype.setColName = function (col, name) {\r\n    this.colNames[col + 1] = name;\r\n    this.changed();\r\n};\r\n\r\nTable.prototype.setRowName = function (row, name) {\r\n    this.rowNames[row + 1] = name;\r\n    this.changed();\r\n};\r\n\r\n// Table growing:\r\n\r\nTable.prototype.addRow = function (array, name) {\r\n    if (array) {\r\n        this.contents[this.rowCount] = array;\r\n    } else {\r\n        this.contents[this.rowCount] = new Array(this.rowCount);\r\n    }\r\n    this.rowNames[this.rowCount] = name;\r\n    this.rowCount += 1;\r\n    this.changed();\r\n};\r\n\r\nTable.prototype.addCol = function (array, name) {\r\n    var i;\r\n    if (array) {\r\n        for (i = 0; i < this.col; i += 1) {\r\n            this.contents[i][this.colCount] = array[i];\r\n        }\r\n    }\r\n    this.colNames[this.colCount] = name;\r\n    this.colCount += 1;\r\n    this.changed();\r\n};\r\n\r\n// Table converting:\r\n\r\nTable.prototype.toList = function () {\r\n    return new List(\r\n        this.contents.map(function (eachRow) {\r\n            return new List(eachRow);\r\n        })\r\n    );\r\n};\r\n\r\n// Table testing\r\n\r\nTable.prototype.fillWithTestData = function () {\r\n    var c, r;\r\n    for (c = 1; c <= this.colCount; c += 1) {\r\n        for (r = 1; r <= this.rowCount; r += 1) {\r\n            this.set (this.colName(c) + this.rowName(r), c, r);\r\n        }\r\n    }\r\n};\r\n\r\n// TableCellMorph /////////////////////////////////////////////////////////\r\n\r\n// basic fast data view, currently constrained to a single line of text\r\n\r\n// TableCellMorph inherits from Morph:\r\n\r\nTableCellMorph.prototype = new Morph();\r\nTableCellMorph.prototype.constructor = TableCellMorph;\r\nTableCellMorph.uber = Morph.prototype;\r\n\r\n// TableCellMorph global setting:\r\n\r\nTableCellMorph.prototype.listSymbol = ArgMorph.prototype.listIcon();\r\n\r\n// TableCellMorph instance creation:\r\n\r\nfunction TableCellMorph(data, extent, isLabel) {\r\n    this.init(data, extent, isLabel);\r\n}\r\n\r\nTableCellMorph.prototype.init = function (data, extent, isLabel) {\r\n    // additional properties:\r\n    this.data = data;\r\n    this.isLabel = isLabel || false;\r\n\r\n    // initialize inherited properties:\r\n    TableCellMorph.uber.init.call(this, true);\r\n\r\n    // override inherited properites:\r\n    this.noticesTransparentClick = true;\r\n    if (extent) {this.silentSetExtent(extent); }\r\n    this.drawNew();\r\n};\r\n\r\nTableCellMorph.prototype.setData = function (data, extent) {\r\n    this.data = data;\r\n    if (extent && (!extent.eq(this.extent()))) {\r\n        this.silentSetExtent(extent);\r\n        this.drawNew();\r\n    } else {\r\n        this.drawData();\r\n    }\r\n    // note: don't call changed(), let the TableMorph handle it instead\r\n};\r\n\r\nTableCellMorph.prototype.getData = function () {\r\n    return this.data instanceof Array ? this.data[0] : this.data;\r\n};\r\n\r\nTableCellMorph.prototype.drawNew = function () {\r\n    this.image = newCanvas(this.extent());\r\n    this.drawData();\r\n};\r\n\r\nTableCellMorph.prototype.drawData = function (lbl, bg) {\r\n    var dta = lbl || this.dataRepresentation(this.data),\r\n        context = this.image.getContext('2d'),\r\n        fontSize = SyntaxElementMorph.prototype.fontSize,\r\n        empty = TableMorph.prototype.highContrast ? 'rgb(220, 220, 220)'\r\n                : 'transparent',\r\n        orphaned = 'rgb(217, 77, 17)',\r\n        fontStyle = this.isLabel ?\r\n                (this.data instanceof Array ? 'italic'  : '')\r\n                        : this.shouldBeList() ? 'bold' : '',\r\n        font = fontStyle + ' ' + fontSize + 'px Helvetica, Arial, sans-serif',\r\n        background = bg || (this.isLabel ? empty\r\n                : (this.shouldBeList() ? orphaned\r\n                        : (this.isOvershooting() ? 'white'\r\n                                : (isNil(this.data) ? empty : 'white')))),\r\n        foreground = !this.isLabel && this.shouldBeList()? 'white' : 'black',\r\n        width = this.width(),\r\n        height = this.height(),\r\n        txtWidth,\r\n        txtHeight,\r\n        x,\r\n        y;\r\n\r\n    context.clearRect(0, 0, width, height);\r\n    context.fillStyle = background;\r\n    if (this.shouldBeList()) {\r\n        BoxMorph.prototype.outlinePath.call(\r\n            this, context, SyntaxElementMorph.prototype.corner + 1, 0\r\n        );\r\n        context.fill();\r\n    } else if (this.isOvershooting()) {\r\n        this.raggedBoxPath(context);\r\n        context.fill();\r\n    } else {\r\n        context.fillRect(0, 0, width, height);\r\n    }\r\n\r\n    if (!dta) {return; }\r\n    if (dta instanceof HTMLCanvasElement) {\r\n        x = Math.max((width - dta.width) / 2, 0);\r\n        y = Math.max((height - dta.height) / 2, 0);\r\n        context.shadowOffsetX = 4;\r\n        context.shadowOffsetY = 4;\r\n        context.shadowBlur = 4;\r\n        context.shadowColor = 'lightgray';\r\n        context.drawImage(dta, x, y);\r\n    } else { // text\r\n        context.font = font;\r\n        context.textAlign = 'left';\r\n        context.textBaseline = 'bottom';\r\n        txtWidth = context.measureText(dta).width;\r\n        txtHeight = fontHeight(fontSize);\r\n        context.fillStyle = foreground;\r\n        x = Math.max((width - txtWidth) / 2, 0);\r\n        y = Math.max((height - txtHeight) / 2, 0);\r\n        context.fillText(dta, x, txtHeight + y);\r\n    }\r\n};\r\n\r\nTableCellMorph.prototype.dataRepresentation = function (dta) {\r\n    if (dta instanceof Morph) {\r\n        if (isSnapObject(dta)) {\r\n            return dta.thumbnail(new Point(40, 40));\r\n        } else {\r\n            return dta.fullImageClassic();\r\n        }\r\n    } else if (isString(dta)) {\r\n        return dta.length > 100 ? dta.slice(0, 100) + '...' : dta;\r\n    } else if (typeof dta === 'number') {\r\n        return dta.toString();\r\n    } else if (typeof dta === 'boolean') {\r\n        return SpriteMorph.prototype.booleanMorph.call(\r\n            null,\r\n            dta\r\n        ).fullImage();\r\n    } else if (dta instanceof Array) {\r\n        return this.dataRepresentation(dta[0]);\r\n    } else if (dta instanceof Variable) {\r\n        return this.dataRepresentation(dta.value);\r\n    } else if (dta instanceof HTMLCanvasElement) {\r\n        return dta;\r\n    } else if (dta instanceof Context) {\r\n        return dta.image();\r\n    } else if (dta instanceof Costume) {\r\n        return dta.thumbnail(new Point(40, 40));\r\n    } else if (dta instanceof Sound) {\r\n        return new SymbolMorph('notes', 30).image;\r\n    } else if (dta instanceof List) {\r\n        return this.listSymbol;\r\n        // return new ListWatcherMorph(dta).fullImageClassic();\r\n    } else {\r\n        return dta ? dta.toString() : (dta === 0 ? '0' : null);\r\n    }\r\n};\r\n\r\nTableCellMorph.prototype.raggedBoxPath = function (context) {\r\n    var width = this.width(),\r\n        height = this.height(),\r\n        x = width * 0.75,\r\n        step = height / 6,\r\n        y = 0;\r\n    context.beginPath();\r\n    context.moveTo(0, 0);\r\n    context.lineTo(width, 0);\r\n    for (y = 0; y < height; y += (step * 2)) {\r\n        context.lineTo(x, y + step);\r\n        context.lineTo(width, y + (step * 2));\r\n    }\r\n    context.lineTo(width, height);\r\n    context.lineTo(0, height);\r\n    context.closePath();\r\n};\r\n\r\nTableCellMorph.prototype.shouldBeList = function () {\r\n    return this.data instanceof Array;\r\n};\r\n\r\nTableCellMorph.prototype.isOvershooting = function () {\r\n    return this.data instanceof Variable;\r\n};\r\n\r\n// TableCellMorph events:\r\n\r\nTableCellMorph.prototype.mouseDoubleClick = function (pos) {\r\n    if (this.data instanceof Table || this.data instanceof List) {\r\n        new TableDialogMorph(this.data).popUp(this.world());\r\n    } else if (this.data instanceof Array && this.data[0] instanceof List) {\r\n        new TableDialogMorph(this.data[0]).popUp(this.world());\r\n    } else {\r\n        this.escalateEvent('mouseDoubleClick', pos);\r\n    }\r\n};\r\n\r\nTableCellMorph.prototype.mouseEnter = function () {\r\n    var tm, x, c;\r\n    if (this.isLabel) {\r\n        tm = this.parentThatIsA(TableMorph);\r\n        x = tm.world().hand.left() - tm.left();\r\n        c = tm.columnAt(x);\r\n        if (c > 0) {\r\n            this.drawData(c, 'rgb(220, 220, 250)');\r\n            this.changed();\r\n        }\r\n    }\r\n};\r\n\r\nTableCellMorph.prototype.mouseLeave = function () {\r\n    if (this.isLabel) {\r\n        this.drawData();\r\n        this.changed();\r\n    }\r\n};\r\n\r\n// TableMorph //////////////////////////////////////////////////////////\r\n\r\n// TableMorph inherits from FrameMorph:\r\n\r\nTableMorph.prototype = new FrameMorph();\r\nTableMorph.prototype.constructor = TableMorph;\r\nTableMorph.uber = FrameMorph.prototype;\r\n\r\n// TableMorph preferences settings:\r\n\r\nTableMorph.prototype.highContrast = false;\r\n\r\n// TableMorph instance creation:\r\n\r\nfunction TableMorph(\r\n    table,\r\n    // optional parameters below this line\r\n    scrollBarSize,\r\n    extent,\r\n    startRow,\r\n    startCol,\r\n    globalColWidth,\r\n    colWidths,\r\n    rowHeight,\r\n    colLabelHeight,\r\n    padding\r\n) {\r\n    this.init(\r\n        table,\r\n        scrollBarSize,\r\n        extent,\r\n        startRow,\r\n        startCol,\r\n        globalColWidth,\r\n        colWidths,\r\n        rowHeight,\r\n        colLabelHeight,\r\n        padding\r\n    );\r\n}\r\n\r\nTableMorph.prototype.init = function (\r\n    table,\r\n    scrollBarSize,\r\n    extent,\r\n    startRow,\r\n    startCol,\r\n    globalColWidth,\r\n    colWidths,\r\n    rowHeight,\r\n    colLabelHeight,\r\n    padding\r\n) {\r\n    // additional properties:\r\n    this.table = table;\r\n    this.scrollBarSize = scrollBarSize || MorphicPreferences.scrollBarSize;\r\n    this.startRow = startRow || 1;\r\n    this.startCol = startCol || 1;\r\n    this.textHeight = Math.ceil(\r\n        fontHeight(SyntaxElementMorph.prototype.fontSize) * 1.3\r\n    );\r\n    this.rowHeight = rowHeight || this.textHeight;\r\n    this.colWidths = colWidths || [];\r\n    this.globalColWidth = globalColWidth || Math.ceil(this.textHeight * 3.5);\r\n    this.colLabelHeight = colLabelHeight || this.textHeight;\r\n    this.padding = padding || SyntaxElementMorph.prototype.scale; //1;\r\n    this.tableVersion = this.table.lastChanged;\r\n\r\n    // scroll bars:\r\n    this.hBar = null;\r\n    this.vBar = null;\r\n\r\n    // cached properties (do not persist):\r\n    this.rowLabelWidth = 0;\r\n    this.columns = []; // relative left positions\r\n    this.rows = 0;\r\n\r\n    // cached properties for scrolling and resizing (do not persist):\r\n    this.maxStartRow = null;\r\n    this.maxStartCol = null;\r\n    this.dragAnchor = null;\r\n    this.resizeAnchor = null;\r\n    this.resizeCol = null;\r\n    this.resizeRow = null;\r\n\r\n    // cached property for updating (don not persist):\r\n    this.wantsUpdate = false;\r\n\r\n    // initialize inherited properties:\r\n    // make sure not to draw anything just yet\r\n    // therefore omit FrameMorph's properties (not needed here)\r\n    // and only initialize properties inherited from Morph:\r\n    Morph.prototype.init.call(this, true);\r\n\r\n    // override inherited properites:\r\n    // this.fps = 3; // this will slow down the sliders (!)\r\n    if (extent) {this.silentSetExtent(extent); }\r\n    this.initScrollBars();\r\n    this.drawNew();\r\n};\r\n\r\nTableMorph.prototype.initScrollBars = function () {\r\n    var myself = this;\r\n\r\n    // horizontal scroll bar - scrolls columns\r\n    this.hBar = new SliderMorph(\r\n        1, // start\r\n        null, // stop\r\n        null, // value\r\n        null, // size\r\n        'horizontal'\r\n    );\r\n    this.hBar.setHeight(this.scrollBarSize);\r\n    this.hBar.action = function (num) {\r\n        myself.showData(num, null, true);\r\n    };\r\n    this.hBar.isDraggable = false;\r\n    this.add(this.hBar);\r\n\r\n    // vertical scroll bar - scrolls rows\r\n    this.vBar = new SliderMorph(\r\n        1, // start\r\n        null, // stop\r\n        null, // value\r\n        null, // size\r\n        'vertical'\r\n    );\r\n    this.vBar.setWidth(this.scrollBarSize);\r\n    this.vBar.action = function (num) {\r\n        myself.showData(null, num, true);\r\n    };\r\n    this.vBar.isDraggable = false;\r\n    this.add(this.vBar);\r\n};\r\n\r\nTableMorph.prototype.updateScrollBars = function () {\r\n    if (this.maxStartCol === 1) {\r\n        this.hBar.hide();\r\n    } else {\r\n        this.hBar.show();\r\n        this.hBar.stop = this.maxStartCol;\r\n        this.hBar.value = this.startCol;\r\n        this.hBar.size = Math.max(\r\n            this.hBar.rangeSize() * this.columns.length / this.table.cols(),\r\n            this.hBar.rangeSize() / 10\r\n        );\r\n        this.hBar.drawNew();\r\n    }\r\n\r\n    this.vBar.stop = this.maxStartRow;\r\n    this.vBar.value = this.startRow;\r\n    if (this.maxStartRow === 1) {\r\n        this.vBar.hide();\r\n    } else {\r\n        this.vBar.show();\r\n        this.vBar.size = Math.max(\r\n            this.vBar.rangeSize() * this.rows / this.table.rows(),\r\n            this.vBar.rangeSize() / 10\r\n        );\r\n        this.vBar.drawNew();\r\n    }\r\n};\r\n\r\nTableMorph.prototype.drawNew = function () {\r\n    var context, w, i;\r\n    this.image = newCanvas(this.extent());\r\n    context = this.image.getContext('2d');\r\n    context.fillStyle = 'rgb(220, 220, 220)';\r\n    BoxMorph.prototype.outlinePath.call(\r\n        this, context, SyntaxElementMorph.prototype.corner + 1, 0\r\n    );\r\n    context.fill();\r\n\r\n    // determine and cache layout information\r\n    this.rowLabelWidth = this.rowLabelsWidth();\r\n    this.columns = this.columnsLayout();\r\n    this.rows = this.visibleRows();\r\n\r\n    // optionally draw grid\r\n    if (this.highContrast && this.table.cols() > 1) {\r\n        w = this.padding;\r\n        for (i = this.startCol; i <= this.table.cols(); i += 1) {\r\n            w += (this.colWidth(i) + this.padding);\r\n        }\r\n        context.fillStyle = 'darkGray';\r\n        context.fillRect(\r\n            this.padding + this.rowLabelWidth,\r\n            this.padding + this.colLabelHeight,\r\n            w,\r\n            (this.rowHeight + this.padding) *\r\n                (this.table.rows() + 1 - this.startRow) +\r\n                this.padding\r\n        );\r\n    }\r\n\r\n    this.buildCells();\r\n\r\n    // fix scroll bars layout\r\n    this.hBar.setWidth(this.width() - this.vBar.width());\r\n    this.hBar.setLeft(this.left());\r\n    this.hBar.setBottom(this.bottom());\r\n    this.vBar.setHeight(this.height() - this.hBar.height());\r\n    this.vBar.setRight(this.right());\r\n    this.vBar.setTop(this.top());\r\n};\r\n\r\nTableMorph.prototype.buildCells = function () {\r\n    // also populate cells with the correct data and\r\n    // arrange the layout of cells all in one pass\r\n    var cell, r, c,\r\n        pos = this.position();\r\n\r\n    // delete all existing cells\r\n    this.children = [];\r\n\r\n    // create cells\r\n    for (c = 0; c <= this.columns.length; c += 1) {\r\n        for (r = 0; r <= this.rows; r += 1) {\r\n            cell = new TableCellMorph(\r\n                this.table.get(\r\n                    !c ? c : c + this.startCol - 1,\r\n                    !r ? r : r + this.startRow - 1\r\n                ),\r\n                new Point(\r\n                    !c ? this.rowLabelWidth\r\n                            : this.colWidth(c + this.startCol - 1),\r\n                    !r ? this.colLabelHeight : this.rowHeight\r\n                ),\r\n                !(r && c), // isLabel\r\n                false // should be list\r\n            );\r\n            cell.setPosition(\r\n                new Point(\r\n                    !c ? this.padding\r\n                            : this.columns[c - 1],\r\n                    !r ? this.padding :\r\n                            this.padding * 2 + this.colLabelHeight +\r\n                                ((r - 1) * (this.rowHeight + this.padding))\r\n                ).add(pos)\r\n            );\r\n            this.add(cell);\r\n            if (isSnapObject(cell.getData())) {\r\n                this.wantsUpdate = true;\r\n            }\r\n        }\r\n    }\r\n    this.add(this.hBar);\r\n    this.add(this.vBar);\r\n    this.updateScrollBars();\r\n    this.changed();\r\n};\r\n\r\nTableMorph.prototype.drawData = function (noScrollUpdate) {\r\n    // redraw all cells with their current data or label\r\n    var cell, cellIdx = 0, r, c;\r\n    for (c = 0; c <= this.columns.length; c += 1) {\r\n        for (r = 0; r <= this.rows; r += 1) {\r\n            cell = this.children[cellIdx];\r\n            cellIdx += 1;\r\n            cell.setData(\r\n                this.table.get(\r\n                    !c ? c : c + this.startCol - 1,\r\n                    !r ? r : r + this.startRow - 1\r\n                )\r\n            );\r\n            if (isSnapObject(cell.getData())) {\r\n                this.wantsUpdate = true;\r\n            }\r\n        }\r\n    }\r\n    if (!noScrollUpdate) {this.updateScrollBars(); }\r\n    this.changed();\r\n};\r\n\r\n// TableMorph scrolling\r\n\r\nTableMorph.prototype.scroll = function (xSteps, ySteps) {\r\n    this.showData(\r\n        Math.min(\r\n            this.maxStartCol,\r\n            Math.max(1, this.startCol + Math.round(xSteps))\r\n        ),\r\n        Math.min(\r\n            this.maxStartRow,\r\n            Math.max(1, this.startRow + Math.round(ySteps))\r\n        )\r\n    );\r\n    this.updateScrollBars();\r\n};\r\n\r\nTableMorph.prototype.showData = function (startCol, startRow, noScrollUpdate) {\r\n    var c = startCol || this.startCol,\r\n        r = startRow || this.startRow;\r\n    if (c === this.startCol) {\r\n        if (r === this.startRow) {return; } // no change\r\n        this.startRow = r;\r\n        this.rows = this.visibleRows();\r\n        this.drawData(noScrollUpdate);\r\n    } else {\r\n        this.startCol = c;\r\n        this.startRow = r;\r\n        this.rows = this.visibleRows();\r\n        if (this.colWidths.length) {\r\n            this.columns = this.columnsLayout();\r\n            this.buildCells();\r\n        } else {\r\n            this.drawData(noScrollUpdate);\r\n        }\r\n    }\r\n};\r\n\r\n// TableMorph stepping\r\n\r\nTableMorph.prototype.step = function () {\r\n    if (this.dragAnchor) {\r\n        this.shiftCells(this.world().hand.position());\r\n    } else if (this.resizeAnchor) {\r\n        this.resizeCells(this.world().hand.position());\r\n    }\r\n    this.update();\r\n};\r\n\r\nTableMorph.prototype.update = function () {\r\n    var oldCols, oldRows,\r\n        version = this.table instanceof List ?\r\n            this.table.version(this.startRow, this.rows)\r\n                    : this.table.lastChanged;\r\n    if (this.tableVersion === version && !this.wantsUpdate) {\r\n        return;\r\n    }\r\n    this.wantsUpdate = false;\r\n    if (this.table instanceof List) {\r\n        oldCols = this.columns.length;\r\n        oldRows = this.rows;\r\n        this.rowLabelWidth = this.rowLabelsWidth();\r\n        this.columns = this.columnsLayout();\r\n        this.rows = this.visibleRows();\r\n        if (this.columns.length !== oldCols || (this.rows !== oldRows)) {\r\n            this.buildCells();\r\n        } else {\r\n            this.drawData();\r\n        }\r\n    } else { // Table\r\n        this.drawData();\r\n    }\r\n    this.tableVersion = version;\r\n};\r\n\r\n// TableMorph layout helpers (all private):\r\n\r\nTableMorph.prototype.rowLabelsWidth = function () {\r\n    var ctx = newCanvas().getContext('2d');\r\n    ctx.font = 'italic ' + SyntaxElementMorph.prototype.fontSize +\r\n        'px Helvetica, Arial, sans-serif';\r\n    return Math.max(\r\n        0,\r\n        Math.max.apply(\r\n            null,\r\n            this.table.columnNames().map(function (name) {\r\n                return name ? ctx.measureText(name).width : 0;\r\n            })\r\n        )\r\n    ) || ctx.measureText(this.table.rows().toString()).width +\r\n            (6 * SyntaxElementMorph.prototype.scale);\r\n};\r\n\r\nTableMorph.prototype.columnsLayout = function () {\r\n    // determines and maxStartCol and\r\n    // modifies startCol if needed\r\n    var c = [],\r\n        x = this.padding * 2 + this.rowLabelWidth,\r\n        colNum,\r\n        w;\r\n\r\n    // determine maxStartCol\r\n    colNum = this.table.cols();\r\n    w = x;\r\n    while (w < this.width() && colNum > 0) {\r\n        w += this.colWidth(colNum);\r\n        colNum -= 1;\r\n    }\r\n    if (colNum === 0 && (w < this.width())) {\r\n        this.maxStartCol = 1;\r\n    } else {\r\n        this.maxStartCol = Math.min(colNum + 2, this.table.cols());\r\n    }\r\n\r\n    // determine the left position of every shown column\r\n    this.startCol = Math.min(this.startCol, this.maxStartCol);\r\n    colNum = this.startCol;\r\n    while (x < this.width() &&\r\n        (colNum < (this.table.cols() + this.startCol))\r\n    ) {\r\n        w = this.colWidth(colNum);\r\n        c.push(x);\r\n        x += w;\r\n        x += this.padding;\r\n        colNum += 1;\r\n    }\r\n    return c;\r\n};\r\n\r\nTableMorph.prototype.colWidth = function (col) {\r\n    return this.colWidths[col - 1] || this.globalColWidth;\r\n};\r\n\r\nTableMorph.prototype.visibleRows = function () {\r\n    // determines maxStartRow and\r\n    // modifies startRow if needed\r\n    var rest = this.height() - this.colLabelHeight - this.padding,\r\n        possible;\r\n    if (rest < 0) {return 0; }\r\n    possible = Math.ceil(rest / (this.rowHeight + this.padding));\r\n    this.maxStartRow = Math.max(1, this.table.rows() - possible + 2);\r\n    this.startRow = Math.min(this.startRow, this.maxStartRow);\r\n    return Math.min(this.table.rows(), possible);\r\n};\r\n\r\nTableMorph.prototype.globalExtent = function () {\r\n    var i,\r\n        w = this.rowLabelsWidth() + 2,\r\n        cols = this.table.cols();\r\n    for (i = 0; i < cols; i += 1) {\r\n        w += this.colWidth(i + 1);\r\n        w += this.padding;\r\n    }\r\n    if (cols === 1) {\r\n        w += this.scrollBarSize;\r\n        w += this.padding * 2;\r\n    }\r\n    return new Point(\r\n        w + this.padding,\r\n        this.colLabelHeight + (this.padding * 2) +\r\n            ((this.rowHeight + this.padding) * this.table.rows())\r\n    );\r\n};\r\n\r\n// TableMorph events:\r\n\r\nTableMorph.prototype.mouseScroll = function (y, x) {\r\n    this.scroll(\r\n        -(+x * MorphicPreferences.mouseScrollAmount / 4),\r\n        -(+y * MorphicPreferences.mouseScrollAmount)\r\n    );\r\n};\r\n\r\nTableMorph.prototype.mouseDownLeft = function (pos) {\r\n    var rel = pos.subtract(this.position());\r\n    if (rel.x <= this.rowLabelWidth || (rel.y <= this.colLabelHeight)) {\r\n        // resize cells\r\n        if (this.world().currentKey === 16) { // shiftClicked\r\n            this.resizeCol = 0;\r\n        } else {\r\n            this.resizeCol = this.columnAt(rel.x);\r\n        }\r\n        this.resizeRow = (rel.y > (this.colLabelHeight));\r\n        this.resizeAnchor = pos;\r\n    } else {\r\n        // shift the viewed portion\r\n        this.resizeRow = null;\r\n        this.dragAnchor = pos;\r\n    }\r\n};\r\n\r\nTableMorph.prototype.mouseClickLeft = function (pos) {\r\n    this.dragAnchor = null;\r\n    this.resizeAnchor = null;\r\n        this.resizeRow = null;\r\n};\r\n\r\nTableMorph.prototype.mouseLeaveDragging = function (pos) {\r\n    this.dragAnchor = null;\r\n    this.resizeAnchor = null;\r\n        this.resizeRow = null;\r\n};\r\n\r\nTableMorph.prototype.mouseDoubleClick = function (pos) {\r\n    if (this.parentThatIsA(TableDialogMorph)) {\r\n        this.escalateEvent('mouseDoubleClick', pos);\r\n    } else {\r\n        new TableDialogMorph(\r\n            this.table,\r\n            this.globalColWidth,\r\n            this.colWidths,\r\n            this.rowHeight\r\n        ).popUp(this.world());\r\n    }\r\n};\r\n\r\n// TableMorph scrolling and resizing cells by \"hand\"\r\n\r\nTableMorph.prototype.shiftCells = function (pos) {\r\n    var delta = this.dragAnchor.subtract(pos),\r\n        scrollX = Math.round(delta.x / this.globalColWidth),\r\n        scrollY = Math.round(delta.y / this.rowHeight);\r\n    if (scrollX || scrollY) {\r\n        this.scroll(scrollX, scrollY);\r\n        this.dragAnchor = pos;\r\n    }\r\n};\r\n\r\nTableMorph.prototype.resizeCells = function (pos) {\r\n    var delta = pos.subtract(this.resizeAnchor),\r\n        i;\r\n\r\n    if (this.resizeCol) {\r\n        this.colWidths[this.resizeCol - 1] = Math.max(\r\n            16,\r\n            (this.colWidths[this.resizeCol - 1] || this.globalColWidth) +\r\n                delta.x\r\n        );\r\n    } else if (this.resizeRow) {\r\n        this.rowHeight = Math.max(16, this.rowHeight + delta.y);\r\n    } else {\r\n        this.globalColWidth = Math.max(16, this.globalColWidth + delta.x);\r\n        for (i = 0; i < this.colWidths.length; i += 1) {\r\n            if (this.colWidths[i]) {\r\n                this.colWidths[i] = Math.max(\r\n                    16,\r\n                    this.colWidths[i] + delta.x\r\n                );\r\n            }\r\n        }\r\n    }\r\n    if (this.highContrast) {\r\n        this.drawNew();\r\n    } else {\r\n        this.rowLabelWidth = this.rowLabelsWidth();\r\n        this.columns = this.columnsLayout();\r\n        this.rows = this.visibleRows();\r\n        this.buildCells();\r\n    }\r\n    this.resizeAnchor = pos;\r\n};\r\n\r\nTableMorph.prototype.columnAt = function (relativeX) {\r\n    var c = 0;\r\n    if (relativeX < (this.columns[0])) {\r\n        return 0;\r\n    }\r\n    while (relativeX > this.columns[c]) {\r\n        c += 1;\r\n    }\r\n    return c + this.startCol - 1;\r\n};\r\n\r\n// TableMorph context menu\r\n\r\nTableMorph.prototype.userMenu = function () {\r\n    var menu = new MenuMorph(this);\r\n    if (this.parentThatIsA(TableDialogMorph)) {\r\n        if (this.colWidths.length) {\r\n            menu.addItem('reset columns', 'resetColumns');\r\n            menu.addLine();\r\n        }\r\n        menu.addItem('open in another dialog...', 'openInDialog');\r\n        return menu;\r\n    }\r\n\r\n    if (this.colWidths.length) {\r\n        menu.addItem('reset columns', 'resetColumns');\r\n    }\r\n    menu.addItem('list view...', 'showListView');\r\n    menu.addLine();\r\n    menu.addItem('open in dialog...', 'openInDialog');\r\n    return menu;\r\n};\r\n\r\nTableMorph.prototype.resetColumns = function () {\r\n    this.colWidths = [];\r\n    if (this.highContrast) {\r\n        this.drawNew();\r\n    } else {\r\n        this.rowLabelWidth = this.rowLabelsWidth();\r\n        this.columns = this.columnsLayout();\r\n        this.rows = this.visibleRows();\r\n        this.buildCells();\r\n    }\r\n};\r\n\r\nTableMorph.prototype.openInDialog = function () {\r\n    new TableDialogMorph(\r\n        this.table,\r\n        this.globalColWidth,\r\n        this.colWidths,\r\n        this.rowHeight\r\n    ).popUp(this.world());\r\n};\r\n\r\nTableMorph.prototype.showListView = function () {\r\n    var view = this.parentThatIsAnyOf([\r\n        SpriteBubbleMorph,\r\n        SpeechBubbleMorph,\r\n        CellMorph\r\n    ]);\r\n    if (!view) {return; }\r\n    if (view instanceof SpriteBubbleMorph) {\r\n        view.changed();\r\n        view.drawNew(true);\r\n    } else if (view instanceof SpeechBubbleMorph) {\r\n        view.contents = new ListWatcherMorph(this.table);\r\n        view.contents.step = view.contents.update;\r\n        view.contents.expand(this.extent());\r\n        view.drawNew(true);\r\n    } else { // watcher cell\r\n        view.drawNew(true);\r\n        view.contentsMorph.expand(this.extent());\r\n    }\r\n    view.fixLayout();\r\n};\r\n\r\n// TableMorph updating:\r\n\r\nTableMorph.prototype.show = function () {\r\n    TableMorph.uber.show.call(this);\r\n    this.updateScrollBars();\r\n};\r\n\r\n// TableFrameMorph /////////////////////////////////////////////////////////\r\n\r\n// a UI for table morphs, for re-sizing tables and their columns\r\n\r\n// TableFrameMorph inherits from Morph:\r\n\r\nTableFrameMorph.prototype = new Morph();\r\nTableFrameMorph.prototype.constructor = TableFrameMorph;\r\nTableFrameMorph.uber = Morph.prototype;\r\n\r\n// TableFrameMorph instance creation:\r\n\r\nfunction TableFrameMorph(tableMorph, noResize) {\r\n    this.init(tableMorph, noResize);\r\n}\r\n\r\nTableFrameMorph.prototype.init = function (tableMorph, noResize) {\r\n    // additional properties:\r\n    this.tableMorph = tableMorph;\r\n    this.handle = null;\r\n\r\n    // initialize inherited properties:\r\n    TableFrameMorph.uber.init.call(this, true);\r\n\r\n    // override inherited properites:\r\n    this.color = 'transparent';\r\n    this.noticesTransparentClick = false;\r\n    this.bounds = this.tableMorph.bounds.copy();\r\n    this.add(this.tableMorph);\r\n\r\n    if (!noResize) {\r\n        this.handle = new HandleMorph(\r\n            this, // target\r\n            80, // minX\r\n            25, // minY\r\n            null, // insetX\r\n            null // insetY\r\n        );\r\n    }\r\n\r\n    this.drawNew();\r\n};\r\n\r\nTableFrameMorph.prototype.fixLayout = function () {\r\n    var ext = this.extent();\r\n    if (this.tableMorph.extent().eq(ext)) {return; }\r\n    this.tableMorph.setExtent(this.extent());\r\n    if (this.parent && this.parent.fixLayout) {\r\n        this.parent.fixLayout();\r\n    }\r\n};\r\n\r\nTableFrameMorph.prototype.setExtent = function (aPoint, silently) {\r\n    TableFrameMorph.uber.setExtent.call(this, aPoint, silently);\r\n    this.fixLayout();\r\n};\r\n\r\n// TableFrameMorph result / speech balloon support:\r\n\r\nTableFrameMorph.prototype.expand = function (maxExtent) {\r\n    var ext = this.tableMorph.globalExtent();\r\n    if (maxExtent) {\r\n        ext = ext.min(maxExtent);\r\n    }\r\n    this.setExtent(ext);\r\n    this.handle.setRight(this.right());\r\n    this.handle.setBottom(this.bottom());\r\n};\r\n\r\n// TableDialogMorph inherits from DialogBoxMorph:\r\n\r\nTableDialogMorph.prototype = new DialogBoxMorph();\r\nTableDialogMorph.prototype.constructor = TableDialogMorph;\r\nTableDialogMorph.uber = DialogBoxMorph.prototype;\r\n\r\n// TableDialogMorph instance creation:\r\n\r\nfunction TableDialogMorph(data, globalColWidth, colWidths, rowHeight) {\r\n    this.init(data, globalColWidth, colWidths, rowHeight);\r\n}\r\n\r\nTableDialogMorph.prototype.init = function (\r\n    data,\r\n    globalColWidth,\r\n    colWidths,\r\n    rowHeight\r\n) {\r\n    // additional properties:\r\n    this.handle = null;\r\n    this.data = data;\r\n    this.tableView = null;\r\n\r\n    // initialize inherited properties:\r\n    TableDialogMorph.uber.init.call(this);\r\n\r\n    // override inherited properites:\r\n    this.labelString = 'Table view';\r\n    this.createLabel();\r\n\r\n    // build contents\r\n    this.buildContents(data, globalColWidth, colWidths, rowHeight);\r\n};\r\n\r\nTableDialogMorph.prototype.buildContents = function (\r\n    data,\r\n    globalColWidth,\r\n    colWidths,\r\n    rowHeight\r\n) {\r\n    this.tableView = new TableMorph(\r\n        data,\r\n        null, // scrollBarSize\r\n        null, // extent\r\n        null, // startRow\r\n        null, // startCol\r\n        globalColWidth,\r\n        colWidths,\r\n        rowHeight,\r\n        null, // colLabelHeight\r\n        null // padding\r\n    );\r\n    this.addBody(new TableFrameMorph(this.tableView, true));\r\n    this.addButton('ok', 'OK');\r\n};\r\n\r\nTableDialogMorph.prototype.setInitialDimensions = function () {\r\n    var world = this.world(),\r\n        mex = world.extent().subtract(new Point(this.padding, this.padding)),\r\n        th = fontHeight(this.titleFontSize) + this.titlePadding * 3, // hm...\r\n        bh = this.buttons.height();\r\n    this.setExtent(\r\n        this.tableView.globalExtent().add(\r\n            new Point(this.padding * 2, this.padding * 2 + th + bh)\r\n        ).min(mex).max(new Point(100, 100))\r\n    );\r\n    this.setCenter(this.world().center());\r\n};\r\n\r\nTableDialogMorph.prototype.popUp = function (world) {\r\n    if (world) {\r\n        TableDialogMorph.uber.popUp.call(this, world);\r\n        this.setInitialDimensions();\r\n        this.handle = new HandleMorph(\r\n            this,\r\n            100,\r\n            100,\r\n            this.corner,\r\n            this.corner\r\n        );\r\n    }\r\n};\r\n\r\nTableDialogMorph.prototype.fixLayout =\r\n    BlockEditorMorph.prototype.fixLayout;\r\n//fin de Tables.js\r\n/*\r\n\r\n    symbols.js\r\n\r\n    graphical GUI-symbols for for morphic.js and Snap!\r\n\r\n    written by Jens Mönig\r\n    jens@moenig.org\r\n\r\n    Copyright (C) 2017 by Jens Mönig\r\n\r\n    This file is part of Snap!.\r\n\r\n    Snap! is free software: you can redistribute it and/or modify\r\n    it under the terms of the GNU Affero General Public License as\r\n    published by the Free Software Foundation, either version 3 of\r\n    the License, or (at your option) any later version.\r\n\r\n    This program is distributed in the hope that it will be useful,\r\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n    GNU Affero General Public License for more details.\r\n\r\n    You should have received a copy of the GNU Affero General Public License\r\n    along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n\r\n\r\n    prerequisites:\r\n    --------------\r\n    needs morphic.js\r\n\r\n\r\n    prerequisites:\r\n    --------------\r\n    additional symbols have been contributed by members of the Snap!\r\n    open-source community, especially by Bernat Romagosa\r\n\r\n*/\r\n\r\n/*global modules, Morph, Point, newCanvas, Costume, radians, Color*/\r\n\r\n// Global stuff ////////////////////////////////////////////////////////\r\n\r\nmodules.symbols = '2017-September-26';\r\n\r\nvar SymbolMorph;\r\n\r\n/*\r\nWorldMorph.prototype.customMorphs = function () {\r\n    // add examples to the world's demo menu\r\n\r\n    return [\r\n        new SymbolMorph(\r\n            'keyboardFilled',\r\n            50,\r\n            new Color(250, 250, 250),\r\n            new Point(-1, -1),\r\n            new Color(20, 20, 20)\r\n        )\r\n    ];\r\n};\r\n*/\r\n\r\n// SymbolMorph //////////////////////////////////////////////////////////\r\n\r\n/*\r\n    I display graphical symbols, such as special letters. I have been\r\n    called into existence out of frustration about not being able to\r\n    consistently use Unicode characters to the same ends.\r\n\r\n    Symbols can also display costumes, if one is specified in lieu\r\n    of a name property, although this feature is currently not being\r\n    used because of asynchronous image loading issues.\r\n */\r\n\r\n// SymbolMorph inherits from Morph:\r\n\r\nSymbolMorph.prototype = new Morph();\r\nSymbolMorph.prototype.constructor = SymbolMorph;\r\nSymbolMorph.uber = Morph.prototype;\r\n\r\n// SymbolMorph available symbols:\r\n\r\nSymbolMorph.prototype.names = [\r\n    'square',\r\n    'pointRight',\r\n    'stepForward',\r\n    'gears',\r\n    'file',\r\n    'fullScreen',\r\n    'normalScreen',\r\n    'smallStage',\r\n    'normalStage',\r\n    'turtle',\r\n    'stage',\r\n    'turtleOutline',\r\n    'pause',\r\n    'flag',\r\n    'octagon',\r\n    'cloud',\r\n    'cloudOutline',\r\n    'cloudGradient',\r\n    'turnRight',\r\n    'turnLeft',\r\n    'storage',\r\n    'poster',\r\n    'flash',\r\n    'brush',\r\n    'rectangle',\r\n    'rectangleSolid',\r\n    'circle',\r\n    'circleSolid',\r\n    'line',\r\n    'cross',\r\n    'crosshairs',\r\n    'paintbucket',\r\n    'eraser',\r\n    'pipette',\r\n    'speechBubble',\r\n    'speechBubbleOutline',\r\n    'turnBack',\r\n    'turnForward',\r\n    'arrowUp',\r\n    'arrowUpOutline',\r\n    'arrowLeft',\r\n    'arrowLeftOutline',\r\n    'arrowDown',\r\n    'arrowDownOutline',\r\n    'arrowRight',\r\n    'arrowRightOutline',\r\n    'robot',\r\n    'magnifyingGlass',\r\n    'magnifierOutline',\r\n    'notes',\r\n    'camera',\r\n    'location',\r\n    'footprints',\r\n    'keyboard',\r\n    'keyboardFilled'\r\n];\r\n\r\n// SymbolMorph instance creation:\r\n\r\nfunction SymbolMorph(name, size, color, shadowOffset, shadowColor) {\r\n    this.init(name, size, color, shadowOffset, shadowColor);\r\n}\r\n\r\nSymbolMorph.prototype.init = function (\r\n    name, // or costume\r\n    size,\r\n    color,\r\n    shadowOffset,\r\n    shadowColor\r\n) {\r\n    this.isProtectedLabel = false; // participate in zebraing\r\n    this.isReadOnly = true;\r\n    this.name = name || 'square'; // can also be a costume\r\n    this.size = size || ((size === 0) ? 0 : 50);\r\n    this.shadowOffset = shadowOffset || new Point(0, 0);\r\n    this.shadowColor = shadowColor || null;\r\n\r\n    SymbolMorph.uber.init.call(this, true); // silently\r\n    this.color = color || new Color(0, 0, 0);\r\n    this.drawNew();\r\n};\r\n\r\n// SymbolMorph zebra coloring:\r\n\r\nSymbolMorph.prototype.setLabelColor = function (\r\n    textColor,\r\n    shadowColor,\r\n    shadowOffset\r\n) {\r\n    this.shadowOffset = shadowOffset || new Point();\r\n    this.shadowColor = shadowColor;\r\n    this.setColor(textColor);\r\n};\r\n\r\n// SymbolMorph displaying:\r\n\r\nSymbolMorph.prototype.drawNew = function () {\r\n    var ctx, x, y, sx, sy;\r\n    this.image = newCanvas(new Point(\r\n        this.symbolWidth() + Math.abs(this.shadowOffset.x),\r\n        this.size + Math.abs(this.shadowOffset.y)\r\n    ));\r\n    this.silentSetWidth(this.image.width);\r\n    this.silentSetHeight(this.image.height);\r\n    ctx = this.image.getContext('2d');\r\n    sx = this.shadowOffset.x < 0 ? 0 : this.shadowOffset.x;\r\n    sy = this.shadowOffset.y < 0 ? 0 : this.shadowOffset.y;\r\n    x = this.shadowOffset.x < 0 ? Math.abs(this.shadowOffset.x) : 0;\r\n    y = this.shadowOffset.y < 0 ? Math.abs(this.shadowOffset.y) : 0;\r\n    if (this.shadowColor) {\r\n        ctx.drawImage(\r\n            this.symbolCanvasColored(this.shadowColor),\r\n            sx,\r\n            sy\r\n        );\r\n    }\r\n    ctx.drawImage(\r\n        this.symbolCanvasColored(this.color),\r\n        x,\r\n        y\r\n    );\r\n};\r\n\r\nSymbolMorph.prototype.symbolCanvasColored = function (aColor) {\r\n    // private\r\n    if (this.name instanceof Costume) {\r\n        return this.name.thumbnail(new Point(this.symbolWidth(), this.size));\r\n    }\r\n\r\n    var canvas = newCanvas(new Point(this.symbolWidth(), this.size));\r\n\r\n    switch (this.name) {\r\n    case 'square':\r\n        return this.drawSymbolStop(canvas, aColor);\r\n    case 'pointRight':\r\n        return this.drawSymbolPointRight(canvas, aColor);\r\n    case 'stepForward':\r\n        return this.drawSymbolStepForward(canvas, aColor);\r\n    case 'gears':\r\n        return this.drawSymbolGears(canvas, aColor);\r\n    case 'file':\r\n        return this.drawSymbolFile(canvas, aColor);\r\n    case 'fullScreen':\r\n        return this.drawSymbolFullScreen(canvas, aColor);\r\n    case 'normalScreen':\r\n        return this.drawSymbolNormalScreen(canvas, aColor);\r\n    case 'smallStage':\r\n        return this.drawSymbolSmallStage(canvas, aColor);\r\n    case 'normalStage':\r\n        return this.drawSymbolNormalStage(canvas, aColor);\r\n    case 'turtle':\r\n        return this.drawSymbolTurtle(canvas, aColor);\r\n    case 'stage':\r\n        return this.drawSymbolStop(canvas, aColor);\r\n    case 'turtleOutline':\r\n        return this.drawSymbolTurtleOutline(canvas, aColor);\r\n    case 'pause':\r\n        return this.drawSymbolPause(canvas, aColor);\r\n    case 'flag':\r\n        return this.drawSymbolFlag(canvas, aColor);\r\n    case 'octagon':\r\n        return this.drawSymbolOctagon(canvas, aColor);\r\n    case 'cloud':\r\n        return this.drawSymbolCloud(canvas, aColor);\r\n    case 'cloudOutline':\r\n        return this.drawSymbolCloudOutline(canvas, aColor);\r\n    case 'cloudGradient':\r\n        return this.drawSymbolCloudGradient(canvas, aColor);\r\n    case 'turnRight':\r\n        return this.drawSymbolTurnRight(canvas, aColor);\r\n    case 'turnLeft':\r\n        return this.drawSymbolTurnLeft(canvas, aColor);\r\n    case 'storage':\r\n        return this.drawSymbolStorage(canvas, aColor);\r\n    case 'poster':\r\n        return this.drawSymbolPoster(canvas, aColor);\r\n    case 'flash':\r\n        return this.drawSymbolFlash(canvas, aColor);\r\n    case 'brush':\r\n        return this.drawSymbolBrush(canvas, aColor);\r\n    case 'rectangle':\r\n        return this.drawSymbolRectangle(canvas, aColor);\r\n    case 'rectangleSolid':\r\n        return this.drawSymbolRectangleSolid(canvas, aColor);\r\n    case 'circle':\r\n        return this.drawSymbolCircle(canvas, aColor);\r\n    case 'circleSolid':\r\n        return this.drawSymbolCircleSolid(canvas, aColor);\r\n    case 'line':\r\n        return this.drawSymbolLine(canvas, aColor);\r\n    case 'cross':\r\n        return this.drawSymbolCross(canvas, aColor);\r\n    case 'crosshairs':\r\n        return this.drawSymbolCrosshairs(canvas, aColor);\r\n    case 'paintbucket':\r\n        return this.drawSymbolPaintbucket(canvas, aColor);\r\n    case 'eraser':\r\n        return this.drawSymbolEraser(canvas, aColor);\r\n    case 'pipette':\r\n        return this.drawSymbolPipette(canvas, aColor);\r\n    case 'speechBubble':\r\n        return this.drawSymbolSpeechBubble(canvas, aColor);\r\n    case 'speechBubbleOutline':\r\n        return this.drawSymbolSpeechBubbleOutline(canvas, aColor);\r\n    case 'turnBack':\r\n        return this.drawSymbolTurnBack(canvas, aColor);\r\n    case 'turnForward':\r\n        return this.drawSymbolTurnForward(canvas, aColor);\r\n    case 'arrowUp':\r\n        return this.drawSymbolArrowUp(canvas, aColor);\r\n    case 'arrowUpOutline':\r\n        return this.drawSymbolArrowUpOutline(canvas, aColor);\r\n    case 'arrowLeft':\r\n        return this.drawSymbolArrowLeft(canvas, aColor);\r\n    case 'arrowLeftOutline':\r\n        return this.drawSymbolArrowLeftOutline(canvas, aColor);\r\n    case 'arrowDown':\r\n        return this.drawSymbolArrowDown(canvas, aColor);\r\n    case 'arrowDownOutline':\r\n        return this.drawSymbolArrowDownOutline(canvas, aColor);\r\n    case 'arrowRight':\r\n        return this.drawSymbolArrowRight(canvas, aColor);\r\n    case 'arrowRightOutline':\r\n        return this.drawSymbolArrowRightOutline(canvas, aColor);\r\n    case 'robot':\r\n        return this.drawSymbolRobot(canvas, aColor);\r\n    case 'magnifyingGlass':\r\n        return this.drawSymbolMagnifyingGlass(canvas, aColor);\r\n    case 'magnifierOutline':\r\n        return this.drawSymbolMagnifierOutline(canvas, aColor);\r\n    case 'notes':\r\n        return this.drawSymbolNotes(canvas, aColor);\r\n    case 'camera':\r\n        return this.drawSymbolCamera(canvas, aColor);\r\n    case 'location':\r\n        return this.drawSymbolLocation(canvas, aColor);\r\n    case 'footprints':\r\n        return this.drawSymbolFootprints(canvas, aColor);\r\n    case 'keyboard':\r\n        return this.drawSymbolKeyboard(canvas, aColor);\r\n    case 'keyboardFilled':\r\n        return this.drawSymbolKeyboardFilled(canvas, aColor);\r\n    default:\r\n        return canvas;\r\n    }\r\n};\r\n\r\nSymbolMorph.prototype.symbolWidth = function () {\r\n    // private\r\n    var size = this.size;\r\n\r\n    if (this.name instanceof Costume) {\r\n        return (size / this.name.height()) * this.name.width();\r\n    }\r\n    switch (this.name) {\r\n    case 'pointRight':\r\n        return Math.sqrt(size * size - Math.pow(size / 2, 2));\r\n    case 'location':\r\n        return size * 0.6;\r\n    case 'flash':\r\n    case 'file':\r\n        return size * 0.8;\r\n    case 'smallStage':\r\n    case 'normalStage':\r\n        return size * 1.2;\r\n    case 'turtle':\r\n    case 'turtleOutline':\r\n    case 'stage':\r\n        return size * 1.3;\r\n    case 'cloud':\r\n    case 'cloudGradient':\r\n    case 'cloudOutline':\r\n    case 'turnBack':\r\n    case 'turnForward':\r\n    case 'keyboard':\r\n    case 'keyboardFilled':\r\n        return size * 1.6;\r\n    case 'turnRight':\r\n    case 'turnLeft':\r\n        return size / 3 * 2;\r\n    default:\r\n        return size;\r\n    }\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolStop = function (canvas, color) {\r\n    // answer a canvas showing a vertically centered square\r\n    var ctx = canvas.getContext('2d');\r\n\r\n    ctx.fillStyle = color.toString();\r\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolPointRight = function (canvas, color) {\r\n    // answer a canvas showing a right-pointing, equilateral triangle\r\n    var ctx = canvas.getContext('2d');\r\n\r\n    ctx.fillStyle = color.toString();\r\n    ctx.beginPath();\r\n    ctx.moveTo(0, 0);\r\n    ctx.lineTo(canvas.width, Math.round(canvas.height / 2));\r\n    ctx.lineTo(0, canvas.height);\r\n    ctx.lineTo(0, 0);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolStepForward = function (canvas, color) {\r\n    // answer a canvas showing a right-pointing triangle\r\n    // followed by a vertical bar\r\n    var ctx = canvas.getContext('2d');\r\n\r\n    ctx.fillStyle = color.toString();\r\n    ctx.beginPath();\r\n    ctx.moveTo(0, 0);\r\n    ctx.lineTo(canvas.width * 0.75, Math.round(canvas.height / 2));\r\n    ctx.lineTo(0, canvas.height);\r\n    ctx.lineTo(0, 0);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n    ctx.fillRect(\r\n        canvas.width * 0.75,\r\n        0,\r\n        canvas.width * 0.25,\r\n        canvas.height\r\n    );\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolGears = function (canvas, color) {\r\n    // answer a canvas showing gears\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        r = w / 2,\r\n        e = w / 6;\r\n\r\n    ctx.strokeStyle = color.toString();\r\n    ctx.lineWidth = canvas.width / 7;\r\n\r\n    ctx.beginPath();\r\n    ctx.arc(r, r, w, radians(0), radians(360), true);\r\n    ctx.arc(r, r, e * 1.5, radians(0), radians(360), false);\r\n    ctx.closePath();\r\n    ctx.clip();\r\n\r\n    ctx.moveTo(0, r);\r\n    ctx.lineTo(w, r);\r\n    ctx.stroke();\r\n\r\n    ctx.moveTo(r, 0);\r\n    ctx.lineTo(r, w);\r\n    ctx.stroke();\r\n\r\n    ctx.moveTo(e, e);\r\n    ctx.lineTo(w - e, w - e);\r\n    ctx.stroke();\r\n\r\n    ctx.moveTo(w - e, e);\r\n    ctx.lineTo(e, w - e);\r\n    ctx.stroke();\r\n\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolFile = function (canvas, color) {\r\n    // answer a canvas showing a page symbol\r\n    var ctx = canvas.getContext('2d'),\r\n        w = Math.min(canvas.width, canvas.height) / 2;\r\n\r\n    ctx.fillStyle = color.toString();\r\n    ctx.beginPath();\r\n    ctx.moveTo(0, 0);\r\n    ctx.lineTo(w, 0);\r\n    ctx.lineTo(w, w);\r\n    ctx.lineTo(canvas.width, w);\r\n    ctx.lineTo(canvas.width, canvas.height);\r\n    ctx.lineTo(0, canvas.height);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    ctx.fillStyle = color.darker(25).toString();\r\n    ctx.beginPath();\r\n    ctx.moveTo(w, 0);\r\n    ctx.lineTo(canvas.width, w);\r\n    ctx.lineTo(w, w);\r\n    ctx.lineTo(w, 0);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolFullScreen = function (canvas, color) {\r\n    // answer a canvas showing two arrows pointing diagonally outwards\r\n    var ctx = canvas.getContext('2d'),\r\n        h = canvas.height,\r\n        c = canvas.width / 2,\r\n        off = canvas.width / 20,\r\n        w = canvas.width / 2;\r\n\r\n    ctx.strokeStyle = color.toString();\r\n    ctx.lineWidth = canvas.width / 5;\r\n    ctx.moveTo(c - off, c + off);\r\n    ctx.lineTo(0, h);\r\n    ctx.stroke();\r\n\r\n    ctx.strokeStyle = color.toString();\r\n    ctx.lineWidth = canvas.width / 5;\r\n    ctx.moveTo(c + off, c - off);\r\n    ctx.lineTo(h, 0);\r\n    ctx.stroke();\r\n\r\n    ctx.fillStyle = color.toString();\r\n    ctx.beginPath();\r\n    ctx.moveTo(0, h);\r\n    ctx.lineTo(0, h - w);\r\n    ctx.lineTo(w, h);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    ctx.fillStyle = color.toString();\r\n    ctx.beginPath();\r\n    ctx.moveTo(h, 0);\r\n    ctx.lineTo(h - w, 0);\r\n    ctx.lineTo(h, w);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolNormalScreen = function (canvas, color) {\r\n    // answer a canvas showing two arrows pointing diagonally inwards\r\n    var ctx = canvas.getContext('2d'),\r\n        h = canvas.height,\r\n        c = canvas.width / 2,\r\n        off = canvas.width / 20,\r\n        w = canvas.width;\r\n\r\n    ctx.strokeStyle = color.toString();\r\n    ctx.lineWidth = canvas.width / 5;\r\n    ctx.moveTo(c - off * 3, c + off * 3);\r\n    ctx.lineTo(0, h);\r\n    ctx.stroke();\r\n\r\n    ctx.strokeStyle = color.toString();\r\n    ctx.lineWidth = canvas.width / 5;\r\n    ctx.moveTo(c + off * 3, c - off * 3);\r\n    ctx.lineTo(h, 0);\r\n    ctx.stroke();\r\n\r\n    ctx.fillStyle = color.toString();\r\n    ctx.beginPath();\r\n    ctx.moveTo(c + off, c - off);\r\n    ctx.lineTo(w, c - off);\r\n    ctx.lineTo(c + off, 0);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    ctx.fillStyle = color.toString();\r\n    ctx.beginPath();\r\n    ctx.moveTo(c - off, c + off);\r\n    ctx.lineTo(0, c + off);\r\n    ctx.lineTo(c - off, w);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolSmallStage = function (canvas, color) {\r\n    // answer a canvas showing a stage toggling symbol\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        h = canvas.height,\r\n        w2 = w / 2,\r\n        h2 = h / 2;\r\n\r\n    ctx.fillStyle = color.darker(40).toString();\r\n    ctx.fillRect(0, 0, w, h);\r\n\r\n    ctx.fillStyle = color.toString();\r\n    ctx.fillRect(w2, 0, w2, h2);\r\n\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolNormalStage = function (canvas, color) {\r\n    // answer a canvas showing a stage toggling symbol\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        h = canvas.height,\r\n        w2 = w / 2,\r\n        h2 = h / 2;\r\n\r\n    ctx.fillStyle = color.toString();\r\n    ctx.fillRect(0, 0, w, h);\r\n\r\n    ctx.fillStyle = color.darker(25).toString();\r\n    ctx.fillRect(w2, 0, w2, h2);\r\n\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolTurtle = function (canvas, color) {\r\n    // answer a canvas showing a turtle\r\n    var ctx = canvas.getContext('2d');\r\n\r\n    ctx.fillStyle = color.toString();\r\n    ctx.beginPath();\r\n    ctx.moveTo(0, 0);\r\n    ctx.lineTo(canvas.width, canvas.height / 2);\r\n    ctx.lineTo(0, canvas.height);\r\n    ctx.lineTo(canvas.height / 2, canvas.height / 2);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolTurtleOutline = function (canvas, color) {\r\n    // answer a canvas showing a turtle\r\n    var ctx = canvas.getContext('2d');\r\n\r\n    ctx.strokeStyle = color.toString();\r\n    ctx.beginPath();\r\n    ctx.moveTo(0, 0);\r\n    ctx.lineTo(canvas.width, canvas.height / 2);\r\n    ctx.lineTo(0, canvas.height);\r\n    ctx.lineTo(canvas.height / 2, canvas.height / 2);\r\n    ctx.closePath();\r\n    ctx.stroke();\r\n\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolPause = function (canvas, color) {\r\n    // answer a canvas showing two parallel rectangles\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width / 5;\r\n\r\n    ctx.fillStyle = color.toString();\r\n    ctx.fillRect(0, 0, w * 2, canvas.height);\r\n    ctx.fillRect(w * 3, 0, w * 2, canvas.height);\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolFlag = function (canvas, color) {\r\n    // answer a canvas showing a flag\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        l = Math.max(w / 12, 1),\r\n        h = canvas.height;\r\n\r\n    ctx.lineWidth = l;\r\n    ctx.strokeStyle = color.toString();\r\n    ctx.beginPath();\r\n    ctx.moveTo(l / 2, 0);\r\n    ctx.lineTo(l / 2, canvas.height);\r\n    ctx.stroke();\r\n\r\n    ctx.lineWidth = h / 2;\r\n    ctx.beginPath();\r\n    ctx.moveTo(0, h / 4);\r\n    ctx.bezierCurveTo(\r\n        w * 0.8,\r\n        h / 4,\r\n        w * 0.1,\r\n        h * 0.5,\r\n        w,\r\n        h * 0.5\r\n    );\r\n    ctx.stroke();\r\n\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolOctagon = function (canvas, color) {\r\n    // answer a canvas showing an octagon\r\n    var ctx = canvas.getContext('2d'),\r\n        side = canvas.width,\r\n        vert = (side - (side * 0.383)) / 2;\r\n\r\n    ctx.fillStyle = color.toString();\r\n    ctx.beginPath();\r\n    ctx.moveTo(vert, 0);\r\n    ctx.lineTo(side - vert, 0);\r\n    ctx.lineTo(side, vert);\r\n    ctx.lineTo(side, side - vert);\r\n    ctx.lineTo(side - vert, side);\r\n    ctx.lineTo(vert, side);\r\n    ctx.lineTo(0, side - vert);\r\n    ctx.lineTo(0, vert);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolCloud = function (canvas, color) {\r\n    // answer a canvas showing an cloud\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        h = canvas.height,\r\n        r1 = h * 2 / 5,\r\n        r2 = h / 4,\r\n        r3 = h * 3 / 10,\r\n        r4 = h / 5;\r\n\r\n    ctx.fillStyle = color.toString();\r\n    ctx.beginPath();\r\n    ctx.arc(r2, h - r2, r2, radians(90), radians(259), false);\r\n    ctx.arc(w / 20 * 5, h / 9 * 4, r4, radians(165), radians(300), false);\r\n    ctx.arc(w / 20 * 11, r1, r1, radians(200), radians(357), false);\r\n    ctx.arc(w - r3, h - r3, r3, radians(269), radians(90), false);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolCloudGradient = function (canvas, color) {\r\n    // answer a canvas showing an cloud\r\n    var ctx = canvas.getContext('2d'),\r\n        gradient,\r\n        w = canvas.width,\r\n        h = canvas.height,\r\n        r1 = h * 2 / 5,\r\n        r2 = h / 4,\r\n        r3 = h * 3 / 10,\r\n        r4 = h / 5;\r\n\r\n    gradient = ctx.createRadialGradient(\r\n        0,\r\n        0,\r\n        0,\r\n        0,\r\n        0,\r\n        w\r\n    );\r\n    gradient.addColorStop(0, color.lighter(25).toString());\r\n    gradient.addColorStop(1, color.darker(25).toString());\r\n    ctx.fillStyle = gradient;\r\n    ctx.beginPath();\r\n    ctx.arc(r2, h - r2, r2, radians(90), radians(259), false);\r\n    ctx.arc(w / 20 * 5, h / 9 * 4, r4, radians(165), radians(300), false);\r\n    ctx.arc(w / 20 * 11, r1, r1, radians(200), radians(357), false);\r\n    ctx.arc(w - r3, h - r3, r3, radians(269), radians(90), false);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolCloudOutline = function (canvas, color) {\r\n    // answer a canvas showing an cloud\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        h = canvas.height,\r\n        r1 = h * 2 / 5,\r\n        r2 = h / 4,\r\n        r3 = h * 3 / 10,\r\n        r4 = h / 5;\r\n\r\n    ctx.strokeStyle = color.toString();\r\n    ctx.beginPath();\r\n    ctx.arc(r2 + 1, h - r2 - 1, r2, radians(90), radians(259), false);\r\n    ctx.arc(w / 20 * 5, h / 9 * 4, r4, radians(165), radians(300), false);\r\n    ctx.arc(w / 20 * 11, r1 + 1, r1, radians(200), radians(357), false);\r\n    ctx.arc(w - r3 - 1, h - r3 - 1, r3, radians(269), radians(90), false);\r\n    ctx.closePath();\r\n    ctx.stroke();\r\n\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolTurnRight = function (canvas, color) {\r\n    // answer a canvas showing a right-turning arrow\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        l = Math.max(w / 10, 1),\r\n        r = w / 2;\r\n\r\n    ctx.lineWidth = l;\r\n    ctx.strokeStyle = color.toString();\r\n    ctx.beginPath();\r\n    ctx.arc(r, r * 2, r - l / 2, radians(0), radians(-90), false);\r\n    ctx.stroke();\r\n\r\n    ctx.fillStyle = color.toString();\r\n    ctx.beginPath();\r\n    ctx.moveTo(w, r);\r\n    ctx.lineTo(r, 0);\r\n    ctx.lineTo(r, r * 2);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolTurnLeft = function (canvas, color) {\r\n    // answer a canvas showing a left-turning arrow\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        l = Math.max(w / 10, 1),\r\n        r = w / 2;\r\n\r\n    ctx.lineWidth = l;\r\n    ctx.strokeStyle = color.toString();\r\n    ctx.beginPath();\r\n    ctx.arc(r, r * 2, r - l / 2, radians(180), radians(-90), true);\r\n    ctx.stroke();\r\n\r\n    ctx.fillStyle = color.toString();\r\n    ctx.beginPath();\r\n    ctx.moveTo(0, r);\r\n    ctx.lineTo(r, 0);\r\n    ctx.lineTo(r, r * 2);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolStorage = function (canvas, color) {\r\n    // answer a canvas showing a stack of three disks\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        h = canvas.height,\r\n        r = canvas.height,\r\n        unit = canvas.height / 11;\r\n\r\n    function drawDisk(bottom, fillTop) {\r\n        ctx.fillStyle = color.toString();\r\n        ctx.beginPath();\r\n        ctx.arc(w / 2, bottom - h, r, radians(60), radians(120), false);\r\n        ctx.lineTo(0, bottom - unit * 2);\r\n        ctx.arc(\r\n            w / 2,\r\n            bottom - h - unit * 2,\r\n            r,\r\n            radians(120),\r\n            radians(60),\r\n            true\r\n        );\r\n        ctx.closePath();\r\n        ctx.fill();\r\n\r\n        ctx.fillStyle = color.darker(25).toString();\r\n        ctx.beginPath();\r\n\r\n        if (fillTop) {\r\n            ctx.arc(\r\n                w / 2,\r\n                bottom - h - unit * 2,\r\n                r,\r\n                radians(120),\r\n                radians(60),\r\n                true\r\n            );\r\n        }\r\n\r\n        ctx.arc(\r\n            w / 2,\r\n            bottom + unit * 6 + 1,\r\n            r,\r\n            radians(60),\r\n            radians(120),\r\n            true\r\n        );\r\n        ctx.closePath();\r\n\r\n        if (fillTop) {\r\n            ctx.fill();\r\n        } else {\r\n            ctx.stroke();\r\n        }\r\n    }\r\n\r\n    ctx.strokeStyle = color.toString();\r\n    drawDisk(h);\r\n    drawDisk(h - unit * 3);\r\n    drawDisk(h - unit * 6, false);\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolPoster = function (canvas, color) {\r\n    // answer a canvas showing a poster stand\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        h = canvas.height,\r\n        bottom = h * 0.75,\r\n        edge = canvas.height / 5;\r\n\r\n    ctx.fillStyle = color.toString();\r\n    ctx.strokeStyle = color.toString();\r\n\r\n    ctx.lineWidth = w / 15;\r\n    ctx.moveTo(w / 2, h / 3);\r\n    ctx.lineTo(w / 6, h);\r\n    ctx.stroke();\r\n\r\n    ctx.moveTo(w / 2, h / 3);\r\n    ctx.lineTo(w / 2, h);\r\n    ctx.stroke();\r\n\r\n    ctx.moveTo(w / 2, h / 3);\r\n    ctx.lineTo(w * 5 / 6, h);\r\n    ctx.stroke();\r\n\r\n    ctx.fillRect(0, 0, w, bottom);\r\n    ctx.clearRect(0, bottom, w, w / 20);\r\n\r\n    ctx.clearRect(w - edge, bottom - edge, edge + 1, edge + 1);\r\n\r\n    ctx.fillStyle = color.darker(25).toString();\r\n    ctx.beginPath();\r\n    ctx.moveTo(w, bottom - edge);\r\n    ctx.lineTo(w - edge, bottom - edge);\r\n    ctx.lineTo(w - edge, bottom);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolFlash = function (canvas, color) {\r\n    // answer a canvas showing a flash\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        w3 = w / 3,\r\n        h = canvas.height,\r\n        h3 = h / 3,\r\n        off = h3 / 3;\r\n\r\n    ctx.fillStyle = color.toString();\r\n    ctx.beginPath();\r\n    ctx.moveTo(w3, 0);\r\n    ctx.lineTo(0, h3);\r\n    ctx.lineTo(w3, h3);\r\n    ctx.lineTo(0, h3 * 2);\r\n    ctx.lineTo(w3, h3 * 2);\r\n    ctx.lineTo(0, h);\r\n    ctx.lineTo(w, h3 * 2 - off);\r\n    ctx.lineTo(w3 * 2, h3 * 2 - off);\r\n    ctx.lineTo(w, h3 - off);\r\n    ctx.lineTo(w3 * 2, h3 - off);\r\n    ctx.lineTo(w, 0);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolBrush = function (canvas, color) {\r\n    // answer a canvas showing a paintbrush\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        h = canvas.height,\r\n        l = Math.max(w / 30, 0.5);\r\n\r\n    ctx.fillStyle = color.toString();\r\n    ctx.lineWidth = l * 2;\r\n    ctx.beginPath();\r\n    ctx.moveTo(w / 8 * 3, h / 2);\r\n    ctx.quadraticCurveTo(0, h / 2, l, h - l);\r\n    ctx.quadraticCurveTo(w / 2, h, w / 2, h / 8 * 5);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    ctx.lineJoin = 'round';\r\n    ctx.lineCap = 'round';\r\n    ctx.strokeStyle = color.toString();\r\n\r\n    ctx.moveTo(w / 8 * 3, h / 2);\r\n    ctx.lineTo(w * 0.75, l);\r\n    ctx.quadraticCurveTo(w, 0, w - l, h * 0.25);\r\n    ctx.stroke();\r\n\r\n    ctx.moveTo(w / 2, h / 8 * 5);\r\n    ctx.lineTo(w - l, h * 0.25);\r\n    ctx.stroke();\r\n\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolRectangle = function (canvas, color) {\r\n    // answer a canvas showing a rectangle\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        h = canvas.width,\r\n        l = Math.max(w / 20, 0.5);\r\n\r\n    ctx.strokeStyle = color.toString();\r\n    ctx.lineWidth = l * 2;\r\n    ctx.beginPath();\r\n    ctx.moveTo(l, l);\r\n    ctx.lineTo(w - l, l);\r\n    ctx.lineTo(w - l, h - l);\r\n    ctx.lineTo(l, h - l);\r\n    ctx.closePath();\r\n    ctx.stroke();\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolRectangleSolid = function (canvas, color) {\r\n    // answer a canvas showing a solid rectangle\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        h = canvas.width;\r\n\r\n    ctx.fillStyle = color.toString();\r\n    ctx.beginPath();\r\n    ctx.moveTo(0, 0);\r\n    ctx.lineTo(w, 0);\r\n    ctx.lineTo(w, h);\r\n    ctx.lineTo(0, h);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolCircle = function (canvas, color) {\r\n    // answer a canvas showing a circle\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        l = Math.max(w / 20, 0.5);\r\n\r\n    ctx.strokeStyle = color.toString();\r\n    ctx.lineWidth = l * 2;\r\n    ctx.arc(w / 2, w / 2, w / 2 - l, radians(0), radians(360), false);\r\n    ctx.stroke();\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolCircleSolid = function (canvas, color) {\r\n    // answer a canvas showing a solid circle\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width;\r\n\r\n    ctx.fillStyle = color.toString();\r\n    ctx.arc(w / 2, w / 2, w / 2, radians(0), radians(360), false);\r\n    ctx.fill();\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolLine = function (canvas, color) {\r\n    // answer a canvas showing a plus sign cross\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        h = canvas.height,\r\n        l = Math.max(w / 20, 0.5);\r\n\r\n    ctx.strokeStyle = color.toString();\r\n    ctx.lineWidth = l * 2;\r\n    ctx.lineCap = 'round';\r\n    ctx.moveTo(l, l);\r\n    ctx.lineTo(w - l, h - l);\r\n    ctx.stroke();\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolCross = function (canvas, color) {\r\n    // answer a canvas showing a diagonal line\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        l = Math.max(w / 20, 0.5);\r\n\r\n    ctx.strokeStyle = color.toString();\r\n    ctx.lineWidth = l * 2;\r\n    ctx.lineCap = 'round';\r\n    ctx.moveTo(l, w / 2);\r\n    ctx.lineTo(w - l, w / 2);\r\n    ctx.stroke();\r\n    ctx.moveTo(w / 2, l);\r\n    ctx.lineTo(w / 2, w - l);\r\n    ctx.stroke();\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolCrosshairs = function (canvas, color) {\r\n    // answer a canvas showing a crosshairs\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        h = canvas.height,\r\n        l = 0.5;\r\n\r\n    ctx.strokeStyle = color.toString();\r\n    ctx.lineWidth = l * 2;\r\n    ctx.moveTo(l, h / 2);\r\n    ctx.lineTo(w - l, h / 2);\r\n    ctx.stroke();\r\n    ctx.moveTo(w / 2, l);\r\n    ctx.lineTo(w / 2, h - l);\r\n    ctx.stroke();\r\n    ctx.moveTo(w / 2, h / 2);\r\n    ctx.arc(w / 2, w / 2, w / 3 - l, radians(0), radians(360), false);\r\n    ctx.stroke();\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolPaintbucket = function (canvas, color) {\r\n    // answer a canvas showing a paint bucket\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        h = canvas.height,\r\n        n = canvas.width / 5,\r\n        l = Math.max(w / 30, 0.5);\r\n\r\n    ctx.strokeStyle = color.toString();\r\n    ctx.lineWidth = l * 2;\r\n    ctx.beginPath();\r\n    ctx.moveTo(n * 2, n);\r\n    ctx.lineTo(n * 4, n * 3);\r\n    ctx.lineTo(n * 3, n * 4);\r\n    ctx.quadraticCurveTo(n * 2, h, n, n * 4);\r\n    ctx.quadraticCurveTo(0, n * 3, n, n * 2);\r\n    ctx.closePath();\r\n    ctx.stroke();\r\n\r\n    ctx.lineWidth = l;\r\n    ctx.moveTo(n * 2, n * 2.5);\r\n    ctx.arc(n * 2, n * 2.5, l, radians(0), radians(360), false);\r\n    ctx.stroke();\r\n\r\n    ctx.moveTo(n * 2, n * 2.5);\r\n    ctx.lineTo(n * 2, n / 2 + l);\r\n    ctx.stroke();\r\n\r\n    ctx.arc(n * 1.5, n / 2 + l, n / 2, radians(0), radians(180), true);\r\n    ctx.stroke();\r\n\r\n    ctx.moveTo(n, n / 2 + l);\r\n    ctx.lineTo(n, n * 2);\r\n    ctx.stroke();\r\n\r\n    ctx.fillStyle = color.toString();\r\n    ctx.beginPath();\r\n    ctx.moveTo(n * 3.5, n * 3.5);\r\n    ctx.quadraticCurveTo(w, n * 3.5, w - l, h);\r\n    ctx.lineTo(w, h);\r\n    ctx.quadraticCurveTo(w, n * 2, n * 2.5, n * 1.5);\r\n    ctx.lineTo(n * 4, n * 3);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolEraser = function (canvas, color) {\r\n    // answer a canvas showing an eraser\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        h = canvas.height,\r\n        n = canvas.width / 4,\r\n        l = Math.max(w / 20, 0.5);\r\n\r\n    ctx.strokeStyle = color.toString();\r\n    ctx.lineWidth = l * 2;\r\n    ctx.beginPath();\r\n    ctx.moveTo(n * 3, l);\r\n    ctx.lineTo(l, n * 3);\r\n    ctx.quadraticCurveTo(n, h, n * 2, n * 3);\r\n    ctx.lineTo(w - l, n);\r\n    ctx.closePath();\r\n    ctx.stroke();\r\n\r\n    ctx.fillStyle = color.toString();\r\n    ctx.beginPath();\r\n    ctx.moveTo(n * 3, 0);\r\n    ctx.lineTo(n * 1.5, n * 1.5);\r\n    ctx.lineTo(n * 2.5, n * 2.5);\r\n    ctx.lineTo(w, n);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolPipette = function (canvas, color) {\r\n    // answer a canvas showing an eyedropper\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        h = canvas.height,\r\n        n = canvas.width / 4,\r\n        n2 = n / 2,\r\n        l = Math.max(w / 20, 0.5);\r\n\r\n    ctx.strokeStyle = color.toString();\r\n    ctx.lineWidth = l * 2;\r\n    ctx.beginPath();\r\n    ctx.moveTo(l, h - l);\r\n    ctx.quadraticCurveTo(n2, h - n2, n2, h - n);\r\n    ctx.lineTo(n * 2, n * 1.5);\r\n    ctx.stroke();\r\n\r\n    ctx.beginPath();\r\n    ctx.moveTo(l, h - l);\r\n    ctx.quadraticCurveTo(n2, h - n2, n, h - n2);\r\n    ctx.lineTo(n * 2.5, n * 2);\r\n    ctx.stroke();\r\n\r\n    ctx.fillStyle = color.toString();\r\n    ctx.arc(n * 3, n, n - l, radians(0), radians(360), false);\r\n    ctx.fill();\r\n\r\n    ctx.beginPath();\r\n    ctx.moveTo(n * 2, n);\r\n    ctx.lineTo(n * 3, n * 2);\r\n    ctx.stroke();\r\n\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolSpeechBubble = function (canvas, color) {\r\n    // answer a canvas showing a speech bubble\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        h = canvas.height,\r\n        n = canvas.width / 3,\r\n        l = Math.max(w / 20, 0.5);\r\n\r\n    ctx.fillStyle = color.toString();\r\n    ctx.lineWidth = l * 2;\r\n    ctx.beginPath();\r\n    ctx.moveTo(n, n * 2);\r\n    ctx.quadraticCurveTo(l, n * 2, l, n);\r\n    ctx.quadraticCurveTo(l, l, n, l);\r\n    ctx.lineTo(n * 2, l);\r\n    ctx.quadraticCurveTo(w - l, l, w - l, n);\r\n    ctx.quadraticCurveTo(w - l, n * 2, n * 2, n * 2);\r\n    ctx.lineTo(n / 2, h - l);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolSpeechBubbleOutline = function (\r\n    canvas,\r\n    color\r\n) {\r\n    // answer a canvas showing a speech bubble\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        h = canvas.height,\r\n        n = canvas.width / 3,\r\n        l = Math.max(w / 20, 0.5);\r\n\r\n    ctx.strokeStyle = color.toString();\r\n    ctx.lineWidth = l * 2;\r\n    ctx.beginPath();\r\n    ctx.moveTo(n, n * 2);\r\n    ctx.quadraticCurveTo(l, n * 2, l, n);\r\n    ctx.quadraticCurveTo(l, l, n, l);\r\n    ctx.lineTo(n * 2, l);\r\n    ctx.quadraticCurveTo(w - l, l, w - l, n);\r\n    ctx.quadraticCurveTo(w - l, n * 2, n * 2, n * 2);\r\n    ctx.lineTo(n / 2, h - l);\r\n    ctx.closePath();\r\n    ctx.stroke();\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolTurnBack = function (canvas, aColor) {\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        h = canvas.height,\r\n        w2 = canvas.width / 2,\r\n        h2 = canvas.height / 2,\r\n        l = Math.max(w / 20, 0.5);\r\n\r\n    ctx.fillStyle = aColor.toString();\r\n    ctx.lineWidth = l * 2;\r\n    ctx.beginPath();\r\n    ctx.moveTo(0, h2);\r\n    ctx.lineTo(w2, 0);\r\n    ctx.lineTo(w2, h);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n    ctx.lineWidth = l * 3;\r\n    ctx.strokeStyle = aColor.toString();\r\n    ctx.beginPath();\r\n    ctx.arc(w2, h, h2, radians(0), radians(-90), true);\r\n    ctx.stroke();\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolTurnForward = function (canvas, aColor) {\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        h = canvas.height,\r\n        w2 = canvas.width / 2,\r\n        h2 = canvas.height / 2,\r\n        l = Math.max(w / 20, 0.5);\r\n\r\n    ctx.fillStyle = aColor.toString();\r\n    ctx.lineWidth = l * 2;\r\n    ctx.beginPath();\r\n    ctx.moveTo(w, h2);\r\n    ctx.lineTo(w2, 0);\r\n    ctx.lineTo(w2, h);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n    ctx.lineWidth = l * 3;\r\n    ctx.strokeStyle = aColor.toString();\r\n    ctx.beginPath();\r\n    ctx.arc(w2, h, h2, radians(-180), radians(-90), false);\r\n    ctx.stroke();\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolArrowUp = function (canvas, color) {\r\n    // answer a canvas showing an up arrow\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        h = canvas.height,\r\n        n = canvas.width / 2,\r\n        l = Math.max(w / 20, 0.5);\r\n\r\n    ctx.fillStyle = color.toString();\r\n    ctx.lineWidth = l * 2;\r\n    ctx.beginPath();\r\n    ctx.moveTo(l, n);\r\n    ctx.lineTo(n, l);\r\n    ctx.lineTo(w - l, n);\r\n    ctx.lineTo(w * 0.65, n);\r\n    ctx.lineTo(w * 0.65, h - l);\r\n    ctx.lineTo(w * 0.35, h - l);\r\n    ctx.lineTo(w * 0.35, n);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolArrowUpOutline = function (canvas, color) {\r\n    // answer a canvas showing an up arrow\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        h = canvas.height,\r\n        n = canvas.width / 2,\r\n        l = Math.max(w / 20, 0.5);\r\n\r\n    ctx.strokeStyle = color.toString();\r\n    ctx.lineWidth = l * 2;\r\n    ctx.beginPath();\r\n    ctx.moveTo(l, n);\r\n    ctx.lineTo(n, l);\r\n    ctx.lineTo(w - l, n);\r\n    ctx.lineTo(w * 0.65, n);\r\n    ctx.lineTo(w * 0.65, h - l);\r\n    ctx.lineTo(w * 0.35, h - l);\r\n    ctx.lineTo(w * 0.35, n);\r\n    ctx.closePath();\r\n    ctx.stroke();\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolArrowDown = function (canvas, color) {\r\n    // answer a canvas showing a down arrow\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width;\r\n    ctx.save();\r\n    ctx.translate(w, w);\r\n    ctx.rotate(radians(180));\r\n    this.drawSymbolArrowUp(canvas, color);\r\n    ctx.restore();\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolArrowDownOutline = function (canvas, color) {\r\n    // answer a canvas showing a down arrow\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width;\r\n    ctx.save();\r\n    ctx.translate(w, w);\r\n    ctx.rotate(radians(180));\r\n    this.drawSymbolArrowUpOutline(canvas, color);\r\n    ctx.restore();\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolArrowLeft = function (canvas, color) {\r\n    // answer a canvas showing a left arrow\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width;\r\n    ctx.save();\r\n    ctx.translate(0, w);\r\n    ctx.rotate(radians(-90));\r\n    this.drawSymbolArrowUp(canvas, color);\r\n    ctx.restore();\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolArrowLeftOutline = function (canvas, color) {\r\n    // answer a canvas showing a left arrow\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width;\r\n    ctx.save();\r\n    ctx.translate(0, w);\r\n    ctx.rotate(radians(-90));\r\n    this.drawSymbolArrowUpOutline(canvas, color);\r\n    ctx.restore();\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolArrowRight = function (canvas, color) {\r\n    // answer a canvas showing a right arrow\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width;\r\n    ctx.save();\r\n    ctx.translate(w, 0);\r\n    ctx.rotate(radians(90));\r\n    this.drawSymbolArrowUp(canvas, color);\r\n    ctx.restore();\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolArrowRightOutline = function (canvas, color) {\r\n    // answer a canvas showing a right arrow\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width;\r\n    ctx.save();\r\n    ctx.translate(w, 0);\r\n    ctx.rotate(radians(90));\r\n    this.drawSymbolArrowUpOutline(canvas, color);\r\n    ctx.restore();\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolRobot = function (canvas, color) {\r\n    // answer a canvas showing a humanoid robot\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        h = canvas.height,\r\n        n = canvas.width / 6,\r\n        n2 = n / 2,\r\n        l = Math.max(w / 20, 0.5);\r\n\r\n    ctx.fillStyle = color.toString();\r\n    //ctx.lineWidth = l * 2;\r\n\r\n    ctx.beginPath();\r\n    ctx.moveTo(n + l, n);\r\n    ctx.lineTo(n * 2, n);\r\n    ctx.lineTo(n * 2.5, n * 1.5);\r\n    ctx.lineTo(n * 3.5, n * 1.5);\r\n    ctx.lineTo(n * 4, n);\r\n    ctx.lineTo(n * 5 - l, n);\r\n    ctx.lineTo(n * 4, n * 3);\r\n    ctx.lineTo(n * 4, n * 4 - l);\r\n    ctx.lineTo(n * 2, n * 4 - l);\r\n    ctx.lineTo(n * 2, n * 3);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    ctx.beginPath();\r\n    ctx.moveTo(n * 2.75, n + l);\r\n    ctx.lineTo(n * 2.4, n);\r\n    ctx.lineTo(n * 2.2, 0);\r\n    ctx.lineTo(n * 3.8, 0);\r\n    ctx.lineTo(n * 3.6, n);\r\n    ctx.lineTo(n * 3.25, n + l);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    ctx.beginPath();\r\n    ctx.moveTo(n * 2.5, n * 4);\r\n    ctx.lineTo(n, n * 4);\r\n    ctx.lineTo(n2 + l, h);\r\n    ctx.lineTo(n * 2, h);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    ctx.beginPath();\r\n    ctx.moveTo(n * 3.5, n * 4);\r\n    ctx.lineTo(n * 5, n * 4);\r\n    ctx.lineTo(w - (n2 + l), h);\r\n    ctx.lineTo(n * 4, h);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    ctx.beginPath();\r\n    ctx.moveTo(n, n);\r\n    ctx.lineTo(l, n * 1.5);\r\n    ctx.lineTo(l, n * 3.25);\r\n    ctx.lineTo(n * 1.5, n * 3.5);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    ctx.beginPath();\r\n    ctx.moveTo(n * 5, n);\r\n    ctx.lineTo(w - l, n * 1.5);\r\n    ctx.lineTo(w - l, n * 3.25);\r\n    ctx.lineTo(n * 4.5, n * 3.5);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolMagnifyingGlass = function (canvas, color) {\r\n    // answer a canvas showing a magnifying glass\r\n    var ctx = canvas.getContext('2d'),\r\n        gradient,\r\n        w = canvas.width,\r\n        h = canvas.height,\r\n        r = w * 0.3,\r\n        x = w * 2 / 3 - Math.sqrt(r),\r\n        y = h / 3 + Math.sqrt(r),\r\n        l = Math.max(w / 5, 0.5);\r\n\r\n    ctx.strokeStyle = color.toString();\r\n\r\n    gradient = ctx.createRadialGradient(\r\n        x,\r\n        y,\r\n        0,\r\n        x + r,\r\n        y + r,\r\n        w\r\n    );\r\n\r\n    gradient.addColorStop(0, color.inverted().lighter(50).toString());\r\n    gradient.addColorStop(1, color.inverted().darker(25).toString());\r\n    ctx.fillStyle = gradient;\r\n    ctx.arc(x, y, r, radians(0), radians(360), false);\r\n    ctx.fill();\r\n\r\n    ctx.lineWidth = l / 2;\r\n    ctx.arc(x, y, r, radians(0), radians(360), false);\r\n    ctx.stroke();\r\n\r\n    ctx.lineWidth = l;\r\n    ctx.beginPath();\r\n    ctx.moveTo(l / 2, h - l / 2);\r\n    ctx.lineTo(x - Math.sqrt(r + l), y + Math.sqrt(r + l));\r\n    ctx.closePath();\r\n    ctx.stroke();\r\n\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolMagnifierOutline = function (canvas, color) {\r\n    // answer a canvas showing a magnifying glass\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        h = canvas.height,\r\n        r = w * 0.3,\r\n        x = w * 2 / 3 - Math.sqrt(r),\r\n        y = h / 3 + Math.sqrt(r),\r\n        l = Math.max(w / 5, 0.5);\r\n\r\n    ctx.strokeStyle = color.toString();\r\n\r\n    ctx.lineWidth = l * 0.5;\r\n    ctx.arc(x, y, r, radians(0), radians(360), false);\r\n    ctx.stroke();\r\n\r\n    ctx.lineWidth = l;\r\n    ctx.beginPath();\r\n    ctx.moveTo(l / 2, h - l / 2);\r\n    ctx.lineTo(x - Math.sqrt(r + l), y + Math.sqrt(r + l));\r\n    ctx.closePath();\r\n    ctx.stroke();\r\n\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolNotes = function (canvas, color) {\r\n    // answer a canvas showing two musical notes\r\n    var ctx = canvas.getContext('2d'),\r\n        size = canvas.width,\r\n        r = size / 6,\r\n        l = Math.max(r / 3, 1);\r\n\r\n    ctx.strokeStyle = color.toString();\r\n    ctx.fillStyle = color.toString();\r\n\r\n    ctx.arc(r, size - r, r, radians(0), radians(360), false);\r\n    ctx.fill();\r\n    ctx.arc(size - r, size - (r * 2), r, radians(0), radians(360), false);\r\n    ctx.fill();\r\n\r\n    ctx.beginPath();\r\n    ctx.moveTo(r * 2 - l, r);\r\n    ctx.lineTo(size, 0);\r\n    ctx.lineTo(size, r);\r\n    ctx.lineTo(r * 2 - l, r * 2);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    ctx.lineWidth = l;\r\n    ctx.beginPath();\r\n    ctx.moveTo(r * 2 - (l / 2), size - r);\r\n    ctx.lineTo(r * 2 - (l / 2), r + l);\r\n    ctx.stroke();\r\n\r\n    ctx.beginPath();\r\n    ctx.moveTo(size - (l / 2), size - (r * 2));\r\n    ctx.lineTo(size - (l / 2), l);\r\n    ctx.stroke();\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolCamera = function (canvas, color) {\r\n    // answer a canvas showing a camera\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        h = canvas.width,\r\n        r = w * 0.16,\r\n        l = Math.max(w / 20, 0.5);\r\n\r\n    ctx.lineWidth = l * 2;\r\n\r\n    // camera body\r\n    ctx.fillStyle = color.toString();\r\n    ctx.beginPath();\r\n    ctx.moveTo(l, h * 5 / 6);\r\n    ctx.lineTo(w - l, h * 5 / 6);\r\n    ctx.lineTo(w - l, h / 4);\r\n    ctx.lineTo(w * 3 / 4 , h / 4);\r\n    ctx.lineTo(w * 5 / 8 , l);\r\n    ctx.lineTo(w * 3 / 8 , l);\r\n    ctx.lineTo(w / 4 , h / 4);\r\n    ctx.lineTo(l , h / 4);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    // camera lens\r\n    ctx.save();\r\n    ctx.globalCompositeOperation = 'destination-out';\r\n    ctx.beginPath();\r\n    ctx.arc(w / 2, h / 2, r, radians(0), radians(360), false);\r\n    ctx.fill();\r\n    ctx.restore();\r\n\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolLocation = function (canvas, color) {\r\n    // answer a canvas showing a map pin\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        h = canvas.height,\r\n        r = w / 2;\r\n\r\n    // pin\r\n    ctx.fillStyle = color.toString();\r\n    ctx.beginPath();\r\n    ctx.arc(r, r, r, radians(-210), radians(30), false);\r\n    ctx.lineTo(r, h);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    // hole\r\n    ctx.globalCompositeOperation = 'destination-out';\r\n    ctx.beginPath();\r\n    ctx.arc(r, r, r * 0.5, radians(0), radians(360), false);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolFootprints = function (canvas, color) {\r\n    // answer a canvas showing a pair of (shoe) footprints\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        u = w / 10,\r\n        r = u * 1.5;\r\n\r\n    ctx.fillStyle = color.toString();\r\n\r\n    // left shoe\r\n    // tip\r\n    ctx.beginPath();\r\n    ctx.arc(r, r, r, radians(-200), radians(0), false);\r\n    ctx.lineTo(r * 2, u * 5.5);\r\n    ctx.lineTo(u, u * 6);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n    // heel\r\n    ctx.beginPath();\r\n    ctx.arc(u * 2.25, u * 6.75, u , radians(-40), radians(-170), false);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    // right shoe\r\n    // tip\r\n    ctx.beginPath();\r\n    ctx.arc(w - r, u * 4.5, r, radians(-180), radians(20), false);\r\n    ctx.lineTo(w - u, u * 8.5);\r\n    ctx.lineTo(w - (r * 2), u * 8);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n    // heel\r\n    ctx.beginPath();\r\n    ctx.arc(w - (u * 2.25), u * 9, u, radians(0), radians(-150), false);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolKeyboard = function (canvas, color) {\r\n    // answer a canvas showing a typing keyboard\r\n    var ctx = canvas.getContext('2d'),\r\n        h = canvas.height,\r\n        u = h / 10,\r\n        k = h / 5,\r\n        row, col;\r\n\r\n    ctx.fillStyle = color.toString();\r\n    for (row = 0; row < 2; row += 1) {\r\n\t\tfor (col = 0; col < 5; col += 1) {\r\n\t\t\tctx.fillRect(\r\n      \t\t\t((u + k) * col) + u,\r\n          \t\t((u + k) * row) + u,\r\n           \t\tk,\r\n           \t\tk\r\n\t\t\t);\r\n   \t\t}\r\n  \t}\r\n\tctx.fillRect(u * 4, u * 7, k * 4, k);\r\n\treturn canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolKeyboardFilled = function (canvas, color) {\r\n    // answer a canvas showing a typing keyboard\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        h = canvas.height,\r\n        u = h / 10,\r\n        k = h / 5,\r\n        row, col;\r\n\r\n    ctx.fillStyle = color.toString();\r\n    ctx.fillRect(0, 0, w, h);\r\n    ctx.globalCompositeOperation = 'destination-out';\r\n    for (row = 0; row < 2; row += 1) {\r\n        for (col = 0; col < 5; col += 1) {\r\n            ctx.fillRect(\r\n                  ((u + k) * col) + u,\r\n                  ((u + k) * row) + u,\r\n                   k,\r\n                   k\r\n            );\r\n           }\r\n      }\r\n    ctx.fillRect(u * 4, u * 7, k * 4, k);\r\n    return canvas;\r\n};\r\n//fin de Symbols\r\n/*\r\n\r\n    xml.js\r\n\r\n    a simple XML DOM, encoder and parser for morphic.js\r\n\r\n    written by Jens Mönig\r\n    jens@moenig.org\r\n\r\n    Copyright (C) 2015 by Jens Mönig\r\n\r\n    This file is part of Snap!.\r\n\r\n    Snap! is free software: you can redistribute it and/or modify\r\n    it under the terms of the GNU Affero General Public License as\r\n    published by the Free Software Foundation, either version 3 of\r\n    the License, or (at your option) any later version.\r\n\r\n    This program is distributed in the hope that it will be useful,\r\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n    GNU Affero General Public License for more details.\r\n\r\n    You should have received a copy of the GNU Affero General Public License\r\n    along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n\r\n\r\n    prerequisites:\r\n    --------------\r\n    needs morphic.js\r\n\r\n\r\n    hierarchy\r\n    ---------\r\n    the following tree lists all constructors hierarchically,\r\n    indentation indicating inheritance. Refer to this list to get a\r\n    contextual overview:\r\n\r\n        Node*\r\n            XML_Element\r\n        ReadStream\r\n\r\n    * defined in morphic.js\r\n\r\n\r\n    toc\r\n    ---\r\n    the following list shows the order in which all constructors are\r\n    defined. Use this list to locate code in this document:\r\n\r\n        ReadStream\r\n        XML_Element\r\n\r\n\r\n    credits\r\n    -------\r\n    Nathan Dinsmore contributed to the design and implemented a first\r\n    working version of a complete XMLSerializer. I have taken much of the\r\n    overall design and many of the functions and methods in this file from\r\n    Nathan's fine original prototype. Recently Nathan has once again\r\n    worked his magic on the parser and optimized it by an order of\r\n    magnitude.\r\n\r\n*/\r\n\r\n/*global modules, detect, Node, isNil*/\r\n\r\n// Global stuff ////////////////////////////////////////////////////////\r\n\r\nmodules.xml = '2017-November-15';\r\n\r\n// Declarations\r\n\r\nvar ReadStream;\r\nvar XML_Element;\r\n\r\n// ReadStream ////////////////////////////////////////////////////////////\r\n\r\n// I am a sequential reading interface to an Array or String\r\n\r\n// ReadStream instance creation:\r\n\r\nfunction ReadStream(arrayOrString) {\r\n    this.contents = arrayOrString || '';\r\n    this.index = 0;\r\n}\r\n\r\n// ReadStream constants:\r\n\r\nReadStream.prototype.nonSpace = /\\S|$/g;\r\nReadStream.prototype.nonWord = /[\\s\\>\\/\\=]|$/g;\r\n\r\n// ReadStream accessing:\r\n\r\nReadStream.prototype.next = function (count) {\r\n    var element, start;\r\n    if (count === undefined) {\r\n        element = this.contents[this.index];\r\n        this.index += 1;\r\n        return element;\r\n    }\r\n    start = this.index;\r\n    this.index += count;\r\n    return this.contents.slice(start, this.index);\r\n};\r\n\r\nReadStream.prototype.peek = function () {\r\n    return this.contents[this.index];\r\n};\r\n\r\nReadStream.prototype.skip = function (count) {\r\n    this.index += count || 1;\r\n};\r\n\r\nReadStream.prototype.atEnd = function () {\r\n    return this.index > (this.contents.length - 1);\r\n};\r\n\r\n// ReadStream accessing String contents:\r\n\r\nReadStream.prototype.upTo = function (str) {\r\n    var i = this.contents.indexOf(str, this.index);\r\n    return i === -1 ? '' : this.contents.slice(this.index, this.index = i);\r\n};\r\n\r\nReadStream.prototype.peekUpTo = function (str) {\r\n    var i = this.contents.indexOf(str, this.index);\r\n    return i === -1 ? '' : this.contents.slice(this.index, i);\r\n};\r\n\r\nReadStream.prototype.skipSpace = function () {\r\n    this.nonSpace.lastIndex = this.index;\r\n    var result = this.nonSpace.exec(this.contents);\r\n    if (result) this.index = result.index;\r\n};\r\n\r\nReadStream.prototype.word = function () {\r\n    this.nonWord.lastIndex = this.index;\r\n    var result = this.nonWord.exec(this.contents);\r\n    return result ? this.contents.slice(this.index, this.index = result.index) : '';\r\n};\r\n\r\n// XML_Element ///////////////////////////////////////////////////////////\r\n/*\r\n    I am a DOM-Node which can encode itself to as well as parse itself\r\n    from a well-formed XML string. Note that there is no separate parser\r\n    object, all the parsing can be done in a single object.\r\n*/\r\n\r\n// XML_Element inherits from Node:\r\n\r\nXML_Element.prototype = Object.create(Node.prototype);\r\nXML_Element.prototype.constructor = XML_Element;\r\nXML_Element.uber = Node.prototype;\r\n\r\n// XML_Element preferences settings:\r\n\r\nXML_Element.prototype.indentation = '  ';\r\n\r\n// XML_Element instance creation:\r\n\r\nfunction XML_Element(tag, contents, parent) {\r\n    this.init(tag, contents, parent);\r\n}\r\n\r\nXML_Element.prototype.init = function (tag, contents, parent) {\r\n    // additional properties:\r\n    this.tag = tag || 'unnamed';\r\n    this.attributes = {};\r\n    this.contents = contents || '';\r\n\r\n    // initialize inherited properties:\r\n    XML_Element.uber.init.call(this);\r\n\r\n    // override inherited properties\r\n    if (parent) parent.addChild(this);\r\n};\r\n\r\n// XML_Element DOM navigation: (aside from what's inherited from Node)\r\n\r\nXML_Element.prototype.require = function (tagName) {\r\n    // answer the first direct child with the specified tagName, or throw\r\n    // an error if it doesn't exist\r\n    var child = this.childNamed(tagName);\r\n    if (!child) {\r\n        throw new Error('Missing required element <' + tagName + '>!');\r\n    }\r\n    return child;\r\n};\r\n\r\nXML_Element.prototype.childNamed = function (tagName) {\r\n    // answer the first direct child with the specified tagName, or null\r\n    return detect(\r\n        this.children,\r\n        function (child) {return child.tag === tagName; }\r\n    );\r\n};\r\n\r\nXML_Element.prototype.childrenNamed = function (tagName) {\r\n    // answer all direct children with the specified tagName\r\n    return this.children.filter(\r\n        function (child) {return child.tag === tagName; }\r\n    );\r\n};\r\n\r\nXML_Element.prototype.parentNamed = function (tagName) {\r\n    // including myself\r\n    if (this.tag === tagName) {\r\n        return this;\r\n    }\r\n    if (!this.parent) {\r\n        return null;\r\n    }\r\n    return this.parent.parentNamed(tagName);\r\n};\r\n\r\n// XML_Element output:\r\n\r\nXML_Element.prototype.toString = function (isFormatted, indentationLevel) {\r\n    var result = '',\r\n        indent = '',\r\n        level = indentationLevel || 0,\r\n        key,\r\n        i;\r\n\r\n    // spaces for indentation, if any\r\n    if (isFormatted) {\r\n        for (i = 0; i < level; i += 1) {\r\n            indent += this.indentation;\r\n        }\r\n        result += indent;\r\n    }\r\n\r\n    // opening tag\r\n    result += ('<' + this.tag);\r\n\r\n    // attributes, if any\r\n    for (key in this.attributes) {\r\n        if (Object.prototype.hasOwnProperty.call(this.attributes, key)\r\n                && this.attributes[key]) {\r\n            result += ' ' + key + '=\"' + this.escape(this.attributes[key]) + '\"';\r\n        }\r\n    }\r\n\r\n    // contents, subnodes, and closing tag\r\n    if (!this.contents.length && !this.children.length) {\r\n        result += '/>';\r\n    } else {\r\n        result += '>';\r\n        result += this.escape(this.contents);\r\n        this.children.forEach(function (element) {\r\n            if (isFormatted) {\r\n                result += '\\n';\r\n            }\r\n            result += element.toString(isFormatted, level + 1);\r\n        });\r\n        if (isFormatted && this.children.length) {\r\n            result += ('\\n' + indent);\r\n        }\r\n        result += '</' + this.tag + '>';\r\n    }\r\n    return result;\r\n};\r\n\r\nXML_Element.prototype.escape = function (string, ignoreQuotes) {\r\n    var src = isNil(string) ? '' : string.toString(),\r\n        result = '',\r\n        i,\r\n        ch;\r\n    for (i = 0; i < src.length; i += 1) {\r\n        ch = src[i];\r\n        switch (ch) {\r\n        case '\\'':\r\n            result += '&apos;';\r\n            break;\r\n        case '\\\"':\r\n            result += ignoreQuotes ? ch : '&quot;';\r\n            break;\r\n        case '<':\r\n            result += '&lt;';\r\n            break;\r\n        case '>':\r\n            result += '&gt;';\r\n            break;\r\n        case '&':\r\n            result += '&amp;';\r\n            break;\r\n        case '\\n': // escape CR b/c of export to URL feature\r\n            result += '&#xD;';\r\n            break;\r\n        case '~': // escape tilde b/c it's overloaded in serializer.store()\r\n            result += '&#126;';\r\n            break;\r\n        default:\r\n            result += ch;\r\n        }\r\n    }\r\n    return result;\r\n};\r\n\r\nXML_Element.prototype.unescape = function (string) {\r\n    return string.replace(/&(amp|apos|quot|lt|gt|#xD|#126);/g, function(_, name) {\r\n        switch (name) {\r\n            case 'amp': return '&';\r\n            case 'apos': return '\\'';\r\n            case 'quot': return '\"';\r\n            case 'lt': return '<';\r\n            case 'gt': return '>';\r\n            case '#xD': return '\\n';\r\n            case '#126': return '~';\r\n            default: console.warn('unreachable');\r\n        }\r\n    });\r\n};\r\n\r\n// XML_Element parsing:\r\n\r\nXML_Element.prototype.parseString = function (string) {\r\n    var stream = new ReadStream(string);\r\n    stream.upTo('<');\r\n    stream.skip();\r\n    this.parseStream(stream);\r\n};\r\n\r\nXML_Element.prototype.parseStream = function (stream) {\r\n    var key, value, ch, child;\r\n\r\n    // tag:\r\n    this.tag = stream.word();\r\n    stream.skipSpace();\r\n\r\n    // attributes:\r\n    ch = stream.peek();\r\n    while (ch !== '>' && ch !== '/') {\r\n        key = stream.word();\r\n        stream.skipSpace();\r\n        if (stream.next() !== '=') {\r\n            throw new Error('Expected \"=\" after attribute name');\r\n        }\r\n        stream.skipSpace();\r\n        ch = stream.next();\r\n        if (ch !== '\"' && ch !== \"'\") {\r\n            throw new Error('Expected single- or double-quoted attribute value');\r\n        }\r\n        value = stream.upTo(ch);\r\n        stream.skip(1);\r\n        stream.skipSpace();\r\n        this.attributes[key] = this.unescape(value);\r\n        ch = stream.peek();\r\n    }\r\n\r\n    // empty tag:\r\n    if (ch === '/') {\r\n        stream.skip();\r\n        if (stream.next() !== '>') {\r\n            throw new Error('Expected \">\" after \"/\" in empty tag');\r\n        }\r\n        return;\r\n    }\r\n    if (stream.next() !== '>') {\r\n        throw new Error('Expected \">\" after tag name and attributes');\r\n    }\r\n\r\n    // contents and children\r\n    while (!stream.atEnd()) {\r\n        ch = stream.next();\r\n        if (ch === '<') {\r\n            if (stream.peek() === '/') { // closing tag\r\n                stream.skip();\r\n                if (stream.word() !== this.tag) {\r\n                    throw new Error('Expected to close ' + this.tag);\r\n                }\r\n                stream.upTo('>');\r\n                stream.skip();\r\n                this.contents = this.unescape(this.contents);\r\n                return;\r\n            }\r\n            child = new XML_Element(null, null, this);\r\n            child.parseStream(stream);\r\n        } else {\r\n            this.contents += ch;\r\n        }\r\n    }\r\n};\r\n//fin de xml\r\n/*\r\n\r\n    store.js\r\n\r\n    saving and loading Snap! projects\r\n\r\n    written by Jens Mönig\r\n    jens@moenig.org\r\n\r\n    Copyright (C) 2017 by Jens Mönig\r\n\r\n    This file is part of Snap!.\r\n\r\n    Snap! is free software: you can redistribute it and/or modify\r\n    it under the terms of the GNU Affero General Public License as\r\n    published by the Free Software Foundation, either version 3 of\r\n    the License, or (at your option) any later version.\r\n\r\n    This program is distributed in the hope that it will be useful,\r\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n    GNU Affero General Public License for more details.\r\n\r\n    You should have received a copy of the GNU Affero General Public License\r\n    along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n\r\n\r\n    prerequisites:\r\n    --------------\r\n    needs morphic.js, xml.js, and most of Snap!'s other modules\r\n\r\n\r\n    hierarchy\r\n    ---------\r\n    the following tree lists all constructors hierarchically,\r\n    indentation indicating inheritance. Refer to this list to get a\r\n    contextual overview:\r\n\r\n        XML_Serializer\r\n            SnapSerializer\r\n\r\n\r\n    credits\r\n    -------\r\n    Nathan Dinsmore contributed to the design and implemented a first\r\n    working version of a complete XMLSerializer. I have taken much of the\r\n    overall design and many of the functions and methods in this file from\r\n    Nathan's fine original prototype.\r\n\r\n*/\r\n\r\n/*global modules, XML_Element, VariableFrame, StageMorph, SpriteMorph,\r\nWatcherMorph, Point, CustomBlockDefinition, Context, ReporterBlockMorph,\r\nCommandBlockMorph, detect, CustomCommandBlockMorph, CustomReporterBlockMorph,\r\nColor, List, newCanvas, Costume, Sound, Audio, IDE_Morph, ScriptsMorph,\r\nBlockMorph, ArgMorph, InputSlotMorph, TemplateSlotMorph, CommandSlotMorph,\r\nFunctionSlotMorph, MultiArgMorph, ColorSlotMorph, nop, CommentMorph, isNil,\r\nlocalize, sizeOf, ArgLabelMorph, SVG_Costume, MorphicPreferences,\r\nSyntaxElementMorph, Variable, isSnapObject, console, BooleanSlotMorph,\r\nnormalizeCanvas, contains*/\r\n\r\n// Global stuff ////////////////////////////////////////////////////////\r\n\r\nmodules.store = '2017-December-01';\r\n\r\n\r\n// XML_Serializer ///////////////////////////////////////////////////////\r\n/*\r\n    I am an abstract protype for my heirs.\r\n\r\n    I manage object identities and keep track of circular data structures.\r\n    Objects are \"touched\" and a property named \"serializationID\" is added\r\n    to each, representing an index integer in the list, starting with 1.\r\n*/\r\n\r\n// XML_Serializer instance creation:\r\n\r\nfunction XML_Serializer() {\r\n    this.contents = [];\r\n    this.media = [];\r\n    this.isCollectingMedia = false;\r\n    this.isExportingBlocksLibrary = false;\r\n}\r\n\r\n// XML_Serializer preferences settings:\r\n\r\nXML_Serializer.prototype.idProperty = 'serializationID';\r\nXML_Serializer.prototype.mediaIdProperty = 'serializationMediaID';\r\nXML_Serializer.prototype.mediaDetectionProperty = 'isMedia';\r\nXML_Serializer.prototype.version = 1; // increment on structural change\r\n\r\n// XML_Serializer accessing:\r\n\r\nXML_Serializer.prototype.serialize = function (object, forBlocksLibrary) {\r\n    // public: answer an XML string representing the given object\r\n    var xml;\r\n    this.flush(); // in case an error occurred in an earlier attempt\r\n    this.flushMedia();\r\n    this.isExportingBlocksLibrary = forBlocksLibrary;\r\n    xml = this.store(object);\r\n    this.flush();\r\n    return xml;\r\n};\r\n\r\nXML_Serializer.prototype.store = function (object, mediaID) {\r\n    // private - mediaID is optional\r\n    if (isNil(object) || !object.toXML) {\r\n        // unsupported type, to be checked before calling store()\r\n        // when debugging, be sure to throw an error at this point\r\n        return '';\r\n    }\r\n    if (this.isCollectingMedia && object[this.mediaDetectionProperty]) {\r\n        this.addMedia(object, mediaID);\r\n        return this.format(\r\n            '<ref mediaID=\"@\"></ref>',\r\n            object[this.mediaIdProperty]\r\n        );\r\n    }\r\n    if (object[this.idProperty]) {\r\n        return this.format('<ref id=\"@\"></ref>', object[this.idProperty]);\r\n    }\r\n    this.add(object);\r\n    return object.toXML(this, mediaID).replace(\r\n        '~',\r\n        this.format('id=\"@\"', object[this.idProperty])\r\n    );\r\n};\r\n\r\nXML_Serializer.prototype.mediaXML = function () {\r\n    // answer a project's collected media module as XML\r\n    var xml = '<media>',\r\n        myself = this;\r\n    this.media.forEach(function (object) {\r\n        var str = object.toXML(myself).replace(\r\n            '~',\r\n            myself.format('mediaID=\"@\"', object[myself.mediaIdProperty])\r\n        );\r\n        xml = xml + str;\r\n    });\r\n    return xml + '</media>';\r\n};\r\n\r\nXML_Serializer.prototype.add = function (object) {\r\n    // private - mark the object with a serializationID property and add it\r\n    if (object[this.idProperty]) { // already present\r\n        return -1;\r\n    }\r\n    this.contents.push(object);\r\n    object[this.idProperty] = this.contents.length;\r\n    return this.contents.length;\r\n};\r\n\r\nXML_Serializer.prototype.addMedia = function (object, mediaID) {\r\n    // private - mark the object with a serializationMediaID property\r\n    // and add it to media\r\n    // if a mediaID is given, take it, otherwise generate one\r\n    if (object[this.mediaIdProperty]) { // already present\r\n        return -1;\r\n    }\r\n    this.media.push(object);\r\n    if (mediaID) {\r\n        object[this.mediaIdProperty] = mediaID + '_' + object.name;\r\n    } else {\r\n        object[this.mediaIdProperty] = this.media.length;\r\n    }\r\n    return this.media.length;\r\n};\r\n\r\nXML_Serializer.prototype.at = function (integer) {\r\n    // private\r\n    return this.contents[integer - 1];\r\n};\r\n\r\nXML_Serializer.prototype.flush = function () {\r\n    // private - free all objects and empty my contents\r\n    var myself = this;\r\n    this.contents.forEach(function (obj) {\r\n        delete obj[myself.idProperty];\r\n    });\r\n    this.contents = [];\r\n};\r\n\r\nXML_Serializer.prototype.flushMedia = function () {\r\n    // private - free all media objects and empty my media\r\n    var myself = this;\r\n    if (this.media instanceof Array) {\r\n        this.media.forEach(function (obj) {\r\n            delete obj[myself.mediaIdProperty];\r\n        });\r\n    }\r\n    this.media = [];\r\n    this.isExportingBlocksLibrary = false;\r\n};\r\n\r\n// XML_Serializer formatting:\r\n\r\nXML_Serializer.prototype.escape = XML_Element.prototype.escape;\r\nXML_Serializer.prototype.unescape = XML_Element.prototype.unescape;\r\n\r\n\r\nXML_Serializer.prototype.format = function (string) {\r\n    // private\r\n    var myself = this,\r\n        i = -1,\r\n        values = arguments,\r\n        value;\r\n\r\n    return string.replace(/[@$%]([\\d]+)?/g, function (spec, index) {\r\n        index = parseInt(index, 10);\r\n\r\n        if (isNaN(index)) {\r\n            i += 1;\r\n            value = values[i + 1];\r\n        } else {\r\n            value = values[index + 1];\r\n        }\r\n        // original line of code - now frowned upon by JSLint:\r\n        // value = values[(isNaN(index) ? (i += 1) : index) + 1];\r\n\r\n        return spec === '@' ?\r\n                myself.escape(value)\r\n                    : spec === '$' ?\r\n                        myself.escape(value, true)\r\n                            : value;\r\n    });\r\n};\r\n\r\n// XML_Serializer loading:\r\n\r\nXML_Serializer.prototype.load = function (xmlString) {\r\n    // public - answer a new object which is represented by the given\r\n    // XML string.\r\n    nop(xmlString);\r\n    throw new Error(\r\n        'loading should be implemented in heir of XML_Serializer'\r\n    );\r\n};\r\n\r\nXML_Serializer.prototype.parse = function (xmlString) {\r\n    // private - answer an XML_Element representing the given XML String\r\n    var element = new XML_Element();\r\n    element.parseString(xmlString);\r\n    return element;\r\n};\r\n\r\n// SnapSerializer ////////////////////////////////////////////////////////////\r\n\r\nvar SnapSerializer;\r\n\r\n// SnapSerializer inherits from XML_Serializer:\r\n\r\nSnapSerializer.prototype = new XML_Serializer();\r\nSnapSerializer.prototype.constructor = SnapSerializer;\r\nSnapSerializer.uber = XML_Serializer.prototype;\r\n\r\n// SnapSerializer constants:\r\n\r\nSnapSerializer.prototype.app = 'Snap! 4.1, http://snap.berkeley.edu';\r\n\r\nSnapSerializer.prototype.thumbnailSize = new Point(160, 120);\r\n\r\nSnapSerializer.prototype.watcherLabels = {\r\n    xPosition: 'x position',\r\n    yPosition: 'y position',\r\n    direction: 'direction',\r\n    getScale: 'size',\r\n    getTempo: 'tempo',\r\n    getLastAnswer: 'answer',\r\n    getLastMessage: 'message',\r\n    getTimer: 'timer',\r\n    getCostumeIdx: 'costume #',\r\n    reportMouseX: 'mouse x',\r\n    reportMouseY: 'mouse y',\r\n    reportThreadCount: 'processes'\r\n};\r\n\r\n// SnapSerializer instance creation:\r\n\r\nfunction SnapSerializer() {\r\n    this.init();\r\n}\r\n\r\n// SnapSerializer initialization:\r\n\r\nSnapSerializer.prototype.init = function () {\r\n    this.project = {};\r\n    this.objects = {};\r\n    this.mediaDict = {};\r\n};\r\n\r\n// SnapSerializer saving:\r\n\r\nXML_Serializer.prototype.mediaXML = function (name) {\r\n    // under construction....\r\n    var xml = '<media name=\"' +\r\n            (name || 'untitled') +\r\n            '\" app=\"' + this.app +\r\n            '\" version=\"' +\r\n            this.version +\r\n            '\">',\r\n        myself = this;\r\n    this.media.forEach(function (object) {\r\n        var str = object.toXML(myself).replace(\r\n            '~',\r\n            myself.format('mediaID=\"@\"', object[myself.mediaIdProperty])\r\n        );\r\n        xml = xml + str;\r\n    });\r\n    return xml + '</media>';\r\n};\r\n\r\n// SnapSerializer loading:\r\n\r\nSnapSerializer.prototype.load = function (xmlString, ide) {\r\n    // public - answer a new Project represented by the given XML String\r\n    return this.loadProjectModel(this.parse(xmlString), ide);\r\n};\r\n\r\nSnapSerializer.prototype.loadProjectModel = function (xmlNode, ide) {\r\n    // public - answer a new Project represented by the given XML top node\r\n    // show a warning if the origin apps differ\r\n\r\n    var appInfo = xmlNode.attributes.app,\r\n        app = appInfo ? appInfo.split(' ')[0] : null;\r\n\r\n    if (ide && app && app !== this.app.split(' ')[0]) {\r\n        ide.inform(\r\n            app + ' Project',\r\n            'This project has been created by a different app:\\n\\n' +\r\n                app +\r\n                '\\n\\nand may be incompatible or fail to load here.'\r\n        );\r\n    }\r\n    return this.rawLoadProjectModel(xmlNode);\r\n};\r\n\r\nSnapSerializer.prototype.rawLoadProjectModel = function (xmlNode) {\r\n    // private\r\n    var myself = this,\r\n        project = {sprites: {}},\r\n        model,\r\n        nameID;\r\n\r\n    this.project = project;\r\n\r\n    model = {project: xmlNode };\r\n    if (+xmlNode.attributes.version > this.version) {\r\n        throw 'Project uses newer version of Serializer';\r\n    }\r\n\r\n    /* Project Info */\r\n\r\n    this.objects = {};\r\n    project.name = model.project.attributes.name;\r\n    if (!project.name) {\r\n        nameID = 1;\r\n        while (\r\n            Object.prototype.hasOwnProperty.call(\r\n                localStorage,\r\n                '-snap-project-Untitled ' + nameID\r\n            )\r\n        ) {\r\n            nameID += 1;\r\n        }\r\n        project.name = 'Untitled ' + nameID;\r\n    }\r\n    model.notes = model.project.childNamed('notes');\r\n    if (model.notes) {\r\n        project.notes = model.notes.contents;\r\n    }\r\n    model.globalVariables = model.project.childNamed('variables');\r\n    project.globalVariables = new VariableFrame();\r\n\r\n    /* Stage */\r\n\r\n    model.stage = model.project.require('stage');\r\n    StageMorph.prototype.frameRate = 0;\r\n    project.stage = new StageMorph(project.globalVariables);\r\n    if (Object.prototype.hasOwnProperty.call(\r\n            model.stage.attributes,\r\n            'id'\r\n        )) {\r\n        this.objects[model.stage.attributes.id] = project.stage;\r\n    }\r\n    if (model.stage.attributes.name) {\r\n        project.stage.name = model.stage.attributes.name;\r\n    }\r\n    if (model.stage.attributes.scheduled === 'true') {\r\n        project.stage.fps = 30;\r\n        StageMorph.prototype.frameRate = 30;\r\n    }\r\n    model.pentrails = model.stage.childNamed('pentrails');\r\n    if (model.pentrails) {\r\n        project.pentrails = new Image();\r\n        project.pentrails.onload = function () {\r\n            if (project.stage.trailsCanvas) { // work-around a bug in FF\r\n                normalizeCanvas(project.stage.trailsCanvas);\r\n                var context = project.stage.trailsCanvas.getContext('2d');\r\n                context.drawImage(project.pentrails, 0, 0);\r\n                project.stage.changed();\r\n            }\r\n        };\r\n        project.pentrails.src = model.pentrails.contents;\r\n    }\r\n    project.stage.setTempo(model.stage.attributes.tempo);\r\n    StageMorph.prototype.dimensions = new Point(480, 360);\r\n    if (model.stage.attributes.width) {\r\n        StageMorph.prototype.dimensions.x =\r\n            Math.max(+model.stage.attributes.width, 240);\r\n    }\r\n    if (model.stage.attributes.height) {\r\n        StageMorph.prototype.dimensions.y =\r\n            Math.max(+model.stage.attributes.height, 180);\r\n    }\r\n    project.stage.setExtent(StageMorph.prototype.dimensions);\r\n    SpriteMorph.prototype.useFlatLineEnds =\r\n        model.stage.attributes.lines === 'flat';\r\n    BooleanSlotMorph.prototype.isTernary =\r\n        model.stage.attributes.ternary !== 'false';\r\n    project.stage.isThreadSafe =\r\n        model.stage.attributes.threadsafe === 'true';\r\n    StageMorph.prototype.enableCodeMapping =\r\n        model.stage.attributes.codify === 'true';\r\n    StageMorph.prototype.enableInheritance =\r\n        model.stage.attributes.inheritance !== 'false';\r\n    StageMorph.prototype.enableSublistIDs =\r\n        model.stage.attributes.sublistIDs === 'true';\r\n\r\n    model.hiddenPrimitives = model.project.childNamed('hidden');\r\n    if (model.hiddenPrimitives) {\r\n        model.hiddenPrimitives.contents.split(' ').forEach(\r\n            function (sel) {\r\n                if (sel) {\r\n                    StageMorph.prototype.hiddenPrimitives[sel] = true;\r\n                }\r\n            }\r\n        );\r\n    }\r\n\r\n    model.codeHeaders = model.project.childNamed('headers');\r\n    if (model.codeHeaders) {\r\n        model.codeHeaders.children.forEach(function (xml) {\r\n            StageMorph.prototype.codeHeaders[xml.tag] = xml.contents;\r\n        });\r\n    }\r\n\r\n    model.codeMappings = model.project.childNamed('code');\r\n    if (model.codeMappings) {\r\n        model.codeMappings.children.forEach(function (xml) {\r\n            StageMorph.prototype.codeMappings[xml.tag] = xml.contents;\r\n        });\r\n    }\r\n\r\n    model.globalBlocks = model.project.childNamed('blocks');\r\n    if (model.globalBlocks) {\r\n        this.loadCustomBlocks(project.stage, model.globalBlocks, true);\r\n        this.populateCustomBlocks(\r\n            project.stage,\r\n            model.globalBlocks,\r\n            true\r\n        );\r\n    }\r\n    this.loadObject(project.stage, model.stage);\r\n\r\n    /* Sprites */\r\n\r\n    model.sprites = model.stage.require('sprites');\r\n    project.sprites[project.stage.name] = project.stage;\r\n\r\n    model.sprites.childrenNamed('sprite').forEach(function (model) {\r\n        myself.loadValue(model);\r\n    });\r\n\r\n    // restore inheritance and nesting associations\r\n    myself.project.stage.children.forEach(function (sprite) {\r\n        var exemplar, anchor;\r\n        if (sprite.inheritanceInfo) { // only sprites can inherit\r\n            exemplar = myself.project.sprites[\r\n                sprite.inheritanceInfo.exemplar\r\n            ];\r\n            if (exemplar) {\r\n                sprite.setExemplar(exemplar);\r\n            }\r\n            sprite.inheritedAttributes = sprite.inheritanceInfo.delegated || [];\r\n        }\r\n        if (sprite.nestingInfo) { // only sprites may have nesting info\r\n            anchor = myself.project.sprites[sprite.nestingInfo.anchor];\r\n            if (anchor) {\r\n                anchor.attachPart(sprite);\r\n            }\r\n            sprite.rotatesWithAnchor = (sprite.nestingInfo.synch === 'true');\r\n        }\r\n    });\r\n    myself.project.stage.children.forEach(function (sprite) {\r\n        var costume;\r\n        if (sprite.nestingInfo) { // only sprites may have nesting info\r\n            sprite.nestingScale = +(sprite.nestingInfo.scale || sprite.scale);\r\n            delete sprite.nestingInfo;\r\n        }\r\n        ['scripts', 'costumes', 'sounds'].forEach(function (att) {\r\n            if (sprite.inheritsAttribute(att)) {\r\n                sprite.refreshInheritedAttribute(att);\r\n            }\r\n        });\r\n        if (sprite.inheritsAttribute('costumes')) {\r\n            costume = sprite.costumes.asArray()[\r\n                sprite.inheritanceInfo.costumeNumber - 1\r\n            ];\r\n            if (costume) {\r\n                if (costume.loaded) {\r\n                    sprite.wearCostume(costume, true);\r\n                } else {\r\n                    costume.loaded = function () {\r\n                        sprite.wearCostume(costume, true);\r\n                        this.loaded = true;\r\n                    };\r\n                }\r\n            }\r\n        }\r\n        delete sprite.inheritanceInfo;\r\n    });\r\n\r\n    /* Global Variables */\r\n\r\n    if (model.globalVariables) {\r\n        this.loadVariables(\r\n            project.globalVariables,\r\n            model.globalVariables\r\n        );\r\n    }\r\n\r\n    this.objects = {};\r\n\r\n    /* Watchers */\r\n\r\n    model.sprites.childrenNamed('watcher').forEach(function (model) {\r\n        var watcher, color, target, hidden, extX, extY;\r\n\r\n        color = myself.loadColor(model.attributes.color);\r\n        target = Object.prototype.hasOwnProperty.call(\r\n            model.attributes,\r\n            'scope'\r\n        ) ? project.sprites[model.attributes.scope] : null;\r\n\r\n        // determine whether the watcher is hidden, slightly\r\n        // complicated to retain backward compatibility\r\n        // with former tag format: hidden=\"hidden\"\r\n        // now it's: hidden=\"true\"\r\n        hidden = Object.prototype.hasOwnProperty.call(\r\n            model.attributes,\r\n            'hidden'\r\n        ) && (model.attributes.hidden !== 'false');\r\n\r\n        if (Object.prototype.hasOwnProperty.call(\r\n                model.attributes,\r\n                'var'\r\n            )) {\r\n            watcher = new WatcherMorph(\r\n                model.attributes['var'],\r\n                color,\r\n                isNil(target) ? project.globalVariables\r\n                    : target.variables,\r\n                model.attributes['var'],\r\n                hidden\r\n            );\r\n        } else {\r\n            watcher = new WatcherMorph(\r\n                localize(myself.watcherLabels[model.attributes.s]),\r\n                color,\r\n                target,\r\n                model.attributes.s,\r\n                hidden\r\n            );\r\n        }\r\n        watcher.setStyle(model.attributes.style || 'normal');\r\n        if (watcher.style === 'slider') {\r\n            watcher.setSliderMin(model.attributes.min || '1', true);\r\n            watcher.setSliderMax(model.attributes.max || '100', true);\r\n        }\r\n        watcher.setPosition(\r\n            project.stage.topLeft().add(new Point(\r\n                +model.attributes.x || 0,\r\n                +model.attributes.y || 0\r\n            ))\r\n        );\r\n        project.stage.add(watcher);\r\n        watcher.onNextStep = function () {this.currentValue = null; };\r\n\r\n        // set watcher's contentsMorph's extent if it is showing a list and\r\n        // its monitor dimensions are given\r\n        if (watcher.currentValue instanceof List) {\r\n            extX = model.attributes.extX;\r\n            if (extX) {\r\n                watcher.cellMorph.contentsMorph.setWidth(+extX);\r\n            }\r\n            extY = model.attributes.extY;\r\n            if (extY) {\r\n                watcher.cellMorph.contentsMorph.setHeight(+extY);\r\n            }\r\n            // adjust my contentsMorph's handle position\r\n            watcher.cellMorph.contentsMorph.handle.drawNew();\r\n        }\r\n    });\r\n\r\n    // clear sprites' inherited methods caches, if any\r\n    myself.project.stage.children.forEach(function (sprite) {\r\n        sprite.inheritedMethodsCache = [];\r\n    });\r\n\r\n    this.objects = {};\r\n    return project;\r\n};\r\n\r\nSnapSerializer.prototype.loadBlocks = function (xmlString, targetStage) {\r\n    // public - answer a new Array of custom block definitions\r\n    // represented by the given XML String\r\n    var stage = new StageMorph(),\r\n        model;\r\n\r\n    this.project = {\r\n        stage: stage,\r\n        sprites: {},\r\n        targetStage: targetStage // for secondary custom block def look-up\r\n    };\r\n    model = this.parse(xmlString);\r\n    if (+model.attributes.version > this.version) {\r\n        throw 'Module uses newer version of Serializer';\r\n    }\r\n    this.loadCustomBlocks(stage, model, true);\r\n    this.populateCustomBlocks(\r\n        stage,\r\n        model,\r\n        true\r\n    );\r\n    this.objects = {};\r\n    stage.globalBlocks.forEach(function (def) {\r\n        def.receiver = null;\r\n    });\r\n    this.objects = {};\r\n    this.project = {};\r\n    this.mediaDict = {};\r\n    return stage.globalBlocks;\r\n};\r\n\r\nSnapSerializer.prototype.loadSprites = function (xmlString, ide) {\r\n    // public - import a set of sprites represented by xmlString\r\n    // into the current project of the ide\r\n    var model, project, myself = this;\r\n\r\n    project = this.project = {\r\n        globalVariables: ide.globalVariables,\r\n        stage: ide.stage,\r\n        sprites: {}\r\n    };\r\n    project.sprites[project.stage.name] = project.stage;\r\n\r\n    model = this.parse(xmlString);\r\n    if (+model.attributes.version > this.version) {\r\n        throw 'Module uses newer version of Serializer';\r\n    }\r\n    model.childrenNamed('sprite').forEach(function (model) {\r\n        var sprite  = new SpriteMorph(project.globalVariables);\r\n\r\n        if (model.attributes.id) {\r\n            myself.objects[model.attributes.id] = sprite;\r\n        }\r\n        if (model.attributes.name) {\r\n            sprite.name = ide.newSpriteName(model.attributes.name);\r\n            project.sprites[sprite.name] = sprite;\r\n        }\r\n        if (model.attributes.color) {\r\n            sprite.color = myself.loadColor(model.attributes.color);\r\n        }\r\n        if (model.attributes.pen) {\r\n            sprite.penPoint = model.attributes.pen;\r\n        }\r\n        project.stage.add(sprite);\r\n        ide.sprites.add(sprite);\r\n        sprite.scale = parseFloat(model.attributes.scale || '1');\r\n        sprite.rotationStyle = parseFloat(\r\n            model.attributes.rotation || '1'\r\n        );\r\n        sprite.isDraggable = model.attributes.draggable !== 'false';\r\n        sprite.isVisible = model.attributes.hidden !== 'true';\r\n        sprite.heading = parseFloat(model.attributes.heading) || 0;\r\n        sprite.drawNew();\r\n        sprite.gotoXY(+model.attributes.x || 0, +model.attributes.y || 0);\r\n        myself.loadObject(sprite, model);\r\n    });\r\n\r\n    // restore inheritance and nesting associations\r\n    project.stage.children.forEach(function (sprite) {\r\n        var exemplar, anchor;\r\n        if (sprite.inheritanceInfo) { // only sprites can inherit\r\n            exemplar = project.sprites[\r\n                sprite.inheritanceInfo.exemplar\r\n            ];\r\n            if (exemplar) {\r\n                sprite.setExemplar(exemplar);\r\n            }\r\n        }\r\n        if (sprite.nestingInfo) { // only sprites may have nesting info\r\n            anchor = project.sprites[sprite.nestingInfo.anchor];\r\n            if (anchor) {\r\n                anchor.attachPart(sprite);\r\n            }\r\n            sprite.rotatesWithAnchor = (sprite.nestingInfo.synch === 'true');\r\n        }\r\n    });\r\n    project.stage.children.forEach(function (sprite) {\r\n        delete sprite.inheritanceInfo;\r\n        if (sprite.nestingInfo) { // only sprites may have nesting info\r\n            sprite.nestingScale = +(sprite.nestingInfo.scale || sprite.scale);\r\n            delete sprite.nestingInfo;\r\n        }\r\n    });\r\n\r\n    this.objects = {};\r\n    this.project = {};\r\n    this.mediaDict = {};\r\n\r\n//    ide.stage.drawNew();\r\n    ide.createCorral();\r\n    ide.fixLayout();\r\n};\r\n\r\nSnapSerializer.prototype.loadMedia = function (xmlString) {\r\n    // public - load the media represented by xmlString into memory\r\n    // to be referenced by a media-less project later\r\n    return this.loadMediaModel(this.parse(xmlString));\r\n};\r\n\r\nSnapSerializer.prototype.loadMediaModel = function (xmlNode) {\r\n    // public - load the media represented by xmlNode into memory\r\n    // to be referenced by a media-less project later\r\n    var myself = this,\r\n        model = xmlNode;\r\n    this.mediaDict = {};\r\n    if (+model.attributes.version > this.version) {\r\n        throw 'Module uses newer version of Serializer';\r\n    }\r\n    model.children.forEach(function (model) {\r\n        myself.loadValue(model);\r\n    });\r\n    return this.mediaDict;\r\n};\r\n\r\nSnapSerializer.prototype.loadObject = function (object, model) {\r\n    // private\r\n    var blocks = model.require('blocks'),\r\n        dispatches = model.childNamed('dispatches');\r\n\r\n    // load the instrument\r\n    if (model.attributes.instrument) {\r\n        object.instrument = +model.attributes.instrument;\r\n    }\r\n\r\n    this.loadInheritanceInfo(object, model);\r\n    this.loadNestingInfo(object, model);\r\n\r\n    // load costumes unless they're inherited\r\n    if (!(object.inheritanceInfo &&\r\n            (object.inheritanceInfo.delegated instanceof Array) &&\r\n            contains(object.inheritanceInfo.delegated, 'costumes'))) {\r\n        this.loadCostumes(object, model);\r\n    }\r\n\r\n    // load sounds unless they're inherited\r\n    if (!(object.inheritanceInfo &&\r\n            (object.inheritanceInfo.delegated instanceof Array) &&\r\n            contains(object.inheritanceInfo.delegated, 'sounds'))) {\r\n        this.loadSounds(object, model);\r\n    }\r\n\r\n    this.loadCustomBlocks(object, blocks);\r\n    if (dispatches) {\r\n        this.loadCustomBlocks(object, dispatches, false, true);\r\n    }\r\n    this.populateCustomBlocks(object, blocks);\r\n    this.loadVariables(object.variables, model.require('variables'), object);\r\n\r\n    // load scripts unless they're inherited\r\n    if (!(object.inheritanceInfo &&\r\n            (object.inheritanceInfo.delegated instanceof Array) &&\r\n            contains(object.inheritanceInfo.delegated, 'scripts'))) {\r\n        this.loadScripts(object, object.scripts, model.require('scripts'));\r\n    }\r\n\r\n    // note: the dispatches cache isn't cleared until after\r\n    // *all* objects are loaded\r\n};\r\n\r\nSnapSerializer.prototype.loadInheritanceInfo = function (object, model) {\r\n    // private\r\n    var info = model.childNamed('inherit'),\r\n        delegated;\r\n    if (info) {\r\n        object.inheritanceInfo = info.attributes;\r\n        delegated = info.childNamed('list');\r\n        if (delegated) {\r\n            object.inheritanceInfo.delegated =\r\n                this.loadValue(delegated).asArray();\r\n        }\r\n        object.inheritanceInfo.costumeNumber = model.attributes.costume;\r\n    }\r\n};\r\n\r\nSnapSerializer.prototype.loadNestingInfo = function (object, model) {\r\n    // private\r\n    var info = model.childNamed('nest');\r\n    if (info) {\r\n        object.nestingInfo = info.attributes;\r\n    }\r\n};\r\n\r\nSnapSerializer.prototype.loadCostumes = function (object, model) {\r\n    // private\r\n    var costumes = model.childNamed('costumes'),\r\n        costume;\r\n    if (costumes) {\r\n        object.costumes = this.loadValue(costumes.require('list'));\r\n        object.costumes.type = 'costume';\r\n    }\r\n    if (Object.prototype.hasOwnProperty.call(\r\n            model.attributes,\r\n            'costume'\r\n        )) {\r\n        costume = object.costumes.asArray()[model.attributes.costume - 1];\r\n        if (costume) {\r\n            if (costume.loaded) {\r\n                object.wearCostume(costume, true);\r\n            } else {\r\n                costume.loaded = function () {\r\n                    object.wearCostume(costume, true);\r\n                    this.loaded = true;\r\n                };\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nSnapSerializer.prototype.loadSounds = function (object, model) {\r\n    // private\r\n    var sounds = model.childNamed('sounds');\r\n    if (sounds) {\r\n        object.sounds = this.loadValue(sounds.require('list'));\r\n        object.sounds.type = 'sound';\r\n    }\r\n};\r\n\r\nSnapSerializer.prototype.loadVariables = function (varFrame, element, object) {\r\n    // private\r\n    var myself = this;\r\n\r\n    element.children.forEach(function (child) {\r\n        var v, value;\r\n        if (child.tag !== 'variable') {\r\n            return;\r\n        }\r\n        value = child.children[0];\r\n        v = new Variable();\r\n        v.isTransient = (child.attributes.transient === 'true');\r\n        v.value = (v.isTransient || !value ) ? 0\r\n                : myself.loadValue(value, object);\r\n        varFrame.vars[child.attributes.name] = v;\r\n    });\r\n};\r\n\r\nSnapSerializer.prototype.loadCustomBlocks = function (\r\n    object,\r\n    element,\r\n    isGlobal,\r\n    isDispatch\r\n) {\r\n    // private\r\n    var myself = this;\r\n    element.children.forEach(function (child) {\r\n        var definition, names, inputs, vars, header, code, trans, comment, i;\r\n        if (child.tag !== 'block-definition') {\r\n            return;\r\n        }\r\n        definition = new CustomBlockDefinition(\r\n            child.attributes.s || '',\r\n            object\r\n        );\r\n        definition.category = child.attributes.category || 'other';\r\n        definition.type = child.attributes.type || 'command';\r\n        definition.isGlobal = (isGlobal === true);\r\n        if (isDispatch) {\r\n            object.inheritedMethodsCache.push(definition);\r\n        } else {\r\n            if (definition.isGlobal) {\r\n                object.globalBlocks.push(definition);\r\n            } else {\r\n                object.customBlocks.push(definition);\r\n            }\r\n        }\r\n\r\n        names = definition.parseSpec(definition.spec).filter(\r\n            function (str) {\r\n                return str.charAt(0) === '%' && str.length > 1;\r\n            }\r\n        ).map(function (str) {\r\n            return str.substr(1);\r\n        });\r\n\r\n        definition.names = names;\r\n        inputs = child.childNamed('inputs');\r\n        if (inputs) {\r\n            i = -1;\r\n            inputs.children.forEach(function (child) {\r\n                var options = child.childNamed('options');\r\n                if (child.tag !== 'input') {\r\n                    return;\r\n                }\r\n                i += 1;\r\n                definition.declarations[names[i]] = [\r\n                    child.attributes.type,\r\n                    contains(['%b', '%boolUE'], child.attributes.type) ?\r\n                        (child.contents ? child.contents === 'true' : null)\r\n                            : child.contents,\r\n                    options ? options.contents : undefined,\r\n                    child.attributes.readonly === 'true'\r\n                ];\r\n            });\r\n        }\r\n\r\n        vars = child.childNamed('variables');\r\n        if (vars) {\r\n            definition.variableNames = myself.loadValue(\r\n                vars.require('list')\r\n            ).asArray();\r\n        }\r\n\r\n        header = child.childNamed('header');\r\n        if (header) {\r\n            definition.codeHeader = header.contents;\r\n        }\r\n\r\n        code = child.childNamed('code');\r\n        if (code) {\r\n            definition.codeMapping = code.contents;\r\n        }\r\n\r\n        trans = child.childNamed('translations');\r\n        if (trans) {\r\n            definition.updateTranslations(trans.contents);\r\n        }\r\n\r\n        comment = child.childNamed('comment');\r\n        if (comment) {\r\n            definition.comment = myself.loadComment(comment);\r\n        }\r\n    });\r\n};\r\n\r\nSnapSerializer.prototype.populateCustomBlocks = function (\r\n    object,\r\n    element,\r\n    isGlobal\r\n) {\r\n    // private\r\n    var myself = this;\r\n    element.children.forEach(function (child, index) {\r\n        var definition, script, scripts;\r\n        if (child.tag !== 'block-definition') {\r\n            return;\r\n        }\r\n        definition = isGlobal ? object.globalBlocks[index]\r\n                : object.customBlocks[index];\r\n        script = child.childNamed('script');\r\n        if (script) {\r\n            definition.body = new Context(\r\n                null,\r\n                script ? myself.loadScript(script, object) : null,\r\n                null,\r\n                object\r\n            );\r\n            definition.body.inputs = definition.names.slice(0);\r\n        }\r\n        scripts = child.childNamed('scripts');\r\n        if (scripts) {\r\n            definition.scripts = myself.loadScriptsArray(scripts, object);\r\n        }\r\n\r\n        delete definition.names;\r\n    });\r\n};\r\n\r\nSnapSerializer.prototype.loadScripts = function (object, scripts, model) {\r\n    // private\r\n    var myself = this,\r\n        scale = SyntaxElementMorph.prototype.scale;\r\n    scripts.cachedTexture = IDE_Morph.prototype.scriptsPaneTexture;\r\n    model.children.forEach(function (child) {\r\n        var element;\r\n        if (child.tag === 'script') {\r\n            element = myself.loadScript(child, object);\r\n            if (!element) {\r\n                return;\r\n            }\r\n            element.setPosition(new Point(\r\n                (+child.attributes.x || 0) * scale,\r\n                (+child.attributes.y || 0) * scale\r\n            ).add(scripts.topLeft()));\r\n            scripts.add(element);\r\n            element.fixBlockColor(null, true); // force zebra coloring\r\n            element.allComments().forEach(function (comment) {\r\n                comment.align(element);\r\n            });\r\n        } else if (child.tag === 'comment') {\r\n            element = myself.loadComment(child);\r\n            if (!element) {\r\n                return;\r\n            }\r\n            element.setPosition(new Point(\r\n                (+child.attributes.x || 0) * scale,\r\n                (+child.attributes.y || 0) * scale\r\n            ).add(scripts.topLeft()));\r\n            scripts.add(element);\r\n        }\r\n    });\r\n};\r\n\r\nSnapSerializer.prototype.loadScriptsArray = function (model, object) {\r\n    // private - answer an array containting the model's scripts\r\n    var myself = this,\r\n        scale = SyntaxElementMorph.prototype.scale,\r\n        scripts = [];\r\n    model.children.forEach(function (child) {\r\n        var element;\r\n        if (child.tag === 'script') {\r\n            element = myself.loadScript(child, object);\r\n            if (!element) {\r\n                return;\r\n            }\r\n            element.setPosition(new Point(\r\n                (+child.attributes.x || 0) * scale,\r\n                (+child.attributes.y || 0) * scale\r\n            ));\r\n            scripts.push(element);\r\n            element.fixBlockColor(null, true); // force zebra coloring\r\n        } else if (child.tag === 'comment') {\r\n            element = myself.loadComment(child);\r\n            if (!element) {\r\n                return;\r\n            }\r\n            element.setPosition(new Point(\r\n                (+child.attributes.x || 0) * scale,\r\n                (+child.attributes.y || 0) * scale\r\n            ));\r\n            scripts.push(element);\r\n        }\r\n    });\r\n    return scripts;\r\n};\r\n\r\nSnapSerializer.prototype.loadScript = function (model, object) {\r\n    // private\r\n    var topBlock, block, nextBlock,\r\n        myself = this;\r\n    model.children.forEach(function (child) {\r\n        nextBlock = myself.loadBlock(child, false, object);\r\n        if (!nextBlock) {\r\n            return;\r\n        }\r\n        if (block) {\r\n            if (block.nextBlock && (nextBlock instanceof CommandBlockMorph)) {\r\n                block.nextBlock(nextBlock);\r\n            } else {\r\n                console.log(\r\n                    'SNAP: expecting a command but getting a reporter:\\n' +\r\n                        '  ' + block.blockSpec + '\\n' +\r\n                        '  ' + nextBlock.blockSpec\r\n                );\r\n                return topBlock;\r\n            }\r\n        } else {\r\n            topBlock = nextBlock;\r\n        }\r\n        block = nextBlock;\r\n    });\r\n    return topBlock;\r\n};\r\n\r\nSnapSerializer.prototype.loadComment = function (model) {\r\n    // private\r\n    var comment = new CommentMorph(model.contents),\r\n        scale = SyntaxElementMorph.prototype.scale;\r\n    comment.isCollapsed = (model.attributes.collapsed === 'true');\r\n    comment.setTextWidth(+model.attributes.w * scale);\r\n    return comment;\r\n};\r\n\r\nSnapSerializer.prototype.loadBlock = function (model, isReporter, object) {\r\n    // private\r\n    var block, info, inputs, isGlobal, receiver, migration,\r\n        migrationOffset = 0;\r\n    if (model.tag === 'block') {\r\n        if (Object.prototype.hasOwnProperty.call(\r\n                model.attributes,\r\n                'var'\r\n            )) {\r\n            return SpriteMorph.prototype.variableBlock(\r\n                model.attributes['var']\r\n            );\r\n        }\r\n       \r\n        block = SpriteMorph.prototype.blockForSelector(model.attributes.s);\r\n        migration = SpriteMorph.prototype.blockMigrations[model.attributes.s];\r\n        if (migration) {\r\n            migrationOffset = migration.offset;\r\n        }\r\n    } else if (model.tag === 'custom-block') {\r\n        isGlobal = model.attributes.scope ? false : true;\r\n        receiver = isGlobal ? this.project.stage : object;\r\n        if (isGlobal) {\r\n            info = detect(receiver.globalBlocks, function (block) {\r\n                return block.blockSpec() === model.attributes.s;\r\n            });\r\n            if (!info && this.project.targetStage) { // importing block files\r\n                info = detect(\r\n                    this.project.targetStage.globalBlocks,\r\n                    function (block) {\r\n                        return block.blockSpec() === model.attributes.s;\r\n                    }\r\n                );\r\n            }\r\n        } else {\r\n            // lookup in inherited methods\r\n            info = detect(receiver.customBlocks, function (block) {\r\n                return block.blockSpec() === model.attributes.s;\r\n            }) || (\r\n            \treceiver.inheritedMethodsCache ?\r\n                \tdetect(receiver.inheritedMethodsCache, function (block) {\r\n                    \treturn block.blockSpec() === model.attributes.s;\r\n                \t})\r\n          \t\t: null\r\n          \t);\r\n        }\r\n        if (!info) {\r\n            return this.obsoleteBlock(isReporter);\r\n        }\r\n        block = info.type === 'command' ? new CustomCommandBlockMorph(\r\n            info,\r\n            false\r\n        ) : new CustomReporterBlockMorph(\r\n            info,\r\n            info.type === 'predicate',\r\n            false\r\n        );\r\n    }\r\n    if (block === null) {\r\n        block = this.obsoleteBlock(isReporter);\r\n    }\r\n    block.isDraggable = true;\r\n    inputs = block.inputs();\r\n    model.children.forEach(function (child, i) {\r\n        if (child.tag === 'variables') {\r\n            this.loadVariables(block.variables, child, object);\r\n        } else if (child.tag === 'comment') {\r\n            block.comment = this.loadComment(child);\r\n            block.comment.block = block;\r\n        } else if (child.tag === 'receiver') {\r\n            nop(); // ignore\r\n        } else {\r\n            this.loadInput(child, inputs[i + migrationOffset], block, object);\r\n        }\r\n    }, this);\r\n    block.cachedInputs = null;\r\n    return block;\r\n};\r\n\r\nSnapSerializer.prototype.obsoleteBlock = function (isReporter) {\r\n    // private\r\n    var block = isReporter ? new ReporterBlockMorph()\r\n            : new CommandBlockMorph();\r\n    block.selector = 'errorObsolete';\r\n    block.color = new Color(200, 0, 20);\r\n    block.setSpec('Obsolete!');\r\n    block.isDraggable = true;\r\n    return block;\r\n};\r\n\r\nSnapSerializer.prototype.loadInput = function (model, input, block, object) {\r\n    // private\r\n    var inp, val, myself = this;\r\n    if (isNil(input)) {\r\n        return;\r\n    }\r\n    if (model.tag === 'script') {\r\n        inp = this.loadScript(model, object);\r\n        if (inp) {\r\n            input.add(inp);\r\n            input.fixLayout();\r\n        }\r\n    } else if (model.tag === 'autolambda' && model.children[0]) {\r\n        inp = this.loadBlock(model.children[0], true, object);\r\n        if (inp) {\r\n            input.silentReplaceInput(input.children[0], inp);\r\n            input.fixLayout();\r\n        }\r\n    } else if (model.tag === 'list') {\r\n        while (input.inputs().length > 0) {\r\n            input.removeInput();\r\n        }\r\n        model.children.forEach(function (item) {\r\n            input.addInput();\r\n            myself.loadInput(\r\n                item,\r\n                input.children[input.children.length - 2],\r\n                input,\r\n                object\r\n            );\r\n        });\r\n        input.fixLayout();\r\n    } else if (model.tag === 'block' || model.tag === 'custom-block') {\r\n        block.silentReplaceInput(input, this.loadBlock(model, true, object));\r\n    } else if (model.tag === 'color') {\r\n        input.setColor(this.loadColor(model.contents));\r\n    } else {\r\n        val = this.loadValue(model);\r\n        if (!isNil(val) && !isNil(input) && input.setContents) {\r\n            // checking whether \"input\" is nil should not\r\n            // be necessary, but apparently is after retina support\r\n            // was added.\r\n            input.setContents(this.loadValue(model));\r\n        }\r\n    }\r\n};\r\n\r\nSnapSerializer.prototype.loadValue = function (model, object) {\r\n    // private\r\n    var v, i, lst, items, el, center, image, name, audio, option, bool, origin,\r\n        myself = this;\r\n\r\n    function record() {\r\n        if (Object.prototype.hasOwnProperty.call(\r\n                model.attributes,\r\n                'id'\r\n            )) {\r\n            myself.objects[model.attributes.id] = v;\r\n        }\r\n        if (Object.prototype.hasOwnProperty.call(\r\n                model.attributes,\r\n                'mediaID'\r\n            )) {\r\n            myself.mediaDict[model.attributes.mediaID] = v;\r\n        }\r\n    }\r\n\r\n    switch (model.tag) {\r\n    case 'ref':\r\n        if (Object.prototype.hasOwnProperty.call(model.attributes, 'id')) {\r\n            return this.objects[model.attributes.id];\r\n        }\r\n        if (Object.prototype.hasOwnProperty.call(\r\n                model.attributes,\r\n                'mediaID'\r\n            )) {\r\n            return this.mediaDict[model.attributes.mediaID];\r\n        }\r\n        throw new Error('expecting a reference id');\r\n    case 'l':\r\n        option = model.childNamed('option');\r\n        if (option) {\r\n            return [option.contents];\r\n        }\r\n        bool = model.childNamed('bool');\r\n        if (bool) {\r\n            return this.loadValue(bool);\r\n        }\r\n        return model.contents;\r\n    case 'bool':\r\n        return model.contents === 'true';\r\n    case 'list':\r\n        if (model.attributes.hasOwnProperty('linked')) {\r\n            v = new List();\r\n            v.isLinked = true;\r\n            record();\r\n            lst = v;\r\n            items = model.childrenNamed('item');\r\n            items.forEach(function (item, i) {\r\n                var value = item.children[0];\r\n                if (!value) {\r\n                    v.first = 0;\r\n                } else {\r\n                    v.first = myself.loadValue(value, object);\r\n                }\r\n                var tail = model.childNamed('list') ||\r\n                    model.childNamed('ref');\r\n                if (tail) {\r\n                    v.rest = myself.loadValue(tail, object);\r\n                } else {\r\n                    if (i < (items.length - 1)) {\r\n                        v.rest = new List();\r\n                        v = v.rest;\r\n                        v.isLinked = true;\r\n                    }\r\n                }\r\n            });\r\n            return lst;\r\n        }\r\n        v = new List();\r\n        record();\r\n        v.contents = model.childrenNamed('item').map(function (item) {\r\n            var value = item.children[0];\r\n            if (!value) {\r\n                return 0;\r\n            }\r\n            return myself.loadValue(value, object);\r\n        });\r\n        return v;\r\n    case 'sprite':\r\n        v  = new SpriteMorph(myself.project.globalVariables);\r\n        if (model.attributes.id) {\r\n            myself.objects[model.attributes.id] = v;\r\n        }\r\n        if (model.attributes.name) {\r\n            v.name = model.attributes.name;\r\n            myself.project.sprites[model.attributes.name] = v;\r\n        }\r\n        if (model.attributes.idx) {\r\n            v.idx = +model.attributes.idx;\r\n        }\r\n        if (model.attributes.color) {\r\n            v.color = myself.loadColor(model.attributes.color);\r\n        }\r\n        if (model.attributes.pen) {\r\n            v.penPoint = model.attributes.pen;\r\n        }\r\n        myself.project.stage.add(v);\r\n        v.scale = parseFloat(model.attributes.scale || '1');\r\n        v.rotationStyle = parseFloat(\r\n            model.attributes.rotation || '1'\r\n        );\r\n        v.isDraggable = model.attributes.draggable !== 'false';\r\n        v.isVisible = model.attributes.hidden !== 'true';\r\n        v.heading = parseFloat(model.attributes.heading) || 0;\r\n        v.drawNew();\r\n        v.gotoXY(+model.attributes.x || 0, +model.attributes.y || 0);\r\n        myself.loadObject(v, model);\r\n        return v;\r\n    case 'context':\r\n        v = new Context(null);\r\n        record();\r\n        el = model.childNamed('origin');\r\n        if (el) {\r\n            el = el.childNamed('ref') || el.childNamed('sprite');\r\n            if (el) {\r\n                v.origin = this.loadValue(el);\r\n            }\r\n        }\r\n        el = model.childNamed('receiver');\r\n        if (el) {\r\n            el = el.childNamed('ref') || el.childNamed('sprite');\r\n            if (el) {\r\n                v.receiver = this.loadValue(el);\r\n            }\r\n        }\r\n        origin = v.origin || v.receiver || object; // for local blocks look up\r\n        el = model.childNamed('script');\r\n        if (el) {\r\n            v.expression = this.loadScript(el, origin);\r\n        } else {\r\n            el = model.childNamed('block') ||\r\n                model.childNamed('custom-block');\r\n            if (el) {\r\n                v.expression = this.loadBlock(el, null, origin);\r\n            } else {\r\n                el = model.childNamed('l');\r\n                if (el) {\r\n                    bool = el.childNamed('bool');\r\n                    if (bool) {\r\n                        v.expression = new BooleanSlotMorph(\r\n                            this.loadValue(bool)\r\n                        );\r\n                    } else {\r\n                        v.expression = new InputSlotMorph(el.contents);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (v.expression instanceof BlockMorph) {\r\n            // bind empty slots to implicit formal parameters\r\n            i = 0;\r\n            v.expression.allEmptySlots().forEach(function (slot) {\r\n                i += 1;\r\n                if (slot instanceof MultiArgMorph) {\r\n                    slot.bindingID = ['arguments'];\r\n                } else {\r\n                    slot.bindingID = i;\r\n                }\r\n            });\r\n            // and remember the number of detected empty slots\r\n            v.emptySlots = i;\r\n        }\r\n        el = model.childNamed('inputs');\r\n        if (el) {\r\n            el.children.forEach(function (item) {\r\n                if (item.tag === 'input') {\r\n                    v.inputs.push(item.contents);\r\n                }\r\n            });\r\n        }\r\n        el = model.childNamed('variables');\r\n        if (el) {\r\n            this.loadVariables(v.variables, el, origin);\r\n        }\r\n        el = model.childNamed('context');\r\n        if (el) {\r\n            v.outerContext = this.loadValue(el, origin);\r\n        }\r\n        if (v.outerContext && v.receiver &&\r\n                !v.outerContext.variables.parentFrame) {\r\n            v.outerContext.variables.parentFrame = v.receiver.variables;\r\n        }\r\n        return v;\r\n    case 'costume':\r\n        center = new Point();\r\n        if (Object.prototype.hasOwnProperty.call(\r\n                model.attributes,\r\n                'center-x'\r\n            )) {\r\n            center.x = parseFloat(model.attributes['center-x']);\r\n        }\r\n        if (Object.prototype.hasOwnProperty.call(\r\n                model.attributes,\r\n                'center-y'\r\n            )) {\r\n            center.y = parseFloat(model.attributes['center-y']);\r\n        }\r\n        if (Object.prototype.hasOwnProperty.call(\r\n                model.attributes,\r\n                'name'\r\n            )) {\r\n            name = model.attributes.name;\r\n        }\r\n        if (Object.prototype.hasOwnProperty.call(\r\n                model.attributes,\r\n                'image'\r\n            )) {\r\n            image = new Image();\r\n            if (model.attributes.image.indexOf('data:image/svg+xml') === 0\r\n                    && !MorphicPreferences.rasterizeSVGs) {\r\n                v = new SVG_Costume(null, name, center);\r\n                image.onload = function () {\r\n                    v.contents = image;\r\n                    v.version = +new Date();\r\n                    if (typeof v.loaded === 'function') {\r\n                        v.loaded();\r\n                    } else {\r\n                        v.loaded = true;\r\n                    }\r\n                };\r\n            } else {\r\n                v = new Costume(null, name, center);\r\n                image.onload = function () {\r\n                    var canvas = newCanvas(\r\n                            new Point(image.width, image.height),\r\n                            true // nonRetina\r\n                        ),\r\n                        context = canvas.getContext('2d');\r\n                    context.drawImage(image, 0, 0);\r\n                    v.contents = canvas;\r\n                    v.version = +new Date();\r\n                    if (typeof v.loaded === 'function') {\r\n                        v.loaded();\r\n                    } else {\r\n                        v.loaded = true;\r\n                    }\r\n                };\r\n            }\r\n            image.src = model.attributes.image;\r\n        }\r\n        record();\r\n        return v;\r\n    case 'sound':\r\n        audio = new Audio();\r\n        audio.src = model.attributes.sound;\r\n        v = new Sound(audio, model.attributes.name);\r\n        if (Object.prototype.hasOwnProperty.call(\r\n                model.attributes,\r\n                'mediaID'\r\n            )) {\r\n            myself.mediaDict[model.attributes.mediaID] = v;\r\n        }\r\n        record();\r\n        return v;\r\n    }\r\n    return undefined;\r\n};\r\n\r\nSnapSerializer.prototype.loadColor = function (colorString) {\r\n    // private\r\n    var c = (colorString || '').split(',');\r\n    return new Color(\r\n        parseFloat(c[0]),\r\n        parseFloat(c[1]),\r\n        parseFloat(c[2]),\r\n        parseFloat(c[3])\r\n    );\r\n};\r\n\r\nSnapSerializer.prototype.openProject = function (project, ide) {\r\n    var stage = ide.stage,\r\n        sprites = [],\r\n        sprite;\r\n    if (!project || !project.stage) {\r\n        return;\r\n    }\r\n    ide.projectName = project.name;\r\n    ide.projectNotes = project.notes || '';\r\n    if (ide.globalVariables) {\r\n        ide.globalVariables = project.globalVariables;\r\n    }\r\n    if (stage) {\r\n        stage.destroy();\r\n    }\r\n    ide.add(project.stage);\r\n    ide.stage = project.stage;\r\n    sprites = ide.stage.children.filter(function (child) {\r\n        return child instanceof SpriteMorph;\r\n    });\r\n    sprites.sort(function (x, y) {\r\n        return x.idx - y.idx;\r\n    });\r\n\r\n    ide.sprites = new List(sprites);\r\n    sprite = sprites[0] || project.stage;\r\n\r\n    if (sizeOf(this.mediaDict) > 0) {\r\n        ide.hasChangedMedia = false;\r\n        this.mediaDict = {};\r\n    } else {\r\n        ide.hasChangedMedia = true;\r\n    }\r\n    project.stage.drawNew();\r\n    ide.createCorral();\r\n    ide.selectSprite(sprite);\r\n    ide.fixLayout();\r\n\r\n    // force watchers to update\r\n    //project.stage.watchers().forEach(function (watcher) {\r\n    //  watcher.onNextStep = function () {this.currentValue = null;};\r\n    //})\r\n\r\n    ide.world().keyboardReceiver = project.stage;\r\n};\r\n\r\n// SnapSerializer XML-representation of objects:\r\n\r\n// Generics\r\n//Wiquid Preview bug ******************************************************************************\r\n/*Array.prototype.toXML = function (serializer) {\r\n    return this.reduce(function (xml, item) {\r\n        return xml + serializer.store(item);\r\n    }, '');\r\n};*/\r\n//**************************************************************************************************\r\n// Sprites\r\n\r\nStageMorph.prototype.toXML = function (serializer) {\r\n    var thumbnail = normalizeCanvas(\r\n            this.thumbnail(SnapSerializer.prototype.thumbnailSize),\r\n            true\r\n        ),\r\n        thumbdata,\r\n        ide = this.parentThatIsA(IDE_Morph);\r\n\r\n    // catch cross-origin tainting exception when using SVG costumes\r\n    try {\r\n        thumbdata = thumbnail.toDataURL('image/png');\r\n    } catch (error) {\r\n        thumbdata = null;\r\n    }\r\n\r\n    function code(key) {\r\n        var str = '';\r\n        Object.keys(StageMorph.prototype[key]).forEach(\r\n            function (selector) {\r\n                str += (\r\n                    '<' + selector + '>' +\r\n                        XML_Element.prototype.escape(\r\n                            StageMorph.prototype[key][selector]\r\n                        ) +\r\n                        '</' + selector + '>'\r\n                );\r\n            }\r\n        );\r\n        return str;\r\n    }\r\n\r\n    this.removeAllClones();\r\n    return serializer.format(\r\n        '<project name=\"@\" app=\"@\" version=\"@\">' +\r\n            '<notes>$</notes>' +\r\n            '<thumbnail>$</thumbnail>' +\r\n            '<stage name=\"@\" width=\"@\" height=\"@\" ' +\r\n            'costume=\"@\" tempo=\"@\" threadsafe=\"@\" ' +\r\n            '%' +\r\n            'lines=\"@\" ' +\r\n            'ternary=\"@\" ' +\r\n            'codify=\"@\" ' +\r\n            'inheritance=\"@\" ' +\r\n            'sublistIDs=\"@\" ' +\r\n            'scheduled=\"@\" ~>' +\r\n            '<pentrails>$</pentrails>' +\r\n            '<costumes>%</costumes>' +\r\n            '<sounds>%</sounds>' +\r\n            '<variables>%</variables>' +\r\n            '<blocks>%</blocks>' +\r\n            '<scripts>%</scripts><sprites>%</sprites>' +\r\n            '</stage>' +\r\n            '<hidden>$</hidden>' +\r\n            '<headers>%</headers>' +\r\n            '<code>%</code>' +\r\n            '<blocks>%</blocks>' +\r\n            '<variables>%</variables>' +\r\n            '</project>',\r\n        (ide && ide.projectName) ? ide.projectName : localize('Untitled'),\r\n        serializer.app,\r\n        serializer.version,\r\n        (ide && ide.projectNotes) ? ide.projectNotes : '',\r\n        thumbdata,\r\n        this.name,\r\n        StageMorph.prototype.dimensions.x,\r\n        StageMorph.prototype.dimensions.y,\r\n        this.getCostumeIdx(),\r\n        this.getTempo(),\r\n        this.isThreadSafe,\r\n        this.instrument ?\r\n                ' instrument=\"' + parseInt(this.instrument) + '\" ' : '',\r\n        SpriteMorph.prototype.useFlatLineEnds ? 'flat' : 'round',\r\n        BooleanSlotMorph.prototype.isTernary,\r\n        this.enableCodeMapping,\r\n        this.enableInheritance,\r\n        this.enableSublistIDs,\r\n        StageMorph.prototype.frameRate !== 0,\r\n        normalizeCanvas(this.trailsCanvas, true).toDataURL('image/png'),\r\n        serializer.store(this.costumes, this.name + '_cst'),\r\n        serializer.store(this.sounds, this.name + '_snd'),\r\n        serializer.store(this.variables),\r\n        serializer.store(this.customBlocks),\r\n        serializer.store(this.scripts),\r\n        serializer.store(this.children),\r\n        Object.keys(StageMorph.prototype.hiddenPrimitives).reduce(\r\n                function (a, b) {return a + ' ' + b; },\r\n                ''\r\n            ),\r\n        code('codeHeaders'),\r\n        code('codeMappings'),\r\n        serializer.store(this.globalBlocks),\r\n        (ide && ide.globalVariables) ?\r\n                    serializer.store(ide.globalVariables) : ''\r\n    );\r\n};\r\n\r\nSpriteMorph.prototype.toXML = function (serializer) {\r\n    var stage = this.parentThatIsA(StageMorph),\r\n        ide = stage ? stage.parentThatIsA(IDE_Morph) : null,\r\n        idx = ide ? ide.sprites.asArray().indexOf(this) + 1 : 0,\r\n        noCostumes = this.inheritsAttribute('costumes'),\r\n        noSounds = this.inheritsAttribute('sounds'),\r\n        noScripts = this.inheritsAttribute('scripts');\r\n\r\n    return serializer.format(\r\n        '<sprite name=\"@\" idx=\"@\" x=\"@\" y=\"@\"' +\r\n            ' heading=\"@\"' +\r\n            ' scale=\"@\"' +\r\n            ' rotation=\"@\"' +\r\n            '%' +\r\n            ' draggable=\"@\"' +\r\n            '%' +\r\n            ' costume=\"@\" color=\"@,@,@\" pen=\"@\" ~>' +\r\n            '%' + // inheritance info\r\n            '%' + // nesting info\r\n            (noCostumes ? '%' : '<costumes>%</costumes>') +\r\n            (noSounds ? '%' : '<sounds>%</sounds>') +\r\n            '<blocks>%</blocks>' +\r\n            '<variables>%</variables>' +\r\n            (this.exemplar ? '<dispatches>%</dispatches>' : '%') +\r\n            (noScripts ? '%' : '<scripts>%</scripts>') +\r\n            '</sprite>',\r\n        this.name,\r\n        idx,\r\n        this.xPosition(),\r\n        this.yPosition(),\r\n        this.heading,\r\n        this.scale,\r\n        this.rotationStyle,\r\n        this.instrument ?\r\n                ' instrument=\"' + parseInt(this.instrument) + '\" ' : '',\r\n        this.isDraggable,\r\n        this.isVisible ? '' : ' hidden=\"true\"',\r\n        this.getCostumeIdx(),\r\n        this.color.r,\r\n        this.color.g,\r\n        this.color.b,\r\n        this.penPoint,\r\n\r\n        // inheritance info\r\n        this.exemplar\r\n            ? '<inherit exemplar=\"' +\r\n                    this.exemplar.name +\r\n                    '\">' +\r\n                    (this.inheritedAttributes.length ?\r\n                        serializer.store(new List(this.inheritedAttributes))\r\n                        : '') +\r\n                    '</inherit>'\r\n            : '',\r\n\r\n        // nesting info\r\n        this.anchor\r\n            ? '<nest anchor=\"' +\r\n                    this.anchor.name +\r\n                    '\" synch=\"'\r\n                    + this.rotatesWithAnchor\r\n                    + (this.scale === this.nestingScale ? '' :\r\n                            '\"'\r\n                            + ' scale=\"'\r\n                            + this.nestingScale)\r\n\r\n                    + '\"/>'\r\n            : '',\r\n\r\n        noCostumes ? '' : serializer.store(this.costumes, this.name + '_cst'),\r\n        noSounds ? '' : serializer.store(this.sounds, this.name + '_snd'),\r\n        !this.customBlocks ? '' : serializer.store(this.customBlocks),\r\n        serializer.store(this.variables),\r\n        this.exemplar ? serializer.store(this.inheritedMethods()) : '',\r\n        noScripts ? '' : serializer.store(this.scripts)\r\n    );\r\n};\r\n\r\nCostume.prototype[XML_Serializer.prototype.mediaDetectionProperty] = true;\r\n\r\nCostume.prototype.toXML = function (serializer) {\r\n    return serializer.format(\r\n        '<costume name=\"@\" center-x=\"@\" center-y=\"@\" image=\"@\" ~/>',\r\n        this.name,\r\n        this.rotationCenter.x,\r\n        this.rotationCenter.y,\r\n        this instanceof SVG_Costume ? this.contents.src\r\n                : normalizeCanvas(this.contents).toDataURL('image/png')\r\n    );\r\n};\r\n\r\nSound.prototype[XML_Serializer.prototype.mediaDetectionProperty] = true;\r\n\r\nSound.prototype.toXML = function (serializer) {\r\n    return serializer.format(\r\n        '<sound name=\"@\" sound=\"@\" ~/>',\r\n        this.name,\r\n        this.toDataURL()\r\n    );\r\n};\r\n\r\nVariableFrame.prototype.toXML = function (serializer) {\r\n    var myself = this;\r\n    return Object.keys(this.vars).reduce(function (vars, v) {\r\n        var val = myself.vars[v].value,\r\n            dta;\r\n        if (myself.vars[v].isTransient) {\r\n            dta = serializer.format(\r\n                '<variable name=\"@\" transient=\"true\"/>',\r\n                v)\r\n            ;\r\n        } else if (val === undefined || val === null) {\r\n            dta = serializer.format('<variable name=\"@\"/>', v);\r\n        } else {\r\n            dta = serializer.format(\r\n                '<variable name=\"@\">%</variable>',\r\n                v,\r\n                typeof val === 'object' ?\r\n                        (isSnapObject(val) ? ''\r\n                                : serializer.store(val))\r\n                                : typeof val === 'boolean' ?\r\n                                        serializer.format(\r\n                                            '<bool>$</bool>', val\r\n                                        )\r\n                                        : serializer.format('<l>$</l>', val)\r\n            );\r\n        }\r\n        return vars + dta;\r\n    }, '');\r\n};\r\n\r\n// Watchers\r\n\r\nWatcherMorph.prototype.toXML = function (serializer) {\r\n    var isVar = this.target instanceof VariableFrame,\r\n        isList = this.currentValue instanceof List,\r\n        color = this.readoutColor,\r\n        position = this.parent ?\r\n                this.topLeft().subtract(this.parent.topLeft())\r\n                : this.topLeft();\r\n\r\n    if (this.isTemporary()) {\r\n        // do not save watchers on temporary variables\r\n        return '';\r\n    }\r\n    return serializer.format(\r\n        '<watcher% % style=\"@\"% x=\"@\" y=\"@\" color=\"@,@,@\"%%/>',\r\n        (isVar && this.target.owner) || (!isVar && this.target) ?\r\n                    serializer.format(' scope=\"@\"',\r\n                        isVar ? this.target.owner.name : this.target.name)\r\n                            : '',\r\n        serializer.format(isVar ? 'var=\"@\"' : 's=\"@\"', this.getter),\r\n        this.style,\r\n        isVar && this.style === 'slider' ? serializer.format(\r\n                ' min=\"@\" max=\"@\"',\r\n                this.sliderMorph.start,\r\n                this.sliderMorph.stop\r\n            ) : '',\r\n        position.x,\r\n        position.y,\r\n        color.r,\r\n        color.g,\r\n        color.b,\r\n        !isList ? ''\r\n                : serializer.format(\r\n                ' extX=\"@\" extY=\"@\"',\r\n                this.cellMorph.contentsMorph.width(),\r\n                this.cellMorph.contentsMorph.height()\r\n            ),\r\n        this.isVisible ? '' : ' hidden=\"true\"'\r\n    );\r\n};\r\n\r\n// Scripts\r\n\r\nScriptsMorph.prototype.toXML = function (serializer) {\r\n    return this.children.reduce(function (xml, child) {\r\n        if (child instanceof BlockMorph) {\r\n            return xml + child.toScriptXML(serializer, true);\r\n        }\r\n        if (child instanceof CommentMorph && !child.block) { // unattached\r\n            return xml + child.toXML(serializer);\r\n        }\r\n        return xml;\r\n    }, '');\r\n};\r\n\r\nBlockMorph.prototype.toXML = BlockMorph.prototype.toScriptXML = function (\r\n    serializer,\r\n    savePosition\r\n) {\r\n    var position,\r\n        xml,\r\n        scale = SyntaxElementMorph.prototype.scale,\r\n        block = this;\r\n\r\n    // determine my position\r\n    if (this.parent) {\r\n        position = this.topLeft().subtract(this.parent.topLeft());\r\n    } else {\r\n        position = this.topLeft();\r\n    }\r\n\r\n    // save my position to xml\r\n    if (savePosition) {\r\n        xml = serializer.format(\r\n            '<script x=\"@\" y=\"@\">',\r\n            position.x / scale,\r\n            position.y / scale\r\n        );\r\n    } else {\r\n        xml = '<script>';\r\n    }\r\n\r\n    // recursively add my next blocks to xml\r\n    do {\r\n        xml += block.toBlockXML(serializer);\r\n        block = block.nextBlock();\r\n    } while (block);\r\n    xml += '</script>';\r\n    return xml;\r\n};\r\n\r\nBlockMorph.prototype.toBlockXML = function (serializer) {\r\n    return serializer.format(\r\n        '<block s=\"@\">%%</block>',\r\n        this.selector,\r\n        serializer.store(this.inputs()),\r\n        this.comment ? this.comment.toXML(serializer) : ''\r\n    );\r\n};\r\n\r\nReporterBlockMorph.prototype.toXML = function (serializer) {\r\n    return this.selector === 'reportGetVar' ? serializer.format(\r\n        '<block var=\"@\"/>',\r\n        this.blockSpec\r\n    ) : this.toBlockXML(serializer);\r\n};\r\n\r\nReporterBlockMorph.prototype.toScriptXML = function (\r\n    serializer,\r\n    savePosition\r\n) {\r\n    var position,\r\n        scale = SyntaxElementMorph.prototype.scale;\r\n\r\n    // determine my save-position\r\n    if (this.parent) {\r\n        position = this.topLeft().subtract(this.parent.topLeft());\r\n    } else {\r\n        position = this.topLeft();\r\n    }\r\n\r\n    if (savePosition) {\r\n        return serializer.format(\r\n            '<script x=\"@\" y=\"@\">%</script>',\r\n            position.x / scale,\r\n            position.y / scale,\r\n            this.toXML(serializer)\r\n        );\r\n    }\r\n    return serializer.format('<script>%</script>', this.toXML(serializer));\r\n};\r\n\r\nCustomCommandBlockMorph.prototype.toBlockXML = function (serializer) {\r\n    var scope = this.isGlobal ? undefined : 'local';\r\n    return serializer.format(\r\n        '<custom-block s=\"@\"%>%%%</custom-block>',\r\n        this.semanticSpec,\r\n        this.isGlobal ?\r\n                '' : serializer.format(' scope=\"@\"', scope),\r\n        serializer.store(this.inputs()),\r\n        this.isGlobal &&\r\n        \tthis.definition.variableNames.length &&\r\n            !serializer.isExportingBlocksLibrary ?\r\n                '<variables>' +\r\n                    this.variables.toXML(serializer) +\r\n                    '</variables>'\r\n                        : '',\r\n        this.comment ? this.comment.toXML(serializer) : ''\r\n    );\r\n};\r\n\r\nCustomReporterBlockMorph.prototype.toBlockXML\r\n    = CustomCommandBlockMorph.prototype.toBlockXML;\r\n\r\nCustomBlockDefinition.prototype.toXML = function (serializer) {\r\n    var myself = this;\r\n\r\n    function encodeScripts(array) {\r\n        return array.reduce(function (xml, element) {\r\n            if (element instanceof BlockMorph) {\r\n                return xml + element.toScriptXML(serializer, true);\r\n            }\r\n            if (element instanceof CommentMorph && !element.block) {\r\n                return xml + element.toXML(serializer);\r\n            }\r\n            return xml;\r\n        }, '');\r\n    }\r\n\r\n    return serializer.format(\r\n        '<block-definition s=\"@\" type=\"@\" category=\"@\">' +\r\n            '%' +\r\n            (this.variableNames.length ? '<variables>%</variables>' : '@') +\r\n            '<header>@</header>' +\r\n            '<code>@</code>' +\r\n            '<translations>@</translations>' +\r\n            '<inputs>%</inputs>%%' +\r\n            '</block-definition>',\r\n        this.spec,\r\n        this.type,\r\n        this.category || 'other',\r\n        this.comment ? this.comment.toXML(serializer) : '',\r\n        (this.variableNames.length ?\r\n                serializer.store(new List(this.variableNames)) : ''),\r\n        this.codeHeader || '',\r\n        this.codeMapping || '',\r\n        this.translationsAsText(),\r\n        Object.keys(this.declarations).reduce(function (xml, decl) {\r\n                return xml + serializer.format(\r\n                    '<input type=\"@\"$>$%</input>',\r\n                    myself.declarations[decl][0],\r\n                    myself.declarations[decl][3] ?\r\n                            ' readonly=\"true\"' : '',\r\n                    myself.declarations[decl][1],\r\n                    myself.declarations[decl][2] ?\r\n                            '<options>' + myself.declarations[decl][2] +\r\n                                '</options>'\r\n                                : ''\r\n                );\r\n            }, ''),\r\n        this.body ? serializer.store(this.body.expression) : '',\r\n        this.scripts.length > 0 ?\r\n                    '<scripts>' + encodeScripts(this.scripts) + '</scripts>'\r\n                        : ''\r\n    );\r\n};\r\n\r\n// Scripts - Inputs\r\n\r\nArgMorph.prototype.toXML = function () {\r\n    return '<l/>'; // empty by default\r\n};\r\n\r\nBooleanSlotMorph.prototype.toXML = function () {\r\n    return (typeof this.value === 'boolean') ?\r\n            '<l><bool>' + this.value + '</bool></l>'\r\n                    : '<l/>';\r\n\r\n};\r\n\r\nInputSlotMorph.prototype.toXML = function (serializer) {\r\n    if (this.constant) {\r\n        return serializer.format(\r\n            '<l><option>$</option></l>',\r\n            this.constant\r\n        );\r\n    }\r\n    return serializer.format('<l>$</l>', this.contents().text);\r\n};\r\n\r\nTemplateSlotMorph.prototype.toXML = function (serializer) {\r\n    return serializer.format('<l>$</l>', this.contents());\r\n};\r\n\r\nCommandSlotMorph.prototype.toXML = function (serializer) {\r\n    var block = this.children[0];\r\n    if (block instanceof BlockMorph) {\r\n        if (block instanceof ReporterBlockMorph) {\r\n            return serializer.format(\r\n                '<autolambda>%</autolambda>',\r\n                serializer.store(block)\r\n            );\r\n        }\r\n        return serializer.store(block);\r\n    }\r\n    return '<script></script>';\r\n};\r\n\r\nFunctionSlotMorph.prototype.toXML = CommandSlotMorph.prototype.toXML;\r\n\r\nMultiArgMorph.prototype.toXML = function (serializer) {\r\n    return serializer.format(\r\n        '<list>%</list>',\r\n        serializer.store(this.inputs())\r\n    );\r\n};\r\n\r\nArgLabelMorph.prototype.toXML = function (serializer) {\r\n    return serializer.format(\r\n        '%',\r\n        serializer.store(this.inputs()[0])\r\n    );\r\n};\r\n\r\nColorSlotMorph.prototype.toXML = function (serializer) {\r\n    return serializer.format(\r\n        '<color>$,$,$,$</color>',\r\n        this.color.r,\r\n        this.color.g,\r\n        this.color.b,\r\n        this.color.a\r\n    );\r\n};\r\n\r\n// Values\r\n\r\nList.prototype.toXML = function (serializer, mediaContext) {\r\n    // mediaContext is an optional name-stub\r\n    // when collecting media into a separate module\r\n    var xml, value, item;\r\n    if (this.isLinked) {\r\n        xml = '<list linked=\"linked\" ~>';\r\n        if (StageMorph.prototype.enableSublistIDs) {\r\n            // recursively nest tails:\r\n            value = this.first;\r\n            if (!isNil(value)) {\r\n                xml += serializer.format(\r\n                    '<item>%</item>',\r\n                    typeof value === 'object' ?\r\n                            (isSnapObject(value) ? ''\r\n                                    : serializer.store(value, mediaContext))\r\n                            : typeof value === 'boolean' ?\r\n                                    serializer.format('<bool>$</bool>', value)\r\n                                    : serializer.format('<l>$</l>', value)\r\n                );\r\n            }\r\n            if (!isNil(this.rest)) {\r\n                xml += serializer.store(this.rest, mediaContext);\r\n            }\r\n            return xml + '</list>';\r\n        }\r\n        // else sequentially serialize tails:\r\n        item = this;\r\n        do {\r\n            value = item.first;\r\n            if (!isNil(value)) {\r\n                xml += serializer.format(\r\n                    '<item>%</item>',\r\n                    typeof value === 'object' ?\r\n                            (isSnapObject(value) ? ''\r\n                                    : serializer.store(value, mediaContext))\r\n                            : typeof value === 'boolean' ?\r\n                                    serializer.format('<bool>$</bool>', value)\r\n                                    : serializer.format('<l>$</l>', value)\r\n                );\r\n            }\r\n            item = item.rest;\r\n        } while (!isNil(item));\r\n        return xml + '</list>';\r\n    }\r\n    // dynamic array:\r\n    return serializer.format(\r\n        '<list ~>%</list>',\r\n        this.contents.reduce(function (xml, item) {\r\n            return xml + serializer.format(\r\n                '<item>%</item>',\r\n                typeof item === 'object' ?\r\n                        (isSnapObject(item) ? ''\r\n                                : serializer.store(item, mediaContext))\r\n                        : typeof item === 'boolean' ?\r\n                                serializer.format('<bool>$</bool>', item)\r\n                                : serializer.format('<l>$</l>', item)\r\n            );\r\n        }, '')\r\n    );\r\n};\r\n\r\nContext.prototype.toXML = function (serializer) {\r\n    if (this.isContinuation) { // continuations are transient in Snap!\r\n        return '';\r\n    }\r\n    return serializer.format(\r\n        '<context ~><inputs>%</inputs><variables>%</variables>' +\r\n            '%<receiver>%</receiver><origin>%</origin>%</context>',\r\n        this.inputs.reduce(\r\n                function (xml, input) {\r\n                    return xml + serializer.format('<input>$</input>', input);\r\n                },\r\n                ''\r\n            ),\r\n        this.variables ? serializer.store(this.variables) : '',\r\n        this.expression ? serializer.store(this.expression) : '',\r\n        this.receiver ? serializer.store(this.receiver) : '',\r\n        this.receiver ? serializer.store(this.origin) : '',\r\n        this.outerContext ? serializer.store(this.outerContext) : ''\r\n    );\r\n};\r\n\r\n// Comments\r\n\r\nCommentMorph.prototype.toXML = function (serializer) {\r\n    var position,\r\n        scale = SyntaxElementMorph.prototype.scale;\r\n\r\n    if (this.block) { // attached to a block\r\n        return serializer.format(\r\n            '<comment w=\"@\" collapsed=\"@\">%</comment>',\r\n            this.textWidth() / scale,\r\n            this.isCollapsed,\r\n            serializer.escape(this.text())\r\n        );\r\n    }\r\n\r\n    // free-floating, determine my save-position\r\n    if (this.parent) {\r\n        position = this.topLeft().subtract(this.parent.topLeft());\r\n    } else {\r\n        position = this.topLeft();\r\n    }\r\n    return serializer.format(\r\n        '<comment x=\"@\" y=\"@\" w=\"@\" collapsed=\"@\">%</comment>',\r\n        position.x / scale,\r\n        position.y / scale,\r\n        this.textWidth() / scale,\r\n        this.isCollapsed,\r\n        serializer.escape(this.text())\r\n    );\r\n};\r\n\r\n//fin de store.js\r\n/*\r\n\r\n    cloud.js\r\n\r\n    a backend API for SNAP!\r\n\r\n    written by Jens Mönig\r\n\r\n    Copyright (C) 2015 by Jens Mönig\r\n\r\n    This file is part of Snap!.\r\n\r\n    Snap! is free software: you can redistribute it and/or modify\r\n    it under the terms of the GNU Affero General Public License as\r\n    published by the Free Software Foundation, either version 3 of\r\n    the License, or (at your option) any later version.\r\n\r\n    This program is distributed in the hope that it will be useful,\r\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n    GNU Affero General Public License for more details.\r\n\r\n    You should have received a copy of the GNU Affero General Public License\r\n    along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n\r\n*/\r\n\r\n// Global settings /////////////////////////////////////////////////////\r\n\r\n/*global modules, IDE_Morph, SnapSerializer, hex_sha512, alert, nop,\r\nlocalize*/\r\n\r\nmodules.cloud = '2015-December-15';\r\n\r\n// Global stuff\r\n\r\nvar Cloud;\r\nvar SnapCloud = new Cloud(\r\n    'https://snap.apps.miosoft.com/SnapCloud'\r\n);\r\n\r\n// Cloud /////////////////////////////////////////////////////////////\r\n\r\nfunction Cloud(url) {\r\n    this.username = null;\r\n    this.password = null; // hex_sha512 hashed\r\n    this.url = url;\r\n    this.session = null;\r\n    this.limo = null;\r\n    this.route = null;\r\n    this.api = {};\r\n}\r\n\r\nCloud.prototype.clear = function () {\r\n    this.username = null;\r\n    this.password = null;\r\n    this.session = null;\r\n    this.limo = null;\r\n    this.route = null;\r\n    this.api = {};\r\n};\r\n\r\nCloud.prototype.hasProtocol = function () {\r\n    return this.url.toLowerCase().indexOf('http') === 0;\r\n};\r\n\r\nCloud.prototype.setRoute = function (username) {\r\n    var routes = 20,\r\n        userNum = 0,\r\n        i;\r\n\r\n    for (i = 0; i < username.length; i += 1) {\r\n        userNum += username.charCodeAt(i);\r\n    }\r\n    userNum = userNum % routes + 1;\r\n    this.route = '.sc1m' +\r\n        (userNum < 10 ? '0' : '') +\r\n        userNum;\r\n};\r\n\r\n// Cloud: Snap! API\r\n\r\nCloud.prototype.signup = function (\r\n    username,\r\n    email,\r\n    callBack,\r\n    errorCall\r\n) {\r\n    // both callBack and errorCall are two-argument functions\r\n    var request = new XMLHttpRequest(),\r\n        myself = this;\r\n    try {\r\n        request.open(\r\n            \"GET\",\r\n            (this.hasProtocol() ? '' : 'http://')\r\n                + this.url + 'SignUp'\r\n                + '?Username='\r\n                + encodeURIComponent(username)\r\n                + '&Email='\r\n                + encodeURIComponent(email),\r\n            true\r\n        );\r\n        request.setRequestHeader(\r\n            \"Content-Type\",\r\n            \"application/x-www-form-urlencoded\"\r\n        );\r\n        request.withCredentials = true;\r\n        request.onreadystatechange = function () {\r\n            if (request.readyState === 4) {\r\n                if (request.responseText) {\r\n                    if (request.responseText.indexOf('ERROR') === 0) {\r\n                        errorCall.call(\r\n                            this,\r\n                            request.responseText,\r\n                            'Signup'\r\n                        );\r\n                    } else {\r\n                        callBack.call(\r\n                            null,\r\n                            request.responseText,\r\n                            'Signup'\r\n                        );\r\n                    }\r\n                } else {\r\n                    errorCall.call(\r\n                        null,\r\n                        myself.url + 'SignUp',\r\n                        localize('could not connect to:')\r\n                    );\r\n                }\r\n            }\r\n        };\r\n        request.send(null);\r\n    } catch (err) {\r\n        errorCall.call(this, err.toString(), 'Snap!Cloud');\r\n    }\r\n};\r\n\r\nCloud.prototype.getPublicProject = function (\r\n    id,\r\n    callBack,\r\n    errorCall\r\n) {\r\n    // id is Username=username&projectName=projectname,\r\n    // where the values are url-component encoded\r\n    // callBack is a single argument function, errorCall take two args\r\n    var request = new XMLHttpRequest(),\r\n        myself = this;\r\n    try {\r\n        request.open(\r\n            \"GET\",\r\n            (this.hasProtocol() ? '' : 'http://')\r\n                + this.url + 'RawPublic'\r\n                + '?'\r\n                + id,\r\n            true\r\n        );\r\n        request.setRequestHeader(\r\n            \"Content-Type\",\r\n            \"application/x-www-form-urlencoded\"\r\n        );\r\n        request.withCredentials = true;\r\n        request.onreadystatechange = function () {\r\n            if (request.readyState === 4) {\r\n                if (request.responseText) {\r\n                    if (request.responseText.indexOf('ERROR') === 0) {\r\n                        errorCall.call(\r\n                            this,\r\n                            request.responseText\r\n                        );\r\n                    } else {\r\n                        callBack.call(\r\n                            null,\r\n                            request.responseText\r\n                        );\r\n                    }\r\n                } else {\r\n                    errorCall.call(\r\n                        null,\r\n                        myself.url + 'Public',\r\n                        localize('could not connect to:')\r\n                    );\r\n                }\r\n            }\r\n        };\r\n        request.send(null);\r\n    } catch (err) {\r\n        errorCall.call(this, err.toString(), 'Snap!Cloud');\r\n    }\r\n};\r\n\r\nCloud.prototype.resetPassword = function (\r\n    username,\r\n    callBack,\r\n    errorCall\r\n) {\r\n    // both callBack and errorCall are two-argument functions\r\n    var request = new XMLHttpRequest(),\r\n        myself = this;\r\n    try {\r\n        request.open(\r\n            \"GET\",\r\n            (this.hasProtocol() ? '' : 'http://')\r\n                + this.url + 'ResetPW'\r\n                + '?Username='\r\n                + encodeURIComponent(username),\r\n            true\r\n        );\r\n        request.setRequestHeader(\r\n            \"Content-Type\",\r\n            \"application/x-www-form-urlencoded\"\r\n        );\r\n        request.withCredentials = true;\r\n        request.onreadystatechange = function () {\r\n            if (request.readyState === 4) {\r\n                if (request.responseText) {\r\n                    if (request.responseText.indexOf('ERROR') === 0) {\r\n                        errorCall.call(\r\n                            this,\r\n                            request.responseText,\r\n                            'Reset Password'\r\n                        );\r\n                    } else {\r\n                        callBack.call(\r\n                            null,\r\n                            request.responseText,\r\n                            'Reset Password'\r\n                        );\r\n                    }\r\n                } else {\r\n                    errorCall.call(\r\n                        null,\r\n                        myself.url + 'ResetPW',\r\n                        localize('could not connect to:')\r\n                    );\r\n                }\r\n            }\r\n        };\r\n        request.send(null);\r\n    } catch (err) {\r\n        errorCall.call(this, err.toString(), 'Snap!Cloud');\r\n    }\r\n};\r\n\r\nCloud.prototype.login = function (\r\n    username,\r\n    password,\r\n    callBack,\r\n    errorCall\r\n) {\r\n    // both callBack and errorCall are two-argument functions\r\n    var request = new XMLHttpRequest(),\r\n        usr = JSON.stringify({'__h': password, '__u': username}),\r\n        myself = this;\r\n    this.setRoute(username);\r\n    try {\r\n        request.open(\r\n            \"POST\",\r\n            (this.hasProtocol() ? '' : 'http://') +\r\n                this.url +\r\n                '?SESSIONGLUE=' +\r\n                this.route,\r\n            true\r\n        );\r\n        request.setRequestHeader(\r\n            \"Content-Type\",\r\n            \"application/json; charset=utf-8\"\r\n        );\r\n        // glue this session to a route:\r\n        request.setRequestHeader('SESSIONGLUE', this.route);\r\n        request.withCredentials = true;\r\n        request.onreadystatechange = function () {\r\n            if (request.readyState === 4) {\r\n                if (request.responseText) {\r\n                    myself.api = myself.parseAPI(request.responseText);\r\n                    myself.session = request.getResponseHeader('MioCracker')\r\n                        .split(';')[0];\r\n                    // set the cookie identifier:\r\n                    myself.limo = this.getResponseHeader(\"miocracker\")\r\n                        .substring(\r\n                            9,\r\n                            this.getResponseHeader(\"miocracker\").indexOf(\"=\")\r\n                        );\r\n                    if (myself.api.logout) {\r\n                        myself.username = username;\r\n                        myself.password = password;\r\n                        callBack.call(null, myself.api, 'Snap!Cloud');\r\n                    } else {\r\n                        errorCall.call(\r\n                            null,\r\n                            request.responseText,\r\n                            'connection failed'\r\n                        );\r\n                    }\r\n                } else {\r\n                    errorCall.call(\r\n                        null,\r\n                        myself.url,\r\n                        localize('could not connect to:')\r\n                    );\r\n                }\r\n            }\r\n        };\r\n        request.send(usr);\r\n    } catch (err) {\r\n        errorCall.call(this, err.toString(), 'Snap!Cloud');\r\n    }\r\n};\r\n\r\nCloud.prototype.reconnect = function (\r\n    callBack,\r\n    errorCall\r\n) {\r\n    if (!(this.username && this.password)) {\r\n        this.message('You are not logged in');\r\n        return;\r\n    }\r\n    this.login(\r\n        this.username,\r\n        this.password,\r\n        callBack,\r\n        errorCall\r\n    );\r\n};\r\n\r\nCloud.prototype.saveProject = function (ide, callBack, errorCall) {\r\n    var myself = this,\r\n        pdata,\r\n        media,\r\n        size,\r\n        mediaSize;\r\n\r\n    ide.serializer.isCollectingMedia = true;\r\n    pdata = ide.serializer.serialize(ide.stage);\r\n    media = ide.hasChangedMedia ?\r\n            ide.serializer.mediaXML(ide.projectName) : null;\r\n    ide.serializer.isCollectingMedia = false;\r\n    ide.serializer.flushMedia();\r\n\r\n    mediaSize = media ? media.length : 0;\r\n    size = pdata.length + mediaSize;\r\n    if (mediaSize > 10485760) {\r\n        new DialogBoxMorph().inform(\r\n            'Snap!Cloud - Cannot Save Project',\r\n            'The media inside this project exceeds 10 MB.\\n' +\r\n                'Please reduce the size of costumes or sounds.\\n',\r\n            ide.world(),\r\n            ide.cloudIcon(null, new Color(180, 0, 0))\r\n        );\r\n        throw new Error('Project media exceeds 10 MB size limit');\r\n    }\r\n\r\n    // check if serialized data can be parsed back again\r\n    try {\r\n        ide.serializer.parse(pdata);\r\n    } catch (err) {\r\n        ide.showMessage('Serialization of program data failed:\\n' + err);\r\n        throw new Error('Serialization of program data failed:\\n' + err);\r\n    }\r\n    if (media !== null) {\r\n        try {\r\n            ide.serializer.parse(media);\r\n        } catch (err) {\r\n            ide.showMessage('Serialization of media failed:\\n' + err);\r\n            throw new Error('Serialization of media failed:\\n' + err);\r\n        }\r\n    }\r\n    ide.serializer.isCollectingMedia = false;\r\n    ide.serializer.flushMedia();\r\n\r\n    ide.showMessage('Uploading ' + Math.round(size / 1024) + ' KB...');\r\n    myself.reconnect(\r\n        function () {\r\n            myself.callService(\r\n                'saveProject',\r\n                function (response, url) {\r\n                    callBack.call(null, response, url);\r\n                    myself.disconnect();\r\n                    ide.hasChangedMedia = false;\r\n                },\r\n                errorCall,\r\n                [\r\n                    ide.projectName,\r\n                    pdata,\r\n                    media,\r\n                    pdata.length,\r\n                    media ? media.length : 0\r\n                ]\r\n            );\r\n        },\r\n        errorCall\r\n    );\r\n};\r\n\r\nCloud.prototype.getProjectList = function (callBack, errorCall) {\r\n    var myself = this;\r\n    this.reconnect(\r\n        function () {\r\n            myself.callService(\r\n                'getProjectList',\r\n                function (response, url) {\r\n                    callBack.call(null, response, url);\r\n                    myself.disconnect();\r\n                },\r\n                errorCall\r\n            );\r\n        },\r\n        errorCall\r\n    );\r\n};\r\n\r\nCloud.prototype.changePassword = function (\r\n    oldPW,\r\n    newPW,\r\n    callBack,\r\n    errorCall\r\n) {\r\n    var myself = this;\r\n    this.reconnect(\r\n        function () {\r\n            myself.callService(\r\n                'changePassword',\r\n                function (response, url) {\r\n                    callBack.call(null, response, url);\r\n                    myself.disconnect();\r\n                },\r\n                errorCall,\r\n                [hex_sha512(oldPW), hex_sha512(newPW)]\r\n            );\r\n        },\r\n        errorCall\r\n    );\r\n};\r\n\r\nCloud.prototype.logout = function (callBack, errorCall) {\r\n    this.clear();\r\n    this.callService(\r\n        'logout',\r\n        callBack,\r\n        errorCall\r\n    );\r\n};\r\n\r\nCloud.prototype.disconnect = function () {\r\n    this.callService(\r\n        'logout',\r\n        nop,\r\n        nop\r\n    );\r\n};\r\n\r\n// Cloud: backend communication\r\n\r\nCloud.prototype.callURL = function (url, callBack, errorCall) {\r\n    // both callBack and errorCall are optional two-argument functions\r\n    var request = new XMLHttpRequest(),\r\n        stickyUrl,\r\n        myself = this;\r\n    try {\r\n        // set the Limo. Also set the glue as a query paramter for backup.\r\n        stickyUrl = url +\r\n            '&SESSIONGLUE=' +\r\n            this.route +\r\n            '&_Limo=' +\r\n            this.limo;\r\n        request.open('GET', stickyUrl, true);\r\n        request.withCredentials = true;\r\n        request.setRequestHeader(\r\n            \"Content-Type\",\r\n            \"application/x-www-form-urlencoded\"\r\n        );\r\n        request.setRequestHeader('MioCracker', this.session);\r\n        // Set the glue as a request header.\r\n        request.setRequestHeader('SESSIONGLUE', this.route);\r\n        request.onreadystatechange = function () {\r\n            if (request.readyState === 4) {\r\n                if (request.responseText) {\r\n                    var responseList = myself.parseResponse(\r\n                        request.responseText\r\n                    );\r\n                    callBack.call(null, responseList, url);\r\n                } else {\r\n                    errorCall.call(\r\n                        null,\r\n                        url,\r\n                        'no response from:'\r\n                    );\r\n                }\r\n            }\r\n        };\r\n        request.send(null);\r\n    } catch (err) {\r\n        errorCall.call(this, err.toString(), url);\r\n    }\r\n};\r\n\r\nCloud.prototype.callService = function (\r\n    serviceName,\r\n    callBack,\r\n    errorCall,\r\n    args\r\n) {\r\n    // both callBack and errorCall are optional two-argument functions\r\n    var request = new XMLHttpRequest(),\r\n        service = this.api[serviceName],\r\n        myself = this,\r\n        stickyUrl,\r\n        postDict;\r\n\r\n    if (!this.session) {\r\n        errorCall.call(null, 'You are not connected', 'Cloud');\r\n        return;\r\n    }\r\n    if (!service) {\r\n        errorCall.call(\r\n            null,\r\n            'service ' + serviceName + ' is not available',\r\n            'API'\r\n        );\r\n        return;\r\n    }\r\n    if (args && args.length > 0) {\r\n        postDict = {};\r\n        service.parameters.forEach(function (parm, idx) {\r\n            postDict[parm] = args[idx];\r\n        });\r\n    }\r\n    try {\r\n        stickyUrl = this.url +\r\n            '/' +\r\n            service.url +\r\n            '&SESSIONGLUE=' +\r\n            this.route +\r\n            '&_Limo=' +\r\n            this.limo;\r\n        request.open(service.method, stickyUrl, true);\r\n        request.withCredentials = true;\r\n        request.setRequestHeader(\r\n            \"Content-Type\",\r\n            \"application/x-www-form-urlencoded\"\r\n        );\r\n        request.setRequestHeader('MioCracker', this.session);\r\n        request.setRequestHeader('SESSIONGLUE', this.route);\r\n        request.onreadystatechange = function () {\r\n            if (request.readyState === 4) {\r\n                var responseList = [];\r\n                if (request.responseText &&\r\n                        request.responseText.indexOf('ERROR') === 0) {\r\n                    errorCall.call(\r\n                        this,\r\n                        request.responseText,\r\n                        localize('Service:') + ' ' + localize(serviceName)\r\n                    );\r\n                    return;\r\n                }\r\n                if (serviceName === 'login') {\r\n                    myself.api = myself.parseAPI(request.responseText);\r\n                }\r\n                if (serviceName === 'getRawProject') {\r\n                    responseList = request.responseText;\r\n                } else {\r\n                    responseList = myself.parseResponse(\r\n                        request.responseText\r\n                    );\r\n                }\r\n                callBack.call(null, responseList, service.url);\r\n            }\r\n        };\r\n        request.send(this.encodeDict(postDict));\r\n    } catch (err) {\r\n        errorCall.call(this, err.toString(), service.url);\r\n    }\r\n};\r\n\r\n// Cloud: payload transformation\r\n\r\nCloud.prototype.parseAPI = function (src) {\r\n    var api = {},\r\n        services;\r\n    services = src.split(\" \");\r\n    services.forEach(function (service) {\r\n        var entries = service.split(\"&\"),\r\n            serviceDescription = {},\r\n            parms;\r\n        entries.forEach(function (entry) {\r\n            var pair = entry.split(\"=\"),\r\n                key = decodeURIComponent(pair[0]).toLowerCase(),\r\n                val = decodeURIComponent(pair[1]);\r\n            if (key === \"service\") {\r\n                api[val] = serviceDescription;\r\n            } else if (key === \"parameters\") {\r\n                parms = val.split(\",\");\r\n                if (!(parms.length === 1 && !parms[0])) {\r\n                    serviceDescription.parameters = parms;\r\n                }\r\n            } else {\r\n                serviceDescription[key] = val;\r\n            }\r\n        });\r\n    });\r\n    return api;\r\n};\r\n\r\nCloud.prototype.parseResponse = function (src) {\r\n    var ans = [],\r\n        lines;\r\n    if (!src) {return ans; }\r\n    lines = src.split(\" \");\r\n    lines.forEach(function (service) {\r\n        var entries = service.split(\"&\"),\r\n            dict = {};\r\n        entries.forEach(function (entry) {\r\n            var pair = entry.split(\"=\"),\r\n                key = decodeURIComponent(pair[0]),\r\n                val = decodeURIComponent(pair[1]);\r\n            dict[key] = val;\r\n        });\r\n        ans.push(dict);\r\n    });\r\n    return ans;\r\n};\r\n\r\nCloud.prototype.parseDict = function (src) {\r\n    var dict = {};\r\n    if (!src) {return dict; }\r\n    src.split(\"&\").forEach(function (entry) {\r\n        var pair = entry.split(\"=\"),\r\n            key = decodeURIComponent(pair[0]),\r\n            val = decodeURIComponent(pair[1]);\r\n        dict[key] = val;\r\n    });\r\n    return dict;\r\n};\r\n\r\nCloud.prototype.encodeDict = function (dict) {\r\n    var str = '',\r\n        pair,\r\n        key;\r\n    if (!dict) {return null; }\r\n    for (key in dict) {\r\n        if (dict.hasOwnProperty(key)) {\r\n            pair = encodeURIComponent(key)\r\n                + '='\r\n                + encodeURIComponent(dict[key]);\r\n            if (str.length > 0) {\r\n                str += '&';\r\n            }\r\n            str += pair;\r\n        }\r\n    }\r\n    return str;\r\n};\r\n\r\n// Cloud: user messages (to be overridden)\r\n\r\nCloud.prototype.message = function (string) {\r\n    alert(string);\r\n};\r\n//fin de cloud.js\r\n/*\r\n\r\n\tsha512.js\r\n\r\n\tencryption for SNAP!\r\n    This file is derived from crypto-js.\r\n\r\n    © 2009–2012 by Jeff Mott. All rights reserved.\r\n\r\n    Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:\r\n\r\n    Redistributions of source code must retain the above copyright notice, this list of conditions, and the following disclaimer.\r\n    Redistributions in binary form must reproduce the above copyright notice, this list of conditions, and the following disclaimer in the documentation or other materials provided with the distribution.\r\n    Neither the name CryptoJS nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.\r\n    THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS,\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE, ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n\r\n*/\r\n\r\nvar hex_sha512 = (function (hex_sha512) {\r\n\r\n    var hexcase = 0;\r\n\r\n    function hex_sha512(s)\r\n    {\r\n      return CryptoJS.SHA512(str2rstr_utf8(s)).toString(CryptoJS.enc.Hex);\r\n    }\r\n\r\n    function rstr_sha512(s)\r\n    {\r\n      return binb2rstr(binb_sha512(rstr2binb(s), s.length * 8));\r\n    }\r\n\r\n    var CryptoJS=CryptoJS||function(a,g){var m={},e=m.lib={},q=e.Base=function(){function a(){}return{extend:function(b){a.prototype=this;var d=new a;b&&d.mixIn(b);d.$super=this;return d},create:function(){var a=this.extend();a.init.apply(a,arguments);return a},init:function(){},mixIn:function(a){for(var k in a)a.hasOwnProperty(k)&&(this[k]=a[k]);a.hasOwnProperty(\"toString\")&&(this.toString=a.toString)},clone:function(){return this.$super.extend(this)}}}(),r=e.WordArray=q.extend({init:function(a,b){a=\r\n    this.words=a||[];this.sigBytes=b!=g?b:4*a.length},toString:function(a){return(a||n).stringify(this)},concat:function(a){var b=this.words,d=a.words,c=this.sigBytes,a=a.sigBytes;this.clamp();if(c%4)for(var i=0;i<a;i++)b[c+i>>>2]|=(d[i>>>2]>>>24-8*(i%4)&255)<<24-8*((c+i)%4);else if(65535<d.length)for(i=0;i<a;i+=4)b[c+i>>>2]=d[i>>>2];else b.push.apply(b,d);this.sigBytes+=a;return this},clamp:function(){var k=this.words,b=this.sigBytes;k[b>>>2]&=4294967295<<32-8*(b%4);k.length=a.ceil(b/4)},clone:function(){var a=\r\n    q.clone.call(this);a.words=this.words.slice(0);return a},random:function(k){for(var b=[],d=0;d<k;d+=4)b.push(4294967296*a.random()|0);return r.create(b,k)}}),y=m.enc={},n=y.Hex={stringify:function(a){for(var b=a.words,a=a.sigBytes,d=[],c=0;c<a;c++){var i=b[c>>>2]>>>24-8*(c%4)&255;d.push((i>>>4).toString(16));d.push((i&15).toString(16))}return d.join(\"\")},parse:function(a){for(var b=a.length,d=[],c=0;c<b;c+=2)d[c>>>3]|=parseInt(a.substr(c,2),16)<<24-4*(c%8);return r.create(d,b/2)}},l=y.Latin1={stringify:function(a){for(var b=\r\n    a.words,a=a.sigBytes,d=[],c=0;c<a;c++)d.push(String.fromCharCode(b[c>>>2]>>>24-8*(c%4)&255));return d.join(\"\")},parse:function(a){for(var b=a.length,d=[],c=0;c<b;c++)d[c>>>2]|=(a.charCodeAt(c)&255)<<24-8*(c%4);return r.create(d,b)}},da=y.Utf8={stringify:function(a){try{return decodeURIComponent(escape(l.stringify(a)))}catch(b){throw Error(\"Malformed UTF-8 data\");}},parse:function(a){return l.parse(unescape(encodeURIComponent(a)))}},h=e.BufferedBlockAlgorithm=q.extend({reset:function(){this._data=\r\n    r.create();this._nDataBytes=0},_append:function(a){\"string\"==typeof a&&(a=da.parse(a));this._data.concat(a);this._nDataBytes+=a.sigBytes},_process:function(k){var b=this._data,d=b.words,c=b.sigBytes,i=this.blockSize,l=c/(4*i),l=k?a.ceil(l):a.max((l|0)-this._minBufferSize,0),k=l*i,c=a.min(4*k,c);if(k){for(var h=0;h<k;h+=i)this._doProcessBlock(d,h);h=d.splice(0,k);b.sigBytes-=c}return r.create(h,c)},clone:function(){var a=q.clone.call(this);a._data=this._data.clone();return a},_minBufferSize:0});e.Hasher=\r\n    h.extend({init:function(){this.reset()},reset:function(){h.reset.call(this);this._doReset()},update:function(a){this._append(a);this._process();return this},finalize:function(a){a&&this._append(a);this._doFinalize();return this._hash},clone:function(){var a=h.clone.call(this);a._hash=this._hash.clone();return a},blockSize:16,_createHelper:function(a){return function(b,d){return a.create(d).finalize(b)}},_createHmacHelper:function(a){return function(b,d){return ea.HMAC.create(a,d).finalize(b)}}});\r\n    var ea=m.algo={};return m}(Math);\r\n    (function(a){var g=CryptoJS,m=g.lib,e=m.Base,q=m.WordArray,g=g.x64={};g.Word=e.extend({init:function(a,e){this.high=a;this.low=e}});g.WordArray=e.extend({init:function(e,y){e=this.words=e||[];this.sigBytes=y!=a?y:8*e.length},toX32:function(){for(var a=this.words,e=a.length,n=[],l=0;l<e;l++){var g=a[l];n.push(g.high);n.push(g.low)}return q.create(n,this.sigBytes)},clone:function(){for(var a=e.clone.call(this),g=a.words=this.words.slice(0),n=g.length,l=0;l<n;l++)g[l]=g[l].clone();return a}})})();\r\n    (function(){function a(){return q.create.apply(q,arguments)}var g=CryptoJS,m=g.lib.Hasher,e=g.x64,q=e.Word,r=e.WordArray,e=g.algo,y=[a(1116352408,3609767458),a(1899447441,602891725),a(3049323471,3964484399),a(3921009573,2173295548),a(961987163,4081628472),a(1508970993,3053834265),a(2453635748,2937671579),a(2870763221,3664609560),a(3624381080,2734883394),a(310598401,1164996542),a(607225278,1323610764),a(1426881987,3590304994),a(1925078388,4068182383),a(2162078206,991336113),a(2614888103,633803317),\r\n    a(3248222580,3479774868),a(3835390401,2666613458),a(4022224774,944711139),a(264347078,2341262773),a(604807628,2007800933),a(770255983,1495990901),a(1249150122,1856431235),a(1555081692,3175218132),a(1996064986,2198950837),a(2554220882,3999719339),a(2821834349,766784016),a(2952996808,2566594879),a(3210313671,3203337956),a(3336571891,1034457026),a(3584528711,2466948901),a(113926993,3758326383),a(338241895,168717936),a(666307205,1188179964),a(773529912,1546045734),a(1294757372,1522805485),a(1396182291,\r\n    2643833823),a(1695183700,2343527390),a(1986661051,1014477480),a(2177026350,1206759142),a(2456956037,344077627),a(2730485921,1290863460),a(2820302411,3158454273),a(3259730800,3505952657),a(3345764771,106217008),a(3516065817,3606008344),a(3600352804,1432725776),a(4094571909,1467031594),a(275423344,851169720),a(430227734,3100823752),a(506948616,1363258195),a(659060556,3750685593),a(883997877,3785050280),a(958139571,3318307427),a(1322822218,3812723403),a(1537002063,2003034995),a(1747873779,3602036899),\r\n    a(1955562222,1575990012),a(2024104815,1125592928),a(2227730452,2716904306),a(2361852424,442776044),a(2428436474,593698344),a(2756734187,3733110249),a(3204031479,2999351573),a(3329325298,3815920427),a(3391569614,3928383900),a(3515267271,566280711),a(3940187606,3454069534),a(4118630271,4000239992),a(116418474,1914138554),a(174292421,2731055270),a(289380356,3203993006),a(460393269,320620315),a(685471733,587496836),a(852142971,1086792851),a(1017036298,365543100),a(1126000580,2618297676),a(1288033470,\r\n    3409855158),a(1501505948,4234509866),a(1607167915,987167468),a(1816402316,1246189591)],n=[];(function(){for(var l=0;80>l;l++)n[l]=a()})();e=e.SHA512=m.extend({_doReset:function(){this._hash=r.create([a(1779033703,4089235720),a(3144134277,2227873595),a(1013904242,4271175723),a(2773480762,1595750129),a(1359893119,2917565137),a(2600822924,725511199),a(528734635,4215389547),a(1541459225,327033209)])},_doProcessBlock:function(a,e){for(var h=this._hash.words,g=h[0],k=h[1],b=h[2],d=h[3],c=h[4],i=h[5],m=\r\n    h[6],h=h[7],q=g.high,r=g.low,W=k.high,K=k.low,X=b.high,L=b.low,Y=d.high,M=d.low,Z=c.high,N=c.low,$=i.high,O=i.low,aa=m.high,P=m.low,ba=h.high,Q=h.low,t=q,o=r,E=W,C=K,F=X,D=L,T=Y,G=M,u=Z,p=N,R=$,H=O,S=aa,I=P,U=ba,J=Q,v=0;80>v;v++){var z=n[v];if(16>v)var s=z.high=a[e+2*v]|0,f=z.low=a[e+2*v+1]|0;else{var s=n[v-15],f=s.high,w=s.low,s=(w<<31|f>>>1)^(w<<24|f>>>8)^f>>>7,w=(f<<31|w>>>1)^(f<<24|w>>>8)^(f<<25|w>>>7),B=n[v-2],f=B.high,j=B.low,B=(j<<13|f>>>19)^(f<<3|j>>>29)^f>>>6,j=(f<<13|j>>>19)^(j<<3|f>>>29)^\r\n    (f<<26|j>>>6),f=n[v-7],V=f.high,A=n[v-16],x=A.high,A=A.low,f=w+f.low,s=s+V+(f>>>0<w>>>0?1:0),f=f+j,s=s+B+(f>>>0<j>>>0?1:0),f=f+A,s=s+x+(f>>>0<A>>>0?1:0);z.high=s;z.low=f}var V=u&R^~u&S,A=p&H^~p&I,z=t&E^t&F^E&F,fa=o&C^o&D^C&D,w=(o<<4|t>>>28)^(t<<30|o>>>2)^(t<<25|o>>>7),B=(t<<4|o>>>28)^(o<<30|t>>>2)^(o<<25|t>>>7),j=y[v],ga=j.high,ca=j.low,j=J+((u<<18|p>>>14)^(u<<14|p>>>18)^(p<<23|u>>>9)),x=U+((p<<18|u>>>14)^(p<<14|u>>>18)^(u<<23|p>>>9))+(j>>>0<J>>>0?1:0),j=j+A,x=x+V+(j>>>0<A>>>0?1:0),j=j+ca,x=x+ga+\r\n    (j>>>0<ca>>>0?1:0),j=j+f,x=x+s+(j>>>0<f>>>0?1:0),f=B+fa,z=w+z+(f>>>0<B>>>0?1:0),U=S,J=I,S=R,I=H,R=u,H=p,p=G+j|0,u=T+x+(p>>>0<G>>>0?1:0)|0,T=F,G=D,F=E,D=C,E=t,C=o,o=j+f|0,t=x+z+(o>>>0<j>>>0?1:0)|0}r=g.low=r+o|0;g.high=q+t+(r>>>0<o>>>0?1:0)|0;K=k.low=K+C|0;k.high=W+E+(K>>>0<C>>>0?1:0)|0;L=b.low=L+D|0;b.high=X+F+(L>>>0<D>>>0?1:0)|0;M=d.low=M+G|0;d.high=Y+T+(M>>>0<G>>>0?1:0)|0;N=c.low=N+p|0;c.high=Z+u+(N>>>0<p>>>0?1:0)|0;O=i.low=O+H|0;i.high=$+R+(O>>>0<H>>>0?1:0)|0;P=m.low=P+I|0;m.high=aa+S+(P>>>0<I>>>\r\n    0?1:0)|0;Q=h.low=Q+J|0;h.high=ba+U+(Q>>>0<J>>>0?1:0)|0},_doFinalize:function(){var a=this._data,e=a.words,h=8*this._nDataBytes,g=8*a.sigBytes;e[g>>>5]|=128<<24-g%32;e[(g+128>>>10<<5)+31]=h;a.sigBytes=4*e.length;this._process();this._hash=this._hash.toX32()},blockSize:32});g.SHA512=m._createHelper(e);g.HmacSHA512=m._createHmacHelper(e)})();\r\n\r\n    function rstr2hex(input)\r\n    {\r\n      try { hexcase } catch(e) { hexcase=0; }\r\n      var hex_tab = hexcase ? \"0123456789ABCDEF\" : \"0123456789abcdef\";\r\n      var output = \"\";\r\n      var x;\r\n      for(var i = 0; i < input.length; i++)\r\n      {\r\n        x = input.charCodeAt(i);\r\n        output += hex_tab.charAt((x >>> 4) & 0x0F)\r\n               +  hex_tab.charAt( x        & 0x0F);\r\n      }\r\n      return output;\r\n    }\r\n\r\n    function str2rstr_utf8(input)\r\n    {\r\n      var output = \"\";\r\n      var i = -1;\r\n      var x, y;\r\n\r\n      while(++i < input.length)\r\n      {\r\n        x = input.charCodeAt(i);\r\n        y = i + 1 < input.length ? input.charCodeAt(i + 1) : 0;\r\n        if(0xD800 <= x && x <= 0xDBFF && 0xDC00 <= y && y <= 0xDFFF)\r\n        {\r\n          x = 0x10000 + ((x & 0x03FF) << 10) + (y & 0x03FF);\r\n          i++;\r\n        }\r\n\r\n        if(x <= 0x7F)\r\n          output += String.fromCharCode(x);\r\n        else if(x <= 0x7FF)\r\n          output += String.fromCharCode(0xC0 | ((x >>> 6 ) & 0x1F),\r\n                                        0x80 | ( x         & 0x3F));\r\n        else if(x <= 0xFFFF)\r\n          output += String.fromCharCode(0xE0 | ((x >>> 12) & 0x0F),\r\n                                        0x80 | ((x >>> 6 ) & 0x3F),\r\n                                        0x80 | ( x         & 0x3F));\r\n        else if(x <= 0x1FFFFF)\r\n          output += String.fromCharCode(0xF0 | ((x >>> 18) & 0x07),\r\n                                        0x80 | ((x >>> 12) & 0x3F),\r\n                                        0x80 | ((x >>> 6 ) & 0x3F),\r\n                                        0x80 | ( x         & 0x3F));\r\n      }\r\n      return output;\r\n    }\r\n\r\n    function rstr2binb(input)\r\n    {\r\n      var output = Array(input.length >> 2);\r\n      for(var i = 0; i < output.length; i++)\r\n        output[i] = 0;\r\n      for(var i = 0; i < input.length * 8; i += 8)\r\n        output[i>>5] |= (input.charCodeAt(i / 8) & 0xFF) << (24 - i % 32);\r\n      return output;\r\n    }\r\n\r\n    function binb2rstr(input)\r\n    {\r\n      var output = \"\";\r\n      for(var i = 0; i < input.length * 32; i += 8)\r\n        output += String.fromCharCode((input[i>>5] >>> (24 - i % 32)) & 0xFF);\r\n      return output;\r\n    }\r\n\r\n    var sha512_k;\r\n    function binb_sha512(x, len)\r\n    {\r\n      if(sha512_k == undefined)\r\n      {\r\n        sha512_k = new Array(\r\n    new int64(0x428a2f98, -685199838), new int64(0x71374491, 0x23ef65cd),\r\n    new int64(-1245643825, -330482897), new int64(-373957723, -2121671748),\r\n    new int64(0x3956c25b, -213338824), new int64(0x59f111f1, -1241133031),\r\n    new int64(-1841331548, -1357295717), new int64(-1424204075, -630357736),\r\n    new int64(-670586216, -1560083902), new int64(0x12835b01, 0x45706fbe),\r\n    new int64(0x243185be, 0x4ee4b28c), new int64(0x550c7dc3, -704662302),\r\n    new int64(0x72be5d74, -226784913), new int64(-2132889090, 0x3b1696b1),\r\n    new int64(-1680079193, 0x25c71235), new int64(-1046744716, -815192428),\r\n    new int64(-459576895, -1628353838), new int64(-272742522, 0x384f25e3),\r\n    new int64(0xfc19dc6, -1953704523), new int64(0x240ca1cc, 0x77ac9c65),\r\n    new int64(0x2de92c6f, 0x592b0275), new int64(0x4a7484aa, 0x6ea6e483),\r\n    new int64(0x5cb0a9dc, -1119749164), new int64(0x76f988da, -2096016459),\r\n    new int64(-1740746414, -295247957), new int64(-1473132947, 0x2db43210),\r\n    new int64(-1341970488, -1728372417), new int64(-1084653625, -1091629340),\r\n    new int64(-958395405, 0x3da88fc2), new int64(-710438585, -1828018395),\r\n    new int64(0x6ca6351, -536640913), new int64(0x14292967, 0xa0e6e70),\r\n    new int64(0x27b70a85, 0x46d22ffc), new int64(0x2e1b2138, 0x5c26c926),\r\n    new int64(0x4d2c6dfc, 0x5ac42aed), new int64(0x53380d13, -1651133473),\r\n    new int64(0x650a7354, -1951439906), new int64(0x766a0abb, 0x3c77b2a8),\r\n    new int64(-2117940946, 0x47edaee6), new int64(-1838011259, 0x1482353b),\r\n    new int64(-1564481375, 0x4cf10364), new int64(-1474664885, -1136513023),\r\n    new int64(-1035236496, -789014639), new int64(-949202525, 0x654be30),\r\n    new int64(-778901479, -688958952), new int64(-694614492, 0x5565a910),\r\n    new int64(-200395387, 0x5771202a), new int64(0x106aa070, 0x32bbd1b8),\r\n    new int64(0x19a4c116, -1194143544), new int64(0x1e376c08, 0x5141ab53),\r\n    new int64(0x2748774c, -544281703), new int64(0x34b0bcb5, -509917016),\r\n    new int64(0x391c0cb3, -976659869), new int64(0x4ed8aa4a, -482243893),\r\n    new int64(0x5b9cca4f, 0x7763e373), new int64(0x682e6ff3, -692930397),\r\n    new int64(0x748f82ee, 0x5defb2fc), new int64(0x78a5636f, 0x43172f60),\r\n    new int64(-2067236844, -1578062990), new int64(-1933114872, 0x1a6439ec),\r\n    new int64(-1866530822, 0x23631e28), new int64(-1538233109, -561857047),\r\n    new int64(-1090935817, -1295615723), new int64(-965641998, -479046869),\r\n    new int64(-903397682, -366583396), new int64(-779700025, 0x21c0c207),\r\n    new int64(-354779690, -840897762), new int64(-176337025, -294727304),\r\n    new int64(0x6f067aa, 0x72176fba), new int64(0xa637dc5, -1563912026),\r\n    new int64(0x113f9804, -1090974290), new int64(0x1b710b35, 0x131c471b),\r\n    new int64(0x28db77f5, 0x23047d84), new int64(0x32caab7b, 0x40c72493),\r\n    new int64(0x3c9ebe0a, 0x15c9bebc), new int64(0x431d67c4, -1676669620),\r\n    new int64(0x4cc5d4be, -885112138), new int64(0x597f299c, -60457430),\r\n    new int64(0x5fcb6fab, 0x3ad6faec), new int64(0x6c44198c, 0x4a475817));\r\n      }\r\n\r\n      var H = new Array(\r\n    new int64(0x6a09e667, -205731576),\r\n    new int64(-1150833019, -2067093701),\r\n    new int64(0x3c6ef372, -23791573),\r\n    new int64(-1521486534, 0x5f1d36f1),\r\n    new int64(0x510e527f, -1377402159),\r\n    new int64(-1694144372, 0x2b3e6c1f),\r\n    new int64(0x1f83d9ab, -79577749),\r\n    new int64(0x5be0cd19, 0x137e2179));\r\n\r\n      var T1 = new int64(0, 0),\r\n        T2 = new int64(0, 0),\r\n        a = new int64(0,0),\r\n        b = new int64(0,0),\r\n        c = new int64(0,0),\r\n        d = new int64(0,0),\r\n        e = new int64(0,0),\r\n        f = new int64(0,0),\r\n        g = new int64(0,0),\r\n        h = new int64(0,0),\r\n\r\n        s0 = new int64(0, 0),\r\n        s1 = new int64(0, 0),\r\n        Ch = new int64(0, 0),\r\n        Maj = new int64(0, 0),\r\n        r1 = new int64(0, 0),\r\n        r2 = new int64(0, 0),\r\n        r3 = new int64(0, 0);\r\n      var j, i;\r\n      var W = new Array(80);\r\n      for(i=0; i<80; i++)\r\n        W[i] = new int64(0, 0);\r\n\r\n      x[len >> 5] |= 0x80 << (24 - (len & 0x1f));\r\n      x[((len + 128 >> 10)<< 5) + 31] = len;\r\n\r\n      for(i = 0; i<x.length; i+=32)\r\n      {\r\n        int64copy(a, H[0]);\r\n        int64copy(b, H[1]);\r\n        int64copy(c, H[2]);\r\n        int64copy(d, H[3]);\r\n        int64copy(e, H[4]);\r\n        int64copy(f, H[5]);\r\n        int64copy(g, H[6]);\r\n        int64copy(h, H[7]);\r\n\r\n        for(j=0; j<16; j++)\r\n        {\r\n            W[j].h = x[i + 2*j];\r\n            W[j].l = x[i + 2*j + 1];\r\n        }\r\n\r\n        for(j=16; j<80; j++)\r\n        {\r\n          int64rrot(r1, W[j-2], 19);\r\n          int64revrrot(r2, W[j-2], 29);\r\n          int64shr(r3, W[j-2], 6);\r\n          s1.l = r1.l ^ r2.l ^ r3.l;\r\n          s1.h = r1.h ^ r2.h ^ r3.h;\r\n          int64rrot(r1, W[j-15], 1);\r\n          int64rrot(r2, W[j-15], 8);\r\n          int64shr(r3, W[j-15], 7);\r\n          s0.l = r1.l ^ r2.l ^ r3.l;\r\n          s0.h = r1.h ^ r2.h ^ r3.h;\r\n\r\n          int64add4(W[j], s1, W[j-7], s0, W[j-16]);\r\n        }\r\n\r\n        for(j = 0; j < 80; j++)\r\n        {\r\n          Ch.l = (e.l & f.l) ^ (~e.l & g.l);\r\n          Ch.h = (e.h & f.h) ^ (~e.h & g.h);\r\n\r\n          int64rrot(r1, e, 14);\r\n          int64rrot(r2, e, 18);\r\n          int64revrrot(r3, e, 9);\r\n          s1.l = r1.l ^ r2.l ^ r3.l;\r\n          s1.h = r1.h ^ r2.h ^ r3.h;\r\n          int64rrot(r1, a, 28);\r\n          int64revrrot(r2, a, 2);\r\n          int64revrrot(r3, a, 7);\r\n          s0.l = r1.l ^ r2.l ^ r3.l;\r\n          s0.h = r1.h ^ r2.h ^ r3.h;\r\n\r\n          Maj.l = (a.l & b.l) ^ (a.l & c.l) ^ (b.l & c.l);\r\n          Maj.h = (a.h & b.h) ^ (a.h & c.h) ^ (b.h & c.h);\r\n\r\n          int64add5(T1, h, s1, Ch, sha512_k[j], W[j]);\r\n          int64add(T2, s0, Maj);\r\n\r\n          int64copy(h, g);\r\n          int64copy(g, f);\r\n          int64copy(f, e);\r\n          int64add(e, d, T1);\r\n          int64copy(d, c);\r\n          int64copy(c, b);\r\n          int64copy(b, a);\r\n          int64add(a, T1, T2);\r\n        }\r\n        int64add(H[0], H[0], a);\r\n        int64add(H[1], H[1], b);\r\n        int64add(H[2], H[2], c);\r\n        int64add(H[3], H[3], d);\r\n        int64add(H[4], H[4], e);\r\n        int64add(H[5], H[5], f);\r\n        int64add(H[6], H[6], g);\r\n        int64add(H[7], H[7], h);\r\n      }\r\n\r\n      var hash = new Array(16);\r\n      for(i=0; i<8; i++)\r\n      {\r\n        hash[2*i] = H[i].h;\r\n        hash[2*i + 1] = H[i].l;\r\n      }\r\n      return hash;\r\n    }\r\n\r\n    function int64(h, l)\r\n    {\r\n      this.h = h;\r\n      this.l = l;\r\n    }\r\n\r\n    function int64copy(dst, src)\r\n    {\r\n      dst.h = src.h;\r\n      dst.l = src.l;\r\n    }\r\n\r\n    function int64rrot(dst, x, shift)\r\n    {\r\n        dst.l = (x.l >>> shift) | (x.h << (32-shift));\r\n        dst.h = (x.h >>> shift) | (x.l << (32-shift));\r\n    }\r\n\r\n    function int64revrrot(dst, x, shift)\r\n    {\r\n        dst.l = (x.h >>> shift) | (x.l << (32-shift));\r\n        dst.h = (x.l >>> shift) | (x.h << (32-shift));\r\n    }\r\n\r\n    function int64shr(dst, x, shift)\r\n    {\r\n        dst.l = (x.l >>> shift) | (x.h << (32-shift));\r\n        dst.h = (x.h >>> shift);\r\n    }\r\n\r\n    function int64add(dst, x, y)\r\n    {\r\n       var w0 = (x.l & 0xffff) + (y.l & 0xffff);\r\n       var w1 = (x.l >>> 16) + (y.l >>> 16) + (w0 >>> 16);\r\n       var w2 = (x.h & 0xffff) + (y.h & 0xffff) + (w1 >>> 16);\r\n       var w3 = (x.h >>> 16) + (y.h >>> 16) + (w2 >>> 16);\r\n       dst.l = (w0 & 0xffff) | (w1 << 16);\r\n       dst.h = (w2 & 0xffff) | (w3 << 16);\r\n    }\r\n\r\n    function int64add4(dst, a, b, c, d)\r\n    {\r\n       var w0 = (a.l & 0xffff) + (b.l & 0xffff) + (c.l & 0xffff) + (d.l & 0xffff);\r\n       var w1 = (a.l >>> 16) + (b.l >>> 16) + (c.l >>> 16) + (d.l >>> 16) + (w0 >>> 16);\r\n       var w2 = (a.h & 0xffff) + (b.h & 0xffff) + (c.h & 0xffff) + (d.h & 0xffff) + (w1 >>> 16);\r\n       var w3 = (a.h >>> 16) + (b.h >>> 16) + (c.h >>> 16) + (d.h >>> 16) + (w2 >>> 16);\r\n       dst.l = (w0 & 0xffff) | (w1 << 16);\r\n       dst.h = (w2 & 0xffff) | (w3 << 16);\r\n    }\r\n\r\n    function int64add5(dst, a, b, c, d, e)\r\n    {\r\n       var w0 = (a.l & 0xffff) + (b.l & 0xffff) + (c.l & 0xffff) + (d.l & 0xffff) + (e.l & 0xffff);\r\n       var w1 = (a.l >>> 16) + (b.l >>> 16) + (c.l >>> 16) + (d.l >>> 16) + (e.l >>> 16) + (w0 >>> 16);\r\n       var w2 = (a.h & 0xffff) + (b.h & 0xffff) + (c.h & 0xffff) + (d.h & 0xffff) + (e.h & 0xffff) + (w1 >>> 16);\r\n       var w3 = (a.h >>> 16) + (b.h >>> 16) + (c.h >>> 16) + (d.h >>> 16) + (e.h >>> 16) + (w2 >>> 16);\r\n       dst.l = (w0 & 0xffff) | (w1 << 16);\r\n       dst.h = (w2 & 0xffff) | (w3 << 16);\r\n    }\r\n\r\n    return hex_sha512;\r\n\r\n})({});\r\n//End of sha512.js\r\n\r\n\r\n/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */\r\nvar saveAs=saveAs||function(e){\"use strict\";if(typeof e===\"undefined\"||typeof navigator!==\"undefined\"&&/MSIE [1-9]\\./.test(navigator.userAgent)){return}var t=e.document,n=function(){return e.URL||e.webkitURL||e},r=t.createElementNS(\"http://www.w3.org/1999/xhtml\",\"a\"),o=\"download\"in r,a=function(e){var t=new MouseEvent(\"click\");e.dispatchEvent(t)},i=/constructor/i.test(e.HTMLElement)||e.safari,f=/CriOS\\/[\\d]+/.test(navigator.userAgent),u=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},s=\"application/octet-stream\",d=1e3*40,c=function(e){var t=function(){if(typeof e===\"string\"){n().revokeObjectURL(e)}else{e.remove()}};setTimeout(t,d)},l=function(e,t,n){t=[].concat(t);var r=t.length;while(r--){var o=e[\"on\"+t[r]];if(typeof o===\"function\"){try{o.call(e,n||e)}catch(a){u(a)}}}},p=function(e){if(/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(e.type)){return new Blob([String.fromCharCode(65279),e],{type:e.type})}return e},v=function(t,u,d){if(!d){t=p(t)}var v=this,w=t.type,m=w===s,y,h=function(){l(v,\"writestart progress write writeend\".split(\" \"))},S=function(){if((f||m&&i)&&e.FileReader){var r=new FileReader;r.onloadend=function(){var t=f?r.result:r.result.replace(/^data:[^;]*;/,\"data:attachment/file;\");var n=e.open(t,\"_blank\");if(!n)e.location.href=t;t=undefined;v.readyState=v.DONE;h()};r.readAsDataURL(t);v.readyState=v.INIT;return}if(!y){y=n().createObjectURL(t)}if(m){e.location.href=y}else{var o=e.open(y,\"_blank\");if(!o){e.location.href=y}}v.readyState=v.DONE;h();c(y)};v.readyState=v.INIT;if(o){y=n().createObjectURL(t);setTimeout(function(){r.href=y;r.download=u;a(r);h();c(y);v.readyState=v.DONE});return}S()},w=v.prototype,m=function(e,t,n){return new v(e,t||e.name||\"download\",n)};if(typeof navigator!==\"undefined\"&&navigator.msSaveOrOpenBlob){return function(e,t,n){t=t||e.name||\"download\";if(!n){e=p(e)}return navigator.msSaveOrOpenBlob(e,t)}}w.abort=function(){};w.readyState=w.INIT=0;w.WRITING=1;w.DONE=2;w.error=w.onwritestart=w.onprogress=w.onwrite=w.onabort=w.onerror=w.onwriteend=null;return m}(typeof self!==\"undefined\"&&self||typeof window!==\"undefined\"&&window||this.content);if(typeof module!==\"undefined\"&&module.exports){module.exports.saveAs=saveAs}else if(typeof define!==\"undefined\"&&define!==null&&define.amd!==null){define(\"FileSaver.js\",[],function(){return saveAs})}\r\n\r\n// End of bundeling\r\n\r\n//********************Wiquid******************************************************\r\n\r\n mod.snap.tao = function(message){alert(message);};\r\n\r\n    disableRetinaSupport();// here modify OPTION RETINA \r\n    //world = new WorldMorph(document.getElementById('world')); // original syntax rejected because of id use.\r\n    var elementCanvas = document.getElementsByClassName('world');   \r\n    world = new WorldMorph(elementCanvas[0]);\r\n    mod.snap.world = world;\r\n    world.worldCanvas.focus();\r\n    new IDE_Morph().openIn(world);\r\n    world.panelLeft = panel_Left;\r\n\r\n    world.xmlString = getSnapProjectScript;\r\n    world.leftReducer = function leftReducer() {    \r\n        panel_Left.setPaletteWidth(1); return 1; \r\n    };\r\n\r\n    world.leftExpand = function leftExpand() { panel_Left.setPaletteWidth(200); return 200; };\r\n    \r\n    \r\n    world.importator = function importator() {\r\n        var myself = world.children[0];\r\n        var inp = document.createElement('input');\r\n        if (myself.filePicker) {\r\n            document.body.removeChild(myself.filePicker);\r\n            myself.filePicker = null;\r\n        }\r\n        inp.type = 'file';\r\n        inp.style.color = \"transparent\";\r\n        inp.style.backgroundColor = \"transparent\";\r\n        inp.style.border = \"none\";\r\n        inp.style.outline = \"none\";\r\n        inp.style.position = \"absolute\";\r\n        inp.style.top = \"0px\";\r\n        inp.style.left = \"0px\";\r\n        inp.style.width = \"0px\";\r\n        inp.style.height = \"0px\";\r\n        inp.style.display = \"none\";\r\n        inp.addEventListener(\"change\",function () {\r\n            document.body.removeChild(inp);\r\n            myself.filePicker = null;\r\n            world.hand.processDrop(inp.files);\r\n        },false);\r\n        document.body.appendChild(inp);\r\n        myself.filePicker = inp;\r\n        inp.click();\r\n        /*return new Promise(function(resolve, reject){\r\n                            var value = getSnapProjectScript; //XML String to load by tao interface\r\n                            resolve(value);\r\n                            });*/\r\n    }\r\n    \r\n    loop();\r\n\r\n    function loop() {\r\n        requestAnimationFrame(loop);\r\n        world.doOneCycle();  \r\n\r\n    }\r\n\r\n\r\n return panel_Left;\r\n    }; //End of mod.snap\r\n\r\n\r\nreturn mod;\r\n//*************************End mod - Wiquid solution ***************************    \r\n});\n","/*\r\n\r\nBuild by Wiquid's PCI Generator for TAO platform Free to use - http://www.wiquid.fr/depp/ent/\r\nCopyright DEPP © 2018 - Ministère de l'éducation nationale \r\n\r\n */\r\n\r\ndefine('SnapForTao/runtime/js/renderer',['taoQtiItem/portableLib/jquery_2_1_1', 'taoQtiItem/portableLib/OAT/util/html', 'SnapForTao/runtime/js/lib/mod'], function($, html, mod){\r\n    'use strict';\r\n\r\n function renderChoices(id, $container, config){\r\n    var snapInstance;\r\n\r\n    $container.find(\".snapy\").append('<canvas class=\"world\" tabindex=\"1\" ><p>Your browser doesn\\'t support canvas.</p></canvas>');   \r\n                \r\n    snapInstance = mod.snap(id, $container, config);\r\n      \r\n    // Left Panel Sizer \r\n    if(config.panelSizer == 'nonVisible'){ mod.snap.world.leftReducer(); }\r\n    else{mod.snap.world.leftExpand();}\r\n\r\n}\r\n\r\n\r\n    return {\r\n        render : function(id, container, config, assetManager){\r\n\r\n            var $container = $(container);\r\n\r\n            renderChoices(id, $container, config);\r\n            \r\n            //render rich text content in prompt\r\n            html.render($container.find('.prompt'));\r\n        },\r\n        renderChoices : function(id, container, config){\r\n            renderChoices(id, $(container), config);\r\n        }\r\n\r\n    };\r\n});\r\n \r\n \n","/**\r\n * @license\r\n * Lo-Dash 2.4.1 (Custom Build) lodash.com/license | Underscore.js 1.5.2 underscorejs.org/LICENSE\r\n * Build: `lodash -o ./dist/lodash.compat.js`\r\n */\r\n;(function(){function n(n,t,e){e=(e||0)-1;for(var r=n?n.length:0;++e<r;)if(n[e]===t)return e;return-1}function t(t,e){var r=typeof e;if(t=t.l,\"boolean\"==r||null==e)return t[e]?0:-1;\"number\"!=r&&\"string\"!=r&&(r=\"object\");var u=\"number\"==r?e:b+e;return t=(t=t[r])&&t[u],\"object\"==r?t&&-1<n(t,e)?0:-1:t?0:-1}function e(n){var t=this.l,e=typeof n;if(\"boolean\"==e||null==n)t[n]=true;else{\"number\"!=e&&\"string\"!=e&&(e=\"object\");var r=\"number\"==e?n:b+n,t=t[e]||(t[e]={});\"object\"==e?(t[r]||(t[r]=[])).push(n):t[r]=true\r\n}}function r(n){return n.charCodeAt(0)}function u(n,t){for(var e=n.m,r=t.m,u=-1,o=e.length;++u<o;){var a=e[u],i=r[u];if(a!==i){if(a>i||typeof a==\"undefined\")return 1;if(a<i||typeof i==\"undefined\")return-1}}return n.n-t.n}function o(n){var t=-1,r=n.length,u=n[0],o=n[r/2|0],a=n[r-1];if(u&&typeof u==\"object\"&&o&&typeof o==\"object\"&&a&&typeof a==\"object\")return false;for(u=l(),u[\"false\"]=u[\"null\"]=u[\"true\"]=u.undefined=false,o=l(),o.k=n,o.l=u,o.push=e;++t<r;)o.push(n[t]);return o}function a(n){return\"\\\\\"+Y[n]\r\n}function i(){return v.pop()||[]}function l(){return y.pop()||{k:null,l:null,m:null,\"false\":false,n:0,\"null\":false,number:null,object:null,push:null,string:null,\"true\":false,undefined:false,o:null}}function f(n){return typeof n.toString!=\"function\"&&typeof(n+\"\")==\"string\"}function c(n){n.length=0,v.length<w&&v.push(n)}function p(n){var t=n.l;t&&p(t),n.k=n.l=n.m=n.object=n.number=n.string=n.o=null,y.length<w&&y.push(n)}function s(n,t,e){t||(t=0),typeof e==\"undefined\"&&(e=n?n.length:0);var r=-1;e=e-t||0;for(var u=Array(0>e?0:e);++r<e;)u[r]=n[t+r];\r\nreturn u}function g(e){function v(n){return n&&typeof n==\"object\"&&!qe(n)&&we.call(n,\"__wrapped__\")?n:new y(n)}function y(n,t){this.__chain__=!!t,this.__wrapped__=n}function w(n){function t(){if(r){var n=s(r);je.apply(n,arguments)}if(this instanceof t){var o=nt(e.prototype),n=e.apply(o,n||arguments);return xt(n)?n:o}return e.apply(u,n||arguments)}var e=n[0],r=n[2],u=n[4];return ze(t,n),t}function Y(n,t,e,r,u){if(e){var o=e(n);if(typeof o!=\"undefined\")return o}if(!xt(n))return n;var a=he.call(n);if(!V[a]||!Le.nodeClass&&f(n))return n;\r\nvar l=Te[a];switch(a){case L:case z:return new l(+n);case W:case M:return new l(n);case J:return o=l(n.source,S.exec(n)),o.lastIndex=n.lastIndex,o}if(a=qe(n),t){var p=!r;r||(r=i()),u||(u=i());for(var g=r.length;g--;)if(r[g]==n)return u[g];o=a?l(n.length):{}}else o=a?s(n):Ye({},n);return a&&(we.call(n,\"index\")&&(o.index=n.index),we.call(n,\"input\")&&(o.input=n.input)),t?(r.push(n),u.push(o),(a?Xe:tr)(n,function(n,a){o[a]=Y(n,t,e,r,u)}),p&&(c(r),c(u)),o):o}function nt(n){return xt(n)?Se(n):{}}function tt(n,t,e){if(typeof n!=\"function\")return Ht;\r\nif(typeof t==\"undefined\"||!(\"prototype\"in n))return n;var r=n.__bindData__;if(typeof r==\"undefined\"&&(Le.funcNames&&(r=!n.name),r=r||!Le.funcDecomp,!r)){var u=be.call(n);Le.funcNames||(r=!A.test(u)),r||(r=B.test(u),ze(n,r))}if(false===r||true!==r&&1&r[1])return n;switch(e){case 1:return function(e){return n.call(t,e)};case 2:return function(e,r){return n.call(t,e,r)};case 3:return function(e,r,u){return n.call(t,e,r,u)};case 4:return function(e,r,u,o){return n.call(t,e,r,u,o)}}return Mt(n,t)}function et(n){function t(){var n=l?a:this;\r\nif(u){var h=s(u);je.apply(h,arguments)}return(o||c)&&(h||(h=s(arguments)),o&&je.apply(h,o),c&&h.length<i)?(r|=16,et([e,p?r:-4&r,h,null,a,i])):(h||(h=arguments),f&&(e=n[g]),this instanceof t?(n=nt(e.prototype),h=e.apply(n,h),xt(h)?h:n):e.apply(n,h))}var e=n[0],r=n[1],u=n[2],o=n[3],a=n[4],i=n[5],l=1&r,f=2&r,c=4&r,p=8&r,g=e;return ze(t,n),t}function rt(e,r){var u=-1,a=ht(),i=e?e.length:0,l=i>=_&&a===n,f=[];if(l){var c=o(r);c?(a=t,r=c):l=false}for(;++u<i;)c=e[u],0>a(r,c)&&f.push(c);return l&&p(r),f}function ot(n,t,e,r){r=(r||0)-1;\r\nfor(var u=n?n.length:0,o=[];++r<u;){var a=n[r];if(a&&typeof a==\"object\"&&typeof a.length==\"number\"&&(qe(a)||dt(a))){t||(a=ot(a,t,e));var i=-1,l=a.length,f=o.length;for(o.length+=l;++i<l;)o[f++]=a[i]}else e||o.push(a)}return o}function at(n,t,e,r,u,o){if(e){var a=e(n,t);if(typeof a!=\"undefined\")return!!a}if(n===t)return 0!==n||1/n==1/t;if(n===n&&!(n&&X[typeof n]||t&&X[typeof t]))return false;if(null==n||null==t)return n===t;var l=he.call(n),p=he.call(t);if(l==T&&(l=G),p==T&&(p=G),l!=p)return false;switch(l){case L:case z:return+n==+t;\r\ncase W:return n!=+n?t!=+t:0==n?1/n==1/t:n==+t;case J:case M:return n==ie(t)}if(p=l==$,!p){var s=we.call(n,\"__wrapped__\"),g=we.call(t,\"__wrapped__\");if(s||g)return at(s?n.__wrapped__:n,g?t.__wrapped__:t,e,r,u,o);if(l!=G||!Le.nodeClass&&(f(n)||f(t)))return false;if(l=!Le.argsObject&&dt(n)?oe:n.constructor,s=!Le.argsObject&&dt(t)?oe:t.constructor,l!=s&&!(jt(l)&&l instanceof l&&jt(s)&&s instanceof s)&&\"constructor\"in n&&\"constructor\"in t)return false}for(l=!u,u||(u=i()),o||(o=i()),s=u.length;s--;)if(u[s]==n)return o[s]==t;\r\nvar h=0,a=true;if(u.push(n),o.push(t),p){if(s=n.length,h=t.length,(a=h==s)||r)for(;h--;)if(p=s,g=t[h],r)for(;p--&&!(a=at(n[p],g,e,r,u,o)););else if(!(a=at(n[h],g,e,r,u,o)))break}else nr(t,function(t,i,l){return we.call(l,i)?(h++,a=we.call(n,i)&&at(n[i],t,e,r,u,o)):void 0}),a&&!r&&nr(n,function(n,t,e){return we.call(e,t)?a=-1<--h:void 0});return u.pop(),o.pop(),l&&(c(u),c(o)),a}function it(n,t,e,r,u){(qe(t)?Dt:tr)(t,function(t,o){var a,i,l=t,f=n[o];if(t&&((i=qe(t))||er(t))){for(l=r.length;l--;)if(a=r[l]==t){f=u[l];\r\nbreak}if(!a){var c;e&&(l=e(f,t),c=typeof l!=\"undefined\")&&(f=l),c||(f=i?qe(f)?f:[]:er(f)?f:{}),r.push(t),u.push(f),c||it(f,t,e,r,u)}}else e&&(l=e(f,t),typeof l==\"undefined\"&&(l=t)),typeof l!=\"undefined\"&&(f=l);n[o]=f})}function lt(n,t){return n+de(Fe()*(t-n+1))}function ft(e,r,u){var a=-1,l=ht(),f=e?e.length:0,s=[],g=!r&&f>=_&&l===n,h=u||g?i():s;for(g&&(h=o(h),l=t);++a<f;){var v=e[a],y=u?u(v,a,e):v;(r?!a||h[h.length-1]!==y:0>l(h,y))&&((u||g)&&h.push(y),s.push(v))}return g?(c(h.k),p(h)):u&&c(h),s}function ct(n){return function(t,e,r){var u={};\r\nif(e=v.createCallback(e,r,3),qe(t)){r=-1;for(var o=t.length;++r<o;){var a=t[r];n(u,a,e(a,r,t),t)}}else Xe(t,function(t,r,o){n(u,t,e(t,r,o),o)});return u}}function pt(n,t,e,r,u,o){var a=1&t,i=4&t,l=16&t,f=32&t;if(!(2&t||jt(n)))throw new le;l&&!e.length&&(t&=-17,l=e=false),f&&!r.length&&(t&=-33,f=r=false);var c=n&&n.__bindData__;return c&&true!==c?(c=s(c),c[2]&&(c[2]=s(c[2])),c[3]&&(c[3]=s(c[3])),!a||1&c[1]||(c[4]=u),!a&&1&c[1]&&(t|=8),!i||4&c[1]||(c[5]=o),l&&je.apply(c[2]||(c[2]=[]),e),f&&Ee.apply(c[3]||(c[3]=[]),r),c[1]|=t,pt.apply(null,c)):(1==t||17===t?w:et)([n,t,e,r,u,o])\r\n}function st(){Q.h=F,Q.b=Q.c=Q.g=Q.i=\"\",Q.e=\"t\",Q.j=true;for(var n,t=0;n=arguments[t];t++)for(var e in n)Q[e]=n[e];t=Q.a,Q.d=/^[^,]+/.exec(t)[0],n=ee,t=\"return function(\"+t+\"){\",e=Q;var r=\"var n,t=\"+e.d+\",E=\"+e.e+\";if(!t)return E;\"+e.i+\";\";e.b?(r+=\"var u=t.length;n=-1;if(\"+e.b+\"){\",Le.unindexedChars&&(r+=\"if(s(t)){t=t.split('')}\"),r+=\"while(++n<u){\"+e.g+\";}}else{\"):Le.nonEnumArgs&&(r+=\"var u=t.length;n=-1;if(u&&p(t)){while(++n<u){n+='';\"+e.g+\";}}else{\"),Le.enumPrototypes&&(r+=\"var G=typeof t=='function';\"),Le.enumErrorProps&&(r+=\"var F=t===k||t instanceof Error;\");\r\nvar u=[];if(Le.enumPrototypes&&u.push('!(G&&n==\"prototype\")'),Le.enumErrorProps&&u.push('!(F&&(n==\"message\"||n==\"name\"))'),e.j&&e.f)r+=\"var C=-1,D=B[typeof t]&&v(t),u=D?D.length:0;while(++C<u){n=D[C];\",u.length&&(r+=\"if(\"+u.join(\"&&\")+\"){\"),r+=e.g+\";\",u.length&&(r+=\"}\"),r+=\"}\";else if(r+=\"for(n in t){\",e.j&&u.push(\"m.call(t, n)\"),u.length&&(r+=\"if(\"+u.join(\"&&\")+\"){\"),r+=e.g+\";\",u.length&&(r+=\"}\"),r+=\"}\",Le.nonEnumShadows){for(r+=\"if(t!==A){var i=t.constructor,r=t===(i&&i.prototype),f=t===J?I:t===k?j:L.call(t),x=y[f];\",k=0;7>k;k++)r+=\"n='\"+e.h[k]+\"';if((!(r&&x[n])&&m.call(t,n))\",e.j||(r+=\"||(!x[n]&&t[n]!==A[n])\"),r+=\"){\"+e.g+\"}\";\r\nr+=\"}\"}return(e.b||Le.nonEnumArgs)&&(r+=\"}\"),r+=e.c+\";return E\",n(\"d,j,k,m,o,p,q,s,v,A,B,y,I,J,L\",t+r+\"}\")(tt,q,ce,we,d,dt,qe,kt,Q.f,pe,X,$e,M,se,he)}function gt(n){return Ve[n]}function ht(){var t=(t=v.indexOf)===zt?n:t;return t}function vt(n){return typeof n==\"function\"&&ve.test(n)}function yt(n){var t,e;return!n||he.call(n)!=G||(t=n.constructor,jt(t)&&!(t instanceof t))||!Le.argsClass&&dt(n)||!Le.nodeClass&&f(n)?false:Le.ownLast?(nr(n,function(n,t,r){return e=we.call(r,t),false}),false!==e):(nr(n,function(n,t){e=t\r\n}),typeof e==\"undefined\"||we.call(n,e))}function mt(n){return He[n]}function dt(n){return n&&typeof n==\"object\"&&typeof n.length==\"number\"&&he.call(n)==T||false}function bt(n,t,e){var r=We(n),u=r.length;for(t=tt(t,e,3);u--&&(e=r[u],false!==t(n[e],e,n)););return n}function _t(n){var t=[];return nr(n,function(n,e){jt(n)&&t.push(e)}),t.sort()}function wt(n){for(var t=-1,e=We(n),r=e.length,u={};++t<r;){var o=e[t];u[n[o]]=o}return u}function jt(n){return typeof n==\"function\"}function xt(n){return!(!n||!X[typeof n])\r\n}function Ct(n){return typeof n==\"number\"||n&&typeof n==\"object\"&&he.call(n)==W||false}function kt(n){return typeof n==\"string\"||n&&typeof n==\"object\"&&he.call(n)==M||false}function Et(n){for(var t=-1,e=We(n),r=e.length,u=Zt(r);++t<r;)u[t]=n[e[t]];return u}function Ot(n,t,e){var r=-1,u=ht(),o=n?n.length:0,a=false;return e=(0>e?Be(0,o+e):e)||0,qe(n)?a=-1<u(n,t,e):typeof o==\"number\"?a=-1<(kt(n)?n.indexOf(t,e):u(n,t,e)):Xe(n,function(n){return++r<e?void 0:!(a=n===t)}),a}function St(n,t,e){var r=true;if(t=v.createCallback(t,e,3),qe(n)){e=-1;\r\nfor(var u=n.length;++e<u&&(r=!!t(n[e],e,n)););}else Xe(n,function(n,e,u){return r=!!t(n,e,u)});return r}function At(n,t,e){var r=[];if(t=v.createCallback(t,e,3),qe(n)){e=-1;for(var u=n.length;++e<u;){var o=n[e];t(o,e,n)&&r.push(o)}}else Xe(n,function(n,e,u){t(n,e,u)&&r.push(n)});return r}function It(n,t,e){if(t=v.createCallback(t,e,3),!qe(n)){var r;return Xe(n,function(n,e,u){return t(n,e,u)?(r=n,false):void 0}),r}e=-1;for(var u=n.length;++e<u;){var o=n[e];if(t(o,e,n))return o}}function Dt(n,t,e){if(t&&typeof e==\"undefined\"&&qe(n)){e=-1;\r\nfor(var r=n.length;++e<r&&false!==t(n[e],e,n););}else Xe(n,t,e);return n}function Nt(n,t,e){var r=n,u=n?n.length:0;if(t=t&&typeof e==\"undefined\"?t:tt(t,e,3),qe(n))for(;u--&&false!==t(n[u],u,n););else{if(typeof u!=\"number\")var o=We(n),u=o.length;else Le.unindexedChars&&kt(n)&&(r=n.split(\"\"));Xe(n,function(n,e,a){return e=o?o[--u]:--u,t(r[e],e,a)})}return n}function Bt(n,t,e){var r=-1,u=n?n.length:0,o=Zt(typeof u==\"number\"?u:0);if(t=v.createCallback(t,e,3),qe(n))for(;++r<u;)o[r]=t(n[r],r,n);else Xe(n,function(n,e,u){o[++r]=t(n,e,u)\r\n});return o}function Pt(n,t,e){var u=-1/0,o=u;if(typeof t!=\"function\"&&e&&e[t]===n&&(t=null),null==t&&qe(n)){e=-1;for(var a=n.length;++e<a;){var i=n[e];i>o&&(o=i)}}else t=null==t&&kt(n)?r:v.createCallback(t,e,3),Xe(n,function(n,e,r){e=t(n,e,r),e>u&&(u=e,o=n)});return o}function Rt(n,t,e,r){var u=3>arguments.length;if(t=v.createCallback(t,r,4),qe(n)){var o=-1,a=n.length;for(u&&(e=n[++o]);++o<a;)e=t(e,n[o],o,n)}else Xe(n,function(n,r,o){e=u?(u=false,n):t(e,n,r,o)});return e}function Ft(n,t,e,r){var u=3>arguments.length;\r\nreturn t=v.createCallback(t,r,4),Nt(n,function(n,r,o){e=u?(u=false,n):t(e,n,r,o)}),e}function Tt(n){var t=-1,e=n?n.length:0,r=Zt(typeof e==\"number\"?e:0);return Dt(n,function(n){var e=lt(0,++t);r[t]=r[e],r[e]=n}),r}function $t(n,t,e){var r;if(t=v.createCallback(t,e,3),qe(n)){e=-1;for(var u=n.length;++e<u&&!(r=t(n[e],e,n)););}else Xe(n,function(n,e,u){return!(r=t(n,e,u))});return!!r}function Lt(n,t,e){var r=0,u=n?n.length:0;if(typeof t!=\"number\"&&null!=t){var o=-1;for(t=v.createCallback(t,e,3);++o<u&&t(n[o],o,n);)r++\r\n}else if(r=t,null==r||e)return n?n[0]:h;return s(n,0,Pe(Be(0,r),u))}function zt(t,e,r){if(typeof r==\"number\"){var u=t?t.length:0;r=0>r?Be(0,u+r):r||0}else if(r)return r=Kt(t,e),t[r]===e?r:-1;return n(t,e,r)}function qt(n,t,e){if(typeof t!=\"number\"&&null!=t){var r=0,u=-1,o=n?n.length:0;for(t=v.createCallback(t,e,3);++u<o&&t(n[u],u,n);)r++}else r=null==t||e?1:Be(0,t);return s(n,r)}function Kt(n,t,e,r){var u=0,o=n?n.length:u;for(e=e?v.createCallback(e,r,1):Ht,t=e(t);u<o;)r=u+o>>>1,e(n[r])<t?u=r+1:o=r;\r\nreturn u}function Wt(n,t,e,r){return typeof t!=\"boolean\"&&null!=t&&(r=e,e=typeof t!=\"function\"&&r&&r[t]===n?null:t,t=false),null!=e&&(e=v.createCallback(e,r,3)),ft(n,t,e)}function Gt(){for(var n=1<arguments.length?arguments:arguments[0],t=-1,e=n?Pt(ar(n,\"length\")):0,r=Zt(0>e?0:e);++t<e;)r[t]=ar(n,t);return r}function Jt(n,t){var e=-1,r=n?n.length:0,u={};for(t||!r||qe(n[0])||(t=[]);++e<r;){var o=n[e];t?u[o]=t[e]:o&&(u[o[0]]=o[1])}return u}function Mt(n,t){return 2<arguments.length?pt(n,17,s(arguments,2),null,t):pt(n,1,null,null,t)\r\n}function Vt(n,t,e){var r,u,o,a,i,l,f,c=0,p=false,s=true;if(!jt(n))throw new le;if(t=Be(0,t)||0,true===e)var g=true,s=false;else xt(e)&&(g=e.leading,p=\"maxWait\"in e&&(Be(t,e.maxWait)||0),s=\"trailing\"in e?e.trailing:s);var v=function(){var e=t-(ir()-a);0<e?l=Ce(v,e):(u&&me(u),e=f,u=l=f=h,e&&(c=ir(),o=n.apply(i,r),l||u||(r=i=null)))},y=function(){l&&me(l),u=l=f=h,(s||p!==t)&&(c=ir(),o=n.apply(i,r),l||u||(r=i=null))};return function(){if(r=arguments,a=ir(),i=this,f=s&&(l||!g),false===p)var e=g&&!l;else{u||g||(c=a);\r\nvar h=p-(a-c),m=0>=h;m?(u&&(u=me(u)),c=a,o=n.apply(i,r)):u||(u=Ce(y,h))}return m&&l?l=me(l):l||t===p||(l=Ce(v,t)),e&&(m=true,o=n.apply(i,r)),!m||l||u||(r=i=null),o}}function Ht(n){return n}function Ut(n,t,e){var r=true,u=t&&_t(t);t&&(e||u.length)||(null==e&&(e=t),o=y,t=n,n=v,u=_t(t)),false===e?r=false:xt(e)&&\"chain\"in e&&(r=e.chain);var o=n,a=jt(o);Dt(u,function(e){var u=n[e]=t[e];a&&(o.prototype[e]=function(){var t=this.__chain__,e=this.__wrapped__,a=[e];if(je.apply(a,arguments),a=u.apply(n,a),r||t){if(e===a&&xt(a))return this;\r\na=new o(a),a.__chain__=t}return a})})}function Qt(){}function Xt(n){return function(t){return t[n]}}function Yt(){return this.__wrapped__}e=e?ut.defaults(Z.Object(),e,ut.pick(Z,R)):Z;var Zt=e.Array,ne=e.Boolean,te=e.Date,ee=e.Function,re=e.Math,ue=e.Number,oe=e.Object,ae=e.RegExp,ie=e.String,le=e.TypeError,fe=[],ce=e.Error.prototype,pe=oe.prototype,se=ie.prototype,ge=e._,he=pe.toString,ve=ae(\"^\"+ie(he).replace(/[.*+?^${}()|[\\]\\\\]/g,\"\\\\$&\").replace(/toString| for [^\\]]+/g,\".*?\")+\"$\"),ye=re.ceil,me=e.clearTimeout,de=re.floor,be=ee.prototype.toString,_e=vt(_e=oe.getPrototypeOf)&&_e,we=pe.hasOwnProperty,je=fe.push,xe=pe.propertyIsEnumerable,Ce=e.setTimeout,ke=fe.splice,Ee=fe.unshift,Oe=function(){try{var n={},t=vt(t=oe.defineProperty)&&t,e=t(n,n,n)&&t\r\n}catch(r){}return e}(),Se=vt(Se=oe.create)&&Se,Ae=vt(Ae=Zt.isArray)&&Ae,Ie=e.isFinite,De=e.isNaN,Ne=vt(Ne=oe.keys)&&Ne,Be=re.max,Pe=re.min,Re=e.parseInt,Fe=re.random,Te={};Te[$]=Zt,Te[L]=ne,Te[z]=te,Te[K]=ee,Te[G]=oe,Te[W]=ue,Te[J]=ae,Te[M]=ie;var $e={};$e[$]=$e[z]=$e[W]={constructor:true,toLocaleString:true,toString:true,valueOf:true},$e[L]=$e[M]={constructor:true,toString:true,valueOf:true},$e[q]=$e[K]=$e[J]={constructor:true,toString:true},$e[G]={constructor:true},function(){for(var n=F.length;n--;){var t,e=F[n];\r\nfor(t in $e)we.call($e,t)&&!we.call($e[t],e)&&($e[t][e]=false)}}(),y.prototype=v.prototype;var Le=v.support={};!function(){var n=function(){this.x=1},t={0:1,length:1},r=[];n.prototype={valueOf:1,y:1};for(var u in new n)r.push(u);for(u in arguments);Le.argsClass=he.call(arguments)==T,Le.argsObject=arguments.constructor==oe&&!(arguments instanceof Zt),Le.enumErrorProps=xe.call(ce,\"message\")||xe.call(ce,\"name\"),Le.enumPrototypes=xe.call(n,\"prototype\"),Le.funcDecomp=!vt(e.WinRTError)&&B.test(g),Le.funcNames=typeof ee.name==\"string\",Le.nonEnumArgs=0!=u,Le.nonEnumShadows=!/valueOf/.test(r),Le.ownLast=\"x\"!=r[0],Le.spliceObjects=(fe.splice.call(t,0,1),!t[0]),Le.unindexedChars=\"xx\"!=\"x\"[0]+oe(\"x\")[0];\r\ntry{Le.nodeClass=!(he.call(document)==G&&!({toString:0}+\"\"))}catch(o){Le.nodeClass=true}}(1),v.templateSettings={escape:/<%-([\\s\\S]+?)%>/g,evaluate:/<%([\\s\\S]+?)%>/g,interpolate:I,variable:\"\",imports:{_:v}},Se||(nt=function(){function n(){}return function(t){if(xt(t)){n.prototype=t;var r=new n;n.prototype=null}return r||e.Object()}}());var ze=Oe?function(n,t){U.value=t,Oe(n,\"__bindData__\",U)}:Qt;Le.argsClass||(dt=function(n){return n&&typeof n==\"object\"&&typeof n.length==\"number\"&&we.call(n,\"callee\")&&!xe.call(n,\"callee\")||false\r\n});var qe=Ae||function(n){return n&&typeof n==\"object\"&&typeof n.length==\"number\"&&he.call(n)==$||false},Ke=st({a:\"z\",e:\"[]\",i:\"if(!(B[typeof z]))return E\",g:\"E.push(n)\"}),We=Ne?function(n){return xt(n)?Le.enumPrototypes&&typeof n==\"function\"||Le.nonEnumArgs&&n.length&&dt(n)?Ke(n):Ne(n):[]}:Ke,Ge={a:\"g,e,K\",i:\"e=e&&typeof K=='undefined'?e:d(e,K,3)\",b:\"typeof u=='number'\",v:We,g:\"if(e(t[n],n,g)===false)return E\"},Je={a:\"z,H,l\",i:\"var a=arguments,b=0,c=typeof l=='number'?2:a.length;while(++b<c){t=a[b];if(t&&B[typeof t]){\",v:We,g:\"if(typeof E[n]=='undefined')E[n]=t[n]\",c:\"}}\"},Me={i:\"if(!B[typeof t])return E;\"+Ge.i,b:false},Ve={\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\",'\"':\"&quot;\",\"'\":\"&#39;\"},He=wt(Ve),Ue=ae(\"(\"+We(He).join(\"|\")+\")\",\"g\"),Qe=ae(\"[\"+We(Ve).join(\"\")+\"]\",\"g\"),Xe=st(Ge),Ye=st(Je,{i:Je.i.replace(\";\",\";if(c>3&&typeof a[c-2]=='function'){var e=d(a[--c-1],a[c--],2)}else if(c>2&&typeof a[c-1]=='function'){e=a[--c]}\"),g:\"E[n]=e?e(E[n],t[n]):t[n]\"}),Ze=st(Je),nr=st(Ge,Me,{j:false}),tr=st(Ge,Me);\r\njt(/x/)&&(jt=function(n){return typeof n==\"function\"&&he.call(n)==K});var er=_e?function(n){if(!n||he.call(n)!=G||!Le.argsClass&&dt(n))return false;var t=n.valueOf,e=vt(t)&&(e=_e(t))&&_e(e);return e?n==e||_e(n)==e:yt(n)}:yt,rr=ct(function(n,t,e){we.call(n,e)?n[e]++:n[e]=1}),ur=ct(function(n,t,e){(we.call(n,e)?n[e]:n[e]=[]).push(t)}),or=ct(function(n,t,e){n[e]=t}),ar=Bt,ir=vt(ir=te.now)&&ir||function(){return(new te).getTime()},lr=8==Re(j+\"08\")?Re:function(n,t){return Re(kt(n)?n.replace(D,\"\"):n,t||0)};\r\nreturn v.after=function(n,t){if(!jt(t))throw new le;return function(){return 1>--n?t.apply(this,arguments):void 0}},v.assign=Ye,v.at=function(n){var t=arguments,e=-1,r=ot(t,true,false,1),t=t[2]&&t[2][t[1]]===n?1:r.length,u=Zt(t);for(Le.unindexedChars&&kt(n)&&(n=n.split(\"\"));++e<t;)u[e]=n[r[e]];return u},v.bind=Mt,v.bindAll=function(n){for(var t=1<arguments.length?ot(arguments,true,false,1):_t(n),e=-1,r=t.length;++e<r;){var u=t[e];n[u]=pt(n[u],1,null,null,n)}return n},v.bindKey=function(n,t){return 2<arguments.length?pt(t,19,s(arguments,2),null,n):pt(t,3,null,null,n)\r\n},v.chain=function(n){return n=new y(n),n.__chain__=true,n},v.compact=function(n){for(var t=-1,e=n?n.length:0,r=[];++t<e;){var u=n[t];u&&r.push(u)}return r},v.compose=function(){for(var n=arguments,t=n.length;t--;)if(!jt(n[t]))throw new le;return function(){for(var t=arguments,e=n.length;e--;)t=[n[e].apply(this,t)];return t[0]}},v.constant=function(n){return function(){return n}},v.countBy=rr,v.create=function(n,t){var e=nt(n);return t?Ye(e,t):e},v.createCallback=function(n,t,e){var r=typeof n;if(null==n||\"function\"==r)return tt(n,t,e);\r\nif(\"object\"!=r)return Xt(n);var u=We(n),o=u[0],a=n[o];return 1!=u.length||a!==a||xt(a)?function(t){for(var e=u.length,r=false;e--&&(r=at(t[u[e]],n[u[e]],null,true)););return r}:function(n){return n=n[o],a===n&&(0!==a||1/a==1/n)}},v.curry=function(n,t){return t=typeof t==\"number\"?t:+t||n.length,pt(n,4,null,null,null,t)},v.debounce=Vt,v.defaults=Ze,v.defer=function(n){if(!jt(n))throw new le;var t=s(arguments,1);return Ce(function(){n.apply(h,t)},1)},v.delay=function(n,t){if(!jt(n))throw new le;var e=s(arguments,2);\r\nreturn Ce(function(){n.apply(h,e)},t)},v.difference=function(n){return rt(n,ot(arguments,true,true,1))},v.filter=At,v.flatten=function(n,t,e,r){return typeof t!=\"boolean\"&&null!=t&&(r=e,e=typeof t!=\"function\"&&r&&r[t]===n?null:t,t=false),null!=e&&(n=Bt(n,e,r)),ot(n,t)},v.forEach=Dt,v.forEachRight=Nt,v.forIn=nr,v.forInRight=function(n,t,e){var r=[];nr(n,function(n,t){r.push(t,n)});var u=r.length;for(t=tt(t,e,3);u--&&false!==t(r[u--],r[u],n););return n},v.forOwn=tr,v.forOwnRight=bt,v.functions=_t,v.groupBy=ur,v.indexBy=or,v.initial=function(n,t,e){var r=0,u=n?n.length:0;\r\nif(typeof t!=\"number\"&&null!=t){var o=u;for(t=v.createCallback(t,e,3);o--&&t(n[o],o,n);)r++}else r=null==t||e?1:t||r;return s(n,0,Pe(Be(0,u-r),u))},v.intersection=function(){for(var e=[],r=-1,u=arguments.length,a=i(),l=ht(),f=l===n,s=i();++r<u;){var g=arguments[r];(qe(g)||dt(g))&&(e.push(g),a.push(f&&g.length>=_&&o(r?e[r]:s)))}var f=e[0],h=-1,v=f?f.length:0,y=[];n:for(;++h<v;){var m=a[0],g=f[h];if(0>(m?t(m,g):l(s,g))){for(r=u,(m||s).push(g);--r;)if(m=a[r],0>(m?t(m,g):l(e[r],g)))continue n;y.push(g)\r\n}}for(;u--;)(m=a[u])&&p(m);return c(a),c(s),y},v.invert=wt,v.invoke=function(n,t){var e=s(arguments,2),r=-1,u=typeof t==\"function\",o=n?n.length:0,a=Zt(typeof o==\"number\"?o:0);return Dt(n,function(n){a[++r]=(u?t:n[t]).apply(n,e)}),a},v.keys=We,v.map=Bt,v.mapValues=function(n,t,e){var r={};return t=v.createCallback(t,e,3),tr(n,function(n,e,u){r[e]=t(n,e,u)}),r},v.max=Pt,v.memoize=function(n,t){if(!jt(n))throw new le;var e=function(){var r=e.cache,u=t?t.apply(this,arguments):b+arguments[0];return we.call(r,u)?r[u]:r[u]=n.apply(this,arguments)\r\n};return e.cache={},e},v.merge=function(n){var t=arguments,e=2;if(!xt(n))return n;if(\"number\"!=typeof t[2]&&(e=t.length),3<e&&\"function\"==typeof t[e-2])var r=tt(t[--e-1],t[e--],2);else 2<e&&\"function\"==typeof t[e-1]&&(r=t[--e]);for(var t=s(arguments,1,e),u=-1,o=i(),a=i();++u<e;)it(n,t[u],r,o,a);return c(o),c(a),n},v.min=function(n,t,e){var u=1/0,o=u;if(typeof t!=\"function\"&&e&&e[t]===n&&(t=null),null==t&&qe(n)){e=-1;for(var a=n.length;++e<a;){var i=n[e];i<o&&(o=i)}}else t=null==t&&kt(n)?r:v.createCallback(t,e,3),Xe(n,function(n,e,r){e=t(n,e,r),e<u&&(u=e,o=n)\r\n});return o},v.omit=function(n,t,e){var r={};if(typeof t!=\"function\"){var u=[];nr(n,function(n,t){u.push(t)});for(var u=rt(u,ot(arguments,true,false,1)),o=-1,a=u.length;++o<a;){var i=u[o];r[i]=n[i]}}else t=v.createCallback(t,e,3),nr(n,function(n,e,u){t(n,e,u)||(r[e]=n)});return r},v.once=function(n){var t,e;if(!jt(n))throw new le;return function(){return t?e:(t=true,e=n.apply(this,arguments),n=null,e)}},v.pairs=function(n){for(var t=-1,e=We(n),r=e.length,u=Zt(r);++t<r;){var o=e[t];u[t]=[o,n[o]]}return u\r\n},v.partial=function(n){return pt(n,16,s(arguments,1))},v.partialRight=function(n){return pt(n,32,null,s(arguments,1))},v.pick=function(n,t,e){var r={};if(typeof t!=\"function\")for(var u=-1,o=ot(arguments,true,false,1),a=xt(n)?o.length:0;++u<a;){var i=o[u];i in n&&(r[i]=n[i])}else t=v.createCallback(t,e,3),nr(n,function(n,e,u){t(n,e,u)&&(r[e]=n)});return r},v.pluck=ar,v.property=Xt,v.pull=function(n){for(var t=arguments,e=0,r=t.length,u=n?n.length:0;++e<r;)for(var o=-1,a=t[e];++o<u;)n[o]===a&&(ke.call(n,o--,1),u--);\r\nreturn n},v.range=function(n,t,e){n=+n||0,e=typeof e==\"number\"?e:+e||1,null==t&&(t=n,n=0);var r=-1;t=Be(0,ye((t-n)/(e||1)));for(var u=Zt(t);++r<t;)u[r]=n,n+=e;return u},v.reject=function(n,t,e){return t=v.createCallback(t,e,3),At(n,function(n,e,r){return!t(n,e,r)})},v.remove=function(n,t,e){var r=-1,u=n?n.length:0,o=[];for(t=v.createCallback(t,e,3);++r<u;)e=n[r],t(e,r,n)&&(o.push(e),ke.call(n,r--,1),u--);return o},v.rest=qt,v.shuffle=Tt,v.sortBy=function(n,t,e){var r=-1,o=qe(t),a=n?n.length:0,f=Zt(typeof a==\"number\"?a:0);\r\nfor(o||(t=v.createCallback(t,e,3)),Dt(n,function(n,e,u){var a=f[++r]=l();o?a.m=Bt(t,function(t){return n[t]}):(a.m=i())[0]=t(n,e,u),a.n=r,a.o=n}),a=f.length,f.sort(u);a--;)n=f[a],f[a]=n.o,o||c(n.m),p(n);return f},v.tap=function(n,t){return t(n),n},v.throttle=function(n,t,e){var r=true,u=true;if(!jt(n))throw new le;return false===e?r=false:xt(e)&&(r=\"leading\"in e?e.leading:r,u=\"trailing\"in e?e.trailing:u),H.leading=r,H.maxWait=t,H.trailing=u,Vt(n,t,H)},v.times=function(n,t,e){n=-1<(n=+n)?n:0;var r=-1,u=Zt(n);\r\nfor(t=tt(t,e,1);++r<n;)u[r]=t(r);return u},v.toArray=function(n){return n&&typeof n.length==\"number\"?Le.unindexedChars&&kt(n)?n.split(\"\"):s(n):Et(n)},v.transform=function(n,t,e,r){var u=qe(n);if(null==e)if(u)e=[];else{var o=n&&n.constructor;e=nt(o&&o.prototype)}return t&&(t=v.createCallback(t,r,4),(u?Xe:tr)(n,function(n,r,u){return t(e,n,r,u)})),e},v.union=function(){return ft(ot(arguments,true,true))},v.uniq=Wt,v.values=Et,v.where=At,v.without=function(n){return rt(n,s(arguments,1))},v.wrap=function(n,t){return pt(t,16,[n])\r\n},v.xor=function(){for(var n=-1,t=arguments.length;++n<t;){var e=arguments[n];if(qe(e)||dt(e))var r=r?ft(rt(r,e).concat(rt(e,r))):e}return r||[]},v.zip=Gt,v.zipObject=Jt,v.collect=Bt,v.drop=qt,v.each=Dt,v.eachRight=Nt,v.extend=Ye,v.methods=_t,v.object=Jt,v.select=At,v.tail=qt,v.unique=Wt,v.unzip=Gt,Ut(v),v.clone=function(n,t,e,r){return typeof t!=\"boolean\"&&null!=t&&(r=e,e=t,t=false),Y(n,t,typeof e==\"function\"&&tt(e,r,1))},v.cloneDeep=function(n,t,e){return Y(n,true,typeof t==\"function\"&&tt(t,e,1))},v.contains=Ot,v.escape=function(n){return null==n?\"\":ie(n).replace(Qe,gt)\r\n},v.every=St,v.find=It,v.findIndex=function(n,t,e){var r=-1,u=n?n.length:0;for(t=v.createCallback(t,e,3);++r<u;)if(t(n[r],r,n))return r;return-1},v.findKey=function(n,t,e){var r;return t=v.createCallback(t,e,3),tr(n,function(n,e,u){return t(n,e,u)?(r=e,false):void 0}),r},v.findLast=function(n,t,e){var r;return t=v.createCallback(t,e,3),Nt(n,function(n,e,u){return t(n,e,u)?(r=n,false):void 0}),r},v.findLastIndex=function(n,t,e){var r=n?n.length:0;for(t=v.createCallback(t,e,3);r--;)if(t(n[r],r,n))return r;\r\nreturn-1},v.findLastKey=function(n,t,e){var r;return t=v.createCallback(t,e,3),bt(n,function(n,e,u){return t(n,e,u)?(r=e,false):void 0}),r},v.has=function(n,t){return n?we.call(n,t):false},v.identity=Ht,v.indexOf=zt,v.isArguments=dt,v.isArray=qe,v.isBoolean=function(n){return true===n||false===n||n&&typeof n==\"object\"&&he.call(n)==L||false},v.isDate=function(n){return n&&typeof n==\"object\"&&he.call(n)==z||false},v.isElement=function(n){return n&&1===n.nodeType||false},v.isEmpty=function(n){var t=true;if(!n)return t;var e=he.call(n),r=n.length;\r\nreturn e==$||e==M||(Le.argsClass?e==T:dt(n))||e==G&&typeof r==\"number\"&&jt(n.splice)?!r:(tr(n,function(){return t=false}),t)},v.isEqual=function(n,t,e,r){return at(n,t,typeof e==\"function\"&&tt(e,r,2))},v.isFinite=function(n){return Ie(n)&&!De(parseFloat(n))},v.isFunction=jt,v.isNaN=function(n){return Ct(n)&&n!=+n},v.isNull=function(n){return null===n},v.isNumber=Ct,v.isObject=xt,v.isPlainObject=er,v.isRegExp=function(n){return n&&X[typeof n]&&he.call(n)==J||false},v.isString=kt,v.isUndefined=function(n){return typeof n==\"undefined\"\r\n},v.lastIndexOf=function(n,t,e){var r=n?n.length:0;for(typeof e==\"number\"&&(r=(0>e?Be(0,r+e):Pe(e,r-1))+1);r--;)if(n[r]===t)return r;return-1},v.mixin=Ut,v.noConflict=function(){return e._=ge,this},v.noop=Qt,v.now=ir,v.parseInt=lr,v.random=function(n,t,e){var r=null==n,u=null==t;return null==e&&(typeof n==\"boolean\"&&u?(e=n,n=1):u||typeof t!=\"boolean\"||(e=t,u=true)),r&&u&&(t=1),n=+n||0,u?(t=n,n=0):t=+t||0,e||n%1||t%1?(e=Fe(),Pe(n+e*(t-n+parseFloat(\"1e-\"+((e+\"\").length-1))),t)):lt(n,t)},v.reduce=Rt,v.reduceRight=Ft,v.result=function(n,t){if(n){var e=n[t];\r\nreturn jt(e)?n[t]():e}},v.runInContext=g,v.size=function(n){var t=n?n.length:0;return typeof t==\"number\"?t:We(n).length},v.some=$t,v.sortedIndex=Kt,v.template=function(n,t,e){var r=v.templateSettings;n=ie(n||\"\"),e=Ze({},e,r);var u,o=Ze({},e.imports,r.imports),r=We(o),o=Et(o),i=0,l=e.interpolate||N,f=\"__p+='\",l=ae((e.escape||N).source+\"|\"+l.source+\"|\"+(l===I?O:N).source+\"|\"+(e.evaluate||N).source+\"|$\",\"g\");n.replace(l,function(t,e,r,o,l,c){return r||(r=o),f+=n.slice(i,c).replace(P,a),e&&(f+=\"'+__e(\"+e+\")+'\"),l&&(u=true,f+=\"';\"+l+\";\\n__p+='\"),r&&(f+=\"'+((__t=(\"+r+\"))==null?'':__t)+'\"),i=c+t.length,t\r\n}),f+=\"';\",l=e=e.variable,l||(e=\"obj\",f=\"with(\"+e+\"){\"+f+\"}\"),f=(u?f.replace(x,\"\"):f).replace(C,\"$1\").replace(E,\"$1;\"),f=\"function(\"+e+\"){\"+(l?\"\":e+\"||(\"+e+\"={});\")+\"var __t,__p='',__e=_.escape\"+(u?\",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}\":\";\")+f+\"return __p}\";try{var c=ee(r,\"return \"+f).apply(h,o)}catch(p){throw p.source=f,p}return t?c(t):(c.source=f,c)},v.unescape=function(n){return null==n?\"\":ie(n).replace(Ue,mt)},v.uniqueId=function(n){var t=++m;return ie(null==n?\"\":n)+t\r\n},v.all=St,v.any=$t,v.detect=It,v.findWhere=It,v.foldl=Rt,v.foldr=Ft,v.include=Ot,v.inject=Rt,Ut(function(){var n={};return tr(v,function(t,e){v.prototype[e]||(n[e]=t)}),n}(),false),v.first=Lt,v.last=function(n,t,e){var r=0,u=n?n.length:0;if(typeof t!=\"number\"&&null!=t){var o=u;for(t=v.createCallback(t,e,3);o--&&t(n[o],o,n);)r++}else if(r=t,null==r||e)return n?n[u-1]:h;return s(n,Be(0,u-r))},v.sample=function(n,t,e){return n&&typeof n.length!=\"number\"?n=Et(n):Le.unindexedChars&&kt(n)&&(n=n.split(\"\")),null==t||e?n?n[lt(0,n.length-1)]:h:(n=Tt(n),n.length=Pe(Be(0,t),n.length),n)\r\n},v.take=Lt,v.head=Lt,tr(v,function(n,t){var e=\"sample\"!==t;v.prototype[t]||(v.prototype[t]=function(t,r){var u=this.__chain__,o=n(this.__wrapped__,t,r);return u||null!=t&&(!r||e&&typeof t==\"function\")?new y(o,u):o})}),v.VERSION=\"2.4.1\",v.prototype.chain=function(){return this.__chain__=true,this},v.prototype.toString=function(){return ie(this.__wrapped__)},v.prototype.value=Yt,v.prototype.valueOf=Yt,Xe([\"join\",\"pop\",\"shift\"],function(n){var t=fe[n];v.prototype[n]=function(){var n=this.__chain__,e=t.apply(this.__wrapped__,arguments);\r\nreturn n?new y(e,n):e}}),Xe([\"push\",\"reverse\",\"sort\",\"unshift\"],function(n){var t=fe[n];v.prototype[n]=function(){return t.apply(this.__wrapped__,arguments),this}}),Xe([\"concat\",\"slice\",\"splice\"],function(n){var t=fe[n];v.prototype[n]=function(){return new y(t.apply(this.__wrapped__,arguments),this.__chain__)}}),Le.spliceObjects||Xe([\"pop\",\"shift\",\"splice\"],function(n){var t=fe[n],e=\"splice\"==n;v.prototype[n]=function(){var n=this.__chain__,r=this.__wrapped__,u=t.apply(r,arguments);return 0===r.length&&delete r[0],n||e?new y(u,n):u\r\n}}),v}var h,v=[],y=[],m=0,d={},b=+new Date+\"\",_=75,w=40,j=\" \\t\\x0B\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\",x=/\\b__p\\+='';/g,C=/\\b(__p\\+=)''\\+/g,E=/(__e\\(.*?\\)|\\b__t\\))\\+'';/g,O=/\\$\\{([^\\\\}]*(?:\\\\.[^\\\\}]*)*)\\}/g,S=/\\w*$/,A=/^\\s*function[ \\n\\r\\t]+\\w/,I=/<%=([\\s\\S]+?)%>/g,D=RegExp(\"^[\"+j+\"]*0+(?=.$)\"),N=/($^)/,B=/\\bthis\\b/,P=/['\\n\\r\\t\\u2028\\u2029\\\\]/g,R=\"Array Boolean Date Error Function Math Number Object RegExp String _ attachEvent clearTimeout isFinite isNaN parseInt setTimeout\".split(\" \"),F=\"constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf\".split(\" \"),T=\"[object Arguments]\",$=\"[object Array]\",L=\"[object Boolean]\",z=\"[object Date]\",q=\"[object Error]\",K=\"[object Function]\",W=\"[object Number]\",G=\"[object Object]\",J=\"[object RegExp]\",M=\"[object String]\",V={};\r\nV[K]=false,V[T]=V[$]=V[L]=V[z]=V[W]=V[G]=V[J]=V[M]=true;var H={leading:false,maxWait:0,trailing:false},U={configurable:false,enumerable:false,value:null,writable:false},Q={a:\"\",b:null,c:\"\",d:\"\",e:\"\",v:null,g:\"\",h:null,support:null,i:\"\",j:false},X={\"boolean\":false,\"function\":true,object:true,number:false,string:false,undefined:false},Y={\"\\\\\":\"\\\\\",\"'\":\"'\",\"\\n\":\"n\",\"\\r\":\"r\",\"\\t\":\"t\",\"\\u2028\":\"u2028\",\"\\u2029\":\"u2029\"},Z=X[typeof window]&&window||this,nt=X[typeof exports]&&exports&&!exports.nodeType&&exports,tt=X[typeof module]&&module&&!module.nodeType&&module,et=tt&&tt.exports===nt&&nt,rt=X[typeof global]&&global;\r\n!rt||rt.global!==rt&&rt.window!==rt||(Z=rt);var ut=g();typeof define==\"function\"&&typeof define.amd==\"object\"&&define.amd?(Z._=ut, define('taoQtiItem/portableLib/lodash',[],function(){return ut})):nt&&tt?et?(tt.exports=ut)._=ut:nt._=ut:Z._=ut}).call(this);\n","define('taoQtiItem/portableLib/OAT/util/EventMgr',['taoQtiItem/portableLib/lodash'], function(_){\r\n    'use strict';\r\n\r\n    return function EventMgr(){\r\n        \r\n        var events = {};\r\n        \r\n        this.get = function get(event){\r\n            if(event && events[event]){\r\n                return _.clone(events[event]);\r\n            }else{\r\n                return [];\r\n            }\r\n        };\r\n        \r\n        this.on = function on(event, callback){\r\n            var name;\r\n            var tokens = event.split('.');\r\n            if(tokens[0]){\r\n                name = tokens.shift();\r\n                events[name] = events[name] || [];\r\n                events[name].push({\r\n                    ns : tokens,\r\n                    callback : callback\r\n                });\r\n            }\r\n        };\r\n        \r\n        this.off = function off(event){\r\n            if(event && events[event]){\r\n                events[event] = [];\r\n            }\r\n        };\r\n        \r\n        this.trigger = function trigger(event, data){\r\n            if(events[event]){\r\n                _.forEach(events[event], function(e){\r\n                    e.callback.apply({\r\n                        type : event,\r\n                        ns : []\r\n                    }, data);\r\n                });\r\n            }\r\n        };\r\n    };\r\n});\n","define('taoQtiItem/portableLib/OAT/util/event',['taoQtiItem/portableLib/OAT/util/EventMgr'], function(EventMgr){\r\n\r\n    return {\r\n        addEventMgr : function(instance){\r\n\r\n            var eventMgr = new EventMgr();\r\n\r\n            instance.on = function on(event, callback){\r\n                eventMgr.on(event, callback);\r\n            };\r\n            instance.off = function off(event){\r\n                eventMgr.off(event);\r\n            };\r\n            instance.trigger = function trigger(event, data){\r\n                eventMgr.trigger(event, data);\r\n            };\r\n\r\n        }\r\n    };\r\n});\n","/*\r\n\r\nBuild by Wiquid's PCI Generator for TAO platform Free to use - http://www.wiquid.fr/depp/ent/\r\nCopyright DEPP © 2018 - Ministère de l'éducation nationale \r\n\r\n*/\r\n\r\ndefine('SnapForTao/runtime/SnapForTao.amd',['qtiCustomInteractionContext', 'taoQtiItem/portableLib/jquery_2_1_1', 'SnapForTao/runtime/js/renderer', 'SnapForTao/runtime/js/lib/mod','taoQtiItem/portableLib/OAT/util/event', 'taoQtiItem/portableLib/lodash' ], function(qtiCustomInteractionContext, $, renderer, mod,event, _){\r\n    'use strict';\r\n\r\n    var SnapForTao = {\r\n        id : -1,\r\n        getTypeIdentifier : function getTypeIdentifier(){\r\n            return 'SnapForTao';\r\n        },\r\n        /**\r\n         * Render the PCI : \r\n         * @param {String} id\r\n         * @param {Node} dom\r\n         * @param {Object} config - json\r\n         */\r\n        initialize : function initialize(id, dom, config, assetManager){\r\n\r\n            //add method on(), off() and trigger() to the current object\r\n            event.addEventMgr(this);\r\n            var customSnapContext = {};\r\n            event.addEventMgr(customSnapContext);\r\n\r\n            var _this = this;\r\n            this.id = id;\r\n            this.dom = dom;\r\n            this.config = config || {};\r\n            this.config.customSnapContext = customSnapContext;\r\n            customSnapContext.on('rawDefinitionChange',function(value){\r\n                //console.log(value);\r\n                _this.trigger('scriptSaverChange', [value]);\r\n            });\r\n\r\n            renderer.render(this.id, this.dom, this.config, assetManager);\r\n\r\n            //tell the rendering engine that I am ready\r\n            qtiCustomInteractionContext.notifyReady(this);\r\n\r\n            //listening to dynamic configuration change for 1.panelSizer 2.testLimiter 3.scriptImporter 4.snapScript\r\n            this.on('panelSizerChange', function(level){\r\n                _this.config.panelSizer = level;\r\n                renderer.renderChoices(_this.id, _this.dom, _this.config);\r\n                if(level == 'nonVisible'){\r\n                    //console.log(_this.config); \r\n                    mod.snap.world.leftReducer(); \r\n                      \r\n                }\r\n                else{mod.snap.world.leftExpand();}\r\n                \r\n            });\r\n\r\n            this.on('testLimiterChange', function(limiter){\r\n                _this.config.testlimiter = limiter;\r\n                renderer.renderChoices(_this.id, _this.dom, _this.config);\r\n            });\r\n\r\n            this.on('scriptImporterChange', function(){\r\n                // La fonction importator renvoie la string xml.\r\n                mod.snap.world.importator();\r\n                renderer.renderChoices(_this.id, _this.dom, _this.config);\r\n\r\n            });\r\n\r\n\r\n        },\r\n        /**\r\n         * Programmatically set the response following the json schema described in\r\n         * http://www.imsglobal.org/assessment/pciv1p0cf/imsPCIv1p0cf.html#_Toc353965343\r\n         * \r\n         * @param {Object} interaction\r\n         * @param {Object} response\r\n         */\r\n        setResponse : function setResponse(response){\r\n\r\n            var Scontainer = $(this.dom),value;\r\n        },\r\n        /**\r\n         * Get the response in the json format described in\r\n         * http://www.imsglobal.org/assessment/pciv1p0cf/imsPCIv1p0cf.html#_Toc353965343\r\n         * \r\n         * @param {Object} interaction\r\n         * @returns {Object}\r\n         */\r\n        getResponse : function getResponse(){\r\n           var elementCanvas = document.getElementsByClassName('world');\r\n           var canvas = elementCanvas[0];\r\n           var dataURL = canvas.toDataURL();\r\n          \r\n\r\n            var $container = $(this.dom),\r\n                value = dataURL + $container.find(\".compteur\").html();// Check this\r\n\r\n            return {base : {string : value}};\r\n        },\r\n        /**\r\n         * Remove the current response set in the interaction\r\n         * The state may not be restored at this point.\r\n         * \r\n         * @param {Object} interaction\r\n         */\r\n        resetResponse : function resetResponse(){\r\n\r\n            var Scontainer = $(this.dom);\r\n\r\n        },\r\n        /**\r\n         * Reverse operation performed by render()\r\n         * After this function is executed, only the inital naked markup remains \r\n         * Event listeners are removed and the state and the response are reset\r\n         * \r\n         * @param {Object} interaction\r\n         */\r\n        destroy : function destroy(){\r\n\r\n            var Scontainer = $(this.dom);\r\n            Scontainer.off().empty();\r\n        },\r\n        /**\r\n         * Restore the state of the interaction from the serializedState.\r\n         * \r\n         * @param {Object} interaction\r\n         * @param {Object} serializedState - json format\r\n         */\r\n        setSerializedState : function setSerializedState(state){\r\n\r\n        },\r\n        /**\r\n         * Get the current state of the interaction as a string.\r\n         * It enables saving the state for later usage.\r\n         * \r\n         * @param {Object} interaction\r\n         * @returns {Object} json format\r\n         */\r\n        getSerializedState : function getSerializedState(){\r\n\r\n            return {};\r\n        }\r\n    };\r\n\r\n    qtiCustomInteractionContext.register(SnapForTao);\r\n});\r\n\n"]}