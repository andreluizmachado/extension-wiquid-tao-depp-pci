{"version":3,"sources":["../../../taoQtiItem/views/js/portableLib/jquery_2_1_1.js","../../../taoQtiItem/views/js/portableLib/OAT/util/xml.js","../../../taoQtiItem/views/js/portableLib/OAT/util/math.js","../../../taoQtiItem/views/js/portableLib/jquery.qtip.js","../../../taoQtiItem/views/js/portableLib/OAT/util/tooltip.js","../../../taoQtiItem/views/js/portableLib/OAT/util/html.js","../../../pciWiquid/views/js/pciCreator/dev/snap/runtime/js/lib/snapsrc.js","../../../pciWiquid/views/js/pciCreator/dev/snap/runtime/js/renderer.js","../../../taoQtiItem/views/js/portableLib/lodash.js","../../../taoQtiItem/views/js/portableLib/OAT/util/EventMgr.js","../../../taoQtiItem/views/js/portableLib/OAT/util/event.js","../../../pciWiquid/views/js/pciCreator/dev/snap/runtime/SnapForTao.amd.js"],"names":["define","global","factory","module","exports","document","w","Error","window","this","noGlobal","isArraylike","obj","length","type","jQuery","isWindow","nodeType","winnow","elements","qualifier","not","isFunction","grep","elem","i","call","risSimple","test","filter","indexOf","sibling","cur","dir","createOptions","options","object","optionsCache","each","match","rnotwhite","_","flag","completed","removeEventListener","ready","Data","Object","defineProperty","cache","get","expando","Math","random","dataAttr","key","data","name","undefined","replace","rmultiDash","toLowerCase","getAttribute","rbrace","parseJSON","e","data_user","set","returnTrue","returnFalse","safeActiveElement","activeElement","err","manipulationTarget","content","nodeName","firstChild","getElementsByTagName","appendChild","ownerDocument","createElement","disableScript","restoreScript","rscriptTypeMasked","exec","removeAttribute","setGlobalEval","elems","refElements","l","data_priv","cloneCopyEvent","src","dest","pdataOld","pdataCur","udataOld","udataCur","events","hasData","access","handle","event","add","extend","getAll","context","tag","ret","querySelectorAll","merge","fixInput","rcheckableType","checked","defaultValue","actualDisplay","doc","style","appendTo","body","display","getDefaultComputedStyle","css","detach","defaultDisplay","elemdisplay","iframe","documentElement","contentDocument","write","close","curCSS","computed","width","minWidth","maxWidth","getStyles","getPropertyValue","contains","rnumnonpx","rmargin","addGetHookIf","conditionFn","hookFn","apply","arguments","vendorPropName","capName","toUpperCase","slice","origName","cssPrefixes","setPositiveNumber","value","subtract","matches","rnumsplit","max","augmentWidthOrHeight","extra","isBorderBox","styles","val","cssExpand","getWidthOrHeight","valueIsBorderBox","offsetWidth","offsetHeight","support","boxSizingReliable","parseFloat","showHide","show","hidden","values","index","isHidden","Tween","prop","end","easing","prototype","init","createFxNow","setTimeout","fxNow","now","genFx","includeWidth","which","attrs","height","opacity","createTween","animation","tween","collection","tweeners","concat","defaultPrefilter","props","opts","toggle","hooks","oldfire","checkDisplay","anim","orig","dataShow","queue","_queueHooks","unqueued","empty","fire","always","overflow","overflowX","overflowY","rfxtypes","isEmptyObject","done","hide","remove","start","propFilter","specialEasing","camelCase","isArray","cssHooks","expand","Animation","properties","result","stopped","animationPrefilters","deferred","Deferred","tick","currentTime","remaining","startTime","duration","temp","percent","tweens","run","notifyWith","resolveWith","promise","originalProperties","originalOptions","push","stop","gotoEnd","rejectWith","map","fx","timer","progress","complete","fail","addToPrefiltersOrTransports","structure","dataTypeExpression","func","dataType","dataTypes","unshift","inspectPrefiltersOrTransports","jqXHR","inspect","selected","inspected","prefilterOrFactory","dataTypeOrTransport","seekingTransport","transports","ajaxExtend","target","deep","flatOptions","ajaxSettings","ajaxHandleResponses","s","responses","ct","finalDataType","firstDataType","contents","shift","mimeType","getResponseHeader","converters","ajaxConvert","response","isSuccess","conv2","current","conv","tmp","prev","responseFields","dataFilter","split","state","error","buildParams","prefix","traditional","v","rbracket","getWindow","defaultView","arr","class2type","toString","hasOwn","hasOwnProperty","version","selector","fn","rtrim","rmsPrefix","rdashAlpha","fcamelCase","all","letter","jquery","constructor","toArray","num","pushStack","prevObject","callback","args","first","eq","last","len","j","sort","splice","copy","copyIsArray","clone","isPlainObject","isReady","msg","noop","Array","isNumeric","globalEval","code","script","indirect","eval","trim","text","head","parentNode","removeChild","string","makeArray","results","inArray","second","invert","callbackInverse","callbackExpect","arg","guid","proxy","Date","Sizzle","seed","m","groups","old","nid","newContext","newSelector","preferredDoc","setDocument","documentIsHTML","rquickExpr","getElementById","id","getElementsByClassName","qsa","rbuggyQSA","tokenize","rescape","setAttribute","toSelector","rsibling","testContext","join","qsaError","select","createCache","keys","Expr","cacheLength","markFunction","assert","div","addHandle","handler","attrHandle","siblingCheck","a","b","diff","sourceIndex","MAX_NEGATIVE","nextSibling","createInputPseudo","createButtonPseudo","createPositionalPseudo","argument","matchIndexes","strundefined","setFilters","tokens","addCombinator","matcher","combinator","base","checkNonElements","doneName","xml","oldCache","outerCache","newCache","dirruns","elementMatcher","matchers","multipleContexts","contexts","condense","unmatched","newUnmatched","mapped","setMatcher","preFilter","postFilter","postFinder","postSelector","preMap","postMap","preexisting","matcherIn","matcherOut","matcherFromTokens","checkContext","leadingRelative","relative","implicitRelative","matchContext","matchAnyContext","outermostContext","matcherFromGroupMatchers","elementMatchers","setMatchers","bySet","byElement","superMatcher","outermost","matchedCount","setMatched","contextBackup","find","dirrunsUnique","pop","uniqueSort","getText","isXML","compile","sortInput","hasDuplicate","docElem","rbuggyMatches","classCache","tokenCache","compilerCache","sortOrder","push_native","booleans","whitespace","characterEncoding","identifier","attributes","pseudos","RegExp","rcomma","rcombinators","rattributeQuotes","rpseudo","ridentifier","matchExpr","ID","CLASS","TAG","ATTR","PSEUDO","CHILD","bool","needsContext","rinputs","rheader","rnative","runescape","funescape","escaped","escapedWhitespace","high","String","fromCharCode","childNodes","els","node","hasCompare","parent","top","addEventListener","attachEvent","className","createComment","innerHTML","getById","getElementsByName","attrId","getAttributeNode","input","matchesSelector","webkitMatchesSelector","mozMatchesSelector","oMatchesSelector","msMatchesSelector","disconnectedMatch","compareDocumentPosition","adown","bup","compare","sortDetached","aup","ap","bp","expr","attr","specified","duplicates","detectDuplicates","sortStable","textContent","nodeValue","selectors","createPseudo",">"," ","+","~","excess","unquoted","nodeNameSelector","pattern","operator","check","what","simple","forward","ofType","nodeIndex","useCache","lastChild","pseudo","idx","matched","has","innerText","lang","elemLang","hash","location","root","focus","hasFocus","href","tabIndex","enabled","disabled","selectedIndex","header","button","even","odd","lt","gt","radio","checkbox","file","password","image","submit","reset","filters","parseOnly","soFar","preFilters","cached","token","compiled","div1","unique","isXMLDoc","rneedsContext","rsingleTag","self","is","rootjQuery","parseHTML","rparentsprev","guaranteedUnique","children","next","until","truncate","n","targets","closest","pos","prevAll","addBack","parents","parentsUntil","nextAll","nextUntil","prevUntil","siblings","reverse","Callbacks","memory","fired","firing","firingStart","firingLength","firingIndex","list","stack","once","stopOnFalse","disable","lock","locked","fireWith","tuples","then","fns","newDefer","tuple","returned","resolve","reject","notify","pipe","stateString","when","subordinate","progressValues","progressContexts","resolveContexts","resolveValues","updateFunc","readyList","readyWait","holdReady","hold","wait","triggerHandler","off","readyState","chainable","emptyGet","raw","bulk","acceptData","owner","uid","accepts","descriptor","unlock","defineProperties","stored","camel","discard","removeData","_data","_removeData","camelKey","dequeue","startLength","setter","clearQueue","count","defer","pnum","source","el","fragment","createDocumentFragment","checkClone","cloneNode","noCloneChecked","focusinBubbles","rkeyEvent","rmouseEvent","rfocusMorph","rtypenamespace","types","handleObjIn","eventHandle","t","handleObj","special","handlers","namespaces","origType","elemData","triggered","dispatch","delegateType","bindType","namespace","delegateCount","setup","mappedTypes","origCount","teardown","removeEvent","trigger","onlyHandlers","bubbleType","ontype","eventPath","Event","isTrigger","namespace_re","noBubble","parentWindow","isPropagationStopped","preventDefault","isDefaultPrevented","_default","fix","handlerQueue","delegateTarget","preDispatch","currentTarget","isImmediatePropagationStopped","stopPropagation","postDispatch","sel","fixHooks","keyHooks","original","charCode","keyCode","mouseHooks","eventDoc","pageX","clientX","scrollLeft","clientLeft","pageY","clientY","scrollTop","clientTop","originalEvent","fixHook","load","blur","click","beforeunload","returnValue","simulate","bubble","isSimulated","defaultPrevented","timeStamp","stopImmediatePropagation","mouseenter","mouseleave","pointerenter","pointerleave","related","relatedTarget","attaches","on","one","origFn","rxhtmlTag","rtagName","rhtml","rnoInnerhtml","rchecked","rscriptType","rcleanScript","wrapMap","option","thead","col","tr","td","optgroup","tbody","tfoot","colgroup","caption","th","dataAndEvents","deepDataAndEvents","srcElements","destElements","inPage","buildFragment","scripts","selection","wrap","nodes","createTextNode","cleanData","append","domManip","prepend","insertBefore","before","after","keepData","html","replaceWith","replaceChild","hasScripts","iNoClone","_evalUrl","prependTo","insertAfter","replaceAll","insert","getComputedStyle","computePixelPositionAndBoxSizingReliable","cssText","container","divStyle","pixelPositionVal","boxSizingReliableVal","backgroundClip","clearCloneStyle","pixelPosition","reliableMarginRight","marginDiv","marginRight","swap","rdisplayswap","rrelNum","cssShow","position","visibility","cssNormalTransform","letterSpacing","fontWeight","cssNumber","columnCount","fillOpacity","flexGrow","flexShrink","lineHeight","order","orphans","widows","zIndex","zoom","cssProps","float","margin","padding","border","suffix","expanded","parts","unit","propHooks","eased","step","linear","p","swing","cos","PI","timerId","rfxnum","rrun","*","scale","maxIterations","tweener","prefilter","speed","opt","speeds","fadeTo","to","animate","optall","doAnimation","finish","stopQueue","timers","cssFn","slideDown","slideUp","slideToggle","fadeIn","fadeOut","fadeToggle","interval","setInterval","clearInterval","slow","fast","delay","time","timeout","clearTimeout","checkOn","optSelected","optDisabled","radioValue","nodeHook","boolHook","removeAttr","nType","attrHooks","propName","attrNames","propFix","getter","rfocusable","removeProp","for","class","notxml","hasAttribute","rclass","addClass","classes","clazz","finalValue","proceed","removeClass","toggleClass","stateVal","classNames","hasClass","rreturn","valHooks","optionSet","hover","fnOver","fnOut","bind","unbind","delegate","undelegate","nonce","rquery","JSON","parse","parseXML","DOMParser","parseFromString","ajaxLocParts","ajaxLocation","rhash","rts","rheaders","rlocalProtocol","rnoContent","rprotocol","rurl","prefilters","allTypes","active","lastModified","etag","url","isLocal","processData","async","contentType","json","* text","text html","text json","text xml","ajaxSetup","settings","ajaxPrefilter","ajaxTransport","ajax","status","nativeStatusText","headers","success","modified","statusText","timeoutTimer","transport","responseHeadersString","ifModified","cacheURL","callbackContext","statusCode","fireGlobals","globalEventContext","completeDeferred","responseHeaders","requestHeaders","requestHeadersNames","strAbort","getAllResponseHeaders","setRequestHeader","lname","overrideMimeType","abort","finalText","method","crossDomain","param","hasContent","beforeSend","send","getJSON","getScript","throws","wrapAll","firstElementChild","wrapInner","unwrap","visible","r20","rCRLF","rsubmitterTypes","rsubmittable","encodeURIComponent","serialize","serializeArray","xhr","XMLHttpRequest","xhrId","xhrCallbacks","xhrSuccessStatus","0","1223","xhrSupported","ActiveXObject","cors","open","username","xhrFields","onload","onerror","responseText","text script","charset","scriptCharset","evt","oldCallbacks","rjsonp","jsonp","jsonpCallback","originalSettings","callbackName","overwritten","responseContainer","jsonProp","keepScripts","parsed","_load","params","animated","offset","setOffset","curPosition","curLeft","curCSSTop","curTop","curOffset","curCSSLeft","calculatePosition","curElem","left","using","win","box","getBoundingClientRect","pageYOffset","pageXOffset","offsetParent","parentOffset","scrollTo","Height","Width","","defaultExtra","funcName","size","andSelf","_jQuery","_$","$","noConflict","addNamespace","ns","removeNamespace","markup","MathJax","render","$container","$wrap","$math","Hub","Queue","amd","qtip","QTip","tooltip","NULL","_id","NAMESPACE","img","plugins","FALSE","onTooltip","lastClass","rendered","destroyed","waiting","hiddenDuringWait","positioning","triggering","invalidOpt","invalidContent","c","sanitizeOptions","metadata","api","loading","newContent","title","my","at","TRUE","PLUGINS","sanitize","convertNotation","notation","levels","setCallback","category","rule","checks","createWidgetClass","cls","WIDGET","showMethod","CLASS_DISABLED","hideMethod","ontoTooltip","SELECTOR","ontoTarget","fixed","inactiveMethod","inactive","repositionMethod","reposition","QTIP","ATTR_ID","posOptions","config","docBody","newTarget","metadata5","html5","defaults","solo","viewport","CORNER","overwrite","ATTR_HAS","suppress","oldtitle","charAt","vendorCss","ucProp","intCss","ceil","Tip","_ns","Modal","Ie6","PROTOTYPE","CHECKS","trackingBound","X","Y","WIDTH","HEIGHT","TOP","LEFT","BOTTOM","RIGHT","CENTER","FLIPINVERT","SHIFT","INACTIVE_EVENTS","CLASS_FIXED","CLASS_DEFAULT","CLASS_FOCUS","CLASS_HOVER","replaceSuffix","BROWSER","ie","NaN","iOS","navigator","userAgent","_when","deferreds","posClass","_createPosClass","tracking","adjust","mouse","role","aria-live","aria-atomic","aria-describedby","aria-hidden","_createTitle","_updateTitle","_createButton","_updateContent","_setWidget","instance","initialize","_unassignEvents","_assignEvents","_trigger","destroy","immediate","process","builtin","^id$","o","nextid","newId","^prerender","^content.text$","^content.attr$","^content.title$","_removeTitle","^content.button$","_updateButton","^content.title.(text|button)$","^position.(my|at)$","^position.container$","^show.ready$","^style.classes$","^style.(width|height)","^style.widget|content.title","^style.def","^events.(render|show|move|hide|focus|blur)$","^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)","precedance","rmove","rrender","previous","_update","element","_waitForContent","images","imagesLoaded","titlebar","widget","substr","abbrev","effect","pluginCalculations","adjusted","newClass","tooltipWidth","outerWidth","tooltipHeight","outerHeight","targetWidth","targetHeight","isScroll","x","y","distance","origin","innerWidth","clientWidth","scrollX","scrollY","innerHeight","imagemap","svg","ownerSVGElement","adjustable","isNaN","scroll","scrolled","quirks","compatMode","C","Corner","corner","forceY","f","z","center","identicalState","allow","contentOptions","sameTarget","search","_storeMouse","autofocus","qtips","curIndex","parseInt","newIndex","zindex","enable","isString","aria-label","def","_bind","_unbind","_bindEvents","showEvents","hideEvents","showTargets","hideTargets","showCallback","hideCallback","similarTargets","toggleEvents","showIndex","_assignInitialEvents","hoverIntent","hoverEvent","prerender","showTarget","hideTarget","moveEvent","onTarget","containerTarget","viewportTarget","documentTarget","windowTarget","leave","isAncestor","inactiveEvents","limit","abs","resize","newValue","command","ui","move","TIP","createVML","SCALE","PIXEL_RATIO","BACKING_STORE_RATIO","MARGIN","BORDER","COLOR","BG_COLOR","TRANSPARENT","IMPORTANT","HASCANVAS","getContext","INVALID","devicePixelRatio","backingStorePixelRatio","webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","tip","lineJoin","miterLimit","save","create","_swapDimensions","_resetDimensions","_useTitle","_parseCorner","_parseWidth","side","use","_parseRadius","_invalidColour","_parseColours","borderSide","colorElem","color","_calculateSize","bigHyp","ratio","isCenter","pow","round","smallHyp","sqrt","hyp","_calculateTip","width2","height2","tips","br","bl","tl","tc","bc","rc","lc","rt","lb","rb","_drawCoords","coords","beginPath","moveTo","lineTo","closePath","update","bigCoords","translate","newSize","inner","curSize","mimic","restore","clearRect","fillStyle","fill","coordsize","antialias","Number","$this","path","fillcolor","filled","stroked","opera","calculate","corners","userOffset","bottom","right","shiftflip","direction","popposite","opposite","newCorner","shiftonly","xy","horizontal","vertical","cornerTop","cornerLeft","user","^position.my|style.tip.(corner|mimic|border)$","^style.tip.(height|width)$","^content.title|style.(classes|widget)$","MODAL","OVERLAY","MODALCLASS","MODALSELECTOR","focusable","mapName","isTabIndexNotNaN","focusInputs","blurElems","focusableElems","stealFocus","targetOnTop","prevState","mousedown","modal","escape","stealfocus","visibleModals","overlay","modal_zindex","oEvent","^show.modal.(on|blur)$","elemWidth","elemHeight","otherSide","adjustment","side1","side2","lengthName","targetLength","elemLength","initialPos","mySide","atSide","isShift","myLength","atLength","sideOffset","viewportScroll","viewportOffset","containerStatic","containerOffset","overflow1","overflow2","viewportWidth","viewportHeight","min","newMy","methodX","methodY","polys","polygon","baseCoords","newWidth","newHeight","compareX","compareY","realX","realY","floor","rect","ax","ay","bx","by","_angles","ellipse","cx","cy","rx","ry","rxc","rys","sin","circle","r","frameOffset","mtx","transformed","points","strokeWidth2","getBBox","baseVal","x1","y1","x2","y2","numberOfItems","getItem","createSVGPoint","getScreenCTM","matrixTransform","frameElement","area","imageOffset","shape","coordsString","coordsArray","IE6","BGIFRAME","_scroll","bgiframe","adjustBGIFrame","redrawContainer","redraw","tipAdjust","dimensions","plugin","drawing","perc","ie6","^content|style$","$content","contentHtml","$target","contentId","theme","math","panel_Left","stageSaver","worldwatcher","attemptLimit","snapsrc","snap","localize","SnapTranslator","Localizer","language","dict","nop","strong","dicofr","isNil","thing","detect","predicate","sizeOf","isObject","radians","degrees","fontHeight","minHeight","MorphicPreferences","minimumFontHeight","isWordChar","aCharacter","newCanvas","extentPoint","nonRetina","canvas","ext","isRetinaEnabled","getMinimumFontHeight","ctx","maxX","str","font","measureText","textBaseline","fillText","getImageData","getBlurredShadowSupport","arc","shadowBlur","shadowColor","drawImage","getDocumentPositionOf","aDOMelement","offsetLeft","offsetTop","property","valueOf","enableRetinaSupport","getPixelRatio","imageSource","originalDevicePixelRatio","canvasProto","HTMLCanvasElement","contextProto","CanvasRenderingContext2D","uber","getOwnPropertyDescriptor","shadowOffsetX","shadowOffsetY","some","any","configurable","_isRetinaEnabled","_bak","prevPixelRatio","prevWidth","prevHeight","pixelRatio","console","log","sx","sy","sWidth","sHeight","dx","dy","dWidth","dHeight","sw","sh","isRetinaSupported","disableRetinaSupport","normalizeCanvas","aCanvas","getCopy","cpy","Point","delta","onComplete","easings","sinusoidal","endTime","destination","isActive","Color","g","Rectangle","Node","childrenArray","Morph","ShadowMorph","HandleMorph","minX","minY","insetX","insetY","PenMorph","ColorPaletteMorph","sizePoint","GrayPaletteMorph","ColorPickerMorph","defaultColor","BlinkerMorph","rate","CursorMorph","aStringOrTextMorph","BoxMorph","edge","borderColor","SpeechBubbleMorph","isThought","CircleBoxMorph","orientation","SliderButtonMorph","SliderMorph","MouseSensorMorph","InspectorMorph","MenuMorph","environment","fontSize","StringMorph","fontStyle","bold","italic","shadowOffset","fontName","TextMorph","alignment","TriggerMorph","action","labelString","hint","labelColor","labelBold","labelItalic","doubleClickAction","MenuItemMorph","shortcut","shortcutString","FrameMorph","aScrollFrame","ScrollFrameMorph","scroller","sliderColor","ListMorph","labelGetter","format","toSource","StringFieldMorph","defaultContents","BouncerMorph","HandMorph","aWorld","WorldMorph","fillPage","PushButtonMorph","template","ToggleButtonMorph","colors","query","hasPreview","isPicture","TabMorph","ToggleMorph","builder","ToggleElementMorph","DialogBoxMorph","AlignmentMorph","InputFieldMorph","choiceDict","isReadOnly","PianoMenuMorph","soundType","PianoKeyMorph","label","feedback","SyntaxElementMorph","BlockMorph","CommandBlockMorph","HatBlockMorph","ReporterBlockMorph","isPredicate","RingMorph","ScriptsMorph","ArgMorph","CommandSlotMorph","RingCommandSlotMorph","CSlotMorph","InputSlotMorph","TemplateSlotMorph","BooleanSlotMorph","initialValue","ArrowMorph","TextSlotMorph","ColorSlotMorph","clr","BlockHighlightMorph","threadCount","MultiArgMorph","slotSpec","labelTxt","eSpec","arrowColor","isTransparent","ArgLabelMorph","argMorph","FunctionSlotMorph","ReporterSlotMorph","RingReporterSlotMorph","CommentMorph","ScriptFocusMorph","editor","initialElement","snapEquals","List","equalTo","specials","invoke","contextArgs","receiver","timeoutErrorMsg","suppressErrors","proc","Process","deadline","Context","reportContextFor","initializeFor","evaluate","topBlock","homeContext","variables","parentFrame","blockSequence","isCatchingErrors","isRunning","runStep","inputs","ThreadManager","processes","wantsToPause","compteur","compteurGo","nbTry","testLimiter","world","projectName","controlBar","updateLabel","yieldFirst","instrument","readyToYield","readyToTerminate","isDead","isClicked","isShowingResult","errorFlag","lastYield","isFirstStep","isAtomic","prompter","httpRequest","isPaused","pauseOffset","frameCount","exportResult","procedureCount","flashingContext","isInterrupted","pushContext","parentContext","expression","outerContext","VariableFrame","pc","isContinuation","activeAudio","activeNote","isCustomBlock","emptySlots","isFlashing","Variable","isTransient","vars","isSnapObject","SpriteMorph","StageMorph","globals","SpriteHighlightMorph","SpriteBubbleMorph","stage","isQuestion","Costume","rotationCenter","shrinkToFit","maxExtent","loaded","SVG_Costume","svgImage","CostumeEditorMorph","costume","Sound","audio","Note","pitch","setupContext","oscillator","CellMorph","parentCell","WatcherMorph","StagePrompterMorph","question","IDE_Morph","isAutoFill","ProjectDialogMorph","ide","LibraryImportDialogMorph","librariesData","SpriteIconMorph","aSprite","aTemplate","CostumeIconMorph","aCostume","TurtleIconMorph","aSpriteOrStage","WardrobeMorph","SoundIconMorph","aSound","JukeboxMorph","StageHandleMorph","PaletteHandleMorph","CamSnapshotDialogMorph","sprite","onCancel","onAccept","PaintEditorMorph","PaintColorPickerMorph","extent","PaintCanvasMorph","array","rest","isLinked","lastChanged","ListWatcherMorph","CustomBlockDefinition","spec","isGlobal","declarations","variableNames","comment","codeMapping","codeHeader","translations","editorDimensions","cachedIsRecursive","cachedTranslation","CustomCommandBlockMorph","definition","isProto","CustomReporterBlockMorph","JaggedBlockMorph","BlockDialogMorph","BlockEditorMorph","PrototypeHatBlockMorph","BlockLabelFragment","isDeleted","BlockLabelFragmentMorph","BlockLabelPlaceHolderMorph","BlockInputFragmentMorph","InputSlotDialogMorph","VariableDialogMorph","BlockExportDialogMorph","serializer","blocks","BlockImportDialogMorph","BlockRemovalDialogMorph","Table","cols","rows","colCount","rowCount","colNames","rowNames","TableCellMorph","isLabel","TableMorph","table","scrollBarSize","startRow","startCol","globalColWidth","colWidths","rowHeight","colLabelHeight","TableFrameMorph","tableMorph","noResize","TableDialogMorph","SymbolMorph","ReadStream","arrayOrString","XML_Element","XML_Serializer","media","isCollectingMedia","isExportingBlocksLibrary","SnapSerializer","Cloud","session","limo","route","loop","requestAnimationFrame","doOneCycle","importString","getSnapProjectScript","snapScript","languages","languageName","language_name","credits","txt","myself","forEach","language_translator","last_changed","unload","keep","en","translator_e-mail","file menu import hint","settings menu prefer empty slots hint","costumes tab help","block deletion dialog text","download to disk text","unable to export text","fr","morphicVersion","modules","useBlurredShadows","standardSettings","globalFontFamily","menuFontName","menuFontSize","bubbleHelpFontSize","prompterFontName","prompterFontSize","prompterSliderSize","handleSize","mouseScrollAmount","useSliderForInput","useVirtualKeyboard","isTouchDevice","rasterizeSVGs","isFlat","grabThreshold","touchScreenSettings","untitled","development mode","Motion","Looks","Pen","Control","Sensing","Operators","Variables","Lists","Other","draggable","Scripts","Costumes","Sounds","Sprite","Stage","don't rotate","can rotate","only face left/right","add a new sprite","add a new Turtle sprite","import a sound from your computer\nby dragging it into here","Stage selected:\nno motion primitives","move %n steps","turn %clockwise %n degrees","turn %counterclockwise %n degrees","point in direction %dir","point towards %dst","go to x: %n y: %n","go to %dst","glide %n secs to x: %n y: %n","change x by %n","set x to %n","change y by %n","set y to %n","if on edge, bounce","x position","y position","switch to costume %cst","next costume","costume #","say %s for %n secs","say %s","think %s for %n secs","think %s","Hello!","Hmm...","change %eff effect by %n","set %eff effect to %n","clear graphic effects","change size by %n","set size to %n %","go to front","go back %n layers","development mode \ndebugging primitives:","console log %mult%s","alert %mult%s","play sound %snd","play sound %snd until done","stop all sounds","rest for %n beats","play note %n for %n beats","change tempo by %n","set tempo to %n bpm","tempo","clear","pen down","pen up","set pen color to %clr","change pen color by %n","set pen color to %n","change pen shade by %n","set pen shade to %n","change pen size by %n","set pen size to %n","stamp","when %greenflag clicked","when %keyHat key pressed","when I am clicked","when I am %interaction","when I receive %msgHat","broadcast %msg","broadcast %msg and wait","Message name","wait %n secs","wait until %b","forever %c","repeat %n %c","repeat until %b %c","if %b %c","if %b %c else %c","report %s","stop block","stop script","stop %stopOthersChoices","stop %stopChoices","stop all %stop","run %cmdRing %inputs","launch %cmdRing %inputs","call %repRing %inputs","run %cmdRing w/continuation","call %cmdRing w/continuation","warp %c","when I start as a clone","create a clone of %cln","delete this clone","pause all %pause","all but this script","other scripts in sprite","this script","this block","touching %col ?","touching %clr ?","color %clr is touching %clr ?","ask %s and wait","what's your name?","answer","mouse x","mouse y","mouse down?","key %key pressed?","distance to %dst","reset timer","%att of %spr","my %get","http:// %s","turbo mode?","set turbo mode to %b","filtered for %clr","stack size","frames","%n mod %n","round %n","%fun of %n","pick random %n to %n","%b and %b","%b or %b","not %b","true","false","join %words","split %s by %delim","hello","letter %n of %s","length of %s","unicode of %s","unicode %n as letter","is %s a %typ ?","is %s identical to %s ?","type of %s","Make a variable","Variable name","Delete a variable","set %var to %s","change %var by %n","show variable %var","hide variable %var","script variables %scriptVars","list %exp","%s in front of %l","item %idx of %l","all but first of %l","length of %l","%l contains %s","add %s to %l","delete %ida of %l","insert %s at %idx of %l","replace item %idx of %l with %s","Make a block","About...","Reference manual","Snap! website","Download source","Switch back to user mode","disable deep-Morphic\ncontext menus\nand show user-friendly ones","Switch to dev mode","enable Morphic\ncontext menus\nand inspectors,\nnot user-friendly!","Project notes...","New","Open...","Save","Save As...","Import...","Export project as plain text...","Export project...","save project data as XML\nto your downloads folder","show project data as XML\nin a new browser window","Export blocks...","show global custom block definitions as XML\nin a new browser window","Unused blocks...","find unused global custom blocks\nand remove their definitions","Remove unused blocks","there are currently no unused\nglobal custom blocks in this project","unused block(s) removed","Export summary...","open a new browser browser window\n with a summary of this project","Import tools","load the official library of\npowerful blocks","Libraries...","Import library","Language...","Blurred shadows","uncheck to use solid drop\nshadows and highlights","check to use blurred drop\nshadows and highlights","Zebra coloring","check to enable alternating\ncolors for nested blocks","uncheck to disable alternating\ncolors for nested block","Prefer empty slot drops","uncheck to allow dropped\nreporters to kick out others","Long form input dialog","check to always show slot\ntypes in the input dialog","uncheck to use the input\ndialog in short form","Virtual keyboard","uncheck to disable\nvirtual keyboard support\nfor mobile devices","check to enable\nvirtual keyboard support\nfor mobile devices","Input sliders","uncheck to disable\ninput sliders for\nentry fields","check to enable\ninput sliders for\nentry fields","Clicking sound","uncheck to turn\nblock clicking\nsound off","check to turn\nblock clicking\nsound on","Turbo mode","check to prioritize\nscript execution","uncheck to run scripts\nat normal speed","Flat design","check for alternative\nGUI design","uncheck for default\nGUI design","Keyboard Editing","uncheck to disable\nkeyboard editing support","check to enable\nkeyboard editing support","Thread safe scripts","check to disallow\nscript reentrance","uncheck to allow\nscript reentrance","Prefer smooth animations","uncheck for greater speed\nat variable frame rates","check for smooth, predictable\nanimations across computers","with inputs","input names:","Input Names:","help","hide primitives","show primitives","help...","duplicate","make a copy\nand pick it up","only duplicate this block","delete","script pic...","open a new window\nwith a picture of this script","ringify","unringify","delete block definition...","edit...","edit","detach from","detach all parts","export...","paint a new sprite","clean up","arrange scripts\nvertically","add comment","make a block...","rename","export","rename costume","Paint a new costume","Play sound","Stop sound","Stop","Play","rename sound","OK","Ok","Cancel","Yes","No","Open","Browser","Examples","Help","Untitled","Open Project","(empty)","Saved!","Delete Project","Are you sure you want to delete","rename...","Costume Editor","click or drag crosshairs to move the rotation center","Project Notes","New Project","Replace the current project with a new one?","Open Projekt","Save Project As...","Export blocks","this project doesn't have any\ncustom global blocks yet","none","for all sprites","for this sprite only","Change block","Command","Reporter","Predicate","Block Editor","Apply","Delete Custom Block","Create input name","Edit input name","Edit label fragment","Title text","Input name","Delete","Text","Any type","Boolean (T/F)","Command\n(inline)","Command\n(C-shape)","Any\n(unevaluated)","Boolean\n(unevaluated)","Single input.","Default Value:","Multiple inputs (value is list of inputs)","Upvar - make internal variable visible to caller","line","tab","cr","About Snap","Back...","License...","Modules...","Credits...","Translators...","License","current module versions:","Contributors","Translations","normal","large","slider","slider min...","slider max...","Slider minimum value","Slider maximum value","length: ","add comment here...","(90) right","(-90) left","(0) up","(180) down","mouse-pointer","pen trails","Turtle","Empty","fisheye","whirl","pixelate","mosaic","saturation","brightness","ghost","negative","comic","confetti","space","up arrow","down arrow","right arrow","left arrow","d","h","k","q","u","1","2","3","4","5","6","7","8","9","new...","tan","asin","acos","atan","ln","e^","number","Boolean","reporter","find blocks...","Login...","Signup...","Reset Password...","show all","pic...","open a new window\nwith a picture of the stage","scripts pic...","open a new window\nwith a picture of all scripts","Stage size...","Zoom blocks...","Plain prototype labels","uncheck to always show (+) symbols\nin block prototype labels","check to hide (+) symbols\nin block prototype labels","check for flat ends of lines","uncheck for round ends of lines","Flat line ends","Codification support","uncheck to disable\nblock to text mapping features","check for block\nto text mapping features","Inheritance support","current %dates","year","month","date","hour","minute","time in milliseconds","day of week","transparence","clicked","pressed","dropped","mouse-entered","mouse-departed","when %b","JavaScript function ( %mult%s ) { %code }","Press CTRL+C one more time to effectively copy to clipboard.","Press CTRL+V one more time to effectively paste from clipboard.","Press CTRL+X one more time to effectively cut to clipboard.","undo","Paintbrush tool\n(free draw)","Stroked Rectangle\n(shift: square)","Stroked Ellipse\n(shift: circle)","Eraser tool","Set the rotation center","Line tool\n(shift: vertical/horizontal)","Filled Rectangle\n(shift: square)","Filled Ellipse\n(shift: circle)","Fill a region","Pipette tool\n(pick a color anywhere)","grow","shrink","flip ↔","flip ↕","Brush size","Constrain proportions of shapes?\n(you can also hold shift)","quadratic","cubic","elastic","sine_in","quad_in","cubic_in","elastic_in","sine_out","quad_out","elastic_out","aColor","hsv","rr","gg","bb","set_hsv","mixed","proportion","otherColor","frac1","frac2","darker","fract","lighter","dansDarker","vv","inverted","aPoint","ge","le","neg","mirror","other","multiplyBy","divideBy","floorDivideBy","theta","crossProduct","distanceTo","rotate","flip","distanceAngle","dist","angle","deg","scaleBy","scalePoint","translateBy","deltaPoint","rotateBy","centerPoint","asArray","originPoint","cornerPoint","rectangle","org","crn","setTo","bottomCenter","bottomLeft","bottomRight","boundingBox","topRight","leftCenter","rightCenter","topCenter","topLeft","aRect","newOrigin","insetBy","expandBy","growBy","intersect","mergeWith","spread","amountToTranslateWithin","containsPoint","containsRectangle","intersects","ro","isNearTo","threshold","factor","asArray_xywh","addChild","aNode","addChildFirst","depth","allChildren","child","forAllChildren","aFunction","anyChild","aPredicate","allLeafs","allParents","parentThatIsA","parentThatIsAnyOf","constructors","yup","trackChanges","noDraw","isMorph","bounds","cachedFullImage","cachedFullBounds","texture","cachedTexture","alpha","isVisible","isDraggable","isTemplate","acceptsDrops","noticesTransparentClick","drawNew","fps","customContextMenu","lastTime","onNextStep","fullChanged","stepFrame","elapsed","leftover","nxt","nextSteps","arrayOfFunctions","lst","fullBounds","fullBoundsNoShadow","visibleBounds","moveBy","silentMoveBy","setPosition","silentSetPosition","setLeft","setRight","setTop","setBottom","setCenter","setFullCenter","keepWithin","aMorph","leftOff","rightOff","topOff","bottomOff","scrollIntoView","sf","adjustScrollBars","setExtent","silently","silentSetExtent","changed","setWidth","silentSetWidth","setHeight","silentSetHeight","setColor","drawCachedTexture","drawTexture","Image","bg","lines","drawOn","sl","st","pic","globalAlpha","fullDrawOn","toggleVisibility","fullImageClassic","fb","fullImage","morph","shadowImage","outline","sha","globalCompositeOperation","fillRect","shadowImageBlurred","shadow","addShadow","getShadow","shadows","removeShadow","penTrails","broken","childChanged","topMorphAt","point","isTransparentAt","topMorphSuchThat","overlappedMorphs","morphs","getPixelColor","fullCopy","Map","copyRecordingReferences","updateReferences","reference","rootForGrab","isCorrectingOutsideDrag","wantsDropOf","pickUp","wrrld","hand","grab","isPickedUp","situation","slideBackTo","msecs","onBeforeDrop","glideTo","justDropped","reactToDropOf","endPoint","animations","endAlpha","oldAlpha","perish","activeHandle","moveCenter","popUpCenteredAtHand","inform","addItem","prompt","floorNum","ceilingNum","isRounded","menu","entryField","items","highlightColor","pressColor","addLine","popUpAtHand","pickColor","colorPicker","getChoice","anotherObject","inspector","Function","inspectee","contextMenu","isDevMode","developersMenu","hierarchyMenu","userMenu","addMenu","setAlphaScaled","toDataURL","newAlpha","unscaled","attach","choices","toggleIsDraggable","colorSetters","numericalSetters","allEntryFields","isEditable","nextEntryField","fields","previousEntryField","editField","nextTab","backTab","previousTab","escalateEvent","functionName","evaluateString","isTouching","otherMorph","oImg","overlappingImage","otherFb","oRect","minExtent","inset","normalImage","highlightImage","drawCrosshairsOnCanvas","drawOnCanvas","strokeStyle","lineWidth","stroke","p1","p11","p2","p22","isSquare","lineCap","mouseDownLeft","newPos","newExt","mouseButton","setPivot","mouseEnter","mouseLeave","isWarped","heading","isDown","wantsRedraw","penPoint","penBounds","facing","setHeading","drawLine","from","turn","steps","down","up","startWarp","endWarp","warp","fun","warpOp","argsArray","warpSierpinski","sierpinski","warpTree","level","tree","targetSetter","choice","mouseMove","updateTarget","setTarget","setTargetSetter","gradient","createLinearGradient","addColorStop","buildSubmorphs","cpal","gpal","viewPadding","ls","keyDownEventUsed","originalContents","originalAlignment","slot","setAlignmentToLeft","gotoSlot","initializeClipboardHandler","clipboardHandler","processKeyPress","processKeyDown","shiftKey","currentKey","selectionStartSlot","deleteSelection","ctrlKey","altKey","ctrl","metaKey","cmd","wordNavigation","selecting","goLeft","previousWordFrom","startMark","endMark","clearSelection","goRight","nextWordFrom","goUp","goDown","goHome","goEnd","deleteRight","deleteLeft","accept","cancel","slotPosition","isScrollable","scrollCursorIntoView","howMany","updateSelection","upFrom","downFrom","startOfLine","endOfLine","gotoPos","slotAt","stopEditing","aChar","selectAll","doIt","inspectIt","showIt","substring","destroyClipboardHandler","inspectKeyEvent","outlinePath","radius","setBorderWidth","setBorderColor","setCornerSize","isPointingRight","isClickable","popUp","destroyTemporaries","temporaries","contentsMorph","rad","fixLayout","autoOrient","autoOrientation","center1","center2","toggleOrientation","is3D","hasMiddleDip","colorBak","drawEdges","pressImage","mouseClickLeft","rangeSize","unitSize","bw","bh","posX","posY","updateValue","relPos","setStart","setStop","setSize","showValue","userSetStart","noUpdate","newStart","newStop","mousePos","newX","newY","isTouched","upStep","downStep","touch","unTouch","currentProperty","showing","markOwnProperties","hasUserEditedDetails","detail","work","buttonInspect","buttonClose","buttonSubset","buttonEdit","resizer","buildPanes","updateCurrentSelection","cnts","currentTxt","keyboardReceiver","enableSelecting","setReceiver","setContents","ev","attribs","isBold","hBar","vBar","isTextLineWrapping","listContents","addProperty","renameProperty","propertyName","removeProperty","lbl","activeIndex","activateIndex","isListContents","submenu","aMenu","indicator","addPair","createLabel","backgroundColor","item","isLine","adjustWidths","scrollFrame","isSelected","createBackgrounds","unselectAllItems","popup","activeMenu","popUpCenteredInWorld","closeRootMenu","closeSubmenu","getFocus","selectFirst","leaveSubmenu","selectUp","enterSubmenu","selectDown","processKeyUp","triggers","popUpSubmenu","aMenuItem","isItalic","isPassword","isShowingBlanks","blanksColor","currentlySelecting","markedTextColor","markedBackgoundColor","ans","textAlign","renderWithBlanks","startX","drawBlank","blank","words","isFirst","word","xOffset","charX","aSlot","rawHeight","setFontSize","disableSelecting","toggleShowBlanks","toggleWeight","toggleItalic","toggleIsPassword","setSerif","setSansSerif","setText","cursor","shiftClick","mouseDoubleClick","selectWordAt","selectBetweenWordsAt","crs","already","newMark","lineSlots","maxLineWidth","newline","paragraphs","oldline","shadowHeight","shadowWidth","offx","offy","layoutChanged","columnRow","row","yOffset","colRow","above","below","selectAllAndEdit","setAlignmentToRight","setAlignmentToCenter","evaluationMenu","schedule","triggerDoubleClick","bubbleHelp","popUpbubbleHelp","createLabelPart","cntr","part","icon","createLabelString","createIcon","isShowingSubmenu","isListItem","delaySubmenu","isSelectedListItem","dirty","submorphBounds","keepInScrollFrame","adjustBounds","subBounds","newBounds","growth","reactToGrabOf","keepAllSubmorphsWithin","autoScrollTrigger","enableAutoScrolling","isScrollingByDragging","hasVelocity","toolBar","hWidth","vHeight","adjustToolBar","addContents","cl","cw","ch","oldPos","deltaX","deltaY","friction","grabPosition","startAutoScrolling","autoScroll","ft","mouseScroll","toggleTextLineWrapping","buildListContents","pair","nb","isStopped","moveUp","moveDown","moveRight","moveLeft","mouseOverList","morphToGrab","grabOrigin","touchHoldTimeout","contextMenuEnabled","morphAtPointer","allMorphsAtPointer","dropTargetFor","oldParent","prepareToBeGrabbed","drop","morphToDrop","selectForEdit","processMouseDown","actualClick","processTouchStart","touches","processMouseUp","processMouseMove","processTouchMove","processTouchEnd","expectedClick","processDoubleClick","mouseOverNew","topMorph","posInDocument","worldCanvas","reactToTemplateCopy","mouseLeaveDragging","newMorph","mouseEnterDragging","processMouseScroll","wheelDeltaY","wheelDelta","wheelDeltaX","processDrop","readSVG","aFile","frd","FileReader","droppedSVG","onloadend","readAsDataURL","readImage","droppedImage","readAudio","snd","Audio","droppedAudio","readText","droppedText","readAsText","readBinary","droppedBinary","readAsArrayBuffer","readURL","request","onreadystatechange","parseImgURL","iurl","files","FileList","dataTransfer","getData","lastIndexOf","useFillPage","lastEditedText","virtualKeyboard","initEventListeners","brokenFor","updateBroken","condenseDamages","stepAnimations","hit","trgt","again","clientHeight","reactToWorldResize","getGlobalPixelColor","initVirtualKeyboard","autocapitalize","clipboardData","mouseDownRight","mouseClickRight","userCreateMorph","foo","bar","baz","garply","fred","customMorphs","toggleDevMode","hideAll","showAllHiddens","about","versions","slide","toggleBlurredShadows","togglePreferences","widgets","labelShadowColor","labelShadowOffset","outlineColor","outlineGradient","contrast","labelMinExtent","isDisabled","drawOutline","outlineStyle","drawBackground","topColor","bottomColor","minInset","createRadialGradient","shading","trueStateLabel","refresh","lw","previewPath","bezierCurveTo","eh","captionString","labelAlignment","toggleElement","shadowAlpha","inactiveColor","titleFontSize","titleTextColor","titleBarColor","titlePadding","buttonContrast","buttonFontSize","buttonCorner","buttonEdge","buttonPadding","buttonOutline","buttonOutlineColor","buttonOutlineGradient","instances","buttons","createButtons","textString","setPicture","addBody","addButton","askYesNo","defaultString","sliderMin","sliderMax","sliderAction","sld","reactToChoice","inp","reactToKeystroke","getValue","promptCode","instructions","remarkText","frame","bdy","getInput","typeInPadding","drawRectBorder","promptVector","deflt","xLabel","yLabel","labelText","vec","xInp","yInp","xCol","yCol","promptCredentials","purpose","tosURL","tosLabel","prvURL","prvLabel","checkBoxLabel","linkButton","btn","age","birthday","today","getFullYear","getMonth","byr","monthName","bmn","validInputs","indicate","checklist","em","eml","usr","pw1","opw","pw2","agree","chk","emlLabel","dof","mCol","lnk","years","currentYear","firstYear","January","February","March","April","May","June","July","August","September","October","November","December","email","oldpassword","withKey","ok","normalizeSpaces","aMorphOrCanvas","addHead","outlinePathTitle","outlinePathBody","respectHiddens","lfb","cfb","arrow","oldContentsExtent","setChoice","aStringOrFloat","setIsNumeric","dropDownMenu","cachedClr","cachedClrBright","cachedClrDark","C (48)","D (50)","C# (49)","E (52)","Eb (51)","F (53)","G (55)","F# (54)","A (57)","G# (56)","B (59)","Bb (58)","C (60)","D (62)","C# (61)","E (64)","Eb (63)","F (65)","G (67)","F# (66)","A (69)","G# (68)","B (71)","Bb (70)","C (72)","blackkey","keycolor","keywidth","keyheight","keyposition","aPianoKeyItem","selectKey","midiNum","note","piano","play","setScale","rounding","hatHeight","hatWidth","rfBorder","dent","bottomPadding","cSlotPadding","labelPadding","labelFontName","labelFontStyle","embossing","labelWidth","labelWordWrap","dynamicInputLabels","feedbackColor","feedbackMinHeight","minSnapDistance","reporterDropFeedbackPadding","labelContrast","activeHighlight","errorHighlight","activeBlur","activeBorder","rfColor","isCachingInputs","cachedNormalColor","isStatic","cachedInputs","nextBlock","debugCachedInputs","realInputs","allInputs","allEmptySlots","isEmptySlot","tagExitBlocks","stopTag","isCommand","partOfCustomCommand","exitTag","replaceInput","oldArg","newArg","replacement","cachedSlotSpec","startLayout","fixBlockColor","fixLabelColor","endLayout","silentReplaceInput","revertToDefaultInput","noValues","labelPart","parseSpec","blockSpec","scriptTarget","getMethod","setChoices","inputOptionsOfIdx","defaultValueOfInputIdx","emptySlot","isLocked","getVarNamesDict","rcvr","block","tempVars","inputFragmentNames","allNamesDict","refactorVarInStack","oldName","newName","isScriptVar","inputNames","definesScriptVariable","setSpec","currentSprite","inheritsAttribute","selectionID","shadowAttribute","grabbedMorph","affected","allComments","align","getHighlight","addHighlight","removeHighlight","bright","dark","setLabelColor","textColor","isProtectedLabel","flash","unflash","nearestBlock","isForced","isObjInputFragment","addInput","stage image","canBeEmpty","blockColor","isBlockLabelBreak","getSpec","isUnevaluated","(1) sine","(2) square","(3) sawtooth","(4) triangle","csv","any key","ceiling","10^","encode URI","decode URI","encode URI component","decode URI component","XML escape","XML unescape","hex sha512 hash","list1","list2","list3","isLambda","delimiter","parameters","names","getSlotSpec","blockHeight","bottomCorrection","blockWidth","isPrototype","ico","methodIconExtent","initialExtent","arrows","fixHighlight","showBubble","exportPic","morphToShow","anchor","thumbnail","booleanMorph","corral","stageIcon","isTemporary","allExemplars","exportPictureWithResult","aBubble","scr","bub","taller","saveCanvasAs","mappedCode","definitions","zebraContrast","snapSound","toggleSnapSound","instantiationSpec","isCorpse","addWord","inputIdx","placeHolder","userSetSpec","tb","buildSpec","rebuild","addOption","onHint","offHint","renameVar","blck","alternatives","field","shiftClicked","activeProcess","vNames","exportResultPic","refactorThisVar","isInheritedVariable","toggleInheritedVariable","exemplar","isTransientVariable","enableInheritance","xPosition","yPosition","getScale","getCostumeIdx","toggleInheritanceForAttribute","enableCodeMapping","blockAlternatives","relabel","dup","blockEditor","palette","scriptPic","saveXMLAs","vn","doShowVar","hidePrimitive","cat","hiddenPrimitives","doWarp","reifyScript","reifyReporter","reifyPredicate","doDeclareVariables","flushBlocksCache","refreshPalette","shadowedOnly","inheritedVariableNames","varFrame","silentFind","toggleTransientVariable","deleteBlock","tobefixed","isindef","ring","embed","alternativeSelectors","oldInputs","blockForSelector","restoreInputs","setSelector","aSelector","surplus","info","setCategory","blk","leftOver","nestedBlock","showHelp","helpSpec","resourceURL","mapToHeader","codeDefinitionHeader","codeHeaders","mapToCode","codeMappingHeader","codeMappings","mapHeader","aString","mapCode","codeLines","headerLines","bodyLines","defKey","defs","headerLine","indent","trimLeft","partLines","codeLine","hat","alternateBlockColor","blockInstance","justTheTemplate","renameVarTo","doRefactorBlockParameter","doRefactorRingParameter","doRefactorScriptVar","hasSpriteVariable","doRefactorSpriteVar","doRefactorGlobalVar","varExistsError","where","fragMorph","definer","updateBlockLabel","oldValue","newWatcher","oldWatcher","findVariableWatcher","globalVariables","getVar","deleteVariable","addVariable","setVar","toggleVariableWatcher","refactorVariableInstances","customBlocks","eachBlock","globalBlocks","eraseHoles","rightX","isRing","holes","isHole","hole","oldHighlight","highlight","addErrorHighlight","toggleHighlight","highlightImageBlurred","hi","out","highlights","cslot","nearest","forceNormalColoring","fixChildrensBlockColor","hasLabels","initializeVariables","cmnt","hasBlockVars","threads","toggleProcess","enableKeyboard","nextCommand","findProcess","clipWidth","fadeout","stackFullBounds","drawMethodIcon","isNormal","droppedMorph","startFollowing","stopFollowing","justThis","stackHeight","commentsBottom","stackWidth","commentsRight","enableCustomHatBlocks","pauseCustomHatBlocks","stopButton","bottomBlock","topAttachPoint","dentCenter","bottomAttachPoint","wrapAttachPoint","dentLeft","attachTargets","tp","loc","enableNestedAutoWrapping","isStop","allAttachTargets","newParent","topBlocks","rejectsHats","closestAttachTarget","thresh","ref","minDist","eachTarget","eachRef","offsetY","clearDropInfo","lastDroppedBlock","recordDrop","lastDropTarget","lastNextBlock","lastWrapParent","slotAttachPoint","userDestroy","userDestroyJustThis","dropRecord","removeBlock","pb","cs","drawTop","drawBody","drawBottom","drawTopDentEdge","drawBottomDentEdge","drawLeftEdge","drawRightEdge","drawTopLeftEdge","drawBottomRightEdge","drawDent","upperGradient","lowerGradient","leftGradient","lgx","rightGradient","drawFlatBottomDentEdge","sa","sp","closestInput","lastReplacedInput","lastPreservedBlocks","handMorph","determineSlotSpec","elementSpec","stopProcess","startProcess","drawDiamond","drawRounded","h2","aBlock","vanishForSimilar","cleanUpMargin","cleanUpSpacing","isPreferringEmptySlots","feedbackMorph","isAnimating","showCommentDropFeedback","showReporterDropFeedback","showCommandDropFeedback","lists","showCSlotWrapFeedback","closestBlock","titleBar","srcBlock","trgBlock","touchingVariadicArrowsIfAny","handPos","stacks","blackList","hasUndropQueue","lastRecord","nextRecord","flushPaletteCache","cleanUp","exportScriptsPicture","scriptsPicture","addComment","undrop","lastOrigin","recoverLastDrop","updateToolbar","redrop","forRedrop","rec","lastGrabOrigin","record","addToolbar","shade","undoButton","redoButton","keyboardButton","sortedElements","fixMultiArgs","oldFlag","toggleKeyboardEntry","sorted","sortedScripts","executeOnSliderEdit","reactToSliderEdit","isThreadSafe","enableSingleStepping","listIcon","objectIcon","drawFlat","isFilled","ins","rf","reify","nested","drawTopRightEdge","drawTopEdge","drawBottomEdge","constant","dta","isConstant","userSetContents","menuFromDict","noEmptyOption","messagesMenu","allNames","allMessageNames","messagesReceivedMenu","any message","collidablesMenu","distancesMenu","clonablesMenu","objectsMenu","typesMenu","enableFirstClass","sound","gettablesMenu","neighbors","other sprites","clones","other clones","enableNesting","costumes","sounds","attributesMenu","objName","varNames","costume name","costumesMenu","soundsMenu","shadowedVariablesMenu","shadowedAttributes","pianoKeyboardMenu","readonly","arrowWidth","reactToEdit","freshTextEdit","mapStringToCode","mapNumberToCode","drawRoundBorder","objects","isTernary","isBinary","boolOrNull","toggleValue","mapTrueToCode","mapFalseToCode","boolTrue","boolFalse","textLabel","drawLabel","drawKnob","w2","r2","slideStep","pad","getUserColor","mouseMoveBak","mouseDownBak","mouseUpBak","pal","readout","updateReadout","leftArrow","rightArrow","minInputs","noticesTransparentclick","anArray","fixArrowsLayout","dim","newPart","removeInput","oldPart","repetition","mapCodeList","mapCodeItem","mapCodeDelimiter","itemCode","delim","refreshScale","stickyOffset","isCollapsed","toggleExpand","setTextWidth","textWidth","pixels","tw","ignoreLayer","affectedBlocks","rightMost","atEnd","manifestStatement","manifestExpression","newScript","insertVariableGetter","deleteLastElement","lastElement","insertBlock","nextElement","blockTypes","vName","variableBlock","shiftScript","lastCommand","cm","nextScript","lastScript","runScript","processKeyEvent","reactToKeyEvent","keyName","searchBlocks","rightAway","glow","newProc","removeTerminatedProcesses","processesForBlock","stopAll","excpt","stopAllForReceiver","stopAllForBlock","aTopBlock","pauseAll","pause","pauseAllActiveSounds","resumeAll","resume","resumeAllActiveSounds","flashTime","stopTalking","isTable","only","doWhen","stopIt","pred","message","toggleSingleStepping","enableLiveCoding","pauseStep","evaluateContext","popContext","stopMusic","flashPausedContext","exp","expectReport","evaluateSequence","evaluateMultiSlot","evaluateArgLabel","bindingID","evaluateInput","evaluateBlock","argCount","evaluateNextInput","flashContext","returnValueToParentContext","handleError","reportOr","reportAnd","doReport","outer","doStopCustomBlock","doStopWarping","multiSlot","argLabel","doYield","errorObsolete","parameterNames","reportScript","reportJSFunction","parmNames","doRun","blockReceiver","runContinuation","exit","runnable","caller","parms","addVar","fork","ignoreExit","doStopBlock","doCallCC","aContext","isReporter","continuation","reportCallCC","copyForContinuationCall","evaluateCustomBlock","semanticSpec","isDirectlyRecursive","doSetVar","varName","doSet","doChangeVar","changeVar","reportGetVar","watcher","others","doChangePrimitiveVisibility","watchers","doHideVar","doRemoveTemporaries","hideIt","doDeleteAttr","attrName","inheritAttribute","inputOption","doTellTo","reportAttributeOf","reportAskFor","reportNewList","reportCONS","car","cdr","assertType","cons","reportCDR","doAddToList","doDeleteFromList","doInsertInList","reportRandom","doReplaceInList","put","reportListItem","reportListLength","reportListContainsItem","doShowTable","doIf","doIfElse","doStop","doStopAll","keysPressed","stopAllActiveSounds","removeAllClones","pauseButton","doStopThis","doStopOthers","frameRate","reportIsFastTracking","isFastTracked","doSetFastTracking","reportIsA","startFastTracking","stopFastTracking","doPauseAll","doForever","doRepeat","counter","doUntil","goalCondition","doWaitUntil","reportMap","doForEach","upvar","doWait","secs","doGlide","endX","endY","startValue","gotoXY","glide","doSayFor","doThinkFor","doThink","doPlaySoundUntilDone","playSound","ended","terminated","doStopAllSounds","thread","doAsk","activePrompter","isStage","isHiddenSprite","isDone","lastAnswer","inputField","reportLastAnswer","reportURL","protocol","doBroadcast","thisObj","trg","rcvrs","procs","getOtherObject","itemsArray","lastMessage","allHatBlocksFor","doBroadcastAndWait","activeSends","getLastMessage","typeString","reportTypeOf","thingType","assertAlive","reportSum","reportDifference","reportProduct","reportQuotient","reportModulus","reportLessThan","reportNot","reportGreaterThan","reportEquals","reportIsIdentical","isImmutable","reportBoolean","reportRound","reportMonadic","fname","LN10","reportTextFunction","encodeURI","decodeURI","decodeURIComponent","unescape","hex_sha512","reportJoin","reportJoinWords","aList","asText","reportLetter","reportStringSize","reportUnicode","charCodeAt","reportUnicodeAsLetter","reportTextSplit","del","strType","delType","parseCSV","re_valid","re_value","m0","m1","m2","m3","alert","stageObj","thatObj","getObjectsNamed","cloneOriginName","those","doFaceTowards","faceToXY","reportMouseX","reportMouseY","doGotoObject","createClone","newClone","reportTouchingObject","objectTouchingObject","penTrailsMorph","reportTouchingColor","colorFiltered","reportColorIsTouchingColor","color1","color2","reportDistanceTo","attribute","reportGet","neighborhood","specimens","rotatesWithAnchor","xCenter","yCenter","reportCostumes","allParts","attachPart","detachFromAnchor","setExemplar","release","perpetuate","setRotationX","setRotationY","otherObj","reportMouseDown","reportKeyPressed","keyString","doResetTimer","resetTimer","reportTimer","getTimer","reportDate","datefn","currDate","inputFn","dateMap","doMapCodeOrHeader","anOption","doMapCode","doMapHeader","doMapValueCode","doMapListCode","kind","key1","key2","reportMappedCode","doRest","beats","reportTempo","getTempo","doChangeTempo","changeTempo","doSetTempo","bpm","setTempo","doPlayNote","doPlayNoteForSecs","doSetInstrument","reportStackSize","stackSize","reportFrameCount","flashable","lastFlashable","doInterrupt","doIdle","cont","copyForContinuation","prepareContinuationForBinding","deepCopy","sender","shadowVar","deleteVar","addKeysToDict","srcDict","trgtDict","eachKey","categories","motion","looks","pen","control","sensing","operators","paletteColor","paletteTextColor","isCachingPrimitives","useFlatLineEnds","highlightBorder","bubbleColor","bubbleFontSize","bubbleFontIsBold","bubbleCorner","bubbleBorder","bubbleBorderColor","bubbleMaxTextWidth","initBlocks","turnLeft","changeXPosition","setXPosition","changeYPosition","setYPosition","bounceOffEdge","doSwitchToCostume","doWearNextCostume","changeEffect","setEffect","clearEffects","changeScale","comeToFront","goBack","doScreenshot","dev","reportSounds","changeHue","setHue","changeBrightness","setBrightness","changeSize","doStamp","floodFill","reportPenTrailsAsCostume","receiveGo","receiveKey","receiveInteraction","receiveMessage","receiveCondition","receiveOnClone","removeClone","reportThreadCount","getLastAnswer","alias","reportFalse","initBlockMigrations","blockMigrations","receiveClick","reportTrue","doMapStringCode","normalExtent","rotationStyle","inheritedMethodsCache","nestingScale","layers","blocksCache","paletteCache","rotationOffset","wasWarped","graphicsValues","cachedPropagation","inheritedAttributes","forClone","cb","att","addSpecimen","copyAndBindTo","allBlockInstances","cst","dp","appearIn","newSpriteName","addSprite","sprites","setName","currentCenter","isFlipped","isLoadingCostume","stageScale","costumeExtent","flipped","applyGraphicsEffects","wearCostume","silentGotoXY","createImageData","putImageData","setDefaults","migration","blockTemplates","isGhosted","newBlock","inheritedVars","watcherToggle","toggleWatcher","showingWatcher","variableWatcherToggle","showingVariableWatcher","helpMenu","isVariableNameInUse","makeBlockButton","deletableVariableNames","makeBlock","dlg","currentCategory","freshPalette","searchButton","makeButton","hideNextSpace","hasHiddenPrimitives","hiddens","more","canHidePrimitives","templateInstance","inheritedBlocks","blocksMatching","searchString","strictly","labelOf","aBlockSpec","filtered","fillDigits","anInt","totalDigits","fillChar","relevance","aBlockLabel","aSearchString","atWord","primitive","blocksDict","reporterized","rel","blocksList","reporterize","scriptFocus","showSelection","searchPane","searchBar","oldSearch","createPalette","logo","expressionString","parseInfix","blockFromAST","ast","monads","inps","reverseDict","-","/","%","=","<","&","|","!","deleteVariableWatcher","addCostume","noShadow","positionTalkBubble","doWearPreviousCostume","addSound","activeSounds","aud","isAppMode","exportSprite","selectSprite","showOnStage","duplicateSprite","instantiate","instantiateSprite","removeSprite","immediately","cloneCount","clonify","hats","initClone","corpsify","perpetuateAndEdit","inst","createCorral","getHue","getBrightness","layer","targetLayer","newLayer","otherSprite","originalAlpha","clearPenTrails","percentage","realScale","xDist","yDist","graphicsChanged","transform_fisheye","imagedata","newImageData","newPixels","centerX","centerY","srcX","srcY","srcI","atan2","transform_whirl","scaleX","scaleY","whirlRadians","radiusSquared","sina","cosa","transform_pixelate","transform_mosaic","transform_duplicate","transform_HSV","hueShift","saturationShift","brightnessShift","span","newR","newG","newB","transform_negative","rcom","gcom","bcom","transform_comic","transform_confetti","eff","getGhostEffect","talkBubble","middle","recordLayers","refreshInheritedAttribute","restoreLayers","receiveUserInteraction","stagePos","damagedFrom","damagedTo","damaged","read","trailsCanvas","newCostumeName","shrinkWrap","justMe","inheritsX","inheritsY","nestingBounds","isFinite","penSize","penState","startPoint","fraction","rPos","dirX","dirY","absoluteX","setRotationCenter","absoluteY","absoluteCoordinate","moveRotationCenter","worldCoordinate","msgs","allHatBlocksForKey","allHatBlocksForInteraction","interaction","allGenericHatBlocks","watcherFor","deleteAllBlockInstances","allIndependentInvocationsOf","purgeCorpses","allSpecimens","inDefinitions","allLocalBlockInstances","eachScript","aSpec","allInvocationsOf","addAllInvocationsOf","allDependentInvocationsOf","inScripts","inBlockEditors","allEditorBlockInstances","getLocalMethod","inPalette","paletteBlockInstance","usesBlockInstance","forRemoval","skipGlobals","skipBlocks","doubleDefinitionsFor","blockList","replaceDoubleDefinitionsFor","doubles","double","chooseExemplar","eachSprite","another","emancipate","prune","shadowAllAttributes","shadowAllMethods","shadowAllVars","removeSpecimen","aName","updatePropagationCache","inherited","wardrobe","jukebox","createSpriteEditor","spriteEditor","own","locals","allBlocks","ownBlocks","valuesOnly","inheritedMethods","xOut","compositeOperation","fullThumbnail","thumb","sym","detachPart","detachAllParts","allAnchors","layerCache","ignoredCostume","ix","stem","imgSource","enableSublistIDs","timerStart","watcherUpdateFrequency","lastWatcherUpdate","relativePos","ws","hs","trails","excludedSprite","leftPos","keyPressed","stepGenericConditions","hatCount","fireKeyEvent","removePressedKey","fireGreenFlagEvent","editScripts","createNewProject","openProjectsBrowser","fireStopAllEvent","saveProjectsBrowser","hasChangedMedia","spriteBar","tabBar","tabTo","showAll","fimg","dataAsMorph","isText","scaledImg","canvasBoundingBox","getAlpha","getLeft","getTop","getRight","getBottom","anIDE","isnew","oncancel","onsubmit","openIn","editRotationPointOnly","dialog","isTainted","rp","createTexture","grey","audioContext","gainNode","AudioContext","mozAudioContext","msAudioContext","oAudioContext","webkitAudioContext","createGain","createGainNode","gain","createOscillator","noteOn","noteOff","frequency","connect","isBig","big","isCircular","listwatcher","isSameList","isSameTable","drawShadow","listWatcher","textMorph","enableTables","currentValue","readoutColor","labelMorph","sliderMorph","cellMorph","setSliderMin","setSliderMax","isList","monitor","filePicker","txtOnlyMsg","ftype","saveFileAs","setStyle","styleNormal","styleLarge","styleSlider","userSetSliderMin","userSetSliderMax","gui","setDefaultDesign","frameColor","groupColor","buttonLabelColor","tabColors","rotationStyleColors","appModeColor","scriptsPaneTexture","scriptsTexture","setFlatDesign","userLanguage","projectsInURLs","applySavedSettings","cloudMsg","currentTab","projectNotes","logoURL","paletteHandle","stageHandle","corralBar","isSmallStage","paletteWidth","stageRatio","wasSingleStepping","loadNewProject","shield","savingPreferences","getURL","showMessage","applyFlags","editMode","toggleAppMode","noRun","runScripts","hideControls","onbeforeunload","noExitWarning","interpretUrlAnchors","rawOpenProjectString","SnapCloud","parseDict","Username","getPublicProject","encodeDict","projectData","rawOpenCloudDataString","cloudError","ProjectName","urlLanguage","setLanguage","createCloudAccount","hasLocalStorage","localStorage","parseResponse","intervalHandle","createLogo","createControlBar","createCategories","createStage","createSpriteBar","createCorralBar","snapMenu","startButton","projectButton","settingsButton","stageSizeButton","appModeButton","steppingButton","cloudButton","refreshResumeSymbol","steppingSlider","refreshSlider","pauseSymbols","addCategoryButton","fixCategoriesLayout","buttonWidth","buttonHeight","xPadding","yPadding","forSearching","createPaletteHandle","createStageHandle","addRotationStyleButton","rotationStyleButtons","symbols","labels","nameField","padlock","thumbSize","tabCorner","tabString","acceptDrops","newbutton","paintbutton","cambutton","enableCamera","notSupportedMessage","spriteIcon","arrangeIcons","maxPaletteWidth","setProjectName","minExt","maxHeight","minRatio","maxRatio","anImage","anAudio","openProjectString","openCloudDataString","openBlocksString","openSpritesString","openMediaString","openScriptString","anArrayBuffer","loadYPR","buffer","reader","sb","Reader","pname","XMLWriter","readYPR","Uint8Array","ypr","shouldIgnorePosition","oldTop","pressStart","toggleFastTracking","toggleVariableFrameRate","toggleCameraSupport","togglePauseResume","stopAllScripts","toggleRetina","refreshIDE","defaultDesign","removeSetting","flatDesign","saveSetting","newProject","design","getSetting","longform","longurls","plainprototype","keyboard","tables","tableLines","autoWrapping","isLaunchingExpanded","highContrast","plainLabel","addNewSprite","rnd","paintNewSprite","newCamSprite","camDialog","ignoredSprite","cloudMenu","exportProjectMedia","exportProjectNoMedia","exportProjectAsCloudData","prj","settingsMenu","addPreference","projectMenu","graphicsName","exportProject","exportGlobalBlocks","removeUnusedBlocks","exportProjectSummary","libraries","parseResourceFile","importMedia","getMediaList","dirname","alphabetically","fileName","description","folderName","popupMediaImportDialog","selectedIcon","turtle","fp","fw","cstTemplate","sndTemplate","isSVG","isSound","prevSelected","onloadeddata","createThumbnail","btoa","aboutSnap","aboutTxt","noticeTxt","creditsTxt","btn1","btn2","btn3","btn4","licenseBtn","translatorsBtn","editProjectNotes","saveProject","saveProjectToCloud","rawSaveProject","setURL","plain","dataPrefix","scan","unused","every","trgIdx","found","app","pics","useDropShadows","addNode","addImage","inline","para","addVariables","ul","listMorph","li","addBlocks","blockImg","defImg","meta","notes","toc","globalVars","paragraph","ol","tocEntry","openProject","customSnapContext","rawOpenBlocksString","loadBlocks","rawOpenSpritesString","loadSprites","loadMedia","rawOpenScriptString","loadScript","fileType","dataURItoBlob","components","hasTypeStr","atob","Blob","fileExt","blobIsSupported","saveAs","switchToUserMode","switchToDevMode","toggleZebraColoring","toggleDynamicInputLabels","toggleLongFormInputDialog","togglePlainPrototypeLabels","togglePreferEmptySlotDrops","toggleVirtualKeyboard","toggleInputSliders","toggleSliderExecute","appMode","toggleStageSize","isSmall","forcedRatio","zoomTo","targetRatio","smallRatio","altClicked","setPaletteWidth","confirm","languageMenu","openDefaultProject","impString","reflectLanguage","urlBar","userSetBlocksScale","scrpt","sample","setBlocksScale","normal (1x)","demo (1.2x)","presentation (1.4x)","big (2x)","huge (4x)","giant (8x)","monstrous (10x)","userSetStageSize","setStageExtent","userSetDragThreshold","initializeCloud","pwh","login","cloudIcon","signup","resetCloudPassword","resetPassword","changeCloudPassword","changePassword","logout","mediaXML","flushMedia","cloudAcknowledge","cloudResponse","explanation","setCloudURL","Snap!Cloud","task","projectList","srcBar","filterField","magnifyingGlass","listField","preview","notesText","notesField","deleteButton","shareButton","unshareButton","buildContents","setSource","notification","addSourceButton","buildFilterField","fixListFieldItemColors","thumbnailSize","symbol","lbl1","lbl2","l1","l2","aProject","Notes","clearDetails","getProjectList","installCloudProjectList","getExamplesProjectList","getLocalProjectList","childNamed","projects","pl","proj","Public","Thumbnail","Updated","openCloudProject","project","rawOpenCloudProject","reconnect","callService","disconnect","saveCloudProject","deleteProject","shareProject","entry","projectId","unshareProject","thin","libraryCache","initializePalette","initializeLibraryDescription","installLibrariesList","importLibrary","hasCached","displayBlocks","libraryXML","cacheLibrary","titleHeight","cachedLibrary","selectedLibrary","libraryName","libraryText","libraryKey","blockImage","previousCategory","blockContainer","msgText","rotationButton","createRotationButton","roationButton","releaseSprite","showSpriteOnStage","copyStack","copyCostume","copySound","editCostume","disinherit","renameCostume","duplicateCostume","newcos","updateList","removeCostume","removeCostumeAt","exportCostume","costumesVersion","spriteVersion","toolsPadding","paintNew","newFromCam","createInfo","previewAudio","dur","mod","toggleAudioPlaying","audioHasEnded","renameSound","removeSound","soundsVersion","videoElement","videoView","noCameraSupport","mediaDevices","getUserMedia","video","stream","srcObject","catch","clippingWidth","clippingHeight","videoWidth","videoHeight","dispatchEvent","getTracks","paint","paper","controls","edits","buildEdits","toolbox","buildToolbox","scaleBox","buildScaleBox","propertiesControls","colorpicker","penSizeSlider","penSizeField","primaryColorButton","primaryColorViewer","constrain","populatePropertiesMenu","refreshToolButtons","tools","brush","eraser","crosshairs","rectangleSolid","circleSolid","paintbucket","pipette","tool","toolButton","drawcrosshair","pushButton","clearCanvas","oldim","oldrc","automaticCrosshairs","centermerge","updateAutomaticCenter","alpen","ni","primarycolor","linewidth","currentTool","toolChanged","colorselection","can","dragRect","previousDragPoint","mask","erasermask","background","secondarycolor","brushBuffer","undoBuffer","isShiftPressed","calculateCanvasCenter","canvasBounds","cacheUndo","cachecan","floodfill","sourcepoint","currentpoint","sourcecolor","checkpoint","newW","newH","relpos","mctx","pctx","strokeRect","bkctx","drawFrame","becomeArray","colName","rowName","repeat","columnNames","becomeLinked","tail","loopcount","it","cellColor","range","lastUpdated","lastCell","startIndexMenu","plusButton","anyway","cell","starttime","maxtime","updateLength","notDone","setStartIndex","arrangeCells","fe","showTableView","view","byob","refreshDefaults","prototypeInstance","headerOnly","idProperty","typeOf","inputName","defaultValueOf","dropDownMenuOfInputIdx","dropDownMenuOf","isReadOnlyInputIdx","isReadOnlyInput","inputOptionsOf","parseChoices","quoted","myspec","localizedSpec","isInput","locParts","sem","abstractBlockSpec","translationsAsText","updateTranslations","scriptsModel","proto","oldVars","aDefinition","newSpec","refreshPrototype","protoSpec","newFrag","frags","specFromFragments","blockCategory","refreshPrototypeSlotTypes","defTemplateSpecFragment","upvarFragmentNames","upvarFragmentName","defSpecFragment","blockSpecFromFragments","blockSpecFragment","declarationsFromFragments","openForChange","isInUse","duplicateBlockDefinition","editTranslations","enableBlockVars","exportBlockDefinition","deleteBlockDefinition","allDefs","jag","jags","blockType","scopes","createCategoryButtons","createTypeButtons","creatpanel_LefteButtons","preventTypeChange","addBlockTypeButton","setType","addTypeButton","addScopeButton","setScope","varType","scriptsFrame","isLive","updateDefinition","setInitialDimensions","consolidateDoubles","refreshAllBlockInstances","oldSpec","prototypeSpec","prototypeSlots","prototypeHat","stackFrame","mex","prot","pref","suff","isUpvar","isMultipleInput","isSingleInput","setToSingleInput","singleInputType","setToMultipleInput","setToUpvar","setSingleInputType","sO","frag","isPlaceHolder","isOnlyElement","newFragment","symbolColor","isHighlighted","fh","textfield","slots","isExpanded","cachedRadioButton","noDelete","createSlotTypeButtons","fixSlotsLayout","addSlotsMenu","fragmentType","symbolMenu","defaultSwitch","defaultInputField","noDeleteButton","deleteFragment","defLabel","defInput","defSwitch","addSlotTypeButton","radioButtonSingle","addSlotArityButton","setSlotArity","defaultInputLabel","setSlotType","arity","ypadding","ah","editSlotOptions","exportBlocks","checkBox","lastCat","selectNone","importBlocks","removeBlocks","demo","fillWithTestData","setRows","rowsArray","setCols","colsArray","setColNames","setRowNames","setColName","setRowName","addRow","addCol","toList","eachRow","listSymbol","setData","drawData","txtWidth","txtHeight","dataRepresentation","orphaned","shouldBeList","isOvershooting","foreground","raggedBoxPath","tm","columnAt","textHeight","tableVersion","rowLabelWidth","columns","maxStartRow","maxStartCol","dragAnchor","resizeAnchor","resizeCol","resizeRow","wantsUpdate","initScrollBars","showData","updateScrollBars","rowLabelsWidth","columnsLayout","visibleRows","colWidth","buildCells","noScrollUpdate","cellIdx","xSteps","ySteps","shiftCells","resizeCells","oldCols","oldRows","colNum","possible","globalExtent","relativeX","resetColumns","openInDialog","showListView","tableView","symbolWidth","symbolCanvasColored","drawSymbolStop","drawSymbolPointRight","drawSymbolStepForward","drawSymbolGears","drawSymbolFile","drawSymbolFullScreen","drawSymbolNormalScreen","drawSymbolSmallStage","drawSymbolNormalStage","drawSymbolTurtle","drawSymbolTurtleOutline","drawSymbolPause","drawSymbolFlag","drawSymbolOctagon","drawSymbolCloud","drawSymbolCloudOutline","drawSymbolCloudGradient","drawSymbolTurnRight","drawSymbolTurnLeft","drawSymbolStorage","drawSymbolPoster","drawSymbolFlash","drawSymbolBrush","drawSymbolRectangle","drawSymbolRectangleSolid","drawSymbolCircle","drawSymbolCircleSolid","drawSymbolLine","drawSymbolCross","drawSymbolCrosshairs","drawSymbolPaintbucket","drawSymbolEraser","drawSymbolPipette","drawSymbolSpeechBubble","drawSymbolSpeechBubbleOutline","drawSymbolTurnBack","drawSymbolTurnForward","drawSymbolArrowUp","drawSymbolArrowUpOutline","drawSymbolArrowLeft","drawSymbolArrowLeftOutline","drawSymbolArrowDown","drawSymbolArrowDownOutline","drawSymbolArrowRight","drawSymbolArrowRightOutline","drawSymbolRobot","drawSymbolMagnifyingGlass","drawSymbolMagnifierOutline","drawSymbolNotes","drawSymbolCamera","drawSymbolLocation","drawSymbolFootprints","drawSymbolKeyboard","drawSymbolKeyboardFilled","clip","vert","r1","r3","r4","drawDisk","fillTop","w3","h3","quadraticCurveTo","n2","nonSpace","nonWord","peek","skip","upTo","peekUpTo","skipSpace","lastIndex","indentation","require","tagName","childrenNamed","parentNamed","isFormatted","indentationLevel","ignoreQuotes","warn","parseString","parseStream","store","mediaIdProperty","mediaDetectionProperty","forBlocksLibrary","flush","mediaID","toXML","addMedia","integer","xmlString","watcherLabels","mediaDict","loadProjectModel","xmlNode","appInfo","rawLoadProjectModel","model","nameID","scheduled","pentrails","ternary","threadsafe","codify","inheritance","sublistIDs","loadCustomBlocks","populateCustomBlocks","loadObject","loadValue","inheritanceInfo","delegated","nestingInfo","synch","costumeNumber","loadVariables","extX","extY","loadColor","scope","targetStage","rotation","loadMediaModel","dispatches","loadInheritanceInfo","loadNestingInfo","loadCostumes","loadSounds","loadScripts","transient","isDispatch","trans","loadComment","loadScriptsArray","loadBlock","collapsed","migrationOffset","obsoleteBlock","loadInput","colorString","thumbdata","reduce","noCostumes","noSounds","noScripts","isVar","toScriptXML","savePosition","toBlockXML","encodeScripts","decl","mediaContext","cloud","hasProtocol","setRoute","routes","userNum","callBack","errorCall","withCredentials","stringify","__h","__u","parseAPI","pdata","mediaSize","oldPW","newPW","callURL","stickyUrl","responseList","serviceName","postDict","service","parm","services","entries","serviceDescription","CryptoJS","SHA512","str2rstr_utf8","enc","Hex","output","lib","Base","mixIn","$super","WordArray","sigBytes","clamp","Latin1","da","Utf8","BufferedBlockAlgorithm","_nDataBytes","_append","_process","blockSize","_minBufferSize","_doProcessBlock","Hasher","_doReset","finalize","_doFinalize","_hash","_createHelper","_createHmacHelper","ea","HMAC","algo","x64","Word","low","toX32","W","K","L","M","Z","N","O","aa","P","ba","Q","E","F","D","T","G","R","H","S","I","U","J","B","V","A","fa","ga","ca","HmacSHA512","URL","webkitURL","createElementNS","MouseEvent","HTMLElement","safari","setImmediate","revokeObjectURL","DONE","INIT","createObjectURL","download","msSaveOrOpenBlob","WRITING","onwritestart","onprogress","onwrite","onabort","onwriteend","tao","elementCanvas","panelLeft","leftReducer","leftExpand","importator","renderSnap","snapInstance","reload","panelSizer","assetManager","null","qe","we","__chain__","__wrapped__","je","nt","xt","ze","he","Le","nodeClass","Te","Ye","Xe","Se","tt","Ht","__bindData__","funcNames","funcDecomp","be","Mt","et","ht","ot","dt","argsObject","oe","jt","nr","Dt","er","de","Fe","createCallback","pt","Ee","ee","unindexedChars","nonEnumArgs","enumPrototypes","enumErrorProps","nonEnumShadows","ce","kt","pe","$e","se","Ve","zt","vt","ve","yt","argsClass","ownLast","mt","He","bt","We","_t","wt","Ct","Et","Zt","Ot","Be","St","At","It","Nt","Bt","Pt","Rt","Ft","Tt","$t","Lt","Pe","Kt","qt","Wt","Gt","ar","Jt","Vt","leading","maxWait","trailing","ir","Ce","me","Ut","chain","Qt","Xt","Yt","ut","pick","ne","te","re","ue","ae","TypeError","ye","_e","getPrototypeOf","xe","propertyIsEnumerable","ke","Oe","Ae","Ie","De","Ne","Re","toLocaleString","WinRTError","spliceObjects","templateSettings","interpolate","variable","imports","Ke","Ge","Je","Me","\"","'","Ue","Qe","Ze","ur","or","getTime","lr","assign","bindAll","bindKey","compact","compose","countBy","curry","debounce","difference","flatten","forEachRight","forIn","forInRight","forOwn","forOwnRight","functions","groupBy","indexBy","initial","intersection","mapValues","memoize","omit","pairs","partial","partialRight","pluck","pull","shuffle","sortBy","tap","throttle","times","transform","union","uniq","without","xor","zip","zipObject","collect","eachRight","methods","unzip","cloneDeep","findIndex","findKey","findLast","findLastIndex","findLastKey","identity","isArguments","isBoolean","isDate","isElement","isEmpty","isEqual","isNull","isNumber","isRegExp","isUndefined","mixin","reduceRight","runInContext","sortedIndex","uniqueId","findWhere","foldl","foldr","include","inject","take","VERSION","enumerable","writable","boolean","function","\\","\n","\r","\t"," "," ","EventMgr","addEventMgr","eventMgr","qtiCustomInteractionContext","renderer","SnapForTao","getTypeIdentifier","dom","_this","notifyReady","limiter","testlimiter","setResponse","getResponse","canvasArrLenght","dataURL","resetResponse","setSerializedState","getSerializedState","register","PCI"],"mappings":"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AA6K,KACAyC,OAAA,EACA6B,MAAA,IACAnG,OAAA,GACAk8B,MAAA,GACA6mB,aAAA,WACA7T,OAwVA,QAAAgU,kBAAAR,KAAA90B,OAAA+0B,aACA3rD,KAAA6K,KAAA6gD,KAAA90B,OAAA+0B,aAyEA,QAAAQ,gBAAAt7C,QACA7Q,KAAA6K,KAAAgG,QAufA,QAAAu7C,WAAAv7C,OAAAg3B,MAAAwkB,YAAAC,UACAtsD,KAAA6K,KAAAgG,OAAAg3B,MAAAwkB,YAAAC,UAucA,QAAAC,aACA32C,KACA02C,SACAE,UACAC,KACAC,OACAr3C,UACAs3C,aACA/F,YACA1O,MACA0U,UAEA5sD,KAAA6K,KACA+K,KACA02C,SACAE,UACAC,KACAC,OACAr3C,UACAs3C,aACA/F,YACA1O,MACA0U,UAyoBA,QAAAC,WACAj3C,KACA02C,SACAE,UACAC,KACAC,OACAI,UACAllD,MACAglD,SACAD,aACA/F,aAEA5mD,KAAA6K,KAAA+K,KACA02C,SACAE,UACAC,KACAC,OACAI,UACAllD,MACAglD,SACAD,aACA/F;CA+gBA,QAAAmG,cACAl8C,OACAm8C,OACAC,YACAX,SACAE,UACAH,YACAa,KACAC,WACAC,UACAC,YACAC,mBAEAttD,KAAA6K,KACAgG,OACAm8C,OACAC,YACAX,SACAE,UACAH,YACAa,KACAC,WACAC,UACAC,YACAC,mBAmPA,QAAAC,eACA18C,OACAm8C,OACAC,YACAX,SACAE,UACAH,YACAa,KACAhV,MACAuU,KACAC,OACAY,kBACAE,UAGAxtD,KAAAytD,eAAAD,UAAA,KACAxtD,KAAAwtD,SAAA,KAGAxtD,KAAA6K,KACAgG,OACAm8C,OACAC,YACAX,SACAE,UACAH,YACAa,KACAhV,MACAuU,KACAC,OACAY,mBA0NA,QAAAI,YAAAC,cACA3tD,KAAA6K,KAAA8iD,cAuLA,QAAAC,kBAAAC,SAAA3oB,KAAA4oB,aACA9tD,KAAA6K,KAAAgjD,SAAA3oB,KAAA4oB;CAgYA,QAAAC,WAAArtD,SAAAstD,YAAAC,OAAAX,mBAqBAttD,KAAA6K,KACAnK,aACAstD,aAAA,SAAAje,SACA,MAAAyD,UAAAzD,SACAA,QAEAA,QAAAme,SACAne,QAAAme,WAEAne,QAAA78B,YAEA+6C,WACAX,mBAqHA,QAAAa,kBACAC,gBACAvmD,SACAykD,SACAE,UACAC,KACAC,OACAr3C,WAEArV,KAAA6K,KACAujD,iBAAA,GACAvmD,UAAA,IACAykD,UAAA,GACAE,WAAA,aACAC,OAAA,EACAC,SAAA,EACAr3C,WAsFA,QAAAg5C,gBACAruD,KAAA6K,OAsFA,QAAAyjD,WAAAC,QACAvuD,KAAA6K,KAAA0jD,QA8mBA,QAAAC,YAAAhF,QAAAiF,UAEAzuD,KAAA6K,KAAA2+C,QAAAiF,UAy/BA,QAAAC,iBACA79C,OACAm8C,OACAC,YACAZ,YACAa,KACAyB;AAEA3uD,KAAA6K,KACAgG,OACAm8C,OACAC,YACAZ,YACAa,KACAyB,UAsXA,QAAAC,mBACAC,OACAh+C,OACAm8C,OACAC,YACA6B,MACAzC,YACAa,KACAyB,SACA9mD,SACAknD,WACAC,WAEAhvD,KAAA6K,KACAgkD,OACAh+C,OACAm8C,OACAC,YACA6B,MACAzC,YACAa,KACAyB,SACA9mD,SACAknD,WACAC,WAgZA,QAAAC,UACAJ,OACAh+C,OACAm8C,OACAC,YACA6B,MACAzC,YACAa,MAEAltD,KAAA6K,KACAgkD,OACAh+C,OACAm8C,OACAC,YACA6B,MACAzC,YACAa,MA0GA,QAAAgC,aACAtoD,MACAiK,OACAm8C,OACAC,YACA6B,MACAzC,YACAa,KACAyB,SACA5e,QACAof,SAEAnvD,KAAA6K,KACAjE,MACAiK,OACAm8C,OACAC,YACA6B,MACAzC,YACAa,KACAyB,SACA5e,QACAof,SA0OA,QAAAC,oBACAv+C,OACAm8C,OACAjd,QACA+e,MACAzC,YACAa,KACAiC,QACAlC;AAEAjtD,KAAA6K,KACAgG,OACAm8C,OACAjd,QACA+e,MACAzC,YACAa,KACAiC,QACAlC,aA6KA,QAAAoC,gBAAAx+C,OAAAm8C,OAAAX,aACArsD,KAAA6K,KAAAgG,OAAAm8C,OAAAX,aA03CA,QAAAiD,gBAAAvD,YAA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CAC,WAAA,GACA7D,cAAA,GACA8D,kBAAA,GACAC,mBAAA,EACAC,oBAAA,EACAC,eAAA,EACAC,eAAA,EACAC,QAAA,EACAC,cAAA,GAGAC,qBACAhc,kBAAAgb,iBAAAhb,kBACAib,iBAAA,GACAC,aAAA,aACAC,aAAA,GACAC,mBAAA,GACAC,iBAAA,aACAC,iBAAA,GACAC,mBAAA,GACAC,WAAA,GACA7D,cAAA,GACA8D,kBAAA,GACAC,mBAAA,EACAC,oBAAA;AACAC,eAAA,EACAC,eAAA,EACAC,QAAA,EACAC,cAAA,GAGAhc,mBAAAib,gBA4BAnZ,sBASA,IAAAzC,SAwBAua,cACA,WACAK,oBACA,oEACAK,oBACA,kBACAJ,aACA,aAIAgC,SACA,aACAC,mBACA,mBAGAC,OACA,YACAC,MACA,YACA/J,MACA,OACAgK,IACA,QACAC,QACA,YACAC,QACA,WACAC,UACA,aACAC,UACA,YACAC,MACA,SACAC,MACA,SAGAC,UACA,4BAGAC,QACA,UACAC,SACA,WACAC,OACA,OAGAC,OACA,QACAC,MACA,QAGAC,eACA;AACAC,aACA,qDACAC,uBACA,oFAGAC,mBACA,2BACAC,0BACA,kCAGA9C,oBACA,uHACA+C,8DACA,gGAmCAC,wCACA;AAEAC,gBACA,oBACAC,6BACA,kCACAC,oCACA,yCACAC,0BACA,yCACAC,qBACA,uBACAC,oBACA,sBACAC,aACA,eACAC,+BACA,mCACAC,iBACA,iBACAC,cACA,0BACAC,iBACA,iBACAC,cACA,0BACAC,qBACA,kCACAC,aACA,aACAC,aACA;AACApoB,UACA,YAGAqoB,yBACA,+BACAC,eACA,kBACAC,YACA,aACAC,qBACA,0BACAC,SACA,UACAC,uBACA,4BACAC,WACA,YACAC,SACA,UACAC,SACA,UACAC,2BACA,4BACAC,wBACA,2BACAC,wBACA,gCACAC,oBACA,yBACAC,mBACA,qCACA1/B,KACA,SACA/6B,KACA,UACAiD,KACA,SACAy3D,cACA,0BACAC,oBACA;AAEAC,2CACA,6CACAC,sBACA,sBACAC,gBACA,kBAGAC,kBACA,oBACAC,6BACA,kCACAC,kBACA,wBACAC,oBACA,gCACAC,4BACA,iCACAC,qBACA,sBACAC,sBACA,4BACAC,MACA,QAGAC,MACA,eACAC,WACA,+BACAC,SACA,mBACAC,wBACA;AACAC,yBACA,mCACAC,sBACA,sCACAC,yBACA,qCACAC,sBACA,uCACAC,wBACA,mCACAC,qBACA,qCACAC,MACA,cACA1rB,KACA,UAGA2rB,0BACA,8BACAC,2BACA,2BACAC,oBACA,wBACAC,yBACA,6BACAC,yBACA,0BACAC,iBACA;AACAC,0BACA,kCACAC,eACA,iBACAC,eACA,mBACAC,gBACA,sBACAC,aACA,0BACAC,eACA,qBACAC,qBACA,wBACAC,WACA,WACAC,mBACA,oBACAC,YACA,cACAC,aACA,kBACAC,cACA,oBACAC,0BACA,6BACAC,oBACA,uBACAC,iBACA,qBACAC,uBACA,4BACAC,0BACA;AACAC,wBACA,2BACAC,8BACA,qCACAC,+BACA,qCACAC,UACA,aACAC,0BACA,gCACAC,yBACA,aACA5I,OACA,WACA6I,oBACA,oBACAC,mBACA,yBACAC,sBACA,sBACAC,0BACA,iCACAC,cACA,YACAC,aACA,UAGAC,kBACA,gBACAC,kBACA,yBACAC,gCACA;AACAC,kBACA,0BACAC,oBACA,qBACAC,OACA,UACAC,UACA,WACAC,UACA,WACAC,cACA,mBACAC,oBACA,wBACAC,mBACA,mBACAC,cACA,+BACA35D,MACA,cACA45D,eACA,eACAC,UACA,gBACAC,aACA,aACAC,cACA,sBACAC,uBACA,gCAEAC,oBACA,mBACAC,aACA,oBACAC,OACA,SAGAC,YACA,YACAC,WACA,gBACAC,aACA;AACAC,uBACA,kCACAC,YACA,WACAC,WACA,WACAC,SACA,SACAC,KACA,OACAC,MACA,OACAC,cACA,kBACAC,qBACA,8BACAC,MACA,UACAnW,MACA,QACAoW,kBACA,kBACAC,eACA,iBACAC,gBACA,uBACAC,uBACA,0BACAC,iBACA,sBACAC,0BACA,0BAEAC,aACA,aAGAC,kBACA,oBACAC,gBACA,qBACAC,oBACA,yBAEAC,iBACA;AACAC,oBACA,oBACAC,qBACA,4BACAC,qBACA,0BACAC,+BACA,kCAGAC,YACA,aACAC,oBACA,oBACAC,kBACA,qBACAC,sBACA,6BACAC,eACA,iBACAC,iBACA,iBACA/mB,MACA,UACAgnB,eACA,kBACAC,oBACA,iCACAC,0BACA,oCACAC,kCACA,wCAGAC,eACA;AAIAC,WACA,uBACAC,mBACA,sBACAC,gBACA,oBACAC,kBACA,6BACAC,2BACA,8BACAC,mEACA,iCACAC,qBACA,6BACAC,qEACA,8BAGAC,mBACA,qBACAC,IACA,UACAC,UACA,YACAC,KACA,cACAC,aACA,sBACAC,YACA,cACAlN,wBACA;AAGAmN,kCACA,oCACAC,oBACA,wBACAC,qDACA,2EACAC,oDACA,gFACAC,mBACA,sBACAC,uEACA,8GACAC,mBACA,sBACAC,iEACA;AACAC,uBACA,iCACAC,sEACA,sCACAC,0BACA,mCACAC,oBACA,wBACAC,qEACA,uEACAC,eACA,sBACAC,gDACA,wDACAC,eACA,mBACAC,iBACA,4BAGAC,cACA,YACAC,kBACA;AACAC,oDACA,qEACAC,oDACA,oEACAC,iBACA,wBACAC,wDACA,wEACAC,0DACA,6EACAC,0BACA,6BACA1O,wCACA;AAEA2O,yDACA,0FAEAC,yBACA,kCACAC,uDACA,8GACAC,iDACA,yEACAC,mBACA,kBACAC,mEACA;AACAC,gEACA,gGACAC,gBACA,kBACAC,sDACA,2EACAC,mDACA,uEACAC,iBACA,YACAC,6CACA,0EAEAC,0CACA;AAEAC,aACA,aACAC,wCACA,8CACAC,0CACA,sDACAC,cACA,cACAC,oCACA,8CACAC,kCACA,+CACAC,mBACA,qBACAC,+CACA,gDACAC,4CACA,2CACAC,sBACA,qBACAC,uCACA;AAEAC,sCACA,4FAEAC,2BACA,2BACAC,qDACA,kEACAC,6DACA,kFAGAC,cACA,eACAC,eACA,sBACAC,eACA,sBAGAC,KACA,OAGAC,kBACA,4BACAC,kBACA,6BAGAC,UACA;AACAC,UACA,YACAC,8BACA,mCACAC,4BACA,2BACAC,OACA,YACAC,gBACA,qBACAC,mDACA,iEACAC,QACA,WACAC,UACA,WAGAC,6BACA,oCACAC,UACA,YAGAC,KACA,SACA17B,KACA,WACA27B,cACA,cACAC,mBACA,8BACAC,YACA,cACAC,qBACA,4BAGAC,WACA,UACAC,8BACA;AACAC,cACA,yBACAC,kBACA,2BAGAC,OACA,WACAC,OACA,WACAC,iBACA,sBACAC,sBACA,8BAGAC,aACA,eACAC,aACA,iBACAC,KACA,UACAC,KACA,QACAC,eACA,kBAIAC,GACA,KACAC,GACA,KACAC,OACA,UACAC,IACA,MACAC,GACA,MACAC,KACA,SACAC,QACA,aACAC,SACA,WAGAC,KACA,OAGAC,SACA,aACAC,eACA,mBACAC,UACA,SACAC,SACA,eACAC,iBACA,sBACAC,kCACA,sCACAC,YACA;AAGAC,iBACA,sBACAC,uDACA,4FAGAC,gBACA,kBAGAC,cACA,iBACAC,8CACA,8CAGAC,eACA,mBAGAC,qBACA,gCAGAC,gBACA,qBACAC,0DACA,0DACA37D,OACA,eACAzE,IACA,OACAqgE,KACA,QAGAC,kBACA;AACAC,uBACA,2BAGAC,eACA,kBACAC,QACA,WACAC,SACA,WACAC,UACA,WAGAC,eACA,kBACAC,MACA,YAGAC,sBACA,+BACA1U,6BACA,sFAIA2U,oBACA,2BACAC,kBACA,4BACAC,sBACA,8BACAC,aACA,iBACAC,aACA,kBACAC,OACA,YACA1yE,OACA,QACAu4C,OACA,SACAo6B,KACA,QACA5iB,KACA,QACA6iB,WACA;AACAC,gBACA,gBACAC,oBACA,uBACAC,qBACA,4BACAC,qBACA,2BACAC,yBACA,yBACAC,gBACA,iBACAC,iBACA,sBACAC,4CACA,0DACAC,mDACA,6DAEA53D,WACA,iBACA63D,KACA,SACAC,IACA,cACAC,GACA,mBACAjiE,OACA,UAGAkiE,aACA,mBACAC,UACA,YACAC,aACA;AACAC,aACA,aACAC,aACA,mBACAC,iBACA,iBACAC,QACA,UACAC,2BACA,+BACAC,aACA,gBACAC,aACA,cAGAC,OACA,SACAC,MACA,QACAC,OACA,UACAC,gBACA,SACAC,gBACA,SACAC,uBACA,6BACAC,uBACA,6BAGAC,WACA,cAGAC,sBACA,4BAIAC,aACA,gBACAC,aACA,iBACAC,SACA,mBACAC,aACA,oBAGAC,gBACA,kBACA5rB,KACA,OACA6rB,aACA;AAGAC,OACA,WACAC,MACA,OAGAv/B,MACA,UACAw/B,QACA,UACAC,MACA,aACAC,SACA,eACAC,OACA,WACAC,WACA,aACAC,WACA,aACAC,MACA,eACAC,SACA,UACAC,MACA,QACAC,SACA,WAGAC,MACA,SACAC,WACA,sBACAC,aACA,qBACAC,cACA,wBACAC,aACA,wBACAv/D,EACA,IACAC,EACA,IACAquB,EACA,IACAkxC,EACA,IACAj1E,EACA,IACAgvC,EACA,IACA4X,EACA,IACAsuB,EACA,IACA13E,EACA,IACA0T,EACA,IACAikE,EACA,IACA3zE,EACA,IACA8R,EACA,IACA4P,EACA,IACA4nB,EACA,IACAjX,EACA,IACAuhD,EACA,IACAz3B,EACA,IACAjwC,EACA,IACAsb,EACA,IACAqsD,EACA,IACAjmE,EACA,IACA/S,EACA,IACAqxC,EACA,IACAC,EACA,IACAsB,EACA,IACA7Q,EACA,IACAk3C,EACA,IACAC,EACA,IACAC,EACA,IACAC,EACA,IACAC,EACA,IACAC,EACA,IACAC,EACA,IACAC,EACA,IACAC,EACA,IAGAC,SACA,aAGAhkC,IACA,aACAmD,KACA;AACAuI,IACA,MACA1pB,IACA,MACAiiD,IACA,MACAC,KACA,OACAC,KACA,OACAC,KACA,OACAC,GACA,KACAC,KACA,KAGAC,OACA,SACAlkE,KACA,QACAmkE,QACA,UACAjyD,KACA,QACA4tB,QACA,mBACAskC,SACA,gBACAj1B,UACA,WAGAvwC,KACA,UACAyzC,IACA,iBAGAgyB,iBACA,wBACAxJ,kBACA,wBACAC,kBACA,yBACAwJ,WACA,eACAC,YACA,mBACAC,oBACA,mCACAC,WACA,eACAC,SACA,WACAC,iDACA,yDACAC,iBACA;AACAC,mDACA,iEACAC,gBACA,wBACAC,iBACA,wBAEAC,yBACA,mCACAC,gEACA,gGACAC,uDACA,+EAEAC,+BACA,gDACAC,kCACA;AACAC,iBACA,uBAEAC,uBACA,iCACAC,qDACA,4EACAC,4CACA,wEAEAC,sBACA,wBAEAC,iBACA,uBACAC,KACA,QACAC,MACA,OACAC,KACA,OACAC,KACA,QACAC,OACA,SACAvlE,OACA,UACAwlE,uBACA,yBACAC,cACA,qBAEA9D,WACA,aACA+D,aACA,eACA7D,SACA,UACAC,MACA;AAEA6D,QACA,SACAC,QACA,SACAC,QACA,SACAC,gBACA,UACAC,iBACA,SACAC,UACA,WAEAC,4CACA,4CAIAC,+DACA,sFACAC,kEACA,wFACAC,8DACA,sFAGAC,KACA;AACAC,+BACA,iCACAC,qCACA,2BACAC,mCACA,0BACAC,cACA,QACAC,0BACA,8BACAC,0CACA,sCACAC,oCACA,gCACAC,kCACA,gCACAC,gBACA,qBACAC,wCACA,mDACAC,KACA,WACAC,OACA,UACAC,SACA,WACAC,SACA;AACAC,aACA,oBACAC,8DACA,sFA0lBA5vE,WAAAjD,UAAAk/C,SAKA1yB,OAAA,SAAA5K,GAAA,MAAAA,IACAu9B,WAAA,SAAAv9B,GAAA,MAAA,GAAA7pB,KAAA40B,IAAA2tB,QAAA,GAAA14B,KACAkxD,UAAA,SAAAlxD,GACA,MAAAA,GAAA,GACA,EAAAA,EAAAA,GACA,EAAA,EAAAA,GAAAA,EAAA,GAEAmxD,MAAA,SAAAnxD,GACA,MAAAA,GAAA,GACA,EAAAA,EAAAA,EAAAA,GACAA,EAAA,IAAA,EAAAA,EAAA,IAAA,EAAAA,EAAA,GAAA,GAEAoxD,QAAA,SAAApxD,GACA,OAAAA,GAAA,IAAA,GACA,IAAA,IAAAA,GAAA7pB,KAAAs+C,IAAA,GAAAz0B,IACA,IAAA,IAAAA,GAAA7pB,KAAAs+C,IAAA,GAAAz0B,GAAA,GAIAqxD,QAAA,SAAArxD,GAAA,MAAA,GAAA7pB,KAAAs+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AArwC,gBACA,MACA,GAEA98C,QAAA,UACAkK,YAAA,cACA63D,MAAA,QACAC,KAAA,OACAC,IAAA,MACAimC,KAAA,SAEA,EAEA,MACA,KAAA,OACA/a,KAAA,GAAArwC,gBACA,MACA,GAEAmoB,EAAA,EACAtkE,MAAA,QACAgO,IAAA,KACA5O,KAAA,SAGAotF,KAAA3G,YAAA,EACA,MACA,KAAA,OACA2G,KAAA,GAAArwC,gBACA,MACA,GAEAmoB,EAAA,EACAtkE,MAAA,QACAyzC,KAAA,SAGA+4C,KAAA3G,YAAA,EACA,MACA,KAAA,OACA2G,KAAA,GAAArwC,gBACA,MACA,EACA,eACA,EAEA,MACA,KAAA,OACAqwC,KAAA,GAAArwC,gBACA,MACA,EACA,mBACA,EAEA,MACA,KAAA;AACAqwC,KAAA,GAAArwC,gBACA,MACA,EACA,iBACA,EAEA,MACA,KAAA,OACAqwC,KAAA,GAAArwC,gBACA,MACA,EACA,iBACA,EAEA,MACA,KAAA,OACAqwC,KAAA,GAAArwC,gBACA,MACA,EACA,iBACA,GAEAqwC,KAAA+V,UAAA,CACA,MACA,KAAA,OACA/V,KAAA,GAAArwC,gBACA,MACA,EACA,gBACA,EAEA,MACA,KAAA,OACAqwC,KAAA,GAAArwC,gBACA,MACA,GAEAzY,OAAA,SACAw/B,SAAA,WACAC,OAAA,SACAC,UAAA,YACAC,QAAA,UACAjH,WAAA,aACAqH,UAAA,YACAC,OAAA,SACAC,UAAA,YACAL,YAAA,cACAC,YAAA,cACAC,OAAA,WAEA,GAEAgpB,KAAA3G,aAAA,SACA,MACA,KAAA,OACA2G,KAAA,GAAArwC,gBACA,MACA,EACA,cACA;AAEA,KACA,KAAA,OACAqwC,KAAA,GAAArwC,gBACA,MACA,GAEAqrD,WAAA,WACA3jC,YAAA,YACAC,cAAA,cACAC,eAAA,eACAC,cAAA,cACAJ,OAAA,SACAn/D,GAAA,KACAC,GAAA,KACAquB,GAAA,KACAkxC,GAAA,KACAj1E,GAAA,KACAgvC,GAAA,KACA4X,GAAA,KACAsuB,GAAA,KACA13E,GAAA,KACA0T,GAAA,KACAikE,GAA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AA,IAAA,EAAA,GAAA,MAfA,GAAA4hC,MACA90B,MAAAj3D,KAAAi3D,MACA7C,MAAAp0D,KAAAo0D,QACAiL,OAAAr/D,KACA6mB,IAAA7mB,KAAAs0D,WAAAi3F,eAAAlqE,aACA2+B,aAAA,KAAA5rD,MAAAk/B,UAeAvH,MAAA,GAAA3/B,WAAApsD,MACA+rF,KAAAL,QAAA,cAAA,gBACAK,KAAAL,QACA,iBACA,sBAEAK,KAAAL,QACA,gBACA,oBAEAs0B,cACAj0B,KAAAL,QACA,wBACA,uBACA,0EAEA,GAAAvhC,OAAA,IAAA,EAAA,IAGA4hC,KAAAK,UAEA/iC,qBACAqoG,cACA,yBACA,eACA3rG,kBACA,2DACA;AAGA2rG,cACA,gBACA,qBACApsG,mBAAA2b,kBACA,sDACA,oDAEA3b,mBAAA2b,mBACAywF,cACA,2BACA,sBACAnhG,SAAA3lD,UAAA4lH,oBACA,+DACA,2DAGAkhC,cACA,aACA,qBACA1xJ,KAAAi3D,MAAAupE,cACA,0CACA,yCAEAkxB,cACA,mBACA,uBACA5+F,QAAAloD,UAAA+lH,qBACA,wCACA,8CACA;AAEA+gC,cACA,wBACA,WACA7gG,iBAAAjmD,UAAAspH,WACArjE,iBAAAjmD,UAAAspH,WAEArjE,iBAAAjmD,UAAAspH,UACA,kDACA,uCACA,GAEAw9B,cACA,iBACA,sBACAh4F,uBAAA9uD,UAAA0iJ,aACA,qCACA,mCACA,GAEAvhE,KAAAK,UACAslE,cACA,kBACA,uBACApxF,kBACA,oDACA,qDACA,GAEAoxF,cACA,iBACA,sBACA1hG,WAAAplD,UAAAi0G,cACA,0DACA,yDACA;AAEA6yC,cACA,uBACA,2BACA3hG,mBAAAnlD,UAAAsrG,mBACA,yDACA,uDACA,GAEAw7C,cACA,0BACA,6BACAphG,aAAA1lD,UAAAgjH,uBACA,yDACA,yCACA,GAEA8jC,cACA,yBACA,4BACA11F,qBAAApxD,UAAA+lJ,oBACA,iDACA,wDAEAe,cACA,yBACA,6BACA51F,2BAAAlxD,UAAAimJ,WACA,gEACA;AAEAa,cACA,mBACA,wBACApsG,mBAAA4b,mBA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AA,WAAA,YAAAA,EAAA,WAAA,YAAAA,EAAA,UAAA,YAAAA,EAAA,WAAA,YAAAA,EAAA,WAAA,YAAAA,EAAA,WAAA,YAAAA,EAAA,WAAA,YAAAA,EAAA,UAAA,YAAAA,EAAA,UAAA,YAAAA,EAAA,WAAA,YAAAA,EAAA,WAAA,YAAAA,EAAA,WAAA,WAAAA,EAAA,WAAA,WACAA,EAAA,WAAA,YAAAA,EAAA,WAAA,YAAAA,EAAA,WAAA,WAAAA,EAAA,UAAA,YAAAA,EAAA,UAAA,YAAAA,EAAA,UAAA,YAAAA,EAAA,WAAA,YAAAA,EAAA,WAAA,YAAAA,EAAA,WAAA,YAAAA,EAAA,WAAA,YAAAA,EAAA,WAAA,WAAAA,EAAA,WAAA,YAAAA,EAAA,WAAA,YAAAA,EAAA,WAAA,YAAAA,EAAA,WAAA,YAAAA,EAAA,UAAA,YAAAA,EAAA,UAAA,WAAAA,EAAA,UAAA,YAAAA,EAAA,UAAA,YAAAA,EAAA,WAAA,YAAAA,EAAA,WACA,YAAAA,EAAA,WAAA,YAAAA,EAAA,WAAA,YAAAA,EAAA,WAAA,YAAAA,EAAA,WAAA,WAAAA,EAAA,WAAA,YAAAA,EAAA,WAAA,YAAAA,EAAA,WAAA,YAAAA,EAAA,WAAA,WAAAA,EAAA,WAAA,YAAAA,EAAA,WAAA,YAAAA,EAAA,WAAA,YAAAA,EAAA,UAAA,WAAAA,EAAA,UAAA,YAAAA,EAAA,UAAA,YAAAA,EAAA,UAAA,YAAAA,EAAA,UAAA,YAAAA,EAAA,UAAA,YAAAA,EAAA,WAAA,YAAAA,EAAA,WAAA,YAAAA,EAAA,WAAA,YACAA,EAAA,WAAA,YAAAA,EAAA,WAAA,YAAAA,EAAA,WAAA,YAAAA,EAAA,WAAA,WAAAA,EAAA,WAAA,WAAAA,EAAA,WAAA,YAAAA,EAAA,WAAA,YAAAA,EAAA,WAAA,YAAAA,EAAA,WAAA,YAAAA,EAAA,WAAA,WAAAA,EAAA,WAAA,YAAAA,EAAA,WAAA,YAAAA,EAAA,UAAA,YAAAA,EAAA,UAAA,YAAAA,EAAA,UAAA,YAAAA,EAAA,UAAA,WAAAA,EAAA,UAAA,WAAAA,EAAA,UAAA,YAAAA,EAAA,WAAA,WAAAA,EAAA,WAAA,YAAAA,EAAA,WACA,YAAAA,EA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","file":"SnapForTao.min.js","sourcesContent":["/**\r\n * JEROME's note:\r\n * \r\n * The only change in jQuery source is the comment added from\r\n * l. 9190 to l. 9192.\r\n *\r\n * Wrapped into a define call with no dependency to scope\r\n * the whole source code and get rid of the window.$ and window.jQuery.\r\n *\r\n * The modification is then minimal (close to automation) to get a pure AMD release\r\n * of jQuery.\r\n */\r\n\r\ndefine('taoQtiItem/portableLib/jquery_2_1_1',[],function() {\r\n\r\n// BEGIN JQUERY SOURCE\r\n\r\n/*!\r\n * jQuery JavaScript Library v2.1.1\r\n * http://jquery.com/\r\n *\r\n * Includes Sizzle.js\r\n * http://sizzlejs.com/\r\n *\r\n * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors\r\n * Released under the MIT license\r\n * http://jquery.org/license\r\n *\r\n * Date: 2014-05-01T17:11Z\r\n */\r\n\r\n(function( global, factory ) {\r\n\r\n\tif ( typeof module === \"object\" && typeof module.exports === \"object\" ) {\r\n\t\t// For CommonJS and CommonJS-like environments where a proper window is present,\r\n\t\t// execute the factory and get jQuery\r\n\t\t// For environments that do not inherently posses a window with a document\r\n\t\t// (such as Node.js), expose a jQuery-making factory as module.exports\r\n\t\t// This accentuates the need for the creation of a real window\r\n\t\t// e.g. var jQuery = require(\"jquery\")(window);\r\n\t\t// See ticket #14549 for more info\r\n\t\tmodule.exports = global.document ?\r\n\t\t\tfactory( global, true ) :\r\n\t\t\tfunction( w ) {\r\n\t\t\t\tif ( !w.document ) {\r\n\t\t\t\t\tthrow new Error( \"jQuery requires a window with a document\" );\r\n\t\t\t\t}\r\n\t\t\t\treturn factory( w );\r\n\t\t\t};\r\n\t} else {\r\n\t\tfactory( global );\r\n\t}\r\n\r\n// Pass this if window is not defined yet\r\n}(typeof window !== \"undefined\" ? window : this, function( window, noGlobal ) {\r\n\r\n// Can't do this because several apps including ASP.NET trace\r\n// the stack via arguments.caller.callee and Firefox dies if\r\n// you try to trace through \"use strict\" call chains. (#13335)\r\n// Support: Firefox 18+\r\n//\r\n\r\nvar arr = [];\r\n\r\nvar slice = arr.slice;\r\n\r\nvar concat = arr.concat;\r\n\r\nvar push = arr.push;\r\n\r\nvar indexOf = arr.indexOf;\r\n\r\nvar class2type = {};\r\n\r\nvar toString = class2type.toString;\r\n\r\nvar hasOwn = class2type.hasOwnProperty;\r\n\r\nvar support = {};\r\n\r\n\r\n\r\nvar\r\n\t// Use the correct document accordingly with window argument (sandbox)\r\n\tdocument = window.document,\r\n\r\n\tversion = \"2.1.1\",\r\n\r\n\t// Define a local copy of jQuery\r\n\tjQuery = function( selector, context ) {\r\n\t\t// The jQuery object is actually just the init constructor 'enhanced'\r\n\t\t// Need init if jQuery is called (just allow error to be thrown if not included)\r\n\t\treturn new jQuery.fn.init( selector, context );\r\n\t},\r\n\r\n\t// Support: Android<4.1\r\n\t// Make sure we trim BOM and NBSP\r\n\trtrim = /^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g,\r\n\r\n\t// Matches dashed string for camelizing\r\n\trmsPrefix = /^-ms-/,\r\n\trdashAlpha = /-([\\da-z])/gi,\r\n\r\n\t// Used by jQuery.camelCase as callback to replace()\r\n\tfcamelCase = function( all, letter ) {\r\n\t\treturn letter.toUpperCase();\r\n\t};\r\n\r\njQuery.fn = jQuery.prototype = {\r\n\t// The current version of jQuery being used\r\n\tjquery: version,\r\n\r\n\tconstructor: jQuery,\r\n\r\n\t// Start with an empty selector\r\n\tselector: \"\",\r\n\r\n\t// The default length of a jQuery object is 0\r\n\tlength: 0,\r\n\r\n\ttoArray: function() {\r\n\t\treturn slice.call( this );\r\n\t},\r\n\r\n\t// Get the Nth element in the matched element set OR\r\n\t// Get the whole matched element set as a clean array\r\n\tget: function( num ) {\r\n\t\treturn num != null ?\r\n\r\n\t\t\t// Return just the one element from the set\r\n\t\t\t( num < 0 ? this[ num + this.length ] : this[ num ] ) :\r\n\r\n\t\t\t// Return all the elements in a clean array\r\n\t\t\tslice.call( this );\r\n\t},\r\n\r\n\t// Take an array of elements and push it onto the stack\r\n\t// (returning the new matched element set)\r\n\tpushStack: function( elems ) {\r\n\r\n\t\t// Build a new jQuery matched element set\r\n\t\tvar ret = jQuery.merge( this.constructor(), elems );\r\n\r\n\t\t// Add the old object onto the stack (as a reference)\r\n\t\tret.prevObject = this;\r\n\t\tret.context = this.context;\r\n\r\n\t\t// Return the newly-formed element set\r\n\t\treturn ret;\r\n\t},\r\n\r\n\t// Execute a callback for every element in the matched set.\r\n\t// (You can seed the arguments with an array of args, but this is\r\n\t// only used internally.)\r\n\teach: function( callback, args ) {\r\n\t\treturn jQuery.each( this, callback, args );\r\n\t},\r\n\r\n\tmap: function( callback ) {\r\n\t\treturn this.pushStack( jQuery.map(this, function( elem, i ) {\r\n\t\t\treturn callback.call( elem, i, elem );\r\n\t\t}));\r\n\t},\r\n\r\n\tslice: function() {\r\n\t\treturn this.pushStack( slice.apply( this, arguments ) );\r\n\t},\r\n\r\n\tfirst: function() {\r\n\t\treturn this.eq( 0 );\r\n\t},\r\n\r\n\tlast: function() {\r\n\t\treturn this.eq( -1 );\r\n\t},\r\n\r\n\teq: function( i ) {\r\n\t\tvar len = this.length,\r\n\t\t\tj = +i + ( i < 0 ? len : 0 );\r\n\t\treturn this.pushStack( j >= 0 && j < len ? [ this[j] ] : [] );\r\n\t},\r\n\r\n\tend: function() {\r\n\t\treturn this.prevObject || this.constructor(null);\r\n\t},\r\n\r\n\t// For internal use only.\r\n\t// Behaves like an Array's method, not like a jQuery method.\r\n\tpush: push,\r\n\tsort: arr.sort,\r\n\tsplice: arr.splice\r\n};\r\n\r\njQuery.extend = jQuery.fn.extend = function() {\r\n\tvar options, name, src, copy, copyIsArray, clone,\r\n\t\ttarget = arguments[0] || {},\r\n\t\ti = 1,\r\n\t\tlength = arguments.length,\r\n\t\tdeep = false;\r\n\r\n\t// Handle a deep copy situation\r\n\tif ( typeof target === \"boolean\" ) {\r\n\t\tdeep = target;\r\n\r\n\t\t// skip the boolean and the target\r\n\t\ttarget = arguments[ i ] || {};\r\n\t\ti++;\r\n\t}\r\n\r\n\t// Handle case when target is a string or something (possible in deep copy)\r\n\tif ( typeof target !== \"object\" && !jQuery.isFunction(target) ) {\r\n\t\ttarget = {};\r\n\t}\r\n\r\n\t// extend jQuery itself if only one argument is passed\r\n\tif ( i === length ) {\r\n\t\ttarget = this;\r\n\t\ti--;\r\n\t}\r\n\r\n\tfor ( ; i < length; i++ ) {\r\n\t\t// Only deal with non-null/undefined values\r\n\t\tif ( (options = arguments[ i ]) != null ) {\r\n\t\t\t// Extend the base object\r\n\t\t\tfor ( name in options ) {\r\n\t\t\t\tsrc = target[ name ];\r\n\t\t\t\tcopy = options[ name ];\r\n\r\n\t\t\t\t// Prevent never-ending loop\r\n\t\t\t\tif ( target === copy ) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Recurse if we're merging plain objects or arrays\r\n\t\t\t\tif ( deep && copy && ( jQuery.isPlainObject(copy) || (copyIsArray = jQuery.isArray(copy)) ) ) {\r\n\t\t\t\t\tif ( copyIsArray ) {\r\n\t\t\t\t\t\tcopyIsArray = false;\r\n\t\t\t\t\t\tclone = src && jQuery.isArray(src) ? src : [];\r\n\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tclone = src && jQuery.isPlainObject(src) ? src : {};\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Never move original objects, clone them\r\n\t\t\t\t\ttarget[ name ] = jQuery.extend( deep, clone, copy );\r\n\r\n\t\t\t\t// Don't bring in undefined values\r\n\t\t\t\t} else if ( copy !== undefined ) {\r\n\t\t\t\t\ttarget[ name ] = copy;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// Return the modified object\r\n\treturn target;\r\n};\r\n\r\njQuery.extend({\r\n\t// Unique for each copy of jQuery on the page\r\n\texpando: \"jQuery\" + ( version + Math.random() ).replace( /\\D/g, \"\" ),\r\n\r\n\t// Assume jQuery is ready without the ready module\r\n\tisReady: true,\r\n\r\n\terror: function( msg ) {\r\n\t\tthrow new Error( msg );\r\n\t},\r\n\r\n\tnoop: function() {},\r\n\r\n\t// See test/unit/core.js for details concerning isFunction.\r\n\t// Since version 1.3, DOM methods and functions like alert\r\n\t// aren't supported. They return false on IE (#2968).\r\n\tisFunction: function( obj ) {\r\n\t\treturn jQuery.type(obj) === \"function\";\r\n\t},\r\n\r\n\tisArray: Array.isArray,\r\n\r\n\tisWindow: function( obj ) {\r\n\t\treturn obj != null && obj === obj.window;\r\n\t},\r\n\r\n\tisNumeric: function( obj ) {\r\n\t\t// parseFloat NaNs numeric-cast false positives (null|true|false|\"\")\r\n\t\t// ...but misinterprets leading-number strings, particularly hex literals (\"0x...\")\r\n\t\t// subtraction forces infinities to NaN\r\n\t\treturn !jQuery.isArray( obj ) && obj - parseFloat( obj ) >= 0;\r\n\t},\r\n\r\n\tisPlainObject: function( obj ) {\r\n\t\t// Not plain objects:\r\n\t\t// - Any object or value whose internal [[Class]] property is not \"[object Object]\"\r\n\t\t// - DOM nodes\r\n\t\t// - window\r\n\t\tif ( jQuery.type( obj ) !== \"object\" || obj.nodeType || jQuery.isWindow( obj ) ) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tif ( obj.constructor &&\r\n\t\t\t\t!hasOwn.call( obj.constructor.prototype, \"isPrototypeOf\" ) ) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\t// If the function hasn't returned already, we're confident that\r\n\t\t// |obj| is a plain object, created by {} or constructed with new Object\r\n\t\treturn true;\r\n\t},\r\n\r\n\tisEmptyObject: function( obj ) {\r\n\t\tvar name;\r\n\t\tfor ( name in obj ) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn true;\r\n\t},\r\n\r\n\ttype: function( obj ) {\r\n\t\tif ( obj == null ) {\r\n\t\t\treturn obj + \"\";\r\n\t\t}\r\n\t\t// Support: Android < 4.0, iOS < 6 (functionish RegExp)\r\n\t\treturn typeof obj === \"object\" || typeof obj === \"function\" ?\r\n\t\t\tclass2type[ toString.call(obj) ] || \"object\" :\r\n\t\t\ttypeof obj;\r\n\t},\r\n\r\n\t// Evaluates a script in a global context\r\n\tglobalEval: function( code ) {\r\n\t\tvar script,\r\n\t\t\tindirect = eval;\r\n\r\n\t\tcode = jQuery.trim( code );\r\n\r\n\t\tif ( code ) {\r\n\t\t\t// If the code includes a valid, prologue position\r\n\t\t\t// strict mode pragma, execute code by injecting a\r\n\t\t\t// script tag into the document.\r\n\t\t\tif ( code.indexOf(\"use strict\") === 1 ) {\r\n\t\t\t\tscript = document.createElement(\"script\");\r\n\t\t\t\tscript.text = code;\r\n\t\t\t\tdocument.head.appendChild( script ).parentNode.removeChild( script );\r\n\t\t\t} else {\r\n\t\t\t// Otherwise, avoid the DOM node creation, insertion\r\n\t\t\t// and removal by using an indirect global eval\r\n\t\t\t\tindirect( code );\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t// Convert dashed to camelCase; used by the css and data modules\r\n\t// Microsoft forgot to hump their vendor prefix (#9572)\r\n\tcamelCase: function( string ) {\r\n\t\treturn string.replace( rmsPrefix, \"ms-\" ).replace( rdashAlpha, fcamelCase );\r\n\t},\r\n\r\n\tnodeName: function( elem, name ) {\r\n\t\treturn elem.nodeName && elem.nodeName.toLowerCase() === name.toLowerCase();\r\n\t},\r\n\r\n\t// args is for internal usage only\r\n\teach: function( obj, callback, args ) {\r\n\t\tvar value,\r\n\t\t\ti = 0,\r\n\t\t\tlength = obj.length,\r\n\t\t\tisArray = isArraylike( obj );\r\n\r\n\t\tif ( args ) {\r\n\t\t\tif ( isArray ) {\r\n\t\t\t\tfor ( ; i < length; i++ ) {\r\n\t\t\t\t\tvalue = callback.apply( obj[ i ], args );\r\n\r\n\t\t\t\t\tif ( value === false ) {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tfor ( i in obj ) {\r\n\t\t\t\t\tvalue = callback.apply( obj[ i ], args );\r\n\r\n\t\t\t\t\tif ( value === false ) {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t// A special, fast, case for the most common use of each\r\n\t\t} else {\r\n\t\t\tif ( isArray ) {\r\n\t\t\t\tfor ( ; i < length; i++ ) {\r\n\t\t\t\t\tvalue = callback.call( obj[ i ], i, obj[ i ] );\r\n\r\n\t\t\t\t\tif ( value === false ) {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tfor ( i in obj ) {\r\n\t\t\t\t\tvalue = callback.call( obj[ i ], i, obj[ i ] );\r\n\r\n\t\t\t\t\tif ( value === false ) {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn obj;\r\n\t},\r\n\r\n\t// Support: Android<4.1\r\n\ttrim: function( text ) {\r\n\t\treturn text == null ?\r\n\t\t\t\"\" :\r\n\t\t\t( text + \"\" ).replace( rtrim, \"\" );\r\n\t},\r\n\r\n\t// results is for internal usage only\r\n\tmakeArray: function( arr, results ) {\r\n\t\tvar ret = results || [];\r\n\r\n\t\tif ( arr != null ) {\r\n\t\t\tif ( isArraylike( Object(arr) ) ) {\r\n\t\t\t\tjQuery.merge( ret,\r\n\t\t\t\t\ttypeof arr === \"string\" ?\r\n\t\t\t\t\t[ arr ] : arr\r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\tpush.call( ret, arr );\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn ret;\r\n\t},\r\n\r\n\tinArray: function( elem, arr, i ) {\r\n\t\treturn arr == null ? -1 : indexOf.call( arr, elem, i );\r\n\t},\r\n\r\n\tmerge: function( first, second ) {\r\n\t\tvar len = +second.length,\r\n\t\t\tj = 0,\r\n\t\t\ti = first.length;\r\n\r\n\t\tfor ( ; j < len; j++ ) {\r\n\t\t\tfirst[ i++ ] = second[ j ];\r\n\t\t}\r\n\r\n\t\tfirst.length = i;\r\n\r\n\t\treturn first;\r\n\t},\r\n\r\n\tgrep: function( elems, callback, invert ) {\r\n\t\tvar callbackInverse,\r\n\t\t\tmatches = [],\r\n\t\t\ti = 0,\r\n\t\t\tlength = elems.length,\r\n\t\t\tcallbackExpect = !invert;\r\n\r\n\t\t// Go through the array, only saving the items\r\n\t\t// that pass the validator function\r\n\t\tfor ( ; i < length; i++ ) {\r\n\t\t\tcallbackInverse = !callback( elems[ i ], i );\r\n\t\t\tif ( callbackInverse !== callbackExpect ) {\r\n\t\t\t\tmatches.push( elems[ i ] );\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn matches;\r\n\t},\r\n\r\n\t// arg is for internal usage only\r\n\tmap: function( elems, callback, arg ) {\r\n\t\tvar value,\r\n\t\t\ti = 0,\r\n\t\t\tlength = elems.length,\r\n\t\t\tisArray = isArraylike( elems ),\r\n\t\t\tret = [];\r\n\r\n\t\t// Go through the array, translating each of the items to their new values\r\n\t\tif ( isArray ) {\r\n\t\t\tfor ( ; i < length; i++ ) {\r\n\t\t\t\tvalue = callback( elems[ i ], i, arg );\r\n\r\n\t\t\t\tif ( value != null ) {\r\n\t\t\t\t\tret.push( value );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t// Go through every key on the object,\r\n\t\t} else {\r\n\t\t\tfor ( i in elems ) {\r\n\t\t\t\tvalue = callback( elems[ i ], i, arg );\r\n\r\n\t\t\t\tif ( value != null ) {\r\n\t\t\t\t\tret.push( value );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Flatten any nested arrays\r\n\t\treturn concat.apply( [], ret );\r\n\t},\r\n\r\n\t// A global GUID counter for objects\r\n\tguid: 1,\r\n\r\n\t// Bind a function to a context, optionally partially applying any\r\n\t// arguments.\r\n\tproxy: function( fn, context ) {\r\n\t\tvar tmp, args, proxy;\r\n\r\n\t\tif ( typeof context === \"string\" ) {\r\n\t\t\ttmp = fn[ context ];\r\n\t\t\tcontext = fn;\r\n\t\t\tfn = tmp;\r\n\t\t}\r\n\r\n\t\t// Quick check to determine if target is callable, in the spec\r\n\t\t// this throws a TypeError, but we will just return undefined.\r\n\t\tif ( !jQuery.isFunction( fn ) ) {\r\n\t\t\treturn undefined;\r\n\t\t}\r\n\r\n\t\t// Simulated bind\r\n\t\targs = slice.call( arguments, 2 );\r\n\t\tproxy = function() {\r\n\t\t\treturn fn.apply( context || this, args.concat( slice.call( arguments ) ) );\r\n\t\t};\r\n\r\n\t\t// Set the guid of unique handler to the same of original handler, so it can be removed\r\n\t\tproxy.guid = fn.guid = fn.guid || jQuery.guid++;\r\n\r\n\t\treturn proxy;\r\n\t},\r\n\r\n\tnow: Date.now,\r\n\r\n\t// jQuery.support is not used in Core but other projects attach their\r\n\t// properties to it so it needs to exist.\r\n\tsupport: support\r\n});\r\n\r\n// Populate the class2type map\r\njQuery.each(\"Boolean Number String Function Array Date RegExp Object Error\".split(\" \"), function(i, name) {\r\n\tclass2type[ \"[object \" + name + \"]\" ] = name.toLowerCase();\r\n});\r\n\r\nfunction isArraylike( obj ) {\r\n\tvar length = obj.length,\r\n\t\ttype = jQuery.type( obj );\r\n\r\n\tif ( type === \"function\" || jQuery.isWindow( obj ) ) {\r\n\t\treturn false;\r\n\t}\r\n\r\n\tif ( obj.nodeType === 1 && length ) {\r\n\t\treturn true;\r\n\t}\r\n\r\n\treturn type === \"array\" || length === 0 ||\r\n\t\ttypeof length === \"number\" && length > 0 && ( length - 1 ) in obj;\r\n}\r\nvar Sizzle =\r\n/*!\r\n * Sizzle CSS Selector Engine v1.10.19\r\n * http://sizzlejs.com/\r\n *\r\n * Copyright 2013 jQuery Foundation, Inc. and other contributors\r\n * Released under the MIT license\r\n * http://jquery.org/license\r\n *\r\n * Date: 2014-04-18\r\n */\r\n(function( window ) {\r\n\r\nvar i,\r\n\tsupport,\r\n\tExpr,\r\n\tgetText,\r\n\tisXML,\r\n\ttokenize,\r\n\tcompile,\r\n\tselect,\r\n\toutermostContext,\r\n\tsortInput,\r\n\thasDuplicate,\r\n\r\n\t// Local document vars\r\n\tsetDocument,\r\n\tdocument,\r\n\tdocElem,\r\n\tdocumentIsHTML,\r\n\trbuggyQSA,\r\n\trbuggyMatches,\r\n\tmatches,\r\n\tcontains,\r\n\r\n\t// Instance-specific data\r\n\texpando = \"sizzle\" + -(new Date()),\r\n\tpreferredDoc = window.document,\r\n\tdirruns = 0,\r\n\tdone = 0,\r\n\tclassCache = createCache(),\r\n\ttokenCache = createCache(),\r\n\tcompilerCache = createCache(),\r\n\tsortOrder = function( a, b ) {\r\n\t\tif ( a === b ) {\r\n\t\t\thasDuplicate = true;\r\n\t\t}\r\n\t\treturn 0;\r\n\t},\r\n\r\n\t// General-purpose constants\r\n\tstrundefined = typeof undefined,\r\n\tMAX_NEGATIVE = 1 << 31,\r\n\r\n\t// Instance methods\r\n\thasOwn = ({}).hasOwnProperty,\r\n\tarr = [],\r\n\tpop = arr.pop,\r\n\tpush_native = arr.push,\r\n\tpush = arr.push,\r\n\tslice = arr.slice,\r\n\t// Use a stripped-down indexOf if we can't use a native one\r\n\tindexOf = arr.indexOf || function( elem ) {\r\n\t\tvar i = 0,\r\n\t\t\tlen = this.length;\r\n\t\tfor ( ; i < len; i++ ) {\r\n\t\t\tif ( this[i] === elem ) {\r\n\t\t\t\treturn i;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn -1;\r\n\t},\r\n\r\n\tbooleans = \"checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped\",\r\n\r\n\t// Regular expressions\r\n\r\n\t// Whitespace characters http://www.w3.org/TR/css3-selectors/#whitespace\r\n\twhitespace = \"[\\\\x20\\\\t\\\\r\\\\n\\\\f]\",\r\n\t// http://www.w3.org/TR/css3-syntax/#characters\r\n\tcharacterEncoding = \"(?:\\\\\\\\.|[\\\\w-]|[^\\\\x00-\\\\xa0])+\",\r\n\r\n\t// Loosely modeled on CSS identifier characters\r\n\t// An unquoted value should be a CSS identifier http://www.w3.org/TR/css3-selectors/#attribute-selectors\r\n\t// Proper syntax: http://www.w3.org/TR/CSS21/syndata.html#value-def-identifier\r\n\tidentifier = characterEncoding.replace( \"w\", \"w#\" ),\r\n\r\n\t// Attribute selectors: http://www.w3.org/TR/selectors/#attribute-selectors\r\n\tattributes = \"\\\\[\" + whitespace + \"*(\" + characterEncoding + \")(?:\" + whitespace +\r\n\t\t// Operator (capture 2)\r\n\t\t\"*([*^$|!~]?=)\" + whitespace +\r\n\t\t// \"Attribute values must be CSS identifiers [capture 5] or strings [capture 3 or capture 4]\"\r\n\t\t\"*(?:'((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\"|(\" + identifier + \"))|)\" + whitespace +\r\n\t\t\"*\\\\]\",\r\n\r\n\tpseudos = \":(\" + characterEncoding + \")(?:\\\\((\" +\r\n\t\t// To reduce the number of selectors needing tokenize in the preFilter, prefer arguments:\r\n\t\t// 1. quoted (capture 3; capture 4 or capture 5)\r\n\t\t\"('((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\")|\" +\r\n\t\t// 2. simple (capture 6)\r\n\t\t\"((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|\" + attributes + \")*)|\" +\r\n\t\t// 3. anything else (capture 2)\r\n\t\t\".*\" +\r\n\t\t\")\\\\)|)\",\r\n\r\n\t// Leading and non-escaped trailing whitespace, capturing some non-whitespace characters preceding the latter\r\n\trtrim = new RegExp( \"^\" + whitespace + \"+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)\" + whitespace + \"+$\", \"g\" ),\r\n\r\n\trcomma = new RegExp( \"^\" + whitespace + \"*,\" + whitespace + \"*\" ),\r\n\trcombinators = new RegExp( \"^\" + whitespace + \"*([>+~]|\" + whitespace + \")\" + whitespace + \"*\" ),\r\n\r\n\trattributeQuotes = new RegExp( \"=\" + whitespace + \"*([^\\\\]'\\\"]*?)\" + whitespace + \"*\\\\]\", \"g\" ),\r\n\r\n\trpseudo = new RegExp( pseudos ),\r\n\tridentifier = new RegExp( \"^\" + identifier + \"$\" ),\r\n\r\n\tmatchExpr = {\r\n\t\t\"ID\": new RegExp( \"^#(\" + characterEncoding + \")\" ),\r\n\t\t\"CLASS\": new RegExp( \"^\\\\.(\" + characterEncoding + \")\" ),\r\n\t\t\"TAG\": new RegExp( \"^(\" + characterEncoding.replace( \"w\", \"w*\" ) + \")\" ),\r\n\t\t\"ATTR\": new RegExp( \"^\" + attributes ),\r\n\t\t\"PSEUDO\": new RegExp( \"^\" + pseudos ),\r\n\t\t\"CHILD\": new RegExp( \"^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\(\" + whitespace +\r\n\t\t\t\"*(even|odd|(([+-]|)(\\\\d*)n|)\" + whitespace + \"*(?:([+-]|)\" + whitespace +\r\n\t\t\t\"*(\\\\d+)|))\" + whitespace + \"*\\\\)|)\", \"i\" ),\r\n\t\t\"bool\": new RegExp( \"^(?:\" + booleans + \")$\", \"i\" ),\r\n\t\t// For use in libraries implementing .is()\r\n\t\t// We use this for POS matching in `select`\r\n\t\t\"needsContext\": new RegExp( \"^\" + whitespace + \"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\(\" +\r\n\t\t\twhitespace + \"*((?:-\\\\d)?\\\\d*)\" + whitespace + \"*\\\\)|)(?=[^-]|$)\", \"i\" )\r\n\t},\r\n\r\n\trinputs = /^(?:input|select|textarea|button)$/i,\r\n\trheader = /^h\\d$/i,\r\n\r\n\trnative = /^[^{]+\\{\\s*\\[native \\w/,\r\n\r\n\t// Easily-parseable/retrievable ID or TAG or CLASS selectors\r\n\trquickExpr = /^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/,\r\n\r\n\trsibling = /[+~]/,\r\n\trescape = /'|\\\\/g,\r\n\r\n\t// CSS escapes http://www.w3.org/TR/CSS21/syndata.html#escaped-characters\r\n\trunescape = new RegExp( \"\\\\\\\\([\\\\da-f]{1,6}\" + whitespace + \"?|(\" + whitespace + \")|.)\", \"ig\" ),\r\n\tfunescape = function( _, escaped, escapedWhitespace ) {\r\n\t\tvar high = \"0x\" + escaped - 0x10000;\r\n\t\t// NaN means non-codepoint\r\n\t\t// Support: Firefox<24\r\n\t\t// Workaround erroneous numeric interpretation of +\"0x\"\r\n\t\treturn high !== high || escapedWhitespace ?\r\n\t\t\tescaped :\r\n\t\t\thigh < 0 ?\r\n\t\t\t\t// BMP codepoint\r\n\t\t\t\tString.fromCharCode( high + 0x10000 ) :\r\n\t\t\t\t// Supplemental Plane codepoint (surrogate pair)\r\n\t\t\t\tString.fromCharCode( high >> 10 | 0xD800, high & 0x3FF | 0xDC00 );\r\n\t};\r\n\r\n// Optimize for push.apply( _, NodeList )\r\ntry {\r\n\tpush.apply(\r\n\t\t(arr = slice.call( preferredDoc.childNodes )),\r\n\t\tpreferredDoc.childNodes\r\n\t);\r\n\t// Support: Android<4.0\r\n\t// Detect silently failing push.apply\r\n\tarr[ preferredDoc.childNodes.length ].nodeType;\r\n} catch ( e ) {\r\n\tpush = { apply: arr.length ?\r\n\r\n\t\t// Leverage slice if possible\r\n\t\tfunction( target, els ) {\r\n\t\t\tpush_native.apply( target, slice.call(els) );\r\n\t\t} :\r\n\r\n\t\t// Support: IE<9\r\n\t\t// Otherwise append directly\r\n\t\tfunction( target, els ) {\r\n\t\t\tvar j = target.length,\r\n\t\t\t\ti = 0;\r\n\t\t\t// Can't trust NodeList.length\r\n\t\t\twhile ( (target[j++] = els[i++]) ) {}\r\n\t\t\ttarget.length = j - 1;\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction Sizzle( selector, context, results, seed ) {\r\n\tvar match, elem, m, nodeType,\r\n\t\t// QSA vars\r\n\t\ti, groups, old, nid, newContext, newSelector;\r\n\r\n\tif ( ( context ? context.ownerDocument || context : preferredDoc ) !== document ) {\r\n\t\tsetDocument( context );\r\n\t}\r\n\r\n\tcontext = context || document;\r\n\tresults = results || [];\r\n\r\n\tif ( !selector || typeof selector !== \"string\" ) {\r\n\t\treturn results;\r\n\t}\r\n\r\n\tif ( (nodeType = context.nodeType) !== 1 && nodeType !== 9 ) {\r\n\t\treturn [];\r\n\t}\r\n\r\n\tif ( documentIsHTML && !seed ) {\r\n\r\n\t\t// Shortcuts\r\n\t\tif ( (match = rquickExpr.exec( selector )) ) {\r\n\t\t\t// Speed-up: Sizzle(\"#ID\")\r\n\t\t\tif ( (m = match[1]) ) {\r\n\t\t\t\tif ( nodeType === 9 ) {\r\n\t\t\t\t\telem = context.getElementById( m );\r\n\t\t\t\t\t// Check parentNode to catch when Blackberry 4.6 returns\r\n\t\t\t\t\t// nodes that are no longer in the document (jQuery #6963)\r\n\t\t\t\t\tif ( elem && elem.parentNode ) {\r\n\t\t\t\t\t\t// Handle the case where IE, Opera, and Webkit return items\r\n\t\t\t\t\t\t// by name instead of ID\r\n\t\t\t\t\t\tif ( elem.id === m ) {\r\n\t\t\t\t\t\t\tresults.push( elem );\r\n\t\t\t\t\t\t\treturn results;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn results;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// Context is not a document\r\n\t\t\t\t\tif ( context.ownerDocument && (elem = context.ownerDocument.getElementById( m )) &&\r\n\t\t\t\t\t\tcontains( context, elem ) && elem.id === m ) {\r\n\t\t\t\t\t\tresults.push( elem );\r\n\t\t\t\t\t\treturn results;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t// Speed-up: Sizzle(\"TAG\")\r\n\t\t\t} else if ( match[2] ) {\r\n\t\t\t\tpush.apply( results, context.getElementsByTagName( selector ) );\r\n\t\t\t\treturn results;\r\n\r\n\t\t\t// Speed-up: Sizzle(\".CLASS\")\r\n\t\t\t} else if ( (m = match[3]) && support.getElementsByClassName && context.getElementsByClassName ) {\r\n\t\t\t\tpush.apply( results, context.getElementsByClassName( m ) );\r\n\t\t\t\treturn results;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// QSA path\r\n\t\tif ( support.qsa && (!rbuggyQSA || !rbuggyQSA.test( selector )) ) {\r\n\t\t\tnid = old = expando;\r\n\t\t\tnewContext = context;\r\n\t\t\tnewSelector = nodeType === 9 && selector;\r\n\r\n\t\t\t// qSA works strangely on Element-rooted queries\r\n\t\t\t// We can work around this by specifying an extra ID on the root\r\n\t\t\t// and working up from there (Thanks to Andrew Dupont for the technique)\r\n\t\t\t// IE 8 doesn't work on object elements\r\n\t\t\tif ( nodeType === 1 && context.nodeName.toLowerCase() !== \"object\" ) {\r\n\t\t\t\tgroups = tokenize( selector );\r\n\r\n\t\t\t\tif ( (old = context.getAttribute(\"id\")) ) {\r\n\t\t\t\t\tnid = old.replace( rescape, \"\\\\$&\" );\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcontext.setAttribute( \"id\", nid );\r\n\t\t\t\t}\r\n\t\t\t\tnid = \"[id='\" + nid + \"'] \";\r\n\r\n\t\t\t\ti = groups.length;\r\n\t\t\t\twhile ( i-- ) {\r\n\t\t\t\t\tgroups[i] = nid + toSelector( groups[i] );\r\n\t\t\t\t}\r\n\t\t\t\tnewContext = rsibling.test( selector ) && testContext( context.parentNode ) || context;\r\n\t\t\t\tnewSelector = groups.join(\",\");\r\n\t\t\t}\r\n\r\n\t\t\tif ( newSelector ) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tpush.apply( results,\r\n\t\t\t\t\t\tnewContext.querySelectorAll( newSelector )\r\n\t\t\t\t\t);\r\n\t\t\t\t\treturn results;\r\n\t\t\t\t} catch(qsaError) {\r\n\t\t\t\t} finally {\r\n\t\t\t\t\tif ( !old ) {\r\n\t\t\t\t\t\tcontext.removeAttribute(\"id\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// All others\r\n\treturn select( selector.replace( rtrim, \"$1\" ), context, results, seed );\r\n}\r\n\r\n/**\r\n * Create key-value caches of limited size\r\n * @returns {Function(string, Object)} Returns the Object data after storing it on itself with\r\n *\tproperty name the (space-suffixed) string and (if the cache is larger than Expr.cacheLength)\r\n *\tdeleting the oldest entry\r\n */\r\nfunction createCache() {\r\n\tvar keys = [];\r\n\r\n\tfunction cache( key, value ) {\r\n\t\t// Use (key + \" \") to avoid collision with native prototype properties (see Issue #157)\r\n\t\tif ( keys.push( key + \" \" ) > Expr.cacheLength ) {\r\n\t\t\t// Only keep the most recent entries\r\n\t\t\tdelete cache[ keys.shift() ];\r\n\t\t}\r\n\t\treturn (cache[ key + \" \" ] = value);\r\n\t}\r\n\treturn cache;\r\n}\r\n\r\n/**\r\n * Mark a function for special use by Sizzle\r\n * @param {Function} fn The function to mark\r\n */\r\nfunction markFunction( fn ) {\r\n\tfn[ expando ] = true;\r\n\treturn fn;\r\n}\r\n\r\n/**\r\n * Support testing using an element\r\n * @param {Function} fn Passed the created div and expects a boolean result\r\n */\r\nfunction assert( fn ) {\r\n\tvar div = document.createElement(\"div\");\r\n\r\n\ttry {\r\n\t\treturn !!fn( div );\r\n\t} catch (e) {\r\n\t\treturn false;\r\n\t} finally {\r\n\t\t// Remove from its parent by default\r\n\t\tif ( div.parentNode ) {\r\n\t\t\tdiv.parentNode.removeChild( div );\r\n\t\t}\r\n\t\t// release memory in IE\r\n\t\tdiv = null;\r\n\t}\r\n}\r\n\r\n/**\r\n * Adds the same handler for all of the specified attrs\r\n * @param {String} attrs Pipe-separated list of attributes\r\n * @param {Function} handler The method that will be applied\r\n */\r\nfunction addHandle( attrs, handler ) {\r\n\tvar arr = attrs.split(\"|\"),\r\n\t\ti = attrs.length;\r\n\r\n\twhile ( i-- ) {\r\n\t\tExpr.attrHandle[ arr[i] ] = handler;\r\n\t}\r\n}\r\n\r\n/**\r\n * Checks document order of two siblings\r\n * @param {Element} a\r\n * @param {Element} b\r\n * @returns {Number} Returns less than 0 if a precedes b, greater than 0 if a follows b\r\n */\r\nfunction siblingCheck( a, b ) {\r\n\tvar cur = b && a,\r\n\t\tdiff = cur && a.nodeType === 1 && b.nodeType === 1 &&\r\n\t\t\t( ~b.sourceIndex || MAX_NEGATIVE ) -\r\n\t\t\t( ~a.sourceIndex || MAX_NEGATIVE );\r\n\r\n\t// Use IE sourceIndex if available on both nodes\r\n\tif ( diff ) {\r\n\t\treturn diff;\r\n\t}\r\n\r\n\t// Check if b follows a\r\n\tif ( cur ) {\r\n\t\twhile ( (cur = cur.nextSibling) ) {\r\n\t\t\tif ( cur === b ) {\r\n\t\t\t\treturn -1;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn a ? 1 : -1;\r\n}\r\n\r\n/**\r\n * Returns a function to use in pseudos for input types\r\n * @param {String} type\r\n */\r\nfunction createInputPseudo( type ) {\r\n\treturn function( elem ) {\r\n\t\tvar name = elem.nodeName.toLowerCase();\r\n\t\treturn name === \"input\" && elem.type === type;\r\n\t};\r\n}\r\n\r\n/**\r\n * Returns a function to use in pseudos for buttons\r\n * @param {String} type\r\n */\r\nfunction createButtonPseudo( type ) {\r\n\treturn function( elem ) {\r\n\t\tvar name = elem.nodeName.toLowerCase();\r\n\t\treturn (name === \"input\" || name === \"button\") && elem.type === type;\r\n\t};\r\n}\r\n\r\n/**\r\n * Returns a function to use in pseudos for positionals\r\n * @param {Function} fn\r\n */\r\nfunction createPositionalPseudo( fn ) {\r\n\treturn markFunction(function( argument ) {\r\n\t\targument = +argument;\r\n\t\treturn markFunction(function( seed, matches ) {\r\n\t\t\tvar j,\r\n\t\t\t\tmatchIndexes = fn( [], seed.length, argument ),\r\n\t\t\t\ti = matchIndexes.length;\r\n\r\n\t\t\t// Match elements found at the specified indexes\r\n\t\t\twhile ( i-- ) {\r\n\t\t\t\tif ( seed[ (j = matchIndexes[i]) ] ) {\r\n\t\t\t\t\tseed[j] = !(matches[j] = seed[j]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n}\r\n\r\n/**\r\n * Checks a node for validity as a Sizzle context\r\n * @param {Element|Object=} context\r\n * @returns {Element|Object|Boolean} The input node if acceptable, otherwise a falsy value\r\n */\r\nfunction testContext( context ) {\r\n\treturn context && typeof context.getElementsByTagName !== strundefined && context;\r\n}\r\n\r\n// Expose support vars for convenience\r\nsupport = Sizzle.support = {};\r\n\r\n/**\r\n * Detects XML nodes\r\n * @param {Element|Object} elem An element or a document\r\n * @returns {Boolean} True iff elem is a non-HTML XML node\r\n */\r\nisXML = Sizzle.isXML = function( elem ) {\r\n\t// documentElement is verified for cases where it doesn't yet exist\r\n\t// (such as loading iframes in IE - #4833)\r\n\tvar documentElement = elem && (elem.ownerDocument || elem).documentElement;\r\n\treturn documentElement ? documentElement.nodeName !== \"HTML\" : false;\r\n};\r\n\r\n/**\r\n * Sets document-related variables once based on the current document\r\n * @param {Element|Object} [doc] An element or document object to use to set the document\r\n * @returns {Object} Returns the current document\r\n */\r\nsetDocument = Sizzle.setDocument = function( node ) {\r\n\tvar hasCompare,\r\n\t\tdoc = node ? node.ownerDocument || node : preferredDoc,\r\n\t\tparent = doc.defaultView;\r\n\r\n\t// If no document and documentElement is available, return\r\n\tif ( doc === document || doc.nodeType !== 9 || !doc.documentElement ) {\r\n\t\treturn document;\r\n\t}\r\n\r\n\t// Set our document\r\n\tdocument = doc;\r\n\tdocElem = doc.documentElement;\r\n\r\n\t// Support tests\r\n\tdocumentIsHTML = !isXML( doc );\r\n\r\n\t// Support: IE>8\r\n\t// If iframe document is assigned to \"document\" variable and if iframe has been reloaded,\r\n\t// IE will throw \"permission denied\" error when accessing \"document\" variable, see jQuery #13936\r\n\t// IE6-8 do not support the defaultView property so parent will be undefined\r\n\tif ( parent && parent !== parent.top ) {\r\n\t\t// IE11 does not have attachEvent, so all must suffer\r\n\t\tif ( parent.addEventListener ) {\r\n\t\t\tparent.addEventListener( \"unload\", function() {\r\n\t\t\t\tsetDocument();\r\n\t\t\t}, false );\r\n\t\t} else if ( parent.attachEvent ) {\r\n\t\t\tparent.attachEvent( \"onunload\", function() {\r\n\t\t\t\tsetDocument();\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\t/* Attributes\r\n\t---------------------------------------------------------------------- */\r\n\r\n\t// Support: IE<8\r\n\t// Verify that getAttribute really returns attributes and not properties (excepting IE8 booleans)\r\n\tsupport.attributes = assert(function( div ) {\r\n\t\tdiv.className = \"i\";\r\n\t\treturn !div.getAttribute(\"className\");\r\n\t});\r\n\r\n\t/* getElement(s)By*\r\n\t---------------------------------------------------------------------- */\r\n\r\n\t// Check if getElementsByTagName(\"*\") returns only elements\r\n\tsupport.getElementsByTagName = assert(function( div ) {\r\n\t\tdiv.appendChild( doc.createComment(\"\") );\r\n\t\treturn !div.getElementsByTagName(\"*\").length;\r\n\t});\r\n\r\n\t// Check if getElementsByClassName can be trusted\r\n\tsupport.getElementsByClassName = rnative.test( doc.getElementsByClassName ) && assert(function( div ) {\r\n\t\tdiv.innerHTML = \"<div class='a'></div><div class='a i'></div>\";\r\n\r\n\t\t// Support: Safari<4\r\n\t\t// Catch class over-caching\r\n\t\tdiv.firstChild.className = \"i\";\r\n\t\t// Support: Opera<10\r\n\t\t// Catch gEBCN failure to find non-leading classes\r\n\t\treturn div.getElementsByClassName(\"i\").length === 2;\r\n\t});\r\n\r\n\t// Support: IE<10\r\n\t// Check if getElementById returns elements by name\r\n\t// The broken getElementById methods don't pick up programatically-set names,\r\n\t// so use a roundabout getElementsByName test\r\n\tsupport.getById = assert(function( div ) {\r\n\t\tdocElem.appendChild( div ).id = expando;\r\n\t\treturn !doc.getElementsByName || !doc.getElementsByName( expando ).length;\r\n\t});\r\n\r\n\t// ID find and filter\r\n\tif ( support.getById ) {\r\n\t\tExpr.find[\"ID\"] = function( id, context ) {\r\n\t\t\tif ( typeof context.getElementById !== strundefined && documentIsHTML ) {\r\n\t\t\t\tvar m = context.getElementById( id );\r\n\t\t\t\t// Check parentNode to catch when Blackberry 4.6 returns\r\n\t\t\t\t// nodes that are no longer in the document #6963\r\n\t\t\t\treturn m && m.parentNode ? [ m ] : [];\r\n\t\t\t}\r\n\t\t};\r\n\t\tExpr.filter[\"ID\"] = function( id ) {\r\n\t\t\tvar attrId = id.replace( runescape, funescape );\r\n\t\t\treturn function( elem ) {\r\n\t\t\t\treturn elem.getAttribute(\"id\") === attrId;\r\n\t\t\t};\r\n\t\t};\r\n\t} else {\r\n\t\t// Support: IE6/7\r\n\t\t// getElementById is not reliable as a find shortcut\r\n\t\tdelete Expr.find[\"ID\"];\r\n\r\n\t\tExpr.filter[\"ID\"] =  function( id ) {\r\n\t\t\tvar attrId = id.replace( runescape, funescape );\r\n\t\t\treturn function( elem ) {\r\n\t\t\t\tvar node = typeof elem.getAttributeNode !== strundefined && elem.getAttributeNode(\"id\");\r\n\t\t\t\treturn node && node.value === attrId;\r\n\t\t\t};\r\n\t\t};\r\n\t}\r\n\r\n\t// Tag\r\n\tExpr.find[\"TAG\"] = support.getElementsByTagName ?\r\n\t\tfunction( tag, context ) {\r\n\t\t\tif ( typeof context.getElementsByTagName !== strundefined ) {\r\n\t\t\t\treturn context.getElementsByTagName( tag );\r\n\t\t\t}\r\n\t\t} :\r\n\t\tfunction( tag, context ) {\r\n\t\t\tvar elem,\r\n\t\t\t\ttmp = [],\r\n\t\t\t\ti = 0,\r\n\t\t\t\tresults = context.getElementsByTagName( tag );\r\n\r\n\t\t\t// Filter out possible comments\r\n\t\t\tif ( tag === \"*\" ) {\r\n\t\t\t\twhile ( (elem = results[i++]) ) {\r\n\t\t\t\t\tif ( elem.nodeType === 1 ) {\r\n\t\t\t\t\t\ttmp.push( elem );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn tmp;\r\n\t\t\t}\r\n\t\t\treturn results;\r\n\t\t};\r\n\r\n\t// Class\r\n\tExpr.find[\"CLASS\"] = support.getElementsByClassName && function( className, context ) {\r\n\t\tif ( typeof context.getElementsByClassName !== strundefined && documentIsHTML ) {\r\n\t\t\treturn context.getElementsByClassName( className );\r\n\t\t}\r\n\t};\r\n\r\n\t/* QSA/matchesSelector\r\n\t---------------------------------------------------------------------- */\r\n\r\n\t// QSA and matchesSelector support\r\n\r\n\t// matchesSelector(:active) reports false when true (IE9/Opera 11.5)\r\n\trbuggyMatches = [];\r\n\r\n\t// qSa(:focus) reports false when true (Chrome 21)\r\n\t// We allow this because of a bug in IE8/9 that throws an error\r\n\t// whenever `document.activeElement` is accessed on an iframe\r\n\t// So, we allow :focus to pass through QSA all the time to avoid the IE error\r\n\t// See http://bugs.jquery.com/ticket/13378\r\n\trbuggyQSA = [];\r\n\r\n\tif ( (support.qsa = rnative.test( doc.querySelectorAll )) ) {\r\n\t\t// Build QSA regex\r\n\t\t// Regex strategy adopted from Diego Perini\r\n\t\tassert(function( div ) {\r\n\t\t\t// Select is set to empty string on purpose\r\n\t\t\t// This is to test IE's treatment of not explicitly\r\n\t\t\t// setting a boolean content attribute,\r\n\t\t\t// since its presence should be enough\r\n\t\t\t// http://bugs.jquery.com/ticket/12359\r\n\t\t\tdiv.innerHTML = \"<select msallowclip=''><option selected=''></option></select>\";\r\n\r\n\t\t\t// Support: IE8, Opera 11-12.16\r\n\t\t\t// Nothing should be selected when empty strings follow ^= or $= or *=\r\n\t\t\t// The test attribute must be unknown in Opera but \"safe\" for WinRT\r\n\t\t\t// http://msdn.microsoft.com/en-us/library/ie/hh465388.aspx#attribute_section\r\n\t\t\tif ( div.querySelectorAll(\"[msallowclip^='']\").length ) {\r\n\t\t\t\trbuggyQSA.push( \"[*^$]=\" + whitespace + \"*(?:''|\\\"\\\")\" );\r\n\t\t\t}\r\n\r\n\t\t\t// Support: IE8\r\n\t\t\t// Boolean attributes and \"value\" are not treated correctly\r\n\t\t\tif ( !div.querySelectorAll(\"[selected]\").length ) {\r\n\t\t\t\trbuggyQSA.push( \"\\\\[\" + whitespace + \"*(?:value|\" + booleans + \")\" );\r\n\t\t\t}\r\n\r\n\t\t\t// Webkit/Opera - :checked should return selected option elements\r\n\t\t\t// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked\r\n\t\t\t// IE8 throws error here and will not see later tests\r\n\t\t\tif ( !div.querySelectorAll(\":checked\").length ) {\r\n\t\t\t\trbuggyQSA.push(\":checked\");\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tassert(function( div ) {\r\n\t\t\t// Support: Windows 8 Native Apps\r\n\t\t\t// The type and name attributes are restricted during .innerHTML assignment\r\n\t\t\tvar input = doc.createElement(\"input\");\r\n\t\t\tinput.setAttribute( \"type\", \"hidden\" );\r\n\t\t\tdiv.appendChild( input ).setAttribute( \"name\", \"D\" );\r\n\r\n\t\t\t// Support: IE8\r\n\t\t\t// Enforce case-sensitivity of name attribute\r\n\t\t\tif ( div.querySelectorAll(\"[name=d]\").length ) {\r\n\t\t\t\trbuggyQSA.push( \"name\" + whitespace + \"*[*^$|!~]?=\" );\r\n\t\t\t}\r\n\r\n\t\t\t// FF 3.5 - :enabled/:disabled and hidden elements (hidden elements are still enabled)\r\n\t\t\t// IE8 throws error here and will not see later tests\r\n\t\t\tif ( !div.querySelectorAll(\":enabled\").length ) {\r\n\t\t\t\trbuggyQSA.push( \":enabled\", \":disabled\" );\r\n\t\t\t}\r\n\r\n\t\t\t// Opera 10-11 does not throw on post-comma invalid pseudos\r\n\t\t\tdiv.querySelectorAll(\"*,:x\");\r\n\t\t\trbuggyQSA.push(\",.*:\");\r\n\t\t});\r\n\t}\r\n\r\n\tif ( (support.matchesSelector = rnative.test( (matches = docElem.matches ||\r\n\t\tdocElem.webkitMatchesSelector ||\r\n\t\tdocElem.mozMatchesSelector ||\r\n\t\tdocElem.oMatchesSelector ||\r\n\t\tdocElem.msMatchesSelector) )) ) {\r\n\r\n\t\tassert(function( div ) {\r\n\t\t\t// Check to see if it's possible to do matchesSelector\r\n\t\t\t// on a disconnected node (IE 9)\r\n\t\t\tsupport.disconnectedMatch = matches.call( div, \"div\" );\r\n\r\n\t\t\t// This should fail with an exception\r\n\t\t\t// Gecko does not error, returns false instead\r\n\t\t\tmatches.call( div, \"[s!='']:x\" );\r\n\t\t\trbuggyMatches.push( \"!=\", pseudos );\r\n\t\t});\r\n\t}\r\n\r\n\trbuggyQSA = rbuggyQSA.length && new RegExp( rbuggyQSA.join(\"|\") );\r\n\trbuggyMatches = rbuggyMatches.length && new RegExp( rbuggyMatches.join(\"|\") );\r\n\r\n\t/* Contains\r\n\t---------------------------------------------------------------------- */\r\n\thasCompare = rnative.test( docElem.compareDocumentPosition );\r\n\r\n\t// Element contains another\r\n\t// Purposefully does not implement inclusive descendent\r\n\t// As in, an element does not contain itself\r\n\tcontains = hasCompare || rnative.test( docElem.contains ) ?\r\n\t\tfunction( a, b ) {\r\n\t\t\tvar adown = a.nodeType === 9 ? a.documentElement : a,\r\n\t\t\t\tbup = b && b.parentNode;\r\n\t\t\treturn a === bup || !!( bup && bup.nodeType === 1 && (\r\n\t\t\t\tadown.contains ?\r\n\t\t\t\t\tadown.contains( bup ) :\r\n\t\t\t\t\ta.compareDocumentPosition && a.compareDocumentPosition( bup ) & 16\r\n\t\t\t));\r\n\t\t} :\r\n\t\tfunction( a, b ) {\r\n\t\t\tif ( b ) {\r\n\t\t\t\twhile ( (b = b.parentNode) ) {\r\n\t\t\t\t\tif ( b === a ) {\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t};\r\n\r\n\t/* Sorting\r\n\t---------------------------------------------------------------------- */\r\n\r\n\t// Document order sorting\r\n\tsortOrder = hasCompare ?\r\n\tfunction( a, b ) {\r\n\r\n\t\t// Flag for duplicate removal\r\n\t\tif ( a === b ) {\r\n\t\t\thasDuplicate = true;\r\n\t\t\treturn 0;\r\n\t\t}\r\n\r\n\t\t// Sort on method existence if only one input has compareDocumentPosition\r\n\t\tvar compare = !a.compareDocumentPosition - !b.compareDocumentPosition;\r\n\t\tif ( compare ) {\r\n\t\t\treturn compare;\r\n\t\t}\r\n\r\n\t\t// Calculate position if both inputs belong to the same document\r\n\t\tcompare = ( a.ownerDocument || a ) === ( b.ownerDocument || b ) ?\r\n\t\t\ta.compareDocumentPosition( b ) :\r\n\r\n\t\t\t// Otherwise we know they are disconnected\r\n\t\t\t1;\r\n\r\n\t\t// Disconnected nodes\r\n\t\tif ( compare & 1 ||\r\n\t\t\t(!support.sortDetached && b.compareDocumentPosition( a ) === compare) ) {\r\n\r\n\t\t\t// Choose the first element that is related to our preferred document\r\n\t\t\tif ( a === doc || a.ownerDocument === preferredDoc && contains(preferredDoc, a) ) {\r\n\t\t\t\treturn -1;\r\n\t\t\t}\r\n\t\t\tif ( b === doc || b.ownerDocument === preferredDoc && contains(preferredDoc, b) ) {\r\n\t\t\t\treturn 1;\r\n\t\t\t}\r\n\r\n\t\t\t// Maintain original order\r\n\t\t\treturn sortInput ?\r\n\t\t\t\t( indexOf.call( sortInput, a ) - indexOf.call( sortInput, b ) ) :\r\n\t\t\t\t0;\r\n\t\t}\r\n\r\n\t\treturn compare & 4 ? -1 : 1;\r\n\t} :\r\n\tfunction( a, b ) {\r\n\t\t// Exit early if the nodes are identical\r\n\t\tif ( a === b ) {\r\n\t\t\thasDuplicate = true;\r\n\t\t\treturn 0;\r\n\t\t}\r\n\r\n\t\tvar cur,\r\n\t\t\ti = 0,\r\n\t\t\taup = a.parentNode,\r\n\t\t\tbup = b.parentNode,\r\n\t\t\tap = [ a ],\r\n\t\t\tbp = [ b ];\r\n\r\n\t\t// Parentless nodes are either documents or disconnected\r\n\t\tif ( !aup || !bup ) {\r\n\t\t\treturn a === doc ? -1 :\r\n\t\t\t\tb === doc ? 1 :\r\n\t\t\t\taup ? -1 :\r\n\t\t\t\tbup ? 1 :\r\n\t\t\t\tsortInput ?\r\n\t\t\t\t( indexOf.call( sortInput, a ) - indexOf.call( sortInput, b ) ) :\r\n\t\t\t\t0;\r\n\r\n\t\t// If the nodes are siblings, we can do a quick check\r\n\t\t} else if ( aup === bup ) {\r\n\t\t\treturn siblingCheck( a, b );\r\n\t\t}\r\n\r\n\t\t// Otherwise we need full lists of their ancestors for comparison\r\n\t\tcur = a;\r\n\t\twhile ( (cur = cur.parentNode) ) {\r\n\t\t\tap.unshift( cur );\r\n\t\t}\r\n\t\tcur = b;\r\n\t\twhile ( (cur = cur.parentNode) ) {\r\n\t\t\tbp.unshift( cur );\r\n\t\t}\r\n\r\n\t\t// Walk down the tree looking for a discrepancy\r\n\t\twhile ( ap[i] === bp[i] ) {\r\n\t\t\ti++;\r\n\t\t}\r\n\r\n\t\treturn i ?\r\n\t\t\t// Do a sibling check if the nodes have a common ancestor\r\n\t\t\tsiblingCheck( ap[i], bp[i] ) :\r\n\r\n\t\t\t// Otherwise nodes in our document sort first\r\n\t\t\tap[i] === preferredDoc ? -1 :\r\n\t\t\tbp[i] === preferredDoc ? 1 :\r\n\t\t\t0;\r\n\t};\r\n\r\n\treturn doc;\r\n};\r\n\r\nSizzle.matches = function( expr, elements ) {\r\n\treturn Sizzle( expr, null, null, elements );\r\n};\r\n\r\nSizzle.matchesSelector = function( elem, expr ) {\r\n\t// Set document vars if needed\r\n\tif ( ( elem.ownerDocument || elem ) !== document ) {\r\n\t\tsetDocument( elem );\r\n\t}\r\n\r\n\t// Make sure that attribute selectors are quoted\r\n\texpr = expr.replace( rattributeQuotes, \"='$1']\" );\r\n\r\n\tif ( support.matchesSelector && documentIsHTML &&\r\n\t\t( !rbuggyMatches || !rbuggyMatches.test( expr ) ) &&\r\n\t\t( !rbuggyQSA     || !rbuggyQSA.test( expr ) ) ) {\r\n\r\n\t\ttry {\r\n\t\t\tvar ret = matches.call( elem, expr );\r\n\r\n\t\t\t// IE 9's matchesSelector returns false on disconnected nodes\r\n\t\t\tif ( ret || support.disconnectedMatch ||\r\n\t\t\t\t\t// As well, disconnected nodes are said to be in a document\r\n\t\t\t\t\t// fragment in IE 9\r\n\t\t\t\t\telem.document && elem.document.nodeType !== 11 ) {\r\n\t\t\t\treturn ret;\r\n\t\t\t}\r\n\t\t} catch(e) {}\r\n\t}\r\n\r\n\treturn Sizzle( expr, document, null, [ elem ] ).length > 0;\r\n};\r\n\r\nSizzle.contains = function( context, elem ) {\r\n\t// Set document vars if needed\r\n\tif ( ( context.ownerDocument || context ) !== document ) {\r\n\t\tsetDocument( context );\r\n\t}\r\n\treturn contains( context, elem );\r\n};\r\n\r\nSizzle.attr = function( elem, name ) {\r\n\t// Set document vars if needed\r\n\tif ( ( elem.ownerDocument || elem ) !== document ) {\r\n\t\tsetDocument( elem );\r\n\t}\r\n\r\n\tvar fn = Expr.attrHandle[ name.toLowerCase() ],\r\n\t\t// Don't get fooled by Object.prototype properties (jQuery #13807)\r\n\t\tval = fn && hasOwn.call( Expr.attrHandle, name.toLowerCase() ) ?\r\n\t\t\tfn( elem, name, !documentIsHTML ) :\r\n\t\t\tundefined;\r\n\r\n\treturn val !== undefined ?\r\n\t\tval :\r\n\t\tsupport.attributes || !documentIsHTML ?\r\n\t\t\telem.getAttribute( name ) :\r\n\t\t\t(val = elem.getAttributeNode(name)) && val.specified ?\r\n\t\t\t\tval.value :\r\n\t\t\t\tnull;\r\n};\r\n\r\nSizzle.error = function( msg ) {\r\n\tthrow new Error( \"Syntax error, unrecognized expression: \" + msg );\r\n};\r\n\r\n/**\r\n * Document sorting and removing duplicates\r\n * @param {ArrayLike} results\r\n */\r\nSizzle.uniqueSort = function( results ) {\r\n\tvar elem,\r\n\t\tduplicates = [],\r\n\t\tj = 0,\r\n\t\ti = 0;\r\n\r\n\t// Unless we *know* we can detect duplicates, assume their presence\r\n\thasDuplicate = !support.detectDuplicates;\r\n\tsortInput = !support.sortStable && results.slice( 0 );\r\n\tresults.sort( sortOrder );\r\n\r\n\tif ( hasDuplicate ) {\r\n\t\twhile ( (elem = results[i++]) ) {\r\n\t\t\tif ( elem === results[ i ] ) {\r\n\t\t\t\tj = duplicates.push( i );\r\n\t\t\t}\r\n\t\t}\r\n\t\twhile ( j-- ) {\r\n\t\t\tresults.splice( duplicates[ j ], 1 );\r\n\t\t}\r\n\t}\r\n\r\n\t// Clear input after sorting to release objects\r\n\t// See https://github.com/jquery/sizzle/pull/225\r\n\tsortInput = null;\r\n\r\n\treturn results;\r\n};\r\n\r\n/**\r\n * Utility function for retrieving the text value of an array of DOM nodes\r\n * @param {Array|Element} elem\r\n */\r\ngetText = Sizzle.getText = function( elem ) {\r\n\tvar node,\r\n\t\tret = \"\",\r\n\t\ti = 0,\r\n\t\tnodeType = elem.nodeType;\r\n\r\n\tif ( !nodeType ) {\r\n\t\t// If no nodeType, this is expected to be an array\r\n\t\twhile ( (node = elem[i++]) ) {\r\n\t\t\t// Do not traverse comment nodes\r\n\t\t\tret += getText( node );\r\n\t\t}\r\n\t} else if ( nodeType === 1 || nodeType === 9 || nodeType === 11 ) {\r\n\t\t// Use textContent for elements\r\n\t\t// innerText usage removed for consistency of new lines (jQuery #11153)\r\n\t\tif ( typeof elem.textContent === \"string\" ) {\r\n\t\t\treturn elem.textContent;\r\n\t\t} else {\r\n\t\t\t// Traverse its children\r\n\t\t\tfor ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {\r\n\t\t\t\tret += getText( elem );\r\n\t\t\t}\r\n\t\t}\r\n\t} else if ( nodeType === 3 || nodeType === 4 ) {\r\n\t\treturn elem.nodeValue;\r\n\t}\r\n\t// Do not include comment or processing instruction nodes\r\n\r\n\treturn ret;\r\n};\r\n\r\nExpr = Sizzle.selectors = {\r\n\r\n\t// Can be adjusted by the user\r\n\tcacheLength: 50,\r\n\r\n\tcreatePseudo: markFunction,\r\n\r\n\tmatch: matchExpr,\r\n\r\n\tattrHandle: {},\r\n\r\n\tfind: {},\r\n\r\n\trelative: {\r\n\t\t\">\": { dir: \"parentNode\", first: true },\r\n\t\t\" \": { dir: \"parentNode\" },\r\n\t\t\"+\": { dir: \"previousSibling\", first: true },\r\n\t\t\"~\": { dir: \"previousSibling\" }\r\n\t},\r\n\r\n\tpreFilter: {\r\n\t\t\"ATTR\": function( match ) {\r\n\t\t\tmatch[1] = match[1].replace( runescape, funescape );\r\n\r\n\t\t\t// Move the given value to match[3] whether quoted or unquoted\r\n\t\t\tmatch[3] = ( match[3] || match[4] || match[5] || \"\" ).replace( runescape, funescape );\r\n\r\n\t\t\tif ( match[2] === \"~=\" ) {\r\n\t\t\t\tmatch[3] = \" \" + match[3] + \" \";\r\n\t\t\t}\r\n\r\n\t\t\treturn match.slice( 0, 4 );\r\n\t\t},\r\n\r\n\t\t\"CHILD\": function( match ) {\r\n\t\t\t/* matches from matchExpr[\"CHILD\"]\r\n\t\t\t\t1 type (only|nth|...)\r\n\t\t\t\t2 what (child|of-type)\r\n\t\t\t\t3 argument (even|odd|\\d*|\\d*n([+-]\\d+)?|...)\r\n\t\t\t\t4 xn-component of xn+y argument ([+-]?\\d*n|)\r\n\t\t\t\t5 sign of xn-component\r\n\t\t\t\t6 x of xn-component\r\n\t\t\t\t7 sign of y-component\r\n\t\t\t\t8 y of y-component\r\n\t\t\t*/\r\n\t\t\tmatch[1] = match[1].toLowerCase();\r\n\r\n\t\t\tif ( match[1].slice( 0, 3 ) === \"nth\" ) {\r\n\t\t\t\t// nth-* requires argument\r\n\t\t\t\tif ( !match[3] ) {\r\n\t\t\t\t\tSizzle.error( match[0] );\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// numeric x and y parameters for Expr.filter.CHILD\r\n\t\t\t\t// remember that false/true cast respectively to 0/1\r\n\t\t\t\tmatch[4] = +( match[4] ? match[5] + (match[6] || 1) : 2 * ( match[3] === \"even\" || match[3] === \"odd\" ) );\r\n\t\t\t\tmatch[5] = +( ( match[7] + match[8] ) || match[3] === \"odd\" );\r\n\r\n\t\t\t// other types prohibit arguments\r\n\t\t\t} else if ( match[3] ) {\r\n\t\t\t\tSizzle.error( match[0] );\r\n\t\t\t}\r\n\r\n\t\t\treturn match;\r\n\t\t},\r\n\r\n\t\t\"PSEUDO\": function( match ) {\r\n\t\t\tvar excess,\r\n\t\t\t\tunquoted = !match[6] && match[2];\r\n\r\n\t\t\tif ( matchExpr[\"CHILD\"].test( match[0] ) ) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\r\n\t\t\t// Accept quoted arguments as-is\r\n\t\t\tif ( match[3] ) {\r\n\t\t\t\tmatch[2] = match[4] || match[5] || \"\";\r\n\r\n\t\t\t// Strip excess characters from unquoted arguments\r\n\t\t\t} else if ( unquoted && rpseudo.test( unquoted ) &&\r\n\t\t\t\t// Get excess from tokenize (recursively)\r\n\t\t\t\t(excess = tokenize( unquoted, true )) &&\r\n\t\t\t\t// advance to the next closing parenthesis\r\n\t\t\t\t(excess = unquoted.indexOf( \")\", unquoted.length - excess ) - unquoted.length) ) {\r\n\r\n\t\t\t\t// excess is a negative index\r\n\t\t\t\tmatch[0] = match[0].slice( 0, excess );\r\n\t\t\t\tmatch[2] = unquoted.slice( 0, excess );\r\n\t\t\t}\r\n\r\n\t\t\t// Return only captures needed by the pseudo filter method (type and argument)\r\n\t\t\treturn match.slice( 0, 3 );\r\n\t\t}\r\n\t},\r\n\r\n\tfilter: {\r\n\r\n\t\t\"TAG\": function( nodeNameSelector ) {\r\n\t\t\tvar nodeName = nodeNameSelector.replace( runescape, funescape ).toLowerCase();\r\n\t\t\treturn nodeNameSelector === \"*\" ?\r\n\t\t\t\tfunction() { return true; } :\r\n\t\t\t\tfunction( elem ) {\r\n\t\t\t\t\treturn elem.nodeName && elem.nodeName.toLowerCase() === nodeName;\r\n\t\t\t\t};\r\n\t\t},\r\n\r\n\t\t\"CLASS\": function( className ) {\r\n\t\t\tvar pattern = classCache[ className + \" \" ];\r\n\r\n\t\t\treturn pattern ||\r\n\t\t\t\t(pattern = new RegExp( \"(^|\" + whitespace + \")\" + className + \"(\" + whitespace + \"|$)\" )) &&\r\n\t\t\t\tclassCache( className, function( elem ) {\r\n\t\t\t\t\treturn pattern.test( typeof elem.className === \"string\" && elem.className || typeof elem.getAttribute !== strundefined && elem.getAttribute(\"class\") || \"\" );\r\n\t\t\t\t});\r\n\t\t},\r\n\r\n\t\t\"ATTR\": function( name, operator, check ) {\r\n\t\t\treturn function( elem ) {\r\n\t\t\t\tvar result = Sizzle.attr( elem, name );\r\n\r\n\t\t\t\tif ( result == null ) {\r\n\t\t\t\t\treturn operator === \"!=\";\r\n\t\t\t\t}\r\n\t\t\t\tif ( !operator ) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tresult += \"\";\r\n\r\n\t\t\t\treturn operator === \"=\" ? result === check :\r\n\t\t\t\t\toperator === \"!=\" ? result !== check :\r\n\t\t\t\t\toperator === \"^=\" ? check && result.indexOf( check ) === 0 :\r\n\t\t\t\t\toperator === \"*=\" ? check && result.indexOf( check ) > -1 :\r\n\t\t\t\t\toperator === \"$=\" ? check && result.slice( -check.length ) === check :\r\n\t\t\t\t\toperator === \"~=\" ? ( \" \" + result + \" \" ).indexOf( check ) > -1 :\r\n\t\t\t\t\toperator === \"|=\" ? result === check || result.slice( 0, check.length + 1 ) === check + \"-\" :\r\n\t\t\t\t\tfalse;\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\t\"CHILD\": function( type, what, argument, first, last ) {\r\n\t\t\tvar simple = type.slice( 0, 3 ) !== \"nth\",\r\n\t\t\t\tforward = type.slice( -4 ) !== \"last\",\r\n\t\t\t\tofType = what === \"of-type\";\r\n\r\n\t\t\treturn first === 1 && last === 0 ?\r\n\r\n\t\t\t\t// Shortcut for :nth-*(n)\r\n\t\t\t\tfunction( elem ) {\r\n\t\t\t\t\treturn !!elem.parentNode;\r\n\t\t\t\t} :\r\n\r\n\t\t\t\tfunction( elem, context, xml ) {\r\n\t\t\t\t\tvar cache, outerCache, node, diff, nodeIndex, start,\r\n\t\t\t\t\t\tdir = simple !== forward ? \"nextSibling\" : \"previousSibling\",\r\n\t\t\t\t\t\tparent = elem.parentNode,\r\n\t\t\t\t\t\tname = ofType && elem.nodeName.toLowerCase(),\r\n\t\t\t\t\t\tuseCache = !xml && !ofType;\r\n\r\n\t\t\t\t\tif ( parent ) {\r\n\r\n\t\t\t\t\t\t// :(first|last|only)-(child|of-type)\r\n\t\t\t\t\t\tif ( simple ) {\r\n\t\t\t\t\t\t\twhile ( dir ) {\r\n\t\t\t\t\t\t\t\tnode = elem;\r\n\t\t\t\t\t\t\t\twhile ( (node = node[ dir ]) ) {\r\n\t\t\t\t\t\t\t\t\tif ( ofType ? node.nodeName.toLowerCase() === name : node.nodeType === 1 ) {\r\n\t\t\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t// Reverse direction for :only-* (if we haven't yet done so)\r\n\t\t\t\t\t\t\t\tstart = dir = type === \"only\" && !start && \"nextSibling\";\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tstart = [ forward ? parent.firstChild : parent.lastChild ];\r\n\r\n\t\t\t\t\t\t// non-xml :nth-child(...) stores cache data on `parent`\r\n\t\t\t\t\t\tif ( forward && useCache ) {\r\n\t\t\t\t\t\t\t// Seek `elem` from a previously-cached index\r\n\t\t\t\t\t\t\touterCache = parent[ expando ] || (parent[ expando ] = {});\r\n\t\t\t\t\t\t\tcache = outerCache[ type ] || [];\r\n\t\t\t\t\t\t\tnodeIndex = cache[0] === dirruns && cache[1];\r\n\t\t\t\t\t\t\tdiff = cache[0] === dirruns && cache[2];\r\n\t\t\t\t\t\t\tnode = nodeIndex && parent.childNodes[ nodeIndex ];\r\n\r\n\t\t\t\t\t\t\twhile ( (node = ++nodeIndex && node && node[ dir ] ||\r\n\r\n\t\t\t\t\t\t\t\t// Fallback to seeking `elem` from the start\r\n\t\t\t\t\t\t\t\t(diff = nodeIndex = 0) || start.pop()) ) {\r\n\r\n\t\t\t\t\t\t\t\t// When found, cache indexes on `parent` and break\r\n\t\t\t\t\t\t\t\tif ( node.nodeType === 1 && ++diff && node === elem ) {\r\n\t\t\t\t\t\t\t\t\touterCache[ type ] = [ dirruns, nodeIndex, diff ];\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Use previously-cached element index if available\r\n\t\t\t\t\t\t} else if ( useCache && (cache = (elem[ expando ] || (elem[ expando ] = {}))[ type ]) && cache[0] === dirruns ) {\r\n\t\t\t\t\t\t\tdiff = cache[1];\r\n\r\n\t\t\t\t\t\t// xml :nth-child(...) or :nth-last-child(...) or :nth(-last)?-of-type(...)\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// Use the same loop as above to seek `elem` from the start\r\n\t\t\t\t\t\t\twhile ( (node = ++nodeIndex && node && node[ dir ] ||\r\n\t\t\t\t\t\t\t\t(diff = nodeIndex = 0) || start.pop()) ) {\r\n\r\n\t\t\t\t\t\t\t\tif ( ( ofType ? node.nodeName.toLowerCase() === name : node.nodeType === 1 ) && ++diff ) {\r\n\t\t\t\t\t\t\t\t\t// Cache the index of each encountered element\r\n\t\t\t\t\t\t\t\t\tif ( useCache ) {\r\n\t\t\t\t\t\t\t\t\t\t(node[ expando ] || (node[ expando ] = {}))[ type ] = [ dirruns, diff ];\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\tif ( node === elem ) {\r\n\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Incorporate the offset, then check against cycle size\r\n\t\t\t\t\t\tdiff -= last;\r\n\t\t\t\t\t\treturn diff === first || ( diff % first === 0 && diff / first >= 0 );\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t},\r\n\r\n\t\t\"PSEUDO\": function( pseudo, argument ) {\r\n\t\t\t// pseudo-class names are case-insensitive\r\n\t\t\t// http://www.w3.org/TR/selectors/#pseudo-classes\r\n\t\t\t// Prioritize by case sensitivity in case custom pseudos are added with uppercase letters\r\n\t\t\t// Remember that setFilters inherits from pseudos\r\n\t\t\tvar args,\r\n\t\t\t\tfn = Expr.pseudos[ pseudo ] || Expr.setFilters[ pseudo.toLowerCase() ] ||\r\n\t\t\t\t\tSizzle.error( \"unsupported pseudo: \" + pseudo );\r\n\r\n\t\t\t// The user may use createPseudo to indicate that\r\n\t\t\t// arguments are needed to create the filter function\r\n\t\t\t// just as Sizzle does\r\n\t\t\tif ( fn[ expando ] ) {\r\n\t\t\t\treturn fn( argument );\r\n\t\t\t}\r\n\r\n\t\t\t// But maintain support for old signatures\r\n\t\t\tif ( fn.length > 1 ) {\r\n\t\t\t\targs = [ pseudo, pseudo, \"\", argument ];\r\n\t\t\t\treturn Expr.setFilters.hasOwnProperty( pseudo.toLowerCase() ) ?\r\n\t\t\t\t\tmarkFunction(function( seed, matches ) {\r\n\t\t\t\t\t\tvar idx,\r\n\t\t\t\t\t\t\tmatched = fn( seed, argument ),\r\n\t\t\t\t\t\t\ti = matched.length;\r\n\t\t\t\t\t\twhile ( i-- ) {\r\n\t\t\t\t\t\t\tidx = indexOf.call( seed, matched[i] );\r\n\t\t\t\t\t\t\tseed[ idx ] = !( matches[ idx ] = matched[i] );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}) :\r\n\t\t\t\t\tfunction( elem ) {\r\n\t\t\t\t\t\treturn fn( elem, 0, args );\r\n\t\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\treturn fn;\r\n\t\t}\r\n\t},\r\n\r\n\tpseudos: {\r\n\t\t// Potentially complex pseudos\r\n\t\t\"not\": markFunction(function( selector ) {\r\n\t\t\t// Trim the selector passed to compile\r\n\t\t\t// to avoid treating leading and trailing\r\n\t\t\t// spaces as combinators\r\n\t\t\tvar input = [],\r\n\t\t\t\tresults = [],\r\n\t\t\t\tmatcher = compile( selector.replace( rtrim, \"$1\" ) );\r\n\r\n\t\t\treturn matcher[ expando ] ?\r\n\t\t\t\tmarkFunction(function( seed, matches, context, xml ) {\r\n\t\t\t\t\tvar elem,\r\n\t\t\t\t\t\tunmatched = matcher( seed, null, xml, [] ),\r\n\t\t\t\t\t\ti = seed.length;\r\n\r\n\t\t\t\t\t// Match elements unmatched by `matcher`\r\n\t\t\t\t\twhile ( i-- ) {\r\n\t\t\t\t\t\tif ( (elem = unmatched[i]) ) {\r\n\t\t\t\t\t\t\tseed[i] = !(matches[i] = elem);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}) :\r\n\t\t\t\tfunction( elem, context, xml ) {\r\n\t\t\t\t\tinput[0] = elem;\r\n\t\t\t\t\tmatcher( input, null, xml, results );\r\n\t\t\t\t\treturn !results.pop();\r\n\t\t\t\t};\r\n\t\t}),\r\n\r\n\t\t\"has\": markFunction(function( selector ) {\r\n\t\t\treturn function( elem ) {\r\n\t\t\t\treturn Sizzle( selector, elem ).length > 0;\r\n\t\t\t};\r\n\t\t}),\r\n\r\n\t\t\"contains\": markFunction(function( text ) {\r\n\t\t\treturn function( elem ) {\r\n\t\t\t\treturn ( elem.textContent || elem.innerText || getText( elem ) ).indexOf( text ) > -1;\r\n\t\t\t};\r\n\t\t}),\r\n\r\n\t\t// \"Whether an element is represented by a :lang() selector\r\n\t\t// is based solely on the element's language value\r\n\t\t// being equal to the identifier C,\r\n\t\t// or beginning with the identifier C immediately followed by \"-\".\r\n\t\t// The matching of C against the element's language value is performed case-insensitively.\r\n\t\t// The identifier C does not have to be a valid language name.\"\r\n\t\t// http://www.w3.org/TR/selectors/#lang-pseudo\r\n\t\t\"lang\": markFunction( function( lang ) {\r\n\t\t\t// lang value must be a valid identifier\r\n\t\t\tif ( !ridentifier.test(lang || \"\") ) {\r\n\t\t\t\tSizzle.error( \"unsupported lang: \" + lang );\r\n\t\t\t}\r\n\t\t\tlang = lang.replace( runescape, funescape ).toLowerCase();\r\n\t\t\treturn function( elem ) {\r\n\t\t\t\tvar elemLang;\r\n\t\t\t\tdo {\r\n\t\t\t\t\tif ( (elemLang = documentIsHTML ?\r\n\t\t\t\t\t\telem.lang :\r\n\t\t\t\t\t\telem.getAttribute(\"xml:lang\") || elem.getAttribute(\"lang\")) ) {\r\n\r\n\t\t\t\t\t\telemLang = elemLang.toLowerCase();\r\n\t\t\t\t\t\treturn elemLang === lang || elemLang.indexOf( lang + \"-\" ) === 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t} while ( (elem = elem.parentNode) && elem.nodeType === 1 );\r\n\t\t\t\treturn false;\r\n\t\t\t};\r\n\t\t}),\r\n\r\n\t\t// Miscellaneous\r\n\t\t\"target\": function( elem ) {\r\n\t\t\tvar hash = window.location && window.location.hash;\r\n\t\t\treturn hash && hash.slice( 1 ) === elem.id;\r\n\t\t},\r\n\r\n\t\t\"root\": function( elem ) {\r\n\t\t\treturn elem === docElem;\r\n\t\t},\r\n\r\n\t\t\"focus\": function( elem ) {\r\n\t\t\treturn elem === document.activeElement && (!document.hasFocus || document.hasFocus()) && !!(elem.type || elem.href || ~elem.tabIndex);\r\n\t\t},\r\n\r\n\t\t// Boolean properties\r\n\t\t\"enabled\": function( elem ) {\r\n\t\t\treturn elem.disabled === false;\r\n\t\t},\r\n\r\n\t\t\"disabled\": function( elem ) {\r\n\t\t\treturn elem.disabled === true;\r\n\t\t},\r\n\r\n\t\t\"checked\": function( elem ) {\r\n\t\t\t// In CSS3, :checked should return both checked and selected elements\r\n\t\t\t// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked\r\n\t\t\tvar nodeName = elem.nodeName.toLowerCase();\r\n\t\t\treturn (nodeName === \"input\" && !!elem.checked) || (nodeName === \"option\" && !!elem.selected);\r\n\t\t},\r\n\r\n\t\t\"selected\": function( elem ) {\r\n\t\t\t// Accessing this property makes selected-by-default\r\n\t\t\t// options in Safari work properly\r\n\t\t\tif ( elem.parentNode ) {\r\n\t\t\t\telem.parentNode.selectedIndex;\r\n\t\t\t}\r\n\r\n\t\t\treturn elem.selected === true;\r\n\t\t},\r\n\r\n\t\t// Contents\r\n\t\t\"empty\": function( elem ) {\r\n\t\t\t// http://www.w3.org/TR/selectors/#empty-pseudo\r\n\t\t\t// :empty is negated by element (1) or content nodes (text: 3; cdata: 4; entity ref: 5),\r\n\t\t\t//   but not by others (comment: 8; processing instruction: 7; etc.)\r\n\t\t\t// nodeType < 6 works because attributes (2) do not appear as children\r\n\t\t\tfor ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {\r\n\t\t\t\tif ( elem.nodeType < 6 ) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t},\r\n\r\n\t\t\"parent\": function( elem ) {\r\n\t\t\treturn !Expr.pseudos[\"empty\"]( elem );\r\n\t\t},\r\n\r\n\t\t// Element/input types\r\n\t\t\"header\": function( elem ) {\r\n\t\t\treturn rheader.test( elem.nodeName );\r\n\t\t},\r\n\r\n\t\t\"input\": function( elem ) {\r\n\t\t\treturn rinputs.test( elem.nodeName );\r\n\t\t},\r\n\r\n\t\t\"button\": function( elem ) {\r\n\t\t\tvar name = elem.nodeName.toLowerCase();\r\n\t\t\treturn name === \"input\" && elem.type === \"button\" || name === \"button\";\r\n\t\t},\r\n\r\n\t\t\"text\": function( elem ) {\r\n\t\t\tvar attr;\r\n\t\t\treturn elem.nodeName.toLowerCase() === \"input\" &&\r\n\t\t\t\telem.type === \"text\" &&\r\n\r\n\t\t\t\t// Support: IE<8\r\n\t\t\t\t// New HTML5 attribute values (e.g., \"search\") appear with elem.type === \"text\"\r\n\t\t\t\t( (attr = elem.getAttribute(\"type\")) == null || attr.toLowerCase() === \"text\" );\r\n\t\t},\r\n\r\n\t\t// Position-in-collection\r\n\t\t\"first\": createPositionalPseudo(function() {\r\n\t\t\treturn [ 0 ];\r\n\t\t}),\r\n\r\n\t\t\"last\": createPositionalPseudo(function( matchIndexes, length ) {\r\n\t\t\treturn [ length - 1 ];\r\n\t\t}),\r\n\r\n\t\t\"eq\": createPositionalPseudo(function( matchIndexes, length, argument ) {\r\n\t\t\treturn [ argument < 0 ? argument + length : argument ];\r\n\t\t}),\r\n\r\n\t\t\"even\": createPositionalPseudo(function( matchIndexes, length ) {\r\n\t\t\tvar i = 0;\r\n\t\t\tfor ( ; i < length; i += 2 ) {\r\n\t\t\t\tmatchIndexes.push( i );\r\n\t\t\t}\r\n\t\t\treturn matchIndexes;\r\n\t\t}),\r\n\r\n\t\t\"odd\": createPositionalPseudo(function( matchIndexes, length ) {\r\n\t\t\tvar i = 1;\r\n\t\t\tfor ( ; i < length; i += 2 ) {\r\n\t\t\t\tmatchIndexes.push( i );\r\n\t\t\t}\r\n\t\t\treturn matchIndexes;\r\n\t\t}),\r\n\r\n\t\t\"lt\": createPositionalPseudo(function( matchIndexes, length, argument ) {\r\n\t\t\tvar i = argument < 0 ? argument + length : argument;\r\n\t\t\tfor ( ; --i >= 0; ) {\r\n\t\t\t\tmatchIndexes.push( i );\r\n\t\t\t}\r\n\t\t\treturn matchIndexes;\r\n\t\t}),\r\n\r\n\t\t\"gt\": createPositionalPseudo(function( matchIndexes, length, argument ) {\r\n\t\t\tvar i = argument < 0 ? argument + length : argument;\r\n\t\t\tfor ( ; ++i < length; ) {\r\n\t\t\t\tmatchIndexes.push( i );\r\n\t\t\t}\r\n\t\t\treturn matchIndexes;\r\n\t\t})\r\n\t}\r\n};\r\n\r\nExpr.pseudos[\"nth\"] = Expr.pseudos[\"eq\"];\r\n\r\n// Add button/input type pseudos\r\nfor ( i in { radio: true, checkbox: true, file: true, password: true, image: true } ) {\r\n\tExpr.pseudos[ i ] = createInputPseudo( i );\r\n}\r\nfor ( i in { submit: true, reset: true } ) {\r\n\tExpr.pseudos[ i ] = createButtonPseudo( i );\r\n}\r\n\r\n// Easy API for creating new setFilters\r\nfunction setFilters() {}\r\nsetFilters.prototype = Expr.filters = Expr.pseudos;\r\nExpr.setFilters = new setFilters();\r\n\r\ntokenize = Sizzle.tokenize = function( selector, parseOnly ) {\r\n\tvar matched, match, tokens, type,\r\n\t\tsoFar, groups, preFilters,\r\n\t\tcached = tokenCache[ selector + \" \" ];\r\n\r\n\tif ( cached ) {\r\n\t\treturn parseOnly ? 0 : cached.slice( 0 );\r\n\t}\r\n\r\n\tsoFar = selector;\r\n\tgroups = [];\r\n\tpreFilters = Expr.preFilter;\r\n\r\n\twhile ( soFar ) {\r\n\r\n\t\t// Comma and first run\r\n\t\tif ( !matched || (match = rcomma.exec( soFar )) ) {\r\n\t\t\tif ( match ) {\r\n\t\t\t\t// Don't consume trailing commas as valid\r\n\t\t\t\tsoFar = soFar.slice( match[0].length ) || soFar;\r\n\t\t\t}\r\n\t\t\tgroups.push( (tokens = []) );\r\n\t\t}\r\n\r\n\t\tmatched = false;\r\n\r\n\t\t// Combinators\r\n\t\tif ( (match = rcombinators.exec( soFar )) ) {\r\n\t\t\tmatched = match.shift();\r\n\t\t\ttokens.push({\r\n\t\t\t\tvalue: matched,\r\n\t\t\t\t// Cast descendant combinators to space\r\n\t\t\t\ttype: match[0].replace( rtrim, \" \" )\r\n\t\t\t});\r\n\t\t\tsoFar = soFar.slice( matched.length );\r\n\t\t}\r\n\r\n\t\t// Filters\r\n\t\tfor ( type in Expr.filter ) {\r\n\t\t\tif ( (match = matchExpr[ type ].exec( soFar )) && (!preFilters[ type ] ||\r\n\t\t\t\t(match = preFilters[ type ]( match ))) ) {\r\n\t\t\t\tmatched = match.shift();\r\n\t\t\t\ttokens.push({\r\n\t\t\t\t\tvalue: matched,\r\n\t\t\t\t\ttype: type,\r\n\t\t\t\t\tmatches: match\r\n\t\t\t\t});\r\n\t\t\t\tsoFar = soFar.slice( matched.length );\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif ( !matched ) {\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\t// Return the length of the invalid excess\r\n\t// if we're just parsing\r\n\t// Otherwise, throw an error or return tokens\r\n\treturn parseOnly ?\r\n\t\tsoFar.length :\r\n\t\tsoFar ?\r\n\t\t\tSizzle.error( selector ) :\r\n\t\t\t// Cache the tokens\r\n\t\t\ttokenCache( selector, groups ).slice( 0 );\r\n};\r\n\r\nfunction toSelector( tokens ) {\r\n\tvar i = 0,\r\n\t\tlen = tokens.length,\r\n\t\tselector = \"\";\r\n\tfor ( ; i < len; i++ ) {\r\n\t\tselector += tokens[i].value;\r\n\t}\r\n\treturn selector;\r\n}\r\n\r\nfunction addCombinator( matcher, combinator, base ) {\r\n\tvar dir = combinator.dir,\r\n\t\tcheckNonElements = base && dir === \"parentNode\",\r\n\t\tdoneName = done++;\r\n\r\n\treturn combinator.first ?\r\n\t\t// Check against closest ancestor/preceding element\r\n\t\tfunction( elem, context, xml ) {\r\n\t\t\twhile ( (elem = elem[ dir ]) ) {\r\n\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\r\n\t\t\t\t\treturn matcher( elem, context, xml );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} :\r\n\r\n\t\t// Check against all ancestor/preceding elements\r\n\t\tfunction( elem, context, xml ) {\r\n\t\t\tvar oldCache, outerCache,\r\n\t\t\t\tnewCache = [ dirruns, doneName ];\r\n\r\n\t\t\t// We can't set arbitrary data on XML nodes, so they don't benefit from dir caching\r\n\t\t\tif ( xml ) {\r\n\t\t\t\twhile ( (elem = elem[ dir ]) ) {\r\n\t\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\r\n\t\t\t\t\t\tif ( matcher( elem, context, xml ) ) {\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\twhile ( (elem = elem[ dir ]) ) {\r\n\t\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\r\n\t\t\t\t\t\touterCache = elem[ expando ] || (elem[ expando ] = {});\r\n\t\t\t\t\t\tif ( (oldCache = outerCache[ dir ]) &&\r\n\t\t\t\t\t\t\toldCache[ 0 ] === dirruns && oldCache[ 1 ] === doneName ) {\r\n\r\n\t\t\t\t\t\t\t// Assign to newCache so results back-propagate to previous elements\r\n\t\t\t\t\t\t\treturn (newCache[ 2 ] = oldCache[ 2 ]);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// Reuse newcache so results back-propagate to previous elements\r\n\t\t\t\t\t\t\touterCache[ dir ] = newCache;\r\n\r\n\t\t\t\t\t\t\t// A match means we're done; a fail means we have to keep checking\r\n\t\t\t\t\t\t\tif ( (newCache[ 2 ] = matcher( elem, context, xml )) ) {\r\n\t\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n}\r\n\r\nfunction elementMatcher( matchers ) {\r\n\treturn matchers.length > 1 ?\r\n\t\tfunction( elem, context, xml ) {\r\n\t\t\tvar i = matchers.length;\r\n\t\t\twhile ( i-- ) {\r\n\t\t\t\tif ( !matchers[i]( elem, context, xml ) ) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t} :\r\n\t\tmatchers[0];\r\n}\r\n\r\nfunction multipleContexts( selector, contexts, results ) {\r\n\tvar i = 0,\r\n\t\tlen = contexts.length;\r\n\tfor ( ; i < len; i++ ) {\r\n\t\tSizzle( selector, contexts[i], results );\r\n\t}\r\n\treturn results;\r\n}\r\n\r\nfunction condense( unmatched, map, filter, context, xml ) {\r\n\tvar elem,\r\n\t\tnewUnmatched = [],\r\n\t\ti = 0,\r\n\t\tlen = unmatched.length,\r\n\t\tmapped = map != null;\r\n\r\n\tfor ( ; i < len; i++ ) {\r\n\t\tif ( (elem = unmatched[i]) ) {\r\n\t\t\tif ( !filter || filter( elem, context, xml ) ) {\r\n\t\t\t\tnewUnmatched.push( elem );\r\n\t\t\t\tif ( mapped ) {\r\n\t\t\t\t\tmap.push( i );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn newUnmatched;\r\n}\r\n\r\nfunction setMatcher( preFilter, selector, matcher, postFilter, postFinder, postSelector ) {\r\n\tif ( postFilter && !postFilter[ expando ] ) {\r\n\t\tpostFilter = setMatcher( postFilter );\r\n\t}\r\n\tif ( postFinder && !postFinder[ expando ] ) {\r\n\t\tpostFinder = setMatcher( postFinder, postSelector );\r\n\t}\r\n\treturn markFunction(function( seed, results, context, xml ) {\r\n\t\tvar temp, i, elem,\r\n\t\t\tpreMap = [],\r\n\t\t\tpostMap = [],\r\n\t\t\tpreexisting = results.length,\r\n\r\n\t\t\t// Get initial elements from seed or context\r\n\t\t\telems = seed || multipleContexts( selector || \"*\", context.nodeType ? [ context ] : context, [] ),\r\n\r\n\t\t\t// Prefilter to get matcher input, preserving a map for seed-results synchronization\r\n\t\t\tmatcherIn = preFilter && ( seed || !selector ) ?\r\n\t\t\t\tcondense( elems, preMap, preFilter, context, xml ) :\r\n\t\t\t\telems,\r\n\r\n\t\t\tmatcherOut = matcher ?\r\n\t\t\t\t// If we have a postFinder, or filtered seed, or non-seed postFilter or preexisting results,\r\n\t\t\t\tpostFinder || ( seed ? preFilter : preexisting || postFilter ) ?\r\n\r\n\t\t\t\t\t// ...intermediate processing is necessary\r\n\t\t\t\t\t[] :\r\n\r\n\t\t\t\t\t// ...otherwise use results directly\r\n\t\t\t\t\tresults :\r\n\t\t\t\tmatcherIn;\r\n\r\n\t\t// Find primary matches\r\n\t\tif ( matcher ) {\r\n\t\t\tmatcher( matcherIn, matcherOut, context, xml );\r\n\t\t}\r\n\r\n\t\t// Apply postFilter\r\n\t\tif ( postFilter ) {\r\n\t\t\ttemp = condense( matcherOut, postMap );\r\n\t\t\tpostFilter( temp, [], context, xml );\r\n\r\n\t\t\t// Un-match failing elements by moving them back to matcherIn\r\n\t\t\ti = temp.length;\r\n\t\t\twhile ( i-- ) {\r\n\t\t\t\tif ( (elem = temp[i]) ) {\r\n\t\t\t\t\tmatcherOut[ postMap[i] ] = !(matcherIn[ postMap[i] ] = elem);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif ( seed ) {\r\n\t\t\tif ( postFinder || preFilter ) {\r\n\t\t\t\tif ( postFinder ) {\r\n\t\t\t\t\t// Get the final matcherOut by condensing this intermediate into postFinder contexts\r\n\t\t\t\t\ttemp = [];\r\n\t\t\t\t\ti = matcherOut.length;\r\n\t\t\t\t\twhile ( i-- ) {\r\n\t\t\t\t\t\tif ( (elem = matcherOut[i]) ) {\r\n\t\t\t\t\t\t\t// Restore matcherIn since elem is not yet a final match\r\n\t\t\t\t\t\t\ttemp.push( (matcherIn[i] = elem) );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tpostFinder( null, (matcherOut = []), temp, xml );\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Move matched elements from seed to results to keep them synchronized\r\n\t\t\t\ti = matcherOut.length;\r\n\t\t\t\twhile ( i-- ) {\r\n\t\t\t\t\tif ( (elem = matcherOut[i]) &&\r\n\t\t\t\t\t\t(temp = postFinder ? indexOf.call( seed, elem ) : preMap[i]) > -1 ) {\r\n\r\n\t\t\t\t\t\tseed[temp] = !(results[temp] = elem);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t// Add elements to results, through postFinder if defined\r\n\t\t} else {\r\n\t\t\tmatcherOut = condense(\r\n\t\t\t\tmatcherOut === results ?\r\n\t\t\t\t\tmatcherOut.splice( preexisting, matcherOut.length ) :\r\n\t\t\t\t\tmatcherOut\r\n\t\t\t);\r\n\t\t\tif ( postFinder ) {\r\n\t\t\t\tpostFinder( null, results, matcherOut, xml );\r\n\t\t\t} else {\r\n\t\t\t\tpush.apply( results, matcherOut );\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n}\r\n\r\nfunction matcherFromTokens( tokens ) {\r\n\tvar checkContext, matcher, j,\r\n\t\tlen = tokens.length,\r\n\t\tleadingRelative = Expr.relative[ tokens[0].type ],\r\n\t\timplicitRelative = leadingRelative || Expr.relative[\" \"],\r\n\t\ti = leadingRelative ? 1 : 0,\r\n\r\n\t\t// The foundational matcher ensures that elements are reachable from top-level context(s)\r\n\t\tmatchContext = addCombinator( function( elem ) {\r\n\t\t\treturn elem === checkContext;\r\n\t\t}, implicitRelative, true ),\r\n\t\tmatchAnyContext = addCombinator( function( elem ) {\r\n\t\t\treturn indexOf.call( checkContext, elem ) > -1;\r\n\t\t}, implicitRelative, true ),\r\n\t\tmatchers = [ function( elem, context, xml ) {\r\n\t\t\treturn ( !leadingRelative && ( xml || context !== outermostContext ) ) || (\r\n\t\t\t\t(checkContext = context).nodeType ?\r\n\t\t\t\t\tmatchContext( elem, context, xml ) :\r\n\t\t\t\t\tmatchAnyContext( elem, context, xml ) );\r\n\t\t} ];\r\n\r\n\tfor ( ; i < len; i++ ) {\r\n\t\tif ( (matcher = Expr.relative[ tokens[i].type ]) ) {\r\n\t\t\tmatchers = [ addCombinator(elementMatcher( matchers ), matcher) ];\r\n\t\t} else {\r\n\t\t\tmatcher = Expr.filter[ tokens[i].type ].apply( null, tokens[i].matches );\r\n\r\n\t\t\t// Return special upon seeing a positional matcher\r\n\t\t\tif ( matcher[ expando ] ) {\r\n\t\t\t\t// Find the next relative operator (if any) for proper handling\r\n\t\t\t\tj = ++i;\r\n\t\t\t\tfor ( ; j < len; j++ ) {\r\n\t\t\t\t\tif ( Expr.relative[ tokens[j].type ] ) {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn setMatcher(\r\n\t\t\t\t\ti > 1 && elementMatcher( matchers ),\r\n\t\t\t\t\ti > 1 && toSelector(\r\n\t\t\t\t\t\t// If the preceding token was a descendant combinator, insert an implicit any-element `*`\r\n\t\t\t\t\t\ttokens.slice( 0, i - 1 ).concat({ value: tokens[ i - 2 ].type === \" \" ? \"*\" : \"\" })\r\n\t\t\t\t\t).replace( rtrim, \"$1\" ),\r\n\t\t\t\t\tmatcher,\r\n\t\t\t\t\ti < j && matcherFromTokens( tokens.slice( i, j ) ),\r\n\t\t\t\t\tj < len && matcherFromTokens( (tokens = tokens.slice( j )) ),\r\n\t\t\t\t\tj < len && toSelector( tokens )\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\tmatchers.push( matcher );\r\n\t\t}\r\n\t}\r\n\r\n\treturn elementMatcher( matchers );\r\n}\r\n\r\nfunction matcherFromGroupMatchers( elementMatchers, setMatchers ) {\r\n\tvar bySet = setMatchers.length > 0,\r\n\t\tbyElement = elementMatchers.length > 0,\r\n\t\tsuperMatcher = function( seed, context, xml, results, outermost ) {\r\n\t\t\tvar elem, j, matcher,\r\n\t\t\t\tmatchedCount = 0,\r\n\t\t\t\ti = \"0\",\r\n\t\t\t\tunmatched = seed && [],\r\n\t\t\t\tsetMatched = [],\r\n\t\t\t\tcontextBackup = outermostContext,\r\n\t\t\t\t// We must always have either seed elements or outermost context\r\n\t\t\t\telems = seed || byElement && Expr.find[\"TAG\"]( \"*\", outermost ),\r\n\t\t\t\t// Use integer dirruns iff this is the outermost matcher\r\n\t\t\t\tdirrunsUnique = (dirruns += contextBackup == null ? 1 : Math.random() || 0.1),\r\n\t\t\t\tlen = elems.length;\r\n\r\n\t\t\tif ( outermost ) {\r\n\t\t\t\toutermostContext = context !== document && context;\r\n\t\t\t}\r\n\r\n\t\t\t// Add elements passing elementMatchers directly to results\r\n\t\t\t// Keep `i` a string if there are no elements so `matchedCount` will be \"00\" below\r\n\t\t\t// Support: IE<9, Safari\r\n\t\t\t// Tolerate NodeList properties (IE: \"length\"; Safari: <number>) matching elements by id\r\n\t\t\tfor ( ; i !== len && (elem = elems[i]) != null; i++ ) {\r\n\t\t\t\tif ( byElement && elem ) {\r\n\t\t\t\t\tj = 0;\r\n\t\t\t\t\twhile ( (matcher = elementMatchers[j++]) ) {\r\n\t\t\t\t\t\tif ( matcher( elem, context, xml ) ) {\r\n\t\t\t\t\t\t\tresults.push( elem );\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( outermost ) {\r\n\t\t\t\t\t\tdirruns = dirrunsUnique;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Track unmatched elements for set filters\r\n\t\t\t\tif ( bySet ) {\r\n\t\t\t\t\t// They will have gone through all possible matchers\r\n\t\t\t\t\tif ( (elem = !matcher && elem) ) {\r\n\t\t\t\t\t\tmatchedCount--;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Lengthen the array for every element, matched or not\r\n\t\t\t\t\tif ( seed ) {\r\n\t\t\t\t\t\tunmatched.push( elem );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Apply set filters to unmatched elements\r\n\t\t\tmatchedCount += i;\r\n\t\t\tif ( bySet && i !== matchedCount ) {\r\n\t\t\t\tj = 0;\r\n\t\t\t\twhile ( (matcher = setMatchers[j++]) ) {\r\n\t\t\t\t\tmatcher( unmatched, setMatched, context, xml );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( seed ) {\r\n\t\t\t\t\t// Reintegrate element matches to eliminate the need for sorting\r\n\t\t\t\t\tif ( matchedCount > 0 ) {\r\n\t\t\t\t\t\twhile ( i-- ) {\r\n\t\t\t\t\t\t\tif ( !(unmatched[i] || setMatched[i]) ) {\r\n\t\t\t\t\t\t\t\tsetMatched[i] = pop.call( results );\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Discard index placeholder values to get only actual matches\r\n\t\t\t\t\tsetMatched = condense( setMatched );\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Add matches to results\r\n\t\t\t\tpush.apply( results, setMatched );\r\n\r\n\t\t\t\t// Seedless set matches succeeding multiple successful matchers stipulate sorting\r\n\t\t\t\tif ( outermost && !seed && setMatched.length > 0 &&\r\n\t\t\t\t\t( matchedCount + setMatchers.length ) > 1 ) {\r\n\r\n\t\t\t\t\tSizzle.uniqueSort( results );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Override manipulation of globals by nested matchers\r\n\t\t\tif ( outermost ) {\r\n\t\t\t\tdirruns = dirrunsUnique;\r\n\t\t\t\toutermostContext = contextBackup;\r\n\t\t\t}\r\n\r\n\t\t\treturn unmatched;\r\n\t\t};\r\n\r\n\treturn bySet ?\r\n\t\tmarkFunction( superMatcher ) :\r\n\t\tsuperMatcher;\r\n}\r\n\r\ncompile = Sizzle.compile = function( selector, match /* Internal Use Only */ ) {\r\n\tvar i,\r\n\t\tsetMatchers = [],\r\n\t\telementMatchers = [],\r\n\t\tcached = compilerCache[ selector + \" \" ];\r\n\r\n\tif ( !cached ) {\r\n\t\t// Generate a function of recursive functions that can be used to check each element\r\n\t\tif ( !match ) {\r\n\t\t\tmatch = tokenize( selector );\r\n\t\t}\r\n\t\ti = match.length;\r\n\t\twhile ( i-- ) {\r\n\t\t\tcached = matcherFromTokens( match[i] );\r\n\t\t\tif ( cached[ expando ] ) {\r\n\t\t\t\tsetMatchers.push( cached );\r\n\t\t\t} else {\r\n\t\t\t\telementMatchers.push( cached );\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Cache the compiled function\r\n\t\tcached = compilerCache( selector, matcherFromGroupMatchers( elementMatchers, setMatchers ) );\r\n\r\n\t\t// Save selector and tokenization\r\n\t\tcached.selector = selector;\r\n\t}\r\n\treturn cached;\r\n};\r\n\r\n/**\r\n * A low-level selection function that works with Sizzle's compiled\r\n *  selector functions\r\n * @param {String|Function} selector A selector or a pre-compiled\r\n *  selector function built with Sizzle.compile\r\n * @param {Element} context\r\n * @param {Array} [results]\r\n * @param {Array} [seed] A set of elements to match against\r\n */\r\nselect = Sizzle.select = function( selector, context, results, seed ) {\r\n\tvar i, tokens, token, type, find,\r\n\t\tcompiled = typeof selector === \"function\" && selector,\r\n\t\tmatch = !seed && tokenize( (selector = compiled.selector || selector) );\r\n\r\n\tresults = results || [];\r\n\r\n\t// Try to minimize operations if there is no seed and only one group\r\n\tif ( match.length === 1 ) {\r\n\r\n\t\t// Take a shortcut and set the context if the root selector is an ID\r\n\t\ttokens = match[0] = match[0].slice( 0 );\r\n\t\tif ( tokens.length > 2 && (token = tokens[0]).type === \"ID\" &&\r\n\t\t\t\tsupport.getById && context.nodeType === 9 && documentIsHTML &&\r\n\t\t\t\tExpr.relative[ tokens[1].type ] ) {\r\n\r\n\t\t\tcontext = ( Expr.find[\"ID\"]( token.matches[0].replace(runescape, funescape), context ) || [] )[0];\r\n\t\t\tif ( !context ) {\r\n\t\t\t\treturn results;\r\n\r\n\t\t\t// Precompiled matchers will still verify ancestry, so step up a level\r\n\t\t\t} else if ( compiled ) {\r\n\t\t\t\tcontext = context.parentNode;\r\n\t\t\t}\r\n\r\n\t\t\tselector = selector.slice( tokens.shift().value.length );\r\n\t\t}\r\n\r\n\t\t// Fetch a seed set for right-to-left matching\r\n\t\ti = matchExpr[\"needsContext\"].test( selector ) ? 0 : tokens.length;\r\n\t\twhile ( i-- ) {\r\n\t\t\ttoken = tokens[i];\r\n\r\n\t\t\t// Abort if we hit a combinator\r\n\t\t\tif ( Expr.relative[ (type = token.type) ] ) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tif ( (find = Expr.find[ type ]) ) {\r\n\t\t\t\t// Search, expanding context for leading sibling combinators\r\n\t\t\t\tif ( (seed = find(\r\n\t\t\t\t\ttoken.matches[0].replace( runescape, funescape ),\r\n\t\t\t\t\trsibling.test( tokens[0].type ) && testContext( context.parentNode ) || context\r\n\t\t\t\t)) ) {\r\n\r\n\t\t\t\t\t// If seed is empty or no tokens remain, we can return early\r\n\t\t\t\t\ttokens.splice( i, 1 );\r\n\t\t\t\t\tselector = seed.length && toSelector( tokens );\r\n\t\t\t\t\tif ( !selector ) {\r\n\t\t\t\t\t\tpush.apply( results, seed );\r\n\t\t\t\t\t\treturn results;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// Compile and execute a filtering function if one is not provided\r\n\t// Provide `match` to avoid retokenization if we modified the selector above\r\n\t( compiled || compile( selector, match ) )(\r\n\t\tseed,\r\n\t\tcontext,\r\n\t\t!documentIsHTML,\r\n\t\tresults,\r\n\t\trsibling.test( selector ) && testContext( context.parentNode ) || context\r\n\t);\r\n\treturn results;\r\n};\r\n\r\n// One-time assignments\r\n\r\n// Sort stability\r\nsupport.sortStable = expando.split(\"\").sort( sortOrder ).join(\"\") === expando;\r\n\r\n// Support: Chrome<14\r\n// Always assume duplicates if they aren't passed to the comparison function\r\nsupport.detectDuplicates = !!hasDuplicate;\r\n\r\n// Initialize against the default document\r\nsetDocument();\r\n\r\n// Support: Webkit<537.32 - Safari 6.0.3/Chrome 25 (fixed in Chrome 27)\r\n// Detached nodes confoundingly follow *each other*\r\nsupport.sortDetached = assert(function( div1 ) {\r\n\t// Should return 1, but returns 4 (following)\r\n\treturn div1.compareDocumentPosition( document.createElement(\"div\") ) & 1;\r\n});\r\n\r\n// Support: IE<8\r\n// Prevent attribute/property \"interpolation\"\r\n// http://msdn.microsoft.com/en-us/library/ms536429%28VS.85%29.aspx\r\nif ( !assert(function( div ) {\r\n\tdiv.innerHTML = \"<a href='#'></a>\";\r\n\treturn div.firstChild.getAttribute(\"href\") === \"#\" ;\r\n}) ) {\r\n\taddHandle( \"type|href|height|width\", function( elem, name, isXML ) {\r\n\t\tif ( !isXML ) {\r\n\t\t\treturn elem.getAttribute( name, name.toLowerCase() === \"type\" ? 1 : 2 );\r\n\t\t}\r\n\t});\r\n}\r\n\r\n// Support: IE<9\r\n// Use defaultValue in place of getAttribute(\"value\")\r\nif ( !support.attributes || !assert(function( div ) {\r\n\tdiv.innerHTML = \"<input/>\";\r\n\tdiv.firstChild.setAttribute( \"value\", \"\" );\r\n\treturn div.firstChild.getAttribute( \"value\" ) === \"\";\r\n}) ) {\r\n\taddHandle( \"value\", function( elem, name, isXML ) {\r\n\t\tif ( !isXML && elem.nodeName.toLowerCase() === \"input\" ) {\r\n\t\t\treturn elem.defaultValue;\r\n\t\t}\r\n\t});\r\n}\r\n\r\n// Support: IE<9\r\n// Use getAttributeNode to fetch booleans when getAttribute lies\r\nif ( !assert(function( div ) {\r\n\treturn div.getAttribute(\"disabled\") == null;\r\n}) ) {\r\n\taddHandle( booleans, function( elem, name, isXML ) {\r\n\t\tvar val;\r\n\t\tif ( !isXML ) {\r\n\t\t\treturn elem[ name ] === true ? name.toLowerCase() :\r\n\t\t\t\t\t(val = elem.getAttributeNode( name )) && val.specified ?\r\n\t\t\t\t\tval.value :\r\n\t\t\t\tnull;\r\n\t\t}\r\n\t});\r\n}\r\n\r\nreturn Sizzle;\r\n\r\n})( window );\r\n\r\n\r\n\r\njQuery.find = Sizzle;\r\njQuery.expr = Sizzle.selectors;\r\njQuery.expr[\":\"] = jQuery.expr.pseudos;\r\njQuery.unique = Sizzle.uniqueSort;\r\njQuery.text = Sizzle.getText;\r\njQuery.isXMLDoc = Sizzle.isXML;\r\njQuery.contains = Sizzle.contains;\r\n\r\n\r\n\r\nvar rneedsContext = jQuery.expr.match.needsContext;\r\n\r\nvar rsingleTag = (/^<(\\w+)\\s*\\/?>(?:<\\/\\1>|)$/);\r\n\r\n\r\n\r\nvar risSimple = /^.[^:#\\[\\.,]*$/;\r\n\r\n// Implement the identical functionality for filter and not\r\nfunction winnow( elements, qualifier, not ) {\r\n\tif ( jQuery.isFunction( qualifier ) ) {\r\n\t\treturn jQuery.grep( elements, function( elem, i ) {\r\n\t\t\t/* jshint -W018 */\r\n\t\t\treturn !!qualifier.call( elem, i, elem ) !== not;\r\n\t\t});\r\n\r\n\t}\r\n\r\n\tif ( qualifier.nodeType ) {\r\n\t\treturn jQuery.grep( elements, function( elem ) {\r\n\t\t\treturn ( elem === qualifier ) !== not;\r\n\t\t});\r\n\r\n\t}\r\n\r\n\tif ( typeof qualifier === \"string\" ) {\r\n\t\tif ( risSimple.test( qualifier ) ) {\r\n\t\t\treturn jQuery.filter( qualifier, elements, not );\r\n\t\t}\r\n\r\n\t\tqualifier = jQuery.filter( qualifier, elements );\r\n\t}\r\n\r\n\treturn jQuery.grep( elements, function( elem ) {\r\n\t\treturn ( indexOf.call( qualifier, elem ) >= 0 ) !== not;\r\n\t});\r\n}\r\n\r\njQuery.filter = function( expr, elems, not ) {\r\n\tvar elem = elems[ 0 ];\r\n\r\n\tif ( not ) {\r\n\t\texpr = \":not(\" + expr + \")\";\r\n\t}\r\n\r\n\treturn elems.length === 1 && elem.nodeType === 1 ?\r\n\t\tjQuery.find.matchesSelector( elem, expr ) ? [ elem ] : [] :\r\n\t\tjQuery.find.matches( expr, jQuery.grep( elems, function( elem ) {\r\n\t\t\treturn elem.nodeType === 1;\r\n\t\t}));\r\n};\r\n\r\njQuery.fn.extend({\r\n\tfind: function( selector ) {\r\n\t\tvar i,\r\n\t\t\tlen = this.length,\r\n\t\t\tret = [],\r\n\t\t\tself = this;\r\n\r\n\t\tif ( typeof selector !== \"string\" ) {\r\n\t\t\treturn this.pushStack( jQuery( selector ).filter(function() {\r\n\t\t\t\tfor ( i = 0; i < len; i++ ) {\r\n\t\t\t\t\tif ( jQuery.contains( self[ i ], this ) ) {\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}) );\r\n\t\t}\r\n\r\n\t\tfor ( i = 0; i < len; i++ ) {\r\n\t\t\tjQuery.find( selector, self[ i ], ret );\r\n\t\t}\r\n\r\n\t\t// Needed because $( selector, context ) becomes $( context ).find( selector )\r\n\t\tret = this.pushStack( len > 1 ? jQuery.unique( ret ) : ret );\r\n\t\tret.selector = this.selector ? this.selector + \" \" + selector : selector;\r\n\t\treturn ret;\r\n\t},\r\n\tfilter: function( selector ) {\r\n\t\treturn this.pushStack( winnow(this, selector || [], false) );\r\n\t},\r\n\tnot: function( selector ) {\r\n\t\treturn this.pushStack( winnow(this, selector || [], true) );\r\n\t},\r\n\tis: function( selector ) {\r\n\t\treturn !!winnow(\r\n\t\t\tthis,\r\n\r\n\t\t\t// If this is a positional/relative selector, check membership in the returned set\r\n\t\t\t// so $(\"p:first\").is(\"p:last\") won't return true for a doc with two \"p\".\r\n\t\t\ttypeof selector === \"string\" && rneedsContext.test( selector ) ?\r\n\t\t\t\tjQuery( selector ) :\r\n\t\t\t\tselector || [],\r\n\t\t\tfalse\r\n\t\t).length;\r\n\t}\r\n});\r\n\r\n\r\n// Initialize a jQuery object\r\n\r\n\r\n// A central reference to the root jQuery(document)\r\nvar rootjQuery,\r\n\r\n\t// A simple way to check for HTML strings\r\n\t// Prioritize #id over <tag> to avoid XSS via location.hash (#9521)\r\n\t// Strict HTML recognition (#11290: must start with <)\r\n\trquickExpr = /^(?:\\s*(<[\\w\\W]+>)[^>]*|#([\\w-]*))$/,\r\n\r\n\tinit = jQuery.fn.init = function( selector, context ) {\r\n\t\tvar match, elem;\r\n\r\n\t\t// HANDLE: $(\"\"), $(null), $(undefined), $(false)\r\n\t\tif ( !selector ) {\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t\t// Handle HTML strings\r\n\t\tif ( typeof selector === \"string\" ) {\r\n\t\t\tif ( selector[0] === \"<\" && selector[ selector.length - 1 ] === \">\" && selector.length >= 3 ) {\r\n\t\t\t\t// Assume that strings that start and end with <> are HTML and skip the regex check\r\n\t\t\t\tmatch = [ null, selector, null ];\r\n\r\n\t\t\t} else {\r\n\t\t\t\tmatch = rquickExpr.exec( selector );\r\n\t\t\t}\r\n\r\n\t\t\t// Match html or make sure no context is specified for #id\r\n\t\t\tif ( match && (match[1] || !context) ) {\r\n\r\n\t\t\t\t// HANDLE: $(html) -> $(array)\r\n\t\t\t\tif ( match[1] ) {\r\n\t\t\t\t\tcontext = context instanceof jQuery ? context[0] : context;\r\n\r\n\t\t\t\t\t// scripts is true for back-compat\r\n\t\t\t\t\t// Intentionally let the error be thrown if parseHTML is not present\r\n\t\t\t\t\tjQuery.merge( this, jQuery.parseHTML(\r\n\t\t\t\t\t\tmatch[1],\r\n\t\t\t\t\t\tcontext && context.nodeType ? context.ownerDocument || context : document,\r\n\t\t\t\t\t\ttrue\r\n\t\t\t\t\t) );\r\n\r\n\t\t\t\t\t// HANDLE: $(html, props)\r\n\t\t\t\t\tif ( rsingleTag.test( match[1] ) && jQuery.isPlainObject( context ) ) {\r\n\t\t\t\t\t\tfor ( match in context ) {\r\n\t\t\t\t\t\t\t// Properties of context are called as methods if possible\r\n\t\t\t\t\t\t\tif ( jQuery.isFunction( this[ match ] ) ) {\r\n\t\t\t\t\t\t\t\tthis[ match ]( context[ match ] );\r\n\r\n\t\t\t\t\t\t\t// ...and otherwise set as attributes\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.attr( match, context[ match ] );\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn this;\r\n\r\n\t\t\t\t// HANDLE: $(#id)\r\n\t\t\t\t} else {\r\n\t\t\t\t\telem = document.getElementById( match[2] );\r\n\r\n\t\t\t\t\t// Check parentNode to catch when Blackberry 4.6 returns\r\n\t\t\t\t\t// nodes that are no longer in the document #6963\r\n\t\t\t\t\tif ( elem && elem.parentNode ) {\r\n\t\t\t\t\t\t// Inject the element directly into the jQuery object\r\n\t\t\t\t\t\tthis.length = 1;\r\n\t\t\t\t\t\tthis[0] = elem;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis.context = document;\r\n\t\t\t\t\tthis.selector = selector;\r\n\t\t\t\t\treturn this;\r\n\t\t\t\t}\r\n\r\n\t\t\t// HANDLE: $(expr, $(...))\r\n\t\t\t} else if ( !context || context.jquery ) {\r\n\t\t\t\treturn ( context || rootjQuery ).find( selector );\r\n\r\n\t\t\t// HANDLE: $(expr, context)\r\n\t\t\t// (which is just equivalent to: $(context).find(expr)\r\n\t\t\t} else {\r\n\t\t\t\treturn this.constructor( context ).find( selector );\r\n\t\t\t}\r\n\r\n\t\t// HANDLE: $(DOMElement)\r\n\t\t} else if ( selector.nodeType ) {\r\n\t\t\tthis.context = this[0] = selector;\r\n\t\t\tthis.length = 1;\r\n\t\t\treturn this;\r\n\r\n\t\t// HANDLE: $(function)\r\n\t\t// Shortcut for document ready\r\n\t\t} else if ( jQuery.isFunction( selector ) ) {\r\n\t\t\treturn typeof rootjQuery.ready !== \"undefined\" ?\r\n\t\t\t\trootjQuery.ready( selector ) :\r\n\t\t\t\t// Execute immediately if ready is not present\r\n\t\t\t\tselector( jQuery );\r\n\t\t}\r\n\r\n\t\tif ( selector.selector !== undefined ) {\r\n\t\t\tthis.selector = selector.selector;\r\n\t\t\tthis.context = selector.context;\r\n\t\t}\r\n\r\n\t\treturn jQuery.makeArray( selector, this );\r\n\t};\r\n\r\n// Give the init function the jQuery prototype for later instantiation\r\ninit.prototype = jQuery.fn;\r\n\r\n// Initialize central reference\r\nrootjQuery = jQuery( document );\r\n\r\n\r\nvar rparentsprev = /^(?:parents|prev(?:Until|All))/,\r\n\t// methods guaranteed to produce a unique set when starting from a unique set\r\n\tguaranteedUnique = {\r\n\t\tchildren: true,\r\n\t\tcontents: true,\r\n\t\tnext: true,\r\n\t\tprev: true\r\n\t};\r\n\r\njQuery.extend({\r\n\tdir: function( elem, dir, until ) {\r\n\t\tvar matched = [],\r\n\t\t\ttruncate = until !== undefined;\r\n\r\n\t\twhile ( (elem = elem[ dir ]) && elem.nodeType !== 9 ) {\r\n\t\t\tif ( elem.nodeType === 1 ) {\r\n\t\t\t\tif ( truncate && jQuery( elem ).is( until ) ) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tmatched.push( elem );\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn matched;\r\n\t},\r\n\r\n\tsibling: function( n, elem ) {\r\n\t\tvar matched = [];\r\n\r\n\t\tfor ( ; n; n = n.nextSibling ) {\r\n\t\t\tif ( n.nodeType === 1 && n !== elem ) {\r\n\t\t\t\tmatched.push( n );\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn matched;\r\n\t}\r\n});\r\n\r\njQuery.fn.extend({\r\n\thas: function( target ) {\r\n\t\tvar targets = jQuery( target, this ),\r\n\t\t\tl = targets.length;\r\n\r\n\t\treturn this.filter(function() {\r\n\t\t\tvar i = 0;\r\n\t\t\tfor ( ; i < l; i++ ) {\r\n\t\t\t\tif ( jQuery.contains( this, targets[i] ) ) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\r\n\tclosest: function( selectors, context ) {\r\n\t\tvar cur,\r\n\t\t\ti = 0,\r\n\t\t\tl = this.length,\r\n\t\t\tmatched = [],\r\n\t\t\tpos = rneedsContext.test( selectors ) || typeof selectors !== \"string\" ?\r\n\t\t\t\tjQuery( selectors, context || this.context ) :\r\n\t\t\t\t0;\r\n\r\n\t\tfor ( ; i < l; i++ ) {\r\n\t\t\tfor ( cur = this[i]; cur && cur !== context; cur = cur.parentNode ) {\r\n\t\t\t\t// Always skip document fragments\r\n\t\t\t\tif ( cur.nodeType < 11 && (pos ?\r\n\t\t\t\t\tpos.index(cur) > -1 :\r\n\r\n\t\t\t\t\t// Don't pass non-elements to Sizzle\r\n\t\t\t\t\tcur.nodeType === 1 &&\r\n\t\t\t\t\t\tjQuery.find.matchesSelector(cur, selectors)) ) {\r\n\r\n\t\t\t\t\tmatched.push( cur );\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn this.pushStack( matched.length > 1 ? jQuery.unique( matched ) : matched );\r\n\t},\r\n\r\n\t// Determine the position of an element within\r\n\t// the matched set of elements\r\n\tindex: function( elem ) {\r\n\r\n\t\t// No argument, return index in parent\r\n\t\tif ( !elem ) {\r\n\t\t\treturn ( this[ 0 ] && this[ 0 ].parentNode ) ? this.first().prevAll().length : -1;\r\n\t\t}\r\n\r\n\t\t// index in selector\r\n\t\tif ( typeof elem === \"string\" ) {\r\n\t\t\treturn indexOf.call( jQuery( elem ), this[ 0 ] );\r\n\t\t}\r\n\r\n\t\t// Locate the position of the desired element\r\n\t\treturn indexOf.call( this,\r\n\r\n\t\t\t// If it receives a jQuery object, the first element is used\r\n\t\t\telem.jquery ? elem[ 0 ] : elem\r\n\t\t);\r\n\t},\r\n\r\n\tadd: function( selector, context ) {\r\n\t\treturn this.pushStack(\r\n\t\t\tjQuery.unique(\r\n\t\t\t\tjQuery.merge( this.get(), jQuery( selector, context ) )\r\n\t\t\t)\r\n\t\t);\r\n\t},\r\n\r\n\taddBack: function( selector ) {\r\n\t\treturn this.add( selector == null ?\r\n\t\t\tthis.prevObject : this.prevObject.filter(selector)\r\n\t\t);\r\n\t}\r\n});\r\n\r\nfunction sibling( cur, dir ) {\r\n\twhile ( (cur = cur[dir]) && cur.nodeType !== 1 ) {}\r\n\treturn cur;\r\n}\r\n\r\njQuery.each({\r\n\tparent: function( elem ) {\r\n\t\tvar parent = elem.parentNode;\r\n\t\treturn parent && parent.nodeType !== 11 ? parent : null;\r\n\t},\r\n\tparents: function( elem ) {\r\n\t\treturn jQuery.dir( elem, \"parentNode\" );\r\n\t},\r\n\tparentsUntil: function( elem, i, until ) {\r\n\t\treturn jQuery.dir( elem, \"parentNode\", until );\r\n\t},\r\n\tnext: function( elem ) {\r\n\t\treturn sibling( elem, \"nextSibling\" );\r\n\t},\r\n\tprev: function( elem ) {\r\n\t\treturn sibling( elem, \"previousSibling\" );\r\n\t},\r\n\tnextAll: function( elem ) {\r\n\t\treturn jQuery.dir( elem, \"nextSibling\" );\r\n\t},\r\n\tprevAll: function( elem ) {\r\n\t\treturn jQuery.dir( elem, \"previousSibling\" );\r\n\t},\r\n\tnextUntil: function( elem, i, until ) {\r\n\t\treturn jQuery.dir( elem, \"nextSibling\", until );\r\n\t},\r\n\tprevUntil: function( elem, i, until ) {\r\n\t\treturn jQuery.dir( elem, \"previousSibling\", until );\r\n\t},\r\n\tsiblings: function( elem ) {\r\n\t\treturn jQuery.sibling( ( elem.parentNode || {} ).firstChild, elem );\r\n\t},\r\n\tchildren: function( elem ) {\r\n\t\treturn jQuery.sibling( elem.firstChild );\r\n\t},\r\n\tcontents: function( elem ) {\r\n\t\treturn elem.contentDocument || jQuery.merge( [], elem.childNodes );\r\n\t}\r\n}, function( name, fn ) {\r\n\tjQuery.fn[ name ] = function( until, selector ) {\r\n\t\tvar matched = jQuery.map( this, fn, until );\r\n\r\n\t\tif ( name.slice( -5 ) !== \"Until\" ) {\r\n\t\t\tselector = until;\r\n\t\t}\r\n\r\n\t\tif ( selector && typeof selector === \"string\" ) {\r\n\t\t\tmatched = jQuery.filter( selector, matched );\r\n\t\t}\r\n\r\n\t\tif ( this.length > 1 ) {\r\n\t\t\t// Remove duplicates\r\n\t\t\tif ( !guaranteedUnique[ name ] ) {\r\n\t\t\t\tjQuery.unique( matched );\r\n\t\t\t}\r\n\r\n\t\t\t// Reverse order for parents* and prev-derivatives\r\n\t\t\tif ( rparentsprev.test( name ) ) {\r\n\t\t\t\tmatched.reverse();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn this.pushStack( matched );\r\n\t};\r\n});\r\nvar rnotwhite = (/\\S+/g);\r\n\r\n\r\n\r\n// String to Object options format cache\r\nvar optionsCache = {};\r\n\r\n// Convert String-formatted options into Object-formatted ones and store in cache\r\nfunction createOptions( options ) {\r\n\tvar object = optionsCache[ options ] = {};\r\n\tjQuery.each( options.match( rnotwhite ) || [], function( _, flag ) {\r\n\t\tobject[ flag ] = true;\r\n\t});\r\n\treturn object;\r\n}\r\n\r\n/*\r\n * Create a callback list using the following parameters:\r\n *\r\n *\toptions: an optional list of space-separated options that will change how\r\n *\t\t\tthe callback list behaves or a more traditional option object\r\n *\r\n * By default a callback list will act like an event callback list and can be\r\n * \"fired\" multiple times.\r\n *\r\n * Possible options:\r\n *\r\n *\tonce:\t\t\twill ensure the callback list can only be fired once (like a Deferred)\r\n *\r\n *\tmemory:\t\t\twill keep track of previous values and will call any callback added\r\n *\t\t\t\t\tafter the list has been fired right away with the latest \"memorized\"\r\n *\t\t\t\t\tvalues (like a Deferred)\r\n *\r\n *\tunique:\t\t\twill ensure a callback can only be added once (no duplicate in the list)\r\n *\r\n *\tstopOnFalse:\tinterrupt callings when a callback returns false\r\n *\r\n */\r\njQuery.Callbacks = function( options ) {\r\n\r\n\t// Convert options from String-formatted to Object-formatted if needed\r\n\t// (we check in cache first)\r\n\toptions = typeof options === \"string\" ?\r\n\t\t( optionsCache[ options ] || createOptions( options ) ) :\r\n\t\tjQuery.extend( {}, options );\r\n\r\n\tvar // Last fire value (for non-forgettable lists)\r\n\t\tmemory,\r\n\t\t// Flag to know if list was already fired\r\n\t\tfired,\r\n\t\t// Flag to know if list is currently firing\r\n\t\tfiring,\r\n\t\t// First callback to fire (used internally by add and fireWith)\r\n\t\tfiringStart,\r\n\t\t// End of the loop when firing\r\n\t\tfiringLength,\r\n\t\t// Index of currently firing callback (modified by remove if needed)\r\n\t\tfiringIndex,\r\n\t\t// Actual callback list\r\n\t\tlist = [],\r\n\t\t// Stack of fire calls for repeatable lists\r\n\t\tstack = !options.once && [],\r\n\t\t// Fire callbacks\r\n\t\tfire = function( data ) {\r\n\t\t\tmemory = options.memory && data;\r\n\t\t\tfired = true;\r\n\t\t\tfiringIndex = firingStart || 0;\r\n\t\t\tfiringStart = 0;\r\n\t\t\tfiringLength = list.length;\r\n\t\t\tfiring = true;\r\n\t\t\tfor ( ; list && firingIndex < firingLength; firingIndex++ ) {\r\n\t\t\t\tif ( list[ firingIndex ].apply( data[ 0 ], data[ 1 ] ) === false && options.stopOnFalse ) {\r\n\t\t\t\t\tmemory = false; // To prevent further calls using add\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tfiring = false;\r\n\t\t\tif ( list ) {\r\n\t\t\t\tif ( stack ) {\r\n\t\t\t\t\tif ( stack.length ) {\r\n\t\t\t\t\t\tfire( stack.shift() );\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if ( memory ) {\r\n\t\t\t\t\tlist = [];\r\n\t\t\t\t} else {\r\n\t\t\t\t\tself.disable();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t// Actual Callbacks object\r\n\t\tself = {\r\n\t\t\t// Add a callback or a collection of callbacks to the list\r\n\t\t\tadd: function() {\r\n\t\t\t\tif ( list ) {\r\n\t\t\t\t\t// First, we save the current length\r\n\t\t\t\t\tvar start = list.length;\r\n\t\t\t\t\t(function add( args ) {\r\n\t\t\t\t\t\tjQuery.each( args, function( _, arg ) {\r\n\t\t\t\t\t\t\tvar type = jQuery.type( arg );\r\n\t\t\t\t\t\t\tif ( type === \"function\" ) {\r\n\t\t\t\t\t\t\t\tif ( !options.unique || !self.has( arg ) ) {\r\n\t\t\t\t\t\t\t\t\tlist.push( arg );\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else if ( arg && arg.length && type !== \"string\" ) {\r\n\t\t\t\t\t\t\t\t// Inspect recursively\r\n\t\t\t\t\t\t\t\tadd( arg );\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t})( arguments );\r\n\t\t\t\t\t// Do we need to add the callbacks to the\r\n\t\t\t\t\t// current firing batch?\r\n\t\t\t\t\tif ( firing ) {\r\n\t\t\t\t\t\tfiringLength = list.length;\r\n\t\t\t\t\t// With memory, if we're not firing then\r\n\t\t\t\t\t// we should call right away\r\n\t\t\t\t\t} else if ( memory ) {\r\n\t\t\t\t\t\tfiringStart = start;\r\n\t\t\t\t\t\tfire( memory );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn this;\r\n\t\t\t},\r\n\t\t\t// Remove a callback from the list\r\n\t\t\tremove: function() {\r\n\t\t\t\tif ( list ) {\r\n\t\t\t\t\tjQuery.each( arguments, function( _, arg ) {\r\n\t\t\t\t\t\tvar index;\r\n\t\t\t\t\t\twhile ( ( index = jQuery.inArray( arg, list, index ) ) > -1 ) {\r\n\t\t\t\t\t\t\tlist.splice( index, 1 );\r\n\t\t\t\t\t\t\t// Handle firing indexes\r\n\t\t\t\t\t\t\tif ( firing ) {\r\n\t\t\t\t\t\t\t\tif ( index <= firingLength ) {\r\n\t\t\t\t\t\t\t\t\tfiringLength--;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif ( index <= firingIndex ) {\r\n\t\t\t\t\t\t\t\t\tfiringIndex--;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\treturn this;\r\n\t\t\t},\r\n\t\t\t// Check if a given callback is in the list.\r\n\t\t\t// If no argument is given, return whether or not list has callbacks attached.\r\n\t\t\thas: function( fn ) {\r\n\t\t\t\treturn fn ? jQuery.inArray( fn, list ) > -1 : !!( list && list.length );\r\n\t\t\t},\r\n\t\t\t// Remove all callbacks from the list\r\n\t\t\tempty: function() {\r\n\t\t\t\tlist = [];\r\n\t\t\t\tfiringLength = 0;\r\n\t\t\t\treturn this;\r\n\t\t\t},\r\n\t\t\t// Have the list do nothing anymore\r\n\t\t\tdisable: function() {\r\n\t\t\t\tlist = stack = memory = undefined;\r\n\t\t\t\treturn this;\r\n\t\t\t},\r\n\t\t\t// Is it disabled?\r\n\t\t\tdisabled: function() {\r\n\t\t\t\treturn !list;\r\n\t\t\t},\r\n\t\t\t// Lock the list in its current state\r\n\t\t\tlock: function() {\r\n\t\t\t\tstack = undefined;\r\n\t\t\t\tif ( !memory ) {\r\n\t\t\t\t\tself.disable();\r\n\t\t\t\t}\r\n\t\t\t\treturn this;\r\n\t\t\t},\r\n\t\t\t// Is it locked?\r\n\t\t\tlocked: function() {\r\n\t\t\t\treturn !stack;\r\n\t\t\t},\r\n\t\t\t// Call all callbacks with the given context and arguments\r\n\t\t\tfireWith: function( context, args ) {\r\n\t\t\t\tif ( list && ( !fired || stack ) ) {\r\n\t\t\t\t\targs = args || [];\r\n\t\t\t\t\targs = [ context, args.slice ? args.slice() : args ];\r\n\t\t\t\t\tif ( firing ) {\r\n\t\t\t\t\t\tstack.push( args );\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tfire( args );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn this;\r\n\t\t\t},\r\n\t\t\t// Call all the callbacks with the given arguments\r\n\t\t\tfire: function() {\r\n\t\t\t\tself.fireWith( this, arguments );\r\n\t\t\t\treturn this;\r\n\t\t\t},\r\n\t\t\t// To know if the callbacks have already been called at least once\r\n\t\t\tfired: function() {\r\n\t\t\t\treturn !!fired;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\treturn self;\r\n};\r\n\r\n\r\njQuery.extend({\r\n\r\n\tDeferred: function( func ) {\r\n\t\tvar tuples = [\r\n\t\t\t\t// action, add listener, listener list, final state\r\n\t\t\t\t[ \"resolve\", \"done\", jQuery.Callbacks(\"once memory\"), \"resolved\" ],\r\n\t\t\t\t[ \"reject\", \"fail\", jQuery.Callbacks(\"once memory\"), \"rejected\" ],\r\n\t\t\t\t[ \"notify\", \"progress\", jQuery.Callbacks(\"memory\") ]\r\n\t\t\t],\r\n\t\t\tstate = \"pending\",\r\n\t\t\tpromise = {\r\n\t\t\t\tstate: function() {\r\n\t\t\t\t\treturn state;\r\n\t\t\t\t},\r\n\t\t\t\talways: function() {\r\n\t\t\t\t\tdeferred.done( arguments ).fail( arguments );\r\n\t\t\t\t\treturn this;\r\n\t\t\t\t},\r\n\t\t\t\tthen: function( /* fnDone, fnFail, fnProgress */ ) {\r\n\t\t\t\t\tvar fns = arguments;\r\n\t\t\t\t\treturn jQuery.Deferred(function( newDefer ) {\r\n\t\t\t\t\t\tjQuery.each( tuples, function( i, tuple ) {\r\n\t\t\t\t\t\t\tvar fn = jQuery.isFunction( fns[ i ] ) && fns[ i ];\r\n\t\t\t\t\t\t\t// deferred[ done | fail | progress ] for forwarding actions to newDefer\r\n\t\t\t\t\t\t\tdeferred[ tuple[1] ](function() {\r\n\t\t\t\t\t\t\t\tvar returned = fn && fn.apply( this, arguments );\r\n\t\t\t\t\t\t\t\tif ( returned && jQuery.isFunction( returned.promise ) ) {\r\n\t\t\t\t\t\t\t\t\treturned.promise()\r\n\t\t\t\t\t\t\t\t\t\t.done( newDefer.resolve )\r\n\t\t\t\t\t\t\t\t\t\t.fail( newDefer.reject )\r\n\t\t\t\t\t\t\t\t\t\t.progress( newDefer.notify );\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tnewDefer[ tuple[ 0 ] + \"With\" ]( this === promise ? newDefer.promise() : this, fn ? [ returned ] : arguments );\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tfns = null;\r\n\t\t\t\t\t}).promise();\r\n\t\t\t\t},\r\n\t\t\t\t// Get a promise for this deferred\r\n\t\t\t\t// If obj is provided, the promise aspect is added to the object\r\n\t\t\t\tpromise: function( obj ) {\r\n\t\t\t\t\treturn obj != null ? jQuery.extend( obj, promise ) : promise;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tdeferred = {};\r\n\r\n\t\t// Keep pipe for back-compat\r\n\t\tpromise.pipe = promise.then;\r\n\r\n\t\t// Add list-specific methods\r\n\t\tjQuery.each( tuples, function( i, tuple ) {\r\n\t\t\tvar list = tuple[ 2 ],\r\n\t\t\t\tstateString = tuple[ 3 ];\r\n\r\n\t\t\t// promise[ done | fail | progress ] = list.add\r\n\t\t\tpromise[ tuple[1] ] = list.add;\r\n\r\n\t\t\t// Handle state\r\n\t\t\tif ( stateString ) {\r\n\t\t\t\tlist.add(function() {\r\n\t\t\t\t\t// state = [ resolved | rejected ]\r\n\t\t\t\t\tstate = stateString;\r\n\r\n\t\t\t\t// [ reject_list | resolve_list ].disable; progress_list.lock\r\n\t\t\t\t}, tuples[ i ^ 1 ][ 2 ].disable, tuples[ 2 ][ 2 ].lock );\r\n\t\t\t}\r\n\r\n\t\t\t// deferred[ resolve | reject | notify ]\r\n\t\t\tdeferred[ tuple[0] ] = function() {\r\n\t\t\t\tdeferred[ tuple[0] + \"With\" ]( this === deferred ? promise : this, arguments );\r\n\t\t\t\treturn this;\r\n\t\t\t};\r\n\t\t\tdeferred[ tuple[0] + \"With\" ] = list.fireWith;\r\n\t\t});\r\n\r\n\t\t// Make the deferred a promise\r\n\t\tpromise.promise( deferred );\r\n\r\n\t\t// Call given func if any\r\n\t\tif ( func ) {\r\n\t\t\tfunc.call( deferred, deferred );\r\n\t\t}\r\n\r\n\t\t// All done!\r\n\t\treturn deferred;\r\n\t},\r\n\r\n\t// Deferred helper\r\n\twhen: function( subordinate /* , ..., subordinateN */ ) {\r\n\t\tvar i = 0,\r\n\t\t\tresolveValues = slice.call( arguments ),\r\n\t\t\tlength = resolveValues.length,\r\n\r\n\t\t\t// the count of uncompleted subordinates\r\n\t\t\tremaining = length !== 1 || ( subordinate && jQuery.isFunction( subordinate.promise ) ) ? length : 0,\r\n\r\n\t\t\t// the master Deferred. If resolveValues consist of only a single Deferred, just use that.\r\n\t\t\tdeferred = remaining === 1 ? subordinate : jQuery.Deferred(),\r\n\r\n\t\t\t// Update function for both resolve and progress values\r\n\t\t\tupdateFunc = function( i, contexts, values ) {\r\n\t\t\t\treturn function( value ) {\r\n\t\t\t\t\tcontexts[ i ] = this;\r\n\t\t\t\t\tvalues[ i ] = arguments.length > 1 ? slice.call( arguments ) : value;\r\n\t\t\t\t\tif ( values === progressValues ) {\r\n\t\t\t\t\t\tdeferred.notifyWith( contexts, values );\r\n\t\t\t\t\t} else if ( !( --remaining ) ) {\r\n\t\t\t\t\t\tdeferred.resolveWith( contexts, values );\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t},\r\n\r\n\t\t\tprogressValues, progressContexts, resolveContexts;\r\n\r\n\t\t// add listeners to Deferred subordinates; treat others as resolved\r\n\t\tif ( length > 1 ) {\r\n\t\t\tprogressValues = new Array( length );\r\n\t\t\tprogressContexts = new Array( length );\r\n\t\t\tresolveContexts = new Array( length );\r\n\t\t\tfor ( ; i < length; i++ ) {\r\n\t\t\t\tif ( resolveValues[ i ] && jQuery.isFunction( resolveValues[ i ].promise ) ) {\r\n\t\t\t\t\tresolveValues[ i ].promise()\r\n\t\t\t\t\t\t.done( updateFunc( i, resolveContexts, resolveValues ) )\r\n\t\t\t\t\t\t.fail( deferred.reject )\r\n\t\t\t\t\t\t.progress( updateFunc( i, progressContexts, progressValues ) );\r\n\t\t\t\t} else {\r\n\t\t\t\t\t--remaining;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// if we're not waiting on anything, resolve the master\r\n\t\tif ( !remaining ) {\r\n\t\t\tdeferred.resolveWith( resolveContexts, resolveValues );\r\n\t\t}\r\n\r\n\t\treturn deferred.promise();\r\n\t}\r\n});\r\n\r\n\r\n// The deferred used on DOM ready\r\nvar readyList;\r\n\r\njQuery.fn.ready = function( fn ) {\r\n\t// Add the callback\r\n\tjQuery.ready.promise().done( fn );\r\n\r\n\treturn this;\r\n};\r\n\r\njQuery.extend({\r\n\t// Is the DOM ready to be used? Set to true once it occurs.\r\n\tisReady: false,\r\n\r\n\t// A counter to track how many items to wait for before\r\n\t// the ready event fires. See #6781\r\n\treadyWait: 1,\r\n\r\n\t// Hold (or release) the ready event\r\n\tholdReady: function( hold ) {\r\n\t\tif ( hold ) {\r\n\t\t\tjQuery.readyWait++;\r\n\t\t} else {\r\n\t\t\tjQuery.ready( true );\r\n\t\t}\r\n\t},\r\n\r\n\t// Handle when the DOM is ready\r\n\tready: function( wait ) {\r\n\r\n\t\t// Abort if there are pending holds or we're already ready\r\n\t\tif ( wait === true ? --jQuery.readyWait : jQuery.isReady ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Remember that the DOM is ready\r\n\t\tjQuery.isReady = true;\r\n\r\n\t\t// If a normal DOM Ready event fired, decrement, and wait if need be\r\n\t\tif ( wait !== true && --jQuery.readyWait > 0 ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// If there are functions bound, to execute\r\n\t\treadyList.resolveWith( document, [ jQuery ] );\r\n\r\n\t\t// Trigger any bound ready events\r\n\t\tif ( jQuery.fn.triggerHandler ) {\r\n\t\t\tjQuery( document ).triggerHandler( \"ready\" );\r\n\t\t\tjQuery( document ).off( \"ready\" );\r\n\t\t}\r\n\t}\r\n});\r\n\r\n/**\r\n * The ready event handler and self cleanup method\r\n */\r\nfunction completed() {\r\n\tdocument.removeEventListener( \"DOMContentLoaded\", completed, false );\r\n\twindow.removeEventListener( \"load\", completed, false );\r\n\tjQuery.ready();\r\n}\r\n\r\njQuery.ready.promise = function( obj ) {\r\n\tif ( !readyList ) {\r\n\r\n\t\treadyList = jQuery.Deferred();\r\n\r\n\t\t// Catch cases where $(document).ready() is called after the browser event has already occurred.\r\n\t\t// we once tried to use readyState \"interactive\" here, but it caused issues like the one\r\n\t\t// discovered by ChrisS here: http://bugs.jquery.com/ticket/12282#comment:15\r\n\t\tif ( document.readyState === \"complete\" ) {\r\n\t\t\t// Handle it asynchronously to allow scripts the opportunity to delay ready\r\n\t\t\tsetTimeout( jQuery.ready );\r\n\r\n\t\t} else {\r\n\r\n\t\t\t// Use the handy event callback\r\n\t\t\tdocument.addEventListener( \"DOMContentLoaded\", completed, false );\r\n\r\n\t\t\t// A fallback to window.onload, that will always work\r\n\t\t\twindow.addEventListener( \"load\", completed, false );\r\n\t\t}\r\n\t}\r\n\treturn readyList.promise( obj );\r\n};\r\n\r\n// Kick off the DOM ready check even if the user does not\r\njQuery.ready.promise();\r\n\r\n\r\n\r\n\r\n// Multifunctional method to get and set values of a collection\r\n// The value/s can optionally be executed if it's a function\r\nvar access = jQuery.access = function( elems, fn, key, value, chainable, emptyGet, raw ) {\r\n\tvar i = 0,\r\n\t\tlen = elems.length,\r\n\t\tbulk = key == null;\r\n\r\n\t// Sets many values\r\n\tif ( jQuery.type( key ) === \"object\" ) {\r\n\t\tchainable = true;\r\n\t\tfor ( i in key ) {\r\n\t\t\tjQuery.access( elems, fn, i, key[i], true, emptyGet, raw );\r\n\t\t}\r\n\r\n\t// Sets one value\r\n\t} else if ( value !== undefined ) {\r\n\t\tchainable = true;\r\n\r\n\t\tif ( !jQuery.isFunction( value ) ) {\r\n\t\t\traw = true;\r\n\t\t}\r\n\r\n\t\tif ( bulk ) {\r\n\t\t\t// Bulk operations run against the entire set\r\n\t\t\tif ( raw ) {\r\n\t\t\t\tfn.call( elems, value );\r\n\t\t\t\tfn = null;\r\n\r\n\t\t\t// ...except when executing function values\r\n\t\t\t} else {\r\n\t\t\t\tbulk = fn;\r\n\t\t\t\tfn = function( elem, key, value ) {\r\n\t\t\t\t\treturn bulk.call( jQuery( elem ), value );\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif ( fn ) {\r\n\t\t\tfor ( ; i < len; i++ ) {\r\n\t\t\t\tfn( elems[i], key, raw ? value : value.call( elems[i], i, fn( elems[i], key ) ) );\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn chainable ?\r\n\t\telems :\r\n\r\n\t\t// Gets\r\n\t\tbulk ?\r\n\t\t\tfn.call( elems ) :\r\n\t\t\tlen ? fn( elems[0], key ) : emptyGet;\r\n};\r\n\r\n\r\n/**\r\n * Determines whether an object can have data\r\n */\r\njQuery.acceptData = function( owner ) {\r\n\t// Accepts only:\r\n\t//  - Node\r\n\t//    - Node.ELEMENT_NODE\r\n\t//    - Node.DOCUMENT_NODE\r\n\t//  - Object\r\n\t//    - Any\r\n\t/* jshint -W018 */\r\n\treturn owner.nodeType === 1 || owner.nodeType === 9 || !( +owner.nodeType );\r\n};\r\n\r\n\r\nfunction Data() {\r\n\t// Support: Android < 4,\r\n\t// Old WebKit does not have Object.preventExtensions/freeze method,\r\n\t// return new empty object instead with no [[set]] accessor\r\n\tObject.defineProperty( this.cache = {}, 0, {\r\n\t\tget: function() {\r\n\t\t\treturn {};\r\n\t\t}\r\n\t});\r\n\r\n\tthis.expando = jQuery.expando + Math.random();\r\n}\r\n\r\nData.uid = 1;\r\nData.accepts = jQuery.acceptData;\r\n\r\nData.prototype = {\r\n\tkey: function( owner ) {\r\n\t\t// We can accept data for non-element nodes in modern browsers,\r\n\t\t// but we should not, see #8335.\r\n\t\t// Always return the key for a frozen object.\r\n\t\tif ( !Data.accepts( owner ) ) {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\r\n\t\tvar descriptor = {},\r\n\t\t\t// Check if the owner object already has a cache key\r\n\t\t\tunlock = owner[ this.expando ];\r\n\r\n\t\t// If not, create one\r\n\t\tif ( !unlock ) {\r\n\t\t\tunlock = Data.uid++;\r\n\r\n\t\t\t// Secure it in a non-enumerable, non-writable property\r\n\t\t\ttry {\r\n\t\t\t\tdescriptor[ this.expando ] = { value: unlock };\r\n\t\t\t\tObject.defineProperties( owner, descriptor );\r\n\r\n\t\t\t// Support: Android < 4\r\n\t\t\t// Fallback to a less secure definition\r\n\t\t\t} catch ( e ) {\r\n\t\t\t\tdescriptor[ this.expando ] = unlock;\r\n\t\t\t\tjQuery.extend( owner, descriptor );\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Ensure the cache object\r\n\t\tif ( !this.cache[ unlock ] ) {\r\n\t\t\tthis.cache[ unlock ] = {};\r\n\t\t}\r\n\r\n\t\treturn unlock;\r\n\t},\r\n\tset: function( owner, data, value ) {\r\n\t\tvar prop,\r\n\t\t\t// There may be an unlock assigned to this node,\r\n\t\t\t// if there is no entry for this \"owner\", create one inline\r\n\t\t\t// and set the unlock as though an owner entry had always existed\r\n\t\t\tunlock = this.key( owner ),\r\n\t\t\tcache = this.cache[ unlock ];\r\n\r\n\t\t// Handle: [ owner, key, value ] args\r\n\t\tif ( typeof data === \"string\" ) {\r\n\t\t\tcache[ data ] = value;\r\n\r\n\t\t// Handle: [ owner, { properties } ] args\r\n\t\t} else {\r\n\t\t\t// Fresh assignments by object are shallow copied\r\n\t\t\tif ( jQuery.isEmptyObject( cache ) ) {\r\n\t\t\t\tjQuery.extend( this.cache[ unlock ], data );\r\n\t\t\t// Otherwise, copy the properties one-by-one to the cache object\r\n\t\t\t} else {\r\n\t\t\t\tfor ( prop in data ) {\r\n\t\t\t\t\tcache[ prop ] = data[ prop ];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn cache;\r\n\t},\r\n\tget: function( owner, key ) {\r\n\t\t// Either a valid cache is found, or will be created.\r\n\t\t// New caches will be created and the unlock returned,\r\n\t\t// allowing direct access to the newly created\r\n\t\t// empty data object. A valid owner object must be provided.\r\n\t\tvar cache = this.cache[ this.key( owner ) ];\r\n\r\n\t\treturn key === undefined ?\r\n\t\t\tcache : cache[ key ];\r\n\t},\r\n\taccess: function( owner, key, value ) {\r\n\t\tvar stored;\r\n\t\t// In cases where either:\r\n\t\t//\r\n\t\t//   1. No key was specified\r\n\t\t//   2. A string key was specified, but no value provided\r\n\t\t//\r\n\t\t// Take the \"read\" path and allow the get method to determine\r\n\t\t// which value to return, respectively either:\r\n\t\t//\r\n\t\t//   1. The entire cache object\r\n\t\t//   2. The data stored at the key\r\n\t\t//\r\n\t\tif ( key === undefined ||\r\n\t\t\t\t((key && typeof key === \"string\") && value === undefined) ) {\r\n\r\n\t\t\tstored = this.get( owner, key );\r\n\r\n\t\t\treturn stored !== undefined ?\r\n\t\t\t\tstored : this.get( owner, jQuery.camelCase(key) );\r\n\t\t}\r\n\r\n\t\t// [*]When the key is not a string, or both a key and value\r\n\t\t// are specified, set or extend (existing objects) with either:\r\n\t\t//\r\n\t\t//   1. An object of properties\r\n\t\t//   2. A key and value\r\n\t\t//\r\n\t\tthis.set( owner, key, value );\r\n\r\n\t\t// Since the \"set\" path can have two possible entry points\r\n\t\t// return the expected data based on which path was taken[*]\r\n\t\treturn value !== undefined ? value : key;\r\n\t},\r\n\tremove: function( owner, key ) {\r\n\t\tvar i, name, camel,\r\n\t\t\tunlock = this.key( owner ),\r\n\t\t\tcache = this.cache[ unlock ];\r\n\r\n\t\tif ( key === undefined ) {\r\n\t\t\tthis.cache[ unlock ] = {};\r\n\r\n\t\t} else {\r\n\t\t\t// Support array or space separated string of keys\r\n\t\t\tif ( jQuery.isArray( key ) ) {\r\n\t\t\t\t// If \"name\" is an array of keys...\r\n\t\t\t\t// When data is initially created, via (\"key\", \"val\") signature,\r\n\t\t\t\t// keys will be converted to camelCase.\r\n\t\t\t\t// Since there is no way to tell _how_ a key was added, remove\r\n\t\t\t\t// both plain key and camelCase key. #12786\r\n\t\t\t\t// This will only penalize the array argument path.\r\n\t\t\t\tname = key.concat( key.map( jQuery.camelCase ) );\r\n\t\t\t} else {\r\n\t\t\t\tcamel = jQuery.camelCase( key );\r\n\t\t\t\t// Try the string as a key before any manipulation\r\n\t\t\t\tif ( key in cache ) {\r\n\t\t\t\t\tname = [ key, camel ];\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// If a key with the spaces exists, use it.\r\n\t\t\t\t\t// Otherwise, create an array by matching non-whitespace\r\n\t\t\t\t\tname = camel;\r\n\t\t\t\t\tname = name in cache ?\r\n\t\t\t\t\t\t[ name ] : ( name.match( rnotwhite ) || [] );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\ti = name.length;\r\n\t\t\twhile ( i-- ) {\r\n\t\t\t\tdelete cache[ name[ i ] ];\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\thasData: function( owner ) {\r\n\t\treturn !jQuery.isEmptyObject(\r\n\t\t\tthis.cache[ owner[ this.expando ] ] || {}\r\n\t\t);\r\n\t},\r\n\tdiscard: function( owner ) {\r\n\t\tif ( owner[ this.expando ] ) {\r\n\t\t\tdelete this.cache[ owner[ this.expando ] ];\r\n\t\t}\r\n\t}\r\n};\r\nvar data_priv = new Data();\r\n\r\nvar data_user = new Data();\r\n\r\n\r\n\r\n/*\r\n\tImplementation Summary\r\n\r\n\t1. Enforce API surface and semantic compatibility with 1.9.x branch\r\n\t2. Improve the module's maintainability by reducing the storage\r\n\t\tpaths to a single mechanism.\r\n\t3. Use the same single mechanism to support \"private\" and \"user\" data.\r\n\t4. _Never_ expose \"private\" data to user code (TODO: Drop _data, _removeData)\r\n\t5. Avoid exposing implementation details on user objects (eg. expando properties)\r\n\t6. Provide a clear path for implementation upgrade to WeakMap in 2014\r\n*/\r\nvar rbrace = /^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/,\r\n\trmultiDash = /([A-Z])/g;\r\n\r\nfunction dataAttr( elem, key, data ) {\r\n\tvar name;\r\n\r\n\t// If nothing was found internally, try to fetch any\r\n\t// data from the HTML5 data-* attribute\r\n\tif ( data === undefined && elem.nodeType === 1 ) {\r\n\t\tname = \"data-\" + key.replace( rmultiDash, \"-$1\" ).toLowerCase();\r\n\t\tdata = elem.getAttribute( name );\r\n\r\n\t\tif ( typeof data === \"string\" ) {\r\n\t\t\ttry {\r\n\t\t\t\tdata = data === \"true\" ? true :\r\n\t\t\t\t\tdata === \"false\" ? false :\r\n\t\t\t\t\tdata === \"null\" ? null :\r\n\t\t\t\t\t// Only convert to a number if it doesn't change the string\r\n\t\t\t\t\t+data + \"\" === data ? +data :\r\n\t\t\t\t\trbrace.test( data ) ? jQuery.parseJSON( data ) :\r\n\t\t\t\t\tdata;\r\n\t\t\t} catch( e ) {}\r\n\r\n\t\t\t// Make sure we set the data so it isn't changed later\r\n\t\t\tdata_user.set( elem, key, data );\r\n\t\t} else {\r\n\t\t\tdata = undefined;\r\n\t\t}\r\n\t}\r\n\treturn data;\r\n}\r\n\r\njQuery.extend({\r\n\thasData: function( elem ) {\r\n\t\treturn data_user.hasData( elem ) || data_priv.hasData( elem );\r\n\t},\r\n\r\n\tdata: function( elem, name, data ) {\r\n\t\treturn data_user.access( elem, name, data );\r\n\t},\r\n\r\n\tremoveData: function( elem, name ) {\r\n\t\tdata_user.remove( elem, name );\r\n\t},\r\n\r\n\t// TODO: Now that all calls to _data and _removeData have been replaced\r\n\t// with direct calls to data_priv methods, these can be deprecated.\r\n\t_data: function( elem, name, data ) {\r\n\t\treturn data_priv.access( elem, name, data );\r\n\t},\r\n\r\n\t_removeData: function( elem, name ) {\r\n\t\tdata_priv.remove( elem, name );\r\n\t}\r\n});\r\n\r\njQuery.fn.extend({\r\n\tdata: function( key, value ) {\r\n\t\tvar i, name, data,\r\n\t\t\telem = this[ 0 ],\r\n\t\t\tattrs = elem && elem.attributes;\r\n\r\n\t\t// Gets all values\r\n\t\tif ( key === undefined ) {\r\n\t\t\tif ( this.length ) {\r\n\t\t\t\tdata = data_user.get( elem );\r\n\r\n\t\t\t\tif ( elem.nodeType === 1 && !data_priv.get( elem, \"hasDataAttrs\" ) ) {\r\n\t\t\t\t\ti = attrs.length;\r\n\t\t\t\t\twhile ( i-- ) {\r\n\r\n\t\t\t\t\t\t// Support: IE11+\r\n\t\t\t\t\t\t// The attrs elements can be null (#14894)\r\n\t\t\t\t\t\tif ( attrs[ i ] ) {\r\n\t\t\t\t\t\t\tname = attrs[ i ].name;\r\n\t\t\t\t\t\t\tif ( name.indexOf( \"data-\" ) === 0 ) {\r\n\t\t\t\t\t\t\t\tname = jQuery.camelCase( name.slice(5) );\r\n\t\t\t\t\t\t\t\tdataAttr( elem, name, data[ name ] );\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdata_priv.set( elem, \"hasDataAttrs\", true );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn data;\r\n\t\t}\r\n\r\n\t\t// Sets multiple values\r\n\t\tif ( typeof key === \"object\" ) {\r\n\t\t\treturn this.each(function() {\r\n\t\t\t\tdata_user.set( this, key );\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\treturn access( this, function( value ) {\r\n\t\t\tvar data,\r\n\t\t\t\tcamelKey = jQuery.camelCase( key );\r\n\r\n\t\t\t// The calling jQuery object (element matches) is not empty\r\n\t\t\t// (and therefore has an element appears at this[ 0 ]) and the\r\n\t\t\t// `value` parameter was not undefined. An empty jQuery object\r\n\t\t\t// will result in `undefined` for elem = this[ 0 ] which will\r\n\t\t\t// throw an exception if an attempt to read a data cache is made.\r\n\t\t\tif ( elem && value === undefined ) {\r\n\t\t\t\t// Attempt to get data from the cache\r\n\t\t\t\t// with the key as-is\r\n\t\t\t\tdata = data_user.get( elem, key );\r\n\t\t\t\tif ( data !== undefined ) {\r\n\t\t\t\t\treturn data;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Attempt to get data from the cache\r\n\t\t\t\t// with the key camelized\r\n\t\t\t\tdata = data_user.get( elem, camelKey );\r\n\t\t\t\tif ( data !== undefined ) {\r\n\t\t\t\t\treturn data;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Attempt to \"discover\" the data in\r\n\t\t\t\t// HTML5 custom data-* attrs\r\n\t\t\t\tdata = dataAttr( elem, camelKey, undefined );\r\n\t\t\t\tif ( data !== undefined ) {\r\n\t\t\t\t\treturn data;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// We tried really hard, but the data doesn't exist.\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// Set the data...\r\n\t\t\tthis.each(function() {\r\n\t\t\t\t// First, attempt to store a copy or reference of any\r\n\t\t\t\t// data that might've been store with a camelCased key.\r\n\t\t\t\tvar data = data_user.get( this, camelKey );\r\n\r\n\t\t\t\t// For HTML5 data-* attribute interop, we have to\r\n\t\t\t\t// store property names with dashes in a camelCase form.\r\n\t\t\t\t// This might not apply to all properties...*\r\n\t\t\t\tdata_user.set( this, camelKey, value );\r\n\r\n\t\t\t\t// *... In the case of properties that might _actually_\r\n\t\t\t\t// have dashes, we need to also store a copy of that\r\n\t\t\t\t// unchanged property.\r\n\t\t\t\tif ( key.indexOf(\"-\") !== -1 && data !== undefined ) {\r\n\t\t\t\t\tdata_user.set( this, key, value );\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}, null, value, arguments.length > 1, null, true );\r\n\t},\r\n\r\n\tremoveData: function( key ) {\r\n\t\treturn this.each(function() {\r\n\t\t\tdata_user.remove( this, key );\r\n\t\t});\r\n\t}\r\n});\r\n\r\n\r\njQuery.extend({\r\n\tqueue: function( elem, type, data ) {\r\n\t\tvar queue;\r\n\r\n\t\tif ( elem ) {\r\n\t\t\ttype = ( type || \"fx\" ) + \"queue\";\r\n\t\t\tqueue = data_priv.get( elem, type );\r\n\r\n\t\t\t// Speed up dequeue by getting out quickly if this is just a lookup\r\n\t\t\tif ( data ) {\r\n\t\t\t\tif ( !queue || jQuery.isArray( data ) ) {\r\n\t\t\t\t\tqueue = data_priv.access( elem, type, jQuery.makeArray(data) );\r\n\t\t\t\t} else {\r\n\t\t\t\t\tqueue.push( data );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn queue || [];\r\n\t\t}\r\n\t},\r\n\r\n\tdequeue: function( elem, type ) {\r\n\t\ttype = type || \"fx\";\r\n\r\n\t\tvar queue = jQuery.queue( elem, type ),\r\n\t\t\tstartLength = queue.length,\r\n\t\t\tfn = queue.shift(),\r\n\t\t\thooks = jQuery._queueHooks( elem, type ),\r\n\t\t\tnext = function() {\r\n\t\t\t\tjQuery.dequeue( elem, type );\r\n\t\t\t};\r\n\r\n\t\t// If the fx queue is dequeued, always remove the progress sentinel\r\n\t\tif ( fn === \"inprogress\" ) {\r\n\t\t\tfn = queue.shift();\r\n\t\t\tstartLength--;\r\n\t\t}\r\n\r\n\t\tif ( fn ) {\r\n\r\n\t\t\t// Add a progress sentinel to prevent the fx queue from being\r\n\t\t\t// automatically dequeued\r\n\t\t\tif ( type === \"fx\" ) {\r\n\t\t\t\tqueue.unshift( \"inprogress\" );\r\n\t\t\t}\r\n\r\n\t\t\t// clear up the last queue stop function\r\n\t\t\tdelete hooks.stop;\r\n\t\t\tfn.call( elem, next, hooks );\r\n\t\t}\r\n\r\n\t\tif ( !startLength && hooks ) {\r\n\t\t\thooks.empty.fire();\r\n\t\t}\r\n\t},\r\n\r\n\t// not intended for public consumption - generates a queueHooks object, or returns the current one\r\n\t_queueHooks: function( elem, type ) {\r\n\t\tvar key = type + \"queueHooks\";\r\n\t\treturn data_priv.get( elem, key ) || data_priv.access( elem, key, {\r\n\t\t\tempty: jQuery.Callbacks(\"once memory\").add(function() {\r\n\t\t\t\tdata_priv.remove( elem, [ type + \"queue\", key ] );\r\n\t\t\t})\r\n\t\t});\r\n\t}\r\n});\r\n\r\njQuery.fn.extend({\r\n\tqueue: function( type, data ) {\r\n\t\tvar setter = 2;\r\n\r\n\t\tif ( typeof type !== \"string\" ) {\r\n\t\t\tdata = type;\r\n\t\t\ttype = \"fx\";\r\n\t\t\tsetter--;\r\n\t\t}\r\n\r\n\t\tif ( arguments.length < setter ) {\r\n\t\t\treturn jQuery.queue( this[0], type );\r\n\t\t}\r\n\r\n\t\treturn data === undefined ?\r\n\t\t\tthis :\r\n\t\t\tthis.each(function() {\r\n\t\t\t\tvar queue = jQuery.queue( this, type, data );\r\n\r\n\t\t\t\t// ensure a hooks for this queue\r\n\t\t\t\tjQuery._queueHooks( this, type );\r\n\r\n\t\t\t\tif ( type === \"fx\" && queue[0] !== \"inprogress\" ) {\r\n\t\t\t\t\tjQuery.dequeue( this, type );\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t},\r\n\tdequeue: function( type ) {\r\n\t\treturn this.each(function() {\r\n\t\t\tjQuery.dequeue( this, type );\r\n\t\t});\r\n\t},\r\n\tclearQueue: function( type ) {\r\n\t\treturn this.queue( type || \"fx\", [] );\r\n\t},\r\n\t// Get a promise resolved when queues of a certain type\r\n\t// are emptied (fx is the type by default)\r\n\tpromise: function( type, obj ) {\r\n\t\tvar tmp,\r\n\t\t\tcount = 1,\r\n\t\t\tdefer = jQuery.Deferred(),\r\n\t\t\telements = this,\r\n\t\t\ti = this.length,\r\n\t\t\tresolve = function() {\r\n\t\t\t\tif ( !( --count ) ) {\r\n\t\t\t\t\tdefer.resolveWith( elements, [ elements ] );\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\tif ( typeof type !== \"string\" ) {\r\n\t\t\tobj = type;\r\n\t\t\ttype = undefined;\r\n\t\t}\r\n\t\ttype = type || \"fx\";\r\n\r\n\t\twhile ( i-- ) {\r\n\t\t\ttmp = data_priv.get( elements[ i ], type + \"queueHooks\" );\r\n\t\t\tif ( tmp && tmp.empty ) {\r\n\t\t\t\tcount++;\r\n\t\t\t\ttmp.empty.add( resolve );\r\n\t\t\t}\r\n\t\t}\r\n\t\tresolve();\r\n\t\treturn defer.promise( obj );\r\n\t}\r\n});\r\nvar pnum = (/[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/).source;\r\n\r\nvar cssExpand = [ \"Top\", \"Right\", \"Bottom\", \"Left\" ];\r\n\r\nvar isHidden = function( elem, el ) {\r\n\t\t// isHidden might be called from jQuery#filter function;\r\n\t\t// in that case, element will be second argument\r\n\t\telem = el || elem;\r\n\t\treturn jQuery.css( elem, \"display\" ) === \"none\" || !jQuery.contains( elem.ownerDocument, elem );\r\n\t};\r\n\r\nvar rcheckableType = (/^(?:checkbox|radio)$/i);\r\n\r\n\r\n\r\n(function() {\r\n\tvar fragment = document.createDocumentFragment(),\r\n\t\tdiv = fragment.appendChild( document.createElement( \"div\" ) ),\r\n\t\tinput = document.createElement( \"input\" );\r\n\r\n\t// #11217 - WebKit loses check when the name is after the checked attribute\r\n\t// Support: Windows Web Apps (WWA)\r\n\t// `name` and `type` need .setAttribute for WWA\r\n\tinput.setAttribute( \"type\", \"radio\" );\r\n\tinput.setAttribute( \"checked\", \"checked\" );\r\n\tinput.setAttribute( \"name\", \"t\" );\r\n\r\n\tdiv.appendChild( input );\r\n\r\n\t// Support: Safari 5.1, iOS 5.1, Android 4.x, Android 2.3\r\n\t// old WebKit doesn't clone checked state correctly in fragments\r\n\tsupport.checkClone = div.cloneNode( true ).cloneNode( true ).lastChild.checked;\r\n\r\n\t// Make sure textarea (and checkbox) defaultValue is properly cloned\r\n\t// Support: IE9-IE11+\r\n\tdiv.innerHTML = \"<textarea>x</textarea>\";\r\n\tsupport.noCloneChecked = !!div.cloneNode( true ).lastChild.defaultValue;\r\n})();\r\nvar strundefined = typeof undefined;\r\n\r\n\r\n\r\nsupport.focusinBubbles = \"onfocusin\" in window;\r\n\r\n\r\nvar\r\n\trkeyEvent = /^key/,\r\n\trmouseEvent = /^(?:mouse|pointer|contextmenu)|click/,\r\n\trfocusMorph = /^(?:focusinfocus|focusoutblur)$/,\r\n\trtypenamespace = /^([^.]*)(?:\\.(.+)|)$/;\r\n\r\nfunction returnTrue() {\r\n\treturn true;\r\n}\r\n\r\nfunction returnFalse() {\r\n\treturn false;\r\n}\r\n\r\nfunction safeActiveElement() {\r\n\ttry {\r\n\t\treturn document.activeElement;\r\n\t} catch ( err ) { }\r\n}\r\n\r\n/*\r\n * Helper functions for managing events -- not part of the public interface.\r\n * Props to Dean Edwards' addEvent library for many of the ideas.\r\n */\r\njQuery.event = {\r\n\r\n\tglobal: {},\r\n\r\n\tadd: function( elem, types, handler, data, selector ) {\r\n\r\n\t\tvar handleObjIn, eventHandle, tmp,\r\n\t\t\tevents, t, handleObj,\r\n\t\t\tspecial, handlers, type, namespaces, origType,\r\n\t\t\telemData = data_priv.get( elem );\r\n\r\n\t\t// Don't attach events to noData or text/comment nodes (but allow plain objects)\r\n\t\tif ( !elemData ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Caller can pass in an object of custom data in lieu of the handler\r\n\t\tif ( handler.handler ) {\r\n\t\t\thandleObjIn = handler;\r\n\t\t\thandler = handleObjIn.handler;\r\n\t\t\tselector = handleObjIn.selector;\r\n\t\t}\r\n\r\n\t\t// Make sure that the handler has a unique ID, used to find/remove it later\r\n\t\tif ( !handler.guid ) {\r\n\t\t\thandler.guid = jQuery.guid++;\r\n\t\t}\r\n\r\n\t\t// Init the element's event structure and main handler, if this is the first\r\n\t\tif ( !(events = elemData.events) ) {\r\n\t\t\tevents = elemData.events = {};\r\n\t\t}\r\n\t\tif ( !(eventHandle = elemData.handle) ) {\r\n\t\t\teventHandle = elemData.handle = function( e ) {\r\n\t\t\t\t// Discard the second event of a jQuery.event.trigger() and\r\n\t\t\t\t// when an event is called after a page has unloaded\r\n\t\t\t\treturn typeof jQuery !== strundefined && jQuery.event.triggered !== e.type ?\r\n\t\t\t\t\tjQuery.event.dispatch.apply( elem, arguments ) : undefined;\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\t// Handle multiple events separated by a space\r\n\t\ttypes = ( types || \"\" ).match( rnotwhite ) || [ \"\" ];\r\n\t\tt = types.length;\r\n\t\twhile ( t-- ) {\r\n\t\t\ttmp = rtypenamespace.exec( types[t] ) || [];\r\n\t\t\ttype = origType = tmp[1];\r\n\t\t\tnamespaces = ( tmp[2] || \"\" ).split( \".\" ).sort();\r\n\r\n\t\t\t// There *must* be a type, no attaching namespace-only handlers\r\n\t\t\tif ( !type ) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\t// If event changes its type, use the special event handlers for the changed type\r\n\t\t\tspecial = jQuery.event.special[ type ] || {};\r\n\r\n\t\t\t// If selector defined, determine special event api type, otherwise given type\r\n\t\t\ttype = ( selector ? special.delegateType : special.bindType ) || type;\r\n\r\n\t\t\t// Update special based on newly reset type\r\n\t\t\tspecial = jQuery.event.special[ type ] || {};\r\n\r\n\t\t\t// handleObj is passed to all event handlers\r\n\t\t\thandleObj = jQuery.extend({\r\n\t\t\t\ttype: type,\r\n\t\t\t\torigType: origType,\r\n\t\t\t\tdata: data,\r\n\t\t\t\thandler: handler,\r\n\t\t\t\tguid: handler.guid,\r\n\t\t\t\tselector: selector,\r\n\t\t\t\tneedsContext: selector && jQuery.expr.match.needsContext.test( selector ),\r\n\t\t\t\tnamespace: namespaces.join(\".\")\r\n\t\t\t}, handleObjIn );\r\n\r\n\t\t\t// Init the event handler queue if we're the first\r\n\t\t\tif ( !(handlers = events[ type ]) ) {\r\n\t\t\t\thandlers = events[ type ] = [];\r\n\t\t\t\thandlers.delegateCount = 0;\r\n\r\n\t\t\t\t// Only use addEventListener if the special events handler returns false\r\n\t\t\t\tif ( !special.setup || special.setup.call( elem, data, namespaces, eventHandle ) === false ) {\r\n\t\t\t\t\tif ( elem.addEventListener ) {\r\n\t\t\t\t\t\telem.addEventListener( type, eventHandle, false );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif ( special.add ) {\r\n\t\t\t\tspecial.add.call( elem, handleObj );\r\n\r\n\t\t\t\tif ( !handleObj.handler.guid ) {\r\n\t\t\t\t\thandleObj.handler.guid = handler.guid;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Add to the element's handler list, delegates in front\r\n\t\t\tif ( selector ) {\r\n\t\t\t\thandlers.splice( handlers.delegateCount++, 0, handleObj );\r\n\t\t\t} else {\r\n\t\t\t\thandlers.push( handleObj );\r\n\t\t\t}\r\n\r\n\t\t\t// Keep track of which events have ever been used, for event optimization\r\n\t\t\tjQuery.event.global[ type ] = true;\r\n\t\t}\r\n\r\n\t},\r\n\r\n\t// Detach an event or set of events from an element\r\n\tremove: function( elem, types, handler, selector, mappedTypes ) {\r\n\r\n\t\tvar j, origCount, tmp,\r\n\t\t\tevents, t, handleObj,\r\n\t\t\tspecial, handlers, type, namespaces, origType,\r\n\t\t\telemData = data_priv.hasData( elem ) && data_priv.get( elem );\r\n\r\n\t\tif ( !elemData || !(events = elemData.events) ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Once for each type.namespace in types; type may be omitted\r\n\t\ttypes = ( types || \"\" ).match( rnotwhite ) || [ \"\" ];\r\n\t\tt = types.length;\r\n\t\twhile ( t-- ) {\r\n\t\t\ttmp = rtypenamespace.exec( types[t] ) || [];\r\n\t\t\ttype = origType = tmp[1];\r\n\t\t\tnamespaces = ( tmp[2] || \"\" ).split( \".\" ).sort();\r\n\r\n\t\t\t// Unbind all events (on this namespace, if provided) for the element\r\n\t\t\tif ( !type ) {\r\n\t\t\t\tfor ( type in events ) {\r\n\t\t\t\t\tjQuery.event.remove( elem, type + types[ t ], handler, selector, true );\r\n\t\t\t\t}\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tspecial = jQuery.event.special[ type ] || {};\r\n\t\t\ttype = ( selector ? special.delegateType : special.bindType ) || type;\r\n\t\t\thandlers = events[ type ] || [];\r\n\t\t\ttmp = tmp[2] && new RegExp( \"(^|\\\\.)\" + namespaces.join(\"\\\\.(?:.*\\\\.|)\") + \"(\\\\.|$)\" );\r\n\r\n\t\t\t// Remove matching events\r\n\t\t\torigCount = j = handlers.length;\r\n\t\t\twhile ( j-- ) {\r\n\t\t\t\thandleObj = handlers[ j ];\r\n\r\n\t\t\t\tif ( ( mappedTypes || origType === handleObj.origType ) &&\r\n\t\t\t\t\t( !handler || handler.guid === handleObj.guid ) &&\r\n\t\t\t\t\t( !tmp || tmp.test( handleObj.namespace ) ) &&\r\n\t\t\t\t\t( !selector || selector === handleObj.selector || selector === \"**\" && handleObj.selector ) ) {\r\n\t\t\t\t\thandlers.splice( j, 1 );\r\n\r\n\t\t\t\t\tif ( handleObj.selector ) {\r\n\t\t\t\t\t\thandlers.delegateCount--;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( special.remove ) {\r\n\t\t\t\t\t\tspecial.remove.call( elem, handleObj );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Remove generic event handler if we removed something and no more handlers exist\r\n\t\t\t// (avoids potential for endless recursion during removal of special event handlers)\r\n\t\t\tif ( origCount && !handlers.length ) {\r\n\t\t\t\tif ( !special.teardown || special.teardown.call( elem, namespaces, elemData.handle ) === false ) {\r\n\t\t\t\t\tjQuery.removeEvent( elem, type, elemData.handle );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdelete events[ type ];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Remove the expando if it's no longer used\r\n\t\tif ( jQuery.isEmptyObject( events ) ) {\r\n\t\t\tdelete elemData.handle;\r\n\t\t\tdata_priv.remove( elem, \"events\" );\r\n\t\t}\r\n\t},\r\n\r\n\ttrigger: function( event, data, elem, onlyHandlers ) {\r\n\r\n\t\tvar i, cur, tmp, bubbleType, ontype, handle, special,\r\n\t\t\teventPath = [ elem || document ],\r\n\t\t\ttype = hasOwn.call( event, \"type\" ) ? event.type : event,\r\n\t\t\tnamespaces = hasOwn.call( event, \"namespace\" ) ? event.namespace.split(\".\") : [];\r\n\r\n\t\tcur = tmp = elem = elem || document;\r\n\r\n\t\t// Don't do events on text and comment nodes\r\n\t\tif ( elem.nodeType === 3 || elem.nodeType === 8 ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// focus/blur morphs to focusin/out; ensure we're not firing them right now\r\n\t\tif ( rfocusMorph.test( type + jQuery.event.triggered ) ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( type.indexOf(\".\") >= 0 ) {\r\n\t\t\t// Namespaced trigger; create a regexp to match event type in handle()\r\n\t\t\tnamespaces = type.split(\".\");\r\n\t\t\ttype = namespaces.shift();\r\n\t\t\tnamespaces.sort();\r\n\t\t}\r\n\t\tontype = type.indexOf(\":\") < 0 && \"on\" + type;\r\n\r\n\t\t// Caller can pass in a jQuery.Event object, Object, or just an event type string\r\n\t\tevent = event[ jQuery.expando ] ?\r\n\t\t\tevent :\r\n\t\t\tnew jQuery.Event( type, typeof event === \"object\" && event );\r\n\r\n\t\t// Trigger bitmask: & 1 for native handlers; & 2 for jQuery (always true)\r\n\t\tevent.isTrigger = onlyHandlers ? 2 : 3;\r\n\t\tevent.namespace = namespaces.join(\".\");\r\n\t\tevent.namespace_re = event.namespace ?\r\n\t\t\tnew RegExp( \"(^|\\\\.)\" + namespaces.join(\"\\\\.(?:.*\\\\.|)\") + \"(\\\\.|$)\" ) :\r\n\t\t\tnull;\r\n\r\n\t\t// Clean up the event in case it is being reused\r\n\t\tevent.result = undefined;\r\n\t\tif ( !event.target ) {\r\n\t\t\tevent.target = elem;\r\n\t\t}\r\n\r\n\t\t// Clone any incoming data and prepend the event, creating the handler arg list\r\n\t\tdata = data == null ?\r\n\t\t\t[ event ] :\r\n\t\t\tjQuery.makeArray( data, [ event ] );\r\n\r\n\t\t// Allow special events to draw outside the lines\r\n\t\tspecial = jQuery.event.special[ type ] || {};\r\n\t\tif ( !onlyHandlers && special.trigger && special.trigger.apply( elem, data ) === false ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Determine event propagation path in advance, per W3C events spec (#9951)\r\n\t\t// Bubble up to document, then to window; watch for a global ownerDocument var (#9724)\r\n\t\tif ( !onlyHandlers && !special.noBubble && !jQuery.isWindow( elem ) ) {\r\n\r\n\t\t\tbubbleType = special.delegateType || type;\r\n\t\t\tif ( !rfocusMorph.test( bubbleType + type ) ) {\r\n\t\t\t\tcur = cur.parentNode;\r\n\t\t\t}\r\n\t\t\tfor ( ; cur; cur = cur.parentNode ) {\r\n\t\t\t\teventPath.push( cur );\r\n\t\t\t\ttmp = cur;\r\n\t\t\t}\r\n\r\n\t\t\t// Only add window if we got to document (e.g., not plain obj or detached DOM)\r\n\t\t\tif ( tmp === (elem.ownerDocument || document) ) {\r\n\t\t\t\teventPath.push( tmp.defaultView || tmp.parentWindow || window );\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Fire handlers on the event path\r\n\t\ti = 0;\r\n\t\twhile ( (cur = eventPath[i++]) && !event.isPropagationStopped() ) {\r\n\r\n\t\t\tevent.type = i > 1 ?\r\n\t\t\t\tbubbleType :\r\n\t\t\t\tspecial.bindType || type;\r\n\r\n\t\t\t// jQuery handler\r\n\t\t\thandle = ( data_priv.get( cur, \"events\" ) || {} )[ event.type ] && data_priv.get( cur, \"handle\" );\r\n\t\t\tif ( handle ) {\r\n\t\t\t\thandle.apply( cur, data );\r\n\t\t\t}\r\n\r\n\t\t\t// Native handler\r\n\t\t\thandle = ontype && cur[ ontype ];\r\n\t\t\tif ( handle && handle.apply && jQuery.acceptData( cur ) ) {\r\n\t\t\t\tevent.result = handle.apply( cur, data );\r\n\t\t\t\tif ( event.result === false ) {\r\n\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tevent.type = type;\r\n\r\n\t\t// If nobody prevented the default action, do it now\r\n\t\tif ( !onlyHandlers && !event.isDefaultPrevented() ) {\r\n\r\n\t\t\tif ( (!special._default || special._default.apply( eventPath.pop(), data ) === false) &&\r\n\t\t\t\tjQuery.acceptData( elem ) ) {\r\n\r\n\t\t\t\t// Call a native DOM method on the target with the same name name as the event.\r\n\t\t\t\t// Don't do default actions on window, that's where global variables be (#6170)\r\n\t\t\t\tif ( ontype && jQuery.isFunction( elem[ type ] ) && !jQuery.isWindow( elem ) ) {\r\n\r\n\t\t\t\t\t// Don't re-trigger an onFOO event when we call its FOO() method\r\n\t\t\t\t\ttmp = elem[ ontype ];\r\n\r\n\t\t\t\t\tif ( tmp ) {\r\n\t\t\t\t\t\telem[ ontype ] = null;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Prevent re-triggering of the same event, since we already bubbled it above\r\n\t\t\t\t\tjQuery.event.triggered = type;\r\n\t\t\t\t\telem[ type ]();\r\n\t\t\t\t\tjQuery.event.triggered = undefined;\r\n\r\n\t\t\t\t\tif ( tmp ) {\r\n\t\t\t\t\t\telem[ ontype ] = tmp;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn event.result;\r\n\t},\r\n\r\n\tdispatch: function( event ) {\r\n\r\n\t\t// Make a writable jQuery.Event from the native event object\r\n\t\tevent = jQuery.event.fix( event );\r\n\r\n\t\tvar i, j, ret, matched, handleObj,\r\n\t\t\thandlerQueue = [],\r\n\t\t\targs = slice.call( arguments ),\r\n\t\t\thandlers = ( data_priv.get( this, \"events\" ) || {} )[ event.type ] || [],\r\n\t\t\tspecial = jQuery.event.special[ event.type ] || {};\r\n\r\n\t\t// Use the fix-ed jQuery.Event rather than the (read-only) native event\r\n\t\targs[0] = event;\r\n\t\tevent.delegateTarget = this;\r\n\r\n\t\t// Call the preDispatch hook for the mapped type, and let it bail if desired\r\n\t\tif ( special.preDispatch && special.preDispatch.call( this, event ) === false ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Determine handlers\r\n\t\thandlerQueue = jQuery.event.handlers.call( this, event, handlers );\r\n\r\n\t\t// Run delegates first; they may want to stop propagation beneath us\r\n\t\ti = 0;\r\n\t\twhile ( (matched = handlerQueue[ i++ ]) && !event.isPropagationStopped() ) {\r\n\t\t\tevent.currentTarget = matched.elem;\r\n\r\n\t\t\tj = 0;\r\n\t\t\twhile ( (handleObj = matched.handlers[ j++ ]) && !event.isImmediatePropagationStopped() ) {\r\n\r\n\t\t\t\t// Triggered event must either 1) have no namespace, or\r\n\t\t\t\t// 2) have namespace(s) a subset or equal to those in the bound event (both can have no namespace).\r\n\t\t\t\tif ( !event.namespace_re || event.namespace_re.test( handleObj.namespace ) ) {\r\n\r\n\t\t\t\t\tevent.handleObj = handleObj;\r\n\t\t\t\t\tevent.data = handleObj.data;\r\n\r\n\t\t\t\t\tret = ( (jQuery.event.special[ handleObj.origType ] || {}).handle || handleObj.handler )\r\n\t\t\t\t\t\t\t.apply( matched.elem, args );\r\n\r\n\t\t\t\t\tif ( ret !== undefined ) {\r\n\t\t\t\t\t\tif ( (event.result = ret) === false ) {\r\n\t\t\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t\t\tevent.stopPropagation();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Call the postDispatch hook for the mapped type\r\n\t\tif ( special.postDispatch ) {\r\n\t\t\tspecial.postDispatch.call( this, event );\r\n\t\t}\r\n\r\n\t\treturn event.result;\r\n\t},\r\n\r\n\thandlers: function( event, handlers ) {\r\n\t\tvar i, matches, sel, handleObj,\r\n\t\t\thandlerQueue = [],\r\n\t\t\tdelegateCount = handlers.delegateCount,\r\n\t\t\tcur = event.target;\r\n\r\n\t\t// Find delegate handlers\r\n\t\t// Black-hole SVG <use> instance trees (#13180)\r\n\t\t// Avoid non-left-click bubbling in Firefox (#3861)\r\n\t\tif ( delegateCount && cur.nodeType && (!event.button || event.type !== \"click\") ) {\r\n\r\n\t\t\tfor ( ; cur !== this; cur = cur.parentNode || this ) {\r\n\r\n\t\t\t\t// Don't process clicks on disabled elements (#6911, #8165, #11382, #11764)\r\n\t\t\t\tif ( cur.disabled !== true || event.type !== \"click\" ) {\r\n\t\t\t\t\tmatches = [];\r\n\t\t\t\t\tfor ( i = 0; i < delegateCount; i++ ) {\r\n\t\t\t\t\t\thandleObj = handlers[ i ];\r\n\r\n\t\t\t\t\t\t// Don't conflict with Object.prototype properties (#13203)\r\n\t\t\t\t\t\tsel = handleObj.selector + \" \";\r\n\r\n\t\t\t\t\t\tif ( matches[ sel ] === undefined ) {\r\n\t\t\t\t\t\t\tmatches[ sel ] = handleObj.needsContext ?\r\n\t\t\t\t\t\t\t\tjQuery( sel, this ).index( cur ) >= 0 :\r\n\t\t\t\t\t\t\t\tjQuery.find( sel, this, null, [ cur ] ).length;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif ( matches[ sel ] ) {\r\n\t\t\t\t\t\t\tmatches.push( handleObj );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( matches.length ) {\r\n\t\t\t\t\t\thandlerQueue.push({ elem: cur, handlers: matches });\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Add the remaining (directly-bound) handlers\r\n\t\tif ( delegateCount < handlers.length ) {\r\n\t\t\thandlerQueue.push({ elem: this, handlers: handlers.slice( delegateCount ) });\r\n\t\t}\r\n\r\n\t\treturn handlerQueue;\r\n\t},\r\n\r\n\t// Includes some event props shared by KeyEvent and MouseEvent\r\n\tprops: \"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which\".split(\" \"),\r\n\r\n\tfixHooks: {},\r\n\r\n\tkeyHooks: {\r\n\t\tprops: \"char charCode key keyCode\".split(\" \"),\r\n\t\tfilter: function( event, original ) {\r\n\r\n\t\t\t// Add which for key events\r\n\t\t\tif ( event.which == null ) {\r\n\t\t\t\tevent.which = original.charCode != null ? original.charCode : original.keyCode;\r\n\t\t\t}\r\n\r\n\t\t\treturn event;\r\n\t\t}\r\n\t},\r\n\r\n\tmouseHooks: {\r\n\t\tprops: \"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement\".split(\" \"),\r\n\t\tfilter: function( event, original ) {\r\n\t\t\tvar eventDoc, doc, body,\r\n\t\t\t\tbutton = original.button;\r\n\r\n\t\t\t// Calculate pageX/Y if missing and clientX/Y available\r\n\t\t\tif ( event.pageX == null && original.clientX != null ) {\r\n\t\t\t\teventDoc = event.target.ownerDocument || document;\r\n\t\t\t\tdoc = eventDoc.documentElement;\r\n\t\t\t\tbody = eventDoc.body;\r\n\r\n\t\t\t\tevent.pageX = original.clientX + ( doc && doc.scrollLeft || body && body.scrollLeft || 0 ) - ( doc && doc.clientLeft || body && body.clientLeft || 0 );\r\n\t\t\t\tevent.pageY = original.clientY + ( doc && doc.scrollTop  || body && body.scrollTop  || 0 ) - ( doc && doc.clientTop  || body && body.clientTop  || 0 );\r\n\t\t\t}\r\n\r\n\t\t\t// Add which for click: 1 === left; 2 === middle; 3 === right\r\n\t\t\t// Note: button is not normalized, so don't use it\r\n\t\t\tif ( !event.which && button !== undefined ) {\r\n\t\t\t\tevent.which = ( button & 1 ? 1 : ( button & 2 ? 3 : ( button & 4 ? 2 : 0 ) ) );\r\n\t\t\t}\r\n\r\n\t\t\treturn event;\r\n\t\t}\r\n\t},\r\n\r\n\tfix: function( event ) {\r\n\t\tif ( event[ jQuery.expando ] ) {\r\n\t\t\treturn event;\r\n\t\t}\r\n\r\n\t\t// Create a writable copy of the event object and normalize some properties\r\n\t\tvar i, prop, copy,\r\n\t\t\ttype = event.type,\r\n\t\t\toriginalEvent = event,\r\n\t\t\tfixHook = this.fixHooks[ type ];\r\n\r\n\t\tif ( !fixHook ) {\r\n\t\t\tthis.fixHooks[ type ] = fixHook =\r\n\t\t\t\trmouseEvent.test( type ) ? this.mouseHooks :\r\n\t\t\t\trkeyEvent.test( type ) ? this.keyHooks :\r\n\t\t\t\t{};\r\n\t\t}\r\n\t\tcopy = fixHook.props ? this.props.concat( fixHook.props ) : this.props;\r\n\r\n\t\tevent = new jQuery.Event( originalEvent );\r\n\r\n\t\ti = copy.length;\r\n\t\twhile ( i-- ) {\r\n\t\t\tprop = copy[ i ];\r\n\t\t\tevent[ prop ] = originalEvent[ prop ];\r\n\t\t}\r\n\r\n\t\t// Support: Cordova 2.5 (WebKit) (#13255)\r\n\t\t// All events should have a target; Cordova deviceready doesn't\r\n\t\tif ( !event.target ) {\r\n\t\t\tevent.target = document;\r\n\t\t}\r\n\r\n\t\t// Support: Safari 6.0+, Chrome < 28\r\n\t\t// Target should not be a text node (#504, #13143)\r\n\t\tif ( event.target.nodeType === 3 ) {\r\n\t\t\tevent.target = event.target.parentNode;\r\n\t\t}\r\n\r\n\t\treturn fixHook.filter ? fixHook.filter( event, originalEvent ) : event;\r\n\t},\r\n\r\n\tspecial: {\r\n\t\tload: {\r\n\t\t\t// Prevent triggered image.load events from bubbling to window.load\r\n\t\t\tnoBubble: true\r\n\t\t},\r\n\t\tfocus: {\r\n\t\t\t// Fire native event if possible so blur/focus sequence is correct\r\n\t\t\ttrigger: function() {\r\n\t\t\t\tif ( this !== safeActiveElement() && this.focus ) {\r\n\t\t\t\t\tthis.focus();\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tdelegateType: \"focusin\"\r\n\t\t},\r\n\t\tblur: {\r\n\t\t\ttrigger: function() {\r\n\t\t\t\tif ( this === safeActiveElement() && this.blur ) {\r\n\t\t\t\t\tthis.blur();\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tdelegateType: \"focusout\"\r\n\t\t},\r\n\t\tclick: {\r\n\t\t\t// For checkbox, fire native event so checked state will be right\r\n\t\t\ttrigger: function() {\r\n\t\t\t\tif ( this.type === \"checkbox\" && this.click && jQuery.nodeName( this, \"input\" ) ) {\r\n\t\t\t\t\tthis.click();\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t// For cross-browser consistency, don't fire native .click() on links\r\n\t\t\t_default: function( event ) {\r\n\t\t\t\treturn jQuery.nodeName( event.target, \"a\" );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tbeforeunload: {\r\n\t\t\tpostDispatch: function( event ) {\r\n\r\n\t\t\t\t// Support: Firefox 20+\r\n\t\t\t\t// Firefox doesn't alert if the returnValue field is not set.\r\n\t\t\t\tif ( event.result !== undefined && event.originalEvent ) {\r\n\t\t\t\t\tevent.originalEvent.returnValue = event.result;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tsimulate: function( type, elem, event, bubble ) {\r\n\t\t// Piggyback on a donor event to simulate a different one.\r\n\t\t// Fake originalEvent to avoid donor's stopPropagation, but if the\r\n\t\t// simulated event prevents default then we do the same on the donor.\r\n\t\tvar e = jQuery.extend(\r\n\t\t\tnew jQuery.Event(),\r\n\t\t\tevent,\r\n\t\t\t{\r\n\t\t\t\ttype: type,\r\n\t\t\t\tisSimulated: true,\r\n\t\t\t\toriginalEvent: {}\r\n\t\t\t}\r\n\t\t);\r\n\t\tif ( bubble ) {\r\n\t\t\tjQuery.event.trigger( e, null, elem );\r\n\t\t} else {\r\n\t\t\tjQuery.event.dispatch.call( elem, e );\r\n\t\t}\r\n\t\tif ( e.isDefaultPrevented() ) {\r\n\t\t\tevent.preventDefault();\r\n\t\t}\r\n\t}\r\n};\r\n\r\njQuery.removeEvent = function( elem, type, handle ) {\r\n\tif ( elem.removeEventListener ) {\r\n\t\telem.removeEventListener( type, handle, false );\r\n\t}\r\n};\r\n\r\njQuery.Event = function( src, props ) {\r\n\t// Allow instantiation without the 'new' keyword\r\n\tif ( !(this instanceof jQuery.Event) ) {\r\n\t\treturn new jQuery.Event( src, props );\r\n\t}\r\n\r\n\t// Event object\r\n\tif ( src && src.type ) {\r\n\t\tthis.originalEvent = src;\r\n\t\tthis.type = src.type;\r\n\r\n\t\t// Events bubbling up the document may have been marked as prevented\r\n\t\t// by a handler lower down the tree; reflect the correct value.\r\n\t\tthis.isDefaultPrevented = src.defaultPrevented ||\r\n\t\t\t\tsrc.defaultPrevented === undefined &&\r\n\t\t\t\t// Support: Android < 4.0\r\n\t\t\t\tsrc.returnValue === false ?\r\n\t\t\treturnTrue :\r\n\t\t\treturnFalse;\r\n\r\n\t// Event type\r\n\t} else {\r\n\t\tthis.type = src;\r\n\t}\r\n\r\n\t// Put explicitly provided properties onto the event object\r\n\tif ( props ) {\r\n\t\tjQuery.extend( this, props );\r\n\t}\r\n\r\n\t// Create a timestamp if incoming event doesn't have one\r\n\tthis.timeStamp = src && src.timeStamp || jQuery.now();\r\n\r\n\t// Mark it as fixed\r\n\tthis[ jQuery.expando ] = true;\r\n};\r\n\r\n// jQuery.Event is based on DOM3 Events as specified by the ECMAScript Language Binding\r\n// http://www.w3.org/TR/2003/WD-DOM-Level-3-Events-20030331/ecma-script-binding.html\r\njQuery.Event.prototype = {\r\n\tisDefaultPrevented: returnFalse,\r\n\tisPropagationStopped: returnFalse,\r\n\tisImmediatePropagationStopped: returnFalse,\r\n\r\n\tpreventDefault: function() {\r\n\t\tvar e = this.originalEvent;\r\n\r\n\t\tthis.isDefaultPrevented = returnTrue;\r\n\r\n\t\tif ( e && e.preventDefault ) {\r\n\t\t\te.preventDefault();\r\n\t\t}\r\n\t},\r\n\tstopPropagation: function() {\r\n\t\tvar e = this.originalEvent;\r\n\r\n\t\tthis.isPropagationStopped = returnTrue;\r\n\r\n\t\tif ( e && e.stopPropagation ) {\r\n\t\t\te.stopPropagation();\r\n\t\t}\r\n\t},\r\n\tstopImmediatePropagation: function() {\r\n\t\tvar e = this.originalEvent;\r\n\r\n\t\tthis.isImmediatePropagationStopped = returnTrue;\r\n\r\n\t\tif ( e && e.stopImmediatePropagation ) {\r\n\t\t\te.stopImmediatePropagation();\r\n\t\t}\r\n\r\n\t\tthis.stopPropagation();\r\n\t}\r\n};\r\n\r\n// Create mouseenter/leave events using mouseover/out and event-time checks\r\n// Support: Chrome 15+\r\njQuery.each({\r\n\tmouseenter: \"mouseover\",\r\n\tmouseleave: \"mouseout\",\r\n\tpointerenter: \"pointerover\",\r\n\tpointerleave: \"pointerout\"\r\n}, function( orig, fix ) {\r\n\tjQuery.event.special[ orig ] = {\r\n\t\tdelegateType: fix,\r\n\t\tbindType: fix,\r\n\r\n\t\thandle: function( event ) {\r\n\t\t\tvar ret,\r\n\t\t\t\ttarget = this,\r\n\t\t\t\trelated = event.relatedTarget,\r\n\t\t\t\thandleObj = event.handleObj;\r\n\r\n\t\t\t// For mousenter/leave call the handler if related is outside the target.\r\n\t\t\t// NB: No relatedTarget if the mouse left/entered the browser window\r\n\t\t\tif ( !related || (related !== target && !jQuery.contains( target, related )) ) {\r\n\t\t\t\tevent.type = handleObj.origType;\r\n\t\t\t\tret = handleObj.handler.apply( this, arguments );\r\n\t\t\t\tevent.type = fix;\r\n\t\t\t}\r\n\t\t\treturn ret;\r\n\t\t}\r\n\t};\r\n});\r\n\r\n// Create \"bubbling\" focus and blur events\r\n// Support: Firefox, Chrome, Safari\r\nif ( !support.focusinBubbles ) {\r\n\tjQuery.each({ focus: \"focusin\", blur: \"focusout\" }, function( orig, fix ) {\r\n\r\n\t\t// Attach a single capturing handler on the document while someone wants focusin/focusout\r\n\t\tvar handler = function( event ) {\r\n\t\t\t\tjQuery.event.simulate( fix, event.target, jQuery.event.fix( event ), true );\r\n\t\t\t};\r\n\r\n\t\tjQuery.event.special[ fix ] = {\r\n\t\t\tsetup: function() {\r\n\t\t\t\tvar doc = this.ownerDocument || this,\r\n\t\t\t\t\tattaches = data_priv.access( doc, fix );\r\n\r\n\t\t\t\tif ( !attaches ) {\r\n\t\t\t\t\tdoc.addEventListener( orig, handler, true );\r\n\t\t\t\t}\r\n\t\t\t\tdata_priv.access( doc, fix, ( attaches || 0 ) + 1 );\r\n\t\t\t},\r\n\t\t\tteardown: function() {\r\n\t\t\t\tvar doc = this.ownerDocument || this,\r\n\t\t\t\t\tattaches = data_priv.access( doc, fix ) - 1;\r\n\r\n\t\t\t\tif ( !attaches ) {\r\n\t\t\t\t\tdoc.removeEventListener( orig, handler, true );\r\n\t\t\t\t\tdata_priv.remove( doc, fix );\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdata_priv.access( doc, fix, attaches );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t});\r\n}\r\n\r\njQuery.fn.extend({\r\n\r\n\ton: function( types, selector, data, fn, /*INTERNAL*/ one ) {\r\n\t\tvar origFn, type;\r\n\r\n\t\t// Types can be a map of types/handlers\r\n\t\tif ( typeof types === \"object\" ) {\r\n\t\t\t// ( types-Object, selector, data )\r\n\t\t\tif ( typeof selector !== \"string\" ) {\r\n\t\t\t\t// ( types-Object, data )\r\n\t\t\t\tdata = data || selector;\r\n\t\t\t\tselector = undefined;\r\n\t\t\t}\r\n\t\t\tfor ( type in types ) {\r\n\t\t\t\tthis.on( type, selector, data, types[ type ], one );\r\n\t\t\t}\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t\tif ( data == null && fn == null ) {\r\n\t\t\t// ( types, fn )\r\n\t\t\tfn = selector;\r\n\t\t\tdata = selector = undefined;\r\n\t\t} else if ( fn == null ) {\r\n\t\t\tif ( typeof selector === \"string\" ) {\r\n\t\t\t\t// ( types, selector, fn )\r\n\t\t\t\tfn = data;\r\n\t\t\t\tdata = undefined;\r\n\t\t\t} else {\r\n\t\t\t\t// ( types, data, fn )\r\n\t\t\t\tfn = data;\r\n\t\t\t\tdata = selector;\r\n\t\t\t\tselector = undefined;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif ( fn === false ) {\r\n\t\t\tfn = returnFalse;\r\n\t\t} else if ( !fn ) {\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t\tif ( one === 1 ) {\r\n\t\t\torigFn = fn;\r\n\t\t\tfn = function( event ) {\r\n\t\t\t\t// Can use an empty set, since event contains the info\r\n\t\t\t\tjQuery().off( event );\r\n\t\t\t\treturn origFn.apply( this, arguments );\r\n\t\t\t};\r\n\t\t\t// Use same guid so caller can remove using origFn\r\n\t\t\tfn.guid = origFn.guid || ( origFn.guid = jQuery.guid++ );\r\n\t\t}\r\n\t\treturn this.each( function() {\r\n\t\t\tjQuery.event.add( this, types, fn, data, selector );\r\n\t\t});\r\n\t},\r\n\tone: function( types, selector, data, fn ) {\r\n\t\treturn this.on( types, selector, data, fn, 1 );\r\n\t},\r\n\toff: function( types, selector, fn ) {\r\n\t\tvar handleObj, type;\r\n\t\tif ( types && types.preventDefault && types.handleObj ) {\r\n\t\t\t// ( event )  dispatched jQuery.Event\r\n\t\t\thandleObj = types.handleObj;\r\n\t\t\tjQuery( types.delegateTarget ).off(\r\n\t\t\t\thandleObj.namespace ? handleObj.origType + \".\" + handleObj.namespace : handleObj.origType,\r\n\t\t\t\thandleObj.selector,\r\n\t\t\t\thandleObj.handler\r\n\t\t\t);\r\n\t\t\treturn this;\r\n\t\t}\r\n\t\tif ( typeof types === \"object\" ) {\r\n\t\t\t// ( types-object [, selector] )\r\n\t\t\tfor ( type in types ) {\r\n\t\t\t\tthis.off( type, selector, types[ type ] );\r\n\t\t\t}\r\n\t\t\treturn this;\r\n\t\t}\r\n\t\tif ( selector === false || typeof selector === \"function\" ) {\r\n\t\t\t// ( types [, fn] )\r\n\t\t\tfn = selector;\r\n\t\t\tselector = undefined;\r\n\t\t}\r\n\t\tif ( fn === false ) {\r\n\t\t\tfn = returnFalse;\r\n\t\t}\r\n\t\treturn this.each(function() {\r\n\t\t\tjQuery.event.remove( this, types, fn, selector );\r\n\t\t});\r\n\t},\r\n\r\n\ttrigger: function( type, data ) {\r\n\t\treturn this.each(function() {\r\n\t\t\tjQuery.event.trigger( type, data, this );\r\n\t\t});\r\n\t},\r\n\ttriggerHandler: function( type, data ) {\r\n\t\tvar elem = this[0];\r\n\t\tif ( elem ) {\r\n\t\t\treturn jQuery.event.trigger( type, data, elem, true );\r\n\t\t}\r\n\t}\r\n});\r\n\r\n\r\nvar\r\n\trxhtmlTag = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>/gi,\r\n\trtagName = /<([\\w:]+)/,\r\n\trhtml = /<|&#?\\w+;/,\r\n\trnoInnerhtml = /<(?:script|style|link)/i,\r\n\t// checked=\"checked\" or checked\r\n\trchecked = /checked\\s*(?:[^=]|=\\s*.checked.)/i,\r\n\trscriptType = /^$|\\/(?:java|ecma)script/i,\r\n\trscriptTypeMasked = /^true\\/(.*)/,\r\n\trcleanScript = /^\\s*<!(?:\\[CDATA\\[|--)|(?:\\]\\]|--)>\\s*$/g,\r\n\r\n\t// We have to close these tags to support XHTML (#13200)\r\n\twrapMap = {\r\n\r\n\t\t// Support: IE 9\r\n\t\toption: [ 1, \"<select multiple='multiple'>\", \"</select>\" ],\r\n\r\n\t\tthead: [ 1, \"<table>\", \"</table>\" ],\r\n\t\tcol: [ 2, \"<table><colgroup>\", \"</colgroup></table>\" ],\r\n\t\ttr: [ 2, \"<table><tbody>\", \"</tbody></table>\" ],\r\n\t\ttd: [ 3, \"<table><tbody><tr>\", \"</tr></tbody></table>\" ],\r\n\r\n\t\t_default: [ 0, \"\", \"\" ]\r\n\t};\r\n\r\n// Support: IE 9\r\nwrapMap.optgroup = wrapMap.option;\r\n\r\nwrapMap.tbody = wrapMap.tfoot = wrapMap.colgroup = wrapMap.caption = wrapMap.thead;\r\nwrapMap.th = wrapMap.td;\r\n\r\n// Support: 1.x compatibility\r\n// Manipulating tables requires a tbody\r\nfunction manipulationTarget( elem, content ) {\r\n\treturn jQuery.nodeName( elem, \"table\" ) &&\r\n\t\tjQuery.nodeName( content.nodeType !== 11 ? content : content.firstChild, \"tr\" ) ?\r\n\r\n\t\telem.getElementsByTagName(\"tbody\")[0] ||\r\n\t\t\telem.appendChild( elem.ownerDocument.createElement(\"tbody\") ) :\r\n\t\telem;\r\n}\r\n\r\n// Replace/restore the type attribute of script elements for safe DOM manipulation\r\nfunction disableScript( elem ) {\r\n\telem.type = (elem.getAttribute(\"type\") !== null) + \"/\" + elem.type;\r\n\treturn elem;\r\n}\r\nfunction restoreScript( elem ) {\r\n\tvar match = rscriptTypeMasked.exec( elem.type );\r\n\r\n\tif ( match ) {\r\n\t\telem.type = match[ 1 ];\r\n\t} else {\r\n\t\telem.removeAttribute(\"type\");\r\n\t}\r\n\r\n\treturn elem;\r\n}\r\n\r\n// Mark scripts as having already been evaluated\r\nfunction setGlobalEval( elems, refElements ) {\r\n\tvar i = 0,\r\n\t\tl = elems.length;\r\n\r\n\tfor ( ; i < l; i++ ) {\r\n\t\tdata_priv.set(\r\n\t\t\telems[ i ], \"globalEval\", !refElements || data_priv.get( refElements[ i ], \"globalEval\" )\r\n\t\t);\r\n\t}\r\n}\r\n\r\nfunction cloneCopyEvent( src, dest ) {\r\n\tvar i, l, type, pdataOld, pdataCur, udataOld, udataCur, events;\r\n\r\n\tif ( dest.nodeType !== 1 ) {\r\n\t\treturn;\r\n\t}\r\n\r\n\t// 1. Copy private data: events, handlers, etc.\r\n\tif ( data_priv.hasData( src ) ) {\r\n\t\tpdataOld = data_priv.access( src );\r\n\t\tpdataCur = data_priv.set( dest, pdataOld );\r\n\t\tevents = pdataOld.events;\r\n\r\n\t\tif ( events ) {\r\n\t\t\tdelete pdataCur.handle;\r\n\t\t\tpdataCur.events = {};\r\n\r\n\t\t\tfor ( type in events ) {\r\n\t\t\t\tfor ( i = 0, l = events[ type ].length; i < l; i++ ) {\r\n\t\t\t\t\tjQuery.event.add( dest, type, events[ type ][ i ] );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// 2. Copy user data\r\n\tif ( data_user.hasData( src ) ) {\r\n\t\tudataOld = data_user.access( src );\r\n\t\tudataCur = jQuery.extend( {}, udataOld );\r\n\r\n\t\tdata_user.set( dest, udataCur );\r\n\t}\r\n}\r\n\r\nfunction getAll( context, tag ) {\r\n\tvar ret = context.getElementsByTagName ? context.getElementsByTagName( tag || \"*\" ) :\r\n\t\t\tcontext.querySelectorAll ? context.querySelectorAll( tag || \"*\" ) :\r\n\t\t\t[];\r\n\r\n\treturn tag === undefined || tag && jQuery.nodeName( context, tag ) ?\r\n\t\tjQuery.merge( [ context ], ret ) :\r\n\t\tret;\r\n}\r\n\r\n// Support: IE >= 9\r\nfunction fixInput( src, dest ) {\r\n\tvar nodeName = dest.nodeName.toLowerCase();\r\n\r\n\t// Fails to persist the checked state of a cloned checkbox or radio button.\r\n\tif ( nodeName === \"input\" && rcheckableType.test( src.type ) ) {\r\n\t\tdest.checked = src.checked;\r\n\r\n\t// Fails to return the selected option to the default selected state when cloning options\r\n\t} else if ( nodeName === \"input\" || nodeName === \"textarea\" ) {\r\n\t\tdest.defaultValue = src.defaultValue;\r\n\t}\r\n}\r\n\r\njQuery.extend({\r\n\tclone: function( elem, dataAndEvents, deepDataAndEvents ) {\r\n\t\tvar i, l, srcElements, destElements,\r\n\t\t\tclone = elem.cloneNode( true ),\r\n\t\t\tinPage = jQuery.contains( elem.ownerDocument, elem );\r\n\r\n\t\t// Support: IE >= 9\r\n\t\t// Fix Cloning issues\r\n\t\tif ( !support.noCloneChecked && ( elem.nodeType === 1 || elem.nodeType === 11 ) &&\r\n\t\t\t\t!jQuery.isXMLDoc( elem ) ) {\r\n\r\n\t\t\t// We eschew Sizzle here for performance reasons: http://jsperf.com/getall-vs-sizzle/2\r\n\t\t\tdestElements = getAll( clone );\r\n\t\t\tsrcElements = getAll( elem );\r\n\r\n\t\t\tfor ( i = 0, l = srcElements.length; i < l; i++ ) {\r\n\t\t\t\tfixInput( srcElements[ i ], destElements[ i ] );\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Copy the events from the original to the clone\r\n\t\tif ( dataAndEvents ) {\r\n\t\t\tif ( deepDataAndEvents ) {\r\n\t\t\t\tsrcElements = srcElements || getAll( elem );\r\n\t\t\t\tdestElements = destElements || getAll( clone );\r\n\r\n\t\t\t\tfor ( i = 0, l = srcElements.length; i < l; i++ ) {\r\n\t\t\t\t\tcloneCopyEvent( srcElements[ i ], destElements[ i ] );\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tcloneCopyEvent( elem, clone );\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Preserve script evaluation history\r\n\t\tdestElements = getAll( clone, \"script\" );\r\n\t\tif ( destElements.length > 0 ) {\r\n\t\t\tsetGlobalEval( destElements, !inPage && getAll( elem, \"script\" ) );\r\n\t\t}\r\n\r\n\t\t// Return the cloned set\r\n\t\treturn clone;\r\n\t},\r\n\r\n\tbuildFragment: function( elems, context, scripts, selection ) {\r\n\t\tvar elem, tmp, tag, wrap, contains, j,\r\n\t\t\tfragment = context.createDocumentFragment(),\r\n\t\t\tnodes = [],\r\n\t\t\ti = 0,\r\n\t\t\tl = elems.length;\r\n\r\n\t\tfor ( ; i < l; i++ ) {\r\n\t\t\telem = elems[ i ];\r\n\r\n\t\t\tif ( elem || elem === 0 ) {\r\n\r\n\t\t\t\t// Add nodes directly\r\n\t\t\t\tif ( jQuery.type( elem ) === \"object\" ) {\r\n\t\t\t\t\t// Support: QtWebKit\r\n\t\t\t\t\t// jQuery.merge because push.apply(_, arraylike) throws\r\n\t\t\t\t\tjQuery.merge( nodes, elem.nodeType ? [ elem ] : elem );\r\n\r\n\t\t\t\t// Convert non-html into a text node\r\n\t\t\t\t} else if ( !rhtml.test( elem ) ) {\r\n\t\t\t\t\tnodes.push( context.createTextNode( elem ) );\r\n\r\n\t\t\t\t// Convert html into DOM nodes\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttmp = tmp || fragment.appendChild( context.createElement(\"div\") );\r\n\r\n\t\t\t\t\t// Deserialize a standard representation\r\n\t\t\t\t\ttag = ( rtagName.exec( elem ) || [ \"\", \"\" ] )[ 1 ].toLowerCase();\r\n\t\t\t\t\twrap = wrapMap[ tag ] || wrapMap._default;\r\n\t\t\t\t\ttmp.innerHTML = wrap[ 1 ] + elem.replace( rxhtmlTag, \"<$1></$2>\" ) + wrap[ 2 ];\r\n\r\n\t\t\t\t\t// Descend through wrappers to the right content\r\n\t\t\t\t\tj = wrap[ 0 ];\r\n\t\t\t\t\twhile ( j-- ) {\r\n\t\t\t\t\t\ttmp = tmp.lastChild;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Support: QtWebKit\r\n\t\t\t\t\t// jQuery.merge because push.apply(_, arraylike) throws\r\n\t\t\t\t\tjQuery.merge( nodes, tmp.childNodes );\r\n\r\n\t\t\t\t\t// Remember the top-level container\r\n\t\t\t\t\ttmp = fragment.firstChild;\r\n\r\n\t\t\t\t\t// Fixes #12346\r\n\t\t\t\t\t// Support: Webkit, IE\r\n\t\t\t\t\ttmp.textContent = \"\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Remove wrapper from fragment\r\n\t\tfragment.textContent = \"\";\r\n\r\n\t\ti = 0;\r\n\t\twhile ( (elem = nodes[ i++ ]) ) {\r\n\r\n\t\t\t// #4087 - If origin and destination elements are the same, and this is\r\n\t\t\t// that element, do not do anything\r\n\t\t\tif ( selection && jQuery.inArray( elem, selection ) !== -1 ) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tcontains = jQuery.contains( elem.ownerDocument, elem );\r\n\r\n\t\t\t// Append to fragment\r\n\t\t\ttmp = getAll( fragment.appendChild( elem ), \"script\" );\r\n\r\n\t\t\t// Preserve script evaluation history\r\n\t\t\tif ( contains ) {\r\n\t\t\t\tsetGlobalEval( tmp );\r\n\t\t\t}\r\n\r\n\t\t\t// Capture executables\r\n\t\t\tif ( scripts ) {\r\n\t\t\t\tj = 0;\r\n\t\t\t\twhile ( (elem = tmp[ j++ ]) ) {\r\n\t\t\t\t\tif ( rscriptType.test( elem.type || \"\" ) ) {\r\n\t\t\t\t\t\tscripts.push( elem );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn fragment;\r\n\t},\r\n\r\n\tcleanData: function( elems ) {\r\n\t\tvar data, elem, type, key,\r\n\t\t\tspecial = jQuery.event.special,\r\n\t\t\ti = 0;\r\n\r\n\t\tfor ( ; (elem = elems[ i ]) !== undefined; i++ ) {\r\n\t\t\tif ( jQuery.acceptData( elem ) ) {\r\n\t\t\t\tkey = elem[ data_priv.expando ];\r\n\r\n\t\t\t\tif ( key && (data = data_priv.cache[ key ]) ) {\r\n\t\t\t\t\tif ( data.events ) {\r\n\t\t\t\t\t\tfor ( type in data.events ) {\r\n\t\t\t\t\t\t\tif ( special[ type ] ) {\r\n\t\t\t\t\t\t\t\tjQuery.event.remove( elem, type );\r\n\r\n\t\t\t\t\t\t\t// This is a shortcut to avoid jQuery.event.remove's overhead\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tjQuery.removeEvent( elem, type, data.handle );\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( data_priv.cache[ key ] ) {\r\n\t\t\t\t\t\t// Discard any remaining `private` data\r\n\t\t\t\t\t\tdelete data_priv.cache[ key ];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// Discard any remaining `user` data\r\n\t\t\tdelete data_user.cache[ elem[ data_user.expando ] ];\r\n\t\t}\r\n\t}\r\n});\r\n\r\njQuery.fn.extend({\r\n\ttext: function( value ) {\r\n\t\treturn access( this, function( value ) {\r\n\t\t\treturn value === undefined ?\r\n\t\t\t\tjQuery.text( this ) :\r\n\t\t\t\tthis.empty().each(function() {\r\n\t\t\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\r\n\t\t\t\t\t\tthis.textContent = value;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}, null, value, arguments.length );\r\n\t},\r\n\r\n\tappend: function() {\r\n\t\treturn this.domManip( arguments, function( elem ) {\r\n\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\r\n\t\t\t\tvar target = manipulationTarget( this, elem );\r\n\t\t\t\ttarget.appendChild( elem );\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\r\n\tprepend: function() {\r\n\t\treturn this.domManip( arguments, function( elem ) {\r\n\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\r\n\t\t\t\tvar target = manipulationTarget( this, elem );\r\n\t\t\t\ttarget.insertBefore( elem, target.firstChild );\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\r\n\tbefore: function() {\r\n\t\treturn this.domManip( arguments, function( elem ) {\r\n\t\t\tif ( this.parentNode ) {\r\n\t\t\t\tthis.parentNode.insertBefore( elem, this );\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\r\n\tafter: function() {\r\n\t\treturn this.domManip( arguments, function( elem ) {\r\n\t\t\tif ( this.parentNode ) {\r\n\t\t\t\tthis.parentNode.insertBefore( elem, this.nextSibling );\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\r\n\tremove: function( selector, keepData /* Internal Use Only */ ) {\r\n\t\tvar elem,\r\n\t\t\telems = selector ? jQuery.filter( selector, this ) : this,\r\n\t\t\ti = 0;\r\n\r\n\t\tfor ( ; (elem = elems[i]) != null; i++ ) {\r\n\t\t\tif ( !keepData && elem.nodeType === 1 ) {\r\n\t\t\t\tjQuery.cleanData( getAll( elem ) );\r\n\t\t\t}\r\n\r\n\t\t\tif ( elem.parentNode ) {\r\n\t\t\t\tif ( keepData && jQuery.contains( elem.ownerDocument, elem ) ) {\r\n\t\t\t\t\tsetGlobalEval( getAll( elem, \"script\" ) );\r\n\t\t\t\t}\r\n\t\t\t\telem.parentNode.removeChild( elem );\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\tempty: function() {\r\n\t\tvar elem,\r\n\t\t\ti = 0;\r\n\r\n\t\tfor ( ; (elem = this[i]) != null; i++ ) {\r\n\t\t\tif ( elem.nodeType === 1 ) {\r\n\r\n\t\t\t\t// Prevent memory leaks\r\n\t\t\t\tjQuery.cleanData( getAll( elem, false ) );\r\n\r\n\t\t\t\t// Remove any remaining nodes\r\n\t\t\t\telem.textContent = \"\";\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\tclone: function( dataAndEvents, deepDataAndEvents ) {\r\n\t\tdataAndEvents = dataAndEvents == null ? false : dataAndEvents;\r\n\t\tdeepDataAndEvents = deepDataAndEvents == null ? dataAndEvents : deepDataAndEvents;\r\n\r\n\t\treturn this.map(function() {\r\n\t\t\treturn jQuery.clone( this, dataAndEvents, deepDataAndEvents );\r\n\t\t});\r\n\t},\r\n\r\n\thtml: function( value ) {\r\n\t\treturn access( this, function( value ) {\r\n\t\t\tvar elem = this[ 0 ] || {},\r\n\t\t\t\ti = 0,\r\n\t\t\t\tl = this.length;\r\n\r\n\t\t\tif ( value === undefined && elem.nodeType === 1 ) {\r\n\t\t\t\treturn elem.innerHTML;\r\n\t\t\t}\r\n\r\n\t\t\t// See if we can take a shortcut and just use innerHTML\r\n\t\t\tif ( typeof value === \"string\" && !rnoInnerhtml.test( value ) &&\r\n\t\t\t\t!wrapMap[ ( rtagName.exec( value ) || [ \"\", \"\" ] )[ 1 ].toLowerCase() ] ) {\r\n\r\n\t\t\t\tvalue = value.replace( rxhtmlTag, \"<$1></$2>\" );\r\n\r\n\t\t\t\ttry {\r\n\t\t\t\t\tfor ( ; i < l; i++ ) {\r\n\t\t\t\t\t\telem = this[ i ] || {};\r\n\r\n\t\t\t\t\t\t// Remove element nodes and prevent memory leaks\r\n\t\t\t\t\t\tif ( elem.nodeType === 1 ) {\r\n\t\t\t\t\t\t\tjQuery.cleanData( getAll( elem, false ) );\r\n\t\t\t\t\t\t\telem.innerHTML = value;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\telem = 0;\r\n\r\n\t\t\t\t// If using innerHTML throws an exception, use the fallback method\r\n\t\t\t\t} catch( e ) {}\r\n\t\t\t}\r\n\r\n\t\t\tif ( elem ) {\r\n\t\t\t\tthis.empty().append( value );\r\n\t\t\t}\r\n\t\t}, null, value, arguments.length );\r\n\t},\r\n\r\n\treplaceWith: function() {\r\n\t\tvar arg = arguments[ 0 ];\r\n\r\n\t\t// Make the changes, replacing each context element with the new content\r\n\t\tthis.domManip( arguments, function( elem ) {\r\n\t\t\targ = this.parentNode;\r\n\r\n\t\t\tjQuery.cleanData( getAll( this ) );\r\n\r\n\t\t\tif ( arg ) {\r\n\t\t\t\targ.replaceChild( elem, this );\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t// Force removal if there was no new content (e.g., from empty arguments)\r\n\t\treturn arg && (arg.length || arg.nodeType) ? this : this.remove();\r\n\t},\r\n\r\n\tdetach: function( selector ) {\r\n\t\treturn this.remove( selector, true );\r\n\t},\r\n\r\n\tdomManip: function( args, callback ) {\r\n\r\n\t\t// Flatten any nested arrays\r\n\t\targs = concat.apply( [], args );\r\n\r\n\t\tvar fragment, first, scripts, hasScripts, node, doc,\r\n\t\t\ti = 0,\r\n\t\t\tl = this.length,\r\n\t\t\tset = this,\r\n\t\t\tiNoClone = l - 1,\r\n\t\t\tvalue = args[ 0 ],\r\n\t\t\tisFunction = jQuery.isFunction( value );\r\n\r\n\t\t// We can't cloneNode fragments that contain checked, in WebKit\r\n\t\tif ( isFunction ||\r\n\t\t\t\t( l > 1 && typeof value === \"string\" &&\r\n\t\t\t\t\t!support.checkClone && rchecked.test( value ) ) ) {\r\n\t\t\treturn this.each(function( index ) {\r\n\t\t\t\tvar self = set.eq( index );\r\n\t\t\t\tif ( isFunction ) {\r\n\t\t\t\t\targs[ 0 ] = value.call( this, index, self.html() );\r\n\t\t\t\t}\r\n\t\t\t\tself.domManip( args, callback );\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif ( l ) {\r\n\t\t\tfragment = jQuery.buildFragment( args, this[ 0 ].ownerDocument, false, this );\r\n\t\t\tfirst = fragment.firstChild;\r\n\r\n\t\t\tif ( fragment.childNodes.length === 1 ) {\r\n\t\t\t\tfragment = first;\r\n\t\t\t}\r\n\r\n\t\t\tif ( first ) {\r\n\t\t\t\tscripts = jQuery.map( getAll( fragment, \"script\" ), disableScript );\r\n\t\t\t\thasScripts = scripts.length;\r\n\r\n\t\t\t\t// Use the original fragment for the last item instead of the first because it can end up\r\n\t\t\t\t// being emptied incorrectly in certain situations (#8070).\r\n\t\t\t\tfor ( ; i < l; i++ ) {\r\n\t\t\t\t\tnode = fragment;\r\n\r\n\t\t\t\t\tif ( i !== iNoClone ) {\r\n\t\t\t\t\t\tnode = jQuery.clone( node, true, true );\r\n\r\n\t\t\t\t\t\t// Keep references to cloned scripts for later restoration\r\n\t\t\t\t\t\tif ( hasScripts ) {\r\n\t\t\t\t\t\t\t// Support: QtWebKit\r\n\t\t\t\t\t\t\t// jQuery.merge because push.apply(_, arraylike) throws\r\n\t\t\t\t\t\t\tjQuery.merge( scripts, getAll( node, \"script\" ) );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tcallback.call( this[ i ], node, i );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( hasScripts ) {\r\n\t\t\t\t\tdoc = scripts[ scripts.length - 1 ].ownerDocument;\r\n\r\n\t\t\t\t\t// Reenable scripts\r\n\t\t\t\t\tjQuery.map( scripts, restoreScript );\r\n\r\n\t\t\t\t\t// Evaluate executable scripts on first document insertion\r\n\t\t\t\t\tfor ( i = 0; i < hasScripts; i++ ) {\r\n\t\t\t\t\t\tnode = scripts[ i ];\r\n\t\t\t\t\t\tif ( rscriptType.test( node.type || \"\" ) &&\r\n\t\t\t\t\t\t\t!data_priv.access( node, \"globalEval\" ) && jQuery.contains( doc, node ) ) {\r\n\r\n\t\t\t\t\t\t\tif ( node.src ) {\r\n\t\t\t\t\t\t\t\t// Optional AJAX dependency, but won't run scripts if not present\r\n\t\t\t\t\t\t\t\tif ( jQuery._evalUrl ) {\r\n\t\t\t\t\t\t\t\t\tjQuery._evalUrl( node.src );\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tjQuery.globalEval( node.textContent.replace( rcleanScript, \"\" ) );\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t}\r\n});\r\n\r\njQuery.each({\r\n\tappendTo: \"append\",\r\n\tprependTo: \"prepend\",\r\n\tinsertBefore: \"before\",\r\n\tinsertAfter: \"after\",\r\n\treplaceAll: \"replaceWith\"\r\n}, function( name, original ) {\r\n\tjQuery.fn[ name ] = function( selector ) {\r\n\t\tvar elems,\r\n\t\t\tret = [],\r\n\t\t\tinsert = jQuery( selector ),\r\n\t\t\tlast = insert.length - 1,\r\n\t\t\ti = 0;\r\n\r\n\t\tfor ( ; i <= last; i++ ) {\r\n\t\t\telems = i === last ? this : this.clone( true );\r\n\t\t\tjQuery( insert[ i ] )[ original ]( elems );\r\n\r\n\t\t\t// Support: QtWebKit\r\n\t\t\t// .get() because push.apply(_, arraylike) throws\r\n\t\t\tpush.apply( ret, elems.get() );\r\n\t\t}\r\n\r\n\t\treturn this.pushStack( ret );\r\n\t};\r\n});\r\n\r\n\r\nvar iframe,\r\n\telemdisplay = {};\r\n\r\n/**\r\n * Retrieve the actual display of a element\r\n * @param {String} name nodeName of the element\r\n * @param {Object} doc Document object\r\n */\r\n// Called only from within defaultDisplay\r\nfunction actualDisplay( name, doc ) {\r\n\tvar style,\r\n\t\telem = jQuery( doc.createElement( name ) ).appendTo( doc.body ),\r\n\r\n\t\t// getDefaultComputedStyle might be reliably used only on attached element\r\n\t\tdisplay = window.getDefaultComputedStyle && ( style = window.getDefaultComputedStyle( elem[ 0 ] ) ) ?\r\n\r\n\t\t\t// Use of this method is a temporary fix (more like optmization) until something better comes along,\r\n\t\t\t// since it was removed from specification and supported only in FF\r\n\t\t\tstyle.display : jQuery.css( elem[ 0 ], \"display\" );\r\n\r\n\t// We don't have any data stored on the element,\r\n\t// so use \"detach\" method as fast way to get rid of the element\r\n\telem.detach();\r\n\r\n\treturn display;\r\n}\r\n\r\n/**\r\n * Try to determine the default display value of an element\r\n * @param {String} nodeName\r\n */\r\nfunction defaultDisplay( nodeName ) {\r\n\tvar doc = document,\r\n\t\tdisplay = elemdisplay[ nodeName ];\r\n\r\n\tif ( !display ) {\r\n\t\tdisplay = actualDisplay( nodeName, doc );\r\n\r\n\t\t// If the simple way fails, read from inside an iframe\r\n\t\tif ( display === \"none\" || !display ) {\r\n\r\n\t\t\t// Use the already-created iframe if possible\r\n\t\t\tiframe = (iframe || jQuery( \"<iframe frameborder='0' width='0' height='0'/>\" )).appendTo( doc.documentElement );\r\n\r\n\t\t\t// Always write a new HTML skeleton so Webkit and Firefox don't choke on reuse\r\n\t\t\tdoc = iframe[ 0 ].contentDocument;\r\n\r\n\t\t\t// Support: IE\r\n\t\t\tdoc.write();\r\n\t\t\tdoc.close();\r\n\r\n\t\t\tdisplay = actualDisplay( nodeName, doc );\r\n\t\t\tiframe.detach();\r\n\t\t}\r\n\r\n\t\t// Store the correct default display\r\n\t\telemdisplay[ nodeName ] = display;\r\n\t}\r\n\r\n\treturn display;\r\n}\r\nvar rmargin = (/^margin/);\r\n\r\nvar rnumnonpx = new RegExp( \"^(\" + pnum + \")(?!px)[a-z%]+$\", \"i\" );\r\n\r\nvar getStyles = function( elem ) {\r\n\t\treturn elem.ownerDocument.defaultView.getComputedStyle( elem, null );\r\n\t};\r\n\r\n\r\n\r\nfunction curCSS( elem, name, computed ) {\r\n\tvar width, minWidth, maxWidth, ret,\r\n\t\tstyle = elem.style;\r\n\r\n\tcomputed = computed || getStyles( elem );\r\n\r\n\t// Support: IE9\r\n\t// getPropertyValue is only needed for .css('filter') in IE9, see #12537\r\n\tif ( computed ) {\r\n\t\tret = computed.getPropertyValue( name ) || computed[ name ];\r\n\t}\r\n\r\n\tif ( computed ) {\r\n\r\n\t\tif ( ret === \"\" && !jQuery.contains( elem.ownerDocument, elem ) ) {\r\n\t\t\tret = jQuery.style( elem, name );\r\n\t\t}\r\n\r\n\t\t// Support: iOS < 6\r\n\t\t// A tribute to the \"awesome hack by Dean Edwards\"\r\n\t\t// iOS < 6 (at least) returns percentage for a larger set of values, but width seems to be reliably pixels\r\n\t\t// this is against the CSSOM draft spec: http://dev.w3.org/csswg/cssom/#resolved-values\r\n\t\tif ( rnumnonpx.test( ret ) && rmargin.test( name ) ) {\r\n\r\n\t\t\t// Remember the original values\r\n\t\t\twidth = style.width;\r\n\t\t\tminWidth = style.minWidth;\r\n\t\t\tmaxWidth = style.maxWidth;\r\n\r\n\t\t\t// Put in the new values to get a computed value out\r\n\t\t\tstyle.minWidth = style.maxWidth = style.width = ret;\r\n\t\t\tret = computed.width;\r\n\r\n\t\t\t// Revert the changed values\r\n\t\t\tstyle.width = width;\r\n\t\t\tstyle.minWidth = minWidth;\r\n\t\t\tstyle.maxWidth = maxWidth;\r\n\t\t}\r\n\t}\r\n\r\n\treturn ret !== undefined ?\r\n\t\t// Support: IE\r\n\t\t// IE returns zIndex value as an integer.\r\n\t\tret + \"\" :\r\n\t\tret;\r\n}\r\n\r\n\r\nfunction addGetHookIf( conditionFn, hookFn ) {\r\n\t// Define the hook, we'll check on the first run if it's really needed.\r\n\treturn {\r\n\t\tget: function() {\r\n\t\t\tif ( conditionFn() ) {\r\n\t\t\t\t// Hook not needed (or it's not possible to use it due to missing dependency),\r\n\t\t\t\t// remove it.\r\n\t\t\t\t// Since there are no other hooks for marginRight, remove the whole object.\r\n\t\t\t\tdelete this.get;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// Hook needed; redefine it so that the support test is not executed again.\r\n\r\n\t\t\treturn (this.get = hookFn).apply( this, arguments );\r\n\t\t}\r\n\t};\r\n}\r\n\r\n\r\n(function() {\r\n\tvar pixelPositionVal, boxSizingReliableVal,\r\n\t\tdocElem = document.documentElement,\r\n\t\tcontainer = document.createElement( \"div\" ),\r\n\t\tdiv = document.createElement( \"div\" );\r\n\r\n\tif ( !div.style ) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tdiv.style.backgroundClip = \"content-box\";\r\n\tdiv.cloneNode( true ).style.backgroundClip = \"\";\r\n\tsupport.clearCloneStyle = div.style.backgroundClip === \"content-box\";\r\n\r\n\tcontainer.style.cssText = \"border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;\" +\r\n\t\t\"position:absolute\";\r\n\tcontainer.appendChild( div );\r\n\r\n\t// Executing both pixelPosition & boxSizingReliable tests require only one layout\r\n\t// so they're executed at the same time to save the second computation.\r\n\tfunction computePixelPositionAndBoxSizingReliable() {\r\n\t\tdiv.style.cssText =\r\n\t\t\t// Support: Firefox<29, Android 2.3\r\n\t\t\t// Vendor-prefix box-sizing\r\n\t\t\t\"-webkit-box-sizing:border-box;-moz-box-sizing:border-box;\" +\r\n\t\t\t\"box-sizing:border-box;display:block;margin-top:1%;top:1%;\" +\r\n\t\t\t\"border:1px;padding:1px;width:4px;position:absolute\";\r\n\t\tdiv.innerHTML = \"\";\r\n\t\tdocElem.appendChild( container );\r\n\r\n\t\tvar divStyle = window.getComputedStyle( div, null );\r\n\t\tpixelPositionVal = divStyle.top !== \"1%\";\r\n\t\tboxSizingReliableVal = divStyle.width === \"4px\";\r\n\r\n\t\tdocElem.removeChild( container );\r\n\t}\r\n\r\n\t// Support: node.js jsdom\r\n\t// Don't assume that getComputedStyle is a property of the global object\r\n\tif ( window.getComputedStyle ) {\r\n\t\tjQuery.extend( support, {\r\n\t\t\tpixelPosition: function() {\r\n\t\t\t\t// This test is executed only once but we still do memoizing\r\n\t\t\t\t// since we can use the boxSizingReliable pre-computing.\r\n\t\t\t\t// No need to check if the test was already performed, though.\r\n\t\t\t\tcomputePixelPositionAndBoxSizingReliable();\r\n\t\t\t\treturn pixelPositionVal;\r\n\t\t\t},\r\n\t\t\tboxSizingReliable: function() {\r\n\t\t\t\tif ( boxSizingReliableVal == null ) {\r\n\t\t\t\t\tcomputePixelPositionAndBoxSizingReliable();\r\n\t\t\t\t}\r\n\t\t\t\treturn boxSizingReliableVal;\r\n\t\t\t},\r\n\t\t\treliableMarginRight: function() {\r\n\t\t\t\t// Support: Android 2.3\r\n\t\t\t\t// Check if div with explicit width and no margin-right incorrectly\r\n\t\t\t\t// gets computed margin-right based on width of container. (#3333)\r\n\t\t\t\t// WebKit Bug 13343 - getComputedStyle returns wrong value for margin-right\r\n\t\t\t\t// This support function is only executed once so no memoizing is needed.\r\n\t\t\t\tvar ret,\r\n\t\t\t\t\tmarginDiv = div.appendChild( document.createElement( \"div\" ) );\r\n\r\n\t\t\t\t// Reset CSS: box-sizing; display; margin; border; padding\r\n\t\t\t\tmarginDiv.style.cssText = div.style.cssText =\r\n\t\t\t\t\t// Support: Firefox<29, Android 2.3\r\n\t\t\t\t\t// Vendor-prefix box-sizing\r\n\t\t\t\t\t\"-webkit-box-sizing:content-box;-moz-box-sizing:content-box;\" +\r\n\t\t\t\t\t\"box-sizing:content-box;display:block;margin:0;border:0;padding:0\";\r\n\t\t\t\tmarginDiv.style.marginRight = marginDiv.style.width = \"0\";\r\n\t\t\t\tdiv.style.width = \"1px\";\r\n\t\t\t\tdocElem.appendChild( container );\r\n\r\n\t\t\t\tret = !parseFloat( window.getComputedStyle( marginDiv, null ).marginRight );\r\n\r\n\t\t\t\tdocElem.removeChild( container );\r\n\r\n\t\t\t\treturn ret;\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n})();\r\n\r\n\r\n// A method for quickly swapping in/out CSS properties to get correct calculations.\r\njQuery.swap = function( elem, options, callback, args ) {\r\n\tvar ret, name,\r\n\t\told = {};\r\n\r\n\t// Remember the old values, and insert the new ones\r\n\tfor ( name in options ) {\r\n\t\told[ name ] = elem.style[ name ];\r\n\t\telem.style[ name ] = options[ name ];\r\n\t}\r\n\r\n\tret = callback.apply( elem, args || [] );\r\n\r\n\t// Revert the old values\r\n\tfor ( name in options ) {\r\n\t\telem.style[ name ] = old[ name ];\r\n\t}\r\n\r\n\treturn ret;\r\n};\r\n\r\n\r\nvar\r\n\t// swappable if display is none or starts with table except \"table\", \"table-cell\", or \"table-caption\"\r\n\t// see here for display values: https://developer.mozilla.org/en-US/docs/CSS/display\r\n\trdisplayswap = /^(none|table(?!-c[ea]).+)/,\r\n\trnumsplit = new RegExp( \"^(\" + pnum + \")(.*)$\", \"i\" ),\r\n\trrelNum = new RegExp( \"^([+-])=(\" + pnum + \")\", \"i\" ),\r\n\r\n\tcssShow = { position: \"absolute\", visibility: \"hidden\", display: \"block\" },\r\n\tcssNormalTransform = {\r\n\t\tletterSpacing: \"0\",\r\n\t\tfontWeight: \"400\"\r\n\t},\r\n\r\n\tcssPrefixes = [ \"Webkit\", \"O\", \"Moz\", \"ms\" ];\r\n\r\n// return a css property mapped to a potentially vendor prefixed property\r\nfunction vendorPropName( style, name ) {\r\n\r\n\t// shortcut for names that are not vendor prefixed\r\n\tif ( name in style ) {\r\n\t\treturn name;\r\n\t}\r\n\r\n\t// check for vendor prefixed names\r\n\tvar capName = name[0].toUpperCase() + name.slice(1),\r\n\t\torigName = name,\r\n\t\ti = cssPrefixes.length;\r\n\r\n\twhile ( i-- ) {\r\n\t\tname = cssPrefixes[ i ] + capName;\r\n\t\tif ( name in style ) {\r\n\t\t\treturn name;\r\n\t\t}\r\n\t}\r\n\r\n\treturn origName;\r\n}\r\n\r\nfunction setPositiveNumber( elem, value, subtract ) {\r\n\tvar matches = rnumsplit.exec( value );\r\n\treturn matches ?\r\n\t\t// Guard against undefined \"subtract\", e.g., when used as in cssHooks\r\n\t\tMath.max( 0, matches[ 1 ] - ( subtract || 0 ) ) + ( matches[ 2 ] || \"px\" ) :\r\n\t\tvalue;\r\n}\r\n\r\nfunction augmentWidthOrHeight( elem, name, extra, isBorderBox, styles ) {\r\n\tvar i = extra === ( isBorderBox ? \"border\" : \"content\" ) ?\r\n\t\t// If we already have the right measurement, avoid augmentation\r\n\t\t4 :\r\n\t\t// Otherwise initialize for horizontal or vertical properties\r\n\t\tname === \"width\" ? 1 : 0,\r\n\r\n\t\tval = 0;\r\n\r\n\tfor ( ; i < 4; i += 2 ) {\r\n\t\t// both box models exclude margin, so add it if we want it\r\n\t\tif ( extra === \"margin\" ) {\r\n\t\t\tval += jQuery.css( elem, extra + cssExpand[ i ], true, styles );\r\n\t\t}\r\n\r\n\t\tif ( isBorderBox ) {\r\n\t\t\t// border-box includes padding, so remove it if we want content\r\n\t\t\tif ( extra === \"content\" ) {\r\n\t\t\t\tval -= jQuery.css( elem, \"padding\" + cssExpand[ i ], true, styles );\r\n\t\t\t}\r\n\r\n\t\t\t// at this point, extra isn't border nor margin, so remove border\r\n\t\t\tif ( extra !== \"margin\" ) {\r\n\t\t\t\tval -= jQuery.css( elem, \"border\" + cssExpand[ i ] + \"Width\", true, styles );\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t// at this point, extra isn't content, so add padding\r\n\t\t\tval += jQuery.css( elem, \"padding\" + cssExpand[ i ], true, styles );\r\n\r\n\t\t\t// at this point, extra isn't content nor padding, so add border\r\n\t\t\tif ( extra !== \"padding\" ) {\r\n\t\t\t\tval += jQuery.css( elem, \"border\" + cssExpand[ i ] + \"Width\", true, styles );\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn val;\r\n}\r\n\r\nfunction getWidthOrHeight( elem, name, extra ) {\r\n\r\n\t// Start with offset property, which is equivalent to the border-box value\r\n\tvar valueIsBorderBox = true,\r\n\t\tval = name === \"width\" ? elem.offsetWidth : elem.offsetHeight,\r\n\t\tstyles = getStyles( elem ),\r\n\t\tisBorderBox = jQuery.css( elem, \"boxSizing\", false, styles ) === \"border-box\";\r\n\r\n\t// some non-html elements return undefined for offsetWidth, so check for null/undefined\r\n\t// svg - https://bugzilla.mozilla.org/show_bug.cgi?id=649285\r\n\t// MathML - https://bugzilla.mozilla.org/show_bug.cgi?id=491668\r\n\tif ( val <= 0 || val == null ) {\r\n\t\t// Fall back to computed then uncomputed css if necessary\r\n\t\tval = curCSS( elem, name, styles );\r\n\t\tif ( val < 0 || val == null ) {\r\n\t\t\tval = elem.style[ name ];\r\n\t\t}\r\n\r\n\t\t// Computed unit is not pixels. Stop here and return.\r\n\t\tif ( rnumnonpx.test(val) ) {\r\n\t\t\treturn val;\r\n\t\t}\r\n\r\n\t\t// we need the check for style in case a browser which returns unreliable values\r\n\t\t// for getComputedStyle silently falls back to the reliable elem.style\r\n\t\tvalueIsBorderBox = isBorderBox &&\r\n\t\t\t( support.boxSizingReliable() || val === elem.style[ name ] );\r\n\r\n\t\t// Normalize \"\", auto, and prepare for extra\r\n\t\tval = parseFloat( val ) || 0;\r\n\t}\r\n\r\n\t// use the active box-sizing model to add/subtract irrelevant styles\r\n\treturn ( val +\r\n\t\taugmentWidthOrHeight(\r\n\t\t\telem,\r\n\t\t\tname,\r\n\t\t\textra || ( isBorderBox ? \"border\" : \"content\" ),\r\n\t\t\tvalueIsBorderBox,\r\n\t\t\tstyles\r\n\t\t)\r\n\t) + \"px\";\r\n}\r\n\r\nfunction showHide( elements, show ) {\r\n\tvar display, elem, hidden,\r\n\t\tvalues = [],\r\n\t\tindex = 0,\r\n\t\tlength = elements.length;\r\n\r\n\tfor ( ; index < length; index++ ) {\r\n\t\telem = elements[ index ];\r\n\t\tif ( !elem.style ) {\r\n\t\t\tcontinue;\r\n\t\t}\r\n\r\n\t\tvalues[ index ] = data_priv.get( elem, \"olddisplay\" );\r\n\t\tdisplay = elem.style.display;\r\n\t\tif ( show ) {\r\n\t\t\t// Reset the inline display of this element to learn if it is\r\n\t\t\t// being hidden by cascaded rules or not\r\n\t\t\tif ( !values[ index ] && display === \"none\" ) {\r\n\t\t\t\telem.style.display = \"\";\r\n\t\t\t}\r\n\r\n\t\t\t// Set elements which have been overridden with display: none\r\n\t\t\t// in a stylesheet to whatever the default browser style is\r\n\t\t\t// for such an element\r\n\t\t\tif ( elem.style.display === \"\" && isHidden( elem ) ) {\r\n\t\t\t\tvalues[ index ] = data_priv.access( elem, \"olddisplay\", defaultDisplay(elem.nodeName) );\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\thidden = isHidden( elem );\r\n\r\n\t\t\tif ( display !== \"none\" || !hidden ) {\r\n\t\t\t\tdata_priv.set( elem, \"olddisplay\", hidden ? display : jQuery.css( elem, \"display\" ) );\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// Set the display of most of the elements in a second loop\r\n\t// to avoid the constant reflow\r\n\tfor ( index = 0; index < length; index++ ) {\r\n\t\telem = elements[ index ];\r\n\t\tif ( !elem.style ) {\r\n\t\t\tcontinue;\r\n\t\t}\r\n\t\tif ( !show || elem.style.display === \"none\" || elem.style.display === \"\" ) {\r\n\t\t\telem.style.display = show ? values[ index ] || \"\" : \"none\";\r\n\t\t}\r\n\t}\r\n\r\n\treturn elements;\r\n}\r\n\r\njQuery.extend({\r\n\t// Add in style property hooks for overriding the default\r\n\t// behavior of getting and setting a style property\r\n\tcssHooks: {\r\n\t\topacity: {\r\n\t\t\tget: function( elem, computed ) {\r\n\t\t\t\tif ( computed ) {\r\n\t\t\t\t\t// We should always get a number back from opacity\r\n\t\t\t\t\tvar ret = curCSS( elem, \"opacity\" );\r\n\t\t\t\t\treturn ret === \"\" ? \"1\" : ret;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t// Don't automatically add \"px\" to these possibly-unitless properties\r\n\tcssNumber: {\r\n\t\t\"columnCount\": true,\r\n\t\t\"fillOpacity\": true,\r\n\t\t\"flexGrow\": true,\r\n\t\t\"flexShrink\": true,\r\n\t\t\"fontWeight\": true,\r\n\t\t\"lineHeight\": true,\r\n\t\t\"opacity\": true,\r\n\t\t\"order\": true,\r\n\t\t\"orphans\": true,\r\n\t\t\"widows\": true,\r\n\t\t\"zIndex\": true,\r\n\t\t\"zoom\": true\r\n\t},\r\n\r\n\t// Add in properties whose names you wish to fix before\r\n\t// setting or getting the value\r\n\tcssProps: {\r\n\t\t// normalize float css property\r\n\t\t\"float\": \"cssFloat\"\r\n\t},\r\n\r\n\t// Get and set the style property on a DOM Node\r\n\tstyle: function( elem, name, value, extra ) {\r\n\t\t// Don't set styles on text and comment nodes\r\n\t\tif ( !elem || elem.nodeType === 3 || elem.nodeType === 8 || !elem.style ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Make sure that we're working with the right name\r\n\t\tvar ret, type, hooks,\r\n\t\t\torigName = jQuery.camelCase( name ),\r\n\t\t\tstyle = elem.style;\r\n\r\n\t\tname = jQuery.cssProps[ origName ] || ( jQuery.cssProps[ origName ] = vendorPropName( style, origName ) );\r\n\r\n\t\t// gets hook for the prefixed version\r\n\t\t// followed by the unprefixed version\r\n\t\thooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];\r\n\r\n\t\t// Check if we're setting a value\r\n\t\tif ( value !== undefined ) {\r\n\t\t\ttype = typeof value;\r\n\r\n\t\t\t// convert relative number strings (+= or -=) to relative numbers. #7345\r\n\t\t\tif ( type === \"string\" && (ret = rrelNum.exec( value )) ) {\r\n\t\t\t\tvalue = ( ret[1] + 1 ) * ret[2] + parseFloat( jQuery.css( elem, name ) );\r\n\t\t\t\t// Fixes bug #9237\r\n\t\t\t\ttype = \"number\";\r\n\t\t\t}\r\n\r\n\t\t\t// Make sure that null and NaN values aren't set. See: #7116\r\n\t\t\tif ( value == null || value !== value ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// If a number was passed in, add 'px' to the (except for certain CSS properties)\r\n\t\t\tif ( type === \"number\" && !jQuery.cssNumber[ origName ] ) {\r\n\t\t\t\tvalue += \"px\";\r\n\t\t\t}\r\n\r\n\t\t\t// Fixes #8908, it can be done more correctly by specifying setters in cssHooks,\r\n\t\t\t// but it would mean to define eight (for every problematic property) identical functions\r\n\t\t\tif ( !support.clearCloneStyle && value === \"\" && name.indexOf( \"background\" ) === 0 ) {\r\n\t\t\t\tstyle[ name ] = \"inherit\";\r\n\t\t\t}\r\n\r\n\t\t\t// If a hook was provided, use that value, otherwise just set the specified value\r\n\t\t\tif ( !hooks || !(\"set\" in hooks) || (value = hooks.set( elem, value, extra )) !== undefined ) {\r\n\t\t\t\tstyle[ name ] = value;\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\t\t\t// If a hook was provided get the non-computed value from there\r\n\t\t\tif ( hooks && \"get\" in hooks && (ret = hooks.get( elem, false, extra )) !== undefined ) {\r\n\t\t\t\treturn ret;\r\n\t\t\t}\r\n\r\n\t\t\t// Otherwise just get the value from the style object\r\n\t\t\treturn style[ name ];\r\n\t\t}\r\n\t},\r\n\r\n\tcss: function( elem, name, extra, styles ) {\r\n\t\tvar val, num, hooks,\r\n\t\t\torigName = jQuery.camelCase( name );\r\n\r\n\t\t// Make sure that we're working with the right name\r\n\t\tname = jQuery.cssProps[ origName ] || ( jQuery.cssProps[ origName ] = vendorPropName( elem.style, origName ) );\r\n\r\n\t\t// gets hook for the prefixed version\r\n\t\t// followed by the unprefixed version\r\n\t\thooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];\r\n\r\n\t\t// If a hook was provided get the computed value from there\r\n\t\tif ( hooks && \"get\" in hooks ) {\r\n\t\t\tval = hooks.get( elem, true, extra );\r\n\t\t}\r\n\r\n\t\t// Otherwise, if a way to get the computed value exists, use that\r\n\t\tif ( val === undefined ) {\r\n\t\t\tval = curCSS( elem, name, styles );\r\n\t\t}\r\n\r\n\t\t//convert \"normal\" to computed value\r\n\t\tif ( val === \"normal\" && name in cssNormalTransform ) {\r\n\t\t\tval = cssNormalTransform[ name ];\r\n\t\t}\r\n\r\n\t\t// Return, converting to number if forced or a qualifier was provided and val looks numeric\r\n\t\tif ( extra === \"\" || extra ) {\r\n\t\t\tnum = parseFloat( val );\r\n\t\t\treturn extra === true || jQuery.isNumeric( num ) ? num || 0 : val;\r\n\t\t}\r\n\t\treturn val;\r\n\t}\r\n});\r\n\r\njQuery.each([ \"height\", \"width\" ], function( i, name ) {\r\n\tjQuery.cssHooks[ name ] = {\r\n\t\tget: function( elem, computed, extra ) {\r\n\t\t\tif ( computed ) {\r\n\t\t\t\t// certain elements can have dimension info if we invisibly show them\r\n\t\t\t\t// however, it must have a current display style that would benefit from this\r\n\t\t\t\treturn rdisplayswap.test( jQuery.css( elem, \"display\" ) ) && elem.offsetWidth === 0 ?\r\n\t\t\t\t\tjQuery.swap( elem, cssShow, function() {\r\n\t\t\t\t\t\treturn getWidthOrHeight( elem, name, extra );\r\n\t\t\t\t\t}) :\r\n\t\t\t\t\tgetWidthOrHeight( elem, name, extra );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tset: function( elem, value, extra ) {\r\n\t\t\tvar styles = extra && getStyles( elem );\r\n\t\t\treturn setPositiveNumber( elem, value, extra ?\r\n\t\t\t\taugmentWidthOrHeight(\r\n\t\t\t\t\telem,\r\n\t\t\t\t\tname,\r\n\t\t\t\t\textra,\r\n\t\t\t\t\tjQuery.css( elem, \"boxSizing\", false, styles ) === \"border-box\",\r\n\t\t\t\t\tstyles\r\n\t\t\t\t) : 0\r\n\t\t\t);\r\n\t\t}\r\n\t};\r\n});\r\n\r\n// Support: Android 2.3\r\njQuery.cssHooks.marginRight = addGetHookIf( support.reliableMarginRight,\r\n\tfunction( elem, computed ) {\r\n\t\tif ( computed ) {\r\n\t\t\t// WebKit Bug 13343 - getComputedStyle returns wrong value for margin-right\r\n\t\t\t// Work around by temporarily setting element display to inline-block\r\n\t\t\treturn jQuery.swap( elem, { \"display\": \"inline-block\" },\r\n\t\t\t\tcurCSS, [ elem, \"marginRight\" ] );\r\n\t\t}\r\n\t}\r\n);\r\n\r\n// These hooks are used by animate to expand properties\r\njQuery.each({\r\n\tmargin: \"\",\r\n\tpadding: \"\",\r\n\tborder: \"Width\"\r\n}, function( prefix, suffix ) {\r\n\tjQuery.cssHooks[ prefix + suffix ] = {\r\n\t\texpand: function( value ) {\r\n\t\t\tvar i = 0,\r\n\t\t\t\texpanded = {},\r\n\r\n\t\t\t\t// assumes a single number if not a string\r\n\t\t\t\tparts = typeof value === \"string\" ? value.split(\" \") : [ value ];\r\n\r\n\t\t\tfor ( ; i < 4; i++ ) {\r\n\t\t\t\texpanded[ prefix + cssExpand[ i ] + suffix ] =\r\n\t\t\t\t\tparts[ i ] || parts[ i - 2 ] || parts[ 0 ];\r\n\t\t\t}\r\n\r\n\t\t\treturn expanded;\r\n\t\t}\r\n\t};\r\n\r\n\tif ( !rmargin.test( prefix ) ) {\r\n\t\tjQuery.cssHooks[ prefix + suffix ].set = setPositiveNumber;\r\n\t}\r\n});\r\n\r\njQuery.fn.extend({\r\n\tcss: function( name, value ) {\r\n\t\treturn access( this, function( elem, name, value ) {\r\n\t\t\tvar styles, len,\r\n\t\t\t\tmap = {},\r\n\t\t\t\ti = 0;\r\n\r\n\t\t\tif ( jQuery.isArray( name ) ) {\r\n\t\t\t\tstyles = getStyles( elem );\r\n\t\t\t\tlen = name.length;\r\n\r\n\t\t\t\tfor ( ; i < len; i++ ) {\r\n\t\t\t\t\tmap[ name[ i ] ] = jQuery.css( elem, name[ i ], false, styles );\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn map;\r\n\t\t\t}\r\n\r\n\t\t\treturn value !== undefined ?\r\n\t\t\t\tjQuery.style( elem, name, value ) :\r\n\t\t\t\tjQuery.css( elem, name );\r\n\t\t}, name, value, arguments.length > 1 );\r\n\t},\r\n\tshow: function() {\r\n\t\treturn showHide( this, true );\r\n\t},\r\n\thide: function() {\r\n\t\treturn showHide( this );\r\n\t},\r\n\ttoggle: function( state ) {\r\n\t\tif ( typeof state === \"boolean\" ) {\r\n\t\t\treturn state ? this.show() : this.hide();\r\n\t\t}\r\n\r\n\t\treturn this.each(function() {\r\n\t\t\tif ( isHidden( this ) ) {\r\n\t\t\t\tjQuery( this ).show();\r\n\t\t\t} else {\r\n\t\t\t\tjQuery( this ).hide();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n});\r\n\r\n\r\nfunction Tween( elem, options, prop, end, easing ) {\r\n\treturn new Tween.prototype.init( elem, options, prop, end, easing );\r\n}\r\njQuery.Tween = Tween;\r\n\r\nTween.prototype = {\r\n\tconstructor: Tween,\r\n\tinit: function( elem, options, prop, end, easing, unit ) {\r\n\t\tthis.elem = elem;\r\n\t\tthis.prop = prop;\r\n\t\tthis.easing = easing || \"swing\";\r\n\t\tthis.options = options;\r\n\t\tthis.start = this.now = this.cur();\r\n\t\tthis.end = end;\r\n\t\tthis.unit = unit || ( jQuery.cssNumber[ prop ] ? \"\" : \"px\" );\r\n\t},\r\n\tcur: function() {\r\n\t\tvar hooks = Tween.propHooks[ this.prop ];\r\n\r\n\t\treturn hooks && hooks.get ?\r\n\t\t\thooks.get( this ) :\r\n\t\t\tTween.propHooks._default.get( this );\r\n\t},\r\n\trun: function( percent ) {\r\n\t\tvar eased,\r\n\t\t\thooks = Tween.propHooks[ this.prop ];\r\n\r\n\t\tif ( this.options.duration ) {\r\n\t\t\tthis.pos = eased = jQuery.easing[ this.easing ](\r\n\t\t\t\tpercent, this.options.duration * percent, 0, 1, this.options.duration\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tthis.pos = eased = percent;\r\n\t\t}\r\n\t\tthis.now = ( this.end - this.start ) * eased + this.start;\r\n\r\n\t\tif ( this.options.step ) {\r\n\t\t\tthis.options.step.call( this.elem, this.now, this );\r\n\t\t}\r\n\r\n\t\tif ( hooks && hooks.set ) {\r\n\t\t\thooks.set( this );\r\n\t\t} else {\r\n\t\t\tTween.propHooks._default.set( this );\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n};\r\n\r\nTween.prototype.init.prototype = Tween.prototype;\r\n\r\nTween.propHooks = {\r\n\t_default: {\r\n\t\tget: function( tween ) {\r\n\t\t\tvar result;\r\n\r\n\t\t\tif ( tween.elem[ tween.prop ] != null &&\r\n\t\t\t\t(!tween.elem.style || tween.elem.style[ tween.prop ] == null) ) {\r\n\t\t\t\treturn tween.elem[ tween.prop ];\r\n\t\t\t}\r\n\r\n\t\t\t// passing an empty string as a 3rd parameter to .css will automatically\r\n\t\t\t// attempt a parseFloat and fallback to a string if the parse fails\r\n\t\t\t// so, simple values such as \"10px\" are parsed to Float.\r\n\t\t\t// complex values such as \"rotate(1rad)\" are returned as is.\r\n\t\t\tresult = jQuery.css( tween.elem, tween.prop, \"\" );\r\n\t\t\t// Empty strings, null, undefined and \"auto\" are converted to 0.\r\n\t\t\treturn !result || result === \"auto\" ? 0 : result;\r\n\t\t},\r\n\t\tset: function( tween ) {\r\n\t\t\t// use step hook for back compat - use cssHook if its there - use .style if its\r\n\t\t\t// available and use plain properties where available\r\n\t\t\tif ( jQuery.fx.step[ tween.prop ] ) {\r\n\t\t\t\tjQuery.fx.step[ tween.prop ]( tween );\r\n\t\t\t} else if ( tween.elem.style && ( tween.elem.style[ jQuery.cssProps[ tween.prop ] ] != null || jQuery.cssHooks[ tween.prop ] ) ) {\r\n\t\t\t\tjQuery.style( tween.elem, tween.prop, tween.now + tween.unit );\r\n\t\t\t} else {\r\n\t\t\t\ttween.elem[ tween.prop ] = tween.now;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n\r\n// Support: IE9\r\n// Panic based approach to setting things on disconnected nodes\r\n\r\nTween.propHooks.scrollTop = Tween.propHooks.scrollLeft = {\r\n\tset: function( tween ) {\r\n\t\tif ( tween.elem.nodeType && tween.elem.parentNode ) {\r\n\t\t\ttween.elem[ tween.prop ] = tween.now;\r\n\t\t}\r\n\t}\r\n};\r\n\r\njQuery.easing = {\r\n\tlinear: function( p ) {\r\n\t\treturn p;\r\n\t},\r\n\tswing: function( p ) {\r\n\t\treturn 0.5 - Math.cos( p * Math.PI ) / 2;\r\n\t}\r\n};\r\n\r\njQuery.fx = Tween.prototype.init;\r\n\r\n// Back Compat <1.8 extension point\r\njQuery.fx.step = {};\r\n\r\n\r\n\r\n\r\nvar\r\n\tfxNow, timerId,\r\n\trfxtypes = /^(?:toggle|show|hide)$/,\r\n\trfxnum = new RegExp( \"^(?:([+-])=|)(\" + pnum + \")([a-z%]*)$\", \"i\" ),\r\n\trrun = /queueHooks$/,\r\n\tanimationPrefilters = [ defaultPrefilter ],\r\n\ttweeners = {\r\n\t\t\"*\": [ function( prop, value ) {\r\n\t\t\tvar tween = this.createTween( prop, value ),\r\n\t\t\t\ttarget = tween.cur(),\r\n\t\t\t\tparts = rfxnum.exec( value ),\r\n\t\t\t\tunit = parts && parts[ 3 ] || ( jQuery.cssNumber[ prop ] ? \"\" : \"px\" ),\r\n\r\n\t\t\t\t// Starting value computation is required for potential unit mismatches\r\n\t\t\t\tstart = ( jQuery.cssNumber[ prop ] || unit !== \"px\" && +target ) &&\r\n\t\t\t\t\trfxnum.exec( jQuery.css( tween.elem, prop ) ),\r\n\t\t\t\tscale = 1,\r\n\t\t\t\tmaxIterations = 20;\r\n\r\n\t\t\tif ( start && start[ 3 ] !== unit ) {\r\n\t\t\t\t// Trust units reported by jQuery.css\r\n\t\t\t\tunit = unit || start[ 3 ];\r\n\r\n\t\t\t\t// Make sure we update the tween properties later on\r\n\t\t\t\tparts = parts || [];\r\n\r\n\t\t\t\t// Iteratively approximate from a nonzero starting point\r\n\t\t\t\tstart = +target || 1;\r\n\r\n\t\t\t\tdo {\r\n\t\t\t\t\t// If previous iteration zeroed out, double until we get *something*\r\n\t\t\t\t\t// Use a string for doubling factor so we don't accidentally see scale as unchanged below\r\n\t\t\t\t\tscale = scale || \".5\";\r\n\r\n\t\t\t\t\t// Adjust and apply\r\n\t\t\t\t\tstart = start / scale;\r\n\t\t\t\t\tjQuery.style( tween.elem, prop, start + unit );\r\n\r\n\t\t\t\t// Update scale, tolerating zero or NaN from tween.cur()\r\n\t\t\t\t// And breaking the loop if scale is unchanged or perfect, or if we've just had enough\r\n\t\t\t\t} while ( scale !== (scale = tween.cur() / target) && scale !== 1 && --maxIterations );\r\n\t\t\t}\r\n\r\n\t\t\t// Update tween properties\r\n\t\t\tif ( parts ) {\r\n\t\t\t\tstart = tween.start = +start || +target || 0;\r\n\t\t\t\ttween.unit = unit;\r\n\t\t\t\t// If a +=/-= token was provided, we're doing a relative animation\r\n\t\t\t\ttween.end = parts[ 1 ] ?\r\n\t\t\t\t\tstart + ( parts[ 1 ] + 1 ) * parts[ 2 ] :\r\n\t\t\t\t\t+parts[ 2 ];\r\n\t\t\t}\r\n\r\n\t\t\treturn tween;\r\n\t\t} ]\r\n\t};\r\n\r\n// Animations created synchronously will run synchronously\r\nfunction createFxNow() {\r\n\tsetTimeout(function() {\r\n\t\tfxNow = undefined;\r\n\t});\r\n\treturn ( fxNow = jQuery.now() );\r\n}\r\n\r\n// Generate parameters to create a standard animation\r\nfunction genFx( type, includeWidth ) {\r\n\tvar which,\r\n\t\ti = 0,\r\n\t\tattrs = { height: type };\r\n\r\n\t// if we include width, step value is 1 to do all cssExpand values,\r\n\t// if we don't include width, step value is 2 to skip over Left and Right\r\n\tincludeWidth = includeWidth ? 1 : 0;\r\n\tfor ( ; i < 4 ; i += 2 - includeWidth ) {\r\n\t\twhich = cssExpand[ i ];\r\n\t\tattrs[ \"margin\" + which ] = attrs[ \"padding\" + which ] = type;\r\n\t}\r\n\r\n\tif ( includeWidth ) {\r\n\t\tattrs.opacity = attrs.width = type;\r\n\t}\r\n\r\n\treturn attrs;\r\n}\r\n\r\nfunction createTween( value, prop, animation ) {\r\n\tvar tween,\r\n\t\tcollection = ( tweeners[ prop ] || [] ).concat( tweeners[ \"*\" ] ),\r\n\t\tindex = 0,\r\n\t\tlength = collection.length;\r\n\tfor ( ; index < length; index++ ) {\r\n\t\tif ( (tween = collection[ index ].call( animation, prop, value )) ) {\r\n\r\n\t\t\t// we're done with this property\r\n\t\t\treturn tween;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction defaultPrefilter( elem, props, opts ) {\r\n\t/* jshint validthis: true */\r\n\tvar prop, value, toggle, tween, hooks, oldfire, display, checkDisplay,\r\n\t\tanim = this,\r\n\t\torig = {},\r\n\t\tstyle = elem.style,\r\n\t\thidden = elem.nodeType && isHidden( elem ),\r\n\t\tdataShow = data_priv.get( elem, \"fxshow\" );\r\n\r\n\t// handle queue: false promises\r\n\tif ( !opts.queue ) {\r\n\t\thooks = jQuery._queueHooks( elem, \"fx\" );\r\n\t\tif ( hooks.unqueued == null ) {\r\n\t\t\thooks.unqueued = 0;\r\n\t\t\toldfire = hooks.empty.fire;\r\n\t\t\thooks.empty.fire = function() {\r\n\t\t\t\tif ( !hooks.unqueued ) {\r\n\t\t\t\t\toldfire();\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t}\r\n\t\thooks.unqueued++;\r\n\r\n\t\tanim.always(function() {\r\n\t\t\t// doing this makes sure that the complete handler will be called\r\n\t\t\t// before this completes\r\n\t\t\tanim.always(function() {\r\n\t\t\t\thooks.unqueued--;\r\n\t\t\t\tif ( !jQuery.queue( elem, \"fx\" ).length ) {\r\n\t\t\t\t\thooks.empty.fire();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\t// height/width overflow pass\r\n\tif ( elem.nodeType === 1 && ( \"height\" in props || \"width\" in props ) ) {\r\n\t\t// Make sure that nothing sneaks out\r\n\t\t// Record all 3 overflow attributes because IE9-10 do not\r\n\t\t// change the overflow attribute when overflowX and\r\n\t\t// overflowY are set to the same value\r\n\t\topts.overflow = [ style.overflow, style.overflowX, style.overflowY ];\r\n\r\n\t\t// Set display property to inline-block for height/width\r\n\t\t// animations on inline elements that are having width/height animated\r\n\t\tdisplay = jQuery.css( elem, \"display\" );\r\n\r\n\t\t// Test default display if display is currently \"none\"\r\n\t\tcheckDisplay = display === \"none\" ?\r\n\t\t\tdata_priv.get( elem, \"olddisplay\" ) || defaultDisplay( elem.nodeName ) : display;\r\n\r\n\t\tif ( checkDisplay === \"inline\" && jQuery.css( elem, \"float\" ) === \"none\" ) {\r\n\t\t\tstyle.display = \"inline-block\";\r\n\t\t}\r\n\t}\r\n\r\n\tif ( opts.overflow ) {\r\n\t\tstyle.overflow = \"hidden\";\r\n\t\tanim.always(function() {\r\n\t\t\tstyle.overflow = opts.overflow[ 0 ];\r\n\t\t\tstyle.overflowX = opts.overflow[ 1 ];\r\n\t\t\tstyle.overflowY = opts.overflow[ 2 ];\r\n\t\t});\r\n\t}\r\n\r\n\t// show/hide pass\r\n\tfor ( prop in props ) {\r\n\t\tvalue = props[ prop ];\r\n\t\tif ( rfxtypes.exec( value ) ) {\r\n\t\t\tdelete props[ prop ];\r\n\t\t\ttoggle = toggle || value === \"toggle\";\r\n\t\t\tif ( value === ( hidden ? \"hide\" : \"show\" ) ) {\r\n\r\n\t\t\t\t// If there is dataShow left over from a stopped hide or show and we are going to proceed with show, we should pretend to be hidden\r\n\t\t\t\tif ( value === \"show\" && dataShow && dataShow[ prop ] !== undefined ) {\r\n\t\t\t\t\thidden = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\torig[ prop ] = dataShow && dataShow[ prop ] || jQuery.style( elem, prop );\r\n\r\n\t\t// Any non-fx value stops us from restoring the original display value\r\n\t\t} else {\r\n\t\t\tdisplay = undefined;\r\n\t\t}\r\n\t}\r\n\r\n\tif ( !jQuery.isEmptyObject( orig ) ) {\r\n\t\tif ( dataShow ) {\r\n\t\t\tif ( \"hidden\" in dataShow ) {\r\n\t\t\t\thidden = dataShow.hidden;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tdataShow = data_priv.access( elem, \"fxshow\", {} );\r\n\t\t}\r\n\r\n\t\t// store state if its toggle - enables .stop().toggle() to \"reverse\"\r\n\t\tif ( toggle ) {\r\n\t\t\tdataShow.hidden = !hidden;\r\n\t\t}\r\n\t\tif ( hidden ) {\r\n\t\t\tjQuery( elem ).show();\r\n\t\t} else {\r\n\t\t\tanim.done(function() {\r\n\t\t\t\tjQuery( elem ).hide();\r\n\t\t\t});\r\n\t\t}\r\n\t\tanim.done(function() {\r\n\t\t\tvar prop;\r\n\r\n\t\t\tdata_priv.remove( elem, \"fxshow\" );\r\n\t\t\tfor ( prop in orig ) {\r\n\t\t\t\tjQuery.style( elem, prop, orig[ prop ] );\r\n\t\t\t}\r\n\t\t});\r\n\t\tfor ( prop in orig ) {\r\n\t\t\ttween = createTween( hidden ? dataShow[ prop ] : 0, prop, anim );\r\n\r\n\t\t\tif ( !( prop in dataShow ) ) {\r\n\t\t\t\tdataShow[ prop ] = tween.start;\r\n\t\t\t\tif ( hidden ) {\r\n\t\t\t\t\ttween.end = tween.start;\r\n\t\t\t\t\ttween.start = prop === \"width\" || prop === \"height\" ? 1 : 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t// If this is a noop like .hide().hide(), restore an overwritten display value\r\n\t} else if ( (display === \"none\" ? defaultDisplay( elem.nodeName ) : display) === \"inline\" ) {\r\n\t\tstyle.display = display;\r\n\t}\r\n}\r\n\r\nfunction propFilter( props, specialEasing ) {\r\n\tvar index, name, easing, value, hooks;\r\n\r\n\t// camelCase, specialEasing and expand cssHook pass\r\n\tfor ( index in props ) {\r\n\t\tname = jQuery.camelCase( index );\r\n\t\teasing = specialEasing[ name ];\r\n\t\tvalue = props[ index ];\r\n\t\tif ( jQuery.isArray( value ) ) {\r\n\t\t\teasing = value[ 1 ];\r\n\t\t\tvalue = props[ index ] = value[ 0 ];\r\n\t\t}\r\n\r\n\t\tif ( index !== name ) {\r\n\t\t\tprops[ name ] = value;\r\n\t\t\tdelete props[ index ];\r\n\t\t}\r\n\r\n\t\thooks = jQuery.cssHooks[ name ];\r\n\t\tif ( hooks && \"expand\" in hooks ) {\r\n\t\t\tvalue = hooks.expand( value );\r\n\t\t\tdelete props[ name ];\r\n\r\n\t\t\t// not quite $.extend, this wont overwrite keys already present.\r\n\t\t\t// also - reusing 'index' from above because we have the correct \"name\"\r\n\t\t\tfor ( index in value ) {\r\n\t\t\t\tif ( !( index in props ) ) {\r\n\t\t\t\t\tprops[ index ] = value[ index ];\r\n\t\t\t\t\tspecialEasing[ index ] = easing;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tspecialEasing[ name ] = easing;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction Animation( elem, properties, options ) {\r\n\tvar result,\r\n\t\tstopped,\r\n\t\tindex = 0,\r\n\t\tlength = animationPrefilters.length,\r\n\t\tdeferred = jQuery.Deferred().always( function() {\r\n\t\t\t// don't match elem in the :animated selector\r\n\t\t\tdelete tick.elem;\r\n\t\t}),\r\n\t\ttick = function() {\r\n\t\t\tif ( stopped ) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tvar currentTime = fxNow || createFxNow(),\r\n\t\t\t\tremaining = Math.max( 0, animation.startTime + animation.duration - currentTime ),\r\n\t\t\t\t// archaic crash bug won't allow us to use 1 - ( 0.5 || 0 ) (#12497)\r\n\t\t\t\ttemp = remaining / animation.duration || 0,\r\n\t\t\t\tpercent = 1 - temp,\r\n\t\t\t\tindex = 0,\r\n\t\t\t\tlength = animation.tweens.length;\r\n\r\n\t\t\tfor ( ; index < length ; index++ ) {\r\n\t\t\t\tanimation.tweens[ index ].run( percent );\r\n\t\t\t}\r\n\r\n\t\t\tdeferred.notifyWith( elem, [ animation, percent, remaining ]);\r\n\r\n\t\t\tif ( percent < 1 && length ) {\r\n\t\t\t\treturn remaining;\r\n\t\t\t} else {\r\n\t\t\t\tdeferred.resolveWith( elem, [ animation ] );\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t},\r\n\t\tanimation = deferred.promise({\r\n\t\t\telem: elem,\r\n\t\t\tprops: jQuery.extend( {}, properties ),\r\n\t\t\topts: jQuery.extend( true, { specialEasing: {} }, options ),\r\n\t\t\toriginalProperties: properties,\r\n\t\t\toriginalOptions: options,\r\n\t\t\tstartTime: fxNow || createFxNow(),\r\n\t\t\tduration: options.duration,\r\n\t\t\ttweens: [],\r\n\t\t\tcreateTween: function( prop, end ) {\r\n\t\t\t\tvar tween = jQuery.Tween( elem, animation.opts, prop, end,\r\n\t\t\t\t\t\tanimation.opts.specialEasing[ prop ] || animation.opts.easing );\r\n\t\t\t\tanimation.tweens.push( tween );\r\n\t\t\t\treturn tween;\r\n\t\t\t},\r\n\t\t\tstop: function( gotoEnd ) {\r\n\t\t\t\tvar index = 0,\r\n\t\t\t\t\t// if we are going to the end, we want to run all the tweens\r\n\t\t\t\t\t// otherwise we skip this part\r\n\t\t\t\t\tlength = gotoEnd ? animation.tweens.length : 0;\r\n\t\t\t\tif ( stopped ) {\r\n\t\t\t\t\treturn this;\r\n\t\t\t\t}\r\n\t\t\t\tstopped = true;\r\n\t\t\t\tfor ( ; index < length ; index++ ) {\r\n\t\t\t\t\tanimation.tweens[ index ].run( 1 );\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// resolve when we played the last frame\r\n\t\t\t\t// otherwise, reject\r\n\t\t\t\tif ( gotoEnd ) {\r\n\t\t\t\t\tdeferred.resolveWith( elem, [ animation, gotoEnd ] );\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdeferred.rejectWith( elem, [ animation, gotoEnd ] );\r\n\t\t\t\t}\r\n\t\t\t\treturn this;\r\n\t\t\t}\r\n\t\t}),\r\n\t\tprops = animation.props;\r\n\r\n\tpropFilter( props, animation.opts.specialEasing );\r\n\r\n\tfor ( ; index < length ; index++ ) {\r\n\t\tresult = animationPrefilters[ index ].call( animation, elem, props, animation.opts );\r\n\t\tif ( result ) {\r\n\t\t\treturn result;\r\n\t\t}\r\n\t}\r\n\r\n\tjQuery.map( props, createTween, animation );\r\n\r\n\tif ( jQuery.isFunction( animation.opts.start ) ) {\r\n\t\tanimation.opts.start.call( elem, animation );\r\n\t}\r\n\r\n\tjQuery.fx.timer(\r\n\t\tjQuery.extend( tick, {\r\n\t\t\telem: elem,\r\n\t\t\tanim: animation,\r\n\t\t\tqueue: animation.opts.queue\r\n\t\t})\r\n\t);\r\n\r\n\t// attach callbacks from options\r\n\treturn animation.progress( animation.opts.progress )\r\n\t\t.done( animation.opts.done, animation.opts.complete )\r\n\t\t.fail( animation.opts.fail )\r\n\t\t.always( animation.opts.always );\r\n}\r\n\r\njQuery.Animation = jQuery.extend( Animation, {\r\n\r\n\ttweener: function( props, callback ) {\r\n\t\tif ( jQuery.isFunction( props ) ) {\r\n\t\t\tcallback = props;\r\n\t\t\tprops = [ \"*\" ];\r\n\t\t} else {\r\n\t\t\tprops = props.split(\" \");\r\n\t\t}\r\n\r\n\t\tvar prop,\r\n\t\t\tindex = 0,\r\n\t\t\tlength = props.length;\r\n\r\n\t\tfor ( ; index < length ; index++ ) {\r\n\t\t\tprop = props[ index ];\r\n\t\t\ttweeners[ prop ] = tweeners[ prop ] || [];\r\n\t\t\ttweeners[ prop ].unshift( callback );\r\n\t\t}\r\n\t},\r\n\r\n\tprefilter: function( callback, prepend ) {\r\n\t\tif ( prepend ) {\r\n\t\t\tanimationPrefilters.unshift( callback );\r\n\t\t} else {\r\n\t\t\tanimationPrefilters.push( callback );\r\n\t\t}\r\n\t}\r\n});\r\n\r\njQuery.speed = function( speed, easing, fn ) {\r\n\tvar opt = speed && typeof speed === \"object\" ? jQuery.extend( {}, speed ) : {\r\n\t\tcomplete: fn || !fn && easing ||\r\n\t\t\tjQuery.isFunction( speed ) && speed,\r\n\t\tduration: speed,\r\n\t\teasing: fn && easing || easing && !jQuery.isFunction( easing ) && easing\r\n\t};\r\n\r\n\topt.duration = jQuery.fx.off ? 0 : typeof opt.duration === \"number\" ? opt.duration :\r\n\t\topt.duration in jQuery.fx.speeds ? jQuery.fx.speeds[ opt.duration ] : jQuery.fx.speeds._default;\r\n\r\n\t// normalize opt.queue - true/undefined/null -> \"fx\"\r\n\tif ( opt.queue == null || opt.queue === true ) {\r\n\t\topt.queue = \"fx\";\r\n\t}\r\n\r\n\t// Queueing\r\n\topt.old = opt.complete;\r\n\r\n\topt.complete = function() {\r\n\t\tif ( jQuery.isFunction( opt.old ) ) {\r\n\t\t\topt.old.call( this );\r\n\t\t}\r\n\r\n\t\tif ( opt.queue ) {\r\n\t\t\tjQuery.dequeue( this, opt.queue );\r\n\t\t}\r\n\t};\r\n\r\n\treturn opt;\r\n};\r\n\r\njQuery.fn.extend({\r\n\tfadeTo: function( speed, to, easing, callback ) {\r\n\r\n\t\t// show any hidden elements after setting opacity to 0\r\n\t\treturn this.filter( isHidden ).css( \"opacity\", 0 ).show()\r\n\r\n\t\t\t// animate to the value specified\r\n\t\t\t.end().animate({ opacity: to }, speed, easing, callback );\r\n\t},\r\n\tanimate: function( prop, speed, easing, callback ) {\r\n\t\tvar empty = jQuery.isEmptyObject( prop ),\r\n\t\t\toptall = jQuery.speed( speed, easing, callback ),\r\n\t\t\tdoAnimation = function() {\r\n\t\t\t\t// Operate on a copy of prop so per-property easing won't be lost\r\n\t\t\t\tvar anim = Animation( this, jQuery.extend( {}, prop ), optall );\r\n\r\n\t\t\t\t// Empty animations, or finishing resolves immediately\r\n\t\t\t\tif ( empty || data_priv.get( this, \"finish\" ) ) {\r\n\t\t\t\t\tanim.stop( true );\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tdoAnimation.finish = doAnimation;\r\n\r\n\t\treturn empty || optall.queue === false ?\r\n\t\t\tthis.each( doAnimation ) :\r\n\t\t\tthis.queue( optall.queue, doAnimation );\r\n\t},\r\n\tstop: function( type, clearQueue, gotoEnd ) {\r\n\t\tvar stopQueue = function( hooks ) {\r\n\t\t\tvar stop = hooks.stop;\r\n\t\t\tdelete hooks.stop;\r\n\t\t\tstop( gotoEnd );\r\n\t\t};\r\n\r\n\t\tif ( typeof type !== \"string\" ) {\r\n\t\t\tgotoEnd = clearQueue;\r\n\t\t\tclearQueue = type;\r\n\t\t\ttype = undefined;\r\n\t\t}\r\n\t\tif ( clearQueue && type !== false ) {\r\n\t\t\tthis.queue( type || \"fx\", [] );\r\n\t\t}\r\n\r\n\t\treturn this.each(function() {\r\n\t\t\tvar dequeue = true,\r\n\t\t\t\tindex = type != null && type + \"queueHooks\",\r\n\t\t\t\ttimers = jQuery.timers,\r\n\t\t\t\tdata = data_priv.get( this );\r\n\r\n\t\t\tif ( index ) {\r\n\t\t\t\tif ( data[ index ] && data[ index ].stop ) {\r\n\t\t\t\t\tstopQueue( data[ index ] );\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tfor ( index in data ) {\r\n\t\t\t\t\tif ( data[ index ] && data[ index ].stop && rrun.test( index ) ) {\r\n\t\t\t\t\t\tstopQueue( data[ index ] );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tfor ( index = timers.length; index--; ) {\r\n\t\t\t\tif ( timers[ index ].elem === this && (type == null || timers[ index ].queue === type) ) {\r\n\t\t\t\t\ttimers[ index ].anim.stop( gotoEnd );\r\n\t\t\t\t\tdequeue = false;\r\n\t\t\t\t\ttimers.splice( index, 1 );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// start the next in the queue if the last step wasn't forced\r\n\t\t\t// timers currently will call their complete callbacks, which will dequeue\r\n\t\t\t// but only if they were gotoEnd\r\n\t\t\tif ( dequeue || !gotoEnd ) {\r\n\t\t\t\tjQuery.dequeue( this, type );\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\tfinish: function( type ) {\r\n\t\tif ( type !== false ) {\r\n\t\t\ttype = type || \"fx\";\r\n\t\t}\r\n\t\treturn this.each(function() {\r\n\t\t\tvar index,\r\n\t\t\t\tdata = data_priv.get( this ),\r\n\t\t\t\tqueue = data[ type + \"queue\" ],\r\n\t\t\t\thooks = data[ type + \"queueHooks\" ],\r\n\t\t\t\ttimers = jQuery.timers,\r\n\t\t\t\tlength = queue ? queue.length : 0;\r\n\r\n\t\t\t// enable finishing flag on private data\r\n\t\t\tdata.finish = true;\r\n\r\n\t\t\t// empty the queue first\r\n\t\t\tjQuery.queue( this, type, [] );\r\n\r\n\t\t\tif ( hooks && hooks.stop ) {\r\n\t\t\t\thooks.stop.call( this, true );\r\n\t\t\t}\r\n\r\n\t\t\t// look for any active animations, and finish them\r\n\t\t\tfor ( index = timers.length; index--; ) {\r\n\t\t\t\tif ( timers[ index ].elem === this && timers[ index ].queue === type ) {\r\n\t\t\t\t\ttimers[ index ].anim.stop( true );\r\n\t\t\t\t\ttimers.splice( index, 1 );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// look for any animations in the old queue and finish them\r\n\t\t\tfor ( index = 0; index < length; index++ ) {\r\n\t\t\t\tif ( queue[ index ] && queue[ index ].finish ) {\r\n\t\t\t\t\tqueue[ index ].finish.call( this );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// turn off finishing flag\r\n\t\t\tdelete data.finish;\r\n\t\t});\r\n\t}\r\n});\r\n\r\njQuery.each([ \"toggle\", \"show\", \"hide\" ], function( i, name ) {\r\n\tvar cssFn = jQuery.fn[ name ];\r\n\tjQuery.fn[ name ] = function( speed, easing, callback ) {\r\n\t\treturn speed == null || typeof speed === \"boolean\" ?\r\n\t\t\tcssFn.apply( this, arguments ) :\r\n\t\t\tthis.animate( genFx( name, true ), speed, easing, callback );\r\n\t};\r\n});\r\n\r\n// Generate shortcuts for custom animations\r\njQuery.each({\r\n\tslideDown: genFx(\"show\"),\r\n\tslideUp: genFx(\"hide\"),\r\n\tslideToggle: genFx(\"toggle\"),\r\n\tfadeIn: { opacity: \"show\" },\r\n\tfadeOut: { opacity: \"hide\" },\r\n\tfadeToggle: { opacity: \"toggle\" }\r\n}, function( name, props ) {\r\n\tjQuery.fn[ name ] = function( speed, easing, callback ) {\r\n\t\treturn this.animate( props, speed, easing, callback );\r\n\t};\r\n});\r\n\r\njQuery.timers = [];\r\njQuery.fx.tick = function() {\r\n\tvar timer,\r\n\t\ti = 0,\r\n\t\ttimers = jQuery.timers;\r\n\r\n\tfxNow = jQuery.now();\r\n\r\n\tfor ( ; i < timers.length; i++ ) {\r\n\t\ttimer = timers[ i ];\r\n\t\t// Checks the timer has not already been removed\r\n\t\tif ( !timer() && timers[ i ] === timer ) {\r\n\t\t\ttimers.splice( i--, 1 );\r\n\t\t}\r\n\t}\r\n\r\n\tif ( !timers.length ) {\r\n\t\tjQuery.fx.stop();\r\n\t}\r\n\tfxNow = undefined;\r\n};\r\n\r\njQuery.fx.timer = function( timer ) {\r\n\tjQuery.timers.push( timer );\r\n\tif ( timer() ) {\r\n\t\tjQuery.fx.start();\r\n\t} else {\r\n\t\tjQuery.timers.pop();\r\n\t}\r\n};\r\n\r\njQuery.fx.interval = 13;\r\n\r\njQuery.fx.start = function() {\r\n\tif ( !timerId ) {\r\n\t\ttimerId = setInterval( jQuery.fx.tick, jQuery.fx.interval );\r\n\t}\r\n};\r\n\r\njQuery.fx.stop = function() {\r\n\tclearInterval( timerId );\r\n\ttimerId = null;\r\n};\r\n\r\njQuery.fx.speeds = {\r\n\tslow: 600,\r\n\tfast: 200,\r\n\t// Default speed\r\n\t_default: 400\r\n};\r\n\r\n\r\n// Based off of the plugin by Clint Helfers, with permission.\r\n// http://blindsignals.com/index.php/2009/07/jquery-delay/\r\njQuery.fn.delay = function( time, type ) {\r\n\ttime = jQuery.fx ? jQuery.fx.speeds[ time ] || time : time;\r\n\ttype = type || \"fx\";\r\n\r\n\treturn this.queue( type, function( next, hooks ) {\r\n\t\tvar timeout = setTimeout( next, time );\r\n\t\thooks.stop = function() {\r\n\t\t\tclearTimeout( timeout );\r\n\t\t};\r\n\t});\r\n};\r\n\r\n\r\n(function() {\r\n\tvar input = document.createElement( \"input\" ),\r\n\t\tselect = document.createElement( \"select\" ),\r\n\t\topt = select.appendChild( document.createElement( \"option\" ) );\r\n\r\n\tinput.type = \"checkbox\";\r\n\r\n\t// Support: iOS 5.1, Android 4.x, Android 2.3\r\n\t// Check the default checkbox/radio value (\"\" on old WebKit; \"on\" elsewhere)\r\n\tsupport.checkOn = input.value !== \"\";\r\n\r\n\t// Must access the parent to make an option select properly\r\n\t// Support: IE9, IE10\r\n\tsupport.optSelected = opt.selected;\r\n\r\n\t// Make sure that the options inside disabled selects aren't marked as disabled\r\n\t// (WebKit marks them as disabled)\r\n\tselect.disabled = true;\r\n\tsupport.optDisabled = !opt.disabled;\r\n\r\n\t// Check if an input maintains its value after becoming a radio\r\n\t// Support: IE9, IE10\r\n\tinput = document.createElement( \"input\" );\r\n\tinput.value = \"t\";\r\n\tinput.type = \"radio\";\r\n\tsupport.radioValue = input.value === \"t\";\r\n})();\r\n\r\n\r\nvar nodeHook, boolHook,\r\n\tattrHandle = jQuery.expr.attrHandle;\r\n\r\njQuery.fn.extend({\r\n\tattr: function( name, value ) {\r\n\t\treturn access( this, jQuery.attr, name, value, arguments.length > 1 );\r\n\t},\r\n\r\n\tremoveAttr: function( name ) {\r\n\t\treturn this.each(function() {\r\n\t\t\tjQuery.removeAttr( this, name );\r\n\t\t});\r\n\t}\r\n});\r\n\r\njQuery.extend({\r\n\tattr: function( elem, name, value ) {\r\n\t\tvar hooks, ret,\r\n\t\t\tnType = elem.nodeType;\r\n\r\n\t\t// don't get/set attributes on text, comment and attribute nodes\r\n\t\tif ( !elem || nType === 3 || nType === 8 || nType === 2 ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Fallback to prop when attributes are not supported\r\n\t\tif ( typeof elem.getAttribute === strundefined ) {\r\n\t\t\treturn jQuery.prop( elem, name, value );\r\n\t\t}\r\n\r\n\t\t// All attributes are lowercase\r\n\t\t// Grab necessary hook if one is defined\r\n\t\tif ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {\r\n\t\t\tname = name.toLowerCase();\r\n\t\t\thooks = jQuery.attrHooks[ name ] ||\r\n\t\t\t\t( jQuery.expr.match.bool.test( name ) ? boolHook : nodeHook );\r\n\t\t}\r\n\r\n\t\tif ( value !== undefined ) {\r\n\r\n\t\t\tif ( value === null ) {\r\n\t\t\t\tjQuery.removeAttr( elem, name );\r\n\r\n\t\t\t} else if ( hooks && \"set\" in hooks && (ret = hooks.set( elem, value, name )) !== undefined ) {\r\n\t\t\t\treturn ret;\r\n\r\n\t\t\t} else {\r\n\t\t\t\telem.setAttribute( name, value + \"\" );\r\n\t\t\t\treturn value;\r\n\t\t\t}\r\n\r\n\t\t} else if ( hooks && \"get\" in hooks && (ret = hooks.get( elem, name )) !== null ) {\r\n\t\t\treturn ret;\r\n\r\n\t\t} else {\r\n\t\t\tret = jQuery.find.attr( elem, name );\r\n\r\n\t\t\t// Non-existent attributes return null, we normalize to undefined\r\n\t\t\treturn ret == null ?\r\n\t\t\t\tundefined :\r\n\t\t\t\tret;\r\n\t\t}\r\n\t},\r\n\r\n\tremoveAttr: function( elem, value ) {\r\n\t\tvar name, propName,\r\n\t\t\ti = 0,\r\n\t\t\tattrNames = value && value.match( rnotwhite );\r\n\r\n\t\tif ( attrNames && elem.nodeType === 1 ) {\r\n\t\t\twhile ( (name = attrNames[i++]) ) {\r\n\t\t\t\tpropName = jQuery.propFix[ name ] || name;\r\n\r\n\t\t\t\t// Boolean attributes get special treatment (#10870)\r\n\t\t\t\tif ( jQuery.expr.match.bool.test( name ) ) {\r\n\t\t\t\t\t// Set corresponding property to false\r\n\t\t\t\t\telem[ propName ] = false;\r\n\t\t\t\t}\r\n\r\n\t\t\t\telem.removeAttribute( name );\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tattrHooks: {\r\n\t\ttype: {\r\n\t\t\tset: function( elem, value ) {\r\n\t\t\t\tif ( !support.radioValue && value === \"radio\" &&\r\n\t\t\t\t\tjQuery.nodeName( elem, \"input\" ) ) {\r\n\t\t\t\t\t// Setting the type on a radio button after the value resets the value in IE6-9\r\n\t\t\t\t\t// Reset value to default in case type is set after value during creation\r\n\t\t\t\t\tvar val = elem.value;\r\n\t\t\t\t\telem.setAttribute( \"type\", value );\r\n\t\t\t\t\tif ( val ) {\r\n\t\t\t\t\t\telem.value = val;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn value;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n});\r\n\r\n// Hooks for boolean attributes\r\nboolHook = {\r\n\tset: function( elem, value, name ) {\r\n\t\tif ( value === false ) {\r\n\t\t\t// Remove boolean attributes when set to false\r\n\t\t\tjQuery.removeAttr( elem, name );\r\n\t\t} else {\r\n\t\t\telem.setAttribute( name, name );\r\n\t\t}\r\n\t\treturn name;\r\n\t}\r\n};\r\njQuery.each( jQuery.expr.match.bool.source.match( /\\w+/g ), function( i, name ) {\r\n\tvar getter = attrHandle[ name ] || jQuery.find.attr;\r\n\r\n\tattrHandle[ name ] = function( elem, name, isXML ) {\r\n\t\tvar ret, handle;\r\n\t\tif ( !isXML ) {\r\n\t\t\t// Avoid an infinite loop by temporarily removing this function from the getter\r\n\t\t\thandle = attrHandle[ name ];\r\n\t\t\tattrHandle[ name ] = ret;\r\n\t\t\tret = getter( elem, name, isXML ) != null ?\r\n\t\t\t\tname.toLowerCase() :\r\n\t\t\t\tnull;\r\n\t\t\tattrHandle[ name ] = handle;\r\n\t\t}\r\n\t\treturn ret;\r\n\t};\r\n});\r\n\r\n\r\n\r\n\r\nvar rfocusable = /^(?:input|select|textarea|button)$/i;\r\n\r\njQuery.fn.extend({\r\n\tprop: function( name, value ) {\r\n\t\treturn access( this, jQuery.prop, name, value, arguments.length > 1 );\r\n\t},\r\n\r\n\tremoveProp: function( name ) {\r\n\t\treturn this.each(function() {\r\n\t\t\tdelete this[ jQuery.propFix[ name ] || name ];\r\n\t\t});\r\n\t}\r\n});\r\n\r\njQuery.extend({\r\n\tpropFix: {\r\n\t\t\"for\": \"htmlFor\",\r\n\t\t\"class\": \"className\"\r\n\t},\r\n\r\n\tprop: function( elem, name, value ) {\r\n\t\tvar ret, hooks, notxml,\r\n\t\t\tnType = elem.nodeType;\r\n\r\n\t\t// don't get/set properties on text, comment and attribute nodes\r\n\t\tif ( !elem || nType === 3 || nType === 8 || nType === 2 ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tnotxml = nType !== 1 || !jQuery.isXMLDoc( elem );\r\n\r\n\t\tif ( notxml ) {\r\n\t\t\t// Fix name and attach hooks\r\n\t\t\tname = jQuery.propFix[ name ] || name;\r\n\t\t\thooks = jQuery.propHooks[ name ];\r\n\t\t}\r\n\r\n\t\tif ( value !== undefined ) {\r\n\t\t\treturn hooks && \"set\" in hooks && (ret = hooks.set( elem, value, name )) !== undefined ?\r\n\t\t\t\tret :\r\n\t\t\t\t( elem[ name ] = value );\r\n\r\n\t\t} else {\r\n\t\t\treturn hooks && \"get\" in hooks && (ret = hooks.get( elem, name )) !== null ?\r\n\t\t\t\tret :\r\n\t\t\t\telem[ name ];\r\n\t\t}\r\n\t},\r\n\r\n\tpropHooks: {\r\n\t\ttabIndex: {\r\n\t\t\tget: function( elem ) {\r\n\t\t\t\treturn elem.hasAttribute( \"tabindex\" ) || rfocusable.test( elem.nodeName ) || elem.href ?\r\n\t\t\t\t\telem.tabIndex :\r\n\t\t\t\t\t-1;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n});\r\n\r\n// Support: IE9+\r\n// Selectedness for an option in an optgroup can be inaccurate\r\nif ( !support.optSelected ) {\r\n\tjQuery.propHooks.selected = {\r\n\t\tget: function( elem ) {\r\n\t\t\tvar parent = elem.parentNode;\r\n\t\t\tif ( parent && parent.parentNode ) {\r\n\t\t\t\tparent.parentNode.selectedIndex;\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t}\r\n\t};\r\n}\r\n\r\njQuery.each([\r\n\t\"tabIndex\",\r\n\t\"readOnly\",\r\n\t\"maxLength\",\r\n\t\"cellSpacing\",\r\n\t\"cellPadding\",\r\n\t\"rowSpan\",\r\n\t\"colSpan\",\r\n\t\"useMap\",\r\n\t\"frameBorder\",\r\n\t\"contentEditable\"\r\n], function() {\r\n\tjQuery.propFix[ this.toLowerCase() ] = this;\r\n});\r\n\r\n\r\n\r\n\r\nvar rclass = /[\\t\\r\\n\\f]/g;\r\n\r\njQuery.fn.extend({\r\n\taddClass: function( value ) {\r\n\t\tvar classes, elem, cur, clazz, j, finalValue,\r\n\t\t\tproceed = typeof value === \"string\" && value,\r\n\t\t\ti = 0,\r\n\t\t\tlen = this.length;\r\n\r\n\t\tif ( jQuery.isFunction( value ) ) {\r\n\t\t\treturn this.each(function( j ) {\r\n\t\t\t\tjQuery( this ).addClass( value.call( this, j, this.className ) );\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif ( proceed ) {\r\n\t\t\t// The disjunction here is for better compressibility (see removeClass)\r\n\t\t\tclasses = ( value || \"\" ).match( rnotwhite ) || [];\r\n\r\n\t\t\tfor ( ; i < len; i++ ) {\r\n\t\t\t\telem = this[ i ];\r\n\t\t\t\tcur = elem.nodeType === 1 && ( elem.className ?\r\n\t\t\t\t\t( \" \" + elem.className + \" \" ).replace( rclass, \" \" ) :\r\n\t\t\t\t\t\" \"\r\n\t\t\t\t);\r\n\r\n\t\t\t\tif ( cur ) {\r\n\t\t\t\t\tj = 0;\r\n\t\t\t\t\twhile ( (clazz = classes[j++]) ) {\r\n\t\t\t\t\t\tif ( cur.indexOf( \" \" + clazz + \" \" ) < 0 ) {\r\n\t\t\t\t\t\t\tcur += clazz + \" \";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// only assign if different to avoid unneeded rendering.\r\n\t\t\t\t\tfinalValue = jQuery.trim( cur );\r\n\t\t\t\t\tif ( elem.className !== finalValue ) {\r\n\t\t\t\t\t\telem.className = finalValue;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\tremoveClass: function( value ) {\r\n\t\tvar classes, elem, cur, clazz, j, finalValue,\r\n\t\t\tproceed = arguments.length === 0 || typeof value === \"string\" && value,\r\n\t\t\ti = 0,\r\n\t\t\tlen = this.length;\r\n\r\n\t\tif ( jQuery.isFunction( value ) ) {\r\n\t\t\treturn this.each(function( j ) {\r\n\t\t\t\tjQuery( this ).removeClass( value.call( this, j, this.className ) );\r\n\t\t\t});\r\n\t\t}\r\n\t\tif ( proceed ) {\r\n\t\t\tclasses = ( value || \"\" ).match( rnotwhite ) || [];\r\n\r\n\t\t\tfor ( ; i < len; i++ ) {\r\n\t\t\t\telem = this[ i ];\r\n\t\t\t\t// This expression is here for better compressibility (see addClass)\r\n\t\t\t\tcur = elem.nodeType === 1 && ( elem.className ?\r\n\t\t\t\t\t( \" \" + elem.className + \" \" ).replace( rclass, \" \" ) :\r\n\t\t\t\t\t\"\"\r\n\t\t\t\t);\r\n\r\n\t\t\t\tif ( cur ) {\r\n\t\t\t\t\tj = 0;\r\n\t\t\t\t\twhile ( (clazz = classes[j++]) ) {\r\n\t\t\t\t\t\t// Remove *all* instances\r\n\t\t\t\t\t\twhile ( cur.indexOf( \" \" + clazz + \" \" ) >= 0 ) {\r\n\t\t\t\t\t\t\tcur = cur.replace( \" \" + clazz + \" \", \" \" );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// only assign if different to avoid unneeded rendering.\r\n\t\t\t\t\tfinalValue = value ? jQuery.trim( cur ) : \"\";\r\n\t\t\t\t\tif ( elem.className !== finalValue ) {\r\n\t\t\t\t\t\telem.className = finalValue;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\ttoggleClass: function( value, stateVal ) {\r\n\t\tvar type = typeof value;\r\n\r\n\t\tif ( typeof stateVal === \"boolean\" && type === \"string\" ) {\r\n\t\t\treturn stateVal ? this.addClass( value ) : this.removeClass( value );\r\n\t\t}\r\n\r\n\t\tif ( jQuery.isFunction( value ) ) {\r\n\t\t\treturn this.each(function( i ) {\r\n\t\t\t\tjQuery( this ).toggleClass( value.call(this, i, this.className, stateVal), stateVal );\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\treturn this.each(function() {\r\n\t\t\tif ( type === \"string\" ) {\r\n\t\t\t\t// toggle individual class names\r\n\t\t\t\tvar className,\r\n\t\t\t\t\ti = 0,\r\n\t\t\t\t\tself = jQuery( this ),\r\n\t\t\t\t\tclassNames = value.match( rnotwhite ) || [];\r\n\r\n\t\t\t\twhile ( (className = classNames[ i++ ]) ) {\r\n\t\t\t\t\t// check each className given, space separated list\r\n\t\t\t\t\tif ( self.hasClass( className ) ) {\r\n\t\t\t\t\t\tself.removeClass( className );\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tself.addClass( className );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t// Toggle whole class name\r\n\t\t\t} else if ( type === strundefined || type === \"boolean\" ) {\r\n\t\t\t\tif ( this.className ) {\r\n\t\t\t\t\t// store className if set\r\n\t\t\t\t\tdata_priv.set( this, \"__className__\", this.className );\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// If the element has a class name or if we're passed \"false\",\r\n\t\t\t\t// then remove the whole classname (if there was one, the above saved it).\r\n\t\t\t\t// Otherwise bring back whatever was previously saved (if anything),\r\n\t\t\t\t// falling back to the empty string if nothing was stored.\r\n\t\t\t\tthis.className = this.className || value === false ? \"\" : data_priv.get( this, \"__className__\" ) || \"\";\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\r\n\thasClass: function( selector ) {\r\n\t\tvar className = \" \" + selector + \" \",\r\n\t\t\ti = 0,\r\n\t\t\tl = this.length;\r\n\t\tfor ( ; i < l; i++ ) {\r\n\t\t\tif ( this[i].nodeType === 1 && (\" \" + this[i].className + \" \").replace(rclass, \" \").indexOf( className ) >= 0 ) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}\r\n});\r\n\r\n\r\n\r\n\r\nvar rreturn = /\\r/g;\r\n\r\njQuery.fn.extend({\r\n\tval: function( value ) {\r\n\t\tvar hooks, ret, isFunction,\r\n\t\t\telem = this[0];\r\n\r\n\t\tif ( !arguments.length ) {\r\n\t\t\tif ( elem ) {\r\n\t\t\t\thooks = jQuery.valHooks[ elem.type ] || jQuery.valHooks[ elem.nodeName.toLowerCase() ];\r\n\r\n\t\t\t\tif ( hooks && \"get\" in hooks && (ret = hooks.get( elem, \"value\" )) !== undefined ) {\r\n\t\t\t\t\treturn ret;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tret = elem.value;\r\n\r\n\t\t\t\treturn typeof ret === \"string\" ?\r\n\t\t\t\t\t// handle most common string cases\r\n\t\t\t\t\tret.replace(rreturn, \"\") :\r\n\t\t\t\t\t// handle cases where value is null/undef or number\r\n\t\t\t\t\tret == null ? \"\" : ret;\r\n\t\t\t}\r\n\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tisFunction = jQuery.isFunction( value );\r\n\r\n\t\treturn this.each(function( i ) {\r\n\t\t\tvar val;\r\n\r\n\t\t\tif ( this.nodeType !== 1 ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif ( isFunction ) {\r\n\t\t\t\tval = value.call( this, i, jQuery( this ).val() );\r\n\t\t\t} else {\r\n\t\t\t\tval = value;\r\n\t\t\t}\r\n\r\n\t\t\t// Treat null/undefined as \"\"; convert numbers to string\r\n\t\t\tif ( val == null ) {\r\n\t\t\t\tval = \"\";\r\n\r\n\t\t\t} else if ( typeof val === \"number\" ) {\r\n\t\t\t\tval += \"\";\r\n\r\n\t\t\t} else if ( jQuery.isArray( val ) ) {\r\n\t\t\t\tval = jQuery.map( val, function( value ) {\r\n\t\t\t\t\treturn value == null ? \"\" : value + \"\";\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\thooks = jQuery.valHooks[ this.type ] || jQuery.valHooks[ this.nodeName.toLowerCase() ];\r\n\r\n\t\t\t// If set returns undefined, fall back to normal setting\r\n\t\t\tif ( !hooks || !(\"set\" in hooks) || hooks.set( this, val, \"value\" ) === undefined ) {\r\n\t\t\t\tthis.value = val;\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n});\r\n\r\njQuery.extend({\r\n\tvalHooks: {\r\n\t\toption: {\r\n\t\t\tget: function( elem ) {\r\n\t\t\t\tvar val = jQuery.find.attr( elem, \"value\" );\r\n\t\t\t\treturn val != null ?\r\n\t\t\t\t\tval :\r\n\t\t\t\t\t// Support: IE10-11+\r\n\t\t\t\t\t// option.text throws exceptions (#14686, #14858)\r\n\t\t\t\t\tjQuery.trim( jQuery.text( elem ) );\r\n\t\t\t}\r\n\t\t},\r\n\t\tselect: {\r\n\t\t\tget: function( elem ) {\r\n\t\t\t\tvar value, option,\r\n\t\t\t\t\toptions = elem.options,\r\n\t\t\t\t\tindex = elem.selectedIndex,\r\n\t\t\t\t\tone = elem.type === \"select-one\" || index < 0,\r\n\t\t\t\t\tvalues = one ? null : [],\r\n\t\t\t\t\tmax = one ? index + 1 : options.length,\r\n\t\t\t\t\ti = index < 0 ?\r\n\t\t\t\t\t\tmax :\r\n\t\t\t\t\t\tone ? index : 0;\r\n\r\n\t\t\t\t// Loop through all the selected options\r\n\t\t\t\tfor ( ; i < max; i++ ) {\r\n\t\t\t\t\toption = options[ i ];\r\n\r\n\t\t\t\t\t// IE6-9 doesn't update selected after form reset (#2551)\r\n\t\t\t\t\tif ( ( option.selected || i === index ) &&\r\n\t\t\t\t\t\t\t// Don't return options that are disabled or in a disabled optgroup\r\n\t\t\t\t\t\t\t( support.optDisabled ? !option.disabled : option.getAttribute( \"disabled\" ) === null ) &&\r\n\t\t\t\t\t\t\t( !option.parentNode.disabled || !jQuery.nodeName( option.parentNode, \"optgroup\" ) ) ) {\r\n\r\n\t\t\t\t\t\t// Get the specific value for the option\r\n\t\t\t\t\t\tvalue = jQuery( option ).val();\r\n\r\n\t\t\t\t\t\t// We don't need an array for one selects\r\n\t\t\t\t\t\tif ( one ) {\r\n\t\t\t\t\t\t\treturn value;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Multi-Selects return an array\r\n\t\t\t\t\t\tvalues.push( value );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn values;\r\n\t\t\t},\r\n\r\n\t\t\tset: function( elem, value ) {\r\n\t\t\t\tvar optionSet, option,\r\n\t\t\t\t\toptions = elem.options,\r\n\t\t\t\t\tvalues = jQuery.makeArray( value ),\r\n\t\t\t\t\ti = options.length;\r\n\r\n\t\t\t\twhile ( i-- ) {\r\n\t\t\t\t\toption = options[ i ];\r\n\t\t\t\t\tif ( (option.selected = jQuery.inArray( option.value, values ) >= 0) ) {\r\n\t\t\t\t\t\toptionSet = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// force browsers to behave consistently when non-matching value is set\r\n\t\t\t\tif ( !optionSet ) {\r\n\t\t\t\t\telem.selectedIndex = -1;\r\n\t\t\t\t}\r\n\t\t\t\treturn values;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n});\r\n\r\n// Radios and checkboxes getter/setter\r\njQuery.each([ \"radio\", \"checkbox\" ], function() {\r\n\tjQuery.valHooks[ this ] = {\r\n\t\tset: function( elem, value ) {\r\n\t\t\tif ( jQuery.isArray( value ) ) {\r\n\t\t\t\treturn ( elem.checked = jQuery.inArray( jQuery(elem).val(), value ) >= 0 );\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\tif ( !support.checkOn ) {\r\n\t\tjQuery.valHooks[ this ].get = function( elem ) {\r\n\t\t\t// Support: Webkit\r\n\t\t\t// \"\" is returned instead of \"on\" if a value isn't specified\r\n\t\t\treturn elem.getAttribute(\"value\") === null ? \"on\" : elem.value;\r\n\t\t};\r\n\t}\r\n});\r\n\r\n\r\n\r\n\r\n// Return jQuery for attributes-only inclusion\r\n\r\n\r\njQuery.each( (\"blur focus focusin focusout load resize scroll unload click dblclick \" +\r\n\t\"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave \" +\r\n\t\"change select submit keydown keypress keyup error contextmenu\").split(\" \"), function( i, name ) {\r\n\r\n\t// Handle event binding\r\n\tjQuery.fn[ name ] = function( data, fn ) {\r\n\t\treturn arguments.length > 0 ?\r\n\t\t\tthis.on( name, null, data, fn ) :\r\n\t\t\tthis.trigger( name );\r\n\t};\r\n});\r\n\r\njQuery.fn.extend({\r\n\thover: function( fnOver, fnOut ) {\r\n\t\treturn this.mouseenter( fnOver ).mouseleave( fnOut || fnOver );\r\n\t},\r\n\r\n\tbind: function( types, data, fn ) {\r\n\t\treturn this.on( types, null, data, fn );\r\n\t},\r\n\tunbind: function( types, fn ) {\r\n\t\treturn this.off( types, null, fn );\r\n\t},\r\n\r\n\tdelegate: function( selector, types, data, fn ) {\r\n\t\treturn this.on( types, selector, data, fn );\r\n\t},\r\n\tundelegate: function( selector, types, fn ) {\r\n\t\t// ( namespace ) or ( selector, types [, fn] )\r\n\t\treturn arguments.length === 1 ? this.off( selector, \"**\" ) : this.off( types, selector || \"**\", fn );\r\n\t}\r\n});\r\n\r\n\r\nvar nonce = jQuery.now();\r\n\r\nvar rquery = (/\\?/);\r\n\r\n\r\n\r\n// Support: Android 2.3\r\n// Workaround failure to string-cast null input\r\njQuery.parseJSON = function( data ) {\r\n\treturn JSON.parse( data + \"\" );\r\n};\r\n\r\n\r\n// Cross-browser xml parsing\r\njQuery.parseXML = function( data ) {\r\n\tvar xml, tmp;\r\n\tif ( !data || typeof data !== \"string\" ) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\t// Support: IE9\r\n\ttry {\r\n\t\ttmp = new DOMParser();\r\n\t\txml = tmp.parseFromString( data, \"text/xml\" );\r\n\t} catch ( e ) {\r\n\t\txml = undefined;\r\n\t}\r\n\r\n\tif ( !xml || xml.getElementsByTagName( \"parsererror\" ).length ) {\r\n\t\tjQuery.error( \"Invalid XML: \" + data );\r\n\t}\r\n\treturn xml;\r\n};\r\n\r\n\r\nvar\r\n\t// Document location\r\n\tajaxLocParts,\r\n\tajaxLocation,\r\n\r\n\trhash = /#.*$/,\r\n\trts = /([?&])_=[^&]*/,\r\n\trheaders = /^(.*?):[ \\t]*([^\\r\\n]*)$/mg,\r\n\t// #7653, #8125, #8152: local protocol detection\r\n\trlocalProtocol = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,\r\n\trnoContent = /^(?:GET|HEAD)$/,\r\n\trprotocol = /^\\/\\//,\r\n\trurl = /^([\\w.+-]+:)(?:\\/\\/(?:[^\\/?#]*@|)([^\\/?#:]*)(?::(\\d+)|)|)/,\r\n\r\n\t/* Prefilters\r\n\t * 1) They are useful to introduce custom dataTypes (see ajax/jsonp.js for an example)\r\n\t * 2) These are called:\r\n\t *    - BEFORE asking for a transport\r\n\t *    - AFTER param serialization (s.data is a string if s.processData is true)\r\n\t * 3) key is the dataType\r\n\t * 4) the catchall symbol \"*\" can be used\r\n\t * 5) execution will start with transport dataType and THEN continue down to \"*\" if needed\r\n\t */\r\n\tprefilters = {},\r\n\r\n\t/* Transports bindings\r\n\t * 1) key is the dataType\r\n\t * 2) the catchall symbol \"*\" can be used\r\n\t * 3) selection will start with transport dataType and THEN go to \"*\" if needed\r\n\t */\r\n\ttransports = {},\r\n\r\n\t// Avoid comment-prolog char sequence (#10098); must appease lint and evade compression\r\n\tallTypes = \"*/\".concat(\"*\");\r\n\r\n// #8138, IE may throw an exception when accessing\r\n// a field from window.location if document.domain has been set\r\ntry {\r\n\tajaxLocation = location.href;\r\n} catch( e ) {\r\n\t// Use the href attribute of an A element\r\n\t// since IE will modify it given document.location\r\n\tajaxLocation = document.createElement( \"a\" );\r\n\tajaxLocation.href = \"\";\r\n\tajaxLocation = ajaxLocation.href;\r\n}\r\n\r\n// Segment location into parts\r\najaxLocParts = rurl.exec( ajaxLocation.toLowerCase() ) || [];\r\n\r\n// Base \"constructor\" for jQuery.ajaxPrefilter and jQuery.ajaxTransport\r\nfunction addToPrefiltersOrTransports( structure ) {\r\n\r\n\t// dataTypeExpression is optional and defaults to \"*\"\r\n\treturn function( dataTypeExpression, func ) {\r\n\r\n\t\tif ( typeof dataTypeExpression !== \"string\" ) {\r\n\t\t\tfunc = dataTypeExpression;\r\n\t\t\tdataTypeExpression = \"*\";\r\n\t\t}\r\n\r\n\t\tvar dataType,\r\n\t\t\ti = 0,\r\n\t\t\tdataTypes = dataTypeExpression.toLowerCase().match( rnotwhite ) || [];\r\n\r\n\t\tif ( jQuery.isFunction( func ) ) {\r\n\t\t\t// For each dataType in the dataTypeExpression\r\n\t\t\twhile ( (dataType = dataTypes[i++]) ) {\r\n\t\t\t\t// Prepend if requested\r\n\t\t\t\tif ( dataType[0] === \"+\" ) {\r\n\t\t\t\t\tdataType = dataType.slice( 1 ) || \"*\";\r\n\t\t\t\t\t(structure[ dataType ] = structure[ dataType ] || []).unshift( func );\r\n\r\n\t\t\t\t// Otherwise append\r\n\t\t\t\t} else {\r\n\t\t\t\t\t(structure[ dataType ] = structure[ dataType ] || []).push( func );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}\r\n\r\n// Base inspection function for prefilters and transports\r\nfunction inspectPrefiltersOrTransports( structure, options, originalOptions, jqXHR ) {\r\n\r\n\tvar inspected = {},\r\n\t\tseekingTransport = ( structure === transports );\r\n\r\n\tfunction inspect( dataType ) {\r\n\t\tvar selected;\r\n\t\tinspected[ dataType ] = true;\r\n\t\tjQuery.each( structure[ dataType ] || [], function( _, prefilterOrFactory ) {\r\n\t\t\tvar dataTypeOrTransport = prefilterOrFactory( options, originalOptions, jqXHR );\r\n\t\t\tif ( typeof dataTypeOrTransport === \"string\" && !seekingTransport && !inspected[ dataTypeOrTransport ] ) {\r\n\t\t\t\toptions.dataTypes.unshift( dataTypeOrTransport );\r\n\t\t\t\tinspect( dataTypeOrTransport );\r\n\t\t\t\treturn false;\r\n\t\t\t} else if ( seekingTransport ) {\r\n\t\t\t\treturn !( selected = dataTypeOrTransport );\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn selected;\r\n\t}\r\n\r\n\treturn inspect( options.dataTypes[ 0 ] ) || !inspected[ \"*\" ] && inspect( \"*\" );\r\n}\r\n\r\n// A special extend for ajax options\r\n// that takes \"flat\" options (not to be deep extended)\r\n// Fixes #9887\r\nfunction ajaxExtend( target, src ) {\r\n\tvar key, deep,\r\n\t\tflatOptions = jQuery.ajaxSettings.flatOptions || {};\r\n\r\n\tfor ( key in src ) {\r\n\t\tif ( src[ key ] !== undefined ) {\r\n\t\t\t( flatOptions[ key ] ? target : ( deep || (deep = {}) ) )[ key ] = src[ key ];\r\n\t\t}\r\n\t}\r\n\tif ( deep ) {\r\n\t\tjQuery.extend( true, target, deep );\r\n\t}\r\n\r\n\treturn target;\r\n}\r\n\r\n/* Handles responses to an ajax request:\r\n * - finds the right dataType (mediates between content-type and expected dataType)\r\n * - returns the corresponding response\r\n */\r\nfunction ajaxHandleResponses( s, jqXHR, responses ) {\r\n\r\n\tvar ct, type, finalDataType, firstDataType,\r\n\t\tcontents = s.contents,\r\n\t\tdataTypes = s.dataTypes;\r\n\r\n\t// Remove auto dataType and get content-type in the process\r\n\twhile ( dataTypes[ 0 ] === \"*\" ) {\r\n\t\tdataTypes.shift();\r\n\t\tif ( ct === undefined ) {\r\n\t\t\tct = s.mimeType || jqXHR.getResponseHeader(\"Content-Type\");\r\n\t\t}\r\n\t}\r\n\r\n\t// Check if we're dealing with a known content-type\r\n\tif ( ct ) {\r\n\t\tfor ( type in contents ) {\r\n\t\t\tif ( contents[ type ] && contents[ type ].test( ct ) ) {\r\n\t\t\t\tdataTypes.unshift( type );\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// Check to see if we have a response for the expected dataType\r\n\tif ( dataTypes[ 0 ] in responses ) {\r\n\t\tfinalDataType = dataTypes[ 0 ];\r\n\t} else {\r\n\t\t// Try convertible dataTypes\r\n\t\tfor ( type in responses ) {\r\n\t\t\tif ( !dataTypes[ 0 ] || s.converters[ type + \" \" + dataTypes[0] ] ) {\r\n\t\t\t\tfinalDataType = type;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tif ( !firstDataType ) {\r\n\t\t\t\tfirstDataType = type;\r\n\t\t\t}\r\n\t\t}\r\n\t\t// Or just use first one\r\n\t\tfinalDataType = finalDataType || firstDataType;\r\n\t}\r\n\r\n\t// If we found a dataType\r\n\t// We add the dataType to the list if needed\r\n\t// and return the corresponding response\r\n\tif ( finalDataType ) {\r\n\t\tif ( finalDataType !== dataTypes[ 0 ] ) {\r\n\t\t\tdataTypes.unshift( finalDataType );\r\n\t\t}\r\n\t\treturn responses[ finalDataType ];\r\n\t}\r\n}\r\n\r\n/* Chain conversions given the request and the original response\r\n * Also sets the responseXXX fields on the jqXHR instance\r\n */\r\nfunction ajaxConvert( s, response, jqXHR, isSuccess ) {\r\n\tvar conv2, current, conv, tmp, prev,\r\n\t\tconverters = {},\r\n\t\t// Work with a copy of dataTypes in case we need to modify it for conversion\r\n\t\tdataTypes = s.dataTypes.slice();\r\n\r\n\t// Create converters map with lowercased keys\r\n\tif ( dataTypes[ 1 ] ) {\r\n\t\tfor ( conv in s.converters ) {\r\n\t\t\tconverters[ conv.toLowerCase() ] = s.converters[ conv ];\r\n\t\t}\r\n\t}\r\n\r\n\tcurrent = dataTypes.shift();\r\n\r\n\t// Convert to each sequential dataType\r\n\twhile ( current ) {\r\n\r\n\t\tif ( s.responseFields[ current ] ) {\r\n\t\t\tjqXHR[ s.responseFields[ current ] ] = response;\r\n\t\t}\r\n\r\n\t\t// Apply the dataFilter if provided\r\n\t\tif ( !prev && isSuccess && s.dataFilter ) {\r\n\t\t\tresponse = s.dataFilter( response, s.dataType );\r\n\t\t}\r\n\r\n\t\tprev = current;\r\n\t\tcurrent = dataTypes.shift();\r\n\r\n\t\tif ( current ) {\r\n\r\n\t\t// There's only work to do if current dataType is non-auto\r\n\t\t\tif ( current === \"*\" ) {\r\n\r\n\t\t\t\tcurrent = prev;\r\n\r\n\t\t\t// Convert response if prev dataType is non-auto and differs from current\r\n\t\t\t} else if ( prev !== \"*\" && prev !== current ) {\r\n\r\n\t\t\t\t// Seek a direct converter\r\n\t\t\t\tconv = converters[ prev + \" \" + current ] || converters[ \"* \" + current ];\r\n\r\n\t\t\t\t// If none found, seek a pair\r\n\t\t\t\tif ( !conv ) {\r\n\t\t\t\t\tfor ( conv2 in converters ) {\r\n\r\n\t\t\t\t\t\t// If conv2 outputs current\r\n\t\t\t\t\t\ttmp = conv2.split( \" \" );\r\n\t\t\t\t\t\tif ( tmp[ 1 ] === current ) {\r\n\r\n\t\t\t\t\t\t\t// If prev can be converted to accepted input\r\n\t\t\t\t\t\t\tconv = converters[ prev + \" \" + tmp[ 0 ] ] ||\r\n\t\t\t\t\t\t\t\tconverters[ \"* \" + tmp[ 0 ] ];\r\n\t\t\t\t\t\t\tif ( conv ) {\r\n\t\t\t\t\t\t\t\t// Condense equivalence converters\r\n\t\t\t\t\t\t\t\tif ( conv === true ) {\r\n\t\t\t\t\t\t\t\t\tconv = converters[ conv2 ];\r\n\r\n\t\t\t\t\t\t\t\t// Otherwise, insert the intermediate dataType\r\n\t\t\t\t\t\t\t\t} else if ( converters[ conv2 ] !== true ) {\r\n\t\t\t\t\t\t\t\t\tcurrent = tmp[ 0 ];\r\n\t\t\t\t\t\t\t\t\tdataTypes.unshift( tmp[ 1 ] );\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Apply converter (if not an equivalence)\r\n\t\t\t\tif ( conv !== true ) {\r\n\r\n\t\t\t\t\t// Unless errors are allowed to bubble, catch and return them\r\n\t\t\t\t\tif ( conv && s[ \"throws\" ] ) {\r\n\t\t\t\t\t\tresponse = conv( response );\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tresponse = conv( response );\r\n\t\t\t\t\t\t} catch ( e ) {\r\n\t\t\t\t\t\t\treturn { state: \"parsererror\", error: conv ? e : \"No conversion from \" + prev + \" to \" + current };\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn { state: \"success\", data: response };\r\n}\r\n\r\njQuery.extend({\r\n\r\n\t// Counter for holding the number of active queries\r\n\tactive: 0,\r\n\r\n\t// Last-Modified header cache for next request\r\n\tlastModified: {},\r\n\tetag: {},\r\n\r\n\tajaxSettings: {\r\n\t\turl: ajaxLocation,\r\n\t\ttype: \"GET\",\r\n\t\tisLocal: rlocalProtocol.test( ajaxLocParts[ 1 ] ),\r\n\t\tglobal: true,\r\n\t\tprocessData: true,\r\n\t\tasync: true,\r\n\t\tcontentType: \"application/x-www-form-urlencoded; charset=UTF-8\",\r\n\t\t/*\r\n\t\ttimeout: 0,\r\n\t\tdata: null,\r\n\t\tdataType: null,\r\n\t\tusername: null,\r\n\t\tpassword: null,\r\n\t\tcache: null,\r\n\t\tthrows: false,\r\n\t\ttraditional: false,\r\n\t\theaders: {},\r\n\t\t*/\r\n\r\n\t\taccepts: {\r\n\t\t\t\"*\": allTypes,\r\n\t\t\ttext: \"text/plain\",\r\n\t\t\thtml: \"text/html\",\r\n\t\t\txml: \"application/xml, text/xml\",\r\n\t\t\tjson: \"application/json, text/javascript\"\r\n\t\t},\r\n\r\n\t\tcontents: {\r\n\t\t\txml: /xml/,\r\n\t\t\thtml: /html/,\r\n\t\t\tjson: /json/\r\n\t\t},\r\n\r\n\t\tresponseFields: {\r\n\t\t\txml: \"responseXML\",\r\n\t\t\ttext: \"responseText\",\r\n\t\t\tjson: \"responseJSON\"\r\n\t\t},\r\n\r\n\t\t// Data converters\r\n\t\t// Keys separate source (or catchall \"*\") and destination types with a single space\r\n\t\tconverters: {\r\n\r\n\t\t\t// Convert anything to text\r\n\t\t\t\"* text\": String,\r\n\r\n\t\t\t// Text to html (true = no transformation)\r\n\t\t\t\"text html\": true,\r\n\r\n\t\t\t// Evaluate text as a json expression\r\n\t\t\t\"text json\": jQuery.parseJSON,\r\n\r\n\t\t\t// Parse text as xml\r\n\t\t\t\"text xml\": jQuery.parseXML\r\n\t\t},\r\n\r\n\t\t// For options that shouldn't be deep extended:\r\n\t\t// you can add your own custom options here if\r\n\t\t// and when you create one that shouldn't be\r\n\t\t// deep extended (see ajaxExtend)\r\n\t\tflatOptions: {\r\n\t\t\turl: true,\r\n\t\t\tcontext: true\r\n\t\t}\r\n\t},\r\n\r\n\t// Creates a full fledged settings object into target\r\n\t// with both ajaxSettings and settings fields.\r\n\t// If target is omitted, writes into ajaxSettings.\r\n\tajaxSetup: function( target, settings ) {\r\n\t\treturn settings ?\r\n\r\n\t\t\t// Building a settings object\r\n\t\t\tajaxExtend( ajaxExtend( target, jQuery.ajaxSettings ), settings ) :\r\n\r\n\t\t\t// Extending ajaxSettings\r\n\t\t\tajaxExtend( jQuery.ajaxSettings, target );\r\n\t},\r\n\r\n\tajaxPrefilter: addToPrefiltersOrTransports( prefilters ),\r\n\tajaxTransport: addToPrefiltersOrTransports( transports ),\r\n\r\n\t// Main method\r\n\tajax: function( url, options ) {\r\n\r\n\t\t// If url is an object, simulate pre-1.5 signature\r\n\t\tif ( typeof url === \"object\" ) {\r\n\t\t\toptions = url;\r\n\t\t\turl = undefined;\r\n\t\t}\r\n\r\n\t\t// Force options to be an object\r\n\t\toptions = options || {};\r\n\r\n\t\tvar transport,\r\n\t\t\t// URL without anti-cache param\r\n\t\t\tcacheURL,\r\n\t\t\t// Response headers\r\n\t\t\tresponseHeadersString,\r\n\t\t\tresponseHeaders,\r\n\t\t\t// timeout handle\r\n\t\t\ttimeoutTimer,\r\n\t\t\t// Cross-domain detection vars\r\n\t\t\tparts,\r\n\t\t\t// To know if global events are to be dispatched\r\n\t\t\tfireGlobals,\r\n\t\t\t// Loop variable\r\n\t\t\ti,\r\n\t\t\t// Create the final options object\r\n\t\t\ts = jQuery.ajaxSetup( {}, options ),\r\n\t\t\t// Callbacks context\r\n\t\t\tcallbackContext = s.context || s,\r\n\t\t\t// Context for global events is callbackContext if it is a DOM node or jQuery collection\r\n\t\t\tglobalEventContext = s.context && ( callbackContext.nodeType || callbackContext.jquery ) ?\r\n\t\t\t\tjQuery( callbackContext ) :\r\n\t\t\t\tjQuery.event,\r\n\t\t\t// Deferreds\r\n\t\t\tdeferred = jQuery.Deferred(),\r\n\t\t\tcompleteDeferred = jQuery.Callbacks(\"once memory\"),\r\n\t\t\t// Status-dependent callbacks\r\n\t\t\tstatusCode = s.statusCode || {},\r\n\t\t\t// Headers (they are sent all at once)\r\n\t\t\trequestHeaders = {},\r\n\t\t\trequestHeadersNames = {},\r\n\t\t\t// The jqXHR state\r\n\t\t\tstate = 0,\r\n\t\t\t// Default abort message\r\n\t\t\tstrAbort = \"canceled\",\r\n\t\t\t// Fake xhr\r\n\t\t\tjqXHR = {\r\n\t\t\t\treadyState: 0,\r\n\r\n\t\t\t\t// Builds headers hashtable if needed\r\n\t\t\t\tgetResponseHeader: function( key ) {\r\n\t\t\t\t\tvar match;\r\n\t\t\t\t\tif ( state === 2 ) {\r\n\t\t\t\t\t\tif ( !responseHeaders ) {\r\n\t\t\t\t\t\t\tresponseHeaders = {};\r\n\t\t\t\t\t\t\twhile ( (match = rheaders.exec( responseHeadersString )) ) {\r\n\t\t\t\t\t\t\t\tresponseHeaders[ match[1].toLowerCase() ] = match[ 2 ];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tmatch = responseHeaders[ key.toLowerCase() ];\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn match == null ? null : match;\r\n\t\t\t\t},\r\n\r\n\t\t\t\t// Raw string\r\n\t\t\t\tgetAllResponseHeaders: function() {\r\n\t\t\t\t\treturn state === 2 ? responseHeadersString : null;\r\n\t\t\t\t},\r\n\r\n\t\t\t\t// Caches the header\r\n\t\t\t\tsetRequestHeader: function( name, value ) {\r\n\t\t\t\t\tvar lname = name.toLowerCase();\r\n\t\t\t\t\tif ( !state ) {\r\n\t\t\t\t\t\tname = requestHeadersNames[ lname ] = requestHeadersNames[ lname ] || name;\r\n\t\t\t\t\t\trequestHeaders[ name ] = value;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn this;\r\n\t\t\t\t},\r\n\r\n\t\t\t\t// Overrides response content-type header\r\n\t\t\t\toverrideMimeType: function( type ) {\r\n\t\t\t\t\tif ( !state ) {\r\n\t\t\t\t\t\ts.mimeType = type;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn this;\r\n\t\t\t\t},\r\n\r\n\t\t\t\t// Status-dependent callbacks\r\n\t\t\t\tstatusCode: function( map ) {\r\n\t\t\t\t\tvar code;\r\n\t\t\t\t\tif ( map ) {\r\n\t\t\t\t\t\tif ( state < 2 ) {\r\n\t\t\t\t\t\t\tfor ( code in map ) {\r\n\t\t\t\t\t\t\t\t// Lazy-add the new callback in a way that preserves old ones\r\n\t\t\t\t\t\t\t\tstatusCode[ code ] = [ statusCode[ code ], map[ code ] ];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// Execute the appropriate callbacks\r\n\t\t\t\t\t\t\tjqXHR.always( map[ jqXHR.status ] );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn this;\r\n\t\t\t\t},\r\n\r\n\t\t\t\t// Cancel the request\r\n\t\t\t\tabort: function( statusText ) {\r\n\t\t\t\t\tvar finalText = statusText || strAbort;\r\n\t\t\t\t\tif ( transport ) {\r\n\t\t\t\t\t\ttransport.abort( finalText );\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdone( 0, finalText );\r\n\t\t\t\t\treturn this;\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t// Attach deferreds\r\n\t\tdeferred.promise( jqXHR ).complete = completeDeferred.add;\r\n\t\tjqXHR.success = jqXHR.done;\r\n\t\tjqXHR.error = jqXHR.fail;\r\n\r\n\t\t// Remove hash character (#7531: and string promotion)\r\n\t\t// Add protocol if not provided (prefilters might expect it)\r\n\t\t// Handle falsy url in the settings object (#10093: consistency with old signature)\r\n\t\t// We also use the url parameter if available\r\n\t\ts.url = ( ( url || s.url || ajaxLocation ) + \"\" ).replace( rhash, \"\" )\r\n\t\t\t.replace( rprotocol, ajaxLocParts[ 1 ] + \"//\" );\r\n\r\n\t\t// Alias method option to type as per ticket #12004\r\n\t\ts.type = options.method || options.type || s.method || s.type;\r\n\r\n\t\t// Extract dataTypes list\r\n\t\ts.dataTypes = jQuery.trim( s.dataType || \"*\" ).toLowerCase().match( rnotwhite ) || [ \"\" ];\r\n\r\n\t\t// A cross-domain request is in order when we have a protocol:host:port mismatch\r\n\t\tif ( s.crossDomain == null ) {\r\n\t\t\tparts = rurl.exec( s.url.toLowerCase() );\r\n\t\t\ts.crossDomain = !!( parts &&\r\n\t\t\t\t( parts[ 1 ] !== ajaxLocParts[ 1 ] || parts[ 2 ] !== ajaxLocParts[ 2 ] ||\r\n\t\t\t\t\t( parts[ 3 ] || ( parts[ 1 ] === \"http:\" ? \"80\" : \"443\" ) ) !==\r\n\t\t\t\t\t\t( ajaxLocParts[ 3 ] || ( ajaxLocParts[ 1 ] === \"http:\" ? \"80\" : \"443\" ) ) )\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\t// Convert data if not already a string\r\n\t\tif ( s.data && s.processData && typeof s.data !== \"string\" ) {\r\n\t\t\ts.data = jQuery.param( s.data, s.traditional );\r\n\t\t}\r\n\r\n\t\t// Apply prefilters\r\n\t\tinspectPrefiltersOrTransports( prefilters, s, options, jqXHR );\r\n\r\n\t\t// If request was aborted inside a prefilter, stop there\r\n\t\tif ( state === 2 ) {\r\n\t\t\treturn jqXHR;\r\n\t\t}\r\n\r\n\t\t// We can fire global events as of now if asked to\r\n\t\tfireGlobals = s.global;\r\n\r\n\t\t// Watch for a new set of requests\r\n\t\tif ( fireGlobals && jQuery.active++ === 0 ) {\r\n\t\t\tjQuery.event.trigger(\"ajaxStart\");\r\n\t\t}\r\n\r\n\t\t// Uppercase the type\r\n\t\ts.type = s.type.toUpperCase();\r\n\r\n\t\t// Determine if request has content\r\n\t\ts.hasContent = !rnoContent.test( s.type );\r\n\r\n\t\t// Save the URL in case we're toying with the If-Modified-Since\r\n\t\t// and/or If-None-Match header later on\r\n\t\tcacheURL = s.url;\r\n\r\n\t\t// More options handling for requests with no content\r\n\t\tif ( !s.hasContent ) {\r\n\r\n\t\t\t// If data is available, append data to url\r\n\t\t\tif ( s.data ) {\r\n\t\t\t\tcacheURL = ( s.url += ( rquery.test( cacheURL ) ? \"&\" : \"?\" ) + s.data );\r\n\t\t\t\t// #9682: remove data so that it's not used in an eventual retry\r\n\t\t\t\tdelete s.data;\r\n\t\t\t}\r\n\r\n\t\t\t// Add anti-cache in url if needed\r\n\t\t\tif ( s.cache === false ) {\r\n\t\t\t\ts.url = rts.test( cacheURL ) ?\r\n\r\n\t\t\t\t\t// If there is already a '_' parameter, set its value\r\n\t\t\t\t\tcacheURL.replace( rts, \"$1_=\" + nonce++ ) :\r\n\r\n\t\t\t\t\t// Otherwise add one to the end\r\n\t\t\t\t\tcacheURL + ( rquery.test( cacheURL ) ? \"&\" : \"?\" ) + \"_=\" + nonce++;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.\r\n\t\tif ( s.ifModified ) {\r\n\t\t\tif ( jQuery.lastModified[ cacheURL ] ) {\r\n\t\t\t\tjqXHR.setRequestHeader( \"If-Modified-Since\", jQuery.lastModified[ cacheURL ] );\r\n\t\t\t}\r\n\t\t\tif ( jQuery.etag[ cacheURL ] ) {\r\n\t\t\t\tjqXHR.setRequestHeader( \"If-None-Match\", jQuery.etag[ cacheURL ] );\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Set the correct header, if data is being sent\r\n\t\tif ( s.data && s.hasContent && s.contentType !== false || options.contentType ) {\r\n\t\t\tjqXHR.setRequestHeader( \"Content-Type\", s.contentType );\r\n\t\t}\r\n\r\n\t\t// Set the Accepts header for the server, depending on the dataType\r\n\t\tjqXHR.setRequestHeader(\r\n\t\t\t\"Accept\",\r\n\t\t\ts.dataTypes[ 0 ] && s.accepts[ s.dataTypes[0] ] ?\r\n\t\t\t\ts.accepts[ s.dataTypes[0] ] + ( s.dataTypes[ 0 ] !== \"*\" ? \", \" + allTypes + \"; q=0.01\" : \"\" ) :\r\n\t\t\t\ts.accepts[ \"*\" ]\r\n\t\t);\r\n\r\n\t\t// Check for headers option\r\n\t\tfor ( i in s.headers ) {\r\n\t\t\tjqXHR.setRequestHeader( i, s.headers[ i ] );\r\n\t\t}\r\n\r\n\t\t// Allow custom headers/mimetypes and early abort\r\n\t\tif ( s.beforeSend && ( s.beforeSend.call( callbackContext, jqXHR, s ) === false || state === 2 ) ) {\r\n\t\t\t// Abort if not done already and return\r\n\t\t\treturn jqXHR.abort();\r\n\t\t}\r\n\r\n\t\t// aborting is no longer a cancellation\r\n\t\tstrAbort = \"abort\";\r\n\r\n\t\t// Install callbacks on deferreds\r\n\t\tfor ( i in { success: 1, error: 1, complete: 1 } ) {\r\n\t\t\tjqXHR[ i ]( s[ i ] );\r\n\t\t}\r\n\r\n\t\t// Get transport\r\n\t\ttransport = inspectPrefiltersOrTransports( transports, s, options, jqXHR );\r\n\r\n\t\t// If no transport, we auto-abort\r\n\t\tif ( !transport ) {\r\n\t\t\tdone( -1, \"No Transport\" );\r\n\t\t} else {\r\n\t\t\tjqXHR.readyState = 1;\r\n\r\n\t\t\t// Send global event\r\n\t\t\tif ( fireGlobals ) {\r\n\t\t\t\tglobalEventContext.trigger( \"ajaxSend\", [ jqXHR, s ] );\r\n\t\t\t}\r\n\t\t\t// Timeout\r\n\t\t\tif ( s.async && s.timeout > 0 ) {\r\n\t\t\t\ttimeoutTimer = setTimeout(function() {\r\n\t\t\t\t\tjqXHR.abort(\"timeout\");\r\n\t\t\t\t}, s.timeout );\r\n\t\t\t}\r\n\r\n\t\t\ttry {\r\n\t\t\t\tstate = 1;\r\n\t\t\t\ttransport.send( requestHeaders, done );\r\n\t\t\t} catch ( e ) {\r\n\t\t\t\t// Propagate exception as error if not done\r\n\t\t\t\tif ( state < 2 ) {\r\n\t\t\t\t\tdone( -1, e );\r\n\t\t\t\t// Simply rethrow otherwise\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthrow e;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Callback for when everything is done\r\n\t\tfunction done( status, nativeStatusText, responses, headers ) {\r\n\t\t\tvar isSuccess, success, error, response, modified,\r\n\t\t\t\tstatusText = nativeStatusText;\r\n\r\n\t\t\t// Called once\r\n\t\t\tif ( state === 2 ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// State is \"done\" now\r\n\t\t\tstate = 2;\r\n\r\n\t\t\t// Clear timeout if it exists\r\n\t\t\tif ( timeoutTimer ) {\r\n\t\t\t\tclearTimeout( timeoutTimer );\r\n\t\t\t}\r\n\r\n\t\t\t// Dereference transport for early garbage collection\r\n\t\t\t// (no matter how long the jqXHR object will be used)\r\n\t\t\ttransport = undefined;\r\n\r\n\t\t\t// Cache response headers\r\n\t\t\tresponseHeadersString = headers || \"\";\r\n\r\n\t\t\t// Set readyState\r\n\t\t\tjqXHR.readyState = status > 0 ? 4 : 0;\r\n\r\n\t\t\t// Determine if successful\r\n\t\t\tisSuccess = status >= 200 && status < 300 || status === 304;\r\n\r\n\t\t\t// Get response data\r\n\t\t\tif ( responses ) {\r\n\t\t\t\tresponse = ajaxHandleResponses( s, jqXHR, responses );\r\n\t\t\t}\r\n\r\n\t\t\t// Convert no matter what (that way responseXXX fields are always set)\r\n\t\t\tresponse = ajaxConvert( s, response, jqXHR, isSuccess );\r\n\r\n\t\t\t// If successful, handle type chaining\r\n\t\t\tif ( isSuccess ) {\r\n\r\n\t\t\t\t// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.\r\n\t\t\t\tif ( s.ifModified ) {\r\n\t\t\t\t\tmodified = jqXHR.getResponseHeader(\"Last-Modified\");\r\n\t\t\t\t\tif ( modified ) {\r\n\t\t\t\t\t\tjQuery.lastModified[ cacheURL ] = modified;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tmodified = jqXHR.getResponseHeader(\"etag\");\r\n\t\t\t\t\tif ( modified ) {\r\n\t\t\t\t\t\tjQuery.etag[ cacheURL ] = modified;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// if no content\r\n\t\t\t\tif ( status === 204 || s.type === \"HEAD\" ) {\r\n\t\t\t\t\tstatusText = \"nocontent\";\r\n\r\n\t\t\t\t// if not modified\r\n\t\t\t\t} else if ( status === 304 ) {\r\n\t\t\t\t\tstatusText = \"notmodified\";\r\n\r\n\t\t\t\t// If we have data, let's convert it\r\n\t\t\t\t} else {\r\n\t\t\t\t\tstatusText = response.state;\r\n\t\t\t\t\tsuccess = response.data;\r\n\t\t\t\t\terror = response.error;\r\n\t\t\t\t\tisSuccess = !error;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t// We extract error from statusText\r\n\t\t\t\t// then normalize statusText and status for non-aborts\r\n\t\t\t\terror = statusText;\r\n\t\t\t\tif ( status || !statusText ) {\r\n\t\t\t\t\tstatusText = \"error\";\r\n\t\t\t\t\tif ( status < 0 ) {\r\n\t\t\t\t\t\tstatus = 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Set data for the fake xhr object\r\n\t\t\tjqXHR.status = status;\r\n\t\t\tjqXHR.statusText = ( nativeStatusText || statusText ) + \"\";\r\n\r\n\t\t\t// Success/Error\r\n\t\t\tif ( isSuccess ) {\r\n\t\t\t\tdeferred.resolveWith( callbackContext, [ success, statusText, jqXHR ] );\r\n\t\t\t} else {\r\n\t\t\t\tdeferred.rejectWith( callbackContext, [ jqXHR, statusText, error ] );\r\n\t\t\t}\r\n\r\n\t\t\t// Status-dependent callbacks\r\n\t\t\tjqXHR.statusCode( statusCode );\r\n\t\t\tstatusCode = undefined;\r\n\r\n\t\t\tif ( fireGlobals ) {\r\n\t\t\t\tglobalEventContext.trigger( isSuccess ? \"ajaxSuccess\" : \"ajaxError\",\r\n\t\t\t\t\t[ jqXHR, s, isSuccess ? success : error ] );\r\n\t\t\t}\r\n\r\n\t\t\t// Complete\r\n\t\t\tcompleteDeferred.fireWith( callbackContext, [ jqXHR, statusText ] );\r\n\r\n\t\t\tif ( fireGlobals ) {\r\n\t\t\t\tglobalEventContext.trigger( \"ajaxComplete\", [ jqXHR, s ] );\r\n\t\t\t\t// Handle the global AJAX counter\r\n\t\t\t\tif ( !( --jQuery.active ) ) {\r\n\t\t\t\t\tjQuery.event.trigger(\"ajaxStop\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn jqXHR;\r\n\t},\r\n\r\n\tgetJSON: function( url, data, callback ) {\r\n\t\treturn jQuery.get( url, data, callback, \"json\" );\r\n\t},\r\n\r\n\tgetScript: function( url, callback ) {\r\n\t\treturn jQuery.get( url, undefined, callback, \"script\" );\r\n\t}\r\n});\r\n\r\njQuery.each( [ \"get\", \"post\" ], function( i, method ) {\r\n\tjQuery[ method ] = function( url, data, callback, type ) {\r\n\t\t// shift arguments if data argument was omitted\r\n\t\tif ( jQuery.isFunction( data ) ) {\r\n\t\t\ttype = type || callback;\r\n\t\t\tcallback = data;\r\n\t\t\tdata = undefined;\r\n\t\t}\r\n\r\n\t\treturn jQuery.ajax({\r\n\t\t\turl: url,\r\n\t\t\ttype: method,\r\n\t\t\tdataType: type,\r\n\t\t\tdata: data,\r\n\t\t\tsuccess: callback\r\n\t\t});\r\n\t};\r\n});\r\n\r\n// Attach a bunch of functions for handling common AJAX events\r\njQuery.each( [ \"ajaxStart\", \"ajaxStop\", \"ajaxComplete\", \"ajaxError\", \"ajaxSuccess\", \"ajaxSend\" ], function( i, type ) {\r\n\tjQuery.fn[ type ] = function( fn ) {\r\n\t\treturn this.on( type, fn );\r\n\t};\r\n});\r\n\r\n\r\njQuery._evalUrl = function( url ) {\r\n\treturn jQuery.ajax({\r\n\t\turl: url,\r\n\t\ttype: \"GET\",\r\n\t\tdataType: \"script\",\r\n\t\tasync: false,\r\n\t\tglobal: false,\r\n\t\t\"throws\": true\r\n\t});\r\n};\r\n\r\n\r\njQuery.fn.extend({\r\n\twrapAll: function( html ) {\r\n\t\tvar wrap;\r\n\r\n\t\tif ( jQuery.isFunction( html ) ) {\r\n\t\t\treturn this.each(function( i ) {\r\n\t\t\t\tjQuery( this ).wrapAll( html.call(this, i) );\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif ( this[ 0 ] ) {\r\n\r\n\t\t\t// The elements to wrap the target around\r\n\t\t\twrap = jQuery( html, this[ 0 ].ownerDocument ).eq( 0 ).clone( true );\r\n\r\n\t\t\tif ( this[ 0 ].parentNode ) {\r\n\t\t\t\twrap.insertBefore( this[ 0 ] );\r\n\t\t\t}\r\n\r\n\t\t\twrap.map(function() {\r\n\t\t\t\tvar elem = this;\r\n\r\n\t\t\t\twhile ( elem.firstElementChild ) {\r\n\t\t\t\t\telem = elem.firstElementChild;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn elem;\r\n\t\t\t}).append( this );\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\twrapInner: function( html ) {\r\n\t\tif ( jQuery.isFunction( html ) ) {\r\n\t\t\treturn this.each(function( i ) {\r\n\t\t\t\tjQuery( this ).wrapInner( html.call(this, i) );\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\treturn this.each(function() {\r\n\t\t\tvar self = jQuery( this ),\r\n\t\t\t\tcontents = self.contents();\r\n\r\n\t\t\tif ( contents.length ) {\r\n\t\t\t\tcontents.wrapAll( html );\r\n\r\n\t\t\t} else {\r\n\t\t\t\tself.append( html );\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\r\n\twrap: function( html ) {\r\n\t\tvar isFunction = jQuery.isFunction( html );\r\n\r\n\t\treturn this.each(function( i ) {\r\n\t\t\tjQuery( this ).wrapAll( isFunction ? html.call(this, i) : html );\r\n\t\t});\r\n\t},\r\n\r\n\tunwrap: function() {\r\n\t\treturn this.parent().each(function() {\r\n\t\t\tif ( !jQuery.nodeName( this, \"body\" ) ) {\r\n\t\t\t\tjQuery( this ).replaceWith( this.childNodes );\r\n\t\t\t}\r\n\t\t}).end();\r\n\t}\r\n});\r\n\r\n\r\njQuery.expr.filters.hidden = function( elem ) {\r\n\t// Support: Opera <= 12.12\r\n\t// Opera reports offsetWidths and offsetHeights less than zero on some elements\r\n\treturn elem.offsetWidth <= 0 && elem.offsetHeight <= 0;\r\n};\r\njQuery.expr.filters.visible = function( elem ) {\r\n\treturn !jQuery.expr.filters.hidden( elem );\r\n};\r\n\r\n\r\n\r\n\r\nvar r20 = /%20/g,\r\n\trbracket = /\\[\\]$/,\r\n\trCRLF = /\\r?\\n/g,\r\n\trsubmitterTypes = /^(?:submit|button|image|reset|file)$/i,\r\n\trsubmittable = /^(?:input|select|textarea|keygen)/i;\r\n\r\nfunction buildParams( prefix, obj, traditional, add ) {\r\n\tvar name;\r\n\r\n\tif ( jQuery.isArray( obj ) ) {\r\n\t\t// Serialize array item.\r\n\t\tjQuery.each( obj, function( i, v ) {\r\n\t\t\tif ( traditional || rbracket.test( prefix ) ) {\r\n\t\t\t\t// Treat each array item as a scalar.\r\n\t\t\t\tadd( prefix, v );\r\n\r\n\t\t\t} else {\r\n\t\t\t\t// Item is non-scalar (array or object), encode its numeric index.\r\n\t\t\t\tbuildParams( prefix + \"[\" + ( typeof v === \"object\" ? i : \"\" ) + \"]\", v, traditional, add );\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t} else if ( !traditional && jQuery.type( obj ) === \"object\" ) {\r\n\t\t// Serialize object item.\r\n\t\tfor ( name in obj ) {\r\n\t\t\tbuildParams( prefix + \"[\" + name + \"]\", obj[ name ], traditional, add );\r\n\t\t}\r\n\r\n\t} else {\r\n\t\t// Serialize scalar item.\r\n\t\tadd( prefix, obj );\r\n\t}\r\n}\r\n\r\n// Serialize an array of form elements or a set of\r\n// key/values into a query string\r\njQuery.param = function( a, traditional ) {\r\n\tvar prefix,\r\n\t\ts = [],\r\n\t\tadd = function( key, value ) {\r\n\t\t\t// If value is a function, invoke it and return its value\r\n\t\t\tvalue = jQuery.isFunction( value ) ? value() : ( value == null ? \"\" : value );\r\n\t\t\ts[ s.length ] = encodeURIComponent( key ) + \"=\" + encodeURIComponent( value );\r\n\t\t};\r\n\r\n\t// Set traditional to true for jQuery <= 1.3.2 behavior.\r\n\tif ( traditional === undefined ) {\r\n\t\ttraditional = jQuery.ajaxSettings && jQuery.ajaxSettings.traditional;\r\n\t}\r\n\r\n\t// If an array was passed in, assume that it is an array of form elements.\r\n\tif ( jQuery.isArray( a ) || ( a.jquery && !jQuery.isPlainObject( a ) ) ) {\r\n\t\t// Serialize the form elements\r\n\t\tjQuery.each( a, function() {\r\n\t\t\tadd( this.name, this.value );\r\n\t\t});\r\n\r\n\t} else {\r\n\t\t// If traditional, encode the \"old\" way (the way 1.3.2 or older\r\n\t\t// did it), otherwise encode params recursively.\r\n\t\tfor ( prefix in a ) {\r\n\t\t\tbuildParams( prefix, a[ prefix ], traditional, add );\r\n\t\t}\r\n\t}\r\n\r\n\t// Return the resulting serialization\r\n\treturn s.join( \"&\" ).replace( r20, \"+\" );\r\n};\r\n\r\njQuery.fn.extend({\r\n\tserialize: function() {\r\n\t\treturn jQuery.param( this.serializeArray() );\r\n\t},\r\n\tserializeArray: function() {\r\n\t\treturn this.map(function() {\r\n\t\t\t// Can add propHook for \"elements\" to filter or add form elements\r\n\t\t\tvar elements = jQuery.prop( this, \"elements\" );\r\n\t\t\treturn elements ? jQuery.makeArray( elements ) : this;\r\n\t\t})\r\n\t\t.filter(function() {\r\n\t\t\tvar type = this.type;\r\n\r\n\t\t\t// Use .is( \":disabled\" ) so that fieldset[disabled] works\r\n\t\t\treturn this.name && !jQuery( this ).is( \":disabled\" ) &&\r\n\t\t\t\trsubmittable.test( this.nodeName ) && !rsubmitterTypes.test( type ) &&\r\n\t\t\t\t( this.checked || !rcheckableType.test( type ) );\r\n\t\t})\r\n\t\t.map(function( i, elem ) {\r\n\t\t\tvar val = jQuery( this ).val();\r\n\r\n\t\t\treturn val == null ?\r\n\t\t\t\tnull :\r\n\t\t\t\tjQuery.isArray( val ) ?\r\n\t\t\t\t\tjQuery.map( val, function( val ) {\r\n\t\t\t\t\t\treturn { name: elem.name, value: val.replace( rCRLF, \"\\r\\n\" ) };\r\n\t\t\t\t\t}) :\r\n\t\t\t\t\t{ name: elem.name, value: val.replace( rCRLF, \"\\r\\n\" ) };\r\n\t\t}).get();\r\n\t}\r\n});\r\n\r\n\r\njQuery.ajaxSettings.xhr = function() {\r\n\ttry {\r\n\t\treturn new XMLHttpRequest();\r\n\t} catch( e ) {}\r\n};\r\n\r\nvar xhrId = 0,\r\n\txhrCallbacks = {},\r\n\txhrSuccessStatus = {\r\n\t\t// file protocol always yields status code 0, assume 200\r\n\t\t0: 200,\r\n\t\t// Support: IE9\r\n\t\t// #1450: sometimes IE returns 1223 when it should be 204\r\n\t\t1223: 204\r\n\t},\r\n\txhrSupported = jQuery.ajaxSettings.xhr();\r\n\r\n// Support: IE9\r\n// Open requests must be manually aborted on unload (#5280)\r\nif ( window.ActiveXObject ) {\r\n\tjQuery( window ).on( \"unload\", function() {\r\n\t\tfor ( var key in xhrCallbacks ) {\r\n\t\t\txhrCallbacks[ key ]();\r\n\t\t}\r\n\t});\r\n}\r\n\r\nsupport.cors = !!xhrSupported && ( \"withCredentials\" in xhrSupported );\r\nsupport.ajax = xhrSupported = !!xhrSupported;\r\n\r\njQuery.ajaxTransport(function( options ) {\r\n\tvar callback;\r\n\r\n\t// Cross domain only allowed if supported through XMLHttpRequest\r\n\tif ( support.cors || xhrSupported && !options.crossDomain ) {\r\n\t\treturn {\r\n\t\t\tsend: function( headers, complete ) {\r\n\t\t\t\tvar i,\r\n\t\t\t\t\txhr = options.xhr(),\r\n\t\t\t\t\tid = ++xhrId;\r\n\r\n\t\t\t\txhr.open( options.type, options.url, options.async, options.username, options.password );\r\n\r\n\t\t\t\t// Apply custom fields if provided\r\n\t\t\t\tif ( options.xhrFields ) {\r\n\t\t\t\t\tfor ( i in options.xhrFields ) {\r\n\t\t\t\t\t\txhr[ i ] = options.xhrFields[ i ];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Override mime type if needed\r\n\t\t\t\tif ( options.mimeType && xhr.overrideMimeType ) {\r\n\t\t\t\t\txhr.overrideMimeType( options.mimeType );\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// X-Requested-With header\r\n\t\t\t\t// For cross-domain requests, seeing as conditions for a preflight are\r\n\t\t\t\t// akin to a jigsaw puzzle, we simply never set it to be sure.\r\n\t\t\t\t// (it can always be set on a per-request basis or even using ajaxSetup)\r\n\t\t\t\t// For same-domain requests, won't change header if already provided.\r\n\t\t\t\tif ( !options.crossDomain && !headers[\"X-Requested-With\"] ) {\r\n\t\t\t\t\theaders[\"X-Requested-With\"] = \"XMLHttpRequest\";\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Set headers\r\n\t\t\t\tfor ( i in headers ) {\r\n\t\t\t\t\txhr.setRequestHeader( i, headers[ i ] );\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Callback\r\n\t\t\t\tcallback = function( type ) {\r\n\t\t\t\t\treturn function() {\r\n\t\t\t\t\t\tif ( callback ) {\r\n\t\t\t\t\t\t\tdelete xhrCallbacks[ id ];\r\n\t\t\t\t\t\t\tcallback = xhr.onload = xhr.onerror = null;\r\n\r\n\t\t\t\t\t\t\tif ( type === \"abort\" ) {\r\n\t\t\t\t\t\t\t\txhr.abort();\r\n\t\t\t\t\t\t\t} else if ( type === \"error\" ) {\r\n\t\t\t\t\t\t\t\tcomplete(\r\n\t\t\t\t\t\t\t\t\t// file: protocol always yields status 0; see #8605, #14207\r\n\t\t\t\t\t\t\t\t\txhr.status,\r\n\t\t\t\t\t\t\t\t\txhr.statusText\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tcomplete(\r\n\t\t\t\t\t\t\t\t\txhrSuccessStatus[ xhr.status ] || xhr.status,\r\n\t\t\t\t\t\t\t\t\txhr.statusText,\r\n\t\t\t\t\t\t\t\t\t// Support: IE9\r\n\t\t\t\t\t\t\t\t\t// Accessing binary-data responseText throws an exception\r\n\t\t\t\t\t\t\t\t\t// (#11426)\r\n\t\t\t\t\t\t\t\t\ttypeof xhr.responseText === \"string\" ? {\r\n\t\t\t\t\t\t\t\t\t\ttext: xhr.responseText\r\n\t\t\t\t\t\t\t\t\t} : undefined,\r\n\t\t\t\t\t\t\t\t\txhr.getAllResponseHeaders()\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\t\t\t\t};\r\n\r\n\t\t\t\t// Listen to events\r\n\t\t\t\txhr.onload = callback();\r\n\t\t\t\txhr.onerror = callback(\"error\");\r\n\r\n\t\t\t\t// Create the abort callback\r\n\t\t\t\tcallback = xhrCallbacks[ id ] = callback(\"abort\");\r\n\r\n\t\t\t\ttry {\r\n\t\t\t\t\t// Do send the request (this may raise an exception)\r\n\t\t\t\t\txhr.send( options.hasContent && options.data || null );\r\n\t\t\t\t} catch ( e ) {\r\n\t\t\t\t\t// #14683: Only rethrow if this hasn't been notified as an error yet\r\n\t\t\t\t\tif ( callback ) {\r\n\t\t\t\t\t\tthrow e;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tabort: function() {\r\n\t\t\t\tif ( callback ) {\r\n\t\t\t\t\tcallback();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n});\r\n\r\n\r\n\r\n\r\n// Install script dataType\r\njQuery.ajaxSetup({\r\n\taccepts: {\r\n\t\tscript: \"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript\"\r\n\t},\r\n\tcontents: {\r\n\t\tscript: /(?:java|ecma)script/\r\n\t},\r\n\tconverters: {\r\n\t\t\"text script\": function( text ) {\r\n\t\t\tjQuery.globalEval( text );\r\n\t\t\treturn text;\r\n\t\t}\r\n\t}\r\n});\r\n\r\n// Handle cache's special case and crossDomain\r\njQuery.ajaxPrefilter( \"script\", function( s ) {\r\n\tif ( s.cache === undefined ) {\r\n\t\ts.cache = false;\r\n\t}\r\n\tif ( s.crossDomain ) {\r\n\t\ts.type = \"GET\";\r\n\t}\r\n});\r\n\r\n// Bind script tag hack transport\r\njQuery.ajaxTransport( \"script\", function( s ) {\r\n\t// This transport only deals with cross domain requests\r\n\tif ( s.crossDomain ) {\r\n\t\tvar script, callback;\r\n\t\treturn {\r\n\t\t\tsend: function( _, complete ) {\r\n\t\t\t\tscript = jQuery(\"<script>\").prop({\r\n\t\t\t\t\tasync: true,\r\n\t\t\t\t\tcharset: s.scriptCharset,\r\n\t\t\t\t\tsrc: s.url\r\n\t\t\t\t}).on(\r\n\t\t\t\t\t\"load error\",\r\n\t\t\t\t\tcallback = function( evt ) {\r\n\t\t\t\t\t\tscript.remove();\r\n\t\t\t\t\t\tcallback = null;\r\n\t\t\t\t\t\tif ( evt ) {\r\n\t\t\t\t\t\t\tcomplete( evt.type === \"error\" ? 404 : 200, evt.type );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t\tdocument.head.appendChild( script[ 0 ] );\r\n\t\t\t},\r\n\t\t\tabort: function() {\r\n\t\t\t\tif ( callback ) {\r\n\t\t\t\t\tcallback();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n});\r\n\r\n\r\n\r\n\r\nvar oldCallbacks = [],\r\n\trjsonp = /(=)\\?(?=&|$)|\\?\\?/;\r\n\r\n// Default jsonp settings\r\njQuery.ajaxSetup({\r\n\tjsonp: \"callback\",\r\n\tjsonpCallback: function() {\r\n\t\tvar callback = oldCallbacks.pop() || ( jQuery.expando + \"_\" + ( nonce++ ) );\r\n\t\tthis[ callback ] = true;\r\n\t\treturn callback;\r\n\t}\r\n});\r\n\r\n// Detect, normalize options and install callbacks for jsonp requests\r\njQuery.ajaxPrefilter( \"json jsonp\", function( s, originalSettings, jqXHR ) {\r\n\r\n\tvar callbackName, overwritten, responseContainer,\r\n\t\tjsonProp = s.jsonp !== false && ( rjsonp.test( s.url ) ?\r\n\t\t\t\"url\" :\r\n\t\t\ttypeof s.data === \"string\" && !( s.contentType || \"\" ).indexOf(\"application/x-www-form-urlencoded\") && rjsonp.test( s.data ) && \"data\"\r\n\t\t);\r\n\r\n\t// Handle iff the expected data type is \"jsonp\" or we have a parameter to set\r\n\tif ( jsonProp || s.dataTypes[ 0 ] === \"jsonp\" ) {\r\n\r\n\t\t// Get callback name, remembering preexisting value associated with it\r\n\t\tcallbackName = s.jsonpCallback = jQuery.isFunction( s.jsonpCallback ) ?\r\n\t\t\ts.jsonpCallback() :\r\n\t\t\ts.jsonpCallback;\r\n\r\n\t\t// Insert callback into url or form data\r\n\t\tif ( jsonProp ) {\r\n\t\t\ts[ jsonProp ] = s[ jsonProp ].replace( rjsonp, \"$1\" + callbackName );\r\n\t\t} else if ( s.jsonp !== false ) {\r\n\t\t\ts.url += ( rquery.test( s.url ) ? \"&\" : \"?\" ) + s.jsonp + \"=\" + callbackName;\r\n\t\t}\r\n\r\n\t\t// Use data converter to retrieve json after script execution\r\n\t\ts.converters[\"script json\"] = function() {\r\n\t\t\tif ( !responseContainer ) {\r\n\t\t\t\tjQuery.error( callbackName + \" was not called\" );\r\n\t\t\t}\r\n\t\t\treturn responseContainer[ 0 ];\r\n\t\t};\r\n\r\n\t\t// force json dataType\r\n\t\ts.dataTypes[ 0 ] = \"json\";\r\n\r\n\t\t// Install callback\r\n\t\toverwritten = window[ callbackName ];\r\n\t\twindow[ callbackName ] = function() {\r\n\t\t\tresponseContainer = arguments;\r\n\t\t};\r\n\r\n\t\t// Clean-up function (fires after converters)\r\n\t\tjqXHR.always(function() {\r\n\t\t\t// Restore preexisting value\r\n\t\t\twindow[ callbackName ] = overwritten;\r\n\r\n\t\t\t// Save back as free\r\n\t\t\tif ( s[ callbackName ] ) {\r\n\t\t\t\t// make sure that re-using the options doesn't screw things around\r\n\t\t\t\ts.jsonpCallback = originalSettings.jsonpCallback;\r\n\r\n\t\t\t\t// save the callback name for future use\r\n\t\t\t\toldCallbacks.push( callbackName );\r\n\t\t\t}\r\n\r\n\t\t\t// Call if it was a function and we have a response\r\n\t\t\tif ( responseContainer && jQuery.isFunction( overwritten ) ) {\r\n\t\t\t\toverwritten( responseContainer[ 0 ] );\r\n\t\t\t}\r\n\r\n\t\t\tresponseContainer = overwritten = undefined;\r\n\t\t});\r\n\r\n\t\t// Delegate to script\r\n\t\treturn \"script\";\r\n\t}\r\n});\r\n\r\n\r\n\r\n\r\n// data: string of html\r\n// context (optional): If specified, the fragment will be created in this context, defaults to document\r\n// keepScripts (optional): If true, will include scripts passed in the html string\r\njQuery.parseHTML = function( data, context, keepScripts ) {\r\n\tif ( !data || typeof data !== \"string\" ) {\r\n\t\treturn null;\r\n\t}\r\n\tif ( typeof context === \"boolean\" ) {\r\n\t\tkeepScripts = context;\r\n\t\tcontext = false;\r\n\t}\r\n\tcontext = context || document;\r\n\r\n\tvar parsed = rsingleTag.exec( data ),\r\n\t\tscripts = !keepScripts && [];\r\n\r\n\t// Single tag\r\n\tif ( parsed ) {\r\n\t\treturn [ context.createElement( parsed[1] ) ];\r\n\t}\r\n\r\n\tparsed = jQuery.buildFragment( [ data ], context, scripts );\r\n\r\n\tif ( scripts && scripts.length ) {\r\n\t\tjQuery( scripts ).remove();\r\n\t}\r\n\r\n\treturn jQuery.merge( [], parsed.childNodes );\r\n};\r\n\r\n\r\n// Keep a copy of the old load method\r\nvar _load = jQuery.fn.load;\r\n\r\n/**\r\n * Load a url into a page\r\n */\r\njQuery.fn.load = function( url, params, callback ) {\r\n\tif ( typeof url !== \"string\" && _load ) {\r\n\t\treturn _load.apply( this, arguments );\r\n\t}\r\n\r\n\tvar selector, type, response,\r\n\t\tself = this,\r\n\t\toff = url.indexOf(\" \");\r\n\r\n\tif ( off >= 0 ) {\r\n\t\tselector = jQuery.trim( url.slice( off ) );\r\n\t\turl = url.slice( 0, off );\r\n\t}\r\n\r\n\t// If it's a function\r\n\tif ( jQuery.isFunction( params ) ) {\r\n\r\n\t\t// We assume that it's the callback\r\n\t\tcallback = params;\r\n\t\tparams = undefined;\r\n\r\n\t// Otherwise, build a param string\r\n\t} else if ( params && typeof params === \"object\" ) {\r\n\t\ttype = \"POST\";\r\n\t}\r\n\r\n\t// If we have elements to modify, make the request\r\n\tif ( self.length > 0 ) {\r\n\t\tjQuery.ajax({\r\n\t\t\turl: url,\r\n\r\n\t\t\t// if \"type\" variable is undefined, then \"GET\" method will be used\r\n\t\t\ttype: type,\r\n\t\t\tdataType: \"html\",\r\n\t\t\tdata: params\r\n\t\t}).done(function( responseText ) {\r\n\r\n\t\t\t// Save response for use in complete callback\r\n\t\t\tresponse = arguments;\r\n\r\n\t\t\tself.html( selector ?\r\n\r\n\t\t\t\t// If a selector was specified, locate the right elements in a dummy div\r\n\t\t\t\t// Exclude scripts to avoid IE 'Permission Denied' errors\r\n\t\t\t\tjQuery(\"<div>\").append( jQuery.parseHTML( responseText ) ).find( selector ) :\r\n\r\n\t\t\t\t// Otherwise use the full result\r\n\t\t\t\tresponseText );\r\n\r\n\t\t}).complete( callback && function( jqXHR, status ) {\r\n\t\t\tself.each( callback, response || [ jqXHR.responseText, status, jqXHR ] );\r\n\t\t});\r\n\t}\r\n\r\n\treturn this;\r\n};\r\n\r\n\r\n\r\n\r\njQuery.expr.filters.animated = function( elem ) {\r\n\treturn jQuery.grep(jQuery.timers, function( fn ) {\r\n\t\treturn elem === fn.elem;\r\n\t}).length;\r\n};\r\n\r\n\r\n\r\n\r\nvar docElem = window.document.documentElement;\r\n\r\n/**\r\n * Gets a window from an element\r\n */\r\nfunction getWindow( elem ) {\r\n\treturn jQuery.isWindow( elem ) ? elem : elem.nodeType === 9 && elem.defaultView;\r\n}\r\n\r\njQuery.offset = {\r\n\tsetOffset: function( elem, options, i ) {\r\n\t\tvar curPosition, curLeft, curCSSTop, curTop, curOffset, curCSSLeft, calculatePosition,\r\n\t\t\tposition = jQuery.css( elem, \"position\" ),\r\n\t\t\tcurElem = jQuery( elem ),\r\n\t\t\tprops = {};\r\n\r\n\t\t// Set position first, in-case top/left are set even on static elem\r\n\t\tif ( position === \"static\" ) {\r\n\t\t\telem.style.position = \"relative\";\r\n\t\t}\r\n\r\n\t\tcurOffset = curElem.offset();\r\n\t\tcurCSSTop = jQuery.css( elem, \"top\" );\r\n\t\tcurCSSLeft = jQuery.css( elem, \"left\" );\r\n\t\tcalculatePosition = ( position === \"absolute\" || position === \"fixed\" ) &&\r\n\t\t\t( curCSSTop + curCSSLeft ).indexOf(\"auto\") > -1;\r\n\r\n\t\t// Need to be able to calculate position if either top or left is auto and position is either absolute or fixed\r\n\t\tif ( calculatePosition ) {\r\n\t\t\tcurPosition = curElem.position();\r\n\t\t\tcurTop = curPosition.top;\r\n\t\t\tcurLeft = curPosition.left;\r\n\r\n\t\t} else {\r\n\t\t\tcurTop = parseFloat( curCSSTop ) || 0;\r\n\t\t\tcurLeft = parseFloat( curCSSLeft ) || 0;\r\n\t\t}\r\n\r\n\t\tif ( jQuery.isFunction( options ) ) {\r\n\t\t\toptions = options.call( elem, i, curOffset );\r\n\t\t}\r\n\r\n\t\tif ( options.top != null ) {\r\n\t\t\tprops.top = ( options.top - curOffset.top ) + curTop;\r\n\t\t}\r\n\t\tif ( options.left != null ) {\r\n\t\t\tprops.left = ( options.left - curOffset.left ) + curLeft;\r\n\t\t}\r\n\r\n\t\tif ( \"using\" in options ) {\r\n\t\t\toptions.using.call( elem, props );\r\n\r\n\t\t} else {\r\n\t\t\tcurElem.css( props );\r\n\t\t}\r\n\t}\r\n};\r\n\r\njQuery.fn.extend({\r\n\toffset: function( options ) {\r\n\t\tif ( arguments.length ) {\r\n\t\t\treturn options === undefined ?\r\n\t\t\t\tthis :\r\n\t\t\t\tthis.each(function( i ) {\r\n\t\t\t\t\tjQuery.offset.setOffset( this, options, i );\r\n\t\t\t\t});\r\n\t\t}\r\n\r\n\t\tvar docElem, win,\r\n\t\t\telem = this[ 0 ],\r\n\t\t\tbox = { top: 0, left: 0 },\r\n\t\t\tdoc = elem && elem.ownerDocument;\r\n\r\n\t\tif ( !doc ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tdocElem = doc.documentElement;\r\n\r\n\t\t// Make sure it's not a disconnected DOM node\r\n\t\tif ( !jQuery.contains( docElem, elem ) ) {\r\n\t\t\treturn box;\r\n\t\t}\r\n\r\n\t\t// If we don't have gBCR, just use 0,0 rather than error\r\n\t\t// BlackBerry 5, iOS 3 (original iPhone)\r\n\t\tif ( typeof elem.getBoundingClientRect !== strundefined ) {\r\n\t\t\tbox = elem.getBoundingClientRect();\r\n\t\t}\r\n\t\twin = getWindow( doc );\r\n\t\treturn {\r\n\t\t\ttop: box.top + win.pageYOffset - docElem.clientTop,\r\n\t\t\tleft: box.left + win.pageXOffset - docElem.clientLeft\r\n\t\t};\r\n\t},\r\n\r\n\tposition: function() {\r\n\t\tif ( !this[ 0 ] ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar offsetParent, offset,\r\n\t\t\telem = this[ 0 ],\r\n\t\t\tparentOffset = { top: 0, left: 0 };\r\n\r\n\t\t// Fixed elements are offset from window (parentOffset = {top:0, left: 0}, because it is its only offset parent\r\n\t\tif ( jQuery.css( elem, \"position\" ) === \"fixed\" ) {\r\n\t\t\t// We assume that getBoundingClientRect is available when computed position is fixed\r\n\t\t\toffset = elem.getBoundingClientRect();\r\n\r\n\t\t} else {\r\n\t\t\t// Get *real* offsetParent\r\n\t\t\toffsetParent = this.offsetParent();\r\n\r\n\t\t\t// Get correct offsets\r\n\t\t\toffset = this.offset();\r\n\t\t\tif ( !jQuery.nodeName( offsetParent[ 0 ], \"html\" ) ) {\r\n\t\t\t\tparentOffset = offsetParent.offset();\r\n\t\t\t}\r\n\r\n\t\t\t// Add offsetParent borders\r\n\t\t\tparentOffset.top += jQuery.css( offsetParent[ 0 ], \"borderTopWidth\", true );\r\n\t\t\tparentOffset.left += jQuery.css( offsetParent[ 0 ], \"borderLeftWidth\", true );\r\n\t\t}\r\n\r\n\t\t// Subtract parent offsets and element margins\r\n\t\treturn {\r\n\t\t\ttop: offset.top - parentOffset.top - jQuery.css( elem, \"marginTop\", true ),\r\n\t\t\tleft: offset.left - parentOffset.left - jQuery.css( elem, \"marginLeft\", true )\r\n\t\t};\r\n\t},\r\n\r\n\toffsetParent: function() {\r\n\t\treturn this.map(function() {\r\n\t\t\tvar offsetParent = this.offsetParent || docElem;\r\n\r\n\t\t\twhile ( offsetParent && ( !jQuery.nodeName( offsetParent, \"html\" ) && jQuery.css( offsetParent, \"position\" ) === \"static\" ) ) {\r\n\t\t\t\toffsetParent = offsetParent.offsetParent;\r\n\t\t\t}\r\n\r\n\t\t\treturn offsetParent || docElem;\r\n\t\t});\r\n\t}\r\n});\r\n\r\n// Create scrollLeft and scrollTop methods\r\njQuery.each( { scrollLeft: \"pageXOffset\", scrollTop: \"pageYOffset\" }, function( method, prop ) {\r\n\tvar top = \"pageYOffset\" === prop;\r\n\r\n\tjQuery.fn[ method ] = function( val ) {\r\n\t\treturn access( this, function( elem, method, val ) {\r\n\t\t\tvar win = getWindow( elem );\r\n\r\n\t\t\tif ( val === undefined ) {\r\n\t\t\t\treturn win ? win[ prop ] : elem[ method ];\r\n\t\t\t}\r\n\r\n\t\t\tif ( win ) {\r\n\t\t\t\twin.scrollTo(\r\n\t\t\t\t\t!top ? val : window.pageXOffset,\r\n\t\t\t\t\ttop ? val : window.pageYOffset\r\n\t\t\t\t);\r\n\r\n\t\t\t} else {\r\n\t\t\t\telem[ method ] = val;\r\n\t\t\t}\r\n\t\t}, method, val, arguments.length, null );\r\n\t};\r\n});\r\n\r\n// Add the top/left cssHooks using jQuery.fn.position\r\n// Webkit bug: https://bugs.webkit.org/show_bug.cgi?id=29084\r\n// getComputedStyle returns percent when specified for top/left/bottom/right\r\n// rather than make the css module depend on the offset module, we just check for it here\r\njQuery.each( [ \"top\", \"left\" ], function( i, prop ) {\r\n\tjQuery.cssHooks[ prop ] = addGetHookIf( support.pixelPosition,\r\n\t\tfunction( elem, computed ) {\r\n\t\t\tif ( computed ) {\r\n\t\t\t\tcomputed = curCSS( elem, prop );\r\n\t\t\t\t// if curCSS returns percentage, fallback to offset\r\n\t\t\t\treturn rnumnonpx.test( computed ) ?\r\n\t\t\t\t\tjQuery( elem ).position()[ prop ] + \"px\" :\r\n\t\t\t\t\tcomputed;\r\n\t\t\t}\r\n\t\t}\r\n\t);\r\n});\r\n\r\n\r\n// Create innerHeight, innerWidth, height, width, outerHeight and outerWidth methods\r\njQuery.each( { Height: \"height\", Width: \"width\" }, function( name, type ) {\r\n\tjQuery.each( { padding: \"inner\" + name, content: type, \"\": \"outer\" + name }, function( defaultExtra, funcName ) {\r\n\t\t// margin is only for outerHeight, outerWidth\r\n\t\tjQuery.fn[ funcName ] = function( margin, value ) {\r\n\t\t\tvar chainable = arguments.length && ( defaultExtra || typeof margin !== \"boolean\" ),\r\n\t\t\t\textra = defaultExtra || ( margin === true || value === true ? \"margin\" : \"border\" );\r\n\r\n\t\t\treturn access( this, function( elem, type, value ) {\r\n\t\t\t\tvar doc;\r\n\r\n\t\t\t\tif ( jQuery.isWindow( elem ) ) {\r\n\t\t\t\t\t// As of 5/8/2012 this will yield incorrect results for Mobile Safari, but there\r\n\t\t\t\t\t// isn't a whole lot we can do. See pull request at this URL for discussion:\r\n\t\t\t\t\t// https://github.com/jquery/jquery/pull/764\r\n\t\t\t\t\treturn elem.document.documentElement[ \"client\" + name ];\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Get document width or height\r\n\t\t\t\tif ( elem.nodeType === 9 ) {\r\n\t\t\t\t\tdoc = elem.documentElement;\r\n\r\n\t\t\t\t\t// Either scroll[Width/Height] or offset[Width/Height] or client[Width/Height],\r\n\t\t\t\t\t// whichever is greatest\r\n\t\t\t\t\treturn Math.max(\r\n\t\t\t\t\t\telem.body[ \"scroll\" + name ], doc[ \"scroll\" + name ],\r\n\t\t\t\t\t\telem.body[ \"offset\" + name ], doc[ \"offset\" + name ],\r\n\t\t\t\t\t\tdoc[ \"client\" + name ]\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn value === undefined ?\r\n\t\t\t\t\t// Get width or height on the element, requesting but not forcing parseFloat\r\n\t\t\t\t\tjQuery.css( elem, type, extra ) :\r\n\r\n\t\t\t\t\t// Set width or height on the element\r\n\t\t\t\t\tjQuery.style( elem, type, value, extra );\r\n\t\t\t}, type, chainable ? margin : undefined, chainable, null );\r\n\t\t};\r\n\t});\r\n});\r\n\r\n\r\n// The number of elements contained in the matched element set\r\njQuery.fn.size = function() {\r\n\treturn this.length;\r\n};\r\n\r\njQuery.fn.andSelf = jQuery.fn.addBack;\r\n\r\n\r\n\r\n\r\n// Register as a named AMD module, since jQuery can be concatenated with other\r\n// files that may use define, but not via a proper concatenation script that\r\n// understands anonymous AMD modules. A named AMD is safest and most robust\r\n// way to register. Lowercase jquery is used because AMD module names are\r\n// derived from file names, and jQuery is normally delivered in a lowercase\r\n// file name. Do this after creating the global so that if an AMD module wants\r\n// to call noConflict to hide this version of jQuery, it will work.\r\n\r\n// Note that for maximum portability, libraries that are not jQuery should\r\n// declare themselves as anonymous modules, and avoid setting a global if an\r\n// AMD loader is present. jQuery is a special case. For more information, see\r\n// https://github.com/jrburke/requirejs/wiki/Updating-existing-libraries#wiki-anon\r\n\r\n//if ( typeof define === \"function\" && define.amd ) {\r\n//\tdefine( \"jquery\", [], function() {\r\n//\t\treturn jQuery;\r\n//\t});\r\n//}\r\n\r\n\r\n\r\n\r\nvar\r\n\t// Map over jQuery in case of overwrite\r\n\t_jQuery = window.jQuery,\r\n\r\n\t// Map over the $ in case of overwrite\r\n\t_$ = window.$;\r\n\r\njQuery.noConflict = function( deep ) {\r\n\tif ( window.$ === jQuery ) {\r\n\t\twindow.$ = _$;\r\n\t}\r\n\r\n\tif ( deep && window.jQuery === jQuery ) {\r\n\t\twindow.jQuery = _jQuery;\r\n\t}\r\n\r\n\treturn jQuery;\r\n};\r\n\r\n// Expose jQuery and $ identifiers, even in\r\n// AMD (#7102#comment:10, https://github.com/jquery/jquery/pull/557)\r\n// and CommonJS for browser emulators (#13566)\r\nif ( typeof noGlobal === strundefined ) {\r\n\twindow.jQuery = window.$ = jQuery;\r\n}\r\n\r\n\r\n\r\n\r\nreturn jQuery;\r\n\r\n}));\r\n\r\n// END JQUERY SOURCE\r\nreturn jQuery.noConflict(true);\r\n});\n","define('taoQtiItem/portableLib/OAT/util/xml',[],function(){\r\n    \r\n    return {\r\n        addNamespace : function addMarkupNamespace(xml, ns){\r\n            return ns ? xml.replace(/<(\\/)?([^!\\/:>]+)(\\/)?>/g, '<$1' + ns + ':$2$3>') : xml;\r\n        },\r\n        removeNamespace : function removeNamespace(markup){\r\n            return markup.replace(/<(\\/)?(\\w*):([^>]*)>/g, '<$1$3>');\r\n        }\r\n    };\r\n});\n","define('taoQtiItem/portableLib/OAT/util/math',['taoQtiItem/portableLib/jquery_2_1_1', 'mathJax'], function($, MathJax){\r\n    'use strict';\r\n    return {\r\n        render : function render($container){\r\n            if(MathJax){\r\n                $container.find('math').each(function(){\r\n                    var $wrap;\r\n                    var $math = $(this);\r\n                    $math.wrap($('<span>', {'class' : 'math-renderer'}));\r\n                    $wrap = $math.parent('.math-renderer');\r\n                    MathJax.Hub.Queue([\"Typeset\", MathJax.Hub, $wrap[0]]);\r\n                });\r\n            }\r\n        }\r\n    };\r\n});\n","/*\r\n * qTip2 - Pretty powerful tooltips - v3.0.3\r\n * http://qtip2.com\r\n *\r\n * Copyright (c) 2016\r\n * Released under the MIT licenses\r\n * http://jquery.org/license\r\n *\r\n * Date: Wed May 11 2016 10:31 GMT+0100+0100\r\n * Plugins: tips modal viewport svg imagemap ie6\r\n * Styles: core basic css3\r\n *\r\n * =====================================================================\r\n * OAT WARNING : Line 25 has been changed from the original source code.\r\n * =====================================================================\r\n */\r\n/*global window: false, jQuery: false, console: false, define: false */\r\n/* Cache window, document, undefined */\r\n(function( window, document, undefined ) {\r\n\r\n// Uses AMD or browser globals to create a jQuery plugin.\r\n\t(function( factory ) {\r\n\t\t\"use strict\";\r\n\t\tif(typeof define === 'function' && define.amd) {\r\n\t\t\tdefine('taoQtiItem/portableLib/jquery.qtip',['taoQtiItem/portableLib/jquery_2_1_1'], factory);\r\n\t\t}\r\n\t\telse if(jQuery && !jQuery.fn.qtip) {\r\n\t\t\tfactory(jQuery);\r\n\t\t}\r\n\t}\r\n\t(function($) {\r\n\t\t\"use strict\"; // Enable ECMAScript \"strict\" operation for this function. See more: http://ejohn.org/blog/ecmascript-5-strict-mode-json-and-more/\r\n\t\t;// Munge the primitives - Paul Irish tip\r\n\t\tvar TRUE = true,\r\n\t\t\tFALSE = false,\r\n\t\t\tNULL = null,\r\n\r\n// Common variables\r\n\t\t\tX = 'x', Y = 'y',\r\n\t\t\tWIDTH = 'width',\r\n\t\t\tHEIGHT = 'height',\r\n\r\n// Positioning sides\r\n\t\t\tTOP = 'top',\r\n\t\t\tLEFT = 'left',\r\n\t\t\tBOTTOM = 'bottom',\r\n\t\t\tRIGHT = 'right',\r\n\t\t\tCENTER = 'center',\r\n\r\n// Position adjustment types\r\n\t\t\tFLIP = 'flip',\r\n\t\t\tFLIPINVERT = 'flipinvert',\r\n\t\t\tSHIFT = 'shift',\r\n\r\n// Shortcut vars\r\n\t\t\tQTIP, PROTOTYPE, CORNER, CHECKS,\r\n\t\t\tPLUGINS = {},\r\n\t\t\tNAMESPACE = 'qtip',\r\n\t\t\tATTR_HAS = 'data-hasqtip',\r\n\t\t\tATTR_ID = 'data-qtip-id',\r\n\t\t\tWIDGET = ['ui-widget', 'ui-tooltip'],\r\n\t\t\tSELECTOR = '.'+NAMESPACE,\r\n\t\t\tINACTIVE_EVENTS = 'click dblclick mousedown mouseup mousemove mouseleave mouseenter'.split(' '),\r\n\r\n\t\t\tCLASS_FIXED = NAMESPACE+'-fixed',\r\n\t\t\tCLASS_DEFAULT = NAMESPACE + '-default',\r\n\t\t\tCLASS_FOCUS = NAMESPACE + '-focus',\r\n\t\t\tCLASS_HOVER = NAMESPACE + '-hover',\r\n\t\t\tCLASS_DISABLED = NAMESPACE+'-disabled',\r\n\r\n\t\t\treplaceSuffix = '_replacedByqTip',\r\n\t\t\toldtitle = 'oldtitle',\r\n\t\t\ttrackingBound,\r\n\r\n// Browser detection\r\n\t\t\tBROWSER = {\r\n\t\t\t\t/*\r\n\t\t\t\t * IE version detection\r\n\t\t\t\t *\r\n\t\t\t\t * Adapted from: http://ajaxian.com/archives/attack-of-the-ie-conditional-comment\r\n\t\t\t\t * Credit to James Padolsey for the original implemntation!\r\n\t\t\t\t */\r\n\t\t\t\tie: (function() {\r\n\t\t\t\t\t/* eslint-disable no-empty */\r\n\t\t\t\t\tvar v, i;\r\n\t\t\t\t\tfor (\r\n\t\t\t\t\t\tv = 4, i = document.createElement('div');\r\n\t\t\t\t\t\t(i.innerHTML = '<!--[if gt IE ' + v + ']><i></i><![endif]-->') && i.getElementsByTagName('i')[0];\r\n\t\t\t\t\t\tv+=1\r\n\t\t\t\t\t) {}\r\n\t\t\t\t\treturn v > 4 ? v : NaN;\r\n\t\t\t\t\t/* eslint-enable no-empty */\r\n\t\t\t\t})(),\r\n\r\n\t\t\t\t/*\r\n\t\t\t\t * iOS version detection\r\n\t\t\t\t */\r\n\t\t\t\tiOS: parseFloat(\r\n\t\t\t\t\t('' + (/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent) || [0,''])[1])\r\n\t\t\t\t\t\t.replace('undefined', '3_2').replace('_', '.').replace('_', '')\r\n\t\t\t\t) || FALSE\r\n\t\t\t};\r\n\t\t;function QTip(target, options, id, attr) {\r\n\t\t\t// Elements and ID\r\n\t\t\tthis.id = id;\r\n\t\t\tthis.target = target;\r\n\t\t\tthis.tooltip = NULL;\r\n\t\t\tthis.elements = { target: target };\r\n\r\n\t\t\t// Internal constructs\r\n\t\t\tthis._id = NAMESPACE + '-' + id;\r\n\t\t\tthis.timers = { img: {} };\r\n\t\t\tthis.options = options;\r\n\t\t\tthis.plugins = {};\r\n\r\n\t\t\t// Cache object\r\n\t\t\tthis.cache = {\r\n\t\t\t\tevent: {},\r\n\t\t\t\ttarget: $(),\r\n\t\t\t\tdisabled: FALSE,\r\n\t\t\t\tattr: attr,\r\n\t\t\t\tonTooltip: FALSE,\r\n\t\t\t\tlastClass: ''\r\n\t\t\t};\r\n\r\n\t\t\t// Set the initial flags\r\n\t\t\tthis.rendered = this.destroyed = this.disabled = this.waiting =\r\n\t\t\t\tthis.hiddenDuringWait = this.positioning = this.triggering = FALSE;\r\n\t\t}\r\n\t\tPROTOTYPE = QTip.prototype;\r\n\r\n\t\tPROTOTYPE._when = function(deferreds) {\r\n\t\t\treturn $.when.apply($, deferreds);\r\n\t\t};\r\n\r\n\t\tPROTOTYPE.render = function(show) {\r\n\t\t\tif(this.rendered || this.destroyed) { return this; } // If tooltip has already been rendered, exit\r\n\r\n\t\t\tvar self = this,\r\n\t\t\t\toptions = this.options,\r\n\t\t\t\tcache = this.cache,\r\n\t\t\t\telements = this.elements,\r\n\t\t\t\ttext = options.content.text,\r\n\t\t\t\ttitle = options.content.title,\r\n\t\t\t\tbutton = options.content.button,\r\n\t\t\t\tposOptions = options.position,\r\n\t\t\t\tdeferreds = [];\r\n\r\n\t\t\t// Add ARIA attributes to target\r\n\t\t\t$.attr(this.target[0], 'aria-describedby', this._id);\r\n\r\n\t\t\t// Create public position object that tracks current position corners\r\n\t\t\tcache.posClass = this._createPosClass(\r\n\t\t\t\t(this.position = { my: posOptions.my, at: posOptions.at }).my\r\n\t\t\t);\r\n\r\n\t\t\t// Create tooltip element\r\n\t\t\tthis.tooltip = elements.tooltip = $('<div/>', {\r\n\t\t\t\t'id': this._id,\r\n\t\t\t\t'class': [ NAMESPACE, CLASS_DEFAULT, options.style.classes, cache.posClass ].join(' '),\r\n\t\t\t\t'width': options.style.width || '',\r\n\t\t\t\t'height': options.style.height || '',\r\n\t\t\t\t'tracking': posOptions.target === 'mouse' && posOptions.adjust.mouse,\r\n\r\n\t\t\t\t/* ARIA specific attributes */\r\n\t\t\t\t'role': 'alert',\r\n\t\t\t\t'aria-live': 'polite',\r\n\t\t\t\t'aria-atomic': FALSE,\r\n\t\t\t\t'aria-describedby': this._id + '-content',\r\n\t\t\t\t'aria-hidden': TRUE\r\n\t\t\t})\r\n\t\t\t\t.toggleClass(CLASS_DISABLED, this.disabled)\r\n\t\t\t\t.attr(ATTR_ID, this.id)\r\n\t\t\t\t.data(NAMESPACE, this)\r\n\t\t\t\t.appendTo(posOptions.container)\r\n\t\t\t\t.append(\r\n\t\t\t\t\t// Create content element\r\n\t\t\t\t\telements.content = $('<div />', {\r\n\t\t\t\t\t\t'class': NAMESPACE + '-content',\r\n\t\t\t\t\t\t'id': this._id + '-content',\r\n\t\t\t\t\t\t'aria-atomic': TRUE\r\n\t\t\t\t\t})\r\n\t\t\t\t);\r\n\r\n\t\t\t// Set rendered flag and prevent redundant reposition calls for now\r\n\t\t\tthis.rendered = -1;\r\n\t\t\tthis.positioning = TRUE;\r\n\r\n\t\t\t// Create title...\r\n\t\t\tif(title) {\r\n\t\t\t\tthis._createTitle();\r\n\r\n\t\t\t\t// Update title only if its not a callback (called in toggle if so)\r\n\t\t\t\tif(!$.isFunction(title)) {\r\n\t\t\t\t\tdeferreds.push( this._updateTitle(title, FALSE) );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Create button\r\n\t\t\tif(button) { this._createButton(); }\r\n\r\n\t\t\t// Set proper rendered flag and update content if not a callback function (called in toggle)\r\n\t\t\tif(!$.isFunction(text)) {\r\n\t\t\t\tdeferreds.push( this._updateContent(text, FALSE) );\r\n\t\t\t}\r\n\t\t\tthis.rendered = TRUE;\r\n\r\n\t\t\t// Setup widget classes\r\n\t\t\tthis._setWidget();\r\n\r\n\t\t\t// Initialize 'render' plugins\r\n\t\t\t$.each(PLUGINS, function(name) {\r\n\t\t\t\tvar instance;\r\n\t\t\t\tif(this.initialize === 'render' && (instance = this(self))) {\r\n\t\t\t\t\tself.plugins[name] = instance;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t// Unassign initial events and assign proper events\r\n\t\t\tthis._unassignEvents();\r\n\t\t\tthis._assignEvents();\r\n\r\n\t\t\t// When deferreds have completed\r\n\t\t\tthis._when(deferreds).then(function() {\r\n\t\t\t\t// tooltiprender event\r\n\t\t\t\tself._trigger('render');\r\n\r\n\t\t\t\t// Reset flags\r\n\t\t\t\tself.positioning = FALSE;\r\n\r\n\t\t\t\t// Show tooltip if not hidden during wait period\r\n\t\t\t\tif(!self.hiddenDuringWait && (options.show.ready || show)) {\r\n\t\t\t\t\tself.toggle(TRUE, cache.event, FALSE);\r\n\t\t\t\t}\r\n\t\t\t\tself.hiddenDuringWait = FALSE;\r\n\t\t\t});\r\n\r\n\t\t\t// Expose API\r\n\t\t\tQTIP.api[this.id] = this;\r\n\r\n\t\t\treturn this;\r\n\t\t};\r\n\r\n\t\tPROTOTYPE.destroy = function(immediate) {\r\n\t\t\t// Set flag the signify destroy is taking place to plugins\r\n\t\t\t// and ensure it only gets destroyed once!\r\n\t\t\tif(this.destroyed) { return this.target; }\r\n\r\n\t\t\tfunction process() {\r\n\t\t\t\tif(this.destroyed) { return; }\r\n\t\t\t\tthis.destroyed = TRUE;\r\n\r\n\t\t\t\tvar target = this.target,\r\n\t\t\t\t\ttitle = target.attr(oldtitle),\r\n\t\t\t\t\ttimer;\r\n\r\n\t\t\t\t// Destroy tooltip if rendered\r\n\t\t\t\tif(this.rendered) {\r\n\t\t\t\t\tthis.tooltip.stop(1,0).find('*').remove().end().remove();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Destroy all plugins\r\n\t\t\t\t$.each(this.plugins, function() {\r\n\t\t\t\t\tthis.destroy && this.destroy();\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// Clear timers\r\n\t\t\t\tfor (timer in this.timers) {\r\n\t\t\t\t\tif (this.timers.hasOwnProperty(timer)) {\r\n\t\t\t\t\t\tclearTimeout(this.timers[timer]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Remove api object and ARIA attributes\r\n\t\t\t\ttarget.removeData(NAMESPACE)\r\n\t\t\t\t\t.removeAttr(ATTR_ID)\r\n\t\t\t\t\t.removeAttr(ATTR_HAS)\r\n\t\t\t\t\t.removeAttr('aria-describedby');\r\n\r\n\t\t\t\t// Reset old title attribute if removed\r\n\t\t\t\tif(this.options.suppress && title) {\r\n\t\t\t\t\ttarget.attr('title', title).removeAttr(oldtitle);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Remove qTip events associated with this API\r\n\t\t\t\tthis._unassignEvents();\r\n\r\n\t\t\t\t// Remove ID from used id objects, and delete object references\r\n\t\t\t\t// for better garbage collection and leak protection\r\n\t\t\t\tthis.options = this.elements = this.cache = this.timers =\r\n\t\t\t\t\tthis.plugins = this.mouse = NULL;\r\n\r\n\t\t\t\t// Delete epoxsed API object\r\n\t\t\t\tdelete QTIP.api[this.id];\r\n\t\t\t}\r\n\r\n\t\t\t// If an immediate destroy is needed\r\n\t\t\tif((immediate !== TRUE || this.triggering === 'hide') && this.rendered) {\r\n\t\t\t\tthis.tooltip.one('tooltiphidden', $.proxy(process, this));\r\n\t\t\t\t!this.triggering && this.hide();\r\n\t\t\t}\r\n\r\n\t\t\t// If we're not in the process of hiding... process\r\n\t\t\telse { process.call(this); }\r\n\r\n\t\t\treturn this.target;\r\n\t\t};\r\n\t\t;function invalidOpt(a) {\r\n\t\t\treturn a === NULL || $.type(a) !== 'object';\r\n\t\t}\r\n\r\n\t\tfunction invalidContent(c) {\r\n\t\t\treturn !($.isFunction(c) ||\r\n\t\t\tc && c.attr ||\r\n\t\t\tc.length ||\r\n\t\t\t$.type(c) === 'object' && (c.jquery || c.then));\r\n\t\t}\r\n\r\n// Option object sanitizer\r\n\t\tfunction sanitizeOptions(opts) {\r\n\t\t\tvar content, text, ajax, once;\r\n\r\n\t\t\tif(invalidOpt(opts)) { return FALSE; }\r\n\r\n\t\t\tif(invalidOpt(opts.metadata)) {\r\n\t\t\t\topts.metadata = { type: opts.metadata };\r\n\t\t\t}\r\n\r\n\t\t\tif('content' in opts) {\r\n\t\t\t\tcontent = opts.content;\r\n\r\n\t\t\t\tif(invalidOpt(content) || content.jquery || content.done) {\r\n\t\t\t\t\ttext = invalidContent(content) ? FALSE : content;\r\n\t\t\t\t\tcontent = opts.content = {\r\n\t\t\t\t\t\ttext: text\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t\telse { text = content.text; }\r\n\r\n\t\t\t\t// DEPRECATED - Old content.ajax plugin functionality\r\n\t\t\t\t// Converts it into the proper Deferred syntax\r\n\t\t\t\tif('ajax' in content) {\r\n\t\t\t\t\tajax = content.ajax;\r\n\t\t\t\t\tonce = ajax && ajax.once !== FALSE;\r\n\t\t\t\t\tdelete content.ajax;\r\n\r\n\t\t\t\t\tcontent.text = function(event, api) {\r\n\t\t\t\t\t\tvar loading = text || $(this).attr(api.options.content.attr) || 'Loading...',\r\n\r\n\t\t\t\t\t\t\tdeferred = $.ajax(\r\n\t\t\t\t\t\t\t\t$.extend({}, ajax, { context: api })\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t.then(ajax.success, NULL, ajax.error)\r\n\t\t\t\t\t\t\t\t.then(function(newContent) {\r\n\t\t\t\t\t\t\t\t\t\tif(newContent && once) { api.set('content.text', newContent); }\r\n\t\t\t\t\t\t\t\t\t\treturn newContent;\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tfunction(xhr, status, error) {\r\n\t\t\t\t\t\t\t\t\t\tif(api.destroyed || xhr.status === 0) { return; }\r\n\t\t\t\t\t\t\t\t\t\tapi.set('content.text', status + ': ' + error);\r\n\t\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\treturn !once ? (api.set('content.text', loading), deferred) : loading;\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif('title' in content) {\r\n\t\t\t\t\tif($.isPlainObject(content.title)) {\r\n\t\t\t\t\t\tcontent.button = content.title.button;\r\n\t\t\t\t\t\tcontent.title = content.title.text;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif(invalidContent(content.title || FALSE)) {\r\n\t\t\t\t\t\tcontent.title = FALSE;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif('position' in opts && invalidOpt(opts.position)) {\r\n\t\t\t\topts.position = { my: opts.position, at: opts.position };\r\n\t\t\t}\r\n\r\n\t\t\tif('show' in opts && invalidOpt(opts.show)) {\r\n\t\t\t\topts.show = opts.show.jquery ? { target: opts.show } :\r\n\t\t\t\t\topts.show === TRUE ? { ready: TRUE } : { event: opts.show };\r\n\t\t\t}\r\n\r\n\t\t\tif('hide' in opts && invalidOpt(opts.hide)) {\r\n\t\t\t\topts.hide = opts.hide.jquery ? { target: opts.hide } : { event: opts.hide };\r\n\t\t\t}\r\n\r\n\t\t\tif('style' in opts && invalidOpt(opts.style)) {\r\n\t\t\t\topts.style = { classes: opts.style };\r\n\t\t\t}\r\n\r\n\t\t\t// Sanitize plugin options\r\n\t\t\t$.each(PLUGINS, function() {\r\n\t\t\t\tthis.sanitize && this.sanitize(opts);\r\n\t\t\t});\r\n\r\n\t\t\treturn opts;\r\n\t\t}\r\n\r\n// Setup builtin .set() option checks\r\n\t\tCHECKS = PROTOTYPE.checks = {\r\n\t\t\tbuiltin: {\r\n\t\t\t\t// Core checks\r\n\t\t\t\t'^id$': function(obj, o, v, prev) {\r\n\t\t\t\t\tvar id = v === TRUE ? QTIP.nextid : v,\r\n\t\t\t\t\t\tnewId = NAMESPACE + '-' + id;\r\n\r\n\t\t\t\t\tif(id !== FALSE && id.length > 0 && !$('#'+newId).length) {\r\n\t\t\t\t\t\tthis._id = newId;\r\n\r\n\t\t\t\t\t\tif(this.rendered) {\r\n\t\t\t\t\t\t\tthis.tooltip[0].id = this._id;\r\n\t\t\t\t\t\t\tthis.elements.content[0].id = this._id + '-content';\r\n\t\t\t\t\t\t\tthis.elements.title[0].id = this._id + '-title';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse { obj[o] = prev; }\r\n\t\t\t\t},\r\n\t\t\t\t'^prerender': function(obj, o, v) {\r\n\t\t\t\t\tv && !this.rendered && this.render(this.options.show.ready);\r\n\t\t\t\t},\r\n\r\n\t\t\t\t// Content checks\r\n\t\t\t\t'^content.text$': function(obj, o, v) {\r\n\t\t\t\t\tthis._updateContent(v);\r\n\t\t\t\t},\r\n\t\t\t\t'^content.attr$': function(obj, o, v, prev) {\r\n\t\t\t\t\tif(this.options.content.text === this.target.attr(prev)) {\r\n\t\t\t\t\t\tthis._updateContent( this.target.attr(v) );\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t'^content.title$': function(obj, o, v) {\r\n\t\t\t\t\t// Remove title if content is null\r\n\t\t\t\t\tif(!v) { return this._removeTitle(); }\r\n\r\n\t\t\t\t\t// If title isn't already created, create it now and update\r\n\t\t\t\t\tv && !this.elements.title && this._createTitle();\r\n\t\t\t\t\tthis._updateTitle(v);\r\n\t\t\t\t},\r\n\t\t\t\t'^content.button$': function(obj, o, v) {\r\n\t\t\t\t\tthis._updateButton(v);\r\n\t\t\t\t},\r\n\t\t\t\t'^content.title.(text|button)$': function(obj, o, v) {\r\n\t\t\t\t\tthis.set('content.'+o, v); // Backwards title.text/button compat\r\n\t\t\t\t},\r\n\r\n\t\t\t\t// Position checks\r\n\t\t\t\t'^position.(my|at)$': function(obj, o, v){\r\n\t\t\t\t\tif('string' === typeof v) {\r\n\t\t\t\t\t\tthis.position[o] = obj[o] = new CORNER(v, o === 'at');\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t'^position.container$': function(obj, o, v){\r\n\t\t\t\t\tthis.rendered && this.tooltip.appendTo(v);\r\n\t\t\t\t},\r\n\r\n\t\t\t\t// Show checks\r\n\t\t\t\t'^show.ready$': function(obj, o, v) {\r\n\t\t\t\t\tv && (!this.rendered && this.render(TRUE) || this.toggle(TRUE));\r\n\t\t\t\t},\r\n\r\n\t\t\t\t// Style checks\r\n\t\t\t\t'^style.classes$': function(obj, o, v, p) {\r\n\t\t\t\t\tthis.rendered && this.tooltip.removeClass(p).addClass(v);\r\n\t\t\t\t},\r\n\t\t\t\t'^style.(width|height)': function(obj, o, v) {\r\n\t\t\t\t\tthis.rendered && this.tooltip.css(o, v);\r\n\t\t\t\t},\r\n\t\t\t\t'^style.widget|content.title': function() {\r\n\t\t\t\t\tthis.rendered && this._setWidget();\r\n\t\t\t\t},\r\n\t\t\t\t'^style.def': function(obj, o, v) {\r\n\t\t\t\t\tthis.rendered && this.tooltip.toggleClass(CLASS_DEFAULT, !!v);\r\n\t\t\t\t},\r\n\r\n\t\t\t\t// Events check\r\n\t\t\t\t'^events.(render|show|move|hide|focus|blur)$': function(obj, o, v) {\r\n\t\t\t\t\tthis.rendered && this.tooltip[($.isFunction(v) ? '' : 'un') + 'bind']('tooltip'+o, v);\r\n\t\t\t\t},\r\n\r\n\t\t\t\t// Properties which require event reassignment\r\n\t\t\t\t'^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)': function() {\r\n\t\t\t\t\tif(!this.rendered) { return; }\r\n\r\n\t\t\t\t\t// Set tracking flag\r\n\t\t\t\t\tvar posOptions = this.options.position;\r\n\t\t\t\t\tthis.tooltip.attr('tracking', posOptions.target === 'mouse' && posOptions.adjust.mouse);\r\n\r\n\t\t\t\t\t// Reassign events\r\n\t\t\t\t\tthis._unassignEvents();\r\n\t\t\t\t\tthis._assignEvents();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n// Dot notation converter\r\n\t\tfunction convertNotation(options, notation) {\r\n\t\t\tvar i = 0, obj, option = options,\r\n\r\n\t\t\t\t// Split notation into array\r\n\t\t\t\tlevels = notation.split('.');\r\n\r\n\t\t\t// Loop through\r\n\t\t\twhile(option = option[ levels[i++] ]) {\r\n\t\t\t\tif(i < levels.length) { obj = option; }\r\n\t\t\t}\r\n\r\n\t\t\treturn [obj || options, levels.pop()];\r\n\t\t}\r\n\r\n\t\tPROTOTYPE.get = function(notation) {\r\n\t\t\tif(this.destroyed) { return this; }\r\n\r\n\t\t\tvar o = convertNotation(this.options, notation.toLowerCase()),\r\n\t\t\t\tresult = o[0][ o[1] ];\r\n\r\n\t\t\treturn result.precedance ? result.string() : result;\r\n\t\t};\r\n\r\n\t\tfunction setCallback(notation, args) {\r\n\t\t\tvar category, rule, match;\r\n\r\n\t\t\tfor(category in this.checks) {\r\n\t\t\t\tif (!this.checks.hasOwnProperty(category)) { continue; }\r\n\r\n\t\t\t\tfor(rule in this.checks[category]) {\r\n\t\t\t\t\tif (!this.checks[category].hasOwnProperty(rule)) { continue; }\r\n\r\n\t\t\t\t\tif(match = (new RegExp(rule, 'i')).exec(notation)) {\r\n\t\t\t\t\t\targs.push(match);\r\n\r\n\t\t\t\t\t\tif(category === 'builtin' || this.plugins[category]) {\r\n\t\t\t\t\t\t\tthis.checks[category][rule].apply(\r\n\t\t\t\t\t\t\t\tthis.plugins[category] || this, args\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar rmove = /^position\\.(my|at|adjust|target|container|viewport)|style|content|show\\.ready/i,\r\n\t\t\trrender = /^prerender|show\\.ready/i;\r\n\r\n\t\tPROTOTYPE.set = function(option, value) {\r\n\t\t\tif(this.destroyed) { return this; }\r\n\r\n\t\t\tvar rendered = this.rendered,\r\n\t\t\t\treposition = FALSE,\r\n\t\t\t\toptions = this.options,\r\n\t\t\t\tname;\r\n\r\n\t\t\t// Convert singular option/value pair into object form\r\n\t\t\tif('string' === typeof option) {\r\n\t\t\t\tname = option; option = {}; option[name] = value;\r\n\t\t\t}\r\n\t\t\telse { option = $.extend({}, option); }\r\n\r\n\t\t\t// Set all of the defined options to their new values\r\n\t\t\t$.each(option, function(notation, val) {\r\n\t\t\t\tif(rendered && rrender.test(notation)) {\r\n\t\t\t\t\tdelete option[notation]; return;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Set new obj value\r\n\t\t\t\tvar obj = convertNotation(options, notation.toLowerCase()), previous;\r\n\t\t\t\tprevious = obj[0][ obj[1] ];\r\n\t\t\t\tobj[0][ obj[1] ] = val && val.nodeType ? $(val) : val;\r\n\r\n\t\t\t\t// Also check if we need to reposition\r\n\t\t\t\treposition = rmove.test(notation) || reposition;\r\n\r\n\t\t\t\t// Set the new params for the callback\r\n\t\t\t\toption[notation] = [obj[0], obj[1], val, previous];\r\n\t\t\t});\r\n\r\n\t\t\t// Re-sanitize options\r\n\t\t\tsanitizeOptions(options);\r\n\r\n\t\t\t/*\r\n\t\t\t * Execute any valid callbacks for the set options\r\n\t\t\t * Also set positioning flag so we don't get loads of redundant repositioning calls.\r\n\t\t\t */\r\n\t\t\tthis.positioning = TRUE;\r\n\t\t\t$.each(option, $.proxy(setCallback, this));\r\n\t\t\tthis.positioning = FALSE;\r\n\r\n\t\t\t// Update position if needed\r\n\t\t\tif(this.rendered && this.tooltip[0].offsetWidth > 0 && reposition) {\r\n\t\t\t\tthis.reposition( options.position.target === 'mouse' ? NULL : this.cache.event );\r\n\t\t\t}\r\n\r\n\t\t\treturn this;\r\n\t\t};\r\n\t\t;PROTOTYPE._update = function(content, element) {\r\n\t\t\tvar self = this,\r\n\t\t\t\tcache = this.cache;\r\n\r\n\t\t\t// Make sure tooltip is rendered and content is defined. If not return\r\n\t\t\tif(!this.rendered || !content) { return FALSE; }\r\n\r\n\t\t\t// Use function to parse content\r\n\t\t\tif($.isFunction(content)) {\r\n\t\t\t\tcontent = content.call(this.elements.target, cache.event, this) || '';\r\n\t\t\t}\r\n\r\n\t\t\t// Handle deferred content\r\n\t\t\tif($.isFunction(content.then)) {\r\n\t\t\t\tcache.waiting = TRUE;\r\n\t\t\t\treturn content.then(function(c) {\r\n\t\t\t\t\tcache.waiting = FALSE;\r\n\t\t\t\t\treturn self._update(c, element);\r\n\t\t\t\t}, NULL, function(e) {\r\n\t\t\t\t\treturn self._update(e, element);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\t// If content is null... return false\r\n\t\t\tif(content === FALSE || !content && content !== '') { return FALSE; }\r\n\r\n\t\t\t// Append new content if its a DOM array and show it if hidden\r\n\t\t\tif(content.jquery && content.length > 0) {\r\n\t\t\t\telement.empty().append(\r\n\t\t\t\t\tcontent.css({ display: 'block', visibility: 'visible' })\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\t// Content is a regular string, insert the new content\r\n\t\t\telse { element.html(content); }\r\n\r\n\t\t\t// Wait for content to be loaded, and reposition\r\n\t\t\treturn this._waitForContent(element).then(function(images) {\r\n\t\t\t\tif(self.rendered && self.tooltip[0].offsetWidth > 0) {\r\n\t\t\t\t\tself.reposition(cache.event, !images.length);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\tPROTOTYPE._waitForContent = function(element) {\r\n\t\t\tvar cache = this.cache;\r\n\r\n\t\t\t// Set flag\r\n\t\t\tcache.waiting = TRUE;\r\n\r\n\t\t\t// If imagesLoaded is included, ensure images have loaded and return promise\r\n\t\t\treturn ( $.fn.imagesLoaded ? element.imagesLoaded() : new $.Deferred().resolve([]) )\r\n\t\t\t\t.done(function() { cache.waiting = FALSE; })\r\n\t\t\t\t.promise();\r\n\t\t};\r\n\r\n\t\tPROTOTYPE._updateContent = function(content, reposition) {\r\n\t\t\tthis._update(content, this.elements.content, reposition);\r\n\t\t};\r\n\r\n\t\tPROTOTYPE._updateTitle = function(content, reposition) {\r\n\t\t\tif(this._update(content, this.elements.title, reposition) === FALSE) {\r\n\t\t\t\tthis._removeTitle(FALSE);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tPROTOTYPE._createTitle = function()\r\n\t\t{\r\n\t\t\tvar elements = this.elements,\r\n\t\t\t\tid = this._id+'-title';\r\n\r\n\t\t\t// Destroy previous title element, if present\r\n\t\t\tif(elements.titlebar) { this._removeTitle(); }\r\n\r\n\t\t\t// Create title bar and title elements\r\n\t\t\telements.titlebar = $('<div />', {\r\n\t\t\t\t'class': NAMESPACE + '-titlebar ' + (this.options.style.widget ? createWidgetClass('header') : '')\r\n\t\t\t})\r\n\t\t\t\t.append(\r\n\t\t\t\t\telements.title = $('<div />', {\r\n\t\t\t\t\t\t'id': id,\r\n\t\t\t\t\t\t'class': NAMESPACE + '-title',\r\n\t\t\t\t\t\t'aria-atomic': TRUE\r\n\t\t\t\t\t})\r\n\t\t\t\t)\r\n\t\t\t\t.insertBefore(elements.content)\r\n\r\n\t\t\t\t// Button-specific events\r\n\t\t\t\t.delegate('.qtip-close', 'mousedown keydown mouseup keyup mouseout', function(event) {\r\n\t\t\t\t\t$(this).toggleClass('ui-state-active ui-state-focus', event.type.substr(-4) === 'down');\r\n\t\t\t\t})\r\n\t\t\t\t.delegate('.qtip-close', 'mouseover mouseout', function(event){\r\n\t\t\t\t\t$(this).toggleClass('ui-state-hover', event.type === 'mouseover');\r\n\t\t\t\t});\r\n\r\n\t\t\t// Create button if enabled\r\n\t\t\tif(this.options.content.button) { this._createButton(); }\r\n\t\t};\r\n\r\n\t\tPROTOTYPE._removeTitle = function(reposition)\r\n\t\t{\r\n\t\t\tvar elements = this.elements;\r\n\r\n\t\t\tif(elements.title) {\r\n\t\t\t\telements.titlebar.remove();\r\n\t\t\t\telements.titlebar = elements.title = elements.button = NULL;\r\n\r\n\t\t\t\t// Reposition if enabled\r\n\t\t\t\tif(reposition !== FALSE) { this.reposition(); }\r\n\t\t\t}\r\n\t\t};\r\n\t\t;PROTOTYPE._createPosClass = function(my) {\r\n\t\t\treturn NAMESPACE + '-pos-' + (my || this.options.position.my).abbrev();\r\n\t\t};\r\n\r\n\t\tPROTOTYPE.reposition = function(event, effect) {\r\n\t\t\tif(!this.rendered || this.positioning || this.destroyed) { return this; }\r\n\r\n\t\t\t// Set positioning flag\r\n\t\t\tthis.positioning = TRUE;\r\n\r\n\t\t\tvar cache = this.cache,\r\n\t\t\t\ttooltip = this.tooltip,\r\n\t\t\t\tposOptions = this.options.position,\r\n\t\t\t\ttarget = posOptions.target,\r\n\t\t\t\tmy = posOptions.my,\r\n\t\t\t\tat = posOptions.at,\r\n\t\t\t\tviewport = posOptions.viewport,\r\n\t\t\t\tcontainer = posOptions.container,\r\n\t\t\t\tadjust = posOptions.adjust,\r\n\t\t\t\tmethod = adjust.method.split(' '),\r\n\t\t\t\ttooltipWidth = tooltip.outerWidth(FALSE),\r\n\t\t\t\ttooltipHeight = tooltip.outerHeight(FALSE),\r\n\t\t\t\ttargetWidth = 0,\r\n\t\t\t\ttargetHeight = 0,\r\n\t\t\t\ttype = tooltip.css('position'),\r\n\t\t\t\tposition = { left: 0, top: 0 },\r\n\t\t\t\tvisible = tooltip[0].offsetWidth > 0,\r\n\t\t\t\tisScroll = event && event.type === 'scroll',\r\n\t\t\t\twin = $(window),\r\n\t\t\t\tdoc = container[0].ownerDocument,\r\n\t\t\t\tmouse = this.mouse,\r\n\t\t\t\tpluginCalculations, offset, adjusted, newClass;\r\n\r\n\t\t\t// Check if absolute position was passed\r\n\t\t\tif($.isArray(target) && target.length === 2) {\r\n\t\t\t\t// Force left top and set position\r\n\t\t\t\tat = { x: LEFT, y: TOP };\r\n\t\t\t\tposition = { left: target[0], top: target[1] };\r\n\t\t\t}\r\n\r\n\t\t\t// Check if mouse was the target\r\n\t\t\telse if(target === 'mouse') {\r\n\t\t\t\t// Force left top to allow flipping\r\n\t\t\t\tat = { x: LEFT, y: TOP };\r\n\r\n\t\t\t\t// Use the mouse origin that caused the show event, if distance hiding is enabled\r\n\t\t\t\tif((!adjust.mouse || this.options.hide.distance) && cache.origin && cache.origin.pageX) {\r\n\t\t\t\t\tevent =  cache.origin;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Use cached event for resize/scroll events\r\n\t\t\t\telse if(!event || event && (event.type === 'resize' || event.type === 'scroll')) {\r\n\t\t\t\t\tevent = cache.event;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Otherwise, use the cached mouse coordinates if available\r\n\t\t\t\telse if(mouse && mouse.pageX) {\r\n\t\t\t\t\tevent = mouse;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Calculate body and container offset and take them into account below\r\n\t\t\t\tif(type !== 'static') { position = container.offset(); }\r\n\t\t\t\tif(doc.body.offsetWidth !== (window.innerWidth || doc.documentElement.clientWidth)) {\r\n\t\t\t\t\toffset = $(document.body).offset();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Use event coordinates for position\r\n\t\t\t\tposition = {\r\n\t\t\t\t\tleft: event.pageX - position.left + (offset && offset.left || 0),\r\n\t\t\t\t\ttop: event.pageY - position.top + (offset && offset.top || 0)\r\n\t\t\t\t};\r\n\r\n\t\t\t\t// Scroll events are a pain, some browsers\r\n\t\t\t\tif(adjust.mouse && isScroll && mouse) {\r\n\t\t\t\t\tposition.left -= (mouse.scrollX || 0) - win.scrollLeft();\r\n\t\t\t\t\tposition.top -= (mouse.scrollY || 0) - win.scrollTop();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Target wasn't mouse or absolute...\r\n\t\t\telse {\r\n\t\t\t\t// Check if event targetting is being used\r\n\t\t\t\tif(target === 'event') {\r\n\t\t\t\t\tif(event && event.target && event.type !== 'scroll' && event.type !== 'resize') {\r\n\t\t\t\t\t\tcache.target = $(event.target);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(!event.target) {\r\n\t\t\t\t\t\tcache.target = this.elements.target;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse if(target !== 'event'){\r\n\t\t\t\t\tcache.target = $(target.jquery ? target : this.elements.target);\r\n\t\t\t\t}\r\n\t\t\t\ttarget = cache.target;\r\n\r\n\t\t\t\t// Parse the target into a jQuery object and make sure there's an element present\r\n\t\t\t\ttarget = $(target).eq(0);\r\n\t\t\t\tif(target.length === 0) { return this; }\r\n\r\n\t\t\t\t// Check if window or document is the target\r\n\t\t\t\telse if(target[0] === document || target[0] === window) {\r\n\t\t\t\t\ttargetWidth = BROWSER.iOS ? window.innerWidth : target.width();\r\n\t\t\t\t\ttargetHeight = BROWSER.iOS ? window.innerHeight : target.height();\r\n\r\n\t\t\t\t\tif(target[0] === window) {\r\n\t\t\t\t\t\tposition = {\r\n\t\t\t\t\t\t\ttop: (viewport || target).scrollTop(),\r\n\t\t\t\t\t\t\tleft: (viewport || target).scrollLeft()\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Check if the target is an <AREA> element\r\n\t\t\t\telse if(PLUGINS.imagemap && target.is('area')) {\r\n\t\t\t\t\tpluginCalculations = PLUGINS.imagemap(this, target, at, PLUGINS.viewport ? method : FALSE);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Check if the target is an SVG element\r\n\t\t\t\telse if(PLUGINS.svg && target && target[0].ownerSVGElement) {\r\n\t\t\t\t\tpluginCalculations = PLUGINS.svg(this, target, at, PLUGINS.viewport ? method : FALSE);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Otherwise use regular jQuery methods\r\n\t\t\t\telse {\r\n\t\t\t\t\ttargetWidth = target.outerWidth(FALSE);\r\n\t\t\t\t\ttargetHeight = target.outerHeight(FALSE);\r\n\t\t\t\t\tposition = target.offset();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Parse returned plugin values into proper variables\r\n\t\t\t\tif(pluginCalculations) {\r\n\t\t\t\t\ttargetWidth = pluginCalculations.width;\r\n\t\t\t\t\ttargetHeight = pluginCalculations.height;\r\n\t\t\t\t\toffset = pluginCalculations.offset;\r\n\t\t\t\t\tposition = pluginCalculations.position;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Adjust position to take into account offset parents\r\n\t\t\t\tposition = this.reposition.offset(target, position, container);\r\n\r\n\t\t\t\t// Adjust for position.fixed tooltips (and also iOS scroll bug in v3.2-4.0 & v4.3-4.3.2)\r\n\t\t\t\tif(BROWSER.iOS > 3.1 && BROWSER.iOS < 4.1 ||\r\n\t\t\t\t\tBROWSER.iOS >= 4.3 && BROWSER.iOS < 4.33 ||\r\n\t\t\t\t\t!BROWSER.iOS && type === 'fixed'\r\n\t\t\t\t){\r\n\t\t\t\t\tposition.left -= win.scrollLeft();\r\n\t\t\t\t\tposition.top -= win.scrollTop();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Adjust position relative to target\r\n\t\t\t\tif(!pluginCalculations || pluginCalculations && pluginCalculations.adjustable !== FALSE) {\r\n\t\t\t\t\tposition.left += at.x === RIGHT ? targetWidth : at.x === CENTER ? targetWidth / 2 : 0;\r\n\t\t\t\t\tposition.top += at.y === BOTTOM ? targetHeight : at.y === CENTER ? targetHeight / 2 : 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Adjust position relative to tooltip\r\n\t\t\tposition.left += adjust.x + (my.x === RIGHT ? -tooltipWidth : my.x === CENTER ? -tooltipWidth / 2 : 0);\r\n\t\t\tposition.top += adjust.y + (my.y === BOTTOM ? -tooltipHeight : my.y === CENTER ? -tooltipHeight / 2 : 0);\r\n\r\n\t\t\t// Use viewport adjustment plugin if enabled\r\n\t\t\tif(PLUGINS.viewport) {\r\n\t\t\t\tadjusted = position.adjusted = PLUGINS.viewport(\r\n\t\t\t\t\tthis, position, posOptions, targetWidth, targetHeight, tooltipWidth, tooltipHeight\r\n\t\t\t\t);\r\n\r\n\t\t\t\t// Apply offsets supplied by positioning plugin (if used)\r\n\t\t\t\tif(offset && adjusted.left) { position.left += offset.left; }\r\n\t\t\t\tif(offset && adjusted.top) {  position.top += offset.top; }\r\n\r\n\t\t\t\t// Apply any new 'my' position\r\n\t\t\t\tif(adjusted.my) { this.position.my = adjusted.my; }\r\n\t\t\t}\r\n\r\n\t\t\t// Viewport adjustment is disabled, set values to zero\r\n\t\t\telse { position.adjusted = { left: 0, top: 0 }; }\r\n\r\n\t\t\t// Set tooltip position class if it's changed\r\n\t\t\tif(cache.posClass !== (newClass = this._createPosClass(this.position.my))) {\r\n\t\t\t\tcache.posClass = newClass;\r\n\t\t\t\ttooltip.removeClass(cache.posClass).addClass(newClass);\r\n\t\t\t}\r\n\r\n\t\t\t// tooltipmove event\r\n\t\t\tif(!this._trigger('move', [position, viewport.elem || viewport], event)) { return this; }\r\n\t\t\tdelete position.adjusted;\r\n\r\n\t\t\t// If effect is disabled, target it mouse, no animation is defined or positioning gives NaN out, set CSS directly\r\n\t\t\tif(effect === FALSE || !visible || isNaN(position.left) || isNaN(position.top) || target === 'mouse' || !$.isFunction(posOptions.effect)) {\r\n\t\t\t\ttooltip.css(position);\r\n\t\t\t}\r\n\r\n\t\t\t// Use custom function if provided\r\n\t\t\telse if($.isFunction(posOptions.effect)) {\r\n\t\t\t\tposOptions.effect.call(tooltip, this, $.extend({}, position));\r\n\t\t\t\ttooltip.queue(function(next) {\r\n\t\t\t\t\t// Reset attributes to avoid cross-browser rendering bugs\r\n\t\t\t\t\t$(this).css({ opacity: '', height: '' });\r\n\t\t\t\t\tif(BROWSER.ie) { this.style.removeAttribute('filter'); }\r\n\r\n\t\t\t\t\tnext();\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\t// Set positioning flag\r\n\t\t\tthis.positioning = FALSE;\r\n\r\n\t\t\treturn this;\r\n\t\t};\r\n\r\n// Custom (more correct for qTip!) offset calculator\r\n\t\tPROTOTYPE.reposition.offset = function(elem, pos, container) {\r\n\t\t\tif(!container[0]) { return pos; }\r\n\r\n\t\t\tvar ownerDocument = $(elem[0].ownerDocument),\r\n\t\t\t\tquirks = !!BROWSER.ie && document.compatMode !== 'CSS1Compat',\r\n\t\t\t\tparent = container[0],\r\n\t\t\t\tscrolled, position, parentOffset, overflow;\r\n\r\n\t\t\tfunction scroll(e, i) {\r\n\t\t\t\tpos.left += i * e.scrollLeft();\r\n\t\t\t\tpos.top += i * e.scrollTop();\r\n\t\t\t}\r\n\r\n\t\t\t// Compensate for non-static containers offset\r\n\t\t\tdo {\r\n\t\t\t\tif((position = $.css(parent, 'position')) !== 'static') {\r\n\t\t\t\t\tif(position === 'fixed') {\r\n\t\t\t\t\t\tparentOffset = parent.getBoundingClientRect();\r\n\t\t\t\t\t\tscroll(ownerDocument, -1);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tparentOffset = $(parent).position();\r\n\t\t\t\t\t\tparentOffset.left += parseFloat($.css(parent, 'borderLeftWidth')) || 0;\r\n\t\t\t\t\t\tparentOffset.top += parseFloat($.css(parent, 'borderTopWidth')) || 0;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tpos.left -= parentOffset.left + (parseFloat($.css(parent, 'marginLeft')) || 0);\r\n\t\t\t\t\tpos.top -= parentOffset.top + (parseFloat($.css(parent, 'marginTop')) || 0);\r\n\r\n\t\t\t\t\t// If this is the first parent element with an overflow of \"scroll\" or \"auto\", store it\r\n\t\t\t\t\tif(!scrolled && (overflow = $.css(parent, 'overflow')) !== 'hidden' && overflow !== 'visible') { scrolled = $(parent); }\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\twhile(parent = parent.offsetParent);\r\n\r\n\t\t\t// Compensate for containers scroll if it also has an offsetParent (or in IE quirks mode)\r\n\t\t\tif(scrolled && (scrolled[0] !== ownerDocument[0] || quirks)) {\r\n\t\t\t\tscroll(scrolled, 1);\r\n\t\t\t}\r\n\r\n\t\t\treturn pos;\r\n\t\t};\r\n\r\n// Corner class\r\n\t\tvar C = (CORNER = PROTOTYPE.reposition.Corner = function(corner, forceY) {\r\n\t\t\tcorner = ('' + corner).replace(/([A-Z])/, ' $1').replace(/middle/gi, CENTER).toLowerCase();\r\n\t\t\tthis.x = (corner.match(/left|right/i) || corner.match(/center/) || ['inherit'])[0].toLowerCase();\r\n\t\t\tthis.y = (corner.match(/top|bottom|center/i) || ['inherit'])[0].toLowerCase();\r\n\t\t\tthis.forceY = !!forceY;\r\n\r\n\t\t\tvar f = corner.charAt(0);\r\n\t\t\tthis.precedance = f === 't' || f === 'b' ? Y : X;\r\n\t\t}).prototype;\r\n\r\n\t\tC.invert = function(z, center) {\r\n\t\t\tthis[z] = this[z] === LEFT ? RIGHT : this[z] === RIGHT ? LEFT : center || this[z];\r\n\t\t};\r\n\r\n\t\tC.string = function(join) {\r\n\t\t\tvar x = this.x, y = this.y;\r\n\r\n\t\t\tvar result = x !== y ?\r\n\t\t\t\tx === 'center' || y !== 'center' && (this.precedance === Y || this.forceY) ?\r\n\t\t\t\t\t[y,x] :\r\n\t\t\t\t\t[x,y] :\r\n\t\t\t\t[x];\r\n\r\n\t\t\treturn join !== false ? result.join(' ') : result;\r\n\t\t};\r\n\r\n\t\tC.abbrev = function() {\r\n\t\t\tvar result = this.string(false);\r\n\t\t\treturn result[0].charAt(0) + (result[1] && result[1].charAt(0) || '');\r\n\t\t};\r\n\r\n\t\tC.clone = function() {\r\n\t\t\treturn new CORNER( this.string(), this.forceY );\r\n\t\t};\r\n\r\n\t\t;\r\n\t\tPROTOTYPE.toggle = function(state, event) {\r\n\t\t\tvar cache = this.cache,\r\n\t\t\t\toptions = this.options,\r\n\t\t\t\ttooltip = this.tooltip;\r\n\r\n\t\t\t// Try to prevent flickering when tooltip overlaps show element\r\n\t\t\tif(event) {\r\n\t\t\t\tif((/over|enter/).test(event.type) && cache.event && (/out|leave/).test(cache.event.type) &&\r\n\t\t\t\t\toptions.show.target.add(event.target).length === options.show.target.length &&\r\n\t\t\t\t\ttooltip.has(event.relatedTarget).length) {\r\n\t\t\t\t\treturn this;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Cache event\r\n\t\t\t\tcache.event = $.event.fix(event);\r\n\t\t\t}\r\n\r\n\t\t\t// If we're currently waiting and we've just hidden... stop it\r\n\t\t\tthis.waiting && !state && (this.hiddenDuringWait = TRUE);\r\n\r\n\t\t\t// Render the tooltip if showing and it isn't already\r\n\t\t\tif(!this.rendered) { return state ? this.render(1) : this; }\r\n\t\t\telse if(this.destroyed || this.disabled) { return this; }\r\n\r\n\t\t\tvar type = state ? 'show' : 'hide',\r\n\t\t\t\topts = this.options[type],\r\n\t\t\t\tposOptions = this.options.position,\r\n\t\t\t\tcontentOptions = this.options.content,\r\n\t\t\t\twidth = this.tooltip.css('width'),\r\n\t\t\t\tvisible = this.tooltip.is(':visible'),\r\n\t\t\t\tanimate = state || opts.target.length === 1,\r\n\t\t\t\tsameTarget = !event || opts.target.length < 2 || cache.target[0] === event.target,\r\n\t\t\t\tidenticalState, allow, after;\r\n\r\n\t\t\t// Detect state if valid one isn't provided\r\n\t\t\tif((typeof state).search('boolean|number')) { state = !visible; }\r\n\r\n\t\t\t// Check if the tooltip is in an identical state to the new would-be state\r\n\t\t\tidenticalState = !tooltip.is(':animated') && visible === state && sameTarget;\r\n\r\n\t\t\t// Fire tooltip(show/hide) event and check if destroyed\r\n\t\t\tallow = !identicalState ? !!this._trigger(type, [90]) : NULL;\r\n\r\n\t\t\t// Check to make sure the tooltip wasn't destroyed in the callback\r\n\t\t\tif(this.destroyed) { return this; }\r\n\r\n\t\t\t// If the user didn't stop the method prematurely and we're showing the tooltip, focus it\r\n\t\t\tif(allow !== FALSE && state) { this.focus(event); }\r\n\r\n\t\t\t// If the state hasn't changed or the user stopped it, return early\r\n\t\t\tif(!allow || identicalState) { return this; }\r\n\r\n\t\t\t// Set ARIA hidden attribute\r\n\t\t\t$.attr(tooltip[0], 'aria-hidden', !!!state);\r\n\r\n\t\t\t// Execute state specific properties\r\n\t\t\tif(state) {\r\n\t\t\t\t// Store show origin coordinates\r\n\t\t\t\tthis.mouse && (cache.origin = $.event.fix(this.mouse));\r\n\r\n\t\t\t\t// Update tooltip content & title if it's a dynamic function\r\n\t\t\t\tif($.isFunction(contentOptions.text)) { this._updateContent(contentOptions.text, FALSE); }\r\n\t\t\t\tif($.isFunction(contentOptions.title)) { this._updateTitle(contentOptions.title, FALSE); }\r\n\r\n\t\t\t\t// Cache mousemove events for positioning purposes (if not already tracking)\r\n\t\t\t\tif(!trackingBound && posOptions.target === 'mouse' && posOptions.adjust.mouse) {\r\n\t\t\t\t\t$(document).bind('mousemove.'+NAMESPACE, this._storeMouse);\r\n\t\t\t\t\ttrackingBound = TRUE;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Update the tooltip position (set width first to prevent viewport/max-width issues)\r\n\t\t\t\tif(!width) { tooltip.css('width', tooltip.outerWidth(FALSE)); }\r\n\t\t\t\tthis.reposition(event, arguments[2]);\r\n\t\t\t\tif(!width) { tooltip.css('width', ''); }\r\n\r\n\t\t\t\t// Hide other tooltips if tooltip is solo\r\n\t\t\t\tif(!!opts.solo) {\r\n\t\t\t\t\t(typeof opts.solo === 'string' ? $(opts.solo) : $(SELECTOR, opts.solo))\r\n\t\t\t\t\t\t.not(tooltip).not(opts.target).qtip('hide', new $.Event('tooltipsolo'));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t// Clear show timer if we're hiding\r\n\t\t\t\tclearTimeout(this.timers.show);\r\n\r\n\t\t\t\t// Remove cached origin on hide\r\n\t\t\t\tdelete cache.origin;\r\n\r\n\t\t\t\t// Remove mouse tracking event if not needed (all tracking qTips are hidden)\r\n\t\t\t\tif(trackingBound && !$(SELECTOR+'[tracking=\"true\"]:visible', opts.solo).not(tooltip).length) {\r\n\t\t\t\t\t$(document).unbind('mousemove.'+NAMESPACE);\r\n\t\t\t\t\ttrackingBound = FALSE;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Blur the tooltip\r\n\t\t\t\tthis.blur(event);\r\n\t\t\t}\r\n\r\n\t\t\t// Define post-animation, state specific properties\r\n\t\t\tafter = $.proxy(function() {\r\n\t\t\t\tif(state) {\r\n\t\t\t\t\t// Prevent antialias from disappearing in IE by removing filter\r\n\t\t\t\t\tif(BROWSER.ie) { tooltip[0].style.removeAttribute('filter'); }\r\n\r\n\t\t\t\t\t// Remove overflow setting to prevent tip bugs\r\n\t\t\t\t\ttooltip.css('overflow', '');\r\n\r\n\t\t\t\t\t// Autofocus elements if enabled\r\n\t\t\t\t\tif('string' === typeof opts.autofocus) {\r\n\t\t\t\t\t\t$(this.options.show.autofocus, tooltip).focus();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// If set, hide tooltip when inactive for delay period\r\n\t\t\t\t\tthis.options.show.target.trigger('qtip-'+this.id+'-inactive');\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\t// Reset CSS states\r\n\t\t\t\t\ttooltip.css({\r\n\t\t\t\t\t\tdisplay: '',\r\n\t\t\t\t\t\tvisibility: '',\r\n\t\t\t\t\t\topacity: '',\r\n\t\t\t\t\t\tleft: '',\r\n\t\t\t\t\t\ttop: ''\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// tooltipvisible/tooltiphidden events\r\n\t\t\t\tthis._trigger(state ? 'visible' : 'hidden');\r\n\t\t\t}, this);\r\n\r\n\t\t\t// If no effect type is supplied, use a simple toggle\r\n\t\t\tif(opts.effect === FALSE || animate === FALSE) {\r\n\t\t\t\ttooltip[ type ]();\r\n\t\t\t\tafter();\r\n\t\t\t}\r\n\r\n\t\t\t// Use custom function if provided\r\n\t\t\telse if($.isFunction(opts.effect)) {\r\n\t\t\t\ttooltip.stop(1, 1);\r\n\t\t\t\topts.effect.call(tooltip, this);\r\n\t\t\t\ttooltip.queue('fx', function(n) {\r\n\t\t\t\t\tafter(); n();\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\t// Use basic fade function by default\r\n\t\t\telse { tooltip.fadeTo(90, state ? 1 : 0, after); }\r\n\r\n\t\t\t// If inactive hide method is set, active it\r\n\t\t\tif(state) { opts.target.trigger('qtip-'+this.id+'-inactive'); }\r\n\r\n\t\t\treturn this;\r\n\t\t};\r\n\r\n\t\tPROTOTYPE.show = function(event) { return this.toggle(TRUE, event); };\r\n\r\n\t\tPROTOTYPE.hide = function(event) { return this.toggle(FALSE, event); };\r\n\t\t;PROTOTYPE.focus = function(event) {\r\n\t\t\tif(!this.rendered || this.destroyed) { return this; }\r\n\r\n\t\t\tvar qtips = $(SELECTOR),\r\n\t\t\t\ttooltip = this.tooltip,\r\n\t\t\t\tcurIndex = parseInt(tooltip[0].style.zIndex, 10),\r\n\t\t\t\tnewIndex = QTIP.zindex + qtips.length;\r\n\r\n\t\t\t// Only update the z-index if it has changed and tooltip is not already focused\r\n\t\t\tif(!tooltip.hasClass(CLASS_FOCUS)) {\r\n\t\t\t\t// tooltipfocus event\r\n\t\t\t\tif(this._trigger('focus', [newIndex], event)) {\r\n\t\t\t\t\t// Only update z-index's if they've changed\r\n\t\t\t\t\tif(curIndex !== newIndex) {\r\n\t\t\t\t\t\t// Reduce our z-index's and keep them properly ordered\r\n\t\t\t\t\t\tqtips.each(function() {\r\n\t\t\t\t\t\t\tif(this.style.zIndex > curIndex) {\r\n\t\t\t\t\t\t\t\tthis.style.zIndex = this.style.zIndex - 1;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t// Fire blur event for focused tooltip\r\n\t\t\t\t\t\tqtips.filter('.' + CLASS_FOCUS).qtip('blur', event);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Set the new z-index\r\n\t\t\t\t\ttooltip.addClass(CLASS_FOCUS)[0].style.zIndex = newIndex;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn this;\r\n\t\t};\r\n\r\n\t\tPROTOTYPE.blur = function(event) {\r\n\t\t\tif(!this.rendered || this.destroyed) { return this; }\r\n\r\n\t\t\t// Set focused status to FALSE\r\n\t\t\tthis.tooltip.removeClass(CLASS_FOCUS);\r\n\r\n\t\t\t// tooltipblur event\r\n\t\t\tthis._trigger('blur', [ this.tooltip.css('zIndex') ], event);\r\n\r\n\t\t\treturn this;\r\n\t\t};\r\n\t\t;PROTOTYPE.disable = function(state) {\r\n\t\t\tif(this.destroyed) { return this; }\r\n\r\n\t\t\t// If 'toggle' is passed, toggle the current state\r\n\t\t\tif(state === 'toggle') {\r\n\t\t\t\tstate = !(this.rendered ? this.tooltip.hasClass(CLASS_DISABLED) : this.disabled);\r\n\t\t\t}\r\n\r\n\t\t\t// Disable if no state passed\r\n\t\t\telse if('boolean' !== typeof state) {\r\n\t\t\t\tstate = TRUE;\r\n\t\t\t}\r\n\r\n\t\t\tif(this.rendered) {\r\n\t\t\t\tthis.tooltip.toggleClass(CLASS_DISABLED, state)\r\n\t\t\t\t\t.attr('aria-disabled', state);\r\n\t\t\t}\r\n\r\n\t\t\tthis.disabled = !!state;\r\n\r\n\t\t\treturn this;\r\n\t\t};\r\n\r\n\t\tPROTOTYPE.enable = function() { return this.disable(FALSE); };\r\n\t\t;PROTOTYPE._createButton = function()\r\n\t\t{\r\n\t\t\tvar self = this,\r\n\t\t\t\telements = this.elements,\r\n\t\t\t\ttooltip = elements.tooltip,\r\n\t\t\t\tbutton = this.options.content.button,\r\n\t\t\t\tisString = typeof button === 'string',\r\n\t\t\t\tclose = isString ? button : 'Close tooltip';\r\n\r\n\t\t\tif(elements.button) { elements.button.remove(); }\r\n\r\n\t\t\t// Use custom button if one was supplied by user, else use default\r\n\t\t\tif(button.jquery) {\r\n\t\t\t\telements.button = button;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\telements.button = $('<a />', {\r\n\t\t\t\t\t'class': 'qtip-close ' + (this.options.style.widget ? '' : NAMESPACE+'-icon'),\r\n\t\t\t\t\t'title': close,\r\n\t\t\t\t\t'aria-label': close\r\n\t\t\t\t})\r\n\t\t\t\t\t.prepend(\r\n\t\t\t\t\t\t$('<span />', {\r\n\t\t\t\t\t\t\t'class': 'ui-icon ui-icon-close',\r\n\t\t\t\t\t\t\t'html': '&times;'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\t// Create button and setup attributes\r\n\t\t\telements.button.appendTo(elements.titlebar || tooltip)\r\n\t\t\t\t.attr('role', 'button')\r\n\t\t\t\t.click(function(event) {\r\n\t\t\t\t\tif(!tooltip.hasClass(CLASS_DISABLED)) { self.hide(event); }\r\n\t\t\t\t\treturn FALSE;\r\n\t\t\t\t});\r\n\t\t};\r\n\r\n\t\tPROTOTYPE._updateButton = function(button)\r\n\t\t{\r\n\t\t\t// Make sure tooltip is rendered and if not, return\r\n\t\t\tif(!this.rendered) { return FALSE; }\r\n\r\n\t\t\tvar elem = this.elements.button;\r\n\t\t\tif(button) { this._createButton(); }\r\n\t\t\telse { elem.remove(); }\r\n\t\t};\r\n\t\t;// Widget class creator\r\n\t\tfunction createWidgetClass(cls) {\r\n\t\t\treturn WIDGET.concat('').join(cls ? '-'+cls+' ' : ' ');\r\n\t\t}\r\n\r\n// Widget class setter method\r\n\t\tPROTOTYPE._setWidget = function()\r\n\t\t{\r\n\t\t\tvar on = this.options.style.widget,\r\n\t\t\t\telements = this.elements,\r\n\t\t\t\ttooltip = elements.tooltip,\r\n\t\t\t\tdisabled = tooltip.hasClass(CLASS_DISABLED);\r\n\r\n\t\t\ttooltip.removeClass(CLASS_DISABLED);\r\n\t\t\tCLASS_DISABLED = on ? 'ui-state-disabled' : 'qtip-disabled';\r\n\t\t\ttooltip.toggleClass(CLASS_DISABLED, disabled);\r\n\r\n\t\t\ttooltip.toggleClass('ui-helper-reset '+createWidgetClass(), on).toggleClass(CLASS_DEFAULT, this.options.style.def && !on);\r\n\r\n\t\t\tif(elements.content) {\r\n\t\t\t\telements.content.toggleClass( createWidgetClass('content'), on);\r\n\t\t\t}\r\n\t\t\tif(elements.titlebar) {\r\n\t\t\t\telements.titlebar.toggleClass( createWidgetClass('header'), on);\r\n\t\t\t}\r\n\t\t\tif(elements.button) {\r\n\t\t\t\telements.button.toggleClass(NAMESPACE+'-icon', !on);\r\n\t\t\t}\r\n\t\t};\r\n\t\t;function delay(callback, duration) {\r\n\t\t\t// If tooltip has displayed, start hide timer\r\n\t\t\tif(duration > 0) {\r\n\t\t\t\treturn setTimeout(\r\n\t\t\t\t\t$.proxy(callback, this), duration\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\telse{ callback.call(this); }\r\n\t\t}\r\n\r\n\t\tfunction showMethod(event) {\r\n\t\t\tif(this.tooltip.hasClass(CLASS_DISABLED)) { return; }\r\n\r\n\t\t\t// Clear hide timers\r\n\t\t\tclearTimeout(this.timers.show);\r\n\t\t\tclearTimeout(this.timers.hide);\r\n\r\n\t\t\t// Start show timer\r\n\t\t\tthis.timers.show = delay.call(this,\r\n\t\t\t\tfunction() { this.toggle(TRUE, event); },\r\n\t\t\t\tthis.options.show.delay\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tfunction hideMethod(event) {\r\n\t\t\tif(this.tooltip.hasClass(CLASS_DISABLED) || this.destroyed) { return; }\r\n\r\n\t\t\t// Check if new target was actually the tooltip element\r\n\t\t\tvar relatedTarget = $(event.relatedTarget),\r\n\t\t\t\tontoTooltip = relatedTarget.closest(SELECTOR)[0] === this.tooltip[0],\r\n\t\t\t\tontoTarget = relatedTarget[0] === this.options.show.target[0];\r\n\r\n\t\t\t// Clear timers and stop animation queue\r\n\t\t\tclearTimeout(this.timers.show);\r\n\t\t\tclearTimeout(this.timers.hide);\r\n\r\n\t\t\t// Prevent hiding if tooltip is fixed and event target is the tooltip.\r\n\t\t\t// Or if mouse positioning is enabled and cursor momentarily overlaps\r\n\t\t\tif(this !== relatedTarget[0] &&\r\n\t\t\t\t(this.options.position.target === 'mouse' && ontoTooltip) ||\r\n\t\t\t\tthis.options.hide.fixed && (\r\n\t\t\t\t(/mouse(out|leave|move)/).test(event.type) && (ontoTooltip || ontoTarget))\r\n\t\t\t)\r\n\t\t\t{\r\n\t\t\t\t/* eslint-disable no-empty */\r\n\t\t\t\ttry {\r\n\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\tevent.stopImmediatePropagation();\r\n\t\t\t\t} catch(e) {}\r\n\t\t\t\t/* eslint-enable no-empty */\r\n\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// If tooltip has displayed, start hide timer\r\n\t\t\tthis.timers.hide = delay.call(this,\r\n\t\t\t\tfunction() { this.toggle(FALSE, event); },\r\n\t\t\t\tthis.options.hide.delay,\r\n\t\t\t\tthis\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tfunction inactiveMethod(event) {\r\n\t\t\tif(this.tooltip.hasClass(CLASS_DISABLED) || !this.options.hide.inactive) { return; }\r\n\r\n\t\t\t// Clear timer\r\n\t\t\tclearTimeout(this.timers.inactive);\r\n\r\n\t\t\tthis.timers.inactive = delay.call(this,\r\n\t\t\t\tfunction(){ this.hide(event); },\r\n\t\t\t\tthis.options.hide.inactive\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tfunction repositionMethod(event) {\r\n\t\t\tif(this.rendered && this.tooltip[0].offsetWidth > 0) { this.reposition(event); }\r\n\t\t}\r\n\r\n// Store mouse coordinates\r\n\t\tPROTOTYPE._storeMouse = function(event) {\r\n\t\t\t(this.mouse = $.event.fix(event)).type = 'mousemove';\r\n\t\t\treturn this;\r\n\t\t};\r\n\r\n// Bind events\r\n\t\tPROTOTYPE._bind = function(targets, events, method, suffix, context) {\r\n\t\t\tif(!targets || !method || !events.length) { return; }\r\n\t\t\tvar ns = '.' + this._id + (suffix ? '-'+suffix : '');\r\n\t\t\t$(targets).bind(\r\n\t\t\t\t(events.split ? events : events.join(ns + ' ')) + ns,\r\n\t\t\t\t$.proxy(method, context || this)\r\n\t\t\t);\r\n\t\t\treturn this;\r\n\t\t};\r\n\t\tPROTOTYPE._unbind = function(targets, suffix) {\r\n\t\t\ttargets && $(targets).unbind('.' + this._id + (suffix ? '-'+suffix : ''));\r\n\t\t\treturn this;\r\n\t\t};\r\n\r\n// Global delegation helper\r\n\t\tfunction delegate(selector, events, method) {\r\n\t\t\t$(document.body).delegate(selector,\r\n\t\t\t\t(events.split ? events : events.join('.'+NAMESPACE + ' ')) + '.'+NAMESPACE,\r\n\t\t\t\tfunction() {\r\n\t\t\t\t\tvar api = QTIP.api[ $.attr(this, ATTR_ID) ];\r\n\t\t\t\t\tapi && !api.disabled && method.apply(api, arguments);\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t}\r\n// Event trigger\r\n\t\tPROTOTYPE._trigger = function(type, args, event) {\r\n\t\t\tvar callback = new $.Event('tooltip'+type);\r\n\t\t\tcallback.originalEvent = event && $.extend({}, event) || this.cache.event || NULL;\r\n\r\n\t\t\tthis.triggering = type;\r\n\t\t\tthis.tooltip.trigger(callback, [this].concat(args || []));\r\n\t\t\tthis.triggering = FALSE;\r\n\r\n\t\t\treturn !callback.isDefaultPrevented();\r\n\t\t};\r\n\r\n\t\tPROTOTYPE._bindEvents = function(showEvents, hideEvents, showTargets, hideTargets, showCallback, hideCallback) {\r\n\t\t\t// Get tasrgets that lye within both\r\n\t\t\tvar similarTargets = showTargets.filter( hideTargets ).add( hideTargets.filter(showTargets) ),\r\n\t\t\t\ttoggleEvents = [];\r\n\r\n\t\t\t// If hide and show targets are the same...\r\n\t\t\tif(similarTargets.length) {\r\n\r\n\t\t\t\t// Filter identical show/hide events\r\n\t\t\t\t$.each(hideEvents, function(i, type) {\r\n\t\t\t\t\tvar showIndex = $.inArray(type, showEvents);\r\n\r\n\t\t\t\t\t// Both events are identical, remove from both hide and show events\r\n\t\t\t\t\t// and append to toggleEvents\r\n\t\t\t\t\tshowIndex > -1 && toggleEvents.push( showEvents.splice( showIndex, 1 )[0] );\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// Toggle events are special case of identical show/hide events, which happen in sequence\r\n\t\t\t\tif(toggleEvents.length) {\r\n\t\t\t\t\t// Bind toggle events to the similar targets\r\n\t\t\t\t\tthis._bind(similarTargets, toggleEvents, function(event) {\r\n\t\t\t\t\t\tvar state = this.rendered ? this.tooltip[0].offsetWidth > 0 : false;\r\n\t\t\t\t\t\t(state ? hideCallback : showCallback).call(this, event);\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t// Remove the similar targets from the regular show/hide bindings\r\n\t\t\t\t\tshowTargets = showTargets.not(similarTargets);\r\n\t\t\t\t\thideTargets = hideTargets.not(similarTargets);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Apply show/hide/toggle events\r\n\t\t\tthis._bind(showTargets, showEvents, showCallback);\r\n\t\t\tthis._bind(hideTargets, hideEvents, hideCallback);\r\n\t\t};\r\n\r\n\t\tPROTOTYPE._assignInitialEvents = function(event) {\r\n\t\t\tvar options = this.options,\r\n\t\t\t\tshowTarget = options.show.target,\r\n\t\t\t\thideTarget = options.hide.target,\r\n\t\t\t\tshowEvents = options.show.event ? $.trim('' + options.show.event).split(' ') : [],\r\n\t\t\t\thideEvents = options.hide.event ? $.trim('' + options.hide.event).split(' ') : [];\r\n\r\n\t\t\t// Catch remove/removeqtip events on target element to destroy redundant tooltips\r\n\t\t\tthis._bind(this.elements.target, ['remove', 'removeqtip'], function() {\r\n\t\t\t\tthis.destroy(true);\r\n\t\t\t}, 'destroy');\r\n\r\n\t\t\t/*\r\n\t\t\t * Make sure hoverIntent functions properly by using mouseleave as a hide event if\r\n\t\t\t * mouseenter/mouseout is used for show.event, even if it isn't in the users options.\r\n\t\t\t */\r\n\t\t\tif(/mouse(over|enter)/i.test(options.show.event) && !/mouse(out|leave)/i.test(options.hide.event)) {\r\n\t\t\t\thideEvents.push('mouseleave');\r\n\t\t\t}\r\n\r\n\t\t\t/*\r\n\t\t\t * Also make sure initial mouse targetting works correctly by caching mousemove coords\r\n\t\t\t * on show targets before the tooltip has rendered. Also set onTarget when triggered to\r\n\t\t\t * keep mouse tracking working.\r\n\t\t\t */\r\n\t\t\tthis._bind(showTarget, 'mousemove', function(moveEvent) {\r\n\t\t\t\tthis._storeMouse(moveEvent);\r\n\t\t\t\tthis.cache.onTarget = TRUE;\r\n\t\t\t});\r\n\r\n\t\t\t// Define hoverIntent function\r\n\t\t\tfunction hoverIntent(hoverEvent) {\r\n\t\t\t\t// Only continue if tooltip isn't disabled\r\n\t\t\t\tif(this.disabled || this.destroyed) { return FALSE; }\r\n\r\n\t\t\t\t// Cache the event data\r\n\t\t\t\tthis.cache.event = hoverEvent && $.event.fix(hoverEvent);\r\n\t\t\t\tthis.cache.target = hoverEvent && $(hoverEvent.target);\r\n\r\n\t\t\t\t// Start the event sequence\r\n\t\t\t\tclearTimeout(this.timers.show);\r\n\t\t\t\tthis.timers.show = delay.call(this,\r\n\t\t\t\t\tfunction() { this.render(typeof hoverEvent === 'object' || options.show.ready); },\r\n\t\t\t\t\toptions.prerender ? 0 : options.show.delay\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\t// Filter and bind events\r\n\t\t\tthis._bindEvents(showEvents, hideEvents, showTarget, hideTarget, hoverIntent, function() {\r\n\t\t\t\tif(!this.timers) { return FALSE; }\r\n\t\t\t\tclearTimeout(this.timers.show);\r\n\t\t\t});\r\n\r\n\t\t\t// Prerendering is enabled, create tooltip now\r\n\t\t\tif(options.show.ready || options.prerender) { hoverIntent.call(this, event); }\r\n\t\t};\r\n\r\n// Event assignment method\r\n\t\tPROTOTYPE._assignEvents = function() {\r\n\t\t\tvar self = this,\r\n\t\t\t\toptions = this.options,\r\n\t\t\t\tposOptions = options.position,\r\n\r\n\t\t\t\ttooltip = this.tooltip,\r\n\t\t\t\tshowTarget = options.show.target,\r\n\t\t\t\thideTarget = options.hide.target,\r\n\t\t\t\tcontainerTarget = posOptions.container,\r\n\t\t\t\tviewportTarget = posOptions.viewport,\r\n\t\t\t\tdocumentTarget = $(document),\r\n\t\t\t\twindowTarget = $(window),\r\n\r\n\t\t\t\tshowEvents = options.show.event ? $.trim('' + options.show.event).split(' ') : [],\r\n\t\t\t\thideEvents = options.hide.event ? $.trim('' + options.hide.event).split(' ') : [];\r\n\r\n\r\n\t\t\t// Assign passed event callbacks\r\n\t\t\t$.each(options.events, function(name, callback) {\r\n\t\t\t\tself._bind(tooltip, name === 'toggle' ? ['tooltipshow','tooltiphide'] : ['tooltip'+name], callback, null, tooltip);\r\n\t\t\t});\r\n\r\n\t\t\t// Hide tooltips when leaving current window/frame (but not select/option elements)\r\n\t\t\tif(/mouse(out|leave)/i.test(options.hide.event) && options.hide.leave === 'window') {\r\n\t\t\t\tthis._bind(documentTarget, ['mouseout', 'blur'], function(event) {\r\n\t\t\t\t\tif(!/select|option/.test(event.target.nodeName) && !event.relatedTarget) {\r\n\t\t\t\t\t\tthis.hide(event);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\t// Enable hide.fixed by adding appropriate class\r\n\t\t\tif(options.hide.fixed) {\r\n\t\t\t\thideTarget = hideTarget.add( tooltip.addClass(CLASS_FIXED) );\r\n\t\t\t}\r\n\r\n\t\t\t/*\r\n\t\t\t * Make sure hoverIntent functions properly by using mouseleave to clear show timer if\r\n\t\t\t * mouseenter/mouseout is used for show.event, even if it isn't in the users options.\r\n\t\t\t */\r\n\t\t\telse if(/mouse(over|enter)/i.test(options.show.event)) {\r\n\t\t\t\tthis._bind(hideTarget, 'mouseleave', function() {\r\n\t\t\t\t\tclearTimeout(this.timers.show);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\t// Hide tooltip on document mousedown if unfocus events are enabled\r\n\t\t\tif(('' + options.hide.event).indexOf('unfocus') > -1) {\r\n\t\t\t\tthis._bind(containerTarget.closest('html'), ['mousedown', 'touchstart'], function(event) {\r\n\t\t\t\t\tvar elem = $(event.target),\r\n\t\t\t\t\t\tenabled = this.rendered && !this.tooltip.hasClass(CLASS_DISABLED) && this.tooltip[0].offsetWidth > 0,\r\n\t\t\t\t\t\tisAncestor = elem.parents(SELECTOR).filter(this.tooltip[0]).length > 0;\r\n\r\n\t\t\t\t\tif(elem[0] !== this.target[0] && elem[0] !== this.tooltip[0] && !isAncestor &&\r\n\t\t\t\t\t\t!this.target.has(elem[0]).length && enabled\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tthis.hide(event);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\t// Check if the tooltip hides when inactive\r\n\t\t\tif('number' === typeof options.hide.inactive) {\r\n\t\t\t\t// Bind inactive method to show target(s) as a custom event\r\n\t\t\t\tthis._bind(showTarget, 'qtip-'+this.id+'-inactive', inactiveMethod, 'inactive');\r\n\r\n\t\t\t\t// Define events which reset the 'inactive' event handler\r\n\t\t\t\tthis._bind(hideTarget.add(tooltip), QTIP.inactiveEvents, inactiveMethod);\r\n\t\t\t}\r\n\r\n\t\t\t// Filter and bind events\r\n\t\t\tthis._bindEvents(showEvents, hideEvents, showTarget, hideTarget, showMethod, hideMethod);\r\n\r\n\t\t\t// Mouse movement bindings\r\n\t\t\tthis._bind(showTarget.add(tooltip), 'mousemove', function(event) {\r\n\t\t\t\t// Check if the tooltip hides when mouse is moved a certain distance\r\n\t\t\t\tif('number' === typeof options.hide.distance) {\r\n\t\t\t\t\tvar origin = this.cache.origin || {},\r\n\t\t\t\t\t\tlimit = this.options.hide.distance,\r\n\t\t\t\t\t\tabs = Math.abs;\r\n\r\n\t\t\t\t\t// Check if the movement has gone beyond the limit, and hide it if so\r\n\t\t\t\t\tif(abs(event.pageX - origin.pageX) >= limit || abs(event.pageY - origin.pageY) >= limit) {\r\n\t\t\t\t\t\tthis.hide(event);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Cache mousemove coords on show targets\r\n\t\t\t\tthis._storeMouse(event);\r\n\t\t\t});\r\n\r\n\t\t\t// Mouse positioning events\r\n\t\t\tif(posOptions.target === 'mouse') {\r\n\t\t\t\t// If mouse adjustment is on...\r\n\t\t\t\tif(posOptions.adjust.mouse) {\r\n\t\t\t\t\t// Apply a mouseleave event so we don't get problems with overlapping\r\n\t\t\t\t\tif(options.hide.event) {\r\n\t\t\t\t\t\t// Track if we're on the target or not\r\n\t\t\t\t\t\tthis._bind(showTarget, ['mouseenter', 'mouseleave'], function(event) {\r\n\t\t\t\t\t\t\tif(!this.cache) {return FALSE; }\r\n\t\t\t\t\t\t\tthis.cache.onTarget = event.type === 'mouseenter';\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Update tooltip position on mousemove\r\n\t\t\t\t\tthis._bind(documentTarget, 'mousemove', function(event) {\r\n\t\t\t\t\t\t// Update the tooltip position only if the tooltip is visible and adjustment is enabled\r\n\t\t\t\t\t\tif(this.rendered && this.cache.onTarget && !this.tooltip.hasClass(CLASS_DISABLED) && this.tooltip[0].offsetWidth > 0) {\r\n\t\t\t\t\t\t\tthis.reposition(event);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Adjust positions of the tooltip on window resize if enabled\r\n\t\t\tif(posOptions.adjust.resize || viewportTarget.length) {\r\n\t\t\t\tthis._bind( $.event.special.resize ? viewportTarget : windowTarget, 'resize', repositionMethod );\r\n\t\t\t}\r\n\r\n\t\t\t// Adjust tooltip position on scroll of the window or viewport element if present\r\n\t\t\tif(posOptions.adjust.scroll) {\r\n\t\t\t\tthis._bind( windowTarget.add(posOptions.container), 'scroll', repositionMethod );\r\n\t\t\t}\r\n\t\t};\r\n\r\n// Un-assignment method\r\n\t\tPROTOTYPE._unassignEvents = function() {\r\n\t\t\tvar options = this.options,\r\n\t\t\t\tshowTargets = options.show.target,\r\n\t\t\t\thideTargets = options.hide.target,\r\n\t\t\t\ttargets = $.grep([\r\n\t\t\t\t\tthis.elements.target[0],\r\n\t\t\t\t\tthis.rendered && this.tooltip[0],\r\n\t\t\t\t\toptions.position.container[0],\r\n\t\t\t\t\toptions.position.viewport[0],\r\n\t\t\t\t\toptions.position.container.closest('html')[0], // unfocus\r\n\t\t\t\t\twindow,\r\n\t\t\t\t\tdocument\r\n\t\t\t\t], function(i) {\r\n\t\t\t\t\treturn typeof i === 'object';\r\n\t\t\t\t});\r\n\r\n\t\t\t// Add show and hide targets if they're valid\r\n\t\t\tif(showTargets && showTargets.toArray) {\r\n\t\t\t\ttargets = targets.concat(showTargets.toArray());\r\n\t\t\t}\r\n\t\t\tif(hideTargets && hideTargets.toArray) {\r\n\t\t\t\ttargets = targets.concat(hideTargets.toArray());\r\n\t\t\t}\r\n\r\n\t\t\t// Unbind the events\r\n\t\t\tthis._unbind(targets)\r\n\t\t\t\t._unbind(targets, 'destroy')\r\n\t\t\t\t._unbind(targets, 'inactive');\r\n\t\t};\r\n\r\n// Apply common event handlers using delegate (avoids excessive .bind calls!)\r\n\t\t$(function() {\r\n\t\t\tdelegate(SELECTOR, ['mouseenter', 'mouseleave'], function(event) {\r\n\t\t\t\tvar state = event.type === 'mouseenter',\r\n\t\t\t\t\ttooltip = $(event.currentTarget),\r\n\t\t\t\t\ttarget = $(event.relatedTarget || event.target),\r\n\t\t\t\t\toptions = this.options;\r\n\r\n\t\t\t\t// On mouseenter...\r\n\t\t\t\tif(state) {\r\n\t\t\t\t\t// Focus the tooltip on mouseenter (z-index stacking)\r\n\t\t\t\t\tthis.focus(event);\r\n\r\n\t\t\t\t\t// Clear hide timer on tooltip hover to prevent it from closing\r\n\t\t\t\t\ttooltip.hasClass(CLASS_FIXED) && !tooltip.hasClass(CLASS_DISABLED) && clearTimeout(this.timers.hide);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// On mouseleave...\r\n\t\t\t\telse {\r\n\t\t\t\t\t// When mouse tracking is enabled, hide when we leave the tooltip and not onto the show target (if a hide event is set)\r\n\t\t\t\t\tif(options.position.target === 'mouse' && options.position.adjust.mouse &&\r\n\t\t\t\t\t\toptions.hide.event && options.show.target && !target.closest(options.show.target[0]).length) {\r\n\t\t\t\t\t\tthis.hide(event);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Add hover class\r\n\t\t\t\ttooltip.toggleClass(CLASS_HOVER, state);\r\n\t\t\t});\r\n\r\n\t\t\t// Define events which reset the 'inactive' event handler\r\n\t\t\tdelegate('['+ATTR_ID+']', INACTIVE_EVENTS, inactiveMethod);\r\n\t\t});\r\n\t\t;// Initialization method\r\n\t\tfunction init(elem, id, opts) {\r\n\t\t\tvar obj, posOptions, attr, config, title,\r\n\r\n\t\t\t\t// Setup element references\r\n\t\t\t\tdocBody = $(document.body),\r\n\r\n\t\t\t\t// Use document body instead of document element if needed\r\n\t\t\t\tnewTarget = elem[0] === document ? docBody : elem,\r\n\r\n\t\t\t\t// Grab metadata from element if plugin is present\r\n\t\t\t\tmetadata = elem.metadata ? elem.metadata(opts.metadata) : NULL,\r\n\r\n\t\t\t\t// If metadata type if HTML5, grab 'name' from the object instead, or use the regular data object otherwise\r\n\t\t\t\tmetadata5 = opts.metadata.type === 'html5' && metadata ? metadata[opts.metadata.name] : NULL,\r\n\r\n\t\t\t\t// Grab data from metadata.name (or data-qtipopts as fallback) using .data() method,\r\n\t\t\t\thtml5 = elem.data(opts.metadata.name || 'qtipopts');\r\n\r\n\t\t\t// If we don't get an object returned attempt to parse it manualyl without parseJSON\r\n\t\t\t/* eslint-disable no-empty */\r\n\t\t\ttry { html5 = typeof html5 === 'string' ? $.parseJSON(html5) : html5; }\r\n\t\t\tcatch(e) {}\r\n\t\t\t/* eslint-enable no-empty */\r\n\r\n\t\t\t// Merge in and sanitize metadata\r\n\t\t\tconfig = $.extend(TRUE, {}, QTIP.defaults, opts,\r\n\t\t\t\ttypeof html5 === 'object' ? sanitizeOptions(html5) : NULL,\r\n\t\t\t\tsanitizeOptions(metadata5 || metadata));\r\n\r\n\t\t\t// Re-grab our positioning options now we've merged our metadata and set id to passed value\r\n\t\t\tposOptions = config.position;\r\n\t\t\tconfig.id = id;\r\n\r\n\t\t\t// Setup missing content if none is detected\r\n\t\t\tif('boolean' === typeof config.content.text) {\r\n\t\t\t\tattr = elem.attr(config.content.attr);\r\n\r\n\t\t\t\t// Grab from supplied attribute if available\r\n\t\t\t\tif(config.content.attr !== FALSE && attr) { config.content.text = attr; }\r\n\r\n\t\t\t\t// No valid content was found, abort render\r\n\t\t\t\telse { return FALSE; }\r\n\t\t\t}\r\n\r\n\t\t\t// Setup target options\r\n\t\t\tif(!posOptions.container.length) { posOptions.container = docBody; }\r\n\t\t\tif(posOptions.target === FALSE) { posOptions.target = newTarget; }\r\n\t\t\tif(config.show.target === FALSE) { config.show.target = newTarget; }\r\n\t\t\tif(config.show.solo === TRUE) { config.show.solo = posOptions.container.closest('body'); }\r\n\t\t\tif(config.hide.target === FALSE) { config.hide.target = newTarget; }\r\n\t\t\tif(config.position.viewport === TRUE) { config.position.viewport = posOptions.container; }\r\n\r\n\t\t\t// Ensure we only use a single container\r\n\t\t\tposOptions.container = posOptions.container.eq(0);\r\n\r\n\t\t\t// Convert position corner values into x and y strings\r\n\t\t\tposOptions.at = new CORNER(posOptions.at, TRUE);\r\n\t\t\tposOptions.my = new CORNER(posOptions.my);\r\n\r\n\t\t\t// Destroy previous tooltip if overwrite is enabled, or skip element if not\r\n\t\t\tif(elem.data(NAMESPACE)) {\r\n\t\t\t\tif(config.overwrite) {\r\n\t\t\t\t\telem.qtip('destroy', true);\r\n\t\t\t\t}\r\n\t\t\t\telse if(config.overwrite === FALSE) {\r\n\t\t\t\t\treturn FALSE;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Add has-qtip attribute\r\n\t\t\telem.attr(ATTR_HAS, id);\r\n\r\n\t\t\t// Remove title attribute and store it if present\r\n\t\t\tif(config.suppress && (title = elem.attr('title'))) {\r\n\t\t\t\t// Final attr call fixes event delegatiom and IE default tooltip showing problem\r\n\t\t\t\telem.removeAttr('title').attr(oldtitle, title).attr('title', '');\r\n\t\t\t}\r\n\r\n\t\t\t// Initialize the tooltip and add API reference\r\n\t\t\tobj = new QTip(elem, config, id, !!attr);\r\n\t\t\telem.data(NAMESPACE, obj);\r\n\r\n\t\t\treturn obj;\r\n\t\t}\r\n\r\n// jQuery $.fn extension method\r\n\t\tQTIP = $.fn.qtip = function(options, notation, newValue)\r\n\t\t{\r\n\t\t\tvar command = ('' + options).toLowerCase(), // Parse command\r\n\t\t\t\treturned = NULL,\r\n\t\t\t\targs = $.makeArray(arguments).slice(1),\r\n\t\t\t\tevent = args[args.length - 1],\r\n\t\t\t\topts = this[0] ? $.data(this[0], NAMESPACE) : NULL;\r\n\r\n\t\t\t// Check for API request\r\n\t\t\tif(!arguments.length && opts || command === 'api') {\r\n\t\t\t\treturn opts;\r\n\t\t\t}\r\n\r\n\t\t\t// Execute API command if present\r\n\t\t\telse if('string' === typeof options) {\r\n\t\t\t\tthis.each(function() {\r\n\t\t\t\t\tvar api = $.data(this, NAMESPACE);\r\n\t\t\t\t\tif(!api) { return TRUE; }\r\n\r\n\t\t\t\t\t// Cache the event if possible\r\n\t\t\t\t\tif(event && event.timeStamp) { api.cache.event = event; }\r\n\r\n\t\t\t\t\t// Check for specific API commands\r\n\t\t\t\t\tif(notation && (command === 'option' || command === 'options')) {\r\n\t\t\t\t\t\tif(newValue !== undefined || $.isPlainObject(notation)) {\r\n\t\t\t\t\t\t\tapi.set(notation, newValue);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\treturned = api.get(notation);\r\n\t\t\t\t\t\t\treturn FALSE;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Execute API command\r\n\t\t\t\t\telse if(api[command]) {\r\n\t\t\t\t\t\tapi[command].apply(api, args);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\treturn returned !== NULL ? returned : this;\r\n\t\t\t}\r\n\r\n\t\t\t// No API commands. validate provided options and setup qTips\r\n\t\t\telse if('object' === typeof options || !arguments.length) {\r\n\t\t\t\t// Sanitize options first\r\n\t\t\t\topts = sanitizeOptions($.extend(TRUE, {}, options));\r\n\r\n\t\t\t\treturn this.each(function(i) {\r\n\t\t\t\t\tvar api, id;\r\n\r\n\t\t\t\t\t// Find next available ID, or use custom ID if provided\r\n\t\t\t\t\tid = $.isArray(opts.id) ? opts.id[i] : opts.id;\r\n\t\t\t\t\tid = !id || id === FALSE || id.length < 1 || QTIP.api[id] ? QTIP.nextid++ : id;\r\n\r\n\t\t\t\t\t// Initialize the qTip and re-grab newly sanitized options\r\n\t\t\t\t\tapi = init($(this), id, opts);\r\n\t\t\t\t\tif(api === FALSE) { return TRUE; }\r\n\t\t\t\t\telse { QTIP.api[id] = api; }\r\n\r\n\t\t\t\t\t// Initialize plugins\r\n\t\t\t\t\t$.each(PLUGINS, function() {\r\n\t\t\t\t\t\tif(this.initialize === 'initialize') { this(api); }\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t// Assign initial pre-render events\r\n\t\t\t\t\tapi._assignInitialEvents(event);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t};\r\n\r\n// Expose class\r\n\t\t$.qtip = QTip;\r\n\r\n// Populated in render method\r\n\t\tQTIP.api = {};\r\n\t\t;$.each({\r\n\t\t\t/* Allow other plugins to successfully retrieve the title of an element with a qTip applied */\r\n\t\t\tattr: function(attr, val) {\r\n\t\t\t\tif(this.length) {\r\n\t\t\t\t\tvar self = this[0],\r\n\t\t\t\t\t\ttitle = 'title',\r\n\t\t\t\t\t\tapi = $.data(self, 'qtip');\r\n\r\n\t\t\t\t\tif(attr === title && api && api.options && 'object' === typeof api && 'object' === typeof api.options && api.options.suppress) {\r\n\t\t\t\t\t\tif(arguments.length < 2) {\r\n\t\t\t\t\t\t\treturn $.attr(self, oldtitle);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// If qTip is rendered and title was originally used as content, update it\r\n\t\t\t\t\t\tif(api && api.options.content.attr === title && api.cache.attr) {\r\n\t\t\t\t\t\t\tapi.set('content.text', val);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Use the regular attr method to set, then cache the result\r\n\t\t\t\t\t\treturn this.attr(oldtitle, val);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn $.fn['attr'+replaceSuffix].apply(this, arguments);\r\n\t\t\t},\r\n\r\n\t\t\t/* Allow clone to correctly retrieve cached title attributes */\r\n\t\t\tclone: function(keepData) {\r\n\t\t\t\t// Clone our element using the real clone method\r\n\t\t\t\tvar elems = $.fn['clone'+replaceSuffix].apply(this, arguments);\r\n\r\n\t\t\t\t// Grab all elements with an oldtitle set, and change it to regular title attribute, if keepData is false\r\n\t\t\t\tif(!keepData) {\r\n\t\t\t\t\telems.filter('['+oldtitle+']').attr('title', function() {\r\n\t\t\t\t\t\treturn $.attr(this, oldtitle);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t\t.removeAttr(oldtitle);\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn elems;\r\n\t\t\t}\r\n\t\t}, function(name, func) {\r\n\t\t\tif(!func || $.fn[name+replaceSuffix]) { return TRUE; }\r\n\r\n\t\t\tvar old = $.fn[name+replaceSuffix] = $.fn[name];\r\n\t\t\t$.fn[name] = function() {\r\n\t\t\t\treturn func.apply(this, arguments) || old.apply(this, arguments);\r\n\t\t\t};\r\n\t\t});\r\n\r\n\t\t/* Fire off 'removeqtip' handler in $.cleanData if jQuery UI not present (it already does similar).\r\n\t\t * This snippet is taken directly from jQuery UI source code found here:\r\n\t\t *     http://code.jquery.com/ui/jquery-ui-git.js\r\n\t\t */\r\n\t\tif(!$.ui) {\r\n\t\t\t$['cleanData'+replaceSuffix] = $.cleanData;\r\n\t\t\t$.cleanData = function( elems ) {\r\n\t\t\t\tfor(var i = 0, elem; (elem = $( elems[i] )).length; i++) {\r\n\t\t\t\t\tif(elem.attr(ATTR_HAS)) {\r\n\t\t\t\t\t\t/* eslint-disable no-empty */\r\n\t\t\t\t\t\ttry { elem.triggerHandler('removeqtip'); }\r\n\t\t\t\t\t\tcatch( e ) {}\r\n\t\t\t\t\t\t/* eslint-enable no-empty */\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t$['cleanData'+replaceSuffix].apply(this, arguments);\r\n\t\t\t};\r\n\t\t}\r\n\t\t;// qTip version\r\n\t\tQTIP.version = '3.0.3';\r\n\r\n// Base ID for all qTips\r\n\t\tQTIP.nextid = 0;\r\n\r\n// Inactive events array\r\n\t\tQTIP.inactiveEvents = INACTIVE_EVENTS;\r\n\r\n// Base z-index for all qTips\r\n\t\tQTIP.zindex = 15000;\r\n\r\n// Define configuration defaults\r\n\t\tQTIP.defaults = {\r\n\t\t\tprerender: FALSE,\r\n\t\t\tid: FALSE,\r\n\t\t\toverwrite: TRUE,\r\n\t\t\tsuppress: TRUE,\r\n\t\t\tcontent: {\r\n\t\t\t\ttext: TRUE,\r\n\t\t\t\tattr: 'title',\r\n\t\t\t\ttitle: FALSE,\r\n\t\t\t\tbutton: FALSE\r\n\t\t\t},\r\n\t\t\tposition: {\r\n\t\t\t\tmy: 'top left',\r\n\t\t\t\tat: 'bottom right',\r\n\t\t\t\ttarget: FALSE,\r\n\t\t\t\tcontainer: FALSE,\r\n\t\t\t\tviewport: FALSE,\r\n\t\t\t\tadjust: {\r\n\t\t\t\t\tx: 0, y: 0,\r\n\t\t\t\t\tmouse: TRUE,\r\n\t\t\t\t\tscroll: TRUE,\r\n\t\t\t\t\tresize: TRUE,\r\n\t\t\t\t\tmethod: 'flipinvert flipinvert'\r\n\t\t\t\t},\r\n\t\t\t\teffect: function(api, pos) {\r\n\t\t\t\t\t$(this).animate(pos, {\r\n\t\t\t\t\t\tduration: 200,\r\n\t\t\t\t\t\tqueue: FALSE\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tshow: {\r\n\t\t\t\ttarget: FALSE,\r\n\t\t\t\tevent: 'mouseenter',\r\n\t\t\t\teffect: TRUE,\r\n\t\t\t\tdelay: 90,\r\n\t\t\t\tsolo: FALSE,\r\n\t\t\t\tready: FALSE,\r\n\t\t\t\tautofocus: FALSE\r\n\t\t\t},\r\n\t\t\thide: {\r\n\t\t\t\ttarget: FALSE,\r\n\t\t\t\tevent: 'mouseleave',\r\n\t\t\t\teffect: TRUE,\r\n\t\t\t\tdelay: 0,\r\n\t\t\t\tfixed: FALSE,\r\n\t\t\t\tinactive: FALSE,\r\n\t\t\t\tleave: 'window',\r\n\t\t\t\tdistance: FALSE\r\n\t\t\t},\r\n\t\t\tstyle: {\r\n\t\t\t\tclasses: '',\r\n\t\t\t\twidget: FALSE,\r\n\t\t\t\twidth: FALSE,\r\n\t\t\t\theight: FALSE,\r\n\t\t\t\tdef: TRUE\r\n\t\t\t},\r\n\t\t\tevents: {\r\n\t\t\t\trender: NULL,\r\n\t\t\t\tmove: NULL,\r\n\t\t\t\tshow: NULL,\r\n\t\t\t\thide: NULL,\r\n\t\t\t\ttoggle: NULL,\r\n\t\t\t\tvisible: NULL,\r\n\t\t\t\thidden: NULL,\r\n\t\t\t\tfocus: NULL,\r\n\t\t\t\tblur: NULL\r\n\t\t\t}\r\n\t\t};\r\n\t\t;var TIP,\r\n\t\t\tcreateVML,\r\n\t\t\tSCALE,\r\n\t\t\tPIXEL_RATIO,\r\n\t\t\tBACKING_STORE_RATIO,\r\n\r\n// Common CSS strings\r\n\t\t\tMARGIN = 'margin',\r\n\t\t\tBORDER = 'border',\r\n\t\t\tCOLOR = 'color',\r\n\t\t\tBG_COLOR = 'background-color',\r\n\t\t\tTRANSPARENT = 'transparent',\r\n\t\t\tIMPORTANT = ' !important',\r\n\r\n// Check if the browser supports <canvas/> elements\r\n\t\t\tHASCANVAS = !!document.createElement('canvas').getContext,\r\n\r\n// Invalid colour values used in parseColours()\r\n\t\t\tINVALID = /rgba?\\(0, 0, 0(, 0)?\\)|transparent|#123456/i;\r\n\r\n// Camel-case method, taken from jQuery source\r\n// http://code.jquery.com/jquery-1.8.0.js\r\n\t\tfunction camel(s) { return s.charAt(0).toUpperCase() + s.slice(1); }\r\n\r\n\t\t/*\r\n\t\t * Modified from Modernizr's testPropsAll()\r\n\t\t * http://modernizr.com/downloads/modernizr-latest.js\r\n\t\t */\r\n\t\tvar cssProps = {}, cssPrefixes = ['Webkit', 'O', 'Moz', 'ms'];\r\n\t\tfunction vendorCss(elem, prop) {\r\n\t\t\tvar ucProp = prop.charAt(0).toUpperCase() + prop.slice(1),\r\n\t\t\t\tprops = (prop + ' ' + cssPrefixes.join(ucProp + ' ') + ucProp).split(' '),\r\n\t\t\t\tcur, val, i = 0;\r\n\r\n\t\t\t// If the property has already been mapped...\r\n\t\t\tif(cssProps[prop]) { return elem.css(cssProps[prop]); }\r\n\r\n\t\t\twhile(cur = props[i++]) {\r\n\t\t\t\tif((val = elem.css(cur)) !== undefined) {\r\n\t\t\t\t\tcssProps[prop] = cur;\r\n\t\t\t\t\treturn val;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n// Parse a given elements CSS property into an int\r\n\t\tfunction intCss(elem, prop) {\r\n\t\t\treturn Math.ceil(parseFloat(vendorCss(elem, prop)));\r\n\t\t}\r\n\r\n\r\n// VML creation (for IE only)\r\n\t\tif(!HASCANVAS) {\r\n\t\t\tcreateVML = function(tag, props, style) {\r\n\t\t\t\treturn '<qtipvml:'+tag+' xmlns=\"urn:schemas-microsoft.com:vml\" class=\"qtip-vml\" '+(props||'')+\r\n\t\t\t\t\t' style=\"behavior: url(#default#VML); '+(style||'')+ '\" />';\r\n\t\t\t};\r\n\t\t}\r\n\r\n// Canvas only definitions\r\n\t\telse {\r\n\t\t\tPIXEL_RATIO = window.devicePixelRatio || 1;\r\n\t\t\tBACKING_STORE_RATIO = (function() {\r\n\t\t\t\tvar context = document.createElement('canvas').getContext('2d');\r\n\t\t\t\treturn context.backingStorePixelRatio || context.webkitBackingStorePixelRatio || context.mozBackingStorePixelRatio ||\r\n\t\t\t\t\tcontext.msBackingStorePixelRatio || context.oBackingStorePixelRatio || 1;\r\n\t\t\t})();\r\n\t\t\tSCALE = PIXEL_RATIO / BACKING_STORE_RATIO;\r\n\t\t}\r\n\r\n\r\n\t\tfunction Tip(qtip, options) {\r\n\t\t\tthis._ns = 'tip';\r\n\t\t\tthis.options = options;\r\n\t\t\tthis.offset = options.offset;\r\n\t\t\tthis.size = [ options.width, options.height ];\r\n\r\n\t\t\t// Initialize\r\n\t\t\tthis.qtip = qtip;\r\n\t\t\tthis.init(qtip);\r\n\t\t}\r\n\r\n\t\t$.extend(Tip.prototype, {\r\n\t\t\tinit: function(qtip) {\r\n\t\t\t\tvar context, tip;\r\n\r\n\t\t\t\t// Create tip element and prepend to the tooltip\r\n\t\t\t\ttip = this.element = qtip.elements.tip = $('<div />', { 'class': NAMESPACE+'-tip' }).prependTo(qtip.tooltip);\r\n\r\n\t\t\t\t// Create tip drawing element(s)\r\n\t\t\t\tif(HASCANVAS) {\r\n\t\t\t\t\t// save() as soon as we create the canvas element so FF2 doesn't bork on our first restore()!\r\n\t\t\t\t\tcontext = $('<canvas />').appendTo(this.element)[0].getContext('2d');\r\n\r\n\t\t\t\t\t// Setup constant parameters\r\n\t\t\t\t\tcontext.lineJoin = 'miter';\r\n\t\t\t\t\tcontext.miterLimit = 100000;\r\n\t\t\t\t\tcontext.save();\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tcontext = createVML('shape', 'coordorigin=\"0,0\"', 'position:absolute;');\r\n\t\t\t\t\tthis.element.html(context + context);\r\n\r\n\t\t\t\t\t// Prevent mousing down on the tip since it causes problems with .live() handling in IE due to VML\r\n\t\t\t\t\tqtip._bind( $('*', tip).add(tip), ['click', 'mousedown'], function(event) { event.stopPropagation(); }, this._ns);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Bind update events\r\n\t\t\t\tqtip._bind(qtip.tooltip, 'tooltipmove', this.reposition, this._ns, this);\r\n\r\n\t\t\t\t// Create it\r\n\t\t\t\tthis.create();\r\n\t\t\t},\r\n\r\n\t\t\t_swapDimensions: function() {\r\n\t\t\t\tthis.size[0] = this.options.height;\r\n\t\t\t\tthis.size[1] = this.options.width;\r\n\t\t\t},\r\n\t\t\t_resetDimensions: function() {\r\n\t\t\t\tthis.size[0] = this.options.width;\r\n\t\t\t\tthis.size[1] = this.options.height;\r\n\t\t\t},\r\n\r\n\t\t\t_useTitle: function(corner) {\r\n\t\t\t\tvar titlebar = this.qtip.elements.titlebar;\r\n\t\t\t\treturn titlebar && (\r\n\t\t\t\t\t\tcorner.y === TOP || corner.y === CENTER && this.element.position().top + this.size[1] / 2 + this.options.offset < titlebar.outerHeight(TRUE)\r\n\t\t\t\t\t);\r\n\t\t\t},\r\n\r\n\t\t\t_parseCorner: function(corner) {\r\n\t\t\t\tvar my = this.qtip.options.position.my;\r\n\r\n\t\t\t\t// Detect corner and mimic properties\r\n\t\t\t\tif(corner === FALSE || my === FALSE) {\r\n\t\t\t\t\tcorner = FALSE;\r\n\t\t\t\t}\r\n\t\t\t\telse if(corner === TRUE) {\r\n\t\t\t\t\tcorner = new CORNER( my.string() );\r\n\t\t\t\t}\r\n\t\t\t\telse if(!corner.string) {\r\n\t\t\t\t\tcorner = new CORNER(corner);\r\n\t\t\t\t\tcorner.fixed = TRUE;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn corner;\r\n\t\t\t},\r\n\r\n\t\t\t_parseWidth: function(corner, side, use) {\r\n\t\t\t\tvar elements = this.qtip.elements,\r\n\t\t\t\t\tprop = BORDER + camel(side) + 'Width';\r\n\r\n\t\t\t\treturn (use ? intCss(use, prop) :\r\n\t\t\t\t\t\tintCss(elements.content, prop) ||\r\n\t\t\t\t\t\tintCss(this._useTitle(corner) && elements.titlebar || elements.content, prop) ||\r\n\t\t\t\t\t\tintCss(elements.tooltip, prop)\r\n\t\t\t\t\t) || 0;\r\n\t\t\t},\r\n\r\n\t\t\t_parseRadius: function(corner) {\r\n\t\t\t\tvar elements = this.qtip.elements,\r\n\t\t\t\t\tprop = BORDER + camel(corner.y) + camel(corner.x) + 'Radius';\r\n\r\n\t\t\t\treturn BROWSER.ie < 9 ? 0 :\r\n\t\t\t\tintCss(this._useTitle(corner) && elements.titlebar || elements.content, prop) ||\r\n\t\t\t\tintCss(elements.tooltip, prop) || 0;\r\n\t\t\t},\r\n\r\n\t\t\t_invalidColour: function(elem, prop, compare) {\r\n\t\t\t\tvar val = elem.css(prop);\r\n\t\t\t\treturn !val || compare && val === elem.css(compare) || INVALID.test(val) ? FALSE : val;\r\n\t\t\t},\r\n\r\n\t\t\t_parseColours: function(corner) {\r\n\t\t\t\tvar elements = this.qtip.elements,\r\n\t\t\t\t\ttip = this.element.css('cssText', ''),\r\n\t\t\t\t\tborderSide = BORDER + camel(corner[ corner.precedance ]) + camel(COLOR),\r\n\t\t\t\t\tcolorElem = this._useTitle(corner) && elements.titlebar || elements.content,\r\n\t\t\t\t\tcss = this._invalidColour, color = [];\r\n\r\n\t\t\t\t// Attempt to detect the background colour from various elements, left-to-right precedance\r\n\t\t\t\tcolor[0] = css(tip, BG_COLOR) || css(colorElem, BG_COLOR) || css(elements.content, BG_COLOR) ||\r\n\t\t\t\t\tcss(elements.tooltip, BG_COLOR) || tip.css(BG_COLOR);\r\n\r\n\t\t\t\t// Attempt to detect the correct border side colour from various elements, left-to-right precedance\r\n\t\t\t\tcolor[1] = css(tip, borderSide, COLOR) || css(colorElem, borderSide, COLOR) ||\r\n\t\t\t\t\tcss(elements.content, borderSide, COLOR) || css(elements.tooltip, borderSide, COLOR) || elements.tooltip.css(borderSide);\r\n\r\n\t\t\t\t// Reset background and border colours\r\n\t\t\t\t$('*', tip).add(tip).css('cssText', BG_COLOR+':'+TRANSPARENT+IMPORTANT+';'+BORDER+':0'+IMPORTANT+';');\r\n\r\n\t\t\t\treturn color;\r\n\t\t\t},\r\n\r\n\t\t\t_calculateSize: function(corner) {\r\n\t\t\t\tvar y = corner.precedance === Y,\r\n\t\t\t\t\twidth = this.options.width,\r\n\t\t\t\t\theight = this.options.height,\r\n\t\t\t\t\tisCenter = corner.abbrev() === 'c',\r\n\t\t\t\t\tbase = (y ? width: height) * (isCenter ? 0.5 : 1),\r\n\t\t\t\t\tpow = Math.pow,\r\n\t\t\t\t\tround = Math.round,\r\n\t\t\t\t\tbigHyp, ratio, result,\r\n\r\n\t\t\t\t\tsmallHyp = Math.sqrt( pow(base, 2) + pow(height, 2) ),\r\n\t\t\t\t\thyp = [\r\n\t\t\t\t\t\tthis.border / base * smallHyp,\r\n\t\t\t\t\t\tthis.border / height * smallHyp\r\n\t\t\t\t\t];\r\n\r\n\t\t\t\thyp[2] = Math.sqrt( pow(hyp[0], 2) - pow(this.border, 2) );\r\n\t\t\t\thyp[3] = Math.sqrt( pow(hyp[1], 2) - pow(this.border, 2) );\r\n\r\n\t\t\t\tbigHyp = smallHyp + hyp[2] + hyp[3] + (isCenter ? 0 : hyp[0]);\r\n\t\t\t\tratio = bigHyp / smallHyp;\r\n\r\n\t\t\t\tresult = [ round(ratio * width), round(ratio * height) ];\r\n\t\t\t\treturn y ? result : result.reverse();\r\n\t\t\t},\r\n\r\n\t\t\t// Tip coordinates calculator\r\n\t\t\t_calculateTip: function(corner, size, scale) {\r\n\t\t\t\tscale = scale || 1;\r\n\t\t\t\tsize = size || this.size;\r\n\r\n\t\t\t\tvar width = size[0] * scale,\r\n\t\t\t\t\theight = size[1] * scale,\r\n\t\t\t\t\twidth2 = Math.ceil(width / 2), height2 = Math.ceil(height / 2),\r\n\r\n\t\t\t\t\t// Define tip coordinates in terms of height and width values\r\n\t\t\t\t\ttips = {\r\n\t\t\t\t\t\tbr:\t[0,0,\t\twidth,height,\twidth,0],\r\n\t\t\t\t\t\tbl:\t[0,0,\t\twidth,0,\t\t0,height],\r\n\t\t\t\t\t\ttr:\t[0,height,\twidth,0,\t\twidth,height],\r\n\t\t\t\t\t\ttl:\t[0,0,\t\t0,height,\t\twidth,height],\r\n\t\t\t\t\t\ttc:\t[0,height,\twidth2,0,\t\twidth,height],\r\n\t\t\t\t\t\tbc:\t[0,0,\t\twidth,0,\t\twidth2,height],\r\n\t\t\t\t\t\trc:\t[0,0,\t\twidth,height2,\t0,height],\r\n\t\t\t\t\t\tlc:\t[width,0,\twidth,height,\t0,height2]\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t// Set common side shapes\r\n\t\t\t\ttips.lt = tips.br; tips.rt = tips.bl;\r\n\t\t\t\ttips.lb = tips.tr; tips.rb = tips.tl;\r\n\r\n\t\t\t\treturn tips[ corner.abbrev() ];\r\n\t\t\t},\r\n\r\n\t\t\t// Tip coordinates drawer (canvas)\r\n\t\t\t_drawCoords: function(context, coords) {\r\n\t\t\t\tcontext.beginPath();\r\n\t\t\t\tcontext.moveTo(coords[0], coords[1]);\r\n\t\t\t\tcontext.lineTo(coords[2], coords[3]);\r\n\t\t\t\tcontext.lineTo(coords[4], coords[5]);\r\n\t\t\t\tcontext.closePath();\r\n\t\t\t},\r\n\r\n\t\t\tcreate: function() {\r\n\t\t\t\t// Determine tip corner\r\n\t\t\t\tvar c = this.corner = (HASCANVAS || BROWSER.ie) && this._parseCorner(this.options.corner);\r\n\r\n\t\t\t\t// If we have a tip corner...\r\n\t\t\t\tthis.enabled = !!this.corner && this.corner.abbrev() !== 'c';\r\n\t\t\t\tif(this.enabled) {\r\n\t\t\t\t\t// Cache it\r\n\t\t\t\t\tthis.qtip.cache.corner = c.clone();\r\n\r\n\t\t\t\t\t// Create it\r\n\t\t\t\t\tthis.update();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Toggle tip element\r\n\t\t\t\tthis.element.toggle(this.enabled);\r\n\r\n\t\t\t\treturn this.corner;\r\n\t\t\t},\r\n\r\n\t\t\tupdate: function(corner, position) {\r\n\t\t\t\tif(!this.enabled) { return this; }\r\n\r\n\t\t\t\tvar elements = this.qtip.elements,\r\n\t\t\t\t\ttip = this.element,\r\n\t\t\t\t\tinner = tip.children(),\r\n\t\t\t\t\toptions = this.options,\r\n\t\t\t\t\tcurSize = this.size,\r\n\t\t\t\t\tmimic = options.mimic,\r\n\t\t\t\t\tround = Math.round,\r\n\t\t\t\t\tcolor, precedance, context,\r\n\t\t\t\t\tcoords, bigCoords, translate, newSize, border;\r\n\r\n\t\t\t\t// Re-determine tip if not already set\r\n\t\t\t\tif(!corner) { corner = this.qtip.cache.corner || this.corner; }\r\n\r\n\t\t\t\t// Use corner property if we detect an invalid mimic value\r\n\t\t\t\tif(mimic === FALSE) { mimic = corner; }\r\n\r\n\t\t\t\t// Otherwise inherit mimic properties from the corner object as necessary\r\n\t\t\t\telse {\r\n\t\t\t\t\tmimic = new CORNER(mimic);\r\n\t\t\t\t\tmimic.precedance = corner.precedance;\r\n\r\n\t\t\t\t\tif(mimic.x === 'inherit') { mimic.x = corner.x; }\r\n\t\t\t\t\telse if(mimic.y === 'inherit') { mimic.y = corner.y; }\r\n\t\t\t\t\telse if(mimic.x === mimic.y) {\r\n\t\t\t\t\t\tmimic[ corner.precedance ] = corner[ corner.precedance ];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tprecedance = mimic.precedance;\r\n\r\n\t\t\t\t// Ensure the tip width.height are relative to the tip position\r\n\t\t\t\tif(corner.precedance === X) { this._swapDimensions(); }\r\n\t\t\t\telse { this._resetDimensions(); }\r\n\r\n\t\t\t\t// Update our colours\r\n\t\t\t\tcolor = this.color = this._parseColours(corner);\r\n\r\n\t\t\t\t// Detect border width, taking into account colours\r\n\t\t\t\tif(color[1] !== TRANSPARENT) {\r\n\t\t\t\t\t// Grab border width\r\n\t\t\t\t\tborder = this.border = this._parseWidth(corner, corner[corner.precedance]);\r\n\r\n\t\t\t\t\t// If border width isn't zero, use border color as fill if it's not invalid (1.0 style tips)\r\n\t\t\t\t\tif(options.border && border < 1 && !INVALID.test(color[1])) { color[0] = color[1]; }\r\n\r\n\t\t\t\t\t// Set border width (use detected border width if options.border is true)\r\n\t\t\t\t\tthis.border = border = options.border !== TRUE ? options.border : border;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Border colour was invalid, set border to zero\r\n\t\t\t\telse { this.border = border = 0; }\r\n\r\n\t\t\t\t// Determine tip size\r\n\t\t\t\tnewSize = this.size = this._calculateSize(corner);\r\n\t\t\t\ttip.css({\r\n\t\t\t\t\twidth: newSize[0],\r\n\t\t\t\t\theight: newSize[1],\r\n\t\t\t\t\tlineHeight: newSize[1]+'px'\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// Calculate tip translation\r\n\t\t\t\tif(corner.precedance === Y) {\r\n\t\t\t\t\ttranslate = [\r\n\t\t\t\t\t\tround(mimic.x === LEFT ? border : mimic.x === RIGHT ? newSize[0] - curSize[0] - border : (newSize[0] - curSize[0]) / 2),\r\n\t\t\t\t\t\tround(mimic.y === TOP ? newSize[1] - curSize[1] : 0)\r\n\t\t\t\t\t];\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\ttranslate = [\r\n\t\t\t\t\t\tround(mimic.x === LEFT ? newSize[0] - curSize[0] : 0),\r\n\t\t\t\t\t\tround(mimic.y === TOP ? border : mimic.y === BOTTOM ? newSize[1] - curSize[1] - border : (newSize[1] - curSize[1]) / 2)\r\n\t\t\t\t\t];\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Canvas drawing implementation\r\n\t\t\t\tif(HASCANVAS) {\r\n\t\t\t\t\t// Grab canvas context and clear/save it\r\n\t\t\t\t\tcontext = inner[0].getContext('2d');\r\n\t\t\t\t\tcontext.restore(); context.save();\r\n\t\t\t\t\tcontext.clearRect(0,0,6000,6000);\r\n\r\n\t\t\t\t\t// Calculate coordinates\r\n\t\t\t\t\tcoords = this._calculateTip(mimic, curSize, SCALE);\r\n\t\t\t\t\tbigCoords = this._calculateTip(mimic, this.size, SCALE);\r\n\r\n\t\t\t\t\t// Set the canvas size using calculated size\r\n\t\t\t\t\tinner.attr(WIDTH, newSize[0] * SCALE).attr(HEIGHT, newSize[1] * SCALE);\r\n\t\t\t\t\tinner.css(WIDTH, newSize[0]).css(HEIGHT, newSize[1]);\r\n\r\n\t\t\t\t\t// Draw the outer-stroke tip\r\n\t\t\t\t\tthis._drawCoords(context, bigCoords);\r\n\t\t\t\t\tcontext.fillStyle = color[1];\r\n\t\t\t\t\tcontext.fill();\r\n\r\n\t\t\t\t\t// Draw the actual tip\r\n\t\t\t\t\tcontext.translate(translate[0] * SCALE, translate[1] * SCALE);\r\n\t\t\t\t\tthis._drawCoords(context, coords);\r\n\t\t\t\t\tcontext.fillStyle = color[0];\r\n\t\t\t\t\tcontext.fill();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// VML (IE Proprietary implementation)\r\n\t\t\t\telse {\r\n\t\t\t\t\t// Calculate coordinates\r\n\t\t\t\t\tcoords = this._calculateTip(mimic);\r\n\r\n\t\t\t\t\t// Setup coordinates string\r\n\t\t\t\t\tcoords = 'm' + coords[0] + ',' + coords[1] + ' l' + coords[2] +\r\n\t\t\t\t\t\t',' + coords[3] + ' ' + coords[4] + ',' + coords[5] + ' xe';\r\n\r\n\t\t\t\t\t// Setup VML-specific offset for pixel-perfection\r\n\t\t\t\t\ttranslate[2] = border && /^(r|b)/i.test(corner.string()) ?\r\n\t\t\t\t\t\tBROWSER.ie === 8 ? 2 : 1 : 0;\r\n\r\n\t\t\t\t\t// Set initial CSS\r\n\t\t\t\t\tinner.css({\r\n\t\t\t\t\t\tcoordsize: newSize[0]+border + ' ' + newSize[1]+border,\r\n\t\t\t\t\t\tantialias: ''+(mimic.string().indexOf(CENTER) > -1),\r\n\t\t\t\t\t\tleft: translate[0] - translate[2] * Number(precedance === X),\r\n\t\t\t\t\t\ttop: translate[1] - translate[2] * Number(precedance === Y),\r\n\t\t\t\t\t\twidth: newSize[0] + border,\r\n\t\t\t\t\t\theight: newSize[1] + border\r\n\t\t\t\t\t})\r\n\t\t\t\t\t\t.each(function(i) {\r\n\t\t\t\t\t\t\tvar $this = $(this);\r\n\r\n\t\t\t\t\t\t\t// Set shape specific attributes\r\n\t\t\t\t\t\t\t$this[ $this.prop ? 'prop' : 'attr' ]({\r\n\t\t\t\t\t\t\t\tcoordsize: newSize[0]+border + ' ' + newSize[1]+border,\r\n\t\t\t\t\t\t\t\tpath: coords,\r\n\t\t\t\t\t\t\t\tfillcolor: color[0],\r\n\t\t\t\t\t\t\t\tfilled: !!i,\r\n\t\t\t\t\t\t\t\tstroked: !i\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t.toggle(!!(border || i));\r\n\r\n\t\t\t\t\t\t\t// Check if border is enabled and add stroke element\r\n\t\t\t\t\t\t\t!i && $this.html( createVML(\r\n\t\t\t\t\t\t\t\t'stroke', 'weight=\"'+border*2+'px\" color=\"'+color[1]+'\" miterlimit=\"1000\" joinstyle=\"miter\"'\r\n\t\t\t\t\t\t\t) );\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Opera bug #357 - Incorrect tip position\r\n\t\t\t\t// https://github.com/Craga89/qTip2/issues/367\r\n\t\t\t\twindow.opera && setTimeout(function() {\r\n\t\t\t\t\telements.tip.css({\r\n\t\t\t\t\t\tdisplay: 'inline-block',\r\n\t\t\t\t\t\tvisibility: 'visible'\r\n\t\t\t\t\t});\r\n\t\t\t\t}, 1);\r\n\r\n\t\t\t\t// Position if needed\r\n\t\t\t\tif(position !== FALSE) { this.calculate(corner, newSize); }\r\n\t\t\t},\r\n\r\n\t\t\tcalculate: function(corner, size) {\r\n\t\t\t\tif(!this.enabled) { return FALSE; }\r\n\r\n\t\t\t\tvar self = this,\r\n\t\t\t\t\telements = this.qtip.elements,\r\n\t\t\t\t\ttip = this.element,\r\n\t\t\t\t\tuserOffset = this.options.offset,\r\n\t\t\t\t\tposition = {},\r\n\t\t\t\t\tprecedance, corners;\r\n\r\n\t\t\t\t// Inherit corner if not provided\r\n\t\t\t\tcorner = corner || this.corner;\r\n\t\t\t\tprecedance = corner.precedance;\r\n\r\n\t\t\t\t// Determine which tip dimension to use for adjustment\r\n\t\t\t\tsize = size || this._calculateSize(corner);\r\n\r\n\t\t\t\t// Setup corners and offset array\r\n\t\t\t\tcorners = [ corner.x, corner.y ];\r\n\t\t\t\tif(precedance === X) { corners.reverse(); }\r\n\r\n\t\t\t\t// Calculate tip position\r\n\t\t\t\t$.each(corners, function(i, side) {\r\n\t\t\t\t\tvar b, bc, br;\r\n\r\n\t\t\t\t\tif(side === CENTER) {\r\n\t\t\t\t\t\tb = precedance === Y ? LEFT : TOP;\r\n\t\t\t\t\t\tposition[ b ] = '50%';\r\n\t\t\t\t\t\tposition[MARGIN+'-' + b] = -Math.round(size[ precedance === Y ? 0 : 1 ] / 2) + userOffset;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tb = self._parseWidth(corner, side, elements.tooltip);\r\n\t\t\t\t\t\tbc = self._parseWidth(corner, side, elements.content);\r\n\t\t\t\t\t\tbr = self._parseRadius(corner);\r\n\r\n\t\t\t\t\t\tposition[ side ] = Math.max(-self.border, i ? bc : userOffset + (br > b ? br : -b));\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// Adjust for tip size\r\n\t\t\t\tposition[ corner[precedance] ] -= size[ precedance === X ? 0 : 1 ];\r\n\r\n\t\t\t\t// Set and return new position\r\n\t\t\t\ttip.css({ margin: '', top: '', bottom: '', left: '', right: '' }).css(position);\r\n\t\t\t\treturn position;\r\n\t\t\t},\r\n\r\n\t\t\treposition: function(event, api, pos) {\r\n\t\t\t\tif(!this.enabled) { return; }\r\n\r\n\t\t\t\tvar cache = api.cache,\r\n\t\t\t\t\tnewCorner = this.corner.clone(),\r\n\t\t\t\t\tadjust = pos.adjusted,\r\n\t\t\t\t\tmethod = api.options.position.adjust.method.split(' '),\r\n\t\t\t\t\thorizontal = method[0],\r\n\t\t\t\t\tvertical = method[1] || method[0],\r\n\t\t\t\t\tshift = { left: FALSE, top: FALSE, x: 0, y: 0 },\r\n\t\t\t\t\toffset, css = {}, props;\r\n\r\n\t\t\t\tfunction shiftflip(direction, precedance, popposite, side, opposite) {\r\n\t\t\t\t\t// Horizontal - Shift or flip method\r\n\t\t\t\t\tif(direction === SHIFT && newCorner.precedance === precedance && adjust[side] && newCorner[popposite] !== CENTER) {\r\n\t\t\t\t\t\tnewCorner.precedance = newCorner.precedance === X ? Y : X;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(direction !== SHIFT && adjust[side]){\r\n\t\t\t\t\t\tnewCorner[precedance] = newCorner[precedance] === CENTER ?\r\n\t\t\t\t\t\t\tadjust[side] > 0 ? side : opposite :\r\n\t\t\t\t\t\t\tnewCorner[precedance] === side ? opposite : side;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfunction shiftonly(xy, side, opposite) {\r\n\t\t\t\t\tif(newCorner[xy] === CENTER) {\r\n\t\t\t\t\t\tcss[MARGIN+'-'+side] = shift[xy] = offset[MARGIN+'-'+side] - adjust[side];\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tprops = offset[opposite] !== undefined ?\r\n\t\t\t\t\t\t\t[ adjust[side], -offset[side] ] : [ -adjust[side], offset[side] ];\r\n\r\n\t\t\t\t\t\tif( (shift[xy] = Math.max(props[0], props[1])) > props[0] ) {\r\n\t\t\t\t\t\t\tpos[side] -= adjust[side];\r\n\t\t\t\t\t\t\tshift[side] = FALSE;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tcss[ offset[opposite] !== undefined ? opposite : side ] = shift[xy];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// If our tip position isn't fixed e.g. doesn't adjust with viewport...\r\n\t\t\t\tif(this.corner.fixed !== TRUE) {\r\n\t\t\t\t\t// Perform shift/flip adjustments\r\n\t\t\t\t\tshiftflip(horizontal, X, Y, LEFT, RIGHT);\r\n\t\t\t\t\tshiftflip(vertical, Y, X, TOP, BOTTOM);\r\n\r\n\t\t\t\t\t// Update and redraw the tip if needed (check cached details of last drawn tip)\r\n\t\t\t\t\tif(newCorner.string() !== cache.corner.string() || cache.cornerTop !== adjust.top || cache.cornerLeft !== adjust.left) {\r\n\t\t\t\t\t\tthis.update(newCorner, FALSE);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Setup tip offset properties\r\n\t\t\t\toffset = this.calculate(newCorner);\r\n\r\n\t\t\t\t// Readjust offset object to make it left/top\r\n\t\t\t\tif(offset.right !== undefined) { offset.left = -offset.right; }\r\n\t\t\t\tif(offset.bottom !== undefined) { offset.top = -offset.bottom; }\r\n\t\t\t\toffset.user = this.offset;\r\n\r\n\t\t\t\t// Perform shift adjustments\r\n\t\t\t\tshift.left = horizontal === SHIFT && !!adjust.left;\r\n\t\t\t\tif(shift.left) {\r\n\t\t\t\t\tshiftonly(X, LEFT, RIGHT);\r\n\t\t\t\t}\r\n\t\t\t\tshift.top = vertical === SHIFT && !!adjust.top;\r\n\t\t\t\tif(shift.top) {\r\n\t\t\t\t\tshiftonly(Y, TOP, BOTTOM);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t/*\r\n\t\t\t\t * If the tip is adjusted in both dimensions, or in a\r\n\t\t\t\t * direction that would cause it to be anywhere but the\r\n\t\t\t\t * outer border, hide it!\r\n\t\t\t\t */\r\n\t\t\t\tthis.element.css(css).toggle(\r\n\t\t\t\t\t!(shift.x && shift.y || newCorner.x === CENTER && shift.y || newCorner.y === CENTER && shift.x)\r\n\t\t\t\t);\r\n\r\n\t\t\t\t// Adjust position to accomodate tip dimensions\r\n\t\t\t\tpos.left -= offset.left.charAt ? offset.user :\r\n\t\t\t\t\thorizontal !== SHIFT || shift.top || !shift.left && !shift.top ? offset.left + this.border : 0;\r\n\t\t\t\tpos.top -= offset.top.charAt ? offset.user :\r\n\t\t\t\t\tvertical !== SHIFT || shift.left || !shift.left && !shift.top ? offset.top + this.border : 0;\r\n\r\n\t\t\t\t// Cache details\r\n\t\t\t\tcache.cornerLeft = adjust.left; cache.cornerTop = adjust.top;\r\n\t\t\t\tcache.corner = newCorner.clone();\r\n\t\t\t},\r\n\r\n\t\t\tdestroy: function() {\r\n\t\t\t\t// Unbind events\r\n\t\t\t\tthis.qtip._unbind(this.qtip.tooltip, this._ns);\r\n\r\n\t\t\t\t// Remove the tip element(s)\r\n\t\t\t\tif(this.qtip.elements.tip) {\r\n\t\t\t\t\tthis.qtip.elements.tip.find('*')\r\n\t\t\t\t\t\t.remove().end().remove();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tTIP = PLUGINS.tip = function(api) {\r\n\t\t\treturn new Tip(api, api.options.style.tip);\r\n\t\t};\r\n\r\n// Initialize tip on render\r\n\t\tTIP.initialize = 'render';\r\n\r\n// Setup plugin sanitization options\r\n\t\tTIP.sanitize = function(options) {\r\n\t\t\tif(options.style && 'tip' in options.style) {\r\n\t\t\t\tvar opts = options.style.tip;\r\n\t\t\t\tif(typeof opts !== 'object') { opts = options.style.tip = { corner: opts }; }\r\n\t\t\t\tif(!(/string|boolean/i).test(typeof opts.corner)) { opts.corner = TRUE; }\r\n\t\t\t}\r\n\t\t};\r\n\r\n// Add new option checks for the plugin\r\n\t\tCHECKS.tip = {\r\n\t\t\t'^position.my|style.tip.(corner|mimic|border)$': function() {\r\n\t\t\t\t// Make sure a tip can be drawn\r\n\t\t\t\tthis.create();\r\n\r\n\t\t\t\t// Reposition the tooltip\r\n\t\t\t\tthis.qtip.reposition();\r\n\t\t\t},\r\n\t\t\t'^style.tip.(height|width)$': function(obj) {\r\n\t\t\t\t// Re-set dimensions and redraw the tip\r\n\t\t\t\tthis.size = [ obj.width, obj.height ];\r\n\t\t\t\tthis.update();\r\n\r\n\t\t\t\t// Reposition the tooltip\r\n\t\t\t\tthis.qtip.reposition();\r\n\t\t\t},\r\n\t\t\t'^content.title|style.(classes|widget)$': function() {\r\n\t\t\t\tthis.update();\r\n\t\t\t}\r\n\t\t};\r\n\r\n// Extend original qTip defaults\r\n\t\t$.extend(TRUE, QTIP.defaults, {\r\n\t\t\tstyle: {\r\n\t\t\t\ttip: {\r\n\t\t\t\t\tcorner: TRUE,\r\n\t\t\t\t\tmimic: FALSE,\r\n\t\t\t\t\twidth: 6,\r\n\t\t\t\t\theight: 6,\r\n\t\t\t\t\tborder: TRUE,\r\n\t\t\t\t\toffset: 0\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t;var MODAL, OVERLAY,\r\n\t\t\tMODALCLASS = 'qtip-modal',\r\n\t\t\tMODALSELECTOR = '.'+MODALCLASS;\r\n\r\n\t\tOVERLAY = function()\r\n\t\t{\r\n\t\t\tvar self = this,\r\n\t\t\t\tfocusableElems = {},\r\n\t\t\t\tcurrent,\r\n\t\t\t\tprevState,\r\n\t\t\t\telem;\r\n\r\n\t\t\t// Modified code from jQuery UI 1.10.0 source\r\n\t\t\t// http://code.jquery.com/ui/1.10.0/jquery-ui.js\r\n\t\t\tfunction focusable(element) {\r\n\t\t\t\t// Use the defined focusable checker when possible\r\n\t\t\t\tif($.expr[':'].focusable) { return $.expr[':'].focusable; }\r\n\r\n\t\t\t\tvar isTabIndexNotNaN = !isNaN($.attr(element, 'tabindex')),\r\n\t\t\t\t\tnodeName = element.nodeName && element.nodeName.toLowerCase(),\r\n\t\t\t\t\tmap, mapName, img;\r\n\r\n\t\t\t\tif('area' === nodeName) {\r\n\t\t\t\t\tmap = element.parentNode;\r\n\t\t\t\t\tmapName = map.name;\r\n\t\t\t\t\tif(!element.href || !mapName || map.nodeName.toLowerCase() !== 'map') {\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\timg = $('img[usemap=#' + mapName + ']')[0];\r\n\t\t\t\t\treturn !!img && img.is(':visible');\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn /input|select|textarea|button|object/.test( nodeName ) ?\r\n\t\t\t\t\t!element.disabled :\r\n\t\t\t\t\t'a' === nodeName ?\r\n\t\t\t\t\telement.href || isTabIndexNotNaN :\r\n\t\t\t\t\t\tisTabIndexNotNaN\r\n\t\t\t\t\t;\r\n\t\t\t}\r\n\r\n\t\t\t// Focus inputs using cached focusable elements (see update())\r\n\t\t\tfunction focusInputs(blurElems) {\r\n\t\t\t\t// Blurring body element in IE causes window.open windows to unfocus!\r\n\t\t\t\tif(focusableElems.length < 1 && blurElems.length) { blurElems.not('body').blur(); }\r\n\r\n\t\t\t\t// Focus the inputs\r\n\t\t\t\telse { focusableElems.first().focus(); }\r\n\t\t\t}\r\n\r\n\t\t\t// Steal focus from elements outside tooltip\r\n\t\t\tfunction stealFocus(event) {\r\n\t\t\t\tif(!elem.is(':visible')) { return; }\r\n\r\n\t\t\t\tvar target = $(event.target),\r\n\t\t\t\t\ttooltip = current.tooltip,\r\n\t\t\t\t\tcontainer = target.closest(SELECTOR),\r\n\t\t\t\t\ttargetOnTop;\r\n\r\n\t\t\t\t// Determine if input container target is above this\r\n\t\t\t\ttargetOnTop = container.length < 1 ? FALSE :\r\n\t\t\t\tparseInt(container[0].style.zIndex, 10) > parseInt(tooltip[0].style.zIndex, 10);\r\n\r\n\t\t\t\t// If we're showing a modal, but focus has landed on an input below\r\n\t\t\t\t// this modal, divert focus to the first visible input in this modal\r\n\t\t\t\t// or if we can't find one... the tooltip itself\r\n\t\t\t\tif(!targetOnTop && target.closest(SELECTOR)[0] !== tooltip[0]) {\r\n\t\t\t\t\tfocusInputs(target);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t$.extend(self, {\r\n\t\t\t\tinit: function() {\r\n\t\t\t\t\t// Create document overlay\r\n\t\t\t\t\telem = self.elem = $('<div />', {\r\n\t\t\t\t\t\tid: 'qtip-overlay',\r\n\t\t\t\t\t\thtml: '<div></div>',\r\n\t\t\t\t\t\tmousedown: function() { return FALSE; }\r\n\t\t\t\t\t})\r\n\t\t\t\t\t\t.hide();\r\n\r\n\t\t\t\t\t// Make sure we can't focus anything outside the tooltip\r\n\t\t\t\t\t$(document.body).bind('focusin'+MODALSELECTOR, stealFocus);\r\n\r\n\t\t\t\t\t// Apply keyboard \"Escape key\" close handler\r\n\t\t\t\t\t$(document).bind('keydown'+MODALSELECTOR, function(event) {\r\n\t\t\t\t\t\tif(current && current.options.show.modal.escape && event.keyCode === 27) {\r\n\t\t\t\t\t\t\tcurrent.hide(event);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t// Apply click handler for blur option\r\n\t\t\t\t\telem.bind('click'+MODALSELECTOR, function(event) {\r\n\t\t\t\t\t\tif(current && current.options.show.modal.blur) {\r\n\t\t\t\t\t\t\tcurrent.hide(event);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\treturn self;\r\n\t\t\t\t},\r\n\r\n\t\t\t\tupdate: function(api) {\r\n\t\t\t\t\t// Update current API reference\r\n\t\t\t\t\tcurrent = api;\r\n\r\n\t\t\t\t\t// Update focusable elements if enabled\r\n\t\t\t\t\tif(api.options.show.modal.stealfocus !== FALSE) {\r\n\t\t\t\t\t\tfocusableElems = api.tooltip.find('*').filter(function() {\r\n\t\t\t\t\t\t\treturn focusable(this);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse { focusableElems = []; }\r\n\t\t\t\t},\r\n\r\n\t\t\t\ttoggle: function(api, state, duration) {\r\n\t\t\t\t\tvar tooltip = api.tooltip,\r\n\t\t\t\t\t\toptions = api.options.show.modal,\r\n\t\t\t\t\t\teffect = options.effect,\r\n\t\t\t\t\t\ttype = state ? 'show': 'hide',\r\n\t\t\t\t\t\tvisible = elem.is(':visible'),\r\n\t\t\t\t\t\tvisibleModals = $(MODALSELECTOR).filter(':visible:not(:animated)').not(tooltip);\r\n\r\n\t\t\t\t\t// Set active tooltip API reference\r\n\t\t\t\t\tself.update(api);\r\n\r\n\t\t\t\t\t// If the modal can steal the focus...\r\n\t\t\t\t\t// Blur the current item and focus anything in the modal we an\r\n\t\t\t\t\tif(state && options.stealfocus !== FALSE) {\r\n\t\t\t\t\t\tfocusInputs( $(':focus') );\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Toggle backdrop cursor style on show\r\n\t\t\t\t\telem.toggleClass('blurs', options.blur);\r\n\r\n\t\t\t\t\t// Append to body on show\r\n\t\t\t\t\tif(state) {\r\n\t\t\t\t\t\telem.appendTo(document.body);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Prevent modal from conflicting with show.solo, and don't hide backdrop is other modals are visible\r\n\t\t\t\t\tif(elem.is(':animated') && visible === state && prevState !== FALSE || !state && visibleModals.length) {\r\n\t\t\t\t\t\treturn self;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Stop all animations\r\n\t\t\t\t\telem.stop(TRUE, FALSE);\r\n\r\n\t\t\t\t\t// Use custom function if provided\r\n\t\t\t\t\tif($.isFunction(effect)) {\r\n\t\t\t\t\t\teffect.call(elem, state);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// If no effect type is supplied, use a simple toggle\r\n\t\t\t\t\telse if(effect === FALSE) {\r\n\t\t\t\t\t\telem[ type ]();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Use basic fade function\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\telem.fadeTo( parseInt(duration, 10) || 90, state ? 1 : 0, function() {\r\n\t\t\t\t\t\t\tif(!state) { elem.hide(); }\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Reset position and detach from body on hide\r\n\t\t\t\t\tif(!state) {\r\n\t\t\t\t\t\telem.queue(function(next) {\r\n\t\t\t\t\t\t\telem.css({ left: '', top: '' });\r\n\t\t\t\t\t\t\tif(!$(MODALSELECTOR).length) { elem.detach(); }\r\n\t\t\t\t\t\t\tnext();\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Cache the state\r\n\t\t\t\t\tprevState = state;\r\n\r\n\t\t\t\t\t// If the tooltip is destroyed, set reference to null\r\n\t\t\t\t\tif(current.destroyed) { current = NULL; }\r\n\r\n\t\t\t\t\treturn self;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tself.init();\r\n\t\t};\r\n\t\tOVERLAY = new OVERLAY();\r\n\r\n\t\tfunction Modal(api, options) {\r\n\t\t\tthis.options = options;\r\n\t\t\tthis._ns = '-modal';\r\n\r\n\t\t\tthis.qtip = api;\r\n\t\t\tthis.init(api);\r\n\t\t}\r\n\r\n\t\t$.extend(Modal.prototype, {\r\n\t\t\tinit: function(qtip) {\r\n\t\t\t\tvar tooltip = qtip.tooltip;\r\n\r\n\t\t\t\t// If modal is disabled... return\r\n\t\t\t\tif(!this.options.on) { return this; }\r\n\r\n\t\t\t\t// Set overlay reference\r\n\t\t\t\tqtip.elements.overlay = OVERLAY.elem;\r\n\r\n\t\t\t\t// Add unique attribute so we can grab modal tooltips easily via a SELECTOR, and set z-index\r\n\t\t\t\ttooltip.addClass(MODALCLASS).css('z-index', QTIP.modal_zindex + $(MODALSELECTOR).length);\r\n\r\n\t\t\t\t// Apply our show/hide/focus modal events\r\n\t\t\t\tqtip._bind(tooltip, ['tooltipshow', 'tooltiphide'], function(event, api, duration) {\r\n\t\t\t\t\tvar oEvent = event.originalEvent;\r\n\r\n\t\t\t\t\t// Make sure mouseout doesn't trigger a hide when showing the modal and mousing onto backdrop\r\n\t\t\t\t\tif(event.target === tooltip[0]) {\r\n\t\t\t\t\t\tif(oEvent && event.type === 'tooltiphide' && /mouse(leave|enter)/.test(oEvent.type) && $(oEvent.relatedTarget).closest(OVERLAY.elem[0]).length) {\r\n\t\t\t\t\t\t\t/* eslint-disable no-empty */\r\n\t\t\t\t\t\t\ttry { event.preventDefault(); }\r\n\t\t\t\t\t\t\tcatch(e) {}\r\n\t\t\t\t\t\t\t/* eslint-enable no-empty */\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if(!oEvent || oEvent && oEvent.type !== 'tooltipsolo') {\r\n\t\t\t\t\t\t\tthis.toggle(event, event.type === 'tooltipshow', duration);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}, this._ns, this);\r\n\r\n\t\t\t\t// Adjust modal z-index on tooltip focus\r\n\t\t\t\tqtip._bind(tooltip, 'tooltipfocus', function(event, api) {\r\n\t\t\t\t\t// If focus was cancelled before it reached us, don't do anything\r\n\t\t\t\t\tif(event.isDefaultPrevented() || event.target !== tooltip[0]) { return; }\r\n\r\n\t\t\t\t\tvar qtips = $(MODALSELECTOR),\r\n\r\n\t\t\t\t\t\t// Keep the modal's lower than other, regular qtips\r\n\t\t\t\t\t\tnewIndex = QTIP.modal_zindex + qtips.length,\r\n\t\t\t\t\t\tcurIndex = parseInt(tooltip[0].style.zIndex, 10);\r\n\r\n\t\t\t\t\t// Set overlay z-index\r\n\t\t\t\t\tOVERLAY.elem[0].style.zIndex = newIndex - 1;\r\n\r\n\t\t\t\t\t// Reduce modal z-index's and keep them properly ordered\r\n\t\t\t\t\tqtips.each(function() {\r\n\t\t\t\t\t\tif(this.style.zIndex > curIndex) {\r\n\t\t\t\t\t\t\tthis.style.zIndex -= 1;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t// Fire blur event for focused tooltip\r\n\t\t\t\t\tqtips.filter('.' + CLASS_FOCUS).qtip('blur', event.originalEvent);\r\n\r\n\t\t\t\t\t// Set the new z-index\r\n\t\t\t\t\ttooltip.addClass(CLASS_FOCUS)[0].style.zIndex = newIndex;\r\n\r\n\t\t\t\t\t// Set current\r\n\t\t\t\t\tOVERLAY.update(api);\r\n\r\n\t\t\t\t\t// Prevent default handling\r\n\t\t\t\t\t/* eslint-disable no-empty */\r\n\t\t\t\t\ttry { event.preventDefault(); }\r\n\t\t\t\t\tcatch(e) {}\r\n\t\t\t\t\t/* eslint-enable no-empty */\r\n\t\t\t\t}, this._ns, this);\r\n\r\n\t\t\t\t// Focus any other visible modals when this one hides\r\n\t\t\t\tqtip._bind(tooltip, 'tooltiphide', function(event) {\r\n\t\t\t\t\tif(event.target === tooltip[0]) {\r\n\t\t\t\t\t\t$(MODALSELECTOR).filter(':visible').not(tooltip).last().qtip('focus', event);\r\n\t\t\t\t\t}\r\n\t\t\t\t}, this._ns, this);\r\n\t\t\t},\r\n\r\n\t\t\ttoggle: function(event, state, duration) {\r\n\t\t\t\t// Make sure default event hasn't been prevented\r\n\t\t\t\tif(event && event.isDefaultPrevented()) { return this; }\r\n\r\n\t\t\t\t// Toggle it\r\n\t\t\t\tOVERLAY.toggle(this.qtip, !!state, duration);\r\n\t\t\t},\r\n\r\n\t\t\tdestroy: function() {\r\n\t\t\t\t// Remove modal class\r\n\t\t\t\tthis.qtip.tooltip.removeClass(MODALCLASS);\r\n\r\n\t\t\t\t// Remove bound events\r\n\t\t\t\tthis.qtip._unbind(this.qtip.tooltip, this._ns);\r\n\r\n\t\t\t\t// Delete element reference\r\n\t\t\t\tOVERLAY.toggle(this.qtip, FALSE);\r\n\t\t\t\tdelete this.qtip.elements.overlay;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\r\n\t\tMODAL = PLUGINS.modal = function(api) {\r\n\t\t\treturn new Modal(api, api.options.show.modal);\r\n\t\t};\r\n\r\n// Setup sanitiztion rules\r\n\t\tMODAL.sanitize = function(opts) {\r\n\t\t\tif(opts.show) {\r\n\t\t\t\tif(typeof opts.show.modal !== 'object') { opts.show.modal = { on: !!opts.show.modal }; }\r\n\t\t\t\telse if(typeof opts.show.modal.on === 'undefined') { opts.show.modal.on = TRUE; }\r\n\t\t\t}\r\n\t\t};\r\n\r\n// Base z-index for all modal tooltips (use qTip core z-index as a base)\r\n\t\t/* eslint-disable camelcase */\r\n\t\tQTIP.modal_zindex = QTIP.zindex - 200;\r\n\t\t/* eslint-enable camelcase */\r\n\r\n// Plugin needs to be initialized on render\r\n\t\tMODAL.initialize = 'render';\r\n\r\n// Setup option set checks\r\n\t\tCHECKS.modal = {\r\n\t\t\t'^show.modal.(on|blur)$': function() {\r\n\t\t\t\t// Initialise\r\n\t\t\t\tthis.destroy();\r\n\t\t\t\tthis.init();\r\n\r\n\t\t\t\t// Show the modal if not visible already and tooltip is visible\r\n\t\t\t\tthis.qtip.elems.overlay.toggle(\r\n\t\t\t\t\tthis.qtip.tooltip[0].offsetWidth > 0\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t};\r\n\r\n// Extend original api defaults\r\n\t\t$.extend(TRUE, QTIP.defaults, {\r\n\t\t\tshow: {\r\n\t\t\t\tmodal: {\r\n\t\t\t\t\ton: FALSE,\r\n\t\t\t\t\teffect: TRUE,\r\n\t\t\t\t\tblur: TRUE,\r\n\t\t\t\t\tstealfocus: TRUE,\r\n\t\t\t\t\tescape: TRUE\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t;PLUGINS.viewport = function(api, position, posOptions, targetWidth, targetHeight, elemWidth, elemHeight)\r\n\t\t{\r\n\t\t\tvar target = posOptions.target,\r\n\t\t\t\ttooltip = api.elements.tooltip,\r\n\t\t\t\tmy = posOptions.my,\r\n\t\t\t\tat = posOptions.at,\r\n\t\t\t\tadjust = posOptions.adjust,\r\n\t\t\t\tmethod = adjust.method.split(' '),\r\n\t\t\t\tmethodX = method[0],\r\n\t\t\t\tmethodY = method[1] || method[0],\r\n\t\t\t\tviewport = posOptions.viewport,\r\n\t\t\t\tcontainer = posOptions.container,\r\n\t\t\t\tadjusted = { left: 0, top: 0 },\r\n\t\t\t\tfixed, newMy, containerOffset, containerStatic,\r\n\t\t\t\tviewportWidth, viewportHeight, viewportScroll, viewportOffset;\r\n\r\n\t\t\t// If viewport is not a jQuery element, or it's the window/document, or no adjustment method is used... return\r\n\t\t\tif(!viewport.jquery || target[0] === window || target[0] === document.body || adjust.method === 'none') {\r\n\t\t\t\treturn adjusted;\r\n\t\t\t}\r\n\r\n\t\t\t// Cach container details\r\n\t\t\tcontainerOffset = container.offset() || adjusted;\r\n\t\t\tcontainerStatic = container.css('position') === 'static';\r\n\r\n\t\t\t// Cache our viewport details\r\n\t\t\tfixed = tooltip.css('position') === 'fixed';\r\n\t\t\tviewportWidth = viewport[0] === window ? viewport.width() : viewport.outerWidth(FALSE);\r\n\t\t\tviewportHeight = viewport[0] === window ? viewport.height() : viewport.outerHeight(FALSE);\r\n\t\t\tviewportScroll = { left: fixed ? 0 : viewport.scrollLeft(), top: fixed ? 0 : viewport.scrollTop() };\r\n\t\t\tviewportOffset = viewport.offset() || adjusted;\r\n\r\n\t\t\t// Generic calculation method\r\n\t\t\tfunction calculate(side, otherSide, type, adjustment, side1, side2, lengthName, targetLength, elemLength) {\r\n\t\t\t\tvar initialPos = position[side1],\r\n\t\t\t\t\tmySide = my[side],\r\n\t\t\t\t\tatSide = at[side],\r\n\t\t\t\t\tisShift = type === SHIFT,\r\n\t\t\t\t\tmyLength = mySide === side1 ? elemLength : mySide === side2 ? -elemLength : -elemLength / 2,\r\n\t\t\t\t\tatLength = atSide === side1 ? targetLength : atSide === side2 ? -targetLength : -targetLength / 2,\r\n\t\t\t\t\tsideOffset = viewportScroll[side1] + viewportOffset[side1] - (containerStatic ? 0 : containerOffset[side1]),\r\n\t\t\t\t\toverflow1 = sideOffset - initialPos,\r\n\t\t\t\t\toverflow2 = initialPos + elemLength - (lengthName === WIDTH ? viewportWidth : viewportHeight) - sideOffset,\r\n\t\t\t\t\toffset = myLength - (my.precedance === side || mySide === my[otherSide] ? atLength : 0) - (atSide === CENTER ? targetLength / 2 : 0);\r\n\r\n\t\t\t\t// shift\r\n\t\t\t\tif(isShift) {\r\n\t\t\t\t\toffset = (mySide === side1 ? 1 : -1) * myLength;\r\n\r\n\t\t\t\t\t// Adjust position but keep it within viewport dimensions\r\n\t\t\t\t\tposition[side1] += overflow1 > 0 ? overflow1 : overflow2 > 0 ? -overflow2 : 0;\r\n\t\t\t\t\tposition[side1] = Math.max(\r\n\t\t\t\t\t\t-containerOffset[side1] + viewportOffset[side1],\r\n\t\t\t\t\t\tinitialPos - offset,\r\n\t\t\t\t\t\tMath.min(\r\n\t\t\t\t\t\t\tMath.max(\r\n\t\t\t\t\t\t\t\t-containerOffset[side1] + viewportOffset[side1] + (lengthName === WIDTH ? viewportWidth : viewportHeight),\r\n\t\t\t\t\t\t\t\tinitialPos + offset\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\tposition[side1],\r\n\r\n\t\t\t\t\t\t\t// Make sure we don't adjust complete off the element when using 'center'\r\n\t\t\t\t\t\t\tmySide === 'center' ? initialPos - myLength : 1E9\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// flip/flipinvert\r\n\t\t\t\telse {\r\n\t\t\t\t\t// Update adjustment amount depending on if using flipinvert or flip\r\n\t\t\t\t\tadjustment *= type === FLIPINVERT ? 2 : 0;\r\n\r\n\t\t\t\t\t// Check for overflow on the left/top\r\n\t\t\t\t\tif(overflow1 > 0 && (mySide !== side1 || overflow2 > 0)) {\r\n\t\t\t\t\t\tposition[side1] -= offset + adjustment;\r\n\t\t\t\t\t\tnewMy.invert(side, side1);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Check for overflow on the bottom/right\r\n\t\t\t\t\telse if(overflow2 > 0 && (mySide !== side2 || overflow1 > 0)  ) {\r\n\t\t\t\t\t\tposition[side1] -= (mySide === CENTER ? -offset : offset) + adjustment;\r\n\t\t\t\t\t\tnewMy.invert(side, side2);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Make sure we haven't made things worse with the adjustment and reset if so\r\n\t\t\t\t\tif(position[side1] < viewportScroll[side1] && -position[side1] > overflow2) {\r\n\t\t\t\t\t\tposition[side1] = initialPos; newMy = my.clone();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn position[side1] - initialPos;\r\n\t\t\t}\r\n\r\n\t\t\t// Set newMy if using flip or flipinvert methods\r\n\t\t\tif(methodX !== 'shift' || methodY !== 'shift') { newMy = my.clone(); }\r\n\r\n\t\t\t// Adjust position based onviewport and adjustment options\r\n\t\t\tadjusted = {\r\n\t\t\t\tleft: methodX !== 'none' ? calculate( X, Y, methodX, adjust.x, LEFT, RIGHT, WIDTH, targetWidth, elemWidth ) : 0,\r\n\t\t\t\ttop: methodY !== 'none' ? calculate( Y, X, methodY, adjust.y, TOP, BOTTOM, HEIGHT, targetHeight, elemHeight ) : 0,\r\n\t\t\t\tmy: newMy\r\n\t\t\t};\r\n\r\n\t\t\treturn adjusted;\r\n\t\t};\r\n\t\t;PLUGINS.polys = {\r\n\t\t\t// POLY area coordinate calculator\r\n\t\t\t//\tSpecial thanks to Ed Cradock for helping out with this.\r\n\t\t\t//\tUses a binary search algorithm to find suitable coordinates.\r\n\t\t\tpolygon: function(baseCoords, corner) {\r\n\t\t\t\tvar result = {\r\n\t\t\t\t\t\twidth: 0, height: 0,\r\n\t\t\t\t\t\tposition: {\r\n\t\t\t\t\t\t\ttop: 1e10, right: 0,\r\n\t\t\t\t\t\t\tbottom: 0, left: 1e10\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tadjustable: FALSE\r\n\t\t\t\t\t},\r\n\t\t\t\t\ti = 0, next,\r\n\t\t\t\t\tcoords = [],\r\n\t\t\t\t\tcompareX = 1, compareY = 1,\r\n\t\t\t\t\trealX = 0, realY = 0,\r\n\t\t\t\t\tnewWidth, newHeight;\r\n\r\n\t\t\t\t// First pass, sanitize coords and determine outer edges\r\n\t\t\t\ti = baseCoords.length;\r\n\t\t\t\twhile(i--) {\r\n\t\t\t\t\tnext = [ parseInt(baseCoords[--i], 10), parseInt(baseCoords[i+1], 10) ];\r\n\r\n\t\t\t\t\tif(next[0] > result.position.right){ result.position.right = next[0]; }\r\n\t\t\t\t\tif(next[0] < result.position.left){ result.position.left = next[0]; }\r\n\t\t\t\t\tif(next[1] > result.position.bottom){ result.position.bottom = next[1]; }\r\n\t\t\t\t\tif(next[1] < result.position.top){ result.position.top = next[1]; }\r\n\r\n\t\t\t\t\tcoords.push(next);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Calculate height and width from outer edges\r\n\t\t\t\tnewWidth = result.width = Math.abs(result.position.right - result.position.left);\r\n\t\t\t\tnewHeight = result.height = Math.abs(result.position.bottom - result.position.top);\r\n\r\n\t\t\t\t// If it's the center corner...\r\n\t\t\t\tif(corner.abbrev() === 'c') {\r\n\t\t\t\t\tresult.position = {\r\n\t\t\t\t\t\tleft: result.position.left + result.width / 2,\r\n\t\t\t\t\t\ttop: result.position.top + result.height / 2\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\t// Second pass, use a binary search algorithm to locate most suitable coordinate\r\n\t\t\t\t\twhile(newWidth > 0 && newHeight > 0 && compareX > 0 && compareY > 0)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tnewWidth = Math.floor(newWidth / 2);\r\n\t\t\t\t\t\tnewHeight = Math.floor(newHeight / 2);\r\n\r\n\t\t\t\t\t\tif(corner.x === LEFT){ compareX = newWidth; }\r\n\t\t\t\t\t\telse if(corner.x === RIGHT){ compareX = result.width - newWidth; }\r\n\t\t\t\t\t\telse{ compareX += Math.floor(newWidth / 2); }\r\n\r\n\t\t\t\t\t\tif(corner.y === TOP){ compareY = newHeight; }\r\n\t\t\t\t\t\telse if(corner.y === BOTTOM){ compareY = result.height - newHeight; }\r\n\t\t\t\t\t\telse{ compareY += Math.floor(newHeight / 2); }\r\n\r\n\t\t\t\t\t\ti = coords.length;\r\n\t\t\t\t\t\twhile(i--)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tif(coords.length < 2){ break; }\r\n\r\n\t\t\t\t\t\t\trealX = coords[i][0] - result.position.left;\r\n\t\t\t\t\t\t\trealY = coords[i][1] - result.position.top;\r\n\r\n\t\t\t\t\t\t\tif(\r\n\t\t\t\t\t\t\t\tcorner.x === LEFT && realX >= compareX ||\r\n\t\t\t\t\t\t\t\tcorner.x === RIGHT && realX <= compareX ||\r\n\t\t\t\t\t\t\t\tcorner.x === CENTER && (realX < compareX || realX > result.width - compareX) ||\r\n\t\t\t\t\t\t\t\tcorner.y === TOP && realY >= compareY ||\r\n\t\t\t\t\t\t\t\tcorner.y === BOTTOM && realY <= compareY ||\r\n\t\t\t\t\t\t\t\tcorner.y === CENTER && (realY < compareY || realY > result.height - compareY)) {\r\n\t\t\t\t\t\t\t\tcoords.splice(i, 1);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tresult.position = { left: coords[0][0], top: coords[0][1] };\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn result;\r\n\t\t\t},\r\n\r\n\t\t\trect: function(ax, ay, bx, by) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\twidth: Math.abs(bx - ax),\r\n\t\t\t\t\theight: Math.abs(by - ay),\r\n\t\t\t\t\tposition: {\r\n\t\t\t\t\t\tleft: Math.min(ax, bx),\r\n\t\t\t\t\t\ttop: Math.min(ay, by)\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t},\r\n\r\n\t\t\t_angles: {\r\n\t\t\t\ttc: 3 / 2, tr: 7 / 4, tl: 5 / 4,\r\n\t\t\t\tbc: 1 / 2, br: 1 / 4, bl: 3 / 4,\r\n\t\t\t\trc: 2, lc: 1, c: 0\r\n\t\t\t},\r\n\t\t\tellipse: function(cx, cy, rx, ry, corner) {\r\n\t\t\t\tvar c = PLUGINS.polys._angles[ corner.abbrev() ],\r\n\t\t\t\t\trxc = c === 0 ? 0 : rx * Math.cos( c * Math.PI ),\r\n\t\t\t\t\trys = ry * Math.sin( c * Math.PI );\r\n\r\n\t\t\t\treturn {\r\n\t\t\t\t\twidth: rx * 2 - Math.abs(rxc),\r\n\t\t\t\t\theight: ry * 2 - Math.abs(rys),\r\n\t\t\t\t\tposition: {\r\n\t\t\t\t\t\tleft: cx + rxc,\r\n\t\t\t\t\t\ttop: cy + rys\r\n\t\t\t\t\t},\r\n\t\t\t\t\tadjustable: FALSE\r\n\t\t\t\t};\r\n\t\t\t},\r\n\t\t\tcircle: function(cx, cy, r, corner) {\r\n\t\t\t\treturn PLUGINS.polys.ellipse(cx, cy, r, r, corner);\r\n\t\t\t}\r\n\t\t};\r\n\t\t;PLUGINS.svg = function(api, svg, corner)\r\n\t\t{\r\n\t\t\tvar elem = svg[0],\r\n\t\t\t\troot = $(elem.ownerSVGElement),\r\n\t\t\t\townerDocument = elem.ownerDocument,\r\n\t\t\t\tstrokeWidth2 = (parseInt(svg.css('stroke-width'), 10) || 0) / 2,\r\n\t\t\t\tframeOffset, mtx, transformed,\r\n\t\t\t\tlen, next, i, points,\r\n\t\t\t\tresult, position;\r\n\r\n\t\t\t// Ascend the parentNode chain until we find an element with getBBox()\r\n\t\t\twhile(!elem.getBBox) { elem = elem.parentNode; }\r\n\t\t\tif(!elem.getBBox || !elem.parentNode) { return FALSE; }\r\n\r\n\t\t\t// Determine which shape calculation to use\r\n\t\t\tswitch(elem.nodeName) {\r\n\t\t\t\tcase 'ellipse':\r\n\t\t\t\tcase 'circle':\r\n\t\t\t\t\tresult = PLUGINS.polys.ellipse(\r\n\t\t\t\t\t\telem.cx.baseVal.value,\r\n\t\t\t\t\t\telem.cy.baseVal.value,\r\n\t\t\t\t\t\t(elem.rx || elem.r).baseVal.value + strokeWidth2,\r\n\t\t\t\t\t\t(elem.ry || elem.r).baseVal.value + strokeWidth2,\r\n\t\t\t\t\t\tcorner\r\n\t\t\t\t\t);\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'line':\r\n\t\t\t\tcase 'polygon':\r\n\t\t\t\tcase 'polyline':\r\n\t\t\t\t\t// Determine points object (line has none, so mimic using array)\r\n\t\t\t\t\tpoints = elem.points || [\r\n\t\t\t\t\t\t\t{ x: elem.x1.baseVal.value, y: elem.y1.baseVal.value },\r\n\t\t\t\t\t\t\t{ x: elem.x2.baseVal.value, y: elem.y2.baseVal.value }\r\n\t\t\t\t\t\t];\r\n\r\n\t\t\t\t\tfor(result = [], i = -1, len = points.numberOfItems || points.length; ++i < len;) {\r\n\t\t\t\t\t\tnext = points.getItem ? points.getItem(i) : points[i];\r\n\t\t\t\t\t\tresult.push.apply(result, [next.x, next.y]);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tresult = PLUGINS.polys.polygon(result, corner);\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t// Unknown shape or rectangle? Use bounding box\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tresult = elem.getBBox();\r\n\t\t\t\t\tresult = {\r\n\t\t\t\t\t\twidth: result.width,\r\n\t\t\t\t\t\theight: result.height,\r\n\t\t\t\t\t\tposition: {\r\n\t\t\t\t\t\t\tleft: result.x,\r\n\t\t\t\t\t\t\ttop: result.y\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\t// Shortcut assignments\r\n\t\t\tposition = result.position;\r\n\t\t\troot = root[0];\r\n\r\n\t\t\t// Convert position into a pixel value\r\n\t\t\tif(root.createSVGPoint) {\r\n\t\t\t\tmtx = elem.getScreenCTM();\r\n\t\t\t\tpoints = root.createSVGPoint();\r\n\r\n\t\t\t\tpoints.x = position.left;\r\n\t\t\t\tpoints.y = position.top;\r\n\t\t\t\ttransformed = points.matrixTransform( mtx );\r\n\t\t\t\tposition.left = transformed.x;\r\n\t\t\t\tposition.top = transformed.y;\r\n\t\t\t}\r\n\r\n\t\t\t// Check the element is not in a child document, and if so, adjust for frame elements offset\r\n\t\t\tif(ownerDocument !== document && api.position.target !== 'mouse') {\r\n\t\t\t\tframeOffset = $((ownerDocument.defaultView || ownerDocument.parentWindow).frameElement).offset();\r\n\t\t\t\tif(frameOffset) {\r\n\t\t\t\t\tposition.left += frameOffset.left;\r\n\t\t\t\t\tposition.top += frameOffset.top;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Adjust by scroll offset of owner document\r\n\t\t\townerDocument = $(ownerDocument);\r\n\t\t\tposition.left += ownerDocument.scrollLeft();\r\n\t\t\tposition.top += ownerDocument.scrollTop();\r\n\r\n\t\t\treturn result;\r\n\t\t};\r\n\t\t;PLUGINS.imagemap = function(api, area, corner)\r\n\t\t{\r\n\t\t\tif(!area.jquery) { area = $(area); }\r\n\r\n\t\t\tvar shape = (area.attr('shape') || 'rect').toLowerCase().replace('poly', 'polygon'),\r\n\t\t\t\timage = $('img[usemap=\"#'+area.parent('map').attr('name')+'\"]'),\r\n\t\t\t\tcoordsString = $.trim(area.attr('coords')),\r\n\t\t\t\tcoordsArray = coordsString.replace(/,$/, '').split(','),\r\n\t\t\t\timageOffset, coords, i, result, len;\r\n\r\n\t\t\t// If we can't find the image using the map...\r\n\t\t\tif(!image.length) { return FALSE; }\r\n\r\n\t\t\t// Pass coordinates string if polygon\r\n\t\t\tif(shape === 'polygon') {\r\n\t\t\t\tresult = PLUGINS.polys.polygon(coordsArray, corner);\r\n\t\t\t}\r\n\r\n\t\t\t// Otherwise parse the coordinates and pass them as arguments\r\n\t\t\telse if(PLUGINS.polys[shape]) {\r\n\t\t\t\tfor(i = -1, len = coordsArray.length, coords = []; ++i < len;) {\r\n\t\t\t\t\tcoords.push( parseInt(coordsArray[i], 10) );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tresult = PLUGINS.polys[shape].apply(\r\n\t\t\t\t\tthis, coords.concat(corner)\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\t// If no shapre calculation method was found, return false\r\n\t\t\telse { return FALSE; }\r\n\r\n\t\t\t// Make sure we account for padding and borders on the image\r\n\t\t\timageOffset = image.offset();\r\n\t\t\timageOffset.left += Math.ceil((image.outerWidth(FALSE) - image.width()) / 2);\r\n\t\t\timageOffset.top += Math.ceil((image.outerHeight(FALSE) - image.height()) / 2);\r\n\r\n\t\t\t// Add image position to offset coordinates\r\n\t\t\tresult.position.left += imageOffset.left;\r\n\t\t\tresult.position.top += imageOffset.top;\r\n\r\n\t\t\treturn result;\r\n\t\t};\r\n\t\t;var IE6,\r\n\r\n\t\t\t/*\r\n\t\t\t * BGIFrame adaption (http://plugins.jquery.com/project/bgiframe)\r\n\t\t\t * Special thanks to Brandon Aaron\r\n\t\t\t */\r\n\t\t\tBGIFRAME = '<iframe class=\"qtip-bgiframe\" frameborder=\"0\" tabindex=\"-1\" src=\"javascript:\\'\\';\" ' +\r\n\t\t\t\t' style=\"display:block; position:absolute; z-index:-1; filter:alpha(opacity=0); ' +\r\n\t\t\t\t'-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)\";\"></iframe>';\r\n\r\n\t\tfunction Ie6(api) {\r\n\t\t\tthis._ns = 'ie6';\r\n\r\n\t\t\tthis.qtip = api;\r\n\t\t\tthis.init(api);\r\n\t\t}\r\n\r\n\t\t$.extend(Ie6.prototype, {\r\n\t\t\t_scroll : function() {\r\n\t\t\t\tvar overlay = this.qtip.elements.overlay;\r\n\t\t\t\toverlay && (overlay[0].style.top = $(window).scrollTop() + 'px');\r\n\t\t\t},\r\n\r\n\t\t\tinit: function(qtip) {\r\n\t\t\t\tvar tooltip = qtip.tooltip;\r\n\r\n\t\t\t\t// Create the BGIFrame element if needed\r\n\t\t\t\tif($('select, object').length < 1) {\r\n\t\t\t\t\tthis.bgiframe = qtip.elements.bgiframe = $(BGIFRAME).appendTo(tooltip);\r\n\r\n\t\t\t\t\t// Update BGIFrame on tooltip move\r\n\t\t\t\t\tqtip._bind(tooltip, 'tooltipmove', this.adjustBGIFrame, this._ns, this);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// redraw() container for width/height calculations\r\n\t\t\t\tthis.redrawContainer = $('<div/>', { id: NAMESPACE+'-rcontainer' })\r\n\t\t\t\t\t.appendTo(document.body);\r\n\r\n\t\t\t\t// Fixup modal plugin if present too\r\n\t\t\t\tif( qtip.elements.overlay && qtip.elements.overlay.addClass('qtipmodal-ie6fix') ) {\r\n\t\t\t\t\tqtip._bind(window, ['scroll', 'resize'], this._scroll, this._ns, this);\r\n\t\t\t\t\tqtip._bind(tooltip, ['tooltipshow'], this._scroll, this._ns, this);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Set dimensions\r\n\t\t\t\tthis.redraw();\r\n\t\t\t},\r\n\r\n\t\t\tadjustBGIFrame: function() {\r\n\t\t\t\tvar tooltip = this.qtip.tooltip,\r\n\t\t\t\t\tdimensions = {\r\n\t\t\t\t\t\theight: tooltip.outerHeight(FALSE),\r\n\t\t\t\t\t\twidth: tooltip.outerWidth(FALSE)\r\n\t\t\t\t\t},\r\n\t\t\t\t\tplugin = this.qtip.plugins.tip,\r\n\t\t\t\t\ttip = this.qtip.elements.tip,\r\n\t\t\t\t\ttipAdjust, offset;\r\n\r\n\t\t\t\t// Adjust border offset\r\n\t\t\t\toffset = parseInt(tooltip.css('borderLeftWidth'), 10) || 0;\r\n\t\t\t\toffset = { left: -offset, top: -offset };\r\n\r\n\t\t\t\t// Adjust for tips plugin\r\n\t\t\t\tif(plugin && tip) {\r\n\t\t\t\t\ttipAdjust = plugin.corner.precedance === 'x' ? [WIDTH, LEFT] : [HEIGHT, TOP];\r\n\t\t\t\t\toffset[ tipAdjust[1] ] -= tip[ tipAdjust[0] ]();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Update bgiframe\r\n\t\t\t\tthis.bgiframe.css(offset).css(dimensions);\r\n\t\t\t},\r\n\r\n\t\t\t// Max/min width simulator function\r\n\t\t\tredraw: function() {\r\n\t\t\t\tif(this.qtip.rendered < 1 || this.drawing) { return this; }\r\n\r\n\t\t\t\tvar tooltip = this.qtip.tooltip,\r\n\t\t\t\t\tstyle = this.qtip.options.style,\r\n\t\t\t\t\tcontainer = this.qtip.options.position.container,\r\n\t\t\t\t\tperc, width, max, min;\r\n\r\n\t\t\t\t// Set drawing flag\r\n\t\t\t\tthis.qtip.drawing = 1;\r\n\r\n\t\t\t\t// If tooltip has a set height/width, just set it... like a boss!\r\n\t\t\t\tif(style.height) { tooltip.css(HEIGHT, style.height); }\r\n\t\t\t\tif(style.width) { tooltip.css(WIDTH, style.width); }\r\n\r\n\t\t\t\t// Simulate max/min width if not set width present...\r\n\t\t\t\telse {\r\n\t\t\t\t\t// Reset width and add fluid class\r\n\t\t\t\t\ttooltip.css(WIDTH, '').appendTo(this.redrawContainer);\r\n\r\n\t\t\t\t\t// Grab our tooltip width (add 1 if odd so we don't get wrapping problems.. huzzah!)\r\n\t\t\t\t\twidth = tooltip.width();\r\n\t\t\t\t\tif(width % 2 < 1) { width += 1; }\r\n\r\n\t\t\t\t\t// Grab our max/min properties\r\n\t\t\t\t\tmax = tooltip.css('maxWidth') || '';\r\n\t\t\t\t\tmin = tooltip.css('minWidth') || '';\r\n\r\n\t\t\t\t\t// Parse into proper pixel values\r\n\t\t\t\t\tperc = (max + min).indexOf('%') > -1 ? container.width() / 100 : 0;\r\n\t\t\t\t\tmax = (max.indexOf('%') > -1 ? perc : 1 * parseInt(max, 10)) || width;\r\n\t\t\t\t\tmin = (min.indexOf('%') > -1 ? perc : 1 * parseInt(min, 10)) || 0;\r\n\r\n\t\t\t\t\t// Determine new dimension size based on max/min/current values\r\n\t\t\t\t\twidth = max + min ? Math.min(Math.max(width, min), max) : width;\r\n\r\n\t\t\t\t\t// Set the newly calculated width and remvoe fluid class\r\n\t\t\t\t\ttooltip.css(WIDTH, Math.round(width)).appendTo(container);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Set drawing flag\r\n\t\t\t\tthis.drawing = 0;\r\n\r\n\t\t\t\treturn this;\r\n\t\t\t},\r\n\r\n\t\t\tdestroy: function() {\r\n\t\t\t\t// Remove iframe\r\n\t\t\t\tthis.bgiframe && this.bgiframe.remove();\r\n\r\n\t\t\t\t// Remove bound events\r\n\t\t\t\tthis.qtip._unbind([window, this.qtip.tooltip], this._ns);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tIE6 = PLUGINS.ie6 = function(api) {\r\n\t\t\t// Proceed only if the browser is IE6\r\n\t\t\treturn BROWSER.ie === 6 ? new Ie6(api) : FALSE;\r\n\t\t};\r\n\r\n\t\tIE6.initialize = 'render';\r\n\r\n\t\tCHECKS.ie6 = {\r\n\t\t\t'^content|style$': function() {\r\n\t\t\t\tthis.redraw();\r\n\t\t\t}\r\n\t\t};\r\n\t\t;}));\r\n}( window, document ));\r\n\n","/**\r\n * This program is free software; you can redistribute it and/or\r\n * modify it under the terms of the GNU General Public License\r\n * as published by the Free Software Foundation; under version 2\r\n * of the License (non-upgradable).\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n * GNU General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU General Public License\r\n * along with this program; if not, write to the Free Software\r\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\r\n *\r\n * Copyright (c) 2017 (original work) Open Assessment Technologies SA;\r\n */\r\n/**\r\n * @author Christophe Noël <christophe@taotesting.com>\r\n */\r\ndefine('taoQtiItem/portableLib/OAT/util/tooltip',[\r\n    'taoQtiItem/portableLib/jquery_2_1_1',\r\n    'taoQtiItem/portableLib/jquery.qtip'\r\n], function($) {\r\n    'use strict';\r\n\r\n    return {\r\n        render: function render($container) {\r\n            $container.find('[data-role=\"tooltip-target\"]').each(function(){\r\n                var $target = $(this),\r\n                    $content,\r\n                    contentId = $target.attr('aria-describedBy'),\r\n                    contentHtml;\r\n\r\n                if (contentId) {\r\n                    $content = $container.find('#' + contentId);\r\n                    if ($content.length) {\r\n                        contentHtml = $content.html();\r\n\r\n                        $target.qtip({\r\n                            overwrite: true,\r\n                            theme: 'default',\r\n                            content: {\r\n                                text: contentHtml\r\n                            },\r\n                            position: {\r\n                                target: 'event',\r\n                                my: 'bottom center',\r\n                                at: 'top center'\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    };\r\n});\n","/**\r\n * This program is free software; you can redistribute it and/or\r\n * modify it under the terms of the GNU General Public License\r\n * as published by the Free Software Foundation; under version 2\r\n * of the License (non-upgradable).\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n * GNU General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU General Public License\r\n * along with this program; if not, write to the Free Software\r\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\r\n *\r\n * Copyright (c) 2017 (original work) Open Assessment Technologies SA;\r\n */\r\ndefine('taoQtiItem/portableLib/OAT/util/html',[\r\n    'taoQtiItem/portableLib/OAT/util/xml',\r\n    'taoQtiItem/portableLib/OAT/util/math',\r\n    'taoQtiItem/portableLib/OAT/util/tooltip'\r\n], function(xml, math, tooltip){\r\n    'use strict';\r\n\r\n    return {\r\n        render : function render($container){\r\n            var markup = $container.html();\r\n\r\n            //remove xml ns (would break jquery selector otherwise)\r\n            markup = xml.removeNamespace(markup);\r\n            $container.html(markup);\r\n\r\n            //render math\r\n            math.render($container);\r\n\r\n            //render tooltip\r\n            tooltip.render($container);\r\n        }\r\n    };\r\n});\n","/*  Snap a programming environment\r\n    based on morphic.js, blocks.js, threads.js and objects.js\r\n    inspired by Scratch\r\n\r\n    written by Jens Mönig\r\n    jens@moenig.org\r\n\r\n    Copyright (C) 2017 by Jens Mönig\r\n\r\n    This file is bundel version of Snap build as a part of a PCI for TAO plateform.\r\n\r\n    Snap! is free software: you can redistribute it and/or modify\r\n    it under the terms of the GNU Affero General Public License as\r\n    published by the Free Software Foundation, either version 3 of\r\n    the License, or (at your option) any later version.\r\n\r\n    This program is distributed in the hope that it will be useful,\r\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n    GNU Affero General Public License for more details.\r\n\r\n    You should have received a copy of the GNU Affero General Public License\r\n    along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n     \r\n    modified by Jean-Philippe Rivière - Wiquid for TAO - 2018\r\n\r\n    */\r\n\r\ndefine('SnapForTao/runtime/js/lib/snapsrc',[], function(){\r\n    'use strict';\r\n\r\n    //************ Wiquid ************************\r\n\r\n    var panel_Left, stageSaver, worldwatcher;\r\n    var attemptLimit =0; // for try counter\r\n    var snapsrc = {}; // snapsrc global object\r\n    \r\n   \r\n\r\n   \r\n\r\n    snapsrc.snap = function(id, $container, config){\r\n    //*****************************************\r\n    \t// Global stuff\r\n\t\tvar Localizer;\r\n        var SnapTranslator = new Localizer();\r\n        var importString = \"\";\r\n        var getSnapProjectScript =\"scriptPlaceHolder\";\r\n                \r\n        if(config.snapScript==\"shield\"){importString=\"\";}\r\n        else{ importString = config.snapScript; \r\n        }\r\n\r\n\r\n\t\tfunction localize(string) {\r\n\t\t    return SnapTranslator.translate(string);\r\n\r\n\t\t}\r\n\r\n\t\tfunction Localizer(language, dict) {\r\n\t\t this.language = language || 'en';\r\n    \t this.dict = dict || {};\r\n        }\r\n\r\nLocalizer.prototype.translate = function (string) {\r\n    return Object.prototype.hasOwnProperty.call(\r\n        this.dict[this.language],\r\n        string\r\n    ) ? this.dict[this.language][string] : string;\r\n};\r\n\r\nLocalizer.prototype.languages = function () {\r\n    var property, arr = [];\r\n    for (property in this.dict) {\r\n        if (Object.prototype.hasOwnProperty.call(this.dict, property)) {\r\n            arr.push(property);\r\n        }\r\n    }\r\n    return arr.sort();\r\n};\r\n\r\nLocalizer.prototype.languageName = function (lang) {\r\n    return this.dict[lang].language_name || lang;\r\n};\r\n\r\nLocalizer.prototype.credits = function () {\r\n    var txt = '',\r\n        myself = this;\r\n    this.languages().forEach(function (lang) {\r\n        txt = txt + '\\n'\r\n            + myself.languageName(lang)\r\n            + ' (' + lang + ') - '\r\n            + myself.dict[lang].language_translator\r\n            + ' - ' + myself.dict[lang].last_changed;\r\n    });\r\n    return txt;\r\n};\r\n\r\nLocalizer.prototype.unload = function () {\r\n    var dict,\r\n        keep = ['language_name', 'language_translator', 'last_changed'],\r\n        myself = this;\r\n    this.languages().forEach(function (lang) {\r\n        var key;\r\n        if (lang !== 'en') {\r\n            dict = myself.dict[lang];\r\n            for (key in dict) {\r\n                if (Object.prototype.hasOwnProperty.call(dict, key)\r\n                        && !contains(keep, key)) {\r\n                    delete dict[key];\r\n                }\r\n            }\r\n        }\r\n    });\r\n};\r\n\r\n// SnapTranslator initialization\r\n\r\nSnapTranslator.dict.en = {\r\n    // meta information\r\n    'language_name':\r\n        'English',\r\n    'language_translator':\r\n        'Jens M\\u00F6nig',\r\n    'translator_e-mail':\r\n        'jens@moenig.org',\r\n    'last_changed':\r\n        '2015-12-22',\r\n\r\n    // rewordings in English avoiding having to adjust all other translations\r\n    'any':\r\n        'random',\r\n\r\n    // long strings look-up only\r\n    'file menu import hint':\r\n        'load an exported project file\\nor block library, a costume\\n'\r\n            + 'or a sound',\r\n    'settings menu prefer empty slots hint':\r\n        'check to focus on empty slots\\nwhen dragging & '\r\n                + 'dropping reporters',\r\n    'costumes tab help':\r\n        'import a picture from another web page or from\\n'\r\n            + 'a file on your computer by dropping it here\\n',\r\n    'block deletion dialog text':\r\n        'Are you sure you want to delete this\\n'\r\n            + 'custom block and all its instances?',\r\n    'download to disk text':\r\n        'This item could not be opened in a new tab.\\n' +\r\n        'It has been saved to your browser\\'s downloads folder.',\r\n    'unable to export text':\r\n        'This item could not be exported from Snap!.\\n' +\r\n        'It\\'s likely that your project may contain a lot of media ' +\r\n        '(sounds and images) or that you are using an older browser.' +\r\n        'Please try using a recent version of Chrome, Firefox, or Safari.'\r\n};\r\n\r\nSnapTranslator.dict.fr = {\r\n    'language_name':\r\n        'Fran\\u00E7ais',\r\n    'language_translator':\r\n        'Jean-Jacques Valliet, Mark Rafter, Martin Quinson, Damien Caselli',\r\n    'translator_e-mail':\r\n        'i.scool@mac.com',\r\n    'last_changed':\r\n        '2016-10-27'\r\n};\r\n\r\n//DEBUT DE MORPHIC\r\n/*\r\n\r\n// Global settings /////////////////////////////////////////////////////\r\n\r\n/*global window, HTMLCanvasElement, FileReader, Audio, FileList*/\r\n\r\nvar morphicVersion = '2017-September-26';\r\nvar modules = {}; // keep track of additional loaded modules\r\nvar useBlurredShadows = getBlurredShadowSupport(); // check for Chrome-bug\r\n\r\nvar standardSettings = {\r\n    minimumFontHeight: getMinimumFontHeight(), // browser settings\r\n    globalFontFamily: '',\r\n    menuFontName: 'sans-serif',\r\n    menuFontSize: 12,\r\n    bubbleHelpFontSize: 10,\r\n    prompterFontName: 'sans-serif',\r\n    prompterFontSize: 12,\r\n    prompterSliderSize: 10,\r\n    handleSize: 15,\r\n    scrollBarSize: 12,\r\n    mouseScrollAmount: 40,\r\n    useSliderForInput: false,\r\n    useVirtualKeyboard: true,\r\n    isTouchDevice: false, // turned on by touch events, don't set\r\n    rasterizeSVGs: false,\r\n    isFlat: false,\r\n    grabThreshold: 5\r\n};\r\n\r\nvar touchScreenSettings = {\r\n    minimumFontHeight: standardSettings.minimumFontHeight,\r\n    globalFontFamily: '',\r\n    menuFontName: 'sans-serif',\r\n    menuFontSize: 24,\r\n    bubbleHelpFontSize: 18,\r\n    prompterFontName: 'sans-serif',\r\n    prompterFontSize: 24,\r\n    prompterSliderSize: 20,\r\n    handleSize: 26,\r\n    scrollBarSize: 24,\r\n    mouseScrollAmount: 40,\r\n    useSliderForInput: true,\r\n    useVirtualKeyboard: true,\r\n    isTouchDevice: false,\r\n    rasterizeSVGs: false,\r\n    isFlat: false,\r\n    grabThreshold: 5\r\n};\r\n\r\nvar MorphicPreferences = standardSettings;\r\n\r\n// first, try enabling support for retina displays - can be turned off later\r\n\r\n/*\r\n    Support for retina displays has been pioneered and contributed by\r\n    Bartosz Leper.\r\n\r\n    NOTE: this will make changes to the HTMLCanvasElement that - mostly -\r\n    make Morphic usable on retina displays in very high resolution mode\r\n    with crisp fonts and clear fine lines without you (the programmer)\r\n    needing to know any specifics, provided both the display and the browser\r\n    support these (Safari currently doesn't), otherwise these utilities will\r\n    not be installed.\r\n    If you don't want your Morphic application to support retina resolutions\r\n    you don't have to edit this morphic.js file to comment out the next line\r\n    of code, instead you can simply call\r\n\r\n        disableRetinaSupport();\r\n\r\n    before you create your World(s) in the html page. Disabling retina\r\n    support also will simply do nothing if retina support is not possible\r\n    or already disabled, so it's equally safe to call.\r\n\r\n    For an example how to make retina support user-specifiable refer to\r\n    Snap! >> guis.js >> toggleRetina()\r\n*/\r\n\r\nenableRetinaSupport();\r\n\r\n// Global Functions ////////////////////////////////////////////////////\r\n\r\nfunction nop() {\r\n    // do explicitly nothing\r\n    return null;\r\n}\r\n\r\nvar dicofr =  {\r\n\r\n/*\r\n    Special characters: (see <http://0xcc.net/jsescape/>)\r\n\r\n    À      \\u00C0\r\n    à      \\u00E0\r\n    É      \\u00C9\r\n    è      \\u00E8\r\n    é      \\u00E9\r\n    ê      \\u00EA\r\n    ç      \\u00E7\r\n    ï      \\u00EF\r\n    ô      \\u00F4\r\n    ù      \\u00F9\r\n    °      \\u00B0\r\n    '      \\u0027\r\n    «      \\u00AB\r\n    »      \\u00BB\r\n    ↔      \\u2194\r\n    ↕      \\u2195\r\n*/\r\n\r\n    // translations meta information\r\n    'language_name':\r\n        'Fran\\u00E7ais', // the name as it should appear in the language menu\r\n    'language_translator':\r\n        'Jean-Jacques Valliet, Mark Rafter, Martin Quinson, Damien Caselli', // your name for the Translators tab\r\n    'translator_e-mail':\r\n        'i.scool@mac.com', // optional\r\n    'last_changed':\r\n        '2016-10-27', // this, too, will appear in the Translators tab\r\n\r\n    // GUI\r\n    // control bar:\r\n    'untitled':\r\n        'Sans Titre',\r\n    'development mode':\r\n        'mode d\\u00E9veloppeur',\r\n\r\n    // categories:\r\n    'Motion':\r\n        'Mouvement',\r\n    'Looks':\r\n        'Apparence',\r\n    'Sound':\r\n        'Sons',\r\n    'Pen':\r\n        'Stylo',\r\n    'Control':\r\n        'Contr\\u00F4les',\r\n    'Sensing':\r\n        'Capteurs',\r\n    'Operators':\r\n        'Op\\u00E9rateurs',\r\n    'Variables':\r\n        'Variables',\r\n    'Lists':\r\n        'Listes',\r\n    'Other':\r\n        'Autres',\r\n\r\n    // editor:\r\n    'draggable':\r\n        'd\\u00E9pla\\u00E7able avec la souris',\r\n\r\n    // tabs:\r\n    'Scripts':\r\n        'Scripts',\r\n    'Costumes':\r\n        'Costumes',\r\n    'Sounds':\r\n        'Sons',\r\n\r\n   // names:\r\n    'Sprite':\r\n        'Lutin',\r\n    'Stage':\r\n        'Sc\\u00E8ne',\r\n\r\n    // rotation styles:\r\n    'don\\'t rotate':\r\n        'le lutin ne pivote jamais',\r\n    'can rotate':\r\n        'le lutin pivote \\nautour de son centre de rotation',\r\n    'only face left/right':\r\n        'le lutin reste en position horizontale \\nsoit vers la gauche soit vers la droite ',\r\n\r\n    // new sprite button:\r\n    'add a new sprite':\r\n        'ajouter un nouveau lutin',\r\n    'add a new Turtle sprite':\r\n        'ajouter un nouveau lutin Tortue',\r\n\r\n    // tab help\r\n    'costumes tab help':\r\n        'Importer une image depuis votre ordinateur ou une page web \\npar un presser-glisser-d\\u00E9poser dans l\\u0027aire des costumes',\r\n    'import a sound from your computer\\nby dragging it into here':\r\n        'Importer un son depuis votre ordinateur \\npar un presser-glisser-d\\u00E9poser dans l\\u0027aire des sons',\r\n\r\n    // primitive blocks:\r\n\r\n    /*\r\n        Attention Translators:\r\n        ----------------------\r\n        At this time your translation of block specs will only work\r\n        correctly, if the order of formal parameters and their types\r\n        are unchanged. Placeholders for inputs (formal parameters) are\r\n        indicated by a preceding % prefix and followed by a type\r\n        abbreviation.\r\n\r\n        For example:\r\n\r\n            'say %s for %n secs'\r\n\r\n        can currently not be changed into\r\n\r\n            'say %n secs long %s'\r\n\r\n        and still work as intended.\r\n\r\n        Similarly\r\n\r\n            'point towards %dst'\r\n\r\n        cannot be changed into\r\n\r\n            'point towards %cst'\r\n\r\n        without breaking its functionality.\r\n    */\r\n\r\n     // motion:\r\n    'Stage selected:\\nno motion primitives':\r\n        'Sc\\u00E8ne s\\u00E9lectionn\\u00E9e :\\naucune brique de d\\u00E9pla\\u00E7ement',\r\n\r\n    'move %n steps':\r\n        'avancer de %n pas',\r\n    'turn %clockwise %n degrees':\r\n        'tourner de %n degr\\u00E9s %clockwise',\r\n    'turn %counterclockwise %n degrees':\r\n        'tourner de %n degr\\u00E9s %counterclockwise',\r\n    'point in direction %dir':\r\n        'se diriger en faisant un angle de %dir',\r\n    'point towards %dst':\r\n        'se diriger vers %dst',\r\n    'go to x: %n y: %n':\r\n        'aller \\u00E0 x: %n y: %n',\r\n    'go to %dst':\r\n        'aller \\u00E0 %dst',\r\n    'glide %n secs to x: %n y: %n':\r\n        'glisser en %n sec. \\u00E0 x: %n y: %n',\r\n    'change x by %n':\r\n        'ajouter %n \\u00E0 x',\r\n    'set x to %n':\r\n        'donner la valeur %n \\u00E0 x',\r\n    'change y by %n':\r\n        'ajouter %n \\u00E0 y',\r\n    'set y to %n':\r\n        'donner la valeur %n \\u00E0 y',\r\n    'if on edge, bounce':\r\n        'rebondir si le bord est atteint',\r\n    'x position':\r\n        'position x',\r\n    'y position':\r\n        'position y',\r\n    'direction':\r\n        'direction',\r\n\r\n    // looks:\r\n    'switch to costume %cst':\r\n        'basculer sur le costume %cst',\r\n    'next costume':\r\n        'costume suivant',\r\n    'costume #':\r\n        'costume n\\u00B0',\r\n    'say %s for %n secs':\r\n        'dire %s pendant %n sec.',\r\n    'say %s':\r\n        'dire %s',\r\n    'think %s for %n secs':\r\n        'penser %s pendant %n sec.',\r\n    'think %s':\r\n        'penser %s',\r\n    'Hello!':\r\n        'Salut !',\r\n    'Hmm...':\r\n        'Mmmh...',\r\n    'change %eff effect by %n':\r\n        'ajouter \\u00E0 l\\u0027effet %eff %n',\r\n    'set %eff effect to %n':\r\n        'mettre l\\u0027effet %eff \\u00E0 %n',\r\n    'clear graphic effects':\r\n        'annuler les effets graphiques',\r\n    'change size by %n':\r\n        'ajouter %n \\u00E0 la taille',\r\n    'set size to %n %':\r\n        'choisir %n % de la taille initiale',\r\n    'size':\r\n        'taille',\r\n    'show':\r\n        'montrer',\r\n    'hide':\r\n        'cacher',\r\n    'go to front':\r\n        'envoyer au premier plan',\r\n    'go back %n layers':\r\n        'd\\u00E9placer de %n plan arri\\u00E8re',\r\n\r\n    'development mode \\ndebugging primitives:':\r\n        'mode d\\u00E9veloppement \\ndebugging primitives:',\r\n    'console log %mult%s':\r\n        'console log %mult%s',\r\n    'alert %mult%s':\r\n        'Pop-up: %mult%s',\r\n\r\n    // sound:\r\n    'play sound %snd':\r\n        'jouer le son %snd',\r\n    'play sound %snd until done':\r\n        'jouer le son %snd jusqu\\u0027au bout',\r\n    'stop all sounds':\r\n        'arr\\u00EAter tous les sons',\r\n    'rest for %n beats':\r\n        'faire une pause pour %n temps',\r\n    'play note %n for %n beats':\r\n        'jouer la note %n pour %n temps',\r\n    'change tempo by %n':\r\n        'ajouter %n au tempo',\r\n    'set tempo to %n bpm':\r\n        'choisir le tempo \\u00E0 %n bpm',\r\n    'tempo':\r\n        'tempo',\r\n\r\n    // pen:\r\n    'clear':\r\n        'effacer tout',\r\n    'pen down':\r\n        'stylo en position d\\u0027\\u00E9criture',\r\n    'pen up':\r\n        'relever le stylo',\r\n    'set pen color to %clr':\r\n        'mettre la couleur %clr pour le stylo',\r\n    'change pen color by %n':\r\n        'ajouter %n \\u00E0 la couleur du stylo',\r\n    'set pen color to %n':\r\n        'choisir la couleur %n pour le stylo',\r\n    'change pen shade by %n':\r\n        'ajouter %n \\u00E0 l\\u0027intensit\\u00E9 du stylo ',\r\n    'set pen shade to %n':\r\n        'choisir l\\u0027intensit\\u00E9 %n pour le stylo',\r\n    'change pen size by %n':\r\n        'ajouter %n \\u00E0 la taille du stylo ',\r\n    'set pen size to %n':\r\n        'choisir la taille %n pour le stylo',\r\n    'stamp':\r\n        'estampiller',\r\n    'fill':\r\n        'remplir',\r\n\r\n      // control:\r\n    'when %greenflag clicked':\r\n        'Quand %greenflag est press\\u00E9',\r\n    'when %keyHat key pressed':\r\n        'Quand %keyHat est press\\u00E9',\r\n    'when I am clicked':\r\n        'Quand je suis press\\u00E9 ',\r\n  'when I am %interaction':\r\n    'Quand je suis %interaction',\r\n    'when I receive %msgHat':\r\n        'Quand je re\\u00E7ois %msgHat',\r\n    'broadcast %msg':\r\n        'envoyer \\u00E0 tous %msg',\r\n    'broadcast %msg and wait':\r\n        'envoyer \\u00E0 tous %msg et attendre',\r\n    'Message name':\r\n        'Nom du message',\r\n    'wait %n secs':\r\n        'attendre %n sec.',\r\n    'wait until %b':\r\n        'attendre jusqu\\u0027\\u00E0 %b',\r\n    'forever %c':\r\n        'r\\u00E9p\\u00E9ter ind\\u00E9finiment %c',\r\n    'repeat %n %c':\r\n        'r\\u00E9p\\u00E9ter %n fois %c',\r\n    'repeat until %b %c':\r\n        'r\\u00E9p\\u00E9ter jusqu\\u0027\\u00E0 %b %c',\r\n    'if %b %c':\r\n        'si %b %c',\r\n    'if %b %c else %c':\r\n        'si %b %c sinon %c',\r\n    'report %s':\r\n        'rapporte %s',\r\n    'stop block':\r\n        'arr\\u00EAter le bloc',\r\n    'stop script':\r\n        'arr\\u00EAter le script',\r\n  'stop %stopOthersChoices':\r\n    'arr\\u00EAter %stopOthersChoices',\r\n  'stop %stopChoices':\r\n    'arr\\u00EAter %stopChoices',\r\n    'stop all %stop':\r\n        'arr\\u00EAter tout %stop',\r\n    'run %cmdRing %inputs':\r\n        'ex\\u00E9cute %cmdRing  %inputs',\r\n    'launch %cmdRing %inputs':\r\n        'lance %cmdRing %inputs',\r\n    'call %repRing %inputs':\r\n        'appelle %repRing %inputs',\r\n    'run %cmdRing w/continuation':\r\n        'ex\\u00E9cute %cmdRing avec continuation',\r\n    'call %cmdRing w/continuation':\r\n        'appelle %cmdRing avec continuation',\r\n    'warp %c':\r\n        'Englobe %c',\r\n    'when I start as a clone':\r\n        'Quand je commence comme clone',\r\n    'create a clone of %cln':\r\n        'Clone %cln',\r\n    'myself':\r\n        'moi-m\\u00EAme',\r\n    'delete this clone':\r\n        'supprime ce clone',\r\n    'pause all %pause':\r\n        'mettre en pause %pause',\r\n  'all but this script':\r\n    'tout sauf ce script',\r\n  'other scripts in sprite':\r\n    'les autres scripts de ce lutin',\r\n  'this script':\r\n    'ce script',\r\n  'this block':\r\n    'ce bloc',\r\n\r\n     // sensing:\r\n    'touching %col ?':\r\n        '%col touch\\u00E9 ?',\r\n    'touching %clr ?':\r\n        'couleur %clr touch\\u00E9e ?',\r\n    'color %clr is touching %clr ?':\r\n        'couleur %clr touche %clr ?',\r\n    'ask %s and wait':\r\n        'demander %s et attendre',\r\n    'what\\'s your name?':\r\n        'Quel est ton nom ?',\r\n    'answer':\r\n        'r\\u00E9ponse',\r\n    'mouse x':\r\n        'souris x',\r\n    'mouse y':\r\n        'souris y',\r\n    'mouse down?':\r\n        'souris press\\u00E9e ?',\r\n    'key %key pressed?':\r\n        'touche %key press\\u00E9e ?',\r\n    'distance to %dst':\r\n        'distance de %dst',\r\n    'reset timer':\r\n        'r\\u00E9initialiser le chronom\\u00E8tre',\r\n    'timer':\r\n        'chronom\\u00E8tre',\r\n    '%att of %spr':\r\n        '%att de %spr',\r\n    'my %get':\r\n        'attribut %get',\r\n    'http:// %s':\r\n        'http:// %s',\r\n    'turbo mode?':\r\n        'turbo mode activ\\u00E9 ?',\r\n    'set turbo mode to %b':\r\n        'turbo mode prend la valeur %b',\r\n\r\n    'filtered for %clr':\r\n        'filtr\\u00E9 pour %clr',\r\n    'stack size':\r\n        'taille de la pile',\r\n    'frames':\r\n        'cadres',\r\n\r\n    // operators:\r\n    '%n mod %n':\r\n        '%n mod %n',\r\n    'round %n':\r\n        'arrondi de %n',\r\n    '%fun of %n':\r\n        '%fun appliqu\\u00E9 \\u00E0 %n',\r\n    'pick random %n to %n':\r\n        'nombre al\\u00E9atoire entre %n et %n',\r\n    '%b and %b':\r\n        '%b et %b',\r\n    '%b or %b':\r\n        '%b ou %b',\r\n    'not %b':\r\n        'non %b',\r\n    'true':\r\n        'vrai',\r\n    'false':\r\n        'faux',\r\n    'join %words':\r\n        'regroupe %words',\r\n    'split %s by %delim':\r\n        'd\\u00E9coupe %s entre les %delim',\r\n    'hello':\r\n        'Bonjour',\r\n    'world':\r\n        'Monde',\r\n    'letter %n of %s':\r\n        'lettre %n de %s',\r\n    'length of %s':\r\n        'longueur de %s',\r\n    'unicode of %s':\r\n        'valeur unicode de %s',\r\n    'unicode %n as letter':\r\n        'unicode %n comme lettre',\r\n    'is %s a %typ ?':\r\n        '%s est un(e) %typ ?',\r\n    'is %s identical to %s ?':\r\n        '%s est identique \\u00E0 %s ?',\r\n\r\n    'type of %s':\r\n        'type de %s',\r\n\r\n     // variables:\r\n    'Make a variable':\r\n        'Nouvelle variable',\r\n    'Variable name':\r\n        'Nom de la variable',\r\n    'Delete a variable':\r\n        'Supprimer une variable',\r\n\r\n    'set %var to %s':\r\n        '%var prend la valeur %s',\r\n    'change %var by %n':\r\n        'ajouter \\u00E0 %var %n',\r\n    'show variable %var':\r\n        'afficher la variable %var',\r\n    'hide variable %var':\r\n        'cacher la variable %var',\r\n    'script variables %scriptVars':\r\n        'variables du script %scriptVars',\r\n\r\n    // lists:\r\n    'list %exp':\r\n        'liste %exp',\r\n    '%s in front of %l':\r\n        '%s au d\\u00E9but de %l',\r\n    'item %idx of %l':\r\n        '\\u00E9l\\u00E9ment %idx de %l',\r\n    'all but first of %l':\r\n        'tous sauf le premier de %l',\r\n    'length of %l':\r\n        'longueur de %l',\r\n    '%l contains %s':\r\n        '%l contient %s',\r\n    'thing':\r\n        'qqchose',\r\n    'add %s to %l':\r\n        'ajouter %s \\u00E0 %l',\r\n    'delete %ida of %l':\r\n        'supprimer l\\u0027\\u00E9l\\u00E9ment %ida de %l',\r\n    'insert %s at %idx of %l':\r\n        'ins\\u00E9rer %s en position %idx de %l',\r\n    'replace item %idx of %l with %s':\r\n        'remplacer l\\u0027\\u00E9l\\u00E9ment %idx de %l par %s',\r\n\r\n    // other\r\n    'Make a block':\r\n        'Nouveau bloc',\r\n\r\n   // menus\r\n    // snap menu\r\n    'About...':\r\n        '\\u00C0 propos de Snap!...',\r\n    'Reference manual':\r\n        'Manuel de r\\u00E9f\\u00E9rence',\r\n    'Snap! website':\r\n        'Snap! le site web',\r\n    'Download source':\r\n        'T\\u00E9l\\u00E9charger le code source',\r\n    'Switch back to user mode':\r\n        'Revenir en mode utilisateur',\r\n    'disable deep-Morphic\\ncontext menus\\nand show user-friendly ones':\r\n        'd\\u00E9sactiver la fonction morphic',\r\n    'Switch to dev mode':\r\n        'Passer en mode d\\u00E9veloppeur',\r\n    'enable Morphic\\ncontext menus\\nand inspectors,\\nnot user-friendly!':\r\n        'activer la fonction morphic',\r\n\r\n    // project menu\r\n    'Project notes...':\r\n        'Notes du projet...',\r\n    'New':\r\n        'Nouveau',\r\n    'Open...':\r\n        'Ouvrir...',\r\n    'Save':\r\n        'Sauvegarder',\r\n    'Save As...':\r\n        'Sauvegarder sous...',\r\n    'Import...':\r\n        'Importer...',\r\n    'file menu import hint':\r\n        'importer un projet export\\u00E9,\\nune biblioth\\u00E8que de '\r\n            + 'blocs\\n'\r\n            + 'un costume ou un son',\r\n    'Export project as plain text...':\r\n        'Exporter le projet comme texte...',\r\n    'Export project...':\r\n        'Exporter le projet...',\r\n    'save project data as XML\\nto your downloads folder':\r\n        'sauvegarder le projet au\\nformat XML dans votre\\ndossier T\\u00E9l\\u00E9chargements',\r\n    'show project data as XML\\nin a new browser window':\r\n        'ouvrir le projet au format XML\\ndans une nouvelle fen\\u00EAtre de votre navigateur',\r\n    'Export blocks...':\r\n        'Exporter les blocs ',\r\n    'show global custom block definitions as XML\\nin a new browser window':\r\n        'montrer les d\\u00E9finitions de bloc global personnalis\\u00E9 au format XML \\ndans une nouvelle fen\\u00EAtre de navigateur',\r\n    'Unused blocks...':\r\n        'Blocs inutilis\\u00E9s...',\r\n    'find unused global custom blocks\\nand remove their definitions':\r\n        'trouver et supprimer les blocs personnalis\\u00E9s inutilis\\u00E9s',\r\n    'Remove unused blocks':\r\n        'Supprimer les blocs inutilis\\u00E9s',\r\n    'there are currently no unused\\nglobal custom blocks in this project':\r\n        'Aucun bloc inutilis\\u00E9 dans ce projet',\r\n    'unused block(s) removed':\r\n        'bloc(s) inutilis\\u00E9(s) supprim\\u00E9(s)',\r\n    'Export summary...':\r\n        'Exporter un r\\u00E9sum\\u00E9...',\r\n    'open a new browser browser window\\n with a summary of this project':\r\n        'voir un résumé de ce projet dans\\nune nouvelle fenêtre du navigateur',\r\n    'Import tools':\r\n        'Importer les outils',\r\n    'load the official library of\\npowerful blocks':\r\n        'Importer la biblioth\\u00E8que officielle\\nd\\'outils avanc\\u00E9s',\r\n    'Libraries...':\r\n        'Biblioth\\u00E8ques...',\r\n    'Import library':\r\n        'Importer une biblioth\\u00E8que',\r\n\r\n    // settings menu\r\n    'Language...':\r\n        'Langue...',\r\n    'Blurred shadows':\r\n        'Ombres floues',\r\n    'uncheck to use solid drop\\nshadows and highlights':\r\n        'D\\u00E9cocher pour utiliser des rehauts et des ombres \\n port\\u00E9es floues',\r\n    'check to use blurred drop\\nshadows and highlights':\r\n        'cocher pour utiliser des rehauts et des ombres \\n port\\u00E9es pleines',\r\n    'Zebra coloring':\r\n        'Colorations altern\\u00E9es',\r\n    'check to enable alternating\\ncolors for nested blocks':\r\n        'cocher pour activer des couleurs altern\\u00E9es \\n pour les blocs embo\\u00EEt\\u00E9s',\r\n    'uncheck to disable alternating\\ncolors for nested block':\r\n        'd\\u00E9cocher pour d\\u00E9sactiver des couleurs altern\\u00E9es \\n pour les blocs embo\\u00EEt\\u00E9s',\r\n    'Prefer empty slot drops':\r\n        'Pr\\u00E9f\\u00E9rer des entr\\u00E9es vides',\r\n    'settings menu prefer empty slots hint':\r\n        'cocher pour pr\\u00E9f\\u00E9rer des entr\\u00E9es vides \\n'\r\n        + 'lors du glisser-d\\u00E9poser d\\u0027un reporter',\r\n    'uncheck to allow dropped\\nreporters to kick out others':\r\n        'd\\u00E9cocher pour ne pas pr\\u00E9f\\u00E9rer des entr\\u00E9es vides \\n'\r\n    + 'lors du glisser-d\\u00E9poser d\\u0027un reporter',\r\n    'Long form input dialog':\r\n        'Bo\\u00EEte d\\u0027entr\\u00E9e en mode d\\u00E9taill\\u00E9',\r\n    'check to always show slot\\ntypes in the input dialog':\r\n        'cocher pour toujours ouvrir la bo\\u00EEte de dialogue \\nd\\u0027entr\\u00E9e en mode d\\u00E9taill\\u00E9 : avec tous les types de blocs',\r\n    'uncheck to use the input\\ndialog in short form':\r\n        'd\\u00E9cocher pour utiliser la bo\\u00EEte de dialogue \\nd\\u0027entr\\u00E9e en mode simple ',\r\n    'Virtual keyboard':\r\n        'Clavier virtuel',\r\n    'uncheck to disable\\nvirtual keyboard support\\nfor mobile devices':\r\n        'd\\u00E9cocher pour d\\u00E9sactiver le clavier virtuel pour \\nles tablettes et smartphones : mobile devices  ',\r\n    'check to enable\\nvirtual keyboard support\\nfor mobile devices':\r\n        'cocher pour activer le clavier virtuel pour \\nles tablettes et smartphones : mobile devices  ',\r\n    'Input sliders':\r\n        'Entr\\u00E9e curseurs',\r\n    'uncheck to disable\\ninput sliders for\\nentry fields':\r\n        'd\\u00E9cocher pour d\\u00E9sactiver le curseur coulissant \\ndans le champ de saisie',\r\n    'check to enable\\ninput sliders for\\nentry fields':\r\n        'cocher pour activer un curseur coulissant \\ndans le champ de saisie ',\r\n    'Clicking sound':\r\n        'Cliquetis',\r\n    'uncheck to turn\\nblock clicking\\nsound off':\r\n        'd\\u00E9cocher pour d\\u00E9sactiver le cliquetis \\n'\r\n    +'lors de l\\u0027embo\\u00EEtement des blocs' ,\r\n    'check to turn\\nblock clicking\\nsound on':\r\n        'cocher pour activer le cliquetis \\n'\r\n    +'lors de l\\u0027embo\\u00EEtement des blocs',\r\n    'Turbo mode':\r\n        'Mode turbo',\r\n    'check to prioritize\\nscript execution':\r\n        'cocher pour favoriser l\\'ex\\u00E9cution du script',\r\n    'uncheck to run scripts\\nat normal speed':\r\n        'd\\u00E9cocher pour ex\\u00E9cuter le script en vitesse normale',\r\n    'Flat design':\r\n        'Style al\\u00E9g\\u00E9',\r\n    'check for alternative\\nGUI design':\r\n        'cocher pour un style d\\'interface alternatif',\r\n    'uncheck for default\\nGUI design':\r\n     'd\\u00E9cocher pour le style classique d\\'interface',\r\n    'Keyboard Editing':\r\n        '\\u00C9dition au clavier',\r\n    'uncheck to disable\\nkeyboard editing support':\r\n        'd\\u00E9cocher pour d\\u00E9sactiver l\\'\\u00E9dition au clavier',\r\n    'check to enable\\nkeyboard editing support':\r\n        'cocher pour activer l\\'\\u00E9dition au clavier',\r\n    'Thread safe scripts':\r\n        'Scripts réentrants',\r\n    'check to disallow\\nscript reentrance':\r\n        'cocher pour interdire\\n la r\\u00E9entrance des scripts\\n'\r\n      + 'et les ex\\u00E9cuter s\\u00E9par\\u00E9ment',\r\n    'uncheck to allow\\nscript reentrance':\r\n        'd\\u00E9cocher pour permettre\\n la r\\u00E9entrance des scripts\\n'\r\n      + 'o\\u00F9 certains s\\'ex\\u00E9cutent en paral\\u00E8lle',\r\n    'Prefer smooth animations':\r\n        'Vitesse d\\'animation fixe',\r\n    'uncheck for greater speed\\nat variable frame rates':\r\n        'd\\u00E9cocher pour une vitesse\\nd\\'animation maximale (mais variable)',\r\n    'check for smooth, predictable\\nanimations across computers':\r\n        'cocher pour une vitesse d\\'animation\\nfixe et identique sur tous les ordinateurs',\r\n\r\n    // inputs\r\n    'with inputs':\r\n        'avec entr\\u00E9es',\r\n    'input names:':\r\n        'renseigner un nom :',\r\n    'Input Names:':\r\n        'Renseigner un nom :',\r\n\r\n    // context menus:\r\n    'help':\r\n        'Aide',\r\n\r\n    // palette:\r\n    'hide primitives':\r\n        'Masquer les blocs de base',\r\n    'show primitives':\r\n        'Afficher les blocs de base',\r\n\r\n    // blocks:\r\n    'help...':\r\n        'Aide...',\r\n    'duplicate':\r\n        'dupliquer',\r\n    'make a copy\\nand pick it up':\r\n        'faire une copie\\n et le d\\u00E9placer',\r\n    'only duplicate this block':\r\n        'ne dupliquer que ce bloc',\r\n    'delete':\r\n        'supprimer',\r\n    'script pic...':\r\n        'image du script...',\r\n    'open a new window\\nwith a picture of this script':\r\n        'ouvrir une nouvelle fen\\u00EAtre avec une \\nimage .png de ce script',\r\n    'ringify':\r\n        'entourer',\r\n    'unringify':\r\n        'd\\u00E9tourer',\r\n\r\n    // custom blocks:\r\n    'delete block definition...':\r\n        'supprimer les d\\u00E9finitions de bloc',\r\n    'edit...':\r\n        '\\u00E9diter...',\r\n\r\n    // sprites:\r\n    'edit':\r\n        '\\u00E9diter',\r\n    'move':\r\n        'd\\u00E9placer',\r\n    'detach from':\r\n        'D\\u00E9tacher de',\r\n    'detach all parts':\r\n        'D\\u00E9tacher toutes les parties',\r\n    'export...':\r\n        'Exporter...',\r\n    'paint a new sprite':\r\n        'dessiner un nouveau lutin',\r\n\r\n    // scripting area\r\n    'clean up':\r\n        'effacer',\r\n    'arrange scripts\\nvertically':\r\n        'arrange scripts\\nvertically',\r\n    'add comment':\r\n        'ajouter un commentaire',\r\n    'make a block...':\r\n        'cr\\u00E9er un nouveau bloc...',\r\n\r\n    // costumes\r\n    'rename':\r\n        'renommer',\r\n    'export':\r\n        'exporter',\r\n    'rename costume':\r\n        'renommer un costume',\r\n    'Paint a new costume':\r\n        'Dessiner un nouveau costume',\r\n\r\n    // sounds\r\n    'Play sound':\r\n        'jouer un son',\r\n    'Stop sound':\r\n        'arr\\u00EAter un son',\r\n    'Stop':\r\n        'arr\\u00EAter',\r\n    'Play':\r\n        'jouer',\r\n    'rename sound':\r\n        'renommer un son',\r\n\r\n    // dialogs\r\n    // buttons\r\n    'OK':\r\n        'OK',\r\n    'Ok':\r\n        'Ok',\r\n    'Cancel':\r\n        'Annuler',\r\n    'Yes':\r\n        'Oui',\r\n    'No':\r\n        'Non',\r\n    'Open':\r\n        'Ouvrir',\r\n    'Browser':\r\n        'Navigateur',\r\n    'Examples':\r\n        'Exemples',\r\n\r\n    // help\r\n    'Help':\r\n        'Aide',\r\n\r\n    // Project Manager\r\n    'Untitled':\r\n        'Sans titre',\r\n    'Open Project':\r\n        'Ouvrir un projet',\r\n    '(empty)':\r\n        '(vide)',\r\n    'Saved!':\r\n        'Enregistr\\u00EA !',\r\n    'Delete Project':\r\n        'Supprimer un projet',\r\n    'Are you sure you want to delete':\r\n        'Souhaitez-vous vraiment supprimer ?',\r\n    'rename...':\r\n        'Renommer...',\r\n\r\n     // costume editor\r\n    'Costume Editor':\r\n        '\\u00EAditeur de costumes',\r\n    'click or drag crosshairs to move the rotation center':\r\n        'cliquez ou faites d\\u00EAfiler la ligne de mire  pour d\\u00EAfinir le centre de rotation du costume',\r\n\r\n    // project notes\r\n    'Project Notes':\r\n        'Notes du projet',\r\n\r\n    // new project\r\n    'New Project':\r\n        'Nouveau projet',\r\n    'Replace the current project with a new one?':\r\n        'Remplacer le projet actuel par un nouveau ?',\r\n\r\n    // open project\r\n    'Open Projekt':\r\n        'Ouvrir un projet',\r\n\r\n    // save project\r\n    'Save Project As...':\r\n        'Sauvegarder le projet sous...',\r\n\r\n    // export blocks\r\n    'Export blocks':\r\n        'exporter des blocs',\r\n    'this project doesn\\'t have any\\ncustom global blocks yet':\r\n        'ce projet ne contient pas \\nde bloc global personnalis\\u00E9',\r\n    'select':\r\n        's\\u00E9lectionner',\r\n    'all':\r\n        'tout',\r\n    'none':\r\n        'aucun',\r\n\r\n    // variable dialog\r\n    'for all sprites':\r\n        'pour tous les lutins',\r\n    'for this sprite only':\r\n        'pour ce lutin uniquement',\r\n\r\n    // block dialog\r\n    'Change block':\r\n        'Changer le bloc',\r\n    'Command':\r\n        'Commande',\r\n    'Reporter':\r\n        'Reporter',\r\n    'Predicate':\r\n        'Pr\\u00E9dicat',\r\n\r\n    // block editor\r\n    'Block Editor':\r\n        '\\u00C9diteur de bloc',\r\n    'Apply':\r\n        'Appliquer',\r\n\r\n    // block deletion dialog\r\n    'Delete Custom Block':\r\n        'Effacer le bloc personnalis\\u00E9',\r\n    'block deletion dialog text':\r\n        '\\u00CAtes-vous s\\u00FBr de vouloir supprimer ce bloc personnalis\\u00E9 \\net ' +\r\n            'toutes ses instances ?',\r\n\r\n    // input dialog\r\n    'Create input name':\r\n        'Cr\\u00E9er le nom de l\\u0027entr\\u00E9e',\r\n    'Edit input name':\r\n        '\\u00C9diter le nom de l\\u0027entr\\u00E9e',\r\n    'Edit label fragment':\r\n        '\\u00C9diter le fragment du label',\r\n    'Title text':\r\n        'Texte du titre',\r\n    'Input name':\r\n        'Nom de l\\u0027entr\\u00E9e',\r\n    'Delete':\r\n        'Supprimer',\r\n    'Object':\r\n        'Objet',\r\n    'Number':\r\n        'Nombre',\r\n    'Text':\r\n        'Texte',\r\n    'List':\r\n        'Liste',\r\n    'Any type':\r\n        'Tout type',\r\n    'Boolean (T/F)':\r\n        'Bool\\u00E9en (V/F)',\r\n    'Command\\n(inline)':\r\n        'Commande\\n(en ligne)',\r\n    'Command\\n(C-shape)':\r\n        'Commande\\n(en forme de C)',\r\n    'Any\\n(unevaluated)':\r\n        'Tout type\\n(non \\u00E9valu\\u00E9e)',\r\n    'Boolean\\n(unevaluated)':\r\n        'Bool\\u00E9en\\n(non \\u00E9valu\\u00E9e)',\r\n    'Single input.':\r\n        'Entr\\u00E9e unique.',\r\n    'Default Value:':\r\n        'Valeur par d\\u00E9faut :',\r\n    'Multiple inputs (value is list of inputs)':\r\n        'Entr\\u00E9es multiples (la valeur est une liste des entr\\u00E9es)',\r\n    'Upvar - make internal variable visible to caller':\r\n        'Upvar - Rendre la variable interne visible pour l\\u0027appelant',\r\n    // delimiters\r\n    'whitespace':\r\n        'espaces blancs',\r\n    'line':\r\n        'lignes',\r\n    'tab':\r\n        'tabulations',\r\n    'cr':\r\n        'retours de ligne',\r\n  'letter':\r\n    'lettres',\r\n\r\n    // About Snap\r\n    'About Snap':\r\n        '\\u00C0 propos de Snap',\r\n    'Back...':\r\n        'Retour...',\r\n    'License...':\r\n        'Licence...',\r\n    'Modules...':\r\n        'Modules...',\r\n    'Credits...':\r\n        'Contributeurs...',\r\n    'Translators...':\r\n        'Traducteurs...',\r\n    'License':\r\n        'License',\r\n    'current module versions:':\r\n        'Versions du module courant :',\r\n    'Contributors':\r\n        'Contributeurs',\r\n    'Translations':\r\n        'Traductions',\r\n\r\n    // variable watchers\r\n    'normal':\r\n        'normal',\r\n    'large':\r\n        'grand',\r\n    'slider':\r\n        'curseur',\r\n    'slider min...':\r\n        'min...',\r\n    'slider max...':\r\n        'max...',\r\n    'Slider minimum value':\r\n        'Valeur minimale du curseur',\r\n    'Slider maximum value':\r\n        'Valeur maximale du curseur',\r\n\r\n    // list watchers\r\n    'length: ':\r\n        'Longueur : ',\r\n\r\n    // coments\r\n    'add comment here...':\r\n        'ajoute un commentaire ici',\r\n\r\n    // drow downs\r\n    // directions\r\n    '(90) right':\r\n        '(90) \\u00E0 droite',\r\n    '(-90) left':\r\n        '(-90) \\u00E0 gauche',\r\n    '(0) up':\r\n        '(0) vers le haut',\r\n    '(180) down':\r\n        '(180) vers le bas',\r\n\r\n    // collision detection\r\n    'mouse-pointer':\r\n        'pointeur souris',\r\n    'edge':\r\n        'bord',\r\n    'pen trails':\r\n        'traces de stylo',\r\n\r\n    // costumes\r\n    'Turtle':\r\n        'Pointeur',\r\n    'Empty':\r\n        'Vide',\r\n\r\n    // graphical effects\r\n    'color':\r\n        'couleur',\r\n    'fisheye':\r\n        'fisheye',\r\n    'whirl':\r\n        'tourbillon',\r\n    'pixelate':\r\n        'pixelisation',\r\n    'mosaic':\r\n        'mosa\\u00EFque',\r\n    'saturation':\r\n        'saturation',\r\n    'brightness':\r\n        'luminosit\\u00E9',\r\n    'ghost':\r\n        'transparence',\r\n    'negative':\r\n        'n\\u00E9gatif',\r\n    'comic':\r\n        'moir\\u00E9',\r\n    'confetti':\r\n        'confetti',\r\n\r\n    // keys\r\n    'space':\r\n        'espace',\r\n    'up arrow':\r\n        'fl\\u00E8che vers le haut',\r\n    'down arrow':\r\n        'fl\\u00E8che vers le bas',\r\n    'right arrow':\r\n        'fl\\u00E8che vers la droite',\r\n    'left arrow':\r\n        'fl\\u00E8che vers la gauche',\r\n    'a':\r\n        'a',\r\n    'b':\r\n        'b',\r\n    'c':\r\n        'c',\r\n    'd':\r\n        'd',\r\n    'e':\r\n        'e',\r\n    'f':\r\n        'f',\r\n    'g':\r\n        'g',\r\n    'h':\r\n        'h',\r\n    'i':\r\n        'i',\r\n    'j':\r\n        'j',\r\n    'k':\r\n        'k',\r\n    'l':\r\n        'l',\r\n    'm':\r\n        'm',\r\n    'n':\r\n        'n',\r\n    'o':\r\n        'o',\r\n    'p':\r\n        'p',\r\n    'q':\r\n        'q',\r\n    'r':\r\n        'r',\r\n    's':\r\n        's',\r\n    't':\r\n        't',\r\n    'u':\r\n        'u',\r\n    'v':\r\n        'v',\r\n    'w':\r\n        'w',\r\n    'x':\r\n        'x',\r\n    'y':\r\n        'y',\r\n    'z':\r\n        'z',\r\n    '0':\r\n        '0',\r\n    '1':\r\n        '1',\r\n    '2':\r\n        '2',\r\n    '3':\r\n        '3',\r\n    '4':\r\n        '4',\r\n    '5':\r\n        '5',\r\n    '6':\r\n        '6',\r\n    '7':\r\n        '7',\r\n    '8':\r\n        '8',\r\n    '9':\r\n        '9',\r\n\r\n     // messages\r\n    'new...':\r\n        'nouveau...',\r\n\r\n    // math functions\r\n    'abs':\r\n        'v. absolue',\r\n    'sqrt':\r\n        'racine',\r\n    'sin':\r\n        'sin',\r\n    'cos':\r\n        'cos',\r\n    'tan':\r\n        'tan',\r\n    'asin':\r\n        'asin',\r\n    'acos':\r\n        'acos',\r\n    'atan':\r\n        'atan',\r\n    'ln':\r\n        'ln',\r\n    'e^':\r\n        'e^',\r\n\r\n    // data types\r\n    'number':\r\n        'nombre',\r\n    'text':\r\n        'texte',\r\n    'Boolean':\r\n        'bool\\u00E9en',\r\n    'list':\r\n        'liste',\r\n    'command':\r\n        'bloc de commande',\r\n    'reporter':\r\n        'bloc reporter',\r\n    'predicate':\r\n        'pr\\u00E9dicat',\r\n\r\n    // list indices\r\n    'last':\r\n        'dernier',\r\n    'any':\r\n        'n\\u0027importe quel',\r\n\r\n    // miscellaneous\r\n    'find blocks...':\r\n        'chercher des blocs...',\r\n    'hide primitives':\r\n        'cacher les primitives',\r\n    'show primitives':\r\n        'montrer les primitives',\r\n    'Login...':\r\n        'Connexion...',\r\n    'Signup...':\r\n        'S\\u0027enregistrer...',\r\n    'Reset Password...':\r\n        'Remise \\u00E0 z\\u00E9ro du mot de passe...',\r\n    'show all':\r\n        'tout montrer',\r\n    'pic...':\r\n        'image...',\r\n    'open a new window\\nwith a picture of the stage':\r\n        'ouvre une nouvelle fen\\u00EAtre\\navec une image de la sc\\u00E8ne',\r\n    'scripts pic...':\r\n        'image des scripts...',\r\n    'open a new window\\nwith a picture of all scripts':\r\n        'ouvre une nouvelle fen\\u00EAtre\\navec une image de tous les scripts',\r\n    'Stage size...':\r\n        'Taille de la sc\\u00E8ne...',\r\n    'Zoom blocks...':\r\n        'Agrandir les blocs...',\r\n\r\n    'Plain prototype labels':\r\n        '\\u00C9tiquettes simples de d\\u00E9finition',\r\n    'uncheck to always show (+) symbols\\nin block prototype labels':\r\n        'd\\u00E9cocher pour montrer en permanance le symbole (+)\\ndans les \\u00e9tiquettes de d\\u00E9finition de bloc',\r\n    'check to hide (+) symbols\\nin block prototype labels':\r\n        'cocher pour cacher le symbole (+)\\ndans les \\u00e9tiquettes de d\\u00E9finition de bloc',\r\n\r\n    'check for flat ends of lines':\r\n        'cocher pour dessiner des fins de ligne plates',\r\n    'uncheck for round ends of lines':\r\n        'd\\u00E9cocher pour dessiner des fins de lignes arrondies',\r\n    'Flat line ends':\r\n        'Fins de ligne plates',\r\n\r\n    'Codification support':\r\n        'Support de la \\u00AB codification \\u00BB',\r\n    'uncheck to disable\\nblock to text mapping features':\r\n        'd\\u00E9cocher pour d\\u00E9activer\\nla fonction de transformation :\\nbloc vers texte',\r\n    'check for block\\nto text mapping features':\r\n        'cocher pour activer\\nla fonction de transformation :\\nbloc vers texte',\r\n\r\n    'Inheritance support':\r\n        'Support de l\\'h\\u00E9ritage',\r\n\r\n    'current %dates':\r\n        'date courante %dates',\r\n    'year':\r\n        'ann\\u00E9e',\r\n    'month':\r\n        'mois',\r\n    'date':\r\n        'jour',\r\n    'hour':\r\n        'heure',\r\n    'minute':\r\n        'minute',\r\n    'second':\r\n        'seconde',\r\n    'time in milliseconds':\r\n        'heure en millisecondes',\r\n    'day of week':\r\n        'jour de la semaine',\r\n\r\n    'brightness':\r\n        'luminosit\\u00E9',\r\n    'transparence':\r\n        'transparence',\r\n    'negative':\r\n        'n\\u00E9gatif',\r\n    'comic':\r\n        'bande dessin\\u00E9e',\r\n\r\n    'clicked':\r\n        'cliqu\\u00E9',\r\n    'pressed':\r\n        'press\\u00E9',\r\n    'dropped':\r\n        'd\\u00E9pos\\u00E9',\r\n    'mouse-entered':\r\n        'survol\\u00E9',\r\n    'mouse-departed':\r\n        'quitt\\u00E9',\r\n    'when %b':\r\n        'Quand %b',\r\n\r\n    'JavaScript function ( %mult%s ) { %code }':\r\n        'fonction JavaScript ( %mult%s ) { %code }',\r\n\r\n\r\n    // Copy / Paste\r\n    'Press CTRL+C one more time to effectively copy to clipboard.':\r\n        'Taper une nouvelle fois sur CTRL+C pour copier effectivement vers le presse-papier.',\r\n    'Press CTRL+V one more time to effectively paste from clipboard.':\r\n        'Taper une nouvelle fois sur CTRL+V pour coller effectivement depuis le presse-papier.',\r\n    'Press CTRL+X one more time to effectively cut to clipboard.':\r\n        'Taper une nouvelle fois sur CTRL+X pour couper effectivement vers le presse-papier.',\r\n\r\n    // Paint.js\r\n    'undo':\r\n        'd\\u00E9faire',\r\n    'Paintbrush tool\\n(free draw)':\r\n        'Pinceau\\n(dessin \\u00E0 main lev\\u00E9e)',\r\n    'Stroked Rectangle\\n(shift: square)':\r\n        'Rectangle\\n(Maj : carr\\u00E9)',\r\n    'Stroked Ellipse\\n(shift: circle)':\r\n        'Ellipse\\n(Maj : cercle)',\r\n    'Eraser tool':\r\n        'Gomme',\r\n    'Set the rotation center':\r\n        'Fixer le centre de rotation',\r\n    'Line tool\\n(shift: vertical/horizontal)':\r\n        'Ligne\\n(Maj: verticale/horizontale)',\r\n    'Filled Rectangle\\n(shift: square)':\r\n        'Rectangle plein\\n(Maj: carr\\u00E9)',\r\n    'Filled Ellipse\\n(shift: circle)':\r\n        'Ellipse pleine\\n(Maj: cercle)',\r\n    'Fill a region':\r\n        'Remplir une r\\u00E9gion',\r\n    'Pipette tool\\n(pick a color anywhere)':\r\n        'Pipette\\n(s\\u00E9lectionnez une couleur n\\u0027importe o\\u00F9)',\r\n    'grow':\r\n        'agrandir',\r\n    'shrink':\r\n        'r\\u00E9duire',\r\n    'flip \\u2194':\r\n        'miroir \\u2194',\r\n    'flip \\u2195':\r\n        'miroir \\u2195',\r\n    'Brush size':\r\n        'Taille de pinceau',\r\n    'Constrain proportions of shapes?\\n(you can also hold shift)':\r\n        'Contraindre les proportions de la forme ?\\n(vous pouvez aussi maintenir appuy\\u00E9 Maj)'\r\n\r\n};\r\n\r\n\r\nfunction localize(string) {\r\n    var strong;\r\n    if(dicofr[string]){strong = dicofr[string];}\r\n        else {strong = string;}\r\n    // override this function with custom localizations\r\n    return strong;\r\n}\r\n\r\nfunction isNil(thing) {\r\n    return thing === undefined || thing === null;\r\n}\r\n\r\nfunction contains(list, element) {\r\n    // answer true if element is a member of list\r\n    return list.indexOf(element) !== -1;\r\n}\r\n\r\nfunction detect(list, predicate) {\r\n    // answer the first element of list for which predicate evaluates\r\n    // true, otherwise answer null\r\n    var i, size = list.length;\r\n    for (i = 0; i < size; i += 1) {\r\n        if (predicate.call(null, list[i])) {\r\n            return list[i];\r\n        }\r\n    }\r\n    return null;\r\n}\r\n\r\nfunction sizeOf(object) {\r\n    // answer the number of own properties\r\n    var size = 0, key;\r\n    for (key in object) {\r\n        if (Object.prototype.hasOwnProperty.call(object, key)) {\r\n            size += 1;\r\n        }\r\n    }\r\n    return size;\r\n}\r\n\r\nfunction isString(target) {\r\n    return typeof target === 'string' || target instanceof String;\r\n}\r\n\r\nfunction isObject(target) {\r\n    return target !== null &&\r\n        (typeof target === 'object' || target instanceof Object);\r\n}\r\n\r\nfunction radians(degrees) {\r\n    return degrees * Math.PI / 180;\r\n}\r\n\r\nfunction degrees(radians) {\r\n    return radians * 180 / Math.PI;\r\n}\r\n\r\nfunction fontHeight(height) {\r\n    var minHeight = Math.max(height, MorphicPreferences.minimumFontHeight);\r\n    return minHeight * 1.2; // assuming 1/5 font size for ascenders\r\n}\r\n\r\nfunction isWordChar(aCharacter) {\r\n    // can't use \\b or \\w because they ignore diacritics\r\n    return aCharacter.match(/[A-zÀ-ÿ0-9]/);\r\n}\r\n\r\nfunction newCanvas(extentPoint, nonRetina) {\r\n    // answer a new empty instance of Canvas, don't display anywhere\r\n    // nonRetina - optional Boolean \"false\"\r\n    // by default retina support is automatic\r\n    var canvas, ext;\r\n    ext = extentPoint || {x: 0, y: 0};\r\n    canvas = document.createElement('canvas');\r\n    canvas.width = ext.x;\r\n    canvas.height = ext.y;\r\n    if (nonRetina && canvas.isRetinaEnabled) {\r\n        canvas.isRetinaEnabled = true;\r\n    }\r\n    return canvas;\r\n}\r\n\r\nfunction getMinimumFontHeight() {\r\n    // answer the height of the smallest font renderable in pixels\r\n    var str = 'I',\r\n        size = 50,\r\n        canvas = document.createElement('canvas'),\r\n        ctx,\r\n        maxX,\r\n        data,\r\n        x,\r\n        y;\r\n    canvas.width = size;\r\n    canvas.height = size;\r\n    ctx = canvas.getContext('2d');\r\n    ctx.font = '1px serif';\r\n    maxX = ctx.measureText(str).width;\r\n    ctx.fillStyle = 'black';\r\n    ctx.textBaseline = 'bottom';\r\n    ctx.fillText(str, 0, size);\r\n    for (y = 0; y < size; y += 1) {\r\n        for (x = 0; x < maxX; x += 1) {\r\n            data = ctx.getImageData(x, y, 1, 1);\r\n            if (data.data[3] !== 0) {\r\n                return size - y + 1;\r\n            }\r\n        }\r\n    }\r\n    return 0;\r\n}\r\n\r\nfunction getBlurredShadowSupport() {\r\n    // check for Chrome issue 90001\r\n    // http://code.google.com/p/chromium/issues/detail?id=90001\r\n    var source, target, ctx;\r\n    source = document.createElement('canvas');\r\n    source.width = 10;\r\n    source.height = 10;\r\n    ctx = source.getContext('2d');\r\n    ctx.fillStyle = 'rgb(255, 0, 0)';\r\n    ctx.beginPath();\r\n    ctx.arc(5, 5, 5, 0, Math.PI * 2, true);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n    target = document.createElement('canvas');\r\n    target.width = 10;\r\n    target.height = 10;\r\n    ctx = target.getContext('2d');\r\n    ctx.shadowBlur = 10;\r\n    ctx.shadowColor = 'rgba(0, 0, 255, 1)';\r\n    ctx.drawImage(source, 0, 0);\r\n    return ctx.getImageData(0, 0, 1, 1).data[3] ? true : false;\r\n}\r\n\r\nfunction getDocumentPositionOf(aDOMelement) {\r\n    // answer the absolute coordinates of a DOM element in the document\r\n    var pos, offsetParent;\r\n    if (aDOMelement === null) {\r\n        return {x: 0, y: 0};\r\n    }\r\n    pos = {x: aDOMelement.offsetLeft, y: aDOMelement.offsetTop};\r\n    offsetParent = aDOMelement.offsetParent;\r\n    while (offsetParent !== null) {\r\n        pos.x += offsetParent.offsetLeft;\r\n        pos.y += offsetParent.offsetTop;\r\n        if (offsetParent !== document.body &&\r\n                offsetParent !== document.documentElement) {\r\n            pos.x -= offsetParent.scrollLeft;\r\n            pos.y -= offsetParent.scrollTop;\r\n        }\r\n        offsetParent = offsetParent.offsetParent;\r\n    }\r\n    return pos;\r\n}\r\n\r\nfunction copy(target) {\r\n    // answer a shallow copy of target\r\n    var value, c, property, keys, l, i;\r\n\r\n    if (typeof target !== 'object') {\r\n        return target;\r\n    }\r\n    value = target.valueOf();\r\n    if (target !== value) {\r\n        return new target.constructor(value);\r\n    }\r\n    if (target instanceof target.constructor &&\r\n            target.constructor !== Object) {\r\n        c = Object.create(target.constructor.prototype);\r\n        keys = Object.keys(target);\r\n        for (l = keys.length, i = 0; i < l; i += 1) {\r\n            property = keys[i];\r\n            c[property] = target[property];\r\n        }\r\n    } else {\r\n        c = {};\r\n        for (property in target) {\r\n            c[property] = target[property];\r\n        }\r\n    }\r\n    return c;\r\n}\r\n\r\n// Retina Display Support //////////////////////////////////////////////\r\n\r\n/*\r\n    By default retina support gets installed when Morphic.js loads. There\r\n    are two global functions that let you test for retina availability:\r\n\r\n        isRetinaSupported() - Boolean, whether retina support is available\r\n        isRetinaEnabled()   - Boolean, whether currently in retina mode\r\n\r\n    and two more functions that let you control retina support if it is\r\n    available:\r\n\r\n        enableRetinaSupport()\r\n        disableRetinaSupport()\r\n\r\n    Both of these internally test whether retina is available, so they are\r\n    safe to call directly.\r\n\r\n    Even when in retina mode it often makes sense to use non-high-resolution\r\n    canvasses for simple shapes in order to save system resources and\r\n    optimize performance. Examples are costumes and backgrounds in Snap.\r\n    In Morphic you can create new canvas elements using\r\n    \r\n        newCanvas(extentPoint [, nonRetinaFlag])\r\n\r\n    If retina support is enabled such new canvasses will automatically be\r\n    high-resolution canvasses, unless the newCanvas() function is given an\r\n    otherwise optional second Boolean <true> argument that explicitly makes\r\n    it a non-retina canvas.\r\n\r\n    Not the whole canvas API is supported by Morphic's retina utilities.\r\n    Especially if your code uses putImageData() you will want to \"downgrade\"\r\n    a target high-resolution canvas to a normal-resolution (\"non-retina\")\r\n    one before using\r\n\r\n        normalizeCanvas(aCanvas [, copyFlag])\r\n\r\n    This will change the target canvas' resolution in place (!). If you\r\n    pass in the optional second Boolean <true> flag the function returns\r\n    a non-retina copy and leaves the target canvas unchanged. An example\r\n    of this normalize mechanism is converting the penTrails layer of Snap's\r\n    stage (high-resolution) into a sprite-costume (normal resolution).\r\n*/\r\n\r\nfunction enableRetinaSupport() {\r\n/*\r\n    === contributed by Bartosz Leper ===\r\n\r\n    This installs a series of utilities that allow using Canvas the same way\r\n    on retina and non-retina displays. If the display is a retina one, the\r\n    underlying dimensions of the Canvas elements are doubled, but this will\r\n    be transparent to the code that uses Canvas. All dimensions read or\r\n    written to the Canvas element will be scaled appropriately.\r\n\r\n    NOTE: This implementation is not exhaustive; it only implements what is\r\n    needed by the Snap! UI.\r\n    \r\n    [Jens]: like all other retina screen support implementations I've seen\r\n    Bartosz's patch also does not address putImageData() compatibility when\r\n    mixing retina-enabled and non-retina canvasses. If you need to manipulate\r\n    pixels in such mixed canvasses, make sure to \"downgrade\" them all using\r\n    normalizeCanvas() below.\r\n*/\r\n\r\n    // Get the window's pixel ratio for canvas elements.\r\n    // See: http://www.html5rocks.com/en/tutorials/canvas/hidpi/\r\n    var ctx = document.createElement(\"canvas\").getContext(\"2d\"),\r\n        backingStorePixelRatio = ctx.webkitBackingStorePixelRatio ||\r\n            ctx.mozBackingStorePixelRatio ||\r\n            ctx.msBackingStorePixelRatio ||\r\n            ctx.oBackingStorePixelRatio ||\r\n            ctx.backingStorePixelRatio || 1,\r\n\r\n    // Unfortunately, it's really hard to make this work well when changing\r\n    // zoom level, so let's leave it like this right now, and stick to\r\n    // whatever the ratio was in the beginning.\r\n\r\n        // originalDevicePixelRatio = window.devicePixelRatio,\r\n\r\n    // [Jens]: As of summer 2016 non-integer devicePixelRatios lead to\r\n    // artifacts when blitting images onto canvas elements in all browsers\r\n    // except Chrome, especially Firefox, Edge, IE (Safari doesn't even\r\n    // support retina mode as implemented here).\r\n    // therefore - to ensure crisp fonts - use the ceiling of whatever\r\n    // the devicePixelRatio is. This needs more memory, but looks nicer.\r\n\r\n        originalDevicePixelRatio = Math.ceil(window.devicePixelRatio),\r\n\r\n        canvasProto = HTMLCanvasElement.prototype,\r\n        contextProto = CanvasRenderingContext2D.prototype,\r\n\r\n    // [Jens]: keep track of original properties in a dictionary\r\n    // so they can be iterated over and restored\r\n        uber = {\r\n            drawImage: contextProto.drawImage,\r\n            getImageData: contextProto.getImageData,\r\n\r\n            width: Object.getOwnPropertyDescriptor(\r\n                canvasProto,\r\n                'width'\r\n            ),\r\n            height: Object.getOwnPropertyDescriptor(\r\n                canvasProto,\r\n                'height'\r\n            ),\r\n            shadowOffsetX: Object.getOwnPropertyDescriptor(\r\n                contextProto,\r\n                'shadowOffsetX'\r\n            ),\r\n            shadowOffsetY: Object.getOwnPropertyDescriptor(\r\n                contextProto,\r\n                'shadowOffsetY'\r\n            ),\r\n            shadowBlur: Object.getOwnPropertyDescriptor(\r\n                contextProto,\r\n                'shadowBlur'\r\n            )\r\n        };\r\n\r\n    // [Jens]: only install retina utilities if the display supports them\r\n    if (backingStorePixelRatio === originalDevicePixelRatio) {return; }\r\n    // [Jens]: check whether properties can be overridden, needed for Safari\r\n    if (Object.keys(uber).some(function (any) {\r\n        var prop = uber[any];\r\n        return prop.hasOwnProperty('configurable') && (!prop.configurable);\r\n    })) {return; }\r\n\r\n    function getPixelRatio(imageSource) {\r\n        return imageSource.isRetinaEnabled ?\r\n            (originalDevicePixelRatio || 1) / backingStorePixelRatio : 1;\r\n    }\r\n\r\n    canvasProto._isRetinaEnabled = true;\r\n    // [Jens]: remember the original non-retina properties,\r\n    // so they can be restored again\r\n    canvasProto._bak = uber;\r\n\r\n    Object.defineProperty(canvasProto, 'isRetinaEnabled', {\r\n        get: function() {\r\n            return this._isRetinaEnabled;\r\n        },\r\n        set: function(enabled) {\r\n            var prevPixelRatio = getPixelRatio(this),\r\n                prevWidth = this.width,\r\n                prevHeight = this.height;\r\n\r\n            this._isRetinaEnabled = enabled;\r\n            if (getPixelRatio(this) != prevPixelRatio) {\r\n                this.width = prevWidth;\r\n                this.height = prevHeight;\r\n            }\r\n        },\r\n        configurable: true // [Jens]: allow to be deleted an reconfigured\r\n    });\r\n\r\n    Object.defineProperty(canvasProto, 'width', {\r\n        get: function() {\r\n            return uber.width.get.call(this) / getPixelRatio(this);\r\n        },\r\n        set: function(width) {\r\n            try { // workaround one of FF's dreaded NS_ERROR_FAILURE bugs\r\n                // this should be taken out as soon as FF gets fixed again\r\n                var pixelRatio = getPixelRatio(this),\r\n                    context;\r\n                uber.width.set.call(this, width * pixelRatio);\r\n                context = this.getContext('2d');\r\n                context.restore();\r\n                context.save();\r\n                context.scale(pixelRatio, pixelRatio);\r\n            } catch (err) {\r\n                console.log('Retina Display Support Problem', err);\r\n                uber.width.set.call(this, width);\r\n            }\r\n        }\r\n    });\r\n\r\n    Object.defineProperty(canvasProto, 'height', {\r\n        get: function() {\r\n            return uber.height.get.call(this) / getPixelRatio(this);\r\n        },\r\n        set: function(height) {\r\n            var pixelRatio = getPixelRatio(this),\r\n                context;\r\n            uber.height.set.call(this, height * pixelRatio);\r\n            context = this.getContext('2d');\r\n            context.restore();\r\n            context.save();\r\n            context.scale(pixelRatio, pixelRatio);\r\n        }\r\n    });\r\n\r\n    contextProto.drawImage = function(image) {\r\n        var pixelRatio = getPixelRatio(image),\r\n            sx, sy, sWidth, sHeight, dx, dy, dWidth, dHeight;\r\n        \r\n        // Different signatures of drawImage() method have different\r\n        // parameter assignments.\r\n        switch (arguments.length) {\r\n            case 9:\r\n                sx = arguments[1];\r\n                sy = arguments[2];\r\n                sWidth = arguments[3];\r\n                sHeight = arguments[4];\r\n                dx = arguments[5];\r\n                dy = arguments[6];\r\n                dWidth = arguments[7];\r\n                dHeight = arguments[8];\r\n                break;\r\n\r\n            case 5:\r\n                sx = 0;\r\n                sy = 0;\r\n                sWidth = image.width;\r\n                sHeight = image.height;\r\n                dx = arguments[1];\r\n                dy = arguments[2];\r\n                dWidth = arguments[3];\r\n                dHeight = arguments[4];\r\n                break;\r\n\r\n            case 3:\r\n                sx = 0;\r\n                sy = 0;\r\n                sWidth = image.width;\r\n                sHeight = image.height;\r\n                dx = arguments[1];\r\n                dy = arguments[2];\r\n                dWidth = image.width;\r\n                dHeight = image.height;\r\n                break;\r\n\r\n            default:\r\n                throw Error('Called drawImage() with ' + arguments.length +\r\n                        ' arguments');\r\n        }\r\n        uber.drawImage.call(\r\n                this, image,\r\n                sx * pixelRatio, sy * pixelRatio,\r\n                sWidth * pixelRatio, sHeight * pixelRatio,\r\n                dx, dy,\r\n                dWidth, dHeight);\r\n    };\r\n\r\n    contextProto.getImageData = function(sx, sy, sw, sh) {\r\n        var pixelRatio = getPixelRatio(this.canvas);\r\n        return uber.getImageData.call(\r\n                this,\r\n                sx * pixelRatio, sy * pixelRatio,\r\n                sw * pixelRatio, sh * pixelRatio);\r\n    };\r\n\r\n    Object.defineProperty(contextProto, 'shadowOffsetX', {\r\n        get: function() {\r\n            return uber.shadowOffsetX.get.call(this) /\r\n                getPixelRatio(this.canvas);\r\n        },\r\n        set: function(offset) {\r\n            var pixelRatio = getPixelRatio(this.canvas);\r\n            uber.shadowOffsetX.set.call(this, offset * pixelRatio);\r\n        }\r\n    });\r\n\r\n    Object.defineProperty(contextProto, 'shadowOffsetY', {\r\n        get: function() {\r\n            return uber.shadowOffsetY.get.call(this) /\r\n                getPixelRatio(this.canvas);\r\n        },\r\n        set: function(offset) {\r\n            var pixelRatio = getPixelRatio(this.canvas);\r\n            uber.shadowOffsetY.set.call(this, offset * pixelRatio);\r\n        }\r\n    });\r\n\r\n    Object.defineProperty(contextProto, 'shadowBlur', {\r\n        get: function() {\r\n            return uber.shadowBlur.get.call(this) /\r\n                getPixelRatio(this.canvas);\r\n        },\r\n        set: function(blur) {\r\n            var pixelRatio = getPixelRatio(this.canvas);\r\n            uber.shadowBlur.set.call(this, blur * pixelRatio);\r\n        }\r\n    });\r\n}\r\n\r\nfunction isRetinaSupported () {\r\n    var ctx = document.createElement(\"canvas\").getContext(\"2d\"),\r\n        backingStorePixelRatio = ctx.webkitBackingStorePixelRatio ||\r\n            ctx.mozBackingStorePixelRatio ||\r\n            ctx.msBackingStorePixelRatio ||\r\n            ctx.oBackingStorePixelRatio ||\r\n            ctx.backingStorePixelRatio || 1,\r\n        canvasProto = HTMLCanvasElement.prototype,\r\n        contextProto = CanvasRenderingContext2D.prototype,\r\n        uber = {\r\n            drawImage: contextProto.drawImage,\r\n            getImageData: contextProto.getImageData,\r\n\r\n            width: Object.getOwnPropertyDescriptor(\r\n                canvasProto,\r\n                'width'\r\n            ),\r\n            height: Object.getOwnPropertyDescriptor(\r\n                canvasProto,\r\n                'height'\r\n            ),\r\n            shadowOffsetX: Object.getOwnPropertyDescriptor(\r\n                contextProto,\r\n                'shadowOffsetX'\r\n            ),\r\n            shadowOffsetY: Object.getOwnPropertyDescriptor(\r\n                contextProto,\r\n                'shadowOffsetY'\r\n            ),\r\n            shadowBlur: Object.getOwnPropertyDescriptor(\r\n                contextProto,\r\n                'shadowBlur'\r\n            )\r\n        };\r\n    return backingStorePixelRatio !== window.devicePixelRatio &&\r\n        !(Object.keys(uber).some(function (any) {\r\n            var prop = uber[any];\r\n            return prop.hasOwnProperty('configurable') && (!prop.configurable);\r\n        })\r\n    );\r\n}\r\n\r\nfunction isRetinaEnabled () {\r\n    return HTMLCanvasElement.prototype.hasOwnProperty('_isRetinaEnabled');\r\n}\r\n\r\nfunction disableRetinaSupport() {\r\n    // uninstalls Retina utilities. Make sure to re-create every Canvas\r\n    // element afterwards\r\n    var canvasProto, contextProto, uber;\r\n    if (!isRetinaEnabled()) {return; }\r\n    canvasProto = HTMLCanvasElement.prototype;\r\n    contextProto = CanvasRenderingContext2D.prototype;\r\n    uber = canvasProto._bak;\r\n    Object.defineProperty(canvasProto, 'width', uber.width);\r\n    Object.defineProperty(canvasProto, 'height', uber.height);\r\n    contextProto.drawImage = uber.drawImage;\r\n    contextProto.getImageData = uber.getImageData;\r\n    Object.defineProperty(contextProto, 'shadowOffsetX', uber.shadowOffsetX);\r\n    Object.defineProperty(contextProto, 'shadowOffsetY', uber.shadowOffsetY);\r\n    Object.defineProperty(contextProto, 'shadowBlur', uber.shadowBlur);\r\n    delete canvasProto._isRetinaEnabled;\r\n    delete canvasProto.isRetinaEnabled;\r\n    delete canvasProto._bak;\r\n}\r\n\r\nfunction normalizeCanvas(aCanvas, getCopy) {\r\n    // make sure aCanvas is non-retina, otherwise convert it in place (!)\r\n    // or answer a normalized copy if the \"getCopy\" flag is <true>\r\n    var cpy;\r\n    if (!aCanvas.isRetinaEnabled) {return aCanvas; }\r\n    cpy = newCanvas(new Point(aCanvas.width, aCanvas.height), true);\r\n    cpy.getContext('2d').drawImage(aCanvas, 0, 0);\r\n    if (getCopy) {return cpy; }\r\n    aCanvas.isRetinaEnabled = false;\r\n    aCanvas.width = cpy.width;\r\n    aCanvas.height = cpy.height;\r\n    aCanvas.getContext('2d').drawImage(cpy, 0, 0);\r\n    return aCanvas;\r\n}\r\n\r\n// Animations //////////////////////////////////////////////////////////////\r\n\r\n/*\r\n    Animations handle gradual transitions between one state and another over a\r\n    period of time. Transition effects can be specified using easing functions.\r\n    An easing function maps a fraction of the transition time to a fraction of\r\n    the state delta. This way accelerating / decelerating and bouncing sliding\r\n    effects can be accomplished.\r\n\r\n    Animations are generic and not limited to motion, i.e. they can also handle\r\n    other transitions such as color changes, transparency fadings, growing,\r\n    shrinking, turning etc.\r\n\r\n    Animations need to be stepped by a scheduler, e. g. an interval function.\r\n    In Morphic the preferred way to run an animation is to register it with\r\n    the World by adding it to the World's animation queue. The World steps each\r\n    registered animation once per display cycle independently of the Morphic\r\n    stepping mechanism.\r\n\r\n    For an example how to use animations look at how the Morph's methods\r\n    \r\n        glideTo()\r\n        fadeTo()\r\n\r\n    and\r\n    \r\n        slideBackTo()\r\n\r\n    are implemented.\r\n*/\r\n\r\n// Animation instance creation:\r\n\r\nfunction Animation(setter, getter, delta, duration, easing, onComplete) {\r\n    this.setter = setter; // function\r\n    this.getter = getter; // function\r\n    this.delta = delta || 0; // number\r\n    this.duration = duration || 0; // milliseconds\r\n    this.easing = isString(easing) ? // string or function\r\n            this.easings[easing] || this.easings.sinusoidal\r\n                : easing || this.easings.sinusoidal;\r\n    this.onComplete = onComplete || null; // optional callback\r\n    this.endTime = null;\r\n    this.destination = null;\r\n    this.isActive = false;\r\n    this.start();\r\n}\r\n\r\nAnimation.prototype.easings = {\r\n    // dictionary of a few pre-defined easing functions used to transition\r\n    // two states\r\n\r\n    // ease both in and out:\r\n    linear: function (t) {return t; },\r\n    sinusoidal: function (t) {return 1 - Math.cos(radians(t * 90)); },\r\n    quadratic: function (t) {\r\n        return t < 0.5 ?\r\n                2 * t * t\r\n                    : ((4 - (2 * t)) * t) - 1;\r\n    },\r\n    cubic: function (t) {\r\n        return t < 0.5 ?\r\n                4 * t * t * t\r\n                    : ((t - 1) * ((2 * t) - 2) * ((2 * t) - 2)) + 1;\r\n    },\r\n    elastic: function (t) {\r\n        return (t -= 0.5) < 0 ?\r\n            (0.01 + 0.01 / t) * Math.sin(50 * t)\r\n                : (0.02 - 0.01 / t) * Math.sin(50 * t) + 1;\r\n    },\r\n\r\n    // ease in only:\r\n    sine_in: function (t) {return 1 - Math.sin(radians(90 + (t * 90))); },\r\n    quad_in: function (t) {return t * t; },\r\n    cubic_in: function (t) {return t * t * t; },\r\n    elastic_in: function (t) {\r\n        return (0.04 - 0.04 / t) * Math.sin(25 * t) + 1;\r\n    },\r\n\r\n    // ease out only:\r\n    sine_out: function (t) {return Math.sin(radians(t * 90)); },\r\n    quad_out: function (t) {return t * (2 - t); },\r\n    elastic_out: function (t) {return 0.04 * t / (--t) * Math.sin(25 * t); }\r\n};\r\n\r\nAnimation.prototype.start = function () {\r\n    // (re-) activate the animation, e.g. if is has previously completed,\r\n    // make sure to plug it into something that repeatedly triggers step(),\r\n    // e.g. the World's animations queue\r\n    this.endTime = Date.now() + this.duration;\r\n    this.destination = this.getter.call(this) + this.delta;\r\n    this.isActive = true;\r\n};\r\n\r\nAnimation.prototype.step = function () {\r\n    if (!this.isActive) {return; }\r\n    var now = Date.now();\r\n    if (now > this.endTime) {\r\n        this.setter(this.destination);\r\n        this.isActive = false;\r\n        if (this.onComplete) {this.onComplete(); }\r\n    } else {\r\n        this.setter(\r\n            this.destination -\r\n                (this.delta * this.easing((this.endTime - now) / this.duration))\r\n        );\r\n    }\r\n};\r\n\r\n// Colors //////////////////////////////////////////////////////////////\r\n\r\n// Color instance creation:\r\n\r\nfunction Color(r, g, b, a) {\r\n    // all values are optional, just (r, g, b) is fine\r\n    this.r = r || 0;\r\n    this.g = g || 0;\r\n    this.b = b || 0;\r\n    this.a = a || ((a === 0) ? 0 : 1);\r\n}\r\n\r\n// Color string representation: e.g. 'rgba(255,165,0,1)'\r\n\r\nColor.prototype.toString = function () {\r\n    return 'rgba(' +\r\n        Math.round(this.r) + ',' +\r\n        Math.round(this.g) + ',' +\r\n        Math.round(this.b) + ',' +\r\n        this.a + ')';\r\n};\r\n\r\n// Color copying:\r\n\r\nColor.prototype.copy = function () {\r\n    return new Color(\r\n        this.r,\r\n        this.g,\r\n        this.b,\r\n        this.a\r\n    );\r\n};\r\n\r\n// Color comparison:\r\n\r\nColor.prototype.eq = function (aColor) {\r\n    // ==\r\n    return aColor &&\r\n        this.r === aColor.r &&\r\n        this.g === aColor.g &&\r\n        this.b === aColor.b;\r\n};\r\n\r\n// Color conversion (hsv):\r\n\r\nColor.prototype.hsv = function () {\r\n    // ignore alpha\r\n    var max, min, h, s, v, d,\r\n        rr = this.r / 255,\r\n        gg = this.g / 255,\r\n        bb = this.b / 255;\r\n    max = Math.max(rr, gg, bb);\r\n    min = Math.min(rr, gg, bb);\r\n    h = max;\r\n    s = max;\r\n    v = max;\r\n    d = max - min;\r\n    s = max === 0 ? 0 : d / max;\r\n    if (max === min) {\r\n        h = 0;\r\n    } else {\r\n        switch (max) {\r\n        case rr:\r\n            h = (gg - bb) / d + (gg < bb ? 6 : 0);\r\n            break;\r\n        case gg:\r\n            h = (bb - rr) / d + 2;\r\n            break;\r\n        case bb:\r\n            h = (rr - gg) / d + 4;\r\n            break;\r\n        }\r\n        h /= 6;\r\n    }\r\n    return [h, s, v];\r\n};\r\n\r\nColor.prototype.set_hsv = function (h, s, v) {\r\n    // ignore alpha, h, s and v are to be within [0, 1]\r\n    var i, f, p, q, t;\r\n    i = Math.floor(h * 6);\r\n    f = h * 6 - i;\r\n    p = v * (1 - s);\r\n    q = v * (1 - f * s);\r\n    t = v * (1 - (1 - f) * s);\r\n    switch (i % 6) {\r\n    case 0:\r\n        this.r = v;\r\n        this.g = t;\r\n        this.b = p;\r\n        break;\r\n    case 1:\r\n        this.r = q;\r\n        this.g = v;\r\n        this.b = p;\r\n        break;\r\n    case 2:\r\n        this.r = p;\r\n        this.g = v;\r\n        this.b = t;\r\n        break;\r\n    case 3:\r\n        this.r = p;\r\n        this.g = q;\r\n        this.b = v;\r\n        break;\r\n    case 4:\r\n        this.r = t;\r\n        this.g = p;\r\n        this.b = v;\r\n        break;\r\n    case 5:\r\n        this.r = v;\r\n        this.g = p;\r\n        this.b = q;\r\n        break;\r\n    }\r\n\r\n    this.r *= 255;\r\n    this.g *= 255;\r\n    this.b *= 255;\r\n\r\n};\r\n\r\n// Color mixing:\r\n\r\nColor.prototype.mixed = function (proportion, otherColor) {\r\n    // answer a copy of this color mixed with another color, ignore alpha\r\n    var frac1 = Math.min(Math.max(proportion, 0), 1),\r\n        frac2 = 1 - frac1;\r\n    return new Color(\r\n        this.r * frac1 + otherColor.r * frac2,\r\n        this.g * frac1 + otherColor.g * frac2,\r\n        this.b * frac1 + otherColor.b * frac2\r\n    );\r\n};\r\n\r\nColor.prototype.darker = function (percent) {\r\n    // return an rgb-interpolated darker copy of me, ignore alpha\r\n    var fract = 0.8333;\r\n    if (percent) {\r\n        fract = (100 - percent) / 100;\r\n    }\r\n    return this.mixed(fract, new Color(0, 0, 0));\r\n};\r\n\r\nColor.prototype.lighter = function (percent) {\r\n    // return an rgb-interpolated lighter copy of me, ignore alpha\r\n    var fract = 0.8333;\r\n    if (percent) {\r\n        fract = (100 - percent) / 100;\r\n    }\r\n    return this.mixed(fract, new Color(255, 255, 255));\r\n};\r\n\r\nColor.prototype.dansDarker = function () {\r\n    // return an hsv-interpolated darker copy of me, ignore alpha\r\n    var hsv = this.hsv(),\r\n        result = new Color(),\r\n        vv = Math.max(hsv[2] - 0.16, 0);\r\n    result.set_hsv(hsv[0], hsv[1], vv);\r\n    return result;\r\n};\r\n\r\nColor.prototype.inverted = function () {\r\n    return new Color(\r\n        255 - this.r,\r\n        255 - this.g,\r\n        255 - this.b\r\n    );\r\n};\r\n\r\n// Points //////////////////////////////////////////////////////////////\r\n\r\n// Point instance creation:\r\n\r\nfunction Point(x, y) {\r\n    this.x = x || 0;\r\n    this.y = y || 0;\r\n}\r\n\r\n// Point string representation: e.g. '12@68'\r\n\r\nPoint.prototype.toString = function () {\r\n    return Math.round(this.x.toString()) +\r\n        '@' + Math.round(this.y.toString());\r\n};\r\n\r\n// Point copying:\r\n\r\nPoint.prototype.copy = function () {\r\n    return new Point(this.x, this.y);\r\n};\r\n\r\n// Point comparison:\r\n\r\nPoint.prototype.eq = function (aPoint) {\r\n    // ==\r\n    return this.x === aPoint.x && this.y === aPoint.y;\r\n};\r\n\r\nPoint.prototype.lt = function (aPoint) {\r\n    // <\r\n    return this.x < aPoint.x && this.y < aPoint.y;\r\n};\r\n\r\nPoint.prototype.gt = function (aPoint) {\r\n    // >\r\n    return this.x > aPoint.x && this.y > aPoint.y;\r\n};\r\n\r\nPoint.prototype.ge = function (aPoint) {\r\n    // >=\r\n    return this.x >= aPoint.x && this.y >= aPoint.y;\r\n};\r\n\r\nPoint.prototype.le = function (aPoint) {\r\n    // <=\r\n    return this.x <= aPoint.x && this.y <= aPoint.y;\r\n};\r\n\r\nPoint.prototype.max = function (aPoint) {\r\n    return new Point(Math.max(this.x, aPoint.x),\r\n        Math.max(this.y, aPoint.y));\r\n};\r\n\r\nPoint.prototype.min = function (aPoint) {\r\n    return new Point(Math.min(this.x, aPoint.x),\r\n        Math.min(this.y, aPoint.y));\r\n};\r\n\r\n// Point conversion:\r\n\r\nPoint.prototype.round = function () {\r\n    return new Point(Math.round(this.x), Math.round(this.y));\r\n};\r\n\r\nPoint.prototype.abs = function () {\r\n    return new Point(Math.abs(this.x), Math.abs(this.y));\r\n};\r\n\r\nPoint.prototype.neg = function () {\r\n    return new Point(-this.x, -this.y);\r\n};\r\n\r\nPoint.prototype.mirror = function () {\r\n    return new Point(this.y, this.x);\r\n};\r\n\r\nPoint.prototype.floor = function () {\r\n    return new Point(\r\n        Math.max(Math.floor(this.x), 0),\r\n        Math.max(Math.floor(this.y), 0)\r\n    );\r\n};\r\n\r\nPoint.prototype.ceil = function () {\r\n    return new Point(Math.ceil(this.x), Math.ceil(this.y));\r\n};\r\n\r\n// Point arithmetic:\r\n\r\nPoint.prototype.add = function (other) {\r\n    if (other instanceof Point) {\r\n        return new Point(this.x + other.x, this.y + other.y);\r\n    }\r\n    return new Point(this.x + other, this.y + other);\r\n};\r\n\r\nPoint.prototype.subtract = function (other) {\r\n    if (other instanceof Point) {\r\n        return new Point(this.x - other.x, this.y - other.y);\r\n    }\r\n    return new Point(this.x - other, this.y - other);\r\n};\r\n\r\nPoint.prototype.multiplyBy = function (other) {\r\n    if (other instanceof Point) {\r\n        return new Point(this.x * other.x, this.y * other.y);\r\n    }\r\n    return new Point(this.x * other, this.y * other);\r\n};\r\n\r\nPoint.prototype.divideBy = function (other) {\r\n    if (other instanceof Point) {\r\n        return new Point(this.x / other.x, this.y / other.y);\r\n    }\r\n    return new Point(this.x / other, this.y / other);\r\n};\r\n\r\nPoint.prototype.floorDivideBy = function (other) {\r\n    if (other instanceof Point) {\r\n        return new Point(Math.floor(this.x / other.x),\r\n            Math.floor(this.y / other.y));\r\n    }\r\n    return new Point(Math.floor(this.x / other),\r\n        Math.floor(this.y / other));\r\n};\r\n\r\n// Point polar coordinates:\r\n\r\nPoint.prototype.r = function () {\r\n    var t = (this.multiplyBy(this));\r\n    return Math.sqrt(t.x + t.y);\r\n};\r\n\r\nPoint.prototype.degrees = function () {\r\n/*\r\n    answer the angle I make with origin in degrees.\r\n    Right is 0, down is 90\r\n*/\r\n    var tan, theta;\r\n\r\n    if (this.x === 0) {\r\n        if (this.y >= 0) {\r\n            return 90;\r\n        }\r\n        return 270;\r\n    }\r\n    tan = this.y / this.x;\r\n    theta = Math.atan(tan);\r\n    if (this.x >= 0) {\r\n        if (this.y >= 0) {\r\n            return degrees(theta);\r\n        }\r\n        return 360 + (degrees(theta));\r\n    }\r\n    return 180 + degrees(theta);\r\n};\r\n\r\nPoint.prototype.theta = function () {\r\n/*\r\n    answer the angle I make with origin in radians.\r\n    Right is 0, down is 90\r\n*/\r\n    var tan, theta;\r\n\r\n    if (this.x === 0) {\r\n        if (this.y >= 0) {\r\n            return radians(90);\r\n        }\r\n        return radians(270);\r\n    }\r\n    tan = this.y / this.x;\r\n    theta = Math.atan(tan);\r\n    if (this.x >= 0) {\r\n        if (this.y >= 0) {\r\n            return theta;\r\n        }\r\n        return radians(360) + theta;\r\n    }\r\n    return radians(180) + theta;\r\n};\r\n\r\n// Point functions:\r\n\r\nPoint.prototype.crossProduct = function (aPoint) {\r\n    return this.multiplyBy(aPoint.mirror());\r\n};\r\n\r\nPoint.prototype.distanceTo = function (aPoint) {\r\n    return (aPoint.subtract(this)).r();\r\n};\r\n\r\nPoint.prototype.rotate = function (direction, center) {\r\n    // direction must be 'right', 'left' or 'pi'\r\n    var offset = this.subtract(center);\r\n    if (direction === 'right') {\r\n        return new Point(-offset.y, offset.y).add(center);\r\n    }\r\n    if (direction === 'left') {\r\n        return new Point(offset.y, -offset.y).add(center);\r\n    }\r\n    // direction === 'pi'\r\n    return center.subtract(offset);\r\n};\r\n\r\nPoint.prototype.flip = function (direction, center) {\r\n    // direction must be 'vertical' or 'horizontal'\r\n    if (direction === 'vertical') {\r\n        return new Point(this.x, center.y * 2 - this.y);\r\n    }\r\n    // direction === 'horizontal'\r\n    return new Point(center.x * 2 - this.x, this.y);\r\n};\r\n\r\nPoint.prototype.distanceAngle = function (dist, angle) {\r\n    var deg = angle, x, y;\r\n    if (deg > 270) {\r\n        deg = deg - 360;\r\n    } else if (deg < -270) {\r\n        deg = deg + 360;\r\n    }\r\n    if (-90 <= deg && deg <= 90) {\r\n        x = Math.sin(radians(deg)) * dist;\r\n        y = Math.sqrt((dist * dist) - (x * x));\r\n        return new Point(x + this.x, this.y - y);\r\n    }\r\n    x = Math.sin(radians(180 - deg)) * dist;\r\n    y = Math.sqrt((dist * dist) - (x * x));\r\n    return new Point(x + this.x, this.y + y);\r\n};\r\n\r\n// Point transforming:\r\n\r\nPoint.prototype.scaleBy = function (scalePoint) {\r\n    return this.multiplyBy(scalePoint);\r\n};\r\n\r\nPoint.prototype.translateBy = function (deltaPoint) {\r\n    return this.add(deltaPoint);\r\n};\r\n\r\nPoint.prototype.rotateBy = function (angle, centerPoint) {\r\n    var center = centerPoint || new Point(0, 0),\r\n        p = this.subtract(center),\r\n        r = p.r(),\r\n        theta = angle - p.theta();\r\n    return new Point(\r\n        center.x + (r * Math.cos(theta)),\r\n        center.y - (r * Math.sin(theta))\r\n    );\r\n};\r\n\r\n// Point conversion:\r\n\r\nPoint.prototype.asArray = function () {\r\n    return [this.x, this.y];\r\n};\r\n\r\n// Rectangles //////////////////////////////////////////////////////////\r\n\r\n// Rectangle instance creation:\r\n\r\nfunction Rectangle(left, top, right, bottom) {\r\n    this.init(new Point((left || 0), (top || 0)),\r\n            new Point((right || 0), (bottom || 0)));\r\n}\r\n\r\nRectangle.prototype.init = function (originPoint, cornerPoint) {\r\n    this.origin = originPoint;\r\n    this.corner = cornerPoint;\r\n};\r\n\r\n// Rectangle string representation: e.g. '[0@0 | 160@80]'\r\n\r\nRectangle.prototype.toString = function () {\r\n    return '[' + this.origin.toString() + ' | ' +\r\n        this.extent().toString() + ']';\r\n};\r\n\r\n// Rectangle copying:\r\n\r\nRectangle.prototype.copy = function () {\r\n    return new Rectangle(\r\n        this.left(),\r\n        this.top(),\r\n        this.right(),\r\n        this.bottom()\r\n    );\r\n};\r\n\r\n// creating Rectangle instances from Points:\r\n\r\nPoint.prototype.corner = function (cornerPoint) {\r\n    // answer a new Rectangle\r\n    return new Rectangle(\r\n        this.x,\r\n        this.y,\r\n        cornerPoint.x,\r\n        cornerPoint.y\r\n    );\r\n};\r\n\r\nPoint.prototype.rectangle = function (aPoint) {\r\n    // answer a new Rectangle\r\n    var org, crn;\r\n    org = this.min(aPoint);\r\n    crn = this.max(aPoint);\r\n    return new Rectangle(org.x, org.y, crn.x, crn.y);\r\n};\r\n\r\nPoint.prototype.extent = function (aPoint) {\r\n    //answer a new Rectangle\r\n    var crn = this.add(aPoint);\r\n    return new Rectangle(this.x, this.y, crn.x, crn.y);\r\n};\r\n\r\n// Rectangle accessing - setting:\r\n\r\nRectangle.prototype.setTo = function (left, top, right, bottom) {\r\n    // note: all inputs are optional and can be omitted\r\n\r\n    this.origin = new Point(\r\n        left || ((left === 0) ? 0 : this.left()),\r\n        top || ((top === 0) ? 0 : this.top())\r\n    );\r\n\r\n    this.corner = new Point(\r\n        right || ((right === 0) ? 0 : this.right()),\r\n        bottom || ((bottom === 0) ? 0 : this.bottom())\r\n    );\r\n};\r\n\r\n// Rectangle accessing - getting:\r\n\r\nRectangle.prototype.area = function () {\r\n    //requires width() and height() to be defined\r\n    var w = this.width();\r\n    if (w < 0) {\r\n        return 0;\r\n    }\r\n    return Math.max(w * this.height(), 0);\r\n};\r\n\r\nRectangle.prototype.bottom = function () {\r\n    return this.corner.y;\r\n};\r\n\r\nRectangle.prototype.bottomCenter = function () {\r\n    return new Point(this.center().x, this.bottom());\r\n};\r\n\r\nRectangle.prototype.bottomLeft = function () {\r\n    return new Point(this.origin.x, this.corner.y);\r\n};\r\n\r\nRectangle.prototype.bottomRight = function () {\r\n    return this.corner.copy();\r\n};\r\n\r\nRectangle.prototype.boundingBox = function () {\r\n    return this;\r\n};\r\n\r\nRectangle.prototype.center = function () {\r\n    return this.origin.add(\r\n        this.corner.subtract(this.origin).floorDivideBy(2)\r\n    );\r\n};\r\n\r\nRectangle.prototype.corners = function () {\r\n    return [this.origin,\r\n        this.bottomLeft(),\r\n        this.corner,\r\n        this.topRight()];\r\n};\r\n\r\nRectangle.prototype.extent = function () {\r\n    return this.corner.subtract(this.origin);\r\n};\r\n\r\nRectangle.prototype.height = function () {\r\n    return this.corner.y - this.origin.y;\r\n};\r\n\r\nRectangle.prototype.left = function () {\r\n    return this.origin.x;\r\n};\r\n\r\nRectangle.prototype.leftCenter = function () {\r\n    return new Point(this.left(), this.center().y);\r\n};\r\n\r\nRectangle.prototype.right = function () {\r\n    return this.corner.x;\r\n};\r\n\r\nRectangle.prototype.rightCenter = function () {\r\n    return new Point(this.right(), this.center().y);\r\n};\r\n\r\nRectangle.prototype.top = function () {\r\n    return this.origin.y;\r\n};\r\n\r\nRectangle.prototype.topCenter = function () {\r\n    return new Point(this.center().x, this.top());\r\n};\r\n\r\nRectangle.prototype.topLeft = function () {\r\n    return this.origin;\r\n};\r\n\r\nRectangle.prototype.topRight = function () {\r\n    return new Point(this.corner.x, this.origin.y);\r\n};\r\n\r\nRectangle.prototype.width = function () {\r\n    return this.corner.x - this.origin.x;\r\n};\r\n\r\nRectangle.prototype.position = function () {\r\n    return this.origin;\r\n};\r\n\r\n// Rectangle comparison:\r\n\r\nRectangle.prototype.eq = function (aRect) {\r\n    return this.origin.eq(aRect.origin) &&\r\n        this.corner.eq(aRect.corner);\r\n};\r\n\r\nRectangle.prototype.abs = function () {\r\n    var newOrigin, newCorner;\r\n\r\n    newOrigin = this.origin.abs();\r\n    newCorner = this.corner.max(newOrigin);\r\n    return newOrigin.corner(newCorner);\r\n};\r\n\r\n// Rectangle functions:\r\n\r\nRectangle.prototype.insetBy = function (delta) {\r\n    // delta can be either a Point or a Number\r\n    var result = new Rectangle();\r\n    result.origin = this.origin.add(delta);\r\n    result.corner = this.corner.subtract(delta);\r\n    return result;\r\n};\r\n\r\nRectangle.prototype.expandBy = function (delta) {\r\n    // delta can be either a Point or a Number\r\n    var result = new Rectangle();\r\n    result.origin = this.origin.subtract(delta);\r\n    result.corner = this.corner.add(delta);\r\n    return result;\r\n};\r\n\r\nRectangle.prototype.growBy = function (delta) {\r\n    // delta can be either a Point or a Number\r\n    var result = new Rectangle();\r\n    result.origin = this.origin.copy();\r\n    result.corner = this.corner.add(delta);\r\n    return result;\r\n};\r\n\r\nRectangle.prototype.intersect = function (aRect) {\r\n    var result = new Rectangle();\r\n    result.origin = this.origin.max(aRect.origin);\r\n    result.corner = this.corner.min(aRect.corner);\r\n    return result;\r\n};\r\n\r\nRectangle.prototype.merge = function (aRect) {\r\n    var result = new Rectangle();\r\n    result.origin = this.origin.min(aRect.origin);\r\n    result.corner = this.corner.max(aRect.corner);\r\n    return result;\r\n};\r\n\r\nRectangle.prototype.mergeWith = function (aRect) {\r\n    // mutates myself\r\n    this.origin = this.origin.min(aRect.origin);\r\n    this.corner = this.corner.max(aRect.corner);\r\n};\r\n\r\nRectangle.prototype.round = function () {\r\n    return this.origin.round().corner(this.corner.round());\r\n};\r\n\r\nRectangle.prototype.spread = function () {\r\n    // round me by applying floor() to my origin and ceil() to my corner\r\n    // expand by 1 to be on the safe side, this eliminates rounding\r\n    // artifacts caused by Safari's auto-scaling on retina displays\r\n    return this.origin.floor().corner(this.corner.ceil()).expandBy(1);\r\n};\r\n\r\nRectangle.prototype.amountToTranslateWithin = function (aRect) {\r\n/*\r\n    Answer a Point, delta, such that self + delta is forced within\r\n    aRectangle. when all of me cannot be made to fit, prefer to keep\r\n    my topLeft inside. Taken from Squeak.\r\n*/\r\n    var dx = 0, dy = 0;\r\n\r\n    if (this.right() > aRect.right()) {\r\n        dx = aRect.right() - this.right();\r\n    }\r\n    if (this.bottom() > aRect.bottom()) {\r\n        dy = aRect.bottom() - this.bottom();\r\n    }\r\n    if ((this.left() + dx) < aRect.left()) {\r\n        dx = aRect.left() - this.left();\r\n    }\r\n    if ((this.top() + dy) < aRect.top()) {\r\n        dy = aRect.top() - this.top();\r\n    }\r\n    return new Point(dx, dy);\r\n};\r\n\r\n// Rectangle testing:\r\n\r\nRectangle.prototype.containsPoint = function (aPoint) {\r\n    return this.origin.le(aPoint) && aPoint.lt(this.corner);\r\n};\r\n\r\nRectangle.prototype.containsRectangle = function (aRect) {\r\n    return aRect.origin.gt(this.origin) &&\r\n        aRect.corner.lt(this.corner);\r\n};\r\n\r\nRectangle.prototype.intersects = function (aRect) {\r\n    var ro = aRect.origin, rc = aRect.corner;\r\n    return (rc.x >= this.origin.x) &&\r\n        (rc.y >= this.origin.y) &&\r\n        (ro.x <= this.corner.x) &&\r\n        (ro.y <= this.corner.y);\r\n};\r\n\r\nRectangle.prototype.isNearTo = function (aRect, threshold) {\r\n    var ro = aRect.origin, rc = aRect.corner, border = threshold || 0;\r\n    return (rc.x + border >= this.origin.x) &&\r\n        (rc.y  + border >= this.origin.y) &&\r\n        (ro.x - border <= this.corner.x) &&\r\n        (ro.y - border <= this.corner.y);\r\n};\r\n\r\n// Rectangle transforming:\r\n\r\nRectangle.prototype.scaleBy = function (scale) {\r\n    // scale can be either a Point or a scalar\r\n    var o = this.origin.multiplyBy(scale),\r\n        c = this.corner.multiplyBy(scale);\r\n    return new Rectangle(o.x, o.y, c.x, c.y);\r\n};\r\n\r\nRectangle.prototype.translateBy = function (factor) {\r\n    // factor can be either a Point or a scalar\r\n    var o = this.origin.add(factor),\r\n        c = this.corner.add(factor);\r\n    return new Rectangle(o.x, o.y, c.x, c.y);\r\n};\r\n\r\n// Rectangle converting:\r\n\r\nRectangle.prototype.asArray = function () {\r\n    return [this.left(), this.top(), this.right(), this.bottom()];\r\n};\r\n\r\nRectangle.prototype.asArray_xywh = function () {\r\n    return [this.left(), this.top(), this.width(), this.height()];\r\n};\r\n\r\n// Nodes ///////////////////////////////////////////////////////////////\r\n\r\n// Node instance creation:\r\n\r\nfunction Node(parent, childrenArray) {\r\n    this.init(parent || null, childrenArray || []);\r\n}\r\n\r\nNode.prototype.init = function (parent, childrenArray) {\r\n    this.parent = parent || null;\r\n    this.children = childrenArray || [];\r\n};\r\n\r\n// Node string representation: e.g. 'a Node[3]'\r\n\r\nNode.prototype.toString = function () {\r\n    return 'a Node' + '[' + this.children.length.toString() + ']';\r\n};\r\n\r\n// Node accessing:\r\n\r\nNode.prototype.addChild = function (aNode) {\r\n    this.children.push(aNode);\r\n    aNode.parent = this;\r\n};\r\n\r\nNode.prototype.addChildFirst = function (aNode) {\r\n    this.children.splice(0, null, aNode);\r\n    aNode.parent = this;\r\n};\r\n\r\nNode.prototype.removeChild = function (aNode) {\r\n    var idx = this.children.indexOf(aNode);\r\n    if (idx !== -1) {\r\n        this.children.splice(idx, 1);\r\n    }\r\n};\r\n\r\n// Node functions:\r\n\r\nNode.prototype.root = function () {\r\n    if (this.parent === null) {\r\n        return this;\r\n    }\r\n    return this.parent.root();\r\n};\r\n\r\nNode.prototype.depth = function () {\r\n    if (this.parent === null) {\r\n        return 0;\r\n    }\r\n    return this.parent.depth() + 1;\r\n};\r\n\r\nNode.prototype.allChildren = function () {\r\n    // includes myself\r\n    var result = [this];\r\n    this.children.forEach(function (child) {\r\n        result = result.concat(child.allChildren());\r\n    });\r\n    return result;\r\n};\r\n\r\nNode.prototype.forAllChildren = function (aFunction) {\r\n    if (this.children.length > 0) {\r\n        this.children.forEach(function (child) {\r\n            child.forAllChildren(aFunction);\r\n        });\r\n    }\r\n    aFunction.call(null, this);\r\n};\r\n\r\nNode.prototype.anyChild = function (aPredicate) {\r\n    // includes myself\r\n    var i;\r\n    if (aPredicate.call(null, this)) {\r\n        return true;\r\n    }\r\n    for (i = 0; i < this.children.length; i += 1) {\r\n        if (this.children[i].anyChild(aPredicate)) {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n};\r\n\r\nNode.prototype.allLeafs = function () {\r\n    var result = [];\r\n    this.allChildren().forEach(function (element) {\r\n        if (element.children.length === 0) {\r\n            result.push(element);\r\n        }\r\n    });\r\n    return result;\r\n};\r\n\r\nNode.prototype.allParents = function () {\r\n    // includes myself\r\n    var result = [this];\r\n    if (this.parent !== null) {\r\n        result = result.concat(this.parent.allParents());\r\n    }\r\n    return result;\r\n};\r\n\r\nNode.prototype.siblings = function () {\r\n    var myself = this;\r\n    if (this.parent === null) {\r\n        return [];\r\n    }\r\n    return this.parent.children.filter(function (child) {\r\n        return child !== myself;\r\n    });\r\n};\r\n\r\nNode.prototype.parentThatIsA = function (constructor) {\r\n    // including myself\r\n    if (this instanceof constructor) {\r\n        return this;\r\n    }\r\n    if (!this.parent) {\r\n        return null;\r\n    }\r\n    return this.parent.parentThatIsA(constructor);\r\n};\r\n\r\nNode.prototype.parentThatIsAnyOf = function (constructors) {\r\n    // including myself\r\n    var yup = false,\r\n        myself = this;\r\n    constructors.forEach(function (each) {\r\n        if (myself.constructor === each) {\r\n            yup = true;\r\n            return;\r\n        }\r\n    });\r\n    if (yup) {\r\n        return this;\r\n    }\r\n    if (!this.parent) {\r\n        return null;\r\n    }\r\n    return this.parent.parentThatIsAnyOf(constructors);\r\n};\r\n\r\n// Morphs //////////////////////////////////////////////////////////////\r\n\r\n// Morph: referenced constructors\r\n\r\nvar Morph;\r\nvar WorldMorph;\r\nvar HandMorph;\r\nvar ShadowMorph;\r\nvar FrameMorph;\r\nvar MenuMorph;\r\nvar HandleMorph;\r\nvar StringFieldMorph;\r\nvar ColorPickerMorph;\r\nvar SliderMorph;\r\nvar ScrollFrameMorph;\r\nvar InspectorMorph;\r\nvar StringMorph;\r\nvar TextMorph;\r\n\r\n// Morph inherits from Node:\r\n\r\nMorph.prototype = new Node();\r\nMorph.prototype.constructor = Morph;\r\nMorph.uber = Node.prototype;\r\n\r\n// Morph settings:\r\n\r\n/*\r\n    damage list housekeeping\r\n\r\n    the trackChanges property of the Morph prototype is a Boolean switch\r\n    that determines whether the World's damage list ('broken' rectangles)\r\n    tracks changes. By default the switch is always on. If set to false\r\n    changes are not stored. This can be very useful for housekeeping of\r\n    the damage list in situations where a large number of (sub-) morphs\r\n    are changed more or less at once. Instead of keeping track of every\r\n    single submorph's changes tremendous performance improvements can be\r\n    achieved by setting the trackChanges flag to false before propagating\r\n    the layout changes, setting it to true again and then storing the full\r\n    bounds of the surrounding morph. As an example refer to the\r\n\r\n        fixLayout()\r\n\r\n    method of InspectorMorph, or the\r\n\r\n        startLayout()\r\n        endLayout()\r\n\r\n    methods of SyntaxElementMorph in the Snap application.\r\n*/\r\n\r\nMorph.prototype.trackChanges = true;\r\nMorph.prototype.shadowBlur = 4;\r\n\r\n// Morph instance creation:\r\n\r\nfunction Morph() {\r\n    this.init();\r\n}\r\n\r\n// Morph initialization:\r\n\r\nMorph.prototype.init = function (noDraw) {\r\n    Morph.uber.init.call(this);\r\n    this.isMorph = true;\r\n    this.image = null;\r\n    this.bounds = new Rectangle(0, 0, 50, 40);\r\n    this.cachedFullImage = null;\r\n    this.cachedFullBounds = null;\r\n    this.color = new Color(80, 80, 80);\r\n    this.texture = null; // optional url of a fill-image\r\n    this.cachedTexture = null; // internal cache of actual bg image\r\n    this.alpha = 1;\r\n    this.isVisible = true;\r\n    this.isDraggable = false;\r\n    this.isTemplate = false;\r\n    this.acceptsDrops = false;\r\n    this.noticesTransparentClick = false;\r\n    if (!noDraw) {this.drawNew(); }\r\n    this.fps = 0;\r\n    this.customContextMenu = null;\r\n    this.lastTime = Date.now();\r\n    this.onNextStep = null; // optional function to be run once\r\n};\r\n\r\n// Morph string representation: e.g. 'a Morph 2 [20@45 | 130@250]'\r\n\r\nMorph.prototype.toString = function () {\r\n    return 'a ' +\r\n        (this.constructor.name ||\r\n            this.constructor.toString().split(' ')[1].split('(')[0]) +\r\n        ' ' +\r\n        this.children.length.toString() + ' ' +\r\n        this.bounds;\r\n};\r\n\r\n// Morph deleting:\r\n\r\nMorph.prototype.destroy = function () {\r\n    if (this.parent !== null) {\r\n        this.fullChanged();\r\n        this.parent.removeChild(this);\r\n    }\r\n};\r\n\r\n// Morph stepping:\r\n\r\nMorph.prototype.stepFrame = function () {\r\n    if (!this.step) {\r\n        return null;\r\n    }\r\n    var current, elapsed, leftover, nxt;\r\n    current = Date.now();\r\n    elapsed = current - this.lastTime;\r\n    if (this.fps > 0) {\r\n        leftover = (1000 / this.fps) - elapsed;\r\n    } else {\r\n        leftover = 0;\r\n    }\r\n    if (leftover < 1) {\r\n        this.lastTime = current;\r\n        if (this.onNextStep) {\r\n            nxt = this.onNextStep;\r\n            this.onNextStep = null;\r\n            nxt.call(this);\r\n        }\r\n        this.step();\r\n        this.children.forEach(function (child) {\r\n            child.stepFrame();\r\n        });\r\n    }\r\n};\r\n\r\nMorph.prototype.nextSteps = function (arrayOfFunctions) {\r\n    var lst = arrayOfFunctions || [],\r\n        nxt = lst.shift(),\r\n        myself = this;\r\n    if (nxt) {\r\n        this.onNextStep = function () {\r\n            nxt.call(myself);\r\n            myself.nextSteps(lst);\r\n        };\r\n    }\r\n};\r\n\r\nMorph.prototype.step = nop;\r\n\r\n// Morph accessing - geometry getting:\r\n\r\nMorph.prototype.left = function () {\r\n    return this.bounds.left();\r\n};\r\n\r\nMorph.prototype.right = function () {\r\n    return this.bounds.right();\r\n};\r\n\r\nMorph.prototype.top = function () {\r\n    return this.bounds.top();\r\n};\r\n\r\nMorph.prototype.bottom = function () {\r\n    return this.bounds.bottom();\r\n};\r\n\r\nMorph.prototype.center = function () {\r\n    return this.bounds.center();\r\n};\r\n\r\nMorph.prototype.bottomCenter = function () {\r\n    return this.bounds.bottomCenter();\r\n};\r\n\r\nMorph.prototype.bottomLeft = function () {\r\n    return this.bounds.bottomLeft();\r\n};\r\n\r\nMorph.prototype.bottomRight = function () {\r\n    return this.bounds.bottomRight();\r\n};\r\n\r\nMorph.prototype.boundingBox = function () {\r\n    return this.bounds;\r\n};\r\n\r\nMorph.prototype.corners = function () {\r\n    return this.bounds.corners();\r\n};\r\n\r\nMorph.prototype.leftCenter = function () {\r\n    return this.bounds.leftCenter();\r\n};\r\n\r\nMorph.prototype.rightCenter = function () {\r\n    return this.bounds.rightCenter();\r\n};\r\n\r\nMorph.prototype.topCenter = function () {\r\n    return this.bounds.topCenter();\r\n};\r\n\r\nMorph.prototype.topLeft = function () {\r\n    return this.bounds.topLeft();\r\n};\r\n\r\nMorph.prototype.topRight = function () {\r\n    return this.bounds.topRight();\r\n};\r\nMorph.prototype.position = function () {\r\n    return this.bounds.origin;\r\n};\r\n\r\nMorph.prototype.extent = function () {\r\n    return this.bounds.extent();\r\n};\r\n\r\nMorph.prototype.width = function () {\r\n    return this.bounds.width();\r\n};\r\n\r\nMorph.prototype.height = function () {\r\n    return this.bounds.height();\r\n};\r\n\r\nMorph.prototype.fullBounds = function () {\r\n    var result;\r\n    result = this.bounds;\r\n    this.children.forEach(function (child) {\r\n        if (child.isVisible) {\r\n            result = result.merge(child.fullBounds());\r\n        }\r\n    });\r\n    return result;\r\n};\r\n\r\nMorph.prototype.fullBoundsNoShadow = function () {\r\n    // answer my full bounds but ignore any shadow\r\n    var result;\r\n    result = this.bounds;\r\n    this.children.forEach(function (child) {\r\n        if (!(child instanceof ShadowMorph) && (child.isVisible)) {\r\n            result = result.merge(child.fullBounds());\r\n        }\r\n    });\r\n    return result;\r\n};\r\n\r\nMorph.prototype.visibleBounds = function () {\r\n    // answer which part of me is not clipped by a Frame\r\n    var visible = this.bounds,\r\n        frames = this.allParents().filter(function (p) {\r\n            return p instanceof FrameMorph;\r\n        });\r\n    frames.forEach(function (f) {\r\n        visible = visible.intersect(f.bounds);\r\n    });\r\n    return visible;\r\n};\r\n\r\n// Morph accessing - simple changes:\r\n\r\nMorph.prototype.moveBy = function (delta) {\r\n    this.fullChanged();\r\n    this.silentMoveBy(delta);\r\n    this.fullChanged();\r\n};\r\n\r\nMorph.prototype.silentMoveBy = function (delta) {\r\n    var children = this.children,\r\n        i = children.length;\r\n    this.bounds = this.bounds.translateBy(delta);\r\n    if (this.cachedFullBounds) {\r\n        this.cachedFullBounds = this.cachedFullBounds.translateBy(delta);\r\n    }\r\n    // ugly optimization avoiding forEach()\r\n    for (i; i > 0; i -= 1) {\r\n        children[i - 1].silentMoveBy(delta);\r\n    }\r\n};\r\n\r\nMorph.prototype.setPosition = function (aPoint) {\r\n    var delta = aPoint.subtract(this.topLeft());\r\n    if ((delta.x !== 0) || (delta.y !== 0)) {\r\n        this.moveBy(delta);\r\n    }\r\n};\r\n\r\nMorph.prototype.silentSetPosition = function (aPoint) {\r\n    var delta = aPoint.subtract(this.topLeft());\r\n    if ((delta.x !== 0) || (delta.y !== 0)) {\r\n        this.silentMoveBy(delta);\r\n    }\r\n};\r\n\r\nMorph.prototype.setLeft = function (x) {\r\n    this.setPosition(\r\n        new Point(\r\n            x,\r\n            this.top()\r\n        )\r\n    );\r\n};\r\n\r\nMorph.prototype.setRight = function (x) {\r\n    this.setPosition(\r\n        new Point(\r\n            x - this.width(),\r\n            this.top()\r\n        )\r\n    );\r\n};\r\n\r\nMorph.prototype.setTop = function (y) {\r\n    this.setPosition(\r\n        new Point(\r\n            this.left(),\r\n            y\r\n        )\r\n    );\r\n};\r\n\r\nMorph.prototype.setBottom = function (y) {\r\n    this.setPosition(\r\n        new Point(\r\n            this.left(),\r\n            y - this.height()\r\n        )\r\n    );\r\n};\r\n\r\nMorph.prototype.setCenter = function (aPoint) {\r\n    this.setPosition(\r\n        aPoint.subtract(\r\n            this.extent().floorDivideBy(2)\r\n        )\r\n    );\r\n};\r\n\r\nMorph.prototype.setFullCenter = function (aPoint) {\r\n    this.setPosition(\r\n        aPoint.subtract(\r\n            this.fullBounds().extent().floorDivideBy(2)\r\n        )\r\n    );\r\n};\r\n\r\nMorph.prototype.keepWithin = function (aMorph) {\r\n    // make sure I am completely within another Morph's bounds\r\n    var leftOff, rightOff, topOff, bottomOff;\r\n    leftOff = this.fullBounds().left() - aMorph.left();\r\n    if (leftOff < 0) {\r\n        this.moveBy(new Point(-leftOff, 0));\r\n    }\r\n    rightOff = this.fullBounds().right() - aMorph.right();\r\n    if (rightOff > 0) {\r\n        this.moveBy(new Point(-rightOff, 0));\r\n    }\r\n    topOff = this.fullBounds().top() - aMorph.top();\r\n    if (topOff < 0) {\r\n        this.moveBy(new Point(0, -topOff));\r\n    }\r\n    bottomOff = this.fullBounds().bottom() - aMorph.bottom();\r\n    if (bottomOff > 0) {\r\n        this.moveBy(new Point(0, -bottomOff));\r\n    }\r\n};\r\n\r\nMorph.prototype.scrollIntoView = function () {\r\n    var leftOff, rightOff, topOff, bottomOff,\r\n        sf = this.parentThatIsA(ScrollFrameMorph);\r\n    if (!sf) {return; }\r\n    rightOff = Math.min(\r\n        this.fullBounds().right() - sf.right(),\r\n        sf.contents.right() - sf.right()\r\n    );\r\n    if (rightOff > 0) {\r\n        sf.contents.moveBy(new Point(-rightOff, 0));\r\n    }\r\n    leftOff = this.fullBounds().left() - sf.left();\r\n    if (leftOff < 0) {\r\n        sf.contents.moveBy(new Point(-leftOff, 0));\r\n    }\r\n    topOff = this.fullBounds().top() - sf.top();\r\n    if (topOff < 0) {\r\n        sf.contents.moveBy(new Point(0, -topOff));\r\n    }\r\n    bottomOff = this.fullBounds().bottom() - sf.bottom();\r\n    if (bottomOff > 0) {\r\n        sf.contents.moveBy(new Point(0, -bottomOff));\r\n    }\r\n    sf.adjustScrollBars();\r\n};\r\n\r\n// Morph accessing - dimensional changes requiring a complete redraw\r\n\r\nMorph.prototype.setExtent = function (aPoint, silently) {\r\n    // silently avoids redrawing the receiver\r\n    if (silently) {\r\n        this.silentSetExtent(aPoint);\r\n        return;\r\n    }\r\n    if (!aPoint.eq(this.extent())) {\r\n        this.changed();\r\n        this.silentSetExtent(aPoint);\r\n        this.changed();\r\n        this.drawNew();\r\n    }\r\n};\r\n\r\nMorph.prototype.silentSetExtent = function (aPoint) {\r\n    var ext, newWidth, newHeight;\r\n    ext = aPoint.round();\r\n    newWidth = Math.max(ext.x, 0);\r\n    newHeight = Math.max(ext.y, 0);\r\n    this.bounds.corner = new Point(\r\n        this.bounds.origin.x + newWidth,\r\n        this.bounds.origin.y + newHeight\r\n    );\r\n};\r\n\r\nMorph.prototype.setWidth = function (width) {\r\n    \r\n    this.setExtent(new Point(width || 0, this.height()));\r\n};\r\n\r\nMorph.prototype.silentSetWidth = function (width) {\r\n    // do not drawNew() just yet\r\n    var w = Math.max(Math.round(width || 0), 0);\r\n    this.bounds.corner = new Point(\r\n        this.bounds.origin.x + w,\r\n        this.bounds.corner.y\r\n    );\r\n};\r\n\r\nMorph.prototype.setHeight = function (height) {\r\n    this.setExtent(new Point(this.width(), height || 0));\r\n};\r\n\r\nMorph.prototype.silentSetHeight = function (height) {\r\n    // do not drawNew() just yet\r\n    var h = Math.max(Math.round(height || 0), 0);\r\n    this.bounds.corner = new Point(\r\n        this.bounds.corner.x,\r\n        this.bounds.origin.y + h\r\n    );\r\n};\r\n\r\nMorph.prototype.setColor = function (aColor) {\r\n    if (aColor) {\r\n        if (!this.color.eq(aColor)) {\r\n            this.color = aColor;\r\n            this.changed();\r\n            this.drawNew();\r\n        }\r\n    }\r\n};\r\n\r\n// Morph displaying:\r\n\r\nMorph.prototype.drawNew = function () {\r\n    // initialize my surface property\r\n    this.image = newCanvas(this.extent());\r\n    var context = this.image.getContext('2d');\r\n    context.fillStyle = this.color.toString();\r\n\r\n    /*\r\n        Chrome issue:\r\n\r\n            when filling a rectangular area, versions of Chrome beginning with\r\n            57.0.2987.133 start introducing vertical transparent stripes\r\n            to the right of the rectangle.\r\n            The following code replaces the original fillRect() call with\r\n            an explicit almost-rectangular path that miraculously  makes\r\n            sure the whole rectangle gets filled correctly.\r\n\r\n        Important: This needs to be monitored in the future so we can\r\n        revert to sane code once this Chrome issue has been resolved again.\r\n    */\r\n\r\n    // context.fillRect(0, 0, this.width(), this.height()); // taken out\r\n\r\n    context.beginPath();\r\n    context.moveTo(0, 0);\r\n    context.lineTo(this.image.width, 0);\r\n    context.lineTo(this.image.width, this.image.height);\r\n    context.lineTo(0, this.image.height + 0.0001); // yeah, I luv Chrome!\r\n    context.closePath();\r\n    context.fill();\r\n\r\n    if (this.cachedTexture) {\r\n        this.drawCachedTexture();\r\n    } else if (this.texture) {\r\n        this.drawTexture(this.texture);\r\n    }\r\n};\r\n\r\nMorph.prototype.drawTexture = function (url) {\r\n    var myself = this;\r\n    this.cachedTexture = new Image();\r\n    this.cachedTexture.onload = function () {\r\n        myself.drawCachedTexture();\r\n    };\r\n    this.cachedTexture.src = this.texture = url; // make absolute\r\n};\r\n\r\nMorph.prototype.drawCachedTexture = function () {\r\n    var bg = this.cachedTexture,\r\n        cols = Math.floor(this.image.width / bg.width),\r\n        lines = Math.floor(this.image.height / bg.height),\r\n        x,\r\n        y,\r\n        context = this.image.getContext('2d');\r\n\r\n    for (y = 0; y <= lines; y += 1) {\r\n        for (x = 0; x <= cols; x += 1) {\r\n            context.drawImage(bg, x * bg.width, y * bg.height);\r\n        }\r\n    }\r\n    this.changed();\r\n};\r\n\r\nMorph.prototype.drawOn = function (aCanvas, aRect) {\r\n    var rectangle, area, delta, src, context, w, h, sl, st,\r\n        pic = this.cachedFullImage || this.image,\r\n        bounds = this.cachedFullBounds || this.bounds;\r\n    if (!this.isVisible) {\r\n        return null;\r\n    }\r\n    rectangle = aRect || bounds;\r\n    area = rectangle.intersect(bounds);\r\n    if (area.extent().gt(new Point(0, 0))) {\r\n        delta = bounds.position().neg();\r\n        src = area.copy().translateBy(delta);\r\n        context = aCanvas.getContext('2d');\r\n        context.globalAlpha = this.alpha;\r\n\r\n        sl = src.left();\r\n        st = src.top();\r\n        w = Math.min(src.width(), pic.width - sl);\r\n        h = Math.min(src.height(), pic.height - st);\r\n\r\n        if (w < 1 || h < 1) {\r\n            return null;\r\n        }\r\n\r\n        context.drawImage(\r\n            pic,\r\n            sl,\r\n            st,\r\n            w,\r\n            h,\r\n            area.left(),\r\n            area.top(),\r\n            w,\r\n            h\r\n        );\r\n    }\r\n};\r\n\r\nMorph.prototype.fullDrawOn = function (aCanvas, aRect) {\r\n    var rectangle;\r\n    if (!this.isVisible) {\r\n        return null;\r\n    }\r\n    rectangle = aRect || this.cachedFullBounds || this.fullBounds();\r\n    this.drawOn(aCanvas, rectangle);\r\n    if (this.cachedFullImage) {return; }\r\n    this.children.forEach(function (child) {\r\n        child.fullDrawOn(aCanvas, rectangle);\r\n    });\r\n};\r\n\r\nMorph.prototype.hide = function () {\r\n    this.isVisible = false;\r\n    this.changed();\r\n    this.children.forEach(function (child) {\r\n        child.hide();\r\n    });\r\n};\r\n\r\nMorph.prototype.show = function () {\r\n    this.isVisible = true;\r\n    this.changed();\r\n    this.children.forEach(function (child) {\r\n        child.show();\r\n    });\r\n};\r\n\r\nMorph.prototype.toggleVisibility = function () {\r\n    this.isVisible = (!this.isVisible);\r\n    this.changed();\r\n    this.children.forEach(function (child) {\r\n        child.toggleVisibility();\r\n    });\r\n};\r\n\r\n// Morph full image:\r\n\r\nMorph.prototype.fullImageClassic = function () {\r\n    // use the cache since fullDrawOn() will\r\n    var fb = this.cachedFullBounds || this.fullBounds(),\r\n        img = newCanvas(fb.extent()),\r\n        ctx = img.getContext('2d');\r\n    ctx.translate(-fb.origin.x, -fb.origin.y);\r\n    this.fullDrawOn(img, fb);\r\n    img.globalAlpha = this.alpha;\r\n    return img;\r\n};\r\n\r\nMorph.prototype.fullImage = function () {\r\n    var img, ctx, fb;\r\n    img = newCanvas(this.fullBounds().extent());\r\n    ctx = img.getContext('2d');\r\n    fb = this.fullBounds();\r\n    this.allChildren().forEach(function (morph) {\r\n        if (morph.isVisible) {\r\n            ctx.globalAlpha = morph.alpha;\r\n            if (morph.image.width && morph.image.height) {\r\n                ctx.drawImage(\r\n                    morph.image,\r\n                    morph.bounds.origin.x - fb.origin.x,\r\n                    morph.bounds.origin.y - fb.origin.y\r\n                );\r\n            }\r\n        }\r\n    });\r\n    return img;\r\n};\r\n\r\n// Morph shadow:\r\n\r\nMorph.prototype.shadowImage = function (off, color) {\r\n    // fallback for Windows Chrome-Shadow bug\r\n    var fb, img, outline, sha, ctx,\r\n        offset = off || new Point(7, 7),\r\n        clr = color || new Color(0, 0, 0);\r\n    fb = this.fullBounds().extent();\r\n    img = this.fullImage();\r\n    outline = newCanvas(fb);\r\n    ctx = outline.getContext('2d');\r\n    ctx.drawImage(img, 0, 0);\r\n    ctx.globalCompositeOperation = 'destination-out';\r\n    ctx.drawImage(\r\n        img,\r\n        -offset.x,\r\n        -offset.y\r\n    );\r\n    sha = newCanvas(fb);\r\n    ctx = sha.getContext('2d');\r\n    ctx.drawImage(outline, 0, 0);\r\n    ctx.globalCompositeOperation = 'source-atop';\r\n    ctx.fillStyle = clr.toString();\r\n    ctx.fillRect(0, 0, fb.x, fb.y);\r\n    return sha;\r\n};\r\n\r\nMorph.prototype.shadowImageBlurred = function (off, color) {\r\n    var fb, img, sha, ctx,\r\n        offset = off || new Point(7, 7),\r\n        blur = this.shadowBlur,\r\n        clr = color || new Color(0, 0, 0);\r\n    fb = this.fullBounds().extent().add(blur * 2);\r\n    img = this.fullImage();\r\n    sha = newCanvas(fb);\r\n    ctx = sha.getContext('2d');\r\n    ctx.shadowOffsetX = offset.x;\r\n    ctx.shadowOffsetY = offset.y;\r\n    ctx.shadowBlur = blur;\r\n    ctx.shadowColor = clr.toString();\r\n    ctx.drawImage(\r\n        img,\r\n        blur - offset.x,\r\n        blur - offset.y\r\n    );\r\n    ctx.shadowOffsetX = 0;\r\n    ctx.shadowOffsetY = 0;\r\n    ctx.shadowBlur = 0;\r\n    ctx.globalCompositeOperation = 'destination-out';\r\n    ctx.drawImage(\r\n        img,\r\n        blur - offset.x,\r\n        blur - offset.y\r\n    );\r\n    return sha;\r\n};\r\n\r\nMorph.prototype.shadow = function (off, a, color) {\r\n    var shadow = new ShadowMorph(),\r\n        offset = off || new Point(7, 7),\r\n        alpha = a || ((a === 0) ? 0 : 0.2),\r\n        fb = this.fullBounds();\r\n    shadow.setExtent(fb.extent().add(this.shadowBlur * 2));\r\n    if (useBlurredShadows && !MorphicPreferences.isFlat) {\r\n        shadow.image = this.shadowImageBlurred(offset, color);\r\n        shadow.alpha = alpha;\r\n        shadow.setPosition(fb.origin.add(offset).subtract(this.shadowBlur));\r\n    } else {\r\n        shadow.image = this.shadowImage(offset, color);\r\n        shadow.alpha = alpha;\r\n        shadow.setPosition(fb.origin.add(offset));\r\n    }\r\n    return shadow;\r\n};\r\n\r\nMorph.prototype.addShadow = function (off, a, color) {\r\n    var shadow,\r\n        offset = off || new Point(7, 7),\r\n        alpha = a || ((a === 0) ? 0 : 0.2);\r\n    shadow = this.shadow(offset, alpha, color);\r\n    this.addBack(shadow);\r\n    this.fullChanged();\r\n    return shadow;\r\n};\r\n\r\nMorph.prototype.getShadow = function () {\r\n    var shadows;\r\n    shadows = this.children.slice(0).reverse().filter(\r\n        function (child) {\r\n            return child instanceof ShadowMorph;\r\n        }\r\n    );\r\n    if (shadows.length !== 0) {\r\n        return shadows[0];\r\n    }\r\n    return null;\r\n};\r\n\r\nMorph.prototype.removeShadow = function () {\r\n    var shadow = this.getShadow();\r\n    if (shadow !== null) {\r\n        this.fullChanged();\r\n        this.removeChild(shadow);\r\n    }\r\n};\r\n\r\n// Morph pen trails:\r\n\r\nMorph.prototype.penTrails = function () {\r\n    // answer my pen trails canvas. default is to answer my image\r\n    return this.image;\r\n};\r\n\r\nMorph.prototype.changed = function () {\r\n    if (this.trackChanges) {\r\n        var w = this.root();\r\n        if (w instanceof WorldMorph) {\r\n            w.broken.push(this.visibleBounds().spread());\r\n        }\r\n    }\r\n    if (this.parent) {\r\n        this.parent.childChanged(this);\r\n    }\r\n\r\n};\r\n\r\nMorph.prototype.fullChanged = function () {\r\n    if (this.trackChanges) {\r\n        var w = this.root();\r\n        if (w instanceof WorldMorph) {\r\n            w.broken.push(\r\n                (this.cachedFullBounds || this.fullBounds()).spread()\r\n            );\r\n           // Wiquid : user activity tracker here if needed  \r\n\r\n        }\r\n    }\r\n};\r\n\r\nMorph.prototype.childChanged = function () {\r\n    // react to a change in one of my children,\r\n    // default is to just pass this message on upwards\r\n    // override this method for Morphs that need to adjust accordingly\r\n    if (this.parent) {\r\n        this.parent.childChanged(this);\r\n\r\n    }\r\n};\r\n\r\n// Morph accessing - structure:\r\n\r\nMorph.prototype.world = function () {\r\n    var root = this.root();\r\n    if (root instanceof WorldMorph) {\r\n        return root;\r\n    }\r\n    if (root instanceof HandMorph) {\r\n        return root.world;\r\n    }\r\n    return null;\r\n};\r\n\r\nMorph.prototype.add = function (aMorph) {\r\n    var owner = aMorph.parent;\r\n    if (owner !== null) {\r\n        owner.removeChild(aMorph);\r\n    }\r\n    this.addChild(aMorph);\r\n\r\n};\r\n\r\nMorph.prototype.addBack = function (aMorph) {\r\n    var owner = aMorph.parent;\r\n    if (owner !== null) {\r\n        owner.removeChild(aMorph);\r\n    }\r\n    this.addChildFirst(aMorph);\r\n};\r\n\r\nMorph.prototype.topMorphAt = function (point) {\r\n    var i, result;\r\n    if (!this.isVisible) {return null; }\r\n    for (i = this.children.length - 1; i >= 0; i -= 1) {\r\n        result = this.children[i].topMorphAt(point);\r\n        if (result) {return result; }\r\n    }\r\n    return this.bounds.containsPoint(point) &&\r\n        (this.noticesTransparentClick || !this.isTransparentAt(point)) ? this\r\n              : null;\r\n};\r\n\r\nMorph.prototype.topMorphSuchThat = function (predicate) {\r\n    var next;\r\n    if (predicate.call(null, this)) {\r\n        next = detect(\r\n            this.children.slice(0).reverse(),\r\n            predicate\r\n        );\r\n        if (next) {\r\n            return next.topMorphSuchThat(predicate);\r\n        }\r\n        return this;\r\n    }\r\n    return null;\r\n};\r\n\r\nMorph.prototype.overlappedMorphs = function () {\r\n    //exclude the World\r\n    var world = this.world(),\r\n        fb = this.fullBounds(),\r\n        myself = this,\r\n        allParents = this.allParents(),\r\n        allChildren = this.allChildren(),\r\n        morphs;\r\n\r\n    morphs = world.allChildren();\r\n    return morphs.filter(function (m) {\r\n        return m.isVisible &&\r\n            m !== myself &&\r\n            m !== world &&\r\n            !contains(allParents, m) &&\r\n            !contains(allChildren, m) &&\r\n            m.fullBounds().intersects(fb);\r\n    });\r\n};\r\n\r\n// Morph pixel access:\r\n\r\nMorph.prototype.getPixelColor = function (aPoint) {\r\n    var point, context, data;\r\n    point = aPoint.subtract(this.bounds.origin);\r\n    context = this.image.getContext('2d');\r\n    data = context.getImageData(point.x, point.y, 1, 1);\r\n    return new Color(\r\n        data.data[0],\r\n        data.data[1],\r\n        data.data[2],\r\n        data.data[3] / 255\r\n    );\r\n};\r\n\r\nMorph.prototype.isTransparentAt = function (aPoint) {\r\n    var point, context, data;\r\n    if (this.bounds.containsPoint(aPoint)) {\r\n        if (this.texture) {\r\n            return false;\r\n        }\r\n        point = aPoint.subtract(this.bounds.origin);\r\n        context = this.image.getContext('2d');\r\n        data = context.getImageData(\r\n            Math.floor(point.x),\r\n            Math.floor(point.y),\r\n            1,\r\n            1\r\n        );\r\n        return data.data[3] === 0;\r\n    }\r\n    return false;\r\n};\r\n\r\n// Morph duplicating:\r\n\r\nMorph.prototype.copy = function () {\r\n    var c = copy(this);\r\n    c.parent = null;\r\n    c.children = [];\r\n    c.bounds = this.bounds.copy();\r\n    return c;\r\n};\r\n\r\nMorph.prototype.fullCopy = function () {\r\n    /*\r\n    Produce a copy of me with my entire tree of submorphs. Morphs\r\n    mentioned more than once are all directed to a single new copy.\r\n    Other properties are also *shallow* copied, so you must override\r\n    to deep copy Arrays and (complex) Objects\r\n    */\r\n    var map = new Map(), c;\r\n    c = this.copyRecordingReferences(map);\r\n    c.forAllChildren(function (m) {\r\n        m.updateReferences(map);\r\n    });\r\n    return c;\r\n};\r\n\r\nMorph.prototype.copyRecordingReferences = function (map) {\r\n    /*\r\n    Recursively copy this entire composite morph, recording the\r\n    correspondence between old and new morphs in the given dictionary.\r\n    This dictionary will be used to update intra-composite references\r\n    in the copy. See updateReferences().\r\n\r\n    Note: This default implementation copies ONLY morphs. If a morph\r\n    stores morphs in other properties that it wants to copy, then it\r\n    should override this method to do so. The same goes for morphs that\r\n    contain other complex data that should be copied when the morph is\r\n    duplicated.\r\n    */\r\n    var c = this.copy();\r\n    map.set(this, c);\r\n    this.children.forEach(function (m) {\r\n        c.add(m.copyRecordingReferences(map));\r\n    });\r\n    return c;\r\n};\r\n\r\nMorph.prototype.updateReferences = function (map) {\r\n    /*\r\n    Update intra-morph references within a composite morph that has\r\n    been copied. For example, if a button refers to morph X in the\r\n    orginal composite then the copy of that button in the new composite\r\n    should refer to the copy of X in new composite, not the original X.\r\n    */\r\n    var properties = Object.keys(this),\r\n        l = properties.length,\r\n        property,\r\n        value,\r\n        reference,\r\n        i;\r\n    for (i = 0; i < l; i += 1) {\r\n        property = properties[i];\r\n        value = this[property];\r\n        if (value && value.isMorph) {\r\n            reference = map.get(value);\r\n            if (reference) { this[property] = reference; }\r\n        }\r\n    }\r\n};\r\n\r\n// Morph dragging and dropping:\r\n\r\nMorph.prototype.rootForGrab = function () {\r\n    if (this instanceof ShadowMorph) {\r\n        return this.parent.rootForGrab();\r\n    }\r\n    if (this.parent instanceof ScrollFrameMorph) {\r\n        return this.parent;\r\n    }\r\n    if (this.parent === null ||\r\n            this.parent instanceof WorldMorph ||\r\n            this.parent instanceof FrameMorph ||\r\n            this.isDraggable === true) {\r\n        return this;\r\n    }\r\n    return this.parent.rootForGrab();\r\n};\r\n\r\nMorph.prototype.isCorrectingOutsideDrag = function () {\r\n    // make sure I don't \"trail behind\" the hand when dragged\r\n    // override for morphs that you want to be dragged outside\r\n    // their full bounds\r\n    return true;\r\n};\r\n\r\nMorph.prototype.wantsDropOf = function (aMorph) {\r\n    // default is to answer the general flag - change for my heirs\r\n    if ((aMorph instanceof HandleMorph) ||\r\n            (aMorph instanceof MenuMorph) ||\r\n            (aMorph instanceof InspectorMorph)) {\r\n        return false;\r\n    }\r\n    return this.acceptsDrops;\r\n};\r\n\r\nMorph.prototype.pickUp = function (wrrld) {\r\n    var world = wrrld || this.world();\r\n    this.setPosition(\r\n        world.hand.position().subtract(\r\n            this.extent().floorDivideBy(2)\r\n        )\r\n    );\r\n    world.hand.grab(this);\r\n};\r\n\r\nMorph.prototype.isPickedUp = function () {\r\n    return this.parentThatIsA(HandMorph) !== null;\r\n};\r\n\r\nMorph.prototype.situation = function () {\r\n    // answer a dictionary specifying where I am right now, so\r\n    // I can slide back to it if I'm dropped somewhere else\r\n    if (this.parent) {\r\n        return {\r\n            origin: this.parent,\r\n            position: this.position().subtract(this.parent.position())\r\n        };\r\n    }\r\n    return null;\r\n};\r\n\r\nMorph.prototype.slideBackTo = function (\r\n    situation,\r\n    msecs,\r\n    onBeforeDrop,\r\n    onComplete\r\n) {\r\n    var pos = situation.origin.position().add(situation.position),\r\n        myself = this;\r\n    this.glideTo(\r\n        pos,\r\n        msecs,\r\n        null, // easing\r\n        function () {\r\n            situation.origin.add(myself);\r\n            if (onBeforeDrop) {onBeforeDrop(); }\r\n            if (myself.justDropped) {myself.justDropped(); }\r\n            if (situation.origin.reactToDropOf) {\r\n                situation.origin.reactToDropOf(myself);\r\n            }\r\n            if (onComplete) {onComplete(); }\r\n        }\r\n    );\r\n};\r\n\r\n// Morph animating:\r\n\r\nMorph.prototype.glideTo = function (endPoint, msecs, easing, onComplete) {\r\n    var world = this.world(),\r\n        myself = this;\r\n    world.animations.push(new Animation(\r\n        function (x) {myself.setLeft(x); },\r\n        function () {return myself.left(); },\r\n        -(this.left() - endPoint.x),\r\n        msecs || 100,\r\n        easing,\r\n        onComplete\r\n    ));\r\n    world.animations.push(new Animation(\r\n        function (y) {myself.setTop(y); },\r\n        function () {return myself.top(); },\r\n        -(this.top() - endPoint.y),\r\n        msecs || 100,\r\n        easing\r\n    ));\r\n};\r\n\r\nMorph.prototype.fadeTo = function (endAlpha, msecs, easing, onComplete) {\r\n    // include all my children, restore all original transparencies\r\n    // on completion, so I can be recovered\r\n    var world = this.world(),\r\n        myself = this,\r\n        oldAlpha = this.alpha;\r\n    this.children.forEach(function (child) {\r\n        child.fadeTo(endAlpha, msecs, easing);\r\n    });\r\n    world.animations.push(new Animation(\r\n        function (n) {\r\n            myself.alpha = n;\r\n            myself.changed();\r\n        },\r\n        function () {return myself.alpha; },\r\n        endAlpha - this.alpha,\r\n        msecs || 200,\r\n        easing,\r\n        function () {\r\n            myself.alpha = oldAlpha;\r\n            if (onComplete) {onComplete(); }\r\n        }\r\n    ));\r\n};\r\n\r\nMorph.prototype.perish = function (msecs, onComplete) {\r\n    var myself = this;\r\n    this.fadeTo(\r\n        0,\r\n        msecs || 100,\r\n        null,\r\n        function () {\r\n            myself.destroy();\r\n            if (onComplete) {onComplete(); }\r\n        }\r\n    );\r\n};\r\n\r\n// Morph utilities:\r\n\r\nMorph.prototype.nop = nop;\r\n\r\nMorph.prototype.resize = function () {\r\n    this.world().activeHandle = new HandleMorph(this);\r\n};\r\n\r\nMorph.prototype.move = function () {\r\n    this.world().activeHandle = new HandleMorph(\r\n        this,\r\n        null,\r\n        null,\r\n        null,\r\n        null,\r\n        'move'\r\n    );\r\n};\r\n\r\nMorph.prototype.moveCenter = function () {\r\n    this.world().activeHandle = new HandleMorph(\r\n        this,\r\n        null,\r\n        null,\r\n        null,\r\n        null,\r\n        'moveCenter'\r\n    );\r\n};\r\n\r\nMorph.prototype.hint = function (msg) {\r\n    var m, text;\r\n    text = msg;\r\n    if (msg) {\r\n        if (msg.toString) {\r\n            text = msg.toString();\r\n        }\r\n    } else {\r\n        text = 'NULL';\r\n    }\r\n    m = new MenuMorph(this, text);\r\n    m.isDraggable = true;\r\n    m.popUpCenteredAtHand(this.world());\r\n};\r\n\r\nMorph.prototype.inform = function (msg) {\r\n    var m, text;\r\n    text = msg;\r\n    if (msg) {\r\n        if (msg.toString) {\r\n            text = msg.toString();\r\n        }\r\n    } else {\r\n        text = 'NULL';\r\n    }\r\n    m = new MenuMorph(this, text);\r\n    m.addItem(\"Ok\");\r\n    m.isDraggable = true;\r\n    m.popUpCenteredAtHand(this.world());\r\n};\r\n\r\nMorph.prototype.prompt = function (\r\n    msg,\r\n    callback,\r\n    environment,\r\n    defaultContents,\r\n    width,\r\n    floorNum,\r\n    ceilingNum,\r\n    isRounded\r\n) {\r\n    var menu, entryField, slider, isNumeric;\r\n    if (ceilingNum) {\r\n        isNumeric = true;\r\n    }\r\n    menu = new MenuMorph(\r\n        callback || null,\r\n        msg || '',\r\n        environment || null\r\n    );\r\n    entryField = new StringFieldMorph(\r\n        defaultContents || '',\r\n        width || 100,\r\n        MorphicPreferences.prompterFontSize,\r\n        MorphicPreferences.prompterFontName,\r\n        false,\r\n        false,\r\n        isNumeric\r\n    );\r\n    menu.items.push(entryField);\r\n    if (ceilingNum || MorphicPreferences.useSliderForInput) {\r\n        slider = new SliderMorph(\r\n            floorNum || 0,\r\n            ceilingNum,\r\n            parseFloat(defaultContents),\r\n            Math.floor((ceilingNum - floorNum) / 4),\r\n            'horizontal'\r\n        );\r\n        slider.alpha = 1;\r\n        slider.color = new Color(225, 225, 225);\r\n        slider.button.color = menu.borderColor;\r\n        slider.button.highlightColor = slider.button.color.copy();\r\n        slider.button.highlightColor.b += 100;\r\n        slider.button.pressColor = slider.button.color.copy();\r\n        slider.button.pressColor.b += 150;\r\n        slider.setHeight(MorphicPreferences.prompterSliderSize);\r\n        if (isRounded) {\r\n            slider.action = function (num) {\r\n                entryField.changed();\r\n                entryField.text.text = Math.round(num).toString();\r\n                entryField.text.drawNew();\r\n                entryField.text.changed();\r\n                entryField.text.edit();\r\n            };\r\n        } else {\r\n            slider.action = function (num) {\r\n                entryField.changed();\r\n                entryField.text.text = num.toString();\r\n                entryField.text.drawNew();\r\n                entryField.text.changed();\r\n            };\r\n        }\r\n        menu.items.push(slider);\r\n    }\r\n\r\n    menu.addLine(2);\r\n    menu.addItem('Ok', function () {\r\n        return entryField.string();\r\n    });\r\n    menu.addItem('Cancel', function () {\r\n        return null;\r\n    });\r\n    menu.isDraggable = true;\r\n    menu.popUpAtHand(this.world());\r\n    entryField.text.edit();\r\n};\r\n\r\nMorph.prototype.pickColor = function (\r\n    msg,\r\n    callback,\r\n    environment,\r\n    defaultContents\r\n) {\r\n    var menu, colorPicker;\r\n    menu = new MenuMorph(\r\n        callback || null,\r\n        msg || '',\r\n        environment || null\r\n    );\r\n    colorPicker = new ColorPickerMorph(defaultContents);\r\n    menu.items.push(colorPicker);\r\n    menu.addLine(2);\r\n    menu.addItem('Ok', function () {\r\n        return colorPicker.getChoice();\r\n    });\r\n    menu.addItem('Cancel', function () {\r\n        return null;\r\n    });\r\n    menu.isDraggable = true;\r\n    menu.popUpAtHand(this.world());\r\n};\r\n\r\nMorph.prototype.inspect = function (anotherObject) {\r\n    var world = this.world instanceof Function ?\r\n            this.world() : this.root() || this.world,\r\n        inspector,\r\n        inspectee = this;\r\n\r\n    if (anotherObject) {\r\n        inspectee = anotherObject;\r\n    }\r\n    inspector = new InspectorMorph(inspectee);\r\n    inspector.setPosition(world.hand.position());\r\n    inspector.keepWithin(world);\r\n    world.add(inspector);\r\n    inspector.changed();\r\n};\r\n\r\n// Morph menus:\r\n\r\nMorph.prototype.contextMenu = function () {\r\n    var world;\r\n\r\n    if (this.customContextMenu) {\r\n        return this.customContextMenu;\r\n    }\r\n    world = this.world instanceof Function ? this.world() : this.world;\r\n    if (world && world.isDevMode) {\r\n        if (this.parent === world) {\r\n            return this.developersMenu();\r\n        }\r\n        return this.hierarchyMenu();\r\n    }\r\n    return this.userMenu() ||\r\n        (this.parent && this.parent.userMenu());\r\n};\r\n\r\nMorph.prototype.hierarchyMenu = function () {\r\n    var parents = this.allParents(),\r\n        world = this.world instanceof Function ? this.world() : this.world,\r\n        menu = new MenuMorph(this, null);\r\n\r\n    parents.forEach(function (each) {\r\n        if (each.developersMenu && (each !== world)) {\r\n            menu.addMenu(\r\n                each.toString().slice(0, 50),\r\n                each.developersMenu()\r\n            );\r\n        }\r\n    });\r\n    return menu;\r\n};\r\n\r\nMorph.prototype.developersMenu = function () {\r\n    // 'name' is not an official property of a function, hence:\r\n    var world = this.world instanceof Function ? this.world() : this.world,\r\n        userMenu = this.userMenu() ||\r\n            (this.parent && this.parent.userMenu()),\r\n        menu = new MenuMorph(this, this.constructor.name ||\r\n            this.constructor.toString().split(' ')[1].split('(')[0]);\r\n    if (userMenu) {\r\n        menu.addMenu('user features', userMenu);\r\n        menu.addLine();\r\n    }\r\n    menu.addItem(\r\n        \"color...\",\r\n        function () {\r\n            this.pickColor(\r\n                menu.title + localize('\\ncolor:'),\r\n                this.setColor,\r\n                this,\r\n                this.color\r\n            );\r\n        },\r\n        'choose another color \\nfor this morph'\r\n    );\r\n    menu.addItem(\r\n        \"transparency...\",\r\n        function () {\r\n            this.prompt(\r\n                menu.title + localize('\\nalpha\\nvalue:'),\r\n                this.setAlphaScaled,\r\n                this,\r\n                (this.alpha * 100).toString(),\r\n                null,\r\n                1,\r\n                100,\r\n                true\r\n            );\r\n        },\r\n        'set this morph\\'s\\nalpha value'\r\n    );\r\n    menu.addItem(\r\n        \"resize...\",\r\n        'resize',\r\n        'show a handle\\nwhich can be dragged\\nto change this morph\\'s' +\r\n            ' extent'\r\n    );\r\n    menu.addLine();\r\n    menu.addItem(\r\n        \"duplicate\",\r\n        function () {\r\n            this.fullCopy().pickUp(this.world());\r\n        },\r\n        'make a copy\\nand pick it up'\r\n    );\r\n    menu.addItem(\r\n        \"pick up\",\r\n        'pickUp',\r\n        'detach and put \\ninto the hand'\r\n    );\r\n    menu.addItem(\r\n        \"attach...\",\r\n        'attach',\r\n        'stick this morph\\nto another one'\r\n    );\r\n    menu.addItem(\r\n        \"move...\",\r\n        'move',\r\n        'show a handle\\nwhich can be dragged\\nto move this morph'\r\n    );\r\n    menu.addItem(\r\n        \"inspect...\",\r\n        'inspect',\r\n        'open a window\\non all properties'\r\n    );\r\n    menu.addItem(\r\n        \"pic...\",\r\n        function () {\r\n            window.open(this.fullImageClassic().toDataURL());\r\n        },\r\n        'open a new window\\nwith a picture of this morph'\r\n    );\r\n    menu.addLine();\r\n    if (this.isDraggable) {\r\n        menu.addItem(\r\n            \"lock\",\r\n            'toggleIsDraggable',\r\n            'make this morph\\nunmovable'\r\n        );\r\n    } else {\r\n        menu.addItem(\r\n            \"unlock\",\r\n            'toggleIsDraggable',\r\n            'make this morph\\nmovable'\r\n        );\r\n    }\r\n    menu.addItem(\"hide\", 'hide');\r\n    menu.addItem(\"delete\", 'destroy');\r\n    if (!(this instanceof WorldMorph)) {\r\n        menu.addLine();\r\n        menu.addItem(\r\n            \"World...\",\r\n            function () {\r\n                world.contextMenu().popUpAtHand(world);\r\n            },\r\n            'show the\\nWorld\\'s menu'\r\n        );\r\n    }\r\n    return menu;\r\n};\r\n\r\nMorph.prototype.userMenu = function () {\r\n    return null;\r\n};\r\n\r\n// Morph menu actions\r\n\r\nMorph.prototype.setAlphaScaled = function (alpha) {\r\n    // for context menu demo purposes\r\n    var newAlpha, unscaled;\r\n    if (typeof alpha === 'number') {\r\n        unscaled = alpha / 100;\r\n        this.alpha = Math.min(Math.max(unscaled, 0.1), 1);\r\n    } else {\r\n        newAlpha = parseFloat(alpha);\r\n        if (!isNaN(newAlpha)) {\r\n            unscaled = newAlpha / 100;\r\n            this.alpha = Math.min(Math.max(unscaled, 0.1), 1);\r\n        }\r\n    }\r\n    this.changed();\r\n};\r\n\r\nMorph.prototype.attach = function () {\r\n    var choices = this.overlappedMorphs(),\r\n        menu = new MenuMorph(this, 'choose new parent:'),\r\n        myself = this;\r\n\r\n    choices.forEach(function (each) {\r\n        menu.addItem(each.toString().slice(0, 50), function () {\r\n            each.add(myself);\r\n            myself.isDraggable = false;\r\n        });\r\n    });\r\n    if (choices.length > 0) {\r\n        menu.popUpAtHand(this.world());\r\n    }\r\n};\r\n\r\nMorph.prototype.toggleIsDraggable = function () {\r\n    // for context menu demo purposes\r\n    this.isDraggable = !this.isDraggable;\r\n};\r\n\r\nMorph.prototype.colorSetters = function () {\r\n    // for context menu demo purposes\r\n    return ['color'];\r\n};\r\n\r\nMorph.prototype.numericalSetters = function () {\r\n    // for context menu demo purposes\r\n    return [\r\n        'setLeft',\r\n        'setTop',\r\n        'setWidth',\r\n        'setHeight',\r\n        'setAlphaScaled'\r\n    ];\r\n};\r\n\r\n// Morph entry field tabbing:\r\n\r\nMorph.prototype.allEntryFields = function () {\r\n    return this.allChildren().filter(function (each) {\r\n        return each.isEditable &&\r\n            (each instanceof StringMorph ||\r\n                each instanceof TextMorph);\r\n    });\r\n};\r\n\r\nMorph.prototype.nextEntryField = function (current) {\r\n    var fields = this.allEntryFields(),\r\n        idx = fields.indexOf(current);\r\n    if (idx !== -1) {\r\n        if (fields.length > idx + 1) {\r\n            return fields[idx + 1];\r\n        }\r\n    }\r\n    return fields[0];\r\n};\r\n\r\nMorph.prototype.previousEntryField = function (current) {\r\n    var fields = this.allEntryFields(),\r\n        idx = fields.indexOf(current);\r\n    if (idx !== -1) {\r\n        if (idx > 0) {\r\n            return fields[idx - 1];\r\n        }\r\n        return fields[fields.length - 1];\r\n    }\r\n    return fields[0];\r\n};\r\n\r\nMorph.prototype.tab = function (editField) {\r\n/*\r\n    the <tab> key was pressed in one of my edit fields.\r\n    invoke my \"nextTab()\" function if it exists, else\r\n    propagate it up my owner chain.\r\n*/\r\n    if (this.nextTab) {\r\n        this.nextTab(editField);\r\n    } else if (this.parent) {\r\n        this.parent.tab(editField);\r\n    }\r\n};\r\n\r\nMorph.prototype.backTab = function (editField) {\r\n/*\r\n    the <back tab> key was pressed in one of my edit fields.\r\n    invoke my \"previousTab()\" function if it exists, else\r\n    propagate it up my owner chain.\r\n*/\r\n    if (this.previousTab) {\r\n        this.previousTab(editField);\r\n    } else if (this.parent) {\r\n        this.parent.backTab(editField);\r\n    }\r\n};\r\n\r\n/*\r\n    the following are examples of what the navigation methods should\r\n    look like. Insert these at the World level for fallback, and at lower\r\n    levels in the Morphic tree (e.g. dialog boxes) for a more fine-grained\r\n    control over the tabbing cycle.\r\n*/\r\n\r\n// Morph events:\r\n\r\nMorph.prototype.escalateEvent = function (functionName, arg) {\r\n    var handler = this.parent;\r\n    while (!handler[functionName] && handler.parent !== null) {\r\n        handler = handler.parent;\r\n    }\r\n    if (handler[functionName]) {\r\n        handler[functionName](arg);\r\n    }\r\n};\r\n\r\n// Morph eval:\r\n\r\nMorph.prototype.evaluateString = function (code) {\r\n    var result;\r\n\r\n    try {\r\n        result = eval(code);\r\n        this.drawNew();\r\n        this.changed();\r\n    } catch (err) {\r\n        this.inform(err);\r\n    }\r\n    return result;\r\n};\r\n\r\n// Morph collision detection:\r\n\r\nMorph.prototype.isTouching = function (otherMorph) {\r\n    var oImg = this.overlappingImage(otherMorph),\r\n        data;\r\n    if (!oImg.width || !oImg.height) {\r\n        return false;\r\n    }\r\n    data = oImg.getContext('2d')\r\n        .getImageData(1, 1, oImg.width, oImg.height)\r\n        .data;\r\n    return detect(\r\n        data,\r\n        function (each) {\r\n            return each !== 0;\r\n        }\r\n    ) !== null;\r\n};\r\n\r\nMorph.prototype.overlappingImage = function (otherMorph) {\r\n    var fb = this.fullBounds(),\r\n        otherFb = otherMorph.fullBounds(),\r\n        oRect = fb.intersect(otherFb),\r\n        oImg = newCanvas(oRect.extent()),\r\n        ctx = oImg.getContext('2d');\r\n    if (oRect.width() < 1 || oRect.height() < 1) {\r\n        return newCanvas(new Point(1, 1));\r\n    }\r\n    ctx.drawImage(\r\n        this.fullImage(),\r\n        oRect.origin.x - fb.origin.x,\r\n        oRect.origin.y - fb.origin.y\r\n    );\r\n    ctx.globalCompositeOperation = 'source-in';\r\n    ctx.drawImage(\r\n        otherMorph.fullImage(),\r\n        otherFb.origin.x - oRect.origin.x,\r\n        otherFb.origin.y - oRect.origin.y\r\n    );\r\n    return oImg;\r\n};\r\n\r\n// ShadowMorph /////////////////////////////////////////////////////////\r\n\r\n// ShadowMorph inherits from Morph:\r\n\r\nShadowMorph.prototype = new Morph();\r\nShadowMorph.prototype.constructor = ShadowMorph;\r\nShadowMorph.uber = Morph.prototype;\r\n\r\n// ShadowMorph instance creation:\r\n\r\nfunction ShadowMorph() {\r\n    this.init();\r\n}\r\n\r\nShadowMorph.prototype.topMorphAt = function () {\r\n    return null;\r\n};\r\n\r\n// HandleMorph ////////////////////////////////////////////////////////\r\n\r\n// I am a resize / move handle that can be attached to any Morph\r\n\r\n// HandleMorph inherits from Morph:\r\n\r\nHandleMorph.prototype = new Morph();\r\nHandleMorph.prototype.constructor = HandleMorph;\r\nHandleMorph.uber = Morph.prototype;\r\n\r\n// HandleMorph instance creation:\r\n\r\nfunction HandleMorph(target, minX, minY, insetX, insetY, type) {\r\n    // if insetY is missing, it will be the same as insetX\r\n    this.init(target, minX, minY, insetX, insetY, type);\r\n}\r\n\r\nHandleMorph.prototype.init = function (\r\n    target,\r\n    minX,\r\n    minY,\r\n    insetX,\r\n    insetY,\r\n    type\r\n) {\r\n    var size = MorphicPreferences.handleSize;\r\n    this.target = target || null;\r\n    this.minExtent = new Point(minX || 0, minY || 0);\r\n    this.inset = new Point(insetX || 0, insetY || insetX || 0);\r\n    this.type =  type || 'resize'; // also: 'move', 'moveCenter', 'movePivot'\r\n    HandleMorph.uber.init.call(this);\r\n    this.color = new Color(255, 255, 255);\r\n    this.isDraggable = false;\r\n    this.noticesTransparentClick = true;\r\n    if (this.type === 'movePivot') {\r\n        size *= 2;\r\n    }\r\n    this.setExtent(new Point(size, size));\r\n};\r\n\r\n// HandleMorph drawing:\r\n\r\nHandleMorph.prototype.drawNew = function () {\r\n    this.normalImage = newCanvas(this.extent());\r\n    this.highlightImage = newCanvas(this.extent());\r\n    if (this.type === 'movePivot') {\r\n        this.drawCrosshairsOnCanvas(this.normalImage, 0.6);\r\n        this.drawCrosshairsOnCanvas(this.highlightImage, 0.5);\r\n    } else {\r\n        this.drawOnCanvas(\r\n            this.normalImage,\r\n            this.color,\r\n            new Color(100, 100, 100)\r\n        );\r\n        this.drawOnCanvas(\r\n            this.highlightImage,\r\n            new Color(100, 100, 255),\r\n            new Color(255, 255, 255)\r\n        );\r\n    }\r\n    this.image = this.normalImage;\r\n    if (this.target) {\r\n        if (this.type === 'moveCenter') {\r\n            this.setCenter(this.target.center());\r\n        } else if (this.type === 'movePivot') {\r\n            this.setCenter(this.target.rotationCenter());\r\n        } else { // 'resize', 'move'\r\n            this.setPosition(\r\n                this.target.bottomRight().subtract(\r\n                    this.extent().add(this.inset)\r\n                )\r\n            );\r\n        }\r\n        this.target.add(this);\r\n        this.target.changed();\r\n    }\r\n};\r\n\r\nHandleMorph.prototype.drawCrosshairsOnCanvas = function (aCanvas, fract) {\r\n    var ctx = aCanvas.getContext('2d'),\r\n        r = aCanvas.width / 2;\r\n    ctx.fillStyle = 'rgba(255, 255, 255, 0.5)';\r\n    ctx.arc(r, r, r * 0.9, radians(0), radians(360), false);\r\n    ctx.fill();\r\n    ctx.strokeStyle = 'black';\r\n    ctx.lineWidth = 1;\r\n    ctx.beginPath();\r\n    ctx.arc(r, r, r * fract, radians(0), radians(360), false);\r\n    ctx.stroke();\r\n    ctx.moveTo(0, r);\r\n    ctx.lineTo(aCanvas.width, r);\r\n    ctx.stroke();\r\n    ctx.moveTo(r, 0);\r\n    ctx.lineTo(r, aCanvas.height);\r\n    ctx.stroke();\r\n};\r\n\r\nHandleMorph.prototype.drawOnCanvas = function (\r\n    aCanvas,\r\n    color,\r\n    shadowColor\r\n) {\r\n    var context = aCanvas.getContext('2d'),\r\n        isSquare = (this.type.indexOf('move') === 0),\r\n        p1,\r\n        p11,\r\n        p2,\r\n        p22,\r\n        i;\r\n\r\n    context.lineWidth = 1;\r\n    context.lineCap = 'round';\r\n\r\n    context.strokeStyle = color.toString();\r\n\r\n    if (isSquare) {\r\n\r\n        p1 = this.bottomLeft().subtract(this.position());\r\n        p11 = p1.copy();\r\n        p2 = this.topRight().subtract(this.position());\r\n        p22 = p2.copy();\r\n\r\n        for (i = 0; i <= this.height(); i = i + 6) {\r\n            p11.y = p1.y - i;\r\n            p22.y = p2.y - i;\r\n\r\n            context.beginPath();\r\n            context.moveTo(p11.x, p11.y);\r\n            context.lineTo(p22.x, p22.y);\r\n            context.closePath();\r\n            context.stroke();\r\n        }\r\n    }\r\n\r\n    p1 = this.bottomLeft().subtract(this.position());\r\n    p11 = p1.copy();\r\n    p2 = this.topRight().subtract(this.position());\r\n    p22 = p2.copy();\r\n\r\n    for (i = 0; i <= this.width(); i = i + 6) {\r\n        p11.x = p1.x + i;\r\n        p22.x = p2.x + i;\r\n\r\n        context.beginPath();\r\n        context.moveTo(p11.x, p11.y);\r\n        context.lineTo(p22.x, p22.y);\r\n        context.closePath();\r\n        context.stroke();\r\n    }\r\n\r\n    context.strokeStyle = shadowColor.toString();\r\n\r\n    if (isSquare) {\r\n\r\n        p1 = this.bottomLeft().subtract(this.position());\r\n        p11 = p1.copy();\r\n        p2 = this.topRight().subtract(this.position());\r\n        p22 = p2.copy();\r\n\r\n        for (i = -2; i <= this.height(); i = i + 6) {\r\n            p11.y = p1.y - i;\r\n            p22.y = p2.y - i;\r\n\r\n            context.beginPath();\r\n            context.moveTo(p11.x, p11.y);\r\n            context.lineTo(p22.x, p22.y);\r\n            context.closePath();\r\n            context.stroke();\r\n        }\r\n    }\r\n\r\n    p1 = this.bottomLeft().subtract(this.position());\r\n    p11 = p1.copy();\r\n    p2 = this.topRight().subtract(this.position());\r\n    p22 = p2.copy();\r\n\r\n    for (i = 2; i <= this.width(); i = i + 6) {\r\n        p11.x = p1.x + i;\r\n        p22.x = p2.x + i;\r\n\r\n        context.beginPath();\r\n        context.moveTo(p11.x, p11.y);\r\n        context.lineTo(p22.x, p22.y);\r\n        context.closePath();\r\n        context.stroke();\r\n    }\r\n};\r\n\r\n// HandleMorph stepping:\r\n\r\nHandleMorph.prototype.step = null;\r\n\r\nHandleMorph.prototype.mouseDownLeft = function (pos) {\r\n    var world = this.root(),\r\n        offset,\r\n        myself = this;\r\n\r\n    if (!this.target) {\r\n        return null;\r\n    }\r\n    if (this.type.indexOf('move') === 0) {\r\n        offset = pos.subtract(this.center());\r\n    } else {\r\n        offset = pos.subtract(this.bounds.origin);\r\n    }\r\n    this.step = function () {\r\n        var newPos, newExt;\r\n        if (world.hand.mouseButton) {\r\n            newPos = world.hand.bounds.origin.copy().subtract(offset);\r\n            if (this.type === 'resize') {\r\n                newExt = newPos.add(\r\n                    myself.extent().add(myself.inset)\r\n                ).subtract(myself.target.bounds.origin);\r\n                newExt = newExt.max(myself.minExtent);\r\n                myself.target.setExtent(newExt);\r\n\r\n                myself.setPosition(\r\n                    myself.target.bottomRight().subtract(\r\n                        myself.extent().add(myself.inset)\r\n                    )\r\n                );\r\n            } else if (this.type === 'moveCenter') {\r\n                myself.target.setCenter(newPos);\r\n            } else if (this.type === 'movePivot') {\r\n                myself.target.setPivot(newPos);\r\n                myself.setCenter(this.target.rotationCenter());\r\n            } else { // type === 'move'\r\n                myself.target.setPosition(\r\n                    newPos.subtract(this.target.extent())\r\n                        .add(this.extent())\r\n                );\r\n            }\r\n        } else {\r\n            this.step = null;\r\n        }\r\n    };\r\n    if (!this.target.step) {\r\n        this.target.step = function () {\r\n            nop();\r\n        };\r\n    }\r\n};\r\n\r\n// HandleMorph dragging and dropping:\r\n\r\nHandleMorph.prototype.rootForGrab = function () {\r\n    return this;\r\n};\r\n\r\n// HandleMorph events:\r\n\r\nHandleMorph.prototype.mouseEnter = function () {\r\n    this.image = this.highlightImage;\r\n    this.changed();\r\n};\r\n\r\nHandleMorph.prototype.mouseLeave = function () {\r\n    this.image = this.normalImage;\r\n    this.changed();\r\n};\r\n\r\n// HandleMorph menu:\r\n\r\nHandleMorph.prototype.attach = function () {\r\n    var choices = this.overlappedMorphs(),\r\n        menu = new MenuMorph(this, 'choose target:'),\r\n        myself = this;\r\n\r\n    choices.forEach(function (each) {\r\n        menu.addItem(each.toString().slice(0, 50), function () {\r\n            myself.isDraggable = false;\r\n            myself.target = each;\r\n            myself.drawNew();\r\n            myself.noticesTransparentClick = true;\r\n        });\r\n    });\r\n    if (choices.length > 0) {\r\n        menu.popUpAtHand(this.world());\r\n    }\r\n};\r\n\r\n// PenMorph ////////////////////////////////////////////////////////////\r\n\r\n// I am a simple LOGO-wise turtle.\r\n\r\n// PenMorph: referenced constructors\r\n\r\nvar PenMorph;\r\n\r\n// PenMorph inherits from Morph:\r\n\r\nPenMorph.prototype = new Morph();\r\nPenMorph.prototype.constructor = PenMorph;\r\nPenMorph.uber = Morph.prototype;\r\n\r\n// PenMorph instance creation:\r\n\r\nfunction PenMorph() {\r\n    this.init();\r\n}\r\n\r\nPenMorph.prototype.init = function () {\r\n    var size = MorphicPreferences.handleSize * 4;\r\n\r\n    // additional properties:\r\n    this.isWarped = false; // internal optimization\r\n    this.heading = 0;\r\n    this.isDown = true;\r\n    this.size = 1;\r\n    this.wantsRedraw = false;\r\n    this.penPoint = 'tip'; // or 'center\"\r\n    this.penBounds = null; // rect around the visible arrow shape\r\n\r\n    HandleMorph.uber.init.call(this);\r\n    this.setExtent(new Point(size, size));\r\n};\r\n\r\n// PenMorph updating - optimized for warping, i.e atomic recursion\r\n\r\nPenMorph.prototype.changed = function () {\r\n    if (this.isWarped === false) {\r\n        var w = this.root();\r\n        if (w instanceof WorldMorph) {\r\n            w.broken.push(this.visibleBounds().spread());\r\n        }\r\n        if (this.parent) {\r\n            this.parent.childChanged(this);\r\n        }\r\n    }\r\n};\r\n\r\n// PenMorph display:\r\n\r\nPenMorph.prototype.drawNew = function (facing) {\r\n    // my orientation can be overridden with the \"facing\" parameter to\r\n    // implement Scratch-style rotation styles\r\n\r\n    var context, start, dest, left, right, len,\r\n        direction = facing || this.heading;\r\n\r\n    if (this.isWarped) {\r\n        this.wantsRedraw = true;\r\n        return;\r\n    }\r\n    this.image = newCanvas(this.extent());\r\n    context = this.image.getContext('2d');\r\n    len = this.width() / 2;\r\n    start = this.center().subtract(this.bounds.origin);\r\n\r\n    if (this.penPoint === 'tip') {\r\n        dest = start.distanceAngle(len * 0.75, direction - 180);\r\n        left = start.distanceAngle(len, direction + 195);\r\n        right = start.distanceAngle(len, direction - 195);\r\n    } else { // 'middle'\r\n        dest = start.distanceAngle(len * 0.75, direction);\r\n        left = start.distanceAngle(len * 0.33, direction + 230);\r\n        right = start.distanceAngle(len * 0.33, direction - 230);\r\n    }\r\n\r\n    // cache penBounds\r\n    this.penBounds = new Rectangle(\r\n        Math.min(start.x, dest.x, left.x, right.x),\r\n        Math.min(start.y, dest.y, left.y, right.y),\r\n        Math.max(start.x, dest.x, left.x, right.x),\r\n        Math.max(start.y, dest.y, left.y, right.y)\r\n    );\r\n\r\n    // draw arrow shape\r\n    context.fillStyle = this.color.toString();\r\n    context.beginPath();\r\n\r\n    context.moveTo(start.x, start.y);\r\n    context.lineTo(left.x, left.y);\r\n    context.lineTo(dest.x, dest.y);\r\n    context.lineTo(right.x, right.y);\r\n\r\n    context.closePath();\r\n    context.strokeStyle = 'white';\r\n    context.lineWidth = 3;\r\n    context.stroke();\r\n    context.strokeStyle = 'black';\r\n    context.lineWidth = 1;\r\n    context.stroke();\r\n    context.fill();\r\n};\r\n\r\n// PenMorph access:\r\n\r\nPenMorph.prototype.setHeading = function (degrees) {\r\n    this.heading = ((+degrees % 360) + 360) % 360;\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\n// PenMorph drawing:\r\n\r\nPenMorph.prototype.drawLine = function (start, dest) {\r\n    var context = this.parent.penTrails().getContext('2d'),\r\n        from = start.subtract(this.parent.bounds.origin),\r\n        to = dest.subtract(this.parent.bounds.origin);\r\n    if (this.isDown) {\r\n        context.lineWidth = this.size;\r\n        context.strokeStyle = this.color.toString();\r\n        context.lineCap = 'round';\r\n        context.lineJoin = 'round';\r\n        context.beginPath();\r\n        context.moveTo(from.x, from.y);\r\n        context.lineTo(to.x, to.y);\r\n        context.stroke();\r\n        if (this.isWarped === false) {\r\n            this.world().broken.push(\r\n                start.rectangle(dest).expandBy(\r\n                    Math.max(this.size / 2, 1)\r\n                ).intersect(this.parent.visibleBounds()).spread()\r\n            );\r\n        }\r\n    }\r\n};\r\n\r\n// PenMorph turtle ops:\r\n\r\nPenMorph.prototype.turn = function (degrees) {\r\n    this.setHeading(this.heading + parseFloat(degrees));\r\n};\r\n\r\nPenMorph.prototype.forward = function (steps) {\r\n    var start = this.center(),\r\n        dest,\r\n        dist = parseFloat(steps);\r\n    if (dist >= 0) {\r\n        dest = this.position().distanceAngle(dist, this.heading);\r\n    } else {\r\n        dest = this.position().distanceAngle(\r\n            Math.abs(dist),\r\n            (this.heading - 180)\r\n        );\r\n    }\r\n    this.setPosition(dest);\r\n    this.drawLine(start, this.center());\r\n};\r\n\r\nPenMorph.prototype.down = function () {\r\n    this.isDown = true;\r\n};\r\n\r\nPenMorph.prototype.up = function () {\r\n    this.isDown = false;\r\n};\r\n\r\nPenMorph.prototype.clear = function () {\r\n    this.parent.drawNew();\r\n    this.parent.changed();\r\n};\r\n\r\n// PenMorph optimization for atomic recursion:\r\n\r\nPenMorph.prototype.startWarp = function () {\r\n    this.wantsRedraw = false;\r\n    this.isWarped = true;\r\n};\r\n\r\nPenMorph.prototype.endWarp = function () {\r\n    this.isWarped = false;\r\n    if (this.wantsRedraw) {\r\n        this.drawNew();\r\n        this.wantsRedraw = false;\r\n    }\r\n    this.parent.changed();\r\n};\r\n\r\nPenMorph.prototype.warp = function (fun) {\r\n    this.startWarp();\r\n    fun.call(this);\r\n    this.endWarp();\r\n};\r\n\r\nPenMorph.prototype.warpOp = function (selector, argsArray) {\r\n    this.startWarp();\r\n    this[selector].apply(this, argsArray);\r\n    this.endWarp();\r\n};\r\n\r\n// PenMorph demo ops:\r\n// try these with WARP eg.: this.warp(function () {tree(12, 120, 20)})\r\n\r\nPenMorph.prototype.warpSierpinski = function (length, min) {\r\n    this.warpOp('sierpinski', [length, min]);\r\n};\r\n\r\nPenMorph.prototype.sierpinski = function (length, min) {\r\n    var i;\r\n    if (length > min) {\r\n        for (i = 0; i < 3; i += 1) {\r\n            this.sierpinski(length * 0.5, min);\r\n            this.turn(120);\r\n            this.forward(length);\r\n        }\r\n    }\r\n};\r\n\r\nPenMorph.prototype.warpTree = function (level, length, angle) {\r\n    this.warpOp('tree', [level, length, angle]);\r\n};\r\n\r\nPenMorph.prototype.tree = function (level, length, angle) {\r\n    if (level > 0) {\r\n        this.size = level;\r\n        this.forward(length);\r\n        this.turn(angle);\r\n        this.tree(level - 1, length * 0.75, angle);\r\n        this.turn(angle * -2);\r\n        this.tree(level - 1, length * 0.75, angle);\r\n        this.turn(angle);\r\n        this.forward(-length);\r\n    }\r\n};\r\n\r\n// ColorPaletteMorph ///////////////////////////////////////////////////\r\n\r\nvar ColorPaletteMorph;\r\n\r\n// ColorPaletteMorph inherits from Morph:\r\n\r\nColorPaletteMorph.prototype = new Morph();\r\nColorPaletteMorph.prototype.constructor = ColorPaletteMorph;\r\nColorPaletteMorph.uber = Morph.prototype;\r\n\r\n// ColorPaletteMorph instance creation:\r\n\r\nfunction ColorPaletteMorph(target, sizePoint) {\r\n    this.init(\r\n        target || null,\r\n        sizePoint || new Point(80, 50)\r\n    );\r\n}\r\n\r\nColorPaletteMorph.prototype.init = function (target, size) {\r\n    ColorPaletteMorph.uber.init.call(this);\r\n    this.target = target;\r\n    this.targetSetter = 'color';\r\n    this.silentSetExtent(size);\r\n    this.choice = null;\r\n    this.drawNew();\r\n};\r\n\r\nColorPaletteMorph.prototype.drawNew = function () {\r\n    var context, ext, x, y, h, l;\r\n\r\n    ext = this.extent();\r\n    this.image = newCanvas(this.extent());\r\n    context = this.image.getContext('2d');\r\n    this.choice = new Color();\r\n    for (x = 0; x <= ext.x; x += 1) {\r\n        h = 360 * x / ext.x;\r\n        for (y = 0; y <= ext.y; y += 1) {\r\n            l = 100 - (y / ext.y * 100);\r\n            context.fillStyle = 'hsl(' + h + ',100%,' + l + '%)';\r\n            context.fillRect(x, y, 1, 1);\r\n        }\r\n    }\r\n};\r\n\r\nColorPaletteMorph.prototype.mouseMove = function (pos) {\r\n    this.choice = this.getPixelColor(pos);\r\n    this.updateTarget();\r\n};\r\n\r\nColorPaletteMorph.prototype.mouseDownLeft = function (pos) {\r\n    this.choice = this.getPixelColor(pos);\r\n    this.updateTarget();\r\n};\r\n\r\nColorPaletteMorph.prototype.updateTarget = function () {\r\n    if (this.target instanceof Morph && this.choice !== null) {\r\n        if (this.target[this.targetSetter] instanceof Function) {\r\n            this.target[this.targetSetter](this.choice);\r\n        } else {\r\n            this.target[this.targetSetter] = this.choice;\r\n            this.target.drawNew();\r\n            this.target.changed();\r\n        }\r\n    }\r\n};\r\n\r\n// ColorPaletteMorph menu:\r\n\r\nColorPaletteMorph.prototype.developersMenu = function () {\r\n    var menu = ColorPaletteMorph.uber.developersMenu.call(this);\r\n    menu.addLine();\r\n    menu.addItem(\r\n        'set target',\r\n        \"setTarget\",\r\n        'choose another morph\\nwhose color property\\n will be' +\r\n            ' controlled by this one'\r\n    );\r\n    return menu;\r\n};\r\n\r\nColorPaletteMorph.prototype.setTarget = function () {\r\n    var choices = this.overlappedMorphs(),\r\n        menu = new MenuMorph(this, 'choose target:'),\r\n        myself = this;\r\n\r\n    choices.push(this.world());\r\n    choices.forEach(function (each) {\r\n        menu.addItem(each.toString().slice(0, 50), function () {\r\n            myself.target = each;\r\n            myself.setTargetSetter();\r\n        });\r\n    });\r\n    if (choices.length === 1) {\r\n        this.target = choices[0];\r\n        this.setTargetSetter();\r\n    } else if (choices.length > 0) {\r\n        menu.popUpAtHand(this.world());\r\n    }\r\n};\r\n\r\nColorPaletteMorph.prototype.setTargetSetter = function () {\r\n    var choices = this.target.colorSetters(),\r\n        menu = new MenuMorph(this, 'choose target property:'),\r\n        myself = this;\r\n\r\n    choices.forEach(function (each) {\r\n        menu.addItem(each, function () {\r\n            myself.targetSetter = each;\r\n        });\r\n    });\r\n    if (choices.length === 1) {\r\n        this.targetSetter = choices[0];\r\n    } else if (choices.length > 0) {\r\n        menu.popUpAtHand(this.world());\r\n    }\r\n};\r\n\r\n// GrayPaletteMorph ///////////////////////////////////////////////////\r\n\r\nvar GrayPaletteMorph;\r\n\r\n// GrayPaletteMorph inherits from ColorPaletteMorph:\r\n\r\nGrayPaletteMorph.prototype = new ColorPaletteMorph();\r\nGrayPaletteMorph.prototype.constructor = GrayPaletteMorph;\r\nGrayPaletteMorph.uber = ColorPaletteMorph.prototype;\r\n\r\n// GrayPaletteMorph instance creation:\r\n\r\nfunction GrayPaletteMorph(target, sizePoint) {\r\n    this.init(\r\n        target || null,\r\n        sizePoint || new Point(80, 10)\r\n    );\r\n}\r\n\r\nGrayPaletteMorph.prototype.drawNew = function () {\r\n    var context, ext, gradient;\r\n\r\n    ext = this.extent();\r\n    this.image = newCanvas(this.extent());\r\n    context = this.image.getContext('2d');\r\n    this.choice = new Color();\r\n    gradient = context.createLinearGradient(0, 0, ext.x, ext.y);\r\n    gradient.addColorStop(0, 'black');\r\n    gradient.addColorStop(1, 'white');\r\n    context.fillStyle = gradient;\r\n    context.fillRect(0, 0, ext.x, ext.y);\r\n};\r\n\r\n// ColorPickerMorph ///////////////////////////////////////////////////\r\n\r\n// ColorPickerMorph inherits from Morph:\r\n\r\nColorPickerMorph.prototype = new Morph();\r\nColorPickerMorph.prototype.constructor = ColorPickerMorph;\r\nColorPickerMorph.uber = Morph.prototype;\r\n\r\n// ColorPickerMorph instance creation:\r\n\r\nfunction ColorPickerMorph(defaultColor) {\r\n    this.init(defaultColor || new Color(255, 255, 255));\r\n}\r\n\r\nColorPickerMorph.prototype.init = function (defaultColor) {\r\n    this.choice = defaultColor;\r\n    ColorPickerMorph.uber.init.call(this);\r\n    this.color = new Color(255, 255, 255);\r\n    this.silentSetExtent(new Point(80, 80));\r\n    this.drawNew();\r\n};\r\n\r\nColorPickerMorph.prototype.drawNew = function () {\r\n    ColorPickerMorph.uber.drawNew.call(this);\r\n    this.buildSubmorphs();\r\n};\r\n\r\nColorPickerMorph.prototype.buildSubmorphs = function () {\r\n    var cpal, gpal, x, y;\r\n\r\n    this.children.forEach(function (child) {\r\n        child.destroy();\r\n    });\r\n    this.children = [];\r\n    this.feedback = new Morph();\r\n    this.feedback.color = this.choice;\r\n    this.feedback.setExtent(new Point(20, 20));\r\n    cpal = new ColorPaletteMorph(\r\n        this.feedback,\r\n        new Point(this.width(), 50)\r\n    );\r\n    gpal = new GrayPaletteMorph(\r\n        this.feedback,\r\n        new Point(this.width(), 5)\r\n    );\r\n    cpal.setPosition(this.bounds.origin);\r\n    this.add(cpal);\r\n    gpal.setPosition(cpal.bottomLeft());\r\n    this.add(gpal);\r\n    x = (gpal.left() +\r\n        Math.floor((gpal.width() - this.feedback.width()) / 2));\r\n    y = gpal.bottom() + Math.floor((this.bottom() -\r\n        gpal.bottom() - this.feedback.height()) / 2);\r\n    this.feedback.setPosition(new Point(x, y));\r\n    this.add(this.feedback);\r\n};\r\n\r\nColorPickerMorph.prototype.getChoice = function () {\r\n    return this.feedback.color;\r\n};\r\n\r\nColorPickerMorph.prototype.rootForGrab = function () {\r\n    return this;\r\n};\r\n\r\n// BlinkerMorph ////////////////////////////////////////////////////////\r\n\r\n// can be used for text cursors\r\n\r\nvar BlinkerMorph;\r\n\r\n// BlinkerMorph inherits from Morph:\r\n\r\nBlinkerMorph.prototype = new Morph();\r\nBlinkerMorph.prototype.constructor = BlinkerMorph;\r\nBlinkerMorph.uber = Morph.prototype;\r\n\r\n// BlinkerMorph instance creation:\r\n\r\nfunction BlinkerMorph(rate) {\r\n    this.init(rate);\r\n}\r\n\r\nBlinkerMorph.prototype.init = function (rate) {\r\n    BlinkerMorph.uber.init.call(this);\r\n    this.color = new Color(0, 0, 0);\r\n    this.fps = rate || 2;\r\n    this.drawNew();\r\n};\r\n\r\n// BlinkerMorph stepping:\r\n\r\nBlinkerMorph.prototype.step = function () {\r\n    this.toggleVisibility();\r\n};\r\n\r\n// CursorMorph /////////////////////////////////////////////////////////\r\n\r\n// I am a String/Text editing widget\r\n\r\n// CursorMorph: referenced constructors\r\n\r\nvar CursorMorph;\r\n\r\n// CursorMorph inherits from BlinkerMorph:\r\n\r\nCursorMorph.prototype = new BlinkerMorph();\r\nCursorMorph.prototype.constructor = CursorMorph;\r\nCursorMorph.uber = BlinkerMorph.prototype;\r\n\r\n// CursorMorph preferences settings:\r\n\r\nCursorMorph.prototype.viewPadding = 1;\r\n\r\n// CursorMorph instance creation:\r\n\r\nfunction CursorMorph(aStringOrTextMorph) {\r\n    this.init(aStringOrTextMorph);\r\n}\r\n\r\nCursorMorph.prototype.init = function (aStringOrTextMorph) {\r\n    var ls;\r\n\r\n    // additional properties:\r\n    this.keyDownEventUsed = false;\r\n    this.target = aStringOrTextMorph;\r\n    this.originalContents = this.target.text;\r\n    this.originalAlignment = this.target.alignment;\r\n    this.slot = this.target.text.length;\r\n    CursorMorph.uber.init.call(this);\r\n    ls = fontHeight(this.target.fontSize);\r\n    this.setExtent(new Point(Math.max(Math.floor(ls / 20), 1), ls));\r\n    this.drawNew();\r\n    this.image.getContext('2d').font = this.target.font();\r\n    if (this.target instanceof TextMorph &&\r\n            (this.target.alignment !== 'left')) {\r\n        this.target.setAlignmentToLeft();\r\n    }\r\n    this.gotoSlot(this.slot);\r\n    this.initializeClipboardHandler();\r\n};\r\n\r\nCursorMorph.prototype.initializeClipboardHandler = function () {\r\n    // Add hidden text box for copying and pasting\r\n    var myself = this,\r\n        wrrld = this.target.world();\r\n\r\n    this.clipboardHandler = document.createElement('textarea');\r\n    this.clipboardHandler.style.position = 'absolute';\r\n    this.clipboardHandler.style.top = window.outerHeight;\r\n    this.clipboardHandler.style.right = '101%'; // placed just out of view\r\n\r\n    document.body.appendChild(this.clipboardHandler);\r\n\r\n    this.clipboardHandler.value = this.target.selection();\r\n    this.clipboardHandler.focus();\r\n    this.clipboardHandler.select();\r\n\r\n    this.clipboardHandler.addEventListener(\r\n        'keypress',\r\n        function (event) {\r\n            myself.processKeyPress(event);\r\n            this.value = myself.target.selection();\r\n            this.select();\r\n        },\r\n        false\r\n    );\r\n\r\n    this.clipboardHandler.addEventListener(\r\n        'keydown',\r\n        function (event) {\r\n            myself.processKeyDown(event);\r\n            if (event.shiftKey) {\r\n                wrrld.currentKey = 16;\r\n            }\r\n            this.value = myself.target.selection();\r\n            this.select();\r\n\r\n            // Make sure tab prevents default\r\n            if (event.key === 'U+0009' ||\r\n                    event.key === 'Tab') {\r\n                myself.processKeyPress(event);\r\n                event.preventDefault();\r\n            }\r\n        },\r\n        false\r\n    );\r\n\r\n    this.clipboardHandler.addEventListener(\r\n        'keyup',\r\n        function (event) {\r\n            wrrld.currentKey = null;\r\n        },\r\n        false\r\n    );\r\n\r\n    this.clipboardHandler.addEventListener(\r\n        'input',\r\n        function (event) {\r\n            if (this.value === '') {\r\n                myself.gotoSlot(myself.target.selectionStartSlot());\r\n                myself.target.deleteSelection();\r\n            }\r\n        },\r\n        false\r\n    );\r\n};\r\n\r\n// CursorMorph event processing:\r\n\r\nCursorMorph.prototype.processKeyPress = function (event) {\r\n    // this.inspectKeyEvent(event);\r\n    if (this.keyDownEventUsed) {\r\n        this.keyDownEventUsed = false;\r\n        return null;\r\n    }\r\n    if ((event.keyCode === 40) || event.charCode === 40) {\r\n        this.insert('(');\r\n        return null;\r\n    }\r\n    if ((event.keyCode === 37) || event.charCode === 37) {\r\n        this.insert('%');\r\n        return null;\r\n    }\r\n    if (event.keyCode) { // Opera doesn't support charCode\r\n        if (event.ctrlKey && (!event.altKey)) {\r\n            this.ctrl(event.keyCode, event.shiftKey);\r\n        } else if (event.metaKey) {\r\n            this.cmd(event.keyCode, event.shiftKey);\r\n        } else {\r\n            this.insert(\r\n                String.fromCharCode(event.keyCode),\r\n                event.shiftKey\r\n            );\r\n        }\r\n    } else if (event.charCode) { // all other browsers\r\n        if (event.ctrlKey && (!event.altKey)) {\r\n            this.ctrl(event.charCode, event.shiftKey);\r\n        } else if (event.metaKey) {\r\n            this.cmd(event.charCode, event.shiftKey);\r\n        } else {\r\n            this.insert(\r\n                String.fromCharCode(event.charCode),\r\n                event.shiftKey\r\n            );\r\n        }\r\n    }\r\n    // notify target's parent of key event\r\n    this.target.escalateEvent('reactToKeystroke', event);\r\n};\r\n\r\nCursorMorph.prototype.processKeyDown = function (event) {\r\n    // this.inspectKeyEvent(event);\r\n    var shift = event.shiftKey,\r\n        wordNavigation = event.ctrlKey || event.altKey,\r\n        selecting = this.target.selection().length > 0;\r\n\r\n    this.keyDownEventUsed = false;\r\n    if (event.ctrlKey && (!event.altKey)) {\r\n        this.ctrl(event.keyCode, event.shiftKey);\r\n        // notify target's parent of key event\r\n        this.target.escalateEvent('reactToKeystroke', event);\r\n    }\r\n    if (event.metaKey) {\r\n        this.cmd(event.keyCode, event.shiftKey);\r\n        // notify target's parent of key event\r\n        this.target.escalateEvent('reactToKeystroke', event);\r\n    }\r\n\r\n    switch (event.keyCode) {\r\n    case 37:\r\n        if (selecting && !shift && !wordNavigation) {\r\n            this.gotoSlot(Math.min(this.target.startMark, this.target.endMark));\r\n            this.target.clearSelection();\r\n        } else {\r\n            this.goLeft(\r\n                    shift,\r\n                    wordNavigation ?\r\n                        this.slot - this.target.previousWordFrom(this.slot)\r\n                        : 1);\r\n        }\r\n        this.keyDownEventUsed = true;\r\n        break;\r\n    case 39:\r\n        if (selecting && !shift && !wordNavigation) {\r\n            this.gotoSlot(Math.max(this.target.startMark, this.target.endMark));\r\n            this.target.clearSelection();\r\n        } else {\r\n            this.goRight(\r\n                    shift,\r\n                    wordNavigation ?\r\n                        this.target.nextWordFrom(this.slot) - this.slot\r\n                        : 1);\r\n        }\r\n        this.keyDownEventUsed = true;\r\n        break;\r\n    case 38:\r\n        this.goUp(shift);\r\n        this.keyDownEventUsed = true;\r\n        break;\r\n    case 40:\r\n        this.goDown(shift);\r\n        this.keyDownEventUsed = true;\r\n        break;\r\n    case 36:\r\n        this.goHome(shift);\r\n        this.keyDownEventUsed = true;\r\n        break;\r\n    case 35:\r\n        this.goEnd(shift);\r\n        this.keyDownEventUsed = true;\r\n        break;\r\n    case 46:\r\n        this.deleteRight();\r\n        this.keyDownEventUsed = true;\r\n        break;\r\n    case 8:\r\n        this.deleteLeft();\r\n        this.keyDownEventUsed = true;\r\n        break;\r\n    case 13:\r\n        if ((this.target instanceof StringMorph) || shift) {\r\n            this.accept();\r\n        } else {\r\n            this.insert('\\n');\r\n        }\r\n        this.keyDownEventUsed = true;\r\n        break;\r\n    case 27:\r\n        this.cancel();\r\n        this.keyDownEventUsed = true;\r\n        break;\r\n    default:\r\n        nop();\r\n        // this.inspectKeyEvent(event);\r\n    }\r\n    // notify target's parent of key event\r\n    this.target.escalateEvent('reactToKeystroke', event);\r\n};\r\n\r\n// CursorMorph navigation:\r\n\r\n/*\r\n// original non-scrolling code, commented out in case we need to fall back:\r\n\r\nCursorMorph.prototype.gotoSlot = function (newSlot) {\r\n    this.setPosition(this.target.slotPosition(newSlot));\r\n    this.slot = Math.max(newSlot, 0);\r\n};\r\n*/\r\n\r\nCursorMorph.prototype.gotoSlot = function (slot) {\r\n    var length = this.target.text.length,\r\n        pos = this.target.slotPosition(slot),\r\n        right,\r\n        left;\r\n    this.slot = slot < 0 ? 0 : slot > length ? length : slot;\r\n    if (this.parent && this.target.isScrollable) {\r\n        right = this.parent.right() - this.viewPadding;\r\n        left = this.parent.left() + this.viewPadding;\r\n        if (pos.x > right) {\r\n            this.target.setLeft(this.target.left() + right - pos.x);\r\n            pos.x = right;\r\n        }\r\n        if (pos.x < left) {\r\n            left = Math.min(this.parent.left(), left);\r\n            this.target.setLeft(this.target.left() + left - pos.x);\r\n            pos.x = left;\r\n        }\r\n        if (this.target.right() < right &&\r\n                right - this.target.width() < left) {\r\n            pos.x += right - this.target.right();\r\n            this.target.setRight(right);\r\n        }\r\n    }\r\n    this.show();\r\n    this.setPosition(pos);\r\n    if (this.parent\r\n            && this.parent.parent instanceof ScrollFrameMorph\r\n            && this.target.isScrollable) {\r\n        this.parent.parent.scrollCursorIntoView(this);\r\n    }\r\n};\r\n\r\nCursorMorph.prototype.goLeft = function (shift, howMany) {\r\n    this.updateSelection(shift);\r\n    this.gotoSlot(this.slot - (howMany || 1));\r\n    this.updateSelection(shift);\r\n};\r\n\r\nCursorMorph.prototype.goRight = function (shift, howMany) {\r\n    this.updateSelection(shift);\r\n    this.gotoSlot(this.slot + (howMany || 1));\r\n    this.updateSelection(shift);\r\n};\r\n\r\nCursorMorph.prototype.goUp = function (shift) {\r\n    this.updateSelection(shift);\r\n    this.gotoSlot(this.target.upFrom(this.slot));\r\n    this.updateSelection(shift);\r\n};\r\n\r\nCursorMorph.prototype.goDown = function (shift) {\r\n    this.updateSelection(shift);\r\n    this.gotoSlot(this.target.downFrom(this.slot));\r\n    this.updateSelection(shift);\r\n};\r\n\r\nCursorMorph.prototype.goHome = function (shift) {\r\n    this.updateSelection(shift);\r\n    this.gotoSlot(this.target.startOfLine(this.slot));\r\n    this.updateSelection(shift);\r\n};\r\n\r\nCursorMorph.prototype.goEnd = function (shift) {\r\n    this.updateSelection(shift);\r\n    this.gotoSlot(this.target.endOfLine(this.slot));\r\n    this.updateSelection(shift);\r\n};\r\n\r\nCursorMorph.prototype.gotoPos = function (aPoint) {\r\n    this.gotoSlot(this.target.slotAt(aPoint));\r\n    this.show();\r\n};\r\n\r\n// CursorMorph selecting:\r\n\r\nCursorMorph.prototype.updateSelection = function (shift) {\r\n    if (shift) {\r\n        if (isNil(this.target.endMark) && isNil(this.target.startMark)) {\r\n            this.target.startMark = this.slot;\r\n            this.target.endMark = this.slot;\r\n        } else if (this.target.endMark !== this.slot) {\r\n            this.target.endMark = this.slot;\r\n            this.target.drawNew();\r\n            this.target.changed();\r\n        }\r\n    } else {\r\n        this.target.clearSelection();\r\n    }\r\n};\r\n\r\n// CursorMorph editing:\r\n\r\nCursorMorph.prototype.accept = function () {\r\n    var world = this.root();\r\n    if (world) {\r\n        world.stopEditing();\r\n    }\r\n    this.escalateEvent('accept', this);\r\n};\r\n\r\nCursorMorph.prototype.cancel = function () {\r\n    var world = this.root();\r\n    this.undo();\r\n    if (world) {\r\n        world.stopEditing();\r\n    }\r\n    this.escalateEvent('cancel', this);\r\n};\r\n\r\nCursorMorph.prototype.undo = function () {\r\n    this.target.text = this.originalContents;\r\n    this.target.changed();\r\n    this.target.drawNew();\r\n    this.target.changed();\r\n    this.gotoSlot(0);\r\n};\r\n\r\nCursorMorph.prototype.insert = function (aChar, shiftKey) {\r\n    var text;\r\n    if (aChar === '\\u0009') {\r\n        this.target.escalateEvent('reactToEdit', this.target);\r\n        if (shiftKey) {\r\n            return this.target.backTab(this.target);\r\n        }\r\n        return this.target.tab(this.target);\r\n    }\r\n    if (!this.target.isNumeric ||\r\n            !isNaN(parseFloat(aChar)) ||\r\n            contains(['-', '.'], aChar)) {\r\n        if (this.target.selection() !== '') {\r\n            this.gotoSlot(this.target.selectionStartSlot());\r\n            this.target.deleteSelection();\r\n        }\r\n        text = this.target.text;\r\n        text = text.slice(0, this.slot) +\r\n            aChar +\r\n            text.slice(this.slot);\r\n        this.target.text = text;\r\n        this.target.drawNew();\r\n        this.target.changed();\r\n        this.goRight(false, aChar.length);\r\n    }\r\n};\r\n\r\nCursorMorph.prototype.ctrl = function (aChar, shiftKey) {\r\n    if (aChar === 64 || (aChar === 65 && shiftKey)) {\r\n        this.insert('@');\r\n    } else if (aChar === 65) {\r\n        this.target.selectAll();\r\n    } else if (aChar === 90) {\r\n        this.undo();\r\n    } else if (aChar === 123) {\r\n        this.insert('{');\r\n    } else if (aChar === 125) {\r\n        this.insert('}');\r\n    } else if (aChar === 91) {\r\n        this.insert('[');\r\n    } else if (aChar === 93) {\r\n        this.insert(']');\r\n    } else if (!isNil(this.target.receiver)) {\r\n        if (aChar === 68) {\r\n            this.target.doIt();\r\n        } else if (aChar === 73) {\r\n            this.target.inspectIt();\r\n        } else if (aChar === 80) {\r\n            this.target.showIt();\r\n        }\r\n    }\r\n\r\n\r\n};\r\n\r\nCursorMorph.prototype.cmd = function (aChar, shiftKey) {\r\n    if (aChar === 64 || (aChar === 65 && shiftKey)) {\r\n        this.insert('@');\r\n    } else if (aChar === 65) {\r\n        this.target.selectAll();\r\n    } else if (aChar === 90) {\r\n        this.undo();\r\n    } else if (!isNil(this.target.receiver)) {\r\n        if (aChar === 68) {\r\n            this.target.doIt();\r\n        } else if (aChar === 73) {\r\n            this.target.inspectIt();\r\n        } else if (aChar === 80) {\r\n            this.target.showIt();\r\n        }\r\n    }\r\n};\r\n\r\nCursorMorph.prototype.deleteRight = function () {\r\n    var text;\r\n    if (this.target.selection() !== '') {\r\n        this.gotoSlot(this.target.selectionStartSlot());\r\n        this.target.deleteSelection();\r\n    } else {\r\n        text = this.target.text;\r\n        this.target.changed();\r\n        text = text.slice(0, this.slot) + text.slice(this.slot + 1);\r\n        this.target.text = text;\r\n        this.target.drawNew();\r\n    }\r\n};\r\n\r\nCursorMorph.prototype.deleteLeft = function () {\r\n    var text;\r\n    if (this.target.selection()) {\r\n        this.gotoSlot(this.target.selectionStartSlot());\r\n        return this.target.deleteSelection();\r\n    }\r\n    text = this.target.text;\r\n    this.target.changed();\r\n    this.target.text = text.substring(0, this.slot - 1) +\r\n        text.substr(this.slot);\r\n    this.target.drawNew();\r\n    this.goLeft();\r\n};\r\n\r\n// CursorMorph destroying:\r\n\r\nCursorMorph.prototype.destroy = function () {\r\n    if (this.target.alignment !== this.originalAlignment) {\r\n        this.target.alignment = this.originalAlignment;\r\n        this.target.drawNew();\r\n        this.target.changed();\r\n    }\r\n    this.destroyClipboardHandler();\r\n    CursorMorph.uber.destroy.call(this);\r\n};\r\n\r\nCursorMorph.prototype.destroyClipboardHandler = function () {\r\n    var nodes = document.body.children,\r\n        each,\r\n        i;\r\n    if (this.clipboardHandler) {\r\n        for (i = 0; i < nodes.length; i += 1) {\r\n            each = nodes[i];\r\n            if (each === this.clipboardHandler) {\r\n                document.body.removeChild(this.clipboardHandler);\r\n                this.clipboardHandler = null;\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\n// CursorMorph utilities:\r\n\r\nCursorMorph.prototype.inspectKeyEvent = function (event) {\r\n    // private\r\n    this.inform(\r\n        'Key pressed: ' +\r\n            String.fromCharCode(event.charCode) +\r\n            '\\n------------------------' +\r\n            '\\ncharCode: ' +\r\n            event.charCode.toString() +\r\n            '\\nkeyCode: ' +\r\n            event.keyCode.toString() +\r\n            '\\nshiftKey: ' +\r\n            event.shiftKey.toString() +\r\n            '\\naltKey: ' +\r\n            event.altKey.toString() +\r\n            '\\nctrlKey: ' +\r\n            event.ctrlKey.toString() +\r\n            '\\ncmdKey: ' +\r\n            event.metaKey.toString()\r\n    );\r\n};\r\n\r\n// BoxMorph ////////////////////////////////////////////////////////////\r\n\r\n// I can have an optionally rounded border\r\n\r\nvar BoxMorph;\r\n\r\n// BoxMorph inherits from Morph:\r\n\r\nBoxMorph.prototype = new Morph();\r\nBoxMorph.prototype.constructor = BoxMorph;\r\nBoxMorph.uber = Morph.prototype;\r\n\r\n// BoxMorph instance creation:\r\n\r\nfunction BoxMorph(edge, border, borderColor) {\r\n    this.init(edge, border, borderColor);\r\n}\r\n\r\nBoxMorph.prototype.init = function (edge, border, borderColor) {\r\n    this.edge = edge || 4;\r\n    this.border = border || ((border === 0) ? 0 : 2);\r\n    this.borderColor = borderColor || new Color();\r\n    BoxMorph.uber.init.call(this);\r\n};\r\n\r\n// BoxMorph drawing:\r\n\r\nBoxMorph.prototype.drawNew = function () {\r\n    var context;\r\n\r\n    this.image = newCanvas(this.extent());\r\n    context = this.image.getContext('2d');\r\n    if ((this.edge === 0) && (this.border === 0)) {\r\n        BoxMorph.uber.drawNew.call(this);\r\n        return null;\r\n    }\r\n    context.fillStyle = this.color.toString();\r\n    context.beginPath();\r\n    this.outlinePath(\r\n        context,\r\n        Math.max(this.edge - this.border, 0),\r\n        this.border\r\n    );\r\n    context.closePath();\r\n    context.fill();\r\n    if (this.border > 0) {\r\n        context.lineWidth = this.border;\r\n        context.strokeStyle = this.borderColor.toString();\r\n        context.beginPath();\r\n        this.outlinePath(context, this.edge, this.border / 2);\r\n        context.closePath();\r\n        context.stroke();\r\n    }\r\n};\r\n\r\nBoxMorph.prototype.outlinePath = function (context, radius, inset) {\r\n    var offset = radius + inset,\r\n        w = this.width(),\r\n        h = this.height();\r\n\r\n    // top left:\r\n    context.arc(\r\n        offset,\r\n        offset,\r\n        radius,\r\n        radians(-180),\r\n        radians(-90),\r\n        false\r\n    );\r\n    // top right:\r\n    context.arc(\r\n        w - offset,\r\n        offset,\r\n        radius,\r\n        radians(-90),\r\n        radians(-0),\r\n        false\r\n    );\r\n    // bottom right:\r\n    context.arc(\r\n        w - offset,\r\n        h - offset,\r\n        radius,\r\n        radians(0),\r\n        radians(90),\r\n        false\r\n    );\r\n    // bottom left:\r\n    context.arc(\r\n        offset,\r\n        h - offset,\r\n        radius,\r\n        radians(90),\r\n        radians(180),\r\n        false\r\n    );\r\n};\r\n\r\n\r\n// BoxMorph menus:\r\n\r\nBoxMorph.prototype.developersMenu = function () {\r\n    var menu = BoxMorph.uber.developersMenu.call(this);\r\n    menu.addLine();\r\n    menu.addItem(\r\n        \"border width...\",\r\n        function () {\r\n            this.prompt(\r\n                menu.title + '\\nborder\\nwidth:',\r\n                this.setBorderWidth,\r\n                this,\r\n                this.border.toString(),\r\n                null,\r\n                0,\r\n                100,\r\n                true\r\n            );\r\n        },\r\n        'set the border\\'s\\nline size'\r\n    );\r\n    menu.addItem(\r\n        \"border color...\",\r\n        function () {\r\n            this.pickColor(\r\n                menu.title + '\\nborder color:',\r\n                this.setBorderColor,\r\n                this,\r\n                this.borderColor\r\n            );\r\n        },\r\n        'set the border\\'s\\nline color'\r\n    );\r\n    menu.addItem(\r\n        \"corner size...\",\r\n        function () {\r\n            this.prompt(\r\n                menu.title + '\\ncorner\\nsize:',\r\n                this.setCornerSize,\r\n                this,\r\n                this.edge.toString(),\r\n                null,\r\n                0,\r\n                100,\r\n                true\r\n            );\r\n        },\r\n        'set the corner\\'s\\nradius'\r\n    );\r\n    return menu;\r\n};\r\n\r\nBoxMorph.prototype.setBorderWidth = function (size) {\r\n    // for context menu demo purposes\r\n    var newSize;\r\n    if (typeof size === 'number') {\r\n        this.border = Math.max(size, 0);\r\n    } else {\r\n        newSize = parseFloat(size);\r\n        if (!isNaN(newSize)) {\r\n            this.border = Math.max(newSize, 0);\r\n        }\r\n    }\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nBoxMorph.prototype.setBorderColor = function (color) {\r\n    // for context menu demo purposes\r\n    if (color) {\r\n        this.borderColor = color;\r\n        this.drawNew();\r\n        this.changed();\r\n    }\r\n};\r\n\r\nBoxMorph.prototype.setCornerSize = function (size) {\r\n    // for context menu demo purposes\r\n    var newSize;\r\n    if (typeof size === 'number') {\r\n        this.edge = Math.max(size, 0);\r\n    } else {\r\n        newSize = parseFloat(size);\r\n        if (!isNaN(newSize)) {\r\n            this.edge = Math.max(newSize, 0);\r\n        }\r\n    }\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nBoxMorph.prototype.colorSetters = function () {\r\n    // for context menu demo purposes\r\n    return ['color', 'borderColor'];\r\n};\r\n\r\nBoxMorph.prototype.numericalSetters = function () {\r\n    // for context menu demo purposes\r\n    var list = BoxMorph.uber.numericalSetters.call(this);\r\n    list.push('setBorderWidth', 'setCornerSize');\r\n    return list;\r\n};\r\n\r\n// SpeechBubbleMorph ///////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a comic-style speech bubble that can display either a string,\r\n    a Morph, a Canvas or a toString() representation of anything else.\r\n    If I am invoked using popUp() I behave like a tool tip.\r\n*/\r\n\r\n// SpeechBubbleMorph: referenced constructors\r\n\r\nvar SpeechBubbleMorph;\r\n\r\n// SpeechBubbleMorph inherits from BoxMorph:\r\n\r\nSpeechBubbleMorph.prototype = new BoxMorph();\r\nSpeechBubbleMorph.prototype.constructor = SpeechBubbleMorph;\r\nSpeechBubbleMorph.uber = BoxMorph.prototype;\r\n\r\n// SpeechBubbleMorph instance creation:\r\n\r\nfunction SpeechBubbleMorph(\r\n    contents,\r\n    color,\r\n    edge,\r\n    border,\r\n    borderColor,\r\n    padding,\r\n    isThought\r\n) {\r\n    this.init(contents, color, edge, border, borderColor, padding, isThought);\r\n}\r\n\r\nSpeechBubbleMorph.prototype.init = function (\r\n    contents,\r\n    color,\r\n    edge,\r\n    border,\r\n    borderColor,\r\n    padding,\r\n    isThought // bool or anything but \"true\" to draw no hook at all\r\n) {\r\n    this.isPointingRight = true; // orientation of text\r\n    this.contents = contents || '';\r\n    this.padding = padding || 0; // additional vertical pixels\r\n    this.isThought = isThought || false; // draw \"think\" bubble\r\n    this.isClickable = false;\r\n    SpeechBubbleMorph.uber.init.call(\r\n        this,\r\n        edge || 6,\r\n        border || ((border === 0) ? 0 : 1),\r\n        borderColor || new Color(140, 140, 140)\r\n    );\r\n    this.color = color || new Color(230, 230, 230);\r\n    this.drawNew();\r\n};\r\n\r\n// SpeechBubbleMorph invoking:\r\n\r\nSpeechBubbleMorph.prototype.popUp = function (world, pos, isClickable) {\r\n    this.drawNew();\r\n    this.setPosition(pos.subtract(new Point(0, this.height())));\r\n    this.addShadow(new Point(2, 2), 80);\r\n    this.keepWithin(world);\r\n    world.add(this);\r\n    this.fullChanged();\r\n    world.hand.destroyTemporaries();\r\n    world.hand.temporaries.push(this);\r\n\r\n    if (!isClickable) {\r\n        this.mouseEnter = function () {\r\n            this.destroy();\r\n        };\r\n    } else {\r\n        this.isClickable = true;\r\n    }\r\n};\r\n\r\n// SpeechBubbleMorph drawing:\r\n\r\nSpeechBubbleMorph.prototype.drawNew = function () {\r\n    // re-build my contents\r\n    if (this.contentsMorph) {\r\n        this.contentsMorph.destroy();\r\n    }\r\n    if (this.contents instanceof Morph) {\r\n        this.contentsMorph = this.contents;\r\n    } else if (isString(this.contents)) {\r\n        this.contentsMorph = new TextMorph(\r\n            this.contents,\r\n            MorphicPreferences.bubbleHelpFontSize,\r\n            null,\r\n            false,\r\n            true,\r\n            'center'\r\n        );\r\n    } else if (this.contents instanceof HTMLCanvasElement) {\r\n        this.contentsMorph = new Morph();\r\n        this.contentsMorph.silentSetWidth(this.contents.width);\r\n        this.contentsMorph.silentSetHeight(this.contents.height);\r\n        this.contentsMorph.image = this.contents;\r\n    } else {\r\n        this.contentsMorph = new TextMorph(\r\n            this.contents.toString(),\r\n            MorphicPreferences.bubbleHelpFontSize,\r\n            null,\r\n            false,\r\n            true,\r\n            'center'\r\n        );\r\n    }\r\n    this.add(this.contentsMorph);\r\n\r\n    // adjust my layout\r\n    this.silentSetWidth(this.contentsMorph.width() +\r\n        (this.padding ? this.padding * 2 : this.edge * 2));\r\n    this.silentSetHeight(this.contentsMorph.height() +\r\n        this.edge +\r\n        this.border * 2 +\r\n        this.padding * 2 +\r\n        2);\r\n\r\n    // draw my outline\r\n    SpeechBubbleMorph.uber.drawNew.call(this);\r\n\r\n    // position my contents\r\n    this.contentsMorph.setPosition(this.position().add(\r\n        new Point(\r\n            this.padding || this.edge,\r\n            this.border + this.padding + 1\r\n        )\r\n    ));\r\n};\r\n\r\nSpeechBubbleMorph.prototype.outlinePath = function (\r\n    context,\r\n    radius,\r\n    inset\r\n) {\r\n    var offset = radius + inset,\r\n        w = this.width(),\r\n        h = this.height(),\r\n        rad;\r\n\r\n    function circle(x, y, r) {\r\n        context.moveTo(x + r, y);\r\n        context.arc(x, y, r, radians(0), radians(360));\r\n    }\r\n\r\n    // top left:\r\n    context.arc(\r\n        offset,\r\n        offset,\r\n        radius,\r\n        radians(-180),\r\n        radians(-90),\r\n        false\r\n    );\r\n    // top right:\r\n    context.arc(\r\n        w - offset,\r\n        offset,\r\n        radius,\r\n        radians(-90),\r\n        radians(-0),\r\n        false\r\n    );\r\n    // bottom right:\r\n    context.arc(\r\n        w - offset,\r\n        h - offset - radius,\r\n        radius,\r\n        radians(0),\r\n        radians(90),\r\n        false\r\n    );\r\n    if (!this.isThought) { // draw speech bubble hook\r\n        if (this.isPointingRight) {\r\n            context.lineTo(\r\n                offset + radius,\r\n                h - offset\r\n            );\r\n            context.lineTo(\r\n                radius / 2 + inset,\r\n                h - inset\r\n            );\r\n        } else { // pointing left\r\n            context.lineTo(\r\n                w - (radius / 2 + inset),\r\n                h - inset\r\n            );\r\n            context.lineTo(\r\n                w - (offset + radius),\r\n                h - offset\r\n            );\r\n        }\r\n    }\r\n    // bottom left:\r\n    context.arc(\r\n        offset,\r\n        h - offset - radius,\r\n        radius,\r\n        radians(90),\r\n        radians(180),\r\n        false\r\n    );\r\n    if (this.isThought === true) { // use anything but \"true\" to draw nothing\r\n        // close large bubble:\r\n        context.lineTo(\r\n            inset,\r\n            offset\r\n        );\r\n        // draw thought bubbles:\r\n        if (this.isPointingRight) {\r\n            // tip bubble:\r\n            rad = radius / 4;\r\n            circle(rad + inset, h - rad - inset, rad);\r\n            // middle bubble:\r\n            rad = radius / 3.2;\r\n            circle(rad * 2 + inset, h - rad - inset * 2, rad);\r\n            // top bubble:\r\n            rad = radius / 2.8;\r\n            circle(rad * 3 + inset * 2, h - rad - inset * 4, rad);\r\n        } else { // pointing left\r\n            // tip bubble:\r\n            rad = radius / 4;\r\n            circle(w - (rad + inset), h - rad - inset, rad);\r\n            // middle bubble:\r\n            rad = radius / 3.2;\r\n            circle(w - (rad * 2 + inset), h - rad - inset * 2, rad);\r\n            // top bubble:\r\n            rad = radius / 2.8;\r\n            circle(w - (rad * 3 + inset * 2), h - rad - inset * 4, rad);\r\n        }\r\n    }\r\n};\r\n\r\n// SpeechBubbleMorph shadow\r\n\r\n/*\r\n    only take the 'plain' image, so the box rounding and the\r\n    shadow doesn't become conflicted by embedded scrolling panes\r\n*/\r\n\r\nSpeechBubbleMorph.prototype.shadowImage = function (off, color) {\r\n    // fallback for Windows Chrome-Shadow bug\r\n    var fb, img, outline, sha, ctx,\r\n        offset = off || new Point(7, 7),\r\n        clr = color || new Color(0, 0, 0);\r\n    fb = this.extent();\r\n    img = this.image;\r\n    outline = newCanvas(fb);\r\n    ctx = outline.getContext('2d');\r\n    ctx.drawImage(img, 0, 0);\r\n    ctx.globalCompositeOperation = 'destination-out';\r\n    ctx.drawImage(\r\n        img,\r\n        -offset.x,\r\n        -offset.y\r\n    );\r\n    sha = newCanvas(fb);\r\n    ctx = sha.getContext('2d');\r\n    ctx.drawImage(outline, 0, 0);\r\n    ctx.globalCompositeOperation = 'source-atop';\r\n    ctx.fillStyle = clr.toString();\r\n    ctx.fillRect(0, 0, fb.x, fb.y);\r\n    return sha;\r\n};\r\n\r\nSpeechBubbleMorph.prototype.shadowImageBlurred = function (off, color) {\r\n    var fb, img, sha, ctx,\r\n        offset = off || new Point(7, 7),\r\n        blur = this.shadowBlur,\r\n        clr = color || new Color(0, 0, 0);\r\n    fb = this.extent().add(blur * 2);\r\n    img = this.image;\r\n    sha = newCanvas(fb);\r\n    ctx = sha.getContext('2d');\r\n    ctx.shadowOffsetX = offset.x;\r\n    ctx.shadowOffsetY = offset.y;\r\n    ctx.shadowBlur = blur;\r\n    ctx.shadowColor = clr.toString();\r\n    ctx.drawImage(\r\n        img,\r\n        blur - offset.x,\r\n        blur - offset.y\r\n    );\r\n    ctx.shadowOffsetX = 0;\r\n    ctx.shadowOffsetY = 0;\r\n    ctx.shadowBlur = 0;\r\n    ctx.globalCompositeOperation = 'destination-out';\r\n    ctx.drawImage(\r\n        img,\r\n        blur - offset.x,\r\n        blur - offset.y\r\n    );\r\n    return sha;\r\n};\r\n\r\n// SpeechBubbleMorph resizing\r\n\r\nSpeechBubbleMorph.prototype.fixLayout = function () {\r\n    this.removeShadow();\r\n    this.drawNew();\r\n    this.addShadow(new Point(2, 2), 80);\r\n};\r\n\r\n// CircleBoxMorph //////////////////////////////////////////////////////\r\n\r\n// I can be used for sliders\r\n\r\nvar CircleBoxMorph;\r\n\r\n// CircleBoxMorph inherits from Morph:\r\n\r\nCircleBoxMorph.prototype = new Morph();\r\nCircleBoxMorph.prototype.constructor = CircleBoxMorph;\r\nCircleBoxMorph.uber = Morph.prototype;\r\n\r\nfunction CircleBoxMorph(orientation) {\r\n    this.init(orientation || 'vertical');\r\n}\r\n\r\nCircleBoxMorph.prototype.init = function (orientation) {\r\n    CircleBoxMorph.uber.init.call(this);\r\n    this.orientation = orientation;\r\n    this.autoOrient = true;\r\n    this.setExtent(new Point(20, 100));\r\n};\r\n\r\nCircleBoxMorph.prototype.autoOrientation = function () {\r\n    if (this.height() > this.width()) {\r\n        this.orientation = 'vertical';\r\n    } else {\r\n        this.orientation = 'horizontal';\r\n    }\r\n};\r\n\r\nCircleBoxMorph.prototype.drawNew = function () {\r\n    var radius, center1, center2, rect, points, x, y,\r\n        context, ext,\r\n        myself = this;\r\n\r\n    if (this.autoOrient) {\r\n        this.autoOrientation();\r\n    }\r\n    this.image = newCanvas(this.extent());\r\n    context = this.image.getContext('2d');\r\n\r\n    if (this.orientation === 'vertical') {\r\n        radius = this.width() / 2;\r\n        x = this.center().x;\r\n        center1 = new Point(x, this.top() + radius);\r\n        center2 = new Point(x, this.bottom() - radius);\r\n        rect = this.bounds.origin.add(new Point(0, radius)).corner(\r\n            this.bounds.corner.subtract(new Point(0, radius))\r\n        );\r\n    } else {\r\n        radius = this.height() / 2;\r\n        y = this.center().y;\r\n        center1 = new Point(this.left() + radius, y);\r\n        center2 = new Point(this.right() - radius, y);\r\n        rect = this.bounds.origin.add(new Point(radius, 0)).corner(\r\n            this.bounds.corner.subtract(new Point(radius, 0))\r\n        );\r\n    }\r\n    points = [ center1.subtract(this.bounds.origin),\r\n        center2.subtract(this.bounds.origin)];\r\n    points.forEach(function (center) {\r\n        context.fillStyle = myself.color.toString();\r\n        context.beginPath();\r\n        context.arc(\r\n            center.x,\r\n            center.y,\r\n            radius,\r\n            0,\r\n            2 * Math.PI,\r\n            false\r\n        );\r\n        context.closePath();\r\n        context.fill();\r\n    });\r\n    rect = rect.translateBy(this.bounds.origin.neg());\r\n    ext = rect.extent();\r\n    if (ext.x > 0 && ext.y > 0) {\r\n        context.fillRect(\r\n            rect.origin.x,\r\n            rect.origin.y,\r\n            rect.width(),\r\n            rect.height()\r\n        );\r\n    }\r\n};\r\n\r\n// CircleBoxMorph menu:\r\n\r\nCircleBoxMorph.prototype.developersMenu = function () {\r\n    var menu = CircleBoxMorph.uber.developersMenu.call(this);\r\n    menu.addLine();\r\n    if (this.orientation === 'vertical') {\r\n        menu.addItem(\r\n            \"horizontal...\",\r\n            'toggleOrientation',\r\n            'toggle the\\norientation'\r\n        );\r\n    } else {\r\n        menu.addItem(\r\n            \"vertical...\",\r\n            'toggleOrientation',\r\n            'toggle the\\norientation'\r\n        );\r\n    }\r\n    return menu;\r\n};\r\n\r\nCircleBoxMorph.prototype.toggleOrientation = function () {\r\n    var center = this.center();\r\n    this.changed();\r\n    if (this.orientation === 'vertical') {\r\n        this.orientation = 'horizontal';\r\n    } else {\r\n        this.orientation = 'vertical';\r\n    }\r\n    this.silentSetExtent(new Point(this.height(), this.width()));\r\n    this.setCenter(center);\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\n// SliderButtonMorph ///////////////////////////////////////////////////\r\n\r\nvar SliderButtonMorph;\r\n\r\n// SliderButtonMorph inherits from CircleBoxMorph:\r\n\r\nSliderButtonMorph.prototype = new CircleBoxMorph();\r\nSliderButtonMorph.prototype.constructor = SliderButtonMorph;\r\nSliderButtonMorph.uber = CircleBoxMorph.prototype;\r\n\r\nfunction SliderButtonMorph(orientation) {\r\n    this.init(orientation);\r\n}\r\n\r\nSliderButtonMorph.prototype.init = function (orientation) {\r\n    this.color = new Color(80, 80, 80);\r\n    this.highlightColor = new Color(90, 90, 140);\r\n    this.pressColor = new Color(80, 80, 160);\r\n    this.is3D = false;\r\n    this.hasMiddleDip = true;\r\n    SliderButtonMorph.uber.init.call(this, orientation);\r\n};\r\n\r\nSliderButtonMorph.prototype.autoOrientation = nop;\r\n\r\nSliderButtonMorph.prototype.drawNew = function () {\r\n    var colorBak = this.color.copy();\r\n\r\n    SliderButtonMorph.uber.drawNew.call(this);\r\n    if (this.is3D || !MorphicPreferences.isFlat) {\r\n        this.drawEdges();\r\n    }\r\n    this.normalImage = this.image;\r\n\r\n    this.color = this.highlightColor.copy();\r\n    SliderButtonMorph.uber.drawNew.call(this);\r\n    if (this.is3D || !MorphicPreferences.isFlat) {\r\n        this.drawEdges();\r\n    }\r\n    this.highlightImage = this.image;\r\n\r\n    this.color = this.pressColor.copy();\r\n    SliderButtonMorph.uber.drawNew.call(this);\r\n    if (this.is3D || !MorphicPreferences.isFlat) {\r\n        this.drawEdges();\r\n    }\r\n    this.pressImage = this.image;\r\n\r\n    this.color = colorBak;\r\n    this.image = this.normalImage;\r\n\r\n};\r\n\r\nSliderButtonMorph.prototype.drawEdges = function () {\r\n    var context = this.image.getContext('2d'),\r\n        gradient,\r\n        radius,\r\n        w = this.width(),\r\n        h = this.height();\r\n\r\n    context.lineJoin = 'round';\r\n    context.lineCap = 'round';\r\n\r\n    if (this.orientation === 'vertical') {\r\n        context.lineWidth = w / 3;\r\n        gradient = context.createLinearGradient(\r\n            0,\r\n            0,\r\n            context.lineWidth,\r\n            0\r\n        );\r\n        gradient.addColorStop(0, 'white');\r\n        gradient.addColorStop(1, this.color.toString());\r\n\r\n        context.strokeStyle = gradient;\r\n        context.beginPath();\r\n        context.moveTo(context.lineWidth * 0.5, w / 2);\r\n        context.lineTo(context.lineWidth * 0.5, h - w / 2);\r\n        context.stroke();\r\n\r\n        gradient = context.createLinearGradient(\r\n            w - context.lineWidth,\r\n            0,\r\n            w,\r\n            0\r\n        );\r\n        gradient.addColorStop(0, this.color.toString());\r\n        gradient.addColorStop(1, 'black');\r\n\r\n        context.strokeStyle = gradient;\r\n        context.beginPath();\r\n        context.moveTo(w - context.lineWidth * 0.5, w / 2);\r\n        context.lineTo(w - context.lineWidth * 0.5, h - w / 2);\r\n        context.stroke();\r\n\r\n        if (this.hasMiddleDip) {\r\n            gradient = context.createLinearGradient(\r\n                context.lineWidth,\r\n                0,\r\n                w - context.lineWidth,\r\n                0\r\n            );\r\n\r\n            radius = w / 4;\r\n            gradient.addColorStop(0, 'black');\r\n            gradient.addColorStop(0.35, this.color.toString());\r\n            gradient.addColorStop(0.65, this.color.toString());\r\n            gradient.addColorStop(1, 'white');\r\n\r\n            context.fillStyle = gradient;\r\n            context.beginPath();\r\n            context.arc(\r\n                w / 2,\r\n                h / 2,\r\n                radius,\r\n                radians(0),\r\n                radians(360),\r\n                false\r\n            );\r\n            context.closePath();\r\n            context.fill();\r\n        }\r\n    } else if (this.orientation === 'horizontal') {\r\n        context.lineWidth = h / 3;\r\n        gradient = context.createLinearGradient(\r\n            0,\r\n            0,\r\n            0,\r\n            context.lineWidth\r\n        );\r\n        gradient.addColorStop(0, 'white');\r\n        gradient.addColorStop(1, this.color.toString());\r\n\r\n        context.strokeStyle = gradient;\r\n        context.beginPath();\r\n        context.moveTo(h / 2, context.lineWidth * 0.5);\r\n        context.lineTo(w - h / 2, context.lineWidth * 0.5);\r\n        context.stroke();\r\n\r\n        gradient = context.createLinearGradient(\r\n            0,\r\n            h - context.lineWidth,\r\n            0,\r\n            h\r\n        );\r\n        gradient.addColorStop(0, this.color.toString());\r\n        gradient.addColorStop(1, 'black');\r\n\r\n        context.strokeStyle = gradient;\r\n        context.beginPath();\r\n        context.moveTo(h / 2, h - context.lineWidth * 0.5);\r\n        context.lineTo(w - h / 2, h - context.lineWidth * 0.5);\r\n        context.stroke();\r\n\r\n        if (this.hasMiddleDip) {\r\n            gradient = context.createLinearGradient(\r\n                0,\r\n                context.lineWidth,\r\n                0,\r\n                h - context.lineWidth\r\n            );\r\n\r\n            radius = h / 4;\r\n            gradient.addColorStop(0, 'black');\r\n            gradient.addColorStop(0.35, this.color.toString());\r\n            gradient.addColorStop(0.65, this.color.toString());\r\n            gradient.addColorStop(1, 'white');\r\n\r\n            context.fillStyle = gradient;\r\n            context.beginPath();\r\n            context.arc(\r\n                this.width() / 2,\r\n                this.height() / 2,\r\n                radius,\r\n                radians(0),\r\n                radians(360),\r\n                false\r\n            );\r\n            context.closePath();\r\n            context.fill();\r\n        }\r\n    }\r\n};\r\n\r\n//SliderButtonMorph events:\r\n\r\nSliderButtonMorph.prototype.mouseEnter = function () {\r\n    this.image = this.highlightImage;\r\n    this.changed();\r\n};\r\n\r\nSliderButtonMorph.prototype.mouseLeave = function () {\r\n    this.image = this.normalImage;\r\n    this.changed();\r\n};\r\n\r\nSliderButtonMorph.prototype.mouseDownLeft = function (pos) {\r\n    this.image = this.pressImage;\r\n    this.changed();\r\n    this.escalateEvent('mouseDownLeft', pos);\r\n};\r\n\r\nSliderButtonMorph.prototype.mouseClickLeft = function () {\r\n    this.image = this.highlightImage;\r\n    this.changed();\r\n};\r\n\r\nSliderButtonMorph.prototype.mouseMove = function () {\r\n    // prevent my parent from getting picked up\r\n    nop();\r\n};\r\n\r\n// SliderMorph ///////////////////////////////////////////////////\r\n\r\n// SliderMorph inherits from CircleBoxMorph:\r\n\r\nSliderMorph.prototype = new CircleBoxMorph();\r\nSliderMorph.prototype.constructor = SliderMorph;\r\nSliderMorph.uber = CircleBoxMorph.prototype;\r\n\r\nfunction SliderMorph(start, stop, value, size, orientation, color) {\r\n    this.init(\r\n        start || 1,\r\n        stop || 100,\r\n        value || 50,\r\n        size || 10,\r\n        orientation || 'vertical',\r\n        color\r\n    );\r\n}\r\n\r\nSliderMorph.prototype.init = function (\r\n    start,\r\n    stop,\r\n    value,\r\n    size,\r\n    orientation,\r\n    color\r\n) {\r\n    this.target = null;\r\n    this.action = null;\r\n    this.start = start;\r\n    this.stop = stop;\r\n    this.value = value;\r\n    this.size = size;\r\n    this.offset = null;\r\n    this.button = new SliderButtonMorph();\r\n    this.button.isDraggable = false;\r\n    this.button.color = new Color(200, 200, 200);\r\n    this.button.highlightColor = new Color(210, 210, 255);\r\n    this.button.pressColor = new Color(180, 180, 255);\r\n    SliderMorph.uber.init.call(this, orientation);\r\n    this.add(this.button);\r\n    this.alpha = 0.3;\r\n    this.color = color || new Color(0, 0, 0);\r\n    this.setExtent(new Point(20, 100));\r\n    // this.drawNew();\r\n};\r\n\r\nSliderMorph.prototype.autoOrientation = nop;\r\n\r\nSliderMorph.prototype.rangeSize = function () {\r\n    return this.stop - this.start;\r\n};\r\n\r\nSliderMorph.prototype.ratio = function () {\r\n    return this.size / (this.rangeSize() + 1);\r\n};\r\n\r\nSliderMorph.prototype.unitSize = function () {\r\n    if (this.orientation === 'vertical') {\r\n        return (this.height() - this.button.height()) /\r\n            this.rangeSize();\r\n    }\r\n    return (this.width() - this.button.width()) /\r\n        this.rangeSize();\r\n};\r\n\r\nSliderMorph.prototype.drawNew = function () {\r\n    var bw, bh, posX, posY;\r\n\r\n    SliderMorph.uber.drawNew.call(this);\r\n    this.button.orientation = this.orientation;\r\n    if (this.orientation === 'vertical') {\r\n        bw  = this.width() - 2;\r\n        bh = Math.max(bw, Math.round(this.height() * this.ratio()));\r\n        this.button.silentSetExtent(new Point(bw, bh));\r\n        posX = 1;\r\n        posY = Math.min(\r\n            Math.round((this.value - this.start) * this.unitSize()),\r\n            this.height() - this.button.height()\r\n        );\r\n    } else {\r\n        bh = this.height() - 2;\r\n        bw  = Math.max(bh, Math.round(this.width() * this.ratio()));\r\n        this.button.silentSetExtent(new Point(bw, bh));\r\n        posY = 1;\r\n        posX = Math.min(\r\n            Math.round((this.value - this.start) * this.unitSize()),\r\n            this.width() - this.button.width()\r\n        );\r\n    }\r\n    this.button.setPosition(\r\n        new Point(posX, posY).add(this.bounds.origin)\r\n    );\r\n    this.button.drawNew();\r\n    this.button.changed();\r\n};\r\n\r\nSliderMorph.prototype.updateValue = function () {\r\n    var relPos;\r\n    if (this.orientation === 'vertical') {\r\n        relPos = this.button.top() - this.top();\r\n    } else {\r\n        relPos = this.button.left() - this.left();\r\n    }\r\n    this.value = Math.round(relPos / this.unitSize() + this.start);\r\n    this.updateTarget();\r\n};\r\n\r\nSliderMorph.prototype.updateTarget = function () {\r\n    if (this.action) {\r\n        if (typeof this.action === 'function') {\r\n            this.action.call(this.target, this.value);\r\n        } else { // assume it's a String\r\n            this.target[this.action](this.value);\r\n        }\r\n    }\r\n};\r\n\r\n// SliderMorph menu:\r\n\r\nSliderMorph.prototype.developersMenu = function () {\r\n    var menu = SliderMorph.uber.developersMenu.call(this);\r\n    menu.addItem(\r\n        \"show value...\",\r\n        'showValue',\r\n        'display a dialog box\\nshowing the selected number'\r\n    );\r\n    menu.addItem(\r\n        \"floor...\",\r\n        function () {\r\n            this.prompt(\r\n                menu.title + '\\nfloor:',\r\n                this.setStart,\r\n                this,\r\n                this.start.toString(),\r\n                null,\r\n                0,\r\n                this.stop - this.size,\r\n                true\r\n            );\r\n        },\r\n        'set the minimum value\\nwhich can be selected'\r\n    );\r\n    menu.addItem(\r\n        \"ceiling...\",\r\n        function () {\r\n            this.prompt(\r\n                menu.title + '\\nceiling:',\r\n                this.setStop,\r\n                this,\r\n                this.stop.toString(),\r\n                null,\r\n                this.start + this.size,\r\n                this.size * 100,\r\n                true\r\n            );\r\n        },\r\n        'set the maximum value\\nwhich can be selected'\r\n    );\r\n    menu.addItem(\r\n        \"button size...\",\r\n        function () {\r\n            this.prompt(\r\n                menu.title + '\\nbutton size:',\r\n                this.setSize,\r\n                this,\r\n                this.size.toString(),\r\n                null,\r\n                1,\r\n                this.stop - this.start,\r\n                true\r\n            );\r\n        },\r\n        'set the range\\ncovered by\\nthe slider button'\r\n    );\r\n    menu.addLine();\r\n    menu.addItem(\r\n        'set target',\r\n        \"setTarget\",\r\n        'select another morph\\nwhose numerical property\\nwill be ' +\r\n            'controlled by this one'\r\n    );\r\n    return menu;\r\n};\r\n\r\nSliderMorph.prototype.showValue = function () {\r\n    this.inform(this.value);\r\n};\r\n\r\nSliderMorph.prototype.userSetStart = function (num) {\r\n    // for context menu demo purposes\r\n    this.start = Math.max(num, this.stop);\r\n};\r\n\r\nSliderMorph.prototype.setStart = function (num, noUpdate) {\r\n    // for context menu demo purposes\r\n    var newStart;\r\n    if (typeof num === 'number') {\r\n        this.start = Math.min(\r\n            num,\r\n            this.stop - this.size\r\n        );\r\n    } else {\r\n        newStart = parseFloat(num);\r\n        if (!isNaN(newStart)) {\r\n            this.start = Math.min(\r\n                newStart,\r\n                this.stop - this.size\r\n            );\r\n        }\r\n    }\r\n    this.value = Math.max(this.value, this.start);\r\n    if (!noUpdate) {this.updateTarget(); }\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nSliderMorph.prototype.setStop = function (num, noUpdate) {\r\n    // for context menu demo purposes\r\n    var newStop;\r\n    if (typeof num === 'number') {\r\n        this.stop = Math.max(num, this.start + this.size);\r\n    } else {\r\n        newStop = parseFloat(num);\r\n        if (!isNaN(newStop)) {\r\n            this.stop = Math.max(newStop, this.start + this.size);\r\n        }\r\n    }\r\n    this.value = Math.min(this.value, this.stop);\r\n    if (!noUpdate) {this.updateTarget(); }\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nSliderMorph.prototype.setSize = function (num, noUpdate) {\r\n    // for context menu demo purposes\r\n    var newSize;\r\n    if (typeof num === 'number') {\r\n        this.size = Math.min(\r\n            Math.max(num, 1),\r\n            this.stop - this.start\r\n        );\r\n    } else {\r\n        newSize = parseFloat(num);\r\n        if (!isNaN(newSize)) {\r\n            this.size = Math.min(\r\n                Math.max(newSize, 1),\r\n                this.stop - this.start\r\n            );\r\n        }\r\n    }\r\n    this.value = Math.min(this.value, this.stop - this.size);\r\n    if (!noUpdate) {this.updateTarget(); }\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nSliderMorph.prototype.setTarget = function () {\r\n    var choices = this.overlappedMorphs(),\r\n        menu = new MenuMorph(this, 'choose target:'),\r\n        myself = this;\r\n\r\n    choices.push(this.world());\r\n    choices.forEach(function (each) {\r\n        menu.addItem(each.toString().slice(0, 50), function () {\r\n            myself.target = each;\r\n            myself.setTargetSetter();\r\n        });\r\n    });\r\n    if (choices.length === 1) {\r\n        this.target = choices[0];\r\n        this.setTargetSetter();\r\n    } else if (choices.length > 0) {\r\n        menu.popUpAtHand(this.world());\r\n    }\r\n};\r\n\r\nSliderMorph.prototype.setTargetSetter = function () {\r\n    var choices = this.target.numericalSetters(),\r\n        menu = new MenuMorph(this, 'choose target property:'),\r\n        myself = this;\r\n\r\n    choices.forEach(function (each) {\r\n        menu.addItem(each, function () {\r\n            myself.action = each;\r\n        });\r\n    });\r\n    if (choices.length === 1) {\r\n        this.action = choices[0];\r\n    } else if (choices.length > 0) {\r\n        menu.popUpAtHand(this.world());\r\n    }\r\n};\r\n\r\nSliderMorph.prototype.numericalSetters = function () {\r\n    // for context menu demo purposes\r\n    var list = SliderMorph.uber.numericalSetters.call(this);\r\n    list.push('setStart', 'setStop', 'setSize');\r\n    return list;\r\n};\r\n\r\n// SliderMorph stepping:\r\n\r\nSliderMorph.prototype.step = null;\r\n\r\nSliderMorph.prototype.mouseDownLeft = function (pos) {\r\n    var world, myself = this;\r\n\r\n    if (!this.button.bounds.containsPoint(pos)) {\r\n        this.offset = new Point(); // return null;\r\n    } else {\r\n        this.offset = pos.subtract(this.button.bounds.origin);\r\n    }\r\n    world = this.root();\r\n    this.step = function () {\r\n        var mousePos, newX, newY;\r\n        if (world.hand.mouseButton) {\r\n            mousePos = world.hand.bounds.origin;\r\n            if (myself.orientation === 'vertical') {\r\n                newX = myself.button.bounds.origin.x;\r\n                newY = Math.max(\r\n                    Math.min(\r\n                        mousePos.y - myself.offset.y,\r\n                        myself.bottom() - myself.button.height()\r\n                    ),\r\n                    myself.top()\r\n                );\r\n            } else {\r\n                newY = myself.button.bounds.origin.y;\r\n                newX = Math.max(\r\n                    Math.min(\r\n                        mousePos.x - myself.offset.x,\r\n                        myself.right() - myself.button.width()\r\n                    ),\r\n                    myself.left()\r\n                );\r\n            }\r\n            myself.button.setPosition(new Point(newX, newY));\r\n            myself.updateValue();\r\n        } else {\r\n            this.step = null;\r\n        }\r\n    };\r\n};\r\n\r\n// MouseSensorMorph ////////////////////////////////////////////////////\r\n\r\n// for demo and debuggin purposes only, to be removed later\r\n\r\nvar MouseSensorMorph;\r\n\r\n// MouseSensorMorph inherits from BoxMorph:\r\n\r\nMouseSensorMorph.prototype = new BoxMorph();\r\nMouseSensorMorph.prototype.constructor = MouseSensorMorph;\r\nMouseSensorMorph.uber = BoxMorph.prototype;\r\n\r\n// MouseSensorMorph instance creation:\r\n\r\nfunction MouseSensorMorph(edge, border, borderColor) {\r\n    this.init(edge, border, borderColor);\r\n}\r\n\r\nMouseSensorMorph.prototype.init = function (edge, border, borderColor) {\r\n    MouseSensorMorph.uber.init.call(this);\r\n    this.edge = edge || 4;\r\n    this.border = border || 2;\r\n    this.color = new Color(255, 255, 255);\r\n    this.borderColor = borderColor || new Color();\r\n    this.isTouched = false;\r\n    this.upStep = 0.05;\r\n    this.downStep = 0.02;\r\n    this.noticesTransparentClick = false;\r\n    this.drawNew();\r\n};\r\n\r\nMouseSensorMorph.prototype.touch = function () {\r\n    var myself = this;\r\n    if (!this.isTouched) {\r\n        this.isTouched = true;\r\n        this.alpha = 0.6;\r\n\r\n        this.step = function () {\r\n            if (myself.isTouched) {\r\n                if (myself.alpha < 1) {\r\n                    myself.alpha = myself.alpha + myself.upStep;\r\n                }\r\n            } else if (myself.alpha > (myself.downStep)) {\r\n                myself.alpha = myself.alpha - myself.downStep;\r\n            } else {\r\n                myself.alpha = 0;\r\n                myself.step = null;\r\n            }\r\n            myself.changed();\r\n        };\r\n    }\r\n};\r\n\r\nMouseSensorMorph.prototype.unTouch = function () {\r\n    this.isTouched = false;\r\n};\r\n\r\nMouseSensorMorph.prototype.mouseEnter = function () {\r\n    this.touch();\r\n};\r\n\r\nMouseSensorMorph.prototype.mouseLeave = function () {\r\n    this.unTouch();\r\n};\r\n\r\nMouseSensorMorph.prototype.mouseDownLeft = function () {\r\n    this.touch();\r\n};\r\n\r\nMouseSensorMorph.prototype.mouseClickLeft = function () {\r\n    this.unTouch();\r\n};\r\n\r\n// InspectorMorph //////////////////////////////////////////////////////\r\n\r\n// InspectorMorph: referenced constructors\r\n\r\nvar ListMorph;\r\nvar TriggerMorph;\r\n\r\n// InspectorMorph inherits from BoxMorph:\r\n\r\nInspectorMorph.prototype = new BoxMorph();\r\nInspectorMorph.prototype.constructor = InspectorMorph;\r\nInspectorMorph.uber = BoxMorph.prototype;\r\n\r\n// InspectorMorph instance creation:\r\n\r\nfunction InspectorMorph(target) {\r\n    this.init(target);\r\n}\r\n\r\nInspectorMorph.prototype.init = function (target) {\r\n    // additional properties:\r\n    this.target = target;\r\n    this.currentProperty = null;\r\n    this.showing = 'attributes';\r\n    this.markOwnProperties = false;\r\n    this.hasUserEditedDetails = false;\r\n\r\n    // initialize inherited properties:\r\n    InspectorMorph.uber.init.call(this);\r\n\r\n    // override inherited properties:\r\n    this.silentSetExtent(\r\n        new Point(\r\n            MorphicPreferences.handleSize * 20,\r\n            MorphicPreferences.handleSize * 20 * 2 / 3\r\n        )\r\n    );\r\n    this.isDraggable = true;\r\n    this.border = 1;\r\n    this.edge = MorphicPreferences.isFlat ? 1 : 5;\r\n    this.color = new Color(60, 60, 60);\r\n    this.borderColor = new Color(95, 95, 95);\r\n    this.fps = 25;\r\n    this.drawNew();\r\n\r\n    // panes:\r\n    this.label = null;\r\n    this.list = null;\r\n    this.detail = null;\r\n    this.work = null;\r\n    this.buttonInspect = null;\r\n    this.buttonClose = null;\r\n    this.buttonSubset = null;\r\n    this.buttonEdit = null;\r\n    this.resizer = null;\r\n\r\n    if (this.target) {\r\n        this.buildPanes();\r\n    }\r\n};\r\n\r\nInspectorMorph.prototype.setTarget = function (target) {\r\n    this.target = target;\r\n    this.currentProperty = null;\r\n    this.buildPanes();\r\n};\r\n\r\nInspectorMorph.prototype.updateCurrentSelection = function () {\r\n    var val, txt, cnts,\r\n        sel = this.list.selected,\r\n        currentTxt = this.detail.contents.children[0],\r\n        root = this.root();\r\n\r\n    if (root &&\r\n            (root.keyboardReceiver instanceof CursorMorph) &&\r\n            (root.keyboardReceiver.target === currentTxt)) {\r\n        this.hasUserEditedDetails = true;\r\n        return;\r\n    }\r\n    if (isNil(sel) || this.hasUserEditedDetails) {return; }\r\n    val = this.target[sel];\r\n    this.currentProperty = val;\r\n    if (isNil(val)) {\r\n        txt = 'NULL';\r\n    } else if (isString(val)) {\r\n        txt = val;\r\n    } else {\r\n        txt = val.toString();\r\n    }\r\n    if (currentTxt.text === txt) {return; }\r\n    cnts = new TextMorph(txt);\r\n    cnts.isEditable = true;\r\n    cnts.enableSelecting();\r\n    cnts.setReceiver(this.target);\r\n    this.detail.setContents(cnts);\r\n};\r\n\r\nInspectorMorph.prototype.buildPanes = function () {\r\n    var attribs = [], property, myself = this, ctrl, ev, doubleClickAction;\r\n\r\n    // remove existing panes\r\n    this.children.forEach(function (m) {\r\n        if (m !== this.work) { // keep work pane around\r\n            m.destroy();\r\n        }\r\n    });\r\n    this.children = [];\r\n\r\n    // label\r\n    this.label = new TextMorph(this.target.toString());\r\n    this.label.fontSize = MorphicPreferences.menuFontSize;\r\n    this.label.isBold = true;\r\n    this.label.color = new Color(255, 255, 255);\r\n    this.label.drawNew();\r\n    this.add(this.label);\r\n\r\n    // properties list\r\n    for (property in this.target) {\r\n        if (property) { // dummy condition, to be refined\r\n            attribs.push(property);\r\n        }\r\n    }\r\n    if (this.showing === 'attributes') {\r\n        attribs = attribs.filter(function (prop) {\r\n            return typeof myself.target[prop] !== 'function';\r\n        });\r\n    } else if (this.showing === 'methods') {\r\n        attribs = attribs.filter(function (prop) {\r\n            return typeof myself.target[prop] === 'function';\r\n        });\r\n    } // otherwise show all properties\r\n\r\n    doubleClickAction = function () {\r\n        var world, inspector;\r\n        if (!isObject(myself.currentProperty)) {return; }\r\n        world = myself.world();\r\n        inspector = new InspectorMorph(\r\n            myself.currentProperty\r\n        );\r\n        inspector.setPosition(world.hand.position());\r\n        inspector.keepWithin(world);\r\n        world.add(inspector);\r\n        inspector.changed();\r\n    };\r\n\r\n    this.list = new ListMorph(\r\n        this.target instanceof Array ? attribs : attribs.sort(),\r\n        null, // label getter\r\n        this.markOwnProperties ?\r\n                [ // format list\r\n                    [ // format element: [color, predicate(element]\r\n                        new Color(0, 0, 180),\r\n                        function (element) {\r\n                            return Object.prototype.hasOwnProperty.call(\r\n                                myself.target,\r\n                                element\r\n                            );\r\n                        }\r\n                    ]\r\n                ]\r\n                : null,\r\n        doubleClickAction\r\n    );\r\n\r\n    this.list.action = function () {\r\n        myself.hasUserEditedDetails = false;\r\n        myself.updateCurrentSelection();\r\n    };\r\n\r\n    this.list.hBar.alpha = 0.6;\r\n    this.list.vBar.alpha = 0.6;\r\n    this.list.contents.step = null;\r\n    this.add(this.list);\r\n\r\n    // details pane\r\n    this.detail = new ScrollFrameMorph();\r\n    this.detail.acceptsDrops = false;\r\n    this.detail.contents.acceptsDrops = false;\r\n    this.detail.isTextLineWrapping = true;\r\n    this.detail.color = new Color(255, 255, 255);\r\n    this.detail.hBar.alpha = 0.6;\r\n    this.detail.vBar.alpha = 0.6;\r\n    ctrl = new TextMorph('');\r\n    ctrl.isEditable = true;\r\n    ctrl.enableSelecting();\r\n    ctrl.setReceiver(this.target);\r\n    this.detail.setContents(ctrl);\r\n    this.add(this.detail);\r\n\r\n    // work ('evaluation') pane\r\n    // don't refresh the work pane if it already exists\r\n    if (this.work === null) {\r\n        this.work = new ScrollFrameMorph();\r\n        this.work.acceptsDrops = false;\r\n        this.work.contents.acceptsDrops = false;\r\n        this.work.isTextLineWrapping = true;\r\n        this.work.color = new Color(255, 255, 255);\r\n        this.work.hBar.alpha = 0.6;\r\n        this.work.vBar.alpha = 0.6;\r\n        ev = new TextMorph('');\r\n        ev.isEditable = true;\r\n        ev.enableSelecting();\r\n        ev.setReceiver(this.target);\r\n        this.work.setContents(ev);\r\n    }\r\n    this.add(this.work);\r\n\r\n    // properties button\r\n    this.buttonSubset = new TriggerMorph();\r\n    this.buttonSubset.labelString = 'show...';\r\n    this.buttonSubset.action = function () {\r\n        var menu;\r\n        menu = new MenuMorph();\r\n        menu.addItem(\r\n            'attributes',\r\n            function () {\r\n                myself.showing = 'attributes';\r\n                myself.buildPanes();\r\n            }\r\n        );\r\n        menu.addItem(\r\n            'methods',\r\n            function () {\r\n                myself.showing = 'methods';\r\n                myself.buildPanes();\r\n            }\r\n        );\r\n        menu.addItem(\r\n            'all',\r\n            function () {\r\n                myself.showing = 'all';\r\n                myself.buildPanes();\r\n            }\r\n        );\r\n        menu.addLine();\r\n        menu.addItem(\r\n            (myself.markOwnProperties ?\r\n                    'un-mark own' : 'mark own'),\r\n            function () {\r\n                myself.markOwnProperties = !myself.markOwnProperties;\r\n                myself.buildPanes();\r\n            },\r\n            'highlight\\n\\'own\\' properties'\r\n        );\r\n        menu.popUpAtHand(myself.world());\r\n    };\r\n    this.add(this.buttonSubset);\r\n\r\n    // inspect button\r\n    this.buttonInspect = new TriggerMorph();\r\n    this.buttonInspect.labelString = 'inspect...';\r\n    this.buttonInspect.action = function () {\r\n        var menu, world, inspector;\r\n        if (isObject(myself.currentProperty)) {\r\n            menu = new MenuMorph();\r\n            menu.addItem(\r\n                'in new inspector...',\r\n                function () {\r\n                    world = myself.world();\r\n                    inspector = new InspectorMorph(\r\n                        myself.currentProperty\r\n                    );\r\n                    inspector.setPosition(world.hand.position());\r\n                    inspector.keepWithin(world);\r\n                    world.add(inspector);\r\n                    inspector.changed();\r\n                }\r\n            );\r\n            menu.addItem(\r\n                'here...',\r\n                function () {\r\n                    myself.setTarget(myself.currentProperty);\r\n                }\r\n            );\r\n            menu.popUpAtHand(myself.world());\r\n        } else {\r\n            myself.inform(\r\n                (myself.currentProperty === null ?\r\n                        'null' : typeof myself.currentProperty) +\r\n                            '\\nis not inspectable'\r\n            );\r\n        }\r\n    };\r\n    this.add(this.buttonInspect);\r\n\r\n    // edit button\r\n\r\n    this.buttonEdit = new TriggerMorph();\r\n    this.buttonEdit.labelString = 'edit...';\r\n    this.buttonEdit.action = function () {\r\n        var menu;\r\n        menu = new MenuMorph(myself);\r\n        menu.addItem(\"save\", 'save', 'accept changes');\r\n        menu.addLine();\r\n        menu.addItem(\"add property...\", 'addProperty');\r\n        menu.addItem(\"rename...\", 'renameProperty');\r\n        menu.addItem(\"remove...\", 'removeProperty');\r\n        menu.popUpAtHand(myself.world());\r\n    };\r\n    this.add(this.buttonEdit);\r\n\r\n    // close button\r\n    this.buttonClose = new TriggerMorph();\r\n    this.buttonClose.labelString = 'close';\r\n    this.buttonClose.action = function () {\r\n        myself.destroy();\r\n    };\r\n    this.add(this.buttonClose);\r\n\r\n    // resizer\r\n    this.resizer = new HandleMorph(\r\n        this,\r\n        150,\r\n        100,\r\n        this.edge,\r\n        this.edge\r\n    );\r\n\r\n    // update layout\r\n    this.fixLayout();\r\n};\r\n\r\nInspectorMorph.prototype.fixLayout = function () {\r\n    var x, y, r, b, w, h;\r\n\r\n    Morph.prototype.trackChanges = false;\r\n\r\n    // label\r\n    x = this.left() + this.edge;\r\n    y = this.top() + this.edge;\r\n    r = this.right() - this.edge;\r\n    w = r - x;\r\n    this.label.setPosition(new Point(x, y));\r\n    this.label.setWidth(w);\r\n    if (this.label.height() > (this.height() - 50)) {\r\n        this.silentSetHeight(this.label.height() + 50);\r\n        this.drawNew();\r\n        this.changed();\r\n        this.resizer.drawNew();\r\n    }\r\n\r\n    // list\r\n    y = this.label.bottom() + 2;\r\n    w = Math.min(\r\n        Math.floor(this.width() / 3),\r\n        this.list.listContents.width()\r\n    );\r\n\r\n    w -= this.edge;\r\n    b = this.bottom() - (2 * this.edge) -\r\n        MorphicPreferences.handleSize;\r\n    h = b - y;\r\n    this.list.setPosition(new Point(x, y));\r\n    this.list.setExtent(new Point(w, h));\r\n\r\n    // detail\r\n    x = this.list.right() + this.edge;\r\n    r = this.right() - this.edge;\r\n    w = r - x;\r\n    this.detail.setPosition(new Point(x, y));\r\n    this.detail.setExtent(new Point(w, (h * 2 / 3) - this.edge));\r\n\r\n    // work\r\n    y = this.detail.bottom() + this.edge;\r\n    this.work.setPosition(new Point(x, y));\r\n    this.work.setExtent(new Point(w, h / 3));\r\n\r\n    // properties button\r\n    x = this.list.left();\r\n    y = this.list.bottom() + this.edge;\r\n    w = this.list.width();\r\n    h = MorphicPreferences.handleSize;\r\n    this.buttonSubset.setPosition(new Point(x, y));\r\n    this.buttonSubset.setExtent(new Point(w, h));\r\n\r\n    // inspect button\r\n    x = this.detail.left();\r\n    w = this.detail.width() - this.edge -\r\n        MorphicPreferences.handleSize;\r\n    w = w / 3 - this.edge / 3;\r\n    this.buttonInspect.setPosition(new Point(x, y));\r\n    this.buttonInspect.setExtent(new Point(w, h));\r\n\r\n    // edit button\r\n    x = this.buttonInspect.right() + this.edge;\r\n    this.buttonEdit.setPosition(new Point(x, y));\r\n    this.buttonEdit.setExtent(new Point(w, h));\r\n\r\n    // close button\r\n    x = this.buttonEdit.right() + this.edge;\r\n    r = this.detail.right() - this.edge -\r\n        MorphicPreferences.handleSize;\r\n    w = r - x;\r\n    this.buttonClose.setPosition(new Point(x, y));\r\n    this.buttonClose.setExtent(new Point(w, h));\r\n\r\n    Morph.prototype.trackChanges = true;\r\n    this.changed();\r\n\r\n};\r\n\r\nInspectorMorph.prototype.setExtent = function (aPoint) {\r\n    InspectorMorph.uber.setExtent.call(this, aPoint);\r\n    this.fixLayout();\r\n};\r\n\r\n// InspectorMorph editing ops:\r\n\r\nInspectorMorph.prototype.save = function () {\r\n    var txt = this.detail.contents.children[0].text.toString(),\r\n        prop = this.list.selected;\r\n    try {\r\n        // this.target[prop] = evaluate(txt);\r\n        this.target.evaluateString('this.' + prop + ' = ' + txt);\r\n        this.hasUserEditedDetails = false;\r\n        if (this.target.drawNew) {\r\n            this.target.changed();\r\n            this.target.drawNew();\r\n            this.target.changed();\r\n        }\r\n    } catch (err) {\r\n        this.inform(err);\r\n    }\r\n};\r\n\r\nInspectorMorph.prototype.addProperty = function () {\r\n    var myself = this;\r\n    this.prompt(\r\n        'new property name:',\r\n        function (prop) {\r\n            if (prop) {\r\n                myself.target[prop] = null;\r\n                myself.buildPanes();\r\n                if (myself.target.drawNew) {\r\n                    myself.target.changed();\r\n                    myself.target.drawNew();\r\n                    myself.target.changed();\r\n                }\r\n            }\r\n        },\r\n        this,\r\n        'property' // Chrome cannot handle empty strings (others do)\r\n    );\r\n};\r\n\r\nInspectorMorph.prototype.renameProperty = function () {\r\n    var myself = this,\r\n        propertyName = this.list.selected;\r\n    this.prompt(\r\n        'property name:',\r\n        function (prop) {\r\n            try {\r\n                delete (myself.target[propertyName]);\r\n                myself.target[prop] = myself.currentProperty;\r\n            } catch (err) {\r\n                myself.inform(err);\r\n            }\r\n            myself.buildPanes();\r\n            if (myself.target.drawNew) {\r\n                myself.target.changed();\r\n                myself.target.drawNew();\r\n                myself.target.changed();\r\n            }\r\n        },\r\n        this,\r\n        propertyName\r\n    );\r\n};\r\n\r\nInspectorMorph.prototype.removeProperty = function () {\r\n    var prop = this.list.selected;\r\n    try {\r\n        delete (this.target[prop]);\r\n        this.currentProperty = null;\r\n        this.buildPanes();\r\n        if (this.target.drawNew) {\r\n            this.target.changed();\r\n            this.target.drawNew();\r\n            this.target.changed();\r\n        }\r\n    } catch (err) {\r\n        this.inform(err);\r\n    }\r\n};\r\n\r\n// InspectorMorph stepping\r\n\r\nInspectorMorph.prototype.step = function () {\r\n    this.updateCurrentSelection();\r\n    var lbl = this.target.toString();\r\n    if (this.label.text === lbl) {return; }\r\n    this.label.text = lbl;\r\n    this.label.drawNew();\r\n    this.fixLayout();\r\n};\r\n\r\n// InspectorMorph duplicating:\r\n\r\nInspectorMorph.prototype.updateReferences = function (map) {\r\n    var active = this.list.activeIndex();\r\n    InspectorMorph.uber.updateReferences.call(this, map);\r\n    this.buildPanes();\r\n    this.list.activateIndex(active);\r\n};\r\n\r\n// MenuMorph ///////////////////////////////////////////////////////////\r\n\r\n// MenuMorph: referenced constructors\r\n\r\nvar MenuItemMorph;\r\n\r\n// MenuMorph inherits from BoxMorph:\r\n\r\nMenuMorph.prototype = new BoxMorph();\r\nMenuMorph.prototype.constructor = MenuMorph;\r\nMenuMorph.uber = BoxMorph.prototype;\r\n\r\n// MenuMorph instance creation:\r\n\r\nfunction MenuMorph(target, title, environment, fontSize) {\r\n    this.init(target, title, environment, fontSize);\r\n\r\n    /*\r\n    if target is a function, use it as callback:\r\n    execute target as callback function with the action property\r\n    of the triggered MenuItem as argument.\r\n    Use the environment, if it is specified.\r\n    Note: if action is also a function, instead of becoming\r\n    the argument itself it will be called to answer the argument.\r\n    For selections, Yes/No Choices etc.\r\n\r\n    else (if target is not a function):\r\n\r\n        if action is a function:\r\n        execute the action with target as environment (can be null)\r\n        for lambdafied (inline) actions\r\n\r\n        else if action is a String:\r\n        treat it as function property of target and execute it\r\n        for selector-like actions\r\n    */\r\n}\r\n\r\nMenuMorph.prototype.init = function (target, title, environment, fontSize) {\r\n    // additional properties:\r\n    this.target = target;\r\n    this.title = title || null;\r\n    this.environment = environment || null;\r\n    this.fontSize = fontSize || null;\r\n    this.items = [];\r\n    this.label = null;\r\n    this.world = null;\r\n    this.isListContents = false;\r\n    this.hasFocus = false;\r\n    this.selection = null;\r\n    this.submenu = null;\r\n\r\n    // initialize inherited properties:\r\n    MenuMorph.uber.init.call(this);\r\n\r\n    // override inherited properties:\r\n    this.isDraggable = false;\r\n\r\n    // immutable properties:\r\n    this.border = null;\r\n    this.edge = null;\r\n};\r\n\r\nMenuMorph.prototype.addItem = function (\r\n    labelString,\r\n    action,\r\n    hint,\r\n    color,\r\n    bold, // bool\r\n    italic, // bool\r\n    doubleClickAction, // optional, when used as list contents\r\n    shortcut // optional string, icon (Morph or Canvas) or tuple [icon, string]\r\n) {\r\n    /*\r\n    labelString is normally a single-line string. But it can also be one\r\n    of the following:\r\n\r\n        * a multi-line string (containing line breaks)\r\n        * an icon (either a Morph or a Canvas)\r\n        * a tuple of format: [icon, string]\r\n    */\r\n    this.items.push([\r\n        localize(labelString || 'close'),\r\n        action || nop,\r\n        hint,\r\n        color,\r\n        bold || false,\r\n        italic || false,\r\n        doubleClickAction,\r\n        shortcut]);\r\n};\r\n\r\nMenuMorph.prototype.addMenu = function (label, aMenu, indicator) {\r\n    this.addPair(label, aMenu, isNil(indicator) ? '\\u25ba' : indicator);\r\n};\r\n\r\nMenuMorph.prototype.addPair = function (label, action, shortcut, hint) {\r\n    this.addItem(label, action, hint, null, null, null, null, shortcut);\r\n};\r\n\r\nMenuMorph.prototype.addLine = function (width) {\r\n    this.items.push([0, width || 1]);\r\n};\r\n\r\nMenuMorph.prototype.createLabel = function () {\r\n    var text;\r\n    if (this.label !== null) {\r\n        this.label.destroy();\r\n    }\r\n    text = new TextMorph(\r\n        localize(this.title),\r\n        this.fontSize || MorphicPreferences.menuFontSize,\r\n        MorphicPreferences.menuFontName,\r\n        true,\r\n        false,\r\n        'center'\r\n    );\r\n    text.alignment = 'center';\r\n    text.color = new Color(255, 255, 255);\r\n    text.backgroundColor = this.borderColor;\r\n    text.drawNew();\r\n    this.label = new BoxMorph(3, 0);\r\n    if (MorphicPreferences.isFlat) {\r\n        this.label.edge = 0;\r\n    }\r\n    this.label.color = this.borderColor;\r\n    this.label.borderColor = this.borderColor;\r\n    this.label.setExtent(text.extent().add(4));\r\n    this.label.drawNew();\r\n    this.label.add(text);\r\n    this.label.text = text;\r\n};\r\n\r\nMenuMorph.prototype.drawNew = function () {\r\n    var myself = this,\r\n        item,\r\n        fb,\r\n        x,\r\n        y,\r\n        isLine = false;\r\n\r\n    this.children.forEach(function (m) {\r\n        m.destroy();\r\n    });\r\n    this.children = [];\r\n    if (!this.isListContents) {\r\n        this.edge = MorphicPreferences.isFlat ? 0 : 5;\r\n        this.border = MorphicPreferences.isFlat ? 1 : 2;\r\n    }\r\n    this.color = new Color(255, 255, 255);\r\n    this.borderColor = new Color(60, 60, 60);\r\n    this.silentSetExtent(new Point(0, 0));\r\n\r\n    y = 2;\r\n    x = this.left() + 4;\r\n    if (!this.isListContents) {\r\n        if (this.title) {\r\n            this.createLabel();\r\n            this.label.setPosition(this.bounds.origin.add(4));\r\n            this.add(this.label);\r\n            y = this.label.bottom();\r\n        } else {\r\n            y = this.top() + 4;\r\n        }\r\n    }\r\n    y += 1;\r\n    this.items.forEach(function (tuple) {\r\n        isLine = false;\r\n        if (tuple instanceof StringFieldMorph ||\r\n                tuple instanceof ColorPickerMorph ||\r\n                tuple instanceof SliderMorph) {\r\n            item = tuple;\r\n        } else if (tuple[0] === 0) {\r\n            isLine = true;\r\n            item = new Morph();\r\n            item.color = myself.borderColor;\r\n            item.setHeight(tuple[1]);\r\n        } else {\r\n            item = new MenuItemMorph(\r\n                myself.target,\r\n                tuple[1],\r\n                tuple[0],\r\n                myself.fontSize || MorphicPreferences.menuFontSize,\r\n                MorphicPreferences.menuFontName,\r\n                myself.environment,\r\n                tuple[2], // bubble help hint\r\n                tuple[3], // color\r\n                tuple[4], // bold\r\n                tuple[5], // italic\r\n                tuple[6], // doubleclick action\r\n                tuple[7] // shortcut\r\n            );\r\n        }\r\n        if (isLine) {\r\n            y += 1;\r\n        }\r\n        item.setPosition(new Point(x, y));\r\n        myself.add(item);\r\n        y = y + item.height();\r\n        if (isLine) {\r\n            y += 1;\r\n        }\r\n    });\r\n\r\n    fb = this.fullBounds();\r\n    this.silentSetExtent(fb.extent().add(4));\r\n    this.adjustWidths();\r\n    MenuMorph.uber.drawNew.call(this);\r\n};\r\n\r\nMenuMorph.prototype.maxWidth = function () {\r\n    var w = 0;\r\n\r\n    if (this.parent instanceof FrameMorph) {\r\n        if (this.parent.scrollFrame instanceof ScrollFrameMorph) {\r\n            w = this.parent.scrollFrame.width();\r\n        }\r\n    }\r\n    this.children.forEach(function (item) {\r\n        if (item instanceof MenuItemMorph) {\r\n            w = Math.max(\r\n                w,\r\n                item.label.width() + 8 +\r\n                    (item.shortcut ? item.shortcut.width() + 4 : 0)\r\n            );\r\n        } else if ((item instanceof StringFieldMorph) ||\r\n                (item instanceof ColorPickerMorph) ||\r\n                (item instanceof SliderMorph)) {\r\n            w = Math.max(w, item.width());\r\n        }\r\n    });\r\n    if (this.label) {\r\n        w = Math.max(w, this.label.width());\r\n    }\r\n    return w;\r\n};\r\n\r\nMenuMorph.prototype.adjustWidths = function () {\r\n    var w = this.maxWidth(),\r\n        isSelected,\r\n        myself = this;\r\n    this.children.forEach(function (item) {\r\n        item.silentSetWidth(w);\r\n        if (item instanceof MenuItemMorph) {\r\n            item.fixLayout();\r\n            isSelected = (item.image === item.pressImage);\r\n            item.createBackgrounds();\r\n            if (isSelected) {\r\n                item.image = item.pressImage;\r\n            }\r\n        } else {\r\n            item.drawNew();\r\n            if (item === myself.label) {\r\n                item.text.setPosition(\r\n                    item.center().subtract(\r\n                        item.text.extent().floorDivideBy(2)\r\n                    )\r\n                );\r\n            }\r\n        }\r\n    });\r\n};\r\n\r\nMenuMorph.prototype.unselectAllItems = function () {\r\n    this.children.forEach(function (item) {\r\n        if (item instanceof MenuItemMorph) {\r\n            item.image = item.normalImage;\r\n        }\r\n    });\r\n    this.changed();\r\n};\r\n\r\nMenuMorph.prototype.popup = function (world, pos) {\r\n    this.drawNew();\r\n    this.setPosition(pos);\r\n    this.addShadow(new Point(2, 2), 80);\r\n    this.keepWithin(world);\r\n    if (world.activeMenu) {\r\n        world.activeMenu.destroy();\r\n    }\r\n    if (this.items.length < 1 && !this.title) { // don't show empty menus\r\n        return;\r\n    }\r\n    world.add(this);\r\n    world.activeMenu = this;\r\n    this.world = world; // optionally enable keyboard support\r\n    this.fullChanged();\r\n};\r\n\r\nMenuMorph.prototype.popUpAtHand = function (world) {\r\n    var wrrld = world || this.world;\r\n    this.popup(wrrld, wrrld.hand.position());\r\n};\r\n\r\nMenuMorph.prototype.popUpCenteredAtHand = function (world) {\r\n    var wrrld = world || this.world;\r\n    this.drawNew();\r\n    this.popup(\r\n        wrrld,\r\n        wrrld.hand.position().subtract(\r\n            this.extent().floorDivideBy(2)\r\n        )\r\n    );\r\n};\r\n\r\nMenuMorph.prototype.popUpCenteredInWorld = function (world) {\r\n    var wrrld = world || this.world;\r\n    this.drawNew();\r\n    this.popup(\r\n        wrrld,\r\n        wrrld.center().subtract(\r\n            this.extent().floorDivideBy(2)\r\n        )\r\n    );\r\n};\r\n\r\n// MenuMorph submenus\r\n\r\nMenuMorph.prototype.closeRootMenu = function () {\r\n    if (this.parent instanceof MenuMorph) {\r\n        this.parent.closeRootMenu();\r\n    } else {\r\n        this.destroy();\r\n    }\r\n};\r\n\r\nMenuMorph.prototype.closeSubmenu = function () {\r\n    if (this.submenu) {\r\n        this.submenu.destroy();\r\n        this.submenu = null;\r\n        this.unselectAllItems();\r\n    }\r\n};\r\n\r\n// MenuMorph keyboard accessibility\r\n\r\nMenuMorph.prototype.getFocus = function () {\r\n    this.world.keyboardReceiver = this;\r\n    this.selection = null;\r\n    this.selectFirst();\r\n    this.hasFocus = true;\r\n};\r\n\r\nMenuMorph.prototype.processKeyDown = function (event) {\r\n    switch (event.keyCode) {\r\n    case 13: // 'enter'\r\n    case 32: // 'space'\r\n        if (this.selection) {\r\n            this.selection.mouseClickLeft();\r\n            if (this.submenu) {\r\n                this.submenu.getFocus();\r\n            }\r\n        }\r\n        return;\r\n    case 27: // 'esc'\r\n        return this.destroy();\r\n    case 37: // 'left arrow'\r\n        return this.leaveSubmenu();\r\n    case 38: // 'up arrow'\r\n        return this.selectUp();\r\n    case 39: // 'right arrow'\r\n        return this.enterSubmenu();\r\n    case 40: // 'down arrow'\r\n        return this.selectDown();\r\n    default:\r\n        nop();\r\n    }\r\n};\r\n\r\nMenuMorph.prototype.processKeyUp = function (event) {\r\n    nop(event);\r\n};\r\n\r\nMenuMorph.prototype.processKeyPress = function (event) {\r\n    nop(event);\r\n};\r\n\r\nMenuMorph.prototype.selectFirst = function () {\r\n    var i;\r\n    for (i = 0; i < this.children.length; i += 1) {\r\n        if (this.children[i] instanceof MenuItemMorph) {\r\n            this.select(this.children[i]);\r\n            return;\r\n        }\r\n    }\r\n};\r\n\r\nMenuMorph.prototype.selectUp = function () {\r\n    var triggers, idx;\r\n\r\n    triggers = this.children.filter(function (each) {\r\n        return each instanceof MenuItemMorph;\r\n    });\r\n    if (!this.selection) {\r\n        if (triggers.length) {\r\n            this.select(triggers[0]);\r\n        }\r\n        return;\r\n    }\r\n    idx = triggers.indexOf(this.selection) - 1;\r\n    if (idx < 0) {\r\n        idx = triggers.length - 1;\r\n    }\r\n    this.select(triggers[idx]);\r\n};\r\n\r\nMenuMorph.prototype.selectDown = function () {\r\n    var triggers, idx;\r\n\r\n    triggers = this.children.filter(function (each) {\r\n        return each instanceof MenuItemMorph;\r\n    });\r\n    if (!this.selection) {\r\n        if (triggers.length) {\r\n            this.select(triggers[0]);\r\n        }\r\n        return;\r\n    }\r\n    idx = triggers.indexOf(this.selection) + 1;\r\n    if (idx >= triggers.length) {\r\n        idx = 0;\r\n    }\r\n    this.select(triggers[idx]);\r\n};\r\n\r\nMenuMorph.prototype.enterSubmenu = function () {\r\n    if (this.selection && this.selection.action instanceof MenuMorph) {\r\n        this.selection.popUpSubmenu();\r\n        if (this.submenu) {\r\n            this.submenu.getFocus();\r\n        }\r\n    }\r\n};\r\n\r\nMenuMorph.prototype.leaveSubmenu = function () {\r\n    var menu = this.parent;\r\n    if (this.parent instanceof MenuMorph) {\r\n        menu.submenu = null;\r\n        menu.hasFocus = true;\r\n        this.destroy();\r\n        menu.world.keyboardReceiver = menu;\r\n    }\r\n};\r\n\r\nMenuMorph.prototype.select = function (aMenuItem) {\r\n    this.unselectAllItems();\r\n    aMenuItem.image = aMenuItem.highlightImage;\r\n    aMenuItem.changed();\r\n    this.selection = aMenuItem;\r\n};\r\n\r\nMenuMorph.prototype.destroy = function () {\r\n    if (this.hasFocus) {\r\n        this.world.keyboardReceiver = null;\r\n    }\r\n    MenuMorph.uber.destroy.call(this);\r\n};\r\n\r\n// StringMorph /////////////////////////////////////////////////////////\r\n\r\n// I am a single line of text\r\n\r\n// StringMorph inherits from Morph:\r\n\r\nStringMorph.prototype = new Morph();\r\nStringMorph.prototype.constructor = StringMorph;\r\nStringMorph.uber = Morph.prototype;\r\n\r\n// StringMorph instance creation:\r\n\r\nfunction StringMorph(\r\n    text,\r\n    fontSize,\r\n    fontStyle,\r\n    bold,\r\n    italic,\r\n    isNumeric,\r\n    shadowOffset,\r\n    shadowColor,\r\n    color,\r\n    fontName\r\n) {\r\n    this.init(\r\n        text,\r\n        fontSize,\r\n        fontStyle,\r\n        bold,\r\n        italic,\r\n        isNumeric,\r\n        shadowOffset,\r\n        shadowColor,\r\n        color,\r\n        fontName\r\n    );\r\n}\r\n\r\nStringMorph.prototype.init = function (\r\n    text,\r\n    fontSize,\r\n    fontStyle,\r\n    bold,\r\n    italic,\r\n    isNumeric,\r\n    shadowOffset,\r\n    shadowColor,\r\n    color,\r\n    fontName\r\n) {\r\n    // additional properties:\r\n    this.text = text || ((text === '') ? '' : 'StringMorph');\r\n    this.fontSize = fontSize || 12;\r\n    this.fontName = fontName || MorphicPreferences.globalFontFamily;\r\n    this.fontStyle = fontStyle || 'sans-serif';\r\n    this.isBold = bold || false;\r\n    this.isItalic = italic || false;\r\n    this.isEditable = false;\r\n    this.isNumeric = isNumeric || false;\r\n    this.isPassword = false;\r\n    this.shadowOffset = shadowOffset || new Point(0, 0);\r\n    this.shadowColor = shadowColor || null;\r\n    this.isShowingBlanks = false;\r\n    this.blanksColor = new Color(180, 140, 140);\r\n\r\n    // additional properties for text-editing:\r\n    this.isScrollable = true; // scrolls into view when edited\r\n    this.currentlySelecting = false;\r\n    this.startMark = 0;\r\n    this.endMark = 0;\r\n    this.markedTextColor = new Color(255, 255, 255);\r\n    this.markedBackgoundColor = new Color(60, 60, 120);\r\n\r\n    // initialize inherited properties:\r\n    StringMorph.uber.init.call(this, true);\r\n\r\n    // override inherited properites:\r\n    this.color = color || new Color(0, 0, 0);\r\n    this.noticesTransparentClick = true;\r\n    this.drawNew();\r\n};\r\n\r\nStringMorph.prototype.toString = function () {\r\n    // e.g. 'a StringMorph(\"Hello World\")'\r\n    return 'a ' +\r\n        (this.constructor.name ||\r\n            this.constructor.toString().split(' ')[1].split('(')[0]) +\r\n        '(\"' + this.text.slice(0, 30) + '...\")';\r\n};\r\n\r\nStringMorph.prototype.password = function (letter, length) {\r\n    var ans = '',\r\n        i;\r\n    for (i = 0; i < length; i += 1) {\r\n        ans += letter;\r\n    }\r\n    return ans;\r\n};\r\n\r\nStringMorph.prototype.font = function () {\r\n    // answer a font string, e.g. 'bold italic 12px sans-serif'\r\n    var font = '';\r\n    if (this.isBold) {\r\n        font = font + 'bold ';\r\n    }\r\n    if (this.isItalic) {\r\n        font = font + 'italic ';\r\n    }\r\n    return font +\r\n        this.fontSize + 'px ' +\r\n        (this.fontName ? this.fontName + ', ' : '') +\r\n        this.fontStyle;\r\n};\r\n\r\nStringMorph.prototype.drawNew = function () {\r\n    var context, width, start, stop, i, p, c, x, y,\r\n        shadowOffset = this.shadowOffset || new Point(),\r\n        txt = this.isPassword ?\r\n                this.password('*', this.text.length) : this.text;\r\n\r\n    // initialize my surface property\r\n    this.image = newCanvas();\r\n    context = this.image.getContext('2d');\r\n    context.font = this.font();\r\n\r\n    // set my extent\r\n    width = Math.max(\r\n        context.measureText(txt).width + Math.abs(shadowOffset.x),\r\n        1\r\n    );\r\n    this.bounds.corner = this.bounds.origin.add(\r\n        new Point(\r\n            width,\r\n            fontHeight(this.fontSize) + Math.abs(shadowOffset.y)\r\n        )\r\n    );\r\n    this.image.width = width;\r\n    this.image.height = this.height();\r\n\r\n    // prepare context for drawing text\r\n    context.font = this.font();\r\n    context.textAlign = 'left';\r\n    context.textBaseline = 'bottom';\r\n\r\n    // first draw the shadow, if any\r\n    if (this.shadowColor) {\r\n        x = Math.max(shadowOffset.x, 0);\r\n        y = Math.max(shadowOffset.y, 0);\r\n        context.fillStyle = this.shadowColor.toString();\r\n        context.fillText(txt, x, fontHeight(this.fontSize) + y);\r\n    }\r\n\r\n    // now draw the actual text\r\n    x = Math.abs(Math.min(shadowOffset.x, 0));\r\n    y = Math.abs(Math.min(shadowOffset.y, 0));\r\n    context.fillStyle = this.color.toString();\r\n\r\n    if (this.isShowingBlanks) {\r\n        this.renderWithBlanks(context, x, fontHeight(this.fontSize) + y);\r\n    } else {\r\n        context.fillText(txt, x, fontHeight(this.fontSize) + y);\r\n    }\r\n\r\n    // draw the selection\r\n    start = Math.min(this.startMark, this.endMark);\r\n    stop = Math.max(this.startMark, this.endMark);\r\n    for (i = start; i < stop; i += 1) {\r\n        p = this.slotPosition(i).subtract(this.position());\r\n        c = txt.charAt(i);\r\n        context.fillStyle = this.markedBackgoundColor.toString();\r\n        context.fillRect(p.x, p.y, context.measureText(c).width + 1 + x,\r\n            fontHeight(this.fontSize) + y);\r\n        context.fillStyle = this.markedTextColor.toString();\r\n        context.fillText(c, p.x + x, fontHeight(this.fontSize) + y);\r\n    }\r\n\r\n    // notify my parent of layout change\r\n    if (this.parent) {\r\n        if (this.parent.fixLayout) {\r\n            this.parent.fixLayout();\r\n        }\r\n    }\r\n};\r\n\r\nStringMorph.prototype.renderWithBlanks = function (context, startX, y) {\r\n    var space = context.measureText(' ').width,\r\n        blank = newCanvas(new Point(space, this.height())),\r\n        ctx = blank.getContext('2d'),\r\n        words = this.text.split(' '),\r\n        x = startX || 0,\r\n        isFirst = true;\r\n\r\n    // create the blank form\r\n    ctx.fillStyle = this.blanksColor.toString();\r\n    ctx.arc(\r\n        space / 2,\r\n        blank.height / 2,\r\n        space / 2,\r\n        radians(0),\r\n        radians(360)\r\n    );\r\n    ctx.fill();\r\n\r\n    function drawBlank() {\r\n        context.drawImage(blank, x, 0);\r\n        x += space;\r\n    }\r\n\r\n    // render my text inserting blanks\r\n    words.forEach(function (word) {\r\n        if (!isFirst) {\r\n            drawBlank();\r\n        }\r\n        isFirst = false;\r\n        if (word !== '') {\r\n            context.fillText(word, x, y);\r\n            x += context.measureText(word).width;\r\n        }\r\n    });\r\n};\r\n\r\n// StringMorph measuring:\r\n\r\nStringMorph.prototype.slotPosition = function (slot) {\r\n    // answer the position point of the given index (\"slot\")\r\n    // where the cursor should be placed\r\n    var txt = this.isPassword ?\r\n                this.password('*', this.text.length) : this.text,\r\n        dest = Math.min(Math.max(slot, 0), txt.length),\r\n        context = this.image.getContext('2d'),\r\n        xOffset,\r\n        x,\r\n        y,\r\n        idx;\r\n\r\n    xOffset = 0;\r\n    for (idx = 0; idx < dest; idx += 1) {\r\n        xOffset += context.measureText(txt[idx]).width;\r\n    }\r\n    this.pos = dest;\r\n    x = this.left() + xOffset;\r\n    y = this.top();\r\n    return new Point(x, y);\r\n};\r\n\r\nStringMorph.prototype.slotAt = function (aPoint) {\r\n    // answer the slot (index) closest to the given point taking\r\n    // in account how far from the middle of the character it is,\r\n    // so the cursor can be moved accordingly\r\n\r\n    var txt = this.isPassword ?\r\n                this.password('*', this.text.length) : this.text,\r\n        idx = 0,\r\n        charX = 0,\r\n        context = this.image.getContext('2d');\r\n\r\n    while (aPoint.x - this.left() > charX) {\r\n        charX += context.measureText(txt[idx]).width;\r\n        idx += 1;\r\n        if (idx === txt.length) {\r\n            if ((context.measureText(txt).width -\r\n                    (context.measureText(txt[idx - 1]).width / 2)) <\r\n                    (aPoint.x - this.left())) {\r\n                return idx;\r\n            }\r\n        }\r\n    }\r\n\r\n    // see where our click fell with respect to the middle of the char\r\n    if (aPoint.x - this.left() >\r\n            charX - context.measureText(txt[idx - 1]).width / 2) {\r\n        return idx;\r\n    } else {\r\n        return idx - 1;\r\n    }\r\n};\r\n\r\nStringMorph.prototype.upFrom = function (slot) {\r\n    // answer the slot above the given one\r\n    return slot;\r\n};\r\n\r\nStringMorph.prototype.downFrom = function (slot) {\r\n    // answer the slot below the given one\r\n    return slot;\r\n};\r\n\r\nStringMorph.prototype.startOfLine = function () {\r\n    // answer the first slot (index) of the line for the given slot\r\n    return 0;\r\n};\r\n\r\nStringMorph.prototype.endOfLine = function () {\r\n    // answer the slot (index) indicating the EOL for the given slot\r\n    return this.text.length;\r\n};\r\n\r\nStringMorph.prototype.previousWordFrom = function (aSlot) {\r\n    // answer the slot (index) slots indicating the position of the\r\n    // previous word to the left of aSlot\r\n    var index = aSlot - 1;\r\n    \r\n    // while the current character is non-word one, we skip it, so that\r\n    // if we are in the middle of a non-alphanumeric sequence, we'll get\r\n    // right to the beginning of the previous word\r\n    while (index > 0 && !isWordChar(this.text[index])) {\r\n        index -= 1;\r\n    }\r\n\r\n    // while the current character is a word one, we skip it until we\r\n    // find the beginning of the current word\r\n    while (index > 0 && isWordChar(this.text[index - 1])) {\r\n        index -= 1;\r\n    }\r\n\r\n    return index;\r\n};\r\n\r\nStringMorph.prototype.nextWordFrom = function (aSlot) {\r\n    var index = aSlot;\r\n    \r\n    while (index < this.endOfLine() && !isWordChar(this.text[index])) {\r\n        index += 1;\r\n    }\r\n\r\n    while (index < this.endOfLine() && isWordChar(this.text[index])) {\r\n        index += 1;\r\n    }\r\n\r\n    return index;\r\n};\r\n\r\nStringMorph.prototype.rawHeight = function () {\r\n    // answer my corrected fontSize\r\n    return this.height() / 1.2;\r\n};\r\n\r\n// StringMorph menus:\r\n\r\nStringMorph.prototype.developersMenu = function () {\r\n    var menu = StringMorph.uber.developersMenu.call(this);\r\n\r\n    menu.addLine();\r\n    menu.addItem(\"edit\", 'edit');\r\n    menu.addItem(\r\n        \"font size...\",\r\n        function () {\r\n            this.prompt(\r\n                menu.title + '\\nfont\\nsize:',\r\n                this.setFontSize,\r\n                this,\r\n                this.fontSize.toString(),\r\n                null,\r\n                6,\r\n                500,\r\n                true\r\n            );\r\n        },\r\n        'set this String\\'s\\nfont point size'\r\n    );\r\n    if (this.fontStyle !== 'serif') {\r\n        menu.addItem(\"serif\", 'setSerif');\r\n    }\r\n    if (this.fontStyle !== 'sans-serif') {\r\n        menu.addItem(\"sans-serif\", 'setSansSerif');\r\n    }\r\n    if (this.isBold) {\r\n        menu.addItem(\"normal weight\", 'toggleWeight');\r\n    } else {\r\n        menu.addItem(\"bold\", 'toggleWeight');\r\n    }\r\n    if (this.isItalic) {\r\n        menu.addItem(\"normal style\", 'toggleItalic');\r\n    } else {\r\n        menu.addItem(\"italic\", 'toggleItalic');\r\n    }\r\n    if (this.isShowingBlanks) {\r\n        menu.addItem(\"hide blanks\", 'toggleShowBlanks');\r\n    } else {\r\n        menu.addItem(\"show blanks\", 'toggleShowBlanks');\r\n    }\r\n    if (this.isPassword) {\r\n        menu.addItem(\"show characters\", 'toggleIsPassword');\r\n    } else {\r\n        menu.addItem(\"hide characters\", 'toggleIsPassword');\r\n    }\r\n    return menu;\r\n};\r\n\r\nStringMorph.prototype.toggleIsDraggable = function () {\r\n    // for context menu demo purposes\r\n    this.isDraggable = !this.isDraggable;\r\n    if (this.isDraggable) {\r\n        this.disableSelecting();\r\n    } else {\r\n        this.enableSelecting();\r\n    }\r\n};\r\n\r\nStringMorph.prototype.toggleShowBlanks = function () {\r\n    this.isShowingBlanks = !this.isShowingBlanks;\r\n    this.changed();\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nStringMorph.prototype.toggleWeight = function () {\r\n    this.isBold = !this.isBold;\r\n    this.changed();\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nStringMorph.prototype.toggleItalic = function () {\r\n    this.isItalic = !this.isItalic;\r\n    this.changed();\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nStringMorph.prototype.toggleIsPassword = function () {\r\n    this.isPassword = !this.isPassword;\r\n    this.changed();\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nStringMorph.prototype.setSerif = function () {\r\n    this.fontStyle = 'serif';\r\n    this.changed();\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nStringMorph.prototype.setSansSerif = function () {\r\n    this.fontStyle = 'sans-serif';\r\n    this.changed();\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nStringMorph.prototype.setFontSize = function (size) {\r\n    // for context menu demo purposes\r\n    var newSize;\r\n    if (typeof size === 'number') {\r\n        this.fontSize = Math.round(Math.min(Math.max(size, 4), 500));\r\n    } else {\r\n        newSize = parseFloat(size);\r\n        if (!isNaN(newSize)) {\r\n            this.fontSize = Math.round(\r\n                Math.min(Math.max(newSize, 4), 500)\r\n            );\r\n        }\r\n    }\r\n    this.changed();\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nStringMorph.prototype.setText = function (size) {\r\n    // for context menu demo purposes\r\n    this.text = Math.round(size).toString();\r\n    this.changed();\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nStringMorph.prototype.numericalSetters = function () {\r\n    // for context menu demo purposes\r\n    return [\r\n        'setLeft',\r\n        'setTop',\r\n        'setAlphaScaled',\r\n        'setFontSize',\r\n        'setText'\r\n    ];\r\n};\r\n\r\n// StringMorph editing:\r\n\r\nStringMorph.prototype.edit = function () {\r\n    this.root().edit(this);\r\n};\r\n\r\nStringMorph.prototype.selection = function () {\r\n    var start, stop;\r\n    start = Math.min(this.startMark, this.endMark);\r\n    stop = Math.max(this.startMark, this.endMark);\r\n    return this.text.slice(start, stop);\r\n};\r\n\r\nStringMorph.prototype.selectionStartSlot = function () {\r\n    return Math.min(this.startMark, this.endMark);\r\n};\r\n\r\nStringMorph.prototype.clearSelection = function () {\r\n    if (!this.currentlySelecting &&\r\n            isNil(this.startMark) &&\r\n            isNil(this.endMark)) {\r\n        return;\r\n    }\r\n    this.currentlySelecting = false;\r\n    this.startMark = null;\r\n    this.endMark = null;\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nStringMorph.prototype.deleteSelection = function () {\r\n    var start, stop, text;\r\n    text = this.text;\r\n    start = Math.min(this.startMark, this.endMark);\r\n    stop = Math.max(this.startMark, this.endMark);\r\n    this.text = text.slice(0, start) + text.slice(stop);\r\n    this.changed();\r\n    this.clearSelection();\r\n};\r\n\r\nStringMorph.prototype.selectAll = function () {\r\n    var cursor;\r\n    if (this.isEditable) {\r\n        this.startMark = 0;\r\n        cursor = this.root().cursor;\r\n        if (cursor) {\r\n            cursor.gotoSlot(this.text.length);\r\n        }\r\n        this.endMark = this.text.length;\r\n        this.drawNew();\r\n        this.changed();\r\n    }\r\n};\r\n\r\nStringMorph.prototype.mouseDownLeft = function (pos) {\r\n    if (this.world().currentKey === 16) {\r\n        this.shiftClick(pos);\r\n    } else if (this.isEditable) {\r\n        this.clearSelection();\r\n    } else {\r\n        this.escalateEvent('mouseDownLeft', pos);\r\n    }\r\n};\r\n\r\nStringMorph.prototype.shiftClick = function (pos) {\r\n    var cursor = this.root().cursor;\r\n\r\n    if (cursor) {\r\n        if (!this.startMark) {\r\n            this.startMark = cursor.slot;\r\n        }\r\n        cursor.gotoPos(pos);\r\n        this.endMark = cursor.slot;\r\n        this.drawNew();\r\n        this.changed();\r\n    }\r\n    this.currentlySelecting = false;\r\n    this.escalateEvent('mouseDownLeft', pos);\r\n};\r\n\r\nStringMorph.prototype.mouseClickLeft = function (pos) {\r\n    var cursor;\r\n    if (this.isEditable) {\r\n        if (!this.currentlySelecting) {\r\n            this.edit(); // creates a new cursor\r\n        }\r\n        cursor = this.root().cursor;\r\n        if (cursor) {\r\n            cursor.gotoPos(pos);\r\n        }\r\n        this.currentlySelecting = true;\r\n    } else {\r\n        this.escalateEvent('mouseClickLeft', pos);\r\n    }\r\n};\r\n\r\nStringMorph.prototype.mouseDoubleClick = function (pos) {\r\n    // selects the word at pos\r\n    // if there is no word, we select whatever is between\r\n    // the previous and next words\r\n    var slot = this.slotAt(pos);\r\n\r\n    if (this.isEditable) {\r\n        this.edit();\r\n\r\n        if (slot === this.text.length) {\r\n            slot -= 1;\r\n        }\r\n\r\n        if (this.text[slot] && isWordChar(this.text[slot])) {\r\n            this.selectWordAt(slot);\r\n        } else if (this.text[slot]) {\r\n            this.selectBetweenWordsAt(slot);\r\n        } else {\r\n            // special case for when we click right after the\r\n            // last slot in multi line TextMorphs\r\n            this.selectAll();\r\n        }\r\n    } else {\r\n        this.escalateEvent('mouseDoubleClick', pos);\r\n    }\r\n};\r\n\r\nStringMorph.prototype.selectWordAt = function (slot) {\r\n    var cursor = this.root().cursor;\r\n\r\n    if (slot === 0 || isWordChar(this.text[slot - 1])) {\r\n        cursor.gotoSlot(this.previousWordFrom(slot));\r\n        this.startMark = cursor.slot;\r\n        this.endMark = this.nextWordFrom(cursor.slot);\r\n    } else {\r\n        cursor.gotoSlot(slot);\r\n        this.startMark = slot;\r\n        this.endMark = this.nextWordFrom(slot);\r\n    }\r\n\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nStringMorph.prototype.selectBetweenWordsAt = function (slot) {\r\n    var cursor = this.root().cursor;\r\n\r\n    cursor.gotoSlot(this.nextWordFrom(this.previousWordFrom(slot)));\r\n    this.startMark = cursor.slot;\r\n    this.endMark = cursor.slot;\r\n\r\n    while (this.endMark < this.text.length\r\n            && !isWordChar(this.text[this.endMark])) {\r\n        this.endMark += 1;\r\n    }\r\n\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nStringMorph.prototype.enableSelecting = function () {\r\n    this.mouseDownLeft = function (pos) {\r\n        var crs = this.root().cursor,\r\n            already = crs ? crs.target === this : false;\r\n        if (this.world().currentKey === 16) {\r\n            this.shiftClick(pos);\r\n        } else {\r\n            this.clearSelection();\r\n            if (this.isEditable && (!this.isDraggable)) {\r\n                this.edit();\r\n                this.root().cursor.gotoPos(pos);\r\n                this.startMark = this.slotAt(pos);\r\n                this.endMark = this.startMark;\r\n                this.currentlySelecting = true;\r\n                if (!already) {this.escalateEvent('mouseDownLeft', pos); }\r\n            }\r\n        }\r\n    };\r\n    this.mouseMove = function (pos) {\r\n        if (this.isEditable &&\r\n                this.currentlySelecting &&\r\n                (!this.isDraggable)) {\r\n            var newMark = this.slotAt(pos);\r\n            if (newMark !== this.endMark) {\r\n                this.endMark = newMark;\r\n                this.drawNew();\r\n                this.changed();\r\n            }\r\n        }\r\n    };\r\n};\r\n\r\nStringMorph.prototype.disableSelecting = function () {\r\n    this.mouseDownLeft = StringMorph.prototype.mouseDownLeft;\r\n    delete this.mouseMove;\r\n};\r\n\r\n// TextMorph ////////////////////////////////////////////////////////////////\r\n\r\n// I am a multi-line, word-wrapping String, quasi-inheriting from StringMorph\r\n\r\n// TextMorph inherits from Morph:\r\n\r\nTextMorph.prototype = new Morph();\r\nTextMorph.prototype.constructor = TextMorph;\r\nTextMorph.uber = Morph.prototype;\r\n\r\n// TextMorph instance creation:\r\n\r\nfunction TextMorph(\r\n    text,\r\n    fontSize,\r\n    fontStyle,\r\n    bold,\r\n    italic,\r\n    alignment,\r\n    width,\r\n    fontName,\r\n    shadowOffset,\r\n    shadowColor\r\n) {\r\n    this.init(text,\r\n        fontSize,\r\n        fontStyle,\r\n        bold,\r\n        italic,\r\n        alignment,\r\n        width,\r\n        fontName,\r\n        shadowOffset,\r\n        shadowColor);\r\n}\r\n\r\nTextMorph.prototype.init = function (\r\n    text,\r\n    fontSize,\r\n    fontStyle,\r\n    bold,\r\n    italic,\r\n    alignment,\r\n    width,\r\n    fontName,\r\n    shadowOffset,\r\n    shadowColor\r\n) {\r\n    // additional properties:\r\n    this.text = text || (text === '' ? text : 'TextMorph');\r\n    this.words = [];\r\n    this.lines = [];\r\n    this.lineSlots = [];\r\n    this.fontSize = fontSize || 12;\r\n    this.fontName = fontName || MorphicPreferences.globalFontFamily;\r\n    this.fontStyle = fontStyle || 'sans-serif';\r\n    this.isBold = bold || false;\r\n    this.isItalic = italic || false;\r\n    this.alignment = alignment || 'left';\r\n    this.shadowOffset = shadowOffset || new Point(0, 0);\r\n    this.shadowColor = shadowColor || null;\r\n    this.maxWidth = width || 0;\r\n    this.maxLineWidth = 0;\r\n    this.backgroundColor = null;\r\n    this.isEditable = false;\r\n\r\n    //additional properties for ad-hoc evaluation:\r\n    this.receiver = null;\r\n\r\n    // additional properties for text-editing:\r\n    this.isScrollable = true; // scrolls into view when edited\r\n    this.currentlySelecting = false;\r\n    this.startMark = 0;\r\n    this.endMark = 0;\r\n    this.markedTextColor = new Color(255, 255, 255);\r\n    this.markedBackgoundColor = new Color(60, 60, 120);\r\n\r\n    // initialize inherited properties:\r\n    TextMorph.uber.init.call(this);\r\n\r\n    // override inherited properites:\r\n    this.color = new Color(0, 0, 0);\r\n    this.noticesTransparentClick = true;\r\n    this.drawNew();\r\n};\r\n\r\nTextMorph.prototype.toString = function () {\r\n    // e.g. 'a TextMorph(\"Hello World\")'\r\n    return 'a TextMorph' + '(\"' + this.text.slice(0, 30) + '...\")';\r\n};\r\n\r\nTextMorph.prototype.font = StringMorph.prototype.font;\r\n\r\nTextMorph.prototype.parse = function () {\r\n    var myself = this,\r\n        paragraphs = this.text.split('\\n'),\r\n        canvas = newCanvas(),\r\n        context = canvas.getContext('2d'),\r\n        oldline = '',\r\n        newline,\r\n        w,\r\n        slot = 0;\r\n\r\n    context.font = this.font();\r\n    this.maxLineWidth = 0;\r\n    this.lines = [];\r\n    this.lineSlots = [0];\r\n    this.words = [];\r\n\r\n    paragraphs.forEach(function (p) {\r\n        myself.words = myself.words.concat(p.split(' '));\r\n        myself.words.push('\\n');\r\n    });\r\n\r\n    this.words.forEach(function (word) {\r\n        if (word === '\\n') {\r\n            myself.lines.push(oldline);\r\n            myself.lineSlots.push(slot);\r\n            myself.maxLineWidth = Math.max(\r\n                myself.maxLineWidth,\r\n                context.measureText(oldline).width\r\n            );\r\n            oldline = '';\r\n        } else {\r\n            if (myself.maxWidth > 0) {\r\n                newline = oldline + word + ' ';\r\n                w = context.measureText(newline).width;\r\n                if (w > myself.maxWidth) {\r\n                    myself.lines.push(oldline);\r\n                    myself.lineSlots.push(slot);\r\n                    myself.maxLineWidth = Math.max(\r\n                        myself.maxLineWidth,\r\n                        context.measureText(oldline).width\r\n                    );\r\n                    oldline = word + ' ';\r\n                } else {\r\n                    oldline = newline;\r\n                }\r\n            } else {\r\n                oldline = oldline + word + ' ';\r\n            }\r\n            slot += word.length + 1;\r\n        }\r\n    });\r\n};\r\n\r\nTextMorph.prototype.drawNew = function () {\r\n    var context, height, i, line, width, shadowHeight, shadowWidth,\r\n        offx, offy, x, y, start, stop, p, c;\r\n\r\n    this.image = newCanvas();\r\n    context = this.image.getContext('2d');\r\n    context.font = this.font();\r\n    this.parse();\r\n\r\n    // set my extent\r\n    shadowWidth = Math.abs(this.shadowOffset.x);\r\n    shadowHeight = Math.abs(this.shadowOffset.y);\r\n    height = this.lines.length * (fontHeight(this.fontSize) + shadowHeight);\r\n    if (this.maxWidth === 0) {\r\n        this.bounds = this.bounds.origin.extent(\r\n            new Point(this.maxLineWidth + shadowWidth, height)\r\n        );\r\n    } else {\r\n        this.bounds = this.bounds.origin.extent(\r\n            new Point(this.maxWidth + shadowWidth, height)\r\n        );\r\n    }\r\n    this.image.width = this.width();\r\n    this.image.height = this.height();\r\n\r\n    // prepare context for drawing text\r\n    context = this.image.getContext('2d');\r\n    context.font = this.font();\r\n    context.textAlign = 'left';\r\n    context.textBaseline = 'bottom';\r\n\r\n    // fill the background, if desired\r\n    if (this.backgroundColor) {\r\n        context.fillStyle = this.backgroundColor.toString();\r\n        context.fillRect(0, 0, this.width(), this.height());\r\n    }\r\n\r\n    // draw the shadow, if any\r\n    if (this.shadowColor) {\r\n        offx = Math.max(this.shadowOffset.x, 0);\r\n        offy = Math.max(this.shadowOffset.y, 0);\r\n        context.fillStyle = this.shadowColor.toString();\r\n\r\n        for (i = 0; i < this.lines.length; i = i + 1) {\r\n            line = this.lines[i];\r\n            width = context.measureText(line).width + shadowWidth;\r\n            if (this.alignment === 'right') {\r\n                x = this.width() - width;\r\n            } else if (this.alignment === 'center') {\r\n                x = (this.width() - width) / 2;\r\n            } else { // 'left'\r\n                x = 0;\r\n            }\r\n            y = (i + 1) * (fontHeight(this.fontSize) + shadowHeight)\r\n                - shadowHeight;\r\n            context.fillText(line, x + offx, y + offy);\r\n        }\r\n    }\r\n\r\n    // now draw the actual text\r\n    offx = Math.abs(Math.min(this.shadowOffset.x, 0));\r\n    offy = Math.abs(Math.min(this.shadowOffset.y, 0));\r\n    context.fillStyle = this.color.toString();\r\n\r\n    for (i = 0; i < this.lines.length; i = i + 1) {\r\n        line = this.lines[i];\r\n        width = context.measureText(line).width + shadowWidth;\r\n        if (this.alignment === 'right') {\r\n            x = this.width() - width;\r\n        } else if (this.alignment === 'center') {\r\n            x = (this.width() - width) / 2;\r\n        } else { // 'left'\r\n            x = 0;\r\n        }\r\n        y = (i + 1) * (fontHeight(this.fontSize) + shadowHeight)\r\n            - shadowHeight;\r\n        context.fillText(line, x + offx, y + offy);\r\n    }\r\n\r\n    // draw the selection\r\n    start = Math.min(this.startMark, this.endMark);\r\n    stop = Math.max(this.startMark, this.endMark);\r\n    for (i = start; i < stop; i += 1) {\r\n        p = this.slotPosition(i).subtract(this.position());\r\n        c = this.text.charAt(i);\r\n        context.fillStyle = this.markedBackgoundColor.toString();\r\n        context.fillRect(p.x, p.y, context.measureText(c).width + 1,\r\n            fontHeight(this.fontSize));\r\n        context.fillStyle = this.markedTextColor.toString();\r\n        context.fillText(c, p.x, p.y + fontHeight(this.fontSize));\r\n    }\r\n\r\n    // notify my parent of layout change\r\n    if (this.parent) {\r\n        if (this.parent.layoutChanged) {\r\n            this.parent.layoutChanged();\r\n        }\r\n    }\r\n};\r\n\r\nTextMorph.prototype.setExtent = function (aPoint) {\r\n    this.maxWidth = Math.max(aPoint.x, 0);\r\n    this.changed();\r\n    this.drawNew();\r\n};\r\n\r\n// TextMorph mesuring:\r\n\r\nTextMorph.prototype.columnRow = function (slot) {\r\n    // answer the logical position point of the given index (\"slot\")\r\n    var row,\r\n        col,\r\n        idx = 0;\r\n\r\n    for (row = 0; row < this.lines.length; row += 1) {\r\n        idx = this.lineSlots[row];\r\n        for (col = 0; col < this.lines[row].length; col += 1) {\r\n            if (idx === slot) {\r\n                return new Point(col, row);\r\n            }\r\n            idx += 1;\r\n        }\r\n    }\r\n    // return new Point(0, 0);\r\n    return new Point(\r\n        this.lines[this.lines.length - 1].length - 1,\r\n        this.lines.length - 1\r\n    );\r\n};\r\n\r\nTextMorph.prototype.slotPosition = function (slot) {\r\n    // answer the physical position point of the given index (\"slot\")\r\n    // where the cursor should be placed\r\n    var colRow = this.columnRow(slot),\r\n        context = this.image.getContext('2d'),\r\n        shadowHeight = Math.abs(this.shadowOffset.y),\r\n        xOffset = 0,\r\n        yOffset,\r\n        x,\r\n        y,\r\n        idx;\r\n\r\n    yOffset = colRow.y * (fontHeight(this.fontSize) + shadowHeight);\r\n    for (idx = 0; idx < colRow.x; idx += 1) {\r\n        xOffset += context.measureText(this.lines[colRow.y][idx]).width;\r\n    }\r\n    x = this.left() + xOffset;\r\n    y = this.top() + yOffset;\r\n    return new Point(x, y);\r\n};\r\n\r\nTextMorph.prototype.slotAt = function (aPoint) {\r\n    // answer the slot (index) closest to the given point taking\r\n    // in account how far from the middle of the character it is,\r\n    // so the cursor can be moved accordingly\r\n\r\n    var charX = 0,\r\n        row = 0,\r\n        col = 0,\r\n        shadowHeight = Math.abs(this.shadowOffset.y),\r\n        context = this.image.getContext('2d');\r\n\r\n    while (aPoint.y - this.top() >\r\n            ((fontHeight(this.fontSize) + shadowHeight) * row)) {\r\n        row += 1;\r\n    }\r\n    row = Math.max(row, 1);\r\n\r\n    while (aPoint.x - this.left() > charX) {\r\n        charX += context.measureText(this.lines[row - 1][col]).width;\r\n        col += 1;\r\n    }\r\n\r\n    // see where our click fell with respect to the middle of the char\r\n    if (aPoint.x - this.left() >\r\n            charX - context.measureText(this.lines[row - 1][col]).width / 2) {\r\n        return this.lineSlots[Math.max(row - 1, 0)] + col;\r\n    } else {\r\n        return this.lineSlots[Math.max(row - 1, 0)] + col - 1;\r\n    }\r\n};\r\n\r\nTextMorph.prototype.upFrom = function (slot) {\r\n    // answer the slot above the given one\r\n    var above,\r\n        colRow = this.columnRow(slot);\r\n    if (colRow.y < 1) {\r\n        return slot;\r\n    }\r\n    above = this.lines[colRow.y - 1];\r\n    if (above.length < colRow.x - 1) {\r\n        return this.lineSlots[colRow.y - 1] + above.length;\r\n    }\r\n    return this.lineSlots[colRow.y - 1] + colRow.x;\r\n};\r\n\r\nTextMorph.prototype.downFrom = function (slot) {\r\n    // answer the slot below the given one\r\n    var below,\r\n        colRow = this.columnRow(slot);\r\n    if (colRow.y > this.lines.length - 2) {\r\n        return slot;\r\n    }\r\n    below = this.lines[colRow.y + 1];\r\n    if (below.length < colRow.x - 1) {\r\n        return this.lineSlots[colRow.y + 1] + below.length;\r\n    }\r\n    return this.lineSlots[colRow.y + 1] + colRow.x;\r\n};\r\n\r\nTextMorph.prototype.startOfLine = function (slot) {\r\n    // answer the first slot (index) of the line for the given slot\r\n    return this.lineSlots[this.columnRow(slot).y];\r\n};\r\n\r\nTextMorph.prototype.endOfLine = function (slot) {\r\n    // answer the slot (index) indicating the EOL for the given slot\r\n    return this.startOfLine(slot) +\r\n        this.lines[this.columnRow(slot).y].length - 1;\r\n};\r\n\r\nTextMorph.prototype.previousWordFrom = StringMorph.prototype.previousWordFrom;\r\n\r\nTextMorph.prototype.nextWordFrom = StringMorph.prototype.nextWordFrom;\r\n\r\n// TextMorph editing:\r\n\r\nTextMorph.prototype.edit = StringMorph.prototype.edit;\r\n\r\nTextMorph.prototype.selection = StringMorph.prototype.selection;\r\n\r\nTextMorph.prototype.selectionStartSlot\r\n    = StringMorph.prototype.selectionStartSlot;\r\n\r\nTextMorph.prototype.clearSelection = StringMorph.prototype.clearSelection;\r\n\r\nTextMorph.prototype.deleteSelection = StringMorph.prototype.deleteSelection;\r\n\r\nTextMorph.prototype.selectAll = StringMorph.prototype.selectAll;\r\n\r\nTextMorph.prototype.mouseDownLeft = StringMorph.prototype.mouseDownLeft;\r\n\r\nTextMorph.prototype.shiftClick = StringMorph.prototype.shiftClick;\r\n\r\nTextMorph.prototype.mouseClickLeft = StringMorph.prototype.mouseClickLeft;\r\n\r\nTextMorph.prototype.mouseDoubleClick = StringMorph.prototype.mouseDoubleClick;\r\n\r\nTextMorph.prototype.selectWordAt = StringMorph.prototype.selectWordAt;\r\n\r\nTextMorph.prototype.selectBetweenWordsAt\r\n    = StringMorph.prototype.selectBetweenWordsAt;\r\n\r\nTextMorph.prototype.enableSelecting = StringMorph.prototype.enableSelecting;\r\n\r\nTextMorph.prototype.disableSelecting = StringMorph.prototype.disableSelecting;\r\n\r\nTextMorph.prototype.selectAllAndEdit = function () {\r\n    this.edit();\r\n    this.selectAll();\r\n};\r\n\r\n// TextMorph menus:\r\n\r\nTextMorph.prototype.developersMenu = function () {\r\n    var menu = TextMorph.uber.developersMenu.call(this);\r\n    menu.addLine();\r\n    menu.addItem(\"edit\", 'edit');\r\n    menu.addItem(\r\n        \"font size...\",\r\n        function () {\r\n            this.prompt(\r\n                menu.title + '\\nfont\\nsize:',\r\n                this.setFontSize,\r\n                this,\r\n                this.fontSize.toString(),\r\n                null,\r\n                6,\r\n                100,\r\n                true\r\n            );\r\n        },\r\n        'set this Text\\'s\\nfont point size'\r\n    );\r\n    if (this.alignment !== 'left') {\r\n        menu.addItem(\"align left\", 'setAlignmentToLeft');\r\n    }\r\n    if (this.alignment !== 'right') {\r\n        menu.addItem(\"align right\", 'setAlignmentToRight');\r\n    }\r\n    if (this.alignment !== 'center') {\r\n        menu.addItem(\"align center\", 'setAlignmentToCenter');\r\n    }\r\n    menu.addLine();\r\n    if (this.fontStyle !== 'serif') {\r\n        menu.addItem(\"serif\", 'setSerif');\r\n    }\r\n    if (this.fontStyle !== 'sans-serif') {\r\n        menu.addItem(\"sans-serif\", 'setSansSerif');\r\n    }\r\n    if (this.isBold) {\r\n        menu.addItem(\"normal weight\", 'toggleWeight');\r\n    } else {\r\n        menu.addItem(\"bold\", 'toggleWeight');\r\n    }\r\n    if (this.isItalic) {\r\n        menu.addItem(\"normal style\", 'toggleItalic');\r\n    } else {\r\n        menu.addItem(\"italic\", 'toggleItalic');\r\n    }\r\n    return menu;\r\n};\r\n\r\nTextMorph.prototype.setAlignmentToLeft = function () {\r\n    this.alignment = 'left';\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nTextMorph.prototype.setAlignmentToRight = function () {\r\n    this.alignment = 'right';\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nTextMorph.prototype.setAlignmentToCenter = function () {\r\n    this.alignment = 'center';\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nTextMorph.prototype.toggleIsDraggable\r\n    = StringMorph.prototype.toggleIsDraggable;\r\n\r\nTextMorph.prototype.toggleWeight = StringMorph.prototype.toggleWeight;\r\n\r\nTextMorph.prototype.toggleItalic = StringMorph.prototype.toggleItalic;\r\n\r\nTextMorph.prototype.setSerif = StringMorph.prototype.setSerif;\r\n\r\nTextMorph.prototype.setSansSerif = StringMorph.prototype.setSansSerif;\r\n\r\nTextMorph.prototype.setText = StringMorph.prototype.setText;\r\n\r\nTextMorph.prototype.setFontSize = StringMorph.prototype.setFontSize;\r\n\r\nTextMorph.prototype.numericalSetters = StringMorph.prototype.numericalSetters;\r\n\r\n// TextMorph evaluation:\r\n\r\nTextMorph.prototype.evaluationMenu = function () {\r\n    var menu = new MenuMorph(this, null);\r\n    menu.addItem(\r\n        \"do it\",\r\n        'doIt',\r\n        'evaluate the\\nselected expression'\r\n    );\r\n    menu.addItem(\r\n        \"show it\",\r\n        'showIt',\r\n        'evaluate the\\nselected expression\\nand show the result'\r\n    );\r\n    menu.addItem(\r\n        \"inspect it\",\r\n        'inspectIt',\r\n        'evaluate the\\nselected expression\\nand inspect the result'\r\n    );\r\n    menu.addLine();\r\n    menu.addItem(\"select all\", 'selectAllAndEdit');\r\n    return menu;\r\n};\r\n\r\nTextMorph.prototype.setReceiver = function (obj) {\r\n    this.receiver = obj;\r\n    this.customContextMenu = this.evaluationMenu();\r\n};\r\n\r\nTextMorph.prototype.doIt = function () {\r\n    this.receiver.evaluateString(this.selection());\r\n    this.edit();\r\n};\r\n\r\nTextMorph.prototype.showIt = function () {\r\n    var result = this.receiver.evaluateString(this.selection());\r\n    if (result !== null) {\r\n        this.inform(result);\r\n    }\r\n};\r\n\r\nTextMorph.prototype.inspectIt = function () {\r\n    var result = this.receiver.evaluateString(this.selection()),\r\n        world = this.world(),\r\n        inspector;\r\n    if (isObject(result)) {\r\n        inspector = new InspectorMorph(result);\r\n        inspector.setPosition(world.hand.position());\r\n        inspector.keepWithin(world);\r\n        world.add(inspector);\r\n        inspector.changed();\r\n    }\r\n};\r\n\r\n// TriggerMorph ////////////////////////////////////////////////////////\r\n\r\n// I provide basic button functionality\r\n\r\n// TriggerMorph inherits from Morph:\r\n\r\nTriggerMorph.prototype = new Morph();\r\nTriggerMorph.prototype.constructor = TriggerMorph;\r\nTriggerMorph.uber = Morph.prototype;\r\n\r\n// TriggerMorph instance creation:\r\n\r\nfunction TriggerMorph(\r\n    target,\r\n    action,\r\n    labelString,\r\n    fontSize,\r\n    fontStyle,\r\n    environment,\r\n    hint,\r\n    labelColor,\r\n    labelBold,\r\n    labelItalic,\r\n    doubleClickAction\r\n) {\r\n    this.init(\r\n        target,\r\n        action,\r\n        labelString,\r\n        fontSize,\r\n        fontStyle,\r\n        environment,\r\n        hint,\r\n        labelColor,\r\n        labelBold,\r\n        labelItalic,\r\n        doubleClickAction\r\n    );\r\n}\r\n\r\nTriggerMorph.prototype.init = function (\r\n    target,\r\n    action,\r\n    labelString,\r\n    fontSize,\r\n    fontStyle,\r\n    environment,\r\n    hint,\r\n    labelColor,\r\n    labelBold,\r\n    labelItalic,\r\n    doubleClickAction\r\n) {\r\n    // additional properties:\r\n    this.target = target || null;\r\n    this.action = action || null;\r\n    this.doubleClickAction = doubleClickAction || null;\r\n    this.environment = environment || null;\r\n    this.labelString = labelString || null;\r\n    this.label = null;\r\n    this.hint = hint || null; // null, String, or Function\r\n    this.schedule = null; // animation slot for displaying hints\r\n    this.fontSize = fontSize || MorphicPreferences.menuFontSize;\r\n    this.fontStyle = fontStyle || 'sans-serif';\r\n    this.highlightColor = new Color(192, 192, 192);\r\n    this.pressColor = new Color(128, 128, 128);\r\n    this.labelColor = labelColor || new Color(0, 0, 0);\r\n    this.labelBold = labelBold || false;\r\n    this.labelItalic = labelItalic || false;\r\n\r\n    // initialize inherited properties:\r\n    TriggerMorph.uber.init.call(this);\r\n\r\n    // override inherited properites:\r\n    this.color = new Color(255, 255, 255);\r\n    this.drawNew();\r\n};\r\n\r\n// TriggerMorph drawing:\r\n\r\nTriggerMorph.prototype.drawNew = function () {\r\n    this.createBackgrounds();\r\n    if (this.labelString !== null) {\r\n        this.createLabel();\r\n    }\r\n};\r\n\r\nTriggerMorph.prototype.createBackgrounds = function () {\r\n    var context,\r\n        ext = this.extent();\r\n\r\n    this.normalImage = newCanvas(ext);\r\n    context = this.normalImage.getContext('2d');\r\n    context.fillStyle = this.color.toString();\r\n    context.fillRect(0, 0, ext.x, ext.y);\r\n\r\n    this.highlightImage = newCanvas(ext);\r\n    context = this.highlightImage.getContext('2d');\r\n    context.fillStyle = this.highlightColor.toString();\r\n    context.fillRect(0, 0, ext.x, ext.y);\r\n\r\n    this.pressImage = newCanvas(ext);\r\n    context = this.pressImage.getContext('2d');\r\n    context.fillStyle = this.pressColor.toString();\r\n    context.fillRect(0, 0, ext.x, ext.y);\r\n\r\n    this.image = this.normalImage;\r\n};\r\n\r\nTriggerMorph.prototype.createLabel = function () {\r\n    if (this.label !== null) {\r\n        this.label.destroy();\r\n    }\r\n    this.label = new StringMorph(\r\n        this.labelString,\r\n        this.fontSize,\r\n        this.fontStyle,\r\n        this.labelBold,\r\n        this.labelItalic,\r\n        false, // numeric\r\n        null, // shadow offset\r\n        null, // shadow color\r\n        this.labelColor\r\n    );\r\n    this.label.setPosition(\r\n        this.center().subtract(\r\n            this.label.extent().floorDivideBy(2)\r\n        )\r\n    );\r\n    this.add(this.label);\r\n};\r\n\r\n// TriggerMorph action:\r\n\r\nTriggerMorph.prototype.trigger = function () {\r\n    /*\r\n    if target is a function, use it as callback:\r\n    execute target as callback function with action as argument\r\n    in the environment as optionally specified.\r\n    Note: if action is also a function, instead of becoming\r\n    the argument itself it will be called to answer the argument.\r\n    for selections, Yes/No Choices etc. As second argument pass\r\n    myself, so I can be modified to reflect status changes, e.g.\r\n    inside a list box:\r\n\r\n    else (if target is not a function):\r\n\r\n        if action is a function:\r\n        execute the action with target as environment (can be null)\r\n        for lambdafied (inline) actions\r\n\r\n        else if action is a String:\r\n        treat it as function property of target and execute it\r\n        for selector-like actions\r\n    */\r\n    if (this.schedule) {\r\n        this.schedule.isActive = false;\r\n    }\r\n    if (typeof this.target === 'function') {\r\n        if (typeof this.action === 'function') {\r\n            this.target.call(this.environment, this.action.call(), this);\r\n        } else {\r\n            this.target.call(this.environment, this.action, this);\r\n        }\r\n    } else {\r\n        if (typeof this.action === 'function') {\r\n            this.action.call(this.target);\r\n        } else { // assume it's a String\r\n            this.target[this.action]();\r\n        }\r\n    }\r\n};\r\n\r\nTriggerMorph.prototype.triggerDoubleClick = function () {\r\n    // same as trigger() but use doubleClickAction instead of action property\r\n    // note that specifying a doubleClickAction is optional\r\n    if (!this.doubleClickAction) {return; }\r\n    if (this.schedule) {\r\n        this.schedule.isActive = false;\r\n    }\r\n    if (typeof this.target === 'function') {\r\n        if (typeof this.doubleClickAction === 'function') {\r\n            this.target.call(\r\n                this.environment,\r\n                this.doubleClickAction.call(),\r\n                this\r\n            );\r\n        } else {\r\n            this.target.call(this.environment, this.doubleClickAction, this);\r\n        }\r\n    } else {\r\n        if (typeof this.doubleClickAction === 'function') {\r\n            this.doubleClickAction.call(this.target);\r\n        } else { // assume it's a String\r\n            this.target[this.doubleClickAction]();\r\n        }\r\n    }\r\n};\r\n\r\n// TriggerMorph events:\r\n\r\nTriggerMorph.prototype.mouseEnter = function () {\r\n    var contents = this.hint instanceof Function ? this.hint() : this.hint;\r\n    this.image = this.highlightImage;\r\n    this.changed();\r\n    if (contents) {\r\n        this.bubbleHelp(contents);\r\n    }\r\n};\r\n\r\nTriggerMorph.prototype.mouseLeave = function () {\r\n    this.image = this.normalImage;\r\n    this.changed();\r\n    if (this.schedule) {\r\n        this.schedule.isActive = false;\r\n    }\r\n    if (this.hint) {\r\n        this.world().hand.destroyTemporaries();\r\n    }\r\n};\r\n\r\nTriggerMorph.prototype.mouseDownLeft = function () {\r\n    this.image = this.pressImage;\r\n    this.changed();\r\n};\r\n\r\nTriggerMorph.prototype.mouseClickLeft = function () {\r\n    this.image = this.highlightImage;\r\n    this.changed();\r\n    this.trigger();\r\n};\r\n\r\nTriggerMorph.prototype.mouseDoubleClick = function () {\r\n    this.triggerDoubleClick();\r\n};\r\n\r\nTriggerMorph.prototype.rootForGrab = function () {\r\n    return this.isDraggable ? TriggerMorph.uber.rootForGrab.call(this) : null;\r\n};\r\n\r\n// TriggerMorph bubble help:\r\n\r\nTriggerMorph.prototype.bubbleHelp = function (contents) {\r\n    var world = this.world(),\r\n        myself = this;\r\n    this.schedule = new Animation(\r\n        nop,\r\n        nop,\r\n        0,\r\n        500,\r\n        nop,\r\n        function () {myself.popUpbubbleHelp(contents); }\r\n    );\r\n    world.animations.push(this.schedule);\r\n};\r\n\r\nTriggerMorph.prototype.popUpbubbleHelp = function (contents) {\r\n    new SpeechBubbleMorph(\r\n        localize(contents),\r\n        null,\r\n        null,\r\n        1\r\n    ).popUp(this.world(), this.rightCenter().add(new Point(-8, 0)));\r\n};\r\n\r\n// MenuItemMorph ///////////////////////////////////////////////////////\r\n\r\n// I automatically determine my bounds\r\n\r\nvar MenuItemMorph;\r\n\r\n// MenuItemMorph inherits from TriggerMorph:\r\n\r\nMenuItemMorph.prototype = new TriggerMorph();\r\nMenuItemMorph.prototype.constructor = MenuItemMorph;\r\nMenuItemMorph.uber = TriggerMorph.prototype;\r\n\r\n// MenuItemMorph instance creation:\r\n\r\nfunction MenuItemMorph(\r\n    target,\r\n    action,\r\n    labelString, // can also be a Morph or a Canvas or a tuple: [icon, string]\r\n    fontSize,\r\n    fontStyle,\r\n    environment,\r\n    hint,\r\n    color,\r\n    bold,\r\n    italic,\r\n    doubleClickAction, // optional when used as list morph item\r\n    shortcut // optional string, Morph, Canvas or tuple: [icon, string]\r\n) {\r\n    // additional properties:\r\n    this.shortcutString = shortcut || null;\r\n    this.shortcut = null;\r\n\r\n    // initialize inherited properties:\r\n    this.init(\r\n        target,\r\n        action,\r\n        labelString,\r\n        fontSize,\r\n        fontStyle,\r\n        environment,\r\n        hint,\r\n        color,\r\n        bold,\r\n        italic,\r\n        doubleClickAction\r\n    );\r\n}\r\n\r\nMenuItemMorph.prototype.createLabel = function () {\r\n    var w, h;\r\n    if (this.label) {\r\n        this.label.destroy();\r\n    }\r\n    this.label = this.createLabelPart(this.labelString);\r\n    this.add(this.label);\r\n    w = this.label.width();\r\n    h = this.label.height();\r\n    if (this.shortcut) {\r\n        this.shortcut.destroy();\r\n    }\r\n    if (this.shortcutString) {\r\n        this.shortcut = this.createLabelPart(this.shortcutString);\r\n        w += this.shortcut.width() + 4;\r\n        h = Math.max(h, this.shortcut.height());\r\n        this.add(this.shortcut);\r\n    }\r\n    this.silentSetExtent(new Point(w + 8, h));\r\n    this.fixLayout();\r\n};\r\n\r\nMenuItemMorph.prototype.fixLayout = function () {\r\n    var cntr = this.center();\r\n    this.label.setCenter(cntr);\r\n    this.label.setLeft(this.left() + 4);\r\n    if (this.shortcut) {\r\n        this.shortcut.setCenter(cntr);\r\n        this.shortcut.setRight(this.right() - 4);\r\n    }\r\n};\r\n\r\nMenuItemMorph.prototype.createLabelPart = function (source) {\r\n    var part, icon, lbl;\r\n    if (isString(source)) {\r\n        return this.createLabelString(source);\r\n    }\r\n    if (source instanceof Array) {\r\n        // assume its pattern is: [icon, string]\r\n        part = new Morph();\r\n        part.alpha = 0; // transparent\r\n        icon = this.createIcon(source[0]);\r\n        part.add(icon);\r\n        lbl = this.createLabelString(source[1]);\r\n        part.add(lbl);\r\n        lbl.setCenter(icon.center());\r\n        lbl.setLeft(icon.right() + 4);\r\n        part.bounds = (icon.bounds.merge(lbl.bounds));\r\n        part.drawNew();\r\n        return part;\r\n    }\r\n    // assume it's either a Morph or a Canvas\r\n    return this.createIcon(source);\r\n};\r\n\r\nMenuItemMorph.prototype.createIcon = function (source) {\r\n    // source can be either a Morph or an HTMLCanvasElement\r\n    var icon = new Morph(),\r\n        src;\r\n    icon.image = source instanceof Morph ? source.fullImage() : source;\r\n    // adjust shadow dimensions\r\n    if (source instanceof Morph && source.getShadow()) {\r\n        src = icon.image;\r\n        icon.image = newCanvas(\r\n            source.fullBounds().extent().subtract(\r\n                this.shadowBlur * (useBlurredShadows ? 1 : 2)\r\n            )\r\n        );\r\n        icon.image.getContext('2d').drawImage(src, 0, 0);\r\n    }\r\n    icon.silentSetWidth(icon.image.width);\r\n    icon.silentSetHeight(icon.image.height);\r\n    return icon;\r\n};\r\n\r\nMenuItemMorph.prototype.createLabelString = function (string) {\r\n    var lbl = new TextMorph(\r\n        string,\r\n        this.fontSize,\r\n        this.fontStyle,\r\n        this.labelBold,\r\n        this.labelItalic\r\n    );\r\n    lbl.setColor(this.labelColor);\r\n    return lbl;\r\n};\r\n\r\n// MenuItemMorph events:\r\n\r\nMenuItemMorph.prototype.mouseEnter = function () {\r\n    var menu = this.parentThatIsA(MenuMorph);\r\n    if (this.isShowingSubmenu()) {\r\n        return;\r\n    }\r\n    if (menu) {\r\n        menu.closeSubmenu();\r\n    }\r\n    if (!this.isListItem()) {\r\n        this.image = this.highlightImage;\r\n        this.changed();\r\n    }\r\n    if (this.action instanceof MenuMorph) {\r\n        this.delaySubmenu();\r\n    } else if (this.hint) {\r\n        this.bubbleHelp(this.hint);\r\n    }\r\n};\r\n\r\nMenuItemMorph.prototype.mouseLeave = function () {\r\n    if (!this.isListItem()) {\r\n        if (this.isShowingSubmenu()) {\r\n            this.image = this.highlightImage;\r\n        } else {\r\n            this.image = this.normalImage;\r\n        }\r\n        this.changed();\r\n    }\r\n    if (this.schedule) {\r\n        this.schedule.isActive = false;\r\n    }\r\n    if (this.hint) {\r\n        this.world().hand.destroyTemporaries();\r\n    }\r\n};\r\n\r\nMenuItemMorph.prototype.mouseDownLeft = function (pos) {\r\n    if (this.isListItem()) {\r\n        this.parent.unselectAllItems();\r\n        this.escalateEvent('mouseDownLeft', pos);\r\n    }\r\n    this.image = this.pressImage;\r\n    this.changed();\r\n};\r\n\r\nMenuItemMorph.prototype.mouseMove = function () {\r\n    if (this.isListItem()) {\r\n        this.escalateEvent('mouseMove');\r\n    }\r\n};\r\n\r\nMenuItemMorph.prototype.mouseClickLeft = function () {\r\n    if (this.action instanceof MenuMorph) {\r\n        this.popUpSubmenu();\r\n    } else {\r\n        if (!this.isListItem()) {\r\n            this.parent.closeRootMenu();\r\n            this.world().activeMenu = null;\r\n        }\r\n        this.trigger();\r\n    }\r\n};\r\n\r\nMenuItemMorph.prototype.isListItem = function () {\r\n    if (this.parent) {\r\n        return this.parent.isListContents;\r\n    }\r\n    return false;\r\n};\r\n\r\nMenuItemMorph.prototype.isSelectedListItem = function () {\r\n    if (this.isListItem()) {\r\n        return this.image === this.pressImage;\r\n    }\r\n    return false;\r\n};\r\n\r\nMenuItemMorph.prototype.isShowingSubmenu = function () {\r\n    var menu = this.parentThatIsA(MenuMorph);\r\n    if (menu && (this.action instanceof MenuMorph)) {\r\n        return menu.submenu === this.action;\r\n    }\r\n    return false;\r\n};\r\n\r\n// MenuItemMorph submenus:\r\n\r\nMenuItemMorph.prototype.delaySubmenu = function () {\r\n    var world = this.world(),\r\n        myself = this;\r\n    this.schedule = new Animation(\r\n        nop,\r\n        nop,\r\n        0,\r\n        500,\r\n        nop,\r\n        function () {myself.popUpSubmenu(); }\r\n    );\r\n    world.animations.push(this.schedule);\r\n};\r\n\r\nMenuItemMorph.prototype.popUpSubmenu = function () {\r\n    var menu = this.parentThatIsA(MenuMorph);\r\n    if (!(this.action instanceof MenuMorph)) {return; }\r\n    this.action.drawNew();\r\n    this.action.setPosition(this.topRight().subtract(new Point(0, 5)));\r\n    this.action.addShadow(new Point(2, 2), 80);\r\n    this.action.keepWithin(this.world());\r\n    if (this.action.items.length < 1 && !this.action.title) {return; }\r\n    menu.add(this.action);\r\n    menu.submenu = this.action;\r\n    menu.submenu.world = menu.world; // keyboard control\r\n    this.action.fullChanged();\r\n};\r\n\r\n// FrameMorph //////////////////////////////////////////////////////////\r\n\r\n// I clip my submorphs at my bounds\r\n\r\n// Frames inherit from Morph:\r\n\r\nFrameMorph.prototype = new Morph();\r\nFrameMorph.prototype.constructor = FrameMorph;\r\nFrameMorph.uber = Morph.prototype;\r\n\r\nfunction FrameMorph(aScrollFrame) {\r\n    this.init(aScrollFrame);\r\n}\r\n\r\nFrameMorph.prototype.init = function (aScrollFrame) {\r\n    this.scrollFrame = aScrollFrame || null;\r\n\r\n    FrameMorph.uber.init.call(this);\r\n    this.color = new Color(255, 250, 245);\r\n    this.drawNew();\r\n    this.acceptsDrops = true;\r\n\r\n    if (this.scrollFrame) {\r\n        this.isDraggable = false;\r\n        this.noticesTransparentClick = false;\r\n        this.alpha = 0;\r\n    }\r\n};\r\n\r\nFrameMorph.prototype.fullBounds = function () {\r\n    var shadow = this.getShadow();\r\n    if (shadow !== null) {\r\n        return this.bounds.merge(shadow.bounds);\r\n    }\r\n    return this.bounds;\r\n};\r\n\r\nFrameMorph.prototype.fullImage = function () {\r\n    // use only for shadows\r\n    return this.image;\r\n};\r\n\r\nFrameMorph.prototype.fullDrawOn = function (aCanvas, aRect) {\r\n    var rectangle, dirty;\r\n    if (!this.isVisible) {\r\n        return null;\r\n    }\r\n    rectangle = aRect || this.fullBounds();\r\n    dirty = this.bounds.intersect(rectangle);\r\n    if (!dirty.extent().gt(new Point(0, 0))) {\r\n        return null;\r\n    }\r\n    this.drawOn(aCanvas, dirty);\r\n    this.children.forEach(function (child) {\r\n        if (child instanceof ShadowMorph) {\r\n            child.fullDrawOn(aCanvas, rectangle);\r\n        } else {\r\n            child.fullDrawOn(aCanvas, dirty);\r\n        }\r\n    });\r\n};\r\n\r\n// FrameMorph navigation:\r\n\r\nFrameMorph.prototype.topMorphAt = function (point) {\r\n    var i, result;\r\n    if (!(this.isVisible && this.bounds.containsPoint(point))) {\r\n        return null;\r\n    }\r\n    for (i = this.children.length - 1; i >= 0; i -= 1) {\r\n        result = this.children[i].topMorphAt(point);\r\n        if (result) {return result; }\r\n    }\r\n    return this.noticesTransparentClick ||\r\n        !this.isTransparentAt(point) ? this : null;\r\n};\r\n\r\n// FrameMorph scrolling support:\r\n\r\nFrameMorph.prototype.submorphBounds = function () {\r\n    var result = null;\r\n\r\n    if (this.children.length > 0) {\r\n        result = this.children[0].bounds;\r\n        this.children.forEach(function (child) {\r\n            result = result.merge(child.fullBounds());\r\n        });\r\n    }\r\n    return result;\r\n};\r\n\r\nFrameMorph.prototype.keepInScrollFrame = function () {\r\n    if (this.scrollFrame === null) {\r\n        return null;\r\n    }\r\n    if (this.left() > this.scrollFrame.left()) {\r\n        this.moveBy(\r\n            new Point(this.scrollFrame.left() - this.left(), 0)\r\n        );\r\n    }\r\n    if (this.right() < this.scrollFrame.right()) {\r\n        this.moveBy(\r\n            new Point(this.scrollFrame.right() - this.right(), 0)\r\n        );\r\n    }\r\n    if (this.top() > this.scrollFrame.top()) {\r\n        this.moveBy(\r\n            new Point(0, this.scrollFrame.top() - this.top())\r\n        );\r\n    }\r\n    if (this.bottom() < this.scrollFrame.bottom()) {\r\n        this.moveBy(\r\n            0,\r\n            new Point(this.scrollFrame.bottom() - this.bottom(), 0)\r\n        );\r\n    }\r\n};\r\n\r\nFrameMorph.prototype.adjustBounds = function () {\r\n    var subBounds,\r\n        newBounds,\r\n        myself = this;\r\n\r\n    if (this.scrollFrame === null) {\r\n        return null;\r\n    }\r\n\r\n    subBounds = this.submorphBounds();\r\n    if (subBounds && (!this.scrollFrame.isTextLineWrapping)) {\r\n        newBounds = subBounds\r\n            .expandBy(this.scrollFrame.padding)\r\n            .growBy(this.scrollFrame.growth)\r\n            .merge(this.scrollFrame.bounds);\r\n    } else {\r\n        newBounds = this.scrollFrame.bounds.copy();\r\n    }\r\n    if (!this.bounds.eq(newBounds)) {\r\n        this.bounds = newBounds;\r\n        this.drawNew();\r\n        this.keepInScrollFrame();\r\n    }\r\n\r\n    if (this.scrollFrame.isTextLineWrapping) {\r\n        this.children.forEach(function (morph) {\r\n            if (morph instanceof TextMorph) {\r\n                morph.setWidth(myself.width());\r\n                myself.setHeight(\r\n                    Math.max(morph.height(), myself.scrollFrame.height())\r\n                );\r\n            }\r\n        });\r\n    }\r\n\r\n    this.scrollFrame.adjustScrollBars();\r\n};\r\n\r\n// FrameMorph dragging & dropping of contents:\r\n\r\nFrameMorph.prototype.reactToDropOf = function () {\r\n    this.adjustBounds();\r\n};\r\n\r\nFrameMorph.prototype.reactToGrabOf = function () {\r\n    this.adjustBounds();\r\n};\r\n\r\n// FrameMorph menus:\r\n\r\nFrameMorph.prototype.developersMenu = function () {\r\n    var menu = FrameMorph.uber.developersMenu.call(this);\r\n    if (this.children.length > 0) {\r\n        menu.addLine();\r\n        menu.addItem(\r\n            \"move all inside...\",\r\n            'keepAllSubmorphsWithin',\r\n            'keep all submorphs\\nwithin and visible'\r\n        );\r\n    }\r\n    return menu;\r\n};\r\n\r\nFrameMorph.prototype.keepAllSubmorphsWithin = function () {\r\n    var myself = this;\r\n    this.children.forEach(function (m) {\r\n        m.keepWithin(myself);\r\n    });\r\n};\r\n\r\n// ScrollFrameMorph ////////////////////////////////////////////////////\r\n\r\nScrollFrameMorph.prototype = new FrameMorph();\r\nScrollFrameMorph.prototype.constructor = ScrollFrameMorph;\r\nScrollFrameMorph.uber = FrameMorph.prototype;\r\n\r\nfunction ScrollFrameMorph(scroller, size, sliderColor) {\r\n    this.init(scroller, size, sliderColor);\r\n}\r\n\r\nScrollFrameMorph.prototype.init = function (scroller, size, sliderColor) {\r\n    var myself = this;\r\n\r\n    ScrollFrameMorph.uber.init.call(this);\r\n    this.scrollBarSize = size || MorphicPreferences.scrollBarSize;\r\n    this.autoScrollTrigger = null;\r\n    this.enableAutoScrolling = true; // change to suppress\r\n    this.isScrollingByDragging = true; // change to suppress\r\n    this.hasVelocity = true; // dto.\r\n    this.padding = 0; // around the scrollable area\r\n    this.growth = 0; // pixels or Point to grow right/left when near edge\r\n    this.isTextLineWrapping = false;\r\n    this.contents = scroller || new FrameMorph(this);\r\n    this.add(this.contents);\r\n    this.hBar = new SliderMorph(\r\n        null, // start\r\n        null, // stop\r\n        null, // value\r\n        null, // size\r\n        'horizontal',\r\n        sliderColor\r\n    );\r\n    this.hBar.setHeight(this.scrollBarSize);\r\n    this.hBar.action = function (num) {\r\n        myself.contents.setPosition(\r\n            new Point(\r\n                myself.left() - num,\r\n                myself.contents.position().y\r\n            )\r\n        );\r\n    };\r\n    this.hBar.isDraggable = false;\r\n    this.add(this.hBar);\r\n    this.vBar = new SliderMorph(\r\n        null, // start\r\n        null, // stop\r\n        null, // value\r\n        null, // size\r\n        'vertical',\r\n        sliderColor\r\n    );\r\n    this.vBar.setWidth(this.scrollBarSize);\r\n    this.vBar.action = function (num) {\r\n        myself.contents.setPosition(\r\n            new Point(\r\n                myself.contents.position().x,\r\n                myself.top() - num\r\n            )\r\n        );\r\n    };\r\n    this.vBar.isDraggable = false;\r\n    this.add(this.vBar);\r\n    this.toolBar = null; // optional slot\r\n};\r\n\r\nScrollFrameMorph.prototype.adjustScrollBars = function () {\r\n    var hWidth = this.width() - this.scrollBarSize,\r\n        vHeight = this.height() - this.scrollBarSize;\r\n\r\n    this.changed();\r\n    if (this.contents.width() > this.width() +\r\n            MorphicPreferences.scrollBarSize) {\r\n        this.hBar.show();\r\n        if (this.hBar.width() !== hWidth) {\r\n            this.hBar.setWidth(hWidth);\r\n        }\r\n\r\n        this.hBar.setPosition(\r\n            new Point(\r\n                this.left(),\r\n                this.bottom() - this.hBar.height()\r\n            )\r\n        );\r\n        this.hBar.start = 0;\r\n        this.hBar.stop = this.contents.width() - this.width();\r\n        this.hBar.size =\r\n            this.width() / this.contents.width() * this.hBar.stop;\r\n        this.hBar.value = this.left() - this.contents.left();\r\n        this.hBar.drawNew();\r\n    } else {\r\n        this.hBar.hide();\r\n    }\r\n\r\n    if (this.contents.height() > this.height() +\r\n            this.scrollBarSize) {\r\n        this.vBar.show();\r\n        if (this.vBar.height() !== vHeight) {\r\n            this.vBar.setHeight(vHeight);\r\n        }\r\n\r\n        this.vBar.setPosition(\r\n            new Point(\r\n                this.right() - this.vBar.width(),\r\n                this.top()\r\n            )\r\n        );\r\n        this.vBar.start = 0;\r\n        this.vBar.stop = this.contents.height() - this.height();\r\n        this.vBar.size =\r\n            this.height() / this.contents.height() * this.vBar.stop;\r\n        this.vBar.value = this.top() - this.contents.top();\r\n        this.vBar.drawNew();\r\n    } else {\r\n        this.vBar.hide();\r\n    }\r\n    this.adjustToolBar();\r\n};\r\n\r\nScrollFrameMorph.prototype.adjustToolBar = function () {\r\n    var padding = 3;\r\n    if (this.toolBar) {\r\n        this.toolBar.setTop(this.top() + padding);\r\n        this.toolBar.setRight(\r\n            (this.vBar.isVisible ? this.vBar.left() : this.right()) - padding\r\n        );\r\n    }\r\n};\r\n\r\nScrollFrameMorph.prototype.addContents = function (aMorph) {\r\n    this.contents.add(aMorph);\r\n    this.contents.adjustBounds();\r\n};\r\n\r\nScrollFrameMorph.prototype.setContents = function (aMorph) {\r\n    this.contents.children.forEach(function (m) {\r\n        m.destroy();\r\n    });\r\n    this.contents.children = [];\r\n    aMorph.setPosition(this.position().add(this.padding + 2));\r\n    this.addContents(aMorph);\r\n};\r\n\r\nScrollFrameMorph.prototype.setExtent = function (aPoint) {\r\n    if (this.isTextLineWrapping) {\r\n        this.contents.setPosition(this.position().copy());\r\n    }\r\n    ScrollFrameMorph.uber.setExtent.call(this, aPoint);\r\n    this.contents.adjustBounds();\r\n};\r\n\r\n// ScrollFrameMorph scrolling by dragging:\r\n\r\nScrollFrameMorph.prototype.scrollX = function (steps) {\r\n    var cl = this.contents.left(),\r\n        l = this.left(),\r\n        cw = this.contents.width(),\r\n        r = this.right(),\r\n        newX;\r\n\r\n    newX = cl + steps;\r\n    if (newX + cw < r) {\r\n        newX = r - cw;\r\n    }\r\n    if (newX > l) {\r\n        newX = l;\r\n    }\r\n    if (newX !== cl) {\r\n        this.contents.setLeft(newX);\r\n    }\r\n};\r\n\r\nScrollFrameMorph.prototype.scrollY = function (steps) {\r\n    var ct = this.contents.top(),\r\n        t = this.top(),\r\n        ch = this.contents.height(),\r\n        b = this.bottom(),\r\n        newY;\r\n\r\n    newY = ct + steps;\r\n    if (newY + ch < b) {\r\n        newY = b - ch;\r\n    }\r\n    if (newY > t) {\r\n        newY = t;\r\n    }\r\n    if (newY !== ct) {\r\n        this.contents.setTop(newY);\r\n    }\r\n};\r\n\r\nScrollFrameMorph.prototype.step = nop;\r\n\r\nScrollFrameMorph.prototype.mouseDownLeft = function (pos) {\r\n    if (!this.isScrollingByDragging) {\r\n        return null;\r\n    }\r\n    var world = this.root(),\r\n        hand = world.hand,\r\n        oldPos = pos,\r\n        myself = this,\r\n        deltaX = 0,\r\n        deltaY = 0,\r\n        friction = 0.8;\r\n\r\n    this.step = function () {\r\n        var newPos;\r\n        if (hand.mouseButton &&\r\n                (hand.children.length === 0) &&\r\n                (myself.bounds.containsPoint(hand.bounds.origin))) {\r\n\r\n            if (hand.grabPosition &&\r\n                (hand.grabPosition.distanceTo(hand.position()) <=\r\n                    MorphicPreferences.grabThreshold)) {\r\n                // still within the grab threshold\r\n                return null;\r\n            }\r\n\r\n            newPos = hand.bounds.origin;\r\n            deltaX = newPos.x - oldPos.x;\r\n            if (deltaX !== 0) {\r\n                myself.scrollX(deltaX);\r\n            }\r\n            deltaY = newPos.y - oldPos.y;\r\n            if (deltaY !== 0) {\r\n                myself.scrollY(deltaY);\r\n            }\r\n            oldPos = newPos;\r\n        } else {\r\n            if (!myself.hasVelocity) {\r\n                myself.step = function () {\r\n                    nop();\r\n                };\r\n            } else {\r\n                if ((Math.abs(deltaX) < 0.5) &&\r\n                        (Math.abs(deltaY) < 0.5)) {\r\n                    myself.step = function () {\r\n                        nop();\r\n                    };\r\n                } else {\r\n                    deltaX = deltaX * friction;\r\n                    myself.scrollX(Math.round(deltaX));\r\n                    deltaY = deltaY * friction;\r\n                    myself.scrollY(Math.round(deltaY));\r\n                }\r\n            }\r\n        }\r\n        this.adjustScrollBars();\r\n    };\r\n};\r\n\r\nScrollFrameMorph.prototype.startAutoScrolling = function () {\r\n    var myself = this,\r\n        inset = MorphicPreferences.scrollBarSize * 3,\r\n        world = this.world(),\r\n        hand,\r\n        inner,\r\n        pos;\r\n\r\n    if (!world) {\r\n        return null;\r\n    }\r\n    hand = world.hand;\r\n    if (!this.autoScrollTrigger) {\r\n        this.autoScrollTrigger = Date.now();\r\n    }\r\n    this.step = function () {\r\n        pos = hand.bounds.origin;\r\n        inner = myself.bounds.insetBy(inset);\r\n        if ((myself.bounds.containsPoint(pos)) &&\r\n                (!(inner.containsPoint(pos))) &&\r\n                (hand.children.length > 0)) {\r\n            myself.autoScroll(pos);\r\n        } else {\r\n            myself.step = function () {\r\n                nop();\r\n            };\r\n            myself.autoScrollTrigger = null;\r\n        }\r\n    };\r\n};\r\n\r\nScrollFrameMorph.prototype.autoScroll = function (pos) {\r\n    var inset, area;\r\n\r\n    if (Date.now() - this.autoScrollTrigger < 500) {\r\n        return null;\r\n    }\r\n\r\n    inset = MorphicPreferences.scrollBarSize * 3;\r\n    area = this.topLeft().extent(new Point(this.width(), inset));\r\n    if (area.containsPoint(pos)) {\r\n        this.scrollY(inset - (pos.y - this.top()));\r\n    }\r\n    area = this.topLeft().extent(new Point(inset, this.height()));\r\n    if (area.containsPoint(pos)) {\r\n        this.scrollX(inset - (pos.x - this.left()));\r\n    }\r\n    area = (new Point(this.right() - inset, this.top()))\r\n        .extent(new Point(inset, this.height()));\r\n    if (area.containsPoint(pos)) {\r\n        this.scrollX(-(inset - (this.right() - pos.x)));\r\n    }\r\n    area = (new Point(this.left(), this.bottom() - inset))\r\n        .extent(new Point(this.width(), inset));\r\n    if (area.containsPoint(pos)) {\r\n        this.scrollY(-(inset - (this.bottom() - pos.y)));\r\n    }\r\n    this.adjustScrollBars();\r\n};\r\n\r\n// ScrollFrameMorph scrolling by editing text:\r\n\r\nScrollFrameMorph.prototype.scrollCursorIntoView = function (morph) {\r\n    var txt = morph.target,\r\n        offset = txt.position().subtract(this.contents.position()),\r\n        ft = this.top() + this.padding,\r\n        fb = this.bottom() - this.padding;\r\n    this.contents.setExtent(txt.extent().add(offset).add(this.padding));\r\n    if (morph.top() < ft) {\r\n        this.contents.setTop(this.contents.top() + ft - morph.top());\r\n        morph.setTop(ft);\r\n    } else if (morph.bottom() > fb) {\r\n        this.contents.setBottom(this.contents.bottom() + fb - morph.bottom());\r\n        morph.setBottom(fb);\r\n    }\r\n    this.adjustScrollBars();\r\n};\r\n\r\n// ScrollFrameMorph events:\r\n\r\nScrollFrameMorph.prototype.mouseScroll = function (y, x) {\r\n    if (y) {\r\n        this.scrollY(y * MorphicPreferences.mouseScrollAmount);\r\n    }\r\n    if (x) {\r\n        this.scrollX(x * MorphicPreferences.mouseScrollAmount);\r\n    }\r\n    this.adjustScrollBars();\r\n};\r\n\r\n// ScrollFrameMorph duplicating:\r\n\r\nScrollFrameMorph.prototype.updateReferences = function (map) {\r\n    var myself = this;\r\n    ScrollFrameMorph.uber.updateReferences.call(this, map);\r\n    if (this.hBar) {\r\n        this.hBar.action = function (num) {\r\n            myself.contents.setPosition(\r\n                new Point(myself.left() - num, myself.contents.position().y)\r\n            );\r\n        };\r\n    }\r\n    if (this.vBar) {\r\n        this.vBar.action = function (num) {\r\n            myself.contents.setPosition(\r\n                new Point(myself.contents.position().x, myself.top() - num)\r\n            );\r\n        };\r\n    }\r\n};\r\n\r\n// ScrollFrameMorph menu:\r\n\r\nScrollFrameMorph.prototype.developersMenu = function () {\r\n    var menu = ScrollFrameMorph.uber.developersMenu.call(this);\r\n    if (this.isTextLineWrapping) {\r\n        menu.addItem(\r\n            \"auto line wrap off...\",\r\n            'toggleTextLineWrapping',\r\n            'turn automatic\\nline wrapping\\noff'\r\n        );\r\n    } else {\r\n        menu.addItem(\r\n            \"auto line wrap on...\",\r\n            'toggleTextLineWrapping',\r\n            'enable automatic\\nline wrapping'\r\n        );\r\n    }\r\n    return menu;\r\n};\r\n\r\nScrollFrameMorph.prototype.toggleTextLineWrapping = function () {\r\n    this.isTextLineWrapping = !this.isTextLineWrapping;\r\n};\r\n\r\n// ListMorph ///////////////////////////////////////////////////////////\r\n\r\nListMorph.prototype = new ScrollFrameMorph();\r\nListMorph.prototype.constructor = ListMorph;\r\nListMorph.uber = ScrollFrameMorph.prototype;\r\n\r\nfunction ListMorph(elements, labelGetter, format, doubleClickAction) {\r\n/*\r\n    passing a format is optional. If the format parameter is specified\r\n    it has to be of the following pattern:\r\n\r\n        [\r\n            [<color>, <single-argument predicate>],\r\n            ['bold', <single-argument predicate>],\r\n            ['italic', <single-argument predicate>],\r\n            ...\r\n        ]\r\n\r\n    multiple conditions can be passed in such a format list, the\r\n    last predicate to evaluate true when given the list element sets\r\n    the given format category (color, bold, italic).\r\n    If no condition is met, the default format (color black, non-bold,\r\n    non-italic) will be assigned.\r\n\r\n    An example of how to use fomats can be found in the InspectorMorph's\r\n    \"markOwnProperties\" mechanism.\r\n*/\r\n    this.init(\r\n        elements || [],\r\n        labelGetter || function (element) {\r\n            if (isString(element)) {\r\n                return element;\r\n            }\r\n            if (element.toSource) {\r\n                return element.toSource();\r\n            }\r\n            return element.toString();\r\n        },\r\n        format || [],\r\n        doubleClickAction // optional callback\r\n    );\r\n}\r\n\r\nListMorph.prototype.init = function (\r\n    elements,\r\n    labelGetter,\r\n    format,\r\n    doubleClickAction\r\n) {\r\n    ListMorph.uber.init.call(this);\r\n\r\n    this.contents.acceptsDrops = false;\r\n    this.color = new Color(255, 255, 255);\r\n    this.hBar.alpha = 0.6;\r\n    this.vBar.alpha = 0.6;\r\n    this.elements = elements || [];\r\n    this.labelGetter = labelGetter;\r\n    this.format = format;\r\n    this.listContents = null;\r\n    this.selected = null; // actual element currently selected\r\n    this.active = null; // menu item representing the selected element\r\n    this.action = null;\r\n    this.doubleClickAction = doubleClickAction || null;\r\n    this.acceptsDrops = false;\r\n    this.buildListContents();\r\n};\r\n\r\nListMorph.prototype.buildListContents = function () {\r\n    var myself = this;\r\n    if (this.listContents) {\r\n        this.listContents.destroy();\r\n    }\r\n    this.listContents = new MenuMorph(\r\n        this.select,\r\n        null,\r\n        this\r\n    );\r\n    if (this.elements.length === 0) {\r\n        this.elements = ['(empty)'];\r\n    }\r\n    this.elements.forEach(function (element) {\r\n        var color = null,\r\n            bold = false,\r\n            italic = false;\r\n\r\n        myself.format.forEach(function (pair) {\r\n            if (pair[1].call(null, element)) {\r\n                if (pair[0] === 'bold') {\r\n                    bold = true;\r\n                } else if (pair[0] === 'italic') {\r\n                    italic = true;\r\n                } else { // assume it's a color\r\n                    color = pair[0];\r\n                }\r\n            }\r\n        });\r\n        myself.listContents.addItem(\r\n            myself.labelGetter(element), // label string\r\n            element, // action\r\n            null, // hint\r\n            color,\r\n            bold,\r\n            italic,\r\n            myself.doubleClickAction\r\n        );\r\n    });\r\n    this.listContents.isListContents = true;\r\n    this.listContents.drawNew();\r\n    this.listContents.setPosition(this.contents.position());\r\n    this.addContents(this.listContents);\r\n};\r\n\r\nListMorph.prototype.select = function (item, trigger) {\r\n    if (isNil(item)) {return; }\r\n    this.selected = item;\r\n    this.active = trigger;\r\n    if (this.action) {\r\n        this.action.call(null, item);\r\n    }\r\n};\r\n\r\nListMorph.prototype.setExtent = function (aPoint) {\r\n    var lb = this.listContents.bounds,\r\n        nb = this.bounds.origin.copy().corner(\r\n            this.bounds.origin.add(aPoint)\r\n        );\r\n\r\n    if (nb.right() > lb.right() && nb.width() <= lb.width()) {\r\n        this.listContents.setRight(nb.right());\r\n    }\r\n    if (nb.bottom() > lb.bottom() && nb.height() <= lb.height()) {\r\n        this.listContents.setBottom(nb.bottom());\r\n    }\r\n    ListMorph.uber.setExtent.call(this, aPoint);\r\n};\r\n\r\nListMorph.prototype.activeIndex = function () {\r\n    return this.listContents.children.indexOf(this.active);\r\n};\r\n\r\nListMorph.prototype.activateIndex = function (idx) {\r\n    var item = this.listContents.children[idx];\r\n    if (!item) {return; }\r\n    item.image = item.pressImage;\r\n    item.changed();\r\n    item.trigger();\r\n};\r\n\r\n// StringFieldMorph ////////////////////////////////////////////////////\r\n\r\n// StringFieldMorph inherit from FrameMorph:\r\n\r\nStringFieldMorph.prototype = new FrameMorph();\r\nStringFieldMorph.prototype.constructor = StringFieldMorph;\r\nStringFieldMorph.uber = FrameMorph.prototype;\r\n\r\nfunction StringFieldMorph(\r\n    defaultContents,\r\n    minWidth,\r\n    fontSize,\r\n    fontStyle,\r\n    bold,\r\n    italic,\r\n    isNumeric\r\n) {\r\n    this.init(\r\n        defaultContents || '',\r\n        minWidth || 100,\r\n        fontSize || 12,\r\n        fontStyle || 'sans-serif',\r\n        bold || false,\r\n        italic || false,\r\n        isNumeric\r\n    );\r\n}\r\n\r\nStringFieldMorph.prototype.init = function (\r\n    defaultContents,\r\n    minWidth,\r\n    fontSize,\r\n    fontStyle,\r\n    bold,\r\n    italic,\r\n    isNumeric\r\n) {\r\n    this.defaultContents = defaultContents;\r\n    this.minWidth = minWidth;\r\n    this.fontSize = fontSize;\r\n    this.fontStyle = fontStyle;\r\n    this.isBold = bold;\r\n    this.isItalic = italic;\r\n    this.isNumeric = isNumeric || false;\r\n    this.text = null;\r\n    StringFieldMorph.uber.init.call(this);\r\n    this.color = new Color(255, 255, 255);\r\n    this.isEditable = true;\r\n    this.acceptsDrops = false;\r\n    this.drawNew();\r\n};\r\n\r\nStringFieldMorph.prototype.drawNew = function () {\r\n    var txt;\r\n    txt = this.text ? this.string() : this.defaultContents;\r\n    this.text = null;\r\n    this.children.forEach(function (child) {\r\n        child.destroy();\r\n    });\r\n    this.children = [];\r\n    this.text = new StringMorph(\r\n        txt,\r\n        this.fontSize,\r\n        this.fontStyle,\r\n        this.isBold,\r\n        this.isItalic,\r\n        this.isNumeric\r\n    );\r\n\r\n    this.text.isNumeric = this.isNumeric; // for whichever reason...\r\n    this.text.setPosition(this.bounds.origin.copy());\r\n    this.text.isEditable = this.isEditable;\r\n    this.text.isDraggable = false;\r\n    this.text.enableSelecting();\r\n    this.silentSetExtent(\r\n        new Point(\r\n            Math.max(this.width(), this.minWidth),\r\n            this.text.height()\r\n        )\r\n    );\r\n    StringFieldMorph.uber.drawNew.call(this);\r\n    this.add(this.text);\r\n};\r\n\r\nStringFieldMorph.prototype.string = function () {\r\n    return this.text.text;\r\n};\r\n\r\nStringFieldMorph.prototype.mouseClickLeft = function (pos) {\r\n    if (this.isEditable) {\r\n        this.text.edit();\r\n    } else {\r\n        this.escalateEvent('mouseClickLeft', pos);\r\n    }\r\n};\r\n\r\n// BouncerMorph ////////////////////////////////////////////////////////\r\n\r\n// I am a Demo of a stepping custom Morph\r\n\r\nvar BouncerMorph;\r\n\r\n// Bouncers inherit from Morph:\r\n\r\nBouncerMorph.prototype = new Morph();\r\nBouncerMorph.prototype.constructor = BouncerMorph;\r\nBouncerMorph.uber = Morph.prototype;\r\n\r\n// BouncerMorph instance creation:\r\n\r\nfunction BouncerMorph() {\r\n    this.init();\r\n}\r\n\r\n// BouncerMorph initialization:\r\n\r\nBouncerMorph.prototype.init = function (type, speed) {\r\n    BouncerMorph.uber.init.call(this);\r\n    this.fps = 50;\r\n\r\n    // additional properties:\r\n    this.isStopped = false;\r\n    this.type = type || 'vertical';\r\n    if (this.type === 'vertical') {\r\n        this.direction = 'down';\r\n    } else {\r\n        this.direction = 'right';\r\n    }\r\n    this.speed = speed || 1;\r\n};\r\n\r\n// BouncerMorph moving:\r\n\r\nBouncerMorph.prototype.moveUp = function () {\r\n    this.moveBy(new Point(0, -this.speed));\r\n};\r\n\r\nBouncerMorph.prototype.moveDown = function () {\r\n    this.moveBy(new Point(0, this.speed));\r\n};\r\n\r\nBouncerMorph.prototype.moveRight = function () {\r\n    this.moveBy(new Point(this.speed, 0));\r\n};\r\n\r\nBouncerMorph.prototype.moveLeft = function () {\r\n    this.moveBy(new Point(-this.speed, 0));\r\n};\r\n\r\n// BouncerMorph stepping:\r\n\r\nBouncerMorph.prototype.step = function () {\r\n    if (!this.isStopped) {\r\n        if (this.type === 'vertical') {\r\n            if (this.direction === 'down') {\r\n                this.moveDown();\r\n            } else {\r\n                this.moveUp();\r\n            }\r\n            if (this.fullBounds().top() < this.parent.top() &&\r\n                    this.direction === 'up') {\r\n                this.direction = 'down';\r\n            }\r\n            if (this.fullBounds().bottom() > this.parent.bottom() &&\r\n                    this.direction === 'down') {\r\n                this.direction = 'up';\r\n            }\r\n        } else if (this.type === 'horizontal') {\r\n            if (this.direction === 'right') {\r\n                this.moveRight();\r\n            } else {\r\n                this.moveLeft();\r\n            }\r\n            if (this.fullBounds().left() < this.parent.left() &&\r\n                    this.direction === 'left') {\r\n                this.direction = 'right';\r\n            }\r\n            if (this.fullBounds().right() > this.parent.right() &&\r\n                    this.direction === 'right') {\r\n                this.direction = 'left';\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\n// HandMorph ///////////////////////////////////////////////////////////\r\n\r\n// I represent the Mouse cursor\r\n\r\n// HandMorph inherits from Morph:\r\n\r\nHandMorph.prototype = new Morph();\r\nHandMorph.prototype.constructor = HandMorph;\r\nHandMorph.uber = Morph.prototype;\r\n\r\n// HandMorph instance creation:\r\n\r\nfunction HandMorph(aWorld) {\r\n    this.init(aWorld);\r\n}\r\n\r\n// HandMorph initialization:\r\n\r\nHandMorph.prototype.init = function (aWorld) {\r\n    HandMorph.uber.init.call(this, true);\r\n    this.bounds = new Rectangle();\r\n\r\n    // additional properties:\r\n    this.world = aWorld;\r\n    this.mouseButton = null;\r\n    this.mouseOverList = [];\r\n    this.morphToGrab = null;\r\n    this.grabPosition = null;\r\n    this.grabOrigin = null;\r\n    this.temporaries = [];\r\n    this.touchHoldTimeout = null;\r\n    this.contextMenuEnabled = false;\r\n};\r\n\r\nHandMorph.prototype.changed = function () {\r\n    var b;\r\n    if (this.world !== null) {\r\n        b = this.fullBounds();\r\n        if (!b.extent().eq(new Point())) {\r\n            this.world.broken.push(b.spread());\r\n        }\r\n    }\r\n};\r\n\r\nHandMorph.prototype.fullChanged = HandMorph.prototype.changed;\r\n\r\n// HandMorph navigation:\r\n\r\nHandMorph.prototype.morphAtPointer = function () {\r\n    return this.world.topMorphAt(this.bounds.origin) || this.world;\r\n};\r\n\r\nHandMorph.prototype.allMorphsAtPointer = function () {\r\n    var morphs = this.world.allChildren(),\r\n        myself = this;\r\n    return morphs.filter(function (m) {\r\n        return m.isVisible &&\r\n            m.visibleBounds().containsPoint(myself.bounds.origin);\r\n    });\r\n};\r\n\r\n// HandMorph dragging and dropping:\r\n/*\r\n    drag 'n' drop events, method(arg) -> receiver:\r\n\r\n        prepareToBeGrabbed(handMorph) -> grabTarget\r\n        reactToGrabOf(grabbedMorph) -> oldParent\r\n        wantsDropOf(morphToDrop) ->  newParent\r\n        justDropped(handMorph) -> droppedMorph\r\n        reactToDropOf(droppedMorph, handMorph) -> newParent\r\n*/\r\n\r\nHandMorph.prototype.dropTargetFor = function (aMorph) {\r\n    var target = this.morphAtPointer();\r\n    while (!target.wantsDropOf(aMorph)) {\r\n        target = target.parent;\r\n    }\r\n    return target;\r\n};\r\n\r\nHandMorph.prototype.grab = function (aMorph) {\r\n    var oldParent = aMorph.parent;\r\n    if (aMorph instanceof WorldMorph) {\r\n        return null;\r\n    }\r\n    if (this.children.length === 0) {\r\n        this.world.stopEditing();\r\n        this.grabOrigin = aMorph.situation();\r\n        aMorph.addShadow();\r\n        if (aMorph.prepareToBeGrabbed) {\r\n            aMorph.prepareToBeGrabbed(this);\r\n        }\r\n        aMorph.cachedFullImage = aMorph.fullImageClassic();\r\n        aMorph.cachedFullBounds = aMorph.fullBounds();\r\n        this.add(aMorph);\r\n        this.changed();\r\n        if (oldParent && oldParent.reactToGrabOf) {\r\n            oldParent.reactToGrabOf(aMorph);\r\n        }\r\n    }\r\n};\r\n\r\nHandMorph.prototype.drop = function () {\r\n    var target, morphToDrop;\r\n    if (this.children.length !== 0) {\r\n        morphToDrop = this.children[0];\r\n        target = this.dropTargetFor(morphToDrop);\r\n        target = target.selectForEdit ? target.selectForEdit() : target;\r\n        this.changed();\r\n        target.add(morphToDrop);\r\n        morphToDrop.cachedFullImage = null;\r\n        morphToDrop.cachedFullBounds = null;\r\n        morphToDrop.changed();\r\n        morphToDrop.removeShadow();\r\n        this.children = [];\r\n        this.setExtent(new Point());\r\n        if (morphToDrop.justDropped) {\r\n            morphToDrop.justDropped(this);\r\n        }\r\n        if (target.reactToDropOf) {\r\n            target.reactToDropOf(morphToDrop, this);\r\n        }\r\n    }\r\n};\r\n\r\n// HandMorph event dispatching:\r\n/*\r\n    mouse events:\r\n\r\n        mouseDownLeft\r\n        mouseDownRight\r\n        mouseClickLeft\r\n        mouseClickRight\r\n        mouseDoubleClick\r\n        mouseEnter\r\n        mouseLeave\r\n        mouseEnterDragging\r\n        mouseLeaveDragging\r\n        mouseMove\r\n        mouseScroll\r\n*/\r\n\r\nHandMorph.prototype.processMouseDown = function (event) {\r\n    var morph, actualClick;\r\n\r\n    this.destroyTemporaries();\r\n    this.contextMenuEnabled = true;\r\n    this.morphToGrab = null;\r\n    this.grabPosition = null;\r\n    if (this.children.length !== 0) {\r\n        this.drop();\r\n        this.mouseButton = null;\r\n    } else {\r\n        morph = this.morphAtPointer();\r\n        if (this.world.activeMenu) {\r\n            if (!contains(\r\n                    morph.allParents(),\r\n                    this.world.activeMenu\r\n                )) {\r\n                this.world.activeMenu.destroy();\r\n            } else {\r\n                clearInterval(this.touchHoldTimeout);\r\n            }\r\n        }\r\n        if (this.world.activeHandle) {\r\n            if (morph !== this.world.activeHandle) {\r\n                this.world.activeHandle.destroy();\r\n            }\r\n        }\r\n        if (this.world.cursor) {\r\n            if (morph !== this.world.cursor.target) {\r\n                this.world.stopEditing();\r\n            }\r\n        }\r\n        if (!morph.mouseMove) {\r\n            this.morphToGrab = morph.rootForGrab();\r\n            this.grabPosition = this.bounds.origin.copy();\r\n        }\r\n        if (event.button === 2 || event.ctrlKey) {\r\n            this.mouseButton = 'right';\r\n            actualClick = 'mouseDownRight';\r\n        } else {\r\n            this.mouseButton = 'left';\r\n            actualClick = 'mouseDownLeft';\r\n        }\r\n        while (!morph[actualClick]) {\r\n            morph = morph.parent;\r\n        }\r\n        morph[actualClick](this.bounds.origin);\r\n    }\r\n};\r\n\r\nHandMorph.prototype.processTouchStart = function (event) {\r\n    var myself = this;\r\n    MorphicPreferences.isTouchDevice = true;\r\n    clearInterval(this.touchHoldTimeout);\r\n    if (event.touches.length === 1) {\r\n        this.touchHoldTimeout = setInterval( // simulate mouseRightClick\r\n            function () {\r\n                myself.processMouseDown({button: 2});\r\n                myself.processMouseUp({button: 2});\r\n                event.preventDefault();\r\n                clearInterval(myself.touchHoldTimeout);\r\n            },\r\n            400\r\n        );\r\n        this.processMouseMove(event.touches[0]); // update my position\r\n        this.processMouseDown({button: 0});\r\n        event.preventDefault();\r\n    }\r\n};\r\n\r\nHandMorph.prototype.processTouchMove = function (event) {\r\n    MorphicPreferences.isTouchDevice = true;\r\n    if (event.touches.length === 1) {\r\n        var touch = event.touches[0];\r\n        this.processMouseMove(touch);\r\n        clearInterval(this.touchHoldTimeout);\r\n    }\r\n};\r\n\r\nHandMorph.prototype.processTouchEnd = function (event) {\r\n    MorphicPreferences.isTouchDevice = true;\r\n    clearInterval(this.touchHoldTimeout);\r\n    nop(event);\r\n    this.processMouseUp({button: 0});\r\n};\r\n\r\nHandMorph.prototype.processMouseUp = function () {\r\n    var morph = this.morphAtPointer(),\r\n        context,\r\n        contextMenu,\r\n        expectedClick;\r\n\r\n    this.destroyTemporaries();\r\n    if (this.children.length !== 0) {\r\n        this.drop();\r\n    } else {\r\n        if (this.mouseButton === 'left') {\r\n            expectedClick = 'mouseClickLeft';\r\n        } else {\r\n            expectedClick = 'mouseClickRight';\r\n            if (this.mouseButton && this.contextMenuEnabled) {\r\n                context = morph;\r\n                contextMenu = context.contextMenu();\r\n                while ((!contextMenu) &&\r\n                        context.parent) {\r\n                    context = context.parent;\r\n                    contextMenu = context.contextMenu();\r\n                }\r\n                if (contextMenu) {\r\n                    contextMenu.popUpAtHand(this.world);\r\n                }\r\n            }\r\n        }\r\n        while (!morph[expectedClick]) {\r\n            morph = morph.parent;\r\n        }\r\n        morph[expectedClick](this.bounds.origin);\r\n    }\r\n    this.mouseButton = null;\r\n};\r\n\r\nHandMorph.prototype.processDoubleClick = function () {\r\n    var morph = this.morphAtPointer();\r\n\r\n    this.destroyTemporaries();\r\n    if (this.children.length !== 0) {\r\n        this.drop();\r\n    } else {\r\n        while (morph && !morph.mouseDoubleClick) {\r\n            morph = morph.parent;\r\n        }\r\n        if (morph) {\r\n            morph.mouseDoubleClick(this.bounds.origin);\r\n        }\r\n    }\r\n    this.mouseButton = null;\r\n};\r\n\r\nHandMorph.prototype.processMouseMove = function (event) {\r\n    var pos,\r\n        posInDocument = getDocumentPositionOf(this.world.worldCanvas),\r\n        mouseOverNew,\r\n        myself = this,\r\n        morph,\r\n        topMorph;\r\n\r\n    pos = new Point(\r\n        event.pageX - posInDocument.x,\r\n        event.pageY - posInDocument.y\r\n    );\r\n\r\n    this.setPosition(pos);\r\n\r\n    // determine the new mouse-over-list:\r\n    // mouseOverNew = this.allMorphsAtPointer();\r\n    mouseOverNew = this.morphAtPointer().allParents();\r\n\r\n    if (!this.children.length && this.mouseButton) {\r\n        topMorph = this.morphAtPointer();\r\n        morph = topMorph.rootForGrab();\r\n        if (topMorph.mouseMove) {\r\n            topMorph.mouseMove(pos, this.mouseButton);\r\n            if (this.mouseButton === 'right') {\r\n                this.contextMenuEnabled = false;\r\n            }\r\n        }\r\n\r\n        // if a morph is marked for grabbing, just grab it\r\n        if (this.mouseButton === 'left' &&\r\n                this.morphToGrab &&\r\n                (this.grabPosition.distanceTo(this.bounds.origin) >\r\n                    MorphicPreferences.grabThreshold)) {\r\n            this.setPosition(this.grabPosition);\r\n            if (this.morphToGrab.isDraggable) {\r\n                morph = this.morphToGrab.selectForEdit ?\r\n                        this.morphToGrab.selectForEdit() : this.morphToGrab;\r\n                this.grab(morph);\r\n            } else if (this.morphToGrab.isTemplate) {\r\n                morph = this.morphToGrab.fullCopy();\r\n                morph.isTemplate = false;\r\n                morph.isDraggable = true;\r\n                if (morph.reactToTemplateCopy) {\r\n                    morph.reactToTemplateCopy();\r\n                }\r\n                this.grab(morph);\r\n                this.grabOrigin = this.morphToGrab.situation();\r\n            }\r\n            this.setPosition(pos);\r\n        }\r\n    }\r\n\r\n    this.mouseOverList.forEach(function (old) {\r\n        if (!contains(mouseOverNew, old)) {\r\n            if (old.mouseLeave) {\r\n                old.mouseLeave();\r\n            }\r\n            if (old.mouseLeaveDragging && myself.mouseButton) {\r\n                old.mouseLeaveDragging();\r\n            }\r\n        }\r\n    });\r\n    mouseOverNew.forEach(function (newMorph) {\r\n        if (!contains(myself.mouseOverList, newMorph)) {\r\n            if (newMorph.mouseEnter) {\r\n                newMorph.mouseEnter();\r\n            }\r\n            if (newMorph.mouseEnterDragging && myself.mouseButton) {\r\n                newMorph.mouseEnterDragging();\r\n            }\r\n        }\r\n\r\n        // autoScrolling support:\r\n        if (myself.children.length > 0) {\r\n            if (newMorph instanceof ScrollFrameMorph &&\r\n                    newMorph.enableAutoScrolling &&\r\n                    newMorph.contents.allChildren().some(function (any) {\r\n                        return any.wantsDropOf(myself.children[0]);\r\n                    })\r\n            ) {\r\n                if (!newMorph.bounds.insetBy(\r\n                        MorphicPreferences.scrollBarSize * 3\r\n                    ).containsPoint(myself.bounds.origin)) {\r\n                    newMorph.startAutoScrolling();\r\n                }\r\n            }\r\n        }\r\n    });\r\n    this.mouseOverList = mouseOverNew;\r\n};\r\n\r\nHandMorph.prototype.processMouseScroll = function (event) {\r\n    var morph = this.morphAtPointer();\r\n    while (morph && !morph.mouseScroll) {\r\n        morph = morph.parent;\r\n    }\r\n    if (morph) {\r\n        morph.mouseScroll(\r\n            (event.detail / -3) || (\r\n                Object.prototype.hasOwnProperty.call(\r\n                    event,\r\n                    'wheelDeltaY'\r\n                ) ?\r\n                        event.wheelDeltaY / 120 :\r\n                        event.wheelDelta / 120\r\n            ),\r\n            event.wheelDeltaX / 120 || 0\r\n        );\r\n    }\r\n};\r\n\r\n/*\r\n    drop event:\r\n\r\n        droppedImage\r\n        droppedSVG\r\n        droppedAudio\r\n        droppedText\r\n*/\r\n\r\nHandMorph.prototype.processDrop = function (event) {\r\n/*\r\n    find out whether an external image or audio file was dropped\r\n    onto the world canvas, turn it into an offscreen canvas or audio\r\n    element and dispatch the\r\n\r\n        droppedImage(canvas, name)\r\n        droppedSVG(image, name)\r\n        droppedAudio(audio, name)\r\n\r\n    events to interested Morphs at the mouse pointer\r\n*/\r\n    var files = event instanceof FileList ? event\r\n                : event.target.files || event.dataTransfer.files,\r\n        file,\r\n        url = event.dataTransfer ?\r\n                event.dataTransfer.getData('URL') : null,\r\n        txt = event.dataTransfer ?\r\n                event.dataTransfer.getData('Text/HTML') : null,\r\n        suffix,\r\n        src,\r\n        target = this.morphAtPointer(),\r\n        img = new Image(),\r\n        canvas,\r\n        i;\r\n\r\n    function readSVG(aFile) {\r\n        var pic = new Image(),\r\n            frd = new FileReader();\r\n        while (!target.droppedSVG) {\r\n            target = target.parent;\r\n        }\r\n        pic.onload = function () {\r\n            target.droppedSVG(pic, aFile.name);\r\n        };\r\n        frd = new FileReader();\r\n        frd.onloadend = function (e) {\r\n            pic.src = e.target.result;\r\n        };\r\n        frd.readAsDataURL(aFile);\r\n    }\r\n\r\n    function readImage(aFile) {\r\n        var pic = new Image(),\r\n            frd = new FileReader();\r\n        while (!target.droppedImage) {\r\n            target = target.parent;\r\n        }\r\n        pic.onload = function () {\r\n            canvas = newCanvas(new Point(pic.width, pic.height), true);\r\n            canvas.getContext('2d').drawImage(pic, 0, 0);\r\n            target.droppedImage(canvas, aFile.name);\r\n        };\r\n        frd = new FileReader();\r\n        frd.onloadend = function (e) {\r\n            pic.src = e.target.result;\r\n        };\r\n        frd.readAsDataURL(aFile);\r\n    }\r\n\r\n    function readAudio(aFile) {\r\n        var snd = new Audio(),\r\n            frd = new FileReader();\r\n        while (!target.droppedAudio) {\r\n            target = target.parent;\r\n        }\r\n        frd.onloadend = function (e) {\r\n            snd.src = e.target.result;\r\n            target.droppedAudio(snd, aFile.name);\r\n        };\r\n        frd.readAsDataURL(aFile);\r\n    }\r\n\r\n    function readText(aFile) {\r\n        var frd = new FileReader();\r\n        while (!target.droppedText) {\r\n            target = target.parent;\r\n        }\r\n        frd.onloadend = function (e) {\r\n            target.droppedText(e.target.result, aFile.name);\r\n            \r\n        };\r\n        frd.readAsText(aFile);\r\n        \r\n    }\r\n\r\n    function readBinary(aFile) {\r\n        var frd = new FileReader();\r\n        while (!target.droppedBinary) {\r\n            target = target.parent;\r\n        }\r\n        frd.onloadend = function (e) {\r\n            target.droppedBinary(e.target.result, aFile.name);\r\n        };\r\n        frd.readAsArrayBuffer(aFile);\r\n    }\r\n\r\n    function readURL(url, callback) {\r\n        var request = new XMLHttpRequest();\r\n        request.open('GET', url);\r\n        request.onreadystatechange = function () {\r\n            if (request.readyState === 4) {\r\n                if (request.responseText) {\r\n                    callback(request.responseText);\r\n                } else {\r\n                    throw new Error('unable to retrieve ' + url);\r\n                }\r\n            }\r\n        };\r\n        request.send();\r\n    }\r\n\r\n    function parseImgURL(html) {\r\n        var iurl = '',\r\n            idx,\r\n            c,\r\n            start = html.indexOf('<img src=\"');\r\n        if (start === -1) {return null; }\r\n        start += 10;\r\n        for (idx = start; idx < html.length; idx += 1) {\r\n            c = html[idx];\r\n            if (c === '\"') {\r\n                return iurl;\r\n            }\r\n            iurl = iurl.concat(c);\r\n        }\r\n        return null;\r\n    }\r\n\r\n    if (files.length > 0) {\r\n        for (i = 0; i < files.length; i += 1) {\r\n            file = files[i];\r\n            if (file.type.indexOf(\"svg\") !== -1\r\n                    && !MorphicPreferences.rasterizeSVGs) {\r\n                readSVG(file);\r\n            } else if (file.type.indexOf(\"image\") === 0) {\r\n                readImage(file);\r\n            } else if (file.type.indexOf(\"audio\") === 0) {\r\n                readAudio(file);\r\n            } else if (file.type.indexOf(\"text\") === 0) {\r\n                readText(file);\r\n            } else { // assume it's meant to be binary\r\n                readBinary(file);\r\n            }\r\n        }\r\n    } else if (url) {\r\n        suffix = url.slice(url.lastIndexOf('.') + 1).toLowerCase();\r\n        if (\r\n            contains(\r\n                ['gif', 'png', 'jpg', 'jpeg', 'bmp'],\r\n                suffix\r\n            )\r\n        ) {\r\n            while (!target.droppedImage) {\r\n                target = target.parent;\r\n            }\r\n            img = new Image();\r\n            img.onload = function () {\r\n                canvas = newCanvas(new Point(img.width, img.height), true);\r\n                canvas.getContext('2d').drawImage(img, 0, 0);\r\n                target.droppedImage(canvas);\r\n            };\r\n            img.src = url;\r\n        } else if (suffix === 'svg' && !MorphicPreferences.rasterizeSVGs) {\r\n            while (!target.droppedSVG) {\r\n                target = target.parent;\r\n            }\r\n            readURL(\r\n                url,\r\n                function (txt) {\r\n                    var pic = new Image();\r\n                    pic.onload = function () {\r\n                        target.droppedSVG(\r\n                            pic,\r\n                            url.slice(\r\n                                url.lastIndexOf('/') + 1,\r\n                                url.lastIndexOf('.')\r\n                            )\r\n                        );\r\n                    };\r\n                    pic.src = 'data:image/svg+xml;utf8,' +\r\n                        encodeURIComponent(txt);\r\n                }\r\n            );\r\n        }\r\n    } else if (txt) {\r\n        while (!target.droppedImage) {\r\n            target = target.parent;\r\n        }\r\n        img = new Image();\r\n        img.onload = function () {\r\n            canvas = newCanvas(new Point(img.width, img.height), true);\r\n            canvas.getContext('2d').drawImage(img, 0, 0);\r\n            target.droppedImage(canvas);\r\n        };\r\n        src = parseImgURL(txt);\r\n        if (src) {img.src = src; }\r\n    }\r\n};\r\n\r\n// HandMorph tools\r\n\r\nHandMorph.prototype.destroyTemporaries = function () {\r\n\r\n\r\n/*\r\n    temporaries are just an array of morphs which will be deleted upon\r\n    the next mouse click, or whenever another temporary Morph decides\r\n    that it needs to remove them. The primary purpose of temporaries is\r\n    to display tools tips of speech bubble help.\r\n*/\r\n    var myself = this;\r\n    this.temporaries.forEach(function (morph) {\r\n        if (!(morph.isClickable\r\n                && morph.bounds.containsPoint(myself.position()))) {\r\n            morph.destroy();\r\n            myself.temporaries.splice(myself.temporaries.indexOf(morph), 1);\r\n        }\r\n    });\r\n};\r\n\r\n\r\n\r\n// WorldMorph //////////////////////////////////////////////////////////\r\n\r\n// I represent the <canvas> element\r\n\r\n// WorldMorph inherits from FrameMorph:\r\nWorldMorph.prototype = new FrameMorph();\r\nWorldMorph.prototype.constructor = WorldMorph;\r\nWorldMorph.uber = FrameMorph.prototype;\r\n\r\n// WorldMorph instance creation:\r\n\r\nfunction WorldMorph(aCanvas, fillPage) {\r\n\r\n    this.init(aCanvas, fillPage);\r\n}\r\n\r\n// WorldMorph initialization:\r\n\r\nWorldMorph.prototype.init = function (aCanvas, fillPage) {\r\n\r\n    WorldMorph.uber.init.call(this);\r\n    this.color = new Color(205, 205, 205); // (130, 130, 130)\r\n    this.alpha = 1;\r\n    this.bounds = new Rectangle(0, 0, aCanvas.width, aCanvas.height);\r\n    this.drawNew();\r\n    this.isVisible = true;\r\n    this.isDraggable = false;\r\n    this.currentKey = null; // currently pressed key code\r\n    this.worldCanvas = aCanvas;\r\n    this.noticesTransparentClick = true;\r\n\r\n    // additional properties:\r\n    this.stamp = Date.now(); // reference in multi-world setups\r\n    while (this.stamp === Date.now()) {nop(); }\r\n    this.stamp = Date.now();\r\n\r\n    this.useFillPage = fillPage;\r\n    if (this.useFillPage === undefined) {\r\n        this.useFillPage = true;\r\n    }\r\n    this.isDevMode = false;\r\n    this.broken = [];\r\n    this.animations = [];\r\n    this.hand = new HandMorph(this);\r\n    this.keyboardReceiver = null;\r\n    this.cursor = null;\r\n    this.lastEditedText = null;\r\n    this.activeMenu = null;\r\n    this.activeHandle = null;\r\n    this.virtualKeyboard = null;\r\n\r\n    this.initEventListeners();\r\n};\r\n\r\n// World Morph display:\r\n\r\nWorldMorph.prototype.brokenFor = function (aMorph) {\r\n    // private\r\n    var fb = aMorph.fullBounds();\r\n    return this.broken.filter(function (rect) {\r\n        return rect.intersects(fb);\r\n    });\r\n};\r\n\r\nWorldMorph.prototype.fullDrawOn = function (aCanvas, aRect) {\r\n    WorldMorph.uber.fullDrawOn.call(this, aCanvas, aRect);\r\n    this.hand.fullDrawOn(aCanvas, aRect);\r\n};\r\n\r\nWorldMorph.prototype.updateBroken = function () {\r\n    var myself = this;\r\n    this.condenseDamages();\r\n    this.broken.forEach(function (rect) {\r\n        if (rect.extent().gt(new Point(0, 0))) {\r\n            myself.fullDrawOn(myself.worldCanvas, rect);\r\n        }\r\n    });\r\n    this.broken = [];\r\n};\r\n\r\nWorldMorph.prototype.stepAnimations = function () {\r\n    this.animations.forEach(function (anim) {anim.step(); });\r\n    this.animations = this.animations.filter(function (anim) {\r\n        return anim.isActive;\r\n    });\r\n};\r\n\r\nWorldMorph.prototype.condenseDamages = function () {\r\n    // collapse clustered damaged rectangles into their unions,\r\n    // thereby reducing the array of brokens to a manageable size\r\n\r\n    function condense(src) {\r\n        var trgt = [], hit;\r\n        src.forEach(function (rect) {\r\n            hit = detect(\r\n                trgt,\r\n                function (each) {return each.isNearTo(rect, 20); }\r\n            );\r\n            if (hit) {\r\n                hit.mergeWith(rect);\r\n            } else {\r\n                trgt.push(rect);\r\n            }\r\n        });\r\n        return trgt;\r\n    }\r\n\r\n    var again = true, size = this.broken.length;\r\n    while (again) {\r\n        this.broken = condense(this.broken);\r\n        again = (this.broken.length < size);\r\n        size = this.broken.length;\r\n    }\r\n};\r\n\r\nWorldMorph.prototype.doOneCycle = function () {\r\n    this.stepFrame();\r\n    this.stepAnimations();\r\n    this.updateBroken();\r\n};\r\n\r\n// Wiquid : Resize Canvas respecting proportionality\r\n// Change clientHeight and Width but keep same proportion for this.worldCanvas.style.width / height\r\n\r\nWorldMorph.prototype.fillPage = function () {\r\n    var clientHeight = window.innerHeight, //Wiquid : Here example /2\r\n        clientWidth = window.innerWidth,   //Wiquid : Here\r\n        myself = this;\r\n\r\n    clientHeight = clientHeight * 0.8;\r\n    clientWidth  = clientWidth *0.6;\r\n\r\n    this.worldCanvas.style.position = \"relative\";\r\n    this.worldCanvas.style.left = \"0px\";\r\n    this.worldCanvas.style.right = \"0px\";\r\n   // this.worldCanvas.style.width = \"100%\";  //Wiquid : Here example : 50%\r\n   // this.worldCanvas.style.height = \"100%\"; //Wiquid : Here\r\n\r\n    if (document.documentElement.scrollTop) {\r\n        // scrolled down b/c of viewport scaling\r\n        clientHeight = document.documentElement.clientHeight;\r\n    }\r\n    if (document.documentElement.scrollLeft) {\r\n        // scrolled left b/c of viewport scaling\r\n        clientWidth = document.documentElement.clientWidth;\r\n    }\r\n    if (this.worldCanvas.width !== clientWidth) {\r\n        this.worldCanvas.width = clientWidth;\r\n        this.setWidth(clientWidth);\r\n    }\r\n    if (this.worldCanvas.height !== clientHeight) {\r\n        this.worldCanvas.height = clientHeight;\r\n        this.setHeight(clientHeight);\r\n    }\r\n    this.children.forEach(function (child) {\r\n        if (child.reactToWorldResize) {\r\n            child.reactToWorldResize(myself.bounds.copy());\r\n        }\r\n    });\r\n};\r\n\r\n// WorldMorph global pixel access:\r\n\r\nWorldMorph.prototype.getGlobalPixelColor = function (point) {\r\n    // answer the color at the given point.\r\n\r\n/*\r\n    // original method, now deprecated as of 4/4/2017 because Chrome\r\n    // \"taints\" the on-screen canvas as soon as its image data is\r\n    // requested, significantly slowing down subsequent blittings\r\n\r\n    var dta = this.worldCanvas.getContext('2d').getImageData(\r\n        point.x,\r\n        point.y,\r\n        1,\r\n        1\r\n    ).data;\r\n    return new Color(dta[0], dta[1], dta[2]);\r\n*/\r\n\r\n    var clr = this.hand.morphAtPointer().getPixelColor(this.hand.position());\r\n    // IMPORTANT:\r\n    // all callers of getGlobalPixelColor should make provisions for retina\r\n    // display support, which gets null-pixels interlaced with non-null ones:\r\n    // if (!clr.a) {/* ignore */ }\r\n    return clr;\r\n};\r\n\r\n// WorldMorph events:\r\n\r\nWorldMorph.prototype.initVirtualKeyboard = function () {\r\n    var myself = this;\r\n\r\n    if (this.virtualKeyboard) {\r\n        document.body.removeChild(this.virtualKeyboard);\r\n        this.virtualKeyboard = null;\r\n    }\r\n    if (!MorphicPreferences.isTouchDevice\r\n            || !MorphicPreferences.useVirtualKeyboard) {\r\n        return;\r\n    }\r\n    this.virtualKeyboard = document.createElement(\"input\");\r\n    this.virtualKeyboard.type = \"text\";\r\n    this.virtualKeyboard.style.color = \"transparent\";\r\n    this.virtualKeyboard.style.backgroundColor = \"transparent\";\r\n    this.virtualKeyboard.style.border = \"none\";\r\n    this.virtualKeyboard.style.outline = \"none\";\r\n    this.virtualKeyboard.style.position = \"absolute\";\r\n    this.virtualKeyboard.style.top = \"0px\";\r\n    this.virtualKeyboard.style.left = \"0px\";\r\n    this.virtualKeyboard.style.width = \"0px\";\r\n    this.virtualKeyboard.style.height = \"0px\";\r\n    this.virtualKeyboard.autocapitalize = \"none\"; // iOS specific\r\n    document.body.appendChild(this.virtualKeyboard);\r\n\r\n    this.virtualKeyboard.addEventListener(\r\n        \"keydown\",\r\n        function (event) {\r\n            // remember the keyCode in the world's currentKey property\r\n            myself.currentKey = event.keyCode;\r\n            if (myself.keyboardReceiver) {\r\n                myself.keyboardReceiver.processKeyDown(event);\r\n            }\r\n            // supress backspace override\r\n            if (event.keyCode === 8) {\r\n                event.preventDefault();\r\n            }\r\n            // supress tab override and make sure tab gets\r\n            // received by all browsers\r\n            if (event.keyCode === 9) {\r\n                if (myself.keyboardReceiver) {\r\n                    myself.keyboardReceiver.processKeyPress(event);\r\n                }\r\n                event.preventDefault();\r\n            }\r\n        },\r\n        false\r\n    );\r\n\r\n    this.virtualKeyboard.addEventListener(\r\n        \"keyup\",\r\n        function (event) {\r\n            // flush the world's currentKey property\r\n            myself.currentKey = null;\r\n            // dispatch to keyboard receiver\r\n            if (myself.keyboardReceiver) {\r\n                if (myself.keyboardReceiver.processKeyUp) {\r\n                    myself.keyboardReceiver.processKeyUp(event);\r\n                }\r\n            }\r\n            event.preventDefault();\r\n        },\r\n        false\r\n    );\r\n\r\n    this.virtualKeyboard.addEventListener(\r\n        \"keypress\",\r\n        function (event) {\r\n            if (myself.keyboardReceiver) {\r\n                myself.keyboardReceiver.processKeyPress(event);\r\n            }\r\n            event.preventDefault();\r\n        },\r\n        false\r\n    );\r\n};\r\n\r\nWorldMorph.prototype.initEventListeners = function () {\r\n    var canvas = this.worldCanvas, myself = this;\r\n\r\n    if (myself.useFillPage) {\r\n        myself.fillPage();\r\n    } else {\r\n        this.changed();\r\n    }\r\n\r\n    canvas.addEventListener(\r\n        \"mousedown\",\r\n        function (event) {\r\n            event.preventDefault();\r\n            canvas.focus();\r\n            myself.hand.processMouseDown(event);\r\n        },\r\n        false\r\n    );\r\n\r\n    canvas.addEventListener(\r\n        \"touchstart\",\r\n        function (event) {\r\n            myself.hand.processTouchStart(event);\r\n        },\r\n        false\r\n    );\r\n\r\n    canvas.addEventListener(\r\n        \"mouseup\",\r\n        function (event) {\r\n            event.preventDefault();\r\n            myself.hand.processMouseUp(event);\r\n        },\r\n        false\r\n    );\r\n\r\n    canvas.addEventListener(\r\n        \"dblclick\",\r\n        function (event) {\r\n            event.preventDefault();\r\n            myself.hand.processDoubleClick(event);\r\n        },\r\n        false\r\n    );\r\n\r\n    canvas.addEventListener(\r\n        \"touchend\",\r\n        function (event) {\r\n            myself.hand.processTouchEnd(event);\r\n        },\r\n        false\r\n    );\r\n\r\n    canvas.addEventListener(\r\n        \"mousemove\",\r\n        function (event) {\r\n            myself.hand.processMouseMove(event);\r\n        },\r\n        false\r\n    );\r\n\r\n    canvas.addEventListener(\r\n        \"touchmove\",\r\n        function (event) {\r\n            myself.hand.processTouchMove(event);\r\n        },\r\n        false\r\n    );\r\n\r\n    canvas.addEventListener(\r\n        \"contextmenu\",\r\n        function (event) {\r\n            // suppress context menu for Mac-Firefox\r\n            event.preventDefault();\r\n        },\r\n        false\r\n    );\r\n\r\n    canvas.addEventListener(\r\n        \"keydown\",\r\n        function (event) {\r\n            // remember the keyCode in the world's currentKey property\r\n            myself.currentKey = event.keyCode;\r\n            if (myself.keyboardReceiver) {\r\n                myself.keyboardReceiver.processKeyDown(event);\r\n            }\r\n            // supress backspace override\r\n            if (event.keyCode === 8) {\r\n                event.preventDefault();\r\n            }\r\n            // supress tab override and make sure tab gets\r\n            // received by all browsers\r\n            if (event.keyCode === 9) {\r\n                if (myself.keyboardReceiver) {\r\n                    myself.keyboardReceiver.processKeyPress(event);\r\n                }\r\n                event.preventDefault();\r\n            }\r\n            if ((event.ctrlKey && (!event.altKey) || event.metaKey) &&\r\n                    (event.keyCode !== 86)) { // allow pasting-in\r\n                event.preventDefault();\r\n            }\r\n        },\r\n        false\r\n    );\r\n\r\n    canvas.addEventListener(\r\n        \"keyup\",\r\n        function (event) {\r\n            // flush the world's currentKey property\r\n            myself.currentKey = null;\r\n            // dispatch to keyboard receiver\r\n            if (myself.keyboardReceiver) {\r\n                if (myself.keyboardReceiver.processKeyUp) {\r\n                    myself.keyboardReceiver.processKeyUp(event);\r\n                }\r\n            }\r\n            event.preventDefault();\r\n        },\r\n        false\r\n    );\r\n\r\n    canvas.addEventListener(\r\n        \"keypress\",\r\n        function (event) {\r\n            if (myself.keyboardReceiver) {\r\n                myself.keyboardReceiver.processKeyPress(event);\r\n            }\r\n            event.preventDefault();\r\n        },\r\n        false\r\n    );\r\n\r\n    canvas.addEventListener( // Safari, Chrome\r\n        \"mousewheel\",\r\n        function (event) {\r\n            myself.hand.processMouseScroll(event);\r\n            event.preventDefault();\r\n        },\r\n        false\r\n    );\r\n    canvas.addEventListener( // Firefox\r\n        \"DOMMouseScroll\",\r\n        function (event) {\r\n            myself.hand.processMouseScroll(event);\r\n            event.preventDefault();\r\n        },\r\n        false\r\n    );\r\n\r\n    document.body.addEventListener(\r\n        \"paste\",\r\n        function (event) {\r\n            var txt = event.clipboardData.getData(\"Text\");\r\n            if (txt && myself.cursor) {\r\n                myself.cursor.insert(txt);\r\n            }\r\n        },\r\n        false\r\n    );\r\n\r\n    window.addEventListener(\r\n        \"dragover\",\r\n        function (event) {\r\n            event.preventDefault();\r\n        },\r\n        false\r\n    );\r\n    window.addEventListener(\r\n        \"drop\",\r\n        function (event) {\r\n            myself.hand.processDrop(event);\r\n            event.preventDefault();\r\n        },\r\n        false\r\n    );\r\n\r\n    window.addEventListener(\r\n        \"resize\",\r\n        function () {\r\n            if (myself.useFillPage) {\r\n                myself.fillPage();\r\n            }\r\n        },\r\n        false\r\n    );\r\n};\r\n\r\nWorldMorph.prototype.mouseDownLeft = nop;\r\n\r\nWorldMorph.prototype.mouseClickLeft = nop;\r\n\r\nWorldMorph.prototype.mouseDownRight = nop;\r\n\r\nWorldMorph.prototype.mouseClickRight = nop;\r\n\r\nWorldMorph.prototype.wantsDropOf = function () {\r\n    // allow handle drops if any drops are allowed\r\n    return this.acceptsDrops;\r\n};\r\n\r\nWorldMorph.prototype.droppedImage = function () {\r\n    return null;\r\n};\r\n\r\nWorldMorph.prototype.droppedSVG = function () {\r\n    return null;\r\n};\r\n\r\n// WorldMorph text field tabbing:\r\n\r\nWorldMorph.prototype.nextTab = function (editField) {\r\n    var next = this.nextEntryField(editField);\r\n    if (next) {\r\n        editField.clearSelection();\r\n        next.selectAll();\r\n        next.edit();\r\n    }\r\n};\r\n\r\nWorldMorph.prototype.previousTab = function (editField) {\r\n    var prev = this.previousEntryField(editField);\r\n    if (prev) {\r\n        editField.clearSelection();\r\n        prev.selectAll();\r\n        prev.edit();\r\n    }\r\n};\r\n\r\n// WorldMorph menu:\r\n\r\nWorldMorph.prototype.contextMenu = function () {\r\n    var menu;\r\n\r\n    if (this.isDevMode) {\r\n        menu = new MenuMorph(this, this.constructor.name ||\r\n            this.constructor.toString().split(' ')[1].split('(')[0]);\r\n    } else {\r\n        menu = new MenuMorph(this, 'Morphic');\r\n    }\r\n    if (this.isDevMode) {\r\n        menu.addItem(\"demo...\", 'userCreateMorph', 'sample morphs');\r\n        menu.addLine();\r\n        menu.addItem(\"hide all...\", 'hideAll');\r\n        menu.addItem(\"show all...\", 'showAllHiddens');\r\n        menu.addItem(\r\n            \"move all inside...\",\r\n            'keepAllSubmorphsWithin',\r\n            'keep all submorphs\\nwithin and visible'\r\n        );\r\n        menu.addItem(\r\n            \"inspect...\",\r\n            'inspect',\r\n            'open a window on\\nall properties'\r\n        );\r\n        menu.addItem(\r\n            \"screenshot...\",\r\n            function () {\r\n                window.open(this.fullImageClassic().toDataURL());\r\n            },\r\n            'open a new window\\nwith a picture of this morph'\r\n        );\r\n        menu.addLine();\r\n        menu.addItem(\r\n            \"restore display\",\r\n            'changed',\r\n            'redraw the\\nscreen once'\r\n        );\r\n        menu.addItem(\r\n            \"fill page...\",\r\n            'fillPage',\r\n            'let the World automatically\\nadjust to browser resizing'\r\n        );\r\n        if (useBlurredShadows) {\r\n            menu.addItem(\r\n                \"sharp shadows...\",\r\n                'toggleBlurredShadows',\r\n                'sharp drop shadows\\nuse for old browsers'\r\n            );\r\n        } else {\r\n            menu.addItem(\r\n                \"blurred shadows...\",\r\n                'toggleBlurredShadows',\r\n                'blurry shades,\\n use for new browsers'\r\n            );\r\n        }\r\n        menu.addItem(\r\n            \"color...\",\r\n            function () {\r\n                this.pickColor(\r\n                    menu.title + localize('\\ncolor:'),\r\n                    this.setColor,\r\n                    this,\r\n                    this.color\r\n                );\r\n            },\r\n            'choose the World\\'s\\nbackground color'\r\n        );\r\n        if (MorphicPreferences === standardSettings) {\r\n            menu.addItem(\r\n                \"touch screen settings\",\r\n                'togglePreferences',\r\n                'bigger menu fonts\\nand sliders'\r\n            );\r\n        } else {\r\n            menu.addItem(\r\n                \"standard settings\",\r\n                'togglePreferences',\r\n                'smaller menu fonts\\nand sliders'\r\n            );\r\n        }\r\n        menu.addLine();\r\n    }\r\n    if (this.isDevMode) {\r\n        menu.addItem(\r\n            \"user mode...\",\r\n            'toggleDevMode',\r\n            'disable developers\\'\\ncontext menus'\r\n        );\r\n    } else {\r\n        menu.addItem(\"development mode...\", 'toggleDevMode');\r\n    }\r\n    menu.addItem(\"about morphic.js...\", 'about');\r\n    return menu;\r\n};\r\n\r\nWorldMorph.prototype.userCreateMorph = function () {\r\n    var myself = this, menu, newMorph;\r\n\r\n    function create(aMorph) {\r\n        aMorph.isDraggable = true;\r\n        aMorph.pickUp(myself);\r\n    }\r\n\r\n    menu = new MenuMorph(this, 'make a morph');\r\n    menu.addItem('rectangle', function () {\r\n        create(new Morph());\r\n    });\r\n    menu.addItem('box', function () {\r\n        create(new BoxMorph());\r\n    });\r\n    menu.addItem('circle box', function () {\r\n        create(new CircleBoxMorph());\r\n    });\r\n    menu.addLine();\r\n    menu.addItem('slider', function () {\r\n        create(new SliderMorph());\r\n    });\r\n    menu.addItem('frame', function () {\r\n        newMorph = new FrameMorph();\r\n        newMorph.setExtent(new Point(350, 250));\r\n        create(newMorph);\r\n    });\r\n    menu.addItem('scroll frame', function () {\r\n        newMorph = new ScrollFrameMorph();\r\n        newMorph.contents.acceptsDrops = true;\r\n        newMorph.contents.adjustBounds();\r\n        newMorph.setExtent(new Point(350, 250));\r\n        create(newMorph);\r\n    });\r\n    menu.addItem('handle', function () {\r\n        create(new HandleMorph());\r\n    });\r\n    menu.addLine();\r\n    menu.addItem('string', function () {\r\n        newMorph = new StringMorph('Hello, World!');\r\n        newMorph.isEditable = true;\r\n        create(newMorph);\r\n    });\r\n    menu.addItem('text', function () {\r\n        newMorph = new TextMorph(\r\n            \"Ich wei\\u00DF nicht, was soll es bedeuten, dass ich so \" +\r\n                \"traurig bin, ein M\\u00E4rchen aus uralten Zeiten, das \" +\r\n                \"kommt mir nicht aus dem Sinn. Die Luft ist k\\u00FChl \" +\r\n                \"und es dunkelt, und ruhig flie\\u00DFt der Rhein; der \" +\r\n                \"Gipfel des Berges funkelt im Abendsonnenschein. \" +\r\n                \"Die sch\\u00F6nste Jungfrau sitzet dort oben wunderbar, \" +\r\n                \"ihr gold'nes Geschmeide blitzet, sie k\\u00E4mmt ihr \" +\r\n                \"goldenes Haar, sie k\\u00E4mmt es mit goldenem Kamme, \" +\r\n                \"und singt ein Lied dabei; das hat eine wundersame, \" +\r\n                \"gewalt'ge Melodei. Den Schiffer im kleinen \" +\r\n                \"Schiffe, ergreift es mit wildem Weh; er schaut \" +\r\n                \"nicht die Felsenriffe, er schaut nur hinauf in \" +\r\n                \"die H\\u00F6h'. Ich glaube, die Wellen verschlingen \" +\r\n                \"am Ende Schiffer und Kahn, und das hat mit ihrem \" +\r\n                \"Singen, die Loreley getan.\"\r\n        );\r\n        newMorph.isEditable = true;\r\n        newMorph.maxWidth = 300;\r\n        newMorph.drawNew();\r\n        create(newMorph);\r\n    });\r\n    menu.addItem('speech bubble', function () {\r\n        newMorph = new SpeechBubbleMorph('Hello, World!');\r\n        create(newMorph);\r\n    });\r\n    menu.addLine();\r\n    menu.addItem('gray scale palette', function () {\r\n        create(new GrayPaletteMorph());\r\n    });\r\n    menu.addItem('color palette', function () {\r\n        create(new ColorPaletteMorph());\r\n    });\r\n    menu.addItem('color picker', function () {\r\n        create(new ColorPickerMorph());\r\n    });\r\n    menu.addLine();\r\n    menu.addItem('sensor demo', function () {\r\n        newMorph = new MouseSensorMorph();\r\n        newMorph.setColor(new Color(230, 200, 100));\r\n        newMorph.edge = 35;\r\n        newMorph.border = 15;\r\n        newMorph.borderColor = new Color(200, 100, 50);\r\n        newMorph.alpha = 0.2;\r\n        newMorph.setExtent(new Point(100, 100));\r\n        create(newMorph);\r\n    });\r\n    menu.addItem('animation demo', function () {\r\n        var foo, bar, baz, garply, fred;\r\n\r\n        foo = new BouncerMorph();\r\n        foo.setPosition(new Point(50, 20));\r\n        foo.setExtent(new Point(300, 200));\r\n        foo.alpha = 0.9;\r\n        foo.speed = 3;\r\n\r\n        bar = new BouncerMorph();\r\n        bar.setColor(new Color(50, 50, 50));\r\n        bar.setPosition(new Point(80, 80));\r\n        bar.setExtent(new Point(80, 250));\r\n        bar.type = 'horizontal';\r\n        bar.direction = 'right';\r\n        bar.alpha = 0.9;\r\n        bar.speed = 5;\r\n\r\n        baz = new BouncerMorph();\r\n        baz.setColor(new Color(20, 20, 20));\r\n        baz.setPosition(new Point(90, 140));\r\n        baz.setExtent(new Point(40, 30));\r\n        baz.type = 'horizontal';\r\n        baz.direction = 'right';\r\n        baz.speed = 3;\r\n\r\n        garply = new BouncerMorph();\r\n        garply.setColor(new Color(200, 20, 20));\r\n        garply.setPosition(new Point(90, 140));\r\n        garply.setExtent(new Point(20, 20));\r\n        garply.type = 'vertical';\r\n        garply.direction = 'up';\r\n        garply.speed = 8;\r\n\r\n        fred = new BouncerMorph();\r\n        fred.setColor(new Color(20, 200, 20));\r\n        fred.setPosition(new Point(120, 140));\r\n        fred.setExtent(new Point(20, 20));\r\n        fred.type = 'vertical';\r\n        fred.direction = 'down';\r\n        fred.speed = 4;\r\n\r\n        bar.add(garply);\r\n        bar.add(baz);\r\n        foo.add(fred);\r\n        foo.add(bar);\r\n\r\n        create(foo);\r\n    });\r\n    menu.addItem('pen', function () {\r\n        create(new PenMorph());\r\n    });\r\n    if (myself.customMorphs) {\r\n        menu.addLine();\r\n        myself.customMorphs().forEach(function (morph) {\r\n            menu.addItem(morph.toString(), function () {\r\n                create(morph);\r\n            });\r\n        });\r\n    }\r\n    menu.popUpAtHand(this);\r\n};\r\n\r\nWorldMorph.prototype.toggleDevMode = function () {\r\n    this.isDevMode = !this.isDevMode;\r\n};\r\n\r\nWorldMorph.prototype.hideAll = function () {\r\n    this.children.forEach(function (child) {\r\n        child.hide();\r\n    });\r\n};\r\n\r\nWorldMorph.prototype.showAllHiddens = function () {\r\n    this.forAllChildren(function (child) {\r\n        if (!child.isVisible) {\r\n            child.show();\r\n        }\r\n    });\r\n};\r\n\r\nWorldMorph.prototype.about = function () {\r\n    var versions = '', module;\r\n\r\n    for (module in modules) {\r\n        if (Object.prototype.hasOwnProperty.call(modules, module)) {\r\n            versions += ('\\n' + module + ' (' + modules[module] + ')');\r\n        }\r\n    }\r\n    if (versions !== '') {\r\n        versions = '\\n\\nmodules:\\n\\n' +\r\n            'morphic (' + morphicVersion + ')' +\r\n            versions;\r\n    }\r\n\r\n    this.inform(\r\n        'morphic.js\\n\\n' +\r\n            'a lively Web GUI\\ninspired by Squeak\\n' +\r\n            morphicVersion +\r\n            '\\n\\nwritten by Jens M\\u00F6nig\\njens@moenig.org' +\r\n            versions\r\n    );\r\n};\r\n\r\nWorldMorph.prototype.edit = function (aStringOrTextMorph) {\r\n    var pos = getDocumentPositionOf(this.worldCanvas);\r\n\r\n    if (!aStringOrTextMorph.isEditable) {\r\n        return null;\r\n    }\r\n    if (this.cursor) {\r\n        this.cursor.destroy();\r\n    }\r\n    this.cursor = new CursorMorph(aStringOrTextMorph);\r\n    aStringOrTextMorph.parent.add(this.cursor);\r\n    this.keyboardReceiver = this.cursor;\r\n\r\n    this.initVirtualKeyboard();\r\n    if (MorphicPreferences.isTouchDevice\r\n            && MorphicPreferences.useVirtualKeyboard) {\r\n        this.virtualKeyboard.style.top = this.cursor.top() + pos.y + \"px\";\r\n        this.virtualKeyboard.style.left = this.cursor.left() + pos.x + \"px\";\r\n        this.virtualKeyboard.focus();\r\n    }\r\n\r\n    if (MorphicPreferences.useSliderForInput) {\r\n        if (!aStringOrTextMorph.parentThatIsA(MenuMorph)) {\r\n            this.slide(aStringOrTextMorph);\r\n        }\r\n    }\r\n\r\n    if (this.lastEditedText !== aStringOrTextMorph) {\r\n        aStringOrTextMorph.escalateEvent('freshTextEdit', aStringOrTextMorph);\r\n    }\r\n    this.lastEditedText = aStringOrTextMorph;\r\n};\r\n\r\nWorldMorph.prototype.slide = function (aStringOrTextMorph) {\r\n    // display a slider for numeric text entries\r\n    var val = parseFloat(aStringOrTextMorph.text),\r\n        menu,\r\n        slider;\r\n\r\n    if (isNaN(val)) {\r\n        val = 0;\r\n    }\r\n    menu = new MenuMorph();\r\n    slider = new SliderMorph(\r\n        val - 25,\r\n        val + 25,\r\n        val,\r\n        10,\r\n        'horizontal'\r\n    );\r\n    slider.alpha = 1;\r\n    slider.color = new Color(225, 225, 225);\r\n    slider.button.color = menu.borderColor;\r\n    slider.button.highlightColor = slider.button.color.copy();\r\n    slider.button.highlightColor.b += 100;\r\n    slider.button.pressColor = slider.button.color.copy();\r\n    slider.button.pressColor.b += 150;\r\n    slider.silentSetHeight(MorphicPreferences.scrollBarSize);\r\n    slider.silentSetWidth(MorphicPreferences.menuFontSize * 10);\r\n    slider.drawNew();\r\n    slider.action = function (num) {\r\n        aStringOrTextMorph.changed();\r\n        aStringOrTextMorph.text = Math.round(num).toString();\r\n        aStringOrTextMorph.drawNew();\r\n        aStringOrTextMorph.changed();\r\n        aStringOrTextMorph.escalateEvent(\r\n            'reactToSliderEdit',\r\n            aStringOrTextMorph\r\n        );\r\n    };\r\n    menu.items.push(slider);\r\n    menu.popup(this, aStringOrTextMorph.bottomLeft().add(new Point(0, 5)));\r\n};\r\n\r\nWorldMorph.prototype.stopEditing = function () {\r\n    if (this.cursor) {\r\n        this.cursor.target.escalateEvent('reactToEdit', this.cursor.target);\r\n        this.cursor.target.clearSelection();\r\n        this.cursor.destroy();\r\n        this.cursor = null;\r\n    }\r\n    if (this.keyboardReceiver && this.keyboardReceiver.stopEditing) {\r\n    \tthis.keyboardReceiver.stopEditing();\r\n    }\r\n    this.keyboardReceiver = null;\r\n    if (this.virtualKeyboard) {\r\n        this.virtualKeyboard.blur();\r\n        document.body.removeChild(this.virtualKeyboard);\r\n        this.virtualKeyboard = null;\r\n    }\r\n    this.lastEditedText = null;\r\n    this.worldCanvas.focus();\r\n};\r\n\r\nWorldMorph.prototype.toggleBlurredShadows = function () {\r\n    useBlurredShadows = !useBlurredShadows;\r\n};\r\n\r\nWorldMorph.prototype.togglePreferences = function () {\r\n    if (MorphicPreferences === standardSettings) {\r\n        MorphicPreferences = touchScreenSettings;\r\n    } else {\r\n        MorphicPreferences = standardSettings;\r\n    }\r\n};\r\n\r\n\r\n//fin de MORPHIC\r\n\r\n/*\r\n\r\n    widgets.js\r\n\r\n    additional GUI elements for morphic.js\r\n\r\n    written by Jens Mönig\r\n    jens@moenig.org\r\n\r\n    Copyright (C) 2017 by Jens Mönig\r\n\r\n    This file is part of Snap!.\r\n\r\n    Snap! is free software: you can redistribute it and/or modify\r\n    it under the terms of the GNU Affero General Public License as\r\n    published by the Free Software Foundation, either version 3 of\r\n    the License, or (at your option) any later version.\r\n\r\n    This program is distributed in the hope that it will be useful,\r\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n    GNU Affero General Public License for more details.\r\n\r\n    You should have received a copy of the GNU Affero General Public License\r\n    along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n\r\n\r\n    prerequisites:\r\n    --------------\r\n    needs blocks.js and objects.js\r\n\r\n\r\n    credits\r\n    -------\r\n    Lucas Karahadian contributed a first prototype of the piano keyboard\r\n\r\n\r\n    I. hierarchy\r\n    -------------\r\n    the following tree lists all constructors hierarchically,\r\n    indentation indicating inheritance. Refer to this list to get a\r\n    contextual overview:\r\n\r\n    Morph*\r\n        AlignmentMorph\r\n        DialogBoxMorph\r\n        InputFieldMorph\r\n    TriggerMorph*\r\n        MenuItemMorph*\r\n            PianoKeyMorph\r\n        PushButtonMorph\r\n            ToggleButtonMorph\r\n                TabMorph\r\n            ToggleMorph\r\n        ToggleElementMorph\r\n    MenuMorph*\r\n        PianoMenuMorph\r\n\r\n    * from Morphic.js\r\n\r\n\r\n    II. toc\r\n    -------\r\n    the following list shows the order in which all constructors are\r\n    defined. Use this list to locate code in this document:\r\n\r\n    PushButtonMorph\r\n    ToggleButtonMorph\r\n    TabMorph\r\n    ToggleMorph\r\n    ToggleElementMorph\r\n    DialogBoxMorph\r\n    AlignmentMorph\r\n    InputFieldMorph\r\n    PianoMenuMorph\r\n    PianoKeyMorph\r\n\r\n*/\r\n\r\n// Global settings /////////////////////////////////////////////////////\r\n\r\n/*global TriggerMorph, modules, Color, Point, BoxMorph, radians,\r\nnewCanvas, StringMorph, Morph, TextMorph, nop, detect, StringFieldMorph,\r\nHTMLCanvasElement, fontHeight, SymbolMorph, localize, SpeechBubbleMorph,\r\nArrowMorph, MenuMorph, isString, isNil, SliderMorph, MorphicPreferences,\r\nScrollFrameMorph, MenuItemMorph, Note*/\r\n\r\nmodules.widgets = '2017-September-25';\r\n\r\nvar PushButtonMorph;\r\nvar ToggleButtonMorph;\r\nvar TabMorph;\r\nvar ToggleMorph;\r\nvar ToggleElementMorph;\r\nvar DialogBoxMorph;\r\nvar AlignmentMorph;\r\nvar InputFieldMorph;\r\nvar PianoMenuMorph;\r\nvar PianoKeyMorph;\r\n\r\n// PushButtonMorph /////////////////////////////////////////////////////\r\n\r\n// I am a Button with rounded corners and 3D-ish graphical effects\r\n\r\n// PushButtonMorph inherits from TriggerMorph:\r\n\r\nPushButtonMorph.prototype = new TriggerMorph();\r\nPushButtonMorph.prototype.constructor = PushButtonMorph;\r\nPushButtonMorph.uber = TriggerMorph.prototype;\r\n\r\n// PushButtonMorph preferences settings:\r\n\r\nPushButtonMorph.prototype.fontSize = 10;\r\nPushButtonMorph.prototype.fontStyle = 'sans-serif';\r\nPushButtonMorph.prototype.labelColor = new Color(0, 0, 0);\r\nPushButtonMorph.prototype.labelShadowColor = new Color(255, 255, 255);\r\nPushButtonMorph.prototype.labelShadowOffset = new Point(1, 1);\r\n\r\nPushButtonMorph.prototype.color = new Color(220, 220, 220);\r\nPushButtonMorph.prototype.pressColor = new Color(115, 180, 240);\r\nPushButtonMorph.prototype.highlightColor\r\n    = PushButtonMorph.prototype.pressColor.lighter(50);\r\nPushButtonMorph.prototype.outlineColor = new Color(30, 30, 30);\r\nPushButtonMorph.prototype.outlineGradient = false;\r\nPushButtonMorph.prototype.contrast = 60;\r\n\r\nPushButtonMorph.prototype.edge = 2;\r\nPushButtonMorph.prototype.corner = 5;\r\nPushButtonMorph.prototype.outline = 1.00001;\r\nPushButtonMorph.prototype.padding = 3;\r\n\r\n// PushButtonMorph instance creation:\r\n\r\nfunction PushButtonMorph(\r\n    target,\r\n    action,\r\n    labelString,\r\n    environment,\r\n    hint,\r\n    template\r\n) {\r\n    this.init(\r\n        target,\r\n        action,\r\n        labelString,\r\n        environment,\r\n        hint,\r\n        template\r\n    );\r\n}\r\n\r\nPushButtonMorph.prototype.init = function (\r\n    target,\r\n    action,\r\n    labelString,\r\n    environment,\r\n    hint,\r\n    template\r\n) {\r\n    // additional properties:\r\n    this.is3D = false; // for \"flat\" design exceptions\r\n    this.target = target || null;\r\n    this.action = action || null;\r\n    this.environment = environment || null;\r\n    this.labelString = labelString || null;\r\n    this.label = null;\r\n    this.labelMinExtent = new Point(0, 0);\r\n    this.hint = hint || null;\r\n    this.template = template || null; // for pre-computed backbrounds\r\n    // if a template is specified, its background images are used as cache\r\n    this.isDisabled = false;\r\n\r\n    // initialize inherited properties:\r\n    TriggerMorph.uber.init.call(this);\r\n\r\n    // override inherited properites:\r\n    this.color = PushButtonMorph.prototype.color;\r\n    this.drawNew();\r\n    this.fixLayout();\r\n};\r\n\r\n// PushButtonMorph layout:\r\n\r\nPushButtonMorph.prototype.fixLayout = function () {\r\n    // make sure I at least encompass my label\r\n    if (this.label !== null) {\r\n        var padding = this.padding * 2 + this.outline * 2 + this.edge * 2;\r\n        this.setExtent(new Point(\r\n            Math.max(this.label.width(), this.labelMinExtent.x) + padding,\r\n            Math.max(this.label instanceof StringMorph ?\r\n                    this.label.rawHeight() :\r\n                        this.label.height(), this.labelMinExtent.y) + padding\r\n        ));\r\n        this.label.setCenter(this.center());\r\n    }\r\n};\r\n\r\n// PushButtonMorph events\r\n\r\nPushButtonMorph.prototype.mouseDownLeft = function () {\r\n    PushButtonMorph.uber.mouseDownLeft.call(this);\r\n    if (this.label) {\r\n        this.label.setCenter(this.center().add(1));\r\n    }\r\n};\r\n\r\nPushButtonMorph.prototype.mouseClickLeft = function () {\r\n    if (this.isDisabled) {return; }\r\n    PushButtonMorph.uber.mouseClickLeft.call(this);\r\n    if (this.label) {\r\n        this.label.setCenter(this.center());\r\n    }\r\n};\r\n\r\nPushButtonMorph.prototype.mouseLeave = function () {\r\n    PushButtonMorph.uber.mouseLeave.call(this);\r\n    if (this.label) {\r\n        this.label.setCenter(this.center());\r\n    }\r\n};\r\n\r\n// PushButtonMorph drawing:\r\n\r\nPushButtonMorph.prototype.outlinePath = BoxMorph.prototype.outlinePath;\r\n\r\nPushButtonMorph.prototype.drawOutline = function (context) {\r\n    var outlineStyle,\r\n        isFlat = MorphicPreferences.isFlat && !this.is3D;\r\n\r\n    if (!this.outline || isFlat) {return null; }\r\n    if (this.outlineGradient) {\r\n        outlineStyle = context.createLinearGradient(\r\n            0,\r\n            0,\r\n            0,\r\n            this.height()\r\n        );\r\n        outlineStyle.addColorStop(0, this.outlineColor.darker().toString());\r\n        outlineStyle.addColorStop(1, 'white');\r\n    } else {\r\n        outlineStyle = this.outlineColor.toString();\r\n    }\r\n    context.fillStyle = outlineStyle;\r\n    context.beginPath();\r\n    this.outlinePath(\r\n        context,\r\n        isFlat ? 0 : this.corner,\r\n        0\r\n    );\r\n    context.closePath();\r\n    context.fill();\r\n};\r\n\r\nPushButtonMorph.prototype.drawBackground = function (context, color) {\r\n    var isFlat = MorphicPreferences.isFlat && !this.is3D;\r\n\r\n    context.fillStyle = color.toString();\r\n    context.beginPath();\r\n    this.outlinePath(\r\n        context,\r\n        isFlat ? 0 : Math.max(this.corner - this.outline, 0),\r\n        this.outline\r\n    );\r\n    context.closePath();\r\n    context.fill();\r\n    context.lineWidth = this.outline;\r\n};\r\n\r\nPushButtonMorph.prototype.drawEdges = function (\r\n    context,\r\n    color,\r\n    topColor,\r\n    bottomColor\r\n) {\r\n    if (MorphicPreferences.isFlat && !this.is3D) {return; }\r\n    var minInset = Math.max(this.corner, this.outline + this.edge),\r\n        w = this.width(),\r\n        h = this.height(),\r\n        gradient;\r\n\r\n    // top:\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        this.outline,\r\n        0,\r\n        this.outline + this.edge\r\n    );\r\n    gradient.addColorStop(0, topColor.toString());\r\n    gradient.addColorStop(1, color.toString());\r\n\r\n    context.strokeStyle = gradient;\r\n    context.lineCap = 'round';\r\n    context.lineWidth = this.edge;\r\n    context.beginPath();\r\n    context.moveTo(minInset, this.outline + this.edge / 2);\r\n    context.lineTo(w - minInset, this.outline + this.edge / 2);\r\n    context.stroke();\r\n\r\n    // top-left corner:\r\n    gradient = context.createRadialGradient(\r\n        this.corner,\r\n        this.corner,\r\n        Math.max(this.corner - this.outline - this.edge, 0),\r\n        this.corner,\r\n        this.corner,\r\n        Math.max(this.corner - this.outline, 0)\r\n    );\r\n    gradient.addColorStop(0, color.toString());\r\n    gradient.addColorStop(1, topColor.toString());\r\n\r\n    context.strokeStyle = gradient;\r\n    context.lineCap = 'round';\r\n    context.lineWidth = this.edge;\r\n    context.beginPath();\r\n    context.arc(\r\n        this.corner,\r\n        this.corner,\r\n        Math.max(this.corner - this.outline - this.edge / 2, 0),\r\n        radians(180),\r\n        radians(270),\r\n        false\r\n    );\r\n    context.stroke();\r\n\r\n    // left:\r\n    gradient = context.createLinearGradient(\r\n        this.outline,\r\n        0,\r\n        this.outline + this.edge,\r\n        0\r\n    );\r\n    gradient.addColorStop(0, topColor.toString());\r\n    gradient.addColorStop(1, color.toString());\r\n\r\n    context.strokeStyle = gradient;\r\n    context.lineCap = 'round';\r\n    context.lineWidth = this.edge;\r\n    context.beginPath();\r\n    context.moveTo(this.outline + this.edge / 2, minInset);\r\n    context.lineTo(this.outline + this.edge / 2, h - minInset);\r\n    context.stroke();\r\n\r\n    // bottom:\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        h - this.outline,\r\n        0,\r\n        h - this.outline - this.edge\r\n    );\r\n    gradient.addColorStop(0, bottomColor.toString());\r\n    gradient.addColorStop(1, color.toString());\r\n\r\n    context.strokeStyle = gradient;\r\n    context.lineCap = 'round';\r\n    context.lineWidth = this.edge;\r\n    context.beginPath();\r\n    context.moveTo(minInset, h - this.outline - this.edge / 2);\r\n    context.lineTo(w - minInset, h - this.outline - this.edge / 2);\r\n    context.stroke();\r\n\r\n    // bottom-right corner:\r\n    gradient = context.createRadialGradient(\r\n        w - this.corner,\r\n        h - this.corner,\r\n        Math.max(this.corner - this.outline - this.edge, 0),\r\n        w - this.corner,\r\n        h - this.corner,\r\n        Math.max(this.corner - this.outline, 0)\r\n    );\r\n    gradient.addColorStop(0, color.toString());\r\n    gradient.addColorStop(1, bottomColor.toString());\r\n\r\n    context.strokeStyle = gradient;\r\n    context.lineCap = 'round';\r\n    context.lineWidth = this.edge;\r\n    context.beginPath();\r\n    context.arc(\r\n        w - this.corner,\r\n        h - this.corner,\r\n        Math.max(this.corner - this.outline - this.edge / 2, 0),\r\n        radians(0),\r\n        radians(90),\r\n        false\r\n    );\r\n    context.stroke();\r\n\r\n    // right:\r\n    gradient = context.createLinearGradient(\r\n        w - this.outline,\r\n        0,\r\n        w - this.outline - this.edge,\r\n        0\r\n    );\r\n    gradient.addColorStop(0, bottomColor.toString());\r\n    gradient.addColorStop(1, color.toString());\r\n\r\n    context.strokeStyle = gradient;\r\n    context.lineCap = 'round';\r\n    context.lineWidth = this.edge;\r\n    context.beginPath();\r\n    context.moveTo(w - this.outline - this.edge / 2, minInset);\r\n    context.lineTo(w - this.outline - this.edge / 2, h - minInset);\r\n    context.stroke();\r\n};\r\n\r\nPushButtonMorph.prototype.createBackgrounds = function () {\r\n    var context,\r\n        ext = this.extent();\r\n\r\n    if (this.template) { // take the backgrounds images from the template\r\n        this.image = this.template.image;\r\n        this.normalImage = this.template.normalImage;\r\n        this.highlightImage = this.template.highlightImage;\r\n        this.pressImage = this.template.pressImage;\r\n        return null;\r\n    }\r\n\r\n    this.normalImage = newCanvas(ext);\r\n    context = this.normalImage.getContext('2d');\r\n    this.drawOutline(context);\r\n    this.drawBackground(context, this.color);\r\n    this.drawEdges(\r\n        context,\r\n        this.color,\r\n        this.color.lighter(this.contrast),\r\n        this.color.darker(this.contrast)\r\n    );\r\n\r\n    this.highlightImage = newCanvas(ext);\r\n    context = this.highlightImage.getContext('2d');\r\n    this.drawOutline(context);\r\n    this.drawBackground(context, this.highlightColor);\r\n    this.drawEdges(\r\n        context,\r\n        this.highlightColor,\r\n        this.highlightColor.lighter(this.contrast),\r\n        this.highlightColor.darker(this.contrast)\r\n    );\r\n\r\n    this.pressImage = newCanvas(ext);\r\n    context = this.pressImage.getContext('2d');\r\n    this.drawOutline(context);\r\n    this.drawBackground(context, this.pressColor);\r\n    this.drawEdges(\r\n        context,\r\n        this.pressColor,\r\n        this.pressColor.darker(this.contrast),\r\n        this.pressColor.lighter(this.contrast)\r\n    );\r\n\r\n    this.image = this.normalImage;\r\n};\r\n\r\nPushButtonMorph.prototype.createLabel = function () {\r\n    var shading = !MorphicPreferences.isFlat || this.is3D;\r\n\r\n    if (this.label !== null) {\r\n        this.label.destroy();\r\n    }\r\n    if (this.labelString instanceof SymbolMorph) {\r\n        this.label = this.labelString.fullCopy();\r\n        if (shading) {\r\n            this.label.shadowOffset = this.labelShadowOffset;\r\n            this.label.shadowColor = this.labelShadowColor;\r\n        }\r\n        this.label.color = this.labelColor;\r\n        this.label.drawNew();\r\n    } else {\r\n        this.label = new StringMorph(\r\n            localize(this.labelString),\r\n            this.fontSize,\r\n            this.fontStyle,\r\n            true,\r\n            false,\r\n            false,\r\n            shading ? this.labelShadowOffset : null,\r\n            this.labelShadowColor,\r\n            this.labelColor\r\n        );\r\n    }\r\n    this.add(this.label);\r\n};\r\n\r\n// PushButtonMorph states\r\n\r\nPushButtonMorph.prototype.disable = function () {\r\n    this.isDisabled = true;\r\n    this.forAllChildren(function (child) {\r\n        child.alpha = 0.3;\r\n    });\r\n    this.changed();\r\n};\r\n\r\nPushButtonMorph.prototype.enable = function () {\r\n    this.isDisabled = false;\r\n    this.forAllChildren(function (child) {\r\n        child.alpha = 1;\r\n    });\r\n    this.changed();\r\n};\r\n\r\n// ToggleButtonMorph ///////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a two-state PushButton. When my state is \"true\" I keep my \"pressed\"\r\n    background color. I can also be set to not auto-layout my bounds, in\r\n    which case my label will left-align.\r\n*/\r\n\r\n// ToggleButtonMorph inherits from PushButtonMorph:\r\n\r\nToggleButtonMorph.prototype = new PushButtonMorph();\r\nToggleButtonMorph.prototype.constructor = ToggleButtonMorph;\r\nToggleButtonMorph.uber = PushButtonMorph.prototype;\r\n\r\n// ToggleButton settings\r\n\r\nToggleButtonMorph.prototype.contrast = 30;\r\n\r\n// ToggleButtonMorph instance creation:\r\n\r\nfunction ToggleButtonMorph(\r\n    colors, // color overrides, <array>: [normal, highlight, pressed]\r\n    target,\r\n    action, // a toggle function\r\n    labelString,\r\n    query, // predicate/selector\r\n    environment,\r\n    hint,\r\n    template, // optional, for cached background images\r\n    minWidth, // <num> optional, if specified label will left-align\r\n    hasPreview, // <bool> show press color on left edge (e.g. category)\r\n    isPicture // treat label as picture, i.e. don't apply typography\r\n) {\r\n    this.init(\r\n        colors,\r\n        target,\r\n        action,\r\n        labelString,\r\n        query,\r\n        environment,\r\n        hint,\r\n        template,\r\n        minWidth,\r\n        hasPreview,\r\n        isPicture\r\n    );\r\n}\r\n\r\nToggleButtonMorph.prototype.init = function (\r\n    colors,\r\n    target,\r\n    action,\r\n    labelString,\r\n    query,\r\n    environment,\r\n    hint,\r\n    template,\r\n    minWidth,\r\n    hasPreview,\r\n    isPicture\r\n) {\r\n    // additional properties:\r\n    this.state = false;\r\n    this.query = query || function () {return true; };\r\n    this.minWidth = minWidth || null;\r\n    this.hasPreview = hasPreview || false;\r\n    this.isPicture = isPicture || false;\r\n    this.trueStateLabel = null;\r\n\r\n    // initialize inherited properties:\r\n    ToggleButtonMorph.uber.init.call(\r\n        this,\r\n        target,\r\n        action,\r\n        labelString,\r\n        environment,\r\n        hint,\r\n        template\r\n    );\r\n\r\n    // override default colors if others are specified\r\n    if (colors) {\r\n        this.color = colors[0];\r\n        this.highlightColor = colors[1];\r\n        this.pressColor = colors[2];\r\n    }\r\n\r\n    this.refresh();\r\n    this.drawNew();\r\n};\r\n\r\n// ToggleButtonMorph events\r\n\r\nToggleButtonMorph.prototype.mouseEnter = function () {\r\n    var contents = this.hint instanceof Function ? this.hint() : this.hint;\r\n    if (!this.state) {\r\n        this.image = this.highlightImage;\r\n        this.changed();\r\n    }\r\n    if (contents) {\r\n        this.bubbleHelp(contents);\r\n    }\r\n};\r\n\r\nToggleButtonMorph.prototype.mouseLeave = function () {\r\n    if (!this.state) {\r\n        this.image = this.normalImage;\r\n        this.changed();\r\n    }\r\n    if (this.schedule) {\r\n        this.schedule.isActive = false;\r\n    }\r\n    if (this.hint) {\r\n        this.world().hand.destroyTemporaries();\r\n    }\r\n};\r\n\r\nToggleButtonMorph.prototype.mouseDownLeft = function () {\r\n    if (!this.state) {\r\n        this.image = this.pressImage;\r\n        this.changed();\r\n    }\r\n};\r\n\r\nToggleButtonMorph.prototype.mouseClickLeft = function () {\r\n    if (!this.state) {\r\n        this.image = this.highlightImage;\r\n        this.changed();\r\n    }\r\n    this.trigger(); // allow me to be triggered again to force-update others\r\n};\r\n\r\n// ToggleButtonMorph action\r\n\r\nToggleButtonMorph.prototype.trigger = function () {\r\n    ToggleButtonMorph.uber.trigger.call(this);\r\n    this.refresh();\r\n};\r\n\r\nToggleButtonMorph.prototype.refresh = function () {\r\n/*\r\n    if query is a function:\r\n    execute the query with target as environment (can be null)\r\n    for lambdafied (inline) actions\r\n\r\n    else if query is a String:\r\n    treat it as function property of target and execute it\r\n    for selector-like queries\r\n*/\r\n    if (typeof this.query === 'function') {\r\n        this.state = this.query.call(this.target);\r\n    } else { // assume it's a String\r\n        this.state = this.target[this.query]();\r\n    }\r\n    if (this.state) {\r\n        this.image = this.pressImage;\r\n        if (this.trueStateLabel) {\r\n            this.label.hide();\r\n            this.trueStateLabel.show();\r\n        }\r\n    } else {\r\n        this.image = this.normalImage;\r\n        if (this.trueStateLabel) {\r\n            this.label.show();\r\n            this.trueStateLabel.hide();\r\n        }\r\n    }\r\n    this.changed();\r\n};\r\n\r\n// ToggleButtonMorph layout:\r\n\r\nToggleButtonMorph.prototype.fixLayout = function () {\r\n    if (this.label !== null) {\r\n        var lw = Math.max(this.label.width(), this.labelMinExtent.x),\r\n            padding = this.padding * 2 + this.outline * 2 + this.edge * 2;\r\n        this.setExtent(new Point(\r\n            (this.minWidth ?\r\n                    Math.max(this.minWidth, lw) + padding\r\n                    : lw + padding),\r\n            Math.max(this.label instanceof StringMorph ?\r\n                    this.label.rawHeight() :\r\n                        this.label.height(), this.labelMinExtent.y) + padding\r\n        ));\r\n        this.label.setCenter(this.center());\r\n        if (this.trueStateLabel) {\r\n            this.trueStateLabel.setCenter(this.center());\r\n        }\r\n        if (this.minWidth) { // left-align along my corner\r\n            this.label.setLeft(\r\n                this.left()\r\n                    + this.outline\r\n                    + this.edge\r\n                    + this.corner\r\n                    + this.padding\r\n            );\r\n        }\r\n    }\r\n};\r\n\r\n// ToggleButtonMorph drawing\r\n\r\nToggleButtonMorph.prototype.createBackgrounds = function () {\r\n/*\r\n    basically the same as inherited from PushButtonMorph, except for\r\n    not inverting the pressImage 3D-ish border (because it stays that way),\r\n    and optionally coloring the left edge in the press-color, previewing\r\n    the selection color (e.g. in the case of Scratch palette-category\r\n    selector. the latter is done in the drawEdges() method.\r\n*/\r\n    var context,\r\n        ext = this.extent();\r\n\r\n    if (this.template) { // take the backgrounds images from the template\r\n        this.image = this.template.image;\r\n        this.normalImage = this.template.normalImage;\r\n        this.highlightImage = this.template.highlightImage;\r\n        this.pressImage = this.template.pressImage;\r\n        return null;\r\n    }\r\n\r\n    this.normalImage = newCanvas(ext);\r\n    context = this.normalImage.getContext('2d');\r\n    this.drawOutline(context);\r\n    this.drawBackground(context, this.color);\r\n    this.drawEdges(\r\n        context,\r\n        this.color,\r\n        this.color.lighter(this.contrast),\r\n        this.color.darker(this.contrast)\r\n    );\r\n\r\n    this.highlightImage = newCanvas(ext);\r\n    context = this.highlightImage.getContext('2d');\r\n    this.drawOutline(context);\r\n    this.drawBackground(context, this.highlightColor);\r\n    this.drawEdges(\r\n        context,\r\n        this.highlightColor,\r\n        this.highlightColor.lighter(this.contrast),\r\n        this.highlightColor.darker(this.contrast)\r\n    );\r\n\r\n    // note: don't invert the 3D-ish edges for pressedImage, because\r\n    // it will stay that way, and should not look inverted (or should it?)\r\n    this.pressImage = newCanvas(ext);\r\n    context = this.pressImage.getContext('2d');\r\n    this.drawOutline(context);\r\n    this.drawBackground(context, this.pressColor);\r\n    this.drawEdges(\r\n        context,\r\n        this.pressColor,\r\n        this.pressColor.lighter(40),\r\n        this.pressColor.darker(40)\r\n    );\r\n\r\n    this.image = this.normalImage;\r\n};\r\n\r\nToggleButtonMorph.prototype.drawEdges = function (\r\n    context,\r\n    color,\r\n    topColor,\r\n    bottomColor\r\n) {\r\n    var gradient;\r\n\r\n    ToggleButtonMorph.uber.drawEdges.call(\r\n        this,\r\n        context,\r\n        color,\r\n        topColor,\r\n        bottomColor\r\n    );\r\n\r\n    if (this.hasPreview) { // indicate the possible selection color\r\n        if (MorphicPreferences.isFlat && !this.is3D) {\r\n            context.fillStyle = this.pressColor.toString();\r\n            context.fillRect(\r\n                this.outline,\r\n                this.outline,\r\n                this.corner,\r\n                this.height() - this.outline * 2\r\n            );\r\n            return;\r\n        }\r\n        gradient = context.createLinearGradient(\r\n            0,\r\n            0,\r\n            this.corner,\r\n            0\r\n        );\r\n        gradient.addColorStop(0, this.pressColor.lighter(40).toString());\r\n        gradient.addColorStop(1, this.pressColor.darker(40).toString());\r\n        context.fillStyle = gradient; // this.pressColor.toString();\r\n        context.beginPath();\r\n        this.previewPath(\r\n            context,\r\n            Math.max(this.corner - this.outline, 0),\r\n            this.outline\r\n        );\r\n        context.closePath();\r\n        context.fill();\r\n    }\r\n};\r\n\r\nToggleButtonMorph.prototype.previewPath = function (context, radius, inset) {\r\n    var offset = radius + inset,\r\n        h = this.height();\r\n\r\n    // top left:\r\n    context.arc(\r\n        offset,\r\n        offset,\r\n        radius,\r\n        radians(-180),\r\n        radians(-90),\r\n        false\r\n    );\r\n    // bottom left:\r\n    context.arc(\r\n        offset,\r\n        h - offset,\r\n        radius,\r\n        radians(90),\r\n        radians(180),\r\n        false\r\n    );\r\n};\r\n\r\nToggleButtonMorph.prototype.createLabel = function () {\r\n    var shading = !MorphicPreferences.isFlat || this.is3D,\r\n        none = new Point();\r\n\r\n    if (this.label !== null) {\r\n        this.label.destroy();\r\n    }\r\n    if (this.trueStateLabel !== null) {\r\n        this.trueStateLabel.destroy();\r\n    }\r\n    if (this.labelString instanceof Array && this.labelString.length === 2) {\r\n        if (this.labelString[0] instanceof SymbolMorph) {\r\n            this.label = this.labelString[0].fullCopy();\r\n            this.trueStateLabel = this.labelString[1].fullCopy();\r\n            if (!this.isPicture) {\r\n                this.label.shadowOffset = shading ?\r\n                        this.labelShadowOffset : none;\r\n                this.label.shadowColor = this.labelShadowColor;\r\n                this.label.color = this.labelColor;\r\n                this.label.drawNew();\r\n\r\n                this.trueStateLabel.shadowOffset = shading ?\r\n                        this.labelShadowOffset : none;\r\n                this.trueStateLabel.shadowColor = this.labelShadowColor;\r\n                this.trueStateLabel.color = this.labelColor;\r\n                this.trueStateLabel.drawNew();\r\n            }\r\n        } else if (this.labelString[0] instanceof Morph) {\r\n            this.label = this.labelString[0].fullCopy();\r\n            this.trueStateLabel = this.labelString[1].fullCopy();\r\n        } else {\r\n            this.label = new StringMorph(\r\n                localize(this.labelString[0]),\r\n                this.fontSize,\r\n                this.fontStyle,\r\n                true,\r\n                false,\r\n                false,\r\n                shading ? this.labelShadowOffset : null,\r\n                this.labelShadowColor,\r\n                this.labelColor\r\n            );\r\n            this.trueStateLabel = new StringMorph(\r\n                localize(this.labelString[1]),\r\n                this.fontSize,\r\n                this.fontStyle,\r\n                true,\r\n                false,\r\n                false,\r\n                shading ? this.labelShadowOffset : null,\r\n                this.labelShadowColor,\r\n                this.labelColor\r\n            );\r\n        }\r\n    } else {\r\n        if (this.labelString instanceof SymbolMorph) {\r\n            this.label = this.labelString.fullCopy();\r\n            if (!this.isPicture) {\r\n                this.label.shadowOffset = shading ?\r\n                        this.labelShadowOffset : none;\r\n                this.label.shadowColor = this.labelShadowColor;\r\n                this.label.color = this.labelColor;\r\n                this.label.drawNew();\r\n            }\r\n        } else if (this.labelString instanceof Morph) {\r\n            this.label = this.labelString.fullCopy();\r\n        } else {\r\n            this.label = new StringMorph(\r\n                localize(this.labelString),\r\n                this.fontSize,\r\n                this.fontStyle,\r\n                true,\r\n                false,\r\n                false,\r\n                shading ? this.labelShadowOffset : none,\r\n                this.labelShadowColor,\r\n                this.labelColor\r\n            );\r\n        }\r\n    }\r\n    this.add(this.label);\r\n    if (this.trueStateLabel) {\r\n        this.add(this.trueStateLabel);\r\n    }\r\n};\r\n\r\n// ToggleButtonMorph hiding and showing:\r\n\r\n/*\r\n    override the inherited behavior to recursively hide/show all\r\n    children, so that my instances get restored correctly when\r\n    hiding/showing my parent.\r\n*/\r\n\r\nToggleButtonMorph.prototype.hide = function () {\r\n    this.isVisible = false;\r\n    this.changed();\r\n};\r\n\r\nToggleButtonMorph.prototype.show = function () {\r\n    this.isVisible = true;\r\n    this.changed();\r\n};\r\n\r\n// TabMorph ///////////////////////////////////////////////////////\r\n\r\n// TabMorph inherits from ToggleButtonMorph:\r\n\r\nTabMorph.prototype = new ToggleButtonMorph();\r\nTabMorph.prototype.constructor = TabMorph;\r\nTabMorph.uber = ToggleButtonMorph.prototype;\r\n\r\n// TabMorph instance creation:\r\n\r\nfunction TabMorph(\r\n    colors, // color overrides, <array>: [normal, highlight, pressed]\r\n    target,\r\n    action, // a toggle function\r\n    labelString,\r\n    query, // predicate/selector\r\n    environment,\r\n    hint\r\n) {\r\n    this.init(\r\n        colors,\r\n        target,\r\n        action,\r\n        labelString,\r\n        query,\r\n        environment,\r\n        hint\r\n    );\r\n}\r\n\r\n// TabMorph layout:\r\n\r\nTabMorph.prototype.fixLayout = function () {\r\n    if (this.label !== null) {\r\n        this.setExtent(new Point(\r\n            this.label.width()\r\n                + this.padding * 2\r\n                + this.corner * 3\r\n                + this.edge * 2,\r\n            (this.label instanceof StringMorph ?\r\n                        this.label.rawHeight() : this.label.height())\r\n                + this.padding * 2\r\n                + this.edge\r\n        ));\r\n        this.label.setCenter(this.center());\r\n    }\r\n};\r\n\r\n// TabMorph action:\r\n\r\nTabMorph.prototype.refresh = function () {\r\n    if (this.state) { // bring to front\r\n        if (this.parent) {\r\n            this.parent.add(this);\r\n        }\r\n    }\r\n    TabMorph.uber.refresh.call(this);\r\n};\r\n\r\n// TabMorph drawing:\r\n\r\nTabMorph.prototype.drawBackground = function (context, color) {\r\n    var w = this.width(),\r\n        h = this.height(),\r\n        c = this.corner;\r\n\r\n    context.fillStyle = color.toString();\r\n    context.beginPath();\r\n    context.moveTo(0, h);\r\n    context.bezierCurveTo(c, h, c, 0, c * 2, 0);\r\n    context.lineTo(w - c * 2, 0);\r\n    context.bezierCurveTo(w - c, 0, w - c, h, w, h);\r\n    context.closePath();\r\n    context.fill();\r\n};\r\n\r\nTabMorph.prototype.drawOutline = function () {\r\n    nop();\r\n};\r\n\r\nTabMorph.prototype.drawEdges = function (\r\n    context,\r\n    color,\r\n    topColor,\r\n    bottomColor\r\n) {\r\n    if (MorphicPreferences.isFlat && !this.is3D) {return; }\r\n\r\n    var w = this.width(),\r\n        h = this.height(),\r\n        c = this.corner,\r\n        e = this.edge,\r\n        eh = e / 2,\r\n        gradient;\r\n\r\n    nop(color); // argument not needed here\r\n\r\n    gradient = context.createLinearGradient(0, 0, w, 0);\r\n    gradient.addColorStop(0, topColor.toString());\r\n    gradient.addColorStop(1, bottomColor.toString());\r\n\r\n    context.strokeStyle = gradient;\r\n    context.lineCap = 'round';\r\n    context.lineWidth = e;\r\n\r\n    context.beginPath();\r\n    context.moveTo(0, h + eh);\r\n    context.bezierCurveTo(c, h, c, 0, c * 2, eh);\r\n    context.lineTo(w - c * 2, eh);\r\n    context.bezierCurveTo(w - c, 0, w - c, h, w, h + eh);\r\n    context.stroke();\r\n};\r\n\r\n// ToggleMorph ///////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a PushButton which toggles a check mark ( becoming check box)\r\n    or a bullet (becoming a radio button). I can have both or either an\r\n    additional label and an additional pictogram, whereas the pictogram\r\n    can be either an instance of (any) Morph, in which case the pictogram\r\n    will be an interactive toggle itself or a Canvas, in which case it\r\n    is just going to be a picture.\r\n*/\r\n\r\n// ToggleMorph inherits from PushButtonMorph:\r\n\r\nToggleMorph.prototype = new PushButtonMorph();\r\nToggleMorph.prototype.constructor = ToggleMorph;\r\nToggleMorph.uber = PushButtonMorph.prototype;\r\n\r\n// ToggleMorph instance creation:\r\n\r\nfunction ToggleMorph(\r\n    style, // 'checkbox' or 'radiobutton'\r\n    target,\r\n    action, // a toggle function\r\n    labelString,\r\n    query, // predicate/selector\r\n    environment,\r\n    hint,\r\n    template,\r\n    element, // optional Morph or Canvas to display\r\n    builder // method which constructs the element (only for Morphs)\r\n) {\r\n    this.init(\r\n        style,\r\n        target,\r\n        action,\r\n        labelString,\r\n        query,\r\n        environment,\r\n        hint,\r\n        template,\r\n        element,\r\n        builder\r\n    );\r\n}\r\n\r\nToggleMorph.prototype.init = function (\r\n    style,\r\n    target,\r\n    action,\r\n    labelString,\r\n    query,\r\n    environment,\r\n    hint,\r\n    template,\r\n    element,\r\n    builder\r\n) {\r\n    // additional properties:\r\n    this.padding = 1;\r\n    style = style || 'checkbox';\r\n    this.corner = (style === 'checkbox' ?\r\n            0 : fontHeight(this.fontSize) / 2 + this.outline + this.padding);\r\n    this.state = false;\r\n    this.query = query || function () {return true; };\r\n    this.tick = null;\r\n    this.captionString = labelString || null;\r\n    this.labelAlignment = 'right';\r\n    this.element = element || null;\r\n    this.builder = builder || null;\r\n    this.toggleElement = null;\r\n\r\n    // initialize inherited properties:\r\n    ToggleMorph.uber.init.call(\r\n        this,\r\n        target,\r\n        action,\r\n        (style === 'checkbox' ? '\\u2713' : '\\u25CF'),\r\n        environment,\r\n        hint,\r\n        template\r\n    );\r\n    this.refresh();\r\n    this.drawNew();\r\n};\r\n\r\n// ToggleMorph layout:\r\n\r\nToggleMorph.prototype.fixLayout = function () {\r\n    var padding = this.padding * 2 + this.outline * 2,\r\n        y;\r\n    if (this.tick !== null) {\r\n        this.silentSetHeight(this.tick.rawHeight() + padding);\r\n        this.silentSetWidth(this.tick.width() + padding);\r\n\r\n        this.setExtent(new Point(\r\n            Math.max(this.width(), this.height()),\r\n            Math.max(this.width(), this.height())\r\n        ));\r\n        this.tick.setCenter(this.center());\r\n    }\r\n    if (this.state) {\r\n        this.tick.show();\r\n    } else {\r\n        this.tick.hide();\r\n    }\r\n    if (this.toggleElement && (this.labelAlignment === 'right')) {\r\n        y = this.top() + (this.height() - this.toggleElement.height()) / 2;\r\n        this.toggleElement.setPosition(new Point(\r\n            this.right() + padding,\r\n            y\r\n        ));\r\n    }\r\n    if (this.label !== null) {\r\n        y = this.top() + (this.height() - this.label.height()) / 2;\r\n        if (this.labelAlignment === 'right') {\r\n            this.label.setPosition(new Point(\r\n                this.toggleElement ?\r\n                        this.toggleElement instanceof ToggleElementMorph ?\r\n                                this.toggleElement.right()\r\n                                : this.toggleElement.right() + padding\r\n                        : this.right() + padding,\r\n                y\r\n            ));\r\n        } else {\r\n            this.label.setPosition(new Point(\r\n                this.left() - this.label.width() - padding,\r\n                y\r\n            ));\r\n        }\r\n    }\r\n};\r\n\r\nToggleMorph.prototype.createLabel = function () {\r\n    var shading = !MorphicPreferences.isFlat || this.is3D;\r\n\r\n    if (this.label === null) {\r\n        if (this.captionString) {\r\n            this.label = new TextMorph(\r\n                localize(this.captionString),\r\n                this.fontSize,\r\n                this.fontStyle,\r\n                true\r\n            );\r\n            this.add(this.label);\r\n        }\r\n    }\r\n    if (this.tick === null) {\r\n        this.tick = new StringMorph(\r\n            localize(this.labelString),\r\n            this.fontSize,\r\n            this.fontStyle,\r\n            true,\r\n            false,\r\n            false,\r\n            shading ? new Point(1, 1) : null,\r\n            new Color(240, 240, 240)\r\n        );\r\n        this.add(this.tick);\r\n    }\r\n    if (this.toggleElement === null) {\r\n        if (this.element) {\r\n            if (this.element instanceof Morph) {\r\n                this.toggleElement = new ToggleElementMorph(\r\n                    this.target,\r\n                    this.action,\r\n                    this.element,\r\n                    this.query,\r\n                    this.environment,\r\n                    this.hint,\r\n                    this.builder\r\n                );\r\n            } else if (this.element instanceof HTMLCanvasElement) {\r\n                this.toggleElement = new Morph();\r\n                this.toggleElement.silentSetExtent(new Point(\r\n                    this.element.width,\r\n                    this.element.height\r\n                ));\r\n                this.toggleElement.image = this.element;\r\n            }\r\n            this.add(this.toggleElement);\r\n        }\r\n    }\r\n};\r\n\r\n// ToggleMorph action:\r\n\r\nToggleMorph.prototype.trigger = function () {\r\n    ToggleMorph.uber.trigger.call(this);\r\n    this.refresh();\r\n};\r\n\r\nToggleMorph.prototype.refresh = function () {\r\n    /*\r\n    if query is a function:\r\n    execute the query with target as environment (can be null)\r\n    for lambdafied (inline) actions\r\n\r\n    else if query is a String:\r\n    treat it as function property of target and execute it\r\n    for selector-like queries\r\n    */\r\n    if (typeof this.query === 'function') {\r\n        this.state = this.query.call(this.target);\r\n    } else { // assume it's a String\r\n        this.state = this.target[this.query]();\r\n    }\r\n    if (this.state) {\r\n        this.tick.show();\r\n    } else {\r\n        this.tick.hide();\r\n    }\r\n    if (this.toggleElement && this.toggleElement.refresh) {\r\n        this.toggleElement.refresh();\r\n    }\r\n};\r\n\r\n// ToggleMorph events\r\n\r\nToggleMorph.prototype.mouseDownLeft = function () {\r\n    PushButtonMorph.uber.mouseDownLeft.call(this);\r\n    if (this.tick) {\r\n        this.tick.setCenter(this.center().add(1));\r\n    }\r\n};\r\n\r\nToggleMorph.prototype.mouseClickLeft = function () {\r\n    PushButtonMorph.uber.mouseClickLeft.call(this);\r\n    if (this.tick) {\r\n        this.tick.setCenter(this.center());\r\n    }\r\n};\r\n\r\nToggleMorph.prototype.mouseLeave = function () {\r\n    PushButtonMorph.uber.mouseLeave.call(this);\r\n    if (this.tick) {\r\n        this.tick.setCenter(this.center());\r\n    }\r\n};\r\n\r\n// ToggleMorph hiding and showing:\r\n\r\n/*\r\n    override the inherited behavior to recursively hide/show all\r\n    children, so that my instances get restored correctly when\r\n    hiding/showing my parent.\r\n*/\r\n\r\nToggleMorph.prototype.hide = ToggleButtonMorph.prototype.hide;\r\n\r\nToggleMorph.prototype.show = ToggleButtonMorph.prototype.show;\r\n\r\n// ToggleElementMorph /////////////////////////////////////////////////////\r\n/*\r\n    I am a picture of a Morph (\"element\") which acts as a toggle button.\r\n    I am different from ToggleButton in that I neither create a label nor\r\n    draw button outlines. Instead I display my element morph in specified\r\n    contrasts of a given color, symbolizing whether it is selected or not\r\n*/\r\n\r\n// ToggleElementMorph inherits from TriggerMorph:\r\n\r\nToggleElementMorph.prototype = new TriggerMorph();\r\nToggleElementMorph.prototype.constructor = ToggleElementMorph;\r\nToggleElementMorph.uber = TriggerMorph.prototype;\r\n\r\n// ToggleElementMorph preferences settings\r\n\r\nToggleElementMorph.prototype.contrast = 50;\r\nToggleElementMorph.prototype.shadowOffset = new Point(2, 2);\r\nToggleElementMorph.prototype.shadowAlpha = 0.6;\r\nToggleElementMorph.prototype.fontSize = 10; // only for (optional) labels\r\nToggleElementMorph.prototype.inactiveColor = new Color(180, 180, 180);\r\n\r\n// ToggleElementMorph instance creation:\r\n\r\nfunction ToggleElementMorph(\r\n    target,\r\n    action,\r\n    element,\r\n    query,\r\n    environment,\r\n    hint,\r\n    builder,\r\n    labelString\r\n) {\r\n    this.init(\r\n        target,\r\n        action,\r\n        element,\r\n        query,\r\n        environment,\r\n        hint,\r\n        builder,\r\n        labelString\r\n    );\r\n}\r\n\r\nToggleElementMorph.prototype.init = function (\r\n    target,\r\n    action,\r\n    element, // mandatory\r\n    query,\r\n    environment,\r\n    hint,\r\n    builder, // optional function name that rebuilds the element\r\n    labelString\r\n) {\r\n    // additional properties:\r\n    this.target = target || null;\r\n    this.action = action || null;\r\n    this.element = element;\r\n    this.query = query || function () {return true; };\r\n    this.environment = environment || null;\r\n    this.hint = hint || null;\r\n    this.builder = builder || 'nop';\r\n    this.captionString = labelString || null;\r\n    this.labelAlignment = 'right';\r\n    this.state = false;\r\n\r\n    // initialize inherited properties:\r\n    TriggerMorph.uber.init.call(this);\r\n\r\n    // override inherited properties:\r\n    this.color = element.color;\r\n    this.createLabel();\r\n};\r\n\r\n// ToggleElementMorph drawing:\r\n\r\nToggleElementMorph.prototype.createBackgrounds = function () {\r\n    var shading = !MorphicPreferences.isFlat || this.is3D;\r\n\r\n    this.color = this.element.color;\r\n    this.element.removeShadow();\r\n    this.element[this.builder]();\r\n    if (shading) {\r\n        this.element.addShadow(this.shadowOffset, this.shadowAlpha);\r\n    }\r\n    this.silentSetExtent(this.element.fullBounds().extent()); // w/ shadow\r\n    this.pressImage = this.element.fullImage();\r\n\r\n    this.element.removeShadow();\r\n    this.element.setColor(this.inactiveColor);\r\n    this.element[this.builder](this.contrast);\r\n    if (shading) {\r\n        this.element.addShadow(this.shadowOffset, 0);\r\n    }\r\n    this.normalImage = this.element.fullImage();\r\n\r\n    this.element.removeShadow();\r\n    this.element.setColor(this.color.lighter(this.contrast));\r\n    this.element[this.builder](this.contrast);\r\n    if (shading) {\r\n        this.element.addShadow(this.shadowOffset, this.shadowAlpha);\r\n    }\r\n    this.highlightImage = this.element.fullImage();\r\n\r\n    this.element.removeShadow();\r\n    this.element.setColor(this.color);\r\n    this.element[this.builder]();\r\n    this.image = this.normalImage;\r\n};\r\n\r\nToggleElementMorph.prototype.setColor = function (aColor) {\r\n    this.element.setColor(aColor);\r\n    this.createBackgrounds();\r\n    this.refresh();\r\n};\r\n\r\n// ToggleElementMorph layout:\r\n\r\nToggleElementMorph.prototype.createLabel = function () {\r\n    var y;\r\n    if (this.captionString) {\r\n        this.label = new StringMorph(\r\n            this.captionString,\r\n            this.fontSize,\r\n            this.fontStyle,\r\n            true\r\n        );\r\n        this.add(this.label);\r\n        y = this.top() + (this.height() - this.label.height()) / 2;\r\n        if (this.labelAlignment === 'right') {\r\n            this.label.setPosition(new Point(\r\n                this.right(),\r\n                y\r\n            ));\r\n        } else {\r\n            this.label.setPosition(new Point(\r\n                this.left() - this.label.width(),\r\n                y\r\n            ));\r\n        }\r\n    }\r\n};\r\n\r\n// ToggleElementMorph action\r\n\r\nToggleElementMorph.prototype.trigger\r\n    = ToggleButtonMorph.prototype.trigger;\r\n\r\nToggleElementMorph.prototype.refresh\r\n    = ToggleButtonMorph.prototype.refresh;\r\n\r\n// ToggleElementMorph events\r\n\r\nToggleElementMorph.prototype.mouseEnter\r\n    = ToggleButtonMorph.prototype.mouseEnter;\r\n\r\nToggleElementMorph.prototype.mouseLeave\r\n    = ToggleButtonMorph.prototype.mouseLeave;\r\n\r\nToggleElementMorph.prototype.mouseDownLeft\r\n    = ToggleButtonMorph.prototype.mouseDownLeft;\r\n\r\nToggleElementMorph.prototype.mouseClickLeft\r\n    = ToggleButtonMorph.prototype.mouseClickLeft;\r\n\r\n// DialogBoxMorph /////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a DialogBox frame.\r\n\r\n    Note:\r\n    -----\r\n    my key property keeps track of my purpose to prevent multiple instances\r\n    on the same or similar objects\r\n*/\r\n\r\n// DialogBoxMorph inherits from Morph:\r\n\r\nDialogBoxMorph.prototype = new Morph();\r\nDialogBoxMorph.prototype.constructor = DialogBoxMorph;\r\nDialogBoxMorph.uber = Morph.prototype;\r\n\r\n// DialogBoxMorph preferences settings:\r\n\r\nDialogBoxMorph.prototype.fontSize = 12;\r\nDialogBoxMorph.prototype.titleFontSize = 14;\r\nDialogBoxMorph.prototype.fontStyle = 'sans-serif';\r\n\r\nDialogBoxMorph.prototype.color = PushButtonMorph.prototype.color;\r\nDialogBoxMorph.prototype.titleTextColor = new Color(255, 255, 255);\r\nDialogBoxMorph.prototype.titleBarColor\r\n    = PushButtonMorph.prototype.pressColor;\r\n\r\nDialogBoxMorph.prototype.contrast = 40;\r\n\r\nDialogBoxMorph.prototype.corner = 12;\r\nDialogBoxMorph.prototype.padding = 14;\r\nDialogBoxMorph.prototype.titlePadding = 6;\r\n\r\nDialogBoxMorph.prototype.buttonContrast = 50;\r\nDialogBoxMorph.prototype.buttonFontSize = 12;\r\nDialogBoxMorph.prototype.buttonCorner = 12;\r\nDialogBoxMorph.prototype.buttonEdge = 6;\r\nDialogBoxMorph.prototype.buttonPadding = 0;\r\nDialogBoxMorph.prototype.buttonOutline = 3;\r\nDialogBoxMorph.prototype.buttonOutlineColor\r\n    = PushButtonMorph.prototype.color;\r\nDialogBoxMorph.prototype.buttonOutlineGradient = true;\r\n\r\nDialogBoxMorph.prototype.instances = {}; // prevent multiple instances\r\n\r\n// DialogBoxMorph instance creation:\r\n\r\nfunction DialogBoxMorph(target, action, environment) {\r\n    this.init(target, action, environment);\r\n}\r\n\r\nDialogBoxMorph.prototype.init = function (target, action, environment) {\r\n    // additional properties:\r\n    this.is3D = false; // for \"flat\" design exceptions\r\n    this.target = target || null;\r\n    this.action = action || null;\r\n    this.environment = environment || null;\r\n    this.key = null; // keep track of my purpose to prevent mulitple instances\r\n\r\n    this.labelString = null;\r\n    this.label = null;\r\n    this.head = null;\r\n    this.body = null;\r\n    this.buttons = null;\r\n\r\n    // initialize inherited properties:\r\n    DialogBoxMorph.uber.init.call(this);\r\n\r\n    // override inherited properites:\r\n    this.isDraggable = true;\r\n    this.color = PushButtonMorph.prototype.color;\r\n    this.createLabel();\r\n    this.createButtons();\r\n    this.setExtent(new Point(300, 150));\r\n};\r\n\r\n// DialogBoxMorph ops\r\nDialogBoxMorph.prototype.inform = function (\r\n    title,\r\n    textString,\r\n    world,\r\n    pic\r\n) {\r\n    var txt = new TextMorph(\r\n        textString,\r\n        this.fontSize,\r\n        this.fontStyle,\r\n        true,\r\n        false,\r\n        'center',\r\n        null,\r\n        null,\r\n        MorphicPreferences.isFlat ? null : new Point(1, 1),\r\n        new Color(255, 255, 255)\r\n    );\r\n\r\n    if (!this.key) {\r\n        this.key = 'inform' + title + textString;\r\n    }\r\n\r\n    this.labelString = title;\r\n    this.createLabel();\r\n    if (pic) {this.setPicture(pic); }\r\n    if (textString) {\r\n        this.addBody(txt);\r\n    }\r\n    this.addButton('ok', 'OK');\r\n    this.drawNew();\r\n    this.fixLayout();\r\n    this.popUp(world);\r\n};\r\n\r\nDialogBoxMorph.prototype.askYesNo = function (\r\n    title,\r\n    textString,\r\n    world,\r\n    pic\r\n) {\r\n    var txt = new TextMorph(\r\n        textString,\r\n        this.fontSize,\r\n        this.fontStyle,\r\n        true,\r\n        false,\r\n        'center',\r\n        null,\r\n        null,\r\n        MorphicPreferences.isFlat ? null : new Point(1, 1),\r\n        new Color(255, 255, 255)\r\n    );\r\n\r\n    if (!this.key) {\r\n        this.key = 'decide' + title + textString;\r\n    }\r\n\r\n    this.labelString = title;\r\n    this.createLabel();\r\n    if (pic) {this.setPicture(pic); }\r\n    this.addBody(txt);\r\n    this.addButton('ok', 'Yes');\r\n    this.addButton('cancel', 'No');\r\n    this.fixLayout();\r\n    this.drawNew();\r\n    this.fixLayout();\r\n    this.popUp(world);\r\n};\r\n\r\nDialogBoxMorph.prototype.prompt = function (\r\n    title,\r\n    defaultString,\r\n    world,\r\n    pic,\r\n    choices, // optional dictionary for drop-down of choices\r\n    isReadOnly, // optional when using choices\r\n    isNumeric, // optional\r\n    sliderMin, // optional for numeric sliders\r\n    sliderMax, // optional for numeric sliders\r\n    sliderAction // optional single-arg function for numeric slider\r\n) {\r\n    var sld,\r\n        head,\r\n        txt = new InputFieldMorph(\r\n            defaultString,\r\n            isNumeric || false, // numeric?\r\n            choices || null, // drop-down dict, optional\r\n            choices ? isReadOnly || false : false\r\n        );\r\n    txt.setWidth(250);\r\n    if (isNumeric) {\r\n        if (pic) {\r\n            head = new AlignmentMorph('column', this.padding);\r\n            pic.setPosition(head.position());\r\n            head.add(pic);\r\n        }\r\n        if (!isNil(sliderMin) && !isNil(sliderMax)) {\r\n            sld = new SliderMorph(\r\n                sliderMin * 100,\r\n                sliderMax * 100,\r\n                parseFloat(defaultString) * 100,\r\n                (sliderMax - sliderMin) / 10 * 100,\r\n                'horizontal'\r\n            );\r\n            sld.alpha = 1;\r\n            sld.color = this.color.lighter(50);\r\n            sld.setHeight(txt.height() * 0.7);\r\n            sld.setWidth(txt.width());\r\n            sld.action = function (num) {\r\n                if (sliderAction) {\r\n                    sliderAction(num / 100);\r\n                }\r\n                txt.setContents(num / 100);\r\n                txt.edit();\r\n            };\r\n            if (!head) {\r\n                head = new AlignmentMorph('column', this.padding);\r\n            }\r\n            head.add(sld);\r\n        }\r\n        if (head) {\r\n            head.fixLayout();\r\n            this.setPicture(head);\r\n            head.fixLayout();\r\n        }\r\n    } else {\r\n        if (pic) {this.setPicture(pic); }\r\n    }\r\n\r\n    this.reactToChoice = function (inp) {\r\n        if (sld) {\r\n            sld.value = inp * 100;\r\n            sld.drawNew();\r\n            sld.changed();\r\n        }\r\n        if (sliderAction) {\r\n            sliderAction(inp);\r\n        }\r\n    };\r\n\r\n    txt.reactToKeystroke = function () {\r\n        var inp = txt.getValue();\r\n        if (sld) {\r\n            inp = Math.max(inp, sliderMin);\r\n            sld.value = inp * 100;\r\n            sld.drawNew();\r\n            sld.changed();\r\n        }\r\n        if (sliderAction) {\r\n            sliderAction(inp);\r\n        }\r\n    };\r\n\r\n    this.labelString = title;\r\n    this.createLabel();\r\n\r\n    if (!this.key) {\r\n        this.key = 'prompt' + title + defaultString;\r\n    }\r\n\r\n    this.addBody(txt);\r\n    txt.drawNew();\r\n    this.addButton('ok', 'OK');\r\n    this.addButton('cancel', 'Cancel');\r\n    this.fixLayout();\r\n    this.drawNew();\r\n    this.fixLayout();\r\n    this.popUp(world);\r\n};\r\n\r\nDialogBoxMorph.prototype.promptCode = function (\r\n    title,\r\n    defaultString,\r\n    world,\r\n    pic,\r\n    instructions\r\n) {\r\n    var frame = new ScrollFrameMorph(),\r\n        text = new TextMorph(defaultString || ''),\r\n        bdy = new AlignmentMorph('column', this.padding),\r\n        size = pic ? Math.max(pic.width, 400) : 400;\r\n\r\n    this.getInput = function () {\r\n        return text.text;\r\n    };\r\n\r\n    function remarkText(string) {\r\n        return new TextMorph(\r\n            localize(string),\r\n            10,\r\n            null, // style\r\n            false, // bold\r\n            null, // italic\r\n            null, // alignment\r\n            null, // width\r\n            null, // font name\r\n            MorphicPreferences.isFlat ? null : new Point(1, 1),\r\n            new Color(255, 255, 255) // shadowColor\r\n        );\r\n    }\r\n\r\n    frame.padding = 6;\r\n    frame.setWidth(size);\r\n    frame.acceptsDrops = false;\r\n    frame.contents.acceptsDrops = false;\r\n\r\n    text.fontName = 'monospace';\r\n    text.fontStyle = 'monospace';\r\n    text.fontSize = 11;\r\n    text.setPosition(frame.topLeft().add(frame.padding));\r\n    text.enableSelecting();\r\n    text.isEditable = true;\r\n\r\n    frame.setHeight(size / 4);\r\n    frame.fixLayout = nop;\r\n    frame.edge = InputFieldMorph.prototype.edge;\r\n    frame.fontSize = InputFieldMorph.prototype.fontSize;\r\n    frame.typeInPadding = InputFieldMorph.prototype.typeInPadding;\r\n    frame.contrast = InputFieldMorph.prototype.contrast;\r\n    frame.drawNew = InputFieldMorph.prototype.drawNew;\r\n    frame.drawRectBorder = InputFieldMorph.prototype.drawRectBorder;\r\n\r\n    frame.addContents(text);\r\n    text.drawNew();\r\n\r\n    if (pic) {this.setPicture(pic); }\r\n\r\n    this.labelString = title;\r\n    this.createLabel();\r\n\r\n    if (!this.key) {\r\n        this.key = 'promptCode' + title + defaultString;\r\n    }\r\n\r\n    bdy.setColor(this.color);\r\n    bdy.add(frame);\r\n    if (instructions) {\r\n        bdy.add(remarkText(instructions));\r\n    }\r\n    bdy.fixLayout();\r\n\r\n    this.addBody(bdy);\r\n    frame.drawNew();\r\n    bdy.drawNew();\r\n\r\n    this.addButton('ok', 'OK');\r\n    this.addButton('cancel', 'Cancel');\r\n    this.fixLayout();\r\n    this.drawNew();\r\n    this.fixLayout();\r\n    this.popUp(world);\r\n    text.edit();\r\n};\r\n\r\nDialogBoxMorph.prototype.promptVector = function (\r\n    title,\r\n    point,\r\n    deflt,\r\n    xLabel,\r\n    yLabel,\r\n    world,\r\n    pic,\r\n    msg\r\n) {\r\n    var vec = new AlignmentMorph('row', 4),\r\n        xInp = new InputFieldMorph(point.x.toString(), true),\r\n        yInp = new InputFieldMorph(point.y.toString(), true),\r\n        xCol = new AlignmentMorph('column', 2),\r\n        yCol = new AlignmentMorph('column', 2),\r\n        inp = new AlignmentMorph('column', 2),\r\n        bdy = new AlignmentMorph('column', this.padding);\r\n\r\n    function labelText(string) {\r\n        return new TextMorph(\r\n            localize(string),\r\n            10,\r\n            null, // style\r\n            false, // bold\r\n            null, // italic\r\n            null, // alignment\r\n            null, // width\r\n            null, // font name\r\n            MorphicPreferences.isFlat ? null : new Point(1, 1),\r\n            new Color(255, 255, 255) // shadowColor\r\n        );\r\n    }\r\n\r\n    inp.alignment = 'left';\r\n    inp.setColor(this.color);\r\n    bdy.setColor(this.color);\r\n    xCol.alignment = 'left';\r\n    xCol.setColor(this.color);\r\n    yCol.alignment = 'left';\r\n    yCol.setColor(this.color);\r\n\r\n    xCol.add(labelText(xLabel));\r\n    xCol.add(xInp);\r\n    yCol.add(labelText(yLabel));\r\n    yCol.add(yInp);\r\n    vec.add(xCol);\r\n    vec.add(yCol);\r\n    inp.add(vec);\r\n\r\n    if (msg) {\r\n        bdy.add(labelText(msg));\r\n    }\r\n\r\n    bdy.add(inp);\r\n\r\n    vec.fixLayout();\r\n    xCol.fixLayout();\r\n    yCol.fixLayout();\r\n    inp.fixLayout();\r\n    bdy.fixLayout();\r\n\r\n    this.labelString = title;\r\n    this.createLabel();\r\n    if (pic) {this.setPicture(pic); }\r\n\r\n    this.addBody(bdy);\r\n\r\n    vec.drawNew();\r\n    xCol.drawNew();\r\n    xInp.drawNew();\r\n    yCol.drawNew();\r\n    yInp.drawNew();\r\n    bdy.fixLayout();\r\n\r\n    this.addButton('ok', 'OK');\r\n\r\n    if (deflt instanceof Point) {\r\n        this.addButton(\r\n            function () {\r\n                xInp.setContents(deflt.x.toString());\r\n                yInp.setContents(deflt.y.toString());\r\n            },\r\n            'Default'\r\n\r\n        );\r\n    }\r\n\r\n    this.addButton('cancel', 'Cancel');\r\n    this.fixLayout();\r\n    this.drawNew();\r\n    this.fixLayout();\r\n\r\n    this.edit = function () {\r\n        xInp.edit();\r\n    };\r\n\r\n    this.getInput = function () {\r\n        return new Point(xInp.getValue(), yInp.getValue());\r\n    };\r\n\r\n    if (!this.key) {\r\n        this.key = 'vector' + title;\r\n    }\r\n\r\n    this.popUp(world);\r\n};\r\n\r\nDialogBoxMorph.prototype.promptCredentials = function (\r\n    title,\r\n    purpose,\r\n    tosURL,\r\n    tosLabel,\r\n    prvURL,\r\n    prvLabel,\r\n    checkBoxLabel,\r\n    world,\r\n    pic,\r\n    msg\r\n) {\r\n    var usr = new InputFieldMorph(),\r\n        bmn,\r\n        byr,\r\n        emlLabel,\r\n        eml = new InputFieldMorph(),\r\n        pw1 = new InputFieldMorph(),\r\n        pw2 = new InputFieldMorph(),\r\n        opw = new InputFieldMorph(),\r\n        agree = false,\r\n        chk,\r\n        dof = new AlignmentMorph('row', 4),\r\n        mCol = new AlignmentMorph('column', 2),\r\n        yCol = new AlignmentMorph('column', 2),\r\n        inp = new AlignmentMorph('column', 2),\r\n        lnk = new AlignmentMorph('row', 4),\r\n        bdy = new AlignmentMorph('column', this.padding),\r\n        years = {},\r\n        currentYear = new Date().getFullYear(),\r\n        firstYear = currentYear - 20,\r\n        myself = this;\r\n\r\n    function labelText(string) {\r\n        return new TextMorph(\r\n            localize(string),\r\n            10,\r\n            null, // style\r\n            false, // bold\r\n            null, // italic\r\n            null, // alignment\r\n            null, // width\r\n            null, // font name\r\n            MorphicPreferences.isFlat ? null : new Point(1, 1),\r\n            new Color(255, 255, 255) // shadowColor\r\n        );\r\n    }\r\n\r\n    function linkButton(label, url) {\r\n        var btn = new PushButtonMorph(\r\n            myself,\r\n            function () {\r\n                window.open(url);\r\n            },\r\n            '  ' + localize(label) + '  '\r\n        );\r\n        btn.fontSize = 10;\r\n        btn.corner = myself.buttonCorner;\r\n        btn.edge = myself.buttonEdge;\r\n        btn.outline = myself.buttonOutline;\r\n        btn.outlineColor = myself.buttonOutlineColor;\r\n        btn.outlineGradient = myself.buttonOutlineGradient;\r\n        btn.padding = myself.buttonPadding;\r\n        btn.contrast = myself.buttonContrast;\r\n        btn.drawNew();\r\n        btn.fixLayout();\r\n        return btn;\r\n    }\r\n\r\n    function age() {\r\n        var today = new Date().getFullYear() + new Date().getMonth() / 12,\r\n            year = +byr.getValue() || 0,\r\n            monthName = bmn.getValue(),\r\n            month,\r\n            birthday;\r\n        if (monthName instanceof Array) { // translatable\r\n            monthName = monthName[0];\r\n        }\r\n        if (isNaN(year)) {\r\n            year = 0;\r\n        }\r\n        month = [\r\n            'January',\r\n            'February',\r\n            'March',\r\n            'April',\r\n            'May',\r\n            'June',\r\n            'July',\r\n            'August',\r\n            'September',\r\n            'October',\r\n            'November',\r\n            'December'\r\n        ].indexOf(monthName);\r\n        if (isNaN(month)) {\r\n            month = 0;\r\n        }\r\n        birthday = year + month / 12;\r\n        return today - birthday;\r\n    }\r\n\r\n    bmn = new InputFieldMorph(\r\n        null, // text\r\n        false, // numeric?\r\n        {\r\n            'January' : ['January'],\r\n            'February' : ['February'],\r\n            'March' : ['March'],\r\n            'April' : ['April'],\r\n            'May' : ['May'],\r\n            'June' : ['June'],\r\n            'July' : ['July'],\r\n            'August' : ['August'],\r\n            'September' : ['September'],\r\n            'October' : ['October'],\r\n            'November' : ['November'],\r\n            'December' : ['December']\r\n        },\r\n        true // read-only\r\n    );\r\n    for (currentYear; currentYear > firstYear; currentYear -= 1) {\r\n        years[currentYear.toString() + ' '] = currentYear;\r\n    }\r\n    years[firstYear + ' ' + localize('or before')] = '< ' + currentYear;\r\n    byr = new InputFieldMorph(\r\n        null, // text\r\n        false, // numeric?\r\n        years,\r\n        true // read-only\r\n    );\r\n\r\n    inp.alignment = 'left';\r\n    inp.setColor(this.color);\r\n    bdy.setColor(this.color);\r\n\r\n    mCol.alignment = 'left';\r\n    mCol.setColor(this.color);\r\n    yCol.alignment = 'left';\r\n    yCol.setColor(this.color);\r\n\r\n    usr.setWidth(200);\r\n    bmn.setWidth(100);\r\n    byr.contents().minWidth = 80;\r\n    byr.setWidth(80);\r\n    eml.setWidth(200);\r\n    pw1.setWidth(200);\r\n    pw2.setWidth(200);\r\n    opw.setWidth(200);\r\n    pw1.contents().text.toggleIsPassword();\r\n    pw2.contents().text.toggleIsPassword();\r\n    opw.contents().text.toggleIsPassword();\r\n\r\n    if (purpose === 'login') {\r\n        inp.add(labelText('User name:'));\r\n        inp.add(usr);\r\n    }\r\n\r\n    if (purpose === 'signup') {\r\n        inp.add(labelText('User name:'));\r\n        inp.add(usr);\r\n        mCol.add(labelText('Birth date:'));\r\n        mCol.add(bmn);\r\n        yCol.add(labelText('year:'));\r\n        yCol.add(byr);\r\n        dof.add(mCol);\r\n        dof.add(yCol);\r\n        inp.add(dof);\r\n        emlLabel = labelText('foo');\r\n        inp.add(emlLabel);\r\n        inp.add(eml);\r\n    }\r\n\r\n    if (purpose === 'login') {\r\n        inp.add(labelText('Password:'));\r\n        inp.add(pw1);\r\n    }\r\n\r\n    if (purpose === 'changePassword') {\r\n        inp.add(labelText('Old password:'));\r\n        inp.add(opw);\r\n        inp.add(labelText('New password:'));\r\n        inp.add(pw1);\r\n        inp.add(labelText('Repeat new password:'));\r\n        inp.add(pw2);\r\n    }\r\n\r\n    if (purpose === 'resetPassword') {\r\n        inp.add(labelText('User name:'));\r\n        inp.add(usr);\r\n    }\r\n\r\n    if (msg) {\r\n        bdy.add(labelText(msg));\r\n    }\r\n\r\n    bdy.add(inp);\r\n\r\n    if (tosURL || prvURL) {\r\n        bdy.add(lnk);\r\n    }\r\n    if (tosURL) {\r\n        lnk.add(linkButton(tosLabel, tosURL));\r\n    }\r\n    if (prvURL) {\r\n        lnk.add(linkButton(prvLabel, prvURL));\r\n    }\r\n\r\n    if (checkBoxLabel) {\r\n        chk = new ToggleMorph(\r\n            'checkbox',\r\n            this,\r\n            function () {agree = !agree; }, // action,\r\n            checkBoxLabel,\r\n            function () {return agree; } //query\r\n        );\r\n        chk.edge = this.buttonEdge / 2;\r\n        chk.outline = this.buttonOutline / 2;\r\n        chk.outlineColor = this.buttonOutlineColor;\r\n        chk.outlineGradient = this.buttonOutlineGradient;\r\n        chk.contrast = this.buttonContrast;\r\n        chk.drawNew();\r\n        chk.fixLayout();\r\n        bdy.add(chk);\r\n    }\r\n\r\n    dof.fixLayout();\r\n    mCol.fixLayout();\r\n    yCol.fixLayout();\r\n    inp.fixLayout();\r\n    lnk.fixLayout();\r\n    bdy.fixLayout();\r\n\r\n    this.labelString = title;\r\n    this.createLabel();\r\n    if (pic) {this.setPicture(pic); }\r\n\r\n    this.addBody(bdy);\r\n\r\n    usr.drawNew();\r\n    dof.drawNew();\r\n    mCol.drawNew();\r\n    bmn.drawNew();\r\n    yCol.drawNew();\r\n    byr.drawNew();\r\n    pw1.drawNew();\r\n    pw2.drawNew();\r\n    opw.drawNew();\r\n    eml.drawNew();\r\n    bdy.fixLayout();\r\n\r\n    this.addButton('ok', 'OK');\r\n    this.addButton('cancel', 'Cancel');\r\n    this.fixLayout();\r\n    this.drawNew();\r\n    this.fixLayout();\r\n\r\n    function validInputs() {\r\n        var checklist,\r\n            empty,\r\n            em = eml.getValue();\r\n\r\n        function indicate(morph, string) {\r\n            var bubble = new SpeechBubbleMorph(localize(string));\r\n            bubble.isPointingRight = false;\r\n            bubble.drawNew();\r\n            bubble.popUp(\r\n                world,\r\n                morph.leftCenter().subtract(new Point(bubble.width() + 2, 0))\r\n            );\r\n            if (morph.edit) {\r\n                morph.edit();\r\n            }\r\n        }\r\n\r\n        if (purpose === 'login') {\r\n            checklist = [usr, pw1];\r\n        } else if (purpose === 'signup') {\r\n            checklist = [usr, bmn, byr, eml];\r\n        } else if (purpose === 'changePassword') {\r\n            checklist = [opw, pw1, pw2];\r\n        } else if (purpose === 'resetPassword') {\r\n            checklist = [usr];\r\n        }\r\n\r\n        empty = detect(\r\n            checklist,\r\n            function (inp) {\r\n                return !inp.getValue();\r\n            }\r\n        );\r\n        if (empty) {\r\n            indicate(empty, 'please fill out\\nthis field');\r\n            return false;\r\n        }\r\n        if (purpose === 'signup') {\r\n            if (usr.getValue().length < 4) {\r\n                indicate(usr, 'User name must be four\\ncharacters or longer');\r\n                return false;\r\n            }\r\n            if (em.indexOf(' ') > -1 || em.indexOf('@') === -1\r\n                    || em.indexOf('.') === -1) {\r\n                indicate(eml, 'please provide a valid\\nemail address');\r\n                return false;\r\n            }\r\n        }\r\n        if (purpose === 'changePassword') {\r\n            if (pw1.getValue().length < 6) {\r\n                indicate(pw1, 'password must be six\\ncharacters or longer');\r\n                return false;\r\n            }\r\n            if (pw1.getValue() !== pw2.getValue()) {\r\n                indicate(pw2, 'passwords do\\nnot match');\r\n                return false;\r\n            }\r\n        }\r\n        if (purpose === 'signup') {\r\n            if (!agree) {\r\n                indicate(chk, 'please agree to\\nthe TOS');\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    this.accept = function () {\r\n        if (validInputs()) {\r\n            DialogBoxMorph.prototype.accept.call(myself);\r\n        }\r\n    };\r\n\r\n    this.edit = function () {\r\n        if (purpose === 'changePassword') {\r\n            opw.edit();\r\n        } else { // 'signup', 'login', 'resetPassword'\r\n            usr.edit();\r\n        }\r\n    };\r\n\r\n    this.getInput = function () {\r\n        return {\r\n            username: usr.getValue(),\r\n            email: eml.getValue(),\r\n            oldpassword: opw.getValue(),\r\n            password: pw1.getValue(),\r\n            choice: agree\r\n        };\r\n    };\r\n\r\n    this.reactToChoice = function () {\r\n        if (purpose === 'signup') {\r\n            emlLabel.changed();\r\n            emlLabel.text = age() <= 13 ?\r\n                    'E-mail address of parent or guardian:'\r\n                        : 'E-mail address:';\r\n            emlLabel.text = localize(emlLabel.text);\r\n            emlLabel.drawNew();\r\n            emlLabel.changed();\r\n        }\r\n    };\r\n\r\n    this.reactToChoice(); // initialize e-mail label\r\n\r\n    if (!this.key) {\r\n        this.key = 'credentials' + title + purpose;\r\n    }\r\n\r\n    this.popUp(world);\r\n};\r\n\r\nDialogBoxMorph.prototype.accept = function () {\r\n    /*\r\n    if target is a function, use it as callback:\r\n    execute target as callback function with action as argument\r\n    in the environment as optionally specified.\r\n    Note: if action is also a function, instead of becoming\r\n    the argument itself it will be called to answer the argument.\r\n    for selections, Yes/No Choices etc:\r\n\r\n    else (if target is not a function):\r\n\r\n        if action is a function:\r\n        execute the action with target as environment (can be null)\r\n        for lambdafied (inline) actions\r\n\r\n        else if action is a String:\r\n        treat it as function property of target and execute it\r\n        for selector-like actions\r\n    */\r\n    if (this.action) {\r\n        if (typeof this.target === 'function') {\r\n            if (typeof this.action === 'function') {\r\n                this.target.call(this.environment, this.action.call());\r\n            } else {\r\n                this.target.call(this.environment, this.action);\r\n            }\r\n        } else {\r\n            if (typeof this.action === 'function') {\r\n                this.action.call(this.target, this.getInput());\r\n            } else { // assume it's a String\r\n                this.target[this.action](this.getInput());\r\n            }\r\n        }\r\n    }\r\n    this.destroy();\r\n};\r\n\r\nDialogBoxMorph.prototype.withKey = function (key) {\r\n    this.key = key;\r\n    return this;\r\n};\r\n\r\nDialogBoxMorph.prototype.popUp = function (world) {\r\n    if (world) {\r\n        if (this.key) {\r\n            if (this.instances[world.stamp]) {\r\n                if (this.instances[world.stamp][this.key]) {\r\n                    this.instances[world.stamp][this.key].destroy();\r\n                }\r\n                this.instances[world.stamp][this.key] = this;\r\n            } else {\r\n                this.instances[world.stamp] = {};\r\n                this.instances[world.stamp][this.key] = this;\r\n            }\r\n        }\r\n        world.add(this);\r\n        world.keyboardReceiver = this;\r\n        this.setCenter(world.center());\r\n        this.edit();\r\n    }\r\n};\r\n\r\nDialogBoxMorph.prototype.destroy = function () {\r\n    DialogBoxMorph.uber.destroy.call(this);\r\n    if (this.key) {\r\n        delete this.instances[this.key];\r\n    }\r\n};\r\n\r\nDialogBoxMorph.prototype.ok = function () {\r\n    this.accept();\r\n};\r\n\r\nDialogBoxMorph.prototype.cancel = function () {\r\n    this.destroy();\r\n};\r\n\r\nDialogBoxMorph.prototype.edit = function () {\r\n    this.children.forEach(function (c) {\r\n        if (c.edit) {\r\n            return c.edit();\r\n        }\r\n    });\r\n};\r\n\r\nDialogBoxMorph.prototype.getInput = function () {\r\n    if (this.body instanceof InputFieldMorph) {\r\n        return this.body.getValue();\r\n    }\r\n    return null;\r\n};\r\n\r\nDialogBoxMorph.prototype.justDropped = function (hand) {\r\n    hand.world.keyboardReceiver = this;\r\n    this.edit();\r\n};\r\n\r\nDialogBoxMorph.prototype.destroy = function () {\r\n    var world = this.world();\r\n    world.keyboardReceiver = null;\r\n    world.hand.destroyTemporaries();\r\n    DialogBoxMorph.uber.destroy.call(this);\r\n};\r\n\r\nDialogBoxMorph.prototype.normalizeSpaces = function (string) {\r\n    var ans = '', i, c, flag = false;\r\n\r\n    for (i = 0; i < string.length; i += 1) {\r\n        c = string[i];\r\n        if (c === ' ') {\r\n            if (flag) {\r\n                ans += c;\r\n                flag = false;\r\n            }\r\n        } else {\r\n            ans += c;\r\n            flag = true;\r\n        }\r\n    }\r\n    return ans.trim();\r\n};\r\n\r\n// DialogBoxMorph submorph construction\r\n\r\nDialogBoxMorph.prototype.createLabel = function () {\r\n    var shading = !MorphicPreferences.isFlat || this.is3D;\r\n\r\n    if (this.label) {\r\n        this.label.destroy();\r\n    }\r\n    if (this.labelString) {\r\n        this.label = new StringMorph(\r\n            localize(this.labelString),\r\n            this.titleFontSize,\r\n            this.fontStyle,\r\n            true,\r\n            false,\r\n            false,\r\n            shading ? new Point(2, 1) : null,\r\n            this.titleBarColor.darker(this.contrast)\r\n        );\r\n        this.label.color = this.titleTextColor;\r\n        this.label.drawNew();\r\n        this.add(this.label);\r\n    }\r\n};\r\n\r\nDialogBoxMorph.prototype.createButtons = function () {\r\n    if (this.buttons) {\r\n        this.buttons.destroy();\r\n    }\r\n    this.buttons = new AlignmentMorph('row', this.padding);\r\n    this.add(this.buttons);\r\n};\r\n\r\nDialogBoxMorph.prototype.addButton = function (action, label) {\r\n    var button = new PushButtonMorph(\r\n        this,\r\n        action || 'ok',\r\n        '  ' + localize((label || 'OK')) + '  '\r\n    );\r\n    button.fontSize = this.buttonFontSize;\r\n    button.corner = this.buttonCorner;\r\n    button.edge = this.buttonEdge;\r\n    button.outline = this.buttonOutline;\r\n    button.outlineColor = this.buttonOutlineColor;\r\n    button.outlineGradient = this.buttonOutlineGradient;\r\n    button.padding = this.buttonPadding;\r\n    button.contrast = this.buttonContrast;\r\n    button.drawNew();\r\n    button.fixLayout();\r\n    this.buttons.add(button);\r\n    return button;\r\n};\r\n\r\nDialogBoxMorph.prototype.setPicture = function (aMorphOrCanvas) {\r\n    var morph;\r\n    if (aMorphOrCanvas instanceof Morph) {\r\n        morph = aMorphOrCanvas;\r\n    } else {\r\n        morph = new Morph();\r\n        morph.image = aMorphOrCanvas;\r\n        morph.silentSetWidth(aMorphOrCanvas.width);\r\n        morph.silentSetHeight(aMorphOrCanvas.height);\r\n    }\r\n    this.addHead(morph);\r\n};\r\n\r\nDialogBoxMorph.prototype.addHead = function (aMorph) {\r\n    if (this.head) {\r\n        this.head.destroy();\r\n    }\r\n    this.head = aMorph;\r\n    this.add(this.head);\r\n};\r\n\r\nDialogBoxMorph.prototype.addBody = function (aMorph) {\r\n    if (this.body) {\r\n        this.body.destroy();\r\n    }\r\n    this.body = aMorph;\r\n    this.add(this.body);\r\n};\r\n\r\n// DialogBoxMorph layout\r\n\r\nDialogBoxMorph.prototype.addShadow = function () {nop(); };\r\nDialogBoxMorph.prototype.removeShadow = function () {nop(); };\r\n\r\nDialogBoxMorph.prototype.fixLayout = function () {\r\n    var th = fontHeight(this.titleFontSize) + this.titlePadding * 2, w;\r\n\r\n    if (this.head) {\r\n        this.head.setPosition(this.position().add(new Point(\r\n            this.padding,\r\n            th + this.padding\r\n        )));\r\n        this.silentSetWidth(this.head.width() + this.padding * 2);\r\n        this.silentSetHeight(\r\n            this.head.height()\r\n                + this.padding * 2\r\n                + th\r\n        );\r\n    }\r\n\r\n    if (this.body) {\r\n        if (this.head) {\r\n            this.body.setPosition(this.head.bottomLeft().add(new Point(\r\n                0,\r\n                this.padding\r\n            )));\r\n            this.silentSetWidth(Math.max(\r\n                this.width(),\r\n                this.body.width() + this.padding * 2\r\n            ));\r\n            this.silentSetHeight(\r\n                this.height()\r\n                    + this.body.height()\r\n                    + this.padding\r\n            );\r\n            w = this.width();\r\n            this.head.setLeft(\r\n                this.left()\r\n                    + Math.round((w - this.head.width()) / 2)\r\n            );\r\n            this.body.setLeft(\r\n                this.left()\r\n                    + Math.round((w - this.body.width()) / 2)\r\n            );\r\n        } else {\r\n            this.body.setPosition(this.position().add(new Point(\r\n                this.padding,\r\n                th + this.padding\r\n            )));\r\n            this.silentSetWidth(this.body.width() + this.padding * 2);\r\n            this.silentSetHeight(\r\n                this.body.height()\r\n                    + this.padding * 2\r\n                    + th\r\n            );\r\n        }\r\n    }\r\n\r\n    if (this.label) {\r\n        this.label.setCenter(this.center());\r\n        this.label.setTop(this.top() + (th - this.label.height()) / 2);\r\n    }\r\n\r\n    if (this.buttons && (this.buttons.children.length > 0)) {\r\n        this.buttons.fixLayout();\r\n        this.silentSetHeight(\r\n            this.height()\r\n                    + this.buttons.height()\r\n                    + this.padding\r\n        );\r\n        this.silentSetWidth(Math.max(\r\n                this.width(),\r\n                this.buttons.width()\r\n                        + (2 * this.padding)\r\n            )\r\n        );\r\n        this.buttons.setCenter(this.center());\r\n        this.buttons.setBottom(this.bottom() - this.padding);\r\n    }\r\n};\r\n\r\n// DialogBoxMorph shadow\r\n\r\n/*\r\n    only take the 'plain' image, so the box rounding doesn't become\r\n    conflicted by the scrolling scripts pane\r\n*/\r\n\r\nDialogBoxMorph.prototype.shadowImage = function (off, color) {\r\n    // fallback for Windows Chrome-Shadow bug\r\n    var fb, img, outline, sha, ctx,\r\n        offset = off || new Point(7, 7),\r\n        clr = color || new Color(0, 0, 0);\r\n    fb = this.extent();\r\n    img = this.image;\r\n    outline = newCanvas(fb);\r\n    ctx = outline.getContext('2d');\r\n    ctx.drawImage(img, 0, 0);\r\n    ctx.globalCompositeOperation = 'destination-out';\r\n    ctx.drawImage(\r\n        img,\r\n        -offset.x,\r\n        -offset.y\r\n    );\r\n    sha = newCanvas(fb);\r\n    ctx = sha.getContext('2d');\r\n    ctx.drawImage(outline, 0, 0);\r\n    ctx.globalCompositeOperation = 'source-atop';\r\n    ctx.fillStyle = clr.toString();\r\n    ctx.fillRect(0, 0, fb.x, fb.y);\r\n    return sha;\r\n};\r\n\r\nDialogBoxMorph.prototype.shadowImageBlurred = function (off, color) {\r\n    var fb, img, sha, ctx,\r\n        offset = off || new Point(7, 7),\r\n        blur = this.shadowBlur,\r\n        clr = color || new Color(0, 0, 0);\r\n    fb = this.extent().add(blur * 2);\r\n    img = this.image;\r\n    sha = newCanvas(fb);\r\n    ctx = sha.getContext('2d');\r\n    ctx.shadowOffsetX = offset.x;\r\n    ctx.shadowOffsetY = offset.y;\r\n    ctx.shadowBlur = blur;\r\n    ctx.shadowColor = clr.toString();\r\n    ctx.drawImage(\r\n        img,\r\n        blur - offset.x,\r\n        blur - offset.y\r\n    );\r\n    ctx.shadowOffsetX = 0;\r\n    ctx.shadowOffsetY = 0;\r\n    ctx.shadowBlur = 0;\r\n    ctx.globalCompositeOperation = 'destination-out';\r\n    ctx.drawImage(\r\n        img,\r\n        blur - offset.x,\r\n        blur - offset.y\r\n    );\r\n    return sha;\r\n};\r\n\r\n// DialogBoxMorph keyboard events\r\n\r\nDialogBoxMorph.prototype.processKeyPress = function () {nop(); };\r\n\r\nDialogBoxMorph.prototype.processKeyDown = function (event) {\r\n    // this.inspectKeyEvent(event);\r\n    switch (event.keyCode) {\r\n    case 13:\r\n        this.ok();\r\n        break;\r\n    case 27:\r\n        this.cancel();\r\n        break;\r\n    default:\r\n        nop();\r\n        // this.inspectKeyEvent(event);\r\n    }\r\n};\r\n\r\n// DialogBoxMorph drawing\r\n\r\nDialogBoxMorph.prototype.drawNew = function () {\r\n    this.fullChanged();\r\n    Morph.prototype.trackChanges = false;\r\n    DialogBoxMorph.uber.removeShadow.call(this);\r\n    this.fixLayout();\r\n\r\n    var context,\r\n        gradient,\r\n        w = this.width(),\r\n        h = this.height(),\r\n        th = Math.floor(\r\n            fontHeight(this.titleFontSize) + this.titlePadding * 2\r\n        ),\r\n        shift = this.corner / 2,\r\n        x,\r\n        y,\r\n        isFlat = MorphicPreferences.isFlat && !this.is3D;\r\n\r\n    // this.alpha = isFlat ? 0.9 : 1;\r\n\r\n    this.image = newCanvas(this.extent());\r\n    context = this.image.getContext('2d');\r\n\r\n    // title bar\r\n    if (isFlat) {\r\n        context.fillStyle = this.titleBarColor.toString();\r\n    } else {\r\n        gradient = context.createLinearGradient(0, 0, 0, th);\r\n        gradient.addColorStop(\r\n            0,\r\n            this.titleBarColor.lighter(this.contrast / 2).toString()\r\n        );\r\n        gradient.addColorStop(\r\n            1,\r\n            this.titleBarColor.darker(this.contrast).toString()\r\n        );\r\n        context.fillStyle = gradient;\r\n    }\r\n    context.beginPath();\r\n    this.outlinePathTitle(\r\n        context,\r\n        isFlat ? 0 : this.corner\r\n    );\r\n    context.closePath();\r\n    context.fill();\r\n\r\n    // flat shape\r\n    // body\r\n    context.fillStyle = this.color.toString();\r\n    context.beginPath();\r\n    this.outlinePathBody(\r\n        context,\r\n        isFlat ? 0 : this.corner\r\n    );\r\n    context.closePath();\r\n    context.fill();\r\n\r\n    if (isFlat) {\r\n        DialogBoxMorph.uber.addShadow.call(this);\r\n        Morph.prototype.trackChanges = true;\r\n        this.fullChanged();\r\n        return;\r\n    }\r\n\r\n    // 3D-effect\r\n    // bottom left corner\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        h - this.corner,\r\n        0,\r\n        h\r\n    );\r\n    gradient.addColorStop(0, this.color.toString());\r\n    gradient.addColorStop(1, this.color.darker(this.contrast.toString()));\r\n\r\n    context.lineWidth = this.corner;\r\n    context.lineCap = 'round';\r\n    context.strokeStyle = gradient;\r\n\r\n    context.beginPath();\r\n    context.moveTo(this.corner, h - shift);\r\n    context.lineTo(this.corner + 1, h - shift);\r\n    context.stroke();\r\n\r\n    // bottom edge\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        h - this.corner,\r\n        0,\r\n        h\r\n    );\r\n    gradient.addColorStop(0, this.color.toString());\r\n    gradient.addColorStop(1, this.color.darker(this.contrast.toString()));\r\n\r\n    context.lineWidth = this.corner;\r\n    context.lineCap = 'butt';\r\n    context.strokeStyle = gradient;\r\n\r\n    context.beginPath();\r\n    context.moveTo(this.corner, h - shift);\r\n    context.lineTo(w - this.corner, h - shift);\r\n    context.stroke();\r\n\r\n    // right body edge\r\n    gradient = context.createLinearGradient(\r\n        w - this.corner,\r\n        0,\r\n        w,\r\n        0\r\n    );\r\n    gradient.addColorStop(0, this.color.toString());\r\n    gradient.addColorStop(1, this.color.darker(this.contrast).toString());\r\n\r\n    context.lineWidth = this.corner;\r\n    context.lineCap = 'butt';\r\n    context.strokeStyle = gradient;\r\n\r\n    context.beginPath();\r\n    context.moveTo(w - shift, th);\r\n    context.lineTo(w - shift, h - this.corner);\r\n    context.stroke();\r\n\r\n    // bottom right corner\r\n    x = w - this.corner;\r\n    y = h - this.corner;\r\n\r\n    gradient = context.createRadialGradient(\r\n        x,\r\n        y,\r\n        0,\r\n        x,\r\n        y,\r\n        this.corner\r\n    );\r\n    gradient.addColorStop(0, this.color.toString());\r\n    gradient.addColorStop(1, this.color.darker(this.contrast.toString()));\r\n\r\n    context.lineCap = 'butt';\r\n\r\n    context.strokeStyle = gradient;\r\n\r\n    context.beginPath();\r\n    context.arc(\r\n        x,\r\n        y,\r\n        shift,\r\n        radians(90),\r\n        radians(0),\r\n        true\r\n    );\r\n    context.stroke();\r\n\r\n    // left body edge\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        0,\r\n        this.corner,\r\n        0\r\n    );\r\n    gradient.addColorStop(\r\n        0,\r\n        this.color.lighter(this.contrast).toString()\r\n    );\r\n    gradient.addColorStop(1, this.color.toString());\r\n\r\n    context.lineCap = 'butt';\r\n    context.strokeStyle = gradient;\r\n\r\n    context.beginPath();\r\n    context.moveTo(shift, th);\r\n    context.lineTo(shift, h - this.corner * 2);\r\n    context.stroke();\r\n\r\n    // left vertical bottom corner\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        0,\r\n        this.corner,\r\n        0\r\n    );\r\n    gradient.addColorStop(\r\n        0,\r\n        this.color.lighter(this.contrast).toString()\r\n    );\r\n    gradient.addColorStop(1, this.color.toString());\r\n\r\n    context.lineCap = 'round';\r\n    context.strokeStyle = gradient;\r\n\r\n    context.beginPath();\r\n    context.moveTo(shift, h - this.corner * 2);\r\n    context.lineTo(shift, h - this.corner - shift);\r\n    context.stroke();\r\n\r\n    DialogBoxMorph.uber.addShadow.call(this);\r\n    Morph.prototype.trackChanges = true;\r\n    this.fullChanged();\r\n};\r\n\r\nDialogBoxMorph.prototype.outlinePathTitle = function (context, radius) {\r\n    var w = this.width(),\r\n        h = Math.ceil(fontHeight(this.titleFontSize)) + this.titlePadding * 2;\r\n\r\n    // top left:\r\n    context.arc(\r\n        radius,\r\n        radius,\r\n        radius,\r\n        radians(-180),\r\n        radians(-90),\r\n        false\r\n    );\r\n    // top right:\r\n    context.arc(\r\n        w - radius,\r\n        radius,\r\n        radius,\r\n        radians(-90),\r\n        radians(-0),\r\n        false\r\n    );\r\n    // bottom right:\r\n    context.lineTo(w, h);\r\n\r\n    // bottom left:\r\n    context.lineTo(0, h);\r\n};\r\n\r\nDialogBoxMorph.prototype.outlinePathBody = function (context, radius) {\r\n    var w = this.width(),\r\n        h = this.height(),\r\n        th = Math.floor(fontHeight(this.titleFontSize)) +\r\n            this.titlePadding * 2;\r\n\r\n    // top left:\r\n    context.moveTo(0, th);\r\n\r\n    // top right:\r\n    context.lineTo(w, th);\r\n\r\n    // bottom right:\r\n    context.arc(\r\n        w - radius,\r\n        h - radius,\r\n        radius,\r\n        radians(0),\r\n        radians(90),\r\n        false\r\n    );\r\n    // bottom left:\r\n    context.arc(\r\n        radius,\r\n        h - radius,\r\n        radius,\r\n        radians(90),\r\n        radians(180),\r\n        false\r\n    );\r\n};\r\n\r\n// AlignmentMorph /////////////////////////////////////////////////////\r\n\r\n// I am a reified layout, either a row or a column of submorphs\r\n\r\n// AlignmentMorph inherits from Morph:\r\n\r\nAlignmentMorph.prototype = new Morph();\r\nAlignmentMorph.prototype.constructor = AlignmentMorph;\r\nAlignmentMorph.uber = Morph.prototype;\r\n\r\n// AlignmentMorph instance creation:\r\n\r\nfunction AlignmentMorph(orientation, padding) {\r\n    this.init(orientation, padding);\r\n}\r\n\r\nAlignmentMorph.prototype.init = function (orientation, padding) {\r\n    // additional properties:\r\n    this.orientation = orientation || 'row'; // or 'column'\r\n    this.alignment = 'center'; // or 'left' in a column\r\n    this.padding = padding || 0;\r\n    this.respectHiddens = false;\r\n\r\n    // initialize inherited properties:\r\n    AlignmentMorph.uber.init.call(this);\r\n\r\n    // override inherited properites:\r\n};\r\n\r\n// AlignmentMorph displaying and layout\r\n\r\nAlignmentMorph.prototype.drawNew = function () {\r\n    this.image = newCanvas(new Point(1, 1));\r\n    this.fixLayout();\r\n};\r\n\r\nAlignmentMorph.prototype.fixLayout = function () {\r\n    var myself = this,\r\n        last = null,\r\n        newBounds;\r\n    if (this.children.length === 0) {\r\n        return null;\r\n    }\r\n    this.children.forEach(function (c) {\r\n        var cfb = c.fullBounds(),\r\n            lfb;\r\n        if (c.isVisible || myself.respectHiddens) {\r\n            if (last) {\r\n                lfb = last.fullBounds();\r\n                if (myself.orientation === 'row') {\r\n                    c.setPosition(\r\n                        lfb.topRight().add(new Point(\r\n                            myself.padding,\r\n                            (lfb.height() - cfb.height()) / 2\r\n                        ))\r\n                    );\r\n                } else { // orientation === 'column'\r\n                    c.setPosition(\r\n                        lfb.bottomLeft().add(new Point(\r\n                            myself.alignment === 'center' ?\r\n                                    (lfb.width() - cfb.width()) / 2\r\n                                            : 0,\r\n                            myself.padding\r\n                        ))\r\n                    );\r\n                }\r\n                cfb = c.fullBounds();\r\n                newBounds = newBounds.merge(cfb);\r\n            } else {\r\n                newBounds = cfb;\r\n            }\r\n            last = c;\r\n        }\r\n    });\r\n    this.bounds = newBounds;\r\n};\r\n\r\n// InputFieldMorph //////////////////////////////////////////////////////\r\n\r\n// InputFieldMorph inherits from Morph:\r\n\r\nInputFieldMorph.prototype = new Morph();\r\nInputFieldMorph.prototype.constructor = InputFieldMorph;\r\nInputFieldMorph.uber = Morph.prototype;\r\n\r\n// InputFieldMorph settings\r\n\r\nInputFieldMorph.prototype.edge = 2;\r\nInputFieldMorph.prototype.fontSize = 12;\r\nInputFieldMorph.prototype.typeInPadding = 2;\r\nInputFieldMorph.prototype.contrast = 65;\r\n\r\n// InputFieldMorph instance creation:\r\n\r\nfunction InputFieldMorph(text, isNumeric, choiceDict, isReadOnly) {\r\n    this.init(text, isNumeric, choiceDict, isReadOnly);\r\n}\r\n\r\nInputFieldMorph.prototype.init = function (\r\n    text,\r\n    isNumeric,\r\n    choiceDict,\r\n    isReadOnly\r\n) {\r\n    var contents = new StringFieldMorph(text || ''),\r\n        arrow = new ArrowMorph(\r\n            'down',\r\n            0,\r\n            Math.max(Math.floor(this.fontSize / 6), 1)\r\n        );\r\n\r\n    this.choices = choiceDict || null; // object, function or selector\r\n    this.isReadOnly = isReadOnly || false;\r\n    this.isNumeric = isNumeric || false;\r\n\r\n    contents.alpha = 0;\r\n    contents.fontSize = this.fontSize;\r\n    contents.drawNew();\r\n\r\n    this.oldContentsExtent = contents.extent();\r\n    this.isNumeric = isNumeric || false;\r\n\r\n    InputFieldMorph.uber.init.call(this);\r\n    this.color = new Color(255, 255, 255);\r\n    this.add(contents);\r\n    this.add(arrow);\r\n    contents.isDraggable = false;\r\n    this.drawNew();\r\n};\r\n\r\n// InputFieldMorph accessing:\r\n\r\nInputFieldMorph.prototype.contents = function () {\r\n    return detect(\r\n        this.children,\r\n        function (child) {\r\n            return (child instanceof StringFieldMorph);\r\n        }\r\n    );\r\n};\r\n\r\nInputFieldMorph.prototype.arrow = function () {\r\n    return detect(\r\n        this.children,\r\n        function (child) {\r\n            return (child instanceof ArrowMorph);\r\n        }\r\n    );\r\n};\r\n\r\nInputFieldMorph.prototype.setChoice = function (aStringOrFloat) {\r\n    this.setContents(aStringOrFloat);\r\n    this.escalateEvent('reactToChoice', aStringOrFloat);\r\n};\r\n\r\nInputFieldMorph.prototype.setContents = function (aStringOrFloat) {\r\n    var cnts = this.contents();\r\n    cnts.text.text = aStringOrFloat;\r\n    if (aStringOrFloat === undefined) {\r\n        return null;\r\n    }\r\n    if (aStringOrFloat === null) {\r\n        cnts.text.text = '';\r\n    } else if (aStringOrFloat.toString) {\r\n        cnts.text.text = aStringOrFloat.toString();\r\n    }\r\n    cnts.drawNew();\r\n    cnts.changed();\r\n};\r\n\r\nInputFieldMorph.prototype.edit = function () {\r\n    var c = this.contents();\r\n    c.text.edit();\r\n    c.text.selectAll();\r\n};\r\n\r\nInputFieldMorph.prototype.setIsNumeric = function (bool) {\r\n    var value;\r\n\r\n    this.isNumeric = bool;\r\n    this.contents().isNumeric = bool;\r\n    this.contents().text.isNumeric = bool;\r\n\r\n    // adjust my shown value to conform with the numeric flag\r\n    value = this.getValue();\r\n    if (this.isNumeric) {\r\n        value = parseFloat(value);\r\n        if (isNaN(value)) {\r\n            value = null;\r\n        }\r\n    }\r\n    this.setContents(value);\r\n};\r\n\r\n// InputFieldMorph drop-down menu:\r\n\r\nInputFieldMorph.prototype.dropDownMenu = function () {\r\n    var choices = this.choices,\r\n        key,\r\n        menu = new MenuMorph(\r\n            this.setChoice,\r\n            null,\r\n            this,\r\n            this.fontSize\r\n        );\r\n\r\n    if (choices instanceof Function) {\r\n        choices = choices.call(this);\r\n    } else if (isString(choices)) {\r\n        choices = this[choices]();\r\n    }\r\n    if (!choices) {\r\n        return null;\r\n    }\r\n    menu.addItem(' ', null);\r\n    if (choices instanceof Array) {\r\n        choices.forEach(function (choice) {\r\n            menu.addItem(choice[0], choice[1]);\r\n        });\r\n    } else { // assuming a dictionary\r\n        for (key in choices) {\r\n            if (Object.prototype.hasOwnProperty.call(choices, key)) {\r\n                if (key[0] === '~') {\r\n                    menu.addLine();\r\n                } else {\r\n                    menu.addItem(key, choices[key]);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    if (menu.items.length > 0) {\r\n        menu.popUpAtHand(this.world());\r\n    } else {\r\n        return null;\r\n    }\r\n};\r\n\r\n// InputFieldMorph layout:\r\n\r\nInputFieldMorph.prototype.fixLayout = function () {\r\n    var contents = this.contents(),\r\n        arrow = this.arrow();\r\n\r\n    if (!contents) {return null; }\r\n    contents.isNumeric = this.isNumeric;\r\n    contents.isEditable = (!this.isReadOnly);\r\n    if (this.choices) {\r\n        arrow.setSize(this.fontSize);\r\n        arrow.show();\r\n    } else {\r\n        arrow.setSize(0);\r\n        arrow.hide();\r\n    }\r\n    this.silentSetHeight(\r\n        contents.height()\r\n            + this.edge * 2\r\n            + this.typeInPadding * 2\r\n    );\r\n    this.silentSetWidth(Math.max(\r\n        contents.minWidth\r\n            + this.edge * 2\r\n            + this.typeInPadding * 2,\r\n        this.width()\r\n    ));\r\n\r\n    contents.setWidth(\r\n        this.width() - this.edge - this.typeInPadding -\r\n            (this.choices ? arrow.width() + this.typeInPadding : 0)\r\n    );\r\n\r\n    contents.silentSetPosition(new Point(\r\n        this.edge,\r\n        this.edge\r\n    ).add(this.typeInPadding).add(this.position()));\r\n\r\n    arrow.silentSetPosition(new Point(\r\n        this.right() - arrow.width() - this.edge,\r\n        contents.top()\r\n    ));\r\n\r\n};\r\n\r\n// InputFieldMorph events:\r\n\r\nInputFieldMorph.prototype.mouseClickLeft = function (pos) {\r\n    if (this.arrow().bounds.containsPoint(pos)) {\r\n        this.dropDownMenu();\r\n    } else if (this.isReadOnly) {\r\n        this.dropDownMenu();\r\n    } else {\r\n        this.escalateEvent('mouseClickLeft', pos);\r\n    }\r\n};\r\n\r\n// InputFieldMorph retrieving:\r\n\r\nInputFieldMorph.prototype.getValue = function () {\r\n/*\r\n    answer my content's text string. If I am numerical convert that\r\n    string to a number. If the conversion fails answer the string\r\n    otherwise the numerical value.\r\n*/\r\n    var num,\r\n        contents = this.contents();\r\n    if (this.isNumeric) {\r\n        num = parseFloat(contents.text);\r\n        if (!isNaN(num)) {\r\n            return num;\r\n        }\r\n    }\r\n    return this.normalizeSpaces(contents.string());\r\n};\r\n\r\nInputFieldMorph.prototype.normalizeSpaces\r\n    = DialogBoxMorph.prototype.normalizeSpaces;\r\n\r\n// InputFieldMorph drawing:\r\n\r\nInputFieldMorph.prototype.drawNew = function () {\r\n    var context, borderColor;\r\n\r\n    this.fixLayout();\r\n\r\n    // initialize my surface property\r\n    this.image = newCanvas(this.extent());\r\n    context = this.image.getContext('2d');\r\n    if (this.parent) {\r\n        if (this.parent.color.eq(new Color(255, 255, 255))) {\r\n            this.color = this.parent.color.darker(this.contrast * 0.1);\r\n        } else {\r\n            this.color = this.parent.color.lighter(this.contrast * 0.75);\r\n        }\r\n        borderColor = this.parent.color;\r\n    } else {\r\n        borderColor = new Color(120, 120, 120);\r\n    }\r\n    context.fillStyle = this.color.toString();\r\n\r\n    // cache my border colors\r\n    this.cachedClr = borderColor.toString();\r\n    this.cachedClrBright = borderColor.lighter(this.contrast)\r\n        .toString();\r\n    this.cachedClrDark = borderColor.darker(this.contrast).toString();\r\n\r\n    context.fillRect(\r\n        this.edge,\r\n        this.edge,\r\n        this.width() - this.edge * 2,\r\n        this.height() - this.edge * 2\r\n    );\r\n\r\n    this.drawRectBorder(context);\r\n};\r\n\r\nInputFieldMorph.prototype.drawRectBorder = function (context) {\r\n    var shift = this.edge * 0.5,\r\n        gradient;\r\n\r\n    if (MorphicPreferences.isFlat && !this.is3D) {return; }\r\n\r\n    context.lineWidth = this.edge;\r\n    context.lineJoin = 'round';\r\n    context.lineCap = 'round';\r\n\r\n    context.shadowOffsetY = shift;\r\n    context.shadowBlur = this.edge * 4;\r\n    context.shadowColor = this.cachedClrDark;\r\n\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        0,\r\n        0,\r\n        this.edge\r\n    );\r\n\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    gradient.addColorStop(1, this.cachedClrDark);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(this.edge, shift);\r\n    context.lineTo(this.width() - this.edge - shift, shift);\r\n    context.stroke();\r\n\r\n    context.shadowOffsetY = 0;\r\n\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        0,\r\n        this.edge,\r\n        0\r\n    );\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    gradient.addColorStop(1, this.cachedClrDark);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(shift, this.edge);\r\n    context.lineTo(shift, this.height() - this.edge - shift);\r\n    context.stroke();\r\n\r\n    context.shadowOffsetX = 0;\r\n    context.shadowOffsetY = 0;\r\n    context.shadowBlur = 0;\r\n\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        this.height() - this.edge,\r\n        0,\r\n        this.height()\r\n    );\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    gradient.addColorStop(1, this.cachedClr);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(this.edge, this.height() - shift);\r\n    context.lineTo(this.width() - this.edge, this.height() - shift);\r\n    context.stroke();\r\n\r\n    gradient = context.createLinearGradient(\r\n        this.width() - this.edge,\r\n        0,\r\n        this.width(),\r\n        0\r\n    );\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    gradient.addColorStop(1, this.cachedClr);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(this.width() - shift, this.edge);\r\n    context.lineTo(this.width() - shift, this.height() - this.edge);\r\n    context.stroke();\r\n};\r\n\r\n// PianoMenuMorph //////////////////////////////////////////////////////\r\n/* \r\n    I am a menu that looks like a piano keyboard.\r\n*/\r\n\r\n// PianoMenuMorph inherits from MenuMorph\r\n\r\nPianoMenuMorph.prototype = new MenuMorph();\r\nPianoMenuMorph.prototype.constructor = PianoMenuMorph;\r\nPianoMenuMorph.uber = MenuMorph.prototype;\r\n\r\n// PianoMenuMorph instance creation:\r\n\r\nfunction PianoMenuMorph(target, environment, fontSize, soundType) {\r\n    this.init(target, environment, fontSize, soundType);\r\n}\r\n\r\nPianoMenuMorph.prototype.init = function (\r\n    target,\r\n    environment,\r\n    fontSize,\r\n    soundType // number 1 - 4: 'sine', 'square', 'sawtooth' or 'triangle'\r\n) {\r\n    var choices, key;\r\n    this.soundType = soundType;\r\n    PianoMenuMorph.uber.init.call(this, target, null, environment, fontSize);\r\n    choices = {\r\n        'C (48)' : 48,\r\n        'D (50)' : 50,\r\n        'C# (49)' : 49,\r\n        'E (52)' : 52,\r\n        'Eb (51)' : 51,\r\n        'F (53)' : 53,\r\n        'G (55)' : 55,\r\n        'F# (54)' : 54,\r\n        'A (57)' : 57,\r\n        'G# (56)' : 56,\r\n        'B (59)' : 59,\r\n        'Bb (58)' : 58,\r\n        'C (60)' : 60,\r\n        'D (62)' : 62,\r\n        'C# (61)' : 61,\r\n        'E (64)' : 64,\r\n        'Eb (63)' : 63,\r\n        'F (65)' : 65,\r\n        'G (67)' : 67,\r\n        'F# (66)' : 66,\r\n        'A (69)' : 69,\r\n        'G# (68)' : 68,\r\n        'B (71)' : 71,\r\n        'Bb (70)' : 70,\r\n        'C (72)' : 72\r\n    };\r\n    for (key in choices) {\r\n        if (Object.prototype.hasOwnProperty.call(choices, key)) {\r\n            this.addItem(key, choices[key]);\r\n        }\r\n    }\r\n    this.drawNew();\r\n};\r\n\r\nPianoMenuMorph.prototype.drawNew = function () {\r\n    var myself = this,\r\n        item,\r\n        fb,\r\n        x,\r\n        y,\r\n        label,\r\n        blackkey,\r\n        key,\r\n        keycolor,\r\n        keywidth,\r\n        keyheight,\r\n        keyposition;\r\n\r\n    this.children.forEach(function (m) {\r\n        m.destroy();\r\n    });\r\n    this.children = [];\r\n    if (!this.isListContents) {\r\n        this.edge = MorphicPreferences.isFlat ? 0 : 5;\r\n        this.border = MorphicPreferences.isFlat ? 1 : 2;\r\n    }\r\n    this.color = new Color(255, 255, 255);\r\n    this.borderColor = new Color(60, 60, 60);\r\n    this.silentSetExtent(new Point(0, 0));\r\n\r\n    x = this.left() + 1;\r\n    y = this.top() + (this.fontSize * 1.5) + 2;\r\n    label = new StringMorph('', this.fontSize);\r\n    this.items.forEach(function (tuple) {\r\n        blackkey = tuple[0][1] !== \" \";\r\n        key = new BoxMorph(1, 1);\r\n        if (blackkey) {\r\n            keycolor = new Color(0, 0, 0);\r\n            keywidth = myself.fontSize; // 9;\r\n            keyheight = myself.fontSize * 2.5;\r\n            keyposition = new Point(x + 2 - (myself.fontSize * 2), y);\r\n        } else {\r\n            keycolor = new Color(255, 255, 255);\r\n            keywidth = myself.fontSize * 1.5;\r\n            keyheight = myself.fontSize * 4;\r\n            keyposition = new Point(x + 1, y);\r\n            x += keywidth - 1;\r\n        }\r\n        key.setColor(keycolor);\r\n        key.setWidth(keywidth);\r\n        key.setHeight(keyheight);\r\n        item = new PianoKeyMorph(\r\n            myself.target,\r\n            tuple[1],\r\n            [key, tuple[0]],\r\n            myself.fontSize || MorphicPreferences.menuFontSize,\r\n            MorphicPreferences.menuFontName,\r\n            myself.environment,\r\n            tuple[2], // bubble help hint\r\n            tuple[3], // color\r\n            tuple[4], // bold\r\n            tuple[5], // italic\r\n            tuple[6], // doubleclick action\r\n            label     // String to change\r\n        );\r\n        item.setPosition(keyposition);\r\n        myself.add(item);\r\n    });\r\n    fb = this.fullBounds();\r\n    label.setPosition(new Point((fb.width() / 2) - this.fontSize, 2));\r\n    this.add(label);\r\n    fb = this.fullBounds();\r\n    this.silentSetExtent(fb.extent().add(2));\r\n    MenuMorph.uber.drawNew.call(this);\r\n};\r\n\r\n// PianoMenuMorph keyboard selecting a key:\r\n\r\nPianoMenuMorph.prototype.select = function(aPianoKeyItem) {\r\n    this.unselectAllItems();\r\n    aPianoKeyItem.mouseEnter();\r\n    this.selection = aPianoKeyItem;\r\n    this.world.keyboardReceiver = this;\r\n    this.hasFocus = true;\r\n};\r\n\r\nPianoMenuMorph.prototype.unselectAllItems = function () {\r\n    this.children.forEach(function (item) {\r\n        if (item instanceof MenuItemMorph) {\r\n            item.mouseLeave();\r\n        }\r\n    });\r\n    this.changed();\r\n};\r\n\r\nPianoMenuMorph.prototype.selectKey = function (midiNum) {\r\n    var key;\r\n    if (isNil(midiNum)) {\r\n        return;\r\n    }\r\n    key = detect(\r\n        this.children,\r\n        function (each) {\r\n            return each.action === midiNum;\r\n        }\r\n    );\r\n    if (key) {\r\n        this.select(key);\r\n    } else {\r\n        this.selectKey(48);\r\n    }\r\n};\r\n\r\n// PianoMenuMorph keyboard navigation & entry:\r\n\r\nPianoMenuMorph.prototype.processKeyDown = function (event) {\r\n    \r\n    switch (event.keyCode) {\r\n    case 13: // 'enter'\r\n    case 32: // 'space'\r\n        if (this.selection) {\r\n            this.selection.mouseClickLeft();\r\n        }\r\n        return;\r\n    case 27: // 'esc'\r\n        return this.destroy();\r\n    case 37: // 'left arrow'\r\n    case 40: // 'down arrow'\r\n    case 189: // -\r\n        return this.selectDown();\r\n    case 38: // 'up arrow'\r\n    case 39: // 'right arrow'\r\n    case 187: // +\r\n    case 220: // #\r\n        return this.selectUp();\r\n    default:\r\n        switch(event.key) {\r\n        case 'C':\r\n            return this.selectKey(48);\r\n        case 'c':\r\n            return this.selectKey(60);\r\n        case 'D':\r\n            return this.selectKey(50);\r\n        case 'd':\r\n            return this.selectKey(62);\r\n        case 'E':\r\n            return this.selectKey(52);\r\n        case 'e':\r\n            return this.selectKey(64);\r\n        case 'F':\r\n            return this.selectKey(53);\r\n        case 'f':\r\n            return this.selectKey(65);\r\n        case 'G':\r\n            return this.selectKey(55);\r\n        case 'g':\r\n            return this.selectKey(67);\r\n        case 'A':\r\n            return this.selectKey(57);\r\n        case 'a':\r\n            return this.selectKey(69);\r\n        case 'B':\r\n        case 'H':\r\n            return this.selectKey(59);\r\n        case 'b':\r\n        case 'h':\r\n            return this.selectKey(71);\r\n        default:\r\n            nop();\r\n        }\r\n    }\r\n};\r\n\r\nPianoMenuMorph.prototype.selectUp = function () {\r\n    var next = 48;\r\n    if (this.selection) {\r\n        next = this.selection.action + 1;\r\n        if (next > 72) {\r\n            next = 48;\r\n        }\r\n    }\r\n    this.selectKey(next);\r\n};\r\n\r\nPianoMenuMorph.prototype.selectDown = function () {\r\n    var next = 48;\r\n    if (this.selection) {\r\n        next = this.selection.action - 1;\r\n        if (next < 48) {\r\n            next = 72;\r\n        }\r\n    }\r\n    this.selectKey(next);\r\n};\r\n\r\nPianoMenuMorph.prototype.destroy = function () {\r\n    this.children.forEach(function (key) {\r\n        if (key.note) {\r\n            key.note.stop();\r\n        }\r\n    });\r\n    PianoMenuMorph.uber.destroy.call(this);\r\n};\r\n\r\n\r\n// PianoKeyMorph ///////////////////////////////////////////////////////\r\n\r\nPianoKeyMorph.prototype = new MenuItemMorph();\r\nPianoKeyMorph.prototype.constructor = PianoKeyMorph;\r\nPianoKeyMorph.uber = MenuItemMorph.prototype;\r\n\r\nfunction PianoKeyMorph(\r\n    target,\r\n    action,\r\n    labelString, // can also be a Morph or a Canvas or a tuple: [icon, string]\r\n    fontSize,\r\n    fontStyle,\r\n    environment,\r\n    hint,\r\n    color,\r\n    bold,\r\n    italic,\r\n    doubleClickAction, // optional when used as list morph item\r\n    label\r\n) {\r\n    this.init(\r\n        target,\r\n        action,\r\n        labelString,\r\n        fontSize,\r\n        fontStyle,\r\n        environment,\r\n        hint,\r\n        color,\r\n        bold,\r\n        italic,\r\n        doubleClickAction,\r\n        label\r\n    );\r\n    this.feedback = label;\r\n}\r\n\r\nPianoKeyMorph.prototype.init = function (\r\n    target,\r\n    action,\r\n    labelString,\r\n    fontSize,\r\n    fontStyle,\r\n    environment,\r\n    hint,\r\n    color,\r\n    bold,\r\n    italic,\r\n    doubleClickAction,\r\n    label\r\n) {\r\n    // additional \"note\" property for sound output:\r\n    this.note = new Note(action);\r\n    PianoKeyMorph.uber.init.call(\r\n        this,\r\n        target,\r\n        action,\r\n        labelString,\r\n        fontSize,\r\n        fontStyle,\r\n        environment,\r\n        hint,\r\n        color,\r\n        bold,\r\n        italic,\r\n        doubleClickAction,\r\n        label\r\n    );\r\n};\r\n\r\nPianoKeyMorph.prototype.createLabel = function () {\r\n    var icon;\r\n    if (this.label !== null) {\r\n        this.label.destroy();\r\n    }\r\n    // assume its pattern is: [icon, string]\r\n    this.label = new Morph();\r\n    icon = this.createIcon(this.labelString[0]);\r\n    this.label.add(icon);\r\n    this.label.drawNew();\r\n    this.silentSetExtent(icon.extent());\r\n    this.label.bounds = this.position().extent(this.label.extent());\r\n    this.label.silentSetExtent(new Point(0, 0));\r\n    this.add(this.label);\r\n};\r\n\r\nPianoKeyMorph.prototype.mouseEnter = function () {\r\n    var piano = this.parentThatIsA(PianoMenuMorph),\r\n        soundType = piano ? piano.soundType : 1,\r\n        myself = this;\r\n    if (piano) {\r\n        piano.unselectAllItems();\r\n        piano.selection = this;\r\n        piano.world.keyboardReceiver = piano;\r\n        piano.hasFocus = true;\r\n    }\r\n    this.label.children[0].hide();\r\n    this.image = this.highlightImage;\r\n    this.changed();\r\n    this.feedback.text = this.labelString[1];\r\n    this.feedback.changed();\r\n    this.feedback.drawNew();\r\n    this.feedback.changed();\r\n    this.note.play(soundType);\r\n    setTimeout(\r\n        function () {\r\n            myself.note.stop();\r\n        },\r\n        400\r\n    );\r\n};\r\n\r\nPianoKeyMorph.prototype.mouseLeave = function () {\r\n    this.note.stop();\r\n    this.label.children[0].show();\r\n    this.image = this.normalImage;\r\n    this.changed();\r\n};\r\n// fin de Widgets\r\n/*\r\n\r\n    blocks.js\r\n\r\n    a programming construction kit\r\n    based on morphic.js\r\n    inspired by Scratch\r\n\r\n    written by Jens Mönig\r\n    jens@moenig.org\r\n\r\n    Copyright (C) 2017 by Jens Mönig\r\n\r\n    This file is part of Snap!.\r\n\r\n    Snap! is free software: you can redistribute it and/or modify\r\n    it under the terms of the GNU Affero General Public License as\r\n    published by the Free Software Foundation, either version 3 of\r\n    the License, or (at your option) any later version.\r\n\r\n    This program is distributed in the hope that it will be useful,\r\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n    GNU Affero General Public License for more details.\r\n\r\n    You should have received a copy of the GNU Affero General Public License\r\n    along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n\r\n\r\n    prerequisites:\r\n    --------------\r\n    needs morphic.js and symbols.js\r\n\r\n\r\n    hierarchy\r\n    ---------\r\n    the following tree lists all constructors hierarchically,\r\n    indentation indicating inheritance. Refer to this list to get a\r\n    contextual overview:\r\n\r\n        Morph*\r\n            ArrowMorph\r\n            BlockHighlightMorph\r\n            ScriptsMorph\r\n            SyntaxElementMorph\r\n                ArgMorph\r\n                    ArgLabelMorph\r\n                    BooleanSlotMorph\r\n                    ColorSlotMorph\r\n                    CommandSlotMorph\r\n                        CSlotMorph\r\n                        RingCommandSlotMorph\r\n                    FunctionSlotMorph\r\n                        ReporterSlotMorph\r\n                            RingReporterSlotMorph\r\n                    InputSlotMorph\r\n                        TextSlotMorph\r\n                    MultiArgMorph\r\n                    TemplateSlotMorph\r\n                BlockMorph\r\n                    CommandBlockMorph\r\n                        HatBlockMorph\r\n                    ReporterBlockMorph\r\n                        RingMorph\r\n        BoxMorph*\r\n            CommentMorph\r\n            ScriptFocusMorph\r\n\r\n    * from morphic.js\r\n\r\n\r\n    toc\r\n    ---\r\n    the following list shows the order in which all constructors are\r\n    defined. Use this list to locate code in this document:\r\n\r\n        SyntaxElementMorph\r\n        BlockMorph\r\n        CommandBlockMorph\r\n        HatBlockMorph\r\n        ReporterBlockMorph\r\n        RingMorph\r\n        ScriptsMorph\r\n        ArgMorph\r\n        CommandSlotMorph\r\n        RingCommandSlotMorph\r\n        CSlotMorph\r\n        InputSlotMorph\r\n        BooleanSlotMorph\r\n        ArrowMorph\r\n        TextSlotMorph\r\n        ColorSlotMorph\r\n        TemplateSlotMorph\r\n        BlockHighlightMorph\r\n        MultiArgMorph\r\n        ArgLabelMorph\r\n        FunctionSlotMorph\r\n        ReporterSlotMorph\r\n        RingReporterSlotMorph\r\n        CommentMorph\r\n\r\n\r\n    structure of syntax elements\r\n    ----------------------------\r\n    the structure of syntax elements is identical with their morphic\r\n    tree. There are, however, accessor methods to get (only) the\r\n    parts which are relevant for evaluation wherever appropriate.\r\n\r\n    In Scratch/BYOB every sprite and the stage has its own \"blocks bin\",\r\n    an instance of ScriptsMorph (we're going to name it differently in\r\n    Snap, probably just \"scripts\").\r\n\r\n    At the top most level blocks are assembled into stacks in ScriptsMorph\r\n    instances. A ScriptsMorph contains nothing but blocks, therefore\r\n    every child of a ScriptsMorph is expected to be a block.\r\n\r\n    Each block contains:\r\n\r\n        selector    - indicating the name of the function it triggers,\r\n\r\n    Its arguments are first evaluated and then passed along    as the\r\n    selector is called. Arguments can be either instances of ArgMorph\r\n    or ReporterBlockMorph. The getter method for a block's arguments is\r\n\r\n        inputs()    - gets an array of arg morphs and/or reporter blocks\r\n\r\n    in addition to inputs, command blocks also know their\r\n\r\n        nextBlock()    - gets the block attached to the receiver's bottom\r\n\r\n    and the block they're attached to - if any: Their parent.\r\n\r\n    please also refer to the high-level comment at the beginning of each\r\n    constructor for further details.\r\n*/\r\n\r\n/*global Array, BoxMorph,\r\nColor, ColorPaletteMorph, FrameMorph, Function, HandleMorph, Math, MenuMorph,\r\nMorph, MorphicPreferences, Object, Point, ScrollFrameMorph, ShadowMorph,\r\nString, StringMorph, TextMorph, contains, degrees, detect, PianoMenuMorph,\r\ndocument, getDocumentPositionOf, isNaN, isString, newCanvas, nop, parseFloat,\r\nradians, useBlurredShadows, SpeechBubbleMorph, modules, StageMorph, Sound,\r\nfontHeight, TableFrameMorph, SpriteMorph, Context, ListWatcherMorph,\r\nCellMorph, DialogBoxMorph, BlockInputFragmentMorph, PrototypeHatBlockMorph,\r\nCostume, IDE_Morph, BlockDialogMorph, BlockEditorMorph, localize, isNil,\r\nisSnapObject, PushButtonMorph, SpriteIconMorph, Process, AlignmentMorph,\r\nCustomCommandBlockMorph, SymbolMorph, ToggleButtonMorph*/\r\n\r\n// Global stuff ////////////////////////////////////////////////////////\r\n\r\nmodules.blocks = '2017-November-16';\r\n\r\nvar SyntaxElementMorph;\r\nvar BlockMorph;\r\nvar CommandBlockMorph;\r\nvar ReporterBlockMorph;\r\nvar ScriptsMorph;\r\nvar ArgMorph;\r\nvar CommandSlotMorph;\r\nvar CSlotMorph;\r\nvar InputSlotMorph;\r\nvar BooleanSlotMorph;\r\nvar ArrowMorph;\r\nvar ColorSlotMorph;\r\nvar HatBlockMorph;\r\nvar BlockHighlightMorph;\r\nvar MultiArgMorph;\r\nvar TemplateSlotMorph;\r\nvar FunctionSlotMorph;\r\nvar ReporterSlotMorph;\r\nvar RingMorph;\r\nvar RingCommandSlotMorph;\r\nvar RingReporterSlotMorph;\r\nvar CommentMorph;\r\nvar ArgLabelMorph;\r\nvar TextSlotMorph;\r\nvar ScriptFocusMorph;\r\n\r\n// SyntaxElementMorph //////////////////////////////////////////////////\r\n\r\n// I am the ancestor of all blocks and input slots\r\n\r\n// SyntaxElementMorph inherits from Morph:\r\n\r\nSyntaxElementMorph.prototype = new Morph();\r\nSyntaxElementMorph.prototype.constructor = SyntaxElementMorph;\r\nSyntaxElementMorph.uber = Morph.prototype;\r\n\r\n// SyntaxElementMorph preferences settings:\r\n\r\n/*\r\n    the following settings govern the appearance of all syntax elements\r\n    (blocks and slots) where applicable:\r\n\r\n    outline:\r\n\r\n        corner      - radius of command block rounding\r\n        rounding    - radius of reporter block rounding\r\n        edge        - width of 3D-ish shading box\r\n        hatHeight   - additional top space for hat blocks\r\n        hatWidth    - minimum width for hat blocks\r\n        rfBorder    - pixel width of reification border (grey outline)\r\n        minWidth    - minimum width for any syntax element's contents\r\n\r\n    jigsaw shape:\r\n\r\n        inset       - distance from indentation to left edge\r\n        dent        - width of indentation bottom\r\n\r\n    paddings:\r\n\r\n        bottomPadding   - adds to the width of the bottom most c-slot\r\n        cSlotPadding    - adds to the width of the open \"C\" in c-slots\r\n        typeInPadding   - adds pixels between text and edge in input slots\r\n        labelPadding    - adds left/right pixels to block labels\r\n\r\n    label:\r\n\r\n        labelFontName       - <string> specific font family name\r\n        labelFontStyle      - <string> generic font family name, cascaded\r\n        fontSize            - duh\r\n        embossing           - <Point> offset for embossing effect\r\n        labelWidth          - column width, used for word wrapping\r\n        labelWordWrap       - <bool> if true labels can break after each word\r\n        dynamicInputLabels  - <bool> if true inputs can have dynamic labels\r\n\r\n    snapping:\r\n\r\n        feedbackColor       - <Color> for displaying drop feedbacks\r\n        feedbackMinHeight   - height of white line for command block snaps\r\n        minSnapDistance     - threshold when commands start snapping\r\n        reporterDropFeedbackPadding  - increases reporter drop feedback\r\n\r\n    color gradients:\r\n\r\n        contrast        - <percent int> 3D-ish shading gradient contrast\r\n        labelContrast   - <percent int> 3D-ish label shading contrast\r\n        activeHighlight - <Color> for stack highlighting when active\r\n        errorHighlight  - <Color> for error highlighting\r\n        activeBlur      - <pixels int> shadow for blurred activeHighlight\r\n        activeBorder    - <pixels int> unblurred activeHighlight\r\n        rfColor         - <Color> for reified outlines and slot backgrounds\r\n*/\r\n\r\nSyntaxElementMorph.prototype.setScale = function (num) {\r\n    var scale = Math.min(Math.max(num, 1), 25);\r\n    this.scale = scale;\r\n    this.corner = 3 * scale;\r\n    this.rounding = 9 * scale;\r\n    this.edge = 1.000001 * scale;\r\n    this.inset = 6 * scale;\r\n    this.hatHeight = 12 * scale;\r\n    this.hatWidth = 70 * scale;\r\n    this.rfBorder = 3 * scale;\r\n    this.minWidth = 0;\r\n    this.dent = 8 * scale;\r\n    this.bottomPadding = 3 * scale;\r\n    this.cSlotPadding = 4 * scale;\r\n    this.typeInPadding = scale;\r\n    this.labelPadding = 4 * scale;\r\n    this.labelFontName = 'Verdana';\r\n    this.labelFontStyle = 'sans-serif';\r\n    this.fontSize = 10 * scale;\r\n    this.embossing = new Point(\r\n        -1 * Math.max(scale / 2, 1),\r\n        -1 * Math.max(scale / 2, 1)\r\n    );\r\n    this.labelWidth = 450 * scale;\r\n    this.labelWordWrap = true;\r\n    this.dynamicInputLabels = true;\r\n    this.feedbackColor = new Color(255, 255, 255);\r\n    this.feedbackMinHeight = 5;\r\n    this.minSnapDistance = 20;\r\n    this.reporterDropFeedbackPadding = 10 * scale;\r\n    this.contrast = 65;\r\n    this.labelContrast = 25;\r\n    this.activeHighlight = new Color(153, 255, 213);\r\n    this.errorHighlight = new Color(173, 15, 0);\r\n    this.activeBlur = 20;\r\n    this.activeBorder = 4;\r\n    this.rfColor = new Color(120, 120, 120);\r\n};\r\n\r\nSyntaxElementMorph.prototype.setScale(1);\r\nSyntaxElementMorph.prototype.isCachingInputs = false;\r\n\r\n// SyntaxElementMorph instance creation:\r\n\r\nfunction SyntaxElementMorph() {\r\n    this.init();\r\n}\r\n\r\nSyntaxElementMorph.prototype.init = function (silently) {\r\n    this.cachedClr = null;\r\n    this.cachedClrBright = null;\r\n    this.cachedClrDark = null;\r\n    this.cachedNormalColor = null; // for single-stepping\r\n    this.isStatic = false; // if true, I cannot be exchanged\r\n\r\n    SyntaxElementMorph.uber.init.call(this, silently);\r\n\r\n    this.defaults = [];\r\n    this.cachedInputs = null;\r\n};\r\n\r\n// SyntaxElementMorph accessing:\r\n\r\nSyntaxElementMorph.prototype.parts = function () {\r\n    // answer my non-crontrol submorphs\r\n    var nb = null;\r\n    if (this.nextBlock) { // if I am a CommandBlock or a HatBlock\r\n        nb = this.nextBlock();\r\n    }\r\n    return this.children.filter(function (child) {\r\n        return (child !== nb)\r\n            && !(child instanceof ShadowMorph)\r\n            && !(child instanceof BlockHighlightMorph);\r\n    });\r\n};\r\n\r\nSyntaxElementMorph.prototype.inputs = function () {\r\n    // answer my arguments and nested reporters\r\n    if (isNil(this.cachedInputs) || !this.isCachingInputs) {\r\n        this.cachedInputs = this.parts().filter(function (part) {\r\n            return part instanceof SyntaxElementMorph;\r\n        });\r\n    }\r\n    // this.debugCachedInputs();\r\n    return this.cachedInputs;\r\n};\r\n\r\nSyntaxElementMorph.prototype.debugCachedInputs = function () {\r\n    // private - only used for manually debugging inputs caching\r\n    var realInputs, i;\r\n    if (!isNil(this.cachedInputs)) {\r\n        realInputs = this.parts().filter(function (part) {\r\n            return part instanceof SyntaxElementMorph;\r\n        });\r\n    }\r\n    if (this.cachedInputs.length !== realInputs.length) {\r\n        throw new Error('cached inputs size do not match: ' +\r\n            this.constructor.name);\r\n    }\r\n    for (i = 0; i < realInputs.length; i += 1) {\r\n        if (this.cachedInputs[i] !== realInputs[i]) {\r\n            throw new Error('cached input does not match: ' +\r\n                this.constructor.name +\r\n                ' #' +\r\n                i +\r\n                ' ' +\r\n                this.cachedInputs[i].constructor.name +\r\n                ' != ' +\r\n                realInputs[i].constructor.name);\r\n        }\r\n    }\r\n};\r\n\r\nSyntaxElementMorph.prototype.allInputs = function () {\r\n    // answer arguments and nested reporters of all children\r\n    var myself = this;\r\n    return this.allChildren().slice(0).reverse().filter(\r\n        function (child) {\r\n            return (child instanceof ArgMorph) ||\r\n                (child instanceof ReporterBlockMorph &&\r\n                child !== myself);\r\n        }\r\n    );\r\n};\r\n\r\nSyntaxElementMorph.prototype.allEmptySlots = function () {\r\n    // answer empty input slots of all children excluding myself,\r\n    // but omit those in nested rings (lambdas) and JS-Function primitives.\r\n    // Used by the evaluator when binding implicit formal parameters\r\n    // to empty input slots\r\n    var empty = [];\r\n    if (!(this instanceof RingMorph) &&\r\n            (this.selector !== 'reportJSFunction')) {\r\n        this.children.forEach(function (morph) {\r\n            if (morph.isEmptySlot && morph.isEmptySlot()) {\r\n                empty.push(morph);\r\n            } else if (morph.allEmptySlots) {\r\n                empty = empty.concat(morph.allEmptySlots());\r\n            }\r\n        });\r\n    }\r\n    return empty;\r\n};\r\n\r\nSyntaxElementMorph.prototype.tagExitBlocks = function (stopTag, isCommand) {\r\n    // tag 'report' and 'stop this block' blocks of all children including\r\n    // myself, with either a stopTag (for \"stop\" blocks) or an indicator of\r\n    // being inside a command block definition, but omit those in nested\r\n    // rings (lambdas. Used by the evaluator when entering a procedure\r\n    if (this.selector === 'doReport') {\r\n        this.partOfCustomCommand = isCommand;\r\n    } else if (this.selector === 'doStopThis') {\r\n        this.exitTag = stopTag;\r\n    } else {\r\n        if (!(this instanceof RingMorph)) {\r\n            this.children.forEach(function (morph) {\r\n                if (morph.tagExitBlocks) {\r\n                    morph.tagExitBlocks(stopTag, isCommand);\r\n                }\r\n            });\r\n        }\r\n    }\r\n};\r\n\r\nSyntaxElementMorph.prototype.replaceInput = function (oldArg, newArg) {\r\n    var scripts = this.parentThatIsA(ScriptsMorph),\r\n        replacement = newArg,\r\n        idx = this.children.indexOf(oldArg),\r\n        i = 0;\r\n\r\n    // try to find the ArgLabel embedding the newArg,\r\n    // used for the undrop() feature\r\n    if (idx === -1 && newArg instanceof MultiArgMorph) {\r\n        this.children.forEach(function (morph) {\r\n            if (morph instanceof ArgLabelMorph &&\r\n                    morph.argMorph() === oldArg) {\r\n                idx = i;\r\n            }\r\n            i += 1;\r\n        });\r\n    }\r\n\r\n    if ((idx === -1) || (scripts === null)) {\r\n        return null;\r\n    }\r\n\r\n    if (oldArg.cachedSlotSpec) {oldArg.cachedSlotSpec = null; }\r\n    if (newArg.cachedSlotSpec) {newArg.cachedSlotSpec = null; }\r\n\r\n    this.startLayout();\r\n    if (newArg.parent) {\r\n        newArg.parent.removeChild(newArg);\r\n    }\r\n    if (oldArg instanceof MultiArgMorph) {\r\n        oldArg.inputs().forEach(function (inp) { // preserve nested reporters\r\n            oldArg.replaceInput(inp, new InputSlotMorph());\r\n        });\r\n        if (this.dynamicInputLabels) {\r\n            replacement = new ArgLabelMorph(newArg);\r\n        }\r\n    }\r\n    replacement.parent = this;\r\n    this.children[idx] = replacement;\r\n    if (oldArg instanceof ReporterBlockMorph) {\r\n        if (!(oldArg instanceof RingMorph)\r\n                || (oldArg instanceof RingMorph && oldArg.contents())) {\r\n            scripts.add(oldArg);\r\n            oldArg.moveBy(replacement.extent());\r\n            oldArg.fixBlockColor();\r\n        }\r\n    }\r\n    if (replacement instanceof MultiArgMorph\r\n            || replacement instanceof ArgLabelMorph\r\n            || replacement.constructor === CommandSlotMorph) {\r\n        replacement.fixLayout();\r\n        if (this.fixLabelColor) { // special case for variadic continuations\r\n            this.fixLabelColor();\r\n        }\r\n    } else {\r\n        replacement.drawNew();\r\n        this.fixLayout();\r\n    }\r\n    this.cachedInputs = null;\r\n    this.endLayout();\r\n};\r\n\r\nSyntaxElementMorph.prototype.silentReplaceInput = function (oldArg, newArg) {\r\n    // used by the Serializer or when programatically\r\n    // changing blocks\r\n    var i = this.children.indexOf(oldArg),\r\n        replacement;\r\n\r\n    if (i === -1) {\r\n        return;\r\n    }\r\n\r\n    if (oldArg.cachedSlotSpec) {oldArg.cachedSlotSpec = null; }\r\n    if (newArg.cachedSlotSpec) {newArg.cachedSlotSpec = null; }\r\n\r\n    if (newArg.parent) {\r\n        newArg.parent.removeChild(newArg);\r\n    }\r\n    if (oldArg instanceof MultiArgMorph && this.dynamicInputLabels) {\r\n        replacement = new ArgLabelMorph(newArg);\r\n    } else {\r\n        replacement = newArg;\r\n    }\r\n    replacement.parent = this;\r\n    this.children[i] = replacement;\r\n\r\n    if (replacement instanceof MultiArgMorph\r\n            || replacement instanceof ArgLabelMorph\r\n            || replacement.constructor === CommandSlotMorph) {\r\n        replacement.fixLayout();\r\n        if (this.fixLabelColor) { // special case for variadic continuations\r\n            this.fixLabelColor();\r\n        }\r\n    } else {\r\n        replacement.drawNew();\r\n        this.fixLayout();\r\n    }\r\n    this.cachedInputs = null;\r\n};\r\n\r\nSyntaxElementMorph.prototype.revertToDefaultInput = function (arg, noValues) {\r\n    var idx = this.parts().indexOf(arg),\r\n        inp = this.inputs().indexOf(arg),\r\n        deflt = new InputSlotMorph(),\r\n        def;\r\n\r\n    if (idx !== -1) {\r\n        if (this instanceof BlockMorph) {\r\n            deflt = this.labelPart(this.parseSpec(this.blockSpec)[idx]);\r\n            if (this.isCustomBlock) {\r\n                def = this.isGlobal ? this.definition\r\n                        : this.scriptTarget().getMethod(this.blockSpec);\r\n                if (deflt instanceof InputSlotMorph) {\r\n                    deflt.setChoices.apply(\r\n                        deflt,\r\n                        def.inputOptionsOfIdx(inp)\r\n                    );\r\n                }\r\n                if (deflt instanceof InputSlotMorph ||\r\n                    (deflt instanceof BooleanSlotMorph)\r\n                ) {\r\n                    deflt.setContents(\r\n                        def.defaultValueOfInputIdx(inp)\r\n                    );\r\n                }\r\n            }\r\n        } else if (this instanceof MultiArgMorph) {\r\n            deflt = this.labelPart(this.slotSpec);\r\n        } else if (this instanceof ReporterSlotMorph) {\r\n            deflt = this.emptySlot();\r\n        }\r\n    }\r\n    // set default value\r\n    if (!noValues) {\r\n        if (inp !== -1) {\r\n            if (deflt instanceof MultiArgMorph) {\r\n                deflt.setContents(this.defaults);\r\n                deflt.defaults = this.defaults;\r\n            } else if (!isNil(this.defaults[inp])) {\r\n                deflt.setContents(this.defaults[inp]);\r\n            }\r\n        }\r\n    }\r\n    this.silentReplaceInput(arg, deflt);\r\n    if (deflt instanceof MultiArgMorph) {\r\n        deflt.refresh();\r\n    } else if (deflt instanceof RingMorph) {\r\n        deflt.fixBlockColor();\r\n    }\r\n    this.cachedInputs = null;\r\n};\r\n\r\nSyntaxElementMorph.prototype.isLocked = function () {\r\n    // answer true if I can be exchanged by a dropped reporter\r\n    return this.isStatic;\r\n};\r\n\r\n// SyntaxElementMorph enumerating:\r\n\r\nSyntaxElementMorph.prototype.topBlock = function () {\r\n    if (this.parent && this.parent.topBlock) {\r\n        return this.parent.topBlock();\r\n    }\r\n    return this;\r\n};\r\n\r\n// SyntaxElementMorph reachable variables\r\n\r\nSyntaxElementMorph.prototype.getVarNamesDict = function () {\r\n    var block = this.parentThatIsA(BlockMorph),\r\n        rcvr,\r\n        tempVars = [],\r\n        dict;\r\n\r\n    if (!block) {\r\n        return {};\r\n    }\r\n    rcvr = block.scriptTarget();\r\n    block.allParents().forEach(function (morph) {\r\n        if (morph instanceof PrototypeHatBlockMorph) {\r\n            tempVars.push.apply(\r\n                tempVars,\r\n                morph.variableNames()\r\n            );\r\n            tempVars.push.apply(\r\n                tempVars,\r\n                morph.inputs()[0].inputFragmentNames()\r\n            );\r\n        } else if (morph instanceof BlockMorph) {\r\n            morph.inputs().forEach(function (inp) {\r\n                if (inp instanceof TemplateSlotMorph) {\r\n                    tempVars.push(inp.contents());\r\n                } else if (inp instanceof MultiArgMorph) {\r\n                    inp.children.forEach(function (m) {\r\n                        if (m instanceof TemplateSlotMorph) {\r\n                            tempVars.push(m.contents());\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    });\r\n    if (rcvr) {\r\n        dict = rcvr.variables.allNamesDict();\r\n        tempVars.forEach(function (name) {\r\n            dict[name] = name;\r\n        });\r\n        return dict;\r\n    }\r\n    return {};\r\n};\r\n\r\n// Variable refactoring\r\n\r\nSyntaxElementMorph.prototype.refactorVarInStack = function (\r\n    oldName,\r\n    newName,\r\n    isScriptVar\r\n) {\r\n    // Rename all oldName var occurrences found in this block stack into newName\r\n    // taking care of not being too greedy\r\n\r\n    if ((this instanceof RingMorph && contains(this.inputNames(), oldName))\r\n            || (!isScriptVar && this.definesScriptVariable(oldName))) {\r\n        return;\r\n    }\r\n\r\n    if (this.selector === 'reportGetVar'\r\n            && this.blockSpec === oldName) {\r\n        this.setSpec(newName);\r\n        this.fullChanged();\r\n        this.fixLabelColor();\r\n    }\r\n\r\n    if (this.choices === 'getVarNamesDict'\r\n            && this.contents().text === oldName) {\r\n        this.setContents(newName);\r\n    }\r\n\r\n    if (this instanceof CustomCommandBlockMorph\r\n            && this.definition.body\r\n            && isNil(this.definition.declarations[oldName])\r\n            && !contains(this.definition.variableNames, oldName)) {\r\n        this.definition.body.expression.refactorVarInStack(oldName, newName);\r\n    }\r\n\r\n    this.inputs().forEach(function (input) {\r\n        input.refactorVarInStack(oldName, newName);\r\n    });\r\n\r\n    if (this.nextBlock) {\r\n        var nb = this.nextBlock();\r\n        if (nb) {\r\n            nb.refactorVarInStack(oldName, newName);\r\n        }\r\n    }\r\n};\r\n\r\nSyntaxElementMorph.prototype.definesScriptVariable = function (name) {\r\n    // Returns true if this block is defining either a script local var or\r\n    // an upVar called `name`\r\n    return ((this.selector === 'doDeclareVariables'\r\n                || (this.blockSpec && this.blockSpec.match('%upvar')))\r\n            && (detect(this.inputs()[0].allInputs(), function (input) {\r\n                return (input.selector === 'reportGetVar'\r\n                        && input.blockSpec === name);\r\n            })));\r\n};\r\n\r\n// SyntaxElementMorph copy-on-write support:\r\n\r\nSyntaxElementMorph.prototype.selectForEdit = function () {\r\n    var scripts = this.parentThatIsA(ScriptsMorph),\r\n        ide = this.parentThatIsA(IDE_Morph),\r\n        rcvr = ide ? ide.currentSprite : null,\r\n        selected;\r\n    if (scripts && rcvr && rcvr.inheritsAttribute('scripts')) {\r\n        // copy on write:\r\n        this.selectionID = true;\r\n        rcvr.shadowAttribute('scripts');\r\n        selected = detect(rcvr.scripts.allChildren(), function (m) {\r\n            return m.selectionID;\r\n        });\r\n        delete this.selectionID;\r\n        delete selected.selectionID;\r\n        return selected;\r\n    }\r\n    return this;\r\n};\r\n\r\n// SyntaxElementMorph drag & drop:\r\n\r\nSyntaxElementMorph.prototype.reactToGrabOf = function (grabbedMorph) {\r\n    var topBlock = this.topBlock(),\r\n        affected;\r\n    if (grabbedMorph instanceof CommandBlockMorph) {\r\n        affected = this.parentThatIsA(CommandSlotMorph);\r\n        if (affected) {\r\n            this.startLayout();\r\n            affected.fixLayout();\r\n            this.endLayout();\r\n        }\r\n    }\r\n    if (topBlock) {\r\n        topBlock.allComments().forEach(function (comment) {\r\n            comment.align(topBlock);\r\n        });\r\n        if (topBlock.getHighlight()) {\r\n            topBlock.addHighlight(topBlock.removeHighlight());\r\n        }\r\n    }\r\n};\r\n\r\n// SyntaxElementMorph 3D - border color rendering:\r\n\r\nSyntaxElementMorph.prototype.bright = function () {\r\n    return this.color.lighter(this.contrast).toString();\r\n};\r\n\r\nSyntaxElementMorph.prototype.dark = function () {\r\n    return this.color.darker(this.contrast).toString();\r\n};\r\n\r\n// SyntaxElementMorph color changing:\r\n\r\nSyntaxElementMorph.prototype.setColor = function (aColor, silently) {\r\n    if (aColor) {\r\n        if (!this.color.eq(aColor)) {\r\n            this.color = aColor;\r\n            if (!silently) {this.drawNew(); }\r\n            this.children.forEach(function (child) {\r\n                if ((!silently || child instanceof TemplateSlotMorph) &&\r\n                \t\t!(child instanceof BlockHighlightMorph)) {\r\n                    child.drawNew();\r\n                    child.changed();\r\n                }\r\n            });\r\n            this.changed();\r\n        }\r\n    }\r\n};\r\n\r\nSyntaxElementMorph.prototype.setLabelColor = function (\r\n    textColor,\r\n    shadowColor,\r\n    shadowOffset\r\n) {\r\n    this.children.forEach(function (morph) {\r\n        if (morph instanceof StringMorph && !morph.isProtectedLabel) {\r\n            morph.shadowOffset = shadowOffset || morph.shadowOffset;\r\n            morph.shadowColor = shadowColor || morph.shadowColor;\r\n            morph.setColor(textColor);\r\n        } else if (morph instanceof MultiArgMorph\r\n                || morph instanceof ArgLabelMorph\r\n                || (morph instanceof SymbolMorph && !morph.isProtectedLabel)\r\n                || (morph instanceof InputSlotMorph\r\n                    && morph.isReadOnly)) {\r\n            morph.setLabelColor(textColor, shadowColor, shadowOffset);\r\n        }\r\n    });\r\n};\r\n\r\nSyntaxElementMorph.prototype.flash = function () {\r\n    if (!this.cachedNormalColor) {\r\n        this.cachedNormalColor = this.color;\r\n        this.setColor(this.activeHighlight);\r\n    }\r\n};\r\n\r\nSyntaxElementMorph.prototype.unflash = function () {\r\n    if (this.cachedNormalColor) {\r\n        var clr = this.cachedNormalColor;\r\n        this.cachedNormalColor = null;\r\n        this.setColor(clr);\r\n    }\r\n};\r\n\r\n// SyntaxElementMorph zebra coloring\r\n\r\nSyntaxElementMorph.prototype.fixBlockColor = function (\r\n    nearestBlock,\r\n    isForced\r\n) {\r\n    this.children.forEach(function (morph) {\r\n        if (morph instanceof SyntaxElementMorph) {\r\n            morph.fixBlockColor(nearestBlock, isForced);\r\n        }\r\n    });\r\n};\r\n\r\n// SyntaxElementMorph label parts:\r\n\r\nSyntaxElementMorph.prototype.labelPart = function (spec) {\r\n    var part, tokens;\r\n    if (spec[0] === '%' &&\r\n            spec.length > 1 &&\r\n            (this.selector !== 'reportGetVar' ||\r\n                (spec === '%turtleOutline' && this.isObjInputFragment()))) {\r\n\r\n        // check for variable multi-arg-slot:\r\n        if ((spec.length > 5) && (spec.slice(0, 5) === '%mult')) {\r\n            part = new MultiArgMorph(spec.slice(5));\r\n            part.addInput();\r\n            return part;\r\n        }\r\n\r\n        // single-arg and specialized multi-arg slots:\r\n        switch (spec) {\r\n        case '%imgsource':\r\n            part = new InputSlotMorph(\r\n                null, // text\r\n                false, // non-numeric\r\n                {\r\n                    'pen trails': ['pen trails'],\r\n                    'stage image': ['stage image']\r\n                },\r\n                true\r\n            );\r\n            part.setContents(['pen trails']);\r\n            break;\r\n        case '%inputs':\r\n            part = new MultiArgMorph('%s', 'with inputs');\r\n            part.isStatic = false;\r\n            part.canBeEmpty = false;\r\n            break;\r\n        case '%scriptVars':\r\n            part = new MultiArgMorph('%t', null, 1, spec);\r\n            part.canBeEmpty = false;\r\n            break;\r\n        case '%blockVars':\r\n            part = new MultiArgMorph('%t', 'block variables', 0, spec);\r\n            part.canBeEmpty = false;\r\n            break;\r\n        case '%parms':\r\n            part = new MultiArgMorph('%t', 'Input Names:', 0, spec);\r\n            part.canBeEmpty = false;\r\n            break;\r\n        case '%ringparms':\r\n            part = new MultiArgMorph(\r\n                '%t',\r\n                'input names:',\r\n                0,\r\n                spec\r\n            );\r\n            break;\r\n        case '%cmdRing':\r\n            part = new RingMorph();\r\n            part.color = SpriteMorph.prototype.blockColor.other;\r\n            part.selector = 'reifyScript';\r\n            part.setSpec('%rc %ringparms');\r\n            part.isDraggable = true;\r\n            break;\r\n        case '%repRing':\r\n            part = new RingMorph();\r\n            part.color = SpriteMorph.prototype.blockColor.other;\r\n            part.selector = 'reifyReporter';\r\n            part.setSpec('%rr %ringparms');\r\n            part.isDraggable = true;\r\n            part.isStatic = true;\r\n            break;\r\n        case '%predRing':\r\n            part = new RingMorph(true);\r\n            part.color = SpriteMorph.prototype.blockColor.other;\r\n            part.selector = 'reifyPredicate';\r\n            part.setSpec('%rp %ringparms');\r\n            part.isDraggable = true;\r\n            part.isStatic = true;\r\n            break;\r\n        case '%words':\r\n            part = new MultiArgMorph('%s', null, 0);\r\n            part.addInput(); // allow for default value setting\r\n            part.addInput(); // allow for default value setting\r\n            part.isStatic = false;\r\n            break;\r\n        case '%exp':\r\n            part = new MultiArgMorph('%s', null, 0);\r\n            part.addInput();\r\n            part.isStatic = true;\r\n            part.canBeEmpty = false;\r\n            break;\r\n        case '%br':\r\n            part = new Morph();\r\n            part.setExtent(new Point(0, 0));\r\n            part.isBlockLabelBreak = true;\r\n            part.getSpec = function () {\r\n                return '%br';\r\n            };\r\n            break;\r\n        case '%inputName':\r\n            part = new ReporterBlockMorph();\r\n            part.category = 'variables';\r\n            part.color = SpriteMorph.prototype.blockColor.variables;\r\n            part.setSpec(localize('Input name'));\r\n            break;\r\n        case '%s':\r\n            part = new InputSlotMorph();\r\n            break;\r\n        case '%anyUE':\r\n            part = new InputSlotMorph();\r\n            part.isUnevaluated = true;\r\n            break;\r\n        case '%txt':\r\n            part = new InputSlotMorph(); // supports whitespace dots\r\n            // part = new TextSlotMorph(); // multi-line, no whitespace dots\r\n            part.minWidth = part.height() * 1.7; // \"landscape\"\r\n            part.fixLayout();\r\n            break;\r\n        case '%mlt':\r\n            part = new TextSlotMorph();\r\n            part.fixLayout();\r\n            break;\r\n        case '%code':\r\n            part = new TextSlotMorph();\r\n            part.contents().fontName = 'monospace';\r\n            part.contents().fontStyle = 'monospace';\r\n            part.fixLayout();\r\n            break;\r\n        case '%obj':\r\n            part = new ArgMorph('object');\r\n            break;\r\n        case '%n':\r\n            part = new InputSlotMorph(null, true);\r\n            break;\r\n        case '%dir':\r\n            part = new InputSlotMorph(\r\n                null,\r\n                true,\r\n                {\r\n                    '(90) right' : 90,\r\n                    '(-90) left' : -90,\r\n                    '(0) up' : '0',\r\n                    '(180) down' : 180\r\n                }\r\n            );\r\n            part.setContents(90);\r\n            break;\r\n        case '%note':\r\n            part = new InputSlotMorph(\r\n                null, // test\r\n                true, // numeric\r\n                'pianoKeyboardMenu',\r\n                false // read-only\r\n            );\r\n            break;\r\n        case '%inst':\r\n            part = new InputSlotMorph(\r\n                null,\r\n                true,\r\n                {\r\n                    '(1) sine' : 1,\r\n                    '(2) square' : 2,\r\n                    '(3) sawtooth' : 3,\r\n                    '(4) triangle' : 4\r\n                }\r\n            );\r\n            part.setContents(1);\r\n            break;\r\n        case '%month':\r\n            part = new InputSlotMorph(\r\n                null, // text\r\n                false, // numeric?\r\n                {\r\n                    'January' : ['January'],\r\n                    'February' : ['February'],\r\n                    'March' : ['March'],\r\n                    'April' : ['April'],\r\n                    'May' : ['May'],\r\n                    'June' : ['June'],\r\n                    'July' : ['July'],\r\n                    'August' : ['August'],\r\n                    'September' : ['September'],\r\n                    'October' : ['October'],\r\n                    'November' : ['November'],\r\n                    'December' : ['December']\r\n                },\r\n                true // read-only\r\n            );\r\n            break;\r\n        case '%interaction':\r\n            part = new InputSlotMorph(\r\n                null, // text\r\n                false, // numeric?\r\n                {\r\n                    'clicked' : ['clicked'],\r\n                    'pressed' : ['pressed'],\r\n                    'dropped' : ['dropped'],\r\n                    'mouse-entered' : ['mouse-entered'],\r\n                    'mouse-departed' : ['mouse-departed']\r\n                },\r\n                true // read-only\r\n            );\r\n            part.isStatic = true;\r\n            break;\r\n        case '%dates':\r\n            part = new InputSlotMorph(\r\n                null, // text\r\n                false, // non-numeric\r\n                {\r\n                    'year' : ['year'],\r\n                    'month' : ['month'],\r\n                    'date' : ['date'],\r\n                    'day of week' : ['day of week'],\r\n                    'hour' : ['hour'],\r\n                    'minute' : ['minute'],\r\n                    'second' : ['second'],\r\n                    'time in milliseconds' : ['time in milliseconds']\r\n                },\r\n                true // read-only\r\n            );\r\n            part.setContents(['date']);\r\n            break;\r\n        case '%delim':\r\n            part = new InputSlotMorph(\r\n                null, // text\r\n                false, // numeric?\r\n                {\r\n                    'letter' : ['letter'],\r\n                    'whitespace' : ['whitespace'],\r\n                    'line' : ['line'],\r\n                    'tab' : ['tab'],\r\n                    'cr' : ['cr'],\r\n                    'csv' : ['csv']\r\n                },\r\n                false // read-only\r\n            );\r\n            break;\r\n        case '%ida':\r\n            part = new InputSlotMorph(\r\n                null,\r\n                true,\r\n                {\r\n                    '1' : 1,\r\n                    last : ['last'],\r\n                    '~' : null,\r\n                    all : ['all']\r\n                }\r\n            );\r\n            part.setContents(1);\r\n            break;\r\n        case '%idx':\r\n            part = new InputSlotMorph(\r\n                null,\r\n                true,\r\n                {\r\n                    '1' : 1,\r\n                    last : ['last'],\r\n                    any : ['any']\r\n                }\r\n            );\r\n            part.setContents(1);\r\n            break;\r\n        case '%spr':\r\n            part = new InputSlotMorph(\r\n                null,\r\n                false,\r\n                'objectsMenu',\r\n                true\r\n            );\r\n            break;\r\n        case '%col': // collision detection\r\n            part = new InputSlotMorph(\r\n                null,\r\n                false,\r\n                'collidablesMenu',\r\n                true\r\n            );\r\n            break;\r\n        case '%dst': // distance measuring\r\n            part = new InputSlotMorph(\r\n                null,\r\n                false,\r\n                'distancesMenu',\r\n                true\r\n            );\r\n            break;\r\n        case '%cln': // clones\r\n            part = new InputSlotMorph(\r\n                null,\r\n                false,\r\n                'clonablesMenu',\r\n                true\r\n            );\r\n            break;\r\n        case '%get': // sprites, parts, speciment, clones\r\n            part = new InputSlotMorph(\r\n                null,\r\n                false,\r\n                'gettablesMenu',\r\n                true\r\n            );\r\n            part.isStatic = true;\r\n            break;\r\n        case '%cst':\r\n            part = new InputSlotMorph(\r\n                null,\r\n                false,\r\n                'costumesMenu',\r\n                true\r\n            );\r\n            break;\r\n        case '%eff':\r\n            part = new InputSlotMorph(\r\n                null,\r\n                false,\r\n                {\r\n                    color: ['color'],\r\n                    fisheye: ['fisheye'],\r\n                    whirl: ['whirl'],\r\n                    pixelate: ['pixelate'],\r\n                    mosaic: ['mosaic'],\r\n                    duplicate: ['duplicate'],\r\n                    negative : ['negative'],\r\n                    comic: ['comic'],\r\n                    confetti: ['confetti'],\r\n                    saturation: ['saturation'],\r\n                    brightness : ['brightness'],\r\n                    ghost: ['ghost']\r\n                },\r\n                true\r\n            );\r\n            part.setContents(['ghost']);\r\n            break;\r\n        case '%snd':\r\n            part = new InputSlotMorph(\r\n                null,\r\n                false,\r\n                'soundsMenu',\r\n                true\r\n            );\r\n            break;\r\n        case '%key':\r\n            part = new InputSlotMorph(\r\n                null,\r\n                false,\r\n                {\r\n                    'any key' : ['any key'],\r\n                    'up arrow': ['up arrow'],\r\n                    'down arrow': ['down arrow'],\r\n                    'right arrow': ['right arrow'],\r\n                    'left arrow': ['left arrow'],\r\n                    space : ['space'],\r\n                    a : ['a'],\r\n                    b : ['b'],\r\n                    c : ['c'],\r\n                    d : ['d'],\r\n                    e : ['e'],\r\n                    f : ['f'],\r\n                    g : ['g'],\r\n                    h : ['h'],\r\n                    i : ['i'],\r\n                    j : ['j'],\r\n                    k : ['k'],\r\n                    l : ['l'],\r\n                    m : ['m'],\r\n                    n : ['n'],\r\n                    o : ['o'],\r\n                    p : ['p'],\r\n                    q : ['q'],\r\n                    r : ['r'],\r\n                    s : ['s'],\r\n                    t : ['t'],\r\n                    u : ['u'],\r\n                    v : ['v'],\r\n                    w : ['w'],\r\n                    x : ['x'],\r\n                    y : ['y'],\r\n                    z : ['z'],\r\n                    '0' : ['0'],\r\n                    '1' : ['1'],\r\n                    '2' : ['2'],\r\n                    '3' : ['3'],\r\n                    '4' : ['4'],\r\n                    '5' : ['5'],\r\n                    '6' : ['6'],\r\n                    '7' : ['7'],\r\n                    '8' : ['8'],\r\n                    '9' : ['9']\r\n                },\r\n                true\r\n            );\r\n            part.setContents(['space']);\r\n            break;\r\n        case '%keyHat':\r\n            part = this.labelPart('%key');\r\n            part.isStatic = true;\r\n            break;\r\n        case '%msg':\r\n            part = new InputSlotMorph(\r\n                null,\r\n                false,\r\n                'messagesMenu',\r\n                true\r\n            );\r\n            break;\r\n        case '%msgHat':\r\n            part = new InputSlotMorph(\r\n                null,\r\n                false,\r\n                'messagesReceivedMenu',\r\n                true\r\n            );\r\n            part.isStatic = true;\r\n            break;\r\n        case '%att':\r\n            part = new InputSlotMorph(\r\n                null,\r\n                false,\r\n                'attributesMenu',\r\n                true\r\n            );\r\n            break;\r\n        case '%fun':\r\n            part = new InputSlotMorph(\r\n                null,\r\n                false,\r\n                {\r\n                    abs : ['abs'],\r\n                    ceiling : ['ceiling'],\r\n                    floor : ['floor'],\r\n                    sqrt : ['sqrt'],\r\n                    sin : ['sin'],\r\n                    cos : ['cos'],\r\n                    tan : ['tan'],\r\n                    asin : ['asin'],\r\n                    acos : ['acos'],\r\n                    atan : ['atan'],\r\n                    ln : ['ln'],\r\n                    log : ['log'],\r\n                    'e^' : ['e^'],\r\n                    '10^' : ['10^']\r\n                },\r\n                true\r\n            );\r\n            part.setContents(['sqrt']);\r\n            break;\r\n        case '%txtfun':\r\n            part = new InputSlotMorph(\r\n                null,\r\n                false,\r\n                {\r\n                    'encode URI' : ['encode URI'],\r\n                    'decode URI' : ['decode URI'],\r\n                    'encode URI component' : ['encode URI component'],\r\n                    'decode URI component' : ['decode URI component'],\r\n                    'XML escape' : ['XML escape'],\r\n                    'XML unescape' : ['XML unescape'],\r\n                    'hex sha512 hash' : ['hex sha512 hash']\r\n                },\r\n                true\r\n            );\r\n            part.setContents(['encode URI']);\r\n            break;\r\n        case '%stopChoices':\r\n            part = new InputSlotMorph(\r\n                null,\r\n                false,\r\n                {\r\n                    'all' : ['all'],\r\n                    'this script' : ['this script'],\r\n                    'this block' : ['this block'],\r\n                    'all but this script' : ['all but this script'],\r\n                    'other scripts in sprite' : ['other scripts in sprite']\r\n                },\r\n                true\r\n            );\r\n            part.setContents(['all']);\r\n            part.isStatic = true;\r\n            break;\r\n        case '%typ':\r\n            part = new InputSlotMorph(\r\n                null,\r\n                false,\r\n                'typesMenu',\r\n                true\r\n            );\r\n            part.setContents(['number']);\r\n            break;\r\n        case '%mapValue':\r\n            part = new InputSlotMorph(\r\n                null,\r\n                false,\r\n                {\r\n                    String : ['String'],\r\n                    Number : ['Number'],\r\n                    'true' : ['true'],\r\n                    'false' : ['false']\r\n                },\r\n                true\r\n            );\r\n            part.setContents(['String']);\r\n            part.isStatic = true;\r\n            break;\r\n        case '%var':\r\n            part = new InputSlotMorph(\r\n                null,\r\n                false,\r\n                'getVarNamesDict',\r\n                true\r\n            );\r\n            part.isStatic = true;\r\n            break;\r\n        case '%shd':\r\n            part = new InputSlotMorph(\r\n                null,\r\n                false,\r\n                'shadowedVariablesMenu',\r\n                true\r\n            );\r\n            // part.isStatic = true;\r\n            break;\r\n        case '%lst':\r\n            part = new InputSlotMorph(\r\n                null,\r\n                false,\r\n                {\r\n                    list1 : 'list1',\r\n                    list2 : 'list2',\r\n                    list3 : 'list3'\r\n                },\r\n                true\r\n            );\r\n            break;\r\n        case '%codeKind':\r\n            part = new InputSlotMorph(\r\n                null,\r\n                false,\r\n                {\r\n                    code : ['code'],\r\n                    header : ['header']\r\n                },\r\n                true\r\n            );\r\n            part.setContents(['code']);\r\n            break;\r\n        case '%l':\r\n            part = new ArgMorph('list');\r\n            break;\r\n        case '%b':\r\n            part = new BooleanSlotMorph();\r\n            break;\r\n        case '%boolUE':\r\n            part = new BooleanSlotMorph();\r\n            part.isUnevaluated = true;\r\n            break;\r\n        case '%bool':\r\n            part = new BooleanSlotMorph(true);\r\n            part.isStatic = true;\r\n            break;\r\n        case '%cmd':\r\n            part = new CommandSlotMorph();\r\n            break;\r\n        case '%rc':\r\n            part = new RingCommandSlotMorph();\r\n            part.isStatic = true;\r\n            break;\r\n        case '%rr':\r\n            part = new RingReporterSlotMorph();\r\n            part.isStatic = true;\r\n            break;\r\n        case '%rp':\r\n            part = new RingReporterSlotMorph(true);\r\n            part.isStatic = true;\r\n            break;\r\n        case '%c':\r\n            part = new CSlotMorph();\r\n            part.isStatic = true;\r\n            break;\r\n        case '%cs':\r\n            part = new CSlotMorph(); // non-static\r\n            break;\r\n        case '%cl':\r\n            part = new CSlotMorph();\r\n            part.isStatic = true; // rejects reporter drops\r\n            part.isLambda = true; // auto-reifies nested script\r\n            break;\r\n        case '%clr':\r\n            part = new ColorSlotMorph();\r\n            part.isStatic = true;\r\n            break;\r\n        case '%t':\r\n            part = new TemplateSlotMorph('a');\r\n            break;\r\n        case '%upvar':\r\n            part = new TemplateSlotMorph('\\u2191'); // up-arrow\r\n            break;\r\n        case '%f':\r\n            part = new FunctionSlotMorph();\r\n            break;\r\n        case '%r':\r\n            part = new ReporterSlotMorph();\r\n            break;\r\n        case '%p':\r\n            part = new ReporterSlotMorph(true);\r\n            break;\r\n\r\n    // code mapping (experimental)\r\n\r\n        case '%codeListPart':\r\n            part = new InputSlotMorph(\r\n                null, // text\r\n                false, // numeric?\r\n                {\r\n                    'list' : ['list'],\r\n                    'item' : ['item'],\r\n                    'delimiter' : ['delimiter']\r\n                },\r\n                true // read-only\r\n            );\r\n            break;\r\n        case '%codeListKind':\r\n            part = new InputSlotMorph(\r\n                null, // text\r\n                false, // numeric?\r\n                {\r\n                    'collection' : ['collection'],\r\n                    'variables' : ['variables'],\r\n                    'parameters' : ['parameters']\r\n                },\r\n                true // read-only\r\n            );\r\n            break;\r\n\r\n    // symbols:\r\n\r\n        case '%turtle':\r\n            part = new SymbolMorph('turtle');\r\n            part.size = this.fontSize * 1.2;\r\n            part.color = new Color(255, 255, 255);\r\n            part.shadowColor = this.color.darker(this.labelContrast);\r\n            part.shadowOffset = MorphicPreferences.isFlat ?\r\n                    new Point() : this.embossing;\r\n            part.drawNew();\r\n            break;\r\n        case '%turtleOutline':\r\n            part = new SymbolMorph('turtleOutline');\r\n            part.size = this.fontSize;\r\n            part.color = new Color(255, 255, 255);\r\n            part.isProtectedLabel = true; // doesn't participate in zebraing\r\n            part.shadowColor = this.color.darker(this.labelContrast);\r\n            part.shadowOffset = MorphicPreferences.isFlat ?\r\n                    new Point() : this.embossing;\r\n            part.drawNew();\r\n            break;\r\n        case '%clockwise':\r\n            part = new SymbolMorph('turnRight');\r\n            part.size = this.fontSize * 1.5;\r\n            part.color = new Color(255, 255, 255);\r\n            part.isProtectedLabel = false; // zebra colors\r\n            part.shadowColor = this.color.darker(this.labelContrast);\r\n            part.shadowOffset = MorphicPreferences.isFlat ?\r\n                    new Point() : this.embossing;\r\n            part.drawNew();\r\n            break;\r\n        case '%counterclockwise':\r\n            part = new SymbolMorph('turnLeft');\r\n            part.size = this.fontSize * 1.5;\r\n            part.color = new Color(255, 255, 255);\r\n            part.isProtectedLabel = false; // zebra colors\r\n            part.shadowColor = this.color.darker(this.labelContrast);\r\n            part.shadowOffset = MorphicPreferences.isFlat ?\r\n                    new Point() : this.embossing;\r\n            part.drawNew();\r\n            break;\r\n        case '%greenflag':\r\n            part = new SymbolMorph('flag');\r\n            part.size = this.fontSize * 1.5;\r\n            part.color = new Color(0, 200, 0);\r\n            part.isProtectedLabel = true; // doesn't participate in zebraing\r\n            part.shadowColor = this.color.darker(this.labelContrast);\r\n            part.shadowOffset = MorphicPreferences.isFlat ?\r\n                    new Point() : this.embossing;\r\n            part.drawNew();\r\n            break;\r\n        case '%stop':\r\n            part = new SymbolMorph('octagon');\r\n            part.size = this.fontSize * 1.5;\r\n            part.color = new Color(200, 0, 0);\r\n            part.isProtectedLabel = true; // doesn't participate in zebraing\r\n            part.shadowColor = this.color.darker(this.labelContrast);\r\n            part.shadowOffset = MorphicPreferences.isFlat ?\r\n                    new Point() : this.embossing;\r\n            part.drawNew();\r\n            break;\r\n        case '%pause':\r\n            part = new SymbolMorph('pause');\r\n            part.size = this.fontSize;\r\n            part.color = new Color(255, 220, 0);\r\n            part.isProtectedLabel = true; // doesn't participate in zebraing\r\n            part.shadowColor = this.color.darker(this.labelContrast);\r\n            part.shadowOffset = MorphicPreferences.isFlat ?\r\n                    new Point() : this.embossing;\r\n            part.drawNew();\r\n            break;\r\n        default:\r\n            nop();\r\n        }\r\n    } else if (spec[0] === '$' &&\r\n            spec.length > 1 &&\r\n            this.selector !== 'reportGetVar') {\r\n/*\r\n        // allow costumes as label symbols\r\n        // has issues when loading costumes (asynchronously)\r\n        // commented out for now\r\n*/\r\n\r\n        // allow GUI symbols as label icons\r\n        // usage: $symbolName[-size-r-g-b], size and color values are optional\r\n        // If there isn't a symbol under that name, it just styles whatever is\r\n        // after \"$\", so you can add unicode icons to your blocks, for example\r\n        // ☺️\r\n        tokens = spec.slice(1).split('-');\r\n        if (!contains(SymbolMorph.prototype.names, tokens[0])) {\r\n            part = new StringMorph(tokens[0]);\r\n            part.fontName = this.labelFontName;\r\n            part.fontStyle = this.labelFontStyle;\r\n            part.fontSize = this.fontSize * (+tokens[1] || 1);\r\n        } else {\r\n            part = new SymbolMorph(tokens[0]);\r\n            part.size = this.fontSize * (+tokens[1] || 1.2);\r\n        }\r\n        part.color = new Color(\r\n            +tokens[2] === 0 ? 0 : +tokens[2] || 255,\r\n            +tokens[3] === 0 ? 0 : +tokens[3] || 255,\r\n            +tokens[4] === 0 ? 0 : +tokens[4] || 255\r\n        );\r\n        part.isProtectedLabel = tokens.length > 2; // zebra colors\r\n        part.shadowColor = this.color.darker(this.labelContrast);\r\n        part.shadowOffset = MorphicPreferences.isFlat ?\r\n                new Point() : this.embossing;\r\n        part.drawNew();\r\n    } else {\r\n        part = new StringMorph(\r\n            spec, // text\r\n            this.fontSize, // fontSize\r\n            this.labelFontStyle, // fontStyle\r\n            true, // bold\r\n            false, // italic\r\n            false, // isNumeric\r\n            MorphicPreferences.isFlat ?\r\n                    new Point() : this.embossing, // shadowOffset\r\n            this.color.darker(this.labelContrast), // shadowColor\r\n            new Color(255, 255, 255), // color\r\n            this.labelFontName // fontName\r\n        );\r\n    }\r\n    return part;\r\n};\r\n\r\nSyntaxElementMorph.prototype.isObjInputFragment = function () {\r\n    // private - for displaying a symbol in a variable block template\r\n    return (this.selector === 'reportGetVar') &&\r\n        (this.getSlotSpec() === '%t') &&\r\n        (this.parent.fragment.type === '%obj');\r\n};\r\n\r\n// SyntaxElementMorph layout:\r\n\r\nSyntaxElementMorph.prototype.fixLayout = function (silently) {\r\n    var nb,\r\n        parts = this.parts(),\r\n        myself = this,\r\n        x = 0,\r\n        y,\r\n        lineHeight = 0,\r\n        maxX = 0,\r\n        blockWidth = this.minWidth,\r\n        blockHeight,\r\n        affected,\r\n        l = [],\r\n        lines = [],\r\n        space = this.isPrototype ?\r\n                1 : Math.floor(fontHeight(this.fontSize) / 3),\r\n        ico = this.isCustomBlock && !this.isGlobal ?\r\n                this.methodIconExtent().x + space : 0,\r\n        bottomCorrection,\r\n        initialExtent = this.extent();\r\n\r\n    if ((this instanceof MultiArgMorph) && (this.slotSpec !== '%c')) {\r\n        blockWidth += this.arrows().width();\r\n    } else if (this instanceof ReporterBlockMorph) {\r\n        blockWidth += (this.rounding * 2) + (this.edge * 2);\r\n    } else {\r\n        blockWidth += (this.corner * 4)\r\n            + (this.edge * 2)\r\n            + (this.inset * 3)\r\n            + this.dent;\r\n    }\r\n\r\n    if (this.nextBlock) {\r\n        nb = this.nextBlock();\r\n    }\r\n\r\n    // determine lines\r\n    parts.forEach(function (part) {\r\n        if ((part instanceof CSlotMorph)\r\n                || (part.slotSpec === '%c')) {\r\n            if (l.length > 0) {\r\n                lines.push(l);\r\n                lines.push([part]);\r\n                l = [];\r\n                x = 0;\r\n            } else {\r\n                lines.push([part]);\r\n            }\r\n        } else if (part instanceof BlockHighlightMorph) {\r\n            nop(); // should be redundant now\r\n            // myself.fullChanged();\r\n            // myself.removeChild(part);\r\n        } else {\r\n            if (part.isVisible) {\r\n                x += part.fullBounds().width() + space;\r\n            }\r\n            if ((x > myself.labelWidth) || part.isBlockLabelBreak) {\r\n                if (l.length > 0) {\r\n                    lines.push(l);\r\n                    l = [];\r\n                    x = part.fullBounds().width() + space;\r\n                }\r\n            }\r\n            l.push(part);\r\n            if (part.isBlockLabelBreak) {\r\n                x = 0;\r\n            }\r\n        }\r\n    });\r\n    if (l.length > 0) {\r\n        lines.push(l);\r\n    }\r\n\r\n    // distribute parts on lines\r\n    if (this instanceof CommandBlockMorph) {\r\n        y = this.top() + this.corner + this.edge;\r\n        if (this instanceof HatBlockMorph) {\r\n            y += this.hatHeight;\r\n        }\r\n    } else if (this instanceof ReporterBlockMorph) {\r\n        y = this.top() + (this.edge * 2);\r\n    } else if (this instanceof MultiArgMorph\r\n            || this instanceof ArgLabelMorph) {\r\n        y = this.top();\r\n    }\r\n    lines.forEach(function (line) {\r\n        x = myself.left() + ico + myself.edge + myself.labelPadding;\r\n        if (myself instanceof RingMorph) {\r\n            x = myself.left() + space; //myself.labelPadding;\r\n        } else if (myself.isPredicate) {\r\n            x = myself.left() + ico + myself.rounding;\r\n        } else if (myself instanceof MultiArgMorph\r\n                || myself instanceof ArgLabelMorph) {\r\n            x = myself.left();\r\n        }\r\n        y += lineHeight;\r\n        lineHeight = 0;\r\n        line.forEach(function (part) {\r\n            if (part instanceof CSlotMorph) {\r\n                x -= myself.labelPadding;\r\n                if (myself.isPredicate) {\r\n                    x = myself.left() + ico + myself.rounding;\r\n                }\r\n                part.setColor(myself.color);\r\n                part.setPosition(new Point(x, y));\r\n                lineHeight = part.height();\r\n            } else {\r\n                part.setPosition(new Point(x, y));\r\n                if (!part.isBlockLabelBreak) {\r\n                    if (part.slotSpec === '%c') {\r\n                        x += part.width();\r\n                    } else if (part.isVisible) {\r\n                        x += part.fullBounds().width() + space;\r\n                    }\r\n                }\r\n                maxX = Math.max(maxX, x);\r\n                lineHeight = Math.max(\r\n                    lineHeight,\r\n                    part instanceof StringMorph ?\r\n                            part.rawHeight() : part.height()\r\n                );\r\n            }\r\n        });\r\n\r\n    // center parts vertically on each line:\r\n        line.forEach(function (part) {\r\n            part.moveBy(new Point(\r\n                0,\r\n                Math.floor((lineHeight - part.height()) / 2)\r\n            ));\r\n        });\r\n    });\r\n\r\n    // determine my height:\r\n    y += lineHeight;\r\n    if (this.children.some(function (any) {\r\n            return any instanceof CSlotMorph;\r\n        })) {\r\n        bottomCorrection = this.bottomPadding;\r\n        if (this instanceof ReporterBlockMorph && !this.isPredicate) {\r\n            bottomCorrection = Math.max(\r\n                this.bottomPadding,\r\n                this.rounding - this.bottomPadding\r\n            );\r\n        }\r\n        y += bottomCorrection;\r\n    }\r\n    if (this instanceof CommandBlockMorph) {\r\n        blockHeight = y - this.top() + (this.corner * 2);\r\n    } else if (this instanceof ReporterBlockMorph) {\r\n        blockHeight = y - this.top() + (this.edge * 2);\r\n    } else if (this instanceof MultiArgMorph\r\n            || this instanceof ArgLabelMorph) {\r\n        blockHeight = y - this.top();\r\n    }\r\n\r\n    // determine my width:\r\n    if (this.isPredicate) {\r\n        blockWidth = Math.max(\r\n            blockWidth,\r\n            maxX - this.left() + this.rounding\r\n        );\r\n    } else if (this instanceof MultiArgMorph\r\n            || this instanceof ArgLabelMorph) {\r\n        blockWidth = Math.max(\r\n            blockWidth,\r\n            maxX - this.left() - space\r\n        );\r\n    } else {\r\n        blockWidth = Math.max(\r\n            blockWidth,\r\n            maxX - this.left() + this.labelPadding - this.edge\r\n        );\r\n        // adjust right padding if rightmost input has arrows\r\n        if (parts[parts.length - 1] instanceof MultiArgMorph\r\n                && (lines.length === 1)) {\r\n            blockWidth -= space;\r\n        }\r\n        // adjust width to hat width\r\n        if (this instanceof HatBlockMorph) {\r\n            blockWidth = Math.max(blockWidth, this.hatWidth * 1.5);\r\n        }\r\n    }\r\n\r\n    // set my extent (silently, because we'll redraw later anyway):\r\n    this.silentSetExtent(new Point(blockWidth, blockHeight));\r\n\r\n    // adjust CSlots\r\n    parts.forEach(function (part) {\r\n        if (part instanceof CSlotMorph) {\r\n            if (myself.isPredicate) {\r\n                part.setWidth(blockWidth - ico - myself.rounding * 2);\r\n            } else {\r\n                part.setWidth(blockWidth - myself.edge - ico);\r\n            }\r\n        }\r\n    });\r\n\r\n    // redraw in order to erase CSlot backgrounds\r\n    if (!silently) {this.drawNew(); }\r\n\r\n    // position next block:\r\n    if (nb) {\r\n        nb.setPosition(\r\n            new Point(\r\n                this.left(),\r\n                this.bottom() - (this.corner)\r\n            )\r\n        );\r\n    }\r\n\r\n    // find out if one of my parents needs to be fixed\r\n    if (this instanceof CommandBlockMorph) {\r\n        if (this.height() !== initialExtent.y) {\r\n            affected = this.parentThatIsA(CommandSlotMorph);\r\n            if (affected) {\r\n                affected.fixLayout();\r\n            }\r\n        }\r\n        if (this.width() !== initialExtent.x) {\r\n            affected = this.parentThatIsAnyOf(\r\n                [ReporterBlockMorph, CommandSlotMorph, RingCommandSlotMorph]\r\n            );\r\n            if (affected) {\r\n                affected.fixLayout();\r\n            }\r\n        }\r\n        if (affected) {\r\n            return;\r\n        }\r\n    } else if (this instanceof ReporterBlockMorph) {\r\n        if (this.parent) {\r\n            if (this.parent.fixLayout) {\r\n                return this.parent.fixLayout();\r\n            }\r\n        }\r\n    }\r\n\r\n    this.fixHighlight();\r\n};\r\n\r\nSyntaxElementMorph.prototype.fixHighlight = function () {\r\n    var top = this.topBlock();\r\n    if (top.getHighlight && top.getHighlight()) {\r\n        top.addHighlight(top.removeHighlight());\r\n    }\r\n};\r\n\r\nSyntaxElementMorph.prototype.methodIconExtent = function () {\r\n    // answer the span of the icon for the \"local method\" indicator\r\n    var ico = this.fontSize * 1.2;\r\n    return this.isCustomBlock && !this.isGlobal ?\r\n            new Point(ico * 0.66, ico) : new Point(0, 0);\r\n};\r\n\r\n// SyntaxElementMorph evaluating:\r\n\r\nSyntaxElementMorph.prototype.evaluate = function () {\r\n    // responsibility of my children, default is to answer null\r\n    return null;\r\n};\r\n\r\nSyntaxElementMorph.prototype.isEmptySlot = function () {\r\n    // responsibility of my children, default is to answer false\r\n    return false;\r\n};\r\n\r\n// SyntaxElementMorph speech bubble feedback:\r\n\r\nSyntaxElementMorph.prototype.showBubble = function (value, exportPic, target) {\r\n    var bubble,\r\n        txt,\r\n        img,\r\n        morphToShow,\r\n        isClickable = false,\r\n        ide = this.parentThatIsA(IDE_Morph),\r\n        anchor = this,\r\n        pos = this.rightCenter().add(new Point(2, 0)),\r\n        sf = this.parentThatIsA(ScrollFrameMorph),\r\n        wrrld = this.world();\r\n\r\n    if ((value === undefined) || !wrrld) {\r\n        return null;\r\n    }\r\n    if (value instanceof ListWatcherMorph) {\r\n        morphToShow = value;\r\n        morphToShow.update(true);\r\n        morphToShow.step = value.update;\r\n        morphToShow.isDraggable = false;\r\n        morphToShow.expand(this.parentThatIsA(ScrollFrameMorph).extent());\r\n        isClickable = true;\r\n    } else if (value instanceof TableFrameMorph) {\r\n        morphToShow = value;\r\n        morphToShow.isDraggable = false;\r\n        morphToShow.expand(this.parentThatIsA(ScrollFrameMorph).extent());\r\n        isClickable = true;\r\n    } else if (value instanceof Morph) {\r\n        if (isSnapObject(value)) {\r\n            img = value.thumbnail(new Point(40, 40));\r\n            morphToShow = new Morph();\r\n            morphToShow.silentSetWidth(img.width);\r\n            morphToShow.silentSetHeight(img.height);\r\n            morphToShow.image = img;\r\n            morphToShow.version = value.version;\r\n            morphToShow.step = function () {\r\n                if (this.version !== value.version) {\r\n                    img = value.thumbnail(new Point(40, 40));\r\n                    this.image = img;\r\n                    this.version = value.version;\r\n                    this.changed();\r\n                }\r\n            };\r\n        } else {\r\n            img = value.fullImage();\r\n            morphToShow = new Morph();\r\n            morphToShow.silentSetWidth(img.width);\r\n            morphToShow.silentSetHeight(img.height);\r\n            morphToShow.image = img;\r\n        }\r\n    } else if (value instanceof Costume) {\r\n        img = value.thumbnail(new Point(40, 40));\r\n        morphToShow = new Morph();\r\n        morphToShow.silentSetWidth(img.width);\r\n        morphToShow.silentSetHeight(img.height);\r\n        morphToShow.image = img;\r\n    } else if (value instanceof Sound) {\r\n        morphToShow = new SymbolMorph('notes', 30);\r\n    } else if (value instanceof Context) {\r\n        img = value.image();\r\n        morphToShow = new Morph();\r\n        morphToShow.silentSetWidth(img.width);\r\n        morphToShow.silentSetHeight(img.height);\r\n        morphToShow.image = img;\r\n    } else if (typeof value === 'boolean') {\r\n        morphToShow = SpriteMorph.prototype.booleanMorph.call(\r\n            null,\r\n            value\r\n        );\r\n    } else if (isString(value)) {\r\n        txt  = value.length > 500 ? value.slice(0, 500) + '...' : value;\r\n        morphToShow = new TextMorph(\r\n            txt,\r\n            this.fontSize\r\n        );\r\n    } else if (value === null) {\r\n        morphToShow = new TextMorph(\r\n            '',\r\n            this.fontSize\r\n        );\r\n    } else if (value === 0) {\r\n        morphToShow = new TextMorph(\r\n            '0',\r\n            this.fontSize\r\n        );\r\n    } else if (value.toString) {\r\n        morphToShow = new TextMorph(\r\n            value.toString(),\r\n            this.fontSize\r\n        );\r\n    }\r\n    if (ide && (ide.currentSprite !== target)) {\r\n        if (target instanceof StageMorph) {\r\n            anchor = ide.corral.stageIcon;\r\n        } else {\r\n        \tif (target.isTemporary) {\r\n         \t\ttarget = detect(\r\n\t\t\t\t\ttarget.allExemplars(),\r\n     \t\t\t\tfunction (each) {return !each.isTemporary; }\r\n         \t\t);\r\n     \t\t}\r\n            anchor = detect(\r\n                ide.corral.frame.contents.children,\r\n                function (icon) {return icon.object === target; }\r\n            );\r\n        }\r\n        pos = anchor.center();\r\n    }\r\n    bubble = new SpeechBubbleMorph(\r\n        morphToShow,\r\n        null,\r\n        Math.max(this.rounding - 2, 6),\r\n        0\r\n    );\r\n    bubble.popUp(\r\n        wrrld,\r\n        pos,\r\n        isClickable\r\n    );\r\n    if (exportPic) {\r\n        this.exportPictureWithResult(bubble);\r\n    }\r\n    if (anchor instanceof SpriteIconMorph) {\r\n        bubble.keepWithin(ide.corral);\r\n    } else if (sf) {\r\n        bubble.keepWithin(sf);\r\n    }\r\n};\r\n\r\nSyntaxElementMorph.prototype.exportPictureWithResult = function (aBubble) {\r\n    var ide = this.parentThatIsA(IDE_Morph),\r\n        scr = this.fullImage(),\r\n        bub = aBubble.fullImageClassic(),\r\n        taller = Math.max(0, bub.height - scr.height),\r\n        pic = newCanvas(new Point(\r\n            scr.width + bub.width + 2,\r\n            scr.height + taller\r\n        )),\r\n        ctx = pic.getContext('2d');\r\n    ctx.drawImage(scr, 0, pic.height - scr.height);\r\n    ctx.drawImage(bub, scr.width + 2, 0);\r\n    // request to open pic in new window.\r\n    ide.saveCanvasAs(\r\n        pic,\r\n        (ide.projectName || localize('untitled')) + ' ' + localize('script pic')\r\n    );\r\n};\r\n\r\n// SyntaxElementMorph code mapping\r\n\r\n/*\r\n    code mapping lets you use blocks to generate arbitrary text-based\r\n    source code that can be exported and compiled / embedded elsewhere,\r\n    it's not part of Snap's evaluator and not needed for Snap itself\r\n*/\r\n\r\nSyntaxElementMorph.prototype.mappedCode = function (definitions) {\r\n    var result = this.evaluate();\r\n    if (result instanceof BlockMorph) {\r\n        return result.mappedCode(definitions);\r\n    }\r\n    return result;\r\n};\r\n\r\n// SyntaxElementMorph layout update optimization\r\n\r\nSyntaxElementMorph.prototype.startLayout = function () {\r\n    this.topBlock().fullChanged();\r\n    Morph.prototype.trackChanges = false;\r\n};\r\n\r\nSyntaxElementMorph.prototype.endLayout = function () {\r\n    Morph.prototype.trackChanges = true;\r\n    this.topBlock().fullChanged();\r\n};\r\n\r\n// BlockMorph //////////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am an abstraction of all blocks (commands, reporters, hats).\r\n\r\n    Aside from the visual settings inherited from Morph and\r\n    SyntaxElementMorph my most important attributes and public\r\n    accessors are:\r\n\r\n    selector        - (string) name of method to be triggered\r\n    scriptTarget()  - answer the object (sprite) to which I apply\r\n    inputs()        - answer an array with my arg slots and nested reporters\r\n    defaults        - an optional Array containing default input values\r\n    topBlock()      - answer the top block of the stack I'm attached to\r\n    blockSpec       - a formalized description of my label parts\r\n    setSpec()       - force me to change my label structure\r\n    evaluate()      - answer the result of my evaluation\r\n    isUnevaluated() - answer whether I am part of a special form\r\n\r\n    Zebra coloring provides a mechanism to alternate brightness of nested,\r\n    same colored blocks (of the same category). The deviation of alternating\r\n    brightness is set in the preferences setting:\r\n\r\n    zebraContrast - <number> percentage of brightness deviation\r\n\r\n    attribute. If the attribute is set to zero, zebra coloring is turned\r\n    off. If it is a positive number, nested blocks will be colored in\r\n    a brighter shade of the same hue and the label color (for texts)\r\n    alternates between white and black. If the attribute is set to a negative\r\n    number, nested blocks are colored in a darker shade of the same hue\r\n    with no alternating label colors.\r\n\r\n    Note: Some of these methods are inherited from SyntaxElementMorph\r\n    for technical reasons, because they are shared among Block and\r\n    MultiArgMorph (e.g. topBlock()).\r\n\r\n    blockSpec is a formatted string consisting of plain words and\r\n    reserved words starting with the percent character (%), which\r\n    represent the following pre-defined input slots and/or label\r\n    features:\r\n\r\n    arity: single\r\n\r\n    %br     - user-forced line break\r\n    %s      - white rectangular type-in slot (\"string-type\")\r\n    %txt    - white rectangular type-in slot (\"text-type\")\r\n    %mlt    - white rectangular type-in slot (\"multi-line-text-type\")\r\n    %code   - white rectangular type-in slot, monospaced font\r\n    %n      - white roundish type-in slot (\"numerical\")\r\n    %dir    - white roundish type-in slot with drop-down for directions\r\n    %inst   - white roundish type-in slot with drop-down for instruments\r\n    %ida    - white roundish type-in slot with drop-down for list indices\r\n    %idx    - white roundish type-in slot for indices incl. \"any\"\r\n    %obj    - specially drawn slot for object reporters\r\n    %spr    - chameleon colored rectangular drop-down for object-names\r\n    %col    - chameleon colored rectangular drop-down for collidables\r\n    %dst    - chameleon colored rectangular drop-down for distances\r\n    %cst    - chameleon colored rectangular drop-down for costume-names\r\n    %eff    - chameleon colored rectangular drop-down for graphic effects\r\n    %snd    - chameleon colored rectangular drop-down for sound names\r\n    %key    - chameleon colored rectangular drop-down for keyboard keys\r\n    %msg    - chameleon colored rectangular drop-down for messages\r\n    %att    - chameleon colored rectangular drop-down for attributes\r\n    %fun    - chameleon colored rectangular drop-down for math functions\r\n    %typ    - chameleon colored rectangular drop-down for data types\r\n    %var    - chameleon colored rectangular drop-down for variable names\r\n    %shd    - Chameleon colored rectuangular drop-down for shadowed var names\r\n    %lst    - chameleon colored rectangular drop-down for list names\r\n    %b      - chameleon colored hexagonal slot (for predicates)\r\n    %bool   - chameleon colored hexagonal slot (for predicates), static\r\n    %l      - list icon\r\n    %c      - C-shaped command slot, special form for primitives\r\n    %cs     - C-shaped, auto-reifying, accepts reporter drops\r\n    %cl     - C-shaped, auto-reifying, rejects reporters\r\n    %clr    - interactive color slot\r\n    %t      - inline variable reporter template\r\n    %anyUE  - white rectangular type-in slot, unevaluated if replaced\r\n    %boolUE - chameleon colored hexagonal slot, unevaluated if replaced\r\n    %f      - round function slot, unevaluated if replaced,\r\n    %r      - round reporter slot\r\n    %p      - hexagonal predicate slot\r\n\r\n    rings:\r\n\r\n    %cmdRing    - command slotted ring with %ringparms\r\n    %repRing    - round slotted ringn with %ringparms\r\n    %predRing   - diamond slotted ring with %ringparms\r\n\r\n    arity: multiple\r\n\r\n    %mult%x      - where %x stands for any of the above single inputs\r\n    %inputs      - for an additional text label 'with inputs'\r\n    %words       - for an expandable list of default 2 (used in JOIN)\r\n    %exp         - for a static expandable list of minimum 0 (used in LIST)\r\n    %scriptVars  - for an expandable list of variable reporter templates\r\n    %parms       - for an expandable list of formal parameters\r\n    %ringparms   - the same for use inside Rings\r\n\r\n    special form: upvar\r\n\r\n    %upvar       - same as %t (inline variable reporter template)\r\n\r\n    special form: input name\r\n\r\n    %inputName   - variable blob (used in input type dialog)\r\n\r\n    examples:\r\n\r\n        'if %b %c else %c'        - creates Scratch's If/Else block\r\n        'set pen color to %clr'   - creates Scratch's Pen color block\r\n        'list %mult%s'            - creates BYOB's list reporter block\r\n        'call %n %inputs'         - creates BYOB's Call block\r\n        'the script %parms %c'    - creates BYOB's THE SCRIPT block\r\n*/\r\n\r\n// BlockMorph inherits from SyntaxElementMorph:\r\n\r\nBlockMorph.prototype = new SyntaxElementMorph();\r\nBlockMorph.prototype.constructor = BlockMorph;\r\nBlockMorph.uber = SyntaxElementMorph.prototype;\r\n\r\n// BlockMorph preferences settings:\r\n\r\nBlockMorph.prototype.isCachingInputs = true;\r\nBlockMorph.prototype.zebraContrast = 40; // alternating color brightness\r\n\r\n// BlockMorph sound feedback:\r\n\r\nBlockMorph.prototype.snapSound = null;\r\n\r\nBlockMorph.prototype.toggleSnapSound = function () {\r\n    if (this.snapSound !== null) {\r\n        this.snapSound = null;\r\n    } else {\r\n        BlockMorph.prototype.snapSound = document.createElement('audio');\r\n        BlockMorph.prototype.snapSound.src = 'click.wav';\r\n    }\r\n    CommentMorph.prototype.snapSound = BlockMorph.prototype.snapSound;\r\n};\r\n\r\n// BlockMorph instance creation:\r\n\r\nfunction BlockMorph() {\r\n    this.init();\r\n}\r\n\r\nBlockMorph.prototype.init = function (silently) {\r\n    this.selector = null; // name of method to be triggered\r\n    this.blockSpec = ''; // formal description of label and arguments\r\n    this.comment = null; // optional \"sticky\" comment morph\r\n\r\n    // not to be persisted:\r\n    this.instantiationSpec = null; // spec to set upon fullCopy() of template\r\n    this.category = null; // for zebra coloring (non persistent)\r\n    this.isCorpse = false; // marked for deletion fom a custom block definition\r\n\r\n    BlockMorph.uber.init.call(this, silently);\r\n    this.color = new Color(0, 17, 173);\r\n    this.cachedInputs = null;\r\n};\r\n\r\nBlockMorph.prototype.scriptTarget = function () {\r\n    // answer the sprite or stage that this block acts on,\r\n    // if the user clicks on it.\r\n    // NOTE: since scripts can be shared by more than a single sprite\r\n    // this method only gives the desired result within the context of\r\n    // the user actively clicking on a block inside the IDE\r\n    // there is no direct relationship between a block and a sprite.\r\n    var scripts = this.parentThatIsA(ScriptsMorph),\r\n        ide;\r\n    if (scripts) {\r\n        return scripts.scriptTarget();\r\n    }\r\n    ide = this.parentThatIsA(IDE_Morph);\r\n    if (ide) {\r\n        return ide.currentSprite;\r\n    }\r\n    throw new Error('script target cannot be found for orphaned block');\r\n};\r\n\r\nBlockMorph.prototype.toString = function () {\r\n    return 'a ' +\r\n        (this.constructor.name ||\r\n            this.constructor.toString().split(' ')[1].split('(')[0]) +\r\n        ' (\"' +\r\n        this.blockSpec.slice(0, 30) + '...\")';\r\n};\r\n\r\n// BlockMorph spec:\r\n\r\nBlockMorph.prototype.parseSpec = function (spec) {\r\n    var result = [],\r\n        words,\r\n        word = '';\r\n\r\n    words = isString(spec) ? spec.split(' ') : [];\r\n    if (words.length === 0) {\r\n        words = [spec];\r\n    }\r\n    if (this.labelWordWrap) {\r\n        return words;\r\n    }\r\n\r\n    function addWord(w) {\r\n        if ((w[0] === '%') && (w.length > 1)) {\r\n            if (word !== '') {\r\n                result.push(word);\r\n                word = '';\r\n            }\r\n            result.push(w);\r\n        } else {\r\n            if (word !== '') {\r\n                word += ' ' + w;\r\n            } else {\r\n                word = w;\r\n            }\r\n        }\r\n    }\r\n\r\n    words.forEach(function (each) {\r\n        addWord(each);\r\n    });\r\n    if (word !== '') {\r\n        result.push(word);\r\n    }\r\n    return result;\r\n};\r\n\r\nBlockMorph.prototype.setSpec = function (spec, silently, definition) {\r\n    var myself = this,\r\n        part,\r\n        inputIdx = -1;\r\n\r\n    if (!spec) {return; }\r\n    this.parts().forEach(function (part) {\r\n        part.destroy();\r\n    });\r\n    if (this.isPrototype) {\r\n        this.add(this.placeHolder());\r\n    }\r\n    this.parseSpec(spec).forEach(function (word) {\r\n        if (word[0] === '%') {\r\n            inputIdx += 1;\r\n        }\r\n        part = myself.labelPart(word);\r\n        if (isNil(part)) {\r\n            // console.log('could not create label part', word);\r\n            return;\r\n        }\r\n        myself.add(part);\r\n        if (!(part instanceof CommandSlotMorph ||\r\n                part instanceof StringMorph)) {\r\n            part.drawNew();\r\n        }\r\n        if (part instanceof RingMorph) {\r\n            part.fixBlockColor();\r\n        }\r\n        if (part instanceof MultiArgMorph ||\r\n                part.constructor === CommandSlotMorph ||\r\n                part.constructor === RingCommandSlotMorph) {\r\n            part.fixLayout();\r\n        }\r\n        if (myself.isPrototype) {\r\n            myself.add(myself.placeHolder());\r\n        }\r\n        if (part instanceof InputSlotMorph && myself.isCustomBlock) {\r\n            part.setChoices.apply(\r\n                part,\r\n                (definition || myself.definition).inputOptionsOfIdx(inputIdx)\r\n            );\r\n        }\r\n    });\r\n    this.blockSpec = spec;\r\n    this.fixLayout(silently);\r\n    this.cachedInputs = null;\r\n};\r\n\r\nBlockMorph.prototype.userSetSpec = function (spec) {\r\n    var tb = this.topBlock();\r\n    tb.fullChanged();\r\n    this.setSpec(spec);\r\n    tb.fullChanged();\r\n};\r\n\r\nBlockMorph.prototype.buildSpec = function () {\r\n    // create my blockSpec from my parts - for demo purposes only\r\n    var myself = this;\r\n    this.blockSpec = '';\r\n    this.parts().forEach(function (part) {\r\n        if (part instanceof StringMorph) {\r\n            myself.blockSpec += part.text;\r\n        } else if (part instanceof ArgMorph) {\r\n            myself.blockSpec += part.getSpec();\r\n        } else if (part.isBlockLabelBreak) {\r\n            myself.blockSpec += part.getSpec();\r\n        } else {\r\n            myself.blockSpec += '[undefined]';\r\n        }\r\n        myself.blockSpec += ' ';\r\n    });\r\n    this.blockSpec = this.blockSpec.trim();\r\n};\r\n\r\nBlockMorph.prototype.rebuild = function (contrast) {\r\n    // rebuild my label fragments, for use in ToggleElementMorphs\r\n    this.setSpec(this.blockSpec);\r\n    if (contrast) {\r\n        this.inputs().forEach(function (input) {\r\n            if (input instanceof ReporterBlockMorph) {\r\n                input.setColor(input.color.lighter(contrast));\r\n                input.setSpec(input.blockSpec);\r\n            }\r\n        });\r\n    }\r\n};\r\n\r\n// BlockMorph menu:\r\n\r\nBlockMorph.prototype.userMenu = function () {\r\n    var menu = new MenuMorph(this),\r\n        world = this.world(),\r\n        myself = this,\r\n        shiftClicked = world.currentKey === 16,\r\n        proc = this.activeProcess(),\r\n        vNames = proc && proc.context && proc.context.outerContext ?\r\n                proc.context.outerContext.variables.names() : [],\r\n        alternatives,\r\n        field,\r\n        rcvr,\r\n        top;\r\n\r\n    function addOption(label, toggle, test, onHint, offHint) {\r\n        var on = '\\u2611 ',\r\n            off = '\\u2610 ';\r\n        menu.addItem(\r\n            (test ? on : off) + localize(label),\r\n            toggle,\r\n            test ? onHint : offHint\r\n        );\r\n    }\r\n\r\n    function renameVar() {\r\n        var blck = myself.fullCopy();\r\n        blck.addShadow();\r\n        new DialogBoxMorph(\r\n            myself,\r\n            myself.userSetSpec,\r\n            myself\r\n        ).prompt(\r\n            \"Variable name\",\r\n            myself.blockSpec,\r\n            world,\r\n            blck.fullImage(), // pic\r\n            InputSlotMorph.prototype.getVarNamesDict.call(myself)\r\n        );\r\n    }\r\n\r\n    menu.addItem(\r\n        \"help...\",\r\n        'showHelp'\r\n    );\r\n    if (shiftClicked) {\r\n        top = this.topBlock();\r\n        if (top instanceof ReporterBlockMorph) {\r\n            menu.addItem(\r\n                \"script pic with result...\",\r\n                function () {\r\n                    top.exportResultPic();\r\n                },\r\n                'open a new window\\n' +\r\n                    'with a picture of both\\nthis script and its result',\r\n                new Color(100, 0, 0)\r\n            );\r\n        }\r\n    }\r\n    if (this.isTemplate) {\r\n        if (this.parent instanceof SyntaxElementMorph) { // in-line\r\n            if (this.selector === 'reportGetVar') { // script var definition\r\n                menu.addLine();\r\n                menu.addItem(\r\n                    'rename...',\r\n                    function () {\r\n                        myself.refactorThisVar(true); // just the template\r\n                    },\r\n                    'rename only\\nthis reporter'\r\n                );\r\n                menu.addItem(\r\n                    'rename all...',\r\n                    'refactorThisVar',\r\n                    'rename all blocks that\\naccess this variable'\r\n                );\r\n            }\r\n        } else { // in palette\r\n            if (this.selector === 'reportGetVar') {\r\n                rcvr = this.scriptTarget();\r\n                if (this.isInheritedVariable(false)) { // fully inherited\r\n                    addOption(\r\n                        'inherited',\r\n                        function () {\r\n                            rcvr.toggleInheritedVariable(myself.blockSpec);\r\n                        },\r\n                        true,\r\n                        'uncheck to\\ndisinherit',\r\n                        null\r\n                    );\r\n                } else { // not inherited\r\n                    if (this.isInheritedVariable(true)) { // shadowed\r\n                        addOption(\r\n                            'inherited',\r\n                            function () {\r\n                                rcvr.toggleInheritedVariable(myself.blockSpec);\r\n                            },\r\n                            false,\r\n                            null,\r\n                            localize('check to inherit\\nfrom')\r\n                                + ' ' + rcvr.exemplar.name\r\n                        );\r\n                    }\r\n                    addOption(\r\n                        'transient',\r\n                        'toggleTransientVariable',\r\n                        myself.isTransientVariable(),\r\n                        'uncheck to save contents\\nin the project',\r\n                        'check to prevent contents\\nfrom being saved'\r\n                    );\r\n                    menu.addLine();\r\n                    menu.addItem(\r\n                        'rename...',\r\n                        function () {\r\n                            myself.refactorThisVar(true); // just the template\r\n                        },\r\n                        'rename only\\nthis reporter'\r\n                    );\r\n                    menu.addItem(\r\n                        'rename all...',\r\n                        'refactorThisVar',\r\n                        'rename all blocks that\\naccess this variable'\r\n                    );\r\n                }\r\n            } else if (this.selector !== 'evaluateCustomBlock') {\r\n                menu.addItem(\r\n                    \"hide\",\r\n                    'hidePrimitive'\r\n                );\r\n            }\r\n\r\n            // allow toggling inheritable attributes\r\n            if (StageMorph.prototype.enableInheritance) {\r\n                rcvr = this.scriptTarget();\r\n                field = {\r\n                    xPosition: 'x position',\r\n                    yPosition: 'y position',\r\n                    direction: 'direction',\r\n                    getScale: 'size',\r\n                    getCostumeIdx: 'costume #'\r\n                }[this.selector];\r\n                if (field && rcvr && rcvr.exemplar) {\r\n                    menu.addLine();\r\n                    addOption(\r\n                        'inherited',\r\n                        function () {\r\n                            rcvr.toggleInheritanceForAttribute(field);\r\n                        },\r\n                        rcvr.inheritsAttribute(field),\r\n                        'uncheck to\\ndisinherit',\r\n                        localize('check to inherit\\nfrom')\r\n                            + ' ' + rcvr.exemplar.name\r\n                    );\r\n                }\r\n            }\r\n\r\n            if (StageMorph.prototype.enableCodeMapping) {\r\n                menu.addLine();\r\n                menu.addItem(\r\n                    'header mapping...',\r\n                    'mapToHeader'\r\n                );\r\n                menu.addItem(\r\n                    'code mapping...',\r\n                    'mapToCode'\r\n                );\r\n            }\r\n        }\r\n        return menu;\r\n    }\r\n    menu.addLine();\r\n    if (this.selector === 'reportGetVar') {\r\n        menu.addItem(\r\n            'rename...',\r\n            renameVar,\r\n            'rename only\\nthis reporter'\r\n        );\r\n    } else if (SpriteMorph.prototype.blockAlternatives[this.selector]) {\r\n        menu.addItem(\r\n            'relabel...',\r\n            function () {\r\n                myself.relabel(\r\n                    SpriteMorph.prototype.blockAlternatives[myself.selector]\r\n                );\r\n            }\r\n        );\r\n    } else if (this.isCustomBlock && this.alternatives) {\r\n        alternatives = this.alternatives();\r\n        if (alternatives.length > 0) {\r\n            menu.addItem(\r\n                'relabel...',\r\n                function () {myself.relabel(alternatives); }\r\n            );\r\n        }\r\n    }\r\n\r\n    menu.addItem(\r\n        \"duplicate\",\r\n        function () {\r\n            var dup = myself.fullCopy(),\r\n                ide = myself.parentThatIsA(IDE_Morph),\r\n                blockEditor = myself.parentThatIsA(BlockEditorMorph);\r\n            dup.pickUp(world);\r\n            // register the drop-origin, so the block can\r\n            // slide back to its former situation if dropped\r\n            // somewhere where it gets rejected\r\n            if (!ide && blockEditor) {\r\n                ide = blockEditor.target.parentThatIsA(IDE_Morph);\r\n            }\r\n            if (ide) {\r\n                world.hand.grabOrigin = {\r\n                    origin: ide.palette,\r\n                    position: ide.palette.center()\r\n                };\r\n            }\r\n        },\r\n        'make a copy\\nand pick it up'\r\n    );\r\n    if (this instanceof CommandBlockMorph && this.nextBlock()) {\r\n        menu.addItem(\r\n            (proc ? this.fullCopy() : this).thumbnail(0.5, 60),\r\n            function () {\r\n                var cpy = myself.fullCopy(),\r\n                    nb = cpy.nextBlock(),\r\n                    ide = myself.parentThatIsA(IDE_Morph),\r\n                    blockEditor = myself.parentThatIsA(BlockEditorMorph);\r\n                if (nb) {nb.destroy(); }\r\n                cpy.pickUp(world);\r\n                if (!ide && blockEditor) {\r\n                    ide = blockEditor.target.parentThatIsA(IDE_Morph);\r\n                }\r\n                if (ide) {\r\n                    world.hand.grabOrigin = {\r\n                        origin: ide.palette,\r\n                        position: ide.palette.center()\r\n                    };\r\n                }\r\n            },\r\n            'only duplicate this block'\r\n        );\r\n    }\r\n    menu.addItem(\r\n        \"delete\",\r\n        'userDestroy'\r\n    );\r\n    menu.addItem(\r\n        \"script pic...\",\r\n        function () {\r\n            var ide = myself.parentThatIsA(IDE_Morph) ||\r\n                myself.parentThatIsA(BlockEditorMorph).target.parentThatIsA(\r\n                    IDE_Morph\r\n            );\r\n            ide.saveCanvasAs(\r\n                myself.topBlock().scriptPic(),\r\n                (ide.projectName || localize('untitled')) + ' ' +\r\n                    localize('script pic')\r\n            );\r\n        },\r\n        'open a new window\\nwith a picture of this script'\r\n    );\r\n    if (shiftClicked) {\r\n        menu.addItem(\r\n            'download script',\r\n            function () {\r\n                var ide = myself.parentThatIsA(IDE_Morph),\r\n                    blockEditor = myself.parentThatIsA(BlockEditorMorph);\r\n                if (!ide && blockEditor) {\r\n                    ide = blockEditor.target.parentThatIsA(IDE_Morph);\r\n                }\r\n                if (ide) {\r\n                    ide.saveXMLAs(\r\n                        ide.serializer.serialize(myself),\r\n                        myself.selector + ' script',\r\n                        false);\r\n                }\r\n            },\r\n            'download this script\\nas an XML file',\r\n            new Color(100, 0, 0)\r\n            );\r\n    }\r\n    if (proc) {\r\n        if (vNames.length) {\r\n            menu.addLine();\r\n            vNames.forEach(function (vn) {\r\n                menu.addItem(\r\n                    vn + '...',\r\n                    function () {\r\n                        proc.doShowVar(vn);\r\n                    }\r\n                );\r\n            });\r\n        }\r\n        proc.homeContext.variables.names().forEach(function (vn) {\r\n            if (!contains(vNames, vn)) {\r\n                menu.addItem(\r\n                    vn + '...',\r\n                    function () {\r\n                        proc.doShowVar(vn);\r\n                    }\r\n                );\r\n            }\r\n        });\r\n        return menu;\r\n    }\r\n    if (this.parent.parentThatIsA(RingMorph)) {\r\n        menu.addLine();\r\n        menu.addItem(\"unringify\", 'unringify');\r\n        top = this.topBlock();\r\n        if (this instanceof ReporterBlockMorph ||\r\n                (!(top instanceof HatBlockMorph))) {\r\n            menu.addItem(\"ringify\", 'ringify');\r\n        }\r\n        return menu;\r\n    }\r\n    if (this.parent instanceof ReporterSlotMorph\r\n            || (this.parent instanceof CommandSlotMorph)\r\n            || (this instanceof HatBlockMorph)\r\n            || (this instanceof CommandBlockMorph\r\n                && (this.topBlock() instanceof HatBlockMorph))) {\r\n        return menu;\r\n    }\r\n    menu.addLine();\r\n    menu.addItem(\"ringify\", 'ringify');\r\n    if (StageMorph.prototype.enableCodeMapping) {\r\n        menu.addLine();\r\n        menu.addItem(\r\n            'header mapping...',\r\n            'mapToHeader'\r\n        );\r\n        menu.addItem(\r\n            'code mapping...',\r\n            'mapToCode'\r\n        );\r\n    }\r\n    return menu;\r\n};\r\n\r\nBlockMorph.prototype.developersMenu = function () {\r\n    var menu = BlockMorph.uber.developersMenu.call(this);\r\n    menu.addLine();\r\n    menu.addItem(\"delete block\", 'deleteBlock');\r\n    menu.addItem(\"spec...\", function () {\r\n\r\n        new DialogBoxMorph(\r\n            this,\r\n            this.userSetSpec,\r\n            this\r\n        ).prompt(\r\n            menu.title + '\\nspec',\r\n            this.blockSpec,\r\n            this.world()\r\n        );\r\n    });\r\n    return menu;\r\n};\r\n\r\nBlockMorph.prototype.hidePrimitive = function () {\r\n    var ide = this.parentThatIsA(IDE_Morph),\r\n        dict,\r\n        cat;\r\n    if (!ide) {return; }\r\n    StageMorph.prototype.hiddenPrimitives[this.selector] = true;\r\n    dict = {\r\n        doWarp: 'control',\r\n        reifyScript: 'operators',\r\n        reifyReporter: 'operators',\r\n        reifyPredicate: 'operators',\r\n        doDeclareVariables: 'variables'\r\n    };\r\n    cat = dict[this.selector] || this.category;\r\n    if (cat === 'lists') {cat = 'variables'; }\r\n    ide.flushBlocksCache(cat);\r\n    ide.refreshPalette();\r\n};\r\n\r\nBlockMorph.prototype.isInheritedVariable = function (shadowedOnly) {\r\n    // private - only for variable getter template inside the palette\r\n    if (this.isTemplate &&\r\n            (this.selector === 'reportGetVar') &&\r\n            (this.parent instanceof FrameMorph)) {\r\n        return contains(\r\n            this.scriptTarget().inheritedVariableNames(shadowedOnly),\r\n            this.blockSpec\r\n        );\r\n    }\r\n    return false;\r\n};\r\n\r\nBlockMorph.prototype.isTransientVariable = function () {\r\n    // private - only for variable getter template inside the palette\r\n    var varFrame = this.scriptTarget().variables.silentFind(this.blockSpec);\r\n    return varFrame ? varFrame.vars[this.blockSpec].isTransient : false;\r\n};\r\n\r\nBlockMorph.prototype.toggleTransientVariable = function () {\r\n    // private - only for variable getter template inside the palette\r\n    var varFrame = this.scriptTarget().variables.silentFind(this.blockSpec);\r\n    if (!varFrame) {return; }\r\n    varFrame.vars[this.blockSpec].isTransient =\r\n        !(varFrame.vars[this.blockSpec].isTransient);\r\n};\r\n\r\nBlockMorph.prototype.deleteBlock = function () {\r\n    // delete just this one block, keep inputs and next block around\r\n    var scripts = this.parentThatIsA(ScriptsMorph),\r\n        nb = this.nextBlock ? this.nextBlock() : null,\r\n        tobefixed,\r\n        isindef;\r\n    if (scripts) {\r\n        if (nb) {\r\n            scripts.add(nb);\r\n        }\r\n        this.inputs().forEach(function (inp) {\r\n            if (inp instanceof BlockMorph) {\r\n                scripts.add(inp);\r\n            }\r\n        });\r\n    }\r\n    if (this instanceof ReporterBlockMorph &&\r\n\t\t\t((this.parent instanceof BlockMorph)\r\n            \t|| (this.parent instanceof MultiArgMorph)\r\n            \t|| (this.parent instanceof ReporterSlotMorph))) {\r\n        this.parent.revertToDefaultInput(this);\r\n    } else { // CommandBlockMorph\r\n        if (this.parent && this.parent.fixLayout) {\r\n            tobefixed = this.parentThatIsA(ArgMorph);\r\n        } else { // must be in a custom block definition\r\n            isindef = true;\r\n        }\r\n    }\r\n    this.destroy();\r\n    if (isindef) {\r\n        /*\r\n            since the definition's body still points to this block\r\n            even after it has been destroyed, mark it to be deleted\r\n            later.\r\n        */\r\n        this.isCorpse = true;\r\n    }\r\n    if (tobefixed) {\r\n        tobefixed.fixLayout();\r\n    }\r\n};\r\n\r\nBlockMorph.prototype.ringify = function () {\r\n    // wrap a Ring around me\r\n    var ring, top, center,\r\n        target = this.selectForEdit(); // copy-on-edit\r\n    if (target !== this) {\r\n        return this.ringify.call(target);\r\n    }\r\n    ring = new RingMorph();\r\n    top = this.topBlock();\r\n    center = top.fullBounds().center();\r\n    if (this.parent === null) {return null; }\r\n    top.fullChanged();\r\n    if (this.parent instanceof SyntaxElementMorph) {\r\n        if (this instanceof ReporterBlockMorph) {\r\n            this.parent.silentReplaceInput(this, ring);\r\n            ring.embed(this);\r\n        } else if (top) { // command\r\n            if (top instanceof HatBlockMorph) {\r\n                return;\r\n            }\r\n            top.parent.add(ring);\r\n            ring.embed(top);\r\n            ring.setCenter(center);\r\n        }\r\n    } else {\r\n        this.parent.add(ring);\r\n        ring.embed(this);\r\n        ring.setCenter(center);\r\n    }\r\n    this.fixBlockColor(null, true);\r\n    top.fullChanged();\r\n};\r\n\r\nBlockMorph.prototype.unringify = function () {\r\n    // remove a Ring around me, if any\r\n    var ring, top, center, scripts, block,\r\n        target = this.selectForEdit(); // copy-on-edit\r\n    if (target !== this) {\r\n        return this.unringify.call(target);\r\n    }\r\n    ring = this.parent.parentThatIsA(RingMorph);\r\n    top = this.topBlock();\r\n    scripts = this.parentThatIsA(ScriptsMorph);\r\n    if (ring === null) {return null; }\r\n    block = ring.contents();\r\n    center = ring.center();\r\n\r\n    top.fullChanged();\r\n    if (ring.parent instanceof SyntaxElementMorph) {\r\n        if (block instanceof ReporterBlockMorph) {\r\n            ring.parent.silentReplaceInput(ring, block);\r\n        } else if (scripts) {\r\n            scripts.add(block);\r\n            block.setFullCenter(center);\r\n            block.moveBy(20);\r\n            ring.parent.revertToDefaultInput(ring);\r\n        }\r\n    } else {\r\n        ring.parent.add(block);\r\n        block.setFullCenter(center);\r\n        ring.destroy();\r\n    }\r\n    this.fixBlockColor(null, true);\r\n    top.fullChanged();\r\n};\r\n\r\nBlockMorph.prototype.relabel = function (alternativeSelectors) {\r\n    var menu, oldInputs, myself,\r\n        target = this.selectForEdit(); // copy-on-edit\r\n    if (target !== this) {\r\n        return this.relabel.call(target, alternativeSelectors);\r\n    }\r\n    menu = new MenuMorph(this);\r\n    oldInputs = this.inputs();\r\n    myself = this;\r\n    alternativeSelectors.forEach(function (sel) {\r\n        var block = SpriteMorph.prototype.blockForSelector(sel);\r\n        block.restoreInputs(oldInputs);\r\n        block.fixBlockColor(null, true);\r\n        block.addShadow(new Point(3, 3));\r\n        menu.addItem(\r\n            block,\r\n            function () {\r\n                myself.setSelector(sel);\r\n            }\r\n        );\r\n    });\r\n    menu.popup(this.world(), this.bottomLeft().subtract(new Point(\r\n        8,\r\n        this instanceof CommandBlockMorph ? this.corner : 0\r\n    )));\r\n};\r\n\r\nBlockMorph.prototype.setSelector = function (aSelector) {\r\n    // private - used only for relabel()\r\n    var oldInputs = this.inputs(),\r\n        scripts = this.parentThatIsA(ScriptsMorph),\r\n        surplus,\r\n        info;\r\n    info = SpriteMorph.prototype.blocks[aSelector];\r\n    this.setCategory(info.category);\r\n    this.selector = aSelector;\r\n    this.setSpec(localize(info.spec));\r\n    surplus = this.restoreInputs(oldInputs);\r\n    this.fixLabelColor();\r\n\r\n    // place surplus blocks on scipts\r\n    if (scripts && surplus.length) {\r\n        surplus.forEach(function (blk) {\r\n            blk.moveBy(10);\r\n            scripts.add(blk);\r\n        });\r\n    }\r\n};\r\n\r\nBlockMorph.prototype.restoreInputs = function (oldInputs) {\r\n    // private - used only for relabel()\r\n    // try to restore my previous inputs when my spec has been changed\r\n    // return an Array of left-over blocks, if any\r\n    var i = 0,\r\n        old,\r\n        nb,\r\n        leftOver = [],\r\n        myself = this;\r\n\r\n    this.inputs().forEach(function (inp) {\r\n        old = oldInputs[i];\r\n        if (old instanceof ReporterBlockMorph) {\r\n            myself.silentReplaceInput(inp, old.fullCopy());\r\n        } else if (old && inp instanceof InputSlotMorph) {\r\n            // original - turns empty numberslots to 0:\r\n            // inp.setContents(old.evaluate());\r\n            // \"fix\" may be wrong b/c constants\r\n            if (old.contents) {\r\n                inp.setContents(old.contents().text);\r\n            }\r\n        } else if (old instanceof CSlotMorph && inp instanceof CSlotMorph) {\r\n            nb = old.nestedBlock();\r\n            if (nb) {\r\n                inp.nestedBlock(nb.fullCopy());\r\n            }\r\n        }\r\n        i += 1;\r\n    });\r\n\r\n    // gather surplus blocks\r\n    for (i; i < oldInputs.length; i += 1) {\r\n        old = oldInputs[i];\r\n        if (old instanceof ReporterBlockMorph) {\r\n            leftOver.push(old);\r\n        } else if (old instanceof CommandSlotMorph) {\r\n            nb = old.nestedBlock();\r\n            if (nb) {\r\n                leftOver.push(nb);\r\n            }\r\n        }\r\n    }\r\n    this.cachedInputs = null;\r\n    return leftOver;\r\n};\r\n\r\nBlockMorph.prototype.showHelp = function () {\r\n    var myself = this,\r\n        ide = this.parentThatIsA(IDE_Morph),\r\n        blockEditor,\r\n        pic = new Image(),\r\n        help,\r\n        comment,\r\n        block,\r\n        spec = this.isCustomBlock ?\r\n                this.definition.helpSpec() : this.selector,\r\n        ctx;\r\n\r\n    if (!ide) {\r\n        blockEditor = this.parentThatIsA(BlockEditorMorph);\r\n        if (blockEditor) {\r\n            ide = blockEditor.target.parentThatIsA(IDE_Morph);\r\n        }\r\n    }\r\n\r\n    pic.onload = function () {\r\n        help = newCanvas(new Point(pic.width, pic.height), true); // nonRetina\r\n        ctx = help.getContext('2d');\r\n        ctx.drawImage(pic, 0, 0);\r\n        new DialogBoxMorph().inform(\r\n            'Help',\r\n            null,\r\n            myself.world(),\r\n            help\r\n        );\r\n    };\r\n\r\n    if (this.isCustomBlock && this.definition.comment) {\r\n        block = this.fullCopy();\r\n        block.addShadow();\r\n        comment = this.definition.comment.fullCopy();\r\n        comment.contents.parse();\r\n        help = '';\r\n        comment.contents.lines.forEach(function (line) {\r\n            help = help + '\\n' + line;\r\n        });\r\n        new DialogBoxMorph().inform(\r\n            'Help',\r\n            help.substr(1),\r\n            myself.world(),\r\n            block.fullImage()\r\n        );\r\n    } else {\r\n        pic.src = ide.resourceURL('help', spec + '.png');\r\n    }\r\n};\r\n\r\n// BlockMorph code mapping\r\n\r\n/*\r\n    code mapping lets you use blocks to generate arbitrary text-based\r\n    source code that can be exported and compiled / embedded elsewhere,\r\n    it's not part of Snap's evaluator and not needed for Snap itself\r\n*/\r\n\r\nBlockMorph.prototype.mapToHeader = function () {\r\n    // open a dialog box letting the user map header code via the GUI\r\n    var key = this.selector.substr(0, 5) === 'reify' ?\r\n            'reify' : this.selector,\r\n        block = this.codeDefinitionHeader(),\r\n        myself = this,\r\n        help,\r\n        pic;\r\n    block.addShadow(new Point(3, 3));\r\n    pic = block.fullImageClassic();\r\n    if (this.isCustomBlock) {\r\n        help = 'Enter code that corresponds to the block\\'s definition. ' +\r\n            'Use the formal parameter\\nnames as shown and <body> to ' +\r\n            'reference the definition body\\'s generated text code.';\r\n    } else {\r\n        help = 'Enter code that corresponds to the block\\'s definition. ' +\r\n            'Choose your own\\nformal parameter names (ignoring the ones ' +\r\n            'shown).';\r\n    }\r\n    new DialogBoxMorph(\r\n        this,\r\n        function (code) {\r\n            if (key === 'evaluateCustomBlock') {\r\n                myself.definition.codeHeader = code;\r\n            } else {\r\n                StageMorph.prototype.codeHeaders[key] = code;\r\n            }\r\n        },\r\n        this\r\n    ).promptCode(\r\n        'Header mapping',\r\n        key === 'evaluateCustomBlock' ? this.definition.codeHeader || ''\r\n                 : StageMorph.prototype.codeHeaders[key] || '',\r\n        this.world(),\r\n        pic,\r\n        help\r\n    );\r\n};\r\n\r\nBlockMorph.prototype.mapToCode = function () {\r\n    // open a dialog box letting the user map code via the GUI\r\n    var key = this.selector.substr(0, 5) === 'reify' ?\r\n            'reify' : this.selector,\r\n        block = this.codeMappingHeader(),\r\n        myself = this,\r\n        pic;\r\n    block.addShadow(new Point(3, 3));\r\n    pic = block.fullImageClassic();\r\n    new DialogBoxMorph(\r\n        this,\r\n        function (code) {\r\n            if (key === 'evaluateCustomBlock') {\r\n                myself.definition.codeMapping = code;\r\n            } else {\r\n                StageMorph.prototype.codeMappings[key] = code;\r\n            }\r\n        },\r\n        this\r\n    ).promptCode(\r\n        'Code mapping',\r\n        key === 'evaluateCustomBlock' ? this.definition.codeMapping || ''\r\n                 : StageMorph.prototype.codeMappings[key] || '',\r\n        this.world(),\r\n        pic,\r\n        'Enter code that corresponds to the block\\'s operation ' +\r\n            '(usually a single\\nfunction invocation). Use <#n> to ' +\r\n            'reference actual arguments as shown.'\r\n    );\r\n};\r\n\r\nBlockMorph.prototype.mapHeader = function (aString, key) {\r\n    // primitive for programatically mapping header code\r\n    var sel = key || this.selector.substr(0, 5) === 'reify' ?\r\n            'reify' : this.selector;\r\n    if (aString) {\r\n        if (this.isCustomBlock) {\r\n            this.definition.codeHeader = aString;\r\n        } else {\r\n            StageMorph.prototype.codeHeaders[sel] = aString;\r\n        }\r\n    }\r\n};\r\n\r\nBlockMorph.prototype.mapCode = function (aString, key) {\r\n    // primitive for programatically mapping code\r\n    var sel = key || this.selector.substr(0, 5) === 'reify' ?\r\n            'reify' : this.selector;\r\n    if (aString) {\r\n        if (this.isCustomBlock) {\r\n            this.definition.codeMapping = aString;\r\n        } else {\r\n            StageMorph.prototype.codeMappings[sel] = aString;\r\n        }\r\n    }\r\n};\r\n\r\nBlockMorph.prototype.mappedCode = function (definitions) {\r\n    var key = this.selector.substr(0, 5) === 'reify' ?\r\n            'reify' : this.selector,\r\n        code,\r\n        codeLines,\r\n        count = 1,\r\n        header,\r\n        headers,\r\n        headerLines,\r\n        body,\r\n        bodyLines,\r\n        defKey = this.isCustomBlock ? this.definition.spec : key,\r\n        defs = definitions || {},\r\n        parts = [];\r\n    code = key === 'reportGetVar' ? this.blockSpec\r\n            : this.isCustomBlock ? this.definition.codeMapping || ''\r\n                    : StageMorph.prototype.codeMappings[key] || '';\r\n\r\n    // map header\r\n    if (key !== 'reportGetVar' && !defs.hasOwnProperty(defKey)) {\r\n        defs[defKey] = null; // create the property for recursive definitions\r\n        if (this.isCustomBlock) {\r\n            header = this.definition.codeHeader || '';\r\n            if (header.indexOf('<body') !== -1) { // replace with def mapping\r\n                body = '';\r\n                if (this.definition.body) {\r\n                    body = this.definition.body.expression.mappedCode(defs);\r\n                }\r\n                bodyLines = body.split('\\n');\r\n                headerLines = header.split('\\n');\r\n                headerLines.forEach(function (headerLine, idx) {\r\n                    var prefix = '',\r\n                        indent;\r\n                    if (headerLine.trimLeft().indexOf('<body') === 0) {\r\n                        indent = headerLine.indexOf('<body');\r\n                        prefix = headerLine.slice(0, indent);\r\n                    }\r\n                    headerLines[idx] = headerLine.replace(\r\n                        new RegExp('<body>'),\r\n                        bodyLines.join('\\n' + prefix)\r\n                    );\r\n                    headerLines[idx] = headerLines[idx].replace(\r\n                        new RegExp('<body>', 'g'),\r\n                        bodyLines.join('\\n')\r\n                    );\r\n                });\r\n                header = headerLines.join('\\n');\r\n            }\r\n            defs[defKey] = header;\r\n        } else {\r\n            defs[defKey] = StageMorph.prototype.codeHeaders[defKey];\r\n        }\r\n    }\r\n\r\n    codeLines = code.split('\\n');\r\n    this.inputs().forEach(function (input) {\r\n        parts.push(input.mappedCode(defs).toString());\r\n    });\r\n    parts.forEach(function (part) {\r\n        var partLines = part.split('\\n'),\r\n            placeHolder = '<#' + count + '>',\r\n            rx = new RegExp(placeHolder, 'g');\r\n        codeLines.forEach(function (codeLine, idx) {\r\n            var prefix = '',\r\n                indent;\r\n            if (codeLine.trimLeft().indexOf(placeHolder) === 0) {\r\n                indent = codeLine.indexOf(placeHolder);\r\n                prefix = codeLine.slice(0, indent);\r\n            }\r\n            codeLines[idx] = codeLine.replace(\r\n                new RegExp(placeHolder),\r\n                partLines.join('\\n' + prefix)\r\n            );\r\n            codeLines[idx] = codeLines[idx].replace(rx, partLines.join('\\n'));\r\n        });\r\n        count += 1;\r\n    });\r\n    code = codeLines.join('\\n');\r\n    if (this.nextBlock && this.nextBlock()) { // Command\r\n        code += ('\\n' + this.nextBlock().mappedCode(defs));\r\n    }\r\n    if (!definitions) { // top-level, add headers\r\n        headers = [];\r\n        Object.keys(defs).forEach(function (each) {\r\n            if (defs[each]) {\r\n                headers.push(defs[each]);\r\n            }\r\n        });\r\n        if (headers.length) {\r\n            return headers.join('\\n\\n')\r\n                + '\\n\\n'\r\n                + code;\r\n        }\r\n    }\r\n    return code;\r\n};\r\n\r\nBlockMorph.prototype.codeDefinitionHeader = function () {\r\n    var block = this.isCustomBlock ? new PrototypeHatBlockMorph(this.definition)\r\n            : SpriteMorph.prototype.blockForSelector(this.selector),\r\n        hat = new HatBlockMorph(),\r\n        count = 1;\r\n\r\n    if (this.isCustomBlock) {return block; }\r\n    block.inputs().forEach(function (input) {\r\n        var part = new TemplateSlotMorph('#' + count);\r\n        block.silentReplaceInput(input, part);\r\n        count += 1;\r\n    });\r\n    block.isPrototype = true;\r\n    hat.setCategory(\"control\");\r\n    hat.setSpec('%s');\r\n    hat.silentReplaceInput(hat.inputs()[0], block);\r\n    if (this.category === 'control') {\r\n        hat.alternateBlockColor();\r\n    }\r\n    return hat;\r\n};\r\n\r\nBlockMorph.prototype.codeMappingHeader = function () {\r\n    var block = this.isCustomBlock ? this.definition.blockInstance()\r\n            : SpriteMorph.prototype.blockForSelector(this.selector),\r\n        hat = new HatBlockMorph(),\r\n        count = 1;\r\n\r\n    block.inputs().forEach(function (input) {\r\n        var part = new TemplateSlotMorph('<#' + count + '>');\r\n        block.silentReplaceInput(input, part);\r\n        count += 1;\r\n    });\r\n    block.isPrototype = true;\r\n    hat.setCategory(\"control\");\r\n    hat.setSpec('%s');\r\n    hat.silentReplaceInput(hat.inputs()[0], block);\r\n    if (this.category === 'control') {\r\n        hat.alternateBlockColor();\r\n    }\r\n    return hat;\r\n};\r\n\r\n// Variable refactoring\r\n\r\nBlockMorph.prototype.refactorThisVar = function (justTheTemplate) {\r\n    // Rename all occurrences of the variable this block is holding,\r\n    // taking care of its lexical scope\r\n\r\n    var receiver = this.scriptTarget(),\r\n        oldName = this.instantiationSpec || this.blockSpec,\r\n        cpy = this.fullCopy();\r\n\r\n    cpy.addShadow();\r\n\r\n    new DialogBoxMorph(this, renameVarTo, this).prompt(\r\n        'Variable name',\r\n        oldName,\r\n        this.world(),\r\n        cpy.fullImage(), // pic\r\n        InputSlotMorph.prototype.getVarNamesDict.call(this)\r\n    );\r\n\r\n    function renameVarTo (newName) {\r\n        if (this.parent instanceof SyntaxElementMorph) {\r\n            if (this.parentThatIsA(BlockEditorMorph)) {\r\n                this.doRefactorBlockParameter(\r\n                    oldName,\r\n                    newName,\r\n                    justTheTemplate\r\n                );\r\n            } else if (this.parentThatIsA(RingMorph)) {\r\n                this.doRefactorRingParameter(oldName, newName, justTheTemplate);\r\n            } else {\r\n                this.doRefactorScriptVar(oldName, newName, justTheTemplate);\r\n            }\r\n        } else if (receiver.hasSpriteVariable(oldName)) {\r\n            this.doRefactorSpriteVar(oldName, newName, justTheTemplate);\r\n        } else {\r\n            this.doRefactorGlobalVar(oldName, newName, justTheTemplate);\r\n        }\r\n    }\r\n};\r\n\r\nBlockMorph.prototype.varExistsError = function (ide, where) {\r\n    ide.inform(\r\n        'Variable exists',\r\n        'A variable with this name already exists ' +\r\n        (where || 'in this context') + '.'\r\n    );\r\n};\r\n\r\nBlockMorph.prototype.doRefactorBlockParameter = function (\r\n    oldName,\r\n    newName,\r\n    justTheTemplate\r\n) {\r\n    var fragMorph = this.parentThatIsA(BlockInputFragmentMorph),\r\n        fragment = fragMorph.fragment.copy(),\r\n        definer = fragMorph.parent,\r\n        editor = this.parentThatIsA(BlockEditorMorph),\r\n        scripts = editor.body.contents;\r\n\r\n    if (definer.anyChild(function (any) {\r\n        return (any.blockSpec === newName);\r\n    })) {\r\n        this.varExistsError(editor.target.parentThatIsA(IDE_Morph));\r\n        return;\r\n    }\r\n\r\n    fragment.labelString = newName;\r\n    fragMorph.updateBlockLabel(fragment);\r\n\r\n    if (justTheTemplate) {\r\n        return;\r\n    }\r\n\r\n    scripts.children.forEach(function (script) {\r\n        script.refactorVarInStack(oldName, newName);\r\n    });\r\n};\r\n\r\nBlockMorph.prototype.doRefactorRingParameter = function (\r\n    oldName,\r\n    newName,\r\n    justTheTemplate\r\n) {\r\n    var ring = this.parentThatIsA(RingMorph),\r\n        script = ring.contents(),\r\n        tb = this.topBlock();\r\n\r\n    if (contains(ring.inputNames(), newName)) {\r\n        this.varExistsError(this.parentThatIsA(IDE_Morph));\r\n        return;\r\n    }\r\n\r\n    tb.fullChanged();\r\n    this.setSpec(newName);\r\n\r\n    if (justTheTemplate) {\r\n        tb.fullChanged();\r\n        return;\r\n    }\r\n\r\n    if (script) {\r\n        script.refactorVarInStack(oldName, newName);\r\n    }\r\n\r\n    tb.fullChanged();\r\n};\r\n\r\nBlockMorph.prototype.doRefactorScriptVar = function (\r\n    oldName,\r\n    newName,\r\n    justTheTemplate\r\n) {\r\n    var definer = this.parentThatIsA(CommandBlockMorph),\r\n        receiver, ide;\r\n\r\n    if (definer.definesScriptVariable(newName)) {\r\n        receiver = this.scriptTarget();\r\n        ide = receiver.parentThatIsA(IDE_Morph);\r\n        this.varExistsError(ide);\r\n        return;\r\n    }\r\n\r\n    this.userSetSpec(newName);\r\n\r\n    if (justTheTemplate) {\r\n        return;\r\n    }\r\n\r\n    definer.refactorVarInStack(oldName, newName, true);\r\n};\r\n\r\nBlockMorph.prototype.doRefactorSpriteVar = function (\r\n    oldName,\r\n    newName,\r\n    justTheTemplate\r\n) {\r\n    var receiver = this.scriptTarget(),\r\n        ide = receiver.parentThatIsA(IDE_Morph),\r\n        oldWatcher = receiver.findVariableWatcher(oldName),\r\n        oldValue, newWatcher;\r\n\r\n    if (receiver.hasSpriteVariable(newName)) {\r\n        this.varExistsError(ide);\r\n        return;\r\n    } else if (!isNil(ide.globalVariables.vars[newName])) {\r\n        this.varExistsError(ide, 'as a global variable');\r\n        return;\r\n    } else {\r\n        oldValue = receiver.variables.getVar(oldName);\r\n        receiver.deleteVariable(oldName);\r\n        receiver.addVariable(newName, false);\r\n        receiver.variables.setVar(newName, oldValue);\r\n\r\n        if (oldWatcher && oldWatcher.isVisible) {\r\n            newWatcher = receiver.toggleVariableWatcher(\r\n                newName,\r\n                false\r\n            );\r\n            newWatcher.setPosition(oldWatcher.position());\r\n        }\r\n\r\n        if (!justTheTemplate) {\r\n            receiver.refactorVariableInstances(\r\n                oldName,\r\n                newName,\r\n                false\r\n            );\r\n            receiver.customBlocks.forEach(function (eachBlock) {\r\n                eachBlock.body.expression.refactorVarInStack(\r\n                    oldName,\r\n                    newName\r\n                );\r\n            });\r\n        }\r\n    }\r\n\r\n    ide.flushBlocksCache('variables');\r\n    ide.refreshPalette();\r\n};\r\n\r\nBlockMorph.prototype.doRefactorGlobalVar = function (\r\n    oldName,\r\n    newName,\r\n    justTheTemplate\r\n) {\r\n    var receiver = this.scriptTarget(),\r\n        ide = receiver.parentThatIsA(IDE_Morph),\r\n        stage = ide ? ide.stage : null,\r\n        oldWatcher = receiver.findVariableWatcher(oldName),\r\n        oldValue, newWatcher;\r\n\r\n    if (!isNil(ide.globalVariables.vars[newName])) {\r\n        this.varExistsError(ide);\r\n        return;\r\n    } else if (\r\n            detect(\r\n                stage.children,\r\n                function (any) {\r\n                    return any instanceof SpriteMorph &&\r\n                        any.hasSpriteVariable(newName);\r\n                })\r\n            ) {\r\n        this.varExistsError(ide, 'as a sprite local variable');\r\n        return;\r\n    } else {\r\n        oldValue = ide.globalVariables.getVar(oldName);\r\n        stage.deleteVariable(oldName);\r\n        stage.addVariable(newName, true);\r\n        ide.globalVariables.setVar(newName, oldValue);\r\n\r\n        if (oldWatcher && oldWatcher.isVisible) {\r\n            newWatcher = receiver.toggleVariableWatcher(\r\n                    newName,\r\n                    true\r\n                    );\r\n            newWatcher.setPosition(oldWatcher.position());\r\n        }\r\n\r\n        if (!justTheTemplate) {\r\n            stage.refactorVariableInstances(\r\n                oldName,\r\n                newName,\r\n                true\r\n            );\r\n            stage.globalBlocks.forEach(function (eachBlock) {\r\n                eachBlock.body.expression.refactorVarInStack(\r\n                    oldName,\r\n                    newName\r\n                );\r\n            });\r\n            stage.forAllChildren(function (child) {\r\n                if (child instanceof SpriteMorph) {\r\n                    child.refactorVariableInstances(\r\n                        oldName,\r\n                        newName,\r\n                        true\r\n                    );\r\n                    child.customBlocks.forEach(\r\n                        function (eachBlock) {\r\n                            eachBlock.body.expression\r\n                                .refactorVarInStack(\r\n                                    oldName,\r\n                                    newName\r\n                                );\r\n                        }\r\n                    );\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    ide.flushBlocksCache('variables');\r\n    ide.refreshPalette();\r\n};\r\n\r\n// BlockMorph drawing\r\n\r\nBlockMorph.prototype.eraseHoles = function (context) {\r\n    var myself = this,\r\n        isRing = this instanceof RingMorph,\r\n        shift = this.edge * 0.5,\r\n        gradient,\r\n        rightX,\r\n        holes = this.parts().filter(function (part) {\r\n            return part.isHole;\r\n        });\r\n\r\n    if (this.isPredicate && (holes.length > 0)) {\r\n        rightX = this.width() - this.rounding;\r\n        context.clearRect(\r\n            rightX,\r\n            0,\r\n            this.width(),\r\n            this.height()\r\n        );\r\n\r\n        // draw a 3D-ish vertical right edge\r\n        gradient = context.createLinearGradient(\r\n            rightX - this.edge,\r\n            0,\r\n            this.width(),\r\n            0\r\n        );\r\n        gradient.addColorStop(0, this.color.toString());\r\n        gradient.addColorStop(1, this.dark());\r\n        context.lineWidth = this.edge;\r\n        context.lineJoin = 'round';\r\n        context.lineCap = 'round';\r\n        context.strokeStyle = gradient;\r\n        context.beginPath();\r\n        context.moveTo(rightX - shift, this.edge + shift);\r\n        context.lineTo(rightX - shift, this.height() - this.edge - shift);\r\n        context.stroke();\r\n    }\r\n    holes.forEach(function (hole) {\r\n        var w = hole.width(),\r\n            h = Math.floor(hole.height()) - 2; // Opera needs this\r\n        context.clearRect(\r\n            hole.bounds.origin.x - myself.bounds.origin.x + 1,\r\n            hole.bounds.origin.y - myself.bounds.origin.y + 1,\r\n            isRing ? w - 2 : w + 1,\r\n            h\r\n        );\r\n    });\r\n\r\n};\r\n\r\n// BlockMorph highlighting\r\n\r\nBlockMorph.prototype.addHighlight = function (oldHighlight) {\r\n    var isHidden = !this.isVisible,\r\n        highlight;\r\n\r\n    if (isHidden) {this.show(); }\r\n    highlight = this.highlight(\r\n        oldHighlight ? oldHighlight.color : this.activeHighlight,\r\n        this.activeBlur,\r\n        this.activeBorder\r\n    );\r\n    this.addBack(highlight);\r\n    this.fullChanged();\r\n    if (isHidden) {this.hide(); }\r\n    return highlight;\r\n};\r\n\r\nBlockMorph.prototype.addErrorHighlight = function () {\r\n    var isHidden = !this.isVisible,\r\n        highlight;\r\n\r\n    if (isHidden) {this.show(); }\r\n    this.removeHighlight();\r\n    highlight = this.highlight(\r\n        this.errorHighlight,\r\n        this.activeBlur,\r\n        this.activeBorder\r\n    );\r\n    this.addBack(highlight);\r\n    this.fullChanged();\r\n    if (isHidden) {this.hide(); }\r\n    return highlight;\r\n};\r\n\r\nBlockMorph.prototype.removeHighlight = function () {\r\n    var highlight = this.getHighlight();\r\n    if (highlight !== null) {\r\n        this.fullChanged();\r\n        this.removeChild(highlight);\r\n    }\r\n    return highlight;\r\n};\r\n\r\nBlockMorph.prototype.toggleHighlight = function () {\r\n    if (this.getHighlight()) {\r\n        this.removeHighlight();\r\n    } else {\r\n        this.addHighlight();\r\n    }\r\n};\r\n\r\nBlockMorph.prototype.highlight = function (color, blur, border) {\r\n    var highlight = new BlockHighlightMorph(),\r\n        fb = this.fullBounds(),\r\n        edge = useBlurredShadows && !MorphicPreferences.isFlat ?\r\n                blur : border;\r\n    highlight.setExtent(fb.extent().add(edge * 2));\r\n    highlight.color = color;\r\n    highlight.image = useBlurredShadows && !MorphicPreferences.isFlat ?\r\n            this.highlightImageBlurred(color, blur)\r\n                : this.highlightImage(color, border);\r\n    highlight.setPosition(fb.origin.subtract(new Point(edge, edge)));\r\n    return highlight;\r\n};\r\n\r\nBlockMorph.prototype.highlightImage = function (color, border) {\r\n    var fb, img, hi, ctx, out;\r\n    fb = this.fullBounds().extent();\r\n    img = this.fullImage();\r\n\r\n    hi = newCanvas(fb.add(border * 2));\r\n    ctx = hi.getContext('2d');\r\n\r\n    ctx.drawImage(img, 0, 0);\r\n    ctx.drawImage(img, border, 0);\r\n    ctx.drawImage(img, border * 2, 0);\r\n    ctx.drawImage(img, border * 2, border);\r\n    ctx.drawImage(img, border * 2, border * 2);\r\n    ctx.drawImage(img, border, border * 2);\r\n    ctx.drawImage(img, 0, border * 2);\r\n    ctx.drawImage(img, 0, border);\r\n\r\n    ctx.globalCompositeOperation = 'destination-out';\r\n    ctx.drawImage(img, border, border);\r\n\r\n    out = newCanvas(fb.add(border * 2));\r\n    ctx = out.getContext('2d');\r\n    ctx.drawImage(hi, 0, 0);\r\n    ctx.globalCompositeOperation = 'source-atop';\r\n    ctx.fillStyle = color.toString();\r\n    ctx.fillRect(0, 0, out.width, out.height);\r\n\r\n    return out;\r\n};\r\n\r\nBlockMorph.prototype.highlightImageBlurred = function (color, blur) {\r\n    var fb, img, hi, ctx;\r\n    fb = this.fullBounds().extent();\r\n    img = this.fullImage();\r\n\r\n    hi = newCanvas(fb.add(blur * 2));\r\n    ctx = hi.getContext('2d');\r\n    ctx.shadowBlur = blur;\r\n    ctx.shadowColor = color.toString();\r\n    ctx.drawImage(img, blur, blur);\r\n\r\n    ctx.shadowBlur = 0;\r\n    ctx.globalCompositeOperation = 'destination-out';\r\n    ctx.drawImage(img, blur, blur);\r\n    return hi;\r\n};\r\n\r\nBlockMorph.prototype.getHighlight = function () {\r\n    var highlights;\r\n    highlights = this.children.slice(0).reverse().filter(\r\n        function (child) {\r\n            return child instanceof BlockHighlightMorph;\r\n        }\r\n    );\r\n    if (highlights.length !== 0) {\r\n        return highlights[0];\r\n    }\r\n    return null;\r\n};\r\n\r\nBlockMorph.prototype.outline = function (color, border) {\r\n    var highlight = new BlockHighlightMorph(),\r\n        fb = this.fullBounds(),\r\n        edge = border;\r\n    highlight.setExtent(fb.extent().add(edge * 2));\r\n    highlight.color = color;\r\n    highlight.image = this.highlightImage(color, border);\r\n    highlight.setPosition(fb.origin.subtract(new Point(edge, edge)));\r\n    return highlight;\r\n};\r\n\r\n// BlockMorph zebra coloring\r\n\r\nBlockMorph.prototype.fixBlockColor = function (nearestBlock, isForced) {\r\n    var nearest = nearestBlock,\r\n        clr,\r\n        cslot;\r\n\r\n    if (!this.zebraContrast && !isForced) {\r\n        return;\r\n    }\r\n    if (!this.zebraContrast && isForced) {\r\n        return this.forceNormalColoring(true);\r\n    }\r\n\r\n    if (!nearest) {\r\n        if (this.parent) {\r\n            if (this.isPrototype) {\r\n                nearest = null; // this.parent; // the PrototypeHatBlockMorph\r\n            } else if (this instanceof ReporterBlockMorph) {\r\n                nearest = this.parent.parentThatIsA(BlockMorph);\r\n            } else { // command\r\n                cslot = this.parentThatIsA(CommandSlotMorph);\r\n                if (cslot) {\r\n                    nearest = cslot.parentThatIsA(BlockMorph);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    if (!nearest) { // top block\r\n        clr = SpriteMorph.prototype.blockColor[this.category];\r\n        if (!this.color.eq(clr)) {\r\n            this.alternateBlockColor();\r\n        }\r\n    } else if (nearest.category === this.category) {\r\n        if (nearest.color.eq(this.color)) {\r\n            this.alternateBlockColor();\r\n        }\r\n    } else if (this.category && !this.color.eq(\r\n            SpriteMorph.prototype.blockColor[this.category]\r\n        )) {\r\n        this.alternateBlockColor();\r\n    }\r\n    if (isForced) {\r\n        this.fixChildrensBlockColor(true);\r\n    }\r\n};\r\n\r\nBlockMorph.prototype.forceNormalColoring = function (silently) {\r\n    var clr = SpriteMorph.prototype.blockColor[this.category];\r\n    this.setColor(clr, silently);\r\n    this.setLabelColor(\r\n        new Color(255, 255, 255),\r\n        clr.darker(this.labelContrast),\r\n        new Point(-1, -1)\r\n    );\r\n    this.fixChildrensBlockColor(true);\r\n};\r\n\r\nBlockMorph.prototype.alternateBlockColor = function () {\r\n    var clr = SpriteMorph.prototype.blockColor[this.category];\r\n\r\n    if (this.color.eq(clr)) {\r\n        this.setColor(\r\n            this.zebraContrast < 0 ? clr.darker(Math.abs(this.zebraContrast))\r\n                : clr.lighter(this.zebraContrast),\r\n            this.hasLabels() // silently\r\n        );\r\n    } else {\r\n        this.setColor(clr, this.hasLabels()); // silently\r\n    }\r\n    this.fixLabelColor();\r\n    this.fixChildrensBlockColor(true); // has issues if not forced\r\n};\r\n\r\nBlockMorph.prototype.ghost = function () {\r\n    this.setColor(\r\n        SpriteMorph.prototype.blockColor[this.category].lighter(35)\r\n    );\r\n};\r\n\r\nBlockMorph.prototype.fixLabelColor = function () {\r\n    if (this.zebraContrast > 0 && this.category) {\r\n        var clr = SpriteMorph.prototype.blockColor[this.category];\r\n        if (this.color.eq(clr)) {\r\n            this.setLabelColor(\r\n                new Color(255, 255, 255),\r\n                clr.darker(this.labelContrast),\r\n                MorphicPreferences.isFlat ? null : new Point(-1, -1)\r\n            );\r\n        } else {\r\n            this.setLabelColor(\r\n                new Color(0, 0, 0),\r\n                clr.lighter(this.zebraContrast)\r\n                    .lighter(this.labelContrast * 2),\r\n                MorphicPreferences.isFlat ? null : new Point(1, 1)\r\n            );\r\n        }\r\n    }\r\n};\r\n\r\nBlockMorph.prototype.fixChildrensBlockColor = function (isForced) {\r\n    var myself = this;\r\n    this.children.forEach(function (morph) {\r\n        if (morph instanceof CommandBlockMorph) {\r\n            morph.fixBlockColor(null, isForced);\r\n        } else if (morph instanceof SyntaxElementMorph) {\r\n            morph.fixBlockColor(myself, isForced);\r\n            if (morph instanceof BooleanSlotMorph) {\r\n                morph.drawNew();\r\n            }\r\n        }\r\n    });\r\n};\r\n\r\nBlockMorph.prototype.setCategory = function (aString) {\r\n    this.category = aString;\r\n    this.startLayout();\r\n    this.fixBlockColor();\r\n    this.endLayout();\r\n};\r\n\r\nBlockMorph.prototype.hasLabels = function () {\r\n    return this.children.some(function (any) {\r\n        return any instanceof StringMorph;\r\n    });\r\n};\r\n\r\n// BlockMorph copying\r\n\r\nBlockMorph.prototype.fullCopy = function () {\r\n    var ans = BlockMorph.uber.fullCopy.call(this);\r\n    ans.removeHighlight();\r\n    ans.isDraggable = true;\r\n    if (this.instantiationSpec) {\r\n        ans.setSpec(this.instantiationSpec);\r\n    }\r\n    ans.allChildren().filter(function (block) {\r\n        if (block instanceof SyntaxElementMorph) {\r\n            block.cachedInputs = null;\r\n            if (block.isCustomBlock) {\r\n                block.initializeVariables();\r\n            }\r\n        }\r\n        return !isNil(block.comment);\r\n    }).forEach(function (block) {\r\n        var cmnt = block.comment.fullCopy();\r\n        block.comment = cmnt;\r\n        cmnt.block = block;\r\n    });\r\n    ans.cachedInputs = null;\r\n    return ans;\r\n};\r\n\r\nBlockMorph.prototype.reactToTemplateCopy = function () {\r\n    this.forceNormalColoring();\r\n};\r\n\r\nBlockMorph.prototype.hasBlockVars = function () {\r\n    return this.anyChild(function (any) {\r\n        return any.isCustomBlock &&\r\n            any.isGlobal &&\r\n            any.definition.variableNames.length;\r\n    });\r\n};\r\n\r\n// BlockMorph events\r\n\r\nBlockMorph.prototype.mouseClickLeft = function () {\r\n    var top = this.topBlock(),\r\n        receiver = top.scriptTarget(),\r\n        shiftClicked = this.world().currentKey === 16,\r\n        stage;\r\n    if (shiftClicked && !this.isTemplate) {\r\n        return this.selectForEdit().focus(); // enable coopy-on-edit\r\n    }\r\n    if (top instanceof PrototypeHatBlockMorph) {\r\n        return top.mouseClickLeft();\r\n    }\r\n    if (receiver) {\r\n        stage = receiver.parentThatIsA(StageMorph);\r\n        if (stage) {\r\n            stage.threads.toggleProcess(top, receiver);\r\n        }\r\n    }\r\n};\r\n\r\nBlockMorph.prototype.focus = function () {\r\n    var scripts = this.parentThatIsA(ScriptsMorph),\r\n        world = this.world(),\r\n        focus;\r\n    if (!scripts || !ScriptsMorph.prototype.enableKeyboard) {return; }\r\n    if (scripts.focus) {scripts.focus.stopEditing(); }\r\n    world.stopEditing();\r\n    focus = new ScriptFocusMorph(scripts, this);\r\n    scripts.focus = focus;\r\n    focus.getFocus(world);\r\n    if (this instanceof HatBlockMorph) {\r\n        focus.nextCommand();\r\n    }\r\n};\r\n\r\nBlockMorph.prototype.activeProcess = function () {\r\n    var top = this.topBlock(),\r\n        receiver = top.scriptTarget(),\r\n        stage;\r\n    if (top instanceof PrototypeHatBlockMorph) {\r\n        return null;\r\n    }\r\n    if (receiver) {\r\n        stage = receiver.parentThatIsA(StageMorph);\r\n        if (stage) {\r\n            return stage.threads.findProcess(top, receiver);\r\n        }\r\n    }\r\n    return null;\r\n};\r\n\r\n// BlockMorph thumbnail and script pic\r\n\r\nBlockMorph.prototype.thumbnail = function (scale, clipWidth) {\r\n    var nb = this.nextBlock(),\r\n        fadeout = 12,\r\n        ext,\r\n        trgt,\r\n        ctx,\r\n        gradient;\r\n\r\n    if (nb) {nb.isVisible = false; }\r\n    ext = this.fullBounds().extent();\r\n    trgt = newCanvas(new Point(\r\n        clipWidth ? Math.min(ext.x * scale, clipWidth) : ext.x * scale,\r\n        ext.y * scale\r\n    ));\r\n    ctx = trgt.getContext('2d');\r\n    ctx.scale(scale, scale);\r\n    ctx.drawImage(this.fullImage(), 0, 0);\r\n    // draw fade-out\r\n    if (clipWidth && ext.x * scale > clipWidth) {\r\n        gradient = ctx.createLinearGradient(\r\n            trgt.width / scale - fadeout,\r\n            0,\r\n            trgt.width / scale,\r\n            0\r\n        );\r\n        gradient.addColorStop(0, 'transparent');\r\n        gradient.addColorStop(1, 'black');\r\n        ctx.globalCompositeOperation = 'destination-out';\r\n        ctx.fillStyle = gradient;\r\n        ctx.fillRect(\r\n            trgt.width / scale - fadeout,\r\n            0,\r\n            trgt.width / scale,\r\n            trgt.height / scale\r\n        );\r\n    }\r\n    if (nb) {nb.isVisible = true; }\r\n    return trgt;\r\n};\r\n\r\nBlockMorph.prototype.scriptPic = function () {\r\n    // answer a canvas image that also includes comments\r\n    var scr = this.fullImage(),\r\n        fb = this.stackFullBounds(),\r\n        pic = newCanvas(fb.extent()),\r\n        ctx = pic.getContext('2d');\r\n    this.allComments().forEach(function (comment) {\r\n        ctx.drawImage(\r\n            comment.fullImageClassic(),\r\n            comment.fullBounds().left() - fb.left(),\r\n            comment.top() - fb.top()\r\n        );\r\n    });\r\n    ctx.drawImage(scr, 0, 0);\r\n    return pic;\r\n};\r\n\r\n// BlockMorph local method indicator drawing\r\n\r\nBlockMorph.prototype.drawMethodIcon = function (context) {\r\n    var ext = this.methodIconExtent(),\r\n        w = ext.x,\r\n        h = ext.y,\r\n        r = w / 2,\r\n        x = this.edge + this.labelPadding,\r\n        y = this.edge,\r\n        isNormal =\r\n            this.color === SpriteMorph.prototype.blockColor[this.category];\r\n\r\n    if (this.isPredicate) {\r\n        x = this.rounding;\r\n    }\r\n    if (this instanceof CommandBlockMorph) {\r\n        y += this.corner;\r\n    }\r\n    context.fillStyle = isNormal ? this.cachedClrBright : this.cachedClrDark;\r\n\r\n    // pin\r\n    context.beginPath();\r\n    context.arc(x + r, y + r, r, radians(-210), radians(30), false);\r\n    context.lineTo(x + r, y + h);\r\n    context.closePath();\r\n    context.fill();\r\n\r\n    // hole\r\n    context.fillStyle = this.cachedClr;\r\n    context.beginPath();\r\n    context.arc(x + r, y + r, r * 0.4, radians(0), radians(360), false);\r\n    context.closePath();\r\n    context.fill();\r\n};\r\n\r\n// BlockMorph dragging and dropping\r\n\r\nBlockMorph.prototype.rootForGrab = function () {\r\n    return this;\r\n};\r\n\r\n/*\r\n    for demo purposes, allows you to drop arg morphs onto\r\n    blocks and forces a layout update. This section has\r\n    no relevance in end user mode.\r\n*/\r\n\r\nBlockMorph.prototype.wantsDropOf = function (aMorph) {\r\n    // override the inherited method\r\n    return (aMorph instanceof ArgMorph\r\n        || aMorph instanceof StringMorph\r\n        || aMorph instanceof TextMorph\r\n    ) && !this.isTemplate;\r\n};\r\n\r\nBlockMorph.prototype.reactToDropOf = function (droppedMorph) {\r\n    droppedMorph.isDraggable = false;\r\n    if (droppedMorph instanceof InputSlotMorph) {\r\n        droppedMorph.drawNew();\r\n    } else if (droppedMorph instanceof MultiArgMorph) {\r\n        droppedMorph.fixLayout();\r\n    }\r\n    this.fixLayout();\r\n    this.buildSpec();\r\n};\r\n\r\nBlockMorph.prototype.situation = function () {\r\n    // answer a dictionary specifying where I am right now, so\r\n    // I can slide back to it if I'm dropped somewhere else\r\n    if (!(this.parent instanceof TemplateSlotMorph)) {\r\n        var scripts = this.parentThatIsA(ScriptsMorph);\r\n        if (scripts) {\r\n            return {\r\n                origin: scripts,\r\n                position: this.position().subtract(scripts.position())\r\n            };\r\n        }\r\n    }\r\n    return BlockMorph.uber.situation.call(this);\r\n};\r\n\r\n// BlockMorph sticky comments\r\n\r\nBlockMorph.prototype.prepareToBeGrabbed = function (hand) {\r\n    var myself = this;\r\n    this.allComments().forEach(function (comment) {\r\n        comment.startFollowing(myself, hand.world);\r\n    });\r\n};\r\n\r\nBlockMorph.prototype.justDropped = function () {\r\n   \r\n    this.alpha = 1;\r\n    this.allComments().forEach(function (comment) {\r\n        comment.stopFollowing();\r\n    });\r\n};\r\n\r\nBlockMorph.prototype.allComments = function () {\r\n    return this.allChildren().filter(function (block) {\r\n        return !isNil(block.comment);\r\n    }).map(function (block) {\r\n        return block.comment;\r\n    });\r\n};\r\n\r\nBlockMorph.prototype.destroy = function (justThis) {\r\n    // private - use IDE_Morph.removeBlock() to first stop all my processes\r\n    if (justThis) {\r\n        if (!isNil(this.comment)) {\r\n            this.comment.destroy();\r\n        }\r\n    } else {\r\n        this.allComments().forEach(function (comment) {\r\n            comment.destroy();\r\n        });\r\n    }\r\n    BlockMorph.uber.destroy.call(this);\r\n};\r\n\r\nBlockMorph.prototype.stackHeight = function () {\r\n    var fb = this.fullBounds(),\r\n        commentsBottom = Math.max(this.allComments().map(\r\n            function (comment) {return comment.bottom(); }\r\n        )) || this.bottom();\r\n    return Math.max(fb.bottom(), commentsBottom) - fb.top();\r\n};\r\n\r\nBlockMorph.prototype.stackFullBounds = function () {\r\n    var fb = this.fullBounds();\r\n    this.allComments().forEach(function (comment) {\r\n        fb.mergeWith(comment.bounds);\r\n    });\r\n    return fb;\r\n};\r\n\r\nBlockMorph.prototype.stackWidth = function () {\r\n    var fb = this.fullBounds(),\r\n        commentsRight = Math.max(this.allComments().map(\r\n            function (comment) {return comment.right(); }\r\n        )) || this.right();\r\n    return Math.max(fb.right(), commentsRight) - fb.left();\r\n};\r\n\r\nBlockMorph.prototype.snap = function () {\r\n    var top = this.topBlock(),\r\n        receiver,\r\n        stage,\r\n        ide;\r\n    top.allComments().forEach(function (comment) {\r\n        comment.align(top);\r\n    });\r\n    // fix highlights, if any\r\n    if (this.getHighlight() && (this !== top)) {\r\n        this.removeHighlight();\r\n    }\r\n    if (top.getHighlight()) {\r\n        top.addHighlight(top.removeHighlight());\r\n    }\r\n    // register generic hat blocks\r\n    if (this.selector === 'receiveCondition') {\r\n        receiver = top.scriptTarget();\r\n        if (receiver) {\r\n            stage = receiver.parentThatIsA(StageMorph);\r\n            if (stage) {\r\n                stage.enableCustomHatBlocks = true;\r\n                stage.threads.pauseCustomHatBlocks = false;\r\n                ide = stage.parentThatIsA(IDE_Morph);\r\n                if (ide) {\r\n                    ide.controlBar.stopButton.refresh();\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\n// CommandBlockMorph ///////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a stackable jigsaw-shaped block.\r\n\r\n    I inherit from BlockMorph adding the following most important\r\n    public accessors:\r\n\r\n        nextBlock()       - set / get the block attached to my bottom\r\n        bottomBlock()     - answer the bottom block of my stack\r\n        blockSequence()   - answer an array of blocks starting with myself\r\n\r\n    and the following \"lexical awareness\" indicators:\r\n\r\n        partOfCustomCommand - temporary bool set by the evaluator\r\n        exitTag           - temporary string or number set by the evaluator\r\n*/\r\n\r\n// CommandBlockMorph inherits from BlockMorph:\r\n\r\nCommandBlockMorph.prototype = new BlockMorph();\r\nCommandBlockMorph.prototype.constructor = CommandBlockMorph;\r\nCommandBlockMorph.uber = BlockMorph.prototype;\r\n\r\n// CommandBlockMorph instance creation:\r\n\r\nfunction CommandBlockMorph() {\r\n    this.init();\r\n}\r\n\r\nCommandBlockMorph.prototype.init = function (silently) {\r\n    CommandBlockMorph.uber.init.call(this, silently);\r\n    this.setExtent(new Point(200, 100), silently);\r\n    this.partOfCustomCommand = false;\r\n    this.exitTag = null;\r\n    // this.cachedNextBlock = null; // don't serialize\r\n};\r\n\r\n// CommandBlockMorph enumerating:\r\n\r\nCommandBlockMorph.prototype.blockSequence = function () {\r\n    var nb = this.nextBlock(),\r\n        result = [this];\r\n    if (nb) {\r\n        result = result.concat(nb.blockSequence());\r\n    }\r\n    return result;\r\n};\r\n\r\nCommandBlockMorph.prototype.bottomBlock = function () {\r\n    // topBlock() also exists - inherited from SyntaxElementMorph\r\n    if (this.nextBlock()) {\r\n        return this.nextBlock().bottomBlock();\r\n    }\r\n    return this;\r\n};\r\n\r\nCommandBlockMorph.prototype.nextBlock = function (block) {\r\n    // set / get the block attached to my bottom\r\n    if (block) {\r\n        var nb = this.nextBlock(),\r\n            affected = this.parentThatIsA(CommandSlotMorph);\r\n        this.add(block);\r\n        // this.cachedNextBlock = block;\r\n        if (nb) {\r\n            block.bottomBlock().nextBlock(nb);\r\n        }\r\n        block.setPosition(\r\n            new Point(\r\n                this.left(),\r\n                this.bottom() - (this.corner)\r\n            )\r\n        );\r\n        if (affected) {\r\n            affected.fixLayout();\r\n        }\r\n    } else {\r\n        /* cachedNextBlock - has issues, disabled for now\r\n        if (!this.cachedNextBlock) {\r\n            this.cachedNextBlock = detect(\r\n                this.children,\r\n                function (child) {\r\n                    return child instanceof CommandBlockMorph\r\n                        && !child.isPrototype;\r\n                }\r\n            );\r\n        }\r\n        return this.cachedNextBlock;\r\n        */\r\n        return detect(\r\n            this.children,\r\n            function (child) {\r\n                return child instanceof CommandBlockMorph\r\n                    && !child.isPrototype;\r\n            }\r\n        );\r\n    }\r\n};\r\n\r\n// CommandBlockMorph attach targets:\r\n\r\nCommandBlockMorph.prototype.topAttachPoint = function () {\r\n    return new Point(\r\n        this.dentCenter(),\r\n        this.top()\r\n    );\r\n};\r\n\r\nCommandBlockMorph.prototype.bottomAttachPoint = function () {\r\n    return new Point(\r\n        this.dentCenter(),\r\n        this.bottom()\r\n    );\r\n};\r\n\r\nCommandBlockMorph.prototype.wrapAttachPoint = function () {\r\n    var cslot = detect( // could be a method making uses of caching...\r\n        this.inputs(), // ... although these already are cached\r\n        function (each) {return each instanceof CSlotMorph; }\r\n    );\r\n    if (cslot && !cslot.nestedBlock()) {\r\n        return new Point(\r\n            cslot.left() + (cslot.inset * 2) + cslot.corner,\r\n            cslot.top() + (cslot.corner * 2)\r\n        );\r\n    }\r\n    return null;\r\n};\r\n\r\nCommandBlockMorph.prototype.dentLeft = function () {\r\n    return this.left()\r\n        + this.corner\r\n        + this.inset;\r\n};\r\n\r\nCommandBlockMorph.prototype.dentCenter = function () {\r\n    return this.dentLeft()\r\n        + this.corner\r\n        + (this.dent * 0.5);\r\n};\r\n\r\nCommandBlockMorph.prototype.attachTargets = function () {\r\n    var answer = [],\r\n        tp;\r\n    if (!(this instanceof HatBlockMorph)) {\r\n        tp = this.topAttachPoint();\r\n        if (!(this.parent instanceof SyntaxElementMorph)) {\r\n            answer.push({\r\n                point: tp,\r\n                element: this,\r\n                loc: 'top',\r\n                type: 'block'\r\n            });\r\n        }\r\n        if (ScriptsMorph.prototype.enableNestedAutoWrapping ||\r\n                !this.parentThatIsA(CommandSlotMorph)) {\r\n            answer.push({\r\n                point: tp,\r\n                element: this,\r\n                loc: 'wrap',\r\n                type: 'block'\r\n            });\r\n        }\r\n    }\r\n    if (!this.isStop()) {\r\n        answer.push({\r\n            point: this.bottomAttachPoint(),\r\n            element: this,\r\n            loc: 'bottom',\r\n            type: 'block'\r\n        });\r\n    }\r\n    return answer;\r\n};\r\n\r\nCommandBlockMorph.prototype.allAttachTargets = function (newParent) {\r\n    var myself = this,\r\n        target = newParent || this.parent,\r\n        answer = [],\r\n        topBlocks;\r\n\r\n    if (this instanceof HatBlockMorph && newParent.rejectsHats) {\r\n        return answer;\r\n    }\r\n    topBlocks = target.children.filter(function (child) {\r\n        return (child !== myself) &&\r\n            child instanceof SyntaxElementMorph &&\r\n            !child.isTemplate;\r\n    });\r\n    topBlocks.forEach(function (block) {\r\n        block.forAllChildren(function (child) {\r\n            if (child.attachTargets) {\r\n                child.attachTargets().forEach(function (at) {\r\n                    answer.push(at);\r\n                });\r\n            }\r\n        });\r\n    });\r\n    return answer;\r\n};\r\n\r\nCommandBlockMorph.prototype.closestAttachTarget = function (newParent) {\r\n    var target = newParent || this.parent,\r\n        bottomBlock = this.bottomBlock(),\r\n        answer = null,\r\n        thresh = Math.max(\r\n            this.corner * 2 + this.dent,\r\n            this.minSnapDistance\r\n        ),\r\n        dist,\r\n        ref = [],\r\n        minDist = 1000,\r\n        wrap;\r\n\r\n    if (!(this instanceof HatBlockMorph)) {\r\n        ref.push(\r\n            {\r\n                point: this.topAttachPoint(),\r\n                loc: 'top'\r\n            }\r\n        );\r\n        wrap = this.wrapAttachPoint();\r\n        if (wrap) {\r\n            ref.push(\r\n                {\r\n                    point: wrap,\r\n                    loc: 'wrap'\r\n                }\r\n            );\r\n        }\r\n    }\r\n    if (!bottomBlock.isStop()) {\r\n        ref.push(\r\n            {\r\n                point: bottomBlock.bottomAttachPoint(),\r\n                loc: 'bottom'\r\n            }\r\n        );\r\n    }\r\n    this.allAttachTargets(target).forEach(function (eachTarget) {\r\n        ref.forEach(function (eachRef) {\r\n            // match: either both locs are 'wrap' or both are different,\r\n            // none being 'wrap' (can this be expressed any better?)\r\n            if ((eachRef.loc === 'wrap' && (eachTarget.loc === 'wrap')) ||\r\n                ((eachRef.loc !== eachTarget.loc) &&\r\n                    (eachRef.loc !== 'wrap') && (eachTarget.loc !== 'wrap'))\r\n            ) {\r\n                dist = eachRef.point.distanceTo(eachTarget.point);\r\n                if ((dist < thresh) && (dist < minDist)) {\r\n                    minDist = dist;\r\n                    answer = eachTarget;\r\n                }\r\n            }\r\n        });\r\n    });\r\n    return answer;\r\n};\r\n\r\nCommandBlockMorph.prototype.snap = function (hand) {\r\n    var target = this.closestAttachTarget(),\r\n        scripts = this.parentThatIsA(ScriptsMorph),\r\n        before,\r\n        next,\r\n        offsetY,\r\n        cslot,\r\n        affected;\r\n\r\n    scripts.clearDropInfo();\r\n    scripts.lastDroppedBlock = this;\r\n    if (target === null) {\r\n        this.startLayout();\r\n        this.fixBlockColor();\r\n        this.endLayout();\r\n        CommandBlockMorph.uber.snap.call(this); // align stuck comments\r\n        if (hand) {\r\n            scripts.recordDrop(hand.grabOrigin);\r\n        }\r\n        return;\r\n    }\r\n\r\n    scripts.lastDropTarget = target;\r\n\r\n    this.startLayout();\r\n    if (target.loc === 'bottom') {\r\n        if (target.type === 'slot') {\r\n            this.removeHighlight();\r\n            scripts.lastNextBlock = target.element.nestedBlock();\r\n            target.element.nestedBlock(this);\r\n        } else {\r\n            scripts.lastNextBlock = target.element.nextBlock();\r\n            target.element.nextBlock(this);\r\n        }\r\n        if (this.isStop()) {\r\n            next = this.nextBlock();\r\n            if (next) {\r\n                scripts.add(next);\r\n                next.moveBy(this.extent().floorDivideBy(2));\r\n                affected = this.parentThatIsA(CommandSlotMorph);\r\n                if (affected) {\r\n                    affected.fixLayout();\r\n                }\r\n            }\r\n        }\r\n    } else if (target.loc === 'top') {\r\n        target.element.removeHighlight();\r\n        offsetY = this.bottomBlock().bottom() - this.bottom();\r\n        this.setBottom(target.element.top() + this.corner - offsetY);\r\n        this.setLeft(target.element.left());\r\n        this.bottomBlock().nextBlock(target.element);\r\n    } else if (target.loc === 'wrap') {\r\n        cslot = detect( // this should be a method making use of caching\r\n            this.inputs(), // these are already cached, so maybe it's okay\r\n            function (each) {return each instanceof CSlotMorph; }\r\n        );\r\n        // assume the cslot is (still) empty, was checked determining the target\r\n        before = (target.element.parent);\r\n        scripts.lastWrapParent = before;\r\n\r\n        // adjust position of wrapping block\r\n        this.moveBy(target.point.subtract(cslot.slotAttachPoint()));\r\n\r\n        // wrap c-slot around target\r\n        cslot.nestedBlock(target.element);\r\n        if (before instanceof CommandBlockMorph) {\r\n            before.nextBlock(this);\r\n        } else if (before instanceof CommandSlotMorph) {\r\n            before.nestedBlock(this);\r\n        }\r\n\r\n        // fix zebra coloring.\r\n        // this could probably be generalized into the fixBlockColor mechanism\r\n        target.element.blockSequence().forEach(\r\n            function (cmd) {cmd.fixBlockColor(); }\r\n        );\r\n    }\r\n    this.fixBlockColor();\r\n    this.endLayout();\r\n    CommandBlockMorph.uber.snap.call(this); // align stuck comments\r\n    if (hand) {\r\n        scripts.recordDrop(hand.grabOrigin);\r\n    }\r\n    if (this.snapSound) {\r\n        this.snapSound.play();\r\n    }\r\n};\r\n\r\nCommandBlockMorph.prototype.isStop = function () {\r\n    return ([\r\n        'doStopThis',\r\n        'doStop',\r\n        'doStopBlock',\r\n        'doStopAll',\r\n        'doForever',\r\n        'doReport',\r\n        'removeClone'\r\n    ].indexOf(this.selector) > -1);\r\n};\r\n\r\n// CommandBlockMorph deleting\r\n\r\nCommandBlockMorph.prototype.userDestroy = function () {\r\n    var target = this.selectForEdit(); // enable copy-on-edit\r\n    if (target !== this) {\r\n        return this.userDestroy.call(target);\r\n    }\r\n    if (this.nextBlock()) {\r\n        this.userDestroyJustThis();\r\n        return;\r\n    }\r\n\r\n    var scripts = this.parentThatIsA(ScriptsMorph),\r\n        ide = this.parentThatIsA(IDE_Morph),\r\n        parent = this.parentThatIsA(SyntaxElementMorph),\r\n        cslot = this.parentThatIsA(CSlotMorph);\r\n\r\n    // for undrop / redrop\r\n    if (scripts) {\r\n        scripts.clearDropInfo();\r\n        scripts.lastDroppedBlock = this;\r\n        scripts.recordDrop(this.situation());\r\n        scripts.dropRecord.action = 'delete';\r\n    }\r\n\r\n    if (ide) {\r\n        // also stop all active processes hatted by this block\r\n        ide.removeBlock(this);\r\n    } else {\r\n        this.destroy();\r\n    }\r\n    if (cslot) {\r\n        cslot.fixLayout();\r\n    }\r\n    if (parent) {\r\n        parent.reactToGrabOf(this); // fix highlight\r\n    }\r\n};\r\n\r\nCommandBlockMorph.prototype.userDestroyJustThis = function () {\r\n    // delete just this one block, reattach next block to the previous one,\r\n    var scripts = this.parentThatIsA(ScriptsMorph),\r\n        ide = this.parentThatIsA(IDE_Morph),\r\n        cs = this.parentThatIsA(CommandSlotMorph),\r\n        pb,\r\n        nb = this.nextBlock(),\r\n        above,\r\n        parent = this.parentThatIsA(SyntaxElementMorph),\r\n        cslot = this.parentThatIsA(CSlotMorph);\r\n\r\n    // for undrop / redrop\r\n    if (scripts) {\r\n        scripts.clearDropInfo();\r\n        scripts.lastDroppedBlock = this;\r\n        scripts.recordDrop(this.situation());\r\n        scripts.dropRecord.lastNextBlock = nb;\r\n        scripts.dropRecord.action = 'delete';\r\n    }\r\n\r\n    this.topBlock().fullChanged();\r\n    if (this.parent) {\r\n        pb = this.parent.parentThatIsA(CommandBlockMorph);\r\n    }\r\n    if (pb && (pb.nextBlock() === this)) {\r\n        above = pb;\r\n    } else if (cs && (cs.nestedBlock() === this)) {\r\n        above = cs;\r\n    }\r\n    if (ide) {\r\n        // also stop all active processes hatted by this block\r\n        ide.removeBlock(this, true); // just this block\r\n    } else {\r\n        this.destroy(true); // just this block\r\n    }\r\n    if (nb) {\r\n        if (above instanceof CommandSlotMorph) {\r\n            above.nestedBlock(nb);\r\n        } else if (above instanceof CommandBlockMorph) {\r\n            above.nextBlock(nb);\r\n        } else {\r\n            scripts.add(nb);\r\n        }\r\n    } else if (cslot) {\r\n        cslot.fixLayout();\r\n    }\r\n    if (parent) {\r\n        parent.reactToGrabOf(this); // fix highlight\r\n    }\r\n};\r\n\r\n// CommandBlockMorph drawing:\r\n\r\nCommandBlockMorph.prototype.drawNew = function () {\r\n    var context;\r\n    this.cachedClr = this.color.toString();\r\n    this.cachedClrBright = this.bright();\r\n    this.cachedClrDark = this.dark();\r\n    this.image = newCanvas(this.extent());\r\n    context = this.image.getContext('2d');\r\n    context.fillStyle = this.cachedClr;\r\n\r\n    // draw the 'flat' shape:\r\n    this.drawTop(context);\r\n    this.drawBody(context);\r\n    this.drawBottom(context);\r\n\r\n    // add 3D-Effect:\r\n    if (!MorphicPreferences.isFlat) {\r\n        this.drawTopDentEdge(context, 0, 0);\r\n        this.drawBottomDentEdge(context, 0, this.height() - this.corner);\r\n        this.drawLeftEdge(context);\r\n        this.drawRightEdge(context);\r\n        this.drawTopLeftEdge(context);\r\n        this.drawBottomRightEdge(context);\r\n    } else {\r\n        nop();\r\n       \r\n    }\r\n\r\n    // draw method icon if applicable\r\n    if (this.isCustomBlock && !this.isGlobal) {\r\n        this.drawMethodIcon(context);\r\n    }\r\n\r\n    // erase CommandSlots\r\n    this.eraseHoles(context);\r\n};\r\n\r\nCommandBlockMorph.prototype.drawBody = function (context) {\r\n    context.fillRect(\r\n        0,\r\n        Math.floor(this.corner),\r\n        this.width(),\r\n        this.height() - Math.floor(this.corner * 3) + 1\r\n    );\r\n};\r\n\r\nCommandBlockMorph.prototype.drawTop = function (context) {\r\n    context.beginPath();\r\n\r\n    // top left:\r\n    context.arc(\r\n        this.corner,\r\n        this.corner,\r\n        this.corner,\r\n        radians(-180),\r\n        radians(-90),\r\n        false\r\n    );\r\n\r\n    // dent:\r\n    this.drawDent(context, 0, 0);\r\n\r\n    // top right:\r\n    context.arc(\r\n        this.width() - this.corner,\r\n        this.corner,\r\n        this.corner,\r\n        radians(-90),\r\n        radians(-0),\r\n        false\r\n    );\r\n\r\n    context.closePath();\r\n    context.fill();\r\n};\r\n\r\nCommandBlockMorph.prototype.drawBottom = function (context) {\r\n    var y = this.height() - (this.corner * 2);\r\n\r\n    context.beginPath();\r\n\r\n    // bottom left:\r\n    context.arc(\r\n        this.corner,\r\n        y,\r\n        this.corner,\r\n        radians(180),\r\n        radians(90),\r\n        true\r\n    );\r\n\r\n    if (!this.isStop()) {\r\n        this.drawDent(context, 0, this.height() - this.corner);\r\n    }\r\n\r\n    // bottom right:\r\n    context.arc(\r\n        this.width() - this.corner,\r\n        y,\r\n        this.corner,\r\n        radians(90),\r\n        radians(0),\r\n        true\r\n    );\r\n\r\n    context.closePath();\r\n    context.fill();\r\n};\r\n\r\nCommandBlockMorph.prototype.drawDent = function (context, x, y) {\r\n    var indent = x + this.corner * 2 + this.inset;\r\n\r\n    context.lineTo(x + this.corner + this.inset, y);\r\n    context.lineTo(indent, y + this.corner);\r\n    context.lineTo(indent + this.dent, y + this.corner);\r\n    context.lineTo(x + this.corner * 3 + this.inset + this.dent, y);\r\n    context.lineTo(this.width() - this.corner, y);\r\n};\r\n\r\nCommandBlockMorph.prototype.drawTopDentEdge = function (context, x, y) {\r\n    var shift = this.edge * 0.5,\r\n        indent = x + this.corner * 2 + this.inset,\r\n        upperGradient,\r\n        lowerGradient,\r\n        leftGradient,\r\n        lgx;\r\n\r\n    context.lineWidth = this.edge;\r\n    context.lineJoin = 'round';\r\n    context.lineCap = 'round';\r\n\r\n    upperGradient = context.createLinearGradient(\r\n        0,\r\n        y,\r\n        0,\r\n        y + this.edge\r\n    );\r\n    upperGradient.addColorStop(0, this.cachedClrBright);\r\n    upperGradient.addColorStop(1, this.cachedClr);\r\n\r\n    context.strokeStyle = upperGradient;\r\n    context.beginPath();\r\n    context.moveTo(this.corner, y + shift);\r\n    context.lineTo(x + this.corner + this.inset, y + shift);\r\n    context.stroke();\r\n\r\n    context.strokeStyle = upperGradient;\r\n    context.beginPath();\r\n    context.moveTo(\r\n        x + this.corner * 3 + this.inset + this.dent + shift,\r\n        y + shift\r\n    );\r\n    context.lineTo(this.width() - this.corner, y + shift);\r\n    context.stroke();\r\n\r\n    lgx = x + this.corner + this.inset;\r\n    leftGradient = context.createLinearGradient(\r\n        lgx - this.edge,\r\n        y + this.edge,\r\n        lgx,\r\n        y\r\n    );\r\n    leftGradient.addColorStop(0, this.cachedClr);\r\n    leftGradient.addColorStop(1, this.cachedClrBright);\r\n\r\n    context.strokeStyle = leftGradient;\r\n    context.beginPath();\r\n    context.moveTo(x + this.corner + this.inset, y + shift);\r\n    context.lineTo(indent, y + this.corner + shift);\r\n    context.stroke();\r\n\r\n    lowerGradient = context.createLinearGradient(\r\n        0,\r\n        y + this.corner,\r\n        0,\r\n        y + this.corner + this.edge\r\n    );\r\n    lowerGradient.addColorStop(0, this.cachedClrBright);\r\n    lowerGradient.addColorStop(1, this.cachedClr);\r\n\r\n    context.strokeStyle = lowerGradient;\r\n    context.beginPath();\r\n    context.moveTo(indent, y + this.corner + shift);\r\n    context.lineTo(indent + this.dent, y + this.corner + shift);\r\n    context.stroke();\r\n};\r\n\r\nCommandBlockMorph.prototype.drawBottomDentEdge = function (context, x, y) {\r\n    var shift = this.edge * 0.5,\r\n        indent = x + this.corner * 2 + this.inset,\r\n        upperGradient,\r\n        lowerGradient,\r\n        rightGradient;\r\n\r\n    context.lineWidth = this.edge;\r\n    context.lineJoin = 'round';\r\n    context.lineCap = 'round';\r\n\r\n    upperGradient = context.createLinearGradient(\r\n        0,\r\n        y - this.edge,\r\n        0,\r\n        y\r\n    );\r\n    upperGradient.addColorStop(0, this.cachedClr);\r\n    upperGradient.addColorStop(1, this.cachedClrDark);\r\n\r\n    context.strokeStyle = upperGradient;\r\n    context.beginPath();\r\n    context.moveTo(this.corner, y - shift);\r\n    if (this.isStop()) {\r\n        context.lineTo(this.width() - this.corner, y - shift);\r\n    } else {\r\n        context.lineTo(x + this.corner + this.inset - shift, y - shift);\r\n    }\r\n    context.stroke();\r\n\r\n    if (this.isStop()) {    // draw straight bottom edge\r\n        return null;\r\n    }\r\n\r\n    lowerGradient = context.createLinearGradient(\r\n        0,\r\n        y + this.corner - this.edge,\r\n        0,\r\n        y + this.corner\r\n    );\r\n    lowerGradient.addColorStop(0, this.cachedClr);\r\n    lowerGradient.addColorStop(1, this.cachedClrDark);\r\n\r\n    context.strokeStyle = lowerGradient;\r\n    context.beginPath();\r\n    context.moveTo(indent + shift, y + this.corner - shift);\r\n    context.lineTo(indent + this.dent, y + this.corner - shift);\r\n    context.stroke();\r\n\r\n    rightGradient = context.createLinearGradient(\r\n        x + indent + this.dent - this.edge,\r\n        y + this.corner - this.edge,\r\n        x + indent + this.dent,\r\n        y + this.corner\r\n    );\r\n    rightGradient.addColorStop(0, this.cachedClr);\r\n    rightGradient.addColorStop(1, this.cachedClrDark);\r\n\r\n    context.strokeStyle = rightGradient;\r\n    context.beginPath();\r\n    context.moveTo(x + indent + this.dent, y + this.corner - shift);\r\n    context.lineTo(\r\n        x + this.corner * 3 + this.inset + this.dent,\r\n        y - shift\r\n    );\r\n    context.stroke();\r\n\r\n    context.strokeStyle = upperGradient;\r\n    context.beginPath();\r\n    context.moveTo(\r\n        x + this.corner * 3 + this.inset + this.dent,\r\n        y - shift\r\n    );\r\n    context.lineTo(this.width() - this.corner, y - shift);\r\n    context.stroke();\r\n};\r\n\r\nCommandBlockMorph.prototype.drawFlatBottomDentEdge = function (context) {\r\n    if (!this.isStop()) {\r\n        context.fillStyle = this.color.darker(this.contrast / 2).toString();\r\n        context.beginPath();\r\n        this.drawDent(context, 0, this.height() - this.corner);\r\n        context.closePath();\r\n        context.fill();\r\n    }\r\n};\r\n\r\nCommandBlockMorph.prototype.drawLeftEdge = function (context) {\r\n    var shift = this.edge * 0.5,\r\n        gradient = context.createLinearGradient(0, 0, this.edge, 0);\r\n\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    gradient.addColorStop(1, this.cachedClr);\r\n\r\n    context.lineWidth = this.edge;\r\n    context.lineJoin = 'round';\r\n    context.lineCap = 'round';\r\n\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(shift, this.corner);\r\n    context.lineTo(shift, this.height() - this.corner * 2 - shift);\r\n    context.stroke();\r\n};\r\n\r\nCommandBlockMorph.prototype.drawRightEdge = function (context) {\r\n    var shift = this.edge * 0.5,\r\n        x = this.width(),\r\n        gradient;\r\n\r\n    gradient = context.createLinearGradient(x - this.edge, 0, x, 0);\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    gradient.addColorStop(1, this.cachedClrDark);\r\n\r\n    context.lineWidth = this.edge;\r\n    context.lineJoin = 'round';\r\n    context.lineCap = 'round';\r\n\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(x - shift, this.corner + shift);\r\n    context.lineTo(x - shift, this.height() - this.corner * 2);\r\n    context.stroke();\r\n};\r\n\r\nCommandBlockMorph.prototype.drawTopLeftEdge = function (context) {\r\n    var shift = this.edge * 0.5,\r\n        gradient;\r\n\r\n    gradient = context.createRadialGradient(\r\n        this.corner,\r\n        this.corner,\r\n        this.corner,\r\n        this.corner,\r\n        this.corner,\r\n        this.corner - this.edge\r\n    );\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    gradient.addColorStop(1, this.cachedClr);\r\n\r\n    context.lineWidth = this.edge;\r\n    context.lineJoin = 'round';\r\n    context.lineCap = 'round';\r\n\r\n    context.strokeStyle = gradient;\r\n\r\n    context.beginPath();\r\n    context.arc(\r\n        this.corner,\r\n        this.corner,\r\n        this.corner - shift,\r\n        radians(-180),\r\n        radians(-90),\r\n        false\r\n    );\r\n    context.stroke();\r\n};\r\n\r\nCommandBlockMorph.prototype.drawBottomRightEdge = function (context) {\r\n    var shift = this.edge * 0.5,\r\n        x = this.width() - this.corner,\r\n        y = this.height() - this.corner * 2,\r\n        gradient;\r\n\r\n    gradient = context.createRadialGradient(\r\n        x,\r\n        y,\r\n        this.corner,\r\n        x,\r\n        y,\r\n        this.corner - this.edge\r\n    );\r\n    gradient.addColorStop(0, this.cachedClrDark);\r\n    gradient.addColorStop(1, this.cachedClr);\r\n\r\n    context.lineWidth = this.edge;\r\n    context.lineJoin = 'round';\r\n    context.lineCap = 'round';\r\n\r\n    context.strokeStyle = gradient;\r\n\r\n    context.beginPath();\r\n    context.arc(\r\n        x,\r\n        y,\r\n        this.corner - shift,\r\n        radians(90),\r\n        radians(0),\r\n        true\r\n    );\r\n    context.stroke();\r\n};\r\n\r\n// HatBlockMorph ///////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a script's top most block. I can attach command blocks at my\r\n    bottom, but not on top.\r\n\r\n*/\r\n\r\n// HatBlockMorph inherits from CommandBlockMorph:\r\n\r\nHatBlockMorph.prototype = new CommandBlockMorph();\r\nHatBlockMorph.prototype.constructor = HatBlockMorph;\r\nHatBlockMorph.uber = CommandBlockMorph.prototype;\r\n\r\n// HatBlockMorph instance creation:\r\n\r\nfunction HatBlockMorph() {\r\n    this.init();\r\n}\r\n\r\nHatBlockMorph.prototype.init = function () {\r\n    HatBlockMorph.uber.init.call(this, true); // silently\r\n    this.setExtent(new Point(300, 150));\r\n};\r\n\r\n// HatBlockMorph enumerating:\r\n\r\nHatBlockMorph.prototype.blockSequence = function () {\r\n    // override my inherited method so that I am not part of my sequence\r\n    var result = HatBlockMorph.uber.blockSequence.call(this);\r\n    result.shift();\r\n    return result;\r\n};\r\n\r\n// HatBlockMorph drawing:\r\n\r\nHatBlockMorph.prototype.drawTop = function (context) {\r\n    var s = this.hatWidth,\r\n        h = this.hatHeight,\r\n        r = ((4 * h * h) + (s * s)) / (8 * h),\r\n        a = degrees(4 * Math.atan(2 * h / s)),\r\n        sa = a / 2,\r\n        sp = Math.min(s * 1.7, this.width() - this.corner);\r\n\r\n    context.beginPath();\r\n\r\n    context.moveTo(0, h + this.corner);\r\n\r\n    // top arc:\r\n    context.arc(\r\n        s / 2,\r\n        r,\r\n        r,\r\n        radians(-sa - 90),\r\n        radians(-90),\r\n        false\r\n    );\r\n    context.bezierCurveTo(\r\n        s,\r\n        0,\r\n        s,\r\n        h,\r\n        sp,\r\n        h\r\n    );\r\n\r\n    // top right:\r\n    context.arc(\r\n        this.width() - this.corner,\r\n        h + this.corner,\r\n        this.corner,\r\n        radians(-90),\r\n        radians(-0),\r\n        false\r\n    );\r\n\r\n    context.closePath();\r\n    context.fill();\r\n};\r\n\r\nHatBlockMorph.prototype.drawBody = function (context) {\r\n    context.fillRect(\r\n        0,\r\n        this.hatHeight + Math.floor(this.corner) - 1,\r\n        this.width(),\r\n        this.height() - Math.floor(this.corner * 3) - this.hatHeight + 2\r\n    );\r\n};\r\n\r\nHatBlockMorph.prototype.drawLeftEdge = function (context) {\r\n    var shift = this.edge * 0.5,\r\n        gradient = context.createLinearGradient(0, 0, this.edge, 0);\r\n\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    gradient.addColorStop(1, this.cachedClr);\r\n\r\n    context.lineWidth = this.edge;\r\n    context.lineJoin = 'round';\r\n    context.lineCap = 'round';\r\n\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(shift, this.hatHeight + shift);\r\n    context.lineTo(shift, this.height() - this.corner * 2 - shift);\r\n    context.stroke();\r\n};\r\n\r\nHatBlockMorph.prototype.drawRightEdge = function (context) {\r\n    var shift = this.edge * 0.5,\r\n        x = this.width(),\r\n        gradient;\r\n\r\n    gradient = context.createLinearGradient(x - this.edge, 0, x, 0);\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    gradient.addColorStop(1, this.cachedClrDark);\r\n\r\n    context.lineWidth = this.edge;\r\n    context.lineJoin = 'round';\r\n    context.lineCap = 'round';\r\n\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(x - shift, this.corner + this.hatHeight + shift);\r\n    context.lineTo(x - shift, this.height() - this.corner * 2);\r\n    context.stroke();\r\n};\r\n\r\nHatBlockMorph.prototype.drawTopDentEdge = function () {\r\n    return null;\r\n};\r\n\r\nHatBlockMorph.prototype.drawTopLeftEdge = function (context) {\r\n    var shift = this.edge * 0.5,\r\n        s = this.hatWidth,\r\n        h = this.hatHeight,\r\n        r = ((4 * h * h) + (s * s)) / (8 * h),\r\n        a = degrees(4 * Math.atan(2 * h / s)),\r\n        sa = a / 2,\r\n        sp = Math.min(s * 1.7, this.width() - this.corner),\r\n        gradient;\r\n\r\n    gradient = context.createRadialGradient(\r\n        s / 2,\r\n        r,\r\n        r - this.edge,\r\n        s / 2,\r\n        r,\r\n        r\r\n    );\r\n    gradient.addColorStop(1, this.cachedClrBright);\r\n    gradient.addColorStop(0, this.cachedClr);\r\n\r\n    context.lineWidth = this.edge;\r\n    context.lineJoin = 'round';\r\n    context.lineCap = 'round';\r\n\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.arc(\r\n        Math.round(s / 2),\r\n        r,\r\n        r - shift,\r\n        radians(-sa - 90),\r\n        radians(-90),\r\n        false\r\n    );\r\n    context.moveTo(s / 2, shift);\r\n    context.bezierCurveTo(\r\n        s,\r\n        shift,\r\n        s,\r\n        h + shift,\r\n        sp,\r\n        h + shift\r\n    );\r\n    context.lineTo(this.width() - this.corner, h + shift);\r\n    context.stroke();\r\n};\r\n\r\n// ReporterBlockMorph //////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a block with a return value, either round-ish or diamond shaped\r\n    I inherit all my important accessors from BlockMorph\r\n*/\r\n\r\n// ReporterBlockMorph inherits from BlockMorph:\r\n\r\nReporterBlockMorph.prototype = new BlockMorph();\r\nReporterBlockMorph.prototype.constructor = ReporterBlockMorph;\r\nReporterBlockMorph.uber = BlockMorph.prototype;\r\n\r\n// ReporterBlockMorph instance creation:\r\n\r\nfunction ReporterBlockMorph(isPredicate) {\r\n    this.init(isPredicate);\r\n}\r\n\r\nReporterBlockMorph.prototype.init = function (isPredicate, silently) {\r\n    ReporterBlockMorph.uber.init.call(this, silently);\r\n    this.isPredicate = isPredicate || false;\r\n    this.setExtent(new Point(200, 80), silently);\r\n    this.cachedSlotSpec = null; // don't serialize\r\n};\r\n\r\n// ReporterBlockMorph drag & drop:\r\n\r\nReporterBlockMorph.prototype.snap = function (hand) {\r\n    // passing the hand is optional (for when blocks are dragged & dropped)\r\n    var scripts = this.parent,\r\n        nb,\r\n        target;\r\n\r\n    this.cachedSlotSpec = null;\r\n    if (!(scripts instanceof ScriptsMorph)) {\r\n        return null;\r\n    }\r\n\r\n    scripts.clearDropInfo();\r\n    scripts.lastDroppedBlock = this;\r\n\r\n    target = scripts.closestInput(this, hand);\r\n    if (target !== null) {\r\n        scripts.lastReplacedInput = target;\r\n        scripts.lastDropTarget = target.parent;\r\n        if (target instanceof MultiArgMorph) {\r\n            scripts.lastPreservedBlocks = target.inputs();\r\n            scripts.lastReplacedInput = target.fullCopy();\r\n        } else if (target instanceof CommandSlotMorph) {\r\n            scripts.lastReplacedInput = target;\r\n            nb = target.nestedBlock();\r\n            if (nb) {\r\n                nb = nb.fullCopy();\r\n                scripts.add(nb);\r\n                nb.moveBy(nb.extent());\r\n                nb.fixBlockColor();\r\n                scripts.lastPreservedBlocks = [nb];\r\n            }\r\n        }\r\n        target.parent.replaceInput(target, this);\r\n        if (this.snapSound) {\r\n            this.snapSound.play();\r\n        }\r\n    }\r\n    this.startLayout();\r\n    this.fixBlockColor();\r\n    this.endLayout();\r\n    ReporterBlockMorph.uber.snap.call(this);\r\n    if (hand) {\r\n        scripts.recordDrop(hand.grabOrigin);\r\n    }\r\n};\r\n\r\nReporterBlockMorph.prototype.prepareToBeGrabbed = function (handMorph) {\r\n    var oldPos = this.position();\r\n\r\n    nop(handMorph);\r\n    if ((this.parent instanceof BlockMorph)\r\n            || (this.parent instanceof MultiArgMorph)\r\n            || (this.parent instanceof ReporterSlotMorph)) {\r\n        this.parent.revertToDefaultInput(this);\r\n        this.setPosition(oldPos);\r\n    }\r\n    ReporterBlockMorph.uber.prepareToBeGrabbed.call(this, handMorph);\r\n    this.alpha = 0.85;\r\n    this.cachedSlotSpec = null;\r\n};\r\n\r\n// ReporterBlockMorph enumerating\r\n\r\nReporterBlockMorph.prototype.blockSequence = function () {\r\n    // reporters don't have a sequence, answer myself\r\n    return this;\r\n};\r\n\r\n// ReporterBlockMorph evaluating\r\n\r\nReporterBlockMorph.prototype.isUnevaluated = function () {\r\n    // answer whether my parent block's slot is designated to be of an\r\n    // 'unevaluated' kind, denoting a spedial form\r\n    var spec = this.getSlotSpec();\r\n    return spec === '%anyUE' ||\r\n        spec === '%boolUE' ||\r\n        spec === '%f';\r\n};\r\n\r\nReporterBlockMorph.prototype.isLocked = function () {\r\n    // answer true if I can be exchanged by a dropped reporter\r\n    return this.isStatic || (this.getSlotSpec() === '%t');\r\n};\r\n\r\nReporterBlockMorph.prototype.getSlotSpec = function () {\r\n    // answer the spec of the slot I'm in, if any\r\n    // cached for performance\r\n    if (!this.cachedSlotSpec) {\r\n        this.cachedSlotSpec = this.determineSlotSpec();\r\n    }\r\n    return this.cachedSlotSpec;\r\n};\r\n\r\nReporterBlockMorph.prototype.determineSlotSpec = function () {\r\n    // private - answer the spec of the slot I'm in, if any\r\n    var parts, idx;\r\n    if (this.parent instanceof BlockMorph) {\r\n        parts = this.parent.parts().filter(\r\n            function (part) {\r\n                return !(part instanceof BlockHighlightMorph);\r\n            }\r\n        );\r\n        idx = parts.indexOf(this);\r\n        if (idx !== -1) {\r\n            if (this.parent.blockSpec) {\r\n                return this.parseSpec(this.parent.blockSpec)[idx];\r\n            }\r\n        }\r\n    }\r\n    if (this.parent instanceof MultiArgMorph) {\r\n        return this.parent.slotSpec;\r\n    }\r\n    if (this.parent instanceof TemplateSlotMorph) {\r\n        return this.parent.getSpec();\r\n    }\r\n    return null;\r\n};\r\n\r\n// ReporterBlockMorph events\r\n\r\nReporterBlockMorph.prototype.mouseClickLeft = function (pos) {\r\n    var label;\r\n    if (this.parent instanceof BlockInputFragmentMorph) {\r\n        return this.parent.mouseClickLeft();\r\n    }\r\n    if (this.parent instanceof TemplateSlotMorph) {\r\n        if (this.parent.parent && this.parent.parent.parent &&\r\n                this.parent.parent.parent instanceof RingMorph) {\r\n            label = \"Input name\";\r\n        } else if (this.parent.parent.elementSpec === '%blockVars') {\r\n            label = \"Block variable name\";\r\n        } else {\r\n            label = \"Script variable name\";\r\n        }\r\n        new DialogBoxMorph(\r\n            this,\r\n            this.userSetSpec,\r\n            this\r\n        ).prompt(\r\n            label,\r\n            this.blockSpec,\r\n            this.world()\r\n        );\r\n    } else {\r\n        ReporterBlockMorph.uber.mouseClickLeft.call(this, pos);\r\n    }\r\n};\r\n\r\n// ReporterBlock exporting picture with result bubble\r\n\r\nReporterBlockMorph.prototype.exportResultPic = function () {\r\n    var top = this.topBlock(),\r\n        receiver = top.scriptTarget(),\r\n        stage;\r\n    if (top !== this) {return; }\r\n    if (receiver) {\r\n        stage = receiver.parentThatIsA(StageMorph);\r\n        if (stage) {\r\n            stage.threads.stopProcess(top);\r\n            stage.threads.startProcess(top, receiver, false, true);\r\n        }\r\n    }\r\n};\r\n\r\n// ReporterBlockMorph deleting\r\n\r\nReporterBlockMorph.prototype.userDestroy = function () {\r\n    // make sure to restore default slot of parent block\r\n    var target = this.selectForEdit(); // enable copy-on-edit\r\n    if (target !== this) {\r\n        return this.userDestroy.call(target);\r\n    }\r\n\r\n    // for undrop / redrop\r\n    var scripts = this.parentThatIsA(ScriptsMorph);\r\n    if (scripts) {\r\n        scripts.clearDropInfo();\r\n        scripts.lastDroppedBlock = this;\r\n        scripts.recordDrop(this.situation());\r\n        scripts.dropRecord.action = 'delete';\r\n    }\r\n\r\n    this.topBlock().fullChanged();\r\n    this.prepareToBeGrabbed(this.world().hand);\r\n    this.destroy();\r\n};\r\n\r\n// ReporterBlockMorph drawing:\r\n\r\nReporterBlockMorph.prototype.drawNew = function () {\r\n    var context;\r\n    this.cachedClr = this.color.toString();\r\n    this.cachedClrBright = this.bright();\r\n    this.cachedClrDark = this.dark();\r\n    this.image = newCanvas(this.extent());\r\n    context = this.image.getContext('2d');\r\n    context.fillStyle = this.cachedClr;\r\n\r\n    if (this.isPredicate) {\r\n        this.drawDiamond(context);\r\n    } else {\r\n        this.drawRounded(context);\r\n    }\r\n\r\n    // draw method icon if applicable\r\n    if (this.isCustomBlock && !this.isGlobal) {\r\n        this.drawMethodIcon(context);\r\n    }\r\n    // erase CommandSlots\r\n    this.eraseHoles(context);\r\n};\r\n\r\nReporterBlockMorph.prototype.drawRounded = function (context) {\r\n    var h = this.height(),\r\n        r = Math.min(this.rounding, h / 2),\r\n        w = this.width(),\r\n        shift = this.edge / 2,\r\n        gradient;\r\n\r\n    // draw the 'flat' shape:\r\n    context.fillStyle = this.cachedClr;\r\n    context.beginPath();\r\n\r\n    // top left:\r\n    context.arc(\r\n        r,\r\n        r,\r\n        r,\r\n        radians(-180),\r\n        radians(-90),\r\n        false\r\n    );\r\n\r\n    // top right:\r\n    context.arc(\r\n        w - r,\r\n        r,\r\n        r,\r\n        radians(-90),\r\n        radians(-0),\r\n        false\r\n    );\r\n\r\n    // bottom right:\r\n    context.arc(\r\n        w - r,\r\n        h - r,\r\n        r,\r\n        radians(0),\r\n        radians(90),\r\n        false\r\n    );\r\n\r\n    // bottom left:\r\n    context.arc(\r\n        r,\r\n        h - r,\r\n        r,\r\n        radians(90),\r\n        radians(180),\r\n        false\r\n    );\r\n\r\n    context.closePath();\r\n    context.fill();\r\n\r\n    if (MorphicPreferences.isFlat) {return; }\r\n\r\n    // add 3D-Effect:\r\n    context.lineWidth = this.edge;\r\n    context.lineJoin = 'round';\r\n    context.lineCap = 'round';\r\n\r\n    // half-tone edges\r\n    // bottem left corner\r\n    gradient = context.createRadialGradient(\r\n        r,\r\n        h - r,\r\n        r - this.edge,\r\n        r,\r\n        h - r,\r\n        r + this.edge\r\n    );\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    gradient.addColorStop(1, this.cachedClrBright);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.arc(\r\n        r,\r\n        h - r,\r\n        r - shift,\r\n        radians(90),\r\n        radians(180),\r\n        false\r\n    );\r\n    context.stroke();\r\n\r\n    // top right corner\r\n    gradient = context.createRadialGradient(\r\n        w - r,\r\n        r,\r\n        r - this.edge,\r\n        w - r,\r\n        r,\r\n        r + this.edge\r\n    );\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    gradient.addColorStop(1, this.cachedClrDark);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.arc(\r\n        w - r,\r\n        r,\r\n        r - shift,\r\n        radians(-90),\r\n        radians(0),\r\n        false\r\n    );\r\n    context.stroke();\r\n\r\n    // normal gradient edges\r\n\r\n    // top edge: straight line\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        0,\r\n        0,\r\n        this.edge\r\n    );\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    gradient.addColorStop(1, this.cachedClr);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(r - shift, shift);\r\n    context.lineTo(w - r + shift, shift);\r\n    context.stroke();\r\n\r\n    // top edge: left corner\r\n    gradient = context.createRadialGradient(\r\n        r,\r\n        r,\r\n        r - this.edge,\r\n        r,\r\n        r,\r\n        r\r\n    );\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    gradient.addColorStop(1, this.cachedClrBright);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.arc(\r\n        r,\r\n        r,\r\n        r - shift,\r\n        radians(180),\r\n        radians(270),\r\n        false\r\n    );\r\n    context.stroke();\r\n\r\n    // bottom edge: right corner\r\n    gradient = context.createRadialGradient(\r\n        w - r,\r\n        h - r,\r\n        r - this.edge,\r\n        w - r,\r\n        h - r,\r\n        r\r\n    );\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    gradient.addColorStop(1, this.cachedClrDark);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.arc(\r\n        w - r,\r\n        h - r,\r\n        r - shift,\r\n        radians(0),\r\n        radians(90),\r\n        false\r\n    );\r\n    context.stroke();\r\n\r\n    // bottom edge: straight line\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        h - this.edge,\r\n        0,\r\n        h\r\n    );\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    gradient.addColorStop(1, this.cachedClrDark);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(r - shift, h - shift);\r\n    context.lineTo(w - r + shift, h - shift);\r\n    context.stroke();\r\n\r\n    // left edge: straight vertical line\r\n    gradient = context.createLinearGradient(0, 0, this.edge, 0);\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    gradient.addColorStop(1, this.cachedClr);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(shift, r);\r\n    context.lineTo(shift, h - r);\r\n    context.stroke();\r\n\r\n    // right edge: straight vertical line\r\n    gradient = context.createLinearGradient(w - this.edge, 0, w, 0);\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    gradient.addColorStop(1, this.cachedClrDark);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(w - shift, r + shift);\r\n    context.lineTo(w - shift, h - r);\r\n    context.stroke();\r\n\r\n};\r\n\r\nReporterBlockMorph.prototype.drawDiamond = function (context) {\r\n    var w = this.width(),\r\n        h = this.height(),\r\n        h2 = Math.floor(h / 2),\r\n        r = this.rounding,\r\n        shift = this.edge / 2,\r\n        gradient;\r\n\r\n    // draw the 'flat' shape:\r\n    context.fillStyle = this.cachedClr;\r\n    context.beginPath();\r\n\r\n    context.moveTo(0, h2);\r\n    context.lineTo(r, 0);\r\n    context.lineTo(w - r, 0);\r\n    context.lineTo(w, h2);\r\n    context.lineTo(w - r, h);\r\n    context.lineTo(r, h);\r\n\r\n    context.closePath();\r\n    context.fill();\r\n\r\n    if (MorphicPreferences.isFlat) {return; }\r\n\r\n    // add 3D-Effect:\r\n    context.lineWidth = this.edge;\r\n    context.lineJoin = 'round';\r\n    context.lineCap = 'round';\r\n\r\n    // half-tone edges\r\n    // bottom left corner\r\n    gradient = context.createLinearGradient(\r\n        -r,\r\n        0,\r\n        r,\r\n        0\r\n    );\r\n    gradient.addColorStop(1, this.cachedClr);\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(shift, h2);\r\n    context.lineTo(r, h - shift);\r\n    context.closePath();\r\n    context.stroke();\r\n\r\n    // top right corner\r\n    gradient = context.createLinearGradient(\r\n        w - r,\r\n        0,\r\n        w + r,\r\n        0\r\n    );\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    gradient.addColorStop(1, this.cachedClrDark);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(w - shift, h2);\r\n    context.lineTo(w - r, shift);\r\n    context.closePath();\r\n    context.stroke();\r\n\r\n    // normal gradient edges\r\n    // top edge: left corner\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        0,\r\n        r,\r\n        0\r\n    );\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    gradient.addColorStop(1, this.cachedClr);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(shift, h2);\r\n    context.lineTo(r, shift);\r\n    context.closePath();\r\n    context.stroke();\r\n\r\n    // top edge: straight line\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        0,\r\n        0,\r\n        this.edge\r\n    );\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    gradient.addColorStop(1, this.cachedClr);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(r, shift);\r\n    context.lineTo(w - r, shift);\r\n    context.closePath();\r\n    context.stroke();\r\n\r\n    // bottom edge: right corner\r\n    gradient = context.createLinearGradient(\r\n        w - r,\r\n        0,\r\n        w,\r\n        0\r\n    );\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    gradient.addColorStop(1, this.cachedClrDark);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(w - r, h - shift);\r\n    context.lineTo(w - shift, h2);\r\n    context.closePath();\r\n    context.stroke();\r\n\r\n    // bottom edge: straight line\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        h - this.edge,\r\n        0,\r\n        h\r\n    );\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    gradient.addColorStop(1, this.cachedClrDark);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(r + shift, h - shift);\r\n    context.lineTo(w - r - shift, h - shift);\r\n    context.closePath();\r\n    context.stroke();\r\n};\r\n\r\n// RingMorph /////////////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a reporter block which reifies its contents, my outer shape is\r\n    always roundish (never diamond)\r\n*/\r\n\r\n// RingMorph inherits from ReporterBlockMorph:\r\n\r\nRingMorph.prototype = new ReporterBlockMorph();\r\nRingMorph.prototype.constructor = RingMorph;\r\nRingMorph.uber = ReporterBlockMorph.prototype;\r\n\r\n// RingMorph preferences settings:\r\n\r\nRingMorph.prototype.isCachingInputs = false;\r\n// RingMorph.prototype.edge = 2;\r\n// RingMorph.prototype.rounding = 9;\r\n// RingMorph.prototype.alpha = 0.8;\r\n// RingMorph.prototype.contrast = 85;\r\n\r\n// RingMorph instance creation:\r\n\r\nfunction RingMorph() {\r\n    this.init();\r\n}\r\n\r\nRingMorph.prototype.init = function () {\r\n    RingMorph.uber.init.call(this);\r\n    this.category = 'other';\r\n    this.alpha = RingMorph.prototype.alpha;\r\n    this.contrast = RingMorph.prototype.contrast;\r\n    this.setExtent(new Point(200, 80));\r\n};\r\n\r\n// RingMorph dragging and dropping\r\n\r\nRingMorph.prototype.rootForGrab = function () {\r\n    if (this.isDraggable) {\r\n        return this;\r\n    }\r\n    return BlockMorph.uber.rootForGrab.call(this);\r\n};\r\n\r\n// RingMorph ops - Note: these assume certain layouts defined elsewhere -\r\n\r\nRingMorph.prototype.embed = function (aBlock, inputNames) {\r\n    var slot;\r\n\r\n    // set my color\r\n    this.color = SpriteMorph.prototype.blockColor.other;\r\n    this.isDraggable = true;\r\n\r\n    // set my type, selector, and nested block:\r\n    if (aBlock instanceof CommandBlockMorph) {\r\n        this.isStatic = false;\r\n        this.setSpec('%rc %ringparms');\r\n        this.selector = 'reifyScript';\r\n        slot = this.parts()[0];\r\n        slot.nestedBlock(aBlock);\r\n    } else if (aBlock.isPredicate) {\r\n        this.isStatic = true;\r\n        this.setSpec('%rp %ringparms');\r\n        this.selector = 'reifyPredicate';\r\n        slot = this.parts()[0];\r\n        slot.silentReplaceInput(slot.contents(), aBlock);\r\n    } else if (aBlock instanceof BooleanSlotMorph) {\r\n        this.isStatic = false;\r\n        this.setSpec('%rp %ringparms');\r\n        this.selector = 'reifyPredicate';\r\n        slot = this.parts()[0];\r\n        slot.silentReplaceInput(slot.contents(), aBlock);\r\n    } else { // reporter or input slot)\r\n        this.isStatic = false;\r\n        this.setSpec('%rr %ringparms');\r\n        this.selector = 'reifyReporter';\r\n        slot = this.parts()[0];\r\n        slot.silentReplaceInput(slot.contents(), aBlock);\r\n    }\r\n\r\n    // set my inputs, if any\r\n    slot = this.parts()[1];\r\n    if (inputNames) {\r\n        inputNames.forEach(function (name) {\r\n            slot.addInput(name);\r\n        });\r\n    }\r\n\r\n    // ensure zebra coloring\r\n    this.fixBlockColor(null, true);\r\n};\r\n\r\nRingMorph.prototype.vanishForSimilar = function () {\r\n    // let me disappear if I am nesting a variable getter or Ring\r\n    // but only if I'm not already inside another ring\r\n    var slot = this.parts()[0],\r\n        block = slot.nestedBlock();\r\n\r\n    if (!block) {return null; }\r\n    if (!(this.parent instanceof SyntaxElementMorph)) {return null; }\r\n    if (this.parent instanceof RingReporterSlotMorph\r\n            || (this.parent instanceof RingCommandSlotMorph)) {\r\n        return null;\r\n    }\r\n    if (block.selector === 'reportGetVar' ||\r\n        block.selector === 'reportJSFunction' ||\r\n        (block instanceof RingMorph)\r\n    ) {\r\n        this.parent.silentReplaceInput(this, block);\r\n    }\r\n};\r\n\r\nRingMorph.prototype.contents = function () {\r\n    return this.parts()[0].nestedBlock();\r\n};\r\n\r\nRingMorph.prototype.inputNames = function () {\r\n    return this.parts()[1].evaluate();\r\n};\r\n\r\nRingMorph.prototype.dataType = function () {\r\n    switch (this.selector) {\r\n    case 'reifyScript':\r\n        return 'command';\r\n    case 'reifyPredicate':\r\n        return 'predicate';\r\n    default:\r\n        return 'reporter';\r\n    }\r\n};\r\n\r\n// RingMorph zebra coloring\r\n\r\nRingMorph.prototype.fixBlockColor = function (nearest, isForced) {\r\n    var slot = this.parts()[0];\r\n    RingMorph.uber.fixBlockColor.call(this, nearest, isForced);\r\n    slot.fixLayout();\r\n};\r\n\r\n// ScriptsMorph ////////////////////////////////////////////////////////\r\n\r\n/*\r\n    I give feedback about possible drop targets and am in charge\r\n    of actually snapping blocks together.\r\n\r\n    My children are the top blocks of scripts.\r\n\r\n    I store a back-pointer to my owner, i.e. the object (sprite)\r\n    to whom my scripts apply.\r\n*/\r\n\r\n// ScriptsMorph inherits from FrameMorph:\r\n\r\nScriptsMorph.prototype = new FrameMorph();\r\nScriptsMorph.prototype.constructor = ScriptsMorph;\r\nScriptsMorph.uber = FrameMorph.prototype;\r\n\r\n// ScriptsMorph preference settings\r\n\r\nScriptsMorph.prototype.cleanUpMargin = 20;\r\nScriptsMorph.prototype.cleanUpSpacing = 15;\r\nScriptsMorph.prototype.isPreferringEmptySlots = true;\r\nScriptsMorph.prototype.enableKeyboard = true;\r\nScriptsMorph.prototype.enableNestedAutoWrapping = true;\r\n\r\n// ScriptsMorph instance creation:\r\n\r\nfunction ScriptsMorph() {\r\n    this.init();\r\n}\r\n\r\nScriptsMorph.prototype.init = function () {\r\n    this.feedbackColor = SyntaxElementMorph.prototype.feedbackColor;\r\n    this.feedbackMorph = new BoxMorph();\r\n    this.rejectsHats = false;\r\n\r\n    // \"undrop\" attributes:\r\n    this.lastDroppedBlock = null;\r\n    this.lastReplacedInput = null;\r\n    this.lastDropTarget = null;\r\n    this.lastPreservedBlocks = null;\r\n    this.lastNextBlock = null;\r\n    this.lastWrapParent = null;\r\n\r\n    // keyboard editing support:\r\n    this.focus = null;\r\n\r\n    ScriptsMorph.uber.init.call(this);\r\n    this.setColor(new Color(70, 70, 70));\r\n    this.noticesTransparentClick = true;\r\n\r\n    // initialize \"undrop\" queue\r\n    this.isAnimating = false;\r\n    this.dropRecord = null;\r\n    this.recordDrop();\r\n};\r\n\r\n// ScriptsMorph deep copying:\r\n\r\nScriptsMorph.prototype.fullCopy = function () {\r\n    var cpy = new ScriptsMorph(),\r\n        pos = this.position(),\r\n        child;\r\n    if (this.focus) {\r\n        this.focus.stopEditing();\r\n    }\r\n    this.children.forEach(function (morph) {\r\n        if (!morph.block) { // omit anchored comments\r\n            child = morph.fullCopy();\r\n            cpy.add(child);\r\n            child.setPosition(morph.position().subtract(pos));\r\n            if (child instanceof BlockMorph) {\r\n                child.allComments().forEach(function (comment) {\r\n                    comment.align(child);\r\n                });\r\n            }\r\n        }\r\n    });\r\n    cpy.adjustBounds();\r\n    return cpy;\r\n};\r\n\r\n// ScriptsMorph stepping:\r\n\r\nScriptsMorph.prototype.step = function () {\r\n    var world = this.world(),\r\n        hand = world.hand,\r\n        block;\r\n\r\n    if (this.feedbackMorph.parent) {\r\n        this.feedbackMorph.destroy();\r\n        this.feedbackMorph.parent = null;\r\n    }\r\n    if (this.focus && (!world.keyboardReceiver ||\r\n            world.keyboardReceiver instanceof StageMorph)) {\r\n        this.focus.getFocus(world);\r\n    }\r\n    if (hand.children.length === 0) {\r\n        return null;\r\n    }\r\n    if (!this.bounds.containsPoint(hand.bounds.origin)) {\r\n        return null;\r\n    }\r\n    block = hand.children[0];\r\n    if (!(block instanceof BlockMorph) && !(block instanceof CommentMorph)) {\r\n        return null;\r\n    }\r\n    if (!contains(hand.morphAtPointer().allParents(), this)) {\r\n        return null;\r\n    }\r\n    if (block instanceof CommentMorph) {\r\n        this.showCommentDropFeedback(block, hand);\r\n    } else if (block instanceof ReporterBlockMorph) {\r\n        this.showReporterDropFeedback(block, hand);\r\n    } else {\r\n        this.showCommandDropFeedback(block);\r\n    }\r\n};\r\n\r\nScriptsMorph.prototype.showReporterDropFeedback = function (block, hand) {\r\n    var target = this.closestInput(block, hand);\r\n\r\n    if (target === null) {\r\n        return null;\r\n    }\r\n    this.feedbackMorph.bounds = target.fullBounds()\r\n        .expandBy(Math.max(\r\n            block.edge * 2,\r\n            block.reporterDropFeedbackPadding\r\n        ));\r\n    this.feedbackMorph.edge = SyntaxElementMorph.prototype.rounding;\r\n    this.feedbackMorph.border = Math.max(\r\n        SyntaxElementMorph.prototype.edge,\r\n        3\r\n    );\r\n    this.add(this.feedbackMorph);\r\n    if (target instanceof MultiArgMorph) {\r\n        this.feedbackMorph.color =\r\n            SpriteMorph.prototype.blockColor.lists.copy();\r\n        this.feedbackMorph.borderColor =\r\n            SpriteMorph.prototype.blockColor.lists;\r\n    } else {\r\n        this.feedbackMorph.color = this.feedbackColor.copy();\r\n        this.feedbackMorph.borderColor = this.feedbackColor;\r\n    }\r\n    this.feedbackMorph.color.a = 0.5;\r\n    this.feedbackMorph.drawNew();\r\n    this.feedbackMorph.changed();\r\n};\r\n\r\nScriptsMorph.prototype.showCommandDropFeedback = function (block) {\r\n    var y, target;\r\n\r\n    target = block.closestAttachTarget(this);\r\n    if (!target) {\r\n        return null;\r\n    }\r\n    if (target.loc === 'wrap') {\r\n        this.showCSlotWrapFeedback(block, target.element);\r\n        return;\r\n    }\r\n    this.add(this.feedbackMorph);\r\n    this.feedbackMorph.border = 0;\r\n    this.feedbackMorph.edge = 0;\r\n    this.feedbackMorph.alpha = 1;\r\n    this.feedbackMorph.setExtent(new Point(\r\n        target.element.width(),\r\n        Math.max(\r\n            SyntaxElementMorph.prototype.corner,\r\n            SyntaxElementMorph.prototype.feedbackMinHeight\r\n        )\r\n    ));\r\n    this.feedbackMorph.color = this.feedbackColor;\r\n    this.feedbackMorph.drawNew();\r\n    this.feedbackMorph.changed();\r\n    y = target.point.y;\r\n    if (target.loc === 'bottom') {\r\n        if (target.type === 'block') {\r\n            if (target.element.nextBlock()) {\r\n                y -= SyntaxElementMorph.prototype.corner;\r\n            }\r\n        } else if (target.type === 'slot') {\r\n            if (target.element.nestedBlock()) {\r\n                y -= SyntaxElementMorph.prototype.corner;\r\n            }\r\n        }\r\n    }\r\n    this.feedbackMorph.setPosition(new Point(\r\n        target.element.left(),\r\n        y\r\n    ));\r\n};\r\n\r\nScriptsMorph.prototype.showCommentDropFeedback = function (comment, hand) {\r\n    var target = this.closestBlock(comment, hand);\r\n    if (!target) {\r\n        return null;\r\n    }\r\n\r\n    this.feedbackMorph.bounds = target.bounds\r\n        .expandBy(Math.max(\r\n            BlockMorph.prototype.edge * 2,\r\n            BlockMorph.prototype.reporterDropFeedbackPadding\r\n        ));\r\n    this.feedbackMorph.edge = SyntaxElementMorph.prototype.rounding;\r\n    this.feedbackMorph.border = Math.max(\r\n        SyntaxElementMorph.prototype.edge,\r\n        3\r\n    );\r\n    this.add(this.feedbackMorph);\r\n    this.feedbackMorph.color = comment.color.copy();\r\n    this.feedbackMorph.color.a = 0.25;\r\n    this.feedbackMorph.borderColor = comment.titleBar.color;\r\n    this.feedbackMorph.drawNew();\r\n    this.feedbackMorph.changed();\r\n};\r\n\r\nScriptsMorph.prototype.showCSlotWrapFeedback = function (srcBlock, trgBlock) {\r\n    var clr;\r\n    this.feedbackMorph.bounds = trgBlock.fullBounds()\r\n        .expandBy(BlockMorph.prototype.corner);\r\n    this.feedbackMorph.edge = SyntaxElementMorph.prototype.corner;\r\n    this.feedbackMorph.border = Math.max(\r\n        SyntaxElementMorph.prototype.edge,\r\n        3\r\n    );\r\n    this.add(this.feedbackMorph);\r\n    clr = srcBlock.color.lighter(40);\r\n    this.feedbackMorph.color = clr.copy();\r\n    this.feedbackMorph.color.a = 0.1;\r\n    this.feedbackMorph.borderColor = clr;\r\n    this.feedbackMorph.drawNew();\r\n    this.feedbackMorph.changed();\r\n};\r\n\r\nScriptsMorph.prototype.closestInput = function (reporter, hand) {\r\n    // passing the hand is optional (when dragging reporters)\r\n    var fb = reporter.fullBoundsNoShadow(),\r\n        stacks = this.children.filter(function (child) {\r\n            return (child instanceof BlockMorph) &&\r\n                (child.fullBounds().intersects(fb));\r\n        }),\r\n        blackList = reporter.allInputs(),\r\n        handPos,\r\n        target,\r\n        all;\r\n\r\n    all = [];\r\n    stacks.forEach(function (stack) {\r\n        all = all.concat(stack.allInputs());\r\n    });\r\n    if (all.length === 0) {return null; }\r\n\r\n    function touchingVariadicArrowsIfAny(inp, point) {\r\n        if (inp instanceof MultiArgMorph) {\r\n            if (point) {\r\n                return inp.arrows().bounds.containsPoint(point);\r\n            }\r\n            return inp.arrows().bounds.intersects(fb);\r\n        }\r\n        return true;\r\n    }\r\n\r\n    if (this.isPreferringEmptySlots) {\r\n        if (hand) {\r\n            handPos = hand.position();\r\n            target = detect(\r\n                all,\r\n                function (input) {\r\n                    return (input instanceof InputSlotMorph\r\n                            || (input instanceof ArgMorph\r\n                                && !(input instanceof CommandSlotMorph)\r\n                                && !(input instanceof MultiArgMorph))\r\n                            || (input instanceof RingMorph\r\n                                && !input.contents())\r\n                            || input.isEmptySlot())\r\n                        && !input.isLocked()\r\n                        && input.bounds.containsPoint(handPos)\r\n                        && !contains(blackList, input);\r\n                }\r\n            );\r\n            if (target) {\r\n                return target;\r\n            }\r\n        }\r\n        target = detect(\r\n            all,\r\n            function (input) {\r\n                return (input instanceof InputSlotMorph\r\n                        || input instanceof ArgMorph\r\n                        || (input instanceof RingMorph\r\n                            && !input.contents())\r\n                        || input.isEmptySlot())\r\n                    && !input.isLocked()\r\n                    && input.bounds.intersects(fb)\r\n                    && !contains(blackList, input)\r\n                    && touchingVariadicArrowsIfAny(input);\r\n            }\r\n        );\r\n        if (target) {\r\n            return target;\r\n        }\r\n    }\r\n\r\n    if (hand) {\r\n        handPos = hand.position();\r\n        target = detect(\r\n            all,\r\n            function (input) {\r\n                return (input !== reporter)\r\n                    && !input.isLocked()\r\n                    && input.bounds.containsPoint(handPos)\r\n                    && !(input.parent instanceof PrototypeHatBlockMorph)\r\n                    && !contains(blackList, input);\r\n            }\r\n        );\r\n        if (target) {\r\n            return target;\r\n        }\r\n    }\r\n    return detect(\r\n        all,\r\n        function (input) {\r\n            return (input !== reporter)\r\n                && !input.isLocked()\r\n                && input.fullBounds().intersects(fb)\r\n                && !(input.parent instanceof PrototypeHatBlockMorph)\r\n                && !contains(blackList, input);\r\n        }\r\n    );\r\n};\r\n\r\nScriptsMorph.prototype.closestBlock = function (comment, hand) {\r\n    // passing the hand is optional (when dragging comments)\r\n    var fb = comment.bounds,\r\n        stacks = this.children.filter(function (child) {\r\n            return (child instanceof BlockMorph) &&\r\n                (child.fullBounds().intersects(fb));\r\n        }),\r\n        handPos,\r\n        target,\r\n        all;\r\n\r\n    all = [];\r\n    stacks.forEach(function (stack) {\r\n        all = all.concat(stack.allChildren().slice(0).reverse().filter(\r\n            function (child) {return child instanceof BlockMorph &&\r\n                !child.isTemplate; }\r\n        ));\r\n    });\r\n    if (all.length === 0) {return null; }\r\n\r\n    if (hand) {\r\n        handPos = hand.position();\r\n        target = detect(\r\n            all,\r\n            function (block) {\r\n                return !block.comment\r\n                    && !block.isPrototype\r\n                    && block.bounds.containsPoint(handPos);\r\n            }\r\n        );\r\n        if (target) {\r\n            return target;\r\n        }\r\n    }\r\n    return detect(\r\n        all,\r\n        function (block) {\r\n            return !block.comment\r\n                && !block.isPrototype\r\n                && block.bounds.intersects(fb);\r\n        }\r\n    );\r\n};\r\n\r\n// ScriptsMorph user menu\r\n\r\nScriptsMorph.prototype.userMenu = function () {\r\n    var menu = new MenuMorph(this),\r\n        ide = this.parentThatIsA(IDE_Morph),\r\n        shiftClicked = this.world().currentKey === 16,\r\n        blockEditor,\r\n        myself = this,\r\n        obj = this.scriptTarget(),\r\n        hasUndropQueue,\r\n        stage = obj.parentThatIsA(StageMorph);\r\n\r\n    function addOption(label, toggle, test, onHint, offHint) {\r\n        var on = '\\u2611 ',\r\n            off = '\\u2610 ';\r\n        menu.addItem(\r\n            (test ? on : off) + localize(label),\r\n            toggle,\r\n            test ? onHint : offHint\r\n        );\r\n    }\r\n\r\n    if (!ide) {\r\n        blockEditor = this.parentThatIsA(BlockEditorMorph);\r\n        if (blockEditor) {\r\n            ide = blockEditor.target.parentThatIsA(IDE_Morph);\r\n        }\r\n    }\r\n    if (this.dropRecord) {\r\n        if (this.dropRecord.lastRecord) {\r\n            hasUndropQueue = true;\r\n            menu.addPair(\r\n                [\r\n                    new SymbolMorph(\r\n                        'turnBack',\r\n                        MorphicPreferences.menuFontSize\r\n                    ),\r\n                    localize('undrop')\r\n                ],\r\n                'undrop',\r\n                '^Z',\r\n                'undo the last\\nblock drop\\nin this pane'\r\n            );\r\n        }\r\n        if (this.dropRecord.nextRecord) {\r\n            hasUndropQueue = true;\r\n            menu.addPair(\r\n                [\r\n                    new SymbolMorph(\r\n                        'turnForward',\r\n                        MorphicPreferences.menuFontSize\r\n                    ),\r\n                    localize('redrop')\r\n                ],\r\n                'redrop',\r\n                '^Y',\r\n                'redo the last undone\\nblock drop\\nin this pane'\r\n            );\r\n        }\r\n        if (hasUndropQueue) {\r\n            if (shiftClicked) {\r\n                menu.addItem(\r\n                    \"clear undrop queue\",\r\n                    function () {\r\n                        myself.dropRecord = null;\r\n                        myself.clearDropInfo();\r\n                        myself.recordDrop();\r\n                    },\r\n                    'forget recorded block drops\\non this pane',\r\n                    new Color(100, 0, 0)\r\n                );\r\n            }\r\n            menu.addLine();\r\n        }\r\n    }\r\n\r\n    menu.addItem('clean up', 'cleanUp', 'arrange scripts\\nvertically');\r\n    menu.addItem('add comment', 'addComment');\r\n    menu.addItem(\r\n        'scripts pic...',\r\n        'exportScriptsPicture',\r\n        'open a new window\\nwith a picture of all scripts'\r\n    );\r\n    if (ide) {\r\n        menu.addLine();\r\n        if (!blockEditor && obj.exemplar) {\r\n                addOption(\r\n                    'inherited',\r\n                    function () {\r\n                        obj.toggleInheritanceForAttribute('scripts');\r\n                    },\r\n                    obj.inheritsAttribute('scripts'),\r\n                    'uncheck to\\ndisinherit',\r\n                    localize('check to inherit\\nfrom')\r\n                        + ' ' + obj.exemplar.name\r\n                );\r\n        }\r\n        menu.addItem(\r\n            'make a block...',\r\n            function () {\r\n                new BlockDialogMorph(\r\n                    null,\r\n                    function (definition) {\r\n                        if (definition.spec !== '') {\r\n                            if (definition.isGlobal) {\r\n                                stage.globalBlocks.push(definition);\r\n                            } else {\r\n                                obj.customBlocks.push(definition);\r\n                            }\r\n                            ide.flushPaletteCache();\r\n                            ide.refreshPalette();\r\n                            new BlockEditorMorph(definition, obj).popUp();\r\n                        }\r\n                    },\r\n                    myself\r\n                ).prompt(\r\n                    'Make a block',\r\n                    null,\r\n                    myself.world()\r\n                );\r\n            }\r\n        );\r\n    }\r\n    return menu;\r\n};\r\n\r\n// ScriptsMorph user menu features:\r\n\r\nScriptsMorph.prototype.cleanUp = function () {\r\n    var target = this.selectForEdit(), // enable copy-on-edit\r\n        origin = target.topLeft(),\r\n        y = target.cleanUpMargin;\r\n    target.children.sort(function (a, b) {\r\n        // make sure the prototype hat block always stays on top\r\n        return a instanceof PrototypeHatBlockMorph ? 0 : a.top() - b.top();\r\n    }).forEach(function (child) {\r\n        if (child instanceof CommentMorph && child.block) {\r\n            return; // skip anchored comments\r\n        }\r\n        child.setPosition(origin.add(new Point(target.cleanUpMargin, y)));\r\n        if (child instanceof BlockMorph) {\r\n            child.allComments().forEach(function (comment) {\r\n                comment.align(child, true); // ignore layer\r\n            });\r\n        }\r\n        y += child.stackHeight() + target.cleanUpSpacing;\r\n    });\r\n    if (target.parent) {\r\n        target.setPosition(target.parent.topLeft());\r\n    }\r\n    target.adjustBounds();\r\n};\r\n\r\nScriptsMorph.prototype.exportScriptsPicture = function () {\r\n    var pic = this.scriptsPicture(),\r\n        ide = this.world().children[0];\r\n    if (pic) {\r\n        ide.saveCanvasAs(\r\n            pic,\r\n            (ide.projectName || localize('untitled')) + ' ' +\r\n                localize('script pic')\r\n        );\r\n    }\r\n};\r\n\r\nScriptsMorph.prototype.scriptsPicture = function () {\r\n    // private - answer a canvas containing the pictures of all scripts\r\n    var boundingBox, pic, ctx;\r\n    if (this.children.length === 0) {return; }\r\n    boundingBox = this.children[0].fullBounds();\r\n    this.children.forEach(function (child) {\r\n        if (child.isVisible) {\r\n            boundingBox = boundingBox.merge(child.fullBounds());\r\n        }\r\n    });\r\n    pic = newCanvas(boundingBox.extent());\r\n    ctx = pic.getContext('2d');\r\n    this.children.forEach(function (child) {\r\n        var pos = child.fullBounds().origin;\r\n        if (child.isVisible) {\r\n            ctx.drawImage(\r\n                child.fullImageClassic(),\r\n                pos.x - boundingBox.origin.x,\r\n                pos.y - boundingBox.origin.y\r\n            );\r\n        }\r\n    });\r\n    return pic;\r\n};\r\n\r\nScriptsMorph.prototype.addComment = function () {\r\n    var ide = this.parentThatIsA(IDE_Morph),\r\n        blockEditor = this.parentThatIsA(BlockEditorMorph),\r\n        world = this.world();\r\n    new CommentMorph().pickUp(world);\r\n    // register the drop-origin, so the element can\r\n    // slide back to its former situation if dropped\r\n    // somewhere where it gets rejected\r\n    if (!ide && blockEditor) {\r\n        ide = blockEditor.target.parentThatIsA(IDE_Morph);\r\n    }\r\n    if (ide) {\r\n        world.hand.grabOrigin = {\r\n            origin: ide.palette,\r\n            position: ide.palette.center()\r\n        };\r\n    }\r\n};\r\n\r\n// ScriptsMorph undrop / redrop\r\n\r\nScriptsMorph.prototype.undrop = function () {\r\n    var myself = this;\r\n    if (this.isAnimating) {return; }\r\n    if (!this.dropRecord || !this.dropRecord.lastRecord) {return; }\r\n    if (!this.dropRecord.situation) {\r\n        this.dropRecord.situation =\r\n            this.dropRecord.lastDroppedBlock.situation();\r\n    }\r\n    this.isAnimating = true;\r\n    this.dropRecord.lastDroppedBlock.slideBackTo(\r\n        this.dropRecord.lastOrigin,\r\n        null,\r\n        this.recoverLastDrop(),\r\n        function () {\r\n            myself.updateToolbar();\r\n            myself.isAnimating = false;\r\n        }\r\n    );\r\n    this.dropRecord = this.dropRecord.lastRecord;\r\n};\r\n\r\nScriptsMorph.prototype.redrop = function () {\r\n    var myself = this;\r\n    if (this.isAnimating) {return; }\r\n    if (!this.dropRecord || !this.dropRecord.nextRecord) {return; }\r\n    this.dropRecord = this.dropRecord.nextRecord;\r\n    if (this.dropRecord.action === 'delete') {\r\n        this.recoverLastDrop(true);\r\n        this.dropRecord.lastDroppedBlock.destroy();\r\n        this.updateToolbar();\r\n    } else {\r\n        this.isAnimating = true;\r\n        this.dropRecord.lastDroppedBlock.slideBackTo(\r\n            this.dropRecord.situation,\r\n            null,\r\n            this.recoverLastDrop(true),\r\n            function () {\r\n                myself.updateToolbar();\r\n                myself.isAnimating = false;\r\n            }\r\n        );\r\n    }\r\n};\r\n\r\nScriptsMorph.prototype.recoverLastDrop = function (forRedrop) {\r\n    // retrieve the block last touched by the user and answer a function\r\n    // to be called after the animation that moves it back right before\r\n    // dropping it into its former situation\r\n    var rec = this.dropRecord,\r\n        dropped,\r\n        onBeforeDrop,\r\n        parent;\r\n\r\n    if (!rec || !rec.lastDroppedBlock) {\r\n        throw new Error('nothing to undrop');\r\n    }\r\n    dropped = rec.lastDroppedBlock;\r\n    parent = dropped.parent;\r\n    if (dropped instanceof CommandBlockMorph) {\r\n        if (rec.lastNextBlock) {\r\n            if (rec.action === 'delete') {\r\n                if (forRedrop) {\r\n                    this.add(rec.lastNextBlock);\r\n                }\r\n            } else {\r\n                this.add(rec.lastNextBlock);\r\n            }\r\n        }\r\n        if (rec.lastDropTarget) {\r\n            if (rec.lastDropTarget.loc === 'bottom') {\r\n                if (rec.lastDropTarget.type === 'slot') {\r\n                    if (rec.lastNextBlock) {\r\n                        rec.lastDropTarget.element.nestedBlock(\r\n                            rec.lastNextBlock\r\n                        );\r\n                    }\r\n                } else { // 'block'\r\n                    if (rec.lastNextBlock) {\r\n                        rec.lastDropTarget.element.nextBlock(\r\n                            rec.lastNextBlock\r\n                        );\r\n                    }\r\n                }\r\n            } else if (rec.lastDropTarget.loc === 'top') {\r\n                this.add(rec.lastDropTarget.element);\r\n            } else if (rec.lastDropTarget.loc === 'wrap') {\r\n                var cslot = detect( // could be cached...\r\n                    rec.lastDroppedBlock.inputs(), // ...although these are\r\n                    function (each) {return each instanceof CSlotMorph; }\r\n                );\r\n                if (rec.lastWrapParent instanceof CommandBlockMorph) {\r\n                    if (forRedrop) {\r\n                        onBeforeDrop = function () {\r\n                            cslot.nestedBlock(rec.lastDropTarget.element);\r\n                        };\r\n                    } else {\r\n                        rec.lastWrapParent.nextBlock(\r\n                            rec.lastDropTarget.element\r\n                        );\r\n                    }\r\n                } else if (rec.lastWrapParent instanceof CommandSlotMorph) {\r\n                    if (forRedrop) {\r\n                        onBeforeDrop = function () {\r\n                            cslot.nestedBlock(rec.lastDropTarget.element);\r\n                        };\r\n                    } else {\r\n                        rec.lastWrapParent.nestedBlock(\r\n                            rec.lastDropTarget.element\r\n                        );\r\n                    }\r\n                } else {\r\n                    this.add(rec.lastDropTarget.element);\r\n                }\r\n\r\n                // fix zebra coloring.\r\n                // this could be generalized into the fixBlockColor mechanism\r\n                rec.lastDropTarget.element.blockSequence().forEach(\r\n                    function (cmd) {cmd.fixBlockColor(); }\r\n                );\r\n                cslot.fixLayout();\r\n            }\r\n        }\r\n    } else if (dropped instanceof ReporterBlockMorph) {\r\n        if (rec.lastDropTarget) {\r\n            rec.lastDropTarget.replaceInput(\r\n                rec.lastDroppedBlock,\r\n                rec.lastReplacedInput\r\n            );\r\n            rec.lastDropTarget.fixBlockColor(null, true);\r\n            if (rec.lastPreservedBlocks) {\r\n                rec.lastPreservedBlocks.forEach(function (morph) {\r\n                    morph.destroy();\r\n                });\r\n            }\r\n        }\r\n    } else if (dropped instanceof CommentMorph) {\r\n        if (forRedrop && rec.lastDropTarget) {\r\n            onBeforeDrop = function () {\r\n                rec.lastDropTarget.element.comment = dropped;\r\n                dropped.block = rec.lastDropTarget.element;\r\n                dropped.align();\r\n            };\r\n        }\r\n    } else {\r\n        throw new Error('unsupported action for ' + dropped);\r\n    }\r\n    this.clearDropInfo();\r\n    dropped.prepareToBeGrabbed(this.world().hand);\r\n    if (dropped instanceof CommentMorph) {\r\n        dropped.removeShadow();\r\n    }\r\n    this.add(dropped);\r\n    parent.reactToGrabOf(dropped);\r\n    if (dropped instanceof ReporterBlockMorph && parent instanceof BlockMorph) {\r\n        parent.changed();\r\n    }\r\n    if (rec.action === 'delete') {\r\n        if (forRedrop && rec.lastNextBlock) {\r\n            if (parent instanceof CommandBlockMorph) {\r\n                parent.nextBlock(rec.lastNextBlock);\r\n            } else if (parent instanceof CommandSlotMorph) {\r\n                parent.nestedBlock(rec.lastNextBlock);\r\n            }\r\n        }\r\n\r\n        // animate \"undelete\"\r\n        if (!forRedrop) {\r\n            dropped.moveBy(new Point(-100, -20));\r\n        }\r\n    }\r\n    return onBeforeDrop;\r\n};\r\n\r\nScriptsMorph.prototype.clearDropInfo = function () {\r\n    this.lastDroppedBlock = null;\r\n    this.lastReplacedInput = null;\r\n    this.lastDropTarget = null;\r\n    this.lastPreservedBlocks = null;\r\n    this.lastNextBlock = null;\r\n    this.lastWrapParent = null;\r\n};\r\n\r\nScriptsMorph.prototype.recordDrop = function (lastGrabOrigin) {\r\n    // support for \"undrop\" / \"redrop\"\r\n     var record = {\r\n        lastDroppedBlock: this.lastDroppedBlock,\r\n        lastReplacedInput: this.lastReplacedInput,\r\n        lastDropTarget: this.lastDropTarget,\r\n        lastPreservedBlocks: this.lastPreservedBlocks,\r\n        lastNextBlock: this.lastNextBlock,\r\n        lastWrapParent: this.lastWrapParent,\r\n        lastOrigin: lastGrabOrigin,\r\n        action: null,\r\n        situation: null,\r\n        lastRecord: this.dropRecord,\r\n        nextRecord: null\r\n    };\r\n    if (this.dropRecord) {\r\n        this.dropRecord.nextRecord = record;\r\n    }\r\n    this.dropRecord = record;\r\n    this.updateToolbar();\r\n};\r\n\r\nScriptsMorph.prototype.addToolbar = function () {\r\n    var toolBar = new AlignmentMorph(),\r\n    \tmyself = this,\r\n        shade = new Color(140, 140, 140);\r\n\r\n    toolBar.respectHiddens = true;\r\n    toolBar.undoButton = new PushButtonMorph(\r\n        this,\r\n        \"undrop\",\r\n        new SymbolMorph(\"turnBack\", 12)\r\n    );\r\n    toolBar.undoButton.alpha = 0.2;\r\n    toolBar.undoButton.padding = 2;\r\n    // toolBar.undoButton.hint = 'undo the last\\nblock drop\\nin this pane';\r\n    toolBar.undoButton.labelShadowColor = shade;\r\n    toolBar.undoButton.drawNew();\r\n    toolBar.undoButton.fixLayout();\r\n    toolBar.add(toolBar.undoButton);\r\n\r\n    toolBar.redoButton = new PushButtonMorph(\r\n        this,\r\n        \"redrop\",\r\n        new SymbolMorph(\"turnForward\", 12)\r\n    );\r\n    toolBar.redoButton.alpha = 0.2;\r\n    toolBar.redoButton.padding = 2;\r\n    // toolBar.redoButton.hint = 'redo the last undone\\nblock drop\\nin this pane';\r\n    toolBar.redoButton.labelShadowColor = shade;\r\n    toolBar.redoButton.drawNew();\r\n    toolBar.redoButton.fixLayout();\r\n    toolBar.add(toolBar.redoButton);\r\n\r\n    toolBar.keyboardButton = new ToggleButtonMorph(\r\n    \tnull, // colors\r\n        this, // target\r\n        \"toggleKeyboardEntry\",\r\n        [\r\n            new SymbolMorph('keyboard', 12),\r\n            new SymbolMorph('keyboardFilled', 12)\r\n        ],\r\n\t\tfunction () { // query\r\n\t\t\treturn !isNil(myself.focus);\r\n\t\t}\r\n    );\r\n    toolBar.keyboardButton.alpha = 0.2;\r\n    toolBar.keyboardButton.padding = 2;\r\n    toolBar.keyboardButton.hint = 'use the keyboard\\nto enter blocks';\r\n    //toolBar.keyboardButton.pressColor = new Color(40, 40, 40);\r\n    toolBar.keyboardButton.labelShadowColor = shade;\r\n    toolBar.keyboardButton.drawNew();\r\n    toolBar.keyboardButton.fixLayout();\r\n    toolBar.add(toolBar.keyboardButton);\r\n\r\n    return toolBar;\r\n};\r\n\r\nScriptsMorph.prototype.updateToolbar = function () {\r\n    var sf = this.parentThatIsA(ScrollFrameMorph);\r\n    if (!sf) {return; }\r\n    if (!sf.toolBar) {\r\n        sf.toolBar = this.addToolbar();\r\n        sf.add(sf.toolBar);\r\n    }\r\n    if (this.enableKeyboard) {\r\n    \tsf.toolBar.keyboardButton.show();\r\n    \tsf.toolBar.keyboardButton.refresh();\r\n    } else {\r\n        sf.toolBar.keyboardButton.hide();\r\n    }\r\n    if (this.dropRecord) {\r\n        if (this.dropRecord.lastRecord) {\r\n            if (!sf.toolBar.undoButton.isVisible) {\r\n                sf.toolBar.undoButton.show();\r\n            }\r\n        } else {\r\n            if (sf.toolBar.undoButton.isVisible) {\r\n                sf.toolBar.undoButton.hide();\r\n            }\r\n        }\r\n        if (this.dropRecord.nextRecord) {\r\n            if (!sf.toolBar.redoButton.isVisible) {\r\n                sf.toolBar.redoButton.show();\r\n                sf.toolBar.undoButton.mouseLeave();\r\n            }\r\n        } else {\r\n            if (sf.toolBar.redoButton.isVisible) {\r\n                sf.toolBar.redoButton.hide();\r\n            }\r\n        }\r\n    }\r\n\tif (detect(\r\n\t\t\tsf.toolBar.children,\r\n            function (each) {return each.isVisible; }\r\n    )) {\r\n\t    sf.toolBar.fixLayout();\r\n\t    sf.adjustToolBar();\r\n\t}\r\n};\r\n\r\n// ScriptsMorph sorting blocks and comments\r\n\r\nScriptsMorph.prototype.sortedElements = function () {\r\n    // return all scripts and unattached comments\r\n    var scripts = this.children.filter(function (each) {\r\n        return each instanceof CommentMorph ? !each.block : true;\r\n    });\r\n    scripts.sort(function (a, b) {\r\n        // make sure the prototype hat block always stays on top\r\n        return a instanceof PrototypeHatBlockMorph ? 0 : a.top() - b.top();\r\n    });\r\n    return scripts;\r\n};\r\n\r\n// ScriptsMorph blocks layout fix\r\n\r\nScriptsMorph.prototype.fixMultiArgs = function () {\r\n    var oldFlag = Morph.prototype.trackChanges;\r\n\r\n    Morph.prototype.trackChanges = false;\r\n    this.forAllChildren(function (morph) {\r\n        if (morph instanceof MultiArgMorph) {\r\n            morph.fixLayout();\r\n        }\r\n    });\r\n    Morph.prototype.trackChanges = oldFlag;\r\n};\r\n\r\n// ScriptsMorph drag & drop:\r\n\r\nScriptsMorph.prototype.wantsDropOf = function (aMorph) {\r\n    // override the inherited method\r\n    if (aMorph instanceof HatBlockMorph) {\r\n        return !this.rejectsHats;\r\n    }\r\n    return aMorph instanceof SyntaxElementMorph ||\r\n        aMorph instanceof CommentMorph;\r\n};\r\n\r\nScriptsMorph.prototype.reactToDropOf = function (droppedMorph, hand) {\r\n    if (droppedMorph instanceof BlockMorph ||\r\n            droppedMorph instanceof CommentMorph) {\r\n        droppedMorph.snap(hand);\r\n    }\r\n    this.adjustBounds();\r\n};\r\n\r\n// ScriptsMorph events\r\n\r\nScriptsMorph.prototype.mouseClickLeft = function (pos) {\r\n    var shiftClicked = this.world().currentKey === 16;\r\n    if (shiftClicked) {\r\n        return this.edit(pos);\r\n    }\r\n    if (this.focus) {this.focus.stopEditing(); }\r\n};\r\n\r\nScriptsMorph.prototype.selectForEdit = function () {\r\n    var ide = this.parentThatIsA(IDE_Morph),\r\n        rcvr = ide ? ide.currentSprite : null;\r\n    if (rcvr && rcvr.inheritsAttribute('scripts')) {\r\n        // copy on write:\r\n        this.feedbackMorph.destroy();\r\n        rcvr.shadowAttribute('scripts');\r\n        return rcvr.scripts;\r\n    }\r\n    return this;\r\n};\r\n\r\n// ScriptsMorph keyboard support\r\n\r\nScriptsMorph.prototype.edit = function (pos) {\r\n    var target,\r\n\t\tworld = this.world();\r\n    if (this.focus) {this.focus.stopEditing(); }\r\n    world.stopEditing();\r\n    if (!ScriptsMorph.prototype.enableKeyboard) {return; }\r\n    target = this.selectForEdit(); // enable copy-on-edit\r\n    target.focus = new ScriptFocusMorph(target, target, pos);\r\n    target.focus.getFocus(world);\r\n};\r\n\r\nScriptsMorph.prototype.toggleKeyboardEntry = function () {\r\n\t// when the user clicks the keyboard button in the toolbar\r\n    var target, sorted,\r\n        world = this.world();\r\n    if (this.focus) {\r\n    \tthis.focus.stopEditing();\r\n        return;\r\n    }\r\n    world.stopEditing();\r\n    if (!ScriptsMorph.prototype.enableKeyboard) {return; }\r\n    target = this.selectForEdit(); // enable copy-on-edit\r\n    target.focus = new ScriptFocusMorph(target, target, target.position());\r\n    target.focus.getFocus(world);\r\n    sorted = target.focus.sortedScripts();\r\n    if (sorted.length) {\r\n        target.focus.element = sorted[0];\r\n        if (target.focus.element instanceof HatBlockMorph) {\r\n            target.focus.nextCommand();\r\n        }\r\n    } else {\r\n        target.focus.moveBy(new Point(50, 50));\r\n    }\r\n    target.focus.fixLayout();\r\n};\r\n\r\n// ScriptsMorph context - scripts target\r\n\r\nScriptsMorph.prototype.scriptTarget = function () {\r\n    // answer the sprite or stage that this script editor acts on,\r\n    // if the user clicks on a block.\r\n    // NOTE: since scripts can be shared by more than a single sprite\r\n    // this method only gives the desired result within the context of\r\n    // the user actively clicking on a block inside the IDE\r\n    // there is no direct relationship between a block or a scripts editor\r\n    //  and a sprite.\r\n    var editor = this.parentThatIsA(IDE_Morph);\r\n    if (editor) {\r\n        return editor.currentSprite;\r\n    }\r\n    editor = this.parentThatIsA(BlockEditorMorph);\r\n    if (editor) {\r\n        return editor.target;\r\n    }\r\n    throw new Error('script target bannot be found for orphaned scripts');\r\n};\r\n\r\n\r\n// ArgMorph //////////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a syntax element and the ancestor of all block inputs.\r\n    I am present in block labels.\r\n    Usually I am just a receptacle for inherited methods and attributes,\r\n    however, if my 'type' attribute is set to one of the following\r\n    values, I act as an iconic slot myself:\r\n\r\n        'list'    - a list symbol\r\n*/\r\n\r\n// ArgMorph inherits from SyntaxElementMorph:\r\n\r\nArgMorph.prototype = new SyntaxElementMorph();\r\nArgMorph.prototype.constructor = ArgMorph;\r\nArgMorph.uber = SyntaxElementMorph.prototype;\r\n\r\n// ArgMorph instance creation:\r\n\r\nfunction ArgMorph(type) {\r\n    this.init(type);\r\n}\r\n\r\nArgMorph.prototype.init = function (type, silently) {\r\n    this.type = type || null;\r\n    this.isHole = false;\r\n    ArgMorph.uber.init.call(this, silently);\r\n    this.color = new Color(0, 17, 173);\r\n    this.setExtent(new Point(50, 50), silently);\r\n};\r\n\r\n// ArgMorph preferences settings:\r\n\r\nArgMorph.prototype.executeOnSliderEdit = false;\r\n\r\n// ArgMorph events:\r\n\r\nArgMorph.prototype.reactToSliderEdit = function () {\r\n/*\r\n    directly execute the stack of blocks I'm part of if my\r\n    \"executeOnSliderEdit\" setting is turned on, obeying the stage's\r\n    thread safety setting. This feature allows for \"Bret Victor\" style\r\n    interactive coding.\r\n*/\r\n    var block, top, receiver, stage;\r\n    if (!this.executeOnSliderEdit) {return; }\r\n    block = this.parentThatIsA(BlockMorph);\r\n    if (block) {\r\n        top = block.topBlock();\r\n        receiver = top.scriptTarget();\r\n        if (top instanceof PrototypeHatBlockMorph) {\r\n            return;\r\n        }\r\n        if (receiver) {\r\n            stage = receiver.parentThatIsA(StageMorph);\r\n            if (stage && (stage.isThreadSafe ||\r\n                    Process.prototype.enableSingleStepping)) {\r\n                stage.threads.startProcess(top, receiver, stage.isThreadSafe);\r\n            } else {\r\n                top.mouseClickLeft();\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\n// ArgMorph drag & drop: for demo puposes only\r\n\r\nArgMorph.prototype.justDropped = function () {\r\n    if (!(this instanceof CommandSlotMorph)) {\r\n        this.drawNew();\r\n        this.changed();\r\n    }\r\n};\r\n\r\n// ArgMorph spec extrapolation (for demo purposes)\r\n\r\nArgMorph.prototype.getSpec = function () {\r\n    return '%s'; // default\r\n};\r\n\r\n// ArgMorph drawing\r\n\r\nArgMorph.prototype.drawNew = function () {\r\n    if (this.type === 'list') {\r\n        this.image = this.listIcon();\r\n        this.silentSetExtent(new Point(\r\n            this.image.width,\r\n            this.image.height\r\n        ));\r\n    } else if (this.type === 'object') {\r\n        this.image = this.objectIcon();\r\n        this.silentSetExtent(new Point(\r\n            this.image.width,\r\n            this.image.height\r\n        ));\r\n    } else {\r\n        ArgMorph.uber.drawNew.call(this);\r\n    }\r\n};\r\n\r\nArgMorph.prototype.listIcon = function () {\r\n    var frame = new Morph(),\r\n        first = new CellMorph(),\r\n        second = new CellMorph(),\r\n        source,\r\n        icon,\r\n        context,\r\n        ratio;\r\n\r\n    frame.color = new Color(255, 255, 255);\r\n    second.setPosition(first.bottomLeft().add(new Point(\r\n        0,\r\n        this.fontSize / 3\r\n    )));\r\n    first.add(second);\r\n    first.setPosition(frame.position().add(this.fontSize));\r\n    frame.add(first);\r\n    frame.bounds.corner = second.bounds.corner.add(this.fontSize);\r\n    frame.drawNew();\r\n    source = frame.fullImage();\r\n    ratio = (this.fontSize + this.edge) / source.height;\r\n    icon = newCanvas(new Point(\r\n        Math.ceil(source.width * ratio) + 1,\r\n        Math.ceil(source.height * ratio) + 1\r\n    ));\r\n    context = icon.getContext('2d');\r\n    context.fillStyle = 'black';\r\n    context.fillRect(0, 0, icon.width, icon.height);\r\n    context.scale(ratio, ratio);\r\n    context.drawImage(source, 1 / ratio, 1 / ratio);\r\n    return icon;\r\n};\r\n\r\nArgMorph.prototype.objectIcon = function () {\r\n    return this.labelPart('%turtle').image;\r\n};\r\n\r\n// ArgMorph evaluation\r\n\r\nArgMorph.prototype.isEmptySlot = function () {\r\n    return this.type !== null;\r\n};\r\n\r\n// CommandSlotMorph ////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a CommandBlock-shaped input slot. I can nest command blocks\r\n    and also accept    reporters (containing reified scripts).\r\n\r\n    my most important accessor is\r\n\r\n    nestedBlock()    - answer the command block I encompass, if any\r\n\r\n    My command spec is %cmd\r\n\r\n    evaluate() returns my nested block or null\r\n*/\r\n\r\n// CommandSlotMorph inherits from ArgMorph:\r\n\r\nCommandSlotMorph.prototype = new ArgMorph();\r\nCommandSlotMorph.prototype.constructor = CommandSlotMorph;\r\nCommandSlotMorph.uber = ArgMorph.prototype;\r\n\r\n// CommandSlotMorph instance creation:\r\n\r\nfunction CommandSlotMorph() {\r\n    this.init();\r\n}\r\n\r\nCommandSlotMorph.prototype.init = function (silently) {\r\n    CommandSlotMorph.uber.init.call(this, null, true); // silently\r\n    this.color = new Color(0, 17, 173);\r\n    this.setExtent(\r\n        new Point(230, this.corner * 4 + this.cSlotPadding),\r\n        silently\r\n    );\r\n};\r\n\r\nCommandSlotMorph.prototype.getSpec = function () {\r\n    return '%cmd';\r\n};\r\n\r\n// CommandSlotMorph enumerating:\r\n\r\nCommandSlotMorph.prototype.topBlock = function () {\r\n    if (this.parent.topBlock) {\r\n        return this.parent.topBlock();\r\n    }\r\n    return this.nestedBlock();\r\n};\r\n\r\n// CommandSlotMorph nesting:\r\n\r\nCommandSlotMorph.prototype.nestedBlock = function (block) {\r\n    if (block) {\r\n        var nb = this.nestedBlock();\r\n        this.add(block);\r\n        if (nb) {\r\n            block.bottomBlock().nextBlock(nb);\r\n        }\r\n        this.fixLayout();\r\n    } else {\r\n        return detect(\r\n            this.children,\r\n            function (child) {\r\n                return child instanceof CommandBlockMorph;\r\n            }\r\n        );\r\n    }\r\n};\r\n\r\n// CommandSlotMorph attach targets:\r\n\r\nCommandSlotMorph.prototype.slotAttachPoint = function () {\r\n    return new Point(\r\n        this.dentCenter(),\r\n        this.top() + this.corner * 2\r\n    );\r\n};\r\n\r\nCommandSlotMorph.prototype.dentLeft = function () {\r\n    return this.left()\r\n        + this.corner\r\n        + this.inset * 2;\r\n};\r\n\r\nCommandSlotMorph.prototype.dentCenter = function () {\r\n    return this.dentLeft()\r\n        + this.corner\r\n        + (this.dent * 0.5);\r\n};\r\n\r\nCommandSlotMorph.prototype.attachTargets = function () {\r\n    var answer = [];\r\n    answer.push({\r\n        point: this.slotAttachPoint(),\r\n        element: this,\r\n        loc: 'bottom',\r\n        type: 'slot'\r\n    });\r\n    return answer;\r\n};\r\n\r\n// CommandSlotMorph layout:\r\n\r\nCommandSlotMorph.prototype.fixLayout = function () {\r\n    var nb = this.nestedBlock();\r\n    if (this.parent) {\r\n        if (!this.color.eq(this.parent.color)) {\r\n            this.setColor(this.parent.color);\r\n        }\r\n    }\r\n    if (nb) {\r\n        nb.setPosition(\r\n            new Point(\r\n                this.left() + this.edge + this.rfBorder,\r\n                this.top() + this.edge + this.rfBorder\r\n            )\r\n        );\r\n        this.setWidth(nb.fullBounds().width()\r\n            + (this.edge + this.rfBorder) * 2\r\n            );\r\n        this.setHeight(nb.fullBounds().height()\r\n            + this.edge + (this.rfBorder * 2) - (this.corner - this.edge)\r\n            );\r\n    } else {\r\n        this.setHeight(this.corner * 4);\r\n        this.setWidth(\r\n            this.corner * 4\r\n                + this.inset\r\n                + this.dent\r\n        );\r\n    }\r\n    if (this.parent.fixLayout) {\r\n        this.parent.fixLayout();\r\n    }\r\n};\r\n\r\n// CommandSlotMorph evaluating:\r\n\r\nCommandSlotMorph.prototype.evaluate = function () {\r\n    return this.nestedBlock();\r\n};\r\n\r\nCommandSlotMorph.prototype.isEmptySlot = function () {\r\n    return !this.isStatic && (this.nestedBlock() === null);\r\n};\r\n\r\n// CommandSlotMorph context menu ops\r\n\r\nCommandSlotMorph.prototype.attach = function () {\r\n    // for context menu demo and testing purposes\r\n    // override inherited version to adjust new owner's layout\r\n    var choices = this.overlappedMorphs(),\r\n        menu = new MenuMorph(this, 'choose new parent:'),\r\n        myself = this;\r\n\r\n    choices.forEach(function (each) {\r\n        menu.addItem(each.toString().slice(0, 50), function () {\r\n            each.add(myself);\r\n            myself.isDraggable = false;\r\n            if (each.fixLayout) {\r\n                each.fixLayout();\r\n            }\r\n        });\r\n    });\r\n    if (choices.length > 0) {\r\n        menu.popUpAtHand(this.world());\r\n    }\r\n};\r\n\r\n// CommandSlotMorph drawing:\r\n\r\nCommandSlotMorph.prototype.drawNew = function () {\r\n    var context;\r\n    this.cachedClr = this.color.toString();\r\n    this.cachedClrBright = this.bright();\r\n    this.cachedClrDark = this.dark();\r\n    this.image = newCanvas(this.extent());\r\n    context = this.image.getContext('2d');\r\n    context.fillStyle = this.cachedClr;\r\n    context.fillRect(0, 0, this.width(), this.height());\r\n\r\n    // draw the 'flat' shape:\r\n    context.fillStyle = this.rfColor.toString();\r\n    this.drawFlat(context);\r\n\r\n    if (MorphicPreferences.isFlat) {return; }\r\n\r\n    // add 3D-Effect:\r\n    this.drawEdges(context);\r\n};\r\n\r\nCommandSlotMorph.prototype.drawFlat = function (context) {\r\n    var isFilled = this.nestedBlock() !== null,\r\n        ins = (isFilled ? this.inset : this.inset / 2),\r\n        dent = (isFilled ? this.dent : this.dent / 2),\r\n        indent = this.corner * 2 + ins,\r\n        edge = this.edge,\r\n        rf = (isFilled ? this.rfBorder : 0),\r\n        y = this.height() - this.corner - edge;\r\n\r\n    context.beginPath();\r\n\r\n    // top left:\r\n    context.arc(\r\n        this.corner + edge,\r\n        this.corner + edge,\r\n        this.corner,\r\n        radians(-180),\r\n        radians(-90),\r\n        false\r\n    );\r\n\r\n    // dent:\r\n    context.lineTo(this.corner + ins + edge + rf * 2, edge);\r\n    context.lineTo(indent + edge + rf * 2, this.corner + edge);\r\n    context.lineTo(\r\n        indent + edge  + rf * 2 + (dent - rf * 2),\r\n        this.corner + edge\r\n    );\r\n    context.lineTo(\r\n        indent + edge  + rf * 2 + (dent - rf * 2) + this.corner,\r\n        edge\r\n    );\r\n    context.lineTo(this.width() - this.corner - edge, edge);\r\n\r\n    // top right:\r\n    context.arc(\r\n        this.width() - this.corner - edge,\r\n        this.corner + edge,\r\n        this.corner,\r\n        radians(-90),\r\n        radians(-0),\r\n        false\r\n    );\r\n\r\n    // bottom right:\r\n    context.arc(\r\n        this.width() - this.corner - edge,\r\n        y,\r\n        this.corner,\r\n        radians(0),\r\n        radians(90),\r\n        false\r\n    );\r\n\r\n    // bottom left:\r\n    context.arc(\r\n        this.corner + edge,\r\n        y,\r\n        this.corner,\r\n        radians(90),\r\n        radians(180),\r\n        false\r\n    );\r\n\r\n    context.closePath();\r\n    context.fill();\r\n\r\n};\r\n\r\nCommandSlotMorph.prototype.drawEdges = function (context) {\r\n    var isFilled = this.nestedBlock() !== null,\r\n        ins = (isFilled ? this.inset : this.inset / 2),\r\n        dent = (isFilled ? this.dent : this.dent / 2),\r\n        indent = this.corner * 2 + ins,\r\n        edge = this.edge,\r\n        rf = (isFilled ? this.rfBorder : 0),\r\n        shift = this.edge * 0.5,\r\n        gradient,\r\n        upperGradient,\r\n        lowerGradient,\r\n        rightGradient;\r\n\r\n    context.lineWidth = this.edge;\r\n    context.lineJoin = 'round';\r\n    context.lineCap = 'round';\r\n\r\n\r\n    // bright:\r\n    // bottom horizontal line\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        this.height(),\r\n        0,\r\n        this.height() - this.edge\r\n    );\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    gradient.addColorStop(1, this.cachedClrBright);\r\n\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(this.corner + edge, this.height() - shift);\r\n    context.lineTo(\r\n        this.width() - this.corner - edge,\r\n        this.height() - shift\r\n    );\r\n    context.stroke();\r\n\r\n    // bottom right corner\r\n    gradient = context.createRadialGradient(\r\n        this.width() - (this.corner + edge),\r\n        this.height() - (this.corner + edge),\r\n        this.corner,\r\n        this.width() - (this.corner + edge),\r\n        this.height() - (this.corner + edge),\r\n        this.corner + edge\r\n    );\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    gradient.addColorStop(1, this.cachedClr);\r\n\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.arc(\r\n        this.width() - (this.corner + edge),\r\n        this.height() - (this.corner + edge),\r\n        this.corner + shift,\r\n        radians(0),\r\n        radians(90),\r\n        false\r\n    );\r\n    context.stroke();\r\n\r\n    // right vertical line\r\n    gradient = context.createLinearGradient(\r\n        this.width(),\r\n        0,\r\n        this.width() - this.edge,\r\n        0\r\n    );\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    gradient.addColorStop(1, this.cachedClrBright);\r\n\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(\r\n        this.width() - shift,\r\n        this.height() - this.corner - this.edge\r\n    );\r\n    context.lineTo(this.width() - shift, edge + this.corner);\r\n    context.stroke();\r\n\r\n    context.shadowOffsetY = shift;\r\n    context.shadowBlur = this.edge;\r\n    context.shadowColor = this.rfColor.darker(80).toString();\r\n\r\n    // left vertical side\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        0,\r\n        edge,\r\n        0\r\n    );\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    gradient.addColorStop(1, this.cachedClrDark);\r\n\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(shift, edge + this.corner);\r\n    context.lineTo(shift, this.height() - edge - this.corner);\r\n    context.stroke();\r\n\r\n    // upper left corner\r\n    gradient = context.createRadialGradient(\r\n        this.corner + edge,\r\n        this.corner + edge,\r\n        this.corner,\r\n        this.corner + edge,\r\n        this.corner + edge,\r\n        this.corner + edge\r\n    );\r\n    gradient.addColorStop(0, this.cachedClrDark);\r\n    gradient.addColorStop(1, this.cachedClr);\r\n\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.arc(\r\n        this.corner + edge,\r\n        this.corner + edge,\r\n        this.corner + shift,\r\n        radians(-180),\r\n        radians(-90),\r\n        false\r\n    );\r\n    context.stroke();\r\n\r\n    // upper edge (left side)\r\n    upperGradient = context.createLinearGradient(\r\n        0,\r\n        0,\r\n        0,\r\n        this.edge\r\n    );\r\n    upperGradient.addColorStop(0, this.cachedClr);\r\n    upperGradient.addColorStop(1, this.cachedClrDark);\r\n\r\n    context.strokeStyle = upperGradient;\r\n    context.beginPath();\r\n    context.moveTo(this.corner + edge, shift);\r\n    context.lineTo(\r\n        this.corner + ins + edge + rf * 2 - shift,\r\n        shift\r\n    );\r\n    context.stroke();\r\n\r\n    // dent bottom\r\n    lowerGradient = context.createLinearGradient(\r\n        0,\r\n        this.corner,\r\n        0,\r\n        this.corner + edge\r\n    );\r\n    lowerGradient.addColorStop(0, this.cachedClr);\r\n    lowerGradient.addColorStop(1, this.cachedClrDark);\r\n\r\n    context.strokeStyle = lowerGradient;\r\n    context.beginPath();\r\n    context.moveTo(indent + edge + rf * 2 + shift, this.corner + shift);\r\n    context.lineTo(\r\n        indent + edge  + rf * 2 + (dent - rf * 2),\r\n        this.corner + shift\r\n    );\r\n    context.stroke();\r\n\r\n    // dent right edge\r\n    rightGradient = context.createLinearGradient(\r\n        indent + edge  + rf * 2 + (dent - rf * 2) - shift,\r\n        this.corner,\r\n        indent + edge  + rf * 2 + (dent - rf * 2) + shift * 0.7,\r\n        this.corner + shift + shift * 0.7\r\n    );\r\n    rightGradient.addColorStop(0, this.cachedClr);\r\n    rightGradient.addColorStop(1, this.cachedClrDark);\r\n\r\n    context.strokeStyle = rightGradient;\r\n    context.beginPath();\r\n    context.moveTo(\r\n        indent + edge  + rf * 2 + (dent - rf * 2),\r\n        this.corner + shift\r\n    );\r\n    context.lineTo(\r\n        indent + edge  + rf * 2 + (dent - rf * 2) + this.corner,\r\n        shift\r\n    );\r\n    context.stroke();\r\n\r\n    // upper edge (right side)\r\n    context.strokeStyle = upperGradient;\r\n    context.beginPath();\r\n    context.moveTo(\r\n        indent + edge  + rf * 2 + (dent - rf * 2) + this.corner,\r\n        shift\r\n    );\r\n    context.lineTo(this.width() - this.corner - edge, shift);\r\n    context.stroke();\r\n};\r\n\r\n// RingCommandSlotMorph ///////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a CommandBlock-shaped input slot for use in RingMorphs.\r\n    I can only nest command blocks, not reporters.\r\n\r\n    My command spec is %rc\r\n\r\n    evaluate() returns my nested block or null\r\n    (inherited from CommandSlotMorph)\r\n*/\r\n\r\n// RingCommandSlotMorph inherits from CommandSlotMorph:\r\n\r\nRingCommandSlotMorph.prototype = new CommandSlotMorph();\r\nRingCommandSlotMorph.prototype.constructor = RingCommandSlotMorph;\r\nRingCommandSlotMorph.uber = CommandSlotMorph.prototype;\r\n\r\n// RingCommandSlotMorph preferences settings\r\n\r\nRingCommandSlotMorph.prototype.rfBorder = 0;\r\nRingCommandSlotMorph.prototype.edge = RingMorph.prototype.edge;\r\n\r\n// RingCommandSlotMorph instance creation:\r\n\r\nfunction RingCommandSlotMorph() {\r\n    this.init();\r\n}\r\n\r\nRingCommandSlotMorph.prototype.init = function (silently) {\r\n    RingCommandSlotMorph.uber.init.call(this, silently);\r\n    this.isHole = true;\r\n    this.noticesTransparentClick = true;\r\n    this.color = new Color(0, 17, 173);\r\n    this.alpha = RingMorph.prototype.alpha;\r\n    this.contrast = RingMorph.prototype.contrast;\r\n};\r\n\r\nRingCommandSlotMorph.prototype.getSpec = function () {\r\n    return '%rc';\r\n};\r\n\r\n// RingCommandSlotMorph drawing:\r\n\r\nRingCommandSlotMorph.prototype.drawNew = function () {\r\n    var context;\r\n    this.cachedClr = this.color.toString();\r\n    this.cachedClrBright = this.bright();\r\n    this.cachedClrDark = this.dark();\r\n    this.image = newCanvas(this.extent());\r\n    context = this.image.getContext('2d');\r\n    context.fillStyle = this.cachedClr;\r\n\r\n    // draw the 'flat' shape:\r\n    this.drawFlat(context);\r\n\r\n    if (MorphicPreferences.isFlat) {return; }\r\n\r\n    // add 3D-Effect:\r\n    this.drawEdges(context);\r\n};\r\n\r\nRingCommandSlotMorph.prototype.drawFlat = function (context) {\r\n    var isFilled = this.nestedBlock() !== null,\r\n        ins = (isFilled ? this.inset : this.inset / 2),\r\n        dent = (isFilled ? this.dent : this.dent / 2),\r\n        indent = this.corner * 2 + ins,\r\n        edge = this.edge,\r\n        w = this.width(),\r\n        h = this.height(),\r\n        rf = (isFilled ? this.rfBorder : 0),\r\n        y = h - this.corner - edge;\r\n\r\n    // top half:\r\n\r\n    context.beginPath();\r\n    context.moveTo(0, h / 2);\r\n    context.lineTo(edge, h / 2);\r\n\r\n    // top left:\r\n    context.arc(\r\n        this.corner + edge,\r\n        this.corner + edge,\r\n        this.corner,\r\n        radians(-180),\r\n        radians(-90),\r\n        false\r\n    );\r\n\r\n    // dent:\r\n    context.lineTo(this.corner + ins + edge + rf * 2, edge);\r\n    context.lineTo(indent + edge + rf * 2, this.corner + edge);\r\n    context.lineTo(\r\n        indent + edge  + rf * 2 + (dent - rf * 2),\r\n        this.corner + edge\r\n    );\r\n    context.lineTo(\r\n        indent + edge  + rf * 2 + (dent - rf * 2) + this.corner,\r\n        edge\r\n    );\r\n    context.lineTo(this.width() - this.corner - edge, edge);\r\n\r\n    // top right:\r\n    context.arc(\r\n        w - this.corner - edge,\r\n        this.corner + edge,\r\n        this.corner,\r\n        radians(-90),\r\n        radians(-0),\r\n        false\r\n    );\r\n\r\n    context.lineTo(w - this.edge, h / 2);\r\n    context.lineTo(w, h / 2);\r\n    context.lineTo(w, 0);\r\n    context.lineTo(0, 0);\r\n    context.closePath();\r\n    context.fill();\r\n\r\n    // bottom half:\r\n    context.beginPath();\r\n    context.moveTo(w, h / 2);\r\n    context.lineTo(w - edge, h / 2);\r\n\r\n    // bottom right:\r\n    context.arc(\r\n        this.width() - this.corner - edge,\r\n        y,\r\n        this.corner,\r\n        radians(0),\r\n        radians(90),\r\n        false\r\n    );\r\n\r\n    // bottom left:\r\n    context.arc(\r\n        this.corner + edge,\r\n        y,\r\n        this.corner,\r\n        radians(90),\r\n        radians(180),\r\n        false\r\n    );\r\n\r\n    context.lineTo(edge, h / 2);\r\n    context.lineTo(0, h / 2);\r\n    context.lineTo(0, h);\r\n    context.lineTo(w, h);\r\n    context.closePath();\r\n    context.fill();\r\n\r\n};\r\n\r\n// CSlotMorph ////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a C-shaped input slot. I can nest command blocks and also accept\r\n    reporters (containing reified scripts).\r\n\r\n    my most important accessor is\r\n\r\n    nestedBlock()    - the command block I encompass, if any (inherited)\r\n\r\n    My command spec is %c\r\n\r\n    evaluate() returns my nested block or null\r\n*/\r\n\r\n// CSlotMorph inherits from CommandSlotMorph:\r\n\r\nCSlotMorph.prototype = new CommandSlotMorph();\r\nCSlotMorph.prototype.constructor = CSlotMorph;\r\nCSlotMorph.uber = CommandSlotMorph.prototype;\r\n\r\n// CSlotMorph instance creation:\r\n\r\nfunction CSlotMorph() {\r\n    this.init();\r\n}\r\n\r\nCSlotMorph.prototype.init = function (silently) {\r\n    CommandSlotMorph.uber.init.call(this, null, true); // silently\r\n    this.isHole = true;\r\n    this.isLambda = false; // see Process.prototype.evaluateInput\r\n    this.color = new Color(0, 17, 173);\r\n    this.setExtent(\r\n        new Point(230, this.corner * 4 + this.cSlotPadding),\r\n        silently\r\n    );\r\n};\r\n\r\nCSlotMorph.prototype.getSpec = function () {\r\n    return '%c';\r\n};\r\n\r\nCSlotMorph.prototype.mappedCode = function (definitions) {\r\n    var code = StageMorph.prototype.codeMappings.reify || '<#1>',\r\n        codeLines = code.split('\\n'),\r\n        nested = this.nestedBlock(),\r\n        part = nested ? nested.mappedCode(definitions) : '',\r\n        partLines = (part.toString()).split('\\n'),\r\n        rx = new RegExp('<#1>', 'g');\r\n\r\n    codeLines.forEach(function (codeLine, idx) {\r\n        var prefix = '',\r\n            indent;\r\n        if (codeLine.trimLeft().indexOf('<#1>') === 0) {\r\n            indent = codeLine.indexOf('<#1>');\r\n            prefix = codeLine.slice(0, indent);\r\n        }\r\n        codeLines[idx] = codeLine.replace(\r\n            new RegExp('<#1>'),\r\n            partLines.join('\\n' + prefix)\r\n        );\r\n        codeLines[idx] = codeLines[idx].replace(rx, partLines.join('\\n'));\r\n    });\r\n\r\n    return codeLines.join('\\n');\r\n};\r\n\r\n\r\n// CSlotMorph layout:\r\n\r\nCSlotMorph.prototype.fixLayout = function () {\r\n    var nb = this.nestedBlock();\r\n    if (nb) {\r\n        nb.setPosition(\r\n            new Point(\r\n                this.left() + this.inset,\r\n                this.top() + this.corner\r\n            )\r\n        );\r\n        this.setHeight(nb.fullBounds().height() + this.corner);\r\n        this.setWidth(nb.fullBounds().width() + (this.cSlotPadding * 2));\r\n    } else {\r\n        this.setHeight(this.corner * 4  + this.cSlotPadding); // default\r\n        this.setWidth(\r\n            this.corner * 4\r\n                + (this.inset * 2)\r\n                + this.dent\r\n                + (this.cSlotPadding * 2)\r\n        ); // default\r\n    }\r\n    if (this.parent.fixLayout) {\r\n        this.parent.fixLayout();\r\n    }\r\n};\r\n\r\n// CSlotMorph drawing:\r\n\r\nCSlotMorph.prototype.drawNew = function () {\r\n    var context;\r\n    this.cachedClr = this.color.toString();\r\n    this.cachedClrBright = this.bright();\r\n    this.cachedClrDark = this.dark();\r\n    this.image = newCanvas(this.extent());\r\n    context = this.image.getContext('2d');\r\n    context.fillStyle = this.cachedClr;\r\n\r\n    // draw the 'flat' shape:\r\n    this.drawFlat(context);\r\n\r\n    if (MorphicPreferences.isFlat) {return; }\r\n\r\n    // add 3D-Effect:\r\n    this.drawTopRightEdge(context);\r\n    this.drawTopEdge(context, this.inset, this.corner);\r\n    this.drawTopLeftEdge(context);\r\n    this.drawBottomEdge(context);\r\n    this.drawRightEdge(context);\r\n};\r\n\r\nCSlotMorph.prototype.drawFlat = function (context) {\r\n    context.beginPath();\r\n\r\n    // top line:\r\n    context.moveTo(0, 0);\r\n    context.lineTo(this.width(), 0);\r\n\r\n    // top right:\r\n    context.arc(\r\n        this.width() - this.corner,\r\n        0,\r\n        this.corner,\r\n        radians(90),\r\n        radians(0),\r\n        true\r\n    );\r\n\r\n    // jigsaw shape:\r\n    context.lineTo(this.width() - this.corner, this.corner);\r\n    context.lineTo(\r\n        (this.inset * 2) + (this.corner * 3) + this.dent,\r\n        this.corner\r\n    );\r\n    context.lineTo(\r\n        (this.inset * 2) + (this.corner * 2) + this.dent,\r\n        this.corner * 2\r\n    );\r\n    context.lineTo(\r\n        (this.inset * 2) + (this.corner * 2),\r\n        this.corner * 2\r\n    );\r\n    context.lineTo(\r\n        (this.inset * 2) + this.corner,\r\n        this.corner\r\n    );\r\n    context.lineTo(\r\n        this.inset + this.corner,\r\n        this.corner\r\n    );\r\n    context.arc(\r\n        this.inset + this.corner,\r\n        this.corner * 2,\r\n        this.corner,\r\n        radians(270),\r\n        radians(180),\r\n        true\r\n    );\r\n\r\n    // bottom:\r\n    context.lineTo(\r\n        this.inset,\r\n        this.height() - (this.corner * 2)\r\n    );\r\n    context.arc(\r\n        this.inset + this.corner,\r\n        this.height() - (this.corner * 2),\r\n        this.corner,\r\n        radians(180),\r\n        radians(90),\r\n        true\r\n    );\r\n    context.lineTo(\r\n        this.width() - this.corner,\r\n        this.height() - this.corner\r\n    );\r\n    context.arc(\r\n        this.width() - this.corner,\r\n        this.height(),\r\n        this.corner,\r\n        radians(-90),\r\n        radians(-0),\r\n        false\r\n    );\r\n    context.lineTo(0, this.height());\r\n\r\n    // fill:\r\n    context.closePath();\r\n    context.fill();\r\n};\r\n\r\nCSlotMorph.prototype.drawTopRightEdge = function (context) {\r\n    var shift = this.edge * 0.5,\r\n        x = this.width() - this.corner,\r\n        y = 0,\r\n        gradient;\r\n\r\n    gradient = context.createRadialGradient(\r\n        x,\r\n        y,\r\n        this.corner,\r\n        x,\r\n        y,\r\n        this.corner - this.edge\r\n    );\r\n    gradient.addColorStop(0, this.cachedClrDark);\r\n    gradient.addColorStop(1, this.cachedClr);\r\n\r\n    context.lineWidth = this.edge;\r\n    context.lineJoin = 'round';\r\n    context.lineCap = 'round';\r\n\r\n    context.strokeStyle = gradient;\r\n\r\n    context.beginPath();\r\n    context.arc(\r\n        x,\r\n        y,\r\n        this.corner - shift,\r\n        radians(90),\r\n        radians(0),\r\n        true\r\n    );\r\n    context.stroke();\r\n};\r\n\r\nCSlotMorph.prototype.drawTopEdge = function (context, x, y) {\r\n    var shift = this.edge * 0.5,\r\n        indent = x + this.corner * 2 + this.inset,\r\n        upperGradient,\r\n        lowerGradient,\r\n        rightGradient;\r\n\r\n    context.lineWidth = this.edge;\r\n    context.lineJoin = 'round';\r\n    context.lineCap = 'round';\r\n\r\n    upperGradient = context.createLinearGradient(\r\n        0,\r\n        y - this.edge,\r\n        0,\r\n        y\r\n    );\r\n    upperGradient.addColorStop(0, this.cachedClr);\r\n    upperGradient.addColorStop(1, this.cachedClrDark);\r\n\r\n    context.strokeStyle = upperGradient;\r\n    context.beginPath();\r\n    context.moveTo(x + this.corner, y - shift);\r\n    context.lineTo(x + this.corner + this.inset - shift, y - shift);\r\n    context.stroke();\r\n\r\n    lowerGradient = context.createLinearGradient(\r\n        0,\r\n        y + this.corner - this.edge,\r\n        0,\r\n        y + this.corner\r\n    );\r\n    lowerGradient.addColorStop(0, this.cachedClr);\r\n    lowerGradient.addColorStop(1, this.cachedClrDark);\r\n\r\n    context.strokeStyle = lowerGradient;\r\n    context.beginPath();\r\n    context.moveTo(indent + shift, y + this.corner - shift);\r\n    context.lineTo(indent + this.dent, y + this.corner - shift);\r\n    context.stroke();\r\n\r\n    rightGradient = context.createLinearGradient(\r\n        (x + this.inset + (this.corner * 2) + this.dent) - shift,\r\n        (y + this.corner - shift) - shift,\r\n        (x + this.inset + (this.corner * 2) + this.dent) + (shift * 0.7),\r\n        (y + this.corner - shift) + (shift * 0.7)\r\n    );\r\n    rightGradient.addColorStop(0, this.cachedClr);\r\n    rightGradient.addColorStop(1, this.cachedClrDark);\r\n\r\n\r\n    context.strokeStyle = rightGradient;\r\n    context.beginPath();\r\n    context.moveTo(\r\n        x + this.inset + (this.corner * 2) + this.dent,\r\n        y + this.corner - shift\r\n    );\r\n    context.lineTo(\r\n        x + this.corner * 3 + this.inset + this.dent,\r\n        y - shift\r\n    );\r\n    context.stroke();\r\n\r\n    context.strokeStyle = upperGradient;\r\n    context.beginPath();\r\n    context.moveTo(\r\n        x + this.corner * 3 + this.inset + this.dent,\r\n        y - shift\r\n    );\r\n    context.lineTo(this.width() - this.corner, y - shift);\r\n    context.stroke();\r\n};\r\n\r\nCSlotMorph.prototype.drawTopLeftEdge = function (context) {\r\n    var shift = this.edge * 0.5,\r\n        gradient;\r\n\r\n    gradient = context.createRadialGradient(\r\n        this.corner + this.inset,\r\n        this.corner * 2,\r\n        this.corner,\r\n        this.corner + this.inset,\r\n        this.corner * 2,\r\n        this.corner + this.edge\r\n    );\r\n    gradient.addColorStop(0, this.cachedClrDark);\r\n    gradient.addColorStop(1, this.cachedClr);\r\n\r\n    context.lineWidth = this.edge;\r\n    context.lineJoin = 'round';\r\n    context.lineCap = 'round';\r\n\r\n    context.strokeStyle = gradient;\r\n\r\n    context.beginPath();\r\n    context.arc(\r\n        this.corner + this.inset,\r\n        this.corner * 2,\r\n        this.corner + shift,\r\n        radians(-180),\r\n        radians(-90),\r\n        false\r\n    );\r\n    context.stroke();\r\n};\r\n\r\nCSlotMorph.prototype.drawRightEdge = function (context) {\r\n    var shift = this.edge * 0.5,\r\n        x = this.inset,\r\n        gradient;\r\n\r\n    gradient = context.createLinearGradient(x - this.edge, 0, x, 0);\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    gradient.addColorStop(1, this.cachedClrDark);\r\n\r\n    context.lineWidth = this.edge;\r\n    context.lineJoin = 'round';\r\n    context.lineCap = 'round';\r\n\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(x - shift, this.corner * 2);\r\n    context.lineTo(x - shift, this.height() - this.corner * 2);\r\n    context.stroke();\r\n};\r\n\r\nCSlotMorph.prototype.drawBottomEdge = function (context) {\r\n    var shift = this.edge * 0.5,\r\n        gradient,\r\n        upperGradient;\r\n\r\n    context.lineWidth = this.edge;\r\n    context.lineJoin = 'round';\r\n    context.lineCap = 'round';\r\n\r\n    upperGradient = context.createRadialGradient(\r\n        this.corner + this.inset,\r\n        this.height() - (this.corner * 2),\r\n        this.corner, /*- this.edge*/ // uncomment for half-tone\r\n        this.corner + this.inset,\r\n        this.height() - (this.corner * 2),\r\n        this.corner + this.edge\r\n    );\r\n    upperGradient.addColorStop(0, this.cachedClrBright);\r\n    upperGradient.addColorStop(1, this.cachedClr);\r\n    context.strokeStyle = upperGradient;\r\n    context.beginPath();\r\n    context.arc(\r\n        this.corner + this.inset,\r\n        this.height() - (this.corner * 2),\r\n        this.corner + shift,\r\n        radians(180),\r\n        radians(90),\r\n        true\r\n    );\r\n    context.stroke();\r\n\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        this.height() - this.corner,\r\n        0,\r\n        this.height() - this.corner + this.edge\r\n    );\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    gradient.addColorStop(1, this.cachedClr);\r\n\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(\r\n        this.inset + this.corner,\r\n        this.height() - this.corner + shift\r\n    );\r\n    context.lineTo(\r\n        this.width() - this.corner,\r\n        this.height() - this.corner + shift\r\n    );\r\n\r\n    context.stroke();\r\n};\r\n\r\n// InputSlotMorph //////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am an editable text input slot. I can be either rectangular or\r\n    rounded, and can have an optional drop-down menu. If I'm set to\r\n    read-only I must have a drop-down menu and will assume a darker\r\n    shade of my parent's color.\r\n\r\n    my most important public attributes and accessors are:\r\n\r\n    setContents(str/float)    - display the argument (string or float)\r\n    contents().text            - get the displayed string\r\n    choices                    - a key/value list for my optional drop-down\r\n    isReadOnly                - governs whether I am editable or not\r\n    isNumeric                - governs my outer shape (round or rect)\r\n\r\n    my block specs are:\r\n\r\n    %s        - string input, rectangular\r\n    %n        - numerical input, semi-circular vertical edges\r\n    %anyUE    - any unevaluated\r\n\r\n    evaluate() returns my displayed string, cast to float if I'm numerical\r\n\r\n    there are also a number of specialized drop-down menu presets, refer\r\n    to BlockMorph for details.\r\n*/\r\n\r\n// InputSlotMorph inherits from ArgMorph:\r\n\r\nInputSlotMorph.prototype = new ArgMorph();\r\nInputSlotMorph.prototype.constructor = InputSlotMorph;\r\nInputSlotMorph.uber = ArgMorph.prototype;\r\n\r\n// InputSlotMorph instance creation:\r\n\r\nfunction InputSlotMorph(text, isNumeric, choiceDict, isReadOnly) {\r\n    this.init(text, isNumeric, choiceDict, isReadOnly);\r\n}\r\n\r\nInputSlotMorph.prototype.init = function (\r\n    text,\r\n    isNumeric,\r\n    choiceDict,\r\n    isReadOnly\r\n) {\r\n    var contents = new StringMorph(''),\r\n        arrow = new ArrowMorph(\r\n            'down',\r\n            0,\r\n            Math.max(Math.floor(this.fontSize / 6), 1)\r\n        );\r\n\r\n    contents.fontSize = this.fontSize;\r\n    contents.isShowingBlanks = true;\r\n    contents.drawNew();\r\n\r\n    this.isUnevaluated = false;\r\n    this.choices = choiceDict || null; // object, function or selector\r\n    this.oldContentsExtent = contents.extent();\r\n    this.isNumeric = isNumeric || false;\r\n    this.isReadOnly = isReadOnly || false;\r\n    this.minWidth = 0; // can be chaged for text-type inputs (\"landscape\")\r\n    this.constant = null;\r\n\r\n    InputSlotMorph.uber.init.call(this, null, true);\r\n    this.color = new Color(255, 255, 255);\r\n    this.add(contents);\r\n    this.add(arrow);\r\n    contents.isEditable = true;\r\n    contents.isDraggable = false;\r\n    contents.enableSelecting();\r\n    this.setContents(text);\r\n};\r\n\r\n// InputSlotMorph accessing:\r\n\r\nInputSlotMorph.prototype.getSpec = function () {\r\n    if (this.isNumeric) {\r\n        return '%n';\r\n    }\r\n    return '%s'; // default\r\n};\r\n\r\nInputSlotMorph.prototype.contents = function () {\r\n    return detect(\r\n        this.children,\r\n        function (child) {\r\n            return (child instanceof StringMorph);\r\n        }\r\n    );\r\n};\r\n\r\nInputSlotMorph.prototype.arrow = function () {\r\n    return detect(\r\n        this.children,\r\n        function (child) {\r\n            return (child instanceof ArrowMorph);\r\n        }\r\n    );\r\n};\r\n\r\nInputSlotMorph.prototype.setContents = function (aStringOrFloat) {\r\n    var cnts = this.contents(),\r\n        dta = aStringOrFloat,\r\n        isConstant = dta instanceof Array;\r\n    if (isConstant) {\r\n        dta = localize(dta[0]);\r\n        cnts.isItalic = !this.isReadOnly;\r\n    } else { // assume dta is a localizable choice if it's a key in my choices\r\n        cnts.isItalic = false;\r\n        if (!isNil(this.choices) && this.choices[dta] instanceof Array) {\r\n            return this.setContents(this.choices[dta]);\r\n        }\r\n    }\r\n    cnts.text = dta;\r\n    if (isNil(dta)) {\r\n        cnts.text = '';\r\n    } else if (dta.toString) {\r\n        cnts.text = dta.toString();\r\n    }\r\n    cnts.drawNew();\r\n\r\n    // adjust to zebra coloring:\r\n    if (this.isReadOnly && (this.parent instanceof BlockMorph)) {\r\n        this.parent.fixLabelColor();\r\n    }\r\n\r\n    // remember the constant, if any\r\n    this.constant = isConstant ? aStringOrFloat : null;\r\n};\r\n\r\nInputSlotMorph.prototype.userSetContents = function (aStringOrFloat) {\r\n    // enable copy-on-edit for inherited scripts\r\n    this.selectForEdit().setContents(aStringOrFloat);\r\n};\r\n\r\n// InputSlotMorph drop-down menu:\r\n\r\nInputSlotMorph.prototype.dropDownMenu = function (enableKeyboard) {\r\n    var menu = this.menuFromDict(this.choices, null, enableKeyboard);\r\n    if (!menu) { // has already happened\r\n        return;\r\n    }\r\n    if (menu.items.length > 0) {\r\n        if (enableKeyboard) {\r\n            menu.popup(this.world(), this.bottomLeft());\r\n            menu.getFocus();\r\n        } else {\r\n            menu.popUpAtHand(this.world());\r\n        }\r\n    }\r\n};\r\n\r\nInputSlotMorph.prototype.menuFromDict = function (\r\n    choices,\r\n    noEmptyOption,\r\n    enableKeyboard)\r\n{\r\n    var key,\r\n        menu = new MenuMorph(\r\n            this.userSetContents,\r\n            null,\r\n            this,\r\n            this.fontSize\r\n        );\r\n\r\n    if (choices instanceof Function) {\r\n        choices = choices.call(this);\r\n    } else if (isString(choices)) {\r\n        choices = this[choices](enableKeyboard);\r\n        if (!choices) { // menu has already happened\r\n            return;\r\n        }\r\n    }\r\n    if (!noEmptyOption) {\r\n        menu.addItem(' ', null);\r\n    }\r\n    for (key in choices) {\r\n        if (Object.prototype.hasOwnProperty.call(choices, key)) {\r\n            if (key[0] === '~') {\r\n                menu.addLine();\r\n            // } else if (key.indexOf('§_def') === 0) {\r\n            //     menu.addItem(choices[key].blockInstance(), choices[key]);\r\n            } else if (choices[key] instanceof Object &&\r\n                    !(choices[key] instanceof Array) &&\r\n                    (typeof choices[key] !== 'function')) {\r\n                menu.addMenu(key, this.menuFromDict(choices[key], true));\r\n            } else {\r\n                menu.addItem(key, choices[key]);\r\n            }\r\n        }\r\n    }\r\n    return menu;\r\n};\r\n\r\nInputSlotMorph.prototype.messagesMenu = function () {\r\n    var dict = {},\r\n        rcvr = this.parentThatIsA(BlockMorph).scriptTarget(),\r\n        stage = rcvr.parentThatIsA(StageMorph),\r\n        myself = this,\r\n        allNames = [];\r\n\r\n    stage.children.concat(stage).forEach(function (morph) {\r\n        if (isSnapObject(morph)) {\r\n            allNames = allNames.concat(morph.allMessageNames());\r\n        }\r\n    });\r\n    allNames.forEach(function (name) {\r\n        dict[name] = name;\r\n    });\r\n    if (allNames.length > 0) {\r\n        dict['~'] = null;\r\n    }\r\n    dict['new...'] = function () {\r\n\r\n        new DialogBoxMorph(\r\n            myself,\r\n            myself.setContents,\r\n            myself\r\n        ).prompt(\r\n            'Message name',\r\n            null,\r\n            myself.world()\r\n        );\r\n    };\r\n    return dict;\r\n};\r\n\r\nInputSlotMorph.prototype.messagesReceivedMenu = function () {\r\n    var dict = {'any message': ['any message']},\r\n        rcvr = this.parentThatIsA(BlockMorph).scriptTarget(),\r\n        stage = rcvr.parentThatIsA(StageMorph),\r\n        myself = this,\r\n        allNames = [];\r\n\r\n    stage.children.concat(stage).forEach(function (morph) {\r\n        if (isSnapObject(morph)) {\r\n            allNames = allNames.concat(morph.allMessageNames());\r\n        }\r\n    });\r\n    allNames.forEach(function (name) {\r\n        dict[name] = name;\r\n    });\r\n    dict['~'] = null;\r\n    dict['new...'] = function () {\r\n\r\n        new DialogBoxMorph(\r\n            myself,\r\n            myself.setContents,\r\n            myself\r\n        ).prompt(\r\n            'Message name',\r\n            null,\r\n            myself.world()\r\n        );\r\n    };\r\n    return dict;\r\n};\r\n\r\nInputSlotMorph.prototype.collidablesMenu = function () {\r\n    var dict = {\r\n            'mouse-pointer' : ['mouse-pointer'],\r\n            edge : ['edge'],\r\n            'pen trails' : ['pen trails']\r\n        },\r\n        rcvr = this.parentThatIsA(BlockMorph).scriptTarget(),\r\n        stage = rcvr.parentThatIsA(StageMorph),\r\n        allNames = [];\r\n\r\n    stage.children.forEach(function (morph) {\r\n        if (morph instanceof SpriteMorph && !morph.isTemporary) {\r\n            if (morph.name !== rcvr.name) {\r\n                allNames = allNames.concat(morph.name);\r\n            }\r\n        }\r\n    });\r\n    if (allNames.length > 0) {\r\n        dict['~'] = null;\r\n        allNames.forEach(function (name) {\r\n            dict[name] = name;\r\n        });\r\n    }\r\n    return dict;\r\n};\r\n\r\nInputSlotMorph.prototype.distancesMenu = function () {\r\n    var dict = {\r\n            'mouse-pointer' : ['mouse-pointer']\r\n        },\r\n        rcvr = this.parentThatIsA(BlockMorph).scriptTarget(),\r\n        stage = rcvr.parentThatIsA(StageMorph),\r\n        allNames = [];\r\n\r\n    stage.children.forEach(function (morph) {\r\n        if (morph instanceof SpriteMorph && !morph.isTemporary) {\r\n            if (morph.name !== rcvr.name) {\r\n                allNames = allNames.concat(morph.name);\r\n            }\r\n        }\r\n    });\r\n    if (allNames.length > 0) {\r\n        dict['~'] = null;\r\n        allNames.forEach(function (name) {\r\n            dict[name] = name;\r\n        });\r\n    }\r\n    return dict;\r\n};\r\n\r\nInputSlotMorph.prototype.clonablesMenu = function () {\r\n    var dict = {},\r\n        rcvr = this.parentThatIsA(BlockMorph).scriptTarget(),\r\n        stage = rcvr.parentThatIsA(StageMorph),\r\n        allNames = [];\r\n\r\n    if (rcvr instanceof SpriteMorph) {\r\n        dict.myself = ['myself'];\r\n    }\r\n    stage.children.forEach(function (morph) {\r\n        if (morph instanceof SpriteMorph && !morph.isTemporary) {\r\n            allNames = allNames.concat(morph.name);\r\n        }\r\n    });\r\n    if (allNames.length > 0) {\r\n        dict['~'] = null;\r\n        allNames.forEach(function (name) {\r\n            dict[name] = name;\r\n        });\r\n    }\r\n    return dict;\r\n};\r\n\r\nInputSlotMorph.prototype.objectsMenu = function () {\r\n    var rcvr = this.parentThatIsA(BlockMorph).scriptTarget(),\r\n        stage = rcvr.parentThatIsA(StageMorph),\r\n        dict = {},\r\n        allNames = [];\r\n\r\n    dict[stage.name] = stage.name;\r\n    stage.children.forEach(function (morph) {\r\n        if (morph instanceof SpriteMorph && !morph.isTemporary) {\r\n            allNames.push(morph.name);\r\n        }\r\n    });\r\n    if (allNames.length > 0) {\r\n        dict['~'] = null;\r\n        allNames.forEach(function (name) {\r\n            dict[name] = name;\r\n        });\r\n    }\r\n    return dict;\r\n};\r\n\r\nInputSlotMorph.prototype.typesMenu = function () {\r\n    var dict = {\r\n        number : ['number'],\r\n        text : ['text'],\r\n        Boolean : ['Boolean'],\r\n        list : ['list']\r\n    };\r\n    if (SpriteMorph.prototype.enableFirstClass) {\r\n        dict.sprite = ['sprite'];\r\n    }\r\n    dict.costume = ['costume'];\r\n    dict.sound = ['sound'];\r\n    dict.command = ['command'];\r\n    dict.reporter = ['reporter'];\r\n    dict.predicate = ['predicate'];\r\n    return dict;\r\n};\r\n\r\nInputSlotMorph.prototype.gettablesMenu = function () {\r\n    var dict = {\r\n        neighbors : ['neighbors'],\r\n        self : ['self'],\r\n        'other sprites' : ['other sprites'],\r\n        clones : ['clones'],\r\n        'other clones' : ['other clones']\r\n    };\r\n    if (SpriteMorph.prototype.enableNesting) {\r\n        dict.parts = ['parts'];\r\n        dict.anchor = ['anchor'];\r\n    }\r\n    dict.stage = ['stage'];\r\n    if (StageMorph.prototype.enableInheritance) {\r\n        dict.children = ['children'];\r\n        dict.parent = ['parent'];\r\n        if (this.world().isDevMode) {\r\n            dict['temporary?'] = ['temporary?'];\r\n        }\r\n    }\r\n    dict.name = ['name'];\r\n    dict.costumes = ['costumes'];\r\n    dict.sounds = ['sounds'];\r\n    dict['dangling?'] = ['dangling?'];\r\n    dict['rotation x'] = ['rotation x'];\r\n    dict['rotation y'] = ['rotation y'];\r\n    dict['center x'] = ['center x'];\r\n    dict['center y'] = ['center y'];\r\n    return dict;\r\n};\r\n\r\nInputSlotMorph.prototype.attributesMenu = function () {\r\n    var block = this.parentThatIsA(BlockMorph),\r\n        objName = block.inputs()[1].evaluate(),\r\n        rcvr = block.scriptTarget(),\r\n        stage = rcvr.parentThatIsA(StageMorph),\r\n        obj,\r\n        dict = {},\r\n        varNames = [];\r\n\r\n    if (objName === stage.name) {\r\n        obj = stage;\r\n    } else {\r\n        obj = detect(\r\n            stage.children,\r\n            function (morph) {\r\n                return morph.name === objName;\r\n            }\r\n        );\r\n    }\r\n    if (!obj) {\r\n        return dict;\r\n    }\r\n    if (obj instanceof SpriteMorph) {\r\n        dict = {\r\n            'x position' : ['x position'],\r\n            'y position' : ['y position'],\r\n            'direction' : ['direction'],\r\n            'costume #' : ['costume #'],\r\n            'costume name' : ['costume name'],\r\n            'size' : ['size']\r\n        };\r\n    } else { // the stage\r\n        dict = {\r\n            'costume #' : ['costume #'],\r\n            'costume name' : ['costume name']\r\n        };\r\n    }\r\n    varNames = obj.variables.names();\r\n    if (varNames.length > 0) {\r\n        dict['~'] = null;\r\n        varNames.forEach(function (name) {\r\n            dict[name] = name;\r\n        });\r\n    }\r\n    /*\r\n    obj.customBlocks.forEach(function (def, i) {\r\n        dict['§_def' + i] = def\r\n    });\r\n    */\r\n    return dict;\r\n};\r\n\r\nInputSlotMorph.prototype.costumesMenu = function () {\r\n    var rcvr = this.parentThatIsA(BlockMorph).scriptTarget(),\r\n        dict,\r\n        allNames = [];\r\n    if (rcvr instanceof SpriteMorph) {\r\n        dict = {Turtle : ['Turtle']};\r\n    } else { // stage\r\n        dict = {Empty : ['Empty']};\r\n    }\r\n    rcvr.costumes.asArray().forEach(function (costume) {\r\n        allNames = allNames.concat(costume.name);\r\n    });\r\n    if (allNames.length > 0) {\r\n        dict['~'] = null;\r\n        allNames.forEach(function (name) {\r\n            dict[name] = name;\r\n        });\r\n    }\r\n    return dict;\r\n};\r\n\r\nInputSlotMorph.prototype.soundsMenu = function () {\r\n    var rcvr = this.parentThatIsA(BlockMorph).scriptTarget(),\r\n        allNames = [],\r\n        dict = {};\r\n\r\n    rcvr.sounds.asArray().forEach(function (sound) {\r\n        allNames = allNames.concat(sound.name);\r\n    });\r\n    if (allNames.length > 0) {\r\n        allNames.forEach(function (name) {\r\n            dict[name] = name;\r\n        });\r\n    }\r\n    return dict;\r\n};\r\n\r\nInputSlotMorph.prototype.shadowedVariablesMenu = function () {\r\n    var block = this.parentThatIsA(BlockMorph),\r\n        vars,\r\n        attribs,\r\n        rcvr,\r\n        dict = {};\r\n\r\n    if (!block) {return dict; }\r\n    rcvr = block.scriptTarget();\r\n    if (this.parentThatIsA(RingMorph)) {\r\n    \t// show own local vars and attributes, because this is likely to be\r\n     \t// inside TELL, ASK or OF\r\n        vars = rcvr.variables.names();\r\n        vars.forEach(function (name) {\r\n            dict[name] = name;\r\n        });\r\n        attribs = rcvr.attributes;\r\n        /*\r\n        if (vars.length && attribs.length) {\r\n            dict['~'] = null; // add line\r\n        }\r\n        */\r\n        attribs.forEach(function (name) {\r\n            dict[name] = [name];\r\n        });\r\n    } else if (rcvr && rcvr.exemplar) {\r\n    \t// only show shadowed vars and attributes\r\n        vars = rcvr.inheritedVariableNames(true);\r\n        vars.forEach(function (name) {\r\n            dict[name] = name;\r\n        });\r\n        attribs = rcvr.shadowedAttributes();\r\n        /*\r\n        if (vars.length && attribs.length) {\r\n            dict['~'] = null; // add line\r\n        }\r\n        */\r\n        attribs.forEach(function (name) {\r\n            dict[name] = [name];\r\n        });\r\n    }\r\n    return dict;\r\n};\r\n\r\nInputSlotMorph.prototype.pianoKeyboardMenu = function () {\r\n    var menu, block, instrument;\r\n    block = this.parentThatIsA(BlockMorph);\r\n    if (block) {\r\n        instrument = block.scriptTarget().instrument;\r\n    }\r\n    menu = new PianoMenuMorph(\r\n        this.setContents,\r\n        this,\r\n        this.fontSize,\r\n        instrument\r\n    );\r\n    menu.popup(this.world(), new Point(\r\n        this.right() - (menu.width() / 2),\r\n        this.bottom()\r\n    ));\r\n    menu.selectKey(this.evaluate());\r\n};\r\n\r\nInputSlotMorph.prototype.setChoices = function (dict, readonly) {\r\n    // externally specify choices and read-only status,\r\n    // used for custom blocks\r\n    var cnts = this.contents();\r\n    this.choices = dict;\r\n    this.isReadOnly = readonly || false;\r\n    if (this.parent instanceof BlockMorph) {\r\n        this.parent.fixLabelColor();\r\n        if (!readonly) {\r\n            cnts.shadowOffset = new Point();\r\n            cnts.shadowColor = null;\r\n            cnts.setColor(new Color(0, 0, 0));\r\n        }\r\n    }\r\n    this.fixLayout();\r\n};\r\n\r\n// InputSlotMorph layout:\r\n\r\nInputSlotMorph.prototype.fixLayout = function () {\r\n    var width, height, arrowWidth,\r\n        contents = this.contents(),\r\n        arrow = this.arrow();\r\n\r\n    contents.isNumeric = this.isNumeric;\r\n    contents.isEditable = (!this.isReadOnly);\r\n    if (this.isReadOnly) {\r\n        contents.disableSelecting();\r\n        contents.color = new Color(254, 254, 254);\r\n    } else {\r\n        contents.enableSelecting();\r\n        contents.color = new Color(0, 0, 0);\r\n    }\r\n\r\n    if (this.choices) {\r\n        arrow.setSize(this.fontSize);\r\n        arrow.show();\r\n    } else {\r\n        arrow.hide();\r\n    }\r\n    arrowWidth = arrow.isVisible ? arrow.width() : 0;\r\n\r\n    height = contents.height() + this.edge * 2; // + this.typeInPadding * 2\r\n    if (this.isNumeric) {\r\n        width = contents.width()\r\n            + Math.floor(arrowWidth * 0.5)\r\n            + height\r\n            + this.typeInPadding * 2;\r\n    } else {\r\n        width = Math.max(\r\n            contents.width()\r\n                + arrowWidth\r\n                + this.edge * 2\r\n                + this.typeInPadding * 2,\r\n            contents.rawHeight ? // single vs. multi-line contents\r\n                        contents.rawHeight() + arrowWidth\r\n                                : fontHeight(contents.fontSize) / 1.3\r\n                                    + arrowWidth,\r\n            this.minWidth // for text-type slots\r\n        );\r\n    }\r\n    this.setExtent(new Point(width, height));\r\n    if (this.isNumeric) {\r\n        contents.setPosition(new Point(\r\n            Math.floor(height / 2),\r\n            this.edge\r\n        ).add(new Point(this.typeInPadding, 0)).add(this.position()));\r\n    } else {\r\n        contents.setPosition(new Point(\r\n            this.edge,\r\n            this.edge\r\n        ).add(new Point(this.typeInPadding, 0)).add(this.position()));\r\n    }\r\n\r\n    if (arrow.isVisible) {\r\n        arrow.setPosition(new Point(\r\n            this.right() - arrowWidth - this.edge,\r\n            contents.top()\r\n        ));\r\n    }\r\n\r\n    if (this.parent) {\r\n        if (this.parent.fixLayout) {\r\n            if (this.world()) {\r\n                this.startLayout();\r\n                this.parent.fixLayout();\r\n                this.endLayout();\r\n            } else {\r\n                this.parent.fixLayout();\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\n// InputSlotMorph events:\r\n\r\nInputSlotMorph.prototype.mouseDownLeft = function (pos) {\r\n    var world;\r\n    if (this.isReadOnly || this.arrow().bounds.containsPoint(pos)) {\r\n        this.escalateEvent('mouseDownLeft', pos);\r\n    } else {\r\n        world = this.world();\r\n        if (world) {\r\n            world.stopEditing();\r\n        }\r\n        this.selectForEdit().contents().edit();\r\n    }\r\n};\r\n\r\nInputSlotMorph.prototype.mouseClickLeft = function (pos) {\r\n    if (this.arrow().bounds.containsPoint(pos)) {\r\n        this.dropDownMenu();\r\n    } else if (this.isReadOnly) {\r\n        this.dropDownMenu();\r\n    } else {\r\n        this.contents().edit();\r\n    }\r\n};\r\n\r\nInputSlotMorph.prototype.reactToKeystroke = function () {\r\n    var cnts;\r\n    if (this.constant) {\r\n        cnts = this.contents();\r\n        this.constant = null;\r\n        cnts.isItalic = false;\r\n        cnts.drawNew();\r\n    }\r\n};\r\n\r\nInputSlotMorph.prototype.reactToEdit = function () {\r\n    this.contents().clearSelection();\r\n};\r\n\r\nInputSlotMorph.prototype.freshTextEdit = function (aStringOrTextMorph) {\r\n    this.onNextStep = function () {\r\n        aStringOrTextMorph.selectAll();\r\n    };\r\n};\r\n\r\n// InputSlotMorph menu:\r\n\r\nInputSlotMorph.prototype.userMenu = function () {\r\n    var menu = new MenuMorph(this);\r\n    if (!StageMorph.prototype.enableCodeMapping) {\r\n        return this.parent.userMenu();\r\n    }\r\n    if (this.isNumeric) {\r\n        menu.addItem(\r\n            'code number mapping...',\r\n            'mapNumberToCode'\r\n        );\r\n    } else {\r\n        menu.addItem(\r\n            'code string mapping...',\r\n            'mapStringToCode'\r\n        );\r\n    }\r\n    return menu;\r\n};\r\n\r\n// InputSlotMorph code mapping\r\n\r\n/*\r\n    code mapping lets you use blocks to generate arbitrary text-based\r\n    source code that can be exported and compiled / embedded elsewhere,\r\n    it's not part of Snap's evaluator and not needed for Snap itself\r\n*/\r\n\r\nInputSlotMorph.prototype.mapStringToCode = function () {\r\n    // private - open a dialog box letting the user map code via the GUI\r\n    new DialogBoxMorph(\r\n        this,\r\n        function (code) {\r\n            StageMorph.prototype.codeMappings.string = code;\r\n        },\r\n        this\r\n    ).promptCode(\r\n        'Code mapping - String <#1>',\r\n        StageMorph.prototype.codeMappings.string || '',\r\n        this.world()\r\n    );\r\n};\r\n\r\nInputSlotMorph.prototype.mapNumberToCode = function () {\r\n    // private - open a dialog box letting the user map code via the GUI\r\n    new DialogBoxMorph(\r\n        this,\r\n        function (code) {\r\n            StageMorph.prototype.codeMappings.number = code;\r\n        },\r\n        this\r\n    ).promptCode(\r\n        'Code mapping - Number <#1>',\r\n        StageMorph.prototype.codeMappings.number || '',\r\n        this.world()\r\n    );\r\n};\r\n\r\nInputSlotMorph.prototype.mappedCode = function () {\r\n    var block = this.parentThatIsA(BlockMorph),\r\n        val = this.evaluate(),\r\n        code;\r\n\r\n    if (this.isNumeric) {\r\n        code = StageMorph.prototype.codeMappings.number || '<#1>';\r\n        return code.replace(/<#1>/g, val);\r\n    }\r\n    if (!isNaN(parseFloat(val))) {return val; }\r\n    if (!isString(val)) {return val; }\r\n    if (block && contains(\r\n            ['doSetVar', 'doChangeVar', 'doShowVar', 'doHideVar'],\r\n            block.selector\r\n        )) {\r\n        return val;\r\n    }\r\n    code = StageMorph.prototype.codeMappings.string || '<#1>';\r\n    return code.replace(/<#1>/g, val);\r\n};\r\n\r\n// InputSlotMorph evaluating:\r\n\r\nInputSlotMorph.prototype.evaluate = function () {\r\n/*\r\n    answer my content's text string. If I am numerical convert that\r\n    string to a number. If the conversion fails answer the string\r\n    (e.g. for special choices like 'any', 'all' or 'last') otherwise\r\n    the numerical value.\r\n*/\r\n    var num,\r\n        contents = this.contents();\r\n    if (this.constant) {\r\n        return this.constant;\r\n    }\r\n    if (this.isNumeric) {\r\n        num = parseFloat(contents.text || '0');\r\n        if (!isNaN(num)) {\r\n            return num;\r\n        }\r\n    }\r\n    return contents.text;\r\n};\r\n\r\nInputSlotMorph.prototype.isEmptySlot = function () {\r\n    return this.contents().text === '';\r\n};\r\n\r\n// InputSlotMorph single-stepping:\r\n\r\nInputSlotMorph.prototype.flash = function () {\r\n    // don't redraw the label b/c zebra coloring\r\n    if (!this.cachedNormalColor) {\r\n        this.cachedNormalColor = this.color;\r\n        this.color = this.activeHighlight;\r\n        this.drawNew();\r\n        this.changed();\r\n    }\r\n};\r\n\r\nInputSlotMorph.prototype.unflash = function () {\r\n    // don't redraw the label b/c zebra coloring\r\n    if (this.cachedNormalColor) {\r\n        var clr = this.cachedNormalColor;\r\n        this.cachedNormalColor = null;\r\n        this.color = clr;\r\n        this.drawNew();\r\n        this.changed();\r\n    }\r\n};\r\n\r\n// InputSlotMorph drawing:\r\n\r\nInputSlotMorph.prototype.drawNew = function () {\r\n    var context, borderColor, r;\r\n\r\n    // initialize my surface property\r\n    this.image = newCanvas(this.extent());\r\n    context = this.image.getContext('2d');\r\n    if (this.cachedNormalColor) { // if flashing\r\n        borderColor = this.color;\r\n    } else if (this.parent) {\r\n        borderColor = this.parent.color;\r\n    } else {\r\n        borderColor = new Color(120, 120, 120);\r\n    }\r\n    context.fillStyle = this.color.toString();\r\n    if (this.isReadOnly && !this.cachedNormalColor) { // unless flashing\r\n        context.fillStyle = borderColor.darker().toString();\r\n    }\r\n\r\n    // cache my border colors\r\n    this.cachedClr = borderColor.toString();\r\n    this.cachedClrBright = borderColor.lighter(this.contrast)\r\n        .toString();\r\n    this.cachedClrDark = borderColor.darker(this.contrast).toString();\r\n\r\n    if (!this.isNumeric) {\r\n        context.fillRect(\r\n            this.edge,\r\n            this.edge,\r\n            this.width() - this.edge * 2,\r\n            this.height() - this.edge * 2\r\n        );\r\n        if (!MorphicPreferences.isFlat) {\r\n            this.drawRectBorder(context);\r\n        }\r\n    } else {\r\n        r = (this.height() - (this.edge * 2)) / 2;\r\n        context.beginPath();\r\n        context.arc(\r\n            r + this.edge,\r\n            r + this.edge,\r\n            r,\r\n            radians(90),\r\n            radians(-90),\r\n            false\r\n        );\r\n        context.arc(\r\n            this.width() - r - this.edge,\r\n            r + this.edge,\r\n            r,\r\n            radians(-90),\r\n            radians(90),\r\n            false\r\n        );\r\n        context.closePath();\r\n        context.fill();\r\n        if (!MorphicPreferences.isFlat) {\r\n            this.drawRoundBorder(context);\r\n        }\r\n    }\r\n};\r\n\r\nInputSlotMorph.prototype.drawRectBorder = function (context) {\r\n    var shift = this.edge * 0.5,\r\n        gradient;\r\n\r\n    context.lineWidth = this.edge;\r\n    context.lineJoin = 'round';\r\n    context.lineCap = 'round';\r\n\r\n    context.shadowOffsetY = shift;\r\n    context.shadowBlur = this.edge;\r\n    context.shadowColor = this.color.darker(80).toString();\r\n\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        0,\r\n        0,\r\n        this.edge\r\n    );\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    gradient.addColorStop(1, this.cachedClrDark);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(this.edge, shift);\r\n    context.lineTo(this.width() - this.edge - shift, shift);\r\n    context.stroke();\r\n\r\n    context.shadowOffsetY = 0;\r\n\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        0,\r\n        this.edge,\r\n        0\r\n    );\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    gradient.addColorStop(1, this.cachedClrDark);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(shift, this.edge);\r\n    context.lineTo(shift, this.height() - this.edge - shift);\r\n    context.stroke();\r\n\r\n    context.shadowOffsetX = 0;\r\n    context.shadowOffsetY = 0;\r\n    context.shadowBlur = 0;\r\n\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        this.height() - this.edge,\r\n        0,\r\n        this.height()\r\n    );\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    gradient.addColorStop(1, this.cachedClr);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(this.edge, this.height() - shift);\r\n    context.lineTo(this.width() - this.edge, this.height() - shift);\r\n    context.stroke();\r\n\r\n    gradient = context.createLinearGradient(\r\n        this.width() - this.edge,\r\n        0,\r\n        this.width(),\r\n        0\r\n    );\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    gradient.addColorStop(1, this.cachedClr);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(this.width() - shift, this.edge);\r\n    context.lineTo(this.width() - shift, this.height() - this.edge);\r\n    context.stroke();\r\n\r\n};\r\n\r\nInputSlotMorph.prototype.drawRoundBorder = function (context) {\r\n    var shift = this.edge * 0.5,\r\n        r = (this.height() - (this.edge * 2)) / 2,\r\n        start,\r\n        end,\r\n        gradient;\r\n\r\n    context.lineWidth = this.edge;\r\n    context.lineJoin = 'round';\r\n    context.lineCap = 'round';\r\n\r\n    // straight top edge:\r\n    start = r + this.edge;\r\n    end = this.width() - r - this.edge;\r\n    if (end > start) {\r\n\r\n        context.shadowOffsetX = shift;\r\n        context.shadowOffsetY = shift;\r\n        context.shadowBlur = this.edge;\r\n        context.shadowColor = this.color.darker(80).toString();\r\n\r\n        gradient = context.createLinearGradient(\r\n            0,\r\n            0,\r\n            0,\r\n            this.edge\r\n        );\r\n        gradient.addColorStop(0, this.cachedClr);\r\n        gradient.addColorStop(1, this.cachedClrDark);\r\n        context.strokeStyle = gradient;\r\n        context.beginPath();\r\n\r\n        context.moveTo(start, shift);\r\n        context.lineTo(end, shift);\r\n        context.stroke();\r\n\r\n        context.shadowOffsetX = 0;\r\n        context.shadowOffsetY = 0;\r\n        context.shadowBlur = 0;\r\n    }\r\n\r\n    // straight bottom edge:\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        this.height() - this.edge,\r\n        0,\r\n        this.height()\r\n    );\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    gradient.addColorStop(1, this.cachedClr);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(r + this.edge, this.height() - shift);\r\n    context.lineTo(this.width() - r - this.edge, this.height() - shift);\r\n    context.stroke();\r\n\r\n    r = this.height() / 2;\r\n\r\n    context.shadowOffsetX = shift;\r\n    context.shadowOffsetY = shift;\r\n    context.shadowBlur = this.edge;\r\n    context.shadowColor = this.color.darker(80).toString();\r\n\r\n    // top edge: left corner\r\n    gradient = context.createRadialGradient(\r\n        r,\r\n        r,\r\n        r - this.edge,\r\n        r,\r\n        r,\r\n        r\r\n    );\r\n    gradient.addColorStop(1, this.cachedClr);\r\n    gradient.addColorStop(0, this.cachedClrDark);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.arc(\r\n        r,\r\n        r,\r\n        r - shift,\r\n        radians(180),\r\n        radians(270),\r\n        false\r\n    );\r\n\r\n    context.stroke();\r\n\r\n    context.shadowOffsetX = 0;\r\n    context.shadowOffsetY = 0;\r\n    context.shadowBlur = 0;\r\n\r\n    // bottom edge: right corner\r\n    gradient = context.createRadialGradient(\r\n        this.width() - r,\r\n        r,\r\n        r - this.edge,\r\n        this.width() - r,\r\n        r,\r\n        r\r\n    );\r\n    gradient.addColorStop(1, this.cachedClr);\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.arc(\r\n        this.width() - r,\r\n        r,\r\n        r - shift,\r\n        radians(0),\r\n        radians(90),\r\n        false\r\n    );\r\n    context.stroke();\r\n};\r\n\r\n\r\n\r\n\r\n\r\n// TemplateSlotMorph ///////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a reporter block template sitting on a pedestal.\r\n    My block spec is\r\n\r\n    %t        - template\r\n\r\n    evaluate returns the embedded reporter template's label string\r\n*/\r\n\r\n// TemplateSlotMorph inherits from ArgMorph:\r\n\r\nTemplateSlotMorph.prototype = new ArgMorph();\r\nTemplateSlotMorph.prototype.constructor = TemplateSlotMorph;\r\nTemplateSlotMorph.uber = ArgMorph.prototype;\r\n\r\n// TemplateSlotMorph instance creation:\r\n\r\nfunction TemplateSlotMorph(name) {\r\n    this.init(name);\r\n}\r\n\r\nTemplateSlotMorph.prototype.init = function (name) {\r\n    var template = new ReporterBlockMorph();\r\n    this.labelString = name || '';\r\n    template.isDraggable = false;\r\n    template.isTemplate = true;\r\n    if (modules.objects !== undefined) {\r\n        template.color = SpriteMorph.prototype.blockColor.variables;\r\n        template.category = 'variables';\r\n    } else {\r\n        template.color = new Color(243, 118, 29);\r\n        template.category = null;\r\n    }\r\n    template.setSpec(this.labelString);\r\n    template.selector = 'reportGetVar';\r\n    TemplateSlotMorph.uber.init.call(this);\r\n    this.add(template);\r\n    this.fixLayout();\r\n    this.isDraggable = false;\r\n    this.isStatic = true; // I cannot be exchanged\r\n};\r\n\r\n// TemplateSlotMorph accessing:\r\n\r\nTemplateSlotMorph.prototype.getSpec = function () {\r\n    return '%t';\r\n};\r\n\r\nTemplateSlotMorph.prototype.template = function () {\r\n    return this.children[0];\r\n};\r\n\r\nTemplateSlotMorph.prototype.contents = function () {\r\n    return this.template().blockSpec;\r\n};\r\n\r\nTemplateSlotMorph.prototype.setContents = function (aString) {\r\n    var tmp = this.template();\r\n    tmp.setSpec(aString);\r\n    tmp.fixBlockColor(); // fix zebra coloring\r\n    tmp.fixLabelColor();\r\n};\r\n\r\n// TemplateSlotMorph evaluating:\r\n\r\nTemplateSlotMorph.prototype.evaluate = function () {\r\n    return this.contents();\r\n};\r\n\r\n// TemplateSlotMorph layout:\r\n\r\nTemplateSlotMorph.prototype.fixLayout = function () {\r\n    var template = this.template();\r\n    this.setExtent(template.extent().add(this.edge * 2 + 2));\r\n    template.setPosition(this.position().add(this.edge + 1));\r\n    if (this.parent) {\r\n        if (this.parent.fixLayout) {\r\n            this.parent.fixLayout();\r\n        }\r\n    }\r\n};\r\n\r\n// TemplateSlotMorph drop behavior:\r\n\r\nTemplateSlotMorph.prototype.wantsDropOf = function (aMorph) {\r\n    return aMorph.selector === 'reportGetVar';\r\n};\r\n\r\nTemplateSlotMorph.prototype.reactToDropOf = function (droppedMorph) {\r\n    if (droppedMorph.selector === 'reportGetVar') {\r\n        droppedMorph.destroy();\r\n    }\r\n};\r\n\r\n// TemplateSlotMorph drawing:\r\n\r\nTemplateSlotMorph.prototype.drawNew = function () {\r\n    var context;\r\n    if (this.parent instanceof Morph) {\r\n        this.color = this.parent.color.copy();\r\n    }\r\n    this.cachedClr = this.color.toString();\r\n    this.cachedClrBright = this.bright();\r\n    this.cachedClrDark = this.dark();\r\n    this.image = newCanvas(this.extent());\r\n    context = this.image.getContext('2d');\r\n    context.fillStyle = this.cachedClr;\r\n    this.drawRounded(context);\r\n};\r\n\r\nTemplateSlotMorph.prototype.drawRounded = ReporterBlockMorph\r\n    .prototype.drawRounded;\r\n\r\n// TemplateSlotMorph single-stepping\r\n\r\nTemplateSlotMorph.prototype.flash = function () {\r\n    this.template().flash();\r\n};\r\n\r\nTemplateSlotMorph.prototype.unflash = function () {\r\n    this.template().unflash();\r\n};\r\n\r\n// BooleanSlotMorph ////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a diamond-shaped argument slot.\r\n    My block spec is\r\n\r\n    %b         - Boolean\r\n    %boolUE    - Boolean unevaluated\r\n\r\n    I can be directly edited. When the user clicks on me I toggle\r\n    between <true>, <false> and <null> values.\r\n\r\n    evaluate() returns my value.\r\n\r\n    my most important public attributes and accessors are:\r\n\r\n    value                      - user editable contents (Boolean or null)\r\n    setContents(Boolean/null)  - display the argument (Boolean or null)\r\n*/\r\n\r\n// BooleanSlotMorph inherits from ArgMorph:\r\n\r\nBooleanSlotMorph.prototype = new ArgMorph();\r\nBooleanSlotMorph.prototype.constructor = BooleanSlotMorph;\r\nBooleanSlotMorph.uber = ArgMorph.prototype;\r\n\r\n// BooleanSlotMorph preferences settings\r\n\r\nBooleanSlotMorph.prototype.isTernary = true;\r\n\r\n// BooleanSlotMorph instance creation:\r\n\r\nfunction BooleanSlotMorph(initialValue) {\r\n    this.init(initialValue);\r\n}\r\n\r\nBooleanSlotMorph.prototype.init = function (initialValue) {\r\n    this.value = (typeof initialValue === 'boolean') ? initialValue : null;\r\n    this.isUnevaluated = false;\r\n    BooleanSlotMorph.uber.init.call(this);\r\n};\r\n\r\nBooleanSlotMorph.prototype.getSpec = function () {\r\n    return this.isUnevaluated ? '%boolUE' : '%b';\r\n};\r\n\r\n// BooleanSlotMorph accessing:\r\n\r\nBooleanSlotMorph.prototype.evaluate = function () {\r\n    return this.value;\r\n};\r\n\r\nBooleanSlotMorph.prototype.isEmptySlot = function () {\r\n    return this.value === null;\r\n};\r\n\r\nBooleanSlotMorph.prototype.isBinary = function () {\r\n    return !this.isTernary &&\r\n        isNil(this.parentThatIsA(RingMorph)) &&\r\n        !isNil(this.parentThatIsA(ScriptsMorph));\r\n};\r\n\r\nBooleanSlotMorph.prototype.setContents = function (boolOrNull, silently) {\r\n    this.value = (typeof boolOrNull === 'boolean') ? boolOrNull : null;\r\n    if (silently) {return; }\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nBooleanSlotMorph.prototype.toggleValue = function () {\r\n    var target = this.selectForEdit(),\r\n        ide;\r\n    if (target !== this) {\r\n        return this.toggleValue.call(target);\r\n    }\r\n    ide = this.parentThatIsA(IDE_Morph);\r\n    if (this.isStatic || this.isBinary()) {\r\n        this.setContents(!this.value, true);\r\n    } else {\r\n        switch (this.value) {\r\n        case true:\r\n            this.value = false;\r\n            break;\r\n        case false:\r\n            this.value = null;\r\n            break;\r\n        default:\r\n            this.value = true;\r\n        }\r\n    }\r\n    if (ide && !ide.isAnimating) {\r\n        this.drawNew();\r\n        this.changed();\r\n        return;\r\n    }\r\n    this.drawNew(3);\r\n    this.changed();\r\n    this.nextSteps ([\r\n        function () {\r\n            this.drawNew(2);\r\n            this.changed();\r\n        },\r\n        function () {\r\n            this.drawNew(1);\r\n            this.changed();\r\n        },\r\n        function () {\r\n            this.drawNew();\r\n            this.changed();\r\n        },\r\n    ]);\r\n};\r\n\r\n// BooleanSlotMorph events:\r\n\r\nBooleanSlotMorph.prototype.mouseClickLeft = function () {\r\n    this.toggleValue();\r\n    if (isNil(this.value)) {return; }\r\n    this.reactToSliderEdit();\r\n};\r\n\r\nBooleanSlotMorph.prototype.mouseEnter = function () {\r\n    if (this.isStatic) {return; }\r\n    if (this.value === false && !this.isBinary()) {\r\n        var oldValue = this.value;\r\n        this.value = null;\r\n        this.drawNew(3);\r\n        this.changed();\r\n        this.value = oldValue;\r\n        return;\r\n    }\r\n    this.drawNew(1);\r\n    this.changed();\r\n};\r\n\r\nBooleanSlotMorph.prototype.mouseLeave = function () {\r\n    if (this.isStatic) {return; }\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\n// BooleanSlotMorph menu:\r\n\r\nBooleanSlotMorph.prototype.userMenu = function () {\r\n    var menu = new MenuMorph(this);\r\n    if (!StageMorph.prototype.enableCodeMapping) {\r\n        return this.parent.userMenu();\r\n    }\r\n    if (this.evaluate() === true) {\r\n        menu.addItem(\r\n            'code true mapping...',\r\n            'mapTrueToCode'\r\n        );\r\n    } else {\r\n        menu.addItem(\r\n            'code false mapping...',\r\n            'mapFalseToCode'\r\n        );\r\n    }\r\n    return menu;\r\n};\r\n\r\n// BooleanSlotMorph code mapping\r\n\r\n/*\r\n    code mapping lets you use blocks to generate arbitrary text-based\r\n    source code that can be exported and compiled / embedded elsewhere,\r\n    it's not part of Snap's evaluator and not needed for Snap itself\r\n*/\r\n\r\nBooleanSlotMorph.prototype.mapTrueToCode = function () {\r\n    // private - open a dialog box letting the user map code via the GUI\r\n    new DialogBoxMorph(\r\n        this,\r\n        function (code) {\r\n            StageMorph.prototype.codeMappings['true'] = code;\r\n        },\r\n        this\r\n    ).promptCode(\r\n        'Code mapping - true',\r\n        StageMorph.prototype.codeMappings['true'] || 'true',\r\n        this.world()\r\n    );\r\n};\r\n\r\nBooleanSlotMorph.prototype.mapFalseToCode = function () {\r\n    // private - open a dialog box letting the user map code via the GUI\r\n    new DialogBoxMorph(\r\n        this,\r\n        function (code) {\r\n            StageMorph.prototype.codeMappings['false'] = code;\r\n        },\r\n        this\r\n    ).promptCode(\r\n        'Code mapping - false',\r\n        StageMorph.prototype.codeMappings['false'] || 'false',\r\n        this.world()\r\n    );\r\n};\r\n\r\nBooleanSlotMorph.prototype.mappedCode = function () {\r\n    if (this.evaluate() === true) {\r\n        return StageMorph.prototype.codeMappings.boolTrue || 'true';\r\n    }\r\n    return StageMorph.prototype.codeMappings.boolFalse || 'false';\r\n};\r\n\r\n// BooleanSlotMorph drawing:\r\n\r\nBooleanSlotMorph.prototype.drawNew = function (progress) {\r\n    // \"progress\" is an optional number sliding the knob\r\n    // on a range between 0 and 4\r\n    var context,\r\n        textLabel = this.isStatic ? this.textLabel() : null,\r\n        h;\r\n\r\n    if (textLabel) {\r\n        h = textLabel.height + (this.edge * 3);\r\n        this.silentSetExtent(new Point(\r\n            textLabel.width + (h * 1.5) + (this.edge * 2),\r\n            h\r\n        ));\r\n    } else {\r\n        this.silentSetExtent(new Point(\r\n            (this.fontSize + this.edge * 2) * 2,\r\n            this.fontSize + this.edge * 2\r\n        ));\r\n    }\r\n    if (!(this.cachedNormalColor)) { // unless flashing\r\n        this.color = this.parent ?\r\n                this.parent.color : new Color(200, 200, 200);\r\n    }\r\n    this.cachedClr = this.color.toString();\r\n    this.cachedClrBright = this.bright();\r\n    this.cachedClrDark = this.dark();\r\n    this.image = newCanvas(this.extent());\r\n    context = this.image.getContext('2d');\r\n    this.drawDiamond(context, progress);\r\n    this.drawLabel(context, textLabel);\r\n    this.drawKnob(context, progress);\r\n};\r\n\r\nBooleanSlotMorph.prototype.drawDiamond = function (context, progress) {\r\n    var w = this.width(),\r\n        h = this.height(),\r\n        r = h / 2,\r\n        w2 = w / 2,\r\n        shift = this.edge / 2,\r\n        gradient;\r\n\r\n    // draw the 'flat' shape:\r\n    if (this.cachedNormalColor) { // if flashing\r\n        context.fillStyle = this.color.toString();\r\n    } else {\r\n        switch (this.value) {\r\n        case true:\r\n            context.fillStyle = 'rgb(0, 200, 0)';\r\n            break;\r\n        case false:\r\n            context.fillStyle = 'rgb(200, 0, 0)';\r\n            break;\r\n        default:\r\n            context.fillStyle = this.color.darker(25).toString();\r\n        }\r\n    }\r\n\r\n    if (progress && !this.isEmptySlot()) {\r\n        // left half:\r\n        context.fillStyle = 'rgb(0, 200, 0)';\r\n        context.beginPath();\r\n        context.moveTo(0, r);\r\n        context.lineTo(r, 0);\r\n        context.lineTo(w2, 0);\r\n        context.lineTo(w2, h);\r\n        context.lineTo(r, h);\r\n        context.closePath();\r\n        context.fill();\r\n\r\n        // right half:\r\n        context.fillStyle = 'rgb(200, 0, 0)';\r\n        context.beginPath();\r\n        context.moveTo(w2, 0);\r\n        context.lineTo(w - r, 0);\r\n        context.lineTo(w, r);\r\n        context.lineTo(w - r, h);\r\n        context.lineTo(w2, h);\r\n        context.closePath();\r\n        context.fill();\r\n    } else {\r\n        context.beginPath();\r\n        context.moveTo(0, r);\r\n        context.lineTo(r, 0);\r\n        context.lineTo(w - r, 0);\r\n        context.lineTo(w, r);\r\n        context.lineTo(w - r, h);\r\n        context.lineTo(r, h);\r\n        context.closePath();\r\n        context.fill();\r\n    }\r\n\r\n    if (MorphicPreferences.isFlat) {return; }\r\n\r\n    // add 3D-Effect:\r\n    context.lineWidth = this.edge;\r\n    context.lineJoin = 'round';\r\n    context.lineCap = 'round';\r\n\r\n    context.shadowOffsetX = shift;\r\n    context.shadowBlur = shift;\r\n    context.shadowColor = 'black';\r\n\r\n    // top edge: left corner\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        r,\r\n        this.edge * 0.6,\r\n        r + (this.edge * 0.6)\r\n    );\r\n    gradient.addColorStop(1, this.cachedClrDark);\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(shift, r);\r\n    context.lineTo(r, shift);\r\n    context.closePath();\r\n    context.stroke();\r\n\r\n    // top edge: straight line\r\n    context.shadowOffsetX = 0;\r\n    context.shadowOffsetY = shift;\r\n    context.shadowBlur = this.edge;\r\n\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        0,\r\n        0,\r\n        this.edge\r\n    );\r\n    gradient.addColorStop(1, this.cachedClrDark);\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(r, shift);\r\n    context.lineTo(w - r, shift);\r\n    context.closePath();\r\n    context.stroke();\r\n\r\n    context.shadowOffsetY = 0;\r\n    context.shadowBlur = 0;\r\n\r\n    // bottom edge: right corner\r\n    gradient = context.createLinearGradient(\r\n        w - r - (this.edge * 0.6),\r\n        h - (this.edge * 0.6),\r\n        w - r,\r\n        h\r\n    );\r\n    gradient.addColorStop(1, this.cachedClr);\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(w - r, h - shift);\r\n    context.lineTo(w - shift, r);\r\n    context.closePath();\r\n    context.stroke();\r\n\r\n    // bottom edge: straight line\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        h - this.edge,\r\n        0,\r\n        h\r\n    );\r\n    gradient.addColorStop(1, this.cachedClr);\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(r, h - shift);\r\n    context.lineTo(w - r - shift, h - shift);\r\n    context.closePath();\r\n    context.stroke();\r\n};\r\n\r\nBooleanSlotMorph.prototype.drawLabel = function (context, textLabel) {\r\n    var w = this.width(),\r\n        r = this.height() / 2 - this.edge,\r\n        r2 = r / 2,\r\n        shift = this.edge / 2,\r\n        x,\r\n        y = this.height() / 2;\r\n\r\n    if (this.isEmptySlot()) {\r\n        return;\r\n    }\r\n    if (textLabel) {\r\n        y = (this.height() - textLabel.height) / 2;\r\n        if (this.value) {\r\n            x = this.height() / 2;\r\n        } else {\r\n            x = this.width() - (this.height() / 2) - textLabel.width;\r\n        }\r\n    if (!MorphicPreferences.isFlat) {\r\n        context.shadowOffsetX = -shift;\r\n        context.shadowOffsetY = -shift;\r\n        context.shadowBlur = shift;\r\n        context.shadowColor = this.value ? 'rgb(0, 100, 0)' : 'rgb(100, 0, 0)';\r\n    }\r\n        context.drawImage(textLabel, x, y);\r\n        return;\r\n    }\r\n    // \"tick:\"\r\n    x = r + (this.edge * 2) + shift;\r\n    if (!MorphicPreferences.isFlat) {\r\n        context.shadowOffsetX = -shift;\r\n        context.shadowOffsetY = -shift;\r\n        context.shadowBlur = shift;\r\n        context.shadowColor = 'rgb(0, 100, 0)';\r\n    }\r\n    context.strokeStyle = 'white';\r\n    context.lineWidth = this.edge + shift;\r\n    context.lineCap = 'round';\r\n    context.lineJoin = 'miter';\r\n    context.beginPath();\r\n    context.moveTo(x - r2, y);\r\n    context.lineTo(x, y + r2);\r\n    context.lineTo(x + r2, r2 + this.edge);\r\n    context.stroke();\r\n\r\n    // \"cross:\"\r\n    x = w - y - (this.edge * 2);\r\n    if (!MorphicPreferences.isFlat) {\r\n        context.shadowOffsetX = -shift;\r\n        context.shadowOffsetY = -shift;\r\n        context.shadowBlur = shift;\r\n        context.shadowColor = 'rgb(100, 0, 0)';\r\n    }\r\n    context.strokeStyle = 'white';\r\n    context.lineWidth = this.edge;\r\n    context.lineCap = 'butt';\r\n    context.beginPath();\r\n    context.moveTo(x - r2, y - r2);\r\n    context.lineTo(x + r2, y + r2);\r\n    context.moveTo(x - r2, y + r2);\r\n    context.lineTo(x + r2, y - r2);\r\n    context.stroke();\r\n};\r\n\r\nBooleanSlotMorph.prototype.drawKnob = function (context, progress) {\r\n    var w = this.width(),\r\n        r = this.height() / 2,\r\n        shift = this.edge / 2,\r\n        slideStep = (this.width() - this.height()) / 4 * (progress || 0),\r\n        gradient,\r\n        x,\r\n        y = r,\r\n        outline = PushButtonMorph.prototype.outline / 2,\r\n        outlineColor = PushButtonMorph.prototype.outlineColor,\r\n        color = PushButtonMorph.prototype.color,\r\n        contrast = PushButtonMorph.prototype.contrast,\r\n        topColor = color.lighter(contrast),\r\n        bottomColor = color.darker(contrast);\r\n\r\n    // draw the 'flat' shape:\r\n    switch (this.value) {\r\n    case false:\r\n        x = r + slideStep;\r\n        if (!MorphicPreferences.isFlat) {\r\n            context.shadowOffsetX = shift;\r\n            context.shadowOffsetY = 0;\r\n            context.shadowBlur = shift;\r\n            context.shadowColor = 'black';\r\n        }\r\n        break;\r\n    case true:\r\n        x = w - r - slideStep;\r\n        if (!MorphicPreferences.isFlat) {\r\n            context.shadowOffsetX = 0;\r\n            context.shadowOffsetY = 0;\r\n            context.shadowBlur = 0;\r\n        }\r\n        break;\r\n    default:\r\n        if (!progress) {return; }\r\n        x = r;\r\n        if (!MorphicPreferences.isFlat) {\r\n            context.shadowOffsetX = shift;\r\n            context.shadowOffsetY = 0;\r\n            context.shadowBlur = shift;\r\n            context.shadowColor = 'black';\r\n        }\r\n        context.globalAlpha = 0.2 * ((progress || 0) + 1);\r\n    }\r\n\r\n    context.fillStyle = color.toString();\r\n    context.beginPath();\r\n    context.arc(x, y, r, radians(0), radians(360));\r\n    context.closePath();\r\n    context.fill();\r\n\r\n    if (MorphicPreferences.isFlat) {return; }\r\n\r\n    // add 3D-Effect\r\n    // outline:\r\n    context.shadowOffsetX = 0;\r\n    context.shadowBlur = 0;\r\n    context.shadowColor = 'black';\r\n    context.lineWidth = outline;\r\n    context.strokeStyle = outlineColor.toString();\r\n    context.beginPath();\r\n    context.arc(x, y, r - (outline / 2), radians(0), radians(360));\r\n    context.stroke();\r\n\r\n    // top-left:\r\n    gradient = context.createRadialGradient(\r\n        x,\r\n        y,\r\n        r - outline - this.edge,\r\n        x,\r\n        y,\r\n        r - outline\r\n    );\r\n    gradient.addColorStop(1, topColor.toString());\r\n    gradient.addColorStop(0, color.toString());\r\n\r\n    context.strokeStyle = gradient;\r\n    context.lineCap = 'round';\r\n    context.lineWidth = this.edge;\r\n    context.beginPath();\r\n    context.arc(\r\n        x,\r\n        y,\r\n        r - outline - this.edge / 2,\r\n        radians(180),\r\n        radians(270),\r\n        false\r\n    );\r\n    context.stroke();\r\n\r\n    // bottom-right:\r\n    gradient = context.createRadialGradient(\r\n        x,\r\n        y,\r\n        r - outline - this.edge,\r\n        x,\r\n        y,\r\n        r - outline\r\n    );\r\n    gradient.addColorStop(1, bottomColor.toString());\r\n    gradient.addColorStop(0, color.toString());\r\n\r\n    context.strokeStyle = gradient;\r\n    context.lineCap = 'round';\r\n    context.lineWidth = this.edge;\r\n    context.beginPath();\r\n    context.arc(\r\n        x,\r\n        y,\r\n        r - outline - this.edge / 2,\r\n        radians(0),\r\n        radians(90),\r\n        false\r\n    );\r\n    context.stroke();\r\n};\r\n\r\nBooleanSlotMorph.prototype.textLabel = function () {\r\n    if (this.isEmptySlot()) {return null; }\r\n    var t, f, img, lbl, x, y;\r\n    t = new StringMorph(\r\n        localize('true'),\r\n        this.fontSize,\r\n        null,\r\n        true, // bold\r\n        null,\r\n        null,\r\n        null,\r\n        null,\r\n        new Color(255, 255, 255)\r\n    ).image;\r\n    f = new StringMorph(\r\n        localize('false'),\r\n        this.fontSize,\r\n        null,\r\n        true, // bold\r\n        null,\r\n        null,\r\n        null,\r\n        null,\r\n        new Color(255, 255, 255)\r\n    ).image;\r\n    img = newCanvas(new Point(\r\n        Math.max(t.width, f.width),\r\n        Math.max(t.height, f.height)\r\n    ));\r\n    lbl = this.value ? t : f;\r\n    x = (img.width - lbl.width) / 2;\r\n    y = (img.height - lbl.height) / 2;\r\n    img.getContext('2d').drawImage(lbl, x, y);\r\n    return img;\r\n};\r\n\r\n// ArrowMorph //////////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a triangular arrow shape, for use in drop-down menus etc.\r\n    My orientation is governed by my 'direction' property, which can be\r\n    'down', 'up', 'left' or 'right'.\r\n*/\r\n\r\n// ArrowMorph inherits from Morph:\r\n\r\nArrowMorph.prototype = new Morph();\r\nArrowMorph.prototype.constructor = ArrowMorph;\r\nArrowMorph.uber = Morph.prototype;\r\n\r\n// ArrowMorph instance creation:\r\n\r\nfunction ArrowMorph(direction, size, padding, color) {\r\n    this.init(direction, size, padding, color);\r\n}\r\n\r\nArrowMorph.prototype.init = function (direction, size, padding, color) {\r\n    this.direction = direction || 'down';\r\n    this.size = size || ((size === 0) ? 0 : 50);\r\n    this.padding = padding || 0;\r\n\r\n    ArrowMorph.uber.init.call(this, true); // silently\r\n    this.color = color || new Color(0, 0, 0);\r\n    this.setExtent(new Point(this.size, this.size));\r\n};\r\n\r\nArrowMorph.prototype.setSize = function (size) {\r\n    var min = Math.max(size, 1);\r\n    this.size = size;\r\n    this.setExtent(new Point(min, min));\r\n};\r\n\r\n// ArrowMorph displaying:\r\n\r\nArrowMorph.prototype.drawNew = function () {\r\n    // initialize my surface property\r\n    this.image = newCanvas(this.extent());\r\n    var context = this.image.getContext('2d'),\r\n        pad = this.padding,\r\n        h = this.height(),\r\n        h2 = Math.floor(h / 2),\r\n        w = this.width(),\r\n        w2 = Math.floor(w / 2);\r\n\r\n    context.fillStyle = this.color.toString();\r\n    context.beginPath();\r\n    if (this.direction === 'down') {\r\n        context.moveTo(pad, h2);\r\n        context.lineTo(w - pad, h2);\r\n        context.lineTo(w2, h - pad);\r\n    } else if (this.direction === 'up') {\r\n        context.moveTo(pad, h2);\r\n        context.lineTo(w - pad, h2);\r\n        context.lineTo(w2, pad);\r\n    } else if (this.direction === 'left') {\r\n        context.moveTo(pad, h2);\r\n        context.lineTo(w2, pad);\r\n        context.lineTo(w2, h - pad);\r\n    } else { // 'right'\r\n        context.moveTo(w2, pad);\r\n        context.lineTo(w - pad, h2);\r\n        context.lineTo(w2, h - pad);\r\n    }\r\n    context.closePath();\r\n    context.fill();\r\n};\r\n\r\n// TextSlotMorph //////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a multi-line input slot, primarily used in Snap's code-mapping\r\n    blocks.\r\n*/\r\n\r\n// TextSlotMorph inherits from InputSlotMorph:\r\n\r\nTextSlotMorph.prototype = new InputSlotMorph();\r\nTextSlotMorph.prototype.constructor = TextSlotMorph;\r\nTextSlotMorph.uber = InputSlotMorph.prototype;\r\n\r\n// TextSlotMorph instance creation:\r\n\r\nfunction TextSlotMorph(text, isNumeric, choiceDict, isReadOnly) {\r\n    this.init(text, isNumeric, choiceDict, isReadOnly);\r\n}\r\n\r\nTextSlotMorph.prototype.init = function (\r\n    text,\r\n    isNumeric,\r\n    choiceDict,\r\n    isReadOnly\r\n) {\r\n    var contents = new TextMorph(''),\r\n        arrow = new ArrowMorph(\r\n            'down',\r\n            0,\r\n            Math.max(Math.floor(this.fontSize / 6), 1)\r\n        );\r\n\r\n    contents.fontSize = this.fontSize;\r\n    contents.drawNew();\r\n\r\n    this.isUnevaluated = false;\r\n    this.choices = choiceDict || null; // object, function or selector\r\n    this.oldContentsExtent = contents.extent();\r\n    this.isNumeric = isNumeric || false;\r\n    this.isReadOnly = isReadOnly || false;\r\n    this.minWidth = 0; // can be chaged for text-type inputs (\"landscape\")\r\n    this.constant = null;\r\n\r\n    InputSlotMorph.uber.init.call(this, null, null, null, null, true); // sil.\r\n    this.color = new Color(255, 255, 255);\r\n    this.add(contents);\r\n    this.add(arrow);\r\n    contents.isEditable = true;\r\n    contents.isDraggable = false;\r\n    contents.enableSelecting();\r\n    this.setContents(text);\r\n\r\n};\r\n\r\n// TextSlotMorph accessing:\r\n\r\nTextSlotMorph.prototype.getSpec = function () {\r\n    if (this.isNumeric) {\r\n        return '%mln';\r\n    }\r\n    return '%mlt'; // default\r\n};\r\n\r\nTextSlotMorph.prototype.contents = function () {\r\n    return detect(\r\n        this.children,\r\n        function (child) {\r\n            return (child instanceof TextMorph);\r\n        }\r\n    );\r\n};\r\n\r\n// TextSlotMorph events:\r\n\r\nTextSlotMorph.prototype.layoutChanged = function () {\r\n    this.fixLayout();\r\n};\r\n\r\n// ColorSlotMorph //////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am an editable input slot for a color. Users can edit my color by\r\n    clicking on me, in which case a display a color gradient palette\r\n    and let the user select another color. Note that the user isn't\r\n    restricted to selecting a color from the palette, any color from\r\n    anywhere within the World can be chosen.\r\n\r\n    my block spec is %clr\r\n\r\n    evaluate() returns my color\r\n*/\r\n\r\n// ColorSlotMorph  inherits from ArgMorph:\r\n\r\nColorSlotMorph.prototype = new ArgMorph();\r\nColorSlotMorph.prototype.constructor = ColorSlotMorph;\r\nColorSlotMorph.uber = ArgMorph.prototype;\r\n\r\n// ColorSlotMorph  instance creation:\r\n\r\nfunction ColorSlotMorph(clr) {\r\n    this.init(clr);\r\n}\r\n\r\nColorSlotMorph.prototype.init = function (clr) {\r\n    ColorSlotMorph.uber.init.call(this, null, true); // silently\r\n    this.setColor(clr || new Color(145, 26, 68));\r\n};\r\n\r\nColorSlotMorph.prototype.getSpec = function () {\r\n    return '%clr';\r\n};\r\n\r\n// ColorSlotMorph  color sensing:\r\n\r\nColorSlotMorph.prototype.getUserColor = function () {\r\n    var myself = this,\r\n        world = this.world(),\r\n        hand = world.hand,\r\n        posInDocument = getDocumentPositionOf(world.worldCanvas),\r\n        mouseMoveBak = hand.processMouseMove,\r\n        mouseDownBak = hand.processMouseDown,\r\n        mouseUpBak = hand.processMouseUp,\r\n        pal = new ColorPaletteMorph(null, new Point(\r\n            this.fontSize * 16,\r\n            this.fontSize * 10\r\n        ));\r\n    world.add(pal);\r\n    pal.setPosition(this.bottomLeft().add(new Point(0, this.edge)));\r\n\r\n    hand.processMouseMove = function (event) {\r\n        var clr = world.getGlobalPixelColor(hand.position());\r\n        hand.setPosition(new Point(\r\n            event.pageX - posInDocument.x,\r\n            event.pageY - posInDocument.y\r\n        ));\r\n        if (!clr.a) {\r\n            // ignore transparent,\r\n            // needed for retina-display support\r\n            return;\r\n        }\r\n        myself.setColor(clr);\r\n    };\r\n\r\n    hand.processMouseDown = nop;\r\n\r\n    hand.processMouseUp = function () {\r\n        pal.destroy();\r\n        hand.processMouseMove = mouseMoveBak;\r\n        hand.processMouseDown = mouseDownBak;\r\n        hand.processMouseUp = mouseUpBak;\r\n    };\r\n};\r\n\r\n// ColorSlotMorph events:\r\n\r\nColorSlotMorph.prototype.mouseClickLeft = function () {\r\n    this.selectForEdit().getUserColor();\r\n};\r\n\r\n// ColorSlotMorph evaluating:\r\n\r\nColorSlotMorph.prototype.evaluate = function () {\r\n    return this.color;\r\n};\r\n\r\n// ColorSlotMorph drawing:\r\n\r\nColorSlotMorph.prototype.drawNew = function () {\r\n    var context, borderColor, side;\r\n\r\n    side = this.fontSize + this.edge * 2 + this.typeInPadding * 2;\r\n    this.silentSetExtent(new Point(side, side));\r\n\r\n    // initialize my surface property\r\n    this.image = newCanvas(this.extent());\r\n    context = this.image.getContext('2d');\r\n    if (this.parent) {\r\n        borderColor = this.parent.color;\r\n    } else {\r\n        borderColor = new Color(120, 120, 120);\r\n    }\r\n    context.fillStyle = this.color.toString();\r\n\r\n    // cache my border colors\r\n    this.cachedClr = borderColor.toString();\r\n    this.cachedClrBright = borderColor.lighter(this.contrast)\r\n        .toString();\r\n    this.cachedClrDark = borderColor.darker(this.contrast).toString();\r\n\r\n    context.fillRect(\r\n        this.edge,\r\n        this.edge,\r\n        this.width() - this.edge * 2,\r\n        this.height() - this.edge * 2\r\n    );\r\n    if (!MorphicPreferences.isFlat) {\r\n        this.drawRectBorder(context);\r\n    }\r\n};\r\n\r\nColorSlotMorph.prototype.drawRectBorder =\r\n    InputSlotMorph.prototype.drawRectBorder;\r\n\r\n// BlockHighlightMorph /////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a glowing halo around a block or stack of blocks indicating that\r\n    a script is currently active or has encountered an error.\r\n    I halso have an optional readout that can display a thread count\r\n    if more than one process shares the same script\r\n*/\r\n\r\n// BlockHighlightMorph inherits from Morph:\r\n\r\nBlockHighlightMorph.prototype = new Morph();\r\nBlockHighlightMorph.prototype.constructor = BlockHighlightMorph;\r\nBlockHighlightMorph.uber = Morph.prototype;\r\n\r\n// BlockHighlightMorph instance creation:\r\n\r\nfunction BlockHighlightMorph() {\r\n    this.threadCount = 0;\r\n    this.init();\r\n}\r\n\r\n// BlockHighlightMorph thread count readout\r\n\r\nBlockHighlightMorph.prototype.readout = function () {\r\n    return this.children.length ? this.children[0] : null;\r\n};\r\n\r\nBlockHighlightMorph.prototype.updateReadout = function () {\r\n    var readout = this.readout(),\r\n        inset = useBlurredShadows && !MorphicPreferences.isFlat ?\r\n            SyntaxElementMorph.prototype.activeBlur * 0.4\r\n                : SyntaxElementMorph.prototype.activeBorder * -2;\r\n    if (this.threadCount < 2) {\r\n        if (readout) {\r\n            readout.destroy();\r\n        }\r\n        return;\r\n    }\r\n    if (readout) {\r\n        readout.contents = this.threadCount.toString();\r\n        readout.fullChanged();\r\n        readout.drawNew();\r\n        readout.fullChanged();\r\n    } else {\r\n        readout = new SpeechBubbleMorph(\r\n            this.threadCount.toString(),\r\n            this.color, // color,\r\n            null, // edge,\r\n            null, // border,\r\n            this.color.darker(), // borderColor,\r\n            null, // padding,\r\n            1 // isThought - don't draw a hook\r\n        );\r\n        this.add(readout);\r\n    }\r\n    readout.setPosition(this.position().add(inset));\r\n};\r\n\r\n// MultiArgMorph ///////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am an arity controlled list of input slots\r\n\r\n    my block specs are\r\n\r\n        %mult%x - where x is any single input slot\r\n        %inputs - for an additional text label 'with inputs'\r\n\r\n    evaluation is handles by the interpreter\r\n*/\r\n\r\n// MultiArgMorph inherits from ArgMorph:\r\n\r\nMultiArgMorph.prototype = new ArgMorph();\r\nMultiArgMorph.prototype.constructor = MultiArgMorph;\r\nMultiArgMorph.uber = ArgMorph.prototype;\r\n\r\n// MultiArgMorph instance creation:\r\n\r\nfunction MultiArgMorph(\r\n    slotSpec,\r\n    labelTxt,\r\n    min,\r\n    eSpec,\r\n    arrowColor,\r\n    labelColor,\r\n    shadowColor,\r\n    shadowOffset,\r\n    isTransparent\r\n) {\r\n    this.init(\r\n        slotSpec,\r\n        labelTxt,\r\n        min,\r\n        eSpec,\r\n        arrowColor,\r\n        labelColor,\r\n        shadowColor,\r\n        shadowOffset,\r\n        isTransparent\r\n    );\r\n}\r\n\r\nMultiArgMorph.prototype.init = function (\r\n    slotSpec,\r\n    labelTxt,\r\n    min,\r\n    eSpec,\r\n    arrowColor,\r\n    labelColor,\r\n    shadowColor,\r\n    shadowOffset,\r\n    isTransparent\r\n) {\r\n    var label,\r\n        arrows = new FrameMorph(),\r\n        leftArrow,\r\n        rightArrow,\r\n        i;\r\n\r\n    this.slotSpec = slotSpec || '%s';\r\n    this.labelText = localize(labelTxt || '');\r\n    this.minInputs = min || 0;\r\n    this.elementSpec = eSpec || null;\r\n    this.labelColor = labelColor || null;\r\n    this.shadowColor = shadowColor || null;\r\n    this.shadowOffset = shadowOffset || null;\r\n\r\n    this.canBeEmpty = true;\r\n    MultiArgMorph.uber.init.call(this, null, true); // silently\r\n\r\n    // MultiArgMorphs are transparent by default b/c of zebra coloring\r\n    this.alpha = isTransparent === false ? 1 : 0;\r\n    arrows.alpha = isTransparent === false ? 1 : 0;\r\n    arrows.noticesTransparentClick = true;\r\n    this.noticesTransparentclick = true;\r\n\r\n    // label text:\r\n    label = this.labelPart(this.labelText);\r\n    this.add(label);\r\n    label.hide();\r\n\r\n    // left arrow:\r\n    leftArrow = new ArrowMorph(\r\n        'left',\r\n        this.fontSize,\r\n        Math.max(Math.floor(this.fontSize / 6), 1),\r\n        arrowColor\r\n    );\r\n\r\n    // right arrow:\r\n    rightArrow = new ArrowMorph(\r\n        'right',\r\n        this.fontSize,\r\n        Math.max(Math.floor(this.fontSize / 6), 1),\r\n        arrowColor\r\n    );\r\n\r\n    // control panel:\r\n    arrows.add(leftArrow);\r\n    arrows.add(rightArrow);\r\n    arrows.drawNew();\r\n    arrows.acceptsDrops = false;\r\n\r\n    this.add(arrows);\r\n\r\n    // create the minimum number of inputs\r\n    for (i = 0; i < this.minInputs; i += 1) {\r\n        this.addInput();\r\n    }\r\n};\r\n\r\nMultiArgMorph.prototype.label = function () {\r\n    return this.children[0];\r\n};\r\n\r\nMultiArgMorph.prototype.arrows = function () {\r\n    return this.children[this.children.length - 1];\r\n};\r\n\r\nMultiArgMorph.prototype.getSpec = function () {\r\n    return '%mult' + this.slotSpec;\r\n};\r\n\r\n// MultiArgMorph defaults:\r\n\r\nMultiArgMorph.prototype.setContents = function (anArray) {\r\n    var inputs = this.inputs(), i;\r\n    for (i = 0; i < anArray.length; i += 1) {\r\n        if (anArray[i] !== null && (inputs[i])) {\r\n            inputs[i].setContents(anArray[i]);\r\n        }\r\n    }\r\n};\r\n\r\n// MultiArgMorph hiding and showing:\r\n\r\n/*\r\n    override the inherited behavior to recursively hide/show all\r\n    children, so that my instances get restored correctly when\r\n    switching back out of app mode.\r\n*/\r\n\r\nMultiArgMorph.prototype.hide = function () {\r\n    this.isVisible = false;\r\n    this.changed();\r\n};\r\n\r\nMultiArgMorph.prototype.show = function () {\r\n    this.isVisible = true;\r\n    this.changed();\r\n};\r\n\r\n// MultiArgMorph coloring:\r\n\r\nMultiArgMorph.prototype.setLabelColor = function (\r\n    textColor,\r\n    shadowColor,\r\n    shadowOffset\r\n) {\r\n    this.textColor = textColor;\r\n    this.shadowColor = shadowColor;\r\n    this.shadowOffset = shadowOffset;\r\n    MultiArgMorph.uber.setLabelColor.call(\r\n        this,\r\n        textColor,\r\n        shadowColor,\r\n        shadowOffset\r\n    );\r\n};\r\n\r\n// MultiArgMorph layout:\r\n\r\nMultiArgMorph.prototype.fixLayout = function () {\r\n    if (this.slotSpec === '%t') {\r\n        this.isStatic = true; // in this case I cannot be exchanged\r\n    }\r\n    if (this.parent) {\r\n        var label = this.label(), shadowColor, shadowOffset;\r\n        this.color = this.parent.color;\r\n        shadowColor = this.shadowColor ||\r\n            this.parent.color.darker(this.labelContrast);\r\n        shadowOffset = this.shadowOffset || label.shadowOffset;\r\n        this.arrows().color = this.color;\r\n\r\n        if (this.labelText !== '') {\r\n            if (!label.shadowColor.eq(shadowColor)) {\r\n                label.shadowColor = shadowColor;\r\n                label.shadowOffset = shadowOffset;\r\n                label.drawNew();\r\n            }\r\n        }\r\n\r\n    }\r\n    this.fixArrowsLayout();\r\n    MultiArgMorph.uber.fixLayout.call(this);\r\n    if (this.parent) {\r\n        this.parent.fixLayout();\r\n    }\r\n};\r\n\r\nMultiArgMorph.prototype.fixArrowsLayout = function () {\r\n    var label = this.label(),\r\n        arrows = this.arrows(),\r\n        leftArrow = arrows.children[0],\r\n        rightArrow = arrows.children[1],\r\n        dim = new Point(rightArrow.width() / 2, rightArrow.height());\r\n    if (this.inputs().length < (this.minInputs + 1)) {\r\n        label.hide();\r\n        leftArrow.hide();\r\n        rightArrow.setPosition(\r\n            arrows.position().subtract(new Point(dim.x, 0))\r\n        );\r\n        arrows.setExtent(dim);\r\n    } else {\r\n        if (this.labelText !== '') {\r\n            label.show();\r\n        }\r\n        leftArrow.show();\r\n        rightArrow.setPosition(leftArrow.topCenter());\r\n        arrows.bounds.corner = rightArrow.bottomRight().copy();\r\n    }\r\n    arrows.drawNew();\r\n};\r\n\r\nMultiArgMorph.prototype.refresh = function () {\r\n    this.inputs().forEach(function (input) {\r\n        input.drawNew();\r\n    });\r\n};\r\n\r\nMultiArgMorph.prototype.drawNew = function () {\r\n    MultiArgMorph.uber.drawNew.call(this);\r\n    this.refresh();\r\n};\r\n\r\n// MultiArgMorph arity control:\r\n\r\nMultiArgMorph.prototype.addInput = function (contents) {\r\n    var i, name,\r\n        newPart = this.labelPart(this.slotSpec),\r\n        idx = this.children.length - 1;\r\n    // newPart.alpha = this.alpha ? 1 : (1 - this.alpha) / 2;\r\n    if (contents) {\r\n        newPart.setContents(contents);\r\n    } else if (this.elementSpec === '%scriptVars' ||\r\n            this.elementSpec === '%blockVars') {\r\n        name = '';\r\n        i = idx;\r\n        while (i > 0) {\r\n            name = String.fromCharCode(97 + (i - 1) % 26) + name;\r\n            i = Math.floor((i - 1) / 26);\r\n        }\r\n        newPart.setContents(name);\r\n    } else if (contains(['%parms', '%ringparms'], this.elementSpec)) {\r\n        newPart.setContents('#' + idx);\r\n    }\r\n    newPart.parent = this;\r\n    this.children.splice(idx, 0, newPart);\r\n    newPart.drawNew();\r\n    this.fixLayout();\r\n};\r\n\r\nMultiArgMorph.prototype.removeInput = function () {\r\n    var oldPart, scripts;\r\n    if (this.children.length > 1) {\r\n        oldPart = this.children[this.children.length - 2];\r\n        this.removeChild(oldPart);\r\n        if (oldPart instanceof BlockMorph) {\r\n            scripts = this.parentThatIsA(ScriptsMorph);\r\n            if (scripts) {\r\n                scripts.add(oldPart);\r\n            }\r\n        }\r\n    }\r\n    this.fixLayout();\r\n};\r\n\r\n// MultiArgMorph events:\r\n\r\nMultiArgMorph.prototype.mouseClickLeft = function (pos) {\r\n    // prevent expansion in the palette\r\n    // (because it can be hard or impossible to collapse again)\r\n    if (!this.parentThatIsA(ScriptsMorph)) {\r\n        this.escalateEvent('mouseClickLeft', pos);\r\n        return;\r\n    }\r\n    // if the <shift> key is pressed, repeat action 3 times\r\n    var target = this.selectForEdit(),\r\n        arrows = target.arrows(),\r\n        leftArrow = arrows.children[0],\r\n        rightArrow = arrows.children[1],\r\n        repetition = target.world().currentKey === 16 ? 3 : 1,\r\n        i;\r\n\r\n    target.startLayout();\r\n    if (rightArrow.bounds.containsPoint(pos)) {\r\n        for (i = 0; i < repetition; i += 1) {\r\n            if (rightArrow.isVisible) {\r\n                target.addInput();\r\n            }\r\n        }\r\n    } else if (leftArrow.bounds.containsPoint(pos)) {\r\n        for (i = 0; i < repetition; i += 1) {\r\n            if (leftArrow.isVisible) {\r\n                target.removeInput();\r\n            }\r\n        }\r\n    } else {\r\n        target.escalateEvent('mouseClickLeft', pos);\r\n    }\r\n    target.endLayout();\r\n};\r\n\r\n// MultiArgMorph menu:\r\n\r\nMultiArgMorph.prototype.userMenu = function () {\r\n    var menu = new MenuMorph(this),\r\n        block = this.parentThatIsA(BlockMorph),\r\n        key = '',\r\n        myself = this;\r\n    if (!StageMorph.prototype.enableCodeMapping) {\r\n        return this.parent.userMenu();\r\n    }\r\n    if (block) {\r\n        if (block instanceof RingMorph) {\r\n            key = 'parms_';\r\n        } else if (block.selector === 'doDeclareVariables') {\r\n            key = 'tempvars_';\r\n        }\r\n    }\r\n    menu.addItem(\r\n        'code list mapping...',\r\n        function () {myself.mapCodeList(key); }\r\n    );\r\n    menu.addItem(\r\n        'code item mapping...',\r\n        function () {myself.mapCodeItem(key); }\r\n    );\r\n    menu.addItem(\r\n        'code delimiter mapping...',\r\n        function () {myself.mapCodeDelimiter(key); }\r\n    );\r\n    return menu;\r\n};\r\n\r\n// MultiArgMorph code mapping\r\n\r\n/*\r\n    code mapping lets you use blocks to generate arbitrary text-based\r\n    source code that can be exported and compiled / embedded elsewhere,\r\n    it's not part of Snap's evaluator and not needed for Snap itself\r\n*/\r\n\r\nMultiArgMorph.prototype.mapCodeDelimiter = function (key) {\r\n    this.mapToCode(key + 'delim', 'list item delimiter');\r\n};\r\n\r\nMultiArgMorph.prototype.mapCodeList = function (key) {\r\n    this.mapToCode(key + 'list', 'list contents <#1>');\r\n};\r\n\r\nMultiArgMorph.prototype.mapCodeItem = function (key) {\r\n    this.mapToCode(key + 'item', 'list item <#1>');\r\n};\r\n\r\nMultiArgMorph.prototype.mapToCode = function (key, label) {\r\n    // private - open a dialog box letting the user map code via the GUI\r\n    new DialogBoxMorph(\r\n        this,\r\n        function (code) {\r\n            StageMorph.prototype.codeMappings[key] = code;\r\n        },\r\n        this\r\n    ).promptCode(\r\n        'Code mapping - ' + label,\r\n        StageMorph.prototype.codeMappings[key] || '',\r\n        this.world()\r\n    );\r\n};\r\n\r\nMultiArgMorph.prototype.mappedCode = function (definitions) {\r\n    var block = this.parentThatIsA(BlockMorph),\r\n        key = '',\r\n        code,\r\n        items = '',\r\n        itemCode,\r\n        delim,\r\n        count = 0,\r\n        parts = [];\r\n\r\n    if (block) {\r\n        if (block instanceof RingMorph) {\r\n            key = 'parms_';\r\n        } else if (block.selector === 'doDeclareVariables') {\r\n            key = 'tempvars_';\r\n        }\r\n    }\r\n\r\n    code = StageMorph.prototype.codeMappings[key + 'list'] || '<#1>';\r\n    itemCode = StageMorph.prototype.codeMappings[key + 'item'] || '<#1>';\r\n    delim = StageMorph.prototype.codeMappings[key + 'delim'] || ' ';\r\n\r\n    this.inputs().forEach(function (input) {\r\n        parts.push(itemCode.replace(/<#1>/g, input.mappedCode(definitions)));\r\n    });\r\n    parts.forEach(function (part) {\r\n        if (count) {\r\n            items += delim;\r\n        }\r\n        items += part;\r\n        count += 1;\r\n    });\r\n    code = code.replace(/<#1>/g, items);\r\n    return code;\r\n};\r\n\r\n// MultiArgMorph arity evaluating:\r\n\r\nMultiArgMorph.prototype.evaluate = function () {\r\n    // this is usually overridden by the interpreter. This method is only\r\n    // called (and needed) for the variables menu.\r\n\r\n    var result = [];\r\n    this.inputs().forEach(function (slot) {\r\n        result.push(slot.evaluate());\r\n    });\r\n    return result;\r\n};\r\n\r\nMultiArgMorph.prototype.isEmptySlot = function () {\r\n    return this.canBeEmpty ? this.inputs().length === 0 : false;\r\n};\r\n\r\n// ArgLabelMorph ///////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a label string that is wrapped around an ArgMorph, usually\r\n    a MultiArgMorph, so to indicate that it has been replaced entirely\r\n    for an embedded reporter block\r\n\r\n    I don't have a block spec, I get embedded automatically by the parent\r\n    block's argument replacement mechanism\r\n\r\n    My evaluation method is the identity function, i.e. I simply pass my\r\n    input's value along.\r\n*/\r\n\r\n// ArgLabelMorph inherits from ArgMorph:\r\n\r\nArgLabelMorph.prototype = new ArgMorph();\r\nArgLabelMorph.prototype.constructor = ArgLabelMorph;\r\nArgLabelMorph.uber = ArgMorph.prototype;\r\n\r\n// MultiArgMorph instance creation:\r\n\r\nfunction ArgLabelMorph(argMorph, labelTxt) {\r\n    this.init(argMorph, labelTxt);\r\n}\r\n\r\nArgLabelMorph.prototype.init = function (argMorph, labelTxt) {\r\n    var label;\r\n\r\n    this.labelText = localize(labelTxt || 'input list:');\r\n    ArgLabelMorph.uber.init.call(this, null, true); // silently\r\n\r\n    this.isStatic = true; // I cannot be exchanged\r\n\r\n    // ArgLabelMorphs are transparent\r\n    this.alpha = 0;\r\n    this.noticesTransparentclick = true;\r\n\r\n    // label text:\r\n    label = this.labelPart(this.labelText);\r\n    this.add(label);\r\n\r\n    // argMorph\r\n    this.add(argMorph);\r\n};\r\n\r\nArgLabelMorph.prototype.label = function () {\r\n    return this.children[0];\r\n};\r\n\r\nArgLabelMorph.prototype.argMorph = function () {\r\n    return this.children[1];\r\n};\r\n\r\n// ArgLabelMorph layout:\r\n\r\nArgLabelMorph.prototype.fixLayout = function () {\r\n    var label = this.label(),\r\n        shadowColor,\r\n        shadowOffset;\r\n\r\n    if (this.parent) {\r\n        this.color = this.parent.color;\r\n        shadowOffset = label.shadowOffset || new Point();\r\n\r\n        // determine the shadow color for zebra coloring:\r\n        if (shadowOffset.x < 0) {\r\n            shadowColor = this.parent.color.darker(this.labelContrast);\r\n        } else {\r\n            shadowColor = this.parent.color.lighter(this.labelContrast);\r\n        }\r\n\r\n        if (this.labelText !== '') {\r\n            if (!label.shadowColor.eq(shadowColor)) {\r\n                label.shadowColor = shadowColor;\r\n                label.shadowOffset = shadowOffset;\r\n                label.drawNew();\r\n            }\r\n        }\r\n    }\r\n    ArgLabelMorph.uber.fixLayout.call(this);\r\n    if (this.parent) {\r\n        this.parent.fixLayout();\r\n    }\r\n};\r\n\r\nArgLabelMorph.prototype.refresh = function () {\r\n    this.inputs().forEach(function (input) {\r\n        input.drawNew();\r\n    });\r\n};\r\n\r\nArgLabelMorph.prototype.drawNew = function () {\r\n    ArgLabelMorph.uber.drawNew.call(this);\r\n    this.refresh();\r\n};\r\n\r\n// ArgLabelMorph label color:\r\n\r\nArgLabelMorph.prototype.setLabelColor = function (\r\n    textColor,\r\n    shadowColor,\r\n    shadowOffset\r\n) {\r\n    if (this.labelText !== '') {\r\n        var label = this.label();\r\n        label.color = textColor;\r\n        label.shadowColor = shadowColor;\r\n        label.shadowOffset = shadowOffset;\r\n        label.drawNew();\r\n    }\r\n};\r\n\r\n// ArgLabelMorph events:\r\n\r\nArgLabelMorph.prototype.reactToGrabOf = function () {\r\n    if (this.parent instanceof SyntaxElementMorph) {\r\n        this.parent.revertToDefaultInput(this);\r\n    }\r\n};\r\n\r\n// ArgLabelMorph evaluating:\r\n\r\nArgLabelMorph.prototype.evaluate = function () {\r\n    // this is usually overridden by the interpreter. This method is only\r\n    // called (and needed) for the variables menu.\r\n\r\n    return this.argMorph().evaluate();\r\n};\r\n\r\nArgLabelMorph.prototype.isEmptySlot = function () {\r\n    return false;\r\n};\r\n\r\n// FunctionSlotMorph ///////////////////////////////////////////////////\r\n\r\n/*\r\n    I am an unevaluated, non-editable, rf-colored, rounded or diamond\r\n    input slot. My current (only) use is in the THE BLOCK block.\r\n\r\n    My command spec is %f\r\n*/\r\n\r\n// FunctionSlotMorph inherits from ArgMorph:\r\n\r\nFunctionSlotMorph.prototype = new ArgMorph();\r\nFunctionSlotMorph.prototype.constructor = FunctionSlotMorph;\r\nFunctionSlotMorph.uber = ArgMorph.prototype;\r\n\r\n// FunctionSlotMorph instance creation:\r\n\r\nfunction FunctionSlotMorph(isPredicate) {\r\n    this.init(isPredicate);\r\n}\r\n\r\nFunctionSlotMorph.prototype.init = function (isPredicate, silently) {\r\n    FunctionSlotMorph.uber.init.call(this, null, true); // silently\r\n    this.isPredicate = isPredicate || false;\r\n    this.color = this.rfColor;\r\n    this.setExtent(\r\n        new Point(\r\n            (this.fontSize + this.edge * 2) * 2,\r\n            this.fontSize + this.edge * 2\r\n        ),\r\n        silently\r\n    );\r\n};\r\n\r\nFunctionSlotMorph.prototype.getSpec = function () {\r\n    return '%f';\r\n};\r\n\r\n// FunctionSlotMorph drawing:\r\n\r\nFunctionSlotMorph.prototype.drawNew = function () {\r\n    var context, borderColor;\r\n\r\n    // initialize my surface property\r\n    this.image = newCanvas(this.extent());\r\n    context = this.image.getContext('2d');\r\n    if (this.parent) {\r\n        borderColor = this.parent.color;\r\n    } else {\r\n        borderColor = new Color(120, 120, 120);\r\n    }\r\n\r\n    // cache my border colors\r\n    this.cachedClr = borderColor.toString();\r\n    this.cachedClrBright = borderColor.lighter(this.contrast)\r\n        .toString();\r\n    this.cachedClrDark = borderColor.darker(this.contrast).toString();\r\n\r\n    if (this.isPredicate) {\r\n        this.drawDiamond(context);\r\n    } else {\r\n        this.drawRounded(context);\r\n    }\r\n};\r\n\r\nFunctionSlotMorph.prototype.drawRounded = function (context) {\r\n    var h = this.height(),\r\n        r = Math.min(this.rounding, h / 2),\r\n        w = this.width(),\r\n        shift = this.edge / 2,\r\n        gradient;\r\n\r\n    // draw the 'flat' shape:\r\n    context.fillStyle = this.color.toString();\r\n    context.beginPath();\r\n\r\n    // top left:\r\n    context.arc(\r\n        r,\r\n        r,\r\n        r,\r\n        radians(-180),\r\n        radians(-90),\r\n        false\r\n    );\r\n\r\n    // top right:\r\n    context.arc(\r\n        w - r,\r\n        r,\r\n        r,\r\n        radians(-90),\r\n        radians(-0),\r\n        false\r\n    );\r\n\r\n    // bottom right:\r\n    context.arc(\r\n        w - r,\r\n        h - r,\r\n        r,\r\n        radians(0),\r\n        radians(90),\r\n        false\r\n    );\r\n\r\n    // bottom left:\r\n    context.arc(\r\n        r,\r\n        h - r,\r\n        r,\r\n        radians(90),\r\n        radians(180),\r\n        false\r\n    );\r\n\r\n    context.closePath();\r\n    context.fill();\r\n\r\n    if (MorphicPreferences.isFlat) {return; }\r\n\r\n    // add 3D-Effect:\r\n    context.lineWidth = this.edge;\r\n    context.lineJoin = 'round';\r\n    context.lineCap = 'round';\r\n\r\n    // bottom left corner\r\n    context.strokeStyle = this.cachedClr; //gradient;\r\n    context.beginPath();\r\n    context.arc(\r\n        r,\r\n        h - r,\r\n        r - shift,\r\n        radians(90),\r\n        radians(180),\r\n        false\r\n    );\r\n    context.stroke();\r\n\r\n    // top right corner\r\n    context.strokeStyle = this.cachedClr; //gradient;\r\n    context.beginPath();\r\n    context.arc(\r\n        w - r,\r\n        r,\r\n        r - shift,\r\n        radians(-90),\r\n        radians(0),\r\n        false\r\n    );\r\n    context.stroke();\r\n\r\n    // normal gradient edges\r\n\r\n    context.shadowOffsetX = shift;\r\n    context.shadowOffsetY = shift;\r\n    context.shadowBlur = this.edge;\r\n    context.shadowColor = this.color.darker(80).toString();\r\n\r\n    // top edge: straight line\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        0,\r\n        0,\r\n        this.edge\r\n    );\r\n    gradient.addColorStop(1, this.cachedClrDark);\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(r - shift, shift);\r\n    context.lineTo(w - r + shift, shift);\r\n    context.stroke();\r\n\r\n    // top edge: left corner\r\n    gradient = context.createRadialGradient(\r\n        r,\r\n        r,\r\n        r - this.edge,\r\n        r,\r\n        r,\r\n        r\r\n    );\r\n    gradient.addColorStop(1, this.cachedClr);\r\n    gradient.addColorStop(0, this.cachedClrDark);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.arc(\r\n        r,\r\n        r,\r\n        r - shift,\r\n        radians(180),\r\n        radians(270),\r\n        false\r\n    );\r\n    context.stroke();\r\n\r\n    // left edge: straight vertical line\r\n    gradient = context.createLinearGradient(0, 0, this.edge, 0);\r\n    gradient.addColorStop(1, this.cachedClrDark);\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(shift, r);\r\n    context.lineTo(shift, h - r);\r\n    context.stroke();\r\n\r\n    context.shadowOffsetX = 0;\r\n    context.shadowOffsetY = 0;\r\n    context.shadowBlur = 0;\r\n\r\n    // bottom edge: right corner\r\n    gradient = context.createRadialGradient(\r\n        w - r,\r\n        h - r,\r\n        r - this.edge,\r\n        w - r,\r\n        h - r,\r\n        r\r\n    );\r\n    gradient.addColorStop(1, this.cachedClr);\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.arc(\r\n        w - r,\r\n        h - r,\r\n        r - shift,\r\n        radians(0),\r\n        radians(90),\r\n        false\r\n    );\r\n    context.stroke();\r\n\r\n    // bottom edge: straight line\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        h - this.edge,\r\n        0,\r\n        h\r\n    );\r\n    gradient.addColorStop(1, this.cachedClr);\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(r - shift, h - shift);\r\n    context.lineTo(w - r + shift, h - shift);\r\n    context.stroke();\r\n\r\n    // right edge: straight vertical line\r\n    gradient = context.createLinearGradient(w - this.edge, 0, w, 0);\r\n    gradient.addColorStop(1, this.cachedClr);\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(w - shift, r + shift);\r\n    context.lineTo(w - shift, h - r);\r\n    context.stroke();\r\n\r\n};\r\n\r\nFunctionSlotMorph.prototype.drawDiamond = function (context) {\r\n    var w = this.width(),\r\n        h = this.height(),\r\n        h2 = Math.floor(h / 2),\r\n        r = Math.min(this.rounding, h2),\r\n        shift = this.edge / 2,\r\n        gradient;\r\n\r\n    // draw the 'flat' shape:\r\n    context.fillStyle = this.color.toString();\r\n    context.beginPath();\r\n\r\n    context.moveTo(0, h2);\r\n    context.lineTo(r, 0);\r\n    context.lineTo(w - r, 0);\r\n    context.lineTo(w, h2);\r\n    context.lineTo(w - r, h);\r\n    context.lineTo(r, h);\r\n\r\n    context.closePath();\r\n    context.fill();\r\n\r\n    if (MorphicPreferences.isFlat) {return; }\r\n\r\n    // add 3D-Effect:\r\n    context.lineWidth = this.edge;\r\n    context.lineJoin = 'round';\r\n    context.lineCap = 'round';\r\n\r\n    // half-tone edges\r\n    // bottom left corner\r\n    context.strokeStyle = this.cachedClr;\r\n    context.beginPath();\r\n    context.moveTo(shift, h2);\r\n    context.lineTo(r, h - shift);\r\n    context.stroke();\r\n\r\n    // top right corner\r\n    context.strokeStyle = this.cachedClr;\r\n    context.beginPath();\r\n    context.moveTo(w - shift, h2);\r\n    context.lineTo(w - r, shift);\r\n    context.stroke();\r\n\r\n    // normal gradient edges\r\n    // top edge: left corner\r\n\r\n    context.shadowOffsetX = shift;\r\n    context.shadowOffsetY = shift;\r\n    context.shadowBlur = this.edge;\r\n    context.shadowColor = this.color.darker(80).toString();\r\n\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        0,\r\n        r,\r\n        0\r\n    );\r\n    gradient.addColorStop(1, this.cachedClrDark);\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(shift, h2);\r\n    context.lineTo(r, shift);\r\n    context.stroke();\r\n\r\n    // top edge: straight line\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        0,\r\n        0,\r\n        this.edge\r\n    );\r\n    gradient.addColorStop(1, this.cachedClrDark);\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(r, shift);\r\n    context.lineTo(w - r, shift);\r\n    context.stroke();\r\n\r\n    context.shadowOffsetX = 0;\r\n    context.shadowOffsetY = 0;\r\n    context.shadowBlur = 0;\r\n\r\n    // bottom edge: right corner\r\n    gradient = context.createLinearGradient(\r\n        w - r,\r\n        0,\r\n        w,\r\n        0\r\n    );\r\n    gradient.addColorStop(1, this.cachedClr);\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(w - r, h - shift);\r\n    context.lineTo(w - shift, h2);\r\n    context.stroke();\r\n\r\n    // bottom edge: straight line\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        h - this.edge,\r\n        0,\r\n        h\r\n    );\r\n    gradient.addColorStop(1, this.cachedClr);\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(r + shift, h - shift);\r\n    context.lineTo(w - r - shift, h - shift);\r\n    context.stroke();\r\n};\r\n\r\n// ReporterSlotMorph ///////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a ReporterBlock-shaped input slot. I can nest as well as\r\n    accept reporter blocks (containing reified scripts).\r\n\r\n    my most important accessor is\r\n\r\n    nestedBlock()    - answer the reporter block I encompass, if any\r\n\r\n    My command spec is %r for reporters (round) and %p for\r\n    predicates (diamond)\r\n\r\n    evaluate() returns my nested block or null\r\n*/\r\n\r\n// ReporterSlotMorph inherits from FunctionSlotMorph:\r\n\r\nReporterSlotMorph.prototype = new FunctionSlotMorph();\r\nReporterSlotMorph.prototype.constructor = ReporterSlotMorph;\r\nReporterSlotMorph.uber = FunctionSlotMorph.prototype;\r\n\r\n// ReporterSlotMorph instance creation:\r\n\r\nfunction ReporterSlotMorph(isPredicate) {\r\n    this.init(isPredicate);\r\n}\r\n\r\nReporterSlotMorph.prototype.init = function (isPredicate) {\r\n    ReporterSlotMorph.uber.init.call(this, isPredicate, true);\r\n    this.add(this.emptySlot());\r\n    this.fixLayout();\r\n};\r\n\r\nReporterSlotMorph.prototype.emptySlot = function () {\r\n    var empty = new ArgMorph(),\r\n        shrink = this.rfBorder * 2 + this.edge * 2;\r\n    empty.color = this.rfColor;\r\n    empty.alpha = 0;\r\n    empty.setExtent(new Point(\r\n        (this.fontSize + this.edge * 2) * 2 - shrink,\r\n        this.fontSize + this.edge * 2 - shrink\r\n    ));\r\n    return empty;\r\n};\r\n\r\n// ReporterSlotMorph accessing:\r\n\r\nReporterSlotMorph.prototype.getSpec = function () {\r\n    return '%r';\r\n};\r\n\r\nReporterSlotMorph.prototype.contents = function () {\r\n    return this.children[0];\r\n};\r\n\r\nReporterSlotMorph.prototype.nestedBlock = function () {\r\n    var contents = this.contents();\r\n    return contents instanceof ReporterBlockMorph ? contents : null;\r\n};\r\n\r\n// ReporterSlotMorph evaluating:\r\n\r\nReporterSlotMorph.prototype.evaluate = function () {\r\n    return this.nestedBlock();\r\n};\r\n\r\nReporterSlotMorph.prototype.isEmptySlot = function () {\r\n    return this.nestedBlock() === null;\r\n};\r\n\r\n// ReporterSlotMorph layout:\r\n\r\nReporterSlotMorph.prototype.fixLayout = function () {\r\n    var contents = this.contents();\r\n    this.setExtent(contents.extent().add(\r\n        this.edge * 2 + this.rfBorder * 2\r\n    ));\r\n    contents.setCenter(this.center());\r\n    if (this.parent) {\r\n        if (this.parent.fixLayout) {\r\n            this.parent.fixLayout();\r\n        }\r\n    }\r\n};\r\n\r\n// RingReporterSlotMorph ///////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a ReporterBlock-shaped input slot for use in RingMorphs.\r\n    I can only nest reporter blocks (both round and diamond).\r\n\r\n    My command spec is %rr for reporters (round) and %rp for\r\n    predicates (diamond)\r\n\r\n    evaluate() returns my nested block or null\r\n    (inherited from ReporterSlotMorph\r\n*/\r\n\r\n// ReporterSlotMorph inherits from FunctionSlotMorph:\r\n\r\nRingReporterSlotMorph.prototype = new ReporterSlotMorph();\r\nRingReporterSlotMorph.prototype.constructor = RingReporterSlotMorph;\r\nRingReporterSlotMorph.uber = ReporterSlotMorph.prototype;\r\n\r\n// ReporterSlotMorph preferences settings:\r\n\r\nRingReporterSlotMorph.prototype.rfBorder\r\n    = RingCommandSlotMorph.prototype.rfBorder;\r\n\r\nRingReporterSlotMorph.prototype.edge\r\n    = RingCommandSlotMorph.prototype.edge;\r\n\r\n// RingReporterSlotMorph instance creation:\r\n\r\nfunction RingReporterSlotMorph(isPredicate) {\r\n    this.init(isPredicate);\r\n}\r\n\r\nRingReporterSlotMorph.prototype.init = function (isPredicate) {\r\n    RingReporterSlotMorph.uber.init.call(this, isPredicate, true);\r\n    this.alpha = RingMorph.prototype.alpha;\r\n    this.contrast = RingMorph.prototype.contrast;\r\n    this.isHole = true;\r\n};\r\n\r\n// RingReporterSlotMorph accessing:\r\n\r\nRingReporterSlotMorph.prototype.getSpec = function () {\r\n    return '%rr';\r\n};\r\n\r\nRingReporterSlotMorph.prototype.replaceInput = function (source, target) {\r\n    RingReporterSlotMorph.uber.replaceInput.call(this, source, target);\r\n    if (this.parent instanceof RingMorph) {\r\n        this.parent.vanishForSimilar();\r\n    }\r\n};\r\n\r\n// RingReporterSlotMorph drawing:\r\n\r\nRingReporterSlotMorph.prototype.drawRounded = function (context) {\r\n    var h = this.height(),\r\n        r = Math.min(this.rounding, h / 2),\r\n        w = this.width(),\r\n        shift = this.edge / 2,\r\n        gradient;\r\n\r\n    // draw the 'flat' shape:\r\n    context.fillStyle = this.cachedClr; //this.color.toString();\r\n\r\n    // top half:\r\n    context.beginPath();\r\n    context.moveTo(0, h / 2);\r\n\r\n    // top left:\r\n    context.arc(\r\n        r,\r\n        r,\r\n        r,\r\n        radians(-180),\r\n        radians(-90),\r\n        false\r\n    );\r\n\r\n    // top right:\r\n    context.arc(\r\n        w - r,\r\n        r,\r\n        r,\r\n        radians(-90),\r\n        radians(-0),\r\n        false\r\n    );\r\n\r\n    context.lineTo(w, h / 2);\r\n    context.lineTo(w, 0);\r\n    context.lineTo(0, 0);\r\n    context.closePath();\r\n    context.fill();\r\n\r\n    // bottom half:\r\n    context.beginPath();\r\n    context.moveTo(w, h / 2);\r\n\r\n    // bottom right:\r\n    context.arc(\r\n        w - r,\r\n        h - r,\r\n        r,\r\n        radians(0),\r\n        radians(90),\r\n        false\r\n    );\r\n\r\n    // bottom left:\r\n    context.arc(\r\n        r,\r\n        h - r,\r\n        r,\r\n        radians(90),\r\n        radians(180),\r\n        false\r\n    );\r\n\r\n    context.lineTo(0, h / 2);\r\n    context.lineTo(0, h);\r\n    context.lineTo(w, h);\r\n    context.closePath();\r\n    context.fill();\r\n\r\n    if (MorphicPreferences.isFlat) {return; }\r\n\r\n    // add 3D-Effect:\r\n    context.lineWidth = this.edge;\r\n    context.lineJoin = 'round';\r\n    context.lineCap = 'round';\r\n\r\n    // bottom left corner\r\n    context.strokeStyle = this.cachedClr; //gradient;\r\n    context.beginPath();\r\n    context.arc(\r\n        r,\r\n        h - r,\r\n        r - shift,\r\n        radians(90),\r\n        radians(180),\r\n        false\r\n    );\r\n    context.stroke();\r\n\r\n    // top right corner\r\n    context.strokeStyle = this.cachedClr; //gradient;\r\n    context.beginPath();\r\n    context.arc(\r\n        w - r,\r\n        r,\r\n        r - shift,\r\n        radians(-90),\r\n        radians(0),\r\n        false\r\n    );\r\n    context.stroke();\r\n\r\n    // normal gradient edges\r\n\r\n    context.shadowOffsetX = shift;\r\n    context.shadowOffsetY = shift;\r\n    context.shadowBlur = this.edge;\r\n    context.shadowColor = this.color.darker(80).toString();\r\n\r\n    // top edge: straight line\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        0,\r\n        0,\r\n        this.edge\r\n    );\r\n    gradient.addColorStop(1, this.cachedClrDark);\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(r - shift, shift);\r\n    context.lineTo(w - r + shift, shift);\r\n    context.stroke();\r\n\r\n    // top edge: left corner\r\n    gradient = context.createRadialGradient(\r\n        r,\r\n        r,\r\n        r - this.edge,\r\n        r,\r\n        r,\r\n        r\r\n    );\r\n    gradient.addColorStop(1, this.cachedClr);\r\n    gradient.addColorStop(0, this.cachedClrDark);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.arc(\r\n        r,\r\n        r,\r\n        r - shift,\r\n        radians(180),\r\n        radians(270),\r\n        false\r\n    );\r\n    context.stroke();\r\n\r\n    // left edge: straight vertical line\r\n    gradient = context.createLinearGradient(0, 0, this.edge, 0);\r\n    gradient.addColorStop(1, this.cachedClrDark);\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(shift, r);\r\n    context.lineTo(shift, h - r);\r\n    context.stroke();\r\n\r\n    context.shadowOffsetX = 0;\r\n    context.shadowOffsetY = 0;\r\n    context.shadowBlur = 0;\r\n\r\n    // bottom edge: right corner\r\n    gradient = context.createRadialGradient(\r\n        w - r,\r\n        h - r,\r\n        r - this.edge,\r\n        w - r,\r\n        h - r,\r\n        r\r\n    );\r\n    gradient.addColorStop(1, this.cachedClr);\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.arc(\r\n        w - r,\r\n        h - r,\r\n        r - shift,\r\n        radians(0),\r\n        radians(90),\r\n        false\r\n    );\r\n    context.stroke();\r\n\r\n    // bottom edge: straight line\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        h - this.edge,\r\n        0,\r\n        h\r\n    );\r\n    gradient.addColorStop(1, this.cachedClr);\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(r - shift, h - shift);\r\n    context.lineTo(w - r + shift, h - shift);\r\n    context.stroke();\r\n\r\n    // right edge: straight vertical line\r\n    gradient = context.createLinearGradient(w - this.edge, 0, w, 0);\r\n    gradient.addColorStop(1, this.cachedClr);\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(w - shift, r + shift);\r\n    context.lineTo(w - shift, h - r);\r\n    context.stroke();\r\n};\r\n\r\nRingReporterSlotMorph.prototype.drawDiamond = function (context) {\r\n    var w = this.width(),\r\n        h = this.height(),\r\n        h2 = Math.floor(h / 2),\r\n        r = Math.min(this.rounding, h2),\r\n        shift = this.edge / 2,\r\n        gradient;\r\n\r\n    // draw the 'flat' shape:\r\n    context.fillStyle = this.cachedClr;\r\n    context.beginPath();\r\n\r\n    context.moveTo(0, 0);\r\n    context.lineTo(0, h2);\r\n    context.lineTo(r, 0);\r\n    context.lineTo(w - r, 0);\r\n    context.lineTo(w, h2);\r\n    context.lineTo(w, 0);\r\n\r\n    context.closePath();\r\n    context.fill();\r\n\r\n    context.moveTo(w, h2);\r\n    context.lineTo(w - r, h);\r\n    context.lineTo(r, h);\r\n    context.lineTo(0, h2);\r\n    context.lineTo(0, h);\r\n    context.lineTo(w, h);\r\n\r\n    context.closePath();\r\n    context.fill();\r\n\r\n    if (MorphicPreferences.isFlat) {return; }\r\n\r\n    // add 3D-Effect:\r\n    context.lineWidth = this.edge;\r\n    context.lineJoin = 'round';\r\n    context.lineCap = 'round';\r\n\r\n    // half-tone edges\r\n    // bottom left corner\r\n    context.strokeStyle = this.cachedClr;\r\n    context.beginPath();\r\n    context.moveTo(shift, h2);\r\n    context.lineTo(r, h - shift);\r\n    context.stroke();\r\n\r\n    // top right corner\r\n    context.strokeStyle = this.cachedClr;\r\n    context.beginPath();\r\n    context.moveTo(w - shift, h2);\r\n    context.lineTo(w - r, shift);\r\n    context.stroke();\r\n\r\n    // normal gradient edges\r\n    // top edge: left corner\r\n\r\n    context.shadowOffsetX = shift;\r\n    context.shadowOffsetY = shift;\r\n    context.shadowBlur = this.edge;\r\n    context.shadowColor = this.color.darker(80).toString();\r\n\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        0,\r\n        r,\r\n        0\r\n    );\r\n    gradient.addColorStop(1, this.cachedClrDark);\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(shift, h2);\r\n    context.lineTo(r, shift);\r\n    context.stroke();\r\n\r\n    // top edge: straight line\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        0,\r\n        0,\r\n        this.edge\r\n    );\r\n    gradient.addColorStop(1, this.cachedClrDark);\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(r, shift);\r\n    context.lineTo(w - r, shift);\r\n    context.stroke();\r\n\r\n    context.shadowOffsetX = 0;\r\n    context.shadowOffsetY = 0;\r\n    context.shadowBlur = 0;\r\n\r\n    // bottom edge: right corner\r\n    gradient = context.createLinearGradient(\r\n        w - r,\r\n        0,\r\n        w,\r\n        0\r\n    );\r\n    gradient.addColorStop(1, this.cachedClr);\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(w - r, h - shift);\r\n    context.lineTo(w - shift, h2);\r\n    context.stroke();\r\n\r\n    // bottom edge: straight line\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        h - this.edge,\r\n        0,\r\n        h\r\n    );\r\n    gradient.addColorStop(1, this.cachedClr);\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(r + shift, h - shift);\r\n    context.lineTo(w - r - shift, h - shift);\r\n    context.stroke();\r\n};\r\n\r\n// CommentMorph //////////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am an editable, multi-line non-scrolling text window. I can be collapsed\r\n    to a single abbreviated line or expanded to full. My width can be adjusted\r\n    by the user, by height is determined by the size of my text body. I can be\r\n    either placed in a scripting area or \"stuck\" to a block.\r\n*/\r\n\r\n// CommentMorph inherits from BoxMorph:\r\n\r\nCommentMorph.prototype = new BoxMorph();\r\nCommentMorph.prototype.constructor = CommentMorph;\r\nCommentMorph.uber = BoxMorph.prototype;\r\n\r\n// CommentMorph preferences settings (pseudo-inherited from SyntaxElement):\r\n\r\nCommentMorph.prototype.refreshScale = function () {\r\n    CommentMorph.prototype.fontSize = SyntaxElementMorph.prototype.fontSize;\r\n    CommentMorph.prototype.padding = 5 * SyntaxElementMorph.prototype.scale;\r\n    CommentMorph.prototype.rounding = 8 * SyntaxElementMorph.prototype.scale;\r\n};\r\n\r\nCommentMorph.prototype.refreshScale();\r\n\r\n// CommentMorph instance creation:\r\n\r\nfunction CommentMorph(contents) {\r\n    this.init(contents);\r\n}\r\n\r\nCommentMorph.prototype.init = function (contents) {\r\n    var myself = this,\r\n        scale = SyntaxElementMorph.prototype.scale;\r\n    this.block = null; // optional anchor block\r\n    this.stickyOffset = null; // not to be persisted\r\n    this.isCollapsed = false;\r\n    this.titleBar = new BoxMorph(\r\n        this.rounding,\r\n        1.000001 * scale, // shadow bug in Chrome,\r\n        new Color(255, 255, 180)\r\n    );\r\n    this.titleBar.color = new Color(255, 255, 180);\r\n    this.titleBar.setHeight(fontHeight(this.fontSize) + this.padding);\r\n    this.title = null;\r\n    this.arrow = new ArrowMorph(\r\n        'down',\r\n        this.fontSize\r\n    );\r\n    this.arrow.noticesTransparentClick = true;\r\n    this.arrow.mouseClickLeft = function () {myself.toggleExpand(); };\r\n    this.contents = new TextMorph(\r\n        contents || localize('add comment here...'),\r\n        this.fontSize\r\n    );\r\n    this.contents.isEditable = true;\r\n    this.contents.enableSelecting();\r\n    this.contents.maxWidth = 90 * scale;\r\n    this.contents.drawNew();\r\n    this.handle = new HandleMorph(\r\n        this.contents,\r\n        80,\r\n        this.fontSize * 2,\r\n        -2,\r\n        -2\r\n    );\r\n    this.handle.setExtent(new Point(11 * scale, 11 * scale));\r\n    this.anchor = null;\r\n\r\n    CommentMorph.uber.init.call(\r\n        this,\r\n        this.rounding,\r\n        1.000001 * scale, // shadow bug in Chrome,\r\n        new Color(255, 255, 180)\r\n    );\r\n    this.color = new Color(255, 255, 220);\r\n    this.isDraggable = true;\r\n    this.add(this.titleBar);\r\n    this.add(this.arrow);\r\n    this.add(this.contents);\r\n    this.add(this.handle);\r\n\r\n    this.fixLayout();\r\n};\r\n\r\n// CommentMorph ops:\r\n\r\nCommentMorph.prototype.fullCopy = function () {\r\n    var cpy = new CommentMorph(this.contents.text);\r\n    cpy.isCollapsed = this.isCollapsed;\r\n    cpy.setTextWidth(this.textWidth());\r\n    if (this.selectionID) { // for copy on write\r\n        cpy.selectionID = true;\r\n    }\r\n    return cpy;\r\n};\r\n\r\nCommentMorph.prototype.setTextWidth = function (pixels) {\r\n    this.contents.maxWidth = pixels;\r\n    this.contents.drawNew();\r\n    this.fixLayout();\r\n};\r\n\r\nCommentMorph.prototype.textWidth = function () {\r\n    return this.contents.maxWidth;\r\n};\r\n\r\nCommentMorph.prototype.text = function () {\r\n    return this.contents.text;\r\n};\r\n\r\nCommentMorph.prototype.toggleExpand = function () {\r\n    this.isCollapsed = !this.isCollapsed;\r\n    this.fixLayout();\r\n    this.align();\r\n};\r\n\r\n// CommentMorph layout:\r\n\r\nCommentMorph.prototype.layoutChanged = function () {\r\n    // react to a change of the contents area\r\n    this.fixLayout();\r\n    this.align();\r\n};\r\n\r\nCommentMorph.prototype.fixLayout = function () {\r\n    var label,\r\n        tw = this.contents.width() + 2 * this.padding,\r\n        myself = this,\r\n        oldFlag = Morph.prototype.trackChanges;\r\n\r\n    Morph.prototype.trackChanges = false;\r\n\r\n    if (this.title) {\r\n        this.title.destroy();\r\n        this.title = null;\r\n    }\r\n    if (this.isCollapsed) {\r\n        this.contents.hide();\r\n        this.title = new FrameMorph();\r\n        this.title.alpha = 0;\r\n        this.title.acceptsDrops = false;\r\n        label = new StringMorph(\r\n            this.contents.text,\r\n            this.fontSize,\r\n            null, // style (sans-serif)\r\n            true // bold\r\n        );\r\n        label.rootForGrab = function () {\r\n            return myself;\r\n        };\r\n        this.title.add(label);\r\n        this.title.setHeight(label.height());\r\n        this.title.setWidth(\r\n            tw - this.arrow.width() - this.padding * 2 - this.rounding\r\n        );\r\n        this.add(this.title);\r\n    } else {\r\n        this.contents.show();\r\n    }\r\n    this.titleBar.setWidth(tw);\r\n    this.contents.setLeft(this.titleBar.left() + this.padding);\r\n    this.contents.setTop(this.titleBar.bottom() + this.padding);\r\n    this.arrow.direction = this.isCollapsed ? 'right' : 'down';\r\n    this.arrow.drawNew();\r\n    this.arrow.setCenter(this.titleBar.center());\r\n    this.arrow.setLeft(this.titleBar.left() + this.padding);\r\n    if (this.title) {\r\n        this.title.setPosition(\r\n            this.arrow.topRight().add(new Point(this.padding, 0))\r\n        );\r\n    }\r\n    Morph.prototype.trackChanges = oldFlag;\r\n    this.changed();\r\n    this.silentSetHeight(\r\n        this.titleBar.height()\r\n            + (this.isCollapsed ? 0 :\r\n                    this.padding\r\n                        + this.contents.height()\r\n                        + this.padding)\r\n    );\r\n    this.silentSetWidth(this.titleBar.width());\r\n    this.drawNew();\r\n    this.handle.drawNew();\r\n    this.changed();\r\n};\r\n\r\n// CommentMorph menu:\r\n\r\nCommentMorph.prototype.userMenu = function () {\r\n    var menu = new MenuMorph(this),\r\n        myself = this;\r\n\r\n    menu.addItem(\r\n        \"duplicate\",\r\n        function () {\r\n            myself.fullCopy().pickUp(myself.world());\r\n        },\r\n        'make a copy\\nand pick it up'\r\n    );\r\n    menu.addItem(\"delete\", 'userDestroy');\r\n    menu.addItem(\r\n        \"comment pic...\",\r\n        function () {\r\n            var ide = myself.parentThatIsA(IDE_Morph);\r\n            ide.saveCanvasAs(\r\n                myself.fullImageClassic(),\r\n                (ide.projectName || localize('untitled')) + ' ' +\r\n                    localize('comment pic')\r\n            );\r\n        },\r\n        'open a new window\\nwith a picture of this comment'\r\n    );\r\n    return menu;\r\n};\r\n\r\nCommentMorph.prototype.userDestroy = function () {\r\n    this.selectForEdit().destroy(); // enable copy-on-edit\r\n};\r\n\r\n// CommentMorph hiding and showing:\r\n\r\n/*\r\n    override the inherited behavior to recursively hide/show all\r\n    children, so that my instances get restored correctly when\r\n    switching back out of app mode.\r\n*/\r\n\r\nCommentMorph.prototype.hide = function () {\r\n    this.isVisible = false;\r\n    this.changed();\r\n};\r\n\r\nCommentMorph.prototype.show = function () {\r\n    this.isVisible = true;\r\n    this.changed();\r\n};\r\n\r\n// CommentMorph dragging & dropping\r\n\r\nCommentMorph.prototype.prepareToBeGrabbed = function (hand) {\r\n\r\n    // disassociate from the block I'm posted to\r\n    if (this.block) {\r\n        this.block.comment = null;\r\n        this.block = null;\r\n    }\r\n    if (this.anchor) {\r\n        this.anchor.destroy();\r\n        this.anchor = null;\r\n        // fix shadow, because it was added earlier\r\n        this.removeShadow();\r\n        this.addShadow();\r\n    }\r\n};\r\n\r\nCommentMorph.prototype.selectForEdit =\r\n    SyntaxElementMorph.prototype.selectForEdit;\r\n\r\nCommentMorph.prototype.snap = function (hand) {\r\n\r\n    // passing the hand is optional (for when blocks are dragged & dropped)\r\n    var scripts = this.parent,\r\n        target;\r\n\r\n    if (!(scripts instanceof ScriptsMorph)) {\r\n        return null;\r\n    }\r\n    scripts.clearDropInfo();\r\n    target = scripts.closestBlock(this, hand);\r\n    if (target !== null) {\r\n        target.comment = this;\r\n        this.block = target;\r\n        if (this.snapSound) {\r\n            this.snapSound.play();\r\n        }\r\n        scripts.lastDropTarget = {element: target};\r\n    }\r\n    this.align();\r\n    scripts.lastDroppedBlock = this;\r\n    if (hand) {\r\n        scripts.recordDrop(hand.grabOrigin);\r\n    }\r\n\r\n};\r\n\r\n// CommentMorph sticking to blocks\r\n\r\nCommentMorph.prototype.align = function (topBlock, ignoreLayer) {\r\n    if (this.block) {\r\n        var top = topBlock || this.block.topBlock(),\r\n            affectedBlocks,\r\n            tp,\r\n            bottom,\r\n            rightMost,\r\n            scripts = top.parentThatIsA(ScriptsMorph);\r\n        this.setTop(this.block.top() + this.block.corner);\r\n        tp = this.top();\r\n        bottom = this.bottom();\r\n        affectedBlocks = top.allChildren().filter(function (child) {\r\n            return child instanceof BlockMorph &&\r\n                child.bottom() > tp &&\r\n                child.top() < bottom;\r\n        });\r\n        rightMost = Math.max.apply(\r\n            null,\r\n            affectedBlocks.map(function (block) {return block.right(); })\r\n        );\r\n\r\n        this.setLeft(rightMost + 5);\r\n        if (!ignoreLayer && scripts) {\r\n            scripts.addBack(this); // push to back and show\r\n        }\r\n\r\n        if (!this.anchor) {\r\n            this.anchor = new Morph();\r\n            this.anchor.color = this.titleBar.color;\r\n        }\r\n        this.anchor.silentSetPosition(new Point(\r\n            this.block.right(),\r\n            this.top() + this.edge\r\n        ));\r\n        this.anchor.bounds.corner = new Point(\r\n            this.left(),\r\n            this.top() + this.edge + 1\r\n        );\r\n        this.anchor.drawNew();\r\n        this.addBack(this.anchor);\r\n        this.anchor.changed();\r\n    }\r\n};\r\n\r\nCommentMorph.prototype.startFollowing = function (topBlock, world) {\r\n    this.align(topBlock);\r\n    world.add(this);\r\n    this.addShadow();\r\n    this.stickyOffset = this.position().subtract(this.block.position());\r\n    this.step = function () {\r\n        if (!this.block) { // kludge - only needed for \"redo\"\r\n            this.stopFollowing();\r\n            return;\r\n        }\r\n        this.setPosition(this.block.position().add(this.stickyOffset));\r\n    };\r\n};\r\n\r\nCommentMorph.prototype.stopFollowing = function () {\r\n    this.removeShadow();\r\n    delete this.step;\r\n};\r\n\r\nCommentMorph.prototype.destroy = function () {\r\n    if (this.block) {\r\n        this.block.comment = null;\r\n    }\r\n    CommentMorph.uber.destroy.call(this);\r\n};\r\n\r\nCommentMorph.prototype.stackHeight = function () {\r\n    return this.height();\r\n};\r\n\r\n// ScriptFocusMorph //////////////////////////////////////////////////////////\r\n\r\n/*\r\n    I offer keyboard navigation for syntax elements, blocks and scripts:\r\n\r\n    activate:\r\n      - shift + click on a scripting pane's background\r\n      - shift + click on any block\r\n      - shift + enter in the IDE's edit mode\r\n\r\n    stop editing:\r\n      - left-click on scripting pane's background\r\n      - esc\r\n\r\n    navigate among scripts:\r\n      - tab: next script\r\n      - backtab (shift + tab): last script\r\n\r\n    start editing a new script:\r\n      - shift + enter\r\n\r\n    navigate among commands within a script:\r\n      - down arrow: next command\r\n      - up arrow: last command\r\n\r\n    navigate among all elements within a script:\r\n      - right arrow: next element (block or input)\r\n      - left arrow: last element\r\n\r\n    move the currently edited script (stack of blocks):\r\n      - shift + arrow keys (left, right, up, down)\r\n\r\n    editing scripts:\r\n\r\n      - backspace:\r\n        * delete currently focused reporter\r\n        * delete command above current insertion mark (blinking)\r\n        * collapse currently focused variadic input by one element\r\n\r\n      - enter:\r\n        * edit currently focused input slot\r\n        * expand currently focused variadic input by one element\r\n\r\n      - space:\r\n        * activate currently focused input slot's pull-down menu, if any\r\n        * show a menu of reachable variables for the focused input or reporter\r\n\r\n      - any other key:\r\n        start searching for insertable matching blocks\r\n\r\n      - in menus triggered by this feature:\r\n        * navigate with up / down arrow keys\r\n        * trigger selection with enter\r\n        * cancel menu with esc\r\n\r\n      - in the search bar triggered b this feature:\r\n        * keep typing / deleting to narrow and update matches\r\n        * navigate among shown matches with up / down arrow keys\r\n        * insert selected match at the focus' position with enter\r\n        * cancel searching and inserting with esc\r\n\r\n    running the currently edited script:\r\n        * shift+ctrl+enter simulates clicking the edited script with the mouse\r\n*/\r\n\r\n// ScriptFocusMorph inherits from BoxMorph:\r\n\r\nScriptFocusMorph.prototype = new BoxMorph();\r\nScriptFocusMorph.prototype.constructor = ScriptFocusMorph;\r\nScriptFocusMorph.uber = BoxMorph.prototype;\r\n\r\n// ScriptFocusMorph instance creation:\r\n\r\nfunction ScriptFocusMorph(editor, initialElement, position) {\r\n    this.init(editor, initialElement, position);\r\n}\r\n\r\nScriptFocusMorph.prototype.init = function (\r\n    editor,\r\n    initialElement,\r\n    position\r\n) {\r\n    this.editor = editor; // a ScriptsMorph\r\n    this.element = initialElement;\r\n    this.atEnd = false;\r\n    ScriptFocusMorph.uber.init.call(this);\r\n    if (this.element instanceof ScriptsMorph) {\r\n        this.setPosition(position);\r\n    }\r\n};\r\n\r\n// ScriptFocusMorph keyboard focus:\r\n\r\nScriptFocusMorph.prototype.getFocus = function (world) {\r\n    if (!world) {world = this.world(); }\r\n    if (world && world.keyboardReceiver !== this) {\r\n        world.stopEditing();\r\n    }\r\n    world.keyboardReceiver = this;\r\n    this.fixLayout();\r\n    this.editor.updateToolbar();\r\n};\r\n\r\n// ScriptFocusMorph layout:\r\n\r\nScriptFocusMorph.prototype.fixLayout = function () {\r\n    this.changed();\r\n    if (this.element instanceof CommandBlockMorph ||\r\n            this.element instanceof CommandSlotMorph ||\r\n            this.element instanceof ScriptsMorph) {\r\n        this.manifestStatement();\r\n    } else {\r\n        this.manifestExpression();\r\n    }\r\n    this.editor.add(this); // come to front\r\n    this.scrollIntoView();\r\n    this.changed();\r\n};\r\n\r\nScriptFocusMorph.prototype.manifestStatement = function () {\r\n    var newScript = this.element instanceof ScriptsMorph,\r\n        y = this.element.top();\r\n    this.border = 0;\r\n    this.edge = 0;\r\n    this.alpha = 1;\r\n    this.color = this.editor.feedbackColor;\r\n    this.setExtent(new Point(\r\n        newScript ?\r\n                SyntaxElementMorph.prototype.hatWidth : this.element.width(),\r\n        Math.max(\r\n            SyntaxElementMorph.prototype.corner,\r\n            SyntaxElementMorph.prototype.feedbackMinHeight\r\n        )\r\n    ));\r\n    if (this.element instanceof CommandSlotMorph) {\r\n        y += SyntaxElementMorph.prototype.corner;\r\n    } else if (this.atEnd) {\r\n        y = this.element.bottom();\r\n    }\r\n    if (!newScript) {\r\n        this.setPosition(new Point(\r\n            this.element.left(),\r\n            y\r\n        ));\r\n    }\r\n    this.fps = 2;\r\n    this.show();\r\n    this.step = function () {\r\n        this.toggleVisibility();\r\n    };\r\n};\r\n\r\nScriptFocusMorph.prototype.manifestExpression = function () {\r\n    this.edge = SyntaxElementMorph.prototype.rounding;\r\n    this.border = Math.max(\r\n        SyntaxElementMorph.prototype.edge,\r\n        3\r\n    );\r\n    this.color = this.editor.feedbackColor.copy();\r\n    this.color.a = 0.5;\r\n    this.borderColor = this.editor.feedbackColor;\r\n\r\n    this.bounds = this.element.fullBounds()\r\n        .expandBy(Math.max(\r\n            SyntaxElementMorph.prototype.edge * 2,\r\n            SyntaxElementMorph.prototype.reporterDropFeedbackPadding\r\n        ));\r\n    this.drawNew();\r\n    delete this.fps;\r\n    delete this.step;\r\n    this.show();\r\n};\r\n\r\n// ScriptFocusMorph editing\r\n\r\nScriptFocusMorph.prototype.trigger = function () {\r\n    var current = this.element;\r\n    if (current instanceof MultiArgMorph) {\r\n        if (current.arrows().children[1].isVisible) {\r\n            current.addInput();\r\n            this.fixLayout();\r\n        }\r\n        return;\r\n    }\r\n    if (current.parent instanceof TemplateSlotMorph) {\r\n        current.mouseClickLeft();\r\n        return;\r\n    }\r\n    if (current instanceof BooleanSlotMorph) {\r\n        current.toggleValue();\r\n        return;\r\n    }\r\n    if (current instanceof InputSlotMorph) {\r\n        if (!current.isReadOnly) {\r\n            delete this.fps;\r\n            delete this.step;\r\n            this.hide();\r\n            this.world().onNextStep = function () {\r\n                current.contents().edit();\r\n                current.contents().selectAll();\r\n            };\r\n        } else if (current.choices) {\r\n            current.dropDownMenu(true);\r\n            delete this.fps;\r\n            delete this.step;\r\n            this.hide();\r\n        }\r\n    }\r\n};\r\n\r\nScriptFocusMorph.prototype.menu = function () {\r\n    var current = this.element;\r\n    if (current instanceof InputSlotMorph && current.choices) {\r\n        current.dropDownMenu(true);\r\n        delete this.fps;\r\n        delete this.step;\r\n        this.hide();\r\n    } else {\r\n        this.insertVariableGetter();\r\n    }\r\n};\r\n\r\nScriptFocusMorph.prototype.deleteLastElement = function () {\r\n    var current = this.element;\r\n    if (current.parent instanceof ScriptsMorph) {\r\n        if (this.atEnd || current instanceof ReporterBlockMorph) {\r\n            current.destroy();\r\n            this.element = this.editor;\r\n            this.atEnd = false;\r\n        }\r\n    } else if (current instanceof MultiArgMorph) {\r\n        if (current.arrows().children[0].isVisible) {\r\n            current.removeInput();\r\n        }\r\n    } else if (current instanceof BooleanSlotMorph) {\r\n        if (!current.isStatic) {\r\n            current.setContents(null);\r\n        }\r\n    } else if (current instanceof ReporterBlockMorph) {\r\n        if (!current.isTemplate) {\r\n            this.lastElement();\r\n            current.prepareToBeGrabbed();\r\n            current.destroy();\r\n        }\r\n    } else if (current instanceof CommandBlockMorph) {\r\n        if (this.atEnd) {\r\n            this.element = current.parent;\r\n            current.userDestroy();\r\n        } else {\r\n            if (current.parent instanceof CommandBlockMorph) {\r\n                current.parent.userDestroy();\r\n            }\r\n        }\r\n    }\r\n    this.editor.adjustBounds();\r\n    this.fixLayout();\r\n};\r\n\r\nScriptFocusMorph.prototype.insertBlock = function (block) {\r\n    var pb, stage, ide, rcvr;\r\n    block.isTemplate = false;\r\n    block.isDraggable = true;\r\n\r\n\r\n\r\n    if (block.snapSound) {\r\n        block.snapSound.play();\r\n    }\r\n\r\n    if (this.element instanceof ScriptsMorph) {\r\n        this.editor.add(block);\r\n        this.element = block;\r\n        if (block instanceof CommandBlockMorph) {\r\n            block.setLeft(this.left());\r\n            if (block.isStop()) {\r\n                block.setTop(this.top());\r\n            } else {\r\n                block.setBottom(this.top());\r\n                this.atEnd = true;\r\n            }\r\n        } else {\r\n            block.setCenter(this.center());\r\n            block.setLeft(this.left());\r\n        }\r\n    } else if (this.element instanceof CommandBlockMorph) {\r\n        if (this.atEnd) {\r\n            this.element.nextBlock(block);\r\n            this.element = block;\r\n            this.fixLayout();\r\n        } else {\r\n            // to be done: special case if block.isStop()\r\n            pb = this.element.parent;\r\n            if (pb instanceof ScriptsMorph) { // top block\r\n                block.setLeft(this.element.left());\r\n                block.setBottom(this.element.top() + this.element.corner);\r\n                this.editor.add(block);\r\n                block.nextBlock(this.element);\r\n                this.fixLayout();\r\n            } else if (pb instanceof CommandSlotMorph) {\r\n                pb.nestedBlock(block);\r\n            } else if (pb instanceof CommandBlockMorph) {\r\n                pb.nextBlock(block);\r\n            }\r\n        }\r\n    } else if (this.element instanceof CommandSlotMorph) {\r\n        // to be done: special case if block.isStop()\r\n        this.element.nestedBlock(block);\r\n        this.element = block;\r\n        this.atEnd = true;\r\n    } else {\r\n        pb = this.element.parent;\r\n        if (pb instanceof ScriptsMorph) {\r\n            this.editor.add(block);\r\n            block.setPosition(this.element.position());\r\n            this.element.destroy();\r\n        } else {\r\n            pb.replaceInput(this.element, block);\r\n        }\r\n        this.element = block;\r\n    }\r\n    block.fixBlockColor();\r\n    this.editor.adjustBounds();\r\n    // block.scrollIntoView();\r\n    this.fixLayout();\r\n\r\n    // register generic hat blocks\r\n    if (block.selector === 'receiveCondition') {\r\n        rcvr = this.editor.scriptTarget();\r\n        if (rcvr) {\r\n            stage = rcvr.parentThatIsA(StageMorph);\r\n            if (stage) {\r\n                stage.enableCustomHatBlocks = true;\r\n                stage.threads.pauseCustomHatBlocks = false;\r\n                ide = stage.parentThatIsA(IDE_Morph);\r\n                if (ide) {\r\n                    ide.controlBar.stopButton.refresh();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    // experimental: if the inserted block has inputs, go to the first one\r\n    if (block.inputs && block.inputs().length) {\r\n        this.element = block;\r\n        this.atEnd = false;\r\n        this.nextElement();\r\n    }\r\n};\r\n\r\nScriptFocusMorph.prototype.insertVariableGetter = function () {\r\n    var types = this.blockTypes(),\r\n        vars,\r\n        myself = this,\r\n        menu = new MenuMorph();\r\n    if (!types || !contains(types, 'reporter')) {\r\n        return;\r\n    }\r\n    vars = InputSlotMorph.prototype.getVarNamesDict.call(this.element);\r\n    Object.keys(vars).forEach(function (vName) {\r\n        var block = SpriteMorph.prototype.variableBlock(vName);\r\n        block.addShadow(new Point(3, 3));\r\n        menu.addItem(\r\n            block,\r\n            function () {\r\n                block.removeShadow();\r\n                myself.insertBlock(block);\r\n            }\r\n        );\r\n    });\r\n    if (menu.items.length > 0) {\r\n        menu.popup(this.world(), this.element.bottomLeft());\r\n        menu.getFocus();\r\n    }\r\n};\r\n\r\nScriptFocusMorph.prototype.stopEditing = function () {\r\n    this.editor.focus = null;\r\n    this.editor.updateToolbar();\r\n    this.world().keyboardReceiver = null;\r\n    this.destroy();\r\n};\r\n\r\n// ScriptFocusMorph navigation\r\n\r\nScriptFocusMorph.prototype.lastElement = function () {\r\n    var items = this.items(),\r\n        idx;\r\n    if (!items.length) {\r\n        this.shiftScript(new Point(-50, 0));\r\n        return;\r\n    }\r\n    if (this.atEnd) {\r\n        this.element = items[items.length - 1];\r\n        this.atEnd = false;\r\n    } else {\r\n        idx = items.indexOf(this.element) - 1;\r\n        if (idx < 0) {idx = items.length - 1; }\r\n        this.element = items[idx];\r\n    }\r\n    if (this.element instanceof CommandSlotMorph &&\r\n            this.element.nestedBlock()) {\r\n        this.lastElement();\r\n    } else if (this.element instanceof HatBlockMorph) {\r\n        if (items.length > 1) {\r\n            this.lastElement();\r\n        } else {\r\n            this.atEnd = true;\r\n        }\r\n    }\r\n    this.fixLayout();\r\n};\r\n\r\nScriptFocusMorph.prototype.nextElement = function () {\r\n    var items = this.items(), idx, nb;\r\n    if (!items.length) {\r\n        this.shiftScript(new Point(50, 0));\r\n        return;\r\n    }\r\n    idx = items.indexOf(this.element) + 1;\r\n    if (idx >= items.length) {\r\n        idx = 0;\r\n    }\r\n    this.atEnd = false;\r\n    this.element = items[idx];\r\n    if (this.element instanceof CommandSlotMorph) {\r\n        nb = this.element.nestedBlock();\r\n        if (nb) {this.element = nb; }\r\n    } else if (this.element instanceof HatBlockMorph) {\r\n        if (items.length === 1) {\r\n            this.atEnd = true;\r\n        } else {\r\n            this.nextElement();\r\n        }\r\n    }\r\n    this.fixLayout();\r\n};\r\n\r\nScriptFocusMorph.prototype.lastCommand = function () {\r\n    var cm = this.element.parentThatIsA(CommandBlockMorph),\r\n        pb;\r\n    if (!cm) {\r\n        if (this.element instanceof ScriptsMorph) {\r\n            this.shiftScript(new Point(0, -50));\r\n        }\r\n        return;\r\n    }\r\n    if (this.element instanceof CommandBlockMorph) {\r\n        if (this.atEnd) {\r\n            this.atEnd = false;\r\n        } else {\r\n            pb = cm.parent.parentThatIsA(CommandBlockMorph);\r\n            if (pb) {\r\n                this.element = pb;\r\n            } else {\r\n                pb = cm.topBlock().bottomBlock();\r\n                if (pb) {\r\n                    this.element = pb;\r\n                    this.atEnd = true;\r\n                }\r\n            }\r\n        }\r\n    } else {\r\n        this.element = cm;\r\n        this.atEnd = false;\r\n    }\r\n    if (this.element instanceof HatBlockMorph && !this.atEnd) {\r\n        this.lastCommand();\r\n    }\r\n    this.fixLayout();\r\n};\r\n\r\nScriptFocusMorph.prototype.nextCommand = function () {\r\n    var cm = this.element,\r\n        tb,\r\n        nb,\r\n        cs;\r\n    if (cm instanceof ScriptsMorph) {\r\n        this.shiftScript(new Point(0, 50));\r\n        return;\r\n    }\r\n    while (!(cm instanceof CommandBlockMorph)) {\r\n        cm = cm.parent;\r\n        if (cm instanceof ScriptsMorph) {\r\n            return;\r\n        }\r\n    }\r\n    if (this.atEnd) {\r\n        cs = cm.parentThatIsA(CommandSlotMorph);\r\n        if (cs) {\r\n            this.element = cs.parentThatIsA(CommandBlockMorph);\r\n            this.atEnd = false;\r\n            this.nextCommand();\r\n        } else {\r\n            tb = cm.topBlock().parentThatIsA(CommandBlockMorph);\r\n            if (tb) {\r\n                this.element = tb;\r\n                this.atEnd = false;\r\n                if (this.element instanceof HatBlockMorph) {\r\n                    this.nextCommand();\r\n                }\r\n            }\r\n        }\r\n    } else {\r\n        nb = cm.nextBlock();\r\n        if (nb) {\r\n            this.element = nb;\r\n        } else {\r\n            this.element = cm;\r\n            this.atEnd = true;\r\n        }\r\n    }\r\n    this.fixLayout();\r\n};\r\n\r\nScriptFocusMorph.prototype.nextScript = function () {\r\n    var scripts = this.sortedScripts(),\r\n        idx;\r\n    if (scripts.length < 1) {return; }\r\n    if (this.element instanceof ScriptsMorph) {\r\n        this.element = scripts[0];\r\n    }\r\n    idx = scripts.indexOf(this.element.topBlock()) + 1;\r\n    if (idx >= scripts.length) {idx = 0; }\r\n    this.element = scripts[idx];\r\n    this.element.scrollIntoView();\r\n    this.atEnd = false;\r\n    if (this.element instanceof HatBlockMorph) {\r\n        return this.nextElement();\r\n    }\r\n    this.fixLayout();\r\n};\r\n\r\nScriptFocusMorph.prototype.lastScript = function () {\r\n    var scripts = this.sortedScripts(),\r\n        idx;\r\n    if (scripts.length < 1) {return; }\r\n    if (this.element instanceof ScriptsMorph) {\r\n        this.element = scripts[0];\r\n    }\r\n    idx = scripts.indexOf(this.element.topBlock()) - 1;\r\n    if (idx < 0) {idx = scripts.length - 1; }\r\n    this.element = scripts[idx];\r\n    this.element.scrollIntoView();\r\n    this.atEnd = false;\r\n    if (this.element instanceof HatBlockMorph) {\r\n        return this.nextElement();\r\n    }\r\n    this.fixLayout();\r\n};\r\n\r\nScriptFocusMorph.prototype.shiftScript = function (deltaPoint) {\r\n    var tb;\r\n    if (this.element instanceof ScriptsMorph) {\r\n        this.moveBy(deltaPoint);\r\n    } else {\r\n        tb = this.element.topBlock();\r\n        if (tb && !(tb instanceof PrototypeHatBlockMorph)) {\r\n            tb.moveBy(deltaPoint);\r\n        }\r\n    }\r\n    this.editor.adjustBounds();\r\n    this.fixLayout();\r\n};\r\n\r\nScriptFocusMorph.prototype.newScript = function () {\r\n    var pos = this.position();\r\n    if (!(this.element instanceof ScriptsMorph)) {\r\n        pos = this.element.topBlock().fullBounds().bottomLeft().add(\r\n            new Point(0, 50)\r\n        );\r\n    }\r\n    this.setPosition(pos);\r\n    this.element = this.editor;\r\n    this.editor.adjustBounds();\r\n    this.fixLayout();\r\n};\r\n\r\n\r\nScriptFocusMorph.prototype.runScript = function () {\r\n    if (this.element instanceof ScriptsMorph) {return; }\r\n    this.element.topBlock().mouseClickLeft();\r\n};\r\n\r\nScriptFocusMorph.prototype.items = function () {\r\n    if (this.element instanceof ScriptsMorph) {return []; }\r\n    var script = this.element.topBlock();\r\n    return script.allChildren().filter(function (each) {\r\n        return each instanceof SyntaxElementMorph &&\r\n            !(each instanceof TemplateSlotMorph) &&\r\n            (!each.isStatic ||\r\n                each.choices ||\r\n                each instanceof BooleanSlotMorph ||\r\n                each instanceof RingMorph ||\r\n                each instanceof MultiArgMorph ||\r\n                each instanceof CommandSlotMorph);\r\n    });\r\n};\r\n\r\nScriptFocusMorph.prototype.sortedScripts = function () {\r\n    var scripts = this.editor.children.filter(function (each) {\r\n        return each instanceof BlockMorph;\r\n    });\r\n    scripts.sort(function (a, b) {\r\n        // make sure the prototype hat block always stays on top\r\n        return a instanceof PrototypeHatBlockMorph ? 0 : a.top() - b.top();\r\n    });\r\n    return scripts;\r\n};\r\n\r\n// ScriptFocusMorph undo / redo\r\n\r\nScriptFocusMorph.prototype.undrop = function () {\r\n    this.editor.undrop();\r\n};\r\n\r\nScriptFocusMorph.prototype.redrop = function () {\r\n    this.editor.redrop();\r\n};\r\n\r\n// ScriptFocusMorph block types\r\n\r\nScriptFocusMorph.prototype.blockTypes = function () {\r\n    // answer an array of possible block types that fit into\r\n    // the current situation, NULL if no block can be inserted\r\n\r\n    if (this.element.isTemplate) {return null; }\r\n    if (this.element instanceof ScriptsMorph) {\r\n        return ['hat', 'command', 'reporter', 'predicate', 'ring'];\r\n    }\r\n    if (this.element instanceof HatBlockMorph ||\r\n            this.element instanceof CommandSlotMorph) {\r\n        return ['command'];\r\n    }\r\n    if (this.element instanceof CommandBlockMorph) {\r\n        if (this.atEnd && this.element.isStop()) {\r\n            return null;\r\n        }\r\n        if (this.element.parent instanceof ScriptsMorph) {\r\n            return ['hat', 'command'];\r\n        }\r\n        return ['command'];\r\n    }\r\n    if (this.element instanceof ReporterBlockMorph) {\r\n        if (this.element.getSlotSpec() === '%n') {\r\n            return ['reporter'];\r\n        }\r\n        return ['reporter', 'predicate', 'ring'];\r\n    }\r\n    if (this.element.getSpec() === '%n') {\r\n        return ['reporter'];\r\n    }\r\n    if (this.element.isStatic) {\r\n        return null;\r\n    }\r\n    return ['reporter', 'predicate', 'ring'];\r\n};\r\n\r\n\r\n// ScriptFocusMorph keyboard events\r\n\r\nScriptFocusMorph.prototype.processKeyDown = function (event) {\r\n    this.processKeyEvent(\r\n        event,\r\n        this.reactToKeyEvent\r\n    );\r\n};\r\n\r\nScriptFocusMorph.prototype.processKeyUp = function (event) {\r\n    nop(event);\r\n};\r\n\r\nScriptFocusMorph.prototype.processKeyPress = function (event) {\r\n    nop(event);\r\n};\r\n\r\n\r\nScriptFocusMorph.prototype.processKeyEvent = function (event, action) {\r\n    var keyName, ctrl, shift;\r\n\r\n    this.world().hand.destroyTemporaries(); // remove result bubbles, if any\r\n    switch (event.keyCode) {\r\n    case 8:\r\n        keyName = 'backspace';\r\n        break;\r\n    case 9:\r\n        keyName = 'tab';\r\n        break;\r\n    case 13:\r\n        keyName = 'enter';\r\n        break;\r\n    case 16:\r\n    case 17:\r\n    case 18:\r\n        return;\r\n    case 27:\r\n        keyName = 'esc';\r\n        break;\r\n    case 32:\r\n        keyName = 'space';\r\n        break;\r\n    case 37:\r\n        keyName = 'left arrow';\r\n        break;\r\n    case 39:\r\n        keyName = 'right arrow';\r\n        break;\r\n    case 38:\r\n        keyName = 'up arrow';\r\n        break;\r\n    case 40:\r\n        keyName = 'down arrow';\r\n        break;\r\n    default:\r\n        keyName = String.fromCharCode(event.keyCode || event.charCode);\r\n    }\r\n    ctrl = (event.ctrlKey || event.metaKey) ? 'ctrl ' : '';\r\n    shift = event.shiftKey ? 'shift ' : '';\r\n    keyName = ctrl + shift + keyName;\r\n    action.call(this, keyName);\r\n};\r\n\r\nScriptFocusMorph.prototype.reactToKeyEvent = function (key) {\r\n    var evt = key.toLowerCase(),\r\n        shift = 50,\r\n        types,\r\n        vNames;\r\n\r\n    \r\n    switch (evt) {\r\n    case 'esc':\r\n        return this.stopEditing();\r\n    case 'enter':\r\n        return this.trigger();\r\n    case 'shift enter':\r\n        return this.newScript();\r\n    case 'ctrl shift enter':\r\n        return this.runScript();\r\n    case 'space':\r\n        return this.menu();\r\n    case 'left arrow':\r\n        return this.lastElement();\r\n    case 'shift left arrow':\r\n        return this.shiftScript(new Point(-shift, 0));\r\n    case 'right arrow':\r\n        return this.nextElement();\r\n    case 'shift right arrow':\r\n        return this.shiftScript(new Point(shift, 0));\r\n    case 'up arrow':\r\n        return this.lastCommand();\r\n    case 'shift up arrow':\r\n        return this.shiftScript(new Point(0, -shift));\r\n    case 'down arrow':\r\n        return this.nextCommand();\r\n    case 'shift down arrow':\r\n        return this.shiftScript(new Point(0, shift));\r\n    case 'tab':\r\n        return this.nextScript();\r\n    case 'shift tab':\r\n        return this.lastScript();\r\n    case 'backspace':\r\n        return this.deleteLastElement();\r\n    case 'ctrl z':\r\n        return this.undrop();\r\n    case 'ctrl y':\r\n    case 'ctrl shift z':\r\n        return this.redrop();\r\n    case 'ctrl [': // ignore the first press of the Mac cmd key\r\n        return;\r\n    default:\r\n        types = this.blockTypes();\r\n        if (!(this.element instanceof ScriptsMorph) &&\r\n                types && contains(types, 'reporter')) {\r\n            vNames = Object.keys(this.element.getVarNamesDict());\r\n        }\r\n        if (types) {\r\n            delete this.fps;\r\n            delete this.step;\r\n            this.show();\r\n            this.editor.scriptTarget().searchBlocks(\r\n                key,\r\n                types,\r\n                vNames,\r\n                this\r\n            );\r\n        }\r\n    }\r\n};\r\n//fin de blocks\r\n\r\n/*\r\n\r\n    threads.js\r\n\r\n    a tail call optimized blocks-based programming language interpreter\r\n    based on morphic.js and blocks.js\r\n    inspired by Scratch, Scheme and Squeak\r\n\r\n    written by Jens Mönig\r\n    jens@moenig.org\r\n\r\n    Copyright (C) 2017 by Jens Mönig\r\n\r\n    This file is part of Snap!.\r\n\r\n    Snap! is free software: you can redistribute it and/or modify\r\n    it under the terms of the GNU Affero General Public License as\r\n    published by the Free Software Foundation, either version 3 of\r\n    the License, or (at your option) any later version.\r\n\r\n    This program is distributed in the hope that it will be useful,\r\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n    GNU Affero General Public License for more details.\r\n\r\n    You should have received a copy of the GNU Affero General Public License\r\n    along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n\r\n\r\n    prerequisites:\r\n    --------------\r\n    needs blocks.js and objects.js\r\n\r\n\r\n    toc\r\n    ---\r\n    the following list shows the order in which all constructors are\r\n    defined. Use this list to locate code in this document:\r\n\r\n        ThreadManager\r\n        Process\r\n        Context\r\n        Variable\r\n        VariableFrame\r\n\r\n\r\n    credits\r\n    -------\r\n    John Maloney and Dave Feinberg designed the original Scratch evaluator\r\n    Ivan Motyashov contributed initial porting from Squeak\r\n\r\n*/\r\n\r\n// Global stuff ////////////////////////////////////////////////////////\r\n\r\n/*global ArgMorph, BlockMorph, CommandBlockMorph, CommandSlotMorph, Morph,\r\nMultiArgMorph, Point, ReporterBlockMorph, SyntaxElementMorph, contains, Costume,\r\ndegrees, detect, nop, radians, ReporterSlotMorph, CSlotMorph, RingMorph, Sound,\r\nIDE_Morph, ArgLabelMorph, localize, XML_Element, hex_sha512, TableDialogMorph,\r\nStageMorph, SpriteMorph, StagePrompterMorph, Note, modules, isString, copy,\r\nisNil, WatcherMorph, List, ListWatcherMorph, alert, console, TableMorph,\r\nTableFrameMorph, ColorSlotMorph, isSnapObject*/\r\n\r\nmodules.threads = '2017-December-01';\r\n\r\nvar ThreadManager;\r\nvar Process;\r\nvar Context;\r\nvar VariableFrame;\r\n\r\nfunction snapEquals(a, b) {\r\n    if (a instanceof List || (b instanceof List)) {\r\n        if (a instanceof List && (b instanceof List)) {\r\n            return a.equalTo(b);\r\n        }\r\n        return false;\r\n    }\r\n\r\n    var x = +a,\r\n        y = +b,\r\n        i,\r\n        specials = [true, false, ''];\r\n\r\n    // \"zum Schneckengang verdorben, was Adlerflug geworden wäre\"\r\n    // collecting edge-cases that somebody complained about\r\n    // on Github. Folks, take it easy and keep it fun, okay?\r\n    // Shit like this is patently ugly and slows Snap down. Tnx!\r\n    for (i = 9; i <= 13; i += 1) {\r\n        specials.push(String.fromCharCode(i));\r\n    }\r\n    specials.push(String.fromCharCode(160));\r\n\r\n    // check for special values before coercing to numbers\r\n    if (isNaN(x) || isNaN(y) ||\r\n            [a, b].some(function (any) {return contains(specials, any) ||\r\n                  (isString(any) && (any.indexOf(' ') > -1)); })) {\r\n        x = a;\r\n        y = b;\r\n    }\r\n\r\n    // handle text comparison case-insensitive.\r\n    if (isString(x) && isString(y)) {\r\n        return x.toLowerCase() === y.toLowerCase();\r\n    }\r\n\r\n    return x === y;\r\n}\r\n\r\nfunction invoke(\r\n    action, // a BlockMorph or a Context, a reified (\"ringified\") block\r\n    contextArgs, // optional List of arguments for the context, or null\r\n    receiver, // sprite or environment, optional for contexts\r\n    timeout, // msecs\r\n    timeoutErrorMsg, // string\r\n    suppressErrors // bool\r\n) {\r\n    // execute the given block or context synchronously without yielding.\r\n    // Apply context (not a block) to a list of optional arguments.\r\n    // Receiver (sprite, stage or  environment), timeout etc. are optional.\r\n    // If a timeout (in milliseconds) is specified, abort execution\r\n    // after the timeout has been reached and throw an error.\r\n    // SuppressErrors (bool) if non-timeout errors occurring in the\r\n    // block are handled elsewhere.\r\n    // This is highly experimental.\r\n    // Caution: Kids, do not try this at home!\r\n    // Use ThreadManager::startProcess with a callback instead\r\n\r\n    var proc = new Process(),\r\n        deadline = (timeout ? Date.now() + timeout : null);\r\n\r\n    if (action instanceof Context) {\r\n        if (receiver) { // optional\r\n            action = proc.reportContextFor(receiver);\r\n        }\r\n        proc.initializeFor(action, contextArgs || new List());\r\n    } else if (action instanceof BlockMorph) {\r\n        proc.topBlock = action;\r\n        if (receiver) {\r\n            proc.homeContext = new Context();\r\n            proc.homeContext.receiver = receiver;\r\n            if (receiver.variables) {\r\n                proc.homeContext.variables.parentFrame = receiver.variables;\r\n            }\r\n        } else {\r\n            throw new Error('expecting a receiver but getting ' + receiver);\r\n        }\r\n        proc.context = new Context(\r\n            null,\r\n            action.blockSequence(),\r\n            proc.homeContext\r\n        );\r\n    } else if (action.evaluate) {\r\n        return action.evaluate();\r\n    } else {\r\n        throw new Error('expecting a block or ring but getting ' + action);\r\n    }\r\n    if (suppressErrors) {\r\n        proc.isCatchingErrors = false;\r\n    }\r\n    while (proc.isRunning()) {\r\n        if (deadline && (Date.now() > deadline)) {\r\n            throw (new Error(\r\n                localize(\r\n                    timeoutErrorMsg ||\r\n                        \"a synchronous Snap! script has timed out\")\r\n                )\r\n            );\r\n        }\r\n        proc.runStep(deadline);\r\n    }\r\n    return proc.homeContext.inputs[0];\r\n}\r\n\r\n// ThreadManager ///////////////////////////////////////////////////////\r\n\r\nfunction ThreadManager() {\r\n    this.processes = [];\r\n    this.wantsToPause = false; // single stepping support\r\n}\r\n\r\nThreadManager.prototype.pauseCustomHatBlocks = false;\r\n\r\nvar compteurGo = 0; // Wiquid Counting user try\r\n\r\nThreadManager.prototype.toggleProcess = function (block, receiver) {\r\n    var active = this.findProcess(block, receiver);\r\n    \r\n    compteur();//Wiquid : Block green flag and other trigger blocks\r\n\r\n    if (active) {\r\n\r\n        active.stop();\r\n    \r\n    } else {\r\n\r\n        return this.startProcess(block, receiver, null, null, null, true);\r\n    \r\n    }\r\n};\r\n\r\n//******************************* Wiquid ***********************************************\r\n\r\nfunction compteur(){\r\n    compteurGo++;\r\n    $container.find(\".compteur\").html(\";Nombre de tentatives : \" + compteurGo);\r\n     var nbTry = config.testLimiter - compteurGo ;\r\n    \r\n    if(nbTry > 1){world.children[0].projectName = ' ATTENTION : Il vous reste '+ (nbTry) +' tentatives !';}\r\n    if(nbTry == 1){world.children[0].projectName = ' ATTENTION DERNIERE TENTATIVE !';}\r\n    world.children[0].controlBar.updateLabel();\r\n    \r\n    if( compteurGo >= config.testLimiter && config.testLimiter !=0 ){\r\n\r\n        $container.find(\".snapy\").append(\"<div class='bg_try_stop'></div\");\r\n        $container.find(\".snapy\").append(\"<div class='txt_try_stop'>Nombre d\\'essais maximum atteint. Soumettez votre réponse pour continuer.</div>\");\r\n        $container.find(\".world\").hide();\r\n    }\r\n}\r\n\r\n//******************************* Wiquid ********************************************\r\n\r\nThreadManager.prototype.startProcess = function (\r\n    block,\r\n    receiver,\r\n    isThreadSafe,\r\n    exportResult, // bool\r\n    callback,\r\n    isClicked,\r\n    rightAway\r\n) {\r\n    var top = block.topBlock(),\r\n        active = this.findProcess(top, receiver),\r\n        glow,\r\n        newProc;\r\n    if (active) {\r\n        if (isThreadSafe) {\r\n            return active;\r\n        }\r\n        active.stop();\r\n        this.removeTerminatedProcesses();\r\n    }\r\n    newProc = new Process(top, receiver, callback, isClicked);\r\n    newProc.exportResult = exportResult;\r\n    newProc.isClicked = isClicked || false;\r\n\r\n    // show a highlight around the running stack\r\n    // if there are more than one active processes\r\n    // for a block, display the thread count\r\n    // next to it\r\n    glow = top.getHighlight();\r\n    if (glow) {\r\n        glow.threadCount = this.processesForBlock(top).length + 1;\r\n        glow.updateReadout();\r\n    } else {\r\n        top.addHighlight();\r\n    }\r\n\r\n    this.processes.push(newProc);\r\n    if (rightAway) {\r\n        newProc.runStep();\r\n    }\r\n    return newProc;\r\n};\r\n\r\nThreadManager.prototype.stopAll = function (excpt) {\r\n    // excpt is optional\r\n    this.processes.forEach(function (proc) {\r\n        if (proc !== excpt) {\r\n            proc.stop();\r\n        }\r\n    });\r\n};\r\n\r\nThreadManager.prototype.stopAllForReceiver = function (rcvr, excpt) {\r\n    // excpt is optional\r\n    this.processes.forEach(function (proc) {\r\n        if (proc.homeContext.receiver === rcvr && proc !== excpt) {\r\n            proc.stop();\r\n            if (rcvr.isTemporary) {\r\n                proc.isDead = true;\r\n            }\r\n        }\r\n    });\r\n};\r\n\r\nThreadManager.prototype.stopAllForBlock = function (aTopBlock) {\r\n    this.processesForBlock(aTopBlock, true).forEach(function (proc) {\r\n        proc.stop();\r\n    });\r\n};\r\n\r\nThreadManager.prototype.stopProcess = function (block, receiver) {\r\n    var active = this.findProcess(block, receiver);\r\n    if (active) {\r\n        active.stop();\r\n    }\r\n};\r\n\r\nThreadManager.prototype.pauseAll = function (stage) {\r\n    this.processes.forEach(function (proc) {\r\n        proc.pause();\r\n    });\r\n    if (stage) {\r\n        stage.pauseAllActiveSounds();\r\n    }\r\n};\r\n\r\nThreadManager.prototype.isPaused = function () {\r\n    return detect(this.processes, function (proc) {return proc.isPaused; })\r\n        !== null;\r\n};\r\n\r\nThreadManager.prototype.resumeAll = function (stage) {\r\n    this.processes.forEach(function (proc) {\r\n        proc.resume();\r\n    });\r\n    if (stage) {\r\n        stage.resumeAllActiveSounds();\r\n    }\r\n};\r\n\r\nThreadManager.prototype.step = function () {\r\n    // run each process until it gives up control, skipping processes\r\n    // for sprites that are currently picked up, then filter out any\r\n    // processes that have been terminated\r\n\r\n    var isInterrupted;\r\n    if (Process.prototype.enableSingleStepping) {\r\n        this.processes.forEach(function (proc) {\r\n            if (proc.isInterrupted) {\r\n                proc.runStep();\r\n                isInterrupted = true;\r\n            } else {\r\n                proc.lastYield = Date.now();\r\n            }\r\n        });\r\n        this.wantsToPause = (Process.prototype.flashTime > 0.5);\r\n        if (isInterrupted) {\r\n            if (this.wantsToPause) {\r\n                this.pauseAll();\r\n            }\r\n            return;\r\n        }\r\n    }\r\n\r\n    this.processes.forEach(function (proc) {\r\n        if (!proc.homeContext.receiver.isPickedUp() && !proc.isDead) {\r\n            proc.runStep();\r\n        }\r\n    });\r\n    this.removeTerminatedProcesses();\r\n};\r\n\r\nThreadManager.prototype.removeTerminatedProcesses = function () {\r\n    // and un-highlight their scripts\r\n    var remaining = [],\r\n        count,\r\n        myself = this;\r\n    this.processes.forEach(function (proc) {\r\n        var result,\r\n            glow;\r\n        if ((!proc.isRunning() && !proc.errorFlag) || proc.isDead) {\r\n            if (proc.topBlock instanceof BlockMorph) {\r\n                proc.unflash();\r\n                // adjust the thread count indicator, if any\r\n                count = myself.processesForBlock(proc.topBlock).length;\r\n                if (count) {\r\n                    glow = proc.topBlock.getHighlight() ||\r\n                        proc.topBlock.addHighlight();\r\n                    glow.threadCount = count;\r\n                    glow.updateReadout();\r\n                } else {\r\n                    proc.topBlock.removeHighlight();\r\n                }\r\n            }\r\n            if (proc.prompter) {\r\n                proc.prompter.destroy();\r\n                if (proc.homeContext.receiver.stopTalking) {\r\n                    proc.homeContext.receiver.stopTalking();\r\n                }\r\n            }\r\n            if (proc.topBlock instanceof ReporterBlockMorph ||\r\n                    proc.isShowingResult) {\r\n                result = proc.homeContext.inputs[0];\r\n                if (proc.onComplete instanceof Function) {\r\n                    proc.onComplete(result);\r\n                } else {\r\n                    if (result instanceof List) {\r\n                        proc.topBlock.showBubble(\r\n                            result.isTable() ?\r\n                                    new TableFrameMorph(\r\n                                        new TableMorph(result, 10)\r\n                                    )\r\n                                    : new ListWatcherMorph(result),\r\n                            proc.exportResult,\r\n                            proc.receiver\r\n                        );\r\n                    } else {\r\n                        proc.topBlock.showBubble(\r\n                            result,\r\n                            proc.exportResult,\r\n                            proc.receiver\r\n                        );\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            remaining.push(proc);\r\n        }\r\n    });\r\n    this.processes = remaining;\r\n};\r\n\r\nThreadManager.prototype.findProcess = function (block, receiver) {\r\n    var top = block.topBlock();\r\n    return detect(\r\n        this.processes,\r\n        function (each) {\r\n            return each.topBlock === top && (each.receiver === receiver);\r\n        }\r\n    );\r\n};\r\n\r\nThreadManager.prototype.processesForBlock = function (block, only) {\r\n    var top = only ? block : block.topBlock();\r\n    return this.processes.filter(function (each) {\r\n            return each.topBlock === top &&\r\n                each.isRunning() &&\r\n                !each.isDead;\r\n    });\r\n};\r\n\r\nThreadManager.prototype.doWhen = function (block, receiver, stopIt) {\r\n    if (this.pauseCustomHatBlocks) {return; }\r\n    if ((!block) || this.findProcess(block, receiver)) {\r\n        return;\r\n    }\r\n    var pred = block.inputs()[0], world;\r\n    if (block.removeHighlight()) {\r\n        world = block.world();\r\n        if (world) {\r\n            world.hand.destroyTemporaries();\r\n        }\r\n    }\r\n    if (stopIt) {return; }\r\n    try {\r\n        if (invoke(\r\n            pred,\r\n            null,\r\n            receiver,\r\n            50,\r\n            'the predicate takes\\ntoo long for a\\ncustom hat block',\r\n            true // suppress errors => handle them right here instead\r\n        ) === true) {\r\n            this.startProcess(\r\n                block,\r\n                receiver,\r\n                null,\r\n                null,\r\n                null,\r\n                null,\r\n                true // atomic\r\n            );\r\n        }\r\n    } catch (error) {\r\n        block.addErrorHighlight();\r\n        block.showBubble(\r\n            error.name\r\n            + '\\n'\r\n            + error.message\r\n        );\r\n    }\r\n};\r\n\r\nThreadManager.prototype.toggleSingleStepping = function () {\r\n    Process.prototype.enableSingleStepping =\r\n        !Process.prototype.enableSingleStepping;\r\n    if (!Process.prototype.enableSingleStepping) {\r\n        this.processes.forEach(function (proc) {\r\n            if (!proc.isPaused) {\r\n                proc.unflash();\r\n            }\r\n        });\r\n    }\r\n};\r\n\r\n// Process /////////////////////////////////////////////////////////////\r\n\r\n/*\r\n    A Process is what brings a stack of blocks to life. The process\r\n    keeps track of which block to run next, evaluates block arguments,\r\n    handles control structures, and so forth.\r\n\r\n    The ThreadManager is the (passive) scheduler, telling each process\r\n    when to run by calling its runStep() method. The runStep() method\r\n    will execute some number of blocks, then voluntarily yield control\r\n    so that the ThreadManager can run another process.\r\n\r\n    The Scratch etiquette is that a process should yield control at the\r\n    end of every loop iteration, and while it is running a timed command\r\n    (e.g. \"wait 5 secs\") or a synchronous command (e.g. \"broadcast xxx\r\n    and wait\"). Since Snap also has lambda and custom blocks Snap adds\r\n    yields at the beginning of each non-atomic custom command block\r\n    execution, and - to let users escape infinite loops and recursion -\r\n    whenever the process runs into a timeout.\r\n\r\n    a Process runs for a receiver, i.e. a sprite or the stage or any\r\n    blocks-scriptable object that we'll introduce.\r\n\r\n    structure:\r\n\r\n    topBlock            the stack's first block, of which all others\r\n                        are children\r\n    receiver            object (sprite) to which the process applies,\r\n                        cached from the top block\r\n    instrument          musical instrument type, cached from the receiver,\r\n                        so a single sprite can play several instruments\r\n                        at once\r\n    context             the Context describing the current state\r\n                        of this process\r\n    homeContext         stores information relevant to the whole process,\r\n                        i.e. its receiver, result etc.\r\n    isPaused            boolean indicating whether to pause\r\n    readyToYield        boolean indicating whether to yield control to\r\n                        another process\r\n    readyToTerminate    boolean indicating whether the stop method has\r\n                        been called\r\n    isDead              boolean indicating a terminated clone process\r\n    timeout             msecs after which to force yield\r\n    lastYield           msecs when the process last yielded\r\n    isFirstStep         boolean indicating whether on first step - for clones\r\n    errorFlag           boolean indicating whether an error was encountered\r\n    prompter            active instance of StagePrompterMorph\r\n    httpRequest         active instance of an HttpRequest or null\r\n    pauseOffset         msecs between the start of an interpolated operation\r\n                        and when the process was paused\r\n    isClicked           boolean flag indicating whether the process was\r\n                        initiated by a user-click on a block\r\n    isShowingResult     boolean flag indicating whether a \"report\" command\r\n                        has been executed in a user-clicked process\r\n    exportResult        boolean flag indicating whether a picture of the top\r\n                        block along with the result bubble shoud be exported\r\n    onComplete          an optional callback function to be executed when\r\n                        the process is done\r\n    procedureCount      number counting procedure call entries,\r\n                        used to tag custom block calls, so \"stop block\"\r\n                        invocations can catch them\r\n    flashingContext     for single stepping\r\n    isInterrupted       boolean, indicates intra-step flashing of blocks\r\n*/\r\n\r\nProcess.prototype = {};\r\nProcess.prototype.constructor = Process;\r\nProcess.prototype.timeout = 500; // msecs after which to force yield\r\nProcess.prototype.isCatchingErrors = true;\r\nProcess.prototype.enableLiveCoding = false; // experimental\r\nProcess.prototype.enableSingleStepping = false; // experimental\r\nProcess.prototype.flashTime = 0; // experimental\r\n// Process.prototype.enableJS = false;\r\n\r\nfunction Process(topBlock, receiver, onComplete, yieldFirst) {\r\n    this.topBlock = topBlock || null;\r\n    this.receiver = receiver;\r\n    this.instrument = receiver ? receiver.instrument : null;\r\n    this.readyToYield = false;\r\n    this.readyToTerminate = false;\r\n    this.isDead = false;\r\n    this.isClicked = false;\r\n    this.isShowingResult = false;\r\n    this.errorFlag = false;\r\n    this.context = null;\r\n    this.homeContext = new Context(null, null, null, receiver);\r\n    this.lastYield =  Date.now();\r\n    this.isFirstStep = true;\r\n    this.isAtomic = false;\r\n    this.prompter = null;\r\n    this.httpRequest = null;\r\n    this.isPaused = false;\r\n    this.pauseOffset = null;\r\n    this.frameCount = 0;\r\n    this.exportResult = false;\r\n    this.onComplete = onComplete || null;\r\n    this.procedureCount = 0;\r\n    this.flashingContext = null; // experimental, for single-stepping\r\n    this.isInterrupted = false; // experimental, for single-stepping\r\n\r\n    if (topBlock) {\r\n        this.homeContext.variables.parentFrame =\r\n            this.homeContext.receiver.variables;\r\n        this.context = new Context(\r\n            null,\r\n            topBlock.blockSequence(),\r\n            this.homeContext\r\n        );\r\n        if (yieldFirst) {\r\n            this.pushContext('doYield'); // highlight top block\r\n        }\r\n    }\r\n}\r\n\r\n// Process accessing\r\n\r\nProcess.prototype.isRunning = function () {\r\n    return (this.context !== null) && (!this.readyToTerminate);\r\n};\r\n\r\n// Process entry points\r\n\r\nProcess.prototype.runStep = function (deadline) {\r\n    // a step is an an uninterruptable 'atom', it can consist\r\n    // of several contexts, even of several blocks\r\n\r\n    if (this.isPaused) { // allow pausing in between atomic steps:\r\n        return this.pauseStep();\r\n    }\r\n    this.readyToYield = false;\r\n    this.isInterrupted = false;\r\n\r\n    while (!this.readyToYield && !this.isInterrupted\r\n            && this.context\r\n            && (Date.now() - this.lastYield < this.timeout)\r\n    ) {\r\n        // also allow pausing inside atomic steps - for PAUSE block primitive:\r\n        if (this.isPaused) {\r\n            return this.pauseStep();\r\n        }\r\n        if (deadline && (Date.now() > deadline)) {\r\n            if (this.isAtomic &&\r\n                    this.homeContext.receiver &&\r\n                    this.homeContext.receiver.endWarp) {\r\n                this.homeContext.receiver.endWarp();\r\n            }\r\n            return;\r\n        }\r\n        this.evaluateContext();\r\n    }\r\n\r\n    this.lastYield = Date.now();\r\n    this.isFirstStep = false;\r\n\r\n    // make sure to redraw atomic things\r\n    if (this.isAtomic &&\r\n            this.homeContext.receiver &&\r\n            this.homeContext.receiver.endWarp) {\r\n        this.homeContext.receiver.endWarp();\r\n        this.homeContext.receiver.startWarp();\r\n    }\r\n\r\n    if (this.readyToTerminate) {\r\n        while (this.context) {\r\n            this.popContext();\r\n        }\r\n        if (this.homeContext.receiver) {\r\n            if (this.homeContext.receiver.endWarp) {\r\n                // pen optimization\r\n                this.homeContext.receiver.endWarp();\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nProcess.prototype.stop = function () {\r\n    this.readyToYield = true;\r\n    this.readyToTerminate = true;\r\n    this.errorFlag = false;\r\n    if (this.context) {\r\n        this.context.stopMusic();\r\n    }\r\n};\r\n\r\nProcess.prototype.pause = function () {\r\n    if (this.readyToTerminate) {\r\n        return;\r\n    }\r\n    this.isPaused = true;\r\n    this.flashPausedContext();\r\n    if (this.context && this.context.startTime) {\r\n        this.pauseOffset = Date.now() - this.context.startTime;\r\n    }\r\n};\r\n\r\nProcess.prototype.resume = function () {\r\n    if (!this.enableSingleStepping) {\r\n        this.unflash();\r\n    }\r\n    this.isPaused = false;\r\n    this.pauseOffset = null;\r\n};\r\n\r\nProcess.prototype.pauseStep = function () {\r\n    this.lastYield = Date.now();\r\n    if (this.context && this.context.startTime) {\r\n        this.context.startTime = this.lastYield - this.pauseOffset;\r\n    }\r\n};\r\n\r\n// Process evaluation\r\n\r\nProcess.prototype.evaluateContext = function () {\r\n    var exp = this.context.expression;\r\n    this.frameCount += 1;\r\n    if (this.context.tag === 'exit') {\r\n        this.expectReport();\r\n    }\r\n    if (exp instanceof Array) {\r\n        return this.evaluateSequence(exp);\r\n    }\r\n    if (exp instanceof MultiArgMorph) {\r\n        return this.evaluateMultiSlot(exp, exp.inputs().length);\r\n    }\r\n    if (exp instanceof ArgLabelMorph) {\r\n        return this.evaluateArgLabel(exp);\r\n    }\r\n    if (exp instanceof ArgMorph || exp.bindingID) {\r\n        return this.evaluateInput(exp);\r\n    }\r\n    if (exp instanceof BlockMorph) {\r\n        return this.evaluateBlock(exp, exp.inputs().length);\r\n    }\r\n    if (isString(exp)) {\r\n        return this[exp].apply(this, this.context.inputs);\r\n    }\r\n    this.popContext(); // default: just ignore it\r\n};\r\n\r\nProcess.prototype.evaluateBlock = function (block, argCount) {\r\n    var selector = block.selector;\r\n    // check for special forms\r\n    if (selector === 'reportOr' ||\r\n            selector ===  'reportAnd' ||\r\n            selector === 'doReport') {\r\n        return this[selector](block);\r\n    }\r\n\r\n    // first evaluate all inputs, then apply the primitive\r\n    var rcvr = this.context.receiver || this.receiver,\r\n        inputs = this.context.inputs;\r\n\r\n    if (argCount > inputs.length) {\r\n        this.evaluateNextInput(block);\r\n    } else {\r\n        if (this.flashContext()) {return; } // yield to flash the block\r\n        if (this[selector]) {\r\n            rcvr = this;\r\n        }\r\n        if (this.isCatchingErrors) {\r\n            try {\r\n                this.returnValueToParentContext(\r\n                    rcvr[selector].apply(rcvr, inputs)\r\n                );\r\n                this.popContext();\r\n            } catch (error) {\r\n                this.handleError(error, block);\r\n            }\r\n        } else {\r\n            this.returnValueToParentContext(\r\n                rcvr[selector].apply(rcvr, inputs)\r\n            );\r\n            this.popContext();\r\n        }\r\n    }\r\n};\r\n\r\n// Process: Special Forms Blocks Primitives\r\n\r\nProcess.prototype.reportOr = function (block) {\r\n    var inputs = this.context.inputs;\r\n\r\n    if (inputs.length < 1) {\r\n        this.evaluateNextInput(block);\r\n    } else if (inputs[0]) {\r\n        if (this.flashContext()) {return; }\r\n        this.returnValueToParentContext(true);\r\n        this.popContext();\r\n    } else if (inputs.length < 2) {\r\n        this.evaluateNextInput(block);\r\n    } else {\r\n        if (this.flashContext()) {return; }\r\n        this.returnValueToParentContext(inputs[1] === true);\r\n        this.popContext();\r\n    }\r\n};\r\n\r\nProcess.prototype.reportAnd = function (block) {\r\n    var inputs = this.context.inputs;\r\n\r\n    if (inputs.length < 1) {\r\n        this.evaluateNextInput(block);\r\n    } else if (!inputs[0]) {\r\n        if (this.flashContext()) {return; }\r\n        this.returnValueToParentContext(false);\r\n        this.popContext();\r\n    } else if (inputs.length < 2) {\r\n        this.evaluateNextInput(block);\r\n    } else {\r\n        if (this.flashContext()) {return; }\r\n        this.returnValueToParentContext(inputs[1] === true);\r\n        this.popContext();\r\n    }\r\n};\r\n\r\nProcess.prototype.doReport = function (block) {\r\n    var outer = this.context.outerContext;\r\n    if (this.flashContext()) {return; } // flash the block here, special form\r\n    if (this.isClicked && (block.topBlock() === this.topBlock)) {\r\n        this.isShowingResult = true;\r\n    }\r\n    if (this.context.expression.partOfCustomCommand) {\r\n        this.doStopCustomBlock();\r\n        this.popContext();\r\n    } else {\r\n        while (this.context && this.context.tag !== 'exit') {\r\n            if (this.context.expression === 'doStopWarping') {\r\n                this.doStopWarping();\r\n            } else {\r\n                this.popContext();\r\n            }\r\n        }\r\n        if (this.context) {\r\n            if (this.context.expression === 'expectReport') {\r\n                // pop off inserted top-level exit context\r\n                this.popContext();\r\n            } else {\r\n                // un-tag and preserve original caller\r\n                this.context.tag = null;\r\n            }\r\n        }\r\n    }\r\n    // in any case evaluate (and ignore)\r\n    // the input, because it could be\r\n    // and HTTP Request for a hardware extension\r\n    this.pushContext(block.inputs()[0], outer);\r\n};\r\n\r\n// Process: Non-Block evaluation\r\n\r\nProcess.prototype.evaluateMultiSlot = function (multiSlot, argCount) {\r\n    // first evaluate all subslots, then return a list of their values\r\n    var inputs = this.context.inputs,\r\n        ans;\r\n    if (multiSlot.bindingID) {\r\n        if (this.isCatchingErrors) {\r\n            try {\r\n                ans = this.context.variables.getVar(multiSlot.bindingID);\r\n            } catch (error) {\r\n                this.handleError(error, multiSlot);\r\n            }\r\n        } else {\r\n            ans = this.context.variables.getVar(multiSlot.bindingID);\r\n        }\r\n        this.returnValueToParentContext(ans);\r\n        this.popContext();\r\n    } else {\r\n        if (argCount > inputs.length) {\r\n            this.evaluateNextInput(multiSlot);\r\n        } else {\r\n            this.returnValueToParentContext(new List(inputs));\r\n            this.popContext();\r\n        }\r\n    }\r\n};\r\n\r\nProcess.prototype.evaluateArgLabel = function (argLabel) {\r\n    // perform the ID function on an ArgLabelMorph element\r\n    var inputs = this.context.inputs;\r\n    if (inputs.length < 1) {\r\n        this.evaluateNextInput(argLabel);\r\n    } else {\r\n        this.returnValueToParentContext(inputs[0]);\r\n        this.popContext();\r\n    }\r\n};\r\n\r\nProcess.prototype.evaluateInput = function (input) {\r\n    // evaluate the input unless it is bound to an implicit parameter\r\n    var ans;\r\n    if (this.flashContext()) {return; } // yield to flash the current argMorph\r\n    if (input.bindingID) {\r\n        if (this.isCatchingErrors) {\r\n            try {\r\n                ans = this.context.variables.getVar(input.bindingID);\r\n            } catch (error) {\r\n                this.handleError(error, input);\r\n            }\r\n        } else {\r\n            ans = this.context.variables.getVar(input.bindingID);\r\n        }\r\n    } else {\r\n        ans = input.evaluate();\r\n        if (ans) {\r\n            if (input.constructor === CommandSlotMorph ||\r\n                    input.constructor === ReporterSlotMorph ||\r\n                    (input instanceof CSlotMorph &&\r\n                        (!input.isStatic || input.isLambda))) {\r\n                // I know, this still needs yet to be done right....\r\n                ans = this.reify(ans, new List());\r\n            }\r\n        }\r\n    }\r\n    this.returnValueToParentContext(ans);\r\n    this.popContext();\r\n};\r\n\r\nProcess.prototype.evaluateSequence = function (arr) {\r\n    var pc = this.context.pc,\r\n        outer = this.context.outerContext,\r\n        isCustomBlock = this.context.isCustomBlock;\r\n    if (pc === (arr.length - 1)) { // tail call elimination\r\n        this.context = new Context(\r\n            this.context.parentContext,\r\n            arr[pc],\r\n            this.context.outerContext,\r\n            this.context.receiver\r\n        );\r\n        this.context.isCustomBlock = isCustomBlock;\r\n    } else {\r\n        if (pc >= arr.length) {\r\n            this.popContext();\r\n        } else {\r\n            this.context.pc += 1;\r\n            this.pushContext(arr[pc], outer);\r\n        }\r\n    }\r\n};\r\n\r\n/*\r\n// version w/o tail call optimization:\r\n--------------------------------------\r\nCaution: we cannot just revert to this version of the method, because to make\r\ntail call elimination work many tweaks had to be done to various primitives.\r\nFor the most part these tweaks are about schlepping the outer context (for\r\nthe variable bindings) and the isCustomBlock flag along, and are indicated\r\nby a short comment in the code. But to really revert would take a good measure\r\nof trial and error as well as debugging. In the developers file archive there\r\nis a version of threads.js dated 120119(2) which basically resembles the\r\nlast version before introducing tail call optimization on 120123.\r\n*/\r\n\r\nProcess.prototype.evaluateNextInput = function (element) {\r\n    var nxt = this.context.inputs.length,\r\n        args = element.inputs(),\r\n        exp = args[nxt],\r\n        sel = this.context.expression.selector,\r\n        outer = this.context.outerContext; // for tail call elimination\r\n\r\n    if (exp.isUnevaluated) {\r\n        if (exp.isUnevaluated === true || exp.isUnevaluated()) {\r\n            // just return the input as-is\r\n            /*\r\n                Note: we only reify the input here, if it's not an\r\n                input to a reification primitive itself (THE BLOCK,\r\n                THE SCRIPT), because those allow for additional\r\n                explicit parameter bindings.\r\n            */\r\n            if (sel === 'reify' || sel === 'reportScript') {\r\n                this.context.addInput(exp);\r\n            } else {\r\n                this.context.addInput(this.reify(exp, new List()));\r\n            }\r\n        } else {\r\n            this.pushContext(exp, outer);\r\n        }\r\n    } else {\r\n        this.pushContext(exp, outer);\r\n    }\r\n};\r\n\r\nProcess.prototype.doYield = function () {\r\n    this.popContext();\r\n    if (!this.isAtomic) {\r\n        this.readyToYield = true;\r\n    }\r\n};\r\n\r\nProcess.prototype.expectReport = function () {\r\n    this.handleError(new Error(\"reporter didn't report\"));\r\n};\r\n\r\n// Process Exception Handling\r\n\r\nProcess.prototype.handleError = function (error, element) {\r\n    var m = element;\r\n    this.stop();\r\n    this.errorFlag = true;\r\n    this.topBlock.addErrorHighlight();\r\n    if (isNil(m) || isNil(m.world())) {m = this.topBlock; }\r\n    m.showBubble(\r\n        (m === element ? '' : 'Inside: ')\r\n            + error.name\r\n            + '\\n'\r\n            + error.message,\r\n        this.exportResult,\r\n        this.receiver\r\n    );\r\n};\r\n\r\nProcess.prototype.errorObsolete = function () {\r\n    throw new Error('a custom block definition is missing');\r\n};\r\n\r\n// Process Lambda primitives\r\n\r\nProcess.prototype.reify = function (topBlock, parameterNames, isCustomBlock) {\r\n    var context = new Context(\r\n            null,\r\n            null,\r\n            this.context ? this.context.outerContext : null\r\n        ),\r\n        i = 0;\r\n\r\n    if (topBlock) {\r\n        context.expression = this.enableLiveCoding ||\r\n            this.enableSingleStepping ?\r\n                topBlock : topBlock.fullCopy();\r\n        context.expression.show(); // be sure to make visible if in app mode\r\n\r\n        if (!isCustomBlock && !parameterNames.length()) {\r\n            // mark all empty slots with an identifier\r\n            context.expression.allEmptySlots().forEach(function (slot) {\r\n                i += 1;\r\n                if (slot instanceof MultiArgMorph) {\r\n                    slot.bindingID = ['arguments'];\r\n                } else {\r\n                    slot.bindingID = i;\r\n                }\r\n            });\r\n            // and remember the number of detected empty slots\r\n            context.emptySlots = i;\r\n        }\r\n\r\n    } else {\r\n        context.expression = this.enableLiveCoding ||\r\n            this.enableSingleStepping ? [this.context.expression]\r\n                : [this.context.expression.fullCopy()];\r\n    }\r\n\r\n    context.inputs = parameterNames.asArray();\r\n    context.receiver\r\n        = this.context ? this.context.receiver : this.receiver;\r\n    context.origin = context.receiver; // for serialization\r\n\r\n    return context;\r\n};\r\n\r\nProcess.prototype.reportScript = function (parameterNames, topBlock) {\r\n    return this.reify(topBlock, parameterNames);\r\n};\r\n\r\nProcess.prototype.reifyScript = function (topBlock, parameterNames) {\r\n    return this.reify(topBlock, parameterNames);\r\n};\r\n\r\nProcess.prototype.reifyReporter = function (topBlock, parameterNames) {\r\n    return this.reify(topBlock, parameterNames);\r\n};\r\n\r\nProcess.prototype.reifyPredicate = function (topBlock, parameterNames) {\r\n    return this.reify(topBlock, parameterNames);\r\n};\r\n\r\nProcess.prototype.reportJSFunction = function (parmNames, body) {\r\n    return Function.apply(\r\n        null,\r\n        parmNames.asArray().concat([body])\r\n    );\r\n};\r\n\r\nProcess.prototype.doRun = function (context, args) {\r\n    return this.evaluate(context, args, true);\r\n};\r\n\r\nProcess.prototype.evaluate = function (\r\n    context,\r\n    args,\r\n    isCommand\r\n) {\r\n    if (!context) {return null; }\r\n    if (context instanceof Function) {\r\n        \r\n        return context.apply(\r\n            this.blockReceiver(),\r\n            args.asArray().concat([this])\r\n        );\r\n    }\r\n    if (context.isContinuation) {\r\n        return this.runContinuation(context, args);\r\n    }\r\n    if (!(context instanceof Context)) {\r\n        throw new Error('expecting a ring but getting ' + context);\r\n    }\r\n\r\n    var outer = new Context(null, null, context.outerContext),\r\n        caller = this.context.parentContext,\r\n        exit,\r\n        runnable,\r\n        parms = args.asArray(),\r\n        i,\r\n        value;\r\n\r\n    if (!outer.receiver) {\r\n        outer.receiver = context.receiver; // for custom blocks\r\n    }\r\n    runnable = new Context(\r\n        this.context.parentContext,\r\n        context.expression,\r\n        outer,\r\n        context.receiver\r\n    );\r\n    this.context.parentContext = runnable;\r\n\r\n    if (context.expression instanceof ReporterBlockMorph) {\r\n        // auto-\"warp\" nested reporters\r\n        this.readyToYield = (Date.now() - this.lastYield > this.timeout);\r\n    }\r\n\r\n    // assign parameters if any were passed\r\n    if (parms.length > 0) {\r\n\r\n        // assign formal parameters\r\n        for (i = 0; i < context.inputs.length; i += 1) {\r\n            value = 0;\r\n            if (!isNil(parms[i])) {\r\n                value = parms[i];\r\n            }\r\n            outer.variables.addVar(context.inputs[i], value);\r\n        }\r\n\r\n        // assign implicit parameters if there are no formal ones\r\n        if (context.inputs.length === 0) {\r\n            // assign the actual arguments list to the special\r\n            // parameter ID ['arguments'], to be used for variadic inputs\r\n            outer.variables.addVar(['arguments'], args);\r\n\r\n            // in case there is only one input\r\n            // assign it to all empty slots\r\n            if (parms.length === 1) {\r\n                for (i = 1; i <= context.emptySlots; i += 1) {\r\n                    outer.variables.addVar(i, parms[0]);\r\n                }\r\n\r\n            // if the number of inputs matches the number\r\n            // of empty slots distribute them sequentially\r\n            } else if (parms.length === context.emptySlots) {\r\n                for (i = 1; i <= parms.length; i += 1) {\r\n                    outer.variables.addVar(i, parms[i - 1]);\r\n                }\r\n\r\n            } else if (context.emptySlots !== 1) {\r\n                throw new Error(\r\n                    localize('expecting') + ' ' + context.emptySlots + ' '\r\n                        + localize('input(s), but getting') + ' '\r\n                        + parms.length\r\n                );\r\n            }\r\n        }\r\n    }\r\n\r\n    if (runnable.expression instanceof CommandBlockMorph) {\r\n        runnable.expression = runnable.expression.blockSequence();\r\n        if (!isCommand) {\r\n            if (caller) {\r\n                // tag caller, so \"report\" can catch it later\r\n                caller.tag = 'exit';\r\n            } else {\r\n                // top-level context, insert a tagged exit context\r\n                // which \"report\" can catch later\r\n                exit = new Context(\r\n                    runnable.parentContext,\r\n                    'expectReport',\r\n                    outer,\r\n                    outer.receiver\r\n                );\r\n                exit.tag = 'exit';\r\n                runnable.parentContext = exit;\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nProcess.prototype.fork = function (context, args) {\r\n    var proc = new Process(),\r\n        stage = this.homeContext.receiver.parentThatIsA(StageMorph);\r\n    proc.instrument = this.instrument;\r\n    proc.receiver = this.receiver;\r\n    proc.initializeFor(context, args, this.enableSingleStepping);\r\n    // proc.pushContext('doYield');\r\n    stage.threads.processes.push(proc);\r\n};\r\n\r\nProcess.prototype.initializeFor = function (context, args, ignoreExit) {\r\n    // used by Process.fork() and global invoke()\r\n    if (context.isContinuation) {\r\n        throw new Error(\r\n            'continuations cannot be forked'\r\n        );\r\n    }\r\n    if (!(context instanceof Context)) {\r\n        throw new Error('expecting a ring but getting ' + context);\r\n    }\r\n\r\n    var outer = new Context(null, null, context.outerContext),\r\n        runnable = new Context(null,\r\n            context.expression,\r\n            outer\r\n            ),\r\n        parms = args.asArray(),\r\n        i,\r\n        value,\r\n        exit;\r\n\r\n    // remember the receiver\r\n    this.context = context.receiver;\r\n\r\n    // assign parameters if any were passed\r\n    if (parms.length > 0) {\r\n\r\n        // assign formal parameters\r\n        for (i = 0; i < context.inputs.length; i += 1) {\r\n            value = 0;\r\n            if (!isNil(parms[i])) {\r\n                value = parms[i];\r\n            }\r\n            outer.variables.addVar(context.inputs[i], value);\r\n        }\r\n\r\n        // assign implicit parameters if there are no formal ones\r\n        if (context.inputs.length === 0) {\r\n            // assign the actual arguments list to the special\r\n            // parameter ID ['arguments'], to be used for variadic inputs\r\n            outer.variables.addVar(['arguments'], args);\r\n\r\n            // in case there is only one input\r\n            // assign it to all empty slots\r\n            if (parms.length === 1) {\r\n                for (i = 1; i <= context.emptySlots; i += 1) {\r\n                    outer.variables.addVar(i, parms[0]);\r\n                }\r\n\r\n            // if the number of inputs matches the number\r\n            // of empty slots distribute them sequentially\r\n            } else if (parms.length === context.emptySlots) {\r\n                for (i = 1; i <= parms.length; i += 1) {\r\n                    outer.variables.addVar(i, parms[i - 1]);\r\n                }\r\n\r\n            } else if (context.emptySlots !== 1) {\r\n                throw new Error(\r\n                    localize('expecting') + ' ' + context.emptySlots + ' '\r\n                        + localize('input(s), but getting') + ' '\r\n                        + parms.length\r\n                );\r\n            }\r\n        }\r\n    }\r\n\r\n    if (runnable.expression instanceof CommandBlockMorph) {\r\n        runnable.expression = runnable.expression.blockSequence();\r\n\r\n        // insert a tagged exit context\r\n        // which \"report\" can catch later\r\n        // needed for invoke() situations\r\n        if (!ignoreExit) { // when single stepping LAUNCH\r\n\t        exit = new Context(\r\n    \t        runnable.parentContext,\r\n        \t    'expectReport',\r\n            \touter,\r\n            \touter.receiver\r\n        \t);\r\n        \texit.tag = 'exit';\r\n        \trunnable.parentContext = exit;\r\n    \t}\r\n    }\r\n\r\n    this.homeContext = new Context(); // context.outerContext;\r\n    this.homeContext.receiver = context.outerContext.receiver;\r\n    this.topBlock = context.expression;\r\n    this.context = runnable;\r\n};\r\n\r\n// Process stopping blocks primitives\r\n\r\nProcess.prototype.doStopBlock = function () {\r\n    var target = this.context.expression.exitTag;\r\n    if (isNil(target)) {\r\n        return this.doStopCustomBlock();\r\n    }\r\n    while (this.context &&\r\n            (isNil(this.context.tag) || (this.context.tag > target))) {\r\n        if (this.context.expression === 'doStopWarping') {\r\n            this.doStopWarping();\r\n        } else {\r\n            this.popContext();\r\n        }\r\n    }\r\n    this.pushContext();\r\n};\r\n\r\nProcess.prototype.doStopCustomBlock = function () {\r\n    // fallback solution for \"report\" blocks inside\r\n    // custom command definitions and untagged \"stop\" blocks\r\n    while (this.context && !this.context.isCustomBlock) {\r\n        if (this.context.expression === 'doStopWarping') {\r\n            this.doStopWarping();\r\n        } else {\r\n            this.popContext();\r\n        }\r\n    }\r\n};\r\n\r\n// Process continuations primitives\r\n\r\nProcess.prototype.doCallCC = function (aContext, isReporter) {\r\n    this.evaluate(\r\n        aContext,\r\n        new List([this.context.continuation()]),\r\n        !isReporter\r\n    );\r\n};\r\n\r\nProcess.prototype.reportCallCC = function (aContext) {\r\n    this.doCallCC(aContext, true);\r\n};\r\n\r\nProcess.prototype.runContinuation = function (aContext, args) {\r\n    var parms = args.asArray();\r\n\r\n    // determine whether the continuations is to show the result\r\n    // in a value-balloon becuse the user has directly clicked on a reporter\r\n    if (aContext.expression === 'expectReport' && parms.length) {\r\n        this.stop();\r\n        this.homeContext.inputs[0] = parms[0];\r\n        return;\r\n    }\r\n\r\n    this.context.parentContext = aContext.copyForContinuationCall();\r\n    // passing parameter if any was passed\r\n    if (parms.length === 1) {\r\n        this.context.parentContext.outerContext.variables.addVar(\r\n            1,\r\n            parms[0]\r\n        );\r\n    }\r\n};\r\n\r\n// Process custom block primitives\r\n\r\nProcess.prototype.evaluateCustomBlock = function () {\r\n    var caller = this.context.parentContext,\r\n        block = this.context.expression,\r\n        method = block.isGlobal ? block.definition\r\n                : this.blockReceiver().getMethod(block.semanticSpec),\r\n        context = method.body,\r\n        declarations = method.declarations,\r\n        args = new List(this.context.inputs),\r\n        parms = args.asArray(),\r\n        runnable,\r\n        exit,\r\n        i,\r\n        value,\r\n        outer;\r\n\r\n    if (!context) {return null; }\r\n    this.procedureCount += 1;\r\n    outer = new Context();\r\n    outer.receiver = this.context.receiver;\r\n\r\n    outer.variables.parentFrame = block.variables;\r\n\r\n    // block (instance) var support, experimental:\r\n    // only splice in block vars if any are defined, because block vars\r\n    // can cause race conditions in global block definitions that\r\n    // access sprite-local variables at the same time.\r\n    if (method.variableNames.length) {\r\n        block.variables.parentFrame = outer.receiver ?\r\n                outer.receiver.variables : null;\r\n    } else {\r\n        // original code without block variables:\r\n        outer.variables.parentFrame = outer.receiver ?\r\n                outer.receiver.variables : null;\r\n    }\r\n\r\n    runnable = new Context(\r\n        this.context.parentContext,\r\n        context.expression,\r\n        outer,\r\n        outer.receiver\r\n    );\r\n    runnable.isCustomBlock = true;\r\n    this.context.parentContext = runnable;\r\n\r\n    // passing parameters if any were passed\r\n    if (parms.length > 0) {\r\n\r\n        // assign formal parameters\r\n        for (i = 0; i < context.inputs.length; i += 1) {\r\n            value = 0;\r\n            if (!isNil(parms[i])) {\r\n                value = parms[i];\r\n            }\r\n            outer.variables.addVar(context.inputs[i], value);\r\n\r\n            // if the parameter is an upvar,\r\n            // create a reference to the variable it points to\r\n            if (declarations[context.inputs[i]][0] === '%upvar') {\r\n                this.context.outerContext.variables.vars[value] =\r\n                    outer.variables.vars[context.inputs[i]];\r\n            }\r\n        }\r\n    }\r\n\r\n    // tag return target\r\n    if (method.type !== 'command') {\r\n        if (caller) {\r\n            // tag caller, so \"report\" can catch it later\r\n            caller.tag = 'exit';\r\n        } else {\r\n            // top-level context, insert a tagged exit context\r\n            // which \"report\" can catch later\r\n            exit = new Context(\r\n                runnable.parentContext,\r\n                'expectReport',\r\n                outer,\r\n                outer.receiver\r\n            );\r\n            exit.tag = 'exit';\r\n            runnable.parentContext = exit;\r\n        }\r\n        // auto-\"warp\" nested reporters\r\n        this.readyToYield = (Date.now() - this.lastYield > this.timeout);\r\n    } else {\r\n        // tag all \"stop this block\" blocks with the current\r\n        // procedureCount as exitTag, and mark all \"report\" blocks\r\n        // as being inside a custom command definition\r\n        runnable.expression.tagExitBlocks(this.procedureCount, true);\r\n\r\n        // tag the caller with the current procedure count, so\r\n        // \"stop this block\" blocks can catch it, but only\r\n        // if the caller hasn't been tagged already\r\n        if (caller && !caller.tag) {\r\n            caller.tag = this.procedureCount;\r\n        }\r\n        // yield commands unless explicitly \"warped\" or directly recursive\r\n        if (!this.isAtomic && method.isDirectlyRecursive()) {\r\n            this.readyToYield = true;\r\n        }\r\n    }\r\n    runnable.expression = runnable.expression.blockSequence();\r\n};\r\n\r\n// Process variables primitives\r\n\r\nProcess.prototype.doDeclareVariables = function (varNames) {\r\n    var varFrame = this.context.outerContext.variables;\r\n    varNames.asArray().forEach(function (name) {\r\n        varFrame.addVar(name);\r\n    });\r\n};\r\n\r\nProcess.prototype.doSetVar = function (varName, value) {\r\n    var varFrame = this.context.variables,\r\n        name = varName,\r\n        rcvr;\r\n    if (name instanceof Context) {\r\n        rcvr = this.blockReceiver();\r\n        if (name.expression.selector === 'reportGetVar') {\r\n            name.variables.setVar(\r\n                name.expression.blockSpec,\r\n                value,\r\n                rcvr\r\n            );\r\n            return;\r\n        }\r\n        this.doSet(name, value);\r\n        return;\r\n    }\r\n    varFrame.setVar(name, value, this.blockReceiver());\r\n};\r\n\r\nProcess.prototype.doChangeVar = function (varName, value) {\r\n    var varFrame = this.context.variables,\r\n        name = varName;\r\n\r\n    if (name instanceof Context) {\r\n        if (name.expression.selector === 'reportGetVar') {\r\n            name.variables.changeVar(\r\n                name.expression.blockSpec,\r\n                value,\r\n                this.blockReceiver()\r\n            );\r\n            return;\r\n        }\r\n    }\r\n    varFrame.changeVar(name, value, this.blockReceiver());\r\n};\r\n\r\nProcess.prototype.reportGetVar = function () {\r\n    // assumes a getter block whose blockSpec is a variable name\r\n    return this.context.variables.getVar(\r\n        this.context.expression.blockSpec\r\n    );\r\n};\r\n\r\nProcess.prototype.doShowVar = function (varName) {\r\n    var varFrame = this.context.variables,\r\n        stage,\r\n        watcher,\r\n        target,\r\n        label,\r\n        others,\r\n        isGlobal,\r\n        name = varName;\r\n\r\n    if (name instanceof Context) {\r\n        if (name.expression.selector === 'reportGetVar') {\r\n            name = name.expression.blockSpec;\r\n        } else {\r\n            this.doChangePrimitiveVisibility(name.expression, false);\r\n            return;\r\n        }\r\n    }\r\n    if (this.homeContext.receiver) {\r\n        stage = this.homeContext.receiver.parentThatIsA(StageMorph);\r\n        if (stage) {\r\n            target = varFrame.silentFind(name);\r\n            if (!target) {return; }\r\n            // first try to find an existing (hidden) watcher\r\n            watcher = detect(\r\n                stage.children,\r\n                function (morph) {\r\n                    return morph instanceof WatcherMorph\r\n                        && morph.target === target\r\n                        && morph.getter === name;\r\n                }\r\n            );\r\n            if (watcher !== null) {\r\n                watcher.show();\r\n                watcher.fixLayout(); // re-hide hidden parts\r\n                return;\r\n            }\r\n            // if no watcher exists, create a new one\r\n            isGlobal = contains(\r\n                this.homeContext.receiver.globalVariables().names(),\r\n                varName\r\n            );\r\n            if (isGlobal || target.owner) {\r\n                label = name;\r\n            } else {\r\n                label = name + ' ' + localize('(temporary)');\r\n            }\r\n            watcher = new WatcherMorph(\r\n                label,\r\n                SpriteMorph.prototype.blockColor.variables,\r\n                target,\r\n                name\r\n            );\r\n            watcher.setPosition(stage.position().add(10));\r\n            others = stage.watchers(watcher.left());\r\n            if (others.length > 0) {\r\n                watcher.setTop(others[others.length - 1].bottom());\r\n            }\r\n            stage.add(watcher);\r\n            watcher.fixLayout();\r\n        }\r\n    }\r\n};\r\n\r\nProcess.prototype.doHideVar = function (varName) {\r\n    // if no varName is specified delete all watchers on temporaries\r\n    var varFrame = this.context.variables,\r\n        stage,\r\n        watcher,\r\n        target,\r\n        name = varName;\r\n\r\n    if (name instanceof Context) {\r\n        if (name.expression.selector === 'reportGetVar') {\r\n            name = name.expression.blockSpec;\r\n        } else {\r\n            this.doChangePrimitiveVisibility(name.expression, true);\r\n            return;\r\n        }\r\n    }\r\n    if (!name) {\r\n        this.doRemoveTemporaries();\r\n        return;\r\n    }\r\n    if (this.homeContext.receiver) {\r\n        stage = this.homeContext.receiver.parentThatIsA(StageMorph);\r\n        if (stage) {\r\n            target = varFrame.find(name);\r\n            watcher = detect(\r\n                stage.children,\r\n                function (morph) {\r\n                    return morph instanceof WatcherMorph\r\n                        && morph.target === target\r\n                        && morph.getter === name;\r\n                }\r\n            );\r\n            if (watcher !== null) {\r\n                if (watcher.isTemporary()) {\r\n                    watcher.destroy();\r\n                } else {\r\n                    watcher.hide();\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nProcess.prototype.doRemoveTemporaries = function () {\r\n    var stage;\r\n    if (this.homeContext.receiver) {\r\n        stage = this.homeContext.receiver.parentThatIsA(StageMorph);\r\n        if (stage) {\r\n            stage.watchers().forEach(function (watcher) {\r\n                if (watcher.isTemporary()) {\r\n                    watcher.destroy();\r\n                }\r\n            });\r\n        }\r\n    }\r\n};\r\n\r\n// Process hiding and showing primitives primitives :-)\r\n\r\nProcess.prototype.doChangePrimitiveVisibility = function (aBlock, hideIt) {\r\n    var ide = this.homeContext.receiver.parentThatIsA(IDE_Morph),\r\n        dict,\r\n        cat;\r\n    if (!ide || (aBlock.selector === 'evaluateCustomBlock')) {\r\n        return;\r\n    }\r\n    if (hideIt) {\r\n        StageMorph.prototype.hiddenPrimitives[aBlock.selector] = true;\r\n    } else {\r\n        delete StageMorph.prototype.hiddenPrimitives[aBlock.selector];\r\n    }\r\n    dict = {\r\n        doWarp: 'control',\r\n        reifyScript: 'operators',\r\n        reifyReporter: 'operators',\r\n        reifyPredicate: 'operators',\r\n        doDeclareVariables: 'variables'\r\n    };\r\n    cat = dict[this.selector] || this.category;\r\n    if (cat === 'lists') {cat = 'variables'; }\r\n    ide.flushBlocksCache(cat);\r\n    ide.refreshPalette();\r\n};\r\n\r\n// Process sprite inheritance primitives\r\n\r\nProcess.prototype.doDeleteAttr = function (attrName) {\r\n    var name = attrName,\r\n        rcvr = this.blockReceiver();\r\n    if (name instanceof Context) {\r\n        if (name.expression.selector === 'reportGetVar') {\r\n            name = name.expression.blockSpec;\r\n        } else { // attribute\r\n            name = {\r\n                xPosition: 'x position',\r\n                yPosition: 'y position',\r\n                direction: 'direction',\r\n                getCostumeIdx: 'costume #',\r\n                size: 'size'\r\n            }[name.expression.selector];\r\n            if (!isNil(name)) {\r\n                rcvr.inheritAttribute(name);\r\n            }\r\n            return; // error: cannot delete attribute...\r\n        }\r\n    }\r\n    if (name instanceof Array) {\r\n        return rcvr.inheritAttribute(this.inputOption(name));\r\n    }\r\n    if (contains(rcvr.inheritedVariableNames(true), name)) {\r\n        rcvr.deleteVariable(name);\r\n    }\r\n};\r\n\r\n// experimental message passing primitives\r\n\r\nProcess.prototype.doTellTo = function (sprite, context, args) {\r\n    this.doRun(\r\n        this.reportAttributeOf(context, sprite),\r\n        args\r\n    );\r\n};\r\n\r\nProcess.prototype.reportAskFor = function (sprite, context, args) {\r\n    this.evaluate(\r\n        this.reportAttributeOf(context, sprite),\r\n        args\r\n    );\r\n};\r\n\r\n// Process lists primitives\r\n\r\nProcess.prototype.reportNewList = function (elements) {\r\n    return elements;\r\n};\r\n\r\nProcess.prototype.reportCONS = function (car, cdr) {\r\n    this.assertType(cdr, 'list');\r\n    return new List().cons(car, cdr);\r\n};\r\n\r\nProcess.prototype.reportCDR = function (list) {\r\n    this.assertType(list, 'list');\r\n    return list.cdr();\r\n};\r\n\r\nProcess.prototype.doAddToList = function (element, list) {\r\n    this.assertType(list, 'list');\r\n    if (list.type) {\r\n        this.assertType(element, list.type);\r\n    }\r\n    list.add(element);\r\n};\r\n\r\nProcess.prototype.doDeleteFromList = function (index, list) {\r\n    var idx = index;\r\n    this.assertType(list, 'list');\r\n    if (this.inputOption(index) === 'all') {\r\n        return list.clear();\r\n    }\r\n    if (index === '') {\r\n        return null;\r\n    }\r\n    if (this.inputOption(index) === 'last') {\r\n        idx = list.length();\r\n    } else if (isNaN(+this.inputOption(index))) {\r\n        return null;\r\n    }\r\n    list.remove(idx);\r\n};\r\n\r\nProcess.prototype.doInsertInList = function (element, index, list) {\r\n    var idx = index;\r\n    this.assertType(list, 'list');\r\n    if (list.type) {\r\n        this.assertType(element, list.type);\r\n    }\r\n    if (index === '') {\r\n        return null;\r\n    }\r\n    if (this.inputOption(index) === 'any') {\r\n        idx = this.reportRandom(1, list.length() + 1);\r\n    }\r\n    if (this.inputOption(index) === 'last') {\r\n        idx = list.length() + 1;\r\n    }\r\n    list.add(element, idx);\r\n};\r\n\r\nProcess.prototype.doReplaceInList = function (index, list, element) {\r\n    var idx = index;\r\n    this.assertType(list, 'list');\r\n    if (list.type) {\r\n        this.assertType(element, list.type);\r\n    }\r\n    if (index === '') {\r\n        return null;\r\n    }\r\n    if (this.inputOption(index) === 'any') {\r\n        idx = this.reportRandom(1, list.length());\r\n    }\r\n    if (this.inputOption(index) === 'last') {\r\n        idx = list.length();\r\n    }\r\n    list.put(element, idx);\r\n};\r\n\r\nProcess.prototype.reportListItem = function (index, list) {\r\n    var idx = index;\r\n    this.assertType(list, 'list');\r\n    if (index === '') {\r\n        return '';\r\n    }\r\n    if (this.inputOption(index) === 'any') {\r\n        idx = this.reportRandom(1, list.length());\r\n    }\r\n    if (this.inputOption(index) === 'last') {\r\n        idx = list.length();\r\n    }\r\n    return list.at(idx);\r\n};\r\n\r\nProcess.prototype.reportListLength = function (list) {\r\n    this.assertType(list, 'list');\r\n    return list.length();\r\n};\r\n\r\nProcess.prototype.reportListContainsItem = function (list, element) {\r\n    this.assertType(list, 'list');\r\n    return list.contains(element);\r\n};\r\n\r\nProcess.prototype.doShowTable = function (list) {\r\n    // experimental\r\n    this.assertType(list, 'list');\r\n    new TableDialogMorph(list).popUp(this.blockReceiver().world());\r\n};\r\n\r\n// Process conditionals primitives\r\n\r\nProcess.prototype.doIf = function () {\r\n    var args = this.context.inputs,\r\n        outer = this.context.outerContext, // for tail call elimination\r\n        isCustomBlock = this.context.isCustomBlock;\r\n\r\n    this.popContext();\r\n    if (args[0]) {\r\n        if (args[1]) {\r\n            this.pushContext(args[1].blockSequence(), outer);\r\n            this.context.isCustomBlock = isCustomBlock;\r\n        }\r\n    }\r\n    this.pushContext();\r\n};\r\n\r\nProcess.prototype.doIfElse = function () {\r\n    var args = this.context.inputs,\r\n        outer = this.context.outerContext, // for tail call elimination\r\n        isCustomBlock = this.context.isCustomBlock;\r\n\r\n    this.popContext();\r\n    if (args[0]) {\r\n        if (args[1]) {\r\n            this.pushContext(args[1].blockSequence(), outer);\r\n        }\r\n    } else {\r\n        if (args[2]) {\r\n            this.pushContext(args[2].blockSequence(), outer);\r\n        } else {\r\n            this.pushContext('doYield');\r\n        }\r\n    }\r\n    if (this.context) {\r\n        this.context.isCustomBlock = isCustomBlock;\r\n    }\r\n\r\n    this.pushContext();\r\n};\r\n\r\n// Process process related primitives\r\n\r\nProcess.prototype.doStop = function () {\r\n    this.stop();\r\n};\r\n\r\nProcess.prototype.doStopAll = function () {\r\n    var stage, ide;\r\n   \r\n    if (this.homeContext.receiver) {\r\n        stage = this.homeContext.receiver.parentThatIsA(StageMorph);\r\n        if (stage) {\r\n            stage.threads.resumeAll(stage);\r\n            stage.keysPressed = {};\r\n            stage.threads.stopAll();\r\n            stage.stopAllActiveSounds();\r\n            stage.children.forEach(function (morph) {\r\n                if (morph.stopTalking) {\r\n                    morph.stopTalking();\r\n                }\r\n            });\r\n            stage.removeAllClones();\r\n        }\r\n        ide = stage.parentThatIsA(IDE_Morph);\r\n        if (ide) {ide.controlBar.pauseButton.refresh(); }\r\n    }\r\n};\r\n\r\nProcess.prototype.doStopThis = function (choice) {\r\n    switch (this.inputOption(choice)) {\r\n    case 'all':\r\n        this.doStopAll();\r\n        break;\r\n    case 'this script':\r\n        this.doStop();\r\n        break;\r\n    case 'this block':\r\n        this.doStopBlock();\r\n        break;\r\n    default:\r\n        this.doStopOthers(choice);\r\n    }\r\n};\r\n\r\nProcess.prototype.doStopOthers = function (choice) {\r\n    var stage;\r\n    if (this.homeContext.receiver) {\r\n        stage = this.homeContext.receiver.parentThatIsA(StageMorph);\r\n        if (stage) {\r\n            switch (this.inputOption(choice)) {\r\n            case 'all but this script':\r\n                stage.threads.stopAll(this);\r\n                break;\r\n            case 'other scripts in sprite':\r\n                stage.threads.stopAllForReceiver(\r\n                    this.homeContext.receiver,\r\n                    this\r\n                );\r\n                break;\r\n            default:\r\n                nop();\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nProcess.prototype.doWarp = function (body) {\r\n    // execute my contents block atomically (more or less)\r\n    var outer = this.context.outerContext, // for tail call elimination\r\n        isCustomBlock = this.context.isCustomBlock,\r\n        stage;\r\n\r\n    this.popContext();\r\n\r\n    if (body) {\r\n        if (this.homeContext.receiver) {\r\n            if (this.homeContext.receiver.startWarp) {\r\n                // pen optimization\r\n                this.homeContext.receiver.startWarp();\r\n            }\r\n            stage = this.homeContext.receiver.parentThatIsA(StageMorph);\r\n            if (stage) {\r\n                stage.fps = 0; // variable frame rate\r\n            }\r\n        }\r\n        this.pushContext('doYield');\r\n        this.context.isCustomBlock = isCustomBlock;\r\n        if (!this.isAtomic) {\r\n            this.pushContext('doStopWarping');\r\n        }\r\n        this.pushContext(body.blockSequence(), outer);\r\n        this.isAtomic = true;\r\n    }\r\n    this.pushContext();\r\n};\r\n\r\nProcess.prototype.doStopWarping = function () {\r\n    var stage;\r\n    this.popContext();\r\n    this.isAtomic = false;\r\n    if (this.homeContext.receiver) {\r\n        if (this.homeContext.receiver.endWarp) {\r\n            // pen optimization\r\n            this.homeContext.receiver.endWarp();\r\n        }\r\n        stage = this.homeContext.receiver.parentThatIsA(StageMorph);\r\n        if (stage) {\r\n            stage.fps = stage.frameRate; //  back to fixed frame rate\r\n        }\r\n    }\r\n};\r\n\r\nProcess.prototype.reportIsFastTracking = function () {\r\n    var ide;\r\n    if (this.homeContext.receiver) {\r\n        ide = this.homeContext.receiver.parentThatIsA(IDE_Morph);\r\n        if (ide) {\r\n            return ide.stage.isFastTracked;\r\n        }\r\n    }\r\n    return false;\r\n};\r\n\r\nProcess.prototype.doSetFastTracking = function (bool) {\r\n    var ide;\r\n    if (!this.reportIsA(bool, 'Boolean')) {\r\n        return;\r\n    }\r\n    if (this.homeContext.receiver) {\r\n        ide = this.homeContext.receiver.parentThatIsA(IDE_Morph);\r\n        if (ide) {\r\n            if (bool) {\r\n                ide.startFastTracking();\r\n            } else {\r\n                ide.stopFastTracking();\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nProcess.prototype.doPauseAll = function () {\r\n    var stage, ide;\r\n    if (this.homeContext.receiver) {\r\n        stage = this.homeContext.receiver.parentThatIsA(StageMorph);\r\n        if (stage) {\r\n            stage.threads.pauseAll(stage);\r\n        }\r\n        ide = stage.parentThatIsA(IDE_Morph);\r\n        if (ide) {ide.controlBar.pauseButton.refresh(); }\r\n    }\r\n};\r\n\r\n// Process loop primitives\r\n\r\nProcess.prototype.doForever = function (body) {\r\n    this.context.inputs = []; // force re-evaluation of C-slot\r\n    this.pushContext('doYield');\r\n    if (body) {\r\n        this.pushContext(body.blockSequence());\r\n    }\r\n    this.pushContext();\r\n};\r\n\r\nProcess.prototype.doRepeat = function (counter, body) {\r\n    var block = this.context.expression,\r\n        outer = this.context.outerContext, // for tail call elimination\r\n        isCustomBlock = this.context.isCustomBlock;\r\n\r\n    if (counter < 1) { // was '=== 0', which caused infinite loops on non-ints\r\n        return null;\r\n    }\r\n    this.popContext();\r\n    this.pushContext(block, outer);\r\n    this.context.isCustomBlock = isCustomBlock;\r\n    this.context.addInput(counter - 1);\r\n    this.pushContext('doYield');\r\n    if (body) {\r\n        this.pushContext(body.blockSequence());\r\n    }\r\n    this.pushContext();\r\n};\r\n\r\nProcess.prototype.doUntil = function (goalCondition, body) {\r\n    if (goalCondition) {\r\n        this.popContext();\r\n        this.pushContext('doYield');\r\n        return null;\r\n    }\r\n    this.context.inputs = [];\r\n    this.pushContext('doYield');\r\n    if (body) {\r\n        this.pushContext(body.blockSequence());\r\n    }\r\n    this.pushContext();\r\n};\r\n\r\nProcess.prototype.doWaitUntil = function (goalCondition) {\r\n    if (goalCondition) {\r\n        this.popContext();\r\n        this.pushContext('doYield');\r\n        return null;\r\n    }\r\n    this.context.inputs = [];\r\n    this.pushContext('doYield');\r\n    this.pushContext();\r\n};\r\n\r\nProcess.prototype.reportMap = function (reporter, list) {\r\n    // answer a new list containing the results of the reporter applied\r\n    // to each value of the given list. Distinguish between linked and\r\n    // arrayed lists.\r\n    // Note: This method utilizes the current context's inputs array to\r\n    // manage temporary variables, whose allocation to which slot are\r\n    // documented in each of the variants' code (linked or arrayed) below\r\n\r\n    var next;\r\n    if (list.isLinked) {\r\n        // this.context.inputs:\r\n        // [0] - reporter\r\n        // [1] - list (original source)\r\n        // -----------------------------\r\n        // [2] - result list (target)\r\n        // [3] - currently last element of result list\r\n        // [4] - current source list (what's left to map)\r\n        // [5] - current value of last function call\r\n\r\n        if (this.context.inputs.length < 3) {\r\n            this.context.addInput(new List());\r\n            this.context.inputs[2].isLinked = true;\r\n            this.context.addInput(this.context.inputs[2]);\r\n            this.context.addInput(list);\r\n        }\r\n        if (this.context.inputs[4].length() === 0) {\r\n            this.context.inputs[3].rest = list.cons(this.context.inputs[5]);\r\n            this.returnValueToParentContext(this.context.inputs[2].cdr());\r\n            return;\r\n        }\r\n        if (this.context.inputs.length > 5) {\r\n            this.context.inputs[3].rest = list.cons(this.context.inputs[5]);\r\n            this.context.inputs[3] = this.context.inputs[3].rest;\r\n            this.context.inputs.splice(5);\r\n        }\r\n        next = this.context.inputs[4].at(1);\r\n        this.context.inputs[4] = this.context.inputs[4].cdr();\r\n        this.pushContext();\r\n        this.evaluate(reporter, new List([next]));\r\n    } else { // arrayed\r\n        // this.context.inputs:\r\n        // [0] - reporter\r\n        // [1] - list (original source)\r\n        // -----------------------------\r\n        // [2..n] - result values (target)\r\n\r\n        if (this.context.inputs.length - 2 === list.length()) {\r\n            this.returnValueToParentContext(\r\n                new List(this.context.inputs.slice(2))\r\n            );\r\n            return;\r\n        }\r\n        next = list.at(this.context.inputs.length - 1);\r\n        this.pushContext();\r\n        this.evaluate(reporter, new List([next]));\r\n    }\r\n};\r\n\r\nProcess.prototype.doForEach = function (upvar, list, script) {\r\n    // perform a script for each element of a list, assigning the\r\n    // current iteration's element to a variable with the name\r\n    // specified in the \"upvar\" parameter, so it can be referenced\r\n    // within the script. Uses the context's - unused - fourth\r\n    // element as temporary storage for the current list index\r\n\r\n    if (isNil(this.context.inputs[3])) {this.context.inputs[3] = 1; }\r\n    var index = this.context.inputs[3];\r\n    this.context.outerContext.variables.addVar(upvar);\r\n    this.context.outerContext.variables.setVar(\r\n        upvar,\r\n        list.at(index)\r\n    );\r\n    if (index > list.length()) {return; }\r\n    this.context.inputs[3] += 1;\r\n    this.pushContext('doYield');\r\n    this.pushContext();\r\n    this.evaluate(script, new List(), true);\r\n};\r\n\r\n// Process interpolated primitives\r\n\r\nProcess.prototype.doWait = function (secs) {\r\n    if (!this.context.startTime) {\r\n        this.context.startTime = Date.now();\r\n    }\r\n    if ((Date.now() - this.context.startTime) >= (secs * 1000)) {\r\n        if (!this.isAtomic && (secs === 0)) {\r\n            // \"wait 0 secs\" is a plain \"yield\"\r\n            // that can be overridden by \"warp\"\r\n            this.readyToYield = true;\r\n        }\r\n        return null;\r\n    }\r\n    this.pushContext('doYield');\r\n    this.pushContext();\r\n};\r\n\r\nProcess.prototype.doGlide = function (secs, endX, endY) {\r\n    if (!this.context.startTime) {\r\n        this.context.startTime = Date.now();\r\n        this.context.startValue = new Point(\r\n            this.blockReceiver().xPosition(),\r\n            this.blockReceiver().yPosition()\r\n        );\r\n    }\r\n    if ((Date.now() - this.context.startTime) >= (secs * 1000)) {\r\n        this.blockReceiver().gotoXY(endX, endY);\r\n        return null;\r\n    }\r\n    this.blockReceiver().glide(\r\n        secs * 1000,\r\n        endX,\r\n        endY,\r\n        Date.now() - this.context.startTime,\r\n        this.context.startValue\r\n    );\r\n\r\n    this.pushContext('doYield');\r\n    this.pushContext();\r\n};\r\n\r\nProcess.prototype.doSayFor = function (data, secs) {\r\n    if (!this.context.startTime) {\r\n        this.context.startTime = Date.now();\r\n        this.blockReceiver().bubble(data);\r\n    }\r\n    if ((Date.now() - this.context.startTime) >= (secs * 1000)) {\r\n        this.blockReceiver().stopTalking();\r\n        return null;\r\n    }\r\n    this.pushContext('doYield');\r\n    this.pushContext();\r\n};\r\n\r\nProcess.prototype.doThinkFor = function (data, secs) {\r\n    if (!this.context.startTime) {\r\n        this.context.startTime = Date.now();\r\n        this.blockReceiver().doThink(data);\r\n    }\r\n    if ((Date.now() - this.context.startTime) >= (secs * 1000)) {\r\n        this.blockReceiver().stopTalking();\r\n        return null;\r\n    }\r\n    this.pushContext('doYield');\r\n    this.pushContext();\r\n};\r\n\r\nProcess.prototype.blockReceiver = function () {\r\n    return this.context ? this.context.receiver || this.homeContext.receiver\r\n            : this.homeContext.receiver || this.receiver;\r\n};\r\n\r\n// Process sound primitives (interpolated)\r\n\r\nProcess.prototype.doPlaySoundUntilDone = function (name) {\r\n    var sprite = this.blockReceiver();\r\n    if (this.context.activeAudio === null) {\r\n        this.context.activeAudio = sprite.playSound(name);\r\n    }\r\n    if (this.context.activeAudio.ended\r\n            || this.context.activeAudio.terminated) {\r\n        return null;\r\n    }\r\n    this.pushContext('doYield');\r\n    this.pushContext();\r\n};\r\n\r\nProcess.prototype.doStopAllSounds = function () {\r\n    var stage = this.homeContext.receiver.parentThatIsA(StageMorph);\r\n    if (stage) {\r\n        stage.threads.processes.forEach(function (thread) {\r\n            if (thread.context) {\r\n                thread.context.stopMusic();\r\n                if (thread.context.activeAudio) {\r\n                    thread.popContext();\r\n                }\r\n            }\r\n        });\r\n        stage.stopAllActiveSounds();\r\n    }\r\n};\r\n\r\n// Process user prompting primitives (interpolated)\r\n\r\nProcess.prototype.doAsk = function (data) {\r\n    var stage = this.homeContext.receiver.parentThatIsA(StageMorph),\r\n        rcvr = this.blockReceiver(),\r\n        isStage = rcvr instanceof StageMorph,\r\n        isHiddenSprite = rcvr instanceof SpriteMorph && !rcvr.isVisible,\r\n        activePrompter;\r\n\r\n    stage.keysPressed = {};\r\n    if (!this.prompter) {\r\n        activePrompter = detect(\r\n            stage.children,\r\n            function (morph) {return morph instanceof StagePrompterMorph; }\r\n        );\r\n        if (!activePrompter) {\r\n            if (!isStage && !isHiddenSprite) {\r\n                rcvr.bubble(data, false, true);\r\n            }\r\n            this.prompter = new StagePrompterMorph(\r\n                isStage || isHiddenSprite ? data : null\r\n            );\r\n            if (stage.scale < 1) {\r\n                this.prompter.setWidth(stage.width() - 10);\r\n            } else {\r\n                this.prompter.setWidth(stage.dimensions.x - 20);\r\n            }\r\n            this.prompter.fixLayout();\r\n            this.prompter.setCenter(stage.center());\r\n            this.prompter.setBottom(stage.bottom() - this.prompter.border);\r\n            stage.add(this.prompter);\r\n            this.prompter.inputField.edit();\r\n            stage.changed();\r\n        }\r\n    } else {\r\n        if (this.prompter.isDone) {\r\n            stage.lastAnswer = this.prompter.inputField.getValue();\r\n            this.prompter.destroy();\r\n            this.prompter = null;\r\n            if (!isStage) {rcvr.stopTalking(); }\r\n            return null;\r\n        }\r\n    }\r\n    this.pushContext('doYield');\r\n    this.pushContext();\r\n};\r\n\r\nProcess.prototype.reportLastAnswer = function () {\r\n    return this.homeContext.receiver.parentThatIsA(StageMorph).lastAnswer;\r\n};\r\n\r\n// Process URI retrieval (interpolated)\r\n\r\nProcess.prototype.reportURL = function (url) {\r\n    var response;\r\n    if (!this.httpRequest) {\r\n        // use the location protocol unless the user specifies otherwise\r\n        if (url.indexOf('//') < 0 || url.indexOf('//') > 8) {\r\n            if (location.protocol === 'file:') {\r\n                // allow requests from locally loaded sources\r\n                url = 'https://' + url;\r\n            } else {\r\n                url = location.protocol + '//' + url;\r\n            }\r\n        }\r\n        this.httpRequest = new XMLHttpRequest();\r\n        this.httpRequest.open(\"GET\", url, true);\r\n        this.httpRequest.send(null);\r\n    } else if (this.httpRequest.readyState === 4) {\r\n        response = this.httpRequest.responseText;\r\n        this.httpRequest = null;\r\n        return response;\r\n    }\r\n    this.pushContext('doYield');\r\n    this.pushContext();\r\n};\r\n\r\n// Process event messages primitives\r\n\r\nProcess.prototype.doBroadcast = function (message) {\r\n    // messages are user-defined events, and by default global, same as in\r\n    // Scratch. An experimental feature, messages can be sent to a single\r\n    // sprite or to a list of sprites by using a 2-item list in the message\r\n    // slot, where the first slot is a message text, and the second slot\r\n    // its recipient(s), identified either by a single name or sprite, or by\r\n    // a list of names or sprites (can be a heterogeneous list).\r\n\r\n    var stage = this.homeContext.receiver.parentThatIsA(StageMorph),\r\n        thisObj,\r\n        msg = message,\r\n        trg,\r\n        rcvrs,\r\n        myself = this,\r\n        procs = [];\r\n\r\n    if (message instanceof List && (message.length() === 2)) {\r\n        thisObj = this.blockReceiver();\r\n        msg = message.at(1);\r\n        trg = message.at(2);\r\n        if (isSnapObject(trg)) {\r\n            rcvrs = [trg];\r\n        } else if (isString(trg)) {\r\n            // assume the string to be the name of a sprite or the stage\r\n            if (trg === stage.name) {\r\n                rcvrs = [stage];\r\n            } else {\r\n                rcvrs = [this.getOtherObject(trg, thisObj, stage)];\r\n            }\r\n        } else if (trg instanceof List) {\r\n            // assume all elements to be sprites or sprite names\r\n            rcvrs = trg.itemsArray().map(function (each) {\r\n                return myself.getOtherObject(each, thisObj, stage);\r\n            });\r\n        } else {\r\n            return; // abort\r\n        }\r\n    } else { // global\r\n        rcvrs = stage.children.concat(stage);\r\n    }\r\n    if (msg !== '') {\r\n        stage.lastMessage = message; // the actual data structure\r\n        rcvrs.forEach(function (morph) {\r\n            if (isSnapObject(morph)) {\r\n                morph.allHatBlocksFor(msg).forEach(function (block) {\r\n                    procs.push(stage.threads.startProcess(\r\n                        block,\r\n                        morph,\r\n                        stage.isThreadSafe\r\n                    ));\r\n                });\r\n            }\r\n        });\r\n    }\r\n    return procs;\r\n};\r\n\r\nProcess.prototype.doBroadcastAndWait = function (message) {\r\n    if (!this.context.activeSends) {\r\n        this.context.activeSends = this.doBroadcast(message);\r\n    }\r\n    this.context.activeSends = this.context.activeSends.filter(\r\n        function (proc) {\r\n            return proc.isRunning();\r\n        }\r\n    );\r\n    if (this.context.activeSends.length === 0) {\r\n        return null;\r\n    }\r\n    this.pushContext('doYield');\r\n    this.pushContext();\r\n};\r\n\r\nProcess.prototype.getLastMessage = function () {\r\n    var stage;\r\n    if (this.homeContext.receiver) {\r\n        stage = this.homeContext.receiver.parentThatIsA(StageMorph);\r\n        if (stage) {\r\n            return stage.getLastMessage();\r\n        }\r\n    }\r\n    return '';\r\n};\r\n\r\n// Process type inference\r\n\r\nProcess.prototype.reportIsA = function (thing, typeString) {\r\n    return this.reportTypeOf(thing) === this.inputOption(typeString);\r\n};\r\n\r\nProcess.prototype.assertType = function (thing, typeString) {\r\n    // make sure \"thing\" is a particular type or any of a number of types\r\n    // and raise an error if not\r\n    // use responsibly wrt performance implications\r\n    var thingType = this.reportTypeOf(thing);\r\n    if (thingType === typeString) {return true; }\r\n    if (typeString instanceof Array && contains(typeString, thingType)) {\r\n        return true;\r\n    }\r\n    throw new Error('expecting ' + typeString + ' but getting ' + thingType);\r\n};\r\n\r\nProcess.prototype.assertAlive = function (thing) {\r\n    if (thing && thing.isCorpse) {\r\n        throw new Error('cannot operate on a deleted sprite');\r\n    }\r\n};\r\n\r\nProcess.prototype.reportTypeOf = function (thing) {\r\n    // answer a string denoting the argument's type\r\n    var exp;\r\n    if (thing === null || (thing === undefined)) {\r\n        return 'nothing';\r\n    }\r\n    if (thing === true || (thing === false)) {\r\n        return 'Boolean';\r\n    }\r\n    if (!isNaN(+thing)) {\r\n        return 'number';\r\n    }\r\n    if (isString(thing)) {\r\n        return 'text';\r\n    }\r\n    if (thing instanceof List) {\r\n        return 'list';\r\n    }\r\n    if (thing instanceof SpriteMorph) {\r\n        return 'sprite';\r\n    }\r\n    if (thing instanceof StageMorph) {\r\n        return 'stage';\r\n    }\r\n    if (thing instanceof Costume) {\r\n        return 'costume';\r\n    }\r\n    if (thing instanceof Sound) {\r\n        return 'sound';\r\n    }\r\n    if (thing instanceof Context) {\r\n        if (thing.expression instanceof RingMorph) {\r\n            return thing.expression.dataType();\r\n        }\r\n        if (thing.expression instanceof ReporterBlockMorph) {\r\n            if (thing.expression.isPredicate) {\r\n                return 'predicate';\r\n            }\r\n            return 'reporter';\r\n        }\r\n\r\n        if (thing.expression instanceof Array) {\r\n            exp = thing.expression[thing.pc || 0];\r\n            if (exp.isPredicate) {\r\n                return 'predicate';\r\n            }\r\n            if (exp instanceof RingMorph) {\r\n                return exp.dataType();\r\n            }\r\n            if (exp instanceof ReporterBlockMorph) {\r\n                return 'reporter';\r\n            }\r\n            if (exp instanceof CommandBlockMorph) {\r\n                return 'command';\r\n            }\r\n            return 'reporter'; // 'ring';\r\n        }\r\n\r\n        if (thing.expression instanceof CommandBlockMorph) {\r\n            return 'command';\r\n        }\r\n        return 'reporter'; // 'ring';\r\n    }\r\n    return 'undefined';\r\n};\r\n\r\n// Process math primtives\r\n\r\nProcess.prototype.reportSum = function (a, b) {\r\n    return +a + (+b);\r\n};\r\n\r\nProcess.prototype.reportDifference = function (a, b) {\r\n    return +a - +b;\r\n};\r\n\r\nProcess.prototype.reportProduct = function (a, b) {\r\n    return +a * +b;\r\n};\r\n\r\nProcess.prototype.reportQuotient = function (a, b) {\r\n    return +a / +b;\r\n};\r\n\r\nProcess.prototype.reportModulus = function (a, b) {\r\n    var x = +a,\r\n        y = +b;\r\n    return ((x % y) + y) % y;\r\n};\r\n\r\nProcess.prototype.reportRandom = function (min, max) {\r\n    var floor = +min,\r\n        ceil = +max;\r\n    if ((floor % 1 !== 0) || (ceil % 1 !== 0)) {\r\n        return Math.random() * (ceil - floor) + floor;\r\n    }\r\n    return Math.floor(Math.random() * (ceil - floor + 1)) + floor;\r\n};\r\n\r\nProcess.prototype.reportLessThan = function (a, b) {\r\n    var x = +a,\r\n        y = +b;\r\n    if (isNaN(x) || isNaN(y)) {\r\n        x = a;\r\n        y = b;\r\n    }\r\n    return x < y;\r\n};\r\n\r\nProcess.prototype.reportNot = function (bool) {\r\n    return !bool;\r\n};\r\n\r\nProcess.prototype.reportGreaterThan = function (a, b) {\r\n    var x = +a,\r\n        y = +b;\r\n    if (isNaN(x) || isNaN(y)) {\r\n        x = a;\r\n        y = b;\r\n    }\r\n    return x > y;\r\n};\r\n\r\nProcess.prototype.reportEquals = function (a, b) {\r\n    return snapEquals(a, b);\r\n};\r\n\r\nProcess.prototype.reportIsIdentical = function (a, b) {\r\n    var tag = 'idTag';\r\n    if (this.isImmutable(a) || this.isImmutable(b)) {\r\n        return snapEquals(a, b);\r\n    }\r\n\r\n    function clear() {\r\n        if (Object.prototype.hasOwnProperty.call(a, tag)) {\r\n            delete a[tag];\r\n        }\r\n        if (Object.prototype.hasOwnProperty.call(b, tag)) {\r\n            delete b[tag];\r\n        }\r\n    }\r\n\r\n    clear();\r\n    a[tag] = Date.now();\r\n    if (b[tag] === a[tag]) {\r\n        clear();\r\n        return true;\r\n    }\r\n    clear();\r\n    return false;\r\n};\r\n\r\nProcess.prototype.isImmutable = function (obj) {\r\n    // private\r\n    var type = this.reportTypeOf(obj);\r\n    return type === 'nothing' ||\r\n        type === 'Boolean' ||\r\n        type === 'text' ||\r\n        type === 'number' ||\r\n        type === 'undefined';\r\n};\r\n\r\nProcess.prototype.reportBoolean = function (bool) {\r\n    return bool;\r\n};\r\n\r\nProcess.prototype.reportRound = function (n) {\r\n    return Math.round(+n);\r\n};\r\n\r\nProcess.prototype.reportMonadic = function (fname, n) {\r\n    var x = +n,\r\n        result = 0;\r\n\r\n    switch (this.inputOption(fname)) {\r\n    case 'abs':\r\n        result = Math.abs(x);\r\n        break;\r\n    case 'ceiling':\r\n        result = Math.ceil(x);\r\n        break;\r\n    case 'floor':\r\n        result = Math.floor(x);\r\n        break;\r\n    case 'sqrt':\r\n        result = Math.sqrt(x);\r\n        break;\r\n    case 'sin':\r\n        result = Math.sin(radians(x));\r\n        break;\r\n    case 'cos':\r\n        result = Math.cos(radians(x));\r\n        break;\r\n    case 'tan':\r\n        result = Math.tan(radians(x));\r\n        break;\r\n    case 'asin':\r\n        result = degrees(Math.asin(x));\r\n        break;\r\n    case 'acos':\r\n        result = degrees(Math.acos(x));\r\n        break;\r\n    case 'atan':\r\n        result = degrees(Math.atan(x));\r\n        break;\r\n    case 'ln':\r\n        result = Math.log(x);\r\n        break;\r\n    case 'log': // base 10\r\n        result =  Math.log(x) / Math.LN10;\r\n        break;\r\n    case 'e^':\r\n        result = Math.exp(x);\r\n        break;\r\n    case '10^':\r\n        result = Math.pow(10, x);\r\n        break;\r\n    default:\r\n        nop();\r\n    }\r\n    return result;\r\n};\r\n\r\nProcess.prototype.reportTextFunction = function (fname, string) {\r\n    var x = (isNil(string) ? '' : string).toString(),\r\n        result = '';\r\n\r\n    switch (this.inputOption(fname)) {\r\n    case 'encode URI':\r\n        result = encodeURI(x);\r\n        break;\r\n    case 'decode URI':\r\n        result = decodeURI(x);\r\n        break;\r\n    case 'encode URI component':\r\n        result = encodeURIComponent(x);\r\n        break;\r\n    case 'decode URI component':\r\n        result = decodeURIComponent(x);\r\n        break;\r\n    case 'XML escape':\r\n        result = new XML_Element().escape(x);\r\n        break;\r\n    case 'XML unescape':\r\n        result = new XML_Element().unescape(x);\r\n        break;\r\n    case 'hex sha512 hash':\r\n        result = hex_sha512(x);\r\n        break;\r\n    default:\r\n        nop();\r\n    }\r\n    return result;\r\n};\r\n\r\nProcess.prototype.reportJoin = function (a, b) {\r\n    var x = (isNil(a) ? '' : a).toString(),\r\n        y = (isNil(b) ? '' : b).toString();\r\n    return x.concat(y);\r\n};\r\n\r\nProcess.prototype.reportJoinWords = function (aList) {\r\n    if (aList instanceof List) {\r\n        return aList.asText();\r\n    }\r\n    return (aList || '').toString();\r\n};\r\n\r\n// Process string ops\r\n\r\nProcess.prototype.reportLetter = function (idx, string) {\r\n    if (string instanceof List) { // catch a common user error\r\n        return '';\r\n    }\r\n    var i = +(idx || 0),\r\n        str = isNil(string) ? '' : string.toString();\r\n    return str[i - 1] || '';\r\n};\r\n\r\nProcess.prototype.reportStringSize = function (data) {\r\n    if (data instanceof List) { // catch a common user error\r\n        return data.length();\r\n    }\r\n\r\n    return isNil(data) ? 0 : data.toString().length;\r\n};\r\n\r\nProcess.prototype.reportUnicode = function (string) {\r\n    var str = (string || '').toString()[0];\r\n    return str ? str.charCodeAt(0) : 0;\r\n};\r\n\r\nProcess.prototype.reportUnicodeAsLetter = function (num) {\r\n    var code = +(num || 0);\r\n    return String.fromCharCode(code);\r\n};\r\n\r\nProcess.prototype.reportTextSplit = function (string, delimiter) {\r\n    var types = ['text', 'number'],\r\n        strType = this.reportTypeOf(string),\r\n        delType = this.reportTypeOf(this.inputOption(delimiter)),\r\n        str,\r\n        del;\r\n    if (!contains(types, strType)) {\r\n        throw new Error('expecting text instead of a ' + strType);\r\n    }\r\n    if (!contains(types, delType)) {\r\n        throw new Error('expecting a text delimiter instead of a ' + delType);\r\n    }\r\n    str = isNil(string) ? '' : string.toString();\r\n    switch (this.inputOption(delimiter)) {\r\n    case 'line':\r\n        // Unicode compliant line splitting (platform independent)\r\n        // http://www.unicode.org/reports/tr18/#Line_Boundaries\r\n        del = /\\r\\n|[\\n\\v\\f\\r\\x85\\u2028\\u2029]/;\r\n        break;\r\n    case 'tab':\r\n        del = '\\t';\r\n        break;\r\n    case 'cr':\r\n        del = '\\r';\r\n        break;\r\n    case 'whitespace':\r\n        str = str.trim();\r\n        del = /\\s+/;\r\n        break;\r\n    case 'letter':\r\n        del = '';\r\n        break;\r\n    case 'csv':\r\n        return this.parseCSV(string);\r\n    default:\r\n        del = isNil(delimiter) ? '' : delimiter.toString();\r\n    }\r\n    return new List(str.split(del));\r\n};\r\n\r\nProcess.prototype.parseCSV = function (string) {\r\n    // parse a single row of CSV data into a one-dimensional list\r\n    // this assumes that the whole csv data has already been split\r\n    // by lines.\r\n    // taken from:\r\n    // https://stackoverflow.com/questions/8493195/how-can-i-parse-a-csv-string-with-javascript-which-contains-comma-in-data\r\n\r\n    var re_valid = /^\\s*(?:'[^'\\\\]*(?:\\\\[\\S\\s][^'\\\\]*)*'|\"[^\"\\\\]*(?:\\\\[\\S\\s][^\"\\\\]*)*\"|[^,'\"\\s\\\\]*(?:\\s+[^,'\"\\s\\\\]+)*)\\s*(?:,\\s*(?:'[^'\\\\]*(?:\\\\[\\S\\s][^'\\\\]*)*'|\"[^\"\\\\]*(?:\\\\[\\S\\s][^\"\\\\]*)*\"|[^,'\"\\s\\\\]*(?:\\s+[^,'\"\\s\\\\]+)*)\\s*)*$/,\r\n        re_value = /(?!\\s*$)\\s*(?:'([^'\\\\]*(?:\\\\[\\S\\s][^'\\\\]*)*)'|\"([^\"\\\\]*(?:\\\\[\\S\\s][^\"\\\\]*)*)\"|([^,'\"\\s\\\\]*(?:\\s+[^,'\"\\s\\\\]+)*))\\s*(?:,|$)/g,\r\n        a = [];\r\n\r\n    if (!re_valid.test(string)) {\r\n        return new List();\r\n    }\r\n    string.replace(\r\n        re_value,\r\n        function(m0, m1, m2, m3) {\r\n            if (m1 !== undefined) {\r\n                // remove backslash from \\' in single quoted values.\r\n                a.push(m1.replace(/\\\\'/g, \"'\"));\r\n            } else if (m2 !== undefined) {\r\n                // remove backslash from \\\" in double quoted values.\r\n                a.push(m2.replace(/\\\\\"/g, '\"'));\r\n            } else if (m3 !== undefined) {\r\n                a.push(m3);\r\n            }\r\n            return '';\r\n        }\r\n    );\r\n    // special case: empty last value.\r\n    if (/,\\s*$/.test(string)) {\r\n        a.push('');\r\n    }\r\n    return new List(a);\r\n};\r\n\r\n// Process debugging\r\n\r\nProcess.prototype.alert = function (data) {\r\n    // debugging primitives only work in dev mode, otherwise they're nop\r\n    var world;\r\n    if (this.homeContext.receiver) {\r\n        world = this.homeContext.receiver.world();\r\n        if (world.isDevMode) {\r\n            alert('Snap! ' + data.asArray());\r\n        }\r\n    }\r\n};\r\n\r\nProcess.prototype.log = function (data) {\r\n    // debugging primitives only work in dev mode, otherwise they're nop\r\n    var world;\r\n    if (this.homeContext.receiver) {\r\n        world = this.homeContext.receiver.world();\r\n        if (world.isDevMode) {\r\n           // console.log('Snap! ' + data.asArray());\r\n        }\r\n    }\r\n};\r\n\r\n// Process motion primitives\r\n\r\nProcess.prototype.getOtherObject = function (name, thisObj, stageObj) {\r\n    // private, find the sprite indicated by the given name\r\n    // either onstage or in the World's hand\r\n\r\n    // experimental: deal with first-class sprites\r\n    if (isSnapObject(name)) {\r\n        return name;\r\n    }\r\n\r\n    var stage = isNil(stageObj) ?\r\n                thisObj.parentThatIsA(StageMorph) : stageObj,\r\n        thatObj = null;\r\n\r\n    if (stage) {\r\n        // find the corresponding sprite on the stage\r\n        thatObj = detect(\r\n            stage.children,\r\n            function (morph) {return morph.name === name; }\r\n        );\r\n        if (!thatObj) {\r\n            // check if the sprite in question is currently being\r\n            // dragged around\r\n            thatObj = detect(\r\n                stage.world().hand.children,\r\n                function (morph) {\r\n                    return morph instanceof SpriteMorph\r\n                        && morph.name === name;\r\n                }\r\n            );\r\n        }\r\n    }\r\n    return thatObj;\r\n};\r\n\r\nProcess.prototype.getObjectsNamed = function (name, thisObj, stageObj) {\r\n    // private, find all sprites and their clones indicated\r\n    // by the given name either onstage or in the World's hand\r\n\r\n    var stage = isNil(stageObj) ?\r\n                thisObj.parentThatIsA(StageMorph) : stageObj,\r\n        those = [];\r\n\r\n    function check(obj) {\r\n        return obj instanceof SpriteMorph && obj.isTemporary ?\r\n                obj.cloneOriginName === name : obj.name === name;\r\n    }\r\n\r\n    if (stage) {\r\n        // find the corresponding sprite on the stage\r\n        those = stage.children.filter(check);\r\n        if (!those.length) {\r\n            // check if a sprite in question is currently being\r\n            // dragged around\r\n            those = stage.world().hand.children.filter(check);\r\n        }\r\n    }\r\n    return those;\r\n};\r\n\r\nProcess.prototype.doFaceTowards = function (name) {\r\n    var thisObj = this.blockReceiver(),\r\n        thatObj;\r\n\r\n    if (thisObj) {\r\n        if (this.inputOption(name) === 'mouse-pointer') {\r\n            thisObj.faceToXY(this.reportMouseX(), this.reportMouseY());\r\n        } else {\r\n            if (name instanceof List) {\r\n                thisObj.faceToXY(\r\n                    name.at(1),\r\n                    name.at(2)\r\n                );\r\n                return;\r\n            }\r\n            thatObj = this.getOtherObject(name, this.homeContext.receiver);\r\n            if (thatObj) {\r\n                thisObj.faceToXY(\r\n                    thatObj.xPosition(),\r\n                    thatObj.yPosition()\r\n                );\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nProcess.prototype.doGotoObject = function (name) {\r\n    var thisObj = this.blockReceiver(),\r\n        thatObj;\r\n\r\n    if (thisObj) {\r\n        if (this.inputOption(name) === 'mouse-pointer') {\r\n            thisObj.gotoXY(this.reportMouseX(), this.reportMouseY());\r\n        } else {\r\n            if (name instanceof List) {\r\n                thisObj.gotoXY(\r\n                    name.at(1),\r\n                    name.at(2)\r\n                );\r\n                return;\r\n            }\r\n            thatObj = this.getOtherObject(name, this.homeContext.receiver);\r\n            if (thatObj) {\r\n                thisObj.gotoXY(\r\n                    thatObj.xPosition(),\r\n                    thatObj.yPosition()\r\n                );\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\n// Process temporary cloning (Scratch-style)\r\n\r\nProcess.prototype.createClone = function (name) {\r\n    var thisObj = this.blockReceiver(),\r\n        thatObj;\r\n\r\n    if (!name) {return; }\r\n    if (thisObj) {\r\n        if (this.inputOption(name) === 'myself') {\r\n            thisObj.createClone(!this.isFirstStep);\r\n        } else {\r\n            thatObj = this.getOtherObject(name, thisObj);\r\n            if (thatObj) {\r\n                thatObj.createClone(!this.isFirstStep);\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nProcess.prototype.newClone = function (name) {\r\n    var thisObj = this.blockReceiver(),\r\n        thatObj;\r\n\r\n    if (!name) {return; }\r\n    if (thisObj) {\r\n        if (this.inputOption(name) === 'myself') {\r\n            return thisObj.newClone(!this.isFirstStep);\r\n        }\r\n        thatObj = this.getOtherObject(name, thisObj);\r\n        if (thatObj) {\r\n            return thatObj.newClone(!this.isFirstStep);\r\n        }\r\n    }\r\n};\r\n\r\n// Process sensing primitives\r\n\r\nProcess.prototype.reportTouchingObject = function (name) {\r\n    var thisObj = this.blockReceiver();\r\n\r\n    if (thisObj) {\r\n        return this.objectTouchingObject(thisObj, name);\r\n    }\r\n    return false;\r\n};\r\n\r\nProcess.prototype.objectTouchingObject = function (thisObj, name) {\r\n    // helper function for reportTouchingObject()\r\n    // also check for temparary clones, as in Scratch 2.0,\r\n    // and for any parts (subsprites)\r\n    var myself = this,\r\n        those,\r\n        stage,\r\n        box,\r\n        mouse;\r\n\r\n    if (this.inputOption(name) === 'mouse-pointer') {\r\n        mouse = thisObj.world().hand.position();\r\n        if (thisObj.bounds.containsPoint(mouse) &&\r\n                !thisObj.isTransparentAt(mouse)) {\r\n            return true;\r\n        }\r\n    } else {\r\n        stage = thisObj.parentThatIsA(StageMorph);\r\n\r\n        if (stage) {\r\n            if (this.inputOption(name) === 'edge') {\r\n                box = thisObj.bounds;\r\n                if (!thisObj.costume && thisObj.penBounds) {\r\n                    box = thisObj.penBounds.translateBy(thisObj.position());\r\n                }\r\n                if (!stage.bounds.containsRectangle(box)) {\r\n                    return true;\r\n                }\r\n            }\r\n            if (this.inputOption(name) === 'pen trails' &&\r\n                    thisObj.isTouching(stage.penTrailsMorph())) {\r\n                return true;\r\n            }\r\n            if (isSnapObject(name)) {\r\n                return thisObj.isTouching(name);\r\n            }\r\n            if (name instanceof List) { // assume all elements to be sprites\r\n                those = name.itemsArray();\r\n            } else {\r\n                those = this.getObjectsNamed(name, thisObj, stage); // clones\r\n            }\r\n            if (those.some(function (any) {\r\n                    return thisObj.isTouching(any);\r\n                })) {\r\n                return true;\r\n            }\r\n        }\r\n    }\r\n    return thisObj.parts.some(\r\n        function (any) {\r\n            return myself.objectTouchingObject(any, name);\r\n        }\r\n    );\r\n};\r\n\r\nProcess.prototype.reportTouchingColor = function (aColor) {\r\n    // also check for any parts (subsprites)\r\n    var thisObj = this.blockReceiver(),\r\n        stage;\r\n\r\n    if (thisObj) {\r\n        stage = thisObj.parentThatIsA(StageMorph);\r\n        if (stage) {\r\n            if (thisObj.isTouching(stage.colorFiltered(aColor, thisObj))) {\r\n                return true;\r\n            }\r\n            return thisObj.parts.some(\r\n                function (any) {\r\n                    return any.isTouching(stage.colorFiltered(aColor, any));\r\n                }\r\n            );\r\n        }\r\n    }\r\n    return false;\r\n};\r\n\r\nProcess.prototype.reportColorIsTouchingColor = function (color1, color2) {\r\n    // also check for any parts (subsprites)\r\n    var thisObj = this.blockReceiver(),\r\n        stage;\r\n\r\n    if (thisObj) {\r\n        stage = thisObj.parentThatIsA(StageMorph);\r\n        if (stage) {\r\n            if (thisObj.colorFiltered(color1).isTouching(\r\n                    stage.colorFiltered(color2, thisObj)\r\n                )) {\r\n                return true;\r\n            }\r\n            return thisObj.parts.some(\r\n                function (any) {\r\n                    return any.colorFiltered(color1).isTouching(\r\n                        stage.colorFiltered(color2, any)\r\n                    );\r\n                }\r\n            );\r\n        }\r\n    }\r\n    return false;\r\n};\r\n\r\nProcess.prototype.reportDistanceTo = function (name) {\r\n    var thisObj = this.blockReceiver(),\r\n        thatObj,\r\n        stage,\r\n        rc,\r\n        point;\r\n\r\n    if (thisObj) {\r\n        rc = thisObj.rotationCenter();\r\n        point = rc;\r\n        if (this.inputOption(name) === 'mouse-pointer') {\r\n            point = thisObj.world().hand.position();\r\n        } else if (name instanceof List) {\r\n            return new Point(thisObj.xPosition(), thisObj.yPosition())\r\n                .distanceTo(new Point(name.at(1), name.at(2)));\r\n        }\r\n        stage = thisObj.parentThatIsA(StageMorph);\r\n        thatObj = this.getOtherObject(name, thisObj, stage);\r\n        if (thatObj) {\r\n            point = thatObj.rotationCenter();\r\n        }\r\n        return rc.distanceTo(point) / stage.scale;\r\n    }\r\n    return 0;\r\n};\r\n\r\nProcess.prototype.reportAttributeOf = function (attribute, name) {\r\n    var thisObj = this.blockReceiver(),\r\n        thatObj,\r\n        stage;\r\n\r\n    if (thisObj) {\r\n        this.assertAlive(thisObj);\r\n        stage = thisObj.parentThatIsA(StageMorph);\r\n        if (stage.name === name) {\r\n            thatObj = stage;\r\n        } else {\r\n            thatObj = this.getOtherObject(name, thisObj, stage);\r\n        }\r\n        if (thatObj) {\r\n            this.assertAlive(thatObj);\r\n            if (attribute instanceof Context) {\r\n                return this.reportContextFor(attribute, thatObj);\r\n            }\r\n            if (isString(attribute)) {\r\n                return thatObj.variables.getVar(attribute);\r\n            }\r\n            switch (this.inputOption(attribute)) {\r\n            case 'x position':\r\n                return thatObj.xPosition ? thatObj.xPosition() : '';\r\n            case 'y position':\r\n                return thatObj.yPosition ? thatObj.yPosition() : '';\r\n            case 'direction':\r\n                return thatObj.direction ? thatObj.direction() : '';\r\n            case 'costume #':\r\n                return thatObj.getCostumeIdx();\r\n            case 'costume name':\r\n                return thatObj.costume ? thatObj.costume.name\r\n                        : thatObj instanceof SpriteMorph ? localize('Turtle')\r\n                                : localize('Empty');\r\n            case 'size':\r\n                return thatObj.getScale ? thatObj.getScale() : '';\r\n            }\r\n        }\r\n    }\r\n    return '';\r\n};\r\n\r\nProcess.prototype.reportGet = function (query) {\r\n    // experimental, answer a reference to a first-class member\r\n    // or a list of first-class members\r\n    var thisObj = this.blockReceiver(),\r\n        neighborhood,\r\n        stage,\r\n        objName;\r\n\r\n    if (thisObj) {\r\n        switch (this.inputOption(query)) {\r\n        case 'self' :\r\n            return thisObj;\r\n        case 'other sprites':\r\n            stage = thisObj.parentThatIsA(StageMorph);\r\n            return new List(\r\n                stage.children.filter(function (each) {\r\n                    return each instanceof SpriteMorph &&\r\n                        each !== thisObj;\r\n                })\r\n            );\r\n        case 'parts':\r\n            return new List(thisObj.parts || []);\r\n        case 'anchor':\r\n            return thisObj.anchor || '';\r\n        case 'parent':\r\n            return thisObj.exemplar || '';\r\n        case 'children':\r\n            return new List(thisObj.specimens ? thisObj.specimens() : []);\r\n        case 'temporary?':\r\n            return thisObj.isTemporary || false;\r\n        case 'clones':\r\n            stage = thisObj.parentThatIsA(StageMorph);\r\n            objName = thisObj.name || thisObj.cloneOriginName;\r\n            return new List(\r\n                stage.children.filter(function (each) {\r\n                    return each.isTemporary &&\r\n                        (each !== thisObj) &&\r\n                        (each.cloneOriginName === objName);\r\n                })\r\n            );\r\n        case 'other clones':\r\n            return thisObj.isTemporary ?\r\n                    this.reportGet(['clones']) : new List();\r\n        case 'neighbors':\r\n            stage = thisObj.parentThatIsA(StageMorph);\r\n            neighborhood = thisObj.bounds.expandBy(new Point(\r\n                thisObj.width(),\r\n                thisObj.height()\r\n            ));\r\n            return new List(\r\n                stage.children.filter(function (each) {\r\n                    return each instanceof SpriteMorph &&\r\n                        (each !== thisObj) &&\r\n                        each.bounds.intersects(neighborhood);\r\n                })\r\n            );\r\n        case 'dangling?':\r\n            return !thisObj.rotatesWithAnchor;\r\n        case 'rotation x':\r\n            return thisObj.xPosition();\r\n        case 'rotation y':\r\n            return thisObj.yPosition();\r\n        case 'center x':\r\n            return thisObj.xCenter();\r\n        case 'center y':\r\n            return thisObj.yCenter();\r\n        case 'name':\r\n            return thisObj.name;\r\n        case 'stage':\r\n            return thisObj.parentThatIsA(StageMorph);\r\n        case 'costumes':\r\n            return thisObj.reportCostumes();\r\n        case 'sounds':\r\n            return thisObj.sounds;\r\n        }\r\n    }\r\n    return '';\r\n};\r\n\r\nProcess.prototype.doSet = function (attribute, value) {\r\n    // experimental, manipulate sprites' attributes\r\n    var name, rcvr;\r\n    if (!(attribute instanceof Context)) {\r\n        return;\r\n    }\r\n    rcvr = this.blockReceiver();\r\n    this.assertAlive(rcvr);\r\n    if (!(attribute instanceof Context) ||\r\n            attribute.expression.selector !== 'reportGet') {\r\n        throw new Error(localize('unsupported attribute'));\r\n    }\r\n    name = attribute.expression.inputs()[0].evaluate();\r\n    if (name instanceof Array) {\r\n        name = name[0];\r\n    }\r\n    switch (name) {\r\n    case 'anchor':\r\n        this.assertType(rcvr, 'sprite');\r\n        if (value instanceof SpriteMorph) {\r\n            // avoid circularity here, because the GUI already checks for\r\n            // conflicts while the user drags parts over prospective targets\r\n            if (!rcvr.enableNesting || contains(rcvr.allParts(), value)) {\r\n                throw new Error(\r\n                    localize('unable to nest\\n(disabled or circular?)')\r\n                );\r\n            }\r\n            value.attachPart(rcvr);\r\n        } else {\r\n            rcvr.detachFromAnchor();\r\n        }\r\n        break;\r\n    case 'parent':\r\n        this.assertType(rcvr, 'sprite');\r\n        value = value instanceof SpriteMorph ? value : null;\r\n        // needed: circularity avoidance\r\n        rcvr.setExemplar(value);\r\n        break;\r\n    case 'temporary?':\r\n        this.assertType(rcvr, 'sprite');\r\n        this.assertType(value, 'Boolean');\r\n        if (rcvr.world().isDevMode) {\r\n            if (value) {\r\n                rcvr.release();\r\n            } else {\r\n                rcvr.perpetuate();\r\n            }\r\n        }\r\n        break;\r\n    case 'dangling?':\r\n        this.assertType(rcvr, 'sprite');\r\n        this.assertType(value, 'Boolean');\r\n        rcvr.rotatesWithAnchor = !value;\r\n        rcvr.version = Date.now();\r\n        break;\r\n    case 'rotation x':\r\n        this.assertType(rcvr, 'sprite');\r\n        this.assertType(value, 'number');\r\n        rcvr.setRotationX(value);\r\n        break;\r\n    case 'rotation y':\r\n        this.assertType(rcvr, 'sprite');\r\n        this.assertType(value, 'number');\r\n        rcvr.setRotationY(value);\r\n        break;\r\n    default:\r\n        throw new Error(\r\n            '\"' + localize(name) + '\" ' + localize('is read-only')\r\n        );\r\n    }\r\n};\r\n\r\nProcess.prototype.reportContextFor = function (context, otherObj) {\r\n    // Private - return a copy of the context\r\n    // and bind it to another receiver\r\n    var result = copy(context);\r\n    result.receiver = otherObj;\r\n    if (result.outerContext) {\r\n        result.outerContext = copy(result.outerContext);\r\n        result.outerContext.variables = copy(result.outerContext.variables);\r\n        result.outerContext.receiver = otherObj;\r\n        result.outerContext.variables.parentFrame = otherObj.variables;\r\n    }\r\n    return result;\r\n};\r\n\r\nProcess.prototype.reportMouseX = function () {\r\n    var stage, world;\r\n    if (this.homeContext.receiver) {\r\n        stage = this.homeContext.receiver.parentThatIsA(StageMorph);\r\n        if (stage) {\r\n            world = stage.world();\r\n            if (world) {\r\n                return (world.hand.position().x - stage.center().x)\r\n                    / stage.scale;\r\n            }\r\n        }\r\n    }\r\n    return 0;\r\n};\r\n\r\nProcess.prototype.reportMouseY = function () {\r\n    var stage, world;\r\n    if (this.homeContext.receiver) {\r\n        stage = this.homeContext.receiver.parentThatIsA(StageMorph);\r\n        if (stage) {\r\n            world = stage.world();\r\n            if (world) {\r\n                return (stage.center().y - world.hand.position().y)\r\n                    / stage.scale;\r\n            }\r\n        }\r\n    }\r\n    return 0;\r\n};\r\n\r\nProcess.prototype.reportMouseDown = function () {\r\n    var world;\r\n    if (this.homeContext.receiver) {\r\n        world = this.homeContext.receiver.world();\r\n        if (world) {\r\n            return world.hand.mouseButton === 'left';\r\n        }\r\n    }\r\n    return false;\r\n};\r\n\r\nProcess.prototype.reportKeyPressed = function (keyString) {\r\n    var stage;\r\n    if (this.homeContext.receiver) {\r\n        stage = this.homeContext.receiver.parentThatIsA(StageMorph);\r\n        if (stage) {\r\n            if (this.inputOption(keyString) === 'any key') {\r\n                return Object.keys(stage.keysPressed).length > 0;\r\n            }\r\n            return stage.keysPressed[keyString] !== undefined;\r\n        }\r\n    }\r\n    return false;\r\n};\r\n\r\nProcess.prototype.doResetTimer = function () {\r\n    var stage;\r\n    if (this.homeContext.receiver) {\r\n        stage = this.homeContext.receiver.parentThatIsA(StageMorph);\r\n        if (stage) {\r\n            stage.resetTimer();\r\n        }\r\n    }\r\n};\r\n\r\nProcess.prototype.reportTimer = function () {\r\n    var stage;\r\n    if (this.homeContext.receiver) {\r\n        stage = this.homeContext.receiver.parentThatIsA(StageMorph);\r\n        if (stage) {\r\n            return stage.getTimer();\r\n        }\r\n    }\r\n    return 0;\r\n};\r\n\r\n// Process Dates and times in Snap\r\nProcess.prototype.reportDate = function (datefn) {\r\n    var currDate, func, result,\r\n        inputFn = this.inputOption(datefn),\r\n        // Map block options to built-in functions\r\n        dateMap = {\r\n            'year' : 'getFullYear',\r\n            'month' : 'getMonth',\r\n            'date': 'getDate',\r\n            'day of week' : 'getDay',\r\n            'hour' : 'getHours',\r\n            'minute' : 'getMinutes',\r\n            'second' : 'getSeconds',\r\n            'time in milliseconds' : 'getTime'\r\n        };\r\n\r\n    if (!dateMap[inputFn]) { return ''; }\r\n    currDate = new Date();\r\n    func = dateMap[inputFn];\r\n    result = currDate[func]();\r\n\r\n    // Show months as 1-12 and days as 1-7\r\n    if (inputFn === 'month' || inputFn === 'day of week') {\r\n        result += 1;\r\n    }\r\n    return result;\r\n};\r\n\r\n// Process code mapping\r\n\r\n/*\r\n    for generating textual source code using\r\n    blocks - not needed to run or debug Snap\r\n*/\r\n\r\nProcess.prototype.doMapCodeOrHeader = function (aContext, anOption, aString) {\r\n    if (this.inputOption(anOption) === 'code') {\r\n        return this.doMapCode(aContext, aString);\r\n    }\r\n    if (this.inputOption(anOption) === 'header') {\r\n        return this.doMapHeader(aContext, aString);\r\n    }\r\n    throw new Error(\r\n        ' \\'' + anOption + '\\'\\nis not a valid option'\r\n    );\r\n};\r\n\r\nProcess.prototype.doMapHeader = function (aContext, aString) {\r\n    if (aContext instanceof Context) {\r\n        if (aContext.expression instanceof SyntaxElementMorph) {\r\n            return aContext.expression.mapHeader(aString || '');\r\n        }\r\n    }\r\n};\r\n\r\nProcess.prototype.doMapCode = function (aContext, aString) {\r\n    if (aContext instanceof Context) {\r\n        if (aContext.expression instanceof SyntaxElementMorph) {\r\n            return aContext.expression.mapCode(aString || '');\r\n        }\r\n    }\r\n};\r\n\r\nProcess.prototype.doMapValueCode = function (type, aString) {\r\n    var tp = this.inputOption(type);\r\n    switch (tp) {\r\n    case 'String':\r\n        StageMorph.prototype.codeMappings.string = aString || '<#1>';\r\n        break;\r\n    case 'Number':\r\n        StageMorph.prototype.codeMappings.number = aString || '<#1>';\r\n        break;\r\n    case 'true':\r\n        StageMorph.prototype.codeMappings.boolTrue = aString || 'true';\r\n        break;\r\n    case 'false':\r\n        StageMorph.prototype.codeMappings.boolFalse = aString || 'true';\r\n        break;\r\n    default:\r\n        throw new Error(\r\n            localize('unsupported data type') + ' ' + tp\r\n        );\r\n    }\r\n\r\n};\r\n\r\nProcess.prototype.doMapListCode = function (part, kind, aString) {\r\n    var key1 = '',\r\n        key2 = 'delim';\r\n\r\n    if (this.inputOption(kind) === 'parameters') {\r\n        key1 = 'parms_';\r\n    } else if (this.inputOption(kind) === 'variables') {\r\n        key1 = 'tempvars_';\r\n    }\r\n\r\n    if (this.inputOption(part) === 'list') {\r\n        key2 = 'list';\r\n    } else if (this.inputOption(part) === 'item') {\r\n        key2 = 'item';\r\n    }\r\n\r\n    StageMorph.prototype.codeMappings[key1 + key2] = aString || '';\r\n};\r\n\r\nProcess.prototype.reportMappedCode = function (aContext) {\r\n    if (aContext instanceof Context) {\r\n        if (aContext.expression instanceof SyntaxElementMorph) {\r\n            return aContext.expression.mappedCode();\r\n        }\r\n    }\r\n    return '';\r\n};\r\n\r\n// Process music primitives\r\n\r\nProcess.prototype.doRest = function (beats) {\r\n    var tempo = this.reportTempo();\r\n    this.doWait(60 / tempo * beats);\r\n};\r\n\r\nProcess.prototype.reportTempo = function () {\r\n    var stage;\r\n    if (this.homeContext.receiver) {\r\n        stage = this.homeContext.receiver.parentThatIsA(StageMorph);\r\n        if (stage) {\r\n            return stage.getTempo();\r\n        }\r\n    }\r\n    return 0;\r\n};\r\n\r\nProcess.prototype.doChangeTempo = function (delta) {\r\n    var stage;\r\n    if (this.homeContext.receiver) {\r\n        stage = this.homeContext.receiver.parentThatIsA(StageMorph);\r\n        if (stage) {\r\n            stage.changeTempo(delta);\r\n        }\r\n    }\r\n};\r\n\r\nProcess.prototype.doSetTempo = function (bpm) {\r\n    var stage;\r\n    if (this.homeContext.receiver) {\r\n        stage = this.homeContext.receiver.parentThatIsA(StageMorph);\r\n        if (stage) {\r\n            stage.setTempo(bpm);\r\n        }\r\n    }\r\n};\r\n\r\nProcess.prototype.doPlayNote = function (pitch, beats) {\r\n    var tempo = this.reportTempo();\r\n    this.doPlayNoteForSecs(\r\n        parseFloat(pitch || '0'),\r\n        60 / tempo * parseFloat(beats || '0')\r\n    );\r\n};\r\n\r\nProcess.prototype.doPlayNoteForSecs = function (pitch, secs) {\r\n    // interpolated\r\n    if (!this.context.startTime) {\r\n        this.context.startTime = Date.now();\r\n        this.context.activeNote = new Note(pitch);\r\n        this.context.activeNote.play(this.instrument);\r\n    }\r\n    if ((Date.now() - this.context.startTime) >= (secs * 1000)) {\r\n        if (this.context.activeNote) {\r\n            this.context.activeNote.stop();\r\n            this.context.activeNote = null;\r\n        }\r\n        return null;\r\n    }\r\n    this.pushContext('doYield');\r\n    this.pushContext();\r\n};\r\n\r\nProcess.prototype.doSetInstrument = function (num) {\r\n    this.instrument = +num;\r\n    this.receiver.instrument = +num;\r\n};\r\n\r\n// Process constant input options\r\n\r\nProcess.prototype.inputOption = function (dta) {\r\n    // private - for localization\r\n    return dta instanceof Array ? dta[0] : dta;\r\n};\r\n\r\n// Process stack\r\n\r\nProcess.prototype.pushContext = function (expression, outerContext) {\r\n    this.context = new Context(\r\n        this.context,\r\n        expression,\r\n        outerContext || (this.context ? this.context.outerContext : null),\r\n            // for tail call elimination\r\n        this.context ? // check needed due to tail call elimination\r\n                this.context.receiver : this.homeContext.receiver\r\n    );\r\n};\r\n\r\nProcess.prototype.popContext = function () {\r\n    if (this.context) {\r\n        this.context.stopMusic();\r\n    }\r\n    this.context = this.context ? this.context.parentContext : null;\r\n};\r\n\r\nProcess.prototype.returnValueToParentContext = function (value) {\r\n    // if no parent context exists treat value as result\r\n    if (value !== undefined) {\r\n        var target = this.context ? // in case of tail call elimination\r\n                this.context.parentContext || this.homeContext\r\n            : this.homeContext;\r\n        target.addInput(value);\r\n    }\r\n};\r\n\r\nProcess.prototype.reportStackSize = function () {\r\n    return this.context ? this.context.stackSize() : 0;\r\n};\r\n\r\nProcess.prototype.reportFrameCount = function () {\r\n    return this.frameCount;\r\n};\r\n\r\n// Process single-stepping\r\n\r\nProcess.prototype.flashContext = function () {\r\n    var expr = this.context.expression;\r\n    if (this.enableSingleStepping &&\r\n            !this.isAtomic &&\r\n            expr instanceof SyntaxElementMorph &&\r\n            !(expr instanceof CommandSlotMorph) &&\r\n            !this.context.isFlashing &&\r\n            expr.world() &&\r\n            !(expr instanceof ColorSlotMorph)) {\r\n        this.unflash();\r\n        expr.flash();\r\n        this.context.isFlashing = true;\r\n        this.flashingContext = this.context;\r\n        if (this.flashTime > 0 && (this.flashTime <= 0.5)) {\r\n            this.pushContext('doIdle');\r\n            this.context.addInput(this.flashTime);\r\n        } else {\r\n            this.pushContext('doInterrupt');\r\n        }\r\n        return true;\r\n    }\r\n    return false;\r\n};\r\n\r\nProcess.prototype.flashPausedContext = function () {\r\n    var flashable = this.context ? this.context.lastFlashable() : null;\r\n    if (flashable) {\r\n        this.unflash();\r\n        flashable.expression.flash();\r\n        flashable.isFlashing = true;\r\n        this.flashingContext = flashable;\r\n    }\r\n};\r\n\r\nProcess.prototype.doInterrupt = function () {\r\n    this.popContext();\r\n    if (!this.isAtomic) {\r\n        this.isInterrupted = true;\r\n    }\r\n};\r\n\r\nProcess.prototype.doIdle = function (secs) {\r\n    if (!this.context.startTime) {\r\n        this.context.startTime = Date.now();\r\n    }\r\n    if ((Date.now() - this.context.startTime) < (secs * 1000)) {\r\n        this.pushContext('doInterrupt');\r\n        return;\r\n    }\r\n    this.popContext();\r\n};\r\n\r\nProcess.prototype.unflash = function () {\r\n    if (this.flashingContext) {\r\n        this.flashingContext.expression.unflash();\r\n        this.flashingContext.isFlashing = false;\r\n        this.flashingContext = null;\r\n    }\r\n};\r\n\r\n// Context /////////////////////////////////////////////////////////////\r\n\r\n/*\r\n    A Context describes the state of a Process.\r\n\r\n    Each Process has a pointer to a Context containing its\r\n    state. Whenever the Process yields control, its Context\r\n    tells it exactly where it left off.\r\n\r\n    structure:\r\n\r\n    parentContext   the Context to return to when this one has\r\n                    been evaluated.\r\n    outerContext    the Context holding my lexical scope\r\n    expression      SyntaxElementMorph, an array of blocks to evaluate,\r\n                    null or a String denoting a selector, e.g. 'doYield'\r\n    origin          the object of origin, only used for serialization\r\n    receiver        the object to which the expression applies, if any\r\n    variables       the current VariableFrame, if any\r\n    inputs          an array of input values computed so far\r\n                    (if expression is a    BlockMorph)\r\n    pc              the index of the next block to evaluate\r\n                    (if expression is an array)\r\n    isContinuation  flag for marking a transient continuation context\r\n    startTime       time when the context was first evaluated\r\n    startValue      initial value for interpolated operations\r\n    activeAudio     audio buffer for interpolated operations, don't persist\r\n    activeNote      audio oscillator for interpolated ops, don't persist\r\n    isCustomBlock   marker for return ops\r\n    emptySlots      caches the number of empty slots for reification\r\n    tag             string or number to optionally identify the Context,\r\n                    as a \"return\" target (for the \"stop block\" primitive)\r\n    isFlashing      flag for single-stepping\r\n*/\r\n\r\nfunction Context(\r\n    parentContext,\r\n    expression,\r\n    outerContext,\r\n    receiver\r\n) {\r\n    this.outerContext = outerContext || null;\r\n    this.parentContext = parentContext || null;\r\n    this.expression = expression || null;\r\n    this.receiver = receiver || null;\r\n    this.origin = receiver || null; // only for serialization\r\n    this.variables = new VariableFrame();\r\n    if (this.outerContext) {\r\n        this.variables.parentFrame = this.outerContext.variables;\r\n        this.receiver = this.outerContext.receiver;\r\n    }\r\n    this.inputs = [];\r\n    this.pc = 0;\r\n    this.isContinuation = false;\r\n    this.startTime = null;\r\n    this.activeAudio = null;\r\n    this.activeNote = null;\r\n    this.isCustomBlock = false; // marks the end of a custom block's stack\r\n    this.emptySlots = 0; // used for block reification\r\n    this.tag = null;  // lexical catch-tag for custom blocks\r\n    this.isFlashing = false; // for single-stepping\r\n}\r\n\r\nContext.prototype.toString = function () {\r\n    var expr = this.expression;\r\n    if (expr instanceof Array) {\r\n        if (expr.length > 0) {\r\n            expr = '[' + expr[0] + ']';\r\n        }\r\n    }\r\n    return 'Context >> ' + expr + ' ' + this.variables;\r\n};\r\n\r\nContext.prototype.image = function () {\r\n    var ring = new RingMorph(),\r\n        block,\r\n        cont;\r\n\r\n    if (this.expression instanceof Morph) {\r\n        block = this.expression.fullCopy();\r\n\r\n        // replace marked call/cc block with empty slot\r\n        if (this.isContinuation) {\r\n            cont = detect(block.allInputs(), function (inp) {\r\n                return inp.bindingID === 1;\r\n            });\r\n            if (cont) {\r\n                block.revertToDefaultInput(cont, true);\r\n            }\r\n        }\r\n        ring.embed(block, this.inputs);\r\n        return ring.fullImage();\r\n    }\r\n    if (this.expression instanceof Array) {\r\n        block = this.expression[this.pc].fullCopy();\r\n        if (block instanceof RingMorph && !block.contents()) { // empty ring\r\n            return block.fullImage();\r\n        }\r\n        ring.embed(block, this.isContinuation ? [] : this.inputs);\r\n        return ring.fullImage();\r\n    }\r\n\r\n    // otherwise show an empty ring\r\n    ring.color = SpriteMorph.prototype.blockColor.other;\r\n    ring.setSpec('%rc %ringparms');\r\n\r\n    // also show my inputs, unless I'm a continuation\r\n    if (!this.isContinuation) {\r\n        this.inputs.forEach(function (inp) {\r\n            ring.parts()[1].addInput(inp);\r\n        });\r\n    }\r\n    return ring.fullImage();\r\n};\r\n\r\n// Context continuations:\r\n\r\nContext.prototype.continuation = function () {\r\n    var cont;\r\n    if (this.expression instanceof Array) {\r\n        cont = this;\r\n    } else if (this.parentContext) {\r\n        cont = this.parentContext;\r\n    } else {\r\n        cont = new Context(null, 'expectReport');\r\n        cont.isContinuation = true;\r\n        return cont;\r\n    }\r\n    cont = cont.copyForContinuation();\r\n    cont.tag = null;\r\n    cont.isContinuation = true;\r\n    return cont;\r\n};\r\n\r\nContext.prototype.copyForContinuation = function () {\r\n    var cpy = copy(this),\r\n        cur = cpy,\r\n        isReporter = !(this.expression instanceof Array ||\r\n            isString(this.expression));\r\n    if (isReporter) {\r\n        cur.prepareContinuationForBinding();\r\n        while (cur.parentContext) {\r\n            cur.parentContext = copy(cur.parentContext);\r\n            cur = cur.parentContext;\r\n            cur.inputs = [];\r\n        }\r\n    }\r\n    return cpy;\r\n};\r\n\r\nContext.prototype.copyForContinuationCall = function () {\r\n    var cpy = copy(this),\r\n        cur = cpy,\r\n        isReporter = !(this.expression instanceof Array ||\r\n            isString(this.expression));\r\n    if (isReporter) {\r\n        this.expression = this.expression.fullCopy();\r\n        this.inputs = [];\r\n        while (cur.parentContext) {\r\n            cur.parentContext = copy(cur.parentContext);\r\n            cur = cur.parentContext;\r\n            cur.inputs = [];\r\n        }\r\n    }\r\n    return cpy;\r\n};\r\n\r\nContext.prototype.prepareContinuationForBinding = function () {\r\n    var pos = this.inputs.length,\r\n        slot;\r\n    this.expression = this.expression.fullCopy();\r\n    slot = this.expression.inputs()[pos];\r\n    if (slot) {\r\n        this.inputs = [];\r\n        // mark slot containing the call/cc reporter with an identifier\r\n        slot.bindingID = 1;\r\n        // and remember the number of detected empty slots\r\n        this.emptySlots = 1;\r\n    }\r\n};\r\n\r\n// Context accessing:\r\n\r\nContext.prototype.addInput = function (input) {\r\n    this.inputs.push(input);\r\n};\r\n\r\n// Context music\r\n\r\nContext.prototype.stopMusic = function () {\r\n    if (this.activeNote) {\r\n        this.activeNote.stop();\r\n        this.activeNote = null;\r\n    }\r\n};\r\n\r\n// Context single-stepping:\r\n\r\nContext.prototype.lastFlashable = function () {\r\n    // for experimental single-stepping when pausing\r\n    if (this.expression instanceof SyntaxElementMorph &&\r\n            !(this.expression instanceof CommandSlotMorph)) {\r\n        return this;\r\n    } else if (this.parentContext) {\r\n        return this.parentContext.lastFlashable();\r\n    }\r\n    return null;\r\n};\r\n\r\n// Context debugging\r\n\r\nContext.prototype.stackSize = function () {\r\n    if (!this.parentContext) {\r\n        return 1;\r\n    }\r\n    return 1 + this.parentContext.stackSize();\r\n};\r\n\r\n// Variable /////////////////////////////////////////////////////////////////\r\n\r\nfunction Variable(value, isTransient) {\r\n    this.value = value;\r\n    this.isTransient = isTransient || false; // prevent value serialization\r\n}\r\n\r\nVariable.prototype.toString = function () {\r\n    return 'a ' + (this.isTransient ? 'transient ' : '') + 'Variable [' +\r\n        this.value + ']';\r\n};\r\n\r\nVariable.prototype.copy = function () {\r\n    return new Variable(this.value, this.isTransient);\r\n};\r\n\r\n// VariableFrame ///////////////////////////////////////////////////////\r\n\r\nfunction VariableFrame(parentFrame, owner) {\r\n    this.vars = {};\r\n    this.parentFrame = parentFrame || null;\r\n    this.owner = owner || null;\r\n}\r\n\r\nVariableFrame.prototype.toString = function () {\r\n    return 'a VariableFrame {' + this.names() + '}';\r\n};\r\n\r\nVariableFrame.prototype.copy = function () {\r\n    var frame = new VariableFrame(this.parentFrame),\r\n        myself = this;\r\n    this.names().forEach(function (vName) {\r\n        frame.addVar(vName, myself.getVar(vName));\r\n    });\r\n    return frame;\r\n};\r\n\r\nVariableFrame.prototype.deepCopy = function () {\r\n    // currently unused\r\n    var frame;\r\n    if (this.parentFrame) {\r\n        frame = new VariableFrame(this.parentFrame.deepCopy());\r\n    } else {\r\n        frame = new VariableFrame(this.parentFrame);\r\n    }\r\n    frame.vars = copy(this.vars);\r\n    return frame;\r\n};\r\n\r\nVariableFrame.prototype.find = function (name) {\r\n/*\r\n    answer the closest variable frame containing\r\n    the specified variable. otherwise throw an exception.\r\n*/\r\n    var frame = this.silentFind(name);\r\n    if (frame) {return frame; }\r\n    throw new Error(\r\n        localize('a variable of name \\'')\r\n            + name\r\n            + localize('\\'\\ndoes not exist in this context')\r\n    );\r\n};\r\n\r\nVariableFrame.prototype.silentFind = function (name) {\r\n/*\r\n    answer the closest variable frame containing\r\n    the specified variable. Otherwise return null.\r\n*/\r\n    if (this.vars[name] !== undefined) {\r\n        return this;\r\n    }\r\n    if (this.parentFrame) {\r\n        return this.parentFrame.silentFind(name);\r\n    }\r\n    return null;\r\n};\r\n\r\nVariableFrame.prototype.setVar = function (name, value, sender) {\r\n    // change the specified variable if it exists\r\n    // else throw an error, because variables need to be\r\n    // declared explicitly (e.g. through a \"script variables\" block),\r\n    // before they can be accessed.\r\n    // if the found frame is inherited by the sender sprite\r\n    // shadow it (create an explicit one for the sender)\r\n    // before setting the value (\"create-on-write\")\r\n\r\n    var frame = this.find(name);\r\n    if (frame) {\r\n        if (sender instanceof SpriteMorph &&\r\n                (frame.owner instanceof SpriteMorph) &&\r\n                (sender !== frame.owner)) {\r\n            sender.shadowVar(name, value);\r\n        } else {\r\n            frame.vars[name].value = value;\r\n        }\r\n    }\r\n};\r\n\r\nVariableFrame.prototype.changeVar = function (name, delta, sender) {\r\n    // change the specified variable if it exists\r\n    // else throw an error, because variables need to be\r\n    // declared explicitly (e.g. through a \"script variables\" block,\r\n    // before they can be accessed.\r\n    // if the found frame is inherited by the sender sprite\r\n    // shadow it (create an explicit one for the sender)\r\n    // before changing the value (\"create-on-write\")\r\n\r\n    var frame = this.find(name),\r\n        value,\r\n        newValue;\r\n    if (frame) {\r\n        value = parseFloat(frame.vars[name].value);\r\n        newValue = isNaN(value) ? delta : value + parseFloat(delta);\r\n        if (sender instanceof SpriteMorph &&\r\n                (frame.owner instanceof SpriteMorph) &&\r\n                (sender !== frame.owner)) {\r\n            sender.shadowVar(name, newValue);\r\n        } else {\r\n            frame.vars[name].value = newValue;\r\n        }\r\n\r\n    }\r\n};\r\n\r\nVariableFrame.prototype.getVar = function (name) {\r\n    var frame = this.silentFind(name),\r\n        value;\r\n    if (frame) {\r\n        value = frame.vars[name].value;\r\n        return (value === 0 ? 0\r\n                : value === false ? false\r\n                        : value === '' ? ''\r\n                            : value || 0); // don't return null\r\n    }\r\n    if (typeof name === 'number') {\r\n        // empty input with a Binding-ID called without an argument\r\n        return '';\r\n    }\r\n    throw new Error(\r\n        localize('a variable of name \\'')\r\n            + name\r\n            + localize('\\'\\ndoes not exist in this context')\r\n    );\r\n};\r\n\r\nVariableFrame.prototype.addVar = function (name, value) {\r\n    this.vars[name] = new Variable(value === 0 ? 0\r\n              : value === false ? false\r\n                       : value === '' ? '' : value || 0);\r\n};\r\n\r\nVariableFrame.prototype.deleteVar = function (name) {\r\n    var frame = this.find(name);\r\n    if (frame) {\r\n        delete frame.vars[name];\r\n    }\r\n};\r\n\r\n// VariableFrame tools\r\n\r\nVariableFrame.prototype.names = function () {\r\n    var each, names = [];\r\n    for (each in this.vars) {\r\n        if (Object.prototype.hasOwnProperty.call(this.vars, each)) {\r\n            names.push(each);\r\n        }\r\n    }\r\n    return names;\r\n};\r\n\r\nVariableFrame.prototype.allNamesDict = function () {\r\n    var dict = {}, current = this;\r\n\r\n    function addKeysToDict(srcDict, trgtDict) {\r\n        var eachKey;\r\n        for (eachKey in srcDict) {\r\n            if (Object.prototype.hasOwnProperty.call(srcDict, eachKey)) {\r\n                trgtDict[eachKey] = eachKey;\r\n            }\r\n        }\r\n    }\r\n\r\n    while (current) {\r\n        addKeysToDict(current.vars, dict);\r\n        current = current.parentFrame;\r\n    }\r\n    return dict;\r\n};\r\n\r\nVariableFrame.prototype.allNames = function () {\r\n/*\r\n    only show the names of the lexical scope, hybrid scoping is\r\n    reserved to the daring ;-)\r\n*/\r\n    var answer = [], each, dict = this.allNamesDict();\r\n\r\n    for (each in dict) {\r\n        if (Object.prototype.hasOwnProperty.call(dict, each)) {\r\n            answer.push(each);\r\n        }\r\n    }\r\n    return answer;\r\n};\r\n//fin de threads\r\n/*\r\n\r\n    objects.js\r\n\r\n    a scriptable microworld\r\n    based on morphic.js, blocks.js and threads.js\r\n    inspired by Scratch\r\n\r\n    written by Jens Mönig\r\n    jens@moenig.org\r\n\r\n    Copyright (C) 2017 by Jens Mönig\r\n\r\n    This file is part of Snap!.\r\n\r\n    Snap! is free software: you can redistribute it and/or modify\r\n    it under the terms of the GNU Affero General Public License as\r\n    published by the Free Software Foundation, either version 3 of\r\n    the License, or (at your option) any later version.\r\n\r\n    This program is distributed in the hope that it will be useful,\r\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n    GNU Affero General Public License for more details.\r\n\r\n    You should have received a copy of the GNU Affero General Public License\r\n    along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n\r\n\r\n    prerequisites:\r\n    --------------\r\n    needs blocks.js, threads.js, morphic.js and widgets.js\r\n\r\n\r\n    toc\r\n    ---\r\n    the following list shows the order in which all constructors are\r\n    defined. Use this list to locate code in this document:\r\n\r\n        SpriteMorph\r\n        SpriteHighlightMorph\r\n        StageMorph\r\n        Costume\r\n            SVG_Costume\r\n        CostumeEditorMorph\r\n        Sound\r\n        Note\r\n        CellMorph\r\n        WatcherMorph\r\n        StagePrompterMorph\r\n\r\n        SpeechBubbleMorph*\r\n            SpriteBubbleMorph\r\n\r\n    * defined in Morphic.js\r\n\r\n\r\n    credits\r\n    -------\r\n    Ian Reynolds contributed initial porting of primitives from Squeak and\r\n    sound handling\r\n    Achal Dave contributed research and prototyping for creating music\r\n    using the Web Audio API\r\n    Yuan Yuan and Dylan Servilla contributed graphic effects for costumes\r\n\r\n*/\r\n\r\n// Global stuff ////////////////////////////////////////////////////////\r\n\r\n/*global PaintEditorMorph, ListWatcherMorph, PushButtonMorph, ToggleMorph,\r\nDialogBoxMorph, InputFieldMorph, SpriteIconMorph, BlockMorph, SymbolMorph,\r\nThreadManager, VariableFrame, detect, BlockMorph, BoxMorph, Color, Animation,\r\nCommandBlockMorph, FrameMorph, HatBlockMorph, MenuMorph, Morph, MultiArgMorph,\r\nPoint, ReporterBlockMorph, ScriptsMorph, StringMorph, SyntaxElementMorph,\r\nTextMorph, contains, degrees, detect, newCanvas, nop, radians, Array,\r\nCursorMorph, Date, FrameMorph, HandMorph, Math, MenuMorph, Morph,\r\nMorphicPreferences, Object, PenMorph, Point, Rectangle, ScrollFrameMorph,\r\nSliderMorph, String, StringMorph, TextMorph, contains, copy, degrees, detect,\r\ndocument, isNaN, isString, newCanvas, nop, parseFloat, radians, window,\r\nmodules, IDE_Morph, VariableDialogMorph, HTMLCanvasElement, Context, List,\r\nSpeechBubbleMorph, RingMorph, isNil, FileReader, TableDialogMorph,\r\nBlockEditorMorph, BlockDialogMorph, PrototypeHatBlockMorph, localize,\r\nTableMorph, TableFrameMorph, normalizeCanvas, BooleanSlotMorph, HandleMorph,\r\nAlignmentMorph*/\r\n\r\nmodules.objects = '2017-December-12';\r\n\r\nvar SpriteMorph;\r\nvar StageMorph;\r\nvar SpriteBubbleMorph;\r\nvar Costume;\r\nvar SVG_Costume;\r\nvar CostumeEditorMorph;\r\nvar Sound;\r\nvar Note;\r\nvar CellMorph;\r\nvar WatcherMorph;\r\nvar StagePrompterMorph;\r\nvar Note;\r\nvar SpriteHighlightMorph;\r\n\r\nfunction isSnapObject(thing) {\r\n    return thing instanceof SpriteMorph || (thing instanceof StageMorph);\r\n}\r\n\r\n// SpriteMorph /////////////////////////////////////////////////////////\r\n\r\n// I am a scriptable object\r\n\r\n// SpriteMorph inherits from PenMorph:\r\n\r\nSpriteMorph.prototype = new PenMorph();\r\nSpriteMorph.prototype.constructor = SpriteMorph;\r\nSpriteMorph.uber = PenMorph.prototype;\r\n\r\n// SpriteMorph settings\r\n\r\nSpriteMorph.prototype.attributes =\r\n    [\r\n        'x position',\r\n        'y position',\r\n        'direction',\r\n        'size',\r\n        'costumes',\r\n        'costume #',\r\n        'sounds',\r\n        'scripts'\r\n    ];\r\n\r\nSpriteMorph.prototype.categories =\r\n    [\r\n        'motion',\r\n        'control',\r\n        'looks',\r\n        'sensing',\r\n        'sound',\r\n        'operators',\r\n        'pen',\r\n        'variables',\r\n        'lists',\r\n        'other'\r\n    ];\r\n\r\nSpriteMorph.prototype.blockColor = {\r\n    motion : new Color(74, 108, 212),\r\n    looks : new Color(143, 86, 227),\r\n    sound : new Color(207, 74, 217),\r\n    pen : new Color(0, 161, 120),\r\n    control : new Color(230, 168, 34),\r\n    sensing : new Color(4, 148, 220),\r\n    operators : new Color(98, 194, 19),\r\n    variables : new Color(243, 118, 29),\r\n    lists : new Color(217, 77, 17),\r\n    other: new Color(150, 150, 150)\r\n};\r\n\r\nSpriteMorph.prototype.paletteColor = new Color(55, 55, 55);\r\nSpriteMorph.prototype.paletteTextColor = new Color(230, 230, 230);\r\nSpriteMorph.prototype.sliderColor\r\n    = SpriteMorph.prototype.paletteColor.lighter(30);\r\nSpriteMorph.prototype.isCachingPrimitives = true;\r\n\r\nSpriteMorph.prototype.enableNesting = true;\r\nSpriteMorph.prototype.enableFirstClass = true;\r\nSpriteMorph.prototype.useFlatLineEnds = false;\r\nSpriteMorph.prototype.highlightColor = new Color(250, 200, 130);\r\nSpriteMorph.prototype.highlightBorder = 8;\r\n\r\nSpriteMorph.prototype.bubbleColor = new Color(255, 255, 255);\r\nSpriteMorph.prototype.bubbleFontSize = 14;\r\nSpriteMorph.prototype.bubbleFontIsBold = true;\r\nSpriteMorph.prototype.bubbleCorner = 10;\r\nSpriteMorph.prototype.bubbleBorder = 3;\r\nSpriteMorph.prototype.bubbleBorderColor = new Color(190, 190, 190);\r\nSpriteMorph.prototype.bubbleMaxTextWidth = 130;\r\n\r\nSpriteMorph.prototype.initBlocks = function () {\r\n    SpriteMorph.prototype.blocks = {\r\n\r\n        // Motion\r\n        forward: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'motion',\r\n            spec: 'move %n steps',\r\n            defaults: [10]\r\n        },\r\n        turn: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'motion',\r\n            spec: 'turn %clockwise %n degrees',\r\n            defaults: [15]\r\n        },\r\n        turnLeft: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'motion',\r\n            spec: 'turn %counterclockwise %n degrees',\r\n            defaults: [15]\r\n        },\r\n        setHeading: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'motion',\r\n            spec: 'point in direction %dir'\r\n        },\r\n        doFaceTowards: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'motion',\r\n            spec: 'point towards %dst'\r\n        },\r\n        gotoXY: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'motion',\r\n            spec: 'go to x: %n y: %n',\r\n            defaults: [0, 0]\r\n        },\r\n        doGotoObject: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'motion',\r\n            spec: 'go to %dst'\r\n        },\r\n        doGlide: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'motion',\r\n            spec: 'glide %n secs to x: %n y: %n',\r\n            defaults: [1, 0, 0]\r\n        },\r\n        changeXPosition: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'motion',\r\n            spec: 'change x by %n',\r\n            defaults: [10]\r\n        },\r\n        setXPosition: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'motion',\r\n            spec: 'set x to %n',\r\n            defaults: [0]\r\n        },\r\n        changeYPosition: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'motion',\r\n            spec: 'change y by %n',\r\n            defaults: [10]\r\n        },\r\n        setYPosition: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'motion',\r\n            spec: 'set y to %n',\r\n            defaults: [0]\r\n        },\r\n        bounceOffEdge: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'motion',\r\n            spec: 'if on edge, bounce'\r\n        },\r\n        xPosition: {\r\n            only: SpriteMorph,\r\n            type: 'reporter',\r\n            category: 'motion',\r\n            spec: 'x position'\r\n        },\r\n        yPosition: {\r\n            only: SpriteMorph,\r\n            type: 'reporter',\r\n            category: 'motion',\r\n            spec: 'y position'\r\n        },\r\n        direction: {\r\n            only: SpriteMorph,\r\n            type: 'reporter',\r\n            category: 'motion',\r\n            spec: 'direction'\r\n        },\r\n\r\n        // Looks\r\n        doSwitchToCostume: {\r\n            type: 'command',\r\n            category: 'looks',\r\n            spec: 'switch to costume %cst'\r\n        },\r\n        doWearNextCostume: {\r\n            type: 'command',\r\n            category: 'looks',\r\n            spec: 'next costume'\r\n        },\r\n        getCostumeIdx: {\r\n            type: 'reporter',\r\n            category: 'looks',\r\n            spec: 'costume #'\r\n        },\r\n        doSayFor: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'looks',\r\n            spec: 'say %s for %n secs',\r\n            defaults: [localize('Hello!'), 2]\r\n        },\r\n        bubble: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'looks',\r\n            spec: 'say %s',\r\n            defaults: [localize('Hello!')]\r\n        },\r\n        doThinkFor: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'looks',\r\n            spec: 'think %s for %n secs',\r\n            defaults: [localize('Hmm...'), 2]\r\n        },\r\n        doThink: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'looks',\r\n            spec: 'think %s',\r\n            defaults: [localize('Hmm...')]\r\n        },\r\n        changeEffect: {\r\n            type: 'command',\r\n            category: 'looks',\r\n            spec: 'change %eff effect by %n',\r\n            defaults: [null, 25]\r\n        },\r\n        setEffect: {\r\n            type: 'command',\r\n            category: 'looks',\r\n            spec: 'set %eff effect to %n',\r\n            defaults: [null, 0]\r\n        },\r\n        clearEffects: {\r\n            type: 'command',\r\n            category: 'looks',\r\n            spec: 'clear graphic effects'\r\n        },\r\n        changeScale: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'looks',\r\n            spec: 'change size by %n',\r\n            defaults: [10]\r\n        },\r\n        setScale: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'looks',\r\n            spec: 'set size to %n %',\r\n            defaults: [100]\r\n        },\r\n        getScale: {\r\n            only: SpriteMorph,\r\n            type: 'reporter',\r\n            category: 'looks',\r\n            spec: 'size'\r\n        },\r\n        show: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'looks',\r\n            spec: 'show'\r\n        },\r\n        hide: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'looks',\r\n            spec: 'hide'\r\n        },\r\n        comeToFront: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'looks',\r\n            spec: 'go to front'\r\n        },\r\n        goBack: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'looks',\r\n            spec: 'go back %n layers',\r\n            defaults: [1]\r\n        },\r\n        doScreenshot: {\r\n            type: 'command',\r\n            category: 'looks',\r\n            spec: 'save %imgsource as costume named %s',\r\n            defaults: [['pen trails'], localize('screenshot')]\r\n        },\r\n\r\n        // Looks - Debugging primitives for development mode\r\n        reportCostumes: {\r\n            dev: true,\r\n            type: 'reporter',\r\n            category: 'looks',\r\n            spec: 'wardrobe'\r\n        },\r\n\r\n        alert: {\r\n            dev: true,\r\n            type: 'command',\r\n            category: 'looks',\r\n            spec: 'alert %mult%s'\r\n        },\r\n        log: {\r\n            dev: true,\r\n            type: 'command',\r\n            category: 'looks',\r\n            spec: 'console log %mult%s'\r\n        },\r\n\r\n        // Sound\r\n        playSound: {\r\n            type: 'command',\r\n            category: 'sound',\r\n            spec: 'play sound %snd'\r\n        },\r\n        doPlaySoundUntilDone: {\r\n            type: 'command',\r\n            category: 'sound',\r\n            spec: 'play sound %snd until done'\r\n        },\r\n        doStopAllSounds: {\r\n            type: 'command',\r\n            category: 'sound',\r\n            spec: 'stop all sounds'\r\n        },\r\n        doRest: {\r\n            type: 'command',\r\n            category: 'sound',\r\n            spec: 'rest for %n beats',\r\n            defaults: [0.2]\r\n        },\r\n        doPlayNote: {\r\n            type: 'command',\r\n            category: 'sound',\r\n            spec: 'play note %note for %n beats',\r\n            defaults: [60, 0.5]\r\n        },\r\n        doSetInstrument: {\r\n            type: 'command',\r\n            category: 'sound',\r\n            spec: 'set instrument to %inst',\r\n            defaults: [1]\r\n        },\r\n        doChangeTempo: {\r\n            type: 'command',\r\n            category: 'sound',\r\n            spec: 'change tempo by %n',\r\n            defaults: [20]\r\n        },\r\n        doSetTempo: {\r\n            type: 'command',\r\n            category: 'sound',\r\n            spec: 'set tempo to %n bpm',\r\n            defaults: [60]\r\n        },\r\n        getTempo: {\r\n            type: 'reporter',\r\n            category: 'sound',\r\n            spec: 'tempo'\r\n        },\r\n\r\n        // Sound - Debugging primitives for development mode\r\n        reportSounds: {\r\n            dev: true,\r\n            type: 'reporter',\r\n            category: 'sound',\r\n            spec: 'jukebox'\r\n        },\r\n\r\n        // Pen\r\n        clear: {\r\n            type: 'command',\r\n            category: 'pen',\r\n            spec: 'clear'\r\n        },\r\n        down: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'pen',\r\n            spec: 'pen down'\r\n        },\r\n        up: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'pen',\r\n            spec: 'pen up'\r\n        },\r\n        setColor: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'pen',\r\n            spec: 'set pen color to %clr'\r\n        },\r\n        changeHue: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'pen',\r\n            spec: 'change pen color by %n',\r\n            defaults: [10]\r\n        },\r\n        setHue: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'pen',\r\n            spec: 'set pen color to %n',\r\n            defaults: [0]\r\n        },\r\n        changeBrightness: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'pen',\r\n            spec: 'change pen shade by %n',\r\n            defaults: [10]\r\n        },\r\n        setBrightness: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'pen',\r\n            spec: 'set pen shade to %n',\r\n            defaults: [100]\r\n        },\r\n        changeSize: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'pen',\r\n            spec: 'change pen size by %n',\r\n            defaults: [1]\r\n        },\r\n        setSize: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'pen',\r\n            spec: 'set pen size to %n',\r\n            defaults: [1]\r\n        },\r\n        doStamp: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'pen',\r\n            spec: 'stamp'\r\n        },\r\n        floodFill: {\r\n            only: SpriteMorph,\r\n            type: 'command',\r\n            category: 'pen',\r\n            spec: 'fill'\r\n        },\r\n        reportPenTrailsAsCostume: {\r\n            type: 'reporter',\r\n            category: 'pen',\r\n            spec: 'pen trails'\r\n        },\r\n\r\n        // Control\r\n        receiveGo: {\r\n            type: 'hat',\r\n            category: 'control',\r\n            spec: 'when %greenflag clicked'\r\n        },\r\n        receiveKey: {\r\n            type: 'hat',\r\n            category: 'control',\r\n            spec: 'when %keyHat key pressed'\r\n        },\r\n\r\n    /* migrated to a newer block version:\r\n\r\n        receiveClick: {\r\n            type: 'hat',\r\n            category: 'control',\r\n            spec: 'when I am clicked'\r\n        },\r\n    */\r\n\r\n        receiveInteraction: {\r\n            type: 'hat',\r\n            category: 'control',\r\n            spec: 'when I am %interaction',\r\n            defaults: ['clicked']\r\n        },\r\n        receiveMessage: {\r\n            type: 'hat',\r\n            category: 'control',\r\n            spec: 'when I receive %msgHat'\r\n        },\r\n        receiveCondition: {\r\n            type: 'hat',\r\n            category: 'control',\r\n            spec: 'when %b'\r\n        },\r\n        doBroadcast: {\r\n            type: 'command',\r\n            category: 'control',\r\n            spec: 'broadcast %msg'\r\n        },\r\n        doBroadcastAndWait: {\r\n            type: 'command',\r\n            category: 'control',\r\n            spec: 'broadcast %msg and wait'\r\n        },\r\n        getLastMessage: {\r\n            type: 'reporter',\r\n            category: 'control',\r\n            spec: 'message'\r\n        },\r\n        doWait: {\r\n            type: 'command',\r\n            category: 'control',\r\n            spec: 'wait %n secs',\r\n            defaults: [1]\r\n        },\r\n        doWaitUntil: {\r\n            type: 'command',\r\n            category: 'control',\r\n            spec: 'wait until %b'\r\n        },\r\n        doForever: {\r\n            type: 'command',\r\n            category: 'control',\r\n            spec: 'forever %c'\r\n        },\r\n        doRepeat: {\r\n            type: 'command',\r\n            category: 'control',\r\n            spec: 'repeat %n %c',\r\n            defaults: [10]\r\n        },\r\n        doUntil: {\r\n            type: 'command',\r\n            category: 'control',\r\n            spec: 'repeat until %b %c'\r\n        },\r\n        doIf: {\r\n            type: 'command',\r\n            category: 'control',\r\n            spec: 'if %b %c'\r\n        },\r\n        doIfElse: {\r\n            type: 'command',\r\n            category: 'control',\r\n            spec: 'if %b %c else %c'\r\n        },\r\n\r\n    /* migrated to a newer block version:\r\n\r\n        doStop: {\r\n            type: 'command',\r\n            category: 'control',\r\n            spec: 'stop script'\r\n        },\r\n        doStopAll: {\r\n            type: 'command',\r\n            category: 'control',\r\n            spec: 'stop all %stop'\r\n        },\r\n    */\r\n\r\n        doStopThis: {\r\n            type: 'command',\r\n            category: 'control',\r\n            spec: 'stop %stopChoices'\r\n        },\r\n\r\n    /* migrated to doStopThis:\r\n\r\n        doStopOthers: {\r\n            type: 'command',\r\n            category: 'control',\r\n            spec: 'stop %stopOthersChoices'\r\n        },\r\n    */\r\n\r\n        doRun: {\r\n            type: 'command',\r\n            category: 'control',\r\n            spec: 'run %cmdRing %inputs'\r\n        },\r\n        fork: {\r\n            type: 'command',\r\n            category: 'control',\r\n            spec: 'launch %cmdRing %inputs'\r\n        },\r\n        evaluate: {\r\n            type: 'reporter',\r\n            category: 'control',\r\n            spec: 'call %repRing %inputs'\r\n        },\r\n    /*\r\n        doRunWithInputList: {\r\n            type: 'command',\r\n            category: 'control',\r\n            spec: 'run %cmd with input list %l'\r\n        },\r\n\r\n        forkWithInputList: {\r\n            type: 'command',\r\n            category: 'control',\r\n            spec: 'launch %cmd with input list %l'\r\n        },\r\n\r\n        evaluateWithInputList: {\r\n            type: 'reporter',\r\n            category: 'control',\r\n            spec: 'call %r with input list %l'\r\n        },\r\n    */\r\n        doReport: {\r\n            type: 'command',\r\n            category: 'control',\r\n            spec: 'report %s'\r\n        },\r\n    /*\r\n        doStopBlock: { // migrated to a newer block version\r\n            type: 'command',\r\n            category: 'control',\r\n            spec: 'stop block'\r\n        },\r\n    */\r\n        doCallCC: {\r\n            type: 'command',\r\n            category: 'control',\r\n            spec: 'run %cmdRing w/continuation'\r\n        },\r\n        reportCallCC: {\r\n            type: 'reporter',\r\n            category: 'control',\r\n            spec: 'call %cmdRing w/continuation'\r\n        },\r\n        doWarp: {\r\n            type: 'command',\r\n            category: 'other',\r\n            spec: 'warp %c'\r\n        },\r\n\r\n        // Message passing - very experimental\r\n\r\n        doTellTo: { // under construction +++\r\n            dev: true,\r\n            type: 'command',\r\n            category: 'control',\r\n            // spec: 'tell %spr to %cl' // I liked this version much better, -Jens\r\n            spec: 'tell %spr to %cmdRing %inputs'\r\n        },\r\n        reportAskFor: {\r\n            dev: true,\r\n            type: 'reporter',\r\n            category: 'control',\r\n            spec: 'ask %spr for %repRing %inputs'\r\n        },\r\n\r\n        // Cloning\r\n\r\n        receiveOnClone: {\r\n            type: 'hat',\r\n            category: 'control',\r\n            spec: 'when I start as a clone'\r\n        },\r\n        createClone: {\r\n            type: 'command',\r\n            category: 'control',\r\n            spec: 'create a clone of %cln'\r\n        },\r\n        newClone: {\r\n            type: 'reporter',\r\n            category: 'control',\r\n            spec: 'a new clone of %cln',\r\n            defaults: [['myself']]\r\n        },\r\n        removeClone: {\r\n            type: 'command',\r\n            category: 'control',\r\n            spec: 'delete this clone'\r\n        },\r\n\r\n        // Debugging - pausing\r\n\r\n        doPauseAll: {\r\n            type: 'command',\r\n            category: 'control',\r\n            spec: 'pause all %pause'\r\n        },\r\n\r\n        // Sensing\r\n\r\n        reportTouchingObject: {\r\n            only: SpriteMorph,\r\n            type: 'predicate',\r\n            category: 'sensing',\r\n            spec: 'touching %col ?'\r\n        },\r\n        reportTouchingColor: {\r\n            only: SpriteMorph,\r\n            type: 'predicate',\r\n            category: 'sensing',\r\n            spec: 'touching %clr ?'\r\n        },\r\n        reportColorIsTouchingColor: {\r\n            only: SpriteMorph,\r\n            type: 'predicate',\r\n            category: 'sensing',\r\n            spec: 'color %clr is touching %clr ?'\r\n        },\r\n        colorFiltered: {\r\n            dev: true,\r\n            type: 'reporter',\r\n            category: 'sensing',\r\n            spec: 'filtered for %clr'\r\n        },\r\n        reportStackSize: {\r\n            dev: true,\r\n            type: 'reporter',\r\n            category: 'sensing',\r\n            spec: 'stack size'\r\n        },\r\n        reportFrameCount: {\r\n            dev: true,\r\n            type: 'reporter',\r\n            category: 'sensing',\r\n            spec: 'frames'\r\n        },\r\n        reportThreadCount: {\r\n            dev: true,\r\n            type: 'reporter',\r\n            category: 'sensing',\r\n            spec: 'processes'\r\n        },\r\n        doAsk: {\r\n            type: 'command',\r\n            category: 'sensing',\r\n            spec: 'ask %s and wait',\r\n            defaults: [localize('what\\'s your name?')]\r\n        },\r\n        reportLastAnswer: { // retained for legacy compatibility\r\n            dev: true,\r\n            type: 'reporter',\r\n            category: 'sensing',\r\n            spec: 'answer'\r\n        },\r\n        getLastAnswer: {\r\n            type: 'reporter',\r\n            category: 'sensing',\r\n            spec: 'answer'\r\n        },\r\n        reportMouseX: {\r\n            type: 'reporter',\r\n            category: 'sensing',\r\n            spec: 'mouse x'\r\n        },\r\n        reportMouseY: {\r\n            type: 'reporter',\r\n            category: 'sensing',\r\n            spec: 'mouse y'\r\n        },\r\n        reportMouseDown: {\r\n            type: 'predicate',\r\n            category: 'sensing',\r\n            spec: 'mouse down?'\r\n        },\r\n        reportKeyPressed: {\r\n            type: 'predicate',\r\n            category: 'sensing',\r\n            spec: 'key %key pressed?'\r\n        },\r\n        reportDistanceTo: {\r\n            type: 'reporter',\r\n            category: 'sensing',\r\n            spec: 'distance to %dst'\r\n        },\r\n        doResetTimer: {\r\n            type: 'command',\r\n            category: 'sensing',\r\n            spec: 'reset timer'\r\n        },\r\n        reportTimer: { // retained for legacy compatibility\r\n            dev: true,\r\n            type: 'reporter',\r\n            category: 'sensing',\r\n            spec: 'timer'\r\n        },\r\n        getTimer: {\r\n            type: 'reporter',\r\n            category: 'sensing',\r\n            spec: 'timer'\r\n        },\r\n        reportAttributeOf: {\r\n            type: 'reporter',\r\n            category: 'sensing',\r\n            spec: '%att of %spr',\r\n            defaults: [['costume #']]\r\n        },\r\n        reportURL: {\r\n            type: 'reporter',\r\n            category: 'sensing',\r\n            spec: 'url %s',\r\n            defaults: ['snap.berkeley.edu']\r\n        },\r\n        reportIsFastTracking: {\r\n            type: 'predicate',\r\n            category: 'sensing',\r\n            spec: 'turbo mode?'\r\n        },\r\n        doSetFastTracking: {\r\n            type: 'command',\r\n            category: 'sensing',\r\n            spec: 'set turbo mode to %b'\r\n        },\r\n        reportDate: {\r\n            type: 'reporter',\r\n            category: 'sensing',\r\n            spec: 'current %dates'\r\n        },\r\n        reportGet: {\r\n            type: 'reporter',\r\n            category: 'sensing',\r\n            spec: 'my %get',\r\n            defaults: [['neighbors']]\r\n        },\r\n\r\n        // Operators\r\n        reifyScript: {\r\n            type: 'ring',\r\n            category: 'other',\r\n            spec: '%rc %ringparms',\r\n            alias: 'command ring lambda'\r\n        },\r\n        reifyReporter: {\r\n            type: 'ring',\r\n            category: 'other',\r\n            spec: '%rr %ringparms',\r\n            alias: 'reporter ring lambda'\r\n        },\r\n        reifyPredicate: {\r\n            type: 'ring',\r\n            category: 'other',\r\n            spec: '%rp %ringparms',\r\n            alias: 'predicate ring lambda'\r\n        },\r\n        reportSum: {\r\n            type: 'reporter',\r\n            category: 'operators',\r\n            spec: '%n + %n'\r\n        },\r\n        reportDifference: {\r\n            type: 'reporter',\r\n            category: 'operators',\r\n            spec: '%n \\u2212 %n',\r\n            alias: '-'\r\n        },\r\n        reportProduct: {\r\n            type: 'reporter',\r\n            category: 'operators',\r\n            spec: '%n \\u00D7 %n',\r\n            alias: '*'\r\n        },\r\n        reportQuotient: {\r\n            type: 'reporter',\r\n            category: 'operators',\r\n            spec: '%n / %n' // '%n \\u00F7 %n'\r\n        },\r\n        reportRound: {\r\n            type: 'reporter',\r\n            category: 'operators',\r\n            spec: 'round %n'\r\n        },\r\n        reportMonadic: {\r\n            type: 'reporter',\r\n            category: 'operators',\r\n            spec: '%fun of %n',\r\n            defaults: [null, 10]\r\n        },\r\n        reportModulus: {\r\n            type: 'reporter',\r\n            category: 'operators',\r\n            spec: '%n mod %n'\r\n        },\r\n        reportRandom: {\r\n            type: 'reporter',\r\n            category: 'operators',\r\n            spec: 'pick random %n to %n',\r\n            defaults: [1, 10]\r\n        },\r\n        reportLessThan: {\r\n            type: 'predicate',\r\n            category: 'operators',\r\n            spec: '%s < %s'\r\n        },\r\n        reportEquals: {\r\n            type: 'predicate',\r\n            category: 'operators',\r\n            spec: '%s = %s'\r\n        },\r\n        reportGreaterThan: {\r\n            type: 'predicate',\r\n            category: 'operators',\r\n            spec: '%s > %s'\r\n        },\r\n        reportAnd: {\r\n            type: 'predicate',\r\n            category: 'operators',\r\n            spec: '%b and %b'\r\n        },\r\n        reportOr: {\r\n            type: 'predicate',\r\n            category: 'operators',\r\n            spec: '%b or %b'\r\n        },\r\n        reportNot: {\r\n            type: 'predicate',\r\n            category: 'operators',\r\n            spec: 'not %b'\r\n        },\r\n        reportBoolean: {\r\n            type: 'predicate',\r\n            category: 'operators',\r\n            spec: '%bool',\r\n            alias: 'true boolean'\r\n        },\r\n        reportFalse: { // special case for keyboard entry and search\r\n            type: 'predicate',\r\n            category: 'operators',\r\n            spec: '%bool',\r\n            defaults: [false],\r\n            alias: 'false boolean'\r\n        },\r\n        reportJoinWords: {\r\n            type: 'reporter',\r\n            category: 'operators',\r\n            spec: 'join %words',\r\n            defaults: [localize('hello') + ' ', localize('world')]\r\n        },\r\n        reportLetter: {\r\n            type: 'reporter',\r\n            category: 'operators',\r\n            spec: 'letter %n of %s',\r\n            defaults: [1, localize('world')]\r\n        },\r\n        reportStringSize: {\r\n            type: 'reporter',\r\n            category: 'operators',\r\n            spec: 'length of %s',\r\n            defaults: [localize('world')]\r\n        },\r\n        reportUnicode: {\r\n            type: 'reporter',\r\n            category: 'operators',\r\n            spec: 'unicode of %s',\r\n            defaults: ['a']\r\n        },\r\n        reportUnicodeAsLetter: {\r\n            type: 'reporter',\r\n            category: 'operators',\r\n            spec: 'unicode %n as letter',\r\n            defaults: [65]\r\n        },\r\n        reportIsA: {\r\n            type: 'predicate',\r\n            category: 'operators',\r\n            spec: 'is %s a %typ ?',\r\n            defaults: [5]\r\n        },\r\n        reportIsIdentical: {\r\n            type: 'predicate',\r\n            category: 'operators',\r\n            spec: 'is %s identical to %s ?'\r\n        },\r\n        reportTextSplit: {\r\n            type: 'reporter',\r\n            category: 'operators',\r\n            spec: 'split %s by %delim',\r\n            defaults: [localize('hello') + ' ' + localize('world'), \" \"]\r\n        },\r\n        reportJSFunction: { // experimental\r\n            type: 'reporter',\r\n            category: 'operators',\r\n            spec: 'JavaScript function ( %mult%s ) { %code }'\r\n        },\r\n        reportTypeOf: { // only in dev mode for debugging\r\n            dev: true,\r\n            type: 'reporter',\r\n            category: 'operators',\r\n            spec: 'type of %s',\r\n            defaults: [5]\r\n        },\r\n        reportTextFunction: { // only in dev mode - experimental\r\n            dev: true,\r\n            type: 'reporter',\r\n            category: 'operators',\r\n            spec: '%txtfun of %s',\r\n            defaults: [null, \"Abelson & Sussman\"]\r\n        },\r\n\r\n    /*\r\n        reportScript: {\r\n            type: 'reporter',\r\n            category: 'operators',\r\n            spec: 'the script %parms %c'\r\n        },\r\n        reify: {\r\n            type: 'reporter',\r\n            category: 'operators',\r\n            spec: 'the %f block %parms'\r\n        },\r\n    */\r\n\r\n        // Variables\r\n        doSetVar: {\r\n            type: 'command',\r\n            category: 'variables',\r\n            spec: 'set %var to %s',\r\n            defaults: [null, 0]\r\n        },\r\n        doChangeVar: {\r\n            type: 'command',\r\n            category: 'variables',\r\n            spec: 'change %var by %n',\r\n            defaults: [null, 1]\r\n        },\r\n        doShowVar: {\r\n            type: 'command',\r\n            category: 'variables',\r\n            spec: 'show variable %var'\r\n        },\r\n        doHideVar: {\r\n            type: 'command',\r\n            category: 'variables',\r\n            spec: 'hide variable %var'\r\n        },\r\n        doDeclareVariables: {\r\n            type: 'command',\r\n            category: 'other',\r\n            spec: 'script variables %scriptVars'\r\n        },\r\n\r\n        // inheritance - experimental\r\n        doDeleteAttr: {\r\n            type: 'command',\r\n            category: 'variables',\r\n            spec: 'inherit %shd'\r\n        },\r\n\r\n        // Lists\r\n        reportNewList: {\r\n            type: 'reporter',\r\n            category: 'lists',\r\n            spec: 'list %exp'\r\n        },\r\n        reportCONS: {\r\n            type: 'reporter',\r\n            category: 'lists',\r\n            spec: '%s in front of %l'\r\n        },\r\n        reportListItem: {\r\n            type: 'reporter',\r\n            category: 'lists',\r\n            spec: 'item %idx of %l',\r\n            defaults: [1]\r\n        },\r\n        reportCDR: {\r\n            type: 'reporter',\r\n            category: 'lists',\r\n            spec: 'all but first of %l'\r\n        },\r\n        reportListLength: {\r\n            type: 'reporter',\r\n            category: 'lists',\r\n            spec: 'length of %l'\r\n        },\r\n        reportListContainsItem: {\r\n            type: 'predicate',\r\n            category: 'lists',\r\n            spec: '%l contains %s',\r\n            defaults: [null, localize('thing')]\r\n        },\r\n        doAddToList: {\r\n            type: 'command',\r\n            category: 'lists',\r\n            spec: 'add %s to %l',\r\n            defaults: [localize('thing')]\r\n        },\r\n        doDeleteFromList: {\r\n            type: 'command',\r\n            category: 'lists',\r\n            spec: 'delete %ida of %l',\r\n            defaults: [1]\r\n        },\r\n        doInsertInList: {\r\n            type: 'command',\r\n            category: 'lists',\r\n            spec: 'insert %s at %idx of %l',\r\n            defaults: [localize('thing'), 1]\r\n        },\r\n        doReplaceInList: {\r\n            type: 'command',\r\n            category: 'lists',\r\n            spec: 'replace item %idx of %l with %s',\r\n            defaults: [1, null, localize('thing')]\r\n        },\r\n\r\n        // MAP - experimental\r\n        reportMap: {\r\n            dev: true,\r\n            type: 'reporter',\r\n            category: 'lists',\r\n            spec: 'map %repRing over %l'\r\n        },\r\n        doForEach: {\r\n            dev: true,\r\n            type: 'command',\r\n            category: 'lists',\r\n            spec: 'for %upvar in %l %cl',\r\n            defaults: [localize('each item')]\r\n        },\r\n\r\n        // Tables - experimental\r\n\r\n        doShowTable: {\r\n            dev: true,\r\n            type: 'command',\r\n            category: 'lists',\r\n            spec: 'show table %l'\r\n        },\r\n\r\n        // Code mapping - experimental\r\n        doMapCodeOrHeader: { // experimental\r\n            type: 'command',\r\n            category: 'other',\r\n            spec: 'map %cmdRing to %codeKind %code'\r\n        },\r\n        doMapValueCode: { // experimental\r\n            type: 'command',\r\n            category: 'other',\r\n            spec: 'map %mapValue to code %code',\r\n            defaults: [['String'], '<#1>']\r\n        },\r\n    /* obsolete - superseded by 'doMapValue'\r\n        doMapStringCode: { // experimental\r\n            type: 'command',\r\n            category: 'other',\r\n            spec: 'map String to code %code',\r\n            defaults: ['<#1>']\r\n        },\r\n    */\r\n        doMapListCode: { // experimental\r\n            type: 'command',\r\n            category: 'other',\r\n            spec: 'map %codeListPart of %codeListKind to code %code'\r\n        },\r\n        reportMappedCode: { // experimental\r\n            type: 'reporter',\r\n            category: 'other',\r\n            spec: 'code of %cmdRing'\r\n        }\r\n    };\r\n};\r\n\r\nSpriteMorph.prototype.initBlocks();\r\n\r\nSpriteMorph.prototype.initBlockMigrations = function () {\r\n    // change blocks in existing projects to their updated version\r\n    SpriteMorph.prototype.blockMigrations = {\r\n        doStopAll: {\r\n            selector: 'doStopThis',\r\n            inputs: [['all']]\r\n        },\r\n        doStop: {\r\n            selector: 'doStopThis',\r\n            inputs: [['this script']]\r\n        },\r\n        doStopBlock: {\r\n            selector: 'doStopThis',\r\n            inputs: [['this block']]\r\n        },\r\n        doStopOthers: {\r\n            selector: 'doStopThis',\r\n            inputs: [['all']],\r\n            offset: 0\r\n        },\r\n        receiveClick: {\r\n            selector: 'receiveInteraction',\r\n            inputs: [['clicked']]\r\n        },\r\n        reportTrue: {\r\n            selector: 'reportBoolean',\r\n            inputs: [true]\r\n        },\r\n        reportFalse: {\r\n            selector: 'reportBoolean',\r\n            inputs: [false]\r\n        },\r\n        reportCostumes: {\r\n            selector: 'reportGet',\r\n            inputs: [['costumes']]\r\n        },\r\n        reportSounds: {\r\n            selector: 'reportGet',\r\n            inputs: [['sounds']]\r\n        },\r\n        doMapStringCode: {\r\n            selector: 'doMapValueCode',\r\n            inputs: [['String'], '<#1>'],\r\n            offset: 1\r\n        }\r\n    };\r\n};\r\n\r\nSpriteMorph.prototype.initBlockMigrations();\r\n\r\nSpriteMorph.prototype.blockAlternatives = {\r\n    // motion:\r\n    turn: ['turnLeft'],\r\n    turnLeft: ['turn'],\r\n    changeXPosition: ['changeYPosition', 'setXPosition', 'setYPosition'],\r\n    setXPosition: ['setYPosition', 'changeXPosition', 'changeYPosition'],\r\n    changeYPosition: ['changeXPosition', 'setYPosition', 'setXPosition'],\r\n    setYPosition: ['setXPosition', 'changeYPosition', 'changeXPosition'],\r\n    xPosition: ['yPosition'],\r\n    yPosition: ['xPosition'],\r\n\r\n    // looks:\r\n    doSayFor: ['doThinkFor', 'bubble', 'doThink', 'doAsk'],\r\n    doThinkFor: ['doSayFor', 'doThink', 'bubble', 'doAsk'],\r\n    bubble: ['doThink', 'doAsk', 'doSayFor', 'doThinkFor'],\r\n    doThink: ['bubble', 'doAsk', 'doSayFor', 'doThinkFor'],\r\n    show: ['hide'],\r\n    hide: ['show'],\r\n    changeEffect: ['setEffect'],\r\n    setEffect: ['changeEffect'],\r\n    changeScale: ['setScale'],\r\n    setScale: ['changeScale'],\r\n\r\n    // sound:\r\n    playSound: ['doPlaySoundUntilDone'],\r\n    doPlaySoundUntilDone: ['playSound'],\r\n    doChangeTempo: ['doSetTempo'],\r\n    doSetTempo: ['doChangeTempo'],\r\n\r\n    // pen:\r\n    clear: ['down', 'up', 'doStamp'],\r\n    down: ['up', 'clear', 'doStamp'],\r\n    up: ['down', 'clear', 'doStamp'],\r\n    doStamp: ['clear', 'down', 'up'],\r\n    changeHue: ['setHue', 'changeBrightness', 'setBrightness'],\r\n    setHue: ['changeHue', 'changeBrightness', 'setBrightness'],\r\n    changeBrightness: ['setBrightness', 'setHue', 'changeHue'],\r\n    setBrightness: ['changeBrightness', 'setHue', 'changeHue'],\r\n    changeSize: ['setSize'],\r\n    setSize: ['changeSize'],\r\n\r\n    // control:\r\n    doBroadcast: ['doBroadcastAndWait'],\r\n    doBroadcastAndWait: ['doBroadcast'],\r\n    doIf: ['doIfElse', 'doUntil'],\r\n    doIfElse: ['doIf', 'doUntil'],\r\n    doRepeat: ['doUntil'],\r\n    doUntil: ['doRepeat', 'doIf'],\r\n\r\n    // sensing:\r\n    doAsk: ['bubble', 'doThink', 'doSayFor', 'doThinkFor'],\r\n    getLastAnswer: ['getTimer'],\r\n    getTimer: ['getLastAnswer'],\r\n    reportMouseX: ['reportMouseY'],\r\n    reportMouseY: ['reportMouseX'],\r\n\r\n    // operators:\r\n    reportSum: ['reportDifference', 'reportProduct', 'reportQuotient'],\r\n    reportDifference: ['reportSum', 'reportProduct', 'reportQuotient'],\r\n    reportProduct: ['reportDifference', 'reportSum', 'reportQuotient'],\r\n    reportQuotient: ['reportDifference', 'reportProduct', 'reportSum'],\r\n    reportLessThan: ['reportEquals', 'reportGreaterThan'],\r\n    reportEquals: ['reportLessThan', 'reportGreaterThan'],\r\n    reportGreaterThan: ['reportEquals', 'reportLessThan'],\r\n    reportAnd: ['reportOr'],\r\n    reportOr: ['reportAnd'],\r\n\r\n    // variables\r\n    doSetVar: ['doChangeVar'],\r\n    doChangeVar: ['doSetVar'],\r\n    doShowVar: ['doHideVar'],\r\n    doHideVar: ['doShowVar']\r\n};\r\n\r\n// SpriteMorph instance creation\r\n\r\nfunction SpriteMorph(globals) {\r\n    this.init(globals);\r\n}\r\n\r\nSpriteMorph.prototype.init = function (globals) {\r\n    this.name = localize('Sprite');\r\n    this.instrument = null;\r\n    this.variables = new VariableFrame(globals || null, this);\r\n    this.scripts = new ScriptsMorph();\r\n    this.customBlocks = [];\r\n    this.costumes = new List();\r\n    this.costumes.type = 'costume';\r\n    this.costume = null;\r\n    this.sounds = new List();\r\n    this.sounds.type = 'sound';\r\n    this.normalExtent = new Point(60, 60); // only for costume-less situation\r\n    this.scale = 1;\r\n    this.rotationStyle = 1; // 1 = full, 2 = left/right, 0 = off\r\n    this.version = Date.now(); // for observer optimization\r\n    this.isTemporary = false; // indicate a temporary Scratch-style clone\r\n    this.isCorpse = false; // indicate whether a sprite/clone has been deleted\r\n    this.cloneOriginName = '';\r\n\r\n    // only temporarily for serialization\r\n    this.inheritedMethodsCache = [];\r\n\r\n    // sprite nesting properties\r\n    this.parts = []; // not serialized, only anchor (name)\r\n    this.anchor = null;\r\n    this.nestingScale = 1;\r\n    this.rotatesWithAnchor = true;\r\n    this.layers = null; // cache for dragging nested sprites, don't serialize\r\n\r\n    this.blocksCache = {}; // not to be serialized (!)\r\n    this.paletteCache = {}; // not to be serialized (!)\r\n    this.rotationOffset = new Point(); // not to be serialized (!)\r\n    this.idx = 0; // not to be serialized (!) - used for de-serialization\r\n    this.wasWarped = false; // not to be serialized, used for fast-tracking\r\n\r\n    this.graphicsValues = {\r\n        'color': 0,\r\n        'fisheye': 0,\r\n        'whirl': 0,\r\n        'pixelate': 0,\r\n        'mosaic': 0,\r\n        'duplicate': 0,\r\n        'negative': 0,\r\n        'comic': 0,\r\n        'confetti': 0,\r\n        'saturation': 0,\r\n        'brightness': 0\r\n    };\r\n\r\n    // sprite inheritance\r\n    this.exemplar = null;\r\n    this.instances = [];\r\n    this.cachedPropagation = false; // not to be persisted\r\n    this.inheritedAttributes = []; // 'x position', 'direction', 'size' etc...\r\n\r\n    SpriteMorph.uber.init.call(this);\r\n\r\n    this.isDraggable = true;\r\n    this.isDown = false;\r\n    this.heading = 90;\r\n    this.changed();\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\n// SpriteMorph duplicating (fullCopy)\r\n\r\nSpriteMorph.prototype.fullCopy = function (forClone) {\r\n    var c = SpriteMorph.uber.fullCopy.call(this),\r\n        myself = this,\r\n        arr = [],\r\n        cb, effect;\r\n\r\n    c.instances = [];\r\n    c.stopTalking();\r\n    c.color = this.color.copy();\r\n    c.blocksCache = {};\r\n    c.paletteCache = {};\r\n    arr = [];\r\n    this.inheritedAttributes.forEach(function (att) {\r\n        arr.push(att);\r\n    });\r\n    c.inheritedAttributes = arr;\r\n    if (forClone) {\r\n        c.exemplar = this;\r\n        c.customBlocks = [];\r\n        c.variables = new VariableFrame(null, c);\r\n        c.variables.parentFrame = this.variables;\r\n        c.inheritedVariableNames().forEach(function (name) {\r\n            c.shadowVar(name, c.variables.getVar(name));\r\n        });\r\n        this.addSpecimen(c);\r\n        this.cachedPropagation = false;\r\n        ['scripts', 'costumes', 'sounds'].forEach(function (att) {\r\n            if (!contains(c.inheritedAttributes, att)) {\r\n                c.inheritedAttributes.push(att);\r\n            }\r\n        });\r\n    } else {\r\n        c.variables = this.variables.copy();\r\n        c.variables.owner = c;\r\n        c.scripts = this.scripts.fullCopy();\r\n        c.customBlocks = [];\r\n        this.customBlocks.forEach(function (def) {\r\n            cb = def.copyAndBindTo(c);\r\n            c.customBlocks.push(cb);\r\n            c.allBlockInstances(def).forEach(function (block) {\r\n                block.definition = cb;\r\n            });\r\n        });\r\n        arr = [];\r\n        this.costumes.asArray().forEach(function (costume) {\r\n            var cst = forClone ? costume : costume.copy();\r\n            arr.push(cst);\r\n            if (costume === myself.costume) {\r\n                c.costume = cst;\r\n            }\r\n        });\r\n        c.costumes = new List(arr);\r\n        arr = [];\r\n        this.sounds.asArray().forEach(function (sound) {\r\n            var snd = forClone ? sound : sound.copy();\r\n            arr.push(snd);\r\n        });\r\n        c.sounds = new List(arr);\r\n        arr = [];\r\n    }\r\n    c.nestingScale = 1;\r\n    c.rotatesWithAnchor = true;\r\n    c.anchor = null;\r\n    c.parts = [];\r\n    this.parts.forEach(function (part) {\r\n        var dp = part.fullCopy(forClone);\r\n        dp.nestingScale = part.nestingScale;\r\n        dp.rotatesWithAnchor = part.rotatesWithAnchor;\r\n        c.attachPart(dp);\r\n    });\r\n    c.graphicsValues = {};\r\n    for (effect in this.graphicsValues) {\r\n        if (this.graphicsValues.hasOwnProperty(effect)) {\r\n            c.graphicsValues[effect] = this.graphicsValues[effect];\r\n        }\r\n    }\r\n    return c;\r\n};\r\n\r\nSpriteMorph.prototype.appearIn = function (ide) {\r\n    // private - used in IDE_Morph.duplicateSprite()\r\n    if (!this.isTemporary) {\r\n        this.name = ide.newSpriteName(this.name);\r\n        ide.corral.addSprite(this);\r\n        ide.sprites.add(this);\r\n    }\r\n    ide.stage.add(this);\r\n    this.parts.forEach(function (part) {\r\n        part.appearIn(ide);\r\n    });\r\n};\r\n\r\n// SpriteMorph versioning\r\n\r\nSpriteMorph.prototype.setName = function (string) {\r\n    this.name = string || this.name;\r\n    this.version = Date.now();\r\n};\r\n\r\n// SpriteMorph rendering\r\n\r\nSpriteMorph.prototype.drawNew = function () {\r\n    var myself = this,\r\n        currentCenter,\r\n        facing, // actual costume heading based on my rotation style\r\n        isFlipped,\r\n        isLoadingCostume,\r\n        cst,\r\n        pic, // (flipped copy of) actual costume based on my rotation style\r\n        stageScale,\r\n        newX,\r\n        corners = [],\r\n        origin,\r\n        shift,\r\n        corner,\r\n        costumeExtent,\r\n        ctx,\r\n        handle;\r\n\r\n    if (this.isWarped) {\r\n        this.wantsRedraw = true;\r\n        return;\r\n    }\r\n    currentCenter = this.center();\r\n    isLoadingCostume = this.costume &&\r\n        typeof this.costume.loaded === 'function';\r\n    stageScale = this.parent instanceof StageMorph ?\r\n            this.parent.scale : 1;\r\n    facing = this.rotationStyle ? this.heading : 90;\r\n    if (this.rotationStyle === 2) {\r\n        facing = 90;\r\n        if ((this.heading > 180 && (this.heading < 360))\r\n                || (this.heading < 0 && (this.heading > -180))) {\r\n            isFlipped = true;\r\n        }\r\n    }\r\n    if (this.costume && !isLoadingCostume) {\r\n        pic = isFlipped ? this.costume.flipped() : this.costume;\r\n\r\n        // determine the rotated costume's bounding box\r\n        corners = pic.bounds().corners().map(function (point) {\r\n            return point.rotateBy(\r\n                radians(facing - 90),\r\n                myself.costume.center()\r\n            );\r\n        });\r\n        origin = corners[0];\r\n        corner = corners[0];\r\n        corners.forEach(function (point) {\r\n            origin = origin.min(point);\r\n            corner = corner.max(point);\r\n        });\r\n        costumeExtent = origin.corner(corner)\r\n            .extent().multiplyBy(this.scale * stageScale);\r\n\r\n        // determine the new relative origin of the rotated shape\r\n        shift = new Point(0, 0).rotateBy(\r\n            radians(-(facing - 90)),\r\n            pic.center()\r\n        ).subtract(origin);\r\n\r\n        // create a new, adequately dimensioned canvas\r\n        // and draw the costume on it\r\n        this.image = newCanvas(costumeExtent, true);\r\n        this.silentSetExtent(costumeExtent);\r\n        ctx = this.image.getContext('2d');\r\n        ctx.scale(this.scale * stageScale, this.scale * stageScale);\r\n        ctx.translate(shift.x, shift.y);\r\n        ctx.rotate(radians(facing - 90));\r\n        ctx.drawImage(pic.contents, 0, 0);\r\n\r\n        // apply graphics effects to image\r\n        this.image = this.applyGraphicsEffects(this.image);\r\n\r\n        // adjust my position to the rotation\r\n        this.setCenter(currentCenter, true); // just me\r\n\r\n        // determine my rotation offset\r\n        this.rotationOffset = shift\r\n            .translateBy(pic.rotationCenter)\r\n            .rotateBy(radians(-(facing - 90)), shift)\r\n            .scaleBy(this.scale * stageScale);\r\n    } else {\r\n        facing = isFlipped ? -90 : facing;\r\n        newX = Math.min(\r\n            Math.max(\r\n                this.normalExtent.x * this.scale * stageScale,\r\n                5\r\n            ),\r\n            1000\r\n        );\r\n        this.silentSetExtent(new Point(newX, newX));\r\n        this.image = newCanvas(this.extent(), true);\r\n        this.setCenter(currentCenter, true); // just me\r\n        SpriteMorph.uber.drawNew.call(this, facing);\r\n        this.rotationOffset = this.extent().divideBy(2);\r\n        this.image = this.applyGraphicsEffects(this.image);\r\n        if (isLoadingCostume) { // retry until costume is done loading\r\n            cst = this.costume;\r\n            handle = setInterval(\r\n                function () {\r\n                    myself.wearCostume(cst);\r\n                    clearInterval(handle);\r\n                },\r\n                100\r\n            );\r\n            return myself.wearCostume(null);\r\n\r\n        }\r\n    }\r\n    this.version = Date.now(); // for observer optimization\r\n};\r\n\r\nSpriteMorph.prototype.endWarp = function () {\r\n    this.isWarped = false;\r\n    if (this.wantsRedraw) {\r\n        var x = this.xPosition(),\r\n            y = this.yPosition();\r\n        this.drawNew();\r\n        this.silentGotoXY(x, y, true); // just me\r\n        this.wantsRedraw = false;\r\n    }\r\n    this.parent.changed();\r\n};\r\n\r\nSpriteMorph.prototype.rotationCenter = function () {\r\n    return this.position().add(this.rotationOffset);\r\n};\r\n\r\nSpriteMorph.prototype.colorFiltered = function (aColor) {\r\n    // answer a new Morph containing my image filtered by aColor\r\n    // ignore transparency (alpha)\r\n    var morph = new Morph(),\r\n        ext = this.extent(),\r\n        ctx,\r\n        src,\r\n        clr,\r\n        i,\r\n        dta;\r\n\r\n    src = normalizeCanvas(this.image, true).getContext('2d').getImageData(\r\n        0,\r\n        0,\r\n        ext.x,\r\n        ext.y\r\n    );\r\n    morph.image = newCanvas(ext, true);\r\n    morph.bounds = this.bounds.copy();\r\n    ctx = morph.image.getContext('2d');\r\n    dta = ctx.createImageData(ext.x, ext.y);\r\n    for (i = 0; i < ext.x * ext.y * 4; i += 4) {\r\n        clr = new Color(\r\n            src.data[i],\r\n            src.data[i + 1],\r\n            src.data[i + 2]\r\n        );\r\n        if (clr.eq(aColor)) {\r\n            dta.data[i] = src.data[i];\r\n            dta.data[i + 1] = src.data[i + 1];\r\n            dta.data[i + 2] = src.data[i + 2];\r\n            dta.data[i + 3] = 255;\r\n        }\r\n    }\r\n    ctx.putImageData(dta, 0, 0);\r\n    return morph;\r\n};\r\n\r\n// SpriteMorph block instantiation\r\n\r\nSpriteMorph.prototype.blockForSelector = function (selector, setDefaults) {\r\n    var migration, info, block, defaults, inputs, i;\r\n    migration = this.blockMigrations[selector];\r\n    info = this.blocks[migration ? migration.selector : selector];\r\n    if (!info) {return null; }\r\n    block = info.type === 'command' ? new CommandBlockMorph()\r\n        : info.type === 'hat' ? new HatBlockMorph()\r\n            : info.type === 'ring' ? new RingMorph()\r\n                : new ReporterBlockMorph(info.type === 'predicate');\r\n    block.color = this.blockColor[info.category];\r\n    block.category = info.category;\r\n    block.selector = migration ? migration.selector : selector;\r\n    if (contains(['reifyReporter', 'reifyPredicate'], block.selector)) {\r\n        block.isStatic = true;\r\n    }\r\n    block.setSpec(localize(info.spec));\r\n    if ((setDefaults && info.defaults) || (migration && migration.inputs)) {\r\n        defaults = migration ? migration.inputs : info.defaults;\r\n        block.defaults = defaults;\r\n        inputs = block.inputs();\r\n        if (inputs[0] instanceof MultiArgMorph) {\r\n            inputs[0].setContents(defaults);\r\n            inputs[0].defaults = defaults;\r\n        } else {\r\n            for (i = 0; i < defaults.length; i += 1) {\r\n                if (defaults[i] !== null) {\r\n                    inputs[i].setContents(defaults[i]);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return block;\r\n};\r\n\r\nSpriteMorph.prototype.variableBlock = function (varName) {\r\n    var block = new ReporterBlockMorph(false);\r\n    block.selector = 'reportGetVar';\r\n    block.color = this.blockColor.variables;\r\n    block.category = 'variables';\r\n    block.setSpec(varName);\r\n    block.isDraggable = true;\r\n    return block;\r\n};\r\n\r\n// SpriteMorph block templates\r\n\r\nSpriteMorph.prototype.blockTemplates = function (category) {\r\n    var blocks = [], myself = this, varNames, button,\r\n        cat = category || 'motion', txt,\r\n        inheritedVars = this.inheritedVariableNames();\r\n\r\n    function block(selector, isGhosted) {\r\n        if (StageMorph.prototype.hiddenPrimitives[selector]) {\r\n            return null;\r\n        }\r\n        var newBlock = SpriteMorph.prototype.blockForSelector(selector, true);\r\n        newBlock.isTemplate = true;\r\n        if (isGhosted) {newBlock.ghost(); }\r\n        return newBlock;\r\n    }\r\n\r\n    function variableBlock(varName) {\r\n        var newBlock = SpriteMorph.prototype.variableBlock(varName);\r\n        newBlock.isDraggable = false;\r\n        newBlock.isTemplate = true;\r\n        if (contains(inheritedVars, varName)) {\r\n            newBlock.ghost();\r\n        }\r\n        return newBlock;\r\n    }\r\n\r\n    function watcherToggle(selector) {\r\n        if (StageMorph.prototype.hiddenPrimitives[selector]) {\r\n            return null;\r\n        }\r\n        var info = SpriteMorph.prototype.blocks[selector];\r\n        return new ToggleMorph(\r\n            'checkbox',\r\n            this,\r\n            function () {\r\n                myself.toggleWatcher(\r\n                    selector,\r\n                    localize(info.spec),\r\n                    myself.blockColor[info.category]\r\n                );\r\n            },\r\n            null,\r\n            function () {\r\n                return myself.showingWatcher(selector);\r\n            },\r\n            null\r\n        );\r\n    }\r\n\r\n    function variableWatcherToggle(varName) {\r\n        return new ToggleMorph(\r\n            'checkbox',\r\n            this,\r\n            function () {\r\n                myself.toggleVariableWatcher(varName);\r\n            },\r\n            null,\r\n            function () {\r\n                return myself.showingVariableWatcher(varName);\r\n            },\r\n            null\r\n        );\r\n    }\r\n\r\n    function helpMenu() {\r\n        var menu = new MenuMorph(this);\r\n        menu.addItem('help...', 'showHelp');\r\n        return menu;\r\n    }\r\n\r\n    function addVar(pair) {\r\n        var ide;\r\n        if (pair) {\r\n            if (myself.isVariableNameInUse(pair[0], pair[1])) {\r\n                myself.inform('that name is already in use');\r\n            } else {\r\n                ide = myself.parentThatIsA(IDE_Morph);\r\n                myself.addVariable(pair[0], pair[1]);\r\n                if (!myself.showingVariableWatcher(pair[0])) {\r\n                    myself.toggleVariableWatcher(pair[0], pair[1]);\r\n                }\r\n                ide.flushBlocksCache('variables'); // b/c of inheritance\r\n                ide.refreshPalette();\r\n            }\r\n        }\r\n    }\r\n\r\n    if (cat === 'motion') {\r\n\r\n        blocks.push(block('forward'));\r\n        blocks.push(block('turn'));\r\n        blocks.push(block('turnLeft'));\r\n        blocks.push('-');\r\n        blocks.push(block('setHeading'));\r\n        blocks.push(block('doFaceTowards'));\r\n        blocks.push('-');\r\n        blocks.push(block('gotoXY'));\r\n        blocks.push(block('doGotoObject'));\r\n        blocks.push(block('doGlide'));\r\n        blocks.push('-');\r\n        blocks.push(block('changeXPosition'));\r\n        blocks.push(block('setXPosition'));\r\n        blocks.push(block('changeYPosition'));\r\n        blocks.push(block('setYPosition'));\r\n        blocks.push('-');\r\n        blocks.push(block('bounceOffEdge'));\r\n        blocks.push('-');\r\n        blocks.push(watcherToggle('xPosition'));\r\n        blocks.push(block('xPosition', this.inheritsAttribute('x position')));\r\n        blocks.push(watcherToggle('yPosition'));\r\n        blocks.push(block('yPosition', this.inheritsAttribute('y position')));\r\n        blocks.push(watcherToggle('direction'));\r\n        blocks.push(block('direction', this.inheritsAttribute('direction')));\r\n        blocks.push('=');\r\n        blocks.push(this.makeBlockButton(cat));\r\n\r\n    } else if (cat === 'looks') {\r\n\r\n        blocks.push(block('doSwitchToCostume'));\r\n        blocks.push(block('doWearNextCostume'));\r\n        blocks.push(watcherToggle('getCostumeIdx'));\r\n        blocks.push(block('getCostumeIdx', this.inheritsAttribute('costume #')));\r\n        blocks.push('-');\r\n        blocks.push(block('doSayFor'));\r\n        blocks.push(block('bubble'));\r\n        blocks.push(block('doThinkFor'));\r\n        blocks.push(block('doThink'));\r\n        blocks.push('-');\r\n        blocks.push(block('changeEffect'));\r\n        blocks.push(block('setEffect'));\r\n        blocks.push(block('clearEffects'));\r\n        blocks.push('-');\r\n        blocks.push(block('changeScale'));\r\n        blocks.push(block('setScale'));\r\n        blocks.push(watcherToggle('getScale'));\r\n        blocks.push(block('getScale', this.inheritsAttribute('size')));\r\n        blocks.push('-');\r\n        blocks.push(block('show'));\r\n        blocks.push(block('hide'));\r\n        blocks.push('-');\r\n        blocks.push(block('comeToFront'));\r\n        blocks.push(block('goBack'));\r\n\r\n    // for debugging: ///////////////\r\n\r\n        if (this.world().isDevMode) {\r\n            blocks.push('-');\r\n            txt = new TextMorph(localize(\r\n                'development mode \\ndebugging primitives:'\r\n            ));\r\n            txt.fontSize = 9;\r\n            txt.setColor(this.paletteTextColor);\r\n            blocks.push(txt);\r\n            blocks.push('-');\r\n            blocks.push(block('log'));\r\n            blocks.push(block('alert'));\r\n            blocks.push('-');\r\n            blocks.push(block('doScreenshot'));\r\n        }\r\n\r\n    /////////////////////////////////\r\n\r\n        blocks.push('=');\r\n        blocks.push(this.makeBlockButton(cat));\r\n\r\n    } else if (cat === 'sound') {\r\n\r\n        blocks.push(block('playSound'));\r\n        blocks.push(block('doPlaySoundUntilDone'));\r\n        blocks.push(block('doStopAllSounds'));\r\n        blocks.push('-');\r\n        blocks.push(block('doRest'));\r\n        blocks.push(block('doPlayNote'));\r\n        blocks.push(block('doSetInstrument'));\r\n        blocks.push('-');\r\n        blocks.push(block('doChangeTempo'));\r\n        blocks.push(block('doSetTempo'));\r\n        blocks.push(watcherToggle('getTempo'));\r\n        blocks.push(block('getTempo'));\r\n        blocks.push('=');\r\n        blocks.push(this.makeBlockButton(cat));\r\n\r\n    } else if (cat === 'pen') {\r\n\r\n        blocks.push(block('clear'));\r\n        blocks.push('-');\r\n        blocks.push(block('down'));\r\n        blocks.push(block('up'));\r\n        blocks.push('-');\r\n        blocks.push(block('setColor'));\r\n        blocks.push(block('changeHue'));\r\n        blocks.push(block('setHue'));\r\n        blocks.push('-');\r\n        blocks.push(block('changeBrightness'));\r\n        blocks.push(block('setBrightness'));\r\n        blocks.push('-');\r\n        blocks.push(block('changeSize'));\r\n        blocks.push(block('setSize'));\r\n        blocks.push('-');\r\n        blocks.push(block('doStamp'));\r\n        blocks.push(block('floodFill'));\r\n        blocks.push('-');\r\n        blocks.push(block('reportPenTrailsAsCostume'));\r\n        blocks.push('=');\r\n        blocks.push(this.makeBlockButton(cat));\r\n\r\n    } else if (cat === 'control') {\r\n\r\n        blocks.push(block('receiveGo'));\r\n        blocks.push(block('receiveKey'));\r\n        blocks.push(block('receiveInteraction'));\r\n        blocks.push(block('receiveCondition'));\r\n        blocks.push(block('receiveMessage'));\r\n        blocks.push('-');\r\n        blocks.push(block('doBroadcast'));\r\n        blocks.push(block('doBroadcastAndWait'));\r\n        blocks.push(watcherToggle('getLastMessage'));\r\n        blocks.push(block('getLastMessage'));\r\n        blocks.push('-');\r\n        blocks.push(block('doWarp'));\r\n        blocks.push('-');\r\n        blocks.push(block('doWait'));\r\n        blocks.push(block('doWaitUntil'));\r\n        blocks.push('-');\r\n        blocks.push(block('doForever'));\r\n        blocks.push(block('doRepeat'));\r\n        blocks.push(block('doUntil'));\r\n        blocks.push('-');\r\n        blocks.push(block('doIf'));\r\n        blocks.push(block('doIfElse'));\r\n        blocks.push('-');\r\n        blocks.push(block('doReport'));\r\n    /*\r\n    // old STOP variants, migrated to a newer version, now redundant\r\n        blocks.push(block('doStopBlock'));\r\n        blocks.push(block('doStop'));\r\n        blocks.push(block('doStopAll'));\r\n    */\r\n        blocks.push(block('doStopThis'));\r\n    /*\r\n        // migrated to doStopThis, now redundant\r\n        blocks.push(block('doStopOthers'));\r\n    */\r\n        blocks.push('-');\r\n        blocks.push(block('doRun'));\r\n        blocks.push(block('fork'));\r\n        blocks.push(block('evaluate'));\r\n        blocks.push('-');\r\n        blocks.push(block('doTellTo'));\r\n        blocks.push(block('reportAskFor'));\r\n        blocks.push('-');\r\n        blocks.push(block('doCallCC'));\r\n        blocks.push(block('reportCallCC'));\r\n        blocks.push('-');\r\n        blocks.push(block('receiveOnClone'));\r\n        blocks.push(block('createClone'));\r\n        blocks.push(block('newClone'));\r\n        blocks.push(block('removeClone'));\r\n        blocks.push('-');\r\n        blocks.push(block('doPauseAll'));\r\n        blocks.push('=');\r\n        blocks.push(this.makeBlockButton(cat));\r\n\r\n    } else if (cat === 'sensing') {\r\n\r\n        blocks.push(block('reportTouchingObject'));\r\n        blocks.push(block('reportTouchingColor'));\r\n        blocks.push(block('reportColorIsTouchingColor'));\r\n        blocks.push('-');\r\n        blocks.push(block('doAsk'));\r\n        blocks.push(watcherToggle('getLastAnswer'));\r\n        blocks.push(block('getLastAnswer'));\r\n        blocks.push('-');\r\n        blocks.push(watcherToggle('reportMouseX'));\r\n        blocks.push(block('reportMouseX'));\r\n        blocks.push(watcherToggle('reportMouseY'));\r\n        blocks.push(block('reportMouseY'));\r\n        blocks.push(block('reportMouseDown'));\r\n        blocks.push('-');\r\n        blocks.push(block('reportKeyPressed'));\r\n        blocks.push('-');\r\n        blocks.push(block('reportDistanceTo'));\r\n        blocks.push('-');\r\n        blocks.push(block('doResetTimer'));\r\n        blocks.push(watcherToggle('getTimer'));\r\n        blocks.push(block('getTimer'));\r\n        blocks.push('-');\r\n        blocks.push(block('reportAttributeOf'));\r\n\r\n        if (SpriteMorph.prototype.enableFirstClass) {\r\n            blocks.push(block('reportGet'));\r\n        }\r\n        blocks.push('-');\r\n\r\n        blocks.push(block('reportURL'));\r\n        blocks.push('-');\r\n        blocks.push(block('reportIsFastTracking'));\r\n        blocks.push(block('doSetFastTracking'));\r\n        blocks.push('-');\r\n        blocks.push(block('reportDate'));\r\n\r\n    // for debugging: ///////////////\r\n\r\n        if (this.world().isDevMode) {\r\n\r\n            blocks.push('-');\r\n            txt = new TextMorph(localize(\r\n                'development mode \\ndebugging primitives:'\r\n            ));\r\n            txt.fontSize = 9;\r\n            txt.setColor(this.paletteTextColor);\r\n            blocks.push(txt);\r\n            blocks.push('-');\r\n            blocks.push(watcherToggle('reportThreadCount'));\r\n            blocks.push(block('reportThreadCount'));\r\n            blocks.push(block('colorFiltered'));\r\n            blocks.push(block('reportStackSize'));\r\n            blocks.push(block('reportFrameCount'));\r\n        }\r\n\r\n\t/////////////////////////////////\r\n\r\n\t\tblocks.push('=');\r\n        blocks.push(this.makeBlockButton(cat));\r\n\r\n    } else if (cat === 'operators') {\r\n\r\n        blocks.push(block('reifyScript'));\r\n        blocks.push(block('reifyReporter'));\r\n        blocks.push(block('reifyPredicate'));\r\n        blocks.push('#');\r\n        blocks.push('-');\r\n        blocks.push(block('reportSum'));\r\n        blocks.push(block('reportDifference'));\r\n        blocks.push(block('reportProduct'));\r\n        blocks.push(block('reportQuotient'));\r\n        blocks.push('-');\r\n        blocks.push(block('reportModulus'));\r\n        blocks.push(block('reportRound'));\r\n        blocks.push(block('reportMonadic'));\r\n        blocks.push(block('reportRandom'));\r\n        blocks.push('-');\r\n        blocks.push(block('reportLessThan'));\r\n        blocks.push(block('reportEquals'));\r\n        blocks.push(block('reportGreaterThan'));\r\n        blocks.push('-');\r\n        blocks.push(block('reportAnd'));\r\n        blocks.push(block('reportOr'));\r\n        blocks.push(block('reportNot'));\r\n        blocks.push(block('reportBoolean'));\r\n        blocks.push('-');\r\n        blocks.push(block('reportJoinWords'));\r\n        blocks.push(block('reportTextSplit'));\r\n        blocks.push(block('reportLetter'));\r\n        blocks.push(block('reportStringSize'));\r\n        blocks.push('-');\r\n        blocks.push(block('reportUnicode'));\r\n        blocks.push(block('reportUnicodeAsLetter'));\r\n        blocks.push('-');\r\n        blocks.push(block('reportIsA'));\r\n        blocks.push(block('reportIsIdentical'));\r\n\r\n        if (true) { // (Process.prototype.enableJS) {\r\n            blocks.push('-');\r\n            blocks.push(block('reportJSFunction'));\r\n        }\r\n\r\n    // for debugging: ///////////////\r\n\r\n        if (this.world().isDevMode) {\r\n            blocks.push('-');\r\n            txt = new TextMorph(localize(\r\n                'development mode \\ndebugging primitives:'\r\n            ));\r\n            txt.fontSize = 9;\r\n            txt.setColor(this.paletteTextColor);\r\n            blocks.push(txt);\r\n            blocks.push('-');\r\n            blocks.push(block('reportTypeOf'));\r\n            blocks.push(block('reportTextFunction'));\r\n        }\r\n\r\n    /////////////////////////////////\r\n\r\n        blocks.push('=');\r\n        blocks.push(this.makeBlockButton(cat));\r\n\r\n    } else if (cat === 'variables') {\r\n\r\n        button = new PushButtonMorph(\r\n            null,\r\n            function () {\r\n                new VariableDialogMorph(\r\n                    null,\r\n                    addVar,\r\n                    myself\r\n                ).prompt(\r\n                    'Variable name',\r\n                    null,\r\n                    myself.world()\r\n                );\r\n            },\r\n            'Make a variable'\r\n        );\r\n        button.userMenu = helpMenu;\r\n        button.selector = 'addVariable';\r\n        button.showHelp = BlockMorph.prototype.showHelp;\r\n        blocks.push(button);\r\n\r\n        if (this.deletableVariableNames().length > 0) {\r\n            button = new PushButtonMorph(\r\n                null,\r\n                function () {\r\n                    var menu = new MenuMorph(\r\n                        myself.deleteVariable,\r\n                        null,\r\n                        myself\r\n                    );\r\n                    myself.deletableVariableNames().forEach(function (name) {\r\n                        menu.addItem(name, name);\r\n                    });\r\n                    menu.popUpAtHand(myself.world());\r\n                },\r\n                'Delete a variable'\r\n            );\r\n            button.userMenu = helpMenu;\r\n            button.selector = 'deleteVariable';\r\n            button.showHelp = BlockMorph.prototype.showHelp;\r\n            blocks.push(button);\r\n        }\r\n\r\n        blocks.push('-');\r\n\r\n        varNames = this.variables.allNames();\r\n        if (varNames.length > 0) {\r\n            varNames.forEach(function (name) {\r\n                blocks.push(variableWatcherToggle(name));\r\n                blocks.push(variableBlock(name));\r\n            });\r\n            blocks.push('-');\r\n        }\r\n\r\n        blocks.push(block('doSetVar'));\r\n        blocks.push(block('doChangeVar'));\r\n        blocks.push(block('doShowVar'));\r\n        blocks.push(block('doHideVar'));\r\n        blocks.push(block('doDeclareVariables'));\r\n\r\n    // inheritance:\r\n\r\n        if (StageMorph.prototype.enableInheritance) {\r\n            blocks.push('-');\r\n            blocks.push(block('doDeleteAttr'));\r\n        }\r\n\r\n    ///////////////////////////////\r\n\r\n        blocks.push('=');\r\n\r\n        blocks.push(block('reportNewList'));\r\n        blocks.push('-');\r\n        blocks.push(block('reportCONS'));\r\n        blocks.push(block('reportListItem'));\r\n        blocks.push(block('reportCDR'));\r\n        blocks.push('-');\r\n        blocks.push(block('reportListLength'));\r\n        blocks.push(block('reportListContainsItem'));\r\n        blocks.push('-');\r\n        blocks.push(block('doAddToList'));\r\n        blocks.push(block('doDeleteFromList'));\r\n        blocks.push(block('doInsertInList'));\r\n        blocks.push(block('doReplaceInList'));\r\n\r\n    // for debugging: ///////////////\r\n\r\n        if (this.world().isDevMode) {\r\n            blocks.push('-');\r\n            txt = new TextMorph(localize(\r\n                'development mode \\ndebugging primitives:'\r\n            ));\r\n            txt.fontSize = 9;\r\n            txt.setColor(this.paletteTextColor);\r\n            blocks.push(txt);\r\n            blocks.push('-');\r\n            blocks.push(block('reportMap'));\r\n            blocks.push('-');\r\n            blocks.push(block('doForEach'));\r\n            blocks.push(block('doShowTable'));\r\n        }\r\n\r\n    /////////////////////////////////\r\n\r\n        blocks.push('=');\r\n\r\n        if (StageMorph.prototype.enableCodeMapping) {\r\n            blocks.push(block('doMapCodeOrHeader'));\r\n            blocks.push(block('doMapValueCode'));\r\n            blocks.push(block('doMapListCode'));\r\n            blocks.push('-');\r\n            blocks.push(block('reportMappedCode'));\r\n            blocks.push('=');\r\n        }\r\n\r\n        blocks.push(this.makeBlockButton());\r\n\r\n \t}\r\n    return blocks;\r\n};\r\n\r\nSpriteMorph.prototype.makeBlockButton = function (category) {\r\n\t// answer a button that prompts the user to make a new block\r\n    var button = new PushButtonMorph(\r\n        this,\r\n\t\t'makeBlock',\r\n        'Make a block'\r\n    );\r\n\r\n    button.userMenu = function () {\r\n        var menu = new MenuMorph(this);\r\n        menu.addItem('help...', 'showHelp');\r\n        return menu;\r\n    };\r\n\r\n    button.selector = 'addCustomBlock';\r\n    button.showHelp = BlockMorph.prototype.showHelp;\r\n    return button;\r\n};\r\n\r\nSpriteMorph.prototype.makeBlock = function () {\r\n    // prompt the user to make a new block\r\n    var ide = this.parentThatIsA(IDE_Morph),\r\n        stage = this.parentThatIsA(StageMorph),\r\n        category = ide.currentCategory,\r\n        clr = SpriteMorph.prototype.blockColor[category],\r\n        myself = this,\r\n        dlg;\r\n    dlg = new BlockDialogMorph(\r\n        null,\r\n        function (definition) {\r\n            if (definition.spec !== '') {\r\n                if (definition.isGlobal) {\r\n                    stage.globalBlocks.push(definition);\r\n                } else {\r\n                    myself.customBlocks.push(definition);\r\n                }\r\n                ide.flushPaletteCache();\r\n                ide.refreshPalette();\r\n                new BlockEditorMorph(definition, myself).popUp();\r\n            }\r\n        },\r\n        myself\r\n    );\r\n    if (category !== 'variables') {\r\n        dlg.category = category;\r\n        dlg.categories.children.forEach(function (each) {\r\n            each.refresh();\r\n        });\r\n        dlg.types.children.forEach(function (each) {\r\n            each.setColor(clr);\r\n        each.refresh();\r\n        });\r\n    }\r\n    dlg.prompt(\r\n        'Make a block',\r\n        null,\r\n        myself.world()\r\n    );\r\n};\r\n\r\nSpriteMorph.prototype.palette = function (category) {\r\n    if (!this.paletteCache[category]) {\r\n        this.paletteCache[category] = this.freshPalette(category);\r\n    }\r\n    return this.paletteCache[category];\r\n};\r\n\r\nSpriteMorph.prototype.freshPalette = function (category) {\r\n    var palette = new ScrollFrameMorph(null, null, this.sliderColor),\r\n        unit = SyntaxElementMorph.prototype.fontSize,\r\n        x = 0,\r\n        y = 5,\r\n        ry = 0,\r\n        blocks,\r\n        hideNextSpace = false,\r\n        myself = this,\r\n        stage = this.parentThatIsA(StageMorph),\r\n        oldFlag = Morph.prototype.trackChanges,\r\n        shade = new Color(140, 140, 140),\r\n        searchButton,\r\n        makeButton;\r\n\r\n    Morph.prototype.trackChanges = false;\r\n\r\n    palette.owner = this;\r\n    palette.padding = unit / 2;\r\n    palette.color = this.paletteColor;\r\n    palette.growth = new Point(0, MorphicPreferences.scrollBarSize);\r\n\r\n    // toolbar:\r\n    \r\n    palette.toolBar = new AlignmentMorph('column');\r\n\r\n    searchButton = new PushButtonMorph(\r\n        this,\r\n        \"searchBlocks\",\r\n        new SymbolMorph(\"magnifierOutline\", 16)\r\n    );\r\n    searchButton.alpha = 0.2;\r\n    searchButton.padding = 1;\r\n    searchButton.hint = localize('find blocks') + '...';\r\n    searchButton.labelShadowColor = shade;\r\n    searchButton.drawNew();\r\n    searchButton.fixLayout();\r\n\tpalette.toolBar.add(searchButton); // Wiquid control the magnify icon for blocks research\r\n\r\n    makeButton = new PushButtonMorph(\r\n        this,\r\n        \"makeBlock\",\r\n        new SymbolMorph(\"cross\", 16)\r\n    );\r\n    makeButton.alpha = 0.2;\r\n    makeButton.padding = 1;\r\n    makeButton.hint = localize('Make a block') + '...';\r\n    makeButton.labelShadowColor = shade;\r\n    makeButton.drawNew();\r\n    makeButton.fixLayout();\r\n    palette.toolBar.add(makeButton);// Wiquid control the plus icon to add blocks\r\n\r\n\tpalette.toolBar.fixLayout();\r\n    palette.add(palette.toolBar); // Wiquid control the whole toolbar\r\n\r\n    // menu:\r\n    palette.userMenu = function () {\r\n        var menu = new MenuMorph(),\r\n            ide = this.parentThatIsA(IDE_Morph),\r\n            more = {\r\n                operators:\r\n                    ['reifyScript', 'reifyReporter', 'reifyPredicate'],\r\n                control:\r\n                    ['doWarp'],\r\n                variables:\r\n                    [\r\n                        'doDeclareVariables',\r\n                        'reportNewList',\r\n                        'reportCONS',\r\n                        'reportListItem',\r\n                        'reportCDR',\r\n                        'reportListLength',\r\n                        'reportListContainsItem',\r\n                        'doAddToList',\r\n                        'doDeleteFromList',\r\n                        'doInsertInList',\r\n                        'doReplaceInList'\r\n                    ]\r\n            };\r\n\r\n        function hasHiddenPrimitives() {\r\n            var defs = SpriteMorph.prototype.blocks,\r\n                hiddens = StageMorph.prototype.hiddenPrimitives;\r\n            return Object.keys(hiddens).some(function (any) {\r\n                return !isNil(defs[any]) && (defs[any].category === category\r\n                    || contains((more[category] || []), any));\r\n            });\r\n        }\r\n\r\n        function canHidePrimitives() {\r\n            return palette.contents.children.some(function (any) {\r\n                return contains(\r\n                    Object.keys(SpriteMorph.prototype.blocks),\r\n                    any.selector\r\n                );\r\n            });\r\n        }\r\n\r\n        menu.addPair(\r\n            [\r\n                new SymbolMorph(\r\n                    'magnifyingGlass',\r\n                    MorphicPreferences.menuFontSize\r\n                ),\r\n                localize('find blocks') + '...'\r\n            ],\r\n            function () {myself.searchBlocks(); },\r\n            '^F'\r\n        );\r\n        if (canHidePrimitives()) {\r\n            menu.addItem(\r\n                'hide primitives',\r\n                function () {\r\n                    var defs = SpriteMorph.prototype.blocks;\r\n                    Object.keys(defs).forEach(function (sel) {\r\n                        if (defs[sel].category === category) {\r\n                            StageMorph.prototype.hiddenPrimitives[sel] = true;\r\n                        }\r\n                    });\r\n                    (more[category] || []).forEach(function (sel) {\r\n                        StageMorph.prototype.hiddenPrimitives[sel] = true;\r\n                    });\r\n                    ide.flushBlocksCache(category);\r\n                    ide.refreshPalette();\r\n                }\r\n            );\r\n        }\r\n        if (hasHiddenPrimitives()) {\r\n            menu.addItem(\r\n                'show primitives',\r\n                function () {\r\n                    var hiddens = StageMorph.prototype.hiddenPrimitives,\r\n                        defs = SpriteMorph.prototype.blocks;\r\n                    Object.keys(hiddens).forEach(function (sel) {\r\n                        if (defs[sel] && (defs[sel].category === category)) {\r\n                            delete StageMorph.prototype.hiddenPrimitives[sel];\r\n                        }\r\n                    });\r\n                    (more[category] || []).forEach(function (sel) {\r\n                        delete StageMorph.prototype.hiddenPrimitives[sel];\r\n                    });\r\n                    ide.flushBlocksCache(category);\r\n                    ide.refreshPalette();\r\n                }\r\n            );\r\n        }\r\n        return menu;\r\n    };\r\n\r\n    // primitives:\r\n\r\n    blocks = this.blocksCache[category];\r\n    if (!blocks) {\r\n        blocks = this.blockTemplates(category);\r\n        if (this.isCachingPrimitives) {\r\n            this.blocksCache[category] = blocks;\r\n        }\r\n    }\r\n\r\n    blocks.forEach(function (block) {\r\n        if (block === null) {\r\n            return;\r\n        }\r\n        if (block === '-') {\r\n            if (hideNextSpace) {return; }\r\n            y += unit * 0.8;\r\n            hideNextSpace = true;\r\n        } else if (block === '=') {\r\n            if (hideNextSpace) {return; }\r\n            y += unit * 1.6;\r\n            hideNextSpace = true;\r\n        } else if (block === '#') {\r\n            x = 0;\r\n            y = ry;\r\n        } else {\r\n            hideNextSpace = false;\r\n            if (x === 0) {\r\n                y += unit * 0.3;\r\n            }\r\n            block.setPosition(new Point(x, y));\r\n            palette.addContents(block);\r\n            if (block instanceof ToggleMorph\r\n                    || (block instanceof RingMorph)) {\r\n                x = block.right() + unit / 2;\r\n                ry = block.bottom();\r\n            } else {\r\n                // if (block.fixLayout) {block.fixLayout(); }\r\n                x = 0;\r\n                y += block.height();\r\n            }\r\n        }\r\n    });\r\n\r\n    // global custom blocks:\r\n\r\n    if (stage) {\r\n        y += unit * 1.6;\r\n\r\n        stage.globalBlocks.forEach(function (definition) {\r\n            var block;\r\n            if (definition.category === category ||\r\n                    (category === 'variables'\r\n                        && contains(\r\n                            ['lists', 'other'],\r\n                            definition.category\r\n                        ))) {\r\n                block = definition.templateInstance();\r\n                y += unit * 0.3;\r\n                block.setPosition(new Point(x, y));\r\n                palette.addContents(block);\r\n                x = 0;\r\n                y += block.height();\r\n            }\r\n        });\r\n    }\r\n\r\n    // local custom blocks:\r\n\r\n    y += unit * 1.6;\r\n    this.customBlocks.forEach(function (definition) {\r\n        var block;\r\n        if (definition.category === category ||\r\n                (category === 'variables'\r\n                    && contains(\r\n                        ['lists', 'other'],\r\n                        definition.category\r\n                    ))) {\r\n            block = definition.templateInstance();\r\n            y += unit * 0.3;\r\n            block.setPosition(new Point(x, y));\r\n            palette.addContents(block);\r\n            x = 0;\r\n            y += block.height();\r\n        }\r\n    });\r\n\r\n    // inherited custom blocks:\r\n\r\n    // y += unit * 1.6;\r\n    if (this.exemplar) {\r\n        this.inheritedBlocks(true).forEach(function (definition) {\r\n            var block;\r\n            if (definition.category === category ||\r\n                    (category === 'variables'\r\n                        && contains(\r\n                            ['lists', 'other'],\r\n                            definition.category\r\n                        ))) {\r\n                block = definition.templateInstance();\r\n                y += unit * 0.3;\r\n                block.setPosition(new Point(x, y));\r\n                palette.addContents(block);\r\n                block.ghost();\r\n                x = 0;\r\n                y += block.height();\r\n            }\r\n        });\r\n    }\r\n\r\n    //layout\r\n\r\n    palette.scrollX(palette.padding);\r\n    palette.scrollY(palette.padding);\r\n\r\n    Morph.prototype.trackChanges = oldFlag;\r\n    return palette;\r\n};\r\n\r\n// SpriteMorph blocks searching\r\n\r\nSpriteMorph.prototype.blocksMatching = function (\r\n    searchString,\r\n    strictly,\r\n    types, // optional, ['hat', 'command', 'reporter', 'predicate']\r\n    varNames // optional, list of reachable unique variable names\r\n) {\r\n    // answer an array of block templates whose spec contains\r\n    // the given search string, ordered by descending relevance\r\n    // types is an optional array containing block types the search\r\n    // is limited to, e.g. \"command\", \"hat\", \"reporter\", \"predicate\".\r\n    // Note that \"predicate\" is not subsumed by \"reporter\" and has\r\n    // to be specified explicitly.\r\n    // if no types are specified all blocks are searched\r\n    var blocks = [],\r\n        blocksDict,\r\n        myself = this,\r\n        search = searchString.toLowerCase(),\r\n        stage = this.parentThatIsA(StageMorph),\r\n        reporterized;\r\n\r\n    if (!types || !types.length) {\r\n        types = ['hat', 'command', 'reporter', 'predicate', 'ring'];\r\n    }\r\n    if (!varNames) {varNames = []; }\r\n\r\n    function labelOf(aBlockSpec) {\r\n        var words = (BlockMorph.prototype.parseSpec(aBlockSpec)),\r\n            filtered = words.filter(\r\n                function (each) {return (each.indexOf('%') !== 0); }\r\n            );\r\n        return filtered.join(' ');\r\n    }\r\n\r\n    function fillDigits(anInt, totalDigits, fillChar) {\r\n        var ans = String(anInt);\r\n        while (ans.length < totalDigits) {ans = fillChar + ans; }\r\n        return ans;\r\n    }\r\n\r\n    function relevance(aBlockLabel, aSearchString) {\r\n        var lbl = ' ' + aBlockLabel,\r\n            idx = lbl.indexOf(aSearchString),\r\n            atWord;\r\n        if (idx === -1) {return -1; }\r\n        atWord = (lbl.charAt(idx - 1) === ' ');\r\n        if (strictly && !atWord) {return -1; }\r\n        return (atWord ? '1' : '2') + fillDigits(idx, 4, '0');\r\n    }\r\n\r\n    function primitive(selector) {\r\n        var newBlock = SpriteMorph.prototype.blockForSelector(selector, true);\r\n        newBlock.isTemplate = true;\r\n        return newBlock;\r\n    }\r\n\r\n    // variable getters\r\n    varNames.forEach(function (vName) {\r\n        var rel = relevance(labelOf(vName.toLowerCase()), search);\r\n        if (rel !== -1) {\r\n            blocks.push([myself.variableBlock(vName), rel + '1']);\r\n        }\r\n    });\r\n    // custom blocks\r\n    [this.customBlocks, stage.globalBlocks].forEach(function (blocksList) {\r\n        blocksList.forEach(function (definition) {\r\n            if (contains(types, definition.type)) {\r\n                var spec = localize(definition.blockSpec()).toLowerCase(),\r\n                    rel = relevance(labelOf(spec), search);\r\n                if (rel !== -1) {\r\n                    blocks.push([definition.templateInstance(), rel + '2']);\r\n                }\r\n            }\r\n        });\r\n    });\r\n    // primitives\r\n    blocksDict = SpriteMorph.prototype.blocks;\r\n    Object.keys(blocksDict).forEach(function (selector) {\r\n        if (!StageMorph.prototype.hiddenPrimitives[selector] &&\r\n                contains(types, blocksDict[selector].type)) {\r\n            var block = blocksDict[selector],\r\n                spec = localize(block.alias || block.spec).toLowerCase(),\r\n                rel = relevance(labelOf(spec), search);\r\n            if (\r\n                (rel !== -1) &&\r\n                    (!block.dev) &&\r\n                    (!block.only || (block.only === myself.constructor))\r\n            ) {\r\n                blocks.push([primitive(selector), rel + '3']);\r\n            }\r\n        }\r\n    });\r\n    // infix arithmetic expression\r\n    if (contains(types, 'reporter')) {\r\n        reporterized = this.reporterize(searchString);\r\n        if (reporterized) {\r\n            // reporterized.isTemplate = true;\r\n            // reporterized.isDraggable = false;\r\n            blocks.push([reporterized, '']);\r\n        }\r\n    }\r\n    blocks.sort(function (x, y) {return x[1] < y[1] ? -1 : 1; });\r\n    return blocks.map(function (each) {return each[0]; });\r\n};\r\n\r\nSpriteMorph.prototype.searchBlocks = function (\r\n    searchString,\r\n    types,\r\n    varNames,\r\n    scriptFocus\r\n) {\r\n    var myself = this,\r\n        unit = SyntaxElementMorph.prototype.fontSize,\r\n        ide = this.parentThatIsA(IDE_Morph),\r\n        oldSearch = '',\r\n        searchBar = new InputFieldMorph(searchString || ''),\r\n        searchPane = ide.createPalette('forSearch'),\r\n        blocksList = [],\r\n        selection,\r\n        focus;\r\n\r\n    function showSelection() {\r\n        if (focus) {focus.destroy(); }\r\n        if (!selection || !scriptFocus) {return; }\r\n        focus = selection.outline(\r\n            MorphicPreferences.isFlat ? new Color(150, 200, 255)\r\n                    : new Color(255, 255, 255),\r\n            2\r\n        );\r\n        searchPane.contents.add(focus);\r\n        focus.scrollIntoView();\r\n    }\r\n\r\n    function show(blocks) {\r\n        var oldFlag = Morph.prototype.trackChanges,\r\n            x = searchPane.contents.left() + 5,\r\n            y = (searchBar.bottom() + unit);\r\n        blocksList = blocks;\r\n        selection = null;\r\n        if (blocks.length && scriptFocus) {\r\n            selection = blocks[0];\r\n        }\r\n        Morph.prototype.trackChanges = false;\r\n        searchPane.contents.children = [searchPane.contents.children[0]];\r\n        blocks.forEach(function (block) {\r\n            block.setPosition(new Point(x, y));\r\n            searchPane.addContents(block);\r\n            y += block.height();\r\n            y += unit * 0.3;\r\n        });\r\n        Morph.prototype.trackChanges = oldFlag;\r\n        showSelection();\r\n        searchPane.changed();\r\n    }\r\n\r\n    searchPane.owner = this;\r\n    searchPane.color = myself.paletteColor;\r\n    searchPane.contents.color = myself.paletteColor;\r\n    searchPane.addContents(searchBar);\r\n    searchBar.drawNew();\r\n    searchBar.setWidth(ide.logo.width() - 30);\r\n    searchBar.contrast = 90;\r\n    searchBar.setPosition(\r\n        searchPane.contents.topLeft().add(new Point(10, 10))\r\n    );\r\n    searchBar.drawNew();\r\n\r\n    searchPane.accept = function () {\r\n        var search;\r\n        if (scriptFocus) {\r\n            searchBar.cancel();\r\n            if (selection) {\r\n                scriptFocus.insertBlock(selection);\r\n            }\r\n        } else {\r\n            search = searchBar.getValue();\r\n            if (search.length > 0) {\r\n                show(myself.blocksMatching(search));\r\n            }\r\n        }\r\n    };\r\n\r\n    searchPane.reactToKeystroke = function (evt) {\r\n        var search, idx, code = evt ? evt.keyCode : 0;\r\n        switch (code) {\r\n        case 38: // up arrow\r\n            if (!scriptFocus || !selection) {return; }\r\n            idx = blocksList.indexOf(selection) - 1;\r\n            if (idx < 0) {\r\n                idx = blocksList.length - 1;\r\n            }\r\n            selection = blocksList[idx];\r\n            showSelection();\r\n            return;\r\n        case 40: // down arrow\r\n            if (!scriptFocus || !selection) {return; }\r\n            idx = blocksList.indexOf(selection) + 1;\r\n            if (idx >= blocksList.length) {\r\n                idx = 0;\r\n            }\r\n            selection = blocksList[idx];\r\n            showSelection();\r\n            return;\r\n        default:\r\n            search = searchBar.getValue();\r\n            if (search !== oldSearch) {\r\n                oldSearch = search;\r\n                show(myself.blocksMatching(\r\n                    search,\r\n                    search.length < 2,\r\n                    types,\r\n                    varNames\r\n                ));\r\n            }\r\n        }\r\n    };\r\n\r\n    searchBar.cancel = function () {\r\n        ide.refreshPalette();\r\n        ide.palette.adjustScrollBars();\r\n    };\r\n\r\n    ide.fixLayout('refreshPalette');\r\n    searchBar.edit();\r\n    if (searchString) {searchPane.reactToKeystroke(); }\r\n};\r\n\r\n// SpritMorph parsing simple arithmetic expressions to reporter blocks\r\n\r\nSpriteMorph.prototype.reporterize = function (expressionString) {\r\n    // highly experimental Christmas Easter Egg 2016 :-)\r\n    var ast;\r\n\r\n    function parseInfix(expression, operator, already) {\r\n        // very basic diadic infix parser for arithmetic expressions\r\n        // with strict left-to-right operator precedence (as in Smalltalk)\r\n        // which can be overriden by - nested - parentheses.\r\n        // assumes well-formed expressions, no graceful error handling yet.\r\n\r\n        var inputs = ['', ''],\r\n            idx = 0,\r\n            ch;\r\n\r\n        function format(value) {\r\n            return value instanceof Array || isNaN(+value) ? value : +value;\r\n        }\r\n\r\n        function nested() {\r\n            var level = 1,\r\n                expr = '';\r\n            while (idx < expression.length) {\r\n                ch = expression[idx];\r\n                idx += 1;\r\n                switch (ch) {\r\n                case '(':\r\n                    level += 1;\r\n                    break;\r\n                case ')':\r\n                    level -= 1;\r\n                    if (!level) {\r\n                        return expr;\r\n                    }\r\n                    break;\r\n                }\r\n                expr += ch;\r\n            }\r\n        }\r\n\r\n        while (idx < expression.length) {\r\n            ch = expression[idx];\r\n            idx += 1;\r\n            switch (ch) {\r\n            case ' ':\r\n                break;\r\n            case '(':\r\n                if (inputs[operator ? 1 : 0].length) {\r\n                    inputs[operator ? 1 : 0] = [\r\n                        inputs[operator ? 1 : 0],\r\n                        parseInfix(nested())\r\n                    ];\r\n                } else {\r\n                    inputs[operator ? 1 : 0] = parseInfix(nested());\r\n                }\r\n                break;\r\n            case '-':\r\n            case '+':\r\n            case '*':\r\n            case '/':\r\n            case '%':\r\n            case '=':\r\n            case '<':\r\n            case '>':\r\n            case '&':\r\n            case '|':\r\n                if (!operator && !inputs[0].length) {\r\n                    inputs[0] = ch;\r\n                } else if (operator) {\r\n                    if (!inputs[1].length) {\r\n                        inputs[1] = ch;\r\n                    } else {\r\n                        return parseInfix(\r\n                            expression.slice(idx),\r\n                            ch,\r\n                            [operator, already, format(inputs[1])]\r\n                        );\r\n                    }\r\n                } else {\r\n                    operator = ch;\r\n                    already = format(inputs[0]);\r\n                }\r\n                break;\r\n            default:\r\n                inputs[operator ? 1 : 0] += ch;\r\n            }\r\n        }\r\n        if (operator) {\r\n            return [operator, already, format(inputs[1])];\r\n        }\r\n        return format(inputs[0]);\r\n    }\r\n\r\n    function blockFromAST(ast) {\r\n        var block, selectors, monads, alias, key, sel, i, inps,\r\n            off = 1,\r\n            reverseDict = {};\r\n        selectors = {\r\n            '+': 'reportSum',\r\n            '-': 'reportDifference',\r\n            '*': 'reportProduct',\r\n            '/': 'reportQuotient',\r\n            '%': 'reportModulus',\r\n            '=': 'reportEquals',\r\n            '<': 'reportLessThan',\r\n            '>': 'reportGreaterThan',\r\n            '&': 'reportAnd',\r\n            '|': 'reportOr',\r\n            round: 'reportRound',\r\n            not: 'reportNot'\r\n        };\r\n        monads = ['abs', 'ceiling', 'floor', 'sqrt', 'sin', 'cos', 'tan',\r\n            'asin', 'acos', 'atan', 'ln', 'log', 'round', 'not'];\r\n        alias = {\r\n            ceil: 'ceiling',\r\n            '!' : 'not'\r\n        };\r\n        monads.concat(['true', 'false']).forEach(function (word) {\r\n            reverseDict[localize(word).toLowerCase()] = word;\r\n        });\r\n        key = alias[ast[0]] || reverseDict[ast[0].toLowerCase()] || ast[0];\r\n        if (contains(monads, key)) { // monadic\r\n            sel = selectors[key];\r\n            if (sel) { // single input\r\n                block = SpriteMorph.prototype.blockForSelector(sel);\r\n                inps = block.inputs();\r\n            } else { // two inputs, first is function name\r\n                block = SpriteMorph.prototype.blockForSelector('reportMonadic');\r\n                inps = block.inputs();\r\n                inps[0].setContents([key]);\r\n                off = 0;\r\n            }\r\n        } else { // diadic\r\n            block = SpriteMorph.prototype.blockForSelector(selectors[key]);\r\n            inps = block.inputs();\r\n        }\r\n        for (i = 1; i < ast.length; i += 1) {\r\n            if (ast[i] instanceof Array) {\r\n                block.silentReplaceInput(inps[i - off], blockFromAST(ast[i]));\r\n            } else if (isString(ast[i])) {\r\n                if (contains(\r\n                    ['true', 'false'], reverseDict[ast[i]] || ast[i])\r\n                ) {\r\n                    block.silentReplaceInput(\r\n                        inps[i - off],\r\n                        SpriteMorph.prototype.blockForSelector(\r\n                            (reverseDict[ast[i]] || ast[i]) === 'true' ?\r\n                                    'reportTrue' : 'reportFalse'\r\n                        )\r\n                    );\r\n                } else if (ast[i] !== '_') {\r\n                    block.silentReplaceInput(\r\n                        inps[i - off],\r\n                        SpriteMorph.prototype.variableBlock(ast[i])\r\n                    );\r\n                }\r\n            } else { // number\r\n                inps[i - off].setContents(ast[i]);\r\n            }\r\n        }\r\n        block.isDraggable = true;\r\n        block.fixLayout();\r\n        block.fixBlockColor(null, true);\r\n        return block;\r\n    }\r\n\r\n    if (expressionString.length > 100) {return null; }\r\n    try {\r\n        ast = parseInfix(expressionString);\r\n        return ast instanceof Array ? blockFromAST(ast) : null;\r\n    } catch (error) {\r\n        return null;\r\n    }\r\n};\r\n\r\n// SpriteMorph variable management\r\n\r\nSpriteMorph.prototype.addVariable = function (name, isGlobal) {\r\n    var ide = this.parentThatIsA(IDE_Morph);\r\n    if (isGlobal) {\r\n        this.globalVariables().addVar(name);\r\n        if (ide) {\r\n            ide.flushBlocksCache('variables');\r\n        }\r\n    } else {\r\n        this.variables.addVar(name);\r\n        this.blocksCache.variables = null;\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.deleteVariable = function (varName) {\r\n    var ide = this.parentThatIsA(IDE_Morph);\r\n    if (!contains(this.inheritedVariableNames(true), varName)) {\r\n        // check only shadowed variables\r\n        this.deleteVariableWatcher(varName);\r\n    }\r\n    this.variables.deleteVar(varName);\r\n    if (ide) {\r\n        ide.flushBlocksCache('variables'); // b/c the var could be global\r\n        ide.refreshPalette();\r\n    }\r\n};\r\n\r\n// SpriteMorph costume management\r\n\r\nSpriteMorph.prototype.addCostume = function (costume) {\r\n    if (!costume.name) {\r\n        costume.name = 'costume' + (this.costumes.length() + 1);\r\n    }\r\n    this.shadowAttribute('costumes');\r\n    this.costumes.add(costume);\r\n};\r\n\r\nSpriteMorph.prototype.wearCostume = function (costume, noShadow) {\r\n    var x = this.xPosition ? this.xPosition() : null,\r\n        y = this.yPosition ? this.yPosition() : null,\r\n        idx = isNil(costume) ? null : this.costumes.asArray().indexOf(costume),\r\n        isWarped = this.isWarped;\r\n    if (isWarped) {\r\n        this.endWarp();\r\n    }\r\n    this.changed();\r\n    this.costume = costume;\r\n    this.drawNew();\r\n    this.changed();\r\n    if (isWarped) {\r\n        this.startWarp();\r\n    }\r\n    if (x !== null) {\r\n        this.silentGotoXY(x, y, true); // just me\r\n    }\r\n    if (this.positionTalkBubble) { // the stage doesn't talk\r\n        this.positionTalkBubble();\r\n    }\r\n    this.version = Date.now();\r\n\r\n    // propagate to children that inherit my costume #\r\n    if (!noShadow) {\r\n        this.shadowAttribute('costume #');\r\n    }\r\n    this.specimens().forEach(function (instance) {\r\n        if (instance.cachedPropagation) {\r\n            if (instance.inheritsAttribute('costume #')) {\r\n                if (idx === null) {\r\n                    instance.wearCostume(null, true);\r\n                } else if (idx === -1) {\r\n                    instance.wearCostume(costume, true);\r\n                } else {\r\n                    instance.doSwitchToCostume(idx + 1, true);\r\n                }\r\n            }\r\n        }\r\n    });\r\n\r\n};\r\n\r\nSpriteMorph.prototype.getCostumeIdx = function () {\r\n    if (this.inheritsAttribute('costume #')) {\r\n        return this.exemplar.getCostumeIdx();\r\n    }\r\n    return this.costumes.asArray().indexOf(this.costume) + 1;\r\n};\r\n\r\nSpriteMorph.prototype.doWearNextCostume = function () {\r\n    var arr = this.costumes.asArray(),\r\n        idx;\r\n    if (arr.length > 1) {\r\n        idx = arr.indexOf(this.costume);\r\n        if (idx > -1) {\r\n            idx += 1;\r\n            if (idx > (arr.length - 1)) {\r\n                idx = 0;\r\n            }\r\n            this.wearCostume(arr[idx]);\r\n        }\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.doWearPreviousCostume = function () {\r\n    var arr = this.costumes.asArray(),\r\n        idx;\r\n    if (arr.length > 1) {\r\n        idx = arr.indexOf(this.costume);\r\n        if (idx > -1) {\r\n            idx -= 1;\r\n            if (idx < 0) {\r\n                idx = arr.length - 1;\r\n            }\r\n            this.wearCostume(arr[idx]);\r\n        }\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.doSwitchToCostume = function (id, noShadow) {\r\n    if (id instanceof Costume) { // allow first-class costumes\r\n        this.wearCostume(id, noShadow);\r\n        return;\r\n    }\r\n\r\n    var num,\r\n        arr = this.costumes.asArray(),\r\n        costume;\r\n    if (\r\n        contains(\r\n            [localize('Turtle'), localize('Empty')],\r\n            (id instanceof Array ? id[0] : null)\r\n        )\r\n    ) {\r\n        costume = null;\r\n    } else {\r\n        if (id === -1) {\r\n            this.doWearPreviousCostume();\r\n            return;\r\n        }\r\n        costume = detect(arr, function (cst) {\r\n            return cst.name === id;\r\n        });\r\n        if (costume === null) {\r\n            num = parseFloat(id);\r\n            if (num === 0) {\r\n                costume = null;\r\n            } else {\r\n                costume = arr[num - 1] || null;\r\n            }\r\n        }\r\n    }\r\n    this.wearCostume(costume, noShadow);\r\n};\r\n\r\nSpriteMorph.prototype.reportCostumes = function () {\r\n    return this.costumes;\r\n};\r\n\r\n// SpriteMorph sound management\r\n\r\nSpriteMorph.prototype.addSound = function (audio, name) {\r\n    this.shadowAttribute('sounds');\r\n    this.sounds.add(new Sound(audio, name));\r\n};\r\n\r\nSpriteMorph.prototype.playSound = function (name) {\r\n    var stage = this.parentThatIsA(StageMorph),\r\n        sound = name instanceof Sound ? name : detect(\r\n            this.sounds.asArray(),\r\n            function (s) {return s.name === name; }\r\n        ),\r\n        active;\r\n    if (sound) {\r\n        active = sound.play();\r\n        if (stage) {\r\n            stage.activeSounds.push(active);\r\n            stage.activeSounds = stage.activeSounds.filter(function (aud) {\r\n                return !aud.ended && !aud.terminated;\r\n            });\r\n        }\r\n        return active;\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.reportSounds = function () {\r\n    return this.sounds;\r\n};\r\n\r\n// SpriteMorph user menu\r\n\r\nSpriteMorph.prototype.userMenu = function () {\r\n    var ide = this.parentThatIsA(IDE_Morph),\r\n        menu = new MenuMorph(this);\r\n\r\n    if (ide && ide.isAppMode) {\r\n        // menu.addItem('help', 'nop');\r\n        return menu;\r\n    }\r\n    if (!this.isTemporary) {\r\n        menu.addItem(\"duplicate\", 'duplicate');\r\n        if (StageMorph.prototype.enableInheritance) {\r\n            menu.addItem(\"clone\", 'instantiate');\r\n            menu.addLine();\r\n        }\r\n    }\r\n    menu.addItem(\"delete\", 'remove');\r\n    menu.addItem(\"move\", 'moveCenter');\r\n    if (this.costume) {\r\n        menu.addItem(\r\n            \"pivot\",\r\n            'moveRotationCenter',\r\n            'edit the costume\\'s\\nrotation center'\r\n        );\r\n    }\r\n    if (this.isTemporary) {\r\n        if (StageMorph.prototype.enableInheritance) {\r\n            menu.addItem(\r\n                \"edit\",\r\n                'perpetuateAndEdit',\r\n                'make permanent and\\nshow in the sprite corral'\r\n            );\r\n        }\r\n    } else {\r\n        menu.addItem(\"edit\", 'edit');\r\n    }\r\n    menu.addLine();\r\n    if (this.anchor) {\r\n        menu.addItem(\r\n            localize('detach from') + ' ' + this.anchor.name,\r\n            'detachFromAnchor'\r\n        );\r\n    }\r\n    if (this.parts.length) {\r\n        menu.addItem('detach all parts', 'detachAllParts');\r\n    }\r\n    menu.addItem(\"export...\", 'exportSprite');\r\n    return menu;\r\n};\r\n\r\nSpriteMorph.prototype.exportSprite = function () {\r\n    if (this.isTemporary) {return; }\r\n    var ide = this.parentThatIsA(IDE_Morph);\r\n    if (ide) {\r\n        ide.exportSprite(this);\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.edit = function () {\r\n    var ide = this.parentThatIsA(IDE_Morph);\r\n    if (ide && !ide.isAppMode) {\r\n        ide.selectSprite(this);\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.showOnStage = function () {\r\n    var stage = this.parentThatIsA(StageMorph);\r\n    if (stage) {\r\n        this.keepWithin(stage);\r\n        stage.add(this);\r\n    }\r\n    this.show();\r\n};\r\n\r\nSpriteMorph.prototype.duplicate = function () {\r\n    var ide = this.parentThatIsA(IDE_Morph);\r\n    if (ide) {\r\n        ide.duplicateSprite(this);\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.instantiate = function () {\r\n    var ide = this.parentThatIsA(IDE_Morph);\r\n    if (ide) {\r\n        ide.instantiateSprite(this);\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.remove = function () {\r\n    var ide = this.parentThatIsA(IDE_Morph);\r\n    if (ide) {\r\n        ide.removeSprite(this);\r\n    }\r\n};\r\n\r\n// SpriteMorph cloning\r\n\r\n/*\r\n    clones are temporary, partially shallow copies of sprites that don't\r\n    appear as icons in the corral. Clones get deleted when the red stop button\r\n    is pressed. Shallow-copying clones' scripts and costumes makes spawning\r\n    very fast, so they can be used for particle system simulations.\r\n    This speed-up, however, comes at the cost of some detrimental side\r\n    effects: Changes to a costume or a script of the original sprite are\r\n    in some cases shared with all of its clones, however such shared changes\r\n    are hard to predict for users and not actively propagated, so they don't\r\n    offer any reliable feature, and will not be supported as such.\r\n    Changes to the original sprite's scripts affect all of its clones, unless\r\n    the script contains any custom block whose definition contains one or more\r\n    block variables (in which case the script does get deep-copied).\r\n    The original sprite's scripting area, costumes wardrobe or sounds jukebox\r\n    are also not shared. therefore adding or deleting a script, sound or\r\n    costume in the original sprite has no effect on any of its clones.\r\n*/\r\n\r\nSpriteMorph.prototype.createClone = function (immediately) {\r\n    var stage = this.parentThatIsA(StageMorph),\r\n        clone;\r\n    if (stage && stage.cloneCount <= 5000) {\r\n        clone = this.fullCopy(true);\r\n        clone.clonify(stage, immediately);\r\n    }\r\n    return clone;\r\n};\r\n\r\nSpriteMorph.prototype.newClone = function (immediately) {\r\n    var clone = this.createClone(immediately);\r\n    if (isNil(clone)) {\r\n        throw new Error('exceeding maximum number of clones');\r\n    }\r\n    return clone;\r\n};\r\n\r\nSpriteMorph.prototype.clonify = function (stage, immediately) {\r\n    var hats,\r\n        myself = this;\r\n    this.parts.forEach(function (part) {\r\n        part.clonify(stage);\r\n    });\r\n    stage.cloneCount += 1;\r\n    this.cloneOriginName = this.isTemporary ?\r\n            this.cloneOriginName : this.name;\r\n    this.isTemporary = true;\r\n    this.name = '';\r\n    stage.add(this);\r\n    hats = this.allHatBlocksFor('__clone__init__');\r\n    hats.forEach(function (block) {\r\n        stage.threads.startProcess(\r\n            block,\r\n            myself,\r\n            stage.isThreadSafe,\r\n            null, // export result\r\n            null, // callback\r\n            null, // is clicked\r\n            immediately // without yielding\r\n        );\r\n    });\r\n    this.endWarp();\r\n};\r\n\r\nSpriteMorph.prototype.initClone = function (hats) {\r\n    // used when manually instantiating a sprite in the IDE\r\n    var stage = this.parentThatIsA(StageMorph),\r\n        myself = this;\r\n    if (stage) {\r\n        hats.forEach(function (block) {\r\n            stage.threads.startProcess(block, myself, stage.isThreadSafe);\r\n        });\r\n        this.endWarp();\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.removeClone = function () {\r\n    var exemplar = this.exemplar;\r\n    if (this.isTemporary) {\r\n        // this.stopTalking();\r\n        this.parent.threads.stopAllForReceiver(this);\r\n        this.corpsify();\r\n        this.instances.forEach(function (child) {\r\n            if (child.isTemporary) {\r\n                child.setExemplar(exemplar);\r\n            }\r\n        });\r\n        this.destroy();\r\n        this.parent.cloneCount -= 1;\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.perpetuate = function () {\r\n    // make a temporary sprite (clone) permanent\r\n    var stage = this.parentThatIsA(StageMorph),\r\n        ide = this.parentThatIsA(IDE_Morph);\r\n\r\n\t// make sure my exemplar-chain is fully perpetuated\r\n    if (this.exemplar) {\r\n        this.exemplar.perpetuate();\r\n    }\r\n    if (!this.isTemporary || !stage || !ide) {\r\n        return;\r\n    }\r\n    this.isTemporary = false;\r\n    this.name = ide.newSpriteName(this.cloneOriginName);\r\n    this.cloneOriginName = '';\r\n    stage.cloneCount -= 1;\r\n    ide.corral.addSprite(this);\r\n    ide.sprites.add(this);\r\n    this.parts.forEach(function (part) {\r\n        part.perpetuate();\r\n    });\r\n};\r\n\r\nSpriteMorph.prototype.perpetuateAndEdit = function () {\r\n    var ide = this.parentThatIsA(IDE_Morph);\r\n    if (ide) {\r\n        this.perpetuate();\r\n        ide.selectSprite(this);\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.release = function () {\r\n    // turn a permenent sprite that's an instance of another one\r\n    // into a temporary one (clone), that will vanish either when\r\n    // the \"delete this clone\" operation is executed or when the user\r\n    // hits the red stop sign button in the IDE\r\n    var stage = this.parentThatIsA(StageMorph),\r\n        ide = this.parentThatIsA(IDE_Morph),\r\n        idx;\r\n\r\n    if (this.isTemporary || !this.exemplar || !stage || !ide) {\r\n        return;\r\n    }\r\n\r\n\t// make sure all parts and instances are also released\r\n    this.parts.forEach(function (part) {\r\n        part.release();\r\n    });\r\n    this.instances.forEach(function (inst) {\r\n    \tinst.release();\r\n    });\r\n    this.isTemporary = true;\r\n    this.name = '';\r\n    this.cloneOriginName = this.exemplar.name;\r\n    stage.cloneCount += 1;\r\n    idx = ide.sprites.asArray().indexOf(this) + 1;\r\n    stage.watchers().forEach(function (watcher) {\r\n        if (watcher.object() === this) {\r\n            watcher.destroy();\r\n        }\r\n    });\r\n    if (idx > 0) {\r\n        ide.sprites.remove(idx);\r\n    }\r\n    ide.createCorral();\r\n    ide.fixLayout();\r\n    if (ide.currentSprite === this) {\r\n        ide.currentSprite = detect(\r\n            stage.children,\r\n            function (morph) {\r\n                return morph instanceof SpriteMorph && !morph.isTemporary;\r\n            }\r\n        ) || this.stage;\r\n    }\r\n    ide.selectSprite(ide.currentSprite);\r\n};\r\n\r\n// SpriteMorph deleting\r\n\r\nSpriteMorph.prototype.corpsify = function () {\r\n    this.isCorpse = true;\r\n    this.version = Date.now();\r\n};\r\n\r\n// SpriteMorph primitives\r\n\r\n// SpriteMorph hiding and showing:\r\n\r\n/*\r\n    override the inherited behavior to also hide/show all\r\n    nested parts.\r\n*/\r\n\r\nSpriteMorph.prototype.hide = function () {\r\n    SpriteMorph.uber.hide.call(this);\r\n    this.parts.forEach(function (part) {part.hide(); });\r\n};\r\n\r\nSpriteMorph.prototype.show = function () {\r\n    SpriteMorph.uber.show.call(this);\r\n    this.parts.forEach(function (part) {part.show(); });\r\n};\r\n\r\n// SpriteMorph pen color\r\n\r\nSpriteMorph.prototype.setColor = function (aColor) {\r\n    var x = this.xPosition(),\r\n        y = this.yPosition();\r\n    if (!this.color.eq(aColor)) {\r\n        this.color = aColor.copy();\r\n        if (!this.costume) {\r\n            this.drawNew();\r\n            this.silentGotoXY(x, y);\r\n        }\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.getHue = function () {\r\n    return this.color.hsv()[0] * 100;\r\n};\r\n\r\nSpriteMorph.prototype.setHue = function (num) {\r\n    var hsv = this.color.hsv(),\r\n        x = this.xPosition(),\r\n        y = this.yPosition();\r\n\r\n    hsv[0] = Math.max(Math.min(+num || 0, 100), 0) / 100;\r\n    hsv[1] = 1; // we gotta fix this at some time\r\n    this.color.set_hsv.apply(this.color, hsv);\r\n    if (!this.costume) {\r\n        this.drawNew();\r\n        this.changed();\r\n    }\r\n    this.gotoXY(x, y);\r\n};\r\n\r\nSpriteMorph.prototype.changeHue = function (delta) {\r\n    this.setHue(this.getHue() + (+delta || 0));\r\n};\r\n\r\nSpriteMorph.prototype.getBrightness = function () {\r\n    return this.color.hsv()[2] * 100;\r\n};\r\n\r\nSpriteMorph.prototype.setBrightness = function (num) {\r\n    var hsv = this.color.hsv(),\r\n        x = this.xPosition(),\r\n        y = this.yPosition();\r\n\r\n    hsv[1] = 1; // we gotta fix this at some time\r\n    hsv[2] = Math.max(Math.min(+num || 0, 100), 0) / 100;\r\n    this.color.set_hsv.apply(this.color, hsv);\r\n    if (!this.costume) {\r\n        this.drawNew();\r\n        this.changed();\r\n    }\r\n    this.gotoXY(x, y);\r\n};\r\n\r\nSpriteMorph.prototype.changeBrightness = function (delta) {\r\n    this.setBrightness(this.getBrightness() + (+delta || 0));\r\n};\r\n\r\n// SpriteMorph layers\r\n\r\nSpriteMorph.prototype.comeToFront = function () {\r\n    if (this.parent) {\r\n        this.parent.add(this);\r\n        this.changed();\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.goBack = function (layers) {\r\n    var layer,\r\n        newLayer = +layers,\r\n        targetLayer;\r\n\r\n    if (!this.parent) {return null; }\r\n    layer = this.parent.children.indexOf(this);\r\n    this.parent.removeChild(this);\r\n    targetLayer = Math.max(layer - newLayer, 0);\r\n    this.parent.children.splice(targetLayer, null, this);\r\n    this.parent.changed();\r\n};\r\n\r\n// SpriteMorph collision detection optimization\r\n\r\nSpriteMorph.prototype.overlappingImage = function (otherSprite) {\r\n    // overrides method from Morph because Sprites aren't nested Morphs\r\n    var oRect = this.bounds.intersect(otherSprite.bounds),\r\n        oImg = newCanvas(oRect.extent(), true),\r\n        ctx = oImg.getContext('2d');\r\n\r\n    if (oRect.width() < 1 || oRect.height() < 1) {\r\n        return newCanvas(new Point(1, 1), true);\r\n    }\r\n    ctx.drawImage(\r\n        this.image,\r\n        this.left() - oRect.left(),\r\n        this.top() - oRect.top()\r\n    );\r\n    ctx.globalCompositeOperation = 'source-in';\r\n    ctx.drawImage(\r\n        otherSprite.image,\r\n        otherSprite.left() - oRect.left(),\r\n        otherSprite.top() - oRect.top()\r\n    );\r\n    return oImg;\r\n};\r\n\r\n// SpriteMorph stamping\r\n\r\nSpriteMorph.prototype.doStamp = function () {\r\n    var stage = this.parent,\r\n        context = stage.penTrails().getContext('2d'),\r\n        isWarped = this.isWarped,\r\n        originalAlpha = context.globalAlpha;\r\n\r\n    if (isWarped) {\r\n        this.endWarp();\r\n    }\r\n    context.save();\r\n    context.scale(1 / stage.scale, 1 / stage.scale);\r\n    context.globalAlpha = this.alpha;\r\n    context.drawImage(\r\n        this.image,\r\n        (this.left() - stage.left()),\r\n        (this.top() - stage.top())\r\n    );\r\n    context.globalAlpha = originalAlpha;\r\n    context.restore();\r\n    this.changed();\r\n    if (isWarped) {\r\n        this.startWarp();\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.clear = function () {\r\n    this.parent.clearPenTrails();\r\n};\r\n\r\n// SpriteMorph pen size\r\n\r\nSpriteMorph.prototype.setSize = function (size) {\r\n    // pen size\r\n    if (!isNaN(size)) {\r\n        this.size = Math.min(Math.max(+size, 0.0001), 1000);\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.changeSize = function (delta) {\r\n    this.setSize(this.size + (+delta || 0));\r\n};\r\n\r\n// SpriteMorph scale\r\n\r\nSpriteMorph.prototype.getScale = function () {\r\n    // answer my scale in percent\r\n    if (this.inheritsAttribute('size')) {\r\n        return this.exemplar.getScale();\r\n    }\r\n    return this.scale * 100;\r\n};\r\n\r\nSpriteMorph.prototype.setScale = function (percentage, noShadow) {\r\n    // set my (absolute) scale in percent\r\n    var x = this.xPosition(),\r\n        y = this.yPosition(),\r\n        isWarped = this.isWarped,\r\n        realScale,\r\n        growth;\r\n\r\n    if (isWarped) {\r\n        this.endWarp();\r\n    }\r\n    realScale = (+percentage || 0) / 100;\r\n    growth = realScale / this.nestingScale;\r\n    this.nestingScale = realScale;\r\n    this.scale = Math.max(realScale, 0.01);\r\n\r\n    // apply to myself\r\n    this.changed();\r\n    this.drawNew();\r\n    this.changed();\r\n    if (isWarped) {\r\n        this.startWarp();\r\n    }\r\n    this.silentGotoXY(x, y, true); // just me\r\n    this.positionTalkBubble();\r\n\r\n    // propagate to nested parts\r\n    this.parts.forEach(function (part) {\r\n        var xDist = part.xPosition() - x,\r\n            yDist = part.yPosition() - y;\r\n        part.setScale(part.scale * 100 * growth);\r\n        part.silentGotoXY(\r\n            x + (xDist * growth),\r\n            y + (yDist * growth)\r\n        );\r\n    });\r\n\r\n    // propagate to children that inherit my scale\r\n    if (!noShadow) {\r\n        this.shadowAttribute('size');\r\n    }\r\n    this.instances.forEach(function (instance) {\r\n        if (instance.cachedPropagation) {\r\n            if (instance.inheritsAttribute('size')) {\r\n                instance.setScale(percentage, true);\r\n            }\r\n        }\r\n    });\r\n};\r\n\r\nSpriteMorph.prototype.changeScale = function (delta) {\r\n    this.setScale(this.getScale() + (+delta || 0));\r\n};\r\n\r\n// Spritemorph graphic effects\r\n\r\nSpriteMorph.prototype.graphicsChanged = function () {\r\n    var myself = this;\r\n    return Object.keys(this.graphicsValues).some(\r\n        function (any) {\r\n            return myself.graphicsValues[any] < 0 ||\r\n                    myself.graphicsValues[any] > 0;\r\n        }\r\n    );\r\n};\r\n\r\nSpriteMorph.prototype.applyGraphicsEffects = function (canvas) {\r\n  // For every effect: apply transform of that effect(canvas, stored value)\r\n  // Graphic effects from Scratch are heavily based on ScratchPlugin.c\r\n\r\n    var ctx, imagedata;\r\n\r\n    function transform_fisheye(imagedata, value) {\r\n        var pixels, newImageData, newPixels, centerX, centerY,\r\n            w, h, x, y, dx, dy, r, angle, srcX, srcY, i, srcI;\r\n\r\n        w = imagedata.width;\r\n        h = imagedata.height;\r\n        pixels = imagedata.data;\r\n        newImageData = ctx.createImageData(w, h);\r\n        newPixels = newImageData.data;\r\n\r\n        centerX = w / 2;\r\n        centerY = h / 2;\r\n        value = Math.max(0, (value + 100) / 100);\r\n        for (y = 0; y < h; y++) {\r\n            for (x = 0; x < w; x++) {\r\n                dx = (x - centerX) / centerX;\r\n                dy = (y - centerY) / centerY;\r\n                r = Math.pow(Math.sqrt(dx * dx + dy * dy), value);\r\n                if (r <= 1) {\r\n                    angle = Math.atan2(dy, dx);\r\n                    srcX = Math.floor(\r\n                        centerX + (r * Math.cos(angle) * centerX)\r\n                    );\r\n                    srcY = Math.floor(\r\n                        centerY + (r * Math.sin(angle) * centerY)\r\n                    );\r\n                } else {\r\n                    srcX = x;\r\n                    srcY = y;\r\n                }\r\n                i = (y * w + x) * 4;\r\n                srcI = (srcY * w + srcX) * 4;\r\n                newPixels[i] = pixels[srcI];\r\n                newPixels[i + 1] = pixels[srcI + 1];\r\n                newPixels[i + 2] = pixels[srcI + 2];\r\n                newPixels[i + 3] = pixels[srcI + 3];\r\n            }\r\n        }\r\n        return newImageData;\r\n    }\r\n\r\n    function transform_whirl(imagedata, value) {\r\n        var pixels, newImageData, newPixels, w, h, centerX, centerY,\r\n            x, y, radius, scaleX, scaleY, whirlRadians, radiusSquared,\r\n            dx, dy, d, factor, angle, srcX, srcY, i, srcI, sina, cosa;\r\n\r\n        w = imagedata.width;\r\n        h = imagedata.height;\r\n        pixels = imagedata.data;\r\n        newImageData = ctx.createImageData(w, h);\r\n        newPixels = newImageData.data;\r\n\r\n        centerX = w / 2;\r\n        centerY = h / 2;\r\n        radius = Math.min(centerX, centerY);\r\n        if (w < h) {\r\n            scaleX = h / w;\r\n            scaleY = 1;\r\n        } else {\r\n            scaleX = 1;\r\n            scaleY = w / h;\r\n        }\r\n        whirlRadians = -radians(value);\r\n        radiusSquared = radius * radius;\r\n        for (y = 0; y < h; y++) {\r\n            for (x = 0; x < w; x++) {\r\n                dx = scaleX * (x - centerX);\r\n                dy = scaleY * (y - centerY);\r\n                d = dx * dx + dy * dy;\r\n                if (d < radiusSquared) {\r\n                    factor = 1 - (Math.sqrt(d) / radius);\r\n                    angle = whirlRadians * (factor * factor);\r\n                    sina = Math.sin(angle);\r\n                    cosa = Math.cos(angle);\r\n                    srcX = Math.floor(\r\n                        (cosa * dx - sina * dy) / scaleX + centerX\r\n                    );\r\n                    srcY = Math.floor(\r\n                        (sina * dx + cosa * dy) / scaleY + centerY\r\n                    );\r\n                } else {\r\n                    srcX = x;\r\n                    srcY = y;\r\n                }\r\n                i = (y * w + x) * 4;\r\n                srcI = (srcY * w + srcX) * 4;\r\n                newPixels[i] = pixels[srcI];\r\n                newPixels[i + 1] = pixels[srcI + 1];\r\n                newPixels[i + 2] = pixels[srcI + 2];\r\n                newPixels[i + 3] = pixels[srcI + 3];\r\n            }\r\n        }\r\n        return newImageData;\r\n    }\r\n\r\n    function transform_pixelate(imagedata, value) {\r\n        var pixels, newImageData, newPixels, w, h,\r\n            x, y, srcX, srcY, i, srcI;\r\n\r\n        w = imagedata.width;\r\n        h = imagedata.height;\r\n        pixels = imagedata.data;\r\n        newImageData = ctx.createImageData(w, h);\r\n        newPixels = newImageData.data;\r\n\r\n        value = Math.floor(Math.abs(value / 10) + 1);\r\n        for (y = 0; y < h; y++) {\r\n            for (x = 0; x < w; x++) {\r\n                srcX = Math.floor(x / value) * value;\r\n                srcY = Math.floor(y / value) * value;\r\n                i = (y * w + x) * 4;\r\n                srcI = (srcY * w + srcX) * 4;\r\n                newPixels[i] = pixels[srcI];\r\n                newPixels[i + 1] = pixels[srcI + 1];\r\n                newPixels[i + 2] = pixels[srcI + 2];\r\n                newPixels[i + 3] = pixels[srcI + 3];\r\n            }\r\n        }\r\n        return newImageData;\r\n    }\r\n\r\n    function transform_mosaic(imagedata, value) {\r\n        var pixels, i, l, newImageData, newPixels, srcI;\r\n        pixels = imagedata.data;\r\n        newImageData = ctx.createImageData(imagedata.width, imagedata.height);\r\n        newPixels = newImageData.data;\r\n\r\n        value = Math.round((Math.abs(value) + 10) / 10);\r\n        value = Math.max(\r\n            0,\r\n            Math.min(value, Math.min(imagedata.width, imagedata.height))\r\n        );\r\n        for (i = 0, l = pixels.length; i < l; i += 4) {\r\n            srcI = i * value % l;\r\n            newPixels[i] = pixels[srcI];\r\n            newPixels[i + 1] = pixels[srcI + 1];\r\n            newPixels[i + 2] = pixels[srcI + 2];\r\n            newPixels[i + 3] = pixels[srcI + 3];\r\n        }\r\n        return newImageData;\r\n    }\r\n\r\n    function transform_duplicate(imagedata, value) {\r\n        var pixels, i;\r\n        pixels = imagedata.data;\r\n        for (i = 0; i < pixels.length; i += 4) {\r\n            pixels[i] = pixels[i * value];\r\n            pixels[i + 1] = pixels[i * value + 1];\r\n            pixels[i + 2] = pixels[i * value + 2];\r\n            pixels[i + 3] = pixels[i * value + 3];\r\n        }\r\n        return imagedata;\r\n    }\r\n\r\n    function transform_HSV(\r\n            imagedata,\r\n            hueShift,\r\n            saturationShift,\r\n            brightnessShift\r\n    ) {\r\n        var pixels, index, l, r, g, b, max, min, span,\r\n            h, s, v, i, f, p, q, t, newR, newG, newB;\r\n        pixels = imagedata.data;\r\n        for (index = 0, l = pixels.length; index < l; index += 4) {\r\n            r = pixels[index];\r\n            g = pixels[index + 1];\r\n            b = pixels[index + 2];\r\n\r\n            max = Math.max(r, g, b);\r\n            min = Math.min(r, g, b);\r\n            span = max - min;\r\n            if (span === 0) {\r\n                h = s = 0;\r\n            } else {\r\n                if (max === r) {\r\n                    h = (60 * (g - b)) / span;\r\n                } else if (max === g) {\r\n                    h = 120 + ((60 * (b - r)) / span);\r\n                } else if (max === b) {\r\n                    h = 240 + ((60 * (r - g)) / span);\r\n                }\r\n                s = (max - min) / max;\r\n            }\r\n            if (h < 0) {\r\n                h += 360;\r\n            }\r\n            v = max / 255;\r\n\r\n            h = (h + hueShift * 360 / 200) % 360;\r\n            s = Math.max(0, Math.min(s + saturationShift / 100, 1));\r\n            v = Math.max(0, Math.min(v + brightnessShift / 100, 1));\r\n\r\n            i = Math.floor(h / 60);\r\n            f = (h / 60) - i;\r\n            p = v * (1 - s);\r\n            q = v * (1 - (s * f));\r\n            t = v * (1 - (s * (1 - f)));\r\n\r\n            if (i === 0 || i === 6) {\r\n                newR = v;\r\n                newG = t;\r\n                newB = p;\r\n            } else if (i === 1) {\r\n                newR = q;\r\n                newG = v;\r\n                newB = p;\r\n            } else if (i === 2) {\r\n                newR = p;\r\n                newG = v;\r\n                newB = t;\r\n            } else if (i === 3) {\r\n                newR = p;\r\n                newG = q;\r\n                newB = v;\r\n            } else if (i === 4) {\r\n                newR = t;\r\n                newG = p;\r\n                newB = v;\r\n            } else if (i === 5) {\r\n                newR = v;\r\n                newG = p;\r\n                newB = q;\r\n            }\r\n\r\n            pixels[index] = newR * 255;\r\n            pixels[index + 1] = newG * 255;\r\n            pixels[index + 2] = newB * 255;\r\n        }\r\n        return imagedata;\r\n    }\r\n\r\n    function transform_negative (imagedata, value) {\r\n        var pixels, i, l, rcom, gcom, bcom;\r\n        pixels = imagedata.data;\r\n        for (i = 0, l = pixels.length; i < l; i += 4) {\r\n            rcom = 255 - pixels[i];\r\n            gcom = 255 - pixels[i + 1];\r\n            bcom = 255 - pixels[i + 2];\r\n\r\n            if (pixels[i] < rcom) { //compare to the complement\r\n                pixels[i] += value;\r\n            } else if (pixels[i] > rcom) {\r\n                pixels[i] -= value;\r\n            }\r\n            if (pixels[i + 1] < gcom) {\r\n                pixels[i + 1] += value;\r\n            } else if (pixels[i + 1] > gcom) {\r\n                pixels[i + 1] -= value;\r\n            }\r\n            if (pixels[i + 2] < bcom) {\r\n                pixels[i + 2] += value;\r\n            } else if (pixels[i + 2] > bcom) {\r\n                pixels[i + 2] -= value;\r\n            }\r\n        }\r\n        return imagedata;\r\n    }\r\n\r\n    function transform_comic (imagedata, value) {\r\n        var pixels, i, l;\r\n        pixels = imagedata.data;\r\n        for (i = 0, l = pixels.length; i < l; i += 4) {\r\n            pixels[i] += Math.sin(i * value) * 127 + 128;\r\n            pixels[i + 1] += Math.sin(i * value) * 127 + 128;\r\n            pixels[i + 2] += Math.sin(i * value) * 127 + 128;\r\n        }\r\n        return imagedata;\r\n    }\r\n\r\n    function transform_confetti (imagedata, value) {\r\n        var pixels, i, l;\r\n        pixels = imagedata.data;\r\n        for (i = 0, l = pixels.length; i < l; i += 1) {\r\n            pixels[i] = Math.sin(value * pixels[i]) * 127 + pixels[i];\r\n        }\r\n        return imagedata;\r\n    }\r\n\r\n    if (this.graphicsChanged()) {\r\n        ctx = canvas.getContext(\"2d\");\r\n        imagedata = ctx.getImageData(0, 0, canvas.width, canvas.height);\r\n\r\n        if (this.graphicsValues.fisheye) {\r\n            imagedata = transform_fisheye(\r\n                imagedata,\r\n                this.graphicsValues.fisheye\r\n            );\r\n        }\r\n        if (this.graphicsValues.whirl) {\r\n            imagedata = transform_whirl(\r\n                imagedata,\r\n                this.graphicsValues.whirl\r\n            );\r\n        }\r\n        if (this.graphicsValues.pixelate) {\r\n            imagedata = transform_pixelate(\r\n                imagedata,\r\n                this.graphicsValues.pixelate\r\n            );\r\n        }\r\n        if (this.graphicsValues.mosaic) {\r\n            imagedata = transform_mosaic(\r\n                imagedata,\r\n                this.graphicsValues.mosaic\r\n            );\r\n        }\r\n        if (this.graphicsValues.duplicate) {\r\n            imagedata = transform_duplicate(\r\n                imagedata,\r\n                this.graphicsValues.duplicate\r\n            );\r\n        }\r\n        if (this.graphicsValues.color ||\r\n                this.graphicsValues.saturation ||\r\n                this.graphicsValues.brightness) {\r\n            imagedata = transform_HSV(\r\n                imagedata,\r\n                this.graphicsValues.color,\r\n                this.graphicsValues.saturation,\r\n                this.graphicsValues.brightness\r\n            );\r\n        }\r\n        if (this.graphicsValues.negative) {\r\n            imagedata = transform_negative(\r\n                imagedata,\r\n                this.graphicsValues.negative\r\n            );\r\n        }\r\n        if (this.graphicsValues.comic) {\r\n            imagedata = transform_comic(\r\n                imagedata,\r\n                this.graphicsValues.comic\r\n            );\r\n        }\r\n        if (this.graphicsValues.confetti) {\r\n            imagedata = transform_confetti(\r\n                imagedata,\r\n                this.graphicsValues.confetti\r\n            );\r\n        }\r\n\r\n        ctx.putImageData(imagedata, 0, 0);\r\n    }\r\n\r\n    return canvas;\r\n};\r\n\r\nSpriteMorph.prototype.setEffect = function (effect, value) {\r\n    var eff = effect instanceof Array ? effect[0] : null;\r\n    if (eff === 'ghost') {\r\n        this.alpha = 1 - Math.min(Math.max(+value || 0, 0), 100) / 100;\r\n    } else {\r\n        this.graphicsValues[eff] = +value;\r\n    }\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nSpriteMorph.prototype.getGhostEffect = function () {\r\n    return (1 - this.alpha) * 100;\r\n};\r\n\r\nSpriteMorph.prototype.changeEffect = function (effect, value) {\r\n    var eff = effect instanceof Array ? effect[0] : null;\r\n    if (eff === 'ghost') {\r\n        this.setEffect(effect, this.getGhostEffect() + (+value || 0));\r\n    } else {\r\n        this.setEffect(effect, +this.graphicsValues[eff] + (+value));\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.clearEffects = function () {\r\n    var effect;\r\n    for (effect in this.graphicsValues) {\r\n        if (this.graphicsValues.hasOwnProperty(effect)) {\r\n            this.setEffect([effect], 0);\r\n        }\r\n    }\r\n    this.setEffect(['ghost'], 0);\r\n};\r\n\r\n// SpriteMorph talk bubble\r\n\r\nSpriteMorph.prototype.stopTalking = function () {\r\n    var bubble = this.talkBubble();\r\n    if (bubble) {bubble.destroy(); }\r\n};\r\n\r\nSpriteMorph.prototype.doThink = function (data) {\r\n    this.bubble(data, true);\r\n};\r\n\r\nSpriteMorph.prototype.bubble = function (data, isThought, isQuestion) {\r\n    var bubble,\r\n        stage = this.parentThatIsA(StageMorph);\r\n\r\n    this.stopTalking();\r\n    if (data === '' || isNil(data)) {return; }\r\n    bubble = new SpriteBubbleMorph(\r\n        data,\r\n        stage,\r\n        isThought,\r\n        isQuestion\r\n    );\r\n    this.add(bubble);\r\n    this.positionTalkBubble();\r\n};\r\n\r\nSpriteMorph.prototype.talkBubble = function () {\r\n    return detect(\r\n        this.children,\r\n        function (morph) {return morph instanceof SpeechBubbleMorph; }\r\n    );\r\n};\r\n\r\nSpriteMorph.prototype.positionTalkBubble = function () {\r\n    var stage = this.parentThatIsA(StageMorph),\r\n        stageScale = stage ? stage.scale : 1,\r\n        bubble = this.talkBubble(),\r\n        middle = this.center().y;\r\n    if (!bubble) {return null; }\r\n    bubble.show();\r\n    if (!bubble.isPointingRight) {\r\n        bubble.isPointingRight = true;\r\n        bubble.drawNew();\r\n        bubble.changed();\r\n    }\r\n    bubble.setLeft(this.right());\r\n    bubble.setBottom(this.top());\r\n    while (!this.isTouching(bubble) && bubble.bottom() < middle) {\r\n        bubble.silentMoveBy(new Point(-1, 1).scaleBy(stageScale));\r\n    }\r\n    if (!stage) {return null; }\r\n    if (bubble.right() > stage.right()) {\r\n        bubble.isPointingRight = false;\r\n        bubble.drawNew();\r\n        bubble.setRight(this.center().x);\r\n    }\r\n    bubble.keepWithin(stage);\r\n    bubble.changed();\r\n};\r\n\r\n// dragging and dropping adjustments b/c of talk bubbles and parts\r\n\r\nSpriteMorph.prototype.prepareToBeGrabbed = function (hand) {\r\n    this.removeShadow();\r\n    this.recordLayers();\r\n    this.shadowAttribute('x position');\r\n    this.shadowAttribute('y position');\r\n    if (!this.bounds.containsPoint(hand.position()) &&\r\n            this.isCorrectingOutsideDrag()) {\r\n        this.setCenter(hand.position());\r\n    }\r\n    this.addShadow();\r\n};\r\n\r\nSpriteMorph.prototype.isCorrectingOutsideDrag = function () {\r\n    // make sure I don't \"trail behind\" the hand when dragged\r\n    // override for morphs that you want to be dragged outside\r\n    // their full bounds\r\n    return !this.parts.length;\r\n};\r\n\r\nSpriteMorph.prototype.justDropped = function () {\r\n    var stage = this.parentThatIsA(StageMorph),\r\n        myself = this;\r\n    if (stage) {\r\n        stage.enableCustomHatBlocks = true;\r\n    }\r\n    if (this.exemplar) {\r\n        this.inheritedAttributes.forEach(function (att) {\r\n            if (contains(['direction', 'size', 'costume #'], att)) {\r\n                // only refresh certain propagated attributes\r\n                myself.refreshInheritedAttribute(att);\r\n            }\r\n        });\r\n    }\r\n    this.restoreLayers();\r\n    this.positionTalkBubble();\r\n    this.receiveUserInteraction('dropped');\r\n   \r\n};\r\n\r\n// SpriteMorph drawing:\r\n\r\nSpriteMorph.prototype.drawLine = function (start, dest) {\r\n    var stagePos = this.parent.bounds.origin,\r\n        stageScale = this.parent.scale,\r\n        context = this.parent.penTrails().getContext('2d'),\r\n        from = start.subtract(stagePos).divideBy(stageScale),\r\n        to = dest.subtract(stagePos).divideBy(stageScale),\r\n        damagedFrom = from.multiplyBy(stageScale).add(stagePos),\r\n        damagedTo = to.multiplyBy(stageScale).add(stagePos),\r\n        damaged = damagedFrom.rectangle(damagedTo).expandBy(\r\n            Math.max(this.size * stageScale / 2, 1)\r\n        ).intersect(this.parent.visibleBounds()).spread();\r\n\r\n    if (this.isDown) {\r\n        context.lineWidth = this.size;\r\n        context.strokeStyle = this.color.toString();\r\n        if (this.useFlatLineEnds) {\r\n            context.lineCap = 'butt';\r\n            context.lineJoin = 'miter';\r\n        } else {\r\n            context.lineCap = 'round';\r\n            context.lineJoin = 'round';\r\n        }\r\n        context.beginPath();\r\n        context.moveTo(from.x, from.y);\r\n        context.lineTo(to.x, to.y);\r\n        context.stroke();\r\n        if (this.isWarped === false) {\r\n            this.world().broken.push(damaged);\r\n        }\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.floodFill = function () {\r\n    if (!this.parent.bounds.containsPoint(this.rotationCenter())) {\r\n        return;\r\n    }\r\n    if (this.color.a > 1) {\r\n        // fix a legacy bug in Morphic color detection\r\n        this.color.a = this.color.a / 255;\r\n    }\r\n    var layer = normalizeCanvas(this.parent.penTrails()),\r\n        width = layer.width,\r\n        height = layer.height,\r\n        ctx = layer.getContext('2d'),\r\n        img = ctx.getImageData(0, 0, width, height),\r\n        dta = img.data,\r\n        stack = [\r\n            Math.round((height / 2) - this.yPosition()) * width +\r\n            Math.round(this.xPosition() + (width / 2))\r\n        ],\r\n        current,\r\n        src;\r\n\r\n    function read(p) {\r\n        var d = p * 4;\r\n        return [dta[d], dta[d + 1], dta[d + 2], dta[d + 3]];\r\n    }\r\n\r\n    function check(p) {\r\n        return p[0] === src[0] &&\r\n            p[1] === src[1] &&\r\n            p[2] === src[2] &&\r\n            p[3] === src[3];\r\n    }\r\n\r\n    src = read(stack[0]);\r\n    if (src[0] === Math.round(this.color.r) &&\r\n            src[1] === Math.round(this.color.g) &&\r\n            src[2] === Math.round(this.color.b) &&\r\n            src[3] === Math.round(this.color.a * 255)) {\r\n        return;\r\n    }\r\n    while (stack.length > 0) {\r\n        current = stack.pop();\r\n        if (check(read(current))) {\r\n            if (current % width > 1) {\r\n                stack.push(current + 1);\r\n                stack.push(current - 1);\r\n            }\r\n            if (current > 0 && current < height * width) {\r\n                stack.push(current + width);\r\n                stack.push(current - width);\r\n            }\r\n        }\r\n        dta[current * 4] = Math.round(this.color.r);\r\n        dta[current * 4 + 1] = Math.round(this.color.g);\r\n        dta[current * 4 + 2] = Math.round(this.color.b);\r\n        dta[current * 4 + 3] = Math.round(this.color.a * 255);\r\n    }\r\n    ctx.putImageData(img, 0, 0);\r\n    this.parent.changed();\r\n};\r\n\r\n// SpriteMorph pen trails as costume\r\n\r\nSpriteMorph.prototype.reportPenTrailsAsCostume = function () {\r\n    var cst = new Costume(\r\n        this.parentThatIsA(StageMorph).trailsCanvas,\r\n        this.newCostumeName(localize('Costume'))\r\n    );\r\n    cst.shrinkWrap();\r\n    return cst;\r\n};\r\n\r\n// SpriteMorph motion - adjustments due to nesting\r\n\r\nSpriteMorph.prototype.moveBy = function (delta, justMe) {\r\n    // override the inherited default to make sure my parts follow\r\n    // unless it's justMe (a correction)\r\n    var start = this.isDown && !justMe && this.parent ?\r\n            this.rotationCenter() : null;\r\n    SpriteMorph.uber.moveBy.call(this, delta);\r\n    if (start) {\r\n        this.drawLine(start, this.rotationCenter());\r\n    }\r\n    if (!justMe) {\r\n        this.parts.forEach(function (part) {\r\n            part.moveBy(delta);\r\n        });\r\n        this.instances.forEach(function (instance) {\r\n            if (instance.cachedPropagation) {\r\n                var inheritsX = instance.inheritsAttribute('x position'),\r\n                    inheritsY = instance.inheritsAttribute('y position');\r\n                if (inheritsX && inheritsY) {\r\n                    instance.moveBy(delta);\r\n                } else if (inheritsX) {\r\n                    instance.moveBy(new Point(delta.x, 0));\r\n                } else if (inheritsY) {\r\n                    instance.moveBy(new Point(0, delta.y));\r\n                }\r\n            }\r\n        });\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.silentMoveBy = function (delta, justMe) {\r\n    SpriteMorph.uber.silentMoveBy.call(this, delta);\r\n    if (!justMe && this.parent instanceof HandMorph) {\r\n        this.parts.forEach(function (part) {\r\n            part.moveBy(delta);\r\n        });\r\n        this.instances.forEach(function (instance) {\r\n            if (instance.cachedPropagation) {\r\n                var inheritsX = instance.inheritsAttribute('x position'),\r\n                    inheritsY = instance.inheritsAttribute('y position');\r\n                if (inheritsX && inheritsY) {\r\n                    instance.moveBy(delta);\r\n                } else if (inheritsX) {\r\n                    instance.moveBy(new Point(delta.x, 0));\r\n                } else if (inheritsY) {\r\n                    instance.moveBy(new Point(0, delta.y));\r\n                }\r\n            }\r\n        });\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.rootForGrab = function () {\r\n    if (this.anchor) {\r\n        return this.anchor.rootForGrab();\r\n    }\r\n    return SpriteMorph.uber.rootForGrab.call(this);\r\n};\r\n\r\nSpriteMorph.prototype.setCenter = function (aPoint, justMe) {\r\n    // override the inherited default to make sure my parts follow\r\n    // unless it's justMe\r\n    var delta = aPoint.subtract(this.center());\r\n    this.moveBy(delta, justMe);\r\n};\r\n\r\nSpriteMorph.prototype.nestingBounds = function () {\r\n    // same as fullBounds(), except that it uses \"parts\" instead of children\r\n    // and special cases the costume-less \"arrow\" shape's bounding box\r\n    var result = this.bounds;\r\n    if (!this.costume && this.penBounds) {\r\n        result = this.penBounds.translateBy(this.position());\r\n    }\r\n    this.parts.forEach(function (part) {\r\n        if (part.isVisible) {\r\n            result = result.merge(part.nestingBounds());\r\n        }\r\n    });\r\n    return result;\r\n};\r\n\r\n// SpriteMorph motion primitives\r\n\r\nSpriteMorph.prototype.setPosition = function (aPoint, justMe) {\r\n    // override the inherited default to make sure my parts follow\r\n    // unless it's justMe\r\n    var delta = aPoint.subtract(this.topLeft());\r\n    if ((delta.x !== 0) || (delta.y !== 0)) {\r\n        this.moveBy(delta, justMe);\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.forward = function (steps) {\r\n    var dest,\r\n        dist = steps * this.parent.scale || 0;\r\n\r\n    if (dist >= 0) {\r\n        dest = this.position().distanceAngle(dist, this.heading);\r\n    } else {\r\n        dest = this.position().distanceAngle(\r\n            Math.abs(dist),\r\n            (this.heading - 180)\r\n        );\r\n    }\r\n\r\n    this.shadowAttribute('x position');\r\n    this.shadowAttribute('y position');\r\n\r\n    this.setPosition(dest);\r\n    this.positionTalkBubble();\r\n};\r\n\r\nSpriteMorph.prototype.setHeading = function (degrees, noShadow) {\r\n    var x = this.xPosition(),\r\n        y = this.yPosition(),\r\n        dir = !isFinite(degrees) ? 0 : +degrees,\r\n        turn = dir - this.heading;\r\n\r\n    // apply to myself\r\n    if (this.rotationStyle) { // optimization, only redraw if rotatable\r\n        this.changed();\r\n        SpriteMorph.uber.setHeading.call(this, dir);\r\n        this.silentGotoXY(x, y, true); // just me\r\n        this.positionTalkBubble();\r\n    } else {\r\n        this.heading = ((+degrees % 360) + 360) % 360;\r\n    }\r\n\r\n    // propagate to my parts\r\n    this.parts.forEach(function (part) {\r\n        var pos = new Point(part.xPosition(), part.yPosition()),\r\n            trg = pos.rotateBy(radians(turn), new Point(x, y));\r\n        if (part.rotatesWithAnchor) {\r\n            part.turn(turn);\r\n        }\r\n        part.gotoXY(trg.x, trg.y);\r\n    });\r\n\r\n    // propagate to children that inherit my direction\r\n    if (!noShadow) {\r\n        this.shadowAttribute('direction');\r\n    }\r\n    this.instances.forEach(function (instance) {\r\n        if (instance.cachedPropagation) {\r\n            if (instance.inheritsAttribute('direction')) {\r\n                instance.setHeading(degrees, true);\r\n            }\r\n        }\r\n    });\r\n};\r\n\r\nSpriteMorph.prototype.faceToXY = function (x, y) {\r\n    var deltaX = (x - this.xPosition()) * this.parent.scale,\r\n        deltaY = (y - this.yPosition()) * this.parent.scale,\r\n        angle = Math.abs(deltaX) < 0.001 ? (deltaY < 0 ? 90 : 270)\r\n                : Math.round(\r\n                (deltaX >= 0 ? 0 : 180)\r\n                    - (Math.atan(deltaY / deltaX) * 57.2957795131)\r\n            );\r\n    this.setHeading(angle + 90);\r\n};\r\n\r\nSpriteMorph.prototype.turn = function (degrees) {\r\n    this.setHeading(this.heading + (+degrees || 0));\r\n};\r\n\r\nSpriteMorph.prototype.turnLeft = function (degrees) {\r\n    this.setHeading(this.heading - (+degrees || 0));\r\n};\r\n\r\nSpriteMorph.prototype.xPosition = function () {\r\n    if (this.inheritsAttribute('x position')) {\r\n        return this.exemplar.xPosition();\r\n    }\r\n\r\n    var stage = this.parentThatIsA(StageMorph);\r\n\r\n    if (!stage && this.parent.grabOrigin) { // I'm currently being dragged\r\n        stage = this.parent.grabOrigin.origin;\r\n    }\r\n    if (stage) {\r\n        return (this.rotationCenter().x - stage.center().x) / stage.scale;\r\n    }\r\n    return this.rotationCenter().x;\r\n};\r\n\r\nSpriteMorph.prototype.yPosition = function () {\r\n    if (this.inheritsAttribute('y position')) {\r\n        return this.exemplar.yPosition();\r\n    }\r\n\r\n    var stage = this.parentThatIsA(StageMorph);\r\n\r\n    if (!stage && this.parent.grabOrigin) { // I'm currently being dragged\r\n        stage = this.parent.grabOrigin.origin;\r\n    }\r\n    if (stage) {\r\n        return (stage.center().y - this.rotationCenter().y) / stage.scale;\r\n    }\r\n    return this.rotationCenter().y;\r\n};\r\n\r\nSpriteMorph.prototype.direction = function () {\r\n    if (this.inheritsAttribute('direction')) {\r\n        return this.exemplar.direction();\r\n    }\r\n    return this.heading;\r\n};\r\n\r\nSpriteMorph.prototype.penSize = function () {\r\n    return this.size;\r\n};\r\n\r\nSpriteMorph.prototype.gotoXY = function (x, y, justMe, noShadow) {\r\n    var stage = this.parentThatIsA(StageMorph),\r\n        newX,\r\n        newY,\r\n        dest;\r\n\r\n    if (!stage) {return; }\r\n    if (!noShadow) {\r\n        this.shadowAttribute('x position');\r\n        this.shadowAttribute('y position');\r\n    }\r\n    x = !isFinite(+x) ? 0 : +x;\r\n    y = !isFinite(+y) ? 0 : +y;\r\n    newX = stage.center().x + x * stage.scale;\r\n    newY = stage.center().y - y * stage.scale;\r\n    if (this.costume) {\r\n        dest = new Point(newX, newY).subtract(this.rotationOffset);\r\n    } else {\r\n        dest = new Point(newX, newY).subtract(this.extent().divideBy(2));\r\n    }\r\n    this.setPosition(dest, justMe);\r\n    this.positionTalkBubble();\r\n};\r\n\r\nSpriteMorph.prototype.silentGotoXY = function (x, y, justMe) {\r\n    // move without drawing\r\n    // don't shadow coordinate attributes\r\n    var penState = this.isDown;\r\n    this.isDown = false;\r\n    this.gotoXY(x, y, justMe, true); // don't shadow coordinates\r\n    this.isDown = penState;\r\n};\r\n\r\nSpriteMorph.prototype.setXPosition = function (num) {\r\n    this.shadowAttribute('x position');\r\n    this.gotoXY(+num || 0, this.yPosition(), false, true);\r\n};\r\n\r\nSpriteMorph.prototype.changeXPosition = function (delta) {\r\n    this.setXPosition(this.xPosition() + (+delta || 0));\r\n};\r\n\r\nSpriteMorph.prototype.setYPosition = function (num) {\r\n    this.shadowAttribute('y position');\r\n    this.gotoXY(this.xPosition(), +num || 0, false, true);\r\n};\r\n\r\nSpriteMorph.prototype.changeYPosition = function (delta) {\r\n    this.setYPosition(this.yPosition() + (+delta || 0));\r\n};\r\n\r\nSpriteMorph.prototype.glide = function (\r\n    duration,\r\n    endX,\r\n    endY,\r\n    elapsed,\r\n    startPoint\r\n) {\r\n    var fraction, endPoint, rPos;\r\n    endPoint = new Point(endX, endY);\r\n    fraction = Math.max(Math.min(elapsed / duration, 1), 0);\r\n    rPos = startPoint.add(\r\n        endPoint.subtract(startPoint).multiplyBy(fraction)\r\n    );\r\n    this.gotoXY(rPos.x, rPos.y);\r\n};\r\n\r\nSpriteMorph.prototype.bounceOffEdge = function () {\r\n    // taking nested parts into account\r\n    var stage = this.parentThatIsA(StageMorph),\r\n        fb = this.nestingBounds(),\r\n        dirX,\r\n        dirY;\r\n\r\n    if (!stage) {return null; }\r\n    if (stage.bounds.containsRectangle(fb)) {return null; }\r\n\r\n    dirX = Math.cos(radians(this.heading - 90));\r\n    dirY = -(Math.sin(radians(this.heading - 90)));\r\n\r\n    if (fb.left() < stage.left()) {\r\n        dirX = Math.abs(dirX);\r\n    }\r\n    if (fb.right() > stage.right()) {\r\n        dirX = -(Math.abs(dirX));\r\n    }\r\n    if (fb.top() < stage.top()) {\r\n        dirY = -(Math.abs(dirY));\r\n    }\r\n    if (fb.bottom() > stage.bottom()) {\r\n        dirY = Math.abs(dirY);\r\n    }\r\n\r\n    this.shadowAttribute('x position');\r\n    this.shadowAttribute('y position');\r\n    this.shadowAttribute('direction');\r\n\r\n    this.setHeading(degrees(Math.atan2(-dirY, dirX)) + 90);\r\n    this.setPosition(this.position().add(\r\n        fb.amountToTranslateWithin(stage.bounds)\r\n    ));\r\n    this.positionTalkBubble();\r\n};\r\n\r\n// SpriteMorph rotation center / fixation point manipulation\r\n\r\nSpriteMorph.prototype.setRotationX = function (absoluteX) {\r\n  this.setRotationCenter(new Point(absoluteX, this.yPosition()));\r\n};\r\n\r\nSpriteMorph.prototype.setRotationY = function (absoluteY) {\r\n  this.setRotationCenter(new Point(this.xPosition(), absoluteY));\r\n};\r\n\r\nSpriteMorph.prototype.setRotationCenter = function (absoluteCoordinate) {\r\n    var delta, normal;\r\n    if (!this.costume) {\r\n        throw new Error('setting the rotation center requires a costume');\r\n    }\r\n    delta = absoluteCoordinate.subtract(\r\n        new Point(this.xPosition(), this.yPosition())\r\n    ).divideBy(this.scale).rotateBy(radians(90 - this.heading));\r\n    normal = this.costume.rotationCenter.add(new Point(delta.x, -delta.y));\r\n    this.costume.rotationCenter = normal;\r\n    this.drawNew();\r\n};\r\n\r\nSpriteMorph.prototype.moveRotationCenter = function () {\r\n    // make this a method of Snap >> SpriteMorph\r\n    this.world().activeHandle = new HandleMorph(\r\n        this,\r\n        null,\r\n        null,\r\n        null,\r\n        null,\r\n        'movePivot'\r\n    );\r\n};\r\n\r\nSpriteMorph.prototype.setPivot = function (worldCoordinate) {\r\n    var stage = this.parentThatIsA(StageMorph),\r\n        cntr;\r\n    if (stage) {\r\n        cntr = stage.center();\r\n        this.setRotationCenter(\r\n            new Point(\r\n                (worldCoordinate.x - cntr.x) / stage.scale,\r\n                (cntr.y - worldCoordinate.y) / stage.scale\r\n            )\r\n        );\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.xCenter = function () {\r\n    var stage = this.parentThatIsA(StageMorph);\r\n\r\n    if (!stage && this.parent.grabOrigin) { // I'm currently being dragged\r\n        stage = this.parent.grabOrigin.origin;\r\n    }\r\n    if (stage) {\r\n        return (this.center().x - stage.center().x) / stage.scale;\r\n    }\r\n    return this.center().x;\r\n};\r\n\r\nSpriteMorph.prototype.yCenter = function () {\r\n    var stage = this.parentThatIsA(StageMorph);\r\n\r\n    if (!stage && this.parent.grabOrigin) { // I'm currently being dragged\r\n        stage = this.parent.grabOrigin.origin;\r\n    }\r\n    if (stage) {\r\n        return (stage.center().y - this.center().y) / stage.scale;\r\n    }\r\n    return this.center().y;\r\n};\r\n\r\n// SpriteMorph message broadcasting\r\n\r\nSpriteMorph.prototype.allMessageNames = function () {\r\n    var msgs = [],\r\n        all = this.scripts.children.slice();\r\n    this.customBlocks.forEach(function (def) {\r\n        if (def.body) {\r\n            all.push(def.body.expression);\r\n        }\r\n        def.scripts.forEach(function (scr) {\r\n            all.push(scr);\r\n        });\r\n    });\r\n    if (this.globalBlocks) {\r\n        this.globalBlocks.forEach(function (def) {\r\n            if (def.body) {\r\n                all.push(def.body.expression);\r\n            }\r\n            def.scripts.forEach(function (scr) {\r\n                all.push(scr);\r\n            });\r\n        });\r\n    }\r\n    all.forEach(function (script) {\r\n        script.allChildren().forEach(function (morph) {\r\n            var txt;\r\n            if (morph.selector && contains(\r\n                ['receiveMessage', 'doBroadcast', 'doBroadcastAndWait'],\r\n                morph.selector\r\n            )) {\r\n                txt = morph.inputs()[0].evaluate();\r\n                if (isString(txt) && txt !== '') {\r\n                    if (!contains(msgs, txt)) {\r\n                        msgs.push(txt);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    });\r\n    return msgs;\r\n};\r\n\r\nSpriteMorph.prototype.allHatBlocksFor = function (message) {\r\n    if (typeof message === 'number') {message = message.toString(); }\r\n    return this.scripts.children.filter(function (morph) {\r\n        var event;\r\n        if (morph.selector) {\r\n            if (morph.selector === 'receiveMessage') {\r\n                event = morph.inputs()[0].evaluate();\r\n                return event === message\r\n                    || (event instanceof Array\r\n                        && message !== '__shout__go__'\r\n                        && message !== '__clone__init__');\r\n            }\r\n            if (morph.selector === 'receiveGo') {\r\n                return message === '__shout__go__';\r\n            }\r\n            if (morph.selector === 'receiveOnClone') {\r\n                return message === '__clone__init__';\r\n            }\r\n        }\r\n        return false;\r\n    });\r\n};\r\n\r\nSpriteMorph.prototype.allHatBlocksForKey = function (key) {\r\n    return this.scripts.children.filter(function (morph) {\r\n        if (morph.selector) {\r\n            if (morph.selector === 'receiveKey') {\r\n                var evt = morph.inputs()[0].evaluate()[0];\r\n                return evt === key || evt === 'any key';\r\n            }\r\n        }\r\n        return false;\r\n    });\r\n};\r\n\r\nSpriteMorph.prototype.allHatBlocksForInteraction = function (interaction) {\r\n    return this.scripts.children.filter(function (morph) {\r\n        if (morph.selector) {\r\n            if (morph.selector === 'receiveInteraction') {\r\n                return morph.inputs()[0].evaluate()[0] === interaction;\r\n            }\r\n        }\r\n        return false;\r\n    });\r\n};\r\n\r\nSpriteMorph.prototype.allGenericHatBlocks = function () {\r\n    return this.scripts.children.filter(function (morph) {\r\n        if (morph.selector) {\r\n            return morph.selector === 'receiveCondition';\r\n        }\r\n        return false;\r\n    });\r\n};\r\n\r\n// SpriteMorph events\r\n\r\nSpriteMorph.prototype.mouseClickLeft = function () {\r\n    return this.receiveUserInteraction('clicked');\r\n};\r\n\r\nSpriteMorph.prototype.mouseEnter = function () {\r\n    return this.receiveUserInteraction('mouse-entered');\r\n};\r\n\r\nSpriteMorph.prototype.mouseDownLeft = function () {\r\n    return this.receiveUserInteraction('pressed');\r\n};\r\n\r\nSpriteMorph.prototype.receiveUserInteraction = function (interaction) {\r\n    var stage = this.parentThatIsA(StageMorph),\r\n        procs = [],\r\n        myself = this,\r\n        hats;\r\n\r\n    if (!stage) {return; } // currently dragged\r\n    hats = this.allHatBlocksForInteraction(interaction);\r\n    hats.forEach(function (block) {\r\n        procs.push(stage.threads.startProcess(\r\n            block,\r\n            myself,\r\n            stage.isThreadSafe\r\n        ));\r\n    });\r\n    return procs;\r\n};\r\n\r\nSpriteMorph.prototype.mouseDoubleClick = function () {\r\n    if (this.isTemporary) {return; }\r\n    this.edit();\r\n};\r\n\r\n// SpriteMorph timer\r\n\r\nSpriteMorph.prototype.getTimer = function () {\r\n    var stage = this.parentThatIsA(StageMorph);\r\n    if (stage) {\r\n        return stage.getTimer();\r\n    }\r\n    return 0;\r\n};\r\n\r\n// SpriteMorph tempo\r\n\r\nSpriteMorph.prototype.getTempo = function () {\r\n    var stage = this.parentThatIsA(StageMorph);\r\n    if (stage) {\r\n        return stage.getTempo();\r\n    }\r\n    return 0;\r\n};\r\n\r\n// SpriteMorph last message\r\n\r\nSpriteMorph.prototype.getLastMessage = function () {\r\n    var stage = this.parentThatIsA(StageMorph);\r\n    if (stage) {\r\n        return stage.getLastMessage();\r\n    }\r\n    return '';\r\n};\r\n\r\n// SpriteMorph user prompting\r\n\r\nSpriteMorph.prototype.getLastAnswer = function () {\r\n    return this.parentThatIsA(StageMorph).lastAnswer;\r\n};\r\n\r\n// SpriteMorph mouse coordinates\r\n\r\nSpriteMorph.prototype.reportMouseX = function () {\r\n    var stage = this.parentThatIsA(StageMorph);\r\n    if (stage) {\r\n        return stage.reportMouseX();\r\n    }\r\n    return 0;\r\n};\r\n\r\nSpriteMorph.prototype.reportMouseY = function () {\r\n    var stage = this.parentThatIsA(StageMorph);\r\n    if (stage) {\r\n        return stage.reportMouseY();\r\n    }\r\n    return 0;\r\n};\r\n\r\n// SpriteMorph thread count (for debugging)\r\n\r\nSpriteMorph.prototype.reportThreadCount = function () {\r\n    var stage = this.parentThatIsA(StageMorph);\r\n    if (stage) {\r\n        return stage.threads.processes.length;\r\n    }\r\n    return 0;\r\n};\r\n\r\n// SpriteMorph variable refactoring\r\n\r\nSpriteMorph.prototype.refactorVariableInstances = function (\r\n    oldName,\r\n    newName,\r\n    isGlobal\r\n) {\r\n    if (isGlobal && this.hasSpriteVariable(oldName)) {\r\n        return;\r\n    }\r\n\r\n    this.scripts.children.forEach(function (child) {\r\n        if (child instanceof BlockMorph) {\r\n            child.refactorVarInStack(oldName, newName);\r\n        }\r\n    });\r\n\r\n};\r\n\r\n// SpriteMorph variable watchers (for palette checkbox toggling)\r\n\r\nSpriteMorph.prototype.findVariableWatcher = function (varName) {\r\n    var stage = this.parentThatIsA(StageMorph),\r\n        globals = this.globalVariables(),\r\n        myself = this;\r\n    if (stage === null) {\r\n        return null;\r\n    }\r\n    return detect(\r\n        stage.children,\r\n        function (morph) {\r\n            return morph instanceof WatcherMorph\r\n                    && (morph.target === myself.variables\r\n                            || morph.target === globals)\r\n                    && morph.getter === varName;\r\n        }\r\n    );\r\n};\r\n\r\nSpriteMorph.prototype.toggleVariableWatcher = function (varName, isGlobal) {\r\n    var stage = this.parentThatIsA(StageMorph),\r\n        globals = this.globalVariables(),\r\n        watcher,\r\n        others;\r\n    if (stage === null) {\r\n        return null;\r\n    }\r\n    watcher = this.findVariableWatcher(varName);\r\n    if (watcher !== null) {\r\n        if (watcher.isVisible) {\r\n            watcher.hide();\r\n        } else {\r\n            watcher.show();\r\n            watcher.fixLayout(); // re-hide hidden parts\r\n            watcher.keepWithin(stage);\r\n        }\r\n        return;\r\n    }\r\n\r\n    // if no watcher exists, create a new one\r\n    if (isNil(isGlobal)) {\r\n        isGlobal = contains(globals.names(), varName);\r\n    }\r\n    watcher = new WatcherMorph(\r\n        varName,\r\n        this.blockColor.variables,\r\n        isGlobal ? globals : this.variables,\r\n        varName\r\n    );\r\n    watcher.setPosition(stage.position().add(10));\r\n    others = stage.watchers(watcher.left());\r\n    if (others.length > 0) {\r\n        watcher.setTop(others[others.length - 1].bottom());\r\n    }\r\n    stage.add(watcher);\r\n    watcher.fixLayout();\r\n    watcher.keepWithin(stage);\r\n    return watcher;\r\n};\r\n\r\nSpriteMorph.prototype.showingVariableWatcher = function (varName) {\r\n    var stage = this.parentThatIsA(StageMorph),\r\n        watcher;\r\n    if (stage === null) {\r\n        return false;\r\n    }\r\n    watcher = this.findVariableWatcher(varName);\r\n    if (watcher) {\r\n        return watcher.isVisible;\r\n    }\r\n    return false;\r\n};\r\n\r\nSpriteMorph.prototype.deleteVariableWatcher = function (varName) {\r\n    var stage = this.parentThatIsA(StageMorph),\r\n        watcher;\r\n    if (stage === null) {\r\n        return null;\r\n    }\r\n    watcher = this.findVariableWatcher(varName);\r\n    if (watcher !== null) {\r\n        watcher.destroy();\r\n    }\r\n};\r\n\r\n// SpriteMorph non-variable watchers\r\n\r\nSpriteMorph.prototype.toggleWatcher = function (selector, label, color) {\r\n    var stage = this.parentThatIsA(StageMorph),\r\n        watcher,\r\n        others;\r\n    if (!stage) { return; }\r\n    watcher = this.watcherFor(stage, selector);\r\n    if (watcher) {\r\n        if (watcher.isVisible) {\r\n            watcher.hide();\r\n        } else {\r\n            watcher.show();\r\n            watcher.fixLayout(); // re-hide hidden parts\r\n            watcher.keepWithin(stage);\r\n        }\r\n        return;\r\n    }\r\n\r\n    // if no watcher exists, create a new one\r\n    watcher = new WatcherMorph(\r\n        label,\r\n        color,\r\n        WatcherMorph.prototype.isGlobal(selector) ? stage : this,\r\n        selector\r\n    );\r\n    watcher.setPosition(stage.position().add(10));\r\n    others = stage.watchers(watcher.left());\r\n    if (others.length > 0) {\r\n        watcher.setTop(others[others.length - 1].bottom());\r\n    }\r\n    stage.add(watcher);\r\n    watcher.fixLayout();\r\n    watcher.keepWithin(stage);\r\n};\r\n\r\nSpriteMorph.prototype.showingWatcher = function (selector) {\r\n    var stage = this.parentThatIsA(StageMorph),\r\n        watcher;\r\n    if (stage === null) {\r\n        return false;\r\n    }\r\n    watcher = this.watcherFor(stage, selector);\r\n    if (watcher) {\r\n        return watcher.isVisible;\r\n    }\r\n    return false;\r\n};\r\n\r\nSpriteMorph.prototype.watcherFor = function (stage, selector) {\r\n    var myself = this;\r\n    return detect(stage.children, function (morph) {\r\n        return morph instanceof WatcherMorph &&\r\n            morph.getter === selector &&\r\n             morph.target === (morph.isGlobal(selector) ? stage : myself);\r\n    });\r\n};\r\n\r\n// SpriteMorph custom blocks\r\n\r\nSpriteMorph.prototype.deleteAllBlockInstances = function (definition) {\r\n    var stage,\r\n        blocks = definition.isGlobal ? this.allBlockInstances(definition)\r\n            : this.allIndependentInvocationsOf(definition.blockSpec());\r\n    blocks.forEach(function (each) {\r\n        each.deleteBlock();\r\n    });\r\n\r\n    // purge custom block definitions of \"corpses\"\r\n    // i.e. blocks that have been marked for deletion\r\n    if (definition.isGlobal) {\r\n        stage = this.parentThatIsA(StageMorph);\r\n        if (stage) {\r\n            stage.globalBlocks.forEach(function (def) {\r\n                def.purgeCorpses();\r\n            });\r\n            stage.children.concat(stage).forEach(function (sprite) {\r\n                if (sprite.isSnapObject) {\r\n                    sprite.customBlocks.forEach(function (def) {\r\n                        def.purgeCorpses();\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    } else {\r\n        this.allSpecimens().concat(this).forEach(function (sprite) {\r\n            sprite.customBlocks.forEach(function (def) {\r\n                def.purgeCorpses();\r\n            });\r\n        });\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.allBlockInstances = function (definition) {\r\n    var stage, objects, blocks = [], inDefinitions;\r\n    if (definition.isGlobal) {\r\n        stage = this.parentThatIsA(StageMorph);\r\n        objects = stage.children.filter(function (morph) {\r\n            return morph instanceof SpriteMorph;\r\n        });\r\n        objects.push(stage);\r\n        objects.forEach(function (sprite) {\r\n            blocks = blocks.concat(sprite.allLocalBlockInstances(definition));\r\n        });\r\n        inDefinitions = [];\r\n        stage.globalBlocks.forEach(function (def) {\r\n            def.scripts.forEach(function (eachScript) {\r\n                eachScript.allChildren().forEach(function (c) {\r\n                    if (c.isCustomBlock && (c.definition === definition)) {\r\n                        inDefinitions.push(c);\r\n                    }\r\n                });\r\n            });\r\n            if (def.body) {\r\n                def.body.expression.allChildren().forEach(function (c) {\r\n                    if (c.isCustomBlock && (c.definition === definition)) {\r\n                        inDefinitions.push(c);\r\n                    }\r\n                });\r\n            }\r\n        });\r\n        return blocks.concat(inDefinitions);\r\n    }\r\n    return this.allLocalBlockInstances(definition);\r\n};\r\n\r\nSpriteMorph.prototype.allIndependentInvocationsOf = function (aSpec) {\r\n    var blocks;\r\n    if (this.exemplar && this.exemplar.getMethod(aSpec)) {\r\n        // shadows an inherited method, don't delete\r\n        return [];\r\n    }\r\n    blocks = this.allInvocationsOf(aSpec);\r\n    this.instances.forEach(function (sprite) {\r\n        sprite.addAllInvocationsOf(aSpec, blocks);\r\n    });\r\n    return blocks;\r\n};\r\n\r\nSpriteMorph.prototype.allDependentInvocationsOf = function (aSpec) {\r\n    var blocks;\r\n    blocks = this.allInvocationsOf(aSpec);\r\n    this.instances.forEach(function (sprite) {\r\n        sprite.addAllInvocationsOf(aSpec, blocks);\r\n    });\r\n    return blocks;\r\n};\r\n\r\nSpriteMorph.prototype.allInvocationsOf = function (aSpec) {\r\n    // only inside the receiver, without the inheritance branches\r\n    var inScripts, inDefinitions, inBlockEditors, blocks;\r\n\r\n    inScripts = this.scripts.allChildren().filter(function (c) {\r\n        return c.isCustomBlock && !c.isGlobal && (c.blockSpec === aSpec);\r\n    });\r\n\r\n    inDefinitions = [];\r\n    this.customBlocks.forEach(function (def) {\r\n        def.scripts.forEach(function (eachScript) {\r\n            eachScript.allChildren().forEach(function (c) {\r\n                if (c.isCustomBlock && !c.isGlobal &&\r\n                    (c.blockSpec === aSpec)\r\n                ) {\r\n                    inDefinitions.push(c);\r\n                }\r\n            });\r\n        });\r\n        if (def.body) {\r\n            def.body.expression.allChildren().forEach(function (c) {\r\n                if (c.isCustomBlock && !c.isGlobal &&\r\n                    (c.blockSpec === aSpec)\r\n                ) {\r\n                    inDefinitions.push(c);\r\n                }\r\n            });\r\n        }\r\n    });\r\n\r\n    inBlockEditors = this.allEditorBlockInstances(null, aSpec);\r\n    blocks = inScripts.concat(inDefinitions).concat(inBlockEditors);\r\n    return blocks;\r\n};\r\n\r\nSpriteMorph.prototype.addAllInvocationsOf = function (aSpec, anArray) {\r\n    if (!this.getLocalMethod(aSpec)) {\r\n        this.allInvocationsOf(aSpec).forEach(function (block) {\r\n            anArray.push(block);\r\n        });\r\n        this.instances.forEach(function (sprite) {\r\n            sprite.addAllInvocationsOf(aSpec, anArray);\r\n        });\r\n    }\r\n};\r\n\r\n\r\nSpriteMorph.prototype.allLocalBlockInstances = function (definition) {\r\n    var inScripts, inDefinitions, inBlockEditors, inPalette, result;\r\n\r\n    inScripts = this.scripts.allChildren().filter(function (c) {\r\n        return c.isCustomBlock && (c.definition === definition);\r\n    });\r\n\r\n    inDefinitions = [];\r\n    this.customBlocks.forEach(function (def) {\r\n        if (def.body) {\r\n            def.body.expression.allChildren().forEach(function (c) {\r\n                if (c.isCustomBlock && (c.definition === definition)) {\r\n                    inDefinitions.push(c);\r\n                }\r\n            });\r\n        }\r\n    });\r\n\r\n    inBlockEditors = this.allEditorBlockInstances(definition);\r\n    inPalette = this.paletteBlockInstance(definition);\r\n\r\n    result = inScripts.concat(inDefinitions).concat(inBlockEditors);\r\n    if (inPalette) {\r\n        result.push(inPalette);\r\n    }\r\n    return result;\r\n};\r\n\r\nSpriteMorph.prototype.allEditorBlockInstances = function (definition, spec) {\r\n    // either pass a definition for global custom blocks\r\n    // or a spec for local ones\r\n    var inBlockEditors = [],\r\n        world = this.world();\r\n\r\n    if (!world) {return []; } // when copying a sprite\r\n\r\n    this.world().children.forEach(function (morph) {\r\n        if (morph instanceof BlockEditorMorph) {\r\n            morph.body.contents.allChildren().forEach(function (block) {\r\n                if (definition) { // global\r\n                    if (!block.isPrototype\r\n                            && !(block instanceof PrototypeHatBlockMorph)\r\n                            && (block.definition === definition)) {\r\n                        inBlockEditors.push(block);\r\n                    }\r\n                } else { // local\r\n                    if (block.isCustomBlock\r\n                            && !block.isGlobal\r\n                            && !block.isPrototype\r\n                            && !(block instanceof PrototypeHatBlockMorph)\r\n                            && (block.blockSpec === spec)) {\r\n                        inBlockEditors.push(block);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    });\r\n    return inBlockEditors;\r\n};\r\n\r\nSpriteMorph.prototype.paletteBlockInstance = function (definition) {\r\n    var ide = this.parentThatIsA(IDE_Morph);\r\n    if (!ide) {return null; }\r\n    return detect(\r\n        ide.palette.contents.children,\r\n        function (block) {\r\n            return block.isCustomBlock &&\r\n                (block.definition === definition);\r\n        }\r\n    );\r\n};\r\n\r\nSpriteMorph.prototype.usesBlockInstance = function (\r\n    definition,\r\n    forRemoval, // optional bool\r\n    skipGlobals, // optional bool\r\n    skipBlocks // optional array with ignorable definitions\r\n) {\r\n    var inDefinitions,\r\n        inScripts = detect(\r\n            this.scripts.allChildren(),\r\n            function (c) {\r\n                return c.isCustomBlock && (c.definition === definition);\r\n            }\r\n        );\r\n\r\n    if (inScripts) {return true; }\r\n\r\n    if (definition.isGlobal && !skipGlobals) {\r\n        inDefinitions = [];\r\n        this.parentThatIsA(StageMorph).globalBlocks.forEach(\r\n            function (def) {\r\n                if (forRemoval && (definition === def)) {return; }\r\n                if (skipBlocks && contains(skipBlocks, def)) {return; }\r\n                if (def.body) {\r\n                    def.body.expression.allChildren().forEach(function (c) {\r\n                        if (c.isCustomBlock && (c.definition === definition)) {\r\n                            inDefinitions.push(c);\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n        );\r\n        if (inDefinitions.length > 0) {return true; }\r\n    }\r\n\r\n    inDefinitions = [];\r\n    this.customBlocks.forEach(function (def) {\r\n        if (def.body) {\r\n            def.body.expression.allChildren().forEach(function (c) {\r\n                if (c.isCustomBlock && (c.definition === definition)) {\r\n                    inDefinitions.push(c);\r\n                }\r\n            });\r\n        }\r\n    });\r\n    return (inDefinitions.length > 0);\r\n};\r\n\r\nSpriteMorph.prototype.doubleDefinitionsFor = function (definition) {\r\n    var spec = definition.blockSpec(),\r\n        blockList,\r\n        idx,\r\n        stage;\r\n\r\n    if (definition.isGlobal) {\r\n        stage = this.parentThatIsA(StageMorph);\r\n        if (!stage) {return []; }\r\n        blockList = stage.globalBlocks;\r\n    } else {\r\n        blockList = this.customBlocks;\r\n    }\r\n    idx = blockList.indexOf(definition);\r\n    if (idx === -1) {return []; }\r\n    return blockList.filter(function (def, i) {\r\n        return def.blockSpec() === spec && (i !== idx);\r\n    });\r\n};\r\n\r\nSpriteMorph.prototype.replaceDoubleDefinitionsFor = function (definition) {\r\n    var doubles = this.doubleDefinitionsFor(definition),\r\n        myself = this,\r\n        stage,\r\n        ide;\r\n    doubles.forEach(function (double) {\r\n        myself.allBlockInstances(double).forEach(function (block) {\r\n            block.definition = definition;\r\n            block.refresh();\r\n        });\r\n    });\r\n    if (definition.isGlobal) {\r\n        stage = this.parentThatIsA(StageMorph);\r\n        stage.globalBlocks = stage.globalBlocks.filter(function (def) {\r\n            return !contains(doubles, def);\r\n        });\r\n    } else {\r\n        this.customBlocks = this.customBlocks.filter(function (def) {\r\n            return !contains(doubles, def);\r\n        });\r\n    }\r\n    ide = this.parentThatIsA(IDE_Morph);\r\n    if (ide) {\r\n        ide.flushPaletteCache();\r\n        ide.refreshPalette();\r\n    }\r\n};\r\n\r\n// SpriteMorph inheritance - general\r\n\r\nSpriteMorph.prototype.chooseExemplar = function () {\r\n    var stage = this.parentThatIsA(StageMorph),\r\n        myself = this,\r\n        other = stage.children.filter(function (m) {\r\n            return m instanceof SpriteMorph &&\r\n                !m.isTemporary &&\r\n                (!contains(m.allExemplars(), myself));\r\n        }),\r\n        menu;\r\n    menu = new MenuMorph(\r\n        function (aSprite) {myself.setExemplar(aSprite); },\r\n        localize('current parent') +\r\n            ':\\n' +\r\n            (this.exemplar ? this.exemplar.name : localize('none'))\r\n    );\r\n    other.forEach(function (eachSprite) {\r\n        menu.addItem(eachSprite.name, eachSprite);\r\n    });\r\n    menu.addLine();\r\n    menu.addItem(localize('none'), null);\r\n    menu.popUpAtHand(this.world());\r\n};\r\n\r\nSpriteMorph.prototype.setExemplar = function (another) {\r\n    var ide;\r\n    this.emancipate();\r\n    this.exemplar = another;\r\n    if (another) {\r\n        this.variables.parentFrame = another.variables;\r\n        another.addSpecimen(this);\r\n    } else {\r\n        this.variables.parentFrame = this.globalVariables();\r\n    }\r\n    if (!this.isTemporary) {\r\n        ide = this.parentThatIsA(IDE_Morph);\r\n        if (ide) {\r\n            ide.flushBlocksCache('variables');\r\n            ide.refreshPalette();\r\n        }\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.prune = function () {\r\n    // sever ties with all my specimen, if any,\r\n    this.instances.forEach(function (child) {\r\n        child.shadowAllAttributes();\r\n        child.shadowAllMethods();\r\n        child.shadowAllVars();\r\n        child.exemplar = null;\r\n    });\r\n    this.instances = [];\r\n};\r\n\r\nSpriteMorph.prototype.emancipate = function () {\r\n    // sever all relations with my exemplar, if any,\r\n    // and make sure I am the root of my specimen\r\n    if (this.exemplar) {\r\n        if (!this.isTemporary) {\r\n            this.shadowAllAttributes();\r\n            this.shadowAllMethods();\r\n            this.shadowAllVars();\r\n        }\r\n        this.exemplar.removeSpecimen(this); // optimization\r\n        this.exemplar = null;\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.allExemplars = function () {\r\n    // including myself\r\n    var all = [],\r\n        current = this;\r\n    while (!isNil(current)) {\r\n        all.push(current);\r\n        current = current.exemplar;\r\n    }\r\n    return all;\r\n};\r\n\r\nSpriteMorph.prototype.specimens = function () {\r\n    // without myself\r\n    return this.instances;\r\n};\r\n\r\nSpriteMorph.prototype.allSpecimens = function () {\r\n    // without myself\r\n    var all = this.instances.slice();\r\n    this.instances.forEach(function (child) {\r\n        all.push.apply(all, child.allSpecimens());\r\n    });\r\n    return all;\r\n};\r\n\r\nSpriteMorph.prototype.addSpecimen = function (another) {\r\n    // private - use setExemplar() to establish an inheritance relationship\r\n    this.instances.push(another);\r\n};\r\n\r\nSpriteMorph.prototype.removeSpecimen = function(another) {\r\n    // private - use setExemplar(null) to cancel an inheritance relationship\r\n    var idx = this.instances.indexOf(another);\r\n    if (idx !== -1) {\r\n        this.instances.splice(idx, 1);\r\n    }\r\n};\r\n\r\n// SpriteMorph inheritance - attributes\r\n\r\nSpriteMorph.prototype.inheritsAttribute = function (aName) {\r\n    return !isNil(this.exemplar) && contains(this.inheritedAttributes, aName);\r\n};\r\n\r\nSpriteMorph.prototype.updatePropagationCache = function () {\r\n    // private - indicate whether one of my inherited attributes is technically\r\n    // propagated down from my exemplar, instead of truly shared.\r\n    // (only) needed for internal optimization caching\r\n    var myself = this;\r\n    this.cachedPropagation = !isNil(this.exemplar) && detect(\r\n        ['x position', 'y position', 'direction', 'size', 'costume #'],\r\n        function (att) {\r\n            return contains(myself.inheritedAttributes, att);\r\n        }\r\n    );\r\n};\r\n\r\nSpriteMorph.prototype.shadowedAttributes = function () {\r\n    // answer an array of attribute names that can be deleted/shared\r\n    var inherited = this.inheritedAttributes;\r\n    return this.attributes.filter(function (each) {\r\n        return !contains(inherited, each);\r\n    });\r\n};\r\n\r\nSpriteMorph.prototype.shadowAllAttributes = function () {\r\n    var myself = this;\r\n    this.attributes.forEach(function (att) {\r\n        myself.shadowAttribute(att);\r\n    });\r\n};\r\n\r\nSpriteMorph.prototype.shadowAttribute = function (aName) {\r\n    var ide, wardrobe, jukebox,\r\n        myself = this,\r\n        pos;\r\n    if (!this.inheritsAttribute(aName)) {\r\n        return;\r\n    }\r\n    ide = this.parentThatIsA(IDE_Morph);\r\n    this.inheritedAttributes = this.inheritedAttributes.filter(\r\n        function (each) {return each !== aName; }\r\n    );\r\n    if (aName === 'costumes') {\r\n        wardrobe = new List();\r\n        this.costumes.asArray().forEach(function (costume) {\r\n            var cst = costume.copy();\r\n            wardrobe.add(cst);\r\n            if (costume === myself.costume) {\r\n                myself.wearCostume(cst);\r\n            }\r\n        });\r\n        this.costumes = wardrobe;\r\n        this.instances.forEach(function (obj) {\r\n            if (obj.inheritsAttribute('costumes')) {\r\n                obj.refreshInheritedAttribute('costumes');\r\n            }\r\n        });\r\n    } else if (aName === 'sounds') {\r\n        jukebox = new List();\r\n        this.sounds.asArray().forEach(function (sound) {\r\n            jukebox.add(sound.copy());\r\n        });\r\n        this.sounds = jukebox;\r\n        this.instances.forEach(function (obj) {\r\n            if (obj.inheritsAttribute('sounds')) {\r\n                obj.refreshInheritedAttribute('sounds');\r\n            }\r\n        });\r\n    } else if (aName === 'scripts') {\r\n        ide.stage.threads.stopAllForReceiver(this);\r\n        pos = this.scripts.position();\r\n        this.scripts = this.exemplar.scripts.fullCopy();\r\n        if (ide && (contains(ide.currentSprite.allExemplars(), this))) {\r\n            ide.createSpriteEditor();\r\n            ide.fixLayout('selectSprite');\r\n            this.scripts.fixMultiArgs();\r\n            this.scripts.setPosition(pos);\r\n            ide.spriteEditor.adjustScrollBars();\r\n        }\r\n        this.instances.forEach(function (obj) {\r\n            if (obj.inheritsAttribute('scripts')) {\r\n                obj.refreshInheritedAttribute('scripts');\r\n            }\r\n        });\r\n    } else {\r\n        this.updatePropagationCache();\r\n        if (ide && !this.isTemporary) {\r\n            ide.flushBlocksCache(); // optimization: specify category if known\r\n            ide.refreshPalette();\r\n        }\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.inheritAttribute = function (aName) {\r\n    var ide = this.parentThatIsA(IDE_Morph);\r\n    if (!this.exemplar || !contains(this.attributes, aName)) {\r\n        return;\r\n    }\r\n    if (!this.inheritsAttribute(aName)) {\r\n        this.inheritedAttributes.push(aName);\r\n        this.refreshInheritedAttribute(aName);\r\n        if (ide) {\r\n            ide.flushBlocksCache(); // optimization: specify category\r\n            ide.refreshPalette();\r\n        }\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.refreshInheritedAttribute = function (aName) {\r\n    var ide, idx;\r\n    switch (aName) {\r\n    case 'x position':\r\n    case 'y position':\r\n        this.cachedPropagation = true;\r\n        this.gotoXY(this.xPosition(), this.yPosition(), false, true);\r\n        break;\r\n    case 'direction':\r\n        this.cachedPropagation = true;\r\n        this.setHeading(this.direction(), true);\r\n        break;\r\n    case 'size':\r\n        this.cachedPropagation = true;\r\n        this.setScale(this.getScale(), true);\r\n        break;\r\n    case 'costume #':\r\n        this.cachedPropagation = true;\r\n        this.doSwitchToCostume(this.getCostumeIdx(), true);\r\n        break;\r\n    case 'costumes':\r\n        idx = this.getCostumeIdx();\r\n        this.costumes = this.exemplar.costumes;\r\n        this.doSwitchToCostume(idx, true);\r\n        this.instances.forEach(function (sprite) {\r\n            if (sprite.inheritsAttribute('costumes')) {\r\n                sprite.refreshInheritedAttribute('costumes');\r\n            }\r\n        });\r\n        break;\r\n    case 'sounds':\r\n        this.sounds = this.exemplar.sounds;\r\n        this.instances.forEach(function (sprite) {\r\n            if (sprite.inheritsAttribute('sounds')) {\r\n                sprite.refreshInheritedAttribute('sounds');\r\n            }\r\n        });\r\n        break;\r\n    case 'scripts':\r\n        this.scripts = this.exemplar.scripts;\r\n        ide = this.parentThatIsA(IDE_Morph);\r\n        if (ide) {\r\n            ide.stage.threads.stopAllForReceiver(this);\r\n            if (contains(ide.currentSprite.allExemplars(), this)) {\r\n                ide.createSpriteEditor();\r\n                ide.fixLayout('selectSprite');\r\n            }\r\n        }\r\n        this.instances.forEach(function (sprite) {\r\n            if (sprite.inheritsAttribute('scripts')) {\r\n                sprite.refreshInheritedAttribute('scripts');\r\n            }\r\n        });\r\n        break;\r\n    default:\r\n        nop();\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.toggleInheritanceForAttribute = function (aName) {\r\n    if (this.inheritsAttribute(aName)) {\r\n        this.shadowAttribute(aName);\r\n    } else {\r\n        this.inheritAttribute(aName);\r\n    }\r\n};\r\n\r\n// SpriteMorph inheritance - variables\r\n\r\nSpriteMorph.prototype.isVariableNameInUse = function (vName, isGlobal) {\r\n    if (isGlobal) {\r\n        return contains(this.variables.allNames(), vName);\r\n    }\r\n    if (contains(this.variables.names(), vName)) {return true; }\r\n    return contains(this.globalVariables().names(), vName);\r\n};\r\n\r\nSpriteMorph.prototype.globalVariables = function () {\r\n    var current = this.variables.parentFrame;\r\n    while (current.owner) {\r\n        current = current.parentFrame;\r\n    }\r\n    return current;\r\n};\r\n\r\nSpriteMorph.prototype.shadowAllVars = function () {\r\n    var myself = this;\r\n    this.inheritedVariableNames().forEach(function (name) {\r\n        myself.shadowVar(name, myself.variables.getVar(name));\r\n    });\r\n};\r\n\r\nSpriteMorph.prototype.shadowVar = function (name, value) {\r\n    var ide;\r\n    this.variables.addVar(name, value);\r\n    if (!this.isTemporary) {\r\n        ide = this.parentThatIsA(IDE_Morph);\r\n        if (ide) {\r\n            ide.flushBlocksCache('variables');\r\n            ide.refreshPalette();\r\n        }\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.toggleInheritedVariable = function (vName) {\r\n    if (contains(this.inheritedVariableNames(true), vName)) { // is shadowed\r\n        this.deleteVariable(vName);\r\n    } else if (contains(this.inheritedVariableNames(), vName)) { // inherited\r\n        this.shadowVar(vName, this.variables.getVar(vName));\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.inheritedVariableNames = function (shadowedOnly) {\r\n    var names = [],\r\n        own = this.variables.names(),\r\n        current = this.variables.parentFrame;\r\n\r\n    function test(each) {\r\n        return shadowedOnly ? contains(own, each) : !contains(own, each);\r\n    }\r\n\r\n    while (current.owner instanceof SpriteMorph) {\r\n        names.push.apply(\r\n            names,\r\n            current.names().filter(test)\r\n        );\r\n        current = current.parentFrame;\r\n    }\r\n    return names;\r\n};\r\n\r\nSpriteMorph.prototype.deletableVariableNames = function () {\r\n    var locals = this.variables.names(),\r\n        inherited = this.inheritedVariableNames();\r\n    return locals.concat(\r\n        this.globalVariables().names().filter(\r\n            function (each) {\r\n                return !contains(locals, each) && !contains(inherited, each);\r\n            }\r\n        )\r\n    );\r\n};\r\n\r\nSpriteMorph.prototype.hasSpriteVariable = function (varName) {\r\n    return contains(this.variables.names(), varName);\r\n};\r\n\r\n// SpriteMorph inheritance - custom blocks\r\n\r\nSpriteMorph.prototype.getMethod = function (spec) {\r\n    return this.allBlocks()[spec];\r\n};\r\n\r\nSpriteMorph.prototype.getLocalMethod = function (spec) {\r\n    return this.ownBlocks()[spec];\r\n};\r\n\r\nSpriteMorph.prototype.ownBlocks = function () {\r\n    var dict = {};\r\n    this.customBlocks.forEach(function (def) {\r\n        dict[def.blockSpec()] = def;\r\n    });\r\n    return dict;\r\n};\r\n\r\nSpriteMorph.prototype.allBlocks = function (valuesOnly) {\r\n    var dict = {};\r\n    this.allExemplars().reverse().forEach(function (sprite) {\r\n        sprite.customBlocks.forEach(function (def) {\r\n            dict[def.blockSpec()] = def;\r\n        });\r\n    });\r\n    if (valuesOnly) {\r\n        return Object.keys(dict).map(function (key) {return dict[key]; });\r\n    }\r\n    return dict;\r\n};\r\n\r\nSpriteMorph.prototype.inheritedBlocks = function (valuesOnly) {\r\n    var dict = {},\r\n        own = Object.keys(this.ownBlocks()),\r\n        others = this.allExemplars().reverse();\r\n    others.pop();\r\n    others.forEach(function (sprite) {\r\n        sprite.customBlocks.forEach(function (def) {\r\n            var spec = def.blockSpec();\r\n            if (!contains(own, spec)) {\r\n                dict[spec] = def;\r\n            }\r\n        });\r\n    });\r\n    if (valuesOnly) {\r\n        return Object.keys(dict).map(function (key) {return dict[key]; });\r\n    }\r\n    return dict;\r\n};\r\n\r\nSpriteMorph.prototype.shadowAllMethods = function () {\r\n    var ide,\r\n        myself = this;\r\n    this.inheritedMethods().forEach(function (dup) {\r\n        myself.customBlocks.push(dup);\r\n    });\r\n    if (!this.isTemporary) {\r\n        ide = this.parentThatIsA(IDE_Morph);\r\n        if (ide) {\r\n            ide.flushPaletteCache();\r\n            ide.refreshPalette();\r\n        }\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.inheritedMethods = function () {\r\n    // private - pre-serialization preparation\r\n    var myself = this;\r\n    return this.inheritedBlocks(true).map(function (def) {\r\n        return def.copyAndBindTo(myself, true); // header only\r\n    });\r\n};\r\n\r\n// SpriteMorph thumbnail\r\n\r\nSpriteMorph.prototype.thumbnail = function (extentPoint) {\r\n/*\r\n    answer a new Canvas of extentPoint dimensions containing\r\n    my thumbnail representation keeping the originial aspect ratio\r\n*/\r\n    var src = this.image, // at this time sprites aren't composite morphs\r\n        scale = Math.min(\r\n            (extentPoint.x / src.width),\r\n            (extentPoint.y / src.height)\r\n        ),\r\n        xOffset = (extentPoint.x - (src.width * scale)) / 2,\r\n        yOffset = (extentPoint.y - (src.height * scale)) / 2,\r\n        trg = newCanvas(extentPoint),\r\n        ctx = trg.getContext('2d');\r\n\r\n    function xOut(style, alpha, width) {\r\n        var inset = Math.min(extentPoint.x, extentPoint.y) / 10;\r\n        ctx.strokeStyle = style;\r\n        ctx.globalAlpha = alpha;\r\n        ctx.compositeOperation = 'lighter';\r\n        ctx.lineWidth = width || 1;\r\n        ctx.moveTo(inset, inset);\r\n        ctx.lineTo(trg.width - inset, trg.height - inset);\r\n        ctx.moveTo(inset, trg.height - inset);\r\n        ctx.lineTo(trg.width - inset, inset);\r\n        ctx.stroke();\r\n    }\r\n\r\n    ctx.save();\r\n    if (this.isCorpse) {\r\n        ctx.globalAlpha = 0.3;\r\n    }\r\n    if (src.width && src.height) {\r\n        ctx.scale(scale, scale);\r\n        ctx.drawImage(\r\n            src,\r\n            Math.floor(xOffset / scale),\r\n            Math.floor(yOffset / scale)\r\n        );\r\n    }\r\n    if (this.isCorpse) {\r\n        ctx.restore();\r\n        xOut('white', 0.8, 6);\r\n        xOut('black', 0.8, 1);\r\n    }\r\n    return trg;\r\n};\r\n\r\nSpriteMorph.prototype.fullThumbnail = function (extentPoint) {\r\n    // containing parts and anchor symbols, if any\r\n    var thumb = this.thumbnail(extentPoint),\r\n        ctx = thumb.getContext('2d'),\r\n        ext = extentPoint.divideBy(3),\r\n        i = 0;\r\n\r\n    ctx.restore();\r\n    if (this.anchor) {\r\n        ctx.drawImage(\r\n            this.anchor.thumbnail(ext),\r\n            0,\r\n            0\r\n        );\r\n    }\r\n    for (i = 0; i < 3; i += 1) {\r\n        if (this.parts[i]) {\r\n            ctx.drawImage(\r\n                this.parts[i].thumbnail(ext),\r\n                i * ext.x,\r\n                extentPoint.y - ext.y\r\n            );\r\n        }\r\n    }\r\n    return thumb;\r\n};\r\n\r\n// SpriteMorph Boolean visual representation\r\n\r\nSpriteMorph.prototype.booleanMorph = function (bool) {\r\n    var sym = new BooleanSlotMorph(bool);\r\n    sym.isStatic = true;\r\n    sym.drawNew();\r\n    return sym;\r\n};\r\n\r\n// SpriteMorph nesting\r\n/*\r\n    simulate Morphic trees\r\n*/\r\n\r\nSpriteMorph.prototype.attachPart = function (aSprite) {\r\n    var v = Date.now();\r\n    if (aSprite.anchor) {\r\n        aSprite.anchor.detachPart(aSprite);\r\n    }\r\n    this.parts.push(aSprite);\r\n    this.version = v;\r\n    aSprite.anchor = this;\r\n    this.allParts().forEach(function (part) {\r\n        part.nestingScale = part.scale;\r\n    });\r\n    aSprite.version = v;\r\n};\r\n\r\nSpriteMorph.prototype.detachPart = function (aSprite) {\r\n    var idx = this.parts.indexOf(aSprite),\r\n        v;\r\n    if (idx !== -1) {\r\n        v = Date.now();\r\n        this.parts.splice(idx, 1);\r\n        this.version = v;\r\n        aSprite.anchor = null;\r\n        aSprite.version = v;\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.detachAllParts = function () {\r\n    var v = Date.now();\r\n\r\n    this.parts.forEach(function (part) {\r\n        part.anchor = null;\r\n        part.version = v;\r\n    });\r\n    this.parts = [];\r\n    this.version = v;\r\n};\r\n\r\nSpriteMorph.prototype.detachFromAnchor = function () {\r\n    if (this.anchor) {\r\n        this.anchor.detachPart(this);\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.allParts = function () {\r\n    // includes myself\r\n    var result = [this];\r\n    this.parts.forEach(function (part) {\r\n        result = result.concat(part.allParts());\r\n    });\r\n    return result;\r\n};\r\n\r\nSpriteMorph.prototype.allAnchors = function () {\r\n    // includes myself\r\n    var result = [this];\r\n    if (this.anchor !== null) {\r\n        result = result.concat(this.anchor.allAnchors());\r\n    }\r\n    return result;\r\n};\r\n\r\nSpriteMorph.prototype.recordLayers = function () {\r\n    var stage = this.parentThatIsA(StageMorph);\r\n    if (!stage) {\r\n        this.layerCache = null;\r\n        return;\r\n    }\r\n    this.layers = this.allParts();\r\n    this.layers.forEach(function (part) {\r\n        var bubble = part.talkBubble();\r\n        if (bubble) {bubble.hide(); }\r\n    });\r\n    this.layers.sort(function (x, y) {\r\n        return stage.children.indexOf(x) < stage.children.indexOf(y) ?\r\n                -1 : 1;\r\n    });\r\n};\r\n\r\nSpriteMorph.prototype.restoreLayers = function () {\r\n    if (this.layers && this.layers.length > 1) {\r\n        this.layers.forEach(function (sprite) {\r\n            sprite.comeToFront();\r\n            sprite.positionTalkBubble();\r\n        });\r\n    }\r\n    this.layers = null;\r\n};\r\n\r\n// SpriteMorph destroying\r\n\r\nSpriteMorph.prototype.destroy = function () {\r\n    // make sure to sever all inheritance ties to other sprites\r\n    if (this.anchor) {\r\n        this.anchor.detachPart(this);\r\n    }\r\n    this.emancipate();\r\n    if (!this.isTemporary) {\r\n        this.prune();\r\n    }\r\n    SpriteMorph.uber.destroy.call(this);\r\n};\r\n\r\n// SpriteMorph highlighting\r\n\r\nSpriteMorph.prototype.flash = function () {\r\n\tvar world = this.world(),\r\n\t\tmyself = this;\r\n    this.addHighlight();\r\n\tworld.animations.push(new Animation(\r\n\t\tnop,\r\n  \t\tnop,\r\n    \t0,\r\n     \t800,\r\n      \tnop,\r\n      \tfunction () {myself.removeHighlight(); }\r\n\t));\r\n};\r\n\r\nSpriteMorph.prototype.addHighlight = function (oldHighlight) {\r\n    var isHidden = !this.isVisible,\r\n        highlight;\r\n\r\n    if (isHidden) {this.show(); }\r\n    highlight = this.highlight(\r\n        oldHighlight ? oldHighlight.color : this.highlightColor,\r\n        this.highlightBorder\r\n    );\r\n    this.addBack(highlight);\r\n    this.fullChanged();\r\n    if (isHidden) {this.hide(); }\r\n    return highlight;\r\n};\r\n\r\nSpriteMorph.prototype.removeHighlight = function () {\r\n    var highlight = this.getHighlight();\r\n    if (highlight !== null) {\r\n        this.fullChanged();\r\n        this.removeChild(highlight);\r\n    }\r\n    return highlight;\r\n};\r\n\r\nSpriteMorph.prototype.toggleHighlight = function () {\r\n    if (this.getHighlight()) {\r\n        this.removeHighlight();\r\n    } else {\r\n        this.addHighlight();\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.highlight = function (color, border) {\r\n    var highlight = new SpriteHighlightMorph(),\r\n        fb = this.bounds, // sprites are not nested in a Morphic way\r\n        edge = border,\r\n        ctx;\r\n\r\n    highlight.setExtent(fb.extent().add(edge * 2));\r\n    highlight.color = color;\r\n    highlight.image = this.highlightImage(color, border);\r\n    ctx = highlight.image.getContext('2d');\r\n    ctx.drawImage(\r\n        this.highlightImage(new Color(255, 255, 255), 4),\r\n        border - 4,\r\n        border - 4\r\n    );\r\n    ctx.drawImage(\r\n        this.highlightImage(new Color(50, 50, 50), 2),\r\n        border - 2,\r\n        border - 2\r\n    );\r\n    ctx.drawImage(\r\n        this.highlightImage(new Color(255, 255, 255), 1),\r\n        border - 1,\r\n        border - 1\r\n    );\r\n    highlight.setPosition(fb.origin.subtract(new Point(edge, edge)));\r\n    return highlight;\r\n};\r\n\r\nSpriteMorph.prototype.highlightImage = function (color, border) {\r\n    var fb, img, hi, ctx, out;\r\n    fb = this.extent();\r\n    img = this.image;\r\n\r\n    hi = newCanvas(fb.add(border * 2));\r\n    ctx = hi.getContext('2d');\r\n\r\n    ctx.drawImage(img, 0, 0);\r\n    ctx.drawImage(img, border, 0);\r\n    ctx.drawImage(img, border * 2, 0);\r\n    ctx.drawImage(img, border * 2, border);\r\n    ctx.drawImage(img, border * 2, border * 2);\r\n    ctx.drawImage(img, border, border * 2);\r\n    ctx.drawImage(img, 0, border * 2);\r\n    ctx.drawImage(img, 0, border);\r\n\r\n    ctx.globalCompositeOperation = 'destination-out';\r\n    ctx.drawImage(img, border, border);\r\n\r\n    out = newCanvas(fb.add(border * 2));\r\n    ctx = out.getContext('2d');\r\n    ctx.drawImage(hi, 0, 0);\r\n    ctx.globalCompositeOperation = 'source-atop';\r\n    ctx.fillStyle = color.toString();\r\n    ctx.fillRect(0, 0, out.width, out.height);\r\n\r\n    return out;\r\n};\r\n\r\nSpriteMorph.prototype.getHighlight = function () {\r\n    var highlights;\r\n    highlights = this.children.slice(0).reverse().filter(\r\n        function (child) {\r\n            return child instanceof SpriteHighlightMorph;\r\n        }\r\n    );\r\n    if (highlights.length !== 0) {\r\n        return highlights[0];\r\n    }\r\n    return null;\r\n};\r\n\r\n// SpriteMorph nesting events\r\n\r\nSpriteMorph.prototype.mouseEnterDragging = function () {\r\n    var obj;\r\n    if (!this.enableNesting) {return; }\r\n    obj = this.world().hand.children[0];\r\n    if (this.wantsDropOf(obj)) {\r\n        this.addHighlight();\r\n    }\r\n};\r\n\r\nSpriteMorph.prototype.mouseLeave = function () {\r\n    this.receiveUserInteraction('mouse-departed');\r\n    if (!this.enableNesting) {return; }\r\n    this.removeHighlight();\r\n};\r\n\r\nSpriteMorph.prototype.wantsDropOf = function (morph) {\r\n    // allow myself to be the anchor of another sprite\r\n    // by drag & drop\r\n    return this.enableNesting\r\n        && morph instanceof SpriteIconMorph\r\n        && !contains(morph.object.allParts(), this);\r\n};\r\n\r\nSpriteMorph.prototype.reactToDropOf = function (morph, hand) {\r\n    this.removeHighlight();\r\n    this.attachPart(morph.object);\r\n    this.world().add(morph);\r\n    morph.slideBackTo(hand.grabOrigin);\r\n};\r\n\r\n// SpriteMorph screenshots\r\n\r\nSpriteMorph.prototype.newCostumeName = function (name, ignoredCostume) {\r\n    var ix = name.indexOf('('),\r\n        stem = (ix < 0) ? name : name.substring(0, ix),\r\n        count = 1,\r\n        newName = stem,\r\n        all = this.costumes.asArray().filter(\r\n            function (each) {return each !== ignoredCostume; }\r\n        ).map(\r\n            function (each) {return each.name; }\r\n        );\r\n    while (contains(all, newName)) {\r\n        count += 1;\r\n        newName = stem + '(' + count + ')';\r\n    }\r\n    return newName;\r\n};\r\n\r\nSpriteMorph.prototype.doScreenshot = function (imgSource, data) {\r\n    var canvas,\r\n        stage = this.parentThatIsA(StageMorph),\r\n        costume;\r\n    data = this.newCostumeName(data);\r\n    if (imgSource[0] === undefined) {\r\n        return;\r\n    }\r\n    if (imgSource[0] === \"pen trails\") {\r\n        canvas = stage.trailsCanvas;\r\n        costume = new Costume(canvas, data).copy(); // prevent mutation\r\n    } else if (imgSource[0] === \"stage image\") {\r\n        canvas = stage.fullImageClassic();\r\n        costume = new Costume(canvas, data);\r\n    }\r\n    this.addCostume(costume);\r\n};\r\n\r\n// SpriteHighlightMorph /////////////////////////////////////////////////\r\n\r\n// SpriteHighlightMorph inherits from Morph:\r\n\r\nSpriteHighlightMorph.prototype = new Morph();\r\nSpriteHighlightMorph.prototype.constructor = SpriteHighlightMorph;\r\nSpriteHighlightMorph.uber = Morph.prototype;\r\n\r\n// SpriteHighlightMorph instance creation:\r\n\r\nfunction SpriteHighlightMorph() {\r\n    this.init();\r\n}\r\n\r\n// StageMorph /////////////////////////////////////////////////////////\r\n\r\n/*\r\n    I inherit from FrameMorph and copy from SpriteMorph.\r\n*/\r\n\r\n// StageMorph inherits from FrameMorph:\r\n\r\nStageMorph.prototype = new FrameMorph();\r\nStageMorph.prototype.constructor = StageMorph;\r\nStageMorph.uber = FrameMorph.prototype;\r\n\r\n// StageMorph preferences settings\r\n\r\nStageMorph.prototype.dimensions = new Point(480, 360); // unscaled extent\r\nStageMorph.prototype.frameRate = 0; // unscheduled per default\r\n\r\nStageMorph.prototype.isCachingPrimitives\r\n    = SpriteMorph.prototype.isCachingPrimitives;\r\n\r\nStageMorph.prototype.sliderColor\r\n    = SpriteMorph.prototype.sliderColor;\r\n\r\nStageMorph.prototype.paletteTextColor\r\n    = SpriteMorph.prototype.paletteTextColor;\r\n\r\nStageMorph.prototype.hiddenPrimitives = {};\r\nStageMorph.prototype.codeMappings = {};\r\nStageMorph.prototype.codeHeaders = {};\r\nStageMorph.prototype.enableCodeMapping = false;\r\nStageMorph.prototype.enableInheritance = true;\r\nStageMorph.prototype.enableSublistIDs = false;\r\n\r\n// StageMorph instance creation\r\n\r\nfunction StageMorph(globals) {\r\n    this.init(globals);\r\n}\r\n\r\nStageMorph.prototype.init = function (globals) {\r\n    this.name = localize('Stage');\r\n    this.instrument = null;\r\n    this.threads = new ThreadManager();\r\n    this.variables = new VariableFrame(globals || null, this);\r\n    this.scripts = new ScriptsMorph();\r\n    this.customBlocks = [];\r\n    this.globalBlocks = [];\r\n    this.costumes = new List();\r\n    this.costume = null;\r\n    this.sounds = new List();\r\n    this.version = Date.now(); // for observers\r\n    this.isFastTracked = false;\r\n    this.enableCustomHatBlocks = true;\r\n    this.cloneCount = 0;\r\n\r\n    this.timerStart = Date.now();\r\n    this.tempo = 60; // bpm\r\n    this.lastMessage = '';\r\n\r\n    this.watcherUpdateFrequency = 2;\r\n    this.lastWatcherUpdate = Date.now();\r\n\r\n    this.scale = 1; // for display modes, do not persist\r\n\r\n    this.keysPressed = {}; // for handling keyboard events, do not persist\r\n    this.blocksCache = {}; // not to be serialized (!)\r\n    this.paletteCache = {}; // not to be serialized (!)\r\n    this.lastAnswer = ''; // last user input, do not persist\r\n    this.activeSounds = []; // do not persist\r\n\r\n    this.trailsCanvas = null;\r\n    this.isThreadSafe = false;\r\n\r\n    this.graphicsValues = {\r\n        'color': 0,\r\n        'fisheye': 0,\r\n        'whirl': 0,\r\n        'pixelate': 0,\r\n        'mosaic': 0,\r\n        'duplicate': 0,\r\n        'negative': 0,\r\n        'comic': 0,\r\n        'confetti': 0,\r\n        'saturation': 0,\r\n        'brightness': 0\r\n    };\r\n\r\n    StageMorph.uber.init.call(this);\r\n\r\n    this.acceptsDrops = false;\r\n    this.setColor(new Color(255, 255, 255));\r\n    this.fps = this.frameRate;\r\n};\r\n\r\n// StageMorph scaling\r\n\r\nStageMorph.prototype.setScale = function (number) {\r\n    var delta = number / this.scale,\r\n        pos = this.position(),\r\n        relativePos,\r\n        bubble,\r\n        oldFlag = Morph.prototype.trackChanges,\r\n        myself = this;\r\n\r\n    if (delta === 1) {return; }\r\n    Morph.prototype.trackChanges = false;\r\n    this.scale = number;\r\n    this.setExtent(this.dimensions.multiplyBy(number));\r\n\r\n    // now move and resize all children - sprites, bubbles, watchers etc..\r\n    this.children.forEach(function (morph) {\r\n        relativePos = morph.position().subtract(pos);\r\n        morph.drawNew();\r\n        morph.setPosition(\r\n            relativePos.multiplyBy(delta).add(pos),\r\n            true // just me (for nested sprites)\r\n        );\r\n        if (morph instanceof SpriteMorph) {\r\n            bubble = morph.talkBubble();\r\n            if (bubble) {\r\n                bubble.setScale(number);\r\n                morph.positionTalkBubble();\r\n            }\r\n        } else if (morph instanceof StagePrompterMorph) {\r\n            if (myself.scale < 1) {\r\n                morph.setWidth(myself.width() - 10);\r\n            } else {\r\n                morph.setWidth(myself.dimensions.x - 20);\r\n            }\r\n            morph.fixLayout();\r\n            morph.setCenter(myself.center());\r\n            morph.setBottom(myself.bottom());\r\n        }\r\n    });\r\n    Morph.prototype.trackChanges = oldFlag;\r\n    this.changed();\r\n};\r\n\r\n// StageMorph rendering\r\n\r\nStageMorph.prototype.drawNew = function () {\r\n    var ctx;\r\n    StageMorph.uber.drawNew.call(this);\r\n    if (this.costume) {\r\n        ctx = this.image.getContext('2d');\r\n        ctx.scale(this.scale, this.scale);\r\n        ctx.drawImage(\r\n            this.costume.contents,\r\n            (this.width() / this.scale - this.costume.width()) / 2,\r\n            (this.height() / this.scale - this.costume.height()) / 2\r\n        );\r\n        this.image = this.applyGraphicsEffects(this.image);\r\n    }\r\n    this.version = Date.now(); // for observer optimization\r\n};\r\n\r\nStageMorph.prototype.drawOn = function (aCanvas, aRect) {\r\n    // make sure to draw the pen trails canvas as well\r\n    var rectangle, area, delta, src, context, w, h, sl, st, ws, hs;\r\n    if (!this.isVisible) {\r\n        return null;\r\n    }\r\n    rectangle = aRect || this.bounds;\r\n    area = rectangle.intersect(this.bounds);\r\n    if (area.extent().gt(new Point(0, 0))) {\r\n        delta = this.position().neg();\r\n        src = area.copy().translateBy(delta);\r\n        context = aCanvas.getContext('2d');\r\n        context.globalAlpha = this.alpha;\r\n\r\n        sl = src.left();\r\n        st = src.top();\r\n        w = Math.min(src.width(), this.image.width - sl);\r\n        h = Math.min(src.height(), this.image.height - st);\r\n\r\n        if (w < 1 || h < 1) {\r\n            return null;\r\n        }\r\n        context.drawImage(\r\n            this.image,\r\n            sl,\r\n            st,\r\n            w,\r\n            h,\r\n            area.left(),\r\n            area.top(),\r\n            w,\r\n            h\r\n        );\r\n\r\n        // pen trails\r\n        ws = w / this.scale;\r\n        hs = h / this.scale;\r\n        context.save();\r\n        context.scale(this.scale, this.scale);\r\n        try {\r\n            context.drawImage(\r\n                this.penTrails(),\r\n                sl / this.scale,\r\n                st / this.scale,\r\n                ws,\r\n                hs,\r\n                area.left() / this.scale,\r\n                area.top() / this.scale,\r\n                ws,\r\n                hs\r\n            );\r\n        } catch (err) { // sometimes triggered only by Firefox\r\n            // console.log(err);\r\n            context.restore();\r\n            context.drawImage(\r\n                this.penTrails(),\r\n                0,\r\n                0,\r\n                this.dimensions.x,\r\n                this.dimensions.y,\r\n                this.left(),\r\n                this.top(),\r\n                this.dimensions.x * this.scale,\r\n                this.dimensions.y * this.scale\r\n            );\r\n        }\r\n        context.restore();\r\n    }\r\n};\r\n\r\nStageMorph.prototype.clearPenTrails = function () {\r\n    this.trailsCanvas = newCanvas(this.dimensions);\r\n    this.changed();\r\n};\r\n\r\nStageMorph.prototype.penTrails = function () {\r\n    if (!this.trailsCanvas) {\r\n        this.trailsCanvas = newCanvas(this.dimensions);\r\n    }\r\n    return this.trailsCanvas;\r\n};\r\n\r\nStageMorph.prototype.penTrailsMorph = function () {\r\n    // for collision detection purposes\r\n    var morph = new Morph(),\r\n        trails = this.penTrails(),\r\n        ctx;\r\n    morph.bounds = this.bounds.copy();\r\n    morph.image = newCanvas(this.extent());\r\n    ctx = morph.image.getContext('2d');\r\n    ctx.drawImage(\r\n        trails,\r\n        0,\r\n        0,\r\n        trails.width,\r\n        trails.height,\r\n        0,\r\n        0,\r\n        this.image.width,\r\n        this.image.height\r\n    );\r\n    return morph;\r\n};\r\n\r\nStageMorph.prototype.colorFiltered = function (aColor, excludedSprite) {\r\n    // answer a new Morph containing my image filtered by aColor\r\n    // ignore the excludedSprite, because its collision is checked\r\n    // ignore transparency (alpha)\r\n    var morph = new Morph(),\r\n        ext = this.extent(),\r\n        img = this.thumbnail(ext, excludedSprite),\r\n        ctx,\r\n        src,\r\n        clr,\r\n        i,\r\n        dta;\r\n\r\n    src = normalizeCanvas(img, true).getContext('2d').getImageData(\r\n        0,\r\n        0,\r\n        ext.x,\r\n        ext.y\r\n    );\r\n    morph.bounds = this.bounds.copy();\r\n    morph.image = newCanvas(ext, true);\r\n    ctx = morph.image.getContext('2d');\r\n    dta = ctx.createImageData(ext.x, ext.y);\r\n    for (i = 0; i < ext.x * ext.y * 4; i += 4) {\r\n        clr = new Color(\r\n            src.data[i],\r\n            src.data[i + 1],\r\n            src.data[i + 2]\r\n        );\r\n        if (clr.eq(aColor)) {\r\n            dta.data[i] = src.data[i];\r\n            dta.data[i + 1] = src.data[i + 1];\r\n            dta.data[i + 2] = src.data[i + 2];\r\n            dta.data[i + 3] = 255;\r\n        }\r\n    }\r\n    ctx.putImageData(dta, 0, 0);\r\n    return morph;\r\n};\r\n\r\n// StageMorph pixel access:\r\n\r\nStageMorph.prototype.getPixelColor = function (aPoint) {\r\n    var point, context, data;\r\n\tif (this.trailsCanvas) {\r\n        point = aPoint.subtract(this.bounds.origin);\r\n        context = this.trailsCanvas.getContext('2d');\r\n        data = context.getImageData(point.x, point.y, 1, 1);\r\n        if (data.data[3] === 0) {\r\n        \treturn StageMorph.uber.getPixelColor.call(this, aPoint);\r\n        }\r\n        return new Color(\r\n            data.data[0],\r\n            data.data[1],\r\n            data.data[2],\r\n            data.data[3] / 255\r\n        );\r\n \t}\r\n};\r\n\r\n// StageMorph accessing\r\n\r\nStageMorph.prototype.watchers = function (leftPos) {\r\n/*\r\n    answer an array of all currently visible watchers.\r\n    If leftPos is specified, filter the list for all\r\n    shown or hidden watchers whose left side equals\r\n    the given border (for automatic positioning)\r\n*/\r\n    return this.children.filter(function (morph) {\r\n        if (morph instanceof WatcherMorph) {\r\n            if (leftPos) {\r\n                return morph.left() === leftPos;\r\n            }\r\n            return morph.isVisible;\r\n        }\r\n        return false;\r\n    });\r\n};\r\n\r\n// StageMorph timer\r\n\r\nStageMorph.prototype.resetTimer = function () {\r\n    this.timerStart = Date.now();\r\n};\r\n\r\nStageMorph.prototype.getTimer = function () {\r\n    var elapsed = Math.floor((Date.now() - this.timerStart) / 100);\r\n    return elapsed / 10;\r\n};\r\n\r\n// StageMorph tempo\r\n\r\nStageMorph.prototype.setTempo = function (bpm) {\r\n    this.tempo = Math.max(20, (+bpm || 0));\r\n};\r\n\r\nStageMorph.prototype.changeTempo = function (delta) {\r\n    this.setTempo(this.getTempo() + (+delta || 0));\r\n};\r\n\r\nStageMorph.prototype.getTempo = function () {\r\n    return +this.tempo;\r\n};\r\n\r\n// StageMorph messages\r\n\r\nStageMorph.prototype.getLastMessage = function () {\r\n    return this.lastMessage || '';\r\n};\r\n\r\n// StageMorph Mouse Coordinates\r\n\r\nStageMorph.prototype.reportMouseX = function () {\r\n    var world = this.world();\r\n    if (world) {\r\n        return (world.hand.position().x - this.center().x) / this.scale;\r\n    }\r\n    return 0;\r\n};\r\n\r\nStageMorph.prototype.reportMouseY = function () {\r\n    var world = this.world();\r\n    if (world) {\r\n        return (this.center().y - world.hand.position().y) / this.scale;\r\n    }\r\n    return 0;\r\n};\r\n\r\n// StageMorph drag & drop\r\n\r\nStageMorph.prototype.wantsDropOf = function (aMorph) {\r\n    return aMorph instanceof SpriteMorph ||\r\n        aMorph instanceof WatcherMorph ||\r\n        aMorph instanceof ListWatcherMorph ||\r\n        aMorph instanceof SpriteIconMorph;\r\n};\r\n\r\nStageMorph.prototype.reactToDropOf = function (morph, hand) {\r\n    if (morph instanceof SpriteIconMorph) { // detach sprite from anchor\r\n        if (morph.object.anchor) {\r\n            morph.object.anchor.detachPart(morph.object);\r\n        }\r\n        this.world().add(morph);\r\n        morph.slideBackTo(hand.grabOrigin);\r\n    }\r\n};\r\n\r\n// StageMorph stepping\r\n\r\nStageMorph.prototype.step = function () {\r\n    var current, elapsed, leftover, ide, world = this.world();\r\n\r\n    // handle keyboard events\r\n    if (world.keyboardReceiver === null) {\r\n        world.keyboardReceiver = this;\r\n    }\r\n    if (world.currentKey === null) {\r\n        this.keyPressed = null;\r\n    }\r\n\r\n    // manage threads\r\n    if (this.enableCustomHatBlocks) {\r\n        this.stepGenericConditions();\r\n    }\r\n    if (this.isFastTracked && this.threads.processes.length) {\r\n        this.children.forEach(function (morph) {\r\n            if (morph instanceof SpriteMorph) {\r\n                morph.wasWarped = morph.isWarped;\r\n                if (!morph.isWarped) {\r\n                    morph.startWarp();\r\n                }\r\n            }\r\n        });\r\n        while ((Date.now() - this.lastTime) < 17) { // approx. 60 fps\r\n            this.threads.step();\r\n        }\r\n        this.children.forEach(function (morph) {\r\n            if (morph instanceof SpriteMorph) {\r\n                if (!morph.wasWarped) {\r\n                    morph.endWarp();\r\n                }\r\n            }\r\n        });\r\n        this.changed();\r\n    } else {\r\n        this.threads.step();\r\n\r\n        // single-stepping hook:\r\n        if (this.threads.wantsToPause) {\r\n            ide = this.parentThatIsA(IDE_Morph);\r\n            if (ide) {\r\n                ide.controlBar.pauseButton.refresh();\r\n            }\r\n        }\r\n    }\r\n\r\n    // update watchers\r\n    current = Date.now();\r\n    elapsed = current - this.lastWatcherUpdate;\r\n    leftover = (1000 / this.watcherUpdateFrequency) - elapsed;\r\n    if (leftover < 1) {\r\n        this.watchers().forEach(function (w) {\r\n            w.update();\r\n        });\r\n        this.lastWatcherUpdate = Date.now();\r\n    }\r\n};\r\n\r\nStageMorph.prototype.stepGenericConditions = function (stopAll) {\r\n    var hatCount = 0,\r\n        myself = this,\r\n        ide;\r\n    this.children.concat(this).forEach(function (morph) {\r\n        if (isSnapObject(morph)) {\r\n            morph.allGenericHatBlocks().forEach(function (block) {\r\n                hatCount += 1;\r\n                myself.threads.doWhen(block, morph, stopAll);\r\n            });\r\n        }\r\n    });\r\n    if (!hatCount) {\r\n        this.enableCustomHatBlocks = false;\r\n        ide = this.parentThatIsA(IDE_Morph);\r\n        if (ide) {\r\n            ide.controlBar.stopButton.refresh();\r\n        }\r\n    }\r\n};\r\n\r\nStageMorph.prototype.developersMenu = function () {\r\n    var myself = this,\r\n        menu = StageMorph.uber.developersMenu.call(this);\r\n    menu.addItem(\r\n        \"stop\",\r\n        function () {\r\n            myself.threads.stopAll();\r\n        },\r\n        'terminate all running threads'\r\n    );\r\n    return menu;\r\n};\r\n\r\n// StageMorph keyboard events\r\n\r\nStageMorph.prototype.processKeyDown = function (event) {\r\n    this.processKeyEvent(\r\n        event,\r\n        this.fireKeyEvent\r\n    );\r\n};\r\n\r\nStageMorph.prototype.processKeyUp = function (event) {\r\n    this.processKeyEvent(\r\n        event,\r\n        this.removePressedKey\r\n    );\r\n};\r\n\r\nStageMorph.prototype.processKeyEvent = function (event, action) {\r\n    var keyName;\r\n\r\n    // this.inspectKeyEvent(event);\r\n    switch (event.keyCode) {\r\n    case 13:\r\n        keyName = 'enter';\r\n        if (event.ctrlKey || event.metaKey) {\r\n            keyName = 'ctrl enter';\r\n        } else if (event.shiftKey) {\r\n            keyName = 'shift enter';\r\n        }\r\n        break;\r\n    case 27:\r\n        keyName = 'esc';\r\n        break;\r\n    case 32:\r\n        keyName = 'space';\r\n        break;\r\n    case 37:\r\n        keyName = 'left arrow';\r\n        break;\r\n    case 39:\r\n        keyName = 'right arrow';\r\n        break;\r\n    case 38:\r\n        keyName = 'up arrow';\r\n        break;\r\n    case 40:\r\n        keyName = 'down arrow';\r\n        break;\r\n    default:\r\n        keyName = String.fromCharCode(event.keyCode || event.charCode);\r\n        if (event.ctrlKey || event.metaKey) {\r\n            keyName = 'ctrl ' + (event.shiftKey ? 'shift ' : '') + keyName;\r\n        }\r\n    }\r\n    action.call(this, keyName);\r\n};\r\n\r\nStageMorph.prototype.fireKeyEvent = function (key) {\r\n    var evt = key.toLowerCase(),\r\n        procs = [],\r\n        ide = this.parentThatIsA(IDE_Morph),\r\n        myself = this;\r\n\r\n    this.keysPressed[evt] = true;\r\n    if (evt === 'ctrl enter') {\r\n        return this.fireGreenFlagEvent();\r\n    }\r\n    if (evt === 'shift enter') {\r\n        return this.editScripts();\r\n    }\r\n    if (evt === 'ctrl f') {\r\n        if (!ide.isAppMode) {ide.currentSprite.searchBlocks(); }\r\n        return;\r\n    }\r\n    if (evt === 'ctrl z') {\r\n        if (!ide.isAppMode) {ide.currentSprite.scripts.undrop(); }\r\n         return;\r\n    }\r\n    if (evt === 'ctrl shift z' || (evt === 'ctrl y')) {\r\n        if (!ide.isAppMode) {ide.currentSprite.scripts.redrop(); }\r\n         return;\r\n    }\r\n    if (evt === 'ctrl n') {\r\n        if (!ide.isAppMode) {ide.createNewProject(); }\r\n        return;\r\n    }\r\n    if (evt === 'ctrl o') {\r\n        if (!ide.isAppMode) {ide.openProjectsBrowser(); }\r\n        return;\r\n    }\r\n    if (evt === 'ctrl s') {\r\n        if (!ide.isAppMode) {ide.save(); }\r\n        return;\r\n    }\r\n    if (evt === 'ctrl shift s') {\r\n        if (!ide.isAppMode) {return ide.saveProjectsBrowser(); }\r\n        return;\r\n    }\r\n    if (evt === 'esc') {\r\n        return this.fireStopAllEvent();\r\n    }\r\n    this.children.concat(this).forEach(function (morph) {\r\n        if (isSnapObject(morph)) {\r\n            morph.allHatBlocksForKey(evt).forEach(function (block) {\r\n                procs.push(myself.threads.startProcess(\r\n                    block,\r\n                    morph,\r\n                    myself.isThreadSafe\r\n                ));\r\n            });\r\n        }\r\n    });\r\n    return procs;\r\n};\r\n\r\nStageMorph.prototype.removePressedKey = function (key) {\r\n    delete this.keysPressed[key.toLowerCase()];\r\n};\r\n\r\nStageMorph.prototype.processKeyPress = function (event) {\r\n    nop(event);\r\n};\r\n\r\nStageMorph.prototype.inspectKeyEvent\r\n    = CursorMorph.prototype.inspectKeyEvent;\r\n\r\nStageMorph.prototype.fireGreenFlagEvent = function () {\r\n    compteur();//Wiquid green flag trigger counter 1.\r\n    var procs = [],\r\n        ide = this.parentThatIsA(IDE_Morph),\r\n        myself = this;\r\n\r\n    this.children.concat(this).forEach(function (morph) {\r\n        if (isSnapObject(morph)) {\r\n            morph.allHatBlocksFor('__shout__go__').forEach(function (block) {\r\n                procs.push(myself.threads.startProcess(\r\n                    block,\r\n                    morph,\r\n                    myself.isThreadSafe\r\n                ));\r\n            });\r\n        }\r\n    });\r\n    if (ide) {\r\n        ide.controlBar.pauseButton.refresh();\r\n    }\r\n    return procs;\r\n};\r\n\r\nStageMorph.prototype.fireStopAllEvent = function () {\r\n    var ide = this.parentThatIsA(IDE_Morph);\r\n    this.threads.resumeAll(this.stage);\r\n    this.keysPressed = {};\r\n    this.threads.stopAll();\r\n    this.stopAllActiveSounds();\r\n    this.children.forEach(function (morph) {\r\n        if (morph.stopTalking) {\r\n            morph.stopTalking();\r\n        }\r\n    });\r\n    this.removeAllClones();\r\n    if (ide) {\r\n        ide.nextSteps([\r\n            nop,\r\n            function () {ide.controlBar.pauseButton.refresh(); }\r\n        ]);\r\n    }\r\n};\r\n\r\nStageMorph.prototype.removeAllClones = function () {\r\n    var myself = this,\r\n        clones = this.children.filter(\r\n            function (morph) {\r\n                return morph instanceof SpriteMorph && morph.isTemporary;\r\n            }\r\n        );\r\n    clones.forEach(function (clone) {\r\n        myself.threads.stopAllForReceiver(clone);\r\n        clone.detachFromAnchor();\r\n        clone.corpsify();\r\n        clone.destroy();\r\n    });\r\n    this.cloneCount = 0;\r\n};\r\n\r\nStageMorph.prototype.editScripts = function () {\r\n    var ide = this.parentThatIsA(IDE_Morph),\r\n        scripts,\r\n        sorted;\r\n    if (ide.isAppMode || !ScriptsMorph.prototype.enableKeyboard) {return; }\r\n    scripts = this.parentThatIsA(\r\n        IDE_Morph\r\n    ).currentSprite.scripts.selectForEdit(); // shadow on edit, if inherited\r\n    scripts.edit(scripts.position());\r\n    sorted = scripts.focus.sortedScripts();\r\n    if (sorted.length) {\r\n        scripts.focus.element = sorted[0];\r\n        if (scripts.focus.element instanceof HatBlockMorph) {\r\n            scripts.focus.nextCommand();\r\n        }\r\n    } else {\r\n        scripts.focus.moveBy(new Point(50, 50));\r\n    }\r\n    scripts.focus.fixLayout();\r\n};\r\n\r\n// StageMorph block templates\r\n\r\nStageMorph.prototype.blockTemplates = function (category) {\r\n    var blocks = [], myself = this, varNames, button,\r\n        cat = category || 'motion', txt;\r\n\r\n    function block(selector) {\r\n        if (myself.hiddenPrimitives[selector]) {\r\n            return null;\r\n        }\r\n        var newBlock = SpriteMorph.prototype.blockForSelector(selector, true);\r\n        newBlock.isTemplate = true;\r\n        return newBlock;\r\n    }\r\n\r\n    function variableBlock(varName) {\r\n        var newBlock = SpriteMorph.prototype.variableBlock(varName);\r\n        newBlock.isDraggable = false;\r\n        newBlock.isTemplate = true;\r\n        return newBlock;\r\n    }\r\n\r\n    function watcherToggle(selector) {\r\n        if (myself.hiddenPrimitives[selector]) {\r\n            return null;\r\n        }\r\n        var info = SpriteMorph.prototype.blocks[selector];\r\n        return new ToggleMorph(\r\n            'checkbox',\r\n            this,\r\n            function () {\r\n                myself.toggleWatcher(\r\n                    selector,\r\n                    localize(info.spec),\r\n                    myself.blockColor[info.category]\r\n                );\r\n            },\r\n            null,\r\n            function () {\r\n                return myself.showingWatcher(selector);\r\n            },\r\n            null\r\n        );\r\n    }\r\n\r\n    function variableWatcherToggle(varName) {\r\n        return new ToggleMorph(\r\n            'checkbox',\r\n            this,\r\n            function () {\r\n                myself.toggleVariableWatcher(varName);\r\n            },\r\n            null,\r\n            function () {\r\n                return myself.showingVariableWatcher(varName);\r\n            },\r\n            null\r\n        );\r\n    }\r\n\r\n    function addVar(pair) {\r\n        if (pair) {\r\n            if (myself.isVariableNameInUse(pair[0])) {\r\n                myself.inform('that name is already in use');\r\n            } else {\r\n                myself.addVariable(pair[0], pair[1]);\r\n                myself.toggleVariableWatcher(pair[0], pair[1]);\r\n                myself.blocksCache[cat] = null;\r\n                myself.paletteCache[cat] = null;\r\n                myself.parentThatIsA(IDE_Morph).refreshPalette();\r\n            }\r\n        }\r\n    }\r\n\r\n    if (cat === 'motion') {\r\n\r\n        txt = new TextMorph(localize(\r\n            'Stage selected:\\nno motion primitives'\r\n        ));\r\n        txt.fontSize = 9;\r\n        txt.setColor(this.paletteTextColor);\r\n        blocks.push(txt);\r\n        blocks.push('=');\r\n        blocks.push(this.makeBlockButton(cat));\r\n\r\n    } else if (cat === 'looks') {\r\n\r\n        blocks.push(block('doSwitchToCostume'));\r\n        blocks.push(block('doWearNextCostume'));\r\n        blocks.push(watcherToggle('getCostumeIdx'));\r\n        blocks.push(block('getCostumeIdx'));\r\n        blocks.push('-');\r\n        blocks.push(block('changeEffect'));\r\n        blocks.push(block('setEffect'));\r\n        blocks.push(block('clearEffects'));\r\n        blocks.push('-');\r\n        blocks.push(block('show'));\r\n        blocks.push(block('hide'));\r\n\r\n    // for debugging: ///////////////\r\n\r\n        if (this.world().isDevMode) {\r\n            blocks.push('-');\r\n            txt = new TextMorph(localize(\r\n                'development mode \\ndebugging primitives:'\r\n            ));\r\n            txt.fontSize = 9;\r\n            txt.setColor(this.paletteTextColor);\r\n            blocks.push(txt);\r\n            blocks.push('-');\r\n            blocks.push(block('log'));\r\n            blocks.push(block('alert'));\r\n            blocks.push('-');\r\n            blocks.push(block('doScreenshot'));\r\n        }\r\n\r\n    /////////////////////////////////\r\n\r\n        blocks.push('=');\r\n        blocks.push(this.makeBlockButton(cat));\r\n\r\n    } else if (cat === 'sound') {\r\n\r\n        blocks.push(block('playSound'));\r\n        blocks.push(block('doPlaySoundUntilDone'));\r\n        blocks.push(block('doStopAllSounds'));\r\n        blocks.push('-');\r\n        blocks.push(block('doRest'));\r\n        blocks.push(block('doPlayNote'));\r\n        blocks.push(block('doSetInstrument'));\r\n        blocks.push('-');\r\n        blocks.push(block('doChangeTempo'));\r\n        blocks.push(block('doSetTempo'));\r\n        blocks.push(watcherToggle('getTempo'));\r\n        blocks.push(block('getTempo'));\r\n        blocks.push('=');\r\n        blocks.push(this.makeBlockButton(cat));\r\n\r\n    } else if (cat === 'pen') {\r\n\r\n        blocks.push(block('clear'));\r\n        blocks.push(block('reportPenTrailsAsCostume'));\r\n        blocks.push('=');\r\n        blocks.push(this.makeBlockButton(cat));\r\n\r\n    } else if (cat === 'control') {\r\n\r\n        blocks.push(block('receiveGo'));\r\n        blocks.push(block('receiveKey'));\r\n        blocks.push(block('receiveInteraction'));\r\n        blocks.push(block('receiveCondition'));\r\n        blocks.push(block('receiveMessage'));\r\n        blocks.push('-');\r\n        blocks.push(block('doBroadcast'));\r\n        blocks.push(block('doBroadcastAndWait'));\r\n        blocks.push(watcherToggle('getLastMessage'));\r\n        blocks.push(block('getLastMessage'));\r\n        blocks.push('-');\r\n        blocks.push(block('doWarp'));\r\n        blocks.push('-');\r\n        blocks.push(block('doWait'));\r\n        blocks.push(block('doWaitUntil'));\r\n        blocks.push('-');\r\n        blocks.push(block('doForever'));\r\n        blocks.push(block('doRepeat'));\r\n        blocks.push(block('doUntil'));\r\n        blocks.push('-');\r\n        blocks.push(block('doIf'));\r\n        blocks.push(block('doIfElse'));\r\n        blocks.push('-');\r\n        blocks.push(block('doReport'));\r\n    \r\n        blocks.push(block('doStopThis'));\r\n        blocks.push(block('doStopOthers'));\r\n        blocks.push('-');\r\n        blocks.push(block('doRun'));\r\n        blocks.push(block('fork'));\r\n        blocks.push(block('evaluate'));\r\n        blocks.push('-');\r\n        blocks.push(block('doTellTo'));\r\n        blocks.push(block('reportAskFor'));\r\n        blocks.push('-');\r\n        blocks.push(block('doCallCC'));\r\n        blocks.push(block('reportCallCC'));\r\n        blocks.push('-');\r\n        blocks.push(block('createClone'));\r\n        blocks.push(block('newClone'));\r\n        blocks.push('-');\r\n        blocks.push(block('doPauseAll'));\r\n        blocks.push('=');\r\n        blocks.push(this.makeBlockButton(cat));\r\n\r\n    } else if (cat === 'sensing') {\r\n\r\n        blocks.push(block('doAsk'));\r\n        blocks.push(watcherToggle('getLastAnswer'));\r\n        blocks.push(block('getLastAnswer'));\r\n        blocks.push('-');\r\n        blocks.push(watcherToggle('reportMouseX'));\r\n        blocks.push(block('reportMouseX'));\r\n        blocks.push(watcherToggle('reportMouseY'));\r\n        blocks.push(block('reportMouseY'));\r\n        blocks.push(block('reportMouseDown'));\r\n        blocks.push('-');\r\n        blocks.push(block('reportKeyPressed'));\r\n        blocks.push('-');\r\n        blocks.push(block('doResetTimer'));\r\n        blocks.push(watcherToggle('getTimer'));\r\n        blocks.push(block('getTimer'));\r\n        blocks.push('-');\r\n        blocks.push(block('reportAttributeOf'));\r\n\r\n        if (SpriteMorph.prototype.enableFirstClass) {\r\n            blocks.push(block('reportGet'));\r\n        }\r\n        blocks.push('-');\r\n\r\n        blocks.push(block('reportURL'));\r\n        blocks.push('-');\r\n        blocks.push(block('reportIsFastTracking'));\r\n        blocks.push(block('doSetFastTracking'));\r\n        blocks.push('-');\r\n        blocks.push(block('reportDate'));\r\n\r\n    // for debugging: ///////////////\r\n\r\n        if (this.world().isDevMode) {\r\n\r\n            blocks.push('-');\r\n            txt = new TextMorph(localize(\r\n                'development mode \\ndebugging primitives:'\r\n            ));\r\n            txt.fontSize = 9;\r\n            txt.setColor(this.paletteTextColor);\r\n            blocks.push(txt);\r\n            blocks.push('-');\r\n            blocks.push(watcherToggle('reportThreadCount'));\r\n            blocks.push(block('reportThreadCount'));\r\n            blocks.push(block('colorFiltered'));\r\n            blocks.push(block('reportStackSize'));\r\n            blocks.push(block('reportFrameCount'));\r\n        }\r\n\r\n    /////////////////////////////////\r\n\r\n        blocks.push('=');\r\n        blocks.push(this.makeBlockButton(cat));\r\n\r\n    } else if (cat === 'operators') {\r\n\r\n        blocks.push(block('reifyScript'));\r\n        blocks.push(block('reifyReporter'));\r\n        blocks.push(block('reifyPredicate'));\r\n        blocks.push('#');\r\n        blocks.push('-');\r\n        blocks.push(block('reportSum'));\r\n        blocks.push(block('reportDifference'));\r\n        blocks.push(block('reportProduct'));\r\n        blocks.push(block('reportQuotient'));\r\n        blocks.push('-');\r\n        blocks.push(block('reportModulus'));\r\n        blocks.push(block('reportRound'));\r\n        blocks.push(block('reportMonadic'));\r\n        blocks.push(block('reportRandom'));\r\n        blocks.push('-');\r\n        blocks.push(block('reportLessThan'));\r\n        blocks.push(block('reportEquals'));\r\n        blocks.push(block('reportGreaterThan'));\r\n        blocks.push('-');\r\n        blocks.push(block('reportAnd'));\r\n        blocks.push(block('reportOr'));\r\n        blocks.push(block('reportNot'));\r\n        blocks.push(block('reportBoolean'));\r\n        blocks.push('-');\r\n        blocks.push(block('reportJoinWords'));\r\n        blocks.push(block('reportTextSplit'));\r\n        blocks.push(block('reportLetter'));\r\n        blocks.push(block('reportStringSize'));\r\n        blocks.push('-');\r\n        blocks.push(block('reportUnicode'));\r\n        blocks.push(block('reportUnicodeAsLetter'));\r\n        blocks.push('-');\r\n        blocks.push(block('reportIsA'));\r\n        blocks.push(block('reportIsIdentical'));\r\n\r\n        if (true) { // (Process.prototype.enableJS) {\r\n            blocks.push('-');\r\n            blocks.push(block('reportJSFunction'));\r\n        }\r\n\r\n    // for debugging: ///////////////\r\n\r\n        if (this.world().isDevMode) {\r\n            blocks.push('-');\r\n            txt = new TextMorph(\r\n                'development mode \\ndebugging primitives:'\r\n            );\r\n            txt.fontSize = 9;\r\n            txt.setColor(this.paletteTextColor);\r\n            blocks.push(txt);\r\n            blocks.push('-');\r\n            blocks.push(block('reportTypeOf'));\r\n            blocks.push(block('reportTextFunction'));\r\n        }\r\n\r\n    //////////////////////////////////\r\n\r\n        blocks.push('=');\r\n        blocks.push(this.makeBlockButton(cat));\r\n\r\n    } else if (cat === 'variables') {\r\n\r\n        button = new PushButtonMorph(\r\n            null,\r\n            function () {\r\n                new VariableDialogMorph(\r\n                    null,\r\n                    addVar,\r\n                    myself\r\n                ).prompt(\r\n                    'Variable name',\r\n                    null,\r\n                    myself.world()\r\n                );\r\n            },\r\n            'Make a variable'\r\n        );\r\n        blocks.push(button);\r\n\r\n        if (this.variables.allNames().length > 0) {\r\n            button = new PushButtonMorph(\r\n                null,\r\n                function () {\r\n                    var menu = new MenuMorph(\r\n                        myself.deleteVariable,\r\n                        null,\r\n                        myself\r\n                    );\r\n                    myself.variables.allNames().forEach(function (name) {\r\n                        menu.addItem(name, name);\r\n                    });\r\n                    menu.popUpAtHand(myself.world());\r\n                },\r\n                'Delete a variable'\r\n            );\r\n            blocks.push(button);\r\n        }\r\n\r\n        blocks.push('-');\r\n\r\n        varNames = this.variables.allNames();\r\n        if (varNames.length > 0) {\r\n            varNames.forEach(function (name) {\r\n                blocks.push(variableWatcherToggle(name));\r\n                blocks.push(variableBlock(name));\r\n            });\r\n            blocks.push('-');\r\n        }\r\n\r\n        blocks.push(block('doSetVar'));\r\n        blocks.push(block('doChangeVar'));\r\n        blocks.push(block('doShowVar'));\r\n        blocks.push(block('doHideVar'));\r\n        blocks.push(block('doDeclareVariables'));\r\n        blocks.push('=');\r\n        blocks.push(block('reportNewList'));\r\n        blocks.push('-');\r\n        blocks.push(block('reportCONS'));\r\n        blocks.push(block('reportListItem'));\r\n        blocks.push(block('reportCDR'));\r\n        blocks.push('-');\r\n        blocks.push(block('reportListLength'));\r\n        blocks.push(block('reportListContainsItem'));\r\n        blocks.push('-');\r\n        blocks.push(block('doAddToList'));\r\n        blocks.push(block('doDeleteFromList'));\r\n        blocks.push(block('doInsertInList'));\r\n        blocks.push(block('doReplaceInList'));\r\n\r\n    // for debugging: ///////////////\r\n\r\n        if (this.world().isDevMode) {\r\n            blocks.push('-');\r\n            txt = new TextMorph(localize(\r\n                'development mode \\ndebugging primitives:'\r\n            ));\r\n            txt.fontSize = 9;\r\n            txt.setColor(this.paletteTextColor);\r\n            blocks.push(txt);\r\n            blocks.push('-');\r\n            blocks.push(block('reportMap'));\r\n            blocks.push('-');\r\n            blocks.push(block('doForEach'));\r\n            blocks.push(block('doShowTable'));\r\n        }\r\n\r\n    /////////////////////////////////\r\n\r\n        blocks.push('=');\r\n\r\n        if (StageMorph.prototype.enableCodeMapping) {\r\n            blocks.push(block('doMapCodeOrHeader'));\r\n            blocks.push(block('doMapValueCode'));\r\n            blocks.push(block('doMapListCode'));\r\n            blocks.push('-');\r\n            blocks.push(block('reportMappedCode'));\r\n            blocks.push('=');\r\n        }\r\n\r\n        blocks.push(this.makeBlockButton());\r\n    }\r\n    return blocks;\r\n};\r\n\r\n// StageMorph primitives\r\n\r\nStageMorph.prototype.clear = function () {\r\n    this.clearPenTrails();\r\n};\r\n\r\n// StageMorph user menu\r\n\r\nStageMorph.prototype.userMenu = function () {\r\n    var ide = this.parentThatIsA(IDE_Morph),\r\n        menu = new MenuMorph(this),\r\n        myself = this;\r\n\r\n    if (ide && ide.isAppMode) {\r\n        // menu.addItem('help', 'nop');\r\n        return menu;\r\n    }\r\n    menu.addItem(\"edit\", 'edit');\r\n    menu.addItem(\"show all\", 'showAll');\r\n    menu.addItem(\r\n        \"pic...\",\r\n        function () {\r\n            ide.saveCanvasAs(\r\n                myself.fullImageClassic(),\r\n                myself.name\r\n            );\r\n        },\r\n        'open a new window\\nwith a picture of the stage'\r\n    );\r\n    menu.addLine();\r\n    menu.addItem(\r\n        'pen trails',\r\n        function () {\r\n            var costume = ide.currentSprite.reportPenTrailsAsCostume().copy();\r\n            ide.currentSprite.addCostume(costume);\r\n            ide.currentSprite.wearCostume(costume);\r\n            ide.hasChangedMedia = true;\r\n            ide.spriteBar.tabBar.tabTo('costumes');\r\n        },\r\n        ide.currentSprite instanceof SpriteMorph ?\r\n            'turn all pen trails and stamps\\n' +\r\n                'into a new costume for the\\ncurrently selected sprite'\r\n                    : 'turn all pen trails and stamps\\n' +\r\n                        'into a new background for the stage'\r\n    );\r\n    return menu;\r\n};\r\n\r\nStageMorph.prototype.showAll = function () {\r\n    var myself = this;\r\n    this.children.forEach(function (m) {\r\n        if (m instanceof SpriteMorph) {\r\n            if (!m.anchor) {\r\n                m.show();\r\n                m.keepWithin(myself);\r\n            }\r\n        } else {\r\n            m.show();\r\n            m.keepWithin(myself);\r\n            if (m.fixLayout) {m.fixLayout(); }\r\n        }\r\n    });\r\n};\r\n\r\nStageMorph.prototype.edit = SpriteMorph.prototype.edit;\r\n\r\n// StageMorph thumbnail\r\n\r\nStageMorph.prototype.thumbnail = function (extentPoint, excludedSprite) {\r\n/*\r\n    answer a new Canvas of extentPoint dimensions containing\r\n    my thumbnail representation keeping the originial aspect ratio\r\n*/\r\n    var myself = this,\r\n        src = this.image,\r\n        scale = Math.min(\r\n            (extentPoint.x / src.width),\r\n            (extentPoint.y / src.height)\r\n        ),\r\n        trg = newCanvas(extentPoint),\r\n        ctx = trg.getContext('2d'),\r\n        fb,\r\n        fimg;\r\n\r\n    ctx.scale(scale, scale);\r\n    ctx.drawImage(\r\n        src,\r\n        0,\r\n        0\r\n    );\r\n    ctx.drawImage(\r\n        this.penTrails(),\r\n        0,\r\n        0,\r\n        this.dimensions.x * this.scale,\r\n        this.dimensions.y * this.scale\r\n    );\r\n    this.children.forEach(function (morph) {\r\n        if (morph.isVisible && (morph !== excludedSprite)) {\r\n            fb = morph.fullBounds();\r\n            fimg = morph.fullImage();\r\n            if (fimg.width && fimg.height) {\r\n                ctx.drawImage(\r\n                    morph.fullImage(),\r\n                    fb.origin.x - myself.bounds.origin.x,\r\n                    fb.origin.y - myself.bounds.origin.y\r\n                );\r\n            }\r\n        }\r\n    });\r\n    return trg;\r\n};\r\n\r\n// StageMorph hiding and showing:\r\n\r\n/*\r\n    override the inherited behavior to recursively hide/show all\r\n    children.\r\n*/\r\n\r\nStageMorph.prototype.hide = function () {\r\n    this.isVisible = false;\r\n    this.changed();\r\n};\r\n\r\nStageMorph.prototype.show = function () {\r\n    this.isVisible = true;\r\n    this.changed();\r\n};\r\n\r\n// StageMorph cloning override\r\n\r\nStageMorph.prototype.createClone = nop;\r\nStageMorph.prototype.newClone = nop;\r\n\r\n// StageMorph pseudo-inherited behavior\r\n\r\nStageMorph.prototype.categories = SpriteMorph.prototype.categories;\r\nStageMorph.prototype.blockColor = SpriteMorph.prototype.blockColor;\r\nStageMorph.prototype.paletteColor = SpriteMorph.prototype.paletteColor;\r\nStageMorph.prototype.setName = SpriteMorph.prototype.setName;\r\nStageMorph.prototype.makeBlockButton = SpriteMorph.prototype.makeBlockButton;\r\nStageMorph.prototype.makeBlock = SpriteMorph.prototype.makeBlock;\r\nStageMorph.prototype.palette = SpriteMorph.prototype.palette;\r\nStageMorph.prototype.freshPalette = SpriteMorph.prototype.freshPalette;\r\nStageMorph.prototype.blocksMatching = SpriteMorph.prototype.blocksMatching;\r\nStageMorph.prototype.searchBlocks = SpriteMorph.prototype.searchBlocks;\r\nStageMorph.prototype.reporterize = SpriteMorph.prototype.reporterize;\r\nStageMorph.prototype.showingWatcher = SpriteMorph.prototype.showingWatcher;\r\nStageMorph.prototype.addVariable = SpriteMorph.prototype.addVariable;\r\nStageMorph.prototype.deleteVariable = SpriteMorph.prototype.deleteVariable;\r\n\r\n// StageMorph block rendering\r\n\r\nStageMorph.prototype.doScreenshot\r\n    = SpriteMorph.prototype.doScreenshot;\r\n\r\nStageMorph.prototype.newCostumeName\r\n    = SpriteMorph.prototype.newCostumeName;\r\n\r\nStageMorph.prototype.blockForSelector\r\n    = SpriteMorph.prototype.blockForSelector;\r\n\r\n// StageMorph variable watchers (for palette checkbox toggling)\r\n\r\nStageMorph.prototype.findVariableWatcher\r\n    = SpriteMorph.prototype.findVariableWatcher;\r\n\r\nStageMorph.prototype.toggleVariableWatcher\r\n    = SpriteMorph.prototype.toggleVariableWatcher;\r\n\r\nStageMorph.prototype.showingVariableWatcher\r\n    = SpriteMorph.prototype.showingVariableWatcher;\r\n\r\nStageMorph.prototype.deleteVariableWatcher\r\n    = SpriteMorph.prototype.deleteVariableWatcher;\r\n\r\n// StageMorph background management\r\n\r\nStageMorph.prototype.addCostume\r\n    = SpriteMorph.prototype.addCostume;\r\n\r\nStageMorph.prototype.wearCostume\r\n    = SpriteMorph.prototype.wearCostume;\r\n\r\nStageMorph.prototype.getCostumeIdx\r\n    = SpriteMorph.prototype.getCostumeIdx;\r\n\r\nStageMorph.prototype.doWearNextCostume\r\n    = SpriteMorph.prototype.doWearNextCostume;\r\n\r\nStageMorph.prototype.doWearPreviousCostume\r\n    = SpriteMorph.prototype.doWearPreviousCostume;\r\n\r\nStageMorph.prototype.doSwitchToCostume\r\n    = SpriteMorph.prototype.doSwitchToCostume;\r\n\r\nStageMorph.prototype.reportCostumes\r\n    = SpriteMorph.prototype.reportCostumes;\r\n\r\n// StageMorph graphic effects\r\n\r\nStageMorph.prototype.graphicsChanged\r\n    = SpriteMorph.prototype.graphicsChanged;\r\n\r\nStageMorph.prototype.applyGraphicsEffects\r\n    = SpriteMorph.prototype.applyGraphicsEffects;\r\n\r\nStageMorph.prototype.setEffect\r\n    = SpriteMorph.prototype.setEffect;\r\n\r\nStageMorph.prototype.getGhostEffect\r\n    = SpriteMorph.prototype.getGhostEffect;\r\n\r\nStageMorph.prototype.changeEffect\r\n    = SpriteMorph.prototype.changeEffect;\r\n\r\nStageMorph.prototype.clearEffects\r\n    = SpriteMorph.prototype.clearEffects;\r\n\r\n// StageMorph sound management\r\n\r\nStageMorph.prototype.addSound\r\n    = SpriteMorph.prototype.addSound;\r\n\r\nStageMorph.prototype.playSound\r\n    = SpriteMorph.prototype.playSound;\r\n\r\nStageMorph.prototype.stopAllActiveSounds = function () {\r\n    this.activeSounds.forEach(function (audio) {\r\n        audio.pause();\r\n    });\r\n    this.activeSounds = [];\r\n};\r\n\r\nStageMorph.prototype.pauseAllActiveSounds = function () {\r\n    this.activeSounds.forEach(function (audio) {\r\n        audio.pause();\r\n    });\r\n};\r\n\r\nStageMorph.prototype.resumeAllActiveSounds = function () {\r\n    this.activeSounds.forEach(function (audio) {\r\n        audio.play();\r\n    });\r\n};\r\n\r\nStageMorph.prototype.reportSounds\r\n    = SpriteMorph.prototype.reportSounds;\r\n\r\n// StageMorph non-variable watchers\r\n\r\nStageMorph.prototype.toggleWatcher\r\n    = SpriteMorph.prototype.toggleWatcher;\r\n\r\nStageMorph.prototype.showingWatcher\r\n    = SpriteMorph.prototype.showingWatcher;\r\n\r\nStageMorph.prototype.watcherFor =\r\n    SpriteMorph.prototype.watcherFor;\r\n\r\nStageMorph.prototype.getLastAnswer\r\n    = SpriteMorph.prototype.getLastAnswer;\r\n\r\nStageMorph.prototype.reportThreadCount\r\n    = SpriteMorph.prototype.reportThreadCount;\r\n\r\n// StageMorph message broadcasting\r\n\r\nStageMorph.prototype.allMessageNames\r\n    = SpriteMorph.prototype.allMessageNames;\r\n\r\nStageMorph.prototype.allHatBlocksFor\r\n    = SpriteMorph.prototype.allHatBlocksFor;\r\n\r\nStageMorph.prototype.allHatBlocksForKey\r\n    = SpriteMorph.prototype.allHatBlocksForKey;\r\n\r\nStageMorph.prototype.allHatBlocksForInteraction\r\n    = SpriteMorph.prototype.allHatBlocksForInteraction;\r\n\r\nStageMorph.prototype.allGenericHatBlocks\r\n    = SpriteMorph.prototype.allGenericHatBlocks;\r\n\r\n// StageMorph events\r\n\r\nStageMorph.prototype.mouseClickLeft\r\n    = SpriteMorph.prototype.mouseClickLeft;\r\n\r\nStageMorph.prototype.mouseEnter\r\n    = SpriteMorph.prototype.mouseEnter;\r\n\r\nStageMorph.prototype.mouseLeave = function () {\r\n    this.receiveUserInteraction('mouse-departed');\r\n};\r\n\r\nStageMorph.prototype.mouseDownLeft\r\n    = SpriteMorph.prototype.mouseDownLeft;\r\n\r\nStageMorph.prototype.receiveUserInteraction\r\n    = SpriteMorph.prototype.receiveUserInteraction;\r\n\r\n// StageMorph custom blocks\r\n\r\nStageMorph.prototype.deleteAllBlockInstances\r\n    = SpriteMorph.prototype.deleteAllBlockInstances;\r\n\r\nStageMorph.prototype.allBlockInstances\r\n    = SpriteMorph.prototype.allBlockInstances;\r\n\r\nStageMorph.prototype.allLocalBlockInstances\r\n    = SpriteMorph.prototype.allLocalBlockInstances;\r\n\r\nStageMorph.prototype.allEditorBlockInstances\r\n    = SpriteMorph.prototype.allEditorBlockInstances;\r\n\r\nStageMorph.prototype.paletteBlockInstance\r\n    = SpriteMorph.prototype.paletteBlockInstance;\r\n\r\nStageMorph.prototype.usesBlockInstance\r\n    = SpriteMorph.prototype.usesBlockInstance;\r\n\r\nStageMorph.prototype.doubleDefinitionsFor\r\n    = SpriteMorph.prototype.doubleDefinitionsFor;\r\n\r\nStageMorph.prototype.replaceDoubleDefinitionsFor\r\n    = SpriteMorph.prototype.replaceDoubleDefinitionsFor;\r\n\r\nStageMorph.prototype.allInvocationsOf\r\n    = SpriteMorph.prototype.allInvocationsOf;\r\n\r\nStageMorph.prototype.allIndependentInvocationsOf\r\n    = SpriteMorph.prototype.allInvocationsOf;\r\n\r\nStageMorph.prototype.allDependentInvocationsOf\r\n    = SpriteMorph.prototype.allInvocationsOf;\r\n\r\n// StageMorph inheritance support - general\r\n\r\nStageMorph.prototype.specimens = function () {\r\n    return [];\r\n};\r\n\r\nStageMorph.prototype.allSpecimens = function () {\r\n    return [];\r\n};\r\n\r\nStageMorph.prototype.shadowAttribute = nop;\r\n\r\n// StageMorph inheritance support - attributes\r\n\r\nStageMorph.prototype.inheritsAttribute = function () {\r\n    return false;\r\n};\r\n\r\n// StageMorph inheritance support - variables\r\n\r\nStageMorph.prototype.isVariableNameInUse\r\n    = SpriteMorph.prototype.isVariableNameInUse;\r\n\r\nStageMorph.prototype.globalVariables\r\n    = SpriteMorph.prototype.globalVariables;\r\n\r\nStageMorph.prototype.inheritedVariableNames = function () {\r\n    return [];\r\n};\r\n\r\n// StageMorph inheritance - custom blocks\r\n\r\nStageMorph.prototype.getMethod\r\n    = SpriteMorph.prototype.getMethod;\r\n\r\nStageMorph.prototype.getLocalMethod\r\n    = SpriteMorph.prototype.getLocalMethod;\r\n\r\nStageMorph.prototype.ownBlocks\r\n    = SpriteMorph.prototype.ownBlocks;\r\n\r\nStageMorph.prototype.allBlocks = function (valuesOnly) {\r\n    var dict = this.ownBlocks();\r\n    if (valuesOnly) {\r\n        return Object.keys(dict).map(function (key) {return dict[key]; });\r\n    }\r\n    return dict;\r\n};\r\n\r\nStageMorph.prototype.inheritedBlocks = function () {\r\n    return [];\r\n};\r\n\r\n// StageMorph variable refactoring\r\n\r\nStageMorph.prototype.hasSpriteVariable\r\n    = SpriteMorph.prototype.hasSpriteVariable;\r\n\r\nStageMorph.prototype.refactorVariableInstances\r\n    = SpriteMorph.prototype.refactorVariableInstances;\r\n\r\n// StageMorph pen trails as costume\r\n\r\nStageMorph.prototype.reportPenTrailsAsCostume = function () {\r\n    return new Costume(\r\n        this.trailsCanvas,\r\n        this.newCostumeName(localize('Background'))\r\n    );\r\n};\r\n\r\n// SpriteBubbleMorph ////////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a sprite's scaleable speech bubble. I rely on SpriteMorph\r\n    for my preferences settings\r\n*/\r\n\r\n// SpriteBubbleMorph inherits from SpeechBubbleMorph:\r\n\r\nSpriteBubbleMorph.prototype = new SpeechBubbleMorph();\r\nSpriteBubbleMorph.prototype.constructor = SpriteBubbleMorph;\r\nSpriteBubbleMorph.uber = SpeechBubbleMorph.prototype;\r\n\r\n// SpriteBubbleMorph instance creation:\r\n\r\nfunction SpriteBubbleMorph(data, stage, isThought, isQuestion) {\r\n    this.init(data, stage, isThought, isQuestion);\r\n}\r\n\r\nSpriteBubbleMorph.prototype.init = function (\r\n    data,\r\n    stage,\r\n    isThought,\r\n    isQuestion\r\n) {\r\n    var sprite = SpriteMorph.prototype;\r\n    this.stage = stage;\r\n    this.scale = stage ? stage.scale : 1;\r\n    this.data = data;\r\n    this.isQuestion = isQuestion;\r\n\r\n    SpriteBubbleMorph.uber.init.call(\r\n        this,\r\n        this.dataAsMorph(data),\r\n        sprite.bubbleColor,\r\n        null,\r\n        null,\r\n        isQuestion ? sprite.blockColor.sensing : sprite.bubbleBorderColor,\r\n        null,\r\n        isThought\r\n    );\r\n};\r\n\r\n// SpriteBubbleMorph contents formatting\r\n\r\nSpriteBubbleMorph.prototype.dataAsMorph = function (data, toggle) {\r\n    var contents,\r\n        isTable,\r\n        sprite = SpriteMorph.prototype,\r\n        isText,\r\n        img,\r\n        scaledImg,\r\n        width;\r\n    if (data instanceof Morph) {\r\n        if (isSnapObject(data)) {\r\n            img = data.thumbnail(new Point(40, 40));\r\n            contents = new Morph();\r\n            contents.silentSetWidth(img.width);\r\n            contents.silentSetHeight(img.height);\r\n            contents.image = img;\r\n            contents.version = data.version;\r\n            contents.step = function () {\r\n                if (this.version !== data.version) {\r\n                    img = data.thumbnail(new Point(40, 40));\r\n                    this.image = img;\r\n                    this.version = data.version;\r\n                    this.changed();\r\n                }\r\n            };\r\n        } else {\r\n            contents = data;\r\n        }\r\n    } else if (isString(data)) {\r\n        isText = true;\r\n        contents = new TextMorph(\r\n            data,\r\n            sprite.bubbleFontSize * this.scale,\r\n            null, // fontStyle\r\n            sprite.bubbleFontIsBold,\r\n            false, // italic\r\n            'center'\r\n        );\r\n    } else if (typeof data === 'boolean') {\r\n        img = sprite.booleanMorph(data).fullImage();\r\n        contents = new Morph();\r\n        contents.silentSetWidth(img.width);\r\n        contents.silentSetHeight(img.height);\r\n        contents.image = img;\r\n    } else if (data instanceof Costume) {\r\n        img = data.thumbnail(new Point(40, 40));\r\n        contents = new Morph();\r\n        contents.silentSetWidth(img.width);\r\n        contents.silentSetHeight(img.height);\r\n        contents.image = img;\r\n    } else if (data instanceof Sound) {\r\n        contents = new SymbolMorph('notes', 30);\r\n    } else if (data instanceof HTMLCanvasElement) {\r\n        contents = new Morph();\r\n        contents.silentSetWidth(data.width);\r\n        contents.silentSetHeight(data.height);\r\n        contents.image = data;\r\n    } else if (data instanceof List) {\r\n        if (toggle && this.contentsMorph) {\r\n            isTable = (this.contentsMorph instanceof ListWatcherMorph);\r\n        } else {\r\n            isTable = data.isTable();\r\n        }\r\n\r\n        if (isTable) { // (!toggle && data.isTable()) {\r\n            contents = new TableFrameMorph(new TableMorph(data, 10));\r\n            if (this.stage) {\r\n                contents.expand(this.stage.extent().translateBy(\r\n                    -2 * (this.edge + this.border + this.padding)\r\n                ));\r\n            }\r\n        } else {\r\n            contents = new ListWatcherMorph(data);\r\n            contents.update(true);\r\n            contents.step = contents.update;\r\n            if (this.stage) {\r\n                contents.expand(this.stage.extent().translateBy(\r\n                    -2 * (this.edge + this.border + this.padding)\r\n                ));\r\n            }\r\n        }\r\n        contents.isDraggable = false;\r\n    } else if (data instanceof Context) {\r\n        img = data.image();\r\n        contents = new Morph();\r\n        contents.silentSetWidth(img.width);\r\n        contents.silentSetHeight(img.height);\r\n        contents.image = img;\r\n    } else {\r\n        contents = new TextMorph(\r\n            data.toString(),\r\n            sprite.bubbleFontSize * this.scale,\r\n            null, // fontStyle\r\n            sprite.bubbleFontIsBold,\r\n            false, // italic\r\n            'center'\r\n        );\r\n    }\r\n    if (contents instanceof TextMorph) {\r\n        // reflow text boundaries\r\n        width = Math.max(\r\n            contents.width(),\r\n            sprite.bubbleCorner * 2 * this.scale\r\n        );\r\n        if (isText) {\r\n            width = Math.min(width, sprite.bubbleMaxTextWidth * this.scale);\r\n        }\r\n        contents.setWidth(width);\r\n    } else if (!(data instanceof List)) {\r\n        // scale contents image\r\n        scaledImg = newCanvas(contents.extent().multiplyBy(this.scale));\r\n        scaledImg.getContext('2d').drawImage(\r\n            contents.image,\r\n            0,\r\n            0,\r\n            scaledImg.width,\r\n            scaledImg.height\r\n        );\r\n        contents.image = scaledImg;\r\n        contents.bounds = contents.bounds.scaleBy(this.scale);\r\n    }\r\n    return contents;\r\n};\r\n\r\n// SpriteBubbleMorph scaling\r\n\r\nSpriteBubbleMorph.prototype.setScale = function (scale) {\r\n    this.scale = scale;\r\n    this.changed();\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\n// SpriteBubbleMorph drawing:\r\n\r\nSpriteBubbleMorph.prototype.drawNew = function (toggle) {\r\n    var sprite = SpriteMorph.prototype;\r\n\r\n    // scale my settings\r\n    this.edge = sprite.bubbleCorner * this.scale;\r\n    this.border = sprite.bubbleBorder * this.scale;\r\n    this.padding = sprite.bubbleCorner / 2 * this.scale;\r\n\r\n    // re-build my contents\r\n    if (this.contentsMorph) {\r\n        this.contentsMorph.destroy();\r\n    }\r\n    this.contentsMorph = this.dataAsMorph(this.data, toggle);\r\n    this.add(this.contentsMorph);\r\n\r\n    // adjust my layout\r\n    this.silentSetWidth(this.contentsMorph.width()\r\n        + (this.padding ? this.padding * 2 : this.edge * 2));\r\n    this.silentSetHeight(this.contentsMorph.height()\r\n        + this.edge\r\n        + this.border * 2\r\n        + this.padding * 2\r\n        + 2);\r\n\r\n    // draw my outline\r\n    SpeechBubbleMorph.uber.drawNew.call(this);\r\n\r\n    // position my contents\r\n    this.contentsMorph.setPosition(this.position().add(\r\n        new Point(\r\n            this.padding || this.edge,\r\n            this.border + this.padding + 1\r\n        )\r\n    ));\r\n};\r\n\r\n// SpriteBubbleMorph resizing:\r\n\r\nSpriteBubbleMorph.prototype.fixLayout = function () {\r\n    // to be used when resizing list watchers\r\n    // otherwise use drawNew() to force re-layout\r\n\r\n    var sprite = SpriteMorph.prototype;\r\n\r\n    this.changed();\r\n    // scale my settings\r\n    this.edge = sprite.bubbleCorner * this.scale;\r\n    this.border = sprite.bubbleBorder * this.scale;\r\n    this.padding = sprite.bubbleCorner / 2 * this.scale;\r\n\r\n    // adjust my layout\r\n    this.silentSetWidth(this.contentsMorph.width()\r\n        + (this.padding ? this.padding * 2 : this.edge * 2));\r\n    this.silentSetHeight(this.contentsMorph.height()\r\n        + this.edge\r\n        + this.border * 2\r\n        + this.padding * 2\r\n        + 2);\r\n\r\n    // draw my outline\r\n    SpeechBubbleMorph.uber.drawNew.call(this);\r\n\r\n    // position my contents\r\n    this.contentsMorph.setPosition(this.position().add(\r\n        new Point(\r\n            this.padding || this.edge,\r\n            this.border + this.padding + 1\r\n        )\r\n    ));\r\n    this.changed();\r\n};\r\n\r\n// Costume /////////////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a picture that's \"wearable\" by a sprite. My rotationCenter is\r\n    relative to my contents position.\r\n*/\r\n\r\n// Costume instance creation\r\n\r\nfunction Costume(canvas, name, rotationCenter) {\r\n    this.contents = canvas ? normalizeCanvas(canvas, true)\r\n            : newCanvas(null, true);\r\n    this.shrinkToFit(this.maxExtent());\r\n    this.name = name || null;\r\n    this.rotationCenter = rotationCenter || this.center();\r\n    this.version = Date.now(); // for observer optimization\r\n    this.loaded = null; // for de-serialization only\r\n}\r\n\r\nCostume.prototype.maxExtent = function () {\r\n    return StageMorph.prototype.dimensions;\r\n};\r\n\r\nCostume.prototype.toString = function () {\r\n    return 'a Costume(' + this.name + ')';\r\n};\r\n\r\n// Costume dimensions - all relative\r\n\r\nCostume.prototype.extent = function () {\r\n    return new Point(this.contents.width, this.contents.height);\r\n};\r\n\r\nCostume.prototype.center = function () {\r\n    return this.extent().divideBy(2);\r\n};\r\n\r\nCostume.prototype.width = function () {\r\n    return this.contents.width;\r\n};\r\n\r\nCostume.prototype.height = function () {\r\n    return this.contents.height;\r\n};\r\n\r\nCostume.prototype.bounds = function () {\r\n    return new Rectangle(0, 0, this.width(), this.height());\r\n};\r\n\r\n// Costume shrink-wrapping\r\n\r\nCostume.prototype.shrinkWrap = function () {\r\n    // adjust my contents'  bounds to my visible bounding box\r\n    var bb = this.boundingBox(),\r\n        ext = bb.extent(),\r\n        pic = newCanvas(ext, true),\r\n        ctx = pic.getContext('2d');\r\n\r\n    ctx.drawImage(\r\n        this.contents,\r\n        bb.origin.x,\r\n        bb.origin.y,\r\n        ext.x,\r\n        ext.y,\r\n        0,\r\n        0,\r\n        ext.x,\r\n        ext.y\r\n    );\r\n    this.rotationCenter = this.rotationCenter.subtract(bb.origin);\r\n    this.contents = pic;\r\n    this.version = Date.now();\r\n};\r\n\r\nCostume.prototype.canvasBoundingBox = function (pic) {\r\n    // answer the rectangle surrounding my contents' non-transparent pixels\r\n    var row,\r\n        col,\r\n        w = pic.width,\r\n        h = pic.height,\r\n        ctx = pic.getContext('2d'),\r\n        dta = ctx.getImageData(0, 0, w, h);\r\n\r\n    function getAlpha(x, y) {\r\n        return dta.data[((y * w * 4) + (x * 4)) + 3];\r\n    }\r\n\r\n    function getLeft() {\r\n        for (col = 0; col <= w; col += 1) {\r\n            for (row = 0; row <= h; row += 1) {\r\n                if (getAlpha(col, row)) {\r\n                    return col;\r\n                }\r\n            }\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    function getTop() {\r\n        for (row = 0; row <= h; row += 1) {\r\n            for (col = 0; col <= w; col += 1) {\r\n                if (getAlpha(col, row)) {\r\n                    return row;\r\n                }\r\n            }\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    function getRight() {\r\n        for (col = w; col >= 0; col -= 1) {\r\n            for (row = h; row >= 0; row -= 1) {\r\n                if (getAlpha(col, row)) {\r\n                    return Math.min(col + 1, w);\r\n                }\r\n            }\r\n        }\r\n        return w;\r\n    }\r\n\r\n    function getBottom() {\r\n        for (row = h; row >= 0; row -= 1) {\r\n            for (col = w; col >= 0; col -= 1) {\r\n                if (getAlpha(col, row)) {\r\n                    return Math.min(row + 1, h);\r\n                }\r\n            }\r\n        }\r\n        return h;\r\n    }\r\n\r\n    return new Rectangle(getLeft(), getTop(), getRight(), getBottom());\r\n};\r\n\r\nCostume.prototype.boundingBox = function () {\r\n    return this.canvasBoundingBox(this.contents);\r\n};\r\n\r\n// Costume duplication\r\n\r\nCostume.prototype.copy = function () {\r\n    var canvas = newCanvas(this.extent(), true),\r\n        cpy,\r\n        ctx;\r\n    ctx = canvas.getContext('2d');\r\n    ctx.drawImage(this.contents, 0, 0);\r\n    cpy = new Costume(canvas, this.name ? copy(this.name) : null);\r\n    cpy.rotationCenter = this.rotationCenter.copy();\r\n    return cpy;\r\n};\r\n\r\n// Costume flipping\r\n\r\nCostume.prototype.flipped = function () {\r\n/*\r\n    answer a copy of myself flipped horizontally\r\n    (mirrored along a vertical axis), used for\r\n    SpriteMorph's rotation style type 2\r\n*/\r\n    var canvas = newCanvas(this.extent(), true),\r\n        ctx = canvas.getContext('2d'),\r\n        flipped;\r\n\r\n    ctx.translate(this.width(), 0);\r\n    ctx.scale(-1, 1);\r\n    ctx.drawImage(this.contents, 0, 0);\r\n    flipped = new Costume(\r\n        canvas,\r\n        this.name,\r\n        new Point(\r\n            this.width() - this.rotationCenter.x,\r\n            this.rotationCenter.y\r\n        )\r\n    );\r\n    return flipped;\r\n};\r\n\r\n// Costume actions\r\n\r\nCostume.prototype.edit = function (aWorld, anIDE, isnew, oncancel, onsubmit) {\r\n    var myself = this,\r\n        editor = new PaintEditorMorph();\r\n    editor.oncancel = oncancel || nop;\r\n    editor.openIn(\r\n        aWorld,\r\n        isnew ?\r\n                newCanvas(StageMorph.prototype.dimensions, true) :\r\n                this.contents,\r\n        isnew ?\r\n                null :\r\n                this.rotationCenter,\r\n        function (img, rc) {\r\n            myself.contents = img;\r\n            myself.rotationCenter = rc;\r\n            myself.version = Date.now();\r\n            aWorld.changed();\r\n            if (anIDE) {\r\n                if (anIDE.currentSprite instanceof SpriteMorph) {\r\n                    // don't shrinkwrap stage costumes\r\n                    myself.shrinkWrap();\r\n                }\r\n                anIDE.currentSprite.wearCostume(myself, true); // don't shadow\r\n                anIDE.hasChangedMedia = true;\r\n            }\r\n            (onsubmit || nop)();\r\n        }\r\n    );\r\n};\r\n\r\nCostume.prototype.editRotationPointOnly = function (aWorld) {\r\n    var editor = new CostumeEditorMorph(this),\r\n        action,\r\n        dialog,\r\n        txt;\r\n\r\n    action = function () {editor.accept(); };\r\n    dialog = new DialogBoxMorph(this, action);\r\n    txt = new TextMorph(\r\n        localize('click or drag crosshairs to move the rotation center'),\r\n        dialog.fontSize,\r\n        dialog.fontStyle,\r\n        true,\r\n        false,\r\n        'center',\r\n        null,\r\n        null,\r\n        new Point(1, 1),\r\n        new Color(255, 255, 255)\r\n    );\r\n\r\n    dialog.labelString = 'Costume Editor';\r\n    dialog.createLabel();\r\n    dialog.setPicture(editor);\r\n    dialog.addBody(txt);\r\n    dialog.addButton('ok', 'Ok');\r\n    dialog.addButton('cancel', 'Cancel');\r\n    dialog.fixLayout();\r\n    dialog.drawNew();\r\n    dialog.fixLayout();\r\n    dialog.popUp(aWorld);\r\n};\r\n\r\n// Costume thumbnail\r\n\r\nCostume.prototype.shrinkToFit = function (extentPoint) {\r\n    if (extentPoint.x < this.width() || (extentPoint.y < this.height())) {\r\n        this.contents = this.thumbnail(extentPoint);\r\n    }\r\n};\r\n\r\nCostume.prototype.thumbnail = function (extentPoint) {\r\n/*\r\n    answer a new Canvas of extentPoint dimensions containing\r\n    my thumbnail representation keeping the originial aspect ratio\r\n*/\r\n    var src = this.contents, // at this time sprites aren't composite morphs\r\n        scale = Math.min(\r\n            (extentPoint.x / src.width),\r\n            (extentPoint.y / src.height)\r\n        ),\r\n        xOffset = (extentPoint.x - (src.width * scale)) / 2,\r\n        yOffset = (extentPoint.y - (src.height * scale)) / 2,\r\n        trg = newCanvas(extentPoint),\r\n        ctx = trg.getContext('2d');\r\n\r\n    if (!src || src.width + src.height === 0) {return trg; }\r\n    ctx.scale(scale, scale);\r\n    ctx.drawImage(\r\n        src,\r\n        Math.floor(xOffset / scale),\r\n        Math.floor(yOffset / scale)\r\n    );\r\n    return trg;\r\n};\r\n\r\n// Costume catching \"tainted\" canvases\r\n\r\nCostume.prototype.isTainted = function () {\r\n    // find out whether the canvas has been tainted by cross-origin data\r\n    // assumes that if reading image data throws an error it is tainted\r\n    try {\r\n        this.contents.getContext('2d').getImageData(\r\n            0,\r\n            0,\r\n            this.contents.width,\r\n            this.contents.height\r\n        );\r\n    } catch (err) {\r\n        return true;\r\n    }\r\n    return false;\r\n};\r\n\r\n// SVG_Costume /////////////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a costume containing an SVG image.\r\n*/\r\n\r\n// SVG_Costume inherits from Costume:\r\n\r\nSVG_Costume.prototype = new Costume();\r\nSVG_Costume.prototype.constructor = SVG_Costume;\r\nSVG_Costume.uber = Costume.prototype;\r\n\r\n// SVG_Costume instance creation\r\n\r\nfunction SVG_Costume(svgImage, name, rotationCenter) {\r\n    this.contents = svgImage;\r\n    this.shrinkToFit(this.maxExtent());\r\n    this.name = name || null;\r\n    this.rotationCenter = rotationCenter || this.center();\r\n    this.version = Date.now(); // for observer optimization\r\n    this.loaded = null; // for de-serialization only\r\n}\r\n\r\nSVG_Costume.prototype.toString = function () {\r\n    return 'an SVG_Costume(' + this.name + ')';\r\n};\r\n\r\n// SVG_Costume duplication\r\n\r\nSVG_Costume.prototype.copy = function () {\r\n    var img = new Image(),\r\n        cpy;\r\n    img.src = this.contents.src;\r\n    cpy = new SVG_Costume(img, this.name ? copy(this.name) : null);\r\n    cpy.rotationCenter = this.rotationCenter.copy();\r\n    return cpy;\r\n};\r\n\r\n// SVG_Costume flipping\r\n\r\n/*\r\n    flipping is currently inherited from Costume, which rasterizes it.\r\n    Therefore flipped SVG costumes may appear pixelated until we add\r\n    a method to either truly flip SVGs or change the Sprite's drawNew()\r\n    method to scale the costume before flipping it\r\n*/\r\n\r\n// SVG_Costume thumbnail\r\n\r\nSVG_Costume.prototype.shrinkToFit = function (extentPoint) {\r\n    // overridden for unrasterized SVGs\r\n    nop(extentPoint);\r\n    return;\r\n};\r\n\r\n// CostumeEditorMorph ////////////////////////////////////////////////////////\r\n\r\n// CostumeEditorMorph inherits from Morph:\r\n\r\nCostumeEditorMorph.prototype = new Morph();\r\nCostumeEditorMorph.prototype.constructor = CostumeEditorMorph;\r\nCostumeEditorMorph.uber = Morph.prototype;\r\n\r\n// CostumeEditorMorph preferences settings:\r\nCostumeEditorMorph.prototype.size = Costume.prototype.maxExtent();\r\n\r\n// CostumeEditorMorph instance creation\r\n\r\nfunction CostumeEditorMorph(costume) {\r\n    this.init(costume);\r\n}\r\n\r\nCostumeEditorMorph.prototype.init = function (costume) {\r\n    this.costume = costume || new Costume();\r\n    this.rotationCenter = this.costume.rotationCenter.copy();\r\n    this.margin = new Point(0, 0);\r\n    CostumeEditorMorph.uber.init.call(this);\r\n    this.noticesTransparentClick = true;\r\n};\r\n\r\n// CostumeEditorMorph edit ops\r\n\r\nCostumeEditorMorph.prototype.accept = function () {\r\n    this.costume.rotationCenter = this.rotationCenter.copy();\r\n    this.costume.version = Date.now();\r\n};\r\n\r\n// CostumeEditorMorph displaying\r\n\r\nCostumeEditorMorph.prototype.drawNew = function () {\r\n    var rp, ctx;\r\n\r\n    this.margin = this.size.subtract(this.costume.extent()).divideBy(2);\r\n    rp = this.rotationCenter.add(this.margin);\r\n\r\n    this.silentSetExtent(this.size);\r\n\r\n    this.image = newCanvas(this.extent());\r\n\r\n    // draw the background\r\n    if (!this.cachedTexture) {\r\n        this.cachedTexture = this.createTexture();\r\n\r\n    }\r\n    this.drawCachedTexture();\r\n\r\n    ctx = this.image.getContext('2d');\r\n\r\n    // draw the costume\r\n    ctx.drawImage(this.costume.contents, this.margin.x, this.margin.y);\r\n\r\n    // draw crosshairs:\r\n    ctx.globalAlpha = 0.5;\r\n\r\n    // circle around center:\r\n    ctx.fillStyle = 'white';\r\n    ctx.beginPath();\r\n    ctx.arc(\r\n        rp.x,\r\n        rp.y,\r\n        20,\r\n        radians(0),\r\n        radians(360),\r\n        false\r\n    );\r\n    ctx.closePath();\r\n    ctx.fill();\r\n    ctx.stroke();\r\n\r\n    ctx.beginPath();\r\n    ctx.arc(\r\n        rp.x,\r\n        rp.y,\r\n        10,\r\n        radians(0),\r\n        radians(360),\r\n        false\r\n    );\r\n    ctx.stroke();\r\n\r\n    // horizontal line:\r\n    ctx.beginPath();\r\n    ctx.moveTo(0, rp.y);\r\n    ctx.lineTo(this.costume.width() + this.margin.x * 2, rp.y);\r\n    ctx.stroke();\r\n\r\n    // vertical line:\r\n    ctx.beginPath();\r\n    ctx.moveTo(rp.x, 0);\r\n    ctx.lineTo(rp.x, this.costume.height() + this.margin.y * 2);\r\n    ctx.stroke();\r\n};\r\n\r\nCostumeEditorMorph.prototype.createTexture = function () {\r\n    var size = 5,\r\n        texture = newCanvas(new Point(size * 2, size * 2)),\r\n        ctx = texture.getContext('2d'),\r\n        grey = new Color(230, 230, 230);\r\n\r\n    ctx.fillStyle = 'white';\r\n    ctx.fillRect(0, 0, size * 2, size * 2);\r\n    ctx.fillStyle = grey.toString();\r\n    ctx.fillRect(0, 0, size, size);\r\n    ctx.fillRect(size, size, size, size);\r\n    return texture;\r\n};\r\n\r\n\r\n// CostumeEditorMorph events\r\n\r\nCostumeEditorMorph.prototype.mouseDownLeft = function (pos) {\r\n    this.rotationCenter = pos.subtract(\r\n        this.position().add(this.margin)\r\n    );\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nCostumeEditorMorph.prototype.mouseMove\r\n    = CostumeEditorMorph.prototype.mouseDownLeft;\r\n\r\n// Sound /////////////////////////////////////////////////////////////\r\n\r\n// Sound instance creation\r\n\r\nfunction Sound(audio, name) {\r\n    this.audio = audio; // mandatory\r\n    this.name = name || \"Sound\";\r\n}\r\n\r\nSound.prototype.play = function () {\r\n    // return an instance of an audio element which can be terminated\r\n    // externally (i.e. by the stage)\r\n    var aud = document.createElement('audio');\r\n    aud.src = this.audio.src;\r\n    aud.play();\r\n    return aud;\r\n};\r\n\r\nSound.prototype.copy = function () {\r\n    var snd = document.createElement('audio'),\r\n        cpy;\r\n\r\n    snd.src = this.audio.src;\r\n    cpy = new Sound(snd, this.name ? copy(this.name) : null);\r\n    return cpy;\r\n};\r\n\r\nSound.prototype.toDataURL = function () {\r\n    return this.audio.src;\r\n};\r\n\r\n// Note /////////////////////////////////////////////////////////\r\n\r\n// I am a single musical note\r\n\r\n// Note instance creation\r\n\r\nfunction Note(pitch) {\r\n    this.pitch = pitch === 0 ? 0 : pitch || 69;\r\n    this.setupContext();\r\n    this.oscillator = null;\r\n}\r\n\r\n// Note shared properties\r\n\r\nNote.prototype.audioContext = null;\r\nNote.prototype.gainNode = null;\r\n\r\n// Note audio context\r\n\r\nNote.prototype.setupContext = function () {\r\n    if (this.audioContext) { return; }\r\n    var AudioContext = (function () {\r\n        // cross browser some day?\r\n        var ctx = window.AudioContext ||\r\n            window.mozAudioContext ||\r\n            window.msAudioContext ||\r\n            window.oAudioContext ||\r\n            window.webkitAudioContext;\r\n        if (!ctx.prototype.createGain) {\r\n            ctx.prototype.createGain = ctx.prototype.createGainNode;\r\n        }\r\n        return ctx;\r\n    }());\r\n    if (!AudioContext) {\r\n        throw new Error('Web Audio API is not supported\\nin this browser');\r\n    }\r\n    Note.prototype.audioContext = new AudioContext();\r\n    Note.prototype.gainNode = Note.prototype.audioContext.createGain();\r\n    Note.prototype.gainNode.gain.value = 0.25; // reduce volume by 1/4\r\n};\r\n\r\n// Note playing\r\n\r\nNote.prototype.play = function (type) {\r\n    this.oscillator = this.audioContext.createOscillator();\r\n    if (!this.oscillator.start) {\r\n        this.oscillator.start = this.oscillator.noteOn;\r\n    }\r\n    if (!this.oscillator.stop) {\r\n        this.oscillator.stop = this.oscillator.noteOff;\r\n    }\r\n    this.oscillator.type = [\r\n        'sine',\r\n        'square',\r\n        'sawtooth',\r\n        'triangle'\r\n    ][(type || 1) - 1];\r\n    this.oscillator.frequency.value =\r\n        Math.pow(2, (this.pitch - 69) / 12) * 440;\r\n    this.oscillator.connect(this.gainNode);\r\n    this.gainNode.connect(this.audioContext.destination);\r\n    this.oscillator.start(0);\r\n};\r\n\r\nNote.prototype.stop = function () {\r\n    if (this.oscillator) {\r\n        this.oscillator.stop(0);\r\n        this.oscillator = null;\r\n    }\r\n};\r\n\r\n// CellMorph //////////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a spreadsheet style cell that can display either a string,\r\n    a Morph, a Canvas or a toString() representation of anything else.\r\n    I can be used in variable watchers or list view element cells.\r\n*/\r\n\r\n// CellMorph inherits from BoxMorph:\r\n\r\nCellMorph.prototype = new BoxMorph();\r\nCellMorph.prototype.constructor = CellMorph;\r\nCellMorph.uber = BoxMorph.prototype;\r\n\r\n// CellMorph instance creation:\r\n\r\nfunction CellMorph(contents, color, idx, parentCell) {\r\n    this.init(contents, color, idx, parentCell);\r\n}\r\n\r\nCellMorph.prototype.init = function (contents, color, idx, parentCell) {\r\n    this.contents = (contents === 0 ? 0\r\n            : contents === false ? false\r\n                    : contents || '');\r\n    this.isEditable = isNil(idx) ? false : true;\r\n    this.idx = idx || null; // for list watchers\r\n    this.parentCell = parentCell || null; // for list circularity detection\r\n    CellMorph.uber.init.call(\r\n        this,\r\n        SyntaxElementMorph.prototype.corner,\r\n        1.000001, // shadow bug in Chrome,\r\n        new Color(255, 255, 255)\r\n    );\r\n    this.color = color || new Color(255, 140, 0);\r\n    this.isBig = false;\r\n    this.version = null; // only for observing sprites\r\n    this.drawNew();\r\n};\r\n\r\n// CellMorph accessing:\r\n\r\nCellMorph.prototype.big = function () {\r\n    this.isBig = true;\r\n    this.changed();\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nCellMorph.prototype.normal = function () {\r\n    this.isBig = false;\r\n    this.changed();\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\n// CellMorph circularity testing:\r\n\r\n\r\nCellMorph.prototype.isCircular = function (list) {\r\n    if (!this.parentCell) {return false; }\r\n    if (list instanceof List) {\r\n        return this.contents === list || this.parentCell.isCircular(list);\r\n    }\r\n    return this.parentCell.isCircular(this.contents);\r\n};\r\n\r\n// CellMorph layout:\r\n\r\nCellMorph.prototype.fixLayout = function () {\r\n    var listwatcher;\r\n    this.changed();\r\n    this.drawNew();\r\n    this.changed();\r\n    if (this.parent && this.parent.fixLayout) { // variable watcher\r\n        this.parent.fixLayout();\r\n    } else {\r\n        listwatcher = this.parentThatIsA(ListWatcherMorph);\r\n        if (listwatcher) {\r\n            listwatcher.fixLayout();\r\n        }\r\n    }\r\n};\r\n\r\n// CellMorph drawing:\r\n\r\nCellMorph.prototype.update = function () {\r\n    // special case for observing sprites\r\n    if (!isSnapObject(this.contents)) {\r\n        return;\r\n    }\r\n    if (this.version !== this.contents.version) {\r\n        this.drawNew();\r\n    }\r\n};\r\n\r\nCellMorph.prototype.drawNew = function (toggle, type) {\r\n    var context,\r\n        txt,\r\n        img,\r\n        fontSize = SyntaxElementMorph.prototype.fontSize,\r\n        isSameList = this.contentsMorph instanceof ListWatcherMorph\r\n                && (this.contentsMorph.list === this.contents),\r\n        isSameTable = this.contentsMorph instanceof TableFrameMorph\r\n                && (this.contentsMorph.tableMorph.table === this.contents);\r\n\r\n    if (this.isBig) {\r\n        fontSize = fontSize * 1.5;\r\n    }\r\n\r\n    // re-build my contents\r\n    if (toggle || (this.contentsMorph && !isSameList && !isSameTable)) {\r\n        this.contentsMorph.destroy();\r\n        this.version = null;\r\n    }\r\n\r\n    if (toggle || (!isSameList && !isSameTable)) {\r\n        if (this.contents instanceof Morph) {\r\n            if (isSnapObject(this.contents)) {\r\n                img = this.contents.thumbnail(new Point(40, 40));\r\n                this.contentsMorph = new Morph();\r\n                this.contentsMorph.silentSetWidth(img.width);\r\n                this.contentsMorph.silentSetHeight(img.height);\r\n                this.contentsMorph.image = img;\r\n                this.version = this.contents.version;\r\n            } else {\r\n                this.contentsMorph = this.contents;\r\n            }\r\n        } else if (isString(this.contents)) {\r\n            txt  = this.contents.length > 500 ?\r\n                    this.contents.slice(0, 500) + '...' : this.contents;\r\n            this.contentsMorph = new TextMorph(\r\n                txt,\r\n                fontSize,\r\n                null,\r\n                true,\r\n                false,\r\n                'left' // was formerly 'center', reverted b/c of code-mapping\r\n            );\r\n            if (this.isEditable) {\r\n                this.contentsMorph.isEditable = true;\r\n                this.contentsMorph.enableSelecting();\r\n            }\r\n            this.contentsMorph.setColor(new Color(255, 255, 255));\r\n        } else if (typeof this.contents === 'boolean') {\r\n            img = SpriteMorph.prototype.booleanMorph.call(\r\n                null,\r\n                this.contents\r\n            ).fullImage();\r\n            this.contentsMorph = new Morph();\r\n            this.contentsMorph.silentSetWidth(img.width);\r\n            this.contentsMorph.silentSetHeight(img.height);\r\n            this.contentsMorph.image = img;\r\n        } else if (this.contents instanceof HTMLCanvasElement) {\r\n            this.contentsMorph = new Morph();\r\n            this.contentsMorph.silentSetWidth(this.contents.width);\r\n            this.contentsMorph.silentSetHeight(this.contents.height);\r\n            this.contentsMorph.image = this.contents;\r\n        } else if (this.contents instanceof Context) {\r\n            img = this.contents.image();\r\n            this.contentsMorph = new Morph();\r\n            this.contentsMorph.silentSetWidth(img.width);\r\n            this.contentsMorph.silentSetHeight(img.height);\r\n            this.contentsMorph.image = img;\r\n        } else if (this.contents instanceof Costume) {\r\n            img = this.contents.thumbnail(new Point(40, 40));\r\n            this.contentsMorph = new Morph();\r\n            this.contentsMorph.silentSetWidth(img.width);\r\n            this.contentsMorph.silentSetHeight(img.height);\r\n            this.contentsMorph.image = img;\r\n        } else if (this.contents instanceof Sound) {\r\n            this.contentsMorph = new SymbolMorph('notes', 30);\r\n        } else if (this.contents instanceof List) {\r\n            if ('table' === type || (!toggle && this.contents.isTable())) {\r\n                this.contentsMorph = new TableFrameMorph(new TableMorph(\r\n                    this.contents,\r\n                    10\r\n                ));\r\n                this.contentsMorph.expand(new Point(200, 150));\r\n            } else {\r\n                if (this.isCircular()) {\r\n                    this.contentsMorph = new TextMorph(\r\n                        '(...)',\r\n                        fontSize,\r\n                        null,\r\n                        false, // bold\r\n                        true, // italic\r\n                        'center'\r\n                    );\r\n                    this.contentsMorph.setColor(new Color(255, 255, 255));\r\n                } else {\r\n                    this.contentsMorph = new ListWatcherMorph(\r\n                        this.contents,\r\n                        this\r\n                    );\r\n                }\r\n            }\r\n            this.contentsMorph.isDraggable = false;\r\n        } else {\r\n            this.contentsMorph = new TextMorph(\r\n                !isNil(this.contents) ? this.contents.toString() : '',\r\n                fontSize,\r\n                null,\r\n                true,\r\n                false,\r\n                'center'\r\n            );\r\n            if (this.isEditable) {\r\n                this.contentsMorph.isEditable = true;\r\n                this.contentsMorph.enableSelecting();\r\n            }\r\n            this.contentsMorph.setColor(new Color(255, 255, 255));\r\n        }\r\n        this.add(this.contentsMorph);\r\n    }\r\n\r\n    // adjust my layout\r\n    this.silentSetHeight(this.contentsMorph.height()\r\n        + this.edge\r\n        + this.border * 2);\r\n    this.silentSetWidth(Math.max(\r\n        this.contentsMorph.width() + this.edge * 2,\r\n        (this.contents instanceof Context ||\r\n            this.contents instanceof List ? 0 :\r\n                    SyntaxElementMorph.prototype.fontSize * 3.5)\r\n    ));\r\n\r\n    // draw my outline\r\n    this.image = newCanvas(this.extent());\r\n    context = this.image.getContext('2d');\r\n    if ((this.edge === 0) && (this.border === 0)) {\r\n        BoxMorph.uber.drawNew.call(this);\r\n        return null;\r\n    }\r\n    context.fillStyle = this.color.toString();\r\n    context.beginPath();\r\n    this.outlinePath(\r\n        context,\r\n        Math.max(this.edge - this.border, 0),\r\n        this.border\r\n    );\r\n    context.closePath();\r\n    context.fill();\r\n    if (this.border > 0 && !MorphicPreferences.isFlat) {\r\n        context.lineWidth = this.border;\r\n        context.strokeStyle = this.borderColor.toString();\r\n        context.beginPath();\r\n        this.outlinePath(context, this.edge, this.border / 2);\r\n        context.closePath();\r\n        context.stroke();\r\n\r\n        context.shadowOffsetX = this.border;\r\n        context.shadowOffsetY = this.border;\r\n        context.shadowBlur = this.border;\r\n        context.shadowColor = this.color.darker(80).toString();\r\n        this.drawShadow(context, this.edge, this.border / 2);\r\n    }\r\n\r\n    // position my contents\r\n    if (toggle || (!isSameList && !isSameTable)) {\r\n        this.contentsMorph.setCenter(this.center());\r\n    }\r\n};\r\n\r\nCellMorph.prototype.drawShadow = function (context, radius, inset) {\r\n    var offset = radius + inset,\r\n        w = this.width(),\r\n        h = this.height();\r\n\r\n    // bottom left:\r\n    context.beginPath();\r\n    context.moveTo(0, h - offset);\r\n    context.lineTo(0, offset);\r\n    context.stroke();\r\n\r\n    // top left:\r\n    context.beginPath();\r\n    context.arc(\r\n        offset,\r\n        offset,\r\n        radius,\r\n        radians(-180),\r\n        radians(-90),\r\n        false\r\n    );\r\n    context.stroke();\r\n\r\n    // top right:\r\n    context.beginPath();\r\n    context.moveTo(offset, 0);\r\n    context.lineTo(w - offset, 0);\r\n    context.stroke();\r\n};\r\n\r\n// CellMorph editing (inside list watchers):\r\n\r\nCellMorph.prototype.layoutChanged = function () {\r\n    var context,\r\n        fontSize = SyntaxElementMorph.prototype.fontSize,\r\n        listWatcher = this.parentThatIsA(ListWatcherMorph);\r\n\r\n    if (this.isBig) {\r\n        fontSize = fontSize * 1.5;\r\n    }\r\n\r\n    // adjust my layout\r\n    this.silentSetHeight(this.contentsMorph.height()\r\n        + this.edge\r\n        + this.border * 2);\r\n    this.silentSetWidth(Math.max(\r\n        this.contentsMorph.width() + this.edge * 2,\r\n        (this.contents instanceof Context ||\r\n            this.contents instanceof List ? 0 : this.height() * 2)\r\n    ));\r\n\r\n\r\n    // draw my outline\r\n    this.image = newCanvas(this.extent());\r\n    context = this.image.getContext('2d');\r\n    if ((this.edge === 0) && (this.border === 0)) {\r\n        BoxMorph.uber.drawNew.call(this);\r\n        return null;\r\n    }\r\n    context.fillStyle = this.color.toString();\r\n    context.beginPath();\r\n    this.outlinePath(\r\n        context,\r\n        Math.max(this.edge - this.border, 0),\r\n        this.border\r\n    );\r\n    context.closePath();\r\n    context.fill();\r\n    if (this.border > 0 && !MorphicPreferences.isFlat) {\r\n        context.lineWidth = this.border;\r\n        context.strokeStyle = this.borderColor.toString();\r\n        context.beginPath();\r\n        this.outlinePath(context, this.edge, this.border / 2);\r\n        context.closePath();\r\n        context.stroke();\r\n\r\n        context.shadowOffsetX = this.border;\r\n        context.shadowOffsetY = this.border;\r\n        context.shadowBlur = this.border;\r\n        context.shadowColor = this.color.darker(80).toString();\r\n        this.drawShadow(context, this.edge, this.border / 2);\r\n    }\r\n\r\n    // position my contents\r\n    this.contentsMorph.setCenter(this.center());\r\n\r\n    if (listWatcher) {\r\n        listWatcher.fixLayout();\r\n    }\r\n};\r\n\r\nCellMorph.prototype.reactToEdit = function (textMorph) {\r\n    var listWatcher;\r\n    if (!isNil(this.idx)) {\r\n        listWatcher = this.parentThatIsA(ListWatcherMorph);\r\n        if (listWatcher) {\r\n            listWatcher.list.put(textMorph.text, this.idx);\r\n        }\r\n    }\r\n};\r\n\r\nCellMorph.prototype.mouseClickLeft = function (pos) {\r\n    if (this.isEditable && this.contentsMorph instanceof TextMorph) {\r\n        this.contentsMorph.selectAllAndEdit();\r\n    } else {\r\n        this.escalateEvent('mouseClickLeft', pos);\r\n    }\r\n};\r\n\r\nCellMorph.prototype.mouseDoubleClick = function (pos) {\r\n    if (List.prototype.enableTables &&\r\n            this.currentValue instanceof List) {\r\n        new TableDialogMorph(this.contents).popUp(this.world());\r\n    } else {\r\n        this.escalateEvent('mouseDoubleClick', pos);\r\n    }\r\n};\r\n\r\n// WatcherMorph //////////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a little window which observes some value and continuously\r\n    updates itself accordingly.\r\n\r\n    My target can be either a SpriteMorph or a VariableFrame.\r\n*/\r\n\r\n// WatcherMorph inherits from BoxMorph:\r\n\r\nWatcherMorph.prototype = new BoxMorph();\r\nWatcherMorph.prototype.constructor = WatcherMorph;\r\nWatcherMorph.uber = BoxMorph.prototype;\r\n\r\n// WatcherMorph instance creation:\r\n\r\nfunction WatcherMorph(label, color, target, getter, isHidden) {\r\n    this.init(label, color, target, getter, isHidden);\r\n}\r\n\r\nWatcherMorph.prototype.init = function (\r\n    label,\r\n    color,\r\n    target,\r\n    getter,\r\n    isHidden\r\n) {\r\n    // additional properties\r\n    this.labelText = label || '';\r\n    this.version = null;\r\n    this.objName = '';\r\n\r\n    // initialize inherited properties\r\n    WatcherMorph.uber.init.call(\r\n        this,\r\n        SyntaxElementMorph.prototype.rounding,\r\n        1.000001, // shadow bug in Chrome,\r\n        new Color(120, 120, 120)\r\n    );\r\n\r\n    // override inherited behavior\r\n    this.color = new Color(220, 220, 220);\r\n    this.readoutColor = color;\r\n    this.style = 'normal';\r\n    this.target = target || null; // target obj (Sprite) or VariableFrame\r\n    this.getter = getter || null; // callback or variable name (string)\r\n    this.currentValue = null;\r\n    this.labelMorph = null;\r\n    this.sliderMorph = null;\r\n    this.cellMorph = null;\r\n    this.isDraggable = true;\r\n    this.fixLayout();\r\n    this.update();\r\n    if (isHidden) { // for de-serializing\r\n        this.hide();\r\n    }\r\n};\r\n\r\n// WatcherMorph accessing:\r\n\r\nWatcherMorph.prototype.isTemporary = function () {\r\n    var stage = this.parentThatIsA(StageMorph);\r\n    if (this.target instanceof VariableFrame) {\r\n        if (stage) {\r\n            if (this.target === stage.variables.parentFrame) {\r\n                return false; // global\r\n            }\r\n        }\r\n        return this.target.owner === null;\r\n    }\r\n    return false;\r\n};\r\n\r\nWatcherMorph.prototype.object = function () {\r\n    // answer the actual sprite I refer to\r\n    return this.target instanceof VariableFrame ?\r\n            this.target.owner : this.target;\r\n};\r\n\r\nWatcherMorph.prototype.isGlobal = function (selector) {\r\n    return contains(\r\n        ['getLastAnswer', 'getLastMessage', 'getTempo', 'getTimer',\r\n             'reportMouseX', 'reportMouseY', 'reportThreadCount'],\r\n        selector\r\n    );\r\n};\r\n\r\n// WatcherMorph slider accessing:\r\n\r\nWatcherMorph.prototype.setSliderMin = function (num, noUpdate) {\r\n    if (this.target instanceof VariableFrame) {\r\n        this.sliderMorph.setSize(1, noUpdate);\r\n        this.sliderMorph.setStart(num, noUpdate);\r\n        this.sliderMorph.setSize(this.sliderMorph.rangeSize() / 5, noUpdate);\r\n    }\r\n};\r\n\r\nWatcherMorph.prototype.setSliderMax = function (num, noUpdate) {\r\n    if (this.target instanceof VariableFrame) {\r\n        this.sliderMorph.setSize(1, noUpdate);\r\n        this.sliderMorph.setStop(num, noUpdate);\r\n        this.sliderMorph.setSize(this.sliderMorph.rangeSize() / 5, noUpdate);\r\n    }\r\n};\r\n\r\n// WatcherMorph updating:\r\n\r\nWatcherMorph.prototype.update = function () {\r\n    var newValue, sprite, num, att,\r\n        isGhosted = false;\r\n\r\n    if (this.target && this.getter) {\r\n        this.updateLabel();\r\n        if (this.target instanceof VariableFrame) {\r\n            newValue = this.target.vars[this.getter] ?\r\n                    this.target.vars[this.getter].value : undefined;\r\n            if (newValue === undefined && this.target.owner) {\r\n                sprite = this.target.owner;\r\n                if (contains(sprite.inheritedVariableNames(), this.getter)) {\r\n                    newValue = this.target.getVar(this.getter);\r\n                    // ghost cell color\r\n                    this.cellMorph.setColor(\r\n                        SpriteMorph.prototype.blockColor.variables\r\n                            .lighter(35)\r\n                    );\r\n                } else {\r\n                    this.destroy();\r\n                    return;\r\n                }\r\n            } else {\r\n                // un-ghost the cell color\r\n                this.cellMorph.setColor(\r\n                    SpriteMorph.prototype.blockColor.variables\r\n                );\r\n            }\r\n        } else {\r\n            newValue = this.target[this.getter]();\r\n\r\n            // determine whether my getter is an inherited attribute\r\n            att = {\r\n                xPosition: 'x position',\r\n                yPosition: 'y position',\r\n                direction: 'direction',\r\n                getCostumeIdx: 'costume #',\r\n                getScale: 'size'} [this.getter];\r\n            isGhosted = att ? this.target.inheritsAttribute(att) : false;\r\n        }\r\n        if (newValue !== '' && !isNil(newValue)) {\r\n            num = +newValue;\r\n            if (typeof newValue !== 'boolean' && !isNaN(num)) {\r\n                newValue = Math.round(newValue * 1000000000) / 1000000000;\r\n            }\r\n        }\r\n        if (newValue !== this.currentValue) {\r\n            this.changed();\r\n            this.cellMorph.contents = newValue;\r\n            if (isSnapObject(this.target)) {\r\n                if (isGhosted) {\r\n                    this.cellMorph.setColor(this.readoutColor.lighter(35));\r\n                } else {\r\n                    this.cellMorph.setColor(this.readoutColor);\r\n                }\r\n            }\r\n            this.cellMorph.drawNew();\r\n            if (!isNaN(newValue)) {\r\n                this.sliderMorph.value = newValue;\r\n                this.sliderMorph.drawNew();\r\n            }\r\n            this.fixLayout();\r\n            this.currentValue = newValue;\r\n        }\r\n    }\r\n    if (this.cellMorph.contentsMorph instanceof ListWatcherMorph) {\r\n        this.cellMorph.contentsMorph.update();\r\n    } else if (isSnapObject(this.cellMorph.contents)) {\r\n        this.cellMorph.update();\r\n    }\r\n};\r\n\r\nWatcherMorph.prototype.updateLabel = function () {\r\n    // check whether the target object's name has been changed\r\n    var obj = this.object();\r\n\r\n    if (!obj || this.isGlobal(this.getter)) { return; }\r\n    if (obj.version !== this.version) {\r\n        this.objName = obj.name ? obj.name + ' ' : ' ';\r\n        if (this.labelMorph) {\r\n            this.labelMorph.destroy();\r\n            this.labelMorph = null;\r\n            this.fixLayout();\r\n        }\r\n    }\r\n};\r\n\r\n// WatcherMorph layout:\r\n\r\nWatcherMorph.prototype.fixLayout = function () {\r\n    var fontSize = SyntaxElementMorph.prototype.fontSize, isList,\r\n        myself = this;\r\n\r\n    this.changed();\r\n\r\n    // create my parts\r\n    if (this.labelMorph === null) {\r\n        this.labelMorph = new StringMorph(\r\n            this.objName + this.labelText,\r\n            fontSize,\r\n            null,\r\n            true,\r\n            false,\r\n            false,\r\n            MorphicPreferences.isFlat ? new Point() : new Point(1, 1),\r\n            new Color(255, 255, 255)\r\n        );\r\n        this.add(this.labelMorph);\r\n    }\r\n    if (this.cellMorph === null) {\r\n        this.cellMorph = new CellMorph('', this.readoutColor);\r\n        this.add(this.cellMorph);\r\n    }\r\n    if (this.sliderMorph === null) {\r\n        this.sliderMorph = new SliderMorph(\r\n            0,\r\n            100,\r\n            0,\r\n            20,\r\n            'horizontal'\r\n        );\r\n        this.sliderMorph.alpha = 1;\r\n        this.sliderMorph.button.color = this.color.darker();\r\n        this.sliderMorph.color = this.color.lighter(60);\r\n        this.sliderMorph.button.highlightColor = this.color.darker();\r\n        this.sliderMorph.button.highlightColor.b += 50;\r\n        this.sliderMorph.button.pressColor = this.color.darker();\r\n        this.sliderMorph.button.pressColor.b += 100;\r\n        this.sliderMorph.setHeight(fontSize);\r\n        this.sliderMorph.action = function (num) {\r\n            myself.target.setVar(\r\n                myself.getter,\r\n                Math.round(num),\r\n                myself.target.owner\r\n            );\r\n        };\r\n        this.add(this.sliderMorph);\r\n    }\r\n\r\n    // adjust my layout\r\n    isList = this.cellMorph.contents instanceof List;\r\n    if (isList) { this.style = 'normal'; }\r\n\r\n    if (this.style === 'large') {\r\n        this.labelMorph.hide();\r\n        this.sliderMorph.hide();\r\n        this.cellMorph.big();\r\n        this.cellMorph.setPosition(this.position());\r\n        this.setExtent(this.cellMorph.extent().subtract(1));\r\n        return;\r\n    }\r\n\r\n    this.labelMorph.show();\r\n    this.sliderMorph.show();\r\n    this.cellMorph.normal();\r\n    this.labelMorph.setPosition(this.position().add(new Point(\r\n        this.edge,\r\n        this.border + SyntaxElementMorph.prototype.typeInPadding\r\n    )));\r\n\r\n    if (isList) {\r\n        this.cellMorph.setPosition(this.labelMorph.bottomLeft().add(\r\n            new Point(0, SyntaxElementMorph.prototype.typeInPadding)\r\n        ));\r\n    } else {\r\n        this.cellMorph.setPosition(this.labelMorph.topRight().add(new Point(\r\n            fontSize / 3,\r\n            0\r\n        )));\r\n        this.labelMorph.setTop(\r\n            this.cellMorph.top()\r\n                + (this.cellMorph.height() - this.labelMorph.height()) / 2\r\n        );\r\n    }\r\n\r\n    if (this.style === 'slider') {\r\n        this.sliderMorph.silentSetPosition(new Point(\r\n            this.labelMorph.left(),\r\n            this.cellMorph.bottom()\r\n                + SyntaxElementMorph.prototype.typeInPadding\r\n        ));\r\n        this.sliderMorph.setWidth(this.cellMorph.right()\r\n            - this.labelMorph.left());\r\n        this.silentSetHeight(\r\n            this.cellMorph.height()\r\n                + this.sliderMorph.height()\r\n                + this.border * 2\r\n                + SyntaxElementMorph.prototype.typeInPadding * 3\r\n        );\r\n    } else {\r\n        this.sliderMorph.hide();\r\n        this.bounds.corner.y = this.cellMorph.bottom()\r\n            + this.border\r\n            + SyntaxElementMorph.prototype.typeInPadding;\r\n    }\r\n    this.bounds.corner.x = Math.max(\r\n        this.cellMorph.right(),\r\n        this.labelMorph.right()\r\n    ) + this.edge\r\n        + SyntaxElementMorph.prototype.typeInPadding;\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\n// WatcherMorph events:\r\n\r\nWatcherMorph.prototype.mouseDoubleClick = function (pos) {\r\n    if (List.prototype.enableTables &&\r\n            this.currentValue instanceof List) {\r\n        new TableDialogMorph(this.currentValue).popUp(this.world());\r\n    } else {\r\n        this.escalateEvent('mouseDoubleClick', pos);\r\n    }\r\n};\r\n\r\n// WatcherMorph dragging and dropping:\r\n\r\nWatcherMorph.prototype.rootForGrab = function () {\r\n    // prevent watchers to be dragged in presentation mode\r\n    var ide = this.parentThatIsA(IDE_Morph);\r\n    if (ide && ide.isAppMode) {\r\n        return ide;\r\n    }\r\n    return this;\r\n};\r\n\r\n\r\n// WatcherMorph user menu:\r\n\r\nWatcherMorph.prototype.userMenu = function () {\r\n    var myself = this,\r\n        ide = this.parentThatIsA(IDE_Morph),\r\n        menu = new MenuMorph(this),\r\n        on = '\\u25CF',\r\n        off = '\\u25CB',\r\n        vNames;\r\n\r\n    function monitor(vName) {\r\n        var stage = myself.parentThatIsA(StageMorph),\r\n            varFrame = myself.currentValue.outerContext.variables;\r\n        menu.addItem(\r\n            vName + '...',\r\n            function () {\r\n                var watcher = detect(\r\n                    stage.children,\r\n                    function (morph) {\r\n                        return morph instanceof WatcherMorph\r\n                            && morph.target === varFrame\r\n                            && morph.getter === vName;\r\n                    }\r\n                ),\r\n                    others;\r\n                if (watcher !== null) {\r\n                    watcher.show();\r\n                    watcher.fixLayout(); // re-hide hidden parts\r\n                    return;\r\n                }\r\n                watcher = new WatcherMorph(\r\n                    vName + ' ' + localize('(temporary)'),\r\n                    SpriteMorph.prototype.blockColor.variables,\r\n                    varFrame,\r\n                    vName\r\n                );\r\n                watcher.setPosition(stage.position().add(10));\r\n                others = stage.watchers(watcher.left());\r\n                if (others.length > 0) {\r\n                    watcher.setTop(others[others.length - 1].bottom());\r\n                }\r\n                stage.add(watcher);\r\n                watcher.fixLayout();\r\n            }\r\n        );\r\n    }\r\n\r\n    if (ide && ide.isAppMode) { // prevent context menu in app mode\r\n        return;\r\n    }\r\n\r\n    menu.addItem(\r\n        (this.style === 'normal' ? on : off) + ' ' + localize('normal'),\r\n        'styleNormal'\r\n    );\r\n    menu.addItem(\r\n        (this.style === 'large' ? on : off) + ' ' + localize('large'),\r\n        'styleLarge'\r\n    );\r\n    if (this.target instanceof VariableFrame) {\r\n        menu.addItem(\r\n            (this.style === 'slider' ? on : off) + ' ' + localize('slider'),\r\n            'styleSlider'\r\n        );\r\n        menu.addLine();\r\n        menu.addItem(\r\n            'slider min...',\r\n            'userSetSliderMin'\r\n        );\r\n        menu.addItem(\r\n            'slider max...',\r\n            'userSetSliderMax'\r\n        );\r\n        menu.addLine();\r\n        menu.addItem(\r\n            'import...',\r\n            function () {\r\n                var inp = document.createElement('input'),\r\n                    ide = myself.parentThatIsA(IDE_Morph);\r\n                if (ide.filePicker) {\r\n                    document.body.removeChild(ide.filePicker);\r\n                    ide.filePicker = null;\r\n                }\r\n                inp.type = 'file';\r\n                inp.style.color = \"transparent\";\r\n                inp.style.backgroundColor = \"transparent\";\r\n                inp.style.border = \"none\";\r\n                inp.style.outline = \"none\";\r\n                inp.style.position = \"absolute\";\r\n                inp.style.top = \"0px\";\r\n                inp.style.left = \"0px\";\r\n                inp.style.width = \"0px\";\r\n                inp.style.height = \"0px\";\r\n                inp.style.display = \"none\";\r\n                inp.addEventListener(\r\n                    \"change\",\r\n                    function () {\r\n                        var file;\r\n                        function txtOnlyMsg(ftype) {\r\n                            ide.inform(\r\n                                'Unable to import',\r\n                                'Snap! can only import \"text\" files.\\n' +\r\n                                    'You selected a file of type \"' +\r\n                                    ftype +\r\n                                    '\".'\r\n                            );\r\n                        }\r\n\r\n                        function readText(aFile) {\r\n                            var frd = new FileReader();\r\n                            frd.onloadend = function (e) {\r\n                                myself.target.setVar(\r\n                                    myself.getter,\r\n                                    e.target.result\r\n                                );\r\n                            };\r\n\r\n                            if (aFile.type.indexOf(\"text\") === 0) {\r\n                                frd.readAsText(aFile);\r\n                            } else {\r\n                                txtOnlyMsg(aFile.type);\r\n                            }\r\n                        }\r\n\r\n                        document.body.removeChild(inp);\r\n                        ide.filePicker = null;\r\n                        if (inp.files.length > 0) {\r\n                            file = inp.files[inp.files.length - 1];\r\n                            readText(file);\r\n                        }\r\n                    },\r\n                    false\r\n                );\r\n                document.body.appendChild(inp);\r\n                ide.filePicker = inp;\r\n                inp.click();\r\n            }\r\n        );\r\n        if (isString(this.currentValue) || !isNaN(+this.currentValue)) {\r\n            menu.addItem(\r\n                'export...',\r\n                function () {\r\n                    var ide = myself.parentThatIsA(IDE_Morph);\r\n                    ide.saveFileAs(\r\n                        myself.currentValue.toString(),\r\n                        'text/plain;charset=utf-8',\r\n                        myself.getter // variable name\r\n                    );\r\n                }\r\n            );\r\n        } else if (this.currentValue instanceof Context) {\r\n            vNames = this.currentValue.outerContext.variables.names();\r\n            if (vNames.length) {\r\n                menu.addLine();\r\n                vNames.forEach(function (vName) {\r\n                    monitor(vName);\r\n                });\r\n            }\r\n        }\r\n    }\r\n    return menu;\r\n};\r\n\r\nWatcherMorph.prototype.setStyle = function (style) {\r\n    this.style = style;\r\n    this.fixLayout();\r\n};\r\n\r\nWatcherMorph.prototype.styleNormal = function () {\r\n    this.setStyle('normal');\r\n};\r\n\r\nWatcherMorph.prototype.styleLarge = function () {\r\n    this.setStyle('large');\r\n};\r\n\r\nWatcherMorph.prototype.styleSlider = function () {\r\n    this.setStyle('slider');\r\n};\r\n\r\nWatcherMorph.prototype.userSetSliderMin = function () {\r\n    new DialogBoxMorph(\r\n        this,\r\n        this.setSliderMin,\r\n        this\r\n    ).prompt(\r\n        \"Slider minimum value\",\r\n        this.sliderMorph.start.toString(),\r\n        this.world(),\r\n        null, // pic\r\n        null, // choices\r\n        null, // read only\r\n        true // numeric\r\n    );\r\n};\r\n\r\nWatcherMorph.prototype.userSetSliderMax = function () {\r\n    new DialogBoxMorph(\r\n        this,\r\n        this.setSliderMax,\r\n        this\r\n    ).prompt(\r\n        \"Slider maximum value\",\r\n        this.sliderMorph.stop.toString(),\r\n        this.world(),\r\n        null, // pic\r\n        null, // choices\r\n        null, // read only\r\n        true // numeric\r\n    );\r\n};\r\n\r\n// WatcherMorph drawing:\r\n\r\nWatcherMorph.prototype.drawNew = function () {\r\n    var context,\r\n        gradient;\r\n    this.image = newCanvas(this.extent());\r\n    context = this.image.getContext('2d');\r\n    if (MorphicPreferences.isFlat || (this.edge === 0 && this.border === 0)) {\r\n        BoxMorph.uber.drawNew.call(this);\r\n        return;\r\n    }\r\n    gradient = context.createLinearGradient(0, 0, 0, this.height());\r\n    gradient.addColorStop(0, this.color.lighter().toString());\r\n    gradient.addColorStop(1, this.color.darker().toString());\r\n    context.fillStyle = gradient;\r\n    context.beginPath();\r\n    this.outlinePath(\r\n        context,\r\n        Math.max(this.edge - this.border, 0),\r\n        this.border\r\n    );\r\n    context.closePath();\r\n    context.fill();\r\n    if (this.border > 0) {\r\n        gradient = context.createLinearGradient(0, 0, 0, this.height());\r\n        gradient.addColorStop(0, this.borderColor.lighter().toString());\r\n        gradient.addColorStop(1, this.borderColor.darker().toString());\r\n        context.lineWidth = this.border;\r\n        context.strokeStyle = gradient;\r\n        context.beginPath();\r\n        this.outlinePath(context, this.edge, this.border / 2);\r\n        context.closePath();\r\n        context.stroke();\r\n    }\r\n};\r\n\r\n// StagePrompterMorph ////////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a sensor-category-colored input box at the bottom of the stage\r\n    which lets the user answer to a question. If I am opened from within\r\n    the context of a sprite, my question can be anything that is displayable\r\n    in a SpeechBubble and will be, if I am opened from within the stage\r\n    my question will be shown as a single line of text within my label morph.\r\n*/\r\n\r\n// StagePrompterMorph inherits from BoxMorph:\r\n\r\nStagePrompterMorph.prototype = new BoxMorph();\r\nStagePrompterMorph.prototype.constructor = StagePrompterMorph;\r\nStagePrompterMorph.uber = BoxMorph.prototype;\r\n\r\n// StagePrompterMorph instance creation:\r\n\r\nfunction StagePrompterMorph(question) {\r\n    this.init(question);\r\n}\r\n\r\nStagePrompterMorph.prototype.init = function (question) {\r\n    // question is optional in case the Stage is asking\r\n    var myself = this;\r\n\r\n    // additional properties\r\n    this.isDone = false;\r\n    if (question) {\r\n        this.label = new StringMorph(\r\n            question,\r\n            SpriteMorph.prototype.bubbleFontSize,\r\n            null, // fontStyle\r\n            SpriteMorph.prototype.bubbleFontIsBold,\r\n            false, // italic\r\n            'left'\r\n        );\r\n    } else {\r\n        this.label = null;\r\n    }\r\n    this.inputField = new InputFieldMorph();\r\n    this.button = new PushButtonMorph(\r\n        null,\r\n        function () {myself.accept(); },\r\n        '\\u2713'\r\n    );\r\n\r\n    // initialize inherited properties\r\n    StagePrompterMorph.uber.init.call(\r\n        this,\r\n        SyntaxElementMorph.prototype.rounding,\r\n        SpriteMorph.prototype.bubbleBorder,\r\n        SpriteMorph.prototype.blockColor.sensing\r\n    );\r\n\r\n    // override inherited behavior\r\n    this.color = new Color(255, 255, 255);\r\n    if (this.label) {this.add(this.label); }\r\n    this.add(this.inputField);\r\n    this.add(this.button);\r\n    this.setWidth(StageMorph.prototype.dimensions.x - 20);\r\n    this.fixLayout();\r\n};\r\n\r\n// StagePrompterMorph layout:\r\n\r\nStagePrompterMorph.prototype.fixLayout = function () {\r\n    var y = 0;\r\n    if (this.label) {\r\n        this.label.setPosition(new Point(\r\n            this.left() + this.edge,\r\n            this.top() + this.edge\r\n        ));\r\n        y = this.label.bottom() - this.top();\r\n    }\r\n    this.inputField.setPosition(new Point(\r\n        this.left() + this.edge,\r\n        this.top() + y + this.edge\r\n    ));\r\n    this.inputField.setWidth(\r\n        this.width()\r\n            - this.edge * 2\r\n            - this.button.width()\r\n            - this.border\r\n    );\r\n    this.button.setCenter(this.inputField.center());\r\n    this.button.setLeft(this.inputField.right() + this.border);\r\n    this.setHeight(\r\n        this.inputField.bottom()\r\n            - this.top()\r\n            + this.edge\r\n    );\r\n};\r\n\r\n// StagePrompterMorph events:\r\n\r\nStagePrompterMorph.prototype.mouseClickLeft = function () {\r\n    this.inputField.edit();\r\n};\r\n\r\nStagePrompterMorph.prototype.accept = function () {\r\n    this.isDone = true;\r\n};\r\n//fin de objects.js\r\n/*\r\n\r\n    gui.js\r\n\r\n    a programming environment\r\n    based on morphic.js, blocks.js, threads.js and objects.js\r\n    inspired by Scratch\r\n\r\n    written by Jens Mönig\r\n    jens@moenig.org\r\n\r\n    Copyright (C) 2017 by Jens Mönig\r\n\r\n    This file is part of Snap!.\r\n\r\n    Snap! is free software: you can redistribute it and/or modify\r\n    it under the terms of the GNU Affero General Public License as\r\n    published by the Free Software Foundation, either version 3 of\r\n    the License, or (at your option) any later version.\r\n\r\n    This program is distributed in the hope that it will be useful,\r\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n    GNU Affero General Public License for more details.\r\n\r\n    You should have received a copy of the GNU Affero General Public License\r\n    along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n\r\n\r\n    prerequisites:\r\n    --------------\r\n    needs blocks.js, threads.js, objects.js and morphic.js\r\n\r\n\r\n    toc\r\n    ---\r\n    the following list shows the order in which all constructors are\r\n    defined. Use this list to locate code in this document:\r\n\r\n        IDE_Morph\r\n        ProjectDialogMorph\r\n        SpriteIconMorph\r\n        TurtleIconMorph\r\n        CostumeIconMorph\r\n        WardrobeMorph\r\n        StageHandleMorph\r\n        PaletteHandleMorph\r\n        CamSnapshotDialogMorph\r\n\r\n\r\n    credits\r\n    -------\r\n    Nathan Dinsmore contributed saving and loading of projects,\r\n    ypr-Snap! project conversion and countless bugfixes\r\n    Ian Reynolds contributed handling and visualization of sounds\r\n    Michael Ball contributed the LibraryImportDialogMorph and countless\r\n    utilities to load libraries from relative urls\r\n\r\n*/\r\n\r\n/*global modules, Morph, SpriteMorph, SyntaxElementMorph, Color,\r\nListWatcherMorph, TextMorph, newCanvas, useBlurredShadows, VariableFrame,\r\nStringMorph, Point, MenuMorph, morphicVersion, DialogBoxMorph,\r\nToggleButtonMorph, contains, ScrollFrameMorph, StageMorph, PushButtonMorph,\r\nInputFieldMorph, FrameMorph, Process, nop, SnapSerializer, ListMorph, detect,\r\nAlignmentMorph, TabMorph, Costume, MorphicPreferences, Sound, BlockMorph,\r\nToggleMorph, InputSlotDialogMorph, ScriptsMorph, isNil, SymbolMorph,\r\nBlockExportDialogMorph, BlockImportDialogMorph, SnapTranslator, localize,\r\nList, ArgMorph, SnapCloud, Uint8Array, HandleMorph, SVG_Costume,\r\nfontHeight, hex_sha512, sb, CommentMorph, CommandBlockMorph, BooleanSlotMorph,\r\nBlockLabelPlaceHolderMorph, Audio, SpeechBubbleMorph, ScriptFocusMorph,\r\nXML_Element, WatcherMorph, BlockRemovalDialogMorph, saveAs, TableMorph,\r\nisSnapObject, isRetinaEnabled, disableRetinaSupport, enableRetinaSupport,\r\nisRetinaSupported, SliderMorph, Animation*/\r\n\r\n// Global stuff ////////////////////////////////////////////////////////\r\n\r\nmodules.gui = '2017-December-01';\r\n\r\n// Declarations\r\n\r\nvar IDE_Morph;\r\nvar ProjectDialogMorph;\r\nvar LibraryImportDialogMorph;\r\nvar SpriteIconMorph;\r\nvar CostumeIconMorph;\r\nvar TurtleIconMorph;\r\nvar WardrobeMorph;\r\nvar SoundIconMorph;\r\nvar JukeboxMorph;\r\nvar StageHandleMorph;\r\nvar PaletteHandleMorph;\r\nvar CamSnapshotDialogMorph;\r\n\r\n// IDE_Morph ///////////////////////////////////////////////////////////\r\n\r\n// I am SNAP's top-level frame, the Editor window\r\n\r\n// IDE_Morph inherits from Morph:\r\n\r\nIDE_Morph.prototype = new Morph();\r\nIDE_Morph.prototype.constructor = IDE_Morph;\r\nIDE_Morph.uber = Morph.prototype;\r\n\r\n// IDE_Morph preferences settings and skins\r\n\r\nIDE_Morph.prototype.setDefaultDesign = function () {\r\n    MorphicPreferences.isFlat = false;\r\n    SpriteMorph.prototype.paletteColor = new Color(55, 55, 55);\r\n    SpriteMorph.prototype.paletteTextColor = new Color(230, 230, 230);\r\n    StageMorph.prototype.paletteTextColor\r\n        = SpriteMorph.prototype.paletteTextColor;\r\n    StageMorph.prototype.paletteColor = SpriteMorph.prototype.paletteColor;\r\n    SpriteMorph.prototype.sliderColor\r\n        = SpriteMorph.prototype.paletteColor.lighter(30);\r\n\r\n    IDE_Morph.prototype.buttonContrast = 30;\r\n    IDE_Morph.prototype.backgroundColor = new Color(40, 40, 40);\r\n    IDE_Morph.prototype.frameColor = SpriteMorph.prototype.paletteColor;\r\n\r\n    IDE_Morph.prototype.groupColor\r\n        = SpriteMorph.prototype.paletteColor.lighter(8);\r\n    IDE_Morph.prototype.sliderColor = SpriteMorph.prototype.sliderColor;\r\n    IDE_Morph.prototype.buttonLabelColor = new Color(255, 255, 255);\r\n    IDE_Morph.prototype.tabColors = [\r\n        IDE_Morph.prototype.groupColor.darker(40),\r\n        IDE_Morph.prototype.groupColor.darker(60),\r\n        IDE_Morph.prototype.groupColor\r\n    ];\r\n    IDE_Morph.prototype.rotationStyleColors = IDE_Morph.prototype.tabColors;\r\n    IDE_Morph.prototype.appModeColor = new Color();\r\n    IDE_Morph.prototype.scriptsPaneTexture = this.scriptsTexture();\r\n    IDE_Morph.prototype.padding = 5;\r\n\r\n    SpriteIconMorph.prototype.labelColor\r\n        = IDE_Morph.prototype.buttonLabelColor;\r\n    CostumeIconMorph.prototype.labelColor\r\n        = IDE_Morph.prototype.buttonLabelColor;\r\n    SoundIconMorph.prototype.labelColor\r\n        = IDE_Morph.prototype.buttonLabelColor;\r\n    TurtleIconMorph.prototype.labelColor\r\n        = IDE_Morph.prototype.buttonLabelColor;\r\n};\r\n\r\nIDE_Morph.prototype.setFlatDesign = function () {\r\n    MorphicPreferences.isFlat = true;\r\n    SpriteMorph.prototype.paletteColor = new Color(255, 255, 255);\r\n    SpriteMorph.prototype.paletteTextColor = new Color(70, 70, 70);\r\n    StageMorph.prototype.paletteTextColor\r\n        = SpriteMorph.prototype.paletteTextColor;\r\n    StageMorph.prototype.paletteColor = SpriteMorph.prototype.paletteColor;\r\n    SpriteMorph.prototype.sliderColor = SpriteMorph.prototype.paletteColor;\r\n\r\n    IDE_Morph.prototype.buttonContrast = 30;\r\n    IDE_Morph.prototype.backgroundColor = new Color(200, 200, 200);\r\n    IDE_Morph.prototype.frameColor = new Color(255, 255, 255);\r\n\r\n    IDE_Morph.prototype.groupColor = new Color(230, 230, 230);\r\n    IDE_Morph.prototype.sliderColor = SpriteMorph.prototype.sliderColor;\r\n    IDE_Morph.prototype.buttonLabelColor = new Color(70, 70, 70);\r\n    IDE_Morph.prototype.tabColors = [\r\n        IDE_Morph.prototype.groupColor.lighter(60),\r\n        IDE_Morph.prototype.groupColor.darker(10),\r\n        IDE_Morph.prototype.groupColor\r\n    ];\r\n    IDE_Morph.prototype.rotationStyleColors = [\r\n        IDE_Morph.prototype.groupColor,\r\n        IDE_Morph.prototype.groupColor.darker(10),\r\n        IDE_Morph.prototype.groupColor.darker(30)\r\n    ];\r\n    IDE_Morph.prototype.appModeColor = IDE_Morph.prototype.frameColor;\r\n    IDE_Morph.prototype.scriptsPaneTexture = null;\r\n    IDE_Morph.prototype.padding = 1;\r\n\r\n    SpriteIconMorph.prototype.labelColor\r\n        = IDE_Morph.prototype.buttonLabelColor;\r\n    CostumeIconMorph.prototype.labelColor\r\n        = IDE_Morph.prototype.buttonLabelColor;\r\n    SoundIconMorph.prototype.labelColor\r\n        = IDE_Morph.prototype.buttonLabelColor;\r\n    TurtleIconMorph.prototype.labelColor\r\n        = IDE_Morph.prototype.buttonLabelColor;\r\n};\r\n\r\nIDE_Morph.prototype.scriptsTexture = function () {\r\n    var pic = newCanvas(new Point(100, 100)), // bigger scales faster\r\n        ctx = pic.getContext('2d'),\r\n        i;\r\n    for (i = 0; i < 100; i += 4) {\r\n        ctx.fillStyle = this.frameColor.toString();\r\n        ctx.fillRect(i, 0, 1, 100);\r\n        ctx.fillStyle = this.groupColor.lighter(6).toString();\r\n        ctx.fillRect(i + 1, 0, 1, 100);\r\n        ctx.fillRect(i + 3, 0, 1, 100);\r\n        ctx.fillStyle = this.groupColor.toString();\r\n        ctx.fillRect(i + 2, 0, 1, 100);\r\n    }\r\n    return pic;\r\n};\r\n\r\nIDE_Morph.prototype.setDefaultDesign();\r\n\r\n// IDE_Morph instance creation:\r\n\r\nfunction IDE_Morph(isAutoFill) {\r\n    this.init(isAutoFill);\r\n}\r\n\r\nIDE_Morph.prototype.init = function (isAutoFill) {\r\n    // global font setting\r\n    MorphicPreferences.globalFontFamily = 'Helvetica, Arial';\r\n\r\n    // restore saved user preferences\r\n    this.userLanguage = null; // user language preference for startup\r\n    this.projectsInURLs = false;\r\n    this.applySavedSettings();\r\n\r\n    // additional properties:\r\n    this.cloudMsg = null;\r\n    this.source = 'local';\r\n    this.serializer = new SnapSerializer();\r\n\r\n    this.globalVariables = new VariableFrame();\r\n    this.currentSprite = new SpriteMorph(this.globalVariables);\r\n    this.sprites = new List([this.currentSprite]);\r\n    this.currentCategory = 'motion';\r\n    this.currentTab = 'scripts';\r\n    this.projectName = 'Education nationale';//Wiquid Snap for Tao project name \r\n    this.projectNotes = '';\r\n\r\n    //***************** Wiquid *********************\r\n    \r\n    // Insert Snap logo\r\n    this.logoURL =\"data:image/png;base64,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\";\r\n    //this.logoURL = \"http://wiquid.fr/depp/snaplogo.png\";\r\n    //this.resourceURL('snap_logo_sm.png');\r\n\r\n    //***********************************************\r\n    \r\n    this.logo = null;\r\n    this.controlBar = null;\r\n    this.categories = null;\r\n    this.palette = null;\r\n    this.paletteHandle = null;\r\n    this.spriteBar = null;\r\n    this.spriteEditor = null;\r\n    this.stage = null;\r\n    this.stageHandle = null;\r\n    this.corralBar = null;\r\n    this.corral = null;\r\n\r\n    this.isAutoFill = isAutoFill === undefined ? true : isAutoFill;\r\n    this.isAppMode = false;\r\n    this.isSmallStage = false;\r\n    this.filePicker = null;\r\n    this.hasChangedMedia = false;\r\n\r\n    this.isAnimating = true;\r\n\r\n    this.paletteWidth = 200; // initially same as logo width\r\n    this.stageRatio = 1; // for IDE animations, e.g. when zooming\r\n\r\n\tthis.wasSingleStepping = false; // for toggling to and from app mode\r\n\r\n    this.loadNewProject = false; // flag when starting up translated\r\n    this.shield = null;\r\n\r\n    this.savingPreferences = true; // for bh's infamous \"Eisenbergification\"\r\n\r\n    // initialize inherited properties:\r\n    IDE_Morph.uber.init.call(this);\r\n\r\n    // override inherited properites:\r\n    this.color = this.backgroundColor;\r\n    \r\n};\r\n\r\nIDE_Morph.prototype.openIn = function (world) {\r\n    var hash, usr, myself = this, urlLanguage = null;\r\n\r\n    // get persistent user data, if any\r\n    if (this.hasLocalStorage()) {\r\n        usr = localStorage['-snap-user'];\r\n        if (usr) {\r\n            usr = SnapCloud.parseResponse(usr)[0];\r\n            if (usr) {\r\n                SnapCloud.username = usr.username || null;\r\n                SnapCloud.password = usr.password || null;\r\n                if (SnapCloud.username) {\r\n                    this.source = 'cloud';\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    this.buildPanes();\r\n    world.add(this);\r\n    world.userMenu = this.userMenu;\r\n\r\n    // override SnapCloud's user message with Morphic\r\n    SnapCloud.message = function (string) {\r\n        var m = new MenuMorph(null, string),\r\n            intervalHandle;\r\n        m.popUpCenteredInWorld(world);\r\n        intervalHandle = setInterval(function () {\r\n            m.destroy();\r\n            clearInterval(intervalHandle);\r\n        }, 2000);\r\n    };\r\n\r\n    // prevent non-DialogBoxMorphs from being dropped\r\n    // onto the World in user-mode\r\n    world.reactToDropOf = function (morph) {\r\n        if (!(morph instanceof DialogBoxMorph)) {\r\n            if (world.hand.grabOrigin) {\r\n                morph.slideBackTo(world.hand.grabOrigin);\r\n            } else {\r\n                world.hand.grab(morph);\r\n            }\r\n        }\r\n    };\r\n\r\n    this.reactToWorldResize(world.bounds);\r\n\r\n    function getURL(url) {\r\n        try {\r\n            var request = new XMLHttpRequest();\r\n            request.open('GET', url, false);\r\n            request.send();\r\n            if (request.status === 200) {\r\n                return request.responseText;\r\n            }\r\n            throw new Error('unable to retrieve ' + url);\r\n        } catch (err) {\r\n            myself.showMessage('unable to retrieve project');\r\n            return '';\r\n        }\r\n    }\r\n\r\n\tfunction applyFlags(dict) {\r\n        if (dict.editMode) {\r\n            myself.toggleAppMode(false);\r\n        } else {\r\n            myself.toggleAppMode(true);\r\n        }\r\n        if (!dict.noRun) {\r\n            myself.runScripts();\r\n        }\r\n        if (dict.hideControls) {\r\n            myself.controlBar.hide();\r\n            window.onbeforeunload = nop;\r\n        }\r\n        if (dict.noExitWarning) {\r\n            window.onbeforeunload = nop;\r\n        }\r\n\t}\r\n\r\n    function interpretUrlAnchors() {\r\n        var dict, idx;\r\n\r\n        if (location.hash.substr(0, 6) === '#open:') {\r\n            hash = location.hash.substr(6);\r\n            if (hash.charAt(0) === '%'\r\n                    || hash.search(/\\%(?:[0-9a-f]{2})/i) > -1) {\r\n                hash = decodeURIComponent(hash);\r\n            }\r\n            if (contains(\r\n                    ['project', 'blocks', 'sprites', 'snapdata'].map(\r\n                        function (each) {\r\n                            return hash.substr(0, 8).indexOf(each);\r\n                        }\r\n                    ),\r\n                    1\r\n                )) {\r\n                this.droppedText(hash);\r\n            } else {\r\n                this.droppedText(getURL(hash));\r\n            }\r\n        } else if (location.hash.substr(0, 5) === '#run:') {\r\n            hash = location.hash.substr(5);\r\n            idx = hash.indexOf(\"&\");\r\n            if (idx > 0) {\r\n                hash = hash.slice(0, idx);\r\n            }\r\n            if (hash.charAt(0) === '%'\r\n                    || hash.search(/\\%(?:[0-9a-f]{2})/i) > -1) {\r\n                hash = decodeURIComponent(hash);\r\n            }\r\n            if (hash.substr(0, 8) === '<project>') {\r\n                this.rawOpenProjectString(hash);\r\n            } else {\r\n                this.rawOpenProjectString(getURL(hash));\r\n            }\r\n            applyFlags(SnapCloud.parseDict(location.hash.substr(5)));\r\n        } else if (location.hash.substr(0, 9) === '#present:') {\r\n            this.shield = new Morph();\r\n            this.shield.color = this.color;\r\n            this.shield.setExtent(this.parent.extent());\r\n            this.parent.add(this.shield);\r\n            myself.showMessage('Fetching project\\nfrom the cloud...');\r\n\r\n            // make sure to lowercase the username\r\n            dict = SnapCloud.parseDict(location.hash.substr(9));\r\n            dict.Username = dict.Username.toLowerCase();\r\n\r\n            SnapCloud.getPublicProject(\r\n                SnapCloud.encodeDict(dict),\r\n                function (projectData) {\r\n                    var msg;\r\n                    myself.nextSteps([\r\n                        function () {\r\n                            msg = myself.showMessage('Opening project...');\r\n                        },\r\n                        function () {nop(); }, // yield (bug in Chrome)\r\n                        function () {\r\n                            if (projectData.indexOf('<snapdata') === 0) {\r\n                                myself.rawOpenCloudDataString(projectData);\r\n                            } else if (\r\n                                projectData.indexOf('<project') === 0\r\n                            ) {\r\n                                myself.rawOpenProjectString(projectData);\r\n                            }\r\n                            myself.hasChangedMedia = true;\r\n                        },\r\n                        function () {\r\n                            myself.shield.destroy();\r\n                            myself.shield = null;\r\n                            msg.destroy();\r\n                            applyFlags(dict);\r\n                        }\r\n                    ]);\r\n                },\r\n                this.cloudError()\r\n            );\r\n        } else if (location.hash.substr(0, 7) === '#cloud:') {\r\n            this.shield = new Morph();\r\n            this.shield.alpha = 0;\r\n            this.shield.setExtent(this.parent.extent());\r\n            this.parent.add(this.shield);\r\n            myself.showMessage('Fetching project\\nfrom the cloud...');\r\n\r\n            // make sure to lowercase the username\r\n            dict = SnapCloud.parseDict(location.hash.substr(7));\r\n            dict.Username = dict.Username.toLowerCase();\r\n\r\n            SnapCloud.getPublicProject(\r\n                SnapCloud.encodeDict(dict),\r\n                function (projectData) {\r\n                    var msg;\r\n                    myself.nextSteps([\r\n                        function () {\r\n                            msg = myself.showMessage('Opening project...');\r\n                        },\r\n                        function () {nop(); }, // yield (bug in Chrome)\r\n                        function () {\r\n                            if (projectData.indexOf('<snapdata') === 0) {\r\n                                myself.rawOpenCloudDataString(projectData);\r\n                            } else if (\r\n                                projectData.indexOf('<project') === 0\r\n                            ) {\r\n                                myself.rawOpenProjectString(projectData);\r\n                            }\r\n                            myself.hasChangedMedia = true;\r\n                        },\r\n                        function () {\r\n                            myself.shield.destroy();\r\n                            myself.shield = null;\r\n                            msg.destroy();\r\n                            myself.toggleAppMode(false);\r\n                        }\r\n                    ]);\r\n                },\r\n                this.cloudError()\r\n            );\r\n        } else if (location.hash.substr(0, 4) === '#dl:') {\r\n            myself.showMessage('Fetching project\\nfrom the cloud...');\r\n\r\n            // make sure to lowercase the username\r\n            dict = SnapCloud.parseDict(location.hash.substr(4));\r\n            dict.Username = dict.Username.toLowerCase();\r\n\r\n            SnapCloud.getPublicProject(\r\n                SnapCloud.encodeDict(dict),\r\n                function (projectData) {\r\n                \tmyself.saveXMLAs(projectData, dict.ProjectName);\r\n                 \tmyself.showMessage(\r\n                  \t   'Saved project\\n' + dict.ProjectName,\r\n                      \t2\r\n                 \t);\r\n                },\r\n                this.cloudError()\r\n            );\r\n        } else if (location.hash.substr(0, 6) === '#lang:') {\r\n            urlLanguage = location.hash.substr(6);\r\n            this.setLanguage(urlLanguage);\r\n            this.loadNewProject = true;\r\n        } else if (location.hash.substr(0, 7) === '#signup') {\r\n            this.createCloudAccount();\r\n        }\r\n    this.loadNewProject = false;\r\n\r\n    }\r\n\r\n    if (this.userLanguage) {\r\n        this.loadNewProject = true;\r\n        this.setLanguage(this.userLanguage, interpretUrlAnchors);\r\n    } else {\r\n        interpretUrlAnchors.call(this);\r\n    }\r\n\r\n    \r\n};\r\n\r\n// IDE_Morph construction\r\n\r\nIDE_Morph.prototype.buildPanes = function () {\r\n    this.createLogo();\r\n    this.createControlBar();\r\n    this.createCategories();\r\n    this.createPalette();\r\n    this.createStage();\r\n    this.createSpriteBar();\r\n    this.createSpriteEditor();\r\n    this.createCorralBar();\r\n    this.createCorral();\r\n};\r\n\r\nIDE_Morph.prototype.createLogo = function () {\r\n    var myself = this;\r\n\r\n    if (this.logo) {\r\n        this.logo.destroy();\r\n    }\r\n\r\n    this.logo = new Morph();\r\n    this.logo.texture = this.logoURL;\r\n    this.logo.drawNew = function () {\r\n        this.image = newCanvas(this.extent());\r\n        var context = this.image.getContext('2d'),\r\n            gradient = context.createLinearGradient(\r\n                0,\r\n                0,\r\n                this.width(),\r\n                0\r\n            );\r\n        gradient.addColorStop(0, 'black');\r\n        gradient.addColorStop(0.5, myself.frameColor.toString());\r\n        context.fillStyle = MorphicPreferences.isFlat ?\r\n                myself.frameColor.toString() : gradient;\r\n        context.fillRect(0, 0, this.width(), this.height());\r\n        if (this.texture) {\r\n            this.drawTexture(this.texture);\r\n        }\r\n    };\r\n\r\n    this.logo.drawCachedTexture = function () {\r\n        var context = this.image.getContext('2d');\r\n        context.drawImage(\r\n            this.cachedTexture,\r\n            5,\r\n            Math.round((this.height() - this.cachedTexture.height) / 2)\r\n        );\r\n        this.changed();\r\n    };\r\n\r\n    this.logo.mouseClickLeft = function () {\r\n        myself.snapMenu();\r\n    };\r\n\r\n    this.logo.color = new Color();\r\n    this.logo.setExtent(new Point(200, 28)); // dimensions are fixed\r\n    this.add(this.logo);\r\n};\r\n\r\nIDE_Morph.prototype.createControlBar = function () {\r\n    // assumes the logo has already been created\r\n    var padding = 5,\r\n        button,\r\n        slider,\r\n        stopButton,\r\n        pauseButton,\r\n        startButton,\r\n        projectButton,\r\n        settingsButton,\r\n        stageSizeButton,\r\n        appModeButton,\r\n        steppingButton,\r\n        cloudButton,\r\n        x,\r\n        colors = [\r\n            this.groupColor,\r\n            this.frameColor.darker(50),\r\n            this.frameColor.darker(50)\r\n        ],\r\n        myself = this;\r\n\r\n    if (this.controlBar) {\r\n        this.controlBar.destroy();\r\n    }\r\n\r\n    this.controlBar = new Morph();\r\n    this.controlBar.color = this.frameColor;\r\n    this.controlBar.setHeight(this.logo.height()); // height is fixed\r\n    this.controlBar.mouseClickLeft = function () {\r\n        this.world().fillPage();\r\n    };\r\n    this.add(this.controlBar);\r\n\r\n    //smallStageButton\r\n    button = new ToggleButtonMorph(\r\n        null, //colors,\r\n        myself, // the IDE is the target\r\n        'toggleStageSize',\r\n        [\r\n            new SymbolMorph('smallStage', 14),\r\n            new SymbolMorph('normalStage', 14)\r\n        ],\r\n        function () {  // query\r\n            return myself.isSmallStage;\r\n        }\r\n    );\r\n\r\n    button.corner = 12;\r\n    button.color = colors[0];\r\n    button.highlightColor = colors[1];\r\n    button.pressColor = colors[2];\r\n    button.labelMinExtent = new Point(36, 18);\r\n    button.padding = 0;\r\n    button.labelShadowOffset = new Point(-1, -1);\r\n    button.labelShadowColor = colors[1];\r\n    button.labelColor = this.buttonLabelColor;\r\n    button.contrast = this.buttonContrast;\r\n    button.drawNew();\r\n    // button.hint = 'stage size\\nsmall & normal';\r\n    button.fixLayout();\r\n    button.refresh();\r\n    stageSizeButton = button;\r\n    this.controlBar.add(stageSizeButton);\r\n    this.controlBar.stageSizeButton = button; // for refreshing\r\n\r\n    //appModeButton\r\n    button = new ToggleButtonMorph(\r\n        null, //colors,\r\n        myself, // the IDE is the target\r\n        'toggleAppMode',\r\n        [\r\n            new SymbolMorph('fullScreen', 14),\r\n            new SymbolMorph('normalScreen', 14)\r\n        ],\r\n        function () {  // query\r\n            return myself.isAppMode;\r\n        }\r\n    );\r\n\r\n    button.corner = 12;\r\n    button.color = colors[0];\r\n    button.highlightColor = colors[1];\r\n    button.pressColor = colors[2];\r\n    button.labelMinExtent = new Point(36, 18);\r\n    button.padding = 0;\r\n    button.labelShadowOffset = new Point(-1, -1);\r\n    button.labelShadowColor = colors[1];\r\n    button.labelColor = this.buttonLabelColor;\r\n    button.contrast = this.buttonContrast;\r\n    button.drawNew();\r\n    // button.hint = 'app & edit\\nmodes';\r\n    button.fixLayout();\r\n    button.refresh();\r\n    appModeButton = button;\r\n    this.controlBar.add(appModeButton);\r\n    this.controlBar.appModeButton = appModeButton; // for refreshing\r\n\r\n    //steppingButton\r\n    button = new ToggleButtonMorph(\r\n        null, //colors,\r\n        myself, // the IDE is the target\r\n        'toggleSingleStepping',\r\n        [\r\n            new SymbolMorph('footprints', 16),\r\n            new SymbolMorph('footprints', 16)\r\n        ],\r\n        function () {  // query\r\n            return Process.prototype.enableSingleStepping;\r\n        }\r\n    );\r\n\r\n    button.corner = 12;\r\n    button.color = colors[0];\r\n    button.highlightColor = colors[1];\r\n    button.pressColor = new Color(153, 255, 213);\r\n//    button.pressColor = colors[2];\r\n    button.labelMinExtent = new Point(36, 18);\r\n    button.padding = 0;\r\n    button.labelShadowOffset = new Point(-1, -1);\r\n    button.labelShadowColor = colors[1];\r\n    button.labelColor = this.buttonLabelColor;\r\n    button.contrast = this.buttonContrast;\r\n    button.drawNew();\r\n    button.hint = 'Visible stepping';\r\n    button.fixLayout();\r\n    button.refresh();\r\n    steppingButton = button;\r\n    this.controlBar.add(steppingButton);\r\n    this.controlBar.steppingButton = steppingButton; // for refreshing\r\n\r\n    // stopButton\r\n    button = new ToggleButtonMorph(\r\n        null, // colors\r\n        this, // the IDE is the target\r\n        'stopAllScripts',\r\n        [\r\n            new SymbolMorph('octagon', 14),\r\n            new SymbolMorph('square', 14)\r\n        ],\r\n        function () {  // query\r\n            return myself.stage ?\r\n                    myself.stage.enableCustomHatBlocks &&\r\n                        myself.stage.threads.pauseCustomHatBlocks\r\n                        : true;\r\n        }\r\n    );\r\n\r\n    button.corner = 12;\r\n    button.color = colors[0];\r\n    button.highlightColor = colors[1];\r\n    button.pressColor = colors[2];\r\n    button.labelMinExtent = new Point(36, 18);\r\n    button.padding = 0;\r\n    button.labelShadowOffset = new Point(-1, -1);\r\n    button.labelShadowColor = colors[1];\r\n    button.labelColor = new Color(200, 0, 0);\r\n    button.contrast = this.buttonContrast;\r\n    button.drawNew();\r\n    // button.hint = 'stop\\nevery-\\nthing';\r\n    button.fixLayout();\r\n    button.refresh();\r\n    stopButton = button;\r\n    this.controlBar.add(stopButton);\r\n    this.controlBar.stopButton = stopButton; // for refreshing\r\n\r\n    //pauseButton\r\n    button = new ToggleButtonMorph(\r\n        null, //colors,\r\n        this, // the IDE is the target\r\n        'togglePauseResume',\r\n        [\r\n            new SymbolMorph('pause', 12),\r\n            new SymbolMorph('pointRight', 14)\r\n        ],\r\n        function () {  // query\r\n            return myself.isPaused();\r\n        }\r\n    );\r\n\r\n    button.corner = 12;\r\n    button.color = colors[0];\r\n    button.highlightColor = colors[1];\r\n    button.pressColor = colors[2];\r\n    button.labelMinExtent = new Point(36, 18);\r\n    button.padding = 0;\r\n    button.labelShadowOffset = new Point(-1, -1);\r\n    button.labelShadowColor = colors[1];\r\n    button.labelColor = new Color(255, 220, 0);\r\n    button.contrast = this.buttonContrast;\r\n    button.drawNew();\r\n    // button.hint = 'pause/resume\\nall scripts';\r\n    button.fixLayout();\r\n    button.refresh();\r\n    pauseButton = button;\r\n    this.controlBar.add(pauseButton);\r\n    this.controlBar.pauseButton = pauseButton; // for refreshing\r\n\r\n    // startButton\r\n    button = new PushButtonMorph(\r\n        this,\r\n        'pressStart',\r\n        new SymbolMorph('flag', 14)\r\n    );\r\n    button.corner = 12;\r\n    button.color = colors[0];\r\n    button.highlightColor = colors[1];\r\n    button.pressColor = colors[2];\r\n    button.labelMinExtent = new Point(36, 18);\r\n    button.padding = 0;\r\n    button.labelShadowOffset = new Point(-1, -1);\r\n    button.labelShadowColor = colors[1];\r\n    button.labelColor = new Color(0, 200, 0);\r\n    button.contrast = this.buttonContrast;\r\n    button.drawNew();\r\n    // button.hint = 'start green\\nflag scripts';\r\n    button.fixLayout();\r\n    startButton = button;\r\n    this.controlBar.add(startButton);\r\n    this.controlBar.startButton = startButton;\r\n\r\n    // steppingSlider\r\n    slider = new SliderMorph(\r\n        61,\r\n        1,\r\n        Process.prototype.flashTime * 100 + 1,\r\n        6,\r\n        'horizontal'\r\n    );\r\n    slider.action = function (num) {\r\n        Process.prototype.flashTime = (num - 1) / 100;\r\n        myself.controlBar.refreshResumeSymbol();\r\n    };\r\n    // slider.alpha = MorphicPreferences.isFlat ? 0.1 : 0.3;\r\n    slider.color = new Color(153, 255, 213);\r\n    slider.alpha = 0.3;\r\n    slider.setExtent(new Point(50, 14));\r\n    this.controlBar.add(slider);\r\n    this.controlBar.steppingSlider = slider;\r\n\r\n    // projectButton\r\n    button = new PushButtonMorph(\r\n        this,\r\n        'projectMenu',\r\n        new SymbolMorph('file', 14)\r\n        //'\\u270E'\r\n    );\r\n    button.corner = 12;\r\n    button.color = colors[0];\r\n    button.highlightColor = colors[1];\r\n    button.pressColor = colors[2];\r\n    button.labelMinExtent = new Point(36, 18);\r\n    button.padding = 0;\r\n    button.labelShadowOffset = new Point(-1, -1);\r\n    button.labelShadowColor = colors[1];\r\n    button.labelColor = this.buttonLabelColor;\r\n    button.contrast = this.buttonContrast;\r\n    button.drawNew();\r\n    // button.hint = 'open, save, & annotate project';\r\n    button.fixLayout();\r\n    projectButton = button;\r\n    //this.controlBar.add(projectButton); // Wiquid : Control button menu create save file\r\n    this.controlBar.projectButton = projectButton; // for menu positioning\r\n\r\n    // settingsButton\r\n    button = new PushButtonMorph(\r\n        this,\r\n        'settingsMenu',\r\n        new SymbolMorph('gears', 14)\r\n        //'\\u2699'\r\n    );\r\n    button.corner = 12;\r\n    button.color = colors[0];\r\n    button.highlightColor = colors[1];\r\n    button.pressColor = colors[2];\r\n    button.labelMinExtent = new Point(36, 18);\r\n    button.padding = 0;\r\n    button.labelShadowOffset = new Point(-1, -1);\r\n    button.labelShadowColor = colors[1];\r\n    button.labelColor = this.buttonLabelColor;\r\n    button.contrast = this.buttonContrast;\r\n    button.drawNew();\r\n    // button.hint = 'edit settings';\r\n    button.fixLayout();\r\n    settingsButton = button;\r\n    //this.controlBar.add(settingsButton);\r\n    this.controlBar.settingsButton = settingsButton; // for menu positioning\r\n\r\n    // cloudButton\r\n    button = new PushButtonMorph(\r\n        this,\r\n        'cloudMenu',\r\n        new SymbolMorph('cloud', 11)\r\n    );\r\n    button.corner = 12;\r\n    button.color = colors[0];\r\n    button.highlightColor = colors[1];\r\n    button.pressColor = colors[2];\r\n    button.labelMinExtent = new Point(36, 18);\r\n    button.padding = 0;\r\n    button.labelShadowOffset = new Point(-1, -1);\r\n    button.labelShadowColor = colors[1];\r\n    button.labelColor = this.buttonLabelColor;\r\n    button.contrast = this.buttonContrast;\r\n    button.drawNew();\r\n    // button.hint = 'cloud operations';\r\n    button.fixLayout();\r\n    cloudButton = button;\r\n    //this.controlBar.add(cloudButton);\r\n    this.controlBar.cloudButton = cloudButton; // for menu positioning\r\n\r\n    this.controlBar.fixLayout = function () {\r\n        x = this.right() - padding;\r\n        [stopButton, pauseButton, startButton].forEach(\r\n            function (button) {\r\n                button.setCenter(myself.controlBar.center());\r\n                button.setRight(x);\r\n                x -= button.width();\r\n                x -= padding;\r\n            }\r\n        );\r\n\r\n        x = Math.min(\r\n            startButton.left() - (3 * padding + 2 * stageSizeButton.width()),\r\n            myself.right() - StageMorph.prototype.dimensions.x *\r\n                (myself.isSmallStage ? myself.stageRatio : 1)\r\n        );\r\n        [stageSizeButton, appModeButton].forEach(\r\n            function (button) {\r\n                x += padding;\r\n                button.setCenter(myself.controlBar.center());\r\n                button.setLeft(x);\r\n                x += button.width();\r\n            }\r\n        );\r\n\r\n        slider.setCenter(myself.controlBar.center());\r\n        slider.setRight(stageSizeButton.left() - padding);\r\n\r\n        steppingButton.setCenter(myself.controlBar.center());\r\n        steppingButton.setRight(slider.left() - padding);\r\n\r\n        settingsButton.setCenter(myself.controlBar.center());\r\n        settingsButton.setLeft(this.left());\r\n\r\n        cloudButton.setCenter(myself.controlBar.center());\r\n        cloudButton.setRight(settingsButton.left() - padding);\r\n\r\n        projectButton.setCenter(myself.controlBar.center());\r\n        projectButton.setRight(cloudButton.left() - padding);\r\n\r\n        this.refreshSlider();\r\n        this.updateLabel();\r\n    };\r\n\r\n    this.controlBar.refreshSlider = function () {\r\n        if (Process.prototype.enableSingleStepping && !myself.isAppMode) {\r\n            slider.drawNew();\r\n            slider.show();\r\n        } else {\r\n            slider.hide();\r\n        }\r\n        this.refreshResumeSymbol();\r\n    };\r\n\r\n    this.controlBar.refreshResumeSymbol = function () {\r\n        var pauseSymbols;\r\n        if (Process.prototype.enableSingleStepping &&\r\n                Process.prototype.flashTime > 0.5) {\r\n            myself.stage.threads.pauseAll(myself.stage);\r\n            pauseSymbols = [\r\n                new SymbolMorph('pause', 12),\r\n                new SymbolMorph('stepForward', 14)\r\n            ];\r\n        } else {\r\n            pauseSymbols = [\r\n                new SymbolMorph('pause', 12),\r\n                new SymbolMorph('pointRight', 14)\r\n            ];\r\n        }\r\n        pauseButton.labelString = pauseSymbols;\r\n        pauseButton.createLabel();\r\n        pauseButton.fixLayout();\r\n        pauseButton.refresh();\r\n    };\r\n\r\n    this.controlBar.updateLabel = function () {\r\n        var suffix = myself.world().isDevMode ?\r\n                ' - ' + localize('development mode') : '';\r\n\r\n        if (this.label) {\r\n            this.label.destroy();\r\n        }\r\n        if (myself.isAppMode) {\r\n            return;\r\n        }\r\n\r\n        this.label = new StringMorph(\r\n            (myself.projectName || localize('untitled')) + suffix,\r\n            14,\r\n            'sans-serif',\r\n            true,\r\n            false,\r\n            false,\r\n            MorphicPreferences.isFlat ? null : new Point(2, 1),\r\n            myself.frameColor.darker(myself.buttonContrast)\r\n        );\r\n        this.label.color = myself.buttonLabelColor;\r\n        this.label.drawNew();\r\n        this.add(this.label);\r\n        this.label.setCenter(this.center());\r\n        this.label.setLeft(this.settingsButton.right() + padding);\r\n    };\r\n};\r\n\r\nIDE_Morph.prototype.createCategories = function () {\r\n    var myself = this;\r\n\r\n    if (this.categories) {\r\n        this.categories.destroy();\r\n    }\r\n    this.categories = new Morph();\r\n    this.categories.color = this.groupColor;\r\n    this.categories.silentSetWidth(this.paletteWidth);\r\n\r\n    function addCategoryButton(category) {\r\n        var labelWidth = 75,\r\n            colors = [\r\n                myself.frameColor,\r\n                myself.frameColor.darker(50),\r\n                SpriteMorph.prototype.blockColor[category]\r\n            ],\r\n            button;\r\n\r\n        button = new ToggleButtonMorph(\r\n            colors,\r\n            myself, // the IDE is the target\r\n            function () {\r\n                myself.currentCategory = category;\r\n                myself.categories.children.forEach(function (each) {\r\n                    each.refresh();\r\n                });\r\n                myself.refreshPalette(true);\r\n            },\r\n            category[0].toUpperCase().concat(category.slice(1)), // label\r\n            function () {  // query\r\n                return myself.currentCategory === category;\r\n            },\r\n            null, // env\r\n            null, // hint\r\n            null, // template cache\r\n            labelWidth, // minWidth\r\n            true // has preview\r\n        );\r\n\r\n        button.corner = 8;\r\n        button.padding = 0;\r\n        button.labelShadowOffset = new Point(-1, -1);\r\n        button.labelShadowColor = colors[1];\r\n        button.labelColor = myself.buttonLabelColor;\r\n        button.fixLayout();\r\n        button.refresh();\r\n        myself.categories.add(button);\r\n        return button;\r\n    }\r\n\r\n    function fixCategoriesLayout() {\r\n        var buttonWidth = myself.categories.children[0].width(),\r\n            buttonHeight = myself.categories.children[0].height(),\r\n            border = 3,\r\n            rows =  Math.ceil((myself.categories.children.length) / 2),\r\n            xPadding = (200 // myself.logo.width()\r\n                - border\r\n                - buttonWidth * 2) / 3,\r\n            yPadding = 2,\r\n            l = myself.categories.left(),\r\n            t = myself.categories.top(),\r\n            i = 0,\r\n            row,\r\n            col;\r\n\r\n        myself.categories.children.forEach(function (button) {\r\n            i += 1;\r\n            row = Math.ceil(i / 2);\r\n            col = 2 - (i % 2);\r\n            button.setPosition(new Point(\r\n                l + (col * xPadding + ((col - 1) * buttonWidth)),\r\n                t + (row * yPadding + ((row - 1) * buttonHeight) + border)\r\n            ));\r\n        });\r\n\r\n        myself.categories.setHeight(\r\n            (rows + 1) * yPadding\r\n                + rows * buttonHeight\r\n                + 2 * border\r\n        );\r\n    }\r\n\r\n    SpriteMorph.prototype.categories.forEach(function (cat) {\r\n        if (!contains(['lists', 'other'], cat)) {\r\n           addCategoryButton(cat);\r\n        }\r\n    });\r\n    fixCategoriesLayout();\r\n    this.add(this.categories); // Wiquid : Control display button node categories\r\n};\r\n\r\nIDE_Morph.prototype.createPalette = function (forSearching) {\r\n    // assumes that the logo pane has already been created\r\n    // needs the categories pane for layout\r\n    var myself = this;\r\n\r\n    if (this.palette) {\r\n        this.palette.destroy();\r\n    }\r\n\r\n    if (forSearching) {\r\n        this.palette = new ScrollFrameMorph(\r\n            null,\r\n            null,\r\n            this.currentSprite.sliderColor\r\n        );\r\n\r\n    } else {\r\n        this.palette = this.currentSprite.palette(this.currentCategory);\r\n    }\r\n    this.palette.isDraggable = false;\r\n    this.palette.acceptsDrops = true;\r\n    this.palette.enableAutoScrolling = false;\r\n    this.palette.contents.acceptsDrops = false;\r\n\r\n    this.palette.reactToDropOf = function (droppedMorph, hand) {\r\n\r\n        if (droppedMorph instanceof DialogBoxMorph) {\r\n            myself.world().add(droppedMorph);\r\n        } else if (droppedMorph instanceof SpriteMorph) {\r\n            myself.removeSprite(droppedMorph);\r\n        } else if (droppedMorph instanceof SpriteIconMorph) {\r\n            droppedMorph.destroy();\r\n            myself.removeSprite(droppedMorph.object);\r\n        } else if (droppedMorph instanceof CostumeIconMorph) {\r\n            myself.currentSprite.wearCostume(null);\r\n            droppedMorph.perish();\r\n        } else if (droppedMorph instanceof BlockMorph) {\r\n            myself.stage.threads.stopAllForBlock(droppedMorph);\r\n            if (hand && hand.grabOrigin.origin instanceof ScriptsMorph) {\r\n                hand.grabOrigin.origin.clearDropInfo();\r\n                hand.grabOrigin.origin.lastDroppedBlock = droppedMorph;\r\n                hand.grabOrigin.origin.recordDrop(hand.grabOrigin);\r\n            }\r\n            droppedMorph.perish();\r\n        } else {\r\n            droppedMorph.perish();\r\n        }\r\n    };\r\n\r\n    this.palette.contents.reactToDropOf = function (droppedMorph) {\r\n        // for \"undrop\" operation\r\n        if (droppedMorph instanceof BlockMorph) {\r\n            droppedMorph.destroy();\r\n        }\r\n    };\r\n\r\n    this.palette.setWidth(this.logo.width());\r\n    this.add(this.palette); // Wiquid :  control node palette.\r\n    return this.palette;\r\n};\r\n\r\nIDE_Morph.prototype.createPaletteHandle = function () {\r\n    // assumes that the palette has already been created\r\n    if (this.paletteHandle) {this.paletteHandle.destroy(); }\r\n    this.paletteHandle = new PaletteHandleMorph(this.categories);\r\n    panel_Left = this;\r\n    this.add(this.paletteHandle);\r\n};\r\n\r\nIDE_Morph.prototype.createStage = function () {\r\n    // assumes that the logo pane has already been created\r\n    if (this.stage) {this.stage.destroy(); }\r\n    StageMorph.prototype.frameRate = 0;\r\n    this.stage = new StageMorph(this.globalVariables);\r\n    this.stage.setExtent(this.stage.dimensions); // dimensions are fixed\r\n    if (this.currentSprite instanceof SpriteMorph) {\r\n        this.currentSprite.setPosition(\r\n            this.stage.center().subtract(\r\n                this.currentSprite.extent().divideBy(2)\r\n            )\r\n        );\r\n        this.stage.add(this.currentSprite);\r\n    }\r\n    this.add(this.stage);\r\n};\r\n\r\nIDE_Morph.prototype.createStageHandle = function () {\r\n    // assumes that the stage has already been created\r\n    if (this.stageHandle) {this.stageHandle.destroy(); }\r\n    this.stageHandle = new StageHandleMorph(this.stage);\r\n    this.add(this.stageHandle);\r\n};\r\n\r\nIDE_Morph.prototype.createSpriteBar = function () {\r\n    // assumes that the categories pane has already been created\r\n    var rotationStyleButtons = [],\r\n        thumbSize = new Point(45, 45),\r\n        nameField,\r\n        padlock,\r\n        thumbnail,\r\n        tabCorner = 15,\r\n        tabColors = this.tabColors,\r\n        tabBar = new AlignmentMorph('row', -tabCorner * 2),\r\n        tab,\r\n        symbols = ['\\u2192', '\\u21BB', '\\u2194'],\r\n        labels = ['don\\'t rotate', 'can rotate', 'only face left/right'],\r\n        myself = this;\r\n\r\n    if (this.spriteBar) {\r\n        this.spriteBar.destroy();\r\n    }\r\n\r\n    this.spriteBar = new Morph();\r\n    this.spriteBar.color = this.frameColor;\r\n    this.add(this.spriteBar);\r\n\r\n    function addRotationStyleButton(rotationStyle) {\r\n        var colors = myself.rotationStyleColors,\r\n            button;\r\n\r\n        button = new ToggleButtonMorph(\r\n            colors,\r\n            myself, // the IDE is the target\r\n            function () {\r\n                if (myself.currentSprite instanceof SpriteMorph) {\r\n                    myself.currentSprite.rotationStyle = rotationStyle;\r\n                    myself.currentSprite.changed();\r\n                    myself.currentSprite.drawNew();\r\n                    myself.currentSprite.changed();\r\n                }\r\n                rotationStyleButtons.forEach(function (each) {\r\n                    each.refresh();\r\n                });\r\n            },\r\n            symbols[rotationStyle], // label\r\n            function () {  // query\r\n                return myself.currentSprite instanceof SpriteMorph\r\n                    && myself.currentSprite.rotationStyle === rotationStyle;\r\n            },\r\n            null, // environment\r\n            localize(labels[rotationStyle])\r\n        );\r\n\r\n        button.corner = 8;\r\n        button.labelMinExtent = new Point(11, 11);\r\n        button.padding = 0;\r\n        button.labelShadowOffset = new Point(-1, -1);\r\n        button.labelShadowColor = colors[1];\r\n        button.labelColor = myself.buttonLabelColor;\r\n        button.fixLayout();\r\n        button.refresh();\r\n        rotationStyleButtons.push(button);\r\n        button.setPosition(myself.spriteBar.position().add(2));\r\n        button.setTop(button.top()\r\n            + ((rotationStyleButtons.length - 1) * (button.height() + 2))\r\n            );\r\n        myself.spriteBar.add(button);\r\n        if (myself.currentSprite instanceof StageMorph) {\r\n            button.hide();\r\n        }\r\n        return button;\r\n    }\r\n\r\n    addRotationStyleButton(1);\r\n    addRotationStyleButton(2);\r\n    addRotationStyleButton(0);\r\n    this.rotationStyleButtons = rotationStyleButtons;\r\n\r\n    thumbnail = new Morph();\r\n    thumbnail.setExtent(thumbSize);\r\n    thumbnail.image = this.currentSprite.thumbnail(thumbSize);\r\n    thumbnail.setPosition(\r\n        rotationStyleButtons[0].topRight().add(new Point(5, 3))\r\n    );\r\n    this.spriteBar.add(thumbnail);\r\n\r\n    thumbnail.fps = 3;\r\n\r\n    thumbnail.step = function () {\r\n        if (thumbnail.version !== myself.currentSprite.version) {\r\n            thumbnail.image = myself.currentSprite.thumbnail(thumbSize);\r\n            thumbnail.changed();\r\n            thumbnail.version = myself.currentSprite.version;\r\n        }\r\n    };\r\n\r\n    nameField = new InputFieldMorph(this.currentSprite.name);\r\n    nameField.setWidth(100); // fixed dimensions\r\n    nameField.contrast = 90;\r\n    nameField.setPosition(thumbnail.topRight().add(new Point(10, 3)));\r\n    this.spriteBar.add(nameField);\r\n    nameField.drawNew();\r\n    nameField.accept = function () {\r\n        var newName = nameField.getValue();\r\n        myself.currentSprite.setName(\r\n            myself.newSpriteName(newName, myself.currentSprite)\r\n        );\r\n        nameField.setContents(myself.currentSprite.name);\r\n    };\r\n    this.spriteBar.reactToEdit = nameField.accept;\r\n\r\n    // padlock\r\n    padlock = new ToggleMorph(\r\n        'checkbox',\r\n        null,\r\n        function () {\r\n            myself.currentSprite.isDraggable =\r\n                !myself.currentSprite.isDraggable;\r\n        },\r\n        localize('draggable'),\r\n        function () {\r\n            return myself.currentSprite.isDraggable;\r\n        }\r\n    );\r\n    padlock.label.isBold = false;\r\n    padlock.label.setColor(this.buttonLabelColor);\r\n    padlock.color = tabColors[2];\r\n    padlock.highlightColor = tabColors[0];\r\n    padlock.pressColor = tabColors[1];\r\n\r\n    padlock.tick.shadowOffset = MorphicPreferences.isFlat ?\r\n            new Point() : new Point(-1, -1);\r\n    padlock.tick.shadowColor = new Color(); // black\r\n    padlock.tick.color = this.buttonLabelColor;\r\n    padlock.tick.isBold = false;\r\n    padlock.tick.drawNew();\r\n\r\n    padlock.setPosition(nameField.bottomLeft().add(2));\r\n    padlock.drawNew();\r\n    this.spriteBar.add(padlock);\r\n    if (this.currentSprite instanceof StageMorph) {\r\n        padlock.hide();\r\n    }\r\n\r\n    // tab bar\r\n    tabBar.tabTo = function (tabString) {\r\n        var active;\r\n        myself.currentTab = tabString;\r\n        this.children.forEach(function (each) {\r\n            each.refresh();\r\n            if (each.state) {active = each; }\r\n        });\r\n        active.refresh(); // needed when programmatically tabbing\r\n        myself.createSpriteEditor();\r\n        myself.fixLayout('tabEditor');\r\n    };\r\n\r\n    tab = new TabMorph(\r\n        tabColors,\r\n        null, // target\r\n        function () {tabBar.tabTo('scripts'); },\r\n        localize('Scripts'), // label\r\n        function () {  // query\r\n            return myself.currentTab === 'scripts';\r\n        }\r\n    );\r\n    tab.padding = 3;\r\n    tab.corner = tabCorner;\r\n    tab.edge = 1;\r\n    tab.labelShadowOffset = new Point(-1, -1);\r\n    tab.labelShadowColor = tabColors[1];\r\n    tab.labelColor = this.buttonLabelColor;\r\n    tab.drawNew();\r\n    tab.fixLayout();\r\n    tabBar.add(tab);\r\n\r\n    tab = new TabMorph(\r\n        tabColors,\r\n        null, // target\r\n        function () {tabBar.tabTo('costumes'); },\r\n        localize(this.currentSprite instanceof SpriteMorph ?\r\n            'Costumes' : 'Backgrounds'\r\n        ),\r\n        function () {  // query\r\n            return myself.currentTab === 'costumes';\r\n        }\r\n    );\r\n    tab.padding = 3;\r\n    tab.corner = tabCorner;\r\n    tab.edge = 1;\r\n    tab.labelShadowOffset = new Point(-1, -1);\r\n    tab.labelShadowColor = tabColors[1];\r\n    tab.labelColor = this.buttonLabelColor;\r\n    tab.drawNew();\r\n    tab.fixLayout();\r\n    tabBar.add(tab);\r\n\r\n    tab = new TabMorph(\r\n        tabColors,\r\n        null, // target\r\n        function () {tabBar.tabTo('sounds'); },\r\n        localize('Sounds'), // label\r\n        function () {  // query\r\n            return myself.currentTab === 'sounds';\r\n        }\r\n    );\r\n    tab.padding = 3;\r\n    tab.corner = tabCorner;\r\n    tab.edge = 1;\r\n    tab.labelShadowOffset = new Point(-1, -1);\r\n    tab.labelShadowColor = tabColors[1];\r\n    tab.labelColor = this.buttonLabelColor;\r\n    tab.drawNew();\r\n    tab.fixLayout();\r\n    tabBar.add(tab);\r\n\r\n    tabBar.fixLayout();\r\n    tabBar.children.forEach(function (each) {\r\n        each.refresh();\r\n    });\r\n    this.spriteBar.tabBar = tabBar;\r\n    this.spriteBar.add(this.spriteBar.tabBar);\r\n\r\n    this.spriteBar.fixLayout = function () {\r\n        this.tabBar.setLeft(this.left());\r\n        this.tabBar.setBottom(this.bottom());\r\n    };\r\n};\r\n\r\nIDE_Morph.prototype.createSpriteEditor = function () {\r\n    // assumes that the logo pane and the stage have already been created\r\n    var scripts = this.currentSprite.scripts,\r\n        myself = this;\r\n\r\n    if (this.spriteEditor) {\r\n        this.spriteEditor.destroy();\r\n    }\r\n\r\n    if (this.currentTab === 'scripts') {\r\n        scripts.isDraggable = false;\r\n        scripts.color = this.groupColor;\r\n        scripts.cachedTexture = this.scriptsPaneTexture;\r\n\r\n        this.spriteEditor = new ScrollFrameMorph(\r\n            scripts,\r\n            null,\r\n            this.sliderColor\r\n        );\r\n        this.spriteEditor.padding = 10;\r\n        this.spriteEditor.growth = 50;\r\n        this.spriteEditor.isDraggable = false;\r\n        this.spriteEditor.acceptsDrops = false;\r\n        this.spriteEditor.contents.acceptsDrops = true;\r\n\r\n        scripts.scrollFrame = this.spriteEditor;\r\n        scripts.updateToolbar();\r\n        this.add(this.spriteEditor);\r\n        this.spriteEditor.scrollX(this.spriteEditor.padding);\r\n        this.spriteEditor.scrollY(this.spriteEditor.padding);\r\n    } else if (this.currentTab === 'costumes') {\r\n        this.spriteEditor = new WardrobeMorph(\r\n            this.currentSprite,\r\n            this.sliderColor\r\n        );\r\n        this.spriteEditor.color = this.groupColor;\r\n        this.add(this.spriteEditor);\r\n        this.spriteEditor.updateSelection();\r\n\r\n        this.spriteEditor.acceptsDrops = false;\r\n        this.spriteEditor.contents.acceptsDrops = false;\r\n    } else if (this.currentTab === 'sounds') {\r\n        this.spriteEditor = new JukeboxMorph(\r\n            this.currentSprite,\r\n            this.sliderColor\r\n        );\r\n        this.spriteEditor.color = this.groupColor;\r\n        this.add(this.spriteEditor);\r\n        this.spriteEditor.updateSelection();\r\n        this.spriteEditor.acceptDrops = false;\r\n        this.spriteEditor.contents.acceptsDrops = false;\r\n    } else {\r\n        this.spriteEditor = new Morph();\r\n        this.spriteEditor.color = this.groupColor;\r\n        this.spriteEditor.acceptsDrops = true;\r\n        this.spriteEditor.reactToDropOf = function (droppedMorph) {\r\n            if (droppedMorph instanceof DialogBoxMorph) {\r\n                myself.world().add(droppedMorph);\r\n            } else if (droppedMorph instanceof SpriteMorph) {\r\n                myself.removeSprite(droppedMorph);\r\n            } else {\r\n                droppedMorph.destroy();\r\n            }\r\n        };\r\n        this.add(this.spriteEditor);\r\n    }\r\n};\r\n\r\nIDE_Morph.prototype.createCorralBar = function () {\r\n    // assumes the stage has already been created\r\n    var padding = 5,\r\n        newbutton,\r\n        paintbutton,\r\n        cambutton,\r\n        colors = [\r\n            this.groupColor,\r\n            this.frameColor.darker(50),\r\n            this.frameColor.darker(50)\r\n        ];\r\n\r\n    if (this.corralBar) {\r\n        this.corralBar.destroy();\r\n    }\r\n\r\n    this.corralBar = new Morph();\r\n    this.corralBar.color = this.frameColor;\r\n    this.corralBar.setHeight(this.logo.height()); // height is fixed\r\n    this.add(this.corralBar);\r\n\r\n    // new sprite button\r\n    newbutton = new PushButtonMorph(\r\n        this,\r\n        \"addNewSprite\",\r\n        new SymbolMorph(\"turtle\", 14)\r\n    );\r\n    newbutton.corner = 12;\r\n    newbutton.color = colors[0];\r\n    newbutton.highlightColor = colors[1];\r\n    newbutton.pressColor = colors[2];\r\n    newbutton.labelMinExtent = new Point(36, 18);\r\n    newbutton.padding = 0;\r\n    newbutton.labelShadowOffset = new Point(-1, -1);\r\n    newbutton.labelShadowColor = colors[1];\r\n    newbutton.labelColor = this.buttonLabelColor;\r\n    newbutton.contrast = this.buttonContrast;\r\n    newbutton.drawNew();\r\n    newbutton.hint = \"add a new Turtle sprite\";\r\n    newbutton.fixLayout();\r\n    newbutton.setCenter(this.corralBar.center());\r\n    newbutton.setLeft(this.corralBar.left() + padding);\r\n    this.corralBar.add(newbutton);\r\n\r\n    paintbutton = new PushButtonMorph(\r\n        this,\r\n        \"paintNewSprite\",\r\n        new SymbolMorph(\"brush\", 15)\r\n    );\r\n    paintbutton.corner = 12;\r\n    paintbutton.color = colors[0];\r\n    paintbutton.highlightColor = colors[1];\r\n    paintbutton.pressColor = colors[2];\r\n    paintbutton.labelMinExtent = new Point(36, 18);\r\n    paintbutton.padding = 0;\r\n    paintbutton.labelShadowOffset = new Point(-1, -1);\r\n    paintbutton.labelShadowColor = colors[1];\r\n    paintbutton.labelColor = this.buttonLabelColor;\r\n    paintbutton.contrast = this.buttonContrast;\r\n    paintbutton.drawNew();\r\n    paintbutton.hint = \"paint a new sprite\";\r\n    paintbutton.fixLayout();\r\n    paintbutton.setCenter(this.corralBar.center());\r\n    paintbutton.setLeft(\r\n        this.corralBar.left() + padding + newbutton.width() + padding\r\n    );\r\n    this.corralBar.add(paintbutton);\r\n\r\n    if (CamSnapshotDialogMorph.prototype.enableCamera) {\r\n        cambutton = new PushButtonMorph(\r\n                this,\r\n                \"newCamSprite\",\r\n                new SymbolMorph(\"camera\", 15)\r\n                );\r\n        cambutton.corner = 12;\r\n        cambutton.color = colors[0];\r\n        cambutton.highlightColor = colors[1];\r\n        cambutton.pressColor = colors[2];\r\n        cambutton.labelMinExtent = new Point(36, 18);\r\n        cambutton.padding = 0;\r\n        cambutton.labelShadowOffset = new Point(-1, -1);\r\n        cambutton.labelShadowColor = colors[1];\r\n        cambutton.labelColor = this.buttonLabelColor;\r\n        cambutton.contrast = this.buttonContrast;\r\n        cambutton.drawNew();\r\n        cambutton.hint = \"take a camera snapshot and\\nimport it as a new sprite\";\r\n        cambutton.fixLayout();\r\n        cambutton.setCenter(this.corralBar.center());\r\n        cambutton.setLeft(\r\n            this.corralBar.left() +\r\n            padding +\r\n            newbutton.width() +\r\n            padding +\r\n            paintbutton.width() +\r\n            padding\r\n        );\r\n        this.corralBar.add(cambutton);\r\n        document.addEventListener(\r\n            'cameraDisabled',\r\n            function (event) {\r\n                cambutton.disable();\r\n                cambutton.hint =\r\n                    CamSnapshotDialogMorph.prototype.notSupportedMessage;\r\n            }\r\n        );\r\n    }\r\n};\r\n\r\nIDE_Morph.prototype.createCorral = function () {\r\n    // assumes the corral bar has already been created\r\n    var frame, template, padding = 5, myself = this;\r\n\r\n    this.createStageHandle();\r\n    this.createPaletteHandle();\r\n\r\n    if (this.corral) {\r\n        this.corral.destroy();\r\n    }\r\n\r\n    this.corral = new Morph();\r\n    this.corral.color = this.groupColor;\r\n    this.add(this.corral);\r\n\r\n    this.corral.stageIcon = new SpriteIconMorph(this.stage);\r\n    this.corral.stageIcon.isDraggable = false;\r\n    this.corral.add(this.corral.stageIcon);\r\n\r\n    frame = new ScrollFrameMorph(null, null, this.sliderColor);\r\n    frame.acceptsDrops = false;\r\n    frame.contents.acceptsDrops = false;\r\n\r\n    frame.contents.wantsDropOf = function (morph) {\r\n        return morph instanceof SpriteIconMorph;\r\n    };\r\n\r\n    frame.contents.reactToDropOf = function (spriteIcon) {\r\n        myself.corral.reactToDropOf(spriteIcon);\r\n    };\r\n\r\n    frame.alpha = 0;\r\n\r\n    this.sprites.asArray().forEach(function (morph) {\r\n        if (!morph.isTemporary) {\r\n            template = new SpriteIconMorph(morph, template);\r\n            frame.contents.add(template);\r\n        }\r\n    });\r\n\r\n    this.corral.frame = frame;\r\n    this.corral.add(frame);\r\n\r\n    this.corral.fixLayout = function () {\r\n        this.stageIcon.setCenter(this.center());\r\n        this.stageIcon.setLeft(this.left() + padding);\r\n        this.frame.setLeft(this.stageIcon.right() + padding);\r\n        this.frame.setExtent(new Point(\r\n            this.right() - this.frame.left(),\r\n            this.height()\r\n        ));\r\n        this.arrangeIcons();\r\n        this.refresh();\r\n    };\r\n\r\n    this.corral.arrangeIcons = function () {\r\n        var x = this.frame.left(),\r\n            y = this.frame.top(),\r\n            max = this.frame.right(),\r\n            start = this.frame.left();\r\n\r\n        this.frame.contents.children.forEach(function (icon) {\r\n            var w = icon.width();\r\n\r\n            if (x + w > max) {\r\n                x = start;\r\n                y += icon.height(); // they're all the same\r\n            }\r\n            icon.setPosition(new Point(x, y));\r\n            x += w;\r\n        });\r\n        this.frame.contents.adjustBounds();\r\n    };\r\n\r\n    this.corral.addSprite = function (sprite) {\r\n        this.frame.contents.add(new SpriteIconMorph(sprite));\r\n        this.fixLayout();\r\n    };\r\n\r\n    this.corral.refresh = function () {\r\n        this.stageIcon.refresh();\r\n        this.frame.contents.children.forEach(function (icon) {\r\n            icon.refresh();\r\n        });\r\n    };\r\n\r\n    this.corral.wantsDropOf = function (morph) {\r\n        return morph instanceof SpriteIconMorph;\r\n    };\r\n\r\n    this.corral.reactToDropOf = function (spriteIcon) {\r\n        var idx = 1,\r\n            pos = spriteIcon.position();\r\n        spriteIcon.destroy();\r\n        this.frame.contents.children.forEach(function (icon) {\r\n            if (pos.gt(icon.position()) || pos.y > icon.bottom()) {\r\n                idx += 1;\r\n            }\r\n        });\r\n        myself.sprites.add(spriteIcon.object, idx);\r\n        myself.createCorral();\r\n        myself.fixLayout();\r\n    };\r\n};\r\n\r\n// IDE_Morph layout\r\n\r\nIDE_Morph.prototype.fixLayout = function (situation) {\r\n    // situation is a string, i.e.\r\n    // 'selectSprite' or 'refreshPalette' or 'tabEditor'\r\n    var padding = this.padding,\r\n        maxPaletteWidth;\r\n\r\n    Morph.prototype.trackChanges = false;\r\n\r\n    if (situation !== 'refreshPalette') {\r\n        // controlBar\r\n        this.controlBar.setPosition(this.logo.topRight());\r\n        this.controlBar.setWidth(this.right() - this.controlBar.left());\r\n        this.controlBar.fixLayout();\r\n\r\n        // categories\r\n        this.categories.setLeft(this.logo.left());\r\n        this.categories.setTop(this.logo.bottom());\r\n        this.categories.setWidth(this.paletteWidth);\r\n    }\r\n\r\n    // palette\r\n    this.palette.setLeft(this.logo.left());\r\n    this.palette.setTop(this.categories.bottom());\r\n    this.palette.setHeight(this.bottom() - this.palette.top());\r\n    this.palette.setWidth(this.paletteWidth);\r\n\r\n    if (situation !== 'refreshPalette') {\r\n        // stage\r\n        if (this.isAppMode) {\r\n            this.stage.setScale(Math.floor(Math.min(\r\n                (this.width() - padding * 2) / this.stage.dimensions.x,\r\n                (this.height() - this.controlBar.height() * 2 - padding * 2)\r\n                    / this.stage.dimensions.y\r\n            ) * 10) / 10);\r\n            this.stage.setCenter(this.center());\r\n        } else {\r\n            this.stage.setScale(this.isSmallStage ? this.stageRatio : 1);\r\n            this.stage.setTop(this.logo.bottom() + padding);\r\n            this.stage.setRight(this.right());\r\n            maxPaletteWidth = Math.max(\r\n                200,\r\n                this.width() -\r\n                    this.stage.width() -\r\n                    this.spriteBar.tabBar.width() -\r\n                    (this.padding * 2)\r\n            );\r\n            if (this.paletteWidth > maxPaletteWidth) {\r\n                this.paletteWidth = maxPaletteWidth;\r\n                this.fixLayout();\r\n            }\r\n            this.stageHandle.fixLayout();\r\n            this.paletteHandle.fixLayout();\r\n        }\r\n\r\n        // spriteBar\r\n        this.spriteBar.setLeft(this.paletteWidth + padding);\r\n        this.spriteBar.setTop(this.logo.bottom() + padding);\r\n        this.spriteBar.setExtent(new Point(\r\n            Math.max(0, this.stage.left() - padding - this.spriteBar.left()),\r\n            this.categories.bottom() - this.spriteBar.top() - padding\r\n        ));\r\n        this.spriteBar.fixLayout();\r\n\r\n        // spriteEditor\r\n        if (this.spriteEditor.isVisible) {\r\n            this.spriteEditor.setPosition(this.spriteBar.bottomLeft());\r\n            this.spriteEditor.setExtent(new Point(\r\n                this.spriteBar.width(),\r\n                this.bottom() - this.spriteEditor.top()\r\n            ));\r\n        }\r\n\r\n        // corralBar\r\n        this.corralBar.setLeft(this.stage.left());\r\n        this.corralBar.setTop(this.stage.bottom() + padding);\r\n        this.corralBar.setWidth(this.stage.width());\r\n\r\n        // corral\r\n        if (!contains(['selectSprite', 'tabEditor'], situation)) {\r\n            this.corral.setPosition(this.corralBar.bottomLeft());\r\n            this.corral.setWidth(this.stage.width());\r\n            this.corral.setHeight(this.bottom() - this.corral.top());\r\n            this.corral.fixLayout();\r\n        }\r\n    }\r\n\r\n    Morph.prototype.trackChanges = true;\r\n    this.changed();\r\n};\r\n\r\nIDE_Morph.prototype.setProjectName = function (string) {\r\n    this.projectName = string.replace(/['\"]/g, ''); // filter quotation marks\r\n    this.hasChangedMedia = true;\r\n    this.controlBar.updateLabel();\r\n};\r\n\r\n// IDE_Morph resizing\r\n\r\nIDE_Morph.prototype.setExtent = function (point) {\r\n    var padding = new Point(430, 110),\r\n        minExt,\r\n        ext,\r\n        maxWidth,\r\n        minWidth,\r\n        maxHeight,\r\n        minRatio,\r\n        maxRatio;\r\n\r\n    // determine the minimum dimensions making sense for the current mode\r\n    if (this.isAppMode) {\r\n        minExt = StageMorph.prototype.dimensions.add(\r\n            this.controlBar.height() + 10\r\n        );\r\n    } else {\r\n        if (this.stageRatio > 1) {\r\n            minExt = padding.add(StageMorph.prototype.dimensions);\r\n        } else {\r\n            minExt = padding.add(\r\n                StageMorph.prototype.dimensions.multiplyBy(this.stageRatio)\r\n            );\r\n        }\r\n    }\r\n    ext = point.max(minExt);\r\n\r\n    // adjust stage ratio if necessary\r\n    maxWidth = ext.x -\r\n        (200 + this.spriteBar.tabBar.width() + (this.padding * 2));\r\n    minWidth = SpriteIconMorph.prototype.thumbSize.x * 3;\r\n    maxHeight = (ext.y - SpriteIconMorph.prototype.thumbSize.y * 3.5);\r\n    minRatio = minWidth / this.stage.dimensions.x;\r\n    maxRatio = Math.min(\r\n        (maxWidth / this.stage.dimensions.x),\r\n        (maxHeight / this.stage.dimensions.y)\r\n    );\r\n    this.stageRatio = Math.min(maxRatio, Math.max(minRatio, this.stageRatio));\r\n\r\n    // apply\r\n    IDE_Morph.uber.setExtent.call(this, ext);\r\n    this.fixLayout();\r\n};\r\n\r\n// IDE_Morph events\r\n\r\nIDE_Morph.prototype.reactToWorldResize = function (rect) {\r\n    if (this.isAutoFill) {\r\n        this.setPosition(rect.origin);\r\n        this.setExtent(rect.extent());\r\n    }\r\n    if (this.filePicker) {\r\n        document.body.removeChild(this.filePicker);\r\n        this.filePicker = null;\r\n    }\r\n};\r\n\r\nIDE_Morph.prototype.droppedImage = function (aCanvas, name) {\r\n    var costume = new Costume(\r\n        aCanvas,\r\n        this.currentSprite.newCostumeName(\r\n            name ? name.split('.')[0] : '' // up to period\r\n        )\r\n    );\r\n\r\n    if (costume.isTainted()) {\r\n        this.inform(\r\n            'Unable to import this image',\r\n            'The picture you wish to import has been\\n' +\r\n                'tainted by a restrictive cross-origin policy\\n' +\r\n                'making it unusable for costumes in Snap!. \\n\\n' +\r\n                'Try downloading this picture first to your\\n' +\r\n                'computer, and import it from there.'\r\n        );\r\n        return;\r\n    }\r\n\r\n    this.currentSprite.addCostume(costume);\r\n    this.currentSprite.wearCostume(costume);\r\n    this.spriteBar.tabBar.tabTo('costumes');\r\n    this.hasChangedMedia = true;\r\n};\r\n\r\nIDE_Morph.prototype.droppedSVG = function (anImage, name) {\r\n    var costume = new SVG_Costume(anImage, name.split('.')[0]);\r\n    this.currentSprite.addCostume(costume);\r\n    this.currentSprite.wearCostume(costume);\r\n    this.spriteBar.tabBar.tabTo('costumes');\r\n    this.hasChangedMedia = true;\r\n};\r\n\r\nIDE_Morph.prototype.droppedAudio = function (anAudio, name) {\r\n    this.currentSprite.addSound(anAudio, name.split('.')[0]); // up to period\r\n    this.spriteBar.tabBar.tabTo('sounds');\r\n    this.hasChangedMedia = true;\r\n};\r\n\r\nIDE_Morph.prototype.droppedText = function (aString, name) {\r\n    var lbl = name ? name.split('.')[0] : '';\r\n    if (aString.indexOf('<project') === 0) {\r\n        \r\n        location.hash = '';\r\n        return this.openProjectString(aString);\r\n    }\r\n    if (aString.indexOf('<snapdata') === 0) {\r\n        location.hash = '';\r\n        return this.openCloudDataString(aString);\r\n    }\r\n    if (aString.indexOf('<blocks') === 0) {\r\n        return this.openBlocksString(aString, lbl, true);\r\n    }\r\n    if (aString.indexOf('<sprites') === 0) {\r\n        return this.openSpritesString(aString);\r\n    }\r\n    if (aString.indexOf('<media') === 0) {\r\n        return this.openMediaString(aString);\r\n    }\r\n    if (aString.indexOf('<script') === 0) {\r\n        return this.openScriptString(aString);\r\n    }\r\n};\r\n\r\nIDE_Morph.prototype.droppedBinary = function (anArrayBuffer, name) {\r\n    // dynamically load ypr->Snap!\r\n    var ypr = document.getElementById('ypr'),\r\n        myself = this,\r\n        suffix = name.substring(name.length - 3);\r\n\r\n    if (suffix.toLowerCase() !== 'ypr') {return; }\r\n\r\n    function loadYPR(buffer, lbl) {\r\n        var reader = new sb.Reader(),\r\n            pname = lbl.split('.')[0]; // up to period\r\n        reader.onload = function (info) {\r\n            myself.droppedText(new sb.XMLWriter().write(pname, info));\r\n        };\r\n        reader.readYPR(new Uint8Array(buffer));\r\n    }\r\n\r\n    if (!ypr) {\r\n        ypr = document.createElement('script');\r\n        ypr.id = 'ypr';\r\n        ypr.onload = function () {loadYPR(anArrayBuffer, name); };\r\n        document.head.appendChild(ypr);\r\n        ypr.src = 'ypr.js';\r\n    } else {\r\n        loadYPR(anArrayBuffer, name);\r\n    }\r\n};\r\n\r\n// IDE_Morph button actions\r\n\r\nIDE_Morph.prototype.refreshPalette = function (shouldIgnorePosition) {\r\n    var oldTop = this.palette.contents.top();\r\n\r\n    this.createPalette();\r\n    this.fixLayout('refreshPalette');\r\n    if (!shouldIgnorePosition) {\r\n        this.palette.contents.setTop(oldTop);\r\n    }\r\n};\r\n\r\nIDE_Morph.prototype.pressStart = function () {\r\n    if (this.world().currentKey === 16) { // shiftClicked\r\n        this.toggleFastTracking();\r\n    } else {\r\n        this.stage.threads.pauseCustomHatBlocks = false;\r\n        this.controlBar.stopButton.refresh();\r\n        this.runScripts();\r\n    }\r\n};\r\n\r\nIDE_Morph.prototype.toggleFastTracking = function () {\r\n    if (this.stage.isFastTracked) {\r\n        this.stopFastTracking();\r\n    } else {\r\n        this.startFastTracking();\r\n    }\r\n};\r\n\r\nIDE_Morph.prototype.toggleVariableFrameRate = function () {\r\n    if (StageMorph.prototype.frameRate) {\r\n        StageMorph.prototype.frameRate = 0;\r\n        this.stage.fps = 0;\r\n    } else {\r\n        StageMorph.prototype.frameRate = 30;\r\n        this.stage.fps = 30;\r\n    }\r\n};\r\n\r\nIDE_Morph.prototype.toggleSingleStepping = function () {\r\n    this.stage.threads.toggleSingleStepping();\r\n    this.controlBar.steppingButton.refresh();\r\n    this.controlBar.refreshSlider();\r\n};\r\n\r\nIDE_Morph.prototype.toggleCameraSupport = function () {\r\n    CamSnapshotDialogMorph.prototype.enableCamera =\r\n        !CamSnapshotDialogMorph.prototype.enableCamera;\r\n    this.spriteBar.tabBar.tabTo(this.currentTab);\r\n    this.createCorralBar();\r\n    this.fixLayout();\r\n};\r\n\r\nIDE_Morph.prototype.startFastTracking = function () {\r\n    this.stage.isFastTracked = true;\r\n    this.stage.fps = 0;\r\n    this.controlBar.startButton.labelString = new SymbolMorph('flash', 14);\r\n    this.controlBar.startButton.drawNew();\r\n    this.controlBar.startButton.fixLayout();\r\n};\r\n\r\nIDE_Morph.prototype.stopFastTracking = function () {\r\n    this.stage.isFastTracked = false;\r\n    this.stage.fps = this.stage.frameRate;\r\n    this.controlBar.startButton.labelString = new SymbolMorph('flag', 14);\r\n    this.controlBar.startButton.drawNew();\r\n    this.controlBar.startButton.fixLayout();\r\n};\r\n\r\nIDE_Morph.prototype.runScripts = function () {\r\n    this.stage.fireGreenFlagEvent();\r\n};\r\n\r\nIDE_Morph.prototype.togglePauseResume = function () {\r\n    if (this.stage.threads.isPaused()) {\r\n        this.stage.threads.resumeAll(this.stage);\r\n    } else {\r\n        this.stage.threads.pauseAll(this.stage);\r\n    }\r\n    this.controlBar.pauseButton.refresh();\r\n};\r\n\r\nIDE_Morph.prototype.isPaused = function () {\r\n    if (!this.stage) {return false; }\r\n    return this.stage.threads.isPaused();\r\n};\r\n\r\nIDE_Morph.prototype.stopAllScripts = function () {\r\n    if (this.stage.enableCustomHatBlocks) {\r\n        this.stage.threads.pauseCustomHatBlocks =\r\n            !this.stage.threads.pauseCustomHatBlocks;\r\n    } else {\r\n        this.stage.threads.pauseCustomHatBlocks = false;\r\n    }\r\n    this.controlBar.stopButton.refresh();\r\n    this.stage.fireStopAllEvent();\r\n};\r\n\r\nIDE_Morph.prototype.selectSprite = function (sprite) {\r\n    if (this.currentSprite && this.currentSprite.scripts.focus) {\r\n        this.currentSprite.scripts.focus.stopEditing();\r\n    }\r\n    this.currentSprite = sprite;\r\n    this.createPalette();\r\n    this.createSpriteBar();\r\n    this.createSpriteEditor();\r\n    this.corral.refresh();\r\n    this.fixLayout('selectSprite');\r\n    this.currentSprite.scripts.fixMultiArgs();\r\n};\r\n\r\n// IDE_Morph retina display support\r\n\r\nIDE_Morph.prototype.toggleRetina = function () {\r\n    if (isRetinaEnabled()) {\r\n        disableRetinaSupport();\r\n    } else {\r\n        enableRetinaSupport();\r\n    }\r\n    this.world().fillPage();\r\n    IDE_Morph.prototype.scriptsPaneTexture = this.scriptsTexture();\r\n    this.stage.clearPenTrails();\r\n    this.drawNew();\r\n    this.refreshIDE();\r\n};\r\n\r\n// IDE_Morph skins\r\n\r\nIDE_Morph.prototype.defaultDesign = function () {\r\n    this.setDefaultDesign();\r\n    this.refreshIDE();\r\n    this.removeSetting('design');\r\n};\r\n\r\nIDE_Morph.prototype.flatDesign = function () {\r\n    this.setFlatDesign();\r\n    this.refreshIDE();\r\n    this.saveSetting('design', 'flat');\r\n};\r\n\r\nIDE_Morph.prototype.refreshIDE = function () {\r\n    var projectData ;\r\n\r\n    if (Process.prototype.isCatchingErrors) {\r\n        try {\r\n            projectData = this.serializer.serialize(this.stage);\r\n        } catch (err) {\r\n            this.showMessage('Serialization failed: ' + err);\r\n        }\r\n    } else {\r\n        projectData = this.serializer.serialize(this.stage);\r\n    }\r\n    SpriteMorph.prototype.initBlocks();\r\n    this.buildPanes();\r\n    this.fixLayout();\r\n    if (this.loadNewProject) {\r\n        this.newProject();\r\n    } else {\r\n        this.openProjectString(projectData);\r\n    }\r\n};\r\n\r\n// IDE_Morph settings persistance\r\n\r\nIDE_Morph.prototype.applySavedSettings = function () {\r\n    var design = this.getSetting('design'),\r\n        zoom = this.getSetting('zoom'),\r\n        /*language = this.getSetting('language'),*/\r\n        language = 'fr',\r\n        click = this.getSetting('click'),\r\n        longform = this.getSetting('longform'),\r\n        longurls = this.getSetting('longurls'),\r\n        plainprototype = this.getSetting('plainprototype'),\r\n        keyboard = this.getSetting('keyboard'),\r\n        tables = this.getSetting('tables'),\r\n        tableLines = this.getSetting('tableLines'),\r\n        autoWrapping = this.getSetting('autowrapping');\r\n\r\n    // design\r\n    if (design === 'flat') {\r\n        this.setFlatDesign();\r\n    } else {\r\n        this.setDefaultDesign();\r\n    }\r\n\r\n    // blocks zoom\r\n    if (zoom) {\r\n        SyntaxElementMorph.prototype.setScale(Math.min(zoom, 12));\r\n        CommentMorph.prototype.refreshScale();\r\n        SpriteMorph.prototype.initBlocks();\r\n    }\r\n\r\n    // language\r\n    if (language && language !== 'en') {\r\n        this.userLanguage = language;\r\n    } else {\r\n        this.userLanguage = null;\r\n    }\r\n\r\n    //  click\r\n    if (click && !BlockMorph.prototype.snapSound) {\r\n        BlockMorph.prototype.toggleSnapSound();\r\n    }\r\n\r\n    // long form\r\n    if (longform) {\r\n        InputSlotDialogMorph.prototype.isLaunchingExpanded = true;\r\n    }\r\n\r\n    // project data in URLs\r\n    if (longurls) {\r\n        this.projectsInURLs = true;\r\n    } else {\r\n        this.projectsInURLs = false;\r\n    }\r\n\r\n    // keyboard editing\r\n    if (keyboard === 'false') {\r\n        ScriptsMorph.prototype.enableKeyboard = false;\r\n    } else {\r\n        ScriptsMorph.prototype.enableKeyboard = true;\r\n    }\r\n\r\n    // tables\r\n    if (tables === 'false') {\r\n        List.prototype.enableTables = false;\r\n    } else {\r\n        List.prototype.enableTables = true;\r\n    }\r\n\r\n    // tableLines\r\n    if (tableLines) {\r\n        TableMorph.prototype.highContrast = true;\r\n    } else {\r\n        TableMorph.prototype.highContrast = false;\r\n    }\r\n\r\n    // nested auto-wrapping\r\n    if (autoWrapping === 'false') {\r\n        ScriptsMorph.prototype.enableNestedAutoWrapping = false;\r\n    } else {\r\n        ScriptsMorph.prototype.enableNestedAutoWrapping = true;\r\n    }\r\n\r\n    // plain prototype labels\r\n    if (plainprototype) {\r\n        BlockLabelPlaceHolderMorph.prototype.plainLabel = true;\r\n    }\r\n};\r\n\r\nIDE_Morph.prototype.saveSetting = function (key, value) {\r\n    if (!this.savingPreferences) {\r\n        return;\r\n    }\r\n    if (this.hasLocalStorage()) {\r\n        localStorage['-snap-setting-' + key] = value;\r\n    }\r\n};\r\n\r\nIDE_Morph.prototype.getSetting = function (key) {\r\n    if (this.hasLocalStorage()) {\r\n        return localStorage['-snap-setting-' + key];\r\n    }\r\n    return null;\r\n};\r\n\r\nIDE_Morph.prototype.removeSetting = function (key) {\r\n    if (this.hasLocalStorage()) {\r\n        delete localStorage['-snap-setting-' + key];\r\n    }\r\n};\r\n\r\nIDE_Morph.prototype.hasLocalStorage = function () {\r\n\t// checks whether localStorage is available,\r\n    // this kludgy try/catch mechanism is needed\r\n    // because Safari 11 is paranoid about accessing\r\n    // localstorage from the file:// protocol\r\n\ttry {\r\n\t\treturn !isNil(localStorage);\r\n\t} catch (err) {\r\n    \treturn false;\r\n\t}\r\n};\r\n\r\n// IDE_Morph sprite list access\r\n\r\nIDE_Morph.prototype.addNewSprite = function () {\r\n    var sprite = new SpriteMorph(this.globalVariables),\r\n        rnd = Process.prototype.reportRandom;\r\n    sprite.name = this.newSpriteName(sprite.name);\r\n    sprite.setCenter(this.stage.center());\r\n    this.stage.add(sprite);\r\n\r\n    // randomize sprite properties\r\n    sprite.setHue(rnd.call(this, 0, 100));\r\n    sprite.setBrightness(rnd.call(this, 50, 100));\r\n    sprite.turn(rnd.call(this, 1, 360));\r\n    sprite.setXPosition(rnd.call(this, -220, 220));\r\n    sprite.setYPosition(rnd.call(this, -160, 160));\r\n\r\n    this.sprites.add(sprite);\r\n    this.corral.addSprite(sprite);\r\n    this.selectSprite(sprite);\r\n};\r\n\r\nIDE_Morph.prototype.paintNewSprite = function () {\r\n    var sprite = new SpriteMorph(this.globalVariables),\r\n        cos = new Costume(),\r\n        myself = this;\r\n\r\n    sprite.name = this.newSpriteName(sprite.name);\r\n    sprite.setCenter(this.stage.center());\r\n    this.stage.add(sprite);\r\n    this.sprites.add(sprite);\r\n    this.corral.addSprite(sprite);\r\n    this.selectSprite(sprite);\r\n    cos.edit(\r\n        this.world(),\r\n        this,\r\n        true,\r\n        function () {myself.removeSprite(sprite); },\r\n        function () {\r\n            sprite.addCostume(cos);\r\n            sprite.wearCostume(cos);\r\n        }\r\n    );\r\n};\r\n\r\nIDE_Morph.prototype.newCamSprite = function () {\r\n    var sprite = new SpriteMorph(this.globalVariables),\r\n        camDialog,\r\n        myself = this;\r\n\r\n    sprite.name = this.newSpriteName(sprite.name);\r\n    sprite.setCenter(this.stage.center());\r\n    this.stage.add(sprite);\r\n    this.sprites.add(sprite);\r\n    this.corral.addSprite(sprite);\r\n    this.selectSprite(sprite);\r\n\r\n    camDialog = new CamSnapshotDialogMorph(\r\n        this,\r\n        sprite,\r\n        function () { myself.removeSprite(sprite); },\r\n        function (costume) {\r\n            sprite.addCostume(costume);\r\n            sprite.wearCostume(costume);\r\n            this.close();\r\n        });\r\n\r\n    camDialog.popUp(this.world());\r\n};\r\n\r\nIDE_Morph.prototype.duplicateSprite = function (sprite) {\r\n    var duplicate = sprite.fullCopy();\r\n    duplicate.setPosition(this.world().hand.position());\r\n    duplicate.appearIn(this);\r\n    duplicate.keepWithin(this.stage);\r\n    this.selectSprite(duplicate);\r\n};\r\n\r\nIDE_Morph.prototype.instantiateSprite = function (sprite) {\r\n    var instance = sprite.fullCopy(true),\r\n        hats = instance.allHatBlocksFor('__clone__init__');\r\n    instance.appearIn(this);\r\n    if (hats.length) {\r\n        instance.initClone(hats);\r\n    } else {\r\n        instance.setPosition(this.world().hand.position());\r\n        instance.keepWithin(this.stage);\r\n    }\r\n    this.selectSprite(instance);\r\n};\r\n\r\nIDE_Morph.prototype.removeSprite = function (sprite) {\r\n    var idx, myself = this;\r\n    sprite.parts.forEach(function (part) {myself.removeSprite(part); });\r\n    idx = this.sprites.asArray().indexOf(sprite) + 1;\r\n    this.stage.threads.stopAllForReceiver(sprite);\r\n    sprite.corpsify();\r\n    sprite.destroy();\r\n    this.stage.watchers().forEach(function (watcher) {\r\n        if (watcher.object() === sprite) {\r\n            watcher.destroy();\r\n        }\r\n    });\r\n    if (idx > 0) {\r\n        this.sprites.remove(idx);\r\n    }\r\n    this.createCorral();\r\n    this.fixLayout();\r\n    this.currentSprite = detect(\r\n        this.stage.children,\r\n        function (morph) {\r\n            return morph instanceof SpriteMorph && !morph.isTemporary;\r\n        }\r\n    ) || this.stage;\r\n\r\n    this.selectSprite(this.currentSprite);\r\n};\r\n\r\nIDE_Morph.prototype.newSpriteName = function (name, ignoredSprite) {\r\n    var ix = name.indexOf('('),\r\n        stem = (ix < 0) ? name : name.substring(0, ix),\r\n        count = 1,\r\n        newName = stem,\r\n        all = this.sprites.asArray().concat(this.stage).filter(\r\n            function (each) {return each !== ignoredSprite; }\r\n        ).map(\r\n            function (each) {return each.name; }\r\n        );\r\n    while (contains(all, newName)) {\r\n        count += 1;\r\n        newName = stem + '(' + count + ')';\r\n    }\r\n    return newName;\r\n};\r\n\r\n// IDE_Morph deleting scripts\r\n\r\nIDE_Morph.prototype.removeBlock = function (aBlock, justThis) {\r\n    this.stage.threads.stopAllForBlock(aBlock);\r\n    aBlock.destroy(justThis);\r\n};\r\n\r\n// IDE_Morph menus\r\n\r\nIDE_Morph.prototype.userMenu = function () {\r\n    var menu = new MenuMorph(this);\r\n    // menu.addItem('help', 'nop');\r\n    return menu;\r\n};\r\n\r\nIDE_Morph.prototype.snapMenu = function () {\r\n    var menu,\r\n        myself = this,\r\n        world = this.world();\r\n\r\n    menu = new MenuMorph(this);\r\n    menu.addItem('About...', 'aboutSnap');\r\n    menu.addLine();\r\n    menu.addItem(\r\n        'Reference manual',\r\n        function () {\r\n            var url = myself.resourceURL('help', 'SnapManual.pdf');\r\n            window.open(url, 'SnapReferenceManual');\r\n        }\r\n    );\r\n    menu.addItem(\r\n        'Snap! website',\r\n        function () {\r\n            window.open('http://snap.berkeley.edu/', 'SnapWebsite');\r\n        }\r\n    );\r\n    menu.addItem(\r\n        'Download source',\r\n        function () {\r\n            window.open(\r\n                'http://snap.berkeley.edu/snapsource/snap.zip',\r\n                'SnapSource'\r\n            );\r\n        }\r\n    );\r\n    if (world.isDevMode) {\r\n        menu.addLine();\r\n        menu.addItem(\r\n            'Switch back to user mode',\r\n            'switchToUserMode',\r\n            'disable deep-Morphic\\ncontext menus'\r\n                + '\\nand show user-friendly ones',\r\n            new Color(0, 100, 0)\r\n        );\r\n    } else if (world.currentKey === 16) { // shift-click\r\n        menu.addLine();\r\n        menu.addItem(\r\n            'Switch to dev mode',\r\n            'switchToDevMode',\r\n            'enable Morphic\\ncontext menus\\nand inspectors,'\r\n                + '\\nnot user-friendly!',\r\n            new Color(100, 0, 0)\r\n        );\r\n    }\r\n    menu.popup(world, this.logo.bottomLeft());\r\n};\r\n\r\nIDE_Morph.prototype.cloudMenu = function () {\r\n    var menu,\r\n        myself = this,\r\n        world = this.world(),\r\n        pos = this.controlBar.cloudButton.bottomLeft(),\r\n        shiftClicked = (world.currentKey === 16);\r\n\r\n    menu = new MenuMorph(this);\r\n    if (shiftClicked) {\r\n        menu.addItem(\r\n            'url...',\r\n            'setCloudURL',\r\n            null,\r\n            new Color(100, 0, 0)\r\n        );\r\n        menu.addLine();\r\n    }\r\n    if (!SnapCloud.username) {\r\n        menu.addItem(\r\n            'Login...',\r\n            'initializeCloud'\r\n        );\r\n        menu.addItem(\r\n            'Signup...',\r\n            'createCloudAccount'\r\n        );\r\n        menu.addItem(\r\n            'Reset Password...',\r\n            'resetCloudPassword'\r\n        );\r\n    } else {\r\n        menu.addItem(\r\n            localize('Logout') + ' ' + SnapCloud.username,\r\n            'logout'\r\n        );\r\n        menu.addItem(\r\n            'Change Password...',\r\n            'changeCloudPassword'\r\n        );\r\n    }\r\n    if (shiftClicked) {\r\n        menu.addLine();\r\n        menu.addItem(\r\n            'export project media only...',\r\n            function () {\r\n                if (myself.projectName) {\r\n                    myself.exportProjectMedia(myself.projectName);\r\n                } else {\r\n                    myself.prompt('Export Project As...', function (name) {\r\n                        myself.exportProjectMedia(name);\r\n                    }, null, 'exportProject');\r\n                }\r\n            },\r\n            null,\r\n            this.hasChangedMedia ? new Color(100, 0, 0) : new Color(0, 100, 0)\r\n        );\r\n        menu.addItem(\r\n            'export project without media...',\r\n            function () {\r\n                if (myself.projectName) {\r\n                    myself.exportProjectNoMedia(myself.projectName);\r\n                } else {\r\n                    myself.prompt('Export Project As...', function (name) {\r\n                        myself.exportProjectNoMedia(name);\r\n                    }, null, 'exportProject');\r\n                }\r\n            },\r\n            null,\r\n            new Color(100, 0, 0)\r\n        );\r\n        menu.addItem(\r\n            'export project as cloud data...',\r\n            function () {\r\n                if (myself.projectName) {\r\n                    myself.exportProjectAsCloudData(myself.projectName);\r\n                } else {\r\n                    myself.prompt('Export Project As...', function (name) {\r\n                        myself.exportProjectAsCloudData(name);\r\n                    }, null, 'exportProject');\r\n                }\r\n            },\r\n            null,\r\n            new Color(100, 0, 0)\r\n        );\r\n        menu.addLine();\r\n        menu.addItem(\r\n            'open shared project from cloud...',\r\n            function () {\r\n                myself.prompt('Author name…', function (usr) {\r\n                    myself.prompt('Project name...', function (prj) {\r\n                        var id = 'Username=' +\r\n                            encodeURIComponent(usr.toLowerCase()) +\r\n                            '&ProjectName=' +\r\n                            encodeURIComponent(prj);\r\n                        myself.showMessage(\r\n                            'Fetching project\\nfrom the cloud...'\r\n                        );\r\n                        SnapCloud.getPublicProject(\r\n                            id,\r\n                            function (projectData) {\r\n                                var msg;\r\n                                if (!Process.prototype.isCatchingErrors) {\r\n                                    window.open(\r\n                                        'data:text/xml,' + projectData\r\n                                    );\r\n                                }\r\n                                myself.nextSteps([\r\n                                    function () {\r\n                                        msg = myself.showMessage(\r\n                                            'Opening project...'\r\n                                        );\r\n                                    },\r\n                                    function () {nop(); }, // yield (Chrome)\r\n                                    function () {\r\n                                        myself.rawOpenCloudDataString(\r\n                                            projectData\r\n                                        );\r\n                                    },\r\n                                    function () {\r\n                                        msg.destroy();\r\n                                    }\r\n                                ]);\r\n                            },\r\n                            myself.cloudError()\r\n                        );\r\n\r\n                    }, null, 'project');\r\n                }, null, 'project');\r\n            },\r\n            null,\r\n            new Color(100, 0, 0)\r\n        );\r\n    }\r\n    menu.popup(world, pos);\r\n};\r\n\r\nIDE_Morph.prototype.settingsMenu = function () {\r\n    var menu,\r\n        stage = this.stage,\r\n        world = this.world(),\r\n        myself = this,\r\n        pos = this.controlBar.settingsButton.bottomLeft(),\r\n        shiftClicked = (world.currentKey === 16);\r\n\r\n    function addPreference(label, toggle, test, onHint, offHint, hide) {\r\n        var on = '\\u2611 ',\r\n            off = '\\u2610 ';\r\n        if (!hide || shiftClicked) {\r\n            menu.addItem(\r\n                (test ? on : off) + localize(label),\r\n                toggle,\r\n                test ? onHint : offHint,\r\n                hide ? new Color(100, 0, 0) : null\r\n            );\r\n        }\r\n    }\r\n\r\n    menu = new MenuMorph(this);\r\n    menu.addItem('Language...', 'languageMenu');\r\n    menu.addItem(\r\n        'Zoom blocks...',\r\n        'userSetBlocksScale'\r\n    );\r\n    menu.addItem(\r\n        'Stage size...',\r\n        'userSetStageSize'\r\n    );\r\n    if (shiftClicked) {\r\n        menu.addItem(\r\n            'Dragging threshold...',\r\n            'userSetDragThreshold',\r\n            'specify the distance the hand has to move\\n' +\r\n                'before it picks up an object',\r\n            new Color(100, 0, 0)\r\n        );\r\n    }\r\n    menu.addLine();\r\n    \r\n    if (isRetinaSupported()) {\r\n        addPreference(\r\n            'Retina display support',\r\n            'toggleRetina',\r\n            isRetinaEnabled(),\r\n            'uncheck for lower resolution,\\nsaves computing resources',\r\n            'check for higher resolution,\\nuses more computing resources'\r\n        );\r\n    }\r\n    addPreference(\r\n        'Input sliders',\r\n        'toggleInputSliders',\r\n        MorphicPreferences.useSliderForInput,\r\n        'uncheck to disable\\ninput sliders for\\nentry fields',\r\n        'check to enable\\ninput sliders for\\nentry fields'\r\n    );\r\n    if (MorphicPreferences.useSliderForInput) {\r\n        addPreference(\r\n            'Execute on slider change',\r\n            'toggleSliderExecute',\r\n            ArgMorph.prototype.executeOnSliderEdit,\r\n            'uncheck to suppress\\nrunning scripts\\nwhen moving the slider',\r\n            'check to run\\nthe edited script\\nwhen moving the slider'\r\n        );\r\n    }\r\n    addPreference(\r\n        'Turbo mode',\r\n        'toggleFastTracking',\r\n        this.stage.isFastTracked,\r\n        'uncheck to run scripts\\nat normal speed',\r\n        'check to prioritize\\nscript execution'\r\n    );\r\n    addPreference(\r\n        'Visible stepping',\r\n        'toggleSingleStepping',\r\n        Process.prototype.enableSingleStepping,\r\n        'uncheck to turn off\\nvisible stepping',\r\n        'check to turn on\\n visible stepping (slow)',\r\n        false\r\n    );\r\n    addPreference(\r\n        'Ternary Boolean slots',\r\n        function () {\r\n        \tBooleanSlotMorph.prototype.isTernary =\r\n        \t\t!BooleanSlotMorph.prototype.isTernary;\r\n      \t},\r\n        BooleanSlotMorph.prototype.isTernary,\r\n        'uncheck to limit\\nBoolean slots to true / false',\r\n        'check to allow\\nempty Boolean slots',\r\n        true\r\n    );\r\n    addPreference(\r\n        'Camera support',\r\n        'toggleCameraSupport',\r\n        CamSnapshotDialogMorph.prototype.enableCamera,\r\n        'uncheck to disable\\ncamera support',\r\n        'check to enable\\ncamera support',\r\n        true\r\n    );\r\n    menu.addLine(); // everything visible below is persistent\r\n    addPreference(\r\n        'Blurred shadows',\r\n        'toggleBlurredShadows',\r\n        useBlurredShadows,\r\n        'uncheck to use solid drop\\nshadows and highlights',\r\n        'check to use blurred drop\\nshadows and highlights',\r\n        true\r\n    );\r\n    addPreference(\r\n        'Zebra coloring',\r\n        'toggleZebraColoring',\r\n        BlockMorph.prototype.zebraContrast,\r\n        'uncheck to disable alternating\\ncolors for nested block',\r\n        'check to enable alternating\\ncolors for nested blocks',\r\n        true\r\n    );\r\n    addPreference(\r\n        'Dynamic input labels',\r\n        'toggleDynamicInputLabels',\r\n        SyntaxElementMorph.prototype.dynamicInputLabels,\r\n        'uncheck to disable dynamic\\nlabels for variadic inputs',\r\n        'check to enable dynamic\\nlabels for variadic inputs',\r\n        true\r\n    );\r\n    addPreference(\r\n        'Prefer empty slot drops',\r\n        'togglePreferEmptySlotDrops',\r\n        ScriptsMorph.prototype.isPreferringEmptySlots,\r\n        'uncheck to allow dropped\\nreporters to kick out others',\r\n        'settings menu prefer empty slots hint',\r\n        true\r\n    );\r\n    addPreference(\r\n        'Long form input dialog',\r\n        'toggleLongFormInputDialog',\r\n        InputSlotDialogMorph.prototype.isLaunchingExpanded,\r\n        'uncheck to use the input\\ndialog in short form',\r\n        'check to always show slot\\ntypes in the input dialog'\r\n    );\r\n    addPreference(\r\n        'Plain prototype labels',\r\n        'togglePlainPrototypeLabels',\r\n        BlockLabelPlaceHolderMorph.prototype.plainLabel,\r\n        'uncheck to always show (+) symbols\\nin block prototype labels',\r\n        'check to hide (+) symbols\\nin block prototype labels'\r\n    );\r\n    addPreference(\r\n        'Virtual keyboard',\r\n        'toggleVirtualKeyboard',\r\n        MorphicPreferences.useVirtualKeyboard,\r\n        'uncheck to disable\\nvirtual keyboard support\\nfor mobile devices',\r\n        'check to enable\\nvirtual keyboard support\\nfor mobile devices',\r\n        true\r\n    );\r\n    addPreference(\r\n        'Clicking sound',\r\n        function () {\r\n            BlockMorph.prototype.toggleSnapSound();\r\n            if (BlockMorph.prototype.snapSound) {\r\n                myself.saveSetting('click', true);\r\n            } else {\r\n                myself.removeSetting('click');\r\n            }\r\n        },\r\n        BlockMorph.prototype.snapSound,\r\n        'uncheck to turn\\nblock clicking\\nsound off',\r\n        'check to turn\\nblock clicking\\nsound on'\r\n    );\r\n    addPreference(\r\n        'Animations',\r\n        function () {myself.isAnimating = !myself.isAnimating; },\r\n        myself.isAnimating,\r\n        'uncheck to disable\\nIDE animations',\r\n        'check to enable\\nIDE animations',\r\n        true\r\n    );\r\n    addPreference(\r\n        'Cache Inputs',\r\n        function () {\r\n            BlockMorph.prototype.isCachingInputs =\r\n                !BlockMorph.prototype.isCachingInputs;\r\n        },\r\n        BlockMorph.prototype.isCachingInputs,\r\n        'uncheck to stop caching\\ninputs (for debugging the evaluator)',\r\n        'check to cache inputs\\nboosts recursion',\r\n        true\r\n    );\r\n    addPreference(\r\n        'Rasterize SVGs',\r\n        function () {\r\n            MorphicPreferences.rasterizeSVGs =\r\n                !MorphicPreferences.rasterizeSVGs;\r\n        },\r\n        MorphicPreferences.rasterizeSVGs,\r\n        'uncheck for smooth\\nscaling of vector costumes',\r\n        'check to rasterize\\nSVGs on import',\r\n        true\r\n    );\r\n    addPreference(\r\n        'Flat design',\r\n        function () {\r\n            if (MorphicPreferences.isFlat) {\r\n                return myself.defaultDesign();\r\n            }\r\n            myself.flatDesign();\r\n        },\r\n        MorphicPreferences.isFlat,\r\n        'uncheck for default\\nGUI design',\r\n        'check for alternative\\nGUI design',\r\n        false\r\n    );\r\n    addPreference(\r\n        'Nested auto-wrapping',\r\n        function () {\r\n            ScriptsMorph.prototype.enableNestedAutoWrapping =\r\n                !ScriptsMorph.prototype.enableNestedAutoWrapping;\r\n            if (ScriptsMorph.prototype.enableNestedAutoWrapping) {\r\n                myself.removeSetting('autowrapping');\r\n            } else {\r\n                myself.saveSetting('autowrapping', false);\r\n            }\r\n        },\r\n        ScriptsMorph.prototype.enableNestedAutoWrapping,\r\n        'uncheck to confine auto-wrapping\\nto top-level block stacks',\r\n        'check to enable auto-wrapping\\ninside nested block stacks',\r\n        true\r\n    );\r\n    addPreference(\r\n        'Project URLs',\r\n        function () {\r\n            myself.projectsInURLs = !myself.projectsInURLs;\r\n            if (myself.projectsInURLs) {\r\n                myself.saveSetting('longurls', true);\r\n            } else {\r\n                myself.removeSetting('longurls');\r\n            }\r\n        },\r\n        myself.projectsInURLs,\r\n        'uncheck to disable\\nproject data in URLs',\r\n        'check to enable\\nproject data in URLs',\r\n        true\r\n    );\r\n    addPreference(\r\n        'Sprite Nesting',\r\n        function () {\r\n            SpriteMorph.prototype.enableNesting =\r\n                !SpriteMorph.prototype.enableNesting;\r\n        },\r\n        SpriteMorph.prototype.enableNesting,\r\n        'uncheck to disable\\nsprite composition',\r\n        'check to enable\\nsprite composition',\r\n        true\r\n    );\r\n    addPreference(\r\n        'First-Class Sprites',\r\n        function () {\r\n            SpriteMorph.prototype.enableFirstClass =\r\n                !SpriteMorph.prototype.enableFirstClass;\r\n            myself.currentSprite.blocksCache.sensing = null;\r\n            myself.currentSprite.paletteCache.sensing = null;\r\n            myself.refreshPalette();\r\n        },\r\n        SpriteMorph.prototype.enableFirstClass,\r\n        'uncheck to disable support\\nfor first-class sprites',\r\n        'check to enable support\\n for first-class sprite',\r\n        true\r\n    );\r\n    addPreference(\r\n        'Keyboard Editing',\r\n        function () {\r\n            ScriptsMorph.prototype.enableKeyboard =\r\n                !ScriptsMorph.prototype.enableKeyboard;\r\n            myself.currentSprite.scripts.updateToolbar();\r\n            if (ScriptsMorph.prototype.enableKeyboard) {\r\n                myself.removeSetting('keyboard');\r\n            } else {\r\n                myself.saveSetting('keyboard', false);\r\n            }\r\n        },\r\n        ScriptsMorph.prototype.enableKeyboard,\r\n        'uncheck to disable\\nkeyboard editing support',\r\n        'check to enable\\nkeyboard editing support',\r\n        true\r\n    );\r\n    addPreference(\r\n        'Table support',\r\n        function () {\r\n            List.prototype.enableTables =\r\n                !List.prototype.enableTables;\r\n            if (List.prototype.enableTables) {\r\n                myself.removeSetting('tables');\r\n            } else {\r\n                myself.saveSetting('tables', false);\r\n            }\r\n        },\r\n        List.prototype.enableTables,\r\n        'uncheck to disable\\nmulti-column list views',\r\n        'check for multi-column\\nlist view support',\r\n        true\r\n    );\r\n    if (List.prototype.enableTables) {\r\n        addPreference(\r\n            'Table lines',\r\n            function () {\r\n                TableMorph.prototype.highContrast =\r\n                    !TableMorph.prototype.highContrast;\r\n                if (TableMorph.prototype.highContrast) {\r\n                    myself.saveSetting('tableLines', true);\r\n                } else {\r\n                    myself.removeSetting('tableLines');\r\n                }\r\n            },\r\n            TableMorph.prototype.highContrast,\r\n            'uncheck for less contrast\\nmulti-column list views',\r\n            'check for higher contrast\\ntable views',\r\n            true\r\n        );\r\n    }\r\n    addPreference(\r\n        'Live coding support',\r\n        function () {\r\n            Process.prototype.enableLiveCoding =\r\n                !Process.prototype.enableLiveCoding;\r\n        },\r\n        Process.prototype.enableLiveCoding,\r\n        'EXPERIMENTAL! uncheck to disable live\\ncustom control structures',\r\n        'EXPERIMENTAL! check to enable\\n live custom control structures',\r\n        true\r\n    );\r\n    menu.addLine(); // everything below this line is stored in the project\r\n    addPreference(\r\n        'Thread safe scripts',\r\n        function () {stage.isThreadSafe = !stage.isThreadSafe; },\r\n        this.stage.isThreadSafe,\r\n        'uncheck to allow\\nscript reentrance',\r\n        'check to disallow\\nscript reentrance'\r\n    );\r\n    addPreference(\r\n        'Prefer smooth animations',\r\n        'toggleVariableFrameRate',\r\n        StageMorph.prototype.frameRate,\r\n        'uncheck for greater speed\\nat variable frame rates',\r\n        'check for smooth, predictable\\nanimations across computers',\r\n        true\r\n    );\r\n    addPreference(\r\n        'Flat line ends',\r\n        function () {\r\n            SpriteMorph.prototype.useFlatLineEnds =\r\n                !SpriteMorph.prototype.useFlatLineEnds;\r\n        },\r\n        SpriteMorph.prototype.useFlatLineEnds,\r\n        'uncheck for round ends of lines',\r\n        'check for flat ends of lines'\r\n    );\r\n    addPreference(\r\n        'Codification support',\r\n        function () {\r\n            StageMorph.prototype.enableCodeMapping =\r\n                !StageMorph.prototype.enableCodeMapping;\r\n            myself.currentSprite.blocksCache.variables = null;\r\n            myself.currentSprite.paletteCache.variables = null;\r\n            myself.refreshPalette();\r\n        },\r\n        StageMorph.prototype.enableCodeMapping,\r\n        'uncheck to disable\\nblock to text mapping features',\r\n        'check for block\\nto text mapping features',\r\n        false\r\n    );\r\n    addPreference(\r\n        'Inheritance support',\r\n        function () {\r\n            StageMorph.prototype.enableInheritance =\r\n                !StageMorph.prototype.enableInheritance;\r\n            myself.currentSprite.blocksCache.variables = null;\r\n            myself.currentSprite.paletteCache.variables = null;\r\n            myself.refreshPalette();\r\n        },\r\n        StageMorph.prototype.enableInheritance,\r\n        'uncheck to disable\\nsprite inheritance features',\r\n        'check for sprite\\ninheritance features',\r\n        false\r\n    );\r\n    addPreference(\r\n        'Persist linked sublist IDs',\r\n        function () {\r\n            StageMorph.prototype.enableSublistIDs =\r\n                !StageMorph.prototype.enableSublistIDs;\r\n        },\r\n        StageMorph.prototype.enableSublistIDs,\r\n        'uncheck to disable\\nsaving linked sublist identities',\r\n        'check to enable\\nsaving linked sublist identities',\r\n        true\r\n    );\r\n    menu.popup(world, pos);\r\n};\r\n\r\nIDE_Morph.prototype.projectMenu = function () {\r\n    var menu,\r\n        myself = this,\r\n        world = this.world(),\r\n        pos = this.controlBar.projectButton.bottomLeft(),\r\n        graphicsName = this.currentSprite instanceof SpriteMorph ?\r\n                'Costumes' : 'Backgrounds',\r\n        shiftClicked = (world.currentKey === 16);\r\n\r\n    menu = new MenuMorph(this);\r\n    menu.addItem('Project notes...', 'editProjectNotes');\r\n    menu.addLine();\r\n    menu.addPair('New', 'createNewProject', '^N');\r\n    menu.addPair('Open...', 'openProjectsBrowser', '^O');\r\n    menu.addPair('Save', \"save\", '^S');\r\n    menu.addItem('Save As...', 'saveProjectsBrowser');\r\n    menu.addLine();\r\n    menu.addItem(\r\n        'Import...',\r\n        function () {\r\n            var inp = document.createElement('input');\r\n            if (myself.filePicker) {\r\n                document.body.removeChild(myself.filePicker);\r\n                myself.filePicker = null;\r\n            }\r\n            inp.type = 'file';\r\n            inp.style.color = \"transparent\";\r\n            inp.style.backgroundColor = \"transparent\";\r\n            inp.style.border = \"none\";\r\n            inp.style.outline = \"none\";\r\n            inp.style.position = \"absolute\";\r\n            inp.style.top = \"0px\";\r\n            inp.style.left = \"0px\";\r\n            inp.style.width = \"0px\";\r\n            inp.style.height = \"0px\";\r\n            inp.style.display = \"none\";\r\n            inp.addEventListener(\r\n                \"change\",\r\n                function () {\r\n                    document.body.removeChild(inp);\r\n                    myself.filePicker = null;\r\n                    world.hand.processDrop(inp.files);\r\n                },\r\n                false\r\n            );\r\n            document.body.appendChild(inp);\r\n            myself.filePicker = inp;\r\n            inp.click();     \r\n        },\r\n        'file menu import hint' // looks up the actual text in the translator\r\n    );\r\n\r\n    if (shiftClicked) {\r\n        menu.addItem(\r\n            localize(\r\n                'Export project...') + ' ' + localize('(in a new window)'\r\n            ),\r\n            function () {\r\n                if (myself.projectName) {\r\n                    myself.exportProject(myself.projectName, shiftClicked);\r\n                } else {\r\n                    myself.prompt('Export Project As...', function (name) {\r\n                        // false - override the shiftClick setting to use XML\r\n                        myself.exportProject(name, false);\r\n                    }, null, 'exportProject');\r\n                }\r\n            },\r\n            'show project data as XML\\nin a new browser window',\r\n            new Color(100, 0, 0)\r\n        );\r\n    }\r\n    menu.addItem(\r\n        shiftClicked ?\r\n                'Export project as plain text...' : 'Export project...',\r\n        function () {\r\n            if (myself.projectName) {\r\n                myself.exportProject(myself.projectName, shiftClicked);\r\n            } else {\r\n                myself.prompt('Export Project As...', function (name) {\r\n                    myself.exportProject(name, shiftClicked);\r\n                }, null, 'exportProject');\r\n            }\r\n        },\r\n        'save project data as XML\\nto your downloads folder',\r\n        shiftClicked ? new Color(100, 0, 0) : null\r\n    );\r\n\r\n    if (this.stage.globalBlocks.length) {\r\n        menu.addItem(\r\n            'Export blocks...',\r\n            function () {myself.exportGlobalBlocks(); },\r\n            'show global custom block definitions as XML' +\r\n                '\\nin a new browser window'\r\n        );\r\n        menu.addItem(\r\n            'Unused blocks...',\r\n            function () {myself.removeUnusedBlocks(); },\r\n            'find unused global custom blocks' +\r\n                '\\nand remove their definitions'\r\n        );\r\n    }\r\n\r\n    menu.addItem(\r\n        'Export summary...',\r\n        function () {myself.exportProjectSummary(); },\r\n        'open a new browser browser window\\n with a summary of this project'\r\n    );\r\n\r\n    if (shiftClicked) {\r\n        menu.addItem(\r\n            'Export summary with drop-shadows...',\r\n            function () {myself.exportProjectSummary(true); },\r\n            'open a new browser browser window' +\r\n                '\\nwith a summary of this project' +\r\n                '\\nwith drop-shadows on all pictures.' +\r\n                '\\nnot supported by all browsers',\r\n            new Color(100, 0, 0)\r\n        );\r\n        menu.addItem(\r\n            'Export all scripts as pic...',\r\n            function () {myself.exportScriptsPicture(); },\r\n            'show a picture of all scripts\\nand block definitions',\r\n            new Color(100, 0, 0)\r\n        );\r\n    }\r\n\r\n    menu.addLine();\r\n    menu.addItem(\r\n        'Import tools',\r\n        function () {\r\n            myself.getURL(\r\n                myself.resourceURL('tools.xml'),\r\n                function (txt) {\r\n                    myself.droppedText(txt, 'tools');\r\n                }\r\n            );\r\n        },\r\n        'load the official library of\\npowerful blocks'\r\n    );\r\n    menu.addItem(\r\n        'Libraries...',\r\n        function() {\r\n            myself.getURL(\r\n                myself.resourceURL('libraries', 'LIBRARIES'),\r\n                function (txt) {\r\n                    var libraries = myself.parseResourceFile(txt);\r\n                    new LibraryImportDialogMorph(myself, libraries).popUp();\r\n                }\r\n            );\r\n        },\r\n        'Select categories of additional blocks to add to this project.'\r\n    );\r\n\r\n    menu.addItem(\r\n        localize(graphicsName) + '...',\r\n        function () {\r\n            myself.importMedia(graphicsName);\r\n        },\r\n        'Select a costume from the media library'\r\n    );\r\n    menu.addItem(\r\n        localize('Sounds') + '...',\r\n        function () {\r\n            myself.importMedia('Sounds');\r\n        },\r\n        'Select a sound from the media library'\r\n    );\r\n\r\n    menu.popup(world, pos);\r\n};\r\n\r\nIDE_Morph.prototype.resourceURL = function () {\r\n    // Take in variadic inputs that represent an a nested folder structure.\r\n    // Method can be easily overridden if running in a custom location.\r\n    // Default Snap! simply returns a path (relative to snap.html)\r\n    var args = Array.prototype.slice.call(arguments, 0);\r\n    return args.join('/');\r\n};\r\n\r\nIDE_Morph.prototype.getMediaList = function (dirname, callback) {\r\n    // Invoke the given callback with a list of files in a directory\r\n    // based on the contents file.\r\n    // If no callback is specified, synchronously return the list of files\r\n    // Note: Synchronous fetching has been deprecated and should be switched\r\n    var url = this.resourceURL(dirname, dirname.toUpperCase()),\r\n        async = callback instanceof Function,\r\n        myself = this,\r\n        data;\r\n\r\n    function alphabetically(x, y) {\r\n        return x.name.toLowerCase() < y.name.toLowerCase() ? -1 : 1;\r\n    }\r\n\r\n    if (async) {\r\n        this.getURL(\r\n            url,\r\n            function (txt) {\r\n                var data = myself.parseResourceFile(txt);\r\n                data.sort(alphabetically);\r\n                callback.call(this, data);\r\n            }\r\n        );\r\n    } else {\r\n        data = this.parseResourceFile(this.getURL(url));\r\n        data.sort(alphabetically);\r\n        return data;\r\n    }\r\n};\r\n\r\nIDE_Morph.prototype.parseResourceFile = function (text) {\r\n    // A Resource File lists all the files that could be loaded in a submenu\r\n    // Examples are libraries/LIBRARIES, Costumes/COSTUMES, etc\r\n    // The file format is tab-delimited, with unix newlines:\r\n    // file-name, Display Name, Help Text (optional)\r\n    var parts,\r\n        items = [];\r\n\r\n    text.split('\\n').map(function (line) {\r\n        return line.trim();\r\n    }).filter(function (line) {\r\n        return line.length > 0;\r\n    }).forEach(function (line) {\r\n        parts = line.split('\\t').map(function (str) { return str.trim(); });\r\n\r\n        if (parts.length < 2) {return; }\r\n\r\n        items.push({\r\n            fileName: parts[0],\r\n            name: parts[1],\r\n            description: parts.length > 2 ? parts[2] : ''\r\n        });\r\n    });\r\n\r\n    return items;\r\n};\r\n\r\nIDE_Morph.prototype.importMedia = function (folderName) {\r\n    // open a dialog box letting the user browse available \"built-in\"\r\n    // costumes, backgrounds or sounds\r\n    var myself = this,\r\n        msg = this.showMessage('Opening ' + folderName + '...');\r\n    this.getMediaList(\r\n        folderName,\r\n        function (items) {\r\n            msg.destroy();\r\n            myself.popupMediaImportDialog(folderName, items);\r\n        }\r\n    );\r\n\r\n};\r\n\r\nIDE_Morph.prototype.popupMediaImportDialog = function (folderName, items) {\r\n    // private - this gets called by importMedia() and creates\r\n    // the actual dialog\r\n    var dialog = new DialogBoxMorph().withKey('import' + folderName),\r\n        frame = new ScrollFrameMorph(),\r\n        selectedIcon = null,\r\n        turtle = new SymbolMorph('turtle', 60),\r\n        myself = this,\r\n        world = this.world(),\r\n        handle;\r\n\r\n    frame.acceptsDrops = false;\r\n    frame.contents.acceptsDrops = false;\r\n    frame.color = myself.groupColor;\r\n    frame.fixLayout = nop;\r\n    dialog.labelString = folderName;\r\n    dialog.createLabel();\r\n    dialog.addBody(frame);\r\n    dialog.addButton('ok', 'Import');\r\n    dialog.addButton('cancel', 'Cancel');\r\n\r\n    dialog.ok = function () {\r\n        if (selectedIcon) {\r\n            if (selectedIcon.object instanceof Sound) {\r\n                myself.droppedAudio(\r\n                    selectedIcon.object.copy().audio,\r\n                    selectedIcon.labelString\r\n                );\r\n            } else if (selectedIcon.object instanceof SVG_Costume) {\r\n                myself.droppedSVG(\r\n                    selectedIcon.object.contents,\r\n                    selectedIcon.labelString\r\n                );\r\n            } else {\r\n                myself.droppedImage(\r\n                    selectedIcon.object.contents,\r\n                    selectedIcon.labelString\r\n                );\r\n            }\r\n        }\r\n    };\r\n\r\n    dialog.fixLayout = function () {\r\n        var th = fontHeight(this.titleFontSize) + this.titlePadding * 2,\r\n            x = 0,\r\n            y = 0,\r\n            fp, fw;\r\n        this.buttons.fixLayout();\r\n        this.body.setPosition(this.position().add(new Point(\r\n            this.padding,\r\n            th + this.padding\r\n        )));\r\n        this.body.setExtent(new Point(\r\n            this.width() - this.padding * 2,\r\n            this.height() - this.padding * 3 - th - this.buttons.height()\r\n        ));\r\n        fp = this.body.position();\r\n        fw = this.body.width();\r\n        frame.contents.children.forEach(function (icon) {\r\n              icon.setPosition(fp.add(new Point(x, y)));\r\n            x += icon.width();\r\n            if (x + icon.width() > fw) {\r\n                x = 0;\r\n                y += icon.height();\r\n            }\r\n        });\r\n        frame.contents.adjustBounds();\r\n        this.label.setCenter(this.center());\r\n        this.label.setTop(this.top() + (th - this.label.height()) / 2);\r\n        this.buttons.setCenter(this.center());\r\n        this.buttons.setBottom(this.bottom() - this.padding);\r\n    };\r\n\r\n    items.forEach(function (item) {\r\n        // Caution: creating very many thumbnails can take a long time!\r\n        var url = myself.resourceURL(folderName, item.fileName),\r\n            img = new Image(),\r\n            suffix = url.slice(url.lastIndexOf('.') + 1).toLowerCase(),\r\n            isSVG = suffix === 'svg' && !MorphicPreferences.rasterizeSVGs,\r\n            isSound = contains(['wav', 'mp3'], suffix),\r\n            cstTemplate,\r\n            sndTemplate,\r\n            icon;\r\n\r\n        if (isSound) {\r\n            sndTemplate = icon = new SoundIconMorph(\r\n                new Sound(new Audio(), item.name),\r\n                sndTemplate\r\n            );\r\n        } else {\r\n            cstTemplate = icon = new CostumeIconMorph(\r\n                new Costume(turtle.image, item.name),\r\n                cstTemplate\r\n            );\r\n        }\r\n        icon.isDraggable = false;\r\n        icon.userMenu = nop;\r\n        icon.action = function () {\r\n            if (selectedIcon === icon) {return; }\r\n            var prevSelected = selectedIcon;\r\n            selectedIcon = icon;\r\n            if (prevSelected) {prevSelected.refresh(); }\r\n        };\r\n        icon.doubleClickAction = dialog.ok;\r\n        icon.query = function () {\r\n            return icon === selectedIcon;\r\n        };\r\n        frame.addContents(icon);\r\n        if (isSound) {\r\n            icon.object.audio.onloadeddata = function () {\r\n                icon.createThumbnail();\r\n                icon.fixLayout();\r\n                icon.refresh();\r\n            };\r\n\r\n            icon.object.audio.src = url;\r\n            icon.object.audio.load();\r\n        } else if (isSVG) {\r\n            img.onload = function () {\r\n                icon.object = new SVG_Costume(img, item.name);\r\n                icon.refresh();\r\n            };\r\n            myself.getURL(\r\n                url,\r\n                function (txt) {\r\n                    img.src = 'data:image/svg+xml;base64,' +\r\n                         window.btoa(txt);\r\n                }\r\n            );\r\n        } else {\r\n            img.onload = function () {\r\n                var canvas = newCanvas(new Point(img.width, img.height), true);\r\n                canvas.getContext('2d').drawImage(img, 0, 0);\r\n                icon.object = new Costume(canvas, item.name);\r\n                icon.refresh();\r\n            };\r\n            img.src = url;\r\n        }\r\n    });\r\n    dialog.popUp(world);\r\n    dialog.setExtent(new Point(400, 300));\r\n    dialog.setCenter(world.center());\r\n    dialog.drawNew();\r\n\r\n    handle = new HandleMorph(\r\n        dialog,\r\n        300,\r\n        280,\r\n        dialog.corner,\r\n        dialog.corner\r\n    );\r\n};\r\n\r\n// IDE_Morph menu actions\r\n\r\nIDE_Morph.prototype.aboutSnap = function () {\r\n    var dlg, aboutTxt, noticeTxt, creditsTxt, versions = '', translations,\r\n        module, btn1, btn2, btn3, btn4, licenseBtn, translatorsBtn,\r\n        world = this.world();\r\n\r\n    aboutTxt = 'Snap! 4.1.1 - dev -\\nBuild Your Own Blocks\\n\\n'\r\n        + 'Copyright \\u24B8 2017 Jens M\\u00F6nig and '\r\n        + 'Brian Harvey\\n'\r\n        + 'jens@moenig.org, bh@cs.berkeley.edu\\n\\n'\r\n\r\n        + 'Snap! is developed by the University of California, Berkeley\\n'\r\n        + '          with support from the National Science Foundation (NSF), '\r\n        + 'MioSoft,          \\n'\r\n        + 'the Communications Design Group (CDG) at SAP Labs, and the\\n'\r\n        + 'Human Advancement Research Community (HARC) at YC Research.\\n'\r\n\r\n        + 'The design of Snap! is influenced and inspired by Scratch,\\n'\r\n        + 'from the Lifelong Kindergarten group at the MIT Media Lab\\n\\n'\r\n\r\n        + 'for more information see http://snap.berkeley.edu\\n'\r\n        + 'and http://scratch.mit.edu';\r\n\r\n    noticeTxt = localize('License')\r\n        + '\\n\\n'\r\n        + 'Snap! is free software: you can redistribute it and/or modify\\n'\r\n        + 'it under the terms of the GNU Affero General Public License as\\n'\r\n        + 'published by the Free Software Foundation, either version 3 of\\n'\r\n        + 'the License, or (at your option) any later version.\\n\\n'\r\n\r\n        + 'This program is distributed in the hope that it will be useful,\\n'\r\n        + 'but WITHOUT ANY WARRANTY; without even the implied warranty of\\n'\r\n        + 'MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\\n'\r\n        + 'GNU Affero General Public License for more details.\\n\\n'\r\n\r\n        + 'You should have received a copy of the\\n'\r\n        + 'GNU Affero General Public License along with this program.\\n'\r\n        + 'If not, see http://www.gnu.org/licenses/\\n\\n'\r\n\r\n        + 'Want to use Snap! but scared by the open-source license?\\n'\r\n        + 'Get in touch with us, we\\'ll make it work.';\r\n\r\n    creditsTxt = localize('Contributors')\r\n        + '\\n\\nNathan Dinsmore: Saving/Loading, Snap-Logo Design, '\r\n        + '\\ncountless bugfixes and optimizations'\r\n        + '\\nKartik Chandra: Paint Editor'\r\n        + '\\nMichael Ball: Time/Date UI, Library Import Dialog,'\r\n        + '\\ncountless bugfixes and optimizations'\r\n        + '\\nBartosz Leper: Retina Display Support'\r\n        + '\\nBernat Romagosa: Countless contributions'\r\n        + '\\n\"Ava\" Yuan Yuan, Dylan Servilla: Graphic Effects'\r\n        + '\\nKyle Hotchkiss: Block search design'\r\n        + '\\nBrian Broll: Many bugfixes and optimizations'\r\n        + '\\nIan Reynolds: UI Design, Event Bindings, '\r\n        + 'Sound primitives'\r\n        + '\\nIvan Motyashov: Initial Squeak Porting'\r\n        + '\\nLucas Karahadian: Piano Keyboard Design'\r\n        + '\\nDavide Della Casa: Morphic Optimizations'\r\n        + '\\nAchal Dave: Web Audio'\r\n        + '\\nJoe Otto: Morphic Testing and Debugging';\r\n\r\n    for (module in modules) {\r\n        if (Object.prototype.hasOwnProperty.call(modules, module)) {\r\n            versions += ('\\n' + module + ' (' +\r\n                            modules[module] + ')');\r\n        }\r\n    }\r\n    if (versions !== '') {\r\n        versions = localize('current module versions:') + ' \\n\\n' +\r\n            'morphic (' + morphicVersion + ')' +\r\n            versions;\r\n    }\r\n    translations = localize('Translations') + '\\n' + SnapTranslator.credits();\r\n\r\n    dlg = new DialogBoxMorph();\r\n    dlg.inform('About Snap', aboutTxt, world);\r\n    btn1 = dlg.buttons.children[0];\r\n    translatorsBtn = dlg.addButton(\r\n        function () {\r\n            dlg.body.text = translations;\r\n            dlg.body.drawNew();\r\n            btn1.show();\r\n            btn2.show();\r\n            btn3.hide();\r\n            btn4.hide();\r\n            licenseBtn.hide();\r\n            translatorsBtn.hide();\r\n            dlg.fixLayout();\r\n            dlg.drawNew();\r\n            dlg.setCenter(world.center());\r\n        },\r\n        'Translators...'\r\n    );\r\n    btn2 = dlg.addButton(\r\n        function () {\r\n            dlg.body.text = aboutTxt;\r\n            dlg.body.drawNew();\r\n            btn1.show();\r\n            btn2.hide();\r\n            btn3.show();\r\n            btn4.show();\r\n            licenseBtn.show();\r\n            translatorsBtn.hide();\r\n            dlg.fixLayout();\r\n            dlg.drawNew();\r\n            dlg.setCenter(world.center());\r\n        },\r\n        'Back...'\r\n    );\r\n    btn2.hide();\r\n    licenseBtn = dlg.addButton(\r\n        function () {\r\n            dlg.body.text = noticeTxt;\r\n            dlg.body.drawNew();\r\n            btn1.show();\r\n            btn2.show();\r\n            btn3.hide();\r\n            btn4.hide();\r\n            licenseBtn.hide();\r\n            translatorsBtn.hide();\r\n            dlg.fixLayout();\r\n            dlg.drawNew();\r\n            dlg.setCenter(world.center());\r\n        },\r\n        'License...'\r\n    );\r\n    btn3 = dlg.addButton(\r\n        function () {\r\n            dlg.body.text = versions;\r\n            dlg.body.drawNew();\r\n            btn1.show();\r\n            btn2.show();\r\n            btn3.hide();\r\n            btn4.hide();\r\n            licenseBtn.hide();\r\n            translatorsBtn.hide();\r\n            dlg.fixLayout();\r\n            dlg.drawNew();\r\n            dlg.setCenter(world.center());\r\n        },\r\n        'Modules...'\r\n    );\r\n    btn4 = dlg.addButton(\r\n        function () {\r\n            dlg.body.text = creditsTxt;\r\n            dlg.body.drawNew();\r\n            btn1.show();\r\n            btn2.show();\r\n            translatorsBtn.show();\r\n            btn3.hide();\r\n            btn4.hide();\r\n            licenseBtn.hide();\r\n            dlg.fixLayout();\r\n            dlg.drawNew();\r\n            dlg.setCenter(world.center());\r\n        },\r\n        'Credits...'\r\n    );\r\n    translatorsBtn.hide();\r\n    dlg.fixLayout();\r\n    dlg.drawNew();\r\n};\r\n\r\nIDE_Morph.prototype.editProjectNotes = function () {\r\n    var dialog = new DialogBoxMorph().withKey('projectNotes'),\r\n        frame = new ScrollFrameMorph(),\r\n        text = new TextMorph(this.projectNotes || ''),\r\n        ok = dialog.ok,\r\n        myself = this,\r\n        size = 250,\r\n        world = this.world();\r\n\r\n    frame.padding = 6;\r\n    frame.setWidth(size);\r\n    frame.acceptsDrops = false;\r\n    frame.contents.acceptsDrops = false;\r\n\r\n    text.setWidth(size - frame.padding * 2);\r\n    text.setPosition(frame.topLeft().add(frame.padding));\r\n    text.enableSelecting();\r\n    text.isEditable = true;\r\n\r\n    frame.setHeight(size);\r\n    frame.fixLayout = nop;\r\n    frame.edge = InputFieldMorph.prototype.edge;\r\n    frame.fontSize = InputFieldMorph.prototype.fontSize;\r\n    frame.typeInPadding = InputFieldMorph.prototype.typeInPadding;\r\n    frame.contrast = InputFieldMorph.prototype.contrast;\r\n    frame.drawNew = InputFieldMorph.prototype.drawNew;\r\n    frame.drawRectBorder = InputFieldMorph.prototype.drawRectBorder;\r\n\r\n    frame.addContents(text);\r\n    text.drawNew();\r\n\r\n    dialog.ok = function () {\r\n        myself.projectNotes = text.text;\r\n        ok.call(this);\r\n    };\r\n\r\n    dialog.justDropped = function () {\r\n        text.edit();\r\n    };\r\n\r\n    dialog.labelString = 'Project Notes';\r\n    dialog.createLabel();\r\n    dialog.addBody(frame);\r\n    frame.drawNew();\r\n    dialog.addButton('ok', 'OK');\r\n    dialog.addButton('cancel', 'Cancel');\r\n    dialog.fixLayout();\r\n    dialog.drawNew();\r\n    dialog.popUp(world);\r\n    dialog.setCenter(world.center());\r\n    text.edit();\r\n};\r\n\r\nIDE_Morph.prototype.newProject = function () {\r\n    this.source = SnapCloud.username ? 'cloud' : 'local';\r\n    if (this.stage) {\r\n        this.stage.destroy();\r\n    }\r\n    if (location.hash.substr(0, 6) !== '#lang:') {\r\n        location.hash = '';\r\n    }\r\n    this.globalVariables = new VariableFrame();\r\n    this.currentSprite = new SpriteMorph(this.globalVariables);\r\n    this.sprites = new List([this.currentSprite]);\r\n    StageMorph.prototype.dimensions = new Point(480, 360);\r\n    StageMorph.prototype.hiddenPrimitives = {};\r\n    StageMorph.prototype.codeMappings = {};\r\n    StageMorph.prototype.codeHeaders = {};\r\n    StageMorph.prototype.enableCodeMapping = false;\r\n    StageMorph.prototype.enableInheritance = true;\r\n    StageMorph.prototype.enableSublistIDs = false;\r\n    SpriteMorph.prototype.useFlatLineEnds = false;\r\n    Process.prototype.enableLiveCoding = false;\r\n    this.setProjectName('');\r\n    this.projectNotes = '';\r\n    this.createStage();\r\n    this.add(this.stage);\r\n    this.createCorral();\r\n    this.selectSprite(this.stage.children[0]);\r\n    this.fixLayout();\r\n};\r\n\r\nIDE_Morph.prototype.save = function () {\r\n  \r\n    if (this.source === 'examples') {\r\n        this.source = 'local'; // cannot save to examples\r\n    }\r\n    if (this.projectName) {\r\n        if (this.source === 'local') { // as well as 'examples'\r\n            this.saveProject(this.projectName);\r\n        } else { // 'cloud'\r\n            this.saveProjectToCloud(this.projectName);\r\n        }\r\n    } else {\r\n        this.saveProjectsBrowser();\r\n    }\r\n};\r\n\r\nIDE_Morph.prototype.saveProject = function (name) {\r\n  \r\n    var myself = this;\r\n    this.nextSteps([\r\n        function () {\r\n            myself.showMessage('Saving...');\r\n        },\r\n        function () {\r\n            myself.rawSaveProject(name);\r\n        }\r\n    ]);\r\n};\r\n\r\n// Serialize a project and save to the browser.\r\nIDE_Morph.prototype.rawSaveProject = function (name) {\r\n    var str; \r\n    if (name) {\r\n        this.setProjectName(name);\r\n        if (Process.prototype.isCatchingErrors) {\r\n            try {\r\n                localStorage['-snap-project-' + name]\r\n                    = str = this.serializer.serialize(this.stage); // Wiquid : Solution to save project \r\n                this.setURL('#open:' + str);\r\n                this.showMessage('Saved!', 1);\r\n                //stageSaver = this.serializer.serialize(this.stage);\r\n            } catch (err) {\r\n                this.showMessage('Save failed: ' + err);\r\n            }\r\n        } else {\r\n            localStorage['-snap-project-' + name]\r\n                = str = this.serializer.serialize(this.stage);\r\n            this.setURL('#open:' + str);\r\n            this.showMessage('Saved!', 1);\r\n            //stageSaver = this.serializer.serialize(this.stage);\r\n        }\r\n    }\r\n};\r\n\r\n\r\nIDE_Morph.prototype.exportProject = function (name, plain) {\r\n    // Export project XML, saving a file to disk\r\n    // newWindow requests displaying the project in a new tab.\r\n    var menu, str, dataPrefix;\r\n\r\n    if (name) {\r\n        this.setProjectName(name);\r\n        dataPrefix = 'data:text/' + plain ? 'plain,' : 'xml,';\r\n        try {\r\n            menu = this.showMessage('Exporting');\r\n            str = this.serializer.serialize(this.stage);\r\n            this.setURL('#open:' + dataPrefix + encodeURIComponent(str));\r\n            this.saveXMLAs(str, name);\r\n            menu.destroy();\r\n            this.showMessage('Exported!', 1);\r\n        } catch (err) {\r\n            if (Process.prototype.isCatchingErrors) {\r\n                this.showMessage('Export failed: ' + err);\r\n            } else {\r\n                throw err;\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nIDE_Morph.prototype.exportGlobalBlocks = function () {\r\n    if (this.stage.globalBlocks.length > 0) {\r\n        new BlockExportDialogMorph(\r\n            this.serializer,\r\n            this.stage.globalBlocks\r\n        ).popUp(this.world());\r\n    } else {\r\n        this.inform(\r\n            'Export blocks',\r\n            'this project doesn\\'t have any\\n'\r\n                + 'custom global blocks yet'\r\n        );\r\n    }\r\n};\r\n\r\nIDE_Morph.prototype.removeUnusedBlocks = function () {\r\n    var targets = this.sprites.asArray().concat([this.stage]),\r\n        globalBlocks = this.stage.globalBlocks,\r\n        unused = [],\r\n        isDone = false,\r\n        found;\r\n\r\n    function scan() {\r\n        return globalBlocks.filter(function (def) {\r\n            if (contains(unused, def)) {return false; }\r\n            return targets.every(function (each, trgIdx) {\r\n                return !(each.usesBlockInstance(def, true, trgIdx, unused));\r\n            });\r\n        });\r\n    }\r\n\r\n    while (!isDone) {\r\n        found = scan();\r\n        if (found.length) {\r\n            unused = unused.concat(found);\r\n        } else {\r\n            isDone = true;\r\n        }\r\n    }\r\n    if (unused.length > 0) {\r\n        new BlockRemovalDialogMorph(\r\n            unused,\r\n            this.stage\r\n        ).popUp(this.world());\r\n    } else {\r\n        this.inform(\r\n            'Remove unused blocks',\r\n            'there are currently no unused\\n'\r\n                + 'global custom blocks in this project'\r\n        );\r\n    }\r\n};\r\n\r\nIDE_Morph.prototype.exportSprite = function (sprite) {\r\n    var str = this.serializer.serialize(sprite.allParts());\r\n    str = '<sprites app=\"'\r\n        + this.serializer.app\r\n        + '\" version=\"'\r\n        + this.serializer.version\r\n        + '\">'\r\n        + str\r\n        + '</sprites>';\r\n    this.saveXMLAs(str, sprite.name);\r\n};\r\n\r\nIDE_Morph.prototype.exportScriptsPicture = function () {\r\n    var pics = [],\r\n        pic,\r\n        padding = 20,\r\n        w = 0,\r\n        h = 0,\r\n        y = 0,\r\n        ctx;\r\n\r\n    // collect all script pics\r\n    this.sprites.asArray().forEach(function (sprite) {\r\n        pics.push(sprite.image);\r\n        pics.push(sprite.scripts.scriptsPicture());\r\n        sprite.customBlocks.forEach(function (def) {\r\n            pics.push(def.scriptsPicture());\r\n        });\r\n    });\r\n    pics.push(this.stage.image);\r\n    pics.push(this.stage.scripts.scriptsPicture());\r\n    this.stage.customBlocks.forEach(function (def) {\r\n        pics.push(def.scriptsPicture());\r\n    });\r\n\r\n    // collect global block pics\r\n    this.stage.globalBlocks.forEach(function (def) {\r\n        pics.push(def.scriptsPicture());\r\n    });\r\n\r\n    pics = pics.filter(function (each) {return !isNil(each); });\r\n\r\n    // determine dimensions of composite\r\n    pics.forEach(function (each) {\r\n        w = Math.max(w, each.width);\r\n        h += (each.height);\r\n        h += padding;\r\n    });\r\n    h -= padding;\r\n    pic = newCanvas(new Point(w, h));\r\n    ctx = pic.getContext('2d');\r\n\r\n    // draw all parts\r\n    pics.forEach(function (each) {\r\n        ctx.drawImage(each, 0, y);\r\n        y += padding;\r\n        y += each.height;\r\n    });\r\n    this.saveCanvasAs(pic, this.projectName || localize('Untitled'));\r\n};\r\n\r\nIDE_Morph.prototype.exportProjectSummary = function (useDropShadows) {\r\n    var html, head, meta, css, body, pname, notes, toc, globalVars,\r\n        stage = this.stage;\r\n\r\n    function addNode(tag, node, contents) {\r\n        if (!node) {node = body; }\r\n        return new XML_Element(tag, contents, node);\r\n    }\r\n\r\n    function add(contents, tag, node) {\r\n        if (!tag) {tag = 'p'; }\r\n        if (!node) {node = body; }\r\n        return new XML_Element(tag, contents, node);\r\n    }\r\n\r\n    function addImage(canvas, node, inline) {\r\n        if (!node) {node = body; }\r\n        var para = !inline ? addNode('p', node) : null,\r\n            pic = addNode('img', para || node);\r\n        pic.attributes.src = canvas.toDataURL();\r\n        return pic;\r\n    }\r\n\r\n    function addVariables(varFrame) {\r\n        var names = varFrame.names().sort(),\r\n            isFirst = true,\r\n            ul;\r\n        if (names.length) {\r\n            add(localize('Variables'), 'h3');\r\n            names.forEach(function (name) {\r\n               \r\n                var watcher, listMorph, li, img;\r\n\r\n                if (isFirst) {\r\n                    ul = addNode('ul');\r\n                    isFirst = false;\r\n                }\r\n                li = addNode('li', ul);\r\n                watcher = new WatcherMorph(\r\n                    name,\r\n                    SpriteMorph.prototype.blockColor.variables,\r\n                    varFrame,\r\n                    name\r\n                );\r\n                listMorph = watcher.cellMorph.contentsMorph;\r\n                if (listMorph instanceof ListWatcherMorph) {\r\n                    listMorph.expand();\r\n                }\r\n                img = addImage(watcher.fullImageClassic(), li);\r\n                img.attributes.class = 'script';\r\n            });\r\n        }\r\n    }\r\n\r\n    function addBlocks(definitions) {\r\n        if (definitions.length) {\r\n            add(localize('Blocks'), 'h3');\r\n            SpriteMorph.prototype.categories.forEach(function (category) {\r\n                var isFirst = true,\r\n                    ul;\r\n                definitions.forEach(function (def) {\r\n                    var li, blockImg;\r\n                    if (def.category === category) {\r\n                        if (isFirst) {\r\n                            add(\r\n                                localize(\r\n                                    category[0].toUpperCase().concat(\r\n                                        category.slice(1)\r\n                                    )\r\n                                ),\r\n                                'h4'\r\n                            );\r\n                            ul = addNode('ul');\r\n                            isFirst = false;\r\n                        }\r\n                        li = addNode('li', ul);\r\n                        blockImg = addImage(\r\n                            def.templateInstance().scriptPic(),\r\n                            li\r\n                        );\r\n                        blockImg.attributes.class = 'script';\r\n                        def.sortedElements().forEach(function (script) {\r\n                            var defImg = addImage(\r\n                                script instanceof BlockMorph ?\r\n                                        script.scriptPic()\r\n                                                : script.fullImageClassic(),\r\n                                li\r\n                            );\r\n                            defImg.attributes.class = 'script';\r\n                        });\r\n                    }\r\n                });\r\n            });\r\n        }\r\n    }\r\n\r\n    pname = this.projectName || localize('untitled');\r\n\r\n    html = new XML_Element('html');\r\n    html.attributes.lang = SnapTranslator.language;\r\n    // html.attributes.contenteditable = 'true';\r\n\r\n    head = addNode('head', html);\r\n\r\n    meta = addNode('meta', head);\r\n    meta.attributes.charset = 'UTF-8';\r\n\r\n    if (useDropShadows) {\r\n        css = 'img {' +\r\n            'vertical-align: top;' +\r\n            'filter: drop-shadow(2px 2px 4px rgba(0,0,0,0.5));' +\r\n            '-webkit-filter: drop-shadow(2px 2px 4px rgba(0,0,0,0.5));' +\r\n            '-ms-filter: drop-shadow(2px 2px 4px rgba(0,0,0,0.5));' +\r\n            '}' +\r\n            '.toc {' +\r\n            'vertical-align: middle;' +\r\n            'padding: 2px 1em 2px 1em;' +\r\n            '}';\r\n    } else {\r\n        css = 'img {' +\r\n            'vertical-align: top;' +\r\n            '}' +\r\n            '.toc {' +\r\n            'vertical-align: middle;' +\r\n            'padding: 2px 1em 2px 1em;' +\r\n            '}' +\r\n            '.sprite {' +\r\n            'border: 1px solid lightgray;' +\r\n            '}';\r\n    }\r\n    addNode('style', head, css);\r\n\r\n    add(pname, 'title', head);\r\n\r\n\r\n    body = addNode('body', html);\r\n    add(pname, 'h1');\r\n\r\n    if (location.hash.indexOf('#present:') === 0) {\r\n        add(location.toString(), 'a', body).attributes.href =\r\n            location.toString();\r\n        addImage(\r\n            stage.thumbnail(stage.dimensions)\r\n        ).attributes.class = 'sprite';\r\n        add(this.serializer.app, 'h4');\r\n    } else {\r\n        add(this.serializer.app, 'h4');\r\n        addImage(\r\n            stage.thumbnail(stage.dimensions)\r\n        ).attributes.class = 'sprite';\r\n    }\r\n\r\n    // project notes\r\n    notes = Process.prototype.reportTextSplit(this.projectNotes, 'line');\r\n    notes.asArray().forEach(\r\n        function (paragraph) {add(paragraph); }\r\n    );\r\n\r\n    // table of contents\r\n    add(localize('Contents'), 'h4');\r\n    toc = addNode('ul');\r\n\r\n    // sprites & stage\r\n    this.sprites.asArray().concat([stage]).forEach(function (sprite) {\r\n        var tocEntry = addNode('li', toc),\r\n            scripts = sprite.scripts.sortedElements(),\r\n            cl = sprite.costumes.length(),\r\n            pic,\r\n            ol;\r\n\r\n        addNode('hr');\r\n        addImage(\r\n            sprite.thumbnail(new Point(40, 40)),\r\n            tocEntry,\r\n            true\r\n        ).attributes.class = 'toc';\r\n        add(sprite.name, 'a', tocEntry).attributes.href = '#' + sprite.name;\r\n\r\n        add(sprite.name, 'h2').attributes.id = sprite.name;\r\n        // if (sprite instanceof SpriteMorph || sprite.costume) {\r\n        pic = addImage(\r\n            sprite.thumbnail(sprite.extent().divideBy(stage.scale))\r\n        );\r\n        pic.attributes.class = 'sprite';\r\n        if (sprite instanceof SpriteMorph) {\r\n            if (sprite.exemplar) {\r\n                addImage(\r\n                    sprite.exemplar.thumbnail(new Point(40, 40)),\r\n                    add(localize('Kind of') + ' ' + sprite.exemplar.name),\r\n                    true\r\n                ).attributes.class = 'toc';\r\n            }\r\n            if (sprite.anchor) {\r\n                addImage(\r\n                    sprite.anchor.thumbnail(new Point(40, 40)),\r\n                    add(localize('Part of') + ' ' + sprite.anchor.name),\r\n                    true\r\n                ).attributes.class = 'toc';\r\n            }\r\n            if (sprite.parts.length) {\r\n                add(localize('Parts'), 'h3');\r\n                ol = addNode('ul');\r\n                sprite.parts.forEach(function (part) {\r\n                    var li = addNode('li', ol, part.name);\r\n                    addImage(part.thumbnail(new Point(40, 40)), li, true)\r\n                        .attributes.class = 'toc';\r\n                });\r\n            }\r\n        }\r\n\r\n        // costumes\r\n        if (cl > 1 || (sprite.getCostumeIdx() !== cl)) {\r\n            add(localize('Costumes'), 'h3');\r\n            ol = addNode('ol');\r\n            sprite.costumes.asArray().forEach(function (costume) {\r\n                var li = addNode('li', ol, costume.name);\r\n                addImage(costume.thumbnail(new Point(40, 40)), li, true)\r\n                    .attributes.class = 'toc';\r\n            });\r\n        }\r\n\r\n        // sounds\r\n        if (sprite.sounds.length()) {\r\n            add(localize('Sounds'), 'h3');\r\n            ol = addNode('ol');\r\n            sprite.sounds.asArray().forEach(function (sound) {\r\n                add(sound.name, 'li', ol);\r\n            });\r\n        }\r\n\r\n        // variables\r\n        addVariables(sprite.variables);\r\n\r\n        // scripts\r\n        if (scripts.length) {\r\n            add(localize('Scripts'), 'h3');\r\n            scripts.forEach(function (script) {\r\n                var img = addImage(script instanceof BlockMorph ?\r\n                        script.scriptPic()\r\n                                : script.fullImageClassic());\r\n                img.attributes.class = 'script';\r\n            });\r\n        }\r\n\r\n        // custom blocks\r\n        addBlocks(sprite.customBlocks);\r\n    });\r\n\r\n    // globals\r\n    globalVars = stage.globalVariables();\r\n    if (Object.keys(globalVars.vars).length || stage.globalBlocks.length) {\r\n        addNode('hr');\r\n        add(\r\n            localize('For all Sprites'),\r\n            'a',\r\n            addNode('li', toc)\r\n        ).attributes.href = '#global';\r\n        add(localize('For all Sprites'), 'h2').attributes.id = 'global';\r\n\r\n        // variables\r\n        addVariables(globalVars);\r\n\r\n        // custom blocks\r\n        addBlocks(stage.globalBlocks);\r\n    }\r\n\r\n    this.saveFileAs(\r\n        '<!DOCTYPE html>' + html.toString(),\r\n        'text/html;charset=utf-8',\r\n        pname\r\n    );\r\n};\r\n\r\nIDE_Morph.prototype.openProjectString = function (str) {\r\n    var msg,\r\n        myself = this;\r\n    this.nextSteps([\r\n        function () {\r\n            msg = myself.showMessage('Opening project...');\r\n        },\r\n        function () {nop(); }, // yield (bug in Chrome)\r\n        function () {\r\n            myself.rawOpenProjectString(str);\r\n        },\r\n        function () {\r\n            msg.destroy();\r\n        }\r\n    ]);\r\n};\r\n\r\nIDE_Morph.prototype.rawOpenProjectString = function (str) {\r\n    \r\n    this.toggleAppMode(false);\r\n    this.spriteBar.tabBar.tabTo('scripts');\r\n    StageMorph.prototype.hiddenPrimitives = {};\r\n    StageMorph.prototype.codeMappings = {};\r\n    StageMorph.prototype.codeHeaders = {};\r\n    StageMorph.prototype.enableCodeMapping = false;\r\n    StageMorph.prototype.enableInheritance = true;\r\n    StageMorph.prototype.enableSublistIDs = false;\r\n    Process.prototype.enableLiveCoding = false;\r\n    if (Process.prototype.isCatchingErrors) {\r\n        try {\r\n            this.serializer.openProject(\r\n                this.serializer.load(str, this),\r\n                this\r\n            ); \r\n        } catch (err) {\r\n            this.showMessage('Load failed: ' + err);\r\n        }\r\n    } else {\r\n        this.serializer.openProject(\r\n            this.serializer.load(str, this),\r\n            this\r\n        );\r\n    }\r\n    this.stopFastTracking();\r\n\r\n     getSnapProjectScript = str; \r\n     config.customSnapContext.trigger('rawDefinitionChange',[str]);\r\n     importString = str;// Needed for persistance in authoring\r\n     config.snapScript = str; // needed because in local scope it keeps init value\r\n};\r\n\r\n\r\nIDE_Morph.prototype.openBlocksString = function (str, name, silently) {\r\n    var msg,\r\n        myself = this;\r\n    this.nextSteps([\r\n        function () {\r\n            msg = myself.showMessage('Opening blocks...');\r\n        },\r\n        function () {nop(); }, // yield (bug in Chrome)\r\n        function () {\r\n            myself.rawOpenBlocksString(str, name, silently);\r\n        },\r\n        function () {\r\n            msg.destroy();\r\n        }\r\n    ]);\r\n};\r\n\r\nIDE_Morph.prototype.rawOpenBlocksString = function (str, name, silently) {\r\n    // name is optional (string), so is silently (bool)\r\n    var blocks,\r\n        myself = this;\r\n    if (Process.prototype.isCatchingErrors) {\r\n        try {\r\n            blocks = this.serializer.loadBlocks(str, myself.stage);\r\n            \r\n        } catch (err) {\r\n            this.showMessage('Load failed: ' + err);\r\n        }\r\n    } else {\r\n        blocks = this.serializer.loadBlocks(str, myself.stage);\r\n    }\r\n    if (silently) {\r\n        blocks.forEach(function (def) {\r\n            def.receiver = myself.stage;\r\n            myself.stage.globalBlocks.push(def);\r\n            myself.stage.replaceDoubleDefinitionsFor(def);\r\n        });\r\n        this.flushPaletteCache();\r\n        this.refreshPalette();\r\n        this.showMessage(\r\n            'Imported Blocks Module' + (name ? ': ' + name : '') + '.',\r\n            2\r\n        );\r\n    } else {\r\n        new BlockImportDialogMorph(blocks, this.stage, name).popUp();\r\n    }\r\n};\r\n\r\nIDE_Morph.prototype.openSpritesString = function (str) {\r\n    var msg,\r\n        myself = this;\r\n    this.nextSteps([\r\n        function () {\r\n            msg = myself.showMessage('Opening sprite...');\r\n        },\r\n        function () {nop(); }, // yield (bug in Chrome)\r\n        function () {\r\n            myself.rawOpenSpritesString(str);\r\n        },\r\n        function () {\r\n            msg.destroy();\r\n        }\r\n    ]);\r\n};\r\n\r\nIDE_Morph.prototype.rawOpenSpritesString = function (str) {\r\n    if (Process.prototype.isCatchingErrors) {\r\n        try {\r\n            this.serializer.loadSprites(str, this);\r\n        } catch (err) {\r\n            this.showMessage('Load failed: ' + err);\r\n        }\r\n    } else {\r\n        this.serializer.loadSprites(str, this);\r\n    }\r\n};\r\n\r\nIDE_Morph.prototype.openMediaString = function (str) {\r\n    if (Process.prototype.isCatchingErrors) {\r\n        try {\r\n            this.serializer.loadMedia(str);\r\n        } catch (err) {\r\n            this.showMessage('Load failed: ' + err);\r\n        }\r\n    } else {\r\n        this.serializer.loadMedia(str);\r\n    }\r\n    this.showMessage('Imported Media Module.', 2);\r\n};\r\n\r\nIDE_Morph.prototype.openScriptString = function (str) {\r\n    var msg,\r\n        myself = this;\r\n    this.nextSteps([\r\n        function () {\r\n            msg = myself.showMessage('Opening script...');\r\n        },\r\n        function () {nop(); }, // yield (bug in Chrome)\r\n        function () {\r\n            myself.rawOpenScriptString(str);\r\n        },\r\n        function () {\r\n            msg.destroy();\r\n        }\r\n    ]);\r\n};\r\n\r\nIDE_Morph.prototype.rawOpenScriptString = function (str) {\r\n    var xml,\r\n        script,\r\n        scripts = this.currentSprite.scripts;\r\n\r\n    if (Process.prototype.isCatchingErrors) {\r\n        try {\r\n            xml = this.serializer.parse(str, this.currentSprite);\r\n            script = this.serializer.loadScript(xml, this.currentSprite);\r\n        } catch (err) {\r\n            this.showMessage('Load failed: ' + err);\r\n        }\r\n    } else {\r\n        xml = this.serializer.loadScript(str, this.currentSprite);\r\n        script = this.serializer.loadScript(xml, this.currentSprite);\r\n    }\r\n    script.setPosition(this.world().hand.position());\r\n    scripts.add(script);\r\n    scripts.adjustBounds();\r\n    scripts.lastDroppedBlock = script;\r\n    scripts.recordDrop(\r\n\t\t{\r\n            origin: this.palette,\r\n            position: this.palette.center()\r\n        }\r\n    );\r\n    this.showMessage(\r\n        'Imported Script.',\r\n        2\r\n    );\r\n};\r\n\r\nIDE_Morph.prototype.openProject = function (name) {\r\n    var str;\r\n    if (name) {\r\n        this.showMessage('opening project\\n' + name);\r\n        this.setProjectName(name);\r\n        str = localStorage['-snap-project-' + name];\r\n        this.openProjectString(str);\r\n        this.setURL('#open:' + str);\r\n    }\r\n};\r\n\r\nIDE_Morph.prototype.setURL = function (str) {\r\n    // Set the URL to a project's XML contents\r\n    if (this.projectsInURLs) {\r\n        location.hash = str;\r\n    }\r\n};\r\n\r\nIDE_Morph.prototype.saveFileAs = function (\r\n    contents,\r\n    fileType,\r\n    fileName\r\n) {\r\n    /** Allow for downloading a file to a disk.\r\n        This relies the FileSaver.js library which exports saveAs()\r\n        Two utility methods saveImageAs and saveXMLAs should be used first.\r\n    */\r\n    var blobIsSupported = false,\r\n        world = this.world(),\r\n        fileExt,\r\n        dialog;\r\n\r\n    // fileType is a <kind>/<ext>;<charset> format.\r\n    fileExt = fileType.split('/')[1].split(';')[0];\r\n    // handle text/plain as a .txt file\r\n    fileExt = '.' + (fileExt === 'plain' ? 'txt' : fileExt);\r\n\r\n    function dataURItoBlob(text, mimeType) {\r\n        var i,\r\n            data = text,\r\n            components = text.split(','),\r\n            hasTypeStr = text.indexOf('data:') === 0;\r\n        // Convert to binary data, in format Blob() can use.\r\n        if (hasTypeStr && components[0].indexOf('base64') > -1) {\r\n            text = atob(components[1]);\r\n            data = new Uint8Array(text.length);\r\n            i = text.length;\r\n            while (i--) {\r\n                data[i] = text.charCodeAt(i);\r\n            }\r\n        }\r\n        return new Blob([data], {type: mimeType });\r\n    }\r\n\r\n    try {\r\n        blobIsSupported = !!new Blob();\r\n    } catch (e) {}\r\n\r\n    if (blobIsSupported) {\r\n        if (!(contents instanceof Blob)) {\r\n            contents = dataURItoBlob(contents, fileType);\r\n        }\r\n        // download a file and delegate to FileSaver\r\n        // false: Do not preprend a BOM to the file.\r\n        saveAs(contents, fileName + fileExt, false);\r\n    } else {\r\n        dialog = new DialogBoxMorph();\r\n        dialog.inform(\r\n            localize('Could not export') + ' ' + fileName,\r\n            'unable to export text',\r\n            world\r\n        );\r\n        dialog.fixLayout();\r\n        dialog.drawNew();\r\n    }\r\n};\r\n\r\nIDE_Morph.prototype.saveCanvasAs = function (canvas, fileName) {\r\n    // Export a Canvas object as a PNG image\r\n    // Note: This commented out due to poor browser support.\r\n    // cavas.toBlob() is currently supported in Firefox, IE, Chrome but\r\n    // browsers prevent easily saving the generated files.\r\n    // Do not re-enable without revisiting issue #1191\r\n    // if (canvas.toBlob) {\r\n    //     var myself = this;\r\n    //     canvas.toBlob(function (blob) {\r\n    //         myself.saveFileAs(blob, 'image/png', fileName);\r\n    //     });\r\n    //     return;\r\n    // }\r\n\r\n    this.saveFileAs(canvas.toDataURL(), 'image/png', fileName);\r\n};\r\n\r\nIDE_Morph.prototype.saveXMLAs = function(xml, fileName) {\r\n    // wrapper to saving XML files with a proper type tag.\r\n    this.saveFileAs(xml, 'text/xml;chartset=utf-8', fileName);\r\n};\r\n\r\nIDE_Morph.prototype.switchToUserMode = function () {\r\n    var world = this.world();\r\n\r\n    world.isDevMode = false;\r\n    Process.prototype.isCatchingErrors = true;\r\n    this.controlBar.updateLabel();\r\n    this.isAutoFill = true;\r\n    this.isDraggable = false;\r\n    this.reactToWorldResize(world.bounds.copy());\r\n    this.siblings().forEach(function (morph) {\r\n        if (morph instanceof DialogBoxMorph) {\r\n            world.add(morph); // bring to front\r\n        } else {\r\n            morph.destroy();\r\n        }\r\n    });\r\n    this.flushBlocksCache();\r\n    this.refreshPalette();\r\n    // prevent non-DialogBoxMorphs from being dropped\r\n    // onto the World in user-mode\r\n    world.reactToDropOf = function (morph) {\r\n        if (!(morph instanceof DialogBoxMorph)) {\r\n            if (world.hand.grabOrigin) {\r\n                morph.slideBackTo(world.hand.grabOrigin);\r\n            } else {\r\n                world.hand.grab(morph);\r\n            }\r\n        }\r\n    };\r\n    this.showMessage('entering user mode', 1);\r\n\r\n};\r\n\r\nIDE_Morph.prototype.switchToDevMode = function () {\r\n    var world = this.world();\r\n\r\n    world.isDevMode = true;\r\n    Process.prototype.isCatchingErrors = false;\r\n    this.controlBar.updateLabel();\r\n    this.isAutoFill = false;\r\n    this.isDraggable = true;\r\n    this.setExtent(world.extent().subtract(100));\r\n    this.setPosition(world.position().add(20));\r\n    this.flushBlocksCache();\r\n    this.refreshPalette();\r\n    // enable non-DialogBoxMorphs to be dropped\r\n    // onto the World in dev-mode\r\n    delete world.reactToDropOf;\r\n    this.showMessage(\r\n        'entering development mode.\\n\\n'\r\n            + 'error catching is turned off,\\n'\r\n            + 'use the browser\\'s web console\\n'\r\n            + 'to see error messages.'\r\n    );\r\n};\r\n\r\nIDE_Morph.prototype.flushBlocksCache = function (category) {\r\n    // if no category is specified, the whole cache gets flushed\r\n    if (category) {\r\n        this.stage.blocksCache[category] = null;\r\n        this.stage.children.forEach(function (m) {\r\n            if (m instanceof SpriteMorph) {\r\n                m.blocksCache[category] = null;\r\n            }\r\n        });\r\n    } else {\r\n        this.stage.blocksCache = {};\r\n        this.stage.children.forEach(function (m) {\r\n            if (m instanceof SpriteMorph) {\r\n                m.blocksCache = {};\r\n            }\r\n        });\r\n    }\r\n    this.flushPaletteCache(category);\r\n};\r\n\r\nIDE_Morph.prototype.flushPaletteCache = function (category) {\r\n    // if no category is specified, the whole cache gets flushed\r\n    if (category) {\r\n        this.stage.paletteCache[category] = null;\r\n        this.stage.children.forEach(function (m) {\r\n            if (m instanceof SpriteMorph) {\r\n                m.paletteCache[category] = null;\r\n            }\r\n        });\r\n    } else {\r\n        this.stage.paletteCache = {};\r\n        this.stage.children.forEach(function (m) {\r\n            if (m instanceof SpriteMorph) {\r\n                m.paletteCache = {};\r\n            }\r\n        });\r\n    }\r\n};\r\n\r\nIDE_Morph.prototype.toggleZebraColoring = function () {\r\n    var scripts = [];\r\n\r\n    if (!BlockMorph.prototype.zebraContrast) {\r\n        BlockMorph.prototype.zebraContrast = 40;\r\n    } else {\r\n        BlockMorph.prototype.zebraContrast = 0;\r\n    }\r\n\r\n    // select all scripts:\r\n    this.stage.children.concat(this.stage).forEach(function (morph) {\r\n        if (isSnapObject(morph)) {\r\n            scripts = scripts.concat(\r\n                morph.scripts.children.filter(function (morph) {\r\n                    return morph instanceof BlockMorph;\r\n                })\r\n            );\r\n        }\r\n    });\r\n\r\n    // force-update all scripts:\r\n    scripts.forEach(function (topBlock) {\r\n        topBlock.fixBlockColor(null, true);\r\n    });\r\n};\r\n\r\nIDE_Morph.prototype.toggleDynamicInputLabels = function () {\r\n    var projectData;\r\n    SyntaxElementMorph.prototype.dynamicInputLabels =\r\n        !SyntaxElementMorph.prototype.dynamicInputLabels;\r\n    if (Process.prototype.isCatchingErrors) {\r\n        try {\r\n            projectData = this.serializer.serialize(this.stage);\r\n        } catch (err) {\r\n            this.showMessage('Serialization failed: ' + err);\r\n        }\r\n    } else {\r\n        projectData = this.serializer.serialize(this.stage);\r\n    }\r\n    SpriteMorph.prototype.initBlocks();\r\n    this.spriteBar.tabBar.tabTo('scripts');\r\n    this.createCategories();\r\n    this.createCorralBar();\r\n    this.openProjectString(projectData);\r\n};\r\n\r\nIDE_Morph.prototype.toggleBlurredShadows = function () {\r\n    window.useBlurredShadows = !useBlurredShadows;\r\n};\r\n\r\nIDE_Morph.prototype.toggleLongFormInputDialog = function () {\r\n    InputSlotDialogMorph.prototype.isLaunchingExpanded =\r\n        !InputSlotDialogMorph.prototype.isLaunchingExpanded;\r\n    if (InputSlotDialogMorph.prototype.isLaunchingExpanded) {\r\n        this.saveSetting('longform', true);\r\n    } else {\r\n        this.removeSetting('longform');\r\n    }\r\n};\r\n\r\nIDE_Morph.prototype.togglePlainPrototypeLabels = function () {\r\n    BlockLabelPlaceHolderMorph.prototype.plainLabel =\r\n        !BlockLabelPlaceHolderMorph.prototype.plainLabel;\r\n    if (BlockLabelPlaceHolderMorph.prototype.plainLabel) {\r\n        this.saveSetting('plainprototype', true);\r\n    } else {\r\n        this.removeSetting('plainprototype');\r\n    }\r\n};\r\n\r\nIDE_Morph.prototype.togglePreferEmptySlotDrops = function () {\r\n    ScriptsMorph.prototype.isPreferringEmptySlots =\r\n        !ScriptsMorph.prototype.isPreferringEmptySlots;\r\n};\r\n\r\nIDE_Morph.prototype.toggleVirtualKeyboard = function () {\r\n    MorphicPreferences.useVirtualKeyboard =\r\n        !MorphicPreferences.useVirtualKeyboard;\r\n};\r\n\r\nIDE_Morph.prototype.toggleInputSliders = function () {\r\n    MorphicPreferences.useSliderForInput =\r\n        !MorphicPreferences.useSliderForInput;\r\n};\r\n\r\nIDE_Morph.prototype.toggleSliderExecute = function () {\r\n    ArgMorph.prototype.executeOnSliderEdit =\r\n        !ArgMorph.prototype.executeOnSliderEdit;\r\n};\r\n\r\nIDE_Morph.prototype.toggleAppMode = function (appMode) {\r\n    var world = this.world(),\r\n        elements = [\r\n            this.logo,\r\n            this.controlBar.cloudButton,\r\n            this.controlBar.projectButton,\r\n            this.controlBar.settingsButton,\r\n            this.controlBar.steppingButton,\r\n            this.controlBar.stageSizeButton,\r\n            this.paletteHandle,\r\n            this.stageHandle,\r\n            this.corral,\r\n            this.corralBar,\r\n            this.spriteEditor,\r\n            this.spriteBar,\r\n            this.palette,\r\n            this.categories\r\n        ];\r\n\r\n    this.isAppMode = isNil(appMode) ? !this.isAppMode : appMode;\r\n\r\n    Morph.prototype.trackChanges = false;\r\n    if (this.isAppMode) {\r\n\t\tthis.wasSingleStepping = Process.prototype.enableSingleStepping;\r\n\t\tif (this.wasSingleStepping) {\r\n     \t\tthis.toggleSingleStepping();\r\n    \t}\r\n        this.setColor(this.appModeColor);\r\n        this.controlBar.setColor(this.color);\r\n        this.controlBar.appModeButton.refresh();\r\n        elements.forEach(function (e) {\r\n            e.hide();\r\n        });\r\n        world.children.forEach(function (morph) {\r\n            if (morph instanceof DialogBoxMorph) {\r\n                morph.hide();\r\n            }\r\n        });\r\n        if (world.keyboardReceiver instanceof ScriptFocusMorph) {\r\n            world.keyboardReceiver.stopEditing();\r\n        }\r\n    } else {\r\n        if (this.wasSingleStepping && !Process.prototype.enableSingleStepping) {\r\n             this.toggleSingleStepping();\r\n        }\r\n        this.setColor(this.backgroundColor);\r\n        this.controlBar.setColor(this.frameColor);\r\n        elements.forEach(function (e) {\r\n            e.show();\r\n        });\r\n        this.stage.setScale(1);\r\n        // show all hidden dialogs\r\n        world.children.forEach(function (morph) {\r\n            if (morph instanceof DialogBoxMorph) {\r\n                morph.show();\r\n            }\r\n        });\r\n        // prevent scrollbars from showing when morph appears\r\n        world.allChildren().filter(function (c) {\r\n            return c instanceof ScrollFrameMorph;\r\n        }).forEach(function (s) {\r\n            s.adjustScrollBars();\r\n        });\r\n        // prevent rotation and draggability controls from\r\n        // showing for the stage\r\n        if (this.currentSprite === this.stage) {\r\n            this.spriteBar.children.forEach(function (child) {\r\n                if (child instanceof PushButtonMorph) {\r\n                    child.hide();\r\n                }\r\n            });\r\n        }\r\n        // update undrop controls\r\n        this.currentSprite.scripts.updateToolbar();\r\n    }\r\n    this.setExtent(this.world().extent()); // resume trackChanges\r\n};\r\n\r\nIDE_Morph.prototype.toggleStageSize = function (isSmall, forcedRatio) {\r\n    var myself = this,\r\n        smallRatio = forcedRatio || 0.5,\r\n        msecs = this.isAnimating ? 100 : 0,\r\n        world = this.world(),\r\n        shiftClicked = (world.currentKey === 16),\r\n        altClicked = (world.currentKey === 18);\r\n\r\n    function toggle() {\r\n        myself.isSmallStage = isNil(isSmall) ? !myself.isSmallStage : isSmall;\r\n    }\r\n\r\n    function zoomTo(targetRatio) {\r\n        myself.isSmallStage = true;\r\n        world.animations.push(new Animation(\r\n            function (ratio) {\r\n                myself.stageRatio = ratio;\r\n                myself.setExtent(world.extent());\r\n            },\r\n            function () {\r\n                return myself.stageRatio;\r\n            },\r\n            targetRatio - myself.stageRatio,\r\n            msecs,\r\n            null, // easing\r\n            function () {\r\n                myself.isSmallStage = (targetRatio !== 1);\r\n                myself.controlBar.stageSizeButton.refresh();\r\n            }\r\n        ));\r\n    }\r\n\r\n    if (shiftClicked) {\r\n        smallRatio = SpriteIconMorph.prototype.thumbSize.x * 3 /\r\n            this.stage.dimensions.x;\r\n        if (!this.isSmallStage || (smallRatio === this.stageRatio)) {\r\n            toggle();\r\n        }\r\n    } else if (altClicked) {\r\n        smallRatio = this.width() / 2 /\r\n            this.stage.dimensions.x;\r\n        if (!this.isSmallStage || (smallRatio === this.stageRatio)) {\r\n            toggle();\r\n        }\r\n    } else {\r\n        toggle();\r\n    }\r\n    if (this.isSmallStage) {\r\n        zoomTo(smallRatio);\r\n    } else {\r\n        zoomTo(1);\r\n    }\r\n};\r\n\r\nIDE_Morph.prototype.setPaletteWidth = function (newWidth) {\r\n    var msecs = this.isAnimating ? 100 : 0,\r\n        world = this.world(),\r\n        myself = this;\r\n\r\n    world.animations.push(new Animation(\r\n        function (newWidth) {\r\n            myself.paletteWidth = newWidth;\r\n            myself.setExtent(world.extent());\r\n        },\r\n        function () {\r\n            return myself.paletteWidth;\r\n        },\r\n        newWidth - myself.paletteWidth,\r\n        msecs\r\n    ));\r\n};\r\n\r\nIDE_Morph.prototype.createNewProject = function () {\r\n    var myself = this;\r\n    this.confirm(\r\n        'Replace the current project with a new one?',\r\n        'New Project',\r\n        function () {myself.newProject(); }\r\n    );\r\n};\r\n\r\nIDE_Morph.prototype.openProjectsBrowser = function () {\r\n    new ProjectDialogMorph(this, 'open').popUp();\r\n};\r\n\r\nIDE_Morph.prototype.saveProjectsBrowser = function () {\r\n    if (this.source === 'examples') {\r\n        this.source = 'local'; // cannot save to examples\r\n    }\r\n    new ProjectDialogMorph(this, 'save').popUp();\r\n};\r\n\r\n// IDE_Morph localization\r\n\r\nIDE_Morph.prototype.languageMenu = function () {\r\n    var menu = new MenuMorph(this),\r\n        world = this.world(),\r\n        pos = this.controlBar.settingsButton.bottomLeft(),\r\n        myself = this;\r\n    SnapTranslator.languages().forEach(function (lang) {\r\n        menu.addItem(\r\n            (SnapTranslator.language === lang ? '\\u2713 ' : '    ') +\r\n                SnapTranslator.languageName(lang),\r\n            function () {\r\n                myself.loadNewProject = false;\r\n                myself.setLanguage(lang);\r\n            }\r\n        );\r\n    });\r\n    menu.popup(world, pos);\r\n};\r\n\r\n//********************Wiquid************************\r\n\r\nIDE_Morph.prototype.setLanguage = function (lang, callback) {\r\n    \r\n    if(getSnapProjectScript != \"scriptPlaceHolder\"){importString = getSnapProjectScript;}\r\n      this.openDefaultProject(importString); //Wiquid SOLUTION.\r\n     \r\n       //Both importString and getsnapprojectScript are needed to keep the project chosen in authoring even if options are changing.  \r\n    \r\n       \r\n};\r\n\r\nIDE_Morph.prototype.openDefaultProject = function (impString){\r\n\r\n    var str = impString; //Wiquid Solution \r\n           if(impString != \"\"){this.openProjectString(str);\r\n        }\r\n               \r\n} \r\n\r\n//***************************************************\r\n\r\nIDE_Morph.prototype.reflectLanguage = function (lang, callback) {\r\n    var projectData,\r\n        urlBar = location.hash;\r\n    SnapTranslator.language = lang;\r\n    if (!this.loadNewProject) {\r\n        if (Process.prototype.isCatchingErrors) {\r\n            try {\r\n                projectData = this.serializer.serialize(this.stage);\r\n            } catch (err) {\r\n                this.showMessage('Serialization failed: ' + err);\r\n            }\r\n        } else {\r\n            projectData = this.serializer.serialize(this.stage);\r\n        }\r\n    }\r\n    SpriteMorph.prototype.initBlocks();\r\n    this.spriteBar.tabBar.tabTo('scripts');\r\n    this.createCategories();\r\n    this.createCorralBar();\r\n    this.fixLayout();\r\n    if (this.loadNewProject) {\r\n        this.newProject();\r\n        location.hash = urlBar;\r\n    } else {\r\n        this.openProjectString(projectData);\r\n    }\r\n    this.saveSetting('language', lang);\r\n    if (callback) {callback.call(this); }\r\n};\r\n\r\n// IDE_Morph blocks scaling\r\n\r\nIDE_Morph.prototype.userSetBlocksScale = function () {\r\n    var myself = this,\r\n        scrpt,\r\n        blck,\r\n        shield,\r\n        sample,\r\n        action;\r\n\r\n    scrpt = new CommandBlockMorph();\r\n    scrpt.color = SpriteMorph.prototype.blockColor.motion;\r\n    scrpt.setSpec(localize('build'));\r\n    blck = new CommandBlockMorph();\r\n    blck.color = SpriteMorph.prototype.blockColor.sound;\r\n    blck.setSpec(localize('your own'));\r\n    scrpt.nextBlock(blck);\r\n    blck = new CommandBlockMorph();\r\n    blck.color = SpriteMorph.prototype.blockColor.operators;\r\n    blck.setSpec(localize('blocks'));\r\n    scrpt.bottomBlock().nextBlock(blck);\r\n   \r\n\r\n    sample = new FrameMorph();\r\n    sample.acceptsDrops = false;\r\n    sample.color = IDE_Morph.prototype.groupColor;\r\n    sample.cachedTexture = this.scriptsPaneTexture;\r\n    sample.setExtent(new Point(250, 180));\r\n    scrpt.setPosition(sample.position().add(10));\r\n    sample.add(scrpt);\r\n\r\n    shield = new Morph();\r\n    shield.alpha = 0;\r\n    shield.setExtent(sample.extent());\r\n    shield.setPosition(sample.position());\r\n    sample.add(shield);\r\n\r\n    action = function (num) {\r\n    \r\n        scrpt.blockSequence().forEach(function (block) {\r\n            block.setScale(num);\r\n            block.drawNew();\r\n            block.setSpec(block.blockSpec);\r\n        });\r\n        scrpt.changed();\r\n    };\r\n\r\n    new DialogBoxMorph(\r\n        null,\r\n        function (num) {\r\n            myself.setBlocksScale(Math.min(num, 12));\r\n        }\r\n    ).withKey('zoomBlocks').prompt(\r\n        'Zoom blocks',\r\n        SyntaxElementMorph.prototype.scale.toString(),\r\n        this.world(),\r\n        sample, // pic\r\n        {\r\n            'normal (1x)' : 1,\r\n            'demo (1.2x)' : 1.2,\r\n            'presentation (1.4x)' : 1.4,\r\n            'big (2x)' : 2,\r\n            'huge (4x)' : 4,\r\n            'giant (8x)' : 8,\r\n            'monstrous (10x)' : 10\r\n        },\r\n        false, // read only?\r\n        true, // numeric\r\n        1, // slider min\r\n        12, // slider max\r\n        action // slider action\r\n    );\r\n};\r\n\r\nIDE_Morph.prototype.setBlocksScale = function (num) {\r\n    var projectData;\r\n    if (Process.prototype.isCatchingErrors) {\r\n        try {\r\n            projectData = this.serializer.serialize(this.stage);\r\n        } catch (err) {\r\n            this.showMessage('Serialization failed: ' + err);\r\n        }\r\n    } else {\r\n        projectData = this.serializer.serialize(this.stage);\r\n    }\r\n    SyntaxElementMorph.prototype.setScale(num);\r\n    CommentMorph.prototype.refreshScale();\r\n    SpriteMorph.prototype.initBlocks();\r\n    this.spriteBar.tabBar.tabTo('scripts');\r\n    this.createCategories();\r\n    this.createCorralBar();\r\n    this.fixLayout();\r\n    this.openProjectString(projectData);\r\n    this.saveSetting('zoom', num);\r\n};\r\n\r\n// IDE_Morph stage size manipulation\r\n\r\nIDE_Morph.prototype.userSetStageSize = function () {\r\n    new DialogBoxMorph(\r\n        this,\r\n        this.setStageExtent,\r\n        this\r\n    ).promptVector(\r\n        \"Stage size\",\r\n        StageMorph.prototype.dimensions,\r\n        new Point(480, 360),\r\n        'Stage width',\r\n        'Stage height',\r\n        this.world(),\r\n        null, // pic\r\n        null // msg\r\n    );\r\n};\r\n\r\nIDE_Morph.prototype.setStageExtent = function (aPoint) {\r\n    var myself = this,\r\n        world = this.world(),\r\n        ext = aPoint.max(new Point(240, 180));\r\n\r\n    function zoom() {\r\n        myself.step = function () {\r\n            var delta = ext.subtract(\r\n                StageMorph.prototype.dimensions\r\n            ).divideBy(2);\r\n            if (delta.abs().lt(new Point(5, 5))) {\r\n                StageMorph.prototype.dimensions = ext;\r\n                delete myself.step;\r\n            } else {\r\n                StageMorph.prototype.dimensions =\r\n                    StageMorph.prototype.dimensions.add(delta);\r\n            }\r\n            myself.stage.setExtent(StageMorph.prototype.dimensions);\r\n            myself.stage.clearPenTrails();\r\n            myself.fixLayout();\r\n            this.setExtent(world.extent());\r\n        };\r\n    }\r\n\r\n    this.stageRatio = 1;\r\n    this.isSmallStage = false;\r\n    this.controlBar.stageSizeButton.refresh();\r\n    this.setExtent(world.extent());\r\n    if (this.isAnimating) {\r\n        zoom();\r\n    } else {\r\n        StageMorph.prototype.dimensions = ext;\r\n        this.stage.setExtent(StageMorph.prototype.dimensions);\r\n        this.stage.clearPenTrails();\r\n        this.fixLayout();\r\n        this.setExtent(world.extent());\r\n    }\r\n};\r\n\r\n// IDE_Morph dragging threshold (internal feature)\r\n\r\nIDE_Morph.prototype.userSetDragThreshold = function () {\r\n    new DialogBoxMorph(\r\n        this,\r\n        function (num) {\r\n            MorphicPreferences.grabThreshold = Math.min(\r\n                Math.max(+num, 0),\r\n                200\r\n            );\r\n        },\r\n        this\r\n    ).prompt(\r\n        \"Dragging threshold\",\r\n        MorphicPreferences.grabThreshold.toString(),\r\n        this.world(),\r\n        null, // pic\r\n        null, // choices\r\n        null, // read only\r\n        true // numeric\r\n    );\r\n};\r\n\r\n// IDE_Morph cloud interface\r\n\r\nIDE_Morph.prototype.initializeCloud = function () {\r\n    var myself = this,\r\n        world = this.world();\r\n    new DialogBoxMorph(\r\n        null,\r\n        function (user) {\r\n            var pwh = hex_sha512(user.password),\r\n                str;\r\n            SnapCloud.login(\r\n                user.username,\r\n                pwh,\r\n                function () {\r\n                    if (user.choice) {\r\n                        str = SnapCloud.encodeDict(\r\n                            {\r\n                                username: user.username,\r\n                                password: pwh\r\n                            }\r\n                        );\r\n                        localStorage['-snap-user'] = str;\r\n                    }\r\n                    myself.source = 'cloud';\r\n                    myself.showMessage('now connected.', 2);\r\n                },\r\n                myself.cloudError()\r\n            );\r\n        }\r\n    ).withKey('cloudlogin').promptCredentials(\r\n        'Sign in',\r\n        'login',\r\n        null,\r\n        null,\r\n        null,\r\n        null,\r\n        'stay signed in on this computer\\nuntil logging out',\r\n        world,\r\n        myself.cloudIcon(),\r\n        myself.cloudMsg\r\n    );\r\n};\r\n\r\nIDE_Morph.prototype.createCloudAccount = function () {\r\n    var myself = this,\r\n        world = this.world();\r\n/*\r\n    // force-logout, commented out for now:\r\n    delete localStorage['-snap-user'];\r\n    SnapCloud.clear();\r\n*/\r\n    new DialogBoxMorph(\r\n        null,\r\n        function (user) {\r\n            SnapCloud.signup(\r\n                user.username,\r\n                user.email,\r\n                function (txt, title) {\r\n                    new DialogBoxMorph().inform(\r\n                        title,\r\n                        txt +\r\n                            '.\\n\\nAn e-mail with your password\\n' +\r\n                            'has been sent to the address provided',\r\n                        world,\r\n                        myself.cloudIcon(null, new Color(0, 180, 0))\r\n                    );\r\n                },\r\n                myself.cloudError()\r\n            );\r\n        }\r\n    ).withKey('cloudsignup').promptCredentials(\r\n        'Sign up',\r\n        'signup',\r\n        'http://snap.berkeley.edu/tos.html',\r\n        'Terms of Service...',\r\n        'http://snap.berkeley.edu/privacy.html',\r\n        'Privacy...',\r\n        'I have read and agree\\nto the Terms of Service',\r\n        world,\r\n        myself.cloudIcon(),\r\n        myself.cloudMsg\r\n    );\r\n};\r\n\r\nIDE_Morph.prototype.resetCloudPassword = function () {\r\n    var myself = this,\r\n        world = this.world();\r\n/*\r\n    // force-logout, commented out for now:\r\n    delete localStorage['-snap-user'];\r\n    SnapCloud.clear();\r\n*/\r\n    new DialogBoxMorph(\r\n        null,\r\n        function (user) {\r\n            SnapCloud.resetPassword(\r\n                user.username,\r\n                function (txt, title) {\r\n                    new DialogBoxMorph().inform(\r\n                        title,\r\n                        txt +\r\n                            '.\\n\\nAn e-mail with a link to\\n' +\r\n                            'reset your password\\n' +\r\n                            'has been sent to the address provided',\r\n                        world,\r\n                        myself.cloudIcon(null, new Color(0, 180, 0))\r\n                    );\r\n                },\r\n                myself.cloudError()\r\n            );\r\n        }\r\n    ).withKey('cloudresetpassword').promptCredentials(\r\n        'Reset password',\r\n        'resetPassword',\r\n        null,\r\n        null,\r\n        null,\r\n        null,\r\n        null,\r\n        world,\r\n        myself.cloudIcon(),\r\n        myself.cloudMsg\r\n    );\r\n};\r\n\r\nIDE_Morph.prototype.changeCloudPassword = function () {\r\n    var myself = this,\r\n        world = this.world();\r\n    new DialogBoxMorph(\r\n        null,\r\n        function (user) {\r\n            SnapCloud.changePassword(\r\n                user.oldpassword,\r\n                user.password,\r\n                function () {\r\n                    myself.logout();\r\n                    myself.showMessage('password has been changed.', 2);\r\n                },\r\n                myself.cloudError()\r\n            );\r\n        }\r\n    ).withKey('cloudpassword').promptCredentials(\r\n        'Change Password',\r\n        'changePassword',\r\n        null,\r\n        null,\r\n        null,\r\n        null,\r\n        null,\r\n        world,\r\n        myself.cloudIcon(),\r\n        myself.cloudMsg\r\n    );\r\n};\r\n\r\nIDE_Morph.prototype.logout = function () {\r\n    var myself = this;\r\n    delete localStorage['-snap-user'];\r\n    SnapCloud.logout(\r\n        function () {\r\n            SnapCloud.clear();\r\n            myself.showMessage('disconnected.', 2);\r\n        },\r\n        function () {\r\n            SnapCloud.clear();\r\n            myself.showMessage('disconnected.', 2);\r\n        }\r\n    );\r\n};\r\n\r\nIDE_Morph.prototype.saveProjectToCloud = function (name) {\r\n    var myself = this;\r\n    if (name) {\r\n        this.showMessage('Saving project\\nto the cloud...');\r\n        this.setProjectName(name);\r\n        SnapCloud.saveProject(\r\n            this,\r\n            function () {myself.showMessage('saved.', 2); },\r\n            this.cloudError()\r\n        );\r\n    }\r\n};\r\n\r\nIDE_Morph.prototype.exportProjectMedia = function (name) {\r\n    var menu, media;\r\n    this.serializer.isCollectingMedia = true;\r\n    if (name) {\r\n        this.setProjectName(name);\r\n        try {\r\n            menu = this.showMessage('Exporting');\r\n            media = this.serializer.mediaXML(name);\r\n            this.saveXMLAs(media, this.projectName + ' media');\r\n            menu.destroy();\r\n            this.showMessage('Exported!', 1);\r\n        } catch (err) {\r\n            if (Process.prototype.isCatchingErrors) {\r\n                this.serializer.isCollectingMedia = false;\r\n                this.showMessage('Export failed: ' + err);\r\n            } else {\r\n                throw err;\r\n            }\r\n        }\r\n    }\r\n    this.serializer.isCollectingMedia = false;\r\n    this.serializer.flushMedia();\r\n    // this.hasChangedMedia = false;\r\n};\r\n\r\nIDE_Morph.prototype.exportProjectNoMedia = function (name) {\r\n    var menu, str;\r\n    this.serializer.isCollectingMedia = true;\r\n    if (name) {\r\n        this.setProjectName(name);\r\n        if (Process.prototype.isCatchingErrors) {\r\n            try {\r\n                menu = this.showMessage('Exporting');\r\n                str = this.serializer.serialize(this.stage);\r\n                this.saveXMLAs(str, this.projectName);\r\n                menu.destroy();\r\n                this.showMessage('Exported!', 1);\r\n            } catch (err) {\r\n                this.serializer.isCollectingMedia = false;\r\n                this.showMessage('Export failed: ' + err);\r\n            }\r\n        } else {\r\n            menu = this.showMessage('Exporting');\r\n            str = this.serializer.serialize(this.stage);\r\n            this.saveXMLAs(str, this.projectName);\r\n            menu.destroy();\r\n            this.showMessage('Exported!', 1);\r\n        }\r\n    }\r\n    this.serializer.isCollectingMedia = false;\r\n    this.serializer.flushMedia();\r\n};\r\n\r\nIDE_Morph.prototype.exportProjectAsCloudData = function (name) {\r\n    var menu, str, media, dta;\r\n    this.serializer.isCollectingMedia = true;\r\n    if (name) {\r\n        this.setProjectName(name);\r\n        if (Process.prototype.isCatchingErrors) {\r\n            try {\r\n                menu = this.showMessage('Exporting');\r\n                str = this.serializer.serialize(this.stage);\r\n                media = this.serializer.mediaXML(name);\r\n                dta = '<snapdata>' + str + media + '</snapdata>';\r\n                this.saveXMLAs(str, this.projectName);\r\n                menu.destroy();\r\n                this.showMessage('Exported!', 1);\r\n            } catch (err) {\r\n                this.serializer.isCollectingMedia = false;\r\n                this.showMessage('Export failed: ' + err);\r\n            }\r\n        } else {\r\n            menu = this.showMessage('Exporting');\r\n            str = this.serializer.serialize(this.stage);\r\n            media = this.serializer.mediaXML(name);\r\n            dta = '<snapdata>' + str + media + '</snapdata>';\r\n            this.saveXMLAs(str, this.projectName);\r\n            menu.destroy();\r\n            this.showMessage('Exported!', 1);\r\n        }\r\n    }\r\n    this.serializer.isCollectingMedia = false;\r\n    this.serializer.flushMedia();\r\n    // this.hasChangedMedia = false;\r\n};\r\n\r\nIDE_Morph.prototype.cloudAcknowledge = function () {\r\n    var myself = this;\r\n    return function (responseText, url) {\r\n        nop(responseText);\r\n        new DialogBoxMorph().inform(\r\n            'Cloud Connection',\r\n            'Successfully connected to:\\n'\r\n                + 'http://'\r\n                + url,\r\n            myself.world(),\r\n            myself.cloudIcon(null, new Color(0, 180, 0))\r\n        );\r\n    };\r\n};\r\n\r\nIDE_Morph.prototype.cloudResponse = function () {\r\n    var myself = this;\r\n    return function (responseText, url) {\r\n        var response = responseText;\r\n        if (response.length > 50) {\r\n            response = response.substring(0, 50) + '...';\r\n        }\r\n        new DialogBoxMorph().inform(\r\n            'Snap!Cloud',\r\n            'http://'\r\n                + url + ':\\n\\n'\r\n                + 'responds:\\n'\r\n                + response,\r\n            myself.world(),\r\n            myself.cloudIcon(null, new Color(0, 180, 0))\r\n        );\r\n    };\r\n};\r\n\r\nIDE_Morph.prototype.cloudError = function () {\r\n    var myself = this;\r\n\r\n    return function (responseText, url) {\r\n        // first, try to find out an explanation for the error\r\n        // and notify the user about it,\r\n        // if none is found, show an error dialog box\r\n        var response = responseText,\r\n            // explanation = getURL('http://snap.berkeley.edu/cloudmsg.txt'),\r\n            explanation = null;\r\n        if (myself.shield) {\r\n            myself.shield.destroy();\r\n            myself.shield = null;\r\n        }\r\n        if (explanation) {\r\n            myself.showMessage(explanation);\r\n            return;\r\n        }\r\n        if (response.length > 50) {\r\n            response = response.substring(0, 50) + '...';\r\n        }\r\n        new DialogBoxMorph().inform(\r\n            'Snap!Cloud',\r\n            (url ? url + '\\n' : '')\r\n                + response,\r\n            myself.world(),\r\n            myself.cloudIcon(null, new Color(180, 0, 0))\r\n        );\r\n    };\r\n};\r\n\r\nIDE_Morph.prototype.cloudIcon = function (height, color) {\r\n    var clr = color || DialogBoxMorph.prototype.titleBarColor,\r\n        isFlat = MorphicPreferences.isFlat,\r\n        icon = new SymbolMorph(\r\n            isFlat ? 'cloud' : 'cloudGradient',\r\n            height || 50,\r\n            clr,\r\n            isFlat ? null : new Point(-1, -1),\r\n            clr.darker(50)\r\n        );\r\n    if (!isFlat) {\r\n        icon.addShadow(new Point(1, 1), 1, clr.lighter(95));\r\n    }\r\n    return icon;\r\n};\r\n\r\nIDE_Morph.prototype.setCloudURL = function () {\r\n    new DialogBoxMorph(\r\n        null,\r\n        function (url) {\r\n            SnapCloud.url = url;\r\n        }\r\n    ).withKey('cloudURL').prompt(\r\n        'Cloud URL',\r\n        SnapCloud.url,\r\n        this.world(),\r\n        null,\r\n        {\r\n            'Snap!Cloud' :\r\n                'https://snap.apps.miosoft.com/SnapCloud'\r\n        }\r\n    );\r\n};\r\n\r\n// IDE_Morph HTTP data fetching\r\n\r\nIDE_Morph.prototype.getURL = function (url, callback) {\r\n    // fetch the contents of a url and pass it into the specified callback.\r\n    // If no callback is specified synchronously fetch and return it\r\n    // Note: Synchronous fetching has been deprecated and should be switched\r\n    var request = new XMLHttpRequest(),\r\n        async = callback instanceof Function,\r\n        myself = this;\r\n    try {\r\n        request.open('GET', url, async);\r\n        if (async) {\r\n            request.onreadystatechange = function () {\r\n                if (request.readyState === 4) {\r\n                    if (request.responseText) {\r\n                        callback.call(\r\n                            myself,\r\n                            request.responseText\r\n                        );\r\n                    } else {\r\n                        throw new Error('unable to retrieve ' + url);\r\n                    }\r\n                }\r\n            };\r\n        }\r\n        request.send();\r\n        if (!async) {\r\n            if (request.status === 200) {\r\n                return request.responseText;\r\n            }\r\n            throw new Error('unable to retrieve ' + url);\r\n        }\r\n    } catch (err) {\r\n        myself.showMessage(err.toString());\r\n        if (async) {\r\n            callback.call(this);\r\n        } else {\r\n            return request.responseText;\r\n        }\r\n    }\r\n};\r\n\r\n// IDE_Morph user dialog shortcuts\r\n\r\nIDE_Morph.prototype.showMessage = function (message, secs) {\r\n    var m = new MenuMorph(null, message),\r\n        intervalHandle;\r\n    m.popUpCenteredInWorld(this.world());\r\n    if (secs) {\r\n        intervalHandle = setInterval(function () {\r\n            m.destroy();\r\n            clearInterval(intervalHandle);\r\n        }, secs * 1000);\r\n    }\r\n    return m;\r\n};\r\n\r\nIDE_Morph.prototype.inform = function (title, message) {\r\n    new DialogBoxMorph().inform(\r\n        title,\r\n        localize(message),\r\n        this.world()\r\n    );\r\n};\r\n\r\nIDE_Morph.prototype.confirm = function (message, title, action) {\r\n    new DialogBoxMorph(null, action).askYesNo(\r\n        title,\r\n        localize(message),\r\n        this.world()\r\n    );\r\n};\r\n\r\nIDE_Morph.prototype.prompt = function (message, callback, choices, key) {\r\n    (new DialogBoxMorph(null, callback)).withKey(key).prompt(\r\n        message,\r\n        '',\r\n        this.world(),\r\n        null,\r\n        choices\r\n    );\r\n};\r\n\r\n// ProjectDialogMorph ////////////////////////////////////////////////////\r\n\r\n// ProjectDialogMorph inherits from DialogBoxMorph:\r\n\r\nProjectDialogMorph.prototype = new DialogBoxMorph();\r\nProjectDialogMorph.prototype.constructor = ProjectDialogMorph;\r\nProjectDialogMorph.uber = DialogBoxMorph.prototype;\r\n\r\n// ProjectDialogMorph instance creation:\r\n\r\nfunction ProjectDialogMorph(ide, label) {\r\n    this.init(ide, label);\r\n}\r\n\r\nProjectDialogMorph.prototype.init = function (ide, task) {\r\n    var myself = this;\r\n\r\n    // additional properties:\r\n    this.ide = ide;\r\n    this.task = task || 'open'; // String describing what do do (open, save)\r\n    this.source = ide.source || 'local'; // or 'cloud' or 'examples'\r\n    this.projectList = []; // [{name: , thumb: , notes:}]\r\n\r\n    this.handle = null;\r\n    this.srcBar = null;\r\n    this.nameField = null;\r\n    this.filterField = null;\r\n    this.magnifyingGlass = null;\r\n    this.listField = null;\r\n    this.preview = null;\r\n    this.notesText = null;\r\n    this.notesField = null;\r\n    this.deleteButton = null;\r\n    this.shareButton = null;\r\n    this.unshareButton = null;\r\n\r\n    // initialize inherited properties:\r\n    ProjectDialogMorph.uber.init.call(\r\n        this,\r\n        this, // target\r\n        null, // function\r\n        null // environment\r\n    );\r\n\r\n    // override inherited properites:\r\n    this.labelString = this.task === 'save' ? 'Save Project' : 'Open Project';\r\n    this.createLabel();\r\n    this.key = 'project' + task;\r\n\r\n    // build contents\r\n    this.buildContents();\r\n    this.onNextStep = function () { // yield to show \"updating\" message\r\n        myself.setSource(myself.source);\r\n    };\r\n};\r\n\r\nProjectDialogMorph.prototype.buildContents = function () {\r\n    var thumbnail, notification;\r\n\r\n    this.addBody(new Morph());\r\n    this.body.color = this.color;\r\n\r\n    this.srcBar = new AlignmentMorph('column', this.padding / 2);\r\n\r\n    if (this.ide.cloudMsg) {\r\n        notification = new TextMorph(\r\n            this.ide.cloudMsg,\r\n            10,\r\n            null, // style\r\n            false, // bold\r\n            null, // italic\r\n            null, // alignment\r\n            null, // width\r\n            null, // font name\r\n            new Point(1, 1), // shadow offset\r\n            new Color(255, 255, 255) // shadowColor\r\n        );\r\n        notification.refresh = nop;\r\n        this.srcBar.add(notification);\r\n    }\r\n\r\n    this.addSourceButton('cloud', localize('Cloud'), 'cloud');\r\n    this.addSourceButton('local', localize('Browser'), 'storage');\r\n    if (this.task === 'open') {\r\n        this.buildFilterField();\r\n        this.addSourceButton('examples', localize('Examples'), 'poster');\r\n    }\r\n    this.srcBar.fixLayout();\r\n    this.body.add(this.srcBar);\r\n\r\n    if (this.task === 'save') {\r\n        this.nameField = new InputFieldMorph(this.ide.projectName);\r\n        this.body.add(this.nameField);\r\n    }\r\n\r\n    this.listField = new ListMorph([]);\r\n    this.fixListFieldItemColors();\r\n    this.listField.fixLayout = nop;\r\n    this.listField.edge = InputFieldMorph.prototype.edge;\r\n    this.listField.fontSize = InputFieldMorph.prototype.fontSize;\r\n    this.listField.typeInPadding = InputFieldMorph.prototype.typeInPadding;\r\n    this.listField.contrast = InputFieldMorph.prototype.contrast;\r\n    this.listField.drawNew = InputFieldMorph.prototype.drawNew;\r\n    this.listField.drawRectBorder = InputFieldMorph.prototype.drawRectBorder;\r\n\r\n    this.body.add(this.listField);\r\n\r\n    this.preview = new Morph();\r\n    this.preview.fixLayout = nop;\r\n    this.preview.edge = InputFieldMorph.prototype.edge;\r\n    this.preview.fontSize = InputFieldMorph.prototype.fontSize;\r\n    this.preview.typeInPadding = InputFieldMorph.prototype.typeInPadding;\r\n    this.preview.contrast = InputFieldMorph.prototype.contrast;\r\n    this.preview.drawNew = function () {\r\n        InputFieldMorph.prototype.drawNew.call(this);\r\n        if (this.texture) {\r\n            this.drawTexture(this.texture);\r\n        }\r\n    };\r\n    this.preview.drawCachedTexture = function () {\r\n        var context = this.image.getContext('2d');\r\n        context.drawImage(this.cachedTexture, this.edge, this.edge);\r\n        this.changed();\r\n    };\r\n    this.preview.drawRectBorder = InputFieldMorph.prototype.drawRectBorder;\r\n    this.preview.setExtent(\r\n        this.ide.serializer.thumbnailSize.add(this.preview.edge * 2)\r\n    );\r\n\r\n    this.body.add(this.preview);\r\n    this.preview.drawNew();\r\n    if (this.task === 'save') {\r\n        thumbnail = this.ide.stage.thumbnail(\r\n            SnapSerializer.prototype.thumbnailSize\r\n        );\r\n        this.preview.texture = null;\r\n        this.preview.cachedTexture = thumbnail;\r\n        this.preview.drawCachedTexture();\r\n    }\r\n\r\n    this.notesField = new ScrollFrameMorph();\r\n    this.notesField.fixLayout = nop;\r\n\r\n    this.notesField.edge = InputFieldMorph.prototype.edge;\r\n    this.notesField.fontSize = InputFieldMorph.prototype.fontSize;\r\n    this.notesField.typeInPadding = InputFieldMorph.prototype.typeInPadding;\r\n    this.notesField.contrast = InputFieldMorph.prototype.contrast;\r\n    this.notesField.drawNew = InputFieldMorph.prototype.drawNew;\r\n    this.notesField.drawRectBorder = InputFieldMorph.prototype.drawRectBorder;\r\n\r\n    this.notesField.acceptsDrops = false;\r\n    this.notesField.contents.acceptsDrops = false;\r\n\r\n    if (this.task === 'open') {\r\n        this.notesText = new TextMorph('');\r\n    } else { // 'save'\r\n        this.notesText = new TextMorph(this.ide.projectNotes);\r\n        this.notesText.isEditable = true;\r\n        this.notesText.enableSelecting();\r\n    }\r\n\r\n    this.notesField.isTextLineWrapping = true;\r\n    this.notesField.padding = 3;\r\n    this.notesField.setContents(this.notesText);\r\n    this.notesField.setWidth(this.preview.width());\r\n\r\n    this.body.add(this.notesField);\r\n\r\n    if (this.task === 'open') {\r\n        this.addButton('openProject', 'Open');\r\n        this.action = 'openProject';\r\n    } else { // 'save'\r\n        this.addButton('saveProject', 'Save');\r\n        this.action = 'saveProject';\r\n    }\r\n    this.shareButton = this.addButton('shareProject', 'Share');\r\n    this.unshareButton = this.addButton('unshareProject', 'Unshare');\r\n    this.shareButton.hide();\r\n    this.unshareButton.hide();\r\n    this.deleteButton = this.addButton('deleteProject', 'Delete');\r\n    this.addButton('cancel', 'Cancel');\r\n\r\n    if (notification) {\r\n        this.setExtent(new Point(455, 335).add(notification.extent()));\r\n    } else {\r\n        this.setExtent(new Point(455, 335));\r\n    }\r\n    this.fixLayout();\r\n\r\n};\r\n\r\nProjectDialogMorph.prototype.popUp = function (wrrld) {\r\n    var world = wrrld || this.ide.world();\r\n    if (world) {\r\n        ProjectDialogMorph.uber.popUp.call(this, world);\r\n        this.handle = new HandleMorph(\r\n            this,\r\n            350,\r\n            300,\r\n            this.corner,\r\n            this.corner\r\n        );\r\n    }\r\n};\r\n\r\n// ProjectDialogMorph source buttons\r\n\r\nProjectDialogMorph.prototype.addSourceButton = function (\r\n    source,\r\n    label,\r\n    symbol\r\n) {\r\n    var myself = this,\r\n        lbl1 = new StringMorph(\r\n            label,\r\n            10,\r\n            null,\r\n            true,\r\n            null,\r\n            null,\r\n            new Point(1, 1),\r\n            new Color(255, 255, 255)\r\n        ),\r\n        lbl2 = new StringMorph(\r\n            label,\r\n            10,\r\n            null,\r\n            true,\r\n            null,\r\n            null,\r\n            new Point(-1, -1),\r\n            this.titleBarColor.darker(50),\r\n            new Color(255, 255, 255)\r\n        ),\r\n        l1 = new Morph(),\r\n        l2 = new Morph(),\r\n        button;\r\n\r\n    lbl1.add(new SymbolMorph(\r\n        symbol,\r\n        24,\r\n        this.titleBarColor.darker(20),\r\n        new Point(1, 1),\r\n        this.titleBarColor.darker(50)\r\n    ));\r\n    lbl1.children[0].setCenter(lbl1.center());\r\n    lbl1.children[0].setBottom(lbl1.top() - this.padding / 2);\r\n\r\n    l1.image = lbl1.fullImage();\r\n    l1.bounds = lbl1.fullBounds();\r\n\r\n    lbl2.add(new SymbolMorph(\r\n        symbol,\r\n        24,\r\n        new Color(255, 255, 255),\r\n        new Point(-1, -1),\r\n        this.titleBarColor.darker(50)\r\n    ));\r\n    lbl2.children[0].setCenter(lbl2.center());\r\n    lbl2.children[0].setBottom(lbl2.top() - this.padding / 2);\r\n\r\n    l2.image = lbl2.fullImage();\r\n    l2.bounds = lbl2.fullBounds();\r\n\r\n    button = new ToggleButtonMorph(\r\n        null, //colors,\r\n        myself, // the ProjectDialog is the target\r\n        function () { // action\r\n            myself.setSource(source);\r\n        },\r\n        [l1, l2],\r\n        function () {  // query\r\n            return myself.source === source;\r\n        }\r\n    );\r\n\r\n    button.corner = this.buttonCorner;\r\n    button.edge = this.buttonEdge;\r\n    button.outline = this.buttonOutline;\r\n    button.outlineColor = this.buttonOutlineColor;\r\n    button.outlineGradient = this.buttonOutlineGradient;\r\n    button.labelMinExtent = new Point(60, 0);\r\n    button.padding = this.buttonPadding;\r\n    button.contrast = this.buttonContrast;\r\n    button.pressColor = this.titleBarColor.darker(20);\r\n\r\n    button.drawNew();\r\n    button.fixLayout();\r\n    button.refresh();\r\n    this.srcBar.add(button);\r\n};\r\n\r\n// ProjectDialogMorph list field control\r\n\r\nProjectDialogMorph.prototype.fixListFieldItemColors = function () {\r\n    // remember to always fixLayout() afterwards for the changes\r\n    // to take effect\r\n    var myself = this;\r\n    this.listField.contents.children[0].alpha = 0;\r\n    this.listField.contents.children[0].children.forEach(function (item) {\r\n        item.pressColor = myself.titleBarColor.darker(20);\r\n        item.color = new Color(0, 0, 0, 0);\r\n        item.noticesTransparentClick = true;\r\n    });\r\n};\r\n\r\n// ProjectDialogMorph filter field\r\n\r\nProjectDialogMorph.prototype.buildFilterField = function () {\r\n    var myself = this;\r\n\r\n    this.filterField = new InputFieldMorph('');\r\n    this.magnifyingGlass =\r\n        new SymbolMorph(\r\n            'magnifyingGlass',\r\n            this.filterField.height(),\r\n            this.titleBarColor.darker(50));\r\n\r\n    this.body.add(this.magnifyingGlass);\r\n    this.body.add(this.filterField);\r\n\r\n    this.filterField.reactToKeystroke = function (evt) {\r\n        var text = this.getValue();\r\n\r\n        myself.listField.elements =\r\n            myself.projectList.filter(function (aProject) {\r\n                var name,\r\n                    notes;\r\n\r\n                if (aProject.ProjectName) { // cloud\r\n                    name = aProject.ProjectName;\r\n                    notes = aProject.Notes;\r\n                } else { // local or examples\r\n                    name = aProject.name;\r\n                    notes = aProject.notes || '';\r\n                }\r\n\r\n                return name.toLowerCase().indexOf(text.toLowerCase()) > -1 ||\r\n                    notes.toLowerCase().indexOf(text.toLowerCase()) > -1;\r\n            });\r\n\r\n        if (myself.listField.elements.length === 0) {\r\n            myself.listField.elements.push('(no matches)');\r\n        }\r\n\r\n        myself.clearDetails();\r\n        myself.listField.buildListContents();\r\n        myself.fixListFieldItemColors();\r\n        myself.listField.adjustScrollBars();\r\n        myself.listField.scrollY(myself.listField.top());\r\n        myself.fixLayout();\r\n    };\r\n};\r\n\r\n// ProjectDialogMorph ops\r\n\r\nProjectDialogMorph.prototype.setSource = function (source) {\r\n    var myself = this,\r\n        msg;\r\n\r\n    this.source = source; //this.task === 'save' ? 'local' : source;\r\n    this.srcBar.children.forEach(function (button) {\r\n        button.refresh();\r\n    });\r\n    switch (this.source) {\r\n    case 'cloud':\r\n        msg = myself.ide.showMessage('Updating\\nproject list...');\r\n        this.projectList = [];\r\n        SnapCloud.getProjectList(\r\n            function (projectList) {\r\n                // Don't show cloud projects if user has since switch panes.\r\n                if (myself.source === 'cloud') {\r\n                    myself.installCloudProjectList(projectList);\r\n                }\r\n                msg.destroy();\r\n            },\r\n            function (err, lbl) {\r\n                msg.destroy();\r\n                myself.ide.cloudError().call(null, err, lbl);\r\n            }\r\n        );\r\n        return;\r\n    case 'examples':\r\n        this.projectList = this.getExamplesProjectList();\r\n        break;\r\n    case 'local':\r\n        this.projectList = this.getLocalProjectList();\r\n        break;\r\n    }\r\n\r\n    this.listField.destroy();\r\n    this.listField = new ListMorph(\r\n        this.projectList,\r\n        this.projectList.length > 0 ?\r\n                function (element) {\r\n                    return element.name || element;\r\n                } : null,\r\n        null,\r\n        function () {myself.ok(); }\r\n    );\r\n\r\n    this.fixListFieldItemColors();\r\n    this.listField.fixLayout = nop;\r\n    this.listField.edge = InputFieldMorph.prototype.edge;\r\n    this.listField.fontSize = InputFieldMorph.prototype.fontSize;\r\n    this.listField.typeInPadding = InputFieldMorph.prototype.typeInPadding;\r\n    this.listField.contrast = InputFieldMorph.prototype.contrast;\r\n    this.listField.drawNew = InputFieldMorph.prototype.drawNew;\r\n    this.listField.drawRectBorder = InputFieldMorph.prototype.drawRectBorder;\r\n\r\n    if (this.source === 'local') {\r\n        this.listField.action = function (item) {\r\n            var src, xml;\r\n\r\n            if (item === undefined) {return; }\r\n            if (myself.nameField) {\r\n                myself.nameField.setContents(item.name || '');\r\n            }\r\n            if (myself.task === 'open') {\r\n\r\n                src = localStorage['-snap-project-' + item.name];\r\n\r\n                if (src) {\r\n                    xml = myself.ide.serializer.parse(src);\r\n\r\n                    myself.notesText.text = xml.childNamed('notes').contents\r\n                        || '';\r\n                    myself.notesText.drawNew();\r\n                    myself.notesField.contents.adjustBounds();\r\n                    myself.preview.texture =\r\n                        xml.childNamed('thumbnail').contents || null;\r\n                    myself.preview.cachedTexture = null;\r\n                    myself.preview.drawNew();\r\n                }\r\n            }\r\n            myself.edit();\r\n        };\r\n    } else { // 'examples'; 'cloud' is initialized elsewhere\r\n        this.listField.action = function (item) {\r\n            var src, xml;\r\n            if (item === undefined) {return; }\r\n            if (myself.nameField) {\r\n                myself.nameField.setContents(item.name || '');\r\n            }\r\n            src = myself.ide.getURL(\r\n                myself.ide.resourceURL('Examples', item.fileName)\r\n            );\r\n\r\n            xml = myself.ide.serializer.parse(src);\r\n            myself.notesText.text = xml.childNamed('notes').contents\r\n                || '';\r\n            myself.notesText.drawNew();\r\n            myself.notesField.contents.adjustBounds();\r\n            myself.preview.texture = xml.childNamed('thumbnail').contents\r\n                || null;\r\n            myself.preview.cachedTexture = null;\r\n            myself.preview.drawNew();\r\n            myself.edit();\r\n        };\r\n    }\r\n    this.body.add(this.listField);\r\n    this.shareButton.hide();\r\n    this.unshareButton.hide();\r\n    if (this.source === 'local') {\r\n        this.deleteButton.show();\r\n    } else { // examples\r\n        this.deleteButton.hide();\r\n    }\r\n    this.buttons.fixLayout();\r\n    this.fixLayout();\r\n    if (this.task === 'open') {\r\n        this.clearDetails();\r\n    }\r\n};\r\n\r\nProjectDialogMorph.prototype.getLocalProjectList = function () {\r\n    var stored, name, dta,\r\n        projects = [];\r\n    for (stored in localStorage) {\r\n        if (Object.prototype.hasOwnProperty.call(localStorage, stored)\r\n                && stored.substr(0, 14) === '-snap-project-') {\r\n            name = stored.substr(14);\r\n            dta = {\r\n                name: name,\r\n                thumb: null,\r\n                notes: null\r\n            };\r\n            projects.push(dta);\r\n        }\r\n    }\r\n    projects.sort(function (x, y) {\r\n        return x.name.toLowerCase() < y.name.toLowerCase() ? -1 : 1;\r\n    });\r\n    return projects;\r\n};\r\n\r\nProjectDialogMorph.prototype.getExamplesProjectList = function () {\r\n    return this.ide.getMediaList('Examples');\r\n};\r\n\r\nProjectDialogMorph.prototype.installCloudProjectList = function (pl) {\r\n    var myself = this;\r\n    this.projectList = pl || [];\r\n    this.projectList.sort(function (x, y) {\r\n        return x.ProjectName.toLowerCase() < y.ProjectName.toLowerCase() ?\r\n                 -1 : 1;\r\n    });\r\n\r\n    this.listField.destroy();\r\n    this.listField = new ListMorph(\r\n        this.projectList,\r\n        this.projectList.length > 0 ?\r\n                function (element) {\r\n                    return element.ProjectName || element;\r\n                } : null,\r\n        [ // format: display shared project names bold\r\n            [\r\n                'bold',\r\n                function (proj) {return proj.Public === 'true'; }\r\n            ]\r\n        ],\r\n        function () {myself.ok(); }\r\n    );\r\n    this.fixListFieldItemColors();\r\n    this.listField.fixLayout = nop;\r\n    this.listField.edge = InputFieldMorph.prototype.edge;\r\n    this.listField.fontSize = InputFieldMorph.prototype.fontSize;\r\n    this.listField.typeInPadding = InputFieldMorph.prototype.typeInPadding;\r\n    this.listField.contrast = InputFieldMorph.prototype.contrast;\r\n    this.listField.drawNew = InputFieldMorph.prototype.drawNew;\r\n    this.listField.drawRectBorder = InputFieldMorph.prototype.drawRectBorder;\r\n\r\n    this.listField.action = function (item) {\r\n        if (item === undefined) {return; }\r\n        if (myself.nameField) {\r\n            myself.nameField.setContents(item.ProjectName || '');\r\n        }\r\n        if (myself.task === 'open') {\r\n            myself.notesText.text = item.Notes || '';\r\n            myself.notesText.drawNew();\r\n            myself.notesField.contents.adjustBounds();\r\n            myself.preview.texture = item.Thumbnail || null;\r\n            myself.preview.cachedTexture = null;\r\n            myself.preview.drawNew();\r\n            (new SpeechBubbleMorph(new TextMorph(\r\n                localize('last changed') + '\\n' + item.Updated,\r\n                null,\r\n                null,\r\n                null,\r\n                null,\r\n                'center'\r\n            ))).popUp(\r\n                myself.world(),\r\n                myself.preview.rightCenter().add(new Point(2, 0))\r\n            );\r\n        }\r\n        if (item.Public === 'true') {\r\n            myself.shareButton.hide();\r\n            myself.unshareButton.show();\r\n        } else {\r\n            myself.unshareButton.hide();\r\n            myself.shareButton.show();\r\n        }\r\n        myself.buttons.fixLayout();\r\n        myself.fixLayout();\r\n        myself.edit();\r\n    };\r\n    this.body.add(this.listField);\r\n    this.shareButton.show();\r\n    this.unshareButton.hide();\r\n    this.deleteButton.show();\r\n    this.buttons.fixLayout();\r\n    this.fixLayout();\r\n    if (this.task === 'open') {\r\n        this.clearDetails();\r\n    }\r\n};\r\n\r\nProjectDialogMorph.prototype.clearDetails = function () {\r\n    this.notesText.text = '';\r\n    this.notesText.drawNew();\r\n    this.notesField.contents.adjustBounds();\r\n    this.preview.texture = null;\r\n    this.preview.cachedTexture = null;\r\n    this.preview.drawNew();\r\n};\r\n\r\nProjectDialogMorph.prototype.openProject = function () {\r\n    var proj = this.listField.selected,\r\n        src;\r\n    if (!proj) {return; }\r\n    this.ide.source = this.source;\r\n    if (this.source === 'cloud') {\r\n        this.openCloudProject(proj);\r\n    } else if (this.source === 'examples') {\r\n        // Note \"file\" is a property of the parseResourceFile function.\r\n        src = this.ide.getURL(this.ide.resourceURL('Examples', proj.fileName));\r\n        this.ide.openProjectString(src);\r\n        this.destroy();\r\n    } else { // 'local'\r\n        this.ide.openProject(proj.name);\r\n        this.destroy();\r\n    }\r\n\r\n};\r\n\r\nProjectDialogMorph.prototype.openCloudProject = function (project) {\r\n    var myself = this;\r\n    myself.ide.nextSteps([\r\n        function () {\r\n            myself.ide.showMessage('Fetching project\\nfrom the cloud...');\r\n        },\r\n        function () {\r\n            myself.rawOpenCloudProject(project);\r\n        }\r\n    ]);\r\n};\r\n\r\nProjectDialogMorph.prototype.rawOpenCloudProject = function (proj) {\r\n    var myself = this;\r\n    SnapCloud.reconnect(\r\n        function () {\r\n            SnapCloud.callService(\r\n                'getRawProject',\r\n                function (response) {\r\n                    SnapCloud.disconnect();\r\n                    \r\n                    myself.ide.source = 'cloud';\r\n                    myself.ide.droppedText(response);\r\n                    if (proj.Public === 'true') {\r\n                        location.hash = '#present:Username=' +\r\n                            encodeURIComponent(SnapCloud.username) +\r\n                            '&ProjectName=' +\r\n                            encodeURIComponent(proj.ProjectName);\r\n                    }\r\n                },\r\n                myself.ide.cloudError(),\r\n                [proj.ProjectName]\r\n            );\r\n        },\r\n        myself.ide.cloudError()\r\n    );\r\n    this.destroy();\r\n};\r\n\r\nProjectDialogMorph.prototype.saveProject = function () {\r\n\r\n    var name = this.nameField.contents().text.text,\r\n        notes = this.notesText.text,\r\n        myself = this;\r\n\r\n    this.ide.projectNotes = notes || this.ide.projectNotes;\r\n    if (name) {\r\n        if (this.source === 'cloud') {\r\n            if (detect(\r\n                    this.projectList,\r\n                    function (item) {return item.ProjectName === name; }\r\n                )) {\r\n                this.ide.confirm(\r\n                    localize(\r\n                        'Are you sure you want to replace'\r\n                    ) + '\\n\"' + name + '\"?',\r\n                    'Replace Project',\r\n                    function () {\r\n                        myself.ide.setProjectName(name);\r\n                        myself.saveCloudProject();\r\n                    }\r\n                );\r\n            } else {\r\n                this.ide.setProjectName(name);\r\n                myself.saveCloudProject();\r\n            }\r\n        } else { // 'local'\r\n            if (detect(\r\n                    this.projectList,\r\n                    function (item) {return item.name === name; }\r\n                )) {\r\n                this.ide.confirm(\r\n                    localize(\r\n                        'Are you sure you want to replace'\r\n                    ) + '\\n\"' + name + '\"?',\r\n                    'Replace Project',\r\n                    function () {\r\n                        myself.ide.setProjectName(name);\r\n                        myself.ide.source = 'local';\r\n                        myself.ide.saveProject(name);\r\n                        myself.destroy();\r\n                    }\r\n                );\r\n            } else {\r\n                this.ide.setProjectName(name);\r\n                myself.ide.source = 'local';\r\n                this.ide.saveProject(name);\r\n                this.destroy();\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nProjectDialogMorph.prototype.saveCloudProject = function () {\r\n    var myself = this;\r\n    this.ide.showMessage('Saving project\\nto the cloud...');\r\n    SnapCloud.saveProject(\r\n        this.ide,\r\n        function () {\r\n            myself.ide.source = 'cloud';\r\n            myself.ide.showMessage('saved.', 2);\r\n        },\r\n        this.ide.cloudError()\r\n    );\r\n    this.destroy();\r\n};\r\n\r\nProjectDialogMorph.prototype.deleteProject = function () {\r\n    var myself = this,\r\n        proj,\r\n        idx,\r\n        name;\r\n\r\n    if (this.source === 'cloud') {\r\n        proj = this.listField.selected;\r\n        if (proj) {\r\n            this.ide.confirm(\r\n                localize(\r\n                    'Are you sure you want to delete'\r\n                ) + '\\n\"' + proj.ProjectName + '\"?',\r\n                'Delete Project',\r\n                function () {\r\n                    SnapCloud.reconnect(\r\n                        function () {\r\n                            SnapCloud.callService(\r\n                                'deleteProject',\r\n                                function () {\r\n                                    SnapCloud.disconnect();\r\n                                    myself.ide.hasChangedMedia = true;\r\n                                    idx = myself.projectList.indexOf(proj);\r\n                                    myself.projectList.splice(idx, 1);\r\n                                    myself.installCloudProjectList(\r\n                                        myself.projectList\r\n                                    ); // refresh list\r\n                                },\r\n                                myself.ide.cloudError(),\r\n                                [proj.ProjectName]\r\n                            );\r\n                        },\r\n                        myself.ide.cloudError()\r\n                    );\r\n                }\r\n            );\r\n        }\r\n    } else { // 'local, examples'\r\n        if (this.listField.selected) {\r\n            name = this.listField.selected.name;\r\n            this.ide.confirm(\r\n                localize(\r\n                    'Are you sure you want to delete'\r\n                ) + '\\n\"' + name + '\"?',\r\n                'Delete Project',\r\n                function () {\r\n                    delete localStorage['-snap-project-' + name];\r\n                    myself.setSource(myself.source); // refresh list\r\n                }\r\n            );\r\n        }\r\n    }\r\n};\r\n\r\nProjectDialogMorph.prototype.shareProject = function () {\r\n    var myself = this,\r\n        ide = this.ide,\r\n        proj = this.listField.selected,\r\n        entry = this.listField.active;\r\n\r\n    if (proj) {\r\n        this.ide.confirm(\r\n            localize(\r\n                'Are you sure you want to publish'\r\n            ) + '\\n\"' + proj.ProjectName + '\"?',\r\n            'Share Project',\r\n            function () {\r\n                myself.ide.showMessage('sharing\\nproject...');\r\n                SnapCloud.reconnect(\r\n                    function () {\r\n                        SnapCloud.callService(\r\n                            'publishProject',\r\n                            function () {\r\n                                SnapCloud.disconnect();\r\n                                proj.Public = 'true';\r\n                                myself.unshareButton.show();\r\n                                myself.shareButton.hide();\r\n                                entry.label.isBold = true;\r\n                                entry.label.drawNew();\r\n                                entry.label.changed();\r\n                                myself.buttons.fixLayout();\r\n                                myself.drawNew();\r\n                                myself.ide.showMessage('shared.', 2);\r\n                            },\r\n                            myself.ide.cloudError(),\r\n                            [proj.ProjectName]\r\n                        );\r\n                        // Set the Shared URL if the project is currently open\r\n                        if (proj.ProjectName === ide.projectName) {\r\n                            var usr = SnapCloud.username,\r\n                                projectId = 'Username=' +\r\n                                    encodeURIComponent(usr.toLowerCase()) +\r\n                                    '&ProjectName=' +\r\n                                    encodeURIComponent(proj.ProjectName);\r\n                            location.hash = 'present:' + projectId;\r\n                        }\r\n                    },\r\n                    myself.ide.cloudError()\r\n                );\r\n            }\r\n        );\r\n    }\r\n};\r\n\r\nProjectDialogMorph.prototype.unshareProject = function () {\r\n    var myself = this,\r\n        ide = this.ide,\r\n        proj = this.listField.selected,\r\n        entry = this.listField.active;\r\n\r\n\r\n    if (proj) {\r\n        this.ide.confirm(\r\n            localize(\r\n                'Are you sure you want to unpublish'\r\n            ) + '\\n\"' + proj.ProjectName + '\"?',\r\n            'Unshare Project',\r\n            function () {\r\n                myself.ide.showMessage('unsharing\\nproject...');\r\n                SnapCloud.reconnect(\r\n                    function () {\r\n                        SnapCloud.callService(\r\n                            'unpublishProject',\r\n                            function () {\r\n                                SnapCloud.disconnect();\r\n                                proj.Public = 'false';\r\n                                myself.shareButton.show();\r\n                                myself.unshareButton.hide();\r\n                                entry.label.isBold = false;\r\n                                entry.label.drawNew();\r\n                                entry.label.changed();\r\n                                myself.buttons.fixLayout();\r\n                                myself.drawNew();\r\n                                myself.ide.showMessage('unshared.', 2);\r\n                            },\r\n                            myself.ide.cloudError(),\r\n                            [proj.ProjectName]\r\n                        );\r\n                        // Remove the shared URL if the project is open.\r\n                        if (proj.ProjectName === ide.projectName) {\r\n                            location.hash = '';\r\n                        }\r\n                    },\r\n                    myself.ide.cloudError()\r\n                );\r\n            }\r\n        );\r\n    }\r\n};\r\n\r\nProjectDialogMorph.prototype.edit = function () {\r\n    if (this.nameField) {\r\n        this.nameField.edit();\r\n    } else if (this.filterField) {\r\n        this.filterField.edit();\r\n    }\r\n};\r\n\r\n// ProjectDialogMorph layout\r\n\r\nProjectDialogMorph.prototype.fixLayout = function () {\r\n    var th = fontHeight(this.titleFontSize) + this.titlePadding * 2,\r\n        thin = this.padding / 2,\r\n        inputField = this.nameField || this.filterField,\r\n        oldFlag = Morph.prototype.trackChanges;\r\n\r\n    Morph.prototype.trackChanges = false;\r\n\r\n    if (this.buttons && (this.buttons.children.length > 0)) {\r\n        this.buttons.fixLayout();\r\n    }\r\n\r\n    if (this.body) {\r\n        this.body.setPosition(this.position().add(new Point(\r\n            this.padding,\r\n            th + this.padding\r\n        )));\r\n        this.body.setExtent(new Point(\r\n            this.width() - this.padding * 2,\r\n            this.height() - this.padding * 3 - th - this.buttons.height()\r\n        ));\r\n        this.srcBar.setPosition(this.body.position());\r\n\r\n        inputField.setWidth(\r\n                this.body.width() - this.srcBar.width() - this.padding * 6\r\n            );\r\n        inputField.setLeft(this.srcBar.right() + this.padding * 3);\r\n        inputField.setTop(this.srcBar.top());\r\n        inputField.drawNew();\r\n\r\n        this.listField.setLeft(this.srcBar.right() + this.padding);\r\n        this.listField.setWidth(\r\n            this.body.width()\r\n                - this.srcBar.width()\r\n                - this.preview.width()\r\n                - this.padding\r\n                - thin\r\n        );\r\n        this.listField.contents.children[0].adjustWidths();\r\n\r\n        this.listField.setTop(inputField.bottom() + this.padding);\r\n        this.listField.setHeight(\r\n            this.body.height() - inputField.height() - this.padding\r\n        );\r\n\r\n        if (this.magnifyingGlass) {\r\n            this.magnifyingGlass.setTop(inputField.top());\r\n            this.magnifyingGlass.setLeft(this.listField.left());\r\n        }\r\n\r\n        this.preview.setRight(this.body.right());\r\n        this.preview.setTop(inputField.bottom() + this.padding);\r\n\r\n        this.notesField.setTop(this.preview.bottom() + thin);\r\n        this.notesField.setLeft(this.preview.left());\r\n        this.notesField.setHeight(\r\n            this.body.bottom() - this.preview.bottom() - thin\r\n        );\r\n    }\r\n\r\n    if (this.label) {\r\n        this.label.setCenter(this.center());\r\n        this.label.setTop(this.top() + (th - this.label.height()) / 2);\r\n    }\r\n\r\n    if (this.buttons && (this.buttons.children.length > 0)) {\r\n        this.buttons.setCenter(this.center());\r\n        this.buttons.setBottom(this.bottom() - this.padding);\r\n    }\r\n\r\n    Morph.prototype.trackChanges = oldFlag;\r\n    this.changed();\r\n};\r\n\r\n// LibraryImportDialogMorph ///////////////////////////////////////////\r\n// I am preview dialog shown before importing a library.\r\n// I inherit from a DialogMorph but look similar to\r\n// ProjectDialogMorph, and BlockImportDialogMorph\r\n\r\nLibraryImportDialogMorph.prototype = new DialogBoxMorph();\r\nLibraryImportDialogMorph.prototype.constructor = LibraryImportDialogMorph;\r\nLibraryImportDialogMorph.uber = DialogBoxMorph.prototype;\r\n\r\n// LibraryImportDialogMorph instance creation:\r\n\r\nfunction LibraryImportDialogMorph(ide, librariesData) {\r\n    this.init(ide, librariesData);\r\n}\r\n\r\nLibraryImportDialogMorph.prototype.init = function (ide, librariesData) {\r\n    // initialize inherited properties:\r\n    LibraryImportDialogMorph.uber.init.call(\r\n        this,\r\n        this, // target\r\n        null, // function\r\n        null  // environment\r\n    );\r\n\r\n    this.ide = ide;\r\n    this.key = 'importLibrary';\r\n    this.librariesData = librariesData; // [{name: , fileName: , description:}]\r\n\r\n    // I contain a cached version of the libaries I have displayed,\r\n    // because users may choose to explore a library many times before\r\n    // importing.\r\n    this.libraryCache = {}; // {fileName: [blocks-array] }\r\n\r\n    this.handle = null;\r\n    this.listField = null;\r\n    this.palette = null;\r\n    this.notesText = null;\r\n    this.notesField = null;\r\n\r\n    this.labelString = 'Import library';\r\n    this.createLabel();\r\n\r\n    this.buildContents();\r\n};\r\n\r\nLibraryImportDialogMorph.prototype.buildContents = function () {\r\n    this.addBody(new Morph());\r\n    this.body.color = this.color;\r\n\r\n    this.initializePalette();\r\n    this.initializeLibraryDescription();\r\n    this.installLibrariesList();\r\n\r\n    this.addButton('importLibrary', 'Import');\r\n    this.addButton('cancel', 'Cancel');\r\n\r\n    this.setExtent(new Point(460, 455));\r\n    this.fixLayout();\r\n};\r\n\r\nLibraryImportDialogMorph.prototype.initializePalette = function () {\r\n    // I will display a scrolling list of blocks.\r\n    if (this.palette) {this.palette.destroy(); }\r\n\r\n    this.palette = new ScrollFrameMorph(\r\n        null,\r\n        null,\r\n        SpriteMorph.prototype.sliderColor\r\n    );\r\n    this.palette.color = SpriteMorph.prototype.paletteColor;\r\n    this.palette.padding = 4;\r\n    this.palette.isDraggable = false;\r\n    this.palette.acceptsDrops = false;\r\n    this.palette.contents.acceptsDrops = false;\r\n\r\n    this.body.add(this.palette);\r\n};\r\n\r\nLibraryImportDialogMorph.prototype.initializeLibraryDescription = function () {\r\n    if (this.notesField) {this.notesField.destroy(); }\r\n\r\n    this.notesField = new ScrollFrameMorph();\r\n    this.notesField.fixLayout = nop;\r\n\r\n    this.notesField.edge = InputFieldMorph.prototype.edge;\r\n    this.notesField.fontSize = InputFieldMorph.prototype.fontSize;\r\n    this.notesField.typeInPadding = InputFieldMorph.prototype.typeInPadding;\r\n    this.notesField.contrast = InputFieldMorph.prototype.contrast;\r\n    this.notesField.drawNew = InputFieldMorph.prototype.drawNew;\r\n    this.notesField.drawRectBorder = InputFieldMorph.prototype.drawRectBorder;\r\n\r\n    this.notesField.acceptsDrops = false;\r\n    this.notesField.contents.acceptsDrops = false;\r\n\r\n    this.notesText = new TextMorph('');\r\n\r\n    this.notesField.isTextLineWrapping = true;\r\n    this.notesField.padding = 3;\r\n    this.notesField.setContents(this.notesText);\r\n    this.notesField.setHeight(100);\r\n\r\n    this.body.add(this.notesField);\r\n};\r\n\r\nLibraryImportDialogMorph.prototype.installLibrariesList = function () {\r\n    var myself = this;\r\n\r\n    if (this.listField) {this.listField.destroy(); }\r\n\r\n    this.listField = new ListMorph(\r\n        this.librariesData,\r\n        function (element) {return element.name; },\r\n        null,\r\n        function () {myself.importLibrary(); }\r\n    );\r\n\r\n    this.fixListFieldItemColors();\r\n\r\n    this.listField.fixLayout = nop;\r\n    this.listField.edge = InputFieldMorph.prototype.edge;\r\n    this.listField.fontSize = InputFieldMorph.prototype.fontSize;\r\n    this.listField.typeInPadding = InputFieldMorph.prototype.typeInPadding;\r\n    this.listField.contrast = InputFieldMorph.prototype.contrast;\r\n    this.listField.drawNew = InputFieldMorph.prototype.drawNew;\r\n    this.listField.drawRectBorder = InputFieldMorph.prototype.drawRectBorder;\r\n\r\n    this.listField.action = function (item) {\r\n        if (isNil(item)) {return; }\r\n\r\n        myself.notesText.text = item.description || '';\r\n        myself.notesText.drawNew();\r\n        myself.notesField.contents.adjustBounds();\r\n\r\n        if (myself.hasCached(item.fileName)) {\r\n            myself.displayBlocks(item.fileName);\r\n        } else {\r\n            myself.showMessage(\r\n                localize('Loading') + '\\n' + localize(item.name)\r\n            );\r\n            myself.ide.getURL(\r\n                myself.ide.resourceURL('libraries', item.fileName),\r\n                function(libraryXML) {\r\n                    myself.cacheLibrary(\r\n                        item.fileName,\r\n                        myself.ide.serializer.loadBlocks(libraryXML)\r\n                    );\r\n                    myself.displayBlocks(item.fileName);\r\n                }\r\n            );\r\n        }\r\n    };\r\n\r\n    this.listField.setWidth(200);\r\n    this.body.add(this.listField);\r\n\r\n    this.fixLayout();\r\n};\r\n\r\nLibraryImportDialogMorph.prototype.popUp = function () {\r\n    var world = this.ide.world();\r\n    if (world) {\r\n        LibraryImportDialogMorph.uber.popUp.call(this, world);\r\n        this.handle = new HandleMorph(\r\n            this,\r\n            300,\r\n            300,\r\n            this.corner,\r\n            this.corner\r\n        );\r\n    }\r\n};\r\n\r\nLibraryImportDialogMorph.prototype.fixListFieldItemColors =\r\n    ProjectDialogMorph.prototype.fixListFieldItemColors;\r\n\r\nLibraryImportDialogMorph.prototype.clearDetails =\r\n    ProjectDialogMorph.prototype.clearDetails;\r\n\r\nLibraryImportDialogMorph.prototype.fixLayout = function () {\r\n    var titleHeight = fontHeight(this.titleFontSize) + this.titlePadding * 2,\r\n        thin = this.padding / 2,\r\n        oldFlag = Morph.prototype.trackChanges;\r\n\r\n    Morph.prototype.trackChanges = false;\r\n\r\n    if (this.body) {\r\n        this.body.setPosition(this.position().add(new Point(\r\n            this.padding,\r\n            titleHeight + this.padding\r\n        )));\r\n        this.body.setExtent(new Point(\r\n            this.width() - this.padding * 2,\r\n            this.height()\r\n                - this.padding * 3 // top, bottom and button padding.\r\n                - titleHeight\r\n                - this.buttons.height()\r\n        ));\r\n\r\n        this.listField.setExtent(new Point(\r\n            200,\r\n            this.body.height()\r\n        ));\r\n        this.notesField.setExtent(new Point(\r\n            this.body.width() - this.listField.width() - thin,\r\n            100\r\n        ));\r\n        this.palette.setExtent(new Point(\r\n            this.notesField.width(),\r\n            this.body.height() - this.notesField.height() - thin\r\n        ));\r\n        this.listField.contents.children[0].adjustWidths();\r\n\r\n        this.listField.setPosition(this.body.position());\r\n        this.palette.setPosition(this.listField.topRight().add(\r\n            new Point(thin, 0)\r\n        ));\r\n        this.notesField.setPosition(this.palette.bottomLeft().add(\r\n            new Point(0, thin)\r\n        ));\r\n    }\r\n\r\n    if (this.label) {\r\n        this.label.setCenter(this.center());\r\n        this.label.setTop(\r\n            this.top() + (titleHeight - this.label.height()) / 2\r\n        );\r\n    }\r\n\r\n    if (this.buttons) {\r\n        this.buttons.fixLayout();\r\n        this.buttons.setCenter(this.center());\r\n        this.buttons.setBottom(this.bottom() - this.padding);\r\n    }\r\n\r\n    Morph.prototype.trackChanges = oldFlag;\r\n    this.changed();\r\n};\r\n\r\n// Library Cache Utilities.\r\nLibraryImportDialogMorph.prototype.hasCached = function (key) {\r\n    return this.libraryCache.hasOwnProperty(key);\r\n};\r\n\r\nLibraryImportDialogMorph.prototype.cacheLibrary = function (key, blocks) {\r\n    this.libraryCache[key] = blocks ;\r\n};\r\n\r\nLibraryImportDialogMorph.prototype.cachedLibrary = function (key) {\r\n    return this.libraryCache[key];\r\n};\r\n\r\nLibraryImportDialogMorph.prototype.importLibrary = function () {\r\n    var blocks,\r\n        ide = this.ide,\r\n        selectedLibrary = this.listField.selected.fileName,\r\n        libraryName = this.listField.selected.name;\r\n\r\n    if (this.hasCached(selectedLibrary)) {\r\n        blocks = this.cachedLibrary(selectedLibrary);\r\n        blocks.forEach(function (def) {\r\n            def.receiver = ide.stage;\r\n            ide.stage.globalBlocks.push(def);\r\n            ide.stage.replaceDoubleDefinitionsFor(def);\r\n        });\r\n        ide.showMessage(localize('Imported') + ' ' + localize(libraryName), 2);\r\n    } else {\r\n        ide.showMessage(localize('Loading') + ' ' + localize(libraryName));\r\n        ide.getURL(\r\n            ide.resourceURL('libraries', selectedLibrary),\r\n            function(libraryText) {\r\n                ide.droppedText(libraryText, libraryName);\r\n            }\r\n        );\r\n    }\r\n\r\n    this.destroy();\r\n};\r\n\r\nLibraryImportDialogMorph.prototype.displayBlocks = function (libraryKey) {\r\n    var x, y, blockImage, previousCategory, blockContainer,\r\n        myself = this,\r\n        padding = 4,\r\n        blocksList = this.cachedLibrary(libraryKey);\r\n\r\n    if (!blocksList.length) {return; }\r\n    // populate palette, grouped by categories.\r\n    this.initializePalette();\r\n    x = this.palette.left() + padding;\r\n    y = this.palette.top();\r\n\r\n    SpriteMorph.prototype.categories.forEach(function (category) {\r\n        blocksList.forEach(function (definition) {\r\n            if (definition.category !== category) {return; }\r\n            if (category !== previousCategory) {\r\n                y += padding;\r\n            }\r\n            previousCategory = category;\r\n\r\n            blockImage = definition.templateInstance().fullImage();\r\n            blockContainer = new Morph();\r\n            blockContainer.setExtent(\r\n                new Point(blockImage.width, blockImage.height)\r\n            );\r\n            blockContainer.image = blockImage;\r\n            blockContainer.setPosition(new Point(x, y));\r\n            myself.palette.addContents(blockContainer);\r\n\r\n            y += blockContainer.fullBounds().height() + padding;\r\n        });\r\n    });\r\n\r\n    this.palette.scrollX(padding);\r\n    this.palette.scrollY(padding);\r\n    this.fixLayout();\r\n};\r\n\r\nLibraryImportDialogMorph.prototype.showMessage = function (msgText) {\r\n    var msg = new MenuMorph(null, msgText);\r\n    this.initializePalette();\r\n    this.fixLayout();\r\n    msg.popUpCenteredInWorld(this.palette.contents);\r\n};\r\n\r\n// SpriteIconMorph ////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a selectable element in the Sprite corral, keeping a self-updating\r\n    thumbnail of the sprite I'm respresenting, and a self-updating label\r\n    of the sprite's name (in case it is changed elsewhere)\r\n*/\r\n\r\n// SpriteIconMorph inherits from ToggleButtonMorph (Widgets)\r\n\r\nSpriteIconMorph.prototype = new ToggleButtonMorph();\r\nSpriteIconMorph.prototype.constructor = SpriteIconMorph;\r\nSpriteIconMorph.uber = ToggleButtonMorph.prototype;\r\n\r\n// SpriteIconMorph settings\r\n\r\nSpriteIconMorph.prototype.thumbSize = new Point(40, 40);\r\nSpriteIconMorph.prototype.labelShadowOffset = null;\r\nSpriteIconMorph.prototype.labelShadowColor = null;\r\nSpriteIconMorph.prototype.labelColor = new Color(255, 255, 255);\r\nSpriteIconMorph.prototype.fontSize = 9;\r\n\r\n// SpriteIconMorph instance creation:\r\n\r\nfunction SpriteIconMorph(aSprite, aTemplate) {\r\n    this.init(aSprite, aTemplate);\r\n}\r\n\r\nSpriteIconMorph.prototype.init = function (aSprite, aTemplate) {\r\n    var colors, action, query, hover, myself = this;\r\n\r\n    if (!aTemplate) {\r\n        colors = [\r\n            IDE_Morph.prototype.groupColor,\r\n            IDE_Morph.prototype.frameColor,\r\n            IDE_Morph.prototype.frameColor\r\n        ];\r\n\r\n    }\r\n\r\n    action = function () {\r\n        // make my sprite the current one\r\n        var ide = myself.parentThatIsA(IDE_Morph);\r\n\r\n        if (ide) {\r\n            ide.selectSprite(myself.object);\r\n        }\r\n    };\r\n\r\n    query = function () {\r\n        // answer true if my sprite is the current one\r\n        var ide = myself.parentThatIsA(IDE_Morph);\r\n\r\n        if (ide) {\r\n            return ide.currentSprite === myself.object;\r\n        }\r\n        return false;\r\n    };\r\n\r\n    hover = function () {\r\n        if (!aSprite.exemplar) {return null; }\r\n        return (localize('parent') + ':\\n' + aSprite.exemplar.name);\r\n    };\r\n\r\n    // additional properties:\r\n    this.object = aSprite || new SpriteMorph(); // mandatory, actually\r\n    this.version = this.object.version;\r\n    this.thumbnail = null;\r\n    this.rotationButton = null; // synchronous rotation of nested sprites\r\n\r\n    // initialize inherited properties:\r\n    SpriteIconMorph.uber.init.call(\r\n        this,\r\n        colors, // color overrides, <array>: [normal, highlight, pressed]\r\n        null, // target - not needed here\r\n        action, // a toggle function\r\n        this.object.name, // label string\r\n        query, // predicate/selector\r\n        null, // environment\r\n        hover, // hint\r\n        aTemplate // optional, for cached background images\r\n    );\r\n\r\n    // override defaults and build additional components\r\n    this.isDraggable = true;\r\n    this.createThumbnail();\r\n    this.padding = 2;\r\n    this.corner = 8;\r\n    this.fixLayout();\r\n    this.fps = 1;\r\n};\r\n\r\nSpriteIconMorph.prototype.createThumbnail = function () {\r\n    if (this.thumbnail) {\r\n        this.thumbnail.destroy();\r\n    }\r\n\r\n    this.thumbnail = new Morph();\r\n    this.thumbnail.setExtent(this.thumbSize);\r\n    if (this.object instanceof SpriteMorph) { // support nested sprites\r\n        this.thumbnail.image = this.object.fullThumbnail(this.thumbSize);\r\n        this.createRotationButton();\r\n    } else {\r\n        this.thumbnail.image = this.object.thumbnail(this.thumbSize);\r\n    }\r\n    this.add(this.thumbnail);\r\n};\r\n\r\nSpriteIconMorph.prototype.createLabel = function () {\r\n    var txt;\r\n\r\n    if (this.label) {\r\n        this.label.destroy();\r\n    }\r\n    txt = new StringMorph(\r\n        this.object.name,\r\n        this.fontSize,\r\n        this.fontStyle,\r\n        true,\r\n        false,\r\n        false,\r\n        this.labelShadowOffset,\r\n        this.labelShadowColor,\r\n        this.labelColor\r\n    );\r\n\r\n    this.label = new FrameMorph();\r\n    this.label.acceptsDrops = false;\r\n    this.label.alpha = 0;\r\n    this.label.setExtent(txt.extent());\r\n    txt.setPosition(this.label.position());\r\n    this.label.add(txt);\r\n    this.add(this.label);\r\n};\r\n\r\nSpriteIconMorph.prototype.createRotationButton = function () {\r\n    var button, myself = this;\r\n\r\n    if (this.rotationButton) {\r\n        this.rotationButton.destroy();\r\n        this.roationButton = null;\r\n    }\r\n    if (!this.object.anchor) {\r\n        return;\r\n    }\r\n\r\n    button = new ToggleButtonMorph(\r\n        null, // colors,\r\n        null, // target\r\n        function () {\r\n            myself.object.rotatesWithAnchor =\r\n                !myself.object.rotatesWithAnchor;\r\n        },\r\n        [\r\n            '\\u2192',\r\n            '\\u21BB'\r\n        ],\r\n        function () {  // query\r\n            return myself.object.rotatesWithAnchor;\r\n        }\r\n    );\r\n\r\n    button.corner = 8;\r\n    button.labelMinExtent = new Point(11, 11);\r\n    button.padding = 0;\r\n    button.pressColor = button.color;\r\n    button.drawNew();\r\n    // button.hint = 'rotate synchronously\\nwith anchor';\r\n    button.fixLayout();\r\n    button.refresh();\r\n    button.changed();\r\n    this.rotationButton = button;\r\n    this.add(this.rotationButton);\r\n};\r\n\r\n// SpriteIconMorph stepping\r\n\r\nSpriteIconMorph.prototype.step = function () {\r\n    if (this.version !== this.object.version) {\r\n        this.createThumbnail();\r\n        this.createLabel();\r\n        this.fixLayout();\r\n        this.version = this.object.version;\r\n        this.refresh();\r\n    }\r\n};\r\n\r\n// SpriteIconMorph layout\r\n\r\nSpriteIconMorph.prototype.fixLayout = function () {\r\n    if (!this.thumbnail || !this.label) {return null; }\r\n\r\n    this.setWidth(\r\n        this.thumbnail.width()\r\n            + this.outline * 2\r\n            + this.edge * 2\r\n            + this.padding * 2\r\n    );\r\n\r\n    this.setHeight(\r\n        this.thumbnail.height()\r\n            + this.outline * 2\r\n            + this.edge * 2\r\n            + this.padding * 3\r\n            + this.label.height()\r\n    );\r\n\r\n    this.thumbnail.setCenter(this.center());\r\n    this.thumbnail.setTop(\r\n        this.top() + this.outline + this.edge + this.padding\r\n    );\r\n\r\n    if (this.rotationButton) {\r\n        this.rotationButton.setTop(this.top());\r\n        this.rotationButton.setRight(this.right());\r\n    }\r\n\r\n    this.label.setWidth(\r\n        Math.min(\r\n            this.label.children[0].width(), // the actual text\r\n            this.thumbnail.width()\r\n        )\r\n    );\r\n    this.label.setCenter(this.center());\r\n    this.label.setTop(\r\n        this.thumbnail.bottom() + this.padding\r\n    );\r\n};\r\n\r\n// SpriteIconMorph menu\r\n\r\nSpriteIconMorph.prototype.userMenu = function () {\r\n    var menu = new MenuMorph(this),\r\n        myself = this;\r\n    if (this.object instanceof StageMorph) {\r\n        menu.addItem(\r\n            'pic...',\r\n            function () {\r\n                var ide = myself.parentThatIsA(IDE_Morph);\r\n                ide.saveCanvasAs(\r\n                    myself.object.fullImageClassic(),\r\n                    this.object.name\r\n                );\r\n            },\r\n            'open a new window\\nwith a picture of the stage'\r\n        );\r\n        return menu;\r\n    }\r\n    if (!(this.object instanceof SpriteMorph)) {return null; }\r\n    menu.addItem(\"show\", 'showSpriteOnStage');\r\n    menu.addLine();\r\n    menu.addItem(\"duplicate\", 'duplicateSprite');\r\n    if (StageMorph.prototype.enableInheritance) {\r\n        menu.addItem(\"clone\", 'instantiateSprite');\r\n    }\r\n    menu.addItem(\"delete\", 'removeSprite');\r\n    menu.addLine();\r\n    if (StageMorph.prototype.enableInheritance) {\r\n        \r\n        menu.addItem(\"parent...\", 'chooseExemplar');\r\n        if (this.object.exemplar) {\r\n            menu.addItem(\r\n                \"release\",\r\n                'releaseSprite',\r\n                'make temporary and\\nhide in the sprite corral'\r\n            );\r\n        }\r\n    }\r\n    if (this.object.anchor) {\r\n        menu.addItem(\r\n            localize('detach from') + ' ' + this.object.anchor.name,\r\n            function () {myself.object.detachFromAnchor(); }\r\n        );\r\n    }\r\n    if (this.object.parts.length) {\r\n        menu.addItem(\r\n            'detach all parts',\r\n            function () {myself.object.detachAllParts(); }\r\n        );\r\n    }\r\n    menu.addItem(\"export...\", 'exportSprite');\r\n    return menu;\r\n};\r\n\r\nSpriteIconMorph.prototype.duplicateSprite = function () {\r\n    var ide = this.parentThatIsA(IDE_Morph);\r\n    if (ide) {\r\n        ide.duplicateSprite(this.object);\r\n    }\r\n};\r\n\r\nSpriteIconMorph.prototype.instantiateSprite = function () {\r\n    var ide = this.parentThatIsA(IDE_Morph);\r\n    if (ide) {\r\n        ide.instantiateSprite(this.object);\r\n    }\r\n};\r\n\r\nSpriteIconMorph.prototype.removeSprite = function () {\r\n    var ide = this.parentThatIsA(IDE_Morph);\r\n    if (ide) {\r\n        ide.removeSprite(this.object);\r\n    }\r\n};\r\n\r\nSpriteIconMorph.prototype.exportSprite = function () {\r\n    this.object.exportSprite();\r\n};\r\n\r\nSpriteIconMorph.prototype.chooseExemplar = function () {\r\n    this.object.chooseExemplar();\r\n};\r\n\r\nSpriteIconMorph.prototype.releaseSprite = function () {\r\n    this.object.release();\r\n};\r\n\r\nSpriteIconMorph.prototype.showSpriteOnStage = function () {\r\n    this.object.showOnStage();\r\n};\r\n\r\n// SpriteIconMorph events\r\n\r\nSpriteIconMorph.prototype.mouseDoubleClick = function () {\r\n\tif (this.object instanceof SpriteMorph) {\r\n    \tthis.object.flash();\r\n    }\r\n};\r\n\r\n// SpriteIconMorph drawing\r\n\r\nSpriteIconMorph.prototype.createBackgrounds = function () {\r\n//    only draw the edges if I am selected\r\n    var context,\r\n        ext = this.extent();\r\n\r\n    if (this.template) { // take the backgrounds images from the template\r\n        this.image = this.template.image;\r\n        this.normalImage = this.template.normalImage;\r\n        this.highlightImage = this.template.highlightImage;\r\n        this.pressImage = this.template.pressImage;\r\n        return null;\r\n    }\r\n\r\n    this.normalImage = newCanvas(ext);\r\n    context = this.normalImage.getContext('2d');\r\n    this.drawBackground(context, this.color);\r\n\r\n    this.highlightImage = newCanvas(ext);\r\n    context = this.highlightImage.getContext('2d');\r\n    this.drawBackground(context, this.highlightColor);\r\n\r\n    this.pressImage = newCanvas(ext);\r\n    context = this.pressImage.getContext('2d');\r\n    this.drawOutline(context);\r\n    this.drawBackground(context, this.pressColor);\r\n    this.drawEdges(\r\n        context,\r\n        this.pressColor,\r\n        this.pressColor.lighter(this.contrast),\r\n        this.pressColor.darker(this.contrast)\r\n    );\r\n\r\n    this.image = this.normalImage;\r\n};\r\n\r\n// SpriteIconMorph drag & drop\r\n\r\nSpriteIconMorph.prototype.prepareToBeGrabbed = function () {\r\n    var ide = this.parentThatIsA(IDE_Morph),\r\n        idx;\r\n    this.mouseClickLeft(); // select me\r\n    this.alpha = 0.85;\r\n    if (ide) {\r\n        idx = ide.sprites.asArray().indexOf(this.object);\r\n        ide.sprites.remove(idx + 1);\r\n        ide.createCorral();\r\n        ide.fixLayout();\r\n    }\r\n};\r\n\r\nSpriteIconMorph.prototype.justDropped = function () {\r\n    this.alpha = 1;\r\n};\r\n\r\nSpriteIconMorph.prototype.wantsDropOf = function (morph) {\r\n    // allow scripts & media to be copied from one sprite to another\r\n    // by drag & drop\r\n    return morph instanceof BlockMorph\r\n        || (morph instanceof CostumeIconMorph)\r\n        || (morph instanceof SoundIconMorph);\r\n};\r\n\r\nSpriteIconMorph.prototype.reactToDropOf = function (morph, hand) {\r\n    if (morph instanceof BlockMorph) {\r\n        this.copyStack(morph);\r\n    } else if (morph instanceof CostumeIconMorph) {\r\n        this.copyCostume(morph.object);\r\n    } else if (morph instanceof SoundIconMorph) {\r\n        this.copySound(morph.object);\r\n    }\r\n    this.world().add(morph);\r\n    morph.slideBackTo(hand.grabOrigin);\r\n};\r\n\r\nSpriteIconMorph.prototype.copyStack = function (block) {\r\n    var sprite = this.object,\r\n    \tdup = block.fullCopy(),\r\n        y = Math.max(sprite.scripts.children.map(function (stack) {\r\n            return stack.fullBounds().bottom();\r\n        }).concat([sprite.scripts.top()]));\r\n\r\n    dup.setPosition(new Point(sprite.scripts.left() + 20, y + 20));\r\n    sprite.scripts.add(dup);\r\n    dup.allComments().forEach(function (comment) {\r\n        comment.align(dup);\r\n    });\r\n    sprite.scripts.adjustBounds();\r\n\r\n    // delete all local custom blocks (methods) that the receiver\r\n    // doesn't understand\r\n    dup.allChildren().forEach(function (morph) {\r\n\t    if (morph.isCustomBlock &&\r\n        \t\t!morph.isGlobal &&\r\n        \t\t!sprite.getMethod(morph.blockSpec)\r\n        ) {\r\n            morph.deleteBlock();\r\n        }\r\n    });\r\n};\r\n\r\nSpriteIconMorph.prototype.copyCostume = function (costume) {\r\n    var dup = costume.copy();\r\n    dup.name = this.object.newCostumeName(dup.name);\r\n    this.object.addCostume(dup);\r\n    this.object.wearCostume(dup);\r\n};\r\n\r\nSpriteIconMorph.prototype.copySound = function (sound) {\r\n    var dup = sound.copy();\r\n    this.object.addSound(dup.audio, dup.name);\r\n};\r\n\r\n// CostumeIconMorph ////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a selectable element in the SpriteEditor's \"Costumes\" tab, keeping\r\n    a self-updating thumbnail of the costume I'm respresenting, and a\r\n    self-updating label of the costume's name (in case it is changed\r\n    elsewhere)\r\n*/\r\n\r\n// CostumeIconMorph inherits from ToggleButtonMorph (Widgets)\r\n// ... and copies methods from SpriteIconMorph\r\n\r\nCostumeIconMorph.prototype = new ToggleButtonMorph();\r\nCostumeIconMorph.prototype.constructor = CostumeIconMorph;\r\nCostumeIconMorph.uber = ToggleButtonMorph.prototype;\r\n\r\n// CostumeIconMorph settings\r\n\r\nCostumeIconMorph.prototype.thumbSize = new Point(80, 60);\r\nCostumeIconMorph.prototype.labelShadowOffset = null;\r\nCostumeIconMorph.prototype.labelShadowColor = null;\r\nCostumeIconMorph.prototype.labelColor = new Color(255, 255, 255);\r\nCostumeIconMorph.prototype.fontSize = 9;\r\n\r\n// CostumeIconMorph instance creation:\r\n\r\nfunction CostumeIconMorph(aCostume, aTemplate) {\r\n    this.init(aCostume, aTemplate);\r\n}\r\n\r\nCostumeIconMorph.prototype.init = function (aCostume, aTemplate) {\r\n    var colors, action, query, myself = this;\r\n\r\n    if (!aTemplate) {\r\n        colors = [\r\n            IDE_Morph.prototype.groupColor,\r\n            IDE_Morph.prototype.frameColor,\r\n            IDE_Morph.prototype.frameColor\r\n        ];\r\n\r\n    }\r\n\r\n    action = function () {\r\n        // make my costume the current one\r\n        var ide = myself.parentThatIsA(IDE_Morph),\r\n            wardrobe = myself.parentThatIsA(WardrobeMorph);\r\n\r\n        if (ide) {\r\n            ide.currentSprite.wearCostume(myself.object);\r\n        }\r\n        if (wardrobe) {\r\n            wardrobe.updateSelection();\r\n        }\r\n    };\r\n\r\n    query = function () {\r\n        // answer true if my costume is the current one\r\n        var ide = myself.parentThatIsA(IDE_Morph);\r\n\r\n        if (ide) {\r\n            return ide.currentSprite.costume === myself.object;\r\n        }\r\n        return false;\r\n    };\r\n\r\n    // additional properties:\r\n    this.object = aCostume || new Costume(); // mandatory, actually\r\n    this.version = this.object.version;\r\n    this.thumbnail = null;\r\n\r\n    // initialize inherited properties:\r\n    CostumeIconMorph.uber.init.call(\r\n        this,\r\n        colors, // color overrides, <array>: [normal, highlight, pressed]\r\n        null, // target - not needed here\r\n        action, // a toggle function\r\n        this.object.name, // label string\r\n        query, // predicate/selector\r\n        null, // environment\r\n        null, // hint\r\n        aTemplate // optional, for cached background images\r\n    );\r\n\r\n    // override defaults and build additional components\r\n    this.isDraggable = true;\r\n    this.createThumbnail();\r\n    this.padding = 2;\r\n    this.corner = 8;\r\n    this.fixLayout();\r\n    this.fps = 1;\r\n};\r\n\r\nCostumeIconMorph.prototype.createThumbnail = function () {\r\n    var txt;\r\n    SpriteIconMorph.prototype.createThumbnail.call(this);\r\n    if (this.object instanceof SVG_Costume) {\r\n        txt = new StringMorph(\r\n            'svg',\r\n            this.fontSize * 0.8,\r\n            this.fontStyle,\r\n            false,\r\n            false,\r\n            false,\r\n            this.labelShadowOffset,\r\n            this.labelShadowColor,\r\n            this.labelColor\r\n        );\r\n        txt.setBottom(this.thumbnail.bottom());\r\n        this.thumbnail.add(txt);\r\n    }\r\n};\r\n\r\nCostumeIconMorph.prototype.createLabel\r\n    = SpriteIconMorph.prototype.createLabel;\r\n\r\n// CostumeIconMorph stepping\r\n\r\nCostumeIconMorph.prototype.step\r\n    = SpriteIconMorph.prototype.step;\r\n\r\n// CostumeIconMorph layout\r\n\r\nCostumeIconMorph.prototype.fixLayout\r\n    = SpriteIconMorph.prototype.fixLayout;\r\n\r\n// CostumeIconMorph menu\r\n\r\nCostumeIconMorph.prototype.userMenu = function () {\r\n    var menu = new MenuMorph(this);\r\n    if (!(this.object instanceof Costume)) {return null; }\r\n    menu.addItem(\"edit\", \"editCostume\");\r\n    if (this.world().currentKey === 16) { // shift clicked\r\n        menu.addItem(\r\n            'edit rotation point only...',\r\n            'editRotationPointOnly',\r\n            null,\r\n            new Color(100, 0, 0)\r\n        );\r\n    }\r\n    menu.addItem(\"rename\", \"renameCostume\");\r\n    menu.addLine();\r\n    menu.addItem(\"duplicate\", \"duplicateCostume\");\r\n    menu.addItem(\"delete\", \"removeCostume\");\r\n    menu.addLine();\r\n    menu.addItem(\"export\", \"exportCostume\");\r\n    return menu;\r\n};\r\n\r\nCostumeIconMorph.prototype.editCostume = function () {\r\n    this.disinherit();\r\n    if (this.object instanceof SVG_Costume) {\r\n        this.object.editRotationPointOnly(this.world());\r\n    } else {\r\n        this.object.edit(\r\n            this.world(),\r\n            this.parentThatIsA(IDE_Morph),\r\n            false // not a new costume, retain existing rotation center\r\n        );\r\n    }\r\n};\r\n\r\nCostumeIconMorph.prototype.editRotationPointOnly = function () {\r\n    var ide = this.parentThatIsA(IDE_Morph);\r\n    this.object.editRotationPointOnly(this.world());\r\n    ide.hasChangedMedia = true;\r\n};\r\n\r\nCostumeIconMorph.prototype.renameCostume = function () {\r\n    this.disinherit();\r\n    var costume = this.object,\r\n        wardrobe = this.parentThatIsA(WardrobeMorph),\r\n        ide = this.parentThatIsA(IDE_Morph);\r\n    new DialogBoxMorph(\r\n        null,\r\n        function (answer) {\r\n            if (answer && (answer !== costume.name)) {\r\n                costume.name = wardrobe.sprite.newCostumeName(\r\n                    answer,\r\n                    costume\r\n                );\r\n                costume.version = Date.now();\r\n                ide.hasChangedMedia = true;\r\n            }\r\n        }\r\n    ).prompt(\r\n        this.currentSprite instanceof SpriteMorph ?\r\n            'rename costume' : 'rename background',\r\n        costume.name,\r\n        this.world()\r\n    );\r\n};\r\n\r\nCostumeIconMorph.prototype.duplicateCostume = function () {\r\n    var wardrobe = this.parentThatIsA(WardrobeMorph),\r\n        ide = this.parentThatIsA(IDE_Morph),\r\n        newcos = this.object.copy();\r\n    newcos.name = wardrobe.sprite.newCostumeName(newcos.name);\r\n    wardrobe.sprite.addCostume(newcos);\r\n    wardrobe.updateList();\r\n    if (ide) {\r\n        ide.currentSprite.wearCostume(newcos);\r\n    }\r\n};\r\n\r\nCostumeIconMorph.prototype.removeCostume = function () {\r\n    var wardrobe = this.parentThatIsA(WardrobeMorph),\r\n        idx = this.parent.children.indexOf(this),\r\n        off = CamSnapshotDialogMorph.prototype.enableCamera ? 3 : 2,\r\n        ide = this.parentThatIsA(IDE_Morph);\r\n    wardrobe.removeCostumeAt(idx - off); // ignore paintbrush and camera buttons\r\n    if (ide.currentSprite.costume === this.object) {\r\n        ide.currentSprite.wearCostume(null);\r\n    }\r\n};\r\n\r\nCostumeIconMorph.prototype.exportCostume = function () {\r\n    var ide = this.parentThatIsA(IDE_Morph);\r\n    if (this.object instanceof SVG_Costume) {\r\n        // don't show SVG costumes in a new tab (shows text)\r\n        ide.saveFileAs(this.object.contents.src, 'text/svg', this.object.name);\r\n    } else { // rasterized Costume\r\n        ide.saveCanvasAs(this.object.contents, this.object.name);\r\n    }\r\n};\r\n\r\n// CostumeIconMorph drawing\r\n\r\nCostumeIconMorph.prototype.createBackgrounds\r\n    = SpriteIconMorph.prototype.createBackgrounds;\r\n\r\n// CostumeIconMorph inheritance\r\n\r\nCostumeIconMorph.prototype.disinherit = function () {\r\n    var wardrobe = this.parentThatIsA(WardrobeMorph),\r\n        idx = this.parent.children.indexOf(this);\r\n    if (wardrobe.sprite.inheritsAttribute('costumes')) {\r\n        wardrobe.sprite.shadowAttribute('costumes');\r\n        this.object = wardrobe.sprite.costumes.at(idx - 2);\r\n    }\r\n};\r\n\r\n// CostumeIconMorph drag & drop\r\n\r\nCostumeIconMorph.prototype.prepareToBeGrabbed = function () {\r\n    this.disinherit();\r\n    this.mouseClickLeft(); // select me\r\n    this.removeCostume();\r\n};\r\n\r\n// TurtleIconMorph ////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a selectable element in the SpriteEditor's \"Costumes\" tab, keeping\r\n    a thumbnail of the sprite's or stage's default \"Turtle\" costume.\r\n*/\r\n\r\n// TurtleIconMorph inherits from ToggleButtonMorph (Widgets)\r\n// ... and copies methods from SpriteIconMorph\r\n\r\nTurtleIconMorph.prototype = new ToggleButtonMorph();\r\nTurtleIconMorph.prototype.constructor = TurtleIconMorph;\r\nTurtleIconMorph.uber = ToggleButtonMorph.prototype;\r\n\r\n// TurtleIconMorph settings\r\n\r\nTurtleIconMorph.prototype.thumbSize = new Point(80, 60);\r\nTurtleIconMorph.prototype.labelShadowOffset = null;\r\nTurtleIconMorph.prototype.labelShadowColor = null;\r\nTurtleIconMorph.prototype.labelColor = new Color(255, 255, 255);\r\nTurtleIconMorph.prototype.fontSize = 9;\r\n\r\n// TurtleIconMorph instance creation:\r\n\r\nfunction TurtleIconMorph(aSpriteOrStage, aTemplate) {\r\n    this.init(aSpriteOrStage, aTemplate);\r\n}\r\n\r\nTurtleIconMorph.prototype.init = function (aSpriteOrStage, aTemplate) {\r\n    var colors, action, query, myself = this;\r\n\r\n    if (!aTemplate) {\r\n        colors = [\r\n            IDE_Morph.prototype.groupColor,\r\n            IDE_Morph.prototype.frameColor,\r\n            IDE_Morph.prototype.frameColor\r\n        ];\r\n\r\n    }\r\n\r\n    action = function () {\r\n        // make my costume the current one\r\n        var ide = myself.parentThatIsA(IDE_Morph),\r\n            wardrobe = myself.parentThatIsA(WardrobeMorph);\r\n\r\n        if (ide) {\r\n            ide.currentSprite.wearCostume(null);\r\n        }\r\n        if (wardrobe) {\r\n            wardrobe.updateSelection();\r\n        }\r\n    };\r\n\r\n    query = function () {\r\n        // answer true if my costume is the current one\r\n        var ide = myself.parentThatIsA(IDE_Morph);\r\n\r\n        if (ide) {\r\n            return ide.currentSprite.costume === null;\r\n        }\r\n        return false;\r\n    };\r\n\r\n    // additional properties:\r\n    this.object = aSpriteOrStage; // mandatory, actually\r\n    this.version = this.object.version;\r\n    this.thumbnail = null;\r\n\r\n    // initialize inherited properties:\r\n    TurtleIconMorph.uber.init.call(\r\n        this,\r\n        colors, // color overrides, <array>: [normal, highlight, pressed]\r\n        null, // target - not needed here\r\n        action, // a toggle function\r\n        'default', // label string\r\n        query, // predicate/selector\r\n        null, // environment\r\n        null, // hint\r\n        aTemplate // optional, for cached background images\r\n    );\r\n\r\n    // override defaults and build additional components\r\n    this.isDraggable = false;\r\n    this.createThumbnail();\r\n    this.padding = 2;\r\n    this.corner = 8;\r\n    this.fixLayout();\r\n};\r\n\r\nTurtleIconMorph.prototype.createThumbnail = function () {\r\n    var isFlat = MorphicPreferences.isFlat;\r\n\r\n    if (this.thumbnail) {\r\n        this.thumbnail.destroy();\r\n    }\r\n    if (this.object instanceof SpriteMorph) {\r\n        this.thumbnail = new SymbolMorph(\r\n            'turtle',\r\n            this.thumbSize.y,\r\n            this.labelColor,\r\n            isFlat ? null : new Point(-1, -1),\r\n            new Color(0, 0, 0)\r\n        );\r\n    } else {\r\n        this.thumbnail = new SymbolMorph(\r\n            'stage',\r\n            this.thumbSize.y,\r\n            this.labelColor,\r\n            isFlat ? null : new Point(-1, -1),\r\n            new Color(0, 0, 0)\r\n        );\r\n    }\r\n    this.add(this.thumbnail);\r\n};\r\n\r\nTurtleIconMorph.prototype.createLabel = function () {\r\n    var txt;\r\n\r\n    if (this.label) {\r\n        this.label.destroy();\r\n    }\r\n    txt = new StringMorph(\r\n        localize(\r\n            this.object instanceof SpriteMorph ? 'Turtle' : 'Empty'\r\n        ),\r\n        this.fontSize,\r\n        this.fontStyle,\r\n        true,\r\n        false,\r\n        false,\r\n        this.labelShadowOffset,\r\n        this.labelShadowColor,\r\n        this.labelColor\r\n    );\r\n\r\n    this.label = new FrameMorph();\r\n    this.label.acceptsDrops = false;\r\n    this.label.alpha = 0;\r\n    this.label.setExtent(txt.extent());\r\n    txt.setPosition(this.label.position());\r\n    this.label.add(txt);\r\n    this.add(this.label);\r\n};\r\n\r\n// TurtleIconMorph layout\r\n\r\nTurtleIconMorph.prototype.fixLayout\r\n    = SpriteIconMorph.prototype.fixLayout;\r\n\r\n// TurtleIconMorph drawing\r\n\r\nTurtleIconMorph.prototype.createBackgrounds\r\n    = SpriteIconMorph.prototype.createBackgrounds;\r\n\r\n// TurtleIconMorph user menu\r\n\r\nTurtleIconMorph.prototype.userMenu = function () {\r\n    var myself = this,\r\n        menu = new MenuMorph(this, 'pen'),\r\n        on = '\\u25CF',\r\n        off = '\\u25CB';\r\n    if (this.object instanceof StageMorph) {\r\n        return null;\r\n    }\r\n    menu.addItem(\r\n        (this.object.penPoint === 'tip' ? on : off) + ' ' + localize('tip'),\r\n        function () {\r\n            myself.object.penPoint = 'tip';\r\n            myself.object.changed();\r\n            myself.object.drawNew();\r\n            myself.object.changed();\r\n        }\r\n    );\r\n    menu.addItem(\r\n        (this.object.penPoint === 'middle' ? on : off) + ' ' + localize(\r\n            'middle'\r\n        ),\r\n        function () {\r\n            myself.object.penPoint = 'middle';\r\n            myself.object.changed();\r\n            myself.object.drawNew();\r\n            myself.object.changed();\r\n        }\r\n    );\r\n    return menu;\r\n};\r\n\r\n// WardrobeMorph ///////////////////////////////////////////////////////\r\n\r\n// I am a watcher on a sprite's costume list\r\n\r\n// WardrobeMorph inherits from ScrollFrameMorph\r\n\r\nWardrobeMorph.prototype = new ScrollFrameMorph();\r\nWardrobeMorph.prototype.constructor = WardrobeMorph;\r\nWardrobeMorph.uber = ScrollFrameMorph.prototype;\r\n\r\n// WardrobeMorph settings\r\n\r\n// ... to follow ...\r\n\r\n// WardrobeMorph instance creation:\r\n\r\nfunction WardrobeMorph(aSprite, sliderColor) {\r\n    this.init(aSprite, sliderColor);\r\n}\r\n\r\nWardrobeMorph.prototype.init = function (aSprite, sliderColor) {\r\n    // additional properties\r\n    this.sprite = aSprite || new SpriteMorph();\r\n    this.costumesVersion = null;\r\n    this.spriteVersion = null;\r\n\r\n    // initialize inherited properties\r\n    WardrobeMorph.uber.init.call(this, null, null, sliderColor);\r\n\r\n    // configure inherited properties\r\n    this.fps = 2;\r\n    this.updateList();\r\n};\r\n\r\n// Wardrobe updating\r\n\r\nWardrobeMorph.prototype.updateList = function () {\r\n    var myself = this,\r\n        x = this.left() + 5,\r\n        y = this.top() + 5,\r\n        padding = 4,\r\n        toolsPadding = 5,\r\n        oldFlag = Morph.prototype.trackChanges,\r\n        oldPos = this.contents.position(),\r\n        icon,\r\n        template,\r\n        txt,\r\n        paintbutton,\r\n        cambutton;\r\n\r\n    this.changed();\r\n    oldFlag = Morph.prototype.trackChanges;\r\n    Morph.prototype.trackChanges = false;\r\n\r\n    this.contents.destroy();\r\n    this.contents = new FrameMorph(this);\r\n    this.contents.acceptsDrops = false;\r\n    this.contents.reactToDropOf = function (icon) {\r\n        myself.reactToDropOf(icon);\r\n    };\r\n    this.addBack(this.contents);\r\n\r\n    icon = new TurtleIconMorph(this.sprite);\r\n    icon.setPosition(new Point(x, y));\r\n    myself.addContents(icon);\r\n    y = icon.bottom() + padding;\r\n\r\n    paintbutton = new PushButtonMorph(\r\n        this,\r\n        \"paintNew\",\r\n        new SymbolMorph(\"brush\", 15)\r\n    );\r\n    paintbutton.padding = 0;\r\n    paintbutton.corner = 12;\r\n    paintbutton.color = IDE_Morph.prototype.groupColor;\r\n    paintbutton.highlightColor = IDE_Morph.prototype.frameColor.darker(50);\r\n    paintbutton.pressColor = paintbutton.highlightColor;\r\n    paintbutton.labelMinExtent = new Point(36, 18);\r\n    paintbutton.labelShadowOffset = new Point(-1, -1);\r\n    paintbutton.labelShadowColor = paintbutton.highlightColor;\r\n    paintbutton.labelColor = TurtleIconMorph.prototype.labelColor;\r\n    paintbutton.contrast = this.buttonContrast;\r\n    paintbutton.drawNew();\r\n    paintbutton.hint = \"Paint a new costume\";\r\n    paintbutton.setPosition(new Point(x, y));\r\n    paintbutton.fixLayout();\r\n    paintbutton.setCenter(icon.center());\r\n    paintbutton.setLeft(icon.right() + padding * 4);\r\n\r\n    this.addContents(paintbutton);\r\n\r\n    if (CamSnapshotDialogMorph.prototype.enableCamera) {\r\n        cambutton = new PushButtonMorph(\r\n            this,\r\n            \"newFromCam\",\r\n            new SymbolMorph(\"camera\", 15)\r\n            );\r\n        cambutton.padding = 0;\r\n        cambutton.corner = 12;\r\n        cambutton.color = IDE_Morph.prototype.groupColor;\r\n        cambutton.highlightColor = IDE_Morph.prototype.frameColor.darker(50);\r\n        cambutton.pressColor = paintbutton.highlightColor;\r\n        cambutton.labelMinExtent = new Point(36, 18);\r\n        cambutton.labelShadowOffset = new Point(-1, -1);\r\n        cambutton.labelShadowColor = paintbutton.highlightColor;\r\n        cambutton.labelColor = TurtleIconMorph.prototype.labelColor;\r\n        cambutton.contrast = this.buttonContrast;\r\n        cambutton.drawNew();\r\n        cambutton.hint = \"Import a new costume from your webcam\";\r\n        cambutton.setPosition(new Point(x, y));\r\n        cambutton.fixLayout();\r\n        cambutton.setCenter(paintbutton.center());\r\n        cambutton.setLeft(paintbutton.right() + toolsPadding);\r\n\r\n        this.addContents(cambutton);\r\n\r\n        if (!CamSnapshotDialogMorph.prototype.enabled) {\r\n            cambutton.disable();\r\n            cambutton.hint = CamSnapshotDialogMorph.prototype.notSupportedMessage;\r\n        }\r\n\r\n        document.addEventListener(\r\n            'cameraDisabled',\r\n            function () {\r\n                cambutton.disable();\r\n                cambutton.hint =\r\n                    CamSnapshotDialogMorph.prototype.notSupportedMessage;\r\n            }\r\n        );\r\n    }\r\n\r\n    txt = new TextMorph(localize(\r\n        \"costumes tab help\" // look up long string in translator\r\n    ));\r\n    txt.fontSize = 9;\r\n    txt.setColor(SpriteMorph.prototype.paletteTextColor);\r\n\r\n    txt.setPosition(new Point(x, y));\r\n    this.addContents(txt);\r\n    y = txt.bottom() + padding;\r\n\r\n    this.sprite.costumes.asArray().forEach(function (costume) {\r\n        template = icon = new CostumeIconMorph(costume, template);\r\n        icon.setPosition(new Point(x, y));\r\n        myself.addContents(icon);\r\n        y = icon.bottom() + padding;\r\n    });\r\n    this.costumesVersion = this.sprite.costumes.lastChanged;\r\n\r\n    this.contents.setPosition(oldPos);\r\n    this.adjustScrollBars();\r\n    Morph.prototype.trackChanges = oldFlag;\r\n    this.changed();\r\n\r\n    this.updateSelection();\r\n};\r\n\r\nWardrobeMorph.prototype.updateSelection = function () {\r\n    this.contents.children.forEach(function (morph) {\r\n        if (morph.refresh) {morph.refresh(); }\r\n    });\r\n    this.spriteVersion = this.sprite.version;\r\n};\r\n\r\n// Wardrobe stepping\r\n\r\nWardrobeMorph.prototype.step = function () {\r\n    if (this.costumesVersion !== this.sprite.costumes.lastChanged) {\r\n        this.updateList();\r\n    }\r\n    if (this.spriteVersion !== this.sprite.version) {\r\n        this.updateSelection();\r\n    }\r\n};\r\n\r\n// Wardrobe ops\r\n\r\nWardrobeMorph.prototype.removeCostumeAt = function (idx) {\r\n    this.sprite.shadowAttribute('costumes');\r\n    this.sprite.costumes.remove(idx);\r\n    this.updateList();\r\n};\r\n\r\nWardrobeMorph.prototype.paintNew = function () {\r\n    var cos = new Costume(\r\n            newCanvas(null, true),\r\n            this.sprite.newCostumeName(localize('Untitled'))\r\n        ),\r\n        ide = this.parentThatIsA(IDE_Morph),\r\n        myself = this;\r\n    cos.edit(this.world(), ide, true, null, function () {\r\n        myself.sprite.shadowAttribute('costumes');\r\n        myself.sprite.addCostume(cos);\r\n        myself.updateList();\r\n        if (ide) {\r\n            ide.currentSprite.wearCostume(cos);\r\n        }\r\n    });\r\n};\r\n\r\nWardrobeMorph.prototype.newFromCam = function () {\r\n    var camDialog,\r\n        ide = this.parentThatIsA(IDE_Morph),\r\n        myself = this,\r\n        sprite = this.sprite;\r\n\r\n    camDialog = new CamSnapshotDialogMorph(\r\n        ide,\r\n        sprite,\r\n        nop,\r\n        function (costume) {\r\n            sprite.addCostume(costume);\r\n            sprite.wearCostume(costume);\r\n            myself.updateList();\r\n        });\r\n\r\n    camDialog.popUp(this.world());\r\n};\r\n\r\n// Wardrobe drag & drop\r\n\r\nWardrobeMorph.prototype.wantsDropOf = function (morph) {\r\n    return morph instanceof CostumeIconMorph;\r\n};\r\n\r\nWardrobeMorph.prototype.reactToDropOf = function (icon) {\r\n    var idx = 0,\r\n        costume = icon.object,\r\n        top = icon.top();\r\n\r\n    icon.destroy();\r\n    this.contents.children.forEach(function (item) {\r\n        if (item instanceof CostumeIconMorph && item.top() < top - 4) {\r\n            idx += 1;\r\n        }\r\n    });\r\n    this.sprite.shadowAttribute('costumes');\r\n    this.sprite.costumes.add(costume, idx + 1);\r\n    this.updateList();\r\n    icon.mouseClickLeft(); // select\r\n};\r\n\r\n// SoundIconMorph ///////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am an element in the SpriteEditor's \"Sounds\" tab.\r\n*/\r\n\r\n// SoundIconMorph inherits from ToggleButtonMorph (Widgets)\r\n// ... and copies methods from SpriteIconMorph\r\n\r\nSoundIconMorph.prototype = new ToggleButtonMorph();\r\nSoundIconMorph.prototype.constructor = SoundIconMorph;\r\nSoundIconMorph.uber = ToggleButtonMorph.prototype;\r\n\r\n// SoundIconMorph settings\r\n\r\nSoundIconMorph.prototype.thumbSize = new Point(80, 60);\r\nSoundIconMorph.prototype.labelShadowOffset = null;\r\nSoundIconMorph.prototype.labelShadowColor = null;\r\nSoundIconMorph.prototype.labelColor = new Color(255, 255, 255);\r\nSoundIconMorph.prototype.fontSize = 9;\r\n\r\n// SoundIconMorph instance creation:\r\n\r\nfunction SoundIconMorph(aSound, aTemplate) {\r\n    this.init(aSound, aTemplate);\r\n}\r\n\r\nSoundIconMorph.prototype.init = function (aSound, aTemplate) {\r\n    var colors, action, query;\r\n\r\n    if (!aTemplate) {\r\n        colors = [\r\n            IDE_Morph.prototype.groupColor,\r\n            IDE_Morph.prototype.frameColor,\r\n            IDE_Morph.prototype.frameColor\r\n        ];\r\n\r\n    }\r\n\r\n    action = function () {\r\n        nop(); // When I am selected (which is never the case for sounds)\r\n    };\r\n\r\n    query = function () {\r\n        return false;\r\n    };\r\n\r\n    // additional properties:\r\n    this.object = aSound; // mandatory, actually\r\n    this.version = this.object.version;\r\n    this.thumbnail = null;\r\n\r\n    // initialize inherited properties:\r\n    SoundIconMorph.uber.init.call(\r\n        this,\r\n        colors, // color overrides, <array>: [normal, highlight, pressed]\r\n        null, // target - not needed here\r\n        action, // a toggle function\r\n        this.object.name, // label string\r\n        query, // predicate/selector\r\n        null, // environment\r\n        null, // hint\r\n        aTemplate // optional, for cached background images\r\n    );\r\n\r\n    // override defaults and build additional components\r\n    this.isDraggable = true;\r\n    this.createThumbnail();\r\n    this.padding = 2;\r\n    this.corner = 8;\r\n    this.fixLayout();\r\n    this.fps = 1;\r\n};\r\n\r\nSoundIconMorph.prototype.createThumbnail = function () {\r\n    var label;\r\n    if (this.thumbnail) {\r\n        this.thumbnail.destroy();\r\n    }\r\n    this.thumbnail = new Morph();\r\n    this.thumbnail.setExtent(this.thumbSize);\r\n    this.add(this.thumbnail);\r\n    label = new StringMorph(\r\n        this.createInfo(),\r\n        '16',\r\n        '',\r\n        true,\r\n        false,\r\n        false,\r\n        this.labelShadowOffset,\r\n        this.labelShadowColor,\r\n        new Color(200, 200, 200)\r\n    );\r\n    this.thumbnail.add(label);\r\n    label.setCenter(new Point(40, 15));\r\n\r\n    this.button = new PushButtonMorph(\r\n        this,\r\n        'toggleAudioPlaying',\r\n        (this.object.previewAudio ? 'Stop' : 'Play')\r\n    );\r\n    this.button.drawNew();\r\n    this.button.hint = 'Play sound';\r\n    this.button.fixLayout();\r\n    this.thumbnail.add(this.button);\r\n    this.button.setCenter(new Point(40, 40));\r\n};\r\n\r\nSoundIconMorph.prototype.createInfo = function () {\r\n    var dur = Math.round(this.object.audio.duration || 0),\r\n        mod = dur % 60;\r\n    return Math.floor(dur / 60).toString()\r\n            + \":\"\r\n            + (mod < 10 ? \"0\" : \"\")\r\n            + mod.toString();\r\n};\r\n\r\nSoundIconMorph.prototype.toggleAudioPlaying = function () {\r\n    var myself = this;\r\n    if (!this.object.previewAudio) {\r\n        //Audio is not playing\r\n        this.button.labelString = 'Stop';\r\n        this.button.hint = 'Stop sound';\r\n        this.object.previewAudio = this.object.play();\r\n        this.object.previewAudio.addEventListener('ended', function () {\r\n            myself.audioHasEnded();\r\n        }, false);\r\n    } else {\r\n        //Audio is currently playing\r\n        this.button.labelString = 'Play';\r\n        this.button.hint = 'Play sound';\r\n        this.object.previewAudio.pause();\r\n        this.object.previewAudio.terminated = true;\r\n        this.object.previewAudio = null;\r\n    }\r\n    this.button.createLabel();\r\n};\r\n\r\nSoundIconMorph.prototype.audioHasEnded = function () {\r\n    this.button.trigger();\r\n    this.button.mouseLeave();\r\n};\r\n\r\nSoundIconMorph.prototype.createLabel\r\n    = SpriteIconMorph.prototype.createLabel;\r\n\r\n// SoundIconMorph layout\r\n\r\nSoundIconMorph.prototype.fixLayout\r\n    = SpriteIconMorph.prototype.fixLayout;\r\n\r\n// SoundIconMorph menu\r\n\r\nSoundIconMorph.prototype.userMenu = function () {\r\n    var menu = new MenuMorph(this);\r\n    if (!(this.object instanceof Sound)) { return null; }\r\n    menu.addItem('rename', 'renameSound');\r\n    menu.addItem('delete', 'removeSound');\r\n    return menu;\r\n};\r\n\r\n\r\nSoundIconMorph.prototype.renameSound = function () {\r\n    var sound = this.object,\r\n        ide = this.parentThatIsA(IDE_Morph),\r\n        myself = this;\r\n    this.disinherit();\r\n    (new DialogBoxMorph(\r\n        null,\r\n        function (answer) {\r\n            if (answer && (answer !== sound.name)) {\r\n                sound.name = answer;\r\n                sound.version = Date.now();\r\n                myself.createLabel(); // can be omitted once I'm stepping\r\n                myself.fixLayout(); // can be omitted once I'm stepping\r\n                ide.hasChangedMedia = true;\r\n            }\r\n        }\r\n    )).prompt(\r\n        'rename sound',\r\n        sound.name,\r\n        this.world()\r\n    );\r\n};\r\n\r\nSoundIconMorph.prototype.removeSound = function () {\r\n    var jukebox = this.parentThatIsA(JukeboxMorph),\r\n        idx = this.parent.children.indexOf(this);\r\n    jukebox.removeSound(idx);\r\n};\r\n\r\nSoundIconMorph.prototype.createBackgrounds\r\n    = SpriteIconMorph.prototype.createBackgrounds;\r\n\r\nSoundIconMorph.prototype.createLabel\r\n    = SpriteIconMorph.prototype.createLabel;\r\n\r\n// SoundIconMorph inheritance\r\n\r\nSoundIconMorph.prototype.disinherit = function () {\r\n    var jukebox = this.parentThatIsA(JukeboxMorph),\r\n        idx = this.parent.children.indexOf(this);\r\n    if (jukebox.sprite.inheritsAttribute('sounds')) {\r\n        jukebox.sprite.shadowAttribute('sounds');\r\n        this.object = jukebox.sprite.sounds.at(idx);\r\n    }\r\n};\r\n\r\n// SoundIconMorph drag & drop\r\n\r\nSoundIconMorph.prototype.prepareToBeGrabbed = function () {\r\n    this.disinherit();\r\n    this.removeSound();\r\n};\r\n\r\n// JukeboxMorph /////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am JukeboxMorph, like WardrobeMorph, but for sounds\r\n*/\r\n\r\n// JukeboxMorph instance creation\r\n\r\nJukeboxMorph.prototype = new ScrollFrameMorph();\r\nJukeboxMorph.prototype.constructor = JukeboxMorph;\r\nJukeboxMorph.uber = ScrollFrameMorph.prototype;\r\n\r\nfunction JukeboxMorph(aSprite, sliderColor) {\r\n    this.init(aSprite, sliderColor);\r\n}\r\n\r\nJukeboxMorph.prototype.init = function (aSprite, sliderColor) {\r\n    // additional properties\r\n    this.sprite = aSprite || new SpriteMorph();\r\n    this.soundsVersion = null;\r\n    this.spriteVersion = null;\r\n\r\n    // initialize inherited properties\r\n    JukeboxMorph.uber.init.call(this, null, null, sliderColor);\r\n\r\n    // configure inherited properties\r\n    this.acceptsDrops = false;\r\n    this.fps = 2;\r\n    this.updateList();\r\n};\r\n\r\n// Jukebox updating\r\n\r\nJukeboxMorph.prototype.updateList = function () {\r\n    var myself = this,\r\n        x = this.left() + 5,\r\n        y = this.top() + 5,\r\n        padding = 4,\r\n        oldFlag = Morph.prototype.trackChanges,\r\n        icon,\r\n        template,\r\n        txt;\r\n\r\n    this.changed();\r\n    oldFlag = Morph.prototype.trackChanges;\r\n    Morph.prototype.trackChanges = false;\r\n\r\n    this.contents.destroy();\r\n    this.contents = new FrameMorph(this);\r\n    this.contents.acceptsDrops = false;\r\n    this.contents.reactToDropOf = function (icon) {\r\n        myself.reactToDropOf(icon);\r\n    };\r\n    this.addBack(this.contents);\r\n\r\n    txt = new TextMorph(localize(\r\n        'import a sound from your computer\\nby dragging it into here'\r\n    ));\r\n    txt.fontSize = 9;\r\n    txt.setColor(SpriteMorph.prototype.paletteTextColor);\r\n    txt.setPosition(new Point(x, y));\r\n    this.addContents(txt);\r\n    y = txt.bottom() + padding;\r\n\r\n    this.sprite.sounds.asArray().forEach(function (sound) {\r\n        template = icon = new SoundIconMorph(sound, template);\r\n        icon.setPosition(new Point(x, y));\r\n        myself.addContents(icon);\r\n        y = icon.bottom() + padding;\r\n    });\r\n    this.soundsVersion = this.sprite.costumes.lastChanged;\r\n\r\n    Morph.prototype.trackChanges = oldFlag;\r\n    this.changed();\r\n\r\n    this.updateSelection();\r\n};\r\n\r\nJukeboxMorph.prototype.updateSelection = function () {\r\n    this.contents.children.forEach(function (morph) {\r\n        if (morph.refresh) {morph.refresh(); }\r\n    });\r\n    this.spriteVersion = this.sprite.version;\r\n};\r\n\r\n// Jukebox stepping\r\n\r\nJukeboxMorph.prototype.step = function () {\r\n    if (this.soundsVersion !== this.sprite.sounds.lastChanged) {\r\n        this.updateList();\r\n    }\r\n    if (this.spriteVersion !== this.sprite.version) {\r\n        this.updateSelection();\r\n    }\r\n};\r\n\r\n// Jukebox ops\r\n\r\nJukeboxMorph.prototype.removeSound = function (idx) {\r\n    this.sprite.sounds.remove(idx);\r\n    this.updateList();\r\n};\r\n\r\n// Jukebox drag & drop\r\n\r\nJukeboxMorph.prototype.wantsDropOf = function (morph) {\r\n    return morph instanceof SoundIconMorph;\r\n};\r\n\r\nJukeboxMorph.prototype.reactToDropOf = function (icon) {\r\n    var idx = 0,\r\n        costume = icon.object,\r\n        top = icon.top();\r\n\r\n    icon.destroy();\r\n    this.contents.children.forEach(function (item) {\r\n        if (item.top() < top - 4) {\r\n            idx += 1;\r\n        }\r\n    });\r\n\r\n    this.sprite.shadowAttribute('sounds');\r\n    this.sprite.sounds.add(costume, idx);\r\n    this.updateList();\r\n};\r\n\r\n// StageHandleMorph ////////////////////////////////////////////////////////\r\n\r\n// I am a horizontal resizing handle for a StageMorph\r\n\r\n// StageHandleMorph inherits from Morph:\r\n\r\nStageHandleMorph.prototype = new Morph();\r\nStageHandleMorph.prototype.constructor = StageHandleMorph;\r\nStageHandleMorph.uber = Morph.prototype;\r\n\r\n// StageHandleMorph instance creation:\r\n\r\nfunction StageHandleMorph(target) {\r\n    this.init(target);\r\n}\r\n\r\nStageHandleMorph.prototype.init = function (target) {\r\n    this.target = target || null;\r\n    HandleMorph.uber.init.call(this);\r\n    this.color = MorphicPreferences.isFlat ?\r\n            IDE_Morph.prototype.groupColor : new Color(190, 190, 190);\r\n    this.isDraggable = false;\r\n    this.noticesTransparentClick = true;\r\n    this.setExtent(new Point(12, 50));\r\n};\r\n\r\n// StageHandleMorph drawing:\r\n\r\nStageHandleMorph.prototype.drawNew = function () {\r\n    this.normalImage = newCanvas(this.extent());\r\n    this.highlightImage = newCanvas(this.extent());\r\n    this.drawOnCanvas(\r\n        this.normalImage,\r\n        this.color\r\n    );\r\n    this.drawOnCanvas(\r\n        this.highlightImage,\r\n        MorphicPreferences.isFlat ?\r\n                new Color(245, 245, 255) : new Color(100, 100, 255),\r\n        this.color\r\n    );\r\n    this.image = this.normalImage;\r\n    this.fixLayout();\r\n};\r\n\r\nStageHandleMorph.prototype.drawOnCanvas = function (\r\n    aCanvas,\r\n    color,\r\n    shadowColor\r\n) {\r\n    var context = aCanvas.getContext('2d'),\r\n        l = aCanvas.height / 8,\r\n        w = aCanvas.width / 6,\r\n        r = w / 2,\r\n        x,\r\n        y,\r\n        i;\r\n\r\n    context.lineWidth = w;\r\n    context.lineCap = 'round';\r\n    y = aCanvas.height / 2;\r\n\r\n    context.strokeStyle = color.toString();\r\n    x = aCanvas.width / 12;\r\n    for (i = 0; i < 3; i += 1) {\r\n        if (i > 0) {\r\n            context.beginPath();\r\n            context.moveTo(x, y - (l - r));\r\n            context.lineTo(x, y + (l - r));\r\n            context.stroke();\r\n        }\r\n        x += (w * 2);\r\n        l *= 2;\r\n    }\r\n    if (shadowColor) {\r\n        context.strokeStyle = shadowColor.toString();\r\n        x = aCanvas.width / 12 + w;\r\n        l = aCanvas.height / 8;\r\n        for (i = 0; i < 3; i += 1) {\r\n            if (i > 0) {\r\n                context.beginPath();\r\n                context.moveTo(x, y - (l - r));\r\n                context.lineTo(x, y + (l - r));\r\n                context.stroke();\r\n            }\r\n            x += (w * 2);\r\n            l *= 2;\r\n        }\r\n    }\r\n};\r\n\r\n// StageHandleMorph layout:\r\n\r\nStageHandleMorph.prototype.fixLayout = function () {\r\n    if (!this.target) {return; }\r\n    var ide = this.target.parentThatIsA(IDE_Morph);\r\n    this.setTop(this.target.top() + 10);\r\n    this.setRight(this.target.left());\r\n    if (ide) {ide.add(this); } // come to front\r\n};\r\n\r\n// StageHandleMorph stepping:\r\n\r\nStageHandleMorph.prototype.step = null;\r\n\r\nStageHandleMorph.prototype.mouseDownLeft = function (pos) {\r\n    var world = this.world(),\r\n        offset = this.right() - pos.x,\r\n        myself = this,\r\n        ide = this.target.parentThatIsA(IDE_Morph);\r\n\r\n    if (!this.target) {\r\n        return null;\r\n    }\r\n    ide.isSmallStage = true;\r\n    ide.controlBar.stageSizeButton.refresh();\r\n    this.step = function () {\r\n        var newPos, newWidth;\r\n        if (world.hand.mouseButton) {\r\n            newPos = world.hand.bounds.origin.x + offset;\r\n            newWidth = myself.target.right() - newPos;\r\n            ide.stageRatio = newWidth / myself.target.dimensions.x;\r\n            ide.setExtent(world.extent());\r\n\r\n        } else {\r\n            this.step = null;\r\n            ide.isSmallStage = (ide.stageRatio !== 1);\r\n            ide.controlBar.stageSizeButton.refresh();\r\n        }\r\n    };\r\n};\r\n\r\n// StageHandleMorph events:\r\n\r\nStageHandleMorph.prototype.mouseEnter = function () {\r\n    this.image = this.highlightImage;\r\n    this.changed();\r\n};\r\n\r\nStageHandleMorph.prototype.mouseLeave = function () {\r\n    this.image = this.normalImage;\r\n    this.changed();\r\n};\r\n\r\nStageHandleMorph.prototype.mouseDoubleClick = function () {\r\n    this.target.parentThatIsA(IDE_Morph).toggleStageSize(true, 1);\r\n};\r\n\r\n// PaletteHandleMorph ////////////////////////////////////////////////////////\r\n\r\n// I am a horizontal resizing handle for a blocks palette\r\n// I pseudo-inherit many things from StageHandleMorph\r\n\r\n// PaletteHandleMorph inherits from Morph:\r\n\r\nPaletteHandleMorph.prototype = new Morph();\r\nPaletteHandleMorph.prototype.constructor = PaletteHandleMorph;\r\nPaletteHandleMorph.uber = Morph.prototype;\r\n\r\n// PaletteHandleMorph instance creation:\r\n\r\nfunction PaletteHandleMorph(target) {\r\n    this.init(target);\r\n}\r\n\r\nPaletteHandleMorph.prototype.init = function (target) {\r\n    this.target = target || null;\r\n    HandleMorph.uber.init.call(this);\r\n    this.color = MorphicPreferences.isFlat ?\r\n            new Color(255, 255, 255) : new Color(190, 190, 190);\r\n    this.isDraggable = false;\r\n    this.noticesTransparentClick = true;\r\n    this.setExtent(new Point(12, 50));\r\n};\r\n\r\n// PaletteHandleMorph drawing:\r\n\r\nPaletteHandleMorph.prototype.drawNew =\r\n    StageHandleMorph.prototype.drawNew;\r\n\r\nPaletteHandleMorph.prototype.drawOnCanvas =\r\n    StageHandleMorph.prototype.drawOnCanvas;\r\n\r\n// PaletteHandleMorph layout:\r\n\r\nPaletteHandleMorph.prototype.fixLayout = function () {\r\n    if (!this.target) {return; }\r\n    var ide = this.target.parentThatIsA(IDE_Morph);\r\n    this.setTop(this.target.top() + 10);\r\n    this.setRight(this.target.right());\r\n    if (ide) {ide.add(this); } // come to front\r\n};\r\n\r\n// PaletteHandleMorph stepping:\r\n\r\nPaletteHandleMorph.prototype.step = null;\r\n\r\nPaletteHandleMorph.prototype.mouseDownLeft = function (pos) {\r\n    var world = this.world(),\r\n        offset = this.right() - pos.x,\r\n        ide = this.target.parentThatIsA(IDE_Morph);\r\n\r\n    if (!this.target) {\r\n        return null;\r\n    }\r\n    this.step = function () {\r\n        var newPos;\r\n        if (world.hand.mouseButton) {\r\n            newPos = world.hand.bounds.origin.x + offset;\r\n            ide.paletteWidth = Math.min(\r\n                Math.max(200, newPos),\r\n                ide.stageHandle.left() - ide.spriteBar.tabBar.width()\r\n            );\r\n            ide.setExtent(world.extent());\r\n\r\n        } else {\r\n            this.step = null;\r\n        }\r\n    };\r\n};\r\n\r\n// PaletteHandleMorph events:\r\n\r\nPaletteHandleMorph.prototype.mouseEnter\r\n    = StageHandleMorph.prototype.mouseEnter;\r\n\r\nPaletteHandleMorph.prototype.mouseLeave\r\n    = StageHandleMorph.prototype.mouseLeave;\r\n\r\n//******************* Wiquid *********************************\r\n\r\nPaletteHandleMorph.prototype.mouseDoubleClick = function () {\r\n    \r\n    this.target.parentThatIsA(IDE_Morph).setPaletteWidth(200); //Wiquid Solution\r\n\r\n};\r\n\r\n//************************************************************\r\n\r\n// CamSnapshotDialogMorph inherits from DialogBoxMorph:\r\n\r\nCamSnapshotDialogMorph.prototype = new DialogBoxMorph();\r\nCamSnapshotDialogMorph.prototype.constructor = CamSnapshotDialogMorph;\r\nCamSnapshotDialogMorph.uber = DialogBoxMorph.prototype;\r\n\r\n// CamSnapshotDialogMorph settings\r\n\r\nCamSnapshotDialogMorph.prototype.enableCamera = true; // off while experimental\r\nCamSnapshotDialogMorph.prototype.enabled = true;\r\n\r\nCamSnapshotDialogMorph.prototype.notSupportedMessage =\r\n\t'Please make sure your web browser is up to date\\n' +\r\n\t'and your camera is properly configured. \\n\\n' +\r\n\t'Some browsers also require you to access Snap!\\n' +\r\n\t'through HTTPS to use the camera.\\n\\n' +\r\n    'Plase replace the \"http://\" part of the address\\n' +\r\n    'in your browser by \"https://\" and try again.';\r\n\r\n// CamSnapshotDialogMorph instance creation\r\n\r\nfunction CamSnapshotDialogMorph(ide, sprite, onCancel, onAccept) {\r\n    this.init(ide, sprite, onCancel, onAccept);\r\n}\r\n\r\nCamSnapshotDialogMorph.prototype.init = function (\r\n    ide,\r\n    sprite,\r\n    onCancel,\r\n\tonAccept\r\n) {\r\n    this.ide = ide;\r\n    this.sprite = sprite;\r\n    this.padding = 10;\r\n    this.oncancel = onCancel;\r\n    this.accept = onAccept;\r\n    this.videoElement = null; // an HTML5 video element\r\n    this.videoView = new Morph(); // a morph where we'll copy the video contents\r\n\r\n    CamSnapshotDialogMorph.uber.init.call(this);\r\n    this.labelString = 'Camera';\r\n    this.createLabel();\r\n    this.buildContents();\r\n};\r\n\r\nCamSnapshotDialogMorph.prototype.buildContents = function () {\r\n    var myself = this,\r\n        stage = this.sprite.parentThatIsA(StageMorph);\r\n\r\n\tfunction noCameraSupport() {\r\n        myself.disable();\r\n        myself.ide.inform(\r\n            'Camera not supported',\r\n            CamSnapshotDialogMorph.prototype.notSupportedMessage\r\n        );\r\n        if (myself.videoElement) {\r\n        \tmyself.videoElement.remove();\r\n        }\r\n        myself.cancel();\r\n\t}\r\n\r\n    this.videoElement = document.createElement('video');\r\n    this.videoElement.hidden = true;\r\n    this.videoElement.width = stage.dimensions.x;\r\n    this.videoElement.height = stage.dimensions.y;\r\n\r\n    document.body.appendChild(this.videoElement);\r\n\r\n    if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {\r\n        navigator.mediaDevices.getUserMedia({ video: true })\r\n            .then(function (stream) {\r\n                myself.videoElement.srcObject = stream;\r\n                myself.videoElement.play().catch(noCameraSupport);\r\n                myself.videoElement.stream = stream;\r\n            })\r\n            .catch(noCameraSupport);\r\n    }\r\n\r\n    this.videoView.setExtent(stage.dimensions);\r\n    this.videoView.image = newCanvas(stage.dimensions);\r\n\r\n    this.videoView.drawOn = function (aCanvas) {\r\n        var context = aCanvas.getContext('2d'),\r\n            videoWidth = myself.videoElement.videoWidth,\r\n            videoHeight = myself.videoElement.videoHeight,\r\n            w = stage.dimensions.x,\r\n            h = stage.dimensions.y,\r\n            clippingWidth, clippingHeight;\r\n\r\n        if (!videoWidth) { return; }\r\n\r\n        context.save();\r\n\r\n        // Flip the image so it looks like a mirror\r\n        context.translate(w, 0);\r\n        context.scale(-1, 1);\r\n\r\n        if (videoWidth / w > videoHeight / h) {\r\n            // preserve height, crop width\r\n            clippingWidth = w * (videoHeight / h);\r\n            clippingHeight = videoHeight;\r\n        } else {\r\n            // preserve width, crop height\r\n            clippingWidth = videoWidth;\r\n            clippingHeight = h * (videoWidth / w);\r\n        }\r\n\r\n        context.drawImage(\r\n            myself.videoElement,\r\n            0,\r\n            0,\r\n            clippingWidth,\r\n            clippingHeight,\r\n            this.left() * -1,\r\n            this.top(),\r\n            w,\r\n            h\r\n            );\r\n\r\n        context.restore();\r\n    };\r\n\r\n    this.videoView.step = function () {\r\n        this.changed();\r\n    };\r\n\r\n    this.addBody(new AlignmentMorph('column', this.padding / 2));\r\n    this.body.add(this.videoView);\r\n    this.body.fixLayout();\r\n\r\n    this.addButton('ok', 'Save');\r\n    this.addButton('cancel', 'Cancel');\r\n\r\n    this.fixLayout();\r\n    this.drawNew();\r\n};\r\n\r\nCamSnapshotDialogMorph.prototype.ok = function () {\r\n    this.accept(\r\n        new Costume(\r\n            this.videoView.fullImageClassic(),\r\n            this.sprite.newCostumeName('camera')\r\n        ).flipped()\r\n    );\r\n};\r\n\r\nCamSnapshotDialogMorph.prototype.disable = function () {\r\n    CamSnapshotDialogMorph.prototype.enabled = false;\r\n    document.dispatchEvent(new Event('cameraDisabled'));\r\n};\r\n\r\nCamSnapshotDialogMorph.prototype.destroy = function () {\r\n    this.oncancel.call(this);\r\n    this.close();\r\n};\r\n\r\nCamSnapshotDialogMorph.prototype.close = function () {\r\n    if (this.videoElement && this.videoElement.stream) {\r\n        this.videoElement.stream.getTracks()[0].stop();\r\n        this.videoElement.remove();\r\n    }\r\n    CamSnapshotDialogMorph.uber.destroy.call(this);\r\n};\r\n//fin de GUI.js\r\n/*\r\n    paint.js\r\n\r\n    a paint editor for Snap!\r\n    inspired by the Scratch paint editor.\r\n\r\n    written by Kartik Chandra\r\n    Copyright (C) 2016 by Kartik Chandra\r\n\r\n    This file is part of Snap!.\r\n\r\n    Snap! is free software: you can redistribute it and/or modify\r\n    it under the terms of the GNU Affero General Public License as\r\n    published by the Free Software Foundation, either version 3 of\r\n    the License, or (at your option) any later version.\r\n\r\n    This program is distributed in the hope that it will be useful,\r\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n    GNU Affero General Public License for more details.\r\n\r\n    You should have received a copy of the GNU Affero General Public License\r\n    along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n\r\n\r\n    toc\r\n    ---\r\n    the following list shows the order in which all constructors are\r\n    defined. Use this list to locate code in this document:\r\n\r\n        PaintEditorMorph\r\n        PaintColorPickerMorph\r\n        PaintCanvasMorph\r\n\r\n\r\n    credits\r\n    -------\r\n    Nathan Dinsmore contributed a fully working prototype,\r\n    Nathan's brilliant flood-fill tool has been more or less\r\n    directly imported into this paint implementation.\r\n\r\n    Jens Mönig has contributed icons and bugfixes and says he has probably\r\n    introduced many other bugs in that process. :-)\r\n\r\n\r\n    revision history\r\n    ----------------\r\n    May 10 - first full release (Kartik)\r\n    May 14 - bugfixes, Snap integration (Jens)\r\n    May 16 - flat design adjustments (Jens)\r\n    July 12 - pipette tool, code formatting adjustments (Jens)\r\n    Sept 16 - flood fill freeze fix (Kartik)\r\n    Jan 08 - mouse leave dragging fix (Kartik)\r\n    Feb 11 - dynamically adjust to stage dimensions (Jens)\r\n    Apr 30 - localizations (Manuel)\r\n    June 3 - transformations (Kartik)\r\n    June 4 - tweaks (Jens)\r\n    Aug 24 - floodfill alpha-integer issue (Kartik)\r\n    Sep 29 - tweaks (Jens)\r\n    Sep 28 [of the following year :)] - Try to prevent antialiasing (Kartik)\r\n    Oct 02 - revert disable smoothing (Jens)\r\n    Dec 15 - center rotation point on costume creating (Craxic)\r\n    Jan 18 - avoid pixel collision detection in PaintCanvas (Jens)\r\n    Mar 22 - fixed automatic rotation center point mechanism (Jens)\r\n    May 10 - retina display support adjustments (Jens)\r\n    2017\r\n    April 10 - getGlobalPixelColor adjustment for Chrome & retina (Jens)\r\n*/\r\n\r\n/*global Point, Rectangle, DialogBoxMorph, AlignmentMorph, PushButtonMorph,\r\nColor, SymbolMorph, newCanvas, Morph, TextMorph, Costume, SpriteMorph, nop,\r\nlocalize, InputFieldMorph, SliderMorph, ToggleMorph, ToggleButtonMorph,\r\nBoxMorph, modules, radians, MorphicPreferences, getDocumentPositionOf,\r\nStageMorph, isNil*/\r\n\r\n// Global stuff ////////////////////////////////////////////////////////\r\n\r\nmodules.paint = '2017-April-10';\r\n\r\n// Declarations\r\n\r\nvar PaintEditorMorph;\r\nvar PaintCanvasMorph;\r\nvar PaintColorPickerMorph;\r\n\r\n// PaintEditorMorph //////////////////////////\r\n\r\n// A complete paint editor\r\n\r\nPaintEditorMorph.prototype = new DialogBoxMorph();\r\nPaintEditorMorph.prototype.constructor = PaintEditorMorph;\r\nPaintEditorMorph.uber = DialogBoxMorph.prototype;\r\n\r\nPaintEditorMorph.prototype.padding = 10;\r\n\r\nfunction PaintEditorMorph() {\r\n    this.init();\r\n}\r\n\r\nPaintEditorMorph.prototype.init = function () {\r\n    // additional properties:\r\n    this.paper = null; // paint canvas\r\n    this.oncancel = null;\r\n\r\n    // initialize inherited properties:\r\n    PaintEditorMorph.uber.init.call(this);\r\n\r\n    // override inherited properties:\r\n    this.labelString = \"Paint Editor\";\r\n    this.createLabel();\r\n\r\n    // build contents:\r\n    this.buildContents();\r\n};\r\n\r\nPaintEditorMorph.prototype.buildContents = function () {\r\n    var myself = this;\r\n\r\n    this.paper = new PaintCanvasMorph(function () {return myself.shift; });\r\n    this.paper.setExtent(StageMorph.prototype.dimensions);\r\n\r\n    this.addBody(new AlignmentMorph('row', this.padding));\r\n    this.controls = new AlignmentMorph('column', this.padding / 2);\r\n    this.controls.alignment = 'left';\r\n\r\n    this.edits = new AlignmentMorph('row', this.padding / 2);\r\n    this.buildEdits();\r\n    this.controls.add(this.edits);\r\n\r\n    this.body.color = this.color;\r\n\r\n    this.body.add(this.controls);\r\n    this.body.add(this.paper);\r\n\r\n    this.toolbox = new BoxMorph();\r\n    this.toolbox.color = SpriteMorph.prototype.paletteColor.lighter(8);\r\n    this.toolbox.borderColor = this.toolbox.color.lighter(40);\r\n    if (MorphicPreferences.isFlat) {\r\n        this.toolbox.edge = 0;\r\n    }\r\n\r\n    this.buildToolbox();\r\n    this.controls.add(this.toolbox);\r\n\r\n    this.scaleBox = new AlignmentMorph('row', this.padding / 2);\r\n    this.buildScaleBox();\r\n    this.controls.add(this.scaleBox);\r\n\r\n    this.propertiesControls = {\r\n        colorpicker: null,\r\n        penSizeSlider: null,\r\n        penSizeField: null,\r\n        primaryColorButton: null,\r\n        primaryColorViewer: null,\r\n        constrain: null\r\n    };\r\n    this.populatePropertiesMenu();\r\n\r\n    this.addButton(\"ok\", \"OK\");\r\n    this.addButton(\"cancel\", \"Cancel\");\r\n\r\n    this.refreshToolButtons();\r\n    this.fixLayout();\r\n    this.drawNew();\r\n};\r\n\r\nPaintEditorMorph.prototype.buildToolbox = function () {\r\n    var tools = {\r\n            brush:\r\n                \"Paintbrush tool\\n(free draw)\",\r\n            rectangle:\r\n                \"Stroked Rectangle\\n(shift: square)\",\r\n            circle:\r\n                \"Stroked Ellipse\\n(shift: circle)\",\r\n            eraser:\r\n                \"Eraser tool\",\r\n            crosshairs:\r\n                \"Set the rotation center\",\r\n\r\n            line:\r\n                \"Line tool\\n(shift: vertical/horizontal)\",\r\n            rectangleSolid:\r\n                \"Filled Rectangle\\n(shift: square)\",\r\n            circleSolid:\r\n                \"Filled Ellipse\\n(shift: circle)\",\r\n            paintbucket:\r\n                \"Fill a region\",\r\n            pipette:\r\n                \"Pipette tool\\n(pick a color anywhere)\"\r\n        },\r\n        myself = this,\r\n        left = this.toolbox.left(),\r\n        top = this.toolbox.top(),\r\n        padding = 2,\r\n        inset = 5,\r\n        x = 0,\r\n        y = 0;\r\n\r\n    Object.keys(tools).forEach(function (tool) {\r\n        var btn = myself.toolButton(tool, tools[tool]);\r\n        btn.setPosition(new Point(\r\n            left + x,\r\n            top + y\r\n        ));\r\n        x += btn.width() + padding;\r\n        if (tool === \"crosshairs\") {\r\n            x = 0;\r\n            y += btn.height() + padding;\r\n            myself.paper.drawcrosshair();\r\n        }\r\n        myself.toolbox[tool] = btn;\r\n        myself.toolbox.add(btn);\r\n    });\r\n\r\n    this.toolbox.bounds = this.toolbox.fullBounds().expandBy(inset * 2);\r\n    this.toolbox.drawNew();\r\n};\r\n\r\nPaintEditorMorph.prototype.buildEdits = function () {\r\n    var paper = this.paper;\r\n\r\n    this.edits.add(this.pushButton(\r\n        \"undo\",\r\n        function () {paper.undo(); }\r\n    ));\r\n\r\n    this.edits.add(this.pushButton(\r\n        \"clear\",\r\n        function () {paper.clearCanvas(); }\r\n    ));\r\n    this.edits.fixLayout();\r\n};\r\n\r\nPaintEditorMorph.prototype.buildScaleBox = function () {\r\n    var paper = this.paper;\r\n    this.scaleBox.add(this.pushButton(\r\n        \"grow\",\r\n        function () {paper.scale(0.05, 0.05); }\r\n    ));\r\n    this.scaleBox.add(this.pushButton(\r\n        \"shrink\",\r\n        function () {paper.scale(-0.05, -0.05); }\r\n    ));\r\n    this.scaleBox.add(this.pushButton(\r\n        \"flip ↔\",\r\n        function () {paper.scale(-2, 0); }\r\n    ));\r\n    this.scaleBox.add(this.pushButton(\r\n        \"flip ↕\",\r\n        function () {paper.scale(0, -2); }\r\n    ));\r\n    this.scaleBox.fixLayout();\r\n};\r\n\r\nPaintEditorMorph.prototype.openIn = function (world, oldim, oldrc, callback) {\r\n    // Open the editor in a world with an optional image to edit\r\n    this.oldim = oldim;\r\n    this.callback = callback || nop;\r\n\r\n    this.processKeyUp = function () {\r\n        this.shift = false;\r\n        this.propertiesControls.constrain.refresh();\r\n    };\r\n\r\n    this.processKeyDown = function () {\r\n        this.shift = this.world().currentKey === 16;\r\n        this.propertiesControls.constrain.refresh();\r\n    };\r\n\r\n    //merge oldim:\r\n    if (this.oldim) {\r\n        this.paper.automaticCrosshairs = isNil(oldrc);\r\n        this.paper.centermerge(this.oldim, this.paper.paper);\r\n        this.paper.rotationCenter =\r\n            (oldrc || new Point(0, 0)).add(\r\n                new Point(\r\n                    (this.paper.paper.width - this.oldim.width) / 2,\r\n                    (this.paper.paper.height - this.oldim.height) / 2\r\n                )\r\n            );\r\n        this.paper.drawNew();\r\n    }\r\n\r\n    this.key = 'paint';\r\n    this.popUp(world);\r\n};\r\n\r\nPaintEditorMorph.prototype.fixLayout = function () {\r\n    var oldFlag = Morph.prototype.trackChanges;\r\n\r\n    this.changed();\r\n    oldFlag = Morph.prototype.trackChanges;\r\n    Morph.prototype.trackChanges = false;\r\n\r\n    if (this.paper) {\r\n        this.paper.buildContents();\r\n        this.paper.drawNew();\r\n    }\r\n    if (this.controls) {this.controls.fixLayout(); }\r\n    if (this.body) {this.body.fixLayout(); }\r\n    PaintEditorMorph.uber.fixLayout.call(this);\r\n\r\n    Morph.prototype.trackChanges = oldFlag;\r\n    this.changed();\r\n};\r\n\r\nPaintEditorMorph.prototype.refreshToolButtons = function () {\r\n    this.toolbox.children.forEach(function (toggle) {\r\n        toggle.refresh();\r\n    });\r\n};\r\n\r\nPaintEditorMorph.prototype.ok = function () {\r\n    this.paper.updateAutomaticCenter();\r\n    this.callback(\r\n        this.paper.paper,\r\n        this.paper.rotationCenter\r\n    );\r\n    this.destroy();\r\n};\r\n\r\nPaintEditorMorph.prototype.cancel = function () {\r\n    if (this.oncancel) {this.oncancel(); }\r\n    this.destroy();\r\n};\r\n\r\nPaintEditorMorph.prototype.populatePropertiesMenu = function () {\r\n    var c = this.controls,\r\n        myself = this,\r\n        pc = this.propertiesControls,\r\n        alpen = new AlignmentMorph(\"row\", this.padding);\r\n\r\n    pc.primaryColorViewer = new Morph();\r\n    pc.primaryColorViewer.setExtent(new Point(180, 50));\r\n    pc.primaryColorViewer.color = new Color(0, 0, 0);\r\n    pc.colorpicker = new PaintColorPickerMorph(\r\n        new Point(180, 100),\r\n        function (color) {\r\n            var ni = newCanvas(pc.primaryColorViewer.extent()),\r\n                ctx = ni.getContext(\"2d\"),\r\n                i,\r\n                j;\r\n            myself.paper.settings.primarycolor = color;\r\n            if (color === \"transparent\") {\r\n                for (i = 0; i < 180; i += 5) {\r\n                    for (j = 0; j < 15; j += 5) {\r\n                        ctx.fillStyle =\r\n                            ((j + i) / 5) % 2 === 0 ?\r\n                                            \"rgba(0, 0, 0, 0.2)\" :\r\n                                            \"rgba(0, 0, 0, 0.5)\";\r\n                        ctx.fillRect(i, j, 5, 5);\r\n\r\n                    }\r\n                }\r\n            } else {\r\n                ctx.fillStyle = color.toString();\r\n                ctx.fillRect(0, 0, 180, 15);\r\n            }\r\n            ctx.strokeStyle = \"black\";\r\n            ctx.lineWidth = Math.min(myself.paper.settings.linewidth, 20);\r\n            ctx.beginPath();\r\n            ctx.lineCap = \"round\";\r\n            ctx.moveTo(20, 30);\r\n            ctx.lineTo(160, 30);\r\n            ctx.stroke();\r\n            pc.primaryColorViewer.image = ni;\r\n            pc.primaryColorViewer.changed();\r\n        }\r\n    );\r\n    pc.colorpicker.action(new Color(0, 0, 0));\r\n\r\n    pc.penSizeSlider = new SliderMorph(0, 20, 5, 5);\r\n    pc.penSizeSlider.orientation = \"horizontal\";\r\n    pc.penSizeSlider.setHeight(15);\r\n    pc.penSizeSlider.setWidth(150);\r\n    pc.penSizeSlider.action = function (num) {\r\n        if (pc.penSizeField) {\r\n            pc.penSizeField.setContents(num);\r\n        }\r\n        myself.paper.settings.linewidth = num;\r\n        pc.colorpicker.action(myself.paper.settings.primarycolor);\r\n    };\r\n    pc.penSizeField = new InputFieldMorph(\"5\", true, null, false);\r\n    pc.penSizeField.contents().minWidth = 20;\r\n    pc.penSizeField.setWidth(25);\r\n    pc.penSizeField.accept = function () {\r\n        var val = parseFloat(pc.penSizeField.getValue());\r\n        pc.penSizeSlider.value = val;\r\n        pc.penSizeSlider.drawNew();\r\n        pc.penSizeSlider.updateValue();\r\n        this.setContents(val);\r\n        myself.paper.settings.linewidth = val;\r\n        this.world().keyboardReceiver = myself;\r\n        pc.colorpicker.action(myself.paper.settings.primarycolor);\r\n    };\r\n    alpen.add(pc.penSizeSlider);\r\n    alpen.add(pc.penSizeField);\r\n    alpen.color = myself.color;\r\n    alpen.fixLayout();\r\n    pc.penSizeField.drawNew();\r\n    pc.constrain = new ToggleMorph(\r\n        \"checkbox\",\r\n        this,\r\n        function () {myself.shift = !myself.shift; },\r\n        \"Constrain proportions of shapes?\\n(you can also hold shift)\",\r\n        function () {return myself.shift; }\r\n    );\r\n    c.add(pc.colorpicker);\r\n    //c.add(pc.primaryColorButton);\r\n    c.add(pc.primaryColorViewer);\r\n    c.add(new TextMorph(localize(\"Brush size\")));\r\n    c.add(alpen);\r\n    c.add(pc.constrain);\r\n};\r\n\r\nPaintEditorMorph.prototype.toolButton = function (icon, hint) {\r\n    var button, myself = this;\r\n\r\n    button = new ToggleButtonMorph(\r\n        null,\r\n        this,\r\n        function () { // action\r\n            myself.paper.currentTool = icon;\r\n            myself.paper.toolChanged(icon);\r\n            myself.refreshToolButtons();\r\n            if (icon === 'pipette') {\r\n                myself.getUserColor();\r\n            }\r\n        },\r\n        new SymbolMorph(icon, 18),\r\n        function () {return myself.paper.currentTool === icon; }\r\n    );\r\n\r\n    button.hint = hint;\r\n    button.drawNew();\r\n    button.fixLayout();\r\n    return button;\r\n};\r\n\r\nPaintEditorMorph.prototype.pushButton = function (title, action, hint) {\r\n    return new PushButtonMorph(\r\n        this,\r\n        action,\r\n        title,\r\n        null,\r\n        hint\r\n    );\r\n};\r\n\r\nPaintEditorMorph.prototype.getUserColor = function () {\r\n    var myself = this,\r\n        world = this.world(),\r\n        hand = world.hand,\r\n        posInDocument = getDocumentPositionOf(world.worldCanvas),\r\n        mouseMoveBak = hand.processMouseMove,\r\n        mouseDownBak = hand.processMouseDown,\r\n        mouseUpBak = hand.processMouseUp;\r\n\r\n    hand.processMouseMove = function (event) {\r\n        var color;\r\n        hand.setPosition(new Point(\r\n            event.pageX - posInDocument.x,\r\n            event.pageY - posInDocument.y\r\n        ));\r\n        color = world.getGlobalPixelColor(hand.position());\r\n        if (!color.a) {\r\n            // ignore transparent,\r\n            // needed for retina-display support\r\n            return;\r\n        }\r\n        color.a = 255;\r\n        myself.propertiesControls.colorpicker.action(color);\r\n    };\r\n\r\n    hand.processMouseDown = nop;\r\n\r\n    hand.processMouseUp = function () {\r\n        myself.paper.currentTool = 'brush';\r\n        myself.paper.toolChanged('brush');\r\n        myself.refreshToolButtons();\r\n        hand.processMouseMove = mouseMoveBak;\r\n        hand.processMouseDown = mouseDownBak;\r\n        hand.processMouseUp = mouseUpBak;\r\n    };\r\n};\r\n\r\n// AdvancedColorPickerMorph //////////////////\r\n\r\n// A large hsl color picker\r\n\r\nPaintColorPickerMorph.prototype = new Morph();\r\nPaintColorPickerMorph.prototype.constructor = PaintColorPickerMorph;\r\nPaintColorPickerMorph.uber = Morph.prototype;\r\n\r\nfunction PaintColorPickerMorph(extent, action) {\r\n    this.init(extent, action);\r\n}\r\n\r\nPaintColorPickerMorph.prototype.init = function (extent, action) {\r\n    this.setExtent(extent || new Point(200, 100));\r\n    this.action = action || nop;\r\n    this.drawNew();\r\n};\r\n\r\nPaintColorPickerMorph.prototype.drawNew = function () {\r\n    var x = 0,\r\n        y = 0,\r\n        can = newCanvas(this.extent()),\r\n        ctx = can.getContext(\"2d\"),\r\n        colorselection,\r\n        r;\r\n    for (x = 0; x < this.width(); x += 1) {\r\n        for (y = 0; y < this.height() - 20; y += 1) {\r\n            ctx.fillStyle = \"hsl(\" +\r\n                (360 * x / this.width()) +\r\n                \",\" +\r\n                \"100%,\" +\r\n                (y * 100 / (this.height() - 20)) +\r\n                \"%)\";\r\n            ctx.fillRect(x, y, 1, 1);\r\n        }\r\n    }\r\n    for (x = 0; x < this.width(); x += 1) {\r\n        r = Math.floor(255 * x / this.width());\r\n        ctx.fillStyle = \"rgb(\" + r + \", \" + r + \", \" + r + \")\";\r\n        ctx.fillRect(x, this.height() - 20, 1, 10);\r\n    }\r\n    colorselection = [\"black\", \"white\", \"gray\"];\r\n    for (x = 0; x < colorselection.length; x += 1) {\r\n        ctx.fillStyle = colorselection[x];\r\n        ctx.fillRect(\r\n            x * this.width() / colorselection.length,\r\n            this.height() - 10,\r\n            this.width() / colorselection.length,\r\n            10\r\n        );\r\n    }\r\n    for (x = this.width() * 2 / 3; x < this.width(); x += 2) {\r\n        for (y = this.height() - 10; y < this.height(); y += 2) {\r\n            if ((x + y) / 2 % 2 === 0) {\r\n                ctx.fillStyle = \"#DDD\";\r\n                ctx.fillRect(x, y, 2, 2);\r\n            }\r\n        }\r\n    }\r\n    this.image = can;\r\n};\r\n\r\nPaintColorPickerMorph.prototype.mouseDownLeft = function (pos) {\r\n    if ((pos.subtract(this.position()).x > this.width() * 2 / 3) &&\r\n            (pos.subtract(this.position()).y > this.height() - 10)) {\r\n        this.action(\"transparent\");\r\n    } else {\r\n        this.action(this.getPixelColor(pos));\r\n    }\r\n};\r\n\r\nPaintColorPickerMorph.prototype.mouseMove =\r\n    PaintColorPickerMorph.prototype.mouseDownLeft;\r\n\r\n// PaintCanvasMorph ///////////////////////////\r\n/*\r\n    A canvas which reacts to drag events to\r\n    modify its image, based on a 'tool' property.\r\n*/\r\n\r\nPaintCanvasMorph.prototype = new Morph();\r\nPaintCanvasMorph.prototype.constructor = PaintCanvasMorph;\r\nPaintCanvasMorph.uber = Morph.prototype;\r\n\r\nfunction PaintCanvasMorph(shift) {\r\n    this.init(shift);\r\n}\r\n\r\nPaintCanvasMorph.prototype.init = function (shift) {\r\n    this.rotationCenter = new Point(240, 180);\r\n    this.dragRect = null;\r\n    this.previousDragPoint = null;\r\n    this.currentTool = \"brush\";\r\n    this.dragRect = new Rectangle();\r\n    // rectangle with origin being the starting drag position and\r\n    // corner being the current drag position\r\n    this.mask = newCanvas(this.extent(), true); // Temporary canvas\r\n    this.paper = newCanvas(this.extent(), true); // Actual canvas\r\n    this.erasermask = newCanvas(this.extent(), true); // eraser memory\r\n    this.background = newCanvas(this.extent()); // checkers\r\n    this.settings = {\r\n        \"primarycolor\": new Color(0, 0, 0, 255), // usually fill color\r\n        \"secondarycolor\": new Color(0, 0, 0, 255), // (unused)\r\n        \"linewidth\": 3 // stroke width\r\n    };\r\n    this.brushBuffer = [];\r\n    this.undoBuffer = [];\r\n    this.isShiftPressed = shift || function () {\r\n        var key = this.world().currentKey;\r\n        return (key === 16);\r\n    };\r\n    // should we calculate the center of the image ourselves,\r\n    // or use the user position\r\n    this.automaticCrosshairs = true;\r\n    this.noticesTransparentClick = true; // optimization\r\n    this.buildContents();\r\n};\r\n\r\n// Calculate the center of all the non-transparent pixels on the canvas.\r\nPaintCanvasMorph.prototype.calculateCanvasCenter = function(canvas) {\r\n    var canvasBounds = Costume.prototype.canvasBoundingBox(canvas);\r\n    if (canvasBounds === null) {\r\n        return null;\r\n    }\r\n    // Can't use canvasBounds.center(), it rounds down.\r\n    return new Point((canvasBounds.origin.x + canvasBounds.corner.x) / 2, (canvasBounds.origin.y + canvasBounds.corner.y) / 2);\r\n};\r\n\r\n// If we are in automaticCrosshairs mode, recalculate the rotationCenter.\r\nPaintCanvasMorph.prototype.updateAutomaticCenter = function () {\r\n    if (this.automaticCrosshairs) {\r\n        // Calculate this.rotationCenter from this.paper\r\n        var rotationCenter = this.calculateCanvasCenter(this.paper);\r\n        if (rotationCenter !== null) {\r\n            this.rotationCenter = rotationCenter;\r\n        }\r\n    }\r\n};\r\n\r\nPaintCanvasMorph.prototype.scale = function (x, y) {\r\n    this.updateAutomaticCenter();\r\n    this.mask = newCanvas(this.extent(), true);\r\n    var c = newCanvas(this.extent(), true);\r\n    c.getContext(\"2d\").save();\r\n    c.getContext(\"2d\").translate(\r\n        this.rotationCenter.x,\r\n        this.rotationCenter.y\r\n    );\r\n    c.getContext(\"2d\").scale(1 + x, 1 + y);\r\n    c.getContext(\"2d\").drawImage(\r\n        this.paper,\r\n        -this.rotationCenter.x,\r\n        -this.rotationCenter.y\r\n    );\r\n    c.getContext(\"2d\").restore();\r\n    this.paper = c;\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nPaintCanvasMorph.prototype.cacheUndo = function () {\r\n    var cachecan = newCanvas(this.extent(), true);\r\n    this.merge(this.paper, cachecan);\r\n    this.undoBuffer.push(cachecan);\r\n};\r\n\r\nPaintCanvasMorph.prototype.undo = function () {\r\n    if (this.undoBuffer.length > 0) {\r\n        this.paper = newCanvas(this.extent(), true);\r\n        this.mask.width = this.mask.width + 1 - 1;\r\n        this.merge(this.undoBuffer.pop(), this.paper);\r\n        this.drawNew();\r\n        this.changed();\r\n    }\r\n};\r\n\r\nPaintCanvasMorph.prototype.merge = function (a, b) {\r\n    b.getContext(\"2d\").drawImage(a, 0, 0);\r\n};\r\n\r\nPaintCanvasMorph.prototype.centermerge = function (a, b) {\r\n    b.getContext(\"2d\").drawImage(\r\n        a,\r\n        (b.width - a.width) / 2,\r\n        (b.height - a.height) / 2\r\n    );\r\n};\r\n\r\nPaintCanvasMorph.prototype.clearCanvas = function () {\r\n    this.buildContents();\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nPaintCanvasMorph.prototype.toolChanged = function (tool) {\r\n    this.mask = newCanvas(this.extent(), true);\r\n    if (tool === \"crosshairs\") {\r\n        this.updateAutomaticCenter();\r\n        this.drawcrosshair();\r\n    }\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nPaintCanvasMorph.prototype.drawcrosshair = function (context) {\r\n    var ctx = context || this.mask.getContext(\"2d\"),\r\n        rp = this.rotationCenter;\r\n\r\n    ctx.lineWidth = 1;\r\n    ctx.strokeStyle = 'black';\r\n    ctx.clearRect(0, 0, this.mask.width, this.mask.height);\r\n\r\n    // draw crosshairs:\r\n    ctx.globalAlpha = 0.5;\r\n\r\n    // circle around center:\r\n    ctx.fillStyle = 'white';\r\n    ctx.beginPath();\r\n    ctx.arc(\r\n        rp.x,\r\n        rp.y,\r\n        20,\r\n        radians(0),\r\n        radians(360),\r\n        false\r\n    );\r\n    ctx.closePath();\r\n    ctx.fill();\r\n    ctx.stroke();\r\n\r\n    ctx.beginPath();\r\n    ctx.arc(\r\n        rp.x,\r\n        rp.y,\r\n        10,\r\n        radians(0),\r\n        radians(360),\r\n        false\r\n    );\r\n    ctx.stroke();\r\n\r\n    // horizontal line:\r\n    ctx.beginPath();\r\n    ctx.moveTo(0, rp.y);\r\n    ctx.lineTo(this.mask.width, rp.y);\r\n    ctx.stroke();\r\n\r\n    // vertical line:\r\n    ctx.beginPath();\r\n    ctx.moveTo(rp.x, 0);\r\n    ctx.lineTo(rp.x, this.mask.height);\r\n    ctx.stroke();\r\n\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nPaintCanvasMorph.prototype.floodfill = function (sourcepoint) {\r\n    var width = this.paper.width,\r\n        height = this.paper.height,\r\n        ctx = this.paper.getContext(\"2d\"),\r\n        img = ctx.getImageData(0, 0, width, height),\r\n        data = img.data,\r\n        stack = [Math.round(Math.round(sourcepoint.y) * width + sourcepoint.x)],\r\n        currentpoint,\r\n        read,\r\n        sourcecolor,\r\n        checkpoint;\r\n    read = function (p) {\r\n        var d = p * 4;\r\n        return [data[d], data[d + 1], data[d + 2], data[d + 3]];\r\n    };\r\n    sourcecolor = read(stack[0]);\r\n    checkpoint = function (p) {\r\n        return p[0] === sourcecolor[0] &&\r\n            p[1] === sourcecolor[1] &&\r\n            p[2] === sourcecolor[2] &&\r\n            p[3] === sourcecolor[3];\r\n    };\r\n\r\n    // if already filled, abort\r\n    if (sourcecolor[3] === 0 &&\r\n            this.settings.primarycolor === \"transparent\") {\r\n        return;\r\n    }\r\n    if (sourcecolor[0] === this.settings.primarycolor.r &&\r\n            sourcecolor[1] === this.settings.primarycolor.g &&\r\n            sourcecolor[2] === this.settings.primarycolor.b &&\r\n            sourcecolor[3] === this.settings.primarycolor.a) {\r\n        return;\r\n    }\r\n    if (sourcecolor[3] === 0 && this.settings.primarycolor.a === 0) {\r\n        return;\r\n    }\r\n\r\n    while (stack.length > 0) {\r\n        currentpoint = stack.pop();\r\n        if (checkpoint(read(currentpoint))) {\r\n            if (currentpoint % width > 1) {\r\n                stack.push(currentpoint + 1);\r\n                stack.push(currentpoint - 1);\r\n            }\r\n            if (currentpoint > 0 && currentpoint < height * width) {\r\n                stack.push(currentpoint + width);\r\n                stack.push(currentpoint - width);\r\n            }\r\n        }\r\n        if (this.settings.primarycolor === \"transparent\") {\r\n            data[currentpoint * 4 + 3] = 0;\r\n        } else {\r\n            data[currentpoint * 4] = this.settings.primarycolor.r;\r\n            data[currentpoint * 4 + 1] = this.settings.primarycolor.g;\r\n            data[currentpoint * 4 + 2] = this.settings.primarycolor.b;\r\n            data[currentpoint * 4 + 3] = this.settings.primarycolor.a * 255;\r\n        }\r\n    }\r\n    ctx.putImageData(img, 0, 0);\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nPaintCanvasMorph.prototype.mouseDownLeft = function (pos) {\r\n    this.cacheUndo();\r\n    this.dragRect.origin = pos.subtract(this.bounds.origin);\r\n    this.dragRect.corner = pos.subtract(this.bounds.origin);\r\n    this.previousDragPoint = this.dragRect.corner.copy();\r\n    if (this.currentTool === 'crosshairs') {\r\n        this.rotationCenter = pos.subtract(this.bounds.origin);\r\n        this.drawcrosshair();\r\n        return;\r\n    }\r\n    if (this.currentTool === \"paintbucket\") {\r\n        return this.floodfill(pos.subtract(this.bounds.origin));\r\n    }\r\n    if (this.settings.primarycolor === \"transparent\" &&\r\n            this.currentTool !== \"crosshairs\") {\r\n        this.erasermask = newCanvas(this.extent(), true);\r\n        this.merge(this.paper, this.erasermask);\r\n    }\r\n};\r\n\r\nPaintCanvasMorph.prototype.mouseMove = function (pos) {\r\n    if (this.currentTool === \"paintbucket\") {\r\n        return;\r\n    }\r\n\r\n    var relpos = pos.subtract(this.bounds.origin),\r\n        mctx = this.mask.getContext(\"2d\"),\r\n        pctx = this.paper.getContext(\"2d\"),\r\n        x = this.dragRect.origin.x, // original drag X\r\n        y = this.dragRect.origin.y, // original drag y\r\n        p = relpos.x,               // current drag x\r\n        q = relpos.y,               // current drag y\r\n        w = (p - x) / 2,            // half the rect width\r\n        h = (q - y) / 2,            // half the rect height\r\n        i,                          // iterator number\r\n        width = this.paper.width;\r\n\r\n    mctx.save();\r\n    function newW() {\r\n        return Math.max(Math.abs(w), Math.abs(h)) * (w / Math.abs(w));\r\n    }\r\n    function newH() {\r\n        return Math.max(Math.abs(w), Math.abs(h)) * (h / Math.abs(h));\r\n    }\r\n    this.brushBuffer.push([p, q]);\r\n    mctx.lineWidth = this.settings.linewidth;\r\n    mctx.clearRect(0, 0, this.bounds.width(), this.bounds.height()); // mask\r\n\r\n    this.dragRect.corner = relpos.subtract(this.dragRect.origin); // reset crn\r\n\r\n    if (this.settings.primarycolor === \"transparent\" &&\r\n            this.currentTool !== \"crosshairs\") {\r\n        this.merge(this.erasermask, this.mask);\r\n        pctx.clearRect(0, 0, this.bounds.width(), this.bounds.height());\r\n        mctx.globalCompositeOperation = \"destination-out\";\r\n    } else {\r\n        mctx.fillStyle = this.settings.primarycolor.toString();\r\n        mctx.strokeStyle = this.settings.primarycolor.toString();\r\n    }\r\n    switch (this.currentTool) {\r\n    case \"rectangle\":\r\n        if (this.isShiftPressed()) {\r\n            mctx.strokeRect(x, y, newW() * 2, newH() * 2);\r\n        } else {\r\n            mctx.strokeRect(x, y, w * 2, h * 2);\r\n        }\r\n        break;\r\n    case \"rectangleSolid\":\r\n        if (this.isShiftPressed()) {\r\n            mctx.fillRect(x, y, newW() * 2, newH() * 2);\r\n        } else {\r\n            mctx.fillRect(x, y, w * 2, h * 2);\r\n        }\r\n        break;\r\n    case \"brush\":\r\n        mctx.lineCap = \"round\";\r\n        mctx.lineJoin = \"round\";\r\n        mctx.beginPath();\r\n        mctx.moveTo(this.brushBuffer[0][0], this.brushBuffer[0][1]);\r\n        for (i = 0; i < this.brushBuffer.length; i += 1) {\r\n            mctx.lineTo(this.brushBuffer[i][0], this.brushBuffer[i][1]);\r\n        }\r\n        mctx.stroke();\r\n        break;\r\n    case \"line\":\r\n        mctx.beginPath();\r\n        mctx.moveTo(x, y);\r\n        if (this.isShiftPressed()) {\r\n            if (Math.abs(h) > Math.abs(w)) {\r\n                mctx.lineTo(x, q);\r\n            } else {\r\n                mctx.lineTo(p, y);\r\n            }\r\n        } else {\r\n            mctx.lineTo(p, q);\r\n        }\r\n        mctx.stroke();\r\n        break;\r\n    case \"circle\":\r\n    case \"circleSolid\":\r\n        mctx.beginPath();\r\n        if (this.isShiftPressed()) {\r\n            mctx.arc(\r\n                x,\r\n                y,\r\n                new Point(x, y).distanceTo(new Point(p, q)),\r\n                0,\r\n                Math.PI * 2,\r\n                false\r\n            );\r\n        } else {\r\n            for (i = 0; i < width; i += 1) {\r\n                mctx.lineTo(\r\n                    i,\r\n                    (2 * h) * Math.sqrt(2 - Math.pow(\r\n                        (i - x) / (2 * w),\r\n                        2\r\n                    )) + y\r\n                );\r\n            }\r\n            for (i = width; i > 0; i -= 1) {\r\n                mctx.lineTo(\r\n                    i,\r\n                    -1 * (2 * h) * Math.sqrt(2 - Math.pow(\r\n                        (i - x) / (2 * w),\r\n                        2\r\n                    )) + y\r\n                );\r\n            }\r\n        }\r\n        mctx.closePath();\r\n        if (this.currentTool === \"circleSolid\") {\r\n            mctx.fill();\r\n        } else {\r\n            if (this.currentTool === \"circle\") {\r\n                mctx.stroke();\r\n            }\r\n        }\r\n        break;\r\n    case \"crosshairs\":\r\n        // Disable automatic crosshairs: user has now chosen where they should be.\r\n        this.automaticCrosshairs = false;\r\n        this.rotationCenter = relpos.copy();\r\n        this.drawcrosshair(mctx);\r\n        break;\r\n    case \"eraser\":\r\n        this.merge(this.paper, this.mask);\r\n        mctx.save();\r\n        mctx.globalCompositeOperation = \"destination-out\";\r\n        mctx.beginPath();\r\n        mctx.moveTo(this.brushBuffer[0][0], this.brushBuffer[0][1]);\r\n        for (i = 0; i < this.brushBuffer.length; i += 1) {\r\n            mctx.lineTo(this.brushBuffer[i][0], this.brushBuffer[i][1]);\r\n        }\r\n        mctx.stroke();\r\n        mctx.restore();\r\n        this.paper = newCanvas(this.extent(), true);\r\n        this.merge(this.mask, this.paper);\r\n        break;\r\n    default:\r\n        nop();\r\n    }\r\n    this.previousDragPoint = relpos;\r\n    this.drawNew();\r\n    this.changed();\r\n    mctx.restore();\r\n};\r\n\r\nPaintCanvasMorph.prototype.mouseClickLeft = function () {\r\n    if (this.currentTool !== \"crosshairs\") {\r\n        this.merge(this.mask, this.paper);\r\n    }\r\n    this.brushBuffer = [];\r\n};\r\n\r\nPaintCanvasMorph.prototype.mouseLeaveDragging\r\n    = PaintCanvasMorph.prototype.mouseClickLeft;\r\n\r\nPaintCanvasMorph.prototype.buildContents = function () {\r\n    this.background = newCanvas(this.extent());\r\n    this.paper = newCanvas(this.extent(), true);\r\n    this.mask = newCanvas(this.extent(), true);\r\n    this.erasermask = newCanvas(this.extent(), true);\r\n    var i, j, bkctx = this.background.getContext(\"2d\");\r\n    for (i = 0; i < this.background.width; i += 5) {\r\n        for (j = 0; j < this.background.height; j += 5) {\r\n            if ((i + j) / 5 % 2 === 1) {\r\n                bkctx.fillStyle = \"rgba(255, 255, 255, 1)\";\r\n            } else {\r\n                bkctx.fillStyle = \"rgba(255, 255, 255, 0.3)\";\r\n            }\r\n            bkctx.fillRect(i, j, 5, 5);\r\n        }\r\n    }\r\n};\r\n\r\nPaintCanvasMorph.prototype.drawNew = function () {\r\n    var can = newCanvas(this.extent(), true);\r\n    this.merge(this.background, can);\r\n    this.merge(this.paper, can);\r\n    this.merge(this.mask, can);\r\n    this.image = can;\r\n    this.drawFrame();\r\n};\r\n\r\nPaintCanvasMorph.prototype.drawFrame = function () {\r\n    var context, borderColor;\r\n\r\n    context = this.image.getContext('2d');\r\n    if (this.parent) {\r\n        this.color = this.parent.color.lighter(this.contrast * 0.75);\r\n        borderColor = this.parent.color;\r\n    } else {\r\n        borderColor = new Color(120, 120, 120);\r\n    }\r\n    context.fillStyle = this.color.toString();\r\n\r\n    // cache my border colors\r\n    this.cachedClr = borderColor.toString();\r\n    this.cachedClrBright = borderColor.lighter(this.contrast)\r\n        .toString();\r\n    this.cachedClrDark = borderColor.darker(this.contrast).toString();\r\n    this.drawRectBorder(context);\r\n};\r\n\r\nPaintCanvasMorph.prototype.drawRectBorder\r\n    = InputFieldMorph.prototype.drawRectBorder;\r\n\r\nPaintCanvasMorph.prototype.edge\r\n    = InputFieldMorph.prototype.edge;\r\n\r\nPaintCanvasMorph.prototype.fontSize\r\n    = InputFieldMorph.prototype.fontSize;\r\n\r\nPaintCanvasMorph.prototype.typeInPadding\r\n    = InputFieldMorph.prototype.typeInPadding;\r\n\r\nPaintCanvasMorph.prototype.contrast\r\n    = InputFieldMorph.prototype.contrast;\r\n//fin de paint.js\r\n/*\r\n\r\n    lists.js\r\n\r\n    list data structure and GUI for SNAP!\r\n\r\n    written by Jens Mönig and Brian Harvey\r\n    jens@moenig.org, bh@cs.berkeley.edu\r\n\r\n    Copyright (C) 2017 by Jens Mönig and Brian Harvey\r\n\r\n    This file is part of Snap!.\r\n\r\n    Snap! is free software: you can redistribute it and/or modify\r\n    it under the terms of the GNU Affero General Public License as\r\n    published by the Free Software Foundation, either version 3 of\r\n    the License, or (at your option) any later version.\r\n\r\n    This program is distributed in the hope that it will be useful,\r\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n    GNU Affero General Public License for more details.\r\n\r\n    You should have received a copy of the GNU Affero General Public License\r\n    along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n\r\n\r\n    prerequisites:\r\n    --------------\r\n    needs morphic.js, widgets.js and gui.js\r\n\r\n\r\n    I. hierarchy\r\n    -------------\r\n    the following tree lists all constructors hierarchically,\r\n    indentation indicating inheritance. Refer to this list to get a\r\n    contextual overview:\r\n\r\n    List\r\n\r\n    BoxMorph*\r\n        ListWatcherMorph\r\n\r\n    * from Morphic.js\r\n\r\n\r\n    II. toc\r\n    -------\r\n    the following list shows the order in which all constructors are\r\n    defined. Use this list to locate code in this document:\r\n\r\n    List\r\n    ListWatcherMorph\r\n\r\n*/\r\n\r\n// Global settings /////////////////////////////////////////////////////\r\n\r\n/*global modules, BoxMorph, HandleMorph, PushButtonMorph, SyntaxElementMorph,\r\nColor, Point, WatcherMorph, StringMorph, SpriteMorph, ScrollFrameMorph,\r\nCellMorph, ArrowMorph, MenuMorph, snapEquals, Morph, isNil, localize,\r\nMorphicPreferences, TableDialogMorph, SpriteBubbleMorph, SpeechBubbleMorph,\r\nTableFrameMorph, TableMorph, Variable, isSnapObject*/\r\n\r\nmodules.lists = '2017-September-01';\r\n\r\nvar List;\r\nvar ListWatcherMorph;\r\n\r\n// List ////////////////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a dynamic array data structure for SNAP!\r\n    My index starts with 1\r\n\r\n    I am a \"smart\" hybrid list, because I can be used as both a linked\r\n    list and as a dynamic array\r\n\r\n    public interface:\r\n\r\n    setters (linked):\r\n    -----------------\r\n    cons                - answer a new list with the given item in front\r\n    cdr                    - answer all but the first element\r\n\r\n    setters (arrayed):\r\n    ------------------\r\n    add(element, index)    - insert the element before the given slot,\r\n    put(element, index)    - overwrite the element at the given slot\r\n    remove(index)        - remove the given slot, shortening the list\r\n    clear()                - remove all elements\r\n\r\n    getters (all hybrid):\r\n    ---------------------\r\n    length()            - number of slots\r\n    at(index)            - element present in specified slot\r\n    contains(element)    - <bool>\r\n\r\n    conversion:\r\n    -----------\r\n    asArray()            - answer me as JavaScript array\r\n    asText()            - answer my elements (recursively) concatenated\r\n*/\r\n\r\n// List instance creation:\r\n\r\nfunction List(array) {\r\n    this.type = null; // for UI lists, such as costumes, sounds, sprites\r\n    this.contents = array || [];\r\n    this.first = null;\r\n    this.rest = null;\r\n    this.isLinked = false;\r\n    this.lastChanged = Date.now();\r\n}\r\n\r\n// List global preferences\r\n\r\nList.prototype.enableTables = false; // default, to not confuse NYC teachers\r\n\r\n// List printing\r\n\r\nList.prototype.toString = function () {\r\n    return 'a List [' + this.length + ' elements]';\r\n};\r\n\r\n// List updating:\r\n\r\nList.prototype.changed = function () {\r\n    this.lastChanged = Date.now();\r\n};\r\n\r\n// Linked List ops:\r\n\r\nList.prototype.cons = function (car, cdr) {\r\n    var answer = new List();\r\n    if (!(cdr instanceof List || isNil(cdr))) {\r\n        throw new Error(\"cdr isn't a list: \" + cdr);\r\n    }\r\n    answer.first = isNil(car) ? null : car;\r\n    answer.rest = cdr || null;\r\n    answer.isLinked = true;\r\n    return answer;\r\n};\r\n\r\nList.prototype.cdr = function () {\r\n    var result, i;\r\n    if (this.isLinked) {\r\n        return this.rest || new List();\r\n    }\r\n    if (this.contents.length < 2) {\r\n        return new List();\r\n    }\r\n\r\n    result = new List();\r\n    for (i = this.contents.length; i > 1; i -= 1) {\r\n        result = this.cons(this.at(i), result);\r\n    }\r\n    return result;\r\n};\r\n\r\n// List array setters:\r\n\r\nList.prototype.add = function (element, index) {\r\n/*\r\n    insert the element before the given slot index,\r\n    if no index is specifed, append the element\r\n*/\r\n    var idx = index || this.length() + 1,\r\n        obj = isNil(element) ? null : element;\r\n\r\n    this.becomeArray();\r\n    this.contents.splice(idx - 1, 0, obj);\r\n    this.changed();\r\n};\r\n\r\nList.prototype.put = function (element, index) {\r\n    // exchange the element at the given slot for another\r\n    var data = element === 0 ? 0\r\n            : element === false ? false\r\n                    : element || null;\r\n\r\n    this.becomeArray();\r\n    this.contents[index - 1] = data;\r\n    this.changed();\r\n};\r\n\r\nList.prototype.remove = function (index) {\r\n    // remove the given slot, shortening the list\r\n    this.becomeArray();\r\n    this.contents.splice(index - 1, 1);\r\n    this.changed();\r\n};\r\n\r\nList.prototype.clear = function () {\r\n    this.contents = [];\r\n    this.first = null;\r\n    this.rest = null;\r\n    this.isLinked = false;\r\n    this.changed();\r\n};\r\n\r\n// List getters (all hybrid):\r\n\r\nList.prototype.length = function () {\r\n    if (this.isLinked) {\r\n        var pair = this,\r\n            result = 0;\r\n        while (pair && pair.isLinked) {\r\n            result += 1;\r\n            pair = pair.rest;\r\n        }\r\n        return result + (pair ? pair.contents.length : 0);\r\n    }\r\n    return this.contents.length;\r\n};\r\n\r\nList.prototype.at = function (index) {\r\n    var value, idx = +index, pair = this;\r\n    while (pair.isLinked) {\r\n        if (idx > 1) {\r\n            pair = pair.rest;\r\n            idx -= 1;\r\n        } else {\r\n            return pair.first;\r\n        }\r\n    }\r\n    value = pair.contents[idx - 1];\r\n    return isNil(value) ? '' : value;\r\n};\r\n\r\nList.prototype.contains = function (element) {\r\n    var pair = this;\r\n    while (pair.isLinked) {\r\n        if (snapEquals(pair.first, element)) {\r\n            return true;\r\n        }\r\n        pair = pair.rest;\r\n    }\r\n    // in case I'm arrayed\r\n    return pair.contents.some(function (any) {\r\n        return snapEquals(any, element);\r\n    });\r\n};\r\n\r\n// List table (2D) accessing (for table morph widget):\r\n\r\nList.prototype.isTable = function () {\r\n    return this.enableTables && (this.length() > 100 || this.cols() > 1);\r\n};\r\n\r\nList.prototype.get = function (col, row) {\r\n    var r, len, cols;\r\n    if (!col) {\r\n        if (!row) {return [this.length()]; }\r\n        if (row > this.rows()) {return null; }\r\n        return this.rowName(row);\r\n    } else if (!row) {\r\n        if (this.cols() === 1) {return localize('items'); }\r\n        return this.colName(col);\r\n    }\r\n    r = this.at(row);\r\n\r\n    // encode \"orphaned\" as arrays and overshooting ones as Variables\r\n    if (r instanceof List) {\r\n        len = r.length();\r\n        cols = this.cols();\r\n        if (col > len) {\r\n            return null;\r\n        } else if (cols === 1 && len > 1) {\r\n            return [r];\r\n        } else if (col >= cols && len > cols) { // overshooting\r\n            return new Variable(r.at(col));\r\n        }\r\n        return r.at(col);\r\n    }\r\n    if (col === 1 && row <= this.rows()) {\r\n        return [r];\r\n    }\r\n    return null;\r\n};\r\n\r\nList.prototype.rows = function () {\r\n    return this.length();\r\n};\r\n\r\nList.prototype.cols = function () {\r\n    var r = (this.at(1));\r\n    return r instanceof List ? r.length() : 1;\r\n};\r\n\r\nList.prototype.colName = function (col) {\r\n    if (col > this.cols()) {return null; }\r\n    return String.fromCharCode(64 + ((col % 26) || 26)).repeat(\r\n        Math.floor((col - 1) / 26) + 1\r\n    );\r\n};\r\n\r\nList.prototype.rowName = function (row) {\r\n    return row;\r\n};\r\n\r\nList.prototype.columnNames = function () {\r\n    return [];\r\n};\r\n\r\nList.prototype.version = function (startRow, rows) {\r\n    var l = Math.min(startRow + rows, this.length()),\r\n        v = this.lastChanged,\r\n        r,\r\n        i;\r\n    for (i = startRow; i <= l; i += 1) {\r\n        r = this.at(i);\r\n        v = Math.max(v, r.lastChanged ? r.lastChanged : 0);\r\n    }\r\n    return v;\r\n};\r\n\r\n// List conversion:\r\n\r\nList.prototype.asArray = function () {\r\n    // for use in the evaluator\r\n    this.becomeArray();\r\n    return this.contents;\r\n};\r\n\r\nList.prototype.itemsArray = function () {\r\n    // answer an array containing my elements\r\n    // don't convert linked lists to arrays\r\n    if (this.isLinked) {\r\n        var next = this,\r\n            result = [],\r\n            i;\r\n        while (next && next.isLinked) {\r\n            result.push(next.first);\r\n            next = next.rest;\r\n        }\r\n        if (next) {\r\n            for (i = 1; i <= next.contents.length; i += 1) {\r\n                result.push(next.at(i));\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n    return this.contents;\r\n};\r\n\r\nList.prototype.asText = function () {\r\n    var result = '',\r\n        length,\r\n        element,\r\n        pair = this,\r\n        i;\r\n    while (pair.isLinked) {\r\n        element = pair.first;\r\n        if (element instanceof List) {\r\n            result = result.concat(element.asText());\r\n        } else {\r\n            element = isNil(element) ? '' : element.toString();\r\n            result = result.concat(element);\r\n        }\r\n        pair = pair.rest;\r\n    }\r\n    length = pair.length();\r\n    for (i = 1; i <= length; i += 1) {\r\n        element = pair.at(i);\r\n        if (element instanceof List) {\r\n            result = result.concat(element.asText());\r\n        } else {\r\n            element = isNil(element) ? '' : element.toString();\r\n            result = result.concat(element);\r\n        }\r\n    }\r\n    return result;\r\n};\r\n\r\nList.prototype.becomeArray = function () {\r\n    if (this.isLinked) {\r\n        this.contents = this.itemsArray();\r\n        this.isLinked = false;\r\n        this.first = null;\r\n        this.rest = null;\r\n    }\r\n};\r\n\r\nList.prototype.becomeLinked = function () {\r\n    var i, stop, tail = this;\r\n    if (!this.isLinked) {\r\n        stop = this.length();\r\n        for (i = 0; i < stop; i += 1) {\r\n            tail.first = this.contents[i];\r\n            if (i < (stop - 1)) {\r\n                tail.rest = new List();\r\n                tail.isLinked = true;\r\n                tail = tail.rest;\r\n            }\r\n        }\r\n        this.contents = [];\r\n        this.isLinked = true;\r\n    }\r\n};\r\n\r\n// List testing\r\n\r\nList.prototype.equalTo = function (other) {\r\n    var myself = this, it = other, i, j, loopcount;\r\n    if (!(other instanceof List)) {\r\n        return false;\r\n    }\r\n\r\n    while (myself.isLinked && it.isLinked) {\r\n        if (!snapEquals(myself.first, it.first)) {\r\n            return false;\r\n        }\r\n        myself = myself.rest;\r\n        it = it.rest;\r\n    }\r\n\r\n    if (it.isLinked) {\r\n        i = it;\r\n        it = myself;\r\n        myself = i;\r\n    }\r\n\r\n    j = 0;\r\n    while (myself.isLinked) {\r\n        if (!snapEquals(myself.first, it.contents[j])) {\r\n            return false;\r\n        }\r\n        myself = myself.rest;\r\n        j += 1;\r\n    }\r\n\r\n    i = 0;\r\n    if (myself.contents.length !== (it.contents.length - j)) {\r\n        return false;\r\n    }\r\n\r\n    loopcount = myself.contents.length;\r\n    while (loopcount > 0) {\r\n        loopcount -= 1;\r\n        if (!snapEquals(myself.contents[i], it.contents[j])) {\r\n            return false;\r\n        }\r\n        i += 1;\r\n        j += 1;\r\n    }\r\n    return true;\r\n};\r\n\r\n// ListWatcherMorph ////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a little window which observes a list and continuously\r\n    updates itself accordingly\r\n*/\r\n\r\n// ListWatcherMorph inherits from BoxMorph:\r\n\r\nListWatcherMorph.prototype = new BoxMorph();\r\nListWatcherMorph.prototype.constructor = ListWatcherMorph;\r\nListWatcherMorph.uber = BoxMorph.prototype;\r\n\r\n// ListWatcherMorph default settings\r\n\r\nListWatcherMorph.prototype.cellColor =\r\n    SpriteMorph.prototype.blockColor.lists;\r\n\r\n// ListWatcherMorph instance creation:\r\n\r\nfunction ListWatcherMorph(list, parentCell) {\r\n    this.init(list, parentCell);\r\n}\r\n\r\nListWatcherMorph.prototype.init = function (list, parentCell) {\r\n    var myself = this;\r\n\r\n    this.list = list || new List();\r\n    this.start = 1;\r\n    this.range = 100;\r\n    this.lastUpdated = Date.now();\r\n    this.lastCell = null;\r\n    this.parentCell = parentCell || null; // for circularity detection\r\n\r\n    // elements declarations\r\n    this.label = new StringMorph(\r\n        localize('length: ') + this.list.length(),\r\n        SyntaxElementMorph.prototype.fontSize,\r\n        null,\r\n        false,\r\n        false,\r\n        false,\r\n        MorphicPreferences.isFlat ? new Point() : new Point(1, 1),\r\n        new Color(255, 255, 255)\r\n    );\r\n    this.label.mouseClickLeft = function () {myself.startIndexMenu(); };\r\n\r\n\r\n    this.frame = new ScrollFrameMorph(null, 10);\r\n    this.frame.alpha = 0;\r\n    this.frame.acceptsDrops = false;\r\n    this.frame.contents.acceptsDrops = false;\r\n\r\n    this.handle = new HandleMorph(\r\n        this,\r\n        80,\r\n        70,\r\n        3,\r\n        3\r\n    );\r\n    this.handle.setExtent(new Point(13, 13));\r\n\r\n    this.arrow = new ArrowMorph(\r\n        'down',\r\n        SyntaxElementMorph.prototype.fontSize\r\n    );\r\n    this.arrow.mouseClickLeft = function () {myself.startIndexMenu(); };\r\n    this.arrow.setRight(this.handle.right());\r\n    this.arrow.setBottom(this.handle.top());\r\n    this.handle.add(this.arrow);\r\n\r\n    this.plusButton = new PushButtonMorph(\r\n        this.list,\r\n        'add',\r\n        '+'\r\n    );\r\n    this.plusButton.padding = 0;\r\n    this.plusButton.edge = 0;\r\n    this.plusButton.outlineColor = this.color;\r\n    this.plusButton.drawNew();\r\n    this.plusButton.fixLayout();\r\n\r\n    ListWatcherMorph.uber.init.call(\r\n        this,\r\n        SyntaxElementMorph.prototype.rounding,\r\n        1.000001, // shadow bug in Chrome,\r\n        new Color(120, 120, 120)\r\n    );\r\n\r\n    this.color = new Color(220, 220, 220);\r\n    this.isDraggable = false;\r\n    this.setExtent(new Point(80, 70).multiplyBy(\r\n        SyntaxElementMorph.prototype.scale\r\n    ));\r\n    this.add(this.label);\r\n    this.add(this.frame);\r\n    this.add(this.plusButton);\r\n    this.add(this.handle);\r\n    this.handle.drawNew();\r\n    this.update();\r\n    this.fixLayout();\r\n};\r\n\r\n// ListWatcherMorph updating:\r\n\r\nListWatcherMorph.prototype.update = function (anyway) {\r\n    var i, idx, ceil, morphs, cell, cnts, label, button, max,\r\n        starttime, maxtime = 1000;\r\n\r\n    this.frame.contents.children.forEach(function (m) {\r\n        if (m instanceof CellMorph) {\r\n            if (m.contentsMorph instanceof ListWatcherMorph) {\r\n                m.contentsMorph.update();\r\n            } else if (isSnapObject(m.contents)) {\r\n                m.update();\r\n            }\r\n        }\r\n    });\r\n\r\n    if (this.lastUpdated === this.list.lastChanged && !anyway) {\r\n        return null;\r\n    }\r\n\r\n    this.updateLength(true);\r\n\r\n    // adjust start index to current list length\r\n    this.start = Math.max(\r\n        Math.min(\r\n            this.start,\r\n            Math.floor((this.list.length() - 1) / this.range)\r\n                * this.range + 1\r\n        ),\r\n        1\r\n    );\r\n\r\n    // refresh existing cells\r\n    // highest index shown:\r\n    max = Math.min(\r\n        this.start + this.range - 1,\r\n        this.list.length()\r\n    );\r\n\r\n    // number of morphs available for refreshing\r\n    ceil = Math.min(\r\n        (max - this.start + 1) * 3,\r\n        this.frame.contents.children.length\r\n    );\r\n\r\n    for (i = 0; i < ceil; i += 3) {\r\n        idx = this.start + (i / 3);\r\n\r\n        cell = this.frame.contents.children[i];\r\n        label = this.frame.contents.children[i + 1];\r\n        button = this.frame.contents.children[i + 2];\r\n        cnts = this.list.at(idx);\r\n\r\n        if (cell.contents !== cnts) {\r\n            cell.contents = cnts;\r\n            cell.drawNew();\r\n            if (this.lastCell) {\r\n                cell.setLeft(this.lastCell.left());\r\n            }\r\n        }\r\n        this.lastCell = cell;\r\n\r\n        if (label.text !== idx.toString()) {\r\n            label.text = idx.toString();\r\n            label.drawNew();\r\n        }\r\n\r\n        button.action = idx;\r\n    }\r\n\r\n    // remove excess cells\r\n    // number of morphs to be shown\r\n    morphs = (max - this.start + 1) * 3;\r\n\r\n    while (this.frame.contents.children.length > morphs) {\r\n        this.frame.contents.children[morphs].destroy();\r\n    }\r\n\r\n    // add additional cells\r\n    ceil = morphs; //max * 3;\r\n    i = this.frame.contents.children.length;\r\n\r\n    starttime = Date.now();\r\n    if (ceil > i + 1) {\r\n        for (i; i < ceil; i += 3) {\r\n            if (Date.now() - starttime > maxtime) {\r\n                this.fixLayout();\r\n                this.frame.contents.adjustBounds();\r\n                this.frame.contents.setLeft(this.frame.left());\r\n                return null;\r\n            }\r\n            idx = this.start + (i / 3);\r\n            label = new StringMorph(\r\n                idx.toString(),\r\n                SyntaxElementMorph.prototype.fontSize,\r\n                null,\r\n                false,\r\n                false,\r\n                false,\r\n                MorphicPreferences.isFlat ? new Point() : new Point(1, 1),\r\n                new Color(255, 255, 255)\r\n            );\r\n            cell = new CellMorph(\r\n                this.list.at(idx),\r\n                this.cellColor,\r\n                idx,\r\n                this.parentCell\r\n            );\r\n            button = new PushButtonMorph(\r\n                this.list.remove,\r\n                idx,\r\n                '-',\r\n                this.list\r\n            );\r\n            button.padding = 1;\r\n            button.edge = 0;\r\n            button.corner = 1;\r\n            button.outlineColor = this.color.darker();\r\n            button.drawNew();\r\n            button.fixLayout();\r\n\r\n            this.frame.contents.add(cell);\r\n            if (this.lastCell) {\r\n                cell.setPosition(this.lastCell.bottomLeft());\r\n            } else {\r\n                cell.setTop(this.frame.contents.top());\r\n            }\r\n            this.lastCell = cell;\r\n            label.setCenter(cell.center());\r\n            label.setRight(cell.left() - 2);\r\n            this.frame.contents.add(label);\r\n            this.frame.contents.add(button);\r\n        }\r\n    }\r\n    this.lastCell = null;\r\n\r\n    this.fixLayout();\r\n    this.frame.contents.adjustBounds();\r\n    this.frame.contents.setLeft(this.frame.left());\r\n    this.updateLength();\r\n    this.lastUpdated = this.list.lastChanged;\r\n};\r\n\r\nListWatcherMorph.prototype.updateLength = function (notDone) {\r\n    this.label.text = localize('length: ') + this.list.length();\r\n    if (notDone) {\r\n        this.label.color = new Color(0, 0, 100);\r\n    } else {\r\n        this.label.color = new Color(0, 0, 0);\r\n    }\r\n    this.label.drawNew();\r\n    this.label.setCenter(this.center());\r\n    this.label.setBottom(this.bottom() - 3);\r\n};\r\n\r\nListWatcherMorph.prototype.startIndexMenu = function () {\r\n    var i,\r\n        range,\r\n        myself = this,\r\n        items = Math.ceil(this.list.length() / this.range),\r\n        menu = new MenuMorph(\r\n            function (idx) {myself.setStartIndex(idx); },\r\n            null,\r\n            myself\r\n        );\r\n    menu.addItem('1...', 1);\r\n    for (i = 1; i < items; i += 1) {\r\n        range = i * 100 + 1;\r\n        menu.addItem(range + '...', range);\r\n    }\r\n    menu.popUpAtHand(this.world());\r\n};\r\n\r\nListWatcherMorph.prototype.setStartIndex = function (index) {\r\n    this.start = index;\r\n    this.list.changed();\r\n};\r\n\r\nListWatcherMorph.prototype.fixLayout = function () {\r\n    if (!this.label) {return; }\r\n    Morph.prototype.trackChanges = false;\r\n    if (this.frame) {\r\n        this.arrangeCells();\r\n        this.frame.silentSetPosition(this.position().add(3));\r\n        this.frame.bounds.corner = this.bounds.corner.subtract(new Point(\r\n            3,\r\n            17\r\n        ));\r\n        this.frame.drawNew();\r\n        this.frame.contents.adjustBounds();\r\n    }\r\n\r\n    this.label.setCenter(this.center());\r\n    this.label.setBottom(this.bottom() - 3);\r\n    this.plusButton.setLeft(this.left() + 3);\r\n    this.plusButton.setBottom(this.bottom() - 3);\r\n\r\n    Morph.prototype.trackChanges = true;\r\n    this.changed();\r\n\r\n    if (this.parent && this.parent.fixLayout) {\r\n        this.parent.fixLayout();\r\n    }\r\n};\r\n\r\nListWatcherMorph.prototype.arrangeCells = function () {\r\n    var i, cell, label, button, lastCell,\r\n        end = this.frame.contents.children.length;\r\n    for (i = 0; i < end; i += 3) {\r\n        cell = this.frame.contents.children[i];\r\n        label = this.frame.contents.children[i + 1];\r\n        button = this.frame.contents.children[i + 2];\r\n        if (lastCell) {\r\n            cell.setTop(lastCell.bottom());\r\n        }\r\n        if (label) {\r\n            label.setTop(cell.center().y - label.height() / 2);\r\n            label.setRight(cell.left() - 2);\r\n        }\r\n        if (button) {\r\n            button.setCenter(cell.center());\r\n            button.setLeft(cell.right() + 2);\r\n        }\r\n        lastCell = cell;\r\n    }\r\n    this.frame.contents.adjustBounds();\r\n};\r\n\r\nListWatcherMorph.prototype.expand = function (maxExtent) {\r\n    // make sure to show all (first 100) cells\r\n    var fe = this.frame.contents.extent(),\r\n        ext = new Point(fe.x + 6, fe.y + this.label.height() + 6);\r\n    if (maxExtent) {\r\n        ext = ext.min(maxExtent);\r\n    }\r\n    this.setExtent(ext);\r\n    this.handle.setRight(this.right() - 3);\r\n    this.handle.setBottom(this.bottom() - 3);\r\n};\r\n\r\n// ListWatcherMorph context menu\r\n\r\nListWatcherMorph.prototype.userMenu = function () {\r\n    if (!List.prototype.enableTables) {\r\n        return this.escalateEvent('userMenu');\r\n    }\r\n    var menu = new MenuMorph(this),\r\n        myself = this;\r\n    menu.addItem('table view...', 'showTableView');\r\n    menu.addLine();\r\n    menu.addItem(\r\n        'open in dialog...',\r\n        function () {\r\n            new TableDialogMorph(myself.list).popUp(myself.world());\r\n        }\r\n    );\r\n    return menu;\r\n};\r\n\r\nListWatcherMorph.prototype.showTableView = function () {\r\n    var view = this.parentThatIsAnyOf([\r\n        SpriteBubbleMorph,\r\n        SpeechBubbleMorph,\r\n        CellMorph\r\n    ]);\r\n    if (!view) {return; }\r\n    if (view instanceof SpriteBubbleMorph) {\r\n        view.changed();\r\n        view.drawNew(true);\r\n    } else if (view instanceof SpeechBubbleMorph) {\r\n        view.contents = new TableFrameMorph(new TableMorph(this.list, 10));\r\n        view.contents.expand(this.extent());\r\n        view.drawNew(true);\r\n    } else { // watcher cell\r\n        view.drawNew(true, 'table');\r\n        view.contentsMorph.expand(this.extent());\r\n    }\r\n    view.fixLayout();\r\n};\r\n\r\n// ListWatcherMorph events:\r\n\r\nListWatcherMorph.prototype.mouseDoubleClick = function (pos) {\r\n    if (List.prototype.enableTables) {\r\n        new TableDialogMorph(this.list).popUp(this.world());\r\n    } else {\r\n        this.escalateEvent('mouseDoubleClick', pos);\r\n    }\r\n};\r\n\r\n// ListWatcherMorph hiding/showing:\r\n\r\nListWatcherMorph.prototype.show = function () {\r\n    ListWatcherMorph.uber.show.call(this);\r\n    this.frame.contents.adjustBounds();\r\n};\r\n\r\n// ListWatcherMorph drawing:\r\n\r\nListWatcherMorph.prototype.drawNew = function () {\r\n    WatcherMorph.prototype.drawNew.call(this);\r\n    this.fixLayout();\r\n};\r\n//fin de Lists.js\r\n/*\r\n\r\n    byob.js\r\n\r\n    \"build your own blocks\" for Snap!\r\n    based on morphic.js, widgets.js blocks.js, threads.js and objects.js\r\n    inspired by Scratch\r\n\r\n    written by Jens Mönig\r\n    jens@moenig.org\r\n\r\n    Copyright (C) 2017 by Jens Mönig\r\n\r\n    This file is part of Snap!.\r\n\r\n    Snap! is free software: you can redistribute it and/or modify\r\n    it under the terms of the GNU Affero General Public License as\r\n    published by the Free Software Foundation, either version 3 of\r\n    the License, or (at your option) any later version.\r\n\r\n    This program is distributed in the hope that it will be useful,\r\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n    GNU Affero General Public License for more details.\r\n\r\n    You should have received a copy of the GNU Affero General Public License\r\n    along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n\r\n\r\n    prerequisites:\r\n    --------------\r\n    needs blocks.js, threads.js, objects.js, widgets.js and morphic.js\r\n\r\n\r\n    hierarchy\r\n    ---------\r\n    the following tree lists all constructors hierarchically,\r\n    indentation indicating inheritance. Refer to this list to get a\r\n    contextual overview:\r\n\r\n    BlockLabelFragment\r\n    CustomBlockDefinition\r\n\r\n    CommandBlockMorph***\r\n        CustomCommandBlockMorph\r\n        HatBlockMorph***\r\n            PrototypeHatBlockMorph\r\n\r\n    DialogBoxMorph**\r\n        BlockDialogMorph\r\n        BlockEditorMorph\r\n        BlockExportDialogMorph\r\n        BlockImportDialogMorph\r\n        BlockRemovalDialogMorph\r\n        InputSlotDialogMorph\r\n        VariableDialogMorph\r\n\r\n    ReporterBlockMorph***\r\n        CustomReporterBlockMorph\r\n        JaggedBlockMorph\r\n\r\n\r\n    StringMorph*\r\n        BlockLabelFragmentMorph\r\n        BlockLabelPlaceHolderMorph\r\n\r\n    TemplateSlotMorph***\r\n        BlockInputFragmentMorph\r\n\r\n    * from morphic.js\r\n    ** from widgets.js\r\n    *** from blocks.js\r\n\r\n\r\n    toc\r\n    ---\r\n    the following list shows the order in which all constructors are\r\n    defined. Use this list to locate code in this document:\r\n\r\n    CustomBlockDefinition\r\n    CustomCommandBlockMorph\r\n    CustomReporterBlockMorph\r\n    JaggedBlockMorph\r\n    BlockDialogMorph\r\n    BlockEditorMorph\r\n    PrototypeHatBlockMorph\r\n    BlockLabelFragmentMorph\r\n    BlockLabelPlaceHolderMorph\r\n    BlockInputFragmentMorph\r\n    InputSlotDialogMorph\r\n    VariableDialogMorph\r\n    BlockExportDialogMorph\r\n    BlockImportDialogMorph\r\n    BlockRemovalDialogMorph\r\n\r\n*/\r\n\r\n/*global modules, CommandBlockMorph, SpriteMorph, TemplateSlotMorph,\r\nStringMorph, Color, DialogBoxMorph, ScriptsMorph, ScrollFrameMorph,\r\nPoint, HandleMorph, HatBlockMorph, BlockMorph, detect, List, Process,\r\nAlignmentMorph, ToggleMorph, InputFieldMorph, ReporterBlockMorph,\r\nStringMorph, nop, newCanvas, radians, BoxMorph, ArrowMorph, PushButtonMorph,\r\ncontains, InputSlotMorph, ToggleButtonMorph, IDE_Morph, MenuMorph, copy,\r\nToggleElementMorph, Morph, fontHeight, StageMorph, SyntaxElementMorph,\r\nSnapSerializer, CommentMorph, localize, CSlotMorph, MorphicPreferences,\r\nSymbolMorph, isNil, CursorMorph, VariableFrame, WatcherMorph, Variable,\r\nBooleanSlotMorph, XML_Serializer, SnapTranslator*/\r\n\r\n// Global stuff ////////////////////////////////////////////////////////\r\n\r\nmodules.byob = '2017-December-01';\r\n\r\n// Declarations\r\n\r\nvar CustomBlockDefinition;\r\nvar CustomCommandBlockMorph;\r\nvar CustomReporterBlockMorph;\r\nvar BlockDialogMorph;\r\nvar BlockEditorMorph;\r\nvar PrototypeHatBlockMorph;\r\nvar BlockLabelFragment;\r\nvar BlockLabelFragmentMorph;\r\nvar BlockInputFragmentMorph;\r\nvar BlockLabelPlaceHolderMorph;\r\nvar InputSlotDialogMorph;\r\nvar VariableDialogMorph;\r\nvar JaggedBlockMorph;\r\nvar BlockExportDialogMorph;\r\nvar BlockImportDialogMorph;\r\nvar BlockRemovalDialogMorph;\r\n\r\n// CustomBlockDefinition ///////////////////////////////////////////////\r\n\r\n// CustomBlockDefinition instance creation:\r\n\r\nfunction CustomBlockDefinition(spec, receiver) {\r\n    this.body = null; // a Context (i.e. a reified top block)\r\n    this.scripts = [];\r\n    this.category = null;\r\n    this.isGlobal = false;\r\n    this.type = 'command';\r\n    this.spec = spec || '';\r\n    // format: {'inputName' : [type, default, options, readonly]}\r\n    this.declarations = {};\r\n    this.variableNames = [];\r\n    this.comment = null;\r\n    this.codeMapping = null; // experimental, generate text code\r\n    this.codeHeader = null; // experimental, generate text code\r\n    this.translations = {}; // experimental, format: {lang : spec}\r\n\r\n    // don't serialize (not needed for functionality):\r\n    this.receiver = receiver || null; // for serialization only (pointer)\r\n    this.editorDimensions = null; // a rectangle, last bounds of the editor\r\n    this.cachedIsRecursive = null; // for automatic yielding\r\n    this.cachedTranslation = null; // for localized block specs\r\n}\r\n\r\n// CustomBlockDefinition instantiating blocks\r\n\r\nCustomBlockDefinition.prototype.blockInstance = function () {\r\n    var block;\r\n    if (this.type === 'command') {\r\n        block = new CustomCommandBlockMorph(this);\r\n    } else {\r\n        block = new CustomReporterBlockMorph(\r\n            this,\r\n            this.type === 'predicate'\r\n        );\r\n    }\r\n    block.isDraggable = true;\r\n    return block;\r\n};\r\n\r\nCustomBlockDefinition.prototype.templateInstance = function () {\r\n    var block;\r\n    block = this.blockInstance();\r\n    block.refreshDefaults(this);\r\n    block.isDraggable = false;\r\n    block.isTemplate = true;\r\n    return block;\r\n};\r\n\r\nCustomBlockDefinition.prototype.prototypeInstance = function () {\r\n    var block, slot, myself = this;\r\n\r\n    // make a new block instance and mark it as prototype\r\n    if (this.type === 'command') {\r\n        block = new CustomCommandBlockMorph(this, true);\r\n    } else {\r\n        block = new CustomReporterBlockMorph(\r\n            this,\r\n            this.type === 'predicate',\r\n            true\r\n        );\r\n    }\r\n\r\n    // assign slot declarations to prototype inputs\r\n    block.parts().forEach(function (part) {\r\n        if (part instanceof BlockInputFragmentMorph) {\r\n            slot = myself.declarations[part.fragment.labelString];\r\n            if (slot) {\r\n                part.fragment.type = slot[0];\r\n                part.fragment.defaultValue = slot[1];\r\n                part.fragment.options = slot[2];\r\n                part.fragment.isReadOnly = slot[3] || false;\r\n            }\r\n        }\r\n    });\r\n\r\n    return block;\r\n};\r\n\r\n// CustomBlockDefinition duplicating\r\n\r\nCustomBlockDefinition.prototype.copyAndBindTo = function (sprite, headerOnly) {\r\n    var c = copy(this);\r\n\r\n    delete c[XML_Serializer.prototype.idProperty];\r\n    c.receiver = sprite; // only for (kludgy) serialization\r\n    c.declarations = copy(this.declarations); // might have to go deeper\r\n    if (headerOnly) { // for serializing inherited method signatures\r\n        c.body = null;\r\n        return c;\r\n    }\r\n    if (c.body) {\r\n        c.body = Process.prototype.reify.call(\r\n            null,\r\n            this.body.expression,\r\n            new List(this.inputNames())\r\n        );\r\n        c.body.outerContext = null;\r\n    }\r\n    return c;\r\n};\r\n\r\n// CustomBlockDefinition accessing\r\n\r\nCustomBlockDefinition.prototype.blockSpec = function () {\r\n    var myself = this,\r\n        ans = [],\r\n        parts = this.parseSpec(this.spec),\r\n        spec;\r\n    parts.forEach(function (part) {\r\n        if (part[0] === '%' && part.length > 1) {\r\n            spec = myself.typeOf(part.slice(1));\r\n        } else if (part === '$nl') {\r\n            spec = '%br';\r\n        } else {\r\n            spec = part;\r\n        }\r\n        ans.push(spec);\r\n        ans.push(' ');\r\n    });\r\n    return ''.concat.apply('', ans).trim();\r\n};\r\n\r\nCustomBlockDefinition.prototype.helpSpec = function () {\r\n    var ans = [],\r\n        parts = this.parseSpec(this.spec);\r\n    parts.forEach(function (part) {\r\n        if (part[0] !== '%') {\r\n            ans.push(part);\r\n        }\r\n    });\r\n    return ''.concat.apply('', ans).replace(/\\?/g, '');\r\n};\r\n\r\nCustomBlockDefinition.prototype.typeOf = function (inputName) {\r\n    if (this.declarations[inputName]) {\r\n        return this.declarations[inputName][0];\r\n    }\r\n    return '%s';\r\n};\r\n\r\nCustomBlockDefinition.prototype.defaultValueOf = function (inputName) {\r\n    if (this.declarations[inputName]) {\r\n        return this.declarations[inputName][1];\r\n    }\r\n    return '';\r\n};\r\n\r\nCustomBlockDefinition.prototype.defaultValueOfInputIdx = function (idx) {\r\n    var inputName = this.inputNames()[idx];\r\n    return this.defaultValueOf(inputName);\r\n};\r\n\r\nCustomBlockDefinition.prototype.dropDownMenuOfInputIdx = function (idx) {\r\n    var inputName = this.inputNames()[idx];\r\n    return this.dropDownMenuOf(inputName);\r\n};\r\n\r\nCustomBlockDefinition.prototype.isReadOnlyInputIdx = function (idx) {\r\n    var inputName = this.inputNames()[idx];\r\n    return this.isReadOnlyInput(inputName);\r\n};\r\n\r\nCustomBlockDefinition.prototype.inputOptionsOfIdx = function (idx) {\r\n    var inputName = this.inputNames()[idx];\r\n    return this.inputOptionsOf(inputName);\r\n};\r\n\r\nCustomBlockDefinition.prototype.dropDownMenuOf = function (inputName) {\r\n    if (this.declarations[inputName] && this.declarations[inputName][2]) {\r\n        return this.parseChoices(this.declarations[inputName][2]);\r\n    }\r\n    return null;\r\n};\r\n\r\nCustomBlockDefinition.prototype.parseChoices = function (string) {\r\n    var dict = {},\r\n        stack = [dict];\r\n    string.split('\\n').forEach(function (line) {\r\n        var pair = line.split('=');\r\n        if (pair[0] === '}') {\r\n            stack.pop();\r\n            dict = stack[stack.length - 1];\r\n        } else if (pair[1] === '{') {\r\n            dict = {};\r\n            stack[stack.length - 1][pair[0]] = dict;\r\n            stack.push(dict);\r\n        } else {\r\n            dict[pair[0]] = isNil(pair[1]) ? pair[0] : pair[1];\r\n        }\r\n    });\r\n    return dict;\r\n};\r\n\r\nCustomBlockDefinition.prototype.isReadOnlyInput = function (inputName) {\r\n    return this.declarations[inputName] &&\r\n        this.declarations[inputName][3] === true;\r\n};\r\n\r\nCustomBlockDefinition.prototype.inputOptionsOf = function (inputName) {\r\n    return [\r\n        this.dropDownMenuOf(inputName),\r\n        this.isReadOnlyInput(inputName)\r\n    ];\r\n};\r\n\r\nCustomBlockDefinition.prototype.inputNames = function () {\r\n    var vNames = [],\r\n        parts = this.parseSpec(this.spec);\r\n    parts.forEach(function (part) {\r\n        if (part[0] === '%' && part.length > 1) {\r\n            vNames.push(part.slice(1));\r\n        }\r\n    });\r\n    return vNames;\r\n};\r\n\r\nCustomBlockDefinition.prototype.parseSpec = function (spec) {\r\n    // private\r\n    var parts = [], word = '', i, quoted = false, c;\r\n    for (i = 0; i < spec.length; i += 1) {\r\n        c = spec[i];\r\n        if (c === \"'\") {\r\n            quoted = !quoted;\r\n        } else if (c === ' ' && !quoted) {\r\n            parts.push(word);\r\n            word = '';\r\n        } else {\r\n            word = word.concat(c);\r\n        }\r\n    }\r\n    parts.push(word);\r\n    return parts;\r\n};\r\n\r\nCustomBlockDefinition.prototype.isDirectlyRecursive = function () {\r\n    var myspec;\r\n    if (this.cachedIsRecursive !== null) {\r\n        return this.cachedIsRecursive;\r\n    }\r\n    if (!this.body) {\r\n        this.cachedIsRecursive = false;\r\n    } else {\r\n        myspec = this.blockSpec();\r\n        this.cachedIsRecursive = this.body.expression.anyChild(\r\n            function (morph) {\r\n                return morph.isCustomBlock &&\r\n                    morph.blockSpec === myspec;\r\n            }\r\n        );\r\n    }\r\n    return this.cachedIsRecursive;\r\n};\r\n\r\n// CustomBlockDefinition localizing, highly experimental\r\n\r\nCustomBlockDefinition.prototype.localizedSpec = function () {\r\n\tif (this.cachedTranslation) {return this.cachedTranslation; }\r\n\r\n\tvar loc = this.translations[SnapTranslator.language],\r\n\t\tsem = this.blockSpec(),\r\n        locParts,\r\n  \t\tinputs,\r\n    \ti = -1;\r\n\r\n\tfunction isInput(str) {\r\n    \treturn (str.length > 1) && (str[0] === '%');\r\n \t}\r\n\r\n    if (isNil(loc)) {return sem; }\r\n    inputs = BlockMorph.prototype.parseSpec(sem).filter(function (str) {\r\n        return (isInput(str));\r\n    });\r\n\tlocParts = BlockMorph.prototype.parseSpec(loc);\r\n\r\n\t// perform a bunch of sanity checks on the localized spec\r\n\tif (locParts.some(function (str) {return isInput(str); }) ||\r\n \t\t\t(locParts.filter(function (str) {return str === '_'; }).length !==\r\n            \tinputs.length)\r\n    ) {\r\n \t\tthis.cachedTranslation = sem;\r\n    } else {\r\n\t\t// substitute each input place holder with its semantic spec part\r\n\t\tlocParts = locParts.map(function (str) {\r\n\t\t\tif (str === '_') {\r\n  \t\t\t\ti += 1;\r\n  \t\t\t\treturn inputs[i];\r\n  \t\t\t}\r\n    \t\treturn str;\r\n\t\t});\r\n \t\tthis.cachedTranslation = locParts.join(' ');\r\n   \t}\r\n  \treturn this.cachedTranslation;\r\n};\r\n\r\nCustomBlockDefinition.prototype.abstractBlockSpec = function () {\r\n\t// answer the semantic block spec substituting each input\r\n \t// with an underscore\r\n    return BlockMorph.prototype.parseSpec(this.blockSpec()).map(\r\n    \tfunction (str) {\r\n    \t\treturn (str.length > 1 && (str[0]) === '%') ? '_' : str;\r\n    \t}\r\n    ).join(' ');\r\n};\r\n\r\nCustomBlockDefinition.prototype.translationsAsText = function () {\r\n\tvar myself = this,\r\n \t\ttxt = '';\r\n\tObject.keys(this.translations).forEach(function (lang) {\r\n \t\ttxt += (lang + ':' + myself.translations[lang] + '\\n');\r\n    });\r\n    return txt;\r\n};\r\n\r\nCustomBlockDefinition.prototype.updateTranslations = function (text) {\r\n\tvar myself = this,\r\n    \tlines = text.split('\\n').filter(function (txt) {\r\n     \t   return txt.length;\r\n    \t});\r\n\tthis.translations = {};\r\n \tlines.forEach(function (txt) {\r\n  \t\tvar idx = txt.indexOf(':'),\r\n    \t\tkey = txt.slice(0, idx).trim(),\r\n      \t\tval = txt.slice(idx + 1).trim();\r\n    \tif (idx) {\r\n     \t\tmyself.translations[key] = val;\r\n     \t}\r\n    });\r\n};\r\n\r\n// CustomBlockDefinition picturing\r\n\r\nCustomBlockDefinition.prototype.scriptsPicture = function () {\r\n    return this.scriptsModel().scriptsPicture();\r\n};\r\n\r\nCustomBlockDefinition.prototype.sortedElements = function () {\r\n    return this.scriptsModel().sortedElements();\r\n};\r\n\r\nCustomBlockDefinition.prototype.scriptsModel = function () {\r\n    // answer a restored scripting area for the sake\r\n    // of creating script pictures\r\n    var scripts, proto, block, comment, template;\r\n\r\n    scripts = new ScriptsMorph();\r\n    scripts.cleanUpMargin = 10;\r\n    proto = new PrototypeHatBlockMorph(this);\r\n    proto.setPosition(scripts.position().add(10));\r\n    if (this.comment !== null) {\r\n        comment = this.comment.fullCopy();\r\n        proto.comment = comment;\r\n        comment.block = proto;\r\n    }\r\n    if (this.body !== null) {\r\n        proto.nextBlock(this.body.expression.fullCopy());\r\n    }\r\n    scripts.add(proto);\r\n    proto.fixBlockColor(null, true);\r\n    this.scripts.forEach(function (element) {\r\n        block = element.fullCopy();\r\n        block.setPosition(scripts.position().add(element.position()));\r\n        scripts.add(block);\r\n        if (block instanceof BlockMorph) {\r\n            block.allComments().forEach(function (comment) {\r\n                comment.align(block);\r\n            });\r\n        }\r\n    });\r\n    proto.allComments().forEach(function (comment) {\r\n        comment.align(proto);\r\n    });\r\n    template = proto.parts()[0];\r\n    template.fixLayout();\r\n    template.forceNormalColoring();\r\n    template.fixBlockColor(proto, true);\r\n    scripts.fixMultiArgs();\r\n    return scripts;\r\n};\r\n\r\n// CustomBlockDefinition purging deleted blocks\r\n\r\nCustomBlockDefinition.prototype.purgeCorpses = function () {\r\n    // remove blocks that have been marked for deletion\r\n    if (this.body && this.body.expression.isCorpse) {\r\n        this.body = null;\r\n    }\r\n    this.scripts = this.scripts.filter(function (topBlock) {\r\n        return !topBlock.isCorpse;\r\n    });\r\n};\r\n\r\n// CustomCommandBlockMorph /////////////////////////////////////////////\r\n\r\n// CustomCommandBlockMorph inherits from CommandBlockMorph:\r\n\r\nCustomCommandBlockMorph.prototype = new CommandBlockMorph();\r\nCustomCommandBlockMorph.prototype.constructor = CustomCommandBlockMorph;\r\nCustomCommandBlockMorph.uber = CommandBlockMorph.prototype;\r\n\r\n// CustomCommandBlockMorph shared settings:\r\n\r\nCustomCommandBlockMorph.prototype.isCustomBlock = true;\r\n\r\n// CustomCommandBlockMorph instance creation:\r\n\r\nfunction CustomCommandBlockMorph(definition, isProto) {\r\n    this.init(definition, isProto);\r\n}\r\n\r\nCustomCommandBlockMorph.prototype.init = function (definition, isProto) {\r\n    this.definition = definition; // mandatory\r\n    this.semanticSpec = '';\r\n    this.isGlobal = definition ? definition.isGlobal : false;\r\n    this.isPrototype = isProto || false; // optional\r\n    CustomCommandBlockMorph.uber.init.call(this, true); // silently\r\n    this.category = definition.category;\r\n    this.selector = 'evaluateCustomBlock';\r\n    this.variables = null;\r\n    this.initializeVariables();\r\n    if (definition) { // needed for de-serializing\r\n        this.refresh();\r\n    }\r\n};\r\n\r\nCustomCommandBlockMorph.prototype.initializeVariables = function (oldVars) {\r\n    var myself = this;\r\n    this.variables = new VariableFrame();\r\n    if (!this.isGlobal) {\r\n        return;\r\n    }\r\n    this.definition.variableNames.forEach(function (name) {\r\n        var v = oldVars ? oldVars[name] : null;\r\n        myself.variables.addVar(\r\n            name,\r\n            v instanceof Variable ? v.value : null\r\n        );\r\n    });\r\n};\r\n\r\nCustomCommandBlockMorph.prototype.refresh = function (aDefinition, silently) {\r\n    var def = aDefinition || this.definition,\r\n        newSpec = this.isPrototype ?\r\n                def.spec : def.localizedSpec(),\r\n        oldInputs;\r\n\r\n\tthis.semanticSpec = def.blockSpec();\r\n\r\n    // make sure local custom blocks don't hold on to a method.\r\n    // future performance optimization plan:\r\n    // null out the definition for local blocks here,\r\n    // and then cache them again when invoking them\r\n    if (!this.isGlobal && !this.isPrototype) {\r\n        this.definition = null;\r\n    }\r\n\r\n    this.setCategory(def.category);\r\n    if (this.blockSpec !== newSpec) {\r\n        oldInputs = this.inputs();\r\n        if (!this.zebraContrast) {\r\n            this.forceNormalColoring();\r\n        } else {\r\n            this.fixBlockColor();\r\n        }\r\n        this.setSpec(newSpec, silently, def);\r\n        this.fixLabelColor();\r\n        this.restoreInputs(oldInputs);\r\n    } else { // update all input slots' drop-downs\r\n        this.inputs().forEach(function (inp, i) {\r\n            if (inp instanceof InputSlotMorph) {\r\n                inp.setChoices.apply(inp, def.inputOptionsOfIdx(i));\r\n            }\r\n        });\r\n    }\r\n\r\n    // find unnamed upvars and label them\r\n    // to their internal definition (default)\r\n    this.cachedInputs = null;\r\n    this.inputs().forEach(function (inp, idx) {\r\n        if (inp instanceof TemplateSlotMorph && inp.contents() === '\\u2191') {\r\n            inp.setContents(def.inputNames()[idx]);\r\n        }\r\n    });\r\n\r\n    // initialize block vars\r\n    // preserve values of unchanged variable names\r\n    if (this.isGlobal) {\r\n        this.initializeVariables(this.variables.vars);\r\n    }\r\n\r\n    // make (double) sure I'm colored correctly\r\n    this.forceNormalColoring();\r\n    this.drawNew();\r\n    this.fixBlockColor(null, true);\r\n};\r\n\r\nCustomCommandBlockMorph.prototype.restoreInputs = function (oldInputs) {\r\n    // try to restore my previous inputs when my spec has been changed\r\n    var i = 0,\r\n        old,\r\n        myself = this;\r\n\r\n    if (this.isPrototype) {return; }\r\n    this.cachedInputs = null;\r\n    this.inputs().forEach(function (inp) {\r\n        old = oldInputs[i];\r\n        if (old instanceof ReporterBlockMorph &&\r\n                (!(inp instanceof TemplateSlotMorph))) {\r\n            myself.silentReplaceInput(inp, old.fullCopy());\r\n        } else if (old instanceof InputSlotMorph\r\n                && inp instanceof InputSlotMorph) {\r\n            inp.setContents(old.evaluate());\r\n        } else if (old instanceof TemplateSlotMorph\r\n                && inp instanceof TemplateSlotMorph) {\r\n            inp.setContents(old.evaluate());\r\n        } else if (old instanceof CSlotMorph\r\n                && inp instanceof CSlotMorph) {\r\n            inp.nestedBlock(old.evaluate());\r\n        }\r\n        i += 1;\r\n    });\r\n    this.cachedInputs = null;\r\n};\r\n\r\nCustomCommandBlockMorph.prototype.refreshDefaults = function (definition) {\r\n    // fill my editable slots with the defaults specified in my definition\r\n    var inputs = this.inputs(), idx = 0, myself = this;\r\n\r\n    inputs.forEach(function (inp) {\r\n        if (inp instanceof InputSlotMorph || inp instanceof BooleanSlotMorph) {\r\n            inp.setContents(\r\n                (definition || myself.definition).defaultValueOfInputIdx(idx)\r\n            );\r\n        }\r\n        idx += 1;\r\n    });\r\n    this.cachedInputs = null;\r\n};\r\n\r\nCustomCommandBlockMorph.prototype.refreshPrototype = function () {\r\n    // create my label parts from my (edited) fragments only\r\n    var hat,\r\n        protoSpec,\r\n        frags = [],\r\n        myself = this,\r\n        words,\r\n        newFrag,\r\n        i = 0;\r\n\r\n    if (!this.isPrototype) {return null; }\r\n\r\n    hat = this.parentThatIsA(PrototypeHatBlockMorph);\r\n\r\n    // remember the edited fragments\r\n    this.parts().forEach(function (part) {\r\n        if (!part.fragment.isDeleted) {\r\n            // take into consideration that a fragment may spawn others\r\n            // if it isn't an input label consisting of several words\r\n            if (part.fragment.type) { // marked as input, take label as is\r\n                frags.push(part.fragment);\r\n            } else { // not an input, devide into several non-input fragments\r\n                words = myself.definition.parseSpec(\r\n                    part.fragment.labelString\r\n                );\r\n                words.forEach(function (word) {\r\n                    newFrag = part.fragment.copy();\r\n                    newFrag.labelString = word;\r\n                    frags.push(newFrag);\r\n                });\r\n            }\r\n        }\r\n    });\r\n\r\n    // remember the edited prototype spec\r\n    protoSpec = this.specFromFragments();\r\n\r\n\r\n    // update the prototype's type\r\n    // and possibly exchange 'this' for 'myself'\r\n    if (this instanceof CustomCommandBlockMorph\r\n            && ((hat.type === 'reporter') || (hat.type === 'predicate'))) {\r\n        myself = new CustomReporterBlockMorph(\r\n            this.definition,\r\n            hat.type === 'predicate',\r\n            true\r\n        );\r\n        hat.silentReplaceInput(this, myself);\r\n    } else if (this instanceof CustomReporterBlockMorph) {\r\n        if (hat.type === 'command') {\r\n            myself = new CustomCommandBlockMorph(\r\n                this.definition,\r\n                true\r\n            );\r\n            hat.silentReplaceInput(this, myself);\r\n        } else {\r\n            this.isPredicate = (hat.type === 'predicate');\r\n            this.drawNew();\r\n        }\r\n    }\r\n    myself.setCategory(hat.blockCategory || 'other');\r\n    hat.fixBlockColor();\r\n\r\n    // update the (new) prototype's appearance\r\n    myself.setSpec(protoSpec);\r\n\r\n    // update the (new) prototype's (new) fragments\r\n    // with the previously edited ones\r\n\r\n    myself.parts().forEach(function (part) {\r\n        if (!(part instanceof BlockLabelPlaceHolderMorph)) {\r\n            if (frags[i]) { // don't delete the default fragment\r\n                part.fragment = frags[i];\r\n            }\r\n            i += 1;\r\n        }\r\n    });\r\n\r\n    // refresh slot type indicators\r\n    this.refreshPrototypeSlotTypes();\r\n\r\n    hat.fixLayout();\r\n};\r\n\r\nCustomCommandBlockMorph.prototype.refreshPrototypeSlotTypes = function () {\r\n    this.parts().forEach(function (part) {\r\n        if (part instanceof BlockInputFragmentMorph) {\r\n            part.template().instantiationSpec = part.contents();\r\n            part.setContents(part.fragment.defTemplateSpecFragment());\r\n        }\r\n    });\r\n    this.fixBlockColor(null, true); // enforce zebra coloring of templates\r\n};\r\n\r\n\r\nCustomCommandBlockMorph.prototype.inputFragmentNames = function () {\r\n    // for the variable name slot drop-down menu (in the block editor)\r\n    var ans = [];\r\n\r\n    this.parts().forEach(function (part) {\r\n        if (!part.fragment.isDeleted && (part.fragment.type)) {\r\n            ans.push(part.fragment.labelString);\r\n        }\r\n    });\r\n    return ans;\r\n};\r\n\r\nCustomCommandBlockMorph.prototype.upvarFragmentNames = function () {\r\n    // for the variable name slot drop-down menu (in the block editor)\r\n    var ans = [];\r\n\r\n    this.parts().forEach(function (part) {\r\n        if (!part.fragment.isDeleted && (part.fragment.type === '%upvar')) {\r\n            ans.push(part.fragment.labelString);\r\n        }\r\n    });\r\n    return ans;\r\n};\r\n\r\nCustomCommandBlockMorph.prototype.upvarFragmentName = function (idx) {\r\n    // for block prototypes while they are being edited\r\n    return this.upvarFragmentNames()[idx] || '\\u2191';\r\n};\r\n\r\nCustomCommandBlockMorph.prototype.specFromFragments = function () {\r\n    // for block prototypes while they are being edited\r\n    var ans = '';\r\n\r\n    this.parts().forEach(function (part) {\r\n        if (!part.fragment.isDeleted) {\r\n            ans = ans + part.fragment.defSpecFragment() + ' ';\r\n        }\r\n    });\r\n    return ans.trim();\r\n};\r\n\r\nCustomCommandBlockMorph.prototype.blockSpecFromFragments = function () {\r\n    // for block instances while their prototype is being edited\r\n    var ans = '';\r\n\r\n    this.parts().forEach(function (part) {\r\n        if (!part.fragment.isDeleted) {\r\n            ans = ans + part.fragment.blockSpecFragment() + ' ';\r\n        }\r\n    });\r\n    return ans.trim();\r\n};\r\n\r\nCustomCommandBlockMorph.prototype.declarationsFromFragments = function () {\r\n    // format for type declarations: {inputName : [type, default]}\r\n    var ans = {};\r\n\r\n    this.parts().forEach(function (part) {\r\n        if (part instanceof BlockInputFragmentMorph) {\r\n            ans[part.fragment.labelString] = [\r\n                part.fragment.type,\r\n                part.fragment.defaultValue,\r\n                part.fragment.options,\r\n                part.fragment.isReadOnly\r\n            ];\r\n        }\r\n    });\r\n    return ans;\r\n};\r\n\r\nCustomCommandBlockMorph.prototype.parseSpec = function (spec) {\r\n    if (!this.isPrototype) {\r\n        return CustomCommandBlockMorph.uber.parseSpec.call(this, spec);\r\n    }\r\n    return CustomBlockDefinition.prototype.parseSpec(spec);\r\n};\r\n\r\nCustomCommandBlockMorph.prototype.mouseClickLeft = function () {\r\n    if (!this.isPrototype) {\r\n        return CustomCommandBlockMorph.uber.mouseClickLeft.call(this);\r\n    }\r\n    this.edit();\r\n};\r\n\r\nCustomCommandBlockMorph.prototype.edit = function () {\r\n    var myself = this,\r\n        def = this.definition,\r\n        editor, block,\r\n        hat,\r\n        rcvr;\r\n\r\n    if (this.isPrototype) {\r\n        block = this.definition.blockInstance();\r\n        block.addShadow();\r\n        hat = this.parentThatIsA(PrototypeHatBlockMorph);\r\n        new BlockDialogMorph(\r\n            null,\r\n            function (definition) {\r\n                if (definition) { // temporarily update everything\r\n                    hat.blockCategory = definition.category;\r\n                    hat.type = definition.type;\r\n                    myself.refreshPrototype();\r\n                }\r\n            },\r\n            myself\r\n        ).openForChange(\r\n            'Change block',\r\n            hat.blockCategory,\r\n            hat.type,\r\n            myself.world(),\r\n            block.fullImage(),\r\n            myself.isInUse()\r\n        );\r\n    } else {\r\n        // check for local custom block inheritance\r\n        rcvr = this.scriptTarget();\r\n        if (!this.isGlobal) {\r\n            if (contains(\r\n                    Object.keys(rcvr.inheritedBlocks()),\r\n                    this.blockSpec\r\n                )\r\n            ) {\r\n                this.duplicateBlockDefinition();\r\n                return;\r\n            }\r\n            def = rcvr.getMethod(this.semanticSpec);\r\n        }\r\n        Morph.prototype.trackChanges = false;\r\n        editor = new BlockEditorMorph(def, rcvr);\r\n        editor.popUp();\r\n        Morph.prototype.trackChanges = true;\r\n        editor.changed();\r\n    }\r\n};\r\n\r\nCustomCommandBlockMorph.prototype.labelPart = function (spec) {\r\n    var part;\r\n\r\n    if (!this.isPrototype) {\r\n        return CustomCommandBlockMorph.uber.labelPart.call(this, spec);\r\n    }\r\n    if ((spec[0] === '%') && (spec.length > 1)) {\r\n        // part = new BlockInputFragmentMorph(spec.slice(1));\r\n        part = new BlockInputFragmentMorph(spec.replace(/%/g, ''));\r\n    } else {\r\n        part = new BlockLabelFragmentMorph(spec);\r\n        part.fontSize = this.fontSize;\r\n        part.color = new Color(255, 255, 255);\r\n        part.isBold = true;\r\n        part.shadowColor = this.color.darker(this.labelContrast);\r\n        part.shadowOffset = this.embossing;\r\n        part.drawNew();\r\n    }\r\n    return part;\r\n};\r\n\r\nCustomCommandBlockMorph.prototype.placeHolder = function () {\r\n    var part;\r\n\r\n    part = new BlockLabelPlaceHolderMorph();\r\n    part.fontSize = this.fontSize * 1.4;\r\n    part.color = new Color(45, 45, 45);\r\n    part.drawNew();\r\n    return part;\r\n};\r\n\r\nCustomCommandBlockMorph.prototype.attachTargets = function () {\r\n    if (this.isPrototype) {\r\n        return [];\r\n    }\r\n    return CustomCommandBlockMorph.uber.attachTargets.call(this);\r\n};\r\n\r\nCustomCommandBlockMorph.prototype.isInUse = function () {\r\n    // answer true if an instance of my definition is found\r\n    // in any of my receiver's scripts or block definitions\r\n    // NOTE: for sprite-local blocks only to be used in a situation\r\n    // where the user actively clicks on a block in the IDE,\r\n    // e.g. to edit it (and change its type)\r\n    var def = this.definition,\r\n        rcvr = this.scriptTarget(),\r\n        ide = rcvr.parentThatIsA(IDE_Morph);\r\n    if (def.isGlobal && ide) {\r\n        return ide.sprites.asArray().concat([ide.stage]).some(\r\n            function (any, idx) {\r\n                return any.usesBlockInstance(def, false, idx);\r\n            }\r\n        );\r\n    }\r\n    return rcvr.allDependentInvocationsOf(this.blockSpec).length > 0;\r\n};\r\n\r\n// CustomCommandBlockMorph menu:\r\n\r\nCustomCommandBlockMorph.prototype.userMenu = function () {\r\n    var hat = this.parentThatIsA(PrototypeHatBlockMorph),\r\n        rcvr = this.scriptTarget(),\r\n        myself = this,\r\n        shiftClicked = this.world().currentKey === 16,\r\n        menu;\r\n\r\n    function addOption(label, toggle, test, onHint, offHint) {\r\n        var on = '\\u2611 ',\r\n            off = '\\u2610 ';\r\n        menu.addItem(\r\n            (test ? on : off) + localize(label),\r\n            toggle,\r\n            test ? onHint : offHint\r\n        );\r\n    }\r\n\r\n   function monitor(vName) {\r\n        var stage = rcvr.parentThatIsA(StageMorph),\r\n            varFrame = myself.variables;\r\n        menu.addItem(\r\n            vName + '...',\r\n            function () {\r\n                var watcher = detect(\r\n                    stage.children,\r\n                    function (morph) {\r\n                        return morph instanceof WatcherMorph\r\n                            && morph.target === varFrame\r\n                            && morph.getter === vName;\r\n                    }\r\n                ),\r\n                    others;\r\n                if (watcher !== null) {\r\n                    watcher.show();\r\n                    watcher.fixLayout(); // re-hide hidden parts\r\n                    return;\r\n                }\r\n                watcher = new WatcherMorph(\r\n                    vName + ' ' + localize('(temporary)'),\r\n                    SpriteMorph.prototype.blockColor.variables,\r\n                    varFrame,\r\n                    vName\r\n                );\r\n                watcher.setPosition(stage.position().add(10));\r\n                others = stage.watchers(watcher.left());\r\n                if (others.length > 0) {\r\n                    watcher.setTop(others[others.length - 1].bottom());\r\n                }\r\n                stage.add(watcher);\r\n                watcher.fixLayout();\r\n            }\r\n        );\r\n    }\r\n\r\n    if (this.isPrototype) {\r\n        menu = new MenuMorph(this);\r\n        menu.addItem(\r\n            \"script pic...\",\r\n            function () {\r\n                var ide = this.world().children[0];\r\n                ide.saveCanvasAs(\r\n                    this.topBlock().scriptPic(),\r\n                    (ide.projectName || localize('untitled')) + ' ' +\r\n                        localize('script pic')\r\n                );\r\n            },\r\n            'open a new window\\nwith a picture of this script'\r\n        );\r\n        menu.addItem(\r\n            \"translations...\",\r\n            function () {\r\n                hat.parentThatIsA(BlockEditorMorph).editTranslations();\r\n            },\r\n            'experimental -\\nunder construction'\r\n        );\r\n        if (this.isGlobal) {\r\n            if (hat.inputs().length < 2) {\r\n                menu.addItem(\r\n                    \"block variables...\",\r\n                    function () {\r\n                        hat.enableBlockVars();\r\n                    },\r\n                    'experimental -\\nunder construction'\r\n                );\r\n            } else {\r\n                menu.addItem(\r\n                    \"remove block variables...\",\r\n                    function () {\r\n                        hat.enableBlockVars(false);\r\n                    },\r\n                    'experimental -\\nunder construction'\r\n                );\r\n            }\r\n        }\r\n    } else {\r\n        menu = this.constructor.uber.userMenu.call(this);\r\n        if (!menu) {\r\n            menu = new MenuMorph(this);\r\n        } else {\r\n            menu.addLine();\r\n        }\r\n        if (shiftClicked) {\r\n            // menu.addItem(\"export definition...\", 'exportBlockDefinition');\r\n            menu.addItem(\r\n                \"duplicate block definition...\",\r\n                'duplicateBlockDefinition',\r\n                null,\r\n                new Color(100, 0, 0)\r\n            );\r\n        }\r\n\r\n        if (this.isTemplate) { // inside the palette\r\n            if (this.isGlobal) {\r\n                menu.addItem(\r\n                    \"delete block definition...\",\r\n                    'deleteBlockDefinition'\r\n                );\r\n            } else { // local method\r\n                if (contains(\r\n                        Object.keys(rcvr.inheritedBlocks()),\r\n                        this.blockSpec\r\n                )) {\r\n                    // inherited\r\n                    addOption(\r\n                        'inherited',\r\n                        function () {\r\n                            var ide = myself.parentThatIsA(IDE_Morph);\r\n                            rcvr.customBlocks.push(\r\n                                rcvr.getMethod(\r\n                                    myself.blockSpec\r\n                                ).copyAndBindTo(rcvr)\r\n                            );\r\n                            if (ide) {\r\n                                ide.flushPaletteCache();\r\n                                ide.refreshPalette();\r\n                            }\r\n                        },\r\n                        true,\r\n                        'uncheck to\\ndisinherit',\r\n                        null\r\n                    );\r\n                } else if (rcvr.exemplar &&\r\n                    rcvr.exemplar.getMethod(this.blockSpec\r\n                )) {\r\n                    // shadowed\r\n                    addOption(\r\n                        'inherited',\r\n                        'deleteBlockDefinition',\r\n                        false,\r\n                        null,\r\n                        localize('check to inherit\\nfrom')\r\n                            + ' ' + rcvr.exemplar.name\r\n                    );\r\n                } else {\r\n                    // own block\r\n                    menu.addItem(\r\n                        \"delete block definition...\",\r\n                        'deleteBlockDefinition'\r\n                    );\r\n                }\r\n            }\r\n        } else { // inside a script\r\n            // if global or own method - let the user delete the definition\r\n            if (this.isGlobal ||\r\n                contains(\r\n                    Object.keys(rcvr.ownBlocks()),\r\n                    this.blockSpec\r\n                )\r\n            ) {\r\n                menu.addItem(\r\n                    \"delete block definition...\",\r\n                    'deleteBlockDefinition'\r\n                );\r\n            }\r\n        }\r\n\r\n        this.variables.names().forEach(function (vName) {\r\n            monitor(vName);\r\n        });\r\n    }\r\n    menu.addItem(\"edit...\", 'edit'); // works also for prototypes\r\n    return menu;\r\n};\r\n\r\nCustomCommandBlockMorph.prototype.exportBlockDefinition = function () {\r\n    var xml = new SnapSerializer().serialize(this.definition),\r\n        ide = this.parentThatIsA(IDE_Morph);\r\n\r\n    ide.saveXMLAs(xml, this.spec);\r\n};\r\n\r\nCustomCommandBlockMorph.prototype.duplicateBlockDefinition = function () {\r\n    var rcvr = this.scriptTarget(),\r\n        ide = this.parentThatIsA(IDE_Morph),\r\n        def = this.isGlobal ? this.definition : rcvr.getMethod(this.blockSpec),\r\n        dup = def.copyAndBindTo(rcvr);\r\n    if (this.isGlobal) {\r\n        ide.stage.globalBlocks.push(dup);\r\n    } else {\r\n        rcvr.customBlocks.push(dup);\r\n    }\r\n    ide.flushPaletteCache();\r\n    ide.refreshPalette();\r\n    new BlockEditorMorph(dup, rcvr).popUp();\r\n};\r\n\r\nCustomCommandBlockMorph.prototype.deleteBlockDefinition = function () {\r\n    var idx, stage, ide, method, block,\r\n        rcvr = this.scriptTarget(),\r\n        myself = this;\r\n    if (this.isPrototype) {\r\n        return null; // under construction...\r\n    }\r\n    method = this.isGlobal? this.definition\r\n            : rcvr.getLocalMethod(this.blockSpec);\r\n    block = method.blockInstance();\r\n    block.addShadow();\r\n    new DialogBoxMorph(\r\n        this,\r\n        function () {\r\n            rcvr.deleteAllBlockInstances(method);\r\n            if (method.isGlobal) {\r\n                stage = rcvr.parentThatIsA(StageMorph);\r\n                idx = stage.globalBlocks.indexOf(method);\r\n                if (idx !== -1) {\r\n                    stage.globalBlocks.splice(idx, 1);\r\n                }\r\n            } else {\r\n                // delete local definition\r\n                idx = rcvr.customBlocks.indexOf(method);\r\n                if (idx !== -1) {\r\n                    rcvr.customBlocks.splice(idx, 1);\r\n                }\r\n                // refresh instances of inherited method, if any\r\n                method = rcvr.getMethod(myself.blockSpec);\r\n                if (method) {\r\n                    rcvr.allDependentInvocationsOf(myself.blockSpec).forEach(\r\n                        function (block) {\r\n                            block.refresh(method);\r\n                        }\r\n                    );\r\n                }\r\n            }\r\n            ide = rcvr.parentThatIsA(IDE_Morph);\r\n            if (ide) {\r\n                ide.flushPaletteCache();\r\n                ide.refreshPalette();\r\n            }\r\n        },\r\n        this\r\n    ).askYesNo(\r\n        'Delete Custom Block',\r\n        localize('block deletion dialog text'), // long string lookup\r\n        myself.world(),\r\n        block.fullImage()\r\n    );\r\n};\r\n\r\n// CustomCommandBlockMorph relabelling\r\n\r\nCustomCommandBlockMorph.prototype.relabel = function (alternatives) {\r\n    var menu = new MenuMorph(this),\r\n        oldInputs = this.inputs().map(\r\n            function (each) {return each.fullCopy(); }\r\n        ),\r\n        myself = this;\r\n    alternatives.forEach(function (def) {\r\n        var block = def.blockInstance();\r\n        block.restoreInputs(oldInputs);\r\n        block.fixBlockColor(null, true);\r\n        block.addShadow(new Point(3, 3));\r\n        menu.addItem(\r\n            block,\r\n            function () {\r\n                myself.definition = def;\r\n                myself.refresh();\r\n            }\r\n        );\r\n    });\r\n    menu.popup(this.world(), this.bottomLeft().subtract(new Point(\r\n        8,\r\n        this instanceof CommandBlockMorph ? this.corner : 0\r\n    )));\r\n};\r\n\r\nCustomCommandBlockMorph.prototype.alternatives = function () {\r\n    var rcvr = this.scriptTarget(),\r\n        stage = rcvr.parentThatIsA(StageMorph),\r\n        allDefs = rcvr.customBlocks.concat(stage.globalBlocks),\r\n        type = this instanceof CommandBlockMorph ? 'command'\r\n            : (this.isPredicate ? 'predicate' : 'reporter'),\r\n        myself = this;\r\n    return allDefs.filter(function (each) {\r\n        return each !== myself.definition &&\r\n            each.type === type;\r\n    });\r\n};\r\n\r\n// CustomReporterBlockMorph ////////////////////////////////////////////\r\n\r\n// CustomReporterBlockMorph inherits from ReporterBlockMorph:\r\n\r\nCustomReporterBlockMorph.prototype = new ReporterBlockMorph();\r\nCustomReporterBlockMorph.prototype.constructor = CustomReporterBlockMorph;\r\nCustomReporterBlockMorph.uber = ReporterBlockMorph.prototype;\r\n\r\n// CustomReporterBlockMorph shared settings:\r\n\r\nCustomReporterBlockMorph.prototype.isCustomBlock = true;\r\n\r\n// CustomReporterBlockMorph instance creation:\r\n\r\nfunction CustomReporterBlockMorph(definition, isPredicate, isProto) {\r\n    this.init(definition, isPredicate, isProto);\r\n}\r\n\r\nCustomReporterBlockMorph.prototype.init = function (\r\n    definition,\r\n    isPredicate,\r\n    isProto\r\n) {\r\n    this.definition = definition; // mandatory\r\n    this.semanticSpec = ''; // used for translations\r\n    this.isGlobal = definition ? definition.isGlobal : false;\r\n    this.isPrototype = isProto || false; // optional\r\n    CustomReporterBlockMorph.uber.init.call(this, isPredicate, true); // sil.\r\n    this.category = definition.category;\r\n    this.variables = new VariableFrame();\r\n    this.initializeVariables();\r\n    this.selector = 'evaluateCustomBlock';\r\n    if (definition) { // needed for de-serializing\r\n        this.refresh();\r\n    }\r\n};\r\n\r\nCustomReporterBlockMorph.prototype.initializeVariables =\r\n    CustomCommandBlockMorph.prototype.initializeVariables;\r\n\r\nCustomReporterBlockMorph.prototype.refresh = function (aDefinition) {\r\n    var def = aDefinition || this.definition;\r\n    CustomCommandBlockMorph.prototype.refresh.call(this, aDefinition, true);\r\n    if (!this.isPrototype) {\r\n        this.isPredicate = (def.type === 'predicate');\r\n    }\r\n    if (this.parent instanceof SyntaxElementMorph) {\r\n        this.parent.cachedInputs = null;\r\n    }\r\n    this.drawNew();\r\n};\r\n\r\nCustomReporterBlockMorph.prototype.mouseClickLeft = function () {\r\n    if (!this.isPrototype) {\r\n        return CustomReporterBlockMorph.uber.mouseClickLeft.call(this);\r\n    }\r\n    this.edit();\r\n};\r\n\r\nCustomReporterBlockMorph.prototype.placeHolder\r\n    = CustomCommandBlockMorph.prototype.placeHolder;\r\n\r\nCustomReporterBlockMorph.prototype.parseSpec\r\n    = CustomCommandBlockMorph.prototype.parseSpec;\r\n\r\nCustomReporterBlockMorph.prototype.edit\r\n    = CustomCommandBlockMorph.prototype.edit;\r\n\r\nCustomReporterBlockMorph.prototype.labelPart\r\n    = CustomCommandBlockMorph.prototype.labelPart;\r\n\r\nCustomReporterBlockMorph.prototype.upvarFragmentNames\r\n    = CustomCommandBlockMorph.prototype.upvarFragmentNames;\r\n\r\nCustomReporterBlockMorph.prototype.upvarFragmentName\r\n    = CustomCommandBlockMorph.prototype.upvarFragmentName;\r\n\r\nCustomReporterBlockMorph.prototype.inputFragmentNames\r\n    = CustomCommandBlockMorph.prototype.inputFragmentNames;\r\n\r\nCustomReporterBlockMorph.prototype.specFromFragments\r\n    = CustomCommandBlockMorph.prototype.specFromFragments;\r\n\r\nCustomReporterBlockMorph.prototype.blockSpecFromFragments\r\n    = CustomCommandBlockMorph.prototype.blockSpecFromFragments;\r\n\r\nCustomReporterBlockMorph.prototype.declarationsFromFragments\r\n    = CustomCommandBlockMorph.prototype.declarationsFromFragments;\r\n\r\nCustomReporterBlockMorph.prototype.refreshPrototype\r\n    = CustomCommandBlockMorph.prototype.refreshPrototype;\r\n\r\nCustomReporterBlockMorph.prototype.refreshPrototypeSlotTypes\r\n    = CustomCommandBlockMorph.prototype.refreshPrototypeSlotTypes;\r\n\r\nCustomReporterBlockMorph.prototype.restoreInputs\r\n    = CustomCommandBlockMorph.prototype.restoreInputs;\r\n\r\nCustomReporterBlockMorph.prototype.refreshDefaults\r\n    = CustomCommandBlockMorph.prototype.refreshDefaults;\r\n\r\nCustomReporterBlockMorph.prototype.isInUse\r\n    = CustomCommandBlockMorph.prototype.isInUse;\r\n\r\n// CustomReporterBlockMorph menu:\r\n\r\nCustomReporterBlockMorph.prototype.userMenu\r\n    = CustomCommandBlockMorph.prototype.userMenu;\r\n\r\nCustomReporterBlockMorph.prototype.duplicateBlockDefinition\r\n    = CustomCommandBlockMorph.prototype.duplicateBlockDefinition;\r\n\r\nCustomReporterBlockMorph.prototype.deleteBlockDefinition\r\n    = CustomCommandBlockMorph.prototype.deleteBlockDefinition;\r\n\r\n// CustomReporterBlockMorph events:\r\n\r\n// hover help - commented out for now\r\n/*\r\nCustomReporterBlockMorph.prototype.mouseEnter\r\n    = CustomCommandBlockMorph.prototype.mouseEnter;\r\n\r\nCustomReporterBlockMorph.prototype.mouseLeave\r\n    = CustomCommandBlockMorph.prototype.mouseLeave;\r\n*/\r\n\r\n// CustomReporterBlockMorph bubble help:\r\n\r\nCustomReporterBlockMorph.prototype.bubbleHelp\r\n    = CustomCommandBlockMorph.prototype.bubbleHelp;\r\n\r\nCustomReporterBlockMorph.prototype.popUpbubbleHelp\r\n    = CustomCommandBlockMorph.prototype.popUpbubbleHelp;\r\n\r\n// CustomReporterBlockMorph relabelling\r\n\r\nCustomReporterBlockMorph.prototype.relabel\r\n    = CustomCommandBlockMorph.prototype.relabel;\r\n\r\nCustomReporterBlockMorph.prototype.alternatives\r\n    = CustomCommandBlockMorph.prototype.alternatives;\r\n\r\n// JaggedBlockMorph ////////////////////////////////////////////////////\r\n\r\n/*\r\n    I am a reporter block with jagged left and right edges conveying the\r\n    appearance of having the broken out of a bigger block. I am used to\r\n    display input types in the long form input dialog.\r\n*/\r\n\r\n// JaggedBlockMorph inherits from ReporterBlockMorph:\r\n\r\nJaggedBlockMorph.prototype = new ReporterBlockMorph();\r\nJaggedBlockMorph.prototype.constructor = JaggedBlockMorph;\r\nJaggedBlockMorph.uber = ReporterBlockMorph.prototype;\r\n\r\n// JaggedBlockMorph preferences settings:\r\n\r\nJaggedBlockMorph.prototype.jag = 5;\r\n\r\n// JaggedBlockMorph instance creation:\r\n\r\nfunction JaggedBlockMorph(spec) {\r\n    this.init(spec);\r\n}\r\n\r\nJaggedBlockMorph.prototype.init = function (spec) {\r\n    JaggedBlockMorph.uber.init.call(this);\r\n    if (spec) {this.setSpec(spec); }\r\n    if (spec === '%cs') {\r\n        this.minWidth = 25;\r\n        this.fixLayout();\r\n    }\r\n};\r\n\r\n// JaggedBlockMorph drawing:\r\n\r\nJaggedBlockMorph.prototype.drawNew = function () {\r\n    var context;\r\n\r\n    this.cachedClr = this.color.toString();\r\n    this.cachedClrBright = this.bright();\r\n    this.cachedClrDark = this.dark();\r\n    this.image = newCanvas(this.extent());\r\n    context = this.image.getContext('2d');\r\n    context.fillStyle = this.cachedClr;\r\n\r\n    this.drawBackground(context);\r\n    if (!MorphicPreferences.isFlat) {\r\n        this.drawEdges(context);\r\n    }\r\n\r\n    // erase holes\r\n    this.eraseHoles(context);\r\n};\r\n\r\nJaggedBlockMorph.prototype.drawBackground = function (context) {\r\n    var w = this.width(),\r\n        h = this.height(),\r\n        jags = Math.round(h / this.jag),\r\n        delta = h / jags,\r\n        i,\r\n        y;\r\n\r\n    context.fillStyle = this.cachedClr;\r\n    context.beginPath();\r\n\r\n    context.moveTo(0, 0);\r\n    context.lineTo(w, 0);\r\n\r\n    y = 0;\r\n    for (i = 0; i < jags; i += 1) {\r\n        y += delta / 2;\r\n        context.lineTo(w - this.jag / 2, y);\r\n        y += delta / 2;\r\n        context.lineTo(w, y);\r\n    }\r\n\r\n    context.lineTo(0, h);\r\n    y = h;\r\n    for (i = 0; i < jags; i += 1) {\r\n        y -= delta / 2;\r\n        context.lineTo(this.jag / 2, y);\r\n        y -= delta / 2;\r\n        context.lineTo(0, y);\r\n    }\r\n\r\n    context.closePath();\r\n    context.fill();\r\n};\r\n\r\nJaggedBlockMorph.prototype.drawEdges = function (context) {\r\n    var w = this.width(),\r\n        h = this.height(),\r\n        jags = Math.round(h / this.jag),\r\n        delta = h / jags,\r\n        shift = this.edge / 2,\r\n        gradient,\r\n        i,\r\n        y;\r\n\r\n    context.lineWidth = this.edge;\r\n    context.lineJoin = 'round';\r\n    context.lineCap = 'round';\r\n\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        0,\r\n        0,\r\n        this.edge\r\n    );\r\n    gradient.addColorStop(0, this.cachedClrBright);\r\n    gradient.addColorStop(1, this.cachedClr);\r\n    context.strokeStyle = gradient;\r\n\r\n    context.beginPath();\r\n    context.moveTo(shift, shift);\r\n    context.lineTo(w - shift, shift);\r\n    context.stroke();\r\n\r\n    y = 0;\r\n    for (i = 0; i < jags; i += 1) {\r\n        context.strokeStyle = this.cachedClrDark;\r\n        context.beginPath();\r\n        context.moveTo(w - shift, y);\r\n        y += delta / 2;\r\n        context.lineTo(w - this.jag / 2 - shift, y);\r\n        context.stroke();\r\n        y += delta / 2;\r\n    }\r\n\r\n    gradient = context.createLinearGradient(\r\n        0,\r\n        h - this.edge,\r\n        0,\r\n        h\r\n    );\r\n    gradient.addColorStop(0, this.cachedClr);\r\n    gradient.addColorStop(1, this.cachedClrDark);\r\n    context.strokeStyle = gradient;\r\n    context.beginPath();\r\n    context.moveTo(w - shift, h - shift);\r\n    context.lineTo(shift, h - shift);\r\n    context.stroke();\r\n\r\n    y = h;\r\n    for (i = 0; i < jags; i += 1) {\r\n        context.strokeStyle = this.cachedClrBright;\r\n        context.beginPath();\r\n        context.moveTo(shift, y);\r\n        y -= delta / 2;\r\n        context.lineTo(this.jag / 2 + shift, y);\r\n        context.stroke();\r\n        y -= delta / 2;\r\n    }\r\n};\r\n\r\n// BlockDialogMorph ////////////////////////////////////////////////////\r\n\r\n// BlockDialogMorph inherits from DialogBoxMorph:\r\n\r\nBlockDialogMorph.prototype = new DialogBoxMorph();\r\nBlockDialogMorph.prototype.constructor = BlockDialogMorph;\r\nBlockDialogMorph.uber = DialogBoxMorph.prototype;\r\n\r\n// BlockDialogMorph instance creation:\r\n\r\nfunction BlockDialogMorph(target, action, environment) {\r\n    this.init(target, action, environment);\r\n}\r\n\r\nBlockDialogMorph.prototype.init = function (target, action, environment) {\r\n    // additional properties:\r\n    this.blockType = 'command';\r\n    this.category = 'other';\r\n    this.isGlobal = true;\r\n    this.types = null;\r\n    this.categories = null;\r\n\r\n    // initialize inherited properties:\r\n    BlockDialogMorph.uber.init.call(\r\n        this,\r\n        target,\r\n        action,\r\n        environment\r\n    );\r\n\r\n    // override inherited properites:\r\n    this.key = 'makeABlock';\r\n\r\n    this.types = new AlignmentMorph('row', this.padding);\r\n    this.add(this.types);\r\n    this.scopes = new AlignmentMorph('row', this.padding);\r\n    this.add(this.scopes);\r\n\r\n    this.categories = new BoxMorph();\r\n    this.categories.color = SpriteMorph.prototype.paletteColor.lighter(8);\r\n    this.categories.borderColor = this.categories.color.lighter(40);\r\n    this.createCategoryButtons();\r\n    this.fixCategoriesLayout();\r\n    this.add(this.categories);\r\n\r\n    this.createTypeButtons();\r\n    this.creatpanel_LefteButtons();\r\n    this.fixLayout();\r\n};\r\n\r\nBlockDialogMorph.prototype.openForChange = function (\r\n    title,\r\n    category,\r\n    type,\r\n    world,\r\n    pic,\r\n    preventTypeChange // <bool>\r\n) {\r\n    var clr = SpriteMorph.prototype.blockColor[category];\r\n    this.key = 'changeABlock';\r\n    this.category = category;\r\n    this.blockType = type;\r\n\r\n    this.categories.children.forEach(function (each) {\r\n        each.refresh();\r\n    });\r\n    this.types.children.forEach(function (each) {\r\n        each.setColor(clr);\r\n        each.refresh();\r\n    });\r\n\r\n    this.labelString = title;\r\n    this.createLabel();\r\n    if (pic) {this.setPicture(pic); }\r\n    this.addButton('ok', 'OK');\r\n    this.addButton('cancel', 'Cancel');\r\n    if (preventTypeChange) {\r\n        this.types.destroy();\r\n        this.types = null;\r\n    }\r\n    this.scopes.destroy();\r\n    this.scopes = null;\r\n    this.fixLayout();\r\n    this.drawNew();\r\n    this.popUp(world);\r\n};\r\n\r\n// category buttons\r\n\r\nBlockDialogMorph.prototype.createCategoryButtons = function () {\r\n    var myself = this,\r\n        oldFlag = Morph.prototype.trackChanges;\r\n\r\n    Morph.prototype.trackChanges = false;\r\n    SpriteMorph.prototype.categories.forEach(function (cat) {\r\n        myself.addCategoryButton(cat);\r\n    });\r\n    Morph.prototype.trackChanges = oldFlag;\r\n};\r\n\r\nBlockDialogMorph.prototype.addCategoryButton = function (category) {\r\n    var labelWidth = 75,\r\n        myself = this,\r\n        colors = [\r\n            SpriteMorph.prototype.paletteColor,\r\n            SpriteMorph.prototype.paletteColor.darker(50),\r\n            SpriteMorph.prototype.blockColor[category]\r\n        ],\r\n        button;\r\n\r\n    button = new ToggleButtonMorph(\r\n        colors,\r\n        this, // this block dialog box is the target\r\n        function () {\r\n            myself.category = category;\r\n            myself.categories.children.forEach(function (each) {\r\n                each.refresh();\r\n            });\r\n            if (myself.types) {\r\n                myself.types.children.forEach(function (each) {\r\n                    each.setColor(colors[2]);\r\n                });\r\n            }\r\n            myself.edit();\r\n        },\r\n        category[0].toUpperCase().concat(category.slice(1)), // UCase label\r\n        function () {return myself.category === category; }, // query\r\n        null, // env\r\n        null, // hint\r\n        null, // template cache\r\n        labelWidth, // minWidth\r\n        true // has preview\r\n    );\r\n\r\n    button.corner = 8;\r\n    button.padding = 0;\r\n    button.labelShadowOffset = new Point(-1, -1);\r\n    button.labelShadowColor = colors[1];\r\n    button.labelColor = IDE_Morph.prototype.buttonLabelColor;\r\n    button.contrast = this.buttonContrast;\r\n    button.fixLayout();\r\n    button.refresh();\r\n    this.categories.add(button);\r\n    return button;\r\n};\r\n\r\nBlockDialogMorph.prototype.fixCategoriesLayout = function () {\r\n    var buttonWidth = this.categories.children[0].width(), // all the same\r\n        buttonHeight = this.categories.children[0].height(), // all the same\r\n        xPadding = 15,\r\n        yPadding = 2,\r\n        border = 10, // this.categories.border,\r\n        rows =  Math.ceil((this.categories.children.length) / 2),\r\n        l = this.categories.left(),\r\n        t = this.categories.top(),\r\n        i = 0,\r\n        row,\r\n        col,\r\n        oldFlag = Morph.prototype.trackChanges;\r\n\r\n    Morph.prototype.trackChanges = false;\r\n\r\n    this.categories.children.forEach(function (button) {\r\n        i += 1;\r\n        row = Math.ceil(i / 2);\r\n        col = 2 - (i % 2);\r\n        button.setPosition(new Point(\r\n            l + (col * xPadding + ((col - 1) * buttonWidth)),\r\n            t + (row * yPadding + ((row - 1) * buttonHeight) + border)\r\n        ));\r\n    });\r\n\r\n    if (MorphicPreferences.isFlat) {\r\n        this.categories.corner = 0;\r\n        this.categories.border = 0;\r\n        this.categories.edge = 0;\r\n    }\r\n    this.categories.setExtent(new Point(\r\n        3 * xPadding + 2 * buttonWidth,\r\n        (rows + 1) * yPadding + rows * buttonHeight + 2 * border\r\n    ));\r\n\r\n    Morph.prototype.trackChanges = oldFlag;\r\n    this.categories.changed();\r\n};\r\n\r\n// type radio buttons\r\n\r\nBlockDialogMorph.prototype.createTypeButtons = function () {\r\n    var block,\r\n        myself = this,\r\n        clr = SpriteMorph.prototype.blockColor[this.category];\r\n\r\n\r\n    block = new CommandBlockMorph();\r\n    block.setColor(clr);\r\n    block.setSpec(localize('Command'));\r\n    this.addBlockTypeButton(\r\n        function () {myself.setType('command'); },\r\n        block,\r\n        function () {return myself.blockType === 'command'; }\r\n    );\r\n\r\n    block = new ReporterBlockMorph();\r\n    block.setColor(clr);\r\n    block.setSpec(localize('Reporter'));\r\n    this.addBlockTypeButton(\r\n        function () {myself.setType('reporter'); },\r\n        block,\r\n        function () {return myself.blockType === 'reporter'; }\r\n    );\r\n\r\n    block = new ReporterBlockMorph(true);\r\n    block.setColor(clr);\r\n    block.setSpec(localize('Predicate'));\r\n    this.addBlockTypeButton(\r\n        function () {myself.setType('predicate'); },\r\n        block,\r\n        function () {return myself.blockType === 'predicate'; }\r\n    );\r\n};\r\n\r\nBlockDialogMorph.prototype.addBlockTypeButton = function (\r\n    action,\r\n    element,\r\n    query\r\n) {\r\n    var button = new ToggleElementMorph(\r\n        this,\r\n        action,\r\n        element,\r\n        query,\r\n        null,\r\n        null,\r\n        'rebuild'\r\n    );\r\n    button.refresh();\r\n    this.types.add(button);\r\n    return button;\r\n};\r\n\r\nBlockDialogMorph.prototype.addTypeButton = function (action, label, query) {\r\n    var button = new ToggleMorph(\r\n        'radiobutton',\r\n        this,\r\n        action,\r\n        label,\r\n        query\r\n    );\r\n    button.edge = this.buttonEdge / 2;\r\n    button.outline = this.buttonOutline / 2;\r\n    button.outlineColor = this.buttonOutlineColor;\r\n    button.outlineGradient = this.buttonOutlineGradient;\r\n    button.contrast = this.buttonContrast;\r\n\r\n    button.drawNew();\r\n    button.fixLayout();\r\n    this.types.add(button);\r\n    return button;\r\n};\r\n\r\nBlockDialogMorph.prototype.setType = function (blockType) {\r\n    this.blockType = blockType || this.blockType;\r\n    this.types.children.forEach(function (c) {\r\n        c.refresh();\r\n    });\r\n    this.edit();\r\n};\r\n\r\n// scope radio buttons\r\n\r\nBlockDialogMorph.prototype.creatpanel_LefteButtons = function () {\r\n    var myself = this;\r\n\r\n    this.addScopeButton(\r\n        function () {myself.setScope('global'); },\r\n        \"for all sprites\",\r\n        function () {return myself.isGlobal; }\r\n    );\r\n    this.addScopeButton(\r\n        function () {myself.setScope('local'); },\r\n        \"for this sprite only\",\r\n        function () {return !myself.isGlobal; }\r\n    );\r\n};\r\n\r\nBlockDialogMorph.prototype.addScopeButton = function (action, label, query) {\r\n    var button = new ToggleMorph(\r\n        'radiobutton',\r\n        this,\r\n        action,\r\n        label,\r\n        query\r\n    );\r\n    button.edge = this.buttonEdge / 2;\r\n    button.outline = this.buttonOutline / 2;\r\n    button.outlineColor = this.buttonOutlineColor;\r\n    button.outlineGradient = this.buttonOutlineGradient;\r\n    button.contrast = this.buttonContrast;\r\n\r\n    button.drawNew();\r\n    button.fixLayout();\r\n    this.scopes.add(button);\r\n    return button;\r\n};\r\n\r\n\r\nBlockDialogMorph.prototype.setScope = function (varType) {\r\n    this.isGlobal = (varType === 'global');\r\n    this.scopes.children.forEach(function (c) {\r\n        c.refresh();\r\n    });\r\n    this.edit();\r\n};\r\n\r\n// other ops\r\n\r\nBlockDialogMorph.prototype.getInput = function () {\r\n    var spec, def, body;\r\n    if (this.body instanceof InputFieldMorph) {\r\n        spec = this.normalizeSpaces(this.body.getValue());\r\n    }\r\n    def = new CustomBlockDefinition(spec);\r\n    def.type = this.blockType;\r\n    def.category = this.category;\r\n    def.isGlobal = this.isGlobal;\r\n    if (def.type === 'reporter' || def.type === 'predicate') {\r\n        body = Process.prototype.reify.call(\r\n            null,\r\n            SpriteMorph.prototype.blockForSelector('doReport'),\r\n            new List(),\r\n            true // ignore empty slots for custom block reification\r\n        );\r\n        body.outerContext = null;\r\n        def.body = body;\r\n    }\r\n    return def;\r\n};\r\n\r\nBlockDialogMorph.prototype.fixLayout = function () {\r\n    var th = fontHeight(this.titleFontSize) + this.titlePadding * 2;\r\n\r\n    if (this.body) {\r\n        this.body.setPosition(this.position().add(new Point(\r\n            this.padding,\r\n            th + this.padding\r\n        )));\r\n        this.silentSetWidth(this.body.width() + this.padding * 2);\r\n        this.silentSetHeight(\r\n            this.body.height()\r\n                + this.padding * 2\r\n                + th\r\n        );\r\n        if (this.categories) {\r\n            this.categories.setCenter(this.body.center());\r\n            this.categories.setTop(this.body.top());\r\n            this.body.setTop(this.categories.bottom() + this.padding);\r\n            this.silentSetHeight(\r\n                this.height()\r\n                    + this.categories.height()\r\n                    + this.padding\r\n            );\r\n        }\r\n    } else if (this.head) { // when changing an existing prototype\r\n        if (this.types) {\r\n            this.types.fixLayout();\r\n            this.silentSetWidth(\r\n                Math.max(this.types.width(), this.head.width())\r\n                    + this.padding * 2\r\n            );\r\n        } else {\r\n            this.silentSetWidth(\r\n                Math.max(this.categories.width(), this.head.width())\r\n                    + this.padding * 2\r\n            );\r\n        }\r\n        this.head.setCenter(this.center());\r\n        this.head.setTop(th + this.padding);\r\n        this.silentSetHeight(\r\n            this.head.height()\r\n                + this.padding * 2\r\n                + th\r\n        );\r\n        if (this.categories) {\r\n            this.categories.setCenter(this.center());\r\n            this.categories.setTop(this.head.bottom() + this.padding);\r\n            this.silentSetHeight(\r\n                this.height()\r\n                    + this.categories.height()\r\n                    + this.padding\r\n            );\r\n        }\r\n    }\r\n\r\n    if (this.label) {\r\n        this.label.setCenter(this.center());\r\n        this.label.setTop(this.top() + (th - this.label.height()) / 2);\r\n    }\r\n\r\n    if (this.types) {\r\n        this.types.fixLayout();\r\n        this.silentSetHeight(\r\n            this.height()\r\n                    + this.types.height()\r\n                    + this.padding\r\n        );\r\n        this.silentSetWidth(Math.max(\r\n            this.width(),\r\n            this.types.width() + this.padding * 2\r\n        ));\r\n        this.types.setCenter(this.center());\r\n        if (this.body) {\r\n            this.types.setTop(this.body.bottom() + this.padding);\r\n        } else if (this.categories) {\r\n            this.types.setTop(this.categories.bottom() + this.padding);\r\n        }\r\n    }\r\n\r\n    if (this.scopes) {\r\n        this.scopes.fixLayout();\r\n        this.silentSetHeight(\r\n            this.height()\r\n                    + this.scopes.height()\r\n                    + (this.padding / 3)\r\n        );\r\n        this.silentSetWidth(Math.max(\r\n            this.width(),\r\n            this.scopes.width() + this.padding * 2\r\n        ));\r\n        this.scopes.setCenter(this.center());\r\n        if (this.types) {\r\n            this.scopes.setTop(this.types.bottom() + (this.padding / 3));\r\n        }\r\n    }\r\n\r\n    if (this.buttons && (this.buttons.children.length > 0)) {\r\n        this.buttons.fixLayout();\r\n        this.silentSetHeight(\r\n            this.height()\r\n                    + this.buttons.height()\r\n                    + this.padding\r\n        );\r\n        this.buttons.setCenter(this.center());\r\n        this.buttons.setBottom(this.bottom() - this.padding);\r\n    }\r\n};\r\n\r\nBlockDialogMorph.prototype.accept = function () {\r\n    if ((this.body instanceof InputFieldMorph) &&\r\n            (this.normalizeSpaces(this.body.getValue()) === '')) {\r\n        this.edit();\r\n    } else {\r\n        BlockDialogMorph.uber.accept.call(this);\r\n    }\r\n};\r\n\r\n// BlockEditorMorph ////////////////////////////////////////////////////\r\n\r\n// BlockEditorMorph inherits from DialogBoxMorph:\r\n\r\nBlockEditorMorph.prototype = new DialogBoxMorph();\r\nBlockEditorMorph.prototype.constructor = BlockEditorMorph;\r\nBlockEditorMorph.uber = DialogBoxMorph.prototype;\r\n\r\n// BlockEditorMorph instance creation:\r\n\r\nfunction BlockEditorMorph(definition, target) {\r\n    this.init(definition, target);\r\n}\r\n\r\nBlockEditorMorph.prototype.init = function (definition, target) {\r\n    var scripts, proto, scriptsFrame, block, comment, myself = this,\r\n        isLive = Process.prototype.enableLiveCoding ||\r\n            Process.prototype.enableSingleStepping;\r\n\r\n    // additional properties:\r\n    this.definition = definition;\r\n    this.translations = definition.translationsAsText();\r\n    this.handle = null;\r\n\r\n    // initialize inherited properties:\r\n    BlockEditorMorph.uber.init.call(\r\n        this,\r\n        target,\r\n        function () {myself.updateDefinition(); },\r\n        target\r\n    );\r\n\r\n    // override inherited properites:\r\n    this.key = 'editBlock' + definition.spec;\r\n    this.labelString = this.definition.isGlobal ? 'Block Editor'\r\n    \t\t: 'Method Editor';\r\n    this.createLabel();\r\n\r\n    // create scripting area\r\n    scripts = new ScriptsMorph();\r\n    scripts.rejectsHats = true;\r\n    scripts.isDraggable = false;\r\n    scripts.color = IDE_Morph.prototype.groupColor;\r\n    scripts.cachedTexture = IDE_Morph.prototype.scriptsPaneTexture;\r\n    scripts.cleanUpMargin = 10;\r\n\r\n    proto = new PrototypeHatBlockMorph(this.definition);\r\n    proto.setPosition(scripts.position().add(10));\r\n    if (definition.comment !== null) {\r\n        comment = definition.comment.fullCopy();\r\n        proto.comment = comment;\r\n        comment.block = proto;\r\n    }\r\n    if (definition.body !== null) {\r\n        proto.nextBlock(isLive ? definition.body.expression\r\n                : definition.body.expression.fullCopy()\r\n        );\r\n    }\r\n\r\n    scripts.add(proto);\r\n    proto.fixBlockColor(null, true);\r\n    proto.drawNew();\r\n\r\n    this.definition.scripts.forEach(function (element) {\r\n        block = element.fullCopy();\r\n        block.setPosition(scripts.position().add(element.position()));\r\n        scripts.add(block);\r\n        if (block instanceof BlockMorph) {\r\n            block.allComments().forEach(function (comment) {\r\n                comment.align(block);\r\n            });\r\n        }\r\n    });\r\n    proto.allComments().forEach(function (comment) {\r\n        comment.align(proto);\r\n    });\r\n\r\n    scriptsFrame = new ScrollFrameMorph(scripts);\r\n    scriptsFrame.padding = 10;\r\n    scriptsFrame.growth = 50;\r\n    scriptsFrame.isDraggable = false;\r\n    scriptsFrame.acceptsDrops = false;\r\n    scriptsFrame.contents.acceptsDrops = true;\r\n    scripts.scrollFrame = scriptsFrame;\r\n    scripts.updateToolbar();\r\n\r\n    this.addBody(scriptsFrame);\r\n    this.addButton('ok', 'OK');\r\n    if (!isLive) {\r\n        this.addButton('updateDefinition', 'Apply');\r\n        this.addButton('cancel', 'Cancel');\r\n    }\r\n\r\n    this.setExtent(new Point(375, 300)); // normal initial extent\r\n    this.fixLayout();\r\n    scripts.fixMultiArgs();\r\n\r\n    block = proto.parts()[0];\r\n    block.forceNormalColoring();\r\n    block.fixBlockColor(proto, true);\r\n};\r\n\r\nBlockEditorMorph.prototype.popUp = function () {\r\n    var world = this.target.world();\r\n\r\n    if (world) {\r\n        BlockEditorMorph.uber.popUp.call(this, world);\r\n        this.setInitialDimensions();\r\n        this.handle = new HandleMorph(\r\n            this,\r\n            280,\r\n            220,\r\n            this.corner,\r\n            this.corner\r\n        );\r\n        world.keyboardReceiver = null;\r\n    }\r\n};\r\n\r\nBlockEditorMorph.prototype.justDropped = function () {\r\n    // override the inherited default behavior, which is to\r\n    // give keyboard focus to dialog boxes, as in this case\r\n    // we want Snap-global keyboard-shortcuts like ctrl-f\r\n    // to still work\r\n    nop();\r\n\r\n};\r\n\r\n// BlockEditorMorph ops\r\n\r\nBlockEditorMorph.prototype.accept = function (origin) {\r\n    // check DialogBoxMorph comment for accept()\r\n    if (origin instanceof CursorMorph) {return; }\r\n    if (this.action) {\r\n        if (typeof this.target === 'function') {\r\n            if (typeof this.action === 'function') {\r\n                this.target.call(this.environment, this.action.call());\r\n            } else {\r\n                this.target.call(this.environment, this.action);\r\n            }\r\n        } else {\r\n            if (typeof this.action === 'function') {\r\n                this.action.call(this.target, this.getInput());\r\n            } else { // assume it's a String\r\n                this.target[this.action](this.getInput());\r\n            }\r\n        }\r\n    }\r\n    this.close();\r\n};\r\n\r\nBlockEditorMorph.prototype.cancel = function (origin) {\r\n    if (origin instanceof CursorMorph) {return; }\r\n    //this.refreshAllBlockInstances();\r\n    this.close();\r\n};\r\n\r\nBlockEditorMorph.prototype.close = function () {\r\n    var doubles, block,\r\n        myself = this;\r\n\r\n    // assert that no scope conflicts exists, i.e. that a global\r\n    // definition doesn't contain any local custom blocks, as they\r\n    // will be rendered \"Obsolete!\" when reloading the project\r\n    if (this.definition.isGlobal) {\r\n        block = detect(\r\n            this.body.contents.allChildren(),\r\n            function (morph) {\r\n                return morph.definition && !morph.definition.isGlobal;\r\n            }\r\n        );\r\n        if (block) {\r\n            block = block.definition.blockInstance();\r\n            block.addShadow();\r\n            new DialogBoxMorph().inform(\r\n                'Local Block(s) in Global Definition',\r\n                'This global block definition contains one or more\\n'\r\n                    + 'local custom blocks which must be removed first.',\r\n                myself.world(),\r\n                block.fullImage()\r\n            );\r\n            return;\r\n        }\r\n    }\r\n\r\n    // allow me to disappear only when name collisions\r\n    // have been resolved\r\n    doubles = this.target.doubleDefinitionsFor(this.definition);\r\n    if (doubles.length > 0) {\r\n        block = doubles[0].blockInstance();\r\n        block.addShadow();\r\n        new DialogBoxMorph(this, 'consolidateDoubles', this).askYesNo(\r\n            'Same Named Blocks',\r\n            'Another custom block with this name exists.\\n'\r\n                + 'Would you like to replace it?',\r\n            myself.world(),\r\n            block.fullImage()\r\n        );\r\n        return;\r\n    }\r\n\r\n    this.destroy();\r\n};\r\n\r\nBlockEditorMorph.prototype.consolidateDoubles = function () {\r\n    this.target.replaceDoubleDefinitionsFor(this.definition);\r\n    this.destroy();\r\n};\r\n\r\nBlockEditorMorph.prototype.refreshAllBlockInstances = function (oldSpec) {\r\n    var def = this.definition,\r\n        template = this.target.paletteBlockInstance(def);\r\n\r\n    if (this.definition.isGlobal) {\r\n        this.target.allBlockInstances(this.definition).forEach(\r\n            function (block) {\r\n                block.refresh();\r\n            }\r\n        );\r\n    } else {\r\n        this.target.allDependentInvocationsOf(oldSpec).forEach(\r\n            function (block) {\r\n                block.refresh(def);\r\n            }\r\n        );\r\n    }\r\n    if (template) {\r\n        template.refreshDefaults();\r\n    }\r\n};\r\n\r\nBlockEditorMorph.prototype.updateDefinition = function () {\r\n    var head, ide,\r\n        oldSpec = this.definition.blockSpec(),\r\n        pos = this.body.contents.position(),\r\n        element,\r\n        myself = this;\r\n\r\n    this.definition.receiver = this.target; // only for serialization\r\n    this.definition.spec = this.prototypeSpec();\r\n    this.definition.declarations = this.prototypeSlots();\r\n    this.definition.variableNames = this.variableNames();\r\n    this.definition.scripts = [];\r\n    this.definition.updateTranslations(this.translations);\r\n    this.definition.cachedTranslation = null;\r\n    this.definition.editorDimensions = this.bounds.copy();\r\n    this.definition.cachedIsRecursive = null; // flush the cache, don't update\r\n\r\n    this.body.contents.children.forEach(function (morph) {\r\n        if (morph instanceof PrototypeHatBlockMorph) {\r\n            head = morph;\r\n        } else if (morph instanceof BlockMorph ||\r\n                (morph instanceof CommentMorph && !morph.block)) {\r\n            element = morph.fullCopy();\r\n            element.parent = null;\r\n            element.setPosition(morph.position().subtract(pos));\r\n            myself.definition.scripts.push(element);\r\n        }\r\n    });\r\n\r\n    if (head) {\r\n        if (this.definition.category !== head.blockCategory) {\r\n            this.target.shadowAttribute('scripts');\r\n        }\r\n        this.definition.category = head.blockCategory;\r\n        this.definition.type = head.type;\r\n        if (head.comment) {\r\n            this.definition.comment = head.comment.fullCopy();\r\n            this.definition.comment.block = true; // serialize in short form\r\n        } else {\r\n            this.definition.comment = null;\r\n        }\r\n    }\r\n\r\n    this.definition.body = this.context(head);\r\n    this.refreshAllBlockInstances(oldSpec);\r\n    ide = this.target.parentThatIsA(IDE_Morph);\r\n    ide.flushPaletteCache();\r\n    ide.refreshPalette();\r\n};\r\n\r\nBlockEditorMorph.prototype.context = function (prototypeHat) {\r\n    // answer my script reified for deferred execution\r\n    // if no prototypeHat is given, my body is scanned\r\n    var head, topBlock, stackFrame;\r\n\r\n    head = prototypeHat || detect(\r\n        this.body.contents.children,\r\n        function (c) {return c instanceof PrototypeHatBlockMorph; }\r\n    );\r\n    topBlock = head.nextBlock();\r\n    if (topBlock === null) {\r\n        return null;\r\n    }\r\n    topBlock.allChildren().forEach(function (c) {\r\n        if (c instanceof BlockMorph) {c.cachedInputs = null; }\r\n    });\r\n    stackFrame = Process.prototype.reify.call(\r\n        null,\r\n        topBlock,\r\n        new List(this.definition.inputNames()),\r\n        true // ignore empty slots for custom block reification\r\n    );\r\n    stackFrame.outerContext = null;\r\n    return stackFrame;\r\n};\r\n\r\nBlockEditorMorph.prototype.prototypeSpec = function () {\r\n    // answer the spec represented by my (edited) block prototype\r\n    return detect(\r\n        this.body.contents.children,\r\n        function (c) {return c instanceof PrototypeHatBlockMorph; }\r\n    ).parts()[0].specFromFragments();\r\n};\r\n\r\nBlockEditorMorph.prototype.prototypeSlots = function () {\r\n    // answer the slot declarations from my (edited) block prototype\r\n    return detect(\r\n        this.body.contents.children,\r\n        function (c) {return c instanceof PrototypeHatBlockMorph; }\r\n    ).parts()[0].declarationsFromFragments();\r\n};\r\n\r\nBlockEditorMorph.prototype.variableNames = function () {\r\n    // answer the variable declarations from my prototype hat\r\n    return detect(\r\n        this.body.contents.children,\r\n        function (c) {return c instanceof PrototypeHatBlockMorph; }\r\n    ).variableNames();\r\n};\r\n\r\n// BlockEditorMorph translation\r\n\r\nBlockEditorMorph.prototype.editTranslations = function () {\r\n    var myself = this,\r\n    \tblock = this.definition.blockInstance();\r\n    block.addShadow(new Point(3, 3));\r\n    new DialogBoxMorph(\r\n        myself,\r\n        function (text) {\r\n            myself.translations = text;\r\n        },\r\n        myself\r\n    ).promptCode(\r\n        'Custom Block Translations',\r\n        myself.translations,\r\n        myself.world(),\r\n        block.fullImage(),\r\n        myself.definition.abstractBlockSpec() +\r\n            '\\n\\n' +\r\n            localize('Enter one translation per line. ' +\r\n                'use colon (\":\") as lang/spec delimiter\\n' +\r\n                'and underscore (\"_\") as placeholder for an input, ' +\r\n                'e.g.:\\n\\nen:say _ for _ secs')\r\n    );\r\n};\r\n\r\n// BlockEditorMorph layout\r\n\r\nBlockEditorMorph.prototype.setInitialDimensions = function () {\r\n    var world = this.world(),\r\n        mex = world.extent().subtract(new Point(this.padding, this.padding)),\r\n        th = fontHeight(this.titleFontSize) + this.titlePadding * 2,\r\n        bh = this.buttons.height();\r\n\r\n    if (this.definition.editorDimensions) {\r\n        this.setPosition(this.definition.editorDimensions.origin);\r\n        this.setExtent(this.definition.editorDimensions.extent().min(mex));\r\n        this.keepWithin(world);\r\n        return;\r\n    }\r\n    this.setExtent(\r\n        this.body.contents.extent().add(\r\n            new Point(this.padding, this.padding + th + bh)\r\n        ).min(mex)\r\n    );\r\n    this.setCenter(this.world().center());\r\n};\r\n\r\nBlockEditorMorph.prototype.fixLayout = function () {\r\n    var th = fontHeight(this.titleFontSize) + this.titlePadding * 2;\r\n\r\n    if (this.buttons && (this.buttons.children.length > 0)) {\r\n        this.buttons.fixLayout();\r\n    }\r\n\r\n    if (this.body) {\r\n        this.body.setPosition(this.position().add(new Point(\r\n            this.padding,\r\n            th + this.padding\r\n        )));\r\n        this.body.setExtent(new Point(\r\n            this.width() - this.padding * 2,\r\n            this.height() - this.padding * 3 - th - this.buttons.height()\r\n        ));\r\n    }\r\n\r\n    if (this.label) {\r\n        this.label.setCenter(this.center());\r\n        this.label.setTop(this.top() + (th - this.label.height()) / 2);\r\n    }\r\n\r\n    if (this.buttons && (this.buttons.children.length > 0)) {\r\n        this.buttons.setCenter(this.center());\r\n        this.buttons.setBottom(this.bottom() - this.padding);\r\n    }\r\n};\r\n\r\n// PrototypeHatBlockMorph /////////////////////////////////////////////\r\n\r\n// PrototypeHatBlockMorph inherits from HatBlockMorph:\r\n\r\nPrototypeHatBlockMorph.prototype = new HatBlockMorph();\r\nPrototypeHatBlockMorph.prototype.constructor = PrototypeHatBlockMorph;\r\nPrototypeHatBlockMorph.uber = HatBlockMorph.prototype;\r\n\r\n// PrototypeHatBlockMorph instance creation:\r\n\r\nfunction PrototypeHatBlockMorph(definition) {\r\n    this.init(definition);\r\n}\r\n\r\nPrototypeHatBlockMorph.prototype.init = function (definition) {\r\n    var proto = definition.prototypeInstance(),\r\n        vars;\r\n\r\n    this.definition = definition;\r\n\r\n    // additional attributes to store edited data\r\n    this.blockCategory = definition ? definition.category : null;\r\n    this.type = definition ? definition.type : null;\r\n\r\n    // init inherited stuff\r\n    HatBlockMorph.uber.init.call(this);\r\n    this.color = SpriteMorph.prototype.blockColor.control;\r\n    this.category = 'control';\r\n    this.add(proto);\r\n    if (definition.variableNames.length) {\r\n        vars = this.labelPart('%blockVars');\r\n        this.add(this.labelPart('%br'));\r\n        this.add(vars);\r\n        definition.variableNames.forEach(function (name) {\r\n            vars.addInput(name);\r\n        });\r\n    }\r\n    proto.refreshPrototypeSlotTypes(); // show slot type indicators\r\n    this.fixLayout();\r\n    proto.fixBlockColor(this, true);\r\n};\r\n\r\nPrototypeHatBlockMorph.prototype.mouseClickLeft = function () {\r\n    // relay the mouse click to my prototype block to\r\n    // pop-up a Block Dialog, unless the shift key\r\n    // is pressed, in which case initiate keyboard\r\n    // editing support\r\n\r\n    if (this.world().currentKey === 16) { // shift-clicked\r\n        return this.focus();\r\n    }\r\n    this.parts()[0].mouseClickLeft();\r\n};\r\n\r\nPrototypeHatBlockMorph.prototype.userMenu = function () {\r\n    return this.parts()[0].userMenu();\r\n};\r\n\r\n// PrototypeHatBlockMorph zebra coloring\r\n\r\nPrototypeHatBlockMorph.prototype.fixBlockColor = function (\r\n    nearestBlock,\r\n    isForced\r\n) {\r\n    var nearest = this.parts()[0] || nearestBlock;\r\n\r\n    if (!this.zebraContrast && !isForced) {\r\n        return;\r\n    }\r\n    if (!this.zebraContrast && isForced) {\r\n        return this.forceNormalColoring();\r\n    }\r\n\r\n    if (nearest.category === this.category) {\r\n        if (nearest.color.eq(this.color)) {\r\n            this.alternateBlockColor();\r\n        }\r\n    } else if (this.category && !this.color.eq(\r\n            SpriteMorph.prototype.blockColor[this.category]\r\n        )) {\r\n        this.alternateBlockColor();\r\n    }\r\n    if (isForced) {\r\n        this.fixChildrensBlockColor(true);\r\n    }\r\n};\r\n\r\n// PrototypeHatBlockMorph block instance variables\r\n\r\nPrototypeHatBlockMorph.prototype.variableNames = function (choice) {\r\n    var parts = this.parts();\r\n    if (parts.length < 3) {return []; }\r\n    return parts[2].evaluate();\r\n};\r\n\r\nPrototypeHatBlockMorph.prototype.enableBlockVars = function (choice) {\r\n    var prot = this.parts()[0];\r\n    if (choice === false) {\r\n        this.setSpec('%s', true);\r\n    } else {\r\n        this.setSpec('%s %br %blockVars', true);\r\n    }\r\n    this.replaceInput(this.parts()[0], prot);\r\n    this.spec = null;\r\n};\r\n\r\n// BlockLabelFragment //////////////////////////////////////////////////\r\n\r\n// BlockLabelFragment instance creation:\r\n\r\nfunction BlockLabelFragment(labelString) {\r\n    this.labelString = labelString || '';\r\n    this.type = '%s';    // null for label, a spec for an input\r\n    this.defaultValue = '';\r\n    this.options = '';\r\n    this.isReadOnly = false; // for input slots\r\n    this.isDeleted = false;\r\n}\r\n\r\n// accessing\r\n\r\nBlockLabelFragment.prototype.defSpecFragment = function () {\r\n    // answer a string representing my prototype's spec\r\n    var pref = this.type ? '%\\'' : '';\r\n    return this.isDeleted ?\r\n            '' : pref + this.labelString + (this.type ? '\\'' : '');\r\n};\r\n\r\nBlockLabelFragment.prototype.defTemplateSpecFragment = function () {\r\n    // answer a string representing my prototype's spec\r\n    // which also indicates my type, default value or arity\r\n    var suff = '';\r\n    if (!this.type) {return this.defSpecFragment(); }\r\n    if (this.isUpvar()) {\r\n        suff = ' \\u2191';\r\n    } else if (this.isMultipleInput()) {\r\n        suff = '...';\r\n    } else if (this.type === '%cs') {\r\n        suff = ' \\u03BB'; // ' [\\u03BB'\r\n    } else if (this.type === '%b') {\r\n        suff = ' ?';\r\n    } else if (this.type === '%l') {\r\n        suff = ' \\uFE19';\r\n    } else if (this.type === '%obj') {\r\n        suff = ' %turtleOutline';\r\n    } else if (contains(\r\n            ['%cmdRing', '%repRing', '%predRing', '%anyUE', '%boolUE'],\r\n            this.type\r\n        )) {\r\n        suff = ' \\u03BB';\r\n    } else if (this.defaultValue) {\r\n        if (this.type === '%n') {\r\n            suff = ' # = ' + this.defaultValue.toString();\r\n        } else { // 'any' or 'text'\r\n            suff = ' = ' + this.defaultValue.toString();\r\n        }\r\n    } else if (this.type === '%n') {\r\n        suff = ' #';\r\n    }\r\n    return this.labelString + suff;\r\n};\r\n\r\nBlockLabelFragment.prototype.blockSpecFragment = function () {\r\n    // answer a string representing my block spec\r\n    return this.isDeleted ? '' : this.type || this.labelString;\r\n};\r\n\r\nBlockLabelFragment.prototype.copy = function () {\r\n    var ans = new BlockLabelFragment(this.labelString);\r\n    ans.type = this.type;\r\n    ans.defaultValue = this.defaultValue;\r\n    ans.options = this.options;\r\n    ans.isReadOnly = this.isReadOnly;\r\n    return ans;\r\n};\r\n\r\n// arity\r\n\r\nBlockLabelFragment.prototype.isSingleInput = function () {\r\n    return !this.isMultipleInput() &&\r\n        (this.type !== '%upvar');\r\n};\r\n\r\nBlockLabelFragment.prototype.isMultipleInput = function () {\r\n    // answer true if the type begins with '%mult'\r\n    if (!this.type) {\r\n        return false; // not an input at all\r\n    }\r\n    return this.type.indexOf('%mult') > -1;\r\n};\r\n\r\nBlockLabelFragment.prototype.isUpvar = function () {\r\n    if (!this.type) {\r\n        return false; // not an input at all\r\n    }\r\n    return this.type === '%upvar';\r\n};\r\n\r\nBlockLabelFragment.prototype.setToSingleInput = function () {\r\n    if (!this.type) {return null; } // not an input at all\r\n    if (this.type === '%upvar') {\r\n        this.type = '%s';\r\n    } else {\r\n        this.type = this.singleInputType();\r\n    }\r\n};\r\n\r\nBlockLabelFragment.prototype.setToMultipleInput = function () {\r\n    if (!this.type) {return null; } // not an input at all\r\n    if (this.type === '%upvar') {\r\n        this.type = '%s';\r\n    }\r\n    this.type = '%mult'.concat(this.singleInputType());\r\n};\r\n\r\nBlockLabelFragment.prototype.setToUpvar = function () {\r\n    if (!this.type) {return null; } // not an input at all\r\n    this.type = '%upvar';\r\n};\r\n\r\nBlockLabelFragment.prototype.singleInputType = function () {\r\n    // answer the type of my input withtou any preceding '%mult'\r\n    if (!this.type) {\r\n        return null; // not an input at all\r\n    }\r\n    if (this.isMultipleInput()) {\r\n        return this.type.substr(5); // everything following '%mult'\r\n    }\r\n    return this.type;\r\n};\r\n\r\nBlockLabelFragment.prototype.setSingleInputType = function (type) {\r\n    if (!this.type || !this.isMultipleInput()) {\r\n        this.type = type;\r\n    } else {\r\n        this.type = '%mult'.concat(type);\r\n    }\r\n};\r\n\r\n// BlockLabelFragmentMorph ///////////////////////////////////////////////\r\n\r\n/*\r\n    I am a single word in a custom block prototype's label. I can be clicked\r\n    to edit my contents and to turn me into an input placeholder.\r\n*/\r\n\r\n// BlockLabelFragmentMorph inherits from StringMorph:\r\n\r\nBlockLabelFragmentMorph.prototype = new StringMorph();\r\nBlockLabelFragmentMorph.prototype.constructor = BlockLabelFragmentMorph;\r\nBlockLabelFragmentMorph.uber = StringMorph.prototype;\r\n\r\n// BlockLabelFragmentMorph instance creation:\r\n\r\nfunction BlockLabelFragmentMorph(text) {\r\n    this.init(text);\r\n}\r\n\r\nBlockLabelFragmentMorph.prototype.init = function (text) {\r\n    this.fragment = new BlockLabelFragment(text);\r\n    this.fragment.type = null;\r\n    this.sO = null; // temporary backup for shadowOffset\r\n    BlockLabelFragmentMorph.uber.init.call(\r\n        this,\r\n        text,\r\n        null, // font size\r\n        SyntaxElementMorph.prototype.labelFontStyle,\r\n        null, // bold\r\n        null, // italic\r\n        null, // numeric\r\n        null, // shadow offset\r\n        null, // shadow color\r\n        null, // color\r\n        SyntaxElementMorph.prototype.labelFontName\r\n    );\r\n};\r\n\r\n// BlockLabelFragmentMorph events:\r\n\r\nBlockLabelFragmentMorph.prototype.mouseEnter = function () {\r\n    this.sO = this.shadowOffset;\r\n    this.shadowOffset = this.sO.neg();\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nBlockLabelFragmentMorph.prototype.mouseLeave = function () {\r\n    this.shadowOffset = this.sO;\r\n    this.drawNew();\r\n    this.changed();\r\n};\r\n\r\nBlockLabelFragmentMorph.prototype.mouseClickLeft = function () {\r\n/*\r\n    make a copy of my fragment object and open an InputSlotDialog on it.\r\n    If the user acknowledges the DialogBox, assign the - edited - copy\r\n    of the fragment object to be my new fragment object and update the\r\n    custom block'label (the prototype in the block editor). Do not yet update\r\n    the definition and every block instance, as this happens only after\r\n    the user acknowledges and closes the block editor\r\n*/\r\n    var frag = this.fragment.copy(),\r\n        myself = this,\r\n        isPlaceHolder = this instanceof BlockLabelPlaceHolderMorph,\r\n        isOnlyElement = this.parent.parseSpec(this.parent.blockSpec).length\r\n            < 2;\r\n\r\n    new InputSlotDialogMorph(\r\n        frag,\r\n        null,\r\n        function () {myself.updateBlockLabel(frag); },\r\n        this,\r\n        this.parent.definition.category\r\n    ).open(\r\n        this instanceof BlockLabelFragmentMorph ?\r\n                'Edit label fragment' :\r\n                isPlaceHolder ? 'Create input name' : 'Edit input name',\r\n        frag.labelString,\r\n        this.world(),\r\n        null,\r\n        isPlaceHolder || isOnlyElement\r\n    );\r\n};\r\n\r\nBlockLabelFragmentMorph.prototype.updateBlockLabel = function (newFragment) {\r\n    var prot = this.parentThatIsA(BlockMorph);\r\n\r\n    this.fragment = newFragment;\r\n    if (prot) {\r\n        prot.refreshPrototype();\r\n    }\r\n};\r\n\r\nBlockLabelFragmentMorph.prototype.userMenu = function () {\r\n    // show a menu of built-in special symbols\r\n    var myself = this,\r\n        symbolColor = new Color(100, 100, 130),\r\n        menu = new MenuMorph(\r\n            function (string) {\r\n                var tuple = myself.text.split('-');\r\n                myself.changed();\r\n                tuple[0] = '$' + string;\r\n                myself.text = tuple.join('-');\r\n                myself.fragment.labelString = myself.text;\r\n                myself.parent.parent.changed();\r\n                myself.drawNew();\r\n                myself.changed();\r\n                myself.parent.parent.fixLayout();\r\n                myself.parent.parent.changed();\r\n            },\r\n            null,\r\n            this,\r\n            this.fontSize\r\n        );\r\n    SymbolMorph.prototype.names.forEach(function (name) {\r\n        menu.addItem(\r\n            [new SymbolMorph(name, menu.fontSize, symbolColor), name],\r\n            name\r\n        );\r\n    });\r\n    menu.addLine();\r\n    menu.addItem('\\u23CE ' + localize('new line'), 'nl');\r\n    return menu;\r\n};\r\n\r\n// BlockLabelPlaceHolderMorph ///////////////////////////////////////////////\r\n\r\n/*\r\n    I am a space between words or inputs in a custom block prototype's label.\r\n    When I am moused over I display a plus sign on a colored background\r\n    circle. I can be clicked to add a new word or input to the prototype.\r\n*/\r\n\r\n// BlockLabelPlaceHolderMorph inherits from StringMorph:\r\n\r\nBlockLabelPlaceHolderMorph.prototype = new StringMorph();\r\nBlockLabelPlaceHolderMorph.prototype.constructor = BlockLabelPlaceHolderMorph;\r\nBlockLabelPlaceHolderMorph.uber = StringMorph.prototype;\r\n\r\n// BlockLabelPlaceHolderMorph preferences settings\r\n\r\nBlockLabelPlaceHolderMorph.prototype.plainLabel = false; // always show (+)\r\n\r\n// BlockLabelPlaceHolderMorph instance creation:\r\n\r\nfunction BlockLabelPlaceHolderMorph() {\r\n    this.init();\r\n}\r\n\r\nBlockLabelPlaceHolderMorph.prototype.init = function () {\r\n    this.fragment = new BlockLabelFragment('');\r\n    this.fragment.type = '%s';\r\n    this.fragment.isDeleted = true;\r\n    this.isHighlighted = false;\r\n    this.isProtectedLabel = true; // doesn't participate in zebra coloring\r\n    BlockLabelFragmentMorph.uber.init.call(this, '+');\r\n};\r\n\r\n// BlockLabelPlaceHolderMorph drawing\r\n\r\nBlockLabelPlaceHolderMorph.prototype.drawNew = function () {\r\n    var context, width, x, y, cx, cy;\r\n\r\n    // set my text contents depending on the \"plainLabel\" flag\r\n    if (this.plainLabel) {\r\n        this.text = this.isHighlighted ? ' + ' : '';\r\n    }\r\n\r\n    // initialize my surface property\r\n    this.image = newCanvas();\r\n    context = this.image.getContext('2d');\r\n    context.font = this.font();\r\n\r\n    // set my extent\r\n    width = Math.max(\r\n        context.measureText(this.text).width\r\n            + Math.abs(this.shadowOffset.x),\r\n        1\r\n    );\r\n    this.bounds.corner = this.bounds.origin.add(\r\n        new Point(\r\n            width,\r\n            fontHeight(this.fontSize) + Math.abs(this.shadowOffset.y)\r\n        )\r\n    );\r\n    this.image.width = width;\r\n    this.image.height = this.height();\r\n\r\n    // draw background, if any\r\n    if (this.isHighlighted) {\r\n        cx = Math.floor(width / 2);\r\n        cy = Math.floor(this.height() / 2);\r\n        context.fillStyle = this.color.toString();\r\n        context.beginPath();\r\n        context.arc(\r\n            cx,\r\n            cy * 1.2,\r\n            Math.min(cx, cy),\r\n            radians(0),\r\n            radians(360),\r\n            false\r\n        );\r\n        context.closePath();\r\n        context.fill();\r\n    }\r\n\r\n    // prepare context for drawing text\r\n    context.font = this.font();\r\n    context.textAlign = 'left';\r\n    context.textBaseline = 'bottom';\r\n\r\n    // first draw the shadow, if any\r\n    if (this.shadowColor) {\r\n        x = Math.max(this.shadowOffset.x, 0);\r\n        y = Math.max(this.shadowOffset.y, 0);\r\n        context.fillStyle = this.shadowColor.toString();\r\n        context.fillText(this.text, x, fontHeight(this.fontSize) + y);\r\n    }\r\n\r\n    // now draw the actual text\r\n    x = Math.abs(Math.min(this.shadowOffset.x, 0));\r\n    y = Math.abs(Math.min(this.shadowOffset.y, 0));\r\n    context.fillStyle = this.isHighlighted ?\r\n            'white' : this.color.toString();\r\n    context.fillText(this.text, x, fontHeight(this.fontSize) + y);\r\n\r\n    // notify my parent of layout change\r\n    if (this.parent) {\r\n        if (this.parent.fixLayout) {\r\n            this.parent.fixLayout();\r\n        }\r\n        if (this.parent.parent instanceof PrototypeHatBlockMorph) {\r\n            this.parent.parent.fixLayout();\r\n        }\r\n    }\r\n};\r\n\r\n// BlockLabelPlaceHolderMorph events:\r\n\r\nBlockLabelPlaceHolderMorph.prototype.mouseEnter = function () {\r\n    var hat = this.parentThatIsA(PrototypeHatBlockMorph);\r\n    this.isHighlighted = true;\r\n    if (this.plainLabel && hat) {\r\n        hat.changed();\r\n        this.drawNew();\r\n        hat.changed();\r\n    } else {\r\n        this.drawNew();\r\n        this.changed();\r\n    }\r\n};\r\n\r\nBlockLabelPlaceHolderMorph.prototype.mouseLeave = function () {\r\n    var hat = this.parentThatIsA(PrototypeHatBlockMorph);\r\n    this.isHighlighted = false;\r\n    if (this.plainLabel && hat) {\r\n        hat.changed();\r\n        this.drawNew();\r\n        hat.changed();\r\n    } else {\r\n        this.drawNew();\r\n        this.changed();\r\n    }\r\n};\r\n\r\nBlockLabelPlaceHolderMorph.prototype.mouseClickLeft\r\n    = BlockLabelFragmentMorph.prototype.mouseClickLeft;\r\n\r\nBlockLabelPlaceHolderMorph.prototype.updateBlockLabel\r\n    = BlockLabelFragmentMorph.prototype.updateBlockLabel;\r\n\r\n// BlockInputFragmentMorph ///////////////////////////////////////////////\r\n\r\n/*\r\n    I am a variable blob in a custom block prototype's label. I can be clicked\r\n    to edit my contents and to turn me into an part of the block's label text.\r\n*/\r\n\r\n// BlockInputFragmentMorph inherits from TemplateSlotMorph:\r\n\r\nBlockInputFragmentMorph.prototype = new TemplateSlotMorph();\r\nBlockInputFragmentMorph.prototype.constructor = BlockInputFragmentMorph;\r\nBlockInputFragmentMorph.uber = TemplateSlotMorph.prototype;\r\n\r\n// BlockInputFragmentMorph instance creation:\r\n\r\nfunction BlockInputFragmentMorph(text) {\r\n    this.init(text);\r\n}\r\n\r\nBlockInputFragmentMorph.prototype.init = function (text) {\r\n    this.fragment = new BlockLabelFragment(text);\r\n    this.fragment.type = '%s';\r\n    BlockInputFragmentMorph.uber.init.call(this, text);\r\n};\r\n\r\n// BlockInputFragmentMorph events:\r\n\r\nBlockInputFragmentMorph.prototype.mouseClickLeft\r\n    = BlockLabelFragmentMorph.prototype.mouseClickLeft;\r\n\r\nBlockInputFragmentMorph.prototype.updateBlockLabel\r\n    = BlockLabelFragmentMorph.prototype.updateBlockLabel;\r\n\r\n// InputSlotDialogMorph ////////////////////////////////////////////////\r\n\r\n// ... \"inherits\" some methods from BlockDialogMorph\r\n\r\n// InputSlotDialogMorph inherits from DialogBoxMorph:\r\n\r\nInputSlotDialogMorph.prototype = new DialogBoxMorph();\r\nInputSlotDialogMorph.prototype.constructor = InputSlotDialogMorph;\r\nInputSlotDialogMorph.uber = DialogBoxMorph.prototype;\r\n\r\n// InputSlotDialogMorph preferences settings:\r\n\r\n// if \"isLaunchingExpanded\" is true I always open in the long form\r\nInputSlotDialogMorph.prototype.isLaunchingExpanded = false;\r\n\r\n// InputSlotDialogMorph instance creation:\r\n\r\nfunction InputSlotDialogMorph(\r\n    fragment,\r\n    target,\r\n    action,\r\n    environment,\r\n    category\r\n) {\r\n    this.init(fragment, target, action, environment, category);\r\n}\r\n\r\nInputSlotDialogMorph.prototype.init = function (\r\n    fragment,\r\n    target,\r\n    action,\r\n    environment,\r\n    category\r\n) {\r\n    var scale = SyntaxElementMorph.prototype.scale,\r\n        fh = fontHeight(10) / 1.2 * scale; // \"raw height\"\r\n\r\n    // additional properties:\r\n    this.fragment = fragment || new BlockLabelFragment();\r\n    this.textfield = null;\r\n    this.types = null;\r\n    this.slots = null;\r\n    this.isExpanded = false;\r\n    this.category = category || 'other';\r\n    this.cachedRadioButton = null; // \"template\" for radio button backgrounds\r\n    this.noDelete = false;\r\n\r\n    // initialize inherited properties:\r\n    BlockDialogMorph.uber.init.call(\r\n        this,\r\n        target,\r\n        action,\r\n        environment\r\n    );\r\n\r\n    // override inherited properites:\r\n    this.types = new AlignmentMorph('row', this.padding);\r\n    this.types.respectHiddens = true; // prevent the arrow from flipping\r\n    this.add(this.types);\r\n    this.slots = new BoxMorph();\r\n    this.slots.color = new Color(55, 55, 55); // same as palette\r\n    this.slots.borderColor = this.slots.color.lighter(50);\r\n    this.slots.setExtent(new Point((fh + 10) * 24, (fh + 10 * scale) * 10.4));\r\n    this.add(this.slots);\r\n    this.createSlotTypeButtons();\r\n    this.fixSlotsLayout();\r\n    this.addSlotsMenu();\r\n    this.createTypeButtons();\r\n    this.fixLayout();\r\n};\r\n\r\nInputSlotDialogMorph.prototype.createTypeButtons = function () {\r\n    var block,\r\n        arrow,\r\n        myself = this,\r\n        clr = SpriteMorph.prototype.blockColor[this.category];\r\n\r\n\r\n    block = new JaggedBlockMorph(localize('Title text'));\r\n    block.setColor(clr);\r\n    this.addBlockTypeButton(\r\n        function () {myself.setType(null); },\r\n        block,\r\n        function () {return myself.fragment.type === null; }\r\n    );\r\n\r\n    block = new JaggedBlockMorph('%inputName');\r\n    block.setColor(clr);\r\n    this.addBlockTypeButton(\r\n        function () {myself.setType('%s'); },\r\n        block,\r\n        function () {return myself.fragment.type !== null; }\r\n    );\r\n\r\n    // add an arrow button for long form/short form toggling\r\n    arrow = new ArrowMorph(\r\n        'right',\r\n        PushButtonMorph.prototype.fontSize + 4,\r\n        2\r\n    );\r\n    arrow.noticesTransparentClick = true;\r\n    this.types.add(arrow);\r\n    this.types.fixLayout();\r\n\r\n    // configure arrow button\r\n    arrow.refresh = function () {\r\n        if (myself.fragment.type === null) {\r\n            myself.isExpanded = false;\r\n            arrow.hide();\r\n            myself.drawNew();\r\n        } else {\r\n            arrow.show();\r\n            if (myself.isExpanded) {\r\n                arrow.direction = 'down';\r\n            } else {\r\n                arrow.direction = 'right';\r\n            }\r\n            arrow.drawNew();\r\n            arrow.changed();\r\n        }\r\n    };\r\n\r\n    arrow.mouseClickLeft = function () {\r\n        if (arrow.isVisible) {\r\n            myself.isExpanded = !myself.isExpanded;\r\n            myself.types.children.forEach(function (c) {\r\n                c.refresh();\r\n            });\r\n            myself.drawNew();\r\n            myself.edit();\r\n        }\r\n    };\r\n\r\n    arrow.refresh();\r\n};\r\n\r\nInputSlotDialogMorph.prototype.addTypeButton\r\n    = BlockDialogMorph.prototype.addTypeButton;\r\n\r\nInputSlotDialogMorph.prototype.addBlockTypeButton\r\n    = BlockDialogMorph.prototype.addBlockTypeButton;\r\n\r\nInputSlotDialogMorph.prototype.setType = function (fragmentType) {\r\n    this.textfield.choices = fragmentType ? null : this.symbolMenu;\r\n    this.textfield.drawNew();\r\n    this.fragment.type = fragmentType || null;\r\n    this.types.children.forEach(function (c) {\r\n        c.refresh();\r\n    });\r\n    this.slots.children.forEach(function (c) {\r\n        c.refresh();\r\n    });\r\n    this.edit();\r\n};\r\n\r\nInputSlotDialogMorph.prototype.getInput = function () {\r\n    var lbl;\r\n    if (this.body instanceof InputFieldMorph) {\r\n        lbl = this.normalizeSpaces(this.body.getValue());\r\n    }\r\n    if (lbl) {\r\n        this.fragment.labelString = lbl;\r\n        if (contains(['%b', '%boolUE'], this.fragment.type)) {\r\n            this.fragment.defaultValue =\r\n                this.slots.defaultSwitch.evaluate();\r\n        } else {\r\n            this.fragment.defaultValue =\r\n                this.slots.defaultInputField.getValue();\r\n        }\r\n        return lbl;\r\n    } else if (!this.noDelete) {\r\n        this.fragment.isDeleted = true;\r\n    }\r\n    return null;\r\n};\r\n\r\nInputSlotDialogMorph.prototype.fixLayout = function () {\r\n    var maxWidth,\r\n        left = this.left(),\r\n        th = fontHeight(this.titleFontSize) + this.titlePadding * 2;\r\n\r\n    if (!this.isExpanded) {\r\n        if (this.slots) {\r\n            this.slots.hide();\r\n        }\r\n        return BlockDialogMorph.prototype.fixLayout.call(this);\r\n    }\r\n\r\n    this.slots.show();\r\n    maxWidth = this.slots.width();\r\n\r\n    // arrange panes :\r\n    // body (input field)\r\n    this.body.setPosition(this.position().add(new Point(\r\n        this.padding + (maxWidth - this.body.width()) / 2,\r\n        th + this.padding\r\n    )));\r\n\r\n    // label\r\n    this.label.setLeft(\r\n        left + this.padding + (maxWidth - this.label.width()) / 2\r\n    );\r\n    this.label.setTop(this.top() + (th - this.label.height()) / 2);\r\n\r\n    // types\r\n    this.types.fixLayout();\r\n    this.types.setTop(this.body.bottom() + this.padding);\r\n    this.types.setLeft(\r\n        left + this.padding + (maxWidth - this.types.width()) / 2\r\n    );\r\n\r\n    // slots\r\n    this.slots.setPosition(new Point(\r\n        this.left() + this.padding,\r\n        this.types.bottom() + this.padding\r\n    ));\r\n    this.slots.children.forEach(function (c) {\r\n        c.refresh();\r\n    });\r\n\r\n    // buttons\r\n    this.buttons.fixLayout();\r\n    this.buttons.setTop(this.slots.bottom() + this.padding);\r\n    this.buttons.setLeft(\r\n        left + this.padding + (maxWidth - this.buttons.width()) / 2\r\n    );\r\n\r\n    // set dialog box dimensions:\r\n    this.silentSetHeight(this.buttons.bottom() - this.top() + this.padding);\r\n    this.silentSetWidth(this.slots.right() - this.left() + this.padding);\r\n};\r\n\r\nInputSlotDialogMorph.prototype.open = function (\r\n    title,\r\n    defaultString,\r\n    world,\r\n    pic,\r\n    noDeleteButton\r\n) {\r\n    var txt = new InputFieldMorph(defaultString),\r\n        oldFlag = Morph.prototype.trackChanges;\r\n\r\n    if (!this.fragment.type) {\r\n        txt.choices = this.symbolMenu;\r\n    }\r\n    Morph.prototype.trackChanges = false;\r\n    this.isExpanded = this.isLaunchingExpanded;\r\n    txt.setWidth(250);\r\n    this.labelString = title;\r\n    this.createLabel();\r\n    if (pic) {this.setPicture(pic); }\r\n    this.addBody(txt);\r\n    txt.drawNew();\r\n    this.textfield = txt;\r\n    this.addButton('ok', 'OK');\r\n    if (!noDeleteButton) {\r\n        this.addButton('deleteFragment', 'Delete');\r\n    } else {\r\n        this.noDelete = true;\r\n    }\r\n    this.addButton('cancel', 'Cancel');\r\n    this.fixLayout();\r\n    this.drawNew();\r\n    this.fixLayout();\r\n    this.popUp(world);\r\n    this.add(this.types); // make the types come to front\r\n    Morph.prototype.trackChanges = oldFlag;\r\n    this.changed();\r\n};\r\n\r\nInputSlotDialogMorph.prototype.symbolMenu = function () {\r\n    var symbols = [],\r\n        symbolColor = new Color(100, 100, 130),\r\n        myself = this;\r\n    SymbolMorph.prototype.names.forEach(function (symbol) {\r\n        symbols.push([\r\n            [\r\n                new SymbolMorph(symbol, myself.fontSize, symbolColor),\r\n                localize(symbol)\r\n            ],\r\n            '$' + symbol\r\n        ]);\r\n    });\r\n    symbols.push(['\\u23CE ' + localize('new line'), '$nl']);\r\n    return symbols;\r\n};\r\n\r\nInputSlotDialogMorph.prototype.deleteFragment = function () {\r\n    this.fragment.isDeleted = true;\r\n    this.accept();\r\n};\r\n\r\nInputSlotDialogMorph.prototype.createSlotTypeButtons = function () {\r\n    // populate my 'slots' area with radio buttons, labels and input fields\r\n    var myself = this, defLabel, defInput, defSwitch,\r\n        oldFlag = Morph.prototype.trackChanges;\r\n\r\n    Morph.prototype.trackChanges = false;\r\n\r\n    // slot types\r\n    this.addSlotTypeButton('Object', '%obj');\r\n    this.addSlotTypeButton('Text', '%txt');\r\n    this.addSlotTypeButton('List', '%l');\r\n    this.addSlotTypeButton('Number', '%n');\r\n    this.addSlotTypeButton('Any type', '%s');\r\n    this.addSlotTypeButton('Boolean (T/F)', '%b');\r\n    this.addSlotTypeButton('Command\\n(inline)', '%cmdRing'); //'%cmd');\r\n    this.addSlotTypeButton('Reporter', '%repRing'); //'%r');\r\n    this.addSlotTypeButton('Predicate', '%predRing'); //'%p');\r\n    this.addSlotTypeButton('Command\\n(C-shape)', '%cs');\r\n    this.addSlotTypeButton('Any\\n(unevaluated)', '%anyUE');\r\n    this.addSlotTypeButton('Boolean\\n(unevaluated)', '%boolUE');\r\n\r\n    // arity and upvars\r\n    this.slots.radioButtonSingle = this.addSlotArityButton(\r\n        function () {myself.setSlotArity('single'); },\r\n        \"Single input.\",\r\n        function () {return myself.fragment.isSingleInput(); }\r\n    );\r\n    this.addSlotArityButton(\r\n        function () {myself.setSlotArity('multiple'); },\r\n        \"Multiple inputs (value is list of inputs)\",\r\n        function () {return myself.fragment.isMultipleInput(); }\r\n    );\r\n    this.addSlotArityButton(\r\n        function () {myself.setSlotArity('upvar'); },\r\n        \"Upvar - make internal variable visible to caller\",\r\n        function () {return myself.fragment.isUpvar(); }\r\n    );\r\n\r\n    // default values\r\n    defLabel = new StringMorph(localize('Default Value:'));\r\n    defLabel.fontSize = this.slots.radioButtonSingle.fontSize;\r\n    defLabel.setColor(new Color(255, 255, 255));\r\n    defLabel.refresh = function () {\r\n        if (myself.isExpanded && contains(\r\n                ['%s', '%n', '%txt', '%anyUE', '%b', '%boolUE'],\r\n                myself.fragment.type\r\n            )) {\r\n            defLabel.show();\r\n        } else {\r\n            defLabel.hide();\r\n        }\r\n    };\r\n    this.slots.defaultInputLabel = defLabel;\r\n    this.slots.add(defLabel);\r\n\r\n    defInput = new InputFieldMorph(this.fragment.defaultValue);\r\n    defInput.contents().fontSize = defLabel.fontSize;\r\n    defInput.contrast = 90;\r\n    defInput.contents().drawNew();\r\n    defInput.setWidth(50);\r\n    defInput.refresh = function () {\r\n        if (myself.isExpanded && contains(\r\n            ['%s', '%n', '%txt', '%anyUE'],\r\n            myself.fragment.type\r\n        )) {\r\n            defInput.show();\r\n            if (myself.fragment.type === '%n') {\r\n                defInput.setIsNumeric(true);\r\n            } else {\r\n                defInput.setIsNumeric(false);\r\n            }\r\n        } else {\r\n            defInput.hide();\r\n        }\r\n    };\r\n    this.slots.defaultInputField = defInput;\r\n    this.slots.add(defInput);\r\n    defInput.drawNew();\r\n\r\n    defSwitch = new BooleanSlotMorph(this.fragment.defaultValue);\r\n    defSwitch.refresh = function () {\r\n        if (myself.isExpanded && contains(\r\n            ['%b', '%boolUE'],\r\n            myself.fragment.type\r\n        )) {\r\n            defSwitch.show();\r\n        } else {\r\n            defSwitch.hide();\r\n        }\r\n    };\r\n    this.slots.defaultSwitch = defSwitch;\r\n    this.slots.add(defSwitch);\r\n    defSwitch.drawNew();\r\n\r\n    Morph.prototype.trackChanges = oldFlag;\r\n};\r\n\r\nInputSlotDialogMorph.prototype.setSlotType = function (type) {\r\n    this.fragment.setSingleInputType(type);\r\n    this.slots.children.forEach(function (c) {\r\n        c.refresh();\r\n    });\r\n    this.edit();\r\n};\r\n\r\nInputSlotDialogMorph.prototype.setSlotArity = function (arity) {\r\n    if (arity === 'single') {\r\n        this.fragment.setToSingleInput();\r\n    } else if (arity === 'multiple') {\r\n        this.fragment.setToMultipleInput();\r\n    } else if (arity === 'upvar') {\r\n        this.fragment.setToUpvar();\r\n        // hide other options - under construction\r\n    }\r\n    this.slots.children.forEach(function (c) {\r\n        c.refresh();\r\n    });\r\n    this.edit();\r\n};\r\n\r\nInputSlotDialogMorph.prototype.addSlotTypeButton = function (\r\n    label,\r\n    spec\r\n) {\r\n/*\r\n    this method produces a radio button with a picture of the\r\n    slot type indicated by \"spec\" and the \"label\" text to\r\n    its right.\r\n    Note that you can make the slot picture interactive (turn\r\n    it into a ToggleElementMorph by changing the\r\n\r\n        element.fullImage()\r\n\r\n    line to just\r\n\r\n        element\r\n\r\n    I've opted for the simpler representation because it reduces\r\n    the duration of time it takes for the InputSlotDialog to load\r\n    and show. But in the future computers and browsers may be\r\n    faster.\r\n*/\r\n    var myself = this,\r\n        action = function () {myself.setSlotType(spec); },\r\n        query,\r\n        element = new JaggedBlockMorph(spec),\r\n        button;\r\n\r\n    query = function () {\r\n        return myself.fragment.singleInputType() === spec;\r\n    };\r\n    element.setCategory(this.category);\r\n    element.rebuild();\r\n    button = new ToggleMorph(\r\n        'radiobutton',\r\n        this,\r\n        action,\r\n        label,\r\n        query,\r\n        null,\r\n        null,\r\n        this.cachedRadioButton,\r\n        element.fullImage(), // delete the \"fullImage()\" part for interactive\r\n        'rebuild'\r\n    );\r\n    button.edge = this.buttonEdge / 2;\r\n    button.outline = this.buttonOutline / 2;\r\n    button.outlineColor = this.buttonOutlineColor;\r\n    button.outlineGradient = this.buttonOutlineGradient;\r\n    button.drawNew();\r\n    button.fixLayout();\r\n    button.label.isBold = false;\r\n    button.label.setColor(new Color(255, 255, 255));\r\n    if (!this.cachedRadioButton) {\r\n        this.cachedRadioButton = button;\r\n    }\r\n    this.slots.add(button);\r\n    return button;\r\n};\r\n\r\nInputSlotDialogMorph.prototype.addSlotArityButton = function (\r\n    action,\r\n    label,\r\n    query\r\n) {\r\n    var button = new ToggleMorph(\r\n        'radiobutton',\r\n        this,\r\n        action,\r\n        label,\r\n        query,\r\n        null,\r\n        null,\r\n        this.cachedRadioButton\r\n    );\r\n    button.edge = this.buttonEdge / 2;\r\n    button.outline = this.buttonOutline / 2;\r\n    button.outlineColor = this.buttonOutlineColor;\r\n    button.outlineGradient = this.buttonOutlineGradient;\r\n\r\n    button.drawNew();\r\n    button.fixLayout();\r\n    // button.label.isBold = false;\r\n    button.label.setColor(new Color(255, 255, 255));\r\n    this.slots.add(button);\r\n    if (!this.cachedRadioButton) {\r\n        this.cachedRadioButton = button;\r\n    }\r\n    return button;\r\n};\r\n\r\nInputSlotDialogMorph.prototype.fixSlotsLayout = function () {\r\n    var slots = this.slots,\r\n        scale = SyntaxElementMorph.prototype.scale,\r\n        xPadding = 10 * scale,\r\n        ypadding = 14 * scale,\r\n        bh = (fontHeight(10) / 1.2 + 15) * scale, // slot type button height\r\n        ah = (fontHeight(10) / 1.2 + 10) * scale, // arity button height\r\n        size = 12, // number slot type radio buttons\r\n        cols = [\r\n            slots.left() + xPadding,\r\n            slots.left() + slots.width() / 3,\r\n            slots.left() + slots.width() * 2 / 3\r\n        ],\r\n        rows = [\r\n            slots.top() + ypadding,\r\n            slots.top() + ypadding + bh,\r\n            slots.top() + ypadding + bh * 2,\r\n            slots.top() + ypadding + bh * 3,\r\n            slots.top() + ypadding + bh * 4,\r\n            slots.top() + ypadding + bh * 5,\r\n\r\n            slots.top() + ypadding + bh * 5 + ah,\r\n            slots.top() + ypadding + bh * 5 + ah * 2\r\n        ],\r\n        idx,\r\n        row = -1,\r\n        col,\r\n        oldFlag = Morph.prototype.trackChanges;\r\n\r\n    Morph.prototype.trackChanges = false;\r\n\r\n    // slot types:\r\n\r\n    for (idx = 0; idx < size; idx += 1) {\r\n        col = idx % 3;\r\n        if (idx % 3 === 0) {row += 1; }\r\n        slots.children[idx].setPosition(new Point(\r\n            cols[col],\r\n            rows[row]\r\n        ));\r\n    }\r\n\r\n    // arity:\r\n\r\n    col = 0;\r\n    row = 5;\r\n    for (idx = size; idx < size + 3; idx += 1) {\r\n        slots.children[idx].setPosition(new Point(\r\n            cols[col],\r\n            rows[row + idx - size]\r\n        ));\r\n    }\r\n\r\n    // default input\r\n\r\n    this.slots.defaultInputLabel.setPosition(\r\n        this.slots.radioButtonSingle.label.topRight().add(new Point(5, 0))\r\n    );\r\n    this.slots.defaultInputField.setCenter(\r\n        this.slots.defaultInputLabel.center().add(new Point(\r\n            this.slots.defaultInputField.width() / 2\r\n                + this.slots.defaultInputLabel.width() / 2 + 5,\r\n            0\r\n        ))\r\n    );\r\n    this.slots.defaultSwitch.setCenter(\r\n        this.slots.defaultInputLabel.center().add(new Point(\r\n            this.slots.defaultSwitch.width() / 2\r\n                + this.slots.defaultInputLabel.width() / 2 + 5,\r\n            0\r\n        ))\r\n    );\r\n    Morph.prototype.trackChanges = oldFlag;\r\n    this.slots.changed();\r\n};\r\n\r\nInputSlotDialogMorph.prototype.addSlotsMenu = function () {\r\n    var myself = this;\r\n\r\n    this.slots.userMenu = function () {\r\n        if (contains(['%s', '%n', '%txt', '%anyUE'], myself.fragment.type)) {\r\n            var menu = new MenuMorph(myself),\r\n                on = '\\u2611 ',\r\n                off = '\\u2610 ';\r\n            menu.addItem('options...', 'editSlotOptions');\r\n            menu.addItem(\r\n                (myself.fragment.isReadOnly ? on : off) +\r\n                    localize('read-only'),\r\n                function () {myself.fragment.isReadOnly =\r\n                         !myself.fragment.isReadOnly;\r\n                         }\r\n            );\r\n            return menu;\r\n        }\r\n        return Morph.prototype.userMenu.call(myself);\r\n    };\r\n};\r\n\r\nInputSlotDialogMorph.prototype.editSlotOptions = function () {\r\n    var myself = this;\r\n    new DialogBoxMorph(\r\n        myself,\r\n        function (options) {\r\n            myself.fragment.options = options.trim();\r\n        },\r\n        myself\r\n    ).promptCode(\r\n        'Input Slot Options',\r\n        myself.fragment.options,\r\n        myself.world(),\r\n        null,\r\n        localize('Enter one option per line.\\n' +\r\n            'Optionally use \"=\" as key/value delimiter ' +\r\n            'and {} for submenus. ' +\r\n            'e.g.\\n   the answer=42')\r\n    );\r\n};\r\n\r\n// InputSlotDialogMorph hiding and showing:\r\n\r\n/*\r\n    override the inherited behavior to recursively hide/show all\r\n    children, so that my instances get restored correctly when\r\n    hiding/showing my parent.\r\n*/\r\n\r\nInputSlotDialogMorph.prototype.hide = function () {\r\n    this.isVisible = false;\r\n    this.changed();\r\n};\r\n\r\nInputSlotDialogMorph.prototype.show = function () {\r\n    this.isVisible = true;\r\n    this.changed();\r\n};\r\n\r\n// VariableDialogMorph ////////////////////////////////////////////////////\r\n\r\n// VariableDialogMorph inherits from DialogBoxMorph:\r\n\r\nVariableDialogMorph.prototype = new DialogBoxMorph();\r\nVariableDialogMorph.prototype.constructor = VariableDialogMorph;\r\nVariableDialogMorph.uber = DialogBoxMorph.prototype;\r\n\r\n// ... and some behavior from BlockDialogMorph\r\n\r\n// VariableDialogMorph instance creation:\r\n\r\nfunction VariableDialogMorph(target, action, environment) {\r\n    this.init(target, action, environment);\r\n}\r\n\r\nVariableDialogMorph.prototype.init = function (target, action, environment) {\r\n    // additional properties:\r\n    this.types = null;\r\n    this.isGlobal = true;\r\n\r\n    // initialize inherited properties:\r\n    BlockDialogMorph.uber.init.call(\r\n        this,\r\n        target,\r\n        action,\r\n        environment\r\n    );\r\n\r\n    // override inherited properites:\r\n    this.types = new AlignmentMorph('row', this.padding);\r\n    this.add(this.types);\r\n    this.createTypeButtons();\r\n};\r\n\r\nVariableDialogMorph.prototype.createTypeButtons = function () {\r\n    var myself = this;\r\n\r\n    this.addTypeButton(\r\n        function () {myself.setType('global'); },\r\n        \"for all sprites\",\r\n        function () {return myself.isGlobal; }\r\n    );\r\n    this.addTypeButton(\r\n        function () {myself.setType('local'); },\r\n        \"for this sprite only\",\r\n        function () {return !myself.isGlobal; }\r\n    );\r\n};\r\n\r\nVariableDialogMorph.prototype.addTypeButton\r\n    = BlockDialogMorph.prototype.addTypeButton;\r\n\r\nVariableDialogMorph.prototype.setType = function (varType) {\r\n    this.isGlobal = (varType === 'global');\r\n    this.types.children.forEach(function (c) {\r\n        c.refresh();\r\n    });\r\n    this.edit();\r\n};\r\n\r\nVariableDialogMorph.prototype.getInput = function () {\r\n    // answer a tuple: [varName, isGlobal]\r\n    var name = this.normalizeSpaces(this.body.getValue());\r\n    return name ? [name, this.isGlobal] : null;\r\n};\r\n\r\nVariableDialogMorph.prototype.fixLayout = function () {\r\n    var th = fontHeight(this.titleFontSize) + this.titlePadding * 2;\r\n\r\n    if (this.body) {\r\n        this.body.setPosition(this.position().add(new Point(\r\n            this.padding,\r\n            th + this.padding\r\n        )));\r\n        this.silentSetWidth(this.body.width() + this.padding * 2);\r\n        this.silentSetHeight(\r\n            this.body.height()\r\n                + this.padding * 2\r\n                + th\r\n        );\r\n    }\r\n\r\n    if (this.label) {\r\n        this.label.setCenter(this.center());\r\n        this.label.setTop(this.top() + (th - this.label.height()) / 2);\r\n    }\r\n\r\n    if (this.types) {\r\n        this.types.fixLayout();\r\n        this.silentSetHeight(\r\n            this.height()\r\n                    + this.types.height()\r\n                    + this.padding\r\n        );\r\n        this.silentSetWidth(Math.max(\r\n            this.width(),\r\n            this.types.width() + this.padding * 2\r\n        ));\r\n        this.types.setCenter(this.center());\r\n        if (this.body) {\r\n            this.types.setTop(this.body.bottom() + this.padding);\r\n        } else if (this.categories) {\r\n            this.types.setTop(this.categories.bottom() + this.padding);\r\n        }\r\n    }\r\n\r\n    if (this.buttons && (this.buttons.children.length > 0)) {\r\n        this.buttons.fixLayout();\r\n        this.silentSetHeight(\r\n            this.height()\r\n                    + this.buttons.height()\r\n                    + this.padding\r\n        );\r\n        this.buttons.setCenter(this.center());\r\n        this.buttons.setBottom(this.bottom() - this.padding);\r\n    }\r\n};\r\n\r\n// BlockExportDialogMorph ////////////////////////////////////////////////////\r\n\r\n// BlockExportDialogMorph inherits from DialogBoxMorph:\r\n\r\nBlockExportDialogMorph.prototype = new DialogBoxMorph();\r\nBlockExportDialogMorph.prototype.constructor = BlockExportDialogMorph;\r\nBlockExportDialogMorph.uber = DialogBoxMorph.prototype;\r\n\r\n// BlockExportDialogMorph constants:\r\n\r\nBlockExportDialogMorph.prototype.key = 'blockExport';\r\n\r\n// BlockExportDialogMorph instance creation:\r\n\r\nfunction BlockExportDialogMorph(serializer, blocks) {\r\n    this.init(serializer, blocks);\r\n}\r\n\r\nBlockExportDialogMorph.prototype.init = function (serializer, blocks) {\r\n    var myself = this;\r\n\r\n    // additional properties:\r\n    this.serializer = serializer;\r\n    this.blocks = blocks.slice(0);\r\n    this.handle = null;\r\n\r\n    // initialize inherited properties:\r\n    BlockExportDialogMorph.uber.init.call(\r\n        this,\r\n        null, // target\r\n        function () {myself.exportBlocks(); },\r\n        null // environment\r\n    );\r\n\r\n    // override inherited properites:\r\n    this.labelString = 'Export blocks';\r\n    this.createLabel();\r\n\r\n    // build contents\r\n    this.buildContents();\r\n};\r\n\r\nBlockExportDialogMorph.prototype.buildContents = function () {\r\n    var palette, x, y, block, checkBox, lastCat,\r\n        myself = this,\r\n        padding = 4;\r\n\r\n    // create plaette\r\n    palette = new ScrollFrameMorph(\r\n        null,\r\n        null,\r\n        SpriteMorph.prototype.sliderColor\r\n    );\r\n    palette.color = SpriteMorph.prototype.paletteColor;\r\n    palette.padding = padding;\r\n    palette.isDraggable = false;\r\n    palette.acceptsDrops = false;\r\n    palette.contents.acceptsDrops = false;\r\n\r\n    // populate palette\r\n    x = palette.left() + padding;\r\n    y = palette.top() + padding;\r\n    SpriteMorph.prototype.categories.forEach(function (category) {\r\n        myself.blocks.forEach(function (definition) {\r\n            if (definition.category === category) {\r\n                if (lastCat && (category !== lastCat)) {\r\n                    y += padding;\r\n                }\r\n                lastCat = category;\r\n                block = definition.templateInstance();\r\n                checkBox = new ToggleMorph(\r\n                    'checkbox',\r\n                    myself,\r\n                    function () {\r\n                        var idx = myself.blocks.indexOf(definition);\r\n                        if (idx > -1) {\r\n                            myself.blocks.splice(idx, 1);\r\n                        } else {\r\n                            myself.blocks.push(definition);\r\n                        }\r\n                    },\r\n                    null,\r\n                    function () {\r\n                        return contains(\r\n                            myself.blocks,\r\n                            definition\r\n                        );\r\n                    },\r\n                    null,\r\n                    null,\r\n                    null,\r\n                    block.fullImage()\r\n                );\r\n                checkBox.setPosition(new Point(\r\n                    x,\r\n                    y + (checkBox.top() - checkBox.toggleElement.top())\r\n                ));\r\n                palette.addContents(checkBox);\r\n                y += checkBox.fullBounds().height() + padding;\r\n            }\r\n        });\r\n    });\r\n\r\n    palette.scrollX(padding);\r\n    palette.scrollY(padding);\r\n    this.addBody(palette);\r\n\r\n    this.addButton('ok', 'OK');\r\n    this.addButton('cancel', 'Cancel');\r\n\r\n    this.setExtent(new Point(220, 300));\r\n    this.fixLayout();\r\n\r\n};\r\n\r\nBlockExportDialogMorph.prototype.popUp = function (wrrld) {\r\n    var world = wrrld || this.target.world();\r\n    if (world) {\r\n        BlockExportDialogMorph.uber.popUp.call(this, world);\r\n        this.handle = new HandleMorph(\r\n            this,\r\n            200,\r\n            220,\r\n            this.corner,\r\n            this.corner\r\n        );\r\n    }\r\n};\r\n\r\n// BlockExportDialogMorph menu\r\n\r\nBlockExportDialogMorph.prototype.userMenu = function () {\r\n    var menu = new MenuMorph(this, 'select');\r\n    menu.addItem('all', 'selectAll');\r\n    menu.addItem('none', 'selectNone');\r\n    return menu;\r\n};\r\n\r\nBlockExportDialogMorph.prototype.selectAll = function () {\r\n    this.body.contents.children.forEach(function (checkBox) {\r\n        if (!checkBox.state) {\r\n            checkBox.trigger();\r\n        }\r\n    });\r\n};\r\n\r\nBlockExportDialogMorph.prototype.selectNone = function () {\r\n    this.blocks = [];\r\n    this.body.contents.children.forEach(function (checkBox) {\r\n        checkBox.refresh();\r\n    });\r\n};\r\n\r\n// BlockExportDialogMorph ops\r\n\r\nBlockExportDialogMorph.prototype.exportBlocks = function () {\r\n    var str = this.serializer.serialize(this.blocks, true), // for library\r\n        ide = this.world().children[0];\r\n\r\n    if (this.blocks.length > 0) {\r\n        str = '<blocks app=\"'\r\n            + this.serializer.app\r\n            + '\" version=\"'\r\n            + this.serializer.version\r\n            + '\">'\r\n            + str\r\n            + '</blocks>';\r\n        ide.saveXMLAs(\r\n            str,\r\n            (ide.projectName || localize('untitled')) + ' ' + localize('blocks')\r\n        );\r\n    } else {\r\n        new DialogBoxMorph().inform(\r\n            'Export blocks',\r\n            'no blocks were selected',\r\n            this.world()\r\n        );\r\n    }\r\n};\r\n\r\n// BlockExportDialogMorph layout\r\n\r\nBlockExportDialogMorph.prototype.fixLayout\r\n    = BlockEditorMorph.prototype.fixLayout;\r\n\r\n// BlockImportDialogMorph ////////////////////////////////////////////////////\r\n\r\n// BlockImportDialogMorph inherits from DialogBoxMorph\r\n// and pseudo-inherits from BlockExportDialogMorph:\r\n\r\nBlockImportDialogMorph.prototype = new DialogBoxMorph();\r\nBlockImportDialogMorph.prototype.constructor = BlockImportDialogMorph;\r\nBlockImportDialogMorph.uber = DialogBoxMorph.prototype;\r\n\r\n// BlockImportDialogMorph constants:\r\n\r\nBlockImportDialogMorph.prototype.key = 'blockImport';\r\n\r\n// BlockImportDialogMorph instance creation:\r\n\r\nfunction BlockImportDialogMorph(blocks, target, name) {\r\n    this.init(blocks, target, name);\r\n}\r\n\r\nBlockImportDialogMorph.prototype.init = function (blocks, target, name) {\r\n    var myself = this;\r\n\r\n    // additional properties:\r\n    this.blocks = blocks.slice(0);\r\n    this.handle = null;\r\n\r\n    // initialize inherited properties:\r\n    BlockExportDialogMorph.uber.init.call(\r\n        this,\r\n        target,\r\n        function () {myself.importBlocks(name); },\r\n        null // environment\r\n    );\r\n\r\n    // override inherited properites:\r\n    this.labelString = localize('Import blocks')\r\n        + (name ? ': ' : '')\r\n        + name || '';\r\n    this.createLabel();\r\n\r\n    // build contents\r\n    this.buildContents();\r\n};\r\n\r\nBlockImportDialogMorph.prototype.buildContents\r\n    = BlockExportDialogMorph.prototype.buildContents;\r\n\r\nBlockImportDialogMorph.prototype.popUp\r\n    = BlockExportDialogMorph.prototype.popUp;\r\n\r\n// BlockImportDialogMorph menu\r\n\r\nBlockImportDialogMorph.prototype.userMenu\r\n    = BlockExportDialogMorph.prototype.userMenu;\r\n\r\nBlockImportDialogMorph.prototype.selectAll\r\n    = BlockExportDialogMorph.prototype.selectAll;\r\n\r\nBlockImportDialogMorph.prototype.selectNone\r\n    = BlockExportDialogMorph.prototype.selectNone;\r\n\r\n// BlockImportDialogMorph ops\r\n\r\nBlockImportDialogMorph.prototype.importBlocks = function (name) {\r\n    var ide = this.target.parentThatIsA(IDE_Morph);\r\n    if (!ide) {return; }\r\n    if (this.blocks.length > 0) {\r\n        this.blocks.forEach(function (def) {\r\n            def.receiver = ide.stage;\r\n            ide.stage.globalBlocks.push(def);\r\n            ide.stage.replaceDoubleDefinitionsFor(def);\r\n        });\r\n        ide.flushPaletteCache();\r\n        ide.refreshPalette();\r\n        ide.showMessage(\r\n            'Imported Blocks Module' + (name ? ': ' + name : '') + '.',\r\n            2\r\n        );\r\n    } else {\r\n        new DialogBoxMorph().inform(\r\n            'Import blocks',\r\n            'no blocks were selected',\r\n            this.world()\r\n        );\r\n    }\r\n};\r\n\r\n// BlockImportDialogMorph layout\r\n\r\nBlockImportDialogMorph.prototype.fixLayout\r\n    = BlockEditorMorph.prototype.fixLayout;\r\n\r\n// BlockRemovalDialogMorph ///////////////////////////////////////////////////\r\n\r\n// BlockRemovalDialogMorph inherits from DialogBoxMorph\r\n// and pseudo-inherits from BlockExportDialogMorph:\r\n\r\nBlockRemovalDialogMorph.prototype = new DialogBoxMorph();\r\nBlockRemovalDialogMorph.prototype.constructor = BlockImportDialogMorph;\r\nBlockRemovalDialogMorph.uber = DialogBoxMorph.prototype;\r\n\r\n// BlockRemovalDialogMorph constants:\r\n\r\nBlockRemovalDialogMorph.prototype.key = 'blockRemove';\r\n\r\n// BlockRemovalDialogMorph instance creation:\r\n\r\nfunction BlockRemovalDialogMorph(blocks, target) {\r\n    this.init(blocks, target);\r\n}\r\n\r\nBlockRemovalDialogMorph.prototype.init = function (blocks, target) {\r\n    var myself = this;\r\n\r\n    // additional properties:\r\n    this.blocks = blocks.slice(0);\r\n    this.handle = null;\r\n\r\n    // initialize inherited properties:\r\n    BlockExportDialogMorph.uber.init.call(\r\n        this,\r\n        target,\r\n        function () {myself.removeBlocks(); },\r\n        null // environment\r\n    );\r\n\r\n    // override inherited properites:\r\n    this.labelString = localize('Remove unused blocks')\r\n        + (name ? ': ' : '')\r\n        + name || '';\r\n    this.createLabel();\r\n\r\n    // build contents\r\n    this.buildContents();\r\n};\r\n\r\nBlockRemovalDialogMorph.prototype.buildContents\r\n    = BlockExportDialogMorph.prototype.buildContents;\r\n\r\nBlockRemovalDialogMorph.prototype.popUp\r\n    = BlockExportDialogMorph.prototype.popUp;\r\n\r\n// BlockRemovalDialogMorph menu\r\n\r\nBlockRemovalDialogMorph.prototype.userMenu\r\n    = BlockExportDialogMorph.prototype.userMenu;\r\n\r\nBlockRemovalDialogMorph.prototype.selectAll\r\n    = BlockExportDialogMorph.prototype.selectAll;\r\n\r\nBlockRemovalDialogMorph.prototype.selectNone\r\n    = BlockExportDialogMorph.prototype.selectNone;\r\n\r\n// BlockRemovalDialogMorph ops\r\n\r\nBlockRemovalDialogMorph.prototype.removeBlocks = function () {\r\n    var ide = this.target.parentThatIsA(IDE_Morph);\r\n    if (!ide) {return; }\r\n    if (this.blocks.length > 0) {\r\n        this.blocks.forEach(function (def) {\r\n            var idx = ide.stage.globalBlocks.indexOf(def);\r\n            if (idx !== -1) {\r\n                ide.stage.globalBlocks.splice(idx, 1);\r\n            }\r\n        });\r\n        ide.flushPaletteCache();\r\n        ide.refreshPalette();\r\n        ide.showMessage(\r\n            this.blocks.length + ' ' + localize('unused block(s) removed'),\r\n            2\r\n        );\r\n    } else {\r\n        new DialogBoxMorph().inform(\r\n            'Remove unused blocks',\r\n            'no blocks were selected',\r\n            this.world()\r\n        );\r\n    }\r\n};\r\n\r\n// BlockRemovalDialogMorph layout\r\n\r\nBlockRemovalDialogMorph.prototype.fixLayout\r\n    = BlockEditorMorph.prototype.fixLayout;\r\n//fin de byob.\r\n/*\r\n\r\n    tables.js\r\n\r\n    basic spreadsheet elements for Snap!\r\n\r\n    written by Jens Mönig\r\n    jens@moenig.org\r\n\r\n    Copyright (C) 2016 by Jens Mönig\r\n\r\n    This file is part of Snap!.\r\n\r\n    Snap! is free software: you can redistribute it and/or modify\r\n    it under the terms of the GNU Affero General Public License as\r\n    published by the Free Software Foundation, either version 3 of\r\n    the License, or (at your option) any later version.\r\n\r\n    This program is distributed in the hope that it will be useful,\r\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n    GNU Affero General Public License for more details.\r\n\r\n    You should have received a copy of the GNU Affero General Public License\r\n    along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n\r\n\r\n    prerequisites:\r\n    --------------\r\n    needs morphic.js, list.js, widgets.js, byob.js, threads\r\n\r\n\r\n    I. hierarchy\r\n    -------------\r\n    the following tree lists all constructors hierarchically,\r\n    indentation indicating inheritance. Refer to this list to get a\r\n    contextual overview:\r\n\r\n    DialogBoxMorph**\r\n        TableDialogMorph\r\n    Morph*\r\n        FrameMorph*\r\n            TableMorph\r\n        TableCellMorph\r\n        TableFrameMorph\r\n    Table\r\n\r\n    * from morphic.js\r\n    ** from widgets.js\r\n\r\n\r\n    II. toc\r\n    -------\r\n    the following list shows the order in which all constructors are\r\n    defined. Use this list to locate code in this document:\r\n\r\n    Table\r\n    TableCellMorph\r\n    TableMorph\r\n    TableFrameMorph\r\n    TableDialogMorph\r\n\r\n*/\r\n\r\n// Global settings /////////////////////////////////////////////////////\r\n\r\n/*global modules, Point, newCanvas, Morph, fontHeight, SliderMorph, List,\r\nMorphicPreferences, FrameMorph, HandleMorph, DialogBoxMorph, isString,\r\nSpriteMorph, Context, Costume, ArgMorph, BlockEditorMorph, SymbolMorph,\r\nSyntaxElementMorph, MenuMorph, SpriteBubbleMorph, SpeechBubbleMorph, Sound,\r\nCellMorph, ListWatcherMorph, isNil, BoxMorph, Variable, isSnapObject*/\r\n\r\nmodules.tables = '2017-September-01';\r\n\r\nvar Table;\r\nvar TableCellMorph;\r\nvar TableMorph;\r\nvar TableFrameMorph;\r\n\r\n// Table /////////////////////////////////////////////////////////////\r\n\r\n/*\r\n    Observable 2D data collections accessible by rows, columns and cells\r\n    with indices starting at 1.\r\n    currently only used for testing TableViews in Snap, because Snap\r\n    automatically displays 2D lists as tables.\r\n*/\r\n\r\nfunction Table(cols, rows) {\r\n    this.colCount = +cols;\r\n    this.rowCount = +rows;\r\n    this.colNames = [];\r\n    this.rowNames = [];\r\n    this.contents = new Array(+rows);\r\n    for (var i = 0; i < rows; i += 1) {\r\n        this.contents[i] = new Array(+cols);\r\n    }\r\n    this.lastChanged = Date.now();\r\n}\r\n\r\n// Table testing:\r\n\r\nTable.prototype.demo = function(aWorld) {\r\n    // new Table(50, 10000).demo(world)\r\n    var dlg;\r\n    this.fillWithTestData();\r\n    dlg = new TableDialogMorph(this);\r\n    dlg.popUp (aWorld);\r\n};\r\n\r\n// Table updating:\r\n\r\nTable.prototype.changed = function () {\r\n    this.lastChanged = Date.now();\r\n};\r\n\r\n// Table querying:\r\n\r\nTable.prototype.get = function (col, row) {\r\n    if (!col) {\r\n        if (!row) {return [this.rowCount]; }\r\n        return this.rowName(row);\r\n    } else if (!row) {\r\n        return this.colName(col);\r\n    }\r\n    if (col > this.colCount || row > this.rowCount) {return null; }\r\n    return (this.contents[row - 1] || [])[col - 1];\r\n};\r\n\r\nTable.prototype.row = function(row) {\r\n    return this.contents[row - 1];\r\n};\r\n\r\nTable.prototype.col = function(col) {\r\n    var dta = [],\r\n        c = col - 1,\r\n        i;\r\n    for (i = 0; i < this.rowCount; i += 1) {\r\n        dta.push(this.contents[i][c]);\r\n    }\r\n    return dta;\r\n};\r\n\r\nTable.prototype.colName = function (col) {\r\n    // answer the specified name or a capital letter A-Z\r\n    // repeated accordingly\r\n    if (col > this.colCount) {return null; }\r\n    var name = this.colNames[col - 1];\r\n    if (name !== undefined) {return name; }\r\n    return String.fromCharCode(64 + ((col % 26) || 26)).repeat(\r\n        Math.floor((col - 1) / 26) + 1\r\n    );\r\n};\r\n\r\nTable.prototype.rowName = function (row) {\r\n    // answer the specified name or row number\r\n    if (row > this.rowCount) {return null; }\r\n    return this.rowNames[row - 1] || row;\r\n};\r\n\r\nTable.prototype.rows = function () {\r\n    return this.rowCount;\r\n};\r\n\r\nTable.prototype.cols = function () {\r\n    return this.colCount;\r\n};\r\n\r\nTable.prototype.columnNames = function () {\r\n    return this.colNames;\r\n};\r\n\r\n// Table setting:\r\n\r\nTable.prototype.set = function (data, col, row) {\r\n    this.contents[row - 1][col - 1] = data;\r\n    this.changed();\r\n};\r\n\r\nTable.prototype.setRows = function (rowsArray, colNames, rowNames) {\r\n    this.contents = rowsArray;\r\n    if (colNames) {this.colNames = colNames; }\r\n    if (rowNames) {this.rowNames = rowNames; }\r\n    this.changed();\r\n};\r\n\r\nTable.prototype.setCols = function (colsArray, colNames, rowNames) {\r\n    var r, c;\r\n    for (c = 0; c < this.colCount; c += 1) {\r\n        for (r = 0; r < this.rowCount; r += 1) {\r\n            this.contents[r][c] = colsArray[c][r];\r\n        }\r\n    }\r\n    if (colNames) {this.colNames = colNames; }\r\n    if (rowNames) {this.rowNames = rowNames; }\r\n    this.changed();\r\n};\r\n\r\nTable.prototype.setColNames = function (array) {\r\n    this.colNames = array || [];\r\n    this.changed();\r\n};\r\n\r\nTable.prototype.setRowNames = function (array) {\r\n    this.rowNames = array || [];\r\n    this.changed();\r\n};\r\n\r\nTable.prototype.setColName = function (col, name) {\r\n    this.colNames[col + 1] = name;\r\n    this.changed();\r\n};\r\n\r\nTable.prototype.setRowName = function (row, name) {\r\n    this.rowNames[row + 1] = name;\r\n    this.changed();\r\n};\r\n\r\n// Table growing:\r\n\r\nTable.prototype.addRow = function (array, name) {\r\n    if (array) {\r\n        this.contents[this.rowCount] = array;\r\n    } else {\r\n        this.contents[this.rowCount] = new Array(this.rowCount);\r\n    }\r\n    this.rowNames[this.rowCount] = name;\r\n    this.rowCount += 1;\r\n    this.changed();\r\n};\r\n\r\nTable.prototype.addCol = function (array, name) {\r\n    var i;\r\n    if (array) {\r\n        for (i = 0; i < this.col; i += 1) {\r\n            this.contents[i][this.colCount] = array[i];\r\n        }\r\n    }\r\n    this.colNames[this.colCount] = name;\r\n    this.colCount += 1;\r\n    this.changed();\r\n};\r\n\r\n// Table converting:\r\n\r\nTable.prototype.toList = function () {\r\n    return new List(\r\n        this.contents.map(function (eachRow) {\r\n            return new List(eachRow);\r\n        })\r\n    );\r\n};\r\n\r\n// Table testing\r\n\r\nTable.prototype.fillWithTestData = function () {\r\n    var c, r;\r\n    for (c = 1; c <= this.colCount; c += 1) {\r\n        for (r = 1; r <= this.rowCount; r += 1) {\r\n            this.set (this.colName(c) + this.rowName(r), c, r);\r\n        }\r\n    }\r\n};\r\n\r\n// TableCellMorph /////////////////////////////////////////////////////////\r\n\r\n// basic fast data view, currently constrained to a single line of text\r\n\r\n// TableCellMorph inherits from Morph:\r\n\r\nTableCellMorph.prototype = new Morph();\r\nTableCellMorph.prototype.constructor = TableCellMorph;\r\nTableCellMorph.uber = Morph.prototype;\r\n\r\n// TableCellMorph global setting:\r\n\r\nTableCellMorph.prototype.listSymbol = ArgMorph.prototype.listIcon();\r\n\r\n// TableCellMorph instance creation:\r\n\r\nfunction TableCellMorph(data, extent, isLabel) {\r\n    this.init(data, extent, isLabel);\r\n}\r\n\r\nTableCellMorph.prototype.init = function (data, extent, isLabel) {\r\n    // additional properties:\r\n    this.data = data;\r\n    this.isLabel = isLabel || false;\r\n\r\n    // initialize inherited properties:\r\n    TableCellMorph.uber.init.call(this, true);\r\n\r\n    // override inherited properites:\r\n    this.noticesTransparentClick = true;\r\n    if (extent) {this.silentSetExtent(extent); }\r\n    this.drawNew();\r\n};\r\n\r\nTableCellMorph.prototype.setData = function (data, extent) {\r\n    this.data = data;\r\n    if (extent && (!extent.eq(this.extent()))) {\r\n        this.silentSetExtent(extent);\r\n        this.drawNew();\r\n    } else {\r\n        this.drawData();\r\n    }\r\n    // note: don't call changed(), let the TableMorph handle it instead\r\n};\r\n\r\nTableCellMorph.prototype.getData = function () {\r\n    return this.data instanceof Array ? this.data[0] : this.data;\r\n};\r\n\r\nTableCellMorph.prototype.drawNew = function () {\r\n    this.image = newCanvas(this.extent());\r\n    this.drawData();\r\n};\r\n\r\nTableCellMorph.prototype.drawData = function (lbl, bg) {\r\n    var dta = lbl || this.dataRepresentation(this.data),\r\n        context = this.image.getContext('2d'),\r\n        fontSize = SyntaxElementMorph.prototype.fontSize,\r\n        empty = TableMorph.prototype.highContrast ? 'rgb(220, 220, 220)'\r\n                : 'transparent',\r\n        orphaned = 'rgb(217, 77, 17)',\r\n        fontStyle = this.isLabel ?\r\n                (this.data instanceof Array ? 'italic'  : '')\r\n                        : this.shouldBeList() ? 'bold' : '',\r\n        font = fontStyle + ' ' + fontSize + 'px Helvetica, Arial, sans-serif',\r\n        background = bg || (this.isLabel ? empty\r\n                : (this.shouldBeList() ? orphaned\r\n                        : (this.isOvershooting() ? 'white'\r\n                                : (isNil(this.data) ? empty : 'white')))),\r\n        foreground = !this.isLabel && this.shouldBeList()? 'white' : 'black',\r\n        width = this.width(),\r\n        height = this.height(),\r\n        txtWidth,\r\n        txtHeight,\r\n        x,\r\n        y;\r\n\r\n    context.clearRect(0, 0, width, height);\r\n    context.fillStyle = background;\r\n    if (this.shouldBeList()) {\r\n        BoxMorph.prototype.outlinePath.call(\r\n            this, context, SyntaxElementMorph.prototype.corner + 1, 0\r\n        );\r\n        context.fill();\r\n    } else if (this.isOvershooting()) {\r\n        this.raggedBoxPath(context);\r\n        context.fill();\r\n    } else {\r\n        context.fillRect(0, 0, width, height);\r\n    }\r\n\r\n    if (!dta) {return; }\r\n    if (dta instanceof HTMLCanvasElement) {\r\n        x = Math.max((width - dta.width) / 2, 0);\r\n        y = Math.max((height - dta.height) / 2, 0);\r\n        context.shadowOffsetX = 4;\r\n        context.shadowOffsetY = 4;\r\n        context.shadowBlur = 4;\r\n        context.shadowColor = 'lightgray';\r\n        context.drawImage(dta, x, y);\r\n    } else { // text\r\n        context.font = font;\r\n        context.textAlign = 'left';\r\n        context.textBaseline = 'bottom';\r\n        txtWidth = context.measureText(dta).width;\r\n        txtHeight = fontHeight(fontSize);\r\n        context.fillStyle = foreground;\r\n        x = Math.max((width - txtWidth) / 2, 0);\r\n        y = Math.max((height - txtHeight) / 2, 0);\r\n        context.fillText(dta, x, txtHeight + y);\r\n    }\r\n};\r\n\r\nTableCellMorph.prototype.dataRepresentation = function (dta) {\r\n    if (dta instanceof Morph) {\r\n        if (isSnapObject(dta)) {\r\n            return dta.thumbnail(new Point(40, 40));\r\n        } else {\r\n            return dta.fullImageClassic();\r\n        }\r\n    } else if (isString(dta)) {\r\n        return dta.length > 100 ? dta.slice(0, 100) + '...' : dta;\r\n    } else if (typeof dta === 'number') {\r\n        return dta.toString();\r\n    } else if (typeof dta === 'boolean') {\r\n        return SpriteMorph.prototype.booleanMorph.call(\r\n            null,\r\n            dta\r\n        ).fullImage();\r\n    } else if (dta instanceof Array) {\r\n        return this.dataRepresentation(dta[0]);\r\n    } else if (dta instanceof Variable) {\r\n        return this.dataRepresentation(dta.value);\r\n    } else if (dta instanceof HTMLCanvasElement) {\r\n        return dta;\r\n    } else if (dta instanceof Context) {\r\n        return dta.image();\r\n    } else if (dta instanceof Costume) {\r\n        return dta.thumbnail(new Point(40, 40));\r\n    } else if (dta instanceof Sound) {\r\n        return new SymbolMorph('notes', 30).image;\r\n    } else if (dta instanceof List) {\r\n        return this.listSymbol;\r\n        // return new ListWatcherMorph(dta).fullImageClassic();\r\n    } else {\r\n        return dta ? dta.toString() : (dta === 0 ? '0' : null);\r\n    }\r\n};\r\n\r\nTableCellMorph.prototype.raggedBoxPath = function (context) {\r\n    var width = this.width(),\r\n        height = this.height(),\r\n        x = width * 0.75,\r\n        step = height / 6,\r\n        y = 0;\r\n    context.beginPath();\r\n    context.moveTo(0, 0);\r\n    context.lineTo(width, 0);\r\n    for (y = 0; y < height; y += (step * 2)) {\r\n        context.lineTo(x, y + step);\r\n        context.lineTo(width, y + (step * 2));\r\n    }\r\n    context.lineTo(width, height);\r\n    context.lineTo(0, height);\r\n    context.closePath();\r\n};\r\n\r\nTableCellMorph.prototype.shouldBeList = function () {\r\n    return this.data instanceof Array;\r\n};\r\n\r\nTableCellMorph.prototype.isOvershooting = function () {\r\n    return this.data instanceof Variable;\r\n};\r\n\r\n// TableCellMorph events:\r\n\r\nTableCellMorph.prototype.mouseDoubleClick = function (pos) {\r\n    if (this.data instanceof Table || this.data instanceof List) {\r\n        new TableDialogMorph(this.data).popUp(this.world());\r\n    } else if (this.data instanceof Array && this.data[0] instanceof List) {\r\n        new TableDialogMorph(this.data[0]).popUp(this.world());\r\n    } else {\r\n        this.escalateEvent('mouseDoubleClick', pos);\r\n    }\r\n};\r\n\r\nTableCellMorph.prototype.mouseEnter = function () {\r\n    var tm, x, c;\r\n    if (this.isLabel) {\r\n        tm = this.parentThatIsA(TableMorph);\r\n        x = tm.world().hand.left() - tm.left();\r\n        c = tm.columnAt(x);\r\n        if (c > 0) {\r\n            this.drawData(c, 'rgb(220, 220, 250)');\r\n            this.changed();\r\n        }\r\n    }\r\n};\r\n\r\nTableCellMorph.prototype.mouseLeave = function () {\r\n    if (this.isLabel) {\r\n        this.drawData();\r\n        this.changed();\r\n    }\r\n};\r\n\r\n// TableMorph //////////////////////////////////////////////////////////\r\n\r\n// TableMorph inherits from FrameMorph:\r\n\r\nTableMorph.prototype = new FrameMorph();\r\nTableMorph.prototype.constructor = TableMorph;\r\nTableMorph.uber = FrameMorph.prototype;\r\n\r\n// TableMorph preferences settings:\r\n\r\nTableMorph.prototype.highContrast = false;\r\n\r\n// TableMorph instance creation:\r\n\r\nfunction TableMorph(\r\n    table,\r\n    // optional parameters below this line\r\n    scrollBarSize,\r\n    extent,\r\n    startRow,\r\n    startCol,\r\n    globalColWidth,\r\n    colWidths,\r\n    rowHeight,\r\n    colLabelHeight,\r\n    padding\r\n) {\r\n    this.init(\r\n        table,\r\n        scrollBarSize,\r\n        extent,\r\n        startRow,\r\n        startCol,\r\n        globalColWidth,\r\n        colWidths,\r\n        rowHeight,\r\n        colLabelHeight,\r\n        padding\r\n    );\r\n}\r\n\r\nTableMorph.prototype.init = function (\r\n    table,\r\n    scrollBarSize,\r\n    extent,\r\n    startRow,\r\n    startCol,\r\n    globalColWidth,\r\n    colWidths,\r\n    rowHeight,\r\n    colLabelHeight,\r\n    padding\r\n) {\r\n    // additional properties:\r\n    this.table = table;\r\n    this.scrollBarSize = scrollBarSize || MorphicPreferences.scrollBarSize;\r\n    this.startRow = startRow || 1;\r\n    this.startCol = startCol || 1;\r\n    this.textHeight = Math.ceil(\r\n        fontHeight(SyntaxElementMorph.prototype.fontSize) * 1.3\r\n    );\r\n    this.rowHeight = rowHeight || this.textHeight;\r\n    this.colWidths = colWidths || [];\r\n    this.globalColWidth = globalColWidth || Math.ceil(this.textHeight * 3.5);\r\n    this.colLabelHeight = colLabelHeight || this.textHeight;\r\n    this.padding = padding || SyntaxElementMorph.prototype.scale; //1;\r\n    this.tableVersion = this.table.lastChanged;\r\n\r\n    // scroll bars:\r\n    this.hBar = null;\r\n    this.vBar = null;\r\n\r\n    // cached properties (do not persist):\r\n    this.rowLabelWidth = 0;\r\n    this.columns = []; // relative left positions\r\n    this.rows = 0;\r\n\r\n    // cached properties for scrolling and resizing (do not persist):\r\n    this.maxStartRow = null;\r\n    this.maxStartCol = null;\r\n    this.dragAnchor = null;\r\n    this.resizeAnchor = null;\r\n    this.resizeCol = null;\r\n    this.resizeRow = null;\r\n\r\n    // cached property for updating (don not persist):\r\n    this.wantsUpdate = false;\r\n\r\n    // initialize inherited properties:\r\n    // make sure not to draw anything just yet\r\n    // therefore omit FrameMorph's properties (not needed here)\r\n    // and only initialize properties inherited from Morph:\r\n    Morph.prototype.init.call(this, true);\r\n\r\n    // override inherited properites:\r\n    // this.fps = 3; // this will slow down the sliders (!)\r\n    if (extent) {this.silentSetExtent(extent); }\r\n    this.initScrollBars();\r\n    this.drawNew();\r\n};\r\n\r\nTableMorph.prototype.initScrollBars = function () {\r\n    var myself = this;\r\n\r\n    // horizontal scroll bar - scrolls columns\r\n    this.hBar = new SliderMorph(\r\n        1, // start\r\n        null, // stop\r\n        null, // value\r\n        null, // size\r\n        'horizontal'\r\n    );\r\n    this.hBar.setHeight(this.scrollBarSize);\r\n    this.hBar.action = function (num) {\r\n        myself.showData(num, null, true);\r\n    };\r\n    this.hBar.isDraggable = false;\r\n    this.add(this.hBar);\r\n\r\n    // vertical scroll bar - scrolls rows\r\n    this.vBar = new SliderMorph(\r\n        1, // start\r\n        null, // stop\r\n        null, // value\r\n        null, // size\r\n        'vertical'\r\n    );\r\n    this.vBar.setWidth(this.scrollBarSize);\r\n    this.vBar.action = function (num) {\r\n        myself.showData(null, num, true);\r\n    };\r\n    this.vBar.isDraggable = false;\r\n    this.add(this.vBar);\r\n};\r\n\r\nTableMorph.prototype.updateScrollBars = function () {\r\n    if (this.maxStartCol === 1) {\r\n        this.hBar.hide();\r\n    } else {\r\n        this.hBar.show();\r\n        this.hBar.stop = this.maxStartCol;\r\n        this.hBar.value = this.startCol;\r\n        this.hBar.size = Math.max(\r\n            this.hBar.rangeSize() * this.columns.length / this.table.cols(),\r\n            this.hBar.rangeSize() / 10\r\n        );\r\n        this.hBar.drawNew();\r\n    }\r\n\r\n    this.vBar.stop = this.maxStartRow;\r\n    this.vBar.value = this.startRow;\r\n    if (this.maxStartRow === 1) {\r\n        this.vBar.hide();\r\n    } else {\r\n        this.vBar.show();\r\n        this.vBar.size = Math.max(\r\n            this.vBar.rangeSize() * this.rows / this.table.rows(),\r\n            this.vBar.rangeSize() / 10\r\n        );\r\n        this.vBar.drawNew();\r\n    }\r\n};\r\n\r\nTableMorph.prototype.drawNew = function () {\r\n    var context, w, i;\r\n    this.image = newCanvas(this.extent());\r\n    context = this.image.getContext('2d');\r\n    context.fillStyle = 'rgb(220, 220, 220)';\r\n    BoxMorph.prototype.outlinePath.call(\r\n        this, context, SyntaxElementMorph.prototype.corner + 1, 0\r\n    );\r\n    context.fill();\r\n\r\n    // determine and cache layout information\r\n    this.rowLabelWidth = this.rowLabelsWidth();\r\n    this.columns = this.columnsLayout();\r\n    this.rows = this.visibleRows();\r\n\r\n    // optionally draw grid\r\n    if (this.highContrast && this.table.cols() > 1) {\r\n        w = this.padding;\r\n        for (i = this.startCol; i <= this.table.cols(); i += 1) {\r\n            w += (this.colWidth(i) + this.padding);\r\n        }\r\n        context.fillStyle = 'darkGray';\r\n        context.fillRect(\r\n            this.padding + this.rowLabelWidth,\r\n            this.padding + this.colLabelHeight,\r\n            w,\r\n            (this.rowHeight + this.padding) *\r\n                (this.table.rows() + 1 - this.startRow) +\r\n                this.padding\r\n        );\r\n    }\r\n\r\n    this.buildCells();\r\n\r\n    // fix scroll bars layout\r\n    this.hBar.setWidth(this.width() - this.vBar.width());\r\n    this.hBar.setLeft(this.left());\r\n    this.hBar.setBottom(this.bottom());\r\n    this.vBar.setHeight(this.height() - this.hBar.height());\r\n    this.vBar.setRight(this.right());\r\n    this.vBar.setTop(this.top());\r\n};\r\n\r\nTableMorph.prototype.buildCells = function () {\r\n    // also populate cells with the correct data and\r\n    // arrange the layout of cells all in one pass\r\n    var cell, r, c,\r\n        pos = this.position();\r\n\r\n    // delete all existing cells\r\n    this.children = [];\r\n\r\n    // create cells\r\n    for (c = 0; c <= this.columns.length; c += 1) {\r\n        for (r = 0; r <= this.rows; r += 1) {\r\n            cell = new TableCellMorph(\r\n                this.table.get(\r\n                    !c ? c : c + this.startCol - 1,\r\n                    !r ? r : r + this.startRow - 1\r\n                ),\r\n                new Point(\r\n                    !c ? this.rowLabelWidth\r\n                            : this.colWidth(c + this.startCol - 1),\r\n                    !r ? this.colLabelHeight : this.rowHeight\r\n                ),\r\n                !(r && c), // isLabel\r\n                false // should be list\r\n            );\r\n            cell.setPosition(\r\n                new Point(\r\n                    !c ? this.padding\r\n                            : this.columns[c - 1],\r\n                    !r ? this.padding :\r\n                            this.padding * 2 + this.colLabelHeight +\r\n                                ((r - 1) * (this.rowHeight + this.padding))\r\n                ).add(pos)\r\n            );\r\n            this.add(cell);\r\n            if (isSnapObject(cell.getData())) {\r\n                this.wantsUpdate = true;\r\n            }\r\n        }\r\n    }\r\n    this.add(this.hBar);\r\n    this.add(this.vBar);\r\n    this.updateScrollBars();\r\n    this.changed();\r\n};\r\n\r\nTableMorph.prototype.drawData = function (noScrollUpdate) {\r\n    // redraw all cells with their current data or label\r\n    var cell, cellIdx = 0, r, c;\r\n    for (c = 0; c <= this.columns.length; c += 1) {\r\n        for (r = 0; r <= this.rows; r += 1) {\r\n            cell = this.children[cellIdx];\r\n            cellIdx += 1;\r\n            cell.setData(\r\n                this.table.get(\r\n                    !c ? c : c + this.startCol - 1,\r\n                    !r ? r : r + this.startRow - 1\r\n                )\r\n            );\r\n            if (isSnapObject(cell.getData())) {\r\n                this.wantsUpdate = true;\r\n            }\r\n        }\r\n    }\r\n    if (!noScrollUpdate) {this.updateScrollBars(); }\r\n    this.changed();\r\n};\r\n\r\n// TableMorph scrolling\r\n\r\nTableMorph.prototype.scroll = function (xSteps, ySteps) {\r\n    this.showData(\r\n        Math.min(\r\n            this.maxStartCol,\r\n            Math.max(1, this.startCol + Math.round(xSteps))\r\n        ),\r\n        Math.min(\r\n            this.maxStartRow,\r\n            Math.max(1, this.startRow + Math.round(ySteps))\r\n        )\r\n    );\r\n    this.updateScrollBars();\r\n};\r\n\r\nTableMorph.prototype.showData = function (startCol, startRow, noScrollUpdate) {\r\n    var c = startCol || this.startCol,\r\n        r = startRow || this.startRow;\r\n    if (c === this.startCol) {\r\n        if (r === this.startRow) {return; } // no change\r\n        this.startRow = r;\r\n        this.rows = this.visibleRows();\r\n        this.drawData(noScrollUpdate);\r\n    } else {\r\n        this.startCol = c;\r\n        this.startRow = r;\r\n        this.rows = this.visibleRows();\r\n        if (this.colWidths.length) {\r\n            this.columns = this.columnsLayout();\r\n            this.buildCells();\r\n        } else {\r\n            this.drawData(noScrollUpdate);\r\n        }\r\n    }\r\n};\r\n\r\n// TableMorph stepping\r\n\r\nTableMorph.prototype.step = function () {\r\n    if (this.dragAnchor) {\r\n        this.shiftCells(this.world().hand.position());\r\n    } else if (this.resizeAnchor) {\r\n        this.resizeCells(this.world().hand.position());\r\n    }\r\n    this.update();\r\n};\r\n\r\nTableMorph.prototype.update = function () {\r\n    var oldCols, oldRows,\r\n        version = this.table instanceof List ?\r\n            this.table.version(this.startRow, this.rows)\r\n                    : this.table.lastChanged;\r\n    if (this.tableVersion === version && !this.wantsUpdate) {\r\n        return;\r\n    }\r\n    this.wantsUpdate = false;\r\n    if (this.table instanceof List) {\r\n        oldCols = this.columns.length;\r\n        oldRows = this.rows;\r\n        this.rowLabelWidth = this.rowLabelsWidth();\r\n        this.columns = this.columnsLayout();\r\n        this.rows = this.visibleRows();\r\n        if (this.columns.length !== oldCols || (this.rows !== oldRows)) {\r\n            this.buildCells();\r\n        } else {\r\n            this.drawData();\r\n        }\r\n    } else { // Table\r\n        this.drawData();\r\n    }\r\n    this.tableVersion = version;\r\n};\r\n\r\n// TableMorph layout helpers (all private):\r\n\r\nTableMorph.prototype.rowLabelsWidth = function () {\r\n    var ctx = newCanvas().getContext('2d');\r\n    ctx.font = 'italic ' + SyntaxElementMorph.prototype.fontSize +\r\n        'px Helvetica, Arial, sans-serif';\r\n    return Math.max(\r\n        0,\r\n        Math.max.apply(\r\n            null,\r\n            this.table.columnNames().map(function (name) {\r\n                return name ? ctx.measureText(name).width : 0;\r\n            })\r\n        )\r\n    ) || ctx.measureText(this.table.rows().toString()).width +\r\n            (6 * SyntaxElementMorph.prototype.scale);\r\n};\r\n\r\nTableMorph.prototype.columnsLayout = function () {\r\n    // determines and maxStartCol and\r\n    // modifies startCol if needed\r\n    var c = [],\r\n        x = this.padding * 2 + this.rowLabelWidth,\r\n        colNum,\r\n        w;\r\n\r\n    // determine maxStartCol\r\n    colNum = this.table.cols();\r\n    w = x;\r\n    while (w < this.width() && colNum > 0) {\r\n        w += this.colWidth(colNum);\r\n        colNum -= 1;\r\n    }\r\n    if (colNum === 0 && (w < this.width())) {\r\n        this.maxStartCol = 1;\r\n    } else {\r\n        this.maxStartCol = Math.min(colNum + 2, this.table.cols());\r\n    }\r\n\r\n    // determine the left position of every shown column\r\n    this.startCol = Math.min(this.startCol, this.maxStartCol);\r\n    colNum = this.startCol;\r\n    while (x < this.width() &&\r\n        (colNum < (this.table.cols() + this.startCol))\r\n    ) {\r\n        w = this.colWidth(colNum);\r\n        c.push(x);\r\n        x += w;\r\n        x += this.padding;\r\n        colNum += 1;\r\n    }\r\n    return c;\r\n};\r\n\r\nTableMorph.prototype.colWidth = function (col) {\r\n    return this.colWidths[col - 1] || this.globalColWidth;\r\n};\r\n\r\nTableMorph.prototype.visibleRows = function () {\r\n    // determines maxStartRow and\r\n    // modifies startRow if needed\r\n    var rest = this.height() - this.colLabelHeight - this.padding,\r\n        possible;\r\n    if (rest < 0) {return 0; }\r\n    possible = Math.ceil(rest / (this.rowHeight + this.padding));\r\n    this.maxStartRow = Math.max(1, this.table.rows() - possible + 2);\r\n    this.startRow = Math.min(this.startRow, this.maxStartRow);\r\n    return Math.min(this.table.rows(), possible);\r\n};\r\n\r\nTableMorph.prototype.globalExtent = function () {\r\n    var i,\r\n        w = this.rowLabelsWidth() + 2,\r\n        cols = this.table.cols();\r\n    for (i = 0; i < cols; i += 1) {\r\n        w += this.colWidth(i + 1);\r\n        w += this.padding;\r\n    }\r\n    if (cols === 1) {\r\n        w += this.scrollBarSize;\r\n        w += this.padding * 2;\r\n    }\r\n    return new Point(\r\n        w + this.padding,\r\n        this.colLabelHeight + (this.padding * 2) +\r\n            ((this.rowHeight + this.padding) * this.table.rows())\r\n    );\r\n};\r\n\r\n// TableMorph events:\r\n\r\nTableMorph.prototype.mouseScroll = function (y, x) {\r\n    this.scroll(\r\n        -(+x * MorphicPreferences.mouseScrollAmount / 4),\r\n        -(+y * MorphicPreferences.mouseScrollAmount)\r\n    );\r\n};\r\n\r\nTableMorph.prototype.mouseDownLeft = function (pos) {\r\n    var rel = pos.subtract(this.position());\r\n    if (rel.x <= this.rowLabelWidth || (rel.y <= this.colLabelHeight)) {\r\n        // resize cells\r\n        if (this.world().currentKey === 16) { // shiftClicked\r\n            this.resizeCol = 0;\r\n        } else {\r\n            this.resizeCol = this.columnAt(rel.x);\r\n        }\r\n        this.resizeRow = (rel.y > (this.colLabelHeight));\r\n        this.resizeAnchor = pos;\r\n    } else {\r\n        // shift the viewed portion\r\n        this.resizeRow = null;\r\n        this.dragAnchor = pos;\r\n    }\r\n};\r\n\r\nTableMorph.prototype.mouseClickLeft = function (pos) {\r\n    this.dragAnchor = null;\r\n    this.resizeAnchor = null;\r\n        this.resizeRow = null;\r\n};\r\n\r\nTableMorph.prototype.mouseLeaveDragging = function (pos) {\r\n    this.dragAnchor = null;\r\n    this.resizeAnchor = null;\r\n        this.resizeRow = null;\r\n};\r\n\r\nTableMorph.prototype.mouseDoubleClick = function (pos) {\r\n    if (this.parentThatIsA(TableDialogMorph)) {\r\n        this.escalateEvent('mouseDoubleClick', pos);\r\n    } else {\r\n        new TableDialogMorph(\r\n            this.table,\r\n            this.globalColWidth,\r\n            this.colWidths,\r\n            this.rowHeight\r\n        ).popUp(this.world());\r\n    }\r\n};\r\n\r\n// TableMorph scrolling and resizing cells by \"hand\"\r\n\r\nTableMorph.prototype.shiftCells = function (pos) {\r\n    var delta = this.dragAnchor.subtract(pos),\r\n        scrollX = Math.round(delta.x / this.globalColWidth),\r\n        scrollY = Math.round(delta.y / this.rowHeight);\r\n    if (scrollX || scrollY) {\r\n        this.scroll(scrollX, scrollY);\r\n        this.dragAnchor = pos;\r\n    }\r\n};\r\n\r\nTableMorph.prototype.resizeCells = function (pos) {\r\n    var delta = pos.subtract(this.resizeAnchor),\r\n        i;\r\n\r\n    if (this.resizeCol) {\r\n        this.colWidths[this.resizeCol - 1] = Math.max(\r\n            16,\r\n            (this.colWidths[this.resizeCol - 1] || this.globalColWidth) +\r\n                delta.x\r\n        );\r\n    } else if (this.resizeRow) {\r\n        this.rowHeight = Math.max(16, this.rowHeight + delta.y);\r\n    } else {\r\n        this.globalColWidth = Math.max(16, this.globalColWidth + delta.x);\r\n        for (i = 0; i < this.colWidths.length; i += 1) {\r\n            if (this.colWidths[i]) {\r\n                this.colWidths[i] = Math.max(\r\n                    16,\r\n                    this.colWidths[i] + delta.x\r\n                );\r\n            }\r\n        }\r\n    }\r\n    if (this.highContrast) {\r\n        this.drawNew();\r\n    } else {\r\n        this.rowLabelWidth = this.rowLabelsWidth();\r\n        this.columns = this.columnsLayout();\r\n        this.rows = this.visibleRows();\r\n        this.buildCells();\r\n    }\r\n    this.resizeAnchor = pos;\r\n};\r\n\r\nTableMorph.prototype.columnAt = function (relativeX) {\r\n    var c = 0;\r\n    if (relativeX < (this.columns[0])) {\r\n        return 0;\r\n    }\r\n    while (relativeX > this.columns[c]) {\r\n        c += 1;\r\n    }\r\n    return c + this.startCol - 1;\r\n};\r\n\r\n// TableMorph context menu\r\n\r\nTableMorph.prototype.userMenu = function () {\r\n    var menu = new MenuMorph(this);\r\n    if (this.parentThatIsA(TableDialogMorph)) {\r\n        if (this.colWidths.length) {\r\n            menu.addItem('reset columns', 'resetColumns');\r\n            menu.addLine();\r\n        }\r\n        menu.addItem('open in another dialog...', 'openInDialog');\r\n        return menu;\r\n    }\r\n\r\n    if (this.colWidths.length) {\r\n        menu.addItem('reset columns', 'resetColumns');\r\n    }\r\n    menu.addItem('list view...', 'showListView');\r\n    menu.addLine();\r\n    menu.addItem('open in dialog...', 'openInDialog');\r\n    return menu;\r\n};\r\n\r\nTableMorph.prototype.resetColumns = function () {\r\n    this.colWidths = [];\r\n    if (this.highContrast) {\r\n        this.drawNew();\r\n    } else {\r\n        this.rowLabelWidth = this.rowLabelsWidth();\r\n        this.columns = this.columnsLayout();\r\n        this.rows = this.visibleRows();\r\n        this.buildCells();\r\n    }\r\n};\r\n\r\nTableMorph.prototype.openInDialog = function () {\r\n    new TableDialogMorph(\r\n        this.table,\r\n        this.globalColWidth,\r\n        this.colWidths,\r\n        this.rowHeight\r\n    ).popUp(this.world());\r\n};\r\n\r\nTableMorph.prototype.showListView = function () {\r\n    var view = this.parentThatIsAnyOf([\r\n        SpriteBubbleMorph,\r\n        SpeechBubbleMorph,\r\n        CellMorph\r\n    ]);\r\n    if (!view) {return; }\r\n    if (view instanceof SpriteBubbleMorph) {\r\n        view.changed();\r\n        view.drawNew(true);\r\n    } else if (view instanceof SpeechBubbleMorph) {\r\n        view.contents = new ListWatcherMorph(this.table);\r\n        view.contents.step = view.contents.update;\r\n        view.contents.expand(this.extent());\r\n        view.drawNew(true);\r\n    } else { // watcher cell\r\n        view.drawNew(true);\r\n        view.contentsMorph.expand(this.extent());\r\n    }\r\n    view.fixLayout();\r\n};\r\n\r\n// TableMorph updating:\r\n\r\nTableMorph.prototype.show = function () {\r\n    TableMorph.uber.show.call(this);\r\n    this.updateScrollBars();\r\n};\r\n\r\n// TableFrameMorph /////////////////////////////////////////////////////////\r\n\r\n// a UI for table morphs, for re-sizing tables and their columns\r\n\r\n// TableFrameMorph inherits from Morph:\r\n\r\nTableFrameMorph.prototype = new Morph();\r\nTableFrameMorph.prototype.constructor = TableFrameMorph;\r\nTableFrameMorph.uber = Morph.prototype;\r\n\r\n// TableFrameMorph instance creation:\r\n\r\nfunction TableFrameMorph(tableMorph, noResize) {\r\n    this.init(tableMorph, noResize);\r\n}\r\n\r\nTableFrameMorph.prototype.init = function (tableMorph, noResize) {\r\n    // additional properties:\r\n    this.tableMorph = tableMorph;\r\n    this.handle = null;\r\n\r\n    // initialize inherited properties:\r\n    TableFrameMorph.uber.init.call(this, true);\r\n\r\n    // override inherited properites:\r\n    this.color = 'transparent';\r\n    this.noticesTransparentClick = false;\r\n    this.bounds = this.tableMorph.bounds.copy();\r\n    this.add(this.tableMorph);\r\n\r\n    if (!noResize) {\r\n        this.handle = new HandleMorph(\r\n            this, // target\r\n            80, // minX\r\n            25, // minY\r\n            null, // insetX\r\n            null // insetY\r\n        );\r\n    }\r\n\r\n    this.drawNew();\r\n};\r\n\r\nTableFrameMorph.prototype.fixLayout = function () {\r\n    var ext = this.extent();\r\n    if (this.tableMorph.extent().eq(ext)) {return; }\r\n    this.tableMorph.setExtent(this.extent());\r\n    if (this.parent && this.parent.fixLayout) {\r\n        this.parent.fixLayout();\r\n    }\r\n};\r\n\r\nTableFrameMorph.prototype.setExtent = function (aPoint, silently) {\r\n    TableFrameMorph.uber.setExtent.call(this, aPoint, silently);\r\n    this.fixLayout();\r\n};\r\n\r\n// TableFrameMorph result / speech balloon support:\r\n\r\nTableFrameMorph.prototype.expand = function (maxExtent) {\r\n    var ext = this.tableMorph.globalExtent();\r\n    if (maxExtent) {\r\n        ext = ext.min(maxExtent);\r\n    }\r\n    this.setExtent(ext);\r\n    this.handle.setRight(this.right());\r\n    this.handle.setBottom(this.bottom());\r\n};\r\n\r\n// TableDialogMorph inherits from DialogBoxMorph:\r\n\r\nTableDialogMorph.prototype = new DialogBoxMorph();\r\nTableDialogMorph.prototype.constructor = TableDialogMorph;\r\nTableDialogMorph.uber = DialogBoxMorph.prototype;\r\n\r\n// TableDialogMorph instance creation:\r\n\r\nfunction TableDialogMorph(data, globalColWidth, colWidths, rowHeight) {\r\n    this.init(data, globalColWidth, colWidths, rowHeight);\r\n}\r\n\r\nTableDialogMorph.prototype.init = function (\r\n    data,\r\n    globalColWidth,\r\n    colWidths,\r\n    rowHeight\r\n) {\r\n    // additional properties:\r\n    this.handle = null;\r\n    this.data = data;\r\n    this.tableView = null;\r\n\r\n    // initialize inherited properties:\r\n    TableDialogMorph.uber.init.call(this);\r\n\r\n    // override inherited properites:\r\n    this.labelString = 'Table view';\r\n    this.createLabel();\r\n\r\n    // build contents\r\n    this.buildContents(data, globalColWidth, colWidths, rowHeight);\r\n};\r\n\r\nTableDialogMorph.prototype.buildContents = function (\r\n    data,\r\n    globalColWidth,\r\n    colWidths,\r\n    rowHeight\r\n) {\r\n    this.tableView = new TableMorph(\r\n        data,\r\n        null, // scrollBarSize\r\n        null, // extent\r\n        null, // startRow\r\n        null, // startCol\r\n        globalColWidth,\r\n        colWidths,\r\n        rowHeight,\r\n        null, // colLabelHeight\r\n        null // padding\r\n    );\r\n    this.addBody(new TableFrameMorph(this.tableView, true));\r\n    this.addButton('ok', 'OK');\r\n};\r\n\r\nTableDialogMorph.prototype.setInitialDimensions = function () {\r\n    var world = this.world(),\r\n        mex = world.extent().subtract(new Point(this.padding, this.padding)),\r\n        th = fontHeight(this.titleFontSize) + this.titlePadding * 3, // hm...\r\n        bh = this.buttons.height();\r\n    this.setExtent(\r\n        this.tableView.globalExtent().add(\r\n            new Point(this.padding * 2, this.padding * 2 + th + bh)\r\n        ).min(mex).max(new Point(100, 100))\r\n    );\r\n    this.setCenter(this.world().center());\r\n};\r\n\r\nTableDialogMorph.prototype.popUp = function (world) {\r\n    if (world) {\r\n        TableDialogMorph.uber.popUp.call(this, world);\r\n        this.setInitialDimensions();\r\n        this.handle = new HandleMorph(\r\n            this,\r\n            100,\r\n            100,\r\n            this.corner,\r\n            this.corner\r\n        );\r\n    }\r\n};\r\n\r\nTableDialogMorph.prototype.fixLayout =\r\n    BlockEditorMorph.prototype.fixLayout;\r\n//fin de Tables.js\r\n/*\r\n\r\n    symbols.js\r\n\r\n    graphical GUI-symbols for for morphic.js and Snap!\r\n\r\n    written by Jens Mönig\r\n    jens@moenig.org\r\n\r\n    Copyright (C) 2017 by Jens Mönig\r\n\r\n    This file is part of Snap!.\r\n\r\n    Snap! is free software: you can redistribute it and/or modify\r\n    it under the terms of the GNU Affero General Public License as\r\n    published by the Free Software Foundation, either version 3 of\r\n    the License, or (at your option) any later version.\r\n\r\n    This program is distributed in the hope that it will be useful,\r\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n    GNU Affero General Public License for more details.\r\n\r\n    You should have received a copy of the GNU Affero General Public License\r\n    along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n\r\n\r\n    prerequisites:\r\n    --------------\r\n    needs morphic.js\r\n\r\n\r\n    prerequisites:\r\n    --------------\r\n    additional symbols have been contributed by members of the Snap!\r\n    open-source community, especially by Bernat Romagosa\r\n\r\n*/\r\n\r\n/*global modules, Morph, Point, newCanvas, Costume, radians, Color*/\r\n\r\n// Global stuff ////////////////////////////////////////////////////////\r\n\r\nmodules.symbols = '2017-September-26';\r\n\r\nvar SymbolMorph;\r\n\r\n// SymbolMorph //////////////////////////////////////////////////////////\r\n\r\n/*\r\n    I display graphical symbols, such as special letters. I have been\r\n    called into existence out of frustration about not being able to\r\n    consistently use Unicode characters to the same ends.\r\n\r\n    Symbols can also display costumes, if one is specified in lieu\r\n    of a name property, although this feature is currently not being\r\n    used because of asynchronous image loading issues.\r\n */\r\n\r\n// SymbolMorph inherits from Morph:\r\n\r\nSymbolMorph.prototype = new Morph();\r\nSymbolMorph.prototype.constructor = SymbolMorph;\r\nSymbolMorph.uber = Morph.prototype;\r\n\r\n// SymbolMorph available symbols:\r\n\r\nSymbolMorph.prototype.names = [\r\n    'square',\r\n    'pointRight',\r\n    'stepForward',\r\n    'gears',\r\n    'file',\r\n    'fullScreen',\r\n    'normalScreen',\r\n    'smallStage',\r\n    'normalStage',\r\n    'turtle',\r\n    'stage',\r\n    'turtleOutline',\r\n    'pause',\r\n    'flag',\r\n    'octagon',\r\n    'cloud',\r\n    'cloudOutline',\r\n    'cloudGradient',\r\n    'turnRight',\r\n    'turnLeft',\r\n    'storage',\r\n    'poster',\r\n    'flash',\r\n    'brush',\r\n    'rectangle',\r\n    'rectangleSolid',\r\n    'circle',\r\n    'circleSolid',\r\n    'line',\r\n    'cross',\r\n    'crosshairs',\r\n    'paintbucket',\r\n    'eraser',\r\n    'pipette',\r\n    'speechBubble',\r\n    'speechBubbleOutline',\r\n    'turnBack',\r\n    'turnForward',\r\n    'arrowUp',\r\n    'arrowUpOutline',\r\n    'arrowLeft',\r\n    'arrowLeftOutline',\r\n    'arrowDown',\r\n    'arrowDownOutline',\r\n    'arrowRight',\r\n    'arrowRightOutline',\r\n    'robot',\r\n    'magnifyingGlass',\r\n    'magnifierOutline',\r\n    'notes',\r\n    'camera',\r\n    'location',\r\n    'footprints',\r\n    'keyboard',\r\n    'keyboardFilled'\r\n];\r\n\r\n// SymbolMorph instance creation:\r\n\r\nfunction SymbolMorph(name, size, color, shadowOffset, shadowColor) {\r\n    this.init(name, size, color, shadowOffset, shadowColor);\r\n}\r\n\r\nSymbolMorph.prototype.init = function (\r\n    name, // or costume\r\n    size,\r\n    color,\r\n    shadowOffset,\r\n    shadowColor\r\n) {\r\n    this.isProtectedLabel = false; // participate in zebraing\r\n    this.isReadOnly = true;\r\n    this.name = name || 'square'; // can also be a costume\r\n    this.size = size || ((size === 0) ? 0 : 50);\r\n    this.shadowOffset = shadowOffset || new Point(0, 0);\r\n    this.shadowColor = shadowColor || null;\r\n\r\n    SymbolMorph.uber.init.call(this, true); // silently\r\n    this.color = color || new Color(0, 0, 0);\r\n    this.drawNew();\r\n};\r\n\r\n// SymbolMorph zebra coloring:\r\n\r\nSymbolMorph.prototype.setLabelColor = function (\r\n    textColor,\r\n    shadowColor,\r\n    shadowOffset\r\n) {\r\n    this.shadowOffset = shadowOffset || new Point();\r\n    this.shadowColor = shadowColor;\r\n    this.setColor(textColor);\r\n};\r\n\r\n// SymbolMorph displaying:\r\n\r\nSymbolMorph.prototype.drawNew = function () {\r\n    var ctx, x, y, sx, sy;\r\n    this.image = newCanvas(new Point(\r\n        this.symbolWidth() + Math.abs(this.shadowOffset.x),\r\n        this.size + Math.abs(this.shadowOffset.y)\r\n    ));\r\n    this.silentSetWidth(this.image.width);\r\n    this.silentSetHeight(this.image.height);\r\n    ctx = this.image.getContext('2d');\r\n    sx = this.shadowOffset.x < 0 ? 0 : this.shadowOffset.x;\r\n    sy = this.shadowOffset.y < 0 ? 0 : this.shadowOffset.y;\r\n    x = this.shadowOffset.x < 0 ? Math.abs(this.shadowOffset.x) : 0;\r\n    y = this.shadowOffset.y < 0 ? Math.abs(this.shadowOffset.y) : 0;\r\n    if (this.shadowColor) {\r\n        ctx.drawImage(\r\n            this.symbolCanvasColored(this.shadowColor),\r\n            sx,\r\n            sy\r\n        );\r\n    }\r\n    ctx.drawImage(\r\n        this.symbolCanvasColored(this.color),\r\n        x,\r\n        y\r\n    );\r\n};\r\n\r\nSymbolMorph.prototype.symbolCanvasColored = function (aColor) {\r\n    // private\r\n    if (this.name instanceof Costume) {\r\n        return this.name.thumbnail(new Point(this.symbolWidth(), this.size));\r\n    }\r\n\r\n    var canvas = newCanvas(new Point(this.symbolWidth(), this.size));\r\n\r\n    switch (this.name) {\r\n    case 'square':\r\n        return this.drawSymbolStop(canvas, aColor);\r\n    case 'pointRight':\r\n        return this.drawSymbolPointRight(canvas, aColor);\r\n    case 'stepForward':\r\n        return this.drawSymbolStepForward(canvas, aColor);\r\n    case 'gears':\r\n        return this.drawSymbolGears(canvas, aColor);\r\n    case 'file':\r\n        return this.drawSymbolFile(canvas, aColor);\r\n    case 'fullScreen':\r\n        return this.drawSymbolFullScreen(canvas, aColor);\r\n    case 'normalScreen':\r\n        return this.drawSymbolNormalScreen(canvas, aColor);\r\n    case 'smallStage':\r\n        return this.drawSymbolSmallStage(canvas, aColor);\r\n    case 'normalStage':\r\n        return this.drawSymbolNormalStage(canvas, aColor);\r\n    case 'turtle':\r\n        return this.drawSymbolTurtle(canvas, aColor);\r\n    case 'stage':\r\n        return this.drawSymbolStop(canvas, aColor);\r\n    case 'turtleOutline':\r\n        return this.drawSymbolTurtleOutline(canvas, aColor);\r\n    case 'pause':\r\n        return this.drawSymbolPause(canvas, aColor);\r\n    case 'flag':\r\n        return this.drawSymbolFlag(canvas, aColor);\r\n    case 'octagon':\r\n        return this.drawSymbolOctagon(canvas, aColor);\r\n    case 'cloud':\r\n        return this.drawSymbolCloud(canvas, aColor);\r\n    case 'cloudOutline':\r\n        return this.drawSymbolCloudOutline(canvas, aColor);\r\n    case 'cloudGradient':\r\n        return this.drawSymbolCloudGradient(canvas, aColor);\r\n    case 'turnRight':\r\n        return this.drawSymbolTurnRight(canvas, aColor);\r\n    case 'turnLeft':\r\n        return this.drawSymbolTurnLeft(canvas, aColor);\r\n    case 'storage':\r\n        return this.drawSymbolStorage(canvas, aColor);\r\n    case 'poster':\r\n        return this.drawSymbolPoster(canvas, aColor);\r\n    case 'flash':\r\n        return this.drawSymbolFlash(canvas, aColor);\r\n    case 'brush':\r\n        return this.drawSymbolBrush(canvas, aColor);\r\n    case 'rectangle':\r\n        return this.drawSymbolRectangle(canvas, aColor);\r\n    case 'rectangleSolid':\r\n        return this.drawSymbolRectangleSolid(canvas, aColor);\r\n    case 'circle':\r\n        return this.drawSymbolCircle(canvas, aColor);\r\n    case 'circleSolid':\r\n        return this.drawSymbolCircleSolid(canvas, aColor);\r\n    case 'line':\r\n        return this.drawSymbolLine(canvas, aColor);\r\n    case 'cross':\r\n        return this.drawSymbolCross(canvas, aColor);\r\n    case 'crosshairs':\r\n        return this.drawSymbolCrosshairs(canvas, aColor);\r\n    case 'paintbucket':\r\n        return this.drawSymbolPaintbucket(canvas, aColor);\r\n    case 'eraser':\r\n        return this.drawSymbolEraser(canvas, aColor);\r\n    case 'pipette':\r\n        return this.drawSymbolPipette(canvas, aColor);\r\n    case 'speechBubble':\r\n        return this.drawSymbolSpeechBubble(canvas, aColor);\r\n    case 'speechBubbleOutline':\r\n        return this.drawSymbolSpeechBubbleOutline(canvas, aColor);\r\n    case 'turnBack':\r\n        return this.drawSymbolTurnBack(canvas, aColor);\r\n    case 'turnForward':\r\n        return this.drawSymbolTurnForward(canvas, aColor);\r\n    case 'arrowUp':\r\n        return this.drawSymbolArrowUp(canvas, aColor);\r\n    case 'arrowUpOutline':\r\n        return this.drawSymbolArrowUpOutline(canvas, aColor);\r\n    case 'arrowLeft':\r\n        return this.drawSymbolArrowLeft(canvas, aColor);\r\n    case 'arrowLeftOutline':\r\n        return this.drawSymbolArrowLeftOutline(canvas, aColor);\r\n    case 'arrowDown':\r\n        return this.drawSymbolArrowDown(canvas, aColor);\r\n    case 'arrowDownOutline':\r\n        return this.drawSymbolArrowDownOutline(canvas, aColor);\r\n    case 'arrowRight':\r\n        return this.drawSymbolArrowRight(canvas, aColor);\r\n    case 'arrowRightOutline':\r\n        return this.drawSymbolArrowRightOutline(canvas, aColor);\r\n    case 'robot':\r\n        return this.drawSymbolRobot(canvas, aColor);\r\n    case 'magnifyingGlass':\r\n        return this.drawSymbolMagnifyingGlass(canvas, aColor);\r\n    case 'magnifierOutline':\r\n        return this.drawSymbolMagnifierOutline(canvas, aColor);\r\n    case 'notes':\r\n        return this.drawSymbolNotes(canvas, aColor);\r\n    case 'camera':\r\n        return this.drawSymbolCamera(canvas, aColor);\r\n    case 'location':\r\n        return this.drawSymbolLocation(canvas, aColor);\r\n    case 'footprints':\r\n        return this.drawSymbolFootprints(canvas, aColor);\r\n    case 'keyboard':\r\n        return this.drawSymbolKeyboard(canvas, aColor);\r\n    case 'keyboardFilled':\r\n        return this.drawSymbolKeyboardFilled(canvas, aColor);\r\n    default:\r\n        return canvas;\r\n    }\r\n};\r\n\r\nSymbolMorph.prototype.symbolWidth = function () {\r\n    // private\r\n    var size = this.size;\r\n\r\n    if (this.name instanceof Costume) {\r\n        return (size / this.name.height()) * this.name.width();\r\n    }\r\n    switch (this.name) {\r\n    case 'pointRight':\r\n        return Math.sqrt(size * size - Math.pow(size / 2, 2));\r\n    case 'location':\r\n        return size * 0.6;\r\n    case 'flash':\r\n    case 'file':\r\n        return size * 0.8;\r\n    case 'smallStage':\r\n    case 'normalStage':\r\n        return size * 1.2;\r\n    case 'turtle':\r\n    case 'turtleOutline':\r\n    case 'stage':\r\n        return size * 1.3;\r\n    case 'cloud':\r\n    case 'cloudGradient':\r\n    case 'cloudOutline':\r\n    case 'turnBack':\r\n    case 'turnForward':\r\n    case 'keyboard':\r\n    case 'keyboardFilled':\r\n        return size * 1.6;\r\n    case 'turnRight':\r\n    case 'turnLeft':\r\n        return size / 3 * 2;\r\n    default:\r\n        return size;\r\n    }\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolStop = function (canvas, color) {\r\n    // answer a canvas showing a vertically centered square\r\n    var ctx = canvas.getContext('2d');\r\n\r\n    ctx.fillStyle = color.toString();\r\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolPointRight = function (canvas, color) {\r\n    // answer a canvas showing a right-pointing, equilateral triangle\r\n    var ctx = canvas.getContext('2d');\r\n\r\n    ctx.fillStyle = color.toString();\r\n    ctx.beginPath();\r\n    ctx.moveTo(0, 0);\r\n    ctx.lineTo(canvas.width, Math.round(canvas.height / 2));\r\n    ctx.lineTo(0, canvas.height);\r\n    ctx.lineTo(0, 0);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolStepForward = function (canvas, color) {\r\n    // answer a canvas showing a right-pointing triangle\r\n    // followed by a vertical bar\r\n    var ctx = canvas.getContext('2d');\r\n\r\n    ctx.fillStyle = color.toString();\r\n    ctx.beginPath();\r\n    ctx.moveTo(0, 0);\r\n    ctx.lineTo(canvas.width * 0.75, Math.round(canvas.height / 2));\r\n    ctx.lineTo(0, canvas.height);\r\n    ctx.lineTo(0, 0);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n    ctx.fillRect(\r\n        canvas.width * 0.75,\r\n        0,\r\n        canvas.width * 0.25,\r\n        canvas.height\r\n    );\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolGears = function (canvas, color) {\r\n    // answer a canvas showing gears\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        r = w / 2,\r\n        e = w / 6;\r\n\r\n    ctx.strokeStyle = color.toString();\r\n    ctx.lineWidth = canvas.width / 7;\r\n\r\n    ctx.beginPath();\r\n    ctx.arc(r, r, w, radians(0), radians(360), true);\r\n    ctx.arc(r, r, e * 1.5, radians(0), radians(360), false);\r\n    ctx.closePath();\r\n    ctx.clip();\r\n\r\n    ctx.moveTo(0, r);\r\n    ctx.lineTo(w, r);\r\n    ctx.stroke();\r\n\r\n    ctx.moveTo(r, 0);\r\n    ctx.lineTo(r, w);\r\n    ctx.stroke();\r\n\r\n    ctx.moveTo(e, e);\r\n    ctx.lineTo(w - e, w - e);\r\n    ctx.stroke();\r\n\r\n    ctx.moveTo(w - e, e);\r\n    ctx.lineTo(e, w - e);\r\n    ctx.stroke();\r\n\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolFile = function (canvas, color) {\r\n    // answer a canvas showing a page symbol\r\n    var ctx = canvas.getContext('2d'),\r\n        w = Math.min(canvas.width, canvas.height) / 2;\r\n\r\n    ctx.fillStyle = color.toString();\r\n    ctx.beginPath();\r\n    ctx.moveTo(0, 0);\r\n    ctx.lineTo(w, 0);\r\n    ctx.lineTo(w, w);\r\n    ctx.lineTo(canvas.width, w);\r\n    ctx.lineTo(canvas.width, canvas.height);\r\n    ctx.lineTo(0, canvas.height);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    ctx.fillStyle = color.darker(25).toString();\r\n    ctx.beginPath();\r\n    ctx.moveTo(w, 0);\r\n    ctx.lineTo(canvas.width, w);\r\n    ctx.lineTo(w, w);\r\n    ctx.lineTo(w, 0);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolFullScreen = function (canvas, color) {\r\n    // answer a canvas showing two arrows pointing diagonally outwards\r\n    var ctx = canvas.getContext('2d'),\r\n        h = canvas.height,\r\n        c = canvas.width / 2,\r\n        off = canvas.width / 20,\r\n        w = canvas.width / 2;\r\n\r\n    ctx.strokeStyle = color.toString();\r\n    ctx.lineWidth = canvas.width / 5;\r\n    ctx.moveTo(c - off, c + off);\r\n    ctx.lineTo(0, h);\r\n    ctx.stroke();\r\n\r\n    ctx.strokeStyle = color.toString();\r\n    ctx.lineWidth = canvas.width / 5;\r\n    ctx.moveTo(c + off, c - off);\r\n    ctx.lineTo(h, 0);\r\n    ctx.stroke();\r\n\r\n    ctx.fillStyle = color.toString();\r\n    ctx.beginPath();\r\n    ctx.moveTo(0, h);\r\n    ctx.lineTo(0, h - w);\r\n    ctx.lineTo(w, h);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    ctx.fillStyle = color.toString();\r\n    ctx.beginPath();\r\n    ctx.moveTo(h, 0);\r\n    ctx.lineTo(h - w, 0);\r\n    ctx.lineTo(h, w);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolNormalScreen = function (canvas, color) {\r\n    // answer a canvas showing two arrows pointing diagonally inwards\r\n    var ctx = canvas.getContext('2d'),\r\n        h = canvas.height,\r\n        c = canvas.width / 2,\r\n        off = canvas.width / 20,\r\n        w = canvas.width;\r\n\r\n    ctx.strokeStyle = color.toString();\r\n    ctx.lineWidth = canvas.width / 5;\r\n    ctx.moveTo(c - off * 3, c + off * 3);\r\n    ctx.lineTo(0, h);\r\n    ctx.stroke();\r\n\r\n    ctx.strokeStyle = color.toString();\r\n    ctx.lineWidth = canvas.width / 5;\r\n    ctx.moveTo(c + off * 3, c - off * 3);\r\n    ctx.lineTo(h, 0);\r\n    ctx.stroke();\r\n\r\n    ctx.fillStyle = color.toString();\r\n    ctx.beginPath();\r\n    ctx.moveTo(c + off, c - off);\r\n    ctx.lineTo(w, c - off);\r\n    ctx.lineTo(c + off, 0);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    ctx.fillStyle = color.toString();\r\n    ctx.beginPath();\r\n    ctx.moveTo(c - off, c + off);\r\n    ctx.lineTo(0, c + off);\r\n    ctx.lineTo(c - off, w);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolSmallStage = function (canvas, color) {\r\n    // answer a canvas showing a stage toggling symbol\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        h = canvas.height,\r\n        w2 = w / 2,\r\n        h2 = h / 2;\r\n\r\n    ctx.fillStyle = color.darker(40).toString();\r\n    ctx.fillRect(0, 0, w, h);\r\n\r\n    ctx.fillStyle = color.toString();\r\n    ctx.fillRect(w2, 0, w2, h2);\r\n\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolNormalStage = function (canvas, color) {\r\n    // answer a canvas showing a stage toggling symbol\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        h = canvas.height,\r\n        w2 = w / 2,\r\n        h2 = h / 2;\r\n\r\n    ctx.fillStyle = color.toString();\r\n    ctx.fillRect(0, 0, w, h);\r\n\r\n    ctx.fillStyle = color.darker(25).toString();\r\n    ctx.fillRect(w2, 0, w2, h2);\r\n\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolTurtle = function (canvas, color) {\r\n    // answer a canvas showing a turtle\r\n    var ctx = canvas.getContext('2d');\r\n\r\n    ctx.fillStyle = color.toString();\r\n    ctx.beginPath();\r\n    ctx.moveTo(0, 0);\r\n    ctx.lineTo(canvas.width, canvas.height / 2);\r\n    ctx.lineTo(0, canvas.height);\r\n    ctx.lineTo(canvas.height / 2, canvas.height / 2);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolTurtleOutline = function (canvas, color) {\r\n    // answer a canvas showing a turtle\r\n    var ctx = canvas.getContext('2d');\r\n\r\n    ctx.strokeStyle = color.toString();\r\n    ctx.beginPath();\r\n    ctx.moveTo(0, 0);\r\n    ctx.lineTo(canvas.width, canvas.height / 2);\r\n    ctx.lineTo(0, canvas.height);\r\n    ctx.lineTo(canvas.height / 2, canvas.height / 2);\r\n    ctx.closePath();\r\n    ctx.stroke();\r\n\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolPause = function (canvas, color) {\r\n    // answer a canvas showing two parallel rectangles\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width / 5;\r\n\r\n    ctx.fillStyle = color.toString();\r\n    ctx.fillRect(0, 0, w * 2, canvas.height);\r\n    ctx.fillRect(w * 3, 0, w * 2, canvas.height);\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolFlag = function (canvas, color) {\r\n    // answer a canvas showing a flag\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        l = Math.max(w / 12, 1),\r\n        h = canvas.height;\r\n\r\n    ctx.lineWidth = l;\r\n    ctx.strokeStyle = color.toString();\r\n    ctx.beginPath();\r\n    ctx.moveTo(l / 2, 0);\r\n    ctx.lineTo(l / 2, canvas.height);\r\n    ctx.stroke();\r\n\r\n    ctx.lineWidth = h / 2;\r\n    ctx.beginPath();\r\n    ctx.moveTo(0, h / 4);\r\n    ctx.bezierCurveTo(\r\n        w * 0.8,\r\n        h / 4,\r\n        w * 0.1,\r\n        h * 0.5,\r\n        w,\r\n        h * 0.5\r\n    );\r\n    ctx.stroke();\r\n\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolOctagon = function (canvas, color) {\r\n    // answer a canvas showing an octagon\r\n    var ctx = canvas.getContext('2d'),\r\n        side = canvas.width,\r\n        vert = (side - (side * 0.383)) / 2;\r\n\r\n    ctx.fillStyle = color.toString();\r\n    ctx.beginPath();\r\n    ctx.moveTo(vert, 0);\r\n    ctx.lineTo(side - vert, 0);\r\n    ctx.lineTo(side, vert);\r\n    ctx.lineTo(side, side - vert);\r\n    ctx.lineTo(side - vert, side);\r\n    ctx.lineTo(vert, side);\r\n    ctx.lineTo(0, side - vert);\r\n    ctx.lineTo(0, vert);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolCloud = function (canvas, color) {\r\n    // answer a canvas showing an cloud\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        h = canvas.height,\r\n        r1 = h * 2 / 5,\r\n        r2 = h / 4,\r\n        r3 = h * 3 / 10,\r\n        r4 = h / 5;\r\n\r\n    ctx.fillStyle = color.toString();\r\n    ctx.beginPath();\r\n    ctx.arc(r2, h - r2, r2, radians(90), radians(259), false);\r\n    ctx.arc(w / 20 * 5, h / 9 * 4, r4, radians(165), radians(300), false);\r\n    ctx.arc(w / 20 * 11, r1, r1, radians(200), radians(357), false);\r\n    ctx.arc(w - r3, h - r3, r3, radians(269), radians(90), false);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolCloudGradient = function (canvas, color) {\r\n    // answer a canvas showing an cloud\r\n    var ctx = canvas.getContext('2d'),\r\n        gradient,\r\n        w = canvas.width,\r\n        h = canvas.height,\r\n        r1 = h * 2 / 5,\r\n        r2 = h / 4,\r\n        r3 = h * 3 / 10,\r\n        r4 = h / 5;\r\n\r\n    gradient = ctx.createRadialGradient(\r\n        0,\r\n        0,\r\n        0,\r\n        0,\r\n        0,\r\n        w\r\n    );\r\n    gradient.addColorStop(0, color.lighter(25).toString());\r\n    gradient.addColorStop(1, color.darker(25).toString());\r\n    ctx.fillStyle = gradient;\r\n    ctx.beginPath();\r\n    ctx.arc(r2, h - r2, r2, radians(90), radians(259), false);\r\n    ctx.arc(w / 20 * 5, h / 9 * 4, r4, radians(165), radians(300), false);\r\n    ctx.arc(w / 20 * 11, r1, r1, radians(200), radians(357), false);\r\n    ctx.arc(w - r3, h - r3, r3, radians(269), radians(90), false);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolCloudOutline = function (canvas, color) {\r\n    // answer a canvas showing an cloud\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        h = canvas.height,\r\n        r1 = h * 2 / 5,\r\n        r2 = h / 4,\r\n        r3 = h * 3 / 10,\r\n        r4 = h / 5;\r\n\r\n    ctx.strokeStyle = color.toString();\r\n    ctx.beginPath();\r\n    ctx.arc(r2 + 1, h - r2 - 1, r2, radians(90), radians(259), false);\r\n    ctx.arc(w / 20 * 5, h / 9 * 4, r4, radians(165), radians(300), false);\r\n    ctx.arc(w / 20 * 11, r1 + 1, r1, radians(200), radians(357), false);\r\n    ctx.arc(w - r3 - 1, h - r3 - 1, r3, radians(269), radians(90), false);\r\n    ctx.closePath();\r\n    ctx.stroke();\r\n\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolTurnRight = function (canvas, color) {\r\n    // answer a canvas showing a right-turning arrow\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        l = Math.max(w / 10, 1),\r\n        r = w / 2;\r\n\r\n    ctx.lineWidth = l;\r\n    ctx.strokeStyle = color.toString();\r\n    ctx.beginPath();\r\n    ctx.arc(r, r * 2, r - l / 2, radians(0), radians(-90), false);\r\n    ctx.stroke();\r\n\r\n    ctx.fillStyle = color.toString();\r\n    ctx.beginPath();\r\n    ctx.moveTo(w, r);\r\n    ctx.lineTo(r, 0);\r\n    ctx.lineTo(r, r * 2);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolTurnLeft = function (canvas, color) {\r\n    // answer a canvas showing a left-turning arrow\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        l = Math.max(w / 10, 1),\r\n        r = w / 2;\r\n\r\n    ctx.lineWidth = l;\r\n    ctx.strokeStyle = color.toString();\r\n    ctx.beginPath();\r\n    ctx.arc(r, r * 2, r - l / 2, radians(180), radians(-90), true);\r\n    ctx.stroke();\r\n\r\n    ctx.fillStyle = color.toString();\r\n    ctx.beginPath();\r\n    ctx.moveTo(0, r);\r\n    ctx.lineTo(r, 0);\r\n    ctx.lineTo(r, r * 2);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolStorage = function (canvas, color) {\r\n    // answer a canvas showing a stack of three disks\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        h = canvas.height,\r\n        r = canvas.height,\r\n        unit = canvas.height / 11;\r\n\r\n    function drawDisk(bottom, fillTop) {\r\n        ctx.fillStyle = color.toString();\r\n        ctx.beginPath();\r\n        ctx.arc(w / 2, bottom - h, r, radians(60), radians(120), false);\r\n        ctx.lineTo(0, bottom - unit * 2);\r\n        ctx.arc(\r\n            w / 2,\r\n            bottom - h - unit * 2,\r\n            r,\r\n            radians(120),\r\n            radians(60),\r\n            true\r\n        );\r\n        ctx.closePath();\r\n        ctx.fill();\r\n\r\n        ctx.fillStyle = color.darker(25).toString();\r\n        ctx.beginPath();\r\n\r\n        if (fillTop) {\r\n            ctx.arc(\r\n                w / 2,\r\n                bottom - h - unit * 2,\r\n                r,\r\n                radians(120),\r\n                radians(60),\r\n                true\r\n            );\r\n        }\r\n\r\n        ctx.arc(\r\n            w / 2,\r\n            bottom + unit * 6 + 1,\r\n            r,\r\n            radians(60),\r\n            radians(120),\r\n            true\r\n        );\r\n        ctx.closePath();\r\n\r\n        if (fillTop) {\r\n            ctx.fill();\r\n        } else {\r\n            ctx.stroke();\r\n        }\r\n    }\r\n\r\n    ctx.strokeStyle = color.toString();\r\n    drawDisk(h);\r\n    drawDisk(h - unit * 3);\r\n    drawDisk(h - unit * 6, false);\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolPoster = function (canvas, color) {\r\n    // answer a canvas showing a poster stand\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        h = canvas.height,\r\n        bottom = h * 0.75,\r\n        edge = canvas.height / 5;\r\n\r\n    ctx.fillStyle = color.toString();\r\n    ctx.strokeStyle = color.toString();\r\n\r\n    ctx.lineWidth = w / 15;\r\n    ctx.moveTo(w / 2, h / 3);\r\n    ctx.lineTo(w / 6, h);\r\n    ctx.stroke();\r\n\r\n    ctx.moveTo(w / 2, h / 3);\r\n    ctx.lineTo(w / 2, h);\r\n    ctx.stroke();\r\n\r\n    ctx.moveTo(w / 2, h / 3);\r\n    ctx.lineTo(w * 5 / 6, h);\r\n    ctx.stroke();\r\n\r\n    ctx.fillRect(0, 0, w, bottom);\r\n    ctx.clearRect(0, bottom, w, w / 20);\r\n\r\n    ctx.clearRect(w - edge, bottom - edge, edge + 1, edge + 1);\r\n\r\n    ctx.fillStyle = color.darker(25).toString();\r\n    ctx.beginPath();\r\n    ctx.moveTo(w, bottom - edge);\r\n    ctx.lineTo(w - edge, bottom - edge);\r\n    ctx.lineTo(w - edge, bottom);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolFlash = function (canvas, color) {\r\n    // answer a canvas showing a flash\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        w3 = w / 3,\r\n        h = canvas.height,\r\n        h3 = h / 3,\r\n        off = h3 / 3;\r\n\r\n    ctx.fillStyle = color.toString();\r\n    ctx.beginPath();\r\n    ctx.moveTo(w3, 0);\r\n    ctx.lineTo(0, h3);\r\n    ctx.lineTo(w3, h3);\r\n    ctx.lineTo(0, h3 * 2);\r\n    ctx.lineTo(w3, h3 * 2);\r\n    ctx.lineTo(0, h);\r\n    ctx.lineTo(w, h3 * 2 - off);\r\n    ctx.lineTo(w3 * 2, h3 * 2 - off);\r\n    ctx.lineTo(w, h3 - off);\r\n    ctx.lineTo(w3 * 2, h3 - off);\r\n    ctx.lineTo(w, 0);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolBrush = function (canvas, color) {\r\n    // answer a canvas showing a paintbrush\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        h = canvas.height,\r\n        l = Math.max(w / 30, 0.5);\r\n\r\n    ctx.fillStyle = color.toString();\r\n    ctx.lineWidth = l * 2;\r\n    ctx.beginPath();\r\n    ctx.moveTo(w / 8 * 3, h / 2);\r\n    ctx.quadraticCurveTo(0, h / 2, l, h - l);\r\n    ctx.quadraticCurveTo(w / 2, h, w / 2, h / 8 * 5);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    ctx.lineJoin = 'round';\r\n    ctx.lineCap = 'round';\r\n    ctx.strokeStyle = color.toString();\r\n\r\n    ctx.moveTo(w / 8 * 3, h / 2);\r\n    ctx.lineTo(w * 0.75, l);\r\n    ctx.quadraticCurveTo(w, 0, w - l, h * 0.25);\r\n    ctx.stroke();\r\n\r\n    ctx.moveTo(w / 2, h / 8 * 5);\r\n    ctx.lineTo(w - l, h * 0.25);\r\n    ctx.stroke();\r\n\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolRectangle = function (canvas, color) {\r\n    // answer a canvas showing a rectangle\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        h = canvas.width,\r\n        l = Math.max(w / 20, 0.5);\r\n\r\n    ctx.strokeStyle = color.toString();\r\n    ctx.lineWidth = l * 2;\r\n    ctx.beginPath();\r\n    ctx.moveTo(l, l);\r\n    ctx.lineTo(w - l, l);\r\n    ctx.lineTo(w - l, h - l);\r\n    ctx.lineTo(l, h - l);\r\n    ctx.closePath();\r\n    ctx.stroke();\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolRectangleSolid = function (canvas, color) {\r\n    // answer a canvas showing a solid rectangle\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        h = canvas.width;\r\n\r\n    ctx.fillStyle = color.toString();\r\n    ctx.beginPath();\r\n    ctx.moveTo(0, 0);\r\n    ctx.lineTo(w, 0);\r\n    ctx.lineTo(w, h);\r\n    ctx.lineTo(0, h);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolCircle = function (canvas, color) {\r\n    // answer a canvas showing a circle\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        l = Math.max(w / 20, 0.5);\r\n\r\n    ctx.strokeStyle = color.toString();\r\n    ctx.lineWidth = l * 2;\r\n    ctx.arc(w / 2, w / 2, w / 2 - l, radians(0), radians(360), false);\r\n    ctx.stroke();\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolCircleSolid = function (canvas, color) {\r\n    // answer a canvas showing a solid circle\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width;\r\n\r\n    ctx.fillStyle = color.toString();\r\n    ctx.arc(w / 2, w / 2, w / 2, radians(0), radians(360), false);\r\n    ctx.fill();\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolLine = function (canvas, color) {\r\n    // answer a canvas showing a plus sign cross\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        h = canvas.height,\r\n        l = Math.max(w / 20, 0.5);\r\n\r\n    ctx.strokeStyle = color.toString();\r\n    ctx.lineWidth = l * 2;\r\n    ctx.lineCap = 'round';\r\n    ctx.moveTo(l, l);\r\n    ctx.lineTo(w - l, h - l);\r\n    ctx.stroke();\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolCross = function (canvas, color) {\r\n    // answer a canvas showing a diagonal line\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        l = Math.max(w / 20, 0.5);\r\n\r\n    ctx.strokeStyle = color.toString();\r\n    ctx.lineWidth = l * 2;\r\n    ctx.lineCap = 'round';\r\n    ctx.moveTo(l, w / 2);\r\n    ctx.lineTo(w - l, w / 2);\r\n    ctx.stroke();\r\n    ctx.moveTo(w / 2, l);\r\n    ctx.lineTo(w / 2, w - l);\r\n    ctx.stroke();\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolCrosshairs = function (canvas, color) {\r\n    // answer a canvas showing a crosshairs\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        h = canvas.height,\r\n        l = 0.5;\r\n\r\n    ctx.strokeStyle = color.toString();\r\n    ctx.lineWidth = l * 2;\r\n    ctx.moveTo(l, h / 2);\r\n    ctx.lineTo(w - l, h / 2);\r\n    ctx.stroke();\r\n    ctx.moveTo(w / 2, l);\r\n    ctx.lineTo(w / 2, h - l);\r\n    ctx.stroke();\r\n    ctx.moveTo(w / 2, h / 2);\r\n    ctx.arc(w / 2, w / 2, w / 3 - l, radians(0), radians(360), false);\r\n    ctx.stroke();\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolPaintbucket = function (canvas, color) {\r\n    // answer a canvas showing a paint bucket\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        h = canvas.height,\r\n        n = canvas.width / 5,\r\n        l = Math.max(w / 30, 0.5);\r\n\r\n    ctx.strokeStyle = color.toString();\r\n    ctx.lineWidth = l * 2;\r\n    ctx.beginPath();\r\n    ctx.moveTo(n * 2, n);\r\n    ctx.lineTo(n * 4, n * 3);\r\n    ctx.lineTo(n * 3, n * 4);\r\n    ctx.quadraticCurveTo(n * 2, h, n, n * 4);\r\n    ctx.quadraticCurveTo(0, n * 3, n, n * 2);\r\n    ctx.closePath();\r\n    ctx.stroke();\r\n\r\n    ctx.lineWidth = l;\r\n    ctx.moveTo(n * 2, n * 2.5);\r\n    ctx.arc(n * 2, n * 2.5, l, radians(0), radians(360), false);\r\n    ctx.stroke();\r\n\r\n    ctx.moveTo(n * 2, n * 2.5);\r\n    ctx.lineTo(n * 2, n / 2 + l);\r\n    ctx.stroke();\r\n\r\n    ctx.arc(n * 1.5, n / 2 + l, n / 2, radians(0), radians(180), true);\r\n    ctx.stroke();\r\n\r\n    ctx.moveTo(n, n / 2 + l);\r\n    ctx.lineTo(n, n * 2);\r\n    ctx.stroke();\r\n\r\n    ctx.fillStyle = color.toString();\r\n    ctx.beginPath();\r\n    ctx.moveTo(n * 3.5, n * 3.5);\r\n    ctx.quadraticCurveTo(w, n * 3.5, w - l, h);\r\n    ctx.lineTo(w, h);\r\n    ctx.quadraticCurveTo(w, n * 2, n * 2.5, n * 1.5);\r\n    ctx.lineTo(n * 4, n * 3);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolEraser = function (canvas, color) {\r\n    // answer a canvas showing an eraser\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        h = canvas.height,\r\n        n = canvas.width / 4,\r\n        l = Math.max(w / 20, 0.5);\r\n\r\n    ctx.strokeStyle = color.toString();\r\n    ctx.lineWidth = l * 2;\r\n    ctx.beginPath();\r\n    ctx.moveTo(n * 3, l);\r\n    ctx.lineTo(l, n * 3);\r\n    ctx.quadraticCurveTo(n, h, n * 2, n * 3);\r\n    ctx.lineTo(w - l, n);\r\n    ctx.closePath();\r\n    ctx.stroke();\r\n\r\n    ctx.fillStyle = color.toString();\r\n    ctx.beginPath();\r\n    ctx.moveTo(n * 3, 0);\r\n    ctx.lineTo(n * 1.5, n * 1.5);\r\n    ctx.lineTo(n * 2.5, n * 2.5);\r\n    ctx.lineTo(w, n);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolPipette = function (canvas, color) {\r\n    // answer a canvas showing an eyedropper\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        h = canvas.height,\r\n        n = canvas.width / 4,\r\n        n2 = n / 2,\r\n        l = Math.max(w / 20, 0.5);\r\n\r\n    ctx.strokeStyle = color.toString();\r\n    ctx.lineWidth = l * 2;\r\n    ctx.beginPath();\r\n    ctx.moveTo(l, h - l);\r\n    ctx.quadraticCurveTo(n2, h - n2, n2, h - n);\r\n    ctx.lineTo(n * 2, n * 1.5);\r\n    ctx.stroke();\r\n\r\n    ctx.beginPath();\r\n    ctx.moveTo(l, h - l);\r\n    ctx.quadraticCurveTo(n2, h - n2, n, h - n2);\r\n    ctx.lineTo(n * 2.5, n * 2);\r\n    ctx.stroke();\r\n\r\n    ctx.fillStyle = color.toString();\r\n    ctx.arc(n * 3, n, n - l, radians(0), radians(360), false);\r\n    ctx.fill();\r\n\r\n    ctx.beginPath();\r\n    ctx.moveTo(n * 2, n);\r\n    ctx.lineTo(n * 3, n * 2);\r\n    ctx.stroke();\r\n\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolSpeechBubble = function (canvas, color) {\r\n    // answer a canvas showing a speech bubble\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        h = canvas.height,\r\n        n = canvas.width / 3,\r\n        l = Math.max(w / 20, 0.5);\r\n\r\n    ctx.fillStyle = color.toString();\r\n    ctx.lineWidth = l * 2;\r\n    ctx.beginPath();\r\n    ctx.moveTo(n, n * 2);\r\n    ctx.quadraticCurveTo(l, n * 2, l, n);\r\n    ctx.quadraticCurveTo(l, l, n, l);\r\n    ctx.lineTo(n * 2, l);\r\n    ctx.quadraticCurveTo(w - l, l, w - l, n);\r\n    ctx.quadraticCurveTo(w - l, n * 2, n * 2, n * 2);\r\n    ctx.lineTo(n / 2, h - l);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolSpeechBubbleOutline = function (\r\n    canvas,\r\n    color\r\n) {\r\n    // answer a canvas showing a speech bubble\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        h = canvas.height,\r\n        n = canvas.width / 3,\r\n        l = Math.max(w / 20, 0.5);\r\n\r\n    ctx.strokeStyle = color.toString();\r\n    ctx.lineWidth = l * 2;\r\n    ctx.beginPath();\r\n    ctx.moveTo(n, n * 2);\r\n    ctx.quadraticCurveTo(l, n * 2, l, n);\r\n    ctx.quadraticCurveTo(l, l, n, l);\r\n    ctx.lineTo(n * 2, l);\r\n    ctx.quadraticCurveTo(w - l, l, w - l, n);\r\n    ctx.quadraticCurveTo(w - l, n * 2, n * 2, n * 2);\r\n    ctx.lineTo(n / 2, h - l);\r\n    ctx.closePath();\r\n    ctx.stroke();\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolTurnBack = function (canvas, aColor) {\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        h = canvas.height,\r\n        w2 = canvas.width / 2,\r\n        h2 = canvas.height / 2,\r\n        l = Math.max(w / 20, 0.5);\r\n\r\n    ctx.fillStyle = aColor.toString();\r\n    ctx.lineWidth = l * 2;\r\n    ctx.beginPath();\r\n    ctx.moveTo(0, h2);\r\n    ctx.lineTo(w2, 0);\r\n    ctx.lineTo(w2, h);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n    ctx.lineWidth = l * 3;\r\n    ctx.strokeStyle = aColor.toString();\r\n    ctx.beginPath();\r\n    ctx.arc(w2, h, h2, radians(0), radians(-90), true);\r\n    ctx.stroke();\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolTurnForward = function (canvas, aColor) {\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        h = canvas.height,\r\n        w2 = canvas.width / 2,\r\n        h2 = canvas.height / 2,\r\n        l = Math.max(w / 20, 0.5);\r\n\r\n    ctx.fillStyle = aColor.toString();\r\n    ctx.lineWidth = l * 2;\r\n    ctx.beginPath();\r\n    ctx.moveTo(w, h2);\r\n    ctx.lineTo(w2, 0);\r\n    ctx.lineTo(w2, h);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n    ctx.lineWidth = l * 3;\r\n    ctx.strokeStyle = aColor.toString();\r\n    ctx.beginPath();\r\n    ctx.arc(w2, h, h2, radians(-180), radians(-90), false);\r\n    ctx.stroke();\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolArrowUp = function (canvas, color) {\r\n    // answer a canvas showing an up arrow\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        h = canvas.height,\r\n        n = canvas.width / 2,\r\n        l = Math.max(w / 20, 0.5);\r\n\r\n    ctx.fillStyle = color.toString();\r\n    ctx.lineWidth = l * 2;\r\n    ctx.beginPath();\r\n    ctx.moveTo(l, n);\r\n    ctx.lineTo(n, l);\r\n    ctx.lineTo(w - l, n);\r\n    ctx.lineTo(w * 0.65, n);\r\n    ctx.lineTo(w * 0.65, h - l);\r\n    ctx.lineTo(w * 0.35, h - l);\r\n    ctx.lineTo(w * 0.35, n);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolArrowUpOutline = function (canvas, color) {\r\n    // answer a canvas showing an up arrow\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        h = canvas.height,\r\n        n = canvas.width / 2,\r\n        l = Math.max(w / 20, 0.5);\r\n\r\n    ctx.strokeStyle = color.toString();\r\n    ctx.lineWidth = l * 2;\r\n    ctx.beginPath();\r\n    ctx.moveTo(l, n);\r\n    ctx.lineTo(n, l);\r\n    ctx.lineTo(w - l, n);\r\n    ctx.lineTo(w * 0.65, n);\r\n    ctx.lineTo(w * 0.65, h - l);\r\n    ctx.lineTo(w * 0.35, h - l);\r\n    ctx.lineTo(w * 0.35, n);\r\n    ctx.closePath();\r\n    ctx.stroke();\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolArrowDown = function (canvas, color) {\r\n    // answer a canvas showing a down arrow\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width;\r\n    ctx.save();\r\n    ctx.translate(w, w);\r\n    ctx.rotate(radians(180));\r\n    this.drawSymbolArrowUp(canvas, color);\r\n    ctx.restore();\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolArrowDownOutline = function (canvas, color) {\r\n    // answer a canvas showing a down arrow\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width;\r\n    ctx.save();\r\n    ctx.translate(w, w);\r\n    ctx.rotate(radians(180));\r\n    this.drawSymbolArrowUpOutline(canvas, color);\r\n    ctx.restore();\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolArrowLeft = function (canvas, color) {\r\n    // answer a canvas showing a left arrow\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width;\r\n    ctx.save();\r\n    ctx.translate(0, w);\r\n    ctx.rotate(radians(-90));\r\n    this.drawSymbolArrowUp(canvas, color);\r\n    ctx.restore();\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolArrowLeftOutline = function (canvas, color) {\r\n    // answer a canvas showing a left arrow\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width;\r\n    ctx.save();\r\n    ctx.translate(0, w);\r\n    ctx.rotate(radians(-90));\r\n    this.drawSymbolArrowUpOutline(canvas, color);\r\n    ctx.restore();\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolArrowRight = function (canvas, color) {\r\n    // answer a canvas showing a right arrow\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width;\r\n    ctx.save();\r\n    ctx.translate(w, 0);\r\n    ctx.rotate(radians(90));\r\n    this.drawSymbolArrowUp(canvas, color);\r\n    ctx.restore();\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolArrowRightOutline = function (canvas, color) {\r\n    // answer a canvas showing a right arrow\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width;\r\n    ctx.save();\r\n    ctx.translate(w, 0);\r\n    ctx.rotate(radians(90));\r\n    this.drawSymbolArrowUpOutline(canvas, color);\r\n    ctx.restore();\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolRobot = function (canvas, color) {\r\n    // answer a canvas showing a humanoid robot\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        h = canvas.height,\r\n        n = canvas.width / 6,\r\n        n2 = n / 2,\r\n        l = Math.max(w / 20, 0.5);\r\n\r\n    ctx.fillStyle = color.toString();\r\n    //ctx.lineWidth = l * 2;\r\n\r\n    ctx.beginPath();\r\n    ctx.moveTo(n + l, n);\r\n    ctx.lineTo(n * 2, n);\r\n    ctx.lineTo(n * 2.5, n * 1.5);\r\n    ctx.lineTo(n * 3.5, n * 1.5);\r\n    ctx.lineTo(n * 4, n);\r\n    ctx.lineTo(n * 5 - l, n);\r\n    ctx.lineTo(n * 4, n * 3);\r\n    ctx.lineTo(n * 4, n * 4 - l);\r\n    ctx.lineTo(n * 2, n * 4 - l);\r\n    ctx.lineTo(n * 2, n * 3);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    ctx.beginPath();\r\n    ctx.moveTo(n * 2.75, n + l);\r\n    ctx.lineTo(n * 2.4, n);\r\n    ctx.lineTo(n * 2.2, 0);\r\n    ctx.lineTo(n * 3.8, 0);\r\n    ctx.lineTo(n * 3.6, n);\r\n    ctx.lineTo(n * 3.25, n + l);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    ctx.beginPath();\r\n    ctx.moveTo(n * 2.5, n * 4);\r\n    ctx.lineTo(n, n * 4);\r\n    ctx.lineTo(n2 + l, h);\r\n    ctx.lineTo(n * 2, h);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    ctx.beginPath();\r\n    ctx.moveTo(n * 3.5, n * 4);\r\n    ctx.lineTo(n * 5, n * 4);\r\n    ctx.lineTo(w - (n2 + l), h);\r\n    ctx.lineTo(n * 4, h);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    ctx.beginPath();\r\n    ctx.moveTo(n, n);\r\n    ctx.lineTo(l, n * 1.5);\r\n    ctx.lineTo(l, n * 3.25);\r\n    ctx.lineTo(n * 1.5, n * 3.5);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    ctx.beginPath();\r\n    ctx.moveTo(n * 5, n);\r\n    ctx.lineTo(w - l, n * 1.5);\r\n    ctx.lineTo(w - l, n * 3.25);\r\n    ctx.lineTo(n * 4.5, n * 3.5);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolMagnifyingGlass = function (canvas, color) {\r\n    // answer a canvas showing a magnifying glass\r\n    var ctx = canvas.getContext('2d'),\r\n        gradient,\r\n        w = canvas.width,\r\n        h = canvas.height,\r\n        r = w * 0.3,\r\n        x = w * 2 / 3 - Math.sqrt(r),\r\n        y = h / 3 + Math.sqrt(r),\r\n        l = Math.max(w / 5, 0.5);\r\n\r\n    ctx.strokeStyle = color.toString();\r\n\r\n    gradient = ctx.createRadialGradient(\r\n        x,\r\n        y,\r\n        0,\r\n        x + r,\r\n        y + r,\r\n        w\r\n    );\r\n\r\n    gradient.addColorStop(0, color.inverted().lighter(50).toString());\r\n    gradient.addColorStop(1, color.inverted().darker(25).toString());\r\n    ctx.fillStyle = gradient;\r\n    ctx.arc(x, y, r, radians(0), radians(360), false);\r\n    ctx.fill();\r\n\r\n    ctx.lineWidth = l / 2;\r\n    ctx.arc(x, y, r, radians(0), radians(360), false);\r\n    ctx.stroke();\r\n\r\n    ctx.lineWidth = l;\r\n    ctx.beginPath();\r\n    ctx.moveTo(l / 2, h - l / 2);\r\n    ctx.lineTo(x - Math.sqrt(r + l), y + Math.sqrt(r + l));\r\n    ctx.closePath();\r\n    ctx.stroke();\r\n\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolMagnifierOutline = function (canvas, color) {\r\n    // answer a canvas showing a magnifying glass\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        h = canvas.height,\r\n        r = w * 0.3,\r\n        x = w * 2 / 3 - Math.sqrt(r),\r\n        y = h / 3 + Math.sqrt(r),\r\n        l = Math.max(w / 5, 0.5);\r\n\r\n    ctx.strokeStyle = color.toString();\r\n\r\n    ctx.lineWidth = l * 0.5;\r\n    ctx.arc(x, y, r, radians(0), radians(360), false);\r\n    ctx.stroke();\r\n\r\n    ctx.lineWidth = l;\r\n    ctx.beginPath();\r\n    ctx.moveTo(l / 2, h - l / 2);\r\n    ctx.lineTo(x - Math.sqrt(r + l), y + Math.sqrt(r + l));\r\n    ctx.closePath();\r\n    ctx.stroke();\r\n\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolNotes = function (canvas, color) {\r\n    // answer a canvas showing two musical notes\r\n    var ctx = canvas.getContext('2d'),\r\n        size = canvas.width,\r\n        r = size / 6,\r\n        l = Math.max(r / 3, 1);\r\n\r\n    ctx.strokeStyle = color.toString();\r\n    ctx.fillStyle = color.toString();\r\n\r\n    ctx.arc(r, size - r, r, radians(0), radians(360), false);\r\n    ctx.fill();\r\n    ctx.arc(size - r, size - (r * 2), r, radians(0), radians(360), false);\r\n    ctx.fill();\r\n\r\n    ctx.beginPath();\r\n    ctx.moveTo(r * 2 - l, r);\r\n    ctx.lineTo(size, 0);\r\n    ctx.lineTo(size, r);\r\n    ctx.lineTo(r * 2 - l, r * 2);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    ctx.lineWidth = l;\r\n    ctx.beginPath();\r\n    ctx.moveTo(r * 2 - (l / 2), size - r);\r\n    ctx.lineTo(r * 2 - (l / 2), r + l);\r\n    ctx.stroke();\r\n\r\n    ctx.beginPath();\r\n    ctx.moveTo(size - (l / 2), size - (r * 2));\r\n    ctx.lineTo(size - (l / 2), l);\r\n    ctx.stroke();\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolCamera = function (canvas, color) {\r\n    // answer a canvas showing a camera\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        h = canvas.width,\r\n        r = w * 0.16,\r\n        l = Math.max(w / 20, 0.5);\r\n\r\n    ctx.lineWidth = l * 2;\r\n\r\n    // camera body\r\n    ctx.fillStyle = color.toString();\r\n    ctx.beginPath();\r\n    ctx.moveTo(l, h * 5 / 6);\r\n    ctx.lineTo(w - l, h * 5 / 6);\r\n    ctx.lineTo(w - l, h / 4);\r\n    ctx.lineTo(w * 3 / 4 , h / 4);\r\n    ctx.lineTo(w * 5 / 8 , l);\r\n    ctx.lineTo(w * 3 / 8 , l);\r\n    ctx.lineTo(w / 4 , h / 4);\r\n    ctx.lineTo(l , h / 4);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    // camera lens\r\n    ctx.save();\r\n    ctx.globalCompositeOperation = 'destination-out';\r\n    ctx.beginPath();\r\n    ctx.arc(w / 2, h / 2, r, radians(0), radians(360), false);\r\n    ctx.fill();\r\n    ctx.restore();\r\n\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolLocation = function (canvas, color) {\r\n    // answer a canvas showing a map pin\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        h = canvas.height,\r\n        r = w / 2;\r\n\r\n    // pin\r\n    ctx.fillStyle = color.toString();\r\n    ctx.beginPath();\r\n    ctx.arc(r, r, r, radians(-210), radians(30), false);\r\n    ctx.lineTo(r, h);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    // hole\r\n    ctx.globalCompositeOperation = 'destination-out';\r\n    ctx.beginPath();\r\n    ctx.arc(r, r, r * 0.5, radians(0), radians(360), false);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolFootprints = function (canvas, color) {\r\n    // answer a canvas showing a pair of (shoe) footprints\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        u = w / 10,\r\n        r = u * 1.5;\r\n\r\n    ctx.fillStyle = color.toString();\r\n\r\n    // left shoe\r\n    // tip\r\n    ctx.beginPath();\r\n    ctx.arc(r, r, r, radians(-200), radians(0), false);\r\n    ctx.lineTo(r * 2, u * 5.5);\r\n    ctx.lineTo(u, u * 6);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n    // heel\r\n    ctx.beginPath();\r\n    ctx.arc(u * 2.25, u * 6.75, u , radians(-40), radians(-170), false);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    // right shoe\r\n    // tip\r\n    ctx.beginPath();\r\n    ctx.arc(w - r, u * 4.5, r, radians(-180), radians(20), false);\r\n    ctx.lineTo(w - u, u * 8.5);\r\n    ctx.lineTo(w - (r * 2), u * 8);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n    // heel\r\n    ctx.beginPath();\r\n    ctx.arc(w - (u * 2.25), u * 9, u, radians(0), radians(-150), false);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n    return canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolKeyboard = function (canvas, color) {\r\n    // answer a canvas showing a typing keyboard\r\n    var ctx = canvas.getContext('2d'),\r\n        h = canvas.height,\r\n        u = h / 10,\r\n        k = h / 5,\r\n        row, col;\r\n\r\n    ctx.fillStyle = color.toString();\r\n    for (row = 0; row < 2; row += 1) {\r\n\t\tfor (col = 0; col < 5; col += 1) {\r\n\t\t\tctx.fillRect(\r\n      \t\t\t((u + k) * col) + u,\r\n          \t\t((u + k) * row) + u,\r\n           \t\tk,\r\n           \t\tk\r\n\t\t\t);\r\n   \t\t}\r\n  \t}\r\n\tctx.fillRect(u * 4, u * 7, k * 4, k);\r\n\treturn canvas;\r\n};\r\n\r\nSymbolMorph.prototype.drawSymbolKeyboardFilled = function (canvas, color) {\r\n    // answer a canvas showing a typing keyboard\r\n    var ctx = canvas.getContext('2d'),\r\n        w = canvas.width,\r\n        h = canvas.height,\r\n        u = h / 10,\r\n        k = h / 5,\r\n        row, col;\r\n\r\n    ctx.fillStyle = color.toString();\r\n    ctx.fillRect(0, 0, w, h);\r\n    ctx.globalCompositeOperation = 'destination-out';\r\n    for (row = 0; row < 2; row += 1) {\r\n        for (col = 0; col < 5; col += 1) {\r\n            ctx.fillRect(\r\n                  ((u + k) * col) + u,\r\n                  ((u + k) * row) + u,\r\n                   k,\r\n                   k\r\n            );\r\n           }\r\n      }\r\n    ctx.fillRect(u * 4, u * 7, k * 4, k);\r\n    return canvas;\r\n};\r\n//fin de Symbols\r\n/*\r\n\r\n    xml.js\r\n\r\n    a simple XML DOM, encoder and parser for morphic.js\r\n\r\n    written by Jens Mönig\r\n    jens@moenig.org\r\n\r\n    Copyright (C) 2015 by Jens Mönig\r\n\r\n    This file is part of Snap!.\r\n\r\n    Snap! is free software: you can redistribute it and/or modify\r\n    it under the terms of the GNU Affero General Public License as\r\n    published by the Free Software Foundation, either version 3 of\r\n    the License, or (at your option) any later version.\r\n\r\n    This program is distributed in the hope that it will be useful,\r\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n    GNU Affero General Public License for more details.\r\n\r\n    You should have received a copy of the GNU Affero General Public License\r\n    along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n\r\n\r\n    prerequisites:\r\n    --------------\r\n    needs morphic.js\r\n\r\n\r\n    hierarchy\r\n    ---------\r\n    the following tree lists all constructors hierarchically,\r\n    indentation indicating inheritance. Refer to this list to get a\r\n    contextual overview:\r\n\r\n        Node*\r\n            XML_Element\r\n        ReadStream\r\n\r\n    * defined in morphic.js\r\n\r\n\r\n    toc\r\n    ---\r\n    the following list shows the order in which all constructors are\r\n    defined. Use this list to locate code in this document:\r\n\r\n        ReadStream\r\n        XML_Element\r\n\r\n\r\n    credits\r\n    -------\r\n    Nathan Dinsmore contributed to the design and implemented a first\r\n    working version of a complete XMLSerializer. I have taken much of the\r\n    overall design and many of the functions and methods in this file from\r\n    Nathan's fine original prototype. Recently Nathan has once again\r\n    worked his magic on the parser and optimized it by an order of\r\n    magnitude.\r\n\r\n*/\r\n\r\n/*global modules, detect, Node, isNil*/\r\n\r\n// Global stuff ////////////////////////////////////////////////////////\r\n\r\nmodules.xml = '2017-November-15';\r\n\r\n// Declarations\r\n\r\nvar ReadStream;\r\nvar XML_Element;\r\n\r\n// ReadStream ////////////////////////////////////////////////////////////\r\n\r\n// I am a sequential reading interface to an Array or String\r\n\r\n// ReadStream instance creation:\r\n\r\nfunction ReadStream(arrayOrString) {\r\n    this.contents = arrayOrString || '';\r\n    this.index = 0;\r\n}\r\n\r\n// ReadStream constants:\r\n\r\nReadStream.prototype.nonSpace = /\\S|$/g;\r\nReadStream.prototype.nonWord = /[\\s\\>\\/\\=]|$/g;\r\n\r\n// ReadStream accessing:\r\n\r\nReadStream.prototype.next = function (count) {\r\n    var element, start;\r\n    if (count === undefined) {\r\n        element = this.contents[this.index];\r\n        this.index += 1;\r\n        return element;\r\n    }\r\n    start = this.index;\r\n    this.index += count;\r\n    return this.contents.slice(start, this.index);\r\n};\r\n\r\nReadStream.prototype.peek = function () {\r\n    return this.contents[this.index];\r\n};\r\n\r\nReadStream.prototype.skip = function (count) {\r\n    this.index += count || 1;\r\n};\r\n\r\nReadStream.prototype.atEnd = function () {\r\n    return this.index > (this.contents.length - 1);\r\n};\r\n\r\n// ReadStream accessing String contents:\r\n\r\nReadStream.prototype.upTo = function (str) {\r\n    var i = this.contents.indexOf(str, this.index);\r\n    return i === -1 ? '' : this.contents.slice(this.index, this.index = i);\r\n};\r\n\r\nReadStream.prototype.peekUpTo = function (str) {\r\n    var i = this.contents.indexOf(str, this.index);\r\n    return i === -1 ? '' : this.contents.slice(this.index, i);\r\n};\r\n\r\nReadStream.prototype.skipSpace = function () {\r\n    this.nonSpace.lastIndex = this.index;\r\n    var result = this.nonSpace.exec(this.contents);\r\n    if (result) this.index = result.index;\r\n};\r\n\r\nReadStream.prototype.word = function () {\r\n    this.nonWord.lastIndex = this.index;\r\n    var result = this.nonWord.exec(this.contents);\r\n    return result ? this.contents.slice(this.index, this.index = result.index) : '';\r\n};\r\n\r\n// XML_Element ///////////////////////////////////////////////////////////\r\n/*\r\n    I am a DOM-Node which can encode itself to as well as parse itself\r\n    from a well-formed XML string. Note that there is no separate parser\r\n    object, all the parsing can be done in a single object.\r\n*/\r\n\r\n// XML_Element inherits from Node:\r\n\r\nXML_Element.prototype = Object.create(Node.prototype);\r\nXML_Element.prototype.constructor = XML_Element;\r\nXML_Element.uber = Node.prototype;\r\n\r\n// XML_Element preferences settings:\r\n\r\nXML_Element.prototype.indentation = '  ';\r\n\r\n// XML_Element instance creation:\r\n\r\nfunction XML_Element(tag, contents, parent) {\r\n    this.init(tag, contents, parent);\r\n}\r\n\r\nXML_Element.prototype.init = function (tag, contents, parent) {\r\n    // additional properties:\r\n    this.tag = tag || 'unnamed';\r\n    this.attributes = {};\r\n    this.contents = contents || '';\r\n\r\n    // initialize inherited properties:\r\n    XML_Element.uber.init.call(this);\r\n\r\n    // override inherited properties\r\n    if (parent) parent.addChild(this);\r\n};\r\n\r\n// XML_Element DOM navigation: (aside from what's inherited from Node)\r\n\r\nXML_Element.prototype.require = function (tagName) {\r\n    // answer the first direct child with the specified tagName, or throw\r\n    // an error if it doesn't exist\r\n    var child = this.childNamed(tagName);\r\n    if (!child) {\r\n        throw new Error('Missing required element <' + tagName + '>!');\r\n    }\r\n    return child;\r\n};\r\n\r\nXML_Element.prototype.childNamed = function (tagName) {\r\n    // answer the first direct child with the specified tagName, or null\r\n    return detect(\r\n        this.children,\r\n        function (child) {return child.tag === tagName; }\r\n    );\r\n};\r\n\r\nXML_Element.prototype.childrenNamed = function (tagName) {\r\n    // answer all direct children with the specified tagName\r\n    return this.children.filter(\r\n        function (child) {return child.tag === tagName; }\r\n    );\r\n};\r\n\r\nXML_Element.prototype.parentNamed = function (tagName) {\r\n    // including myself\r\n    if (this.tag === tagName) {\r\n        return this;\r\n    }\r\n    if (!this.parent) {\r\n        return null;\r\n    }\r\n    return this.parent.parentNamed(tagName);\r\n};\r\n\r\n// XML_Element output:\r\n\r\nXML_Element.prototype.toString = function (isFormatted, indentationLevel) {\r\n    var result = '',\r\n        indent = '',\r\n        level = indentationLevel || 0,\r\n        key,\r\n        i;\r\n\r\n    // spaces for indentation, if any\r\n    if (isFormatted) {\r\n        for (i = 0; i < level; i += 1) {\r\n            indent += this.indentation;\r\n        }\r\n        result += indent;\r\n    }\r\n\r\n    // opening tag\r\n    result += ('<' + this.tag);\r\n\r\n    // attributes, if any\r\n    for (key in this.attributes) {\r\n        if (Object.prototype.hasOwnProperty.call(this.attributes, key)\r\n                && this.attributes[key]) {\r\n            result += ' ' + key + '=\"' + this.escape(this.attributes[key]) + '\"';\r\n        }\r\n    }\r\n\r\n    // contents, subnodes, and closing tag\r\n    if (!this.contents.length && !this.children.length) {\r\n        result += '/>';\r\n    } else {\r\n        result += '>';\r\n        result += this.escape(this.contents);\r\n        this.children.forEach(function (element) {\r\n            if (isFormatted) {\r\n                result += '\\n';\r\n            }\r\n            result += element.toString(isFormatted, level + 1);\r\n        });\r\n        if (isFormatted && this.children.length) {\r\n            result += ('\\n' + indent);\r\n        }\r\n        result += '</' + this.tag + '>';\r\n    }\r\n    return result;\r\n};\r\n\r\nXML_Element.prototype.escape = function (string, ignoreQuotes) {\r\n    var src = isNil(string) ? '' : string.toString(),\r\n        result = '',\r\n        i,\r\n        ch;\r\n    for (i = 0; i < src.length; i += 1) {\r\n        ch = src[i];\r\n        switch (ch) {\r\n        case '\\'':\r\n            result += '&apos;';\r\n            break;\r\n        case '\\\"':\r\n            result += ignoreQuotes ? ch : '&quot;';\r\n            break;\r\n        case '<':\r\n            result += '&lt;';\r\n            break;\r\n        case '>':\r\n            result += '&gt;';\r\n            break;\r\n        case '&':\r\n            result += '&amp;';\r\n            break;\r\n        case '\\n': // escape CR b/c of export to URL feature\r\n            result += '&#xD;';\r\n            break;\r\n        case '~': // escape tilde b/c it's overloaded in serializer.store()\r\n            result += '&#126;';\r\n            break;\r\n        default:\r\n            result += ch;\r\n        }\r\n    }\r\n    return result;\r\n};\r\n\r\nXML_Element.prototype.unescape = function (string) {\r\n    return string.replace(/&(amp|apos|quot|lt|gt|#xD|#126);/g, function(_, name) {\r\n        switch (name) {\r\n            case 'amp': return '&';\r\n            case 'apos': return '\\'';\r\n            case 'quot': return '\"';\r\n            case 'lt': return '<';\r\n            case 'gt': return '>';\r\n            case '#xD': return '\\n';\r\n            case '#126': return '~';\r\n            default: console.warn('unreachable');\r\n        }\r\n    });\r\n};\r\n\r\n// XML_Element parsing:\r\n\r\nXML_Element.prototype.parseString = function (string) {\r\n    var stream = new ReadStream(string);\r\n    stream.upTo('<');\r\n    stream.skip();\r\n    this.parseStream(stream);\r\n};\r\n\r\nXML_Element.prototype.parseStream = function (stream) {\r\n    var key, value, ch, child;\r\n\r\n    // tag:\r\n    this.tag = stream.word();\r\n    stream.skipSpace();\r\n\r\n    // attributes:\r\n    ch = stream.peek();\r\n    while (ch !== '>' && ch !== '/') {\r\n        key = stream.word();\r\n        stream.skipSpace();\r\n        if (stream.next() !== '=') {\r\n            throw new Error('Expected \"=\" after attribute name');\r\n        }\r\n        stream.skipSpace();\r\n        ch = stream.next();\r\n        if (ch !== '\"' && ch !== \"'\") {\r\n            throw new Error('Expected single- or double-quoted attribute value');\r\n        }\r\n        value = stream.upTo(ch);\r\n        stream.skip(1);\r\n        stream.skipSpace();\r\n        this.attributes[key] = this.unescape(value);\r\n        ch = stream.peek();\r\n    }\r\n\r\n    // empty tag:\r\n    if (ch === '/') {\r\n        stream.skip();\r\n        if (stream.next() !== '>') {\r\n            throw new Error('Expected \">\" after \"/\" in empty tag');\r\n        }\r\n        return;\r\n    }\r\n    if (stream.next() !== '>') {\r\n        throw new Error('Expected \">\" after tag name and attributes');\r\n    }\r\n\r\n    // contents and children\r\n    while (!stream.atEnd()) {\r\n        ch = stream.next();\r\n        if (ch === '<') {\r\n            if (stream.peek() === '/') { // closing tag\r\n                stream.skip();\r\n                if (stream.word() !== this.tag) {\r\n                    throw new Error('Expected to close ' + this.tag);\r\n                }\r\n                stream.upTo('>');\r\n                stream.skip();\r\n                this.contents = this.unescape(this.contents);\r\n                return;\r\n            }\r\n            child = new XML_Element(null, null, this);\r\n            child.parseStream(stream);\r\n        } else {\r\n            this.contents += ch;\r\n        }\r\n    }\r\n};\r\n//fin de xml\r\n/*\r\n\r\n    store.js\r\n\r\n    saving and loading Snap! projects\r\n\r\n    written by Jens Mönig\r\n    jens@moenig.org\r\n\r\n    Copyright (C) 2017 by Jens Mönig\r\n\r\n    This file is part of Snap!.\r\n\r\n    Snap! is free software: you can redistribute it and/or modify\r\n    it under the terms of the GNU Affero General Public License as\r\n    published by the Free Software Foundation, either version 3 of\r\n    the License, or (at your option) any later version.\r\n\r\n    This program is distributed in the hope that it will be useful,\r\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n    GNU Affero General Public License for more details.\r\n\r\n    You should have received a copy of the GNU Affero General Public License\r\n    along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n\r\n\r\n    prerequisites:\r\n    --------------\r\n    needs morphic.js, xml.js, and most of Snap!'s other modules\r\n\r\n\r\n    hierarchy\r\n    ---------\r\n    the following tree lists all constructors hierarchically,\r\n    indentation indicating inheritance. Refer to this list to get a\r\n    contextual overview:\r\n\r\n        XML_Serializer\r\n            SnapSerializer\r\n\r\n\r\n    credits\r\n    -------\r\n    Nathan Dinsmore contributed to the design and implemented a first\r\n    working version of a complete XMLSerializer. I have taken much of the\r\n    overall design and many of the functions and methods in this file from\r\n    Nathan's fine original prototype.\r\n\r\n*/\r\n\r\n/*global modules, XML_Element, VariableFrame, StageMorph, SpriteMorph,\r\nWatcherMorph, Point, CustomBlockDefinition, Context, ReporterBlockMorph,\r\nCommandBlockMorph, detect, CustomCommandBlockMorph, CustomReporterBlockMorph,\r\nColor, List, newCanvas, Costume, Sound, Audio, IDE_Morph, ScriptsMorph,\r\nBlockMorph, ArgMorph, InputSlotMorph, TemplateSlotMorph, CommandSlotMorph,\r\nFunctionSlotMorph, MultiArgMorph, ColorSlotMorph, nop, CommentMorph, isNil,\r\nlocalize, sizeOf, ArgLabelMorph, SVG_Costume, MorphicPreferences,\r\nSyntaxElementMorph, Variable, isSnapObject, console, BooleanSlotMorph,\r\nnormalizeCanvas, contains*/\r\n\r\n// Global stuff ////////////////////////////////////////////////////////\r\n\r\nmodules.store = '2017-December-01';\r\n\r\n\r\n// XML_Serializer ///////////////////////////////////////////////////////\r\n/*\r\n    I am an abstract protype for my heirs.\r\n\r\n    I manage object identities and keep track of circular data structures.\r\n    Objects are \"touched\" and a property named \"serializationID\" is added\r\n    to each, representing an index integer in the list, starting with 1.\r\n*/\r\n\r\n// XML_Serializer instance creation:\r\n\r\nfunction XML_Serializer() {\r\n    this.contents = [];\r\n    this.media = [];\r\n    this.isCollectingMedia = false;\r\n    this.isExportingBlocksLibrary = false;\r\n}\r\n\r\n// XML_Serializer preferences settings:\r\n\r\nXML_Serializer.prototype.idProperty = 'serializationID';\r\nXML_Serializer.prototype.mediaIdProperty = 'serializationMediaID';\r\nXML_Serializer.prototype.mediaDetectionProperty = 'isMedia';\r\nXML_Serializer.prototype.version = 1; // increment on structural change\r\n\r\n// XML_Serializer accessing:\r\n\r\nXML_Serializer.prototype.serialize = function (object, forBlocksLibrary) {\r\n    // public: answer an XML string representing the given object\r\n    var xml;\r\n    this.flush(); // in case an error occurred in an earlier attempt\r\n    this.flushMedia();\r\n    this.isExportingBlocksLibrary = forBlocksLibrary;\r\n    xml = this.store(object);\r\n    this.flush();\r\n    return xml;\r\n};\r\n\r\nXML_Serializer.prototype.store = function (object, mediaID) {\r\n    // private - mediaID is optional\r\n    if (isNil(object) || !object.toXML) {\r\n        // unsupported type, to be checked before calling store()\r\n        // when debugging, be sure to throw an error at this point\r\n        return '';\r\n    }\r\n    if (this.isCollectingMedia && object[this.mediaDetectionProperty]) {\r\n        this.addMedia(object, mediaID);\r\n        return this.format(\r\n            '<ref mediaID=\"@\"></ref>',\r\n            object[this.mediaIdProperty]\r\n        );\r\n    }\r\n    if (object[this.idProperty]) {\r\n        return this.format('<ref id=\"@\"></ref>', object[this.idProperty]);\r\n    }\r\n    this.add(object);\r\n    return object.toXML(this, mediaID).replace(\r\n        '~',\r\n        this.format('id=\"@\"', object[this.idProperty])\r\n    );\r\n};\r\n\r\nXML_Serializer.prototype.mediaXML = function () {\r\n    // answer a project's collected media module as XML\r\n    var xml = '<media>',\r\n        myself = this;\r\n    this.media.forEach(function (object) {\r\n        var str = object.toXML(myself).replace(\r\n            '~',\r\n            myself.format('mediaID=\"@\"', object[myself.mediaIdProperty])\r\n        );\r\n        xml = xml + str;\r\n    });\r\n    return xml + '</media>';\r\n};\r\n\r\nXML_Serializer.prototype.add = function (object) {\r\n    // private - mark the object with a serializationID property and add it\r\n    if (object[this.idProperty]) { // already present\r\n        return -1;\r\n    }\r\n    this.contents.push(object);\r\n    object[this.idProperty] = this.contents.length;\r\n    return this.contents.length;\r\n};\r\n\r\nXML_Serializer.prototype.addMedia = function (object, mediaID) {\r\n    // private - mark the object with a serializationMediaID property\r\n    // and add it to media\r\n    // if a mediaID is given, take it, otherwise generate one\r\n    if (object[this.mediaIdProperty]) { // already present\r\n        return -1;\r\n    }\r\n    this.media.push(object);\r\n    if (mediaID) {\r\n        object[this.mediaIdProperty] = mediaID + '_' + object.name;\r\n    } else {\r\n        object[this.mediaIdProperty] = this.media.length;\r\n    }\r\n    return this.media.length;\r\n};\r\n\r\nXML_Serializer.prototype.at = function (integer) {\r\n    // private\r\n    return this.contents[integer - 1];\r\n};\r\n\r\nXML_Serializer.prototype.flush = function () {\r\n    // private - free all objects and empty my contents\r\n    var myself = this;\r\n    this.contents.forEach(function (obj) {\r\n        delete obj[myself.idProperty];\r\n    });\r\n    this.contents = [];\r\n};\r\n\r\nXML_Serializer.prototype.flushMedia = function () {\r\n    // private - free all media objects and empty my media\r\n    var myself = this;\r\n    if (this.media instanceof Array) {\r\n        this.media.forEach(function (obj) {\r\n            delete obj[myself.mediaIdProperty];\r\n        });\r\n    }\r\n    this.media = [];\r\n    this.isExportingBlocksLibrary = false;\r\n};\r\n\r\n// XML_Serializer formatting:\r\n\r\nXML_Serializer.prototype.escape = XML_Element.prototype.escape;\r\nXML_Serializer.prototype.unescape = XML_Element.prototype.unescape;\r\n\r\n\r\nXML_Serializer.prototype.format = function (string) {\r\n    // private\r\n    var myself = this,\r\n        i = -1,\r\n        values = arguments,\r\n        value;\r\n\r\n    return string.replace(/[@$%]([\\d]+)?/g, function (spec, index) {\r\n        index = parseInt(index, 10);\r\n\r\n        if (isNaN(index)) {\r\n            i += 1;\r\n            value = values[i + 1];\r\n        } else {\r\n            value = values[index + 1];\r\n        }\r\n        // original line of code - now frowned upon by JSLint:\r\n        // value = values[(isNaN(index) ? (i += 1) : index) + 1];\r\n\r\n        return spec === '@' ?\r\n                myself.escape(value)\r\n                    : spec === '$' ?\r\n                        myself.escape(value, true)\r\n                            : value;\r\n    });\r\n};\r\n\r\n// XML_Serializer loading:\r\n\r\nXML_Serializer.prototype.load = function (xmlString) {\r\n    // public - answer a new object which is represented by the given\r\n    // XML string.\r\n    nop(xmlString);\r\n    throw new Error(\r\n        'loading should be implemented in heir of XML_Serializer'\r\n    );\r\n};\r\n\r\nXML_Serializer.prototype.parse = function (xmlString) {\r\n    // private - answer an XML_Element representing the given XML String\r\n    var element = new XML_Element();\r\n    element.parseString(xmlString);\r\n    return element;\r\n};\r\n\r\n// SnapSerializer ////////////////////////////////////////////////////////////\r\n\r\nvar SnapSerializer;\r\n\r\n// SnapSerializer inherits from XML_Serializer:\r\n\r\nSnapSerializer.prototype = new XML_Serializer();\r\nSnapSerializer.prototype.constructor = SnapSerializer;\r\nSnapSerializer.uber = XML_Serializer.prototype;\r\n\r\n// SnapSerializer constants:\r\n\r\nSnapSerializer.prototype.app = 'Snap! 4.1, http://snap.berkeley.edu';\r\n\r\nSnapSerializer.prototype.thumbnailSize = new Point(160, 120);\r\n\r\nSnapSerializer.prototype.watcherLabels = {\r\n    xPosition: 'x position',\r\n    yPosition: 'y position',\r\n    direction: 'direction',\r\n    getScale: 'size',\r\n    getTempo: 'tempo',\r\n    getLastAnswer: 'answer',\r\n    getLastMessage: 'message',\r\n    getTimer: 'timer',\r\n    getCostumeIdx: 'costume #',\r\n    reportMouseX: 'mouse x',\r\n    reportMouseY: 'mouse y',\r\n    reportThreadCount: 'processes'\r\n};\r\n\r\n// SnapSerializer instance creation:\r\n\r\nfunction SnapSerializer() {\r\n    this.init();\r\n}\r\n\r\n// SnapSerializer initialization:\r\n\r\nSnapSerializer.prototype.init = function () {\r\n    this.project = {};\r\n    this.objects = {};\r\n    this.mediaDict = {};\r\n};\r\n\r\n// SnapSerializer saving:\r\n\r\nXML_Serializer.prototype.mediaXML = function (name) {\r\n    // under construction....\r\n    var xml = '<media name=\"' +\r\n            (name || 'untitled') +\r\n            '\" app=\"' + this.app +\r\n            '\" version=\"' +\r\n            this.version +\r\n            '\">',\r\n        myself = this;\r\n    this.media.forEach(function (object) {\r\n        var str = object.toXML(myself).replace(\r\n            '~',\r\n            myself.format('mediaID=\"@\"', object[myself.mediaIdProperty])\r\n        );\r\n        xml = xml + str;\r\n    });\r\n    return xml + '</media>';\r\n};\r\n\r\n// SnapSerializer loading:\r\n\r\nSnapSerializer.prototype.load = function (xmlString, ide) {\r\n    // public - answer a new Project represented by the given XML String\r\n    return this.loadProjectModel(this.parse(xmlString), ide);\r\n};\r\n\r\nSnapSerializer.prototype.loadProjectModel = function (xmlNode, ide) {\r\n    // public - answer a new Project represented by the given XML top node\r\n    // show a warning if the origin apps differ\r\n\r\n    var appInfo = xmlNode.attributes.app,\r\n        app = appInfo ? appInfo.split(' ')[0] : null;\r\n\r\n    if (ide && app && app !== this.app.split(' ')[0]) {\r\n        ide.inform(\r\n            app + ' Project',\r\n            'This project has been created by a different app:\\n\\n' +\r\n                app +\r\n                '\\n\\nand may be incompatible or fail to load here.'\r\n        );\r\n    }\r\n    return this.rawLoadProjectModel(xmlNode);\r\n};\r\n\r\nSnapSerializer.prototype.rawLoadProjectModel = function (xmlNode) {\r\n    // private\r\n    var myself = this,\r\n        project = {sprites: {}},\r\n        model,\r\n        nameID;\r\n\r\n    this.project = project;\r\n\r\n    model = {project: xmlNode };\r\n    if (+xmlNode.attributes.version > this.version) {\r\n        throw 'Project uses newer version of Serializer';\r\n    }\r\n\r\n    /* Project Info */\r\n\r\n    this.objects = {};\r\n    project.name = model.project.attributes.name;\r\n    if (!project.name) {\r\n        nameID = 1;\r\n        while (\r\n            Object.prototype.hasOwnProperty.call(\r\n                localStorage,\r\n                '-snap-project-Untitled ' + nameID\r\n            )\r\n        ) {\r\n            nameID += 1;\r\n        }\r\n        project.name = 'Untitled ' + nameID;\r\n    }\r\n    model.notes = model.project.childNamed('notes');\r\n    if (model.notes) {\r\n        project.notes = model.notes.contents;\r\n    }\r\n    model.globalVariables = model.project.childNamed('variables');\r\n    project.globalVariables = new VariableFrame();\r\n\r\n    /* Stage */\r\n\r\n    model.stage = model.project.require('stage');\r\n    StageMorph.prototype.frameRate = 0;\r\n    project.stage = new StageMorph(project.globalVariables);\r\n    if (Object.prototype.hasOwnProperty.call(\r\n            model.stage.attributes,\r\n            'id'\r\n        )) {\r\n        this.objects[model.stage.attributes.id] = project.stage;\r\n    }\r\n    if (model.stage.attributes.name) {\r\n        project.stage.name = model.stage.attributes.name;\r\n    }\r\n    if (model.stage.attributes.scheduled === 'true') {\r\n        project.stage.fps = 30;\r\n        StageMorph.prototype.frameRate = 30;\r\n    }\r\n    model.pentrails = model.stage.childNamed('pentrails');\r\n    if (model.pentrails) {\r\n        project.pentrails = new Image();\r\n        project.pentrails.onload = function () {\r\n            if (project.stage.trailsCanvas) { // work-around a bug in FF\r\n                normalizeCanvas(project.stage.trailsCanvas);\r\n                var context = project.stage.trailsCanvas.getContext('2d');\r\n                context.drawImage(project.pentrails, 0, 0);\r\n                project.stage.changed();\r\n            }\r\n        };\r\n        project.pentrails.src = model.pentrails.contents;\r\n    }\r\n    project.stage.setTempo(model.stage.attributes.tempo);\r\n    StageMorph.prototype.dimensions = new Point(480, 360);\r\n    if (model.stage.attributes.width) {\r\n        StageMorph.prototype.dimensions.x =\r\n            Math.max(+model.stage.attributes.width, 240);\r\n    }\r\n    if (model.stage.attributes.height) {\r\n        StageMorph.prototype.dimensions.y =\r\n            Math.max(+model.stage.attributes.height, 180);\r\n    }\r\n    project.stage.setExtent(StageMorph.prototype.dimensions);\r\n    SpriteMorph.prototype.useFlatLineEnds =\r\n        model.stage.attributes.lines === 'flat';\r\n    BooleanSlotMorph.prototype.isTernary =\r\n        model.stage.attributes.ternary !== 'false';\r\n    project.stage.isThreadSafe =\r\n        model.stage.attributes.threadsafe === 'true';\r\n    StageMorph.prototype.enableCodeMapping =\r\n        model.stage.attributes.codify === 'true';\r\n    StageMorph.prototype.enableInheritance =\r\n        model.stage.attributes.inheritance !== 'false';\r\n    StageMorph.prototype.enableSublistIDs =\r\n        model.stage.attributes.sublistIDs === 'true';\r\n\r\n    model.hiddenPrimitives = model.project.childNamed('hidden');\r\n    if (model.hiddenPrimitives) {\r\n        model.hiddenPrimitives.contents.split(' ').forEach(\r\n            function (sel) {\r\n                if (sel) {\r\n                    StageMorph.prototype.hiddenPrimitives[sel] = true;\r\n                }\r\n            }\r\n        );\r\n    }\r\n\r\n    model.codeHeaders = model.project.childNamed('headers');\r\n    if (model.codeHeaders) {\r\n        model.codeHeaders.children.forEach(function (xml) {\r\n            StageMorph.prototype.codeHeaders[xml.tag] = xml.contents;\r\n        });\r\n    }\r\n\r\n    model.codeMappings = model.project.childNamed('code');\r\n    if (model.codeMappings) {\r\n        model.codeMappings.children.forEach(function (xml) {\r\n            StageMorph.prototype.codeMappings[xml.tag] = xml.contents;\r\n        });\r\n    }\r\n\r\n    model.globalBlocks = model.project.childNamed('blocks');\r\n    if (model.globalBlocks) {\r\n        this.loadCustomBlocks(project.stage, model.globalBlocks, true);\r\n        this.populateCustomBlocks(\r\n            project.stage,\r\n            model.globalBlocks,\r\n            true\r\n        );\r\n    }\r\n    this.loadObject(project.stage, model.stage);\r\n\r\n    /* Sprites */\r\n\r\n    model.sprites = model.stage.require('sprites');\r\n    project.sprites[project.stage.name] = project.stage;\r\n\r\n    model.sprites.childrenNamed('sprite').forEach(function (model) {\r\n        myself.loadValue(model);\r\n    });\r\n\r\n    // restore inheritance and nesting associations\r\n    myself.project.stage.children.forEach(function (sprite) {\r\n        var exemplar, anchor;\r\n        if (sprite.inheritanceInfo) { // only sprites can inherit\r\n            exemplar = myself.project.sprites[\r\n                sprite.inheritanceInfo.exemplar\r\n            ];\r\n            if (exemplar) {\r\n                sprite.setExemplar(exemplar);\r\n            }\r\n            sprite.inheritedAttributes = sprite.inheritanceInfo.delegated || [];\r\n        }\r\n        if (sprite.nestingInfo) { // only sprites may have nesting info\r\n            anchor = myself.project.sprites[sprite.nestingInfo.anchor];\r\n            if (anchor) {\r\n                anchor.attachPart(sprite);\r\n            }\r\n            sprite.rotatesWithAnchor = (sprite.nestingInfo.synch === 'true');\r\n        }\r\n    });\r\n    myself.project.stage.children.forEach(function (sprite) {\r\n        var costume;\r\n        if (sprite.nestingInfo) { // only sprites may have nesting info\r\n            sprite.nestingScale = +(sprite.nestingInfo.scale || sprite.scale);\r\n            delete sprite.nestingInfo;\r\n        }\r\n        ['scripts', 'costumes', 'sounds'].forEach(function (att) {\r\n            if (sprite.inheritsAttribute(att)) {\r\n                sprite.refreshInheritedAttribute(att);\r\n            }\r\n        });\r\n        if (sprite.inheritsAttribute('costumes')) {\r\n            costume = sprite.costumes.asArray()[\r\n                sprite.inheritanceInfo.costumeNumber - 1\r\n            ];\r\n            if (costume) {\r\n                if (costume.loaded) {\r\n                    sprite.wearCostume(costume, true);\r\n                } else {\r\n                    costume.loaded = function () {\r\n                        sprite.wearCostume(costume, true);\r\n                        this.loaded = true;\r\n                    };\r\n                }\r\n            }\r\n        }\r\n        delete sprite.inheritanceInfo;\r\n    });\r\n\r\n    /* Global Variables */\r\n\r\n    if (model.globalVariables) {\r\n        this.loadVariables(\r\n            project.globalVariables,\r\n            model.globalVariables\r\n        );\r\n    }\r\n\r\n    this.objects = {};\r\n\r\n    /* Watchers */\r\n\r\n    model.sprites.childrenNamed('watcher').forEach(function (model) {\r\n        var watcher, color, target, hidden, extX, extY;\r\n\r\n        color = myself.loadColor(model.attributes.color);\r\n        target = Object.prototype.hasOwnProperty.call(\r\n            model.attributes,\r\n            'scope'\r\n        ) ? project.sprites[model.attributes.scope] : null;\r\n\r\n        // determine whether the watcher is hidden, slightly\r\n        // complicated to retain backward compatibility\r\n        // with former tag format: hidden=\"hidden\"\r\n        // now it's: hidden=\"true\"\r\n        hidden = Object.prototype.hasOwnProperty.call(\r\n            model.attributes,\r\n            'hidden'\r\n        ) && (model.attributes.hidden !== 'false');\r\n\r\n        if (Object.prototype.hasOwnProperty.call(\r\n                model.attributes,\r\n                'var'\r\n            )) {\r\n            watcher = new WatcherMorph(\r\n                model.attributes['var'],\r\n                color,\r\n                isNil(target) ? project.globalVariables\r\n                    : target.variables,\r\n                model.attributes['var'],\r\n                hidden\r\n            );\r\n        } else {\r\n            watcher = new WatcherMorph(\r\n                localize(myself.watcherLabels[model.attributes.s]),\r\n                color,\r\n                target,\r\n                model.attributes.s,\r\n                hidden\r\n            );\r\n        }\r\n        watcher.setStyle(model.attributes.style || 'normal');\r\n        if (watcher.style === 'slider') {\r\n            watcher.setSliderMin(model.attributes.min || '1', true);\r\n            watcher.setSliderMax(model.attributes.max || '100', true);\r\n        }\r\n        watcher.setPosition(\r\n            project.stage.topLeft().add(new Point(\r\n                +model.attributes.x || 0,\r\n                +model.attributes.y || 0\r\n            ))\r\n        );\r\n        project.stage.add(watcher);\r\n        watcher.onNextStep = function () {this.currentValue = null; };\r\n\r\n        // set watcher's contentsMorph's extent if it is showing a list and\r\n        // its monitor dimensions are given\r\n        if (watcher.currentValue instanceof List) {\r\n            extX = model.attributes.extX;\r\n            if (extX) {\r\n                watcher.cellMorph.contentsMorph.setWidth(+extX);\r\n            }\r\n            extY = model.attributes.extY;\r\n            if (extY) {\r\n                watcher.cellMorph.contentsMorph.setHeight(+extY);\r\n            }\r\n            // adjust my contentsMorph's handle position\r\n            watcher.cellMorph.contentsMorph.handle.drawNew();\r\n        }\r\n    });\r\n\r\n    // clear sprites' inherited methods caches, if any\r\n    myself.project.stage.children.forEach(function (sprite) {\r\n        sprite.inheritedMethodsCache = [];\r\n    });\r\n\r\n    this.objects = {};\r\n    return project;\r\n};\r\n\r\nSnapSerializer.prototype.loadBlocks = function (xmlString, targetStage) {\r\n    // public - answer a new Array of custom block definitions\r\n    // represented by the given XML String\r\n    var stage = new StageMorph(),\r\n        model;\r\n\r\n    this.project = {\r\n        stage: stage,\r\n        sprites: {},\r\n        targetStage: targetStage // for secondary custom block def look-up\r\n    };\r\n    model = this.parse(xmlString);\r\n    if (+model.attributes.version > this.version) {\r\n        throw 'Module uses newer version of Serializer';\r\n    }\r\n    this.loadCustomBlocks(stage, model, true);\r\n    this.populateCustomBlocks(\r\n        stage,\r\n        model,\r\n        true\r\n    );\r\n    this.objects = {};\r\n    stage.globalBlocks.forEach(function (def) {\r\n        def.receiver = null;\r\n    });\r\n    this.objects = {};\r\n    this.project = {};\r\n    this.mediaDict = {};\r\n    return stage.globalBlocks;\r\n};\r\n\r\nSnapSerializer.prototype.loadSprites = function (xmlString, ide) {\r\n    // public - import a set of sprites represented by xmlString\r\n    // into the current project of the ide\r\n    var model, project, myself = this;\r\n\r\n    project = this.project = {\r\n        globalVariables: ide.globalVariables,\r\n        stage: ide.stage,\r\n        sprites: {}\r\n    };\r\n    project.sprites[project.stage.name] = project.stage;\r\n\r\n    model = this.parse(xmlString);\r\n    if (+model.attributes.version > this.version) {\r\n        throw 'Module uses newer version of Serializer';\r\n    }\r\n    model.childrenNamed('sprite').forEach(function (model) {\r\n        var sprite  = new SpriteMorph(project.globalVariables);\r\n\r\n        if (model.attributes.id) {\r\n            myself.objects[model.attributes.id] = sprite;\r\n        }\r\n        if (model.attributes.name) {\r\n            sprite.name = ide.newSpriteName(model.attributes.name);\r\n            project.sprites[sprite.name] = sprite;\r\n        }\r\n        if (model.attributes.color) {\r\n            sprite.color = myself.loadColor(model.attributes.color);\r\n        }\r\n        if (model.attributes.pen) {\r\n            sprite.penPoint = model.attributes.pen;\r\n        }\r\n        project.stage.add(sprite);\r\n        ide.sprites.add(sprite);\r\n        sprite.scale = parseFloat(model.attributes.scale || '1');\r\n        sprite.rotationStyle = parseFloat(\r\n            model.attributes.rotation || '1'\r\n        );\r\n        sprite.isDraggable = model.attributes.draggable !== 'false';\r\n        sprite.isVisible = model.attributes.hidden !== 'true';\r\n        sprite.heading = parseFloat(model.attributes.heading) || 0;\r\n        sprite.drawNew();\r\n        sprite.gotoXY(+model.attributes.x || 0, +model.attributes.y || 0);\r\n        myself.loadObject(sprite, model);\r\n    });\r\n\r\n    // restore inheritance and nesting associations\r\n    project.stage.children.forEach(function (sprite) {\r\n        var exemplar, anchor;\r\n        if (sprite.inheritanceInfo) { // only sprites can inherit\r\n            exemplar = project.sprites[\r\n                sprite.inheritanceInfo.exemplar\r\n            ];\r\n            if (exemplar) {\r\n                sprite.setExemplar(exemplar);\r\n            }\r\n        }\r\n        if (sprite.nestingInfo) { // only sprites may have nesting info\r\n            anchor = project.sprites[sprite.nestingInfo.anchor];\r\n            if (anchor) {\r\n                anchor.attachPart(sprite);\r\n            }\r\n            sprite.rotatesWithAnchor = (sprite.nestingInfo.synch === 'true');\r\n        }\r\n    });\r\n    project.stage.children.forEach(function (sprite) {\r\n        delete sprite.inheritanceInfo;\r\n        if (sprite.nestingInfo) { // only sprites may have nesting info\r\n            sprite.nestingScale = +(sprite.nestingInfo.scale || sprite.scale);\r\n            delete sprite.nestingInfo;\r\n        }\r\n    });\r\n\r\n    this.objects = {};\r\n    this.project = {};\r\n    this.mediaDict = {};\r\n\r\n//    ide.stage.drawNew();\r\n    ide.createCorral();\r\n    ide.fixLayout();\r\n};\r\n\r\nSnapSerializer.prototype.loadMedia = function (xmlString) {\r\n    // public - load the media represented by xmlString into memory\r\n    // to be referenced by a media-less project later\r\n    return this.loadMediaModel(this.parse(xmlString));\r\n};\r\n\r\nSnapSerializer.prototype.loadMediaModel = function (xmlNode) {\r\n    // public - load the media represented by xmlNode into memory\r\n    // to be referenced by a media-less project later\r\n    var myself = this,\r\n        model = xmlNode;\r\n    this.mediaDict = {};\r\n    if (+model.attributes.version > this.version) {\r\n        throw 'Module uses newer version of Serializer';\r\n    }\r\n    model.children.forEach(function (model) {\r\n        myself.loadValue(model);\r\n    });\r\n    return this.mediaDict;\r\n};\r\n\r\nSnapSerializer.prototype.loadObject = function (object, model) {\r\n    // private\r\n    var blocks = model.require('blocks'),\r\n        dispatches = model.childNamed('dispatches');\r\n\r\n    // load the instrument\r\n    if (model.attributes.instrument) {\r\n        object.instrument = +model.attributes.instrument;\r\n    }\r\n\r\n    this.loadInheritanceInfo(object, model);\r\n    this.loadNestingInfo(object, model);\r\n\r\n    // load costumes unless they're inherited\r\n    if (!(object.inheritanceInfo &&\r\n            (object.inheritanceInfo.delegated instanceof Array) &&\r\n            contains(object.inheritanceInfo.delegated, 'costumes'))) {\r\n        this.loadCostumes(object, model);\r\n    }\r\n\r\n    // load sounds unless they're inherited\r\n    if (!(object.inheritanceInfo &&\r\n            (object.inheritanceInfo.delegated instanceof Array) &&\r\n            contains(object.inheritanceInfo.delegated, 'sounds'))) {\r\n        this.loadSounds(object, model);\r\n    }\r\n\r\n    this.loadCustomBlocks(object, blocks);\r\n    if (dispatches) {\r\n        this.loadCustomBlocks(object, dispatches, false, true);\r\n    }\r\n    this.populateCustomBlocks(object, blocks);\r\n    this.loadVariables(object.variables, model.require('variables'), object);\r\n\r\n    // load scripts unless they're inherited\r\n    if (!(object.inheritanceInfo &&\r\n            (object.inheritanceInfo.delegated instanceof Array) &&\r\n            contains(object.inheritanceInfo.delegated, 'scripts'))) {\r\n        this.loadScripts(object, object.scripts, model.require('scripts'));\r\n    }\r\n\r\n    // note: the dispatches cache isn't cleared until after\r\n    // *all* objects are loaded\r\n};\r\n\r\nSnapSerializer.prototype.loadInheritanceInfo = function (object, model) {\r\n    // private\r\n    var info = model.childNamed('inherit'),\r\n        delegated;\r\n    if (info) {\r\n        object.inheritanceInfo = info.attributes;\r\n        delegated = info.childNamed('list');\r\n        if (delegated) {\r\n            object.inheritanceInfo.delegated =\r\n                this.loadValue(delegated).asArray();\r\n        }\r\n        object.inheritanceInfo.costumeNumber = model.attributes.costume;\r\n    }\r\n};\r\n\r\nSnapSerializer.prototype.loadNestingInfo = function (object, model) {\r\n    // private\r\n    var info = model.childNamed('nest');\r\n    if (info) {\r\n        object.nestingInfo = info.attributes;\r\n    }\r\n};\r\n\r\nSnapSerializer.prototype.loadCostumes = function (object, model) {\r\n    // private\r\n    var costumes = model.childNamed('costumes'),\r\n        costume;\r\n    if (costumes) {\r\n        object.costumes = this.loadValue(costumes.require('list'));\r\n        object.costumes.type = 'costume';\r\n    }\r\n    if (Object.prototype.hasOwnProperty.call(\r\n            model.attributes,\r\n            'costume'\r\n        )) {\r\n        costume = object.costumes.asArray()[model.attributes.costume - 1];\r\n        if (costume) {\r\n            if (costume.loaded) {\r\n                object.wearCostume(costume, true);\r\n            } else {\r\n                costume.loaded = function () {\r\n                    object.wearCostume(costume, true);\r\n                    this.loaded = true;\r\n                };\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nSnapSerializer.prototype.loadSounds = function (object, model) {\r\n    // private\r\n    var sounds = model.childNamed('sounds');\r\n    if (sounds) {\r\n        object.sounds = this.loadValue(sounds.require('list'));\r\n        object.sounds.type = 'sound';\r\n    }\r\n};\r\n\r\nSnapSerializer.prototype.loadVariables = function (varFrame, element, object) {\r\n    // private\r\n    var myself = this;\r\n\r\n    element.children.forEach(function (child) {\r\n        var v, value;\r\n        if (child.tag !== 'variable') {\r\n            return;\r\n        }\r\n        value = child.children[0];\r\n        v = new Variable();\r\n        v.isTransient = (child.attributes.transient === 'true');\r\n        v.value = (v.isTransient || !value ) ? 0\r\n                : myself.loadValue(value, object);\r\n        varFrame.vars[child.attributes.name] = v;\r\n    });\r\n};\r\n\r\nSnapSerializer.prototype.loadCustomBlocks = function (\r\n    object,\r\n    element,\r\n    isGlobal,\r\n    isDispatch\r\n) {\r\n    // private\r\n    var myself = this;\r\n    element.children.forEach(function (child) {\r\n        var definition, names, inputs, vars, header, code, trans, comment, i;\r\n        if (child.tag !== 'block-definition') {\r\n            return;\r\n        }\r\n        definition = new CustomBlockDefinition(\r\n            child.attributes.s || '',\r\n            object\r\n        );\r\n        definition.category = child.attributes.category || 'other';\r\n        definition.type = child.attributes.type || 'command';\r\n        definition.isGlobal = (isGlobal === true);\r\n        if (isDispatch) {\r\n            object.inheritedMethodsCache.push(definition);\r\n        } else {\r\n            if (definition.isGlobal) {\r\n                object.globalBlocks.push(definition);\r\n            } else {\r\n                object.customBlocks.push(definition);\r\n            }\r\n        }\r\n\r\n        names = definition.parseSpec(definition.spec).filter(\r\n            function (str) {\r\n                return str.charAt(0) === '%' && str.length > 1;\r\n            }\r\n        ).map(function (str) {\r\n            return str.substr(1);\r\n        });\r\n\r\n        definition.names = names;\r\n        inputs = child.childNamed('inputs');\r\n        if (inputs) {\r\n            i = -1;\r\n            inputs.children.forEach(function (child) {\r\n                var options = child.childNamed('options');\r\n                if (child.tag !== 'input') {\r\n                    return;\r\n                }\r\n                i += 1;\r\n                definition.declarations[names[i]] = [\r\n                    child.attributes.type,\r\n                    contains(['%b', '%boolUE'], child.attributes.type) ?\r\n                        (child.contents ? child.contents === 'true' : null)\r\n                            : child.contents,\r\n                    options ? options.contents : undefined,\r\n                    child.attributes.readonly === 'true'\r\n                ];\r\n            });\r\n        }\r\n\r\n        vars = child.childNamed('variables');\r\n        if (vars) {\r\n            definition.variableNames = myself.loadValue(\r\n                vars.require('list')\r\n            ).asArray();\r\n        }\r\n\r\n        header = child.childNamed('header');\r\n        if (header) {\r\n            definition.codeHeader = header.contents;\r\n        }\r\n\r\n        code = child.childNamed('code');\r\n        if (code) {\r\n            definition.codeMapping = code.contents;\r\n        }\r\n\r\n        trans = child.childNamed('translations');\r\n        if (trans) {\r\n            definition.updateTranslations(trans.contents);\r\n        }\r\n\r\n        comment = child.childNamed('comment');\r\n        if (comment) {\r\n            definition.comment = myself.loadComment(comment);\r\n        }\r\n    });\r\n};\r\n\r\nSnapSerializer.prototype.populateCustomBlocks = function (\r\n    object,\r\n    element,\r\n    isGlobal\r\n) {\r\n    // private\r\n    var myself = this;\r\n    element.children.forEach(function (child, index) {\r\n        var definition, script, scripts;\r\n        if (child.tag !== 'block-definition') {\r\n            return;\r\n        }\r\n        definition = isGlobal ? object.globalBlocks[index]\r\n                : object.customBlocks[index];\r\n        script = child.childNamed('script');\r\n        if (script) {\r\n            definition.body = new Context(\r\n                null,\r\n                script ? myself.loadScript(script, object) : null,\r\n                null,\r\n                object\r\n            );\r\n            definition.body.inputs = definition.names.slice(0);\r\n        }\r\n        scripts = child.childNamed('scripts');\r\n        if (scripts) {\r\n            definition.scripts = myself.loadScriptsArray(scripts, object);\r\n        }\r\n\r\n        delete definition.names;\r\n    });\r\n};\r\n\r\nSnapSerializer.prototype.loadScripts = function (object, scripts, model) {\r\n    // private\r\n    var myself = this,\r\n        scale = SyntaxElementMorph.prototype.scale;\r\n    scripts.cachedTexture = IDE_Morph.prototype.scriptsPaneTexture;\r\n    model.children.forEach(function (child) {\r\n        var element;\r\n        if (child.tag === 'script') {\r\n            element = myself.loadScript(child, object);\r\n            if (!element) {\r\n                return;\r\n            }\r\n            element.setPosition(new Point(\r\n                (+child.attributes.x || 0) * scale,\r\n                (+child.attributes.y || 0) * scale\r\n            ).add(scripts.topLeft()));\r\n            scripts.add(element);\r\n            element.fixBlockColor(null, true); // force zebra coloring\r\n            element.allComments().forEach(function (comment) {\r\n                comment.align(element);\r\n            });\r\n        } else if (child.tag === 'comment') {\r\n            element = myself.loadComment(child);\r\n            if (!element) {\r\n                return;\r\n            }\r\n            element.setPosition(new Point(\r\n                (+child.attributes.x || 0) * scale,\r\n                (+child.attributes.y || 0) * scale\r\n            ).add(scripts.topLeft()));\r\n            scripts.add(element);\r\n        }\r\n    });\r\n};\r\n\r\nSnapSerializer.prototype.loadScriptsArray = function (model, object) {\r\n    // private - answer an array containting the model's scripts\r\n    var myself = this,\r\n        scale = SyntaxElementMorph.prototype.scale,\r\n        scripts = [];\r\n    model.children.forEach(function (child) {\r\n        var element;\r\n        if (child.tag === 'script') {\r\n            element = myself.loadScript(child, object);\r\n            if (!element) {\r\n                return;\r\n            }\r\n            element.setPosition(new Point(\r\n                (+child.attributes.x || 0) * scale,\r\n                (+child.attributes.y || 0) * scale\r\n            ));\r\n            scripts.push(element);\r\n            element.fixBlockColor(null, true); // force zebra coloring\r\n        } else if (child.tag === 'comment') {\r\n            element = myself.loadComment(child);\r\n            if (!element) {\r\n                return;\r\n            }\r\n            element.setPosition(new Point(\r\n                (+child.attributes.x || 0) * scale,\r\n                (+child.attributes.y || 0) * scale\r\n            ));\r\n            scripts.push(element);\r\n        }\r\n    });\r\n    return scripts;\r\n};\r\n\r\nSnapSerializer.prototype.loadScript = function (model, object) {\r\n    // private\r\n    var topBlock, block, nextBlock,\r\n        myself = this;\r\n    model.children.forEach(function (child) {\r\n        nextBlock = myself.loadBlock(child, false, object);\r\n        if (!nextBlock) {\r\n            return;\r\n        }\r\n        if (block) {\r\n            if (block.nextBlock && (nextBlock instanceof CommandBlockMorph)) {\r\n                block.nextBlock(nextBlock);\r\n            } else {\r\n                console.log(\r\n                    'SNAP: expecting a command but getting a reporter:\\n' +\r\n                        '  ' + block.blockSpec + '\\n' +\r\n                        '  ' + nextBlock.blockSpec\r\n                );\r\n                return topBlock;\r\n            }\r\n        } else {\r\n            topBlock = nextBlock;\r\n        }\r\n        block = nextBlock;\r\n    });\r\n    return topBlock;\r\n};\r\n\r\nSnapSerializer.prototype.loadComment = function (model) {\r\n    // private\r\n    var comment = new CommentMorph(model.contents),\r\n        scale = SyntaxElementMorph.prototype.scale;\r\n    comment.isCollapsed = (model.attributes.collapsed === 'true');\r\n    comment.setTextWidth(+model.attributes.w * scale);\r\n    return comment;\r\n};\r\n\r\nSnapSerializer.prototype.loadBlock = function (model, isReporter, object) {\r\n    // private\r\n    var block, info, inputs, isGlobal, receiver, migration,\r\n        migrationOffset = 0;\r\n    if (model.tag === 'block') {\r\n        if (Object.prototype.hasOwnProperty.call(\r\n                model.attributes,\r\n                'var'\r\n            )) {\r\n            return SpriteMorph.prototype.variableBlock(\r\n                model.attributes['var']\r\n            );\r\n        }\r\n       \r\n        block = SpriteMorph.prototype.blockForSelector(model.attributes.s);\r\n        migration = SpriteMorph.prototype.blockMigrations[model.attributes.s];\r\n        if (migration) {\r\n            migrationOffset = migration.offset;\r\n        }\r\n    } else if (model.tag === 'custom-block') {\r\n        isGlobal = model.attributes.scope ? false : true;\r\n        receiver = isGlobal ? this.project.stage : object;\r\n        if (isGlobal) {\r\n            info = detect(receiver.globalBlocks, function (block) {\r\n                return block.blockSpec() === model.attributes.s;\r\n            });\r\n            if (!info && this.project.targetStage) { // importing block files\r\n                info = detect(\r\n                    this.project.targetStage.globalBlocks,\r\n                    function (block) {\r\n                        return block.blockSpec() === model.attributes.s;\r\n                    }\r\n                );\r\n            }\r\n        } else {\r\n            // lookup in inherited methods\r\n            info = detect(receiver.customBlocks, function (block) {\r\n                return block.blockSpec() === model.attributes.s;\r\n            }) || (\r\n            \treceiver.inheritedMethodsCache ?\r\n                \tdetect(receiver.inheritedMethodsCache, function (block) {\r\n                    \treturn block.blockSpec() === model.attributes.s;\r\n                \t})\r\n          \t\t: null\r\n          \t);\r\n        }\r\n        if (!info) {\r\n            return this.obsoleteBlock(isReporter);\r\n        }\r\n        block = info.type === 'command' ? new CustomCommandBlockMorph(\r\n            info,\r\n            false\r\n        ) : new CustomReporterBlockMorph(\r\n            info,\r\n            info.type === 'predicate',\r\n            false\r\n        );\r\n    }\r\n    if (block === null) {\r\n        block = this.obsoleteBlock(isReporter);\r\n    }\r\n    block.isDraggable = true;\r\n    inputs = block.inputs();\r\n    model.children.forEach(function (child, i) {\r\n        if (child.tag === 'variables') {\r\n            this.loadVariables(block.variables, child, object);\r\n        } else if (child.tag === 'comment') {\r\n            block.comment = this.loadComment(child);\r\n            block.comment.block = block;\r\n        } else if (child.tag === 'receiver') {\r\n            nop(); // ignore\r\n        } else {\r\n            this.loadInput(child, inputs[i + migrationOffset], block, object);\r\n        }\r\n    }, this);\r\n    block.cachedInputs = null;\r\n    return block;\r\n};\r\n\r\nSnapSerializer.prototype.obsoleteBlock = function (isReporter) {\r\n    // private\r\n    var block = isReporter ? new ReporterBlockMorph()\r\n            : new CommandBlockMorph();\r\n    block.selector = 'errorObsolete';\r\n    block.color = new Color(200, 0, 20);\r\n    block.setSpec('Obsolete!');\r\n    block.isDraggable = true;\r\n    return block;\r\n};\r\n\r\nSnapSerializer.prototype.loadInput = function (model, input, block, object) {\r\n    // private\r\n    var inp, val, myself = this;\r\n    if (isNil(input)) {\r\n        return;\r\n    }\r\n    if (model.tag === 'script') {\r\n        inp = this.loadScript(model, object);\r\n        if (inp) {\r\n            input.add(inp);\r\n            input.fixLayout();\r\n        }\r\n    } else if (model.tag === 'autolambda' && model.children[0]) {\r\n        inp = this.loadBlock(model.children[0], true, object);\r\n        if (inp) {\r\n            input.silentReplaceInput(input.children[0], inp);\r\n            input.fixLayout();\r\n        }\r\n    } else if (model.tag === 'list') {\r\n        while (input.inputs().length > 0) {\r\n            input.removeInput();\r\n        }\r\n        model.children.forEach(function (item) {\r\n            input.addInput();\r\n            myself.loadInput(\r\n                item,\r\n                input.children[input.children.length - 2],\r\n                input,\r\n                object\r\n            );\r\n        });\r\n        input.fixLayout();\r\n    } else if (model.tag === 'block' || model.tag === 'custom-block') {\r\n        block.silentReplaceInput(input, this.loadBlock(model, true, object));\r\n    } else if (model.tag === 'color') {\r\n        input.setColor(this.loadColor(model.contents));\r\n    } else {\r\n        val = this.loadValue(model);\r\n        if (!isNil(val) && !isNil(input) && input.setContents) {\r\n            // checking whether \"input\" is nil should not\r\n            // be necessary, but apparently is after retina support\r\n            // was added.\r\n            input.setContents(this.loadValue(model));\r\n        }\r\n    }\r\n};\r\n\r\nSnapSerializer.prototype.loadValue = function (model, object) {\r\n    // private\r\n    var v, i, lst, items, el, center, image, name, audio, option, bool, origin,\r\n        myself = this;\r\n\r\n    function record() {\r\n        if (Object.prototype.hasOwnProperty.call(\r\n                model.attributes,\r\n                'id'\r\n            )) {\r\n            myself.objects[model.attributes.id] = v;\r\n        }\r\n        if (Object.prototype.hasOwnProperty.call(\r\n                model.attributes,\r\n                'mediaID'\r\n            )) {\r\n            myself.mediaDict[model.attributes.mediaID] = v;\r\n        }\r\n    }\r\n\r\n    switch (model.tag) {\r\n    case 'ref':\r\n        if (Object.prototype.hasOwnProperty.call(model.attributes, 'id')) {\r\n            return this.objects[model.attributes.id];\r\n        }\r\n        if (Object.prototype.hasOwnProperty.call(\r\n                model.attributes,\r\n                'mediaID'\r\n            )) {\r\n            return this.mediaDict[model.attributes.mediaID];\r\n        }\r\n        throw new Error('expecting a reference id');\r\n    case 'l':\r\n        option = model.childNamed('option');\r\n        if (option) {\r\n            return [option.contents];\r\n        }\r\n        bool = model.childNamed('bool');\r\n        if (bool) {\r\n            return this.loadValue(bool);\r\n        }\r\n        return model.contents;\r\n    case 'bool':\r\n        return model.contents === 'true';\r\n    case 'list':\r\n        if (model.attributes.hasOwnProperty('linked')) {\r\n            v = new List();\r\n            v.isLinked = true;\r\n            record();\r\n            lst = v;\r\n            items = model.childrenNamed('item');\r\n            items.forEach(function (item, i) {\r\n                var value = item.children[0];\r\n                if (!value) {\r\n                    v.first = 0;\r\n                } else {\r\n                    v.first = myself.loadValue(value, object);\r\n                }\r\n                var tail = model.childNamed('list') ||\r\n                    model.childNamed('ref');\r\n                if (tail) {\r\n                    v.rest = myself.loadValue(tail, object);\r\n                } else {\r\n                    if (i < (items.length - 1)) {\r\n                        v.rest = new List();\r\n                        v = v.rest;\r\n                        v.isLinked = true;\r\n                    }\r\n                }\r\n            });\r\n            return lst;\r\n        }\r\n        v = new List();\r\n        record();\r\n        v.contents = model.childrenNamed('item').map(function (item) {\r\n            var value = item.children[0];\r\n            if (!value) {\r\n                return 0;\r\n            }\r\n            return myself.loadValue(value, object);\r\n        });\r\n        return v;\r\n    case 'sprite':\r\n        v  = new SpriteMorph(myself.project.globalVariables);\r\n        if (model.attributes.id) {\r\n            myself.objects[model.attributes.id] = v;\r\n        }\r\n        if (model.attributes.name) {\r\n            v.name = model.attributes.name;\r\n            myself.project.sprites[model.attributes.name] = v;\r\n        }\r\n        if (model.attributes.idx) {\r\n            v.idx = +model.attributes.idx;\r\n        }\r\n        if (model.attributes.color) {\r\n            v.color = myself.loadColor(model.attributes.color);\r\n        }\r\n        if (model.attributes.pen) {\r\n            v.penPoint = model.attributes.pen;\r\n        }\r\n        myself.project.stage.add(v);\r\n        v.scale = parseFloat(model.attributes.scale || '1');\r\n        v.rotationStyle = parseFloat(\r\n            model.attributes.rotation || '1'\r\n        );\r\n        v.isDraggable = model.attributes.draggable !== 'false';\r\n        v.isVisible = model.attributes.hidden !== 'true';\r\n        v.heading = parseFloat(model.attributes.heading) || 0;\r\n        v.drawNew();\r\n        v.gotoXY(+model.attributes.x || 0, +model.attributes.y || 0);\r\n        myself.loadObject(v, model);\r\n        return v;\r\n    case 'context':\r\n        v = new Context(null);\r\n        record();\r\n        el = model.childNamed('origin');\r\n        if (el) {\r\n            el = el.childNamed('ref') || el.childNamed('sprite');\r\n            if (el) {\r\n                v.origin = this.loadValue(el);\r\n            }\r\n        }\r\n        el = model.childNamed('receiver');\r\n        if (el) {\r\n            el = el.childNamed('ref') || el.childNamed('sprite');\r\n            if (el) {\r\n                v.receiver = this.loadValue(el);\r\n            }\r\n        }\r\n        origin = v.origin || v.receiver || object; // for local blocks look up\r\n        el = model.childNamed('script');\r\n        if (el) {\r\n            v.expression = this.loadScript(el, origin);\r\n        } else {\r\n            el = model.childNamed('block') ||\r\n                model.childNamed('custom-block');\r\n            if (el) {\r\n                v.expression = this.loadBlock(el, null, origin);\r\n            } else {\r\n                el = model.childNamed('l');\r\n                if (el) {\r\n                    bool = el.childNamed('bool');\r\n                    if (bool) {\r\n                        v.expression = new BooleanSlotMorph(\r\n                            this.loadValue(bool)\r\n                        );\r\n                    } else {\r\n                        v.expression = new InputSlotMorph(el.contents);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (v.expression instanceof BlockMorph) {\r\n            // bind empty slots to implicit formal parameters\r\n            i = 0;\r\n            v.expression.allEmptySlots().forEach(function (slot) {\r\n                i += 1;\r\n                if (slot instanceof MultiArgMorph) {\r\n                    slot.bindingID = ['arguments'];\r\n                } else {\r\n                    slot.bindingID = i;\r\n                }\r\n            });\r\n            // and remember the number of detected empty slots\r\n            v.emptySlots = i;\r\n        }\r\n        el = model.childNamed('inputs');\r\n        if (el) {\r\n            el.children.forEach(function (item) {\r\n                if (item.tag === 'input') {\r\n                    v.inputs.push(item.contents);\r\n                }\r\n            });\r\n        }\r\n        el = model.childNamed('variables');\r\n        if (el) {\r\n            this.loadVariables(v.variables, el, origin);\r\n        }\r\n        el = model.childNamed('context');\r\n        if (el) {\r\n            v.outerContext = this.loadValue(el, origin);\r\n        }\r\n        if (v.outerContext && v.receiver &&\r\n                !v.outerContext.variables.parentFrame) {\r\n            v.outerContext.variables.parentFrame = v.receiver.variables;\r\n        }\r\n        return v;\r\n    case 'costume':\r\n        center = new Point();\r\n        if (Object.prototype.hasOwnProperty.call(\r\n                model.attributes,\r\n                'center-x'\r\n            )) {\r\n            center.x = parseFloat(model.attributes['center-x']);\r\n        }\r\n        if (Object.prototype.hasOwnProperty.call(\r\n                model.attributes,\r\n                'center-y'\r\n            )) {\r\n            center.y = parseFloat(model.attributes['center-y']);\r\n        }\r\n        if (Object.prototype.hasOwnProperty.call(\r\n                model.attributes,\r\n                'name'\r\n            )) {\r\n            name = model.attributes.name;\r\n        }\r\n        if (Object.prototype.hasOwnProperty.call(\r\n                model.attributes,\r\n                'image'\r\n            )) {\r\n            image = new Image();\r\n            if (model.attributes.image.indexOf('data:image/svg+xml') === 0\r\n                    && !MorphicPreferences.rasterizeSVGs) {\r\n                v = new SVG_Costume(null, name, center);\r\n                image.onload = function () {\r\n                    v.contents = image;\r\n                    v.version = +new Date();\r\n                    if (typeof v.loaded === 'function') {\r\n                        v.loaded();\r\n                    } else {\r\n                        v.loaded = true;\r\n                    }\r\n                };\r\n            } else {\r\n                v = new Costume(null, name, center);\r\n                image.onload = function () {\r\n                    var canvas = newCanvas(\r\n                            new Point(image.width, image.height),\r\n                            true // nonRetina\r\n                        ),\r\n                        context = canvas.getContext('2d');\r\n                    context.drawImage(image, 0, 0);\r\n                    v.contents = canvas;\r\n                    v.version = +new Date();\r\n                    if (typeof v.loaded === 'function') {\r\n                        v.loaded();\r\n                    } else {\r\n                        v.loaded = true;\r\n                    }\r\n                };\r\n            }\r\n            image.src = model.attributes.image;\r\n        }\r\n        record();\r\n        return v;\r\n    case 'sound':\r\n        audio = new Audio();\r\n        audio.src = model.attributes.sound;\r\n        v = new Sound(audio, model.attributes.name);\r\n        if (Object.prototype.hasOwnProperty.call(\r\n                model.attributes,\r\n                'mediaID'\r\n            )) {\r\n            myself.mediaDict[model.attributes.mediaID] = v;\r\n        }\r\n        record();\r\n        return v;\r\n    }\r\n    return undefined;\r\n};\r\n\r\nSnapSerializer.prototype.loadColor = function (colorString) {\r\n    // private\r\n    var c = (colorString || '').split(',');\r\n    return new Color(\r\n        parseFloat(c[0]),\r\n        parseFloat(c[1]),\r\n        parseFloat(c[2]),\r\n        parseFloat(c[3])\r\n    );\r\n};\r\n\r\nSnapSerializer.prototype.openProject = function (project, ide) {\r\n    var stage = ide.stage,\r\n        sprites = [],\r\n        sprite;\r\n    if (!project || !project.stage) {\r\n        return;\r\n    }\r\n    ide.projectName = project.name;\r\n    ide.projectNotes = project.notes || '';\r\n    if (ide.globalVariables) {\r\n        ide.globalVariables = project.globalVariables;\r\n    }\r\n    if (stage) {\r\n        stage.destroy();\r\n    }\r\n    ide.add(project.stage);\r\n    ide.stage = project.stage;\r\n    sprites = ide.stage.children.filter(function (child) {\r\n        return child instanceof SpriteMorph;\r\n    });\r\n    sprites.sort(function (x, y) {\r\n        return x.idx - y.idx;\r\n    });\r\n\r\n    ide.sprites = new List(sprites);\r\n    sprite = sprites[0] || project.stage;\r\n\r\n    if (sizeOf(this.mediaDict) > 0) {\r\n        ide.hasChangedMedia = false;\r\n        this.mediaDict = {};\r\n    } else {\r\n        ide.hasChangedMedia = true;\r\n    }\r\n    project.stage.drawNew();\r\n    ide.createCorral();\r\n    ide.selectSprite(sprite);\r\n    ide.fixLayout();\r\n\r\n    // force watchers to update\r\n    //project.stage.watchers().forEach(function (watcher) {\r\n    //  watcher.onNextStep = function () {this.currentValue = null;};\r\n    //})\r\n\r\n    ide.world().keyboardReceiver = project.stage;\r\n};\r\n\r\n// SnapSerializer XML-representation of objects:\r\n\r\n// Generics\r\n// Sprites\r\n\r\nStageMorph.prototype.toXML = function (serializer) {\r\n    var thumbnail = normalizeCanvas(\r\n            this.thumbnail(SnapSerializer.prototype.thumbnailSize),\r\n            true\r\n        ),\r\n        thumbdata,\r\n        ide = this.parentThatIsA(IDE_Morph);\r\n\r\n    // catch cross-origin tainting exception when using SVG costumes\r\n    try {\r\n        thumbdata = thumbnail.toDataURL('image/png');\r\n    } catch (error) {\r\n        thumbdata = null;\r\n    }\r\n\r\n    function code(key) {\r\n        var str = '';\r\n        Object.keys(StageMorph.prototype[key]).forEach(\r\n            function (selector) {\r\n                str += (\r\n                    '<' + selector + '>' +\r\n                        XML_Element.prototype.escape(\r\n                            StageMorph.prototype[key][selector]\r\n                        ) +\r\n                        '</' + selector + '>'\r\n                );\r\n            }\r\n        );\r\n        return str;\r\n    }\r\n\r\n    this.removeAllClones();\r\n    return serializer.format(\r\n        '<project name=\"@\" app=\"@\" version=\"@\">' +\r\n            '<notes>$</notes>' +\r\n            '<thumbnail>$</thumbnail>' +\r\n            '<stage name=\"@\" width=\"@\" height=\"@\" ' +\r\n            'costume=\"@\" tempo=\"@\" threadsafe=\"@\" ' +\r\n            '%' +\r\n            'lines=\"@\" ' +\r\n            'ternary=\"@\" ' +\r\n            'codify=\"@\" ' +\r\n            'inheritance=\"@\" ' +\r\n            'sublistIDs=\"@\" ' +\r\n            'scheduled=\"@\" ~>' +\r\n            '<pentrails>$</pentrails>' +\r\n            '<costumes>%</costumes>' +\r\n            '<sounds>%</sounds>' +\r\n            '<variables>%</variables>' +\r\n            '<blocks>%</blocks>' +\r\n            '<scripts>%</scripts><sprites>%</sprites>' +\r\n            '</stage>' +\r\n            '<hidden>$</hidden>' +\r\n            '<headers>%</headers>' +\r\n            '<code>%</code>' +\r\n            '<blocks>%</blocks>' +\r\n            '<variables>%</variables>' +\r\n            '</project>',\r\n        (ide && ide.projectName) ? ide.projectName : localize('Untitled'),\r\n        serializer.app,\r\n        serializer.version,\r\n        (ide && ide.projectNotes) ? ide.projectNotes : '',\r\n        thumbdata,\r\n        this.name,\r\n        StageMorph.prototype.dimensions.x,\r\n        StageMorph.prototype.dimensions.y,\r\n        this.getCostumeIdx(),\r\n        this.getTempo(),\r\n        this.isThreadSafe,\r\n        this.instrument ?\r\n                ' instrument=\"' + parseInt(this.instrument) + '\" ' : '',\r\n        SpriteMorph.prototype.useFlatLineEnds ? 'flat' : 'round',\r\n        BooleanSlotMorph.prototype.isTernary,\r\n        this.enableCodeMapping,\r\n        this.enableInheritance,\r\n        this.enableSublistIDs,\r\n        StageMorph.prototype.frameRate !== 0,\r\n        normalizeCanvas(this.trailsCanvas, true).toDataURL('image/png'),\r\n        serializer.store(this.costumes, this.name + '_cst'),\r\n        serializer.store(this.sounds, this.name + '_snd'),\r\n        serializer.store(this.variables),\r\n        serializer.store(this.customBlocks),\r\n        serializer.store(this.scripts),\r\n        serializer.store(this.children),\r\n        Object.keys(StageMorph.prototype.hiddenPrimitives).reduce(\r\n                function (a, b) {return a + ' ' + b; },\r\n                ''\r\n            ),\r\n        code('codeHeaders'),\r\n        code('codeMappings'),\r\n        serializer.store(this.globalBlocks),\r\n        (ide && ide.globalVariables) ?\r\n                    serializer.store(ide.globalVariables) : ''\r\n    );\r\n};\r\n\r\nSpriteMorph.prototype.toXML = function (serializer) {\r\n    var stage = this.parentThatIsA(StageMorph),\r\n        ide = stage ? stage.parentThatIsA(IDE_Morph) : null,\r\n        idx = ide ? ide.sprites.asArray().indexOf(this) + 1 : 0,\r\n        noCostumes = this.inheritsAttribute('costumes'),\r\n        noSounds = this.inheritsAttribute('sounds'),\r\n        noScripts = this.inheritsAttribute('scripts');\r\n\r\n    return serializer.format(\r\n        '<sprite name=\"@\" idx=\"@\" x=\"@\" y=\"@\"' +\r\n            ' heading=\"@\"' +\r\n            ' scale=\"@\"' +\r\n            ' rotation=\"@\"' +\r\n            '%' +\r\n            ' draggable=\"@\"' +\r\n            '%' +\r\n            ' costume=\"@\" color=\"@,@,@\" pen=\"@\" ~>' +\r\n            '%' + // inheritance info\r\n            '%' + // nesting info\r\n            (noCostumes ? '%' : '<costumes>%</costumes>') +\r\n            (noSounds ? '%' : '<sounds>%</sounds>') +\r\n            '<blocks>%</blocks>' +\r\n            '<variables>%</variables>' +\r\n            (this.exemplar ? '<dispatches>%</dispatches>' : '%') +\r\n            (noScripts ? '%' : '<scripts>%</scripts>') +\r\n            '</sprite>',\r\n        this.name,\r\n        idx,\r\n        this.xPosition(),\r\n        this.yPosition(),\r\n        this.heading,\r\n        this.scale,\r\n        this.rotationStyle,\r\n        this.instrument ?\r\n                ' instrument=\"' + parseInt(this.instrument) + '\" ' : '',\r\n        this.isDraggable,\r\n        this.isVisible ? '' : ' hidden=\"true\"',\r\n        this.getCostumeIdx(),\r\n        this.color.r,\r\n        this.color.g,\r\n        this.color.b,\r\n        this.penPoint,\r\n\r\n        // inheritance info\r\n        this.exemplar\r\n            ? '<inherit exemplar=\"' +\r\n                    this.exemplar.name +\r\n                    '\">' +\r\n                    (this.inheritedAttributes.length ?\r\n                        serializer.store(new List(this.inheritedAttributes))\r\n                        : '') +\r\n                    '</inherit>'\r\n            : '',\r\n\r\n        // nesting info\r\n        this.anchor\r\n            ? '<nest anchor=\"' +\r\n                    this.anchor.name +\r\n                    '\" synch=\"'\r\n                    + this.rotatesWithAnchor\r\n                    + (this.scale === this.nestingScale ? '' :\r\n                            '\"'\r\n                            + ' scale=\"'\r\n                            + this.nestingScale)\r\n\r\n                    + '\"/>'\r\n            : '',\r\n\r\n        noCostumes ? '' : serializer.store(this.costumes, this.name + '_cst'),\r\n        noSounds ? '' : serializer.store(this.sounds, this.name + '_snd'),\r\n        !this.customBlocks ? '' : serializer.store(this.customBlocks),\r\n        serializer.store(this.variables),\r\n        this.exemplar ? serializer.store(this.inheritedMethods()) : '',\r\n        noScripts ? '' : serializer.store(this.scripts)\r\n    );\r\n};\r\n\r\nCostume.prototype[XML_Serializer.prototype.mediaDetectionProperty] = true;\r\n\r\nCostume.prototype.toXML = function (serializer) {\r\n    return serializer.format(\r\n        '<costume name=\"@\" center-x=\"@\" center-y=\"@\" image=\"@\" ~/>',\r\n        this.name,\r\n        this.rotationCenter.x,\r\n        this.rotationCenter.y,\r\n        this instanceof SVG_Costume ? this.contents.src\r\n                : normalizeCanvas(this.contents).toDataURL('image/png')\r\n    );\r\n};\r\n\r\nSound.prototype[XML_Serializer.prototype.mediaDetectionProperty] = true;\r\n\r\nSound.prototype.toXML = function (serializer) {\r\n    return serializer.format(\r\n        '<sound name=\"@\" sound=\"@\" ~/>',\r\n        this.name,\r\n        this.toDataURL()\r\n    );\r\n};\r\n\r\nVariableFrame.prototype.toXML = function (serializer) {\r\n    var myself = this;\r\n    return Object.keys(this.vars).reduce(function (vars, v) {\r\n        var val = myself.vars[v].value,\r\n            dta;\r\n        if (myself.vars[v].isTransient) {\r\n            dta = serializer.format(\r\n                '<variable name=\"@\" transient=\"true\"/>',\r\n                v)\r\n            ;\r\n        } else if (val === undefined || val === null) {\r\n            dta = serializer.format('<variable name=\"@\"/>', v);\r\n        } else {\r\n            dta = serializer.format(\r\n                '<variable name=\"@\">%</variable>',\r\n                v,\r\n                typeof val === 'object' ?\r\n                        (isSnapObject(val) ? ''\r\n                                : serializer.store(val))\r\n                                : typeof val === 'boolean' ?\r\n                                        serializer.format(\r\n                                            '<bool>$</bool>', val\r\n                                        )\r\n                                        : serializer.format('<l>$</l>', val)\r\n            );\r\n        }\r\n        return vars + dta;\r\n    }, '');\r\n};\r\n\r\n// Watchers\r\n\r\nWatcherMorph.prototype.toXML = function (serializer) {\r\n    var isVar = this.target instanceof VariableFrame,\r\n        isList = this.currentValue instanceof List,\r\n        color = this.readoutColor,\r\n        position = this.parent ?\r\n                this.topLeft().subtract(this.parent.topLeft())\r\n                : this.topLeft();\r\n\r\n    if (this.isTemporary()) {\r\n        // do not save watchers on temporary variables\r\n        return '';\r\n    }\r\n    return serializer.format(\r\n        '<watcher% % style=\"@\"% x=\"@\" y=\"@\" color=\"@,@,@\"%%/>',\r\n        (isVar && this.target.owner) || (!isVar && this.target) ?\r\n                    serializer.format(' scope=\"@\"',\r\n                        isVar ? this.target.owner.name : this.target.name)\r\n                            : '',\r\n        serializer.format(isVar ? 'var=\"@\"' : 's=\"@\"', this.getter),\r\n        this.style,\r\n        isVar && this.style === 'slider' ? serializer.format(\r\n                ' min=\"@\" max=\"@\"',\r\n                this.sliderMorph.start,\r\n                this.sliderMorph.stop\r\n            ) : '',\r\n        position.x,\r\n        position.y,\r\n        color.r,\r\n        color.g,\r\n        color.b,\r\n        !isList ? ''\r\n                : serializer.format(\r\n                ' extX=\"@\" extY=\"@\"',\r\n                this.cellMorph.contentsMorph.width(),\r\n                this.cellMorph.contentsMorph.height()\r\n            ),\r\n        this.isVisible ? '' : ' hidden=\"true\"'\r\n    );\r\n};\r\n\r\n// Scripts\r\n\r\nScriptsMorph.prototype.toXML = function (serializer) {\r\n    return this.children.reduce(function (xml, child) {\r\n        if (child instanceof BlockMorph) {\r\n            return xml + child.toScriptXML(serializer, true);\r\n        }\r\n        if (child instanceof CommentMorph && !child.block) { // unattached\r\n            return xml + child.toXML(serializer);\r\n        }\r\n        return xml;\r\n    }, '');\r\n};\r\n\r\nBlockMorph.prototype.toXML = BlockMorph.prototype.toScriptXML = function (\r\n    serializer,\r\n    savePosition\r\n) {\r\n    var position,\r\n        xml,\r\n        scale = SyntaxElementMorph.prototype.scale,\r\n        block = this;\r\n\r\n    // determine my position\r\n    if (this.parent) {\r\n        position = this.topLeft().subtract(this.parent.topLeft());\r\n    } else {\r\n        position = this.topLeft();\r\n    }\r\n\r\n    // save my position to xml\r\n    if (savePosition) {\r\n        xml = serializer.format(\r\n            '<script x=\"@\" y=\"@\">',\r\n            position.x / scale,\r\n            position.y / scale\r\n        );\r\n    } else {\r\n        xml = '<script>';\r\n    }\r\n\r\n    // recursively add my next blocks to xml\r\n    do {\r\n        xml += block.toBlockXML(serializer);\r\n        block = block.nextBlock();\r\n    } while (block);\r\n    xml += '</script>';\r\n    return xml;\r\n};\r\n\r\nBlockMorph.prototype.toBlockXML = function (serializer) {\r\n    return serializer.format(\r\n        '<block s=\"@\">%%</block>',\r\n        this.selector,\r\n        serializer.store(this.inputs()),\r\n        this.comment ? this.comment.toXML(serializer) : ''\r\n    );\r\n};\r\n\r\nReporterBlockMorph.prototype.toXML = function (serializer) {\r\n    return this.selector === 'reportGetVar' ? serializer.format(\r\n        '<block var=\"@\"/>',\r\n        this.blockSpec\r\n    ) : this.toBlockXML(serializer);\r\n};\r\n\r\nReporterBlockMorph.prototype.toScriptXML = function (\r\n    serializer,\r\n    savePosition\r\n) {\r\n    var position,\r\n        scale = SyntaxElementMorph.prototype.scale;\r\n\r\n    // determine my save-position\r\n    if (this.parent) {\r\n        position = this.topLeft().subtract(this.parent.topLeft());\r\n    } else {\r\n        position = this.topLeft();\r\n    }\r\n\r\n    if (savePosition) {\r\n        return serializer.format(\r\n            '<script x=\"@\" y=\"@\">%</script>',\r\n            position.x / scale,\r\n            position.y / scale,\r\n            this.toXML(serializer)\r\n        );\r\n    }\r\n    return serializer.format('<script>%</script>', this.toXML(serializer));\r\n};\r\n\r\nCustomCommandBlockMorph.prototype.toBlockXML = function (serializer) {\r\n    var scope = this.isGlobal ? undefined : 'local';\r\n    return serializer.format(\r\n        '<custom-block s=\"@\"%>%%%</custom-block>',\r\n        this.semanticSpec,\r\n        this.isGlobal ?\r\n                '' : serializer.format(' scope=\"@\"', scope),\r\n        serializer.store(this.inputs()),\r\n        this.isGlobal &&\r\n        \tthis.definition.variableNames.length &&\r\n            !serializer.isExportingBlocksLibrary ?\r\n                '<variables>' +\r\n                    this.variables.toXML(serializer) +\r\n                    '</variables>'\r\n                        : '',\r\n        this.comment ? this.comment.toXML(serializer) : ''\r\n    );\r\n};\r\n\r\nCustomReporterBlockMorph.prototype.toBlockXML\r\n    = CustomCommandBlockMorph.prototype.toBlockXML;\r\n\r\nCustomBlockDefinition.prototype.toXML = function (serializer) {\r\n    var myself = this;\r\n\r\n    function encodeScripts(array) {\r\n        return array.reduce(function (xml, element) {\r\n            if (element instanceof BlockMorph) {\r\n                return xml + element.toScriptXML(serializer, true);\r\n            }\r\n            if (element instanceof CommentMorph && !element.block) {\r\n                return xml + element.toXML(serializer);\r\n            }\r\n            return xml;\r\n        }, '');\r\n    }\r\n\r\n    return serializer.format(\r\n        '<block-definition s=\"@\" type=\"@\" category=\"@\">' +\r\n            '%' +\r\n            (this.variableNames.length ? '<variables>%</variables>' : '@') +\r\n            '<header>@</header>' +\r\n            '<code>@</code>' +\r\n            '<translations>@</translations>' +\r\n            '<inputs>%</inputs>%%' +\r\n            '</block-definition>',\r\n        this.spec,\r\n        this.type,\r\n        this.category || 'other',\r\n        this.comment ? this.comment.toXML(serializer) : '',\r\n        (this.variableNames.length ?\r\n                serializer.store(new List(this.variableNames)) : ''),\r\n        this.codeHeader || '',\r\n        this.codeMapping || '',\r\n        this.translationsAsText(),\r\n        Object.keys(this.declarations).reduce(function (xml, decl) {\r\n                return xml + serializer.format(\r\n                    '<input type=\"@\"$>$%</input>',\r\n                    myself.declarations[decl][0],\r\n                    myself.declarations[decl][3] ?\r\n                            ' readonly=\"true\"' : '',\r\n                    myself.declarations[decl][1],\r\n                    myself.declarations[decl][2] ?\r\n                            '<options>' + myself.declarations[decl][2] +\r\n                                '</options>'\r\n                                : ''\r\n                );\r\n            }, ''),\r\n        this.body ? serializer.store(this.body.expression) : '',\r\n        this.scripts.length > 0 ?\r\n                    '<scripts>' + encodeScripts(this.scripts) + '</scripts>'\r\n                        : ''\r\n    );\r\n};\r\n\r\n// Scripts - Inputs\r\n\r\nArgMorph.prototype.toXML = function () {\r\n    return '<l/>'; // empty by default\r\n};\r\n\r\nBooleanSlotMorph.prototype.toXML = function () {\r\n    return (typeof this.value === 'boolean') ?\r\n            '<l><bool>' + this.value + '</bool></l>'\r\n                    : '<l/>';\r\n\r\n};\r\n\r\nInputSlotMorph.prototype.toXML = function (serializer) {\r\n    if (this.constant) {\r\n        return serializer.format(\r\n            '<l><option>$</option></l>',\r\n            this.constant\r\n        );\r\n    }\r\n    return serializer.format('<l>$</l>', this.contents().text);\r\n};\r\n\r\nTemplateSlotMorph.prototype.toXML = function (serializer) {\r\n    return serializer.format('<l>$</l>', this.contents());\r\n};\r\n\r\nCommandSlotMorph.prototype.toXML = function (serializer) {\r\n    var block = this.children[0];\r\n    if (block instanceof BlockMorph) {\r\n        if (block instanceof ReporterBlockMorph) {\r\n            return serializer.format(\r\n                '<autolambda>%</autolambda>',\r\n                serializer.store(block)\r\n            );\r\n        }\r\n        return serializer.store(block);\r\n    }\r\n    return '<script></script>';\r\n};\r\n\r\nFunctionSlotMorph.prototype.toXML = CommandSlotMorph.prototype.toXML;\r\n\r\nMultiArgMorph.prototype.toXML = function (serializer) {\r\n    return serializer.format(\r\n        '<list>%</list>',\r\n        serializer.store(this.inputs())\r\n    );\r\n};\r\n\r\nArgLabelMorph.prototype.toXML = function (serializer) {\r\n    return serializer.format(\r\n        '%',\r\n        serializer.store(this.inputs()[0])\r\n    );\r\n};\r\n\r\nColorSlotMorph.prototype.toXML = function (serializer) {\r\n    return serializer.format(\r\n        '<color>$,$,$,$</color>',\r\n        this.color.r,\r\n        this.color.g,\r\n        this.color.b,\r\n        this.color.a\r\n    );\r\n};\r\n\r\n// Values\r\n\r\nList.prototype.toXML = function (serializer, mediaContext) {\r\n    // mediaContext is an optional name-stub\r\n    // when collecting media into a separate module\r\n    var xml, value, item;\r\n    if (this.isLinked) {\r\n        xml = '<list linked=\"linked\" ~>';\r\n        if (StageMorph.prototype.enableSublistIDs) {\r\n            // recursively nest tails:\r\n            value = this.first;\r\n            if (!isNil(value)) {\r\n                xml += serializer.format(\r\n                    '<item>%</item>',\r\n                    typeof value === 'object' ?\r\n                            (isSnapObject(value) ? ''\r\n                                    : serializer.store(value, mediaContext))\r\n                            : typeof value === 'boolean' ?\r\n                                    serializer.format('<bool>$</bool>', value)\r\n                                    : serializer.format('<l>$</l>', value)\r\n                );\r\n            }\r\n            if (!isNil(this.rest)) {\r\n                xml += serializer.store(this.rest, mediaContext);\r\n            }\r\n            return xml + '</list>';\r\n        }\r\n        // else sequentially serialize tails:\r\n        item = this;\r\n        do {\r\n            value = item.first;\r\n            if (!isNil(value)) {\r\n                xml += serializer.format(\r\n                    '<item>%</item>',\r\n                    typeof value === 'object' ?\r\n                            (isSnapObject(value) ? ''\r\n                                    : serializer.store(value, mediaContext))\r\n                            : typeof value === 'boolean' ?\r\n                                    serializer.format('<bool>$</bool>', value)\r\n                                    : serializer.format('<l>$</l>', value)\r\n                );\r\n            }\r\n            item = item.rest;\r\n        } while (!isNil(item));\r\n        return xml + '</list>';\r\n    }\r\n    // dynamic array:\r\n    return serializer.format(\r\n        '<list ~>%</list>',\r\n        this.contents.reduce(function (xml, item) {\r\n            return xml + serializer.format(\r\n                '<item>%</item>',\r\n                typeof item === 'object' ?\r\n                        (isSnapObject(item) ? ''\r\n                                : serializer.store(item, mediaContext))\r\n                        : typeof item === 'boolean' ?\r\n                                serializer.format('<bool>$</bool>', item)\r\n                                : serializer.format('<l>$</l>', item)\r\n            );\r\n        }, '')\r\n    );\r\n};\r\n\r\nContext.prototype.toXML = function (serializer) {\r\n    if (this.isContinuation) { // continuations are transient in Snap!\r\n        return '';\r\n    }\r\n    return serializer.format(\r\n        '<context ~><inputs>%</inputs><variables>%</variables>' +\r\n            '%<receiver>%</receiver><origin>%</origin>%</context>',\r\n        this.inputs.reduce(\r\n                function (xml, input) {\r\n                    return xml + serializer.format('<input>$</input>', input);\r\n                },\r\n                ''\r\n            ),\r\n        this.variables ? serializer.store(this.variables) : '',\r\n        this.expression ? serializer.store(this.expression) : '',\r\n        this.receiver ? serializer.store(this.receiver) : '',\r\n        this.receiver ? serializer.store(this.origin) : '',\r\n        this.outerContext ? serializer.store(this.outerContext) : ''\r\n    );\r\n};\r\n\r\n// Comments\r\n\r\nCommentMorph.prototype.toXML = function (serializer) {\r\n    var position,\r\n        scale = SyntaxElementMorph.prototype.scale;\r\n\r\n    if (this.block) { // attached to a block\r\n        return serializer.format(\r\n            '<comment w=\"@\" collapsed=\"@\">%</comment>',\r\n            this.textWidth() / scale,\r\n            this.isCollapsed,\r\n            serializer.escape(this.text())\r\n        );\r\n    }\r\n\r\n    // free-floating, determine my save-position\r\n    if (this.parent) {\r\n        position = this.topLeft().subtract(this.parent.topLeft());\r\n    } else {\r\n        position = this.topLeft();\r\n    }\r\n    return serializer.format(\r\n        '<comment x=\"@\" y=\"@\" w=\"@\" collapsed=\"@\">%</comment>',\r\n        position.x / scale,\r\n        position.y / scale,\r\n        this.textWidth() / scale,\r\n        this.isCollapsed,\r\n        serializer.escape(this.text())\r\n    );\r\n};\r\n\r\n//fin de store.js\r\n/*\r\n\r\n    cloud.js\r\n\r\n    a backend API for SNAP!\r\n\r\n    written by Jens Mönig\r\n\r\n    Copyright (C) 2015 by Jens Mönig\r\n\r\n    This file is part of Snap!.\r\n\r\n    Snap! is free software: you can redistribute it and/or modify\r\n    it under the terms of the GNU Affero General Public License as\r\n    published by the Free Software Foundation, either version 3 of\r\n    the License, or (at your option) any later version.\r\n\r\n    This program is distributed in the hope that it will be useful,\r\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n    GNU Affero General Public License for more details.\r\n\r\n    You should have received a copy of the GNU Affero General Public License\r\n    along with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n\r\n*/\r\n\r\n// Global settings /////////////////////////////////////////////////////\r\n\r\n/*global modules, IDE_Morph, SnapSerializer, hex_sha512, alert, nop,\r\nlocalize*/\r\n\r\nmodules.cloud = '2015-December-15';\r\n\r\n// Global stuff\r\n\r\nvar Cloud;\r\nvar SnapCloud = new Cloud(\r\n    'https://snap.apps.miosoft.com/SnapCloud'\r\n);\r\n\r\n// Cloud /////////////////////////////////////////////////////////////\r\n\r\nfunction Cloud(url) {\r\n    this.username = null;\r\n    this.password = null; // hex_sha512 hashed\r\n    this.url = url;\r\n    this.session = null;\r\n    this.limo = null;\r\n    this.route = null;\r\n    this.api = {};\r\n}\r\n\r\nCloud.prototype.clear = function () {\r\n    this.username = null;\r\n    this.password = null;\r\n    this.session = null;\r\n    this.limo = null;\r\n    this.route = null;\r\n    this.api = {};\r\n};\r\n\r\nCloud.prototype.hasProtocol = function () {\r\n    return this.url.toLowerCase().indexOf('http') === 0;\r\n};\r\n\r\nCloud.prototype.setRoute = function (username) {\r\n    var routes = 20,\r\n        userNum = 0,\r\n        i;\r\n\r\n    for (i = 0; i < username.length; i += 1) {\r\n        userNum += username.charCodeAt(i);\r\n    }\r\n    userNum = userNum % routes + 1;\r\n    this.route = '.sc1m' +\r\n        (userNum < 10 ? '0' : '') +\r\n        userNum;\r\n};\r\n\r\n// Cloud: Snap! API\r\n\r\nCloud.prototype.signup = function (\r\n    username,\r\n    email,\r\n    callBack,\r\n    errorCall\r\n) {\r\n    // both callBack and errorCall are two-argument functions\r\n    var request = new XMLHttpRequest(),\r\n        myself = this;\r\n    try {\r\n        request.open(\r\n            \"GET\",\r\n            (this.hasProtocol() ? '' : 'http://')\r\n                + this.url + 'SignUp'\r\n                + '?Username='\r\n                + encodeURIComponent(username)\r\n                + '&Email='\r\n                + encodeURIComponent(email),\r\n            true\r\n        );\r\n        request.setRequestHeader(\r\n            \"Content-Type\",\r\n            \"application/x-www-form-urlencoded\"\r\n        );\r\n        request.withCredentials = true;\r\n        request.onreadystatechange = function () {\r\n            if (request.readyState === 4) {\r\n                if (request.responseText) {\r\n                    if (request.responseText.indexOf('ERROR') === 0) {\r\n                        errorCall.call(\r\n                            this,\r\n                            request.responseText,\r\n                            'Signup'\r\n                        );\r\n                    } else {\r\n                        callBack.call(\r\n                            null,\r\n                            request.responseText,\r\n                            'Signup'\r\n                        );\r\n                    }\r\n                } else {\r\n                    errorCall.call(\r\n                        null,\r\n                        myself.url + 'SignUp',\r\n                        localize('could not connect to:')\r\n                    );\r\n                }\r\n            }\r\n        };\r\n        request.send(null);\r\n    } catch (err) {\r\n        errorCall.call(this, err.toString(), 'Snap!Cloud');\r\n    }\r\n};\r\n\r\nCloud.prototype.getPublicProject = function (\r\n    id,\r\n    callBack,\r\n    errorCall\r\n) {\r\n    // id is Username=username&projectName=projectname,\r\n    // where the values are url-component encoded\r\n    // callBack is a single argument function, errorCall take two args\r\n    var request = new XMLHttpRequest(),\r\n        myself = this;\r\n    try {\r\n        request.open(\r\n            \"GET\",\r\n            (this.hasProtocol() ? '' : 'http://')\r\n                + this.url + 'RawPublic'\r\n                + '?'\r\n                + id,\r\n            true\r\n        );\r\n        request.setRequestHeader(\r\n            \"Content-Type\",\r\n            \"application/x-www-form-urlencoded\"\r\n        );\r\n        request.withCredentials = true;\r\n        request.onreadystatechange = function () {\r\n            if (request.readyState === 4) {\r\n                if (request.responseText) {\r\n                    if (request.responseText.indexOf('ERROR') === 0) {\r\n                        errorCall.call(\r\n                            this,\r\n                            request.responseText\r\n                        );\r\n                    } else {\r\n                        callBack.call(\r\n                            null,\r\n                            request.responseText\r\n                        );\r\n                    }\r\n                } else {\r\n                    errorCall.call(\r\n                        null,\r\n                        myself.url + 'Public',\r\n                        localize('could not connect to:')\r\n                    );\r\n                }\r\n            }\r\n        };\r\n        request.send(null);\r\n    } catch (err) {\r\n        errorCall.call(this, err.toString(), 'Snap!Cloud');\r\n    }\r\n};\r\n\r\nCloud.prototype.resetPassword = function (\r\n    username,\r\n    callBack,\r\n    errorCall\r\n) {\r\n    // both callBack and errorCall are two-argument functions\r\n    var request = new XMLHttpRequest(),\r\n        myself = this;\r\n    try {\r\n        request.open(\r\n            \"GET\",\r\n            (this.hasProtocol() ? '' : 'http://')\r\n                + this.url + 'ResetPW'\r\n                + '?Username='\r\n                + encodeURIComponent(username),\r\n            true\r\n        );\r\n        request.setRequestHeader(\r\n            \"Content-Type\",\r\n            \"application/x-www-form-urlencoded\"\r\n        );\r\n        request.withCredentials = true;\r\n        request.onreadystatechange = function () {\r\n            if (request.readyState === 4) {\r\n                if (request.responseText) {\r\n                    if (request.responseText.indexOf('ERROR') === 0) {\r\n                        errorCall.call(\r\n                            this,\r\n                            request.responseText,\r\n                            'Reset Password'\r\n                        );\r\n                    } else {\r\n                        callBack.call(\r\n                            null,\r\n                            request.responseText,\r\n                            'Reset Password'\r\n                        );\r\n                    }\r\n                } else {\r\n                    errorCall.call(\r\n                        null,\r\n                        myself.url + 'ResetPW',\r\n                        localize('could not connect to:')\r\n                    );\r\n                }\r\n            }\r\n        };\r\n        request.send(null);\r\n    } catch (err) {\r\n        errorCall.call(this, err.toString(), 'Snap!Cloud');\r\n    }\r\n};\r\n\r\nCloud.prototype.login = function (\r\n    username,\r\n    password,\r\n    callBack,\r\n    errorCall\r\n) {\r\n    // both callBack and errorCall are two-argument functions\r\n    var request = new XMLHttpRequest(),\r\n        usr = JSON.stringify({'__h': password, '__u': username}),\r\n        myself = this;\r\n    this.setRoute(username);\r\n    try {\r\n        request.open(\r\n            \"POST\",\r\n            (this.hasProtocol() ? '' : 'http://') +\r\n                this.url +\r\n                '?SESSIONGLUE=' +\r\n                this.route,\r\n            true\r\n        );\r\n        request.setRequestHeader(\r\n            \"Content-Type\",\r\n            \"application/json; charset=utf-8\"\r\n        );\r\n        // glue this session to a route:\r\n        request.setRequestHeader('SESSIONGLUE', this.route);\r\n        request.withCredentials = true;\r\n        request.onreadystatechange = function () {\r\n            if (request.readyState === 4) {\r\n                if (request.responseText) {\r\n                    myself.api = myself.parseAPI(request.responseText);\r\n                    myself.session = request.getResponseHeader('MioCracker')\r\n                        .split(';')[0];\r\n                    // set the cookie identifier:\r\n                    myself.limo = this.getResponseHeader(\"miocracker\")\r\n                        .substring(\r\n                            9,\r\n                            this.getResponseHeader(\"miocracker\").indexOf(\"=\")\r\n                        );\r\n                    if (myself.api.logout) {\r\n                        myself.username = username;\r\n                        myself.password = password;\r\n                        callBack.call(null, myself.api, 'Snap!Cloud');\r\n                    } else {\r\n                        errorCall.call(\r\n                            null,\r\n                            request.responseText,\r\n                            'connection failed'\r\n                        );\r\n                    }\r\n                } else {\r\n                    errorCall.call(\r\n                        null,\r\n                        myself.url,\r\n                        localize('could not connect to:')\r\n                    );\r\n                }\r\n            }\r\n        };\r\n        request.send(usr);\r\n    } catch (err) {\r\n        errorCall.call(this, err.toString(), 'Snap!Cloud');\r\n    }\r\n};\r\n\r\nCloud.prototype.reconnect = function (\r\n    callBack,\r\n    errorCall\r\n) {\r\n    if (!(this.username && this.password)) {\r\n        this.message('You are not logged in');\r\n        return;\r\n    }\r\n    this.login(\r\n        this.username,\r\n        this.password,\r\n        callBack,\r\n        errorCall\r\n    );\r\n};\r\n\r\nCloud.prototype.saveProject = function (ide, callBack, errorCall) {\r\n    var myself = this,\r\n        pdata,\r\n        media,\r\n        size,\r\n        mediaSize;\r\n\r\n    ide.serializer.isCollectingMedia = true;\r\n    pdata = ide.serializer.serialize(ide.stage);\r\n    media = ide.hasChangedMedia ?\r\n            ide.serializer.mediaXML(ide.projectName) : null;\r\n    ide.serializer.isCollectingMedia = false;\r\n    ide.serializer.flushMedia();\r\n\r\n    mediaSize = media ? media.length : 0;\r\n    size = pdata.length + mediaSize;\r\n    if (mediaSize > 10485760) {\r\n        new DialogBoxMorph().inform(\r\n            'Snap!Cloud - Cannot Save Project',\r\n            'The media inside this project exceeds 10 MB.\\n' +\r\n                'Please reduce the size of costumes or sounds.\\n',\r\n            ide.world(),\r\n            ide.cloudIcon(null, new Color(180, 0, 0))\r\n        );\r\n        throw new Error('Project media exceeds 10 MB size limit');\r\n    }\r\n\r\n    // check if serialized data can be parsed back again\r\n    try {\r\n        ide.serializer.parse(pdata);\r\n    } catch (err) {\r\n        ide.showMessage('Serialization of program data failed:\\n' + err);\r\n        throw new Error('Serialization of program data failed:\\n' + err);\r\n    }\r\n    if (media !== null) {\r\n        try {\r\n            ide.serializer.parse(media);\r\n        } catch (err) {\r\n            ide.showMessage('Serialization of media failed:\\n' + err);\r\n            throw new Error('Serialization of media failed:\\n' + err);\r\n        }\r\n    }\r\n    ide.serializer.isCollectingMedia = false;\r\n    ide.serializer.flushMedia();\r\n\r\n    ide.showMessage('Uploading ' + Math.round(size / 1024) + ' KB...');\r\n    myself.reconnect(\r\n        function () {\r\n            myself.callService(\r\n                'saveProject',\r\n                function (response, url) {\r\n                    callBack.call(null, response, url);\r\n                    myself.disconnect();\r\n                    ide.hasChangedMedia = false;\r\n                },\r\n                errorCall,\r\n                [\r\n                    ide.projectName,\r\n                    pdata,\r\n                    media,\r\n                    pdata.length,\r\n                    media ? media.length : 0\r\n                ]\r\n            );\r\n        },\r\n        errorCall\r\n    );\r\n};\r\n\r\nCloud.prototype.getProjectList = function (callBack, errorCall) {\r\n    var myself = this;\r\n    this.reconnect(\r\n        function () {\r\n            myself.callService(\r\n                'getProjectList',\r\n                function (response, url) {\r\n                    callBack.call(null, response, url);\r\n                    myself.disconnect();\r\n                },\r\n                errorCall\r\n            );\r\n        },\r\n        errorCall\r\n    );\r\n};\r\n\r\nCloud.prototype.changePassword = function (\r\n    oldPW,\r\n    newPW,\r\n    callBack,\r\n    errorCall\r\n) {\r\n    var myself = this;\r\n    this.reconnect(\r\n        function () {\r\n            myself.callService(\r\n                'changePassword',\r\n                function (response, url) {\r\n                    callBack.call(null, response, url);\r\n                    myself.disconnect();\r\n                },\r\n                errorCall,\r\n                [hex_sha512(oldPW), hex_sha512(newPW)]\r\n            );\r\n        },\r\n        errorCall\r\n    );\r\n};\r\n\r\nCloud.prototype.logout = function (callBack, errorCall) {\r\n    this.clear();\r\n    this.callService(\r\n        'logout',\r\n        callBack,\r\n        errorCall\r\n    );\r\n};\r\n\r\nCloud.prototype.disconnect = function () {\r\n    this.callService(\r\n        'logout',\r\n        nop,\r\n        nop\r\n    );\r\n};\r\n\r\n// Cloud: backend communication\r\n\r\nCloud.prototype.callURL = function (url, callBack, errorCall) {\r\n    // both callBack and errorCall are optional two-argument functions\r\n    var request = new XMLHttpRequest(),\r\n        stickyUrl,\r\n        myself = this;\r\n    try {\r\n        // set the Limo. Also set the glue as a query paramter for backup.\r\n        stickyUrl = url +\r\n            '&SESSIONGLUE=' +\r\n            this.route +\r\n            '&_Limo=' +\r\n            this.limo;\r\n        request.open('GET', stickyUrl, true);\r\n        request.withCredentials = true;\r\n        request.setRequestHeader(\r\n            \"Content-Type\",\r\n            \"application/x-www-form-urlencoded\"\r\n        );\r\n        request.setRequestHeader('MioCracker', this.session);\r\n        // Set the glue as a request header.\r\n        request.setRequestHeader('SESSIONGLUE', this.route);\r\n        request.onreadystatechange = function () {\r\n            if (request.readyState === 4) {\r\n                if (request.responseText) {\r\n                    var responseList = myself.parseResponse(\r\n                        request.responseText\r\n                    );\r\n                    callBack.call(null, responseList, url);\r\n                } else {\r\n                    errorCall.call(\r\n                        null,\r\n                        url,\r\n                        'no response from:'\r\n                    );\r\n                }\r\n            }\r\n        };\r\n        request.send(null);\r\n    } catch (err) {\r\n        errorCall.call(this, err.toString(), url);\r\n    }\r\n};\r\n\r\nCloud.prototype.callService = function (\r\n    serviceName,\r\n    callBack,\r\n    errorCall,\r\n    args\r\n) {\r\n    // both callBack and errorCall are optional two-argument functions\r\n    var request = new XMLHttpRequest(),\r\n        service = this.api[serviceName],\r\n        myself = this,\r\n        stickyUrl,\r\n        postDict;\r\n\r\n    if (!this.session) {\r\n        errorCall.call(null, 'You are not connected', 'Cloud');\r\n        return;\r\n    }\r\n    if (!service) {\r\n        errorCall.call(\r\n            null,\r\n            'service ' + serviceName + ' is not available',\r\n            'API'\r\n        );\r\n        return;\r\n    }\r\n    if (args && args.length > 0) {\r\n        postDict = {};\r\n        service.parameters.forEach(function (parm, idx) {\r\n            postDict[parm] = args[idx];\r\n        });\r\n    }\r\n    try {\r\n        stickyUrl = this.url +\r\n            '/' +\r\n            service.url +\r\n            '&SESSIONGLUE=' +\r\n            this.route +\r\n            '&_Limo=' +\r\n            this.limo;\r\n        request.open(service.method, stickyUrl, true);\r\n        request.withCredentials = true;\r\n        request.setRequestHeader(\r\n            \"Content-Type\",\r\n            \"application/x-www-form-urlencoded\"\r\n        );\r\n        request.setRequestHeader('MioCracker', this.session);\r\n        request.setRequestHeader('SESSIONGLUE', this.route);\r\n        request.onreadystatechange = function () {\r\n            if (request.readyState === 4) {\r\n                var responseList = [];\r\n                if (request.responseText &&\r\n                        request.responseText.indexOf('ERROR') === 0) {\r\n                    errorCall.call(\r\n                        this,\r\n                        request.responseText,\r\n                        localize('Service:') + ' ' + localize(serviceName)\r\n                    );\r\n                    return;\r\n                }\r\n                if (serviceName === 'login') {\r\n                    myself.api = myself.parseAPI(request.responseText);\r\n                }\r\n                if (serviceName === 'getRawProject') {\r\n                    responseList = request.responseText;\r\n                } else {\r\n                    responseList = myself.parseResponse(\r\n                        request.responseText\r\n                    );\r\n                }\r\n                callBack.call(null, responseList, service.url);\r\n            }\r\n        };\r\n        request.send(this.encodeDict(postDict));\r\n    } catch (err) {\r\n        errorCall.call(this, err.toString(), service.url);\r\n    }\r\n};\r\n\r\n// Cloud: payload transformation\r\n\r\nCloud.prototype.parseAPI = function (src) {\r\n    var api = {},\r\n        services;\r\n    services = src.split(\" \");\r\n    services.forEach(function (service) {\r\n        var entries = service.split(\"&\"),\r\n            serviceDescription = {},\r\n            parms;\r\n        entries.forEach(function (entry) {\r\n            var pair = entry.split(\"=\"),\r\n                key = decodeURIComponent(pair[0]).toLowerCase(),\r\n                val = decodeURIComponent(pair[1]);\r\n            if (key === \"service\") {\r\n                api[val] = serviceDescription;\r\n            } else if (key === \"parameters\") {\r\n                parms = val.split(\",\");\r\n                if (!(parms.length === 1 && !parms[0])) {\r\n                    serviceDescription.parameters = parms;\r\n                }\r\n            } else {\r\n                serviceDescription[key] = val;\r\n            }\r\n        });\r\n    });\r\n    return api;\r\n};\r\n\r\nCloud.prototype.parseResponse = function (src) {\r\n    var ans = [],\r\n        lines;\r\n    if (!src) {return ans; }\r\n    lines = src.split(\" \");\r\n    lines.forEach(function (service) {\r\n        var entries = service.split(\"&\"),\r\n            dict = {};\r\n        entries.forEach(function (entry) {\r\n            var pair = entry.split(\"=\"),\r\n                key = decodeURIComponent(pair[0]),\r\n                val = decodeURIComponent(pair[1]);\r\n            dict[key] = val;\r\n        });\r\n        ans.push(dict);\r\n    });\r\n    return ans;\r\n};\r\n\r\nCloud.prototype.parseDict = function (src) {\r\n    var dict = {};\r\n    if (!src) {return dict; }\r\n    src.split(\"&\").forEach(function (entry) {\r\n        var pair = entry.split(\"=\"),\r\n            key = decodeURIComponent(pair[0]),\r\n            val = decodeURIComponent(pair[1]);\r\n        dict[key] = val;\r\n    });\r\n    return dict;\r\n};\r\n\r\nCloud.prototype.encodeDict = function (dict) {\r\n    var str = '',\r\n        pair,\r\n        key;\r\n    if (!dict) {return null; }\r\n    for (key in dict) {\r\n        if (dict.hasOwnProperty(key)) {\r\n            pair = encodeURIComponent(key)\r\n                + '='\r\n                + encodeURIComponent(dict[key]);\r\n            if (str.length > 0) {\r\n                str += '&';\r\n            }\r\n            str += pair;\r\n        }\r\n    }\r\n    return str;\r\n};\r\n\r\n// Cloud: user messages (to be overridden)\r\n\r\nCloud.prototype.message = function (string) {\r\n    alert(string);\r\n};\r\n//fin de cloud.js\r\n/*\r\n\r\n\tsha512.js\r\n\r\n\tencryption for SNAP!\r\n    This file is derived from crypto-js.\r\n\r\n    © 2009–2012 by Jeff Mott. All rights reserved.\r\n\r\n    Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:\r\n\r\n    Redistributions of source code must retain the above copyright notice, this list of conditions, and the following disclaimer.\r\n    Redistributions in binary form must reproduce the above copyright notice, this list of conditions, and the following disclaimer in the documentation or other materials provided with the distribution.\r\n    Neither the name CryptoJS nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.\r\n    THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS,\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE, ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n\r\n*/\r\n\r\nvar hex_sha512 = (function (hex_sha512) {\r\n\r\n    var hexcase = 0;\r\n\r\n    function hex_sha512(s)\r\n    {\r\n      return CryptoJS.SHA512(str2rstr_utf8(s)).toString(CryptoJS.enc.Hex);\r\n    }\r\n\r\n    function rstr_sha512(s)\r\n    {\r\n      return binb2rstr(binb_sha512(rstr2binb(s), s.length * 8));\r\n    }\r\n\r\n    var CryptoJS=CryptoJS||function(a,g){var m={},e=m.lib={},q=e.Base=function(){function a(){}return{extend:function(b){a.prototype=this;var d=new a;b&&d.mixIn(b);d.$super=this;return d},create:function(){var a=this.extend();a.init.apply(a,arguments);return a},init:function(){},mixIn:function(a){for(var k in a)a.hasOwnProperty(k)&&(this[k]=a[k]);a.hasOwnProperty(\"toString\")&&(this.toString=a.toString)},clone:function(){return this.$super.extend(this)}}}(),r=e.WordArray=q.extend({init:function(a,b){a=\r\n    this.words=a||[];this.sigBytes=b!=g?b:4*a.length},toString:function(a){return(a||n).stringify(this)},concat:function(a){var b=this.words,d=a.words,c=this.sigBytes,a=a.sigBytes;this.clamp();if(c%4)for(var i=0;i<a;i++)b[c+i>>>2]|=(d[i>>>2]>>>24-8*(i%4)&255)<<24-8*((c+i)%4);else if(65535<d.length)for(i=0;i<a;i+=4)b[c+i>>>2]=d[i>>>2];else b.push.apply(b,d);this.sigBytes+=a;return this},clamp:function(){var k=this.words,b=this.sigBytes;k[b>>>2]&=4294967295<<32-8*(b%4);k.length=a.ceil(b/4)},clone:function(){var a=\r\n    q.clone.call(this);a.words=this.words.slice(0);return a},random:function(k){for(var b=[],d=0;d<k;d+=4)b.push(4294967296*a.random()|0);return r.create(b,k)}}),y=m.enc={},n=y.Hex={stringify:function(a){for(var b=a.words,a=a.sigBytes,d=[],c=0;c<a;c++){var i=b[c>>>2]>>>24-8*(c%4)&255;d.push((i>>>4).toString(16));d.push((i&15).toString(16))}return d.join(\"\")},parse:function(a){for(var b=a.length,d=[],c=0;c<b;c+=2)d[c>>>3]|=parseInt(a.substr(c,2),16)<<24-4*(c%8);return r.create(d,b/2)}},l=y.Latin1={stringify:function(a){for(var b=\r\n    a.words,a=a.sigBytes,d=[],c=0;c<a;c++)d.push(String.fromCharCode(b[c>>>2]>>>24-8*(c%4)&255));return d.join(\"\")},parse:function(a){for(var b=a.length,d=[],c=0;c<b;c++)d[c>>>2]|=(a.charCodeAt(c)&255)<<24-8*(c%4);return r.create(d,b)}},da=y.Utf8={stringify:function(a){try{return decodeURIComponent(escape(l.stringify(a)))}catch(b){throw Error(\"Malformed UTF-8 data\");}},parse:function(a){return l.parse(unescape(encodeURIComponent(a)))}},h=e.BufferedBlockAlgorithm=q.extend({reset:function(){this._data=\r\n    r.create();this._nDataBytes=0},_append:function(a){\"string\"==typeof a&&(a=da.parse(a));this._data.concat(a);this._nDataBytes+=a.sigBytes},_process:function(k){var b=this._data,d=b.words,c=b.sigBytes,i=this.blockSize,l=c/(4*i),l=k?a.ceil(l):a.max((l|0)-this._minBufferSize,0),k=l*i,c=a.min(4*k,c);if(k){for(var h=0;h<k;h+=i)this._doProcessBlock(d,h);h=d.splice(0,k);b.sigBytes-=c}return r.create(h,c)},clone:function(){var a=q.clone.call(this);a._data=this._data.clone();return a},_minBufferSize:0});e.Hasher=\r\n    h.extend({init:function(){this.reset()},reset:function(){h.reset.call(this);this._doReset()},update:function(a){this._append(a);this._process();return this},finalize:function(a){a&&this._append(a);this._doFinalize();return this._hash},clone:function(){var a=h.clone.call(this);a._hash=this._hash.clone();return a},blockSize:16,_createHelper:function(a){return function(b,d){return a.create(d).finalize(b)}},_createHmacHelper:function(a){return function(b,d){return ea.HMAC.create(a,d).finalize(b)}}});\r\n    var ea=m.algo={};return m}(Math);\r\n    (function(a){var g=CryptoJS,m=g.lib,e=m.Base,q=m.WordArray,g=g.x64={};g.Word=e.extend({init:function(a,e){this.high=a;this.low=e}});g.WordArray=e.extend({init:function(e,y){e=this.words=e||[];this.sigBytes=y!=a?y:8*e.length},toX32:function(){for(var a=this.words,e=a.length,n=[],l=0;l<e;l++){var g=a[l];n.push(g.high);n.push(g.low)}return q.create(n,this.sigBytes)},clone:function(){for(var a=e.clone.call(this),g=a.words=this.words.slice(0),n=g.length,l=0;l<n;l++)g[l]=g[l].clone();return a}})})();\r\n    (function(){function a(){return q.create.apply(q,arguments)}var g=CryptoJS,m=g.lib.Hasher,e=g.x64,q=e.Word,r=e.WordArray,e=g.algo,y=[a(1116352408,3609767458),a(1899447441,602891725),a(3049323471,3964484399),a(3921009573,2173295548),a(961987163,4081628472),a(1508970993,3053834265),a(2453635748,2937671579),a(2870763221,3664609560),a(3624381080,2734883394),a(310598401,1164996542),a(607225278,1323610764),a(1426881987,3590304994),a(1925078388,4068182383),a(2162078206,991336113),a(2614888103,633803317),\r\n    a(3248222580,3479774868),a(3835390401,2666613458),a(4022224774,944711139),a(264347078,2341262773),a(604807628,2007800933),a(770255983,1495990901),a(1249150122,1856431235),a(1555081692,3175218132),a(1996064986,2198950837),a(2554220882,3999719339),a(2821834349,766784016),a(2952996808,2566594879),a(3210313671,3203337956),a(3336571891,1034457026),a(3584528711,2466948901),a(113926993,3758326383),a(338241895,168717936),a(666307205,1188179964),a(773529912,1546045734),a(1294757372,1522805485),a(1396182291,\r\n    2643833823),a(1695183700,2343527390),a(1986661051,1014477480),a(2177026350,1206759142),a(2456956037,344077627),a(2730485921,1290863460),a(2820302411,3158454273),a(3259730800,3505952657),a(3345764771,106217008),a(3516065817,3606008344),a(3600352804,1432725776),a(4094571909,1467031594),a(275423344,851169720),a(430227734,3100823752),a(506948616,1363258195),a(659060556,3750685593),a(883997877,3785050280),a(958139571,3318307427),a(1322822218,3812723403),a(1537002063,2003034995),a(1747873779,3602036899),\r\n    a(1955562222,1575990012),a(2024104815,1125592928),a(2227730452,2716904306),a(2361852424,442776044),a(2428436474,593698344),a(2756734187,3733110249),a(3204031479,2999351573),a(3329325298,3815920427),a(3391569614,3928383900),a(3515267271,566280711),a(3940187606,3454069534),a(4118630271,4000239992),a(116418474,1914138554),a(174292421,2731055270),a(289380356,3203993006),a(460393269,320620315),a(685471733,587496836),a(852142971,1086792851),a(1017036298,365543100),a(1126000580,2618297676),a(1288033470,\r\n    3409855158),a(1501505948,4234509866),a(1607167915,987167468),a(1816402316,1246189591)],n=[];(function(){for(var l=0;80>l;l++)n[l]=a()})();e=e.SHA512=m.extend({_doReset:function(){this._hash=r.create([a(1779033703,4089235720),a(3144134277,2227873595),a(1013904242,4271175723),a(2773480762,1595750129),a(1359893119,2917565137),a(2600822924,725511199),a(528734635,4215389547),a(1541459225,327033209)])},_doProcessBlock:function(a,e){for(var h=this._hash.words,g=h[0],k=h[1],b=h[2],d=h[3],c=h[4],i=h[5],m=\r\n    h[6],h=h[7],q=g.high,r=g.low,W=k.high,K=k.low,X=b.high,L=b.low,Y=d.high,M=d.low,Z=c.high,N=c.low,$=i.high,O=i.low,aa=m.high,P=m.low,ba=h.high,Q=h.low,t=q,o=r,E=W,C=K,F=X,D=L,T=Y,G=M,u=Z,p=N,R=$,H=O,S=aa,I=P,U=ba,J=Q,v=0;80>v;v++){var z=n[v];if(16>v)var s=z.high=a[e+2*v]|0,f=z.low=a[e+2*v+1]|0;else{var s=n[v-15],f=s.high,w=s.low,s=(w<<31|f>>>1)^(w<<24|f>>>8)^f>>>7,w=(f<<31|w>>>1)^(f<<24|w>>>8)^(f<<25|w>>>7),B=n[v-2],f=B.high,j=B.low,B=(j<<13|f>>>19)^(f<<3|j>>>29)^f>>>6,j=(f<<13|j>>>19)^(j<<3|f>>>29)^\r\n    (f<<26|j>>>6),f=n[v-7],V=f.high,A=n[v-16],x=A.high,A=A.low,f=w+f.low,s=s+V+(f>>>0<w>>>0?1:0),f=f+j,s=s+B+(f>>>0<j>>>0?1:0),f=f+A,s=s+x+(f>>>0<A>>>0?1:0);z.high=s;z.low=f}var V=u&R^~u&S,A=p&H^~p&I,z=t&E^t&F^E&F,fa=o&C^o&D^C&D,w=(o<<4|t>>>28)^(t<<30|o>>>2)^(t<<25|o>>>7),B=(t<<4|o>>>28)^(o<<30|t>>>2)^(o<<25|t>>>7),j=y[v],ga=j.high,ca=j.low,j=J+((u<<18|p>>>14)^(u<<14|p>>>18)^(p<<23|u>>>9)),x=U+((p<<18|u>>>14)^(p<<14|u>>>18)^(u<<23|p>>>9))+(j>>>0<J>>>0?1:0),j=j+A,x=x+V+(j>>>0<A>>>0?1:0),j=j+ca,x=x+ga+\r\n    (j>>>0<ca>>>0?1:0),j=j+f,x=x+s+(j>>>0<f>>>0?1:0),f=B+fa,z=w+z+(f>>>0<B>>>0?1:0),U=S,J=I,S=R,I=H,R=u,H=p,p=G+j|0,u=T+x+(p>>>0<G>>>0?1:0)|0,T=F,G=D,F=E,D=C,E=t,C=o,o=j+f|0,t=x+z+(o>>>0<j>>>0?1:0)|0}r=g.low=r+o|0;g.high=q+t+(r>>>0<o>>>0?1:0)|0;K=k.low=K+C|0;k.high=W+E+(K>>>0<C>>>0?1:0)|0;L=b.low=L+D|0;b.high=X+F+(L>>>0<D>>>0?1:0)|0;M=d.low=M+G|0;d.high=Y+T+(M>>>0<G>>>0?1:0)|0;N=c.low=N+p|0;c.high=Z+u+(N>>>0<p>>>0?1:0)|0;O=i.low=O+H|0;i.high=$+R+(O>>>0<H>>>0?1:0)|0;P=m.low=P+I|0;m.high=aa+S+(P>>>0<I>>>\r\n    0?1:0)|0;Q=h.low=Q+J|0;h.high=ba+U+(Q>>>0<J>>>0?1:0)|0},_doFinalize:function(){var a=this._data,e=a.words,h=8*this._nDataBytes,g=8*a.sigBytes;e[g>>>5]|=128<<24-g%32;e[(g+128>>>10<<5)+31]=h;a.sigBytes=4*e.length;this._process();this._hash=this._hash.toX32()},blockSize:32});g.SHA512=m._createHelper(e);g.HmacSHA512=m._createHmacHelper(e)})();\r\n\r\n    function rstr2hex(input)\r\n    {\r\n      try { hexcase } catch(e) { hexcase=0; }\r\n      var hex_tab = hexcase ? \"0123456789ABCDEF\" : \"0123456789abcdef\";\r\n      var output = \"\";\r\n      var x;\r\n      for(var i = 0; i < input.length; i++)\r\n      {\r\n        x = input.charCodeAt(i);\r\n        output += hex_tab.charAt((x >>> 4) & 0x0F)\r\n               +  hex_tab.charAt( x        & 0x0F);\r\n      }\r\n      return output;\r\n    }\r\n\r\n    function str2rstr_utf8(input)\r\n    {\r\n      var output = \"\";\r\n      var i = -1;\r\n      var x, y;\r\n\r\n      while(++i < input.length)\r\n      {\r\n        x = input.charCodeAt(i);\r\n        y = i + 1 < input.length ? input.charCodeAt(i + 1) : 0;\r\n        if(0xD800 <= x && x <= 0xDBFF && 0xDC00 <= y && y <= 0xDFFF)\r\n        {\r\n          x = 0x10000 + ((x & 0x03FF) << 10) + (y & 0x03FF);\r\n          i++;\r\n        }\r\n\r\n        if(x <= 0x7F)\r\n          output += String.fromCharCode(x);\r\n        else if(x <= 0x7FF)\r\n          output += String.fromCharCode(0xC0 | ((x >>> 6 ) & 0x1F),\r\n                                        0x80 | ( x         & 0x3F));\r\n        else if(x <= 0xFFFF)\r\n          output += String.fromCharCode(0xE0 | ((x >>> 12) & 0x0F),\r\n                                        0x80 | ((x >>> 6 ) & 0x3F),\r\n                                        0x80 | ( x         & 0x3F));\r\n        else if(x <= 0x1FFFFF)\r\n          output += String.fromCharCode(0xF0 | ((x >>> 18) & 0x07),\r\n                                        0x80 | ((x >>> 12) & 0x3F),\r\n                                        0x80 | ((x >>> 6 ) & 0x3F),\r\n                                        0x80 | ( x         & 0x3F));\r\n      }\r\n      return output;\r\n    }\r\n\r\n    function rstr2binb(input)\r\n    {\r\n      var output = Array(input.length >> 2);\r\n      for(var i = 0; i < output.length; i++)\r\n        output[i] = 0;\r\n      for(var i = 0; i < input.length * 8; i += 8)\r\n        output[i>>5] |= (input.charCodeAt(i / 8) & 0xFF) << (24 - i % 32);\r\n      return output;\r\n    }\r\n\r\n    function binb2rstr(input)\r\n    {\r\n      var output = \"\";\r\n      for(var i = 0; i < input.length * 32; i += 8)\r\n        output += String.fromCharCode((input[i>>5] >>> (24 - i % 32)) & 0xFF);\r\n      return output;\r\n    }\r\n\r\n    var sha512_k;\r\n    function binb_sha512(x, len)\r\n    {\r\n      if(sha512_k == undefined)\r\n      {\r\n        sha512_k = new Array(\r\n    new int64(0x428a2f98, -685199838), new int64(0x71374491, 0x23ef65cd),\r\n    new int64(-1245643825, -330482897), new int64(-373957723, -2121671748),\r\n    new int64(0x3956c25b, -213338824), new int64(0x59f111f1, -1241133031),\r\n    new int64(-1841331548, -1357295717), new int64(-1424204075, -630357736),\r\n    new int64(-670586216, -1560083902), new int64(0x12835b01, 0x45706fbe),\r\n    new int64(0x243185be, 0x4ee4b28c), new int64(0x550c7dc3, -704662302),\r\n    new int64(0x72be5d74, -226784913), new int64(-2132889090, 0x3b1696b1),\r\n    new int64(-1680079193, 0x25c71235), new int64(-1046744716, -815192428),\r\n    new int64(-459576895, -1628353838), new int64(-272742522, 0x384f25e3),\r\n    new int64(0xfc19dc6, -1953704523), new int64(0x240ca1cc, 0x77ac9c65),\r\n    new int64(0x2de92c6f, 0x592b0275), new int64(0x4a7484aa, 0x6ea6e483),\r\n    new int64(0x5cb0a9dc, -1119749164), new int64(0x76f988da, -2096016459),\r\n    new int64(-1740746414, -295247957), new int64(-1473132947, 0x2db43210),\r\n    new int64(-1341970488, -1728372417), new int64(-1084653625, -1091629340),\r\n    new int64(-958395405, 0x3da88fc2), new int64(-710438585, -1828018395),\r\n    new int64(0x6ca6351, -536640913), new int64(0x14292967, 0xa0e6e70),\r\n    new int64(0x27b70a85, 0x46d22ffc), new int64(0x2e1b2138, 0x5c26c926),\r\n    new int64(0x4d2c6dfc, 0x5ac42aed), new int64(0x53380d13, -1651133473),\r\n    new int64(0x650a7354, -1951439906), new int64(0x766a0abb, 0x3c77b2a8),\r\n    new int64(-2117940946, 0x47edaee6), new int64(-1838011259, 0x1482353b),\r\n    new int64(-1564481375, 0x4cf10364), new int64(-1474664885, -1136513023),\r\n    new int64(-1035236496, -789014639), new int64(-949202525, 0x654be30),\r\n    new int64(-778901479, -688958952), new int64(-694614492, 0x5565a910),\r\n    new int64(-200395387, 0x5771202a), new int64(0x106aa070, 0x32bbd1b8),\r\n    new int64(0x19a4c116, -1194143544), new int64(0x1e376c08, 0x5141ab53),\r\n    new int64(0x2748774c, -544281703), new int64(0x34b0bcb5, -509917016),\r\n    new int64(0x391c0cb3, -976659869), new int64(0x4ed8aa4a, -482243893),\r\n    new int64(0x5b9cca4f, 0x7763e373), new int64(0x682e6ff3, -692930397),\r\n    new int64(0x748f82ee, 0x5defb2fc), new int64(0x78a5636f, 0x43172f60),\r\n    new int64(-2067236844, -1578062990), new int64(-1933114872, 0x1a6439ec),\r\n    new int64(-1866530822, 0x23631e28), new int64(-1538233109, -561857047),\r\n    new int64(-1090935817, -1295615723), new int64(-965641998, -479046869),\r\n    new int64(-903397682, -366583396), new int64(-779700025, 0x21c0c207),\r\n    new int64(-354779690, -840897762), new int64(-176337025, -294727304),\r\n    new int64(0x6f067aa, 0x72176fba), new int64(0xa637dc5, -1563912026),\r\n    new int64(0x113f9804, -1090974290), new int64(0x1b710b35, 0x131c471b),\r\n    new int64(0x28db77f5, 0x23047d84), new int64(0x32caab7b, 0x40c72493),\r\n    new int64(0x3c9ebe0a, 0x15c9bebc), new int64(0x431d67c4, -1676669620),\r\n    new int64(0x4cc5d4be, -885112138), new int64(0x597f299c, -60457430),\r\n    new int64(0x5fcb6fab, 0x3ad6faec), new int64(0x6c44198c, 0x4a475817));\r\n      }\r\n\r\n      var H = new Array(\r\n    new int64(0x6a09e667, -205731576),\r\n    new int64(-1150833019, -2067093701),\r\n    new int64(0x3c6ef372, -23791573),\r\n    new int64(-1521486534, 0x5f1d36f1),\r\n    new int64(0x510e527f, -1377402159),\r\n    new int64(-1694144372, 0x2b3e6c1f),\r\n    new int64(0x1f83d9ab, -79577749),\r\n    new int64(0x5be0cd19, 0x137e2179));\r\n\r\n      var T1 = new int64(0, 0),\r\n        T2 = new int64(0, 0),\r\n        a = new int64(0,0),\r\n        b = new int64(0,0),\r\n        c = new int64(0,0),\r\n        d = new int64(0,0),\r\n        e = new int64(0,0),\r\n        f = new int64(0,0),\r\n        g = new int64(0,0),\r\n        h = new int64(0,0),\r\n\r\n        s0 = new int64(0, 0),\r\n        s1 = new int64(0, 0),\r\n        Ch = new int64(0, 0),\r\n        Maj = new int64(0, 0),\r\n        r1 = new int64(0, 0),\r\n        r2 = new int64(0, 0),\r\n        r3 = new int64(0, 0);\r\n      var j, i;\r\n      var W = new Array(80);\r\n      for(i=0; i<80; i++)\r\n        W[i] = new int64(0, 0);\r\n\r\n      x[len >> 5] |= 0x80 << (24 - (len & 0x1f));\r\n      x[((len + 128 >> 10)<< 5) + 31] = len;\r\n\r\n      for(i = 0; i<x.length; i+=32)\r\n      {\r\n        int64copy(a, H[0]);\r\n        int64copy(b, H[1]);\r\n        int64copy(c, H[2]);\r\n        int64copy(d, H[3]);\r\n        int64copy(e, H[4]);\r\n        int64copy(f, H[5]);\r\n        int64copy(g, H[6]);\r\n        int64copy(h, H[7]);\r\n\r\n        for(j=0; j<16; j++)\r\n        {\r\n            W[j].h = x[i + 2*j];\r\n            W[j].l = x[i + 2*j + 1];\r\n        }\r\n\r\n        for(j=16; j<80; j++)\r\n        {\r\n          int64rrot(r1, W[j-2], 19);\r\n          int64revrrot(r2, W[j-2], 29);\r\n          int64shr(r3, W[j-2], 6);\r\n          s1.l = r1.l ^ r2.l ^ r3.l;\r\n          s1.h = r1.h ^ r2.h ^ r3.h;\r\n          int64rrot(r1, W[j-15], 1);\r\n          int64rrot(r2, W[j-15], 8);\r\n          int64shr(r3, W[j-15], 7);\r\n          s0.l = r1.l ^ r2.l ^ r3.l;\r\n          s0.h = r1.h ^ r2.h ^ r3.h;\r\n\r\n          int64add4(W[j], s1, W[j-7], s0, W[j-16]);\r\n        }\r\n\r\n        for(j = 0; j < 80; j++)\r\n        {\r\n          Ch.l = (e.l & f.l) ^ (~e.l & g.l);\r\n          Ch.h = (e.h & f.h) ^ (~e.h & g.h);\r\n\r\n          int64rrot(r1, e, 14);\r\n          int64rrot(r2, e, 18);\r\n          int64revrrot(r3, e, 9);\r\n          s1.l = r1.l ^ r2.l ^ r3.l;\r\n          s1.h = r1.h ^ r2.h ^ r3.h;\r\n          int64rrot(r1, a, 28);\r\n          int64revrrot(r2, a, 2);\r\n          int64revrrot(r3, a, 7);\r\n          s0.l = r1.l ^ r2.l ^ r3.l;\r\n          s0.h = r1.h ^ r2.h ^ r3.h;\r\n\r\n          Maj.l = (a.l & b.l) ^ (a.l & c.l) ^ (b.l & c.l);\r\n          Maj.h = (a.h & b.h) ^ (a.h & c.h) ^ (b.h & c.h);\r\n\r\n          int64add5(T1, h, s1, Ch, sha512_k[j], W[j]);\r\n          int64add(T2, s0, Maj);\r\n\r\n          int64copy(h, g);\r\n          int64copy(g, f);\r\n          int64copy(f, e);\r\n          int64add(e, d, T1);\r\n          int64copy(d, c);\r\n          int64copy(c, b);\r\n          int64copy(b, a);\r\n          int64add(a, T1, T2);\r\n        }\r\n        int64add(H[0], H[0], a);\r\n        int64add(H[1], H[1], b);\r\n        int64add(H[2], H[2], c);\r\n        int64add(H[3], H[3], d);\r\n        int64add(H[4], H[4], e);\r\n        int64add(H[5], H[5], f);\r\n        int64add(H[6], H[6], g);\r\n        int64add(H[7], H[7], h);\r\n      }\r\n\r\n      var hash = new Array(16);\r\n      for(i=0; i<8; i++)\r\n      {\r\n        hash[2*i] = H[i].h;\r\n        hash[2*i + 1] = H[i].l;\r\n      }\r\n      return hash;\r\n    }\r\n\r\n    function int64(h, l)\r\n    {\r\n      this.h = h;\r\n      this.l = l;\r\n    }\r\n\r\n    function int64copy(dst, src)\r\n    {\r\n      dst.h = src.h;\r\n      dst.l = src.l;\r\n    }\r\n\r\n    function int64rrot(dst, x, shift)\r\n    {\r\n        dst.l = (x.l >>> shift) | (x.h << (32-shift));\r\n        dst.h = (x.h >>> shift) | (x.l << (32-shift));\r\n    }\r\n\r\n    function int64revrrot(dst, x, shift)\r\n    {\r\n        dst.l = (x.h >>> shift) | (x.l << (32-shift));\r\n        dst.h = (x.l >>> shift) | (x.h << (32-shift));\r\n    }\r\n\r\n    function int64shr(dst, x, shift)\r\n    {\r\n        dst.l = (x.l >>> shift) | (x.h << (32-shift));\r\n        dst.h = (x.h >>> shift);\r\n    }\r\n\r\n    function int64add(dst, x, y)\r\n    {\r\n       var w0 = (x.l & 0xffff) + (y.l & 0xffff);\r\n       var w1 = (x.l >>> 16) + (y.l >>> 16) + (w0 >>> 16);\r\n       var w2 = (x.h & 0xffff) + (y.h & 0xffff) + (w1 >>> 16);\r\n       var w3 = (x.h >>> 16) + (y.h >>> 16) + (w2 >>> 16);\r\n       dst.l = (w0 & 0xffff) | (w1 << 16);\r\n       dst.h = (w2 & 0xffff) | (w3 << 16);\r\n    }\r\n\r\n    function int64add4(dst, a, b, c, d)\r\n    {\r\n       var w0 = (a.l & 0xffff) + (b.l & 0xffff) + (c.l & 0xffff) + (d.l & 0xffff);\r\n       var w1 = (a.l >>> 16) + (b.l >>> 16) + (c.l >>> 16) + (d.l >>> 16) + (w0 >>> 16);\r\n       var w2 = (a.h & 0xffff) + (b.h & 0xffff) + (c.h & 0xffff) + (d.h & 0xffff) + (w1 >>> 16);\r\n       var w3 = (a.h >>> 16) + (b.h >>> 16) + (c.h >>> 16) + (d.h >>> 16) + (w2 >>> 16);\r\n       dst.l = (w0 & 0xffff) | (w1 << 16);\r\n       dst.h = (w2 & 0xffff) | (w3 << 16);\r\n    }\r\n\r\n    function int64add5(dst, a, b, c, d, e)\r\n    {\r\n       var w0 = (a.l & 0xffff) + (b.l & 0xffff) + (c.l & 0xffff) + (d.l & 0xffff) + (e.l & 0xffff);\r\n       var w1 = (a.l >>> 16) + (b.l >>> 16) + (c.l >>> 16) + (d.l >>> 16) + (e.l >>> 16) + (w0 >>> 16);\r\n       var w2 = (a.h & 0xffff) + (b.h & 0xffff) + (c.h & 0xffff) + (d.h & 0xffff) + (e.h & 0xffff) + (w1 >>> 16);\r\n       var w3 = (a.h >>> 16) + (b.h >>> 16) + (c.h >>> 16) + (d.h >>> 16) + (e.h >>> 16) + (w2 >>> 16);\r\n       dst.l = (w0 & 0xffff) | (w1 << 16);\r\n       dst.h = (w2 & 0xffff) | (w3 << 16);\r\n    }\r\n\r\n    return hex_sha512;\r\n\r\n})({});\r\n//End of sha512.js\r\n\r\n\r\n/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */\r\nvar saveAs=saveAs||function(e){\"use strict\";if(typeof e===\"undefined\"||typeof navigator!==\"undefined\"&&/MSIE [1-9]\\./.test(navigator.userAgent)){return}var t=e.document,n=function(){return e.URL||e.webkitURL||e},r=t.createElementNS(\"http://www.w3.org/1999/xhtml\",\"a\"),o=\"download\"in r,a=function(e){var t=new MouseEvent(\"click\");e.dispatchEvent(t)},i=/constructor/i.test(e.HTMLElement)||e.safari,f=/CriOS\\/[\\d]+/.test(navigator.userAgent),u=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},s=\"application/octet-stream\",d=1e3*40,c=function(e){var t=function(){if(typeof e===\"string\"){n().revokeObjectURL(e)}else{e.remove()}};setTimeout(t,d)},l=function(e,t,n){t=[].concat(t);var r=t.length;while(r--){var o=e[\"on\"+t[r]];if(typeof o===\"function\"){try{o.call(e,n||e)}catch(a){u(a)}}}},p=function(e){if(/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(e.type)){return new Blob([String.fromCharCode(65279),e],{type:e.type})}return e},v=function(t,u,d){if(!d){t=p(t)}var v=this,w=t.type,m=w===s,y,h=function(){l(v,\"writestart progress write writeend\".split(\" \"))},S=function(){if((f||m&&i)&&e.FileReader){var r=new FileReader;r.onloadend=function(){var t=f?r.result:r.result.replace(/^data:[^;]*;/,\"data:attachment/file;\");var n=e.open(t,\"_blank\");if(!n)e.location.href=t;t=undefined;v.readyState=v.DONE;h()};r.readAsDataURL(t);v.readyState=v.INIT;return}if(!y){y=n().createObjectURL(t)}if(m){e.location.href=y}else{var o=e.open(y,\"_blank\");if(!o){e.location.href=y}}v.readyState=v.DONE;h();c(y)};v.readyState=v.INIT;if(o){y=n().createObjectURL(t);setTimeout(function(){r.href=y;r.download=u;a(r);h();c(y);v.readyState=v.DONE});return}S()},w=v.prototype,m=function(e,t,n){return new v(e,t||e.name||\"download\",n)};if(typeof navigator!==\"undefined\"&&navigator.msSaveOrOpenBlob){return function(e,t,n){t=t||e.name||\"download\";if(!n){e=p(e)}return navigator.msSaveOrOpenBlob(e,t)}}w.abort=function(){};w.readyState=w.INIT=0;w.WRITING=1;w.DONE=2;w.error=w.onwritestart=w.onprogress=w.onwrite=w.onabort=w.onerror=w.onwriteend=null;return m}(typeof self!==\"undefined\"&&self||typeof window!==\"undefined\"&&window||this.content);if(typeof module!==\"undefined\"&&module.exports){module.exports.saveAs=saveAs}else if(typeof define!==\"undefined\"&&define!==null&&define.amd!==null){define(\"FileSaver.js\",[],function(){return saveAs})}\r\n\r\n// End of bundeling\r\n\r\n//********************Wiquid******************************************************\r\n\r\nsnapsrc.snap.tao = function(message){alert(message);};\r\n\r\n    disableRetinaSupport();// here modify OPTION RETINA \r\n    //world = new WorldMorph(document.getElementById('world')); // original syntax rejected because of id use.\r\n    var world; \r\n    var elementCanvas = $container.find('.world');\r\n   \r\n    world = new WorldMorph(elementCanvas[0]);\r\n    snapsrc.snap.world = world;\r\n    world.worldCanvas.focus();\r\n    new IDE_Morph().openIn(world);\r\n    world.panelLeft = panel_Left;\r\n    \r\n    world.xmlString = getSnapProjectScript;\r\n\r\n    world.leftReducer = function leftReducer() {    \r\n        panel_Left.setPaletteWidth(1); return 1; \r\n    };\r\n\r\n    world.leftExpand = function leftExpand() { panel_Left.setPaletteWidth(200); return 200; };\r\n\r\n    //Fix blurry text \r\n    $container.find(\".world\").css({ position : 'absolute'});\r\n    world.width = world.clientWidth;\r\n    world.height = world.clientHeight;\r\n\r\n    \r\n    if($container.find(\".world\")[1]){ $container.find($container.find(\".world\")[1].remove());}\r\n   \r\n    \r\n    world.importator = function importator() {\r\n        var myself = world.children[0];\r\n        var inp = document.createElement('input');\r\n        if (myself.filePicker) {\r\n            document.body.removeChild(myself.filePicker);\r\n            myself.filePicker = null;\r\n        }\r\n        inp.type = 'file';\r\n        inp.style.color = \"transparent\";\r\n        inp.style.backgroundColor = \"transparent\";\r\n        inp.style.border = \"none\";\r\n        inp.style.outline = \"none\";\r\n        inp.style.position = \"absolute\";\r\n        inp.style.top = \"0px\";\r\n        inp.style.left = \"0px\";\r\n        inp.style.width = \"0px\";\r\n        inp.style.height = \"0px\";\r\n        inp.style.display = \"none\";\r\n        inp.addEventListener(\"change\",function () {\r\n            document.body.removeChild(inp);\r\n            myself.filePicker = null;\r\n            world.hand.processDrop(inp.files);\r\n        },false);\r\n        document.body.appendChild(inp);\r\n        myself.filePicker = inp;\r\n        inp.click();\r\n    \r\n    }\r\n \r\n    loop();\r\n\r\n    function loop() {\r\n        requestAnimationFrame(loop);\r\n        world.doOneCycle();  \r\n\r\n    }\r\n\r\n\r\n return panel_Left;\r\n    }; //End of snapsrc.snap\r\n\r\n\r\nreturn snapsrc;\r\n//*************************End snapsrc - Wiquid solution ***************************    \r\n});\n","/*\r\n\r\nBuild by Wiquid's PCI Generator for TAO platform Free to use - http://www.wiquid.fr/depp/ent/\r\nCopyright DEPP © 2018 - Ministère de l'éducation nationale \r\n\r\n */\r\n\r\ndefine('SnapForTao/runtime/js/renderer',['taoQtiItem/portableLib/jquery_2_1_1', 'taoQtiItem/portableLib/OAT/util/html', 'SnapForTao/runtime/js/lib/snapsrc'], function($, html, snapsrc){\r\n    'use strict';\r\n\r\n function renderSnap(id, $container, config){\r\n   \r\n    var snapInstance;\r\n\r\n    $container.find(\".snapy\").append('<canvas class=\"world\" tabindex=\"1\" ><p>Your browser doesn\\'t support canvas.</p></canvas>');   \r\n\r\n    snapInstance = snapsrc.snap(id, $container, config);\r\n    \r\n    $(window).on('resize.snap', function(){ location.reload(); })\r\n\r\n    // Left Panel Sizer \r\n    if(config.panelSizer == 'nonVisible'){ snapsrc.snap.world.leftReducer(); }\r\n    else{snapsrc.snap.world.leftExpand();}\r\n\r\n    $container.find(\".world\").css('position','relative');  \r\n\r\n } \r\n\r\n        return {\r\n        render : function(id, container, config, assetManager){\r\n\r\n            var $container = $(container);\r\n\r\n            renderSnap(id, $container, config);\r\n            \r\n            //render rich text content in prompt\r\n            html.render($container.find('.prompt'));\r\n        },\r\n        renderSnap : function(id, container, config){\r\n            renderSnap(id, $(container), config);\r\n        }\r\n\r\n    };\r\n});\r\n \r\n \n","/**\r\n * @license\r\n * Lo-Dash 2.4.1 (Custom Build) lodash.com/license | Underscore.js 1.5.2 underscorejs.org/LICENSE\r\n * Build: `lodash -o ./dist/lodash.compat.js`\r\n */\r\n;(function(){function n(n,t,e){e=(e||0)-1;for(var r=n?n.length:0;++e<r;)if(n[e]===t)return e;return-1}function t(t,e){var r=typeof e;if(t=t.l,\"boolean\"==r||null==e)return t[e]?0:-1;\"number\"!=r&&\"string\"!=r&&(r=\"object\");var u=\"number\"==r?e:b+e;return t=(t=t[r])&&t[u],\"object\"==r?t&&-1<n(t,e)?0:-1:t?0:-1}function e(n){var t=this.l,e=typeof n;if(\"boolean\"==e||null==n)t[n]=true;else{\"number\"!=e&&\"string\"!=e&&(e=\"object\");var r=\"number\"==e?n:b+n,t=t[e]||(t[e]={});\"object\"==e?(t[r]||(t[r]=[])).push(n):t[r]=true\r\n}}function r(n){return n.charCodeAt(0)}function u(n,t){for(var e=n.m,r=t.m,u=-1,o=e.length;++u<o;){var a=e[u],i=r[u];if(a!==i){if(a>i||typeof a==\"undefined\")return 1;if(a<i||typeof i==\"undefined\")return-1}}return n.n-t.n}function o(n){var t=-1,r=n.length,u=n[0],o=n[r/2|0],a=n[r-1];if(u&&typeof u==\"object\"&&o&&typeof o==\"object\"&&a&&typeof a==\"object\")return false;for(u=l(),u[\"false\"]=u[\"null\"]=u[\"true\"]=u.undefined=false,o=l(),o.k=n,o.l=u,o.push=e;++t<r;)o.push(n[t]);return o}function a(n){return\"\\\\\"+Y[n]\r\n}function i(){return v.pop()||[]}function l(){return y.pop()||{k:null,l:null,m:null,\"false\":false,n:0,\"null\":false,number:null,object:null,push:null,string:null,\"true\":false,undefined:false,o:null}}function f(n){return typeof n.toString!=\"function\"&&typeof(n+\"\")==\"string\"}function c(n){n.length=0,v.length<w&&v.push(n)}function p(n){var t=n.l;t&&p(t),n.k=n.l=n.m=n.object=n.number=n.string=n.o=null,y.length<w&&y.push(n)}function s(n,t,e){t||(t=0),typeof e==\"undefined\"&&(e=n?n.length:0);var r=-1;e=e-t||0;for(var u=Array(0>e?0:e);++r<e;)u[r]=n[t+r];\r\nreturn u}function g(e){function v(n){return n&&typeof n==\"object\"&&!qe(n)&&we.call(n,\"__wrapped__\")?n:new y(n)}function y(n,t){this.__chain__=!!t,this.__wrapped__=n}function w(n){function t(){if(r){var n=s(r);je.apply(n,arguments)}if(this instanceof t){var o=nt(e.prototype),n=e.apply(o,n||arguments);return xt(n)?n:o}return e.apply(u,n||arguments)}var e=n[0],r=n[2],u=n[4];return ze(t,n),t}function Y(n,t,e,r,u){if(e){var o=e(n);if(typeof o!=\"undefined\")return o}if(!xt(n))return n;var a=he.call(n);if(!V[a]||!Le.nodeClass&&f(n))return n;\r\nvar l=Te[a];switch(a){case L:case z:return new l(+n);case W:case M:return new l(n);case J:return o=l(n.source,S.exec(n)),o.lastIndex=n.lastIndex,o}if(a=qe(n),t){var p=!r;r||(r=i()),u||(u=i());for(var g=r.length;g--;)if(r[g]==n)return u[g];o=a?l(n.length):{}}else o=a?s(n):Ye({},n);return a&&(we.call(n,\"index\")&&(o.index=n.index),we.call(n,\"input\")&&(o.input=n.input)),t?(r.push(n),u.push(o),(a?Xe:tr)(n,function(n,a){o[a]=Y(n,t,e,r,u)}),p&&(c(r),c(u)),o):o}function nt(n){return xt(n)?Se(n):{}}function tt(n,t,e){if(typeof n!=\"function\")return Ht;\r\nif(typeof t==\"undefined\"||!(\"prototype\"in n))return n;var r=n.__bindData__;if(typeof r==\"undefined\"&&(Le.funcNames&&(r=!n.name),r=r||!Le.funcDecomp,!r)){var u=be.call(n);Le.funcNames||(r=!A.test(u)),r||(r=B.test(u),ze(n,r))}if(false===r||true!==r&&1&r[1])return n;switch(e){case 1:return function(e){return n.call(t,e)};case 2:return function(e,r){return n.call(t,e,r)};case 3:return function(e,r,u){return n.call(t,e,r,u)};case 4:return function(e,r,u,o){return n.call(t,e,r,u,o)}}return Mt(n,t)}function et(n){function t(){var n=l?a:this;\r\nif(u){var h=s(u);je.apply(h,arguments)}return(o||c)&&(h||(h=s(arguments)),o&&je.apply(h,o),c&&h.length<i)?(r|=16,et([e,p?r:-4&r,h,null,a,i])):(h||(h=arguments),f&&(e=n[g]),this instanceof t?(n=nt(e.prototype),h=e.apply(n,h),xt(h)?h:n):e.apply(n,h))}var e=n[0],r=n[1],u=n[2],o=n[3],a=n[4],i=n[5],l=1&r,f=2&r,c=4&r,p=8&r,g=e;return ze(t,n),t}function rt(e,r){var u=-1,a=ht(),i=e?e.length:0,l=i>=_&&a===n,f=[];if(l){var c=o(r);c?(a=t,r=c):l=false}for(;++u<i;)c=e[u],0>a(r,c)&&f.push(c);return l&&p(r),f}function ot(n,t,e,r){r=(r||0)-1;\r\nfor(var u=n?n.length:0,o=[];++r<u;){var a=n[r];if(a&&typeof a==\"object\"&&typeof a.length==\"number\"&&(qe(a)||dt(a))){t||(a=ot(a,t,e));var i=-1,l=a.length,f=o.length;for(o.length+=l;++i<l;)o[f++]=a[i]}else e||o.push(a)}return o}function at(n,t,e,r,u,o){if(e){var a=e(n,t);if(typeof a!=\"undefined\")return!!a}if(n===t)return 0!==n||1/n==1/t;if(n===n&&!(n&&X[typeof n]||t&&X[typeof t]))return false;if(null==n||null==t)return n===t;var l=he.call(n),p=he.call(t);if(l==T&&(l=G),p==T&&(p=G),l!=p)return false;switch(l){case L:case z:return+n==+t;\r\ncase W:return n!=+n?t!=+t:0==n?1/n==1/t:n==+t;case J:case M:return n==ie(t)}if(p=l==$,!p){var s=we.call(n,\"__wrapped__\"),g=we.call(t,\"__wrapped__\");if(s||g)return at(s?n.__wrapped__:n,g?t.__wrapped__:t,e,r,u,o);if(l!=G||!Le.nodeClass&&(f(n)||f(t)))return false;if(l=!Le.argsObject&&dt(n)?oe:n.constructor,s=!Le.argsObject&&dt(t)?oe:t.constructor,l!=s&&!(jt(l)&&l instanceof l&&jt(s)&&s instanceof s)&&\"constructor\"in n&&\"constructor\"in t)return false}for(l=!u,u||(u=i()),o||(o=i()),s=u.length;s--;)if(u[s]==n)return o[s]==t;\r\nvar h=0,a=true;if(u.push(n),o.push(t),p){if(s=n.length,h=t.length,(a=h==s)||r)for(;h--;)if(p=s,g=t[h],r)for(;p--&&!(a=at(n[p],g,e,r,u,o)););else if(!(a=at(n[h],g,e,r,u,o)))break}else nr(t,function(t,i,l){return we.call(l,i)?(h++,a=we.call(n,i)&&at(n[i],t,e,r,u,o)):void 0}),a&&!r&&nr(n,function(n,t,e){return we.call(e,t)?a=-1<--h:void 0});return u.pop(),o.pop(),l&&(c(u),c(o)),a}function it(n,t,e,r,u){(qe(t)?Dt:tr)(t,function(t,o){var a,i,l=t,f=n[o];if(t&&((i=qe(t))||er(t))){for(l=r.length;l--;)if(a=r[l]==t){f=u[l];\r\nbreak}if(!a){var c;e&&(l=e(f,t),c=typeof l!=\"undefined\")&&(f=l),c||(f=i?qe(f)?f:[]:er(f)?f:{}),r.push(t),u.push(f),c||it(f,t,e,r,u)}}else e&&(l=e(f,t),typeof l==\"undefined\"&&(l=t)),typeof l!=\"undefined\"&&(f=l);n[o]=f})}function lt(n,t){return n+de(Fe()*(t-n+1))}function ft(e,r,u){var a=-1,l=ht(),f=e?e.length:0,s=[],g=!r&&f>=_&&l===n,h=u||g?i():s;for(g&&(h=o(h),l=t);++a<f;){var v=e[a],y=u?u(v,a,e):v;(r?!a||h[h.length-1]!==y:0>l(h,y))&&((u||g)&&h.push(y),s.push(v))}return g?(c(h.k),p(h)):u&&c(h),s}function ct(n){return function(t,e,r){var u={};\r\nif(e=v.createCallback(e,r,3),qe(t)){r=-1;for(var o=t.length;++r<o;){var a=t[r];n(u,a,e(a,r,t),t)}}else Xe(t,function(t,r,o){n(u,t,e(t,r,o),o)});return u}}function pt(n,t,e,r,u,o){var a=1&t,i=4&t,l=16&t,f=32&t;if(!(2&t||jt(n)))throw new le;l&&!e.length&&(t&=-17,l=e=false),f&&!r.length&&(t&=-33,f=r=false);var c=n&&n.__bindData__;return c&&true!==c?(c=s(c),c[2]&&(c[2]=s(c[2])),c[3]&&(c[3]=s(c[3])),!a||1&c[1]||(c[4]=u),!a&&1&c[1]&&(t|=8),!i||4&c[1]||(c[5]=o),l&&je.apply(c[2]||(c[2]=[]),e),f&&Ee.apply(c[3]||(c[3]=[]),r),c[1]|=t,pt.apply(null,c)):(1==t||17===t?w:et)([n,t,e,r,u,o])\r\n}function st(){Q.h=F,Q.b=Q.c=Q.g=Q.i=\"\",Q.e=\"t\",Q.j=true;for(var n,t=0;n=arguments[t];t++)for(var e in n)Q[e]=n[e];t=Q.a,Q.d=/^[^,]+/.exec(t)[0],n=ee,t=\"return function(\"+t+\"){\",e=Q;var r=\"var n,t=\"+e.d+\",E=\"+e.e+\";if(!t)return E;\"+e.i+\";\";e.b?(r+=\"var u=t.length;n=-1;if(\"+e.b+\"){\",Le.unindexedChars&&(r+=\"if(s(t)){t=t.split('')}\"),r+=\"while(++n<u){\"+e.g+\";}}else{\"):Le.nonEnumArgs&&(r+=\"var u=t.length;n=-1;if(u&&p(t)){while(++n<u){n+='';\"+e.g+\";}}else{\"),Le.enumPrototypes&&(r+=\"var G=typeof t=='function';\"),Le.enumErrorProps&&(r+=\"var F=t===k||t instanceof Error;\");\r\nvar u=[];if(Le.enumPrototypes&&u.push('!(G&&n==\"prototype\")'),Le.enumErrorProps&&u.push('!(F&&(n==\"message\"||n==\"name\"))'),e.j&&e.f)r+=\"var C=-1,D=B[typeof t]&&v(t),u=D?D.length:0;while(++C<u){n=D[C];\",u.length&&(r+=\"if(\"+u.join(\"&&\")+\"){\"),r+=e.g+\";\",u.length&&(r+=\"}\"),r+=\"}\";else if(r+=\"for(n in t){\",e.j&&u.push(\"m.call(t, n)\"),u.length&&(r+=\"if(\"+u.join(\"&&\")+\"){\"),r+=e.g+\";\",u.length&&(r+=\"}\"),r+=\"}\",Le.nonEnumShadows){for(r+=\"if(t!==A){var i=t.constructor,r=t===(i&&i.prototype),f=t===J?I:t===k?j:L.call(t),x=y[f];\",k=0;7>k;k++)r+=\"n='\"+e.h[k]+\"';if((!(r&&x[n])&&m.call(t,n))\",e.j||(r+=\"||(!x[n]&&t[n]!==A[n])\"),r+=\"){\"+e.g+\"}\";\r\nr+=\"}\"}return(e.b||Le.nonEnumArgs)&&(r+=\"}\"),r+=e.c+\";return E\",n(\"d,j,k,m,o,p,q,s,v,A,B,y,I,J,L\",t+r+\"}\")(tt,q,ce,we,d,dt,qe,kt,Q.f,pe,X,$e,M,se,he)}function gt(n){return Ve[n]}function ht(){var t=(t=v.indexOf)===zt?n:t;return t}function vt(n){return typeof n==\"function\"&&ve.test(n)}function yt(n){var t,e;return!n||he.call(n)!=G||(t=n.constructor,jt(t)&&!(t instanceof t))||!Le.argsClass&&dt(n)||!Le.nodeClass&&f(n)?false:Le.ownLast?(nr(n,function(n,t,r){return e=we.call(r,t),false}),false!==e):(nr(n,function(n,t){e=t\r\n}),typeof e==\"undefined\"||we.call(n,e))}function mt(n){return He[n]}function dt(n){return n&&typeof n==\"object\"&&typeof n.length==\"number\"&&he.call(n)==T||false}function bt(n,t,e){var r=We(n),u=r.length;for(t=tt(t,e,3);u--&&(e=r[u],false!==t(n[e],e,n)););return n}function _t(n){var t=[];return nr(n,function(n,e){jt(n)&&t.push(e)}),t.sort()}function wt(n){for(var t=-1,e=We(n),r=e.length,u={};++t<r;){var o=e[t];u[n[o]]=o}return u}function jt(n){return typeof n==\"function\"}function xt(n){return!(!n||!X[typeof n])\r\n}function Ct(n){return typeof n==\"number\"||n&&typeof n==\"object\"&&he.call(n)==W||false}function kt(n){return typeof n==\"string\"||n&&typeof n==\"object\"&&he.call(n)==M||false}function Et(n){for(var t=-1,e=We(n),r=e.length,u=Zt(r);++t<r;)u[t]=n[e[t]];return u}function Ot(n,t,e){var r=-1,u=ht(),o=n?n.length:0,a=false;return e=(0>e?Be(0,o+e):e)||0,qe(n)?a=-1<u(n,t,e):typeof o==\"number\"?a=-1<(kt(n)?n.indexOf(t,e):u(n,t,e)):Xe(n,function(n){return++r<e?void 0:!(a=n===t)}),a}function St(n,t,e){var r=true;if(t=v.createCallback(t,e,3),qe(n)){e=-1;\r\nfor(var u=n.length;++e<u&&(r=!!t(n[e],e,n)););}else Xe(n,function(n,e,u){return r=!!t(n,e,u)});return r}function At(n,t,e){var r=[];if(t=v.createCallback(t,e,3),qe(n)){e=-1;for(var u=n.length;++e<u;){var o=n[e];t(o,e,n)&&r.push(o)}}else Xe(n,function(n,e,u){t(n,e,u)&&r.push(n)});return r}function It(n,t,e){if(t=v.createCallback(t,e,3),!qe(n)){var r;return Xe(n,function(n,e,u){return t(n,e,u)?(r=n,false):void 0}),r}e=-1;for(var u=n.length;++e<u;){var o=n[e];if(t(o,e,n))return o}}function Dt(n,t,e){if(t&&typeof e==\"undefined\"&&qe(n)){e=-1;\r\nfor(var r=n.length;++e<r&&false!==t(n[e],e,n););}else Xe(n,t,e);return n}function Nt(n,t,e){var r=n,u=n?n.length:0;if(t=t&&typeof e==\"undefined\"?t:tt(t,e,3),qe(n))for(;u--&&false!==t(n[u],u,n););else{if(typeof u!=\"number\")var o=We(n),u=o.length;else Le.unindexedChars&&kt(n)&&(r=n.split(\"\"));Xe(n,function(n,e,a){return e=o?o[--u]:--u,t(r[e],e,a)})}return n}function Bt(n,t,e){var r=-1,u=n?n.length:0,o=Zt(typeof u==\"number\"?u:0);if(t=v.createCallback(t,e,3),qe(n))for(;++r<u;)o[r]=t(n[r],r,n);else Xe(n,function(n,e,u){o[++r]=t(n,e,u)\r\n});return o}function Pt(n,t,e){var u=-1/0,o=u;if(typeof t!=\"function\"&&e&&e[t]===n&&(t=null),null==t&&qe(n)){e=-1;for(var a=n.length;++e<a;){var i=n[e];i>o&&(o=i)}}else t=null==t&&kt(n)?r:v.createCallback(t,e,3),Xe(n,function(n,e,r){e=t(n,e,r),e>u&&(u=e,o=n)});return o}function Rt(n,t,e,r){var u=3>arguments.length;if(t=v.createCallback(t,r,4),qe(n)){var o=-1,a=n.length;for(u&&(e=n[++o]);++o<a;)e=t(e,n[o],o,n)}else Xe(n,function(n,r,o){e=u?(u=false,n):t(e,n,r,o)});return e}function Ft(n,t,e,r){var u=3>arguments.length;\r\nreturn t=v.createCallback(t,r,4),Nt(n,function(n,r,o){e=u?(u=false,n):t(e,n,r,o)}),e}function Tt(n){var t=-1,e=n?n.length:0,r=Zt(typeof e==\"number\"?e:0);return Dt(n,function(n){var e=lt(0,++t);r[t]=r[e],r[e]=n}),r}function $t(n,t,e){var r;if(t=v.createCallback(t,e,3),qe(n)){e=-1;for(var u=n.length;++e<u&&!(r=t(n[e],e,n)););}else Xe(n,function(n,e,u){return!(r=t(n,e,u))});return!!r}function Lt(n,t,e){var r=0,u=n?n.length:0;if(typeof t!=\"number\"&&null!=t){var o=-1;for(t=v.createCallback(t,e,3);++o<u&&t(n[o],o,n);)r++\r\n}else if(r=t,null==r||e)return n?n[0]:h;return s(n,0,Pe(Be(0,r),u))}function zt(t,e,r){if(typeof r==\"number\"){var u=t?t.length:0;r=0>r?Be(0,u+r):r||0}else if(r)return r=Kt(t,e),t[r]===e?r:-1;return n(t,e,r)}function qt(n,t,e){if(typeof t!=\"number\"&&null!=t){var r=0,u=-1,o=n?n.length:0;for(t=v.createCallback(t,e,3);++u<o&&t(n[u],u,n);)r++}else r=null==t||e?1:Be(0,t);return s(n,r)}function Kt(n,t,e,r){var u=0,o=n?n.length:u;for(e=e?v.createCallback(e,r,1):Ht,t=e(t);u<o;)r=u+o>>>1,e(n[r])<t?u=r+1:o=r;\r\nreturn u}function Wt(n,t,e,r){return typeof t!=\"boolean\"&&null!=t&&(r=e,e=typeof t!=\"function\"&&r&&r[t]===n?null:t,t=false),null!=e&&(e=v.createCallback(e,r,3)),ft(n,t,e)}function Gt(){for(var n=1<arguments.length?arguments:arguments[0],t=-1,e=n?Pt(ar(n,\"length\")):0,r=Zt(0>e?0:e);++t<e;)r[t]=ar(n,t);return r}function Jt(n,t){var e=-1,r=n?n.length:0,u={};for(t||!r||qe(n[0])||(t=[]);++e<r;){var o=n[e];t?u[o]=t[e]:o&&(u[o[0]]=o[1])}return u}function Mt(n,t){return 2<arguments.length?pt(n,17,s(arguments,2),null,t):pt(n,1,null,null,t)\r\n}function Vt(n,t,e){var r,u,o,a,i,l,f,c=0,p=false,s=true;if(!jt(n))throw new le;if(t=Be(0,t)||0,true===e)var g=true,s=false;else xt(e)&&(g=e.leading,p=\"maxWait\"in e&&(Be(t,e.maxWait)||0),s=\"trailing\"in e?e.trailing:s);var v=function(){var e=t-(ir()-a);0<e?l=Ce(v,e):(u&&me(u),e=f,u=l=f=h,e&&(c=ir(),o=n.apply(i,r),l||u||(r=i=null)))},y=function(){l&&me(l),u=l=f=h,(s||p!==t)&&(c=ir(),o=n.apply(i,r),l||u||(r=i=null))};return function(){if(r=arguments,a=ir(),i=this,f=s&&(l||!g),false===p)var e=g&&!l;else{u||g||(c=a);\r\nvar h=p-(a-c),m=0>=h;m?(u&&(u=me(u)),c=a,o=n.apply(i,r)):u||(u=Ce(y,h))}return m&&l?l=me(l):l||t===p||(l=Ce(v,t)),e&&(m=true,o=n.apply(i,r)),!m||l||u||(r=i=null),o}}function Ht(n){return n}function Ut(n,t,e){var r=true,u=t&&_t(t);t&&(e||u.length)||(null==e&&(e=t),o=y,t=n,n=v,u=_t(t)),false===e?r=false:xt(e)&&\"chain\"in e&&(r=e.chain);var o=n,a=jt(o);Dt(u,function(e){var u=n[e]=t[e];a&&(o.prototype[e]=function(){var t=this.__chain__,e=this.__wrapped__,a=[e];if(je.apply(a,arguments),a=u.apply(n,a),r||t){if(e===a&&xt(a))return this;\r\na=new o(a),a.__chain__=t}return a})})}function Qt(){}function Xt(n){return function(t){return t[n]}}function Yt(){return this.__wrapped__}e=e?ut.defaults(Z.Object(),e,ut.pick(Z,R)):Z;var Zt=e.Array,ne=e.Boolean,te=e.Date,ee=e.Function,re=e.Math,ue=e.Number,oe=e.Object,ae=e.RegExp,ie=e.String,le=e.TypeError,fe=[],ce=e.Error.prototype,pe=oe.prototype,se=ie.prototype,ge=e._,he=pe.toString,ve=ae(\"^\"+ie(he).replace(/[.*+?^${}()|[\\]\\\\]/g,\"\\\\$&\").replace(/toString| for [^\\]]+/g,\".*?\")+\"$\"),ye=re.ceil,me=e.clearTimeout,de=re.floor,be=ee.prototype.toString,_e=vt(_e=oe.getPrototypeOf)&&_e,we=pe.hasOwnProperty,je=fe.push,xe=pe.propertyIsEnumerable,Ce=e.setTimeout,ke=fe.splice,Ee=fe.unshift,Oe=function(){try{var n={},t=vt(t=oe.defineProperty)&&t,e=t(n,n,n)&&t\r\n}catch(r){}return e}(),Se=vt(Se=oe.create)&&Se,Ae=vt(Ae=Zt.isArray)&&Ae,Ie=e.isFinite,De=e.isNaN,Ne=vt(Ne=oe.keys)&&Ne,Be=re.max,Pe=re.min,Re=e.parseInt,Fe=re.random,Te={};Te[$]=Zt,Te[L]=ne,Te[z]=te,Te[K]=ee,Te[G]=oe,Te[W]=ue,Te[J]=ae,Te[M]=ie;var $e={};$e[$]=$e[z]=$e[W]={constructor:true,toLocaleString:true,toString:true,valueOf:true},$e[L]=$e[M]={constructor:true,toString:true,valueOf:true},$e[q]=$e[K]=$e[J]={constructor:true,toString:true},$e[G]={constructor:true},function(){for(var n=F.length;n--;){var t,e=F[n];\r\nfor(t in $e)we.call($e,t)&&!we.call($e[t],e)&&($e[t][e]=false)}}(),y.prototype=v.prototype;var Le=v.support={};!function(){var n=function(){this.x=1},t={0:1,length:1},r=[];n.prototype={valueOf:1,y:1};for(var u in new n)r.push(u);for(u in arguments);Le.argsClass=he.call(arguments)==T,Le.argsObject=arguments.constructor==oe&&!(arguments instanceof Zt),Le.enumErrorProps=xe.call(ce,\"message\")||xe.call(ce,\"name\"),Le.enumPrototypes=xe.call(n,\"prototype\"),Le.funcDecomp=!vt(e.WinRTError)&&B.test(g),Le.funcNames=typeof ee.name==\"string\",Le.nonEnumArgs=0!=u,Le.nonEnumShadows=!/valueOf/.test(r),Le.ownLast=\"x\"!=r[0],Le.spliceObjects=(fe.splice.call(t,0,1),!t[0]),Le.unindexedChars=\"xx\"!=\"x\"[0]+oe(\"x\")[0];\r\ntry{Le.nodeClass=!(he.call(document)==G&&!({toString:0}+\"\"))}catch(o){Le.nodeClass=true}}(1),v.templateSettings={escape:/<%-([\\s\\S]+?)%>/g,evaluate:/<%([\\s\\S]+?)%>/g,interpolate:I,variable:\"\",imports:{_:v}},Se||(nt=function(){function n(){}return function(t){if(xt(t)){n.prototype=t;var r=new n;n.prototype=null}return r||e.Object()}}());var ze=Oe?function(n,t){U.value=t,Oe(n,\"__bindData__\",U)}:Qt;Le.argsClass||(dt=function(n){return n&&typeof n==\"object\"&&typeof n.length==\"number\"&&we.call(n,\"callee\")&&!xe.call(n,\"callee\")||false\r\n});var qe=Ae||function(n){return n&&typeof n==\"object\"&&typeof n.length==\"number\"&&he.call(n)==$||false},Ke=st({a:\"z\",e:\"[]\",i:\"if(!(B[typeof z]))return E\",g:\"E.push(n)\"}),We=Ne?function(n){return xt(n)?Le.enumPrototypes&&typeof n==\"function\"||Le.nonEnumArgs&&n.length&&dt(n)?Ke(n):Ne(n):[]}:Ke,Ge={a:\"g,e,K\",i:\"e=e&&typeof K=='undefined'?e:d(e,K,3)\",b:\"typeof u=='number'\",v:We,g:\"if(e(t[n],n,g)===false)return E\"},Je={a:\"z,H,l\",i:\"var a=arguments,b=0,c=typeof l=='number'?2:a.length;while(++b<c){t=a[b];if(t&&B[typeof t]){\",v:We,g:\"if(typeof E[n]=='undefined')E[n]=t[n]\",c:\"}}\"},Me={i:\"if(!B[typeof t])return E;\"+Ge.i,b:false},Ve={\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\",'\"':\"&quot;\",\"'\":\"&#39;\"},He=wt(Ve),Ue=ae(\"(\"+We(He).join(\"|\")+\")\",\"g\"),Qe=ae(\"[\"+We(Ve).join(\"\")+\"]\",\"g\"),Xe=st(Ge),Ye=st(Je,{i:Je.i.replace(\";\",\";if(c>3&&typeof a[c-2]=='function'){var e=d(a[--c-1],a[c--],2)}else if(c>2&&typeof a[c-1]=='function'){e=a[--c]}\"),g:\"E[n]=e?e(E[n],t[n]):t[n]\"}),Ze=st(Je),nr=st(Ge,Me,{j:false}),tr=st(Ge,Me);\r\njt(/x/)&&(jt=function(n){return typeof n==\"function\"&&he.call(n)==K});var er=_e?function(n){if(!n||he.call(n)!=G||!Le.argsClass&&dt(n))return false;var t=n.valueOf,e=vt(t)&&(e=_e(t))&&_e(e);return e?n==e||_e(n)==e:yt(n)}:yt,rr=ct(function(n,t,e){we.call(n,e)?n[e]++:n[e]=1}),ur=ct(function(n,t,e){(we.call(n,e)?n[e]:n[e]=[]).push(t)}),or=ct(function(n,t,e){n[e]=t}),ar=Bt,ir=vt(ir=te.now)&&ir||function(){return(new te).getTime()},lr=8==Re(j+\"08\")?Re:function(n,t){return Re(kt(n)?n.replace(D,\"\"):n,t||0)};\r\nreturn v.after=function(n,t){if(!jt(t))throw new le;return function(){return 1>--n?t.apply(this,arguments):void 0}},v.assign=Ye,v.at=function(n){var t=arguments,e=-1,r=ot(t,true,false,1),t=t[2]&&t[2][t[1]]===n?1:r.length,u=Zt(t);for(Le.unindexedChars&&kt(n)&&(n=n.split(\"\"));++e<t;)u[e]=n[r[e]];return u},v.bind=Mt,v.bindAll=function(n){for(var t=1<arguments.length?ot(arguments,true,false,1):_t(n),e=-1,r=t.length;++e<r;){var u=t[e];n[u]=pt(n[u],1,null,null,n)}return n},v.bindKey=function(n,t){return 2<arguments.length?pt(t,19,s(arguments,2),null,n):pt(t,3,null,null,n)\r\n},v.chain=function(n){return n=new y(n),n.__chain__=true,n},v.compact=function(n){for(var t=-1,e=n?n.length:0,r=[];++t<e;){var u=n[t];u&&r.push(u)}return r},v.compose=function(){for(var n=arguments,t=n.length;t--;)if(!jt(n[t]))throw new le;return function(){for(var t=arguments,e=n.length;e--;)t=[n[e].apply(this,t)];return t[0]}},v.constant=function(n){return function(){return n}},v.countBy=rr,v.create=function(n,t){var e=nt(n);return t?Ye(e,t):e},v.createCallback=function(n,t,e){var r=typeof n;if(null==n||\"function\"==r)return tt(n,t,e);\r\nif(\"object\"!=r)return Xt(n);var u=We(n),o=u[0],a=n[o];return 1!=u.length||a!==a||xt(a)?function(t){for(var e=u.length,r=false;e--&&(r=at(t[u[e]],n[u[e]],null,true)););return r}:function(n){return n=n[o],a===n&&(0!==a||1/a==1/n)}},v.curry=function(n,t){return t=typeof t==\"number\"?t:+t||n.length,pt(n,4,null,null,null,t)},v.debounce=Vt,v.defaults=Ze,v.defer=function(n){if(!jt(n))throw new le;var t=s(arguments,1);return Ce(function(){n.apply(h,t)},1)},v.delay=function(n,t){if(!jt(n))throw new le;var e=s(arguments,2);\r\nreturn Ce(function(){n.apply(h,e)},t)},v.difference=function(n){return rt(n,ot(arguments,true,true,1))},v.filter=At,v.flatten=function(n,t,e,r){return typeof t!=\"boolean\"&&null!=t&&(r=e,e=typeof t!=\"function\"&&r&&r[t]===n?null:t,t=false),null!=e&&(n=Bt(n,e,r)),ot(n,t)},v.forEach=Dt,v.forEachRight=Nt,v.forIn=nr,v.forInRight=function(n,t,e){var r=[];nr(n,function(n,t){r.push(t,n)});var u=r.length;for(t=tt(t,e,3);u--&&false!==t(r[u--],r[u],n););return n},v.forOwn=tr,v.forOwnRight=bt,v.functions=_t,v.groupBy=ur,v.indexBy=or,v.initial=function(n,t,e){var r=0,u=n?n.length:0;\r\nif(typeof t!=\"number\"&&null!=t){var o=u;for(t=v.createCallback(t,e,3);o--&&t(n[o],o,n);)r++}else r=null==t||e?1:t||r;return s(n,0,Pe(Be(0,u-r),u))},v.intersection=function(){for(var e=[],r=-1,u=arguments.length,a=i(),l=ht(),f=l===n,s=i();++r<u;){var g=arguments[r];(qe(g)||dt(g))&&(e.push(g),a.push(f&&g.length>=_&&o(r?e[r]:s)))}var f=e[0],h=-1,v=f?f.length:0,y=[];n:for(;++h<v;){var m=a[0],g=f[h];if(0>(m?t(m,g):l(s,g))){for(r=u,(m||s).push(g);--r;)if(m=a[r],0>(m?t(m,g):l(e[r],g)))continue n;y.push(g)\r\n}}for(;u--;)(m=a[u])&&p(m);return c(a),c(s),y},v.invert=wt,v.invoke=function(n,t){var e=s(arguments,2),r=-1,u=typeof t==\"function\",o=n?n.length:0,a=Zt(typeof o==\"number\"?o:0);return Dt(n,function(n){a[++r]=(u?t:n[t]).apply(n,e)}),a},v.keys=We,v.map=Bt,v.mapValues=function(n,t,e){var r={};return t=v.createCallback(t,e,3),tr(n,function(n,e,u){r[e]=t(n,e,u)}),r},v.max=Pt,v.memoize=function(n,t){if(!jt(n))throw new le;var e=function(){var r=e.cache,u=t?t.apply(this,arguments):b+arguments[0];return we.call(r,u)?r[u]:r[u]=n.apply(this,arguments)\r\n};return e.cache={},e},v.merge=function(n){var t=arguments,e=2;if(!xt(n))return n;if(\"number\"!=typeof t[2]&&(e=t.length),3<e&&\"function\"==typeof t[e-2])var r=tt(t[--e-1],t[e--],2);else 2<e&&\"function\"==typeof t[e-1]&&(r=t[--e]);for(var t=s(arguments,1,e),u=-1,o=i(),a=i();++u<e;)it(n,t[u],r,o,a);return c(o),c(a),n},v.min=function(n,t,e){var u=1/0,o=u;if(typeof t!=\"function\"&&e&&e[t]===n&&(t=null),null==t&&qe(n)){e=-1;for(var a=n.length;++e<a;){var i=n[e];i<o&&(o=i)}}else t=null==t&&kt(n)?r:v.createCallback(t,e,3),Xe(n,function(n,e,r){e=t(n,e,r),e<u&&(u=e,o=n)\r\n});return o},v.omit=function(n,t,e){var r={};if(typeof t!=\"function\"){var u=[];nr(n,function(n,t){u.push(t)});for(var u=rt(u,ot(arguments,true,false,1)),o=-1,a=u.length;++o<a;){var i=u[o];r[i]=n[i]}}else t=v.createCallback(t,e,3),nr(n,function(n,e,u){t(n,e,u)||(r[e]=n)});return r},v.once=function(n){var t,e;if(!jt(n))throw new le;return function(){return t?e:(t=true,e=n.apply(this,arguments),n=null,e)}},v.pairs=function(n){for(var t=-1,e=We(n),r=e.length,u=Zt(r);++t<r;){var o=e[t];u[t]=[o,n[o]]}return u\r\n},v.partial=function(n){return pt(n,16,s(arguments,1))},v.partialRight=function(n){return pt(n,32,null,s(arguments,1))},v.pick=function(n,t,e){var r={};if(typeof t!=\"function\")for(var u=-1,o=ot(arguments,true,false,1),a=xt(n)?o.length:0;++u<a;){var i=o[u];i in n&&(r[i]=n[i])}else t=v.createCallback(t,e,3),nr(n,function(n,e,u){t(n,e,u)&&(r[e]=n)});return r},v.pluck=ar,v.property=Xt,v.pull=function(n){for(var t=arguments,e=0,r=t.length,u=n?n.length:0;++e<r;)for(var o=-1,a=t[e];++o<u;)n[o]===a&&(ke.call(n,o--,1),u--);\r\nreturn n},v.range=function(n,t,e){n=+n||0,e=typeof e==\"number\"?e:+e||1,null==t&&(t=n,n=0);var r=-1;t=Be(0,ye((t-n)/(e||1)));for(var u=Zt(t);++r<t;)u[r]=n,n+=e;return u},v.reject=function(n,t,e){return t=v.createCallback(t,e,3),At(n,function(n,e,r){return!t(n,e,r)})},v.remove=function(n,t,e){var r=-1,u=n?n.length:0,o=[];for(t=v.createCallback(t,e,3);++r<u;)e=n[r],t(e,r,n)&&(o.push(e),ke.call(n,r--,1),u--);return o},v.rest=qt,v.shuffle=Tt,v.sortBy=function(n,t,e){var r=-1,o=qe(t),a=n?n.length:0,f=Zt(typeof a==\"number\"?a:0);\r\nfor(o||(t=v.createCallback(t,e,3)),Dt(n,function(n,e,u){var a=f[++r]=l();o?a.m=Bt(t,function(t){return n[t]}):(a.m=i())[0]=t(n,e,u),a.n=r,a.o=n}),a=f.length,f.sort(u);a--;)n=f[a],f[a]=n.o,o||c(n.m),p(n);return f},v.tap=function(n,t){return t(n),n},v.throttle=function(n,t,e){var r=true,u=true;if(!jt(n))throw new le;return false===e?r=false:xt(e)&&(r=\"leading\"in e?e.leading:r,u=\"trailing\"in e?e.trailing:u),H.leading=r,H.maxWait=t,H.trailing=u,Vt(n,t,H)},v.times=function(n,t,e){n=-1<(n=+n)?n:0;var r=-1,u=Zt(n);\r\nfor(t=tt(t,e,1);++r<n;)u[r]=t(r);return u},v.toArray=function(n){return n&&typeof n.length==\"number\"?Le.unindexedChars&&kt(n)?n.split(\"\"):s(n):Et(n)},v.transform=function(n,t,e,r){var u=qe(n);if(null==e)if(u)e=[];else{var o=n&&n.constructor;e=nt(o&&o.prototype)}return t&&(t=v.createCallback(t,r,4),(u?Xe:tr)(n,function(n,r,u){return t(e,n,r,u)})),e},v.union=function(){return ft(ot(arguments,true,true))},v.uniq=Wt,v.values=Et,v.where=At,v.without=function(n){return rt(n,s(arguments,1))},v.wrap=function(n,t){return pt(t,16,[n])\r\n},v.xor=function(){for(var n=-1,t=arguments.length;++n<t;){var e=arguments[n];if(qe(e)||dt(e))var r=r?ft(rt(r,e).concat(rt(e,r))):e}return r||[]},v.zip=Gt,v.zipObject=Jt,v.collect=Bt,v.drop=qt,v.each=Dt,v.eachRight=Nt,v.extend=Ye,v.methods=_t,v.object=Jt,v.select=At,v.tail=qt,v.unique=Wt,v.unzip=Gt,Ut(v),v.clone=function(n,t,e,r){return typeof t!=\"boolean\"&&null!=t&&(r=e,e=t,t=false),Y(n,t,typeof e==\"function\"&&tt(e,r,1))},v.cloneDeep=function(n,t,e){return Y(n,true,typeof t==\"function\"&&tt(t,e,1))},v.contains=Ot,v.escape=function(n){return null==n?\"\":ie(n).replace(Qe,gt)\r\n},v.every=St,v.find=It,v.findIndex=function(n,t,e){var r=-1,u=n?n.length:0;for(t=v.createCallback(t,e,3);++r<u;)if(t(n[r],r,n))return r;return-1},v.findKey=function(n,t,e){var r;return t=v.createCallback(t,e,3),tr(n,function(n,e,u){return t(n,e,u)?(r=e,false):void 0}),r},v.findLast=function(n,t,e){var r;return t=v.createCallback(t,e,3),Nt(n,function(n,e,u){return t(n,e,u)?(r=n,false):void 0}),r},v.findLastIndex=function(n,t,e){var r=n?n.length:0;for(t=v.createCallback(t,e,3);r--;)if(t(n[r],r,n))return r;\r\nreturn-1},v.findLastKey=function(n,t,e){var r;return t=v.createCallback(t,e,3),bt(n,function(n,e,u){return t(n,e,u)?(r=e,false):void 0}),r},v.has=function(n,t){return n?we.call(n,t):false},v.identity=Ht,v.indexOf=zt,v.isArguments=dt,v.isArray=qe,v.isBoolean=function(n){return true===n||false===n||n&&typeof n==\"object\"&&he.call(n)==L||false},v.isDate=function(n){return n&&typeof n==\"object\"&&he.call(n)==z||false},v.isElement=function(n){return n&&1===n.nodeType||false},v.isEmpty=function(n){var t=true;if(!n)return t;var e=he.call(n),r=n.length;\r\nreturn e==$||e==M||(Le.argsClass?e==T:dt(n))||e==G&&typeof r==\"number\"&&jt(n.splice)?!r:(tr(n,function(){return t=false}),t)},v.isEqual=function(n,t,e,r){return at(n,t,typeof e==\"function\"&&tt(e,r,2))},v.isFinite=function(n){return Ie(n)&&!De(parseFloat(n))},v.isFunction=jt,v.isNaN=function(n){return Ct(n)&&n!=+n},v.isNull=function(n){return null===n},v.isNumber=Ct,v.isObject=xt,v.isPlainObject=er,v.isRegExp=function(n){return n&&X[typeof n]&&he.call(n)==J||false},v.isString=kt,v.isUndefined=function(n){return typeof n==\"undefined\"\r\n},v.lastIndexOf=function(n,t,e){var r=n?n.length:0;for(typeof e==\"number\"&&(r=(0>e?Be(0,r+e):Pe(e,r-1))+1);r--;)if(n[r]===t)return r;return-1},v.mixin=Ut,v.noConflict=function(){return e._=ge,this},v.noop=Qt,v.now=ir,v.parseInt=lr,v.random=function(n,t,e){var r=null==n,u=null==t;return null==e&&(typeof n==\"boolean\"&&u?(e=n,n=1):u||typeof t!=\"boolean\"||(e=t,u=true)),r&&u&&(t=1),n=+n||0,u?(t=n,n=0):t=+t||0,e||n%1||t%1?(e=Fe(),Pe(n+e*(t-n+parseFloat(\"1e-\"+((e+\"\").length-1))),t)):lt(n,t)},v.reduce=Rt,v.reduceRight=Ft,v.result=function(n,t){if(n){var e=n[t];\r\nreturn jt(e)?n[t]():e}},v.runInContext=g,v.size=function(n){var t=n?n.length:0;return typeof t==\"number\"?t:We(n).length},v.some=$t,v.sortedIndex=Kt,v.template=function(n,t,e){var r=v.templateSettings;n=ie(n||\"\"),e=Ze({},e,r);var u,o=Ze({},e.imports,r.imports),r=We(o),o=Et(o),i=0,l=e.interpolate||N,f=\"__p+='\",l=ae((e.escape||N).source+\"|\"+l.source+\"|\"+(l===I?O:N).source+\"|\"+(e.evaluate||N).source+\"|$\",\"g\");n.replace(l,function(t,e,r,o,l,c){return r||(r=o),f+=n.slice(i,c).replace(P,a),e&&(f+=\"'+__e(\"+e+\")+'\"),l&&(u=true,f+=\"';\"+l+\";\\n__p+='\"),r&&(f+=\"'+((__t=(\"+r+\"))==null?'':__t)+'\"),i=c+t.length,t\r\n}),f+=\"';\",l=e=e.variable,l||(e=\"obj\",f=\"with(\"+e+\"){\"+f+\"}\"),f=(u?f.replace(x,\"\"):f).replace(C,\"$1\").replace(E,\"$1;\"),f=\"function(\"+e+\"){\"+(l?\"\":e+\"||(\"+e+\"={});\")+\"var __t,__p='',__e=_.escape\"+(u?\",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}\":\";\")+f+\"return __p}\";try{var c=ee(r,\"return \"+f).apply(h,o)}catch(p){throw p.source=f,p}return t?c(t):(c.source=f,c)},v.unescape=function(n){return null==n?\"\":ie(n).replace(Ue,mt)},v.uniqueId=function(n){var t=++m;return ie(null==n?\"\":n)+t\r\n},v.all=St,v.any=$t,v.detect=It,v.findWhere=It,v.foldl=Rt,v.foldr=Ft,v.include=Ot,v.inject=Rt,Ut(function(){var n={};return tr(v,function(t,e){v.prototype[e]||(n[e]=t)}),n}(),false),v.first=Lt,v.last=function(n,t,e){var r=0,u=n?n.length:0;if(typeof t!=\"number\"&&null!=t){var o=u;for(t=v.createCallback(t,e,3);o--&&t(n[o],o,n);)r++}else if(r=t,null==r||e)return n?n[u-1]:h;return s(n,Be(0,u-r))},v.sample=function(n,t,e){return n&&typeof n.length!=\"number\"?n=Et(n):Le.unindexedChars&&kt(n)&&(n=n.split(\"\")),null==t||e?n?n[lt(0,n.length-1)]:h:(n=Tt(n),n.length=Pe(Be(0,t),n.length),n)\r\n},v.take=Lt,v.head=Lt,tr(v,function(n,t){var e=\"sample\"!==t;v.prototype[t]||(v.prototype[t]=function(t,r){var u=this.__chain__,o=n(this.__wrapped__,t,r);return u||null!=t&&(!r||e&&typeof t==\"function\")?new y(o,u):o})}),v.VERSION=\"2.4.1\",v.prototype.chain=function(){return this.__chain__=true,this},v.prototype.toString=function(){return ie(this.__wrapped__)},v.prototype.value=Yt,v.prototype.valueOf=Yt,Xe([\"join\",\"pop\",\"shift\"],function(n){var t=fe[n];v.prototype[n]=function(){var n=this.__chain__,e=t.apply(this.__wrapped__,arguments);\r\nreturn n?new y(e,n):e}}),Xe([\"push\",\"reverse\",\"sort\",\"unshift\"],function(n){var t=fe[n];v.prototype[n]=function(){return t.apply(this.__wrapped__,arguments),this}}),Xe([\"concat\",\"slice\",\"splice\"],function(n){var t=fe[n];v.prototype[n]=function(){return new y(t.apply(this.__wrapped__,arguments),this.__chain__)}}),Le.spliceObjects||Xe([\"pop\",\"shift\",\"splice\"],function(n){var t=fe[n],e=\"splice\"==n;v.prototype[n]=function(){var n=this.__chain__,r=this.__wrapped__,u=t.apply(r,arguments);return 0===r.length&&delete r[0],n||e?new y(u,n):u\r\n}}),v}var h,v=[],y=[],m=0,d={},b=+new Date+\"\",_=75,w=40,j=\" \\t\\x0B\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\",x=/\\b__p\\+='';/g,C=/\\b(__p\\+=)''\\+/g,E=/(__e\\(.*?\\)|\\b__t\\))\\+'';/g,O=/\\$\\{([^\\\\}]*(?:\\\\.[^\\\\}]*)*)\\}/g,S=/\\w*$/,A=/^\\s*function[ \\n\\r\\t]+\\w/,I=/<%=([\\s\\S]+?)%>/g,D=RegExp(\"^[\"+j+\"]*0+(?=.$)\"),N=/($^)/,B=/\\bthis\\b/,P=/['\\n\\r\\t\\u2028\\u2029\\\\]/g,R=\"Array Boolean Date Error Function Math Number Object RegExp String _ attachEvent clearTimeout isFinite isNaN parseInt setTimeout\".split(\" \"),F=\"constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf\".split(\" \"),T=\"[object Arguments]\",$=\"[object Array]\",L=\"[object Boolean]\",z=\"[object Date]\",q=\"[object Error]\",K=\"[object Function]\",W=\"[object Number]\",G=\"[object Object]\",J=\"[object RegExp]\",M=\"[object String]\",V={};\r\nV[K]=false,V[T]=V[$]=V[L]=V[z]=V[W]=V[G]=V[J]=V[M]=true;var H={leading:false,maxWait:0,trailing:false},U={configurable:false,enumerable:false,value:null,writable:false},Q={a:\"\",b:null,c:\"\",d:\"\",e:\"\",v:null,g:\"\",h:null,support:null,i:\"\",j:false},X={\"boolean\":false,\"function\":true,object:true,number:false,string:false,undefined:false},Y={\"\\\\\":\"\\\\\",\"'\":\"'\",\"\\n\":\"n\",\"\\r\":\"r\",\"\\t\":\"t\",\"\\u2028\":\"u2028\",\"\\u2029\":\"u2029\"},Z=X[typeof window]&&window||this,nt=X[typeof exports]&&exports&&!exports.nodeType&&exports,tt=X[typeof module]&&module&&!module.nodeType&&module,et=tt&&tt.exports===nt&&nt,rt=X[typeof global]&&global;\r\n!rt||rt.global!==rt&&rt.window!==rt||(Z=rt);var ut=g();typeof define==\"function\"&&typeof define.amd==\"object\"&&define.amd?(Z._=ut, define('taoQtiItem/portableLib/lodash',[],function(){return ut})):nt&&tt?et?(tt.exports=ut)._=ut:nt._=ut:Z._=ut}).call(this);\n","define('taoQtiItem/portableLib/OAT/util/EventMgr',['taoQtiItem/portableLib/lodash'], function(_){\r\n    'use strict';\r\n\r\n    return function EventMgr(){\r\n        \r\n        var events = {};\r\n        \r\n        this.get = function get(event){\r\n            if(event && events[event]){\r\n                return _.clone(events[event]);\r\n            }else{\r\n                return [];\r\n            }\r\n        };\r\n        \r\n        this.on = function on(event, callback){\r\n            var name;\r\n            var tokens = event.split('.');\r\n            if(tokens[0]){\r\n                name = tokens.shift();\r\n                events[name] = events[name] || [];\r\n                events[name].push({\r\n                    ns : tokens,\r\n                    callback : callback\r\n                });\r\n            }\r\n        };\r\n        \r\n        this.off = function off(event){\r\n            if(event && events[event]){\r\n                events[event] = [];\r\n            }\r\n        };\r\n        \r\n        this.trigger = function trigger(event, data){\r\n            if(events[event]){\r\n                _.forEach(events[event], function(e){\r\n                    e.callback.apply({\r\n                        type : event,\r\n                        ns : []\r\n                    }, data);\r\n                });\r\n            }\r\n        };\r\n    };\r\n});\n","define('taoQtiItem/portableLib/OAT/util/event',['taoQtiItem/portableLib/OAT/util/EventMgr'], function(EventMgr){\r\n\r\n    return {\r\n        addEventMgr : function(instance){\r\n\r\n            var eventMgr = new EventMgr();\r\n\r\n            instance.on = function on(event, callback){\r\n                eventMgr.on(event, callback);\r\n            };\r\n            instance.off = function off(event){\r\n                eventMgr.off(event);\r\n            };\r\n            instance.trigger = function trigger(event, data){\r\n                eventMgr.trigger(event, data);\r\n            };\r\n\r\n        }\r\n    };\r\n});\n","/*\r\n\r\nBuild by Wiquid's PCI Generator for TAO platform Free to use - http://www.wiquid.fr/depp/ent/\r\nCopyright DEPP © 2018 - Ministère de l'éducation nationale \r\n\r\n*/\r\n\r\ndefine('SnapForTao/runtime/SnapForTao.amd',['qtiCustomInteractionContext', 'taoQtiItem/portableLib/jquery_2_1_1', 'SnapForTao/runtime/js/renderer', 'SnapForTao/runtime/js/lib/snapsrc','taoQtiItem/portableLib/OAT/util/event', 'taoQtiItem/portableLib/lodash' ], function(qtiCustomInteractionContext, $, renderer, snapsrc,event, _){\r\n    'use strict';\r\n\r\n    var SnapForTao = {\r\n        id : -1,\r\n        getTypeIdentifier : function getTypeIdentifier(){\r\n            return 'SnapForTao';\r\n        },\r\n        /**\r\n         * Render the PCI : \r\n         * @param {String} id\r\n         * @param {Node} dom\r\n         * @param {Object} config - json\r\n         */\r\n        initialize : function initialize(id, dom, config, assetManager){\r\n\r\n            //add method on(), off() and trigger() to the current object\r\n            event.addEventMgr(this);\r\n            var customSnapContext = {};\r\n            event.addEventMgr(customSnapContext);\r\n\r\n            var _this = this;\r\n            this.id = id;\r\n            this.dom = dom;\r\n            this.config = config || {};\r\n            this.config.customSnapContext = customSnapContext;\r\n            \r\n\r\n            customSnapContext.on('rawDefinitionChange',function(value){\r\n                _this.trigger('scriptSaverChange', [value]);\r\n\r\n            });\r\n\r\n            renderer.render(this.id, this.dom, this.config, assetManager);\r\n            //tell the rendering engine that I am ready\r\n            qtiCustomInteractionContext.notifyReady(this);\r\n\r\n            //listening to dynamic configuration change for 1.panelSizer 2.testLimiter 3.scriptImporter 4.snapScript\r\n            this.on('panelSizerChange', function(level){\r\n                _this.config.panelSizer = level;\r\n                renderer.renderSnap(_this.id, _this.dom, _this.config);\r\n                if(level == 'nonVisible'){\r\n                    snapsrc.snap.world.leftReducer();                       \r\n                }\r\n                else{snapsrc.snap.world.leftExpand();}\r\n                \r\n            });\r\n\r\n            this.on('testLimiterChange', function(limiter){\r\n                _this.config.testlimiter = limiter;\r\n                renderer.renderSnap(_this.id, _this.dom, _this.config);\r\n            });\r\n\r\n            this.on('scriptImporterChange', function(){\r\n                // Importator function open file explorer to find xml project.\r\n                snapsrc.snap.world.importator();\r\n                renderer.renderSnap(_this.id, _this.dom, _this.config);\r\n                \r\n            });\r\n\r\n\r\n        },\r\n        /**\r\n         * Programmatically set the response following the json schema described in\r\n         * http://www.imsglobal.org/assessment/pciv1p0cf/imsPCIv1p0cf.html#_Toc353965343\r\n         * \r\n         * @param {Object} interaction\r\n         * @param {Object} response\r\n         */\r\n        setResponse : function setResponse(response){\r\n           \r\n        },\r\n        /**\r\n         * Get the response in the json format described in\r\n         * http://www.imsglobal.org/assessment/pciv1p0cf/imsPCIv1p0cf.html#_Toc353965343\r\n         * \r\n         * @param {Object} interaction\r\n         * @returns {Object}\r\n         */\r\n        getResponse : function getResponse(){\r\n            var $container = $(this.dom);\r\n          \r\n            var canvasArrLenght = $container.find(\".world\").length; \r\n            canvasArrLenght = canvasArrLenght - 1;\r\n            var canvas = $container.find(\".world\")[canvasArrLenght] ;\r\n          \r\n            var dataURL = canvas.toDataURL();\r\n        \r\n            var value = dataURL + $container.find(\".compteur\").html();// Check this\r\n\r\n            return {base : {string : value}};\r\n        },\r\n        /**\r\n         * Remove the current response set in the interaction\r\n         * The state may not be restored at this point.\r\n         * \r\n         * @param {Object} interaction\r\n         */\r\n        resetResponse : function resetResponse(){\r\n        \r\n        },\r\n        /**\r\n         * Reverse operation performed by render()\r\n         * After this function is executed, only the inital naked markup remains \r\n         * Event listeners are removed and the state and the response are reset\r\n         * \r\n         * @param {Object} interaction\r\n         */\r\n        destroy : function destroy(config){\r\n            var $container = $(this.dom);\r\n            $container.off().empty();\r\n\r\n            $(window).off('resize.snap');\r\n           \r\n        },\r\n        /**\r\n         * Restore the state of the interaction from the serializedState.\r\n         * \r\n         * @param {Object} interaction\r\n         * @param {Object} serializedState - json format\r\n         */\r\n        setSerializedState : function setSerializedState(state){\r\n              \r\n        },\r\n        /**\r\n         * Get the current state of the interaction as a string.\r\n         * It enables saving the state for later usage.\r\n         * \r\n         * @param {Object} interaction\r\n         * @returns {Object} json format\r\n         */\r\n        getSerializedState : function getSerializedState(){\r\n\r\n            return {};\r\n        }\r\n    };\r\n\r\n    qtiCustomInteractionContext.register(SnapForTao);\r\n});\r\n\n"]}